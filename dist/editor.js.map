{"version":3,"sources":["webpack://editor/webpack/universalModuleDefinition","webpack://editor/webpack/bootstrap","webpack://editor/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://editor/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://editor/./node_modules/@babel/runtime/helpers/createClass.js","webpack://editor/./node_modules/@babel/runtime/helpers/inherits.js","webpack://editor/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://editor/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://editor/./node_modules/@babel/runtime/helpers/get.js","webpack://editor/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://editor/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://editor/./node_modules/@babel/runtime/regenerator/index.js","webpack://editor/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://editor/./node_modules/@babel/runtime/helpers/toArray.js","webpack://editor/./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js","webpack://editor/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://editor/./node_modules/@babel/runtime/helpers/typeof.js","webpack://editor/./node_modules/js-video-url-parser/dist/jsVideoUrlParser.js","webpack://editor/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://editor/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://editor/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://editor/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://editor/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://editor/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://editor/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://editor/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://editor/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://editor/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://editor/./node_modules/regenerator-runtime/runtime.js","webpack://editor/./src/el/sapa/Event.js","webpack://editor/./src/el/sapa/functions/func.js","webpack://editor/./node_modules/gl-matrix/esm/common.js","webpack://editor/./node_modules/gl-matrix/esm/mat4.js","webpack://editor/./node_modules/gl-matrix/esm/vec3.js","webpack://editor/./node_modules/gl-matrix/esm/vec4.js","webpack://editor/./node_modules/gl-matrix/esm/quat.js","webpack://editor/./node_modules/gl-matrix/esm/mat3.js","webpack://editor/./node_modules/gl-matrix/esm/vec2.js","webpack://editor/./src/el/utils/math.js","webpack://editor/./src/el/editor/unit/Length.js","webpack://editor/./src/el/editor/items/Item.js","webpack://editor/./src/el/sapa/functions/DomDiff.js","webpack://editor/./src/el/sapa/functions/uuid.js","webpack://editor/./src/el/sapa/functions/registElement.js","webpack://editor/./src/el/sapa/functions/Dom.js","webpack://editor/./src/el/sapa/handler/BaseHandler.js","webpack://editor/./src/el/sapa/handler/DomEventHandler.js","webpack://editor/./src/el/sapa/handler/BindHandler.js","webpack://editor/./src/el/sapa/EventMachine.js","webpack://editor/./src/el/sapa/BaseStore.js","webpack://editor/./src/el/editor/ui/theme/index.js","webpack://editor/./src/el/editor/ui/theme/dark.js","webpack://editor/./src/el/editor/ui/theme/light.js","webpack://editor/./src/el/editor/manager/TimelineSelectionManager.js","webpack://editor/./src/el/editor/property-parser/TransformOriginCache.js","webpack://editor/./src/el/editor/property-parser/TransformOrigin.js","webpack://editor/./src/el/utils/collision.js","webpack://editor/./src/el/utils/time.js","webpack://editor/./src/el/utils/bezier.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateNumber.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateIdentity.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateLength.js","webpack://editor/./src/el/editor/property-parser/BorderRadius.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateBorderRadius.js","webpack://editor/./src/el/utils/formatter.js","webpack://editor/./src/el/utils/create.js","webpack://editor/./src/el/utils/func.js","webpack://editor/./src/el/editor/items/PropertyItem.js","webpack://editor/./src/el/utils/ColorNames.js","webpack://editor/./src/el/utils/fromLAB.js","webpack://editor/./src/el/utils/fromRGB.js","webpack://editor/./src/el/utils/fromHSL.js","webpack://editor/./src/el/utils/parser.js","webpack://editor/./src/el/editor/property-parser/BoxShadow.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateBoolean.js","webpack://editor/./src/el/utils/fromCMYK.js","webpack://editor/./src/el/utils/fromHSV.js","webpack://editor/./src/el/utils/fromYCrCb.js","webpack://editor/./src/el/utils/mixin.js","webpack://editor/./src/el/utils/Color.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateColor.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateBoxShadow.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateString.js","webpack://editor/./src/el/editor/interpolate/timing-functions/steps.js","webpack://editor/./src/el/editor/interpolate/timing-functions/ease-out-elastic.js","webpack://editor/./src/el/editor/interpolate/timing-functions/index.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateRotate.js","webpack://editor/./src/el/editor/property-parser/TextShadow.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateTextShadow.js","webpack://editor/./src/el/editor/property-parser/image-resource/ImageResource.js","webpack://editor/./src/el/editor/property-parser/image-resource/ColorStep.js","webpack://editor/./src/el/editor/property-parser/image-resource/Gradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/StaticGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/URLImageResource.js","webpack://editor/./src/el/editor/property-parser/image-resource/LinearGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/RepeatingLinearGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/RadialGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/RepeatingRadialGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/ConicGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/RepeatingConicGradient.js","webpack://editor/./src/el/editor/property-parser/BackgroundImage.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateColorStep.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateColorStepList.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateLinearGradient.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateRadialGradient.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateConicGradient.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateImageResource.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateRepeatingLinearGradient.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateRepeatingRadialGradient.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateRepeatingConicGradient.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateBackgroundImage.js","webpack://editor/./src/el/editor/property-parser/Filter.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateFilterItem.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateFilter.js","webpack://editor/./src/el/editor/unit/DirectionLength.js","webpack://editor/./src/el/editor/property-parser/ClipPath.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateClipPath.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/clip-path/makeInterpolateClipPathCircle.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/clip-path/makeInterpolateClipPathEllipse.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/clip-path/makeInterpolateClipPathInset.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/clip-path/makeInterpolateClipPathPolygon.js","webpack://editor/./src/el/editor/property-parser/TransformCache.js","webpack://editor/./src/el/editor/property-parser/Transform.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/transform/makeInterpolateTransformLength.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/transform/makeInterpolateTransformNumber.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/transform/makeInterpolateTransformRotate.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateTransform.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateTransformOrigin.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolatePerspectiveOrigin.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateStrokeDashArray.js","webpack://editor/./src/el/editor/parser/Point.js","webpack://editor/./src/el/editor/parser/Segment.js","webpack://editor/./src/el/editor/parser/PathParser.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/svg/makeInterpolatePathValues.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/svg/makeInterpolatePath.js","webpack://editor/./src/el/editor/parser/PathStringManager.js","webpack://editor/./src/el/editor/parser/PolygonParser.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/svg/makeInterpolatePolygon.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/offset-path/makeInterpolateLine.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/offset-path/makeInterpolateQuard.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/offset-path/makeInterpolateCubic.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateOffsetPath.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/offset-path/makeInterpolateOffset.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateText.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolatePlayTime.js","webpack://editor/./src/el/editor/interpolate/index.js","webpack://editor/./src/el/editor/property-parser/Offset.js","webpack://editor/./src/el/editor/property-parser/Keyframe.js","webpack://editor/./src/el/editor/manager/ComponentManager.js","webpack://editor/./src/el/editor/manager/ModelManager.js","webpack://editor/./src/el/editor/model/BaseModel.js","webpack://editor/./src/el/editor/model/TimelineModel.js","webpack://editor/./src/el/editor/model/AssetModel.js","webpack://editor/./src/plugins/default-items/layers/Project.js","webpack://editor/./src/el/editor/manager/SelectionManager.js","webpack://editor/./src/el/editor/commands/_doForceRefreshSelection.js","webpack://editor/./src/el/editor/commands/clipboard.copy.js","webpack://editor/./src/el/editor/commands/clipboard.paste.js","webpack://editor/./src/el/editor/commands/fileDropItems.js","webpack://editor/./src/el/editor/commands/updateImage.js","webpack://editor/./src/el/editor/commands/updateVideo.js","webpack://editor/./src/el/editor/util/loadOriginalImage.js","webpack://editor/./src/el/editor/commands/addImageAssetItem.js","webpack://editor/./src/el/editor/util/loadOriginalVideo.js","webpack://editor/./src/el/editor/commands/addVideoAssetItem.js","webpack://editor/./src/el/editor/commands/dropImageUrl.js","webpack://editor/./src/el/editor/commands/addSVGFilterAssetItem.js","webpack://editor/./src/el/editor/commands/updateImageAssetItem.js","webpack://editor/./src/el/editor/commands/updateVideoAssetItem.js","webpack://editor/./src/el/editor/parser/AssetParser.js","webpack://editor/./src/el/editor/commands/updateUriList.js","webpack://editor/./src/el/editor/util/downloadFile.js","webpack://editor/./src/el/editor/commands/downloadJSON.js","webpack://editor/./src/el/editor/manager/ExportManager.js","webpack://editor/./src/el/editor/commands/downloadSVG.js","webpack://editor/./src/el/editor/util/createImagePng.js","webpack://editor/./src/el/editor/commands/downloadPNG.js","webpack://editor/./src/el/editor/commands/load.json.js","webpack://editor/./src/el/editor/commands/_currentProject.js","webpack://editor/./src/el/editor/commands/addTimelineProperty.js","webpack://editor/./src/el/editor/commands/setTimelineOffset.js","webpack://editor/./src/el/editor/commands/addTimelineCurrentProperty.js","webpack://editor/./src/el/editor/commands/removeTimelineProperty.js","webpack://editor/./src/el/editor/commands/deleteTimelineKeyframe.js","webpack://editor/./src/el/editor/commands/selectTimelineItem.js","webpack://editor/./src/el/editor/commands/removeTimeline.js","webpack://editor/./src/el/editor/commands/removeAnimationItem.js","webpack://editor/./src/el/editor/commands/addTimelineKeyframe.js","webpack://editor/./src/el/editor/commands/copyTimelineProperty.js","webpack://editor/./src/el/editor/commands/playTimelineItem.js","webpack://editor/./src/el/editor/commands/prevTimelineItem.js","webpack://editor/./src/el/editor/commands/firstTimelineItem.js","webpack://editor/./src/el/editor/commands/nextTimelineItem.js","webpack://editor/./src/el/editor/commands/lastTimelineItem.js","webpack://editor/./src/el/editor/commands/addTimelineItem.js","webpack://editor/./src/el/editor/commands/drop.asset.js","webpack://editor/./src/el/editor/commands/addBackgroundImageGradient.js","webpack://editor/./src/el/editor/commands/addBackgroundImageAsset.js","webpack://editor/./src/el/editor/commands/removeLayer.js","webpack://editor/./src/el/editor/commands/push.mode.view.js","webpack://editor/./src/el/editor/commands/segment.move.down.js","webpack://editor/./src/el/editor/commands/segment.move.up.js","webpack://editor/./src/el/editor/commands/segment.move.right.js","webpack://editor/./src/el/editor/commands/segment.move.left.js","webpack://editor/./src/el/editor/property-parser/PatternCache.js","webpack://editor/./src/el/editor/property-parser/Pattern.js","webpack://editor/./src/el/editor/commands/addBackgroundImagePattern.js","webpack://editor/./src/el/editor/commands/addBackgroundColor.js","webpack://editor/./src/el/editor/commands/sort.center.js","webpack://editor/./src/el/editor/commands/sort.left.js","webpack://editor/./src/el/editor/commands/sort.middle.js","webpack://editor/./src/el/editor/commands/sort.bottom.js","webpack://editor/./src/el/editor/commands/sort.top.js","webpack://editor/./src/el/editor/commands/sort.right.js","webpack://editor/./src/el/editor/commands/same.width.js","webpack://editor/./src/el/editor/commands/same.height.js","webpack://editor/./src/el/editor/commands/addLayerView.js","webpack://editor/./src/el/editor/commands/setEditorLayout.js","webpack://editor/./src/el/editor/commands/item.move.depth.down.js","webpack://editor/./src/el/editor/commands/item.move.depth.up.js","webpack://editor/./src/el/editor/commands/group.item.js","webpack://editor/./src/el/editor/commands/ungroup.item.js","webpack://editor/./src/el/editor/commands/history.refreshSelection.js","webpack://editor/./src/el/editor/commands/setAttributeForMulti.js","webpack://editor/./src/el/editor/commands/history.setAttributeForMulti.js","webpack://editor/./src/el/editor/commands/history.addLayer.js","webpack://editor/./src/el/editor/commands/history.removeLayer.js","webpack://editor/./src/el/editor/commands/updatePathItem.js","webpack://editor/./src/el/editor/commands/moveLayer.js","webpack://editor/./src/el/editor/commands/moveToCenter.js","webpack://editor/./src/el/editor/commands/moveLayerForItems.js","webpack://editor/./src/el/editor/commands/moveSelectionToCenter.js","webpack://editor/./src/el/editor/commands/savePNG.js","webpack://editor/./src/el/editor/commands/refreshCursor.js","webpack://editor/./src/el/editor/commands/open.editor.js","webpack://editor/./src/el/editor/commands/index.js","webpack://editor/./src/el/editor/commands/model/update.js","webpack://editor/./src/el/editor/commands/pop.mode.view.js","webpack://editor/./src/el/editor/commands/doubleclick.item.js","webpack://editor/./src/el/editor/commands/refreshHistory.js","webpack://editor/./src/el/editor/commands/convertPasteText.js","webpack://editor/./src/el/editor/commands/recoverCursor.js","webpack://editor/./src/el/editor/commands/toggle.tool.hand.js","webpack://editor/./src/el/editor/commands/rotateLayer.js","webpack://editor/./src/el/editor/commands/history.removeProject.js","webpack://editor/./src/el/editor/commands/history.refreshSelectionProject.js","webpack://editor/./src/el/editor/commands/history.redo.js","webpack://editor/./src/el/editor/commands/history.undo.js","webpack://editor/./src/el/editor/commands/refreshArtboard.js","webpack://editor/./src/el/editor/commands/resetSelection.js","webpack://editor/./src/el/editor/commands/segment.delete.js","webpack://editor/./src/el/editor/commands/keymap.keydown.js","webpack://editor/./src/el/editor/commands/keymap.keyup.js","webpack://editor/./src/el/editor/commands/scale.minus.js","webpack://editor/./src/el/editor/commands/scale.plus.js","webpack://editor/./src/el/editor/commands/pauseTimelineItem.js","webpack://editor/./src/el/editor/commands/refreshSelectedOffset.js","webpack://editor/./src/el/editor/commands/setLocale.js","webpack://editor/./src/el/editor/commands/saveJSON.js","webpack://editor/./src/el/editor/commands/updateResource.js","webpack://editor/./src/el/editor/commands/updateScale.js","webpack://editor/./src/el/editor/commands/showExportView.js","webpack://editor/./src/el/editor/commands/switchTheme.js","webpack://editor/./src/el/editor/commands/addArtBoard.js","webpack://editor/./src/el/editor/commands/addCustomComponent.js","webpack://editor/./src/el/editor/commands/addImage.js","webpack://editor/./src/el/editor/commands/addVideo.js","webpack://editor/./src/el/editor/commands/addLayer.js","webpack://editor/./src/el/editor/commands/addProject.js","webpack://editor/./src/el/editor/commands/convertPath.js","webpack://editor/./src/el/editor/commands/newComponent.js","webpack://editor/./src/el/editor/commands/refreshElement.js","webpack://editor/./src/el/editor/commands/refreshProject.js","webpack://editor/./src/el/editor/commands/resizeArtBoard.js","webpack://editor/./src/el/editor/commands/updateClipPath.js","webpack://editor/./src/el/editor/manager/CommandManager.js","webpack://editor/./src/el/utils/detect.js","webpack://editor/./src/el/editor/shortcuts/clipboard.copy.js","webpack://editor/./src/el/editor/shortcuts/index.js","webpack://editor/./src/el/editor/shortcuts/history.undo.js","webpack://editor/./src/el/editor/shortcuts/history.redo.js","webpack://editor/./src/el/editor/shortcuts/set.tool.hand.js","webpack://editor/./src/el/editor/shortcuts/item.rotate.meta.left.js","webpack://editor/./src/el/editor/shortcuts/item.rotate.meta.right.js","webpack://editor/./src/el/editor/shortcuts/select.view.js","webpack://editor/./src/el/editor/shortcuts/add.artboard.js","webpack://editor/./src/el/editor/shortcuts/add.rect.js","webpack://editor/./src/el/editor/shortcuts/add.rect.m.js","webpack://editor/./src/el/editor/shortcuts/add.circle.js","webpack://editor/./src/el/editor/shortcuts/add.circle.l.js","webpack://editor/./src/el/editor/shortcuts/add.text.js","webpack://editor/./src/el/editor/shortcuts/add.path.js","webpack://editor/./src/el/editor/shortcuts/add.brush.js","webpack://editor/./src/el/editor/shortcuts/group.item.js","webpack://editor/./src/el/editor/shortcuts/ungroup.item.js","webpack://editor/./src/el/editor/shortcuts/segment.move.key.down.js","webpack://editor/./src/el/editor/shortcuts/segment.move.key.up.js","webpack://editor/./src/el/editor/shortcuts/segment.move.key.right.js","webpack://editor/./src/el/editor/shortcuts/segment.move.key.left.js","webpack://editor/./src/el/editor/shortcuts/segment.move.shift.down.js","webpack://editor/./src/el/editor/shortcuts/segment.move.shift.up.js","webpack://editor/./src/el/editor/shortcuts/segment.move.shift.left.js","webpack://editor/./src/el/editor/shortcuts/segment.move.shift.right.js","webpack://editor/./src/el/editor/shortcuts/segment.move.alt.down.js","webpack://editor/./src/el/editor/shortcuts/segment.move.alt.up.js","webpack://editor/./src/el/editor/shortcuts/segment.move.alt.left.js","webpack://editor/./src/el/editor/shortcuts/segment.move.alt.right.js","webpack://editor/./src/el/editor/shortcuts/segment.delete.js","webpack://editor/./src/el/editor/shortcuts/item.move.key.left.js","webpack://editor/./src/el/editor/shortcuts/item.move.key.right.js","webpack://editor/./src/el/editor/shortcuts/item.move.key.down.js","webpack://editor/./src/el/editor/shortcuts/item.move.key.up.js","webpack://editor/./src/el/editor/shortcuts/item.move.shift.down.js","webpack://editor/./src/el/editor/shortcuts/item.move.shift.right.js","webpack://editor/./src/el/editor/shortcuts/item.move.shift.up.js","webpack://editor/./src/el/editor/shortcuts/item.move.shift.left.js","webpack://editor/./src/el/editor/shortcuts/item.move.alt.left.js","webpack://editor/./src/el/editor/shortcuts/item.move.alt.down.js","webpack://editor/./src/el/editor/shortcuts/item.move.alt.right.js","webpack://editor/./src/el/editor/shortcuts/item.move.alt.up.js","webpack://editor/./src/el/editor/shortcuts/item.move.depth.up.js","webpack://editor/./src/el/editor/shortcuts/item.move.depth.down.js","webpack://editor/./src/el/editor/shortcuts/removeLayer.js","webpack://editor/./src/el/editor/shortcuts/removeLayerByDeleteKey.js","webpack://editor/./src/el/editor/shortcuts/scale.minus.js","webpack://editor/./src/el/editor/shortcuts/scale.plus.js","webpack://editor/./src/el/editor/shortcuts/clipboard.paste.js","webpack://editor/./src/el/editor/types/key.js","webpack://editor/./src/el/editor/manager/ShortCutManager.js","webpack://editor/./src/el/editor/manager/ConfigManager.js","webpack://editor/./src/el/editor/manager/HistoryManager.js","webpack://editor/./src/el/editor/manager/SnapManager.js","webpack://editor/./src/el/editor/manager/KeyboardManager.js","webpack://editor/./src/el/editor/manager/ViewportManager.js","webpack://editor/./src/el/editor/manager/StorageManager.js","webpack://editor/./src/el/editor/icon/_icon_template.js","webpack://editor/./src/el/editor/icon/chevron_right.js","webpack://editor/./src/el/editor/icon/create_folder.js","webpack://editor/./src/el/editor/icon/add_box.js","webpack://editor/./src/el/editor/icon/visible.js","webpack://editor/./src/el/editor/icon/remove.js","webpack://editor/./src/el/editor/icon/copy.js","webpack://editor/./src/el/editor/icon/lock.js","webpack://editor/./src/el/editor/icon/undo.js","webpack://editor/./src/el/editor/icon/redo.js","webpack://editor/./src/el/editor/icon/save.js","webpack://editor/./src/el/editor/icon/export.js","webpack://editor/./src/el/editor/icon/add.js","webpack://editor/./src/el/editor/icon/add_note.js","webpack://editor/./src/el/editor/icon/publish.js","webpack://editor/./src/el/editor/icon/folder.js","webpack://editor/./src/el/editor/icon/artboard.js","webpack://editor/./src/el/editor/icon/image.js","webpack://editor/./src/el/editor/icon/setting.js","webpack://editor/./src/el/editor/icon/remove2.js","webpack://editor/./src/el/editor/icon/repeat.js","webpack://editor/./src/el/editor/icon/screen.js","webpack://editor/./src/el/editor/icon/arrowRight.js","webpack://editor/./src/el/editor/icon/check.js","webpack://editor/./src/el/editor/icon/border_all.js","webpack://editor/./src/el/editor/icon/border_inner.js","webpack://editor/./src/el/editor/icon/paint.js","webpack://editor/./src/el/editor/icon/title.js","webpack://editor/./src/el/editor/icon/timer.js","webpack://editor/./src/el/editor/icon/chevron_left.js","webpack://editor/./src/el/editor/icon/input.js","webpack://editor/./src/el/editor/icon/filter.js","webpack://editor/./src/el/editor/icon/play.js","webpack://editor/./src/el/editor/icon/pause.js","webpack://editor/./src/el/editor/icon/autorenew.js","webpack://editor/./src/el/editor/icon/code.js","webpack://editor/./src/el/editor/icon/build.js","webpack://editor/./src/el/editor/icon/close.js","webpack://editor/./src/el/editor/icon/gradient.js","webpack://editor/./src/el/editor/icon/transform.js","webpack://editor/./src/el/editor/icon/scatter.js","webpack://editor/./src/el/editor/icon/shape.js","webpack://editor/./src/el/editor/icon/ballot.js","webpack://editor/./src/el/editor/icon/add_circle.js","webpack://editor/./src/el/editor/icon/lock_open.js","webpack://editor/./src/el/editor/icon/outline_image.js","webpack://editor/./src/el/editor/icon/edit.js","webpack://editor/./src/el/editor/icon/size.js","webpack://editor/./src/el/editor/icon/color.js","webpack://editor/./src/el/editor/icon/align_center.js","webpack://editor/./src/el/editor/icon/align_justify.js","webpack://editor/./src/el/editor/icon/align_left.js","webpack://editor/./src/el/editor/icon/align_right.js","webpack://editor/./src/el/editor/icon/list.js","webpack://editor/./src/el/editor/icon/grid.js","webpack://editor/./src/el/editor/icon/expand.js","webpack://editor/./src/el/editor/icon/brush.js","webpack://editor/./src/el/editor/icon/dahaze.js","webpack://editor/./src/el/editor/icon/star.js","webpack://editor/./src/el/editor/icon/polygon.js","webpack://editor/./src/el/editor/icon/cube.js","webpack://editor/./src/el/editor/icon/color_lens.js","webpack://editor/./src/el/editor/icon/circle.js","webpack://editor/./src/el/editor/icon/rect.js","webpack://editor/./src/el/editor/icon/note.js","webpack://editor/./src/el/editor/icon/skip_next.js","webpack://editor/./src/el/editor/icon/skip_prev.js","webpack://editor/./src/el/editor/icon/fast_forward.js","webpack://editor/./src/el/editor/icon/fast_rewind.js","webpack://editor/./src/el/editor/icon/alternate.js","webpack://editor/./src/el/editor/icon/alternate_reverse.js","webpack://editor/./src/el/editor/icon/speed.js","webpack://editor/./src/el/editor/icon/replay.js","webpack://editor/./src/el/editor/icon/shuffle.js","webpack://editor/./src/el/editor/icon/cat.js","webpack://editor/./src/el/editor/icon/refresh.js","webpack://editor/./src/el/editor/icon/gps_fixed.js","webpack://editor/./src/el/editor/icon/file_copy.js","webpack://editor/./src/el/editor/icon/archive.js","webpack://editor/./src/el/editor/icon/storage.js","webpack://editor/./src/el/editor/icon/doc.js","webpack://editor/./src/el/editor/icon/flash_on.js","webpack://editor/./src/el/editor/icon/view_list.js","webpack://editor/./src/el/editor/icon/near_me.js","webpack://editor/./src/el/editor/icon/photo.js","webpack://editor/./src/el/editor/icon/specular.js","webpack://editor/./src/el/editor/icon/diffuse.js","webpack://editor/./src/el/editor/icon/palette.js","webpack://editor/./src/el/editor/icon/landscape.js","webpack://editor/./src/el/editor/icon/blur.js","webpack://editor/./src/el/editor/icon/blur_linear.js","webpack://editor/./src/el/editor/icon/waves.js","webpack://editor/./src/el/editor/icon/vintage.js","webpack://editor/./src/el/editor/icon/looks.js","webpack://editor/./src/el/editor/icon/opacity.js","webpack://editor/./src/el/editor/icon/shadow.js","webpack://editor/./src/el/editor/icon/broken_image.js","webpack://editor/./src/el/editor/icon/camera_roll.js","webpack://editor/./src/el/editor/icon/view_comfy.js","webpack://editor/./src/el/editor/icon/settings_input_component.js","webpack://editor/./src/el/editor/icon/merge.js","webpack://editor/./src/el/editor/icon/texture.js","webpack://editor/./src/el/editor/icon/account_tree.js","webpack://editor/./src/el/editor/icon/format_shapes.js","webpack://editor/./src/el/editor/icon/flip.js","webpack://editor/./src/el/editor/icon/flipY.js","webpack://editor/./src/el/editor/icon/control_point.js","webpack://editor/./src/el/editor/icon/flip_camera.js","webpack://editor/./src/el/editor/icon/device_hub.js","webpack://editor/./src/el/editor/icon/text_rotate.js","webpack://editor/./src/el/editor/icon/cylinder.js","webpack://editor/./src/el/editor/icon/underline.js","webpack://editor/./src/el/editor/icon/strikethrough.js","webpack://editor/./src/el/editor/icon/italic.js","webpack://editor/./src/el/editor/icon/local_library.js","webpack://editor/./src/el/editor/icon/lens.js","webpack://editor/./src/el/editor/icon/flag.js","webpack://editor/./src/el/editor/icon/left.js","webpack://editor/./src/el/editor/icon/center.js","webpack://editor/./src/el/editor/icon/right.js","webpack://editor/./src/el/editor/icon/top.js","webpack://editor/./src/el/editor/icon/bottom.js","webpack://editor/./src/el/editor/icon/middle.js","webpack://editor/./src/el/editor/icon/same_width.js","webpack://editor/./src/el/editor/icon/same_height.js","webpack://editor/./src/el/editor/icon/local_movie.js","webpack://editor/./src/el/editor/icon/keyboard.js","webpack://editor/./src/el/editor/icon/apps.js","webpack://editor/./src/el/editor/icon/outline_rect.js","webpack://editor/./src/el/editor/icon/outline_circle.js","webpack://editor/./src/el/editor/icon/launch.js","webpack://editor/./src/el/editor/icon/pentool.js","webpack://editor/./src/el/editor/icon/video.js","webpack://editor/./src/el/editor/icon/volume_down.js","webpack://editor/./src/el/editor/icon/volume_up.js","webpack://editor/./src/el/editor/icon/volume_off.js","webpack://editor/./src/el/editor/icon/arrowLeft.js","webpack://editor/./src/el/editor/icon/group.js","webpack://editor/./src/el/editor/icon/arrow_right.js","webpack://editor/./src/el/editor/icon/layers.js","webpack://editor/./src/el/editor/icon/align_horizontal_center.js","webpack://editor/./src/el/editor/icon/align_horizontal_left.js","webpack://editor/./src/el/editor/icon/align_horizontal_right.js","webpack://editor/./src/el/editor/icon/align_vertical_bottom.js","webpack://editor/./src/el/editor/icon/align_vertical_center.js","webpack://editor/./src/el/editor/icon/align_vertical_top.js","webpack://editor/./src/el/editor/icon/swap_horiz.js","webpack://editor/./src/el/editor/icon/rotate_left.js","webpack://editor/./src/el/editor/icon/rotate.js","webpack://editor/./src/el/editor/icon/vertical_distribute.js","webpack://editor/./src/el/editor/icon/horizontal_distribute.js","webpack://editor/./src/el/editor/icon/delete_forever.js","webpack://editor/./src/el/editor/icon/horizontal_rule.js","webpack://editor/./src/el/editor/icon/navigation.js","webpack://editor/./src/el/editor/icon/web.js","webpack://editor/./src/el/editor/icon/auto_awesome.js","webpack://editor/./src/el/editor/icon/plugin.js","webpack://editor/./src/el/editor/icon/straighten.js","webpack://editor/./src/el/editor/icon/left_hide.js","webpack://editor/./src/el/editor/icon/right_hide.js","webpack://editor/./src/el/editor/icon/pantool.js","webpack://editor/./src/el/editor/icon/draw.js","webpack://editor/./src/el/editor/icon/flex.js","webpack://editor/./src/el/editor/icon/margin.js","webpack://editor/./src/el/editor/icon/source.js","webpack://editor/./src/el/editor/icon/sync.js","webpack://editor/./src/el/editor/icon/outline.js","webpack://editor/./src/el/editor/icon/icon.js","webpack://editor/./src/el/editor/icon/open_in_full.js","webpack://editor/./src/el/editor/manager/CursorManager.js","webpack://editor/./src/el/editor/manager/AssetManager.js","webpack://editor/./src/el/editor/manager/PluginManager.js","webpack://editor/./src/el/editor/manager/RendererManager.js","webpack://editor/./src/el/editor/manager/InjectManager.js","webpack://editor/./src/el/editor/manager/I18nManager.js","webpack://editor/./src/el/editor/manager/ModeViewManager.js","webpack://editor/./src/el/editor/manager/Editor.js","webpack://editor/./src/el/editor/types/event.js","webpack://editor/./src/el/sapa/UIElement.js","webpack://editor/./src/el/editor/ui/common/EditorElement.js","webpack://editor/./src/editor-layouts/common/BaseLayout.js","webpack://editor/./src/editor-layouts/common/body-panel/HorizontalRuler.js","webpack://editor/./src/editor-layouts/common/body-panel/VerticalRuler.js","webpack://editor/./src/el/editor/util/Resource.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/html-render-view/StyleView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/html-render-view/HTMLRenderView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/util-panels/PageTools.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/LayerAppendView.js","webpack://editor/./src/el/editor/parser/SegmentManager.js","webpack://editor/./src/el/editor/parser/PathGenerator.js","webpack://editor/./src/el/editor/property-parser/image-resource/SVGGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/SVGLinearGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/SVGRadialGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/SVGStaticGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/SVGImageResource.js","webpack://editor/./src/el/editor/property-parser/SVGFill.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/PathDrawView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/PathEditorView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/HoverView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/GuideLineView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/SelectionInfoView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/GridLayoutLineView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/DragAreaView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/DragAreaRectView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/SelectionToolView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/GroupSelectionToolView.js","webpack://editor/./src/editor-layouts/common/body-panel/CanvasView.js","webpack://editor/./src/editor-layouts/common/BodyPanel.js","webpack://editor/./src/el/editor/ui/window-list/BaseWindow.js","webpack://editor/./src/el/editor/ui/window-list/ExportWindow.js","webpack://editor/./src/el/editor/ui/window-list/ShortcutWindow.js","webpack://editor/./src/el/editor/ui/window-list/ProjectWindow.js","webpack://editor/./src/el/editor/ui/view/NotificationView.js","webpack://editor/./src/editor-layouts/common/PopupManager.js","webpack://editor/./src/editor-layouts/common/KeyboardManager.js","webpack://editor/./src/el/editor/ui/view/TabPanel.js","webpack://editor/./src/el/editor/ui/view/Tabs.js","webpack://editor/./src/editor-layouts/designeditor/area/Inspector.js","webpack://editor/./src/editor-layouts/designeditor/area/status-bar/LanguageSelector.js","webpack://editor/./src/editor-layouts/designeditor/area/status-bar/ThemeSwitcher.js","webpack://editor/./src/editor-layouts/designeditor/area/status-bar/LayoutSelector.js","webpack://editor/./src/editor-layouts/designeditor/area/status-bar/VersionView.js","webpack://editor/./src/editor-layouts/designeditor/area/status-bar/SwitchLeftPanel.js","webpack://editor/./src/editor-layouts/designeditor/area/status-bar/SwitchRightPanel.js","webpack://editor/./src/editor-layouts/designeditor/area/StatusBar.js","webpack://editor/./src/editor-layouts/designeditor/area/page-sub-editor/DrawManager.js","webpack://editor/./src/editor-layouts/designeditor/area/page-sub-editor/PathManager.js","webpack://editor/./src/editor-layouts/designeditor/area/PageSubEditor.js","webpack://editor/./src/el/editor/ui/menu-items/MenuItem.js","webpack://editor/./src/el/editor/ui/menu-items/SelectTool.js","webpack://editor/./src/el/editor/ui/menu-items/AddArtboard.js","webpack://editor/./src/el/editor/ui/menu-items/AddRect.js","webpack://editor/./src/el/editor/ui/menu-items/AddCircle.js","webpack://editor/./src/el/editor/ui/menu-items/AddText.js","webpack://editor/./src/el/editor/ui/menu-items/AddImage.js","webpack://editor/./src/el/editor/ui/menu-items/AddDrawPath.js","webpack://editor/./src/el/editor/ui/menu-items/AddPath.js","webpack://editor/./src/el/editor/ui/menu-items/AddSVGRect.js","webpack://editor/./src/el/editor/ui/menu-items/AddSVGCircle.js","webpack://editor/./src/el/editor/ui/menu-items/AddSVGTextPath.js","webpack://editor/./src/editor-layouts/designeditor/area/tool-bar/ToolMenu.js","webpack://editor/./src/el/editor/ui/menu-items/Projects.js","webpack://editor/./src/el/editor/ui/view/DropdownMenu.js","webpack://editor/./src/el/editor/ui/menu-items/Undo.js","webpack://editor/./src/el/editor/ui/menu-items/Redo.js","webpack://editor/./src/el/editor/ui/menu-items/ExportView.js","webpack://editor/./src/el/editor/ui/menu-items/Download.js","webpack://editor/./src/el/editor/ui/menu-items/Save.js","webpack://editor/./src/el/editor/ui/menu-items/OpenPathEditor.js","webpack://editor/./src/el/editor/ui/menu-items/Outline.js","webpack://editor/./src/editor-layouts/designeditor/area/ToolBar.js","webpack://editor/./src/el/editor/ui/menu-items/BottomAlign.js","webpack://editor/./src/el/editor/ui/menu-items/CenterAlign.js","webpack://editor/./src/el/editor/ui/menu-items/LeftAlign.js","webpack://editor/./src/el/editor/ui/menu-items/MiddleAlign.js","webpack://editor/./src/el/editor/ui/menu-items/RightAlign.js","webpack://editor/./src/el/editor/ui/menu-items/SameHeight.js","webpack://editor/./src/el/editor/ui/menu-items/SameWidth.js","webpack://editor/./src/el/editor/ui/menu-items/TopAlign.js","webpack://editor/./src/el/editor/ui/property/BaseProperty.js","webpack://editor/./src/plugins/alignment/AlignmentProperty.js","webpack://editor/./src/el/utils/customParser.js","webpack://editor/./src/el/editor/property-parser/Animation.js","webpack://editor/./src/plugins/animation/AnimationProperty.js","webpack://editor/./src/el/editor/ui/popup/BasePopup.js","webpack://editor/./src/plugins/animation/AnimationPropertyPopup.js","webpack://editor/./src/plugins/appearance/AppearanceProperty.js","webpack://editor/./src/plugins/artboard/preset/artboard.size.js","webpack://editor/./src/plugins/artboard/ArtBoardSizeProperty.js","webpack://editor/./src/plugins/backdrop-filter/util.js","webpack://editor/./src/plugins/backdrop-filter/BackdropFilterProperty.js","webpack://editor/./src/plugins/background-clip/BackgroundClipProperty.js","webpack://editor/./src/plugins/background-image/BackgroundImageEditor.js","webpack://editor/./src/plugins/background-image/BackgroundImagePositionPopup.js","webpack://editor/./src/plugins/background-image/BackgroundImageProperty.js","webpack://editor/./src/plugins/background-image/BackgroundPositionEditor.js","webpack://editor/./src/el/editor/property-parser/Border.js","webpack://editor/./src/plugins/border/BorderEditor.js","webpack://editor/./src/plugins/border/BorderProperty.js","webpack://editor/./src/plugins/border/BorderValueEditor.js","webpack://editor/./src/plugins/border-image/BorderImageProperty.js","webpack://editor/./src/plugins/border-radius/BorderRadiusEditor.js","webpack://editor/./src/plugins/border-radius/BorderRadiusProperty.js","webpack://editor/./src/plugins/box-model/BoxModelProperty.js","webpack://editor/./src/plugins/box-shadow/BoxShadowEditor.js","webpack://editor/./src/plugins/box-shadow/BoxShadowProperty.js","webpack://editor/./src/plugins/box-shadow/BoxShadowPropertyPopup.js","webpack://editor/./src/plugins/clip-path/editor/CircleEditor.js","webpack://editor/./src/plugins/clip-path/editor/InsetEditor.js","webpack://editor/./src/plugins/clip-path/editor/PolygonEditor.js","webpack://editor/./src/plugins/clip-path/editor/EllipseEditor.js","webpack://editor/./src/plugins/clip-path/ClipPathPopup.js","webpack://editor/./src/plugins/clip-path/ClipPathProperty.js","webpack://editor/./src/plugins/codeview/CodeViewProperty.js","webpack://editor/./src/plugins/color/colorpicker/control/Hue.js","webpack://editor/./src/plugins/color/colorpicker/control/Opacity.js","webpack://editor/./src/plugins/color/colorpicker/control/ColorView.js","webpack://editor/./src/plugins/color/colorpicker/ColorInformation.js","webpack://editor/./src/plugins/color/colorpicker/ColorPalette.js","webpack://editor/./src/el/utils/HueColor.js","webpack://editor/./src/plugins/color/ColorManagerV2.js","webpack://editor/./src/plugins/color/ColorPickerEditor.js","webpack://editor/./src/plugins/color/ColorPickerPopup.js","webpack://editor/./src/plugins/color/EmbedColorPicker.js","webpack://editor/./src/plugins/component/ComponentProperty.js","webpack://editor/./src/plugins/content/ContentProperty.js","webpack://editor/./src/plugins/default-configs/configs/index.js","webpack://editor/./src/plugins/default-configs/configs/show.outline.js","webpack://editor/./src/plugins/default-configs/configs/set.drag.path.area.js","webpack://editor/./src/plugins/default-configs/configs/set.move.control.point.js","webpack://editor/./src/plugins/default-configs/configs/style.canvas.background.color.js","webpack://editor/./src/plugins/default-configs/configs/area.width.js","webpack://editor/./src/plugins/default-configs/configs/store.key.js","webpack://editor/./src/plugins/default-configs/configs/set.tool.hand.js","webpack://editor/./src/plugins/default-configs/configs/canvas.width.js","webpack://editor/./src/plugins/default-configs/configs/canvas.height.js","webpack://editor/./src/plugins/default-configs/configs/body.move.ms.js","webpack://editor/./src/plugins/default-configs/configs/debug.mode.js","webpack://editor/./src/plugins/default-configs/configs/fixed.angle.js","webpack://editor/./src/plugins/default-configs/configs/show.ruler.js","webpack://editor/./src/plugins/default-configs/configs/show.left.panel.js","webpack://editor/./src/plugins/default-configs/configs/show.right.panel.js","webpack://editor/./src/plugins/default-configs/configs/snap.distance.js","webpack://editor/./src/plugins/default-configs/configs/snap.grid.js","webpack://editor/./src/plugins/default-configs/configs/history.delay.ms.js","webpack://editor/./src/el/editor/model/BaseAssetModel.js","webpack://editor/./src/el/editor/model/MovableModel.js","webpack://editor/./src/el/editor/model/GroupModel.js","webpack://editor/./src/el/editor/property-parser/Selector.js","webpack://editor/./src/el/editor/model/DomModel.js","webpack://editor/./src/el/editor/model/LayerModel.js","webpack://editor/./src/plugins/default-items/layers/ArtBoard.js","webpack://editor/./src/plugins/default-items/layers/CircleLayer.js","webpack://editor/./src/plugins/default-items/layers/ImageLayer.js","webpack://editor/./src/plugins/default-items/layers/RectLayer.js","webpack://editor/./src/plugins/default-items/layers/SVGItem.js","webpack://editor/./src/plugins/default-items/layers/SVGPathItem.js","webpack://editor/./src/plugins/default-items/layers/SVGTextItem.js","webpack://editor/./src/plugins/default-items/layers/SVGTextPathItem.js","webpack://editor/./src/el/editor/model/Component.js","webpack://editor/./src/plugins/default-items/layers/TemplateLayer.js","webpack://editor/./src/plugins/default-items/layers/TextLayer.js","webpack://editor/./src/plugins/default-messages/locales/index.js","webpack://editor/./src/plugins/default-messages/locales/en_US.js","webpack://editor/./src/plugins/default-messages/locales/fr_FR.js","webpack://editor/./src/plugins/default-messages/locales/ko_KR.js","webpack://editor/./src/plugins/default-patterns/views/TextureView.js","webpack://editor/./src/plugins/default-patterns/views/CSSTextureView.js","webpack://editor/./src/plugins/default-patterns/views/SVGTextureView.js","webpack://editor/./src/plugins/export-resource/ExportProperty.js","webpack://editor/./src/plugins/filter/util.js","webpack://editor/./src/plugins/filter/FilterProperty.js","webpack://editor/./src/plugins/font/FontProperty.js","webpack://editor/./src/plugins/font-spacing/FontSpacingProperty.js","webpack://editor/./src/plugins/gradient/FillEditor.js","webpack://editor/./src/plugins/gradient/GradientPickerPopup.js","webpack://editor/./src/plugins/gradient/FillPickerPopup.js","webpack://editor/./src/plugins/gradient/FillSingleEditor.js","webpack://editor/./src/plugins/gradient/GradientSingleEditor.js","webpack://editor/./src/el/editor/preset/gradients/linear.js","webpack://editor/./src/el/editor/preset/gradients/random-linear.js","webpack://editor/./src/el/editor/preset/gradients/repeat-linear.js","webpack://editor/./src/el/editor/preset/gradients/index.js","webpack://editor/./src/el/editor/preset/gradients/radial.js","webpack://editor/./src/el/editor/preset/gradients/random-radial.js","webpack://editor/./src/el/editor/preset/gradients/repeat-radial.js","webpack://editor/./src/el/editor/preset/gradients/conic.js","webpack://editor/./src/el/editor/preset/gradients/random-conic.js","webpack://editor/./src/el/editor/preset/gradients/repeat-conic.js","webpack://editor/./src/plugins/gradient-asset/GradientAssetsProperty.js","webpack://editor/./src/plugins/history/HistoryProperty.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/ItemRender.js","webpack://editor/./src/el/editor/property-parser/svg-filter/BaseSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/RotaMatrixSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/MergeSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/CompositeSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/MorphologySVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/TurbulenceSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/DisplacementMapSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/ColorMatrixSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/ConvolveMatrixSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/GaussianBlurSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/FloodSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/ComponentTransferSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/DistantLightSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/PointLightSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/SpotLightSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/DiffuseLightingSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/SpecularLightingSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/OffsetSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/BlendSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/SourceSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/SourceGraphicSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/SourceAlphaSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/BackgroundImageSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/BackgroundAlphaSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/FillPaintSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/StrokePaintSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/DropShadowSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/SaturateSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/HueRotateSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/LuminanceAlphaSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/TileSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/ImageSVGFilter.js","webpack://editor/./src/el/editor/property-parser/SVGFilter.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/DomRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/LayerRender.js","webpack://editor/./src/plugins/image/ImageProperty.js","webpack://editor/./src/plugins/image/ImageSelectEditor.js","webpack://editor/./src/plugins/image/ImageSelectPopup.js","webpack://editor/./src/plugins/keyframe/KeyframePopup.js","webpack://editor/./src/plugins/keyframe/KeyframeProperty.js","webpack://editor/./src/plugins/keyframe/OffsetEditor.js","webpack://editor/./src/plugins/layer-tree/LayerTreeProperty.js","webpack://editor/./src/plugins/layout/FlexLayoutEditor.js","webpack://editor/./src/plugins/layout/FlexLayoutItemEditor.js","webpack://editor/./src/plugins/layout/FlexLayoutItemProperty.js","webpack://editor/./src/plugins/layout/GridBoxEditor.js","webpack://editor/./src/plugins/layout/GridGapEditor.js","webpack://editor/./src/plugins/layout/GridLayoutEditor.js","webpack://editor/./src/plugins/layout/GridLayoutItemEditor.js","webpack://editor/./src/plugins/layout/GridLayoutItemProperty.js","webpack://editor/./src/plugins/layout/LayoutProperty.js","webpack://editor/./src/plugins/layout/DefaultLayoutItemProperty.js","webpack://editor/./src/el/editor/preset/patterns/index.js","webpack://editor/./src/el/editor/preset/patterns/check.js","webpack://editor/./src/el/editor/preset/patterns/grid.js","webpack://editor/./src/el/editor/preset/patterns/dot.js","webpack://editor/./src/el/editor/preset/patterns/cross-dot.js","webpack://editor/./src/el/editor/preset/patterns/diagonal-line.js","webpack://editor/./src/el/editor/preset/patterns/vertical-line.js","webpack://editor/./src/el/editor/preset/patterns/horizontal-line.js","webpack://editor/./src/plugins/pattern-asset/PatternAssetsProperty.js","webpack://editor/./src/plugins/pattern-asset/PatternEditor.js","webpack://editor/./src/plugins/pattern-asset/PatternInfoPopup.js","webpack://editor/./src/plugins/pattern-asset/util.js","webpack://editor/./src/plugins/pattern-asset/PatternProperty.js","webpack://editor/./src/plugins/pattern-asset/PatternSizeEditor.js","webpack://editor/./src/plugins/perspective/PerspectiveProperty.js","webpack://editor/./src/plugins/perspective-origin/PerspectiveOriginEditor.js","webpack://editor/./src/plugins/perspective-origin/PerspectiveOriginProperty.js","webpack://editor/./src/plugins/position/PositionProperty.js","webpack://editor/./src/plugins/project/ProjectProperty.js","webpack://editor/./src/plugins/property-editor/SelectEditor.js","webpack://editor/./src/plugins/property-editor/BlendSelectEditor.js","webpack://editor/./src/plugins/property-editor/ClipPathEditor.js","webpack://editor/./src/el/editor/preset/colors/random.js","webpack://editor/./src/el/editor/preset/colors/material-red.js","webpack://editor/./src/el/editor/preset/colors/material-pink.js","webpack://editor/./src/el/editor/preset/colors/material-purple.js","webpack://editor/./src/el/editor/preset/colors/material-deeppurple.js","webpack://editor/./src/el/editor/preset/colors/material-indigo.js","webpack://editor/./src/el/editor/preset/colors/material-blue.js","webpack://editor/./src/el/editor/preset/colors/material-lightblue.js","webpack://editor/./src/el/editor/preset/colors/material-cyan.js","webpack://editor/./src/el/editor/preset/colors/material-teal.js","webpack://editor/./src/el/editor/preset/colors/material-green.js","webpack://editor/./src/el/editor/preset/colors/material-lightgreen.js","webpack://editor/./src/el/editor/preset/colors/material-lime.js","webpack://editor/./src/el/editor/preset/colors/material-yellow.js","webpack://editor/./src/el/editor/preset/colors/material-amber.js","webpack://editor/./src/el/editor/preset/colors/material-orange.js","webpack://editor/./src/el/editor/preset/colors/material-deeporange.js","webpack://editor/./src/el/editor/preset/colors/material-brown.js","webpack://editor/./src/el/editor/preset/colors/material-gray.js","webpack://editor/./src/el/editor/preset/colors/material-bluegray.js","webpack://editor/./src/el/editor/preset/colors/opencolor-gray.js","webpack://editor/./src/el/editor/preset/colors/index.js","webpack://editor/./src/plugins/property-editor/ColorAssetsEditor.js","webpack://editor/./src/plugins/property-editor/ColorSingleEditor.js","webpack://editor/./src/plugins/property-editor/ColorViewEditor.js","webpack://editor/./src/plugins/property-editor/CSSPropertyEditor.js","webpack://editor/./src/plugins/property-editor/CubicBezierEditor.js","webpack://editor/./src/plugins/property-editor/DirectionEditor.js","webpack://editor/./src/plugins/property-editor/FilterEditor.js","webpack://editor/./src/plugins/property-editor/FontSelectEditor.js","webpack://editor/./src/plugins/property-editor/GradientEditor.js","webpack://editor/./src/plugins/property-editor/IconListViewEditor.js","webpack://editor/./src/plugins/property-editor/InputArrayEditor.js","webpack://editor/./src/plugins/property-editor/InputRangeEditor.js","webpack://editor/./src/plugins/property-editor/RangeEditor.js","webpack://editor/./src/plugins/property-editor/IterationCountEditor.js","webpack://editor/./src/plugins/property-editor/MediaProgressEditor.js","webpack://editor/./src/plugins/property-editor/NumberInputEditor.js","webpack://editor/./src/plugins/property-editor/NumberRangeEditor.js","webpack://editor/./src/plugins/property-editor/PathDataEditor.js","webpack://editor/./src/plugins/property-editor/PolygonDataEditor.js","webpack://editor/./src/plugins/property-editor/SelectIconEditor.js","webpack://editor/./src/plugins/property-editor/StrokeDashArrayEditor.js","webpack://editor/./src/plugins/property-editor/TextAreaEditor.js","webpack://editor/./src/plugins/property-editor/TextEditor.js","webpack://editor/./src/plugins/property-editor/VarEditor.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/index.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/ArtBoardRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/CircleRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/CubeRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/ImageRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/ProjectRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/RectRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/SVGItemRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/SVGPathRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/SVGTextPathRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/SVGTextRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/template-engine/TemplateEngine.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/template-engine/DomTemplateEngine.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/TemplateRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/TextRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/VideoRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/index.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/ItemRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/DomRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/MovableRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/BaseAssetRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/ArtBoardRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/LayerRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/CircleRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/IFrameRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/ImageRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/ProjectRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/TimelineRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/AssetRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/RectRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/SVGItemRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/SVGPathRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/SVGTextPathRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/SVGTextRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/TemplateRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/TextRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/VideoRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/index.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/ArtBoardRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGLayerRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/CircleRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/IFrameRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/ImageRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/ProjectRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/RectRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGItemRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGPathRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGTextPathRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGTextRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/TemplateRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/TextRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/VideoRender.js","webpack://editor/./src/plugins/selector/SelectorPopup.js","webpack://editor/./src/plugins/selector/SelectorProperty.js","webpack://editor/./src/plugins/svg-filter-asset/SVGFilterAssetsProperty.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/index.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/red.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/green.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/blue.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/yellow.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/magenta.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/cyan.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/alpha.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/BlueMagenta2.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/BlueShadowMagentHightlight.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/darken.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/ElimBlue.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/GrayOnDark.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/GrayOnLight.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/GrayOnMid.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/HardGreen.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/HardYellow.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/IdenticalRedOverlay.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/lighten.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/lime.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/NoGreenMagenta.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/NoGreenRed.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/peachy.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/RedOverlay.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/YesGreenColorizedMagenta.js","webpack://editor/./src/plugins/svg-item/editor/ColorMatrixEditor.js","webpack://editor/./src/plugins/svg-item/editor/FuncFilterEditor.js","webpack://editor/./src/plugins/svg-item/editor/svg-filter-preset/index.js","webpack://editor/./src/plugins/svg-item/editor/svg-filter-preset/dancing-stroke.js","webpack://editor/./src/plugins/svg-item/editor/svg-filter-preset/stroke.js","webpack://editor/./src/plugins/svg-item/editor/svg-filter-preset/grayscale.js","webpack://editor/./src/plugins/svg-item/editor/svg-filter-preset/shadow.js","webpack://editor/./src/plugins/svg-item/editor/svg-filter-preset/inner-shadow.js","webpack://editor/./src/plugins/svg-item/SVGFilterEditor.js","webpack://editor/./src/plugins/svg-item/SVGFilterPopup.js","webpack://editor/./src/plugins/svg-item/SVGFilterSelectEditor.js","webpack://editor/./src/plugins/svg-item/SVGItemProperty.js","webpack://editor/./src/plugins/svg-text/SVGTextProperty.js","webpack://editor/./src/plugins/text/TextProperty.js","webpack://editor/./src/plugins/text-clip/TextClipProperty.js","webpack://editor/./src/plugins/text-fill/TextFillProperty.js","webpack://editor/./src/plugins/text-shadow/TextShadowEditor.js","webpack://editor/./src/plugins/text-shadow/TextShadowProperty.js","webpack://editor/./src/plugins/text-shadow/TextShadowPropertyPopup.js","webpack://editor/./src/plugins/transform/RotateEditorView.js","webpack://editor/./src/plugins/transform/TransformEditor.js","webpack://editor/./src/plugins/transform/TransformProperty.js","webpack://editor/./src/plugins/transform-origin/TransformOriginEditor.js","webpack://editor/./src/el/editor/property-parser/Transition.js","webpack://editor/./src/plugins/transition/TransitionProperty.js","webpack://editor/./src/plugins/transition/TransitionPropertyPopup.js","webpack://editor/./src/plugins/video/VideoProperty.js","webpack://editor/./src/plugins/design-editor-plugins.js","webpack://editor/./src/plugins/default-configs/index.js","webpack://editor/./src/plugins/default-messages/index.js","webpack://editor/./src/plugins/default-items/index.js","webpack://editor/./src/plugins/default-patterns/index.js","webpack://editor/./src/plugins/default-patterns/icons/texture.js","webpack://editor/./src/plugins/renderer-html/index.js","webpack://editor/./src/plugins/renderer-json/index.js","webpack://editor/./src/plugins/renderer-svg/index.js","webpack://editor/./src/plugins/property-editor/index.js","webpack://editor/./src/plugins/color/index.js","webpack://editor/./src/plugins/gradient/index.js","webpack://editor/./src/plugins/alignment/index.js","webpack://editor/./src/plugins/artboard/index.js","webpack://editor/./src/plugins/box-model/index.js","webpack://editor/./src/plugins/position/index.js","webpack://editor/./src/plugins/layout/index.js","webpack://editor/./src/plugins/transform/index.js","webpack://editor/./src/plugins/appearance/index.js","webpack://editor/./src/plugins/perspective/index.js","webpack://editor/./src/plugins/perspective-origin/index.js","webpack://editor/./src/plugins/component/index.js","webpack://editor/./src/plugins/background-image/index.js","webpack://editor/./src/plugins/border/index.js","webpack://editor/./src/plugins/border-radius/index.js","webpack://editor/./src/plugins/svg-text/index.js","webpack://editor/./src/plugins/font/index.js","webpack://editor/./src/plugins/text/index.js","webpack://editor/./src/plugins/text-shadow/index.js","webpack://editor/./src/plugins/font-spacing/index.js","webpack://editor/./src/plugins/content/index.js","webpack://editor/./src/plugins/text-fill/index.js","webpack://editor/./src/plugins/text-clip/index.js","webpack://editor/./src/plugins/video/index.js","webpack://editor/./src/plugins/image/index.js","webpack://editor/./src/plugins/pattern-asset/index.js","webpack://editor/./src/plugins/svg-filter-asset/index.js","webpack://editor/./src/plugins/svg-item/index.js","webpack://editor/./src/plugins/layer-tree/index.js","webpack://editor/./src/plugins/background-clip/index.js","webpack://editor/./src/plugins/border-image/index.js","webpack://editor/./src/plugins/filter/index.js","webpack://editor/./src/plugins/backdrop-filter/index.js","webpack://editor/./src/plugins/box-shadow/index.js","webpack://editor/./src/plugins/clip-path/index.js","webpack://editor/./src/plugins/gradient-asset/index.js","webpack://editor/./src/plugins/export-resource/index.js","webpack://editor/./src/plugins/transition/index.js","webpack://editor/./src/plugins/keyframe/index.js","webpack://editor/./src/plugins/animation/index.js","webpack://editor/./src/plugins/selector/index.js","webpack://editor/./src/plugins/codeview/index.js","webpack://editor/./src/plugins/history/index.js","webpack://editor/./src/plugins/project/index.js","webpack://editor/./src/editor-layouts/designeditor/area/object-list/ObjectItems.js","webpack://editor/./src/editor-layouts/designeditor/area/object-list/CustomAssets.js","webpack://editor/./src/editor-layouts/designeditor/area/object-list/LibraryItems.js","webpack://editor/./src/editor-layouts/designeditor/area/object-list/AssetItems.js","webpack://editor/./src/editor-layouts/designeditor/area/LayerTab.js","webpack://editor/./src/editor-layouts/common/IconManager.js","webpack://editor/./src/editor-layouts/designeditor/DesignEditor.js","webpack://editor/./src/el/sapa/App.js","webpack://editor/./src/export-library/index.js","webpack://editor/./src/editor-layouts/designeditor/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","configurable","writable","protoProps","staticProps","subClass","superClass","constructor","_typeof","assertThisInitialized","self","obj","superPropBase","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arr","arrayWithoutHoles","iterableToArray","nonIterableSpread","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","strings","raw","slice","freeze","defineProperties","arrayLikeToArray","minLen","toString","Array","from","test","iterator","util","qs","split","params","match","join","substr","decodeURIComponent","hasParams","combined","keys","sort","timeString","timePairs","totalSeconds","timeValues","replace","trim","parseInt","getLetterTime","getColonTime","getQueryParams$1","UrlParser","_i","_arr","plugins","urlParser","parseProvider","url","parse","result","provider","plugin","removeEmptyParameters","alternatives","op","videoInfo","vi","format","defaultFormat","formats","assign","combineParams$1","CanalPlus","embed","createEmbedUrl","mediaTypes","VIDEO","parseParameters","vid","mediaType","id","combineParams$2","Coub","createLongUrl","parseUrl","createUrl","baseUrl","combineParams$3","getTime$1","Dailymotion","createShortUrl","image","createImageUrl","parseTime","start","combineParams$4","getTime$2","Twitch","STREAM","CLIP","seperateId","pre","parseChannel","channel","utm_content","video","clip","isClip","parseMediaType","combineParams$5","getTime$3","Vimeo","startTime","combineParams$6","getTime$4","Wistia","embedjsonp","createEmbedJsonpUrl","EMBEDVIDEO","wtime","wvideo","combineParams$7","Youku","flash","createFlashUrl","createStaticUrl","VideoIDS","combineParams$8","getTime$5","YouTube","shortImage","createShortImageUrl","longImage","createLongImageUrl","imageQualities","DEFAULT","HQDEFAULT","SDDEFAULT","MQDEFAULT","MAXRESDEFAULT","defaultImageQuality","PLAYLIST","SHARE","CHANNEL","parseVideoUrl","parseChannelUrl","v","list","ci","channelResult","feature","listType","loop","playlist","imageQuality","combineParams$9","getTime$6","SoundCloud","TRACK","APITRACK","APIPLAYLIST","combineParams$a","TeacherTube","AUDIO","DOCUMENT","COLLECTION","GROUP","parsePlaylist","mediaTypeMatch","combineParams$b","TikTok","concat","combineParams$c","Ted","isArray","len","arr2","iter","_setPrototypeOf","ReferenceError","_s","_e","_n","_d","next","push","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","MAGIC_METHOD","makeEventChecker","CHECK_SAPARATOR","CHECK_DOM_EVENT_PATTERN","CHECK_LOAD_PATTERN","CHECK_BIND_PATTERN","CHECK_SUBSCRIBE_PATTERN","PIPE","EVENT","COMMAND","ON","NAME_SAPARATOR","DOM_EVENT_SAPARATOR","LOAD_SAPARATOR","BIND_SAPARATOR","SUBSCRIBE_SAPARATOR","SAPARATOR","refManager","DOM_EVENT_MAKE","SUBSCRIBE_EVENT_MAKE","CHECKER","AFTER","BEFORE","IF","KEY","ARROW_UP","ARROW_DOWN","ARROW_LEFT","ARROW_RIGHT","ENTER","SPACE","ESCAPE","ALT","SHIFT","META","CONTROL","MOUSE","TOUCH","PEN","SELF","LEFT_BUTTON","RIGHT_BUTTON","FIT","PASSIVE","DOMDIFF","DEBOUNCE","DELAY","D1000","THROTTLE","ALL_TRIGGER","SELF_TRIGGER","CAPTURE","PREVENT","STOP","SUBSCRIBE","SUBSCRIBE_ALL","SUBSCRIBE_SELF","CONFIG","config","CUSTOM","CLICK","DOUBLECLICK","MOUSEDOWN","MOUSEUP","MOUSEMOVE","MOUSEOVER","MOUSEOUT","MOUSEENTER","MOUSELEAVE","TOUCHSTART","TOUCHMOVE","TOUCHEND","KEYDOWN","KEYUP","KEYPRESS","DRAG","DRAGSTART","DROP","DRAGOVER","DRAGENTER","DRAGLEAVE","DRAGEXIT","DRAGOUT","DRAGEND","CONTEXTMENU","CHANGE","INPUT","FOCUS","FOCUSIN","FOCUSOUT","BLUR","PASTE","RESIZE","SCROLL","SUBMIT","POINTERSTART","POINTEROVER","POINTERENTER","POINTEROUT","POINTERMOVE","POINTEREND","CHANGEINPUT","WHEEL","ANIMATIONSTART","ANIMATIONEND","ANIMATIONITERATION","TRANSITIONSTART","TRANSITIONEND","TRANSITIONRUN","TRANSITIONCANCEL","DOUBLETAB","LOAD","getRef","BIND_CHECK_FUNCTION","field","prevState","BIND_CHECK_DEFAULT_FUNCTION","BIND","normalizeWheelEvent","e","dx","deltaX","dy","deltaY","shiftKey","deltaMode","WheelEvent","DOM_DELTA_LINE","DOM_DELTA_PAGE","limit","delta","maxDelta","Math","sign","min","abs","addDomEvent","dom","eventName","callback","useCapture","addEventListener","removeDomEvent","removeEventListener","pos","touches","posXY","x","pageX","y","pageY","debounce","delay","$1","$2","$3","$4","$5","clearTimeout","setTimeout","throttle","ifCheck","checkMethods","ifResult","every","check","keyEach","index","keyMap","map","isUndefined","isNotUndefined","isBoolean","isString","isObject","isNumber","isFunction","isNotZero","num","isZero","clone","JSON","stringify","short_tag_regexp","HTML_TAG","html","results","it","p1","toLowerCase","splitMethodByKeyword","keyword","filterKeys","filter","code","indexOf","filterMaps","param","EPSILON","ARRAY_TYPE","Float32Array","RANDOM","random","PI","out","a","copy","fromValues","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","identity","transpose","a01","a02","a03","a12","a13","a23","a00","a10","a11","a20","a21","a22","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","adjoint","determinant","multiply","b","b0","b1","b2","b3","z","rad","axis","b12","b20","b21","b22","hypot","sin","cos","fromTranslation","fromScaling","fromRotation","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","q","w","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","fromQuat2","translation","bx","by","bz","bw","ax","ay","az","aw","magnitude","getTranslation","mat","getScaling","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","sqrt","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","fromQuat","yx","zx","zy","frustum","left","right","bottom","top","near","far","rl","tb","nf","fovy","aspect","f","tan","Infinity","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","ortho","lr","bt","lookAt","eye","center","up","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","frob","add","subtract","multiplyScalar","multiplyScalarAndAdd","scale","exactEquals","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a14","a15","b4","b5","b6","b7","b8","b9","b13","b14","b15","max","mul","sub","divide","ceil","floor","round","scaleAndAdd","squaredDistance","squaredLength","negate","inverse","normalize","cross","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformMat3","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","mag","cosine","acos","zero","vec","div","sqrDist","sqrLen","stride","offset","count","setAxisAngle","getAxisAngle","out_axis","getAngle","dotproduct","calculateW","exp","et","ln","atan2","log","pow","slerp","omega","cosom","sinom","scale0","scale1","u1","u2","u3","sqrt1MinusU1","sqrtU1","dot","invDot","conjugate","fromMat3","fRoot","fTrace","j","k","fromEuler","halfToRad","cx","cy","cz","tmpvec3","xUnitVec3","yUnitVec3","temp1","temp2","matr","rotationTo","sqlerp","setAxes","view","transformMat2","transformMat2d","p0","sinC","cosC","degreeToRadian","degrees","divNum","radianToDegree","radian","angle","getXInCircle","radius","centerX","getYInCircle","centerY","getXYInCircle","getDist","vec2","distance","getPointBetweenVerties","end","pointDist","vec3","dist","vertiesMap","verties","transformView","transformMat4","getTargetPointX","source","nextTarget","getTargetPointY","makeGuidePoint","sourceVerties","targetVerties","leftVerties","rightVerties","hasInvert","leftCenter","rightCenter","pointList","isInvert","newTarget","invertTargetPoint","getVertiesMaxX","maxValue","Number","MIN_SAFE_INTEGER","getVertiesMaxY","getVertiesMinX","MAX_SAFE_INTEGER","getVertiesCenterX","minX","maxX","getVertiesMinY","getVertiesCenterY","minY","maxY","calculateAngle","rx","ry","calculateAngleForVec3","point","calculateAnglePointDistance","calculateRotationOriginMat4","origin","mat4","translate","rotateZ","calculateMatrix","calculateMatrixInverse","invert","angle1","calculateAngle360","UUID_REG","uuid","dt","Date","getTime","uuidShort","bezierCalc","cubicBezier","C2","C3","progress","getGradientLine","box","width","height","yDiff","xDiff","getCenterInTriangle","splitReg","str","stringToPercent","Position","CENTER","TOP","RIGHT","LEFT","BOTTOM","REG_CSS_UNIT","Length","unit","toPrimitive","hint","getUnitText","isUnitType","percent","toEm","toPx","fontSize","isPercent","isPx","isEm","isDeg","em","stringToEm","px","stringToPx","isTurn","deg","isRad","toDeg","turn","isSecond","isMs","second","ms","toPercent","toTurn","func","includes","is","shift","number","string","auto","_traverse","filterCallback","layers","ref","Item","json","Proxy","originMethod","set","changed","toJSON","convert","getDefaultObject","lastChangedField","lastChangedFieldKeys","cachedValue","timestamp","_timestamp","performance","now","getDefaultTitle","last","lastNumber","nextName","parent","otherParent","depth","localParent","path","find","postfix","checkItemType","itemType","newValueCallback","cachedKey","parsedKey","getCache","addCache","editablePropertyName","no","generateListNumber","layer","isDeep","attrs","ItemClass","item","toCloneObject","setParent","__changedId","some","_time","visible","lock","selected","resetMatrix","remove","project","addIndexItem","unshift","splice","findIndex","insertChild","position","toggleValue","currentParent","collapsedList","Boolean","collapsed","newJSON","expectJSON","copyItem","childItem","child","renameWithCount","move","childIndex","removeChild","removeIndexItem","parentId","isParent","hasParent","updateProp","node","newValue","oldValue","el","setAttribute","removeAttribute","setBooleanProp","setProp","removeBooleanProp","removeUndefinedProp","removeProp","updateProps","newProps","oldProps","keyList","Set","node1","node2","nodeType","Node","TEXT_NODE","textContent","nodeName","hasPassed","getAttribute","hasRefClass","getProps","attributes","updateElement","parentElement","oldEl","newEl","options","replaceChild","cloneNode","COMMENT_NODE","checkPassed","oldChildren","children","newChildren","appendChild","element","firstChild","nextSibling","DomDiff","A","B","childrenA","childrenB","__tempVariables","Map","__tempVariablesGroup","variable","groupId","has","recoverVariable","removeVariable","spreadVariable","entries","registElement","classes","Dom","tag","className","attr","document","createElement","namespace","getAttributeNS","setAttributeNS","keyField","val","style","removeProperty","checkElement","tagName","cls","temp","checkCls","hasClass","parentNode","$parentNode","classList","contains","removeClass","addClass","isForce","toggle","innerHTML","empty","append","fragment","rootElement","selector","querySelector","querySelectorAll","findAll","createTextNode","prepend","$dom","createChildrenFragment","createDocumentFragment","$el","tempText","text","setProperty","getComputedStyle","localKey","css","cssText","tempCssText","parseFloat","getBoundingClientRect","getBBox","toUpperCase","isSVG","parentBox","rect","offsetLeft","offsetTop","offsetWidth","offsetHeight","scrollTop","getScrollTop","scrollLeft","getScrollLeft","cssFloat","tempValue","matches","naturalWidth","naturalHeight","files","checked","displayType","display","isHide","currentHide","show","hide","getTotalLength","scrollIntoView","body","scrollHeight","scrollWidth","opt1","opt2","$element","firstElementChild","nextElementSibling","newElement","oldElement","isChecked","click","focus","range","createRange","selectNodeContents","sel","getSelection","removeAllRanges","addRange","select","blur","contextType","_initContext","getContext","ctx","devicePixelRatio","quality","toDataURL","clearRect","clear","img","drawImage","option","beginPath","moveTo","lineTo","stroke","closePath","fill","arc","fillText","requestFullscreen","wekitRequestFullscreen","fullscreenElement","exitFullscreen","fullscreen","htmlString","pageYOffset","documentElement","pageXOffset","DOMParser","parseFromString","BaseHandler","scrollBlockingEvents","eventConverts","customEventNames","DomEventHandler","destroy","_domEvents","filterProps","parseDomEvent","removeEventAll","getBindings","initBindings","Event","_bindings","matchPath","eventObject","srcElement","makeDelegateCallback","makeDefaultCallback","returnValue","runEventCallback","delegateTarget","hasDelegate","$dt","beforeMethods","before","checkEventType","afterMethods","after","hasKeyCode","codes","isAllCheck","checkMethodList","fieldValue","refs","$root","getElement","checkMethodFilters","afters","befores","debounces","debounceMethods","delays","delayMethods","throttles","throttleMethods","captures","filteredList","getRealEventName","customEventName","getCustomEventName","makeCallback","addBinding","passive","capture","doubleTab","time","getDefaultEventObject","getDefaultDomElement","makeCustomEventCallback","eventNames","getEventNames","bindingDomEvent","applyElementAttribute","removeAttr","updateDiff","updateSVGDiff","toggleClass","BindHandler","bindData","_bindMethods","bindList","originalCallbackName","callbackName","$bind","bindMethod","refObject","refCallback","elName","isBindCheck","elementKeyIndex","TEMP_DIV","QUERY_PROPERTY","REF_CLASS_PROPERTY","EventMachine","opt","handlers","initializeHandler","initializeProperty","initComponents","sourceName","childComponents","components","isLoad","load","setState","initState","refresh","$container","parseTemplate","template","afterRender","$$","refsIndex","refsLen","console","warn","recoveredValue","nodeValue","content","contentChildren","parseContent","parseSourceName","refClassName","refName","EventMachineComponent","_reload","render","renderTarget","appendTo","filteredRefClass","_getComponentInfo","refClass","getEventMachineComponent","parseProperty","notUsed","parseComponentList","comp","renderComponent","clean","runHandlers","parseComponent","_loadMethods","localLoadMethods","methodName","checker","isDomDiff","newTemplate","htmlDiff","_afterLoad","h","_","Component","$parent","eachChildren","childComponent","__cachedMethodList","expectMethod","names","getOwnPropertyNames","collectProps","pattern","altKey","ctrlKey","metaKey","buttons","pointerType","preventDefault","stopPropagation","BaseStore","editor","cachedCallback","callbacks","promiseProxy","makePromiseEvent","event","debug","originalCallback","debounceDelay","throttleDelay","enableAllTrigger","enableSelfTrigger","getCallbacks","off","setCallbacks","promise","getCachedCallbacks","all","sendMessage","nextSendMessage","triggerMessage","dark","left_size","left_max_size","bottom_size","bottom_max_size","timeline_grid_font_color","timeline_line_color","timeline_timeview_bottom_color","light","TimelineSelectionManager","$editor","items","itemKeys","selection","currentProject","layerId","getKeyframeListReturnArray","refreshCache","animationId","getSelectedTimeline","animations","endTime","totalList","getTimelineProperty","keyframes","keyframe","getTimelineObject","properties","uniqueOffset","cachedTransformOriginMap","TransformOriginCache","parsedValue","size","TransformOrigin","transformOrigin","origins","parsedTransformOrigin","parseStyle","transformOriginX","transformOriginY","transformOriginZ","lineLine","x3","y3","x4","y4","polyPoint","py","isCollision","vector","nx","ny","polyLine","polyPoly","collision","rectToVerties","getRotatePointer","topPointer","bottomPointer","rotatePointer","itemsToRectVerties","xList","yList","originVerties","vertiesToRectangle","toRectVertiesWithoutTransformOrigin","toRectVerties","fps","timecode","hour","minute","frame","seconds","padStart","framesToTimecode","frames","makeTimer","timer","speed","elapsed","duration","iterationStartCount","iterationCount","direction","logIndex","tick","startCallback","endCallback","firstCallback","first","lastCallback","calculateForDirection","rate","isStart","lastTime","frameStart","requestAnimationFrame","cancelAnimationFrame","seek","play","stopCallback","predefinedBezier","bezierObj","bezierList","getPredefinedCubicBezier","parseCubicBezier","formatCubicBezier","createBezier","C1","C4","points","getBezierPointOne","createBezierQuard","getBezierPointOneQuard","createBezierLine","getBezierPointOneLine","checkDist","curve","minDist","minT","getCurveDist","cx1","cy1","cx2","cy2","ex","ey","total","startPoint","getQuardDist","makeCurveFunction","step","recoverBezier","recoverBezierQuard","recoverBezierLine","createBezierForPattern","bezierString","interpolate","p2","p3","p4","getBezierPoints","p5","getBezierPointsQuard","splitBezierPointsByCount","splitBezierPointsQuardByCount","splitBezierPointsLineByCount","getBezierPointsLine","findRootForCurve","newP","calculateA","calculateB","calculateC","roots","distX","rootX","rootX1","rootX2","distY","rootY","rootY1","rootY2","makeInterpolateNumber","startNumber","endNumber","makeInterpolateIdentity","ratio","getRealAttributeValue","refType","refElement","rollbackRealAttributeValue","to","makeInterpolateLength","equals","realStartValue","realEndValue","BorderRadius","isAll","getBorderRadiusList","radiusValue","makeInterpolateBorderRadius","startValue","endValue","defaultColor","g","hex","rgb","hsl","alpha","randomNumber","randomByCount","randomRGBA","randomItem","repeat","CSS_TO_STRING","newStyle","STRING_TO_CSS","splitChar","keySplitChar","OBJECT_TO_PROPERTY","OBJECT_TO_CLASS","TAG_TO_STRING","mapjoin","joinString","isArrayEquals","curveToPath","timingFunction","currentBezier","curveToPointLine","PropertyItem","toCSS","color_names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgray","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","transparent","currentColor","isColorName","getColorByName","ReverseXyz","ReverseRGB","XYZtoRGB","X","Y","Z","R","G","LABtoXYZ","PivotXyz","XYZtoLAB","LABtoRGB","RGBtoHSV","R1","G1","B1","MaxC","MinC","DeltaC","H","RGBtoCMYK","K","C","M","RGBtoHSL","RGBtoSimpleGray","RGBtoGray","RGBtoYCrCb","brightness","Cb","Cr","cr","cb","PivotRGB","RGBtoXYZ","RGBtoLAB","HUEtoRGB","HSLtoHSV","HSLtoRGB","color_regexp","getColorIndexString","prefix","startIndex","padEnd","isColor","color","nameColor","ColorNames","endIndex","convertMatches","convertMatchesArray","splitStr","ret","reverseMatches","REG_TRIM","char","parseGradient","colors","reduce","cur","BoxShadow","inset","offsetX","offsetY","blurRadius","spreadRadius","boxShadows","shadow","insets","numbers","makeInterpolateBoolean","CMYKtoRGB","HSVtoRGB","V","HSVtoHSL","YCrCbtoRGB","bit","interpolateRGB","startColor","endColor","exportFormat","interpolateRGBObject","startColorAlpha","endColorAlpha","blend","mix","startcolor","contrast","contrastColor","gradient","newColors","maxCount","allCount","colorCount","scaleHSV","colorObj","hsv","scaleH","scaleS","scaleV","parula","jet","hot","bone","copper","formatter","math","mixin","parser","fromYCrCb","fromRGB","fromCMYK","fromHSV","fromHSL","fromLAB","makeInterpolateColor","Color","makeInterpolateBoxShadow","totalLength","startObject","endObject","makeInterpolateString","startString","endString","stepTimingFunction","stepDist","stepStart","stepEnd","easeOutElastic","makeInterpolateRotate","TextShadow","textShadows","makeInterpolateTextShadow","ImageResource","ColorStep","cut","prevColorStep","getUnit","toLength","getPrevLength","sortColorStep","colorStepString","colorsteps","colorIndex","hasNotUnit","data","unitType","colorStepCount","unitValue","DEFINED_ANGLES","Gradient","colorstep","isSort","addColorStep","lastIndex","nextStep","addColorStepList","colorstepList","toColorString","StaticGradient","static","IMAGE_LIST","URLImageResource","datauri","fileExt","DEFINED_DIRECTIONS","LinearGradient","colorString","getColorString","RepeatingLinearGradient","linear","DEFINED_POSITIONS","RadialGradient","radialType","radialPosition","RepeatingRadialGradient","radial","ConicGradient","prevDeg","conicAngle","conicPosition","optString","RepeatingConicGradient","conic","RepeatList","reg","BackgroundImage","imageResource","addItem","addImageResource","images","createImage","createGradient","blendMode","parseImage","backgroundSize","toBackgroundImageCSS","toBackgroundPositionCSS","toBackgroundSizeCSS","toBackgroundRepeatCSS","toBackgroundBlendCSS","matchResult","backgroundImages","toPropertyCSS","makeInterpolateColorStep","startColorStep","endColorStep","makeInterpolateColorStepList","startColorsteps","endColorsteps","makeInterpolateLinearGradient","convertPercent","makeInterpolateRadialGradient","radialPositionX","radialPositionY","makeInterpolateConicGradient","makeInterpolateImageResource","makeInterpolateRepeatingLinearGradient","makeInterpolateRepeatingRadialGradient","makeInterpolateRepeatingConicGradient","makeInterpolateBackgroundImage","FILTER_REG","Filter","FilterClass","FilterClassName","URLSvgFilter","filters","filterName","filterValue","BlurFilter","spec","defaultValue","inputType","units","GrayscaleFilter","HueRotateFilter","InvertFilter","BrightnessFilter","ContrastFilter","OpacityFilter","SaturateFilter","SepiaFilter","DropshadowFilter","multi","title","grayscale","opacity","saturate","sepia","svg","makeInterpolateFilterItem","makeInterpolateFilter","DirectionLength","CLIPPATH_REG","ClipPath","clippath","clipPathName","clipPathValue","radiusX","radiusY","_count","_roundCount","topRadius","rightRadius","bottomRadius","leftRadius","isAllRadius","makeInterpolateClipPath","parseStyleForCircle","radiusString","makeInterpolateClipPathCircle","parseStyleForEllipse","makeInterpolateClipPathEllipse","parseStyleForInset","makeInterpolateClipPathInset","parseStyleForPolygon","startPos","endPos","makeInterpolateClipPathPolygon","parseStyleForPath","makeInterpolateClipPathPath","cachedTransformMap","TransformCache","TRANSFORM_REG","Transform","transform","filterFunction","valueObject","tObject","oldTransform","newTransform","oldT","newT","newObject","oldObject","createRotateKey","rotate","doCache","transforms","transformName","transformValue","parsedTransformList","rotateX","rotateY","toRad","skewX","skewY","perspective","makeInterpolateTransformLength","makeInterpolateTransformNumber","ss","ee","makeInterpolateTransformRotate","tempStartValue","tempEndValue","makeInterpolateTransform","makeInterpolateTransformOrigin","makeInterpolatePerspectiveOrigin","makeInterpolateStrokeDashArrray","Point","isEqual","command","tolerance","maxdist2","breakIndex","tol2","lastPoint","dist2","segmentDistance2","DouglasPeuker","lenAB","du","dv","slash","isInLine","endPoint","reversePoint","firstIndex","current","prevIndex","getLastPoint","currentPoint","nextPoint","connected","getFirstPoint","pIndex","segment","splitedPointGroup","lastPoints","isFirst","pointGroup","newPoints","originalCommand","Segment","REG_PARSE_NUMBER_FOR_PATH","numberReg","PathParser","pathString","segments","joinPath","nextSegment","prevPoint","getPrevPoint","prevSegment","getReversePoint","firstPoint","close","seg","isReturn","newSegments","each","resetSegments","tx","ty","allSegments","getGroup","group","normalizedPath","groupList","L","middle","Q","c1","c2","xyPoints","getCurveBBox","bbox","targetInfo","targetPoint","getClosedPointInfo","transformMatrix","lastX","lastY","groupSegments","groupIndexList","splitSegments","reverseSegments","lastValues","pointer","getCenterPointers","groupIndex","closedPointInfo","firstSegment","secondSegment","replaceSegment","paths","makeInterpolatePathValues","startLastPos","endLastPos","makeInterpolatePath","returnParser","sc","ec","PathStringManager","pathArray","getPointString","makeString","topLeft","topRight","bottomLeft","bottomRight","manager","PolygonParser","joinPoints","makeInterpolatePolygon","startLastX","startLastY","endLastX","endLastY","makeInterpolateLine","makeInterpolateQuard","makeInterpolateCubic","makeInterpolateOffsetPath","artboard","rotateStatus","innerInterpolate","screenX","screenY","pathLayer","searchById","timing","interpolateList","preC1x","preC1y","preEx","preEy","getCubicDist","startT","endT","makeInterpolateOffset","newRate","setScreenX","setScreenY","distValue","newAngle","currentAngle","resultAngle","innerInterpolateAngle","makeInterpolateText","startText","endText","substring","makeInterpolatePlayTime","layerElement","mediaElement","$","sTime","currentTime","paused","pause","DEFAULT_FUCTION","makeInterpolate","editorString","checkField","makeInterpolateBorder","makeInterpolateCustom","createInterpolateFunction","createTimingFunction","funcName","timingFunctions","createCurveFunction","Offset","addProperty","removeIndex","targetIndex","sortItem","toCSSText","Keyframe","selectedType","offsets","isMultiStyle","getMultiStyleString","toOffsetString","toOffsetText","addOffset","keyframeKeys","frameInfo","propertyValue","filteredOffset","offsetObj","vars","varValue","ComponentManager","inspectors","componentProperty","inspectorCallback","ComponentClass","getComponentClass","inspector","getInspector","ModelManager","version","description","projects","doc","newDoc","loadItem","createModel","createProject","removed","removedIndex","removedLeftSibling","removedRightSibling","getParent","emit","rootId","childId","ids","targetItems","searchItem","getPath","hasChildren","findGroupItem","objectList","groupItem","isNot","recover","itemObject","isRegister","createComponent","setModelManager","getAllLayers","defaultRef","getDepth","nextParent","targetId","getModelTypeInPath","setParentId","offsetInParent","BaseModel","modelManager","deleteProperty","getLayers","getRoot","getProject","getArtBoard","setChanged","hasId","childItemId","TimelineModel","timeline","compiledTimeline","animation","compiledTimingFunction","filteredTimeline","getCompiledTimingFunction","isOnlyTime","currentOffset","nextOffset","interpolateFunction","makeTimingFunction","totalT","frameOrCode","searchTimelineOffset","$video","setTimelineCurrentTime","getKeyframeList","getSelectedTimelineFirstTime","currentTimecode","getSelectedTimelineLastTime","compileAll","endTimecode","selectedTimeline","getTimelineLayerInfo","selectTimeline","addTimeline","totalTimecode","totalTime","displayStartTime","displayEndTime","dxRate","initStartTime","initEndTime","dxTime","addTimelineLayer","selectedLayerId","selectedProperty","timelineObject","selectedOffsetTime","offsetId","ani","changedTime","getTimelineKeyframeById","newTime","addTimelineProperty","getDefaultPropertyValue","times","addTimelineKeyframe","comments","gradients","svgfilters","svgimages","imageKeys","videos","videoKeys","audios","addKeyframe","removePropertyList","isAnimate","copyObject","copyPropertyList","addColor","refreshImageKeys","local","addImage","refreshVideoKeys","addVideo","addGradient","addSVGFilter","addSVGImage","OFFSET_X","OFFSET_Y","Project","rootVariable","accumulatedMatrix","localMatrixInverse","SelectionManager","hoverId","hoverItems","cachedItemMatrices","cachedArtBoardVerties","cachedVerties","on","refreshMousePosition","areaWidth","viewport","getWorldPosition","column","row","searchLiveItemsById","getProjectByIndex","isLayoutItem","allLayers","filteredAllLayers","areaPosition","hasPoint","checkInViewport","hasChangedField","rootItem","newIds","searchItemsById","filterIds","newSelectedItems","convertGroupItems","isAbsolute","newSelectedIds","isSameIds","setRectCache","hasPathOf","itemIdList","filteredItems","removeById","addById","artboards","checkedParentChange","instanceVerties","localArtboardVerties","selectedArtBoard","artboardVerties","matrix","isEmpty","cachedRectVerties","cachedChildren","cachedCurrentItemMatrix","cachedCurrentChildrenItemMatrices","isOne","rectVerties","selectionVerties","localItems","itemsByIds","resize","copyItems","isMany","itemOrId","isChanged","_doForceRefreshSelection","nextTick","execute","paste","navigator","clipboard","readText","imageFileOrBlob","containerItem","reader","FileReader","onload","URL","createObjectURL","original","readAsDataURL","loadOriginalImage","Image","onerror","message","src","imageObject","changeMode","EDIT_MODE_SELECTION","loadOriginalVideo","onloadeddata","videoWidth","videoHeight","playTime","volume","muted","placebackRate","playbackRate","videoObject","createVideo","imageUrl","createSVGFilter","AssetParser","enableParselocal","mimeType","encoding","getLink","binary","atob","unit8Array","Uint8Array","charCodeAt","blob","Blob","ext","downloadFile","filename","href","download","btoa","unescape","encodeURIComponent","replaceLocalUrltoRealUrl","svgString","ExportManager","createImagePng","imageType","canvas","callbackCommand","pngDataUri","_currentProject","layerList","keyframeObj","setTimelineKeyframeOffsetValue","removeTimelineProperty","deleteTimelineKeyframe","selectedId","removeTimeline","removeAnimation","copyTimelineKeyframe","prevTime","getSelectedTimelinePrevTime","firstTime","nextTime","getSelectedTimelineNextTime","asset","storageManager","getCustomAsset","assetData","itemsMap","modeView","modeViewManager","pushMode","cachedPatternMap","PatternCache","PATTERN_REG","Pattern","PatternClass","PatternClassName","patterns","patternName","patternValue","foreColor","backColor","lineSize","lineWidth","lineHeight","joinCSS","BasePattern","CheckPattern","GridPattern","DotPattern","CrossDotPattern","DiagonalLinePattern","VerticalLinePattern","HorizontalLinePattern","grid","packByValue","maxRightX","itemRightX","maxRightY","itemRightY","orderPrev","orderNext","groupLayer","itemRect","appendAfter","appendBefore","description_ko","currentValues","projectId","undoValues","history","selectedIds","nextAction","saveSelection","redo","selectProject","undo","multiAttrs","messages","newAttrs","getUndoValuesForMulti","reselect","isSelected","filterChildren","treeItem","filtedIds","markRemove","recoverIds","unmarkRemove","pathObject","newPath","invertPath","accumulatedMatrixInverse","newWidth","newHeight","oldBBox","newBBox","createTransformMatrix","worldMatrix","getLocalTransformMatrix","realXY","parentMatrixInverse","areaVerties","withScale","moveLayerToCenter","moveItems","iconType","update","popModeView","popMode","doubleclickItem","evt","selectInWorldPosition","hasChildrenPoint","snapManager","openEditor","accumulatedPath","changeEvent","clipPathString","resultPath","refreshHistory","convertPasteText","embedUrl","refreshCursor","recoverCursor","toggleToolHand","rotateLayer","distAngle","addTransform","historyAddLayer","historyRemoveLayer","historyRemoveProject","markRemoveProject","unmarkRemoveProject","historySetAttributeForMulti","historyRefreshSelection","historyRefreshSelectionProject","historyRedo","historyUndo","moveLayer","moveLayerForItems","moveToCenter","moveSelectionToCenter","ungroupItem","setEditorLayout","layout","setLayout","refreshArtboard","resetSelection","addBackgroundColor","addBackgroundImagePattern","segmentDelete","segmentMoveDown","segmentMoveUp","segmentMoveRight","segmentMoveLeft","pushModeView","removeLayer","itemMoveDepthDown","itemMoveDepthUp","keymapKeydown","keyboardManager","keyCode","shortcuts","keymapKeyup","scaleMinus","oldScale","setScale","scalePlus","dropAsset","addBackgroundImageAsset","addBackgroundImageGradient","addTimelineItem","pauseTimelineItem","lastTimelineItem","nextTimelineItem","firstTimelineItem","prevTimelineItem","playTimelineItem","copyTimelineProperty","removeAnimationItem","selectTimelineItem","addTimelineCurrentProperty","setTimelineOffset","refreshSelectedOffset","setLocale","locale","loadJSON","saveJSON","saveItem","savePNG","downloadPNG","downloadSVG","downloadJSON","updateUriList","updateImageAssetItem","updateVideoAssetItem","addSVGFilterAssetItem","dropImageUrl","addImageAssetItem","addVideoAssetItem","updateImage","updateVideo","updateResource","fileDropItems","updateScale","showExportView","switchTheme","theme","changeTheme","clipboardPaste","clipboardCopy","addArtBoard","moveByCenter","addCustomComponent","customComponent","addLayer","enableHasChildren","addLayerView","addProject","convertPath","newComponent","textLength","makeLine","makeCircle","makeRect","refreshElement","getRootItem","refreshProject","resizeArtBoard","setAttributeForMulti","sortBottom","sortCenter","sortLeft","sortMiddle","sortTop","sortRight","sameWidth","sameHeight","updatePathItem","CommandManager","localCommands","loadCommands","commands","registerCommand","commandCallback","getCallback","osInfo","os","appVersion","category","win","when","KEY_CODE","joinKeys","generateKeyCode","ShortCutManager","loadShortCuts","shortcut","registerShortCut","OSName","eventType","checkKeyString","splitShortCut","whenFunction","makeWhenFunction","whenList","isCurrentMode","isAlt","isControl","isShift","isMeta","restKeys","keyCodeString","keyString","codeString","checkShortCut","makeKeyCodeString","makeKeyString","makeCodeString","filteredCommands","checkWhen","ConfigManager","configList","getType","isType","HistoryManager","currentIndex","undoHistories","redoHistories","commandString","isPointerUp","selectedObject","lastUndoObject","historyObject","commandObject","DEFAULT_DIST_VECTOR","checkXAxis","sourceVertex","targetVertex","checkYAxis","SnapManager","snapDistance","snapTargetLayers","convertMatrix","convertGuideAndPathMatrix","guideVerties","snapTargetLayersWithSelection","targetXList","sourceXList","checkXList","targetX","sourceX","sourceIndex","localDistX","localGridDistX","gridSize","targetYList","sourceYList","checkYList","targetY","sourceY","localDistY","snaps","checkX","checkY","snap","groupPoints","sourceLength","keyX","keyY","targetLength","sorted","guides","getGuidesByPointPoint","findGuide","KeyBoardManager","codeSet","keyCodeSet","keyOrKeyCode","hasKey","ViewportManager","canvasSize","cachedViewport","mouse","maxScale","minScale","zoomFactor","resetWorldMatrix","originVec","newOrigin","oldOrigin","setTransformOrigin","setTranslate","toFixed","matrixInverse","scaleMatrix","scaleMatrixInverse","newVerties","newTransformOrigin","newTranslate","createWorldPosition","clientX","clientY","setTransformOriginWithTranslate","newScale","newZoomFactor","scaleRate","areaCenter","viewportCenter","viewportWidth","viewportHeight","minRate","pointVertex","xInViewport","yInViewport","vertex","applyVertiesInverse","rectToVertiesForArea","StorageManager","customAssetKey","isNew","setCustomAssetList","getCustomAssetList","assetList","component","preview","_icon_template","tpl","defaultOpts","iconUse","border_inner","outline","sync","flex","margin","draw","pantool","left_hide","right_hide","straighten","auto_awesome","web","navigation","delete_forever","horizontal_rule","open_in_full","align_horizontal_center","align_horizontal_left","align_horizontal_right","align_vertical_bottom","align_vertical_center","align_vertical_top","vertical_distribute","horizontal_distribute","rotate_left","swap_horiz","arrow_right","volume_down","arrowLeft","volume_up","volume_off","pentool","launch","apps","outline_rect","outline_circle","keyboard","local_movie","same_height","same_width","flag","lens","local_library","italic","strikethrough","underline","cylinder","text_rotate","device_hub","control_point","flip_camera","flipY","flip","account_tree","format_shapes","merge","texture","settings_input_component","view_comfy","camera_roll","broken_image","looks","vintage","waves","blur_linear","landscape","palette","diffuse","specular","photo","near_me","view_list","flash_on","storage","archive","file_copy","gps_fixed","cat","shuffle","replay","alternate_reverse","alternate","note","circle","color_lens","cube","polygon","star","dahaze","brush","expand","align_center","align_justify","align_left","align_right","edit","outline_image","ballot","shape","scatter","build","autorenew","skip_next","skip_prev","fast_forward","fast_rewind","input","paint","border_all","arrowRight","screen","remove2","setting","folder","publish","add_note","save","export","exportIcon","lock_open","add_box","add_circle","create_folder","chevron_right","chevron_left","CursorManager","iconName","icon","iconContent","AssetManager","assets","idString","applyAsset","RegExp","PluginManager","CreatePluginFunction","RendererManager","renderers","rendererTypes","rendererType","rendererInstance","typedRenderer","getRenderType","rendererTypeInstance","InjectManager","menuItems","class","hasRef","getTargetMenuItems","refString","I18nManager","locales","fallbackLang","lang","currentLang","getLang","ModeViewManager","modes","currentMode","Editor","EDITOR_ID","popupZIndex","canvasWidth","canvasHeight","symbols","openRightPanel","loadManagers","store","cursorManager","assetManager","injectManager","pluginManager","i18n","initTheme","initPlugins","initStorage","i18nKey","hasI18nkey","user","localStorage","getItem","setItem","initializePlugin","isMode","rest","offAll","storeKey","registerMenuItem","registerElement","registerComponent","registerInspector","registerRenderer","registerRendererType","getRendererInstance","getRenderer","renderer","createPluginFunction","registerPlugin","registerConfig","registerI18nMessage","MOVE","END","UIElement","__UID","created","initialize","initializeStoreEvent","MULTI_PREFIX","methods","newCallback","events","methodLine","splitMethod","debounceSecond","throttleSecond","allTriggerMethods","selfTriggerMethods","createLocalCallback","$store","destoryStoreSUBSCRIBE","messageName","sourceContext","trigger","EditorElement","registerI18nMessageWithLocale","initializeI18nMessage","__cacheParentEditor","getI18nMessage","initI18nMessage","$injectManager","themeValue","EMPTY_POS","DEFAULT_POS","BaseLayout","registerPluginList","getPlugins","$config","setAll","__editorInstance","userAgent","__initBodyMoves","__firstMove","__moves","__ends","__modifyBodyMoveSecond","__loopBodyMoves","__funcBodyMoves","lastPos","isNotEqualLastPos","pressure","newPos","__requestId","__removeBodyMoves","rerender","HorizontalRuler","refreshCanvasSize","baseNumber","realWidth","epsilon","expect","startX","endX","firstX","secondX","$selection","currentArtboard","$viewport","currentMinX","currentMaxX","makeLineText","makeRuler","makeRulerText","makeRulerForCurrent","VerticalRuler","realHeight","startY","endY","firstY","secondY","Resource","dataTransfer","types","kind","getData","filter_list","StyleView","$head","head","toStyle","$style","changeStyleHead","$temp","styleTag","makeStyle","$item","isOnlyOne","refreshStyleHeadOne","styleTags","removeStyleSelector","$fragment","refreshStyleHead","HTMLRenderView","cachedCurrentElement","generate","$view","clearElement","$shortcuts","getGeneratedKeyCode","space","$keyboardManager","mousePoint","hasHoverItem","selectHoverItem","$target","closest","$model","initMousePoint","isInSelectedArea","initializeDragSelection","selectByGroup","selectAfterCopy","toggleById","$snapManager","targetMousePoint","newDist","changeArtBoard","clearElementAll","pack","localDist","updateTimelineElement","parentLayer","selectionList","parentObj","hasChangedDimension","changedBoxModel","offsetRect","PageTools","subscribe","$scale","setValue","$pantool","LayerAppendView","dragStart","showRectInfo","pathManager","patternInfo","newVertex","checkPoint","applyVertex","targetPositionVertex","targetGuides","findGuideOne","applyVerties","inlineStyle","newD","bboxRect","createLayerTemplate","guide","makeMousePointer","newMousePoint","isShiftKey","isAltKey","parentArtBoard","getArtboardByPoint","hasArea","scaledFontSize","$drawItem","$area","isShow","$t","applyScaleVertiesInverse","newFontSize","$file","SegmentManager","segmentList","line","degree","isLast","SEGMENT_DIRECTION","calculateSnapPoint","sourceKey","distanceValue","checkedPointList","calculatePointDist","tempDist","toPath","dString","calculateRelativePosition","checkInArea","area","PathGenerator","pathEditor","pathStringManager","guideLineManager","segmentManager","initializeSelect","splitLines","initPointList","selectedPointKeys","selectedPointList","getPoint","snapPointList","isToggle","includedList","selectedKey","makeSegmentKey","included","notIncludedList","uniqueList","oldKey","includeNode","isSelectedSegment","transformPoints","realPoint","commitTransformMatrix","transformRect","clonePoints","dragXY","dragPoints","getIndexPoint","getNextPoint","getConnectedPointList","segmentKey","selectedIndex","connectedPoint","connectedPointList","isFirstSegment","isCurveSegment","originalSegment","originalConnectedPoint","cachedPoints","originSegment","originPoint","calculateToCurve","moveSegment","targetSegmentKey","rotateSegmentTarget","realX","realY","snapPointX","snapPointY","snapEndPoint","pointIndex","splitPoints","recoverPoints","calculateSnap","moveSelectedSegment","rotateSegment","copySegment","clickCount","moveXY","allPoints","firstItem","secondItem","getIndex","makePointGuide","makeMovePositionGuide","toSVGString","addDistanceLine","addDistanceAngle","makeTriangleDistancePointGuide","addPoint","addGuideLine","addCurvePoint","mng","addText","makeStartPointGuide","makeMiddlePointGuideRealPath","makeMiddlePointGuideSplitLine","makeMiddlePointGuideSegment","calculateMovePointSnap","movePointSnapPointList","newMoveXY","snapLines","snapPath","snapPoint","makeSnapLines","SVGGradient","SVGLinearGradient","spreadMethod","SVGRadialGradient","fx","fy","fr","SVGStaticGradient","SVGImageResource","patternUnits","patternWidth","patternHeight","imageX","imageY","imageWidth","imageHeight","preserveAspectRatio","SVGFill","SVGLImageResource","FIELDS","PathDrawView","pathParser","screenWidth","screenHeight","$obj","pathRect","simplyPoints","simply","drawParser","makePathByPoints","generatorPathString","convertGenerator","pathItem","totalPathLength","getPathRect","makePathLayer","fillId","strokeId","toFillSVG","toStrokeSVG","toDefInnerString","getInnerId","toFillValue","toDefString","toStrokeValue","initRect","startXY","renderPath","addPathLayer","PathEditorView","pathGenerator","isSegment","refreshPathLayer","setPoints","cachedMatrixInverse","refreshEditorView","strokeWidth","makeSVGPath","splitXY","updatePathLayer","transformZoneRect","isSplitPath","calculatePointOnLine","isPathMode","isOnCanvas","renderSelectBox","toggleSelect","setCachePoint","selectKeyIndex","selectedLength","selectInBox","getSelectBox","hideSelectBox","setConnectedPoint","moveEnd","$segmentBox","styles","renderSegment","removeSelectedSegment","transformMoveType","resetTransformZone","initTransform","utilType","selectedGroupIndexList","divideSegmentByCount","clickPosition","getClosedPoint","selectedSegmentIndex","setLastPoint","setPoint","setPointQuard","setPointLine","convertToCurve","HoverView","$modeView","setHoverId","renderHoverLayer","filteredLayers","$hoverRect","createPointerLine","pointers","unitWidth","unitHeight","hLineByPoint","vLineByPoint","GuideLineView","svgDiff","createGuideLine","texts","localSourceVertex","localTargetVertex","localNewTargetVertex","hasVerties","isPointerDown","isPointerMove","removeGuideLine","targetVertiesList","refreshSmartGuides","targetList","targets","setGuideLine","refreshSmartGuidesForVerties","SelectionInfoView","makeArtboardTitleArea","artboardItem","newPointer","diff","createSize","GridLayoutLineView","isInGrid","layoutContainer","toGridLayoutCSS","border","layoutItemCSS","toLayoutItemCSS","DragAreaView","inSelection","mouseOverItem","distVector","DragAreaRectView","$dragAreaRect","dragRect","selectedArtboard","isIncludeByArea","checkInAreaForAll","startVertex","endVertex","locaRect","selectedItems","getSelectedItems","directionType","1","2","3","4","11","12","13","14","SelectionToolView","isEditingPath","moveType","rotateTargetNumber","refreshRotatePointerIcon","dragging","isRotate","targetRotatePointer","currentMatrix","newRotateX","dataPointer","renderPointerList","iconAngle","refreshPointerIcon","moveTarget","hasRotate","vertexOffset","itemMatrix","reverseMatrix","currentVertex","nextVertex","currentResult","nextResult","vertexIndex","calculateDistance","lastStartVertex","directionNewVector","directionMatrix","calculateNewOffsetMatrixInverse","originalTransformOrigin","moveItem","calculateRealDist","realDx","realDy","moveDirectionVertex","moveTopLeftVertex","moveTopVertex","moveRightVertex","moveBottomVertex","moveLeftVertex","moveTopRightVertex","moveBottomRightVertex","moveBottomLeftVertex","makeSelectionTool","renderPointers","createRenderPointers","$pointerRect","parentVector","centerPointer","selectionPointers","isArtBoard","createPointerRect","createRotatePointer","createPointerSide","createPointer","initSelectionTool","GroupSelectionToolView","$selectionView","localAngle","selectionMatrix","lastAngle","initMatrix","cachedGroupItem","vertextOffset","vertext","vertextIndex","transformViewInverse","newX","newY","scaleX","scaleY","localView","moveItemForGroup","moveGroupItem","recoverItemForGroup","isInitializeMatrix","newArtBoard","elementLine","createLine","CanvasView","cursor","cursorArgs","startMovePan","lastDist","$i18n","currentDist","pan","newCenter","getAllDropItems","gesture","zoom","newDx","newDy","setMousePoint","$lock","BodyPanel","toggleFullscreen","BaseWindow","getClassName","getTitle","getTools","getBody","ExportWindow","renderSVG","svgData","$svgimagePreview","createByHTML","shiki","getHighlighter","highlighter","html_beautify","indent","changedHtml","codeToHtml","$html","changedCss","$css","changedSvgData","$svgimage","categories","keyAlias","ShortcutWindow","getKeyString","getTemplateForShortcutItem","getTemplateForCategory","ProjectWindow","NotificationView","getMessageTemplate","PopupManager","formElements","KeyboardManager","TabPanel","Tabs","selectedValue","onchange","getValue","onlyOneClass","updateData","Inspector","loadElements","LanguageSelector","languages","theme_list","ThemeSwitcher","themes","LayoutSelector","layouts","VersionView","SwitchLeftPanel","SwitchRightPanel","StatusBar","msg","DrawManager","$stroke","$strokeWidth","MODES","PathManager","$fill","$fillOpacity","transformType","PageSubEditor","MenuItem","isHideTitle","getChecked","isDisabled","getDirection","getIcon","getIconString","clickButton","iconString","SelectTool","setSelected","AddArtboard","AddRect","AddCircle","AddText","AddImage","AddDrawPath","AddPath","AddSVGRect","AddSVGCircle","AddSVGTextPath","ToolMenu","$items","$selected","Projects","DropdownMenu","opened","makeMenuItem","disabled","Undo","Redo","ExportView","Download","Save","OpenPathEditor","cacheClipPathObject","Outline","ToolBar","BottomAlign","CenterAlign","LeftAlign","MiddleAlign","RightAlign","SameHeight","SameWidth","TopAlign","BaseProperty","isHideHeader","isFirstShow","getTitleClassName","hasKeyframe","getKeyframeProperty","getBodyClassName","getFooter","$propertyTitle","isRefresh","editable","editableProperty","AlignmentProperty","getCustomParseIndexString","customParseConvertMatches","regexp","parsedString","customParseMatches","customParseReverseMatches","ANIMATION_TIMING_REG","Animation","playState","fillMode","forcedValue","replaceIndex","fields","AnimationProperty","selectedClass","refreshShowIsNot","alert","togglePlayState","$preview","selectItem","currentAnimation","viewAnimationPropertyPopup","viewAnimationPicker","BasePopup","popupPadding","rightPosition","realTop","realLeft","clientWidth","zIndex","AnimationPropertyPopup","templateForKeyframe","templateForTimingFunction","templateForIterationCount","templateForDelay","templateForDuration","templateForDirection","templateForFillMode","templateForPlayState","label","$name","$cubicBezierEditor","overflow_list","AppearanceProperty","getOverflowList","$zIndex","$mixBlend","$overflow","$color","groups","devices","device","ArtBoardSizeProperty","artboardSize","makeDevice","makeGroup","BackdropFilterProperty","filterType","$filterSelect","$filterEditor","svgFilterList","getSVGFilterList","BackgroundClipProperty","refreshShow","BackgroundImageEditor","hideLabel","parseBackgroundImage","labelClass","backgroundType","backgroundTypeName","templateForBlendMode","modifyBackgroundImage","sortBackgroundImage","typeName","BackgroundImagePositionPopup","$repeat","templateForSize","templateForX","templateForY","templateForWidth","templateForHeight","templateForRepeat","BackgroundImageProperty","$backgroundImageEditor","BackgroundPositionEditor","modifyValue","viewBackgroundPositionPopup","BorderStyles","Border","borderTypeList","borderTypeTitle","BorderEditor","borders","BorderProperty","borderStyleList","BorderValueEditor","parseValue","joinValue","$width","typeList","BorderImageProperty","appliedBorderImage","applyBorderImage","$apply","getColorStepString","borderImage","imageCSS","getColorStepList","setBorderImageProperty","viewFillPopup","$colorsteps","selectColorStepId","getFillData","setImageUrl","viewChangeImage","setGradient","viewChangeGradient","setImage","$selector","$allSlice","$partitialSetting","BorderRadiusEditor","setBorderRadius","borderRadius","modifyBorderRadius","BorderRadiusProperty","styleKeys","BoxModelProperty","templateInput","resetBoxModel","BoxShadowEditor","modifyBoxShadow","viewShadowPopup","viewBoxShadowPropertyPopup","BoxShadowProperty","$boxshadow","boxshadow","BoxShadowPropertyPopup","boardWidth","boardHeight","halfWidth","halfHeight","refreshPointer","$offsetX","$offsetY","CircleEditor","toClipPathValueString","areaRect","$pointer","InsetEditor","topX","topY","bottomX","bottomY","rightX","rightY","leftX","leftY","roundCheckStatus","$hasRound","$top","$right","$bottom","$left","$clipArea","clipRect","clipWidth","clipHeight","PolygonEditor","maxWidth","maxHeight","appendValue","removeValue","copyValue","$value","$inputList","$x","$y","updateValue","EllipseEditor","ClipPathPopup","toClipPathCSS","clipPathList","ClipPathProperty","viewClipPathPicker","makeClipPathTemplate","$clipPathSelect","updatePathInfo","CodeViewProperty","codeview","Hue","hue","minValue","refreshColorUI","changeColor","Opacity","colorbar","background","ColorView","ColorInformation","initFormat","current_format","formatString","next_format","changeFormat","to_format","lastUpdateColor","$rgb_r","$rgb_g","$rgb_b","$rgb_a","$hsl_h","$hsl_s","$hsl_l","$hsl_a","changeRgbColor","changeHslColor","$hexCode","initColor","nextFormat","goToFormat","setCurrentFormat","setRGBInput","setHSLInput","setHexInput","ColorPalette","hueColor","changeEndColor","hue_color","initHueColors","checkHueColor","ColorManagerV2","HueColor","ColorPickerEditor","modifyColorPicker","newColor","toColor","onchangeend","$palette","getHueColor","$opacity","$hue","$colorview","$information","Palette","ColorPickerPopup","changeEndEvent","updateEndData","EmbedColorPicker","$colorpicker","ComponentProperty","createInspector","setTitle","selfEditor","selfEditorOptions","selfEditorKey","getPropertyEditor","editorOptions","realValueObject","ContentProperty","setContent","$contentItem","BaseAssetModel","ZERO","GroupModel","hasLayout","refreshMatrixCache","applyLayout","isLayout","otherParentId","setCacheItemTransformMatrix","setCacheLocalTransformMatrix","setCacheAccumulatedMatrix","setCacheLocalVerties","setCacheVerties","setCacheGuideVerties","setCacheAreaPosition","_cachedItemTransform","getItemTransformMatrix","_cachedItemTransformInverse","_cachedLocalTransform","_cachedLocalTransformInverse","_cachedTransformWithTranslate","getTransformWithTranslate","_cachedTransformWithTranslateInverse","_cachedTransformWithTranslateTranspose","_cachedAccumulatedMatrix","getAccumulatedMatrix","_cachedAccumulatedMatrixInverse","_cachedVerties","getVerties","_cachedVertiesWithoutTransformOrigin","_cachedLocalVerties","getLocalVerties","_cachedGuideVerties","getGuideVerties","_cachedAreaPosition","getAreaPosition","getLocalTransformMatrixInverse","getItemTransformMatrixInverse","getAccumulatedMatrixInverse","areaSize","absoluteX","isChild","absoluteY","replaceAll","perspectiveOriginX","perspectiveOriginY","getDirectionTransformMatrix","getPerspectiveMatrix","perspectiveMatrix","localMatrix","originalTransform","parentMatrix","itemMatrixInverse","getDirectionTopLeftMatrix","getDirectionTopMatrix","getDirectionTopRightMatrix","getDirectionRightMatrix","getDirectionBottomLeftMatrix","getDirectionBottomMatrix","getDirectionBottomRightMatrix","getDirectionLeftMatrix","checkInAreaForLayers","getTransformOriginMatrix","newScaleTransform","fromScale","quat","newRotateTransform","newChildItemTransform","newTransformMatrix","getTransformOriginMatrixInverse","parentLayers","setOrder","Selector","toPropertyString","editableKeys","LayerModel","selectors","addSelector","hasLayoutItem","isAttribute","isRootItem","traverse","setClipPathCache","cacheClipPath","cacheClipPathWidth","cacheClipPathHeight","setBackgroundImageCache","patternList","computed","backgroundList","backgroundImage","cacheBackgroundImage","ArtBoard","CircleLayer","ImageLayer","elementType","RectLayer","expectedPropertiesKeys","SVGItem","overflow","SVGPathItem","cachePath","cacheWidth","cacheHeight","localPoint","isPointInPath","SVGTextItem","lengthAdjust","SVGTextPathItem","startOffset","DEFAULT_TEMPLATE","TemplateLayer","engine","TextLayer","en_US","fr_FR","ko_KR","TextureView","cssPatterns","CSSTextureView","svgPatterns","originWidth","originHeight","makePolygon","SVGTextureView","ExportProperty","FilterProperty","FontProperty","$size","$stretch","$family","FontSpacingProperty","$lineHeight","$letter","$word","$indent","imageTypeList","iconList","presetPosition","rangeEditorList","FillEditor","cachedRect","getImageFieldValue","refreshFieldValue","$x1","$y1","$x2","$y2","$cx","$cy","$r","$fx","$fy","$fr","$spreadMethod","$patternUnits","$patternWidth","$patternHeight","$imageX","$imageY","$imageWidth","$imagenHeight","getDrawAreaRect","getFieldValue","containerRect","$pointerDrawArea","getRectRate","changeImageType","currentStep","$stepList","insertColorStep","getLinearGradient","isSelectedColorStep","removeColorStep","selectColorStep","$range","removeStep","selectStep","cachedStepListRect","getStepListRect","setColor","GradientPickerPopup","selectedTab","$body","selectColorStepIndex","$g","FillPickerPopup","FillSingleEditor","simple","removable","viewGradientPopup","GradientSingleEditor","angle_list","createColorStep","createRepeatColorStep","GradientAssetsProperty","preset","effectAllowed","setData","custom","isEmit","executeGradient","HistoryProperty","ItemRender","Primitive","DEFAULT_ATTRIBUTES","xChannelSelector","yChannelSelector","BaseSVGFilter","in","bound","getSourceInAttribute","inList","indexString","hasInIndex","getDefaultAttribute","SVGFilterClassName","RotaMatrixSVGFilter","hueRotate","MergeSVGFilter","CompositeSVGFilter","operator","k1","k2","k3","k4","kNumbers","MorphologySVGFilter","TurbulenceSVGFilter","baseFrequency","numOctaves","seed","DisplacementMapSVGFilter","scaleOption","ColorMatrixSVGFilter","valueString","ConvolveMatrixSVGFilter","kernelMatrix","GaussianBlurSVGFilter","stdDeviationX","stdDeviationY","edgeMode","stdDeviation","FloodSVGFilter","ComponentTransferSVGFilter","tableValues","slop","intercept","amplitude","exponent","DistantLightSVGFilter","azimuth","elevation","PointLightSVGFilter","SpotLightSVGFilter","pointsAtX","pointsAtY","pointsAtZ","specularExponent","limitingConeAngle","DiffuseLightingSVGFilter","surfaceScale","lightingColor","diffuseConstant","lightInfo","SpecularLightingSVGFilter","specularConstant","OffsetSVGFilter","BlendSVGFilter","SourceSVGFilter","SourceGraphicSVGFilter","SourceAlphaSVGFilter","BackgroundImageSVGFilter","BackgroundAlphaSVGFilter","FillPaintSVGFilter","StrokePaintSVGFilter","DropShadowSVGFilter","SaturateSVGFilter","HueRotateSVGFilter","LuminanceAlphaSVGFilter","TileSVGFilter","ImageSVGFilter","alignment","scaleing","SVG_FILTER_COMMON_ATTRIBUTES","SVGFilter","Tile","Saturate","HueRotate","LuminanceAlpha","DropShadow","SourceGraphic","SourceAlpha","BackgroundAlpha","FillPaint","StrokePaint","ComponentTransfer","DistantLight","PointLight","SpotLight","DiffuseLighting","SpecularLighting","Blend","RotaMatrix","GaussianBlur","Flood","Merge","Composite","Morphology","Turbulence","DisplacementMap","ColorMatrix","ConvolveMatrix","SVGFilterSpecList","ZERO_CONFIG","WEBKIT_ATTRIBUTE_FOR_CSS","DomRender","toFlexLayoutCSS","parentLayout","toStringPropertyCSS","visibility","toKeyListCSS","toRootVariableCSS","toClipPath","toSVGFilter","clipPathId","innerSVGId","appendCSS","cssString","toNestedCSS","toSelectorString","toVariableCSS","toDefaultCSS","toWebkitCSS","toTextClipCSS","toBoxModelCSS","toBorderCSS","toLayoutCSS","toTransformCSS","generateView","filterString","computedValue","svgfilter","currentElement","$svg","defString","LayerRender","image_size","ImageProperty","ImageSelectEditor","getImageValueById","imageId","ImageSelectPopup","$img","KeyframePopup","templateForName","templateForOffset","getOffsetData","KeyframeProperty","makeProperty","makeOffset","$keyframeItem","currentKeyframe","viewKeyframePicker","removeKeyframe","makeKeyframeTemplate","createKeyframe","viewKeyframePropertyPopup","back","OffsetEditor","modifyOffset","templateForOffsetInput","templateForProperty","selectedList","selectedOffsetItem","refreshOffsetInput","$offsetInput","baseOffsetWidth","$offset","baseOffsetArea","currentX","newOffset","currentOffsetleft","currentOffsetIndex","currentOffsetXY","baseOffsetMin","baseOffsetMax","isRemoveOffset","removeOffset","refreshOffsetProperty","LayerTreeProperty","hideDragPointer","lastDragOverPosition","lastDragOverOffset","rootRect","lastDragOverItemDirection","targetItem","lastDragOverItemId","parentObject","selectedPathClass","hovered","checkHover","isTreeItemHide","depthPadding","makeLayerList","$layerList","targetLayerId","sourceLayerId","sourceItem","startInputEditing","enter","endInputEditing","modifyDoneInputEditing","lastLock","isSelection","FlexLayoutEditor","makeOptionsFunction","getDirectionOptions","getWrapOptions","getJustifyContentOptions","getAlignItemsOptions","getAlignContentOptions","modifyData","FlexLayoutItemEditor","FlexLayoutItemProperty","valueType","getLayoutOptions","grow","$grow","shrink","$shrink","basis","$basis","getFlexItemValue","getFlexValue","$layout","$layoutList","isInFlex","GridBoxEditor","exec","tempArray","getLayoutItemOptions","makeItem","newObj","$list","GridGapEditor","GridLayoutEditor","GridLayoutItemEditor","GridLayoutItemProperty","$columnStart","$columnEnd","$rowStart","$rowEnd","getGridValue","LayoutProperty","DefaultLayoutItemProperty","getDefaultItemValue","getDefaultValue","isInDefault","PatternAssetsProperty","PatternEditor","parsePattern","modifyPattern","sortPattern","PatternInfoPopup","hasNotX","hasNotY","hasNotLineWidth","hasNotLineHeight","templateForLineWidth","templateForLineHeight","templateForForeColor","templateForBackColor","pattern_list","PatternProperty","patternType","$patternSelect","$patternEditor","PatternSizeEditor","linewidth","lineheight","backcolor","forecolor","blendmode","PerspectiveProperty","PerspectiveOriginEditor","direct","modifyPerspectiveOrigin","setPerspectiveOrigin","perspectiveOrigin","PerspectiveOriginProperty","DEFAULT_SIZE","PositionProperty","$height","$rotate","ProjectProperty","SelectEditor","tabIndex","tabindex","hasTabIndex","$options","blend_list","BlendSelectEditor","getBlendList","ClipPathEditor","modifyClipPath","colorList","localA","localB","resource","materialRed","materialPink","materialPurple","materialDeeppurple","materialIndigo","materialBlue","materialLightblue","materialCyan","materialTeal","materialGreen","materialLightgreen","materialLime","materialYellow","materialAmber","materialOrange","materialDeeporange","materialBrown","materialGray","materialBluegray","ColorAssetsEditor","isLoaded","ColorSingleEditor","modifyColor","viewColorPicker","$miniView","ColorViewEditor","modifyEndColor","$colorCode","CSSPropertyEditor","hideTitle","hideRefresh","modifyProperty","makePropertySelect","getPropertyDefaultValue","modifyPropertyValue","textShadow","makeCustomePropertyEditor","makeIndivisualPropertyEditor","makeIndivisualPropertyColorEditor","searchKey","makePropertyEditor","CubicBezierEditor","currentBezierIndex","selectedColor","animatedColor","curveColor","baseLineColor","linearCurve","linearCurvePoint","easeCurve","easeCurvePoint","easeInCurve","easeInCurvePoint","easeOutCurve","easeOutCurvePoint","modifyCubicBezier","$itemList","refreshEasingText","refreshBezierCanvas","drawPoint","$text","$control","$pointer1","$pointer2","animationTimer","animationPoint","animationCanvasData","$animationCanvas","fillStyle","strokeStyle","setPosition","DirectionEditor","specList","FilterEditor","makeOneFilterEditor","makeDropShadowFilterTemplate","getSpec","makeOneFilterTemplate","makeFilterTemplate","sortFilter","modifyFilter","svgfilterIndex","getSVGFilterIndex","setSVGFilterValue","makeFilter","font_list","FontSelectEditor","getFontList","radialTypeList","hasRadialPosition","GradientEditor","$dragPosition","$radialPositionX","$radialPositionY","$angle","$radialType","$cut","IconListViewEditor","InputArrayEditor","InputRangeEditor","compact","layoutClass","realValue","selectedUnit","$propertyNumber","$unit","initValue","toUnit","RangeEditor","calc","$rangeArea","IterationCountEditor","MediaProgressEditor","$s","$e","setMax","$progress","$start","$end","realPos","NumberInputEditor","hasLabel","hasCompact","NumberRangeEditor","clamp","isRemovable","PathDataEditor","$data","$segment","$command","makeSegments","modifyPathData","PolygonDataEditor","modifyPolygonData","SelectIconEditor","icons","iconClass","iconKey","StrokeDashArrayEditor","generateValue","toStringValue","modifyStrokeDashArray","TextAreaEditor","TextEditor","VarEditor","char_list","function_list","keyword_list","replaceKeyword","ke","filterKeyName","HTMLRenderer","getDefaultRendererInstance","currentRenderer","defaultInstance","omit","keyframeCode","toKeyframeString","cssCode","nestedCssCode","selectorCode","ArtBoardRender","CircleRender","faceKeys","CubeRender","backfaceVisibility","ImageRender","getUrl","$image","ProjectRender","keyframeString","RectRender","SVGItemRender","$defs","fillValue","cachedFill","strokeValue","cachedStroke","SVGPathRender","$path","setAttrNS","toFilterValue","updateDefString","SVGTextPathRender","$guidePath","$textPath","toPathSVG","toPathId","pathId","SVGTextRender","EngineList","TemplateEngine","currentEngine","compile","TemplateRender","compiledTemplate","$innerHTML","TextRender","$textElement","VideoRender","getVideoValueById","controls","poster","crossorigin","autoplay","JSONRenderer","referenceId","newTargetId","IFrameRender","SVGRenderer","svgCode","SVGRender","wrappedRender","SVGLayerRender","$iframe","setAttr","toSVGAttribute","SelectorPopup","templateForSelector","$propertyEditor","selectorList","SelectorProperty","viewSelectorPicker","removeSelector","makeSelectorTemplate","sortSelector","createSelector","$select","currentSelector","viewSelectorPropertyPopup","currentselector","SVGFilterAssetsProperty","executeSVGFilter","removeSVGFilter","copySVGFilter","attrKeyValue","BlueMagenta2","BlueShadowMagentHightlight","darken","ElimBlue","GrayOnDark","GrayOnLight","GrayOnMid","HardGreen","HardYellow","IdenticalRedOverlay","lighten","NoGreenMagenta","NoGreenRed","peachy","RedOverlay","YesGreenColorizedMagenta","sampleList","colormatrix","ColorMatrixEditor","sample","FuncFilterEditor","dancingStroke","stitchTiles","innerShadow","edge","filterTypes","SVGFilterTemplateList","getSourceTypeString","connectedXAxis","connectedYAxis","inXAxis","inYAxis","SVGFilterEditor","parseFilter","selectedTabIndex","selectedFilter","makeFilterSelect","makeFilterTemplateSelect","makeFilterNode","templateType","svgFilterPreset","objectId","keyMapJoin","makeFilterEditorTemplate","isSource","isLight","lightManager","toLightString","applyTemplate","removeFilter","makeGraphPanel","$point","pointType","$graphPanel","selectFilter","inRect","connectedInfo","getInCount","connectedItem","createPath","sourceType","makeConnectedPath","tid","sid","inObject","$targetNode","targetFilter","hasLight","setIn","setConnected","itIn","inIndex","SVGFilterPopup","SVGFilterSelectEditor","SVGItemProperty","$fillRule","$strokeDashOffset","$strokeDashArray","$strokeLineCap","$strokeLineJoin","SVGTextProperty","setAllValue","textTransformOptions","textDecorationOptions","TextProperty","$align","$transform","$decoration","TextClipProperty","TextFillProperty","$fillColor","$strokeColor","TextShadowEditor","modifyTextShadow","viewTextShadowPropertyPopup","TextShadowProperty","$textshadow","textshadow","TextShadowPropertyPopup","directions","RotateEditorView","rotateCache","cache","pointerRect","$handle","targetRect","$rotateZ","rotateZCenter","rotateZStart","modifyRotateZ","transformList","labels","TransformEditor","editorType","tindex","getLabel","getRange","isMultiValue","makeMultiTransformTemplate","makeOneTransformTemplate","makeTransformTemplate","sortTransform","modifyTransform","makeTransform","$transformSelect","TransformProperty","$transformEditor","TRANSITION_TIMING_REG","Transition","transition","TransitionProperty","transitions","currentTransition","viewTransitionPropertyPopup","viewTransitionPicker","property_list","TransitionPropertyPopup","VideoProperty","status","volumeStatus","$volume","$currentTime","ontimeupdate","onprogress","configs","registerItem","ObjectItems","CustomAssets","$storageManager","confirm","removeCustomAsset","saveCustomAsset","LibraryItems","broadcast","AssetItems","LayerTab","selectedIndexValue","IconManager","DesignEditor","designEditorPlugins","leftSize","rightSize","bottomSize","lastBottomSize","minSize","$theme","maxSize","$splitter","minFooterSize","maxFooterSize","$footerPanel","ElementClass","container","app","EditorInstance","HTMLLayerRender","createDesignEditor","opts","App","exportLibrary"],"mappings":"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FCAfA,MAAe,kPCAfA,MAAe,6lBCAfA,MAAe,6LCAPA,MAAe,uoJCAvBA,MAAe,0NCAfA,MAAe,2SCAfA,MAAe,wJCAfA,MAAe,wPCAfA,MAAe,uGCAfA,MAAe,+GCAfA,MAAe,wCCAfA,MAAe,sGCAfA,MAAe,8DCAfA,MAAe,wICAfA,MAAe,+QCAfA,MAAe,0RCAfA,MAAe,odCAfA,MAAe,iFCAfA,MAAe,i5CCAfA,MAAe,yvBCAdA,MAAe,23CCAhBA,MAAe,8mBCAfA,MAAe,4KCAfA,MAAe,6OCAfA,MAAe,qMCAfA,MAAe,2KCAfA,MAAe,mOCAfA,MAAe,4LCAfA,MAAe,wWCAfA,MAAe,oHCAfA,MAAe,qRCAfA,MAAe,sECAfA,MAAe,6PCAfA,MAAe,qNCAfA,MAAe,qNCAfA,MAAe,8KCAfA,MAAe,kYCAfA,MAAe,mJCAfA,MAAe,oICAPA,MAAe,60BCAvBA,MAAe,mICAdA,MAAe,6mCCAhBA,MAAe,gECAfA,MAAe,0LCAfA,MAAe,kFCAfA,MAAe,oDCAPA,MAAe,wECAfA,MAAe,kFCAfA,MAAe,0ECAfA,MAAe,wECAfA,MAAe,0ECAfA,MAAe,0ECAfA,MAAe,8FCAfA,MAAe,8FCAfA,MAAe,0JCAvBA,MAAe,gQCAfA,MAAe,qJCAPA,MAAe,0GCAfA,MAAe,4ICAfA,MAAe,kKCAfA,MAAe,osCCAfA,MAAe,qICAfA,MAAe,wHCAfA,MAAe,mNCAfA,MAAe,uXCAvBA,MAAe,iCCAPA,MAAe,gVCAvBA,MAAe,kCCAfA,MAAe,2HCAfA,MAAe,qICAfA,MAAe,iECAfA,MAAe,mECAfA,MAAe,mECAfA,MAAe,2ICAfA,MAAe,iECAfA,MAAe,uFCAfA,MAAe,mXCAPA,MAAe,waCAvBA,MAAe,mECAfA,MAAe,mECAfA,MAAe,2NCAfA,MAAe,kECAfA,MAAe,4DCAfA,MAAe,gJCAfA,MAAe,0NCAfA,MAAe,qFCAfA,MAAe,yICAfA,MAAe,0ECAfA,MAAe,0ECAfA,MAAe,ujBCAfA,MAAe,gsBCAfA,MAAe,sGCAfA,MAAe,mJCAfA,MAAe,uLCAfA,MAAe,+OCAfA,MAAe,0J,qkBC8KvB,SAASG,GAAQt5F,GACtB,mGACiFA,EADjF,mBAMa,gBAXD,CACZyvC,WAAa8pD,KAUf,IAEEC,WACAC,QACA1hE,UACA2hE,QACAC,UACAC,QACAC,WACAC,aACAC,cAEAC,cACAlyF,UAGAmyF,gBACAC,OACAC,cACAC,kBACAC,mBACAC,aC1Ma,WAA0B,IAAhBz2B,EAAgB,uDAAJ,GACjC,OAAes1B,GAAe,uHAAD,OACkFt1B,EADlF,mLAEkFA,EAFlF,0DAG1B,CAACpoC,MAAO,GAAIC,OAAQ,MDuMzB8oC,UACA+1B,2BACAC,yBACAC,0BACAC,yBACAC,yBACAC,sBACAC,uBACAC,yBACAC,eACAC,cACAC,eACAzxB,SACA0xB,eACAC,aACAC,aACAC,cACAC,WACAC,UACAC,QACAC,gBACAC,kBACAC,YACAC,eACAC,eACAC,cACAh9D,UACA8qC,UACAr+C,UACAC,OACAF,SACA8B,UACA/B,QACA0wE,QACAC,QACAC,iBACAC,UACAC,iBACAC,aACAC,YACAC,eACAC,cACAC,iBACAC,eACAC,SACAC,QACAC,gBACAC,iBACAC,SACAC,WACAC,4BACAC,cACAC,eACAC,gBACAhnC,UACAmL,WACA87B,SACAC,WACAC,SACAC,eACAvvD,QACAwvD,aACAC,WACAC,WACAC,YACAC,SACAC,WACAC,aACAC,YACA7rB,OACA8rB,WACAC,WACAC,aACAC,aACAloD,WACAmoD,OACAC,WACAC,UACAn+C,SACAo+C,qBACAC,aACAC,QACAtzD,QACAuzD,UACAC,cACAC,QACAC,WACAC,QACAC,UACAC,SACAC,UACA7xF,QACAk3E,QACA4a,gBACAC,iBACAC,cACAC,eACAxqC,SACAxX,QACAiiD,QACAC,iBACAC,UACAC,SACAC,WACA77B,aACApM,YACAqR,SACA62B,SACA/9E,QACAg+E,aACAp+C,QACA6tB,SACAwwB,aACAC,aACAC,gBACAC,eACAr+E,UACAs+E,SACA//C,SACAkhB,SACA8+B,SACAC,cACA5G,gBACAx5E,SACArV,SACA01F,cACAC,UACA/4C,UACAg5C,WACAC,WACA32F,SACAqjE,YACAuzB,UA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A,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACFt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,kBACPpgE,IAAK,kBACLy8E,QAAS,WACL,OAAOhoB,KCzBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACFt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,uBACPpgE,IAAK,sBACLy8E,QAAS,WACL,OAAOhoB,KCzBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACFt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,kBACPpgE,IAAK,kBACLy8E,QAAS,WACL,OAAOhoB,KCzBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACFt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,gBACPpgE,IAAK,gBACLy8E,QAAS,WACL,OAAOhoB,KCzBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACFt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,sBACPpgE,IAAK,qBACLy8E,QAAS,WACL,OAAOhoB,KCzBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACFt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,gBACPpgE,IAAK,gBACLy8E,QAAS,WACL,OAAOhoB,KCzBTA,GAAS,CAEX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACFt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,gBACPpgE,IAAK,gBACLy8E,QAAS,WACL,OAAOhoB,KC1BTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACEt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,iBACPpgE,IAAK,iBACLy8E,QAAS,WACL,OAAOhoB,KCxBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACFt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,sBACPpgE,IAAK,sBACLy8E,QAAS,WACL,OAAOhoB,KCxBTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACEt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,gBACPpgE,IAAK,gBACLy8E,QAAS,WACL,OAAOhoB,KCxBTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACEt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,kBACPpgE,IAAK,kBACLy8E,QAAS,WACL,OAAOhoB,KCxBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACFt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,iBACPpgE,IAAK,iBACLy8E,QAAS,WACL,OAAOhoB,KCxBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACFt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,kBACPpgE,IAAK,kBACLy8E,QAAS,WACL,OAAOhoB,KCxBTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACEt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,uBACPpgE,IAAK,sBACLy8E,QAAS,WACL,OAAOhoB,KCxBTA,GAAS,CAEf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACEt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,iBACPpgE,IAAK,iBACLy8E,QAAS,WACL,OAAOhoB,KCrBTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACEt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,gBACPpgE,IAAK,gBACLy8E,QAAS,WACL,OAAOhoB,KCpBTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACEt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YAIG,IACXuM,MAAO,oBACPpgE,IAAK,oBACLy8E,QAAS,WACL,OAAOhoB,KCpBTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEEt1C,KAAI,SAAA00C,GACF,MAAO,CAACA,YCSG,IACXzyC,GDPW,CACXg/C,MAAO,iBACP89E,SAAU,qCACVl+I,IAAK,iBACLy8E,QAAS,WACL,OAAOhoB,KCIX0pF,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,I,ybCpCiBC,G,8HAEnB,WACE,MAAO,CACL1/I,KAAM,OACN6qI,OAAQ,SACR8U,UAAW,EACX9qF,a,sBAKJ,WACE,mC,KAGDh5C,GAAK,U,MAAN,WACE,IAAMqpB,EAAUoB,GAAStiC,KAAKiM,MAAM4kD,OAAOt1C,KAAI,SAAAkB,GAC7C,MAAO,CAAE3gB,MAAO2gB,EAAGrgB,IAAKspC,KAAMjpB,EAAG+/C,WAGnC,6EACyDx8D,KAAKiM,MAAM46H,OADpE,sBACwF3lG,EADxF,yC,KAKD9sB,GAAU,gB,MAAX,SAA6BhY,EAAKN,GAChCkE,KAAKmxC,SAAL,OACG/0C,EAAMN,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","file":"editor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\t//\n/* \n * MIT License\n * \n * Copyright (c) 2019 jinho park (cyberuls@gmail.com, easylogic)\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\t//\n/* \n * MIT License\n * \n * Copyright (c) 2019 jinho park (cyberuls@gmail.com, easylogic)\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\t//\n/* \n * MIT License\n * \n * Copyright (c) 2019 jinho park (cyberuls@gmail.com, easylogic)\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n\telse if(typeof exports === 'object')\n\t\texports[\"editor\"] = factory();\n\t//\n/* \n * MIT License\n * \n * Copyright (c) 2019 jinho park (cyberuls@gmail.com, easylogic)\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n\telse\n\t\troot[\"editor\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 148);\n","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nmodule.exports = _taggedTemplateLiteral;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.urlParser = factory());\n}(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  var getQueryParams = function getQueryParams(qs) {\n    if (typeof qs !== 'string') {\n      return {};\n    }\n\n    qs = qs.split('+').join(' ');\n    var params = {};\n    var match = qs.match(/(?:[?](?:[^=]+)=(?:[^&#]*)(?:[&](?:[^=]+)=(?:[^&#]*))*(?:[#].*)?)|(?:[#].*)/);\n    var split;\n\n    if (match === null) {\n      return {};\n    }\n\n    split = match[0].substr(1).split(/[&#=]/);\n\n    for (var i = 0; i < split.length; i += 2) {\n      params[decodeURIComponent(split[i])] = decodeURIComponent(split[i + 1] || '');\n    }\n\n    return params;\n  };\n\n  var combineParams = function combineParams(params, hasParams) {\n    if (_typeof(params) !== 'object') {\n      return '';\n    }\n\n    var combined = '';\n    var i = 0;\n    var keys = Object.keys(params);\n\n    if (keys.length === 0) {\n      return '';\n    } //always have parameters in the same order\n\n\n    keys.sort();\n\n    if (!hasParams) {\n      combined += '?' + keys[0] + '=' + params[keys[0]];\n      i += 1;\n    }\n\n    for (; i < keys.length; i += 1) {\n      combined += '&' + keys[i] + '=' + params[keys[i]];\n    }\n\n    return combined;\n  }; //parses strings like 1h30m20s to seconds\n\n\n  function getLetterTime(timeString) {\n    var totalSeconds = 0;\n    var timeValues = {\n      's': 1,\n      'm': 1 * 60,\n      'h': 1 * 60 * 60,\n      'd': 1 * 60 * 60 * 24,\n      'w': 1 * 60 * 60 * 24 * 7\n    };\n    var timePairs; //expand to \"1 h 30 m 20 s\" and split\n\n    timeString = timeString.replace(/([smhdw])/g, ' $1 ').trim();\n    timePairs = timeString.split(' ');\n\n    for (var i = 0; i < timePairs.length; i += 2) {\n      totalSeconds += parseInt(timePairs[i], 10) * timeValues[timePairs[i + 1] || 's'];\n    }\n\n    return totalSeconds;\n  } //parses strings like 1:30:20 to seconds\n\n\n  function getColonTime(timeString) {\n    var totalSeconds = 0;\n    var timeValues = [1, 1 * 60, 1 * 60 * 60, 1 * 60 * 60 * 24, 1 * 60 * 60 * 24 * 7];\n    var timePairs = timeString.split(':');\n\n    for (var i = 0; i < timePairs.length; i++) {\n      totalSeconds += parseInt(timePairs[i], 10) * timeValues[timePairs.length - i - 1];\n    }\n\n    return totalSeconds;\n  }\n\n  var getTime = function getTime(timeString) {\n    if (typeof timeString === 'undefined') {\n      return 0;\n    }\n\n    if (timeString.match(/^(\\d+[smhdw]?)+$/)) {\n      return getLetterTime(timeString);\n    }\n\n    if (timeString.match(/^(\\d+:?)+$/)) {\n      return getColonTime(timeString);\n    }\n\n    return 0;\n  };\n\n  var util = {\n    getQueryParams: getQueryParams,\n    combineParams: combineParams,\n    getTime: getTime\n  };\n\n  var getQueryParams$1 = util.getQueryParams;\n\n  function UrlParser() {\n    for (var _i = 0, _arr = ['parseProvider', 'parse', 'bind', 'create']; _i < _arr.length; _i++) {\n      var key = _arr[_i];\n      this[key] = this[key].bind(this);\n    }\n\n    this.plugins = {};\n  }\n\n  var urlParser = UrlParser;\n\n  UrlParser.prototype.parseProvider = function (url) {\n    var match = url.match(/(?:(?:https?:)?\\/\\/)?(?:[^.]+\\.)?(\\w+)\\./i);\n    return match ? match[1] : undefined;\n  };\n\n  UrlParser.prototype.parse = function (url) {\n    if (typeof url === 'undefined') {\n      return undefined;\n    }\n\n    var provider = this.parseProvider(url);\n    var result;\n    var plugin = this.plugins[provider];\n\n    if (!provider || !plugin || !plugin.parse) {\n      return undefined;\n    }\n\n    result = plugin.parse.call(plugin, url, getQueryParams$1(url));\n\n    if (result) {\n      result = removeEmptyParameters(result);\n      result.provider = plugin.provider;\n    }\n\n    return result;\n  };\n\n  UrlParser.prototype.bind = function (plugin) {\n    this.plugins[plugin.provider] = plugin;\n\n    if (plugin.alternatives) {\n      for (var i = 0; i < plugin.alternatives.length; i += 1) {\n        this.plugins[plugin.alternatives[i]] = plugin;\n      }\n    }\n  };\n\n  UrlParser.prototype.create = function (op) {\n    if (_typeof(op) !== 'object' || _typeof(op.videoInfo) !== 'object') {\n      return undefined;\n    }\n\n    var vi = op.videoInfo;\n    var params = op.params;\n    var plugin = this.plugins[vi.provider];\n    params = params === 'internal' ? vi.params : params || {};\n\n    if (plugin) {\n      op.format = op.format || plugin.defaultFormat; // eslint-disable-next-line no-prototype-builtins\n\n      if (plugin.formats.hasOwnProperty(op.format)) {\n        return plugin.formats[op.format].apply(plugin, [vi, Object.assign({}, params)]);\n      }\n    }\n\n    return undefined;\n  };\n\n  function removeEmptyParameters(result) {\n    if (result.params && Object.keys(result.params).length === 0) {\n      delete result.params;\n    }\n\n    return result;\n  }\n\n  var parser = new urlParser();\n  var base = parser;\n\n  var combineParams$1 = util.combineParams;\n\n  function CanalPlus() {\n    this.provider = 'canalplus';\n    this.defaultFormat = 'embed';\n    this.formats = {\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video'\n    };\n  }\n\n  CanalPlus.prototype.parseParameters = function (params) {\n    delete params.vid;\n    return params;\n  };\n\n  CanalPlus.prototype.parse = function (url, params) {\n    var _this = this;\n\n    var result = {\n      mediaType: this.mediaTypes.VIDEO,\n      id: params.vid\n    };\n    result.params = _this.parseParameters(params);\n\n    if (!result.id) {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  CanalPlus.prototype.createEmbedUrl = function (vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = 'http://player.canalplus.fr/embed/';\n    params.vid = vi.id;\n    url += combineParams$1(params);\n    return url;\n  };\n\n  base.bind(new CanalPlus());\n\n  var combineParams$2 = util.combineParams;\n\n  function Coub() {\n    this.provider = 'coub';\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video'\n    };\n  }\n\n  Coub.prototype.parseUrl = function (url) {\n    var match = url.match(/(?:embed|view)\\/([a-zA-Z\\d]+)/i);\n    return match ? match[1] : undefined;\n  };\n\n  Coub.prototype.parse = function (url, params) {\n    var result = {\n      mediaType: this.mediaTypes.VIDEO,\n      params: params,\n      id: this.parseUrl(url)\n    };\n\n    if (!result.id) {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  Coub.prototype.createUrl = function (baseUrl, vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = baseUrl + vi.id;\n    url += combineParams$2(params);\n    return url;\n  };\n\n  Coub.prototype.createLongUrl = function (vi, params) {\n    return this.createUrl('https://coub.com/view/', vi, params);\n  };\n\n  Coub.prototype.createEmbedUrl = function (vi, params) {\n    return this.createUrl('//coub.com/embed/', vi, params);\n  };\n\n  base.bind(new Coub());\n\n  var combineParams$3 = util.combineParams,\n      getTime$1 = util.getTime;\n\n  function Dailymotion() {\n    this.provider = 'dailymotion';\n    this.alternatives = ['dai'];\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"short\": this.createShortUrl,\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl,\n      image: this.createImageUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video'\n    };\n  }\n\n  Dailymotion.prototype.parseParameters = function (params) {\n    return this.parseTime(params);\n  };\n\n  Dailymotion.prototype.parseTime = function (params) {\n    if (params.start) {\n      params.start = getTime$1(params.start);\n    }\n\n    return params;\n  };\n\n  Dailymotion.prototype.parseUrl = function (url) {\n    var match = url.match(/(?:\\/video|ly)\\/([A-Za-z0-9]+)/i);\n    return match ? match[1] : undefined;\n  };\n\n  Dailymotion.prototype.parse = function (url, params) {\n    var _this = this;\n\n    var result = {\n      mediaType: this.mediaTypes.VIDEO,\n      params: _this.parseParameters(params),\n      id: _this.parseUrl(url)\n    };\n    return result.id ? result : undefined;\n  };\n\n  Dailymotion.prototype.createUrl = function (base, vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    return base + vi.id + combineParams$3(params);\n  };\n\n  Dailymotion.prototype.createShortUrl = function (vi, params) {\n    return this.createUrl('https://dai.ly/', vi, params);\n  };\n\n  Dailymotion.prototype.createLongUrl = function (vi, params) {\n    return this.createUrl('https://dailymotion.com/video/', vi, params);\n  };\n\n  Dailymotion.prototype.createEmbedUrl = function (vi, params) {\n    return this.createUrl('https://www.dailymotion.com/embed/video/', vi, params);\n  };\n\n  Dailymotion.prototype.createImageUrl = function (vi, params) {\n    delete params.start;\n    return this.createUrl('https://www.dailymotion.com/thumbnail/video/', vi, params);\n  };\n\n  base.bind(new Dailymotion());\n\n  var combineParams$4 = util.combineParams,\n      getTime$2 = util.getTime;\n\n  function Twitch() {\n    this.provider = 'twitch';\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video',\n      STREAM: 'stream',\n      CLIP: 'clip'\n    };\n  }\n\n  Twitch.prototype.seperateId = function (id) {\n    return {\n      pre: id[0],\n      id: id.substr(1)\n    };\n  };\n\n  Twitch.prototype.parseChannel = function (result, params) {\n    var channel = params.channel || params.utm_content || result.channel;\n    delete params.utm_content;\n    delete params.channel;\n    return channel;\n  };\n\n  Twitch.prototype.parseUrl = function (url, result, params) {\n    var match;\n    match = url.match(/(clips\\.)?twitch\\.tv\\/(?:(?:videos\\/(\\d+))|(\\w+)(?:\\/clip\\/(\\w+))?)/i);\n\n    if (match && match[2]) {\n      //video\n      result.id = 'v' + match[2];\n    } else if (params.video) {\n      //video embed\n      result.id = params.video;\n      delete params.video;\n    } else if (params.clip) {\n      //clips embed\n      result.id = params.clip;\n      result.isClip = true;\n      delete params.clip;\n    } else if (match && match[1] && match[3]) {\n      //clips.twitch.tv/id\n      result.id = match[3];\n      result.isClip = true;\n    } else if (match && match[3] && match[4]) {\n      //twitch.tv/channel/clip/id\n      result.channel = match[3];\n      result.id = match[4];\n      result.isClip = true;\n    } else if (match && match[3]) {\n      result.channel = match[3];\n    }\n\n    return result;\n  };\n\n  Twitch.prototype.parseMediaType = function (result) {\n    var mediaType;\n\n    if (result.id) {\n      if (result.isClip) {\n        mediaType = this.mediaTypes.CLIP;\n        delete result.isClip;\n      } else {\n        mediaType = this.mediaTypes.VIDEO;\n      }\n    } else if (result.channel) {\n      mediaType = this.mediaTypes.STREAM;\n    }\n\n    return mediaType;\n  };\n\n  Twitch.prototype.parseParameters = function (params) {\n    if (params.t) {\n      params.start = getTime$2(params.t);\n      delete params.t;\n    }\n\n    return params;\n  };\n\n  Twitch.prototype.parse = function (url, params) {\n    var _this = this;\n\n    var result = {};\n    result = _this.parseUrl(url, result, params);\n    result.channel = _this.parseChannel(result, params);\n    result.mediaType = _this.parseMediaType(result);\n    result.params = _this.parseParameters(params);\n    return result.channel || result.id ? result : undefined;\n  };\n\n  Twitch.prototype.createLongUrl = function (vi, params) {\n    var url = '';\n\n    if (vi.mediaType === this.mediaTypes.STREAM && vi.channel) {\n      url = 'https://twitch.tv/' + vi.channel;\n    } else if (vi.mediaType === this.mediaTypes.VIDEO && vi.id) {\n      var sep = this.seperateId(vi.id);\n      url = 'https://twitch.tv/videos/' + sep.id;\n\n      if (params.start) {\n        params.t = params.start + 's';\n        delete params.start;\n      }\n    } else if (vi.mediaType === this.mediaTypes.CLIP && vi.id) {\n      if (vi.channel) {\n        url = 'https://www.twitch.tv/' + vi.channel + '/clip/' + vi.id;\n      } else {\n        url = 'https://clips.twitch.tv/' + vi.id;\n      }\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$4(params);\n    return url;\n  };\n\n  Twitch.prototype.createEmbedUrl = function (vi, params) {\n    var url = 'https://player.twitch.tv/';\n\n    if (vi.mediaType === this.mediaTypes.STREAM && vi.channel) {\n      params.channel = vi.channel;\n    } else if (vi.mediaType === this.mediaTypes.VIDEO && vi.id) {\n      params.video = vi.id;\n\n      if (params.start) {\n        params.t = params.start + 's';\n        delete params.start;\n      }\n    } else if (vi.mediaType === this.mediaTypes.CLIP && vi.id) {\n      url = 'https://clips.twitch.tv/embed';\n      params.clip = vi.id;\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$4(params);\n    return url;\n  };\n\n  base.bind(new Twitch());\n\n  var combineParams$5 = util.combineParams,\n      getTime$3 = util.getTime;\n\n  function Vimeo() {\n    this.provider = 'vimeo';\n    this.alternatives = ['vimeopro'];\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video'\n    };\n  }\n\n  Vimeo.prototype.parseUrl = function (url) {\n    var match = url.match(/(?:\\/(?:channels\\/[\\w]+|(?:(?:album\\/\\d+|groups\\/[\\w]+)\\/)?videos?))?\\/(\\d+)/i);\n    return match ? match[1] : undefined;\n  };\n\n  Vimeo.prototype.parseParameters = function (params) {\n    return this.parseTime(params);\n  };\n\n  Vimeo.prototype.parseTime = function (params) {\n    if (params.t) {\n      params.start = getTime$3(params.t);\n      delete params.t;\n    }\n\n    return params;\n  };\n\n  Vimeo.prototype.parse = function (url, params) {\n    var result = {\n      mediaType: this.mediaTypes.VIDEO,\n      params: this.parseParameters(params),\n      id: this.parseUrl(url)\n    };\n    return result.id ? result : undefined;\n  };\n\n  Vimeo.prototype.createUrl = function (baseUrl, vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = baseUrl + vi.id;\n    var startTime = params.start;\n    delete params.start;\n    url += combineParams$5(params);\n\n    if (startTime) {\n      url += '#t=' + startTime;\n    }\n\n    return url;\n  };\n\n  Vimeo.prototype.createLongUrl = function (vi, params) {\n    return this.createUrl('https://vimeo.com/', vi, params);\n  };\n\n  Vimeo.prototype.createEmbedUrl = function (vi, params) {\n    return this.createUrl('//player.vimeo.com/video/', vi, params);\n  };\n\n  base.bind(new Vimeo());\n\n  var combineParams$6 = util.combineParams,\n      getTime$4 = util.getTime;\n\n  function Wistia() {\n    this.provider = 'wistia';\n    this.alternatives = [];\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl,\n      embedjsonp: this.createEmbedJsonpUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video',\n      EMBEDVIDEO: 'embedvideo'\n    };\n  }\n\n  Wistia.prototype.parseUrl = function (url) {\n    var match = url.match(/(?:(?:medias|iframe)\\/|wvideo=)([\\w-]+)/);\n    return match ? match[1] : undefined;\n  };\n\n  Wistia.prototype.parseChannel = function (url) {\n    var match = url.match(/(?:(?:https?:)?\\/\\/)?([^.]*)\\.wistia\\./);\n    var channel = match ? match[1] : undefined;\n\n    if (channel === 'fast' || channel === 'content') {\n      return undefined;\n    }\n\n    return channel;\n  };\n\n  Wistia.prototype.parseParameters = function (params, result) {\n    if (params.wtime) {\n      params.start = getTime$4(params.wtime);\n      delete params.wtime;\n    }\n\n    if (params.wvideo === result.id) {\n      delete params.wvideo;\n    }\n\n    return params;\n  };\n\n  Wistia.prototype.parseMediaType = function (result) {\n    if (result.id && result.channel) {\n      return this.mediaTypes.VIDEO;\n    } else if (result.id) {\n      delete result.channel;\n      return this.mediaTypes.EMBEDVIDEO;\n    } else {\n      return undefined;\n    }\n  };\n\n  Wistia.prototype.parse = function (url, params) {\n    var result = {\n      id: this.parseUrl(url),\n      channel: this.parseChannel(url)\n    };\n    result.params = this.parseParameters(params, result);\n    result.mediaType = this.parseMediaType(result);\n\n    if (!result.id) {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  Wistia.prototype.createUrl = function (vi, params, url) {\n    if (params.start) {\n      params.wtime = params.start;\n      delete params.start;\n    }\n\n    url += combineParams$6(params);\n    return url;\n  };\n\n  Wistia.prototype.createLongUrl = function (vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = 'https://' + vi.channel + '.wistia.com/medias/' + vi.id;\n    return this.createUrl(vi, params, url);\n  };\n\n  Wistia.prototype.createEmbedUrl = function (vi, params) {\n    if (!vi.id || !(vi.mediaType === this.mediaTypes.VIDEO || vi.mediaType === this.mediaTypes.EMBEDVIDEO)) {\n      return undefined;\n    }\n\n    var url = 'https://fast.wistia.com/embed/iframe/' + vi.id;\n    return this.createUrl(vi, params, url);\n  };\n\n  Wistia.prototype.createEmbedJsonpUrl = function (vi) {\n    if (!vi.id || !(vi.mediaType === this.mediaTypes.VIDEO || vi.mediaType === this.mediaTypes.EMBEDVIDEO)) {\n      return undefined;\n    }\n\n    return 'https://fast.wistia.com/embed/medias/' + vi.id + '.jsonp';\n  };\n\n  base.bind(new Wistia());\n\n  var combineParams$7 = util.combineParams;\n\n  function Youku() {\n    this.provider = 'youku';\n    this.defaultFormat = 'long';\n    this.formats = {\n      embed: this.createEmbedUrl,\n      \"long\": this.createLongUrl,\n      flash: this.createFlashUrl,\n      \"static\": this.createStaticUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video'\n    };\n  }\n\n  Youku.prototype.parseUrl = function (url) {\n    var match = url.match(/(?:(?:embed|sid)\\/|v_show\\/id_|VideoIDS=)([a-zA-Z0-9]+)/);\n    return match ? match[1] : undefined;\n  };\n\n  Youku.prototype.parseParameters = function (params) {\n    if (params.VideoIDS) {\n      delete params.VideoIDS;\n    }\n\n    return params;\n  };\n\n  Youku.prototype.parse = function (url, params) {\n    var _this = this;\n\n    var result = {\n      mediaType: this.mediaTypes.VIDEO,\n      id: _this.parseUrl(url),\n      params: _this.parseParameters(params)\n    };\n\n    if (!result.id) {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  Youku.prototype.createUrl = function (baseUrl, vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = baseUrl + vi.id;\n    url += combineParams$7(params);\n    return url;\n  };\n\n  Youku.prototype.createEmbedUrl = function (vi, params) {\n    return this.createUrl('http://player.youku.com/embed/', vi, params);\n  };\n\n  Youku.prototype.createLongUrl = function (vi, params) {\n    return this.createUrl('http://v.youku.com/v_show/id_', vi, params);\n  };\n\n  Youku.prototype.createStaticUrl = function (vi, params) {\n    return this.createUrl('http://static.youku.com/v1.0.0638/v/swf/loader.swf?VideoIDS=', vi, params);\n  };\n\n  Youku.prototype.createFlashUrl = function (vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = 'http://player.youku.com/player.php/sid/' + vi.id + '/v.swf';\n    url += combineParams$7(params);\n    return url;\n  };\n\n  base.bind(new Youku());\n\n  var combineParams$8 = util.combineParams,\n      getTime$5 = util.getTime;\n\n  function YouTube() {\n    this.provider = 'youtube';\n    this.alternatives = ['youtu', 'ytimg'];\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"short\": this.createShortUrl,\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl,\n      shortImage: this.createShortImageUrl,\n      longImage: this.createLongImageUrl\n    };\n    this.imageQualities = {\n      '0': '0',\n      '1': '1',\n      '2': '2',\n      '3': '3',\n      DEFAULT: 'default',\n      HQDEFAULT: 'hqdefault',\n      SDDEFAULT: 'sddefault',\n      MQDEFAULT: 'mqdefault',\n      MAXRESDEFAULT: 'maxresdefault'\n    };\n    this.defaultImageQuality = this.imageQualities.HQDEFAULT;\n    this.mediaTypes = {\n      VIDEO: 'video',\n      PLAYLIST: 'playlist',\n      SHARE: 'share',\n      CHANNEL: 'channel'\n    };\n  }\n\n  YouTube.prototype.parseVideoUrl = function (url) {\n    var match = url.match(/(?:(?:v|vi|be|videos|embed)\\/(?!videoseries)|(?:v|ci)=)([\\w-]{11})/i);\n    return match ? match[1] : undefined;\n  };\n\n  YouTube.prototype.parseChannelUrl = function (url) {\n    // Match an opaque channel ID\n    var match = url.match(/\\/channel\\/([\\w-]+)/);\n\n    if (match) {\n      return {\n        id: match[1],\n        mediaType: this.mediaTypes.CHANNEL\n      };\n    } // Match a vanity channel name or a user name. User urls are deprecated and\n    // currently redirect to the channel of that same name.\n\n\n    match = url.match(/\\/(?:c|user)\\/([\\w-]+)/);\n\n    if (match) {\n      return {\n        name: match[1],\n        mediaType: this.mediaTypes.CHANNEL\n      };\n    }\n  };\n\n  YouTube.prototype.parseParameters = function (params, result) {\n    if (params.start || params.t) {\n      params.start = getTime$5(params.start || params.t);\n      delete params.t;\n    }\n\n    if (params.v === result.id) {\n      delete params.v;\n    }\n\n    if (params.list === result.id) {\n      delete params.list;\n    }\n\n    return params;\n  };\n\n  YouTube.prototype.parseMediaType = function (result) {\n    if (result.params.list) {\n      result.list = result.params.list;\n      delete result.params.list;\n    }\n\n    if (result.id && !result.params.ci) {\n      result.mediaType = this.mediaTypes.VIDEO;\n    } else if (result.list) {\n      delete result.id;\n      result.mediaType = this.mediaTypes.PLAYLIST;\n    } else if (result.params.ci) {\n      delete result.params.ci;\n      result.mediaType = this.mediaTypes.SHARE;\n    } else {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  YouTube.prototype.parse = function (url, params) {\n    var channelResult = this.parseChannelUrl(url);\n\n    if (channelResult) {\n      return channelResult;\n    } else {\n      var result = {\n        params: params,\n        id: this.parseVideoUrl(url)\n      };\n      result.params = this.parseParameters(params, result);\n      result = this.parseMediaType(result);\n      return result;\n    }\n  };\n\n  YouTube.prototype.createShortUrl = function (vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = 'https://youtu.be/' + vi.id;\n\n    if (params.start) {\n      url += '#t=' + params.start;\n    }\n\n    return url;\n  };\n\n  YouTube.prototype.createLongUrl = function (vi, params) {\n    var url = '';\n    var startTime = params.start;\n    delete params.start;\n\n    if (vi.mediaType === this.mediaTypes.CHANNEL) {\n      if (vi.id) {\n        url += 'https://www.youtube.com/channel/' + vi.id;\n      } else if (vi.name) {\n        url += 'https://www.youtube.com/c/' + vi.name;\n      } else {\n        return undefined;\n      }\n    } else if (vi.mediaType === this.mediaTypes.PLAYLIST && vi.list) {\n      params.feature = 'share';\n      url += 'https://www.youtube.com/playlist';\n    } else if (vi.mediaType === this.mediaTypes.VIDEO && vi.id) {\n      params.v = vi.id;\n      url += 'https://www.youtube.com/watch';\n    } else if (vi.mediaType === this.mediaTypes.SHARE && vi.id) {\n      params.ci = vi.id;\n      url += 'https://www.youtube.com/shared';\n    } else {\n      return undefined;\n    }\n\n    if (vi.list) {\n      params.list = vi.list;\n    }\n\n    url += combineParams$8(params);\n\n    if (vi.mediaType !== this.mediaTypes.PLAYLIST && startTime) {\n      url += '#t=' + startTime;\n    }\n\n    return url;\n  };\n\n  YouTube.prototype.createEmbedUrl = function (vi, params) {\n    var url = 'https://www.youtube.com/embed';\n\n    if (vi.mediaType === this.mediaTypes.PLAYLIST && vi.list) {\n      params.listType = 'playlist';\n    } else if (vi.mediaType === this.mediaTypes.VIDEO && vi.id) {\n      url += '/' + vi.id; //loop hack\n\n      if (params.loop === '1') {\n        params.playlist = vi.id;\n      }\n    } else {\n      return undefined;\n    }\n\n    if (vi.list) {\n      params.list = vi.list;\n    }\n\n    url += combineParams$8(params);\n    return url;\n  };\n\n  YouTube.prototype.createImageUrl = function (baseUrl, vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = baseUrl + vi.id + '/';\n    var quality = params.imageQuality || this.defaultImageQuality;\n    return url + quality + '.jpg';\n  };\n\n  YouTube.prototype.createShortImageUrl = function (vi, params) {\n    return this.createImageUrl('https://i.ytimg.com/vi/', vi, params);\n  };\n\n  YouTube.prototype.createLongImageUrl = function (vi, params) {\n    return this.createImageUrl('https://img.youtube.com/vi/', vi, params);\n  };\n\n  base.bind(new YouTube());\n\n  var combineParams$9 = util.combineParams,\n      getTime$6 = util.getTime;\n\n  function SoundCloud() {\n    this.provider = 'soundcloud';\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      TRACK: 'track',\n      PLAYLIST: 'playlist',\n      APITRACK: 'apitrack',\n      APIPLAYLIST: 'apiplaylist'\n    };\n  }\n\n  SoundCloud.prototype.parseUrl = function (url, result) {\n    var match = url.match(/(?:m\\.)?soundcloud\\.com\\/(?:([\\w-]+)\\/(sets\\/)?)([\\w-]+)/i);\n\n    if (!match) {\n      return result;\n    }\n\n    result.channel = match[1];\n\n    if (match[1] === 'playlists' || match[2]) {\n      //playlist\n      result.list = match[3];\n    } else {\n      //track\n      result.id = match[3];\n    }\n\n    return result;\n  };\n\n  SoundCloud.prototype.parseParameters = function (params) {\n    if (params.t) {\n      params.start = getTime$6(params.t);\n      delete params.t;\n    }\n\n    return params;\n  };\n\n  SoundCloud.prototype.parseMediaType = function (result) {\n    if (result.id) {\n      if (result.channel === 'tracks') {\n        delete result.channel;\n        delete result.params.url;\n        result.mediaType = this.mediaTypes.APITRACK;\n      } else {\n        result.mediaType = this.mediaTypes.TRACK;\n      }\n    }\n\n    if (result.list) {\n      if (result.channel === 'playlists') {\n        delete result.channel;\n        delete result.params.url;\n        result.mediaType = this.mediaTypes.APIPLAYLIST;\n      } else {\n        result.mediaType = this.mediaTypes.PLAYLIST;\n      }\n    }\n\n    return result;\n  };\n\n  SoundCloud.prototype.parse = function (url, params) {\n    var result = {};\n    result = this.parseUrl(url, result);\n    result.params = this.parseParameters(params);\n    result = this.parseMediaType(result);\n\n    if (!result.id && !result.list) {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  SoundCloud.prototype.createLongUrl = function (vi, params) {\n    var url = '';\n    var startTime = params.start;\n    delete params.start;\n\n    if (vi.mediaType === this.mediaTypes.TRACK && vi.id && vi.channel) {\n      url = 'https://soundcloud.com/' + vi.channel + '/' + vi.id;\n    } else if (vi.mediaType === this.mediaTypes.PLAYLIST && vi.list && vi.channel) {\n      url = 'https://soundcloud.com/' + vi.channel + '/sets/' + vi.list;\n    } else if (vi.mediaType === this.mediaTypes.APITRACK && vi.id) {\n      url = 'https://api.soundcloud.com/tracks/' + vi.id;\n    } else if (vi.mediaType === this.mediaTypes.APIPLAYLIST && vi.list) {\n      url = 'https://api.soundcloud.com/playlists/' + vi.list;\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$9(params);\n\n    if (startTime) {\n      url += '#t=' + startTime;\n    }\n\n    return url;\n  };\n\n  SoundCloud.prototype.createEmbedUrl = function (vi, params) {\n    var url = 'https://w.soundcloud.com/player/';\n    delete params.start;\n\n    if (vi.mediaType === this.mediaTypes.APITRACK && vi.id) {\n      params.url = 'https%3A//api.soundcloud.com/tracks/' + vi.id;\n    } else if (vi.mediaType === this.mediaTypes.APIPLAYLIST && vi.list) {\n      params.url = 'https%3A//api.soundcloud.com/playlists/' + vi.list;\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$9(params);\n    return url;\n  };\n\n  base.bind(new SoundCloud());\n\n  var combineParams$a = util.combineParams;\n\n  function TeacherTube() {\n    this.provider = 'teachertube';\n    this.alternatives = [];\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video',\n      AUDIO: 'audio',\n      DOCUMENT: 'document',\n      CHANNEL: 'channel',\n      COLLECTION: 'collection',\n      GROUP: 'group'\n    };\n  }\n\n  TeacherTube.prototype.parse = function (url, params) {\n    var result = {};\n    result.list = this.parsePlaylist(params);\n    result.params = params;\n    var match = url.match(/\\/(audio|video|document|user\\/channel|collection|group)\\/(?:[\\w-]+-)?(\\w+)/);\n\n    if (!match) {\n      return undefined;\n    }\n\n    result.mediaType = this.parseMediaType(match[1]);\n    result.id = match[2];\n    return result;\n  };\n\n  TeacherTube.prototype.parsePlaylist = function (params) {\n    if (params['playlist-id']) {\n      var list = params['playlist-id'];\n      delete params['playlist-id'];\n      return list;\n    }\n\n    return undefined;\n  };\n\n  TeacherTube.prototype.parseMediaType = function (mediaTypeMatch) {\n    switch (mediaTypeMatch) {\n      case 'audio':\n        return this.mediaTypes.AUDIO;\n\n      case 'video':\n        return this.mediaTypes.VIDEO;\n\n      case 'document':\n        return this.mediaTypes.DOCUMENT;\n\n      case 'user/channel':\n        return this.mediaTypes.CHANNEL;\n\n      case 'collection':\n        return this.mediaTypes.COLLECTION;\n\n      case 'group':\n        return this.mediaTypes.GROUP;\n    }\n  };\n\n  TeacherTube.prototype.createLongUrl = function (vi, params) {\n    if (!vi.id) {\n      return undefined;\n    }\n\n    var url = 'https://www.teachertube.com/';\n\n    if (vi.list) {\n      params['playlist-id'] = vi.list;\n    }\n\n    if (vi.mediaType === this.mediaTypes.CHANNEL) {\n      url += 'user/channel/';\n    } else {\n      url += vi.mediaType + '/';\n    }\n\n    url += vi.id;\n    url += combineParams$a(params);\n    return url;\n  };\n\n  TeacherTube.prototype.createEmbedUrl = function (vi, params) {\n    if (!vi.id) {\n      return undefined;\n    }\n\n    var url = 'https://www.teachertube.com/embed/';\n\n    if (vi.mediaType === this.mediaTypes.VIDEO || vi.mediaType === this.mediaTypes.AUDIO) {\n      url += vi.mediaType + '/' + vi.id;\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$a(params);\n    return url;\n  };\n\n  base.bind(new TeacherTube());\n\n  var combineParams$b = util.combineParams;\n\n  function TikTok() {\n    this.provider = 'tiktok';\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video'\n    };\n  }\n\n  TikTok.prototype.parse = function (url, params) {\n    var result = {\n      params: params,\n      mediaType: this.mediaTypes.VIDEO\n    };\n    var match = url.match(/@([^/]+)\\/video\\/(\\d{19})/);\n\n    if (!match) {\n      return;\n    }\n\n    result.channel = match[1];\n    result.id = match[2];\n    return result;\n  };\n\n  TikTok.prototype.createLongUrl = function (vi, params) {\n    var url = '';\n\n    if (vi.mediaType === this.mediaTypes.VIDEO && vi.id && vi.channel) {\n      url += \"https://www.tiktok.com/@\".concat(vi.channel, \"/video/\").concat(vi.id);\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$b(params);\n    return url;\n  };\n\n  base.bind(new TikTok());\n\n  var combineParams$c = util.combineParams;\n\n  function Ted() {\n    this.provider = 'ted';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video',\n      PLAYLIST: 'playlist'\n    };\n  }\n\n  Ted.prototype.parseUrl = function (url, result) {\n    var match = url.match(/\\/(talks|playlists\\/(\\d+))\\/([\\w-]+)/);\n    var channel = match ? match[1] : undefined;\n\n    if (!channel) {\n      return result;\n    }\n\n    result.channel = channel.split('/')[0];\n    result.id = match[3];\n\n    if (result.channel === 'playlists') {\n      result.list = match[2];\n    }\n\n    return result;\n  };\n\n  Ted.prototype.parseMediaType = function (result) {\n    if (result.id && result.channel === 'playlists') {\n      delete result.channel;\n      result.mediaType = this.mediaTypes.PLAYLIST;\n    }\n\n    if (result.id && result.channel === 'talks') {\n      delete result.channel;\n      result.mediaType = this.mediaTypes.VIDEO;\n    }\n\n    return result;\n  };\n\n  Ted.prototype.parse = function (url, params) {\n    var result = {\n      params: params\n    };\n    result = this.parseUrl(url, result);\n    result = this.parseMediaType(result);\n\n    if (!result.id) {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  Ted.prototype.createLongUrl = function (vi, params) {\n    var url = '';\n\n    if (vi.mediaType === this.mediaTypes.VIDEO && vi.id) {\n      url += 'https://ted.com/talks/' + vi.id;\n    } else if (vi.mediaType === this.mediaTypes.PLAYLIST && vi.id) {\n      url += 'https://ted.com/playlists/' + vi.list + '/' + vi.id;\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$c(params);\n    return url;\n  };\n\n  Ted.prototype.createEmbedUrl = function (vi, params) {\n    var url = 'https://embed.ted.com/';\n\n    if (vi.mediaType === this.mediaTypes.PLAYLIST && vi.id) {\n      url += 'playlists/' + vi.list + '/' + vi.id;\n    } else if (vi.mediaType === this.mediaTypes.VIDEO && vi.id) {\n      url += 'talks/' + vi.id;\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$c(params);\n    return url;\n  };\n\n  base.bind(new Ted());\n\n  var lib = base;\n\n  return lib;\n\n})));\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","export const MAGIC_METHOD = \"@magic:\";\nexport const makeEventChecker = (value, split = CHECK_SAPARATOR) => {\n  return ` ${split} ${value}`;\n}\n\n// event name regular expression\nexport const CHECK_DOM_EVENT_PATTERN = /domevent (.*)/gi;\nexport const CHECK_LOAD_PATTERN = /load (.*)/gi;\nexport const CHECK_BIND_PATTERN = /bind (.*)/gi;\nexport const CHECK_SUBSCRIBE_PATTERN = /subscribe (.*)/gi;\n\nconst MULTI_PREFIX = \"ME@\";\nconst SPLITTER = \"|\";\n\nexport const PIPE = (...args) => {\n  return args.join(SPLITTER);\n};\n\nexport const EVENT = (...args) => {\n  return MULTI_PREFIX + PIPE(...args);\n};\n\nexport const COMMAND = EVENT\nexport const ON = EVENT\n\n\nexport const NAME_SAPARATOR = \":\";\nexport const CHECK_SAPARATOR = \"|\";\nexport const DOM_EVENT_SAPARATOR = `${MAGIC_METHOD}domevent `;\nexport const LOAD_SAPARATOR = `${MAGIC_METHOD}load `;\nexport const BIND_SAPARATOR = `${MAGIC_METHOD}bind `;\nexport const SUBSCRIBE_SAPARATOR = `${MAGIC_METHOD}subscribe `;\n\nexport const SAPARATOR = ' ';\n\nconst refManager = {};\n\nconst DOM_EVENT_MAKE = (...keys) => {\n  var key = keys.join(NAME_SAPARATOR);\n  return (...args) => {\n    return DOM_EVENT_SAPARATOR + [key, ...args].join(SAPARATOR);\n  };\n};\n\nconst SUBSCRIBE_EVENT_MAKE = (...args) => {\n  return SUBSCRIBE_SAPARATOR + args.join(CHECK_SAPARATOR);\n}\n\n\n// Predefined CHECKER\nexport const CHECKER = (value, split = CHECK_SAPARATOR) => {\n  return makeEventChecker(value, split);\n};\n\nexport const AFTER = (value, split = CHECK_SAPARATOR) => {\n  return CHECKER(`after(${value})`, split);\n};\n\nexport const BEFORE = (value, split = CHECK_SAPARATOR) => {\n  return CHECKER(`before(${value})`, split);  \n};\n\nexport const IF = CHECKER;\nexport const KEY = CHECKER; \n\nexport const ARROW_UP = CHECKER('ArrowUp');\nexport const ARROW_DOWN = CHECKER('ArrowDown');\nexport const ARROW_LEFT = CHECKER('ArrowLeft');\nexport const ARROW_RIGHT = CHECKER('ArrowRight');\nexport const ENTER = CHECKER('Enter');\nexport const SPACE = CHECKER('Space');\nexport const ESCAPE = CHECKER('Escape');\n\nexport const ALT = CHECKER(\"isAltKey\");\nexport const SHIFT = CHECKER(\"isShiftKey\");\nexport const META = CHECKER(\"isMetaKey\");\nexport const CONTROL = CHECKER(\"isCtrlKey\");\nexport const MOUSE = CHECKER(\"hasMouse\");\nexport const TOUCH = CHECKER(\"hasTouch\");\nexport const PEN = CHECKER(\"hasPen\");\nexport const SELF = CHECKER(\"self\");\nexport const LEFT_BUTTON = CHECKER(\"isMouseLeftButton\")\nexport const RIGHT_BUTTON = CHECKER(\"isMouseRightButton\")\n\nexport const FIT = CHECKER(\"fit\");\nexport const PASSIVE = CHECKER(\"passive\");\nexport const DOMDIFF = CHECKER('domdiff');\n\n// event config method\nexport const DEBOUNCE = (t = 100) => {\n  return CHECKER(`debounce(${t})`);\n};\n\nexport const DELAY = (t = 300) => {\n  return CHECKER(`delay(${t})`);\n};\n\nexport const D1000 = DEBOUNCE(1000)\n\nexport const THROTTLE = (t = 100) => {\n  return CHECKER(`throttle(${t})`);\n};\nexport const ALL_TRIGGER = CHECKER(\"allTrigger()\");\nexport const SELF_TRIGGER = CHECKER(\"selfTrigger()\");\n\nexport const CAPTURE = CHECKER(\"capture()\");\n\n// event config method\n\n// before method\n\n// after method\nexport const PREVENT = AFTER(`preventDefault`);\nexport const STOP = AFTER(`stopPropagation`);\n\nexport const SUBSCRIBE = SUBSCRIBE_EVENT_MAKE;\nexport const SUBSCRIBE_ALL = (...args) => SUBSCRIBE_EVENT_MAKE(...args, ALL_TRIGGER);\nexport const SUBSCRIBE_SELF = (...args) => SUBSCRIBE_EVENT_MAKE(...args, SELF_TRIGGER);\nexport const CONFIG = (config, ...args) => SUBSCRIBE_EVENT_MAKE(`config:${config}`, ...args);\nexport const CUSTOM = DOM_EVENT_MAKE;\nexport const CLICK = DOM_EVENT_MAKE(\"click\");\nexport const DOUBLECLICK = DOM_EVENT_MAKE(\"dblclick\");\nexport const MOUSEDOWN = DOM_EVENT_MAKE(\"mousedown\");\nexport const MOUSEUP = DOM_EVENT_MAKE(\"mouseup\");\nexport const MOUSEMOVE = DOM_EVENT_MAKE(\"mousemove\");\nexport const MOUSEOVER = DOM_EVENT_MAKE(\"mouseover\");\nexport const MOUSEOUT = DOM_EVENT_MAKE(\"mouseout\");\nexport const MOUSEENTER = DOM_EVENT_MAKE(\"mouseenter\");\nexport const MOUSELEAVE = DOM_EVENT_MAKE(\"mouseleave\");\nexport const TOUCHSTART = DOM_EVENT_MAKE(\"touchstart\");\nexport const TOUCHMOVE = DOM_EVENT_MAKE(\"touchmove\");\nexport const TOUCHEND = DOM_EVENT_MAKE(\"touchend\");\nexport const KEYDOWN = DOM_EVENT_MAKE(\"keydown\");\nexport const KEYUP = DOM_EVENT_MAKE(\"keyup\");\nexport const KEYPRESS = DOM_EVENT_MAKE(\"keypress\");\nexport const DRAG = DOM_EVENT_MAKE(\"drag\");\nexport const DRAGSTART = DOM_EVENT_MAKE(\"dragstart\");\nexport const DROP = DOM_EVENT_MAKE(\"drop\");\nexport const DRAGOVER = DOM_EVENT_MAKE(\"dragover\");\nexport const DRAGENTER = DOM_EVENT_MAKE(\"dragenter\");\nexport const DRAGLEAVE = DOM_EVENT_MAKE(\"dragleave\");\nexport const DRAGEXIT = DOM_EVENT_MAKE(\"dragexit\");\nexport const DRAGOUT = DOM_EVENT_MAKE(\"dragout\");\nexport const DRAGEND = DOM_EVENT_MAKE(\"dragend\");\nexport const CONTEXTMENU = DOM_EVENT_MAKE(\"contextmenu\");\nexport const CHANGE = DOM_EVENT_MAKE(\"change\");\nexport const INPUT = DOM_EVENT_MAKE(\"input\");\nexport const FOCUS = DOM_EVENT_MAKE(\"focus\");\nexport const FOCUSIN = DOM_EVENT_MAKE(\"focusin\");\nexport const FOCUSOUT = DOM_EVENT_MAKE(\"focusout\");\nexport const BLUR = DOM_EVENT_MAKE(\"blur\");\nexport const PASTE = DOM_EVENT_MAKE(\"paste\");\nexport const RESIZE = DOM_EVENT_MAKE(\"resize\");\nexport const SCROLL = DOM_EVENT_MAKE(\"scroll\");\nexport const SUBMIT = DOM_EVENT_MAKE(\"submit\");\n\n// pointerstart   drag      left button  . \n// context  wheel   . \nexport const POINTERSTART = (...args) => {\n  return (CUSTOM(\"pointerdown\")(...args) + LEFT_BUTTON);\n}\n// \n\nexport const POINTEROVER = CUSTOM(\"pointerover\");\nexport const POINTERENTER = CUSTOM(\"pointerenter\");\nexport const POINTEROUT = CUSTOM(\"pointerout\");\nexport const POINTERMOVE = CUSTOM(\"pointermove\");\nexport const POINTEREND = CUSTOM(\"pointerup\");\nexport const CHANGEINPUT = CUSTOM(\"change\", \"input\");\nexport const WHEEL = CUSTOM(\"wheel\", \"mousewheel\", \"DOMMouseScroll\");\nexport const ANIMATIONSTART = DOM_EVENT_MAKE('animationstart');\nexport const ANIMATIONEND = DOM_EVENT_MAKE('animationend');\nexport const ANIMATIONITERATION = DOM_EVENT_MAKE('animationiteration');\nexport const TRANSITIONSTART = DOM_EVENT_MAKE('transitionstart');\nexport const TRANSITIONEND = DOM_EVENT_MAKE('transitionend');\nexport const TRANSITIONRUN = DOM_EVENT_MAKE('transitionrun');\nexport const TRANSITIONCANCEL = DOM_EVENT_MAKE('transitioncancel');\nexport const DOUBLETAB = CUSTOM('doubletab')\n\n\n// Predefined LOADER\nexport const LOAD = (value = \"$el\") => {\n  return LOAD_SAPARATOR + value;\n};\n\nexport const getRef = id => {\n  return refManager[id] || '';\n};\n\nexport const BIND_CHECK_FUNCTION = field => {\n  return function() {\n    return this.prevState[field] != this.state[field];\n  };\n};\n\nexport const BIND_CHECK_DEFAULT_FUNCTION = () => {\n  return true;\n};\n\nexport const BIND = (value = \"$el\") => {\n  return (\n    BIND_SAPARATOR + value\n  );\n};\n\nexport function normalizeWheelEvent (e) {\n  let dx = e.deltaX;\n  let dy = e.deltaY;\n\n\n  if (dx === 0 && e.shiftKey) {\n    [dy, dx] = [dx, dy];\n  }  \n\n  if (e.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n    dy *= 8;\n  } else if (e.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n    dy *= 24; \n  }\n\n\n  return [\n    limit(dx, 24), \n    limit(dy, 24), \n    0\n  ]\n}\n\nfunction limit (delta, maxDelta) {\n  return Math.sign(delta) * Math.min( maxDelta, Math.abs(delta))\n}\n\nexport default {\n  addDomEvent(dom, eventName, callback, useCapture = false) {\n    if (dom) {\n      dom.addEventListener(eventName, callback, useCapture);\n    }\n  },\n\n  removeDomEvent(dom, eventName, callback) {\n    if (dom) {\n      dom.removeEventListener(eventName, callback);\n    }\n  },\n\n  pos(e) {\n    if (e.touches && e.touches[0]) {\n      return e.touches[0];\n    }\n\n    return e;\n  },\n\n  posXY(e) {\n    var pos = this.pos(e);\n    return {\n      x: pos.pageX,\n      y: pos.pageY\n    };\n  }\n};\n","\n/**\n * property \n *    property   .\n * \n * @param {Object} root     \n * @param {Object} expectMethod    { [field]: true }\n * @returns {string[]}      . \n */\nexport function collectProps(root, expectMethod = {}) {\n\n    let p = root;\n    let results = [];\n    do {\n        const isObject = p instanceof Object;\n\n        if (isObject === false) {\n            break;\n        }\n\n        const names = Object.getOwnPropertyNames(p).filter(name => {\n            return root && isFunction(root[name]) && !expectMethod[name];\n        });\n\n        results.push.apply(results, names);\n    } while (p = Object.getPrototypeOf(p));\n\n\n    return results;\n}\n\nexport function debounce(callback, delay = 0) {\n\n    if (delay === 0) {\n        return callback;\n    }\n\n    var t = undefined;\n\n    return function ($1, $2, $3, $4, $5) {\n        if (t) {\n            clearTimeout(t);\n        }\n\n        t = setTimeout(function () {\n            callback($1, $2, $3, $4, $5);\n        }, delay || 300);\n    }\n}\n\n\nexport function throttle(callback, delay) {\n\n    var t = undefined;\n\n    return function ($1, $2, $3, $4, $5) {\n        if (!t) {\n            t = setTimeout(function () {\n                callback($1, $2, $3, $4, $5);\n                t = null;\n            }, delay || 300);\n        }\n\n    }\n}\n\nexport function ifCheck(callback, context, checkMethods) {\n    return (...args) => {\n        const ifResult = checkMethods.every(check => {\n            return context[check.target].apply(context, args);\n        });\n\n        if (ifResult) {\n            callback.apply(context, args);\n        }\n    }\n}\n\nexport function keyEach(obj, callback) {\n    Object.keys(obj).forEach((key, index) => {\n        callback(key, obj[key], index);\n    })\n}\n\nexport function keyMap(obj, callback) {\n    return Object.keys(obj).map((key, index) => {\n        return callback(key, obj[key], index);\n    })\n}\n\nexport function keyMapJoin(obj, callback, joinString = '') {\n    return keyMap(obj, callback).join(joinString);\n}\n\nexport function get(obj, key, callback) {\n\n    var returnValue = defaultValue(obj[key], key);\n\n    if (isFunction(callback)) {\n        return callback(returnValue);\n    }\n\n    return returnValue;\n}\n\nexport function defaultValue(value, defaultValue) {\n    return typeof value == 'undefined' ? defaultValue : value;\n}\n\nexport function isUndefined(value) {\n    return typeof value == 'undefined' || value === null;\n}\n\nexport function isNotUndefined(value) {\n    return isUndefined(value) === false;\n}\n\nexport function isBoolean(value) {\n    return typeof value == 'boolean'\n}\n\nexport function isString(value) {\n    return typeof value == 'string'\n}\n\nexport function isNotString(value) {\n    return isString(value) === false;\n}\n\nexport function isObject(value) {\n    return typeof value == 'object' && !Array.isArray(value) && !isNumber(value) && !isString(value) && value !== null;\n}\n\nexport function isFunction(value) {\n    return typeof value == 'function'\n}\n\nexport function isNumber(value) {\n    return typeof value == 'number';\n}\n\nexport function isZero(num) {\n    return num === 0;\n}\n\nexport function isNotZero(num) {\n    return !isZero(num);\n}\n\nexport function clone(obj) {\n    if (isUndefined(obj)) return undefined;\n    return JSON.parse(JSON.stringify(obj));\n}\n\n\nexport function combineKeyArray(obj) {\n    Object.keys(obj).forEach(key => {\n        if (Array.isArray(obj[key])) {\n            obj[key] = obj[key].join(', ')\n        }\n    })\n\n    return obj;\n}\n\n\n\nconst short_tag_regexp = /\\<(\\w*)([^\\>]*)\\/\\>/gim;\n\nconst HTML_TAG = {\n    'image': true,\n    'input': true,\n    'br': true,\n    'path': true,\n    'line': true,\n    'circle': true,\n    'rect': true,\n    'path': true,\n    'polygon': true,\n    'polyline': true,\n    'use': true\n}\n\n\nexport const html = (strings, ...args) => {\n\n    var results = strings.map((it, index) => {\n\n        var results = args[index] || ''\n\n        if (!Array.isArray(results)) {\n            results = [results]\n        }\n\n        results = results.join('')\n\n        return it + results;\n    }).join('');\n\n    results = results.replace(short_tag_regexp, function (match, p1) {\n        if (HTML_TAG[p1.toLowerCase()]) {\n            return match;\n        } else {\n            return match.replace('/>', `></${p1}>`)\n        }\n    })\n\n    return results;\n}\n\n\n/**\n *         . \n * \n * @param {string[]} arr \n * @param {string} keyword \n */\nexport const splitMethodByKeyword = (arr, keyword) => {\n    const filterKeys = arr.filter(code => code.indexOf(`${keyword}(`) > -1);\n    const filterMaps = filterKeys.map(code => {\n        const [target, param] = code\n            .split(`${keyword}(`)[1]\n            .split(\")\")[0]\n            .trim()\n            .split(\" \");\n\n        return { target, param };\n    });\n\n    return [filterKeys, filterMaps];\n};","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyVec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Gets the angular distance between two unit quaternions\r\n *\r\n * @param  {ReadonlyQuat} a     Origin unit quaternion\r\n * @param  {ReadonlyQuat} b     Destination unit quaternion\r\n * @return {Number}     Angle, in radians, between the two quaternions\r\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {quat} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Calculate the exponential of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\r\n * Calculate the natural logarithm of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\r\n * Calculate the scalar power of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @param {Number} b amount to scale the quaternion by\r\n * @returns {quat} out\r\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random unit quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyMat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {ReadonlyQuat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {ReadonlyQuat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var clone = vec4.clone;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var fromValues = vec4.fromValues;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var copy = vec4.copy;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var set = vec4.set;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var add = vec4.add;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {ReadonlyQuat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var scale = vec4.scale;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = vec4.dot;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var lerp = vec4.lerp;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {ReadonlyQuat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport var length = vec4.length;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {ReadonlyQuat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var normalize = vec4.normalize;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyQuat} a The first quaternion.\r\n * @param {ReadonlyQuat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyQuat} a The first vector.\r\n * @param {ReadonlyQuat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var equals = vec4.equals;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {ReadonlyVec3} a the initial vector\r\n * @param {ReadonlyVec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {ReadonlyQuat} c the third operand\r\n * @param {ReadonlyQuat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\r\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\r\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import { mat4, vec2, vec3 } from \"gl-matrix\";\n\nexport function round(n, k) {\n    k = typeof k === 'undefined' ? 1 : k;\n    return Math.round(n * k) / k;\n}\n\n\nexport function degreeToRadian(degrees) {\n    return degrees * (Math.PI / 180);\n}\n\nexport function div(num, divNum = 1) {\n    return (num === 0) ? 0 : num / divNum;\n}\n\n/**\n * \n * convert radian to degree \n * \n * @param {*} radian \n * @returns {Number} 0..360\n */\nexport function radianToDegree(radian) {\n    var angle = radian * (180 / Math.PI);\n\n\n    if (angle < 0) {\n        angle = 360 + angle\n    }\n\n    return angle;\n}\n\n\nexport function getXInCircle(angle, radius, centerX = 0) {\n    return centerX + radius * Math.cos(degreeToRadian(angle))\n}\n\nexport function getYInCircle(angle, radius, centerY = 0) {\n    return centerY + radius * Math.sin(degreeToRadian(angle))\n}\n\nexport function getXYInCircle(angle, radius, centerX = 0, centerY = 0) {\n    return {\n        x: getXInCircle(angle, radius, centerX),\n        y: getYInCircle(angle, radius, centerY)\n    }\n}\n\nexport function getDist(x, y, centerX = 0, centerY = 0) {\n    return vec2.distance([x, y], [centerX, centerY])\n}\n\n/**\n * \n * start  end     \n * end pointDist     . \n * \n * @param {vec3} start \n * @param {vec3} end \n * @param {number} pointDist \n */\nexport function getPointBetweenVerties(start, end, pointDist = 0) {\n    return vec3.lerp([], start, end, 1 + pointDist / vec3.dist(start, end))\n}\n\nexport function vertiesMap(verties, transformView) {\n\n    if (verties.length === 1) {\n        return [\n            vec3.transformMat4([], verties[0], transformView),\n        ]\n    } else if (verties.length === 2) {\n        return [\n            vec3.transformMat4([], verties[0], transformView),\n            vec3.transformMat4([], verties[1], transformView),\n        ]\n    } else if (verties.length === 3) {\n        return [\n            vec3.transformMat4([], verties[0], transformView),\n            vec3.transformMat4([], verties[1], transformView),\n            vec3.transformMat4([], verties[2], transformView),\n        ]\n    } else if (verties.length === 4) {\n        return [\n            vec3.transformMat4([], verties[0], transformView),\n            vec3.transformMat4([], verties[1], transformView),\n            vec3.transformMat4([], verties[2], transformView),\n            vec3.transformMat4([], verties[3], transformView),\n        ]\n    } else if (verties.length === 5) {\n        return [\n            vec3.transformMat4([], verties[0], transformView),\n            vec3.transformMat4([], verties[1], transformView),\n            vec3.transformMat4([], verties[2], transformView),\n            vec3.transformMat4([], verties[3], transformView),\n            vec3.transformMat4([], verties[4], transformView),\n        ]\n    }\n\n    return verties.map(v => {\n        return vec3.transformMat4([], v, transformView)\n    });\n}\n\nfunction getTargetPointX(source, target, axis, nextTarget) {\n    return [\n        source, \n        [target[0], source[1], target[2]], \n        axis, \n        Math.abs(source[0] - target[0]), \n        nextTarget\n    ];\n}\n\nfunction getTargetPointY(source, target, axis, nextTarget) {\n    return [\n        [target[0], source[1], source[2]], \n        target, \n        axis, \n        Math.abs(source[1] - target[1]), \n        nextTarget\n    ];\n}    \n\nfunction invertTargetPoint(arr, isInvert = false) {\n    if (isInvert === false) return arr;\n\n    const [source, target, axis, dist, newTarget, sourceVerties, targetVerties] = arr; \n\n    if (newTarget) {\n        return [\n            [target[0], newTarget[1], target[2]],             \n            [source[0], newTarget[1], source[2]], \n            axis, dist, \n            [source[0], source[1], newTarget[2]],\n            sourceVerties, \n            targetVerties,\n            isInvert\n        ]\n    } else {\n        return [\n            target, \n            source, \n            axis, \n            dist, \n            newTarget, \n            sourceVerties, \n            targetVerties,\n            isInvert\n        ]\n    }\n\n}\n\n/**\n *  \n * \n * @param {vec3[]} sourceVerties \n * @param {vec3[]} targetVerties\n * \n * @returns {Array} [source, target, axis, dist, newTarget] \n */\nexport function makeGuidePoint (sourceVerties, targetVerties) {\n\n    let leftVerties = sourceVerties;\n    let rightVerties = targetVerties;\n    let hasInvert = false; \n    if (sourceVerties[4][0] - targetVerties[4][0] > 0) {\n        leftVerties = targetVerties;\n        rightVerties = sourceVerties;\n        hasInvert = true; \n    }\n\n    // x  \n\n    // source       , target       \n    const leftCenter = vec3.lerp([], leftVerties[1], leftVerties[2], 0.5);\n    const rightCenter = vec3.lerp([], rightVerties[0], rightVerties[3], 0.5);\n\n    let pointList = [];\n\n    if (rightVerties[0][1] <= leftCenter[1] && leftCenter[1] <= rightVerties[3][1]) {\n        // target      \n        // console.log(\"left \", rightVerties[0], leftVerties[3]);                        \n        pointList.push(getTargetPointX(leftCenter, rightCenter, \"x\", null))\n    } else if (rightVerties[0][1] <= leftVerties[1][1]) {\n        if (rightVerties[3][0] <= leftVerties[1][0] && leftVerties[1][0] <= rightVerties[2][0]) {\n            // console.log(\"bottom left\", rightVerties[3], leftVerties[1]);\n            pointList.push(getTargetPointY(rightVerties[3], [rightVerties[3][0], leftVerties[1][1], leftVerties[1][2]], \"y\", null))\n        } else {\n            // console.log(\"top left\", leftVerties[1], rightCenter);\n            pointList.push(getTargetPointX(leftVerties[1], rightCenter, \"x\", rightVerties[3]))\n        }\n\n    } else if (leftVerties[3][0] <= rightVerties[0][0] && rightVerties[0][0] <= leftVerties[2][0]) {\n        pointList.push(getTargetPointY(leftVerties[3], rightVerties[0], \"y\"))\n    } else if (rightVerties[3][0] <= leftVerties[0][0] && leftVerties[0][0] <= rightVerties[2][0]) {\n        // console.log(\"bottom right\", rightVerties[0], leftVerties[3]);            \n        pointList.push(getTargetPointY([rightVerties[0][0],leftVerties[3][1], leftVerties[3][2] ], rightVerties[0], \"y\"))\n    } else if (rightVerties[3][0] <= leftVerties[1][0] && leftVerties[1][0] <= rightVerties[2][0]) {\n        // console.log(\"bottom left\", rightVerties[3], leftVerties[1]);\n        pointList.push(getTargetPointY(rightVerties[3], [rightVerties[3][0], leftVerties[1][1], leftVerties[1][2]], \"y\"))\n    } else {\n        // console.log(\"last\", leftVerties[2], rightCenter);            \n        pointList.push(getTargetPointX(leftVerties[2], rightCenter, \"x\", rightVerties[0]))\n    }\n\n    pointList.sort((a, b) => {\n        return a[3] - b[3];\n    });\n\n    return invertTargetPoint([\n        ...pointList[0],\n        sourceVerties,\n        targetVerties,\n    ], hasInvert);\n}\n\n\nexport function getVertiesMaxX(verties) {\n    let maxValue = Number.MIN_SAFE_INTEGER;\n    verties.forEach(v => {\n        maxValue = Math.max(v[0], maxValue)\n    })\n\n    return maxValue;\n}\n\nexport function getVertiesMaxY(verties) {\n    let maxValue = Number.MIN_SAFE_INTEGER;\n    verties.forEach(v => {\n        maxValue = Math.max(v[1], maxValue)\n    })\n\n    return maxValue;\n}\n\nexport function getVertiesMinX(verties) {\n    let maxValue = Number.MAX_SAFE_INTEGER;\n    verties.forEach(v => {\n        maxValue = Math.min(v[0], maxValue)\n    })\n\n    return maxValue;\n}\n\nexport function getVertiesCenterX(verties) {\n    let minX = Number.MAX_SAFE_INTEGER;\n    let maxX = Number.MIN_SAFE_INTEGER;\n    verties.forEach(v => {\n        minX = Math.min(v[0], minX)\n        maxX = Math.max(v[0], maxX)\n    })\n\n    return Math.round((minX + maxX) / 2);\n}\n\nexport function getVertiesMinY(verties) {\n    let maxValue = Number.MAX_SAFE_INTEGER;\n    verties.forEach(v => {\n        maxValue = Math.min(v[1], maxValue)\n    })\n\n    return maxValue;\n}\n\n\nexport function getVertiesCenterY(verties) {\n    let minY = Number.MAX_SAFE_INTEGER;\n    let maxY = Number.MIN_SAFE_INTEGER;\n    verties.forEach(v => {\n        minY = Math.min(v[1], minY)\n        maxY = Math.max(v[1], maxY)\n    })\n\n    return Math.round((minY + maxY) / 2);\n}\n\n\nexport function calculateAngle(rx, ry) {\n    return radianToDegree(Math.atan2(ry, rx))\n}\n\n/**\n * center   point  dist    angle   \n * \n * @param {vec3} point \n * @param {vec3} center \n * @param {vec3} dist \n */\nexport function calculateAngleForVec3(point, center, dist) {\n    return calculateAnglePointDistance(\n        { x: point[0], y: point[1] },\n        { x: center[0], y: center[1] },   // origin \n        { dx: dist[0], dy: dist[1] }\n    )\n}\n\nexport function calculateRotationOriginMat4(angle, origin) {\n    const view = mat4.create();\n    mat4.translate(view, view, origin);    // move origin \n    mat4.rotateZ(view, view, degreeToRadian(angle));    // rotate\n    mat4.translate(view, view, vec3.negate([], origin));    // move origin * -1  \n\n    return view;\n}\n\nexport function calculateMatrix(...args) {\n    const view = mat4.create();\n    args.forEach(v => {\n        mat4.multiply(view, view, v);\n    })\n\n    return view;\n}\n\nexport function calculateMatrixInverse(...args) {\n    return mat4.invert([], calculateMatrix(...args));\n}\n\nexport function calculateAnglePointDistance(point, center, dist) {\n    var x = point.x - center.x\n    var y = point.y - center.y\n\n    var angle1 = calculateAngle(x, y);\n\n    var x2 = point.x + dist.dx - center.x\n    var y2 = point.y + dist.dy - center.y\n\n    var angle = calculateAngle(x2, y2) - angle1;\n\n    return angle;\n}\n\nexport function calculateAngle360(rx, ry) {\n    return (calculateAngle(rx, ry) + 180) % 360\n}\n\nconst UUID_REG = /[xy]/g\n\nexport function uuid() {\n    var dt = new Date().getTime();\n    var uuid = 'xxx12-xx-34xx'.replace(UUID_REG, function (c) {\n        var r = (dt + Math.random() * 16) % 16 | 0;\n        dt = Math.floor(dt / 16);\n        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return uuid;\n}\n\nexport function uuidShort() {\n    var dt = new Date().getTime();\n    var uuid = 'idxxxxxxx'.replace(UUID_REG, function (c) {\n        var r = (dt + Math.random() * 16) % 16 | 0;\n        dt = Math.floor(dt / 16);\n        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return uuid;\n}\n\nconst bezierCalc = {\n    B1: function (t) { return t * t * t },\n    B2: function (t) { return 3 * t * t * (1 - t) },\n    B3: function (t) { return 3 * t * (1 - t) * (1 - t) },\n    B4: function (t) { return (1 - t) * (1 - t) * (1 - t) }\n}\n\nexport function cubicBezier(x1, y1, x2, y2) {\n    var C1 = { x: 0, y: 0 };\n    var C2 = { x: x1, y: y1 };\n    var C3 = { x: x2, y: y2 };\n    var C4 = { x: 1, y: 1 };\n\n    return function (progress) {\n        // var x = C1.x * bezierCalc.B1(p) + C2.x*bezierCalc.B2(p) + C3.x*bezierCalc.B3(p) + C4.x*bezierCalc.B4(p);\n        // var y = C1.y * bezierCalc.B1(progress) + C2.y*bezierCalc.B2(progress) + C3.y*bezierCalc.B3(progress) + C4.y*bezierCalc.B4(progress);\n\n        var y = C2.y * bezierCalc.B2(progress) + C3.y * bezierCalc.B3(progress) + bezierCalc.B4(progress);\n\n        return 1 - y;\n    }\n}\n\nexport function getGradientLine(angle, box) {\n    let length = Math.abs(box.width * Math.sin(angle)) + Math.abs(box.height * Math.cos(angle));\n    let center = {\n        x: box.x + box.width / 2,\n        y: box.y + box.height / 2\n    };\n\n    let yDiff = Math.sin(angle - Math.PI / 2) * length / 2;\n    let xDiff = Math.cos(angle - Math.PI / 2) * length / 2;\n\n    return {\n        length,\n        center,\n        start: {\n            x: center.x - xDiff,\n            y: center.y - yDiff\n        },\n        end: {\n            x: center.x + xDiff,\n            y: center.y + yDiff\n        }\n    };\n}\n\n\nexport function getCenterInTriangle(a, b, c) {\n    return {\n        x: (a.x + b.x + c.x) / 3,\n        y: (a.y + b.y + c.y) / 3\n    }\n}\n\nconst splitReg = /[\\b\\t \\,\\n]/g;\nexport function normalize(str) {\n    return str.trim().split(splitReg).filter(it => it).map(it => +it);\n}","import { isNotUndefined, isString, isNumber, isUndefined } from \"el/sapa/functions/func\";\nimport { degreeToRadian, radianToDegree, round } from \"el/utils/math\";\n\nconst stringToPercent = {\n  center: 50,\n  top: 0,\n  left: 0,\n  right: 100,\n  bottom: 100\n};\n\nexport class Position {}\n\nPosition.CENTER = \"center\";\nPosition.TOP = \"top\";\nPosition.RIGHT = \"right\";\nPosition.LEFT = \"left\";\nPosition.BOTTOM = \"bottom\";\n\nconst REG_CSS_UNIT = /([\\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi;\n\nexport class Length {\n  constructor(value = \"\", unit = \"\") {\n\n    /**\n     * @property {number} value \n     */\n    this.value = value;\n\n    if (isNumber(this.value) && isNaN(this.value)) {\n      throw new Error('NaN is not able to set')\n    }\n\n    this.unit = unit;\n  }\n\n  [Symbol.toPrimitive](hint) {\n    if (hint == \"number\") {\n      return this.value;\n    }\n\n    return this.toString();\n  }\n\n  static min(...args) {\n    var min = args.shift();\n\n    for (var i = 0, len = args.length; i < len; i++) {\n      if (min.value > args[i].value) {\n        min = args[i];\n      }\n    }\n\n    return min;\n  }\n\n  static max(...args) {\n    var max = args.shift();\n\n    for (var i = 0, len = args.length; i < len; i++) {\n      if (max.value < args[i].value) {\n        max = args[i];\n      }\n    }\n\n    return max;\n  }\n\n  static string(value) {\n    return new Length(value + \"\", \"\");\n  }\n\n  static number (value) {\n    return new Length(+value, 'number')\n  }\n\n  static px(value) {\n    return new Length(+value, \"px\");\n  }\n  static em(value) {\n    return new Length(+value, \"em\");\n  }\n  static percent(value) {\n    return new Length(+value, \"%\");\n  }\n  static deg(value) {\n    return new Length(+value, \"deg\");\n  }\n  static rad(value) {\n    return new Length(+value, \"rad\");\n  }  \n  static turn(value) {\n    return new Length(+value, \"turn\");\n  }  \n  static fr(value) {\n    return new Length(+value, \"fr\");\n  }\n\n  static second (value) {\n    return new Length(+value, 's')\n  }\n\n  static ms (value) {\n    return new Length(+value, 'ms')\n  }  \n\n  static var (value) {\n    return new Length(value+'', '--')\n  }\n\n  static z () {\n    return Length.px(0);\n  }\n\n  /**\n   * return calc()  css fuction string\n   *\n   * Length.calc(`${Length.percent(100)} - ${Length.px(10)}`)\n   *\n   * @param {*} str\n   */\n  static calc(str) {\n    return new Length(str, \"calc\");\n  }\n\n  static parse(obj) {\n    obj = obj || Length.number(0)\n\n    if (isString(obj)) {\n      obj = obj.trim()\n        var arr = obj.replace(REG_CSS_UNIT, \"$1 $2\").split(\" \");\n        var isNumberString = +arr[0] == arr[0];\n        if (isNumberString) {\n          return new Length(+arr[0], arr[1]);\n        } else {\n          return new Length(arr[0]);\n        }\n    }\n\n    if (obj instanceof Length) {\n      return obj;\n    } else if (obj.unit) {\n      if (obj.unit == \"%\" || obj.unit == \"percent\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.percent)) {\n          value = obj.percent;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.percent(value);\n      } else if (obj.unit == \"px\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.px)) {\n          value = obj.px;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.px(value);\n      } else if (obj.unit == \"em\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.em)) {\n          value = obj.em;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.em(value);\n      } else if (obj.unit == \"deg\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.deg)) {\n          value = obj.deg;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.deg(value);\n      } else if (obj.unit == \"turn\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.deg)) {\n          value = obj.turn;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.turn(value);        \n      } else if (obj.unit == \"s\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.second)) {\n          value = obj.second;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.second(value);\n      } else if (obj.unit == \"ms\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.ms)) {\n          value = obj.ms;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.ms(value);       \n        \n      } else if (obj.unit == \"number\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.number(value);\n        \n      } else if (obj.unit == \"--\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.var(value);        \n      } else if (obj.unit === \"\" || obj.unit === \"string\") {\n        var value = \"\";\n\n        if (isNotUndefined(obj.str)) {\n          value = obj.str;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n\n\n        return Length.string(value);\n      }\n    }\n\n    return Length.string(obj);\n  }\n  toString() {\n    return this.getUnitText();\n  }\n\n  getUnitText() {\n    switch(this.unit) {\n      case 'string':\n      case 'number':\n        return this.value + '' \n      case 'var':\n          return `var(--${this.value})`\n      case 'calc':\n        return `calc(${this.value})`;\n      default:\n        return this.value + this.unit; \n    }\n  }\n\n  isUnitType(unit) {\n    return this.unit === unit; \n  }\n\n  isCalc()    { return this.isUnitType('calc'); }\n  isFr()      { return this.isUnitType('fr'); }\n  isPercent() { return this.isUnitType('%'); }\n  isPx()      { return this.isUnitType('px'); }\n  isEm()      { return this.isUnitType('em'); }\n  isDeg()     { return this.isUnitType('deg'); }\n  isRad()     { return this.isUnitType('rad'); }\n  isTurn()    { return this.isUnitType('turn'); }\n  isSecond()  { return this.isUnitType('s'); }\n  isMs ()     { return this.isUnitType('ms'); }\n  isNumber()  { return this.isUnitType('number'); }\n  isString()  { return this.isUnitType(''); }\n  isVar()     { return this.isUnitType('--'); }\n  isNaN()     { return isNumber(this.value) && isNaN(this.value) }\n\n  set(value) {\n    this.value = value;\n\n    return this;\n  }\n\n  add(obj) {\n    this.value += +obj;\n    return this;\n  }\n\n  sub(obj) {\n    return this.add(-1 * obj);\n  }\n\n  mul(obj) {\n    this.value *= +obj;\n    return this;\n  }\n\n  div(obj) {\n    this.value /= +obj;\n    return this;\n  }\n\n  mod(obj) {\n    this.value %= +obj;\n    return this;\n  }\n\n  clone() {\n    return new Length(this.value, this.unit);\n  }\n\n  getUnitName() {\n    return this.unit === \"%\" ? \"percent\" : this.unit;\n  }\n\n  toJSON() {\n    return this.toString(); // { value: this.value, unit: this.unit };\n  }\n\n  /**\n   * unit  '%'   x/100  . \n   * \n   * @param {Number} maxValue \n   */\n  rate(maxValue = 100) {\n    return this.value / maxValue;\n  }\n\n  stringToPercent() {\n    if (isNotUndefined(stringToPercent[this.value])) {\n      return Length.percent(stringToPercent[this.value]);\n    }\n\n    return Length.percent(0);\n  }\n\n  stringToEm(maxValue) {\n    return this.stringToPercent().toEm(maxValue);\n  }\n\n  stringToPx(maxValue) {\n    return this.stringToPercent().toPx(maxValue);\n  }\n\n  toPercent(maxValue, fontSize = 16) {\n    if (this.isPercent()) {\n      return this.clone();\n    } else if (this.isPx()) {\n      return Length.percent((this.value * 100) / maxValue);\n    } else if (this.isEm()) {\n      return Length.percent((this.value * fontSize * 100) / maxValue);\n    } else if (this.isString()) {\n      return this.stringToPercent(maxValue);\n    } else if (this.isDeg()) {\n      return Length.percent((this.value / 360) * 100);\n    }\n  }\n\n  toEm(maxValue, fontSize = 16) {\n    if (this.isPercent()) {\n      return Length.em(((this.value / 100) * maxValue) / fontSize);\n    } else if (this.isPx()) {\n      return Length.em(this.value / fontSize);\n    } else if (this.isEm()) {\n      return this.clone();\n    } else if (this.isString()) {\n      return this.stringToEm(maxValue);\n    }\n  }\n\n  toPx(maxValue, fontSize = 16) {\n    if (this.isPercent()) {\n      return Length.px((this.value / 100) * maxValue);\n    } else if (this.isPx()) {\n      return this.clone();\n    } else if (this.isEm()) {\n      return Length.px(((this.value / 100) * maxValue) / 16);\n    } else if (this.isString()) {\n      return this.stringToPx(maxValue);\n    }\n  }\n\n  toDeg() {\n    if (this.isDeg()) {\n      return this.clone()\n    } else if (this.isTurn()) {\n      return Length.deg(this.value * 360)\n    } else if (this.isRad()) {\n      return Length.deg(radianToDegree(this.value))\n    }\n  }\n\n  toRad() {\n    if (this.isRad()) {\n      return this.clone()\n    } else if (this.isTurn()) {\n      const deg = this.toDeg();\n      return Length.rad(degreeToRadian(deg.value))\n    } else if (this.isDeg()) {\n      return Length.rad(degreeToRadian(this.value))\n    }\n  }\n\n\n  toTurn() {\n    if (this.isTurn()) {\n      return this.clone()\n    } else if (this.isDeg()) {\n      return Length.turn(this.value / 360)\n    }\n  }\n\n\n  toSecond () {\n    if (this.isSecond()) {\n      return this; \n    } else if (this.isMs()) {\n      return Length.second(this.value/1000);\n    }\n  }\n\n  toMs () {\n    if (this.isSecond()) {\n      return Length.ms(this.value * 1000);\n    } else if (this.isMs()) {\n      return this; \n    }\n  }\n\n  to(unit, maxValue, fontSize = 16) {\n    if (unit === \"px\") {\n      return this.toPx(maxValue, fontSize);\n    } else if (unit === \"%\" || unit === \"percent\") {\n      return this.toPercent(maxValue, fontSize);\n    } else if (unit === \"em\") {\n      return this.toEm(maxValue, fontSize);\n    } else if (unit === \"deg\") {\n      return this.toDeg();      \n    } else if (unit === \"turn\") {\n      return this.toTurn();\n    }\n  }\n\n  toUnit (unit) {\n    return new Length(this.value, unit);\n  }\n\n  calculate(type, dist) {\n    var func = this[type];\n\n    if (func) {\n      return func.call(this, dist);\n    }\n\n    return this;\n  }\n\n  includes (...arr) {\n    return arr.includes(this.value);\n  }\n\n  round (k) {\n    return new Length(round(this.value, k), this.unit)\n  }\n\n  floor () {\n    return new Length(Math.floor(this.value), this.unit);\n  }\n\n  equals (t) {\n    return this.is(t.value) && this.isUnitType(t.unit); \n  }\n\n  is (value) {\n    return this.value === value \n  }\n\n  clamp (min, max) {\n    return new Length(Math.max(min, Math.min(max, this.value)), this.unit);\n  }\n\n  isZero() {\n    return this.value === 0;\n  }\n}\n\nLength.auto = Length.string(\"auto\");\n","import { clone, isFunction, isNumber, isNotUndefined, isUndefined } from \"el/sapa/functions/func\";\nimport { uuid, uuidShort } from \"el/utils/math\";\n\nconst identity = () => true;\n\nfunction _traverse(obj, filterCallback = identity) {\n  var results = [] \n\n  let len = obj.layers.length;\n  for(let start = len; start--; ) {\n    let it = obj.layers[start];\n    results.push(... _traverse(it.ref, filterCallback));\n  }\n\n  if (filterCallback(obj)) {\n    results.push(obj);\n  }\n\n  return results; \n}\n\n/**\n * Item ,     \n *   . \n * \n * @class\n */\nexport class Item {\n  constructor(json = {}) {\n\n    this.ref = new Proxy(this, {\n      get: (target, key) => {\n        var originMethod = target[key];\n        if (isFunction(originMethod)) {\n          // method tracking\n          return (...args) => {\n            return originMethod.apply(target, args);\n          };\n        } else {\n          // getter or json property\n          return originMethod || target.json[key];\n        }\n      },\n      set: (target, key, value) => {\n        const isDiff = target.json[key] != value; \n\n        if (isDiff) {\n          target.json[key] = value;          \n          this.changed()\n        }\n\n        return true;\n      }\n    });\n\n    if (json instanceof Item) {\n      json = json.toJSON();\n    }\n\n    this.json = this.convert(Object.assign(this.getDefaultObject(), json));\n    this.lastChangedField = {};\n    this.lastChangedFieldKeys = [];\n    this.cachedValue = {};\n\n    return this.ref; \n  }\n\n  /***********************************\n   *\n   * override\n   *\n   **********************************/\n\n  getDefaultTitle() {\n    return \"Item\";\n  }\n\n  getIcon () {\n    return '';\n  }\n\n  /**\n   * check attribute object\n   */\n  isAttribute() {\n    return false;\n  }\n\n  isChanged(timestamp) {\n    return this.json.timestamp != Number(timestamp);\n  }\n\n  changed() {\n    this.json.timestamp = this.json._timestamp + performance.now();\n  }\n\n  /***********************************\n   *\n   * getter\n   *\n   **********************************/\n\n  /**\n   * title  \n   */\n  get title() {\n    return this.json.name || this.getDefaultTitle();\n  }\n\n  renameWithCount() {\n    let arr = this.json.name.split(' ');\n\n    if (arr.length < 2) {\n      return; \n    }\n\n    let last = arr.pop(); \n    let lastNumber = +last; \n    if (isNumber(lastNumber) && isNaN(lastNumber) === false) {\n      lastNumber++;\n    } else {\n      lastNumber = last; \n    }\n\n    const nextName = [...arr, lastNumber].join(' ')\n\n    this.reset({\n      name: nextName\n    })\n  }\n\n  /**\n   * \n   * @return {Item[]}       \n   */\n  get allLayers () {\n    return _traverse(this.ref)\n  }\n\n  /**\n   * filterCallback   layer   . \n   * \n   * @returns {Item[]}\n   */ \n  filteredAllLayers(filterCallback) {\n    return _traverse(this.ref, filterCallback);\n  }\n\n  /**\n   * get id\n   */\n  get id() {\n    return this.json.id;\n  }\n\n  /**\n   *   \n   * \n   * @returns {Item[]}\n   */\n  get layers () {\n    return this.json.layers; \n  }\n\n  /**\n   * @returns {Item}\n   */\n  get parent () {\n    return this.json.parent;\n  }\n\n  setParent (otherParent) {\n    this.json.parent = otherParent;\n  }\n\n  /**\n   *     \n   * \n   * @returns {number}\n   */\n  get depth () {\n    if (!this.parent) return 1; \n\n    return this.parent.depth + 1; \n  }\n\n  /**\n   *    \n   * \n   * @returns {Item}\n   */\n  get top () {\n    if (!this.parent) return this.ref; \n\n    let localParent = this.parent; \n    do {\n      if (!localParent.parent) {\n        return localParent; \n      }\n\n      localParent = localParent.parent; \n\n    } while(localParent);\n  }\n\n  /**\n   *  project  \n   * \n   * @returns {Project}\n   */\n  get project () {\n    return this.path.find(it => it.is('project'))\n  }\n\n  /**\n   *  artboard  \n   * \n   * @returns {ArtBoard}\n   */\n  get artboard () {\n    return this.path.find(it => it.is('artboard'))\n  }\n\n  /**\n   *    instance \n   * \n   * @returns {Item[]}\n   */\n  get path () {\n\n    if (!this.parent) return [ this.ref ];\n\n    const list = this.parent.path;\n\n    list.push(this.ref);\n\n    return list;\n  }\n\n  /**\n   * id   id \n   * \n   * @param {string} postfix \n   */\n  getInnerId(postfix = '') {\n    return this.json.id + postfix;\n  }\n\n  is (checkItemType) {\n    if (!this.json) return false;\n    return checkItemType === this.json.itemType;\n  }\n\n  isNot (checkItemType) {\n    return this.is(checkItemType) === false;\n  }\n\n  isSVG() {\n    return false; \n  }\n\n  addCache(key, value) {\n    this.cachedValue[key] = value;\n  }\n\n  getCache(key) {\n    return this.cachedValue[key];\n  }\n\n  computed(key, newValueCallback) {\n    const cachedKey = `__cachedKey_${key}`\n    const parsedKey = `${cachedKey}__parseValue`\n    const value = this.json[key];\n    if (this.getCache(key) === value && this.getCache(parsedKey)) {\n      return this.getCache(parsedKey);\n    }\n\n    this.addCache(key, value);\n    this.addCache(parsedKey, newValueCallback(value, this.ref));\n\n    return this.getCache(parsedKey);\n  }\n\n  editable(editablePropertyName) {\n    return true; \n  }\n\n  /***********************************\n   *\n   * action\n   *\n   **********************************/\n\n\n  generateListNumber () {\n    this.layers.forEach((it, index) => {\n      it.no = index; \n\n      it.generateListNumber();\n    })    \n  }\n\n  /**\n   * when json is loaded, json object is be a new instance\n   *\n   * @param {*} json\n   */\n  convert(json) {\n\n    if (json.layers) {\n      json.layers.forEach(layer => {\n        layer.parent = this.ref; \n      })\n  \n    }\n\n    return json;\n  }\n\n  setCache() {\n\n  }\n\n  // /**\n  //  * defence to set invalid key-value\n  //  *\n  //  * @param {*} key\n  //  * @param {*} value\n  //  */\n  // checkField(key, value) {\n  //   console.log(this, key, value);\n  //   return true;\n  // }\n\n  toCloneObject (isDeep = true) {\n    var json = this.attrs(\n      'itemType', 'name', 'elementType', 'type', 'visible', 'lock', 'selected'\n    )\n\n    if (isDeep) {\n      json.layers = this.json.layers.map(layer => layer.clone(isDeep))\n    }\n\n    return json; \n  }\n\n  /**\n   * clone Item\n   */\n  clone(isDeep = true) {\n\n    var ItemClass = this.constructor;\n\n    //       . \n    var item =  new ItemClass(this.toCloneObject(isDeep));\n    item.setParent(this.json.parent)\n\n    return item; \n  }\n\n  /**\n   * set json content\n   *\n   * @param {object} obj\n   */\n  reset(obj) {\n\n    // const oldValue = this.attrs(...Object.keys(obj));\n\n    // //    \n    // if (JSON.stringify(oldValue) === JSON.stringify(obj)) return false;\n\n    // const isDiff = Object.keys(obj).some(key => {\n    //   return this.json[key] !== obj[key]\n    // })\n\n    // console.log(isDiff);\n\n    //    id  . \n    if (!obj.__changedId) obj.__changedId = uuid();\n\n    if (this.lastChangedField.__changedId !== obj.__changedId) {\n      // if (isDiff) {\n        this.json = this.convert(Object.assign(this.json, obj));\n        this.lastChangedField = obj; \n        this.lastChangedFieldKeys = Object.keys(obj); \n        this.changed();\n    }\n    //      ? \n    // reset        \n    return true; \n  }\n\n  hasChangedField (...args) {\n\n    return args.some(it => this.lastChangedFieldKeys.includes(it));\n  }\n\n  /**\n   * define default object for item\n   *\n   * @param {object} obj\n   */\n  getDefaultObject(obj = {}) {\n    var id = uuidShort()\n    return {\n      id,\n      _timestamp: Date.now(),\n      _time: performance.now(),\n      visible: true,  //    \n      lock: false,    //   \n      selected: false,  //    \n      layers: [],   //   . \n      ...obj\n    };\n  }\n\n  /**\n   *    object  . \n   * \n   * @param  {...string} args   \n   */\n  attrs (...args) {\n    const result = {}\n\n    args.forEach(field => {\n      result[field] = clone(this.json[field])\n    })\n\n    return result;\n  }\n\n  /**\n   *     \n   * \n   * @returns {boolean}\n   */\n  hasChildren () {\n    return this.layers.length > 0;\n  }\n\n  /**\n   *  . \n   * \n   * @param {Item} layer \n   */\n  appendChild (layer) {\n\n    if (layer.parent === this.ref) {\n      return layer;\n    }\n\n    this.resetMatrix(layer);\n\n    //     layer      . \n    if (layer.parent) {\n      layer.remove();\n    }\n\n    layer.setParent(this.ref);\n\n    this.json.layers.push(layer);\n    this.project.addIndexItem(layer);\n\n    return layer; \n  }\n\n  /**\n   *   . \n   * \n   * @param {Item} layer \n   */\n  prependChildItem (layer) {\n    this.resetMatrix(layer);\n    //     layer      . \n    if (layer.parent) {\n      layer.remove();\n    }\n\n    layer.setParent(this.ref);\n\n    this.json.layers.unshift(layer);\n    this.project.addIndexItem(layer);\n\n    return layer;     \n  }\n\n  resetMatrix (item) {\n\n  }\n\n  refreshMatrixCache () {\n\n  }\n\n  /**\n   *  index   . \n   * \n   * @param {Item} layer \n   * @param {number} index \n   */\n  insertChild (layer, index = 0) {\n\n    this.resetMatrix(layer);\n\n    //     layer      . \n    if (layer.parent) {\n      layer.remove();\n    }\n\n    layer.setParent(this.ref);\n    this.json.layers.splice(index, 0, layer);\n    this.project.addIndexItem(layer);\n\n    return layer;     \n  }\n\n  /**\n   *  Item     . \n   * \n   * @param {Item} layer \n   */\n  appendAfter (layer) {\n\n    const index = this.parent.findIndex(this);\n\n    this.parent.insertChild(layer, index);\n    this.project.addIndexItem(layer);\n    return layer;     \n  }\n\n\n  /**\n   *  Item    . \n   * \n   * @param {Item} layer \n   */\n  appendBefore (layer) {\n\n    const index = this.parent.findIndex(this);\n\n    this.parent.insertChild(layer, index-1);\n    this.project.addIndexItem(layer);\n    return layer;     \n  }  \n\n  /**\n   *     Item   . \n   * set position in layers \n   * \n   * @param {Number} position \n   * @param {Item} item \n   */\n  setPositionInPlace (position, item) {\n    this.layers.splice(position, 0, item);\n  }\n\n  /**\n   * toggle item's attribute\n   *\n   * @param {*} field\n   * @param {*} toggleValue\n   */\n  toggle(field, toggleValue) {\n    if (isUndefined(toggleValue)) {\n      this.json[field] = !this.json[field];\n    } else {\n      this.json[field] = !!toggleValue;\n    }\n  }\n\n  isTreeItemHide () {\n\n    let currentParent = this.parent;\n    let collapsedList = [] \n    do {\n      if (currentParent.is('project')) break;\n\n      collapsedList.push(Boolean(currentParent.collapsed))\n      currentParent = currentParent.parent; \n    } while (currentParent)\n\n    //   collapsed      \n    return Boolean(collapsedList.filter(Boolean).length);\n\n  }\n\n  expectJSON (key) {\n    if (key === 'parent') return false; \n    if (isUndefined(this.json[key])) return false; \n\n    return true; \n  }\n\n  /**\n   * convert to json\n   * \n   */\n  toJSON() {\n    const json = this.json; \n\n    let newJSON = {}\n    Object.keys(json).filter(key => this.expectJSON(key)).forEach(key => {\n      newJSON[key] = json[key]; \n    })\n\n    return newJSON;\n  }\n\n  resize () {}\n\n  /**\n   * Item  \n   * \n   * @param {number} dist \n   */\n  copy (dist = 0) {\n    return this.json.parent.copyItem(this.ref, dist);\n  }\n\n  findIndex (item) {\n    return this.json.layers.indexOf(item.ref);\n  }\n\n  copyItem (childItem, dist = 10 ) {\n    var child = childItem.clone()  \n    child.renameWithCount()\n    child.move([dist, dist, 0])\n\n    var childIndex = this.findIndex(childItem); \n\n    if (childIndex > -1) {\n      this.json.layers.push(child);\n      this.project.addIndexItem(child);      \n    }\n    return child;\n  }\n\n  /**\n   *    . \n   * remove self in parent \n   */\n  remove () {\n    this.json.parent.removeChild(this.ref);\n\n    this.project.removeIndexItem(this.ref);\n  }\n\n  /**\n   * remote child item \n   * \n   * @param {Item} childItem \n   */\n  removeChild (childItem) {\n\n    const index = this.findIndex(childItem);\n\n    if (index > -1) {\n      this.json.layers.splice(index, 1);\n    }\n\n  }\n\n  /**\n   *      . \n   * \n   * @param {string} parentId \n   */\n  hasParent (parentId) {\n    var isParent = this.json.parent.id === parentId\n\n    if (!isParent && this.json.parent.is('project') === false) return this.json.parent.hasParent(parentId);\n\n    return isParent; \n  }\n\n}\n","import { isFunction } from 'el/sapa/functions/func';\n\nconst setBooleanProp = (el, name, value) => {\n    if (value) {\n        el.setAttribute(name, name);\n        el[name] = value;\n    } else {\n        el.removeAttribute(name);\n        el[name] = value;\n    }\n  };\n  \nconst setProp = (el, name, value) => {\n    if (typeof value === 'boolean') {\n        setBooleanProp(el, name, value);\n    } else {\n        el.setAttribute(name, value);\n    }\n};\n\n\nconst removeBooleanProp = (node, name) => {\n    node.removeAttribute(name);\n    node[name] = false;\n};\n\nconst removeUndefinedProp = (node, name) => {\n    node.removeAttribute(name);\n}\n  \nconst removeProp = (node, name, value) => {\n    if (typeof value === 'boolean') {\n        removeBooleanProp(node, name);\n    } else if (name) {\n        removeUndefinedProp(node, name);\n    }\n};\n  \n\nconst updateProp = (node, name, newValue, oldValue) => {\n    if (!newValue) {\n      removeProp(node, name, oldValue);\n    } else if (!oldValue || newValue !== oldValue) {\n      setProp(node, name, newValue);\n    }\n  };\n\n\nconst updateProps = (node, newProps = {}, oldProps = {}) => {\n\n    const keyList = [];\n    keyList.push.apply(keyList, Object.keys(newProps))\n    keyList.push.apply(keyList, Object.keys(oldProps))\n\n    const props = new Set(keyList)\n\n    props.forEach(key => {\n        updateProp(node, key, newProps[key], oldProps[key])\n    })\n};\n\n/**\n * TEXT_NODE           . \n * \n * @param {*} node1 \n * \n * @param {*} node2 \n */\nfunction changed(node1, node2) {\n    return (\n        (node1.nodeType === Node.TEXT_NODE && node1.textContent !== node2.textContent) \n        || node1.nodeName !== node2.nodeName\n    ) \n}\n\nfunction hasPassed(node1) {\n    return (\n        (node1.nodeType !== Node.TEXT_NODE && node1.getAttribute('data-domdiff-pass') === 'true') \n    ) \n}\n\n/**\n * refClass     el  . \n * \n */ \nfunction hasRefClass(node1) {\n    return (\n        (node1.nodeType !== Node.TEXT_NODE && (node1.getAttribute('refClass'))) \n    ) \n}\n\nfunction getProps (attributes) {\n    var results = {}\n    const len = attributes.length;\n    for(let i = 0; i < len; i++) {\n        const t = attributes[i];\n        results[t.name] = t.value;        \n    }\n\n    return results;\n    \n}\n\nfunction updateElement (parentElement, oldEl, newEl, i, options = {}) {\n\n    if (!oldEl) {\n        // console.log('replace');        \n        parentElement.appendChild(newEl.cloneNode(true));\n    } else if (!newEl) {\n        // console.log('replace');        \n        parentElement.removeChild(oldEl);\n    } else if (hasPassed(oldEl) || hasPassed(newEl)) {\n        // NOOP\n        // data-domdiff-pass=\"true\"      . \n        // console.log(oldEl, newEl, 'passed');\n    } else if (changed(newEl, oldEl) || hasRefClass(newEl)) {\n        // node    , refClass   \n        parentElement.replaceChild(newEl.cloneNode(true), oldEl);\n    } else if (\n        newEl.nodeType !== Node.TEXT_NODE \n\n        && newEl.nodeType !== Node.COMMENT_NODE\n        && newEl.toString() !== \"[object HTMLUnknownElement]\"\n    ) {\n\n        if (options.checkPassed && options.checkPassed(oldEl, newEl)) {\n            // NOOP \n            //   checkPassed  true    . \n            //    . \n        } else {\n            // console.log(newEl);\n            updateProps(oldEl, getProps(newEl.attributes), getProps(oldEl.attributes)); // added        \n        }\n\n        var oldChildren = children(oldEl);\n        var newChildren = children(newEl);\n        var max = Math.max(oldChildren.length, newChildren.length);\n\n        for (var i = 0; i < max; i++) {\n            updateElement(oldEl, oldChildren[i], newChildren[i], i);\n        }\n    }\n\n}\n\nconst children = (el) => {\n    var element = el.firstChild; \n\n    if (!element) {\n        return [] \n    }\n\n    var results = [] \n\n    do {\n        results.push(element);\n        element = element.nextSibling;\n    } while (element);\n\n    return results; \n}\n\n\n/**\n * \n * @param {*} A \n * @param {*} B \n * @param {object} options \n * @param {function} [options.checkPassed=undefined]\n */\nexport function DomDiff (A, B, options = {}) {\n\n    // initialize options parameter\n    options.checkPassed = isFunction(options.checkPassed) ? options.checkPassed : undefined;\n\n    A = A.el || A; \n    B = B.el || B; \n\n    var childrenA = children(A);\n    var childrenB = children(B); \n\n    var len = Math.max(childrenA.length, childrenB.length);\n    for (var i = 0; i < len; i++) {\n        updateElement(A, childrenA[i], childrenB[i], i, options);\n    }\n}\n","\nconst UUID_REG = /[xy]/g\n\nexport function uuid() {\n    var dt = new Date().getTime();\n    var uuid = 'xxx12-xx-34xx'.replace(UUID_REG, function (c) {\n        var r = (dt + Math.random() * 16) % 16 | 0;\n        dt = Math.floor(dt / 16);\n        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return uuid;\n}\n\nexport function uuidShort() {\n    var dt = new Date().getTime();\n    var uuid = 'idxxxxxxx'.replace(UUID_REG, function (c) {\n        var r = (dt + Math.random() * 16) % 16 | 0;\n        dt = Math.floor(dt / 16);\n        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return uuid;\n}\n","import { uuidShort } from \"./uuid\";\nimport { isString } from './func';\n\nconst map = {};\nconst __tempVariables = new Map();\nconst __tempVariablesGroup = new Map();\n\nwindow.__tempVariables = __tempVariables;\n\nexport const VARIABLE_SAPARATOR = \"v:\";\n\n\n/**\n * props          \n * \n * @param {any} value\n * @returns {string}  id  \n */\nexport function variable(value, groupId = '') {\n    const id = `${VARIABLE_SAPARATOR}${uuidShort()}`;\n\n    __tempVariables.set(id, value);\n\n    if (groupId) {\n        __tempVariablesGroup.has(groupId) || __tempVariablesGroup.set(groupId, new Set());\n        __tempVariablesGroup.get(groupId).add(id);\n    }\n\n    return id;\n}\n\n/**\n * groupId     . \n * \n * @copilot\n * @param {*} groupId \n */\nexport function initializeGroupVariables(groupId) {\n    if (__tempVariablesGroup.has(groupId)) {\n        __tempVariablesGroup.get(groupId).forEach(id => {\n            __tempVariables.delete(id);\n        });\n        __tempVariablesGroup.delete(groupId);\n    }\n}\n\n/**\n *  id    variable  . \n * \n * @param {string} id\n * @returns {any}\n */\nexport function recoverVariable(id, removeVariable = true) {\n\n    // console.log(id);\n    if (isString(id) === false) {\n        return id;\n    }\n\n    let value = id;\n\n    if (__tempVariables.has(id)) {\n        value = __tempVariables.get(id);\n\n        if (removeVariable) {\n            __tempVariables.delete(id);\n        }\n    }\n\n    return value;\n}\n\nexport function hasVariable(id) {\n    return __tempVariables.has(id);\n}\n\n/**\n *  key=value   . \n * \n * @param {object} obj \n * @returns {string}\n */\nexport function spreadVariable(obj) {\n\n    return Object.entries(obj).map(([key, value]) => {\n        return `${key}=${variable(value)}`\n    }).join(\" \");\n\n}\n\n\nexport function registElement(classes = {}) {\n\n    Object.keys(classes).forEach(key => {\n        if (map[key]) {\n            // console.warn(`${key} element is duplicated.`)\n            return;\n        }\n\n        map[key] = classes[key];\n    })\n}\n\nexport function retriveElement(className) {\n    return map[className];\n}","import { DomDiff } from \"./DomDiff\";\nimport { recoverVariable } from './registElement';\n\n/**\n * Dom  \n * \n */ \nexport default class Dom {\n  constructor(tag, className, attr) {\n    if (typeof tag !== 'string') {\n      this.el = tag;\n    } else {\n      var el = document.createElement(tag);\n\n      if (className) {\n        el.className = className;\n      }\n \n      attr = attr || {};\n\n      for (var k in attr) {\n        el.setAttribute(k, attr[k]);\n      }\n\n      this.el = el;\n    }\n  }\n\n  static create (tag, className, attr) {\n    return new Dom(tag, className, attr);\n  }\n \n  static createByHTML (htmlString) {\n    var div = Dom.create('div')\n    var list = div.html(htmlString).children();\n\n    if (list.length) {\n      return Dom.create(list[0].el);\n    }\n\n    return null; \n  }\n\n  static getScrollTop() {\n    return Math.max(\n      window.pageYOffset,\n      document.documentElement.scrollTop,\n      document.body.scrollTop\n    );\n  }\n\n  static getScrollLeft() {\n    return Math.max(\n      window.pageXOffset,\n      document.documentElement.scrollLeft,\n      document.body.scrollLeft\n    );\n  }\n\n  static parse(html) {\n    var parser = DOMParser();\n    return parser.parseFromString(html, \"text/htmll\");\n  }\n\n  static body () {\n    return Dom.create(document.body)\n  }\n\n  setAttr (obj) {\n    Object.keys(obj).forEach(key => {\n      this.attr(key, obj[key])\n    })\n    return this;  \n  }\n\n  setAttrNS (obj, namespace = 'http://www.w3.org/2000/svg') {\n    Object.keys(obj).forEach(key => {\n      this.attr(key, obj[key], namespace)\n    })\n    return this;  \n  }  \n\n  setProp (obj) {\n    Object.keys(obj).forEach(key => {\n      //    . \n      if (this.el[key] != obj[key]) {\n        this.el[key] = obj[key];\n      }\n    })\n    return this;  \n  }\n\n  /**\n   * data-xxx  . \n   * \n   * @param {string} key \n   * @param {any} value \n   */\n  data (key, value) {\n    if (arguments.length === 1) {\n      const value = this.attr('data-' + key)\n\n      return recoverVariable(value, false);\n    } else if (arguments.length === 2) {\n      return this.attr('data-' + key, value);\n    }\n\n    //TODO:  data   {[key]: value}   \n\n    return this; \n  }\n\n  /**\n   * Dom attribute    \n   * \n   * get ->  Dom.create(targetElement).attr('key');\n   * set -> Dom.create(targetElement).attr('key', value);\n   * \n   * @param {string} key \n   * @param {[string]} value \n   */\n  attr(key, value) {\n    if (arguments.length == 1) {\n      return this.el.getAttribute(key);\n    }\n\n    //      . \n    if (this.el.getAttribute(key) != value) {\n      this.el.setAttribute(key, value);\n    }\n\n    return this;\n  }\n\n  attrNS(key, value, namespace = 'http://www.w3.org/2000/svg') {\n    if (arguments.length == 1) {\n      return this.el.getAttributeNS(namespace, key);\n    }\n\n    //      . \n    if (this.el.getAttributeNS(namespace, key) != value) {\n      this.el.setAttributeNS(namespace, key, value);\n    }\n\n    return this;\n  }  \n\n  attrKeyValue(keyField) {\n    return {\n      [this.el.getAttribute(keyField)]: this.val()\n    }\n  }\n\n  attrs(...args) {\n    return args.map(key => {\n      return this.el.getAttribute(key);\n    });\n  }\n\n  styles(...args) {\n    return args.map(key => {\n      return this.el.style[key];\n    });\n  }  \n\n  removeAttr(key) {\n    this.el.removeAttribute(key);\n\n    return this;\n  }\n\n  removeStyle(key) {\n    this.el.style.removeProperty(key);\n    return this;\n  }\n\n  is(checkElement) {\n    return this.el === (checkElement.el || checkElement);\n  }\n\n  isTag(tag) {\n    return this.el.tagName.toLowerCase() === tag.toLowerCase()\n  }\n\n  closest(cls) {\n    var temp = this;\n    var checkCls = false;\n\n    while (!(checkCls = temp.hasClass(cls))) {\n      if (temp.el.parentNode) {\n        temp = Dom.create(temp.el.parentNode);\n      } else {\n        return null;\n      }\n    }\n\n    if (checkCls) {\n      return temp;\n    }\n\n    return null;\n  }\n\n  path() {\n\n    if (!this.el) return [];\n\n    const $parentNode = this.parent(); \n\n    if ($parentNode) {\n      return [...$parentNode.path(), this]\n    } else {\n      return [this]\n    }\n\n\n  }\n\n  parent() {\n    return Dom.create(this.el.parentNode);\n  }\n\n  hasParent () {\n    return !!this.el.parentNode\n  }\n\n  removeClass(...args) {\n    this.el.classList.remove(...args);\n    return this;\n  }\n\n  hasClass(cls) {\n    if (!this.el.classList) return false;\n    return this.el.classList.contains(cls);\n  }\n\n  addClass(...args) {\n    this.el.classList.add(...args);\n\n    return this;\n  }\n\n  onlyOneClass(cls) {\n    var parent = this.parent();\n\n    parent.children().forEach(it => {\n      it.removeClass(cls);\n    })\n\n    this.addClass(cls);\n  }\n\n  toggleClass(cls, isForce) {\n    this.el.classList.toggle(cls, isForce);\n    return this; \n  }\n\n  html(html) {\n    if (typeof html === 'undefined') {\n      return this.el.innerHTML;\n    }\n\n    if (typeof html === 'string') {\n      this.el.innerHTML = html;\n    } else {\n      this.empty().append(html);\n    }\n\n    return this;\n  }\n\n  htmlDiff(fragment) {\n    DomDiff(this, fragment);\n  }\n  updateDiff (html, rootElement = 'div', options = {}) {\n    DomDiff(this, Dom.create(rootElement).html(html), options)\n  }\n\n  updateSVGDiff (html, rootElement = 'div') {\n    DomDiff(this, Dom.create(rootElement).html(`<svg>${html}</svg>`).firstChild.firstChild)\n  }  \n\n  find(selector) {\n    return this.el.querySelector(selector);\n  }\n\n  $(selector) {\n    var node = this.find(selector);\n    return node ? Dom.create(node) : null;\n  }\n\n  findAll(selector) {\n    return Array.from(this.el.querySelectorAll(selector));\n  }\n\n  $$(selector) {\n    var arr = this.findAll(selector);\n    return arr.map(node => Dom.create(node));\n  }\n\n  empty() {\n    while (this.el.firstChild) this.el.removeChild(this.el.firstChild);\n    return this;\n  }\n\n  append(el) {\n    if (typeof el === 'string') {\n      this.el.appendChild(document.createTextNode(el));\n    } else {\n      this.el.appendChild(el.el || el);\n    }\n\n    return this;\n  }\n\n  prepend(el) {\n    if (typeof el === 'string') {\n      this.el.prepend(document.createTextNode(el));\n    } else {\n      this.el.prepend(el.el || el);\n    }\n\n    return this;    \n  }\n\n  prependHTML(html) {\n    var $dom = Dom.create(\"div\").html(html);\n\n    this.prepend($dom.createChildrenFragment());\n\n    return $dom;\n  }\n\n  appendHTML(html) {\n    var $dom = Dom.create(\"div\").html(html);\n\n    this.append($dom.createChildrenFragment());\n\n    return $dom;\n  }\n\n  /**\n   * create document fragment with children dom\n   */\n  createChildrenFragment() {\n    const list = this.children();\n\n    var fragment = document.createDocumentFragment();\n    list.forEach($el => fragment.appendChild($el.el));\n\n    return fragment;\n  }\n\n  appendTo(target) {\n    var t = target.el ? target.el : target;\n\n    t.appendChild(this.el);\n\n    return this;\n  }\n\n  remove() {\n    if (this.el.parentNode) {\n      this.el.parentNode.removeChild(this.el);\n    }\n\n    return this;\n  }\n\n  removeChild(el) {\n    this.el.removeChild(el.el || el);\n    return this; \n  }\n\n  /**\n   * \n   * @param {string} value \n   * @returns {string}     textContent  . \n   */\n  text(value) {\n    if (typeof value === 'undefined') {\n      return this.el.textContent;\n    } else {\n      var tempText = value;\n\n      if (value instanceof Dom) {\n        tempText = value.text();\n      }\n\n      //       . \n      if (this.el.textContent !== tempText) {\n        this.el.textContent = tempText;\n      }\n\n      return this;\n    }\n  }\n\n  /**\n   *\n   * $el.css`\n   *  border-color: yellow;\n   * `\n   *\n   * @param {*} key\n   * @param {*} value\n   */\n\n  css(key, value) {\n    if (typeof key !== 'undefined' && typeof value !== 'undefined') {\n      if (key.indexOf('--') === 0 &&  typeof value !== 'undefined' ) {\n        this.el.style.setProperty(key, value);\n      } else {\n        this.el.style[key] = value;\n      }\n    } else if (typeof key !== 'undefined') {\n      if (typeof key === 'string') {\n        return getComputedStyle(this.el)[key];  \n      } else {\n        Object.entries(key).forEach(([localKey, value]) => {\n          if (localKey.indexOf('--') === 0 && typeof value !== 'undefined' ) {\n            this.el.style.setProperty(localKey, value);\n          } else {\n            this.el.style[localKey] = value;\n          }          \n        })\n      }\n    }\n\n    return this;\n  }\n\n  getComputedStyle (...list) {\n    var css = getComputedStyle(this.el);\n\n    var obj = {}\n    list.forEach(it => {\n      obj[it] = css[it]\n    })\n\n    return obj; \n  }\n\n  getStyleList(...list) {\n    var style = {};\n\n    var len = this.el.style.length;\n    for (var i = 0; i < len; i++) {\n      var key = this.el.style[i];\n\n      style[key] = this.el.style[key];\n    }\n\n    list.forEach(key => {\n      style[key] = this.css(key);\n    });\n\n    return style;\n  }\n\n  cssText(value) {\n    if (typeof value === 'undefined') {\n      return this.el.style.cssText;\n    }\n\n    if (value != this.el.tempCssText) {\n      this.el.style.cssText = value;\n      this.el.tempCssText = value; \n    } \n\n    return this;\n  }\n\n  cssArray(arr) {\n    if (arr[0]) this.el.style[arr[0]] = arr[1];\n    if (arr[2]) this.el.style[arr[2]] = arr[3];\n    if (arr[4]) this.el.style[arr[4]] = arr[5];\n    if (arr[6]) this.el.style[arr[6]] = arr[7];\n    if (arr[8]) this.el.style[arr[8]] = arr[9];\n\n    return this;\n  }\n\n  cssFloat(key) {\n    return parseFloat(this.css(key));\n  }\n\n  cssInt(key) {\n    return parseInt(this.css(key));\n  }\n\n  px(key, value) {\n    return this.css(key, `${value}px`);\n  }\n\n  rect() {\n    return this.el.getBoundingClientRect();\n  }\n\n  bbox () {\n    return this.el.getBBox();\n  }\n\n  isSVG () {\n    return this.el.tagName.toUpperCase() === 'SVG';\n  }\n\n  offsetRect() {\n\n    if (this.isSVG()) {\n      const parentBox = this.parent().rect();\n      const box = this.rect();\n\n      return {\n        x: box.x - parentBox.x,\n        y: box.y - parentBox.y,\n        top: box.x - parentBox.x,\n        left: box.y - parentBox.y,\n        width: box.width,\n        height: box.height\n      }\n    }\n\n    return {\n      x: this.el.offsetLeft,\n      y: this.el.offsetTop,\n      top: this.el.offsetTop,\n      left: this.el.offsetLeft,\n      width: this.el.offsetWidth,\n      height: this.el.offsetHeight\n    };\n  }\n\n  offset() {\n    var rect = this.rect();\n\n    var scrollTop = Dom.getScrollTop();\n    var scrollLeft = Dom.getScrollLeft();\n\n    return {\n      top: rect.top + scrollTop,\n      left: rect.left + scrollLeft\n    };\n  }\n\n  offsetLeft() {\n    return this.offset().left;\n  }\n\n  offsetTop() {\n    return this.offset().top;\n  }\n\n  position() {\n    if (this.el.style.top) {\n      return {\n        top: parseFloat(this.css(\"top\")),\n        left: parseFloat(this.css(\"left\"))\n      };\n    } else {\n      return this.rect();\n    }\n  }\n\n  size() {\n    return [this.width(), this.height()];\n  }\n\n  width() {\n    return this.el.offsetWidth || this.rect().width;\n  }\n\n  contentWidth() {\n    return (\n      this.width() -\n      this.cssFloat(\"padding-left\") -\n      this.cssFloat(\"padding-right\")\n    );\n  }\n\n  height() {\n    return this.el.offsetHeight || this.rect().height;\n  }\n\n  contentHeight() {\n    return (\n      this.height() -\n      this.cssFloat(\"padding-top\") -\n      this.cssFloat(\"padding-bottom\")\n    );\n  }\n\n  val(value) {\n    if (typeof value === 'undefined') {\n      return this.el.value;\n    } else if (typeof value !== 'undefined') {\n      var tempValue = value;\n\n      if (value instanceof Dom) {\n        tempValue = value.val();\n      }\n\n      this.el.value = tempValue;\n    }\n\n    return this;\n  }\n\n  matches (selector) {\n    if (this.el) {\n\n      if (!this.el.matches) return null;\n\n      if (this.el.matches(selector)) {\n        return this;\n      }\n      return this.parent().matches(selector);\n    }\n\n    return null;\n}  \n\n\n  get value() {\n    return this.el.value;\n  }\n\n  get naturalWidth () {\n    return this.el.naturalWidth\n  }\n\n  get naturalHeight () {\n    return this.el.naturalHeight\n  }  \n\n  get files() {\n    return this.el.files ? [...this.el.files] : [];\n  }\n\n  realVal() {\n    switch (this.el.nodeType) {\n      case \"INPUT\":\n        var type = this.attr(\"type\");\n        if (type == \"checkbox\" || type == \"radio\") {\n          return this.checked();\n        }\n      case \"SELECT\":\n      case \"TEXTAREA\":\n        return this.el.value;\n    }\n\n    return \"\";\n  }\n\n  int() {\n    return parseInt(this.val(), 10);\n  }\n\n  float() {\n    return parseFloat(this.val());\n  }\n\n  show(displayType = \"block\") {\n    this.el.style.display = displayType != \"none\" ? displayType : \"block\"\n\n    return this; \n  }\n\n  hide() {\n    this.el.style.display = 'none';\n\n    return this; \n  }\n\n  isHide () {\n    return this.el.style.display  === \"none\"\n  }\n\n  isShow () {\n    return !this.isHide();\n  }\n\n  toggle(isForce) {\n    var currentHide = this.isHide();\n\n    if (arguments.length == 1) {\n      if (isForce) {\n        return this.show();\n      } else {\n        return this.hide();\n      }\n    } else {\n      if (currentHide) {\n        return this.show();\n      } else {\n        return this.hide();\n      }\n    }\n  }\n\n  get totalLength () {\n    return this.el.getTotalLength()\n  }\n\n  scrollIntoView () {\n    this.el.scrollIntoView()\n  }\n\n  addScrollLeft (dt) {\n    this.el.scrollLeft += dt; \n    return this; \n  }\n\n  addScrollTop (dt) {\n    this.el.scrollTop += dt; \n    return this; \n  }  \n\n  setScrollTop(scrollTop) {\n    this.el.scrollTop = scrollTop;\n    return this;\n  }\n\n  setScrollLeft(scrollLeft) {\n    this.el.scrollLeft = scrollLeft;\n    return this;\n  }\n\n  scrollTop() {\n    if (this.el === document.body) {\n      return Dom.getScrollTop();\n    }\n\n    return this.el.scrollTop;\n  }\n\n  scrollLeft() {\n    if (this.el === document.body) {\n      return Dom.getScrollLeft();\n    }\n\n    return this.el.scrollLeft;\n  }\n\n  scrollHeight() {\n    return this.el.scrollHeight;\n  }\n\n  scrollWidth() {\n    return this.el.scrollWidth;\n  }  \n\n  on(eventName, callback, opt1, opt2) {\n    this.el.addEventListener(eventName, callback, opt1, opt2);\n\n    return this;\n  }\n\n  off(eventName, callback) {\n    this.el.removeEventListener(eventName, callback);\n\n    return this;\n  }\n\n  getElement() {\n    return this.el;\n  }\n\n  createChild(tag, className = '', attrs = {}, css = {}) {\n    let $element = Dom.create(tag, className, attrs);\n    $element.css(css);\n\n    this.append($element);\n\n    return $element;\n  }\n\n  get firstChild() {\n    return Dom.create(this.el.firstElementChild);\n  }\n\n  children() {\n    var element = this.el.firstElementChild;\n\n    if (!element) {\n      return [];\n    }\n\n    var results = [];\n\n    do {\n      results.push(Dom.create(element));\n      element = element.nextElementSibling;\n    } while (element);\n\n    return results;\n  }\n\n  childLength() {\n    return this.el.children.length;\n  }\n\n  replace(newElement) {\n\n    if (this.el.parentNode) {\n      this.el.parentNode.replaceChild(newElement.el || newElement, this.el);\n    }\n\n    return this;\n  }\n\n  replaceChild(oldElement, newElement) {\n    this.el.replaceChild(newElement.el || newElement, oldElement.el || oldElement);\n\n    return this;\n  }  \n\n  checked(isChecked = false) {\n    if (arguments.length == 0) {\n      return !!this.el.checked;\n    }\n\n    this.el.checked = !!isChecked;\n\n    return this;\n  }\n\n\n  click () {\n    this.el.click();\n\n    return this; \n  }  \n\n  focus() {\n    this.el.focus();\n\n    return this;\n  }\n\n  select() {\n    // contenteditable   selection api   select()  .\n    if (this.attr('contenteditable') === 'true') {\n      var range = document.createRange();\n      range.selectNodeContents(this.el);\n      var sel = window.getSelection();\n      sel.removeAllRanges();\n      sel.addRange(range);\n    } else {\n      this.el.select();\n    }\n\n    return this;\n  }\n\n  blur() {\n    this.el.blur();\n\n    return this;\n  }\n\n  // canvas functions\n\n  context(contextType = \"2d\") {\n    if (!this._initContext) {\n      this._initContext = this.el.getContext(contextType);\n    }\n\n    return this._initContext;\n  }\n\n  resize({ width, height }) {\n    // support hi-dpi for retina display\n    this._initContext = null;\n    var ctx = this.context();\n    var scale = window.devicePixelRatio || 1;\n\n    this.px(\"width\", +width);\n    this.px(\"height\", +height);\n\n    this.el.width = width * scale;\n    this.el.height = height * scale;\n\n    ctx.scale(scale, scale);\n  }\n\n  toDataURL (type = 'image/png', quality = 1) {\n    return this.el.toDataURL(type, quality)\n  }\n\n  clear() {\n    this.context().clearRect(0, 0, this.el.width, this.el.height);\n  }\n\n  update(callback) {\n    this.clear();\n    callback.call(this, this);\n  }\n\n  drawImage (img, dx = 0, dy = 0) {\n    var ctx = this.context()\n    var scale = window.devicePixelRatio || 1;    \n    ctx.drawImage(img, dx, dy, img.width, img.height, 0, 0, this.el.width / scale, this.el.height / scale);\n  }\n\n  drawOption(option = {}) {\n    var ctx = this.context();\n    Object.assign(ctx, option);\n  }\n\n  drawLine(x1, y1, x2, y2) {\n    var ctx = this.context();\n\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.closePath();\n  }\n\n  drawPath(...path) {\n    var ctx = this.context();\n\n    ctx.beginPath();\n\n    path.forEach((p, index) => {\n      if (index == 0) {\n        ctx.moveTo(p[0], p[1]);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    });\n    ctx.stroke();\n    ctx.fill();\n    ctx.closePath();\n  }\n\n  drawCircle(cx, cy, r) {\n    var ctx = this.context();\n    ctx.beginPath();\n    ctx.arc(cx, cy, r, 0, 2 * Math.PI);\n    ctx.stroke();\n    ctx.fill();\n  }\n\n  drawText(x, y, text) {\n    this.context().fillText(text, x, y);\n  }\n\n  /* utility */ \n  fullscreen () {\n    var element = this.el; \n    \n    if (element.requestFullscreen) {\n      element.requestFullscreen();\n    } else if (element.wekitRequestFullscreen) {\n      element.wekitRequestFullscreen();\n    }\n  } \n\n  toggleFullscreen() {\n    if (this.el === document.fullscreenElement) {\n      document.exitFullscreen();\n    } else {\n      this.fullscreen();\n    }\n  }\n}\n","import EventMachine from \"el/sapa/EventMachine\";\n\n\nexport default class BaseHandler {\n    /**\n     * \n     * @param {EventMachine} context \n     * @param {*} options \n     */\n    constructor (context, options = {}) {\n        this.context = context;\n        this.options = options;\n    }\n\n    //   \n    initialize () {\n\n    }\n\n    // html     \n    load () {\n\n    }\n\n    //    \n    refresh () {\n\n    }\n    \n    //       \n    render () {\n\n    }\n\n    getRef(id) {\n        return this.context.getRef(id);\n    }\n\n    run () {\n\n    }\n\n    destroy() {\n\n    }\n}","import BaseHandler from \"./BaseHandler\";\nimport Event, { CHECK_SAPARATOR, DOM_EVENT_SAPARATOR, SAPARATOR, NAME_SAPARATOR, CHECK_DOM_EVENT_PATTERN } from \"../Event\";\nimport { debounce, throttle, isNotUndefined, isFunction, splitMethodByKeyword } from \"../functions/func\";\nimport Dom from \"../functions/Dom\";\n\n\nconst scrollBlockingEvents = {\n    'touchstart': true,\n    'touchmove': true,\n    'mousedown': true,\n    'mouseup': true,\n    'mousemove': true,\n    // wheel, mousewheel  prevent  .  scroll blocking   . \n    // 'wheel': true,   \n    // 'mousewheel': true\n}\n\nconst eventConverts = {\n  'doubletab': 'touchend'\n}\n\nconst customEventNames = {\n  'doubletab': true \n}\n\nexport default class DomEventHandler extends BaseHandler {\n\n\n    initialize() {\n        this.destroy();\n\n        if (!this._domEvents) {\n          this._domEvents = this.context.filterProps(CHECK_DOM_EVENT_PATTERN)\n        }\n        this._domEvents.forEach(key => this.parseDomEvent(key));\n    }\n\n    destroy() {\n        this.removeEventAll();\n    }\n\n\n    removeEventAll() {\n        this.getBindings().forEach(obj => {\n          this.removeDomEvent(obj);\n        });\n        this.initBindings();\n    }\n\n    removeDomEvent({ eventName, dom, callback }) {\n        Event.removeDomEvent(dom, eventName, callback);\n    }    \n\n    getBindings() {\n        if (!this._bindings) {\n          this.initBindings();\n        }\n    \n        return this._bindings;\n    }\n\n    addBinding(obj) {\n        this.getBindings().push(obj);\n    }\n\n    initBindings() {\n        this._bindings = [];\n    }    \n\n\n    matchPath (el, selector) {\n        if (el) {\n          if (el.matches(selector)) {\n            return el;\n          }\n          return this.matchPath(el.parentElement, selector);\n        }\n        return null;\n    }\n      \n    hasDelegate (e, eventObject) {\n        return this.matchPath(e.target || e.srcElement, eventObject.delegate);\n    }\n      \n    makeCallback (eventObject, callback) {\n      if (eventObject.delegate) {\n        return this.makeDelegateCallback(eventObject, callback);\n      } else {\n        return this.makeDefaultCallback(eventObject, callback);\n      }\n    }\n      \n    makeDefaultCallback (eventObject, callback) {\n        return e => {\n          var returnValue = this.runEventCallback(e, eventObject, callback);\n          if (isNotUndefined(returnValue)) {\n            return returnValue;\n          }\n        };\n    }\n      \n    makeDelegateCallback (eventObject, callback) {\n        return e => {\n          const delegateTarget = this.hasDelegate(e, eventObject);\n      \n          if (delegateTarget) {\n            // delegate target    callback \n            e.$dt = Dom.create(delegateTarget);      \n      \n            var returnValue = this.runEventCallback(e, eventObject, callback);\n            if (isNotUndefined(returnValue)) {\n              return returnValue;\n            }\n          }\n        };\n    }\n      \n    runEventCallback (e, eventObject, callback) {\n        const context = this.context;\n        e.xy = Event.posXY(e);\n      \n        if (eventObject.beforeMethods.length) {\n          eventObject.beforeMethods.every(before => {\n            return context[before.target].call(context, e, before.param);\n          });\n        }\n      \n        if (this.checkEventType(e, eventObject)) {\n          var returnValue = callback(e, e.$dt, e.xy); \n      \n          if (returnValue !== false && eventObject.afterMethods.length) {\n            eventObject.afterMethods.forEach(after => {\n              return context[after.target].call(context, e, after.param)\n            });\n          }\n      \n          return returnValue;\n        }\n    }\n      \n    checkEventType (e, eventObject) {\n        const context = this.context;\n        //  keycode    \n        var hasKeyCode = true;\n        if (eventObject.codes.length) {\n          hasKeyCode =\n            (e.code ? eventObject.codes.indexOf(e.code.toLowerCase()) > -1 : false) ||\n            (e.key ? eventObject.codes.indexOf(e.key.toLowerCase()) > -1 : false);\n        }\n      \n        //      .\n        var isAllCheck = true;\n        if (eventObject.checkMethodList.length) {\n          isAllCheck = eventObject.checkMethodList.every(field => {\n            var fieldValue = context[field];    \n            if (isFunction(fieldValue) && fieldValue) {\n              // check method\n              return fieldValue.call(context, e);\n            } else if (isNotUndefined(fieldValue)) {\n      \n              // check field value\n              return !!fieldValue;\n            }\n            return true;\n          });\n        }\n      \n        return hasKeyCode && isAllCheck;\n    }\n      \n    getDefaultDomElement(dom) {\n        const context = this.context;\n        let el;\n      \n        if (dom) {\n          el = context.refs[dom] || context[dom] || window[dom];\n        } else {\n          el = context.el || context.$el || context.$root;\n        }\n      \n        if (el instanceof Dom) {\n          return el.getElement();\n        }\n      \n        return el;\n    };\n      \n    getRealEventName (eventName) {\n      return eventConverts[eventName] || eventName;\n    }\n\n    getCustomEventName (eventName) {\n      return customEventNames[eventName] ? eventName:  '';\n    }\n\n    /**\n     * \n     * doubletab -> touchend   \n     * \n     * @param {string} eventName    \n     * @param {array} checkMethodFilters     \n     */\n    getDefaultEventObject (eventName, checkMethodFilters) {\n        const context = this.context;\n        let arr = checkMethodFilters;\n      \n        // context      \n        const checkMethodList = arr.filter(code => !!context[code]);\n      \n        //         method()   .\n        const [afters, afterMethods] = splitMethodByKeyword(arr, \"after\");\n        const [befores, beforeMethods] = splitMethodByKeyword(arr, \"before\");\n        const [debounces, debounceMethods] = splitMethodByKeyword(arr, \"debounce\");\n        const [delays, delayMethods] = splitMethodByKeyword(arr, \"delay\");        \n        const [throttles, throttleMethods] = splitMethodByKeyword(arr, \"throttle\");\n        const [captures] = splitMethodByKeyword(arr, \"capture\");\n      \n        //  5     keycode  .\n        const filteredList = [\n          ...checkMethodList,\n          ...afters,\n          ...befores,\n          ...delays,\n          ...debounces,\n          ...throttles,\n          ...captures\n        ];\n      \n        var codes = arr\n          .filter(code => filteredList.indexOf(code) === -1)\n          .map(code => code.toLowerCase());\n      \n        return {\n          eventName: this.getRealEventName(eventName),\n          customEventName: this.getCustomEventName(eventName), \n          codes,\n          captures,\n          afterMethods,\n          beforeMethods,\n          delayMethods,\n          debounceMethods,\n          throttleMethods,\n          checkMethodList\n        };\n    }\n      \n      \n    addDomEvent (eventObject, callback) {\n        eventObject.callback = this.makeCallback(eventObject, callback);\n        this.addBinding(eventObject);\n      \n        var options = !!eventObject.captures.length\n      \n        if (scrollBlockingEvents[eventObject.eventName]) {\n          options = {\n            passive: true,\n            capture: options  \n          }\n        }\n      \n        Event.addDomEvent(\n          eventObject.dom,\n          eventObject.eventName,\n          eventObject.callback,\n          options\n        );\n    }\n\n    makeCustomEventCallback (eventObject, callback) {\n\n      if (eventObject.customEventName === 'doubletab') {\n        var delay = 300;\n        \n        if (eventObject.delayMethods.length) {\n          delay = +eventObject.delayMethods[0].target;\n        }\n        return (...args) => {\n\n          if (!this.doubleTab) {\n            this.doubleTab = {\n                time: performance.now(),\n            }\n          } else {\n            if (performance.now() - this.doubleTab.time < delay) {\n              callback(...args);\n            }\n\n            this.doubleTab = null;\n          }\n        }\n\n      } \n\n      return callback; \n    }\n      \n    bindingDomEvent ( [eventName, dom, ...delegate], checkMethodFilters, callback ) {\n        let eventObject = this.getDefaultEventObject(eventName, checkMethodFilters);\n      \n        eventObject.dom = this.getDefaultDomElement(dom);\n        eventObject.delegate = delegate.join(SAPARATOR);\n\n        \n        if (eventObject.debounceMethods.length) {\n          var debounceTime = +eventObject.debounceMethods[0].target;\n          callback = debounce(callback, debounceTime);\n        } else if (eventObject.throttleMethods.length) {\n          var throttleTime = +eventObject.throttleMethods[0].target;\n          callback = throttle(callback, throttleTime);\n        }\n\n        // custom event callback  \n        callback = this.makeCustomEventCallback(eventObject, callback)\n      \n        this.addDomEvent(eventObject, callback);\n    };\n      \n    getEventNames (eventName) {\n        let results = [];\n        \n        eventName.split(NAME_SAPARATOR).forEach(e => {\n            var arr = e.split(NAME_SAPARATOR);\n        \n            results.push.apply(results, arr);\n        });\n        \n        return results;\n    }\n    \n    /**\n     *    \n     * \n     * @param {string} key \n     */\n    parseDomEvent (key) {\n        const context = this.context;\n        let checkMethodFilters = key.split(CHECK_SAPARATOR).map(it => it.trim()).filter(Boolean);\n        \n        var prefix = checkMethodFilters.shift()\n        var eventSelectorAndBehave = prefix.split(DOM_EVENT_SAPARATOR)[1];\n        \n        var arr = eventSelectorAndBehave.split(SAPARATOR);\n        var eventNames = this.getEventNames(arr[0]);\n\n        var callback = context[key].bind(context);\n        \n        for(let i = 0, len = eventNames.length; i< len; i++) {\n          arr[0] = eventNames[i];\n          this.bindingDomEvent(arr, checkMethodFilters, callback);\n        }\n    }  \n}","import BaseHandler from \"./BaseHandler\";\nimport { isObject } from \"../functions/func\";\nimport { CHECK_BIND_PATTERN, BIND_CHECK_FUNCTION, CHECK_SAPARATOR, BIND_CHECK_DEFAULT_FUNCTION, BIND_SAPARATOR } from \"../Event\";\nimport Dom from \"el/sapa/functions/Dom\";\n\n/**\n * \n * @param {Dom} $element \n * @param {string} key \n * @param {any} value \n */\nconst applyElementAttribute = ($element, key, value) => {\n\n  if (key === 'cssText') {\n    /**\n     * cssText: 'position:absolute'\n     */\n    $element.cssText(value);\n    return; \n  } else if (key === \"style\") {\n    /**\n     * style: { key: value }\n     */\n    if (typeof(value) !== 'string') {\n      $element.css(value);\n    }\n\n    return;\n  } else if (key === \"class\") {\n    //  \"class\" : [ 'className', 'className' ] \n    //  \"class\" : { key: true, key: false } \n    //  \"class\" : 'string-class' \n\n    if (Array.isArray(value)) {\n      $element.addClass(...value.filter(Boolean));\n    } else if (isObject(value)) {\n      const keys = Object.keys(value);\n      for(var i = 0, len = keys.length; i < len; i++) {\n        const className = keys[i];\n        const hasClass = value[className];\n\n        $element.toggleClass(className, hasClass);\n      }\n    } else {\n      $element.el.className  = value;\n    }\n\n    return;\n  } else if (key === 'callback') {\n    if (typeof value === 'function') {\n      value ();\n      return; \n    }\n  }\n\n  if (typeof value === 'undefined') {\n    $element.removeAttr(key);\n  } else {\n    if ($element.el.nodeName === \"TEXTAREA\" && key === \"value\") {\n      $element.text(value);\n    } else if (key === 'text' || key === 'textContent') {\n      $element.text(value);\n    } else if (key === 'innerHTML' || key === 'html') {\n      $element.html(value);\n    } else if (key === 'htmlDiff') {\n      $element.updateDiff(value);\n    } else if (key === 'svgDiff') {\n      $element.updateSVGDiff(value);\n    } else if (key === 'value') {\n      $element.val(value);\n    } else {\n      $element.attr(key, value);\n    }\n  }\n};\n\nexport default class BindHandler extends BaseHandler {\n\n    load (...args) {\n      this.bindData(...args);\n    }\n\n    //   ? \n    // this.runHandle('bind', ...);\n    bindData (...args) {\n      if (!this._bindMethods) {\n        this._bindMethods = this.context.filterProps(CHECK_BIND_PATTERN);\n      }\n      /**\n       * BIND  .\n       *      .\n       * BIND   element  html       .\n       */\n      const bindList = this._bindMethods\n        .filter(originalCallbackName => {\n          if (!args.length) return true; \n          var [callbackName, id] = originalCallbackName.split(CHECK_SAPARATOR);        \n  \n          var [_, $bind] = callbackName.split(' ')\n  \n          return args.indexOf($bind) >  -1 \n        })\n\n        bindList.forEach(async (callbackName) => {\n          const bindMethod = this.context[callbackName];\n          var [callbackName, id] = callbackName.split(CHECK_SAPARATOR);\n  \n          const refObject = this.getRef(id);\n          let refCallback = BIND_CHECK_DEFAULT_FUNCTION;\n  \n          if (refObject != '' && typeof(refObject) === 'string') {\n            refCallback = BIND_CHECK_FUNCTION(refObject);\n          } else if (typeof refObject === 'function') {\n            refCallback = refObject;\n          }\n  \n          const elName = callbackName.split(BIND_SAPARATOR)[1];\n          let $element = this.context.refs[elName];\n  \n          // isBindCheck  binding       .\n          const isBindCheck = typeof(refCallback) === 'function' && refCallback.call(this.context);\n          if ($element && isBindCheck) {\n            const results = await bindMethod.call(this.context, ...args);\n\n            if (!results) return;\n  \n            const keys = Object.keys(results);\n            for(var elementKeyIndex = 0, len = keys.length; elementKeyIndex < len; elementKeyIndex++) {\n              const key = keys[elementKeyIndex];\n              const value = results[key];\n\n              applyElementAttribute($element, key, value);\n            }\n          }\n        });\n    }    \n\n    destroy() {\n      this._bindMethods = undefined\n    }\n\n\n}","import {\n  CHECK_SAPARATOR,\n  CHECK_LOAD_PATTERN,\n  LOAD_SAPARATOR,\n  DOMDIFF,\n  getRef,\n  MAGIC_METHOD,\n} from \"./Event\";\nimport Dom from \"./functions/Dom\";\nimport {\n  isFunction,\n  // Array.isArray,\n  html,\n  keyEach,\n  collectProps,\n  isString\n} from \"./functions/func\";\n\nimport DomEventHandler from \"./handler/DomEventHandler\";\nimport BindHandler from \"./handler/BindHandler\";\nimport { hasVariable, recoverVariable, retriveElement, spreadVariable, variable } from \"./functions/registElement\";\nimport { uuid } from \"./functions/uuid\";\nimport { isObject } from 'el/sapa/functions/func';\n\nconst REFERENCE_PROPERTY = \"ref\";\nconst TEMP_DIV = Dom.create(\"div\");\nconst QUERY_PROPERTY = `[${REFERENCE_PROPERTY}]`;\nconst REF_CLASS = 'refclass';\nconst REF_CLASS_PROPERTY = `[${REF_CLASS}]`\n\n\nexport default class EventMachine {\n  constructor(opt, props) {\n    this.state = {};\n    this.prevState = {};\n    this.refs = {};\n    this.children = {};\n    this._bindings = [];\n    this.id = uuid();    \n    this.handlers = this.initializeHandler()\n\n    this.initializeProperty(opt, props);\n\n    this.initComponents();\n  }\n\n\n  /**\n   * UIElement instance      \n   */\n  initializeProperty (opt, props = {}) {\n\n    this.opt = opt || {};\n    this.parent = this.opt;\n    this.props = props;\n    this.source = uuid();\n    this.sourceName = this.constructor.name;  \n\n\n\n  }\n\n  initComponents() {\n    this.childComponents = this.components() \n  }\n\n  initializeHandler () {\n    return [\n      new BindHandler(this),\n      new DomEventHandler(this)\n    ]\n  }\n\n  /**\n   * state    . \n   * \n   * @protected\n   * @returns {Object} \n   */\n  initState() {\n    return {};\n  }\n\n  /**\n   * state  . \n   * \n   * @param {Object} state   state \n   * @param {Boolean} isLoad       , true  state    \n   */\n  setState(state = {}, isLoad = true) {\n    this.prevState = this.state;\n    this.state = Object.assign({}, this.state, state );\n    if (isLoad) {\n      this.load();\n    }\n  }\n\n  /**\n   * state   key   . \n   * Boolean   . \n   * \n   * @param {string} key \n   * @param {Boolean} isLoad \n   */\n  toggleState(key, isLoad = true) {\n    this.setState({\n      [key]: !(this.state[key])\n    }, isLoad)\n  }\n\n  /**\n   * object   key, value    \n   * \n   * @param {Object} obj\n   * @returns {string} `key=value`    \n   */ \n  apply(obj) {\n    return spreadVariable(obj);\n  }\n\n\n  /**\n   *     . \n   * \n   * @param {*} props \n   * @protected\n   */\n  _reload(props) {\n    this.props = props;\n    this.state = {}; \n    this.setState(this.initState(), false);\n    this.refresh(true);\n  }\n\n  /**\n   * template   . \n   * \n   * @param {Dom|undefined} $container     \n   */\n  render($container) {\n    this.$el = this.parseTemplate(\n      html`\n        ${this.template()}\n      `\n    );\n    this.refs.$el = this.$el;\n\n    if ($container) {\n      $container.append(this.$el);\n    }\n\n    // LOAD    . \n    this.load();\n\n    // render    . \n    this.afterRender();\n  }\n\n  initialize() {\n    this.state = this.initState();\n  }\n\n  /**\n   * render    \n   * dom       . \n   * \n   * @protected\n   */\n  afterRender() {}\n\n  /**\n   *     \n   * \n   * @protected\n   * @returns {Object}\n   */\n  components() {\n    return {};\n  }\n\n  /**\n   * ref   Component   . \n   * \n   * @param  {any[]} args \n   * @returns {EventMachine}\n   */\n  getRef(...args) {\n    const key = args.join('')\n    return this.refs[key];\n  }\n\n  /**\n   * template()    dom element  . \n   * \n   * @param {string} html \n   * @param {Boolean} [isLoad=false] \n   */\n  parseTemplate(html, isLoad) {\n\n    //FIXME: html string, element   array     . \n    if (Array.isArray(html)) {\n      html = html.join('');\n    }\n\n    html = html.trim();\n    const list = TEMP_DIV.html(html).children();\n    /////////////////////////////////\n\n    for(var i = 0, len = list.length; i < len; i++) {\n      const $el = list[i];\n\n      var ref = $el.attr(REFERENCE_PROPERTY)\n      if (ref) {\n        this.refs[ref] = $el;\n      }\n\n      var refs = $el.$$(QUERY_PROPERTY);\n      var temp = {} \n\n      for(var refsIndex = 0, refsLen = refs.length; refsIndex < refsLen; refsIndex++) {\n        const $dom = refs[refsIndex];\n\n        const name = $dom.attr(REFERENCE_PROPERTY);\n        if (temp[name]) {\n          console.warn(`${ref} is duplicated. - ${this.sourceName}`, this)\n        } else {\n          temp[name] = true; \n        }\n\n        this.refs[name] = $dom;             \n      }\n    }\n\n    if (!isLoad) {\n      return list[0];\n    }\n\n    return TEMP_DIV.createChildrenFragment();\n  }\n\n  parseProperty ($dom) {\n    let props = {};\n\n    // parse properties \n    for(var t of $dom.el.attributes) {\n\n      //  ,         . \n      if (hasVariable(t.nodeName)) {\n        const recoveredValue = recoverVariable(t.nodeName);\n\n        if (isObject(recoveredValue)) {\n          props = Object.assign(props, recoveredValue)\n        } else {\n          props[t.nodeName] = recoverVariable(t.nodeValue);                    \n        }\n\n      } else {\n        props[t.nodeName] = recoverVariable(t.nodeValue);          \n      }\n    }\n\n    //  html  props.content  . \n    props.content = $dom.html()\n    if (props.content) {\n      props.contentChildren = this.parseContent(props.content)\n    }\n\n    return props;\n  }\n\n  parseSourceName(obj) {\n\n    if (obj.parent) {\n      return [obj.sourceName, ...this.parseSourceName(obj.parent)]\n    }\n\n    return [obj.sourceName]\n  }\n\n  getEventMachineComponent (refClassName) {\n    var EventMachineComponent = retriveElement(refClassName) || this.childComponents[refClassName];\n\n    return EventMachineComponent;\n  }\n\n  renderComponent({ $dom, refName, EventMachineComponent, props }) {\n    var instance = null; \n\n    //  refName  EventMachine       . \n    //  element   . \n    if (this.children[refName]) {\n      instance = this.children[refName] \n      instance._reload(props);\n    } else {\n      //  refName    Component   element  . \n      instance = new EventMachineComponent(this, props);\n\n      this.children[refName || instance.id] = instance;\n\n      instance.render();\n    }\n    \n\n    if (instance.renderTarget) {\n      instance.$el?.appendTo(instance.renderTarget);\n      $dom.remove();\n    } else {\n      $dom.replace(instance.$el);     \n    }\n  }\n\n  /**\n   *  html   (EventMachine)   . \n   * \n   * @param {string} html \n   * @param {string[]} filteredRefClass \n   * @returns {object[]}  - { refName, EventMachineComponent, props, $dom, refClass }\n   */\n  parseContent(html, filteredRefClass = []) {\n    return Dom.create('div').html(html).children().map($dom => {\n      return this._getComponentInfo($dom)\n    }).filter(it => filteredRefClass.length === 0 ? true : filteredRefClass.includes(it.refClass))\n  }\n\n  /**\n   * component   \n   * \n   * @param {Dom} $dom \n   * @returns \n   */\n  _getComponentInfo ($dom) {\n\n    const refClass = $dom.attr(REF_CLASS);\n    const EventMachineComponent = this.getEventMachineComponent(refClass)\n\n    if (EventMachineComponent) {\n      let props = this.parseProperty($dom);\n\n      // create component \n      let refName = $dom.attr(REFERENCE_PROPERTY);\n\n      return { \n        $dom,\n        refClass,\n        props,\n        refName,\n        EventMachineComponent\n      }\n    } else {\n      return {\n        notUsed: true, \n        $dom,\n      }\n    }\n  }\n\n  /**\n   * element    component  . \n   * \n   * @return {object[]}\n   */ \n  parseComponentList($el) {\n\n    const children = []\n    let targets = $el.$$(REF_CLASS_PROPERTY);\n\n    targets.forEach($dom => {\n      children.push(this._getComponentInfo($dom));\n    })\n\n    return children; \n  }\n\n  parseComponent() {\n    const $el = this.$el;\n\n    const componentList = this.parseComponentList($el);\n\n    componentList.forEach(comp => {\n      if (comp.notUsed) {\n        comp.$dom.remove();\n      } else {\n        this.renderComponent(comp);\n      }  \n    })\n\n    keyEach(this.children, (key, obj) => {\n      if (obj && obj.clean()) {\n        delete this.children[key]\n      }\n    })\n  }\n\n  clean () {\n    if (this.$el && !this.$el.hasParent()) {\n\n      keyEach(this.children, (key, child) => {\n        child.clean();\n      })\n\n      this.destroy();  \n\n      this.$el = null;\n      return true; \n    }\n  }\n\n  /**\n   * refresh  load  . \n   */\n  refresh() {\n    this.load()\n  }\n\n  _afterLoad () {\n\n    this.runHandlers('initialize');\n\n    this.bindData();\n\n    this.parseComponent();\n  }\n\n  async load(...args) {\n    if (!this._loadMethods) {\n      this._loadMethods = this.filterProps(CHECK_LOAD_PATTERN);\n    }\n\n    // loop   await     html      . \n    const localLoadMethods = this._loadMethods.filter(callbackName => {\n        const elName = callbackName.split(LOAD_SAPARATOR)[1]\n                                  .split(CHECK_SAPARATOR)\n                                  .map(it => it.trim())[0];\n        if (!args.length) return true; \n        return args.indexOf(elName) > -1\n      })\n\n\n\n    await localLoadMethods.forEach(async (callbackName) => {\n      let methodName = callbackName.split(LOAD_SAPARATOR)[1];\n      var [elName, ...checker] = methodName.split(CHECK_SAPARATOR).map(it => it.trim())\n\n      checker = checker.map(it => it.trim())\n      \n      const isDomDiff = Boolean(checker.filter(it => DOMDIFF.includes(it)).length);\n\n      if (this.refs[elName]) {        \n        var newTemplate = await this[callbackName].apply(this, args);\n\n        if (Array.isArray(newTemplate)) {\n          newTemplate = newTemplate.join('');\n        }\n\n        // create fragment \n        const fragment = this.parseTemplate(html`${newTemplate}`, true);\n        if (isDomDiff) {\n          this.refs[elName].htmlDiff(fragment);\n        } else {\n          this.refs[elName].html(fragment);\n        }\n\n      }\n    });\n\n    this._afterLoad();\n\n  }\n\n  runHandlers(func = 'run', ...args) {\n    this.handlers.forEach(h => h[func](...args));\n  }\n\n  bindData (...args) {\n    this.runHandlers('load', ...args);\n  }\n\n  //   \n  template() {\n    return `<div></div>`;\n  }\n\n  eachChildren(callback) {\n    if (!isFunction(callback)) return;\n\n    keyEach(this.children, (_, Component) => {\n      callback(Component);\n    });\n  }\n\n  rerender () {\n    var $parent = this.$el.parent();\n    this.destroy();\n    this.render($parent);  \n  }\n\n  /**\n   *  .\n   *            .\n   * \n   */\n  destroy() {\n    this.eachChildren(childComponent => {\n      childComponent.destroy();\n    });\n\n    this.runHandlers('destroy');\n    if (this.$el) {\n      this.$el.remove();\n    }\n\n    this.$el = null; \n    this.refs = {} \n    this.children = {} \n  }\n\n  /**\n   * property \n   *    property   .\n   * \n   * @returns {string[]}      . \n   */\n  collectProps() {\n\n    if (!this.__cachedMethodList){\n      this.__cachedMethodList = collectProps(this, (name) => {\n        return name.indexOf(MAGIC_METHOD) === 0; \n      });\n    }\n\n    return this.__cachedMethodList;\n  }\n\n  filterProps(pattern) {\n    return this.collectProps().filter(key => {\n      return key.match(pattern);\n    });\n  }\n\n  /* magic check method  */\n\n  self(e) {\n    return e && e.$dt && e.$dt.is(e.target);\n  }\n  isAltKey(e) {\n    return e.altKey;\n  }\n  isCtrlKey(e) {\n    return e.ctrlKey;\n  }\n  isShiftKey(e) {\n    return e.shiftKey;\n  }\n  isMetaKey(e) {\n    return e.metaKey || e.key == 'Meta' || e.code.indexOf('Meta') > -1 ;\n  }\n  isMouseLeftButton(e) {\n    return e.buttons === 1;     // 1 is left button \n  }\n\n  isMouseRightButton(e) {\n    return e.buttons === 2;     // 2 is right button \n  }  \n\n  hasMouse(e) { \n    return e.pointerType === 'mouse';\n  }\n\n  hasTouch(e) {\n    return e.pointerType === 'touch';\n  }\n\n  hasPen(e) {\n    return e.pointerType === 'pen';\n  }  \n\n  /** before check method */\n\n  /* after check method */\n\n  preventDefault(e) {\n    e.preventDefault();\n    return true;\n  }\n\n  stopPropagation(e) {\n    e.stopPropagation();\n    return true;\n  }\n}\n","import EventMachine from \"./EventMachine\";\nimport { debounce, ifCheck, isFunction, throttle } from \"./functions/func\";\n\n/**\n * @class BaseStore\n * @description BaseStore is the base class for all stores.\n * \n */\nexport default class BaseStore {\n  constructor(editor) {\n    this.cachedCallback = {};\n    this.callbacks = {};\n    this.editor = editor;\n    this.promiseProxy = new Proxy(this, {\n      get: (target, key) => {\n        return this.makePromiseEvent(key);\n      }\n    })\n  }\n\n  getCallbacks(event) {\n    if (!this.callbacks[event]) {\n      this.callbacks[event] = []\n    }\n\n    return this.callbacks[event]\n  }\n\n  setCallbacks(event, list = []) {\n    this.callbacks[event] = list;\n  }\n\n  debug(...args) {\n    if (this.editor && this.editor.config.get('debug')) {\n      console.debug(...args);\n    }\n\n  }\n\n  /**\n   *   \n   * \n   * @param {string} event \n   * @param {Function} originalCallback \n   * @param {EventMachine} context \n   * @param {number} debounceDelay \n   * @param {number} throttleDelay \n   * @param {boolean} enableAllTrigger\n   * @param {boolean} enableSelfTrigger\n   * @param {string[]} [beforeMethods=[]]\n   * @returns {Function} off callback \n   */\n  on(event, originalCallback, context, debounceDelay = 0, throttleDelay = 0, enableAllTrigger = false, enableSelfTrigger = false, beforeMethods = []) {\n    var callback = originalCallback;\n\n    if (debounceDelay > 0) callback = debounce(originalCallback, debounceDelay);\n    else if (throttleDelay > 0) callback = throttle(originalCallback, throttleDelay);\n\n    if (beforeMethods.length) {\n      callback = ifCheck(callback, context, beforeMethods);\n    }\n\n    this.getCallbacks(event).push({ event, callback, context, originalCallback, enableAllTrigger, enableSelfTrigger });\n\n    this.debug('add message event', event, context.sourceName);\n\n    return () => {\n      this.off(event, originalCallback);\n    }\n  }\n\n  /**\n   *  \n   * \n   * @param {string} event \n   * @param {*} originalCallback \n   */\n  off(event, originalCallback) {\n\n    this.debug('off message event', event);\n\n    if (arguments.length == 1) {\n      this.setCallbacks(event);\n    } else if (arguments.length == 2) {\n      this.setCallbacks(event, this.getCallbacks(event).filter(f => {\n        return f.originalCallback !== originalCallback\n      }));\n    }\n  }\n\n  offAll(context) {\n\n    Object.keys(this.callbacks).forEach(event => {\n      this.setCallbacks(event, this.getCallbacks(event).filter(f => {\n        return f.context !== context;\n      }))\n    })\n    this.debug('off all message', context.sourceName);\n  }\n\n  getCachedCallbacks(event) {\n    return this.getCallbacks(event);\n  }\n\n  /**\n   *  promise     proxy  . \n   * \n   * @returns {Proxy}\n   */\n  get promise() {\n    return this.promiseProxy;\n  }\n\n  get p () {\n    return this.promise;\n  }\n\n  /**\n   *   Promise  . \n   * \n   * this.emit(\"message\", 1, 2, 3); \n   * \n   *    \n   * \n   * this.promise.message(1, 2, 3).then(() => { })\n   * \n   *  \n   * \n   * var a = await this.promise.message(1, 2, 3);\n   * \n   *    . \n   * \n   *   . \n   * \n   * 1. message       \n   * 2. message          \n   * \n   * @param {string} event \n   * @returns \n   */\n  makePromiseEvent(event) {\n\n    var list = this.getCachedCallbacks(event);\n    const source = this.source;\n\n    return (...args) => Promise.all(\n      list.filter(f => {\n        return !f.enableSelfTrigger\n      }).filter(f => {\n        return f.enableAllTrigger || f.originalCallback.source !== source\n      }).map(f => {\n        return new Promise((resolve, reject) => {\n          resolve(f.callback.apply(f.context, args));\n        })\n      })\n    )\n  }\n\n  sendMessage(source, event, ...args) {\n    Promise.resolve().then(() => {\n      var list = this.getCachedCallbacks(event);\n      if (list) {\n\n        for (var i = 0, len = list.length; i < len; i++) {\n          const f = list[i];\n          // console.log(source);\n          if (f.enableSelfTrigger) continue;\n\n          if (f.enableAllTrigger || f.originalCallback.source !== source) {\n            f.callback.apply(f.context, args)\n          }\n        }\n      }\n    });\n  }\n\n  nextSendMessage(source, callback, ...args) {\n    Promise.resolve().then(() => {\n      callback(...args)\n    });\n  }\n\n  triggerMessage(source, event, ...args) {\n    // Promise.resolve().then(() => {\n      var list = this.getCachedCallbacks(event);\n\n      if (list) {\n        for (var i = 0, len = list.length; i < len; i++) {\n          const f = list[i];\n          if (f.originalCallback.source === source) {\n            f.callback.apply(f.context, args)\n          }\n        }\n      } else {\n        console.warn(event, ' is not valid event');\n      }\n\n\n    // });\n  }\n\n  emit(event, ...args) {\n\n    if (isFunction(event)) {\n      event(...args);\n    } else {\n      this.sendMessage(this.source, event, ...args);\n    }\n\n  }\n\n  /**\n   *  Task   \n   * \n   * @param {Function} callback  Task    \n   */\n  nextTick(callback) {\n    this.nextSendMessage(this.source, callback);\n  }\n\n  trigger(event, ...args) {\n\n    if (isFunction(event)) {\n      event(...args);\n    } else {\n      this.triggerMessage(this.source, event, ...args);\n    }\n\n  }\n}\n","import dark from \"./dark\"\nimport light from \"./light\"\n\n\nexport default {\n    dark,\n    light,\n}","export default {\n    left_size: 250,\n    left_max_size: 400,\n    bottom_size: 150,\n    bottom_max_size: 500,\n    timeline_grid_font_color: '#ececec',\n    timeline_line_color: 'red',\n    timeline_timeview_bottom_color: 'black',\n}","export default {\n    left_size: 250,\n    left_max_size: 400,    \n    bottom_size: 150,\n    bottom_max_size: 500,    \n    timeline_grid_font_color: 'black',\n    timeline_line_color: '#4778d4',    \n    timeline_timeview_bottom_color: '#ececec',\n}","export class TimelineSelectionManager {\n  constructor(editor) {\n    this.$editor = editor;\n    this.items = [];\n    this.itemKeys = {} \n  }\n\n  initialize() {\n    this.items = [];\n    this.itemKeys = {} \n  }\n\n  currentProject (callback) {\n    var project = this.$editor.selection.currentProject;\n\n    if (project) {\n      callback && callback (project);\n    }\n  }\n\n  empty () {\n    this.select();\n  }\n\n  each (callback) {\n    this.items.forEach((item, index) => {\n      callback && callback(item, index)\n    })\n  }\n\n  refreshCache (list) {\n    this.items = list;\n    this.itemKeys = {} \n\n    this.items.forEach(it => {\n      this.itemKeys[it.id] = it; \n    })\n  }\n\n  cachedList () {\n    return this.items.map(it => {\n      return {...it}\n    })\n  }\n\n  checked (id) {\n    return !!this.itemKeys[id]\n  }\n\n  selectLayer (layerId) {\n\n    this.currentProject(project =>  {\n      var list = project.getKeyframeListReturnArray().filter(it => {\n        return it.layerId === layerId\n      })\n      this.refreshCache(list);\n    })\n  }\n\n  toggleLayerContainer (animationId) {\n\n    this.currentProject(project =>  {\n      project.getSelectedTimeline().animations.filter(it => {\n        return it.id === animationId\n      }).forEach(it => {\n        it.collapsed = !it.collapsed\n      })\n    })\n  }  \n\n  selectProperty (layerId, property) {\n    this.currentProject(project =>  {\n      var list = project.getKeyframeListReturnArray().filter(it => {\n        return it.layerId === layerId && it.property === property;\n      })\n\n      this.refreshCache(list);\n    })\n  }  \n\n  select (...args) {\n    this.refreshCache(args);\n  }\n\n  selectBySearch (list, startTime, endTime) {\n    this.currentProject(project =>  {\n\n      var totalList = []\n\n      list.forEach(it => {\n        var results = []  \n        if (it.property) {\n\n          var p = project.getTimelineProperty(it.layerId, it.property)\n\n          results = p.keyframes.filter(keyframe => {\n            return startTime <= keyframe.time && keyframe.time <= endTime; \n          })\n        } else {\n\n          var p = project.getTimelineObject(it.layerId)\n\n          p.properties.filter(property => {\n            return property.property === it.property\n          }).forEach(property => {\n            results.push.apply(results, property.keyframes.filter(keyframe => {\n              return startTime <= keyframe.time && keyframe.time <= endTime; \n            }))\n          }) \n        }\n\n        totalList.push.apply(totalList, results);\n\n      })\n\n      var uniqueOffset = {}\n      totalList.forEach(it => {\n        uniqueOffset[it.id] = it; \n      })\n\n      this.select(...Object.values(uniqueOffset))\n    })\n  }\n\n\n  checkLayer (layerId) {\n    return Object.keys(this.itemKeys).some(key => {\n      return this.itemKeys[key].layerId === layerId\n    })\n  }\n\n  checkProperty (layerId, property) {\n    return Object.keys(this.itemKeys).some(key => {\n      return this.itemKeys[key].layerId === layerId && this.itemKeys[key].property === property\n    })\n  }  \n}\n","const MAX_CACHE_COUNT = 1000;\nconst cachedTransformOriginMap = new Map();\n\nexport class TransformOriginCache {\n\n    static has (key) {\n        return cachedTransformOriginMap.has(key);\n    }\n\n    static get (key) {\n        return cachedTransformOriginMap.get(key);\n    }\n\n    static set (key, parsedValue) {\n\n        if (cachedTransformOriginMap.size > MAX_CACHE_COUNT) {\n            cachedTransformOriginMap.clear();\n        }\n\n        cachedTransformOriginMap.set(key, parsedValue);\n    }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { TransformOriginCache } from \"./TransformOriginCache\";\n\nexport class TransformOrigin {\n\n  /**\n   * \n   * transform-origin   \n   * \n   * transform-origin: 50% \n   * transform-origin: 50px 5px\n   * transform-origin: 50px 5px 30px\n   * \n   * @param {string} transformOrigin \n   */\n  static parseStyle (transformOrigin = '50% 50% 0%') {\n\n    if (TransformOriginCache.has(transformOrigin)) {\n      return TransformOriginCache.get(transformOrigin);\n    }\n\n    const origins = transformOrigin\n                      .trim()\n                      .split(' ')\n                      .filter(it => it.trim())\n\n    let parsedTransformOrigin = null;\n\n    if (origins.length === 1) {\n      parsedTransformOrigin = [origins[0], origins[0]].map(it => Length.parse(it))\n    } else {\n      parsedTransformOrigin = origins.map(it => Length.parse(it))\n    } \n\n    TransformOriginCache.set(transformOrigin, parsedTransformOrigin);\n\n    return parsedTransformOrigin;\n  }\n\n  static scale (transformOrigin, width, height)  {\n    let parsedTransformOrigin = TransformOrigin.parseStyle(transformOrigin)\n\n    const originX = parsedTransformOrigin[0].toPx(width).value\n    const originY = parsedTransformOrigin[1].toPx(height).value\n    const originZ = parsedTransformOrigin[2].value; \n\n    return [originX, originY, originZ]\n  }\n\n  static toPx (transformOrigin, width, height, distance = 0) {\n    let [\n      transformOriginX, \n      transformOriginY, \n      transformOriginZ\n    ] = TransformOrigin.parseStyle(transformOrigin)\n\n    transformOriginX = transformOriginX.toPx(width)\n    transformOriginY = transformOriginY.toPx(height)\n    transformOriginZ = transformOriginZ.toPx(distance)\n\n    return `${transformOriginX} ${transformOriginY} ${transformOriginZ}`\n  }\n\n}","import { TransformOrigin } from \"el/editor/property-parser/TransformOrigin\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { vec3 } from \"gl-matrix\";\nimport { getPointBetweenVerties } from \"./math\";\n\n/**\n *    \n * \n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n */\nexport function pointPoint (x1, y1, x2, y2) {\n    return x1 === x2 && y1 === y2\n}\n\n/**\n *      \n * \n * @param {vec3} s source vertex \n * @param {vec3} t target vertex \n * @param {number} [dist=0] check distance\n */\nexport function pointPointDist (s, t, dist = 0) {\n    let targetX = Infinity; \n    let targetY = Infinity; \n\n    if (Math.abs(s[0] - t[0]) <= dist) {\n        targetX = t[0];\n    }\n\n    if (Math.abs(s[1] - t[1]) <= dist) {\n        targetY = t[1];\n    }\n\n    return { targetX, targetY }\n}\n\n/**\n *     \n * \n * @param {number} x1 x \n * @param {number} y1 y\n * @param {number} cx   x \n * @param {number} cy   y\n * @param {number} r   radius\n */\nexport function pointCircle (x1, y1, cx, cy, r) {\n    const distX = x1 - cx;\n    const distY = y1 - cy; \n\n    return Math.hypot(distX, distY) <= r;\n}\n\n/**\n *    \n * \n * @param {number} cx1 \n * @param {number} cy1 \n * @param {number} r1 \n * @param {number} cx2 \n * @param {number} cy2 \n * @param {number} r2 \n */\nexport function circleCirce (cx1, cy1, r1, cx2, cy2, r2) {\n    const distX = cx2 - cx1;\n    const distY = cy2 - cy1;\n\n    return Math.hypot(distX, distY) <= r1 + r2;\n}\n\n/**\n *     \n * \n * @param {number} x1\n * @param {number} y1\n * @param {number} rx \n * @param {number} ry \n * @param {number} rw \n * @param {number} rh \n */\nexport function pointRect (x1, y1, rx, ry, rw, rh) {\n    return (\n        (rx <= x1 && x1 <= rx + rw) && \n        (ry <= y1 && y1 <= ry + rh)\n    ) \n}\n\n/**\n *     \n * \n * @param {number} rx1 \n * @param {number} ry1 \n * @param {number} rw1 \n * @param {number} rh1 \n * @param {number} rx2 \n * @param {number} ry2 \n * @param {number} rw2 \n * @param {number} rh2 \n */\nexport function rectRect (rx1, ry1, rw1, rh1, rx2, ry2, rw2, rh2) {\n    return (\n        rx1 + rw1 >= rx2 && \n        rx1 <= rx2 + rw2 && \n        ry1 + rh1 >= ry2 && \n        ry1 <= ry2 + rh2 \n    )\n}\n\n/**\n * \n * @param {number} cx \n * @param {number} cy \n * @param {number} r \n * @param {number} rx \n * @param {number} ry \n * @param {number} rw \n * @param {number} rh \n */\nexport function circleRect (cx, cy, r, rx, ry, rw, rh) {\n    let testX = cx; \n    let testY = cy; \n\n    if (cx < rx) testX = rx; \n    else if (cx > rx + rw) testX = rx + rw; \n\n    if (cy < ry) testY = ry; \n    else if (cy > ry + rh) testY = ry + rh; \n\n    const distX = cx - testX;\n    const distY = cy - testY;\n\n    return Math.hypot(distX, distY) <= r;\n    \n}\n\n/**\n * \n *  line    \n * \n * @param {number} x1 \n * @param {number} y1 \n * @param {number} x2 \n * @param {number} y2 \n * @param {number} px \n * @param {number} py \n * @param {number} buffer \n */\nexport function linePoint (x1, y1, x2, y2, px, py, buffer = 0.1) {\n    const dist1 = Math.hypot(px - x1, py - y1)\n    const dist2 = Math.hypot(px - x2, py - y2)\n\n    const lineLength = Math.hypot(x1 - x2, y1 - y2);\n\n    const calcDist = dist1 + dist2;\n\n    return calcDist >= lineLength - buffer && calcDist <= lineLength + buffer;\n}\n\n/**\n * \n *    \n * \n * @param {number} x1 \n * @param {number} y1 \n * @param {number} x2 \n * @param {number} y2 \n * @param {number} cx \n * @param {number} cy \n * @param {number} r \n */\nexport function lineCircle (x1, y1, x2, y2, cx, cy, r) {\n\n    //       true \n    if (pointCircle(x1, y1, cx, cy, r)) return true; \n    if (pointCircle(x2, y2, cx, cy, r)) return true; \n\n    const lineLength = Math.hypot(x1 - x2, y1 - y2);\n\n    const dot =  ((cx - x1) * (x2 - x1) + (cy - y1) * (y2 - y1)) / Math.pow(lineLength, 2)\n\n    const closestX = x1 + (x2 - x1)*dot;\n    const closestY = y1 + (y2 - y1)*dot;\n\n    if (linePoint(x1, y1, x2, y2, closestX, closestY) === false) {\n        return false; \n    }\n\n    //        \n    return Math.hypot(closestX - cx, closestY - cy) <= r; \n}\n\n/**\n * \n *        \n * \n * @param {number} x1 \n * @param {number} y1 \n * @param {number} x2 \n * @param {number} y2 \n * @param {number} cx \n * @param {number} cy \n * @param {number} r \n */\nexport function getClosestPointBylineCircle (x1, y1, x2, y2, cx, cy, r) {\n\n    const lineLength = Math.hypot(x1 - x2, y1 - y2);\n\n    const dot =  ((cx - x1) * (x2 - x1) + (cy - y1) * (y2 - y1)) / Math.pow(lineLength, 2)\n\n    const closestX = x1 + (x2 - x1)*dot;\n    const closestY = y1 + (y2 - y1)*dot;\n\n    return [closestX, closestY]\n}\n\n\nexport function lineLine (x1, y1, x2, y2, x3, y3, x4, y4) {\n    const A = ((x4 - x3) * (y1 - y3) - (y4 - y3)*(x1 - x3))  / ((y4-y3) * (x2-x1) - (x4-x3) * (y2 - y1))\n    const B = ((x2 - x1) * (y1 - y3) - (y2 - y1)*(x1 - x3))  / ((y4-y3) * (x2-x1) - (x4-x3) * (y2 - y1))\n\n    return (0 <= A && A <= 1 && 0 <= B && B <= 1)\n}\n\n/**\n * \n *      \n * \n * @param {number} x1 \n * @param {number} y1 \n * @param {number} x2 \n * @param {number} y2 \n * @param {number} x3 \n * @param {number} y3 \n * @param {number} x4 \n * @param {number} y4 \n */\nexport function getClosestPointBylineLine(x1, y1, x2, y2, x3, y3, x4, y4) {\n    const A = ((x4 - x3) * (y1 - y3) - (y4 - y3)*(x1 - x3))  / ((y4-y3) * (x2-x1) - (x4-x3) * (y2 - y1))\n    const B = ((x2 - x1) * (y1 - y3) - (y2 - y1)*(x1 - x3))  / ((y4-y3) * (x2-x1) - (x4-x3) * (y2 - y1))\n\n    if (0 <= A && A <= 1 && 0 <= B && B <= 1) {\n        return [\n            x1 + A * (x2 - x1),\n            y1 + B * (y2 - y1)\n        ]\n    }\n    return []\n}\n\n/**\n * \n *      \n * \n * @param {number} x1 \n * @param {number} y1 \n * @param {number} x2 \n * @param {number} y2 \n * @param {number} rectX \n * @param {number} rectY \n * @param {number} width \n * @param {number} height \n */\nexport function lineRect(x1, y1, x2, y2, rectX, rectY, width, height) {\n    const left = lineLine(x1, y1, x2, y2, rectX, rectY, rectX, rectY + height);\n    const right = lineLine(x1, y1, x2, y2, rectX + width, rectY, rectX + width, rectY + height);\n    const top = lineLine(x1, y1, x2, y2, rectX, rectY, rectX + width, rectY);\n    const bottom = lineLine(x1, y1, x2, y2, rectX, rectY + height, rectX + width, rectY+height);\n\n    return left || right || top || bottom;\n}\n\n\n/**\n * \n *      \n * \n * @param {number} x1 \n * @param {number} y1 \n * @param {number} x2 \n * @param {number} y2 \n * @param {number} rectX \n * @param {number} rectY \n * @param {number} width \n * @param {number} height \n * @returns {[x, y][]}\n */\nexport function getClosestPointBylineRect(x1, y1, x2, y2, rectX, rectY, width, height) {\n    const left = getClosestPointBylineLine(x1, y1, x2, y2, rectX, rectY, rectX, rectY + height);\n    const right = getClosestPointBylineLine(x1, y1, x2, y2, rectX + width, rectY, rectX + width, rectY + height);\n    const top = getClosestPointBylineLine(x1, y1, x2, y2, rectX, rectY, rectX + width, rectY);\n    const bottom = getClosestPointBylineLine(x1, y1, x2, y2, rectX, rectY + height, rectX + width, rectY+height);\n\n    const points = []\n\n    if (left.length) points.push(left)\n    if (right.length) points.push(right)\n    if (top.length) points.push(top)\n    if (bottom.length) points.push(bottom)\n\n    return points \n}\n\n/**\n *    \n * \n * @param {vec3[]} verties \n * @param {number} px \n * @param {number} py \n */\nexport function polyPoint (verties = [], px, py) {\n    let isCollision = false; \n\n    const len = verties.length\n    verties.forEach((vector, index) => {\n        const [cx, cy] = vector; \n        const [nx, ny] = verties[(index+1)%len];\n\n        if (\n            ((cy >= py && ny < py) || (cy < py && ny >= py)) && \n            ( px  < ((nx - cx) * (py - cy) / (ny - cy)) + cx   )\n        ) {\n            isCollision = !isCollision            \n        }\n\n    })\n\n    return isCollision;\n}\n\nexport function polyCircle(verties = [], cx, cy, r) {\n\n    const len = verties.length\n    const isCollision = verties.some((vector, index) => {\n        const [currentX, currentY] = vector; \n        const [nextX, nextY] = verties[(index+1)%len];\n\n        const collision = lineCircle(currentX, currentY, nextX, nextY, cx, cy, r);\n        if (collision) return true; \n\n        return false; \n    })\n\n    if (isCollision) return true; \n\n    if (polyPoint(verties, cx, cy)) {\n        return true; \n    }\n\n    return false;\n}\n\nexport function polyRect (verties = [], rectX, rectY, rectWidth, rectHeight) {\n    const len = verties.length\n    return verties.some((vector, index) => {\n        const [currentX, currentY] = vector; \n        const [nextX, nextY] = verties[(index+1)%len];\n\n        const collision = lineRect(currentX, currentY, nextX, nextY, rectX, rectY, rectWidth, rectHeight);\n        if (collision) return true; \n\n        const inside = polyPoint(verties, rectX, rectY);\n        if (inside) return true; \n\n        return false; \n    })\n}\n\nexport function polyLine(verties = [], x1, y1, x2, y2) {\n    const len = verties.length\n    return verties.some((vector, index) => {\n        const [x3, y3] = vector; \n        const [x4, y4] = verties[(index+1)%len];\n\n        return lineLine(x1, y1, x2, y2, x3, y3, x4, y4);\n    })\n}\n\nexport function getClosestPointByPolyLine(verties = [], x1, y1, x2, y2) {\n    const pointList = []\n    const len = verties.length\n    verties.forEach((vector, index) => {\n        const [x3, y3] = vector; \n        const [x4, y4] = verties[(index+1)%len];\n\n        const point = getClosestPointBylineLine(x1, y1, x2, y2, x3, y3, x4, y4);\n        if (point.length) {\n            pointList.push(point);\n        }\n\n    })\n\n    return pointList; \n}\n\n/**\n * polygon    \n * \n * \n * @param {[x,y][]} verties \n * @param {[x,y][]} targetVerties \n */\nexport function polyPoly (verties = [], targetVerties = []) {\n    const len = verties.length\n    return verties.some((vector, index) => {\n        const [x1, y1] = vector; \n        const [x2, y2] = verties[(index+1)%len];\n\n        let collision = polyLine(targetVerties, x1, y1, x2, y2)\n        if (collision) return true; \n\n        \n        collision = polyPoint(verties, targetVerties[0][0], targetVerties[0][1])\n        if (collision) return true; \n\n        return false; \n    })\n}\n\n/**\n * sourceVerteis  targetVerties    \n * \n * @param {vec3[]} sourceVerties\n * @param {vec3[]} targetVerties\n */ \nexport function polyInPoly(sourceVerties = [], targetVerties = []) {\n    return sourceVerties.every((vector) => {\n        return polyPoint(targetVerties, vector[0], vector[1])\n    })\n}\n\nexport function rectToVerties (x, y, width, height, origin = '50% 50% 0px') {\n\n    const center = TransformOrigin.scale( origin,  width,  height );\n\n    return [\n        [x, y, 0],  // top , left \n        [x + width, y, 0],  // top , right \n        [x + width, y + height, 0], // bottom , right \n        [x, y + height, 0], // bottom , left\n        [x + center[0], y + center[1], 0],  // transform origin \n    ]\n}\n\nexport function getRotatePointer(verties, dist = 0) {\n    const topPointer = vec3.lerp([], verties[0], verties[1], 0.5);\n    const bottomPointer = vec3.lerp([], verties[2], verties[3], 0.5);\n    const rotatePointer = getPointBetweenVerties(bottomPointer, topPointer, dist)\n    \n    return rotatePointer;\n}\n\nexport function rectToVertiesForArea (x, y, width, height) {\n    return rectToVerties(x, y, width, height);\n}\n\nexport function itemsToRectVerties (items = []) {\n    let minX = Number.MAX_SAFE_INTEGER;\n    let minY = Number.MAX_SAFE_INTEGER;\n    let maxX = Number.MIN_SAFE_INTEGER;\n    let maxY = Number.MIN_SAFE_INTEGER;\n\n    const xList = [];\n    const yList = [];\n\n    items.forEach(item => {\n        item.originVerties.forEach(vector => {\n            xList.push(vector[0]);\n            yList.push(vector[1])\n        });\n    })\n\n    minX = Math.min.apply(Math, xList);\n    maxX = Math.max.apply(Math, xList);\n    minY = Math.min.apply(Math, yList);\n    maxY = Math.max.apply(Math, yList);\n\n    if (minX === Number.MAX_SAFE_INTEGER) minX = 0;\n    if (minY === Number.MAX_SAFE_INTEGER) minY = 0;\n    if (maxX === Number.MIN_SAFE_INTEGER) maxX = 0;\n    if (maxY === Number.MIN_SAFE_INTEGER) maxY = 0;   \n    \n    return rectToVerties(minX, minY, maxX - minX, maxY - minY);\n}\n\nexport function vertiesToRectangle (verties) {\n    const x = Length.px(verties[0][0]).floor();\n    const y = Length.px(verties[0][1]).floor();\n    const width = Length.px(vec3.dist(verties[0], verties[1])).floor();\n    const height = Length.px(vec3.dist(verties[0], verties[3])).floor();\n\n    return {x, left: x, y, top: y, width, height}\n}\n\nexport function toRectVertiesWithoutTransformOrigin (verties) {\n    return toRectVerties(verties).filter((it, index) => {\n        return index < 4;\n    })\n}\n\nexport function toRectVerties(verties) {\n    let minX = Number.MAX_SAFE_INTEGER;\n    let minY = Number.MAX_SAFE_INTEGER;\n    let maxX = Number.MIN_SAFE_INTEGER;\n    let maxY = Number.MIN_SAFE_INTEGER;\n\n    const xList = [];\n    const yList = [];\n\n    \n    verties.forEach(vector => {\n        xList.push(vector[0]);\n        yList.push(vector[1])\n    });\n\n    minX = Math.min.apply(Math, xList);\n    maxX = Math.max.apply(Math, xList);\n    minY = Math.min.apply(Math, yList);\n    maxY = Math.max.apply(Math, yList);\n\n    if (minX === Number.MAX_SAFE_INTEGER) minX = 0;\n    if (minY === Number.MAX_SAFE_INTEGER) minY = 0;\n    if (maxX === Number.MIN_SAFE_INTEGER) maxX = 0;\n    if (maxY === Number.MIN_SAFE_INTEGER) maxY = 0;    \n\n    return rectToVerties(minX, minY, maxX - minX, maxY - minY);\n}","import { isNotUndefined, isNumber, isString,isFunction } from \"el/sapa/functions/func\";\n\nexport function second (fps, timecode) {\n\n    if (isString(timecode)) {\n        var [hour, minute, second, frame] = timecode.split(':');\n\n        hour = parseInt(hour, 10);\n        minute = parseInt(minute, 10);\n        second = parseInt(second, 10);\n        frame = parseInt(frame, 10);\n\n        return hour * 3600 \n             + minute * 60 \n             + second \n             + frame * (1/fps);\n    } else if ( isNumber(timecode)) {\n        return timecode / fps;\n    }\n\n    return 0 \n}\n\nexport function frames (fps, time) {\n    return time * fps; \n}\n\nexport function timecode(fps, seconds) {\n    var h = Math.floor(seconds / 3600)\n    var m = Math.floor(seconds/60 % 60);\n    var s = Math.floor(seconds % 60);\n    var f = Math.round( (seconds - Math.floor(seconds)) * fps );\n\n    if (f === fps) {\n        f = 0;\n        s += 1; \n        if (s === 60) {\n            m += 1; \n\n            if (m === 60) {\n                h += 1; \n            }\n        }\n    }\n\n    return [h, m, s, f].map(t => {\n        return (t + '').padStart(2, '0')\n    }).join(':')\n}\n\nexport function timecodeToFrames(fps, timecode, start = null) {\n    return frames(fps, second(fps, timecode) - second(fps, start))\n}\n\nexport function framesToTimecode(fps, frames, start = null) {\n    return timecode(fps, second(fps, frames) - second(fps, start));\n}\n\n/**\n * make a timer for timeline animation \n * \n * @param {*} opt \n */\nexport function makeTimer (opt) {\n\n    var timer = {\n        id: 0,\n        start: 0, \n        speed: opt.speed || 1, \n        elapsed: opt.elapsed || 0,\n        duration: opt.duration || 0,\n        iterationStartCount: 1,\n        iterationCount: opt.iterationCount || Number.MAX_SAFE_INTEGER,\n        direction: opt.direction || 'normal',\n        log: [],\n        logIndex: 0,\n        tick: opt.tick || (() => {}),\n        startCallback: opt.start || (() => {}),\n        endCallback: opt.end || (() => {}),\n        firstCallback: opt.first || (() => {}) ,\n        lastCallback: opt.last || (() => {})\n    }\n\n    const isForward = () => {\n        if (timer.direction === 'normal') {\n            return true\n        } else if (timer.direction === 'reverse') {\n            return false\n        } else if (timer.direction === 'alternate') {\n            return timer.iterationStartCount % 2 === 1\n        } else if (timer.direction === 'alternate-reverse') {\n            return timer.iterationStartCount % 2 === 0\n        }\n    }\n\n\n    const calculateForDirection = (rate) => {\n        return isForward() ? rate : 1 - rate; \n    }\n\n    const tick = (now) => {\n\n        var isStart = false; \n        if (timer.start === null) {\n            timer.start = now; \n            // timer.elapsed = 0; \n            isStart = true; \n        }\n\n        const dt = now - timer.start;\n\n        timer.elapsed += dt * timer.speed;\n\n        timer.start = now; \n\n        if (timer.elapsed > timer.duration) {\n            timer.elapsed = timer.duration;\n        }\n\n        // console.log(timer.elapsed, dt, timer.speed)\n        \n        var elapsed = calculateForDirection(timer.elapsed/timer.duration) * timer.duration;\n        if (isStart) timer.startCallback(elapsed, timer);\n        timer.log[timer.logIndex++] = {elapsed, dt: timer.lastTime - elapsed};\n        timer.lastTime = elapsed;\n        timer.tick (elapsed, timer);\n\n        if (timer.elapsed === timer.duration) {\n            end();\n        } else {\n            frameStart();\n        }\n    }\n\n    const frameStart = () => {\n        timer.id = requestAnimationFrame(tick);\n    }\n\n    const end = () => {\n        timer.endCallback(timer.elapsed, timer);\n        timer.iterationStartCount++;\n\n        if (timer.iterationStartCount > timer.iterationCount) {\n            timer.lastCallback(timer.elapsed, timer);\n            cancelAnimationFrame(timer.id);\n        } else {\n           //    \n           timer.start = null;\n           timer.elapsed = 0; \n           frameStart();\n        }\n    }\n\n    const play = (opt = {}) => {\n        timer.start = null;    \n        timer.iterationStartCount = 1;\n        timer.log = [] \n        timer.lastTime = 0; \n        timer.logIndex = 0;\n\n        if (isNumber(opt.elapsed)) timer.elapsed = opt.elapsed;\n        if (isNumber(opt.speed)) timer.speed = opt.speed;\n        if (isNumber(opt.duration)) timer.duration = opt.duration;\n        if (isNumber(opt.iterationCount)) timer.iterationCount = opt.iterationCount  || Number.MAX_SAFE_INTEGER;\n        if (isString(opt.direction)) timer.direction = opt.direction\n        if (isFunction(opt.tick)) timer.tick = opt.tick;\n        if (isFunction(opt.start)) timer.startCallback = opt.start;\n        if (isFunction(opt.end)) timer.endCallback = opt.end;\n        if (isFunction(opt.first)) timer.firstCallback = opt.first;\n        if (isFunction(opt.last)) timer.lastCallback = opt.last;\n        if (isFunction(opt.stop)) timer.stopCallback = opt.stop;\n\n        timer.firstCallback(timer.elapsed, timer);\n        frameStart();\n    }\n\n\n    const stop = () => {\n        timer.stopCallback(timer.elapsed, timer);\n        cancelAnimationFrame(timer.id);\n    }\n\n    const seek = (t) => {\n        timer.elapsed = t\n        timer.tick (timer.elapsed, timer);\n    }\n\n    const first = (t) => {\n        seek(0);\n    }    \n\n    const last = (t) => {\n        seek(timer.duration)\n    }\n\n    return {\n        play, \n        stop,\n        tick,\n        first,\n        last,\n        seek,\n        timer\n    }\n}\n\n\n// var timer = makeTimer({\n//     duration: 1000,\n//     iterationCount: 3,\n//     direction: 'alternate',\n//     first: (elapsed, timer) => {\n//         console.log('first', elapsed, timer);\n//     },\n//     last: (elapsed, timer) => {\n//         console.log('last', elapsed, timer);\n//     },\n//     start: (elapsed, timer) => {\n//         console.log('start', elapsed, timer);\n//     },\n//     end : (elapsed, timer) => {\n//         console.log('end', elapsed, timer);\n//     },\n//     tick: (elapsed, timer) => {\n        \n//         console.log('tick', timecode(60, elapsed / 1000), elapsed, timer.iterationStartCount)\n//     }\n// })\n\n// timer.start();\n\n\n// setTimeout( () => {\n//     timer.start();\n// }, 1000)\n\n/* \n\nmakeTimer({\n    duration:  ,\n    tick: (elapsed, timer) => {\n\n    }\n})\n\ntimer.start({ elapsed: 10, speed : 0.5, duration : 10 * 1000 })\n\n*/","import { vec3 } from \"gl-matrix\";\nimport { getDist } from \"./math\";\n\nexport const predefinedBezier = {\n    'linear': true,\n    'ease': true,\n    'ease-in': true,\n    'ease-out': true,\n    'ease-in-out': true \n}\n\nexport const bezierObj = {\n    \"ease\" : \"cubic-bezier(0.25, 0.1, 0.25, 1)\",\n    \"ease-in\" : \"cubic-bezier(0.42, 0, 1, 1)\",\n    \"ease-out\" : \"cubic-bezier(0, 0, 0.58, 1)\"\n};\n\nexport const bezierList = [\n    [ 0, 0, 1, 1, 'linear', true],\n    [ 0.25, 0.1, 0.25, 1, 'ease', true],\n    [ 0.42, 0, 1, 1, 'ease-in', true],\n    [ 0, 0, 0.58, 1, 'ease-out', true],\n    [  0.47, 0, 0.745, 0.715,  'ease-in-sine'],\n    [  0.39, 0.575, 0.565, 1,  'ease-out-sine'],\n    [  0.445, 0.05, 0.55, 0.95,  'ease-in-out-sine'],\n    [  0.55, 0.085, 0.68, 0.53,  'ease-in-quad'],\n    [  0.25, 0.46, 0.45, 0.94,  'ease-out-quad'],\n    [  0.455, 0.03, 0.515, 0.955,  'ease-in-out-quad'],\n    [ 0.55, 0.055, 0.675, 0.19, 'ease-in-cubic'],\n    [ 0.215, 0.61, 0.355, 1, 'ease-out-cubic'],\n    [ 0.645, 0.045, 0.355, 1, 'ease-in-out-cubic'],\n    [ 0.895, 0.03, 0.685, 0.22, 'ease-in-quart'],\n    [ 0.165, 0.84, 0.44, 1, 'ease-out-quart'],\n    [ 0.77, 0, 0.175, 1, 'ease-in-out-quart'],\n    [0.6, 0.04, 0.98, 0.335, 'ease-in-circ'],\n    [0.075, 0.82, 0.165, 1, 'ease-out-circ'], \n    [0.785,0.135,0.15,0.86, 'ease-in-out-circ'],\n    [0.95,0.05,0.795,0.035, 'ease-in-expo'],\n    [0.19,1,0.22,1, 'ease-out-expo'],\n    [1,0,0,1, 'ease-in-out-expo'],\n    [0.755,0.05,0.855,0.06, 'ease-in-quint'],\n    [0.23,1,0.32,1, 'ease-out-quint'],\n    [0.86,0,0.07,1, 'ease-in-out-quint'],\n    [0.6,-0.28,0.735,0.045, 'ease-in-back'],\n    [0.175, 0.885,0.32,1.275, 'ease-out-back'],\n    [0.68,-0.55,0.265,1.55, 'ease-in-out-back']\n\n];\n\n\nexport const getPredefinedCubicBezier = (str) => {\n    return [...parseCubicBezier(bezierObj[str] || str)]\n}\n\nexport const formatCubicBezier = (arr) => {\n    arr = arr.map(it => Math.floor(it * 100)/100 )\n\n    for(var i = 0, len  = bezierList.length; i < len; i++) {\n        var bezier = bezierList[i];\n\n        if (bezier[0] == arr[0] && bezier[1] == arr[1] && bezier[2] == arr[2] && bezier[3] == arr[3] && bezier[5] /* is support css timing function name */) {\n            return bezier[4]; // timing function name\n        }\n    }\n\n    return `cubic-bezier( ${arr.filter((_, index) => index < 4).join(',')} )`;\n}\n\nexport const parseCubicBezier = (str) => {\n    if (typeof str == 'string') {\n\n        if (predefinedBezier[str]) {\n            return bezierList.filter(it => it[4] === str)[0]\n        } else {\n            var arr = str.replace(\"cubic-bezier\", \"\").replace(\"(\", \"\").replace(\")\", \"\").split(\",\");\n            arr = arr.map(it => parseFloat(it.trim()))\n            return arr;\n        }\n    }\n\n    return str;\n}\n\nexport const calc = {\n    B1 : function (t) { return t*t*t },\n    B2 : function (t) { return 3*t*t*(1-t) },\n    B3 : function (t) { return 3*t*(1-t)*(1-t) },\n    B4 : function (t) { return (1-t)*(1-t)*(1-t) }\n}\n\nexport const createBezier = (C1, C2, C3, C4) => {\n    var points = [C1, C2, C3, C4]\n    return function (t) {\n        return getBezierPointOne(points, t);\n    }\n}\n\nexport const createBezierQuard = (C1, C2, C3) => {\n    var points = [C1, C2, C3]\n    return function (t) {\n        return getBezierPointOneQuard(points, t);\n    }\n}\n\nexport const createBezierLine = (C1, C2) => {\n    var points = [C1, C2]\n    return function (t) {\n        return getBezierPointOneLine(points, t);\n    }\n}\n\nconst checkDist = (obj, curve, t, x, y) => {\n    var p = curve(t) \n    var dist = getDist(x, y, p.x, p.y);\n\n    if (dist < obj.minDist) {\n        obj.minDist = dist; \n        obj.minT = t; \n    }        \n}\n\nexport const getCurveDist = (sx, sy, cx1, cy1, cx2, cy2, ex, ey, count = 1000) => {\n    var curve = createBezier(\n        {x: sx, y: sy},\n        {x: cx1, y: cy1},\n        {x: cx2, y: cy2},\n        {x: ex, y: ey}\n    )\n\n    var total = 0\n    var startPoint = curve(0); \n    for(var i = 0; i <= count; i++) {\n        var t = i/count\n        var xy = curve(t)\n\n        total += getDist(startPoint.x, startPoint.y, xy.x, xy.y)\n        startPoint = xy; \n    }\n\n    return total; \n}\n\n\nexport const getQuardDist = (sx, sy, cx1, cy1, ex, ey, count = 1000) => {\n    var curve = createBezierQuard(\n        {x: sx, y: sy},\n        {x: cx1, y: cy1},\n        {x: ex, y: ey}\n    )\n\n    var total = 0\n    var startPoint = curve(0); \n    for(var i = 0; i <= count; i++) {\n        var t = i/count\n        var xy = curve(t)\n\n        total += getDist(startPoint.x, startPoint.y, xy.x, xy.y)\n        startPoint = xy; \n    }\n\n    return total; \n}\n\n\nconst makeCurveFunction = (curve, count = 10) => {\n    var obj = {\n        minDist: Infinity,\n        minT: 0\n    }\n    return function (x, y) {\n\n        for(var i = 0; i <= count; i++) {\n            checkDist(obj, curve, i/count, x, y);\n        }\n\n        var step = 1 / (count * 2)\n        var t = obj.minT\n        for(var i = 0; i < count; i++) {\n            checkDist(obj, curve, Math.max(0, t - step), x, y);\n            checkDist(obj, curve, Math.min(1, t + step), x, y);\n            step /= 2;             \n        }\n\n        return obj.minT;\n    }\n}\n\nexport const recoverBezier = (C1, C2, C3, C4, count = 20) => {\n    return makeCurveFunction(createBezier(C1, C2, C3, C4), count)\n}\n\nexport const recoverBezierQuard = (C1, C2, C3, count = 20) => {\n    return makeCurveFunction(createBezierQuard(C1, C2, C3), count)\n}\n\nexport const recoverBezierLine = (C1, C2, count = 20) => {\n    return makeCurveFunction(createBezierLine(C1, C2), count)    \n}\n\nexport const createBezierForPattern = (bezierString) => {\n\n\n    if (bezierString === 'linear') {\n        var C1 = { x : 0, y : 0 };\n        var C2 = { x : 1, y : 1 };        \n        return createBezierLine(C1, C2)\n    }\n\n    var bezierList = parseCubicBezier(bezierString);\n\n    var C1 = { x : 0, y : 0 };\n    var C2 = { x : bezierList[0], y : bezierList[1] };\n    var C3 = { x : bezierList[2], y : bezierList[3] };\n    var C4 = { x : 1, y : 1 };\n\n    return createBezier(C1, C2, C3, C4);\n\n}\n\nconst interpolate = (p1, p2, t) => {\n    return {\n        x: p1.x + (p2.x - p1.x) * t,\n        y: p1.y + (p2.y - p1.y) * t \n    }\n}\n\nexport const getBezierPointOne = (points, t) => {\n\n    var p0 = interpolate(points[0], points[1], t);\n    var p1 = interpolate(points[1], points[2], t);\n    var p2 = interpolate(points[2], points[3], t);\n    var p3 = interpolate(p0, p1, t);\n    var p4 = interpolate(p1, p2, t);\n\n    return interpolate(p3, p4, t);\n}\n\nexport const getBezierPointOneQuard = (points, t) => {\n\n    var p0 = interpolate(points[0], points[1], t);\n    var p1 = interpolate(points[1], points[2], t);\n    return interpolate(p0, p1, t);\n}\n\nexport const getBezierPointOneLine = (points, t) => {\n\n    return interpolate(points[0], points[1], t);\n}\n\nexport const getBezierPoints = (points, t) => {\n    var p0 = interpolate(points[0], points[1], t);\n    var p1 = interpolate(points[1], points[2], t);\n    var p2 = interpolate(points[2], points[3], t);\n    var p3 = interpolate(p0, p1, t);\n    var p4 = interpolate(p1, p2, t);\n    var p5 = interpolate(p3, p4, t);\n\n    return {\n        first: [ points[0], p0, p3, p5 ],\n        second: [ p5, p4, p2, points[3] ]\n    }\n}\n\nexport const getBezierPointsQuard = (points, t) => {\n\n    var p0 = interpolate(points[0], points[1], t);\n    var p1 = interpolate(points[1], points[2], t);\n    var p2 = interpolate(p0, p1, t);\n\n    return {\n        first: [ points[0], p0, p2 ],\n        second: [ p2, p1, points[2] ]\n    }\n}\n\nexport const splitBezierPointsByCount = (points, count = 1) => {\n    var result = []\n\n    while(count > 0) {\n        const curve = getBezierPoints(points, 1/count);\n        result.push(curve.first)\n        points = curve.second;\n        count--;\n    }\n\n    return result;\n}\n\nexport const splitBezierPointsQuardByCount = (points, count = 1) => {\n    var result = []\n\n    while(count > 0) {\n        const curve = getBezierPointsQuard(points, 1/count);\n        result.push(curve.first)\n        points = curve.second;\n        count--;\n    }\n\n    return result;\n}\n\nexport const splitBezierPointsLineByCount = (points, count = 1) => {\n    var result = []\n\n    while(count > 0) {\n        const curve = getBezierPointsLine(points, 1/count);\n        result.push(curve.first)\n        points = curve.second;\n        count--;\n    }\n\n    return result;\n}\n\n\nexport const getBezierPointsLine = (points, t) => {\n\n    var p0 = interpolate(points[0], points[1], t);\n\n    return {\n        first: [ points[0], p0 ],\n        second: [ p0, points[1] ]\n    }\n}\n\n\nexport const calculateA = (points) => {\n    // a = 3 * (-p0 + 3*p1 - 3*p2 + p3)\n    const a1 = vec3.negate([], points[0]);\n    const a2 = vec3.multiply([], [3, 3, 3], points[1])\n    const a3 = vec3.multiply([], [-3, -3, -3], points[2])\n    const a4 = points[3]\n\n    const newP = vec3.add(\n        [],\n        vec3.add([], a1, a2),\n        vec3.add([], a3, a4),\n    )\n        \n    return vec3.multiply([], [3, 3, 3], newP) \n}\n\nexport const calculateB = (points) => {\n    // b = 6 * (p0 - 2*p1 + p2);\n    const b1 = points[0]\n    const b2 = vec3.multiply([], [-2, -2, -2], points[1])\n    const b3 = points[2]\n\n    const newP = vec3.add([],vec3.add([], b1, b2), b3)\n        \n    return vec3.multiply([], [6, 6, 6], newP)     \n}\n\nexport const calculateC = (points) => {\n    // c = 3 * (p1 - p0);\n    const newP = vec3.add(\n        [],\n        points[1], \n        vec3.negate([], points[0])\n    )\n\n    return vec3.multiply([], [3, 3, 3], newP)         \n}\n\n\nexport const findRootForCurve = (points) => {\n    // Vector2 a = 3 * (-p0 + 3*p1 - 3*p2 + p3);\n    // Vector2 b = 6 * (p0 - 2*p1 + p2);\n    //Vector2 c = 3 * (p1 - p0);\n\n    const a = calculateA(points);\n    const b = calculateB(points);\n    const c = calculateC(points);\n\n    const roots = []\n\n    // x \n    const distX = b[0] * b[0] - 4 * a[0] * c[0];\n    if (distX < 0) {\n        // NOOP\n    } else if (distX === 0) {\n        let rootX = (-b[0]) / (2 * a[0])\n        if (isNaN(rootX)) rootX = 0;\n\n        if (0 <= rootX && rootX <= 1) {\n            roots.push(rootX);\n        }\n    } else if (distX > 0) {\n        const rootX1 = (-b[0] + Math.sqrt(distX)) / (2 * a[0]);\n        const rootX2 = (-b[0] - Math.sqrt(distX)) / (2 * a[0]);\n\n        if (0 <= rootX1 && rootX1 <= 1) {\n            roots.push(rootX1);\n        }\n\n        if (0 <= rootX2 && rootX2 <= 1) {\n            roots.push(rootX2);\n        }\n\n    }\n    \n    // y \n    const distY = b[1] * b[1] - 4 * a[1] * c[1];\n\n    if (distY < 0) {\n        // NOOP\n    } else if (distY === 0) {\n        let rootY = (-b[1]) / (2 * a[1])\n        if (isNaN(rootY)) rootY = 0;\n\n        if (0 <= rootY && rootY <= 1) {\n            roots.push(rootY);\n        }\n    } else if (distY > 0) {\n        const rootY1 = (-b[1] + Math.sqrt(distY)) / (2 * a[1]);\n        const rootY2 = (-b[1] - Math.sqrt(distY)) / (2 * a[1]);\n\n        if (0 <= rootY1 && rootY1 <= 1) {\n            roots.push(rootY1);       \n        }\n\n        if (0 <= rootY2 && rootY2 <= 1) {\n            roots.push(rootY2);       \n        }        \n    }\n\n    return roots; \n}\n\n/**\n * get bezier curve bounding box \n *    \n * \n * @param {vec3[]} points \n */\nexport const getCurveBBox = (points) => {\n    const roots = findRootForCurve(points);\n\n    const xyPoints = points.map(p => {\n        return {x: p[0], y: p[1]}\n    })\n\n    // root  t = 0, 1   . \n    roots.push(0, 1);\n\n    return roots.map(t => {\n        const {x, y} = getBezierPointOne(xyPoints, t);\n        return [x, y, 0]\n    })\n}\n\nexport const getQuardCurveBBox = (points) => {\n    const roots = findRootForQuardCurve(points);\n\n    const xyPoints = points.map(p => {\n        return {x: p[0], y: p[1]}\n    })\n\n    return roots.map(t => {\n        const {x, y} = getBezierPointOneQuard(xyPoints, t);\n        return [x, y, 0]\n    })\n}","export function makeInterpolateNumber(layer, property, startNumber, endNumber, unit = undefined) {\n\n    return (rate, t) => {\n\n        var result = 0;\n        if (t === 0) {\n            result = startNumber;\n        } else if (t === 1) {\n            result = endNumber;\n        } else {\n            result = startNumber + (endNumber - startNumber) * rate\n        }\n\n        if (unit) {\n            return result + unit; \n        }\n\n        return result; \n    }\n}\n","\nexport function makeInterpolateIdentity (layer, property, value) {\n    return (ratio, t) => {\n        return value;\n    } \n}\n ","import { Length } from \"el/editor/unit/Length\";\nimport { makeInterpolateNumber } from \"./makeInterpolateNumber\";\nimport { makeInterpolateIdentity } from \"./makeInterpolateIdentity\";\n\nfunction getRealAttributeValue (layer, property, value, refType = 'width', refElement = 'parent') {\n\n    var refObject = null\n    if (refElement === 'parent') {\n        refObject = layer[refElement][refType];\n    } else if (refElement === 'self') {\n        refObject = layer[refType];\n    } \n\n    if (refObject) {\n        return value.toPx(refObject.value)\n    }\n\n    return value; \n}\n\n\nfunction rollbackRealAttributeValue (layer, property, value, unit, refType = 'width', refElement = 'parent') {\n\n    var refObject = null\n    if (refElement === 'parent') {\n        refObject = layer[refElement][refType];\n    } else if (refElement === 'self') {\n        refObject = layer[refType];\n    }\n\n    if (refObject) {\n        return value.to(unit, refObject.value)\n    }\n\n    return value; \n}\n\nexport function makeInterpolateLength(layer, property, startNumber, endNumber, refType = 'width', refElement = 'parent') {\n    var s = Length.parse(startNumber);\n    var e = Length.parse(endNumber);\n\n\n    if (s.unit === e.unit) {\n        return makeInterpolateNumber(layer, property, s.value, e.value, s.unit);\n    } else if (s.equals(e)) {\n        return makeInterpolateIdentity(layer, property, s);\n    }    \n\n    return (rate, t) => {\n\n        var realStartValue = getRealAttributeValue(layer, property, s, refType, refElement);\n        var realEndValue = getRealAttributeValue(layer, property, e, refType, refElement);\n\n        if (t === 0) {\n            return realStartValue;\n        } else if (t === 1) {\n            return realEndValue;\n        }\n\n\n        return rollbackRealAttributeValue(\n            layer, \n            property, \n            Length.px(realStartValue.value + (realEndValue.value - realStartValue.value) * rate), \n            s.unit, \n            refType,\n            refElement\n        );\n    }\n}\n","import { Length } from \"el/editor/unit/Length\";\n\nexport default class BorderRadius {\n    static parseStyle (str = '') {\n        \n        var obj = {\n            isAll: true,\n            'border-radius': Length.z(),\n            'border-top-left-radius': Length.z(),\n            'border-top-right-radius': Length.z(),\n            'border-bottom-right-radius': Length.z(),\n            'border-bottom-left-radius': Length.z()\n        }\n\n        var temp = {} \n        var arr = str.split(' ').filter(it => Length.parse(it))\n\n        if (arr.length === 1) {\n            obj.isAll = true; \n            obj['border-radius'] = arr[0]\n        } else {\n            obj.isAll = false; \n            obj['border-top-left-radius'] = arr[0];\n            obj['border-top-right-radius'] = arr[1];\n            obj['border-bottom-right-radius'] = arr[2];\n            obj['border-bottom-left-radius'] = arr[3];\n        }\n\n        return obj; \n    }\n}","import { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { STRING_TO_CSS, CSS_TO_STRING } from \"el/sapa/functions/func\";\nimport BorderRadius from \"../../property-parser/BorderRadius\";\nimport { Length } from \"el/editor/unit/Length\";\n\nconst getBorderRadiusList = (radiusValue) => {\n    var startObject = [] \n    if (radiusValue.isAll) {\n        startObject = [\n            radiusValue['border-radius'] || '0px', \n            radiusValue['border-radius'] || '0px', \n            radiusValue['border-radius'] || '0px', \n            radiusValue['border-radius'] || '0px'\n        ]\n    } else {\n        startObject = [\n            radiusValue['border-top-left-radius'] || '0px', \n            radiusValue['border-top-right-radius'] || '0px', \n            radiusValue['border-bottom-right-radius'] || '0px', \n            radiusValue['border-bottom-left-radius'] || '0px'\n        ]\n    }\n\n    return startObject;\n}\n\nexport function makeInterpolateBorderRadius(layer, property, startValue, endValue) {\n    var s = getBorderRadiusList(BorderRadius.parseStyle(startValue));\n    var e = getBorderRadiusList(BorderRadius.parseStyle(endValue));\n\n    var max = Math.max(s.length, e.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        list[i] = makeInterpolateLength(layer, property, s[i], e[i])\n    }\n\n\n    return (rate, t) => {\n        return list.map(it => it(rate, t)).join(' ')\n    }\n}\n\n\n","/**\n * @method format\n *\n * convert color to format string\n *\n *     // hex\n *     color.format({ r : 255, g : 255, b : 255 }, 'hex')  // #FFFFFF\n *\n *     // rgb\n *     color.format({ r : 255, g : 255, b : 255 }, 'rgb') // rgba(255, 255, 255, 0.5);\n *\n *     // rgba\n *     color.format({ r : 255, g : 255, b : 255, a : 0.5 }, 'rgb') // rgba(255, 255, 255, 0.5);\n *\n * @param {Object} obj  obj has r, g, b and a attributes\n * @param {\"hex\"/\"rgb\"} type  format string type\n * @returns {*}\n */\nexport function format(obj, type, defaultColor = 'rgba(0, 0, 0, 0)') {\n\n    if (Array.isArray(obj)) {\n        obj = { r: obj[0], g: obj[1], b: obj[2], a: obj[3] }\n    }\n\n    if (type == 'hex') {\n        return hex(obj);\n    } else if (type == 'rgb') {\n        return rgb(obj, defaultColor);\n    } else if (type == 'hsl') {\n        return hsl(obj);\n    }\n\n    return obj;\n}\n\nexport function hex(obj) {\n    if (Array.isArray(obj)) {\n        obj = { r: obj[0], g: obj[1], b: obj[2], a: obj[3] }\n    }\n\n    var r = obj.r.toString(16);\n    if (obj.r < 16) r = \"0\" + r;\n\n    var g = obj.g.toString(16);\n    if (obj.g < 16) g = \"0\" + g;\n\n    var b = obj.b.toString(16);\n    if (obj.b < 16) b = \"0\" + b;\n\n\n    if (obj.a == 1 || typeof obj.a === 'undefined') {\n        return `#${r}${g}${b}`;\n    } else {\n        const alpha = Math.ceil(obj.a * 255);\n        var a = alpha.toString(16);\n        if (alpha < 16) a = \"0\" + a;\n  \n        return `#${r}${g}${b}${a}`;        \n    }\n}\n\nexport function rgb (obj, defaultColor = 'rgba(0, 0, 0, 0)') {\n    if (Array.isArray(obj)) {\n        obj = { r: obj[0], g: obj[1], b: obj[2], a: obj[3] }\n    }\n\n    if (typeof obj === 'undefined' ) {\n        return undefined;\n    }\n\n    if (obj.a == 1 || typeof obj.a === 'undefined' ) {\n        if (isNaN(obj.r)) {\n            return defaultColor;\n        }\n        return `rgb(${obj.r},${obj.g},${obj.b})`;\n    } else {\n        return `rgba(${obj.r},${obj.g},${obj.b},${obj.a})`;\n    }\n}\n\nexport function hsl (obj) {\n    if (Array.isArray(obj)) {\n        obj = { r: obj[0], g: obj[1], b: obj[2], a: obj[3] }\n    }\n\n    if (obj.a == 1 || typeof obj.a === 'undefined' ) {\n        return `hsl(${obj.h},${obj.s}%,${obj.l}%)`;\n    } else {\n        return `hsla(${obj.h},${obj.s}%,${obj.l}%,${obj.a})`;\n    }\n\n}","import { rgb } from \"./formatter\";\n\nexport function randomNumber(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function randomByCount (count = 1) {\n    let arr = []\n    for(var i = 0; i < count; i++) {\n        arr[arr.length] = random();\n    }\n\n    return arr; \n}\n\nexport function random() {\n    return rgb({\n        r: randomNumber(0, 255),\n        g: randomNumber(0, 255),\n        b : randomNumber(0, 255),\n    })\n}\n\nexport function randomRGBA() {\n    return rgb({\n        r: randomNumber(0, 255),\n        g: randomNumber(0, 255),\n        b: randomNumber(0, 255),\n        a: randomNumber(0, 1000)/1000,\n    })\n}","import { isBoolean, isNotUndefined, isObject, isUndefined } from \"el/sapa/functions/func\";\nimport { getPredefinedCubicBezier } from \"./bezier\";\nimport { randomNumber } from \"./create\";\n\nexport function randomItem(...args) {\n    return args[randomNumber(0, args.length - 1)];\n}\n\n\nexport function repeat(count) {\n    return [...Array(count)];\n}\n\n\n\nexport function CSS_TO_STRING(style, postfix = '') {\n    var newStyle = style || {};\n\n    return Object.keys(newStyle)\n        .filter(key => isNotUndefined(newStyle[key]))\n        .map(key => `${key}: ${newStyle[key]}`)\n        .join(\";\" + postfix);\n}\n\n\nexport function STRING_TO_CSS(str = '', splitChar = ';', keySplitChar = ':') {\n\n    str = str + \"\";\n\n    var style = {}\n\n    if (str === '') return style;\n\n    str.split(splitChar).forEach(it => {\n        var [key, ...value] = it.split(keySplitChar).map(it => it.trim())\n        if (key != '') {\n            style[key] = value.join(keySplitChar);\n        }\n    })\n\n    return style;\n}\n\nexport function OBJECT_TO_PROPERTY(obj) {\n    return Object.keys(obj).map(key => {\n\n        if (key === 'class') {\n            if (isObject(obj[key])) {\n                return `${key}=\"${OBJECT_TO_CLASS(obj[key])}\"`\n            }\n        }\n\n        if (isBoolean(obj[key]) || isUndefined(obj[key]) || obj[key] === 'undefined') {\n            if (obj[key]) {\n                return key;\n            } else {\n                return '';\n            }\n        }\n\n        return `${key}=\"${obj[key]}\"`\n    }).join(' ');\n}\n\nexport function OBJECT_TO_CLASS(obj) {\n    return Object.keys(obj).filter(k => obj[k]).map(key => {\n        return key\n    }).join(' ');\n}\n\nexport function TAG_TO_STRING(str) {\n    return str.replace(/\\</g, '&lt;').replace(/\\>/g, '&gt;')\n}\n\nexport function mapjoin(arr, callback, joinString = '') {\n    return arr.map(callback).join(joinString);\n}\n\nexport function isArrayEquals(A, B) {\n    const s = new Set([...A, ...B])\n\n    return s.size === A.length && s.size === B.length;\n}\n\nexport const curveToPath = (timingFunction, width = 30, height = 30) => {\n    const currentBezier = getPredefinedCubicBezier(timingFunction)\n\n    return `\n        M0 ${width} \n        C \n        ${currentBezier[0] * width} ${currentBezier[1] == 0 ? height : (1 - currentBezier[1]) * height},\n        ${currentBezier[2] * width} ${currentBezier[3] == 1 ? 0 : (1 - currentBezier[3]) * height},\n        ${width} 0\n    `\n}\n\nexport const curveToPointLine = (timingFunction, width = 30, height = 30) => {\n    const currentBezier = getPredefinedCubicBezier(timingFunction)\n\n    return `\n        M 0 ${width} \n        L ${currentBezier[0] * width} ${currentBezier[1] == 0 ? height : (1 - currentBezier[1]) * height}\n        M ${width} 0\n        L ${currentBezier[2] * width} ${currentBezier[3] == 1 ? 0 : (1 - currentBezier[3]) * height}\n    `\n}","import { Item } from \"./Item\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\n\n\nexport class PropertyItem extends Item {\n\n  getDefaultObject(obj = {}) {\n    return {\n      selected: false,  //    \n      layers: [],   //   . \n      ...obj\n    };\n  }\n\n  isAttribute() {\n    return true;\n  }\n\n  toCSS() { \n    return {};\n  }\n\n  toString() {\n    return CSS_TO_STRING(this.toCSS());\n  }\n}\n","export const color_names = { aliceblue: \"rgb(240, 248, 255)\", antiquewhite: \"rgb(250, 235, 215)\", aqua: \"rgb(0, 255, 255)\", aquamarine: \"rgb(127, 255, 212)\", azure: \"rgb(240, 255, 255)\", beige: \"rgb(245, 245, 220)\", bisque: \"rgb(255, 228, 196)\", black: \"rgb(0, 0, 0)\", blanchedalmond: \"rgb(255, 235, 205)\", blue: \"rgb(0, 0, 255)\", blueviolet: \"rgb(138, 43, 226)\", brown: \"rgb(165, 42, 42)\", burlywood: \"rgb(222, 184, 135)\", cadetblue: \"rgb(95, 158, 160)\", chartreuse: \"rgb(127, 255, 0)\", chocolate: \"rgb(210, 105, 30)\", coral: \"rgb(255, 127, 80)\", cornflowerblue: \"rgb(100, 149, 237)\", cornsilk: \"rgb(255, 248, 220)\", crimson: \"rgb(237, 20, 61)\", cyan: \"rgb(0, 255, 255)\", darkblue: \"rgb(0, 0, 139)\", darkcyan: \"rgb(0, 139, 139)\", darkgoldenrod: \"rgb(184, 134, 11)\", darkgray: \"rgb(169, 169, 169)\", darkgrey: \"rgb(169, 169, 169)\", darkgreen: \"rgb(0, 100, 0)\", darkkhaki: \"rgb(189, 183, 107)\", darkmagenta: \"rgb(139, 0, 139)\", darkolivegreen: \"rgb(85, 107, 47)\", darkorange: \"rgb(255, 140, 0)\", darkorchid: \"rgb(153, 50, 204)\", darkred: \"rgb(139, 0, 0)\", darksalmon: \"rgb(233, 150, 122)\", darkseagreen: \"rgb(143, 188, 143)\", darkslateblue: \"rgb(72, 61, 139)\", darkslategray: \"rgb(47, 79, 79)\", darkslategrey: \"rgb(47, 79, 79)\", darkturquoise: \"rgb(0, 206, 209)\", darkviolet: \"rgb(148, 0, 211)\", deeppink: \"rgb(255, 20, 147)\", deepskyblue: \"rgb(0, 191, 255)\", dimgray: \"rgb(105, 105, 105)\", dimgrey: \"rgb(105, 105, 105)\", dodgerblue: \"rgb(30, 144, 255)\", firebrick: \"rgb(178, 34, 34)\", floralwhite: \"rgb(255, 250, 240)\", forestgreen: \"rgb(34, 139, 34)\", fuchsia: \"rgb(255, 0, 255)\", gainsboro: \"rgb(220, 220, 220)\", ghostwhite: \"rgb(248, 248, 255)\", gold: \"rgb(255, 215, 0)\", goldenrod: \"rgb(218, 165, 32)\", gray: \"rgb(128, 128, 128)\", grey: \"rgb(128, 128, 128)\", green: \"rgb(0, 128, 0)\", greenyellow: \"rgb(173, 255, 47)\", honeydew: \"rgb(240, 255, 240)\", hotpink: \"rgb(255, 105, 180)\", indianred: \"rgb(205, 92, 92)\", indigo: \"rgb(75, 0, 130)\", ivory: \"rgb(255, 255, 240)\", khaki: \"rgb(240, 230, 140)\", lavender: \"rgb(230, 230, 250)\", lavenderblush: \"rgb(255, 240, 245)\", lawngreen: \"rgb(124, 252, 0)\", lemonchiffon: \"rgb(255, 250, 205)\", lightblue: \"rgb(173, 216, 230)\", lightcoral: \"rgb(240, 128, 128)\", lightcyan: \"rgb(224, 255, 255)\", lightgoldenrodyellow: \"rgb(250, 250, 210)\", lightgreen: \"rgb(144, 238, 144)\", lightgray: \"rgb(211, 211, 211)\", lightgrey: \"rgb(211, 211, 211)\", lightpink: \"rgb(255, 182, 193)\", lightsalmon: \"rgb(255, 160, 122)\", lightseagreen: \"rgb(32, 178, 170)\", lightskyblue: \"rgb(135, 206, 250)\", lightslategray: \"rgb(119, 136, 153)\", lightslategrey: \"rgb(119, 136, 153)\", lightsteelblue: \"rgb(176, 196, 222)\", lightyellow: \"rgb(255, 255, 224)\", lime: \"rgb(0, 255, 0)\", limegreen: \"rgb(50, 205, 50)\", linen: \"rgb(250, 240, 230)\", magenta: \"rgb(255, 0, 255)\", maroon: \"rgb(128, 0, 0)\", mediumaquamarine: \"rgb(102, 205, 170)\", mediumblue: \"rgb(0, 0, 205)\", mediumorchid: \"rgb(186, 85, 211)\", mediumpurple: \"rgb(147, 112, 219)\", mediumseagreen: \"rgb(60, 179, 113)\", mediumslateblue: \"rgb(123, 104, 238)\", mediumspringgreen: \"rgb(0, 250, 154)\", mediumturquoise: \"rgb(72, 209, 204)\", mediumvioletred: \"rgb(199, 21, 133)\", midnightblue: \"rgb(25, 25, 112)\", mintcream: \"rgb(245, 255, 250)\", mistyrose: \"rgb(255, 228, 225)\", moccasin: \"rgb(255, 228, 181)\", navajowhite: \"rgb(255, 222, 173)\", navy: \"rgb(0, 0, 128)\", oldlace: \"rgb(253, 245, 230)\", olive: \"rgb(128, 128, 0)\", olivedrab: \"rgb(107, 142, 35)\", orange: \"rgb(255, 165, 0)\", orangered: \"rgb(255, 69, 0)\", orchid: \"rgb(218, 112, 214)\", palegoldenrod: \"rgb(238, 232, 170)\", palegreen: \"rgb(152, 251, 152)\", paleturquoise: \"rgb(175, 238, 238)\", palevioletred: \"rgb(219, 112, 147)\", papayawhip: \"rgb(255, 239, 213)\", peachpuff: \"rgb(255, 218, 185)\", peru: \"rgb(205, 133, 63)\", pink: \"rgb(255, 192, 203)\", plum: \"rgb(221, 160, 221)\", powderblue: \"rgb(176, 224, 230)\", purple: \"rgb(128, 0, 128)\", rebeccapurple: \"rgb(102, 51, 153)\", red: \"rgb(255, 0, 0)\", rosybrown: \"rgb(188, 143, 143)\", royalblue: \"rgb(65, 105, 225)\", saddlebrown: \"rgb(139, 69, 19)\", salmon: \"rgb(250, 128, 114)\", sandybrown: \"rgb(244, 164, 96)\", seagreen: \"rgb(46, 139, 87)\", seashell: \"rgb(255, 245, 238)\", sienna: \"rgb(160, 82, 45)\", silver: \"rgb(192, 192, 192)\", skyblue: \"rgb(135, 206, 235)\", slateblue: \"rgb(106, 90, 205)\", slategray: \"rgb(112, 128, 144)\", slategrey: \"rgb(112, 128, 144)\", snow: \"rgb(255, 250, 250)\", springgreen: \"rgb(0, 255, 127)\", steelblue: \"rgb(70, 130, 180)\", tan: \"rgb(210, 180, 140)\", teal: \"rgb(0, 128, 128)\", thistle: \"rgb(216, 191, 216)\", tomato: \"rgb(255, 99, 71)\", turquoise: \"rgb(64, 224, 208)\", violet: \"rgb(238, 130, 238)\", wheat: \"rgb(245, 222, 179)\", white: \"rgb(255, 255, 255)\", whitesmoke: \"rgb(245, 245, 245)\", yellow: \"rgb(255, 255, 0)\", yellowgreen: \"rgb(154, 205, 50)\", transparent: \"rgba(0, 0, 0, 0)\", currentColor: 'currentColor' };\n\nfunction isColorName (name) {\n    return !!color_names[name];\n}\n\nfunction getColorByName (name) {\n    return color_names[name];\n}\n\nexport default {\n    isColorName,\n    getColorByName \n}","import { round } from \"./math\";\n\n\nexport function ReverseXyz(n) {\n    return (Math.pow(n, 3) > 0.008856) ? Math.pow(n, 3) : (n - 16 / 116) / 7.787;\n}\n\nexport function ReverseRGB(n) {\n    return (n > 0.0031308) ? 1.055 * (Math.pow(n, (1 / 2.4))) - 0.055 : 12.92 * n;\n}\n\nexport function XYZtoRGB(x, y, z) {\n    if (arguments.length == 1) {\n        var { x, y, z } = arguments[0];\n    }\n    //X, Y and Z input refer to a D65/2 standard illuminant.\n    //sR, sG and sB (standard RGB) output range = 0  255\n\n    let X = x / 100.0\n    let Y = y / 100.0\n    let Z = z / 100.0\n\n    let R = X * 3.2406 + Y * -1.5372 + Z * -0.4986;\n    let G = X * -0.9689 + Y * 1.8758 + Z * 0.0415;\n    let B = X * 0.0557 + Y * -0.2040 + Z * 1.0570;\n\n    R = ReverseRGB(R);\n    G = ReverseRGB(G);\n    B = ReverseRGB(B);\n\n    const r = round(R * 255);\n    const g = round(G * 255);\n    const b = round(B * 255);\n\n    return { r, g, b };\n}\n\nexport function LABtoXYZ(l, a, b) {\n    if (arguments.length == 1) {\n        var { l, a, b } = arguments[0];\n    }\n    //Reference-X, Y and Z refer to specific illuminants and observers.\n    //Common reference values are available below in this same page.\n\n    let Y = (l + 16) / 116\n    let X = a / 500 + Y\n    let Z = Y - b / 200\n\n    Y = ReverseXyz(Y);\n    X = ReverseXyz(X);\n    Z = ReverseXyz(Z);\n\n    const x = X * 95.047\n    const y = Y * 100.000\n    const z = Z * 108.883\n\n    return { x, y, z };\n}\n\nexport function PivotXyz(n) {\n    return (n > 0.008856) ? Math.pow(n, (1 / 3)) : (7.787 * n + 16) / 116;\n}\n\n\nexport function XYZtoLAB(x, y, z) {\n    if (arguments.length == 1) {\n        var { x, y, z } = arguments[0];\n    }\n\n    //Reference-X, Y and Z refer to specific illuminants and observers.\n    //Common reference values are available below in this same page.\n    // Observer= 2, Illuminant= D65\n\n    let X = x / 95.047;\n    let Y = y / 100.00;\n    let Z = z / 108.883;\n\n    X = PivotXyz(X);\n    Y = PivotXyz(Y);\n    Z = PivotXyz(Z);\n\n    const l = (116 * Y) - 16;\n    const a = 500 * (X - Y);\n    const b = 200 * (Y - Z);\n\n    return { l, a, b };\n}\n\nexport function LABtoRGB(l, a, b) {\n    if (arguments.length == 1) {\n        var { l, a, b } = arguments[0];\n    }\n    return XYZtoRGB(LABtoXYZ(l, a, b));\n}","import { XYZtoLAB } from './fromLAB';\nimport { round } from './math';\n\n/**\n * @method RGBtoHSV\n *\n * convert rgb to hsv\n *\n * \t\tcolor.RGBtoHSV(0, 0, 255) === { h : 240, s : 1, v : 1 } === '#FFFF00'\n *\n * @param {Number} R  red color value\n * @param {Number} G  green color value\n * @param {Number} B  blue color value\n * @return {Object}  hsv color code\n */\nexport function RGBtoHSV(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n\n    const R1 = r / 255;\n    const G1 = g / 255;\n    const B1 = b / 255;\n\n    const MaxC = Math.max(R1, G1, B1);\n    const MinC = Math.min(R1, G1, B1);\n\n    const DeltaC = MaxC - MinC;\n\n    var H = 0;\n\n    if (DeltaC == 0) { H = 0; }\n    else if (MaxC == R1) {\n        H = 60 * (((G1 - B1) / DeltaC) % 6);\n    } else if (MaxC == G1) {\n        H = 60 * (((B1 - R1) / DeltaC) + 2);\n    } else if (MaxC == B1) {\n        H = 60 * (((R1 - G1) / DeltaC) + 4);\n    }\n\n    if (H < 0) {\n        H = 360 + H;\n    }\n\n    var S = 0;\n\n    if (MaxC == 0) S = 0;\n    else S = DeltaC / MaxC;\n\n    var V = MaxC;\n\n    return { h: H, s: S, v: V };\n}\n\n\nexport function RGBtoCMYK(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n\n    const R1 = r / 255;\n    const G1 = g / 255;\n    const B1 = b / 255;\n\n    const K = 1 - Math.max(R1, G1, B1);\n    const C = (1 - R1 - K) / (1 - K);\n    const M = (1 - G1 - K) / (1 - K);\n    const Y = (1 - B1 - K) / (1 - K);\n\n    return { c: C, m: M, y: Y, k: K };\n}\n\n\nexport function RGBtoHSL(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n\n    r /= 255, g /= 255, b /= 255;\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if (max == min) {\n        h = s = 0; // achromatic\n    } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n\n    return { h: round(h * 360), s: round(s * 100), l: round(l * 100) };\n}\n\nexport function c(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    return gray((r + g + b) / 3 > 90 ? 0 : 255);\n}\n\nexport function gray(gray) {\n    return { r: gray, g: gray, b: gray };\n}\n\nexport function RGBtoSimpleGray(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    return gray(Math.ceil((r + g + b) / 3));\n}\n\n\nexport function RGBtoGray(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    return gray(RGBtoYCrCb(r, g, b).y);\n}\n\n\nexport function brightness(r, g, b) {\n        return Math.ceil(r * 0.2126 + g * 0.7152 + b * 0.0722);\n}\n\n\nexport function RGBtoYCrCb(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    const Y = brightness(r, g, b);\n    const Cb = 0.564 * (b - Y)\n    const Cr = 0.713 * (r - Y)\n\n    return { y: Y, cr: Cr, cb: Cb };\n}\n\nexport function PivotRGB(n) {\n    return ((n > 0.04045) ? Math.pow((n + 0.055) / 1.055, 2.4) : n / 12.92) * 100;\n}\n\nexport function RGBtoXYZ(r, g, b) {\n    //sR, sG and sB (Standard RGB) input range = 0  255\n    //X, Y and Z output refer to a D65/2 standard illuminant.\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n\n    let R = (r / 255)\n    let G = (g / 255)\n    let B = (b / 255)\n\n    R = PivotRGB(R);\n    G = PivotRGB(G);\n    B = PivotRGB(B);\n\n    const x = R * 0.4124 + G * 0.3576 + B * 0.1805;\n    const y = R * 0.2126 + G * 0.7152 + B * 0.0722;\n    const z = R * 0.0193 + G * 0.1192 + B * 0.9505;\n\n    return { x, y, z }\n}\n    \nexport function RGBtoLAB(r, g, b) {\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    return XYZtoLAB(RGBtoXYZ(r, g, b));\n}","import { RGBtoHSV } from './fromRGB'\nimport { round } from './math'\n\nexport function HUEtoRGB(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\n\nexport function HSLtoHSV(h, s, l) {\n\n    if (arguments.length == 1) {\n        var { h, s, l } = arguments[0];\n    }\n    const rgb = HSLtoRGB(h, s, l);\n\n    return RGBtoHSV(rgb.r, rgb.g, rgb.b);\n}\n\nexport function HSLtoRGB(h, s, l) {\n\n    if (arguments.length == 1) {\n        var { h, s, l } = arguments[0];\n    }\n\n    var r, g, b;\n\n    h /= 360;\n    s /= 100;\n    l /= 100;\n\n    if (s == 0) {\n        r = g = b = l; // achromatic\n    } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = HUEtoRGB(p, q, h + 1 / 3);\n        g = HUEtoRGB(p, q, h);\n        b = HUEtoRGB(p, q, h - 1 / 3);\n    }\n\n    return { r: round(r * 255), g: round(g * 255), b: round(b * 255) };\n}","import ColorNames from './ColorNames'\n\nimport { RGBtoHSL } from './fromRGB'\nimport { HSLtoRGB } from './fromHSL'\nimport { isNumber, isString } from 'el/sapa/functions/func';\n\nconst color_regexp = /(#(?:[\\da-f]{3}){1,2}|#(?:[\\da-f]{8})|rgb\\((?:\\s*\\d{1,3},\\s*){2}\\d{1,3}\\s*\\)|rgba\\((?:\\s*\\d{1,3},\\s*){3}\\d*\\.?\\d+\\s*\\)|hsl\\(\\s*\\d{1,3}(?:,\\s*\\d{1,3}%){2}\\s*\\)|hsla\\(\\s*\\d{1,3}(?:,\\s*\\d{1,3}%){2},\\s*\\d*\\.?\\d+\\s*\\)|([\\w_\\-]+))/gi;\n\nexport function getColorIndexString(it, prefix = '@' ) {\n    return `${prefix}${it.startIndex}`.padEnd(10, '0');\n}\n\nexport function isColor (str) {\n    const results = matches(str);\n\n    return !!results.length\n}\n\nexport function matches (str) {\n    const matches = str.match(color_regexp);\n    let result = [];\n\n    if (!matches) {\n        return result;\n    }\n\n    for (var i = 0, len = matches.length; i < len; i++) {\n\n        if (matches[i].indexOf('#') > -1 || matches[i].indexOf('rgb') > -1 || matches[i].indexOf('hsl') > -1) {\n            result.push({ color: matches[i] });\n        } else {\n            var nameColor = ColorNames.getColorByName(matches[i]);\n\n            if (nameColor) {\n                result.push({ color: matches[i], nameColor: nameColor });\n            }\n        }\n    }\n\n    var pos = { next: 0 }\n    result.forEach(item => {\n        const startIndex = str.indexOf(item.color, pos.next);\n\n        item.startIndex = startIndex;\n        item.endIndex = startIndex + item.color.length;\n\n        pos.next = item.endIndex;\n    });\n\n    return result;\n}\n\nexport function convertMatches (str) {\n    const m = matches(str); \n\n    m.forEach(it => {\n        str = str.replace(it.color, getColorIndexString(it))\n    })\n\n    return { str, matches: m }\n}\n\n\nexport function convertMatchesArray (str, splitStr = ',') {\n    const ret = convertMatches(str);\n    return ret.str.split(splitStr).map((it, index) => {\n        it = trim(it);\n\n        if (ret.matches[index]) {\n            it = it.replace(getColorIndexString(ret.matches[index]), ret.matches[index].color)\n        }\n\n        return it \n    })\n}\n\nexport function reverseMatches (str, matches) {\n    matches.forEach(it => {\n        str = str.replace(getColorIndexString(it), it.color)\n    })\n\n    return str;\n}\n\nconst REG_TRIM = /^\\s+|\\s+$/g\nexport function trim (str) {\n    return str.replace(REG_TRIM, '');\n}\n\n/**\n * @method rgb\n *\n * parse string to rgb color\n *\n * \t\tcolor.parse(\"#FF0000\") === { r : 255, g : 0, b : 0 }\n * \t\tcolor.parse(\"#FF0000FF\") === { r : 255, g : 0, b : 0, a: 1 }\n *\n * \t\tcolor.parse(\"rgb(255, 0, 0)\") == { r : 255, g : 0, b :0 }\n * \t\tcolor.parse(0xff0000) == { r : 255, g : 0, b : 0 }\n * \t\tcolor.parse(0xff000000) == { r : 255, g : 0, b : 0, a: 0 }\n *\n * @param {String} str color string\n * @returns {Object}  rgb object\n */\nexport function parse(str) {\n    if (isString(str)) {\n\n        if (ColorNames.isColorName(str)) {\n            str = ColorNames.getColorByName(str);\n        }\n\n        if (str.indexOf(\"rgb(\") > -1) {\n            var arr = str.replace(\"rgb(\", \"\").replace(\")\", \"\").split(\",\");\n\n            for (var i = 0, len = arr.length; i < len; i++) {\n                arr[i] = parseInt(trim(arr[i]), 10);\n            }\n\n            var obj = { type: 'rgb', r: arr[0], g: arr[1], b: arr[2], a: 1 };\n\n            obj = {...obj, ...RGBtoHSL(obj)};\n\n            return obj;\n        } else if (str.indexOf(\"rgba(\") > -1) {\n            var arr = str.replace(\"rgba(\", \"\").replace(\")\", \"\").split(\",\");\n\n            for (var i = 0, len = arr.length; i < len; i++) {\n\n                if (len - 1 == i) {\n                    arr[i] = parseFloat(trim(arr[i]));\n                } else {\n                    arr[i] = parseInt(trim(arr[i]), 10);\n                }\n            }\n\n            var obj = { type: 'rgb', r: arr[0], g: arr[1], b: arr[2], a: arr[3] };\n\n            obj = {...obj, ...RGBtoHSL(obj)};\n\n            return obj;\n\n        } else if (str.indexOf(\"hsl(\") > -1) {\n            var arr = str.replace(\"hsl(\", \"\").replace(\")\", \"\").split(\",\");\n\n            for (var i = 0, len = arr.length; i < len; i++) {\n                arr[i] = parseFloat(trim(arr[i]));\n            }\n\n            var obj = { type: 'hsl', h: arr[0], s: arr[1], l: arr[2], a: 1 };\n\n            obj = {...obj, ...HSLtoRGB(obj)};\n\n            return obj;\n        } else if (str.indexOf(\"hsla(\") > -1) {\n            var arr = str.replace(\"hsla(\", \"\").replace(\")\", \"\").split(\",\");\n\n            for (var i = 0, len = arr.length; i < len; i++) {\n\n                if (len - 1 == i) {\n                    arr[i] = parseFloat(trim(arr[i]));\n                } else {\n                    arr[i] = parseInt(trim(arr[i]), 10);\n                }\n            }\n\n            var obj = { type: 'hsl', h: arr[0], s: arr[1], l: arr[2], a: arr[3] };\n\n            obj = {...obj, ...HSLtoRGB(obj)};\n\n            return obj;\n        } else if (str.indexOf(\"#\") == 0) {\n\n            str = str.replace(\"#\", \"\");\n            var arr = [];\n            var a = 1; \n            if (str.length == 3) {\n                for (var i = 0, len = str.length; i < len; i++) {\n                    var char = str.substr(i, 1);\n                    arr.push(parseInt(char + char, 16));\n                }\n            } else if (str.length === 8) {\n                for (var i = 0, len = str.length; i < len; i += 2) {\n                    arr.push(parseInt(str.substr(i, 2), 16));\n                }\n\n                a = arr.pop() / 255             \n            } else {\n                for (var i = 0, len = str.length; i < len; i += 2) {\n                    arr.push(parseInt(str.substr(i, 2), 16));\n                }\n            }\n\n            var obj = { type: 'hex', r: arr[0], g: arr[1], b: arr[2], a };\n\n            obj = {...obj, ...RGBtoHSL(obj)};\n\n            return obj;\n        }\n    } else if (isNumber( str )) {\n        if (0x000000 <= str && str <= 0xffffff) {\n            const r = (str & 0xff0000) >> 16;\n            const g = (str & 0x00ff00) >> 8;\n            const b = (str & 0x0000ff) >> 0;\n\n            var obj = { type: 'hex', r, g, b, a: 1 };\n            obj = { ...obj, ...RGBtoHSL(obj)};\n            return obj;\n        } else if (0x00000000 <= str && str <= 0xffffffff) {\n            const r = (str & 0xff000000) >> 24;\n            const g = (str & 0x00ff0000) >> 16;\n            const b = (str & 0x0000ff00) >> 8;\n            const a = (str & 0x000000ff) / 255;\n\n            var obj = { type: 'hex', r, g, b, a };\n            obj = {...obj, ...RGBtoHSL(obj)};\n            \n            return obj;\n        }\n    }\n\n    return str;\n\n}\n\nexport function parseGradient (colors) {\n    if (isString( colors )) {\n        colors = convertMatchesArray(colors);\n    }\n\n    colors = colors.map(it => {\n        if (isString( it )) {\n            const ret = convertMatches(it)\n            let arr = trim(ret.str).split(' ');\n\n            if (arr[1]) {\n                if (arr[1].indexOf('%') > -1) {\n                    arr[1] = parseFloat(arr[1].replace(/%/, ''))/100\n                } else {\n                    arr[1] = parseFloat(arr[1])\n                }\n\n            } else {\n                arr[1] = '*'\n            }\n\n            arr[0] = reverseMatches(arr[0], ret.matches)\n\n            return arr;\n        } else if (Array.isArray(it)) {\n\n            if (!it[1]) {\n                it[1] = '*'\n            } else if (isString( it[1] ) ) {\n                if (it[1].indexOf('%') > -1) {\n                    it[1] = parseFloat(it[1].replace(/%/, ''))/100\n                } else {\n                    it[1] = +it[1]\n                }\n            }\n\n            return [...it]; \n        }\n    })\n\n    const count = colors.filter(it => {\n        return it[1] === '*'\n    }).length\n\n    if (count > 0) {\n        const sum = colors.filter(it => {\n            return it[1] != '*' && it[1] != 1\n        }).map(it => it[1]).reduce((total, cur) => {\n            return total + cur\n        } , 0)\n        \n        const dist = (1 - sum) / count  \n        colors.forEach((it, index) => {\n            if (it[1] == '*' && index > 0) {\n                if (colors.length - 1 == index) {\n                    // it[1] = 1 \n                } else {\n                    it[1] = dist \n                }\n            }\n        })\n\n    }\n\n    return colors; \n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\n\nexport class BoxShadow extends PropertyItem {\n  static parse(obj) {\n    return new BoxShadow(obj);\n  }\n\n  static parseStyle (str) {\n\n      var boxShadows = [];\n\n      if (!str) return boxShadows;\n\n      var results = convertMatches(str);\n\n      boxShadows = results.str.split(\",\").filter(it => it.trim()).map(shadow => {\n        var values = shadow.split(\" \");\n\n        var insets = values.filter(it => it === \"inset\");\n        var colors = values\n          .filter(it => it.includes(\"@\"))\n          .map(it => {\n            return reverseMatches(it, results.matches);\n          });\n\n        var numbers = values.filter(it => {\n          return it !== \"inset\" && !it.includes(\"@\");\n        });\n\n        return BoxShadow.parse({\n          inset: !!insets.length,\n          color: colors[0] || \"rgba(0, 0, 0, 1)\",\n          offsetX: Length.parse(numbers[0] || \"0px\"),\n          offsetY: Length.parse(numbers[1] || \"0px\"),\n          blurRadius: Length.parse(numbers[2] || \"0px\"),\n          spreadRadius: Length.parse(numbers[3] || \"0px\")\n        });\n      });\n  \n      return boxShadows;\n  }\n\n  static join (list) {\n    return list.map(it => BoxShadow.parse(it)).join(', ');\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"box-shadow\",\n      inset: false,\n      offsetX: Length.z(),\n      offsetY: Length.z(),\n      blurRadius: Length.z(),\n      spreadRadius: Length.z(),\n      color: \"rgba(0, 0, 0, 1)\"\n    });\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'inset',\n        'offsetX',\n        'offsetY',\n        'blurRadius',\n        'spreadRadius',\n        'color'\n      )\n\n    }\n  }\n\n  convert(json) {\n\n    json = super.convert(json);\n\n    json.offsetX = Length.parse(json.offsetX);\n    json.offsetY = Length.parse(json.offsetY);\n    json.blurRadius = Length.parse(json.blurRadius);\n    json.spreadRadius = Length.parse(json.spreadRadius);\n\n    return json \n  }\n\n  toCSS() {\n    return {\n      \"box-shadow\": this.toString()\n    };\n  }\n\n  toString() {\n    var json = this.json;\n\n    return `${json.inset ? \"inset \" : ''}${json.offsetX} ${\n      json.offsetY\n    } ${json.blurRadius} ${json.spreadRadius} ${json.color}`;\n  }\n}\n","\nexport function makeInterpolateBoolean (layer, property, s, e) {\n\n    return (ratio, t) => {\n\n        if (t === 1) {\n            return e;\n        }\n\n        return s\n    } \n}\n","\nexport function CMYKtoRGB(c, m, y, k) {\n\n    if (arguments.length == 1) {\n        var { c, m, y, k } = arguments[0];\n    }\n\n    const R = 255 * (1 - c) * (1 - k);\n    const G = 255 * (1 - m) * (1 - k);\n    const B = 255 * (1 - y) * (1 - k);\n\n    return { r: R, g: G, b: B }\n}","import { RGBtoHSL } from './fromRGB'\nimport { round } from './math';\n\n/**\n * @method HSVtoRGB\n *\n * convert hsv to rgb\n *\n * \t\tcolor.HSVtoRGB(0,0,1) === #FFFFF === { r : 255, g : 0, b : 0 }\n *\n * @param {Number} H  hue color number  (min : 0, max : 360)\n * @param {Number} S  Saturation number  (min : 0, max : 1)\n * @param {Number} V  Value number \t\t(min : 0, max : 1 )\n * @returns {Object}\n */\nexport function HSVtoRGB(h, s, v) {\n\n    if (arguments.length == 1) {\n        var { h, s, v } = arguments[0];\n    }\n\n    var H = h;\n    var S = s;\n    var V = v;\n\n    if (H >= 360) {\n        H = 0;\n    }\n\n    const C = S * V;\n    const X = C * (1 - Math.abs((H / 60) % 2 - 1));\n    const m = V - C;\n\n    let temp = [];\n\n    if (0 <= H && H < 60) { temp = [C, X, 0]; }\n    else if (60 <= H && H < 120) { temp = [X, C, 0]; }\n    else if (120 <= H && H < 180) { temp = [0, C, X]; }\n    else if (180 <= H && H < 240) { temp = [0, X, C]; }\n    else if (240 <= H && H < 300) { temp = [X, 0, C]; }\n    else if (300 <= H && H < 360) { temp = [C, 0, X]; }\n\n    return {\n        r: round((temp[0] + m) * 255),\n        g: round((temp[1] + m) * 255),\n        b: round((temp[2] + m) * 255)\n    };\n}\n\nexport function HSVtoHSL(h, s, v) {\n\n    if (arguments.length == 1) {\n        var { h, s, v } = arguments[0];\n    }\n\n    const rgb = HSVtoRGB(h, s, v);\n\n    return RGBtoHSL(rgb.r, rgb.g, rgb.b);\n}","export function YCrCbtoRGB(y, cr, cb, bit) {\n\n    if (arguments.length == 1) {\n        var { y, cr, cb, bit } = arguments[0];\n        bit = bit || 0;\n    }\n    const R = y + 1.402 * (cr - bit);\n    const G = y - 0.344 * (cb - bit) - 0.714 * (cr - bit);\n    const B = y + 1.772 * (cb - bit);\n\n    return { r: Math.ceil(R), g: Math.ceil(G), b: Math.ceil(B) }\n}","import { parse, convertMatchesArray, parseGradient } from './parser'\nimport { round } from './math' \nimport { format } from './formatter' \nimport { RGBtoHSV } from './fromRGB'\nimport { HSVtoRGB } from './fromHSV'\n\n/**\n * @deprecated \n * \n * instead of this,  use blend function \n *  \n * @param {*} startColor \n * @param {*} endColor \n * @param {*} t \n */\nexport function interpolateRGB(startColor, endColor, t = 0.5, exportFormat = 'hex') {\n    var obj = interpolateRGBObject(startColor, endColor, t);\n\n    return format(obj, exportFormat);\n\n}\n\nexport function interpolateRGBObject(startColor, endColor, t = 0.5) {\n    const startColorAlpha = (typeof startColor.a === 'undefined') ? 1 : startColor.a;\n    const endColorAlpha = (typeof endColor.a === 'undefined') ? 1 : endColor.a;\n    return {\n        r: round(startColor.r + (endColor.r - startColor.r) * t),\n        g: round(startColor.g + (endColor.g - startColor.g) * t),\n        b: round(startColor.b + (endColor.b - startColor.b) * t),\n        a: round(startColorAlpha + (endColorAlpha - startColorAlpha) * t, 100 )\n    };  \n}\n\nexport function scale(scale, count = 5) {\n    if (!scale) return [];\n\n    if (typeof scale === 'string') {\n        scale = convertMatchesArray(scale);\n    }\n\n    scale = scale || [];\n    var len = scale.length;\n\n    var colors = [];\n    for (var i = 0; i < len - 1; i++) {\n        for (var index = 0; index < count; index++) {\n            colors.push(blend(scale[i], scale[i + 1], (index / count)));\n        }\n\n    }\n    return colors;\n}\n\nexport function blend(startColor, endColor, ratio = 0.5, format = 'hex') {\n    var s = parse(startColor);\n    var e = parse(endColor);\n\n    return interpolateRGB(s, e, ratio, format);\n}\n\nexport function mix(startcolor, endColor, ratio = 0.5, format = 'hex') {\n    return blend(startcolor, endColor, ratio, format);\n}\n\n/**\n * \n * @param {Color|String} c \n */\nexport function contrast(c) {\n    c = parse(c);\n    return (Math.round(c.r * 299) + Math.round(c.g * 587) + Math.round(c.b * 114)) / 1000;\n}\n\nexport function contrastColor (c) {\n    return contrast(c) >= 128 ? 'black' : 'white'\n}\n\nexport function gradient(colors, count = 10) {\n    colors = parseGradient(colors);\n\n    let newColors = [] \n    let maxCount = count - (colors.length - 1)\n    let allCount = maxCount\n\n    for (var i = 1, len = colors.length; i < len; i++) {\n\n        var startColor = colors[i-1][0]\n        var endColor = colors[i][0]\n\n        var rate = i == 1 ? colors[i][1] : colors[i][1] - colors[i-1][1]\n\n        var colorCount = (i == colors.length - 1) ? allCount : Math.floor(rate * maxCount)\n\n        newColors = newColors.concat(scale([startColor, endColor], colorCount), [endColor])\n\n        allCount -= colorCount\n    }\n    return newColors;\n}\n\nexport function scaleHSV(color, target = 'h', count = 9, exportFormat = 'rgb', min = 0, max = 1, dist = 100) {\n    var colorObj = parse(color);\n    var hsv = RGBtoHSV(colorObj);\n    var unit = ((max - min) * dist / count);\n\n    var results = [];\n    for (var i = 1; i <= count; i++) {\n        hsv[target] = Math.abs((dist - unit * i) / dist);\n        results.push(format(HSVtoRGB(hsv), exportFormat));\n    }\n\n    return results;\n}\n\nexport function scaleH(color, count = 9, exportFormat = 'rgb', min = 0, max = 360) {\n    return scaleHSV(color, 'h', count, exportFormat, min, max, 1);\n}\n\nexport function scaleS(color, count = 9, exportFormat = 'rgb', min = 0, max = 1) {\n    return scaleHSV(color, 's', count, exportFormat, min, max, 100);\n}\n\nexport function scaleV(color, count = 9, exportFormat = 'rgb', min = 0, max = 1) {\n    return scaleHSV(color, 'v', count, exportFormat, min, max, 100);\n}\n\n\n/* predefined scale colors */\nscale.parula = function (count) {\n    return scale(['#352a87', '#0f5cdd', '#00b5a6', '#ffc337', '#fdff00'], count);\n};\n\nscale.jet = function (count) {\n    return scale(['#00008f', '#0020ff', '#00ffff', '#51ff77', '#fdff00', '#ff0000', '#800000'], count);\n}\n\nscale.hsv = function (count) {\n    return scale(['#ff0000', '#ffff00', '#00ff00', '#00ffff', '#0000ff', '#ff00ff', '#ff0000'], count);\n}\n\nscale.hot = function (count) {\n    return scale(['#0b0000', '#ff0000', '#ffff00', '#ffffff'], count);\n}\nscale.pink = function (count) {\n    return scale(['#1e0000', '#bd7b7b', '#e7e5b2', '#ffffff'], count);\n}\n\nscale.bone = function (count) {\n    return scale(['#000000', '#4a4a68', '#a6c6c6', '#ffffff'], count);\n}\n\nscale.copper = function (count) {\n    return scale(['#000000', '#3d2618', '#9d623e', '#ffa167', '#ffc77f'], count);\n}","import * as formatter from \"./formatter\";\nimport * as create from \"./create\";\nimport * as math from './math'\nimport * as fromRGB from './fromRGB'\nimport * as fromCMYK from './fromCMYK'\nimport * as fromLAB from './fromLAB'\nimport * as fromHSV from './fromHSV'\nimport * as fromHSL from './fromHSL'\nimport * as fromYCrCb from './fromYCrCb'\nimport * as mixin from \"./mixin\";\nimport * as parser from \"./parser\";\nimport * as func from './func';\n\nexport default {\n    ...create,\n    ...formatter, \n    ...math, \n    ...mixin,\n    ...parser,\n    ...fromYCrCb,\n    ...fromRGB,\n    ...fromCMYK,\n    ...fromHSV,\n    ...fromHSL,\n    ...fromLAB,\n    ...func\n}\n\n","import Color from \"el/utils/Color\";\nimport { interpolateRGB } from \"el/utils/mixin\";\n\nexport function makeInterpolateColor (layer, property, startColor, endColor) {\n    var s = Color.parse(startColor || 'rgba(0, 0, 0, 1)');\n    var e = Color.parse(endColor || 'rgba(0, 0, 0, 1)');\n\n    return (rate, t) => {\n\n        if (t === 0) {\n            return startColor; \n        } else if (t === 1) {\n            return endColor;\n        }\n\n        return interpolateRGB(s, e, rate, 'rgb')\n    } \n}\n","import { BoxShadow } from \"../../property-parser/BoxShadow\";\nimport { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { makeInterpolateColor } from \"./makeInterpolateColor\";\n\nexport function makeInterpolateBoxShadow(layer, property, startValue, endValue) {\n    var s = BoxShadow.parseStyle(startValue);\n    var e = BoxShadow.parseStyle(endValue);\n\n    var totalLength = Math.max(s.length, e.length)\n\n    var list = [] \n    for(var i = 0, len = totalLength; i < len; i++) {\n        var startObject = s[i] || BoxShadow.parseStyle('0px 0px 0px 0px rgba(0, 0, 0, 0)')[0];\n        var endObject = e[i] || BoxShadow.parseStyle('0px 0px 0px 0px rgba(0, 0, 0, 0)')[0];\n\n        list.push({\n            inset: makeInterpolateBoolean(layer, property, startObject.inset, endObject.inset),\n            offsetX: makeInterpolateLength(layer, property, startObject.offsetX, endObject.offsetX),\n            offsetY: makeInterpolateLength(layer, property, startObject.offsetY, endObject.offsetY),\n            blurRadius: makeInterpolateLength(layer, property, startObject.blurRadius, endObject.blurRadius),\n            spreadRadius: makeInterpolateLength(layer, property, startObject.spreadRadius, endObject.spreadRadius),\n            color: makeInterpolateColor(layer, property, startObject.color, endObject.color)\n        })\n    }\n\n    return (rate, t) => {\n        return BoxShadow.join(list.map(it => {\n            return {\n                inset: it.inset(rate, t), \n                offsetX: it.offsetX(rate, t), \n                offsetY: it.offsetY(rate, t), \n                blurRadius: it.blurRadius(rate, t), \n                spreadRadius: it.spreadRadius(rate, t),\n                color: it.color(rate, t)\n            }\n        }))\n    }\n\n}\n","import { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\n\nexport function makeInterpolateString (layer, property, startString, endString)  {\n    return makeInterpolateBoolean(layer, property, startString, endString)\n}\n","\nconst stepTimingFunction = (step = 1, direction = 'end') => {\n    step = +step; \n    return function (rate) {\n        var stepDist = 1 / step; \n\n        if (direction == 'start') {\n            return stepDist * Math.ceil(rate / stepDist);\n        } else if (direction == 'end') {\n            return stepDist * Math.floor(rate / stepDist);\n        }\n    }\n}\n\nexport function step (step = 1, direction = 'end') {\n    return stepTimingFunction(step, direction);\n}\n\nexport function stepStart () {  \n    return stepTimingFunction(1, 'start');\n}\n\nexport function stepEnd () {\n    return stepTimingFunction(1, 'end');\n}\n","export default function () {\n    return (rate) => {\n        return Math.pow(2, -10 * rate) * Math.sin((rate - .1) * 5 * Math.PI) + 1;\n    }\n    \n}","import {step, stepStart, stepEnd } from \"./steps\";\nimport easeOutElastic from \"./ease-out-elastic\";\n\nexport default {\n    step,\n    'step-start': stepStart,\n    'step-end': stepEnd,\n    stepStart,\n    stepEnd,\n    'ease-out-elastic': easeOutElastic,\n    easeOutElastic\n}","import { Length } from \"el/editor/unit/Length\";\n\nexport function makeInterpolateRotate(layer, property, startNumber, endNumber) {\n    var startValue = Length.parse(startNumber);\n    var endValue = Length.parse(endNumber);\n\n    return (rate, t) => {\n        var realStartValue = startValue.value;\n        var realEndValue = endValue.value;\n\n        if (t === 0) {\n            return Length.deg(realStartValue);\n        } else if (t === 1) {\n            return Length.deg(realEndValue);\n        }\n\n        return Length.deg(realStartValue + (realEndValue - realStartValue) * rate).to(startValue.unit);\n    }\n}\n","import { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\n\nexport class TextShadow extends PropertyItem {\n  static parse(obj) {\n    return new TextShadow(obj);\n  }\n\n  static parseStyle (str = '') {\n    var results = convertMatches(str);\n\n    var textShadows = results.str.split(\",\").filter(it => it.trim()).map(shadow => {\n      var values = shadow.split(\" \");\n\n      var colors = values\n        .filter(it => it.includes(\"@\"))\n        .map(it => {\n          return reverseMatches(it, results.matches) || 'black';\n        });\n\n      var numbers = values.filter(it => {\n        return !it.includes(\"@\");\n      });\n\n      return TextShadow.parse({\n        color: colors[0] || \"rgba(0, 0, 0, 1)\",\n        offsetX: Length.parse(numbers[0] || \"0px\"),\n        offsetY: Length.parse(numbers[1] || \"0px\"),\n        blurRadius: Length.parse(numbers[2] || \"0px\")\n      });\n    });\n\n    return textShadows;\n  }\n\n\n  static join (list) {\n    return list.map(it => TextShadow.parse(it)).join(', ');\n  }  \n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"text-shadow\",\n      offsetX: Length.z(),\n      offsetY: Length.z(),\n      blurRadius: Length.z(),\n      color: \"rgba(0, 0, 0, 1)\"\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('offsetX', 'offsetY', 'blurRadius', 'color')\n    }\n  }\n\n\n  convert(json) {\n\n    json = super.convert(json);\n\n    json.offsetX = Length.parse(json.offsetX);\n    json.offsetY = Length.parse(json.offsetY);\n    json.blurRadius = Length.parse(json.blurRadius);\n\n    return json \n  }\n\n\n  toCSS() {\n    return {\n      \"text-shadow\": this.toString()\n    };\n  }\n\n  toString() {\n    var json = this.json;\n\n    return `${json.offsetX} ${json.offsetY} ${json.blurRadius} ${json.color}`;\n  }\n}\n","import { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { makeInterpolateColor } from \"./makeInterpolateColor\";\nimport { TextShadow } from \"../../property-parser/TextShadow\";\n\nexport function makeInterpolateTextShadow(layer, property, startValue, endValue) {\n    var s = TextShadow.parseStyle(startValue);\n    var e = TextShadow.parseStyle(endValue);\n\n    var totalLength = Math.max(s.length, e.length)\n\n    var list = [] \n    for(var i = 0, len = totalLength; i < len; i++) {\n        var startObject = s[i] || TextShadow.parseStyle('0px 0px 0px rgba(0, 0, 0, 0)')[0];\n        var endObject = e[i] || TextShadow.parseStyle('0px 0px 0px rgba(0, 0, 0, 0)')[0];\n\n        list.push({\n            offsetX: makeInterpolateLength(layer, property, startObject.offsetX, endObject.offsetX, 'width', 'self'),\n            offsetY: makeInterpolateLength(layer, property, startObject.offsetY, endObject.offsetY, 'height', 'self'),\n            blurRadius: makeInterpolateLength(layer, property, startObject.blurRadius, endObject.blurRadius, 'radius'),\n            color: makeInterpolateColor(layer, property, startObject.color, endObject.color)\n        })\n    }\n\n    return (rate, t) => {\n        return TextShadow.join(list.map(it => {\n            return {\n                offsetX: it.offsetX(rate, t), \n                offsetY: it.offsetY(rate, t), \n                blurRadius: it.blurRadius(rate, t), \n                color: it.color(rate, t)\n            }\n        }))\n    }\n\n}\n","import { PropertyItem } from \"el/editor/items/PropertyItem\";\n\nexport class ImageResource extends PropertyItem {\n  getDefaultObject(obj = {}) {\n    return {\n      itemType: \"image-resource\",\n      type: \"image\",\n      ...obj\n    };\n  }\n\n  isGradient() {\n    return false;\n  }\n  isLinear() {\n    return false;\n  }\n  isRadial() {\n    return false;\n  }\n  isConic() {\n    return false;\n  }\n  isStatic() {\n    return false;\n  }\n  isImage() {\n    return false;\n  }\n  hasAngle() {\n    return false;\n  }\n  isUrl() {\n    return false;\n  }\n  isFile() {\n    return false;\n  }\n  isAttribute() {\n    return true;\n  }\n\n  toString() {\n    return \"none\";\n  }\n}\n","\nimport { Item } from \"el/editor/items/Item\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport { convertMatches } from \"el/utils/parser\";\nimport { repeat } from \"el/utils/func\";\nimport { randomNumber } from \"el/utils/create\";\nimport Color from \"el/utils/Color\";\nimport { uuidShort } from 'el/utils/math';\n\nexport class ColorStep extends Item {\n  getDefaultObject() {\n    return {\n      id: uuidShort(),\n      cut: false,\n      percent: 0,\n      unit: \"%\",\n      px: 0,\n      em: 0,\n      color: \"rgba(0, 0, 0, 0)\",\n      prevColorStep: null\n    };\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'cut',\n        'percent',\n        'unit',\n        'px',\n        'em',\n        'color',\n      )\n\n    }\n  }\n\n  on() {\n    this.json.cut = true;\n  }\n\n  off() {\n    this.json.cut = false;\n  }\n\n  toggle() {\n    this.json.cut = !this.json.cut;\n  }\n\n  getUnit() {\n    return this.json.unit == \"%\" ? \"percent\" : this.json.unit;\n  }\n\n  add(num) {\n    var unit = this.getUnit();\n    this.json[unit] += +num;\n\n    return this;\n  }\n\n  sub(num) {\n    var unit = this.getUnit();\n    this.json[unit] -= +num;\n\n    return this;\n  }\n\n  mul(num) {\n    var unit = this.getUnit();\n    this.json[unit] *= +num;\n\n    return this;\n  }\n\n  div(num) {\n    var unit = this.getUnit();\n    this.json[unit] /= +num;\n\n    return this;\n  }\n\n  mod(num) {\n    var unit = this.getUnit();\n    this.json[unit] %= +num;\n\n    return this;\n  }\n\n  get isPx() {\n    return this.json.unit == \"px\";\n  }\n  get isPercent() {\n    return this.json.unit == \"%\" || this.json.unit === \"percent\";\n  }\n  get isEm() {\n    return this.json.unit == \"em\";\n  }\n\n  /**\n   * convert Length instance\n   * @return {Length}\n   */\n  toLength(maxValue) {\n    // TODO: apply maxValue\n    return Length.parse(this.json);\n  }\n\n  getPrevLength() {\n    if (!this.json.prevColorStep) return '';\n\n    return this.json.prevColorStep.toLength();\n  }\n\n  /**\n   * get color string\n   *\n   * return {string}\n   */\n  toString() {\n    var prev = this.json.cut ? this.getPrevLength() : ''\n    var color = this.json.color || 'transparent'\n    return `${color} ${prev} ${this.toLength()}`;\n  }\n\n  reset(json) {\n    super.reset(json);\n    if (this.parent) {\n      this.parent.sortColorStep();\n    }\n  }\n\n  setValue(percent, maxValue) {\n    if (this.isPx) {\n      this.reset({ px: maxValue * percent / 100 })      \n    } else if (this.isPercent) {\n      this.reset({ percent })\n    } else if (this.isEm) {\n      this.reset({ em: (maxValue * percent / 100) / 16 })      \n    }\n  }\n\n  static parse(colorStepString) {\n    let colorsteps = [];\n\n    const results = convertMatches(colorStepString);\n\n    var arr = results.str.split(' ').filter(it => it.trim());\n    const colorIndex = +arr[0].replace(\"@\", \"\");\n    const color = results.matches[colorIndex].color;\n\n    if (arr.length === 1) {\n      colorsteps.push(\n        new ColorStep({\n          color,\n          unit: \"%\",\n          percent: 0,\n          hasNotUnit: true \n        })\n      );\n    } else if (arr.length === 2) {\n      const len = Length.parse(arr[1]);\n\n      let data = { unit: len.unit };\n\n      if (len.isPercent()) {\n        data.percent = len.value;\n      } else if (len.isPx()) {\n        data.px = len.value;\n      } else if (len.isEm()) {\n        data.em = len.value;\n      }\n\n      colorsteps.push(new ColorStep({ color, ...data }));\n    } else if (arr.length === 3) {  //     ? \n\n      // cut  ? \n      const len = Length.parse(arr[2]);\n\n      let data = { unit: len.unit };\n\n      if (len.isPercent()) {\n        data.percent = len.value;\n      } else if (len.isPx()) {\n        data.px = len.value;\n      } else if (len.isEm()) {\n        data.em = len.value;\n      }\n\n      colorsteps.push(new ColorStep({ color, cut: true, ...data }));\n    }\n\n    return colorsteps;\n  }\n\n  static createColorStep (maxCount = 2, maxValue = 100, unitType = '%') { \n\n    var colorStepCount = randomNumber(2, maxCount);\n    var unitValue = maxValue/colorStepCount;\n\n    var colorsteps = repeat(colorStepCount).map((_, index) => {\n        return `${Color.random()} ${index * unitValue}${unitType}`\n    }).join(',');\n\n    return colorsteps;\n  }\n\n  static createRepeatColorStep (maxCount = 2, unitValue = Length.px(1)) { \n\n    var colorStepCount = randomNumber(2, maxCount);\n\n    var colorsteps = repeat(colorStepCount).map((_, index) => {\n        return `${Color.random()} ${Length.parse(unitValue).mul(index+1)}`\n    }).join(',');\n\n    return colorsteps;\n  }  \n}\n","\nimport { ImageResource } from \"./ImageResource\";\nimport { ColorStep } from \"./ColorStep\";\n\nimport Color from \"el/utils/Color\";\nimport { isUndefined } from \"el/sapa/functions/func\";\n\nconst DEFINED_ANGLES = {\n  \"to top\": 0,\n  \"to top right\": 45,\n  \"to right\": 90,\n  \"to bottom right\": 135,\n  \"to bottom\": 180,\n  \"to bottom left\": 225,\n  \"to left\": 270,\n  \"to top left\": 315\n};\n\nexport class Gradient extends ImageResource {\n  isGradient() {\n    return true;\n  }\n\n  toString() {\n    return \"none\";\n  }\n\n  /**\n   * colorsteps = [\n   *    new ColorStep({color: 'red', percent: 0}),\n   *    new ColorStep({color: 'red', percent: 0})\n   * ]\n   *\n   * @param {*} obj\n   */\n  getDefaultObject(obj = {}) {\n    return {\n      itemType: \"image-resource\",      \n      type: \"gradient\",\n      colorsteps: [],\n      ...obj\n    };\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      colorsteps: this.json.colorsteps.map(color => color.clone())\n    }\n  }\n\n  convert(json) {\n\n    if (json.colorsteps[0] instanceof ColorStep) {\n      // colorstep instance        . \n    } else {\n      json.colorsteps = json.colorsteps.map(c => new ColorStep(c));\n    }\n\n    return json;\n  }\n\n  calculateAngle() {\n    var angle = this.json.angle;\n    return isUndefined(DEFINED_ANGLES[angle])\n      ? angle\n      : DEFINED_ANGLES[angle] || 0;\n  }\n\n  /**\n   * add ColorStep\n   *\n   * @param {ColorStep} colorstep\n   * @param {boolean} isSort\n   */\n  addColorStep(colorstep, isSort = true) {\n    this.json.colorsteps.push(colorstep);\n\n    if (isSort) this.sortColorStep();\n\n    return colorstep;\n  }\n\n  insertColorStep(\n    percent,\n    startColor = \"rgba(216,216,216,0)\",\n    endColor = \"rgba(216,216,216,1)\"\n  ) {\n    var colorsteps = this.colorsteps;\n    if (!colorsteps.length) {\n      this.addColorStepList([\n        new ColorStep({ color: startColor, percent, index: 0 }),\n        new ColorStep({ color: endColor, percent: 100, index: 100 })\n      ]);\n      return;\n    }\n\n    if (percent < colorsteps[0].percent) {\n      colorsteps[0].index = 1;\n\n      this.addColorStep(\n        new ColorStep({ index: 0, color: colorsteps[0].color, percent })\n      );\n      return;\n    }\n\n    var lastIndex = colorsteps.length - 1;\n    if (colorsteps[lastIndex].percent < percent) {\n      var color = colorsteps[lastIndex].color;\n      var index = colorsteps[lastIndex].index + 1;\n\n      this.addColorStep(new ColorStep({ index, color, percent }));\n\n      return;\n    }\n\n    for (var i = 0, len = colorsteps.length - 1; i < len; i++) {\n      var step = colorsteps[i];\n      var nextStep = colorsteps[i + 1];\n\n      if (step.percent <= percent && percent <= nextStep.percent) {\n        var color = Color.mix(\n          step.color,\n          nextStep.color,\n          (percent - step.percent) / (nextStep.percent - step.percent),\n          \"rgb\"\n        );\n\n        this.addColorStep(\n          new ColorStep({ index: step.index + 1, color, percent })\n        );\n\n        return;\n      }\n    }\n  }\n\n  sortColorStep() {\n    var children = this.colorsteps;\n\n    children.sort((a, b) => {\n      if (a.percent > b.percent) return 1;\n      if (a.percent < b.percent) return -1;\n      if (a.percent == b.percent) {\n        if (a.index === b.index) return 0;\n        return a.index > b.index ? 1 : -1;\n      }\n    });\n\n    children.forEach((it, index) => {\n      it.index = index * 100;\n    });\n  }\n\n  /**\n   * add ColorStep List\n   * @param {Array<ColorStep>} colorstepList\n   */\n  addColorStepList(colorstepList = []) {\n    colorstepList.forEach(c => {\n      this.addColorStep(c, false);\n    });\n\n    this.sortColorStep();\n  }\n\n  /**\n   * get color step by id\n   *\n   * @param {string} id\n   */\n  getColorStep(id) {\n    return this.json.colorsteps.filter(c => c.id == id)[0];\n  }\n\n  clear(...args) {\n    if (args.length) {\n      this.json.colorsteps.splice(+args[0], 1);\n    } else {\n      this.json.colorsteps = [];\n    }\n  }\n\n  removeColorStep(id) {\n    this.json.colorsteps = this.json.colorsteps.filter(it => it.id != id)\n  }\n\n  /**\n   * get colorstep list\n   *\n   * @return {Array<ColorStep>}\n   */\n  get colorsteps() {\n    return this.json.colorsteps;\n  }\n\n  /**\n   * get color string\n   *\n   * @return {string}\n   */\n  getColorString() {\n    var colorsteps = this.colorsteps;\n\n    return Gradient.toColorString(colorsteps);\n  }\n\n  static toColorString (colorsteps = [] ) {\n    if (!colorsteps.length) return '';\n\n    var newColors = colorsteps.map((c, index) => {\n      c.prevColorStep = c.cut && index > 0 ? colorsteps[index - 1] : null;\n      return c;\n    });\n\n    if (newColors.length === 1) {\n      newColors.push(new ColorStep({\n        color: newColors[0].color || 'transparent',\n        percent: 100 \n      }))\n    }\n\n    return newColors.map(f => `${f}`).join(\",\");\n  }\n\n}\n","import { Gradient } from \"./Gradient\";\nimport { ColorStep } from \"./ColorStep\";\n\nexport class StaticGradient extends Gradient {\n    getDefaultObject() {\n        return super.getDefaultObject({  \n            type: 'static-gradient', \n            static: true, \n            colorsteps: [\n                new ColorStep({color: 'red', percent: 0, index: 0}),\n                new ColorStep({color: 'red', percent: 100, index: 0})\n            ]\n        }) \n    }\n\n    toCloneObject() {\n        return {\n            ...super.toCloneObject(),\n            static: true \n        }\n    }\n\n    static create (color = 'transparent') {\n        return new StaticGradient({\n            colorsteps: [\n                new ColorStep({color, percent: 0, index: 0}),\n                new ColorStep({color, percent: 100, index: 1})\n            ]\n        })\n    }\n\n    toString () {\n        var color = this.json.colorsteps[0].color;\n        return `linear-gradient(to right, ${color} 0%, ${color} 100%)`\n    }\n\n    isStatic () { return true; }\n}\n","import { ImageResource } from \"./ImageResource\";\n\nconst IMAGE_LIST = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"svg\"];\n\n// refer to https://github.com/graingert/datauritoblob/blob/master/dataURItoBlob.js\n// MIT License\nfunction dataURItoBlob(dataURI) {\n  // convert base64 to raw binary data held in a string\n  // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n  var byteString = atob(dataURI.split(\",\")[1]);\n  // separate out the mime component\n  var mimeString = dataURI\n    .split(\",\")[0]\n    .split(\":\")[1]\n    .split(\";\")[0];\n  // write the bytes of the string to an ArrayBuffer\n  var ab = new ArrayBuffer(byteString.length);\n  var dw = new DataView(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    dw.setUint8(i, byteString.charCodeAt(i));\n  }\n  // write the ArrayBuffer to a blob, and you're done\n  return new Blob([ab], { type: mimeString });\n}\n\nexport class URLImageResource extends ImageResource {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"url\",\n      url: \"\",\n      datauri: \"\",\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('url', 'datauri')\n\n    }\n  }\n\n  static parse(str) {\n\n    var url = str.split('(')[1].split(')')[0]\n\n    return new URLImageResource({ url })\n  }\n\n  isUrl() {\n    return true;\n  }\n\n  toString() {\n    var json = this.json;\n\n    return `url(${json.url})`;\n  }\n\n  static isImageFile(fileExt) {\n    return IMAGE_LIST.includes(fileExt);\n  }\n}\n\nexport class FileImageResource extends URLImageResource {\n  getDefaultObject() {\n    return super.getDefaultObject({ type: \"file\" });\n  }\n\n  isUrl() {\n    return false;\n  }\n  isFile() {\n    return true;\n  }\n\n  convert(json) {\n    if (!json.url && json.datauri) {\n      json.url = this.makeURL(json.datauri);\n    }\n    return json;\n  }\n\n  remove() {\n    this.removeURL();\n    super.remove();\n  }\n\n  removeURL() {\n    URL.revokeObjectURL(this.json.url);\n  }\n\n  makeURL(datauri) {\n    var file = dataURItoBlob(datauri);\n\n    return URL.createObjectURL(file);\n  }\n\n  toJSON() {\n    return {\n      type: \"file\",\n      id: this.json.id,\n      datauri: this.json.datauri\n    };\n  }\n}\n","import { Gradient } from \"./Gradient\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { ColorStep } from \"./ColorStep\";\nimport { isNumber, isUndefined } from \"el/sapa/functions/func\";\n\nconst DEFINED_DIRECTIONS = {\n  \"0\": \"to top\",\n  \"45\": \"to top right\",\n  \"90\": \"to right\",\n  \"135\": \"to bottom right\",\n  \"180\": \"to bottom\",\n  \"225\": \"to bottom left\",\n  \"270\": \"to left\",\n  \"315\": \"to top left\"\n};\n\nconst DEFINED_ANGLES = {\n  \"to top\": \"0\",\n  \"to top right\": \"45\",\n  \"to right\": \"90\",\n  \"to bottom right\": \"135\",\n  \"to bottom\": \"180\",\n  \"to bottom left\": \"225\",\n  \"to left\": \"270\",\n  \"to top left\": \"315\"\n};\n\nexport class LinearGradient extends Gradient {\n  getDefaultObject(obj) {\n    return super.getDefaultObject({\n      type: \"linear-gradient\",\n      angle: 0,\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      angle: this.json.angle\n    }\n  }\n\n  isLinear() {\n    return true;\n  }\n  hasAngle() {\n    return true;\n  }\n\n  toString() {\n\n    if(this.colorsteps.length === 0) return '';    \n\n    var colorString = this.getColorString();\n\n    var opt = '';\n    var angle = this.json.angle || 0;\n\n    opt = angle;\n\n    if (isNumber(opt)) {\n      opt = DEFINED_DIRECTIONS[`${opt}`] || opt;\n    }\n\n    if (isNumber(opt)) {\n      opt = opt > 360 ? opt % 360 : opt;\n\n      opt = `${opt}deg`;\n    }\n\n\n    var result = `${this.json.type}(${opt}, ${colorString})`;\n\n    return result;\n  }\n\n  static toLinearGradient(colorsteps) {\n    if (colorsteps.length === 0) {\n      return \"none\";\n    }\n\n    var gradient = new LinearGradient({\n      angle: \"to right\",\n      colorsteps\n    });\n\n    return gradient + \"\";\n  }\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var angle = 0;\n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n\n          newValue = reverseMatches(newValue, results.matches);\n\n          colorsteps.push.apply(colorsteps, ColorStep.parse(newValue));\n        } else {\n\n          angle = isUndefined(DEFINED_ANGLES[newValue])\n            ? Length.parse(newValue)\n            : Length.deg(+DEFINED_ANGLES[newValue]);\n        }\n      });\n\n    return new LinearGradient({ angle: angle.value, colorsteps });\n  }\n}\n","import { LinearGradient } from \"./LinearGradient\";\n\nexport class RepeatingLinearGradient extends LinearGradient {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"repeating-linear-gradient\",\n      angle: 0\n    });\n  }\n\n  static parse(str) {\n    var linear = LinearGradient.parse(str);\n    return new RepeatingLinearGradient({\n      angle: linear.angle,\n      colorsteps: linear.colorsteps\n    });\n  }\n}\n","import { Gradient } from \"./Gradient\";\n\nimport { Length, Position } from \"el/editor/unit/Length\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { ColorStep } from \"./ColorStep\";\n\nconst DEFINED_POSITIONS = {\n  [\"center\"]: true,\n  [\"top\"]: true,\n  [\"left\"]: true,\n  [\"right\"]: true,\n  [\"bottom\"]: true\n};\n\nexport class RadialGradient extends Gradient {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"radial-gradient\",\n      radialType: \"ellipse\",\n      radialPosition: [Position.CENTER, Position.CENTER],\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'radialType',\n        'radialPosition'\n      )\n    }\n  }\n\n  isRadial() {\n    return true;\n  }\n\n  toString() {\n    if(this.colorsteps.length === 0) return '';        \n    var colorString = this.getColorString();\n    var json = this.json;\n    var opt = '';\n    var radialType = json.radialType;\n    var radialPosition = json.radialPosition || [\"center\", \"center\"];\n\n    radialPosition = DEFINED_POSITIONS[radialPosition]\n      ? radialPosition\n      : radialPosition.join(' ');\n\n    opt = radialPosition ? `${radialType} at ${radialPosition}` : radialType;\n\n    return `${json.type || \"radial-gradient\"}(${opt}, ${colorString})`;\n  }\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var radialType = \"ellipse\";\n    var radialPosition = [Position.CENTER, Position.CENTER];\n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n          // color \n          newValue = reverseMatches(newValue, results.matches);\n\n          colorsteps.push.apply(colorsteps, ColorStep.parse(newValue));\n        } else {\n          // direction\n          if (newValue.includes(\"at\")) {\n            [radialType, radialPosition] = newValue.split(\"at\").map(it => it.trim());\n          } else {\n            radialType = newValue;\n          }\n\n          if (typeof radialPosition === 'string') {\n            var arr = radialPosition.split(' ');\n            if (arr.length === 1) {\n              var len = Length.parse(arr[0]);\n\n              if (len.isString()) {\n                radialPosition = [len.value, len.value];\n              } else {\n                radialPosition = [len.clone(), len.clone()];\n              }\n            } else if (arr.length === 2) {\n              radialPosition = arr.map(it => {\n                var len = Length.parse(it);\n                return len.isString() ? len.value : len.clone();\n              });\n            }\n          }\n        }\n      });\n\n    return new RadialGradient({ radialType, radialPosition, colorsteps });\n  }\n}\n","import { RadialGradient } from \"./RadialGradient\";\n\nexport class RepeatingRadialGradient extends RadialGradient {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"repeating-radial-gradient\"\n    });\n  }\n\n  static parse(str) {\n    var radial = RadialGradient.parse(str);\n\n    return new RepeatingRadialGradient({\n      radialType: radial.radialType,\n      radialPosition: radial.radialPosition,\n      colorsteps: radial.colorsteps\n    });\n  }\n}\n","import { Gradient } from \"./Gradient\";\nimport { ColorStep } from \"./ColorStep\";\nimport { Length, Position } from \"el/editor/unit/Length\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { clone, isNotUndefined, isString, isUndefined } from \"el/sapa/functions/func\";\n\n\nconst DEFINED_POSITIONS = {\n  [\"center\"]: true,\n  [\"top\"]: true,\n  [\"left\"]: true,\n  [\"right\"]: true,\n  [\"bottom\"]: true\n};\n\nconst DEFINED_ANGLES = {\n  \"to top\": 0,\n  \"to top right\": 45,\n  \"to right\": 90,\n  \"to bottom right\": 135,\n  \"to bottom\": 180,\n  \"to bottom left\": 225,\n  \"to left\": 270,\n  \"to top left\": 315\n};\n\nexport class ConicGradient extends Gradient {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"conic-gradient\",\n      angle: 0,\n      radialPosition: [Position.CENTER, Position.CENTER],\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      angle: this.json.angle,\n      radialPosition: clone(this.json.radialPosition)\n    }\n  }\n\n  isConic() {\n    return true;\n  }\n  hasAngle() {\n    return true;\n  }\n\n  getColorString() {\n    if(this.colorsteps.length === 0) return '';    \n    var colorsteps = this.colorsteps;\n    if (!colorsteps) return '';\n\n    colorsteps.sort((a, b) => {\n      if (a.percent == b.percent) return 0;\n      return a.percent > b.percent ? 1 : -1;\n    });\n\n    var newColors = colorsteps.map((c, index) => {\n      c.prevColorStep = c.cut && index > 0 ? colorsteps[index - 1] : null;\n      return c;\n    });\n\n    return newColors\n      .map(f => {\n        var deg = Math.floor(f.percent * 3.6);\n        var prev = '';\n\n        if (f.cut && f.prevColorStep) {\n          var prevDeg = Math.floor(f.prevColorStep.percent * 3.6);\n          prev = `${prevDeg}deg`;\n        }\n        return `${f.color} ${prev} ${deg}deg`;\n      })\n      .join(\",\");\n  }\n\n  toString() {\n    var colorString = this.getColorString();\n\n    var opt = [];\n    var json = this.json;\n\n    var conicAngle = json.angle;\n    var conicPosition = json.radialPosition || Position.CENTER;\n\n    conicPosition = DEFINED_POSITIONS[conicPosition]\n      ? conicPosition\n      : conicPosition.join(' ');\n\n    if (isNotUndefined(conicAngle)) {\n      conicAngle = +(DEFINED_ANGLES[conicAngle] || conicAngle);\n      opt.push(`from ${conicAngle}deg`);\n    }\n\n    if (conicPosition) {\n      opt.push(`at ${conicPosition}`);\n    }\n\n    var optString = opt.length ? opt.join(' ') + \",\" : '';\n\n    return `${json.type}(${optString} ${colorString})`;\n  }\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var angle = \"0deg\"; //\n    var radialPosition = [Position.CENTER, Position.CENTER];\n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n          // conic    deg   gradient    \n          // deg  %     .\n          newValue = newValue\n            .split(' ')\n            .map(it => it.trim())\n            .map(it => {\n              if (it.includes(\"deg\")) {\n                return Length.parse(it).toPercent();\n              } else {\n                return it;\n              }\n            })\n            .join(' ');\n\n          // color \n          newValue = reverseMatches(newValue, results.matches);\n\n          //  ColorStep  \n          // ColorStep   colorsteps  ... ,  \n          colorsteps.push.apply(colorsteps, ColorStep.parse(newValue));\n        } else {\n          // direction\n          if (newValue.includes(\"at\")) {\n            // at   radialPosition   \n            [angle, radialPosition] = newValue.split(\"at\").map(it => it.trim());\n          } else {\n            // at   radialPosition  center, center  \n            angle = newValue;\n          }\n\n          if (isString(radialPosition)) {\n            var arr = radialPosition.split(' ');\n            if (arr.length === 1) {\n              var len = Length.parse(arr[0]);\n\n              if (len.isString()) {\n                radialPosition = [len.value, len.value];\n              } else {\n                radialPosition = [len.clone(), len.clone()];\n              }\n            } else if (arr.length === 2) {\n              radialPosition = arr.map(it => {\n                var len = Length.parse(it);\n                return len.isString() ? len.value : len;\n              });\n            }\n          }\n\n          if (isString(angle)) {\n            if (angle.includes(\"from\")) {\n              angle = angle.split(\"from\")[1];\n\n              angle = isUndefined(DEFINED_ANGLES[angle])\n                ? Length.parse(angle)\n                : Length.deg(+DEFINED_ANGLES[angle]);\n            }\n          }\n        }\n      });\n\n    return new ConicGradient({ angle: angle.value, radialPosition, colorsteps });\n  }\n}\n","import { Position } from \"el/editor/unit/Length\";\nimport { ConicGradient } from \"./ConicGradient\";\n\n\nexport class RepeatingConicGradient extends ConicGradient {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"repeating-conic-gradient\",\n      angle: 0,\n      radialPosition: [Position.CENTER, Position.CENTER]\n    });\n  }\n  \n  static parse(str) {\n    var conic = ConicGradient.parse(str);\n\n    return new RepeatingConicGradient({\n      angle: conic.angle,\n      radialPosition: conic.radialPosition,\n      colorsteps: conic.colorsteps\n    });\n  }\n}\n","\nimport { Length, Position } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { StaticGradient } from \"./image-resource/StaticGradient\";\nimport { URLImageResource } from \"./image-resource/URLImageResource\";\nimport { LinearGradient } from \"./image-resource/LinearGradient\";\nimport { RepeatingLinearGradient } from \"./image-resource/RepeatingLinearGradient\";\nimport { RadialGradient } from \"./image-resource/RadialGradient\";\nimport { RepeatingRadialGradient } from \"./image-resource/RepeatingRadialGradient\";\nimport { ConicGradient } from \"./image-resource/ConicGradient\";\nimport { RepeatingConicGradient } from \"./image-resource/RepeatingConicGradient\";\nimport { Gradient } from \"./image-resource/Gradient\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { combineKeyArray, isString, keyEach, keyMap } from \"el/sapa/functions/func\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\n\nconst RepeatList = [\"repeat\", \"no-repeat\", \"repeat-x\", \"repeat-y\", 'round', 'space'];\nconst reg = /((linear\\-gradient|repeating\\-linear\\-gradient|radial\\-gradient|repeating\\-radial\\-gradient|conic\\-gradient|repeating\\-conic\\-gradient|url)\\(([^\\)]*)\\))/gi;\n\nexport class BackgroundImage extends PropertyItem {\n  addImageResource(imageResource) {\n    this.clear(\"image-resource\");\n    return this.addItem(\"image-resource\", imageResource);\n  }\n\n  addGradient(gradient) {\n    return this.addImageResource(gradient);\n  }\n\n  setImageUrl(data) {\n    if (!data.images) return;\n    if (!data.images.length) return;\n    this.reset({ \n      type: \"image\", \n      image: BackgroundImage.createImage(data.images[0]) \n    });\n  }\n\n  static createImage(url) {\n    return new URLImageResource({ url });\n  }\n\n  setGradient(data) {\n    this.reset({\n      type: data.type,\n      image: BackgroundImage.createGradient(data, this.json.image)\n    });\n  }\n\n  static createGradient(data, gradient) {\n    const colorsteps = data.colorsteps || gradient.colorsteps;\n\n    // linear, conic  angle   .\n    const angle = data.angle || gradient.angle;\n\n    // radial   radialType   .\n    const radialType = data.radialType || gradient.radialType;\n    const radialPosition = data.radialPosition || gradient.radialPosition;\n\n    let json = gradient.toJSON();\n    delete json.itemType;\n    delete json.type;\n\n    switch (data.type) {\n      case \"static-gradient\":\n        return new StaticGradient({ ...json, colorsteps });\n      case \"linear-gradient\":\n        return new LinearGradient({ ...json, colorsteps, angle });\n      case \"repeating-linear-gradient\":\n        return new RepeatingLinearGradient({ ...json, colorsteps, angle });\n      case \"radial-gradient\":\n        return new RadialGradient({\n          ...json,\n          colorsteps,\n          radialType,\n          radialPosition\n        });\n      case \"repeating-radial-gradient\":\n        return new RepeatingRadialGradient({\n          ...json,\n          colorsteps,\n          radialType,\n          radialPosition\n        });\n      case \"conic-gradient\":\n        return new ConicGradient({\n          ...json,\n          colorsteps,\n          angle,\n          radialPosition\n        });\n      case \"repeating-conic-gradient\":\n        return new RepeatingConicGradient({\n          ...json,\n          colorsteps,\n          angle,\n          radialPosition\n        });\n    }\n\n    return new Gradient();\n  }\n\n  //  image   . \n  //  StaticGradient         . \n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"background-image\",\n      checked: false,\n      blendMode: \"normal\",\n      size: \"auto\",\n      repeat: \"repeat\",\n      width: Length.percent(100),\n      height: Length.percent(100),\n      x: Length.percent(0),\n      y: Length.percent(0),\n    });\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'checked',\n        'blendMode',\n        'size',\n        'repeat',\n        'width',\n        'height',\n        'x',\n        'y',\n      ),\n      image: json.image.clone()\n    }\n  }\n\n  convert(json) {\n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n\n    if (json.width) json.width = Length.parse(json.width);\n    if (json.height) json.height = Length.parse(json.height);\n\n    if (isString(json.image)) {\n      json.image = BackgroundImage.parseImage(json.image);\n    }\n\n    return json;\n  }\n\n  get image() {\n    return this.json.image;\n  }\n\n  set image(image) {\n    this.json.image = image;\n  }\n\n  checkField(key, value) {\n    if (key === \"repeat\") {\n      return RepeatList.includes(value);\n    }\n\n    return super.checkField(key, value);\n  }\n\n  toBackgroundImageCSS() {\n    if (!this.json.image) return {};\n    return {\n      \"background-image\": this.json.image.toString()\n    };\n  }\n\n\n  toBackgroundPositionCSS() {\n    var json = this.json;\n\n    return {\n      \"background-position\": `${json.x} ${json.y}`\n    };\n  }\n\n  toBackgroundSizeCSS() {\n    var json = this.json;\n    var backgroundSize = \"auto\";\n\n    if (json.size == \"contain\" || json.size == \"cover\") {\n      backgroundSize = json.size;\n    } else if (json.width.isPercent() && json.width.isPercent()) {\n      //      (100% 100%    )\n      if (+json.width !== 100 || +json.height !== 100) {\n        backgroundSize = `${json.width} ${json.height}`;\n      }\n    } else {\n      backgroundSize = `${json.width} ${json.height}`;\n    }\n\n    return {\n      \"background-size\": backgroundSize\n    };\n  }\n\n  toBackgroundRepeatCSS() {\n    var json = this.json;\n    return {\n      \"background-repeat\": json.repeat\n    };\n  }\n\n  toBackgroundBlendCSS() {\n    var json = this.json;\n    return {\n      \"background-blend-mode\": json.blendMode\n    };\n  }\n\n  toCSS() {\n    var results = {\n      ...this.toBackgroundImageCSS(),\n      ...this.toBackgroundPositionCSS(),\n      ...this.toBackgroundSizeCSS(),\n      ...this.toBackgroundRepeatCSS(),\n      ...this.toBackgroundBlendCSS()\n    };\n\n    return results;\n  }\n\n  toString() {\n    return keyMap(this.toCSS(), (key, value) => {\n      return `${key}: ${value}`;\n    }).join(\";\");\n  }\n\n  toBackgroundCSS () {\n    var obj = this.toCSS();\n\n    return {\n      // 'background-blend-mode': obj['background-blend-mode'],\n      // 'background-size': obj['background-size'],\n      // 'background-position': obj['background-position'],\n      // 'background-repeat': obj['background-repeat'],\n      'background': `${obj['background-image']} `\n    }\n  }\n\n  static parse(obj) {\n    return new BackgroundImage(obj);\n  }\n\n  static parseImage (str) {\n    var results = convertMatches(str);\n    let image = null;\n\n    var matchResult = results.str.match(reg)\n\n    if (!matchResult) return image; \n\n    matchResult.forEach((value, index) => {\n\n      value = reverseMatches(value, results.matches);\n      if (value.includes(\"repeating-linear-gradient\")) {\n        image = RepeatingLinearGradient.parse(value);\n      } else if (value.includes(\"linear-gradient\")) {\n        image = LinearGradient.parse(value);\n      } else if (value.includes(\"repeating-radial-gradient\")) {\n        image = RepeatingRadialGradient.parse(value);\n      } else if (value.includes(\"radial-gradient\")) {\n        image = RadialGradient.parse(value);\n      } else if (value.includes(\"repeating-conic-gradient\")) {\n        image = RepeatingConicGradient.parse(value);\n      } else if (value.includes(\"conic-gradient\")) {\n        image = ConicGradient.parse(value);\n      } else if (value.includes(\"url\")) {\n        image = URLImageResource.parse(value);\n      }\n    });\n\n    return image\n  }\n\n  static changeImageType (options) {\n    switch  (options.type) {\n    case 'static-gradient':\n      return new StaticGradient(options);\n    case 'linear-gradient': \n      return new LinearGradient(options);\n    case 'repeating-linear-gradient': \n      return new RepeatingLinearGradient(options);      \n    case 'radial-gradient': \n      return new RadialGradient(options);\n    case 'repeating-radial-gradient': \n      return new RepeatingRadialGradient(options);      \n    case 'conic-gradient': \n      return new ConicGradient(options);\n    case 'repeating-conic-gradient': \n      return new RepeatingConicGradient(options);      \n    case 'image-resource':\n    case 'url':\n      return new URLImageResource(options);\n    }\n  }\n\n  static parseStyle(style) {\n    var backgroundImages = [];\n    const key = JSON.stringify(style);\n\n    if (style[\"background-image\"]) {\n      var results = convertMatches(style[\"background-image\"]);\n\n      results.str.match(reg).forEach((value, index) => {\n        let image = null;\n        value = reverseMatches(value, results.matches);\n        if (value.includes(\"repeating-linear-gradient\")) {\n          image = RepeatingLinearGradient.parse(value);\n        } else if (value.includes(\"linear-gradient\")) {\n          image = LinearGradient.parse(value);\n        } else if (value.includes(\"repeating-radial-gradient\")) {\n          image = RepeatingRadialGradient.parse(value);\n        } else if (value.includes(\"radial-gradient\")) {\n          image = RadialGradient.parse(value);\n        } else if (value.includes(\"repeating-conic-gradient\")) {\n          image = RepeatingConicGradient.parse(value);\n        } else if (value.includes(\"conic-gradient\")) {\n          image = ConicGradient.parse(value);\n        } else if (value.includes(\"url\")) {\n          image = URLImageResource.parse(value);\n        }\n        \n        backgroundImages[index] = new BackgroundImage({\n          type: image.type,\n          image\n        });\n      });\n    }\n\n    if (style[\"background-repeat\"]) {\n      style[\"background-repeat\"].split(\",\").map(it => it.trim()).forEach((it, index) => {\n        if (backgroundImages[index]) {\n          backgroundImages[index].repeat = it;\n        }\n      });\n    }\n\n    if (style[\"background-blend-mode\"]) {\n      style[\"background-blend-mode\"].split(\",\").map(it => it.trim()).forEach((it, index) => {\n        if (backgroundImages[index]) {\n          backgroundImages[index].blendMode = it;\n        }\n      });\n    }\n\n    if (style[\"background-size\"]) {\n      style[\"background-size\"].split(\",\").map(it => it.trim()).forEach((it, index) => {\n        if (backgroundImages[index]) {\n          if (it == \"cover\" || it === \"contain\" || it === \"auto\") {\n            backgroundImages[index].size = it;\n          } else {\n            backgroundImages[index].size = \"auto\";\n            let [width, height] = it.split(' ');\n            backgroundImages[index].width = Length.parse(width);\n            backgroundImages[index].height = Length.parse(height);\n          }\n        }\n      });\n    }\n\n    if (style[\"background-position\"]) {\n      style[\"background-position\"].split(\",\").map(it => it.trim()).forEach((it, index) => {\n        if (backgroundImages[index]) {\n          let [x, y] = it.split(' ');\n          backgroundImages[index].x = Length.parse(x);\n          backgroundImages[index].y = Length.parse(y);\n        }\n      });\n    }\n\n    return backgroundImages;\n  }\n\n\n  static toPropertyCSS(list) {\n    var results = {};\n    list.forEach(item => {\n        keyEach(item.toCSS(), (key, value) => {\n            if (!results[key]) results[key] = [];\n            results[key].push(value);\n        });\n    });\n\n    return combineKeyArray(results);\n  }  \n\n  static join (list) {\n    return CSS_TO_STRING(BackgroundImage.toPropertyCSS(list.map(it => BackgroundImage.parse(it))))\n  }\n\n  static joinCSS (list) {\n    return BackgroundImage.toPropertyCSS(list.map(it => BackgroundImage.parse(it)))\n  }  \n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateColor } from \"../makeInterpolateColor\";\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { makeInterpolateString } from \"../makeInterpolateString\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolateColorStep(layer, property, startColorStep, endColorStep) {\n\n    \n    var obj = {\n        cut: makeInterpolateBoolean(layer, property, startColorStep.cut, endColorStep.cut),\n        percent: makeInterpolateNumber(layer, property, startColorStep.percent, endColorStep.percent),\n        px: makeInterpolateNumber(layer, property, startColorStep.px, endColorStep.px),\n        em: makeInterpolateNumber(layer, property, startColorStep.em, endColorStep.em), \n        unit: makeInterpolateString(layer, property, startColorStep.unit, endColorStep.unit),\n        color: makeInterpolateColor(layer, property, startColorStep.color, endColorStep.color)\n    }\n\n    // console.log(startColorStep.color, endColorStep.color)\n\n    return (rate, t) => {\n        \n        return new ColorStep({\n            cut: obj.cut(rate,t),\n            percent: obj.percent(rate, t),\n            px: obj.px(rate, t),\n            em: obj.em(rate, t),\n            unit: obj.unit(rate, t),\n            color: obj.color(rate, t)\n        })\n    }\n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateColorStep } from \"./makeInterpolateColorStep\";\n\nexport function makeInterpolateColorStepList(layer, property, startColorsteps = [], endColorsteps = []) {\n\n    var max = Math.max(startColorsteps.length, endColorsteps.length)\n\n    var list = []\n    for(var i = 0; i < max; i++) {\n        var s = startColorsteps[i];\n        var e = endColorsteps[i];\n\n        if (s && e) {\n            list[i] = makeInterpolateColorStep(layer, property, s, e);\n        } else {\n            list[i] = makeInterpolateBoolean(layer, property, s, e); \n        }\n    }\n\n\n    return (rate, t) => {\n        \n        return list.map(it => it(rate, t))\n    }\n}\n","import { LinearGradient } from \"el/editor/property-parser/image-resource/LinearGradient\";\nimport { makeInterpolateColorStepList } from \"./makeInterpolateColorStepList\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolateLinearGradient (layer, property, s, e) {\n\n    // angle  \n    // colorsteps \n\n    var obj = {\n        angle: makeInterpolateNumber(layer, property, s.angle, e.angle),\n        colorsteps: makeInterpolateColorStepList(layer, property, s.colorsteps, e.colorsteps)\n    }\n\n    return (rate, t) => {\n        var colorsteps = obj.colorsteps(rate, t);\n\n        return new LinearGradient({\n            angle: obj.angle(rate, t),\n            colorsteps\n        })\n    } \n}\n","import { makeInterpolateColorStepList } from \"./makeInterpolateColorStepList\";\nimport { makeInterpolateString } from \"../makeInterpolateString\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\nimport { RadialGradient } from \"el/editor/property-parser/image-resource/RadialGradient\";\n\n\nconst DEFINED_POSITIONS = {\n    [\"center\"]: true,\n    [\"top\"]: true,\n    [\"left\"]: true,\n    [\"right\"]: true,\n    [\"bottom\"]: true\n  };\n  \n  const DEFINED_ANGLES = {\n    \"to top\": 0,\n    \"to top right\": 45,\n    \"to right\": 90,\n    \"to bottom right\": 135,\n    \"to bottom\": 180,\n    \"to bottom left\": 225,\n    \"to left\": 270,\n    \"to top left\": 315\n  };\n  \n\nfunction convertPercent (value, type) {\n    switch(type) {\n    case 'width':\n        if (value === 'center') {\n            return '50%'\n        } else if (value === 'left') {\n            return '0%'\n        } else if (value === 'right') {\n            return '100%'\n        }\n        break; \n    case 'height':\n        if (value === 'center') {\n            return '50%'\n        } else if (value === 'top') {\n            return '0%'\n        } else if (value === 'bottom') {\n            return '100%'\n        }        \n        break; \n    }\n\n    return value; \n}\n\n\nexport function makeInterpolateRadialGradient (layer, property, s, e) {\n\n    // angle  \n    // colorsteps \n\n    // console.log(s, e);\n\n    s.radialPosition[0] = convertPercent(s.radialPosition[0], 'width')\n    s.radialPosition[1] = convertPercent(s.radialPosition[1], 'height')\n\n    e.radialPosition[0] = convertPercent(e.radialPosition[0], 'width')\n    e.radialPosition[1] = convertPercent(e.radialPosition[1], 'height')    \n\n    var obj = {\n        radialType: makeInterpolateString(layer, property, s.radialType, e.radialType),\n        radialPositionX: makeInterpolateLength(layer, property, s.radialPosition[0], e.radialPosition[0], 'width', 'self'),\n        radialPositionY: makeInterpolateLength(layer, property, s.radialPosition[1], e.radialPosition[1], 'height', 'self'),\n        colorsteps: makeInterpolateColorStepList(layer, property, s.colorsteps, e.colorsteps)\n    }\n\n    return (rate, t) => {\n        var results = new RadialGradient({\n            radialType: obj.radialType(rate, t),\n            radialPosition: [\n                obj.radialPositionX(rate, t),\n                obj.radialPositionY(rate, t)\n            ],\n            colorsteps: obj.colorsteps(rate, t)\n        })\n\n        return results;\n    } \n}\n","import { makeInterpolateColorStepList } from \"./makeInterpolateColorStepList\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\nimport { ConicGradient } from \"el/editor/property-parser/image-resource/ConicGradient\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolateConicGradient (layer, property, s, e) {\n\n    var obj = {\n        angle: makeInterpolateNumber(layer, property, s.angle, e.angle),\n        radialPositionX: makeInterpolateLength(layer, property, s.radialPosition[0], e.radialPosition[0], 'width', 'self'),\n        radialPositionY: makeInterpolateLength(layer, property, s.radialPosition[1], e.radialPosition[1], 'height', 'self'),\n        colorsteps: makeInterpolateColorStepList(layer, property, s.colorsteps, e.colorsteps)\n    }\n\n    return (rate, t) => {\n        return new ConicGradient({\n            angle: obj.angle(rate, t),\n            radialPosition: [ obj.radialPositionX(rate, t), obj.radialPositionY(rate, t) ],\n            colorsteps: obj.colorsteps(rate, t)\n        })\n    } \n}\n","import { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { makeInterpolateLinearGradient } from \"./gradient/makeInterpolateLinearGradient\";\nimport { makeInterpolateRepeatingLinearGradient } from \"./gradient/makeInterpolateRepeatingLinearGradient\";\nimport { makeInterpolateRepeatingRadialGradient } from \"./gradient/makeInterpolateRepeatingRadialGradient\";\nimport { makeInterpolateRepeatingConicGradient } from \"./gradient/makeInterpolateRepeatingConicGradient\";\nimport { makeInterpolateRadialGradient } from \"./gradient/makeInterpolateRadialGradient\";\nimport { makeInterpolateConicGradient } from \"./gradient/makeInterpolateConicGradient\";\n\nexport function makeInterpolateImageResource(layer, property, s, e) {\n\n    var obj = {\n        image: (rate, t) => {\n            return t; \n        }\n    }\n\n    if (s.type === 'url' || e.type === 'url') {\n        obj.image = makeInterpolateBoolean(layer, property, s, e);\n    } else {\n        if (s.type != e.type) {\n            obj.image = makeInterpolateBoolean(layer, property, s, e);\n        } else {\n            //    interpolate  \n            switch(s.type) {\n            case 'linear-gradient': \n                obj.image = makeInterpolateLinearGradient(layer, property, s, e); \n                break; \n            case 'repeating-linear-gradient': \n                obj.image = makeInterpolateRepeatingLinearGradient(layer, property, s, e); \n                break; \n            case 'radial-gradient': \n                obj.image = makeInterpolateRadialGradient(layer, property, s, e); \n                break; \n            case 'repeating-radial-gradient': \n                obj.image = makeInterpolateRepeatingRadialGradient(layer, property, s, e); \n                break; \n            case 'conic-gradient': \n                obj.image = makeInterpolateConicGradient(layer, property, s, e); \n                break; \n            case 'repeating-conic-gradient': \n                obj.image = makeInterpolateRepeatingConicGradient(layer, property, s, e); \n                break; \n            }\n        }\n    }\n\n    return (rate, t) => {\n       \n        return obj.image(rate, t);\n    }\n\n}\n","import { makeInterpolateLinearGradient } from \"./makeInterpolateLinearGradient\";\nimport { RepeatingLinearGradient } from \"el/editor/property-parser/image-resource/RepeatingLinearGradient\";\n\nexport function makeInterpolateRepeatingLinearGradient (layer, property, s, e) {\n\n    var func = makeInterpolateLinearGradient(layer, property, s, e);\n\n    return (rate, t) => {\n        var obj = func(rate, t);\n        var results = new RepeatingLinearGradient({\n            angle: obj.angle,\n            colorsteps: obj.colorsteps\n        })\n\n        return results\n    } \n}\n","import { makeInterpolateRadialGradient } from \"./makeInterpolateRadialGradient\";\nimport { RepeatingRadialGradient } from \"el/editor/property-parser/image-resource/RepeatingRadialGradient\";\n\nexport function makeInterpolateRepeatingRadialGradient (layer, property, s, e) {\n\n    var func = makeInterpolateRadialGradient(layer, property, s, e);\n\n    return (rate, t) => {\n        var obj = func(rate, t);\n        return new RepeatingRadialGradient({\n            radialType: obj.radialType,\n            radialPosition: obj.radialPosition,\n            colorsteps: obj.colorsteps\n        })\n    } \n}\n","import { makeInterpolateConicGradient } from \"./makeInterpolateConicGradient\";\nimport { RepeatingConicGradient } from \"el/editor/property-parser/image-resource/RepeatingConicGradient\";\n\nexport function makeInterpolateRepeatingConicGradient (layer, property, s, e) {\n\n    var func = makeInterpolateConicGradient(layer, property, s, e);\n\n    return (rate, t) => {\n        var obj = func(rate, t);\n        return new RepeatingConicGradient({\n            angle: obj.angle,\n            radialPosition: obj.radialPosition,\n            colorsteps: obj.colorsteps\n        })\n    } \n}\n","import { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { BackgroundImage } from \"../../property-parser/BackgroundImage\";\nimport { STRING_TO_CSS } from \"el/utils/func\";\nimport { makeInterpolateString } from \"./makeInterpolateString\";\nimport { makeInterpolateImageResource } from \"./makeInterpolateImageResource\";\nimport { makeInterpolateIdentity } from \"./makeInterpolateIdentity\";\n\nexport function makeInterpolateBackgroundImage(layer, property, startValue, endValue) {\n\n    var s = BackgroundImage.parseStyle(STRING_TO_CSS(startValue));\n    var e = BackgroundImage.parseStyle(STRING_TO_CSS(endValue));\n\n    var totalLength = Math.max(s.length, e.length)\n\n    var list = [] \n    for(var i = 0, len = totalLength; i < len; i++) {\n        var startObject = s[i] || null;\n        var endObject = e[i] || null;\n\n        if (startObject && !endObject) {\n            //      \n            list.push({\n                image: makeInterpolateIdentity(layer, property, startObject.image),\n                size: makeInterpolateIdentity(layer, property, startObject.size),\n                width: makeInterpolateIdentity(layer, property, startObject.width),\n                height: makeInterpolateIdentity(layer, property, startObject.height),\n                x: makeInterpolateIdentity(layer, property, startObject.x),\n                y: makeInterpolateIdentity(layer, property, startObject.y),\n                blendMode: makeInterpolateIdentity(layer, property, startObject.blendMode),\n                repeat: makeInterpolateIdentity(layer, property, startObject.repeat)\n            })            \n        } else if (!startObject && endObject) {\n            //      \n            list.push({\n                image: makeInterpolateIdentity(layer, property, endObject.image),\n                size: makeInterpolateIdentity(layer, property, endObject.size),\n                width: makeInterpolateIdentity(layer, property, endObject.width),\n                height: makeInterpolateIdentity(layer, property, endObject.height),\n                x: makeInterpolateIdentity(layer, property, endObject.x),\n                y: makeInterpolateIdentity(layer, property, endObject.y),\n                blendMode: makeInterpolateIdentity(layer, property, endObject.blendMode),\n                repeat: makeInterpolateIdentity(layer, property, endObject.repeat)\n            })            \n        } else if (startObject && endObject) {\n            //      \n            list.push({\n                image: makeInterpolateImageResource(layer, property, startObject.image, endObject.image),\n                size: makeInterpolateString(layer, property, startObject.size, endObject.size),\n                width: makeInterpolateLength(layer, property, startObject.width, endObject.width, 'width', 'self'),\n                height: makeInterpolateLength(layer, property, startObject.height, endObject.height, 'height', 'self'),                \n                x: makeInterpolateLength(layer, property, startObject.x, endObject.x, 'width', 'self'),\n                y: makeInterpolateLength(layer, property, startObject.y, endObject.y, 'height', 'self'),\n                blendMode: makeInterpolateString(layer, property, startObject.blendMode, endObject.blendMode),\n                repeat: makeInterpolateString(layer, property, startObject.repeat, endObject.repeat)\n            })            \n        }\n    }\n\n    return (rate, t) => {\n        return BackgroundImage.join(list.map(it => {\n            var data= {\n                image: it.image(rate, t), \n                size: it.size(rate, t),\n                x: it.x(rate, t),\n                y: it.y(rate, t),\n                width: it.width(rate, t),\n                height: it.height(rate, t),\n                blendMode: it.blendMode(rate, t), \n                repeat: it.repeat(rate, t)\n            }\n            return data; \n        }))\n    }\n\n}\n","import { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nconst FILTER_REG = /((blur|drop\\-shadow|hue\\-rotate|invert|brightness|contrast|opacity|saturate|sepia|url)\\(([^\\)]*)\\))/gi;\nexport class Filter extends PropertyItem {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({ \n      itemType: \"filter\", \n      ...obj \n    });\n  }\n\n  toString() {\n    return `${this.json.type}(${this.json.value || \"\"})`;\n  }\n\n  static parse (obj) {\n    var FilterClass = FilterClassName[obj.type];\n\n    if (FilterClass) {\n      return new FilterClass(obj);\n    } else {\n      return new URLSvgFilter({\n        value: obj.value \n      });\n    }\n  }  \n\n  static parseStyle (filter) {\n\n    var filters = [];\n\n    if (!filter) return filters;\n\n    var results = convertMatches(filter);\n    var matches = (results.str.match(FILTER_REG) || []);\n    matches.forEach((value, index) => {\n      var [filterName, filterValue] = value.split(\"(\");\n      filterValue = filterValue.split(\")\")[0];\n\n      if (filterName === \"drop-shadow\") {\n        var arr = filterValue.split(\" \");\n\n        var colors = arr\n          .filter(it => it.includes(\"@\"))\n          .map(it => {\n            return reverseMatches(it, results.matches);\n          });\n        var values = arr.filter(it => !it.includes(\"@\"));\n\n        // drop-shadow  \n        filters[index] = Filter.parse({\n          type: filterName,\n          offsetX: Length.parse(values[0]),\n          offsetY: Length.parse(values[1]),\n          blurRadius: Length.parse(values[2]),\n          color: colors[0] || \"rgba(0, 0, 0, 1)\"\n        });\n      } else {\n        // drop shadow    \n        filters[index] = Filter.parse({\n          type: filterName,\n          value: Length.parse(filterValue)\n        });\n      }\n    });\n    return filters;\n  }\n\n  static join (list) {\n    return list.map(it => Filter.parse(it)).join(' ');\n  }\n\n}\n\nexport class BlurFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"blur\",\n      value: BlurFilter.spec.defaultValue\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('value')\n    }\n  }\n}\n\nBlurFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: 'px',\n  units: [\"px\", \"em\"],\n  defaultValue: Length.z()\n};\n\nexport class URLSvgFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"svg\",\n      value: URLSvgFilter.spec.defaultValue\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('value')\n    }\n  }\n\n  toString() {\n    return `url(#${this.json.value || \"\"})`;\n  }\n}\n\nURLSvgFilter.spec = {\n  inputType: \"select\",\n  defaultValue: ''\n};\n\nexport class GrayscaleFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"grayscale\",\n      value: GrayscaleFilter.spec.defaultValue\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('value')\n    }\n  }\n}\n\nGrayscaleFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(0)\n};\n\nexport class HueRotateFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"hue-rotate\",\n      value: HueRotateFilter.spec.defaultValue\n    });\n  }\n}\n\nHueRotateFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 360,\n  step: 1,\n  unit: 'deg',\n  units: [\"deg\"],\n  defaultValue: Length.deg(0)\n};\n\nexport class InvertFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"invert\",\n      value: InvertFilter.spec.defaultValue\n    });\n  }\n}\n\nInvertFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(0)\n};\n\nexport class BrightnessFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"brightness\",\n      value: BrightnessFilter.spec.defaultValue\n    });\n  }\n}\n\nBrightnessFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 200,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(100)\n};\n\nexport class ContrastFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"contrast\",\n      value: ContrastFilter.spec.defaultValue\n    });\n  }\n}\n\nContrastFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 200,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(100)\n};\n\nexport class OpacityFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"opacity\",\n      value: OpacityFilter.spec.defaultValue\n    });\n  }\n}\n\nOpacityFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(100)\n};\n\nexport class SaturateFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"saturate\",\n      value: SaturateFilter.spec.defaultValue\n    });\n  }\n}\n\nSaturateFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(100)\n};\n\nexport class SepiaFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"sepia\",\n      value: SepiaFilter.spec.defaultValue\n    });\n  }\n}\n\nSepiaFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(0)\n};\n\nexport class DropshadowFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"drop-shadow\",\n      multi: true,\n      offsetX: DropshadowFilter.spec.offsetX.defaultValue,\n      offsetY: DropshadowFilter.spec.offsetY.defaultValue,\n      blurRadius: DropshadowFilter.spec.blurRadius.defaultValue,\n      color: DropshadowFilter.spec.color.defaultValue\n    });\n  }\n\n  toString() {\n    var json = this.json;\n    return `drop-shadow(${json.offsetX} ${json.offsetY} ${json.blurRadius} ${json.color})`;\n  }\n}\n\nDropshadowFilter.spec = {\n  offsetX: {\n    title: \"Offset X\",\n    inputType: \"range\",\n    min: -100,\n    max: 100,\n    step: 1,\n    defaultValue: Length.z(),\n    unit: 'px',\n    units: [\"px\", \"em\"]\n  },\n  offsetY: {\n    title: \"Offset Y\",\n    inputType: \"range\",\n    min: -100,\n    max: 100,\n    step: 1,\n    defaultValue: Length.z(),\n    unit: 'px',\n    units: [\"px\", \"em\"]\n  },\n  blurRadius: {\n    title: \"Blur Radius\",\n    inputType: \"range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.z(),\n    unit: 'px',\n    units: [\"px\", \"em\", \"%\"]\n  },\n  color: {\n    title: \"Color\",\n    inputType: \"color\",\n    defaultValue: \"rgba(0, 0, 0, 1)\",\n    unit: 'color'\n  }\n};\n\nexport const FilterClassList = [\n  BlurFilter,\n  GrayscaleFilter,\n  HueRotateFilter,\n  InvertFilter,\n  BrightnessFilter,\n  ContrastFilter,\n  OpacityFilter,\n  SaturateFilter,\n  SepiaFilter,\n  DropshadowFilter,\n  URLSvgFilter\n];\n\nexport const FilterClassName = {\n  blur: BlurFilter,\n  grayscale: GrayscaleFilter,\n  \"hue-rotate\": HueRotateFilter,\n  invert: InvertFilter,\n  brightness: BrightnessFilter,\n  contrast: ContrastFilter,\n  opacity: OpacityFilter,\n  saturate: SaturateFilter,\n  sepia: SepiaFilter,\n  \"drop-shadow\": DropshadowFilter,\n  svg: URLSvgFilter\n};\n\nexport const FilterClass = {\n  BlurFilter,\n  GrayscaleFilter,\n  HueRotateFilter,\n  InvertFilter,\n  BrightnessFilter,\n  ContrastFilter,\n  OpacityFilter,\n  SaturateFilter,\n  SepiaFilter,\n  DropshadowFilter,\n  URLSvgFilter\n};\n","import { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { makeInterpolateString } from \"./makeInterpolateString\";\nimport { makeInterpolateNumber } from \"./makeInterpolateNumber\";\nimport { makeInterpolateColor } from \"./makeInterpolateColor\";\n\nexport function makeInterpolateFilterItem(layer, property, startValue, endValue) {\n\n    var obj = {\n        type: makeInterpolateString(layer, property, startValue.type, endValue.type),\n        value: makeInterpolateBoolean(layer, property, startValue.value, endValue.value)\n    } \n\n    switch(startValue.type) {\n    case 'blur': \n        obj.value = makeInterpolateLength(layer, property, startValue.value, endValue.value);\n        break;     \n    case 'grayscale':\n    case 'invert':\n    case 'brightness':\n    case 'contrast':\n    case 'opacity':\n    case 'saturate':\n    case 'sepia':\n    case 'hue-rotate':        \n        obj.value = makeInterpolateNumber(layer, property, startValue.value.value, endValue.value.value, startValue.value.unit);\n        break;        \n    case 'drop-shadow':\n        obj.offsetX = makeInterpolateLength(layer, property, startValue.offsetX, endValue.offsetX, 'width', 'self')\n        obj.offsetY = makeInterpolateLength(layer, property, startValue.offsetY, endValue.offsetY, 'height', 'self')\n        obj.blurRadius = makeInterpolateLength(layer, property, startValue.blurRadius, endValue.blurRadius, 'width', 'self')\n        obj.spreadRadius = makeInterpolateLength(layer, property, startValue.spreadRadius, endValue.spreadRadius, 'width', 'self')\n        obj.color = makeInterpolateColor(layer, property, startValue.color, endValue.color)\n        break; \n    }\n\n    return (rate, t) => {\n\n        var type =  obj.type(rate, t)\n\n        if (type === 'drop-shadow') {\n\n            return {\n                type: obj.type(rate, t),\n                offsetX: obj.offsetX(rate, t),\n                offsetY: obj.offsetY(rate, t),\n                blurRadius: obj.blurRadius(rate, t),\n                spreadRadius: obj.spreadRadius(rate, t),\n                color: obj.color(rate, t)\n            }\n        } else {\n\n            return {\n                type: obj.type(rate, t),\n                value: obj.value(rate, t)\n            }\n        }\n\n    }\n\n}\n","import { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { Filter } from \"../../property-parser/Filter\";\nimport { makeInterpolateIdentity } from \"./makeInterpolateIdentity\";\nimport { makeInterpolateFilterItem } from \"./makeInterpolateFilterItem\";\n\nexport function makeInterpolateFilter(layer, property, startValue, endValue) {\n    var s = Filter.parseStyle(startValue);\n    var e = Filter.parseStyle(endValue);\n\n    var totalLength = Math.max(s.length, e.length)\n\n    var list = [] \n    for(var i = 0, len = totalLength; i < len; i++) {\n        var startObject = s[i]\n        var endObject = e[i]\n\n        if (startObject && !endObject) {\n            list.push(makeInterpolateIdentity(layer, property, startObject)) \n        } else if (!startObject && endObject) {\n            list.push(makeInterpolateIdentity(layer, property, endObject)) \n        } else {\n\n            if (startObject.type != endObject.type || startObject.type === 'svg' || endObject.type === 'svg') {\n                list.push(makeInterpolateBoolean(layer, property, startObject, endObject))\n            } else {\n                list.push(makeInterpolateFilterItem(layer, property, startObject, endObject))\n            }\n\n        }\n\n    }\n\n    return (rate, t) => {\n        return Filter.join(list.map(it => it(rate, t)))\n    }\n\n}\n","import { Length } from \"./Length\";\n\nexport class DirectionLength {\n    static parse (str) {\n        var temp = str.split(' ').filter(it => it.trim()).map(it => Length.parse(it))\n\n        var top = Length.percent(0), right = Length.percent(0), bottom = Length.percent(0), left = Length.percent(0);\n\n        if (temp.length === 1) {\n            top = temp[0].clone()\n            right = temp[0].clone()\n            bottom = temp[0].clone()\n            left = temp[0].clone()\n        } else if (temp.length === 2) {\n            top = temp[0].clone()\n            right = temp[1].clone()\n            bottom = temp[0].clone()\n            left = temp[1].clone()            \n        } else if (temp.length === 3) {\n            top = temp[0].clone()\n            right = temp[1].clone()\n            bottom = temp[2].clone()\n            left = temp[1].clone()  \n        } else if (temp.length === 4) {\n            top = temp[0].clone()\n            right = temp[1].clone()\n            bottom = temp[2].clone()\n            left = temp[3].clone()\n        }\n\n        return [temp.length, top, right, bottom, left]\n    }\n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { DirectionLength } from \"el/editor/unit/DirectionLength\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { isUndefined } from \"el/sapa/functions/func\";\nconst CLIPPATH_REG = /(content\\-box|padding\\-box|border\\-box|margin\\-box|view\\-box|stroke\\-box|fill\\-box|none|(inset|circle|ellipse|polygon|path|svg|url)(\\(([^\\)]*)\\))?)/gi;\nexport class ClipPath extends PropertyItem {\n\n    getDefaultObject(obj = {}) {\n        return super.getDefaultObject( { \n            itemType: 'clip-path', \n            type: 'none',\n            value: '',\n            ...obj \n        })\n    }\n\n    toCloneObject() {\n        return {\n            ...super.toCloneObject(),\n            ...this.attrs('value')\n        }\n    }\n\n    toString() {\n        var type = this.json.type; \n        var value = this.json.value;\n        var box = this.json.box; \n\n        var results = '';\n\n        switch(type) {\n            case 'circle':\n            case 'inset':\n            case 'ellipse':\n            case 'polygon':\n            case 'path':\n                results = `${type}(${value})`;\n                break;                \n            case 'svg':\n                results = `url(#${value})`;\n                break;\n            default: \n                results = 'none';\n                break;\n        }\n\n        return box ? `${box} ${results}` : results;\n    }    \n\n    toCSS () {\n        return {\n            'clip-path': this.toString()\n        }\n    }\n\n\n    static toCSS (obj) {\n        return new ClipPath(obj).toCSS()\n    }\n\n    static toString (obj) {\n        return ClipPath.toCSS(obj)['clip-path']\n    }\n\n    static parse (obj) {\n        return new ClipPath(obj);\n    }\n\n    static parseStyle (str) { \n\n        var clippath = {};\n\n        if (!str) return {};\n    \n        var matches = (str.match(CLIPPATH_REG) || []);\n\n        matches.forEach((value, index) => {\n\n            if (value.includes('-box')) {\n                clippath.box = value; \n            } else {\n                var [clipPathName, clipPathValue] = value.split(\"(\");\n\n                clipPathValue = clipPathValue || ''; \n\n                if (clipPathName === 'none') {\n                    clipPathValue = ''\n                } else {\n                    clipPathValue = clipPathValue.split(\")\")[0];\n                }\n    \n                clippath.type = clipPathName;\n                clippath.value = clipPathValue;\n            }\n        });\n\n        return clippath;\n    }\n\n    static parseStyleForCircle (str) {\n        var radius = new Length('', 'closest-side'), position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        return {\n            radius, x, y\n        }\n    }\n\n    static parseStyleForEllipse (str = '50% 50%') {\n        var radius = `50% 50%`, position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        var [radiusX, radiusY] = radius.split(' ');\n\n        if (isUndefined(radiusY)) {\n            radiusY = radiusX;\n        }\n\n        radiusX = Length.parse(radiusX)\n        radiusY = Length.parse(radiusY)\n\n        return {\n            radiusX,\n            radiusY, \n            x, \n            y\n        }\n    }\n\n    static parseStyleForInset (str = '') {\n        var [inset, round] = str.split('round')\n\n        var [_count, top, right, bottom, left] = DirectionLength.parse(inset);\n\n        if (round) {\n\n            var [_roundCount, topRadius, rightRadius, bottomRadius, leftRadius] = DirectionLength.parse(round);\n\n        }\n\n        return {\n            isAll: _count === 1,\n            top, \n            right, \n            bottom, \n            left ,\n            round,\n            isAllRadius: _roundCount === 1,\n            topRadius,\n            rightRadius,\n            bottomRadius,\n            leftRadius\n        }\n    }\n\n    \n    static parseStyleForPolygon (str = '') {\n\n        return str.split(',').filter(it => it.trim()).map(it => {\n           var [x, y] = it.trim().split(' ')\n\n           return { \n               x: Length.parse(x), \n               y: Length.parse(y)\n            }\n        })\n    }\n}\n","import { ClipPath } from \"../../property-parser/ClipPath\";\nimport { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { makeInterpolateClipPathCircle } from \"./clip-path/makeInterpolateClipPathCircle\";\nimport { makeInterpolateClipPathEllipse } from \"./clip-path/makeInterpolateClipPathEllipse\";\nimport { makeInterpolateClipPathPolygon } from \"./clip-path/makeInterpolateClipPathPolygon\";\nimport { makeInterpolateClipPathInset } from \"./clip-path/makeInterpolateClipPathInset\";\n\nexport function makeInterpolateClipPath(layer, property, startValue, endValue) {\n\n    var startObject = ClipPath.parseStyle(startValue);\n    var endObject = ClipPath.parseStyle(endValue);\n\n    var obj = {\n        type: makeInterpolateBoolean(layer, property, startObject.type, startObject.type),\n        value: makeInterpolateBoolean(layer, property, startValue, endValue)\n    }\n\n    if (startObject.type == endObject.type && startObject != 'none')  {\n        switch(startObject.type) {\n        case 'circle':\n            startObject.value = ClipPath.parseStyleForCircle(startObject.value);\n            endObject.value = ClipPath.parseStyleForCircle(endObject.value);\n\n            obj.value = makeInterpolateClipPathCircle(layer, property, startObject.value, endObject.value);\n\n            break; \n        case 'ellipse':\n            startObject.value = ClipPath.parseStyleForEllipse(startObject.value);\n            endObject.value = ClipPath.parseStyleForEllipse(endObject.value);\n\n            obj.value = makeInterpolateClipPathEllipse(layer, property, startObject.value, endObject.value);            \n            break;  \n        case 'inset': //   \n            startObject.value = ClipPath.parseStyleForInset(startObject.value);\n            endObject.value = ClipPath.parseStyleForInset(endObject.value);\n\n            obj.value = makeInterpolateClipPathInset(layer, property, startObject.value, endObject.value);\n            break;\n        case 'polygon': //   \n            startObject.value = ClipPath.parseStyleForPolygon(startObject.value);\n            endObject.value = ClipPath.parseStyleForPolygon(endObject.value);\n\n            obj.value = makeInterpolateClipPathPolygon(layer, property, startObject.value, endObject.value);\n            break;\n        case 'path':  //   \n            startObject.value = ClipPath.parseStyleForPath(startObject.value);\n            endObject.value = ClipPath.parseStyleForPath(endObject.value);\n\n            obj.value = makeInterpolateClipPathPath(layer, property, startObject.value, endObject.value);        \n            break;\n        }\n    }\n\n\n    return (rate, t) => {\n\n        var type = obj.type(rate, t);\n        var value = obj.value(rate, t);\n\n        if (type === 'none') {\n            return type; \n        }\n\n        return  `${type}(${value})`\n    }\n\n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\n\nexport function makeInterpolateClipPathCircle (layer, property, s, e) {\n\n    //radius, x, y\n    // radius : length - percent closest-side | farthest-side\n\n    var obj = {}\n\n    if (\n        s.radius === 'closest-side' || \n        s.radius === 'farthest-side' ||  \n        e.radius === 'closest-side' || \n        e.radius === 'farthest-side'\n    ) {\n        obj.radius = makeInterpolateBoolean(layer, property, s.radius, e.radius)\n    } else {\n\n        if (s.radius.unit === e.radius.unit) {\n            obj.radius = makeInterpolateNumber(layer, property, s.radius.value, e.radius.value, s.radius.unit)\n        } else {\n            obj.radius = makeInterpolateLength(layer, property, s.radius, e.radius, 'width', 'self')\n        }\n    }\n\n    obj.x = makeInterpolateLength(layer, property, s.x, e.x, 'width', 'self')\n    obj.y = makeInterpolateLength(layer, property, s.y, e.y, 'height', 'self')\n\n    return (rate, t) => {\n\n        var radius = obj.radius(rate, t);\n        var x = obj.x(rate, t);\n        var y = obj.y(rate, t);\n\n        var results = `${x} ${y}`\n\n        var radiusString = radius + '';\n\n        if (radiusString.includes('closest-side')) {\n            radiusString = 'closest-side'\n        } else if (radiusString.includes('farthest-side')) {\n            radiusString = 'farthest-side'\n        }\n\n        return radius ? `${radiusString} at ${results}` :  `${results}`;\n\n    } \n}\n","import { makeInterpolateLength } from \"../makeInterpolateLength\";\n\nexport function makeInterpolateClipPathEllipse (layer, property, s, e) {\n\n    var obj = {\n        radiusX: makeInterpolateLength(layer, property, s.radiusX, e.radiusX, 'width', 'self'),\n        radiusY: makeInterpolateLength(layer, property, s.radiusY, e.radiusY, 'height', 'self'),\n        x: makeInterpolateLength(layer, property, s.x, e.x, 'width', 'self'),\n        y: makeInterpolateLength(layer, property, s.y, e.y, 'height', 'self')        \n    }\n\n    return (rate, t) => {\n\n        var radiusX = obj.radiusX(rate, t);\n        var radiusY = obj.radiusY(rate, t);\n        var x = obj.x(rate, t);\n        var y = obj.y(rate, t);\n\n        return `${radiusX} ${radiusY} at ${x} ${y}`;\n    } \n}\n","import { makeInterpolateNumber } from \"../makeInterpolateNumber\";\nimport { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\n\nexport function makeInterpolateClipPathInset (layer, property, s, e) {\n\n    var obj = {\n        top: makeInterpolateNumber(layer, property, s.top.value, e.top.value, s.top.unit),\n        left: makeInterpolateNumber(layer, property, s.left.value, e.left.value, s.left.unit),\n        right: makeInterpolateNumber(layer, property, s.right.value, e.right.value, s.right.unit),\n        bottom: makeInterpolateNumber(layer, property, s.bottom.value, e.bottom.value, s.bottom.unit),\n        round: makeInterpolateBoolean(layer, property, s.round, e.round),\n        topRadius: makeInterpolateNumber(layer, property, s.topRadius.value, e.topRadius.value, s.topRadius.unit),\n        leftRadius: makeInterpolateNumber(layer, property, s.leftRadius.value, e.leftRadius.value, s.leftRadius.unit),\n        rightRadius: makeInterpolateNumber(layer, property, s.rightRadius.value, e.rightRadius.value, s.rightRadius.unit),\n        bottomRadius: makeInterpolateNumber(layer, property, s.bottomRadius.value, e.bottomRadius.value, s.bottomRadius.unit)\n    }\n\n    return (rate, t) => {\n\n        var top = obj.top(rate, t);\n        var right = obj.right(rate, t);\n        var bottom = obj.bottom(rate, t);\n        var left = obj.left(rate, t);\n\n        var round = obj.round(rate, t);\n\n        var topRadius = obj.topRadius(rate, t);\n        var leftRadius = obj.leftRadius(rate, t);\n        var bottomRadius = obj.bottomRadius(rate, t);\n        var rightRadius = obj.rightRadius(rate, t);\n\n        var position = [top, right, bottom, left].join(' ')\n        var radius = [topRadius, rightRadius, bottomRadius, leftRadius].join(' ')\n        var results = `${position} ${(round && radius.trim()) ? `round ${radius}` : ''}`\n\n        return results;\n    } \n}\n","import { makeInterpolateIdentity } from \"../makeInterpolateIdentity\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\n\nexport function makeInterpolateClipPathPolygon (layer, property, s, e) {\n    var max = Math.max(s.length, e.length)\n    var list = [] \n\n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        if (startPos && !endPos) {\n            list.push({\n                x: makeInterpolateIdentity(layer, property, startPos.x),\n                y: makeInterpolateIdentity(layer, property, startPos.y),\n            })\n        } else if (!startPos && endPos) {\n            list.push({\n                x: makeInterpolateIdentity(layer, property, endPos.x),\n                y: makeInterpolateIdentity(layer, property, endPos.y),\n            })\n        } else {\n            list.push({\n                x: makeInterpolateLength(layer, property, startPos.x, endPos.x, 'width', 'self'),\n                y: makeInterpolateLength(layer, property, startPos.y, endPos.y, 'height', 'self')\n            })\n        }\n        \n    }\n\n    return (rate, t) => {\n        return list.map(it => {\n            return `${it.x(rate, t)} ${it.y(rate, t)}`\n        }).join(',')\n    } \n}\n","const MAX_CACHE_COUNT = 1000;\nconst cachedTransformMap = new Map();\n\n\nexport class TransformCache {\n\n    static has (key) {\n        return cachedTransformMap.has(key);\n    }\n\n    static get (key) {\n        return cachedTransformMap.get(key);\n    }\n\n    static set (key, parsedValue) {\n\n        if (cachedTransformMap.size > MAX_CACHE_COUNT) {\n            cachedTransformMap.clear();\n        }\n\n        cachedTransformMap.set(key, parsedValue);\n    }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { mat4, vec3 } from \"gl-matrix\";\nimport { degreeToRadian } from \"el/utils/math\";\nimport { TransformCache } from \"./TransformCache\";\n\nconst TRANSFORM_REG = /((matrix|translate(X|Y|Z|3d)?|scale(X|Y|Z|3d)?|rotate(X|Y|Z|3d)?|skew(X|Y)?|matrix(3d)?|perspective)\\(([^\\)]*)\\))/gi;\n\nexport class Transform extends PropertyItem {\n  getDefaultObject() {\n    return {\n      itemType: \"transform\",\n      value: [],\n    };\n  }\n\n  toCloneObject() {\n    return {\n      ...this.attrs('itemType', 'type', 'value')\n    }\n  }\n\n  toString() {\n    return `${this.json.type}(${this.json.value.join(', ') || \"\"})`;\n  }\n\n\n  static join(list) {\n\n    var firstType = 'perspective'\n    var lastType = 'matrix3d'\n\n    var arr = list.filter(it => it.type === firstType)\n    var last = list.filter(it => it.type === lastType)\n    var arr2 = list.filter(it => it.type !== firstType && it.type !== lastType)\n\n    return [...arr, ...arr2, ...last].map(it => new Transform(it).toString()).join(' ')\n  }\n\n  hasNumberValue() {\n    var type = this.json.type;\n    return type.includes('matrix') || type.includes('scale')\n  }\n\n  static parse(transform) {\n    return new Transform(transform);\n  }\n\n  static remove(transform, type = []) {\n\n    if (typeof type === 'string') {\n      type = [type]\n    }\n\n    return Transform.filter(transform, it => {\n      return type.includes(it.type) === false;\n    })\n  }\n\n  static filter(transform, filterFunction) {\n    return Transform.join(Transform.parseStyle(transform, false).filter(it => filterFunction(it)))\n  }\n\n  static replace(transform, valueObject) {\n\n    var obj = Transform.parseStyle(transform, false)\n\n    var tObject = obj.find(t => t.type === valueObject.type);\n\n    if (tObject) {\n      tObject.value = valueObject.value\n    } else {\n      obj.push(valueObject)\n    }\n\n    return Transform.join(obj);\n  }\n\n  static replaceAll(oldTransform, newTransform) {\n    var oldT = Transform.parseStyle(oldTransform, false)\n    var newT = Transform.parseStyle(newTransform)\n\n    for (var i = 0, len = newT.length; i < len; i++) {\n      var newObject = newT[i];\n      var oldObject = oldT.find(t => t.type === newObject.type);\n\n      if (oldObject) {\n        oldObject.value = newObject.value\n      } else {\n        oldT.push(newObject)\n      }\n    }\n\n    return Transform.join(oldT);\n  }\n\n  static addTransform(oldTransform, newTransform) {\n    var oldT = Transform.parseStyle(oldTransform, false)\n    var newT = Transform.parseStyle(newTransform)\n\n    for (var i = 0, len = newT.length; i < len; i++) {\n      var newObject = newT[i];\n      var oldObject = oldT.find(t => t.type === newObject.type);\n\n      if (oldObject) {\n        newObject.value.forEach((v, i) => {\n          oldObject.value[i].value += v.value;\n        })\n      } else {\n        oldT.push(newObject)\n      }\n    }\n\n    return Transform.join(oldT);\n  }\n\n  /**\n   * \n   * @param {string} transform \n   * @param {string} type \n   * @returns {Length[]}   \n   */\n  static get(transform, type) {\n    var arr = Transform.parseStyle(transform, true)\n\n    if (typeof type === 'function') {\n      arr = arr.find(type);\n    } else {\n      arr = arr.find(it => it.type === type);\n    }\n\n    if (arr) {\n      return arr.value;\n    }\n\n    return undefined;\n  }\n\n  static createRotateKey(transform, angle, field) {\n    return `${transform}:::${field}(${angle})`\n  }\n\n  static rotate(transform, angle, field = 'rotate') {\n\n    const key = Transform.createRotateKey(transform, angle, field);\n\n    if (TransformCache.has(key)) return TransformCache.get(key);\n\n    TransformCache.set(key, Transform.replace(transform, { type: field, value: [angle] }));\n\n    return TransformCache.get(key);\n  }\n\n  static rotateZ(transform, angle) {\n    return Transform.rotate(transform, angle, 'rotateZ')\n  }\n\n  static rotateX(transform, angle) {\n    return Transform.rotate(transform, angle, 'rotateX')\n  }\n\n  static rotateY(transform, angle) {\n    return Transform.rotate(transform, angle, 'rotateY')\n  }\n\n  /**\n   * css transform  . \n   * \n   * @param {string} transform \n   * @param {boolean} [doCache=true]     \n   * @returns {Transform[]}   \n   */\n  static parseStyle(transform, doCache = true) {\n\n    var transforms = [];\n\n    if (!transform) return transforms;\n\n\n    if (doCache && TransformCache.has(transform)) {\n      return TransformCache.get(transform);\n    }\n\n    var matches = (transform.match(TRANSFORM_REG) || []);\n\n    matches.forEach((value, index) => {\n      var [transformName, transformValue] = value.split(\"(\");\n      transformValue = transformValue.split(\")\")[0];\n\n      var arr = transformValue.split(',');\n\n      if (transformValue.includes('matrix') || transformValue.includes('scale')) {\n        arr = arr.map(it => Length.number(it.trim()))\n      } else {\n        arr = arr.map(it => Length.parse(it.trim()))\n      }\n\n      // drop shadow    \n      transforms[index] = Transform.parse({\n        type: transformName,\n        value: arr\n      });\n\n    });\n\n    if (doCache) {\n      TransformCache.set(transform, transforms);\n    }\n\n    return transforms;\n  }\n\n  /**\n   * Transform   mat4   \n   * \n   * \n   * @param {Transform[]} parsedTransformList  Transform  \n   * @param {number} width Layer    \n   * @param {number} height Layer    \n   */\n  static createTransformMatrix(parsedTransformList, width, height) {\n \n    // start with the identity matrix \n    const view = mat4.create();\n\n    // 3. Multiply by each of the transform functions in transform property from left to right     \n    for (let i = 0, len = parsedTransformList.length; i < len; i++) {\n      const it = parsedTransformList[i];\n\n      switch (it.type) {\n        case 'translate':\n        case 'translateX':\n        case 'translateY':\n        case 'translateZ':\n          var values = it.value\n          if (it.type === 'translate') {\n            values = [values[0].toPx(width).value, values[1].toPx(height).value, 0];\n          } else if (it.type === 'translateX') {\n            values = [values[0].toPx(width).value, 0, 0];\n          } else if (it.type === 'translateY') {\n            values = [0, values[0].toPx(height).value, 0];\n          } else if (it.type === 'translateZ') {\n            values = [0, 0, values[0].toPx().value];\n          }\n\n          mat4.translate(view, view, values);\n          break;\n        case 'rotate':\n        case 'rotateZ':\n          mat4.rotateZ(view, view, degreeToRadian(it.value[0].value));\n          break;\n        case 'rotateX':\n          mat4.rotateX(view, view, degreeToRadian(it.value[0].value));\n          break;\n        case 'rotateY':\n          mat4.rotateY(view, view, degreeToRadian(it.value[0].value));\n          break;\n        case 'rotate3d':\n          var values = it.value\n          mat4.rotate(view, view, degreeToRadian(it.value[3].value), [\n            values[0].value,\n            values[1].value,\n            values[2].value,\n          ]);\n          break;\n        case 'scale':\n          mat4.scale(view, view, [it.value[0].value, it.value[1].value, 1]);\n          break;\n        case 'scaleX':\n          mat4.scale(view, view, [it.value[0].value, 1, 1]);\n          break;\n        case 'scaleY':\n          mat4.scale(view, view, [1, it.value[0].value, 1]);\n          break;\n        case 'scaleZ':\n          mat4.scale(view, view, [1, 1, it.value[0].value]);\n          break;\n        case 'skewX':\n\n          var rad = it.value[0].toDeg().toRad()\n\n          mat4.multiply(view, view, mat4.fromValues(\n            1, 0, 0, 0,\n            Math.tan(rad.value), 1, 0, 0,\n            0, 0, 1, 0,\n            0, 0, 0, 1,\n          ));\n          break;\n        case 'skewY':\n          var rad = it.value[0].toDeg().toRad()\n          mat4.multiply(view, view, mat4.fromValues(\n            1, Math.tan(rad.value), 0, 0,\n            0, 1, 0, 0,\n            0, 0, 1, 0,\n            0, 0, 0, 1,\n          ));\n          break;\n        case 'skew':\n            const skewX = it.value[0].toDeg().toRad();\n            const skewY = it.value.length > 1 ? it.value[1].toDeg().toRad() : skewX;\n            mat4.multiply(view, view, mat4.fromValues(\n              1, Math.tan(skewY.value), 0, 0,\n              Math.tan(skewX.value), 1, 0, 0,\n              0, 0, 1, 0,\n              0, 0, 0, 1,\n            ));\n            break;\n        case 'matrix':\n          var values = it.value;\n          values = [\n            values[0].value, values[1].value, 0, 0,\n            values[2].value, values[3].value, 0, 0,\n            0, 0, 1, 0,\n            values[4].value, values[5].value, 0, 1\n          ]\n          mat4.multiply(view, view, values);\n          break;\n        case 'matrix3d':\n          var values = it.value.map(it => it.value);\n          mat4.multiply(view, view, values);\n          break;\n        case 'perspective':\n          var values = it.value;\n          mat4.perspective(view, Math.PI * 0.5, width / height, 1, values[0].value);\n          break;\n      }\n    }\n\n    return view;\n  }\n  static fromScale(scale) {\n    if (scale[0] === 1 && scale[1] === 1) {\n      return '';\n    }\n\n    const list = [];\n    if (scale[0] != 1) list.push(`scaleX(${scale[0]})`);\n    if (scale[1] != 1) list.push(`scaleY(${scale[1]})`);\n    if (scale[2] != 1) list.push(`scaleZ(${scale[2]})`);\n\n    return list.join(' ');\n  }\n}","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\n\nexport function makeInterpolateTransformLength (layer, property, startValue, endValue) {\n\n    var obj = {\n        type: makeInterpolateBoolean(layer, property, startValue.type, endValue.type)\n    }\n\n    var value = [] \n    var max = Math.max(startValue.value.length, endValue.value.length);\n\n    for(var i = 0; i < max; i++) {\n        var s = startValue.value[i]\n        var e = endValue.value[i];\n\n        if (s && e) {\n\n            value.push(makeInterpolateLength(layer, property, s, e, startValue.type))\n        } else {\n            value.push(\n                makeInterpolateLength(\n                    layer, \n                    property, \n                    startValue.value[i] || startValue.value[i-1] || startValue.value[i-2],\n                    endValue.value[i] || endValue.value[i-1] || endValue.value[i-2], \n                    startValue.type\n                )\n            )\n        }\n\n    }\n\n    obj.value = value; \n\n    return (rate, t) => {\n\n        return {\n            type: obj.type(rate, t),\n            value: obj.value.map(it => it(rate, t))\n        }\n    } \n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport function makeInterpolateTransformNumber (layer, property, startValue, endValue) {\n\n    var obj = {\n        type: makeInterpolateBoolean(layer, property, startValue.type, endValue.type)\n    }\n\n    var value = [] \n    var max = Math.max(startValue.value.length, endValue.value.length);\n\n    for(var i = 0; i < max; i++) {\n        var s = startValue.value[i]\n        var e = endValue.value[i];\n\n        if (s && e) {\n            value.push(makeInterpolateNumber(layer, property, s.value, e.value))\n        } else {\n            var ss = startValue.value[i].value || startValue.value[i-1].value || startValue.value[i-2].value;\n            var ee = endValue.value[i].value || endValue.value[i-1].value || startValue.value[i-2].value\n            value.push(makeInterpolateNumber(layer, property, ss,ee))\n        }\n\n    }\n\n    obj.value = value; \n\n\n\n    return (rate, t) => {\n\n        var value = obj.value.map(it => it(rate, t))\n\n        var type = obj.type(rate, t);\n\n        if (type.includes('matrix') || type.includes('scale')) {\n            value = value.map(it => {\n                return Length.number(it)\n            })\n        }\n\n        return { type, value }\n    } \n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\nimport { makeInterpolateRotate } from \"../makeInterpolateRotate\";\n\nexport function makeInterpolateTransformRotate (layer, property, startValue, endValue) {\n\n    var obj = {\n        type: makeInterpolateBoolean(layer, property, startValue.type, endValue.type)\n    }\n\n    var value = [] \n    var max = Math.max(startValue.value.length, endValue.value.length);\n\n    for(var i = 0; i < max; i++) {\n        var tempStartValue = startValue.value[i]\n        var tempEndValue = endValue.value[i];\n\n        if (tempStartValue && tempEndValue) {\n            value.push(makeInterpolateRotate(layer, property, tempStartValue, tempEndValue))\n        } else {\n            value.push(\n                makeInterpolateRotate(\n                    layer, \n                    property, \n                    startValue.value[i] || startValue.value[i-1] || startValue.value[i-2],\n                    endValue.value[i] || endValue.value[i-1] || startValue.value[i-2]\n                )\n            )\n        }\n\n    }\n\n    obj.value = value; \n\n    return (rate, t) => {\n        var results = {\n            type: obj.type(rate, t),\n            value: obj.value.map(it => it(rate, t))\n        }\n\n        return  results\n    } \n}\n","import { ClipPath } from \"../../property-parser/ClipPath\";\nimport { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { Transform } from \"../../property-parser/Transform\";\nimport { makeInterpolateIdentity } from \"./makeInterpolateIdentity\";\nimport { makeInterpolateTransformLength } from \"./transform/makeInterpolateTransformLength\";\nimport { makeInterpolateTransformNumber } from \"./transform/makeInterpolateTransformNumber\";\nimport { makeInterpolateTransformRotate } from \"./transform/makeInterpolateTransformRotate\";\n\nexport function makeInterpolateTransform(layer, property, startValue, endValue) {\n    var startObject = Transform.parseStyle(startValue.trim());\n    var endObject = Transform.parseStyle(endValue.trim());\n\n    var max = Math.max(startObject.length, endObject.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        var s = startObject[i]\n        var e = endObject[i]\n\n        if (s && !e) {\n            list.push(makeInterpolateIdentity(layer, property, s))\n        } else if (!s && e) {\n            list.push(makeInterpolateIdentity(layer, property, e))\n        } else if (s.type != e.type) {\n            list.push(makeInterpolateBoolean(layer, property, s, e))\n        } else {\n            switch(s.type) {\n            // case 'skewX': \n            // case 'skewY': \n            case 'translate': \n            case 'translateX': \n            case 'translateY': \n            case 'translateZ': \n            case 'translate3d': \n            case 'perspective': \n                list.push(makeInterpolateTransformLength(layer, property, s, e)); \n                break; \n            case 'rotate': \n            case 'rotateX': \n            case 'rotateY': \n            case 'rotateZ': \n            case 'rotate3d': \n                list.push(makeInterpolateTransformRotate(layer, property, s, e));\n                break;  \n            case 'scale': \n            case 'scaleX': \n            case 'scaleY': \n            case 'scaleZ': \n            case 'scale3d': \n            case 'matrix': \n            case 'matrix3d': \n                list.push(makeInterpolateTransformNumber(layer, property, s, e)); \n                break; \n            }\n        }\n    }\n\n    return (rate, t) => {\n        var results = Transform.join(list.map(it => {\n            return it(rate, t)\n        }))\n\n        return results;\n    }\n\n}\n","import { Length } from \"el/editor/unit/Length\";\nimport { makeInterpolateLength } from \"./makeInterpolateLength\";\n\nexport function makeInterpolateTransformOrigin(layer, property, startValue, endValue) {\n\n    var s = startValue.split(' ').map(it => Length.parse(it));\n    var e = endValue.split(' ').map(it => Length.parse(it));\n\n    var max = Math.max(s.length, e.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        list.push(makeInterpolateLength(layer, property, startPos, endPos, 'transform-origin'))\n    }\n\n    return (rate, t) => {\n        var results = list.map(it => it(rate,t)).join(' ');\n            \n        return results;\n    }\n\n}\n","import { Length } from \"el/editor/unit/Length\";\nimport { makeInterpolateLength } from \"./makeInterpolateLength\";\n\nexport function makeInterpolatePerspectiveOrigin(layer, property, startValue, endValue) {\n\n    var s = startValue.split(' ').map(it => Length.parse(it));\n    var e = endValue.split(' ').map(it => Length.parse(it));\n\n    var max = Math.max(s.length, e.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        list.push(makeInterpolateLength(layer, property, startPos, endPos, 'perspective-origin'))\n    }\n\n    return (rate, t) => {\n        var results = list.map(it => it(rate,t)).join(' ');\n            \n        return results;\n    }\n\n}\n","import { makeInterpolateNumber } from \"./makeInterpolateNumber\";\n\nexport function makeInterpolateStrokeDashArrray(layer, property, startValue, endValue) {\n\n    var s = startValue.split(' ').map(it => +it);\n    var e = endValue.split(' ').map(it => +it);\n\n    var max = Math.max(s.length, e.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        list.push(makeInterpolateNumber(layer, property, startPos, endPos))\n    }\n\n    return (rate, t) => {\n        var results = list.map(it => it(rate,t)).join(' ');\n            \n        return results;\n    }\n\n}\n","import { clone } from \"el/sapa/functions/func\";\nimport { vec3 } from \"gl-matrix\";\n\nexport default class Point {\n    static isEqual(a, b, c) {\n        if (arguments.length === 2) {\n            return a.x === b.x && a.y === b.y; \n        } else if (arguments.length === 3) {\n            return Point.isEqual(a, b) && Point.isEqual(b, c);\n        }\n    }\n\n    static isFirst (point) {\n        return point && point.command == 'M'\n    }\n\n\n    static DouglasPeuker(tolerance, points, start, last) {\n        if (last <= start + 1) return ;\n    \n        let maxdist2 = 0;\n        let breakIndex = start; \n        const tol2 = tolerance * tolerance; //   \n        const startPoint = points[start];\n        const lastPoint = points[last];\n    \n        for(var i = start + 1; i < last; i++) {\n            //    \n            const dist2 = Point.segmentDistance2(points[i].x, points[i].y, startPoint, lastPoint);\n    \n            if (dist2 <= maxdist2) continue;\n    \n            breakIndex = i; \n            maxdist2 = dist2;\n        }\n    \n        //       \n        if (maxdist2 > tol2) {\n            points[breakIndex].mark = true;         // mark    \n    \n            Point.DouglasPeuker(tolerance, points, start, breakIndex);\n            Point.DouglasPeuker(tolerance, points, breakIndex, last);\n        }\n    }    \n\n    static simply (points, tolerance) {\n\n        if (points.length <= 2) {\n            return points;\n        }\n\n        points = clone(points);\n\n        //      \n        points[0].mark = true; \n        points[points.length-1].mark = true; \n\n        //    \n        Point.DouglasPeuker(tolerance, points, 0, points.length-1);\n\n        return points.filter(it => Boolean(it.mark))\n    }\n\n    static segmentDistance2(x, y, A, B) {\n        let dx = B.x - A.x; \n        let dy = B.y - A.y;\n    \n        let lenAB = dx * dx + dy * dy;\n    \n        let du = x - A.x; \n        let dv = y - A.y;\n        let dot = dx * du + dy * dv; \n    \n        if (lenAB === 0) return du * du + dv * dv; \n    \n        if (dot <= 0) return du * du + dv * dv; \n        else if (dot >= lenAB) {\n            du = x - B.x;\n            dv = y - B.y;\n    \n            return du * du + dv * dv;\n        } else {\n            const slash = du * dy - dv * dx; \n            return slash * slash/lenAB;\n        }\n    }\n\n    // check whether C is in A->C line \n    //            .\n    static isInLine (A, B, C) {\n        if (A.x === C.x) return B.x === C.x;\n        if (A.y === C.y) return B.y === C.y;\n        return (A.x - C.x) * (A.y - C.y) === (C.x - B.x) * (C.y - B.y);\n    }\n\n    static isLine (point) {\n        return Point.isInLine(point.endPoint, point.startPoint, point,reversePoint);\n    }\n\n    static getReversePoint(start, end) {\n\n        const [x, y, z] = vec3.lerp([], [end.x, end.y, 0], [start.x, start.y, 0], 2);\n\n        return { x, y }\n    }    \n\n    static getIndexPoint (points, index) {\n        return points[index]\n    }\n\n    static getPoint (points, p0) {\n        return points.filter(p => Point.isEqual(p.startPoint, p0))[0]\n    }\n\n    /**\n     * points p0  index  . \n     * \n     * \n     * @param {array} points \n     * @param {{x: number, y: number}} p0 \n     * @returns \n     */\n    static getIndex (points, p0) {\n        var firstIndex = -1; \n        for(var i = 0, len = points.length; i < len; i++) {\n            var p = points[i]\n\n            if (Point.isEqual(p.startPoint, p0)) {\n                firstIndex = i; \n                break; \n            }\n        }\n        return firstIndex;\n    }\n    \n    static getLastPoint (points, index) {\n\n        if (!points.length) return null;\n\n        var lastIndex = -1; \n        for(var i = index + 1, len = points.length; i < len; i++) {\n            if (points[i].command === 'M') {\n                lastIndex = i - 1;\n                break; \n            }\n        }\n\n        if (lastIndex == -1) {\n            lastIndex = points.length - 1; \n        }\n\n        if (points[lastIndex] && points[lastIndex].command === 'Z') {\n            lastIndex -= 1; \n        }\n\n        var point = points[lastIndex]\n\n        if (point) {\n            point.index = lastIndex;\n        }\n\n        return point\n    }\n\n    static getFirstPoint (points, index) {\n        var firstIndex = -1; \n        for (var i = index - 1; i > 0; i--) {\n            if (points[i].command === 'M') {\n                firstIndex = i; \n                break; \n            }\n        }\n        \n        if (firstIndex === -1) {\n            firstIndex = 0; \n        }\n\n        var point = points[firstIndex]\n        \n        if (point) {\n            point.index = firstIndex;\n        }\n\n        return point\n    }\n\n    static getConnectedPointList (points, index) {\n        const current = points[index];\n        return points.filter((p, i) => i !== index && Point.isEqual(p.startPoint, current.startPoint));\n    }\n\n    static getPrevPoint (points, index) {\n        var prevIndex = index - 1; \n\n        if (prevIndex < 0) {\n            return Point.getLastPoint(points, index);\n        }\n\n        var point = points[prevIndex]\n\n        if (point) {\n            point.index = prevIndex\n        }\n\n        return point;\n    }    \n\n\n    static getNextPoint (points, index) {\n\n        var currentPoint = points[index]\n        var nextPoint = points[index + 1]\n\n        if (nextPoint) {\n            nextPoint.index = index + 1; \n        }\n\n        if (currentPoint.connected) {\n            nextPoint = Point.getFirstPoint(points, index);\n        }\n\n        return nextPoint;\n    }       \n\n    static removePoint (points, pIndex, segment) {\n        if (segment === 'startPoint') {\n            return points.filter((_, index) => index !== pIndex)\n        }\n    }\n\n    static splitPoints (points) {\n\n        let splitedPointGroup = [] \n        let lastPoints = [] \n\n        points.forEach(p => {\n            if (Point.isFirst(p)) {\n                lastPoints = [p];\n                splitedPointGroup.push(lastPoints)\n            } else {\n                lastPoints.push(p);\n            }\n        })\n\n        return splitedPointGroup;\n    }\n\n    static recoverPoints (pointGroup) {\n        const newPoints = [] \n\n        // group   . \n        pointGroup.forEach(points => {\n\n            // group  points . \n            points.forEach((p, index) => {\n                // point   command  M . \n                if (index === 0) {\n                    p.command = 'M';\n                    p.originalCommand = 'M';\n                }\n            })\n\n            newPoints.push.apply(newPoints, points);\n        })\n\n        //     . \n        newPoints.forEach((p, index) => {\n            p.index = index\n        })\n\n        return newPoints\n    }\n}","export class Segment {\n    static L(x, y) {\n        return {\n            command: 'L', values: [x, y]\n        }\n    }\n\n    static Q(x1, y1, x, y) {\n        return {\n            command: 'Q', values: [x1, y1, x, y]\n        }\n    }\n\n    static C(x1, y1, x2, y2, x, y) {\n        return {\n            command: 'C', values: [x1, y1, x2, y2, x, y]\n        }\n    }\n}","\nimport { getBezierPointOneQuard, getBezierPoints, getBezierPointsLine, getBezierPointsQuard, getCurveBBox, recoverBezier, recoverBezierLine, recoverBezierQuard, splitBezierPointsByCount, splitBezierPointsLineByCount, splitBezierPointsQuardByCount } from \"el/utils/bezier\";\nimport { isNotUndefined, clone } from \"el/sapa/functions/func\";\nimport { degreeToRadian, round } from \"el/utils/math\";\nimport { mat4, vec3 } from \"gl-matrix\";\nimport Point from \"./Point\";\nimport { Segment } from \"./Segment\";\n\nconst REG_PARSE_NUMBER_FOR_PATH = /([mMlLvVhHcCsSqQtTaAzZ]([^mMlLvVhHcCsSqQtTaAzZ]*))/g;\nconst splitReg = /[\\b\\t \\,]/g;\nvar numberReg = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/ig\nexport default class PathParser {\n\n    /**\n     * \n     * @param {string} pathString  SVG Path \n     */\n    constructor(pathString = '') {\n        this.reset(pathString);\n    }\n\n    reset(pathString = '') {\n        this.segments = [];\n        this.pathString = pathString.trim();\n\n        this.parse()\n    }\n\n    resetSegments(segments) {\n        this.segments = segments || []\n        this.pathString = this.joinPath()\n\n        return this;\n    }\n\n    trim(str = '') {\n        var arr = str.match(numberReg) || []\n        return arr.filter(it => it != '');\n    }\n\n    parse() {\n        var arr = this.pathString.match(REG_PARSE_NUMBER_FOR_PATH) || [];\n\n        this.segments = arr.map(s => {\n            var command = s[0]\n            var values = this.trim(s.replace(command, '')).map(it => +it);\n\n            return { command, values }\n        });\n\n        //        \n        //    transform      . \n        //         \n        //          . \n        this.segments = this.segments.map((s, index) => {\n            switch (s.command) {\n                case 'm':\n                    var prev = this.segments[index - 1]\n\n                    if (prev && (prev.command == 'z' || prev.command == 'Z')) {\n                        prev = this.segments[index - 2]\n                    }\n                    var x = prev?.values[prev.values.length - 2] || 0\n                    var y = prev?.values[prev.values.length - 1] || 0\n\n                    for (var i = 0, len = s.values.length; i < len; i += 2) {\n                        s.values[i] += x\n                        s.values[i + 1] += y\n                    }\n\n                    return {\n                        command: s.command.toUpperCase(),\n                        values: [...s.values]\n                    };\n                case 'c':\n                case 'l':\n                case 'q':\n                case 's':\n                case 't':\n                case 'v':\n                case 'h':\n                    var prev = this.segments[index - 1]\n                    var x = prev?.values[prev.values.length - 2] || 0\n                    var y = prev?.values[prev.values.length - 1] || 0\n\n                    for (var i = 0, len = s.values.length; i < len; i += 2) {\n                        s.values[i] += x\n                        s.values[i + 1] += y\n                    }\n\n                    return {\n                        command: s.command.toUpperCase(),\n                        values: [...s.values]\n                    };\n                case 'z':\n                    return {\n                        command: s.command.toUpperCase(),\n                        values: []\n                    }\n                default:\n                    return s;\n            }\n        })\n    }\n\n    convertGenerator() {\n\n        var points = []\n\n        for (var index = 0, len = this.segments.length; index < len; index++) {\n            var s = this.segments[index]\n            var nextSegment = this.segments[index + 1]\n            const { command, values } = s;\n\n            if (command === 'M') {\n                var [x, y] = values\n                points.push({\n                    command,\n                    originalCommand: command,\n                    startPoint: { x, y },\n                    endPoint: { x, y },\n                    reversePoint: { x, y },\n                    curve: false\n                })\n            } else if (command === 'L') {\n                var prevPoint = Point.getPrevPoint(points, points.length);\n\n                if (prevPoint.curve) {\n                    var [x, y] = values\n                    points.push({\n                        command,\n                        originalCommand: command,\n                        startPoint: { x, y },\n                        endPoint: { x, y },\n                        reversePoint: clone(prevPoint.endPoint),\n                        curve: true\n                    })\n                } else {\n\n                    var [x, y] = values\n                    points.push({\n                        command,\n                        originalCommand: command,\n                        startPoint: { x, y },\n                        endPoint: { x, y },\n                        reversePoint: { x, y },\n                        curve: false\n                    })\n                }\n\n            } else if (command === 'Q') {\n                var [cx1, cy1, x, y] = values;\n                var prevPoint = Point.getPrevPoint(points, points.length);\n\n                if (prevPoint.curve) {  //  Q     \n                    var startPoint = { x, y }\n                    var endPoint = { x, y }\n                    var reversePoint = { x, y }\n                    points.push({\n                        command: 'L',\n                        originalCommand: command,\n                        startPoint,\n                        endPoint,\n                        reversePoint,\n                        curve: false\n                    })\n\n                    prevPoint.endPoint = { x: cx1, y: cy1 }\n\n                } else {\n\n\n                    if (nextSegment && nextSegment.command === 'L') {\n                        prevPoint.curve = true;\n                        prevPoint.endPoint = { x: cx1, y: cy1 }\n\n                        var startPoint = { x, y }\n                        var reversePoint = { x, y }\n                        var endPoint = { x, y }\n\n                        points.push({\n                            command: 'L',\n                            originalCommand: command,\n                            curve: false,\n                            startPoint,\n                            endPoint,\n                            reversePoint\n                        })\n\n                    } else {\n\n                        var startPoint = { x, y }\n                        var reversePoint = { x: cx1, y: cy1 }\n                        var endPoint = { x, y }\n\n                        points.push({\n                            command,\n                            originalCommand: command,\n                            curve: true,\n                            startPoint,\n                            endPoint,\n                            reversePoint\n                        })\n                    }\n\n\n                }\n            } else if (command === 'T') {\n                var [x, y] = values;\n                // T   Q    \n                // Q  Control Point  Control Point    . \n                var prevSegment = segments[index - 1]\n\n                if (prevSegment && prevSegment.command === 'Q') {\n                    var [cx1, cy1, sx, sy] = prevSegment.values\n\n                    var prevPoint = Point.getPrevPoint(points, points.length)\n                    prevPoint.endPoint = Point.getReversePoint({ x: sx, y: sy }, { x: cx1, y: cy1 });\n\n                    var startPoint = { x, y }\n                    var endPoint = { x, y }\n                    var reversePoint = { x, y }\n                    points.push({\n                        command: 'L',\n                        originalCommand: command,\n                        startPoint,\n                        endPoint,\n                        reversePoint,\n                        curve: false\n                    })\n                }\n\n\n            } else if (command === 'C') {\n\n                var prevPoint = Point.getPrevPoint(points, points.length)\n\n                var [cx1, cy1, cx2, cy2, x, y] = values;\n                var startPoint = { x, y }\n                var reversePoint = { x: cx2, y: cy2 }\n                var endPoint = { x, y }\n\n                points.push({\n                    command,\n                    originalCommand: command,\n                    curve: true,\n                    startPoint,\n                    endPoint,\n                    reversePoint\n                })\n\n                if (prevPoint) {\n                    prevPoint.curve = true;\n                    prevPoint.endPoint = { x: cx1, y: cy1 }\n                }\n            } else if (command === 'S') {\n                var [x, y] = values;\n                // S   C,S    \n                // S  Control Point  Control Point    . \n                var prevSegment = segments[index - 1]\n\n                if (prevSegment && prevSegment.command === 'C') {\n                    var [cx2, cy2, sx, sy] = prevSegment.values\n\n                    var prevPoint = Point.getPrevPoint(points, points.length)\n                    prevPoint.endPoint = Point.getReversePoint(prevPoint.startPoint, prevPoint.reversePoint);\n\n                    var startPoint = { x, y }\n                    var endPoint = { x, y }\n                    var reversePoint = { x: cx2, y: cy2 }\n                    points.push({\n                        command: 'Q',\n                        originalCommand: command,\n                        startPoint,\n                        endPoint,\n                        reversePoint,\n                        curve: false\n                    })\n                }\n\n\n            } else if (command === 'Z') {\n                var prevPoint = Point.getPrevPoint(points, points.length);\n                var firstPoint = Point.getFirstPoint(points, points.length);\n\n                if (Point.isEqual(prevPoint.startPoint, firstPoint.startPoint)) {\n                    prevPoint.connected = true;\n\n                    prevPoint.endPoint = clone(firstPoint.endPoint)\n                    firstPoint.reversePoint = clone(prevPoint.reversePoint)\n                }\n\n                prevPoint.close = true;\n\n            }\n        }\n\n        points = points.filter(p => !!p);\n\n        return points;\n    }\n\n    length() {\n        return this.segments.length;\n    }\n\n    setSegments(index, seg) {\n        this.segments[index] = seg;\n    }\n\n    getSegments(index) {\n        if (isNotUndefined(index)) {\n            return this.segments[index];\n        }\n        return this.segments;\n    }\n\n    joinPath(segments) {\n        var list = (segments || this.segments);\n        return list.map(it => {\n            return `${it.command} ${it.values.length ? it.values.join(' ') : ''}`\n        }).join('')\n    }\n\n    each(callback, isReturn = false) {\n        var newSegments = this.segments.map((segment, index) => {\n            return callback.call(this, segment, index);\n        })\n\n        if (isReturn) {\n            return newSegments;\n        } else {\n            this.segments = newSegments;\n        }\n    }\n\n    _loop(m, isReturn = false) {\n        return this.each(function (segment) {\n            var v = segment.values;\n            var c = segment.command;\n\n            switch (c) {\n                case 'M':\n                case 'L':\n                    var result = m(v, 0);\n                    segment.values = [result[0], result[1]];\n                    break;\n                case 'V':\n                    var result = m([+v[0], 0]);\n                    segment.values = [result[0]];\n                    break;\n                case 'H':\n                    var result = m([0, +v[0]]);\n                    segment.values = [result[1]];\n                    break;\n                case 'C':\n                case 'S':\n                case 'T':\n                case 'Q':\n                    for (var i = 0, len = v.length; i < len; i += 2) {\n                        var result = m(v, i);\n                        segment.values[i] = result[0];\n                        segment.values[i + 1] = result[1];\n                    }\n                    break;\n                case 'A':\n\n                    break;\n            }\n\n            return segment;\n\n        }, isReturn);\n    }\n\n    clone() {\n        const path = new PathParser();\n\n        path.resetSegments(this.segments.map(it => {\n            return {\n                command: it.command,\n                values: it.values.slice()\n            }\n        }));\n\n        return path;\n    }\n\n    translate(tx, ty) {\n        this.transformMat4(mat4.fromTranslation([], [tx, ty, 0]));\n        return this;\n    }\n\n    translateTo(tx, ty) {\n        return this.joinPath(this.transformMat4(mat4.fromTranslation([], [tx, ty, 0]), true));\n    }\n\n    scale(sx, sy) {\n        this.transformMat4(mat4.fromScaling([], [sx, sy, 1]));\n        return this;\n    }\n\n    scaleTo(sx, sy) {\n        return this.joinPath(this.transformMat4(mat4.fromScaling([], [sx, sy, 1]), true));\n    }\n\n    rotate(angle, centerX = 0, centerY = 0) {\n        const view = mat4.create();\n        mat4.multiply(view, view, mat4.fromTranslation([], [centerX, centerY, 0]))\n        mat4.multiply(view, view, mat4.fromZRotation([], degreeToRadian(angle)))\n        mat4.multiply(view, view, mat4.fromTranslation([], vec3.negate([], [centerX, centerY, 0])))\n\n        this.transformMat4(view);\n        return this;\n    }\n\n    rotateTo(angle, centerX = 0, centerY = 0) {\n\n        const view = mat4.create();\n        mat4.multiply(view, view, mat4.fromTranslation([], [centerX, centerY, 0]))\n        mat4.multiply(view, view, mat4.fromZRotation([], degreeToRadian(angle)))\n        mat4.multiply(view, view, mat4.fromTranslation([], vec3.negate([], [centerX, centerY, 0])))\n\n        return this.joinPath(this.transformMat4(view, true))\n    }\n\n    reflectionOrigin() {\n        this.transformMat4(mat4.fromScaling([], [-1, -1, 0]))\n        return this;\n    }\n\n    reflectionOriginTo() {\n        return this.joinPath(\n            this.transformMat4(\n                mat4.fromScaling([], [-1, -1, 0]),\n                true\n            )\n        )\n    }\n\n    flipX() {\n        this.transformMat4(mat4.fromScaling([], [1, -1, 0]))\n        return this;\n    }\n\n    flipXTo() {\n        return this.joinPath(\n            this.transformMat4(\n                mat4.fromScaling([], [1, -1, 0]),\n                true\n            )\n        )\n    }\n\n    flipY() {\n        this.transformMat4(mat4.fromScaling([], [-1, 1, 0]))\n        return this;\n    }\n\n    flipYTo() {\n        return this.joinPath(\n            this.transformMat4(\n                mat4.fromScaling([], [-1, 1, 0]),\n                true\n            )\n        )\n    }\n\n\n    skewX(angle) {\n        this.transformMat4(\n            mat4.fromValues(\n                1, Math.tan(degreeToRadian(angle)), 0, 0,\n                0, 1, 0, 0,\n                0, 0, 1, 0,\n                0, 0, 0, 1\n            )\n        )\n        return this;\n    }\n\n\n    skewXTo(angle) {\n        return this.joinPath(\n            this.transformMat4(\n                mat4.fromValues(\n                    1, Math.tan(degreeToRadian(angle)), 0, 0,\n                    0, 1, 0, 0,\n                    0, 0, 1, 0,\n                    0, 0, 0, 1\n                ),\n                true\n            )\n        )\n    }\n\n    skewY(angle) {\n        this.transformMat4(\n            mat4.fromValues(\n                1, 0, 0, 0,\n                Math.tan(degreeToRadian(angle)), 1, 0, 0,\n                0, 0, 1, 0,\n                0, 0, 0, 1\n            )\n        )\n        return this;\n    }\n\n    skewYTo(angle) {\n        return this.joinPath(\n            this.transformMat4(\n                mat4.fromValues(\n                    1, 0, 0, 0,\n                    Math.tan(degreeToRadian(angle)), 1, 0, 0,\n                    0, 0, 1, 0,\n                    0, 0, 0, 1\n                ),\n                true\n            )\n        )\n    }\n\n    /**\n     *  path   curve  . \n     */\n    normalize() {\n\n        const allSegments = []\n\n        const groupList = this.getGroup();\n\n        groupList.forEach(group => {\n\n            const newSegments = [];\n\n            group.segments.forEach(({ segment, index }) => {\n                const prevSegment = group.segments[index - 1]?.segment;\n\n                if (segment.command === 'M') {\n                    newSegments.push(segment);\n                    return;\n                } else if (segment.command === 'L') {\n                    newSegments.push({\n                        command: 'C',\n                        values: [\n                            prevSegment.values[0] + (segment.values[0] - prevSegment.values[0]) * 0.33,\n                            prevSegment.values[1] + (segment.values[1] - prevSegment.values[1]) * 0.33,\n                            prevSegment.values[0] + (segment.values[0] - prevSegment.values[0]) * 0.66,\n                            prevSegment.values[1] + (segment.values[1] - prevSegment.values[1]) * 0.66,\n                            segment.values[0],\n                            segment.values[1]\n                        ]\n                    });\n                    return;\n                } else if (segment.command === 'C') {\n                    newSegments.push(segment);\n                } else if (segment.command === 'Q') {\n                    prevSegment.values[0];\n\n                    const twoOfThree = 2/3;\n\n                    newSegments.push({\n                        command: 'C',\n                        values: [\n                            // C1 = Q0 + (2/3) (Q1 - Q0)\n                            prevSegment.values[0] + twoOfThree*(segment.values[0] - prevSegment.values[0]),\n                            prevSegment.values[1] + twoOfThree*(segment.values[1] - prevSegment.values[1]),\n\n                            // C2 = Q2 + (2/3) (Q1 - Q2)\n                            segment.values[2] + twoOfThree*(segment.values[0] - segment.values[2]),\n                            segment.values[3] + twoOfThree*(segment.values[1] - segment.values[3]),\n\n                            // C3 = Q2\n                            segment.values[2],\n                            segment.values[3]\n                        ]\n                    });\n                } else if (segment.command === 'Z') {\n                    newSegments.push(segment);\n                }\n            })\n\n            allSegments.push(...newSegments);\n        })\n\n        const normalizedPath = new PathParser();\n        normalizedPath.resetSegments(allSegments);\n\n        return normalizedPath;\n    }\n\n    divideSegmentByCount(count = 1) {\n        const allSegments = [];\n        const groupList = this.getGroup();\n\n        groupList.forEach(group => {\n            const newSegments = [];\n            group.segments.forEach(({ segment, index }) => {\n                const prevSegment = group.segments[index - 1]?.segment;\n                const nextSegment = group.segments[index + 1]?.segment;\n\n                if (segment.command === 'M') {\n                    newSegments.push(segment);\n                    return;\n                } else if (segment.command === 'L') {\n\n                    const linePoints = splitBezierPointsLineByCount([\n                        {\n                            x: prevSegment.values[prevSegment.values.length - 2],\n                            y: prevSegment.values[prevSegment.values.length - 1]\n                        },\n                        {\n                            x: segment.values[0],\n                            y: segment.values[1]\n                        }\n                    ], count)\n                    \n                    linePoints.forEach(([start, end]) => {\n                        newSegments.push(Segment.L(end.x, end.y));\n                    })\n                } else if (segment.command === 'Q') {\n\n                    const quardPoints = splitBezierPointsQuardByCount([\n                        {\n                            x: prevSegment.values[prevSegment.values.length - 2],\n                            y: prevSegment.values[prevSegment.values.length - 1]\n                        },\n                        {\n                            x: segment.values[0],\n                            y: segment.values[1]\n                        },\n                        {\n                            x: segment.values[2],\n                            y: segment.values[3]\n                        }                        \n                    ], count)\n                    \n                    quardPoints.forEach(([start, middle, end]) => {\n                        newSegments.push(Segment.Q(middle.x, middle.y, end.x, end.y));\n                    })\n                } else if (segment.command === 'C') {\n\n                    const curvePoints = splitBezierPointsByCount([\n                        {\n                            x: prevSegment.values[prevSegment.values.length - 2],\n                            y: prevSegment.values[prevSegment.values.length - 1]\n                        },\n                        {\n                            x: segment.values[0],\n                            y: segment.values[1]\n                        },\n                        {\n                            x: segment.values[2],\n                            y: segment.values[3]\n                        },\n                        {\n                            x: segment.values[4],\n                            y: segment.values[5]\n                        }\n                    ], count)\n\n                    curvePoints.forEach(([start, c1, c2, end]) => {\n                        newSegments.push(Segment.C(c1.x, c1.y, c2.x, c2.y, end.x, end.y));\n                    })\n                } else if (segment.command === 'Z') {\n                    newSegments.push(segment);                    \n                }    \n            })\n\n            allSegments.push(...newSegments);            \n        })\n\n        const normalizedPath = new PathParser();\n        normalizedPath.resetSegments(allSegments);\n\n        return normalizedPath;\n    }\n\n    getBBox() {\n\n        let minX = Number.MAX_SAFE_INTEGER, minY = Number.MAX_SAFE_INTEGER;\n        let maxX = Number.MIN_SAFE_INTEGER, maxY = Number.MIN_SAFE_INTEGER;\n\n        this.each(function (segment, index) {\n            var v = segment.values;\n            var c = segment.command;\n            const prevSegment = this.segments[index - 1];\n            const accurancy = 1 / 10000;\n\n            switch (c) {\n                case 'M':\n                case 'L':\n\n                    minX = Math.min(minX, v[0])\n                    maxX = Math.max(maxX, v[0])\n\n                    minY = Math.min(minY, v[1])\n                    maxY = Math.max(maxY, v[1])\n                    break;\n                case 'V':\n                    minX = Math.min(minX, v[0])\n                    maxX = Math.max(maxX, v[0])\n                    break;\n                case 'H':\n                    minY = Math.min(minY, v[1])\n                    maxY = Math.max(maxY, v[1])\n                    break;\n                case 'C':\n                    getCurveBBox([\n                        [prevSegment.values[prevSegment.values.length - 2], prevSegment.values[prevSegment.values.length - 1], 0],\n                        [v[0], v[1], 0],\n                        [v[2], v[3], 0],\n                        [v[4], v[5], 0],\n                    ]).forEach(p => {\n                        minX = Math.min(minX, p[0])\n                        maxX = Math.max(maxX, p[0])\n\n                        minY = Math.min(minY, p[1])\n                        maxY = Math.max(maxY, p[1])\n                    })\n                    break;\n                case 'Q':\n                    // TODO:     . \n                    const newPoints = [\n                        [prevSegment.values[prevSegment.values.length - 2], prevSegment.values[prevSegment.values.length - 1], 0],\n                        [v[0], v[1], 0],\n                        [v[2], v[3], 0],\n                    ].map(p => {\n                        return { x: p[0], y: p[1] }\n                    })\n                    for (var i = 0; i <= 1; i += accurancy) {\n                        const { x, y } = getBezierPointOneQuard(newPoints, i);\n\n                        minX = Math.min(minX, x)\n                        maxX = Math.max(maxX, x)\n\n                        minY = Math.min(minY, y)\n                        maxY = Math.max(maxY, y)\n                    }\n                    break;\n                case 'A':\n\n                    break;\n            }\n\n            return segment;\n        });\n\n        return [\n            [minX, minY, 0],\n            [maxX, minY, 0],\n            [maxX, maxY, 0],\n            [minX, maxY, 0],\n        ]\n    }\n\n    rect () {\n        const bbox = this.getBBox();\n\n        return {\n            x: bbox[0][0],\n            y: bbox[0][1],\n            width: vec3.distance(bbox[0], bbox[1]),\n            height: vec3.distance(bbox[0], bbox[3]),\n            right: bbox[0][0] + vec3.distance(bbox[0], bbox[1]),\n            bottom: bbox[0][1] + vec3.distance(bbox[0], bbox[3]),\n        }\n    }\n\n    /**\n     * x, y      . \n     * \n     * L, C, Q   . \n     * \n     * @param {{x: number, y: number}} param0 \n     * @param {number} count \n     * @returns \n     */\n    getClosedPointInfo({ x, y }, count = 20) {\n\n        let minDist = Number.MAX_SAFE_INTEGER;\n        let targetInfo = {};\n        let info = {}\n\n        for (var i = 1, len = this.segments.length; i < len; i++) {\n\n            const segment = this.segments[i];\n\n            const prev = this.segments[i - 1].values\n            const current = segment.values\n            const command = segment.command;\n            const lastPoint = { x: prev[prev.length - 2], y: prev[prev.length - 1] }\n\n\n            if (command === 'C') {\n                var points = [\n                    lastPoint,\n                    { x: current[0], y: current[1] },\n                    { x: current[2], y: current[3] },\n                    { x: current[4], y: current[5] },\n                ]\n\n                var curve = recoverBezier(...points, count)\n                var t = curve(x, y);\n\n                info = {\n                    segment,\n                    index: i,\n                    t,\n                    points,\n                    targetPoint: getBezierPoints(points, t).first[3]\n                }\n            } else if (command === 'Q') {\n                var points = [\n                    lastPoint,\n                    { x: current[0], y: current[1] },\n                    { x: current[2], y: current[3] },\n                ]\n\n                var curve = recoverBezierQuard(...points, count)\n                var t = curve(x, y);\n\n                info = {\n                    segment,\n                    index: i,\n                    t,\n                    points,\n                    targetPoint: getBezierPointsQuard(points, t).first[2]\n                }\n            } else if (command === 'L') {\n                var points = [\n                    lastPoint,\n                    { x: current[0], y: current[1] },\n                ]\n\n                var curve = recoverBezierLine(...points, count)\n                var t = curve(x, y);\n\n                info = {\n                    segment,\n                    index: i,\n                    t,\n                    points,\n                    targetPoint: getBezierPointsLine(points, t).first[1]\n                }\n            }\n\n            if (info) {\n                var dist = Math.sqrt(Math.pow(info.targetPoint.x - x, 2) + Math.pow(info.targetPoint.y - y, 2))\n\n                if (dist < minDist) {\n                    minDist = dist;\n                    targetInfo = info;\n                }\n            }\n\n        }\n\n        return targetInfo\n    }\n\n\n    /**\n     * x, y      . \n     * \n     * L, C, Q   . \n     * \n     * @param {{x: number, y: number}} param0 \n     * @param {number} count \n     * @returns \n     */\n    getClosedPoint({ x, y }, count = 20) {\n\n        const info = this.getClosedPointInfo({ x, y }, count);\n\n        if (info.targetPoint) {\n            return info.targetPoint;\n        }\n\n        return { x, y };\n    }\n\n    /**\n     * \n     * x, y  path   point  . \n     * \n     * @param {{x: number, y: number}} param0 \n     * @param {number} dist \n     * @returns \n     */\n    isPointInPath({ x, y }, dist = 1) {\n        const info = this.getClosedPointInfo({ x, y }, 20);\n\n        if (info.targetPoint) {\n            if (vec3.dist([info.targetPoint.x, info.targetPoint.y, 0], [x, y, 0]) <= dist) {\n                return true; \n            }\n        }\n\n        return false;\n    }\n\n    get d() {\n        return this.toString().trim();\n    }\n\n    toString() {\n        return this.joinPath()\n    }\n\n    transformMat4(transformMatrix, isReturn = false) {\n        return this.each(function (segment) {\n            var v = segment.values;\n            var c = segment.command;\n\n            switch (c) {\n                case 'M':\n                case 'L':\n                    var result = vec3.transformMat4([], [v[0], v[1], 0], transformMatrix);\n                    segment.values = [result[0], result[1]]\n                    break;\n                case 'V':\n                    var result = vec3.transformMat4([], [+v[0], 0, 0], transformMatrix)\n                    segment.values = [result[0]];\n                    break;\n                case 'H':\n                    var result = vec3.transformMat4([], [0, +v[0], 0], transformMatrix)\n                    segment.values = [result[1]];\n                    break;\n                case 'C':\n                case 'S':\n                case 'T':\n                case 'Q':\n                    for (var i = 0, len = v.length; i < len; i += 2) {\n                        var result = vec3.transformMat4([], [v[i], v[i + 1], 0], transformMatrix)\n                        segment.values[i] = result[0];\n                        segment.values[i + 1] = result[1];\n                    }\n                    break;\n                case 'A':\n\n                    break;\n            }\n\n            return segment;\n\n        }, isReturn);\n    }\n\n    invert(transformMatrix) {\n        this.transformMat4(mat4.invert([], transformMatrix));\n    }\n\n    round(k = 1) {\n        this.each(function (segment) {\n            segment.values = segment.values.map(it => round(it, k));\n\n            return segment;\n        });\n\n        return this;\n    }\n\n    reverseSegments(segments) {\n        const newSegments = [];\n        let lastIndex = segments.length - 1;\n        for (var i = lastIndex; i > 0; i--) {\n            const segment = segments[i];\n            const v = segment.values;\n            const c = segment.command;\n            const prevSegment = segments[i - 1];\n            const lastX = prevSegment.values[prevSegment.values.length - 2];\n            const lastY = prevSegment.values[prevSegment.values.length - 1];\n\n            switch (c) {\n                case 'L':\n\n                    if (i === lastIndex) {        // last   \n                        newSegments.push({ command: 'M', values: [v[0], v[1]] })\n                    }\n\n                    newSegments.push({ command: 'L', values: [lastX, lastY] })\n                    break;\n                case 'C':\n\n                    if (i === lastIndex) {        // last   \n                        newSegments.push({ command: 'M', values: [v[4], v[5]] })\n                    }\n\n                    newSegments.push({ command: 'C', values: [v[2], v[3], v[0], v[1], lastX, lastY] })\n                    break;\n                case 'Q':\n\n                    if (i === lastIndex) {        // last   \n                        newSegments.push({ command: 'M', values: [v[2], v[3]] })\n                    }\n\n                    newSegments.push({ command: 'Q', values: [v[0], v[1], lastX, lastY] })\n                    break;\n                case 'Z':\n                    newSegments.push(segment);\n                    lastIndex = i - 1;\n                    break;\n            }\n        }\n\n        // z     z    . \n        if (newSegments[0].command === 'Z') {\n            newSegments.push(newSegments.shift());\n        }\n\n        return newSegments;\n    }\n\n    /**\n     * segments  M   . \n     */\n    splitSegments() {\n\n        const groupSegments = []\n        let newSegments = []\n        this.segments.forEach(s => {\n            if (s.command === 'M') {\n                newSegments = [s]\n                groupSegments.push(newSegments);\n            } else {\n                newSegments.push(s);\n            }\n        })\n\n        return groupSegments;\n    }\n\n    /**\n     * path  segment   . \n     * \n     * M    group    . \n     * \n     * groupIndex  0   group  . \n     * \n     * @param {number} groupIndex \n     * @returns {PathParser}\n     */\n    reverse(...groupIndexList) {\n        const groupSegments = this.splitSegments();\n        const newSegments = []\n\n        if (groupIndexList.length === 0) {\n            groupSegments.forEach((segments, index) => {\n                newSegments.push.apply(newSegments, this.reverseSegments(segments));\n            })\n        } else {\n            groupSegments.forEach((segments, index) => {\n                if (groupIndexList.includes(index)) {\n                    newSegments.push.apply(newSegments, this.reverseSegments(segments));\n                } else {\n                    newSegments.push.apply(newSegments, segments);\n                }\n            })\n        }\n\n        this.resetSegments(newSegments);\n    }\n\n    get verties() {\n        let arr = []\n\n        let lastValues = []\n        this.each(function (segment) {\n            var v = segment.values;\n            var c = segment.command;\n\n            switch (c) {\n                case 'M':\n                case 'L':\n                    arr.push([...segment.values, 0])\n                    break;\n                case 'V':\n                    arr.push([v[0], lastValues.pop(), 0])\n                    break;\n                case 'H':\n                    lastValues.pop()\n                    arr.push([lastValues.pop(), v[0], 0])\n                    break;\n                case 'C':\n                case 'S':\n                case 'T':\n                case 'Q':\n                    for (var i = 0, len = v.length; i < len; i += 2) {\n                        arr.push([v[i], v[i + 1], 0]);\n                    }\n                    break;\n                case 'A':\n\n                    break;\n            }\n\n            lastValues = v;\n\n        });\n\n        return arr;\n    }\n\n    /**\n     *      .\n     * \n     * @returns {{index: number, pointer: vec3}[]}\n     */\n    getCenterPointers() {\n        let arr = []\n\n        let lastValues = []\n        this.segments.forEach((segment, index) => {\n            var v = segment.values;\n            var c = segment.command;\n\n            switch (c) {\n                case 'M':\n                case 'L':\n                    arr.push({\n                        index,\n                        pointer: [...segment.values, 0]\n                    })\n                    break;\n                case 'V':\n                    arr.push({\n                        index,\n                        pointer: [v[0], lastValues.pop(), 0]\n                    })\n                    break;\n                case 'H':\n                    lastValues.pop()\n                    arr.push({\n                        index,\n                        pointer: [lastValues.pop(), v[0], 0]\n                    })\n                    break;\n                case 'C':\n                case 'S':\n                case 'T':\n                case 'Q':\n                    arr.push({\n                        index,\n                        pointer: [v[v.length - 2], v[v.length - 1], 0]\n                    });\n                    break;\n                case 'A':\n\n                    break;\n            }\n\n            lastValues = clone(v);\n\n        });\n\n        return arr;\n\n    }\n\n    /**\n     *      . \n     * \n     * @param {vec3} pointer \n     * @param {number} [dist=0]\n     * @returns \n     */\n    getSamePointers(pointer, dist = 0) {\n        return this.getCenterPointers().filter(p => {\n            if (vec3.distance(p.pointer, pointer) <= dist) {\n                return true;\n            }\n        });\n    }\n\n    /**\n     * @typedef Segment\n     * @type {object}\n     * @property {string} command\n     * @property {number[]} values\n     */\n\n    /**\n     * @typedef SegmentGroup\n     * @type {object}\n     * @property {number} index \n     * @property {number} groupIndex \n     * @property {Segment[]} segments\n     */\n\n    /**\n     * segments  M   . \n     * \n     * @returns {SegmentGroup[]}\n     */\n    getGroup() {\n\n        /**\n         * @type {SegmentGroup[]}\n         */\n        const groupSegments = []\n        let newSegments = []\n        this.segments.forEach((segment, index) => {\n            if (segment.command === 'M') {\n                newSegments = [{\n                    index,\n                    segment\n                }]\n                groupSegments.push({ index, groupIndex: groupSegments.length, segments: newSegments });\n            } else {\n                newSegments.push({\n                    index,\n                    segment\n                });\n            }\n        })\n\n        return groupSegments;\n    }\n\n    /**\n     * groupPath  \n     * \n     * @param {number} index  group index\n     * @returns \n     */\n    createGroupPath(index) {\n        const path = new PathParser();\n        path.resetSegments(this.getGroup()[index]?.segments?.map(it => {\n            return it.segment;\n        }) || []);\n\n        return path;\n    }\n\n\n    /**\n     * index   segment   segments   .\n     * \n     * @param {number} index \n     * @param  {object[]} segments \n     */\n    replaceSegment(index, ...segments) {\n        const newSegments = [...this.segments];\n        newSegments.splice(index, 1, ...segments)\n\n        this.resetSegments(newSegments);\n    }\n\n    /**\n     *   segment  \n     * \n     * @param {{x: number, y: number}} pos \n     * @param {number} [dist=0]\n     * @returns \n     */\n    splitSegmentByPoint(pos, dist = 0) {\n        const closedPointInfo = this.getClosedPointInfo(pos, dist);\n\n        if (closedPointInfo && closedPointInfo.t > 0 && closedPointInfo.t < 1) {\n            switch (closedPointInfo.segment.command) {\n                case \"C\":\n                    var list = getBezierPoints(closedPointInfo.points, closedPointInfo.t);\n\n                    var first = list.first;\n                    var firstSegment = Segment.C(first[1].x, first[1].y, first[2].x, first[2].y, first[3].x, first[3].y)\n\n                    var second = list.second;\n                    var secondSegment = Segment.C(second[1].x, second[1].y, second[2].x, second[2].y, second[3].x, second[3].y)\n\n                    this.replaceSegment(closedPointInfo.index, firstSegment, secondSegment);\n                    break;\n                case \"Q\":\n                    var list = getBezierPointsQuard(closedPointInfo.points, closedPointInfo.t);\n\n                    var first = list.first;\n                    var firstSegment = Segment.Q(first[1].x, first[1].y, first[2].x, first[2].y)\n                    var second = list.second;\n                    var secondSegment = Segment.Q(second[1].x, second[1].y, second[2].x, second[2].y)\n\n                    this.replaceSegment(closedPointInfo.index, firstSegment, secondSegment);\n                    break;\n                case \"L\":\n                    var list = getBezierPointsLine(closedPointInfo.points, closedPointInfo.t);\n\n                    var first = list.first;\n                    var firstSegment = Segment.L(first[1].x, first[1].y)\n                    var second = list.second;\n                    var secondSegment = Segment.L(second[1].x, second[1].y)\n\n                    this.replaceSegment(closedPointInfo.index, firstSegment, secondSegment);\n                    break;\n                default:\n                    return;\n            }\n\n            return closedPointInfo;\n        }\n\n\n    }\n\n    toggleCurve(index) {\n        const current = this.segments[index]\n        const command = current.command;\n\n        //   curve    ? \n        if (command === 'L') {\n            const right = this.segments[index + 1];\n\n            // current: , right:    \n            if (right.command === 'L') {\n                this.replaceSegment(index, Segment.C(current.x, current.y, right.x, right.y, right.x, right.y));\n            }\n\n        }\n    }\n\n    /**\n     * convert to multi segment path list \n     */\n    toMultiSegmentPathList() {\n        const paths = []\n\n        const group = this.getGroup();\n        group.forEach((group, index) => {\n            group.segments.forEach((s, index) => {\n                const prevSegment = group.segments[index - 1];\n                const lastValues = prevSegment?.segment?.values || [];\n                const lastX = lastValues[lastValues.length - 2];\n                const lastY = lastValues[lastValues.length - 1];\n                const values = s.segment.values;\n\n                if (s.segment.command === 'M') {\n                    // NOOP\n                } else if (s.segment.command === 'L') {\n                    paths.push(new PathParser(`M ${lastX} ${lastY}L ${values.join(' ')}`));\n                } else if (s.segment.command === 'C') {\n                    paths.push(new PathParser(`M ${lastX} ${lastY}C ${values.join(' ')}`));\n                } else if (s.segment.command === 'Q') {\n                    paths.push(new PathParser(`M ${lastX} ${lastY}Q ${values.join(' ')}`));\n                } else {\n                    // NOOP \n                }\n            })\n        });\n\n        return paths;\n    }\n\n}","import { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolatePathValues (layer, property, s, e) {\n\n    var max = Math.max(s.length, e.length)\n\n    var list = [] \n\n    var startLastPos = s[s.length-1]; \n    var endLastPos = e[e.length-1]; \n\n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        if (startPos && !endPos) {\n            list.push(makeInterpolateNumber(layer, property, startPos, endLastPos))\n        } else if (!startPos && endPos) {\n            list.push(makeInterpolateNumber(layer, property, startLastPos, endPos))            \n        } else {\n            list.push(makeInterpolateNumber(layer, property, startPos, endPos))\n        }\n        \n    }\n\n    return (rate, t) => {\n        return list.map(it => it(rate, t));\n    } \n}\n","import PathParser from \"el/editor/parser/PathParser\";\nimport { makeInterpolateIdentity } from \"../makeInterpolateIdentity\";\nimport { makeInterpolatePathValues } from \"./makeInterpolatePathValues\";\nimport { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\n\nexport function makeInterpolatePath (layer, property, startValue, endValue) {\n    var returnParser = new PathParser()        \n    var s = new PathParser(startValue);\n    var e = new PathParser(endValue);\n\n    var max = Math.max(s.segments.length, e.segments.length)\n\n    var list = [] \n\n    for(var i = 0; i < max; i++) {\n        var sc = s.segments[i];\n        var ec = e.segments[i];\n\n        if (sc.command === ec.command) {\n            if (sc.values.length === ec.values.length) {\n                list.push({\n                    command: makeInterpolateIdentity(layer, property, sc.command),\n                    values: makeInterpolatePathValues(layer, property, sc.values, ec.values),\n                })\n            } else {\n                list.push({\n                    command: makeInterpolateIdentity(layer, property, sc.command),\n                    values: makeInterpolateIdentity(layer, property, sc.values),\n                })\n            }\n        } else {\n            list.push({\n                command: makeInterpolateBoolean(layer, property, sc.command, ec.command),\n                values: makeInterpolateBoolean(layer, property, sc.values, ec.values),\n            })\n        }\n    }\n\n\n    return (rate, t) => {\n        var segments = list.map(it => {\n\n            return {\n                command: it.command(rate, t),\n                values: it.values(rate, t)\n            }\n        })\n        var results =  returnParser.joinPath(segments)\n\n        return results;\n    } \n}\n","import PathParser from \"./PathParser\";\n\nexport default class PathStringManager {\n    constructor () {\n        this.pathArray = [] \n    }\n\n    reset () {\n        this.pathArray = []\n    } \n\n    getPointString (values) {\n        return values.map(v => `${v.x} ${v.y}`).join(' ')\n    }\n\n    makeString (command, values = []) {\n        this.pathArray.push(`${command} ${this.getPointString(values)}`)\n        return this; \n    }\n\n    M (...values) {\n        return this.makeString('M', values);\n    }\n\n    L (...values) {\n        return this.makeString('L', values);\n    }    \n\n    /**\n     * x   \n     * \n     * @param  {Point[]} values \n     */\n    X (...values) {\n\n        const dist = 3; \n        const point = values[0]\n\n        const topLeft = {x: point.x - dist, y: point.y - dist}\n        const topRight = {x: point.x + dist, y: point.y - dist}\n        const bottomLeft = {x: point.x - dist, y: point.y + dist}\n        const bottomRight = {x: point.x + dist, y: point.y + dist}\n\n        return this.M(topLeft).L(bottomRight).M(topRight).L(bottomLeft);\n    }        \n\n    Q (...values) {\n        return this.makeString('Q', values);\n    }    \n\n    C (...values) {\n        return this.makeString('C', values);\n    }    \n\n    Z () {\n        return this.makeString('Z');\n    }        \n\n    get d () {\n        return this.pathArray.join(' ').trim();\n    }\n\n    toString (className = 'object') {\n        return /*html*/`<path d=\"${this.d}\" class='${className}'/>`\n    }\n\n    static makeRect (x, y, width, height) {\n        var d = new PathStringManager()\n            .M({x, y})\n            .L({x: x + width, y})\n            .L({x: x + width, y: y + height})\n            .L({x, y: y + height})\n            .L({x, y})\n            .Z()\n            .d\n\n        return d; \n    }\n\n\n    static makeLine (x, y, x2, y2) {\n        var d = new PathStringManager()\n            .M({x, y})\n            .L({x: x2, y: y2})\n            .d\n\n        return d; \n    }    \n\n    static makeCircle (x, y, width, height) {\n        // refer to https://stackoverflow.com/questions/1734745/how-to-create-circle-with-b%C3%A9zier-curves\n\n        var segmentSize = 0.552284749831;\n\n        var d = new PathStringManager()\n            .M({x: 0, y: -1})\n            .C({x: segmentSize, y: -1},{x: 1, y: -segmentSize},{x: 1, y: 0})\n            .C({x: 1, y: segmentSize},{x: segmentSize, y: 1},{x: 0, y: 1})\n            .C({x: -segmentSize, y: 1},{x: -1, y: segmentSize},{x: -1, y: 0})\n            .C({x: -1, y: -segmentSize},{x: -segmentSize, y: -1},{x: 0, y: -1})\n            .Z()\n            .d\n        var parser = new PathParser(d);\n\n        parser.translate(1, 1).scale(width/2, height/2).translate(x, y);\n\n        return parser.toString();\n    }\n\n    static makePathByPoints (points = []) {\n        var manager = new PathStringManager()\n\n        for(var i = 0, len = points.length; i < len; i++) {\n            const point = points[i];\n            if (i === 0) {\n                manager.M(point)\n            } else {\n                manager.L(point);\n            }\n        }\n\n        return manager.d;\n    }\n\n    static makePathByVerties (verties = []) {\n        var manager = new PathStringManager()\n\n        for(var i = 0, len = verties.length; i < len; i++) {\n            const [x, y, z] = verties[i];\n            if (i === 0) {\n                manager.M({x, y})\n            } else {\n                manager.L({x, y});\n            }\n        }\n\n        manager.L({x: verties[0][0], y: verties[0][1]});\n\n        return manager.d;\n    }\n\n    /**\n     *  \n     * \n     * @copilot\n     * @param {number} width \n     * @param {number} height \n     * @param {number} count \n     * @returns \n     */\n    static makePolygon (width, height, count = 3) {\n        var manager = new PathStringManager()\n        const centerX = width / 2;\n        const centerY = height / 2;\n\n        for(var i = 0; i < count; i++) {\n            var angle = (i / count) * Math.PI  * 2;\n            var x = Math.cos(angle) * centerX + centerX;\n            var y = Math.sin(angle) * centerY + centerY;\n            if (i === 0) {\n                manager.M({x, y})\n            } else {\n                manager.L({x, y});\n            }\n        }\n\n        manager.Z();\n\n        return manager.d;\n    }\n\n}\n\n","import PathParser from \"./PathParser\";\nimport PathStringManager from \"./PathStringManager\";\n\n\nconst splitReg = /[\\b\\t \\,]/g;\n \nexport default class PolygonParser extends PathParser {\n\n    constructor (points = '') {\n        super(points);\n    }\n\n    reset (points = '') {\n        this.segments =  [];\n        this.points = points; \n        \n        this.parse()\n    }\n\n    resetSegments (segments = []) {\n        this.segments = segments\n        this.points = this.joinPoints()\n    }\n\n    parse () {\n\n        var points = this.points;\n\n        if (Array.isArray(points)) {\n            points = points.join(' ');\n        }\n\n        var arr = points.trim().split(splitReg).filter(it => it);\n\n\n        var segments = [] \n\n        for(var i = 0, len = arr.length; i < len; i += 2) {\n            segments.push({ x : +arr[i], y : +arr[i+1] });\n        }\n        this.segments = segments;\n    }\n\n    convertGenerator () {\n        return this.segments;\n    }\n\n    length () {\n        return this.segments.length;\n    }\n\n    toPathString () {\n\n        var path = new PathStringManager()\n\n        for(var i = 0, len = this.segments.length; i < len ; i++) {\n            var s = this.segments[i];\n\n            if (i === 0) {\n                path.M(s)\n            } else if (i === len - 1) {\n                path.L(s).L(this.segments[0]).Z();  //   . \n            } else {\n                path.L(s);\n            }\n        }\n\n        return path.d;\n    }\n\n    joinPath(segments) {\n        return this.joinPoints(segments)\n    }\n\n\tjoinPoints (segments) {\n        var list = (segments || this.segments);\n\n        return list.map(it => {\n            return `${it.x},${it.y}`\n        }).join(' ')\n    }\n\n    each (callback, isReturn = false) {\n\n        var newSegments = this.segments.map(segment => {\n            return callback.call(this, segment);\n        })\n\n        if (isReturn) {\n            return newSegments;\n        } else {\n            this.segments = newSegments;\n        }\n    }\n\n    _loop (m, isReturn = false) {\n        return this.each(function(segment) {\n            var [x, y] = m([segment.x, segment.y], 0)\n\n            segment.x = x; \n            segment.y = y; \n\n            return segment;\n\n        }, isReturn);\n    }\n\n    clone () {\n        return new PolygonParser(this.joinPoints());\n    }\n\n    toString() {\n        return this.joinPoints()\n    }\n}","import PolygonParser from \"el/editor/parser/PolygonParser\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolatePolygon (layer, property, startValue, endValue) {\n\n    var returnParser = new PolygonParser()        \n    var s = new PolygonParser(startValue);\n    var e = new PolygonParser(endValue);\n\n    var max = Math.max(s.segments.length, e.segments.length)\n\n    var list = [] \n\n    var startLastX = s.segments[s.segments.length-1].x; \n    var startLastY = s.segments[s.segments.length-1].y; \n    var endLastX = e.segments[e.segments.length-1].x; \n    var endLastY = e.segments[e.segments.length-1].y; \n\n    for(var i = 0; i < max; i++) {\n        var startPos = s.segments[i];\n        var endPos = e.segments[i];\n\n        if (startPos && !endPos) {\n            list.push({\n                x: makeInterpolateNumber(layer, property, startPos.x, endLastX),\n                y: makeInterpolateNumber(layer, property, startPos.y, endLastY),\n            })\n        } else if (!startPos && endPos) {\n            list.push({\n                x: makeInterpolateNumber(layer, property, startLastX, endPos.x),\n                y: makeInterpolateNumber(layer, property, startLastY, endPos.y),\n            })\n        } else {\n            list.push({\n                x: makeInterpolateNumber(layer, property, startPos.x, endPos.x),\n                y: makeInterpolateNumber(layer, property, startPos.y, endPos.y)\n            })\n        }\n        \n    }\n\n    return (rate, t) => {\n        var points = returnParser.joinPoints(list.map(it => {\n            return {\n                x: it.x(rate, t),\n                y: it.y(rate, t)\n            }\n        }))\n\n        return points;\n    } \n}\n","import { makeInterpolateNumber } from \"../makeInterpolateNumber\"\n\nexport default function makeInterpolateLine (x1, y1, x2, y2) {\n\n    var obj = {\n        x: makeInterpolateNumber('', '', x1, x2),\n        y: makeInterpolateNumber('', '', y1, y2),\n    }\n\n    return (rate, t) => {\n        var results = {\n            x: obj.x(rate, t),\n            y: obj.y(rate, t)\n        }\n\n        // console.log({x: results.x , t, x1, x2 })\n\n        return results\n    }\n}","import { getBezierPointOneQuard } from \"el/utils/bezier\"\n\nexport default function makeInterpolateQuard (sx, sy, cx1, cy1, ex, ey) {\n\n    var points = [\n        {x: sx, y: sy},\n        {x: cx1, y: cy1},\n        {x: ex, y: ey}\n    ]\n\n    return (rate, t) => {\n        return getBezierPointOneQuard(points, t)  // return {x, y}\n    }\n}","import { getBezierPointOne } from \"el/utils/bezier\"\n\nexport default function makeInterpolateCubic (sx, sy, cx1, cy1, cx2, cy2, ex, ey) {\n\n    var points = [\n        {x: sx, y: sy},\n        {x: cx1, y: cy1},\n        {x: cx2, y: cy2},\n        {x: ex, y: ey}\n    ]\n\n    return (rate, t) => {\n        return getBezierPointOne(points, t)  // return {x, y}\n    }\n}","import PathParser from \"el/editor/parser/PathParser\";\nimport makeInterpolateOffset from \"./offset-path/makeInterpolateOffset\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { calculateAngle } from \"el/utils/math\";\nimport { Transform } from \"../../property-parser/Transform\";\n\nexport function makeInterpolateOffsetPath(layer, property, startValue, endValue, artboard) {\n\n    var [id, distance, rotateStatus, rotate] = startValue.split(',').map(it =>it.trim());\n\n    var startObject = {id, distance: Length.parse(distance || '0%'), rotateStatus: rotateStatus || 'auto', rotate: Length.parse(rotate || '0deg') }\n\n    var innerInterpolate = (rate, t) => {\n        return { x, y }\n    }\n\n    var innerInterpolateAngle = (rotateStatus, currentAngle) => {\n\n        var resultAngle = 0; \n\n        switch (rotateStatus) {\n        case 'angle': \n            resultAngle =  startObject.rotate.value; \n            break; \n        case 'auto angle': \n            resultAngle =  currentAngle + startObject.rotate.value; \n            break; \n        case 'reverse': \n            resultAngle = currentAngle + 180;\n            break; \n        case 'auto' : \n            resultAngle = currentAngle;\n            break; \n        }\n\n        return resultAngle;\n    }\n\n    var screenX = 0, screenY = 0\n\n    if (artboard) {\n        var pathLayer = artboard.searchById(startObject.id);\n\n        if (pathLayer) {\n            screenX = pathLayer.screenX.value\n            screenY = pathLayer.screenY.value        \n        }\n\n\n        innerInterpolate = (rate, t, timing) => {\n            var parser = new PathParser(pathLayer.d || '');            \n            var {totalLength, interpolateList} = makeInterpolateOffset(parser.segments); \n\n            var distance = startObject.distance.toPx(totalLength)\n            var dt = distance / totalLength;\n\n            t = (t + dt )\n\n            if (t > 1) {\n                t -= 1; \n            }\n\n            var obj = interpolateList[0]    \n            if (t === 0) {\n                obj = interpolateList[0]    \n            } else if (t === 1) {\n                obj = interpolateList[interpolateList.length-1]    \n            }\n\n            var arr = interpolateList.find(it => {\n                return it.startT <= t && t < it.endT\n            });\n\n            if (arr) {\n                obj = arr\n            }\n            \n            var newT = (t - obj.startT)/(obj.endT - obj.startT)\n            var newRate = timing(newT)\n\n            return {\n                ...obj.interpolate(newRate, newT, timing),\n                totalLength: obj.totalLength\n            }\n        }\n\n    }\n\n    return (rate, t, timing) => {\n\n        // apply tranform-origin in real time \n\n        var arr = (layer['transform-origin'] || '50% 50%').split(' ').map(it => Length.parse(it))\n        var tx = arr[0].toPx(layer.width.value);\n        var ty = arr[1].toPx(layer.height.value);\n\n        var obj = innerInterpolate(rate, t, timing); \n\n        var results = {\n            x: obj.x + screenX - tx.value,\n            y: obj.y + screenY - ty.value\n        }\n\n        layer.setScreenX(results.x)\n        layer.setScreenY(results.y)\n\n        if (startObject.rotateStatus === 'element') {\n            // NOOP \n        } else {\n            var current = obj\n            var distValue = 0; \n\n            if (t < 1) {\n                distValue = 1/obj.totalLength\n            }\n            var next = innerInterpolate(rate + distValue, t + distValue, timing); \n            var angle = calculateAngle(next.x - current.x, next.y - current.y)\n\n\n            var newAngle = Length.deg(innerInterpolateAngle(startObject.rotateStatus, angle))\n\n            layer.reset({\n                transform: Transform.rotate(layer.transform, newAngle)\n            })\n\n        }\n\n\n        return results;\n    }\n\n}\n","import { getDist } from \"el/utils/math\";\nimport Point from \"el/editor/parser/Point\";\nimport makeInterpolateLine from \"./makeInterpolateLine\";\nimport { getCurveDist, getQuardDist } from \"el/utils/bezier\";\nimport makeInterpolateQuard from \"./makeInterpolateQuard\";\nimport makeInterpolateCubic from \"./makeInterpolateCubic\";\n\nexport default function makeInterpolateOffset (segments) {\n    var interpolateList = [] \n    var startPoint = [] \n    segments.forEach((segment, index) => {\n\n        switch(segment.command) {\n        case 'M': \n            var [ex, ey] = segment.values\n            startPoint = [ex, ey];break; \n        case 'm': \n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n\n            ex += sx;\n            ey += sy;\n\n            startPoint = [ex, ey];\n            break; \n        case 'L': \n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, ex, ey],\n                length: getDist(sx, sy, ex, ey),\n                interpolate: makeInterpolateLine(sx, sy, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break; \n        case 'l': \n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n\n            ex += sx; \n            ey += sy; \n\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, ex, ey],\n                length: getDist(sx, sy, ex, ey),\n                interpolate: makeInterpolateLine(sx, sy, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break; \n        case 'C':\n            var [sx, sy] = startPoint\n            var [cx1, cy1, cx2, cy2, ex, ey] = segment.values\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, cx1, cy1, cx2, cy2, ex, ey],\n                length: getCurveDist(sx, sy, cx1, cy1, cx2, cy2, ex, ey),\n                interpolate: makeInterpolateCubic(sx, sy, cx1, cy1, cx2, cy2, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break;                     \n        case 'c':\n            var [sx, sy] = startPoint\n            var [cx1, cy1, cx2, cy2, ex, ey] = segment.values\n\n            cx1 += sx;\n            cx2 += sx;\n            ex += sx;\n\n            cy1 += sy;\n            cy2 += sy;\n            ey += sy;\n\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, cx1, cy1, cx2, cy2, ex, ey],\n                length: getCurveDist(sx, sy, cx1, cy1, cx2, cy2, ex, ey),\n                interpolate: makeInterpolateCubic(sx, sy, cx1, cy1, cx2, cy2, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break;       \n        case 'Q':\n            var [sx, sy] = startPoint\n            var [cx1, cy1, ex, ey] = segment.values\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, cx1, cy1, ex, ey],\n                length: getQuardDist(sx, sy, cx1, cy1, ex, ey),\n                interpolate: makeInterpolateQuard(sx, sy, cx1, cy1, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break;\n        case 'q':\n            var [sx, sy] = startPoint\n            var [cx1, cy1, ex, ey] = segment.values\n\n            cx1 += sx;\n            ex += sx;\n\n            cy1 += sy;\n            ey += sy;\n\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, cx1, cy1, ex, ey],                \n                length: getQuardDist(sx, sy, cx1, cy1, ex, ey),\n                interpolate: makeInterpolateQuard(sx, sy, cx1, cy1, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break;   \n        case 'S':\n            var [sx, sy] = startPoint\n            var [cx2, cy2, ex, ey] = segment.values\n\n            var prevSegment = interpolateList[interpolateList.length - 1];\n\n            if (['C', 'c', 'S', 's'].includes(prevSegment.command)) {\n                var [_, _, _, _, preC1x, preC1y, preEx, preEy] = prevSegment.values \n\n                var {x: cx1, y: cy1 } = Point.getReversePoint({x: preEx, y: preEy}, {x: preC1x, preC1y})\n\n                interpolateList.push({\n                    command: segment.command,                \n                    values: [sx, sy, cx1, cy1, cx2, cy2, ex, ey],\n                    length: getCubicDist(sx, sy, cx1, cy1, cx2, cy2, ex, ey),\n                    interpolate: makeInterpolateCubic(sx, sy, cx1, cy1, cx2, cy2, ex, ey)\n                })\n                startPoint = [ex, ey];\n                break;                                \n            }\n        case 's':\n            var [sx, sy] = startPoint\n            var [cx2, cy2, ex, ey] = segment.values\n\n            cx2 += sx;\n            ex += sx;\n\n            cy2 += sy;\n            ey += sy;\n\n            var prevSegment = interpolateList[interpolateList.length - 1];\n\n            if (['C', 'c', 'S', 's'].includes(prevSegment.command)) {\n                var [_, _, _, _, preC1x, preC1y, preEx, preEy] = prevSegment.values \n\n                var {x: cx1, y: cy1 } = Point.getReversePoint({x: preEx, y: preEy}, {x: preC1x, preC1y})\n\n                interpolateList.push({\n                    command: segment.command,                \n                    values: [sx, sy, cx1, cy1, cx2, cy2, ex, ey],\n                    length: getCubicDist(sx, sy, cx1, cy1, cx2, cy2, ex, ey),\n                    interpolate: makeInterpolateCubic(sx, sy, cx1, cy1, cx2, cy2, ex, ey)\n                })\n                startPoint = [ex, ey];\n                break;                                \n            }            \n\n\n        case 'T':\n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n\n\n            var prevSegment = interpolateList[interpolateList.length - 1];\n\n            if (['Q', 'q', 'T', 't'].includes(prevSegment.command)) {\n                var [_, _, preC1x, preC1y, preEx, preEy] = prevSegment.values \n\n                var {x: cx1, y: cy1 } = Point.getReversePoint({x: preEx, y: preEy}, {x: preC1x, preC1y})\n\n                interpolateList.push({\n                    command: segment.command,\n                    values: [sx, sy, cx1, cy1, ex, ey],\n                    length: getQuardDist(sx, sy, cx1, cy1, ex, ey),\n                    interpolate: makeInterpolateQuard(sx, sy, cx1, cy1, ex, ey)\n                })\n                startPoint = [ex, ey];\n            }\n            break;    \n        case 't':\n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n\n            ex += sx;\n            ey += sy;\n\n            var prevSegment = interpolateList[interpolateList.length - 1];\n\n            if (['Q', 'q', 'T', 't'].includes(prevSegment.command)) {\n                var [_, _, preC1x, preC1y, preEx, preEy] = prevSegment.values \n\n                var {x: cx1, y: cy1 } = Point.getReversePoint({x: preEx, y: preEy}, {x: preC1x, preC1y})\n\n                interpolateList.push({\n                    command: segment.command,\n                    values: [sx, sy, cx1, cy1, ex, ey],\n                    length: getQuardDist(sx, sy, cx1, cy1, ex, ey),\n                    interpolate: makeInterpolateQuard(sx, sy, cx1, cy1, ex, ey)\n                })\n                startPoint = [ex, ey];\n            }\n            break;                         \n        }    \n\n    })\n\n\n    var totalLength = 0; \n    interpolateList.forEach(it => {\n        totalLength += it.length; \n    })\n\n    var start = 0; \n    interpolateList.forEach(it => {\n        it.startT = start / totalLength \n        it.endT = (start + it.length) / totalLength \n        it.totalLength = totalLength;\n\n        start += it.length \n    })\n    \n\n    return { totalLength, interpolateList};\n\n}","export function makeInterpolateText(layer, property, startText, endText, unit = undefined) {\n\n    var max = endText.length - 1; \n    var min = 0; \n\n    return (rate, t) => {\n\n        var result = 0;\n        if (t === 0) {\n            result = '';\n        } else if (t === 1) {\n            result = endText;\n        } else {\n            result = endText.substring(min, Math.floor((max - min) * t))\n        }\n\n        return result; \n    }\n}\n","export function makeInterpolatePlayTime(layer, property, startValue, endValue, artboard, layerElement) {\n\n    // media    \n    //  (startTime),   (endTime);\n    //   playbackRate   \n    //  seek    .      \n\n    const mediaElement = layerElement.$('video').el;\n\n    let [sTime, eTime, durationTime] = startValue.split(\":\"); \n\n    const duration = +(durationTime || 1);\n    const startTime = +(sTime || 0) * duration;\n\n    return (rate, t) => {\n        if (t === 0) {\n            mediaElement.currentTime = startTime; \n            if (mediaElement.paused) {\n                mediaElement.play(); \n            }\n        } else if (t === 1) {\n            layer.reset({\n                currentTime: mediaElement.currentTime,\n            })            \n            mediaElement.pause();\n        } else {\n            if (mediaElement.paused) {\n                mediaElement.play(); \n            }\n        }\n    }\n}\n","import { createBezierForPattern } from \"el/utils/bezier\";\nimport { makeInterpolateLength } from \"./interpolate-functions/makeInterpolateLength\";\nimport { makeInterpolateBorderRadius } from \"./interpolate-functions/makeInterpolateBorderRadius\";\nimport { makeInterpolateBoxShadow } from \"./interpolate-functions/makeInterpolateBoxShadow\";\nimport { makeInterpolateColor } from \"./interpolate-functions/makeInterpolateColor\";\nimport { makeInterpolateString } from \"./interpolate-functions/makeInterpolateString\";\nimport timingFunctions from \"./timing-functions\";\nimport { makeInterpolateRotate } from \"./interpolate-functions/makeInterpolateRotate\";\nimport { makeInterpolateTextShadow } from \"./interpolate-functions/makeInterpolateTextShadow\";\nimport { makeInterpolateBackgroundImage } from \"./interpolate-functions/makeInterpolateBackgroundImage\";\nimport { makeInterpolateFilter } from \"./interpolate-functions/makeInterpolateFilter\";\nimport { makeInterpolateNumber } from \"./interpolate-functions/makeInterpolateNumber\";\nimport { makeInterpolateClipPath } from \"./interpolate-functions/makeInterpolateClipPath\";\nimport { makeInterpolateTransform } from \"./interpolate-functions/makeInterpolateTransform\";\nimport { makeInterpolateTransformOrigin } from \"./interpolate-functions/makeInterpolateTransformOrigin\";\nimport { makeInterpolatePerspectiveOrigin } from \"./interpolate-functions/makeInterpolatePerspectiveOrigin\";\nimport { makeInterpolateStrokeDashArrray } from \"./interpolate-functions/makeInterpolateStrokeDashArray\";\nimport { makeInterpolatePath } from \"./interpolate-functions/svg/makeInterpolatePath\";\nimport { makeInterpolatePolygon } from \"./interpolate-functions/svg/makeInterpolatePolygon\";\nimport { makeInterpolateOffsetPath } from \"./interpolate-functions/makeInterpolateOffsetPath\";\nimport { makeInterpolateText } from \"./interpolate-functions/makeInterpolateText\";\nimport { makeInterpolatePlayTime } from \"./interpolate-functions/makeInterpolatePlayTime\";\n\nconst DEFAULT_FUCTION = () => (rate, t) => { } \n\nfunction makeInterpolateCustom (property) {\n\n    switch(property) {\n    case 'border-radius':\n        return makeInterpolateBorderRadius\n    case 'border':\n        return makeInterpolateBorder        \n    case 'box-shadow':\n        return makeInterpolateBoxShadow        \n    case 'text-shadow':\n        return makeInterpolateTextShadow\n    case 'background-image':\n    case 'BackgroundImageEditor':\n        return makeInterpolateBackgroundImage \n    case 'filter':\n    case 'backdrop-filter':\n        return makeInterpolateFilter\n    case 'clip-path':\n        return makeInterpolateClipPath\n    case 'transform':\n        return makeInterpolateTransform\n    case 'transform-origin':\n        return makeInterpolateTransformOrigin        \n    case 'perspective-origin':\n        return makeInterpolatePerspectiveOrigin\n    case 'stroke-dasharray':\n        return makeInterpolateStrokeDashArrray        \n    case 'd':\n        return makeInterpolatePath\n    case 'points':\n        return makeInterpolatePolygon\n    case 'offset-path':\n        return makeInterpolateOffsetPath\n    case 'text': \n        return makeInterpolateText\n    case 'playTime':\n        return makeInterpolatePlayTime\n    }\n}\n\n\nfunction makeInterpolate (layer, property, startValue, endValue, editorString, artboard, layerElement) {\n\n    var checkField = editorString || property\n\n    switch(checkField) {\n    case 'width':\n    case 'x':\n        return makeInterpolateLength(layer, property, startValue, endValue, 'width');\n    case 'height':\n    case 'y':\n        return makeInterpolateLength(layer, property, startValue, endValue, 'height');\n    case 'perspective':\n    case 'font-size':\n    case 'font-stretch':\n    case 'font-weight':\n    case 'text-stroke-width':\n    case 'RangeEditor':\n    case 'textLength':\n    case 'startOffset':\n        return makeInterpolateLength(layer, property, startValue, endValue, property);\n    case 'fill-opacity':\n    case 'opacity':\n    case 'stroke-dashoffset':\n    case 'currentTime':\n    case 'NumberRangeEditor':\n        return makeInterpolateNumber(layer, property, +startValue, +endValue);\n    case 'background-color':\n    case 'color':\n    case 'text-fill-color':\n    case 'text-stroke-color':\n    case 'fill':\n    case 'stroke':\n    case 'ColorViewEditor':\n        return makeInterpolateColor(layer, property, startValue, endValue);\n    case 'mix-blend-mode':\n    case 'fill-rule':\n    case 'stroke-linecap':\n    case 'stroke-linejoin':\n    case 'SelectEditor':       \n    case 'lengthAdjust': \n        return makeInterpolateString(layer, property, startValue, endValue); \n    case 'rotate':\n        return makeInterpolateRotate(layer, property, startValue, endValue);               \n    }\n\n    \n    var func = makeInterpolateCustom(checkField)\n\n    if (func) {\n        return func(layer, property, startValue, endValue, artboard, layerElement)\n    }\n\n    return DEFAULT_FUCTION\n}\n\n\nexport function createInterpolateFunction (layer, property, startValue, endValue, editorString, artboard, layerElement) {\n    return makeInterpolate(layer, property, startValue, endValue, editorString, artboard, layerElement);\n}\n\n\nexport function createTimingFunction(timing = 'linear') {\n\n    var [funcName, params] = timing.split('(').map(it => it.trim())\n    params = (params || '').split(')')[0].trim()\n\n    var func = timingFunctions[funcName];\n\n    if (func) {\n        \n        var args = timing.split('(')[1].split(')')[0].split(',').map(it => it.trim())\n        return func(...args);\n    } else {\n        return createCurveFunction(timing);\n    }\n}\n\nexport function createCurveFunction (timing) {\n    var func = createBezierForPattern(timing);\n    return (rate) => {\n        return func(rate).y;\n    }\n}\n\n\n","import { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\n\nexport class Offset extends PropertyItem {\n  static parse(obj) {\n    return new Offset(obj);\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"offset\",\n      offset: Length.percent(0),\n      color: 'rgba(255, 255, 255, 1)',\n      properties: []\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('offset', 'color', 'properties'),\n    }\n  }\n\n  convert(json) {\n    json = super.convert(json)\n\n    json.offset = Length.parse(json.offset);\n    return json ;\n  }\n\n  toCSSText() {\n    return `${this.json.offset} ${CSS_TO_STRING(this.toCSS())}`\n  }\n\n  createProperty(data = {}) {\n    return this.addProperty({\n      checked: true,\n      value: Length.z(),\n      ...data\n    });\n  } \n\n  addProperty (property) {\n    this.json.properties.push(property);\n  }\n  \n  \n  removeProperty(removeIndex) {\n    this.json.properties.splice(removeIndex, 1);\n  }    \n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n  \n  sortProperty(startIndex, targetIndex) {\n    this.sortItem(this.json.properties, startIndex, targetIndex);\n  }     \n\n\n  updateProperty(index, data = {}) {\n    Object.assign(this.json.properties[+index], { ... data } );\n  }\n\n  updatePropertyByKey(key, data = {}) {\n    var arr = this.json.properties;\n    var index = -1; \n    for(var i = 0, len = arr.length; i < len; i++) {\n      if (this.json.properties[i].key === key) {\n        index = i; \n        break; \n      }\n    }\n    \n    Object.assign(this.json.properties[+index], { ... data } );\n  }\n\n  toCSS() {\n    var obj = {}\n\n    this.json.properties.forEach(it => {\n      obj = { ...obj, ...it.toCSS() }\n    })\n\n    return obj;\n  }\n\n  toString() {\n    return this.toCSSText()\n  }\n}\n","import { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { Offset } from \"./Offset\";\n\nimport { reverseMatches, convertMatches } from \"el/utils/parser\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport class Keyframe extends PropertyItem {\n  static parse(obj) {\n    return new Keyframe(obj);\n  }\n\n\n  /**\n   * \n   * keyframe: {keyframeName} {offset} {property} {value} | ......\n   * \n   * @param {} style \n   */\n  static parseStyle (style) {\n    var keyframes = []\n    var keyframeKeys = {} \n\n    if (style['keyframe']) {\n      var results = convertMatches(style[\"keyframe\"]);\n\n      results.str.split('|').map(it => it.trim()).forEach( (frameInfo, index) => {\n        var [ name, offset, property, ...values ] = frameInfo.split(' ')\n        var propertyValue = values.join(' ');\n\n        if (!keyframeKeys[name]) {\n          keyframeKeys[name] = new Keyframe({\n            name\n          })\n          \n          keyframes[index] = name; \n        }\n\n        var filteredOffset = keyframeKeys[name].offsets.filter(it => {\n          return it.offset.equals(Length.parse(offset))\n        })\n\n        var offsetObj = null;\n        if (filteredOffset.length) {\n          offsetObj = filteredOffset[0]\n        } else {\n          offsetObj = new Offset({\n            offset: Length.parse(offset)\n          })\n\n          keyframeKeys[name].offsets.push(offsetObj)\n        }\n\n        offsetObj.addProperty({ \n          key: property, \n          value: reverseMatches(propertyValue, results.matches)\n        })\n\n      })\n    }\n\n    return keyframes.map(name => {\n\n      keyframeKeys[name].offsets.forEach(offset => {\n        var vars = [] \n        var properties = [] \n        offset.properties.forEach(p => {\n          if (p.key.includes('--')) {\n            vars.push(p);\n          } else {\n            properties.push(p);\n          }\n        })\n\n        let varValue = vars.map(it => `${it.key}:${it.value}`).join(';')\n\n        if (vars.length) {\n          properties.push({ key: 'var', value: varValue })\n        }\n\n        offset.properties = properties\n      })\n\n      return keyframeKeys[name]\n    });\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"keyframe\",\n      name: 'sample',\n      selectedType: 'list',\n      offsets: []\n    });\n  }\n\n  toCloneObject() {\n    var {name, selectedType, offsets} = this.json; \n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('name', 'selectedType'),\n      offsets: offsets.map(offset => offset.clone())\n    }\n  }\n\n  isMultiStyle (key) {\n    switch (key) {\n    case 'background-image': \n    case 'var':\n      return true;\n    }\n\n    return false;\n  }\n\n  getMultiStyleString (p) {\n    switch(p.key) {\n      case 'background-image': \n\n        return p.value.toString() + ';';\n      case 'var':\n        var value = (p.value + '').split(';').map(str => {\n          return `--` + str; \n        }).join(';')\n        return value + ';';\n    }\n\n\n    return p.value.toString() + ';'; \n  }\n\n\n  toOffsetString (it) {\n\n    var tabString = '      '\n\n    return `${it.offset.toString()} {\n${tabString}${it.properties.map(p => {\n  if (this.isMultiStyle(p.key)) {\n    return this.getMultiStyleString(p)\n  } else {\n    var value = (p.value || '').toString();\n\n    if (value) {\n\n      var key = p.key; \n\n      if (key === 'x') key = 'left';\n      else if (key === 'y') key = 'top';\n\n      return `${key}: ${value};`\n    } else {\n      return '';\n    }\n  }\n}).join('').replace(/\\;/g, ';\\n' + tabString).trim()}\n  }`\n  }  \n\n\n  toOffsetText () {\n\n    var offsets = this.json.offsets.map(it => {\n      return it\n    });\n    \n    offsets.sort((a, b) => {\n      return a.offset.value > b.offset.value ? 1 : -1; \n    })\n\n\n    return  offsets.map(it => {\n      if (it.properties.length === 0) return ''\n      return this.toOffsetString(it);\n    }).join('\\n')\n  }  \n\n  toCSSText () {\n\n    var offsets = this.json.offsets.map(it => {\n      return it\n    });\n    \n    offsets.sort((a, b) => {\n      return a.offset.value > b.offset.value ? 1 : -1; \n    })\n\n\n    return `\n@keyframes ${this.json.name} {\n\n  ${this.toOffsetText()}\n\n}\n`\n  }\n\n  \n  createOffset(data = {}) {\n    return this.addOffset(\n      new Offset({\n        checked: true,\n        ...data\n      })\n    );\n\n  } \n\n  addOffset (offset) {\n    this.json.offsets.push(offset);\n  }\n  \n  \n  removeOffset(removeIndex) {\n    this.json.offsets.splice(removeIndex, 1);\n  }    \n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n  \n  sortOffset(startIndex, targetIndex) {\n    this.sortItem(this.json.offsets, startIndex, targetIndex);\n  }     \n\n\n  updateOffset(index, data = {}) {\n    this.json.offsets[+index].reset(data);\n  }        \n\n\n  toCSS() {\n    return {};\n  }\n\n  toString() {\n    return this.toCSSText()\n  }\n}\n","import { isFunction } from \"el/sapa/functions/func\";\nimport { Item } from \"el/editor/items/Item\";\n\nexport class ComponentManager {\n  constructor(editor) {\n    this.editor = editor;\n    this.components = {} \n    this.inspectors = {}\n  }\n\n  registerComponent (name, componentProperty) {\n\n    if (this.components[name]) throw new Error(\"It has duplicated item name. \" + name);\n    this.components[name] = componentProperty;\n  }\n\n  registerInspector (name, inspectorCallback) {\n\n    if (this.inspectors[name]) throw new Error(\"It has duplicated item name. \" + name);\n    this.inspectors[name] = inspectorCallback;\n  }  \n\n  getComponentClass(name) {\n    return this.components[name] || this.components['rect']\n  }\n\n  getInspector(name) {\n    return this.inspectors[name];\n  }  \n\n  /**\n   * ItemType   Item  . \n   * create Item instance\n   * \n   * @param {string} itemType  ItemType \n   * @param {object} obj \n   * @returns {Item} \n   */\n  createComponent (itemType, obj = {}) {\n    var ComponentClass = this.getComponentClass(itemType);\n    if (!ComponentClass) {\n      throw new Error(`${itemType} type is not valid.`)\n    }\n\n    return new ComponentClass(obj);\n  }\n\n  /**\n   * Inspector    . \n   * \n   * @param {string} itemType \n   * @param {Item} item \n   * @returns \n   */\n  createInspector (item) {\n    const inspector = this.getInspector(item.itemType);\n\n    if (isFunction(inspector)) {\n      return inspector(item) || [];\n    }\n\n    if (isFunction(item.getProps)) {\n      return item.getProps() || [];\n    }\n\n    return [];\n  }\n\n};\n","import { isFunction, clone } from 'el/sapa/functions/func';\nimport { BaseModel } from '../model/BaseModel';\nimport { ComponentManager } from './ComponentManager';\n\nconst identity = () => true;\n\n/**\n *    . \n * \n */\nexport class ModelManager {\n    constructor(editor) {\n        this.editor = editor;\n        this.version = \"0.0.0\";\n        this.name = \"\";\n        this.description = \"\";\n        this.items = new Map();\n        this.projects = [];\n    }\n\n\n    /**\n     * document   \n     */\n    load(doc = {}) {\n        const newDoc = this.editor.loadItem('model') || doc;\n\n        this.items.clear();\n        this.version = newDoc?.version;\n        this.name = newDoc?.name;\n        this.description = newDoc?.description;\n\n        newDoc?.projects?.forEach(project => {\n            this.createModel(project);\n        })\n\n        if (this.projects.length === 0) {\n            this.createProject();\n        }\n    }\n\n    createProject() {\n        this.createModel({\n            itemType: \"project\",\n            name: \"New Project\",\n        })\n    }\n\n    getProjectByIndex(index = 0) {\n        return this.get(this.projects[index]);\n    }\n\n    get(id) {\n        return this.items.get(id);\n    }\n\n    set(id, item) {\n        this.items.set(id, item);\n    }\n\n    //   \n    remove(id) {\n        const obj = this.items.get(id);\n\n        const children = obj.parent.children\n        const index = children.indexOf(id);\n\n        obj.reset({\n            removed: true,\n            removedIndex: index,\n            removedLeftSibling: index > 0 ? children[index - 1] : null,\n            removedRightSibling: index < children.length - 1 ? children[index + 1] : null\n        })\n    }\n\n    //    \n    recover(id) {\n        const obj = this.items.get(id);\n        const parent = this.getParent(id);\n\n        //  id      \n        if (!obj.removedLeftSibling && obj.removedRightSibling) {\n            parent.children.splice(parent.children.findIndex(it => obj.removedRightSibling) - 1, 0, id);\n        }\n        //  id      \n        else if (obj.removedLeftSibling && !obj.removedRightSibling) {\n            parent.children.splice(parent.children.findIndex(it => obj.removedLeftSibling) + 1, 0, id);\n        }\n        //   index   \n        else {\n            parent.children.splice(obj.removedIndex, 0, id);\n        }\n\n        delete obj.removed;\n        delete obj.removedLeftSibling;\n        delete obj.removedRightSibling;\n        delete obj.removedIndex;\n    }\n\n    clear() {\n        this.items.clear();\n    }\n\n    toJSON() {\n        return {\n            version: this.version,\n            name: this.name,\n            description: this.description,\n            projects: this.projects.map(id => this.get(id).toJSON())\n        }\n    }\n\n    /**\n     * BaseModel  reset    . \n     * \n     * @param {string} id \n     * @param {object} obj \n     */\n    setChanged(type, id, obj) {\n        this.editor.emit('changed', type, id, obj);\n    }\n\n    /**\n     *   . \n     * \n     */\n    removeChild(rootId, childId) {\n\n        const obj = this.get(rootId)\n        obj.children = obj.children.filter(it => it !== childId)\n    }\n\n    /**\n     *      . \n     * \n     * @param {string} parentId \n     */\n    hasParent(rootId, parentId) {\n        const obj = this.get(rootId);\n\n        const isParent = obj.parentId === parentId\n\n        if (!isParent && obj.parent.is('project') === false) return this.hasParent(obj.parentId, parentId);\n\n        return isParent;\n    }\n\n\n    /**\n     * @returns {ComponentManager}\n     */\n    get components() {\n        return this.editor.components;\n    }\n\n    searchItem(id) {\n        return this.get(id);\n    }\n\n    /**\n     *     id  Item  . \n     * \n     * @param {string} id \n     * @returns {Item|null}  Item  \n     */\n    searchLayers(rootId, childId) {\n        const obj = this.get(rootId);\n        return this.get(obj.children.find(it => it === childId));\n    }\n\n    searchItemsById(ids) {\n        return ids.map(id => this.get(id));\n    }\n\n    /**\n     * searchItem  path   targetItems   . \n     * \n     * @param {BaseModel[]} targetItems\n     * @param {BaseModel} searchItem\n     */\n    hasPathOf(targetItems, searchItem) {\n\n        const path = this.getPath(searchItem.id, searchItem);\n\n        return targetItems.filter(it => it.id !== searchItem.id).some(target => {\n            return path.find(it => it.id === target.id);\n        })\n    }\n\n    /**\n     *  id   item  group  . \n     *  project     item  .  \n     * \n     * @param {string} rootId\n     */\n    findGroupItem(rootId) {\n        const obj = this.get(rootId);\n\n        if (obj.hasChildren()) {\n            return obj;\n        }\n\n        //  project  artboard     . \n        if (obj.parent && (obj.parent.is('project') || obj.parent.is('artboard'))) {\n            return obj;\n        }\n\n        return obj.parent && this.findGroupItem(obj.parentId);\n    }\n\n    /**\n     * items    item  path  group    \n     * group item  . \n     *  . \n     * \n     * @param {BaseModel[]} items\n     */\n    convertGroupItems(items) {\n\n        const objectList = {};\n\n        items.forEach(item => {\n            const groupItem = this.findGroupItem(item.id) || item;\n\n            objectList[groupItem.id] = groupItem;\n        });\n\n        return Object.values(objectList).filter(it => it.isNot('project'));\n    }\n\n    /**\n     *    .\n     * \n     * @param {string[]} ids \n     * @returns \n     */\n    searchLiveItemsById(ids) {\n        return ids.map(id => this.get(id)).filter(it => !it.removed);\n    }\n\n    markRemove(ids = []) {\n        ids.forEach(id => {\n            this.remove(id);\n        });\n    }\n\n    markRemoveProject (id) {\n        const index = this.projects.findIndex(it => it === id);\n\n        this.projects.splice(index, 1);\n        this.get(id).removed = true;\n        return index;\n    }\n\n    unmarkRemove(ids = []) {\n        ids.forEach(id => {\n            this.recover(id);\n        });\n    }\n\n    unmarkRemoveProject (id, index) {\n        this.projects.splice(index, 0, id);\n        this.get(id).removed = false;\n    }\n\n    /**\n     * itemObject ()  itemType     Component  . \n     * \n     * @param {object} itemObject \n     * @returns {Item}\n     */\n    createModel(itemObject, isRegister = true) {\n        const layers = itemObject.layers;\n        delete itemObject.layers;\n        let item;\n\n        if (this.get(itemObject.id)) {\n            item = this.get(itemObject.id);\n            item.reset(itemObject);\n        } else {\n            item = this.components.createComponent(itemObject.itemType, {\n                ...itemObject,\n            });\n\n            item.setModelManager(this);\n        }\n\n        // Item     id  . \n        //  item      . \n        if (isRegister) {\n            this.set(item.id, item);\n\n            if (item.is('project')) {\n                this.projects = [...new Set([...this.projects, item.id])];\n            }\n        }\n\n\n        const children = (layers || []).map(it => {\n            return this.createModel({ ...it, parentId: item.id });\n        })\n\n        //     id   .  \n        item.reset({\n            children: children.map(it => {\n                return it.id\n            })\n        });\n\n\n        return item;\n    }\n\n    getAllLayers(rootId, filterCallback = identity) {\n        var results = []\n        const obj = this.get(rootId);\n\n        let len = obj.children.length;\n        for (let start = len; start--;) {\n            let id = obj.children[start];\n            results.push(... this.getAllLayers(id, filterCallback));\n        }\n\n        if (isFunction(filterCallback) && filterCallback(obj)) {\n            results.push(obj);\n        }\n\n        return results;\n    }\n\n    getLayers(rootId, defaultRef = null) {\n        const obj = this.get(rootId) || defaultRef;\n\n        return obj?.children?.map(childId => this.get(childId));\n    }\n\n    eachLayers(rootId, callback) {\n        const obj = this.get(rootId);\n\n        let len = obj.children.length;\n        for (let start = len; start--;) {\n            let id = obj.children[start];\n            callback(this.get(id));\n        }\n    }\n\n    mapLayers(rootId, callback) {\n        const obj = this.get(rootId);\n\n        return obj.children.map(childId => {\n            return callback(this.get(childId));\n        })\n    }\n\n    /**\n     * \n     * @param {string} rootId\n     * @returns {BaseModel}  Model  \n     */\n    getParent(rootId) {\n        return this.get(this.get(rootId)?.parentId);\n    }\n\n    /**\n     * depth  \n     */\n    getDepth(rootId) {\n        const parent = this.getParent(rootId);\n        if (!parent) return 1;\n\n        return this.getDepth(parent.id) + 1;\n    }\n\n    /**\n     *    \n     * \n     */\n    getRoot(rootId) {\n        const obj = this.get(rootId);\n        const parent = this.getParent(rootId);\n        if (!parent) return obj;\n\n        let localParent = parent;\n        do {\n            const nextParent = this.getParent(localParent.id)\n\n            if (!nextParent) {\n                return localParent;\n            }\n\n            localParent = nextParent;\n\n        } while (localParent);\n    }\n\n    /**\n       *    instance \n       * \n       * @returns {Item[]}\n       */\n\n    getPath(rootId, defaultRef = null) {\n        const obj = this.get(rootId) || defaultRef;\n        const parent = this.getParent(rootId);\n        if (!parent) return [obj];\n\n        const list = this.getPath(parent.id);\n\n        list.push(obj);\n\n        return list;\n    }\n\n    /**\n     * path  itemType    item  . \n     * \n     * @param {string} rootId\n     * @param {string} itemType\n     * @returns {BaseModel}\n     */\n    getModelTypeInPath(rootId, itemType) {\n        return this.getPath(rootId).find(it => it && it.is(itemType));\n    }\n\n    /**\n     * rootId  path   \n     * path  targetId    \n     * item  . \n     * \n     * @param {string} rootId\n     * @param {string} targetId\n     * @returns {BaseModel}\n     */\n    getItemInPath(rootId, targetId) {\n        return this.getPath(rootId).find(it => it && it.id === targetId);\n    }\n\n    getProject(rootId) {\n        return this.getModelTypeInPath(rootId, 'project');\n    }\n\n    getArtBoard(rootId) {\n        return this.getModelTypeInPath(rootId, 'artboard');\n    }\n\n\n    is(rootId, checkItemType) {\n        const obj = this.get(rootId);\n        return checkItemType === obj.itemType;\n    }\n\n    isNot(rootId, checkItemType) {\n        return this.is(rootId, checkItemType) === false;\n    }\n\n\n    /**\n     *    object  . \n     * \n     * @param {string} rootId\n     * @param  {...string} args   \n     */\n    attrs(rootId, ...args) {\n        const obj = this.get(rootId);\n        const result = {}\n\n        args.forEach(field => {\n            result[field] = clone(obj[field])\n        })\n\n        return result;\n    }\n\n    hasChildren(rootId) {\n        return this.get(rootId)?.children.length > 0;\n    }\n\n    /**\n     * clone Item\n     */\n    clone(rootId, isDeep = true) {\n        const obj = this.get(rootId);\n        const json = obj.toCloneObject(rootId, isDeep)\n\n        const item = this.createModel(json);\n        item.setParentId(obj.parentId)\n\n        return item;\n    }\n\n    reset(rootId, obj) {\n        return this.get(rootId)?.reset(obj);\n    }\n\n    appendChild(rootId, childId) {\n        const obj = this.get(rootId);\n        const child = this.get(childId);\n\n        //       \n        this.json.children.push(layer.id);\n\n        //   offset     \n        layer.offsetInParent = this.json.children[last-1].offset + 0.1;\n    }\n\n\n}","import { clone, isFunction, isNumber, isUndefined } from \"el/sapa/functions/func\";\nimport { uuid } from \"el/utils/math\";\nimport { ModelManager } from \"../manager/ModelManager\";\n\n/**\n * Item ,     \n *   . \n *   id    id  ModelManager  .\n * \n * @class\n */\nexport class BaseModel {\n\n  /**\n   *   \n   * \n   * @param {object} json    \n   * @param {ModelManager} modelManager\n   */\n  constructor(json = {}, modelManager) {\n    this.modelManager = modelManager;\n\n    this.ref = new Proxy(this, {\n      get: (target, key) => {\n        if (this.getCache(key)) {\n          return this.getCache(key);\n        }\n\n        var originMethod = target[key];\n        if (isFunction(originMethod)) {\n\n          if (!this.getCache(key)) {\n            this.addCache(key, (...args) => {\n              return originMethod.apply(target, args);\n            });\n          }\n\n          return this.getCache(key);\n        } else {\n          // getter or json property\n          return originMethod || target.json[key];\n        }\n      },\n      set: (target, key, value) => {\n        const isDiff = target.json[key] != value;\n\n        if (isDiff) {\n          this.reset({ [key]: value });\n        }\n\n        return true;\n      },\n      deleteProperty: (target, key) => {\n        this.reset({ [key]: undefined });\n      }\n    });\n\n    this.json = this.convert(Object.assign(this.getDefaultObject(), json));\n\n    this.lastChangedField = {};\n    this.lastChangedFieldKeys = [];\n    this.cachedValue = {};\n\n    return this.ref;\n  }\n\n  setModelManager(modelManager) {\n    this.modelManager = modelManager;\n  }\n\n  /***********************************\n   *\n   * override\n   *\n   **********************************/\n\n  getDefaultTitle() {\n    return \"Item\";\n  }\n\n  getIcon() {\n    return '';\n  }\n\n  isChanged(timestamp) {\n    return this.json.timestamp != Number(timestamp);\n  }\n\n  changed() {\n    this.json.timestamp = this.json._timestamp + performance.now();\n  }\n\n  /***********************************\n   *\n   * getter\n   *\n   **********************************/\n\n  /**\n   * title  \n   */\n  get title() {\n    return this.json.name || this.getDefaultTitle();\n  }\n\n  renameWithCount() {\n    let arr = this.json.name.split(' ');\n\n    if (arr.length < 2) {\n      return;\n    }\n\n    let last = arr.pop();\n    let lastNumber = +last;\n    if (isNumber(lastNumber) && isNaN(lastNumber) === false) {\n      lastNumber++;\n    } else {\n      lastNumber = last;\n    }\n\n    const nextName = [...arr, lastNumber].join(' ')\n\n    this.reset({\n      name: nextName\n    })\n  }\n\n  /**\n   * \n   * @return {Item[]}       \n   */\n  get allLayers() {\n    return this.modelManager.getAllLayers(this.id);\n  }\n\n  /**\n   * filterCallback   layer   . \n   * \n   * @returns {Item[]}\n   */\n  filteredAllLayers(filterCallback) {\n    return this.modelManager.getAllLayers(this.id, filterCallback);\n  }\n\n  /**\n   * get id\n   */\n  get id() {\n    return this.json.id;\n  }\n\n  /**\n   *   \n   * \n   * @returns {Item[]}\n   */\n  get layers() {\n    return this.modelManager.getLayers(this.id, this.ref);\n  }\n\n\n  get parentId() {\n    return this.json.parentId;\n  }\n\n  /**\n   * @returns {Item}\n   */\n  get parent() {\n    if (!this.json.parentId) return undefined;\n\n    return this.modelManager.get(this.json.parentId);\n  }\n\n  setParentId(parentId) {\n    this.json.parentId = parentId;\n  }\n\n  /**\n   *     \n   * \n   * @returns {number}\n   */\n  get depth() {\n    return this.modelManager.getDepth(this.id);\n  }\n\n  /**\n   *    \n   * \n   * @returns {Item}\n   */\n  get top() {\n    return this.modelManager.getRoot(this.id);\n  }\n\n  /**\n   *  project  \n   * \n   * @returns {Project}\n   */\n  get project() {\n    return this.modelManager.getProject(this.id);\n  }\n\n  /**\n   *  artboard  \n   * \n   * @returns {ArtBoard}\n   */\n  get artboard() {\n    return this.modelManager.getArtBoard(this.id);\n  }\n\n  /**\n   *    instance \n   * \n   * @returns {Item[]}\n   */\n  get path() {\n    return this.modelManager.getPath(this.id, this.ref);\n  }\n\n  /**\n   * id   id \n   * \n   * @param {string} postfix \n   */\n  getInnerId(postfix = '') {\n    return this.json.id + postfix;\n  }\n\n  is(checkItemType) {\n    return this.json.itemType === checkItemType;\n  }\n\n  isNot(checkItemType) {\n    return this.is(checkItemType) === false;\n  }\n\n  isSVG() {\n    return false;\n  }\n\n  addCache(key, value) {\n    this.cachedValue[key] = value;\n  }\n\n  getCache(key) {\n    return this.cachedValue[key];\n  }\n\n  /**\n   * BaseModel  attribute key    . \n   *        \n   *      .\n   * \n   * @param {string} key attirbute field name\n   * @param {Function} newValueCallback cache     \n   * @returns \n   */\n  computed(key, newValueCallback, isForce = false) {\n    const cachedKey = `__cachedKey_${key}`\n    const parsedKey = `${cachedKey}__parseValue`\n    const value = this.json[key];\n\n    //    \n    if (isForce) {\n      // NOOP \n      // isForce  true     .\n    } else {\n      if (this.getCache(key) === value && this.getCache(parsedKey)) {\n        return this.getCache(parsedKey);\n      }\n    }\n\n    // isForce  true    . \n    this.addCache(key, value);\n    this.addCache(parsedKey, newValueCallback(value, this.ref));\n\n    return this.getCache(parsedKey);\n  }\n\n  computedValue(key) {\n    const cachedKey = `__cachedKey_${key}`\n    const parsedKey = `${cachedKey}__parseValue`\n\n    return this.getCache(parsedKey);\n  }\n\n  editable(editablePropertyName) {\n    return true;\n  }\n\n  /***********************************\n   *\n   * action\n   *\n   **********************************/\n\n\n  generateListNumber() {\n    this.layers.forEach((it, index) => {\n      it.no = index;\n\n      it.generateListNumber();\n    })\n  }\n\n  /**\n   * when json is loaded, json object is be a new instance\n   *\n   * @param {*} json\n   */\n  convert(json = {}) {\n    return json;\n  }\n\n  setCache() {\n\n  }\n\n  toCloneObject(isDeep = true) {\n    var json = this.attrs(\n      'itemType', 'name', 'elementType', 'type', 'visible', 'lock', 'selected', 'parentId'\n    )\n\n    if (isDeep) {\n      json.layers = this.json.children.map(childId => {\n        return this.modelManager.clone(childId, isDeep)\n      })\n    }\n\n    return json;\n  }\n\n  /**\n   * clone Item\n   */\n  clone(isDeep = true) {\n    return this.modelManager.clone(this.id, isDeep);\n  }\n\n  /**\n   * set json content\n   *\n   * @param {object} obj\n   */\n  reset(obj) {\n    //    id  . \n    // if (!obj.__changedId) obj.__changedId = uuid();\n\n    // if (this.lastChangedField.__changedId !== obj.__changedId) {\n    this.json = this.convert(Object.assign(this.json, obj));\n    this.lastChangedField = obj;\n    this.lastChangedFieldKeys = Object.keys(obj);\n    this.modelManager.setChanged('reset', this.id, obj);\n    this.changed();\n    // }\n\n    return true;\n  }\n\n  /**\n   *   field  . \n   * \n   * @returns {boolean} \n   */ \n  hasChangedField(...args) {\n    return args.some(it => this.lastChangedField[it] !== undefined);\n  }\n\n  /**\n   * define default object for item\n   *\n   * @param {object} obj\n   */\n  getDefaultObject(obj = {}) {\n    var id = uuid()\n    return {\n      id,\n      _timestamp: Date.now(),\n      _time: performance.now(),\n      visible: true,  //    \n      lock: false,    //   \n      // selected: false,  //    \n      children: [],   //   . \n      offsetInParent: 1,  //     . \n      ...obj\n    };\n  }\n\n  /**\n   *    object  . \n   * \n   * @param  {...string} args   \n   */\n   attrs (...args) {\n    const result = {}\n\n    args.forEach(field => {\n      result[field] = clone(this.json[field])\n    })\n\n    return result;\n  }\n\n  /**\n   *     \n   * \n   * @returns {boolean}\n   */\n  hasChildren() {\n    return this.json.children.length > 0;\n  }\n\n  /**\n   *  . \n   * \n   * @param {BaseModel} layer  childItem   \n   */\n  appendChild(layer) {\n    if (layer.parentId === this.id) {\n\n      const hasId = this.json.children.find(it => it === layer.id)\n      if (Boolean(hasId) === false) {\n        //       \n        this.json.children.push(layer.id);\n      }\n\n      return layer;\n    }\n\n    this.resetMatrix(layer);\n\n    //     layer      . \n    if (layer.parent) {\n      layer.remove();\n    }\n\n    layer.setParentId(this.id);\n\n    this.json.children.push(layer.id);\n\n    return layer;\n  }\n\n  resetMatrix(item) {\n\n  }\n\n  refreshMatrixCache() {\n\n  }\n\n  /**\n   *  index   . \n   * \n   * @param {Item} layer \n   * @param {number} index \n   */\n  insertChild(layer, index = 0) {\n\n    this.resetMatrix(layer);\n\n    //     layer      . \n    if (layer.parent) {\n      layer.remove();\n    }\n\n    layer.setParentId(this.id);\n    this.json.children.splice(index, 0, layer.id);\n    // this.project.addIndexItem(layer);\n\n    return layer;\n  }\n\n  /**\n   *  Item     . \n   * \n   * @param {Item} layer \n   */\n  appendAfter(layer) {\n\n    const index = this.parent.findIndex(this);\n\n    this.parent.insertChild(layer, index);\n    // this.project.addIndexItem(layer);\n    return layer;\n  }\n\n\n  /**\n   *  Item    . \n   * \n   * @param {Item} layer \n   */\n  appendBefore(layer) {\n\n    const index = this.parent.findIndex(this);\n\n    this.parent.insertChild(layer, index - 1);\n    // this.project.addIndexItem(layer);\n    return layer;\n  }\n\n  /**\n   * toggle item's attribute\n   *\n   * @param {*} field\n   * @param {*} toggleValue\n   */\n  toggle(field, toggleValue) {\n    if (isUndefined(toggleValue)) {\n      this.reset({\n        [field]: !this.json[field]\n      });\n    } else {\n      this.reset({\n        [field]: !!toggleValue\n      });\n    }\n  }\n\n  isTreeItemHide() {\n\n    let currentParent = this.parent;\n    let collapsedList = []\n    do {\n      if (currentParent.is('project')) break;\n\n      collapsedList.push(Boolean(currentParent.collapsed))\n      currentParent = currentParent.parent;\n    } while (currentParent)\n\n    //   collapsed      \n    return Boolean(collapsedList.filter(Boolean).length);\n\n  }\n\n  expectJSON(key) {\n    if (key === 'parent') return false;\n    if (isUndefined(this.json[key])) return false;\n\n    return true;\n  }\n\n  /**\n   * convert to json\n   * \n   */\n  toJSON() {\n    const json = this.json;\n\n    let newJSON = {}\n    Object.keys(json).filter(key => this.expectJSON(key)).forEach(key => {\n      newJSON[key] = json[key];\n    })\n\n    if (this.hasChildren()) {\n      newJSON.layers = this.json.children.map(childId => {\n        return this.modelManager.get(childId)?.toJSON()\n      })\n    }\n\n\n    return newJSON;\n  }\n\n  resize() { }\n\n  /**\n   * Item  \n   * \n   * @param {number} dist \n   */\n  copy(dist = 0) {\n    return this.parent.copyItem(this.id, dist);\n  }\n\n  findIndex(item) {\n    return this.json.children.indexOf(item.id);\n  }\n\n  copyItem(childItemId, dist = 10) {\n    const childItem = this.modelManager.get(childItemId);\n    var child = childItem.clone()\n    child.renameWithCount()\n    child.move([dist, dist, 0])\n\n    var childIndex = this.findIndex(childItem);\n\n    if (childIndex > -1) {\n      this.json.children.push(child.id);\n    }\n    return child;\n  }\n\n  /**\n   *    . \n   * remove self in parent \n   */\n  remove() {\n    this.parent.removeChild(this.id);\n  }\n\n  /**\n   * remote child item \n   * \n   * @param {Item} childItem \n   */\n  removeChild(childItemId) {\n    return this.modelManager.removeChild(this.id, childItemId);\n  }\n\n  /**\n   *      . \n   * \n   * @param {string} parentId \n   */\n  hasParent(parentId) {\n    return this.modelManager.hasParent(this.id, parentId);\n  }\n}\n","import { uuidShort } from \"el/utils/math\";\nimport { clone, isNotUndefined, isUndefined } from \"el/sapa/functions/func\";\nimport { second, timecode, framesToTimecode } from \"el/utils/time\";\nimport { createInterpolateFunction, createTimingFunction } from \"../interpolate/index\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { AssetModel } from \"./AssetModel\";\n\nexport class TimelineModel extends AssetModel {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      timeline: [ \n        /*{ id: \"xxx\", \n          title: \"xxxx\", \n          currentTimecode: '00:00:00:00',\n          totalTimecode: '00:00:10:00',\n          currentTime: 0,\n          totalTime: second(60, '00:00:10:00'),\n          displayStartTime: second(60, '00:00:00:00'),\n          displayEndTime: second(60, '00:00:10:00'),\n          fps: 60,\n          animations: [\n          {id: 'xxxxx', properties: [\n            {property: 'width', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'height', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'translateX', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'rotateZ', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'perspective', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'width', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n          ]}\n        ]} */\n      ],\n      compiledTimeline: {},\n      ...obj\n    });\n  }\n\n  expectJSON (key) {\n    if (key === 'compiledTimeline') return false; \n\n    return super.expectJSON(key);\n  }  \n\n  setTimelineInfo (obj) {\n\n    var timeline = this.getSelectedTimeline();\n    if (!timeline) return; \n\n    ['speed', 'iterationCount', 'direction'].forEach(key => {\n      if (isNotUndefined(obj[key])) {\n        timeline[key] = obj[key]\n      }\n    })\n  }\n\n  compileAll () {\n\n    var timeline = this.getSelectedTimeline();\n\n    this.json.compiledTimeline = {}\n    if (timeline) {\n\n      timeline.animations.forEach(animation => {\n        animation.properties.forEach(property => {\n          this.compiledTimingFunction(animation.id, property.property);\n        })\n      })\n  \n    }\n\n  }\n\n  searchTimelineOffset (time) {\n    var timeline = this.getSelectedTimeline();\n    var filteredTimeline = [] \n    if (timeline) {\n\n      timeline.animations.forEach(animation => {\n        animation.properties.forEach(p => {\n          var list = this.getCompiledTimingFunction(animation.id, p.property);\n\n          filteredTimeline.push(list.find(keyframe => {\n            if (keyframe.isOnlyTime && keyframe.startTime <= time) return true; \n\n            return keyframe.startTime <= time && time < keyframe.endTime\n          }))\n        })\n      })\n    }\n\n    return filteredTimeline.filter(it => it);\n  }\n\n  getCompiledTimingFunction (layerId, property) {\n    return this.json.compiledTimeline[`${layerId}.${property}`];\n  }\n\n  compiledTimingFunction (layerId, property) {\n\n    var artboard = this; \n    var p = this.getTimelineProperty(layerId, property);\n    var layer = this.modelManager.get(layerId);\n    var key = `${layerId}.${property}`\n    if (p.keyframes.length === 1) {\n      this.json.compiledTimeline[key] = [] \n      return ;\n    }\n\n    let layerElement = Dom.body().$(`[data-id=\"${layerId}\"]`);\n    let editorString = p.keyframes.map(it => it.editor)[0];\n    this.json.compiledTimeline[key] = p.keyframes.map( (offset, index) => {\n\n      var currentOffset = offset; \n      var nextOffset = p.keyframes[index + 1];\n\n      offset.editor = editorString \n\n\n      if (!nextOffset) {\n        nextOffset = { time: offset.time, value: offset.value };\n      }\n      \n      var it = {\n        layer,\n        layerElement,\n        property: p.property,\n        isOnlyTime: currentOffset.time === nextOffset.time,\n        startTime: offset.time,\n        endTime: nextOffset.time, \n        startValue: offset.value,\n        endValue: nextOffset.value,\n        timing: offset.timing,\n        interpolateFunction: createInterpolateFunction(layer, p.property, offset.value, nextOffset.value, offset.editor, artboard, layerElement),\n        timingFunction: createTimingFunction(offset.timing)\n      }\n\n      it.func = this.makeTimingFunction(it);      \n  \n      return it; \n    }).filter(it => it);\n  }\n\n  makeTimingFunction (it) {\n    //     .     \n    return (time) => {\n      var totalT = (it.endTime - it.startTime);\n      var t = 1; \n      if (totalT !== 0) {\n        t = (time - it.startTime)/totalT;\n      }\n\n      return it.interpolateFunction(it.timingFunction(t), t, totalT, it.timingFunction);\n    }\n  }\n\n  stop (frameOrCode) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n\n      var time = timeline.currentTime;\n\n      //     \n      //   .       . \n      this.searchTimelineOffset(time).forEach(it => {\n        // play  (video, audio) ,   play  . \n        if (it.property === 'playTime') {   // . \n          const $video = it.layerElement.$('video');\n          if ($video) {\n            $video.el.pause();\n          }\n        }\n\n      });\n\n    }\n  }\n\n  seek (frameOrCode, filterFunction = (it => it)) {\n\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n\n      if (isNotUndefined(frameOrCode)) {\n        this.setTimelineCurrentTime(frameOrCode);\n      }\n\n      var time = timeline.currentTime;\n\n      this.searchTimelineOffset(time).filter(filterFunction).forEach(it => {\n        // play  (video, audio) ,   play  . \n        if (it.property === 'offset-path' || it.property === 'playTime') {\n\n          //   function  . \n          it.func(time)\n\n        } else if (it.layer) {\n          it.layer.reset({\n            [it.property]: it.func(time) \n          })\n        }\n\n      });\n\n    }\n\n  }\n\n  getSelectedTimeline () {\n    var timeline = this.json.timeline;\n\n    var a = timeline.filter(it => it.selected);\n\n    var selectedTimeline = a.length ? a[0] : timeline[0]\n\n    return selectedTimeline || null;\n  }\n\n  getKeyframeListReturnArray() {\n    var timeline = this.getSelectedTimeline();\n    var keyframes = []     \n    if (timeline) {\n\n      timeline.animations.forEach(a => {\n        a.properties.forEach(p => {\n          keyframes.push.apply(keyframes, p.keyframes);\n        })\n      })\n    }\n\n    return keyframes; \n  }\n\n  getKeyframeList(callback) {\n    var timeline = this.getSelectedTimeline(); \n    if (timeline) {\n\n      timeline.animations.forEach(a => {\n        a.properties.forEach(p => {\n          p.keyframes.forEach(k => {\n            callback && callback (timeline, k);\n          })\n        })\n      })\n    }\n  }\n\n  getSelectedTimelineLastTime () {\n    var time = 0; \n    this.getKeyframeList((timeline, keyframe) => {\n      time = Math.max(keyframe.time, time);\n    })\n\n    return time; \n  }\n\n  getSelectedTimelineFirstTime () {\n\n    var time = Number.MAX_SAFE_INTEGER; \n    this.getKeyframeList((timeline, keyframe) => {\n      time = Math.min(keyframe.time, time);\n    })\n\n    return time; \n  }\n\n  getSelectedTimelinePrevTime () {\n\n    var time = this.getSelectedTimelineFirstTime(); \n    this.getKeyframeList((timeline, keyframe) => {\n      if (timecode(timeline.fps, keyframe.time) < timeline.currentTimecode) {\n        time = Math.max(keyframe.time, time);\n      }      \n    })\n\n    return time; \n  }\n\n\n  getSelectedTimelineNextTime () {\n    var time = this.getSelectedTimelineLastTime(); \n    this.getKeyframeList((timeline, keyframe) => {\n\n      if (timecode(timeline.fps, keyframe.time) > timeline.currentTimecode) {      \n        time = Math.min(keyframe.time, time);\n      }      \n    })\n\n    return time; \n  }\n\n  setTimelineTitle (id, text) {\n    var timeline = this.json.timeline.find(it => {\n      return it.id === id; \n    })\n\n    if (timeline) {\n      timeline.title = text; \n    }\n  }\n\n  selectTimeline (id) {\n\n    if (id) {\n      this.json.timeline.forEach(it => {\n        it.selected = it.id === id; \n      })\n    } else {\n\n      var selectedTimeline = this.json.timeline.filter(it => it.selected);\n\n      if (selectedTimeline.length) {\n        // NOOP \n      } else {\n        if (this.json.timeline.length) {\n          this.json.timeline.selected = true; \n        }\n      }\n    }\n\n\n    this.compileAll()\n  }\n\n\n  removeAnimation (id) {\n\n    this.json.timeline = this.json.timeline.filter(it => {\n      return it.id !== id; \n    })\n\n    if (this.json.timeline.length) {\n      this.json.timeline[0].selected = true; \n    }\n\n    this.compileAll()\n  }\n\n\n  addTimeline (fps = 60, endTimecode = '00:00:10:00' ) {\n    var id = uuidShort();\n    var selectedTimeline = {\n      id,\n      title: 'sample', \n      ...this.getTimelineLayerInfo(fps, endTimecode),\n      animations: [] \n    }\n    this.json.timeline.push(selectedTimeline)\n\n    this.selectTimeline(id);\n\n    return selectedTimeline;\n  }\n\n  addTimelineLayer (layerId, fps = 60, endTimecode = '00:00:10:00' ) {\n    var selectedTimeline = this.getSelectedTimeline();\n\n    if (!selectedTimeline) {\n      selectedTimeline = this.addTimeline(fps, endTimecode);\n    }\n\n    selectedTimeline.selected = true; \n\n    if (layerId) {\n      var layer = selectedTimeline.animations.filter(it => it.id === layerId) \n\n      if (!layer[0]) {\n        selectedTimeline.animations.push({\n          id: layerId, properties: [] \n        })\n      }\n    }\n\n\n  }\n\n  getTimelineLayerInfo (fps = 60, endTimecode = '00:00:10:00') {\n\n    var endTime = second(fps, endTimecode);\n\n    return {\n      fps,\n      speed: 1,\n      direction: 'normal',\n      iterationCount: 1, \n      currentTimecode: timecode(fps, 0),\n      totalTimecode: timecode(fps, endTime),\n      currentTime: 0,\n      totalTime: endTime,\n      displayStartTime: 0,\n      displayEndTime: endTime\n    }\n\n  }\n\n  setTimelineCurrentTime (frameOrCode) {\n    var timeline = this.getSelectedTimeline();\n    var {fps, totalTimecode} = timeline\n\n    if (timeline) {\n      var frame = frameOrCode;\n      var code = frameOrCode; \n  \n      if ((+frame) + '' === frame) {\n        frame = +frame; \n        code = framesToTimecode(fps, frame);\n      }\n  \n      if (code > totalTimecode) {\n          code = totalTimecode;\n      }\n  \n      var currentTime = second(fps, code);\n\n      timeline.currentTime = currentTime;\n      timeline.currentTimecode = timecode(fps, currentTime);\n\n    }\n    \n  }\n\n  setDisplayTimeDxRate (dxRate, initStartTime, initEndTime) {\n\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n\n      var dxTime = dxRate * timeline.totalTime \n\n      var startTime = initStartTime + dxTime; \n      var endTime = initEndTime + dxTime; \n  \n  \n      startTime = Math.max(startTime, 0);\n      startTime = Math.min(startTime, endTime);        \n  \n      if (startTime === 0) {\n          endTime = initEndTime - initStartTime;\n      }\n  \n      endTime = Math.max(endTime, startTime);                \n      endTime = Math.min(endTime, timeline.totalTime);\n  \n      if (endTime === timeline.totalTime) {\n          startTime = timeline.totalTime - (initEndTime - initStartTime);\n      }\n  \n  \n      timeline.displayStartTime = startTime;\n      timeline.displayEndTime = endTime;\n    }\n     \n\n  }\n\n  setDisplayStartTimeRate (rate) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      timeline.displayStartTime = rate * timeline.totalTime;\n    }\n  }\n\n  setDisplayEndTimeRate (rate) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      timeline.displayEndTime = rate * timeline.totalTime;\n    }\n  }  \n\n  setTimelineCurrentTimeRate (rate) {\n    var timeline = this.getSelectedTimeline();\n    \n    if (timeline) {\n      var {displayStartTime, displayEndTime, fps} = timeline\n      var currentTime = displayStartTime + (displayEndTime - displayStartTime) * rate\n\n      this.setTimelineCurrentTime(timecode(fps, currentTime));\n    }\n\n  }  \n\n  setTimelineTotalTime (frameOrCode) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      var frame = frameOrCode;\n      var code = frameOrCode; \n  \n      if ((+frame) + '' === frame) {\n        frame = +frame; \n        code = framesToTimecode(timeline.fps, frame);\n      }\n  \n      if (second(timeline.fps, code) < timeline.displayEndTime) {\n        timeline.displayEndTime = second(timeline.fps, code)\n        timeline.displayStartTime = 0; \n      }\n\n      timeline.totalTimecode = code; \n      timeline.totalTime = second(timeline.fps, code);\n\n    }\n    \n  }  \n\n\n  getTimelineObject (layerId) {\n    var selectedTimeline = this.getSelectedTimeline();\n\n    if (selectedTimeline) {\n      return selectedTimeline.animations.find(it => it.id === layerId) ;\n    }\n  }\n\n  addTimelineProperty (layerId, property) {\n    this.addTimelineLayer(layerId);\n    var animation = this.getTimelineObject(layerId);\n\n    if (animation) {\n      var p = animation.properties.filter(it => it.property === property);\n\n      if (!p.length) {\n        animation.properties.push({\n          property, keyframes: [] \n        })\n        this.compiledTimingFunction(layerId, property);                \n      } \n\n    }\n  }\n\n  getTimelineProperty (layerId, property) {\n\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n\n      layerId = layerId || timeline.selectedLayerId\n      property = property || timeline.selectedProperty\n\n      var timelineObject = this.getTimelineObject(layerId);\n\n      if (timelineObject) {\n        return timelineObject.properties.find(it => it.property === property);\n      }\n    }\n\n\n  }\n\n\n  setSelectedOffset(layerId, property, time) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      timeline.selectedLayerId = layerId;\n      timeline.selectedProperty = property;\n      timeline.selectedOffsetTime = time;\n\n      var p = this.getTimelineProperty();\n      p.keyframes.forEach(it => {\n        it.selected = it.time === time; \n      })\n    }\n\n  }\n\n  deleteTimelineKeyframe (layerId, property, offsetId) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      p.keyframes = p.keyframes.filter(it => it.id != offsetId);\n    }\n  }\n\n  removeTimelineProperty (layerId, property) {\n    var layer = this.getTimelineObject(layerId);\n\n    if (layer) {\n      layer.properties = layer.properties.filter(p => p.property != property);\n    }\n  }  \n\n  removeTimeline (layerId) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      timeline.animations = timeline.animations.filter(ani => ani.id != layerId);\n    }\n  }  \n\n  setTimelineKeyframeOffsetTime (layerId, property, offsetId, changedTime) {\n    var keyframe = this.getTimelineKeyframeById(layerId, property, offsetId)\n    if (keyframe) {\n      keyframe.time = changedTime;\n\n      this.compiledTimingFunction(layerId, property);                   \n    }\n  }\n\n  setTimelineKeyframeOffsetValue (layerId, property, offsetId, value = undefined, timing = undefined, time = undefined) {\n\n    var keyframe = this.getTimelineKeyframeById(layerId, property, offsetId)\n    if (keyframe) {\n      if (isNotUndefined(time)) { keyframe.time = time; }\n      if (isNotUndefined(value)) { keyframe.value = value; }\n      if (isNotUndefined(timing)) { keyframe.timing = timing; }\n\n      this.compiledTimingFunction(layerId, property);             \n    }\n  }  \n\n  addTimelineKeyframe ({ layerId, property, value, timing, time: newTime, editor }) {\n\n    this.addTimelineProperty(layerId, property);\n    var timeline = this.getSelectedTimeline();\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n\n      var time = newTime || timeline.currentTime;\n\n      var times = p.keyframes.filter(it => it.time === time); \n\n      if (!times.length) {\n        value = (isUndefined(value) || value === '') ? this.getDefaultPropertyValue(property) : value;\n\n        var obj = { id: uuidShort(), layerId, property, time, value, timing: timing || 'linear', editor }\n        p.keyframes.push(obj)\n\n        p.keyframes.sort( (a, b) => {\n          return a.time > b.time ? 1 : -1; \n        })\n\n        this.compiledTimingFunction(layerId, property);     \n\n        return obj;\n      }\n    }\n  }\n\n  getDefaultPropertyValue(property) {\n\n    switch(property) {\n    case 'mix-blend-mode': \n      return 'normal';\n    case 'rotate': \n      return '0deg';\n    case 'box-shadow':  \n      return '0px 0px 0px 0px rgba(0, 0, 0, 1)';\n    case 'text-shadow':  \n      return '0px 0px 0px rgba(0, 0, 0, 1)';\n    case 'opacity': \n      return 1; \n    // case 'background-color':\n    // case 'color':\n    // case 'text-fill-color':\n    // case 'text-stroke-color':\n    // case 'transform': \n    // case 'transform-origin':\n    default: \n      return '';\n    }\n\n  }\n\n  copyTimelineKeyframe (layerId, property, newTime = null) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      var timeline = this.getSelectedTimeline();\n      var time = newTime || timeline.currentTime;\n\n      var times = p.keyframes.filter(it => it.time < time); \n      var value = this.getDefaultPropertyValue(property);\n      var timing = 'linear';\n      var editor = ''; \n      if (times.length) {\n\n        times.sort((a, b) => {\n          return a.time > b.time ? -1 : 1; \n        })\n\n        value = times[0].value + \"\";\n        timing = times[0].timing + \"\"\n        editor = times[0].editor\n\n      }\n\n      this.addTimelineKeyframe({layerId, property, value, timing, editor});\n\n    }\n  }\n\n  getTimelineKeyframe (layerId, property, time) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      return p.keyframes.find(it => it.time === time); \n    }\n  }\n\n  getTimelineKeyframeById (layerId, property, id) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      return p.keyframes.find(it => it.id === id)\n    }\n  }    \n\n  sortTimelineKeyframe (layerId, property) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      p.keyframes.sort((a, b) => {\n        return a.time > b.time ? 1 : -1; \n      })\n      this.compiledTimingFunction(layerId, property);      \n    }\n  }\n\n\n  setFps (fps) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n        timeline.fps = fps; \n\n        timeline.currentTimecode = timecode(fps, timeline.currentTime);\n        timeline.totalTimecode = timecode(fps, timeline.totalTime);\n    }\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      timeline: clone(this.json.timeline)\n    }\n  }  \n\n}\n","import { Keyframe } from \"../property-parser/Keyframe\";\nimport { BaseModel } from \"./BaseModel\";\n\nexport class AssetModel extends BaseModel {\n\n  getDefaultObject(obj = {}) { \n    return super.getDefaultObject({\n      comments: [],   // { id: xxxx, pos: [0, 0, 0], comments: [ { userId: '', message: '', createdAt: '', updatedAt : '' } ] }\n      colors: [],\n      gradients: [],\n      svgfilters: [],\n      svgimages: [],\n      keyframes: [],      \n      images: [],     //  { id: xxxx, url : '' }\n      imageKeys: [],\n      videos: [],     //  { id: xxxx, url : '' }\n      videoKeys: [],      \n      audios: [],     //  { id: xxxx, url : '' }\n      ...obj\n    });\n  }\n\n\n  addKeyframe(keyframe) {\n    this.json.keyframes.push(keyframe);\n    return keyframe;\n  }     \n\n\n  createKeyframe(data = {}) {\n    return this.addKeyframe(\n      new Keyframe({\n        checked: true,\n        ...data\n      })\n    );\n  }    \n  \n\n  removeKeyframe(removeIndex) {\n    this.removePropertyList(this.json.keyframes, removeIndex);\n  }    \n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  sortKeyframe(startIndex, targetIndex) {\n    this.sortItem(this.json.keyframes, startIndex, targetIndex);\n  }    \n\n\n  updateKeyframe(index, data = {}) {\n    this.json.keyframes[+index].reset(data);\n  }      \n\n\n/**\n   * `@keyframes`    \n   */\n  toKeyframeString (isAnimate = false) {\n    return this.json.keyframes\n              .map(keyframe => keyframe.toString(isAnimate))\n              .join('\\n\\n')\n  }  \n\n\n  copyPropertyList(arr, index) {\n    var copyObject = {...arr[index]};\n    arr.splice(index, 0, copyObject);\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'colors',\n        'gradients',\n        'svgfilters',\n        'svgimages',\n        'images',\n        'keyframes',      \n      )\n\n    }\n  }\n\n\n  removePropertyList(arr, removeIndex) {\n    arr.splice(removeIndex, 1);\n  }  \n\n  /* color assets manage */ \n\n  removeColor(removeIndex) {\n    this.removePropertyList(this.json.colors, removeIndex);\n  }      \n\n\n  copyColor(index) {\n    this.copyPropertyList(this.json.colors, index);\n  }        \n\n  sortColor(startIndex, targetIndex) {\n    this.sortItem(this.json.colors, startIndex, targetIndex);\n  }    \n\n  setColorValue(index, value = {}) {\n    this.json.colors[index] = {...this.json.colors[index], ...value}\n  }\n\n  getColorIndex (index) {\n    return this.json.colors[index]\n  }\n\n  getColor (name) {\n    return this.json.colors.filter(item => item.name === name)[0];\n  }\n\n  addColor (obj) {\n    this.json.colors.push(obj);\n    return obj; \n  }\n\n  createColor(data = {}) {\n    return this.addColor(data)\n  }  \n\n\n  /* image assets manage */ \n\n  removeImage(removeIndex) {\n    this.removePropertyList(this.json.images, removeIndex);\n    this.refreshImageKeys();\n  }      \n\n\n  copyImage(index) {\n    this.copyPropertyList(this.json.images, index);\n    this.refreshImageKeys();\n  }        \n\n  sortImage(startIndex, targetIndex) {\n    this.sortItem(this.json.images, startIndex, targetIndex);\n  }    \n\n\n  setImageValue(index, value = {}) {\n    this.json.images[index] = {...this.json.images[index], ...value}\n    this.refreshImageKeys();\n  }  \n\n  getImageValueById (id) {\n    const image = this.json.imageKeys[id]\n    if (!image) return undefined;\n\n    return image.local;\n  }\n\n  refreshImageKeys() {\n    let imageKeys = {}\n    this.json.images.forEach(it => {\n      imageKeys[it.id] = it; \n    })\n\n    this.reset({\n      imageKeys\n    })\n  }\n\n  addImage(obj) {\n    this.json.images.push(obj)\n    this.refreshImageKeys();\n    return obj; \n  }\n\n  createImage(data = {}) {\n    return this.addImage(data)\n  }  \n\n\n\n  /* video assets manage */ \n\n  removeVideo(removeIndex) {\n    this.removePropertyList(this.json.videos, removeIndex);\n    this.refreshVideoKeys()    \n  }      \n\n\n  copyVideo(index) {\n    this.copyPropertyList(this.json.videos, index);\n    this.refreshVideoKeys()    \n  }        \n\n  sortVideo(startIndex, targetIndex) {\n    this.sortItem(this.json.videos, startIndex, targetIndex);\n  }    \n\n\n  setVideoValue(index, value = {}) {\n    this.json.videos[index] = {...this.json.videos[index], ...value}\n  }  \n\n  getVideoValueById (id) {\n    const video = this.json.videoKeys[id]\n    if (!video) return undefined;\n\n    return video.local;\n  }\n\n  refreshVideoKeys() {\n    let videoKeys = {}\n    this.json.videos.forEach(it => {\n      videoKeys[it.id] = it; \n    })\n\n    this.reset({\n      videoKeys\n    })\n  } \n\n  addVideo(obj) {\n    this.json.videos.push(obj)\n    this.refreshVideoKeys()\n    return obj; \n  }\n\n  createVideo(data = {}) {\n    return this.addVideo(data)\n  }    \n\n  /* gradient assets manage */ \n\n\n  removeGradient(removeIndex) {\n    this.removePropertyList(this.json.gradients, removeIndex);\n  }      \n\n\n  copyGradient(index) {\n    this.copyPropertyList(this.json.gradients, index);\n  }        \n\n  sortGradient(startIndex, targetIndex) {\n    this.sortItem(this.json.gradients, startIndex, targetIndex);\n  }    \n\n  setGradientValue(index, value) {\n    this.json.gradients[index] = {...this.json.gradients[index], ...value}\n  }\n\n  getGradientIndex (index) {\n    return this.json.gradients[index]\n  }\n\n  getGradient (name) {\n    return this.json.gradients.filter(item => item.name === name)[0]\n  }\n\n  addGradient(obj = {}) {\n    this.json.gradients.push(obj)\n    return obj; \n  }\n\n  createGradient(data = {}) {\n    return this.addGradient(data)\n  }  \n\n\n  /* svg filters  */\n\n  getSVGFilterIndex (id) {\n\n    var filter = this.json.svgfilters.map( (it, index) => {\n      return { id: it.id, index }\n    }).filter(it => {\n      return it.id === id \n    });\n\n    return filter.length ? filter?.[0]?.index : -1;\n  }\n\n  removeSVGFilter(removeIndex) {\n    this.removePropertyList(this.json.svgfilters, removeIndex);\n  }      \n\n\n  copySVGFilter(index) {\n    this.copyPropertyList(this.json.svgfilters, index);    \n  }        \n\n  sortSVGFilter(startIndex, targetIndex) {\n    this.sortItem(this.json.svgfilters, startIndex, targetIndex);\n  }    \n\n  setSVGFilterValue(index, value) {\n    this.json.svgfilters[index] = {...this.json.svgfilters[index], ...value}\n  }\n\n  addSVGFilter(obj = {}) {\n    this.json.svgfilters.push(obj)\n    var index = this.json.svgfilters.length - 1;\n    return index; \n  }\n\n  createSVGFilter(data = {}) {\n    return this.addSVGFilter(data)\n  }  \n\n \n\n  /* svg clip-path images   */\n\n  getSVGImageIndex (id) {\n\n    var filter = this.json.svgimages.map( (it, index) => {\n      return { id: it.id, index }\n    }).filter(it => {\n      return it.id === id \n    })[0];\n\n    return filter ? filter.index : -1;\n  }\n\n  removeSVGImage(removeIndex) {\n    this.removePropertyList(this.json.svgimages, removeIndex);\n  }      \n\n\n  copySVGImage(index) {\n    this.copyPropertyList(this.json.svgimages, index);    \n  }        \n\n  sortSVGImage(startIndex, targetIndex) {\n    this.sortItem(this.json.svgimages, startIndex, targetIndex);\n  }    \n\n  setSVGImageValue(index, value) {\n    this.json.svgimages[index] = {...this.json.svgimages[index], ...value}\n  }\n\n  addSVGImage(obj = {}) {\n    this.json.svgimages.push(obj)\n    var index = this.json.svgimages.length - 1;\n    return index; \n  }\n\n  createSVGImage(data = {}) {\n    return this.addSVGImage(data)\n  }   \n}\n","\nimport { mat4 } from \"gl-matrix\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { calculateMatrix } from \"el/utils/math\";\nimport { itemsToRectVerties } from \"el/utils/collision\";\nimport { TimelineModel } from \"el/editor/model/TimelineModel\";\n\nconst OFFSET_X = Length.z();\nconst OFFSET_Y = Length.z();\n\nconst identity = mat4.create();\n\nexport class Project extends TimelineModel {\n\n  getDefaultTitle() {\n    return \"New Project\";\n  }\n\n  get isAbsolute  (){\n    return false;\n  }  \n\n  get parent () {\n    return null;\n  }\n\n  toRootVariableCSS () {\n    var obj = {}\n    this.json.rootVariable.split(';').filter(it => it.trim()).forEach(it => {\n      var [key, value] = it.split(':')\n\n      obj[`--${key}`] = value; \n    })\n\n    return obj;\n  }  \n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: \"project\",\n      name: 'new Project',\n      description: '',\n      rootVariable: '',            \n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('name', 'description', 'rootVariable')\n    }\n  }\n\n  get artboards () {\n    return (this.layers || []).filter(it => it.is('artboard'));\n  }\n\n  get offsetX () {\n    return OFFSET_X;\n  }\n\n  get offsetY () {\n    return OFFSET_Y;\n  }  \n\n  hasLayout() {\n    return false;\n  }\n\n  getAccumulatedMatrix() {\n    return mat4.create();\n  }\n\n  getTransformMatrix () {\n    return mat4.create();\n  }\n  /**\n   *   childItem  transform  . \n   * \n   * [newParentInverse] * [childMatrix] * [childItemMatrixInverse] = translate; \n   * \n   * @param {Item} childItem \n   */\n  resetMatrix (childItem) {\n\n    const [x, y] = mat4.getTranslation([], calculateMatrix(\n        childItem.accumulatedMatrix,\n        childItem.localMatrixInverse\n    ));\n\n    childItem.reset({\n        x: Length.px(x),\n        y: Length.px(y),\n    })\n  }\n\n  get rectVerties () {\n    return this.layers?.length ? itemsToRectVerties(this.layers) : null;\n  }\n\n  get accumulatedMatrix () {\n    return identity;\n  }\n\n  get accumulatedMatrixInverse() {\n    return identity;\n  }\n\n  get contentBox () {\n    return {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0\n    }\n}\n\n}","import { itemsToRectVerties, polyPoint, polyPoly, rectToVerties, toRectVerties} from \"el/utils/collision\";\nimport { Item } from \"el/editor/items/Item\";\nimport { Project } from \"plugins/default-items/layers/Project\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { vec3 } from \"gl-matrix\";\nimport { clone, isFunction, isString, isUndefined, isObject } from \"el/sapa/functions/func\";\n\nexport class SelectionManager {\n  constructor(editor) {\n\n    /**\n     * @property {Editor} $editor Editor\n     */    \n    this.$editor = editor; \n\n    /**\n     * @property {Project} project Project Item \n     */\n    this.project = null;\n    /**\n     * @property {Item[]} items Item List\n     */\n    // this.items = [];\n    this.itemKeys = {} \n    this.hoverId = ''; \n    this.hoverItems = []    \n    this.ids = []; \n    this.colorsteps = []\n    this.cachedItemMatrices = []    \n    this.cachedArtBoardVerties = []\n    this.cachedVerties = rectToVerties(0, 0, 0, 0, '50% 50% 0px');\n\n    this.$editor.on('config:bodyEvent', () => {\n      this.refreshMousePosition();\n    })\n  }\n\n  refreshMousePosition() {\n    const areaWidth = this.$editor.config.get('area.width');\n    const pos = this.$editor.viewport.getWorldPosition();\n\n    this.pos = pos; \n    this.column = Math.ceil(pos[0]/areaWidth); \n    this.row = Math.ceil(pos[1]/areaWidth); \n\n  }\n\n  get modelManager() {\n    return this.$editor.modelManager;\n  }\n\n  get items () {\n    return this.modelManager.searchLiveItemsById(this.ids);\n  }\n\n  /**\n   * get first item instance\n   */\n  get current() {\n    return this.modelManager.searchItem(this.ids[0]);\n  }\n\n  /**\n   * \n   * @returns {Project}\n   */\n  get currentProject () {\n\n    if (!this.project) {\n      this.project = this.modelManager.getProjectByIndex();\n    }\n\n    return this.project;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isEmpty () {\n    return !this.length \n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isOne () {\n\n    // artboard     . \n    if (this.length === 1 && this.current.is('artboard')) return true;  \n\n    return this.length === 1; \n  }\n\n  /**\n   * @returns {boolean}\n   */  \n  get isMany () {\n    return this.length > 1; \n  }  \n\n  get length () {\n    return this.ids.length;\n  }\n\n  get isLayoutItem() {\n    return this.current?.isLayoutItem();\n  }\n\n  get allLayers() {\n    return this.currentProject.allLayers || []\n  }\n\n  /**\n   * area position(column, row)     \n   * position   layer   \n   * rendering   group item  . \n   * \n   * hover View   hover    . \n   * \n   * @returns {Item[]}\n   */ \n  get filteredLayers () {\n\n    return this.currentProject.filteredAllLayers((item) => {\n      const areaPosition = item.areaPosition;\n\n      if (!areaPosition) {\n        return false;\n      }\n\n      const {column, row} = areaPosition \n\n      return (column[0] <= this.column && this.column <= column[1]) && \n             (row[0] <= this.row && this.row <= row[1]);\n    }).filter(item => {\n      return item.hasPoint(this.pos[0], this.pos[1])\n    }).map(item => this.modelManager.findGroupItem(item.id));\n\n  }\n\n  /**\n   * snap to object   target item  \n   * \n   * @returns {Item[]}\n   */\n  get snapTargetLayers () {\n\n    if (!this.currentProject) return [];\n\n    return this.currentProject.allLayers.filter((item) => {\n      // project item   \n      if (item.is('project')) return false; \n\n      //    \n      if (this.check(item)) return false; \n      \n      // viewport      . \n      const inViewport = item.verties.some(v => {\n        return this.$editor.viewport.checkInViewport(v)\n      })\n\n      return inViewport;\n\n    })\n  }\n\n  get snapTargetLayersWithSelection () {\n\n    if (!this.currentProject) return [];\n\n    return this.currentProject.allLayers.filter((item) => {\n      // project item   \n      if (item.is('project')) return false; \n\n      // viewport      . \n      const inViewport = item.verties.some(v => {\n        return this.$editor.viewport.checkInViewport(v)\n      })\n\n      return inViewport;\n    });\n  }\n\n  get selectedArtboards () {\n    return [...new Set(this.items.map(it => it.artboard))]\n  }\n\n  /**\n   * \n   * @param {string[]] args\n   */\n  hasChangedField(...args) {\n    if (this.current) {\n      return this.current.hasChangedField(...args);\n    }\n    return false; \n  }\n\n  getRootItem (current) {\n    var rootItem = current;\n    if (current && current.parentId) {\n        rootItem = current.parent; \n    }\n\n    return rootItem;\n  }\n\n  selectColorStep (...args) {\n    this.colorsteps = args; \n  }\n\n  isSelectedColorStep (id) {\n    return this.colorsteps.includes(id);\n  }\n\n  selectProject (project) {\n\n    if (isString(project) ) {\n      project = this.modelManager.get(project);\n    }\n\n    this.project = project;\n    this.select();\n  }\n\n  get isRelative () {\n    var item = this.current || { }\n\n    return item.position === 'relative'\n  }\n\n  isSameIds (newIds) {\n\n    if (this.ids.length != newIds.length) {\n      return false; \n    }\n\n    //  selection      select   . \n    if (this.ids.filter(id => newIds.includes(id)).length === this.ids.length) {\n      return true; \n    }\n\n    return false; \n  }\n\n  filterIds(ids = []) {\n    return ids.map(it => it.id || it).filter(Boolean);\n  }\n\n  //  drag     . \n  // group    . \n  selectByGroup(...ids) {\n\n    var list = this.modelManager.searchItemsById(this.filterIds(ids || [])).filter(it => !it.lock)\n\n    //  group   group   selection  . \n    const newSelectedItems = this.modelManager.convertGroupItems(list);\n\n    return this.select(...newSelectedItems.map(it => it.id));\n  }  \n\n  //  item  selection   . \n  select(...ids) {\n\n    var list = this.modelManager.searchItemsById(this.filterIds(ids || [])).filter(it => !it.lock && it.isAbsolute)\n\n    const newSelectedItems = list.filter(it => {\n      return it.path.filter(element => list.includes(element)).length < 2;\n    }); \n\n    const newSelectedIds = newSelectedItems.map(it => it.id);\n\n    //  selection      select   . \n    if (this.isSameIds(newSelectedIds)) {\n      return false; \n    }\n\n    // this.items = newSelectedItems;\n    this.itemKeys = {}\n    newSelectedItems.forEach(item => {\n      this.itemKeys[item.id] = item;\n    })\n    this.ids = newSelectedIds\n\n    this.setRectCache();\n\n    return true; \n  }\n\n  reload() {\n    return this.select(...this.ids);\n\n  }\n\n  reselect () {\n    this.setRectCache();\n  }\n\n  check (item) {\n    return !!this.itemKeys[item.id]\n  }\n\n  hasPathOf(item) {\n    return this.modelManager.hasPathOf(this.items.filter(it => it.isNot('artboard')), item);\n  }\n\n  hasParent(parentId) {\n    return this.items.some(it => it.hasParent(parentId));\n  }\n\n  get (id) {\n    return this.itemKeys[id];\n  }\n\n  /**\n   * selection  . \n   */\n  empty () {\n    this.select()\n  }\n\n  /**\n   * id   . \n   * id       . \n   * \n   * @param {string[]|null} ids \n   * @returns {Item[]}\n   */\n  itemsByIds(ids = null) {\n\n    let itemIdList = [];\n\n    if (Array.isArray(ids)) {\n      itemIdList = ids; \n    } else if (isString(ids) || isObject(ids)) {\n      itemIdList = [ids];\n    }\n\n    return this.modelManager.searchItemsById(itemIdList);    \n\n  }\n\n  /**\n   * id    \n   * \n   * @param {string} id \n   */\n  selectById(id) {\n    this.select(id)\n  }\n\n  selectAfterCopy () {\n    this.select(...this.items.map(it => it.copy()));\n  }\n\n  addById(id) {\n\n    if (this.itemKeys[id]) return;\n\n    this.select(...this.ids, id)\n  }  \n\n  /**\n   * \n   * id     \n   * \n   * @param {string|string[]} id \n   */\n  removeById(id) {\n\n    let ids = id; \n\n    if (isString(id)) {\n      ids = [id];\n    }\n\n    const filteredItems = this.ids.filter(id => ids.includes(id) === false)\n\n    this.select(...filteredItems)\n  }    \n\n  toggleById (id) {\n    if (this.itemKeys[id]) {\n      this.removeById(id);\n    } else {\n      this.addById(id);\n    }\n  }\n\n  getArtboardByPoint (vec) {\n    return this.currentProject.artboards.find(artboard => {\n      return polyPoint(artboard.originVerties, ...vec) \n    })\n  }\n\n  changeArtBoard () {\n\n    let checkedParentChange = false\n\n    this.each(instance => {\n\n      if (instance.is('artboard') === false) {\n\n        const instanceVerties = instance.originVerties;\n\n        // FIXME:     instance  artboard   artboard   . \n        if (instance.artboard) {\n          const localArtboard = instance.artboard;\n          const localArtboardVerties = localArtboard.originVerties;\n\n          const isInArtboard = polyPoint(localArtboardVerties, ...instanceVerties[0]) || polyPoly(instanceVerties, localArtboardVerties) \n\n\n          //    artboard     . \n          if (isInArtboard) {\n            return false;\n          }\n        }\n\n  \n        const selectedArtBoard = this.cachedArtBoardVerties.find(artboard => {\n          const artboardVerties = artboard.matrix.originVerties;\n          return polyPoint(artboardVerties, ...instanceVerties[0]) || polyPoly(instanceVerties, artboardVerties) \n        })\n  \n\n        if (selectedArtBoard) {\n          //  artboard    artboard  .            \n          if (selectedArtBoard.item !== instance.artboard) {\n            selectedArtBoard.item.appendChild(instance);\n            checkedParentChange = true;\n          }\n        } else {\n          if (instance.artboard) {\n            this.currentProject.appendChild(instance);       \n            checkedParentChange = true;\n          }\n\n        }\n      }\n    })\n\n    return checkedParentChange;\n  }\n\n  setRectCache () {\n\n    if (this.isEmpty) {\n      this.cachedVerties = [];\n      this.cachedRectVerties = [];\n      this.cachedItemMatrices = []\n      this.cachedArtBoardVerties = this.currentProject.artboards.map(item => {\n        return { item, matrix: item.matrix};\n      })\n  \n      return;\n    }\n\n    this.cachedVerties = this.verties;\n    this.cachedRectVerties = toRectVerties(this.verties);\n\n    this.cachedItemMatrices = []\n    this.cachedChildren = [];\n    \n    this.items.forEach(it => {\n\n      // artboard     artboard   \n      if (it.is('artboard')) {\n        this.cachedItemMatrices.push(it.matrix);\n      } \n      // artboard         \n      // TODO: layout        \n      else if (it.hasChildren()) {\n        const list = this.modelManager.getAllLayers(it.id).map(it => it.matrix);\n\n        this.cachedChildren.push(...list.map(it => it.id))\n        this.cachedItemMatrices.push(...list);\n      } \n      //      \n      else {\n        this.cachedItemMatrices.push(it.matrix);\n      }\n\n    })\n\n    // artboard    \n    this.cachedArtBoardVerties = this.currentProject.artboards.map(item => {\n      return { item, matrix: item.matrix};\n    })\n\n    //   matrix   \n    this.cachedCurrentItemMatrix = this.current.matrix;\n\n    //    matrix   \n    this.cachedCurrentChildrenItemMatrices = this.modelManager.getAllLayers(this.current.id).map(it => it.matrix);\n  }\n\n  get verties () {\n\n    if (this.isOne) {    //    \n      return this.current.verties;\n    } else {\n      return this.rectVerties;\n    }\n  }\n\n  get selectionVerties () {\n\n    if (this.isOne) {    //    \n      return this.current.selectionVerties();\n    } else {\n      return this.rectVerties;\n    }\n  }\n\n\n  get originVerties () {\n    return this.rectVerties.filter((_, index) => index < 4);\n  }\n\n  get rectVerties () {\n    if (this.isEmpty) {\n      return [];\n    }\n    return itemsToRectVerties(this.items)\n  }  \n\n  /**\n   * Item Rect  \n   *  selection    \n   * \n   * @returns {ItemRect} \n   */\n  get itemRect () {\n    const verties = this.verties;\n    return {\n      x: Length.px(verties[0][0]),\n      y: Length.px(verties[0][1]),\n      width: Length.px(vec3.distance(verties[0], verties[1])),\n      height: Length.px(vec3.distance(verties[0], verties[3])),      \n    }\n  } \n\n  //    \n  // ,   . \n  //  ,     \n  toCloneObject () {\n    let data = {};\n\n    this.each(item => {\n      data[item.id] = item.toCloneObject(false);\n    })\n\n    return data;     \n  }\n\n  /**\n   *     . \n   * \n   * @param {string[]} keys\n   *  @returns {Object}\n  */\n  pack (...keys) {\n    let data = {};\n\n    this.each(item => {\n\n      data[item.id] = {}\n\n      keys.forEach(key => {     \n        data[item.id][key] = item[key];\n      })\n    })\n\n    return data; \n  }\n\n  /**\n   *      . \n   * \n   * @param {object} valueObject\n   * @returns {Object} \n   */\n  packByValue (valueObject, ids = null) {\n    let data = {};\n    let localItems = []\n    if (ids === null) {\n      localItems = this.items;\n    } else if (isString(ids) || Array.isArray(ids)){\n      localItems = this.itemsByIds(ids);\n    }\n\n    localItems.forEach(item => {\n      data[item.id] = {}\n\n      Object.keys(valueObject).forEach(key => {\n        data[item.id][key] = isFunction(valueObject[key]) ? valueObject[key].call(valueObject, item) : valueObject[key]\n      })\n    })\n\n    return data;\n  }\n\n  each (callback) {\n\n    if ( isFunction(callback)) {\n      this.items.forEach( (item, index) => {\n        callback (item);\n      })\n    }\n\n  }\n\n  map (callback) {\n\n    if (isFunction (callback)) {\n      return this.items.map( (item, index) => {\n        return callback (item, index);\n      })\n    }\n\n    return this.items; \n  }\n\n  reset (obj) {\n\n    Object.entries(obj).forEach(([id, attrs]) => {\n      this.get(id)?.reset(attrs);\n    })\n  }\n\n  resetCallback (callback) {\n    this.each(item => item.reset(callback(item)))\n  }\n\n  resize () {\n    this.each(item => item.resize());\n  }\n\n  remove () {\n    this.each(item => item.remove())\n    this.empty();\n  }\n\n  copy () {\n    this.copyItems = this.items.map(item => item)\n  }  \n\n  paste() {\n    this.select(...this.copyItems.map(item => item.copy(10)));\n    this.copy()\n  }\n  \n  /**\n   *   selection     \n   * \n   * @param {vec3} point \n   * @param {number} y \n   */\n  hasPoint (point) {\n\n    if (this.isMany) {\n      //  selection       \n      return polyPoint(this.originVerties, point[0], point[1]);\n    } else {\n      return this.current?.hasPoint(point[0], point[1]);\n    }\n    \n  }\n\n  /**\n   *   selection      \n   * @param {vec3} point \n   * @returns {boolean}\n   */\n  hasChildrenPoint (point) {\n    return this.cachedChildren.some(it => {\n      return this.modelManager.get(it)?.hasPoint(point[0], point[1]);\n    });\n  }\n\n  checkHover (itemOrId) {\n    if (isString(itemOrId)) {\n      return this.hoverId === itemOrId; \n    } else {\n      return this.hoverItems.findIndex((it) => it.id === itemOrId.id) > -1; \n    }\n  }\n\n  /**\n   * hover item    \n   * \n   * @returns {boolean}\n   */\n  hasHoverItem() {\n    return this.hoverId !== '';\n  }\n\n  /**\n   * hover  item  .\n   * \n   */\n  selectHoverItem() {\n    this.select(this.hoverId);\n  }\n\n  setHoverId (id) {\n    let isChanged = false; \n    if (!id || this.itemKeys[id]) {\n\n      if (this.hoverId != '') {\n        isChanged = true; \n      }\n\n      this.hoverId = ''; \n      this.hoverItems = []      \n    } else if (this.cachedArtBoardVerties.find(it => it.item.id === id)) {\n      if (this.hoverId != '') {\n        isChanged = true; \n      }\n      this.hoverId = ''; \n      this.hoverItems = []\n    } else {\n      if (this.hoverId != id) {\n        isChanged = true; \n      }      \n      this.hoverId = id; \n      this.hoverItems = this.itemsByIds([id]).filter(it => it.isNot('artboard'));\n\n      if (this.hoverItems.length === 0) {\n        this.hoverId = ''; \n        isChanged = true; \n      }\n    }\n\n    if (isChanged) {\n      this.$editor.emit('changeHoverItem');\n    }\n\n    return isChanged;\n  }\n\n  is (...args) {\n    return this.current?.is(...args);\n  }\n}\n","export default function _doForceRefreshSelection (editor) {\n    editor.emit('noneSelectMenu')\n    editor.nextTick(() => {\n        editor.emit('refreshAll')    \n        editor.emit('refreshSelectionTool');       \n    })    \n\n}","export default {\n    command : 'clipboard.copy',\n    title: 'Copy',\n    description : 'Copy',\n    execute: function (editor, obj) {\n        editor.selection.copy();\n    }\n}","export default {\n    command : 'clipboard.paste',\n\n    execute : async function (editor, event) {\n\n        /** todo : support history */\n        if (editor.selection.length && editor.selection.copyItems.length) {\n            editor.selection.paste();\n            editor.emit('refreshAll')\n        } else {\n            var text = await navigator.clipboard.readText()\n\n            if (text) {\n                editor.emit('convertPasteText', text)\n            }            \n        }\n    }\n}","export default {\n    command: 'fileDropItems',\n    execute: function (editor, items = []) {\n        editor.emit('updateResource', items);\n    }\n\n}","import { uuidShort } from \"el/utils/math\";\n\nexport default {\n    command: 'updateImage',\n    execute: function (editor, imageFileOrBlob, rect, containerItem) {\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            var datauri = e.target.result;\n            var local = URL.createObjectURL(imageFileOrBlob);\n\n\n            editor.emit('addImageAssetItem', {\n                id: uuidShort(),\n                type: imageFileOrBlob.type,\n                name: imageFileOrBlob.name, \n                original: datauri, \n                local\n            }, rect, containerItem)\n        }\n\n        reader.readAsDataURL(imageFileOrBlob);\n    }\n}","import { uuidShort } from \"el/utils/math\";\n\nexport default {\n    command: 'updateVideo',\n    execute: function (editor, item, rect, containerItem = undefined) {\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            var datauri = e.target.result;\n            var local = URL.createObjectURL(item);\n\n            editor.emit('addVideoAssetItem', {\n                id: uuidShort(),\n                type: item.type,\n                name: item.name, \n                original: datauri, \n                local\n            }, rect, containerItem)\n        }\n\n        reader.readAsDataURL(item);\n    }\n}","import { Length } from \"el/editor/unit/Length\";\n\nexport default function loadOriginalImage(obj, callback) {\n    var img = new Image();\n    img.onload = () => {\n\n        var info = {\n            id: obj.id,\n            local: obj.local,\n            naturalWidth: Length.px(img.naturalWidth),\n            naturalHeight: Length.px(img.naturalHeight), \n            width: Length.px(img.naturalWidth),\n            height: Length.px(img.naturalHeight)\n        }\n\n        callback && callback(info, img);\n    }\n    img.onerror = (e) => {\n        console.log(e, e.message);\n    }\n    img.src = obj.local; \n}","import { EDIT_MODE_SELECTION } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport loadOriginalImage from \"el/editor/util/loadOriginalImage\";\n\nexport default {\n    command: 'addImageAssetItem',\n    execute: function (editor, imageObject, rect = {}, containerItem = undefined) {\n        var project = editor.selection.currentProject;\n\n        if (project) {\n\n            // append image asset \n            project.createImage(imageObject);\n            editor.emit('addImageAsset');\n\n            // convert data or blob to local url \n            loadOriginalImage(imageObject, (info) => {\n\n                // width     \n                const rate = rect.width.value/info.width.value;\n                const width = rect.width;\n                const height = Length.px(info.height.value * rate); \n\n                editor.emit('addImage', {\n                    src: imageObject.id, \n                    ...info, \n                    ...rect, \n                    width, \n                    height \n                }, containerItem);\n                editor.changeMode(EDIT_MODE_SELECTION);\n                                \n            });\n\n        }\n    }\n}","import { Length } from \"el/editor/unit/Length\";\n\nexport default function loadOriginalVideo(obj, callback) {\n    var video = document.createElement('video');\n    video.onloadeddata = () => {\n\n        var info = {\n            local: obj.local,\n            naturalWidth: Length.px(video.videoWidth),\n            naturalHeight: Length.px(video.videoHeight), \n            width: Length.px(video.videoWidth),\n            height: Length.px(video.videoHeight),\n            duration: video.duration,\n            playTime: `0:1:${video.duration}`,\n            volume: video.volume,\n            muted: video.muted,\n            placebackRate: video.playbackRate\n        }\n\n        callback && callback(info, video);\n    }\n\n    video.src = obj.local; \n}","import { EDIT_MODE_SELECTION } from \"el/editor/manager/Editor\";\nimport loadOriginalVideo from \"el/editor/util/loadOriginalVideo\";\n\nexport default {\n    command: 'addVideoAssetItem',\n    execute: function (editor, videoObject, rect = {}, containerItem = undefined) {\n        var project = editor.selection.currentProject;\n\n        if (project) {\n\n            // append image asset \n            project.createVideo(videoObject);\n            editor.emit('addVideoAsset');\n\n            // convert data or blob to local url \n            loadOriginalVideo(videoObject, (info) => {\n                editor.emit('addVideo', {src: videoObject.id, ...info, ...rect }, containerItem);\n                editor.changeMode(EDIT_MODE_SELECTION);\n                                \n            });\n\n        }\n    }\n}","import { EDIT_MODE_SELECTION } from \"el/editor/manager/Editor\";\nimport loadOriginalImage from \"el/editor/util/loadOriginalImage\";\n\nexport default {\n    command: 'dropImageUrl',\n    execute: function (editor, imageUrl) {\n        // convert data or blob to local url \n        loadOriginalImage({local: imageUrl}, (info) => {\n\n            editor.emit('addImage', {src: info.local, ...info });\n            editor.changeMode(EDIT_MODE_SELECTION);\n                            \n        });\n    }\n\n} ","import { uuidShort } from \"el/utils/math\";\n\nexport default {\n    command: 'addSVGFilterAssetItem',\n    execute: function (editor, callback) {\n\n        var project = editor.selection.currentProject;\n\n        if (project) {\n            var id = uuidShort()\n            var index = project.createSVGFilter({ id, filters: []})\n    \n            callback && callback (index, id);\n        }\n    }\n}","import { uuidShort } from \"el/utils/math\";\nimport { isFunction } from \"el/sapa/functions/func\";\n\nexport default {\n    command: 'updateImageAssetItem',\n    execute: function (editor, item, callback) {\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            var datauri = e.target.result;\n            var local = URL.createObjectURL(item);\n\n            var project = editor.selection.currentProject;\n\n            if (project) {\n    \n                // append image asset \n                const image = project.createImage({\n                    id: uuidShort(),\n                    type: item.type,\n                    name: item.name, \n                    original: datauri, \n                    local\n                });\n                editor.emit('addImageAsset');\n                isFunction(callback) && callback (image.id);\n            }\n        }\n\n        reader.readAsDataURL(item);\n    }    \n}","import { uuidShort } from \"el/utils/math\";\nimport { isFunction } from \"el/sapa/functions/func\";\n\nexport default {\n    command: 'updateVideoAssetItem',\n    execute: function (editor, item, callback) {\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            var datauri = e.target.result;\n            var local = URL.createObjectURL(item);\n\n            var project = editor.selection.currentProject;\n\n            if (project) {\n    \n                // append image asset \n                project.createVideo({\n                    id: uuidShort(),\n                    type: item.type,\n                    name: item.name, \n                    original: datauri, \n                    local\n                });\n                editor.emit('addVideoAsset');\n                isFunction(callback) && callback (local);\n            }\n        }\n\n        reader.readAsDataURL(item);\n    }    \n}","export default class AssetParser {\n    static parse(datauri, enableParselocal = false) {\n        var [_, data] = datauri.split('data:')\n        var [mediaType, ...content] = data.split(',')\n        var [mimeType, encoding] = mediaType.split(';')\n\n        content = content.join(',');\n\n        return {  \n            mimeType, \n            local: enableParselocal && AssetParser.getLink(mimeType, encoding, content)\n        }\n    }\n\n    static getLink (mimeType, encoding, content) {\n        if (encoding === 'base64') {\n            var binary = atob(content);\n            var len = binary.length;\n            var unit8Array = new Uint8Array(len);\n    \n            for(var i = 0; i < len; i++) {\n                unit8Array[i] = binary.charCodeAt(i);\n            }\n    \n            var blob = new Blob([unit8Array], {type: mimeType})\n\n            return URL.createObjectURL(blob);\n        }\n\n        return '' \n    }\n}","import AssetParser from \"el/editor/parser/AssetParser\";\nimport { uuidShort } from \"el/utils/math\";\n\nexport default {\n    command: 'updateUriList',\n    execute: function (editor, item) {\n        var datauri = item.data; \n        if (datauri.indexOf('data:') > -1) {\n            var info = AssetParser.parse(datauri, true);\n\n            // datauri     \n            switch(info.mimeType) {\n            case 'image/png':  \n            case 'image/gif': \n            case 'image/jpg': \n            case 'image/jpeg': \n                editor.emit('addImageAssetItem', {\n                    id: uuidShort(),\n                    type: info.mimeType,\n                    name: '',\n                    original: datauri, \n                    local: info.local\n                });            \n                break; \n            }\n        } else {\n\n            // url     \n            var ext = item.data.split('.').pop();\n            var name = item.data.split('/').pop();\n\n            switch(ext) {\n            case 'png':\n            case 'jpg':\n            case 'gif':\n            case 'svg':\n\n                editor.emit('addImageAssetItem', {\n                    id: uuidShort(),\n                    type: 'image/' + ext,\n                    name,\n                    original: item.data, \n                    local: item.data\n                })\n                break; \n            }\n        }\n\n    }\n}","export default function downloadFile (datauri, filename = 'easylogic.json') {\n    var a = document.createElement('a');\n    a.href = datauri; \n    a.download = filename \n    a.click();\n}","import downloadFile from \"el/editor/util/downloadFile\";\n\nexport default {\n    command: 'downloadJSON',\n    execute: function (editor, filename) {\n        var json = JSON.stringify(editor.modelManager.toJSON())\n\n        var datauri = 'data:application/json;base64,' + window.btoa(unescape(encodeURIComponent(json)));\n\n        downloadFile(datauri, filename || 'easylogic.json')\n    }\n\n}","import { CSS_TO_STRING } from \"el/utils/func\";\n\nexport default {\n \n  makeProjectStyle (item) {\n\n    const keyframeString = item.toKeyframeString();\n    const rootVariable = item.toRootVariableCSS()\n    \n    return `\n      :root {\n        ${CSS_TO_STRING(rootVariable)}\n      }\n      /* keyframe */\n      ${keyframeString}\n    `\n  },\n\n  makeStyle (item,appendCSS = '') {\n\n    if (item.is('project')) {\n      return this.makeProjectStyle(item);\n    }\n\n    const cssString = item.generateView(`[data-id='${item.id}']`, appendCSS)\n    return `\n    ${cssString}\n    ` + item.layers.map(it => {\n      return this.makeStyle(it);\n    }).join('')\n  },\n\n  makeSvg (project) {\n    const SVGString = project.toSVGString ? project.toSVGString() : ''\n    return `\n      ${SVGString ? `<svg width=\"0\" height=\"0\">${SVGString}</svg>` : ''}\n    `\n  },\n\n  generateSVG (editor, rootItem) {\n    return editor.replaceLocalUrltoRealUrl(editor.svg.render(rootItem));\n  }\n\n}","\nimport ExportManager from \"el/editor/manager/ExportManager\";\nimport downloadFile from \"el/editor/util/downloadFile\";\n\nexport default {\n    command: 'downloadSVG',\n    execute: function (editor) {\n        const item = editor.selection.current;\n\n        if (item) {\n            var svgString = ExportManager.generateSVG(editor, item).trim();\n            var datauri = 'data:image/svg+xml;base64,' + window.btoa(svgString);\n            var filename = item.id;\n    \n            downloadFile(datauri, filename)\n        }\n\n    }\n\n}","import Dom from \"el/sapa/functions/Dom\";\n\nexport default function createImagePng (img, callback, imageType = 'image/png') {\n    var canvas = Dom.create('canvas');\n    var {width, height} = img; \n    canvas.resize({ width, height });\n    canvas.drawImage(img)\n\n    callback && callback (canvas.toDataURL(imageType))\n}\n","\nimport loadOriginalImage from \"el/editor/util/loadOriginalImage\";\nimport createImagePng from \"el/editor/util/createImagePng\";\nimport downloadFile from \"el/editor/util/downloadFile\";\nimport ExportManager from \"el/editor/manager/ExportManager\";\n\nexport default {\n    command: 'downloadPNG',\n    execute: function (editor, callbackCommand = '') {\n        const item = editor.selection.current;\n\n        if (item) {\n            const svgString = ExportManager.generateSVG(editor, item).trim();\n            const datauri = 'data:image/svg+xml;base64,' + window.btoa(svgString);\n            const filename = item.id;\n            loadOriginalImage({local: datauri}, (info, img) => {\n                createImagePng(img, (pngDataUri) => {\n                    downloadFile(pngDataUri, filename)\n\n                    if (callbackCommand) {\n                        editor.emit(callbackCommand, pngDataUri);\n                    }\n                })\n            })\n        }\n\n    }\n\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command: 'load.json', \n\n    /**\n     * \n     * @param {Editor} editor \n     * @param {*} json \n     */\n    execute: function (editor, json) {\n\n        editor.modelManager.load(json);\n\n        // editor.load(projects);\n        _doForceRefreshSelection(editor)\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\n\n/**\n * \n * @param {Editor} editor \n * @param {*} callback \n */\nexport default function _currentProject (editor, callback) {\n    var project = editor.selection.currentProject;\n\n    if (project) {\n        var timeline = project.getSelectedTimeline();\n\n        callback && callback (project, timeline)\n    }\n\n}","import _currentProject from \"./_currentProject\"\n\nexport default {\n    command: 'addTimelineProperty',\n    execute:  function (editor, layerList, options = {timing: 'linear'}) {\n        _currentProject(editor, (project, timeline) => {\n\n            if (Array.isArray(layerList) === false) {\n                layerList = [layerList]\n            }\n    \n            var list = []  \n            layerList.forEach(layerId => {\n                var keyframeObj = { \n                    layerId: layerId, \n                    property: options.property, \n                    value: options.value + \"\", \n                    timing: options.timing,\n                    editor: options.editor\n                }\n                var obj = project.addTimelineKeyframe(keyframeObj);\n\n                if (obj) {\n                    list.push(obj);\n                }\n            })\n\n            editor.timeline.select(...list);\n\n            editor.emit('refreshTimeline');\n            editor.emit('refreshSelectedOffset');\n        }) \n        \n    }\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'setTimelineOffset',\n    debounce: 100,\n    execute: function (editor, obj) {\n        _currentProject(editor, (project, timeline) => {\n            project.setTimelineKeyframeOffsetValue(obj.layerId, obj.property, obj.id, obj.value, obj.timing, obj.time);\n            editor.emit('refreshTimeline');\n        })\n    }\n}","import _currentProject from \"./_currentProject\"\n\nexport default {\n    command: 'addTimelineCurrentProperty',\n    execute: function (editor, options = {timing: 'linear'}) {\n\n        _currentProject(editor, (project, timeline) => {\n            var list = []\n            editor.selection.each(item => {\n\n                var keyframeObj = {\n                    layerId: item.id,\n                    property: options.property, \n                    value: item[options.property] + \"\", \n                    timing: options.timing,\n                    editor: options.editor\n                }\n\n                var obj = project.addTimelineKeyframe(keyframeObj);\n\n                if (obj) {\n                    list.push(obj);\n                }\n            })\n\n            editor.timeline.select(...list);\n            editor.emit('refreshTimeline');\n            editor.emit('refreshSelectedOffset');\n        })        \n    }\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'removeTimelineProperty',\n    execute: function (editor, layerId, property) {\n        _currentProject(editor, (project, timeline) => {\n            project.removeTimelineProperty(layerId, property);\n\n            editor.timeline.empty();\n            editor.emit('refreshTimeline')\n            editor.emit('refreshSelectedOffset');            \n        })\n    }\n\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'deleteTimelineKeyframe',\n    execute: function (editor) {\n        _currentProject(editor, (project, timeline) => {\n            editor.timeline.each(item => {\n                project.deleteTimelineKeyframe(item.layerId, item.property, item.id);\n            })\n\n            editor.timeline.empty();\n            editor.emit('refreshTimeline')\n            editor.emit('refreshSelectedOffset');\n        })\n    }\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'selectTimelineItem',\n    execute: function (editor, selectedId) {\n        _currentProject(editor, (project, timeline) => {\n            project.selectTimeline(selectedId);                \n            editor.emit('refreshTimeline');\n            editor.emit('selectTimeline');            \n        })\n    }\n\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'removeTimeline',\n    execute: function (editor, layerId) {\n        _currentProject(editor, (project, timeline) => {\n            project.removeTimeline(layerId);\n\n            editor.timeline.empty();\n            editor.emit('refreshTimeline')\n            editor.emit('refreshSelectedOffset');\n        })\n    }\n\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'removeAnimationItem',\n    execute: function (editor, id) {\n        _currentProject(editor, (project, timeline) => {\n            project.removeAnimation(id);\n\n            editor.timeline.empty();\n            editor.emit('refreshTimeline')\n            editor.emit('removeAnimation');\n        })\n    }\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'addTimelineKeyframe',\n    execute: function (editor, options = {timing : 'linear'}) {\n        _currentProject(editor, (project, timeline) => {\n            var item = editor.modelManager.get(options.layerId);\n\n            var keyframeObj = {\n                layerId: options.layerId,\n                property: options.property,\n                time: options.time,\n                value: item[options.property] + \"\",\n                timing: options.timing,\n                editor: options.editor\n            }\n            var obj = project.addTimelineKeyframe(keyframeObj);\n            editor.timeline.select(obj);            \n            editor.emit('refreshTimeline');\n            editor.emit('refreshSelectedOffset');\n        })        \n    }\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'copyTimelineProperty',\n    execute: function (editor, layerId, property, newTime = null) {\n\n        _currentProject(editor, (project, timeline) => {\n            project.copyTimelineKeyframe(layerId, property, newTime);\n            \n            editor.emit('refreshTimeline');\n        })\n    }        \n\n}","import _currentProject from \"./_currentProject\";\nimport { makeTimer, timecode } from \"el/utils/time\";\n\n\nexport default {\n    command: 'playTimelineItem',\n    description: 'Play button action',\n    execute: function (editor, speed = 1, iterationCount = 1, direction = 'normal') {\n\n        editor.selection.empty()\n        editor.emit('refreshSelection');\n        editor.changeMode('play');\n        editor.emit('afterChangeMode')\n\n        _currentProject(editor, (project, timeline) => {\n          \n            var lastTime = project.getSelectedTimelineLastTime();\n\n            if (editor.timer) {\n                editor.timer.stop()\n            } else {\n                editor.timer = makeTimer({\n                    elapsed: timeline.currentTime * 1000,\n                    speed,\n                    duration: lastTime * 1000,\n                    iterationCount, \n                    direction\n                })\n            }\n\n            editor.timer.play({\n                duration: lastTime * 1000,\n                elapsed: timeline.currentTime * 1000,\n                speed,\n                iterationCount,\n                direction,\n                tick: (elapsed, timer) => {\n                    // console.log('tick', timecode(timeline.fps, elapsed / 1000), elapsed, elapsed/1000);\n                    project.seek(timecode(timeline.fps, elapsed / 1000))\n                    editor.emit('playTimeline');\n                },\n                last: (elapsed, timer) => {                 \n                    // console.log('last', timecode(timeline.fps, elapsed / 1000), elapsed, elapsed/1000);\n                    project.seek(timecode(timeline.fps, elapsed / 1000))\n                    editor.emit('playTimeline');\n                    editor.nextTick(() => {\n                        editor.emit('stopTimeline');\n                        // project.setTimelineCurrentTime(0);\n                        editor.changeMode('SELECTION');\n                        editor.emit('afterChangeMode')                        \n                    })\n\n                },\n                stop: (elapsed, timer) => {\n                    // console.log('stop', timecode(timeline.fps, elapsed / 1000), elapsed, elapsed/1000);                    \n                    project.stop(timecode(timeline.fps, elapsed / 1000)) \n                    editor.emit('stopTimeline');\n                    // project.setTimelineCurrentTime(0);\n                    editor.changeMode('SELECTION');\n                    editor.emit('afterChangeMode')\n                }\n            })      \n        })\n        \n    }\n}","import _currentProject from \"./_currentProject\";\nimport { timecode } from \"el/utils/time\";\n\nexport default {\n    command: 'prevTimelineItem',\n    execute: function (editor) {\n\n        _currentProject(editor, (project, timeline) => {\n            var prevTime = project.getSelectedTimelinePrevTime();\n\n            project.setTimelineCurrentTime(timecode(timeline.fps, prevTime));\n            project.seek();\n\n            editor.emit('playTimeline');\n            editor.changeMode('SELECTION');\n            editor.emit('afterChangeMode')\n        })\n    }    \n\n}","import _currentProject from \"./_currentProject\";\nimport { timecode } from \"el/utils/time\";\n\nexport default {\n    command: 'firstTimelineItem',\n    execute: function (editor) {\n\n        _currentProject(editor, (project, timeline) => {\n            var firstTime = project.getSelectedTimelineFirstTime();\n\n            project.setTimelineCurrentTime(timecode(timeline.fps, firstTime));\n            project.seek();\n            editor.emit('playTimeline');\n            editor.changeMode('SELECTION');\n            editor.emit('afterChangeMode')\n        })\n    }    \n}","import _currentProject from \"./_currentProject\";\nimport { timecode } from \"el/utils/time\";\n\nexport default {\n    command: 'nextTimelineItem',\n    execute: function (editor) {\n\n        _currentProject(editor, (project, timeline) => {\n            var nextTime = project.getSelectedTimelineNextTime();\n\n            project.setTimelineCurrentTime(timecode(timeline.fps, nextTime));\n            project.seek();\n            editor.emit('playTimeline');\n            editor.changeMode('SELECTION');\n            editor.emit('afterChangeMode')\n        })\n    }\n}","import _currentProject from \"./_currentProject\";\nimport { timecode } from \"el/utils/time\";\n\nexport default {\n    command: 'lastTimelineItem',\n    execute: function (editor) {\n\n        _currentProject(editor, (project, timeline) => {\n            var lastTime = project.getSelectedTimelineLastTime();\n\n            project.setTimelineCurrentTime(timecode(timeline.fps, lastTime));\n            project.seek();\n            editor.emit('playTimeline');\n            editor.changeMode('SELECTION');\n            editor.emit('afterChangeMode')\n        })\n    }\n\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'addTimelineItem',\n    execute: function (editor, layerId) {\n        _currentProject(editor, (project, timeline) => {\n            if (layerId) {\n                project.addTimelineLayer(layerId);\n            } else {\n                project.addTimeline();                \n            }\n            editor.emit('refreshTimeline');\n            editor.emit('addTimeline');\n        })\n    }\n\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\"\n\nexport default {\n    command: 'drop.asset',\n    execute: async function (editor, obj, id = null) {\n\n        if (obj.color) {\n            editor.emit('addBackgroundColor', obj.color, id)            \n        } else if (obj.gradient) {\n            editor.emit('addBackgroundImageGradient', obj.gradient, id)\n        } else if (obj.pattern) {\n            editor.emit('addBackgroundImagePattern', obj.pattern, id)            \n        } else if (obj.imageUrl) {\n            editor.emit('addBackgroundImageAsset', obj.imageUrl, id)\n        } else if (obj.asset) {\n\n            const assetData = await editor.storageManager.getCustomAsset(obj.asset.id);\n            if (assetData) {\n                editor.emit('addArtBoard', assetData, obj.asset.center)\n            }\n        }\n\n        _doForceRefreshSelection(editor, true);\n    }\n}","import { BackgroundImage } from \"el/editor/property-parser/BackgroundImage\";\nimport { STRING_TO_CSS } from \"el/utils/func\";\nimport _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command: 'addBackgroundImageGradient',\n    execute: function (editor, gradient, id = null) {\n        var items = editor.selection.itemsByIds(id);\n\n        let itemsMap = {} \n        items.forEach(item => {\n            let images = BackgroundImage.parseStyle(STRING_TO_CSS(item['background-image']));\n\n            images.unshift(new BackgroundImage({\n                image: BackgroundImage.parseImage(gradient)\n            }))\n\n            itemsMap[item.id] = {\n                'background-image': BackgroundImage.join(images)\n            }\n        })\n\n        editor.emit('history.setAttributeForMulti', 'add gradient', itemsMap);              \n    }\n}","import { BackgroundImage } from \"el/editor/property-parser/BackgroundImage\";\nimport { STRING_TO_CSS, CSS_TO_STRING } from \"el/utils/func\";\nimport { URLImageResource } from \"el/editor/property-parser/image-resource/URLImageResource\";\n\nexport default {\n    command: 'addBackgroundImageAsset',\n    execute: function (editor, url, id = null) {\n        \n        var items = editor.selection.itemsByIds(id);\n        let itemsMap = {} \n        items.forEach(item => {\n            let images = BackgroundImage.parseStyle(STRING_TO_CSS(item['background-image']));\n\n            images.unshift(new BackgroundImage({\n                image: new URLImageResource({ url })\n            }))\n\n            itemsMap[item.id] = {\n                'background-image': BackgroundImage.join(images)\n            }\n        })\n\n        editor.emit('history.setAttributeForMulti', 'add background image', itemsMap);        \n\n    }\n}","export default {\n    command : 'removeLayer',\n    execute: function (editor, ids = undefined) {\n\n        // console.log(removeLayer);\n        editor.selection.itemsByIds(ids || editor.selection.ids).forEach(item => {\n            item.remove();\n        })\n\n        editor.selection.empty();\n\n        editor.nextTick(() => {\n            editor.emit('refreshAll')\n        })\n\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\"\n\nexport default {\n    command: 'push.mode.view',\n    execute: function (editor, modeView = 'CanvasView') {\n        editor.modeViewManager.pushMode(modeView);\n    }\n}","export default {\n    command : 'segment.move.down',\n    execute: function (editor, obj = {dy: 1}) {\n        const dy = +obj.dy;\n\n        editor.emit('moveSegment', 0, dy);\n    }\n}","export default {\n    command : 'segment.move.up',\n    execute: function (editor, obj = {dy: 1}) {\n        const dy = +obj.dy;\n\n        editor.emit('moveSegment', 0, -1 * dy);\n    }\n}","export default {\n    command : 'segment.move.right',\n    execute: function (editor, obj = {dx: 1}) {\n        const dx = +obj.dx;\n\n        editor.emit('moveSegment', dx, 0);\n    }\n}","export default {\n    command : 'segment.move.left',\n    execute: function (editor, obj = {dx: 1}) {\n        const dx = +obj.dx;\n\n        editor.emit('moveSegment', -1 * dx, 0);\n    }\n}","const MAX_CACHE_COUNT = 1000;\nconst cachedPatternMap = new Map();\n\n\nexport class PatternCache {\n\n    static has (key) {\n        return cachedPatternMap.has(key);\n    }\n\n    static get (key) {\n        return cachedPatternMap.get(key);\n    }\n\n    static set (key, parsedValue) {\n\n        if (cachedPatternMap.size > MAX_CACHE_COUNT) {\n            cachedPatternMap.clear();\n        }\n\n        cachedPatternMap.set(key, parsedValue);\n    }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { BackgroundImage } from \"./BackgroundImage\";\nimport { STRING_TO_CSS } from \"el/utils/func\";\nimport { PatternCache } from \"./PatternCache\";\nconst PATTERN_REG = /((check|grid|dot|cross\\-dot|diagonal\\-line|vertical\\-line|horizontal\\-line|)\\(([^\\)]*)\\))/gi;\n\nexport class Pattern extends PropertyItem {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({ \n      itemType: \"pattern\", \n      ...obj \n    });\n  }\n\n  toString() {\n    return `${this.json.type}(${this.json.value || \"\"})`;\n  }\n\n  static parse (obj) {\n    var PatternClass = PatternClassName[obj.type];\n\n    if (PatternClass) {\n      return new PatternClass(obj);\n    }\n  }  \n\n  static parseStyle (pattern) {\n\n    var patterns = [];\n\n    if (!pattern) return patterns;\n\n    if (PatternCache.has(pattern)) {\n      return PatternCache.get(pattern);\n    }\n\n\n    var results = convertMatches(pattern);\n\n    var matches = (results.str.match(PATTERN_REG) || []);\n    matches.forEach((value, index) => {\n      var [patternName, patternValue] = value.split(\"(\");\n      patternValue = patternValue.split(\")\")[0];\n\n        var [size, position, foreColor, backColor, blendMode, lineSize] = patternValue.split(\",\").map(it => it.trim());\n\n        var [width, height] = size.split(' ');\n        var [x, y] = position.split(' ');\n        var [lineWidth, lineHeight] = (lineSize || '').split(' ')\n\n        patterns[index] = Pattern.parse({\n          type: patternName,\n          x: Length.parse(x),\n          y: Length.parse(y),\n          width: Length.parse(width),\n          height: Length.parse(height),          \n          foreColor: reverseMatches(foreColor, results.matches),\n          backColor: reverseMatches(backColor, results.matches),\n          blendMode: blendMode || 'normal',\n          lineWidth: Length.parse(lineWidth || '1px'),\n          lineHeight: Length.parse(lineHeight || '1px'),\n        });\n    });\n\n    PatternCache.set(pattern, patterns);\n\n    \n    return patterns;\n  }\n\n  static join (list) {\n    return list.map(it => Pattern.parse(it)).join(' ');\n  }\n\n  static toCSS(str) {\n    let list = [];\n    Pattern.parseStyle(str).forEach(it => {\n     list.push.apply(list, BackgroundImage.parseStyle(STRING_TO_CSS(it.toCSS())))\n    });\n\n    return BackgroundImage.joinCSS(list);\n  }\n}\n\nexport class BasePattern extends Pattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"base\",\n      x: Length.z(),\n      y: Length.z(),\n      width: Length.px(20),\n      height: Length.px(20),\n      lineWidth: Length.px(1),\n      lineHeight: Length.px(1),       \n      foreColor: 'black',\n      backColor: 'white',\n      blendMode: 'normal'\n    });\n  }\n\n  convert(json) {\n    json = super.convert(json);\n\n    json.width = Length.parse(json.width);\n    json.height = Length.parse(json.height);\n    json.lineWidth = Length.parse(json.lineWidth);\n    json.lineHeight = Length.parse(json.lineHeight);    \n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n\n    return json; \n  }\n\n  toString() {\n    var {\n      type, width, height, x, y, foreColor, backColor, blendMode, lineWidth, lineHeight\n    } = this.json;\n    return `${type}(${width} ${height}, ${x} ${y}, ${foreColor}, ${backColor}, ${blendMode}, ${lineWidth} ${lineHeight})`;\n  }\n}\n\nexport class CheckPattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'check'\n    })\n  }\n\n  toCSS() {\n    let { width, height, x, y, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n      background-image: repeating-linear-gradient(45deg, ${foreColor} 25%, ${backColor} 25%, ${backColor} 75%, ${foreColor} 75%, ${foreColor} 100%),repeating-linear-gradient(45deg, ${foreColor} 25%, ${backColor} 25%, ${backColor} 75%, ${foreColor} 75%, ${foreColor} 100%);\n      background-position: 0px 0px, ${x} ${y};\n      background-size: ${width} ${height}, ${width} ${height};\n      background-blend-mode: ${blendMode}, ${blendMode};\n    `\n  }\n}\n\nexport class GridPattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'grid',\n    })\n  }\n\n  toCSS() {\n    let { width, height, lineWidth, lineHeight, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n      background-image: linear-gradient(${foreColor} ${lineHeight}, ${backColor} ${lineHeight}),linear-gradient(to right, ${foreColor} ${lineWidth}, ${backColor} ${lineWidth});\n      background-size: ${width.value/2}px ${height.value/2}px, ${width.value/2}px ${height.value/2}px;      \n      background-blend-mode: ${blendMode}, ${blendMode};      \n    `\n  }  \n\n\n}\n\nexport class DotPattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'dot'\n    })\n  }\n\n  toCSS() {\n    let { width, height, lineWidth, lineHeight, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n      background-image: radial-gradient(${foreColor} ${lineWidth}, ${backColor} ${lineWidth});\n      background-size: ${width.value/2}px ${height.value/2}px;          \n      background-blend-mode: ${blendMode};      \n    `\n\n\n  }    \n}\n\nexport class CrossDotPattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'cross-dot'\n    })\n  }\n\n\n  toCSS() {\n    let { width, height, x, y, lineWidth, lineHeight, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n      background-image: radial-gradient(${foreColor} ${lineWidth}, ${backColor} ${lineWidth}),radial-gradient(${foreColor} ${lineWidth}, ${backColor} ${lineWidth});\n      background-size: ${width} ${height},${width} ${height};\n      background-position: 0px 0px, ${x} ${y};      \n      background-blend-mode: multiply, ${blendMode};\n    `\n\n\n  }      \n}\n\nexport class DiagonalLinePattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'diagonal-line'\n    })\n  }\n\n  toCSS() {\n    let { width, height, x, lineWidth, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n    background-image: repeating-linear-gradient(${x}, ${foreColor} 0px, ${foreColor} ${lineWidth}, ${backColor} 0px, ${backColor} 50%);\n    background-size: ${width} ${height};      \n    background-blend-mode: ${blendMode};\n  `\n\n  }       \n}\n\nexport class VerticalLinePattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'vertical-line'\n    })\n  }\n\n  toCSS() {\n    let { width, height, x, y, lineWidth, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n      background-image: repeating-linear-gradient(to right, ${foreColor} 0px, ${foreColor} ${lineWidth}, ${backColor} ${lineWidth}, ${backColor} 100%);\n      background-size: ${width} ${height}; \n      background-position: ${x} ${y};        \n      background-blend-mode: ${blendMode};\n    `\n\n  }         \n}\n\n\nexport class HorizontalLinePattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'horizontal-line'\n    })\n  }\n\n  toCSS() {\n    let { width, height, x, y, lineWidth, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n      background-image: repeating-linear-gradient(0deg, ${foreColor} 0px, ${foreColor} ${lineWidth}, ${backColor} ${lineWidth}, ${backColor} 100%);    \n      background-position: ${x} ${y};\n      background-size: ${width} ${height};   \n      background-blend-mode: ${blendMode};\n    `\n\n  }           \n}\n\n\n\nexport const PatternClassList = [\n  CheckPattern,\n  GridPattern,\n  DotPattern,\n  CrossDotPattern,\n  DiagonalLinePattern,\n  VerticalLinePattern,\n  HorizontalLinePattern\n];\n\nexport const PatternClassName = {\n  check: CheckPattern,\n  grid: GridPattern,\n  dot: DotPattern,\n  'cross-dot': CrossDotPattern,\n  'diagonal-line': DiagonalLinePattern,\n  'vertical-line': VerticalLinePattern,\n  'horizontal-line': HorizontalLinePattern\n};\n\nexport const PatternClass = {\n  CheckPattern,\n  GridPattern,\n  DotPattern,\n  CrossDotPattern,\n  DiagonalLinePattern,\n  VerticalLinePattern,\n  HorizontalLinePattern\n};\n","import { Pattern } from \"el/editor/property-parser/Pattern\";\n\nexport default {\n    command: 'addBackgroundImagePattern',\n    execute: function (editor, pattern, id = null) {\n\n        var items = editor.selection.itemsByIds(id);\n        let itemsMap = {} \n        items.forEach(item => {\n\n            itemsMap[item.id] = {\n                pattern: Pattern.join([\n                    ...Pattern.parseStyle(pattern), \n                    ...Pattern.parseStyle(item.pattern)\n                ])\n            }\n        })\n\n        editor.emit('history.setAttributeForMulti', 'add pattern', itemsMap);     \n\n    }\n}","export default {\n    command: 'addBackgroundColor',\n    execute: function (editor, color, id = null) {\n        editor.command('setAttributeForMulti', 'add background color', editor.selection.packByValue({\n            'background-color': color\n        }, id));\n    }\n}","import { getVertiesCenterX } from \"el/utils/math\";\n\nexport default {\n    command : 'sort.center',\n    execute: function (editor) {\n       \n        if (editor.selection.isOne) {\n\n            const current = editor.selection.current; \n\n            if (current.parent.is('project')) {\n                //   project   . \n            } else if (current.artboard) {\n                //    artboard   artboard   . \n                const distX = getVertiesCenterX(current.artboard.verties) - getVertiesCenterX(editor.selection.verties);\n                editor.emit('moveLayer', distX, 0);\n            }\n\n        } else if (editor.selection.isMany) {\n            let maxRightX = getVertiesCenterX(editor.selection.verties);\n\n            editor.emit('moveLayerForItems', editor.selection.map(item => {\n                let itemRightX = getVertiesCenterX(item.verties);\n\n                return { item, dist: [maxRightX - itemRightX, 0, 0]}\n\n            }));            \n\n        }\n    }\n}","import { getVertiesMinX } from \"el/utils/math\";\n\nexport default {\n    command : 'sort.left',\n    execute: function (editor) {\n\n        if (editor.selection.isOne) {\n\n            const current = editor.selection.current; \n\n            if (current.parent.is('project')) {\n                //   project   . \n            } else if (current.artboard) {\n                //    artboard   artboard   . \n                const distX = getVertiesMinX(current.artboard.verties) - getVertiesMinX(editor.selection.verties);\n                editor.emit('moveLayer', distX, 0);\n            }\n\n        } else if (editor.selection.isMany) {\n            let maxRightX = getVertiesMinX(editor.selection.verties);\n\n            editor.emit('moveLayerForItems', editor.selection.map(item => {\n                let itemRightX = getVertiesMinX(item.verties);\n\n                return { item, dist: [maxRightX - itemRightX, 0, 0]}\n\n            }));            \n\n        }\n    }\n}","import { getVertiesCenterY } from \"el/utils/math\";\n\nexport default {\n    command : 'sort.middle',\n    execute: function (editor) {\n\n        if (editor.selection.isOne) {\n\n            const current = editor.selection.current; \n\n            if (current.parent.is('project')) {\n                //   project   . \n            } else if (current.artboard) {\n                //    artboard   artboard   . \n                const distY = getVertiesCenterY(current.artboard.verties) - getVertiesCenterY(editor.selection.verties);\n                editor.emit('moveLayer', 0, distY);\n            }\n\n        } else if (editor.selection.isMany) {\n            let maxRightY = getVertiesCenterY(editor.selection.verties);\n\n            editor.emit('moveLayerForItems', editor.selection.map(item => {\n                let itemRightY = getVertiesCenterY(item.verties);\n\n                return { item, dist: [0, maxRightY - itemRightY, 0, 0]}\n\n            }));            \n\n        }\n    }\n}","import { getVertiesMaxY } from \"el/utils/math\";\n\nexport default {\n    command : 'sort.bottom',\n    execute: function (editor) {\n        \n        if (editor.selection.isOne) {\n\n            const current = editor.selection.current; \n\n            if (current.parent.is('project')) {\n                //   project   . \n            } else if (current.artboard) {\n                //    artboard   artboard   . \n                const distY = getVertiesMaxY(current.artboard.verties) - getVertiesMaxY(editor.selection.verties);\n                editor.emit('moveLayer', 0, distY);\n            }\n\n        } else if (editor.selection.isMany) {\n            let maxRightY = getVertiesMaxY(editor.selection.verties);\n\n            editor.emit('moveLayerForItems', editor.selection.map(item => {\n                let itemRightY = getVertiesMaxY(item.verties);\n\n                return { item, dist: [0, maxRightY - itemRightY, 0, 0]}\n\n            }));            \n\n        }\n    }\n}","import { getVertiesMinY } from \"el/utils/math\";\n\nexport default {\n    command : 'sort.top',\n    execute: function (editor) {\n\n        if (editor.selection.isOne) {\n\n            const current = editor.selection.current; \n\n            if (current.parent.is('project')) {\n                //   project   . \n            } else if (current.artboard) {\n                //    artboard   artboard   . \n                const distY = getVertiesMinY(current.artboard.verties) - getVertiesMinY(editor.selection.verties);\n                editor.emit('moveLayer', 0, distY);\n            }\n\n        } else if (editor.selection.isMany) {\n            let maxRightY = getVertiesMinY(editor.selection.verties);\n\n            editor.emit('moveLayerForItems', editor.selection.map(item => {\n                let itemRightY = getVertiesMinY(item.verties);\n\n                return { item, dist: [0, maxRightY - itemRightY, 0, 0]}\n\n            }));            \n\n        }\n    }\n}","import { getVertiesMaxX } from \"el/utils/math\";\n\nexport default {\n    command : 'sort.right',\n\n    /**\n     * \n     * @param {Editor} editor \n     */\n    execute: function (editor) {\n\n        if (editor.selection.isOne) {\n\n            const current = editor.selection.current; \n\n            if (current.parent.is('project')) {\n                //   project   . \n            } else if (current.artboard) {\n                //    artboard   artboard   . \n                const distX = getVertiesMaxX(current.artboard.verties) - getVertiesMaxX(editor.selection.verties);\n                editor.emit('moveLayer', distX, 0);\n            }\n\n        } else if (editor.selection.isMany) {\n            let maxRightX = getVertiesMaxX(editor.selection.verties);\n\n            editor.emit('moveLayerForItems', editor.selection.map(item => {\n                let itemRightX = getVertiesMaxX(item.verties);\n\n                return { item, dist: [maxRightX - itemRightX, 0, 0]}\n\n            }));            \n\n        }\n    }\n}","import { vertiesToRectangle } from \"el/utils/collision\";\n\nexport default {\n    command : 'same.width',\n    description: 'fit at the same width',\n    execute: function (editor) {\n\n        // console.log(editor.selection.isMany);\n\n        if (editor.selection.isMany) {\n            const rect = vertiesToRectangle(editor.selection.verties);\n\n            editor.command('setAttributeForMulti', 'fit at the same width', editor.selection.packByValue({\n                x: rect.x,\n                width: rect.width\n            }))\n\n        }\n    }\n}","import { vertiesToRectangle } from \"el/utils/collision\";\nimport { Editor } from \"../manager/Editor\";\n\nexport default {\n    command : 'same.height',\n    description : 'fit at the same height',\n\n    /**\n     * @param {Editor} editor\n     */\n    execute: function (editor) {\n\n        var len = editor.selection.length ;\n\n        if (len == 1) {\n            // artboard    . \n        } else if (len > 1) {\n            const rect = vertiesToRectangle(editor.selection.verties);\n\n            editor.command('setAttributeForMulti', 'fit at the same height', editor.selection.packByValue({\n                y: rect.y,\n                height: rect.height\n            }))\n        }\n        \n    }\n}","/**\n *     \n * \n * @param {*} editor \n * @param {*} type \n */\nexport default async function addLayerView (editor, type, data = {}) {\n    // editor.emit('hideSubEditor');\n    editor.selection.empty();\n    await editor.emit('refreshSelectionTool');        \n    await editor.emit('hideAddViewLayer');\n    await editor.emit('removeGuideLine');\n\n    if (type === 'select') {\n        // NOOP\n        // select    . \n    } else if (type === 'brush') {\n        await editor.emit('showPathDrawEditor');\n    } else if (type === 'path') {\n        await editor.emit('showPathEditor', 'path' );\n    } else  {\n        await editor.emit('showLayerAppendView', type, data );\n    }\n}","export default {\n    command: 'setEditorLayout',\n    execute: function (editor, layout) {\n        editor.setLayout(layout);\n        editor.emit('changedEditorlayout')\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'item.move.depth.down',\n    execute: function (editor) {\n        const current = editor.selection.current; \n\n        if (current) {\n            current.orderPrev();\n        }\n\n        _doForceRefreshSelection(editor, true);\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'item.move.depth.up',\n    execute: function (editor) {\n        // TODO:   \n        // TODO:  3      1:  , 2:    , 3:    \n        const current = editor.selection.current; \n\n        if (current) {\n            current.orderNext();\n        }\n\n        _doForceRefreshSelection(editor, true);\n    }\n}","export default {\n    command : 'group.item',\n    execute: function (editor) {\n\n        if (editor.selection.length === 0) return; \n\n        const project = editor.selection.currentProject\n\n        if (project) {\n\n            // no  \n            project.generateListNumber()\n\n            // depth  \n            const list = editor.selection.map(item => {\n                return {depth: item.depth, item }\n            })\n    \n            // no, depth   \n            list.sort((a, b) => {\n                if (a.depth === b.depth) {\n                    return a.no > b.no ? -1 : 1; \n                }\n    \n                return a.depth > b.depth ? 1 : -1; \n            })\n\n            //               \n            const groupLayer = editor.createModel({\n                itemType: 'rect',\n                ...editor.selection.itemRect\n            })\n\n            // ,        \n            list[0].item.appendAfter(groupLayer);\n\n            // selected  items   group Layer   \n            list.forEach(({ item }) => {\n                groupLayer.appendChild(item); \n            })\n\n            editor.selection.select(groupLayer);\n\n            editor.emit('refreshAll')\n        }\n\n    }\n}","export default {\n    command : 'ungroup.item',\n    execute: function (editor) {\n\n        if (editor.selection.length === 0) return; \n\n        const current = editor.selection.current;\n\n        if (current) {\n\n            let groupLayer = current;\n            let layers = [...groupLayer.layers];\n\n            layers.reverse();\n\n            layers.forEach(child => {\n                groupLayer.appendBefore(child);\n            })\n\n            editor.selection.select(...layers);\n            editor.emit('refreshAll')            \n        }\n\n    }\n}","import _currentProject from \"./_currentProject\";\nimport { isArrayEquals } from \"el/utils/func\";\n\nexport default {\n    command: 'history.refreshSelection',\n    description: `save selection in history `,\n    description_ko: 'Selection   History  ',\n    execute: function (editor, message = 'selection') {\n        const currentValues = editor.selection.ids; \n        const projectId = editor.selection.currentProject?.id; \n        const undoValues = editor.history.selectedIds\n\n        //       . \n        if (isArrayEquals(currentValues, undoValues)) {\n            return;\n        }\n\n        editor.history.add(message, this, {\n            currentValues: [currentValues, projectId],\n            undoValues: [undoValues, projectId]\n        })\n\n        this.nextAction(editor);\n    },\n\n    nextAction (editor) {\n        editor.nextTick(() => {\n            editor.history.saveSelection()\n            editor.emit('refreshSelection');\n\n            editor.nextTick(() => {\n                editor.emit('refreshSelectionTool');\n            })\n\n        })\n    },\n\n    redo : function (editor, { currentValues: [ids, projectId] }) {\n        editor.selection.selectProject(projectId)\n        editor.selection.select(...ids)\n\n        this.nextAction(editor);\n    },\n    undo: function (editor, { undoValues: [ids, projectId] }) {\n        editor.selection.selectProject(projectId)\n        editor.selection.select(...ids)\n\n        this.nextAction(editor);      \n    }\n}","import { isFunction } from \"el/sapa/functions/func\";\nimport { Editor } from \"el/editor/manager/Editor\";\n\nexport default {\n    command: 'setAttributeForMulti',\n    /**\n     * \n     * @param {Editor} editor \n     * @param {object} multiAttrs       { [id] : { key: value }, .... }\n     */\n    execute: function (editor, multiAttrs = {}) {\n\n        const messages = []\n\n        Object.entries(multiAttrs).forEach(([id, attrs]) => {\n            const item = editor.modelManager.get(id);            \n            const newAttrs = {};\n\n            Object.entries(attrs).forEach(([key, value]) => {\n                newAttrs[key] = isFunction(value) ? value(item) : value;\n            })\n\n            messages.push({ id: item.id, attrs: newAttrs })\n        })\n\n\n        // send message \n        messages.forEach(message => {\n            editor.emit('update', message.id, message.attrs)   \n        })\n\n    }\n}","export default {\n    command : 'history.setAttributeForMulti',\n    execute: function (editor, message, multiAttrs = {}) {\n\n        editor.emit('setAttributeForMulti', multiAttrs)\n\n        editor.history.add(message, this, {\n            currentValues: [multiAttrs],\n            undoValues: editor.history.getUndoValuesForMulti(multiAttrs)\n        })\n\n        editor.nextTick(() =>  {\n          editor.history.saveSelection()  \n        })        \n    },\n\n    redo: function (editor, {currentValues}) {\n        editor.emit('setAttributeForMulti', ...currentValues)\n        editor.nextTick(() => {\n            editor.selection.reselect();            \n            editor.emit('refreshAll');         \n        })\n\n    },\n\n    undo: function (editor, { undoValues }) {\n        const ids = Object.keys(undoValues)\n        const items = editor.selection.itemsByIds(ids)\n\n        items.forEach(item => {\n            item.reset(undoValues[item.id]);\n        })\n        editor.selection.reselect();\n\n        editor.nextTick(() => {\n            editor.emit('refreshAll');\n        })\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command: 'history.addLayer',\n    description: 'add layer in history ',\n    execute: function (editor, message, layer, rect = {}, isSelected = true, containerItem) {\n\n        editor.emit('addLayer', layer, rect, isSelected, containerItem)\n\n        editor.nextTick(() => {\n            editor.history.add(message, this, {\n                //    (, screenX, screenY     rect     . )\n                currentValues: [layer, {}, isSelected, layer.parent],\n                undoValues: [layer.id],\n            })\n        })\n\n        editor.nextTick(() =>  {\n          editor.history.saveSelection()  \n        })        \n    },\n\n    redo: function (editor, {currentValues}) {\n        editor.emit('addLayer', ...currentValues)\n        editor.nextTick(() => {\n            editor.emit('refreshAll');\n        })\n\n    },\n\n    undo: function (editor, { undoValues }) {\n        const ids = undoValues\n        const items = editor.selection.itemsByIds(ids)\n\n        //       \n        //        \n        items.forEach(item => {\n            if (item) {\n                item.remove();\n            }\n        })\n\n        editor.nextTick(() => {\n            editor.selection.empty();\n            editor.emit('refreshAll');\n        })\n    }\n}","import { Item } from \"el/editor/items/Item\";\nimport { Editor } from \"el/editor/manager/Editor\";\n\n/**\n * Item    . \n * \n *     id   , \n * \n * item           . \n * \n * @param {Item[]} items \n */\nfunction filterChildren(items = []) {\n\n    // items   /      . \n    return items.filter(item => {\n\n        let total = 0;\n        item.path.forEach(treeItem => {\n            total += items.filter(it => it.id === treeItem.id).length ? 1 : 0\n        })\n\n        return total === 1\n    })\n}\n\nexport default {\n    command : 'history.removeLayer',\n    description: 'remove layer',\n\n    /**\n     *   .    history  . \n     * \n     * @param {Editor} editor \n     * @param {string} message \n     * @param {string[]|undefined} ids \n     */\n    execute: function (editor, message, event, ids) {\n\n        // //     clone . \n        let items = editor.selection.itemsByIds(ids || editor.selection.ids);\n\n        // items   /      . \n        items = filterChildren(items);\n\n        const filtedIds = items.map(it => it.id);\n\n        //    modelManager  mark  . \n        editor.modelManager.markRemove(filtedIds);        \n\n        //  \n        items.forEach(item => item.remove())\n\n        editor.history.add(message, this, {\n            currentValues: [filtedIds],\n            undoValues: filtedIds,\n        })\n\n\n        editor.nextTick(() =>  {\n            editor.selection.removeById(filtedIds)\n            editor.emit('refreshAll')\n            editor.emit('removeGuideLine');\n            editor.nextTick(() => {\n                editor.history.saveSelection()  \n            })\n        })        \n    },\n\n    redo: function (editor, {currentValues}) {\n\n        const ids = currentValues[0]\n        let items = editor.selection.itemsByIds(ids || editor.selection.ids);\n\n        // items   /      . \n        items = filterChildren(items);\n\n        //    modelManager  mark  . \n        editor.modelManager.markRemove(items.map(it => it.id));        \n\n        //  \n        items.forEach(item => item.remove())\n\n        editor.nextTick(() => {\n            editor.emit('refreshAll');\n        })\n    },\n\n    /**\n     *  undoValues  . \n     *         . \n     * \n     * @param {Editor} editor \n     * @param {Object} param1 \n     * @param {string} param1.undoValues  JSON serialize   \n     */\n    undo: function (editor, { undoValues: recoverIds }) {\n        editor.modelManager.unmarkRemove(recoverIds)\n\n        editor.nextTick(() => {\n            editor.emit('refreshAll');\n        })\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { mat4, vec3 } from \"gl-matrix\";\nimport PathParser from 'el/editor/parser/PathParser';\nimport { rectToVerties } from \"el/utils/collision\";\nimport { vertiesMap, calculateMatrix, calculateMatrixInverse } from 'el/utils/math';\nimport { Transform } from 'el/editor/property-parser/Transform';\n\n\nexport default {\n    command: 'updatePathItem',\n\n    description: 'Update path string for selected svg path item',\n\n    /**\n     * \n     * @param {Editor} editor \n     * @param {object} pathObject \n     * @param {string} pathObject.d    svg path  \n     * @param {object} pathObject.matrix    svg path  \n     */\n    execute: function (editor, pathObject) {\n        const current = editor.selection.current;\n        if (current) {\n            if (pathObject.box === 'box') {\n                const newPath = current.invertPath(pathObject.d);\n    \n                // d  (path )  . \n                editor.command('setAttributeForMulti', \"change local path\", editor.selection.packByValue({\n                    d: newPath.d,\n                }))\n            } else {\n                const newPath = new PathParser(pathObject.d);\n                // 1.   \n                newPath.transformMat4(pathObject.matrix.accumulatedMatrixInverse);\n\n                // 2.   bbox  \n                let bbox = newPath.getBBox();\n\n                // 3. newWidth, newHeight  \n                const newWidth = vec3.distance(bbox[1], bbox[0]);\n                const newHeight = vec3.distance(bbox[3], bbox[0]);\n\n\n                // 4. bbxo     \n                let oldBBox = vertiesMap(\n                    rectToVerties(bbox[0][0], bbox[0][1], newWidth, newHeight), \n                    pathObject.matrix.accumulatedMatrix\n                );\n\n                // 5.    transform   ,   translate   \n                //      translate    origin  bbox     \n                let newBBox = vertiesMap(oldBBox, calculateMatrixInverse(\n                    mat4.fromTranslation([], oldBBox[4]),\n                    Transform.createTransformMatrix(\n                        Transform.parseStyle(pathObject.matrix.transform), \n                        newWidth, \n                        newHeight\n                    ),\n                    mat4.fromTranslation([], vec3.negate([], oldBBox[4])),\n                ));\n\n                // 6.    bbox    matrix  \n                const worldMatrix = calculateMatrix(\n                    mat4.fromTranslation([], newBBox[0]),                      \n                    current.getLocalTransformMatrix(newWidth, newHeight),\n                );\n\n\n                // 7.       \n                const realXY = mat4.getTranslation([], calculateMatrix(\n                    pathObject.matrix.parentMatrixInverse,                    \n                    worldMatrix,                    \n                    mat4.invert([], current.getLocalTransformMatrix(newWidth, newHeight)),\n                ));\n\n                // d  (path )  . \n                editor.command('setAttributeForMulti', \"change path\", editor.selection.packByValue({\n                    // bbox        \n                    // bbox   newWidth, newHeight  path  . \n                    d: newPath.translate(-bbox[0][0], -bbox[0][1]).d,\n                    x: Length.px(realXY[0]),\n                    y: Length.px(realXY[1]),\n                    width: Length.px(newWidth),\n                    height: Length.px(newHeight)\n                }))\n            }\n\n        }\n\n\n    }\n\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'moveLayer',\n\n    description: 'move layer by keydown with matrix ',\n    /**\n     * \n     * @param {Editor} editor \n     * @param {number} dx\n     * @param {number} dy\n     */\n    execute: function (editor, dx = 0, dy = 0) {\n\n        editor.command('setAttributeForMulti', 'item move down', editor.selection.packByValue({\n            x: (item) => Length.px(item.offsetX.value + dx),\n            y: (item) => Length.px(item.offsetY.value + dy),\n        }));     \n\n        editor.nextTick(() =>{\n            editor.selection.reselect();\n            editor.emit('refreshAll')\n        })\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { vec3 } from \"gl-matrix\";\n\nexport default {\n    command: 'moveToCenter',\n\n    description: 'Move Layer to Center on Viewport',\n\n    /**\n     * \n     * @param {Editor} editor \n     * @param {vec3[]} areaVerties \n     * @param {boolean} withScale    scale      \n     */\n    execute: function (editor, areaVerties, withScale = false) {\n        if (areaVerties) {\n            editor.viewport.moveLayerToCenter(areaVerties, undefined, withScale);\n        }\n    }\n\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'moveLayerForItems',\n\n    description: 'mova layer by multi items ',\n    /**\n     * \n     * @param {Editor} editor \n     * @param {number} dx\n     * @param {number} dy\n     */\n    execute: function (editor, moveItems = []) {\n\n        const itemsMap = {}\n\n        moveItems.forEach(it => {\n            itemsMap[it.item.id] = {\n                x: Length.px(it.item.offsetX.value + it.dist[0]).round(),\n                y: Length.px(it.item.offsetY.value + it.dist[1]).round() \n            }\n        })\n\n        editor.emit('history.setAttributeForMulti', 'item move down', itemsMap);     \n\n        editor.nextTick(() =>{\n            editor.selection.reselect();\n            editor.emit('refreshAll')\n        })\n    }\n}","import { itemsToRectVerties } from \"el/utils/collision\";\nimport { Editor } from \"el/editor/manager/Editor\";\n\nexport default {\n    command: 'moveSelectionToCenter',\n\n    description: 'Move selection project or artboards to center on Viewport',\n\n    /**\n     * \n     * @param {Editor} editor \n     * @param {vec3[]} areaVerties \n     * @param {boolean} [withScale=true]    scale      \n     */\n    execute: function (editor, withScale = true) {\n\n        let areaVerties = []\n\n        if (editor.selection.isEmpty) {\n          areaVerties = editor.selection.currentProject.rectVerties;\n        } else {\n          areaVerties = itemsToRectVerties(editor.selection.items);\n        }\n    \n        editor.emit('moveToCenter', areaVerties, withScale);        \n    }\n\n}","\nimport loadOriginalImage from \"el/editor/util/loadOriginalImage\";\nimport createImagePng from \"el/editor/util/createImagePng\";\nimport ExportManager from \"el/editor/manager/ExportManager\";\n\nexport default {\n    command: 'savePNG',\n    execute: function (editor, callbackCommand = '') {\n        const item = editor.selection.current;\n\n        if (item) {\n            const svgString = ExportManager.generateSVG(editor, item).trim();\n            const datauri = 'data:image/svg+xml;base64,' + window.btoa(svgString);\n            loadOriginalImage({local: datauri}, (info, img) => {\n                createImagePng(img, (pngDataUri) => {\n                    if (callbackCommand) {\n                        editor.emit(callbackCommand, pngDataUri);\n                    }\n                })\n            })\n        }\n\n    }\n\n}","export default {\n    command : 'refreshCursor',\n    execute: function (editor, iconType, ...args) {\n        editor.emit('changeIconView', iconType, ...args)        \n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { ClipPath } from \"../property-parser/ClipPath\";\n\nexport default {\n    command: 'open.editor',\n\n    description: 'Open custom editor for item  when doubleclick is fired',\n\n    /**\n     * \n     * @param {Editor} editor \n     * @param {object} pathObject \n     * @param {string} pathObject.d    svg path  \n     */\n    execute: function (editor) {\n\n        if (editor.selection.isOne === false) return;\n\n        var current = editor.selection.current;\n\n        if (current) {\n            // current.setCache();\n\n            // d      \n            if (current.d) {\n                editor.emit('showPathEditor', 'modify', {\n                    box: 'canvas',\n                    current,\n                    matrix: current.matrix,\n                    d: current.accumulatedPath().d,\n                    changeEvent: (data) => {\n                        editor.emit('updatePathItem', data);\n                    }\n                })\n                editor.emit('hideSelectionToolView');\n            } else if (current['clip-path']) {\n                var obj = ClipPath.parseStyle(current['clip-path'])\n\n                if (obj.type === 'path') {\n                    var d = current.accumulatedPath(current.clipPathString).d\n                    var mode = d ? 'modify' : 'path'\n\n                    editor.emit('showPathEditor', mode, {\n                        changeEvent: (data) => {\n                            const resultPath = current.invertPath(data.d).d;\n\n                            // d  (path )  . \n                            editor.command('setAttributeForMulti', 'change clip-path', editor.selection.packByValue({\n                                'clip-path': `path(${resultPath})`,\n                            }))\n                        },\n                        current,\n                        d,\n                    })\n                    editor.emit('hideSelectionToolView');\n                } else if (obj.type === 'svg') {\n                    // NOOP\n                } else {\n                    editor.emit(\"showClipPathPopup\", {\n                        'clip-path': current['clip-path'],\n                        changeEvent: function (data) {\n                            editor.command('setAttributeForMulti', 'change clip-path', editor.selection.packByValue(data));\n                        }\n                    });\n                }\n\n            } else {\n                //     \n            }\n        }\n\n    }\n\n}","import refreshElement from \"./refreshElement\";\nimport refreshProject from './refreshProject';\nimport resizeArtBoard from \"./resizeArtBoard\";\nimport convertPath from \"./convertPath\";\nimport addImage from \"./addImage\";\nimport addVideo from \"./addVideo\";\nimport addArtBoard from \"./addArtBoard\";\nimport addProject from \"./addProject\";\nimport addLayer from \"./addLayer\";\nimport newComponent from \"./newComponent\";\nimport clipboardCopy from \"./clipboard.copy\";\nimport clipboardPaste from \"./clipboard.paste\";\nimport switchTheme from \"./switchTheme\";\nimport showExportView from \"./showExportView\";\nimport updateScale from \"./updateScale\";\nimport fileDropItems from \"./fileDropItems\";\nimport updateResource from \"./updateResource\";\nimport updateImage from \"./updateImage\";\nimport updateVideo from \"./updateVideo\";\nimport addImageAssetItem from \"./addImageAssetItem\";\nimport addVideoAssetItem from \"./addVideoAssetItem\";\nimport dropImageUrl from \"./dropImageUrl\";\nimport addSVGFilterAssetItem from \"./addSVGFilterAssetItem\";\nimport updateImageAssetItem from \"./updateImageAssetItem\";\nimport updateVideoAssetItem from \"./updateVideoAssetItem\";\nimport updateUriList from \"./updateUriList\";\nimport downloadJSON from \"./downloadJSON\";\nimport downloadSVG from \"./downloadSVG\";\nimport downloadPNG from \"./downloadPNG\";\nimport saveJSON from \"./saveJSON\";\nimport loadJSON from \"./load.json\";\nimport setLocale from \"./setLocale\";\nimport addTimelineProperty from \"./addTimelineProperty\";\nimport refreshSelectedOffset from \"./refreshSelectedOffset\";\nimport setTimelineOffset from \"./setTimelineOffset\";\nimport addTimelineCurrentProperty from \"./addTimelineCurrentProperty\";\nimport removeTimelineProperty from \"./removeTimelineProperty\";\nimport deleteTimelineKeyframe from \"./deleteTimelineKeyframe\";\nimport selectTimelineItem from \"./selectTimelineItem\";\nimport removeTimeline from \"./removeTimeline\";\nimport removeAnimationItem from \"./removeAnimationItem\";\nimport addTimelineKeyframe from \"./addTimelineKeyframe\";\nimport copyTimelineProperty from \"./copyTimelineProperty\";\nimport playTimelineItem from \"./playTimelineItem\";\nimport prevTimelineItem from \"./prevTimelineItem\";\nimport firstTimelineItem from \"./firstTimelineItem\";\nimport nextTimelineItem from \"./nextTimelineItem\";\nimport lastTimelineItem from \"./lastTimelineItem\";\nimport pauseTimelineItem from \"./pauseTimelineItem\";\nimport addTimelineItem from \"./addTimelineItem\";\nimport dropAsset from \"./drop.asset\";\nimport addBackgroundImageGradient from \"./addBackgroundImageGradient\";\nimport addBackgroundImageAsset from \"./addBackgroundImageAsset\";\nimport keymapKeydown from \"./keymap.keydown\";\nimport keymapKeyup from \"./keymap.keyup\";\nimport removeLayer from \"./removeLayer\";\nimport pushModeView from \"./push.mode.view\";\nimport segmentMoveDown from \"./segment.move.down\";\nimport segmentMoveUp from \"./segment.move.up\";\nimport segmentMoveRight from \"./segment.move.right\";\nimport segmentMoveLeft from \"./segment.move.left\";\nimport segmentDelete from \"./segment.delete\";\nimport addBackgroundImagePattern from \"./addBackgroundImagePattern\";\nimport addBackgroundColor from \"./addBackgroundColor\";\nimport scaleMinus from \"./scale.minus\";\nimport scalePlus from \"./scale.plus\";\nimport resetSelection from \"./resetSelection\";\nimport sortCenter from \"./sort.center\";\nimport sortLeft from \"./sort.left\";\nimport sortMiddle from \"./sort.middle\";\nimport sortBottom from \"./sort.bottom\";\nimport sortTop from \"./sort.top\";\nimport sortRight from \"./sort.right\";\nimport sameWidth from \"./same.width\";\nimport sameHeight from \"./same.height\";\nimport refreshArtboard from \"./refreshArtboard\";\nimport addLayerView from \"./addLayerView\";\nimport setEditorLayout from \"./setEditorLayout\";\nimport itemMoveDepthDown from \"./item.move.depth.down\";\nimport itemMoveDepthUp from \"./item.move.depth.up\";\nimport groupItem from \"./group.item\";\nimport ungroupItem from \"./ungroup.item\";\nimport historyRedo from \"./history.redo\";\nimport historyUndo from \"./history.undo\";\nimport historyRefreshSelection from \"./history.refreshSelection\";\nimport setAttributeForMulti from \"./setAttributeForMulti\";\nimport historySetAttributeForMulti from \"./history.setAttributeForMulti\";\nimport historyAddLayer from \"./history.addLayer\";\nimport historyRemoveLayer from \"./history.removeLayer\";\nimport updatePathItem from \"./updatePathItem\";\nimport updateClipPath from \"./updateClipPath\";\nimport moveLayer from \"./moveLayer\";\nimport moveToCenter from './moveToCenter';\nimport moveLayerForItems from \"./moveLayerForItems\";\nimport moveSelectionToCenter from \"./moveSelectionToCenter\";\nimport savePNG from \"./savePNG\";\nimport refreshCursor from \"./refreshCursor\";\nimport recoverCursor from \"./recoverCursor\";\nimport convertPasteText from \"./convertPasteText\";\nimport addCustomComponent from \"./addCustomComponent\";\nimport toggleToolHand from \"./toggle.tool.hand\";\nimport rotateLayer from \"./rotateLayer\";\nimport refreshHistory from \"./refreshHistory\";\nimport openEditor from './open.editor';\nimport doubleclickItem from \"./doubleclick.item\";\nimport update from \"./model/update\";\nimport historyRemoveProject from \"./history.removeProject\";\nimport historyRefreshSelectionProject from \"./history.refreshSelectionProject\";\nimport popModeView from \"./pop.mode.view\";\n\nexport default {\n    // update model \n    update,\n    popModeView,\n\n    doubleclickItem,\n    openEditor,\n    refreshHistory,\n    convertPasteText,\n    refreshCursor,\n    recoverCursor,\n    toggleToolHand,\n    rotateLayer,\n\n    // history + command   \n    historyAddLayer,\n    historyRemoveLayer,\n    historyRemoveProject,\n    historySetAttributeForMulti,    \n    historyRefreshSelection,\n    historyRefreshSelectionProject,\n    historyRedo,\n    historyUndo,\n\n    moveLayer,\n    moveLayerForItems,\n    moveToCenter,\n    moveSelectionToCenter,\n\n    // command \n    groupItem,\n    ungroupItem,\n    setEditorLayout,\n    refreshArtboard,\n    resetSelection,\n    addBackgroundColor,\n    addBackgroundImagePattern,\n    segmentDelete,\n    segmentMoveDown,\n    segmentMoveUp,\n    segmentMoveRight,\n    segmentMoveLeft,\n    pushModeView,\n    removeLayer,\n    itemMoveDepthDown,\n    itemMoveDepthUp,    \n    keymapKeydown,\n    keymapKeyup,\n    scaleMinus,\n    scalePlus, \n    dropAsset,\n    addBackgroundImageAsset,\n    addBackgroundImageGradient,\n    addTimelineItem,\n    pauseTimelineItem,\n    lastTimelineItem,\n    nextTimelineItem,\n    firstTimelineItem,\n    prevTimelineItem,\n    playTimelineItem,\n    copyTimelineProperty,\n    addTimelineKeyframe,\n    removeAnimationItem,\n    removeTimeline,\n    selectTimelineItem,\n    deleteTimelineKeyframe,\n    removeTimelineProperty,\n    addTimelineCurrentProperty,\n    setTimelineOffset,\n    refreshSelectedOffset,\n    addTimelineProperty,\n    setLocale,\n    loadJSON,\n    saveJSON,\n    savePNG,\n    downloadPNG,\n    downloadSVG,\n    downloadJSON,\n    updateUriList,\n    updateImageAssetItem,\n    updateVideoAssetItem,\n    addSVGFilterAssetItem,\n    dropImageUrl,\n    addImageAssetItem,\n    addVideoAssetItem,\n    updateImage,\n    updateVideo,\n    updateResource,\n    fileDropItems,\n    updateScale,\n    showExportView,\n    switchTheme,\n    clipboardPaste,\n    clipboardCopy,\n    addArtBoard,\n    addCustomComponent,\n    addImage,\n    addVideo,\n    addLayer,    \n    addLayerView,\n    addProject,\n    convertPath,    \n    newComponent,\n    refreshElement,\n    refreshProject,\n    resizeArtBoard,\n    setAttributeForMulti,\n    sortBottom,\n    sortCenter,\n    sortLeft,\n    sortMiddle,\n    sortBottom,\n    sortTop,\n    sortRight,\n    sameWidth,\n    sameHeight,      \n    updatePathItem,\n    updateClipPath\n}","export default {\n    command: 'update',\n    execute: function (editor, id = null, attrs = {}) {\n\n        editor.emit('beforeUpdate', id, attrs);\n\n        const item = editor.modelManager.get(id);\n\n        if (item) {\n            const isChanged = item.reset(attrs);\n\n            if (isChanged) {\n                editor.emit('refreshElement', item);\n            }\n        }\n\n        editor.emit('afterUpdate', id, attrs);        \n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\"\n\nexport default {\n    command: 'pop.mode.view',\n    execute: function (editor, modeView = undefined) {\n        editor.modeViewManager.popMode(modeView);\n    }\n}","export default {\n    command: 'doubleclick.item',\n    execute: function (editor, evt, id) {\n        const item = editor.modelManager.get(id);\n\n        if (editor.selection.isOne && item) {\n\n            if (editor.selection.check(item)) {\n                editor.emit('open.editor');\n                editor.emit('removeGuideLine');\n            } else {\n                this.selectInWorldPosition(editor, evt, item);\n            }\n\n\n        } else {\n            this.selectInWorldPosition(editor, evt, item);\n        }\n    },\n\n    selectInWorldPosition: function (editor, evt, item) {\n        const point = editor.viewport.getWorldPosition(evt);\n        if (editor.selection.hasPoint(point) ||\n            editor.selection.hasChildrenPoint(point)\n        ) {\n            editor.selection.select(item);\n            editor.snapManager.clear();\n            editor.emit('refreshSelectionTool', true);\n            editor.emit('history.refreshSelection');\n        }\n    }\n}","/**\n * refresh element command \n * \n * @param {Editor} editor - editor instance \n * @param {Array} args - command parameters \n */\nexport default function refreshHistory (editor) {\n    //            \n    editor.emit('saveJSON')\n}","import urlParser from \"js-video-url-parser\";\nimport { Length } from \"../unit/Length\";\n\nexport default {\n    command: 'convertPasteText',\n    execute: async (editor, text) => {\n\n        const embedUrl = urlParser.create({ \n            videoInfo: urlParser.parse(text), \n            format: 'embed',\n            mediaType: 'clip'\n        });\n\n        if (embedUrl) {\n \n            const center = editor.viewport.center;\n            const width = 300;\n            const height = 200; \n\n            editor.emit('newComponent', 'iframe', {\n              x: Length.px(center[0] - width/2),\n              y: Length.px(center[1] - height/2),\n              width: Length.px(width),\n              height: Length.px(height),\n              'background-color': 'transparent',\n              url: embedUrl\n            });\n        }\n\n    }\n}","export default {\n    command : 'recoverCursor',\n    execute: function (editor) {\n        editor.emit('changeIconView', 'auto')\n    }\n}","/**\n * \n * @param {Editor} editor \n */\nexport default {\n    command: 'toggleToolHand',\n    execute: function (editor) {\n        editor.config.toggle('set.tool.hand')\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { Transform } from \"../property-parser/Transform\";\nimport _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'rotateLayer',\n\n    description: 'rotate layer by keydown with matrix ',\n    /**\n     * \n     * @param {Editor} editor \n     * @param {number} dx\n     * @param {number} dy\n     */\n    execute: function (editor, distAngle = 0) {\n\n        editor.command('setAttributeForMulti', 'change rotate', editor.selection.packByValue({\n            transform: (item) => Transform.addTransform(item.transform, `rotateZ(${Length.deg(distAngle).round(1000)})`)\n        }));     \n\n        editor.nextTick(() =>{\n            editor.selection.reselect();\n            editor.emit('refreshAll')\n        })\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\n\nexport default {\n    command : 'history.removeProject',\n    description: 'remove project',\n\n    /**\n     *   .    history  . \n     * \n     * @param {Editor} editor \n     * @param {string} message \n     * @param {string|undefined} projectId  id\n     */\n    execute: function (editor, message, projectId) {\n\n        //    modelManager  mark  . \n        const index = editor.modelManager.markRemoveProject(projectId);        \n\n        editor.history.add(message, this, {\n            currentValues: [projectId],\n            undoValues: [projectId, index],\n        })\n\n        editor.nextTick(() =>  {\n            editor.selection.selectProject(editor.modelManager.projects[0]);\n            editor.emit('refreshAll')\n            editor.emit('removeGuideLine');\n            editor.nextTick(() => {\n                editor.history.saveSelection()  \n            })\n        })        \n    },\n\n    redo: function (editor, {currentValues: [projectId]}) {\n\n        //    modelManager  mark  . \n        editor.modelManager.markRemoveProject(projectId);        \n\n        editor.nextTick(() => {\n            editor.emit('refreshAll');\n        })\n    },\n\n    /**\n     *  undoValues  . \n     *         . \n     * \n     * @param {Editor} editor \n     * @param {Object} param1 \n     * @param {string} param1.undoValues  JSON serialize   \n     */\n    undo: function (editor, { undoValues: [projectId, index] }) {\n\n        editor.modelManager.unmarkRemoveProject(projectId, index);\n\n        editor.nextTick(() => {\n            editor.selection.selectProject(projectId);\n            editor.emit('refreshAll');\n        })\n    }\n}","import _currentProject from \"./_currentProject\";\nimport { isArrayEquals } from \"el/utils/func\";\n\nexport default {\n    command: 'history.refreshSelectionPorject',\n    description: `save project selection in history `,\n    description_ko: 'Project Selection   History  ',\n    execute: function (editor, message = 'selection', projectId) {\n        const currentValues = [projectId]; \n        const undoValues = [editor.selection.currentProject?.id]\n\n        //      selection   .\n        if (isArrayEquals(currentValues, undoValues)) {\n            return;\n        }\n\n        editor.selection.selectProject(projectId);\n\n        editor.history.add(message, this, {\n            currentValues,\n            undoValues\n        })\n\n        this.nextAction(editor);\n    },\n\n    nextAction (editor) {\n        editor.nextTick(() => {\n            editor.emit(\"refreshAll\");\n            editor.emit(\"refreshProjectList\");\n        })\n    },\n\n    redo : function (editor, { currentValues: [projectId] }) {\n        editor.selection.selectProject(projectId)\n\n        this.nextAction(editor);\n    },\n    undo: function (editor, { undoValues: [projectId] }) {\n        editor.selection.selectProject(projectId)\n\n        this.nextAction(editor);      \n    }\n}","import { Editor } from \"el/editor/manager/Editor\"\n\nexport default {\n    command : 'history.redo',\n    /**\n     * history redo  . \n     * \n     * @param {Editor} editor \n     */\n    execute: function (editor) {\n        editor.history.redo()\n    }\n}","export default {\n    command : 'history.undo',\n    execute: function (editor) {\n        editor.history.undo()\n    }\n}","/**\n * refresh element command \n * \n * @param {Editor} editor - editor instance \n * @param {Array} args - command parameters \n */\nexport default function refreshArtboard (editor) {\n    editor.emit('refreshLayerTreeView')    \n    editor.emit('refreshAllCanvas');\n    editor.emit('refreshStyleView');\n    editor.emit('refreshSelectionStyleView');\n    editor.emit('refreshAllElementBoundSize')   \n    editor.emit('refreshSelection');    \n    editor.nextTick(() => {        \n        editor.emit('refreshSelectionTool', true);\n    })\n\n}","import { isFunction } from \"el/sapa/functions/func\";\n\n/**\n * reset selecdtion command \n * \n * @param {Editor} editor \n */\nexport default function resetSelection (editor) {\n    editor.nextTick(() => {\n        editor.emit('refreshSelectionTool');\n    })\n\n}","export default {\n    command : 'segment.delete',\n    execute: function (editor, current) {\n        editor.emit('deleteSegment')\n    }\n}","export default {\n    command: 'keymap.keydown',\n    execute: function (editor, e) {\n        editor.keyboardManager.add(e.code, e.keyCode);\n        editor.shortcuts.execute(e, 'keydown');\n    }\n\n}","export default {\n    command: 'keymap.keyup',\n    execute: function (editor, e) {\n        editor.keyboardManager.remove(e.key, e.keyCode);        \n        editor.shortcuts.execute(e, 'keyup');\n    }\n\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'scale.minus',\n    execute: function (editor) {\n\n        const oldScale = editor.viewport.scale;\n\n        editor.viewport.setScale(editor.viewport.scale - 0.25)\n\n        editor.emit('updateViewport', editor.viewport.scale, oldScale);\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'scale.plus',\n    execute: function (editor) {\n\n        const oldScale = editor.viewport.scale;\n\n        editor.viewport.setScale(editor.viewport.scale + 0.25)\n\n        editor.emit('updateViewport', editor.viewport.scale, oldScale);\n    }\n}","export default {\n    command: 'pauseTimelineItem',\n    execute: function (editor) {\n        if (editor.timer) {\n            editor.timer.stop();\n        }\n    }\n}","export default {\n    command: 'refreshSelectedOffset',\n    execute: function (editor) {\n        var offset = editor.timeline.items[0]\n        if (offset) {\n            editor.emit('refreshOffsetValue', offset)\n        }                    \n    }\n}","export default {\n    command: 'setLocale',\n    execute: function (editor, locale) {\n        editor.setLocale(locale);\n        editor.emit('changed.locale')\n    }\n}","export default {\n    command: 'saveJSON',\n    execute: function (editor) {\n        // todo:     \n        editor.saveItem('model', editor.modelManager.toJSON())\n    }    \n}","export default {\n    command: 'updateResource',\n    execute: function (editor, items) {\n        items.forEach(item => {\n            switch(item.type) {\n            case 'image/svg+xml': \n            case 'image/png':  \n            case 'image/gif': \n            case 'image/jpg': \n            case 'image/jpeg': \n                editor.emit('updateImage', item); \n                break; \n            case 'text/plain':\n            case 'text/html':\n                editor.emit('addText', {\n                    content: item.data\n                });\n                // this.trigger('update.string', item);\n                break;\n            case 'text/uri-list':\n                editor.emit('updateUriList', item);\n                break;\n            }\n        })\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\n\nexport default {\n    command: 'updateScale',\n\n    /**\n     * scale  \n     * \n     * @param {Editor} editor \n     * @param {number} scale [0.5...5]\n     */\n    execute: function (editor, scale) {\n        const oldScale = editor.viewport.scale; \n        editor.viewport.setScale(scale);\n        editor.emit('updateViewport', scale, oldScale)\n    }\n\n}","export default {\n    command: 'showExportView',\n    execute: function (editor) {\n        editor.emit('showExportWindow');\n    }\n}","export default {\n    command: 'switchTheme',\n    execute:  function ( editor, theme ) {\n        editor.changeTheme(theme);\n        editor.emit('changeTheme')\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { Editor } from \"el/editor/manager/Editor\";\n/**\n * \n * @param {Editor} editor \n * @param {*} obj \n * @param {vec3} [center=null] center  artboard   \n */\nexport default function addArtBoard (editor, obj = {}, center = null) {\n\n    var project = editor.selection.currentProject;\n    if (!project) {\n        project = editor.add(editor.createModel({ itemType: 'project' }))\n\n        editor.selection.selectProject(project);\n    }\n\n    var artboard = project.appendChild(editor.createModel({\n        itemType: 'artboard',\n        x: Length.px(300),\n        y: Length.px(200),\n        width: Length.px(375),\n        height: Length.px(667),\n        ...obj\n    }))\n\n    if (center) {\n        artboard.reset({\n            x: Length.px(0),\n            y: Length.px(0),\n        })\n        artboard.moveByCenter(center);\n    }\n\n    editor.selection.select(artboard);\n\n    _doForceRefreshSelection(editor)\n\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { Editor } from \"el/editor/manager/Editor\";\n/**\n * \n * @param {Editor} editor \n * @param {*} obj \n * @param {vec3} [center=null] center  artboard   \n */\nexport default function addCustomComponent (editor, obj = {}, center = null) {\n\n    var project = editor.selection.currentProject;\n\n\n    var customComponent = project.appendChild(editor.createModel({\n        x: Length.px(300),\n        y: Length.px(200),\n        width: Length.px(375),\n        height: Length.px(667),\n        ...obj\n    }))\n\n    if (center) {\n        customComponent.reset({\n            x: Length.px(0),\n            y: Length.px(0),\n        })\n        customComponent.moveByCenter(center);\n    }\n\n    editor.selection.select(customComponent);\n\n    _doForceRefreshSelection(editor)\n\n}","export default function addImage (editor, rect = {}, containerItem = undefined) {\n    editor.emit('newComponent', 'image', rect, true, containerItem)\n}  ","export default function addVideo (editor, rect = {}, containerItem = undefined) {\n    editor.emit('newComponent', 'video', rect, true, containerItem)\n}  ","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default function addLayer (editor, layer, rect = {}, isSelected = true, containerItem) {\n\n    if (!containerItem) {\n        containerItem = editor.selection.current || editor.selection.currentProject\n    }\n\n    if (containerItem) {\n\n        if (containerItem.isNot('project') && !containerItem.enableHasChildren()) {\n            containerItem = containerItem.parent;\n        }\n\n        containerItem.appendChild(layer)\n\n        if (isSelected) {\n            editor.selection.select(layer);\n        }\n\n        _doForceRefreshSelection(editor)\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default function addProject (editor, obj = {}) {\n    var project = editor.createModel({\n        itemType: 'project',\n        ...obj\n    })\n\n    editor.selection.selectProject(project);\n    _doForceRefreshSelection(editor)\n}","import PathParser from \"el/editor/parser/PathParser\";\n\nexport default function convertPath (editor, pathString, rect = null) {\n    var current = editor.selection.current;\n\n    // clip path  path   \n    // path     \n\n    if (current )  {\n        if (current.is('svg-path', 'svg-brush', 'svg-textpath')) {\n\n            var d = pathString;\n\n            if (rect) {\n                var parser = new PathParser(pathString)\n                parser.scale(current.width.value/rect.width, current.height.value/rect.height)\n\n                d = parser.d; \n            }\n\n            editor.command('setAttributeForMulti', 'set attribute -d', editor.selection.packByValue({ d }, current.id))\n\n        } else if (current['clip-path'].includes('path')) {\n            var d = pathString;\n\n            if (rect) {\n                var parser = new PathParser(pathString)\n                parser.scale(current.width.value/rect.width, current.height.value/rect.height)\n\n                d = parser.d; \n            }\n\n            // path string    \n            editor.command('setAttributeForMulti', 'change clip path', editor.selection.packByValue({ 'clip-path': `path(${d})` }, current.id))\n        }\n    }\n}","import { EDIT_MODE_SELECTION } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport PathStringManager from \"el/editor/parser/PathStringManager\";\n\n/**\n * \n * @param {Editor} editor \n * @param {*} itemType \n * @param {*} obj \n * @param {*} isSelected \n * @param {Item} [containerItem=undefined]     \n */\nexport default function newComponent (editor, itemType, obj, isSelected = true, containerItem = undefined) {\n    if (itemType === 'svg-textpath') {\n        obj = {\n            ...obj,\n            'font-size': Length.parse(obj.height),\n            textLength: '100%',\n            d: PathStringManager.makeLine(0, obj.height.value, obj.width.value, obj.height.value),\n        }\n    } else if (itemType === 'svg-circle') {\n        itemType = 'svg-path';\n        obj = {\n            ...obj,\n            'background-color': undefined,            \n            fill: `#C4C4C4`,            \n            d: PathStringManager.makeCircle(0, 0, obj.width.value, obj.height.value),\n        }        \n\n    } else if (itemType === 'svg-rect') {\n        itemType = 'svg-path';\n        obj = {\n            ...obj,\n            'background-color': undefined,\n            fill: `#C4C4C4`,            \n            d: PathStringManager.makeRect(0, 0, obj.width.value, obj.height.value),\n        }             \n    } else if (itemType === 'text') {\n        obj = {\n            width: Length.px(300),\n            height: Length.px(50),            \n            ...obj,\n        }        \n    } else if (itemType === 'artboard') {\n        obj = {\n            ...obj,\n            'background-color': 'white'\n        }        \n    } \n\n    editor.command('addLayer', `add layer - ${itemType}`, editor.createModel({\n        itemType, \n        ...obj,\n    }), obj, isSelected, containerItem)\n\n    editor.changeMode(EDIT_MODE_SELECTION);\n    \n}    \n","/**\n * refresh element command \n * \n * @param {Editor} editor - editor instance \n * @param {Array} args - command parameters \n */\nexport default function refreshElement (editor, current) {\n    //            \n    editor.emit('refreshSelectionStyleView', current)\n\n    //    \n    editor.emit('refreshElementBoundSize', editor.selection.getRootItem(current))\n}","/**\n * refresh element command \n * \n * @param {Editor} editor - editor instance \n * @param {Array} args - command parameters \n */\nexport default function refreshProject (editor, current) {\n    editor.emit('refreshStyleView', current, true);\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport default function resizeArtBoard (editor, size = '') {\n    var current = editor.selection.current;\n    if (current && current.is('artboard')) {\n\n        if (!size.trim()) return;\n\n        var [width, height] = size.split('x')\n\n        width = Length.px(+width);\n        height = Length.px(+height);\n\n        current.reset({ width, height });\n        editor.selection.select(current);\n\n        _doForceRefreshSelection(editor);\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\n\nexport default {\n    command: 'updateClipPath',\n    description: 'update clip-path property ',\n    /**\n     * \n     * @param {Editor} editor \n     * @param {object} pathObject \n     * @param {string} pathObject.d    svg path  \n     */\n    execute: function (editor, pathObject) {\n\n        // d  (path )  . \n        editor.command('setAttributeForMulti', 'change clip-path', editor.selection.packByValue({\n            'clip-path': `path(${pathObject.d})`,\n        }))\n    }\n\n}","import { isObject, isFunction } from \"el/sapa/functions/func\";\nimport commands from \"../commands\";\n\nexport class CommandManager {\n    constructor(editor) {\n        this.$editor = editor;\n        this.promiseProxy = \n        this.localCommands = {};\n        this.loadCommands();\n\n        return new Proxy(this, {\n            get: (target, key) => {\n                var originMethod = target[key];\n                if (isFunction(originMethod)) {\n                  // method tracking\n                  return (...args) => {\n                    return originMethod.apply(target, args);\n                  };\n                } else {\n                    return this.makePromiseEvent(key);\n                }\n            }\n        })        \n    }\n\n\n    loadCommands() {\n        Object.keys(commands).forEach(command => {\n            if (isFunction(commands[command])) {\n                this.registerCommand(command, commands[command]);\n            } else {\n                this.registerCommand(commands[command])\n            }\n        })\n    }\n\n    /**\n     * command  . \n     *        . \n     *    command   . \n     * \n     * @returns {Function} dispose callback \n     */\n    registerCommand(command, commandCallback) {\n\n        if (this.localCommands[command]) {\n            throw new Error(`command ${command} is already registered`);\n        }\n\n        if (arguments.length === 2) {\n            const callback = (...args) => {\n                const result = commandCallback.call(this, this.$editor, ...args);\n                this.$editor.debug('command execute', this, ...args)\n\n                return result; \n            }\n            callback.source = command;\n\n            // local command   \n            this.localCommands[command] = callback;            \n\n            return this.$editor.on(command, callback, this, 0);\n\n        } else if (isObject(command)) {     // command object { command, title, description, debounce, execute }\n            const callback = (...args) => {\n                const result = command.execute.call(command, this.$editor, ...args);\n                this.$editor.debug('command execute', command, ...args)\n\n                return result;\n            }\n            callback.source = command.command;\n\n            // local command   \n            this.localCommands[command.command] = callback;            \n\n            return this.$editor.on(command.command, callback, this, command.debounce || 0);\n        }\n\n    }\n\n    getCallback(command) {\n        return this.localCommands[command];\n    }\n\n    makePromiseEvent(command) {\n        const callback = this.getCallback(command);\n\n        if (callback) {\n            return (...args) => new Promise((resolve) => {\n                resolve(callback(...args));\n            })\n        }\n    }    \n}","let osInfo = {\n    name: undefined\n};\n\nexport function os() {\n    if (osInfo.name === undefined) {\n        if (navigator.appVersion.indexOf(\"Win\") != -1) osInfo.name = 'win';\n        else if (navigator.appVersion.indexOf(\"Mac\") != -1) osInfo.name = 'mac'; \n        else if (navigator.appVersion.indexOf(\"X11\") != -1) osInfo.name = 'linux';\n        else osInfo.name = \"\"; \n    }\n\n    return osInfo.name;\n}","export default {\n    category: 'Edit',\n    key: 'cmd+c',\n    command: 'clipboard.copy',\n    description: 'Copy objects',\n    when: 'CanvasView'\n}","import clipboardCopy from \"./clipboard.copy\";\nimport clipboardPaste from \"./clipboard.paste\";\nimport itemMoveShiftLeft from \"./item.move.shift.left\";\nimport itemMoveKeyLeft from \"./item.move.key.left\";\nimport itemMoveKeyRight from \"./item.move.key.right\";\nimport itemMoveKeyDown from \"./item.move.key.down\";\nimport itemMoveKeyUp from \"./item.move.key.up\";\nimport itemMoveShiftDown from \"./item.move.shift.down\";\nimport itemMoveShiftRight from \"./item.move.shift.right\";\nimport itemMoveShiftUp from \"./item.move.shift.up\";\nimport itemMoveAltLeft from \"./item.move.alt.left\";\nimport itemMoveAltDown from \"./item.move.alt.down\";\nimport itemMoveAltRight from \"./item.move.alt.right\";\nimport itemMoveAltUp from \"./item.move.alt.up\";\nimport removeLayer from \"./removeLayer\";\nimport segmentMoveKeyDown from \"./segment.move.key.down\";\nimport segmentMoveKeyUp from \"./segment.move.key.up\";\nimport segmentMoveKeyRight from \"./segment.move.key.right\";\nimport segmentMoveKeyLeft from \"./segment.move.key.left\";\nimport segmentMoveShiftDown from \"./segment.move.shift.down\";\nimport segmentMoveShiftUp from \"./segment.move.shift.up\";\nimport segmentMoveShiftLeft from \"./segment.move.shift.left\";\nimport segmentMoveAltDown from \"./segment.move.alt.down\";\nimport segmentMoveAltUp from \"./segment.move.alt.up\";\nimport segmentMoveAltLeft from \"./segment.move.alt.left\";\nimport segmentMoveAltRight from \"./segment.move.alt.right\";\nimport segmentMoveShiftRight from \"./segment.move.shift.right\";\nimport segmentDelete from \"./segment.delete\";\nimport scaleMinus from \"./scale.minus\";\nimport scalePlus from \"./scale.plus\";\nimport addRect from \"./add.rect\";\nimport selectView from \"./select.view\";\nimport addRectM from \"./add.rect.m\";\nimport addCircle from \"./add.circle\";\nimport addCircleL from \"./add.circle.l\";\nimport addText from \"./add.text\";\nimport addPath from \"./add.path\";\nimport addBrush from \"./add.brush\";\nimport itemMoveDepthUp from \"./item.move.depth.up\";\nimport itemMoveDepthDown from \"./item.move.depth.down\";\nimport removeLayerByDeleteKey from \"./removeLayerByDeleteKey\";\nimport groupItem from \"./group.item\";\nimport ungroupItem from \"./ungroup.item\";\nimport historyUndo from \"./history.undo\";\nimport historyRedo from \"./history.redo\";\nimport addArtboard from \"./add.artboard\";\nimport setToolHand from \"./set.tool.hand\";\nimport itemRotateMetaLeft from \"./item.rotate.meta.left\";\nimport itemRotateMetaRight from \"./item.rotate.meta.right\";\n\n\n\nexport default [\n    // history \n    historyUndo,\n    historyRedo,\n\n    setToolHand,\n    itemRotateMetaLeft,\n    itemRotateMetaRight,    \n    \n    // add layer \n    selectView,\n    addArtboard,\n    addRect,\n    addRectM,\n    addCircle,\n    addCircleL,\n    addText,\n    addPath,\n    addBrush,\n\n    groupItem,\n    ungroupItem,\n\n    // move segment by arrow key \n    segmentMoveKeyDown,\n    segmentMoveKeyUp,\n    segmentMoveKeyRight,\n    segmentMoveKeyLeft,\n\n    segmentMoveShiftDown,\n    segmentMoveShiftUp,\n    segmentMoveShiftLeft,\n    segmentMoveShiftRight,\n\n    segmentMoveAltDown,\n    segmentMoveAltUp,\n    segmentMoveAltLeft,\n    segmentMoveAltRight,\n\n    segmentDelete,\n\n    // move item by arrow key \n    itemMoveKeyLeft,\n    itemMoveKeyRight,\n    itemMoveKeyDown,\n    itemMoveKeyUp,\n\n    // move item by shift key\n    itemMoveShiftDown,\n    itemMoveShiftRight,\n    itemMoveShiftUp,\n    itemMoveShiftLeft,\n\n    // move item by alt key\n    itemMoveAltLeft,\n    itemMoveAltDown,\n    itemMoveAltRight,\n    itemMoveAltUp,\n\n    itemMoveDepthUp,\n    itemMoveDepthDown,    \n\n    // \n    removeLayer,\n    removeLayerByDeleteKey,\n\n    // zoom\n    scaleMinus,\n    scalePlus,    \n\n    // clipboard \n    clipboardCopy,\n    clipboardPaste\n]","export default {\n    category: 'History',        \n    key: 'cmd+z',\n    win: 'ctrl+z',\n    command: 'history.undo',\n    description: 'undoing in history',\n    when: 'CanvasView'\n}","export default {\n    category: 'History',        \n    key: 'cmd+shift+z',\n    win: 'ctrl+shift+z',\n    command: 'history.redo',\n    description: 'redoing in history',\n    when: 'CanvasView'\n}","export default {\n    category: 'Tools',            \n    key: 'h',\n    command: 'toggleToolHand',\n    description: 'set hand tool on',\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Meta+ArrowLeft',\n    command: 'rotateLayer',\n    description: 'rotate to left',\n    args: [-5],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Meta+ArrowRight',\n    command: 'rotateLayer',\n    description: 'rotate to right',\n    args: [5],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Tool',    \n    key: 'v',\n    command: 'addLayerView', \n    args: 'select',\n    description: 'Selection',\n}","export default {\n    category: 'Tool',    \n    key: 'a',\n    command: 'addLayerView', \n    args: ['artboard'],\n    description: 'Add ArtBoard',\n    when: 'CanvasView'\n}","export default {\n    category: 'Tool',    \n    key: 'r',\n    command: 'addLayerView', \n    args: ['rect'],\n    description: 'Add rect layer',\n}","export default {\n    category: 'Tool',    \n    key: 'm',\n    command: 'addLayerView', \n    args: ['rect'],\n    description: 'Add rect layer',\n}","export default {\n    category: 'Tool',\n    key: 'o',\n    command: 'addLayerView', \n    args: ['circle'],\n    description: 'Add circle layer',\n}","export default {\n    category: 'Tool',    \n    key: 'l',\n    command: 'addLayerView', \n    args: ['circle'],\n    description: 'Add circle layer',\n}","export default {\n    category: 'Tool',\n    key: 't',\n    command: 'addLayerView', \n    args: ['text'],\n    description: 'Add text layer',\n}","export default {\n    category: 'Tool',    \n    key: 'p',\n    command: 'addLayerView', \n    args: ['path'],\n    description: 'Add SVG Path layer',\n}","export default {\n    category: 'Tool',\n    key: 'b',\n    command: 'addLayerView', \n    args: ['brush'],\n    description: 'Draw SVG Path',\n}","export default {\n    category: 'Group',    \n    key: 'cmd+g',\n    win: 'ctrl+g',\n    command: 'group.item',\n    description: 'Grouping selected items',\n    when: 'CanvasView'\n}","export default {\n    category: 'Group',        \n    key: 'shift+cmd+g',\n    win: 'shift+ctrl+g',\n    command: 'ungroup.item',\n    description: 'Ungrouping selected group layer',\n    when: 'CanvasView'\n}","export default {\n    category: 'Path',        \n    key: 'ArrowDown',\n    command: 'segment.move.down',\n    description: 'move 1px to down',\n    args: [{ dy: 1 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'ArrowUp',\n    command: 'segment.move.up',\n    description: 'move 1px to up',\n    args: [{ dy: 1 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'ArrowRight',\n    command: 'segment.move.right',\n    description: 'move 1px to right',\n    args: [{ dx: 1 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'ArrowLeft',\n    command: 'segment.move.left',\n    description: 'move 1px to left',\n    args: [{ dx: 1 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Shift+ArrowDown',\n    command: 'segment.move.down',\n    description: 'move 10px to down',\n    args: [{ dy: 10 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Shift+ArrowUp',\n    command: 'segment.move.up',\n    description: 'move 10px to up',\n    args: [{ dy: 10 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Shift+ArrowLeft',\n    command: 'segment.move.left',\n    description: 'move 10px to left',\n    args: [{ dx: 10 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Shift+ArrowRight',\n    command: 'segment.move.right',\n    description: 'move 10px to right',\n    args: [{ dx: 10 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Alt+ArrowDown',\n    command: 'segment.move.down',\n    description: 'move 5px to down',\n    args: [{ dy: 5 }],\n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Alt+ArrowUp',\n    command: 'segment.move.up',\n    description: 'move 5px to up ',\n    args: [{ dy: 5 }],\n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Alt+ArrowLeft',\n    command: 'segment.move.left',\n    description: 'move 5px to left',\n    args: [{ dx: 5 }],\n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Alt+ArrowRight',\n    command: 'segment.move.right',\n    description: 'move 5px to right',\n    args: [{ dx: 5 }],\n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',    \n    key: 'Backspace',\n    command: 'segment.delete',\n    description: 'Delete selected segment',\n    when: 'PathEditorView'\n}","export default {\n    category: 'Layer',            \n    key: 'ArrowLeft',\n    command: 'moveLayer',\n    description: 'move 1px to left',\n    args: [-1, 0],\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'ArrowRight',\n    command: 'moveLayer',\n    description: 'move 1px to right',\n    args: [1, 0],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'ArrowDown',\n    command: 'moveLayer',\n    description: 'move 1px to down',\n    args: [0, 1],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'ArrowUp',\n    command: 'moveLayer',\n    description: 'move 1px to up',\n    args: [0, -1],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Shift+ArrowDown',\n    command: 'moveLayer',\n    description: 'move 10px to down',\n    args: [0, 10],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Shift+ArrowRight',\n    command: 'moveLayer',\n    description: 'move 10px to right',\n    args: [10, 0],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Shift+ArrowUp',\n    command: 'moveLayer',\n    description: 'move 10px to up',\n    args: [0, -10],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Shift+ArrowLeft',\n    command: 'moveLayer',\n    description: 'move 10px to left',\n    args: [-10, 0],\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Alt+ArrowLeft',\n    command: 'moveLayer',\n    description: 'move 5px to left',\n    args: [-5, 0],\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Alt+ArrowDown',\n    command: 'moveLayer',\n    description: 'move 5px to down',\n    args: [0, 5],\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Alt+ArrowRight',\n    command: 'moveLayer',\n    description: 'move 5px to right',\n    args: [5, 0],\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Alt+ArrowUp',\n    command: 'moveLayer',\n    description: 'move 5px to up',\n    args: [0, -5],\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'ctrl+]',\n    command: 'item.move.depth.up',\n    description: 'move layer to above',\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'ctrl+[',\n    command: 'item.move.depth.down',\n    description: 'move layer to below',\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',        \n    key: 'Backspace',\n    command: 'history.removeLayer',\n    description: 'Delete selected items',\n    args: ['Delete selected items'],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Delete',\n    command: 'history.removeLayer',\n    description: 'Delete selected items',\n    args: ['Delete selected items'],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Tool',\n    key: 'Minus',\n    command: 'scale.minus', \n    description: 'Minus scale',\n    when: 'CanvasView'\n}","export default {\n    category: 'Tool',    \n    key: 'Equal',\n    command: 'scale.plus', \n    description: 'Plus scale',\n    when: 'CanvasView'\n}","export default {\n    category: 'Edit',    \n    key: 'cmd+v',\n    win: 'ctrl+v',\n    command: 'clipboard.paste',\n    description: 'Paste selected objects',\n    when: 'CanvasView'\n}","\n\nexport const KEY_CODE = {\n    'backspace':    0x08, // 8\n    'tab':          0x09, // 9\n    'enter':        0x0D, // 13 \n    'escape':       0x1B, // 27 \n    'space':        0x20, // 32 \n    'pageup':       0x21, // 33\n    'pagedown':     0x22, // 34\n    'end':          0x23, // 35\n    'home':         0x24, // 36\n    'left':         0x25, // 37\n    'up':           0x26, // 38\n    'right':        0x27, // 39\n    'down':         0x28, // 40\n    'insert':       0x2D, // 45\n    'delete':       0x2E, // 46\n\n    '0':            0x30, // 49\n    '1':            0x31, // 50\n    '2':            0x32, // 51\n    '3':            0x33, // 52\n    '4':            0x34, // 53\n    '5':            0x35, // 54\n    '6':            0x36, // 55\n    '7':            0x37, // 56\n    '8':            0x38, // 57\n    '9':            0x39, // 58\n\n    'semicolon':    0x3B, // 59\n    'equals':       0x3D, // 61\n\n    'a':            0x41, // 65\n    'b':            0x42, // 66\n    'c':            0x43, // 67\n    'd':            0x44, // 68\n    'e':            0x45, // 69\n    'f':            0x46, // 70\n    'g':            0x47, // 71\n    'h':            0x48, // 72\n    'i':            0x49, // 73\n    'j':            0x4A, // 74\n    'k':            0x4B, // 75\n    'l':            0x4C, // 76\n    'm':            0x4D, // 77\n    'n':            0x4E, // 78\n    'o':            0x4F, // 79\n    'p':            0x50, // 80\n    'q':            0x51, // 81\n    'r':            0x52, // 82\n    's':            0x53, // 83\n    't':            0x54, // 84\n    'u':            0x55, // 85\n    'v':            0x56, // 86\n    'w':            0x57, // 87\n    'x':            0x58, // 88\n    'y':            0x59, // 89\n    'z':            0x5A, // 90\n\n    'multiply':     0x6A, // 106 , * \n    'add':          0x6B, // 107 , \"+\"\n    'subtract':     0x6D, // 109 , \"-\" \n    'divide':       0x6F, // 111 , \"/\"\n\n    'f1':           0x70, // 112 \n    'f2':           0x71, // 113 \n    'f3':           0x72, // 114 \n    'f4':           0x73, // 115 \n    'f5':           0x74, // 116 \n    'f6':           0x75, // 117 \n    'f7':           0x76, // 118 \n    'f8':           0x77, // 119 \n    'f9':           0x78, // 120 \n    'f10':          0x79, // 121 \n    'f11':          0x7A, // 122 \n    'f12':          0x7B, // 123 \n    'f13':          0x7C, // 124 \n    'f14':          0x7D, // 125 \n    'f15':          0x7E, // 126 \n    'f16':          0x7F, // 127 \n    'f17':          0x80, // 128 \n    'f18':          0x81, // 129 \n    'f19':          0x82, // 130 \n\n    'comma':        0xBC, // 188\tComma (\",\") key.\n    ',':            0xBC, // 188\tComma (\",\") key.\n    'period':       0xBE, // 190\tPeriod (\".\") key.\n    '.':            0xBE, // 190\tPeriod (\".\") key.\n    'slash':        0xBF, // 191\tSlash (\"/\") key.\n    '/':            0xBF, // 191\tSlash (\"/\") key.\n    'backquote':    0xC0, // 192\tBack tick (\"`\") key.\n    '`':            0xC0, // 192\tBack tick (\"`\") key.\n    'openbracket':  0xDB, // 219\tOpen square bracket (\"[\") key.\n    '[':            0xDB, // 219\tOpen square bracket (\"[\") key.\n    'backslash':    0xDC, // 220\tBack slash (\"\\\") key.\n    \"\\\\\":           0xDC, // 220\tBack slash (\"\\\") key.\n    'closebracket': 0xDD, // 221\tClose square bracket (\"]\") key.\n    ']':            0xDD, // 221\tClose square bracket (\"]\") key.\n    \"quote\":        0xDE, // 222\tQuote (''') key.\n    \"'\":            0xDE, // 222\tQuote (''') key.\n    \"altgr\":        0xE1, // 225\tAltGr key (Level 3 Shift key or Level 5 Shift key) on Linux.\n}","import { os } from \"el/utils/detect\";\nimport shortcuts from \"../shortcuts\";\nimport { KEY_CODE } from \"el/editor/types/key\";\nimport { isArray, isBoolean } from \"el/sapa/functions/func\";\n\n\nfunction joinKeys (...args) {\n    return args.filter(Boolean).join('+')\n}\n\nfunction generateKeyCode (code) {\n    return KEY_CODE[`${code}`.toLowerCase()] || code; \n}\n\nexport class ShortCutManager {\n    constructor (editor) {\n        this.$editor = editor;\n\n        this.loadShortCuts();\n    }\n\n    getGeneratedKeyCode (code) {\n        return generateKeyCode(code);\n    }\n   \n    loadShortCuts() {\n        this.list = []\n        this.commands = {}        \n        shortcuts.forEach(shortcut => {\n            this.registerShortCut(shortcut);\n        })\n\n        this.sort()\n    }   \n\n    registerShortCut (shortcut) {\n\n        const OSName = os()\n\n        this.list.push({\n            key: '',\n            command: '',\n            args: [],\n            eventType: 'keydown',\n            ...shortcut, \n            checkKeyString: this.splitShortCut(shortcut[OSName] || shortcut.key),\n            whenFunction: this.makeWhenFunction(shortcut.command, shortcut.when || true) \n        });\n\n        this.sort();\n\n    }\n\n    makeWhenFunction(command, when) {\n\n        if (isBoolean(when) && when) {\n            return () => true; \n        }\n\n        const editor = this.$editor;\n        const whenList = when.split('|').map(it => it.trim());\n        return () => {\n            return whenList.some(it => editor.modeViewManager.isCurrentMode(it));\n        }\n    }\n\n    sort() {\n        this.commands = {}\n        this.list.forEach(it => {\n            if (Array.isArray(this.commands[it.checkKeyString]) === false) {\n                this.commands[it.checkKeyString] = []\n            }\n\n            this.commands[it.checkKeyString].push(it);\n        })\n    }\n\n    splitShortCut (key) {\n        var arr = key.toUpperCase().split('+').map(it => it.trim()).filter(Boolean);\n\n        let isAlt = false;\n        let isControl = false;\n        let isShift = false;\n        let isMeta = false;\n        let restKeys = []\n        arr.forEach(key => {\n            if (key.includes('ALT')) isAlt = true; \n            else if (key.includes('CTRL')) isControl = true; \n            else if (key.includes('SHIFT')) isShift = true; \n            else if (key.includes('CMD') || key.includes('WIN') || key.includes('META')) isMeta = true; \n            else restKeys.push(key);\n        })\n\n        return joinKeys(\n            isAlt       ? 'ALT'     : '',\n            isControl   ? 'CTRL'    : '',\n            isShift     ? 'SHIFT'   : '',\n            isMeta      ? 'META'    : '',\n            generateKeyCode(restKeys.join(''))\n        );\n    }\n\n    makeKeyString(e) {\n        return joinKeys(\n            e.altKey    ? 'ALT'     : '',\n            e.ctrlKey   ? 'CTRL'    : '',\n            e.shiftKey  ? 'SHIFT'   : '',\n            e.metaKey   ? 'META'    : '',\n            e.key.toUpperCase()\n        )\n    }\n\n    makeCodeString(e) {\n        return joinKeys(\n            e.altKey    ? 'ALT'     : '',\n            e.ctrlKey   ? 'CTRL'    : '',\n            e.shiftKey  ? 'SHIFT'   : '',\n            e.metaKey   ? 'META'    : '',\n            e.code.toUpperCase()\n        )   \n    }    \n\n    makeKeyCodeString(e) {\n        return joinKeys(\n            e.altKey    ? 'ALT'     : '',\n            e.ctrlKey   ? 'CTRL'    : '',\n            e.shiftKey  ? 'SHIFT'   : '',\n            e.metaKey   ? 'META'    : '',\n            e.keyCode\n        )\n    }        \n\n    checkShortCut (keyCodeString, keyString, codeString) {\n        return this.commands[keyCodeString] || this.commands[keyString] || this.commands[codeString]\n    }\n\n    checkWhen(command) {\n        return command.whenFunction();\n    }\n\n    execute (e, eventType = 'keydown') {\n        let commands = this.checkShortCut(\n            this.makeKeyCodeString(e), \n            this.makeKeyString(e), \n            this.makeCodeString(e)\n        )\n\n        if (commands) {\n            const filteredCommands = commands.filter(it => it.eventType === eventType)\n                                             .filter(it => this.checkWhen(it));\n\n            if (filteredCommands.length) {\n                e.preventDefault();\n            }\n            filteredCommands.forEach(it => {\n                this.$editor.emit(it.command, ...it.args, e);\n            })\n        }\n    }\n}","export class ConfigManager {\n\n    constructor (editor) {\n        this.editor = editor;\n        this.configList = [];\n        this.config = new Map();\n    }\n    \n    /**\n     *  key   config   . \n     * \n     * todo: config default     . \n     * \n     * ```js\n     * config {\n     *  ['set.tool.hand']: {\n     *      name: 'set.tool.hand',\n     *      description: '', \n     *      defaultValue: '',\n     *       type: 'boolean',\n     *      type: 'list',\n     *      selectionType: 'one',\n     *      items: [\n     *          'value',\n     *          {value: '1', label: 'value' }\n     *      ]\n     *  }\n     * }\n     * ```\n     * \n     * @param {string} key \n     */\n    get (key) {\n        if (this.config.has(key) === false) {\n           this.config.set(key, this.configList.find(it => it.key == key)?.defaultValue);\n        }\n\n        return this.config.get(key);\n    }\n\n    set (key, value) {\n        const oldValue = this.config.get(key);\n\n        if (oldValue !== value) {\n            //todo: type \n            this.config.set(key, value); \n            this.editor.emit(\"config:\" + key, value, oldValue);\n        }\n    }\n\n    setAll (obj) {\n        Object.keys(obj).forEach(key => {\n            this.set(key, obj[key])\n        })\n    }\n\n    getType(key) {\n        return this.configList.find(it => it.key == key)?.type;\n    }\n\n    isType (key, type) {\n        return this.getType(key) === type;\n    }\n\n    isBoolean(key) {\n        return this.isType(key, 'boolean');\n    }\n\n    toggle(key) {\n        if (this.isBoolean(key)) {\n            this.set(key, !this.get(key));\n        }\n    }\n\n    true(key) {\n        return this.get(key) === true;\n    }\n\n    false(key) {\n        return this.get(key) === false;\n    }\n\n    /**\n     * key   config   .\n     * \n     * \n     * @param {string} key \n     * @param {any} value \n     * @returns {boolean}\n     */\n    is(key, value) {\n        return this.get(key) === value;\n    }\n\n    remove (key) {\n        this.config.delete(key);\n        this.editor.emit(\"config:\" + key);        \n    }\n\n\n    /**\n     * config   . \n     * \n     * @param {Object} config \n     * @param {string} config.type config key  \n     * @param {string} config.key config key  \n     * @param {any} config.defaultValue config key   \n     * @param {string} config.title config key  \n     * @param {string} config.description config key   \n     */ \n    registerConfig (config) {\n        this.config.set(config.key, config.defaultValue);\n        this.configList.push(config);\n    }\n}","export class HistoryManager {\n    constructor(editor) {\n        this.$editor = editor;\n\n        this.currentIndex = -1;\n        this.undoHistories = []\n        this.redoHistories = []\n        this.selection = {}\n    }\n\n    get length() {\n        return this.undoHistories.length;\n    }\n\n    get selectedIds() {\n        return Object.keys(this.selection);\n    }\n\n    createCommand(commandString) {\n        return this.$editor.isPointerUp ? `history.${commandString}` : commandString;\n    }\n\n    saveSelection(obj = {}) {\n        this.selection = this.$editor.selection.toCloneObject()\n    }\n\n    getUndoValues(attrs = {}) {\n        let result = {}\n\n        Object.keys(this.selection).forEach(id => {\n            result[id] = {}\n\n            Object.keys(attrs).forEach(key => {\n                result[id][key] = this.selection[id][key]\n            })\n        })\n\n        return result;\n    }\n\n    getUndoValuesForMulti(multiAttrs = {}) {\n        let result = {}\n\n        Object.keys(multiAttrs).forEach(id => {\n            result[id] = {}\n\n            const selectedObject = this.selection[id] || this.$editor.selection.itemsByIds(id)[0];\n            const attrs = multiAttrs[id];\n\n            Object.keys(attrs).forEach(key => {\n                result[id][key] = selectedObject[key]\n            })\n        })\n\n        return result;\n    }\n\n    /**\n     * \n     * @param {string} message \n     * @param {CommandObject} command \n     * @param {{currentValues: any, undoValues: any, redoValues: any}} data \n     */\n    add(message, command, data) {\n        const time = performance.now();\n        const lastUndoObject = this.undoHistories[this.undoHistories.length - 1];\n        const historyObject = { message, command, data, time }\n\n        if (lastUndoObject && \n            lastUndoObject.message === message && \n            time - lastUndoObject.time < this.$editor.config.get('history.delay.ms')\n        ) {\n            //    \n            //  history       1   \n            //   . \n            this.undoHistories[this.undoHistories.length - 1] = historyObject;\n\n        } else {\n            this.undoHistories.push(historyObject)\n            this.currentIndex++;\n            this.undoHistories.length = this.currentIndex + 1;\n\n        }\n\n        this.$editor.emit('refreshHistory', command.command);\n\n        return historyObject;\n    }\n\n    /**\n     * undo, redo   . \n     * \n     * @param {Function} callback \n     */\n    map(callback) {\n        let results = [...this.undoHistories.map(callback), '-', ...this.redoHistories.map(callback)].reverse()\n\n        return results;\n    }\n\n    /**\n     * undo  . \n     */\n    undo() {\n        if (this.currentIndex < -1) return;\n\n        if (this.currentIndex === this.length) {\n            this.currentIndex--;\n        }\n\n        const commandObject = this.undoHistories[this.currentIndex]\n\n        if (commandObject && commandObject.command) {\n\n            // undo  \n            commandObject.command.undo(this.$editor, commandObject.data)\n\n            //  index   \n            this.currentIndex--;           \n            // this.redoHistories.unshift(commandObject);\n            this.$editor.nextTick(() => {\n                this.$editor.emit('refreshHistory', commandObject.command);\n            })            \n        }\n\n    }\n\n    /**\n     * redo .\n     */\n    redo() {\n        if (this.currentIndex > this.length) return;\n\n        // currentIndex  -1    ++this.currentIndex  index    . \n        if (this.currentIndex < 0) {\n            this.currentIndex++;\n        }\n        const commandObject = this.undoHistories[this.currentIndex]\n\n        if (commandObject && commandObject.command) {\n\n            //   command redo   index    \n            // [5]  command  redo    [6]  redo    index  . \n            this.currentIndex++;\n\n            commandObject.command.redo(this.$editor, commandObject.data)\n            this.$editor.debug(commandObject)\n\n            this.$editor.nextTick(() => {\n                this.$editor.emit('refreshHistory', commandObject.command);\n            })            \n        }\n\n    }\n\n}","import { toRectVertiesWithoutTransformOrigin } from \"el/utils/collision\";\nimport { isNotZero } from \"el/sapa/functions/func\";\nimport { vec3 } from \"gl-matrix\";\n\nconst MAX_SNAP_DISTANCE = 3;\nconst DEFAULT_DIST_VECTOR = vec3.fromValues(0, 0, 0)\nconst AXIS_X = 'x';\nconst AXIS_Y = 'y';\n\nfunction checkXAxis(sourceVertex, targetVertex) {\n    return Math.abs(sourceVertex[0] - targetVertex[0]) < 1;\n}\n\nfunction checkYAxis(sourceVertex, targetVertex) {\n    return Math.abs(sourceVertex[1] - targetVertex[1]) < 1;\n}\n\nfunction checkZAxis(sourceVertex, targetVertex) {\n    return Math.abs(sourceVertex[2] - targetVertex[2]) < 1;\n}\n\n\n/**\n *     verties    . \n * \n * @class SnapManager\n */\nexport class SnapManager {\n\n    /**\n     * \n     * @param {Editor} editor \n     */\n    constructor(editor, snapDistance = MAX_SNAP_DISTANCE) {\n        this.editor = editor;\n        this.map = new Map();\n        this.snapTargetLayers = []\n        this.snapDistance = snapDistance;\n    }\n\n    get dist() {\n        return this.editor.config.get('snap.distance') || this.snapDistance;\n    }\n\n    get gridSize() {\n        return this.editor.config.get('snap.grid') || 50;\n    }\n\n    /**\n     *  item matrix  .\n     */\n    clear() {\n        this.snapTargetLayers = this.editor.selection.snapTargetLayers.map(it => {\n            return this.convertMatrix(it);\n        });\n    }\n\n\n    convertMatrix(item) {\n        const verties = this.convertGuideAndPathMatrix(item);\n        const xList = verties.map(it => it[0]);\n        const yList = verties.map(it => it[1]);\n\n        return { id: item.id, xList, yList, verties, rectVerties: toRectVertiesWithoutTransformOrigin(item.originVerties) };\n    }\n\n    /**\n     * , path   \n     * \n     * @param {MovableItem} item \n     * @returns {vec3[]}\n     */\n    convertGuideAndPathMatrix(item) {\n        const guideVerties = item.guideVerties;\n        // const pathVerties = item.pathVerties();\n\n        return [...guideVerties];\n    }\n\n    /**\n     * snap   \n     * \n     * @returns {vec3[]}\n     */\n    getSnapPoints() {\n        const points = []\n        this.editor.selection.snapTargetLayersWithSelection.forEach(it => {\n            points.push.apply(points, this.convertGuideAndPathMatrix(it));\n        });\n\n        return points;\n    }\n\n    checkX(targetXList, sourceXList, dist = 0) {\n\n        const checkXList = []\n\n        //             \n        targetXList.forEach((targetX, targetIndex) => {\n            sourceXList.forEach((sourceX, sourceIndex) => {\n\n                const localDistX = targetX - sourceX\n                const localGridDistX = this.gridSize - (Math.abs(sourceX) % this.gridSize);\n                if (Math.abs(localDistX) <= dist) {\n                    checkXList.push({ targetX, sourceX, sourceIndex, targetIndex, dx: localDistX })\n                } else if (Math.abs(localGridDistX) <= dist) {\n                    checkXList.push({ targetX, sourceX, sourceIndex, targetIndex, dx: localGridDistX })\n                }\n            })\n        })\n\n        return checkXList;\n    }\n\n    checkY(targetYList, sourceYList, dist = 0) {\n\n        const checkYList = []\n\n        targetYList.forEach((targetY, targetIndex) => {\n            sourceYList.forEach((sourceY, sourceIndex) => {\n\n                const localDistY = targetY - sourceY\n\n                if (Math.abs(localDistY) <= dist) {\n                    checkYList.push({ targetY, sourceY, sourceIndex, targetIndex, dy: localDistY })\n                }\n\n            })\n        })\n\n        return checkYList;\n    }\n\n    /**\n     * \n     * check target verties \n     * \n     * @param {vec3[]} sourceVerties \n     */\n    check(sourceVerties) {\n        const snaps = []\n        const dist = this.dist;\n        const sourceXList = sourceVerties.map(it => it[0])\n        const sourceYList = sourceVerties.map(it => it[1])\n\n        //    \n        this.snapTargetLayers.forEach(target => {\n\n            const x = this.checkX(target.xList, sourceXList, dist)[0];\n            const y = this.checkY(target.yList, sourceYList, dist)[0];\n\n            snaps.push(vec3.fromValues(x ? x.dx : 0, y ? y.dy : 0, 0))\n        })\n\n        // //   x grid  \n        // if (snaps.filter(it => it[0] !== 0).length === 0) {\n        //     sourceXList.forEach((sourceX) => {\n\n        //         const localGridDistX = this.gridSize - ((sourceX + 10000000000) % this.gridSize);\n        //         if (Math.abs(localGridDistX) <= dist) {\n        //             snaps.push(vec3.fromValues(localGridDistX, 0, 0))\n        //         }\n\n        //     })        \n        // }\n\n        // //   y grid  \n        // if (snaps.filter(it => it[1] !== 0).length === 0) {\n        //     sourceYList.forEach((sourceY) => {\n        //         const localGridDistY = this.gridSize - ((sourceY + 10000000000) % this.gridSize);\n        //         if (Math.abs(localGridDistY) <= dist) {\n        //             snaps.push(vec3.fromValues(0, localGridDistY, 0))\n        //         }\n\n        //     })        \n        // }        \n\n        return snaps.find(it => isNotZero(it[0]) || isNotZero(it[1])) || DEFAULT_DIST_VECTOR\n    }\n\n    checkPoint(sourceVertex) {\n        const snap = this.check([sourceVertex])\n        return vec3.add([], sourceVertex, snap);\n    }\n\n    /**\n     *       \n     * \n     * @param {vec3[]} sourceVerties \n     * @param {vec3[]} targetVerties \n     * @returns {Array} [sourceVertex, targetVertex, AXIS_X or AXIS_Y ]\n     */\n    getGuidesByPointPoint(sourceVerties, targetVerties) {\n        const points = []\n        const groupPoints = {};\n        let sourceVertex, targetVertex;\n        for (let sourceIndex = 0, sourceLength = sourceVerties.length; sourceIndex < sourceLength; sourceIndex++) {\n            sourceVertex = sourceVerties[sourceIndex];\n\n\n            const keyX = `${sourceVertex[0]}_x`\n            const keyY = `${sourceVertex[1]}_y`\n\n            if (!groupPoints[keyX]) {\n                groupPoints[keyX] = [];\n            }\n\n            if (!groupPoints[keyY]) {\n                groupPoints[keyY] = [];\n            }\n\n            for (let targetIndex = 0, targetLength = targetVerties.length; targetIndex < targetLength; targetIndex++) {\n                targetVertex = targetVerties[targetIndex];\n\n                // axis     . (dist)   \n                if (checkXAxis(sourceVertex, targetVertex)) {        // x    , y    \n                    groupPoints[keyX].push([sourceVertex, targetVertex, AXIS_X, vec3.dist(sourceVertex, targetVertex)])\n                }\n\n                if (checkYAxis(sourceVertex, targetVertex)) {        // x    , y    \n                    groupPoints[keyY].push([sourceVertex, targetVertex, AXIS_Y, vec3.dist(sourceVertex, targetVertex)])\n                }\n            }\n        }\n\n        // group      . \n        Object.keys(groupPoints).forEach(key => {\n            if (groupPoints[key] && groupPoints[key].length) {\n                const sorted = groupPoints[key].sort((a, b) => a[3] - b[3])\n                const [sourceVertex, targetVertex, axis] = sorted[0]\n\n                points.push([sourceVertex, targetVertex, axis])\n            }\n        })\n\n        return points;\n    }\n\n    findGuide(sourceVerties) {\n        const guides = []\n\n        this.snapTargetLayers.forEach(target => {\n\n            // vertex  vertex     \n            const points = this.getGuidesByPointPoint(sourceVerties, target.verties);\n\n            guides.push.apply(guides, points);\n        })\n\n        return guides;\n    }\n\n    findGuideOne(sourceVerties) {\n        return [this.findGuide(sourceVerties)[0]]\n    }\n\n}","/**\n * @class KeyBoardManager \n */\nexport class KeyBoardManager {\n    constructor (editor) {\n        this.editor = editor; \n        this.codeSet = new Set();\n        this.keyCodeSet = new Set();\n    }\n\n    /**\n     *      ,    \n     * \n     * @param {string} key \n     * @param {number} keyCode \n     */\n    add (key, keyCode) {\n\n        if (this.codeSet.has(key) === false) {\n            this.codeSet.add(key);\n        }\n\n        if (this.keyCodeSet.has(keyCode) === false) {\n            this.keyCodeSet.add(keyCode);\n        }\n\n    }\n\n    remove (key, keyCode) {\n        this.codeSet.delete(key);\n        this.keyCodeSet.delete(keyCode);\n    }\n\n    /**\n     *    \n     * @param {string|number} keyOrKeyCode \n     */\n    hasKey (keyOrKeyCode) {\n        return this.codeSet.has(keyOrKeyCode) || this.keyCodeSet.has(keyOrKeyCode)\n    }\n\n    /**\n     * key, keycode    \n     * @param {string|number} keyOrKeyCode \n     */\n    check (...args) {\n        return args.some(keyOrKeyCode => this.hasKey(keyOrKeyCode))\n    }\n}","import { rectToVerties, rectToVertiesForArea } from \"el/utils/collision\";\nimport { calculateMatrix, calculateMatrixInverse, vertiesMap } from \"el/utils/math\";\nimport { mat4, vec3 } from \"gl-matrix\";\n\n/**\n * editor  viewport  . \n * \n * \n * @class ViewportManager \n */\nexport class ViewportManager {\n    constructor (editor) {\n        this.editor = editor; \n\n        this.canvasSize = null; \n        this.cachedViewport = rectToVerties(0, 0, 0, 0);\n        this.mouse = vec3.create()\n        this.scale = 1\n        this.translate = vec3.create(),\n        this.transformOrigin = vec3.create(),    \n        this.maxScale = 250; \n        this.minScale = 0.2;  \n        this.zoomFactor = 1; \n\n        this.resetWorldMatrix();            \n    }\n\n    /**\n     * transform origin   \n     * \n     * @param {vec3} originVec \n     */\n    setTransformOrigin (originVec) {\n        this.transformOrigin = originVec;\n        this.resetWorldMatrix()\n    }\n\n    /**\n     * transformOrigin   translate    \n     * \n     * @param {vec3} newOrigin \n     */\n    setTransformOriginWithTranslate (newOrigin) {\n        const oldOrigin = vec3.clone(this.transformOrigin);\n        this.setTransformOrigin(newOrigin);\n        this.setTranslate(vec3.add([], this.translate, vec3.subtract([], oldOrigin, newOrigin)));\n    } \n\n    /**\n     * scale  \n     * \n     * @param {number} scale 0.3...5\n     */\n    setScale (scale) {\n        this.scale = Math.min(Math.max(this.minScale, scale), this.maxScale); \n        this.resetWorldMatrix()    \n    } \n    \n    /**\n     * viewport  \n     * \n     * @param {vec3} translate \n     */\n    setTranslate (translate) {\n        this.translate = translate;\n        this.resetWorldMatrix()    \n    }\n\n    /**\n     * 2  matrix  . \n     * \n     * 1. world matrix \n     * 2. scale matrix -       \n     * \n     */\n    resetWorldMatrix () {\n\n        // css  3     . \n        //   element.style.transformOrigin = \"300.3244324px 200.432332434px\";    \n        //    \"300.3244px 200.4323px\"   . \n        //      ()       . \n        //  scale               . \n        //     toFixed()   . \n        this.translate = this.translate.map(it => +it.toFixed(4));\n        this.transformOrigin = this.transformOrigin.map(it => +it.toFixed(4));\n        this.scale = +this.scale.toFixed(4);\n\n        this.matrix = calculateMatrix(\n            mat4.fromTranslation([], this.translate),\n            mat4.fromTranslation([], this.transformOrigin),\n            mat4.fromScaling([], [this.scale, this.scale, 1]),\n            mat4.fromTranslation([], vec3.negate([], this.transformOrigin))\n        ) \n        this.matrixInverse = mat4.invert([], this.matrix)\n\n        this.scaleMatrix = calculateMatrix(\n            mat4.fromScaling([], [this.scale, this.scale, 1]),\n        ) \n        this.scaleMatrixInverse = mat4.invert([], this.scaleMatrix)    \n\n        this.refresh();\n    }    \n\n    /**\n     * \n     * canvas   \n     * \n     * window       canvas   . \n     * \n     * @param {object} rect \n     * @param {number} rect.x\n     * @param {number} rect.y\n     * @param {number} rect.width\n     * @param {number} rect.height\n     */\n    refreshCanvasSize (rect) {\n        \n        if (this.canvasSize) {\n    \n            this.canvasSize = {\n                x: rect.x ,\n                y: rect.y ,\n                width: rect.width,\n                height: rect.height \n            }\n\n            this.cachedViewport = rectToVerties(0, 0, this.canvasSize.width, this.canvasSize.height)\n            const newVerties = vec3.transformMat4(\n                [], \n                [this.canvasSize.width, this.canvasSize.height, 0], \n                this.scaleMatrixInverse\n            );\n\n            const newTransformOrigin = vec3.add(\n                [], \n                this.verties[0], \n                [newVerties[0]/2, newVerties[1]/2, 0]\n            )\n\n            // translate * translateOrigin * scale * -translateOrigin = translate? * translateOrigin * scale * translateOrigin\n            // matrix = translate? * translateOrigin * scale * -translateOrigin\n            // matrix = translate? * newTransformOriginMatrix\n            // matrix * -newTransformOriginMatrix = translate \n            const newTranslate = mat4.getTranslation([], calculateMatrix(\n                this.matrix, \n                calculateMatrixInverse(\n                    mat4.fromTranslation([], newTransformOrigin),\n                    this.scaleMatrix,\n                    mat4.invert([], mat4.fromTranslation([], newTransformOrigin)),\n                )\n            ))\n\n            this.setTranslate(newTranslate)            \n            this.setTransformOrigin(newTransformOrigin)            \n    \n        } else {\n            this.canvasSize = {\n                x: rect.x,\n                y: rect.y,\n                width: rect.width,\n                height: rect.height\n            }\n        \n            this.cachedViewport = rectToVerties(0, 0, this.canvasSize.width, this.canvasSize.height)\n    \n            this.setTransformOrigin([\n                this.canvasSize.width/2,\n                this.canvasSize.height/2,\n                0\n            ])\n        }\n        this.editor.emit('updateViewport')        \n    }\n\n    /**\n     * \n     *   translate, origin, scale   viewport  verties  .  \n     * \n     */\n    refresh () {\n\n        if (this.cachedViewport) {\n            this.verties = vertiesMap(this.cachedViewport, this.matrixInverse);\n        }\n\n    }\n\n    getWorldPosition(e) {\n        e = e || this.editor.config.get('bodyEvent')\n        return this.createWorldPosition(e.clientX, e.clientY);\n    }\n\n    /**\n     * mousePoint{x, y}     . \n     * \n     * @param {number} x \n     * @param {number} y \n     */\n    createWorldPosition(x, y) {\n\n        if (!this.canvasSize) {\n            return vec3.create();\n        }\n\n        const origin = {\n            x: x - this.canvasSize.x,\n            y: y - this.canvasSize.y,\n        }\n\n        const mouseX = this.verties[0][0] + (this.verties[2][0] - this.verties[0][0]) * (origin.x/this.canvasSize.width);\n        const mouseY = this.verties[0][1] + (this.verties[2][1] - this.verties[0][1]) * (origin.y/this.canvasSize.height);\n\n        return [mouseX, mouseY, 0]\n    }\n\n    /**\n     *  point{x, y}   viewport    \n     * \n     * @param {number} x \n     * @param {number} y \n     */\n    setMousePoint (x, y) {\n\n        this.mouse = this.createWorldPosition(x, y);\n\n        this.setTransformOriginWithTranslate(vec3.lerp([], this.verties[0], this.verties[2], 0.5))\n\n        this.editor.emit('updateViewport')        \n    }\n\n    zoom (zoomFactor) {\n\n        const oldScale = this.scale; \n        const newScale = oldScale * zoomFactor\n\n        this.setScale(newScale)      \n\n        const newZoomFactor = this.scale / oldScale; \n        this.zoomFactor = newZoomFactor;        \n\n        if (newZoomFactor !== 1)  {\n\n          this.setTransformOriginWithTranslate(\n            vec3.lerp(\n              [], \n              this.mouse, \n              this.transformOrigin, \n              1 / zoomFactor\n            )\n          )\n\n          this.editor.emit('updateViewport')\n        }\n    }\n\n    /**\n     * \n     * pan  \n     * \n     * @param {number} x \n     * @param {number} y \n     * @param {number} z \n     */\n    pan (x, y, z = 0)  {\n\n        this.setTransformOriginWithTranslate(\n          vec3.add([], this.transformOrigin, [x, y, 0])\n        );\n        this.editor.emit('updateViewport')        \n    }\n\n    /**\n     *   center   \n     * \n     * @param {vec3[]} areaVerties \n     */\n    moveLayerToCenter (areaVerties, scaleRate = -0.2, withScale = true) {\n\n        const areaCenter = vec3.lerp([], areaVerties[0], areaVerties[2], 0.5);\n        const width = vec3.dist(areaVerties[0], areaVerties[1])\n        const height = vec3.dist(areaVerties[0], areaVerties[3])\n\n        const viewportCenter = vec3.lerp([], this.verties[0], this.verties[2], 0.5);        \n        const viewportWidth = vec3.dist(this.verties[0], this.verties[1])\n        const viewportHeight = vec3.dist(this.verties[0], this.verties[3])\n\n        const minRate = withScale ? Math.min(viewportWidth/width, viewportHeight/height) + scaleRate : 1;\n\n        this.setTranslate(\n            vec3.add(\n                [], \n                this.translate, \n                vec3.subtract([], viewportCenter, areaCenter)\n            )\n        )\n        this.setTransformOrigin(areaCenter)\n        this.setScale(this.scale * minRate)\n\n        this.editor.emit('updateViewport')        \n    }\n\n    /**\n     *  mouse  x, y   . \n     * \n     * @type {number}\n     * @returns {vec3}\n     */\n    get pos () {\n        const mouseX = (this.mouse[0] - this.verties[0][0])/(this.verties[2][0] - this.verties[0][0]) * 100;\n        const mouseY = (this.mouse[1] - this.verties[0][1])/(this.verties[2][1] - this.verties[0][1]) * 100;\n\n        return [mouseX, mouseY, 0]\n    }\n\n    get minX () { return this.verties[0][0]; }\n    get maxX () { return this.verties[2][0]; }\n    get minY () { return this.verties[0][1]; }\n    get maxY () { return this.verties[2][1]; }    \n    get center () { return this.verties[4]; }\n\n    get height () { return this.maxY - this.minY; }\n    get width () { return this.maxX - this.minX; }\n\n    checkInViewport (pointVertex) {\n        const [x, y, z] = pointVertex;\n        const xInViewport = this.minX < x && x < this.maxX;\n        const yInViewport = this.minY < y && y < this.maxY;\n        return xInViewport && yInViewport;\n    }\n\n    applyVertex (vertex) {\n        return vec3.transformMat4([], vertex, this.matrix);\n    }\n\n    applyVertexInverse (vertex) {\n        return vec3.transformMat4([], vertex, this.matrixInverse);\n    }    \n\n    applyVerties (verties) {\n        return vertiesMap(verties, this.matrix);\n    }\n\n    applyScaleVerties (verties) {\n        return vertiesMap(verties, this.scaleMatrix);\n    }\n\n    applyVertiesInverse (verties) {\n        return vertiesMap(verties, this.matrixInverse);\n    }\n    \n    applyScaleVertiesInverse (verties) {\n        return vertiesMap(verties, this.scaleMatrixInverse);\n    }    \n\n    /**\n     * viewport   \n     * \n     * @param {number} x \n     * @param {number} y \n     * @param {number} width \n     * @param {number} height \n     * @returns {vec3[]}\n     */\n    createAreaVerties (x, y, width, height) {\n        return this.applyVertiesInverse(rectToVertiesForArea(x, y, width, height));\n    }\n\n\n\n}","import { uuid } from \"el/utils/math\";\n\n\n/**\n * localStorage Manager\n * \n * @class StorageManager \n */\nexport class StorageManager {\n    constructor (editor) {\n        this.editor = editor; \n\n        this.customAssetKey = 'custom-assets';\n    }\n\n    async getCustomAssetList () {\n        let isNew = false; \n        const artboards = (this.editor.loadItem(this.customAssetKey) || []).map(it => {\n            if (!it.id) {\n                it.id = uuid();\n                isNew = true; \n            }\n            return it;\n        })\n\n        if (isNew) {\n            await this.setCustomAssetList(artboards);\n        }\n\n        return artboards; \n    }\n\n    async setCustomAssetList (list) {\n        this.editor.saveItem(this.customAssetKey, list);\n    }\n\n    async getCustomAsset (id) {\n        const assetList = await this.getCustomAssetList()\n        const it = assetList.find(it => it.id === id);\n\n        if (it && it.component) {\n            return it.component;\n        }\n\n        return null; \n    }\n\n    /**\n     *  preview    \n     * \n     * @param {string} datauri  image datauri \n     */\n    async saveCustomAsset(datauri = '') {\n        const current = this.editor.selection.current;\n\n        if (current) {\n            const assetList = await this.getCustomAssetList();\n            const json = await this.editor.json.render(current);\n\n            json.x = \"0px\"\n            json.y = \"0px\"\n            await this.setCustomAssetList([\n                ...assetList, \n                {\n                    id: uuid(),\n                    preview: datauri,\n                    component: json \n                }\n            ]);\n        }\n    }\n\n    async removeCustomAsset (id) {\n        const assetList = await this.getCustomAssetList();\n        await this.setCustomAssetList(assetList.filter(it => {\n            return it.id !== id\n        }));\n    }\n\n}","export default function _icon_template (tpl, opt) {\n\n    const defaultOpts = Object.assign({\n        width: 24, \n        height: 24\n    }, opt);\n\n    return /*html*/`\n        <svg \n            xmlns=\"http://www.w3.org/2000/svg\" \n            width=\"${defaultOpts.width}\" \n            height=\"${defaultOpts.height}\" \n            viewBox=\"0 0 24 24\">${tpl}</svg>`;\n}","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`\n    <path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z\"/>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`\n    <path d=\"M22 6H12l-2-2H2v16h20V6zm-3 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z\"/>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/><path fill=\"none\" d=\"M0 0h24v24H0z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 13H5v-2h14v2z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M10 17l5-5-5-5v10z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3 5v3c0 .55.45 1 1 1s1-.45 1-1V6c0-.55.45-1 1-1h2c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2zm1 10c-.55 0-1 .45-1 1v3c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1-.45-1-1v-2c0-.55-.45-1-1-1zm15 3c0 .55-.45 1-1 1h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v2zm0-15h-3c-.55 0-1 .45-1 1s.45 1 1 1h2c.55 0 1 .45 1 1v2c0 .55.45 1 1 1s1-.45 1-1V5c0-1.1-.9-2-2-2z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4h-3z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M5 4v3h5.5v12h3V7H19V4z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M8 5v14l11-7z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template('<path d=\"M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z\"/>');","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2h4zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<g fill=\"#010101\"><circle cx=\"7\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"6\" r=\"3\"/><circle cx=\"16.6\" cy=\"17.6\" r=\"3\"/></g>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<clipPath><use xlink:href=\"#a\" overflow=\"visible\"/></clipPath><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13 9.5h5v-2h-5v2zm0 7h5v-2h-5v2zm6 4.5H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2zM6 11h5V6H6v5zm1-4h3v3H7V7zM6 18h5v-5H6v5zm1-4h3v3H7v-3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3,3v8h8V3H3z M9,9H5V5h4V9z M3,13v8h8v-8H3z M9,19H5v-4h4V19z M13,3v8h8V3H13z M19,9h-4V5h4V9z M13,13v8h8v-8H13z M19,19h-4v-4h4V19z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M17,15.7V13H19V17L10,21L3,14L7,5H11V7H8.3L5.4,13.6L10.4,18.6L17,15.7M22,5V7H19V10H17V7H14V5H17V2H19V5H22Z\" />`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 16.5a1 1 0 0 1-.527.881l-7.907 4.443a.996.996 0 0 1-1.132 0l-7.907-4.443A1 1 0 0 1 3 16.5v-9a1 1 0 0 1 .527-.881l7.907-4.443a.995.995 0 0 1 1.132 0l7.907 4.443A1 1 0 0 1 21 7.5v9zM12 4.15L6.042 7.5l5.96 3.35 5.958-3.35-5.958-3.35zM5 15.916l6 3.372V12.58L5 9.209v6.706zm14 0V9.209l-6 3.372v6.707l6-3.373z\" />`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 6h2v12H6zm3.5 6l8.5 6V6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\" />`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<defs><path id=\"a\" d=\"M0 0h24v24H0V0z\"/></defs><clipPath id=\"b\"><use xlink:href=\"#a\" overflow=\"visible\"/></clipPath><path d=\"M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z\" clip-path=\"url(#b)\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n<path d=\"M712.4846,631.2673c-8.3777-59.9758-44.6997-121.2822-117.7703-198.7816\n\tc-51.7295-54.8649-72.0865-105.7791-55.8514-139.6883c12.4393-25.9817,42.587-35.8935,65.343-34.1103\n\tc26.3435,2.0661,37.3148,18.5905,41.88,32.0888c6.5847,19.471,2.7829,43.5175-8.4753,53.6029\n\tc-2.4382,2.1843-19.5444,15.6083-31.617,2.486c-16.0995-17.4994,1.3123-34.1181,1.3123-34.1181s25.7198-19.4211,11.5477-34.6431\n\tc-14.1721-15.2219-81.6211,4.7241-73.1766,62.9098c2.102,14.4833,9.8525,35.0453,41.7667,49.9105\n\tc31.3411,14.5985,62.0806,11.5356,84.3365-8.4017c26.8387-24.0431,36.221-68.5172,22.8163-108.1526\n\tc-13.0433-38.5685-45.3375-63.5167-86.387-66.7359c-22.4584-1.7602-45.9053,2.9182-66.0231,13.1776\n\tc-22.1882,11.3155-39.3094,28.5606-49.5124,49.8713c-15.207,31.7608-27.0118,99.5788,64.7797,196.9337\n\tc64.4428,68.3486,97.5892,122.6011,104.3126,170.7358c6.1263,43.8577-32.9753,141.2908-59.1734,141.8642\n\tc-18.2653,0.3997-13.0681-28.0174-11.1219-46.1832c3.4623-32.3166,9.02-64.4668,7.8147-96.946\n\tc-1.7692-47.6774-16.0649-83.7216-38.2463-125.1911c-20.1995-37.7643-37.8974-60.6029-92.5699-111.4463\n\tc-13.4884-12.5438-27.4699-22.5866-44.7675-38.1754c-17.5431-15.8101-21.9685-33.5474-24.195-48.6835\n\tc-4.6472-31.5926,5.266-35.0392,22.933-61.1816c7.51,6.1134,15.132,13.1576,22.5878,21.2593\n\tc0.8908,0.9678,2.1063,1.4586,3.3257,1.4586c1.0938,0,2.1906-0.3947,3.059-1.1939c1.8362-1.6895,1.9548-4.548,0.2647-6.3846\n\tc-8.043-8.7399-16.2394-16.2892-24.29-22.8068c1.0196-1.6815,1.9806-3.3693,2.913-5.06\n\tc11.2809,3.873,22.4781,8.5857,32.8744,14.3263c0.6923,0.3824,1.4415,0.5638,2.1804,0.5638c1.592,0,3.1354-0.8433,3.9596-2.3353\n\tc1.2061-2.1848,0.4133-4.9333-1.7714-6.14c-10.5501-5.8255-21.7927-10.625-33.0861-14.5846\n\tc1.7051-3.6655,3.2152-7.3481,4.5178-11.0449c9.9095,1.0547,20.2559,2.6507,30.8756,4.9542\n\tc2.4407,0.5281,4.8451-1.0193,5.3736-3.4585c0.5285-2.4387-1.0193-4.8446-3.4586-5.3736\n\tc-10.3543-2.2456-20.4231-3.8448-30.0823-4.9431c6.761-25.5357,4.0583-51.5754-8.0207-76.8648\n\tC448.2098,115.8869,474.731,76.8288,466.0513,18c-68.8775,17.9071-87.2624,54.1776-94.1043,50.875\n\tc-7.9472-3.8361-40.5018-11.036-62.952-10.6586c-37.278,0.6267-61.382,7.0395-61.382,7.0395\n\tc-11.2537-14.6686-35.9431-36.6889-90.105-41.2683c2.9433,47.1602,13.4346,82.2557,28.5291,102.9373l-0.7433,2.377\n\tc-11.7879,32.4393-13.5817,62.8858-3.8016,89.6451c-9.0883,1.1019-18.5685,2.7173-28.321,4.9987\n\tc-2.4299,0.5687-3.939,2.9991-3.3708,5.429c0.5687,2.4294,2.9972,3.939,5.429,3.3708c10.3087-2.4115,20.3424-4.0428,29.9266-5.0891\n\tc1.4184,2.9763,2.9836,5.904,4.7147,8.7755c-11.2262,4.119-22.4456,9.1879-32.9296,15.4312\n\tc-2.1445,1.2767-2.8476,4.0498-1.5704,6.1939c0.8453,1.4199,2.3461,2.2073,3.8866,2.2073c0.7859,0,1.5827-0.2054,2.3073-0.6369\n\tc10.5541-6.2849,22.0078-11.3381,33.4798-15.4008c3.3157,4.5403,7.0729,8.9251,11.2576,13.1527\n\tc-5.6694,5.3088-11.3757,11.2216-17,17.8125c-1.6199,1.8979-1.3944,4.7505,0.504,6.3699c0.8507,0.7266,1.8935,1.0816,2.931,1.0816\n\tc1.2767,0,2.5456-0.5383,3.4389-1.5856c5.5062-6.4525,11.1144-12.2327,16.692-17.4078c5.7832,5.4212,11.3758,11.1287,15.514,17.8627\n\tc7.8208,12.7265,8.3216,25.8196,6.7598,40.6753c-3.119,29.6671-13.4278,58.0414-20.0391,87.1301\n\tc-16.8163,73.989-9.0635,132.7513,20.7169,202.5388c8.0053,18.7598,17.5698,36.9144,23.7843,56.341\n\tc10.5081,32.8488,7.8436,88.3559,8.2697,122.8419v2.9318c0,0-19.9931,0.1384-28.4717,6.0748\n\tc-8.2555,5.7802-10.3883,21.931-4.3929,28.6906c6.6872,7.5395,21.6739,10.6397,31.6837,11.8093\n\tc119.664,13.9824,293.6021-2.6707,341.7446-8.3345C701.2023,821.2982,721.1432,693.2562,712.4846,631.2673z M437.2106,66.5267\n\tc-0.1946,33.6617-23.5064,50.7886-23.5064,50.7886c-6.2684-17.19-21.1558-25.3943-21.1558-25.3943\n\tC408.2194,68.8708,437.2106,66.5267,437.2106,66.5267z M201.6607,103.3024c0,0-19.8527-14.6264-20.0184-43.3732\n\tc0,0,24.6894,2.0019,38.035,21.6866C219.6773,81.6158,206.999,88.6223,201.6607,103.3024z M215.969,158.6876\n\tc15.0275-4.1452,27.2506-3.8264,37.1033-1.1182c-15.9193,16.5729-7.4137,31.0502-3.2583,36.286\n\tC221.2402,186.9178,215.969,158.6876,215.969,158.6876z M252.8369,194.4974c13.6546-17.1619,7.1357-30.6827,3.4758-35.9226\n\tc24.8589,8.5877,33.2057,32.5095,33.2057,32.5095C274.4792,195.6167,262.4471,196.221,252.8369,194.4974z M308.1766,232.8661\n\tc-4.1644,0.2111-22.0216-7.8084-21.8634-21.8635c0.1244-11.0539,40.2451-7.8568,42.1652,0\n\tC330.8523,220.7164,312.3411,232.655,308.1766,232.8661z M327.2252,191.0843c0,0,8.7972-25.2037,35.2186-33.1565\n\tc-12.424,19.1432-1.5466,31.7233,3.55,36.1478C356.055,196.2867,343.3752,195.9514,327.2252,191.0843z M369.7458,193.0825\n\tc10.0879-20.4091-1.0878-32.4358-4.9794-35.7968c9.66-2.4378,21.5306-2.5917,36.0081,1.4018\n\tC400.7746,158.6876,395.8536,185.0439,369.7458,193.0825z\"/>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 2v11h3v9l7-12h-4l4-8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 3L3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z\"/>`);\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M5 14.5h14v-6H5v6zM11 .55V3.5h2V.55h-2zm8.04 2.5l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM13 22.45V19.5h-2v2.95h2zm7.45-3.91l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM3.55 4.46l1.79 1.79 1.41-1.41-1.79-1.79-1.41 1.41zm1.41 15.49l1.79-1.8-1.41-1.41-1.79 1.79 1.41 1.42z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M5 17.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM3 21h18v-2H3v2zM5 9.5c.83 0 1.5-.67 1.5-1.5S5.83 6.5 5 6.5 3.5 7.17 3.5 8 4.17 9.5 5 9.5zm0 4c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 17c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8-.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM3 3v2h18V3H3zm14 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm0 4c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM13 9c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default  _icon_template(`<path d=\"M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 10c-3.86 0-7 3.14-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.86-3.14-7-7-7zm0-4C5.93 6 1 10.93 1 17h2c0-4.96 4.04-9 9-9s9 4.04 9 9h2c0-6.07-4.93-11-11-11z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M14 5c0-1.1-.9-2-2-2h-1V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2h8V5h-8zm-2 13h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`\n    <path d=\"M9,12c0,1.66,1.34,3,3,3s3-1.34,3-3s-1.34-3-3-3S9,10.34,9,12z\"/>\n    <path d=\"M8,10V8H5.09C6.47,5.61,9.05,4,12,4c3.72,0,6.85,2.56,7.74,6h2.06c-0.93-4.56-4.96-8-9.8-8C8.73,2,5.82,3.58,4,6.01V4H2v6\n        H8z\"/>\n    <path d=\"M16,14v2h2.91c-1.38,2.39-3.96,4-6.91,4c-3.72,0-6.85-2.56-7.74-6H2.2c0.93,4.56,4.96,8,9.8,8c3.27,0,6.18-1.58,8-4.01V20\n        h2v-6H16z\"/>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12.75 3h-1.5L6.5 14h2.1l.9-2.2h5l.9 2.2h2.1L12.75 3zm-2.62 7L12 4.98 13.87 10h-3.74zm10.37 8l-3-3v2H5v2h12.5v2l3-3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n<g class=\"cylinder\">\n<path d=\"M 12 0 C 7.636719 0 3 1.226562 3 3.5 L 3 20.5 C 3 22.773438 7.636719 24 12 24 C 16.363281 24 21 22.773438 21 20.5 L 21 3.5 C 21 1.226562 16.363281 0 12 0 Z M 20 19.121094 C 19.921875 19.140625 19.84375 19.171875 19.78125 19.230469 C 19.574219 19.414062 19.554688 19.726562 19.738281 19.933594 C 19.914062 20.128906 20 20.320312 20 20.5 C 20 21.542969 16.957031 23 12 23 C 7.042969 23 4 21.542969 4 20.5 C 4 20.320312 4.085938 20.128906 4.261719 19.933594 C 4.445312 19.726562 4.425781 19.410156 4.21875 19.226562 C 4.15625 19.171875 4.078125 19.140625 4 19.121094 L 4 5.160156 C 5.59375 6.363281 8.863281 7 12 7 C 15.136719 7 18.40625 6.363281 20 5.160156 Z M 12 6 C 7.042969 6 4 4.542969 4 3.5 C 4 2.457031 7.042969 1 12 1 C 16.957031 1 20 2.457031 20 3.5 C 20 4.542969 16.957031 6 12 6 Z M 12 6 \"/>\n</g>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default  _icon_template(`<defs><path id=\"a\" d=\"M0 0h24v24H0V0z\"/></defs><clipPath id=\"b\"><use xlink:href=\"#a\" overflow=\"visible\"/></clipPath><path clip-path=\"url(#b)\" d=\"M7.24 8.75c-.26-.48-.39-1.03-.39-1.67 0-.61.13-1.16.4-1.67.26-.5.63-.93 1.11-1.29.48-.35 1.05-.63 1.7-.83.66-.19 1.39-.29 2.18-.29.81 0 1.54.11 2.21.34.66.22 1.23.54 1.69.94.47.4.83.88 1.08 1.43.25.55.38 1.15.38 1.81h-3.01c0-.31-.05-.59-.15-.85-.09-.27-.24-.49-.44-.68-.2-.19-.45-.33-.75-.44-.3-.1-.66-.16-1.06-.16-.39 0-.74.04-1.03.13-.29.09-.53.21-.72.36-.19.16-.34.34-.44.55-.1.21-.15.43-.15.66 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.05-.08-.11-.17-.15-.25zM21 12v-2H3v2h9.62c.18.07.4.14.55.2.37.17.66.34.87.51.21.17.35.36.43.57.07.2.11.43.11.69 0 .23-.05.45-.14.66-.09.2-.23.38-.42.53-.19.15-.42.26-.71.35-.29.08-.63.13-1.01.13-.43 0-.83-.04-1.18-.13s-.66-.23-.91-.42c-.25-.19-.45-.44-.59-.75-.14-.31-.25-.76-.25-1.21H6.4c0 .55.08 1.13.24 1.58.16.45.37.85.65 1.21.28.35.6.66.98.92.37.26.78.48 1.22.65.44.17.9.3 1.38.39.48.08.96.13 1.44.13.8 0 1.53-.09 2.18-.28s1.21-.45 1.67-.79c.46-.34.82-.77 1.07-1.27s.38-1.07.38-1.71c0-.6-.1-1.14-.31-1.61-.05-.11-.11-.23-.17-.33H21z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M2,4 L2,20Z M6,10 L16,10 L16,14 L6,14Z\" stroke-width=\"1\" />`);;","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n    <path d=\"M12,4 L12,20Z M6,10 L18,10 L18,14 L6,14Z\" stroke-width=\"1\" />\n`);;","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M20,4 L20,20Z M6,10 L16,10 L16,14 L6,14Z\" stroke-width=\"1\" />`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M4,4 L20,4Z M10,8 L10,16 L14,16 L14,8Z\" stroke-width=\"1\" />`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M4,20 L20,20Z M10,8 L10,16 L14,16 L14,8Z\" stroke-width=\"1\" />`)","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M4,12 L20,12Z M10,8 L10,16 L14,16 L14,8Z\" stroke-width=\"1\" />`);;","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n    <path d=\"M20,4 L20,20Z M2,4 L2,20Z M6,10 L16,10 L16,14 L6,14Z\" stroke-width=\"1\" />\n`);;","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n    <path d=\"M4,4 L20,4Z M4,20 L20,20Z M10,8 L10,16 L14,16 L14,8Z\" stroke-width=\"1\" />\n`);;","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n        <path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"/>\n    `);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n    <g transform=\"translate(4.000003875248012, 4.000001937624006)\">\n        <path stroke=\"currentColor\" d=\"M 7.501491970838878 -0.0000015572448855733659Q 14.336036333057622 7.389304433496911 15.674208571053226 11.025537025755131Q 17.012380809048864 14.661769618013372 12.854180922821438 14.544928811787997L 12.854180922821438 16.99999278410904L 3.2146550430021494 16.99999278410904L 3.2146550430021494 14.544928811787997Q -0.8480130988910353 14.661769618013372 0.22369613306813782 11.025537025755131Q 1.295405365027311 7.389304433496911 7.501491970838878 -0.0000015572448855733659Z M 7.501491970838878 -0.0000015572448855733659M 7.043097362212707 10.615180199186797L 7.043097362212707 2.029497238417552Q 2.4235653311211847 7.389304433496911 1.2143202542326725 11.099378313047254Q 0.22369613306813782 14.380813978493594 4.269842778971384 13.709709450113499L 4.269842778971384 16.233605781316655L 11.751764459057853 16.233605781316655L 11.751764459057853 13.709709450113499Q 15.84146041516868 14.140123940309786 14.670231046646997 10.775846698306177Q 14.195747591990225 9.593976493057127 8.077664264490855 2.029497238417552L 8.077664264490855 10.615180199186797L 7.043097362212707 10.615180199186797Z\"/>\n    </g>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n        <path d=\"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z\"/>\n    `);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n        <path d=\"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z\"/>\n    `);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n    <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\"/>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n    <path d=\"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z\"/>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M14 7l-5 5 5 5V7z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n        <path d=\"M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z\"/>\n    `);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M10 17l5-5-5-5v10z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<polygon points=\"11,2 13,2 13,7 21,7 21,10 13,10 13,14 18,14 18,17 13,17 13,22 11,22 11,17 6,17 6,14 11,14 11,10 3,10 3,7 11,7\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4,22H2V2h2V22z M22,7H6v3h16V7z M16,14H6v3h10V14z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20,2h2v20h-2V2z M2,10h16V7H2V10z M8,17h10v-3H8V17z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22,22H2v-2h20V22z M10,2H7v16h3V2z M17,8h-3v10h3V8z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<polygon points=\"22,11 17,11 17,6 14,6 14,11 10,11 10,3 7,3 7,11 1.84,11 1.84,13 7,13 7,21 10,21 10,13 14,13 14,18 17,18 17,13 22,13\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22,2v2H2V2H22z M7,22h3V6H7V22z M14,16h3V6h-3V16z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n        <path d=\"M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z\" stroke='white' stroke-width=\"0.5\" />\n    `);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22,2v2H2V2H22z M7,10.5v3h10v-3H7z M2,20v2h20v-2H2z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4,22H2V2h2V22z M22,2h-2v20h2V2z M13.5,7h-3v10h3V7z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<rect fill-rule=\"evenodd\" height=\"2\" width=\"16\" x=\"4\" y=\"11\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3 3h8v8H3zm10 0h8v8h-8zM3 13h8v8H3zm15 0h-2v3h-3v2h3v3h2v-3h3v-2h-3z\"/>`)","import _icon_template from \"./_icon_template\"\n\nexport default _icon_template(`<path d=\"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18 24h-6.55c-1.08 0-2.14-.45-2.89-1.23l-7.3-7.61 2.07-1.83c.62-.55 1.53-.66 2.26-.27L8 14.34V4.79c0-1.38 1.12-2.5 2.5-2.5.17 0 .34.02.51.05.09-1.3 1.17-2.33 2.49-2.33.86 0 1.61.43 2.06 1.09.29-.12.61-.18.94-.18 1.38 0 2.5 1.12 2.5 2.5v.28c.16-.03.33-.05.5-.05 1.38 0 2.5 1.12 2.5 2.5V20c0 2.21-1.79 4-4 4zM4.14 15.28l5.86 6.1c.38.39.9.62 1.44.62H18c1.1 0 2-.9 2-2V6.15c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V3.42c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V2.51c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V4.79c0-.28-.22-.5-.5-.5s-.5.23-.5.5v12.87l-5.35-2.83-.51.45z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18.85,10.39l1.06-1.06c0.78-0.78,0.78-2.05,0-2.83L18.5,5.09c-0.78-0.78-2.05-0.78-2.83,0l-1.06,1.06L18.85,10.39z M14.61,11.81L7.41,19H6v-1.41l7.19-7.19L14.61,11.81z M13.19,7.56L4,16.76V21h4.24l9.19-9.19L13.19,7.56L13.19,7.56z M19,17.5 c0,2.19-2.54,3.5-5,3.5c-0.55,0-1-0.45-1-1s0.45-1,1-1c1.54,0,3-0.73,3-1.5c0-0.47-0.48-0.87-1.23-1.2l1.48-1.48 C18.32,15.45,19,16.29,19,17.5z M4.58,13.35C3.61,12.79,3,12.06,3,11c0-1.8,1.89-2.63,3.56-3.36C7.59,7.18,9,6.56,9,6 c0-0.41-0.78-1-2-1C5.74,5,5.2,5.61,5.17,5.64C4.82,6.05,4.19,6.1,3.77,5.76C3.36,5.42,3.28,4.81,3.62,4.38C3.73,4.24,4.76,3,7,3 c2.24,0,4,1.32,4,3c0,1.87-1.93,2.72-3.64,3.47C6.42,9.88,5,10.5,5,11c0,0.31,0.43,0.6,1.07,0.86L4.58,13.35z\" />`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3,5v14h18V5H3z M8.33,17H5V7h3.33V17z M13.67,17h-3.33V7h3.33V17z M19,17h-3.33V7H19V17z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3,3v18h18V3H3z M19,19H5V5h14V19z M11,7h2v2h-2V7z M7,7h2v2H7V7z M15,7h2v2h-2V7z M7,11h2v2H7V11z M11,11h2v2h-2V11z M15,11h2v2h-2V11z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20,6h-8l-2-2H4C2.9,4,2.01,4.9,2.01,6L2,18c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8C22,6.9,21.1,6,20,6z M20,18L4,18V6h5.17 l2,2H20V18z M18,12H6v-2h12V12z M14,16H6v-2h8V16z\"/>`)","import _icon_template from './_icon_template';\n\nexport default _icon_template(`<path d=\"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`\n    <path d=\"M19.77 4.93l1.4 1.4L8.43 19.07l-5.6-5.6 1.4-1.4 4.2 4.2L19.77 4.93m0-2.83L8.43 13.44l-4.2-4.2L0 13.47l8.43 8.43L24 6.33 19.77 2.1z\"/>\n`);","import chevron_right from \"./chevron_right\";\nimport create_folder from \"./create_folder\";\nimport add_box from \"./add_box\";\nimport visible from \"./visible\";\nimport remove from \"./remove\";\nimport copy from \"./copy\";\nimport lock from \"./lock\";\nimport undo from \"./undo\";\nimport redo from \"./redo\";\nimport save from \"./save\";\nimport exportIcon from \"./export\";\nimport add from \"./add\";\nimport add_note from \"./add_note\";\nimport publish from \"./publish\";\nimport folder from \"./folder\";\nimport artboard from \"./artboard\";\nimport image from \"./image\";\nimport setting from \"./setting\";\nimport remove2 from \"./remove2\";\nimport repeat from \"./repeat\";\nimport screen from \"./screen\";\nimport arrowRight from \"./arrowRight\";\nimport check from \"./check\";\nimport border_all from \"./border_all\";\nimport border_inner from \"./border_inner\";\nimport paint from \"./paint\";\nimport title from \"./title\";\nimport timer from \"./timer\";\nimport chevron_left from \"./chevron_left\";\nimport input from \"./input\";\nimport filter from \"./filter\";\nimport play from \"./play\";\nimport pause from \"./pause\";\nimport autorenew from \"./autorenew\";\nimport code from \"./code\";\nimport build from \"./build\";\nimport close from \"./close\";\nimport gradient from \"./gradient\";\nimport transform from \"./transform\";\nimport scatter from \"./scatter\";\nimport shape from \"./shape\";\nimport ballot from \"./ballot\";\nimport add_circle from \"./add_circle\";\nimport lock_open from \"./lock_open\";\nimport outline_image from \"./outline_image\";\nimport edit from \"./edit\";\nimport size from \"./size\";\nimport color from \"./color\";\nimport align_center from \"./align_center\";\nimport align_justify from \"./align_justify\";\nimport align_left from \"./align_left\";\nimport align_right from \"./align_right\";\nimport list from \"./list\";\nimport grid from \"./grid\";\nimport expand from \"./expand\";\nimport brush from \"./brush\";\nimport dahaze from \"./dahaze\";\nimport star from \"./star\";\nimport polygon from \"./polygon\";\nimport cube from \"./cube\";\nimport color_lens from \"./color_lens\";\nimport circle from \"./circle\";\nimport rect from \"./rect\";\nimport note from \"./note\";\nimport skip_next from \"./skip_next\";\nimport skip_prev from \"./skip_prev\";\nimport fast_forward from \"./fast_forward\";\nimport fast_rewind from \"./fast_rewind\";\nimport alternate from \"./alternate\";\nimport alternate_reverse from \"./alternate_reverse\";\nimport speed from \"./speed\";\nimport replay from \"./replay\";\nimport shuffle from \"./shuffle\";\nimport cat from \"./cat\";\nimport refresh from \"./refresh\";\nimport gps_fixed from \"./gps_fixed\";\nimport file_copy from \"./file_copy\";\nimport archive from \"./archive\";\nimport storage from \"./storage\";\nimport doc from \"./doc\";\nimport flash_on from \"./flash_on\";\nimport view_list from \"./view_list\";\nimport near_me from \"./near_me\";\nimport photo from \"./photo\";\nimport specular from \"./specular\";\nimport diffuse from \"./diffuse\";\nimport palette from \"./palette\";\nimport landscape from \"./landscape\";\nimport blur from \"./blur\";\nimport blur_linear from \"./blur_linear\";\nimport waves from \"./waves\";\nimport vintage from \"./vintage\";\nimport looks from \"./looks\";\nimport opacity from \"./opacity\";\nimport shadow from \"./shadow\";\nimport broken_image from \"./broken_image\";\nimport camera_roll from \"./camera_roll\";\nimport view_comfy from \"./view_comfy\";\nimport settings_input_component from \"./settings_input_component\";\nimport merge from \"./merge\";\nimport texture from \"./texture\";\nimport account_tree from \"./account_tree\";\nimport format_shapes from \"./format_shapes\";\nimport flip from \"./flip\";\nimport flipY from \"./flipY\";\nimport control_point from \"./control_point\";\nimport flip_camera from \"./flip_camera\";\nimport device_hub from \"./device_hub\";\nimport text_rotate from \"./text_rotate\";\nimport cylinder from \"./cylinder\";\nimport underline from \"./underline\";\nimport strikethrough from \"./strikethrough\";\nimport italic from \"./italic\";\nimport local_library from \"./local_library\";\nimport lens from \"./lens\";\nimport flag from \"./flag\";\nimport left from \"./left\";\nimport center from \"./center\";\nimport right from \"./right\";\nimport top from \"./top\";\nimport bottom from \"./bottom\";\nimport middle from \"./middle\";\nimport same_width from \"./same_width\";\nimport same_height from \"./same_height\";\nimport local_movie from \"./local_movie\";\nimport keyboard from \"./keyboard\";\nimport apps from \"./apps\";\nimport outline_rect from \"./outline_rect\";\nimport outline_circle from \"./outline_circle\";\nimport launch from \"./launch\";\nimport pentool from \"./pentool\";\nimport video from \"./video\";\nimport volume_down from \"./volume_down\";\nimport volume_up from \"./volume_up\";\nimport volume_off from \"./volume_off\";\nimport arrowLeft from \"./arrowLeft\";\nimport group from \"./group\";\nimport arrow_right from \"./arrow_right\";\nimport layers from \"./layers\";\nimport align_horizontal_center from \"./align_horizontal_center\";\nimport align_horizontal_left from \"./align_horizontal_left\";\nimport align_horizontal_right from \"./align_horizontal_right\";\nimport align_vertical_bottom from \"./align_vertical_bottom\";\nimport align_vertical_center from \"./align_vertical_center\";\nimport align_vertical_top from \"./align_vertical_top\";\nimport swap_horiz from \"./swap_horiz\";\nimport rotate_left from \"./rotate_left\";\nimport open_in_full from \"./open_in_full\";\nimport rotate from \"./rotate\";\nimport vertical_distribute from \"./vertical_distribute\";\nimport horizontal_distribute from \"./horizontal_distribute\";\nimport delete_forever from \"./delete_forever\";\nimport horizontal_rule from \"./horizontal_rule\";\nimport navigation from \"./navigation\";\nimport web from \"./web\";\nimport auto_awesome from \"./auto_awesome\";\n// import chart from \"./chart\";\n// import line_chart from \"./line_chart\";\n// import bar_chart from \"./bar_chart\";\nimport plugin from \"./plugin\";\nimport straighten from \"./straighten\";\nimport left_hide from \"./left_hide\";\nimport right_hide from \"./right_hide\";\nimport pantool from \"./pantool\";\nimport draw from \"./draw\";\nimport flex from \"./flex\";\nimport margin from \"./margin\";\nimport source from \"./source\";\nimport sync from \"./sync\";\nimport outline from \"./outline\";\n\n\nconst alias = {\n  fullscreen:  border_inner\n}\n\nexport function iconUse(name) {\n  return /*html*/`\n    <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><use href=\"#icon-${name}\" /> </svg>\n  `\n}\n\n\nexport default {\n  ...alias,\n  outline,\n  sync,\n  source,\n  flex,\n  margin,\n  draw,\n  pantool,\n  left_hide,\n  right_hide,\n  // bar_chart,\n  straighten,\n  plugin,\n  // chart,\n  // line_chart,\n  auto_awesome,\n  web,\n  navigation,\n  delete_forever,\n  horizontal_rule,\n  open_in_full,\n  rotate,\n  align_horizontal_center,\n  align_horizontal_left,\n  align_horizontal_right,\n  align_vertical_bottom,\n  align_vertical_center,\n  align_vertical_top,  \n  vertical_distribute,\n  horizontal_distribute,\n  rotate_left,\n  swap_horiz,  \n  arrow_right,  \n  group,\n  volume_down,\n  arrowLeft,\n  volume_up,\n  volume_off,\n  pentool,\n  launch,\n  apps,\n  outline_rect,\n  outline_circle,\n  keyboard,\n  local_movie,\n  same_height,\n  same_width,\n  layers,\n  middle,\n  bottom,\n  top,\n  right,\n  center,\n  left,\n  flag,\n  lens,\n  local_library,\n  italic,\n  strikethrough,\n  underline,\n  cylinder,\n  text_rotate,\n  device_hub,\n  control_point,\n  flip_camera,\n  flipY,\n  flip,\n  account_tree,\n  format_shapes,  \n  merge,\n  texture,\n  settings_input_component,\n  view_comfy,\n  camera_roll,\n  broken_image,\n  shadow,\n  opacity,\n  looks,\n  vintage,\n  waves,\n  blur_linear,\n  blur,\n  landscape,\n  palette,\n  diffuse,\n  specular,\n  photo,\n  near_me,\n  view_list,\n  flash_on,\n  doc,\n  storage,\n  archive,\n  file_copy,\n  gps_fixed,\n  refresh,\n  cat,\n  shuffle,\n  replay,\n  speed,\n  alternate_reverse,\n  alternate,\n  note,\n  rect,\n  circle,\n  color_lens,\n  cube,\n  polygon,\n  star,\n  dahaze,\n  brush,\n  expand,\n  list,\n  grid,\n  align_center,\n  align_justify,\n  align_left,\n  align_right,\n  color,\n  size,\n  edit,\n  outline_image,\n  ballot,\n  shape,\n  scatter,\n  transform,\n  gradient,\n  close,\n  build,\n  code,\n  autorenew,\n  play,\n  pause,\n  skip_next,\n  skip_prev,\n  fast_forward,\n  fast_rewind,  \n  filter,\n  input,\n  timer,\n  title,\n  paint,\n  border_all,\n  border_inner,\n  check,\n  video,\n  arrowRight,\n  screen,\n  repeat,\n  remove2,\n  setting,\n  image,\n  artboard,\n  folder,\n  publish,\n  add_note,\n  add,\n  save,\n  export: exportIcon,\n  redo,\n  undo,\n  lock,\n  lock_open,  \n  remove,\n  copy,\n  visible,\n  add_box,\n  add_circle,\n  create_folder,\n  chevron_right,\n  chevron_left\n};\n","import _icon_template from \"./_icon_template\";\n\nexport default function (transform = '') {\n    return /*html*/_icon_template(`\n        <polygon points=\"21,11 21,3 13,3 16.29,6.29 6.29,16.29 3,13 3,21 11,21 7.71,17.71 17.71,7.71\" transform='${transform}' fill=\"white\" stroke='white' stroke-width=\"2\" />\n        <polygon points=\"21,11 21,3 13,3 16.29,6.29 6.29,16.29 3,13 3,21 11,21 7.71,17.71 17.71,7.71\" transform='${transform}' stroke='black' stroke-width=\"0.5\" />        \n    `, {width: 20, height: 20});\n}","import { isFunction } from \"el/sapa/functions/func\";\nimport icon from \"el/editor/icon/icon\";\n\nexport class CursorManager {\n\n    async load (iconName = 'default', ...args) {\n        if (icon[iconName]) {\n            \n            const iconContent = isFunction(icon[iconName]) ? icon[iconName].call(icon[iconName], ...args) : icon[iconName]\n            const blob = new Blob([iconContent], {type: 'image/svg+xml'});\n\n            return new Promise((resolve, reject) => {\n                const reader = new FileReader();\n                reader.onload = (e) => {\n                    const datauri = e.target.result; \n                    resolve(`url(${datauri}) 12 12, auto`)\n                }\n                reader.readAsDataURL(blob);\n            })\n\n        } else {\n            return iconName;\n        }\n\n    }\n}","import { isArray, isObject, isString } from \"el/sapa/functions/func\";\nimport AssetParser from \"el/editor/parser/AssetParser\";\n\nexport class AssetManager {\n    constructor(editor) {\n        this.$editor = editor;\n    }\n\n    get project() {\n        return this.$editor.selection.currentProject;\n    }\n\n\n    /**\n     * \n     * recover origin to local blob url for Asset \n     * \n     * @param {string} value JSON String for project list \n     */\n    revokeResource(value) {\n        var json = JSON.parse(value || '[]');\n        var assets = {}\n\n        json.forEach(project => {\n            project.images.forEach(it => {\n                assets[`#${it.id}`] = it;\n            })\n        })\n\n        Object.keys(assets).map(idString => {\n            var a = assets[idString];\n            var info = AssetParser.parse(a.original, true);\n            a.local = info.local;\n        })\n\n        json.forEach(project => {\n            project.layers = this.applyAsset(project.layers, assets);\n        })\n\n        return json;\n    }\n\n\n    applyAsset(json, assets) {\n        if (Array.isArray(json)) {\n            json = json.map(it => this.applyAsset(it, assets))\n        } else if (isObject(json)) {\n            Object.keys(json).forEach(key => {\n                json[key] = this.applyAsset(json[key], assets);\n            })\n        } else if (isString(json)) {\n\n            Object.keys(assets).forEach(idString => {\n                var a = assets[idString]\n                if (json.indexOf(`#${a.id}`) > -1) {\n                    json = json.replace(new RegExp(`#${a.id}`, 'g'), a.local);\n                }\n\n            })\n        }\n\n        return json;\n    }\n\n\n}","import { Item } from \"el/editor/items/Item\";\n\nexport class PluginManager {\n  constructor(editor) {\n    this.editor = editor; \n    this.plugins = [] \n  }\n\n  registerPlugin (func) {\n    this.plugins.push(func);\n  }\n\n  /**\n   * ItemType   Item  . \n   * create Item instance\n   * \n   * @param {string} itemType  ItemType \n   * @param {object} obj \n   * @returns {Item} \n   */\n  async initializePlugin (options = {}) {\n    return await Promise.all(this.plugins.map(async (CreatePluginFunction) => {\n      return await CreatePluginFunction(this.editor, options)\n    })) \n  }\n\n};\n","export class RendererManager {\n  constructor(editor) {\n    this.editor = editor;\n    this.renderers = {} \n    this.rendererTypes = {}\n  }\n\n  getRenderType(rendererType) {\n    if (!this.renderers[rendererType]) {\n      this.renderers[rendererType] = {}\n    }\n\n    return this.renderers[rendererType];\n  }\n\n  registerRenderer (rendererType, name, rendererInstance) {\n\n    const typedRenderer = this.getRenderType(rendererType);\n\n    if (typedRenderer[name]) throw new Error(\"It has duplicated renderer name. \" + name);\n    typedRenderer[name] = rendererInstance;\n  }\n\n  registerRendererType (rendererType, rendererTypeInstance) {\n\n    if (this.rendererTypes[rendererType]) throw new Error('It has duplcated renderer type name. ' + name);\n    this.rendererTypes[rendererType] = rendererTypeInstance\n  }\n\n  getRenderer(rendererType) {\n    return this.rendererTypes[rendererType];\n  }\n\n  getRendererInstance(rendererType, name) {\n    const typedRenderer = this.getRenderType(rendererType);\n    return typedRenderer[name];\n  }\n};\n","export class InjectManager {\n  constructor(editor) {\n    this.editor = editor;\n    this.menuItems = {}\n  }\n\n  /**\n   * \n   *     .\n   * \n   * @param {string} target \n   * @param {object} obj \n   */\n  registerMenuItem(target, obj) {\n\n    if (!this.menuItems[target]) {\n      this.menuItems[target] = []\n    }\n\n    Object.keys(obj).forEach(refClass => {\n      this.menuItems[target].push({\n        refClass,\n        class: obj[refClass]\n      })\n    })\n  }\n\n  getTargetMenuItems(target) {\n    return this.menuItems[target] || [];\n  }\n\n  /**\n   * target  Object  . \n   * \n   * @param {string} target \n   * @returns \n   */\n  generate(target, hasRef = false) {\n    return this.getTargetMenuItems(target).map(it => {\n\n      const refString = hasRef ? `ref=\"$${it.refClass}\"` : \"\";\n\n      return /*html*/`<object refClass=\"${it.refClass}\" ${refString} />`\n    }).join('\\n')\n  }\n};\n","import { isFunction } from \"el/sapa/functions/func\";\n\nexport class I18nManager {\n\n    constructor (editor) {\n        this.editor = editor;\n        this.locales = {};\n        this.fallbackLang = 'en_US';\n    }\n\n    getLang (lang = undefined) {\n        return lang || this.fallbackLang;\n    }\n\n    setFallbackLang(lang) {\n        this.fallbackLang = lang; \n    }\n\n    get (key, params = {}, lang = undefined) {\n        const currentLang = this.getLang(lang);\n        const str = this.locales[currentLang]?.[key] || this.locales[this.fallbackLang]?.[key] || key || undefined;\n\n        if(isFunction(str)) {\n            return str(params)\n        } else {\n            let newValue = str; \n\n            if (key === newValue) {\n                return key.split('.').pop();\n            } \n\n            Object.entries(params).forEach(([key, value]) => {\n                newValue = newValue.replace(new RegExp(`\\{${key}\\}`, 'ig'), value);\n            })\n            return newValue; \n        }\n    }\n\n    hasKey (key, lang = undefined) {\n        const currentLang = this.getLang(lang);        \n        return !!(this.locales[currentLang][key] || this.locales[this.fallbackLang][key]);\n    }\n\n    registerI18nMessage (lang, messages) {\n        if (!this.locales[lang]) {\n            this.locales[lang] = {};\n        }\n\n        Object.assign(this.locales[lang], messages);\n    }\n\n}","export class ModeViewManager {\n  constructor(editor) {\n    this.editor = editor; \n    this.modes = ['CanvasView'];\n  }\n\n  pushMode(mode) {\n    this.modes.push(mode);\n  }\n\n  popMode(mode = undefined) {\n    if (mode) {\n      if (this.isCurrentMode(mode)) {\n        this.modes.pop();\n      }\n    } else {\n      this.modes.pop();\n    }\n  }\n\n  currentMode() {\n    return this.modes[this.modes.length - 1];\n  }\n\n  isCurrentMode(mode) {\n    return this.currentMode() === mode;\n  } \n\n};\n","import { uuid } from \"el/utils/math\";\n\nimport { Item } from \"el/editor/items/Item\";\nimport BaseStore from \"el/sapa/BaseStore\";\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { isString } from \"el/sapa/functions/func\";\n\nimport theme from \"el/editor/ui/theme\";\n\nimport { TimelineSelectionManager } from \"./TimelineSelectionManager\";\nimport { SelectionManager } from \"./SelectionManager\";\nimport { ComponentManager } from \"./ComponentManager\";\nimport { CommandManager } from \"./CommandManager\";\nimport { ShortCutManager } from \"./ShortCutManager\";\nimport { ConfigManager } from \"./ConfigManager\";\nimport { HistoryManager } from \"./HistoryManager\";\nimport { SnapManager } from \"./SnapManager\";\nimport { KeyBoardManager } from \"./KeyboardManager\";\nimport { ViewportManager } from \"./ViewportManager\";\nimport { StorageManager } from \"./StorageManager\";\nimport { CursorManager } from \"./CursorManager\";\nimport { AssetManager } from \"./AssetManager\"; \nimport { PluginManager } from \"./PluginManager\";\nimport { RendererManager } from \"./RendererManager\";\nimport { InjectManager } from \"./InjectManager\";\nimport { I18nManager } from \"./I18nManager\";\nimport { ModelManager } from './ModelManager';\nimport { ModeViewManager } from './ModeViewManager';\n\n\nexport const EDITOR_ID = \"\";\n\nexport const EDIT_MODE_SELECTION = 'SELECTION';\nexport const EDIT_MODE_ADD = 'ADD';\n\nconst DEFAULT_THEME = 'dark'\n\n\nexport class Editor {\n\n\n  /**\n   * \n   * @param {object} [opt={}] \n   * @param {BaseStore} opt.store  Message  \n   */\n  constructor() {\n\n    this.EDITOR_ID = uuid();\n\n    this.projects = []\n    this.popupZIndex = 10000;\n    this.canvasWidth = 100000;\n    this.canvasHeight = 100000;\n    this.symbols = {}\n    this.images = {}\n    this.openRightPanel = true;\n    this.mode = EDIT_MODE_SELECTION\n\n    this.loadManagers();\n\n  }\n\n  /**\n   *    Manager   . \n   */\n  loadManagers() {\n\n    this.store = new BaseStore(this);\n    this.config = new ConfigManager(this);\n    this.snapManager = new SnapManager(this);\n    this.commands = new CommandManager(this);\n    this.shortcuts = new ShortCutManager(this);\n    this.selection = new SelectionManager(this);\n    this.timeline = new TimelineSelectionManager(this);\n    this.history = new HistoryManager(this);\n    this.keyboardManager = new KeyBoardManager(this);\n    this.viewport = new ViewportManager(this);\n    this.storageManager = new StorageManager(this);\n    this.cursorManager = new CursorManager(this);\n    this.assetManager = new AssetManager(this);\n    this.injectManager = new InjectManager(this);\n    this.components = new ComponentManager(this);\n    this.pluginManager = new PluginManager(this);\n    this.renderers = new RendererManager(this);\n    this.i18n = new I18nManager(this);\n    this.modelManager = new ModelManager(this);\n    this.modeViewManager = new ModeViewManager(this);\n\n\n    this.initTheme();\n    this.initPlugins();\n    this.initStorage();\n  }\n\n  initStorage() {\n    this.locale = this.loadItem('locale') || 'en_US'\n    this.layout = this.loadItem('layout') || 'all'\n  }\n\n  createProject () {\n    return this.createModel({ itemType: 'project' })\n  }\n\n  getI18nMessage(key, params = {}, locale) {\n    return this.i18n.get(key, params, locale || this.locale)\n  }\n\n  hasI18nkey(key, locale) {\n    return this.i18n.hasKey(key, locale || this.locale)\n  }\n\n  initI18nMessage(root = '') {\n    return (key, params = {}, locale) => {\n      const i18nKey = `${root}.${key}`;\n      if (this.hasI18nkey(i18nKey, locale)) {\n        return this.i18n(`${root}.${key}`, params, locale)\n      } else {\n        return this.i18n(`${key}`, params, locale)\n      }\n    }\n  }\n\n  setLocale(locale = 'en_US') {\n    this.locale = locale;\n    this.saveItem('locale', this.locale);\n  }\n\n  setLayout(layout = 'all') {\n    this.layout = layout;\n    this.saveItem('layout', this.layout);\n  }\n\n  setUser(user) {\n    this.user = user;\n  }\n\n  initTheme() {\n    var theme = DEFAULT_THEME\n\n    if (window.localStorage) {\n      theme = window.localStorage.getItem('easylogic.studio.theme')\n\n      theme = ['dark', 'light'].includes(theme) ? theme : DEFAULT_THEME;\n    }\n\n    this.theme = theme || DEFAULT_THEME\n    window.localStorage.setItem('easylogic.studio.theme', this.theme);\n  }\n\n  initPlugins(options = {}) {\n    this.pluginManager.initializePlugin(options);\n  }\n\n  themeValue(key, defaultValue = '') {\n    return theme[this.theme][key] || defaultValue;\n  }\n\n  changeMode(mode = EDIT_MODE_SELECTION) {\n    this.mode = mode;   // add or selection  \n  }\n\n  isMode(mode) {\n    return this.mode === mode;\n  }\n\n  isAddMode() {\n    return this.isMode(EDIT_MODE_ADD)\n  }\n\n  /**\n   * Theme  . \n   * \n   * @param {string} theme \n   */\n  changeTheme(theme) {\n    theme = ['light', 'toon'].includes(theme) ? theme : 'dark';\n\n    this.theme = theme;\n    window.localStorage.setItem('easylogic.studio.theme', theme);\n  }\n\n  //  zindex     \n  //       . \n  get zIndex() {\n    return this.popupZIndex++\n  }\n\n  /**\n   *  Mouse Up   \n   * \n   * @returns {boolean}\n   */\n  get isPointerUp() {\n    const e = this.config.get('bodyEvent');\n    if (!e) return true;\n    \n    if (e.type === 'pointerup' ) return true; \n    else if (e.type === 'pointermove' &&  e.buttons === 0) return true; \n\n    return false; \n  }\n\n  get isPointerDown () {\n    return !this.isPointerUp\n  }\n\n  get isPointerMove() {\n    if (!this.config.get('bodyEvent')) return false;\n    return this.config.get('bodyEvent').type === 'pointermove'\n  }\n\n  getFile(url) {\n    return this.images[url] || url;\n  }\n\n  setStore(store) {\n    this.store = store;\n  }\n\n\n  /**\n   *  . \n   *    . \n   * \n   * FIXME: command    command     . ( )\n   **/\n  emit(...args) {\n    this.store.source = \"EDITOR_ID\";\n    this.store.emit(...args);\n  }\n\n  on(...args) {\n    const [name, callback, ...rest] = args;\n    return this.store.on(name, callback, this, ...rest);\n  }\n\n  off(...args) {\n    this.store.off(...args);\n  }\n\n  offAll(...args) {\n    this.store.offAll(...args);\n  }\n\n  debug(...args) {\n    if (this.config.get('debug')) {\n      console.log(...args);\n    }\n  }\n\n  command(command, message, ...args) {\n\n    if (this.isPointerUp) {\n      return this.store.emit(`history.${command}`, message, ...args);\n    } else {\n      return this.store.emit(command, ...args);\n    }\n  }\n\n  /**\n   * store  nextTick  . \n   * \n   * @param {Function} callback \n   */\n  nextTick(callback) {\n    if (this.store) {\n      this.store.nextTick(callback);\n    }\n  }\n\n  /**\n   * get model by id\n   *\n   * @param {string} id\n   */\n  get(id) {\n    return this.modelManager.get(id);\n  }\n\n  replaceLocalUrltoRealUrl(str) {\n\n    var project = this.selection.currentProject;\n    var images = {}\n\n    project.images.forEach(a => {\n      if (str.indexOf(a.local) > -1) {\n        images[a.local] = a.original\n      }\n    })\n\n    Object.keys(images).forEach(local => {\n      if (str.indexOf(local) > -1) {\n        str = str.replace(new RegExp(local, 'g'), images[local])\n      }\n    })\n\n    return str;\n  }\n\n  /**\n   * itemObject ()  itemType     Component  . \n   * \n   * @param {object} itemObject \n   * @param {Boolean} isRecoverPosition \n   */\n  createModel(itemObject, isRegister = true) {\n    return this.modelManager.createModel(itemObject, isRegister);\n  }\n\n  /**\n   * id   . \n   *    . \n   * \n   * @param {string} id \n   * @returns {Item} \n   */\n  searchItem(id) {\n    return this.modelManager.searchItem(id);\n  }\n\n  get storeKey() {\n    return `__els__.${this.config.get('store.key')}`;\n  }\n\n  saveItem(key, value) {\n    window.localStorage.setItem(`${this.storeKey}.${key}`, JSON.stringify(value));\n  }\n\n  loadItem(key) {\n    return JSON.parse(window.localStorage.getItem(`${this.storeKey}.${key}`) || JSON.stringify(\"\"))\n  }\n\n  /**\n   * register UIElement \n   * \n   * @param {UIElement} obj \n   */\n  registerElement(obj) {\n    registElement(obj);\n  }\n\n  registerMenuItem(target, obj) {\n    this.injectManager.registerMenuItem(target, obj);\n    this.registerElement(obj);\n  }\n\n  registerComponent(name, component) {\n    this.components.registerComponent(name, component)\n  }\n\n  registerItem(name, item) {\n    this.registerComponent(name, item);\n  }\n\n  registerInspector(name, inspectorCallback) {\n    this.components.registerInspector(name, inspectorCallback);\n  }\n\n  registerRenderer(rendererType, name, rendererInstance) {\n    this.renderers.registerRenderer(rendererType, name, rendererInstance)\n  }\n\n  registerRendererType(rendererType, rendererTypeInstance) {\n    this.renderers.registerRendererType(rendererType, rendererTypeInstance)\n  }\n\n  getRendererInstance(rendererType, itemType) {\n    return this.renderers.getRendererInstance(rendererType, itemType);\n  }\n\n  renderer(rendererType) {\n    return this.renderers.getRenderer(rendererType);\n  }\n\n  get html () {\n    return this.renderer('html');\n  }\n\n  get svg () {\n    return this.renderer('svg');\n  }\n  \n  get json () {\n    return this.renderer('json');\n  }  \n\n  /**\n   * \n   * @param {object|function} commandObject\n   * @return {function} dispose function \n   */  \n  registerCommand(commandObject) {\n    return this.commands.registerCommand(commandObject);\n  }\n\n  /**\n   * (shortcut) .  \n   */ \n  registerShortCut(shortcut) {\n    this.shortcuts.registerShortCut(shortcut);\n  }\n\n  /**\n   *  . \n   * \n   * @param {Function} createPluginFunction  \n   */\n  registerPlugin(createPluginFunction) {\n    this.pluginManager.registerPlugin(createPluginFunction);\n  }\n\n  registerPluginList(plugins = []) {\n    plugins.forEach(p => this.registerPlugin(p));\n  }\n\n  /**\n   *   config  . \n   * \n   * @param {object} config\n   */ \n  registerConfig(config) {\n    this.config.registerConfig(config);\n  }\n\n  registerI18nMessage(locale, messages) {\n    this.i18n.registerI18nMessage(locale, messages);\n  }\n\n  registerI18nMessageWithLocale(messages) {\n    Object.entries(messages).forEach(([locale, messages]) => {\n      this.registerI18nMessage(locale, messages);\n    });\n  }  \n}\n","import { AFTER } from \"el/sapa/Event\";\n\n/** Custom Global Event Functions */ \n\nexport const ADD_BODY_FIRST_MOUSEMOVE = 'add/body/first/mousemove'\nexport const ADD_BODY_MOUSEMOVE = 'add/body/mousemove'\nexport const ADD_BODY_MOUSEUP = 'add/body/mouseup'\n\nexport const FIRSTMOVE = (method = \"move\") => {\n    return AFTER(`bodyMouseFirstMove ${method}`);\n};\n\nexport const MOVE = (method = \"move\") => {\n    return AFTER(`bodyMouseMove ${method}`);\n};\n\nexport const END = (method = \"end\") => {\n    return AFTER(`bodyMouseUp ${method}`);\n};","import { CHECK_SAPARATOR, CHECK_SUBSCRIBE_PATTERN, SAPARATOR, SUBSCRIBE_SAPARATOR } from \"./Event\";\nimport EventMachine from \"./EventMachine\";\nimport { isFunction, splitMethodByKeyword } from \"./functions/func\";\nimport { uuidShort } from \"./functions/uuid\";\n\n/**\n * UI     \n * \n * dom handler, \n * bind handler, \n * store handler  . \n * \n * @property {Editor} $editor \n */\nclass UIElement extends EventMachine {\n  constructor(opt, props = {}) {\n    super(opt, props);\n\n    this.__UID = new Set();\n\n    this.created();\n\n    this.initialize();\n\n    this.initializeStoreEvent();\n\n  }\n\n  /**\n   * UIElement      \n   * @protected\n   */\n  created() {}\n\n  getRealEventName(e, s = MULTI_PREFIX) {\n    var startIndex = e.indexOf(s);\n    return e.substr(startIndex < 0 ? 0 : startIndex + s.length);\n  }\n\n  splitMethod (arr, keyword, defaultValue = 0) {\n    var [methods, params] = splitMethodByKeyword(arr, keyword);\n\n    return [\n      methods.length ? +params[0].target : defaultValue,\n      methods, \n      params\n    ]\n  }\n\n  createLocalCallback(event, callback) {\n    var newCallback = callback.bind(this);\n    newCallback.displayName = `${this.sourceName}.${event}`;\n    newCallback.source = this.source;\n\n    return newCallback;\n  }\n\n  /**\n   * initialize store event\n   *\n   * you can define '@xxx' method(event) in UIElement\n   *\n   * Store Event   . \n   *\n   */\n  initializeStoreEvent() {\n    this.filterProps(CHECK_SUBSCRIBE_PATTERN).forEach(key => {\n      const events = this.getRealEventName(key, SUBSCRIBE_SAPARATOR);\n      // context      \n      const [method, ...methodLine] = events.split(CHECK_SAPARATOR);\n      const checkMethodList = methodLine.map(it => it.trim()).filter(code => this[code]).map(target => ({target}));\n\n      // support deboounce for store event    \n      const [debounceSecond, debounceMethods] = this.splitMethod(methodLine, 'debounce');\n      const [throttleSecond, throttleMethods] = this.splitMethod(methodLine, 'throttle');      \n      const [allTrigger, allTriggerMethods] = this.splitMethod(methodLine, 'allTrigger');   \n      const [selfTrigger, selfTriggerMethods] = this.splitMethod(methodLine, 'selfTrigger');            \n\n      events\n        .split(CHECK_SAPARATOR)\n        .filter(it => {\n          return (\n              checkMethodList.indexOf(it) === -1 &&             \n              debounceMethods.indexOf(it) === -1 && \n              allTriggerMethods.indexOf(it) === -1 &&               \n              selfTriggerMethods.indexOf(it) === -1 &&                             \n              throttleMethods.indexOf(it) === -1\n          )\n        })\n        .map(it => it.trim())\n        .filter(Boolean)\n        .forEach(e => {\n\n          if (isFunction(this[key])) {\n            var callback = this.createLocalCallback(e, this[key] )\n            this.$store.on(e, callback, this, debounceSecond, throttleSecond, allTriggerMethods.length, selfTriggerMethods.length, checkMethodList);\n          }\n\n      });\n    });\n  }\n\n  /**\n   *  UIElement     . \n   */\n  destoryStoreSUBSCRIBE() {\n    this.$store.offAll(this);\n  }\n\n  destroy () {\n    super.destroy()\n\n    this.destoryStoreSUBSCRIBE();\n  }\n\n  /**\n   * UIElement   . \n   * \n   * template         . \n   */\n  rerender() {\n    super.rerender();\n\n    this.initialize();\n\n    this.initializeStoreEvent();\n  }\n\n  /**\n   * UIElement    . \n   *     . \n   * \n   * @param {string} messageName\n   * @param {any[]} args \n   */\n  emit(messageName, ...args) {\n    this.$store.source = this.source;\n    this.$store.sourceContext = this; \n    this.$store.emit(messageName, ...args);\n  }\n\n  /**\n   * MicroTask  . \n   * \n   * @param {Function} callback \n   * @param {number} [delay=0]  callback      \n   */\n  nextTick (callback, delay = 0) {\n\n    setTimeout(() => {\n      this.$store.nextTick(callback);\n    }, delay);\n\n  }\n\n  /**\n   * \n   * UIElement   . \n   * emit      \n   * \n   * @param {string} messageName \n   * @param {any[]} args \n   */\n  trigger(messageName, ...args) {\n    this.$store.source = this.source;\n    this.$store.trigger(messageName, ...args);\n  }\n\n  /**\n   *     .\n   * \n   * @param {string} messageName\n   * @param {any[]} args\n   */ \n  broadcast(messageName, ...args) {\n    Object.keys(this.children).forEach(key => {\n      this.children[key].trigger(messageName, ...args);\n    })\n  }\n\n  /**\n   * message   callack   \n   *    callback  list    . \n   * \n   * @param {string} message    \n   * @param {Function} callback    \n   */ \n  on (message, callback) {\n    this.$store.on(message, callback);\n  }\n\n  off (message, callback) {\n    this.$store.off(message, callback);\n  }\n\n  /**\n   *  subscribe  . \n   * \n   * template     . \n   * \n   *   subscribe      SUBSCRIBE_SELF  . \n   * \n   *   context    this  instance     . \n   * \n   * @example\n   * \n   * ```js\n   * html`\n   *     <div onClick=${this.subscribe(() => { \n   *        console.log('click is fired'); \n   *        console.log(this.source);\n   *     })}>\n   *        .\n   *     </div>\n   * `\n   * ```\n   * \n   * @param {Function} callback subscribe   callback \n   * @param {number} [debounceSecond=0] debounce (ms)\n   * @param {number} [throttleSecond=0] throttle (ms)\n   * @returns {string} function id \n   */ \n  subscribe(callback, debounceSecond = 0, throttleSecond = 0) {\n    const id = `subscribe.${uuidShort()}`;\n\n    const newCallback = this.createLocalCallback(id, callback);\n\n    this.$store.on(id, newCallback, this, debounceSecond, throttleSecond, false, /*self trigger*/true);    \n\n    return id; \n  }\n}\n\nexport default UIElement;\n","\nimport UIElement from \"el/sapa/UIElement\";\nimport { ConfigManager } from \"el/editor/manager/ConfigManager\";\nimport { InjectManager } from \"el/editor/manager/InjectManager\";\nimport { SelectionManager } from \"el/editor/manager/SelectionManager\";\nimport { ViewportManager } from \"el/editor/manager/ViewportManager\";\nimport { ADD_BODY_FIRST_MOUSEMOVE, ADD_BODY_MOUSEMOVE, ADD_BODY_MOUSEUP } from \"el/editor/types/event\";\nimport { ModelManager } from \"el/editor/manager/ModelManager\";\nimport { ShortCutManager } from \"el/editor/manager/ShortCutManager\";\nimport { ModeViewManager } from \"el/editor/manager/ModeViewManager\";\nimport { CommandManager } from \"el/editor/manager/CommandManager\";\nimport { SnapManager } from \"el/editor/manager/SnapManager\";\n\nexport class EditorElement extends UIElement {\n\n\n    initialize() {\n        super.initialize();\n    \n        // EditorElement  i18n       .  \n        this.$editor.registerI18nMessageWithLocale(this.initializeI18nMessage());\n    }\n\n    /**\n     * i18n   \n     * \n     * @example \n     * \n     * ```json\n     * {\n     *     en_US: {\n     *         \"toolbar.add.rect.name\": \"add Rectangle\"\n     *     }\n     * }\n     * \n     * ```\n     * ```js\n     * console.log(this.i18n(\"toolbar.add.rect.name\"));\n     * ```\n     * \n     * @override\n     */ \n    initializeI18nMessage() {\n        return {}\n    }\n\n    /**\n     * Editor    \n     * \n     * @override\n     */\n    get $editor() {\n\n        if (!this.__cacheParentEditor) {\n            this.__cacheParentEditor = this.parent.$editor;\n        }\n\n        return this.__cacheParentEditor;\n    }\n\n    /**\n     *      . \n     * \n     * @override\n     */\n    get $store() {\n        return this.$editor.store || this.parent.$store;\n    }\n\n    // editor utility \n\n    /**\n     * i18n  . \n     * \n     * @param {string} key \n     * @returns {string} i18n  \n     */\n    $i18n(key, params = {}, locale) {\n        return this.$editor.getI18nMessage(key, params, locale);\n    }\n\n    $initI18n(key) {\n        return this.$editor.initI18nMessage(key);\n    }\n\n    /**\n     * @type {ConfigManager}\n     */ \n    get $config() {\n        return this.$editor.config;\n    }\n\n    /**\n     * @type {SelectionManager}\n     */\n    get $selection() {\n        return this.$editor.selection;\n    }\n\n    /**\n     * @type {CommandManager}\n     */\n    get $commands () {\n        return this.$editor.commands;\n    }\n\n    /**\n     * @type {ViewportManager} $viewport\n     */\n    get $viewport() {\n        return this.$editor.viewport;\n    }\n\n    /**\n     * @type {SnapManager} $snapManager\n     */\n    get $snapManager() {\n        return this.$editor.snapManager;\n    }\n\n    get $timeline() {\n        return this.$editor.timeline;\n    }\n\n    get $history() {\n        return this.$editor.history;\n    }\n\n    /**\n     * @type {ShortCutManager} $shortcuts\n     */\n    get $shortcuts() {\n        return this.$editor.shortcuts;\n    }\n\n    /**\n     * @type {KeyBoardManager} $keyboardManager\n     */\n    get $keyboardManager() {\n        return this.$editor.keyboardManager;\n    }\n\n    /**\n     * @type {StorageManager} $storageManager\n     */\n    get $storageManager() {\n        return this.$editor.storageManager;\n    }\n\n    /**\n     * @type {InjectManager}\n     */ \n    get $injectManager() {\n        return this.$editor.injectManager;\n    }\n\n    /**\n     *      \n     * \n     * @type {InjectManager}\n     */ \n     get $menuManager() {\n        return this.$injectManager\n    }    \n\n\n    /**\n     *   Manager  \n     * \n     * @type {ModelManager}\n     * \n     */\n    get $model() {\n        return this.$editor.modelManager;\n    }\n\n    /**\n     *     Manager  \n     * \n     * @type {ModeViewManager}\n     */\n    get $modeView() {\n        return this.$editor.modeViewManager;\n    }\n\n    /**\n     * history    command  . \n     *      history  . \n     *  emit      .   \n     * \n     * @param {string} command \n     * @param {string} description \n     * @param {any[]} args \n     */\n    command(command, description, ...args) {\n        if (this.$editor.isPointerUp) {\n            return this.emit(`history.${command}`, description, ...args);\n        } else {\n            return this.emit(command, ...args);\n        }\n\n    }\n\n    $theme(key) {\n        return this.$editor.themeValue(key);\n    }\n\n    bodyMouseFirstMove(e, methodName) {\n        if (this[methodName]) {\n            this.emit(ADD_BODY_FIRST_MOUSEMOVE, this[methodName], this, e.xy);\n        }\n    }\n\n\n    bodyMouseMove(e, methodName) {\n        if (this[methodName]) {\n            this.emit(ADD_BODY_MOUSEMOVE, this[methodName], this, e.xy);\n        }\n    }\n\n    bodyMouseUp(e, methodName) {\n        if (this[methodName]) {\n            this.emit(ADD_BODY_MOUSEUP, this[methodName], this, e.xy);\n        }\n    }\n\n}","\nimport { DEBOUNCE, POINTEREND, POINTERMOVE, POINTERSTART, RESIZE, SUBSCRIBE, SUBSCRIBE_ALL } from \"el/sapa/Event\";\nimport { debounce, isObject } from \"el/sapa/functions/func\";\nimport { getDist } from \"el/utils/math\";\nimport { Editor } from \"el/editor/manager/Editor\";\nimport { ADD_BODY_FIRST_MOUSEMOVE, ADD_BODY_MOUSEMOVE, ADD_BODY_MOUSEUP } from \"el/editor/types/event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nconst EMPTY_POS = { x: 0, y: 0 };\nconst DEFAULT_POS = { x: Number.MAX_SAFE_INTEGER, y: Number.MAX_SAFE_INTEGER };\nconst MOVE_CHECK_MS = 0;\n\n\n\nexport default class BaseLayout extends EditorElement {\n\n  created() {\n    // register local plugins \n    this.$editor.registerPluginList(this.getPlugins());\n\n    // register other plugins     \n    if (Array.isArray(this.opt.plugins)) {\n      this.$editor.registerPluginList(this.opt.plugins);\n    }\n\n    // initialize plugin list \n    this.$editor.initPlugins();\n\n    // register other configs \n    //       config  .     \n    if (isObject(this.opt.config)) {\n      this.$config.setAll(this.opt.config || {});\n    }\n\n\n  }\n\n  /**\n   * @type {Editor}\n   */\n  get $editor () {\n\n    if (!this.__editorInstance) {\n      this.__editorInstance = new Editor()\n    }\n\n    return this.__editorInstance;\n  }\n\n  afterRender() {\n    super.afterRender();\n\n    this.$el.attr('data-theme', this.$editor.theme);\n    this.$el.addClass(navigator.userAgent.includes('Windows') ? 'ua-window' : 'ua-default')\n  }\n\n  initialize() {\n    super.initialize();\n\n    // initialize root event \n    this.__initBodyMoves();\n\n    // load default data \n    this.emit('load.json', this.opt.data);\n\n\n  }\n\n  /**\n   *     \n   * \n   *    target     . \n   *   editor       player      . \n   * \n   * @override\n   * @returns \n   */\n  getPlugins() {\n    return [];\n  }\n\n  __initBodyMoves() {\n    this.__firstMove = new Set();    \n    this.__moves = new Set();\n    this.__ends = new Set();\n\n    this.__modifyBodyMoveSecond(MOVE_CHECK_MS);\n  }\n\n  __modifyBodyMoveSecond(ms = MOVE_CHECK_MS) {\n    this.$config.set(\"body.move.ms\", ms);\n\n    const callback = ms === 0\n      ? this.__loopBodyMoves.bind(this)\n      : debounce(this.__loopBodyMoves.bind(this), this.$config.get(\"body.move.ms\"));\n\n\n    this.__funcBodyMoves = callback;\n  }\n\n  __loopBodyMoves() {\n    var pos = this.$config.get(\"pos\");\n    var e = this.$config.get('bodyEvent');\n    var lastPos = this.$config.get(\"lastPos\") || DEFAULT_POS;\n    var isNotEqualLastPos = !(lastPos.x === pos.x && lastPos.y === pos.y);\n\n    if (isNotEqualLastPos && this.__firstMove.size) {\n\n      let i = 0;\n      this.__firstMove.forEach(v => {\n\n        const dist = getDist(pos.x, pos.y, v.xy.x, v.xy.y);\n\n        if (Math.abs(dist) > 0) {\n\n          var dx = pos.x - v.xy.x;\n          var dy = pos.y - v.xy.y;\n\n          v.func.call(v.context, dx, dy, 'move', e.pressure);\n          i++;\n        }\n      });\n\n      if (i > 0) {\n        this.__firstMove.clear();\n      }\n\n    }\n\n    if (isNotEqualLastPos && this.__moves.size) {\n      this.__moves.forEach(v => {\n\n        const dist = getDist(pos.x, pos.y, v.xy.x, v.xy.y);\n\n        if (Math.abs(dist) > 0.5) {\n\n          var dx = pos.x - v.xy.x;\n          var dy = pos.y - v.xy.y;\n\n          v.func.call(v.context, dx, dy, 'move', e.pressure);\n        }\n      });\n\n      this.$config.set('lastPos', pos);\n    }\n    requestAnimationFrame(this.__funcBodyMoves);\n  }\n\n  __removeBodyMoves() {\n    var pos = this.$config.get(\"pos\");\n    var e = this.$config.get(\"bodyEvent\");\n    if (pos) {\n      this.__ends.forEach(v => {\n        v.func.call(v.context, pos.x - v.xy.x, pos.y - v.xy.y, 'end', e.pressure);\n      });\n    }\n\n    this.__firstMove.clear();\n    this.__moves.clear();\n    this.__ends.clear();\n  }\n\n  [SUBSCRIBE_ALL(ADD_BODY_FIRST_MOUSEMOVE)](func, context, xy) {\n    this.__firstMove.add({ func, context, xy });\n  }\n\n  [SUBSCRIBE_ALL(ADD_BODY_MOUSEMOVE)](func, context, xy) {\n    this.__moves.add({ func, context, xy });\n  }\n\n  [SUBSCRIBE_ALL(ADD_BODY_MOUSEUP)](func, context, xy) {\n    this.__ends.add({ func, context, xy });\n  }\n\n  [POINTERSTART(\"document\")](e) {\n    var newPos = e.xy || EMPTY_POS;\n\n    this.$config.set(\"bodyEvent\", e);\n    this.$config.set(\"pos\", newPos);\n  }\n\n  [POINTERMOVE(\"document\")](e) {\n    var newPos = e.xy || EMPTY_POS;\n\n    this.$config.set(\"bodyEvent\", e);\n    this.$config.set(\"pos\", newPos);\n\n    if (!this.__requestId) {\n      this.__requestId = requestAnimationFrame(this.__funcBodyMoves);\n    }\n  }\n\n  [POINTEREND(\"document\")](e) {\n\n    // var newPos = e.xy || EMPTY_POS;\n    this.$config.set(\"bodyEvent\", e);\n    this.__removeBodyMoves();\n    cancelAnimationFrame(this.__requestId);\n    this.__requestId = null;\n  }\n\n  [RESIZE('window') + DEBOUNCE(100)]() {\n    this.emit('resize.window');\n  }\n\n  [SUBSCRIBE('refreshAll')] () {\n    this.emit('refreshProjectList');\n    this.trigger('refreshAllSelectProject');\n  }\n\n  [SUBSCRIBE('refreshAllSelectProject')] () {      \n    this.emit('refreshArtboard')\n  }\n\n  [SUBSCRIBE('changeTheme')] () {\n    this.$el.attr('data-theme', this.$editor.theme);\n  }\n\n  [SUBSCRIBE('changed.locale')] () {\n    this.rerender()\n  }\n\n}","import { DEBOUNCE, DOMDIFF, LOAD, SUBSCRIBE, THROTTLE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './HorizontalRuler.scss';\n\nlet pathString = []\n\nexport default class HorizontalRuler extends EditorElement {\n    template () {\n        return /*html*/`\n            <div class=\"elf--horizontal-ruler\">\n                <div class='horizontal-ruler-container' ref='$layerRuler'></div>                            \n                <div class='horizontal-ruler-container' ref='$ruler'></div>\n            </div>\n        `\n    }\n\n    afterRender() {\n        this.refreshCanvasSize();\n    }\n\n    refreshCanvasSize () {\n        this.state.rect = this.$el.rect();\n    }    \n\n    makeLine (pathString,  baseNumber, minX, maxX, realWidth, width, epsilon = 3, lineWidth = 30, expect = 10) {\n        let startX = minX - (minX % baseNumber); \n        let endX = maxX + (maxX % baseNumber); \n\n        // if (width / realWidth < 1) return;\n\n        const firstX = ((startX - minX)/realWidth) * width; \n        const secondX = ((startX + baseNumber - minX)/realWidth) * width; \n\n        if (Math.abs(secondX - firstX) < epsilon) return;\n\n        for(var i = startX; i < endX; i += baseNumber) {\n\n            if (i != 0 && i % expect === 0) continue;\n\n            const x = Math.floor(((i - minX)/realWidth) * width);\n\n            pathString[pathString.length] = `M ${x} ${30 - lineWidth} L ${x} 30 `;\n        }\n\n    }     \n    \n    makeLineText (baseNumber, minX, maxX, realWidth, width, epsilon = 3) {\n        const text = [];\n        let startX = minX - (minX % baseNumber); \n        let endX = maxX + (maxX % baseNumber); \n\n        // if (width / realWidth < 1) return;\n\n        const firstX = ((startX - minX)/realWidth) * width; \n        const secondX = ((startX + baseNumber - minX)/realWidth) * width; \n\n        if (Math.abs(secondX - firstX) < epsilon) return;\n\n        for(var i = startX; i < endX; i += baseNumber) {\n\n            const x = Math.floor(((i - minX)/realWidth) * width);\n\n            text[text.length] = `<text x=\"${x}\" y=\"${0}\" dx=\"0\" dy=\"8\" text-anchor=\"middle\" alignment-baseline=\"bottom\" >${i}</text>`\n        }\n\n        return text.join('');\n    }         \n\n    makeRulerForCurrentArtboard () {\n        const current = this.$selection.current;\n\n        if (!current) return '';\n\n        const currentArtboard = current.artboard;\n\n        if (!currentArtboard) return '';\n\n        const verties = currentArtboard.verties;\n\n        const {minX, maxX, width: realWidth} = this.$viewport;\n        const width = this.state.rect.width;\n\n        const firstX = ((verties[0][0] - minX)/realWidth) * width; \n        const secondX = ((verties[2][0] - minX)/realWidth) * width; \n\n        return `\n            M ${firstX} 20 \n            L ${firstX} 30 \n            L ${secondX} 30 \n            L ${secondX} 20 \n            Z\n        `\n    }\n\n    makeRulerForCurrent () {\n        const current = this.$selection.current;\n\n        if (!current) return '';\n\n\n        // current\n        const verties = this.$selection.verties;\n        const xList = verties.map(it => it[0]);\n        const currentMinX = Math.min.apply(Math, xList);\n        const currentMaxX = Math.max.apply(Math, xList);\n\n        // viewport \n        const {minX, width: realWidth} = this.$viewport;\n        const width = this.state.rect.width;\n\n        const firstX = ((currentMinX - minX)/realWidth) * width; \n        const secondX = ((currentMaxX - minX)/realWidth) * width; \n\n        return `\n            M ${firstX} 15 \n            L ${firstX} 20 \n            L ${secondX} 20 \n            L ${secondX} 15 \n            Z\n        `\n    }\n\n    makeRuler () {\n\n        const {minX,maxX, width: realWidth} = this.$viewport;\n        const width = this.state.rect.width;\n\n        pathString = []\n    \n        this.makeLine(pathString, 200, minX, maxX, realWidth, width, 10, 20, 10000);        \n        this.makeLine(pathString, 100, minX, maxX, realWidth,width, 10, 20, 200);\n        this.makeLine(pathString, 50, minX, maxX, realWidth,width, 10, 20, 100);\n        this.makeLine(pathString, 10, minX, maxX, realWidth,width, 10, 18, 50);\n        this.makeLine(pathString, 5, minX, maxX, realWidth,width, 10, 15, 10);\n        this.makeLine(pathString, 1, minX, maxX, realWidth,width, 10, 13, 5);        \n\n        return pathString.join('');\n    }    \n\n\n    makeRulerText () {\n\n        const {minX,maxX, width: realWidth} = this.$viewport;\n        const width = this.state.rect.width;\n\n        const dist = Math.abs(maxX - minX);\n\n\n\n        return [\n            dist > 3000 ? this.makeLineText(500, minX, maxX, realWidth, width, 20) : '',\n            (1000 < dist && dist < 3000) ? this.makeLineText(100, minX, maxX, realWidth,width, 20) : '',\n            (800 < dist && dist < 1000) ? this.makeLineText(100, minX, maxX, realWidth,width, 20) : '',\n            (500 < dist && dist < 800) ? this.makeLineText(100, minX, maxX, realWidth,width, 20) : '',\n            (500 < dist && dist < 800) ? this.makeLineText(50, minX, maxX, realWidth,width, 20) : '',\n            (200 < dist && dist < 500) ? this.makeLineText(50, minX, maxX, realWidth,width, 20) : '',\n            (50 < dist && dist < 200) ? this.makeLineText(10, minX, maxX, realWidth,width, 20) : '',            \n            (15 < dist && dist < 50) ? this.makeLineText(5, minX, maxX, realWidth,width, 20) : '',                        \n            (0 < dist && dist < 15) ? this.makeLineText(1, minX, maxX, realWidth,width, 20) : '',                                    \n        ].join('');\n    }    \n\n    [LOAD('$ruler') + DOMDIFF] () { \n\n        if (!this.state.rect || this.state.rect.width == 0) {\n            this.state.rect = this.$el.rect();\n        }\n\n        return /*html*/`\n            <svg width=\"100%\" width=\"100%\" overflow=\"hidden\">\n                <path d=\"${this.makeRuler()}\" fill=\"transparent\" stroke-width=\"0.5\" stroke=\"white\" transform=\"translate(0.5, 0)\" />\n                ${this.makeRulerText()}                \n            </svg>\n        `\n    }\n\n    [LOAD('$layerRuler') + DOMDIFF] () { \n\n        if (!this.state.rect || this.state.rect.width == 0) {\n            this.state.rect = this.$el.rect();\n        }\n\n        return /*html*/`\n            <svg width=\"100%\" width=\"100%\" overflow=\"hidden\">\n                <path d=\"${this.makeRulerForCurrent()}\" fill=\"rgba(100, 255, 255, 0.5)\" />\n            </svg>\n        `\n    }  \n    \n    refresh() {\n\n        if (this.$config.get('show.ruler')) {\n            this.load();\n        }\n\n    }\n\n    [SUBSCRIBE('updateViewport', 'refreshSelection')] () {\n        this.refresh();      \n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView') + THROTTLE(10)] () {\n        if (this.$selection.current) {\n            const current = this.$selection.current;\n\n            if (current.hasChangedField('x', 'y', 'width', 'height', 'transform', 'rotateZ', 'rotate')) {\n                this.refresh();\n            }\n\n        }\n    }\n\n    [SUBSCRIBE('resize.window', 'resizeCanvas')] () {\n        this.refreshCanvasSize();\n    }    \n}","import { LOAD, DOMDIFF, SUBSCRIBE, DEBOUNCE, THROTTLE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './VerticalRuler.scss';\n\nlet pathString = []\n\nexport default class VerticalRuler extends EditorElement {\n    template () {\n        return /*html*/`\n            <div class=\"elf--vertical-ruler\">\n                <div class='vertical-ruler-container' ref='$layerRuler'></div>                                        \n                <div class='vertical-ruler-container' ref='$body'></div>\n            </div>\n        `\n    }\n\n    afterRender() {\n        this.refreshCanvasSize();\n    }\n\n    refreshCanvasSize () {\n        this.state.rect = this.$el.rect();\n    }    \n\n    makeLine (pathString,  baseNumber, minY, maxY, realHeight, height, epsilon = 3, lineWidth = 30, expect = 10) {\n        let startY = minY - (minY % baseNumber); \n        let endY = maxY + (maxY % baseNumber); \n\n        // if (height / realHeight < 1) return;\n\n        const firstY = ((startY - minY)/realHeight) * height; \n        const secondY = ((startY + baseNumber - minY)/realHeight) * height; \n\n        if (Math.abs(secondY - firstY) < epsilon) return;\n\n        for(var i = startY; i < endY; i += baseNumber) {\n\n            if (i != 0 && i % expect === 0) continue;\n\n            const y = Math.floor(((i - minY)/realHeight) * height);\n\n            pathString[pathString.length] = `M ${30 - lineWidth} ${y} L 30 ${y}`;\n        }\n\n    }    \n    \n    makeLineText (baseNumber, minY, maxY, realHeight, height, epsilon = 3) {\n        const text = [];\n        let startY = minY - (minY % baseNumber); \n        let endY = maxY + (maxY % baseNumber); \n\n        // if (height / realHeight < 1) return;\n\n        const firstY = ((startY - minY)/realHeight) * height; \n        const secondY = ((startY + baseNumber - minY)/realHeight) * height; \n\n        if (Math.abs(secondY - firstY) < epsilon) return;\n\n        for(var i = startY; i < endY; i += baseNumber) {\n\n            const y = Math.floor(((i - minY)/realHeight) * height);\n\n            text[text.length] = `<text x=\"${1}\" y=\"${y}\" dy=\"6\" dominant-baseline=\"central\" transform=\"rotate(-90, 1, ${y})\">${i}</text>`\n        }\n\n        return text.join('');\n    }        \n\n    makeRulerForCurrentArtboard () {\n        const current = this.$selection.current;\n\n        if (!current) return '';\n\n        const currentArtboard = current.artboard;\n\n        if (!currentArtboard) return '';\n\n        const verties = currentArtboard.verties;\n\n        const {minY,maxY, height: realHeight} = this.$viewport;\n        const height = this.state.rect.height;\n\n        const firstY = ((verties[0][1] - minY)/realHeight) * height; \n        const secondY = ((verties[2][1] - minY)/realHeight) * height; \n\n        return `\n            M 20 ${firstY}\n            L 30 ${firstY}\n            L 30 ${secondY}\n            L 20 ${secondY}\n            Z\n        `\n    }\n\n    makeRulerForCurrent () {\n        const current = this.$selection.current;\n\n        if (!current) return '';\n\n        // viewport \n        const {minY, height: realHeight} = this.$viewport;\n        const height = this.state.rect.height;\n\n        // current\n        const verties = this.$selection.verties;\n        const yList = verties.map(it => it[1]);\n        const currentMinY = Math.min.apply(Math, yList);\n        const currentMaxY = Math.max.apply(Math, yList);\n\n        const firstY = ((currentMinY - minY)/realHeight) * height; \n        const secondY = ((currentMaxY - minY)/realHeight) * height; \n\n        return `\n            M 15 ${firstY}\n            L 20 ${firstY}\n            L 20 ${secondY}\n            L 15 ${secondY}\n            Z\n        `\n    }\n\n    makeRuler () {\n\n        const {minY,maxY, height: realHeight} = this.$viewport;\n        const height = this.state.rect.height;\n\n        pathString = []\n    \n        this.makeLine(pathString, 200, minY, maxY, realHeight, height, 10, 18, 10000);        \n        this.makeLine(pathString, 100, minY, maxY, realHeight,height, 10, 18, 200);\n        this.makeLine(pathString, 50, minY, maxY, realHeight,height, 10, 18, 100);\n        this.makeLine(pathString, 10, minY, maxY, realHeight,height, 10, 18, 50);\n        this.makeLine(pathString, 5, minY, maxY, realHeight,height, 10, 15, 10);\n        this.makeLine(pathString, 1, minY, maxY, realHeight,height, 10, 14, 5);        \n\n        return pathString.join('');\n    }    \n\n    makeRulerText () {\n\n        const {minY,maxY, height: realHeight} = this.$viewport;\n        const height = this.state.rect.height;\n\n        const dist = Math.abs(maxY - minY);\n\n        return [\n            dist > 3000 ? this.makeLineText(500, minY, maxY, realHeight, height, 20) : '',\n            (1000 < dist && dist < 3000) ? this.makeLineText(100, minY, maxY, realHeight,height, 20) : '',\n            (800 < dist && dist < 1000) ? this.makeLineText(100, minY, maxY, realHeight,height, 20) : '',\n            (500 < dist && dist < 800) ? this.makeLineText(100, minY, maxY, realHeight,height, 20) : '',\n            (500 < dist && dist < 800) ? this.makeLineText(50, minY, maxY, realHeight,height, 20) : '',\n            (200 < dist && dist < 500) ? this.makeLineText(50, minY, maxY, realHeight,height, 20) : '',\n            (50 < dist && dist < 200) ? this.makeLineText(10, minY, maxY, realHeight,height, 20) : '',            \n            (15 < dist && dist < 50) ? this.makeLineText(5, minY, maxY, realHeight,height, 20) : '',                        \n            (0 < dist && dist < 15) ? this.makeLineText(1, minY, maxY, realHeight,height, 20) : '',                                    \n        ].join('');\n    }\n\n    [LOAD('$body') + DOMDIFF] () { \n\n        if (!this.state.rect || this.state.rect.width == 0) {\n            this.state.rect = this.$el.rect();\n        }\n\n        return /*html*/`\n            <svg width=\"100%\" height=\"100%\" overflow=\"hidden\">\n                <path d=\"${this.makeRuler()}\" fill=\"transparent\" stroke-width=\"0.5\" stroke=\"white\" transform=\"translate(0, 0.5)\" />\n                ${this.makeRulerText()}\n            </svg>\n        `\n    }\n\n    [LOAD('$layerRuler') + DOMDIFF] () { \n\n        if (!this.state.rect || this.state.rect.width == 0) {\n            this.state.rect = this.$el.rect();\n        }\n\n        return /*html*/`\n            <svg width=\"100%\" height=\"100%\" overflow=\"hidden\">\n                <path d=\"${this.makeRulerForCurrent()}\" fill=\"rgba(100, 255, 255, 0.5)\" />\n            </svg>\n        `\n    }    \n\n    refresh() {\n        if (this.$config.get('show.ruler')) {\n            this.load();\n        }\n\n    }    \n\n    [SUBSCRIBE('updateViewport')] () {\n        this.refresh();\n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView') + THROTTLE(10)] () {\n        const current = this.$selection.current;        \n\n        if (current && current.hasChangedField('x', 'y', 'width', 'height', 'transform', 'rotateZ', 'rotate')) {\n            this.refresh();\n        }\n\n    }\n\n    [SUBSCRIBE('refreshSelection')] () {\n        this.load('$layerRuler');      \n    }    \n\n    [SUBSCRIBE('resize.window', 'resizeCanvas')] () {\n        this.refreshCanvasSize();\n    }        \n}","export default class Resource {\n    static getAllDropItems (e) {\n        var items = []\n        \n        if (e.dataTransfer ) {\n            items = [...e.dataTransfer.types].map((type, index) => {\n\n                if (type.includes('text')) {\n                    return {\n                        kind: 'string', \n                        type,\n                        data: e.dataTransfer.getData(type)\n                    }\n                }\n            }).filter(it => it);\n        }\n    \n        var files = [] \n        \n        if (e.dataTransfer) {\n            files = [...e.dataTransfer.files]\n        }\n\n        return  [...items, ...files]\n    }\n}\n\n\nexport const filter_list = [\n    \"blur\",\n    \"grayscale\",\n    \"hue-rotate\",\n    \"invert\",\n    \"brightness\",\n    \"contrast\",\n    \"drop-shadow\",\n    \"opacity\",\n    \"saturate\",\n    \"sepia\",\n    'svg',\n  ];\n\n\n\n\nconst SVG_PROPERTY_LIST = {\n    'text': true, \n    'points': true,\n    'textLength': true, \n    'startOffset': true,\n    'lengthAdjust': true \n}\n\nconst SVG_PATH_PROPERTY_LIST = {\n    'd': true\n}\n\nconst CSS_PROPERTY_LIST = {\n    'position': true,\n    'x': true,\n    'y': true,\n    'right': true,\n    'bottom': true,\n    'width': true,\n    'height': true,\n    'rootVariable': true,\n    'variable': true,\n    'transform': true,\n    'filter': true,\n    'backdrop-filter': true,\n    'background-color': true,      \n    'background-clip': true,\n    'background-image': true,      \n    'border-radius': true,      \n    'box-shadow': true,\n    'text-shadow': true,\n    'text-clip': true,      \n    'clip-path': true,\n    'color': true,\n    'font-size': true,\n    'font-stretch': true,\n    'line-height': true,\n    'text-align': true,\n    'text-transform': true,\n    'text-decoration': true,\n    'letter-spacing': true, \n    'word-spacing': true, \n    'text-indent': true,      \n    'perspective-origin': true,\n    'transform-origin': true,\n    'transform-style': true,\n    'perspective': true,\n    'mix-blend-mode': true,\n    'opacity': true,\n    'rotate': true,    \n    'text-fill-color': true,\n    'text-stroke-color': true,\n    'text-stroke-width': true,  \n    'offset-path': true,\n    'offset-distance': true,\n    border: true,\n    outline: true,\n    borderRadius: true,\n    // borderImage: true,\n    animations: true,\n    transitions: true,\n    'fill': true,\n    'fill-opacity': true, \n    'stroke': true,\n    'stroke-width': true,\n    'stroke-dasharray': true,\n    'stroke-dashoffset': true,\n    'fill-rule': true,\n    'stroke-linecap': true,\n    'stroke-linejoin': true    \n}\n\nexport const hasSVGProperty = (property) => {\n    return SVG_PROPERTY_LIST[property] || false \n}\n\nexport const hasSVGPathProperty = (property) => {\n    return SVG_PATH_PROPERTY_LIST[property] || false \n}\n\nexport const hasCSSProperty = (property) => {\n    return CSS_PROPERTY_LIST[property] || false \n}\n\nexport const hasCustomProperty = (property) => {\n    return hasSVGProperty(property) === false && hasCSSProperty(property) === false\n}\n\n","\n\nimport { LOAD, DOMDIFF, SUBSCRIBE } from \"el/sapa/Event\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { Project } from \"plugins/default-items/layers/Project\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { isArray, isString } from \"el/sapa/functions/func\";\n\n\nconst TEMP_DIV = Dom.create('div')     \n\nexport default class StyleView extends EditorElement {\n\n  template() {\n    return /*html*/`\n    <div class='style-view' style='pointer-events: none; position: absolute;display:inline-block;left:-1000px;'>\n      <div ref='$svgArea'></div>\n      <style type='text/css' ref='$styleView'></style>\n    </div>\n    `;\n  }\n\n  initialize() {\n    super.initialize()\n\n    this.refs.$head = Dom.create(document.head)\n  }\n\n  makeStyle (item) {\n    return this.$editor.html.toStyle(item);\n  }\n\n  refreshStyleHead () {\n    var project = this.$selection.currentProject || new Project()\n    this.refs.$head.$$(`style[data-renderer-type=\"html\"]`).forEach($style => $style.remove())\n\n    // project setting \n    this.changeStyleHead(project)\n\n    // artboard setting \n    project.layers.forEach(item => this.changeStyleHead(item))\n  }\n\n  changeStyleHead (item) {\n    var $temp = Dom.create('div')        \n\n    const styleTag = this.makeStyle(item)\n\n    $temp.html(styleTag).children().forEach($item => {\n      this.refs.$head.append($item);\n    })\n\n  }\n\n  refreshStyleHeadOne (item, isOnlyOne = false) {\n    var list = [item]\n    if (!isOnlyOne) {\n      list = item.allLayers\n    }\n\n    var selector = list.map(it => {\n      return `style[data-renderer-type=\"html\"][data-id=\"${it.id}\"]`\n    }).join(',');\n\n    let isChanged = false; \n    this.refs.$head.$$(selector).forEach(it => {\n      if (item.isChanged(it.attr('data-timestamp'))) {\n        isChanged = true;       \n        it.remove();\n      }\n    })\n\n    if (isChanged) {\n      this.changeStyleHead(item)\n    }\n\n  }\n\n  // [LOAD('$svgArea') + DOMDIFF] () {\n  //   var project = this.$selection.currentProject || {  }\n\n  //   return this.$editor.html.renderSVG(project);\n  // }   \n\n  // timeline        . \n  //      \n  //    . \n  //        . \n  [SUBSCRIBE('refreshStyleView', 'moveTimeline', 'playTimeline')] (current,  isOnlyOne = false) {   \n    if (current) {\n      this.load();\n      this.refreshStyleHeadOne(current, isOnlyOne);\n    } else {\n      this.refresh()\n    }\n  }\n\n  [SUBSCRIBE('refreshSVGArea')] () {\n    this.load('$svgArea');\n  }\n\n  /**\n   * \n   * @param {String|Object|Array<string>|Array<object>} obj  ,  id    ,  selection   \n   */\n  [SUBSCRIBE('refreshSelectionStyleView')] (obj = null) {\n    var ids = obj; \n\n    if (Array.isArray(obj)) {\n      ids = obj\n    } else if (obj !== null) {\n      ids = [obj]\n    }\n\n    let items = [] \n\n    if (!ids) {\n      items = this.$selection.items\n    } else if (isString(ids[0])) {\n      items = this.$selection.itemsByIds(ids);\n    } else {\n      items = ids; \n    }\n\n    const styleTags = [] \n    const removeStyleSelector = []\n\n\n    for(let i = 0, len = items.length; i < len; i++) {\n      const item = items[i];\n      var selector = item.allLayers.map(it => {\n        return `style[data-renderer-type=\"html\"][data-id=\"${it.id}\"]`\n      }).join(',');\n\n      removeStyleSelector.push(selector);\n      styleTags.push(this.makeStyle(item))\n    }\n\n    if (removeStyleSelector.length) {\n      this.refs.$head.$$(removeStyleSelector).forEach(it => {\n        it.remove();\n      })  \n    }\n\n   \n\n    var $fragment = TEMP_DIV.html(styleTags.join('')).createChildrenFragment()\n\n    this.refs.$head.append($fragment);\n  }  \n\n  refresh() {\n    this.load();\n    this.refreshStyleHead();\n  }\n}","import { vec3 } from \"gl-matrix\";\n\nimport { BIND, POINTERSTART, IF, KEYUP, DOUBLECLICK, FOCUSOUT, SUBSCRIBE, CONFIG } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { isFunction } from \"el/sapa/functions/func\";\nimport { KEY_CODE } from \"el/editor/types/key\";\nimport { END, FIRSTMOVE, MOVE } from \"el/editor/types/event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport StyleView from \"./StyleView\";\n\nimport './HTMLRenderView.scss';\n\nexport default class HTMLRenderView extends EditorElement {\n\n    components() {\n        return {\n            StyleView,\n        }\n    }\n\n    initState() {\n        return {\n            mode: 'selection',\n            x: Length.z(),\n            y: Length.z(),\n            width: Length.px(10000),\n            height: Length.px(10000),\n            cachedCurrentElement: {},\n        }\n    }\n\n    template() {\n        return /*html*/`\n            <div class='elf--element-view' ref='$body'>\n                <object refClass='StyleView' ref='$styleView' />\n                <div class='canvas-view' ref='$view' data-outline=\"${this.$config.get('show.outline')}\"></div>\n                ${this.$injectManager.generate(\"render.view\")}\n            </div>\n        `\n    }\n\n    [CONFIG('show.outline')] () {\n        this.refs.$view.attr('data-outline', this.$config.get('show.outline'));\n    }\n\n    [SUBSCRIBE('refElement')](id, callback) {\n        isFunction(callback) && callback(this.getElement(id))\n    }\n\n    clearElementAll() {\n        this.$selection.each(item => {\n            this.clearElement(item.id);\n        });\n    }\n\n    clearElement(id) {\n        this.state.cachedCurrentElement[id] = undefined\n    }\n\n    getElement(id) {\n\n        if (!this.state.cachedCurrentElement[id]) {\n            this.state.cachedCurrentElement[id] = this.refs.$view.$(`[data-id=\"${id}\"]`);\n        }\n\n        return this.state.cachedCurrentElement[id];\n    }\n\n    // text   doubleclick       \n    //    . \n    [DOUBLECLICK('$view .element-item.text .text-content')](e) {\n        e.$dt.addClass('focused');\n        e.$dt.attr('contenteditable', 'true');\n        e.$dt.focus();\n        e.$dt.select();\n    }\n\n    [FOCUSOUT('$view .element-item.text .text-content')](e) {\n        e.$dt.removeAttr('contenteditable');\n        e.$dt.removeClass('focused');\n    }\n\n    [KEYUP('$view .element-item.text .text-content')](e) {\n\n        var content = e.$dt.html()\n        var text = e.$dt.text();\n        var id = e.$dt.parent().attr('data-id');\n        //FIXME: matrix    . \n\n        var arr = []\n        this.$selection.items.filter(it => it.id === id).forEach(it => {\n            it.reset({\n                content,\n                text,\n            })\n            arr.push({ id: it.id, content, text })\n        })\n\n        this.emit('refreshContent', arr);\n\n        this.emit('refreshSelectionTool', false);\n    }\n\n    /**\n     *        \n     * \n     * @param {PointerEvent} e \n     */\n    checkEditMode(e) {\n        // hand tool  on     . \n        if (this.$config.get('set.tool.hand')) {\n            return false;\n        }\n\n        // space     . \n        const code = this.$shortcuts.getGeneratedKeyCode(KEY_CODE.space);\n        if (this.$keyboardManager.check(code)) {\n            return false;\n        }\n\n\n        const mousePoint = this.$viewport.getWorldPosition(e);\n        if (this.$selection.hasPoint(mousePoint)) {\n\n            // selection  hover item    hover item   . \n            if (this.$selection.hasHoverItem()) {\n\n                // selection   \n                // hover  id    \n                // hover    . \n                if (this.$selection.hasParent(/*parentId*/this.$selection.hoverId) === false) {\n                    this.$selection.selectHoverItem();\n                }\n\n            }\n\n            return true;\n        }\n\n        // hover item      . \n        if (this.$selection.hasHoverItem()) {\n            this.$selection.selectHoverItem();\n            return true;\n        }\n\n        const $target = Dom.create(e.target);\n        if ($target.hasClass('canvas-view')) {\n            return false;\n        }\n\n        const $element = $target.closest('element-item');\n\n        if ($element) {\n            // text  focus     . \n            if ($element.hasClass('focused')) {\n                return false;\n            }\n\n            var id = $element.attr('data-id')\n\n            // altKey  copy       \n            if (e.altKey === false) {\n                const item = this.$model.get(id);\n\n                // artboard      \n                if (item.is('artboard') && item.hasChildren()) {\n                    this.$config.set('set.dragarea.mode', true);\n                    return true;\n                }\n\n            }\n\n        } else {\n            //       false   . \n            return false;\n        }\n\n\n        return true;\n    }\n\n    [DOUBLECLICK('$view')](e) {\n        const $item = Dom.create(e.target).closest('element-item');\n\n        if ($item) {\n            const id = $item.attr('data-id');\n\n            this.nextTick(() => {\n                this.emit('doubleclick.item', e, id);\n            }, 100)\n    \n        }\n    }\n\n    /**\n     *     \n     *\n     * ctrl + pointerstart    .  \n     * \n     * @param {PointerEvent} e \n     */\n    [POINTERSTART('$view') + IF('checkEditMode')\n        + MOVE('calculateMovedElement')\n        + END('calculateEndedElement')\n    ](e) {\n        this.initMousePoint = this.$viewport.getWorldPosition(e);\n\n        if (this.$config.get('set.dragarea.mode')) {\n            this.emit('startDragAreaView');    \n\n            return;\n        }\n\n\n        let isInSelectedArea = this.$selection.hasPoint(this.initMousePoint)\n        const $target = Dom.create(e.target);\n\n        if ($target.hasClass('canvas-view')) {\n            this.$selection.select();\n            this.initializeDragSelection();\n            this.emit('history.refreshSelection');\n\n            return false;\n        }\n\n        const $element = $target.closest('element-item');\n\n        var id = $element && $element.attr('data-id');\n\n        // alt(option) + pointerstart  Layer          \n        if (e.altKey) {\n\n            if (isInSelectedArea) {\n                //  selection        . \n            } else {\n                if (this.$selection.check({ id }) === false) {\n                    //   id   \n                    this.$selection.selectByGroup(id);\n                }\n            }\n\n            if (this.$selection.isEmpty === false) {\n                //     \n                this.$selection.selectAfterCopy();\n                this.trigger('refreshAllCanvas')\n                this.emit('refreshLayerTreeView')\n\n                this.initializeDragSelection();\n                this.emit('history.refreshSelection');\n            }\n\n        } else {\n\n            if (isInSelectedArea) {\n                //  selection        . \n            } else {\n                // shift key  selection  . \n                if (e.shiftKey) {\n                    this.$selection.toggleById(id);\n                } else {\n                    //     \n                    if (this.$selection.check({ id }) === false) {\n\n                        const current = this.$model.get(id);\n\n                        if (current && current.is('artboard') && current.hasChildren()) {\n                            // NOOP\n                        } else if (current.hasChildren()) {\n                            //        .\n                            this.$selection.selectByGroup(id);\n                        } else {\n                            // group  . \n                            // group          . \n                            //   artboard      . \n                            this.$selection.selectByGroup(id);\n                        }\n\n                    }\n                }\n\n            }\n\n            this.initializeDragSelection();\n            this.emit('history.refreshSelection');\n        }\n\n    }\n\n    initializeDragSelection() {\n        this.$selection.reselect();\n        this.$snapManager.clear();\n\n        this.emit('refreshSelectionTool', true);\n    }\n\n    calculateMovedElement() {\n\n        if (this.$config.get('set.dragarea.mode')) {\n            this.emit('moveDragAreaView');            \n            return;    \n        }\n\n        // layout item    layout    . \n        if (this.$selection.isLayoutItem) {\n            return;\n        }\n\n        const targetMousePoint = this.$viewport.getWorldPosition();\n\n        const newDist = vec3.floor([], vec3.subtract([], targetMousePoint, this.initMousePoint));\n\n        this.moveTo(newDist);\n\n        //   ArtBoard  \n        if (this.$selection.changeArtBoard()) {\n            this.initMousePoint = targetMousePoint;\n            this.$selection.reselect();\n            this.$snapManager.clear();\n            this.clearElementAll();\n\n            this.trigger('refreshAllCanvas')\n\n            // ArtBoard   LayerTreeView \n            this.emit('refreshLayerTreeView')\n        }\n\n        this.emit('setAttributeForMulti', this.$selection.pack('x', 'y'));\n        this.emit('refreshSelectionTool', true);\n\n    }\n\n    /**\n     *    \n     * \n     * 1.      \n     * 2. world     \n     * 3. world  snap  \n     * 4. snap   \n     * 5.    verties  localDist  \n     * 6.      Matrix    \n     * 7.       dist   \n     * \n     * @param {vec3} dist \n     */\n    moveTo(dist) {\n\n        //////  snap   \n        const snap = this.$snapManager.check(this.$selection.cachedRectVerties.map(v => {\n            return vec3.add([], v, dist)\n        }), 3);\n\n        const localDist = vec3.add([], snap, dist);\n\n        const result = {}\n        this.$selection.cachedItemMatrices.forEach(it => {\n\n            // newVerties      \n            const newVerties = it.verties.map(v => {\n                return vec3.add([], v, localDist)\n            })\n\n            //   it.rectVerties[0]  \n            //   newVerties[0]  \n            // parentMatrixInverse      \n            //   distance . \n            const newDist = vec3.subtract(\n                [], \n                vec3.transformMat4([], newVerties[0], it.parentMatrixInverse), \n                vec3.transformMat4([], it.verties[0], it.parentMatrixInverse)\n            )\n\n            result[it.id] = {\n                x: Length.px(it.x + newDist[0]).floor(),          // 1px    \n                y: Length.px(it.y + newDist[1]).floor(),\n            }\n        })\n        this.$selection.reset(result);\n    }\n\n    [SUBSCRIBE('selectionToolView.moveTo')](newDist) {\n        this.moveTo(newDist);\n        this.emit('refreshSelectionTool', true);\n    }\n\n    calculateEndedElement(dx, dy) {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const newDist = vec3.dist(targetMousePoint, this.initMousePoint);\n\n        if (this.$config.get('set.dragarea.mode')) {\n            this.emit('endDragAreaView');\n            this.$config.set('set.dragarea.mode', false)\n            return; \n        }\n\n        if (newDist < 1) {\n            // NOOP \n            //     \n        } else {\n            this.$selection.reselect();\n            this.$snapManager.clear();\n            // this.emit('removeGuideLine');\n            this.command(\n                'setAttributeForMulti',\n                \"move item\",\n                this.$selection.pack('x', 'y')\n            );\n        }\n\n        this.emit('refreshSelectionTool', true);\n    }\n\n    [BIND('$body')]() {\n        const { canvasWidth, canvasHeight } = this.$editor;\n\n        var width = Length.px(canvasWidth);\n        var height = Length.px(canvasHeight);\n\n        return {\n            'tabIndex': -1,\n            style: {\n                width,\n                height,\n            }\n        }\n    }\n\n    [BIND('$view')]() {\n\n        const { translate, transformOrigin: origin, scale } = this.$viewport;\n\n        const transform = `translate(${translate[0]}px, ${translate[1]}px) scale(${scale || 1})`;\n        const transformOrigin = `${origin[0]}px ${origin[1]}px`\n\n        return {\n            style: {\n                'transform-origin': transformOrigin,\n                transform\n            }\n        }\n    }\n\n\n\n    //       \n    [SUBSCRIBE('refreshSelectionStyleView')](obj) {\n        var items = obj ? [obj] : this.$selection.items;\n\n        items.forEach(current => {\n            this.updateElement(current);\n        })\n    }\n\n    updateElement(item) {\n        if (item) {\n            this.$editor.html.update(item, this.getElement(item.id), this.$editor)\n        }\n\n    }\n\n    //      . \n    updateTimelineElement(item) {\n        if (item) {\n            this.$editor.html.update(item, this.getElement(item.id), this.$editor)\n        }\n\n    }\n\n    [SUBSCRIBE('playTimeline', 'moveTimeline')]() {\n\n        const project = this.$selection.currentProject;\n        var timeline = project.getSelectedTimeline();\n\n        if (timeline) {\n            timeline.animations.map(it => this.$model.get(it.id)).forEach(current => {\n                this.updateTimelineElement(current, true, false);\n            })\n        }\n\n    }\n\n    /**\n     * canvas    \n     */\n    [SUBSCRIBE('refreshAllCanvas')]() {\n\n        this.clearElementAll();\n\n        const project = this.$selection.currentProject\n\n        const html = this.$editor.html.render(project, null, this.$editor) || '';\n\n        this.refs.$view.updateDiff(html, undefined, {\n            checkPassed: (oldEl, newEl) => {\n                // data-id   dom diff    . \n                const isPassed =  oldEl.getAttribute(\"data-id\") === newEl.getAttribute(\"data-id\")\n                return isPassed\n            }\n        })\n\n        this.bindData('$view');\n\n        //     update    . \n        this.trigger('updateAllCanvas', project);\n    }\n\n    [SUBSCRIBE('updateAllCanvas')](parentLayer) {\n        parentLayer.layers.forEach(item => {\n            this.updateElement(item, this.getElement(item.id));\n            this.trigger('updateAllCanvas', item);\n        })\n    }\n\n    [SUBSCRIBE('refreshAllElementBoundSize')]() {\n\n        var selectionList = this.$selection.items.map(it => it.is('artboard') ? it : it.parent)\n\n        var list = [...new Set(selectionList)];\n        list.forEach(it => {\n            this.trigger('refreshElementBoundSize', it);\n        })\n    }\n\n    [SUBSCRIBE('refreshElementBoundSize')](parentObj) {\n        if (parentObj) {\n\n            const hasChangedDimension = parentObj.changedBoxModel || parentObj.hasChangedField('box-model', 'width', 'height', 'layout', 'flex-layout', 'grid-layout');\n            \n            parentObj.layers.forEach(it => {\n                // if (it.isLayoutItem()) {\n                var $el = this.getElement(it.id);\n\n                if ($el && hasChangedDimension) {\n                    const { x, y, width, height } = $el.offsetRect();\n\n                    it.reset({\n                        x: Length.px(x),\n                        y: Length.px(y),\n                        width: Length.px(width),\n                        height: Length.px(height)\n                    })\n\n                    this.updateElement(it, $el);\n                    this.trigger('refreshSelectionStyleView', it, true);\n                }\n                // }\n\n                this.trigger('refreshElementBoundSize', it);\n            })\n        }\n    }\n\n    [SUBSCRIBE('updateViewport')]() {\n        this.bindData('$view');\n    }\n\n}","\n\nimport { CLICK, PREVENT, STOP, SUBSCRIBE, CONFIG } from \"el/sapa/Event\";\nimport { OBJECT_TO_CLASS } from \"el/utils/func\";\n\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './PageTools.scss';\n\nexport default class PageTools extends EditorElement {\n\n  template() {\n    return /*html*/`     \n      <div class='elf--page-tools'>\n        <button type='button' ref='$minus'>${iconUse(\"remove2\")}</button>\n        <div class='select'>\n          <object \n            refClass=\"NumberInputEditor\" \n            ref='$scale' \n            min='10' \n            max='240' \n            step=\"1\" \n            key=\"scale\" \n            value=\"${this.$viewport.scale*100}\" \n            onchange=${this.subscribe((key, scale) => {\n              this.$viewport.setScale(scale/100);\n              this.emit('updateViewport');    \n              this.trigger('updateViewport');    \n            }, 1000)}\n        />\n        </div>\n        <label>%</label>\n        <button type='button' ref='$plus'>${iconUse(\"add\")}</button>        \n        <button type='button' ref='$center' data-tooltip=\"Move to Center\" data-direction=\"top\">${iconUse(\"gps_fixed\")}</button>    \n        <button type='button' ref='$ruler' data-tooltip=\"Toggle Ruler\" data-direction=\"top\">${iconUse(\"straighten\")}</button>    \n        <button type='button' ref='$fullscreen' data-tooltip=\"FullScreen Canvas\" data-direction=\"top\">${iconUse(\"fullscreen\")}</button>                        \n        <button type='button' ref='$pantool' class=\"${OBJECT_TO_CLASS({\n          on: this.$config.get('set.tool.hand')\n        })}\" data-tooltip=\"Hand | H\" data-direction=\"top\">${iconUse(\"pantool\")}</button>   \n        ${this.$injectManager.generate('page.tools')}                             \n      </div>\n\n    `;\n  }  \n\n\n  [SUBSCRIBE('updateViewport')] () {\n    const scale = Math.floor(this.$viewport.scale * 100)\n\n    if (this.children.$scale) {\n      this.children.$scale.setValue(scale);\n    }\n\n  }\n\n  [CLICK('$plus') + PREVENT + STOP] () {\n    const oldScale = this.$viewport.scale\n    this.$viewport.setScale(oldScale + 0.01);\n    this.emit('updateViewport');\n    this.trigger('updateViewport');    \n  }\n\n  [CLICK('$minus') + PREVENT + STOP] () {\n    const oldScale = this.$viewport.scale\n    this.$viewport.setScale(oldScale - 0.01);\n    this.emit('updateViewport');\n    this.trigger('updateViewport');    \n  }\n\n  [CLICK('$center') + PREVENT + STOP] () {\n    this.emit('moveSelectionToCenter');\n  }\n\n  [CLICK('$pantool') + PREVENT + STOP] () {\n    this.$config.toggle('set.tool.hand');\n  }  \n\n  [CLICK('$ruler') + PREVENT + STOP] () {\n    this.$config.toggle('show.ruler');\n  }\n\n  [CLICK('$fullscreen') + PREVENT + STOP] () {\n    this.emit('bodypanel.toggle.fullscreen');\n  }\n\n  [CONFIG('set.tool.hand')]() {\n    this.refs.$pantool.toggleClass('on', this.$config.get('set.tool.hand'));\n  }\n\n}","\nimport { POINTERSTART, BIND, KEYUP, IF, ESCAPE, ENTER, PREVENT, STOP, POINTERMOVE, CHANGE, SUBSCRIBE, KEYDOWN } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport PathStringManager from \"el/editor/parser/PathStringManager\";\nimport { rectToVerties, vertiesToRectangle } from \"el/utils/collision\";\nimport { vec3 } from \"gl-matrix\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport \"./LayerAppendView.scss\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport PathParser from 'el/editor/parser/PathParser';\n\nexport default class LayerAppendView extends EditorElement {\n\n    template() {\n        return /*html*/`\n        <div class='elf--layer-append-view'>\n            <div class='area' ref='$area'></div>\n            <div class='area-rect' ref='$areaRect'></div>\n            <div class='area-pointer' ref='$mousePointer'></div>\n            <div class='area-pointer-view' ref='$mousePointerView'></div>            \n            <input type='file' accept='image/*' multiple=\"true\" ref='$file' class='embed-file-input'/>\n            <input type='file' accept='video/*' multiple=\"true\" ref='$video' class='embed-video-input'/>            \n        </div>\n        `\n    }\n\n    initState() {\n        return {\n            dragStart: false, \n            width: 0,\n            height: 0,\n            color: 'black',\n            fontSize: 30,\n            showRectInfo: false,          \n            areaVerties: rectToVerties(0, 0, 0, 0),\n            content: 'Insert a text',\n            pathManager: new PathStringManager(),\n            rect: {},\n            options: {},\n            containerItem: undefined,\n            patternInfo: {}\n        }\n    }\n\n    get scale () {\n        return this.$viewport.scale; \n    }  \n\n    checkNotDragStart () {\n        return Boolean(this.state.dragStart) === false;\n    }\n    \n    [POINTERMOVE('$el') + IF('checkNotDragStart')] (e) {\n\n        const vertex = this.$viewport.getWorldPosition(e);        \n\n        //    snap  \n        const newVertex = this.$snapManager.checkPoint(vertex);\n\n        if (vec3.equals(newVertex, vertex) === false) {\n            this.state.target = newVertex;\n            this.state.targetVertex = this.$viewport.applyVertex(this.state.target);\n            this.state.targetPositionVertex = vec3.clone(this.state.target);            \n            this.state.targetGuides = this.$snapManager.findGuideOne([this.state.target]);\n        } else {\n            this.state.target = vec3.floor([], vertex); \n            this.state.targetVertex = vec3.floor([], this.$viewport.applyVertex(this.state.target));\n            this.state.targetGuides = [];\n            this.state.targetPositionVertex = null;\n        }\n\n        this.bindData('$mousePointer')\n        this.bindData('$mousePointerView');\n    }\n\n    [POINTERSTART('$el') + MOVE() + END() + PREVENT + STOP] (e) {\n\n        this.initMousePoint = this.state.targetPositionVertex ? this.state.targetPositionVertex : this.$viewport.getWorldPosition(e);\n\n        this.state.dragStart = true;\n        this.state.color = '#C4C4C4'; //Color.random()\n        this.state.text = '';\n\n        const minX = this.initMousePoint[0];\n        const minY = this.initMousePoint[1];      \n\n        const verties = rectToVerties(minX, minY, 0, 0);                \n        this.state.areaVerties = this.$viewport.applyVerties(verties);        \n\n        this.bindData('$area');\n        this.bindData('$areaRect');\n\n    }\n\n    createLayerTemplate (width, height) {\n        const { type, text, color, inlineStyle } = this.state;\n\n        switch(type) {\n        case 'artboard':\n            return /*html*/`<div class='draw-item' style='background-color: white; ${inlineStyle}'></div>`;\n        case 'rect':\n            return /*html*/`<div class='draw-item' style='background-color: ${color}; ${inlineStyle}'></div>`\n        case 'circle':\n            return /*html*/`<div class='draw-item' style='background-color: ${color}; border-radius: 100%; ${inlineStyle}'></div>`\n        case 'text':\n        case 'svg-text':\n            return /*html*/`\n                <div \n                    class='draw-item' \n                    \n                    style='font-size: 30px;outline: 1px solid blue;white-space:nowrap'\n                >\n                    <p contenteditable=\"true\" style=\"margin:0px;display: inline-block;outline:none;\" ></p>\n                </div>`\n        case 'svg-rect':\n            return /*html*/`\n            <div class='draw-item'>\n                <svg width=\"${width}\" height=\"${height}\" style=\"width:100%; height:100%;\" overflow=\"visible\">\n                    <path d=\"${PathStringManager.makeRect(0, 0, width, height)}\" stroke-width=\"1\" stroke=\"black\" fill=\"transparent\" />\n                </svg>\n            </div>\n            `\n        case 'svg-circle':\n            return /*html*/`\n            <div class='draw-item'>\n                <svg width=\"${width}\" height=\"${height}\" style=\"width:100%; height:100%;\" overflow=\"visible\">\n                    <path d=\"${PathStringManager.makeCircle(0, 0, width, height)}\" stroke-width=\"1\" stroke=\"black\" fill=\"transparent\" />\n                </svg>\n            </div>\n            `\n        case 'svg-path':\n            const newD = this.state.d.clone().scale(width/this.state.bboxRect.width, height/this.state.bboxRect.height).d;\n            const options = this.state.options;\n            return /*html*/`\n            <div class='draw-item'>\n                <svg width=\"${width}\" height=\"${height}\" style=\"width:100%; height:100%;\" overflow=\"visible\">\n                    <path   d=\"${newD}\" \n                            stroke-width=\"${options['stroke-width'] || 1}\" \n                            stroke=\"${options['stroke'] || \"black\"}\" \n                            fill=\"${options['fill'] || 'transparent'}\" \n                    />\n                </svg>\n            </div>\n            `            \n        case 'svg-textpath':\n            return /*html*/`\n            <div class='draw-item' style='outline: 1px solid blue;'>\n                <svg width=\"${width}\" height=\"${height}\" style=\"width:100%; height:100%;font-size: ${height}px;\" overflow=\"visible\">\n                    <defs>\n                        <path id='layer-add-path' d=\"${PathStringManager.makeLine(0, height, width, height)}\" />\n                    </defs>\n                    <text>\n                        <textPath \n                          xlink:href=\"#layer-add-path\"\n                          textLength=\"100%\"\n                          lengthAdjust=\"spacingAndGlyphs\"\n                          startOffset=\"0em\"\n                        >${text}</textPath>\n                    </text>\n                </svg>\n            </div>\n            `      \n        default:\n            return /*html*/`<div class='draw-item' style='outline: 1px solid blue; ${inlineStyle}'></div>`        \n        }\n    }\n\n    [BIND('$area')] () {\n\n        const { areaVerties } = this.state;\n\n        const {left, top, width, height } = vertiesToRectangle(areaVerties);\n\n        return {\n            style: { left, top, width, height },\n            innerHTML : this.createLayerTemplate(width.value, height.value)\n        }\n    }\n\n    [BIND('$areaRect')] () {\n\n        const { areaVerties, showRectInfo} = this.state; \n\n        const newVerties = this.$viewport.applyVertiesInverse(areaVerties);\n\n        const {width, height } = vertiesToRectangle(newVerties);\n\n        return {\n            style: {\n                display: showRectInfo ? 'inline-block' : 'none',\n                left: Length.px(areaVerties[2][0]),\n                top: Length.px(areaVerties[2][1]),\n            },\n            innerHTML: `x: ${Math.round(newVerties[0][0])}, y: ${Math.round(newVerties[0][1])}, ${width.value} x ${height.value}`\n        }\n    }\n\n    [BIND('$mousePointerView')] () {\n\n        const { areaVerties, showRectInfo} = this.state; \n        const {target = vec3.create(), targetVertex = vec3.create()} = this.state; \n\n        return {\n            style: {\n                display: !showRectInfo ? 'inline-block' : 'none',\n                left: Length.px(targetVertex[0]),\n                top: Length.px(targetVertex[1]),\n            },\n            innerHTML: `x: ${Math.round(target[0])}, y: ${Math.round(target[1])}`\n        }\n    }\n\n    makeMousePointer () {\n\n        if (this.state.dragStart) return '';\n\n        const {target, targetVertex} = this.state; \n\n        if (!target) return '';\n\n        const guides = (this.state.targetGuides || []).filter(Boolean);\n\n        // if (guides.length === 0) return; \n\n        return /*html*/`\n        <svg width=\"100%\" height=\"100%\">\n            ${guides.map(guide => {\n                this.state.pathManager.reset();\n\n                guide = this.$viewport.applyVerties([ guide[0], guide[1] ])\n\n                return this.state.pathManager\n                            .M({x: guide[0][0], y: guide[0][1]})                            \n                            .L({x: guide[1][0], y: guide[1][1]})\n                            .X({x: guide[0][0], y: guide[0][1]})\n                            .X({x: guide[1][0], y: guide[1][1]})                            \n                            .toString('layer-add-snap-pointer')\n            }).join('\\n')}\n        </svg>\n    `\n    }\n\n    [BIND('$mousePointer')] () {\n\n        const html = this.makeMousePointer()\n        \n        // if (html === '') return;\n\n        return {\n            innerHTML: html\n        }\n    }\n\n    move () {\n        const e = this.$config.get('bodyEvent');\n        const targetMousePoint = this.$viewport.getWorldPosition();     \n        const newMousePoint = this.$snapManager.checkPoint(targetMousePoint);\n\n        if (vec3.equals(newMousePoint, targetMousePoint) === false) {\n            this.state.target = newMousePoint;\n            this.state.targetVertex = this.$viewport.applyVertex(newMousePoint);\n            this.state.targetGuides = this.$snapManager.findGuideOne([newMousePoint]).filter(Boolean);\n        } else {\n            this.state.target = undefined; \n            this.state.targetGuides = [];\n        }\n\n        const isShiftKey = e.shiftKey;\n\n        const minX = Math.min(newMousePoint[0], this.initMousePoint[0]);\n        const minY = Math.min(newMousePoint[1], this.initMousePoint[1]);\n\n        const maxX = Math.max(newMousePoint[0], this.initMousePoint[0]);\n        const maxY = Math.max(newMousePoint[1], this.initMousePoint[1]);        \n        \n        let dx = maxX - minX;\n        let dy = maxY - minY; \n\n        if (isShiftKey) {\n            dy = dx; \n        }\n\n        //    snap  \n        const verties = rectToVerties(minX, minY, dx, dy);                \n        this.state.areaVerties = this.$viewport.applyVerties(verties);\n\n        this.state.showRectInfo = true; \n\n\n        this.bindData('$area');\n        this.bindData('$areaRect'); \n        this.bindData('$mousePointer')\n        this.bindData('$mousePointerView');\n\n    }\n\n    end (dx, dy) {\n        const isAltKey = this.$config.get('bodyEvent').altKey;        \n        let { color, content, fontSize, areaVerties, patternInfo} = this.state; \n\n        // viewport  world   \n        const rectVerties = this.$viewport.applyVertiesInverse(areaVerties);\n\n        // artboard    parentArtBoard   \n        const parentArtBoard = this.$selection.getArtboardByPoint(rectVerties[0]);\n\n        let {x, y, width, height } = vertiesToRectangle(rectVerties);\n        let hasArea = true; \n        if (width.value === 0 && height.value === 0) {\n\n            switch(this.state.type) {\n            case \"text\": \n                content = ''; \n                height.set(this.state.fontSize);\n                hasArea = false; \n                break;\n            default:\n                width = Length.px(100)\n                height = Length.px(100)\n                break;\n            }\n        }\n\n        var rect = { \n            x,  y, width,  height, \n            'background-color': color,\n            'content': content,\n            'font-size': fontSize,\n            ...patternInfo.attrs,\n            ...this.state.options\n        }\n\n        switch(this.state.type) {\n        case 'text': \n        case 'svg-text':\n        case 'svg-textpath': \n            delete rect['background-color']; \n            break;         \n        case \"svg-path\":\n            rect['d'] = this.state.d.clone().scale(width/this.state.bboxRect.width, height/this.state.bboxRect.height).d;\n            break;\n        default: \n            delete rect['content']; \n            break; \n        }\n\n        switch(this.state.type) {\n        case 'image': this.trigger('openImage', rect, parentArtBoard); break;\n        case 'video': this.trigger('openVideo', rect, parentArtBoard); break; \n        case 'audio': this.trigger('openAudio', rect, parentArtBoard); break;    \n        case 'text':  \n\n            if (hasArea) {\n                // NOOP\n                // newComponent   . \n                rect['font-size'] = Length.px(this.state.fontSize / this.$viewport.scale);\n            } else {\n                const scaledFontSize = this.state.fontSize / this.$viewport.scale;\n                const $drawItem = this.refs.$area.$(\".draw-item > p\");\n                $drawItem.parent().css('height', `${scaledFontSize}px`);            \n                $drawItem.parent().css('font-size', `${scaledFontSize}px`);                        \n                $drawItem.select();\n                $drawItem.focus();\n                return;        \n            }\n\n        default: this.emit('newComponent', this.state.type, rect, /* isSelected */ true, parentArtBoard );break;\n        }\n        \n\n        if (!isAltKey) {\n            this.trigger('hideLayerAppendView')\n        }\n\n        this.state.dragStart = false;        \n        this.state.showRectInfo = false; \n        this.state.target = undefined;\n        this.bindData('$areaRect');         \n    }    \n\n    [SUBSCRIBE('showLayerAppendView')] (type, options = {}) {\n        this.state.type = type; \n        this.state.options = options; \n        this.state.isShow = true; \n        this.refs.$area.empty()\n        this.$el.show();\n        this.$el.focus();\n        this.$snapManager.clear();       \n        this.state.inlineStyle = CSS_TO_STRING(this.$editor.html.toCSS(this.$model.createModel({\n            itemType: type,\n            ...options\n        }, false), {\n            top: true,\n            left: true,\n            width: true,\n            height: true,\n            transform: true,\n            \"transform-origin\": true,\n        }))\n\n        if (options.d) {\n            this.state.d = new PathParser(options.d);\n            this.state.bboxRect = this.state.d.rect();\n        }\n\n        this.emit('push.mode.view', 'LayerAppendView');\n    }\n\n    [SUBSCRIBE('hideLayerAppendView')] () {\n\n        if (this.$el.isShow()) {\n            this.state.isShow = false;\n            // this.refs.$area.empty()\n            this.$el.hide();\n            this.emit('pop.mode.view', 'LayerAppendView');\n        }\n\n    }\n\n    [SUBSCRIBE('hideAddViewLayer')] () {\n        this.state.isShow = false;\n        this.$el.hide();\n    }\n\n\n    isShow () {\n        return this.state.isShow\n    }    \n\n    [KEYDOWN('document') + IF('isShow') + ESCAPE + ENTER + PREVENT + STOP] (e) { \n        // NOOP\n    }\n    [KEYUP('document') + IF('isShow') + ESCAPE + ENTER + PREVENT + STOP] (e) { \n\n        switch(this.state.type) {\n        case \"text\":\n            const $t = Dom.create(e.target);\n\n            let { fontSize, areaVerties} = this.state; \n\n            // viewport  world   \n            const rectVerties = this.$viewport.applyVertiesInverse(areaVerties);\n            const {x, y } = vertiesToRectangle(rectVerties);\n            const {width, height} = $t.rect();\n            const text = $t.text();\n\n            if (text.length === 0) {\n                break; \n            }\n\n            const [\n                [newWidth, newHeight, newFontSize]\n            ] = this.$viewport.applyScaleVertiesInverse([\n                [width, height, fontSize]\n            ])\n\n\n            const rect = {\n                x, \n                y, \n                width: Length.px(newWidth), \n                height: Length.px(newHeight),\n                'content': text.trim(),\n                'font-size': Length.px(newFontSize),\n            }\n            \n            // artboard    parentArtBoard   \n            const parentArtBoard = this.$selection.getArtboardByPoint(rectVerties[0]);        \n\n            this.emit('newComponent', this.state.type, rect, /* isSelected */ true, parentArtBoard );\n            break;\n        }\n\n\n        this.state.dragStart = false;        \n        this.state.showRectInfo = false; \n        this.state.target = null;\n        this.bindData('$areaRect');            \n        this.trigger('hideLayerAppendView')\n    }    \n\n    [KEYUP('$el') + IF('isShow')] (e) { \n        switch(this.state.type) {\n        case \"text\":\n            const $t = Dom.create(e.target);\n            const {width, height} = $t.rect();\n\n\n            break; \n        }\n    }        \n\n    [CHANGE('$file')] (e) {\n        this.refs.$file.files.forEach(item => {\n          this.emit('updateImage', item, this.state.rect, this.state.containerItem);\n        })\n    }\n    [CHANGE('$video')] (e) {\n        this.refs.$video.files.forEach(item => {\n          this.emit('updateVideo', item, this.state.rect, this.state.containerItem);\n        })\n    }    \n\n    [SUBSCRIBE('openImage')] (rect, containerItem) {\n        this.state.rect = rect; \n        this.state.containerItem = containerItem;\n        this.refs.$file.click();\n    }\n\n    [SUBSCRIBE('openVideo')] (rect, containerItem) {\n        this.state.rect = rect; \n        this.state.containerItem = containerItem;        \n        this.refs.$video.click();\n    }        \n\n    [SUBSCRIBE('setPatternInfo')] (patternInfo) {\n        this.state.patternInfo = patternInfo;\n    }\n\n    [SUBSCRIBE('updateViewport')] () {\n        this.$snapManager.clear();       \n        this.bindData('$mousePointer')\n        this.bindData('$mousePointerView');\n    }\n} ","export default class SegmentManager {\n    constructor () {\n        this.segmentList = [] \n    }\n\n    reset () {\n        this.segmentList = []\n        return this;         \n    }\n\n\n    addLine (a, b) {\n        this.segmentList.push({\n            line: true,\n            x1: a.x,\n            y1: a.y,\n            x2: b.x,\n            y2: b.y            \n        })\n        return this;         \n    }\n\n    addGuideLine (a, b) {\n        this.segmentList.push({\n            line: true,\n            guide: true, \n            x1: a.x,\n            y1: a.y,\n            x2: b.x,\n            y2: b.y            \n        })\n        return this;         \n    }    \n\n\n    addDistanceLine (a, b) {\n        this.segmentList.push({\n            line: true,\n            distance: true, \n            x1: a.x,\n            y1: a.y,\n            x2: b.x,\n            y2: b.y            \n        })\n        return this;         \n    }        \n\n    addDistanceAngle (center, rx, ry, degree, last, line) {\n        this.segmentList.push({\n            angle: true,\n            rx, \n            ry, \n            line,\n            degree,\n            center, \n            last\n        })\n        return this;         \n    }            \n\n    addPoint(obj, point, index, segment, selected = false) {\n        this.segmentList.push({\n            ...obj,\n            cx: point.x,\n            cy: point.y,\n            selected,\n            index,\n            segment,\n            isFirst: point.isFirst,\n            isLast: point.isLast,\n            isSecond: point.isSecond\n\n        })\n\n        return this; \n    }\n\n\n    addStartPoint(obj, point) {\n        this.segmentList.push({\n            ...obj,\n            cx: point.x,\n            cy: point.y,\n            start: true \n        })\n\n        return this; \n    }    \n\n    addCurvePoint (point, index, segment, selected = false) {\n\n        this.segmentList.push({\n            curve: true, \n            cx: point.x,\n            cy: point.y,\n            index,\n            selected,\n            segment,\n            isFirst: point.isFirst,\n            isLast: point.isLast,\n            isSecond: point.isSecond\n        })     \n\n        return this; \n    }\n\n    addText (point, text) {\n        this.segmentList.push({\n            type: 'text',\n            cx: point.x,\n            cy: point.y,\n            text: text + \"\"  \n        })\n\n        return this;\n    }\n\n    toString () {\n\n        this.segmentList.sort((a, b) => {\n            if (a.line && !b.line) {\n                return -1; \n            } else if (!a.line && b.line) {\n                return 1; \n            }\n            return 0;\n        })\n\n        return this.segmentList.map(it => {\n\n            if (it.angle) {\n                return  /*html*/`\n                <path stroke-width='1' \n                    data-distance='true'\n                    fill=\"rgba(0,0,0,0.5)\"\n                    d=\"M ${it.center.x},${it.center.y} A ${it.rx} ${it.ry},${it.degree},0,0,${it.last.x} ${it.last.y} L${it.line.x} ${it.line.y} Z\"\n                />`\n            } else if (it.line) {\n                return  /*html*/`\n                <line stroke-width='1' \n                    data-segment=\"true\"\n                    data-is-last=\"${it.isLast}\"                \n                    data-guide='${it.guide}'\n                    data-distance='${it.distance}'\n                    x1='${it.x1}' x2='${it.x2}' y1='${it.y1}' y2='${it.y2}' \n                />`\n            } else if (it.text) {\n                return'';\n                // return /*html*/ `\n                // <text x=\"${it.cx}\" y=\"${it.cy}\" dx=\"5\" dy=\"-5\" text-anchor=\"start\">${it.text}</text>\n                // `                              \n            } else if (it.curve) {\n                return /*html*/`\n                <circle \n                    cx='${it.cx}' \n                    cy='${it.cy}' \n                    r='4'                     \n                    class='curve' \n                    ${it.selected && `data-selected=\"true\"`}\n                    ${it.isLast && `data-is-last=\"true\"`}\n                    ${it.isFirst && `data-is-first=\"true\"`}\n                    ${it.isSecond && `data-is-second=\"true\"`}\n                    title=\"${it.segment} curve\"  \n                    data-index='${it.index}'\n                    data-segment-point='${it.segment}'\n                    data-segment=\"true\" \n                />`\n            } else if (it.start) {\n                return /*html*/`\n                <circle \n                    cx='${it.cx}' \n                    cy='${it.cy}' \n                    r='4'                    \n                    class='segment'\n                    data-selected='${it.selected}'\n                    title=\"Center\"\n                    data-start=\"true\" \n                />`    \n            } else {\n                return /*html*/`\n                <circle \n                    cx='${it.cx}' \n                    cy='${it.cy}' \n                    r='4'                    \n                    class='segment'\n                    data-selected='${it.selected}'\n                    title=\"${it.segment}\"\n                    data-is-last=\"${it.isLast}\"\n                    data-is-first=\"${it.isFirst}\"\n                    data-is-second=\"${it.isSecond}\"\n                    data-index='${it.index}' \n                    data-segment-point='${it.segment}' \n                    data-segment=\"true\" \n                />`  \n            }\n\n        }).join('');\n    }\n\n}\n\n","import SegmentManager from \"./SegmentManager\";\nimport { getDist, getXYInCircle, calculateAngle360 } from \"el/utils/math\";\nimport Point from \"./Point\";\nimport PathStringManager from \"./PathStringManager\";\nimport { mat4, vec3 } from \"gl-matrix\";\nimport { clone } from \"el/sapa/functions/func\";\n\nconst SEGMENT_DIRECTION = ['startPoint', 'endPoint', 'reversePoint']\n\n\nfunction calculateSnapPoint (points, sourceKey, target, distanceValue, dist) {\n    var checkedPointList = points.filter(p => {\n        if (!p) return false;\n        return Math.abs(p[sourceKey] - target) <= dist \n    }).map(p => {\n        return {dist: Math.abs(p[sourceKey] - target), point: p}\n    })\n\n    //      \n    checkedPointList.sort( (a, b) => {\n        return a.dist < b.dist ? -1 : 1; \n    })\n\n    var point = null; \n\n    if (checkedPointList.length) {\n        point = checkedPointList[0].point\n        distanceValue += point[sourceKey] - target\n    }\n\n    return { point, distanceValue }; \n}\n\n\nfunction calculateMovePointSnap(points, moveXY, dist = 1) {\n    var snapPointX = calculatePointDist(points, 'x', moveXY.x, dist)\n    var snapPointY = calculatePointDist(points, 'y', moveXY.y, dist)        \n\n    var snapEndPoint = {...moveXY}\n    if (snapPointX) { snapEndPoint.x = snapPointX.x; }\n    if (snapPointY) { snapEndPoint.y = snapPointY.y;}\n\n    var snapPointList = [] \n\n    if (snapPointX) { snapPointList.push({ startPoint: snapPointX, endPoint: snapEndPoint })}\n    if (snapPointY) { snapPointList.push({ startPoint: snapPointY, endPoint: snapEndPoint})}      \n \n    return { snapPointList, moveXY: snapEndPoint }\n}    \n\n\n\nfunction calculatePointDist (points, sourceKey, target, dist) {\n    var checkedPointList = []\n    var arr = SEGMENT_DIRECTION\n    points.filter(p => p).forEach(p => {\n\n        arr.filter(key => p[key]).forEach(key => {\n            var point = p[key];\n            var tempDist = Math.abs(point[sourceKey] - target)\n            if (tempDist <= dist) {\n                checkedPointList.push({ dist: tempDist, point })\n            }\n        })\n    })\n\n    checkedPointList.sort( (a, b) => {\n        return a.dist > b.dist ? 1 : -1; \n    })\n\n    return (checkedPointList.length) ? checkedPointList[0].point : null \n}\n\n\n\nfunction toPath (points, minX, minY, scale = 1) {\n    var d = [];\n\n    for(var index = 0, len = points.length; index < len; index++) {\n        var currentIndex = index; \n        var current = points[currentIndex];                \n\n        if (!current) continue; \n\n        if (current.command === 'M') {\n            d.push({command: 'M', values: [ current.startPoint ]});             \n        } else {\n            var prevPoint = Point.getPrevPoint(points, index);                \n            if (current.curve === false) {  // 1  \n                // \n                if (prevPoint.curve === false) {\n                    d.push({command: 'L', values: [ current.startPoint ]});\n                } else {\n                    //  drag       segment   2 Curve                         \n                    d.push({command: 'Q', values: [ prevPoint.endPoint, current.startPoint]});\n                }\n            } else {\n                //       ,  segment   2 Curve \n                if (prevPoint.curve === false) { \n\n                    if (Point.isEqual(current.reversePoint, current.startPoint)) {\n                        d.push({ command: 'L', values: [current.startPoint] })\n                    } else {\n                        d.push({command: 'Q', values: [current.reversePoint, current.startPoint ]});\n                    }\n\n                } else {\n                    d.push({command: 'C', values: [ prevPoint.endPoint, current.reversePoint, current.startPoint ]});\n                }\n            }\n        }\n\n        if (current.close) {\n            d.push({command: 'Z'});\n        }\n    }\n\n    var dString = d.map(segment => {\n        return calculateRelativePosition (minX, minY, segment, scale);\n    }).join(' ')\n\n    return {\n        d: dString\n    };\n}\n\n\nfunction calculateRelativePosition (minX, minY, segment, scale = 1) {\n\n    var { command, values } = segment;\n\n    switch(command) {\n    case 'Z':\n        return 'Z';\n    default:\n        var str = values.map(v => {\n            var tx = (v.x - minX) === 0 ? 0 : (v.x - minX) / scale; \n            var ty = (v.y - minY) === 0 ? 0 : (v.y - minY) / scale; \n            return `${tx} ${ty}`\n        }).join(' ')\n\n        return `${command} ${str}`\n    }\n}\n\nfunction checkInArea (area, point) {\n\n    if (area.x2.value < point.x) { return false; }\n    if (area.y2.value < point.y) { return false; }\n    if (area.x.value > point.x) { return false; }\n    if (area.y.value > point.y) { return false; }\n\n    return true;\n}\n\n\nexport default class PathGenerator {\n\n    static generatorPathString (points, minX = 0, minY = 0, scale = 1) {\n        return toPath(points, minX, minY, scale).d;\n    }\n\n    constructor (pathEditor) {\n        \n        this.pathEditor = pathEditor;\n        this.pathStringManager = new PathStringManager();\n        this.guideLineManager = new PathStringManager();\n        this.segmentManager = new SegmentManager();\n        this.points = [];\n\n        this.initialize()\n        this.initializeSelect();\n    }\n\n    initialize () {\n        this.splitLines = [] \n        // this.points = [];\n        this.guideLineManager.reset();\n        this.segmentManager.reset();\n        this.pathStringManager.reset();\n \n    }\n\n    initializeSelect (initPointList = []) {\n        this.selectedPointKeys = {}\n        this.selectedPointList = [];    \n        \n        //     .\n        if (initPointList.length) {\n            this.select(...initPointList.map(p => {\n                return Point.getPoint(this.points, p)\n            }).filter(Boolean))\n        }\n    }\n\n    get state () {\n        return this.pathEditor.state; \n    }\n\n    get clonePoints() {\n        return [...this.points]\n    }\n\n    get length () {\n        return this.points.length;\n    }\n\n    setPoints(points = []) {\n        this.points = points;\n\n        this.snapPointList = [];\n    }\n\n    selectInBox (box, isToggle = false) {\n        var list = [] \n        \n        this.points.forEach((point, index) => {\n\n            SEGMENT_DIRECTION.forEach(key => {\n                const p = point[key]\n                if (checkInArea(box, p)) {\n                    list.push({ x: p.x, y: p.y,  key, index})\n                }\n            })\n\n        })\n\n        // toggle        .\n        if (isToggle) {\n\n            //   ,    \n            list = list.map(it => {\n                const selectedKey = this.makeSegmentKey(it)\n                return {...it, included: Boolean(this.selectedPointKeys[selectedKey])}\n            })\n\n            // included list               \n            const includedList = list.filter(it => it.included)\n\n            // not included list              \n            const notIncludedList = list.filter(it => !it.included)\n\n            let uniqueList = [...this.selectedPointList]\n\n            //   \n            if (includedList.length) {\n                uniqueList = this.selectedPointList.filter(it => {\n                    const oldKey = this.makeSegmentKey(it)\n\n                    return Boolean(\n                        includedList.find(includeNode => {\n                            return oldKey === this.makeSegmentKey(includeNode)\n                        })\n                    ) === false\n                })\n    \n            }\n\n            this.select(...uniqueList, ...notIncludedList)\n\n        } else {\n            this.select(...list);\n        }\n\n\n    }\n\n    makeSegmentKey (p) {\n        return `${p.key}_${p.index}`\n    }\n\n    select (...list) {\n        this.selectedPointKeys = {}\n        this.selectedPointList = list.map(({x, y, key, index}) => ({\n            x, y, key, index: +index\n        }));\n        list.forEach(it => {\n            var key = this.makeSegmentKey(it)\n            this.selectedPointKeys[key] = true;\n        }) \n    }\n\n    /**\n     * \n     * @param {*} point \n     */\n    toggleSelect (key, index) {\n\n        if (this.points[index]) {\n            var point = this.points[index][key];\n\n            //    \n            if (point && !this.isSelectedSegment(key, index)) {\n                this.select(...this.selectedPointList, {x: point.x, y: point.y, key, index})\n            } else {\n                //     \n                this.select(...this.selectedPointList.filter(it => {\n                    return it.key !== key || it.index !== index\n                }))\n            }\n        }\n    }\n\n    selectKeyIndex (key, index) {\n        if (this.points[index]) {\n            var point = this.points[index][key];\n            if (point && !this.isSelectedSegment(key, index)) {\n                this.select({x: point.x, y: point.y, key, index})\n            } \n        }\n\n    }\n\n    reselect () {\n        this.selectedPointList.filter(Boolean).forEach(it => {\n            var point = this.points[it.index][it.key];\n            it.x = point.x;\n            it.y = point.y;\n        });\n    }\n\n    isSelectedSegment (segment, index) {\n        var key = `${segment}_${index}`\n        return this.selectedPointKeys[key]\n    }\n\n    commitTransformMatrix (point, transformMatrix) {\n        var result = vec3.transformMat4([], [point.x, point.y, 0], transformMatrix)\n\n        return {x: result[0], y: result[1] }\n    }\n\n    transformMat4 (transformMatrix) {\n\n        this.transformPoints.forEach((p, index) => {\n            var realPoint = this.points[index];\n\n            Object.assign(realPoint.startPoint, this.commitTransformMatrix(p.startPoint, transformMatrix));\n            Object.assign(realPoint.endPoint, this.commitTransformMatrix(p.endPoint, transformMatrix));\n            Object.assign(realPoint.reversePoint, this.commitTransformMatrix(p.reversePoint, transformMatrix));\n        })\n    }\n\n\n    transform (type, dx = 0, dy = 0) {\n\n        var {x, y, width, height} = this.transformRect;\n\n\n        var view = mat4.create()\n        mat4.translate(view, view, [x, y, 0]);          // 4.    . \n\n        switch(type) {\n        case 'flipX':           //      ,            \n            mat4.scale(view, view, [-1, 1, 1]);             // 3. x    \n            mat4.translate(view, view, [-width, 0, 0]);     // 2. width          \n            break; \n        case 'flipY':\n            mat4.scale(view, view, [1, -1, 1]);             // 3. y    \n            mat4.translate(view, view, [0, -height, 0]);     // 2. height          \n            break;      \n        case 'flip':\n            mat4.scale(view, view, [-1, -1, 1]);             // 3. x, y    \n            mat4.translate(view, view, [-width, -height, 0]);     // 2. width, height          \n            break;                               \n        }\n\n        mat4.translate(view, view, [-x, -y, 0]);        // 1.   \n        this.transformMat4(view);           \n    }\n\n    initTransform (rect) {\n        this.transformRect = clone(rect);\n        this.transformPoints = this.clonePoints.map(p => {\n            \n            return {\n                startPoint: clone(p.startPoint),\n                endPoint: clone(p.endPoint),\n                reversePoint: clone(p.reversePoint)\n            }\n        });   \n    }\n\n    setConnectedPoint (dx, dy) {\n        var state = this.state\n        var x = state.dragXY.x + dx // / editor.scale;\n        var y = state.dragXY.y + dy //  / editor.scale;\n\n        var endPoint = {x, y}\n        var reversePoint = {x, y}\n\n        if (state.dragPoints) {\n            state.reversePoint = Point.getReversePoint(state.startPoint, endPoint);\n        }\n\n        var point = {\n            startPoint: state.startPoint,\n            endPoint: endPoint,\n            curve: !!state.dragPoints,\n            reversePoint: reversePoint,\n            connected: true, \n            close: true \n        }   \n\n        this.points.push(point);\n    }\n\n    setLastPoint (startPoint) {\n        var state = this.state\n\n        var endPoint = clone(startPoint)\n        var reversePoint = clone(startPoint)\n\n        var point = {\n            startPoint: startPoint,\n            endPoint: endPoint,\n            curve: false,\n            reversePoint: reversePoint,\n            connected: false, \n            close: false \n        }   \n\n        this.points.push(point);\n    }\n\n    getPrevPoint(index) {\n        return Point.getPrevPoint(this.points, index)\n    }\n\n    getIndexPoint(index) {\n        return Point.getIndexPoint(this.points, index)\n    }\n\n    getNextPoint(index) {\n        return Point.getNextPoint(this.points, index)\n    }\n\n    getConnectedPointList(index) {\n        return Point.getConnectedPointList(this.points, index)\n    }\n\n    isFirst(segment) {\n        return Point.isFirst(segment);\n    }\n\n    getLastPoint(index) {\n        return Point.getLastPoint(this.points, index)\n    }\n\n    /**\n     *  segment     snap    . \n     * \n     * @param {number} index \n     * @param {string} segmentKey \n     * @param {vec3[]} verties \n     */\n    setCachePoint (index, segmentKey, verties = []) {\n\n        var state = this.state; \n\n        this.snapPointList = []     //     snap line   \n        this.selectedIndex = index; \n        state.connectedPoint =  this.getPrevPoint(index)\n        state.connectedPointList = clone(Point.getConnectedPointList(this.points, this.selectedIndex))\n\n        if (state.connectedPoint && !state.connectedPoint.connected) {\n            state.connectedPoint = null; \n        }\n\n        state.segment = this.getIndexPoint(index)\n\n        //    ,     . \n        if (state.segment.connected) {  \n            state.connectedPoint = this.getNextPoint(index);\n        }\n\n        var isFirstSegment = this.isFirst(state.segment)\n\n        if (isFirstSegment) {\n            var lastPoint = this.getLastPoint(index);\n\n            if (lastPoint.connected) {\n                state.connectedPoint = lastPoint;\n            }\n        }\n\n        state.segmentKey = segmentKey\n        state.isCurveSegment = state.segment.curve && state.segmentKey != 'startPoint'\n        state.originalSegment = clone(state.segment);\n\n        if (state.connectedPoint) {\n            state.originalConnectedPoint = clone(state.connectedPoint);\n        }\n\n        state.cachedPoints = [] \n        this.points.filter(p => p && p != state.segment).forEach(p => {\n            state.cachedPoints.push(p.startPoint, p.reversePoint, p.endPoint)\n        })\n\n\n\n        // state.cachedPoints.push.apply(state.cachedPoints, verties.map(it => {\n        //     const [x, y, z] = it; \n        //     return {x, y, z}\n        // }))\n\n    }\n\n    moveSegment (segmentKey, dx, dy, originSegment = undefined) {\n\n        if (originSegment) {\n            const segment = this.points[originSegment.index][segmentKey]\n            segment.x = originSegment[segmentKey].x + dx;\n            segment.y = originSegment[segmentKey].y + dy;\n        } else {\n            var state = this.state; \n            var originPoint = state.originalSegment[segmentKey]\n            var targetPoint = state.segment[segmentKey]\n    \n            if (originPoint) {\n                targetPoint.x = originPoint.x + dx;\n                targetPoint.y = originPoint.y + dy;     \n            }            \n        }\n\n    }\n\n    calculateToCurve (point, nextPoint, prevPoint) {\n\n        var centerX = (nextPoint.startPoint.x + prevPoint.startPoint.x) /2;\n        var centerY = (nextPoint.startPoint.y + prevPoint.startPoint.y) /2;\n\n        var dx = (nextPoint.startPoint.x - centerX)/2\n        var dy = (nextPoint.startPoint.y - centerY)/2\n\n        point.endPoint = {\n            x: point.startPoint.x + dx,\n            y: point.startPoint.y + dy\n        }\n\n        point.reversePoint = {\n            x: point.startPoint.x - dx,\n            y: point.startPoint.y - dy\n        }\n\n        return {dx, dy}\n    }\n\n    convertToCurve (index) {\n\n        var point = this.points[index];\n\n        if (point.curve) {\n            // curve   \n            point.curve = false; \n            point.reversePoint = clone(point.startPoint);\n            point.endPoint = clone(point.startPoint);\n\n            if (point.command === 'M') {\n                var lastPoint = Point.getPrevPoint(points, point.index)\n\n                if (lastPoint.connected) {\n                    lastPoint.curve = false; \n                    lastPoint.reversePoint = clone(lastPoint.startPoint);\n                    lastPoint.endPoint = clone(lastPoint.startPoint);\n                }\n            } else {\n\n                var nextPoint = this.getNextPoint(index);\n\n                if (nextPoint && nextPoint.command === 'M') {\n                    //    \n                    var firstPoint = nextPoint;\n    \n                    firstPoint.curve = false; \n                    firstPoint.reversePoint = clone(firstPoint.startPoint);\n                    firstPoint.endPoint = clone(firstPoint.startPoint);                \n                }\n            }\n\n\n\n        } else {\n            point.curve = true; \n\n            var prevPoint = this.getPrevPoint(index);\n            var nextPoint = this.getNextPoint(index);\n\n            if (nextPoint && nextPoint.index < index && nextPoint.command === 'M') {  \n                //      connected   \n                // firstPoint  . \n\n                var firstPoint = nextPoint;\n\n                nextPoint = this.getNextPoint(firstPoint.index);\n\n                this.calculateToCurve(point, nextPoint, prevPoint)\n\n                //    \n                firstPoint.curve = true; \n                firstPoint.endPoint = clone(point.endPoint)\n                firstPoint.reversePoint = clone(point.reversePoint)\n\n            } else if (nextPoint && nextPoint.index > index && nextPoint.command !== 'M') {\n\n                this.calculateToCurve(point, nextPoint, prevPoint)\n            } else if (!nextPoint && prevPoint) {\n\n                //       \n                var centerX = (point.startPoint.x - prevPoint.startPoint.x)/3;\n                var centerY = (point.startPoint.y - prevPoint.startPoint.y)/3;\n\n                point.endPoint = { x : point.startPoint.x + centerX, y: point.startPoint.y + centerY  } \n                point.reversePoint = Point.getReversePoint(point.startPoint, point.endPoint)\n            } else if (!prevPoint && nextPoint) {\n                var centerX = (point.startPoint.x - nextPoint.startPoint.x)/3;\n                var centerY = (point.startPoint.y - nextPoint.startPoint.y)/3;\n\n                point.endPoint = { x : point.startPoint.x + centerX, y: point.startPoint.y + centerY  } \n                point.reverse = Point.getReversePoint(point.startPoint, point.endPoint)\n            }            \n\n        }\n    }\n\n\n    moveCurveSegment(segmentKey, dx, dy) {\n        var state = this.state; \n        this.moveSegment(segmentKey, dx, dy);\n\n        var targetSegmentKey = segmentKey === 'endPoint' ? 'reversePoint' : 'endPoint'\n\n        state.segment[targetSegmentKey] = Point.getReversePoint(state.segment.startPoint, state.segment[segmentKey]);\n    }\n\n    rotateSegmentTarget (segmentKey, target) {\n        var state = this.state; \n        if (state.originalSegment && state.segment) {\n            var {x: cx, y: cy} = state.originalSegment.startPoint;\n            var {x: rx, y: ry} = state.segment[segmentKey];\n            var {x: tx, y: ty} = state.originalSegment[target]\n    \n            var {x, y} = getXYInCircle(\n                calculateAngle360(rx - cx, ry - cy), \n                getDist(tx, ty, cx, cy), \n                cx, \n                cy\n            );                 \n    \n            state.segment[target] = {x, y}\n        }\n\n    }\n\n    rotateSegment (segmentKey) {\n        this.rotateSegmentTarget(segmentKey, segmentKey === 'endPoint' ? 'reversePoint' : 'endPoint');\n    }\n\n    calculateSnap( segmentKey, dx, dy, dist = 1) {\n        var state = this.state; \n        var cachedPoints = state.cachedPoints\n\n        var original = state.originalSegment[segmentKey]\n\n        if (!segmentKey) {\n            return { dx, dy, snapPointList: []}\n        }\n\n        var realX = original.x + dx;\n        var realY = original.y + dy;\n\n        var {point: snapPointX, distanceValue: dx } = calculateSnapPoint(cachedPoints, 'x', realX, dx, dist);\n        var {point: snapPointY, distanceValue: dy } = calculateSnapPoint(cachedPoints, 'y', realY, dy, dist);\n\n        var snapEndPoint = {\n            x : original.x + dx,\n            y : original.y + dy\n        }\n\n        var snapPointList = [] \n        if (snapPointX) { snapPointList.push({ startPoint: snapPointX, endPoint: snapEndPoint })}\n        if (snapPointY) { snapPointList.push({ startPoint: snapPointY, endPoint: snapEndPoint }) }        \n     \n        return { dx, dy, snapPointList }\n    }\n\n    copySegment(from, to) {\n        to.startPoint =  clone(from.startPoint)\n        to.endPoint =  clone(from.endPoint)\n        to.reversePoint =  clone(from.reversePoint)\n    }\n\n    get selectedLength () {\n        return this.selectedPointList.length;\n    }\n\n    moveSelectedSegment (dx, dy) {\n\n        //     \n        // curve   endPoint reversePoint     ? \n        this.selectedPointList.forEach(it => {\n            var target = this.points[it.index][it.key]\n            target.x = it.x + dx; \n            target.y = it.y + dy; \n        })\n    }\n\n    /**\n     * group list  \n     * \n     * @returns {{point: any, index : number, groupIndex: number}}\n     */\n    get groupList() {\n        const groupList = [];\n        let groupIndex = 0;\n        this.points.forEach((point, index) => {\n            if (point.command === \"M\") {\n                groupList.push({point, index, groupIndex: groupIndex++ })\n            }\n        })\n\n        return groupList;\n    }\n\n    getGroup (groupList, pointIndex) {\n        const list = groupList.filter(group => group.point.index <= pointIndex);\n\n        return list.pop();\n    }\n\n    /** \n     *  segment  group index list  \n     * \n     * @returns {number[]}\n     */\n    get selectedGroupIndexList() {\n        const groupIndexList = new Set();\n        const groupList = this.groupList;\n\n\n        if (this.selectedPointList.length === 0) {\n            return groupList.map(group => group.groupIndex);\n        }\n\n        const points = this.selectedPointList;\n\n        points.forEach(it => {\n\n            const group = this.getGroup(groupList, it.index);\n\n            if (group) {\n                groupIndexList.add(group.groupIndex);\n            }\n\n        })\n\n        return [...groupIndexList];\n    }\n\n    removeSelectedSegment () {\n\n        //     \n        // curve   endPoint reversePoint     ? \n        this.selectedPointList.forEach(it => {\n            var target = this.points[it.index][it.key]\n            target.removed = true; \n        })\n\n        const pointGroup = Point.splitPoints(this.points)\n\n        // console.log(pointGroup)\n\n        const newPoints = Point.recoverPoints(pointGroup.map(points => {\n            return points.filter(p => !p.startPoint.removed).map(p => {\n\n                if (p.endPoint.removed) { p.endPoint = clone(p.startPoint)} \n                if (p.reversePoint.removed) { p.reversePoint = clone(p.startPoint)}\n\n                if (Point.isEqual(p.endPoint, p.startPoint, p.reversePoint)) {\n                    p.command = 'L';\n                    p.curve = false; \n                }\n\n                return p\n            })\n        }))\n\n        // console.log(Point.splitPoints(newPoints));\n\n        this.points = newPoints;\n// \n        this.select();\n    }    \n\n    move (dx, dy, e) {\n        var state = this.state;\n        var { isCurveSegment, segmentKey, connectedPoint} = state \n\n        var { dx, dy, snapPointList} = this.calculateSnap(segmentKey, dx, dy, 3);\n    \n        this.snapPointList = snapPointList || []\n\n        if (this.selectedPointList.length > 1) {\n            //     \n            this.moveSelectedSegment(dx, dy);\n        } else if (isCurveSegment) {\n            if (e.shiftKey) {   \n                //    curve  \n                this.moveSegment(segmentKey, dx, dy);\n            } else if (e.altKey) {  \n                this.moveSegment(segmentKey, dx, dy);\n                \n                //  rotate  \n                this.rotateSegment(segmentKey);                \n            } else {    // Curve   \n                //  segment   \n                this.moveSegment(segmentKey, dx, dy);\n                var targetSegmentKey = segmentKey === 'endPoint' ? 'reversePoint' : 'endPoint'\n                state.segment[targetSegmentKey] = Point.getReversePoint(state.segment.startPoint, state.segment[segmentKey]);                \n            }\n        } else {\n            this.moveSegment('startPoint', dx, dy);\n            this.moveSegment('endPoint', dx, dy);\n            this.moveSegment('reversePoint', dx, dy);\n\n            // altKey         . \n            if (!e.altKey) {\n                // move     \n                state.connectedPointList.forEach(it => {\n                    this.moveSegment('startPoint', dx, dy, it);\n                    this.moveSegment('endPoint', dx, dy, it);\n                    this.moveSegment('reversePoint', dx, dy, it);\n                });\n            }\n\n\n        }\n        connectedPoint && this.copySegment(state.segment, state.connectedPoint)\n    }\n\n    moveEnd (dx, dy) {\n        var state = this.state; \n        var points = this.points;\n        var x = state.dragXY.x + dx // / editor.scale;\n        var y = state.dragXY.y + dy //  / editor.scale;\n        \n        var endPoint = {x, y}\n        var reversePoint = {x, y}\n\n        if (state.dragPoints) { // drag    \n            reversePoint = Point.getReversePoint(state.startPoint, endPoint);\n        }\n\n        points.push({\n            command: state.clickCount === 0 ? 'M' : '',\n            startPoint: state.startPoint,\n            endPoint: endPoint,\n            curve: !!state.dragPoints,\n            reversePoint: reversePoint\n        })\n\n        state.startPoint = null\n        state.dragPoints = false;\n        state.moveXY = null;\n    }\n\n    setPoint (obj) {\n\n        var p0 = obj.first[0] \n        var p1 = obj.second[obj.second.length-1]\n\n        var allPoints = this.clonePoints\n\n        var firstItem = Point.getPoint(allPoints, p0)\n        var secondItem = Point.getPoint(allPoints, p1)        \n\n        var newPoints = [\n            {...firstItem, endPoint: obj.first[1]},\n            {startPoint: obj.first[3], reversePoint: obj.first[2], curve: true , endPoint: obj.second[1]},\n            {...secondItem, reversePoint: obj.second[2]}\n        ]\n\n        var firstIndex = Point.getIndex(allPoints, p0);         \n\n        allPoints.splice(firstIndex, 2, ...newPoints);\n\n        this.points = allPoints;\n        \n        return firstIndex + 1; \n    }\n\n    setPointQuard (obj) {\n\n        var p0 = obj.first[0] \n        var p1 = obj.second[obj.second.length-1]\n\n        var allPoints = this.clonePoints\n\n        var firstItem = Point.getPoint(allPoints, p0)\n        var secondItem = Point.getPoint(allPoints, p1)\n\n        // console.log(firstItem, secondItem);\n\n        // var fx = firstItem.startPoint.x + (firstItem.endPoint.x - firstItem.startPoint.x) / 3 \n        // var fy = firstItem.startPoint.y + (firstItem.endPoint.y - firstItem.startPoint.y) / 3 \n\n        if (firstItem.curve && secondItem.curve === false) {\n\n            var newPoints = [\n                { ...firstItem, endPoint: firstItem.startPoint },\n                {startPoint: obj.first[2], reversePoint: obj.first[1], curve: true , endPoint: obj.second[1] },\n            ]\n\n            var firstIndex = Point.getIndex(allPoints, p0); \n\n            allPoints.splice(firstIndex, 1, ...newPoints);\n    \n    \n        } else {\n            var newPoints = [\n                { ...firstItem},\n                {startPoint: obj.first[2], reversePoint: obj.first[1], curve: true , endPoint: obj.second[1] },\n                { ...secondItem, reversePoint: obj.second[1], curve: true },                \n            ]\n\n            var firstIndex = Point.getIndex(allPoints, p0); \n\n            allPoints.splice(firstIndex, 2, ...newPoints);\n        }\n\n        this.points = allPoints;\n\n        return firstIndex + 1;         \n\n    }\n\n\n    setPointLine (obj) {\n\n        var p0 = obj.first[0] \n\n        var allPoints = this.clonePoints\n\n        var newPoints = [\n            {command: 'L', startPoint: obj.first[1], curve: false , endPoint: obj.first[1], reversePoint: obj.first[1]},\n        ]\n\n        var firstIndex = Point.getIndex(allPoints, p0); \n\n        allPoints.splice(firstIndex+1, 0, ...newPoints);\n\n        this.points = allPoints;\n\n        return firstIndex + 1; \n\n    }\n\n    toPath (minX = 0, minY = 0, scale = 1) {\n        return toPath(this.clonePoints, minX, minY, scale)\n    }\n\n    makeSVGPath() {\n\n        this.initialize();\n\n        this.makePointGuide(this.clonePoints)\n\n        this.makeMovePositionGuide();\n\n        return this.toSVGString()\n    }\n\n    makeTriangleDistancePointGuide (first, second) {\n\n        var minX = Math.min(first.startPoint.x, second.startPoint.x);\n        var maxX = Math.max(first.startPoint.x, second.startPoint.x);\n\n        var minY = Math.min(first.startPoint.y, second.startPoint.y);\n        var maxY = Math.max(first.startPoint.y, second.startPoint.y);\n\n        // right bottom \n        if (first.startPoint.x < second.startPoint.x && first.startPoint.y < second.startPoint.y) {\n            this.segmentManager\n            .addDistanceLine({x: minX, y: minY}, {x: maxX, y : minY} )\n            .addDistanceLine({x: maxX, y: minY}, {x: maxX, y : maxY} )            \n\n\n            var centerX = minX\n            var centerY = minY \n            var angle = calculateAngle360(maxX-minX, maxY-minY) - 180\n            var dist = 20;            \n            var {x, y} = getXYInCircle(\n                0, \n                dist, \n                centerX, \n                centerY\n            );                 \n            var {x: tx, y: ty} = getXYInCircle(\n                angle/2, \n                dist, \n                centerX, \n                centerY\n            );     \n            \n            var last = getXYInCircle(\n                angle, \n                dist, \n                centerX, \n                centerY\n            );                 \n\n            this.segmentManager\n                .addDistanceAngle(last, dist, dist, angle, {x, y}, {x: x-dist, y})\n                // .addText({x: tx-5, y: ty+15}, angle)\n        } else if (first.startPoint.x < second.startPoint.x && first.startPoint.y > second.startPoint.y) {\n            // right top  \n            this.segmentManager\n            .addDistanceLine({x: minX, y: maxY}, {x: maxX, y : maxY} )\n            .addDistanceLine({x: maxX, y: minY}, {x: maxX, y : maxY} )            \n        } else if (first.startPoint.x > second.startPoint.x && first.startPoint.y > second.startPoint.y) {\n            // left top \n            this.segmentManager\n            .addDistanceLine({x: minX, y: minY}, {x: minX, y : maxY} )\n            .addDistanceLine({x: minX, y: maxY}, {x: maxX, y : maxY} )\n        } else if (first.startPoint.x > second.startPoint.x && first.startPoint.y < second.startPoint.y) {\n            // left bottom \n            this.segmentManager\n            .addDistanceLine({x: minX, y: maxY}, {x: maxX, y : maxY} )\n            .addDistanceLine({x: maxX, y: minY}, {x: maxX, y : maxY} )            \n        }\n\n    }\n\n    makeDistancePointGuide (prevPoint, current, nextPoint, index) {\n\n        if (current.selected) {\n\n            if (prevPoint) {\n                this.makeTriangleDistancePointGuide(prevPoint, current);\n            }\n\n            if (nextPoint) {\n                this.makeTriangleDistancePointGuide(current, nextPoint);\n            }\n\n        }\n    }\n\n    makeStartPointGuide (prevPoint, current, nextPoint, index) {\n        current.startPoint.isFirst = true; \n\n        this.pathStringManager.M(current.startPoint)        \n\n        if (current.curve === false) {\n            this.segmentManager\n                .addPoint({}, current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n\n            // if (!current.startPoint.isLast) {\n            //     this.segmentManager.addText(current.startPoint, index+1);\n            // }\n\n\n        } else {      \n            this.segmentManager\n                .addPoint({}, current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n                .addGuideLine(current.startPoint, current.endPoint)\n\n\n            if (Point.isEqual(current.startPoint, current.endPoint) === false) {\n                this.segmentManager.addCurvePoint(current.endPoint, index, 'endPoint', this.isSelectedSegment('endPoint', index))\n            }\n\n        }\n\n\n    }\n\n    makeMiddlePointGuideSegment (prevPoint, current, nextPoint, index) {\n        var mng = this.segmentManager;\n        if (current.curve === false) { \n            // \n            if (prevPoint.curve === false) {\n                mng.addPoint({}, current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))   \n\n                if (!current.startPoint.isLast) {\n                    mng.addText(current.startPoint, index+1);\n                }\n            } else {\n\n                mng\n                .addGuideLine(prevPoint.startPoint, prevPoint.endPoint)\n                .addCurvePoint(current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n\n\n                if (Point.isEqual(prevPoint.startPoint, prevPoint.endPoint) === false) {\n                    mng.addCurvePoint(prevPoint.endPoint, prevPoint.index, 'endPoint', this.isSelectedSegment('endPoint', prevPoint.index));\n                }\n\n                if (!current.startPoint.isLast) {\n                    mng.addText(current.startPoint, index+1);\n                }\n        \n            }\n\n\n        } else {    //  curve   \n            if (prevPoint.curve === false) { \n\n                if (Point.isEqual(current.reversePoint, current.startPoint)) {\n                    mng.addPoint({},current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n\n                    if (!current.startPoint.isLast) {\n                        mng.addText(current.startPoint, index+1);\n                    }                                       \n                } else {\n                    mng\n                    .addGuideLine(current.startPoint, current.reversePoint)\n                    .addCurvePoint(current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n\n                    if (Point.isEqual(current.startPoint, current.reversePoint) === false) {\n                        mng.addCurvePoint(current.reversePoint, index, 'reversePoint', this.isSelectedSegment('reversePoint', index));     \n                    }\n\n                    if (!current.startPoint.isLast) {\n                        mng.addText(current.startPoint, index+1);\n                    }\n                }\n\n\n            } else {\n\n                if (current.connected) {\n                    mng\n                    .addGuideLine(prevPoint.startPoint, prevPoint.endPoint)\n                    .addGuideLine(current.startPoint, current.reversePoint)\n\n                    if (Point.isEqual(prevPoint.startPoint, prevPoint.endPoint) === false) {\n                        mng.addCurvePoint(prevPoint.endPoint, prevPoint.index, 'endPoint', this.isSelectedSegment('endPoint', prevPoint.index))\n                    }\n\n                    if (Point.isEqual(current.startPoint, current.reversePoint) === false) {\n                        mng.addCurvePoint(current.reversePoint, index, 'reversePoint', this.isSelectedSegment('reversePoint', index));\n                    }\n                } else {\n                    mng\n                    .addGuideLine(prevPoint.startPoint, prevPoint.endPoint)\n                    .addGuideLine(current.startPoint, current.reversePoint)\n                    .addCurvePoint(current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n\n                    if (Point.isEqual(prevPoint.startPoint, prevPoint.endPoint) === false) {\n                        mng.addCurvePoint(prevPoint.endPoint, prevPoint.index, 'endPoint', this.isSelectedSegment('endPoint', prevPoint.index))                        \n                    }\n\n                    if (Point.isEqual(current.startPoint, current.reversePoint) === false) {\n                        mng.addCurvePoint(current.reversePoint, index, 'reversePoint', this.isSelectedSegment('reversePoint', index));\n                    }\n\n                    if (!current.startPoint.isLast) {\n                        mng.addText(current.startPoint, index+1);\n                    }                        \n\n                }\n            }\n        }\n    }\n\n    makeMiddlePointGuideRealPath (prevPoint, current, nextPoint, index) {\n        var mng = this.pathStringManager;\n        if (current.curve === false) { \n            // \n            if (prevPoint.curve === false) {\n                mng.L(current.startPoint)\n            } else {\n                mng.Q(prevPoint.endPoint, current.startPoint)        \n            }\n        } else {    //  curve   \n            if (prevPoint.curve === false) { \n                if (Point.isEqual(current.reversePoint, current.startPoint)) {\n                    mng.L( current.startPoint);\n                } else {\n                    mng.Q( current.reversePoint, current.startPoint);\n                }\n            } else {\n                mng.C(prevPoint.endPoint, current.reversePoint, current.startPoint)\n            }\n        }\n    }\n\n\n    makeMiddlePointGuideSplitLine (prevPoint, current, nextPoint, index) {\n\n        if (current.curve === false) { \n            // \n            if (prevPoint.curve === false) {\n                this.splitLines.push(\n                    new PathStringManager()\n                        .M(prevPoint.startPoint)\n                        .L(current.startPoint)\n                        .toString('split-path')\n                )\n            } else {\n                this.splitLines.push(\n                    new PathStringManager()\n                        .M(prevPoint.startPoint)\n                        .Q(prevPoint.endPoint, current.startPoint)\n                        .toString('split-path')\n                )        \n            }\n        } else {    //  curve   \n            if (prevPoint.curve === false) { \n\n                if (Point.isEqual(current.reversePoint, current.startPoint)) {\n                    this.splitLines.push(\n                        new PathStringManager()\n                            .M(prevPoint.startPoint)\n                            .L(current.startPoint)\n                            .toString('split-path')\n                    )                    \n                } else {\n                    this.splitLines.push(\n                        new PathStringManager()\n                            .M(prevPoint.startPoint)\n                            .Q(current.reversePoint, current.startPoint)\n                            .toString('split-path')\n                    )          \n                }\n\n\n            } else {\n                this.splitLines.push(\n                    new PathStringManager()\n                        .M(prevPoint.startPoint)\n                        .C(prevPoint.endPoint, current.reversePoint, current.startPoint)\n                        .toString('split-path')\n                )\n            }\n        }\n    }\n\n    makePointGuide (points) {\n        for(var index = 0, len = points.length; index < len; index++) {\n            var currentIndex = index; \n            var current = points[currentIndex];\n\n            if (!current) continue; \n\n            var nextPoint = Point.getNextPoint(points, index);\n            var prevPoint = Point.getPrevPoint(points, index);\n\n            if (prevPoint && prevPoint.command === 'M') {\n                if (current.startPoint) {\n                    current.startPoint.isSecond = true; \n                }\n\n            }\n            if (current.startPoint) {\n                if (nextPoint ) {\n                    current.startPoint.isLast = nextPoint.command === 'M';                 \n                } else {\n                    current.startPoint.isLast = index === len - 1; \n                }\n    \n            }\n\n            current.selected = this.selectedIndex === index;\n\n            //   . \n            //   . \n            // this.makeDistancePointGuide(prevPoint, current, nextPoint, index);\n\n            if (current.command === 'M') {\n                this.makeStartPointGuide(prevPoint, current, nextPoint, index);\n            } else {\n                this.makeMiddlePointGuideRealPath(prevPoint, current, nextPoint, index);\n                this.makeMiddlePointGuideSplitLine(prevPoint, current, nextPoint, index);\n                this.makeMiddlePointGuideSegment(prevPoint, current, nextPoint, index);\n            }\n\n            if (current.close) {\n                this.pathStringManager.Z();\n            }\n\n        }\n\n    }\n\n    makeMovePositionGuide () {\n        var state = this.state; \n        var {startPoint, moveXY, dragPoints, altKey, snapPointList} = state;\n        var points = this.points;\n        if (moveXY) {\n\n            /* moveXY  snap  . */ \n            snapPointList = snapPointList || [] \n\n            var { \n                snapPointList: movePointSnapPointList, \n                moveXY: newMoveXY \n            } = calculateMovePointSnap(points, moveXY, 3); \n            snapPointList.push.apply(snapPointList, movePointSnapPointList);\n\n            state.moveXY = newMoveXY;\n            moveXY = newMoveXY\n            this.snapPointList = snapPointList;\n\n            var prev = points[points.length - 1];\n\n            if (dragPoints) {\n\n                if (!prev) {\n                    var {x, y} = Point.getReversePoint(startPoint, moveXY);\n                    this.guideLineManager\n                        .M(moveXY)\n                        .L(startPoint)\n                        .L( {x,y} )\n\n                    this.segmentManager\n                        .addCurvePoint(startPoint)\n                        .addCurvePoint(moveXY)\n                        .addCurvePoint({x, y})\n\n                } else if (prev.curve) {\n                    //    C   \n                    var {x, y} = Point.getReversePoint(startPoint, moveXY);                    \n\n                    this.guideLineManager\n                        .M(prev.startPoint)\n                        .C(prev.endPoint, {x,y}, startPoint);\n\n                    this.segmentManager\n                        .addGuideLine(prev.startPoint, prev.endPoint)\n                        .addGuideLine(startPoint, {x, y})\n                        .addGuideLine(startPoint, moveXY)\n                        .addCurvePoint(prev.endPoint)                    \n                        .addCurvePoint({x, y})\n                        .addCurvePoint(moveXY)\n                        .addPoint(false, startPoint);\n\n                } else if (prev.curve === false ) {\n                    //    Q   \n                    //       start       \n                    var {x, y} = Point.getReversePoint(startPoint, moveXY);\n\n                    this.guideLineManager\n                        .M(prev.startPoint)\n                        .Q({x, y},startPoint);\n\n                    this.segmentManager\n                        .addGuideLine(moveXY, {x, y})\n                        .addPoint(false, startPoint)\n                        .addCurvePoint({x, y})\n                        .addCurvePoint(moveXY);\n                } \n\n            } else {\n\n                if (!prev) {\n\n                } else if (prev.curve) {\n                    //    point    Q  \n                    this.guideLineManager\n                        .M(prev.startPoint)\n                        .Q(prev.endPoint, moveXY);\n\n                    this.segmentManager\n                        .addGuideLine(prev.endPoint, prev.startPoint)\n                        .addCurvePoint(prev.endPoint);\n                } else {\n                    //       \n                    if (!prev.close) {\n                        this.guideLineManager.M(prev.startPoint).L(moveXY);\n\n                        this.segmentManager.addPoint(false, prev.startPoint);\n                    }\n                }\n            }\n\n        }\n    }\n\n    makeSnapLines () {\n\n        var snapLines = [] \n        // snapPoint  . \n        if (this.snapPointList) {\n            var snapPath = new PathStringManager()\n            snapLines = this.snapPointList.map(snapPoint => {\n                snapPath.reset();                \n                return snapPath\n                        .M(snapPoint.startPoint)\n                        .L(snapPoint.endPoint)\n                        .X(snapPoint.startPoint)\n                        .toString('snap-path');\n            })\n        }\n\n        return snapLines.join('');\n    }\n\n    toSVGString () {\n        return /*html*/`\n        <svg width=\"100%\" height=\"100%\" class='svg-editor-canvas'>\n            ${this.guideLineManager.toString('guide')}\n            ${this.pathStringManager.toString('object')}\n            ${this.splitLines.join('')}\n            ${this.makeSnapLines()}\n            ${this.segmentManager.toString()}\n        </svg>\n        `\n    }\n\n}","import { Gradient } from \"./Gradient\";\n\nexport class SVGGradient extends Gradient {\n  toString() {  //    ,   css gradient   \n    return ''\n  }\n\n  toSVGString (id) {    //  def    \n    return ''\n  }\n\n  toFillValue (id) {    //   fill, stroke       \n    return '' \n  }\n}\n","import { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { ColorStep } from \"./ColorStep\";\nimport { SVGGradient } from \"./SVGGradient\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport class SVGLinearGradient extends SVGGradient {\n  getDefaultObject(obj) {\n    return super.getDefaultObject({\n      type: \"linear-gradient\",\n      x1: '0%',\n      y1: '0%',\n      x2: '100%',      \n      y2: '0%',\n      spreadMethod: 'pad',\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('x1', 'y1', 'x2', 'y2', 'spreadMethod')\n    }\n  }\n\n  toString() {\n\n    // linear-gradient(x1 y1 x2 y2 spreadMethod, ....colors)\n\n    if(this.colorsteps.length === 0) return '';    \n\n    var colorString = this.getColorString();\n\n    var {x1, y1, x2, y2, spreadMethod} = this.json;\n    var opt = [x1, y1, x2, y2, spreadMethod].join(' ');\n\n    var result = `${this.json.type}(${opt}, ${colorString})`;\n\n    return result;\n  }\n\n  toSVGString(id) {\n      var {x1, y1, x2, y2, spreadMethod} = this.json;    \n\n      return /*html*/`\n        <linearGradient \n            id=\"${id}\"\n            x1=\"${x1}\"\n            x2=\"${x2}\"\n            y1=\"${y1}\"\n            y2=\"${y2}\"\n            spreadMethod=\"${spreadMethod}\"\n          >\n          ${this.colorsteps.map(it => {\n            return /*html*/`<stop offset=\"${it.percent}%\"  stop-color=\"${it.color}\" ></stop>`\n          }).join('\\n')}\n        </linearGradient>\n      `\n  }\n\n  toFillValue (id) {\n      return `url(#${id})`;\n  }  \n\n  static toLinearGradient(colorsteps) {\n    if (colorsteps.length === 0) {\n      return \"none\";\n    }\n\n    var gradient = new LinearGradient({\n      angle: \"to right\",\n      colorsteps\n    });\n\n    return gradient + \"\";\n  }\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var opt = {};\n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n\n          newValue = reverseMatches(newValue, results.matches);\n\n          colorsteps.push.apply(colorsteps, ColorStep.parse(newValue));\n        } else {\n\n          var [x1, y1, x2, y2, spreadMethod] = newValue.split(' ')\n\n          opt.x1 = Length.parse(x1);\n          opt.y1 = Length.parse(y1);\n          opt.x2 = Length.parse(x2);\n          opt.y2 = Length.parse(y2);\n          opt.spreadMethod = spreadMethod || 'pad'\n        }\n      });\n\n    return new SVGLinearGradient({ ...opt, colorsteps });\n  }\n}\n","import { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { ColorStep } from \"./ColorStep\";\nimport { SVGGradient } from \"./SVGGradient\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class SVGRadialGradient extends SVGGradient {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"radial-gradient\",\n      cx: '50%',\n      cy: '50%',\n      r: '50%',\n      fx: '50%',\n      fy: '50%',\n      fr: '0%',\n      spreadMethod: 'pad',\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('cx', 'cy', 'r', 'fx', 'fy', 'fr','spreadMethod')\n      \n    }\n  }\n\n\n  toString() {\n\n    if(this.colorsteps.length === 0) return '';    \n\n    var colorString = this.getColorString();\n\n    var {cx, cy, r, fx, fy, fr,spreadMethod} = this.json;\n    var opt = [cx, cy, r, fx, fy, fr,spreadMethod].join(' ');\n\n    var result = `${this.json.type}(${opt}, ${colorString})`;\n\n    return result;\n  }\n\n  toSVGString(id) {\n      var {cx, cy, r, fx, fy, fr,spreadMethod} = this.json;    \n      return /*html*/`\n<radialGradient ${OBJECT_TO_PROPERTY({ id, cx, cy, r, fx, fy, fr,spreadMethod })} >\n  ${this.colorsteps.map(it => {\n    return /*html*/`<stop offset=\"${it.percent}%\"  stop-color=\"${it.color}\" />`\n  }).join('\\n')}\n</radialGradient>\n`\n  }\n\n  toFillValue (id) {\n      return `url(#${id})`;\n  }  \n\n\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var opt = {} \n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n          // color \n          newValue = reverseMatches(newValue, results.matches);\n\n          colorsteps.push.apply(colorsteps, ColorStep.parse(newValue));\n        } else {\n\n          var [cx, cy, r, fx, fy, fr,spreadMethod] = newValue.split(' ');        \n\n          opt.cx = cx;\n          opt.cy = cy;\n          opt.r = r;\n          opt.fx = fx;\n          opt.fy = fy;\n          opt.fr = fr;\n          opt.spreadMethod = spreadMethod || 'pad'\n        }\n      });\n\n    return new SVGRadialGradient({ ...opt, colorsteps });\n  }\n}\n","import { ColorStep } from \"./ColorStep\";\nimport { SVGGradient } from \"./SVGGradient\";\n\nexport class SVGStaticGradient extends SVGGradient {\n    getDefaultObject() {\n        return super.getDefaultObject({  \n            type: 'static-gradient', \n            static: true, \n            colorsteps: [\n                new ColorStep({color: 'red', percent: 0, index: 0 }),\n                new ColorStep({color: 'red', percent: 100, index: 1 }),\n            ]\n        }) \n    }\n\n    toCloneObject() {\n        return {\n            ...super.toCloneObject(),\n            static: true \n        }\n    }\n\n    static create (color = 'transparent') {\n        return new SVGStaticGradient({\n            colorsteps: [\n                new ColorStep({color, percent: 0, index: 0 }),\n                new ColorStep({color, percent: 100, index: 0 }),\n            ]\n        })\n    }\n\n    setColor (color) {\n        this.colorsteps.forEach(it => {\n            it.color = color; \n        })\n    }\n\n    toString () {\n        var color = this.json.colorsteps[0].color;\n        return color\n    }\n\n    toSVGString() {\n        return '' \n    }\n\n    toFillValue () {\n        return this.toString();\n    }\n\n    isStatic () { return true; }\n}\n","import { ImageResource } from \"./ImageResource\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nconst IMAGE_LIST = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"svg\"];\n\n// refer to https://github.com/graingert/datauritoblob/blob/master/dataURItoBlob.js\n// MIT License\nfunction dataURItoBlob(dataURI) {\n  // convert base64 to raw binary data held in a string\n  // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n  var byteString = atob(dataURI.split(\",\")[1]);\n  // separate out the mime component\n  var mimeString = dataURI\n    .split(\",\")[0]\n    .split(\":\")[1]\n    .split(\";\")[0];\n  // write the bytes of the string to an ArrayBuffer\n  var ab = new ArrayBuffer(byteString.length);\n  var dw = new DataView(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    dw.setUint8(i, byteString.charCodeAt(i));\n  }\n  // write the ArrayBuffer to a blob, and you're done\n  return new Blob([ab], { type: mimeString });\n}\n\nexport class SVGImageResource extends ImageResource {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"url\",\n      url: \"\",\n      datauri: \"\",\n      patternUnits: 'userSpaceOnUse', \n      patternWidth: '100%', \n      patternHeight: '100%',\n      imageX: \"0%\",\n      imageY: '0%',\n      imageWidth: \"100%\",\n      imageHeight: '100%',\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'url',\n        'datauri',\n        'patternUnits',\n        'patternWidth',\n        'patternHeight',\n        'imageX',\n        'imageY',\n        'imageWidth',\n        'imageHeight',\n      )\n\n    }\n  }\n\n  static parse(str) {\n\n    var content = str.split('(')[1].split(')')[0]\n\n    var [url,  props] = content.trim().split('#')\n\n    if (!props) {\n      return new SVGImageResource({ url });\n    }\n\n    var [ patternUnits, patternWidth, patternHeight, imageX, imageY, imageWidth, imageHeight] = props.split(',');\n\n    return new SVGImageResource({ patternUnits, patternWidth, patternHeight, imageX, imageY, imageWidth, imageHeight, url })\n  }\n\n  isUrl() {\n    return true;\n  }\n\n  static isImageFile(fileExt) {\n    return IMAGE_LIST.includes(fileExt);\n  }\n\n\n  toString() {\n    var json = this.json;\n    var {\n      patternUnits, \n      patternWidth, \n      patternHeight,\n      imageX,\n      imageY,\n      imageWidth,\n      imageHeight,\n      url\n    } = json;       \n\n    var string = [\n      patternUnits, \n      patternWidth, \n      patternHeight,\n      imageX,\n      imageY,\n      imageWidth,\n      imageHeight\n    ].join(',').trim();\n\n    return `url(${url}#${string})`;\n  }\n\n  toSVGString(id) {\n      var {\n        patternUnits, \n        patternWidth: width, \n        patternHeight: height,\n        imageX,\n        imageY,\n        imageWidth,\n        imageHeight\n      } = this.json;    \n\n      return /*html*/`\n  <pattern ${OBJECT_TO_PROPERTY({ id, patternUnits, width, height })} >\n    <image xlink:href=\"${this.json.url}\" ${OBJECT_TO_PROPERTY({\n      x: imageX, y: imageY, width: imageWidth, height: imageHeight, preserveAspectRatio: \"none\"\n    })} />\n  </pattern>\n      `\n  }\n\n  toFillValue (id) {\n      return `url(#${id})`;\n  }    \n}\n","import { PropertyItem } from \"el/editor/items/PropertyItem\"\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { SVGLinearGradient } from \"./image-resource/SVGLinearGradient\";\nimport { SVGRadialGradient } from \"./image-resource/SVGRadialGradient\";\nimport { SVGStaticGradient } from \"./image-resource/SVGStaticGradient\";\nimport { SVGImageResource } from \"./image-resource/SVGImageResource\";\n\n\nconst reg = /((linear\\-gradient|radial\\-gradient|url)\\(([^\\)]*)\\))/gi;\n\nexport class SVGFill extends PropertyItem {\n  addImageResource(imageResource) {\n    this.clear(\"image-resource\");\n    return this.addItem(\"image-resource\", imageResource);\n  }\n\n  addGradient(gradient) {\n    return this.addImageResource(gradient);\n  }\n\n  setImageUrl(data) {\n    if (!data.images) return;\n    if (!data.images.length) return;\n    this.reset({ \n      type: \"image\", \n      image: SVGFill.createImage(data.images[0]) \n    });\n  }\n\n  static createImage(url) {\n    return new SVGLImageResource({ url });\n  }\n\n  setGradient(data) {\n    this.reset({\n      type: data.type,\n      image: SVGFill.createGradient(data, this.json.image)\n    });\n  }\n\n  static createGradient(data, gradient) {\n    const colorsteps = data.colorsteps || gradient.colorsteps;\n\n    let json = gradient.toJSON();\n    delete json.itemType;\n    delete json.type;\n\n    switch (data.type) {\n      case \"linear-gradient\":\n        return new SVGLinearGradient({ ...json, colorsteps });\n      case \"radial-gradient\":\n        return new SVGRadialGradient({ ...json, colorsteps });\n      default:\n        return new SVGStaticGradient({ ...json, colorsteps });\n    }\n  }\n\n  get image() {\n    return this.json.image;\n  }\n\n  set image(image) {\n    this.json.image = image;\n  }\n\n  static parse(obj) {\n    return new SVGFill(obj);\n  }\n\n  static parseImage (str) {\n    var results = convertMatches(str);\n    let image = null;\n\n    var matchResult = results.str.match(reg)\n\n    if (!matchResult) {\n      return SVGStaticGradient.create(str || 'transparent'); \n    }\n\n    matchResult.forEach((value, index) => {\n\n      value = reverseMatches(value, results.matches);\n      if (value.includes(\"linear\")) {\n        image = SVGLinearGradient.parse(value);\n      } else if (value.includes(\"radial\")) {\n        image = SVGRadialGradient.parse(value);\n      } else if (value.includes(\"url\")) {\n        image = SVGImageResource.parse(value);\n      } else {\n        image = SVGStaticGradient.parse(value);\n      }\n    });\n\n    return image\n  }\n\n  static changeImageType (options) {\n\n    switch  (options.type) {\n    case 'linear-gradient': \n      return new SVGLinearGradient(options);     \n    case 'radial-gradient': \n      return new SVGRadialGradient(options);\n    case 'image-resource':\n    case 'url':\n      return new SVGImageResource(options);\n    default: \n      return new SVGStaticGradient(options);\n    }\n  }\n}\n","\nimport { POINTERSTART,BIND, KEYUP, IF, ESCAPE, ENTER, PREVENT, STOP, SUBSCRIBE} from \"el/sapa/Event\";\nimport PathParser from \"el/editor/parser/PathParser\";\n\nimport { Length } from \"el/editor/unit/Length\";\nimport PathStringManager from \"el/editor/parser/PathStringManager\";\nimport PathGenerator from \"el/editor/parser/PathGenerator\";\nimport Point from \"el/editor/parser/Point\";\nimport { SVGFill } from \"el/editor/property-parser/SVGFill\";\nimport { vec3 } from \"gl-matrix\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './PathDrawView.scss';\n\nconst FIELDS = ['fill', 'fill-opacity', 'stroke', 'stroke-width', 'stroke-linecap', 'stroke-linejoin']\n\nexport default class PathDrawView extends EditorElement {\n\n    initialize() {\n        super.initialize();\n\n        this.pathParser = new PathParser();\n    }\n\n    initState() {\n        return {\n            points: [],\n            $target: null, \n            fill: 'transparent',\n            stroke: 'black',\n            'fill-opacity': null,\n            'stroke-width': 2,\n            'stroke-linecap': 'round',\n            'stroke-linejoin': 'round',\n            tolerance: 1,\n            screenX: Length.z(),\n            screenY: Length.z(),\n            screenWidth: Length.z(),\n            screenHeight: Length.z()\n        }\n    }\n\n\n    [SUBSCRIBE('changeDrawManager')] (obj) {\n        this.setState({ ...obj }, false);\n    }\n\n\n    get scale () {\n        return this.$viewport.scale; \n    }\n\n    template() {\n        return /*html*/`\n        <div class='elf--path-draw-view' tabIndex=\"-1\">\n            <div class='path-draw-container' ref='$view'></div>\n        </div>`\n    }\n\n    initRect (isForce  = false) {\n        if (!this.state.rect || isForce) {\n            this.state.rect = this.$el.rect();\n        }\n    }\n\n    [KEYUP('document') + IF('isShow') + ESCAPE + ENTER + PREVENT + STOP] () {\n        this.trigger('hidePathDrawEditor');        \n    }\n\n\n    [SUBSCRIBE(\"DrawEditorDone\")] () {\n        this.trigger('hidePathDrawEditor');        \n    }\n\n\n    get totalPathLength () {\n        if (!this.refs.$view) return 0 \n        var $obj = this.refs.$view.$('path.object');\n        if (!$obj) return 0; \n\n        return $obj.totalLength\n    }\n\n    makePathLayer (pathRect) {\n        var layer; \n        // rect      \n        const simplyPoints = Point.simply(this.state.points, this.state.tolerance)\n        const drawParser = new PathParser(PathStringManager.makePathByPoints(simplyPoints))\n        const newPath = new PathParser(PathGenerator.generatorPathString(drawParser.convertGenerator()));\n\n        newPath.transformMat4(this.$viewport.matrixInverse);\n        const bbox = newPath.getBBox();\n\n        const newWidth = vec3.distance(bbox[1], bbox[0]);\n        const newHeight = vec3.distance(bbox[3], bbox[0]);\n\n        newPath.translate(-bbox[0][0], -bbox[0][1])\n\n        const pathItem = {\n            itemType: 'svg-path',\n            x: Length.px(bbox[0][0]),\n            y: Length.px(bbox[0][1]),\n            width: Length.px(newWidth),\n            height: Length.px(newHeight),\n            d: newPath.d,\n            totalLength: this.totalPathLength\n        }\n\n        FIELDS.forEach(key => {\n            if (this.state[key]) Object.assign(pathItem, {[key]: this.state[key] })    \n        });            \n\n\n        const containerItem = this.$selection.currentProject;\n\n        layer = containerItem.appendChild(this.$editor.createModel(pathItem));        \n\n        return layer; \n    }\n\n    addPathLayer() {\n        var pathRect = this.getPathRect()\n\n        if (pathRect.width !==  0 && pathRect.height !== 0) {\n\n            var layer = this.makePathLayer(pathRect)\n            if (layer) {\n                // this.$selection.select(layer);\n                // this.trigger('hidePathDrawEditor')\n                this.emit('refreshAll')\n            }\n        }\n        \n    }\n\n    changeMode (obj) {       \n        this.setState({\n            ...this.initState(),\n            ...obj\n        }, false)    \n    }\n\n    getCurrentObject () {\n        var current = this.state.current; \n\n        if (!current) {\n            return null;\n        }\n\n        return {\n            current,\n            d: current.d,\n            screenX: current.screenX,\n            screenY: current.screenY,\n            screenWidth: current.screenWidth,\n            screenHeight: current.screenHeight,\n        }\n    }\n\n    [SUBSCRIBE('showPathDrawEditor')] (obj = {}) {\n\n        this.changeMode(obj);\n\n        this.$el.show();\n        this.$el.focus();\n\n        this.emit('showDrawManager', {\n            instance: this,\n            fill: this.state.fill,\n            stroke: this.state.stroke,\n            'fill-opacity': this.state['fill-opacity'],\n            'stroke-width': this.state['stroke-width'],\n            'stroke-linecap': this.state['stroke-linecap'],\n            'stroke-linejoin': this.state['stroke-linejoin'],            \n        });        \n\n        this.emit('hidePathEditor');\n        this.emit('push.mode.view', 'PathDrawView');\n    }\n\n    [SUBSCRIBE('initPathDrawEditor')] () {\n        this.pathParser.reset('');\n        this.refs.$view.empty()\n    }\n\n    [SUBSCRIBE('hidePathDrawEditor')] () {\n\n        if (this.$el.isShow()) {\n            this.trigger('initPathDrawEditor')\n            this.$el.hide();\n            // this.emit('finishPathEdit')\n            this.emit('hideDrawManager');\n            this.emit('pop.mode.view', 'PathDrawView');\n        }\n\n    }\n\n    [SUBSCRIBE('hideAddViewLayer')] () {   \n        this.$el.hide();\n        this.emit('hideDrawManager');        \n    }\n\n\n    getInnerId(postfix = '') {\n        return 'draw-manager-' + postfix;\n    }   \n    \n\n    get toFillSVG () {\n        return SVGFill.parseImage(this.state.fill || 'transparent').toSVGString(this.fillId);\n    }\n\n    get toStrokeSVG () {\n        return SVGFill.parseImage(this.state.stroke || 'black').toSVGString(this.strokeId);\n    }  \n\n    get toDefInnerString () {\n        return /*html*/`\n            ${this.toFillSVG}\n            ${this.toStrokeSVG}\n        `\n    }\n    \n    get toDefString () {\n\n        var str = this.toDefInnerString.trim();\n\n        // if (!str) return ''; \n\n        return /*html*/`\n            <defs>\n            ${str}\n            </defs>\n        `\n    }    \n\n    get fillId () {\n        return this.getInnerId('fill')\n    }\n    \n    get strokeId () {\n        return this.getInnerId('stroke')\n    }\n\n    get toFillValue () {\n        return  SVGFill.parseImage(this.state.fill || 'transparent').toFillValue(this.fillId);\n    }\n    \n    get toStrokeValue () {\n        return  SVGFill.parseImage(this.state.stroke || 'black').toFillValue(this.strokeId);\n    }      \n\n    [BIND('$view')] () {\n\n        return {\n            innerHTML: /*html*/`\n            <svg width=\"100%\" height=\"100%\" class='svg-editor-canvas'>\n                ${this.toDefString}\n                <path \n                    class='object' \n                    fill=\"${this.toFillValue}\"\n                    stroke=\"${this.toStrokeValue}\"\n                    fill-opacity=\"${this.state['fill-opacity']}\"\n                    stroke-width=\"${this.state['stroke-width']}\"\n                    stroke-linecap=\"${this.state['stroke-linecap']}\"\n                    stroke-linejoin=\"${this.state['stroke-linejoin']}\"\n                    d=\"${PathStringManager.makePathByPoints(this.state.points)}\" \n                />\n            </svg>\n            ` \n        }\n    }\n\n    renderPath () {\n        this.bindData('$view');\n    }\n\n    [SUBSCRIBE('resizeEditor')] () {\n        this.initRect(true);\n    }\n\n    getPathRect () {\n        this.initRect(true);\n\n        var $obj = this.refs.$view.$('path.object')\n\n        var pathRect = {x: Length.z(), y: Length.z(),  width: Length.z(), height: Length.z()}\n        if ($obj) {\n\n            pathRect = $obj.rect()\n            pathRect.x -= this.state.rect.x;\n            pathRect.y -= this.state.rect.y;\n        }\n\n        return pathRect;\n    }\n\n    [POINTERSTART('$view') + MOVE() + END()] (e) {\n        this.initRect();\n\n        this.state.altKey = false; \n\n        this.state.startXY = {\n            x: e.xy.x - this.state.rect.x, \n            y: e.xy.y - this.state.rect.y\n        }\n\n        this.state.points = [this.state.startXY]; \n    }\n\n    move (dx, dy, eventType, pressure) {\n\n        this.state.points.push({\n            x: this.state.startXY.x + dx,\n            y: this.state.startXY.y + dy,\n            pressure\n        })\n\n        this.renderPath();\n    }\n\n    end (dx, dy) {\n        this.addPathLayer(); \n        this.trigger('initPathDrawEditor') \n    }   \n\n} ","\nimport { POINTERSTART, BIND, POINTERMOVE, PREVENT, KEYUP, IF, STOP, DOUBLECLICK, ENTER, ESCAPE, DOUBLETAB, DELAY, SUBSCRIBE } from \"el/sapa/Event\";\nimport PathGenerator from \"el/editor/parser/PathGenerator\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport PathParser from \"el/editor/parser/PathParser\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { getBezierPoints, recoverBezier, recoverBezierQuard, getBezierPointsQuard, recoverBezierLine, getBezierPointsLine } from \"el/utils/bezier\";\nimport { isFunction } from \"el/sapa/functions/func\";\nimport { vec3 } from \"gl-matrix\";\nimport { getDist } from \"el/utils/math\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './PathEditorView.scss';\n\n/**\n * convert array[x, y] to object{x, y} \n * \n * @param {array} param0 \n */\nfunction xy([x, y]) {\n    return { x, y }\n}\n\nconst SegmentConvertor = class extends EditorElement {\n\n\n    convertToCurve(index) {\n\n        this.pathGenerator.convertToCurve(index);\n\n        this.renderPath()\n\n        this.refreshPathLayer()\n    }\n\n    [DOUBLECLICK('$view [data-segment]')](e) {\n        var index = +e.$dt.attr('data-index')\n\n        this.convertToCurve(index);\n    }\n\n    /**\n     * Touch     \n     * \n     * @param {TouchEvent} e \n     */\n    [DOUBLETAB('$view [data-segment]') + PREVENT + DELAY(300)](e) {\n        var index = +e.$dt.attr('data-index')\n        this.convertToCurve(index);\n    }\n}\n\nconst PathCutter = class extends SegmentConvertor {\n\n    /**\n     * \n     * stroke        \n     * \n     * @param {string} d \n     * @param {{x: number, y: number}} clickPosition \n     * @returns \n     */\n    calculatePointOnLine(d, clickPosition) {\n        var parser = new PathParser(d);\n\n        return parser.getClosedPoint(clickPosition);\n    }\n\n    [POINTERSTART('$view .split-path') + MOVE() + END()](e) {\n        this.initRect()\n        var parser = new PathParser(e.$dt.attr('d'));\n        var clickPosition = {\n            x: e.xy.x - this.state.rect.x,\n            y: e.xy.y - this.state.rect.y\n        };\n        var selectedSegmentIndex = -1;\n\n        if (this.state.mode === 'path') {\n\n            // this.changeMode('modify');\n            this.state.dragXY = {\n                x: e.xy.x - this.state.rect.x,\n                y: e.xy.y - this.state.rect.y\n            };\n            this.state.startPoint = this.state.dragXY;\n            this.pathGenerator.setLastPoint(this.state.startPoint);\n            this.state.isSplitPath = true;\n\n            this.renderPath()\n\n            if (this.state.current) {\n                this.refreshPathLayer();\n            } else {\n                this.addPathLayer();\n                this.trigger('initPathEditorView')\n            }\n\n            return;\n        } else {\n            // split-path      . \n            if (parser.segments[1].command === 'C') {\n                var points = [\n                    xy(parser.segments[0].values),\n                    xy(parser.segments[1].values.slice(0, 2)),\n                    xy(parser.segments[1].values.slice(2, 4)),\n                    xy(parser.segments[1].values.slice(4, 6))\n                ]\n\n                var curve = recoverBezier(...points, 20)\n                var t = curve(clickPosition.x, clickPosition.y);\n\n                selectedSegmentIndex = this.pathGenerator.setPoint(getBezierPoints(points, t))\n\n            } else if (parser.segments[1].command === 'Q') {\n                var points = [\n                    xy(parser.segments[0].values),\n                    xy(parser.segments[1].values.slice(0, 2)),\n                    xy(parser.segments[1].values.slice(2, 4))\n                ]\n\n                var curve = recoverBezierQuard(...points, 20)\n                var t = curve(clickPosition.x, clickPosition.y);\n\n                selectedSegmentIndex = this.pathGenerator.setPointQuard(getBezierPointsQuard(points, t))\n            } else if (parser.segments[1].command === 'L') {\n                var points = [\n                    xy(parser.segments[0].values),\n                    xy(parser.segments[1].values.slice(0, 2))\n                ]\n\n                var curve = recoverBezierLine(...points, 20)\n                var t = curve(clickPosition.x, clickPosition.y);\n\n                selectedSegmentIndex = this.pathGenerator.setPointLine(getBezierPointsLine(points, t))\n            }\n\n\n            this.renderPath()\n\n            this.refreshPathLayer();\n\n            // segment   \n            this.changeMode('segment-move');\n\n            // segment  \n            this.pathGenerator.setCachePoint(selectedSegmentIndex, 'startPoint');\n\n            // segment   \n            this.pathGenerator.selectKeyIndex('startPoint', selectedSegmentIndex)\n        }\n\n\n    }\n}\n\nconst PathTransformEditor = class extends PathCutter {\n\n    [SUBSCRIBE('changePathTransform')](transformMoveType) {\n        this.resetTransformZone()\n\n        var { width, height } = this.state.transformZoneRect;\n        this.pathGenerator.initTransform(this.state.transformZoneRect);\n\n        switch (transformMoveType) {\n            case 'flipX':\n                this.pathGenerator.transform('flipX', width, 0)     // rect    \n                break;\n            case 'flipY':\n                this.pathGenerator.transform('flipY', 0, height)\n                break;\n            case 'flip':\n                this.pathGenerator.transform('flip', width, height)\n        }\n\n\n        this.renderPath()\n\n        this.refreshPathLayer();\n    }\n\n\n    [SUBSCRIBE('changePathUtil')](utilType) {\n        switch (utilType) {\n            case 'reverse':\n                //  scale      path  . \n                const { d } = this.pathGenerator.toPath()\n\n                const pathParser = new PathParser(d);\n                pathParser.reverse(...this.pathGenerator.selectedGroupIndexList);\n                pathParser.transformMat4(this.state.cachedMatrixInverse)\n\n                this.refreshEditorView({ d: pathParser.d })\n                this.updatePathLayer();\n                break;\n        }\n    }\n\n\n    [SUBSCRIBE('divideSegmentsByCount')](count) {\n        const { d } = this.pathGenerator.toPath()\n\n        const pathParser = new PathParser(d);\n        const newPath = pathParser.divideSegmentByCount(count);\n        newPath.transformMat4(this.state.cachedMatrixInverse)\n\n        this.refreshEditorView({ d: newPath.d })\n    }\n}\n\nconst FIELDS = ['fill', 'fill-opacity', 'stroke', 'stroke-width']\n\n/**\n * @property {PathGenerator} pathGenerator\n * @property {PathParser} pathParser\n */\nexport default class PathEditorView extends PathTransformEditor {\n\n\n    initialize() {\n        super.initialize();\n\n        this.pathParser = new PathParser();\n        this.pathGenerator = new PathGenerator(this)\n    }\n\n    initState() {\n        return {\n            changeEvent: 'updatePathItem',\n            isShow: false,\n            points: [],\n            mode: 'path',\n            clickCount: 0,\n            isSegment: false,\n            isFirstSegment: false,\n        }\n    }\n\n    get scale() {\n        return this.$viewport.scale;\n    }\n\n    template() {\n        return /*html*/`\n        <div class='elf--path-editor-view' tabIndex=\"-1\">\n            <div class='path-container' ref='$view'></div>\n            <div class='path-container split-panel'>\n                <svg width=\"100%\" height=\"100%\">\n                    <circle ref='$splitCircle' class='split-circle' />\n                </svg>\n            </div>\n            <div class='segment-box' ref='$segmentBox'></div>\n        </div>`\n    }\n\n    isShow() {\n        return this.state.isShow\n    }\n\n    initRect(isForce = false) {\n        if (!this.state.rect || isForce) {\n            this.state.rect = this.$el.rect();\n        }\n    }\n\n    [SUBSCRIBE(\"PathEditorDone\")]() {\n        if (this.state.current) {\n            this.refreshPathLayer();\n            this.trigger('hidePathEditor');\n        } else {\n            this.addPathLayer();\n        }\n\n        if (!this.state.current && this.pathGenerator.length) {\n            this.trigger('initPathEditorView');\n        } else {\n            this.trigger('hidePathEditor');\n        }\n \n    }\n\n    [KEYUP('document') + IF('isShow') + ENTER + PREVENT + STOP]() {\n        this.trigger(\"PathEditorDone\")\n    }\n\n    [KEYUP('document') + IF('isShow') + ESCAPE + PREVENT + STOP]() {\n        if (this.state.current) {\n            this.refreshPathLayer();\n        } else {\n            this.addPathLayer();\n        }\n\n        this.trigger('hidePathEditor');\n    }\n\n    // get totalPathLength() {\n    //     if (!this.refs.$view) return 0\n    //     var $obj = this.refs.$view.$('path.object');\n    //     if (!$obj) return 0;\n\n    //     return $obj.totalLength\n    // }\n\n    makePathLayer() {\n        var layer;\n        const newPath = new PathParser(this.pathGenerator.toPath().d);\n        newPath.transformMat4(this.$viewport.matrixInverse);\n        const bbox = newPath.getBBox();\n\n        const newWidth = vec3.distance(bbox[1], bbox[0]);\n        const newHeight = vec3.distance(bbox[3], bbox[0]);\n\n        newPath.translate(-bbox[0][0], -bbox[0][1])\n\n        const pathItem = {\n            itemType: 'svg-path',\n            x: Length.px(bbox[0][0]),\n            y: Length.px(bbox[0][1]),\n            width: Length.px(newWidth),\n            height: Length.px(newHeight),\n            d: newPath.d,\n            // totalLength: this.totalPathLength,\n            fill: `#C4C4C4`\n        }\n\n        FIELDS.forEach(key => {\n            if (this.state[key]) {\n                pathItem[key] = this.state[key];\n            }\n        });\n\n        const containerItem = this.$selection.getArtboardByPoint(bbox[0]) || this.$selection.currentProject;\n\n\n        layer = containerItem.appendChild(this.$editor.createModel(pathItem));\n\n        return layer;\n    }\n\n    updatePathLayer() {\n        var { d } = this.pathGenerator.toPath();\n\n        var parser = new PathParser(d);\n        parser.transformMat4(this.$viewport.matrixInverse)\n\n        this.emit(this.state.changeEvent, {\n            d: parser.d,\n            matrix: this.state.matrix,\n            box: this.state.box,\n            // totalLength: this.totalPathLength,\n        })\n    }\n\n    /**\n     * ArtBoard  path layer  \n     * \n     * @param {number} dx \n     * @param {number} dy \n     */\n    addPathLayer() {\n        this.changeMode('modify');\n\n        var layer = this.makePathLayer()\n        if (layer) {\n\n            this.$selection.select(layer);\n            this.trigger('hidePathEditor')\n            this.emit('refreshAll')\n        }\n\n\n    }\n\n    changeMode(mode, obj) {\n        this.setState({\n            mode,\n            clickCount: 0,\n            moveXY: null,\n            ...obj\n        }, false)\n\n        if (obj?.points) {\n            this.pathGenerator.setPoints(obj.points || []);\n        }\n\n\n        this.emit('changePathManager', this.state.mode);\n    }\n\n    [SUBSCRIBE('changePathManager')](obj) {\n        this.setState({ ...obj, clickCount: 0 }, false);\n        this.renderPath()\n    }\n\n    isMode(mode) {\n        return this.state.mode === mode;\n    }\n\n    [SUBSCRIBE('updateViewport')](newScale, oldScale) {\n\n        if (this.$el.isShow()) {\n\n            //  scale      path  . \n\n            const { d } = this.pathGenerator.toPath()\n\n            const pathParser = new PathParser(d);\n            pathParser.transformMat4(this.state.cachedMatrixInverse)\n\n            this.refreshEditorView({ d: pathParser.d })\n        }\n    }\n\n    /**\n     * Path    \n     * \n     * viewport  matrixInverse    . \n     * \n     * @param {{d: string}} obj \n     */\n    refreshEditorView(obj) {\n\n        let selectedPointList = [];\n        if (obj && obj.d) {\n            this.pathParser.reset(obj.d)\n            this.pathParser.transformMat4(this.$viewport.matrix);\n            this.state.cachedMatrixInverse = this.$viewport.matrixInverse;\n\n            selectedPointList =this.pathGenerator.selectedPointList;\n\n            this.pathGenerator.setPoints(this.pathParser.convertGenerator())\n        }\n\n        this.pathGenerator.initializeSelect(selectedPointList);\n        this.renderPath()\n\n    }\n\n    [SUBSCRIBE('showPathEditor')](mode = 'path', obj = {}) {\n\n        if (mode === 'move') {\n            obj.current = null;\n            obj.points = []\n        }\n\n        obj.box = obj.box || 'canvas'\n\n        this.changeMode(mode, obj);\n\n        this.refreshEditorView(obj);\n\n        this.state.isShow = true;\n        this.$el.show();\n        this.$el.focus();\n\n        this.emit('showPathManager', { mode: this.state.mode });\n        this.emit('hidePathDrawEditor');\n        this.emit('push.mode.view', 'PathEditorView');\n    }\n\n    [SUBSCRIBE('hidePathEditor')]() {\n\n        if (this.$el.isShow()) {\n            this.pathParser.reset('');\n            this.pathGenerator.setPoints([]);\n            this.setState(this.initState(), false)\n            this.refs.$view.empty()\n            this.$el.hide();\n            // this.emit('finishPathEdit')\n            this.emit('hidePathManager');\n            this.emit('pop.mode.view', 'PathEditorView');\n        }\n\n    }\n\n\n    [SUBSCRIBE('hideAddViewLayer')]() {\n        this.state.isShow = false;\n        this.pathParser.reset('');\n        this.setState(this.initState(), false)\n        this.refs.$view.empty()\n        this.$el.hide();\n        this.emit('hidePathManager');\n    }\n\n    [BIND('$view')]() {\n\n        const strokeWidth = Length.parse(this.state.current?.['stroke-width']).value || 0;\n        return {\n            class: {\n                'path': this.state.mode === 'path',\n                'modify': this.state.mode === 'modify',\n                'box': this.state.box === 'box',\n                'canvas': this.state.box === 'canvas',\n                'segment-move': this.state.mode === 'segment-move',\n                'has-one-stroke-width': strokeWidth === 1,\n            },\n\n            //   diff   \n            htmlDiff: this.pathGenerator.makeSVGPath()\n        }\n    }\n\n    [BIND('$splitCircle')]() {\n        if (this.state.splitXY) {\n            return {\n                cx: this.state.splitXY.x,\n                cy: this.state.splitXY.y,\n                r: 5\n            }\n        } else {\n            return {\n                r: 0\n            }\n        }\n\n    }\n\n    refreshPathLayer() {\n        this.updatePathLayer();\n    }\n\n    renderPath() {\n        this.bindData('$view');\n\n    }\n\n    getPathRect() {\n        this.initRect(true);\n\n        var $obj = this.refs.$view.$('path.object')\n\n        var pathRect = { x: 0, y: 0, width: 0, height: 0 }\n        if ($obj) {\n\n            pathRect = $obj.rect()\n            pathRect.x -= this.state.rect.x;\n            pathRect.y -= this.state.rect.y;\n        }\n\n        return pathRect;\n    }\n\n    resetTransformZone() {\n        var rect = this.getPathRect();\n\n        this.state.transformZoneRect = rect;\n    }\n\n    [POINTERMOVE('$view') + PREVENT](e) {\n        this.initRect()\n        if (this.isMode('path') && this.state.rect) {\n            this.state.moveXY = {\n                x: e.xy.x - this.state.rect.x,\n                y: e.xy.y - this.state.rect.y\n            };\n\n            this.state.altKey = e.altKey\n            this.renderPath()\n        } else {\n\n            var $target = Dom.create(e.target)\n            var isSplitPath = $target.hasClass('split-path')\n            if (isSplitPath) {\n                this.state.splitXY = this.calculatePointOnLine($target.attr('d'), {\n                    x: e.xy.x - this.state.rect.x,\n                    y: e.xy.y - this.state.rect.y\n                });\n            } else {\n                this.state.splitXY = null;\n            }\n\n            this.bindData('$splitCircle');\n\n            this.state.altKey = false;\n        }\n\n\n    }\n\n    [POINTERSTART('$view :not(.split-path)') + PREVENT + STOP + MOVE() + END()](e) {\n        this.initRect();\n\n        this.state.altKey = false;\n        var isPathMode = this.isMode('path');\n        this.$config.set('set.move.control.point', true);                \n\n        this.state.dragXY = {\n            x: e.xy.x - this.state.rect.x,\n            y: e.xy.y - this.state.rect.y\n        };\n\n        // canvas   \n        this.$config.set('set.drag.path.area', false);             \n\n        var $target = Dom.create(e.target);\n        if ($target.hasClass('svg-editor-canvas') && !isPathMode) {\n            // canvas     , drag   . \n            this.$config.set('set.drag.path.area', true);             \n        } else {\n\n            // path    \n            this.pathGenerator.reselect()\n\n            // segment   \n            this.state.isSegment = $target.attr('data-segment') === 'true';\n\n            // first segment   \n            this.state.isFirstSegment = this.state.isSegment && $target.attr('data-is-first') === 'true';\n\n            // segment           . \n            //          . \n            //    . \n            // mode : samepointer, default\n        }\n\n        if (isPathMode) {\n\n            if (this.state.isFirstSegment) {\n                //      \n                // startPoint   M  startPoint  . \n                var index = +$target.attr('data-index')\n                this.state.startPoint = this.pathGenerator.points[index].startPoint;\n            } else {\n                this.state.startPoint = this.state.dragXY;\n\n            }\n            this.state.dragPoints = false\n            this.state.endPoint = null;\n\n\n        } else {\n            if (this.isOnCanvas) {\n                this.renderSelectBox(this.state.dragXY);\n            } else if (this.state.isSegment) {\n                this.changeMode('segment-move');\n                var [index, segmentKey] = $target.attrs('data-index', 'data-segment-point')\n\n                if (e.shiftKey) {\n                    //  segment  . \n                    this.pathGenerator.toggleSelect(segmentKey, +index)\n                } else {\n                    //    .\n                    this.pathGenerator.setCachePoint(+index, segmentKey);\n\n                    // segment key  . \n                    this.pathGenerator.selectKeyIndex(segmentKey, index)    \n                }\n\n                this.renderPath();\n            }\n        }\n\n    }\n\n    move(dx, dy) {\n        var e = this.$config.get('bodyEvent')\n\n        if (this.$config.true('set.drag.path.area')) {\n            //    \n            this.renderSelectBox(this.state.dragXY, dx, dy);\n\n        } else if (this.isMode('segment-move')) {\n\n            this.pathGenerator.move(dx, dy, e);\n\n            this.renderPath()\n\n            this.updatePathLayer();\n\n        } else if (this.isMode('path')) {\n            const dist = getDist(dx, dy, 0, 0);\n\n            if (dist >= 2) {\n                this.state.dragPoints = e.altKey ? false : true;\n            }\n        }\n    }\n\n    renderSegment(callback) {\n        if (this.pathGenerator.selectedLength) {\n            // reselect       .  \n            this.pathGenerator.reselect()\n            // reselect       .  \n\n            if (isFunction(callback)) callback();\n\n            this.renderPath();\n\n            this.updatePathLayer();\n        }\n    }\n\n\n    end(dx, dy) {\n        var e = this.$config.get('bodyEvent')        \n        this.$config.set('set.move.control.point', false);        \n        if (this.$config.true('set.drag.path.area')) {\n            if (dx === 0 && dy === 0) {    //      \n                this.changeMode('modify');\n                this.trigger('hidePathEditor')\n            } else {\n                // select box     .\n                // mode -> segment-move \n                this.changeMode('segment-move');\n                this.pathGenerator.selectInBox(this.getSelectBox(), e.shiftKey)\n                this.renderPath()\n                this.hideSelectBox();\n            }\n\n        } else if (this.isMode('modify')) {\n            // NOOP\n        } else if (this.isMode('segment-move')) {\n\n            this.changeMode('modify');\n            //    renderpath    element   double     . \n            //      .      \n            // this.renderPath()      \n            this.updatePathLayer();  \n\n        } else if (this.isMode('path')) {\n\n            // isFirstSegment \n            // segment      . \n            // connectedPointList    . \n            // connected       . \n            if (this.state.isFirstSegment) {\n                this.changeMode('modify');\n                this.pathGenerator.setConnectedPoint(dx, dy);\n\n                this.renderPath()\n\n                if (this.state.current) {\n                    this.refreshPathLayer();\n                } else {\n                    this.addPathLayer();\n                    this.trigger('initPathEditorView')\n                }\n            } else {\n                if (this.state.isSplitPath) {\n                    // NOOP \n                } else {\n                    this.pathGenerator.moveEnd(dx, dy);\n                    this.state.clickCount++;\n\n                    this.renderPath()\n                }\n            }\n            this.state.isSplitPath = false;\n        }\n\n    }\n\n\n    hideSelectBox() {\n        this.refs.$segmentBox.css({\n            left: Length.px(-100000)\n        })\n    }\n\n    renderSelectBox(startXY = null, dx = 0, dy = 0) {\n\n        var obj = {\n            left: Length.px(startXY.x + (dx < 0 ? dx : 0)),\n            top: Length.px(startXY.y + (dy < 0 ? dy : 0)),\n            width: Length.px(Math.abs(dx)),\n            height: Length.px(Math.abs(dy))\n        }\n\n        this.refs.$segmentBox.css(obj)\n\n\n    }\n\n    getSelectBox() {\n\n        var [x, y, width, height] = this.refs.$segmentBox\n            .styles('left', 'top', 'width', 'height')\n            .map(it => Length.parse(it))\n\n        var rect = {\n            x,\n            y,\n            width,\n            height\n        }\n\n        rect.x2 = Length.px(rect.x.value + rect.width.value);\n        rect.y2 = Length.px(rect.y.value + rect.height.value);\n\n        return rect;\n    }\n\n\n    [SUBSCRIBE('deleteSegment')]() {\n        //    \n        this.renderSegment(() => {\n            this.pathGenerator.removeSelectedSegment();\n        })\n    }\n\n    [SUBSCRIBE('moveSegment')](dx, dy) {\n\n        // segment   \n        this.renderSegment(() => {\n            this.pathGenerator.moveSelectedSegment(dx, dy);\n        })\n    }\n\n\n    [SUBSCRIBE('initPathEditorView')]() {\n        this.pathParser.reset('');\n        this.setState(this.initState(), false)\n        this.state.isShow = true;\n        this.refs.$view.empty()\n        this.$el.focus();\n    }\n\n\n}","import { CONFIG, SUBSCRIBE, IF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport \"./HoverView.scss\";\n\nexport default class HoverView extends EditorElement {\n\n    template() {\n        return /*html*/`\n            <div class='elf--hover-view'>\n                <div class='elf--hover-rect' ref='$hoverRect'></div>            \n            </div>\n        `\n    }\n\n    checkModeView () {\n\n        const e = this.$config.get('bodyEvent');\n\n        // viewport      \n        if (!this.$viewport.checkInViewport(this.$viewport.getWorldPosition(e))) {\n            return false; \n        }\n\n        return this.$modeView.isCurrentMode('CanvasView');\n    }\n\n    /**\n     * CanvasView    HoverView   \n     * \n     * @returns \n     */\n    [CONFIG('bodyEvent') + IF('checkModeView')]() {\n        if (this.$config.get('hoverView') === false || this.$config.true(\"set.move.control.point\")) {\n            this.$selection.setHoverId('');\n            this.renderHoverLayer()            \n            return;\n        }\n\n        const items = this.$selection.filteredLayers.filter(it => {\n            const point = this.$viewport.getWorldPosition(this.$config.get('bodyEvent'));\n            return it.hasPoint(point[0], point[1]);\n        }).filter(it => it.isNot('artboard'))\n\n        const id = items[0]?.id;\n\n        if (!id) {\n            this.$selection.setHoverId('');\n            this.renderHoverLayer()\n        } else {\n\n            if (this.$selection.setHoverId(id)) {\n                this.renderHoverLayer()\n            }\n        }\n    }\n\n    [SUBSCRIBE('updateViewport')]() {\n        this.$selection.setHoverId('');\n        this.renderHoverLayer()\n    }\n\n\n    renderHoverLayer() {\n\n        const items = this.$selection.hoverItems;\n\n        if (items.length === 0) {\n            this.refs.$hoverRect.updateDiff('')\n            this.emit('removeGuideLine');\n\n\n        } else {\n\n            // refresh hover view \n            const verties = items[0].verties;\n            \n            const line = this.createPointerLine(this.$viewport.applyVerties(verties));\n\n            this.refs.$hoverRect.updateDiff(line)\n\n\n            this.emit('refreshGuideLineByTarget', [items[0].verties]);\n\n        }\n    }\n\n\n    createPointerLine(pointers) {\n        if (pointers.length === 0) return '';\n        return /*html*/`\n        <svg class='line' overflow=\"visible\">\n            <path \n                d=\"\n                    M ${pointers[0][0]}, ${pointers[0][1]} \n                    L ${pointers[1][0]}, ${pointers[1][1]} \n                    L ${pointers[2][0]}, ${pointers[2][1]} \n                    L ${pointers[3][0]}, ${pointers[3][1]} \n                    L ${pointers[0][0]}, ${pointers[0][1]}\n                    Z\n                \" \n                />\n        </svg>`\n    }\n\n}\n","\nimport { BIND, DEBOUNCE, SUBSCRIBE } from \"el/sapa/Event\";\nimport { toRectVerties, vertiesToRectangle } from \"el/utils/collision\";\nimport { makeGuidePoint } from \"el/utils/math\";\nimport PathStringManager from \"el/editor/parser/PathStringManager\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { vec3 } from \"gl-matrix\";\n\nimport './GuideLineView.scss';\n\nconst ARROW_SIZE = 4; \n\nconst line = (source, target, className = 'base-line') => {\n    return /*html*/`<line x1=\"${source[0]}\" y1=\"${source[1]}\" x2=\"${target[0]}\" y2=\"${target[1]}\" class='${className}' />`\n}\n\nconst text = (t, target, className = 'base-line') => {\n    const text = `${Math.floor(t)}`;\n    const unitWidth = 13;\n    const unitHeight = 16;\n    const width = text.length * unitWidth;\n    const height = unitHeight;\n\n    return /*html*/`\n    \n        <rect x=\"${target[0] - width / 4}\" y=\"${target[1] - unitHeight - 2}\" width=\"${width}\" height=\"${height}\" rx=\"2\" ry=\"2\" fill=\"#00a9f4\" />\n        <text x=\"${target[0]}\" y=\"${target[1]}\" dy=\"-5\" font-size=\"16\">${text}</text>\n    `\n}\n\n\nconst hLineByPoint = (target, source) => {\n    return line(target, source);\n}\n\nconst vLineByPoint = (target, source) => {\n    return line(target, source);\n}\n\nconst rect = (rectVerties) => {\n\n    return /*html*/`\n    <path \n        class=\"base-rect\"\n        fill=\"none\"\n        stroke-width=\"1\"\n        stroke=\"red\"\n        stroke-dasharray=\"2 2\"\n        d=\"${PathStringManager.makeRect(\n            rectVerties[0][0],\n            rectVerties[0][1],\n            vec3.dist(rectVerties[0], rectVerties[1]),\n            vec3.dist(rectVerties[0], rectVerties[3]),\n        )}\n        \" \n    />\n`;    \n}\n\nconst point = (target, dist = 3, direction = 'left') => {\n\n    if (direction === 'left') {\n\n        return /*html*/`\n        <path \n            class=\"arrow\"\n            d=\"\n                M ${target[0] + dist} ${target[1] - dist}\n                L ${target[0]} ${target[1]}\n                L ${target[0] + dist} ${target[1] + dist}\n            \" \n        />\n    `;\n    }\n\n    if (direction === 'right') {\n\n        return /*html*/`\n        <path \n            class=\"arrow\"\n            d=\"\n                M ${target[0] - dist} ${target[1] - dist}\n                L ${target[0]} ${target[1]}\n                L ${target[0] - dist} ${target[1] + dist}\n            \" \n        />\n    `;\n    }\n\n    if (direction === 'up') {\n\n        return /*html*/`\n        <path \n            class=\"arrow\"\n            d=\"\n                M ${target[0] - dist} ${target[1] + dist}\n                L ${target[0]} ${target[1]}\n                L ${target[0] + dist} ${target[1] + dist}\n            \" \n        />\n    `;\n    } \n    \n\n    if (direction === 'down') {\n\n        return /*html*/`\n        <path \n            class=\"arrow\"\n            d=\"\n                M ${target[0] - dist} ${target[1] - dist}\n                L ${target[0]} ${target[1]}\n                L ${target[0] + dist} ${target[1] - dist}\n            \" \n        />\n    `;\n    }     \n\n    return /*html*/`\n        <path \n            stroke-width=\"1\"\n            d=\"\n                M ${target[0] - dist} ${target[1] - dist}\n                L ${target[0] + dist} ${target[1] + dist}\n                M ${target[0] - dist} ${target[1] + dist}\n                L ${target[0] + dist} ${target[1] - dist}\n            \" \n        />\n    `;\n}\n\n/**\n *      \n */\nexport default class GuideLineView extends EditorElement {\n\n    template() {\n        return /*html*/`\n            <svg class='elf--guide-line-view' ref=\"$guide\" width=\"100%\" height=\"100%\" ></svg>\n            `\n\n    }\n\n    initState() {\n        return {\n            list: []\n        }\n    }\n\n    [BIND('$guide')]() {\n        return {\n            svgDiff: /*html*/`<g>${this.createGuideLine(this.state.list)}</g>`\n        }\n    }\n\n    createGuideLine(list) {\n\n        var images = []\n        var texts = []\n        list = list.filter(Boolean);\n        for (var i = 0, len = list.length; i < len; i++) {\n\n            const [source, target, axis, dist, newTarget, sourceVerties, targetVerties, isInvert] = list[i];\n            const localDist = Math.floor(dist);            \n\n            //     localSourceVertex  .  . \n            const localSourceVertex = this.$viewport.applyVertex(source);\n            const localTargetVertex = this.$viewport.applyVertex(target);\n            \n            let localNewTargetVertex\n\n            if (newTarget) {\n                localNewTargetVertex = this.$viewport.applyVerties([newTarget])[0];\n            }\n\n\n            if (axis === 'x') {\n                if (localDist > 0) {\n                    images.push(line(localSourceVertex, localTargetVertex, 'dash-line'))      \n                }\n\n                if (localNewTargetVertex) {\n                    images.push(line(localTargetVertex, localNewTargetVertex, 'dash-line'))\n                }\n\n                if (localDist > 0) {\n                    texts.push(\n                        text(\n                            localDist,\n                            vec3.lerp([], localSourceVertex, localTargetVertex, 0.5)\n                        )\n                    );\n                }\n\n            }\n\n            if (axis === 'y') {\n                if (localDist > 0) {\n                    images.push(line(localSourceVertex, localTargetVertex, 'dash-line'))                                   \n                }\n\n                if (localNewTargetVertex) {\n                    images.push(line(localTargetVertex, localNewTargetVertex, 'dash-line'))\n\n                }\n\n                if (localDist > 0) {\n                    texts.push(\n                        text(\n                            localDist,\n                            vec3.add([], vec3.lerp([], localSourceVertex, localTargetVertex, 0.5), [20, 0, 0]),\n                        )\n                    );\n                }\n            }\n\n\n            if (axis === 'x') {\n                images.push(hLineByPoint(localTargetVertex, localSourceVertex))\n            }            \n\n            if (axis === 'y') {\n                images.push(vLineByPoint(localTargetVertex, localSourceVertex))\n            }\n\n            if (this.state.hasVerties) {\n                images.push(point(localSourceVertex,3, 'vertex'))\n                images.push(point(localTargetVertex,3, 'vertex'))                \n            }            \n\n            if (sourceVerties) {\n                if ((this.$selection.isOne && this.$editor.isPointerDown) || (this.$selection.isMany && !this.$editor.isPointerMove)) {\n                    images.push(rect(this.$viewport.applyVerties(sourceVerties)))\n                }\n            }\n\n            if (targetVerties) {\n                images.push(rect(this.$viewport.applyVerties(targetVerties)))\n            }\n        }\n\n\n\n        return [...images, ...texts].join('');\n    }\n\n    removeGuideLine() {\n        this.setState({\n            list: []\n        })\n    }\n\n    setGuideLine(list, hasVerties = false) {\n        this.setState({\n            list,\n            hasVerties\n        })\n    }\n\n    [SUBSCRIBE('removeGuideLine', 'refreshSelection')]() {\n        this.removeGuideLine()\n    }\n\n    [SUBSCRIBE('refreshGuideLineByTarget')](targetVertiesList = []) {\n        return this.refreshSmartGuides(targetVertiesList);\n    }\n\n    [SUBSCRIBE('updateViewport')]() {\n        this.refresh();\n    }\n\n\n    refreshSmartGuides (targetVertiesList) {\n\n        if (this.$selection.isEmpty) return;\n\n        const sourceVerties = toRectVerties(this.$selection.verties); \n        let targetList;\n        if (targetVertiesList) {\n            targetList = targetVertiesList.map(it => toRectVerties(it));\n        } else {\n            const targets = this.$selection.snapTargetLayers.map(target => {\n                const rectVerties = toRectVerties(target.verties);\n                return {targetVerties: rectVerties, dist: vec3.dist(rectVerties[4], sourceVerties[4])};\n            })\n    \n            targets.sort((a, b) => {\n                return a.dist - b.dist\n            })\n\n            targetList = targets.map(target => target.targetVerties);\n        }\n\n\n        //    3     \n        // 1. A B     , A   B    ,  4      \n        // 2. A B       , A  B      4       \n        // 3. A B       \n\n        // x   \n        const xList = targetList.map(targetVerties => makeGuidePoint(sourceVerties, targetVerties));\n\n        xList.sort((a, b) => {\n            return a[3] - b[3];\n        });\n\n        const list = [xList[0], xList[1]].filter(Boolean);\n\n        this.setGuideLine(list);             \n\n    }\n\n    refreshSmartGuidesForVerties() {\n        const guides = this.$snapManager.findGuide(this.$selection.verties);\n\n        this.setGuideLine(guides, true);             \n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView')]() {\n\n        if (this.$selection.isMany) return;\n\n        const expect = this.$selection.hasChangedField('d', 'clip-path')\n\n        if (!expect && this.$selection.hasChangedField('x', 'y', 'width', 'height', 'transform', 'transform-origin')) {\n            this.refreshSmartGuidesForVerties();\n        }\n    }\n}","\n\nimport { DOMDIFF, LEFT_BUTTON, LOAD, POINTERSTART, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { vec3 } from \"gl-matrix\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './SelectionInfoView.scss';\nimport { Length } from 'el/editor/unit/Length';\nimport { calculateAngle360 } from 'el/utils/math';\n\nexport default class SelectionInfoView extends EditorElement {\n\n    template() {\n        return /*html*/`<div class='elf--selection-info-view'></div>`\n    }\n\n    /**\n     *     \n     *\n     * ctrl + pointerstart    .  \n     * \n     * @param {PointerEvent} e \n     */\n     [POINTERSTART('$el [data-artboard-title-id]') + LEFT_BUTTON + MOVE('calculateMovedElement') + END('calculateEndedElement')] (e) {\n        this.startXY = e.xy ; \n        this.initMousePoint = this.$viewport.getWorldPosition(e);\n        const id = e.$dt.attr('data-artboard-title-id');        \n        this.$selection.select(id);            \n\n        // alt(option) + pointerstart  Layer          \n        if (e.altKey) {\n            //     \n            this.$selection.selectAfterCopy();\n            this.emit('refreshAllCanvas')         \n            this.emit('refreshLayerTreeView')          \n        }\n\n        this.initializeDragSelection();\n        this.emit('history.refreshSelection');        \n        this.$config.set(\"set.move.control.point\", true);\n  \n    }\n\n    initializeDragSelection() {\n        this.$selection.reselect();\n        this.$snapManager.clear();\n\n        this.emit('refreshSelectionTool');\n    }\n\n\n    moveTo(dist) {\n\n        //////  snap   \n        const snap = this.$snapManager.check(this.$selection.cachedRectVerties.map(v => {\n            return vec3.add([], v, dist)\n        }), 3);\n\n        const localDist = vec3.add([], snap, dist);\n\n        const result = {}\n        this.$selection.cachedItemMatrices.forEach(it => {\n\n            // newVerties      \n            const newVerties = it.verties.map(v => {\n                return vec3.add([], v, localDist)\n            })\n\n            //   it.rectVerties[0]  \n            //   newVerties[0]  \n            // parentMatrixInverse      \n            //   distance . \n            const newDist = vec3.subtract(\n                [], \n                vec3.transformMat4([], newVerties[0], it.parentMatrixInverse), \n                vec3.transformMat4([], it.verties[0], it.parentMatrixInverse)\n            )\n\n            result[it.id] = {\n                x: Length.px(it.x + newDist[0]).floor(),          // 1px    \n                y: Length.px(it.y + newDist[1]).floor(),\n            }\n        })\n        this.$selection.reset(result);\n    }    \n\n\n    calculateMovedElement () {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n\n        const newDist = vec3.floor([], vec3.subtract([], targetMousePoint, this.initMousePoint));\n\n        this.moveTo(newDist);\n\n        this.emit('setAttributeForMulti', this.$selection.pack('x', 'y'));\n        this.emit('refreshSelectionStyleView');\n        this.emit('refreshSelectionTool', false);       \n        // this.emit('refreshRect'); \n        this.refresh();            \n\n    }\n\n    /**\n     * ArtBoard title  \n     * @param {string} id \n     * @param {string} title \n     */\n    [SUBSCRIBE('refreshItemName')] (id, title) {\n        this.emit(\n            'setAttributeForMulti',\n            {\n                [id]: { name: title }\n            }\n        );  \n        this.$el.$(`[data-artboard-title-id='${id}']`)?.text(title);\n    }\n\n    calculateEndedElement (dx, dy) {\n        this.command(\n            'setAttributeForMulti',\n            \"move item\",                    \n            this.$selection.pack('x', 'y')\n        );  \n        this.emit('refreshSelectionTool', true);\n        this.$config.set(\"set.move.control.point\", false);        \n    }\n\n    [SUBSCRIBE('updateViewport')] () {\n        this.refresh();\n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView')] () {\n        if (this.$selection.current) {\n            if (this.$selection.current.is('artboard')) {\n                if (this.$selection.hasChangedField('x', 'y', 'width', 'height', 'transform', 'transform-origin')) {\n                    this.refresh();\n                }\n\n            }\n        }\n\n    }\n\n\n    [LOAD('$el') + DOMDIFF] () {\n        return this.$selection.currentProject.artboards.map(it => {\n            return { title: it.name, id: it.id, pointers: this.$viewport.applyVerties(it.verties) }\n        }).map(it => this.makeArtboardTitleArea(it))\n\n    }\n\n    createSize (pointers, artboardItem) {\n        const newPointer  = pointers[0];\n        const diff = vec3.subtract([], pointers[0], pointers[3]);\n        const angle = calculateAngle360(diff[0], diff[1]) - 90;\n\n        return /*html*/`\n            <div \n                class=\"artboard-title is-not-drag-area\" \n                data-artboard-title-id=\"${artboardItem.id}\" \n                style=\"transform-origin: 0% 0%; transform: translate3d( calc(${newPointer[0]}px), calc(${newPointer[1]}px), 0px) rotateZ(${angle}deg)\" >\n                    <div style=\"transform: translateY(-100%);\">${artboardItem.title}</div>\n            </div>\n        `\n    }\n\n    makeArtboardTitleArea (it) {\n        return this.createSize(it.pointers, it);\n    }    \n\n    [SUBSCRIBE('refreshAll')] () {\n        this.refresh();\n    }\n} ","\nimport { LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\n\n/**\n *      \n */\nexport default class GridLayoutLineView extends EditorElement {\n\n    template() {\n        return /*html*/`<div class='grid-layout-line-view' style='width:100%;height:100%;pointer-events:none;'></div>`\n    }\n\n    [LOAD('$el')] () {\n\n        var len = this.$selection.length;\n\n        if (len !== 1) {\n            return /*html*/''; \n        }\n\n        var current = this.$selection.current;\n\n        if (current.isInGrid()) {\n            var layoutContainer = current.parent; \n            var left = layoutContainer.screenX\n            var top = layoutContainer.screenY\n            var width = layoutContainer.width\n            var height = layoutContainer.height\n\n            var grid = this.$editor.html.toGridLayoutCSS(layoutContainer)\n\n            return /*html*/`<div style='${CSS_TO_STRING({ position: 'absolute', left, top, width, height, border: '1px solid black', ...grid})}'>\n                ${layoutContainer.layers.map(it => {\n                    var layoutItemCSS = this.$editor.html.toLayoutItemCSS(it);\n                    return /*html*/`<div style='${CSS_TO_STRING({...layoutItemCSS, 'border': '1px solid dashed'})}'></div>`\n                }).join('')}\n            </div>`\n        }\n\n        return /*html*/`<div></div>`\n    }\n    \n\n    [SUBSCRIBE('refreshGridLayoutLine', 'refreshSelectionTool', 'refreshSelection')] () {        \n        this.refresh(); \n    }\n\n    [SUBSCRIBE('updateViewport')] () {\n        this.refresh();\n    }\n} ","import { POINTERSTART, IF, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { KEY_CODE } from \"el/editor/types/key\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './DragAreaView.scss';\nimport { vec3 } from \"gl-matrix\";\n\nexport default class DragAreaView extends EditorElement {\n\n    initState() {\n        return {\n            mode: 'selection',\n            x: Length.z(),\n            y: Length.z(),\n            width: Length.px(10000),\n            height: Length.px(10000),\n            cachedCurrentElement: {},\n            html: '',\n        }\n    }\n\n    template() {\n        return /*html*/`\n            <div class=\"elf--drag-area-view\" ref=\"$dragAreaView\"></div>            \n        `\n    }\n\n\n    checkSelectionArea(e) {\n        const mousePoint = this.$viewport.getWorldPosition(e);\n\n        // select        . \n        if (this.$selection.hasPoint(mousePoint)) {\n            return true;\n        }\n    }\n\n\n    /**\n     *        \n     * \n     * @param {PointerEvent} e \n     */\n    checkEditMode(e) {\n\n        // hand tool  on     . \n        if (this.$config.get('set.tool.hand')) {\n            return false;\n        }\n\n        // space     . \n        const code = this.$shortcuts.getGeneratedKeyCode(KEY_CODE.space);\n        if (this.$keyboardManager.check(code)) {\n            return false;\n        }\n\n\n        // selection    \n        const mousePoint = this.$viewport.getWorldPosition(e);\n        this.inSelection = false;\n        if (this.$selection.hasPoint(mousePoint)) {\n            this.inSelection = true;\n\n            //   artboard ,     . \n            if (this.$selection.current.is('artboard')) {\n                if (this.$selection.current.hasChildren()) {\n                    // drag   \n                    this.$config.set('set.dragarea.mode', true);\n                    this.$config.set('set.move.mode', false);\n\n                    return true;\n                } else {\n                    //  \n                    this.$config.set('set.dragarea.mode', false);\n                    this.$config.set('set.move.mode', true);\n\n                    return true;\n                }\n            } else {\n                //  \n                this.$config.set('set.dragarea.mode', false);\n                this.$config.set('set.move.mode', true);\n                return true;\n            }\n        }\n\n        this.mouseOverItem = this.$selection.filteredLayers[0];\n\n        if (this.mouseOverItem) {\n            // move   \n            this.$config.set('set.dragarea.mode', false);\n            this.$config.set('set.move.mode', true);\n\n        } else {\n            // drag   \n            this.$config.set('set.dragarea.mode', true);\n            this.$config.set('set.move.mode', false);\n\n        }\n\n        return true;\n    }\n\n    [POINTERSTART('$dragAreaView') + IF('checkEditMode') + MOVE('movePointer') + END('moveEndPointer')](e) {\n\n        if (this.$config.get('set.dragarea.mode')) {\n            this.emit('startDragAreaView');\n        } else if (this.$config.get('set.move.mode')) {\n\n\n            //   \n            this.initMousePoint = this.$viewport.getWorldPosition();\n\n            this.mouseOverItem = this.$selection.filteredLayers[0];\n\n            // mouse point  item    \n            // shift key       ,       \n\n            // alt(option) + pointerstart  Layer          \n            if (e.altKey) {\n\n                if (this.$selection.isEmpty === false && this.$selection.hasPoint(this.initMousePoint)) {\n                    //     \n                    this.$selection.selectAfterCopy();\n                    this.trigger('refreshAllCanvas')\n                    this.emit('refreshLayerTreeView')\n\n                    // this.selectCurrent(...this.$selection.items)\n                    this.initializeDragSelection();\n                    this.emit('history.refreshSelection');\n                }\n\n            } else {\n                // mouse over item    \n                if (this.mouseOverItem) {\n                    const id = this.mouseOverItem.id;\n\n                    // shift key  selection  . \n                    if (e.shiftKey) {\n                        this.$selection.toggleById(id);\n                    } else {\n                        //     \n                        if (this.$selection.check({ id }) === false) {\n\n                            const current = this.$model.get(id);\n                            if (current && current.is('artboard') && current.hasChildren()) {\n                                // NOOP\n                                // artboard      . \n                            } else {\n                                this.$selection.selectByGroup(id);\n                            }\n\n                        }\n                    }\n\n                }\n\n\n                this.initializeDragSelection();\n                this.emit('history.refreshSelection');\n            }\n\n        }\n\n    }\n\n    initializeDragSelection() {\n        this.$selection.reselect();\n        this.$snapManager.clear();\n\n        this.emit('refreshSelectionTool', true);\n    }\n\n\n\n    movePointer(dx, dy) {\n        if (this.$config.get('set.dragarea.mode')) {\n            this.emit('moveDragAreaView');\n        } else if (this.$config.get('set.move.mode')) {\n            //   \n\n            // layout item    layout    . \n            if (this.$selection.isLayoutItem) {\n                return;\n            }\n\n            const targetMousePoint = this.$viewport.getWorldPosition();\n\n            const newDist = vec3.floor([], vec3.subtract([], targetMousePoint, this.initMousePoint));\n\n            this.moveTo(newDist);\n\n            //   ArtBoard  \n            if (this.$selection.changeArtBoard()) {\n                this.initMousePoint = targetMousePoint;\n                this.$selection.reselect();\n                this.$snapManager.clear();\n\n                this.emit('refreshAllCanvas')\n\n                // ArtBoard   LayerTreeView \n                this.emit('refreshLayerTreeView')\n            }\n\n            this.emit('setAttributeForMulti', this.$selection.pack('x', 'y'));\n            this.emit('refreshSelectionTool', true);\n        }\n\n    }\n\n\n    moveTo(distVector) {\n\n        distVector = vec3.floor([], distVector);\n\n\n\n        //////  snap   \n        const snap = this.$snapManager.check(this.$selection.cachedRectVerties.map(v => {\n            return vec3.add([], v, distVector)\n        }), 3);\n\n        // dist   \n        const localDist = vec3.add([], snap, distVector);\n\n\n        const result = {}\n        this.$selection.cachedItemMatrices.forEach(it => {\n\n            // newVerties      \n            const newVerties = it.verties.map(v => {\n                return vec3.add([], v, localDist)\n            })\n\n            //   it.rectVerties[0]  \n            //   newVerties[0]  \n            // parentMatrixInverse      \n            //   distance . \n            const newDist = vec3.subtract(\n                [], \n                vec3.transformMat4([], newVerties[0], it.parentMatrixInverse), \n                vec3.transformMat4([], it.verties[0], it.parentMatrixInverse)\n            )\n\n            result[it.id] = {\n                x: Length.px(it.x + newDist[0]).round(1000),          // 1px    \n                y: Length.px(it.y + newDist[1]).round(1000),\n            }\n        });\n\n        this.$selection.reset(result);\n    }\n\n    [SUBSCRIBE('selectionToolView.moveTo')](newDist) {\n        this.moveTo(newDist);\n        this.emit('refreshSelectionTool', true);\n    }\n\n    moveEndPointer() {\n\n        if (this.$config.get('set.dragarea.mode')) {\n            this.emit('endDragAreaView');\n        } else if (this.$config.get('set.move.mode')) {\n\n            const targetMousePoint = this.$viewport.getWorldPosition();\n            const newDist = vec3.floor([], vec3.subtract([], targetMousePoint, this.initMousePoint));\n\n\n\n            if (newDist < 1) {\n                if (this.$selection.current.isSVG()) {\n                    this.emit('open.editor');\n                    this.emit('removeGuideLine');\n                    return;\n                }\n            } else {\n                this.$selection.reselect();\n                this.$snapManager.clear();\n                // this.emit('removeGuideLine');\n                this.command(\n                    'setAttributeForMulti',\n                    \"move item\",\n                    this.$selection.pack('x', 'y')\n                );\n            }\n\n            this.emit('refreshSelectionTool', true);\n        }\n        this.$config.set('set.dragarea.mode', false)\n        this.$config.set('set.move.mode', false)\n\n    }\n}","import { vec3 } from \"gl-matrix\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\nimport { toRectVerties, toRectVertiesWithoutTransformOrigin } from \"el/utils/collision\";\n\n\nimport './DragAreaView.scss';\n\n\nexport default class DragAreaRectView extends EditorElement {\n\n    initState() {\n        return {\n            mode: 'selection',\n            x: Length.z(),\n            y: Length.z(),\n            width: Length.px(10000),\n            height: Length.px(10000),\n            cachedCurrentElement: {},\n            html: '',\n        }\n    }\n\n    template() {\n        return /*html*/`\n            <div class=\"elf--drag-area-view\" ref=\"$dragAreaView\" style=\"pointer-events:none;\">\n                <div class='drag-area-rect' ref='$dragAreaRect'></div>\n            </div>            \n        `\n    }\n\n    [SUBSCRIBE('drawAreaView')](style) {\n        this.refs.$dragAreaRect.css(style);\n    }\n\n    [SUBSCRIBE('initDrawAreaView')]() {\n        this.refs.$dragAreaRect.css({\n            left: Length.px(-10000),\n            top: Length.z(),\n            width: Length.z(),\n            height: Length.z()\n        });\n    }\n\n    [SUBSCRIBE('startDragAreaView')]() {\n        this.initMousePoint = this.$viewport.getWorldPosition();\n        this.$config.set(\"hoverView\", false);\n\n        this.dragRect = {\n            left: Length.px(this.initMousePoint[0]),\n            top: Length.px(this.initMousePoint[1]),\n            width: Length.z(),\n            height: Length.z()\n        }\n\n        this.trigger('drawAreaView', this.dragRect);\n\n    }\n\n\n\n    getSelectedItems (rect, areaVerties) {\n        var project = this.$selection.currentProject;\n        let items = []\n        let selectedArtboard = []        \n        if (project) {    \n\n            if (rect.width === 0 && rect.height === 0) {\n                items = [] \n            } else {\n                //          \n                project.layers.forEach(layer => {\n\n                    if (layer.is('artboard') && layer.isIncludeByArea(areaVerties)) {        \n                        selectedArtboard.push(layer);\n                    } else if (layer.is('artboard') && layer.checkInArea(areaVerties) && layer.hasChildren() === false) {        \n                        items.push(layer);                            \n                    } else {\n                        items.push.apply(items, layer.checkInAreaForAll(areaVerties))\n\n                    }\n                })\n\n                if (items.length > 1) {\n                    items = items.filter(it => it.is('artboard') === false);\n                }\n            }   \n        }\n\n        const selectedItems = selectedArtboard.length ? selectedArtboard : items; \n\n        return selectedItems;\n    }    \n\n    /**\n     * \n     * \n     * @public \n     */ \n    [SUBSCRIBE('moveDragAreaView')]() {\n        const e = this.$config.get('bodyEvent');\n        const targetMousePoint = this.$viewport.getWorldPosition();\n\n        const newDist = vec3.floor([], vec3.subtract([], targetMousePoint, this.initMousePoint));\n\n        if (e.shiftKey) {\n            newDist[1] = newDist[0];\n        }\n\n        const startVertex = vec3.floor([], this.initMousePoint);\n        const endVertex = vec3.floor([], vec3.add([], this.initMousePoint, newDist));\n\n        const start = this.$viewport.applyVertex(startVertex);\n        const end = this.$viewport.applyVertex(endVertex);\n\n        const locaRect = toRectVerties([start, end]);\n\n        this.dragRect = {\n            left: Length.px(locaRect[0][0]),\n            top: Length.px(locaRect[0][1]),\n            width: Length.px(Math.abs(locaRect[1][0] - locaRect[0][0])),\n            height: Length.px(Math.abs(locaRect[3][1] - locaRect[0][1]))\n        }\n\n        this.trigger('drawAreaView', this.dragRect);\n\n        var { left: x, top: y, width, height } = this.dragRect\n        var rect = {\n            x: x.value,\n            y: y.value,\n            width: width.value,\n            height: height.value\n        }\n\n        const selectedItems = this.getSelectedItems(rect, toRectVertiesWithoutTransformOrigin([startVertex, endVertex]))\n\n        if (this.$selection.selectByGroup(...selectedItems)) {\n            this.emit('refreshSelection')\n            this.emit('refreshSelectionTool', true);\n        }\n    }\n\n    [SUBSCRIBE('endDragAreaView')] () {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const newDist = vec3.floor([], vec3.subtract([], targetMousePoint, this.initMousePoint));        \n        this.$config.set(\"hoverView\", true);\n    \n        if (newDist[0] === 0 && newDist[1] === 0) {\n            this.$selection.empty();\n        }\n\n        this.trigger('initDrawAreaView')\n\n\n        this.$selection.reselect();\n        this.emit('history.refreshSelection')\n        this.emit('refreshSelectionTool', true);            \n\n        this.emit('removeGuideLine')\n    }\n\n}","\nimport { POINTERSTART, POINTEROVER, POINTEROUT, IF, PREVENT, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { clone} from \"el/sapa/functions/func\";\nimport { mat4, vec3 } from \"gl-matrix\";\nimport { Transform } from \"el/editor/property-parser/Transform\";\nimport { TransformOrigin } from \"el/editor/property-parser/TransformOrigin\";\nimport { calculateAngle360, calculateAngleForVec3, calculateMatrix, calculateMatrixInverse, makeGuidePoint, round } from \"el/utils/math\";\nimport { getRotatePointer } from \"el/utils/collision\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './SelectionView.scss';\n\nvar directionType = {\n    1: 'to top left',\n    2: 'to top right',\n    3: 'to bottom right',\n    4: 'to bottom left',\n    11: 'to top',\n    12: 'to right',\n    13: 'to bottom',\n    14: 'to left',\n}\n\nconst SelectionToolEvent = class  extends EditorElement {\n\n    [SUBSCRIBE('refreshSelectionTool')] (isShow = true) { \n        this.initSelectionTool(isShow);\n    }\n\n    [SUBSCRIBE('updateViewport')] () { \n        if (this.$selection.isOne && this.$modeView.isCurrentMode('CanvasView')) {        \n            this.initSelectionTool();\n        }\n    }    \n}\n\n/**\n *     scale   world      \n */\nexport default class SelectionToolView extends SelectionToolEvent {\n\n    template() {\n        return /*html*/`\n            <div class='elf--selection-view one-selection-view' ref='$selectionView' style='display:none' >\n                <div class='pointer-rect' ref='$pointerRect'></div>\n            </div>\n        `\n    }\n\n    [SUBSCRIBE('keymap.keydown')] (e) {\n        const keyString = [\n            e.altKey    ? 'ALT'     : '',\n            e.ctrlKey   ? 'CTRL'    : '',\n            e.shiftKey  ? 'SHIFT'   : '',\n            e.metaKey   ? 'META'    : ''\n        ].join(\"\");\n\n        if (e.shiftKey && keyString === 'SHIFT') {\n            this.$el.attr('data-has-shift', 'true')\n        } else {\n            if (this.$el.attr('data-has-shift') === 'true') {\n                this.$el.attr('data-has-shift', '')\n            }\n\n        }\n    }\n\n    [SUBSCRIBE('keymap.keyup')] (e) {\n        this.$el.attr('data-has-shift', '')\n    }    \n\n    toggleEditingPath (isEditingPath) {\n        this.$el.toggleClass('editing-path', isEditingPath);\n    }\n    \n    [POINTERSTART('$pointerRect .rotate-pointer') + MOVE('rotateVertex') + END('rotateEndVertex')] (e) {\n        this.state.moveType = 'rotate'; \n        this.initMousePoint = this.$viewport.getWorldPosition(e);        \n\n        // this.$selection.doCache();\n\n        this.$selection.reselect();            \n        this.verties = clone(this.$selection.verties);\n        this.$snapManager.clear();\n        this.rotateTargetNumber = (+e.$dt.attr('data-number'));       \n        this.refreshRotatePointerIcon()  \n        this.state.dragging = true;  \n        this.state.isRotate = true;       \n        this.$config.set('set.move.control.point', true);                \n    }\n\n    rotateVertex () {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const distVector = vec3.subtract([], targetMousePoint, this.initMousePoint);\n\n        const targetRotatePointer = this.rotateTargetNumber === 4 ?  getRotatePointer(this.verties, 34) : this.verties[this.rotateTargetNumber];\n\n        var distAngle = Math.floor(calculateAngleForVec3(\n            targetRotatePointer, \n            this.verties[4], \n            distVector\n        ));\n\n        //  matrix  current     . \n        //          . \n        let currentMatrix = this.$selection.cachedCurrentItemMatrix;\n        const instance = this.$selection.current;\n\n        if (instance) {\n\n            let newTransform = Transform.addTransform(currentMatrix.transform, `rotateZ(${Length.deg(distAngle).round(1000)})`)\n\n            if (this.$config.get('bodyEvent').shiftKey) {\n                const newRotateX = Transform.get(newTransform, 'rotateZ');\n\n                if (newRotateX[0]) {\n                    const angle = newRotateX[0].value - newRotateX[0].value % this.$config.get('fixed.angle');\n\n                    newTransform = Transform.rotateZ(newTransform, Length.deg(angle));\n                }\n\n            }\n\n            instance.reset({\n                transform: newTransform \n            })\n        }\n\n        this.state.dragging = true;\n        this.command('setAttributeForMulti', 'change rotate', this.$selection.pack('transform'));                \n    }\n\n    rotateEndVertex () {\n        this.state.dragging = false;     \n        this.state.isRotate = false;           \n        this.emit('recoverCursor');\n        this.$config.set('set.move.control.point', false);        \n        //     \n        this.verties = null;\n\n        this.nextTick(() => {\n            this.command(\n                'setAttributeForMulti', \n                'change rotate',\n                this.$selection.pack('transform')\n            );  \n        })        \n    }\n\n    refreshRotatePointerIcon (e) {\n        this.emit('refreshCursor', 'rotate')\n    }\n\n\n    refreshPointerIcon (e) {\n\n        const dataPointer = e.$dt.data('pointer');\n\n        if (dataPointer) {\n\n            const pointer = dataPointer.split(',').map(it => Number(it))\n\n            const diff = vec3.subtract([], pointer, this.state.renderPointerList[0][4]);\n            const angle = calculateAngle360(diff[0], diff[1]);\n            let iconAngle = Math.floor(angle)  - 135;\n            this.emit('refreshCursor', 'open_in_full', `rotate(${iconAngle} 12 12)`)\n        } else {\n            this.emit('recoverCursor');\n        }\n\n    }\n\n    checkPointerIsNotMoved (e) {\n        return Boolean(this.state.dragging) === false;\n    }\n\n    [POINTEROVER('$pointerRect .rotate-pointer') + IF('checkPointerIsNotMoved')] (e) {\n        this.refreshRotatePointerIcon(e);\n    }\n\n    [POINTEROVER('$pointerRect .pointer') + IF('checkPointerIsNotMoved')] (e) {\n        this.refreshPointerIcon(e);\n    }\n\n    [POINTEROUT('$pointerRect .pointer,.rotate-pointer') + IF('checkPointerIsNotMoved')] (e) {\n        this.emit('recoverCursor');\n    }\n\n    [POINTERSTART('$pointerRect .pointer') + MOVE('moveVertex') + END('moveEndVertex')] (e) {\n        this.refreshPointerIcon(e);\n        this.state.dragging = true; \n\n        const num = +e.$dt.attr('data-number')\n        const direction =  directionType[`${num}`];\n\n        this.initMousePoint = this.$viewport.getWorldPosition(e);        \n        this.state.moveType = direction; \n        this.state.moveTarget = num; \n\n        this.$selection.reselect();        \n        this.$snapManager.clear();            \n        this.verties = this.$selection.verties;\n\n        const rotateZ = Transform.get(this.$selection.current.transform, 'rotateZ');\n        this.hasRotate = rotateZ && rotateZ.length && rotateZ[0].value != 0\n\n        this.$config.set('set.move.control.point', true);\n\n    }\n\n    calculateNewOffsetMatrixInverse (vertexOffset, width, height, origin, itemMatrix) {\n\n        const center = vec3.subtract(\n            [], \n            TransformOrigin.scale(origin,width, height), \n            vertexOffset\n        );\n\n        return calculateMatrixInverse(\n            mat4.fromTranslation([], vertexOffset),\n            mat4.fromTranslation([], center),\n            itemMatrix,\n            mat4.fromTranslation([], vec3.negate([], center)),\n        );        \n    }\n\n    calculateDistance (vertex, distVector, reverseMatrix) {\n\n        // 1.  vertex  . \n        const currentVertex = vec3.clone(vertex);\n\n        // 2. dx, dy   vertex  .        \n        // - dx, dy     snap     dx, dy        \n        const snap = this.$snapManager.check([\n            vec3.add([], currentVertex, distVector)\n        ]);\n\n        const nextVertex = vec3.add([], currentVertex, vec3.add([], distVector, snap ));\n\n        // 3. invert matrix      .             \n        var currentResult = vec3.transformMat4([], currentVertex, reverseMatrix); \n        var nextResult = vec3.transformMat4([], nextVertex, reverseMatrix); \n\n        // 4.    . \n        const realDist = vec3.add([], nextResult, vec3.negate([], currentResult))\n\n        return realDist\n    }\n\n    calculateRealDist (item, vertexIndex, distVector) {\n        return this.calculateDistance(\n            item.verties[vertexIndex],    // top center \n            distVector, \n            item.accumulatedMatrixInverse\n        );\n    }\n\n    moveItem (instance, lastStartVertex, newWidth, newHeight) {\n\n        if (instance) {\n\n            const data = {\n                x: Length.px(lastStartVertex[0] + (newWidth < 0 ? newWidth : 0)),\n                y: Length.px(lastStartVertex[1] + (newHeight < 0 ? newHeight : 0)),\n                width: Length.px(Math.abs(newWidth)),\n                height: Length.px(Math.abs(newHeight)),\n            }\n\n            if (this.hasRotate) {\n                // noop \n            } else {\n                data.x = data.x.floor();\n                data.y = data.y.floor();\n                data.width = data.width.floor();\n                data.height = data.height.floor();\n            }\n\n            instance.reset(data)    \n        }\n\n    }\n\n    moveDirectionVertex (item, newWidth, newHeight, direction, directionNewVector) {\n\n        //  offset x, y  . \n        const view = calculateMatrix(\n            item.directionMatrix[direction],\n            this.calculateNewOffsetMatrixInverse (\n                directionNewVector, \n                newWidth, newHeight, \n                item.originalTransformOrigin, \n                item.itemMatrix\n            )\n        );\n\n        const lastStartVertex = mat4.getTranslation([], view);\n\n        this.moveItem (this.$model.get(item.id), lastStartVertex, newWidth, newHeight);\n    }\n\n    moveBottomRightVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n\n            let [realDx, realDy] = this.calculateRealDist(item, 2, distVector)\n\n            if (this.$config.get('bodyEvent').shiftKey) {\n                realDy = realDx * item.height/item.width;\n            }                \n\n            //     \n            const newWidth = item.width + realDx;\n            const newHeight = item.height + realDy;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to top left', [0, 0, 0])\n\n        }\n    }\n\n\n    moveTopRightVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n\n            let [realDx, realDy] = this.calculateRealDist(item, 1, distVector)\n\n            if (this.$config.get('bodyEvent').shiftKey) {\n                realDy = -(realDx * item.height/item.width);\n            }\n\n            //     \n            const newWidth = item.width + realDx;\n            const newHeight = item.height - realDy;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to bottom left', [0, newHeight, 0])       \n        }\n    }\n\n\n    moveTopLeftVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n            let [realDx, realDy] = this.calculateRealDist(item, 0, distVector)\n\n            if (this.$config.get('bodyEvent').shiftKey) {\n                realDy = realDx * item.height/item.width;\n            }\n\n            //     \n            const newWidth = item.width - realDx;\n            const newHeight = item.height - realDy;            \n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to bottom right', [newWidth, newHeight, 0])            \n        }\n    }\n\n\n    moveTopVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n\n            const [realDx, realDy] = this.calculateRealDist(item, 0, distVector)\n\n            //     \n            const newWidth = item.width;\n            const newHeight = item.height - realDy;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to bottom', [newWidth/2, newHeight, 0]);  \n        }\n    }    \n\n\n\n    moveBottomVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n            const [realDx, realDy] = this.calculateRealDist(item, 3, distVector)\n\n            //     \n            const newWidth = item.width;\n            const newHeight = item.height + realDy;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to top', [newWidth/2, 0, 0]);\n        }\n    }    \n\n\n    moveRightVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n\n            const [realDx, realDy] = this.calculateRealDist(item, 1, distVector)\n\n            //     \n            const newWidth = item.width + realDx;\n            const newHeight = item.height;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to left', [0, newHeight/2, 0]);            \n        }\n    }       \n    \n    moveLeftVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n\n            const [realDx, realDy] = this.calculateRealDist(item, 0, distVector)\n\n            //     \n            const newWidth = item.width - realDx;\n            const newHeight = item.height;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to right', [newWidth, newHeight/2, 0]);\n        }\n    }           \n\n\n    moveBottomLeftVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n\n            let [realDx, realDy] = this.calculateRealDist(item, 3, distVector)\n\n            if (this.$config.get('bodyEvent').shiftKey) {\n                realDy = -(realDx * item.height/item.width);\n            }            \n\n            //     \n            const newWidth = item.width - realDx;\n            const newHeight = item.height + realDy;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to top right', [newWidth, 0, 0]);\n        }\n    }\n\n\n    moveVertex () {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const distVector = vec3.subtract([], targetMousePoint, this.initMousePoint);\n\n        if (this.state.moveType === 'to top left') {                // 1\n            this.moveTopLeftVertex(distVector);        \n        } else if (this.state.moveType === 'to top') {              // 11\n            this.moveTopVertex(distVector);    \n        } else if (this.state.moveType === 'to right') {           // 12\n            this.moveRightVertex(distVector);                                    \n        } else if (this.state.moveType === 'to bottom') {           // 13\n            this.moveBottomVertex(distVector);                        \n        } else if (this.state.moveType === 'to left') {           // 14\n            this.moveLeftVertex(distVector);                                                \n        } else if (this.state.moveType === 'to top right') {        // 2\n            this.moveTopRightVertex(distVector);\n        } else if (this.state.moveType === 'to bottom right') {     // 3\n            this.moveBottomRightVertex(distVector);\n        } else if (this.state.moveType === 'to bottom left') {      // 4 \n            this.moveBottomLeftVertex(distVector);                                \n        }    \n\n        this.emit('setAttributeForMulti', this.$selection.pack('x', 'y', 'width', 'height'));\n\n        this.state.dragging = true; \n    }\n\n    moveEndVertex () {\n        this.state.dragging = false;         \n        this.emit('recoverCursor');\n        this.$selection.reselect();\n        this.$config.set('set.move.control.point', false);        \n\n        this.nextTick(() => {\n            this.command(\n                'setAttributeForMulti', \n                'move selection pointer',\n                this.$selection.pack('x', 'y', 'width', 'height')\n            );  \n        })      \n    }\n\n    initSelectionTool(isShow = true) {\n        if (this.$el.isShow() && this.$selection.isOne === false) {\n             this.$el.hide();\n        } else if (this.$el.isHide() && this.$selection.isOne) {\n            this.$el.show();\n        }\n\n        this.makeSelectionTool();                    \n\n    }      \n\n    makeSelectionTool() {\n        this.renderPointers();\n    }\n\n\n    /**\n     *    \n     */\n    renderPointers () {\n\n        if (!this.$selection.cachedCurrentItemMatrix) {\n            return ;\n        }\n\n        if (this.$selection.isEmpty) {\n            return ;\n        }\n\n        const verties = this.$selection.verties;\n        const selectionVerties = this.$selection.selectionVerties;              \n        this.state.renderPointerList = [\n            this.$viewport.applyVerties(verties),\n            this.$viewport.applyVerties(selectionVerties),\n        ]\n\n\n        const pointers = this.createRenderPointers(...this.state.renderPointerList);\n\n        if (pointers) {\n            const {line, point, size} = pointers;\n            this.refs.$pointerRect.updateDiff(line + point + size)\n        }\n\n\n    }\n\n\n    createPointer (pointer, number, rotate) {\n        return /*html*/`\n        <div class='pointer' data-number=\"${number}\" data-pointer=\"${pointer}\" style=\"transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px) rotateZ(${rotate||'0deg'})\" ></div>\n        `\n    }\n\n    createPointerSide (pointer, number, rotate, width, height) {\n        return /*html*/`\n        <div class='pointer' data-number=\"${number}\" data-pointer=\"${pointer}\" style=\"width: ${width}px; height: ${height}px;transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px) rotateZ(${rotate||'0deg'})\" ></div>\n        `\n    }\n\n\n    createRotatePointer (pointer, number, direction) {\n        if (pointer.length === 0) return '';        \n\n        if (number < 4) {\n            return /*html*/`\n            <div class='rotate-pointer no-fill' data-number=\"${number}\" style=\"transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px) scale(1.8);\" ></div>\n            `            \n        }                \n\n        return /*html*/`\n        <div class='rotate-pointer' data-number=\"${number}\" style=\"transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px)\" ></div>\n        `\n    }    \n\n    createPointerRect (pointers, rotatePointer, parentVector) {\n        if (pointers.length === 0) return '';\n\n        const current = this.$selection.current;         \n        const isArtBoard = current && current.is('artboard');\n        let line = '';\n        if (!isArtBoard) {\n            const centerPointer = vec3.lerp([], pointers[0], pointers[1], 0.5);            \n            line += `\n                M ${centerPointer[0]},${centerPointer[1]} \n                L ${rotatePointer[0]},${rotatePointer[1]} \n            `\n        }\n\n\n        return /*html*/`\n        <svg class='line' overflow=\"visible\">\n            <path \n                d=\"\n                    M ${pointers[0][0]}, ${pointers[0][1]} \n                    L ${pointers[1][0]}, ${pointers[1][1]} \n                    L ${pointers[2][0]}, ${pointers[2][1]} \n                    L ${pointers[3][0]}, ${pointers[3][1]} \n                    L ${pointers[0][0]}, ${pointers[0][1]}\n                    ${line}\n                    Z\n                \" />\n        </svg>`\n    }    \n\n    createSize (pointers) {\n        const top = vec3.lerp([], pointers[0], pointers[1], 0.5);\n        const right = vec3.lerp([], pointers[1], pointers[2], 0.5);\n        const bottom = vec3.lerp([], pointers[2], pointers[3], 0.5);\n        const left = vec3.lerp([], pointers[3], pointers[0], 0.5);\n\n        const list = [\n            { start: top, end: bottom}, \n            { start: right, end: left },\n            { start: bottom, end: top }, \n            { start: left, end: right }\n        ].map((it, index) => { \n            return { index, data: it }\n        })\n\n        list.sort((a, b) => {\n            return a.data.start[1] > b.data.start[1] ? -1 : 1; \n        })\n\n        const item = list[0];\n\n        const newPointer  = vec3.lerp([], item.data.end, item.data.start, 1 + 16/vec3.dist(item.data.start, item.data.end))\n        const width = this.$selection.current.width.value\n        const height = this.$selection.current.height.value\n        const diff = vec3.subtract([], item.data.start, item.data.end);\n        const angle = calculateAngle360(diff[0], diff[1]) + 90;\n\n        let text = `${round(width, 100)} x ${round(height, 100)}`;\n\n        if (this.state.isRotate) {\n            const rotateZ = Transform.get(this.$selection.current.transform, 'rotateZ')\n\n            if (rotateZ) {\n                text = `${round(rotateZ[0].value, 1000)}`\n            }\n        }\n\n        return /*html*/`\n            <div \n                data-layout=\"${this.$selection.current.layout}\"\n                class='size-pointer' \n                style=\"transform: translate3d( calc(${newPointer[0]}px - 50%), calc(${newPointer[1]}px - 50%), 0px) rotateZ(${angle}deg)\" >\n               ${text}\n            </div>\n        `\n    }\n\n    createRenderPointers(pointers, selectionPointers) {\n\n        const current = this.$selection.current; \n\n        if (current && current.is(\"text\")) {\n            if (current.width.value === 0 && current.height.value === 0) {\n                return;\n            }\n        }\n\n        const isArtBoard = current && current.is('artboard');\n\n        const diff = vec3.subtract(\n            [], \n            vec3.lerp([], pointers[0], pointers[1], 0.5), \n            vec3.lerp([], pointers[0], pointers[2], 0.5), \n        );\n\n        //TODO:       . \n        const rotate = Length.deg(calculateAngle360(diff[0], diff[1]) + 90).round(1000);\n\n        const rotatePointer = getRotatePointer(pointers, 34)\n        const dist = vec3.dist(pointers[0], pointers[2]);\n        const width = vec3.dist(pointers[0], pointers[1]);\n        const height = vec3.dist(pointers[0], pointers[3]);\n\n        return {\n            line: this.createPointerRect(pointers, rotatePointer), \n            size: this.createSize(pointers),\n            point: [\n                // 4  rotate    \n                this.createRotatePointer (selectionPointers[0], 0),\n                this.createRotatePointer (selectionPointers[1], 1),\n                this.createRotatePointer (selectionPointers[2], 2),\n                this.createRotatePointer (selectionPointers[3], 3),\n                isArtBoard ? undefined : this.createRotatePointer (rotatePointer, 4, 'center center'),\n\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[0], pointers[1], 0.5), 11, rotate, width, 5),\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[1], pointers[2], 0.5), 12, rotate, 5, height),\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[2], pointers[3], 0.5), 13, rotate, width, 5),\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[3], pointers[0], 0.5), 14, rotate, 5, height),\n                this.createPointer (pointers[0], 1, rotate),\n                this.createPointer (pointers[1], 2, rotate),\n                this.createPointer (pointers[2], 3, rotate),\n                this.createPointer (pointers[3], 4, rotate),\n\n                // center position \n                this.createPointer (pointers[4], 5, rotate),                \n            ].join('')\n        }\n    }\n\n    checkShow() {\n        if (this.$selection.isOne) {\n            if (this.$selection.hasChangedField('x', 'y', 'width', 'height', 'transform', 'transform-origin', 'perspective', 'perspective-origin')) {            \n                return true; \n            }\n        }\n\n        return false; \n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView') + IF('checkShow')] () {\n        this.renderPointers()\n    }\n\n    [SUBSCRIBE('hideSelectionToolView')] () {\n        this.$el.hide();\n    }\n\n} ","\nimport { POINTERSTART, POINTEROUT, POINTEROVER, IF, PREVENT, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { clone } from \"el/sapa/functions/func\";\nimport { mat4, vec3 } from \"gl-matrix\";\nimport { Transform } from \"el/editor/property-parser/Transform\";\nimport { TransformOrigin } from \"el/editor/property-parser/TransformOrigin\";\nimport { calculateAngle, calculateAngle360, calculateAngleForVec3, calculateMatrix, calculateMatrixInverse, calculateRotationOriginMat4, round, vertiesMap } from \"el/utils/math\";\nimport { getRotatePointer, rectToVerties } from \"el/utils/collision\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './SelectionView.scss';\n\n\nvar directionType = {\n    1: 'to top left',\n    2: 'to top right',\n    3: 'to bottom right',\n    4: 'to bottom left',\n    11: 'to top',\n    12: 'to right',\n    13: 'to bottom',\n    14: 'to left',    \n}\n\nconst SelectionToolEvent = class  extends EditorElement {\n\n    [SUBSCRIBE('refreshSelectionTool')] (isInitializeMatrix = true) { \n        this.initSelectionTool(isInitializeMatrix);\n    }\n\n    [SUBSCRIBE('updateViewport')] (isInitializeMatrix = true) {\n        if (this.$selection.isMany) {        \n            this.initSelectionTool(isInitializeMatrix);\n        }\n    }\n\n}\n\n/**\n *     scale   world      \n */\nexport default class GroupSelectionToolView extends SelectionToolEvent {\n\n    template() {\n        return /*html*/`\n            <div class='elf--selection-view group-selection-view' ref='$selectionView'  style='display:none' >\n                <div class='pointer-rect' ref='$pointerRect'></div>        \n            </div>\n        `\n    }\n\n\n    [SUBSCRIBE('keymap.keydown')] (e) {\n        const keyString = [\n            e.altKey    ? 'ALT'     : '',\n            e.ctrlKey   ? 'CTRL'    : '',\n            e.shiftKey  ? 'SHIFT'   : '',\n            e.metaKey   ? 'META'    : ''\n        ].join(\"\");\n\n        if (e.shiftKey && keyString === 'SHIFT') {\n            this.$el.attr('data-has-shift', 'true')\n        } else {\n            if (this.$el.attr('data-has-shift') === 'true') {\n                this.$el.attr('data-has-shift', '')\n            }\n\n        }\n    }\n\n    [SUBSCRIBE('keymap.keyup')] (e) {\n        this.$el.attr('data-has-shift', '')\n    }        \n\n    toggleEditingPath (isEditingPath) {\n        this.refs.$selectionView.toggleClass('editing-path', isEditingPath);\n    }\n    \n    [POINTERSTART('$pointerRect .rotate-pointer') + MOVE('rotateVertex') + END('rotateEndVertex')] (e) {\n        this.state.moveType = 'rotate'; \n        this.initMousePoint = this.$viewport.getWorldPosition(e);        \n\n        // cache matrix \n        // this.$selection.reselect();        \n        this.verties = this.groupItem.verties;        \n        this.rotateTargetNumber = (+e.$dt.attr('data-number')); \n\n        this.refreshRotatePointerIcon()\n        this.state.dragging = true;    \n        this.state.isRotate = true; \n        this.$config.set('set.move.control.point', true);                \n    }\n\n    rotateVertex () {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const distVector = vec3.subtract([], targetMousePoint, this.initMousePoint);\n\n        const targetRotatePointer = this.rotateTargetNumber === 4 ?  getRotatePointer(this.verties, 34) : this.verties[this.rotateTargetNumber];        \n\n        var distAngle = Math.floor(calculateAngleForVec3(\n            targetRotatePointer, \n            this.verties[4], \n            distVector\n        ));\n\n        if (this.$config.get('bodyEvent').shiftKey) {\n            distAngle = distAngle - distAngle % this.$config.get('fixed.angle');\n        }\n\n        //   angle \n        this.localAngle = this.angle + distAngle;\n\n        this.groupItem.reset({\n            transform: Transform.rotateZ(this.groupItem.transform, Length.deg(this.localAngle) ) \n        })\n\n        const selectionMatrix = calculateRotationOriginMat4(distAngle, this.verties[4])\n\n        // angle     ?  \n        let cachedItemMatrices = this.$selection.cachedItemMatrices;\n\n        //              . \n        if (this.$selection.length === 1) {\n            cachedItemMatrices = cachedItemMatrices.filter(it => it.id === this.$selection.current.id) \n        }\n\n        cachedItemMatrices.forEach(item => {\n            const newVerties = vertiesMap(\n                item.verties, \n                mat4.multiply(\n                    [], \n                    item.parentMatrixInverse, \n                    selectionMatrix\n                )\n            );      //      \n    \n            const rotatePointer = getRotatePointer(newVerties, 34)\n\n            var lastAngle = calculateAngle(\n                rotatePointer[0] - newVerties[4][0],\n                rotatePointer[1] - newVerties[4][1],\n            ) - 270\n            \n            const newTranslate = vec3.transformMat4(\n                [], \n                newVerties[0], \n                calculateRotationOriginMat4(-lastAngle, newVerties[4])\n            );\n\n            const instance = this.$model.get(item.id)\n\n            if (instance) {\n                instance.reset({\n                    x: Length.px(newTranslate[0]), \n                    y: Length.px(newTranslate[1]),\n                    transform: Transform.rotateZ(item.transform, Length.deg(lastAngle) ) \n                })\n            }\n\n        })\n\n        this.state.dragging = true;        \n\n        this.emit(\n            'setAttributeForMulti', \n            this.$selection.pack('x', 'y', 'width', 'height', 'transform')\n        );                    \n    }\n\n    rotateEndVertex () {\n\n        this.state.dragging = false;        \n        this.state.isRotate = false;         \n        this.emit('recoverCursor');\n        this.$config.set('set.move.control.point', false);                \n\n        //  verties    . \n        this.$selection.reselect();   \n        this.initMatrix(true);\n        this.nextTick(() => {\n            this.command(\n                'setAttributeForMulti', \n                'rotate selection pointer',\n                this.$selection.pack('x', 'y', 'width', 'height', 'transform')\n            );  \n        })                \n    }\n\n\n    refreshRotatePointerIcon (e) {\n        this.emit('refreshCursor', 'rotate')\n    }\n\n    refreshPointerIcon (e) {\n\n        const dataPointer = e.$dt.data('pointer');\n\n        if (dataPointer) {\n\n            const pointer = dataPointer.split(',').map(it => Number(it))\n\n            const diff = vec3.subtract([], pointer, this.state.renderPointerList[0][4]);\n            const angle = calculateAngle360(diff[0], diff[1]);\n            let iconAngle = Math.floor(angle)  - 135\n            this.emit('refreshCursor', 'open_in_full', `rotate(${iconAngle} 12 12)`)\n        } else {\n            this.emit('recoverCursor');\n        }\n\n    }\n\n    checkPointerIsNotMoved (e) {\n        return Boolean(this.state.dragging) === false;\n    }\n\n    [POINTEROVER('$pointerRect .rotate-pointer') + IF('checkPointerIsNotMoved') + PREVENT] (e) {\n        this.refreshRotatePointerIcon(e);\n    }\n\n    [POINTEROVER('$pointerRect .pointer') + IF('checkPointerIsNotMoved') + PREVENT] (e) {\n        this.refreshPointerIcon(e);            \n    }\n\n    [POINTEROUT('$pointerRect .pointer,.rotate-pointer') + IF('checkPointerIsNotMoved') + PREVENT] (e) {\n        this.emit('recoverCursor');\n    }    \n\n\n    [POINTERSTART('$pointerRect .pointer') + PREVENT + MOVE('moveVertex') + END('moveEndVertex')] (e) {\n        this.refreshPointerIcon(e);\n        this.state.dragging = true; \n        const num = +e.$dt.attr('data-number')\n        this.state.moveType = directionType[`${num}`]; \n        this.initMousePoint = this.$viewport.getWorldPosition(e);        \n\n        // cache matrix \n        // this.$selection.doCache();\n        this.$selection.reselect();\n        this.initMatrix(true);\n        this.cachedGroupItem = this.groupItem.matrix;\n        this.$config.set('set.move.control.point', true);                \n    }\n\n    calculateNewOffsetMatrixInverse (vertextOffset, width, height, origin, itemMatrix) {\n\n        const center = vec3.add(\n            [], \n            TransformOrigin.scale(origin,width, height), \n            vec3.negate([], vertextOffset)\n        );\n\n        return calculateMatrixInverse(\n            mat4.fromTranslation([], vertextOffset),\n            mat4.fromTranslation([], center),\n            itemMatrix,\n            mat4.fromTranslation([], vec3.negate([], center)),\n        );\n    }\n\n    calculateDistance (vertext, distVector, reverseMatrix) {\n        // 1.  vertext  . \n        const currentVertex = vec3.clone(vertext);\n\n        // 2. dx, dy   vertext  .        \n        // - dx, dy     snap     dx, dy        \n        const snap = this.$snapManager.check([\n            vec3.add([], currentVertex, distVector)\n        ]);\n\n        const nextVertex = vec3.add([], currentVertex, vec3.add([], distVector, snap ));\n\n        // 3. invert matrix      .             \n        var currentResult = vec3.transformMat4([], currentVertex, reverseMatrix); \n        var nextResult = vec3.transformMat4([], nextVertex, reverseMatrix); \n\n        // 4.    . \n        const realDist = vec3.floor([], vec3.add([], nextResult, vec3.negate([], currentResult)))\n\n        return realDist\n    }\n\n   \n    calculateRealDist (item, vertextIndex, distVector) {\n        return this.calculateDistance(\n            item.verties[vertextIndex],    // top center \n            distVector, \n            item.accumulatedMatrixInverse\n        );\n    } \n\n    moveGroupItem (lastStartVertex, newWidth, newHeight) {\n\n        this.groupItem.reset({\n            x: Length.px(lastStartVertex[0] + (newWidth < 0 ? newWidth : 0)).round(1000),\n            y: Length.px(lastStartVertex[1] + (newHeight < 0 ? newHeight : 0)).round(1000),\n            width: Length.px(Math.abs(newWidth)).round(1000),\n            height: Length.px(Math.abs(newHeight)).round(1000),\n        })    \n    }   \n    \n    moveItemForGroup (it, newVerties, realDx = 0, realDy = 0) {\n\n        const transformViewInverse = calculateMatrixInverse(\n            mat4.fromTranslation([], newVerties[4]),\n            it.itemMatrix,\n            mat4.fromTranslation([], vec3.negate([], newVerties[4])),\n        );\n\n        const [newX, newY] = vec3.transformMat4([], newVerties[0], transformViewInverse);\n        const newWidth = vec3.distance(newVerties[0], newVerties[1])\n        const newHeight = vec3.distance(newVerties[0], newVerties[3])\n\n        const instance = this.$model.get(it.id)\n\n        if (instance) {\n            instance.reset({\n                x: Length.px(newX + realDx), \n                y: Length.px(newY + realDy),\n                width: Length.px(newWidth),\n                height: Length.px(newHeight)\n            })\n            // instance.recover();              \n        }            \n    }\n\n    recoverItemForGroup (groupItem, scaleX, scaleY, realDx = 0, realDy = 0) {\n\n        const accumulatedMatrix = groupItem.accumulatedMatrix;\n        const accumulatedMatrixInverse = groupItem.accumulatedMatrixInverse;\n\n        this.$selection.cachedItemMatrices.forEach(it => {\n\n            const localView = calculateMatrix(\n                it.parentMatrixInverse,         // 5.   parent     . \n                accumulatedMatrix,    // 4.     \n                mat4.fromTranslation([], [realDx, realDy, 0]),      // 3. dx, dy  -    \n                mat4.fromScaling([], [scaleX, scaleY, 1]),  // 2. scale    \n                accumulatedMatrixInverse          // 1.    \n            )\n\n            const newVerties = vertiesMap(it.verties, localView);\n\n            this.moveItemForGroup(it, newVerties);\n        })\n\n    }\n\n\n    moveBottomRightVertex (distVector) {\n\n        const groupItem = this.cachedGroupItem;\n\n        let [realDx, realDy] = this.calculateRealDist(groupItem, 2, distVector);\n\n        if (this.$config.get('bodyEvent').shiftKey) {\n            realDy = realDx * groupItem.height/groupItem.width;\n        }                \n\n        //     \n        const newWidth = groupItem.width + realDx;\n        const newHeight = groupItem.height + realDy;\n\n        this.moveDirectionVertex(groupItem, 0, 0, newWidth, newHeight, 'to top left', [0, 0, 0])                \n    }\n\n\n    moveTopRightVertex (distVector) {\n        const groupItem = this.cachedGroupItem;\n\n        let [realDx, realDy] = this.calculateRealDist(groupItem, 1, distVector);\n\n        if (this.$config.get('bodyEvent').shiftKey) {\n            realDy = -(realDx * groupItem.height/groupItem.width);\n        }                \n \n        //     \n        const newWidth = groupItem.width + realDx;\n        const newHeight = groupItem.height - realDy;\n\n        this.moveDirectionVertex(groupItem, 0, realDy, newWidth, newHeight, 'to bottom left', [0, newHeight, 0])        \n    }\n\n\n    moveDirectionVertex(groupItem, realDx, realDy, newWidth, newHeight, direction, directionNewVector) {\n\n        const scaleX = newWidth / groupItem.width;\n        const scaleY = newHeight / groupItem.height;\n\n        if (scaleX >= 0 && scaleY >= 0) {\n            //  offset x, y  . \n            const view = calculateMatrix(\n                groupItem.directionMatrix[direction],\n                this.calculateNewOffsetMatrixInverse (\n                    directionNewVector, \n                    newWidth, newHeight, \n                    groupItem.originalTransformOrigin, \n                    groupItem.itemMatrix\n                )\n            );        \n\n\n            const lastStartVertex = mat4.getTranslation([], view);\n\n            this.moveGroupItem (lastStartVertex, newWidth, newHeight);\n\n            this.recoverItemForGroup(groupItem, scaleX, scaleY, realDx, realDy);\n        }\n    }\n\n    moveTopVertex (distVector) {\n        const groupItem = this.cachedGroupItem;\n\n        const [realDx, realDy] = this.calculateRealDist(groupItem, 0, distVector);\n\n        //     \n        const newWidth = groupItem.width;\n        const newHeight = groupItem.height - realDy;\n\n        this.moveDirectionVertex(groupItem, 0, realDy, newWidth, newHeight, 'to bottom', [newWidth/2, newHeight, 0])\n    }    \n\n\n    moveBottomVertex (distVector) {\n        const groupItem = this.cachedGroupItem;\n\n        const [realDx, realDy] = this.calculateRealDist(groupItem, 2, distVector);\n\n        //     \n        const newWidth = groupItem.width;\n        const newHeight = groupItem.height + realDy;\n\n        this.moveDirectionVertex(groupItem, 0, 0, newWidth, newHeight, 'to top', [newWidth/2, 0, 0])        \n    }        \n\n    moveTopLeftVertex (distVector) {\n\n        const groupItem = this.cachedGroupItem;\n\n        let [realDx, realDy] = this.calculateRealDist(groupItem, 0, distVector);\n\n        if (this.$config.get('bodyEvent').shiftKey) {\n            realDy = realDx * groupItem.height/groupItem.width;\n        }\n\n        //     \n        const newWidth = groupItem.width - realDx;\n        const newHeight = groupItem.height - realDy;\n\n        this.moveDirectionVertex(groupItem, realDx, realDy, newWidth, newHeight, 'to bottom right', [newWidth, newHeight, 0])                        \n    }\n\n\n    moveLeftVertex (distVector) {\n\n        const groupItem = this.cachedGroupItem;\n\n        const [realDx, realDy] = this.calculateRealDist(groupItem, 0, distVector);\n\n        //     \n        const newWidth = groupItem.width - realDx;\n        const newHeight = groupItem.height;\n\n        this.moveDirectionVertex(groupItem, realDx, 0, newWidth, newHeight, 'to right', [newWidth, newHeight/2, 0])\n    }   \n    \n\n    moveRightVertex (distVector) {\n\n        const groupItem = this.cachedGroupItem;\n\n        const [realDx, realDy] = this.calculateRealDist(groupItem, 2, distVector);\n\n        //     \n        const newWidth = groupItem.width + realDx;\n        const newHeight = groupItem.height;\n\n\n        this.moveDirectionVertex(groupItem, 0, 0, newWidth, newHeight, 'to left', [0, newHeight/2, 0])        \n    }       \n\n    moveBottomLeftVertex (distVector) {\n\n\n        const groupItem = this.cachedGroupItem;\n\n        let [realDx, realDy] = this.calculateRealDist(groupItem, 3, distVector);\n\n        if (this.$config.get('bodyEvent').shiftKey) {\n            realDy = -(realDx * groupItem.height/groupItem.width);\n        }          \n\n        //     \n        const newWidth = groupItem.width - realDx;\n        const newHeight = groupItem.height + realDy;\n\n        this.moveDirectionVertex(groupItem, realDx, 0, newWidth, newHeight, 'to top right', [newWidth, 0, 0])\n    }\n\n\n    moveVertex () {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const distVector = vec3.subtract([], targetMousePoint, this.initMousePoint);        \n\n        if (this.state.moveType === 'to bottom right') {        // 2\n            this.moveBottomRightVertex(distVector);\n        } else if (this.state.moveType === 'to top right') {\n            this.moveTopRightVertex(distVector);\n        } else if (this.state.moveType === 'to top left') {\n            this.moveTopLeftVertex(distVector);\n        } else if (this.state.moveType === 'to bottom left') {\n            this.moveBottomLeftVertex(distVector); \n        } else if (this.state.moveType === 'to top') {\n            this.moveTopVertex(distVector);\n        } else if (this.state.moveType === 'to left') {\n            this.moveLeftVertex(distVector);\n        } else if (this.state.moveType === 'to right') {\n            this.moveRightVertex(distVector);\n        } else if (this.state.moveType === 'to bottom') {\n            this.moveBottomVertex(distVector);\n        }    \n\n        this.emit(\n            'setAttributeForMulti', \n            this.$selection.pack('x', 'y', 'width', 'height', 'transform')\n        );          \n\n        this.state.dragging = true; \n    }\n\n    moveEndVertex (dx, dy) {        \n        this.state.dragging = false;         \n        this.emit('recoverCursor');   \n        this.$config.set('set.move.control.point', false);                \n        this.$selection.reselect();\n        this.state.dragging = false;               \n        this.initMatrix(true);\n        this.nextTick(() => {\n            this.command(\n                'setAttributeForMulti', \n                'move selection pointer',\n                this.$selection.pack('x', 'y', 'width', 'height', 'transform')\n            );  \n        })        \n    }\n\n    initSelectionTool(isInitializeMatrix = false) {\n\n        if (this.$el.isHide() && this.$selection.isMany) {\n            this.$el.show();\n        } else {\n            if (this.$el.isShow() && this.$selection.isMany === false) this.$el.hide();\n        }\n\n        this.initMatrix(isInitializeMatrix);\n\n        this.makeSelectionTool();\n\n\n    }      \n\n    get item () {\n        const verties = this.verties || rectToVerties(0, 0, 0, 0);\n\n        if (!this.state.newArtBoard) {\n            this.state.newArtBoard = this.$editor.createModel({ itemType: 'artboard' }, false);\n        } \n\n        this.state.newArtBoard.reset({\n            parentId: this.$selection.currentProject.id,\n            x: Length.px(verties[0][0]),\n            y: Length.px(verties[0][1]),\n            width: Length.px(vec3.dist(verties[0], verties[1])),\n            height: Length.px(vec3.dist(verties[0], verties[3])),\n            transform: '', //     transform    . \n        })\n\n        return this.state.newArtBoard; \n    }\n\n    initMatrix(isInitializeMatrix = false) {\n        if (isInitializeMatrix && this.$selection.isMany) {\n            // matrix  \n            this.verties = clone(this.$selection.verties);\n            this.angle = 0;\n            this.localAngle = this.angle;\n            this.groupItem = this.item;     \n            this.cachedGroupItem = this.item.matrix;     \n        } else {\n            //      . \n            // matrix  \n            // this.verties = clone(this.$selection.verties);\n            // this.angle = 0;\n            // this.localAngle = this.angle;\n            // this.groupItem = this.item;     \n            // this.cachedGroupItem = this.item.matrix;     \n        }\n\n    }\n\n    makeSelectionTool() {\n\n        this.renderPointers();\n\n    }\n\n    /**\n     *    \n     */\n    renderPointers () {\n\n        if (!this.groupItem) return;\n\n        const verties = (this.state.dragging) ? this.groupItem.verties : this.$selection.verties;\n        const selectionVerties = this.groupItem.selectionVerties();\n\n        if (verties.length === 0) return;\n\n        this.state.renderPointerList = [\n            this.$viewport.applyVerties(verties),\n            this.$viewport.applyVerties(selectionVerties),\n        ]\n\n        const {line, point, size, elementLine} = this.createRenderPointers(this.state.renderPointerList[0], this.state.renderPointerList[1]);\n\n        this.refs.$pointerRect.updateDiff(line + elementLine + point + size)\n    }\n\n\n    createPointer (pointer, number, rotate) {\n        return /*html*/`\n        <div    \n            class='pointer' \n            data-number=\"${number}\" \n            data-pointer=\"${pointer}\" \n            style=\"transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px) rotateZ(${rotate || '0deg'})\" \n        ></div>\n        `\n    }\n\n\n    createPointerSide (pointer, number, rotate, width, height) {\n        return /*html*/`\n        <div class='pointer' data-number=\"${number}\" data-pointer=\"${pointer}\" style=\"width: ${width}px; height: ${height}px;transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px) rotateZ(${rotate||'0deg'})\" ></div>\n        `\n    }    \n\n    createRotatePointer (pointer, number, direction = 'center center') {\n\n        if (pointer.length === 0) return '';        \n\n        if (number < 4) {\n            return /*html*/`\n            <div class='rotate-pointer no-fill' data-number=\"${number}\" style=\"transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px) scale(1.8);\" ></div>\n            `            \n        }        \n\n        return /*html*/`\n        <div class='rotate-pointer' data-number=\"${number}\" style=\"transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px)\" ></div>\n        `\n    }    \n\n    createPointerRect (pointers, rotatePointer) {\n        if (pointers.length === 0) return '';\n\n        const centerPointer = vec3.lerp([], pointers[0], pointers[1], 0.5);            \n        const line = `\n            M ${centerPointer[0]},${centerPointer[1]} \n            L ${rotatePointer[0]}, ${rotatePointer[1]} \n        `\n\n        return /*html*/`\n        <svg class='line' overflow=\"visible\">\n            <path \n                d=\"\n                    M ${pointers[0][0]}, ${pointers[0][1]} \n                    L ${pointers[1][0]}, ${pointers[1][1]} \n                    L ${pointers[2][0]}, ${pointers[2][1]} \n                    L ${pointers[3][0]}, ${pointers[3][1]} \n                    L ${pointers[0][0]}, ${pointers[0][1]}\n                    ${line}\n                    Z\n                \" />\n        </svg>`        \n    }    \n\n    /**\n     *  path     \n     * \n     * @param {vec3[]} pointers \n     * @returns \n     */\n    createLine (pointers) {\n        return /*html*/`\n            M ${pointers[0][0]}, ${pointers[0][1]} \n            L ${pointers[1][0]}, ${pointers[1][1]} \n            L ${pointers[2][0]}, ${pointers[2][1]} \n            L ${pointers[3][0]}, ${pointers[3][1]} \n            L ${pointers[0][0]}, ${pointers[0][1]}\n            Z\n        `        \n    }\n\n\n    createSize (pointers) {\n        const top = vec3.lerp([], pointers[0], pointers[1], 0.5);\n        const right = vec3.lerp([], pointers[1], pointers[2], 0.5);\n        const bottom = vec3.lerp([], pointers[2], pointers[3], 0.5);\n        const left = vec3.lerp([], pointers[3], pointers[0], 0.5);\n\n        const list = [\n            { start: top, end: bottom}, \n            { start: right, end: left },\n            { start: bottom, end: top }, \n            { start: left, end: right }\n        ].map((it, index) => { \n            return { index, data: it }\n        })\n\n        list.sort((a, b) => {\n            return a.data.start[1] > b.data.start[1] ? -1 : 1; \n        })\n\n        const item = list[0];\n\n        const newPointer  = vec3.lerp([], item.data.end, item.data.start, 1 + 16/vec3.dist(item.data.start, item.data.end))\n        const width = this.groupItem.width.value\n        const height = this.groupItem.height.value\n        const diff = vec3.subtract([], item.data.start, item.data.end);\n        const angle = calculateAngle360(diff[0], diff[1]) + 90;\n\n        let text = `${round(width, 100)} x ${round(height, 100)}`;\n\n        if (this.state.isRotate) {\n            const rotateZ = Transform.get(this.groupItem.transform, 'rotateZ')\n\n            if (rotateZ) {\n                text = `${rotateZ[0].value}`\n            }\n        }\n\n        return /*html*/`\n            <div \n                class='size-pointer' \n                style=\"transform: translate3d( calc(${newPointer[0]}px - 50%), calc(${newPointer[1]}px - 50%), 0px) rotateZ(${angle}deg)\" >\n               ${text}\n            </div>\n        `\n    }    \n\n    createRenderPointers(pointers, selectionPointers) {\n        const isPointerMove = this.$editor.isPointerMove;\n        const diff = vec3.subtract(\n            [], \n            vec3.lerp([], pointers[0], pointers[1], 0.5), \n            vec3.lerp([], pointers[0], pointers[2], 0.5), \n        );\n\n        //TODO:       . \n        const rotate = Length.deg(calculateAngle360(diff[0], diff[1]) - 90).round(1000);\n\n        const rotatePointer = getRotatePointer(pointers, 30)\n        const dist = vec3.dist(pointers[0], pointers[2]);   \n        const width = vec3.dist(pointers[0], pointers[1]);   \n        const height = vec3.dist(pointers[0], pointers[3]);   \n\n        return {\n            line: this.createPointerRect(pointers, rotatePointer), \n            elementLine: `\n                <svg class='line' overflow=\"visible\">\n                    <path \n                        d=\"${this.$selection.items.map((it, index) => {\n                                return this.createLine(this.$viewport.applyVerties(it.originVerties));\n                            }).join(\"\")}\n                        \" />\n                </svg>\n            `,\n            size: this.createSize(pointers),\n            point: [\n                // 4 rotate     \n                this.createRotatePointer (selectionPointers[0], 0, 'bottom right'),\n                this.createRotatePointer (selectionPointers[1], 1, 'bottom left'),\n                this.createRotatePointer (selectionPointers[2], 2, 'top left'),\n                this.createRotatePointer (selectionPointers[3], 3, 'top right'),\n                this.createRotatePointer (rotatePointer, 4, 'center center'),                \n                \n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[0], pointers[1], 0.5), 11, rotate, width, 5),\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[1], pointers[2], 0.5), 12, rotate, 5, height),\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[2], pointers[3], 0.5), 13, rotate, width, 5),\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[3], pointers[0], 0.5), 14, rotate, 5, height),\n\n                this.createPointer (pointers[0], 1, rotate),\n                this.createPointer (pointers[1], 2, rotate),\n                this.createPointer (pointers[2], 3, rotate),\n                this.createPointer (pointers[3], 4, rotate),                \n            ].join('')\n        }\n    }\n\n\n\n    checkShow() {\n        if (this.$selection.isMany) {\n            if (this.$selection.hasChangedField('x', 'y', 'width', 'height', 'transform', 'transform-origin', 'perspective', 'perspective-origin')) {            \n                return true; \n            }\n        }\n\n        return false; \n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView') + IF('checkShow')] () {\n        this.renderPointers()\n    }\n\n    [SUBSCRIBE('hideSelectionToolView')] () {\n        this.$el.hide();\n    }\n} ","\nimport { BIND, CONFIG, DRAGOVER, DROP, IF, normalizeWheelEvent, POINTERSTART, PREVENT, SUBSCRIBE, WHEEL } from \"el/sapa/Event\";\nimport { vec3 } from \"gl-matrix\";\nimport { KEY_CODE } from \"el/editor/types/key\";\nimport Resource from \"el/editor/util/Resource\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport HTMLRenderView from \"./render-view/html-render-view/HTMLRenderView\";\nimport PageTools from \"./render-view/util-panels/PageTools\";\n\nimport LayerAppendView from \"./render-view/draw-panels/LayerAppendView\";\nimport PathDrawView from \"./render-view/draw-panels/PathDrawView\";\nimport PathEditorView from \"./render-view/draw-panels/PathEditorView\";\nimport HoverView from \"./render-view/draw-panels/HoverView\";\nimport GuideLineView from \"./render-view/draw-panels/GuideLineView\";\nimport SelectionInfoView from \"./render-view/draw-panels/SelectionInfoView\";\nimport GridLayoutLineView from \"./render-view/draw-panels/GridLayoutLineView\";\nimport DragAreaView from \"./render-view/draw-panels/DragAreaView\";\nimport DragAreaRectView from \"./render-view/draw-panels/DragAreaRectView\";\nimport SelectionToolView from \"./render-view/draw-panels/SelectionToolView\";\nimport GroupSelectionToolView from \"./render-view/draw-panels/GroupSelectionToolView\";\n\n\nimport './CanvasView.scss';\n\n\nexport default class CanvasView extends EditorElement {\n\n  components() {\n    return {\n      SelectionToolView,\n      GroupSelectionToolView,\n      PageTools,\n      GridLayoutLineView,\n      DragAreaRectView,\n      HTMLRenderView,\n      SelectionInfoView,\n      LayerAppendView,\n      PathEditorView,\n      PathDrawView,\n      HoverView,\n      GuideLineView,\n      DragAreaView\n    }\n  }\n\n  initState() {\n    return {\n      cursor: 'auto',\n      cursorArgs: []\n    }\n  }\n\n  afterRender() {\n    this.nextTick(() => {\n      this.trigger('resizeCanvas');\n      this.emit('moveSelectionToCenter', false);\n      this.refreshCursor();\n    })\n  }\n  template() {\n    return/*html*/`\n      <div class='elf--page-container' tabIndex=\"-1\" ref='$container'>\n        <div class='page-view' ref=\"$pageView\">\n          <div class='page-lock scrollbar' ref='$lock'>            \n\n            <!--      -->\n            <object refClass=\"DragAreaView\" ref=\"$dragAreaView\" />               \n\n            <!-- HTML    --> \n            <object refClass='HTMLRenderView' ref='$elementView' />                                        \n\n            <!--  One Selection Tool --> \n            <object refClass='SelectionToolView' ref='$selectionTool' />\n\n            <!-- Group Selection Tool --> \n            <object refClass='GroupSelectionToolView' ref='$groupSelectionTool' />\n\n            <!--     --> \n            <object refClass=\"DragAreaRectView\" ref=\"$dragAreaRectView\" />                  \n\n            <!-- Grid Layout      --> \n            <object refClass='GridLayoutLineView' ref='$gridLayoutLineView' />            \n\n            <!-- ArtBoard  title     -->\n            <object refClass='SelectionInfoView' ref='$selectionInfoView' />                                                            \n\n            <!--       -->\n            <object refClass='GuideLineView' ref='$guideLineView' />            \n\n            <!-- Hover      -->\n            <object refClass='HoverView' ref='$hoverView' />     \n\n            <!--         -->\n            <object refClass='LayerAppendView' ref='$objectAddView' />       \n\n            <!--      -->\n            <object refClass='PathEditorView' ref='$pathEditorView' />                 \n\n            <!--     -->\n            <object refClass='PathDrawView' ref='$pathDrawView' />            \n\n            <!--      -->\n            ${this.$injectManager.generate('canvas.view')}              \n\n          </div>\n        </div>\n        <object refClass='PageTools' />\n      </div>\n    `;\n  }\n\n  [BIND('$pageView')]() {\n    return {\n      style: {\n        '--elf--canvas-background-color': this.$config.get('style.canvas.background.color')\n      }\n    }\n  }\n\n\n  /**\n   * @debug \n   */\n  makeViewportConsole() {\n\n    if (!this.$viewport.verties) return '';\n    const mouse = this.$viewport.pos;\n\n    return /*html*/`\n      <div style='background-color: rgba(0, 0, 0, 0.5); color: white;position:absolute;left:0px;top:0px;bottom:0px;right:0px;pointer-events:none;'>\n        <div style='position:absolute;width:1px;height:100%;top:0px;left:50%;transform:translateX(-50%);background-color:black;'></div>  \n        <div style='position:absolute;height:1px;width:100%;top:50%;transform:translateY(-50%);background-color:black;'></div>                \n        <div style='position:absolute;display:inline-block;left:0px;top:50%;transform:translateY(-50%);'>${Math.floor(this.$viewport.minX)}</div>\n        <div style='position:absolute;display:inline-block;right:0px;top:50%;transform:translateY(-50%);'>${Math.floor(this.$viewport.maxX)}</div>\n        <div style='position:absolute;display:inline-block;left:50%;top:0px;transform:translateX(-50%)'>${Math.floor(this.$viewport.minY)}</div>\n        <div style='position:absolute;display:inline-block;left:50%;bottom:0px;transform:translateX(-50%)'>${Math.floor(this.$viewport.maxY)}</div>\n        <div style='position:absolute;top:50%;left:50%;display:inline-block;'>${this.$viewport.transformOrigin.map(it => Math.floor(it)).join(', ')}</div>\n        <div style='position:absolute;left:${mouse[0]}%;top:${mouse[1]}%;display:inline-block;'>\n          mouse: ${this.$viewport.mouse.map(it => Math.floor(it)).join(', ')} <br />\n          translate: ${this.$viewport.translate.join(', ')} <br />          \n          zoom : ${this.$viewport.zoomFactor} <br />\n        </div>                  \n\n      </div>\n    `\n  }\n\n  // space     . \n  checkSpace(e) {\n    // hand  on      . \n    if (this.$config.get('set.tool.hand')) {\n      return true;\n    }\n\n    return this.$keyboardManager.check(this.$shortcuts.getGeneratedKeyCode(KEY_CODE.space))\n  }\n\n  [POINTERSTART('$lock') + IF('checkSpace') + MOVE('movePan') + END('moveEndPan')](e) {\n    this.startMovePan();\n  }\n\n  [CONFIG('set.tool.hand')](value) {\n    if (value) {\n      this.startMovePan();\n\n      this.emit('refreshCursor', 'grab');\n    } else {\n      this.emit('recoverCursor', 'auto')\n      this.emit('addStatusBarMessage', '');\n    }\n\n\n  }\n\n  startMovePan() {\n    this.lastDist = vec3.create()\n    this.emit('addStatusBarMessage', this.$i18n('viewport.panning.enable'));\n  }\n\n  movePan(dx, dy) {\n    this.emit('refreshCursor', 'grabbing');\n    const currentDist = vec3.fromValues(dx, dy, 0);\n    this.$viewport.pan(...vec3.transformMat4(\n      [],\n      vec3.subtract([], this.lastDist, currentDist),\n      this.$viewport.scaleMatrixInverse\n    ))\n    this.lastDist = currentDist\n  }\n\n  refreshCursor() {\n    if (this.$config.get('set.tool.hand') === false) {\n      this.emit('refreshCursor', 'auto');\n      this.emit('addStatusBarMessage', '');\n    } else {\n      this.emit('refreshCursor', 'grab');\n    }\n  }\n\n  moveEndPan() {\n    this.refreshCursor();\n\n  }\n\n  async [BIND('$container')]() {\n    const cursor = await this.$editor.cursorManager.load(this.state.cursor, ...(this.state.cursorArgs || []))\n    return {\n      style: {\n        cursor\n      }\n    }\n  }\n\n\n  [DRAGOVER('$lock') + PREVENT]() { }\n  [DROP('$lock') + PREVENT](e) {\n    const newCenter = this.$viewport.getWorldPosition(e);\n\n    if (e.dataTransfer.getData('text/asset')) {\n\n      this.emit('drop.asset', {\n        asset: { id: e.dataTransfer.getData('text/asset'), center: newCenter }\n      })\n\n    } else {\n      const files = Resource.getAllDropItems(e)\n      const id = Dom.create(e.target).attr('data-id');\n\n      if (id) {\n        this.emit('drop.asset', {\n          gradient: e.dataTransfer.getData('text/gradient'),\n          pattern: e.dataTransfer.getData('text/pattern'),\n          color: e.dataTransfer.getData('text/color'),\n          imageUrl: e.dataTransfer.getData('image/info'),\n        }, id)\n      } else {\n        const imageUrl = e.dataTransfer.getData('image/info')\n        this.emit('dropImageUrl', imageUrl)\n      }\n    }\n\n  }\n\n  /**\n   * wheel     . \n   *     wheel  . \n   * transform-origin          . \n   *   scale  . \n   * //    \n   * \n   * @param {*} e \n   */\n  [WHEEL('$lock') + PREVENT](e) {\n\n    const [dx, dy] = normalizeWheelEvent(e);\n\n    if (!this.state.gesture) {\n\n      if (e.ctrlKey) {\n\n        this.$viewport.setMousePoint(e.clientX, e.clientY)\n      }\n\n      this.emit('startGesture');\n      this.state.gesture = true;\n    } else {\n\n      if (e.ctrlKey) {\n\n        const zoomFactor = 1 - (2.5 * dy) / 100;\n\n        this.$viewport.zoom(zoomFactor);\n\n      } else {\n\n        const newDx = - 2.5 * dx;\n        const newDy = - 2.5 * dy;\n\n        this.$viewport.pan(-newDx / this.$viewport.scale, -newDy / this.$viewport.scale, 0);\n      }\n    }\n\n    clearTimeout(this.state.timer);\n    this.state.timer = setTimeout(() => {\n      this.state.gesture = undefined;\n      this.emit('endGesture');\n    }, 200)\n  }\n\n  refreshCanvasSize() {\n    this.$viewport.refreshCanvasSize(this.refs.$lock.rect());\n  }\n\n  [SUBSCRIBE('resize.window', 'resizeCanvas')]() {\n    this.refreshCanvasSize();\n  }\n\n  [SUBSCRIBE('changeIconView')](cursor, ...args) {\n\n    if (`${this.state.cursor} ${this.state.cursorArgs}` === `${cursor} ${args}`) {\n      return;\n    }\n\n    this.state.cursor = cursor;\n    this.state.cursorArgs = args;\n    this.bindData('$container')\n  }\n\n}","import { BIND, CONFIG, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport HorizontalRuler from \"./body-panel/HorizontalRuler\";\nimport VerticalRuler from \"./body-panel/VerticalRuler\";\nimport CanvasView from \"./body-panel/CanvasView\";\n\nimport './BodyPanel.scss';\n\nexport default class BodyPanel extends EditorElement {\n\n  components() {\n    return {\n      CanvasView,\n      VerticalRuler,\n      HorizontalRuler\n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class=\"elf--body-panel\">\n        <object refClass='HorizontalRuler' />\n        <object refClass='VerticalRuler' />\n        <object refClass='CanvasView' />        \n      </div>\n    `;\n  }\n\n  [BIND('$el')] () { \n    return {\n        class: `elf--body-panel ${this.$config.get('show.ruler') ? 'ruler' : ''}`\n    }\n  }  \n\n  [CONFIG('show.ruler')] () {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('bodypanel.toggle.fullscreen')] () {\n    this.refs.$el.toggleFullscreen();\n  }\n}","\nimport { CLICK } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { EditorElement } from \"../common/EditorElement\";\n\nimport './BaseWindow.scss';\n\nexport default class BaseWindow extends EditorElement {\n\n  template() {\n    return /*html*/`\n      <div class='elf--window-background'>\n        <div class='window ${this.getClassName()}'>\n            <div class='window-title' ref=\"$title\">\n                <label>${this.getTitle()}</label>\n                <span class=\"tools\">\n                  ${this.getTools()}\n                  <button type='button' class='close' ref='$close'>${iconUse(\"close\")}</button>\n                </span>\n            </div>\n            <div class='window-body'>${this.getBody()}</div>\n        </div>\n      </div>\n        `;\n  }\n\n  getClassName() {\n    return '';\n  }\n  getTitle() {\n    return '';\n  }\n  getTools() {\n    return '';\n  }\n  getBody() {\n    return '';\n  }\n\n  [CLICK('$close')] () {\n    this.$el.hide();\n  }\n\n\n  show (width = 200) {\n    this.$el.show(\"block\");\n  }\n\n  hide () {\n    this.$el.hide();\n  }\n}\n","import BaseWindow from \"./BaseWindow\";\n\nimport { CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { registElement } from \"el/sapa/functions/registElement\";\n\nimport './ExportWindow.scss';\n\nexport default class ExportWindow extends BaseWindow {\n\n    getClassName() {\n        return 'elf--export-window'\n    }\n\n    getTitle() {\n        return 'Export'\n    }\n\n    initState() {\n        return {\n            selectedIndex: 1\n        }\n    }\n\n    getBody() {\n        return /*html*/`\n        <div class=\"tab\" ref=\"$tab\">\n            <div class=\"tab-header full\" ref=\"$header\">\n                <div class=\"tab-item selected\" data-value=\"1\">\n                    <label>HTML</label>\n                </div>\n                <div class=\"tab-item\" data-value=\"2\">\n                    <label>CSS</label>\n                </div>                \n                <div class=\"tab-item\" data-value=\"4\">\n                    <label>Assets</label>\n                </div>                                             \n                <div class=\"tab-item\" data-value=\"6\">\n                    <label>SVG Image</label>\n                </div>     \n                <div class=\"tab-item\" data-value=\"7\">\n                    <label>SVG Image Preview</label>\n                </div>                        \n            </div>\n            <div class=\"tab-body\" ref=\"$body\">\n                <div class=\"tab-content selected\" data-value=\"1\" ref=\"$html\">\n                </div>\n                <div class='tab-content' data-value='2' ref=\"$css\">\n                </div>                        \n                <div class=\"tab-content\" data-value=\"4\">\n                    <pre ref='$assets'></pre>\n                </div>\n                <div class=\"tab-content\" data-value=\"6\" ref=\"$svgimage\">\n                </div>                                                                       \n                <div class=\"tab-content\" data-value=\"7\">\n                    <div ref='$svgimagePreview' style=\"display:grid;grid-template-columns: repeat(3, 1fr);\"></div>\n                </div>                                                       \n            </div>\n      </div>\n        `\n    }\n\n    [SUBSCRIBE('showExportWindow')] () {\n        this.show();\n        this.refresh();\n    }\n\n    refresh() {\n        var project = this.$selection.currentProject || { layers : [] }\n\n        // css code\n        var css = `\n${this.makeStyle(project)}\n${project.layers.map(item => this.makeStyle(item)).join('\\n')}\n`\n\n        // html code \n        var html = `\n${this.$editor.html.renderSVG(project)}\n${this.$editor.html.render(project)}\n        `\n\n        // export svg image \n        var svgData = project.layers.map( item => {\n            return this.$editor.svg.render(item);\n        })\n\n        // svg preview image \n        this.refs.$svgimagePreview.html(Dom.createByHTML(`<div>${svgData.map(it => `<div>${it}</div>`).join(\"\")}</div>`).html());\n\n\n        if (shiki) {\n            shiki\n            .getHighlighter({\n                theme: 'light-plus'\n            })\n            .then(highlighter => {\n\n                if (html_beautify) {\n                    html = html_beautify(html, {indent: 2})\n\n                    const changedHtml = highlighter.codeToHtml(html, 'html')\n                    this.refs.$html.html(changedHtml);      \n\n                    css = html_beautify(css, {indent: 2})\n\n                    const changedCss = highlighter.codeToHtml(css, 'html')\n                    this.refs.$css.html(changedCss);            \n                    \n                    svgData = html_beautify(svgData.join(\"\"), {indent: 2})\n\n                    const changedSvgData = highlighter.codeToHtml(svgData, 'html')\n                    this.refs.$svgimage.html(changedSvgData);            \n\n                }\n            })\n        }\n\n    }\n\n    makeStyle (item) {\n        return this.$editor.html.toStyle(item);\n    }\n\n    makeHTML (item) {\n        return this.$editor.html.render(item);\n    }\n\n\n    [CLICK(\"$header .tab-item\")](e) {\n\n        var selectedIndex = +e.$dt.attr('data-value')\n        if (this.state.selectedIndex === selectedIndex) {\n          return; \n        }\n    \n        this.$el.$$(`[data-value=\"${this.state.selectedIndex}\"]`).forEach(it => it.removeClass('selected'))\n        this.$el.$$(`[data-value=\"${selectedIndex}\"]`).forEach(it => it.addClass('selected'))\n        this.setState({ selectedIndex }, false);\n    } \n}\n\nregistElement({ ExportWindow })","import BaseWindow from \"./BaseWindow\";\nimport shortcuts from \"../../shortcuts\";\nimport { os } from \"el/utils/detect\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n\nimport './ShortcutWindow.scss';\n\nconst categories = new Set();\n\nshortcuts.forEach(it => {\n    categories.add(it.category)\n})\n\nconst keys = {}\n\ncategories.forEach(it => {\n    shortcuts.filter(item => item.category === it).forEach(item => {\n        if (!keys[item.category]) {\n            keys[item.category] = []\n        }\n\n        keys[item.category].push(item);\n    })  \n})\n\nconst keyAlias = {\n    'ARROWRIGHT': '',\n    'ARROWLEFT': '',\n    'ARROWUP': '',\n    'ARROWDOWN': '',\n    'BACKSPACE': '',\n    'CMD': '',\n}\n\nconst OSName = os()\n\nexport default class ShortcutWindow extends BaseWindow {\n\n    getClassName() {\n        return 'elf--shortcut-window'\n    }\n\n    getTitle() {\n        return 'ShortCuts'\n    }\n\n    getKeyString (os, item) {\n        return (item[os] || item.key).split('+').map(it => it.trim()).map(it => {\n            const keyString = it.toUpperCase();\n            return /*html*/`<span>${keyAlias[keyString] || keyString}</span>`\n        }).join(' + ')\n    }\n\n    getTemplateForShortcutItem (item) {\n        return /*html*/`\n            <div class='shortcut-view-item'>\n                <div class='title'>${item.description}</div>\n                <div class='os-item'>${this.getKeyString(OSName, item)}</div>\n            </div>                        \n        `\n    }\n\n    getTemplateForCategory (category, list = []) {\n        return /*html*/`\n            <div class='item'>\n                <h2>${category}</h2>\n                <div>\n                    ${list.map(it => this.getTemplateForShortcutItem(it)).join('')}\n                </div>\n            </div>\n        `\n    }\n\n    getTemplateForLayer () {\n        return /*html*/`\n            <div class='item'>\n                <h2>Layer</h2>\n                <div>\n                    <div class='shortcut-view-item'>\n                        <div class='title'>\n                            Add Rect\n                            <span class='description'>fdsafdsfdf</span>\n                        </div>\n\n                        <div class='os-item mac'><span>CTRL</span>+<span>R</span></div>\n                        <div class='os-item win'>R</div>\n                        <div class='os-item linux'>R</div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n    getBody() {\n        return /*html*/`\n        <div class=\"list\">\n            ${Object.keys(keys).map(category => {\n                return this.getTemplateForCategory(category, keys[category])\n            }).join('')}\n        </div>\n        `\n    }\n\n    [SUBSCRIBE('showShortcutWindow')] () {\n        this.show();\n    }\n\n}\n\nregistElement({ ShortcutWindow })","import BaseWindow from \"./BaseWindow\";\n\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\n\nimport './ProjectWindow.scss';\n\nexport default class ProjectWindow extends BaseWindow {\n\n    getClassName() {\n        return 'elf--project-window'\n    }\n\n    getTitle() {\n        return 'Project Manager'\n    }\n\n    initState() {\n        return {\n            selectedIndex: 1\n        }\n    }\n\n    getBody() {\n        return /*html*/`\n        <div class=\"project-container\">\n            <div class=\"project-menu left\">\n                Project Menu\n            </div>\n            <div class=\"project-list right\">\n                Project List\n            </div>\n        </div>\n        `\n    }\n\n    [SUBSCRIBE('open.projects')] () {\n        this.show();\n        this.refresh();\n    }\n\n    refresh() {\n        var project = this.$selection.currentProject || { layers : [] }\n\n    }\n}\n\nregistElement({ ProjectWindow })","\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { TRANSITIONEND, CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"../common/EditorElement\";\n\nimport './NotificationView.scss'\n\nexport default class NotificationView extends EditorElement {\n\n    template() {\n        return /*html*/`\n            <div class='elf--notification-view'>\n            </div>\n        `\n    }\n\n    [TRANSITIONEND('$el')] (e) {\n        Dom.create(e.target).remove();\n    }\n\n    [CLICK('$el .item > .icon')] (e) {\n        e.$dt.parent().remove();\n    }\n\n    getMessageTemplate (type, title, description, duration = 1000) {\n        return /*html*/`\n        <div class='item ${type}' style='transition-duration: ${duration}ms;'>\n            <div class='title'>${title}</div> \n            <div class='description'>${description}</div>\n            <span class='icon'>${iconUse(\"close\")}</span>\n        </div>\n    `\n    }\n\n    [SUBSCRIBE('notify')] (type, title, description, duration = 1000) {\n        const $dom = Dom.createByHTML(this.getMessageTemplate(type, title, description, 1000))\n    \n        this.$el.prepend($dom)\n\n        setTimeout(($dom) => {\n            $dom.css('opacity', 0);\n        }, duration, $dom)\n\n    }\n}","import \"el/editor/ui/window-list\";\n\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport NotificationView from \"el/editor/ui/view/NotificationView\";\n\n\nexport default class PopupManager extends EditorElement {\n\n  components(){\n    return {\n      NotificationView\n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class=\"popup-manger\">\n        <object refClass='ExportWindow' />\n        <object refClass='ProjectWindow' />\n        <object refClass='ShortcutWindow' />\n        <!-- LoginWindow / -->\n        <!-- SignWindow / -->\n        <!-- ImageFileView / -->\n        <object refClass='NotificationView' />\n        ${this.$injectManager.generate('popup')}\n      </div>\n    `;\n  }\n}","import Dom from \"el/sapa/functions/Dom\";\n\nimport { KEYDOWN, KEYUP, IF, PREVENT } from \"el/sapa/Event\";\n\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nconst formElements = ['TEXTAREA', 'INPUT', 'SELECT']\n\nexport default class KeyboardManager extends EditorElement {\n  template() {\n    return /*html*/`\n      <div class=\"keyboard-manager\"></div>\n    `;\n  }\n\n  isNotFormElement(e) {\n    var tagName = e.target.tagName;\n\n    if (formElements.includes(tagName)) return false; \n    else if (Dom.create(e.target).attr('contenteditable') === 'true') return false; \n\n    return true;\n  }  \n\n  [KEYDOWN('document') + IF('isNotFormElement')] (e) {\n    this.emit('keymap.keydown', e);\n  }\n\n  [KEYUP('document') + IF('isNotFormElement')] (e) {\n    this.emit('keymap.keyup', e);\n  }\n}","\nimport { EditorElement } from '../common/EditorElement';\n\nexport class TabPanel extends EditorElement {\n\n    initState() {\n  \n      const selected = this.props.selected === 'true' ? true : false;\n  \n      return {\n        value: this.props.value || '',\n      }\n    }\n  \n    template() {\n      const {content} = this.props;\n      const {value} = this.state;\n      return /*html*/`\n        <div class=\"tab-content scrollbar\" data-value=\"${value}\">\n          ${content}\n        </div>\n      `\n    }\n  }\n  \n  ","import { CLICK, LOAD } from 'el/sapa/Event';\nimport { EditorElement } from '../common/EditorElement';\nimport { TabPanel } from './TabPanel';\n\nimport './Tabs.scss';\n\nexport class Tabs extends EditorElement {\n    components() {\n      return {\n        TabPanel\n      }\n    }\n  \n    afterRender() {\n      setTimeout(() => {\n        this.setValue(this.state.selectedValue);\n      }, 0)\n  \n    }\n  \n    initState() {\n      return {\n        type: this.props.type || 'number',\n        selectedValue: this.props.selectedValue || '',\n      }\n    }\n  \n    template() {\n      return /*html*/`\n        <div class=\"tab\" ref=\"$tab\"></div>\n      `\n    }\n  \n    [LOAD('$tab')]() {\n      const { content } = this.props;\n      const contentChildren = this.parseContent(content)\n  \n      const children = contentChildren.filter(it => it.refClass === 'TabPanel');\n  \n      return /*html*/`\n        <div class=\"tab-header\" ref=\"$header\">\n          ${children.map(it => {\n            return /*html*/`\n              <div class=\"tab-item\" data-value=\"${it.props.value}\" title='${it.props.title}'>\n                <label class=\"title\">${it.props.title}</label>\n              </div>         \n            `\n          }).join('')}\n        </div>    \n  \n        <div class=\"tab-body\" ref=\"$body\">\n          ${content}\n        </div>\n      `\n    }\n  \n    [CLICK(\"$header .tab-item:not(.empty-item)\")](e) {\n  \n      var selectedValue = e.$dt.attr('data-value')\n  \n      this.setValue(selectedValue);\n    }\n\n    updateData(data) {\n      this.setState(data, false);\n      this.parent.trigger(this.props.onchange, this.getValue());\n    }\n\n    getValue() {\n      return this.state.selectedValue;\n    }\n  \n    setValue(selectedValue) {\n      this.$el.$(`* > .tab-item[data-value=\"${selectedValue}\"]`)?.onlyOneClass('selected');\n      this.$el.$(`* > .tab-content[data-value=\"${selectedValue}\"]`)?.onlyOneClass('selected');\n\n      this.updateData({ selectedValue })\n    }\n  \n  }","\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Tabs } from \"el/editor/ui/view/Tabs\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class Inspector extends EditorElement {\n\n  components() {\n    return {\n      Tabs\n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class=\"feature-control inspector\">\n        <div>\n          <object refClass=\"Tabs\" \n            ref=\"$tab\" \n            ${variable({\n              selectedValue: 'style',\n              onchange: (value) => {\n                this.$config.set(\"inspector.selectedValue\", value);\n              }\n            })}\n          >\n            <object refClass=\"TabPanel\" value=\"style\" title=\"${this.$i18n('inspector.tab.title.style')}\">\n              <object refClass=\"AlignmentProperty\" />\n\n              <!-- Default Property --> \n              <object refClass=\"PositionProperty\" />\n              <object refClass=\"AppearanceProperty\" />                                   \n\n              ${this.$injectManager.generate('inspector.tab.style')}                             \n              <div class='empty'></div>\n            </object>\n\n            <object refClass=\"TabPanel\" value=\"transition\" title=\"${this.$i18n('inspector.tab.title.transition')}\">\n              ${this.$injectManager.generate('inspector.tab.transition')}              \n              <div class='empty'></div>                \n            </object>            \n\n            <object refClass=\"TabPanel\" value=\"code\" title=\"${this.$i18n('inspector.tab.title.code')}\">\n              ${this.$injectManager.generate('inspector.tab.code')}              \n              <div class='empty'></div>                \n            </object>    \n            \n            ${this.$injectManager.getTargetMenuItems('inspector.tab').map(it => {\n              const { value, title, loadElements } = it.class;\n\n              return /*html*/`\n                <object refClass=\"TabPanel\" value=\"${value}\" title=\"${title}\" icon=${variable(it.icon)}>\n                  ${loadElements.map(element => {\n                    return /*html*/`<object refClass=\"${element}\" />`\n                  })}\n                  ${this.$injectManager.generate('inspector.tab.' + it.value)}              \n                  <div class='empty'></div>                \n                </object> \n              `   \n            })}\n          </object>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n}","import { SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { variable } from \"el/sapa/functions/registElement\";\n\n\nexport default class LanguageSelector extends EditorElement {\n\n    get locales () {\n        return Object.keys(this.$editor.i18n.locales);\n    }\n\n    template () {\n\n        var languages = this.locales.map(lang => {\n            var label = this.$i18n(`app.lang.${lang}`)\n            return {text: label, value: lang}\n        });\n\n        return /*html*/`\n            <div class='status-selector'>\n                <label>${this.$i18n('app.label.lang')}</label>\n                <div class='item'>\n                    <object refClass=\"SelectEditor\"  \n                        ref='$locale' \n                        options=${variable(languages)}\n                        value=\"${this.$editor.locale}\" \n                        onchange=\"changeLocale\"\n                    /> \n                </div>\n            </div>\n        `\n\n    }\n\n    [SUBSCRIBE_SELF('changeLocale')] (key, locale) {\n        this.emit('setLocale', locale);\n    }\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { variable } from \"el/sapa/functions/registElement\";\n\nconst theme_list = ['dark', 'light']\n\nexport default class ThemeSwitcher extends EditorElement {\n\n    template () {\n\n\n        var themes = theme_list.map(theme => {\n            var label = this.$i18n(`app.theme.${theme}`)\n            return {value: theme, text: label }\n        });\n\n        return /*html*/`\n            <div class='status-selector'>\n                <label>${this.$i18n('app.label.theme')}</label>\n                <div class='item'>\n                    <object refClass=\"SelectEditor\"  \n                        ref='$locale' \n                        options=${variable(themes)}\n                        value=\"${this.$editor.theme}\" \n                        onchange=${this.subscribe((_, theme) => this.emit('switchTheme', theme))}\n                    /> \n                </div>\n            </div>\n        `\n    }\n}","import { SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { variable } from \"el/sapa/functions/registElement\";\n\nexport default class LayoutSelector extends EditorElement {\n\n    template () {\n\n        var layouts = ['all', 'css', 'svg'].map(layout => {\n            var label = this.$i18n(`app.layout.${layout}`)\n            return { value: layout, text: label }\n        });\n\n\n        return /*html*/`\n            <div class='status-selector'>\n                <label>${this.$i18n('app.label.layout')}</label>\n                <div class='item'>\n                    <object refClass=\"SelectEditor\"  \n                        ref='$locale' \n                        options=${variable(layouts)}\n                        value=\"${this.$editor.layout}\" \n                        onchange=\"changeEditorLayoutValue\"\n                    /> \n                </div>\n            </div>\n        `\n\n    }\n\n    [SUBSCRIBE_SELF('changeEditorLayoutValue')] (key, layout) {\n        this.emit('setEditorLayout', layout);\n    }\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\"\n\nexport default class VersionView extends EditorElement {\n\n    initState() {\n        return {\n            version: `@@VERSION@@`\n        }\n    }\n\n    template () {\n        return `<div class=\"version-view\">v${this.state.version}</div>`\n    }\n}","import { CLICK } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './SwitchLeftPanel.scss';\n\nexport default class SwitchLeftPanel extends EditorElement {\n\n    template () {\n        return /*html*/`\n        <button class=\"elf--switch-left-panel\" data-tooltip=\"Toggle left panel\" data-direction=\"top left\">${iconUse(\"left_hide\")}</button>\n        `\n    }\n\n    [CLICK()] () {\n        this.$config.toggle('show.left.panel');\n    }\n}","import { CLICK } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './SwitchRightPanel.scss';\n\nexport default class SwitchRightPanel extends EditorElement {\n\n    template () {\n        return /*html*/`\n            <button class=\"elf--switch-right-panel\" data-tooltip=\"Toggle right panel\" data-direction=\"top right\">${iconUse(\"right_hide\")}</button>\n        `\n    }\n\n    [CLICK()] () {\n        this.$config.toggle('show.right.panel');\n    }\n}","\nimport { BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport LanguageSelector from \"./status-bar/LanguageSelector\";\nimport ThemeSwitcher from \"./status-bar/ThemeSwitcher\";\nimport LayoutSelector from \"./status-bar/LayoutSelector\";\nimport VersionView from \"./status-bar/VersionView\";\nimport SwitchLeftPanel from \"./status-bar/SwitchLeftPanel\";\nimport SwitchRightPanel from \"./status-bar/SwitchRightPanel\";\n\nimport './StatusBar.scss';\n\n\nexport default class StatusBar extends EditorElement {\n\n    components() {\n        return {\n            LanguageSelector,\n            ThemeSwitcher,\n            LayoutSelector,\n            VersionView,\n            SwitchLeftPanel,\n            SwitchRightPanel,\n        }\n    }\n    template() {\n        return /*html*/`\n            <div class='elf--status-bar'>\n                <div class='tool-view left' ref='$leftTool'>\n                    <object refClass=\"SwitchLeftPanel\" />\n                    ${this.$injectManager.generate('statusbar.left')}                    \n                </div>            \n                <div class='message-view' ref='$msg'></div>\n                <div class='tool-view' ref='$rightTool'>\n                    ${this.$injectManager.generate('statusbar.right')}\n                    <object refClass=\"LayoutSelector\" />\n                    <object refClass=\"ThemeSwitcher\" />\n                    <object refClass=\"LanguageSelector\" />\n                    <object refClass=\"VersionView\" />\n                    <object refClass=\"SwitchRightPanel\" />                    \n                </div>\n            </div>\n        `\n\n    }\n\n\n    initState() {\n        return {\n            msg: ''\n        }\n    }\n\n    [BIND('$msg')]() {\n        return {\n            text: this.state.msg\n        }\n    }\n\n    [SUBSCRIBE('addStatusBarMessage')](msg) {\n        this.setState({ msg })\n    }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { CLICK, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './DrawManager.scss';\nimport { variable } from \"el/sapa/functions/registElement\";\n\nexport default class DrawManager extends EditorElement {\n\n  initState() {\n      return {\n          tolerance: 1,\n          stroke: 'black',\n          'stroke-width': 2,\n          'stroke-linecap': 'round',\n          'stroke-linejoin': 'round',\n          msg: this.$i18n('path.manager.msg')\n      }\n  }\n\n\n  [SUBSCRIBE('refreshSelection')]() {\n\n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$stroke.setValue(current['stroke'] || 'rgba(0, 0, 0, 1)')\n      this.children.$strokeWidth.setValue(current['stroke-width'] || Length.number(1))\n    }\n\n  }  \n\n  [SUBSCRIBE('setColorAsset')] ({ color }) {\n\n    if (this.$el.isShow()) {\n      this.setState({\n        stroke: color\n      }, false)\n      this.children.$stroke.setValue(color);\n      this.updateData({\n        stroke: color\n      })    \n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class='elf--draw-manager'>\n        <div class=\"tools left\" ref=\"$left\">\n            <button type=\"button\" class=\"primary\" data-value='DrawEditorDone' title='${this.$i18n('draw.manager.mode.modify')}' >Done</button>\n        </div>      \n        <div class='tools'>   \n          <div >        \n            <label>${this.$i18n('draw.manager.tolerance')}</label>            \n            <object refClass=\"NumberInputEditor\"  \n              ref='$tolerance' \n              key='tolerance' \n              value=\"1\" \n              min=\"0\"\n              max=\"100\"\n              step=\"0.01\"\n              unit=\"number\" \n              onchange=\"changeValue\" \n            />\n          </div>              \n          <div >\n            <label>${this.$i18n('svg.item.property.stroke')}</label>          \n            <object refClass=\"FillSingleEditor\" ref='$stroke' simple=\"true\" value=\"${this.state.stroke}\" key='stroke' onchange=\"changeValue\" />\n          </div>\n\n          <div >\n            <label>${this.$i18n('svg.item.property.strokeWidth')}</label>          \n            <object refClass=\"NumberInputEditor\"  \n              ref='$strokeWidth' \n              key=\"stroke-width\" \n              value=\"${this.state['stroke-width']}\"              \n              onchange=\"changeValue\" />\n          </div>      \n          \n\n          <div>\n            <label>${this.$i18n('svg.item.property.lineCap')}</label>          \n            <object refClass=\"SelectEditor\" \n              ref='$strokeLineCap' \n              key=\"stroke-linecap\" \n              value=\"${this.state['stroke-linecap']}\"                   \n              options=${variable([\"butt\",\"round\",\"square\"])} \n              onchange=\"changeValue\" \n            />\n          </div> \n          <div>\n            <label>${this.$i18n('svg.item.property.lineJoin')}</label>          \n            <object refClass=\"SelectEditor\"  \n              ref='$strokeLineJoin' \n              key=\"stroke-linejoin\" \n              value=\"${this.state['stroke-linejoin']}\"                                 \n              options=${variable([\"miter\",\"bevel\",\"round\" ])}\n              onchange=\"changeValue\" \n            />\n          </div>\n        </div>\n      </div>    \n    `;\n  }\n\n  [SUBSCRIBE_SELF('changeValue')] (key, value, params) {\n    this.updateData({\n      [key]: value\n    })\n  }  \n\n  updateData(obj = {}) {\n\n    this.setState(obj, false)\n    this.state.instance.trigger(this.state.changeEvent, obj);\n  }\n\n  [SUBSCRIBE('changePathManager')] (mode) {\n    this.setState({ mode })\n  }\n\n  [SUBSCRIBE('showDrawManager')] (obj = {}) {\n      obj.changeEvent = obj.changeEvent || 'changeDrawManager';\n      this.setState(obj)\n      this.$el.show();\n\n      this.emit('addStatusBarMessage', this.state.msg)\n      this.emit('hidePathManager');\n  }\n\n  [SUBSCRIBE('hideDrawManager')] () {\n      this.$el.hide();\n  }\n\n\n  [CLICK('$left button')] (e) {\n    var message = e.$dt.attr('data-value');\n\n    this.emit(message);  \n  }    \n\n}","\nimport { CLICK, BIND, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './PathManager.scss';\n\nconst MODES = {\n  'segment-move': 'modify',\n  'modify': 'modify',\n  'path': 'path',\n} \n\n\n\nexport default class PathManager extends EditorElement {\n\n  initState() {\n      return {\n          mode: 'move',\n          fill: null,\n          stroke: null,\n          'fill-opacity': null,\n          'stroke-width': null,\n          msg: this.$i18n('path.manager.msg')\n      }\n  }\n\n\n  [SUBSCRIBE('refreshSelection')]() {\n\n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$fill.setValue(current['fill'] || 'rgba(0, 0, 0, 0)')\n      this.children.$stroke.setValue(current['stroke'] || 'rgba(0, 0, 0, 1)')\n      this.children.$fillOpacity.setValue(current['fill-opacity'] || Length.number(1))\n      this.children.$strokeWidth.setValue(current['stroke-width'] || Length.number(1))\n    }\n\n  }  \n\n  template() {\n    return /*html*/`\n      <div class='elf--path-manager'>\n        <div class=\"tools left\" ref=\"$left\">\n            <button type=\"button\" class=\"primary\" data-value='PathEditorDone' title='${this.$i18n('path.manager.mode.modify')}' >Done</button>\n        </div>\n\n        <div class='tools' ref='$mode' data-selected-value='${this.state.mode}'>\n            <button type=\"button\" data-value='modify' title='${this.$i18n('path.manager.mode.modify')}' > ${iconUse(\"device_hub\")}</button>\n            <button type=\"button\" data-value='path' title='${this.$i18n('path.manager.mode.path')}' > ${iconUse(\"control_point\")}</button>\n        </div>\n        <div class='tools' ref='$flip'>\n            <button type=\"button\" data-value='flipX' title='${this.$i18n('path.manager.mode.flipX')}'>${iconUse(\"flip\")}</button>\n            <button type=\"button\" data-value='flipY' title='${this.$i18n('path.manager.mode.flipY')}'>${iconUse(\"flip\")}</button>\n            <button type=\"button\" data-value='flip' title='${this.$i18n('path.manager.mode.flipOrigin')}'>${iconUse(\"flip\")}</button>\n            <button type=\"button\" data-value='2x'>2x</button>\n            <button type=\"button\" data-value='3x'>3x</button>            \n        </div>\n\n        <div class='tools' ref='$util'>\n            <button type=\"button\" data-value='reverse' title='${this.$i18n('path.manager.mode.reverse')}' >${iconUse(\"sync\")}</button>\n        </div>        \n        <div class='tools'>      \n          <div>\n            <object refClass=\"FillSingleEditor\" ref=\"$fill\" simple=\"true\" label=\"${this.$i18n('svg.item.property.fill')}\" key=\"fill\" onchange=\"changeValue\" />\n          </div>\n          <div>\n            <object refClass=\"FillSingleEditor\" ref=\"$stroke\" simple=\"true\" label=\"${this.$i18n('svg.item.property.stroke')}\" key=\"stroke\" onchange=\"changeValue\" />\n          </div>      \n          <div >\n            <span \n              refClass=\"NumberInputEditor\" \n              ref=\"$fillOpacity\" \n              label=\"${this.$i18n('svg.item.property.fillOpacity')}\" \n              key=\"fill-opacity\" \n              value=\"1\"\n              min=\"0\"\n              max=\"1\"\n              step=\"0.01\"\n              calc=\"false\"\n              unit=\"number\"\n              onchange=\"changeValue\"\n            />\n          </div>   \n\n          <div>\n            <span \n              refClass=\"NumberInputEditor\" \n              ref=\"$strokeWidth\" \n              label=\"${this.$i18n('svg.item.property.strokeWidth')}\" \n              key=\"stroke-width\" \n              onchange=\"changeValue\"\n            />\n          </div>\n        </div>\n      </div>    \n    `;\n  }\n\n\n  [SUBSCRIBE('setColorAsset')] ({ color }) {\n\n    if (this.$el.isShow()) {\n      this.setState({\n        stroke: color\n      }, false)\n      this.children.$stroke.setValue(color);\n      this.updateData({\n        stroke: color\n      })      \n\n      this.command('setAttributeForMulti', 'change color assets', this.$selection.packByValue({ stroke: color }))    \n    }\n\n  }\n\n  [SUBSCRIBE_SELF('changeValue')] (key, value, params) {\n    this.command('setAttributeForMulti', 'change path', this.$selection.packByValue({ [key]: value }))    \n\n    this.updateData({\n      [key]: value\n    })\n  }  \n\n  [BIND('$mode')] () {\n    return {\n      'data-selected-value' : MODES[this.state.mode]\n    }\n  }\n\n  refresh() {\n    this.bindData('$mode')\n  }\n\n  [CLICK('$flip button')] (e) {\n    var transformType = e.$dt.attr('data-value');\n\n    if (transformType === '2x') {\n      this.emit('divideSegmentsByCount', 2);  \n    } else if (transformType === '3x') {\n        this.emit('divideSegmentsByCount', 3);        \n    } else {\n      this.emit('changePathTransform', transformType);    \n    }\n  }\n\n  [CLICK('$util button')] (e) {\n    var utilType = e.$dt.attr('data-value');\n\n    this.emit('changePathUtil', utilType);    \n  }  \n\n  [CLICK('$mode button')] (e) {\n    var mode = e.$dt.attr('data-value');\n\n    this.updateData({\n        mode \n    })\n\n    this.refresh();\n  }\n\n  [CLICK('$left button')] (e) {\n    var message = e.$dt.attr('data-value');\n\n    this.emit(message);  \n  }  \n\n  updateData(obj = {}) {\n\n    this.setState(obj, false)\n    this.emit(this.state.changeEvent, obj);\n  }\n\n  [SUBSCRIBE('changePathManager')] (mode) {\n    this.setState({ mode })\n  }\n\n  [SUBSCRIBE('showPathManager')] (obj = {}) {\n      obj.changeEvent = obj.changeEvent || 'changePathManager';\n      this.setState(obj)\n      this.$el.show();\n\n      this.emit('addStatusBarMessage', this.state.msg)\n  }\n\n  [SUBSCRIBE('hidePathManager')] () {\n      this.$el.hide();       \n  }\n\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport DrawManager from \"./page-sub-editor/DrawManager\";\nimport PathManager from \"./page-sub-editor/PathManager\";\n\nimport './PageSubEditor.scss';\n\n\nexport default class PageSubEditor extends EditorElement {\n\n  components() {\n    return {\n      PathManager,\n      DrawManager\n    }\n  }\n\n  template() {\n    return/*html*/`\n      <div class='elf--page-subeditor'>\n        <object refClass='PathManager' />\n        <object refClass='DrawManager' />\n      </div>\n    `;\n  }\n}\n","\nimport { CLICK } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"../common/EditorElement\";\n\n\nconst DEFAULT_TITLE = '';\nconst DEFAULT_ICON = '';\nconst DEFAULT_CHECKED = false;\n\nexport default class MenuItem extends EditorElement {\n    template() {\n        return /*html*/`\n        <button \n            type=\"button\" \n            class='elf--menu-item ${this.getClassName()}' \n            data-no-title=\"${this.isHideTitle()}\" \n            ${this.isHideTitle() ? `data-tooltip=\"${this.getTitle()}\"` : ''} \n            checked=\"${this.getChecked() ? 'checked' : ''}\"\n            ${this.isDisabled() ? 'disabled' : ''}\n            data-direction=\"${this.getDirection()}\"\n        >\n            <div class=\"icon ${this.getIcon()}\">${icon[this.getIconString()] || this.getIconString() || ''}</div>\n            <div class=\"title\">${this.getTitle()}</div>\n        </button>\n        `\n    }\n\n    getClassName() {\n        return \"\"\n    }\n\n    clickButton(e) { }\n\n    getChecked() {\n        return DEFAULT_CHECKED;\n    }\n\n    isDisabled() {\n        return false;\n    }\n\n    setSelected(isSelected) {\n        this.$el.toggleClass('selected', isSelected)\n    }\n\n    getTitle() {\n        return DEFAULT_TITLE;\n    }\n\n    getIcon() {\n        return DEFAULT_ICON;\n    }\n\n    getIconString() {\n        return DEFAULT_ICON;\n    }\n\n    isHideTitle() {\n        return false;\n    }\n\n    [CLICK()](e) {\n        this.clickButton(e);\n    }\n\n    getDirection() {\n        return this.props.direction || \"\";\n    }\n\n    static createMenuItem(opt = {}) {\n        return class extends MenuItem {\n            getIconString() {\n                return opt.iconString || 'add_box';\n            }\n\n            getTitle() {\n                return opt.title || \"New Item\";\n            }\n\n            isHideTitle() {\n                return opt.isHideTitle || true;\n            }\n\n            clickButton(e) {\n                opt.clickButton(e);\n            }\n\n            getDirection() {\n                return opt.direction;\n            }\n        }\n    }\n}","import MenuItem from \"./MenuItem\";\n\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n \nexport default class SelectTool extends MenuItem {\n\n  afterRender() {\n    this.$el.$('.icon').css('transform', 'rotate(-30deg)');\n  }\n\n  getIconString() {\n    return 'navigation';\n  }\n  \n  getTitle() {\n    return this.props.title || \"Select\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'select');\n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'select');\n  }\n\n  [SUBSCRIBE('refreshSelection')] () {\n    this.setSelected(this.$selection.isEmpty);\n  }  \n\n  isHideTitle() {\n    return true;\n  }\n}","import MenuItem from \"./MenuItem\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n \nexport default class AddArtboard extends MenuItem {\n  getIconString() {\n    return 'artboard';\n  }\n  getTitle() {\n    return this.props.title || \"ArtBoard\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'artboard');\n  }\n\n  isHideTitle() {\n    return true; \n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'artboard');\n  }  \n}\n\nregistElement({ AddArtboard })","import MenuItem from \"./MenuItem\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n \nexport default class AddRect extends MenuItem {\n  getIconString() {\n    return 'rect';\n  }\n  getTitle() {\n    return this.props.title || \"Rect\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'rect');\n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'rect');\n  }\n\n  isHideTitle() {\n    return true;\n  }\n}\n\nregistElement({ AddRect })","import MenuItem from \"./MenuItem\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n   \nexport default class AddCircle extends MenuItem {\n  getIconString() {\n    return 'lens'\n  }\n  getTitle() {\n    return this.props.title || \"Circle\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'circle');    \n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'circle');\n  }  \n\n  isHideTitle() {\n    return true;\n  }\n\n}\n\nregistElement({ AddCircle })","import MenuItem from \"./MenuItem\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n \nexport default class AddText extends MenuItem {\n  getIconString() {\n    return 'title';\n  }\n  getTitle() { \n    return this.props.title || \"Text\";\n  }\n\n  getClassName() {\n    return 'text'\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'text');\n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'text');\n  }    \n\n  isHideTitle() {\n    return true; \n  }\n\n}\n\nregistElement({ AddText })\n","import { registElement } from \"el/sapa/functions/registElement\";\nimport MenuItem from \"./MenuItem\";\n \nexport default class AddImage extends MenuItem {\n\n  getIconString() {\n    return 'photo';\n  }\n\n  getTitle() {\n    return this.props.title || \"Image\";\n  }\n\n  clickButton() {\n    this.emit('addLayerView', 'image');\n  }\n\n  isHideTitle() {\n    return true;\n  }\n\n}\n\nregistElement({ AddImage })","import { registElement } from \"el/sapa/functions/registElement\";\nimport MenuItem from \"./MenuItem\";\n \nexport default class AddDrawPath extends MenuItem {\n  getIconString() {\n    return 'draw';\n  }\n  getTitle() {\n    return this.props.title || \"Draw\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'brush')\n  }\n\n  isHideTitle() {\n     return true;\n  }\n\n}\n\nregistElement({ AddDrawPath })","import MenuItem from \"./MenuItem\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n \nexport default class AddPath extends MenuItem {\n  getIconString() {\n    return 'pentool';\n  }\n  getTitle() {\n    return this.props.title || \"Path\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'path')\n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'path');\n  }    \n\n  isHideTitle() {\n    return true;\n  }\n}\n\nregistElement({ AddPath })","import { registElement } from \"el/sapa/functions/registElement\";\nimport MenuItem from \"./MenuItem\";\n \nexport default class AddSVGRect extends MenuItem {\n  getIconString() {\n    return 'outline_rect';\n  }\n  getTitle() {\n    return this.props.title || \"RectPath\";\n  }\n \n\n  clickButton(e) {\n    this.emit('addLayerView', 'svg-rect');\n  }\n\n  isHideTitle() {\n    return true;\n  }\n\n}\n\nregistElement({ AddSVGRect })\n","import { registElement } from \"el/sapa/functions/registElement\";\nimport MenuItem from \"./MenuItem\";\n \nexport default class AddSVGCircle extends MenuItem {\n  getIconString() {\n    return 'outline_circle';\n  }\n  getTitle() {\n    return this.props.title || \"CirclePath\";\n  }\n \n\n  clickButton(e) {\n    this.emit('addLayerView', 'svg-circle');\n  }\n\n  isHideTitle() {\n    return true;\n  }\n\n}\n\n\nregistElement({ AddSVGCircle })","import MenuItem from \"./MenuItem\";\n \nexport default class AddSVGTextPath extends MenuItem {\n  getIconString() {\n    return 'text_rotate';\n  }\n  getTitle() {\n    return this.props.title || \"TextPath\";\n  }\n \n  clickButton(e) {\n    this.emit('addLayerView', 'svg-textpath');\n  }\n\n  isHideTitle() {\n    return true;\n  }\n\n}","import { CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport SelectTool from \"el/editor/ui/menu-items/SelectTool\";\nimport AddArtboard from \"el/editor/ui/menu-items/AddArtboard\";\nimport AddRect from \"el/editor/ui/menu-items/AddRect\";\nimport AddCircle from \"el/editor/ui/menu-items/AddCircle\";\nimport AddText from \"el/editor/ui/menu-items/AddText\";\nimport AddImage from \"el/editor/ui/menu-items/AddImage\";\n// import AddVideo from \"el/editor/ui/menu-items/AddVideo\";\nimport AddDrawPath from \"el/editor/ui/menu-items/AddDrawPath\";\nimport AddPath from \"el/editor/ui/menu-items/AddPath\";\nimport AddSVGRect from \"el/editor/ui/menu-items/AddSVGRect\";\nimport AddSVGCircle from \"el/editor/ui/menu-items/AddSVGCircle\";\nimport AddSVGTextPath from \"el/editor/ui/menu-items/AddSVGTextPath\";\n\nimport './ToolMenu.scss'; \n \nexport default class ToolMenu extends EditorElement {\n\n\n  components() {\n    return {\n      SelectTool,\n      AddArtboard,\n      AddRect,\n      AddCircle,\n      AddText,\n      AddImage,\n      // AddVideo,\n      AddDrawPath,\n      AddPath,\n      AddSVGRect,\n      AddSVGCircle,\n      AddSVGTextPath,\n    }\n  }\n  \n\n  template() {\n    return /*html*/`\n      <div class='elf--tool-menu center'>\n        <div class='items'>\n          <div class='draw-items' ref='$items' data-selected-value=\"${this.$editor.layout}\">\n\n            <object refClass='SelectTool' />\n            <object refClass='AddArtboard' />\n            <span data-item='css'>\n              <object refClass='AddRect' />\n              <object refClass='AddCircle' />         \n              <object refClass='AddText' />\n              <object refClass='AddImage' />\n              <!--object refClass='AddVideo' /-->\n              ${this.$injectManager.generate('tool.menu.css')}\n            </span>            \n            <span data-item='svg'>\n              <div class='divider'></div>\n              <object refClass='AddDrawPath' />\n              <object refClass='AddPath' />\n              <object refClass='AddSVGRect' />\n              <object refClass='AddSVGCircle' />            \n              <!-- <AddSVGText /> -->\n              <object refClass='AddSVGTextPath' />\n              <object refClass='AddPolygon' />\n              ${this.$injectManager.generate('tool.menu.svg')}              \n            </span>\n          </div>\n        </div>\n\n      </div>\n    `;\n  }\n\n  [SUBSCRIBE('changedEditorlayout')] () {\n    this.refs.$items.attr('data-selected-value', this.$editor.layout)\n  }\n\n  [SUBSCRIBE('noneSelectMenu')] () {\n    var $selected = this.refs.$items.$('.selected');\n    if ($selected) {\n      $selected.removeClass('selected');\n    }\n  }\n\n  [CLICK('$items button')] (e) {\n    e.$dt.onlyOneClass('selected');\n  }\n}","import MenuItem from \"./MenuItem\";\n\nexport default class Projects extends MenuItem {\n  getIconString() {\n    return 'note';\n  }\n  getTitle() {\n    return this.$i18n('menu.item.projects.title');\n  }\n\n  isHideTitle() {\n    return true; \n  }\n\n  clickButton(e) {\n    this.emit('open.projects')\n  }\n}","import { CLICK } from 'el/sapa/Event';\nimport { EditorElement } from '../common/EditorElement';\n\nimport './DropdownMenu.scss';\nimport { isFunction } from 'el/sapa/functions/func';\nimport { initializeGroupVariables, variable } from 'el/sapa/functions/registElement';\nimport icon, { iconUse } from 'el/editor/icon/icon';\nimport { LOAD } from 'el/sapa/Event';\nimport { DOMDIFF } from 'el/sapa/Event';\nimport { SUBSCRIBE_SELF } from 'el/sapa/Event';\n\nexport class DropdownMenu extends EditorElement {\n\n    initState() {\n      return {\n        direction: this.props.direction || \"left\",\n        opened: this.props.opened || false,\n        items: [\n          { title: 'menu.item.fullscreen.title', command: 'toggle.fullscreen', shortcut: \"ALT+/\" },\n          { title: 'menu.item.shortcuts.title', command: 'showShortcutWindow' },\n          '-',\n          { title: 'menu.item.export.title', command: 'showExportView' },\n          { title: 'menu.item.download.title', command: 'downloadJSON' },\n          { title: 'menu.item.save.title', command: 'saveJSON', nextTick: () => {\n            this.emit('notify',  'alert', 'Save', 'Save the content on localStorage', 2000);    \n          } },\n          '-',\n          { title: 'EasyLogic Studio', items: [\n            { type: 'link', title: 'Github', href: 'https://github.com/easylogic/editor' },\n            { type: 'link', title: 'Learn', href: 'https://www.easylogic.studio' }\n          ]}\n        ]\n      }\n    }\n\n    makeMenuItem(it) {\n      if (it === '-' || it.type === 'divider') {\n        return `<li class=\"divider\"></li>`\n      }\n\n      if (it.type === 'link') {\n        return /*html*/`\n          <li><a href=\"${it.href}\" target=\"${it.target || \"_blank\"}\">${this.$i18n(it.title)}</a></li>\n        `\n      }\n\n      if (Array.isArray(it.items)) {\n        return /*html*/`\n          <li>\n              <span class=\"icon\">${it.icon ? it.icon : ''}</span>\n              <label>${this.$i18n(it.title)}</label> \n              <span>${iconUse(\"arrowRight\")}</span>\n              <ul>\n                  ${it.items.map(child => this.makeMenuItem(child)).join('')}\n              </ul>\n          </li>\n        `\n      }\n\n      return /*html*/`\n        <li data-command=\"${it.command}\" \n          ${it.disabled && 'disabled'} \n          ${it.shortcut && 'shortcut'}\n          ${it.nextTick && `data-next-tick=${variable(it.nextTick, this.groupId)}`} \n          ${it.args && `data-args=${variable(it.args, this.groupId)}`} \n        >\n            <span class=\"icon\">${it.icon || ''}</span>\n            <label>${this.$i18n(it.title)}</label>\n            <kbd class=\"shortcut\">${it.shortcut || ''}</kbd>\n        </li>\n      `\n    }\n\n    template() {\n      const { content } = this.props;\n      const { direction, opened, items } = this.state;\n\n      const openedClass = opened ? 'opened' : '';\n\n      return /*html*/`\n        <div class=\"dropdown-menu ${openedClass}\" data-direction=\"${direction}\">\n          ${content}\n          <ul ref=\"$list\"></ul>\n          <div class=\"dropdown-menu-arrow\">\n              <svg>\n                <path d=\"M0,6 L3.5,0 L7,6 \"></path>\n              </svg>\n          </div>\n      </div>\n      `\n    }\n\n    get groupId() {\n      return this.id + '$list';\n    }\n\n    [LOAD('$list') + DOMDIFF] () {\n      initializeGroupVariables(this.groupId);      \n      return this.state.items.map(it => this.makeMenuItem(it));\n    }\n\n    [CLICK('$el li[data-command]')] (e) {\n      const command = e.$dt.data('command');\n      const args = e.$dt.data('args') || [];\n      const nextTick = e.$dt.data('next-tick');\n\n      // command   \n      if (command) {\n        this.emit(command, ...args);\n      }\n\n      // nextTick    \n      if (nextTick && isFunction(nextTick)) {\n        this.nextTick(nextTick)\n      }\n    }\n\n    [SUBSCRIBE_SELF(\"updateMenuItems\")] (items) {\n      this.setState({ items });\n    }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class Undo extends MenuItem {\n  getIconString() {\n    return 'undo';\n  }\n  getTitle() {\n    return \"Undo\";\n  }\n\n  clickButton(e) {\n    this.emit('history.undo');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class Redo extends MenuItem {\n  getIconString() {\n    return 'redo';\n  }\n  getTitle() {\n    return \"Redo\";\n  }\n\n  clickButton(e) {\n    this.emit('history.redo');\n  }\n}","import MenuItem from \"./MenuItem\";\n\nexport default class ExportView extends MenuItem {\n  getIconString() {\n    return 'launch';\n  }\n  getTitle() {\n    return this.$i18n('menu.item.export.title');\n  }\n\n  clickButton(e) {\n    this.emit('showExportView')\n  }\n\n}","import MenuItem from \"./MenuItem\";\n\nexport default class Download extends MenuItem {\n  getIconString() {\n    return 'source';\n  }\n  getTitle() {\n    return this.$i18n('menu.item.download.title');\n  }\n\n  clickButton(e) {\n    this.emit('downloadJSON')\n  }\n}","import MenuItem from \"./MenuItem\";\n\nexport default class Save extends MenuItem {\n  getIconString() {\n    return 'storage';\n  }\n  getTitle() {\n    return this.$i18n('menu.item.save.title');\n  }\n\n  clickButton(e) {\n    this.emit('saveJSON')\n    this.nextTick(() => {\n      this.emit('notify',  'alert', 'Save', 'Save the content on localStorage', 2000);    \n    });\n  }\n}","import { DEBOUNCE, SUBSCRIBE } from \"el/sapa/Event\";\nimport MenuItem from \"./MenuItem\";\n   \nexport default class OpenPathEditor extends MenuItem {\n  getIconString() {\n    return 'shape';\n  }\n  getTitle() {\n    return \"Edit\";\n  }\n\n  isHideTitle() {\n    return true; \n  }\n\n  clickButton(e) {\n    this.emit('open.editor');\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)] () {\n    const enablePathEditing = this.$selection.is(\"svg-path\", \"svg-textpath\") || this.$selection.current?.cacheClipPathObject?.type === 'path';\n\n    if (enablePathEditing) {\n      this.$el.show('inline-block');       \n    } else {\n      this.$el.hide();       \n    }\n\n  }\n}","import { CONFIG } from \"el/sapa/Event\";\nimport MenuItem from \"./MenuItem\";\n   \nexport default class Outline extends MenuItem {\n  getIconString() {\n    return 'outline';\n  }\n  getTitle() {\n    return \"Outline\";\n  }\n\n  clickButton(e) {\n    this.$config.toggle('show.outline');\n  }\n\n  [CONFIG('show.outline')] (isShow) {\n    this.setSelected(isShow);\n  }\n\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport PageSubEditor from \"./PageSubEditor\";\nimport ToolMenu from \"./tool-bar/ToolMenu\";\nimport Projects from \"el/editor/ui/menu-items/Projects\";\n\nimport './ToolBar.scss';\nimport { DropdownMenu } from \"el/editor/ui/view/DropdownMenu\";\nimport Undo from \"el/editor/ui/menu-items/Undo\";\nimport Redo from \"el/editor/ui/menu-items/Redo\";\nimport ExportView from 'el/editor/ui/menu-items/ExportView';\nimport Download from 'el/editor/ui/menu-items/Download';\nimport Save from 'el/editor/ui/menu-items/Save';\nimport OpenPathEditor from \"el/editor/ui/menu-items/OpenPathEditor\";\nimport Outline from \"el/editor/ui/menu-items/Outline\";\n\n\nexport default class ToolBar extends EditorElement {\n\n    components() {\n        return {\n            Outline,\n            OpenPathEditor,\n            ExportView,\n            Download,\n            Save,\n            Undo,\n            Redo,\n            DropdownMenu,\n            Projects,\n            PageSubEditor,\n            ToolMenu\n        }\n    }\n    template() {\n        return /*html*/`\n            <div class='elf--tool-bar'>\n                <div class='logo-item'>\n                    <object refClass=\"DropdownMenu\" ref=\"$menu\">\n                        <label class='logo'></label>\n                    </object>\n                </div>                 \n                <div class='left'>\n                    <div class='elf--tool-menu'>\n                        <div class='items'>\n                            <div class='draw-items'>\n                                <object refClass=\"Undo\" />\n                                <object refClass=\"Redo\" />\n                                <object refClass=\"Outline\" />                                \n                                <object refClass=\"OpenPathEditor\" />\n                                ${this.$injectManager.generate('toolbar.left')}\n                            </div>\n                        </div>\n                    </div>                    \n                </div>\n                <div class='center'>\n                    <object refClass=\"ToolMenu\" />\n                    <object refClass='PageSubEditor' />  \n                </div>\n                <div class='right'>\n                    <div class='elf--tool-menu'>\n                        <div class='items'>\n                            <div class='draw-items'>      \n                                <object refClass=\"ExportView\" />\n                                <object refClass=\"Download\" />\n                                <object refClass=\"Save\" />\n                                ${this.$injectManager.generate('toolbar.right')}                             \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class BottomAlign extends MenuItem {\n  getIconString() {\n    return 'align_vertical_bottom';\n  }\n  getTitle() {\n    return \"Bottom\";\n  }\n\n  isHideTitle () {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('sort.bottom');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class CenterAlign extends MenuItem {\n  getIconString() {\n    return 'align_horizontal_center';\n  }\n  getTitle() {\n    return \"Center\";\n  }\n \n  isHideTitle () {\n    return true; \n  } \n\n  clickButton(e) {\n    this.emit('sort.center');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class LeftAlign extends MenuItem {\n  getIconString() {\n    return 'align_horizontal_left';\n  }\n  getTitle() {\n    return \"Left\";\n  }\n\n  isHideTitle () {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('sort.left');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class MiddleAlign extends MenuItem {\n  getIconString() {\n    return 'align_vertical_center';\n  }\n  getTitle() {\n    return \"middle\";\n  }\n\n  isHideTitle () {\n    return true; \n  }\n\n  clickButton(e) {\n    this.emit('sort.middle');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class RightAlign extends MenuItem {\n  getIconString() {\n    return 'align_horizontal_right';\n  }\n  getTitle() {\n    return \"Right\";\n  }\n\n  isHideTitle () {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('sort.right');\n  }\n}\n","import MenuItem from \"./MenuItem\";\n   \nexport default class SameHeight extends MenuItem {\n  getIconString() {\n    return 'vertical_distribute';\n  }\n\n  getTitle() {\n    return \"height\";\n  }\n\n  isHideTitle () {\n    return true; \n  }\n\n  clickButton(e) {\n    this.emit('same.height');\n  }\n}\n","import MenuItem from \"./MenuItem\";\n   \nexport default class SameWidth extends MenuItem {\n  getIconString() {\n    return 'horizontal_distribute';\n  }\n  getTitle() {\n    return \"width\";\n  }\n\n  isHideTitle () {\n    return true; \n  }\n\n  clickButton(e) {\n    this.emit('same.width');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class TopAlign extends MenuItem {\n  getIconString() {\n    return 'align_vertical_top';\n  }\n  getTitle() {\n    return \"Top\";\n  }\n\n  isHideTitle () {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('sort.top');\n  }\n}","import { CLICK, PREVENT, STOP } from \"el/sapa/Event\";\nimport { isFunction } from \"el/sapa/functions/func\";\n\nimport { EditorElement } from \"../common/EditorElement\";\n\nimport './BaseProperty.scss';\n\nexport default class BaseProperty extends EditorElement {\n\n  onToggleShow() {}\n\n  template() {\n    return /*html*/`\n        <div class='elf--property ${this.isHideHeader() ? 'no-title' : ''} ${this.getClassName()} ${this.isFirstShow() ?  'show' : '' }'>\n            ${this.isHideHeader() ? ''\n            : /*html*/`\n            <div class='property-title ${this.getTitleClassName()}' ref=\"$title\">\n                <label class=\"${this.hasKeyframe() ? 'has-keyframe': ''}\"> \n                  ${\n                    this.hasKeyframe() ? \n                    /*html*/`\n                      <span class='add-timeline-property' data-property='${this.getKeyframeProperty()}'></span>\n                    `\n\n                    : ''\n                  } \n                  <span ref='$propertyTitle'>${this.getTitle()}</span>\n                </label>\n                <span class=\"tools\">${this.getTools()}</span>\n            </div>`\n            }\n            <div class='property-body ${this.getBodyClassName()}'>${this.getBody()}</div>\n            ${ this.getFooter() ? `<div class='property-footer'>${this.getFooter()}</div>` : ''}\n        </div>\n        `;\n  }\n\n  setTitle (title) {\n    this.refs.$propertyTitle.text(title);\n  }\n\n  hasKeyframe () {\n    return false;\n  }\n    \n  isHideHeader() {\n    return false;\n  }\n\n  isFirstShow () {\n    return true\n  }\n\n  getClassName() {\n    return '';\n  }\n\n  getTitleClassName() {\n    return '';\n  }\n\n  getBodyClassName() {\n    return '';\n  }\n\n  getKeyframeProperty() {\n    return \"\";\n  }\n\n  getTitle() {\n    return '';\n  }\n  getTools() {\n    return '';\n  }\n  getBody() {\n    return '';\n  }\n\n  getFooter() {\n    return ''; \n  }\n\n  // [CLICK(\"$title label\")](e) {\n  //   var $dom = e.$dt.parent();\n\n  //   var isAddProperty = Dom.create(e.target).hasClass('add-timeline-property')\n\n  //   if ($dom.hasClass(\"property-title\") && isAddProperty === false) {\n  //     this.$el.toggleClass(\"show\");\n  //     this.onToggleShow();\n  //   }\n  // }\n\n  // [CLICK(\"$title .icon\")](e) {\n  //   var $dom = e.$dt.parent();\n\n  //   if ($dom.hasClass(\"property-title\")) {\n  //     this.$el.toggleClass(\"show\");\n  //     this.onToggleShow();\n  //   }\n  // }\n\n  [CLICK('$el .property-body .add-timeline-property') + PREVENT + STOP] (e) {\n    var property = e.$dt.attr('data-property')\n    var editor = e.$dt.attr('data-editor')\n\n    this.emit('addTimelineCurrentProperty', { property, editor })\n  }\n\n  [CLICK('$el .property-title .add-timeline-property') + PREVENT + STOP] (e) {\n    var property = e.$dt.attr('data-property')\n    var editor = e.$dt.attr('data-editor')\n\n    this.emit('addTimelineCurrentProperty', { property, editor })\n  }  \n\n  isPropertyShow() {\n    return this.$el.hasClass(\"show\");\n  }\n\n  toggle(isShow) {\n    this.$el.toggle(isShow);\n  }\n\n  hide() {\n    this.$el.hide();\n  }\n\n  show() {\n    this.$el.show();\n  }\n\n  onShowTitle(isShow) {\n\n  }\n\n  refreshShowIsNot (type = '', isRefresh = true ) {\n\n    var current = this.$selection.current;\n    if (current) {\n      if (type.includes(current.itemType)) {\n        this.hide();\n      } else {\n        this.show();\n\n        if (isRefresh) this.refresh();\n      }\n    } else {\n      // this.show();\n    }\n  }\n\n  refreshShow (type, isRefresh = true) {\n\n    var current = this.$selection.current;\n    if (current) {\n\n      if  (isFunction(type) && type()) {\n        this.show();\n        if (isRefresh) this.refresh();\n      } else {\n        if (!isFunction(type) && type.includes(current.itemType)) {\n          this.show();\n          if (isRefresh) this.refresh();\n        } else {\n          this.hide();\n        }\n      } \n    }  else {\n      this.hide();\n    }\n  }\n\n\n  startInputEditing (input) {\n    if (!input) return; \n    input.attr('contenteditable', true);\n\n    input.css({\n      'background-color': 'white',\n      'outline': '1px auto black',\n      'color': 'black',\n    })\n\n    input.focus();\n  }\n\n  endInputEditing (input, callback) {\n    if (!input) return;     \n    input.attr('contenteditable', false);\n    input.css({\n      'background-color': null,\n      'outline': null,\n      'color': null,\n    })\n\n    var index = input.attr('data-index');\n\n    callback && callback (index, input.text().trim())\n\n    input.blur();\n  }\n\n  get editableProperty() {\n    return '';\n  }\n\n  checkShow() {\n\n    if (!this.$selection.current) {\n      this.hide();\n      return false; \n    }\n\n    if (this.$selection.current.editable(this.editableProperty)) {\n      this.show();\n      return true; \n    } else {\n      this.hide();\n      return false; \n    }\n  }\n}\n","import BottomAlign from \"el/editor/ui/menu-items/BottomAlign\";\nimport CenterAlign from \"el/editor/ui/menu-items/CenterAlign\";\nimport LeftAlign from \"el/editor/ui/menu-items/LeftAlign\";\nimport MiddleAlign from \"el/editor/ui/menu-items/MiddleAlign\";\nimport RightAlign from \"el/editor/ui/menu-items/RightAlign\";\nimport SameHeight from \"el/editor/ui/menu-items/SameHeight\";\nimport SameWidth from \"el/editor/ui/menu-items/SameWidth\";\nimport TopAlign from \"el/editor/ui/menu-items/TopAlign\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './AlignmentProperty.scss';\n\nexport default class AlignmentProperty extends BaseProperty {\n\n  components() {\n    return {\n      LeftAlign,\n      CenterAlign,\n      RightAlign,\n      TopAlign,\n      MiddleAlign,\n      BottomAlign,\n      SameWidth,\n      SameHeight\n    }\n  }\n\n  getTitle() {\n    return this.$i18n('alignment.property.title');\n  }\n\n  isHideHeader() {\n    return true;\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--alignment-item\">\n        <object refClass=\"LeftAlign\" />\n        <object refClass=\"CenterAlign\" />\n        <object refClass=\"RightAlign\" />\n\n        <object refClass=\"TopAlign\" />\n        <object refClass=\"MiddleAlign\" />\n        <object refClass=\"BottomAlign\" />  \n\n        <object refClass=\"SameWidth\" direction=\"bottom\" />\n        <object refClass=\"SameHeight\" />\n      </div>\n    `;\n  }\n}","export function getCustomParseIndexString(it, prefix = '@' ) {\n    return `${prefix}${it.startIndex}`.padEnd(10, '0');\n}\n\nexport function customParseMatches (str, regexp) {\n    const matches = str.match(regexp);\n    let result = [];\n\n    if (!matches) {\n        return result;\n    }\n\n    for (var i = 0, len = matches.length; i < len; i++) {\n        result.push({ parsedString: matches[i] });\n    }\n\n    var pos = { next: 0 }\n    result.forEach(item => {\n        const startIndex = str.indexOf(item.parsedString, pos.next);\n\n        item.startIndex = startIndex;\n        item.endIndex = startIndex + item.parsedString.length;\n\n        pos.next = item.endIndex;\n    });\n\n    return result;\n}\n\nexport function customParseConvertMatches (str, regexp) {\n    const m = customParseMatches(str, regexp); \n\n    m.forEach(it => {\n        str = str.replace(it.parsedString, getCustomParseIndexString(it))\n    })\n\n    return { str, matches: m }\n}\n\nexport function customParseReverseMatches (str, matches) {\n    matches.forEach(it => {\n        str = str.replace(getCustomParseIndexString(it), it.parsedString)\n    })\n\n    return str;\n}\n","import { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { customParseConvertMatches, customParseReverseMatches } from \"el/utils/customParser\";\n\nconst ANIMATION_TIMING_REG = /((cubic-bezier|steps)\\(([^\\)]*)\\))/gi;\n\nexport class Animation extends PropertyItem {\n  static parse(obj) {\n    return new Animation(obj);\n  }\n\n  getDefaultObject() {\n    return {\n      itemType: \"animation\",\n      checked: true, \n      name: 'none',\n      direction: 'normal',\n      duration: Length.second(0),\n      timingFunction: 'linear',\n      delay: Length.second(0),\n      iterationCount: Length.string('infinite'),\n      playState: 'running',\n      fillMode: 'none'\n    };\n  }\n\n  convert(json) {\n    json = super.convert(json)\n\n    json.duration = Length.parse(json.duration);\n    json.iterationCount = Length.parse(json.iterationCount);\n    return json \n  }\n\n  toCloneObject() {\n    return {\n      ...this.attrs(\n        'name',\n        'direction',\n        'duration',\n        'timingFunction',\n        'delay',\n        'iterationCount',\n        'playState',\n        'fillMode'\n      )\n\n    }\n  }\n\n  togglePlayState (forcedValue) {\n\n    if (forcedValue) {\n      this.reset({ playState: forcedValue === 'running' ? 'running' : 'paused' })\n    } else {\n      if (this.json.playState === 'paused') {\n        this.reset({ playState: 'running' })\n      } else {\n        this.reset({ playState: 'paused' })\n      }\n    }\n\n  }\n\n  toCSS() {\n    if (!this.json.name) return {}\n    return {\n      \"animation\": this.toString()\n    };\n  }\n\n  toString() {\n    var json = this.json;\n\n    return [\n      json.duration,\n      json.timingFunction,\n      json.delay,\n      json.iterationCount,\n      json.direction,\n      json.fillMode,\n      json.playState,\n      json.name\n    ].join(' ')\n  }\n\n  static join (list) {\n    return list.map(it => new Animation(it).toString()).join(',')\n  }\n\n  static add (animation, item = {}) {\n    const list = Animation.parseStyle(animation);\n    list.push(Animation.parse(item))\n\n    return Animation.join(list); \n  }\n\n  static remove (animation, removeIndex) {\n    return Animation.filter(animation, (it, index) => {\n        return removeIndex != index; \n    })\n  }\n\n  static filter (animation, filterFunction) {\n    return Animation.join(Animation.parseStyle(animation).filter(it => filterFunction(it)))\n  }\n\n  static replace (animation, replaceIndex, valueObject) {\n\n    var list = Animation.parseStyle(animation)\n\n    if (list[replaceIndex]) {\n      list[replaceIndex] = valueObject;\n    } else {\n      list.push(valueObject);\n    }\n\n    return Animation.join(list);\n  }\n\n  static get (animation, index) {\n    var arr = Animation.parseStyle(animation)\n\n    return arr[index];\n  }   \n\n\n  static parseStyle (animation) {\n\n    var list = [];\n\n    if (!animation) return list;\n\n\n    const result = customParseConvertMatches(animation, ANIMATION_TIMING_REG)\n    list = result.str.split(',').map(it => {\n\n      const fields = it.split(' ').filter(Boolean);\n\n      if (fields.length >= 7 ) {\n          /* @keyframes duration | timing-function | delay | \n          iteration-count | direction | fill-mode | play-state | name */\n          //animation: 3s ease-in 1s 2 reverse both paused slidein;        \n        return {\n          duration: Length.parse(fields[0]),          \n          timingFunction: customParseReverseMatches(fields[1], result.matches),          \n          delay: Length.parse(fields[2]),          \n          iterationCount: fields[3] === 'infinite' ? Length.string('infinite') : Length.parse(fields[3]),          \n          direction: fields[4],\n          fillMode: fields[5],\n          playState: fields[6],\n          name: fields[7]\n        }\n      } else if (fields.length >= 3) {\n        /* @keyframes duration | timing-function | delay | name */\n        //animation: 3s linear 1s slidein;        \n        return {\n          duration: Length.parse(fields[0]),          \n          timingFunction: customParseReverseMatches(fields[1], result.matches),\n          delay: Length.parse(fields[2]),          \n          name: fields[3]\n        }\n      } else if (fields.length >= 1) {\n        /* @keyframes duration | name */\n        //animation: 3s slidein;        \n        return {\n          duration: Length.parse(fields[0]),          \n          name: fields[1]\n        }\n      } else {\n        return {}\n      }\n    })\n\n    return list.map(it => Animation.parse(it));\n  }  \n\n}\n","\nimport {\n  LOAD,\n  CLICK,\n  DEBOUNCE,\n  DOMDIFF,\n  SUBSCRIBE\n} from \"el/sapa/Event\";\n\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { Animation } from \"el/editor/property-parser/Animation\";\nimport { curveToPath } from \"el/utils/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './AnimationProperty.scss';\n\nexport default class AnimationProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('animation.property.title');\n  }\n  getBody() {\n    return /*html*/`<div class='animation-list' ref='$animationList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n        <button type=\"button\" ref=\"$add\" title=\"add Fill\">${iconUse(\"add\")}</button>\n    `;\n  }\n\n  isFirstShow() {\n    return true;\n  }\n\n\n  [LOAD(\"$animationList\") + DOMDIFF]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    return Animation.parseStyle(current.animation).map((it, index) => {\n\n      const selectedClass = this.state.selectedIndex === index ? \"selected\" : \"\";\n      const path = curveToPath(it.timingFunction, 30, 30)\n\n      return /*html*/`\n      <div class='animation-group-item'>\n        <div class='animation-item ${selectedClass}' \n             data-index='${index}' \n             ref=\"animationIndex${index}\" \n          >\n            <div class='timing preview' data-index='${index}' ref='$preview${index}'>\n              <svg class='item-canvas' width=\"30\" height=\"30\" viewBox=\"0 0 30 30\">\n                <path d=\"${path}\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n              </svg>\n            </div>\n            <div class='name'>\n              <div class='title' ref=\"animationName${index}\">\n                ${it.name ? it.name : `&lt; ${this.$i18n('animation.property.select a keyframe')} &gt;`}\n              </div>\n              <div class='labels'>\n                <label class='count' title='${this.$i18n('animation.property.iteration.count')}'><small>${it.iterationCount}</small></label>\n                <label class='delay' title='${this.$i18n('animation.property.delay')}'><small>${it.delay}</small></label>\n                <label class='duration' title='${this.$i18n('animation.property.duration')}'><small>${it.duration}</small></label>\n                <label class='direction' title='${this.$i18n('animation.property.direction')}'><small>${it.direction}</small></label>\n                <label class='fill-mode' title='${this.$i18n('animation.property.fill.mode')}'><small>${it.fillMode}</small></label>\n                <label class='play-state' title='${this.$i18n('animation.property.play.state')}' data-index='${index}' data-play-state-selected-value=\"${it.playState}\">\n                  <small data-play-state-value='running'>${iconUse(\"play\")}</small>\n                  <small data-play-state-value='paused'>${iconUse(\"pause\")}</small>\n                </label>\n              </div>\n            </div>\n            <div class='tools'>\n                <button type=\"button\" class=\"del\" data-index=\"${index}\">\n                  ${iconUse(\"remove2\")}\n                </button>\n            </div>\n        </div>\n      </div>        \n      `;\n    });\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShowIsNot('project');\n    this.emit(\"hideAnimationPropertyPopup\");\n  }\n\n  [CLICK(\"$add\")](e) {\n    var current = this.$selection.current;\n\n    if (current) {\n\n      this.command(\"setAttributeForMulti\", \"add animation property\", this.$selection.packByValue({ \n        animation: (item) => Animation.add(item.animation, { name: null })\n      }))\n\n      this.nextTick(() => {\n        setTimeout(() => {\n          this.refresh();\n        }, 100)\n      })\n\n    } else {\n      alert('Select a layer')\n    }\n\n  }\n\n  [CLICK(\"$animationList .tools .del\")](e) {\n    var removeIndex = e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.reset({\n      animation: Animation.remove(current.animation, removeIndex)\n    })  \n\n    this.emit(\"refreshElement\", current);\n\n    this.refresh();\n  \n  }\n\n  [CLICK('$animationList .play-state')] (e) {\n    var index = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return; \n\n    const list = Animation.parseStyle(current.animation);\n    var animation = list[index]\n    if (animation) {\n      animation.togglePlayState();\n\n      e.$dt.attr('data-play-state-selected-value', animation.playState)\n\n      current.reset({\n        animation: Animation.join(list)\n      })\n\n      this.emit(\"refreshElement\", current);\n    }\n  }\n\n  \n  selectItem(selectedIndex, isSelected = true) {\n    if (isSelected) {\n      this.refs[`animationIndex${selectedIndex}`].addClass(\"selected\");\n    } else {\n      this.refs[`animationIndex${selectedIndex}`].removeClass(\"selected\");\n    }\n  }\n\n  viewAnimationPicker($preview) {\n    if (typeof this.selectedIndex === \"number\") {\n      this.selectItem(this.selectedIndex, false);\n    }\n\n    this.selectedIndex = +$preview.attr(\"data-index\");\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentAnimation = Animation.get(this.current.animation, this.selectedIndex);\n\n    this.viewAnimationPropertyPopup();\n  }\n\n  viewAnimationPropertyPopup() {\n    if (!this.currentAnimation) return;\n\n    const animation = this.currentAnimation;\n    this.emit(\"showAnimationPropertyPopup\", {\n      changeEvent: 'changeAnimationPropertyPopup',\n      data: animation.toCloneObject(),\n      instance: this  \n    });\n  }\n\n  [CLICK(\"$animationList .preview\")](e) {\n    this.viewAnimationPicker(e.$dt);\n  }\n\n  getRef(...args) {\n    return this.refs[args.join(\"\")];\n  }\n\n  [SUBSCRIBE(\"changeAnimationPropertyPopup\")](data) {\n\n    if (this.currentAnimation) {\n\n      this.currentAnimation.reset({ ...data });\n\n      if (this.current) {\n\n        this.command(\"setAttributeForMulti\", \"change animation property\", this.$selection.packByValue({ \n          animation: (item) => Animation.replace(item.animation, this.selectedIndex, this.currentAnimation)\n        }))\n\n        this.refresh();\n      }\n    }\n  }\n}","\nimport { POINTERSTART, CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { EditorElement } from \"../common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './BasePopup.scss';\n\nexport default class BasePopup extends EditorElement {\n\n  template() {\n    return /*html*/`\n        <div class='elf--popup ${this.getClassName()}'>\n            <div class='popup-title' ref=\"$title\">\n                <label>${this.getTitle()}</label>\n                <span class=\"tools\">\n                  ${this.getTools()}\n                  <button type='button' class='close' ref='$close'>${iconUse(\"close\")}</button>\n                </span>\n            </div>\n            <div class='popup-body'>${this.getBody()}</div>\n            <!--<div class='popup-resizer' ref='$resizer'></div> -->\n        </div>\n        `;\n  }\n\n  getClassName() {\n    return '';\n  }\n  getTitle() {\n    return '';\n  }\n  getTools() {\n    return '';\n  }\n  getBody() {\n    return '';\n  }\n\n  [CLICK('$close')] () {\n    this.$el.hide();\n  }\n\n  [POINTERSTART('$title') + MOVE('movePopupTitle') + END('endPopupTitle')] () {\n    this.x = Length.parse(this.$el.css('left'))\n    this.y = Length.parse(this.$el.css('top'))\n\n  }\n\n  movePopupTitle (dx, dy) {\n    var left = Length.px(this.x.value + dx)\n    var top = Length.px(this.y.value + dy)\n\n    this.$el.css({ left, top, right: 'auto', bottom: 'auto' })\n  }\n\n  show (width = 200) {\n\n    var popupPadding = 28;\n    var rightPosition = 320; \n\n    var top = this.$el.css('top')\n    var left = this.$el.css('left')\n\n    var realTop = top !== 'auto' ? Length.parse(top) : Length.px(110)\n    var realLeft = left !== 'auto' ? Length.parse(left) : Length.px(document.body.clientWidth - rightPosition - popupPadding - width)\n\n    this.$el\n      .css({\n        top: realTop,\n        left: realLeft,\n        'z-index': this.$editor.zIndex\n      })\n      .show(\"inline-block\");\n  }\n\n  showByRect (rect) {\n    this.$el\n      .css({\n        top: Length.px(rect.top),\n        left: Length.px(rect.left),\n        width: Length.px(rect.width),\n        height: Length.px(rect.height),\n        'z-index': this.$editor.zIndex\n      })\n      .show(\"inline-block\");\n  }\n\n  hide () {\n    this.$el.hide();\n  }\n\n  [SUBSCRIBE( \"hidePropertyPopup\")]() {\n    this.hide();\n  }\n\n  [POINTERSTART('$resizer') + MOVE('moveResizer')] (e) {\n    this.width = Length.parse(this.$el.css('width'));\n    this.height = Length.parse(this.$el.css('height'));\n  }\n\n  moveResizer (dx, dy) {\n    this.$el.css({\n      width: Length.px(Math.min(this.width.value + dx, 1000)),\n      height: Length.px(Math.min(this.height.value + dy, 700)),\n    })\n  }\n\n\n}\n","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, CHANGE, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './AnimationPropertyPopup.scss';\n\nexport default class AnimationPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('animation.property.popup.title')\n  }\n\n  initState() {\n    return {\n      changeEvent: '', \n      instance: {}, \n      data: {} \n    };\n  }\n\n  updateData(opt) {\n    this.state.data = {...this.state.data, ...opt} \n    if (this.state.instance) {\n      this.state.instance.trigger(this.state.changeEvent, this.state.data);\n    }\n  }\n\n  getBody() {\n    return /*html*/`<div class='elf--animation-property-popup' ref='$popup'></div>`;\n  }\n\n  [LOAD('$popup')] () {\n    return /*html*/`\n      <div class=\"box\">\n        ${this.templateForKeyframe()}\n        ${this.templateForTimingFunction()}\n        ${this.templateForIterationCount()}\n        ${this.templateForDelay()}\n        ${this.templateForDuration()}\n        ${this.templateForDirection()}\n        ${this.templateForFillMode()}\n        ${this.templateForPlayState()}\n      </div>\n    `;\n  }\n\n  templateForTimingFunction () {\n    return /*html*/`\n    <div class='timing-function'>\n      <label>${this.$i18n('animation.property.popup.timing.function')}</label>\n      <object refClass=\"CubicBezierEditor\" ref='$cubicBezierEditor' key=\"timingFunction\" value=\"${this.state.data.timingFunction || 'linear'}\" onChange='changeCubicBezier' />\n    </div>\n    `\n  }\n\n  templateForKeyframe() {\n   \n    return /*html*/`\n      <div class='name'>\n        <label>${this.$i18n('animation.property.popup.keyframe')}</label>\n        <div class='input grid-1'>\n          <select ref='$name'></select>\n        </div>\n      </div>\n    `\n  }\n\n  [LOAD('$name')] () {\n    var current = this.$selection.currentProject;\n    var names = []\n    if (current && current.keyframes) {\n      names = current.keyframes.map(it => {\n        return {key: it.name, value: it.name}\n      });\n    }\n\n    names.unshift({key: 'Select a keyframe', value : ''});\n\n    return names.map(it => {\n      var selected = it.value === this.name ? 'selected' : '';\n      var label = this.$i18n(it.key);\n      return `<option value='${it.value}' ${selected}>${label}</option>`\n    })\n  }\n\n  [CHANGE('$name')] () {\n    this.updateData({name: this.refs.$name.value })\n  }\n\n  templateForDirection() {\n\n    var options = 'normal,reverse,alternate,alternate-reverse'.split(',').map(it => {\n      return `${it}:${this.$i18n(it)}`\n    }).join(',')\n\n    return /*html*/`\n      <div class='direction'>\n        <object refClass=\"SelectEditor\"  \n            label='${this.$i18n('animation.property.popup.direction')}'\n            ref='$direction' \n            key='direction' \n            value=\"${this.state.data.direction}\"\n            options='${options}'\n            onChange='changeSelect'\n        /> \n      </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n    this.updateData({ [key]: value })\n  }\n\n  templateForPlayState() {\n    return /*html*/`\n    <div class='play-state'>\n      <object refClass=\"SelectEditor\"  \n          label='${this.$i18n('animation.property.popup.play.state')}'\n          ref='$playState' \n          key='playState' \n          value=\"${this.state.data.playState}\"\n          options='${['paused', 'running']}'\n          onChange='changeSelect'\n      /> \n    </div>\n  `\n  }  \n\n  templateForFillMode() {\n\n    var options = 'none,forwards,backwards,both'.split(',').map(it=>{\n      return `${it}:${this.$i18n(it)}`\n    }).join(',');\n\n    return /*html*/`\n    <div class='fill-mode'>\n      <object refClass=\"SelectEditor\"  \n          label='${this.$i18n('animation.property.popup.fill.mode')}'\n          ref='$fillMode' \n          key='fillMode' \n          value=\"${this.state.data.fillMode}\"\n          options='${options}'\n          onChange='changeSelect'\n      /> \n    </div>\n  `\n  }\n\n  templateForDelay () {\n    return /*html*/`\n    <div class='delay'>\n      <object refClass=\"RangeEditor\"  \n        ref='$delay' \n        label='${this.$i18n('animation.property.popup.delay')}' \n        calc='false' \n        key='delay' \n        value='${this.state.data.delay}' \n        units='s,ms' \n        onChange=\"changeRangeEditor\" />\n    </div>\n    `\n  }\n\n  templateForDuration () {\n    return /*html*/`\n    <div class='duration'>\n      <object refClass=\"RangeEditor\"  \n        ref='$duration' \n        label='${this.$i18n('animation.property.popup.duration')}'  \n        key='duration' \n        value='${this.state.data.duration}' \n        units='s,ms' \n        onChange=\"changeRangeEditor\" />\n    </div>\n    `\n  }\n\n  templateForIterationCount () {\n    return /*html*/`\n      <div class='iteration-count'>\n        <object refClass=\"IterationCountEditor\"\n          ref='$iterationCount' \n          label='${this.$i18n('animation.property.popup.iteration')}' \n          key='iterationCount' \n          value='${this.state.iterationCount || '0'}' \n          units='normal,infinite' \n          onChange=\"changeRangeEditor\" \n        />\n      </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n\n    if (key === 'iterationCount') {\n      if (value.unit === 'normal') {\n        value = Length.number(value.value)\n      } else {\n        value = Length.string(value.unit)\n      }\n    }\n    this.updateData({ [key]: value })\n  }\n\n  [SUBSCRIBE_SELF('changeCubicBezier')] (key, value) {\n    this.updateData({ [key]: value })\n  }\n\n  [SUBSCRIBE(\"showAnimationPropertyPopup\")](data) {\n    this.setState(data);\n\n    this.show(250)\n\n    this.children.$cubicBezierEditor.trigger('showCubicBezierEditor', data.data.timingFunction)        \n  }\n\n  [SUBSCRIBE(\"hideAnimationPropertyPopup\")]() {\n    this.$el.hide();\n  }\n}","import { IF, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from \"el/sapa/functions/registElement\";\n\nconst overflow_list = [\n  'visible',\n  'hidden',\n  'scroll',\n  'auto'\n]\n\nexport default class AppearanceProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('background.color.property.title');\n  }\n\n  getOverflowList () {\n    return variable(overflow_list.map(it => {\n      return {value: it, text: this.$i18n(`background.color.property.overflow.${it}`) }\n    }));\n  }  \n\n  getBody() {\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='background-color'></span>\n        </div>\n        <object refClass=\"ColorViewEditor\" \n          ref='$color' \n          label=\"${this.$i18n('background.color.property.color')}\" \n          key='background-color' \n          onchange=\"changeColor\" \n        />\n      </div>   \n        <div class='property-item animation-property-item' style='display:none;'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='z-index'></span>\n          </div>\n          <object refClass=\"NumberRangeEditor\"  \n            ref='$zIndex' \n            key='z-index' \n            label='${this.$i18n('background.color.property.zindex')}'\n            min=\"-1000\"\n            max=\"1000\"\n            step=\"1\"\n            onchange=\"changeSelect\" />\n        </div>\n        \n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='mix-blend-mode'></span>\n          </div>\n          <object refClass=\"BlendSelectEditor\" \n            label='${this.$i18n('background.color.property.blend')}'\n            ref='$mixBlend' \n            removable='true'\n            key='mix-blend-mode' \n            icon=\"true\" \n            tabIndex=\"1\"\n            onchange=\"changeSelect\" />\n        </div>        \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='overflow'></span>\n          </div>\n          <object refClass=\"SelectEditor\"  \n            label='${this.$i18n('background.color.property.overflow')}'\n            ref='$overflow' \n            removable='true'\n            key='overflow' \n            icon=\"true\" \n            tabIndex=\"1\"\n            options=${this.getOverflowList()}\n            onchange=\"changeSelect\" />\n        </div>                \n      `;\n  }  \n\n  [SUBSCRIBE_SELF('changeColor')] (key, color) {\n    this.command('setAttributeForMulti', 'change background color', this.$selection.packByValue({ \n      [key]: color\n    }))\n  }  \n\n\n  refresh () {\n    var current = this.$selection.current; \n\n    if (current) {\n      this.children.$zIndex.setValue(current['z-index'] || 0)\n      this.children.$mixBlend.setValue(current['mix-blend-mode'])\n      this.children.$overflow.setValue(current['overflow']);\n      this.children.$color.setValue(current['background-color'] || 'rgba(0, 0, 0, 1)')\n\n    }\n  }\n\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n    this.command(\"setAttributeForMulti\", `change attribute : ${key}`, this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n  get editableProperty() {\n    return \"appearance\";\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n}","export default [\n    {\n      category: 'Web', \n      groups: [\n        { group: 'Landscape', devices: [\n          { device: 'Web Small', size: '1024x600' },\n          { device: 'Web Medium', size: '1280x800' },\n          { device: 'Web Large', size: '1440x900' },\n          { device: 'Web X Large', size: '1920x1200' },\n        ]},\n        {\n          group: 'Portrait', devices: [\n            { device: 'Web Small', size: '600x1024' },\n            { device: 'Web Medium', size: '800x1280' },\n            { device: 'Web Large', size: '900x1440' },\n            { device: 'Web X Large', size: '1200x1920' },\n        ]}\n      ]\n    },               \n    {\n      category: 'Apple Devices', \n      groups: [\n        { group: 'iphone', devices: [\n          { device: 'iPhone 8', size: '375x667' },\n          { device: 'iPhone 8 Plus', size: '414x736' },\n          { device: 'iPhone SE', size: '320x568' },\n          { device: 'iPhone XS', size: '375x812' },\n          { device: 'iPhone XR', size: '414x896' },\n          { device: 'iPhone XS Max', size: '414x896' }\n        ]},\n        { group: 'ipad', devices: [\n          { device: 'iPad', size: '768x1024' },\n          { device: 'iPad Pro', size: '1024x1366' }\n        ]},\n        { group: 'apple watch', devices: [\n          { device: 'Apple Watch 38nm', size: '272x340' },\n          { device: 'Apple Watch 40nm', size: '326x394' },\n          { device: 'Apple Watch 42nm', size: '313x390' },\n          { device: 'Apple Watch 44nm', size: '368x448' }\n        ]},\n        { group: 'apple tv', devices: [\n          { device: 'Apple TV', size: '1920x1080' }\n        ]},\n        { group: 'MAC', devices: [\n          { device: 'Touch Bar', size: '1085x30' },\n        ]}                        \n      ]\n    },\n    {\n      category: 'Android Devices', \n      groups: [\n        { group: 'android mobile', devices: [\n          { device: 'Android Mobile', size: '360x640' }\n        ]},\n        { group: 'android tablet', devices: [\n          { device: 'Android Tablet', size: '768x1024' }\n        ]}\n      ]\n    }\n  ]","import { LOAD, DOMDIFF, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\n\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport artboardSize from \"./preset/artboard.size\";\nimport './ArtBoardSizeProperty.scss';\nimport { variable } from \"el/sapa/functions/registElement\";\n\nexport default class ArtBoardSizeProperty extends BaseProperty {\n\n  getClassName() {\n    return 'elf--artboard-size-list'\n  }\n\n  get editableProperty() {\n    return 'artboard-size';\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')] () {\n    this.refresh();\n  }\n\n  initState() {\n    return {\n      selectedIndex: 0,\n    }\n  }\n\n  getTitle() {\n    return \"ArtBoard Preset\";\n  }\n\n  getTools() {\n\n    var categories = artboardSize.map((it,index) => {\n      return {category: it.category, index}\n     })\n\n    return /*html*/`\n      <object refClass=\"SelectEditor\"  \n        ref='$select' \n        value=\"${categories[0].category}\" \n        options=${variable(categories.map(it => it.category))} \n        onchange='changeSizeIndex'\n      />\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeSizeIndex')] (key, value) {\n    var selectedIndex = this.state.selectedIndex;\n    artboardSize.forEach((it, index) => {\n      if (it.category === value) {\n        selectedIndex = index; \n      }\n    })\n\n    this.state.selectedIndex = selectedIndex;\n\n    this.refresh();\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='artboard-size-item' ref='$list'></div>\n    `;\n  }\n\n  makeDevice (device) {\n    return /*html*/`\n      <div class='device-item' data-size='${device.size}'>\n        <div class='title'>${device.device}</div>\n        <div class='size'>${device.size}</div>\n      </div>\n    `\n  }\n\n  [CLICK('$list .device-item')] (e) {\n    var size = e.$dt.attr('data-size');\n\n    this.emit('resizeArtBoard', size);\n  }\n\n  makeGroup (group) {\n    return /*html*/`\n      <div class='group-item'>\n        <div class='title'>${group.group}</div>\n      </div>\n      <div class='devices'>\n        ${group.devices.map(device => this.makeDevice(device)).join('')}\n      </div>\n    `\n  }\n\n  makeCategory (category) {\n    return /*html*/`\n      <div class='category'>\n        <div class='title'>${category.category}</div>\n      </div>\n      <div class='groups'>\n        ${category.groups.map(group => this.makeGroup(group)).join('')}\n      </div>\n    `\n  }\n\n  [LOAD('$list') + DOMDIFF] () {\n    var category = artboardSize[this.state.selectedIndex]\n    return category.groups.map(group => this.makeGroup(group))\n  }\n}","\nexport const filter_list = [\n    \"blur\",\n    \"grayscale\",\n    \"hue-rotate\",\n    \"invert\",\n    \"brightness\",\n    \"contrast\",\n    \"drop-shadow\",\n    \"opacity\",\n    \"saturate\",\n    \"sepia\",\n    'svg',\n  ];","\nimport {\n  LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, IF\n} from \"el/sapa/Event\";\n\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { filter_list } from \"./util\";\nexport default class BackdropFilterProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('backdrop.filter.property.title');\n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n\n  getTitleClassName() {\n    return 'filter'\n  }\n\n\n  getKeyframeProperty () {\n    return 'backdrop-filter';\n  }\n\n  getBodyClassName() {\n    return 'no-padding';\n  }\n\n\n\n  getBody() {\n    return /*html*/`<div class='full filter-property' ref='$body'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$filterSelect\"></select>\n      <button type=\"button\" ref=\"$add\" title=\"add Filter\">${iconUse(\"add\")}</button>\n    `\n  }\n  \n\n  [CLICK(\"$add\")]() {\n    var filterType = this.refs.$filterSelect.value;\n\n    this.children.$filterEditor.trigger('add', filterType)\n  }\n\n  [LOAD('$filterSelect')] () {\n    var list = filter_list.map(it => { \n      return {title: this.$i18n(`filter.property.${it}`), value: it}\n    })\n\n    var svgFilterList = this.getSVGFilterList()\n\n    var totalList = []\n\n    if (svgFilterList.length) {\n      totalList = [\n        ...list,\n        { title: '-------' , value: ''},\n        ...svgFilterList\n      ]\n    } else {\n      totalList = [\n        ...list\n      ]\n    }\n\n    return totalList.map(it => {\n      var {title, value} = it;\n      \n      return `<option value='${value}'>${title}</option>`\n    })\n  }\n\n\n  getSVGFilterList () {\n     \n    var current = this.$selection.currentProject;\n    var arr = [] \n\n    if (current) {\n      arr = current.svgfilters\n        .map(it => {\n          return {\n            title : `svg - #${it.id}`,\n            value: it.id\n          }\n        })\n    }\n\n    return arr\n  }  \n\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {} \n    var value = current['backdrop-filter'];\n\n    return /*html*/`\n      <div>\n        <object refClass=\"FilterEditor\" ref='$filterEditor' key=\"backdrop-filter\" value='${value}' hide-label=\"true\" onchange='changeFilterEditor' />\n      </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeFilterEditor')] (key, filter) {\n\n    this.command(\"setAttributeForMulti\", \"change backdrop filter\", this.$selection.packByValue({\n      [key]: filter\n    }))  \n\n  }\n\n  get editableProperty() {\n    return \"backdrop-filter\";\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')] () {\n    this.refresh();\n  }\n}","import { LOAD, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from \"el/sapa/functions/registElement\";\n\nexport default class BackgroundClipProperty extends BaseProperty {\n  \n  getTitle() {\n    return \"Background Clip\";\n  }\n\n  isFirstShow() {\n    return false; \n  }\n\n  getTools() {\n    return /*html*/`<div ref='$backgroundClip' style='padding-top: 3px;'></div>`;\n  }  \n\n  [LOAD(\"$backgroundClip\")]() {\n    var current = this.$selection.current || {};\n\n    var clip = current['background-clip'] || ''\n    return /*html*/`\n      <object refClass=\"SelectEditor\"  \n          ref='$1' \n          key='background-clip' \n          icon=\"true\" \n          value=\"${clip}\" \n          options=${variable([\"\",\"paddinb-box\",\"border-box\",\"content-box\",\"text\"])} \n          onchange=\"changeSelect\" \n      />`;\n  }\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n      this.command('setAttributeForMulti', \"change background clip\", this.$selection.packByValue({\n        [key]: value\n      }))\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(['rect', 'circle', 'text']);\n  }  \n}","\nimport { BackgroundImage } from \"el/editor/property-parser/BackgroundImage\";\nimport { LOAD, CLICK, DRAGSTART, DRAGOVER, DROP, PREVENT, DEBOUNCE, SUBSCRIBE, DOMDIFF, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\nimport { LinearGradient } from \"el/editor/property-parser/image-resource/LinearGradient\";\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './BackgroundImageEditor.scss';\n\nconst names = {\n    'image-resource': \"Image\",\n    'url': \"Image\",\n    image: \"Image\",\n    \"static-gradient\": \"Static\",\n    \"linear-gradient\": \"Linear\",\n    \"repeating-linear-gradient\": `${icon.repeat} Linear`,\n    \"radial-gradient\": \"Radial\",\n    \"repeating-radial-gradient\": `${icon.repeat} Radial`,\n    \"conic-gradient\": \"Conic\",\n    \"repeating-conic-gradient\": `${icon.repeat} Conic`\n  };\n  \n  const types = {\n    image: \"image\",\n    'image-resource': \"image\",    \n    'url': 'image',\n\n    \"static-gradient\": \"gradient\",\n    \"linear-gradient\": \"gradient\",\n    \"repeating-linear-gradient\": \"gradient\",\n    \"radial-gradient\": \"gradient\",\n    \"repeating-radial-gradient\": \"gradient\",\n    \"conic-gradient\": \"gradient\",\n    \"repeating-conic-gradient\": \"gradient\"\n  };\n\nexport default class BackgroundImageEditor extends EditorElement {\n\n    initState() {\n        return {\n            hideLabel: this.props['hide-label'] === 'true' ? true: false,\n            value: this.props.value, \n            images : this.parseBackgroundImage(this.props.value)\n        }\n    }\n\n    parseBackgroundImage(str) {\n        if (str === '') return [];\n        return BackgroundImage.parseStyle(STRING_TO_CSS(str));\n    }\n\n    setValue (value) {\n        this.setState({\n            value, \n            images : this.parseBackgroundImage(value)\n        })\n    }\n\n    template () {\n        var labelClass = this.state.hideLabel ? 'hide' : '';\n        return /*html*/`\n            <div class='elf--background-image-editor' >\n                <div class='label ${labelClass}'>\n                    <label>${this.props.title||''}</label>\n                    <div class='tools'>\n                        <button type=\"button\" ref='$add'>${icon.add} ${this.props.title ? '' : 'Add'}</button>\n                    </div>\n                </div>\n                <div class='fill-list' ref='$fillList'></div>\n            </div>\n        `\n    }\n\n    templateForBlendMode(index, blendMode) {\n        return /*html*/`\n        <div class='popup-item'>\n          <object refClass=\"BlendSelectEditor\" \n                ref='$blend_${index}' \n                key='blendMode' \n                value=\"${blendMode}\" \n                params=\"${index}\" \n                onchange=\"changeRangeEditor\" \n            />\n        </div>\n        `;\n    }    \n    \n\n    [LOAD('$fillList') + DOMDIFF] () {\n\n        const current = this.$selection.current || {color: 'black'};\n\n\n        return this.state.images.map((it, index) => {\n            var image = it.image;\n\n            var backgroundType = types[image.type];\n            var backgroundTypeName = names[image.type];\n\n            const selectedClass = it.selected ? \"selected\" : \"\";\n      \n            if (it.selected) {\n              this.selectedIndex = index;\n            }\n      \n            return /*html*/`\n            <div class='fill-item ${selectedClass}' data-index='${index}' ref=\"fillIndex${index}\"  draggable='true' data-fill-type=\"${backgroundType}\" >\n                <object refClass=\"BackgroundPositionEditor\" \n                    key=\"background-position\"\n                    index=\"${index}\"\n                    ref=\"$bp${index}\"\n                    x=\"${it.x}\"\n                    y=\"${it.y}\"\n                    width=\"${it.width}\"\n                    height=\"${it.height}\"\n                    repeat=\"${it.repeat}\"\n                    size=\"${it.size}\"\n                    blendMode=\"${it.blendMode}\"     \n                    onchange='changePattern' />\n                <object refClass=\"GradientSingleEditor\" \n                    index=\"${index}\"\n                    ref=\"$gse${index}\"\n                    image=\"${it.image}\"\n                    color=\"${current.color}\"\n                    key=\"background-image\"\n                    onchange='changePattern'\n\n                />\n                <div class='fill-info'>\n                  <div class='gradient-info'>\n                    <div class='fill-title' ref=\"fillTitle${index}\">${backgroundTypeName}</div>\n                    <div class='blend'>\n                      ${this.templateForBlendMode(index, it.blendMode)}\n                    </div>\n                    <div class='tools'>\n                      <button type=\"button\" class='remove' data-index='${index}'>${icon.remove2}</button>\n                    </div>\n                  </div>\n                </div>\n            </div>\n            `;\n        });\n    }\n\n    modifyBackgroundImage () {\n        var value = CSS_TO_STRING(BackgroundImage.toPropertyCSS(this.state.images));\n\n        this.parent.trigger(this.props.onchange, this.props.key, value)\n    }\n\n    [SUBSCRIBE('add')] () {\n\n        this.state.images.push(new BackgroundImage({\n\n            image: new LinearGradient({\n                angle: 90,\n                colorsteps: [\n                    new ColorStep({ percent: 0, color: 'white', index: 0}),\n                    new ColorStep({ percent: 100, color: 'black', index: 1})\n                ]\n            })\n        }));\n\n        this.refresh();\n\n        this.modifyBackgroundImage();        \n    }\n\n    [CLICK('$add')] () {\n\n        this.trigger('add')\n    }\n\n\n    [DRAGSTART(\"$fillList .fill-item\")](e) {\n        this.startIndex = +e.$dt.attr(\"data-index\");\n    }\n\n    [DRAGOVER(\"$fillList .fill-item\") + PREVENT](e) {}\n\n\n    sortItem(arr, startIndex, targetIndex) {\n        arr.splice(\n          targetIndex + (startIndex < targetIndex ? -1 : 0),\n          0,\n          ...arr.splice(startIndex, 1)\n        );\n    }\n\n    sortBackgroundImage(startIndex, targetIndex) {\n        this.sortItem(this.state.images, startIndex, targetIndex);\n    }\n\n    [DROP(\"$fillList .fill-item\") + PREVENT](e) {\n        var targetIndex = +e.$dt.attr(\"data-index\");\n\n\n        this.selectItem(this.startIndex, true);\n\n        this.sortBackgroundImage(this.startIndex, targetIndex);\n\n        this.refresh();\n\n        // this.viewFillPopup(this.getRef(\"preview\", this.selectedIndex));\n\n        this.modifyBackgroundImage()\n\n    }\n\n    getCurrentBackgroundImage() {\n        return this.state.images[this.selectedIndex];\n    }\n\n    [CLICK(\"$fillList .tools .remove\")](e) {\n        var removeIndex = +e.$dt.attr(\"data-index\");\n\n        this.state.images.splice(removeIndex, 1);\n\n        this.refresh();\n\n        this.modifyBackgroundImage()\n    }\n\n    selectItem(selectedIndex, isSelected = true) {\n        if (isSelected) {\n            this.refs[`fillIndex${selectedIndex}`].addClass(\"selected\");\n        } else {\n            this.refs[`fillIndex${selectedIndex}`].removeClass(\"selected\");\n        }\n\n        \n        this.state.images.forEach((it, index) => {\n            it.selected = index === selectedIndex;\n        });\n        \n    }\n\n    [SUBSCRIBE(\"selectFillPopupTab\")](type, data) {\n        var typeName = types[type];\n        var $fillItem = this.refs[`fillIndex${this.selectedIndex}`];\n        $fillItem.attr(\"data-fill-type\", typeName);\n    }\n\n    [SUBSCRIBE_SELF('changeRangeEditor')] (key, value, params) {\n        this.trigger('changePattern', key, {[key]: value}, params);\n    }\n\n    [SUBSCRIBE_SELF('changePattern')] (key, value, params) {\n        var index = +params;\n        var image = this.state.images[index];\n\n        image.reset(value);\n\n        this.modifyBackgroundImage();\n        this.refresh();\n    }\n}","\nimport { CLICK, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport { Length } from \"el/editor/unit/Length\";\n\nimport './BackgroundImagePositionPopup.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class BackgroundImagePositionPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('background.image.position.popup.title')\n  }\n\n  initState() {\n\n    return {\n      size: this.props.size || 'auto',\n      repeat: this.props.repeat || 'repeat',\n      x: this.props.x || Length.z(),\n      y: this.props.y || Length.z(),\n      width: this.props.width || Length.z(),\n      height: this.props.height || Length.z(),\n      blendMode: this.props.blendMode,\n    }\n  }\n\n  updateData(opt = {}) {\n    this.setState(opt, false);\n\n    this.emit(this.state.changeEvent, opt, this.state.params);\n  }\n\n \n  templateForSize() {\n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"SelectEditor\"  \n          label=\"${this.$i18n('background.image.position.popup.size')}\" \n          ref='$size' \n          key='size' \n          value=\"${this.state.size}\" \n          options=${variable([\"contain\",\"cover\",\"auto\" ])}\n          onchange=\"changeRangeEditor\" />      \n      </div>\n    `;\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    this.updateData({ [key]: value });\n  }\n\n  templateForX() {\n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"RangeEditor\"  \n            label=\"X\"\n            calc=\"false\"            \n            ref=\"$x\" \n            key=\"x\"\n            value=\"${this.state.x}\"\n            min=\"-1000\" max=\"1000\" step=\"1\"\n            onchange=\"changeRangeEditor\"\n        />\n      </div>\n    `;\n  }\n\n  templateForY() {\n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"RangeEditor\"  \n            label=\"Y\" \n            calc=\"false\"       \n            ref=\"$y\" \n            key=\"y\"\n            value=\"${this.state.y}\"            \n            min=\"-1000\" max=\"1000\" step=\"1\"\n            onchange=\"changeRangeEditor\"\n        />\n      </div>\n    `;\n  }\n\n  templateForWidth() {\n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"RangeEditor\"  \n          label=\"${this.$i18n('background.image.position.popup.width')}\"   \n          calc=\"false\"             \n          ref=\"$width\" \n          key=\"width\"\n          value=\"${this.state.width}\"          \n          min=\"0\" max=\"500\" step=\"1\" \n          onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }\n\n  templateForHeight() {\n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"RangeEditor\"  \n          label=\"${this.$i18n('background.image.position.popup.height')}\"\n          calc=\"false\"          \n          ref=\"$height\" \n          key=\"height\"\n          value=\"${this.state.height}\"          \n          min=\"0\" max=\"500\" step=\"1\" onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }\n\n  templateForRepeat() {\n    return /*html*/`\n    <div class='popup-item grid-2'>\n      <label>${this.$i18n('background.image.position.popup.repeat')}</label>\n      <div class='repeat-list' ref=\"$repeat\" data-value='${this.state.repeat}'>\n          <button type=\"button\" value='no-repeat' title=\"${this.$i18n('background.image.position.popup.type.no-repeat')}\"></button>\n          <button type=\"button\" value='repeat' title=\"${this.$i18n('background.image.position.popup.type.repeat')}\"></button>\n          <button type=\"button\" value='repeat-x' title=\"${this.$i18n('background.image.position.popup.type.repeat-x')}\"></button>\n          <button type=\"button\" value='repeat-y' title=\"${this.$i18n('background.image.position.popup.type.repeat-y')}\"></button>\n          <button type=\"button\" value='space' title=\"${this.$i18n('background.image.position.popup.type.space')}\"></button>\n          <button type=\"button\" value='round' title=\"${this.$i18n('background.image.position.popup.type.round')}\"></button>\n      </div>\n    </div>\n    `;\n  }\n\n  [CLICK(\"$repeat button\")]({ $dt: $t }) {\n    this.refs.$repeat.attr(\"data-value\", $t.value);\n    this.updateData({ repeat: $t.value });\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--background-image-position-picker\" ref='$picker'></div>\n    `;\n  }\n\n  [LOAD('$picker')] () {\n    return /*html*/`\n      \n      <div class='box'>\n\n        <div class='background-property'>\n          ${this.templateForSize()}        \n          ${this.templateForX()}\n          ${this.templateForY()}\n          ${this.templateForWidth()}\n          ${this.templateForHeight()}\n          ${this.templateForRepeat()}\n        </div>\n      </div>\n    `\n  }\n\n\n  [SUBSCRIBE(\"showBackgroundImagePositionPopup\")](data, params) {\n    this.state.changeEvent = data.changeEvent || 'changeFillPopup'\n    this.state.params = params; \n\n    this.setState(data.data);\n\n    this.show(460);\n  }\n\n\n}","\nimport {\n  LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, IF\n} from \"el/sapa/Event\";\n\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\n\n\nexport default class BackgroundImageProperty extends BaseProperty {\n\n  \n  getTitle() {\n    return this.$i18n('background.image.property.title');\n  }\n\n  hasKeyframe () {\n    return true; \n  }\n\n  afterRender () {\n    this.show();\n  }\n\n  getKeyframeProperty () {\n    return 'background-image';\n  }\n\n  getClassName() {\n    return 'background-image'\n  }\n\n  getBodyClassName() {\n    return 'no-padding';\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='full' ref='$property'></div>               \n    `;\n  }\n\n\n  getTools() {\n    return `<button type=\"button\" ref='$add'>${iconUse(\"add\")}</button>`\n  }\n\n  [CLICK('$add')] () {\n    this.children.$backgroundImageEditor.trigger('add');\n  }  \n\n  [LOAD('$property')] () {\n    var current = this.$selection.current || {}; \n    var value = current['background-image'] || ''\n\n    return /*html*/`<object refClass=\"BackgroundImageEditor\" \n              ref='$backgroundImageEditor' \n              key='background-image'\n              value='${value}' \n              hide-label=\"true\"\n              onchange='changeBackgroundImage' \n            />`\n  }\n\n  get editableProperty() {\n    return 'background-image';\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n  [SUBSCRIBE_SELF('changeBackgroundImage')] (key, value) {\n    this.command('setAttributeForMulti', 'change background image', this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n}","import { CLICK, BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './BackgroundPositionEditor.scss'\nexport default class BackgroundPositionEditor extends EditorElement {\n\n    initState() { \n        return {\n            index: this.props.index,\n            x: this.props.x,\n            y: this.props.y,\n            width: this.props.width,\n            height: this.props.height,\n            repeat: this.props.repeat,\n            size: this.props.size,\n            blendMode: this.props.blendMode,\n            color: 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyValue(opt);\n    }\n\n    modifyValue(value) {\n        this.parent.trigger(this.props.onchange, this.props.key, value, this.state.index);\n    }\n\n    setValue (obj) {\n        this.setState({\n            ...obj \n        })\n    }\n\n    [BIND('$miniView')] () {\n        return {\n            style: {\n                'background-image': 'linear-gradient(to top right, black, white)',\n                'background-repeat': this.state.repeat,\n                'background-size': '7px 7px'\n            }\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='elf--background-position-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ${this.state.color}\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewBackgroundPositionPopup();\n    }\n\n    viewBackgroundPositionPopup() {\n        this.emit(\"showBackgroundImagePositionPopup\", {\n            changeEvent: 'changeBackgroundPositionPattern',\n            data: this.state \n        }, {\n            id: this.id\n        });\n    }\n\n\n    [SUBSCRIBE(\"changeBackgroundPositionPattern\")](pattern, params) {\n        if (params.id === this.id) {\n            // this.refs.$miniView.cssText(`background-color: ${color}`);\n            this.updateData({ ...pattern })\n        }\n    }    \n}","import { STRING_TO_CSS } from \"el/utils/func\";\nimport Color from \"el/utils/Color\";\n\nvar BorderStyles = {\n    \"none\": true,\n    \"hidden\": true,\n    \"dotted\": true,\n    \"dashed\": true,\n    \"solid\": true,\n    \"double\": true,\n    \"groove\": true,\n    \"ridge\": true,\n    \"inset\": true,\n    \"outset\": true\n}\n\nexport class Border {\n    static parseStyle (str) {\n        return STRING_TO_CSS(str);\n    }\n\n    static parseValue (str = '') {\n        var style = ''; \n        var width = ''; \n        var color = ''; \n\n        str.split(' ').filter(it => it.trim()).forEach(value => {\n            if (BorderStyles[value]) {\n                style = value; \n            } else if (Color.isColor(value)) {\n                color = value; \n            } else {\n                width = value; \n            }\n        });\n\n        return {\n            style, color, width \n        }\n    }\n\n    static joinValue (obj) {\n        return `${obj.width} ${obj.style || 'solid'} ${obj.color}`\n    }\n\n    static join (obj) {\n\n        var arr = [\n            obj['border'] ? `border: ${obj['border']}` : '',\n            obj['border-top'] ? `border-top: ${obj['border-top']}` : '',\n            obj['border-left'] ? `border-left: ${obj['border-left']}` : '',\n            obj['border-right'] ? `border-right: ${obj['border-right']}` : '',\n            obj['border-bottom'] ? `border-bottom: ${obj['border-bottom']}` : '',\n        ].filter(it => it);\n\n        return arr.join(';');\n    }\n}","import { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { Border } from \"el/editor/property-parser/Border\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './BorderEditor.scss';\n\nconst borderTypeList = [\n  \"border\", \n  // \"border-top\", \n  // \"border-right\", \n  // \"border-bottom\", \n  // \"border-left\"\n]\nconst borderTypeTitle = {\n  \"border\":  'all', \n  \"border-top\": 'top', \n  \"border-right\": 'right', \n  \"border-bottom\": 'bottom', \n  \"border-left\": 'left'\n}\n\n\nexport default class BorderEditor extends EditorElement {\n\n  initState() {\n\n    var borders = Border.parseStyle(this.props.value)\n    var direction = Object.keys(borders)[0] || 'border'\n\n    return {\n      direction,\n      borders\n    }\n  }\n\n  updateData(obj) {\n    this.setState(obj, false);\n    this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);  \n  }\n\n  getValue() {\n    return Border.join(this.state.borders)\n  }\n\n  setValue(value) {\n    this.state.borders = Border.parseStyle(value);\n    this.refresh();\n  }\n\n  refresh () {\n    this.load();\n\n  }\n\n\n  [LOAD('$editorArea')] () {\n    return borderTypeList.map(type => {\n      var label = borderTypeTitle[type] || type; \n\n      label = this.$i18n('border.editor.' + label);\n      return /*html*/`\n      <div>\n        <object refClass='BorderValueEditor' ref='$${type}' label='${label}' key=\"${type}\" value=\"${this.state.borders[type]}\" onchange=\"changeKeyValue\" />\n      </div>\n      `\n    })\n  }\n\n  template() {\n    return /*html*/`\n      <div class=\"elf--border-editor\">\n        <div class='header'>\n          <div></div>\n          <label>${this.$i18n('border.editor.width')}</label>\n          <label>${this.$i18n('border.editor.style')}</label>\n          <label>${this.$i18n('border.editor.color')}</label>\n        </div>\n        <div class='editor-area' ref='$editorArea'>\n\n        </div>\n      </div>\n    `;\n  }\n\n\n  [SUBSCRIBE_SELF('changeKeyValue')] (key, value) {\n    var borders = this.state.borders;\n    borders[key] = value; \n\n    this.updateData({ borders })\n  }\n\n}","\nimport { LOAD, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './BorderProperty.scss';\n\nexport default class BorderProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('border.property.title');  \n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'border'\n  }\n\n  getBody() {\n    return /*html*/`<div class=\"property-item full border-item\" ref='$body'></div>`;\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {}; \n    var value = current['border'] || ''\n\n    return /*html*/`\n      <object refClass='BorderEditor' ref='$1' key='border' value='${value}' onchange='changeKeyValue' />\n    `\n  }\n\n  get editableProperty() {\n    return 'border';\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')]() {\n    this.refresh();\n  }  \n\n  [SUBSCRIBE_SELF('changeKeyValue')] (key, value) {\n    this.command(\"setAttributeForMulti\", 'change border', this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport { Border } from \"el/editor/property-parser/Border\";\nimport { SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './BorderValueEditor.scss';\n\nconst borderStyleList = [\n  \"none\",\n  \"hidden\",\n  \"dotted\",\n  \"dashed\",\n  \"solid\",\n  \"double\",\n  \"groove\",\n  \"ridge\",\n  \"inset\",\n  \"outset\"\n].join(',');\n\n\n\nexport default class BorderValueEditor extends EditorElement {\n\n  initState() {\n\n    return {\n      value: Border.parseValue(this.props.value)\n    }\n  }\n\n  updateData(obj) {\n    this.setState(obj, false);\n    this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);  \n  }\n\n  getValue() {\n    return Border.joinValue(this.state.value)\n  }\n\n  setValue(value) {\n    this.state.value = Border.parseValue(value);\n    this.refresh();\n  }\n\n  refresh () {\n\n    this.children.$width.setValue(this.state.value.width || Length.z())\n    this.children.$style.setValue(this.state.value.style || 'solid')\n    this.children.$color.setValue(this.state.value.color || 'rgba(0, 0, 0, 1)')\n  }\n   \n\n  template() {\n    var {width, style, color} = this.state.value; \n    return /*html*/`\n      <div class=\"elf--border-value-editor\">\n        <div class='editor-area'>\n          <object refClass=\"RangeEditor\" ref='$width' min=\"0\" max=\"100\" step=\"1\" key='width' value=\"${width}\" onchange='changeKeyValue' />\n        </div>\n        <div class='editor-area'>\n          <object refClass=\"SelectEditor\"  ref='$style' key='style' options='${borderStyleList}' value=\"${style || 'solid'}\" onchange=\"changeKeyValue\" />\n        </div>\n        <div class='editor-area'>\n          <object refClass=\"ColorSingleEditor\" ref='$color' key='color' value=\"${color|| 'rgba(0, 0, 0, 1)'}\"  onchange=\"changeKeyValue\" />\n        </div>\n\n      </div>\n    `;\n  }\n\n\n  [SUBSCRIBE_SELF('changeKeyValue')] (key, v) {\n    var value = this.state.value;\n    value[key] = v; \n\n    this.updateData({ value })\n  }\n\n}","\nimport { CLICK, CHANGE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { Position } from \"el/editor/unit/Length\";\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nconst typeList = [\n  { key: \"top\", title: \"Top\" },\n  { key: \"bottom\", title: \"Bottom\" },\n  { key: \"left\", title: \"Left\" },\n  { key: \"right\", title: \"Right\" }\n];\n\nconst keyList = typeList.map(it => it.key);\n\n\nconst names = {\n  image: \"Image\",\n  \"static-gradient\": \"Static\",\n  \"linear-gradient\": \"Linear\",\n  \"repeating-linear-gradient\": `${icon.repeat} Linear`,\n  \"radial-gradient\": \"Radial\",\n  \"repeating-radial-gradient\": `${icon.repeat} Radial`,\n  \"conic-gradient\": \"Conic\",\n  \"repeating-conic-gradient\": `${icon.repeat} Conic`\n};\n\nconst types = {\n  image: \"image\",\n  \"static-gradient\": \"gradient\",\n  \"linear-gradient\": \"gradient\",\n  \"repeating-linear-gradient\": \"gradient\",\n  \"radial-gradient\": \"gradient\",\n  \"repeating-radial-gradient\": \"gradient\",\n  \"conic-gradient\": \"gradient\",\n  \"repeating-conic-gradient\": \"gradient\"\n};\n\n\n\nexport default class BorderImageProperty extends BaseProperty {\n\n  getTitle() {\n    return \"Border Image\";\n  }\n\n  [SUBSCRIBE('refreshSelection', )] () {\n    this.refresh()\n  }\n\n  getTools() {\n    var current = this.$selection.current || {} \n\n    var appliedBorderImage = current.appliedBorderImage || false \n\n    return `\n      <label><input type='checkbox' ${appliedBorderImage ? 'checked' : ''} ref='$apply' /> Apply</label>\n    `\n  }\n\n  [CLICK('$apply')] () {\n    var current = this.$selection.current;\n    if (!current) return;\n\n    var applyBorderImage = this.refs.$apply.checked()\n\n    current.reset({applyBorderImage});\n\n    this.emit(\"refreshElement\", current);\n\n  }\n\n\n  getColorStepList(image) {\n    switch (image.type) {\n      case \"static-gradient\":\n      case \"linear-gradient\":\n      case \"repeating-linear-gradient\":\n      case \"radial-gradient\":\n      case \"repeating-radial-gradient\":\n      case \"conic-gradient\":\n      case \"repeating-conic-gradient\":\n        return this.getColorStepString(image.colorsteps);\n    }\n\n    return '';\n  }\n\n  getColorStepString(colorsteps) {\n    return colorsteps\n      .map(step => {\n        return `<div class='step' data-colorstep-id=\"${\n          step.id\n        }\" data-selected='${step.selected}' style='background-color:${step.color};'></div>`;\n      })\n      .join('');\n  }\n\n  [LOAD('$borderImageView')] () {\n    var current  = this.$selection.current || {borderImage: { image: {}}} ;\n    var borderImage = current.borderImage;\n    \n    var backgroundTypeName = borderImage.type ?  names[borderImage.type] : '';\n\n    const imageCSS = `background-image: ${borderImage.image.toString()}; background-size: cover;`;    \n    return ` \n      <div class='preview' ref=\"$preview\">\n        <div class='mini-view'>\n          <div class='color-view'  style=\"${imageCSS}\" ref=\"$miniView\"></div>\n        </div>\n      </div> \n      <div class='fill-info'>\n        <div class='gradient-info'>\n          <div class='fill-title' ref=\"$fillTitle\">${backgroundTypeName}</div>\n          <div class='colorsteps' ref=\"$colorsteps\">\n            ${this.getColorStepList(borderImage.image)}\n          </div>\n        </div>\n      </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeBorderImage')] (key, value) {\n\n    if (key === 'border-image-slice') {\n      keyList.forEach(type => {\n        this.children[`$${type}Slice`].setValue(value)\n      });\n    }\n\n    this.setBorderImageProperty()\n  }\n\n  getBody() {\n\n    return /*html*/`\n      <div class=\"property-item border-image-item\" ref='$borderImageView'></div>    \n      <div class=\"property-item border-slice-item\">\n        <div class=\"slice-selector\" data-selected-value=\"all\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"slice-value\">\n          <object refClass=\"RangeEditor\"  ref='$allSlice' key='border-image-slice' onchange='changeBorderImage' />\n        </div>\n      </div>\n      <div\n        class=\"property-item border-slice-item full has-list\"\n        ref=\"$partitialSetting\"\n        style=\"display: none;\"\n      >\n        <div class=\"slice-setting-box\" ref=\"$sliceSettingBox\">\n          ${typeList.map(it => {\n            return `\n              <div>\n                <label class='title'>${it.title}</label>\n              </div>\n              <div>\n                <object refClass=\"RangeEditor\"  ref='$${it.key}Slice' label='Slice' key='border-image-slice-${it.key}' onchange='changeBorderImage' /> \n              </div>  \n              <div>\n                <object refClass=\"RangeEditor\"  ref='$${it.key}Width' label='Width' key='border-image-width-${it.key}' onchange='changeBorderImage' /> \n              </div>                \n            `;\n          }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n\n  [CHANGE(\"$sliceSettingBox select\")](e) {\n    this.setBorderImageProperty();\n  }\n\n  [CLICK('$borderImageView .preview')] () {\n    this.viewFillPopup(this.refs.$preview, '');\n  }\n\n  [CLICK(\"$borderImageView .colorsteps .step\")](e) {\n\n    this.refs.$colorsteps.$(`[data-selected=\"true\"]`).removeAttr('data-selected')\n    var selectColorStepId = e.$dt.attr(\"data-colorstep-id\");\n    e.$dt.attr('data-selected', true);\n    var $preview = e.$dt.closest(\"border-image-item\").$(\".preview\");\n    this.viewFillPopup($preview, selectColorStepId);\n  }\n\n\n  getFillData(borderImage) {\n    let data = {\n      type: borderImage.type\n    };\n\n    switch (data.type) {\n      case \"image\":\n        data.url = borderImage.image ? borderImage.image.url : \"\";\n        break;\n      default:\n        if (borderImage.image) {\n          const image = borderImage.image;\n\n          data.type = image.type;\n          data.colorsteps = [...image.colorsteps];\n          data.angle = image.angle;\n          data.radialType = image.radialType || \"ellipse\";\n          data.radialPosition = image.radialPosition || Position.CENTER;\n        } else {\n          data.colorsteps = [];\n          data.angle = 0;\n          data.radialType = \"ellipse\";\n          data.radialPosition = Position.CENTER;\n        }\n\n        break;\n    }\n\n    return data;\n  }\n\n\n  viewFillPopup($preview, selectColorStepId) {\n\n    var current = this.$selection.current;\n\n    if (!current) return;\n\n    this.emit(\"showFillPopup\", {\n      changeEvent: 'changeBorderImageFillPopup',\n      ...this.getFillData(current.borderImage),\n      selectColorStepId,\n      refresh: true\n    });\n  }\n\n  viewChangeImage(data) {\n    var current = this.$selection.current;\n    if (!current) return; \n\n    var borderImage = current.borderImage;\n\n    if (!borderImage) return;\n    var $el = this.getRef(\"$miniView\");\n    if ($el && borderImage.image) {\n      $el.css({\n        'background-image': borderImage.image.toString(),\n        \"background-size\": \"cover\"\n      });\n    }\n\n    var $el = this.getRef(\"$fillTitle\");\n    if ($el) {\n      $el.html(names[\"image\"]);\n    }\n\n    var $el = this.getRef(\"$colorsteps\", this.selectedIndex);\n    if ($el) {\n      $el.empty();\n    }\n  }\n\n  setImage(data) {\n\n    var current = this.$selection.current;\n    if (!current) return; \n\n    current.borderImage.setImageUrl(data);\n\n    this.viewChangeImage(data);\n\n    this.emit(\"refreshElement\", current);\n  }\n\n  viewChangeGradient(data) {\n    var current = this.$selection.current;\n    if (!current) return; \n\n    var borderImage = current.borderImage;\n\n    if (!borderImage) return;\n    var $el = this.getRef(\"$miniView\");\n    if ($el) {\n      $el.css({\n        'background-image': borderImage.image.toString(),\n        \"background-size\": \"cover\"\n      });      \n    }\n\n    var $el = this.getRef(\"$fillTitle\");\n    if ($el) {\n      $el.html(names[data.type]);\n    }\n\n    var $el = this.getRef(\"$colorsteps\", this.selectedIndex);\n    if ($el) {\n      $el.html(this.getColorStepString(data.colorsteps));\n    }\n  }\n\n\n  setGradient(data) {\n\n    var current = this.$selection.current;\n    if (!current) return; \n  \n\n    current.borderImage.setGradient(data);   \n\n    this.viewChangeGradient(data);\n\n    this.emit(\"refreshElement\", current);\n\n  }\n\n  [SUBSCRIBE(\"changeBorderImageFillPopup\")](data) {\n    switch (data.type) {\n      case \"image\":\n        this.setImage(data);\n        break;\n      default:\n        this.setGradient(data);\n        break;\n    }\n  }\n\n  setBorderImageProperty() {\n    var current = this.$selection.current;\n    if (!current) return;\n    var borderImage = current.borderImage;\n\n    var type = this.refs.$selector.attr(\"data-selected-value\");\n\n    if (type === \"all\") {\n      var len = this.children.$allSlice.getValue()\n      borderImage.reset({\n        slice: {\n          top: len.clone(),\n          right: len.clone(),\n          bottom: len.clone(),\n          left: len.clone()\n        }\n      })\n\n    } else {\n      keyList.forEach(type => {\n        borderImage.slice[type] = this.children[`$${type}Slice`].getValue()\n        borderImage.width[type] = this.children[`$${type}Width`].getValue()\n      });\n    }\n\n    this.emit(\"refreshElement\", current);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.setBorderImageProperty();\n  }\n\n}","import { CLICK, INPUT, CHANGE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport BorderRadius from \"el/editor/property-parser/BorderRadius\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './BorderRadiusEditor.scss';\n\nconst typeList = [\n  { key: \"border-top-left-radius\", title: \"topLeft\" },\n  { key: \"border-top-right-radius\", title: \"topRight\" },\n  { key: \"border-bottom-right-radius\", title: \"bottomRight\" },\n  { key: \"border-bottom-left-radius\", title: \"bottomLeft\" }  \n];\n\nconst keyList = typeList.map(it => it.key);\n\nexport default class BorderRadiusEditor extends EditorElement {\n\n  initState() {\n    return BorderRadius.parseStyle(this.props.value)\n  }\n\n  template() {\n    return `<div class='elf--border-radius-editor' ref='$body'></div>`\n  }\n\n  [SUBSCRIBE_SELF('changeBorderRadius')] (key, value) {\n\n    if (key === 'border-radius') {\n      keyList.forEach(type => {\n        this.children[`$${type}`].setValue(value.clone())\n      });\n    }\n\n    this.setBorderRadius()\n  }\n\n  [LOAD('$body')] () {\n\n    var selectedValue = this.state.isAll ? 'all' : 'partitial'\n    var borderRadius = this.state['border-radius'];\n\n    return /*html*/`\n      <div class=\"property-item border-radius-item\">\n        <div class=\"radius-selector\" data-selected-value=\"${selectedValue}\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <object refClass=\"RangeEditor\"  ref='$all' key='border-radius' value=\"${borderRadius}\" onchange='changeBorderRadius' />\n        </div>\n      </div>\n      <div\n        class=\"property-item full border-radius-item\"\n        ref=\"$partitialSetting\"\n        style=\"display: none;\"\n      >\n        <div class=\"radius-setting-box\" ref=\"$radiusSettingBox\">\n          ${typeList.map(it => {\n            var value = this.state[it.key]\n            var label = this.$i18n('border.radius.editor.' + it.title);\n            return /*html*/`\n              <div>\n                  <object refClass=\"RangeEditor\"  ref='$${it.key}' label='${label}' key='${it.key}' value='${value}' onchange='changeBorderRadius' />\n              </div>  \n            `;\n          }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n  [INPUT(\"$radiusSettingBox input\")](e) {\n    this.setBorderRadius();\n  }\n\n  [CHANGE(\"$radiusSettingBox select\")](e) {\n    this.setBorderRadius();\n  }\n\n  setBorderRadius() {\n    var type = this.refs.$selector.attr(\"data-selected-value\");\n\n    if (type === \"all\") {\n      this.state.isAll = true; \n      this.state['border-radius'] = this.children[`$all`].getValue();\n    } else {\n\n      this.state.isAll = false; \n      keyList.forEach(key => {\n        this.state[key] = this.children[`$${key}`].getValue();\n      });\n    }\n\n    this.modifyBorderRadius();\n  }\n\n  modifyBorderRadius () {\n    var value = '';\n\n    if (this.state.isAll) {\n      value = this.state['border-radius'] + ''\n    } else {\n      value = keyList.map(key => `${this.state[key]}`).join(' ')\n    }\n\n    this.parent.trigger(this.props.onchange, value);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.setBorderRadius();\n  }\n\n\n}","import { DEBOUNCE, IF, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nexport default class BorderRadiusProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('border.radius.property.title');  \n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'border-radius'\n  }\n\n  getBody() {\n    return /*html*/`<div class=\"property-item full border-radius-item\" ref='$body'></div>`;\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {}; \n    var value = current['border-radius'] || ''\n\n    return /*html*/`\n      <object refClass=\"BorderRadiusEditor\" ref='$1' value='${value}' onchange='changeBorderRadius' />\n    `\n  }\n\n  get editableProperty() {\n    return 'border-radius';\n  }\n\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')]() {\n    this.refresh();\n  }  \n\n  [SUBSCRIBE_SELF('changeBorderRadius')] (value) {\n\n    this.command(\"setAttributeForMulti\", 'change border radius', this.$selection.packByValue({ \n      'border-radius': value \n    }))\n  }\n\n}","import { DEBOUNCE, IF, INPUT, LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport './BoxModelProperty.scss';\n\n\nconst fields = [\"margin\", \"padding\"];\nlet styleKeys = [];\nfields.forEach(field => {\n  styleKeys.push.apply(styleKeys, [\"-top\", \"-bottom\", \"-left\", \"-right\"].map(it => field + it));\n});\n\n\nexport default class BoxModelProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('box.model.property.title');\n  }\n\n  get editableProperty() {\n    return 'box-model';\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')]() {\n    this.refresh();\n  }\n\n  getBody() {\n    return /*html*/`<div class=\"property-item elf--box-model-item\" ref=\"$boxModelItem\"></div>`;\n  }\n\n  templateInput(key, current) {\n\n    var value = Length.parse(current[key] || Length.z())\n\n    return /*html*/`<input type=\"number\" ref=\"$${key}\" value=\"${value.value}\" tabIndex=\"1\" />`;\n  }\n\n  [LOAD(\"$boxModelItem\")]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    return /*html*/`\n      <div>\n        <div class=\"margin\" data-title=\"${this.$i18n('box.model.property.margin')}\">\n          <div data-value=\"top\">\n            ${this.templateInput(\"margin-top\", current)}\n          </div>\n          <div data-value=\"bottom\">\n            ${this.templateInput(\"margin-bottom\", current)}\n          </div>\n          <div data-value=\"left\">\n            ${this.templateInput(\"margin-left\", current)}\n          </div>\n          <div data-value=\"right\">\n            ${this.templateInput(\"margin-right\", current)}\n          </div>\n        </div>\n        <div class=\"padding\" data-title=\"${this.$i18n('box.model.property.padding')}\">\n          <div data-value=\"top\">\n            ${this.templateInput(\"padding-top\", current)}\n          </div>\n          <div data-value=\"bottom\">\n            ${this.templateInput(\"padding-bottom\", current)}\n          </div>\n          <div data-value=\"left\">\n            ${this.templateInput(\"padding-left\", current)}\n          </div>\n          <div data-value=\"right\">\n            ${this.templateInput(\"padding-right\", current)}\n          </div>\n        </div>\n        <div class='content' title='Content'>\n        \n        </div>\n      </div>\n    `;\n  }\n\n  [INPUT(\"$boxModelItem input\")](e) {\n    this.resetBoxModel();\n  }\n\n  resetBoxModel() {\n    var data = {};\n\n    styleKeys.forEach(key => {\n      data[key] = Length.px(this.refs[\"$\" + key].value);\n    });\n\n    this.command(\"setAttributeForMulti\", 'change padding or margin', this.$selection.packByValue(data))    \n  }\n}","import { CLICK, LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { BoxShadow } from \"el/editor/property-parser/BoxShadow\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport './BoxShadowEditor.scss';\n\nexport default class BoxShadowEditor extends EditorElement {\n\n  initState() {\n    return {\n      hideLabel: this.props['hide-label'] === 'true' ? true : false,\n      boxShadows: BoxShadow.parseStyle(this.props.value || '')\n    }\n  }\n\n  template() {\n    var labelClass = this.state.hideLabel ? 'hide' : '';\n    return /*html*/`\n      <div class=\"elf--box-shadow-editor\" >\n        <div class='label ${labelClass}' >\n            <label>${this.props.title||''}</label>\n            <div class='tools'>\n              <button type=\"button\" ref=\"$add\" title=\"add Box Shadow\">${icon.add}</button> ${this.props.title ? '': 'Add'}\n            </div>\n        </div>\n        <div class='box-shadow-list' ref='$shadowList'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$shadowList\")]() {\n    var arr = this.state.boxShadows.map((shadow, index) => {\n      return /*html*/`\n        <div class=\"shadow-item real\" data-index=\"${index}\">\n          <div class=\"color\">\n            <div class='color-view' style=\"background-color: ${shadow.color}\">\n            </div>\n          </div>\n          <div class=\"inset\" data-value=\"${shadow.inset}\">${icon.check}</div>\n          <div class=\"offset-x\">${shadow.offsetX}</div>\n          <div class=\"offset-y\">${shadow.offsetY}</div>\n          <div class=\"blur-radius\">${shadow.blurRadius}</div>\n          <div class=\"spread-radius\">${shadow.spreadRadius}</div>\n          <div class=\"tools\">\n            <button type=\"button\" class=\"remove\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n      `;\n    });\n\n    if (arr.length) {\n      arr.push(/*html*/`\n      <div class=\"shadow-item desc\">\n        <div class=\"color\"></div>      \n        <div class=\"inset\" >Inset</div>\n\n        <div class=\"offset-x\">X</div>\n        <div class=\"offset-y\">Y</div>\n        <div class=\"blur-radius\">${this.$i18n('boxshadow.editor.blur')}</div>\n        <div class=\"spread-radius\">${this.$i18n('boxshadow.editor.spread')}</div>\n        <div class=\"tools\">\n        </div>\n      </div>\n      `);\n    }\n\n\n    return arr.join('');\n  }\n\n  modifyBoxShadow () {\n    var value = this.state.boxShadows.join(', ');\n\n    this.parent.trigger(this.props.onchange, value)\n  }\n\n  [SUBSCRIBE('add')] () {\n    this.state.boxShadows.push(new BoxShadow({\n      offsetX: Length.px(2),\n      offsetY: Length.px(2),\n      blurRadius: Length.px(3),\n      spreadRadius: Length.px(1)\n    }))\n\n    this.refresh();\n\n    this.modifyBoxShadow()\n  }\n\n  [CLICK(\"$add\")]() {\n    this.trigger('add');\n  }\n\n  [CLICK(\"$shadowList .remove\")](e) {\n    var index = +e.$dt.attr(\"data-index\");\n\n    this.state.boxShadows.splice(index, 1);\n\n    this.refresh();\n\n    this.modifyBoxShadow()\n\n    this.emit('hideBoxShadowPropertyPopup')\n  }\n\n\n  [CLICK(\"$shadowList .shadow-item.real > div:not(.tools)\")](e) {\n    var index = +e.$dt.closest('shadow-item').attr(\"data-index\");\n\n    var shadow = this.state.boxShadows[index]\n\n    this.viewShadowPopup(shadow, index);\n  }\n\n  viewShadowPopup(shadow, index) {\n    this.selectedIndex = index;\n\n    this.viewBoxShadowPropertyPopup(shadow);\n  }\n\n  viewBoxShadowPropertyPopup(shadow) {\n    this.emit(\"showBoxShadowPropertyPopup\", {\n      changeEvent: (data, params) => {\n        var shadow = this.state.boxShadows[this.selectedIndex]\n        if (shadow) {\n          shadow.reset(data)\n          this.refresh();\n    \n          this.modifyBoxShadow();      \n        }\n      },\n      color: shadow.color,\n      inset: shadow.inset,\n      offsetX: shadow.offsetX,\n      offsetY: shadow.offsetY,\n      blurRadius: shadow.blurRadius,\n      spreadRadius: shadow.spreadRadius\n    }, { id: this.id });\n\n  }\n}","import { CLICK, DEBOUNCE, IF, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\n\nexport default class BoxShadowProperty extends BaseProperty {\n\n  getTitle () {\n    return this.$i18n('boxshadow.property.title');\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"full box-shadow-item\" ref=\"$shadowList\"></div>\n    `;\n  }\n\n  hasKeyframe() {\n    return true; \n  }\n\n  [LOAD(\"$shadowList\")]() {\n    var current = this.$selection.current || {};\n    return /*html*/`\n      <object refClass=\"BoxShadowEditor\" ref='$boxshadow' value=\"${current['box-shadow'] || ''}\" hide-label=\"true\" onChange=\"changeBoxShadow\" />\n    `\n  }\n\n\n  getTools() {\n    return /*html*/`<button type=\"button\" ref='$add'>${icon.add}</button>`\n  }\n\n  [CLICK('$add')] () {\n    this.children.$boxshadow.trigger('add');\n  }\n\n  get editableProperty() {\n    return 'box-shadow';\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')]() {\n    this.refresh();\n\n  }\n\n  [SUBSCRIBE_SELF(\"changeBoxShadow\")](boxshadow) {\n\n    this.command('setAttributeForMulti', 'change box shadow', this.$selection.packByValue({ \n      'box-shadow': boxshadow\n    }))\n\n  }\n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, CLICK, POINTERSTART, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './BoxShadowPropertyPopup.scss';\n\nexport default class BoxShadowPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return 'Box Shadow Editor'\n  }\n\n  initState() {\n    return {\n      color: 'rgba(0, 0, 0, 1)',\n      inset: false,\n      offsetX: Length.z(),\n      offsetY: Length.z(),\n      blurRadius: Length.z(),\n      spreadRadius: Length.z()\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.changeEvent, opt, this.state.params);\n  }\n\n  getBody() {\n    return /*html*/`<div class='elf--box-shadow-property-popup' ref='$popup'></div>`;\n  }\n\n  [LOAD(\"$popup\")]() {\n    return /*html*/`\n      <div class=\"box\">\n        <div class=\"type\">\n          <label>Type</label>\n          <div\n            class=\"select\"\n            data-selected-value=\"${this.state.inset ? \"inset\" : \"outset\"}\"\n            ref=\"$type\"\n          >\n            <button type=\"button\" data-value=\"outset\">Outset</button>\n            <button type=\"button\" data-value=\"inset\">Inset</button>\n          </div>\n        </div>\n        <div class=\"drag-board\" ref=\"$dragBoard\">\n          <div\n            class=\"pointer\"\n            ref=\"$pointer\"\n            style=\"left: ${this.state.offsetX};top: ${this.state.offsetY}\"\n          ></div>\n        </div>        \n        <div class=\"popup-item offset-x\">\n          <object refClass=\"RangeEditor\" ref='$offsetX' label='X' key='offsetX' value=\"${this.state.offsetX}\" onchange='changeRangeEditor' />\n        </div>\n        <div class=\"popup-item offset-y\">\n          <object refClass=\"RangeEditor\" ref='$offsetY' label='Y' key='offsetY' value=\"${this.state.offsetY}\" onchange='changeRangeEditor' />        \n        </div>\n        <div class=\"popup-item blur-radius\">\n          <object refClass=\"RangeEditor\" ref='$blurRadius' label='Blur' key='blurRadius' value=\"${this.state.blurRadius}\" onchange='changeRangeEditor' />        \n        </div>\n        <div class=\"popup-item spread-radius\">\n          <object refClass=\"RangeEditor\" \n              ref='$spreadRadius' \n              label='Spread' \n              key='spreadRadius' \n              value=\"${this.state.spreadRadius}\" \n              onchange='changeRangeEditor' \n            />        \n        </div>\n        <div class='popup-item'>\n          <object refClass=\"ColorViewEditor\" \n              ref='$foreColor' \n              label=\"color\" \n              key='color' \n              value=\"${this.state.color}\"\n              onchange=\"changeRangeEditor\" />\n        </div>        \n      </div>\n    `;\n  }\n\n\n  [CLICK(\"$popup .select button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n\n    this.getRef(\"$type\").attr(\"data-selected-value\", type);\n\n    this.updateData({\n      inset: type === \"inset\"\n    });\n  }\n\n  [POINTERSTART(\"$popup .drag-board\") + MOVE(\"movePointer\")](e) {\n    this.offsetX = e.offsetX;\n    this.offsetY = e.offsetY;\n\n    var rect = this.getRef(\"$dragBoard\").rect();\n    this.boardWidth = rect.width;\n    this.boardHeight = rect.height;\n  }\n\n  refreshPointer() {\n    this.getRef(\"$pointer\").css({\n      left: this.state.offsetX,\n      top: this.state.offsetY\n    });\n\n  }\n\n  movePointer(dx, dy) {\n    var realX = this.offsetX + dx;\n    var realY = this.offsetY + dy;\n\n    var halfWidth = this.boardWidth / 2;\n    var halfHeight = this.boardHeight / 2;\n\n    var x = realX - halfWidth;\n    var y = realY - halfHeight;\n\n    if (x < -halfWidth) {\n      x = -halfWidth;\n    } else if (x > halfWidth) {\n      x = halfWidth;\n    }\n\n    if (y < -halfHeight) {\n      y = -halfHeight;\n    } else if (y > halfHeight) {\n      y = halfHeight;\n    }\n\n    x = Math.floor(x);\n    y = Math.floor(y);\n\n    this.getRef(\"$offsetX\").val(x);\n    this.getRef(\"$offsetY\").val(y);\n\n    this.updateData({\n      offsetX: Length.px(x),\n      offsetY: Length.px(y)\n    });\n\n    this.refreshPointer();\n\n    this.children.$offsetX.setValue(this.state.offsetX)\n    this.children.$offsetY.setValue(this.state.offsetY)    \n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    this.updateData({\n      [key]: value\n    })\n\n    if (key === 'offsetX' || key === 'offsetY') {\n      this.refreshPointer()\n    }\n  }\n\n  [SUBSCRIBE(\"showBoxShadowPropertyPopup\")](data, params) {\n\n    this.changeEvent = data.changeEvent || \"changeBoxShadowPropertyPopup\"\n\n    this.setState({...data, params});\n    this.refresh();\n\n    this.show(432);\n\n  }\n\n  [SUBSCRIBE( \"hideBoxShadowPropertyPopup\" )]() {\n    this.hide();\n  }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { POINTERSTART, BIND, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { isUndefined } from \"el/sapa/functions/func\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nexport default class CircleEditor extends EditorElement {\n\n    parseValue (str = '50%') {\n        var radius = new Length('', 'closest-side'), position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        return {\n            radius, x, y\n        }\n    }\n\n    initState() {\n        return this.parseValue(this.props.value)\n    }\n\n    template() {\n        return /*html*/`\n        <div class='clip-path-editor circle-editor'>\n            <object refClass=\"RangeEditor\"  \n                ref='$range' \n                label='Radius' \n                key='radius' \n                value='${this.state.radius}' \n                min=\"0\" \n                max=\"100\" \n                step=\"0.1\" \n                units=\"%,closest-side,farthest-side\" \n                onchange='changeRangeEditor' \n            />\n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' ref='$pointer' style='left: ${this.state.x};top: ${this.state.y};'></div>\n                <div class='clip-area circle' ref='$clipArea'></div>\n            </div>\n        </div>\n    `\n    }\n\n\n    [BIND('$clipArea')] () {\n        return {\n            style : {\n                'clip-path' : `${this.props.key}(${this.toClipPathValueString()})`\n            }\n        }\n    }    \n\n    [POINTERSTART('$area') + MOVE() + END()] (e) {\n\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n    }\n\n    move (dx, dy) {\n        var x = this.startXY.x + dx;\n        var y = this.startXY.y + dy;  \n\n        if (this.areaRect.x > x) {\n            x = this.areaRect.x; \n        } else if (this.areaRect.right < x) {\n            x = this.areaRect.right; \n        }\n\n        if (this.areaRect.y > y) {\n            y = this.areaRect.y; \n        } else if (this.areaRect.bottom < y) {\n            y = this.areaRect.bottom; \n        }        \n\n        var left = Length.percent((x - this.areaRect.x) / this.areaRect.width * 100).round(1)\n        var top = Length.percent((y - this.areaRect.y) / this.areaRect.height * 100).round(1)\n\n        this.refs.$pointer.css({\n            left, top \n        })\n\n        this.updateData({\n            x: left,\n            y: top\n        })\n\n\n        this.bindData('$clipArea')\n    }\n\n    toClipPathValueString () {\n\n        var {x,y,radius} = this.state;\n\n        var results = `${x} ${y}`\n\n        var radiusString = radius + '';\n\n        if (radiusString.includes('closest-side')) {\n            radiusString = 'closest-side'\n        } else if (radiusString.includes('farthest-side')) {\n            radiusString = 'farthest-side'\n        }\n\n        return radius ? `${radiusString} at ${results}` :  `${results}`;\n    }\n\n    updateData (data) {\n        this.setState(data)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n    [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n\n        if (key === 'radius') {\n            var radius = value; \n            var tempValue = value.unit + '';\n\n            if (tempValue.includes('closest-side')) {\n                radius = new Length('', 'closest-side')\n            }  else if (tempValue.includes('farthest-side')) {\n                radius = new Length('', 'farthest-side')\n            }\n\n            this.updateData({\n                radius\n            })\n        }\n    }\n}","\n\nimport { Length } from \"el/editor/unit/Length\";\nimport { POINTERSTART, LOAD, CLICK, BIND, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { DirectionLength } from \"el/editor/unit/DirectionLength\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { MOVE } from \"el/editor/types/event\";\n\n\nexport default class InsetEditor extends EditorElement {\n\n    parseValue (str = '') {\n        var [inset, round] = str.split('round')\n\n        var [_count, top, right, bottom, left] = DirectionLength.parse(inset);\n\n        if (round) {\n\n            var [_roundCount, topRadius, rightRadius, bottomRadius, leftRadius] = DirectionLength.parse(round);\n\n        }\n\n        return {\n            isAll: _count === 1,\n            top, \n            right, \n            bottom, \n            left ,\n            round,\n            isAllRadius: _roundCount === 1,\n            topRadius,\n            rightRadius,\n            bottomRadius,\n            leftRadius\n        }\n    }\n\n    initState() {\n        return this.parseValue(this.props.value)\n    }\n\n    template() {\n\n        var { top, right, bottom, left, round} = this.state; \n\n        var maxWidth = 220;\n        var maxHeight = 220; \n\n        var topX =  Length.percent( Math.abs((left.value - (100 - right.value))/2) ).toPx(maxWidth)\n        var topY = top.toPx(maxHeight);\n\n        var bottomX = topX.clone()\n        var bottomY = Length.percent(100 - bottom.value).toPx(maxHeight);\n\n        var rightX = Length.percent(100 - right.value).toPx(maxWidth);\n        var rightY = Length.percent( Math.abs((top.value - (100 - bottom.value))/2) ).toPx(maxHeight)\n\n        var leftX = left.toPx(maxWidth)\n        var leftY = Length.percent( Math.abs((top.value - (100 - bottom.value))/2) ).toPx(maxHeight)\n\n        var roundCheckStatus = round ? 'checked' : '';\n\n        return /*html*/`\n        <div class='clip-path-editor inset-editor'>\n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' data-type='top' ref='$top' style='left: ${topX};top: ${topY};'></div>\n                <div class='drag-pointer' data-type='right' ref='$right' style='left: ${rightX};top: ${rightY};'></div>\n                <div class='drag-pointer' data-type='bottom' ref='$bottom' style='left: ${bottomX};top: ${bottomY};'></div>\n                <div class='drag-pointer' data-type='left' ref='$left' style='left: ${leftX};top: ${leftY};'></div>\n                <div class='clip-area inset' ref='$clipAreaView' style='pointer-events: none;'></div>\n                <div class='clip-area-handle' ref='$clipArea' style='left: ${leftX};top: ${topY};width: ${Length.px(rightX.value - left.value)};height: ${Length.px(bottomY.value - topY.value)};'></div>\n            </div>\n            <div class='round-area'>\n                <label><input type=\"checkbox\" ${roundCheckStatus} ref='$hasRound' /> Round </label>\n                <div ref='$round'></div>\n            </div>\n        </div>\n    `\n    }\n\n   \n\n    [BIND('$clipAreaView')] () {\n        return {\n            style : {\n                'clip-path' : `${this.props.key}(${this.toClipPathValueString()})`\n            }\n        }\n    }   \n\n    [CLICK('$hasRound')] (e) {\n       this.updateData({\n           round: this.refs.$hasRound.checked()\n       }) \n\n       this.bindData('$clipAreaView')\n    }\n\n\n    [LOAD('$round')] () {\n        var {topRadius, rightRadius, bottomRadius, leftRadius} = this.state\n\n        var value = [topRadius, rightRadius, bottomRadius, leftRadius].join(' ')\n\n        return /*html*/`<object refClass=\"DirectionEditor\" ref='$borderRadius' value='${value}' onchange='changeBorderRadius' />`\n    }\n\n    [SUBSCRIBE_SELF('changeBorderRadius')] ([_count, topRadius, rightRadius, bottomRadius, leftRadius]) {\n\n        this.updateData({ \n            isAllRadius: _count === 1,\n            topRadius, \n            rightRadius, \n            bottomRadius, \n            leftRadius\n        })\n\n        this.bindData('$clipAreaView')        \n\n    }\n\n    refreshPointer () {\n        var { top, right, bottom, left} = this.state; \n\n        var maxWidth = 220;\n        var maxHeight = 220; \n\n        var halfWidth = Math.abs((left.value + (100 - right.value))/2);\n        var halfHeight = Math.abs((top.value + (100 - bottom.value))/2);\n\n        var topX =  Length.percent( halfWidth ).toPx(maxWidth)\n        var topY = top.toPx(maxHeight);\n\n        var bottomX = Length.percent( halfWidth ).toPx(maxWidth)\n        var bottomY = Length.percent(100 - bottom.value).toPx(maxHeight);\n\n        var rightX = Length.percent(100 - right.value).toPx(maxWidth);\n        var rightY = Length.percent( halfHeight ).toPx(maxHeight)\n\n        var leftX = left.toPx(maxWidth)\n        var leftY = Length.percent( halfHeight ).toPx(maxHeight)\n\n        this.refs.$top.css({ left: topX, top: topY })\n        this.refs.$right.css({ left: rightX, top: rightY })\n        this.refs.$bottom.css({ left: bottomX, top: bottomY })\n        this.refs.$left.css({ left: leftX, top: leftY })\n\n        this.refs.$clipArea.css({\n            left: leftX,\n            top: topY,\n            width: Length.px(rightX.value - leftX.value),\n            height: Length.px(bottomY.value - topY.value)\n        })\n\n        this.bindData('$clipAreaView')\n    }\n\n    [POINTERSTART('$area .clip-area-handle') + MOVE('moveClipArea')] (e) {\n\n        this.type = e.$dt.attr('data-type');\n        this.$target = e.$dt;\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n\n        this.clipRect = {\n            left: Length.parse(this.$target.css('left')),\n            top: Length.parse(this.$target.css('top')),\n            width: Length.parse(this.$target.css('width')),\n            height: Length.parse(this.$target.css('height')),\n        }\n\n    }\n\n   \n    moveClipArea (dx, dy) {\n\n        var clipWidth = this.clipRect.width.value;\n        var clipHeight = this.clipRect.height.value;\n        var x = this.clipRect.left.value + dx;\n        var y = this.clipRect.top.value + dy;\n\n        if (0 > x) {\n            x = 0; \n        } else if (this.areaRect.width < x + clipWidth) {\n            x = this.areaRect.width - clipWidth; \n        }\n\n        if (0 > y) {\n            y = 0; \n        } else if (this.areaRect.height < y + clipHeight) {\n            y = this.areaRect.height - clipHeight; \n        }        \n\n        var left = Length.px(x)\n        var top = Length.px(y)\n\n        this.updateData({ \n            top : top.toPercent(this.areaRect.height).round(100),\n            bottom : Length.px(this.areaRect.height -  (y + clipHeight) ).toPercent(this.areaRect.height).round(100),\n            right : Length.px(this.areaRect.width - (x + clipWidth)).toPercent(this.areaRect.width).round(100),\n            left : left.toPercent(this.areaRect.width).round(100) \n        })\n\n\n        this.refreshPointer();\n\n    } \n\n\n    [POINTERSTART('$area .drag-pointer') + MOVE()] (e) {\n\n        this.type = e.$dt.attr('data-type');\n        this.$target = e.$dt;\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n    }\n\n    move (dx, dy) {\n        var x = this.startXY.x + dx;\n        var y = this.startXY.y + dy;  \n\n        if (this.areaRect.x > x) {\n            x = this.areaRect.x; \n        } else if (this.areaRect.right < x) {\n            x = this.areaRect.right; \n        }\n\n        if (this.areaRect.y > y) {\n            y = this.areaRect.y; \n        } else if (this.areaRect.bottom < y) {\n            y = this.areaRect.bottom; \n        }        \n\n        var left = Length.px(x - this.areaRect.x)\n        var top = Length.px(y - this.areaRect.y)\n\n        if (this.type === 'top') {\n            this.updateData({ \n                top : top.toPercent(this.areaRect.height).round(100) \n            })            \n        } else if (this.type === 'bottom') {\n            this.updateData({ \n                bottom : Length.px(this.areaRect.height -  top.value).toPercent(this.areaRect.height).round(100) \n            })\n        } else if (this.type === 'right') {\n            this.updateData({ \n                right : Length.px(this.areaRect.width - left.value).toPercent(this.areaRect.width).round(100) \n            })                                    \n        } else if (this.type === 'left') {\n            this.updateData({ \n                left : left.toPercent(this.areaRect.width).round(100) \n            })\n        }\n\n        this.refreshPointer();\n\n    }\n\n    toClipPathValueString () {\n\n        var {top, right, left, bottom, round, topRadius, leftRadius, bottomRadius, rightRadius} = this.state;\n\n        var position = [top, right, bottom, left].join(' ')\n        var radius = [topRadius, rightRadius, bottomRadius, leftRadius].join(' ')\n\n        var results = `${position} ${(round && radius.trim()) ? `round ${radius}` : ''}`\n\n        return results;\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport { POINTERSTART, LOAD, CLICK, BIND, PREVENT, ALT } from \"el/sapa/Event\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { MOVE } from \"el/editor/types/event\";\n\n\nexport default class PolygonEditor extends EditorElement {\n\n    parseValue (str = '') {\n\n        var maxWidth = 220;\n        var maxHeight = 220;\n\n        return str.split(',').filter(it => it.trim()).map(it => {\n           var [x, y] = it.trim().split(' ')\n\n           return { \n               x: Length.parse(x).toPx(maxWidth), \n               y: Length.parse(y).toPx(maxHeight) \n            }\n        })\n    }\n\n    initState() {\n        return {\n            value: this.parseValue(this.props.value)\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n        <div class='clip-path-editor polygon-editor'>\n            <div class='drag-area' ref='$area'>\n                <div class='pointer-list' ref='$list'></div>\n                <div class='clip-area polygon' ref='$clipArea'></div>            \n            </div>\n            <div class='pointer-input' ref='$inputList'></div>\n        </div>\n    `\n    }\n    \n    [LOAD('$inputList')] () {\n        return this.state.value.map( (it, index) => {\n            return /*html*/`\n            <div class='pointer-item' data-index=\"${index}\">\n                <div class='input-item'>\n                    <label>X</label><input type='number' class='x' value=\"${it.x.value.toString()}\" /><span>%</span>\n                </div>\n                <div class='input-item'>\n                    <label>Y</label><input type='number' class='y' value=\"${it.y.value.toString()}\" /><span>%</span>\n                </div>\n                <div class='tools'>\n                    <button type=\"button\" class='copy' data-index=\"${index}\">${icon.copy}</button>\n                    <button type=\"button\" class='remove' data-index=\"${index}\">${icon.remove2}</button>\n                </div>\n            </div>\n            `\n        })\n    }\n\n    [CLICK('$area') + PREVENT] (e) {\n\n        if (Dom.create(e.target).is(this.refs.$area)) {\n\n            this.areaRect = this.refs.$area.rect(); \n            var {x, y}  = e.xy; \n    \n            this.appendValue({\n                x: Length.px(x - this.areaRect.left),\n                y: Length.px(y - this.areaRect.top)\n            })\n    \n            this.refresh();\n        }\n\n    }\n\n    [CLICK('$inputList .pointer-item .remove')] (e) {\n        var index = +e.$dt.attr('data-index')\n\n        this.removeValue(index);\n\n        this.refresh()\n    }\n\n    [CLICK('$inputList .pointer-item .copy')] (e) {\n        var index = +e.$dt.attr('data-index')\n\n        this.copyValue(index);\n\n        this.refresh()\n    }    \n\n    [BIND('$clipArea')] () {\n        return {\n            style : {\n                'clip-path' : `polygon(${this.toClipPathValueString()})`\n            }\n        }\n    }\n\n\n    [LOAD('$list')] () {\n\n        return this.state.value.map( (it, index) => {\n            var className = [\n                index === 0? 'first' : '',\n                index === this.state.value.length-1 ? 'last' : ''\n            ].filter(it => it).join(' ')\n            return `<div class='drag-pointer ${className}' data-index=\"${index.toString()}\" style='left: ${it.x};top: ${it.y};'></div>`\n        })\n    }\n\n    [CLICK('$area .drag-pointer') + ALT + PREVENT] (e) {\n        var index = +e.$dt.attr('data-index');\n\n        this.removeValue(index);\n\n        this.refresh();\n    }\n\n    [POINTERSTART('$area .drag-pointer') + MOVE()] (e) {\n\n        this.selectedIndex = +e.$dt.attr('data-index');\n        this.$target = e.$dt;\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n        \n        this.$value = this.state.value[this.selectedIndex]\n\n        var $inputList = this.refs.$inputList;\n        this.$x = $inputList.$(`.pointer-item[data-index=\"${this.selectedIndex}\"] input.x`)\n        this.$y = $inputList.$(`.pointer-item[data-index=\"${this.selectedIndex}\"] input.y`)\n    }\n\n    move (dx, dy) {\n        var x = this.startXY.x + dx;\n        var y = this.startXY.y + dy;  \n\n        if (this.areaRect.x > x) {\n            x = this.areaRect.x; \n        } else if (this.areaRect.right < x) {\n            x = this.areaRect.right; \n        }\n\n        if (this.areaRect.y > y) {\n            y = this.areaRect.y; \n        } else if (this.areaRect.bottom < y) {\n            y = this.areaRect.bottom; \n        }        \n\n        var left = Length.px(x - this.areaRect.x)\n        var top = Length.px(y - this.areaRect.y)\n\n        this.$target.css({\n            left, top \n        })\n\n        this.updateValue(this.selectedIndex, {\n            x: left,\n            y: top\n        })\n\n\n        var maxWidth = 220;\n        var maxHeight = 220;\n\n        this.$x.val(left.toPercent(maxWidth).round(10).value)\n        this.$y.val(top.toPercent(maxHeight).round(10).value)\n\n        this.bindData('$clipArea')\n    }\n\n    toClipPathValueString () {\n\n        var maxWidth = 220;\n        var maxHeight = 220;\n\n        return this.state.value.map(it => {\n            return `${it.x.toPercent(maxWidth).round(10)} ${it.y.toPercent(maxHeight).round(10)}`\n        }).join(',');\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n    appendValue(data) {\n        this.state.value.push(data);\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)        \n    }\n\n    removeValue(index) {\n        this.state.value.splice(index, 1);\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)        \n    }    \n\n    copyValue(index) {\n\n        var {x, y}= this.state.value[index]\n\n        this.state.value.splice(index+1, 0, {\n            x: Length.px(x.value + 10),\n            y: Length.px(y.value + 10)\n        });\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)        \n    }    \n\n    updateValue (index, data) {\n        this.state.value[index] = {...this.state.value[index], ...data}\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport { POINTERSTART, BIND, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { isUndefined } from \"el/sapa/functions/func\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nexport default class EllipseEditor extends EditorElement {\n\n    parseValue (str = '50% 50%') {\n        var radius = `50% 50%`, position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        var [radiusX, radiusY] = radius.split(' ');\n\n        if (isUndefined(radiusY)) {\n            radiusY = radiusX;\n        }\n\n        radiusX = Length.parse(radiusX)\n        radiusY = Length.parse(radiusY)\n\n        return {\n            radiusX,\n            radiusY, \n            x, \n            y\n        }\n    }\n\n    initState() {\n        return this.parseValue(this.props.value)\n    }\n\n    template() {\n        return `\n        <div class='clip-path-editor circle-editor'>\n            <div>\n                <object refClass=\"RangeEditor\"  \n                    ref='$rangeX' \n                    label='Radius X' \n                    key='radiusX' \n                    value='${this.state.radiusX}' \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"0.1\" \n                    units=\"%\" \n                    onchange='changeRangeEditor' \n                />\n            </div>\n            <div>\n                <object refClass=\"RangeEditor\"  \n                    ref='$rangeY' \n                    label='Radius Y' \n                    key='radiusY' \n                    value='${this.state.radiusY}' \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"0.1\" \n                    units=\"%\" \n                    onchange='changeRangeEditor' \n                />\n            </div>            \n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' ref='$pointer' style='left: ${this.state.x};top: ${this.state.y};'></div>\n                <div class='clip-area circle' ref='$clipArea'></div>\n            </div>\n        </div>\n    `\n    }\n\n\n    [BIND('$clipArea')] () {\n        return {\n            style : {\n                'clip-path' : `${this.props.key}(${this.toClipPathValueString()})`\n            }\n        }\n    }    \n\n    [POINTERSTART('$area') + MOVE() + END()] (e) {\n\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n    }\n\n    move (dx, dy) {\n        var x = this.startXY.x + dx;\n        var y = this.startXY.y + dy;  \n\n        if (this.areaRect.x > x) {\n            x = this.areaRect.x; \n        } else if (this.areaRect.right < x) {\n            x = this.areaRect.right; \n        }\n\n        if (this.areaRect.y > y) {\n            y = this.areaRect.y; \n        } else if (this.areaRect.bottom < y) {\n            y = this.areaRect.bottom; \n        }        \n\n        var left = Length.percent((x - this.areaRect.x) / this.areaRect.width * 100).round(1)\n        var top = Length.percent((y - this.areaRect.y) / this.areaRect.height * 100).round(1)\n\n        this.refs.$pointer.css({\n            left, top \n        })\n\n        this.updateData({\n            x: left,\n            y: top\n        })\n\n\n        this.bindData('$clipArea')\n    }\n\n    toClipPathValueString () {\n\n        var {x,y,radiusX, radiusY} = this.state;\n\n        var results = `${x} ${y}`\n\n        var radiusString = `${radiusX} ${radiusY}`;\n\n        return `${radiusString} at ${results}`;\n    }\n\n    updateData (data) {\n        this.setState(data)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n    [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n\n        this.updateData({\n            [key]: value.clone()\n        })\n    }\n}","\nimport { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { ClipPath } from \"el/editor/property-parser/ClipPath\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport CircleEditor from \"./editor/CircleEditor\";\nimport InsetEditor from \"./editor/InsetEditor\";\nimport PolygonEditor from \"./editor/PolygonEditor\";\nimport EllipseEditor from \"./editor/EllipseEditor\";\n\n\nimport './ClipPathPopup.scss';\n\n\n\n\nexport default class ClipPathPopup extends BasePopup {\n\n  components() {\n    return {\n      CircleEditor,\n      InsetEditor,\n      PolygonEditor,\n      EllipseEditor\n    }\n  }\n\n  getTitle() {\n    return 'ClipPath'\n  }\n\n  initState() {\n    return {\n      type: 'none',\n      value: ''\n    };\n  }\n\n  toClipPathCSS () {\n    return ClipPath.toCSS(this.state);\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.state.changeEvent || \"changeClipPathPopup\", this.toClipPathCSS());\n  }\n\n  getBody() {\n    return /*html*/`\n    <div class='elf--clippath-popup' ref='$popup'>\n      <div class=\"box\">\n        <div class='clip-path-editor clip-path-type' ref='$clippathType'></div>\n        <div class='clip-path-editor' ref='$clippath'></div>\n      </div>\n    </div>`;\n  }\n\n  [LOAD('$clippathType')] () {\n    return /*html*/`\n      <div>${this.state.type} Editor</div>\n    `\n  }\n\n  [LOAD('$clippath')] () {\n    switch(this.state.type) {\n    case 'circle':\n      return /*html*/`<object refClass=\"CircleEditor\" ref='$circle' key='circle' value='${this.state.value}' onchange='changeClipPath' />`\n    case 'ellipse':\n      return /*html*/`<object refClass=\"EllipseEditor\" ref='$ellipse' key='ellipse' value='${this.state.value}' onchange='changeClipPath' />`\n    case 'inset':\n      return /*html*/`<object refClass=\"InsetEditor\" ref='$inset' key='inset' value='${this.state.value}' onchange='changeClipPath' />`      \n    case 'polygon':\n      return /*html*/`<object refClass=\"PolygonEditor\" ref='$polygon' key='polygon' value='${this.state.value}' onchange='changeClipPath' />`            \n    case 'path':\n      return /*html*/`<object refClass=\"PathEditor\" ref='$path' key='path' value='${this.state.value}' onchange='changeClipPath' />`\n    case 'svg':\n\n        var current = this.$selection.currentProject || {svg: []} \n\n        var options = current.svg.filter(it => it.type === 'clip-path').map(it => it.name).join(',')\n        \n        if (options.length) {\n          options = ',' + options\n        }\n\n        return /*html*/`<object refClass=\"SelectEditor\"  ref='$svg' key='svg' value='${this.state.value}' options='${options}' onchange='changeClipPath' />`\n    default: \n      return /*html*/`<div class='type none'></div>`\n    }\n    \n  }\n\n  [SUBSCRIBE_SELF('changeClipPath')] (type, value) {\n    this.updateData({\n      type, \n      value\n    });\n  }\n\n  [SUBSCRIBE(\"showClipPathPopup\")](data) {\n    this.state.changeEvent = data.changeEvent;\n    this.setState(ClipPath.parseStyle(data['clip-path']));\n\n    this.refresh();\n\n    this.show(220);\n  }\n\n  [SUBSCRIBE(\"hideClipPathPopup\")]() {\n    this.hide();\n  }\n}","import { CLICK, LOAD, PREVENT, SUBSCRIBE, IF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { ClipPath } from \"el/editor/property-parser/ClipPath\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './ClipPathProperty.scss';\n\nvar clipPathList = [\n  'circle',\n  'ellipse',\n  'inset',\n  'polygon',\n  'path',\n  'svg'\n];\n\nexport default class ClipPathProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('clippath.property.title');\n  }\n\n  hasKeyframe() {\n    return true;\n  }\n\n  getKeyframeProperty() {\n    return 'clip-path';\n  }\n\n\n  getClassName() {\n    return 'clip-path-property'\n  }\n\n  getBody() {\n    return /*html*/`<div class='elf--clip-path-list' ref='$clippathList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$clipPathSelect\">      \n        ${clipPathList.map(it => {\n      return `<option value='${it}'>${it}</option>`\n    }).join('')}\n      </select>\n      <button type=\"button\" ref=\"$add\" title=\"add Clip Path\">${icon.add}</button>\n    `;\n  }\n\n  makeClipPathTemplate(clippath) {\n    return /*html*/`\n      <div class='clippath-item'>\n        <div class='title'>\n          <div class='name'>${clippath}</div>\n        </div>\n        <div class='tools'>\n          <button type=\"button\" class=\"del\">${icon.remove2}</button>\n        </div>        \n      </div>\n    `\n  }\n\n  [CLICK('$clippathList .clippath-item .title')](e) {\n    var current = this.$selection.current;\n    if (!current) return;\n\n\n    this.viewClipPathPicker();\n\n  }\n\n  [CLICK('$clippathList .del') + PREVENT](e) {\n    var current = this.$selection.current;\n    if (!current) return;\n\n    this.command('setAttributeForMulti', 'delete clip-path', this.$selection.packByValue({\n      'clip-path': ''\n    }));\n    this.emit('hideClipPathPopup');\n\n    setTimeout(() => {\n      this.refresh();\n    }, 100)\n  }\n\n  get editableProperty() {\n    return \"clip-path\";\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n\n  [LOAD(\"$clippathList\")]() {\n    var current = this.$selection.current;\n    if (!current) return '';\n    if (!current['clip-path']) return ''\n\n    return this.makeClipPathTemplate(current['clip-path'].split('(')[0]);\n  }\n\n  [CLICK(\"$add\")]() {\n\n    var current = this.$selection.current;\n\n    if (!current) return;\n    if (current['clip-path']) {\n      alert('clip-path is already exists.');\n      return;\n    }\n\n    if (current) {\n      current['clip-path'] = this.refs.$clipPathSelect.value;\n\n\n      this.command(\"setAttributeForMulti\", 'change clip-path', this.$selection.packByValue({\n        'clip-path': this.refs.$clipPathSelect.value\n      }));\n    }\n\n    this.refresh();\n  }\n\n  viewClipPathPicker() {\n    var current = this.$selection.current;\n    if (!current) return;\n\n    var obj = ClipPath.parseStyle(current['clip-path'])\n\n    switch (obj.type) {\n      case 'path':\n        var d = current.accumulatedPath(current.clipPathString).d\n        var mode = d ? 'modify' : 'path'\n\n        this.emit('showPathEditor', mode, {\n          changeEvent: (data) => {\n            data.d = current.invertPath(data.d).d;\n\n            this.updatePathInfo({\n              'clip-path': `path(${data.d})`\n            });\n          },\n          current,\n          d,\n        })\n        break;\n      case 'svg':\n        // TODO: clip art  \n        break;\n      default:\n        this.emit(\"showClipPathPopup\", {\n          'clip-path': current['clip-path'],\n          changeEvent: (data) => {\n            this.updatePathInfo(data);\n          }\n        });\n        break;\n    }\n  }\n\n\n  updatePathInfo(data) {\n    if (!data) return;\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.reset(data);\n\n    this.refresh();\n    this.command('setAttributeForMulti', 'change clip-path', this.$selection.packByValue(data));\n  }\n\n}","import { CONFIG, LOAD, DOMDIFF, SUBSCRIBE, IF } from \"el/sapa/Event\";\n\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './CodeViewProperty.scss';\n\nexport default class CodeViewProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('code.view.property.title');\n  }\n\n  checkConfig() {\n    return this.$config.is(\"inspector.selectedValue\", 'code');\n  }\n\n  [CONFIG('inspector.selectedValue')] () {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshSelectionStyleView', 'refreshSelection') + IF('checkConfig')]() {\n    this.refresh();\n  }\n\n  getBody() {\n    return `\n      <div class=\"property-item elf--code-view-item\" ref='$body'></div>\n    `;\n  }\n\n  [LOAD('$body') + DOMDIFF] () {\n    return [\n      this.$editor.html.codeview(this.$selection.current),\n      // this.$editor.svg.codeview(this.$selection.current)\n    ]\n  }\n}\n","import { BIND, POINTERSTART } from 'el/sapa/Event';\nimport { EditorElement } from 'el/editor/ui/common/EditorElement';\nimport { Length } from 'el/editor/unit/Length';\nimport { END, MOVE } from 'el/editor/types/event';\n\nexport default class Hue extends EditorElement {\n\n    initState() {\n        return {\n            hue: 0,\n            minValue: 0,\n            maxValue: 360\n        }\n    }\n\n    template () {\n        return /*html*/`\n            <div class=\"hue\">\n                <div ref=\"$container\" class=\"hue-container\">\n                    <div ref=\"$bar\" class=\"drag-bar\"></div>\n                </div>\n            </div>\n        `\n    }\n\n    [BIND('$bar')] () {\n\n        const hue = this.state.hue\n\n        return {\n            style: {\n                left: Length.percent(hue/360*100),\n            },\n            class: {\n                first: hue <= this.state.minValue,\n                last: hue >= this.state.maxValue\n            }\n        }\n    }\n\n    [POINTERSTART('$container') + MOVE('movePointer') + END('moveEndPointer')] (e) {\n        this.rect = this.refs.$container.rect();\n\n        this.refreshColorUI();\n    }\n\n    movePointer() {\n        this.refreshColorUI();\n    }\n\n    refreshColorUI () {\n        const minX = this.rect.left;\n        const maxX = this.rect.right; \n\n        const currentX = Math.max(Math.min(maxX, this.$config.get('bodyEvent').clientX), minX); \n        const rate = (currentX - minX) / (maxX - minX);\n\n        this.parent.changeColor({\n            h: rate * this.state.maxValue,\n            type: 'hsv'\n        })\n\n    }\n\n    setValue (hue) {\n        this.setState({\n            hue\n        })\n    }\n}\n","\n\n\nimport Color from 'el/utils/Color'\nimport { BIND, POINTERSTART } from 'el/sapa/Event';\nimport { clone } from 'el/sapa/functions/func';\nimport { EditorElement } from 'el/editor/ui/common/EditorElement';\nimport { Length } from 'el/editor/unit/Length';\nimport { END, MOVE } from 'el/editor/types/event';\n\nexport default class Opacity extends EditorElement {\n\n    initState() {\n        return {\n            colorbar: Color.parse('rgba(0, 0, 0, 1)'),\n            opacity: 0,\n            minValue: 0,\n            maxValue: 100\n        }\n    }\n\n    template () {\n        return /*html*/`\n        <div class=\"opacity\">\n            <div ref=\"$container\" class=\"opacity-container\">\n                <div ref=\"$colorbar\" class=\"color-bar\"></div>\n                <div ref=\"$bar\" class=\"drag-bar2\"></div>\n            </div>\n        </div>\n        `\n    }\n\n    [BIND('$colorbar')] () {\n        const rgb = clone(this.state.colorbar);\n    \n        rgb.a = 0;\n        const start = Color.format(rgb, 'rgb');\n    \n        rgb.a = 1;\n        const end = Color.format(rgb, 'rgb');\n    \n        return {\n            style: {\n                background:  `linear-gradient(to right, ${start}, ${end})`\n            }\n        }\n    }\n\n    [BIND('$bar')] () {\n\n        const opacity = this.state.opacity * 100\n\n        return {\n            style: {\n                left: Length.percent(opacity),\n            },\n            class: {\n                first: opacity <= this.state.minValue,\n                last: opacity >= this.state.maxValue\n            }\n        }\n    }\n\n    [POINTERSTART('$container') + MOVE('movePointer') + END('moveEndPointer')] (e) {\n        this.rect = this.refs.$container.rect();\n\n        this.refreshColorUI();\n    }\n\n    movePointer() {\n        this.refreshColorUI();\n    }\n\n    refreshColorUI () {\n        const minX = this.rect.left;\n        const maxX = this.rect.right; \n\n        const currentX = Math.max(Math.min(maxX, this.$config.get('bodyEvent').clientX), minX); \n        const rate = (currentX - minX) / (maxX - minX);\n\n        this.parent.changeColor({\n            a: (rate).toFixed(2),\n        })\n    }\n\n    setValue (colorbar, opacity) {\n        this.setState({ \n            opacity,\n            colorbar \n        })\n    }\n\n}\n","import { BIND } from 'el/sapa/Event';\nimport { EditorElement } from 'el/editor/ui/common/EditorElement';\n\nexport default class ColorView extends EditorElement {\n\n    initState() {\n        return {\n            value: 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    template() {\n        return /*html*/`<div class='color'></div>`\n    }\n\n    [BIND('$el')] () {\n        return {\n            style: {\n                'background-color': this.state.value\n            }\n        }\n    } \n\n    setValue (value) {\n        this.setState({\n            value\n        })\n    }\n}\n ","import { CLICK, KEYUP, INPUT, IF } from 'el/sapa/Event'\nimport { EditorElement } from 'el/editor/ui/common/EditorElement';\n\nexport default class ColorInformation extends EditorElement {\n\n    template () {\n        return /*html*/`\n        <div class=\"information hex\">\n            <div ref=\"$informationChange\" class=\"information-change\">\n                <button ref=\"$formatChangeButton\" type=\"button\" class=\"format-change-button arrow-button\"></button>\n            </div>\n            <div class=\"information-item hex\">\n                <div class=\"input-field hex\">\n                    <input ref=\"$hexCode\" class=\"input\" type=\"text\" />\n                    <div class=\"title\">HEX</div>\n                </div>\n            </div>\n            <div class=\"information-item rgb\">\n                <div class=\"input-field rgb-r\">\n                    <input ref=\"$rgb_r\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"255\" />\n                    <div class=\"title\">R</div>\n                </div>\n                <div class=\"input-field rgb-g\">\n                    <input ref=\"$rgb_g\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"255\" />\n                    <div class=\"title\">G</div>\n                </div>\n                <div class=\"input-field rgb-b\">\n                    <input ref=\"$rgb_b\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"255\" />\n                    <div class=\"title\">B</div>\n                </div>          \n                <div class=\"input-field rgb-a\">\n                    <input ref=\"$rgb_a\" class=\"input\" type=\"number\" step=\"0.01\" min=\"0\" max=\"1\" />\n                    <div class=\"title\">A</div>\n                </div>                                                            \n            </div>\n            <div class=\"information-item hsl\">\n                <div class=\"input-field hsl-h\">\n                    <input ref=\"$hsl_h\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"360\" />\n                    <div class=\"title\">H</div>\n                </div>\n                <div class=\"input-field hsl-s\">\n                    <input ref=\"$hsl_s\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"100\" />\n                    <div class=\"postfix\">%</div>\n                    <div class=\"title\">S</div>\n                </div>\n                <div class=\"input-field hsl-l\">\n                    <input ref=\"$hsl_l\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"100\" />\n                    <div class=\"postfix\">%</div>                        \n                    <div class=\"title\">L</div>\n                </div>\n                <div class=\"input-field hsl-a\">\n                    <input ref=\"$hsl_a\" class=\"input\" type=\"number\" step=\"0.01\" min=\"0\" max=\"1\" />\n                    <div class=\"title\">A</div>\n                </div>\n            </div>\n        </div>\n        `\n    }\n\n    get manager () {\n        return this.parent.manager;\n    }\n    \n    setCurrentFormat (format) {\n        this.format = format\n\n        this.initFormat();\n    }\n    \n    initFormat () {\n        var current_format = this.format || 'hex';\n    \n        ['hex', 'rgb', 'hsl'].filter(it => it !== current_format).forEach(formatString => {\n            this.$el.removeClass(formatString);\n        })\n\n        this.$el.addClass(current_format);\n    }\n    \n    nextFormat() {\n        var current_format = this.format || 'hex';\n\n        var next_format = 'hex';\n        if (current_format == 'hex') {\n            next_format = 'rgb';\n        } else if (current_format == 'rgb') {\n            next_format = 'hsl';\n        } else if (current_format == 'hsl') {\n            if (this.parent.alpha == 1) {\n                next_format = 'hex';\n            } else {\n                next_format = 'rgb';\n            }\n        }\n\n        this.format = next_format;\n\n        this.initFormat();\n\n        this.parent.changeFormat(this.format)\n    }\n\n    goToFormat(to_format) {\n        this.format = to_format;\n        if (to_format === 'rgb' || to_format === 'hsl') {\n            this.initFormat();\n        }\n\n        this.parent.changeFormat(this.format)        \n    }    \n    \n    getFormat () {\n        return this.format || 'hex';   \n    }\n\n    changeRgbColor () {\n        this.parent.lastUpdateColor({\n            type: 'rgb',\n            r : this.refs.$rgb_r.int(),\n            g : this.refs.$rgb_g.int(),\n            b : this.refs.$rgb_b.int(),\n            a : this.refs.$rgb_a.float()\n        })\n    }\n\n    changeHslColor () {\n        this.parent.lastUpdateColor({\n            type: 'hsl',\n            h : this.refs.$hsl_h.int(),\n            s : this.refs.$hsl_s.int(),\n            l : this.refs.$hsl_l.int(),\n            a : this.refs.$hsl_a.float()\n        })        \n    }    \n\n    hasValue(e) {\n        if (e.target.value === '') {\n            return false; \n        }\n\n        return true; \n    }\n\n    [INPUT('$rgb_r') + IF('hasValue')] (e) {  this.changeRgbColor(); }\n    [INPUT('$rgb_g') + IF('hasValue')] (e) {  this.changeRgbColor(); }\n    [INPUT('$rgb_b') + IF('hasValue')] (e) {  this.changeRgbColor(); }\n    [INPUT('$rgb_a') + IF('hasValue')] (e) {  this.changeRgbColor(); }  \n    \n    [INPUT('$hsl_h') + IF('hasValue')] (e) {  this.changeHslColor(); }\n    [INPUT('$hsl_s') + IF('hasValue')] (e) {  this.changeHslColor(); }\n    [INPUT('$hsl_l') + IF('hasValue')] (e) {  this.changeHslColor(); }\n    [INPUT('$hsl_a') + IF('hasValue')] (e) {  this.changeHslColor(); }      \n\n    [KEYUP('$hexCode') + IF('hasValue')] (e) {\n        var code = this.refs.$hexCode.val();\n    \n        if(code.charAt(0) == '#' && (code.length == 7 || code.length === 9)) {\n            this.parent.initColor(code)\n            this.emit('lastUpdateColor')\n        }\n    }\n    \n    [CLICK('$formatChangeButton')] (e) {\n        this.nextFormat();        \n    }\n\n    [CLICK('$el .information-item.hex .input-field .title')] (e) {\n        this.goToFormat('hex');\n    }    \n\n    [CLICK('$el .information-item.rgb .input-field .title')] (e) {\n        this.goToFormat('hsl');\n    }    \n\n    [CLICK('$el .information-item.hsl .input-field .title')] (e) {\n        this.goToFormat('rgb');\n    }        \n\n    setRGBInput() {\n        this.refs.$rgb_r.val(this.manager.rgb.r);\n        this.refs.$rgb_g.val(this.manager.rgb.g);\n        this.refs.$rgb_b.val(this.manager.rgb.b);\n        this.refs.$rgb_a.val(this.manager.alpha);\n    }\n    \n    setHSLInput() {\n        this.refs.$hsl_h.val(this.manager.hsl.h);\n        this.refs.$hsl_s.val(this.manager.hsl.s);\n        this.refs.$hsl_l.val(this.manager.hsl.l);\n        this.refs.$hsl_a.val(this.manager.alpha);\n    }    \n\n    setHexInput () {\n        this.refs.$hexCode.val(this.manager.toString('hex'));\n    }\n\n    setValue () {\n        this.refresh();\n    }\n\n    refresh () {\n        this.setCurrentFormat(this.manager.format);\n        this.setRGBInput();\n        this.setHSLInput();\n        this.setHexInput();\n    }\n}\n","\nimport { POINTERSTART, BIND } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nexport default class ColorPalette extends EditorElement {\n\n  initState() {\n    return {\n      hueColor:'rgba(0, 0, 0, 1)',\n      s:0,\n      v:0\n    }\n  }\n\n  template() {\n    return /*html*/`\n        <div class=\"color-panel\">\n            <div ref=\"$saturation\" class=\"saturation\">\n                <div ref=\"$value\" class=\"value\">\n                    <div ref=\"$drag_pointer\" class=\"drag-pointer\"></div>\n                </div>\n            </div>        \n        </div>        \n        `;\n  }\n\n  afterRender() {\n    this.rect = this.$el.rect();\n  }\n\n  [BIND('$el')] () {\n    return {\n      style: {\n        'background-color': this.state.hueColor\n      }\n    }\n  }\n\n  [BIND('$drag_pointer')] () {\n\n    if (this.rect.width === 0) {\n      this.rect = this.$el.rect();\n    }\n\n    const x = this.rect.width * this.state.s;\n    const y = this.rect.height * (1 - this.state.v);\n\n    return {\n      style : {\n        left: Length.px(x),\n        top: Length.px(y),\n      }\n    }\n  }\n\n  [POINTERSTART('$el') + MOVE('movePointer') + END('moveEndPointer')] (e) {\n    this.rect = this.$el.rect();\n\n    this.refreshColorUI();\n  }\n\n  movePointer () {\n    this.refreshColorUI();\n  }\n\n  moveEndPointer () {\n    this.parent.changeEndColor()\n  }\n\n  refreshColorUI () {\n\n    const e = this.$config.get('bodyEvent') \n    const minX = this.rect.left;\n    const maxX = this.rect.right;\n    const minY = this.rect.top;\n    const maxY = this.rect.bottom;\n\n    const currentX = Math.min(maxX, Math.max(minX, e.clientX))\n    const currentY = Math.min(maxY, Math.max(minY, e.clientY))\n\n    const width = maxX- minX;\n    const height = maxY - minY; \n\n    var s = (currentX - minX) / width;\n    var v = (height - (currentY - minY)) / height;\n\n    this.parent.changeColor({\n      type: \"hsv\",\n      s,\n      v\n    });\n\n  }\n\n  setValue(s, v, hueColor) {\n    this.setState({\n      s, v, hueColor\n    })\n  }\n}\n","import Color from './Color';\n\nconst hue_color = [\n    { rgb : '#ff0000', start : .0 },\n    { rgb : '#ffff00', start : .17 },\n    { rgb : '#00ff00', start : .33 },\n    { rgb : '#00ffff', start : .50 },\n    { rgb : '#0000ff', start : .67 },\n    { rgb : '#ff00ff', start : .83 },\n    { rgb : '#ff0000', start : 1 }\n];\n\nfunction checkHueColor(p) {\n    var startColor, endColor;\n\n    for(var i = 0; i < hue_color.length;i++) {\n        if (hue_color[i].start >= p) {\n            startColor = hue_color[i-1];\n            endColor = hue_color[i];\n            break;\n        }\n    }\n\n    if (startColor && endColor) {\n        return Color.mix(startColor, endColor, (p - startColor.start)/(endColor.start - startColor.start));\n    }\n\n    return hue_color[0].rgb;\n}\n\n\nfunction initHueColors () {\n    for(var i = 0, len = hue_color.length; i < len; i++) {\n        var hue = hue_color[i];\n\n        var obj = Color.parse(hue.rgb);\n\n        hue.r = obj.r;\n        hue.g = obj.g;\n        hue.b = obj.b;\n    }\n}\n\ninitHueColors();\n\nexport default { \n    colors : hue_color,\n    checkHueColor\n};","import Color from \"../../el/utils/Color\";\nimport HueColor from \"../../el/utils/HueColor\";\n\nexport default class ColorManagerV2 {\n\n\n    constructor () {\n        this.initialize();\n\n    }\n\n    initialize () {\n\n        this.state = {\n            rgb: {},\n            hsl: {},\n            hsv: {},\n            alpha: 1, \n            format: 'hex',\n            // colorSetsList: [\n            //     {   name : \"Material\", \n            //         edit: true,\n            //         colors: [ \n            //             '#F44336', '#E91E63', '#9C27B0', '#673AB7', '#3F51B5', \n            //             '#2196F3', '#03A9F4', '#00BCD4',  '#009688', '#4CAF50', \n            //             '#8BC34A', '#CDDC39', '#FFEB3B', '#FFC107', '#FF9800', \n            //             '#FF5722',  '#795548', '#9E9E9E', '#607D8B' \n            //         ]\n            //     },\n            //     { name : \"Custom\", \"edit\" : true, \"colors\" : [ ] },\n            //     { name: \"Color Scale\", \"scale\" : ['red', 'yellow', 'black' ], count : 5 }\n            // ],\n            // userList: [],\n            // currentColorSets: {}    \n        }\n\n    }\n\n    get hsv () {return this.state.hsv; }\n\n    get rgb () {return this.state.rgb; }\n    \n    get hsl () {return this.state.hsl; }\n    \n    get hex () {return this.state.hex; }    \n\n    get alpha () { \n        if (typeof this.state.alpha === 'undefined') return 1;\n        return this.state.alpha; \n    }        \n\n    get format () { return this.state.format; }        \n\n    changeFormat (format) {\n        this.state.format = format\n    }\n\n    initColor (colorObj) {\n        this.changeColor(colorObj)\n    }\n\n    changeColor(colorObj) {\n        colorObj = colorObj || '#FF0000'\n\n        if (typeof colorObj === 'string') {\n            colorObj = Color.parse(colorObj);\n        }\n        \n        this.state.alpha = typeof colorObj.a !== 'undefined' ? colorObj.a : this.state.alpha; \n        this.state.format = colorObj.type != 'hsv' ? (colorObj.type || this.state.format) : this.state.format;\n\n        // if (this.state.format == 'hex' && this.state.alpha < 1) {\n        //     this.state.format = 'rgb';\n        // }\n\n        if (colorObj.type == 'hsl') {\n            this.state.hsl = {...this.state.hsl, ...colorObj}; \n            this.state.rgb = Color.HSLtoRGB(this.state.hsl);\n            this.state.hsv = Color.HSLtoHSV(colorObj);            \n        } else if (colorObj.type == 'hex') {\n            this.state.rgb = {...this.state.rgb, ...colorObj};\n            this.state.hsl = Color.RGBtoHSL(this.state.rgb);\n            this.state.hsv = Color.RGBtoHSV(colorObj);            \n        } else if (colorObj.type == 'rgb') {\n            this.state.rgb = {...this.state.rgb, ...colorObj};\n            this.state.hsl = Color.RGBtoHSL(this.state.rgb);            \n            this.state.hsv = Color.RGBtoHSV(colorObj);            \n        } else if (colorObj.type == 'hsv') {\n            this.state.hsv = {...this.state.hsv, ...colorObj};\n            this.state.rgb = Color.HSVtoRGB(this.state.hsv);\n            this.state.hsl = Color.HSVtoHSL(this.state.hsv);\n        }\n    }\n\n    getHueColor () {\n        return HueColor.checkHueColor(this.state.hsv.h/360);\n    }\n\n    toString(type) {\n        type = type || this.state.format\n        var colorObj = this.state[type] || this.state.rgb\n        return Color.format({...colorObj, a: this.state.alpha}, type);\n    }\n\n    toColor (type) {\n        type = (type || this.state.format).toLowerCase(); \n        return this.toString(type)\n    }\n\n\n    // /** manager for colorsets */\n\n\n    // setUserPalette(list) {\n    //     this.state.userList = list || []; \n\n    //     this.resetUserPalette();\n    //     this.setCurrentColorSets();\n    // }\n\n    // resetUserPalette () {\n\n    //     this.state.userList = this.state.userList.map( (element, index) => {\n\n    //         if (isFunction( element.colors )) {\n    //             const makeCallback = element.colors; \n\n    //             element.colors = makeCallback(this.state);\n    //             element._colors = makeCallback;\n    //         }\n\n    //         return { \n    //             name: `color-${index}`,\n    //             colors : [],\n    //             ...element\n    //         }\n    //     })\n\n    // }\n\n    // setCurrentColorSets(nameOrIndex) {\n\n    //     const _list = this.getUserList();\n\n    //     if (isUndefined(nameOrIndex)) {\n    //         this.state.currentColorSets = _list[0];\n    //     } else if (isNumber(nameOrIndex)) {\n    //         this.state.currentColorSets = _list[nameOrIndex];\n    //     } else {\n    //         this.state.currentColorSets = _list.filter(function (obj) {\n    //             return obj.name == nameOrIndex;\n    //         })[0];\n    //     }\n    // }\n\n    // getCurrentColorSets () {\n    //     return this.state.currentColorSets;\n    // }\n\n    // addCurrentColor (color) {\n    //     if (Array.isArray(this.state.currentColorSets.colors)) {\n    //         this.state.currentColorSets.colors.push(color);\n    //     } \n    // }\n\n    // setCurrentColorAll (colors = []) {\n    //     this.state.currentColorSets.colors = colors;\n    // }\n\n    // removeCurrentColor (index) {\n    //     if (this.state.currentColorSets.colors[index]) {\n    //         this.state.currentColorSets.colors.splice(index, 1);\n    //     }\n    // }\n\n    // removeCurrentColorToTheRight (index) {\n    //     if (this.state.currentColorSets.colors[index]) {\n    //         this.state.currentColorSets.colors.splice(index, Number.MAX_VALUE);\n    //     }\n    // }    \n\n    // clearPalette () {\n    //     if (this.state.currentColorSets.colors) {\n    //         this.state.currentColorSets.colors = [];\n    //     }\n    // }\n\n    // getUserList() {\n    //     return Array.isArray(this.state.userList) && this.state.userList.length ? this.state.userList : this.state.colorSetsList;\n    // }    \n\n    // getCurrentColors () {\n    //     return this.getColors(this.state.currentColorSets)\n    // }\n\n    // getColors (element) {\n    //     if (element.scale) {\n    //         return Color.scale(element.scale, element.count);\n    //     }\n        \n    //     return element.colors || []; \n    // }\n\n    // getColorSetsList () {\n    //     return this.getUserList().map(element => {\n    //        return {\n    //            name : element.name,\n    //            edit : element.edit,\n    //            colors : this.getColors(element)\n    //        } \n    //     });\n    // }\n\n}","import Hue from \"./colorpicker/control/Hue\";\nimport Opacity from \"./colorpicker/control/Opacity\";\nimport ColorView from \"./colorpicker/control/ColorView\";\nimport ColorInformation from \"./colorpicker/ColorInformation\";\nimport Palette from \"./colorpicker/ColorPalette\";\nimport ColorManagerV2 from \"plugins/color/ColorManagerV2\";\nimport { SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\n\nexport default class ColorPickerEditor extends EditorElement {\n\n    created ()  {\n        this.manager = new ColorManagerV2();\n    }\n\n    initState () {\n\n        const value = this.props.value || 'rgba(0, 0, 0, 1)'\n\n        this.manager.initColor(value);\n\n        return {\n            key: this.props.key,\n            value: this.manager.toString()\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyColorPicker();\n    }\n\n    modifyColorPicker() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params);\n    }\n\n    /**\n     * \n     * initialize color for colorpicker\n     * \n     * @param {String|Object} newColor \n     * @param {String} format  hex, rgb, hsl\n     */\n    initColor(newColor, format) {\n        this.manager.changeColor(newColor, format);\n\n        this.refresh();\n    }\n\n    changeColor(newColor, format) {\n        this.manager.changeColor(newColor, format);        \n\n        this.refresh();\n\n        this.updateData({\n            value: this.manager.toColor()\n        })\n    }    \n\n    [SUBSCRIBE_SELF('selectColorAssets')] (key, color) {\n        this.lastUpdateColor(color);\n    }\n\n    changeFormat (format) {        \n        this.manager.changeFormat(format)\n\n        this.setState({\n            value: this.manager.toColor()\n        }, false)        \n\n        this.modifyColorPicker();\n        this.changeEndColor();\n    }\n\n\n    lastUpdateColor(newColor, format) {\n        this.manager.changeColor(newColor, format);        \n\n        this.refresh();\n\n        this.setState({\n            value: this.manager.toColor()\n        }, false)\n\n        this.modifyColorPicker();        \n        this.changeEndColor();\n    }        \n\n    changeEndColor() {\n        this.parent.trigger(this.props.onchangeend, this.props.key, this.state.value, this.props.params);\n    }\n\n\n    refresh() {\n\n        const color = this.manager.toColor()\n\n        this.children.$palette.setValue(\n            this.manager.hsv.s, \n            this.manager.hsv.v,\n            this.manager.getHueColor()\n        );\n        this.children.$opacity.setValue(\n            this.manager.rgb, \n            this.manager.alpha\n        );\n        this.children.$hue.setValue(\n            this.manager.hsv.h\n        );\n        this.children.$colorview.setValue(\n            color\n        );\n\n        this.children.$information.setValue();\n    }\n\n\n    components () {\n        return {\n            Hue,\n            Opacity,\n            ColorView,\n            Palette,\n            ColorInformation,\n            // ColorAssetsEditor,\n            // CurrentColorSets,\n            // ColorSetsChooser,\n            // ContextMenu\n        }\n    }\n\n    template () {\n        return /*html*/`\n        <div class='colorpicker sketch inline'>\n            <div class='colorpicker-body'>\n                <object refClass=\"Palette\" ref='$palette' />\n                <div class=\"control\">\n                    <object refClass=\"Hue\" ref='$hue' />\n                    <object refClass=\"Opacity\" ref='$opacity' />\n                    <div class=\"empty\"></div>\n                    <object refClass=\"ColorView\" ref='$colorview' />\n                </div>\n                <object refClass=\"ColorInformation\" ref='$information' />\n                <object refClass=\"ColorAssetsEditor\" ref='$colorAsset' key=\"colorAssets\" onchange=\"selectColorAssets\" /> \n            </div>\n        </div>\n      `;\n    }\n\n}","import UIElement from \"el/sapa/UIElement\";\nimport { LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './ColorPickerPopup.scss';\nexport default class ColorPickerPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('colorpicker.popup.title')\n  }\n\n  getClassName() {\n    return 'compact elf--colorpicker-popup'\n  }\n\n  initState() {\n\n    return {\n      color: 'rgba(0, 0, 0, 1)'\n    }\n  }\n\n\n  updateData(opt = {}) {\n    this.setState(opt, false);\n\n    if (this.state.target) {\n      this.state.target.trigger(this.state.changeEvent, this.state.color, this.params);\n    }\n\n  }\n\n  updateEndData(opt = {}) {\n    this.setState(opt, false);\n\n    if (this.state.target) {\n      this.state.target.trigger(this.state.changeEndEvent, this.state.color, this.params);\n    }\n\n  }\n\n  getBody() {\n    return /*html*/`\n    <div>\n      <div class='box'>\n        <object \n          refClass=\"EmbedColorPicker\" \n          ref='$color' \n          value='${this.state.color}' \n          onchange=${this.subscribe((color) => this.updateData({ color }))} \n          onchangeend=${this.subscribe((color) => this.updateEndData({ color }))} />\n      </div>\n    </div>\n  `;\n  }\n\n  [LOAD('$projectColors')] () {\n    var project = this.$selection.currentProject || {colors: []};\n\n    var colors = project.colors\n\n    return colors.map(color => {\n      return /*html*/`\n      <div class='color-item' title='${color.name}'>\n        <div class='color-view' data-color='${color.color}' style='background-color: ${color.color}'></div>\n      </div>`\n    }) \n  }\n\n  [CLICK('$projectColors .color-view')] (e) {\n    this.updateData({\n      color: e.$dt.attr('data-color')\n    })\n    this.children.$color.setValue(this.state.color);\n  }\n\n  [SUBSCRIBE(\"showColorPickerPopup\")](data, params) {\n    data.changeEvent = data.changeEvent || 'changeFillPopup'\n\n    if (!(data.target instanceof UIElement)) {\n      throw new Error('ColorPicker needs data.target');\n    }\n\n    this.params = params;\n    this.setState(data, false);\n    this.children.$color.setValue(this.state.color);\n\n    this.show(232);\n  }\n\n  [SUBSCRIBE(\"hideColorPickerPopup\")]() {\n    this.hide();\n  }\n\n\n}","import { SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\n\nexport default class EmbedColorPicker extends EditorElement {\n\n    initState() {\n      return {\n        value: this.props.value || 'rgba(0, 0, 0, 1)'\n      }\n    }\n\n    template () {\n      return /*html*/`\n        <div class='embed-color-picker'>\n          <object refClass=\"ColorPickerEditor\" \n            ref='$colorpicker' \n            key=\"colorpicker\" \n            value=\"${this.state.value}\" \n            onchange='localChangeColor' \n            onchangeend='localLastUpdate' \n          />        \n        </div>\n      `\n    }\n\n    [SUBSCRIBE_SELF('localChangeColor')](key, color) {\n      this.parent.trigger(this.props.onchange, color);\n    }\n\n    [SUBSCRIBE_SELF('localLastUpdate')](key, color) {\n      this.parent.trigger(this.props.onchangeend, color);\n    }  \n\n    setValue (color) {\n      this.state.value = color; \n      this.children.$colorpicker.initColor(color);\n    }\n\n    refresh() {\n      this.children.$colorpicker.initColor(this.props.value);\n    }\n\n}","import { DEBOUNCE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { isString } from \"el/sapa/functions/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { spreadVariable } from \"el/sapa/functions/registElement\";\n\nexport default class ComponentProperty extends BaseProperty {\n\n  getTitle() {\n    return \"Component\";\n  }\n\n  isShow () {\n    var current = this.$selection.current;\n\n    if (current && current.is('component')) {\n      return true; \n    }\n\n    return false; \n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n\n    this.refreshShow((type) => {\n      const current = this.$selection.current;\n      const inspector = this.$editor.components.createInspector(current);\n      return inspector.length > 0;\n    })\n\n  }\n\n  refresh() {\n    \n    var current = this.$selection.current;\n\n    if (current) {\n      this.setTitle(current.getDefaultTitle() || current.itemType || current.name);\n      this.load();\n    }    \n  }\n\n  getBody() {\n    return /*html*/`\n      <div ref='$body'></div>\n    `;\n  }\n\n  getPropertyEditor (index, key, value, selfEditor, selfEditorOptions) {\n    if (isString(selfEditor)) {\n      return /*html*/`\n        <div>  \n          <object \n            refClass=\"${selfEditor}\" \n            ${spreadVariable({\n              ...selfEditorOptions,\n              onchange: 'changeComponentProperty',\n              ref: `${key}${index}`,\n              key,\n              value\n            })} \n          />\n        </div>`\n    } else {\n      return Object.keys(selfEditor).map(selfEditorKey => {\n        return /*html*/`\n          <div>\n            <object refClass=\"${selfEditorKey}\" ${spreadVariable({\n              ...selfEditorOptions,\n              onchange: 'changeComponentProperty',\n              ref: `${key}${index}${selfEditorKey}`,\n              key,\n              value\n            })} />\n          </div>`\n      }).join('');\n    }\n  }\n\n  [LOAD('$body')] () {\n\n    var current = this.$selection.current;\n\n    if (!current) return ''; \n\n    if (current && !current.is('component')) {\n      return ''; \n    }\n\n    const inspector = this.$editor.components.createInspector(current);\n\n    var self = inspector.map((it, index)=> {\n\n      if (isString(it)) {\n        return /*html*/`\n          <div class='property-item is-label'> \n            <label class='label string-label'>${it}</label>\n          </div>`\n      } else {\n        return /*html*/`\n          <div class='property-item'> \n            ${this.getPropertyEditor(index, it.key, current[it.key] || it.defaultValue, it.editor, it.editorOptions)}\n          </div>\n        `\n      }\n\n    })\n\n    return self; \n  }\n\n  [SUBSCRIBE_SELF('changeComponentProperty')] (key, value) {\n\n    const current = this.$selection.current;\n    const inspector = this.$editor.components.createInspector(current);    \n    const convert = inspector.find(it => it.key === key)?.convert;\n    const realValueObject = convert ? convert(current, key, value) : { [key] : value }\n\n    this.command(\"setAttributeForMulti\", 'change component : ' + key, this.$selection.packByValue(realValueObject))\n  }\n}","\nimport { INPUT, BIND, DEBOUNCE, SUBSCRIBE } from \"el/sapa/Event\";\n\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport './ContentProperty.scss';\nexport default class ContentProperty extends BaseProperty {\n  getTitle() {\n    return \"Content\";\n  }\n\n\n  [SUBSCRIBE('refreshSelection', 'refreshContent') + DEBOUNCE(100)]() {\n\n    this.refreshShow(['text'])\n\n  }  \n\n  getBody() {\n    return /*html*/`\n      <div class=\"property-item elf--content-item\">\n        <textarea ref=\"$contentItem\"></textarea>\n      </div>\n    `;\n  }\n\n  [BIND(\"$contentItem\")]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    return {\n      value: current.content || \"\"\n    };\n  }\n\n  [INPUT(\"$contentItem\")](e) {\n    this.setContent();\n  }\n\n  setContent() {\n    var current = this.$selection.current;\n    if (current) {\n      var data = {\n        content: this.refs.$contentItem.value\n      }\n      current.reset(data);\n      this.emit('refreshSelectionStyleView', current);\n    }\n  }\n}","import bodyMoveMs from \"./body.move.ms\";\nimport canvasHeight from \"./canvas.height\";\nimport canvasWidth from \"./canvas.width\";\nimport debugMode from \"./debug.mode\";\nimport fixedAngle from \"./fixed.angle\";\nimport showRuler from \"./show.ruler\";\nimport setToolHand from \"./set.tool.hand\";\nimport showLeftPanel from \"./show.left.panel\";\nimport showRightPanel from \"./show.right.panel\";\nimport snapDistance from \"./snap.distance\";\nimport historyDelayMs from \"./history.delay.ms\";\nimport snapGrid from './snap.grid';\nimport storeKey from './store.key';\nimport areaWidth from './area.width';\nimport styleCanvasBackgroundColor from \"./style.canvas.background.color\";\nimport setMoveControlPoint from \"./set.move.control.point\";\nimport setDragPathArea from \"./set.drag.path.area\";\nimport showOutline from \"./show.outline\";\n\nexport default [\n    showOutline,\n    setDragPathArea,\n    setMoveControlPoint,\n    styleCanvasBackgroundColor,\n    areaWidth,\n    storeKey,\n    setToolHand,\n    canvasWidth,\n    canvasHeight,\n    bodyMoveMs,\n    debugMode,\n    fixedAngle,\n    showRuler,\n    showLeftPanel,\n    showRightPanel,\n    snapDistance,\n    snapGrid,\n    historyDelayMs\n]","export default {\n    key: \"show.outline\",\n    defaultValue: false,\n    title: \"Show outline\",\n    description: \"Set outline visibility to on\",\n    type: \"boolean\"\n}","export default {\n    key: \"set.drag.path.area\",\n    defaultValue: false,\n    title: \"Drag path area\",\n    description: \"Drag path area\",\n    type: \"boolean\"\n}","export default {\n    key: \"set.move.control.point\",\n    defaultValue: false,\n    title: \"Moving Control Point\",\n    description: \"Moving Control Point\",\n    type: \"boolean\"\n}","export default {\n    key: \"style.canvas.background.color\",\n    defaultValue: '#ececec',\n    title: \"Canvas Background Color\",\n    description: \"Set canvas background color\",\n    type: \"color\"\n}","export default {\n    key: \"area.width\",\n    defaultValue: 100,\n    title: \"Area Width to find layers fastly\",\n    description: \"Set area width/height\",\n    type: \"number\"\n}","export default {\n    key: \"store.key\",\n    defaultValue: \"easylogic.studio\",\n    title: \"Store Key\",\n    description: \"Set localStorage key\",\n    type: \"number\"\n}","export default {\n    key: \"set.tool.hand\",\n    defaultValue: false,\n    title: \"Hand tool\",\n    description: \"Hand tool is on\",\n    type: \"boolean\"\n}","export default {\n    key: \"canvas.width\",\n    defaultValue: 10000,\n    title: \"Default canvas width\",\n    description: \"Set default canvas width\",\n    type: \"number\"\n}","export default {\n    key: \"canvas.height\",\n    defaultValue: 10000,\n    title: \"Default canvas height\",\n    description: \"Set default canvas height\",\n    type: \"number\"\n}","export default {\n    key: \"body.move.ms\",\n    defaultValue: 30,\n    title: \"pointer move delay millisecond\",\n    description: \"Set delay millisecond to moving pointer in body  \",\n    type: \"number\"\n}","export default {\n    key: \"debug\",\n    defaultValue: false,\n    title: \"debug mode\",\n    description: \"Set debug mode to on \",\n    type: \"boolean\"\n}","export default {\n    key: \"fixed.angle\",\n    defaultValue: 15,\n    title: \"fixed angle count\",\n    description: \"Set fixed angle\",\n    type: \"number\"\n}","export default {\n    key: \"show.ruler\",\n    defaultValue: true,\n    title: \"Show ruler\",\n    description: \"Set ruler visibility to on\",\n    type: \"boolean\"\n}","export default {\n    key: \"show.left.panel\",\n    defaultValue: true,\n    title: \"Show left panel\",\n    description: \"Set left panel visibility to on\",\n    type: \"boolean\"\n}","export default {\n    key: \"show.right.panel\",\n    defaultValue: true,\n    title: \"Show right panel\",\n    description: \"Set right panel visibility to on\",\n    type: \"boolean\"\n}","export default {\n    key: \"snap.distance\",\n    defaultValue: 3,\n    title: \"Snap distance between objects\",\n    description: \"Set snap distance\",\n    type: \"number\"\n}","export default {\n    key: \"snap.grid\",\n    defaultValue: 50,\n    title: \"Snap grid size between objects\",\n    description: \"Set snap grid size\",\n    type: \"number\"\n}","export default {\n    key: \"history.delay.ms\",\n    defaultValue: 500,\n    title: \"history delay milliseconds\",\n    description: \"Set history delay time\",\n    type: \"number\"\n}","import { uuidShort } from \"el/utils/math\";\nimport { Keyframe } from \"../property-parser/Keyframe\";\nimport { BaseModel } from \"./BaseModel\";\n\nexport class BaseAssetModel extends BaseModel {\n\n  getDefaultObject(obj = {}) { \n    return super.getDefaultObject({\n      svgfilters: [],\n      keyframes: [],      \n      ...obj\n    });\n  }\n\n\n  addKeyframe(keyframe) {\n    this.json.keyframes.push(keyframe);\n    return keyframe;\n  }     \n\n\n  createKeyframe(data = {}) {\n    return this.addKeyframe(\n      new Keyframe({\n        checked: true,\n        ...data\n      })\n    );\n  }    \n  \n\n  removeKeyframe(removeIndex) {\n    this.removePropertyList(this.json.keyframes, removeIndex);\n  }    \n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  sortKeyframe(startIndex, targetIndex) {\n    this.sortItem(this.json.keyframes, startIndex, targetIndex);\n  }    \n\n\n  updateKeyframe(index, data = {}) {\n    this.json.keyframes[+index].reset(data);\n  }      \n\n\n/**\n   * `@keyframes`    \n   */\n  toKeyframeString (isAnimate = false) {\n    return this.json.keyframes\n              .map(keyframe => keyframe.toString(isAnimate))\n              .join('\\n\\n')\n  }  \n\n\n  //  Assets   JSON .    . \n  // {color, name, variable}\n  // {gradient,name,variable}\n  // {filters: [],id,name}\n  // {mimeType, original(data or url), local, name}\n\n  //  \n  // var asset = AssetParser.parse(data);\n  // asset.color, name, variable \n\n\n  copyPropertyList(arr, index) {\n    var copyObject = {...arr[index]};\n    arr.splice(index, 0, copyObject);\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'svgfilters',\n        'keyframes',      \n      )\n\n    }\n  }\n\n  removePropertyList(arr, removeIndex) {\n    arr.splice(removeIndex, 1);\n  }  \n\n\n  /* svg filters  */\n\n  getSVGFilterIndex (id) {\n\n    var filter = this.json.svgfilters.map( (it, index) => {\n      return { id: it.id, index }\n    }).filter(it => {\n      return it.id === id \n    });\n\n    return filter.length ? filter?.[0]?.index : -1;\n  }\n\n  removeSVGFilter(removeIndex) {\n    this.removePropertyList(this.json.svgfilters, removeIndex);\n  }      \n\n\n  copySVGFilter(index) {\n    this.copyPropertyList(this.json.svgfilters, index);    \n  }        \n\n  sortSVGFilter(startIndex, targetIndex) {\n    this.sortItem(this.json.svgfilters, startIndex, targetIndex);\n  }    \n\n  setSVGFilterValue(index, value) {\n    this.json.svgfilters[index] = {...this.json.svgfilters[index], ...value}\n  }\n\n  addSVGFilter(obj = {}) {\n    this.json.svgfilters.push(obj)\n    var index = this.json.svgfilters.length - 1;\n    return index; \n  }\n\n  createSVGFilter(data = {}) {\n    return this.addSVGFilter({\n      id: uuidShort(),\n      ...data\n    })\n  }  \n\n}\n","import { Length } from \"el/editor/unit/Length\";\nimport { Transform } from \"../property-parser/Transform\";\nimport { TransformOrigin } from \"el/editor/property-parser/TransformOrigin\";\nimport { mat4, quat, vec3 } from \"gl-matrix\";\nimport { calculateMatrix, calculateMatrixInverse, radianToDegree, round, vertiesMap } from \"el/utils/math\";\nimport { isFunction, isUndefined } from \"el/sapa/functions/func\";\nimport PathParser from \"el/editor/parser/PathParser\";\nimport { itemsToRectVerties, polyPoint, polyPoly, rectToVerties, toRectVerties } from \"el/utils/collision\";\nimport { BaseAssetModel } from './BaseAssetModel';\n\n\n\nconst ZERO = Length.z()\nexport class MovableModel extends BaseAssetModel {\n\n\n    /**\n     * @returns {boolean} wheather item is absolute position \n     */\n    get isAbsolute  (){\n        return this.json.position === 'absolute'; \n    }\n\n    /**\n     * @returns {boolean} wheather item is relative position \n     */    \n    get isRelative  (){\n        return this.json.position === 'relative'; \n    }\n\n    /**\n     * @returns {boolean} wheather item is child \n     */    \n    get isChild() {\n        if (this.json.parent) {\n            var isParentDrawItem = this.json.parent.is('project') === false; \n\n            if (isParentDrawItem && this.isAbsolute) {\n                return true; \n            }\n        }\n\n        return false; \n    }\n\n    toCloneObject(isDeep = true) {\n        return {\n            ...super.toCloneObject(isDeep),\n            ...this.attrs('x', 'y', 'width', 'height', 'transform', 'rotate', 'rotateZ')\n        }\n    }\n\n    convert (json) {\n        json = super.convert(json);\n\n        json.x = Length.parse(json.x);\n        json.y = Length.parse(json.y);\n        json.width = Length.parse(json.width);\n        json.height = Length.parse(json.height);\n\n        return json; \n    }\n\n    reset(obj) {\n        const isChanged = super.reset(obj);\n\n        // transform     . \n        if (isChanged && this.hasChangedField('children', 'x', 'y', 'width', 'height', 'transform', 'rotateZ', 'rotate', 'transform-origin', 'perspective', 'perspective-origin')) {\n            this.refreshMatrixCache()\n        }\n\n        if (isChanged && this.hasChangedField('width', 'height') && this.hasLayout()) {\n            this.applyLayout();\n        }\n\n        return isChanged;\n    }\n\n    applyLayout() {\n        if (this.hasLayout()) {\n            if (this.isLayout('default')) {\n                //     . \n                if (this.hasChangedField('width', 'height')) {\n                    \n                }\n            }\n        }\n    }\n\n    /**\n     *   matrix    . \n     * \n     * @param {BaseModel} otherParent \n     */\n    setParentId(otherParentId) {\n        super.setParentId(otherParentId);\n\n        this.refreshMatrixCache();\n    }\n\n    refreshMatrixCache() {\n    \n        this.setCacheItemTransformMatrix();\n        this.setCacheLocalTransformMatrix();                                         \n        this.setCacheAccumulatedMatrix();   \n        this.setCacheLocalVerties();\n        this.setCacheVerties();\n        this.setCacheGuideVerties();\n        this.setCacheAreaPosition();\n\n        //     matrix      . \n        //     remote           . \n        //              . \n        this.layers.forEach(it => {\n            it.refreshMatrixCache();\n        })\n    }\n\n    setCacheItemTransformMatrix() {\n        this._cachedItemTransform = this.getItemTransformMatrix();\n        this._cachedItemTransformInverse = mat4.invert([], this._cachedItemTransform);\n    }\n\n    setCacheLocalTransformMatrix() {\n        this._cachedLocalTransform = this.getLocalTransformMatrix();\n        this._cachedLocalTransformInverse = mat4.invert([], this._cachedLocalTransform);\n\n        this._cachedTransformWithTranslate = this.getTransformWithTranslate(this);\n        this._cachedTransformWithTranslateInverse = mat4.invert([], this._cachedTransformWithTranslate);        \n        this._cachedTransformWithTranslateTranspose = mat4.transpose([], this._cachedTransformWithTranslate);        \n    }    \n\n    setCacheAccumulatedMatrix() {\n        this._cachedAccumulatedMatrix = this.getAccumulatedMatrix();\n        this._cachedAccumulatedMatrixInverse = mat4.invert([], this._cachedAccumulatedMatrix);\n    }        \n\n    setCacheVerties() {\n        this._cachedVerties = this.getVerties();\n        this._cachedVertiesWithoutTransformOrigin = this.rectVerties();\n    }\n\n    setCacheLocalVerties() {\n        this._cachedLocalVerties = this.getLocalVerties();\n    }    \n\n    setCacheGuideVerties() {\n        this._cachedGuideVerties = this.getGuideVerties();\n    }\n\n    setCacheAreaPosition() {\n        this._cachedAreaPosition = this.getAreaPosition();\n    }\n\n    //////////////////////\n    //\n    // getters \n    //\n    ///////////////////////\n\n\n    get localMatrix() {\n        return this._cachedLocalTransform || this.getLocalTransformMatrix()\n    }\n\n    get localMatrixInverse() {\n        return this._cachedLocalTransformInverse || this.getLocalTransformMatrixInverse()\n    }    \n\n    get transformWithTranslate() {\n        return this._cachedTransformWithTranslate || this.getTransformWithTranslate(this)\n    }\n\n    get transformWithTranslateToTranspose() {\n        return this._cachedTransformWithTranslateTranspose || mat4.transpose([],  this.getTransformWithTranslate(this));\n    }    \n\n    get transformWithTranslateInverse() {\n        return this._cachedTransformWithTranslateInverse || mat4.invert([], this.getTransformWithTranslate(this));\n    }        \n\n    get itemMatrix() {\n        return this._cachedItemTransform || this.getItemTransformMatrix()\n    }\n\n    get itemMatrixInverse() {\n        return this._cachedItemTransformInverse || this.getItemTransformMatrixInverse()\n    }    \n\n    get accumulatedMatrix() {\n        return this._cachedAccumulatedMatrix || this.getAccumulatedMatrix()\n    }\n\n    get accumulatedMatrixInverse() {\n        return this._cachedAccumulatedMatrixInverse || this.getAccumulatedMatrixInverse()\n    }        \n\n    get verties() {\n        return this._cachedVerties || this.getVerties();\n    }\n\n    get originVerties() {\n        return this._cachedVertiesWithoutTransformOrigin || this.rectVerties();\n    }    \n\n    get localVerties() {\n        return this._cachedLocalVerties || this.getLocalVerties();\n    }    \n\n    get guideVerties() {\n        return this._cachedGuideVerties || this.getGuideVerties();\n    }    \n\n    get areaPosition() {\n        return this._cachedAreaPosition || this.getAreaPosition();\n    }\n\n    getAreaPosition(areaSize = 100) {\n        const rect = toRectVerties(this.getVerties());\n\n        return {\n            column: [\n                Math.ceil(rect[0][0] / areaSize), \n                Math.ceil(rect[1][0] / areaSize)\n            ],\n            row: [\n                Math.ceil(rect[0][1] / areaSize), \n                Math.ceil(rect[3][1] / areaSize)\n            ]\n        }\n    }\n\n\n    setScreenX(value) {\n        var absoluteX = 0;\n        if (this.isChild) {\n            absoluteX = this.json.parent.screenX.value; \n        }\n\n        this.json.x.set(value - absoluteX);\n        this.changed();\n    }\n    setScreenY(value) {\n        var absoluteY = 0;\n        if (this.isChild) {\n            absoluteY = this.json.parent.screenY.value; \n        }\n        this.json.y.set(value - absoluteY);\n        this.changed();        \n    }    \n\n    get screenX () { \n\n        if (this.isChild) {\n            return Length.px(this.json.parent.screenX.value + this.json.x.value); \n        }\n\n        return this.json.x || Length.z() \n    }\n    get screenY () { \n\n        if (this.isChild) {\n            return Length.px(this.json.parent.screenY.value + this.json.y.value); \n        }        \n        return this.json.y || Length.z() \n    }\n\n\n    get offsetX () { \n        if (!this.parent) {\n            return this.json.x || ZERO;\n        }        \n        return this.json.x.toPx(this.screenWidth.value);  \n    }\n\n    get offsetY () { \n        if (!this.parent) {\n            return this.json.y || ZERO;\n        }        \n        return this.json.y.toPx(this.screenHeight.value);  \n    }\n    \n    get screenWidth () { \n        if (this.is('project') || !this.parent) {\n            return ZERO;  \n        }\n\n        if (this.parent.is('project')) {\n            return this.json.width.toPx();  \n        }\n\n        if (this.is('artboard')) {\n            return this.json.width.toPx();  \n        }\n\n        return this.json.width.toPx(this.parent.screenWidth.value);  \n    }    \n\n    get screenHeight () { \n        if (this.is('project') || !this.parent) {\n            return ZERO;  \n        }\n\n        if (this.parent.is('project')) {\n            return this.json.height.toPx();  \n        }\n\n        if (this.is('artboard')) {\n            return this.json.height.toPx();  \n        }\n\n\n        return this.json.height.toPx(this.parent.screenHeight.value);  \n    }    \n\n    /**\n     * Item  \n     *  \n     * @param {vec3} distVector \n     */\n    move (distVector = [0, 0, 0]) {\n        this.reset({\n            x: Length.px(this.offsetX.value + distVector[0]).round(),          // 1px    \n            y: Length.px(this.offsetY.value + distVector[1]).round(),\n        })\n    }\n\n    moveByCenter (newCenter = [0, 0, 0]) {\n        const matrix = this.matrix;\n\n        this.reset({\n            x: Length.px(newCenter[0] - matrix.width/2),\n            y: Length.px(newCenter[1] - matrix.height/2)\n        })\n    }\n\n    setAngle(angle = 0) {\n        this.reset({\n            transform: Transform.replaceAll(this.transform, `rotateZ(${Length.deg(angle)})`)\n        })\n    }\n\n    addAngle(angle = 0) {\n        this.reset({\n            transform: Transform.addTransform(this.transform, `rotateZ(${Length.deg(angle)})`)\n        })\n    }\n\n    /**\n     *   \n     * \n     * polygon : ploygon    . \n     *    item    areaVerties   . \n     * \n     * @param {*} areaVerties \n     */\n    checkInArea (areaVerties) {\n        return  polyPoly(areaVerties, this.originVerties)\n    }\n\n    /**\n     *         . \n     * \n     * @param {number} x \n     * @param {number} y \n     */\n    hasPoint (x, y) {\n        return polyPoint(this.originVerties, x, y)\n    }\n\n\n    /**\n     * areaVerties  Layer    \n     * \n     * @param {vec3[]} areaVerties \n     */\n    isIncludeByArea (areaVerties) {\n\n        return this.originVerties.map(vector => {\n            return polyPoint(areaVerties, ...vector);\n        }).filter(Boolean).length === 4;\n    }\n\n    getPerspectiveMatrix () {\n\n        const hasPerspective = this.json['perspective'] || Transform.get(this.json['transform'] || '', 'perspective')\n\n        if (!hasPerspective) {\n            return undefined;\n        }\n\n        let [\n            perspectiveOriginX = Length.percent(50), \n            perspectiveOriginY = Length.percent(50), \n        ] = TransformOrigin.parseStyle(this.json['perspective-origin'])\n\n        const width = this.screenWidth.value;\n        const height = this.screenHeight.value\n\n        perspectiveOriginX = perspectiveOriginX.toPx(width).value\n        perspectiveOriginY = perspectiveOriginY.toPx(height).value\n\n        // 1. Start with the identity matrix.\n        const view = mat4.create();\n\n        // 2. Translate by the computed X and Y values of perspective-origin     \n        mat4.translate(view, view, [perspectiveOriginX, perspectiveOriginY, 0]);        \n        \n\n        // 3. Multiply by the matrix that would be obtained from the perspective() transform function, \n        // where the length is provided by the value of the perspective property\n        const perspective = Transform.get(this.json['transform'], 'perspective')\n\n        if (perspective.length) {\n            mat4.multiply(view, view, mat4.fromValues(\n                1, 0, 0, 0,\n                0, 1, 0, 0,\n                0, 0, 1, 0,\n                0, 0, -1/perspective[0].value, 1 \n            ))\n        } else if (this.json['perspective'] && this.json['perspective'] != 'none' ) {\n            mat4.multiply(view, view, mat4.fromValues(\n                1, 0, 0, 0,\n                0, 1, 0, 0,\n                0, 0, 1, 0,\n                0, 0, -1/Length.parse(this.json['perspective']).value, 1 \n            ))            \n        } else {\n            return undefined;\n        }\n\n        // 4. Translate by the negated computed X and Y values of perspective-origin\n        mat4.translate(view, view, [-perspectiveOriginX, -perspectiveOriginY, 0]);                \n\n        return view; \n    }\n\n    getItemTransformMatrix () {\n        const list = Transform.parseStyle(this.json?.['transform']);\n        const width = this.screenWidth.value;\n        const height = this.screenHeight.value;\n\n        return Transform.createTransformMatrix(list, width, height);\n    }\n\n    getItemTransformMatrixInverse () {\n        return mat4.invert([], this.getItemTransformMatrix());\n    }\n\n    /**\n     * refer to https://www.w3.org/TR/css-transforms-2/\n     * \n     * 1. Start with the identity matrix.\n     * 2. Translate by the computed X, Y and Z of transform-origin\n     * 3. Multiply by each of the transform functions in transform property from left to right\n     * 4. Translate by the negated computed X, Y and Z values of transform-origin\n     */    \n    getLocalTransformMatrix (width, height) {\n        const origin = TransformOrigin.scale(\n            this.json['transform-origin'] || '50% 50% 0px', \n            isUndefined(width) ? this.screenWidth.value : width, \n            isUndefined(height) ? this.screenHeight.value : height\n        )\n\n        // start with the identity matrix \n        const view = mat4.create();\n\n        // 2. Translate by the computed X, Y and Z of transform-origin        \n        mat4.translate(view, view, origin);\n\n        // 3. Multiply by each of the transform functions in transform property from left to right        \n        mat4.multiply(view, view, this.itemMatrix)        \n\n        // 4. Translate by the negated computed X, Y and Z values of transform-origin        \n        mat4.translate(view, view, vec3.negate([], origin));\n\n        return view; \n    }      \n\n    getLocalTransformMatrixInverse (width, height) {\n        return mat4.invert([], this.getLocalTransformMatrix(width, height));\n    }\n\n    /**\n     *   matrix  \n     * \n     * @param {ReadOnlyVec3} vertexOffset \n     * @param {ReadOnlyVec3} center \n     */\n    getDirectionTransformMatrix (vertexOffset, width, height) {\n        const x = this.offsetX.value;\n        const y = this.offsetY.value; \n\n        const center = vec3.add([], TransformOrigin.scale(\n            this.json['transform-origin'] || '50% 50% 0px', \n            width, \n            height\n        ), vec3.negate([], vertexOffset));\n\n        const view = mat4.create();\n        mat4.translate(view, view, [x, y, 0]);\n        mat4.translate(view, view, vertexOffset);            \n        mat4.translate(view, view, center)        \n        mat4.multiply(view, view, this.itemMatrix)        \n        mat4.translate(view, view, vec3.negate([], center))            \n\n        return view; \n    }\n\n    getDirectionTopLeftMatrix (width, height) {\n        return this.getDirectionTransformMatrix([0, 0, 0], width, height)\n    }\n\n    getDirectionLeftMatrix (width, height) {\n        return this.getDirectionTransformMatrix([0, height/2, 0], width, height)\n    }            \n \n\n    getDirectionTopMatrix (width, height) {\n        return this.getDirectionTransformMatrix([width/2, 0, 0], width, height)\n    }    \n\n    getDirectionBottomLeftMatrix (width, height) {\n        return this.getDirectionTransformMatrix([0, height, 0], width, height)\n    }    \n\n    getDirectionTopRightMatrix (width, height) {\n        return this.getDirectionTransformMatrix([width, 0, 0], width, height)\n    }        \n\n    getDirectionRightMatrix (width, height) {\n        return this.getDirectionTransformMatrix([width, height/2, 0], width, height)\n    }        \n\n    getDirectionBottomRightMatrix (width, height) {\n        return this.getDirectionTransformMatrix([width, height, 0], width, height)\n    }            \n\n    getDirectionBottomMatrix (width, height) {\n        return this.getDirectionTransformMatrix([width/2, height, 0], width, height)\n    }            \n\n    getAccumulatedMatrix () {\n        let transform = mat4.create();\n\n        if (this.parent) {\n            mat4.multiply(transform, transform, this.parent.accumulatedMatrix);\n\n            // multiply parent perspective \n            if (isFunction(this.parent.getPerspectiveMatrix)) {\n                const perspectiveMatrix = this.parent.getPerspectiveMatrix();\n                if (perspectiveMatrix) {\n                    mat4.multiply(transform, transform, perspectiveMatrix)\n                }\n            }       \n\n        }\n                    \n        const offsetX = this.offsetX.value;\n        const offsetY = this.offsetY.value; \n        // 5. Translate by offset x, y\n        mat4.translate(transform, transform, [offsetX, offsetY, 0]);                   \n                \n        mat4.multiply(transform, transform, this.localMatrix)             \n\n\n        // let path = this.path.filter(p => p.is('project') === false);\n\n        // for(let i = 0, len = path.length; i < len; i++) {\n\n        //     /**\n        //      * @type {MovableItem}\n        //      */\n        //     const current = path[i];\n\n        //     // multiply parent perspective \n        //     if (current.parent && isFunction(current.parent.getPerspectiveMatrix)) {\n        //         const perspectiveMatrix = current.parent.getPerspectiveMatrix();\n        //         if (perspectiveMatrix) {\n        //             mat4.multiply(transform, transform, perspectiveMatrix)\n        //         }\n        //     }       \n\n                        \n        //     const offsetX = current.offsetX.value;\n        //     const offsetY = current.offsetY.value; \n        //     // 5. Translate by offset x, y\n        //     mat4.translate(transform, transform, [offsetX, offsetY, 0]);                   \n                    \n        //     mat4.multiply(transform, transform, current.localMatrix)            \n        // }\n\n        return transform;\n    }\n\n    getTransformWithTranslate (item) {\n        item = item || this; \n        let view = mat4.create();\n\n        const offsetX = item.offsetX.value;\n        const offsetY = item.offsetY.value; \n        // 5. Translate by offset x, y\n        mat4.translate(view, view, [offsetX, offsetY, 0]);                   \n                \n        mat4.multiply(view, view, item.localMatrix)            \n\n        return view;\n    }\n\n    getAccumulatedMatrixInverse () {\n        return mat4.invert([], this.getAccumulatedMatrix());\n    }\n\n    getLocalVerties (width, height) {\n        let model = rectToVerties(0, 0, width || this.screenWidth.value, height || this.screenHeight.value, this.json['transform-origin']);\n\n        return model;\n    }\n\n    getVerties (width, height) {\n        let model = rectToVerties(0, 0, width || this.screenWidth.value, height || this.screenHeight.value, this.json['transform-origin']);\n\n        return vertiesMap(model, this.accumulatedMatrix)\n    }\n\n    selectionVerties () {\n        let selectionModel = rectToVerties(-6, -6, this.screenWidth.value+12, this.screenHeight.value+12, this.json['transform-origin']);\n        \n        return vertiesMap(selectionModel, this.accumulatedMatrix)\n    }    \n\n    rectVerties () {\n        return this.verties.filter((_, index) => index < 4)\n    }    \n\n    getGuideVerties () {\n\n        const verties = this.originVerties;\n\n        return [\n            ...verties,\n            vec3.lerp([], verties[0], verties[1], 0.5),\n            vec3.lerp([], verties[1], verties[2], 0.5),\n            vec3.lerp([], verties[2], verties[3], 0.5),\n            vec3.lerp([], verties[3], verties[0], 0.5),\n        ];\n    }        \n\n    get toRectVerties () {\n        return itemsToRectVerties([this]);\n    }\n\n    get matrix () {\n        const id = this.id; \n        const x =  this.offsetX.value;\n        const y = this.offsetY.value;\n        const width = this.screenWidth.value;\n        const height = this.screenHeight.value; \n        const originalTransform = this.json.transform;\n        const originalTransformOrigin = this.json['transform-origin'] || '50% 50% 0%';\n\n        // load cached matrix \n        const parentMatrix = this.parent.accumulatedMatrix;\n        const parentMatrixInverse = this.parent.accumulatedMatrixInverse;\n        const localMatrix = this.localMatrix\n        const localMatrixInverse = this.localMatrixInverse;\n        const itemMatrix = this.itemMatrix;\n        const itemMatrixInverse = this.itemMatrixInverse;\n        const accumulatedMatrix = this.accumulatedMatrix;\n        const accumulatedMatrixInverse = this.accumulatedMatrixInverse;\n\n        const directionMatrix = {\n            'to top left': this.getDirectionTopLeftMatrix(width, height),\n            'to top': this.getDirectionTopMatrix(width, height),            \n            'to top right': this.getDirectionTopRightMatrix(width, height),\n            'to right': this.getDirectionRightMatrix(width, height),                        \n            'to bottom left': this.getDirectionBottomLeftMatrix(width, height),\n            'to bottom': this.getDirectionBottomMatrix(width, height),                        \n            'to bottom right': this.getDirectionBottomRightMatrix(width, height),\n            'to left': this.getDirectionLeftMatrix(width, height),                        \n        }\n\n        const verties = this.verties;\n        const xList = verties.map(it => it[0])\n        const yList = verties.map(it => it[1])\n\n        return {\n            id, \n            x, \n            y, \n            width, \n            height,\n            transform: originalTransform,\n            originalTransformOrigin,      \n            /**\n             *   vertex   \n             */\n            verties,\n            originVerties: this.originVerties,\n            xList,\n            yList,\n            directionMatrix,\n            parentMatrix,   //  matrix \n            parentMatrixInverse,\n            localMatrix,    //   matrix with translate offset(x,y)\n            localMatrixInverse,    \n            itemMatrix,     //   matrix without translate offset(x,y)\n            itemMatrixInverse,\n            accumulatedMatrix,  // parentMatrix * offset translate * localMatrix ,  matrix \n            accumulatedMatrixInverse,\n        }\n    }\n\n    /**\n     * \n     * @returns {vec3[]}  verties \n     */\n    pathVerties () {\n        return this.accumulatedPath().verties; \n    }\n\n    /**\n     *  matrix  path segment \n     * \n     * @returns {PathParser} \n     */\n    accumulatedPath (pathString = '') {\n\n        const d = pathString || this.d;\n\n        const pathParser = new PathParser(d)\n        pathParser.transformMat4(this.accumulatedMatrix);\n\n        return pathParser; \n    }    \n\n    //    path   verties  \n    // svg container  matrix  inverse matrix    .     \n    invertPath (pathString = '') {\n        const path = new PathParser(pathString)\n        path.transformMat4(this.accumulatedMatrixInverse)    \n    \n        return path; \n    }\n\n    /**\n     * pathString     . \n     * \n     * @param {string} pathString   svg path string \n     */\n    invertPathString (pathString = '') {\n        return this.invertPath(pathString).d;\n    }\n\n    /**\n     *    layer   . \n     * \n     * project, artboard   \n     * \n     * @param {vec3[]} areaVerties \n     */\n    checkInAreaForAll (areaVerties) {\n        const items = [...this.checkInAreaForLayers(areaVerties)];\n\n        if (this.is('artboard')) return items;\n        if (this.is('project')) return items;\n\n        if (this.checkInArea(areaVerties)) {\n            // ref   proxy      . \n            //         . , json    . \n            items.push(this.ref);       \n        }\n\n        return items; \n    }\n\n    /**\n     * area    , \n     * \n     * @param {vec3[]} areaVerties \n     * @returns {Item[]}       \n     */\n    checkInAreaForLayers(areaVerties) {\n        var items = [] \n        this.layers.forEach(layer => {\n\n            items.push.apply(items, layer.checkInAreaForLayers(areaVerties));\n\n            if (layer.checkInArea(areaVerties)) {\n                items.push(layer);\n            }\n        })\n\n        return items; \n    }\n\n    getTransformOriginMatrix () {\n        return mat4.fromTranslation([], TransformOrigin.scale(\n            this.json['transform-origin'] || '50% 50% 0px', \n            this.screenWidth.value, \n            this.screenHeight.value\n        ))\n    }\n\n    getTransformOriginMatrixInverse () {\n        return mat4.invert([], this.getTransformOriginMatrix())\n    }    \n\n    /**\n     *    childItem  transform  . \n     * \n     * 1. childItem  accumulatedMatrix  . \n     * 2.      .   parentItem.accumulatedMatrixInverse \n     * \n     * childItem    parent     \n     * itemMatrix (rotateZ)    offset     . \n     * \n     * @param {Item} childItem \n     */\n    resetMatrix (childItem) {\n\n        //  offset    . \n        // [newParentMatrix] * [newTranslate] * [newItemTransform] = [newAccumulatedMatrix]\n\n        // [newTranslate] * [newItemTransform] = [newParentMatrix * -1] * [newAccumulatedMatrix]\n        const matrix = calculateMatrix(\n            this.accumulatedMatrixInverse,\n            childItem.accumulatedMatrix,\n        )\n\n        // scale  \n        const newScaleTransform = Transform.fromScale(mat4.getScaling([], matrix).map(it => round(it, 1000)));\n\n        //     \n        const q = mat4.getRotation([], matrix);\n\n        const axis = []\n        const rad = quat.getAxisAngle(axis, q)\n\n        const newRotateTransform = [\n            { angle : axis[0] ? radianToDegree(rad * axis[0]) : 0, type: 'rotateX' },\n            { angle : axis[1] ? radianToDegree(rad * axis[1]) : 0, type: 'rotateY' },\n            { angle : axis[2] ? radianToDegree(rad * axis[2]) : 0, type: 'rotateZ' },\n        ]\n        .filter(it => it.angle !== 0)\n        .map(it => `${it.type}(${Length.deg(it.angle % 360)})`).join(' ');\n\n        //   item transform  \n        const newChildItemTransform = Transform.replaceAll(childItem.transform, `${newScaleTransform} ${newRotateTransform}`)\n\n        const list = Transform.parseStyle(newChildItemTransform);\n        const width = childItem.screenWidth.value;\n        const height = childItem.screenHeight.value;\n\n        const newTransformMatrix = Transform.createTransformMatrix(list, width, height);\n\n        //   item transform  \n        // [newLocalMatrix] * [\n        //     [origin] * [newTransformMatrix] * [origin * -1]\n        //      * -1 \n        // ]\n        // \n        const [x, y, z] = mat4.getTranslation([], calculateMatrix(\n            matrix,\n            calculateMatrixInverse(\n                childItem.getTransformOriginMatrix(),\n                newTransformMatrix,\n                childItem.getTransformOriginMatrixInverse(),\n            )\n        ));\n\n\n        childItem.reset({\n            x: Length.px(x),\n            y: Length.px(y),\n            transform: newChildItemTransform\n        })\n\n        childItem.refreshMatrixCache();\n\n    }\n\n    /** order by  */\n\n    getIndex () {\n        var parentLayers = this.parent.layers;    \n        var startIndex = -1; \n        for(var i = 0, len = parentLayers.length; i < len; i++) {\n            if (parentLayers[i] === this.ref) {\n                startIndex = i; \n                break;\n            }\n        }\n\n        return startIndex;\n    }\n\n    setOrder (targetIndex) {\n        var parent = this.parent; \n\n        var startIndex = this.getIndex()\n\n        if (startIndex > -1) {\n            parent.children[startIndex] = parent.children[targetIndex]\n            parent.children[targetIndex] = this.id; \n        }\n    }\n\n    // get next sibiling item \n    next () {\n        if (this.isLast()) {\n            return this.ref; \n        }\n\n        const index = this.getIndex();\n\n        return this.parent.layers[index+1];\n    }\n\n    // get prev sibiling item   \n    prev () {\n        if (this.isFirst()) {\n            return this.ref; \n        }\n\n        const index = this.getIndex();\n\n        return this.parent.layers[index-1];    \n    }\n\n    /**\n     *    . \n     * ,    . \n     */\n    orderNext() {   \n\n        if (this.isLast()) {\n            let next = this.parent.next();\n\n\n            if (next.enableHasChildren()) {\n                next.appendChild(this);          \n            } else {\n                next.appendAfter(this);\n            }\n\n            return; \n        }\n\n        var startIndex = this.getIndex();\n        if (startIndex > -1) {\n            this.setOrder(startIndex + 1);\n        }\n    }\n\n    isFirst () {\n        return this.getIndex() === 0;\n    }\n\n    isLast () {\n        return this.getIndex() === this.parent.children.length - 1\n    }\n\n    /**\n     *    . \n     * ,    .\n     */  \n    orderPrev () {\n        if (this.isFirst()) {\n            const prev = this.parent.prev();\n            \n            if (prev) {\n                prev.appendBefore(this);\n            }\n\n            return; \n        }\n\n        var startIndex = this.getIndex();\n        if (startIndex > 0) {\n            this.setOrder(startIndex - 1);\n        }\n    }\n\n    //    \n    orderFirst () {\n        this.setOrder(0)\n    }\n\n    //    \n    orderLast () {\n        this.setOrder(this.json.parent.layers.length-1)\n    }\n\n    //TODO:    \n    orderTop() {}\n    //TODO:    \n    orderBottom () {}\n}","import { MovableModel } from \"./MovableModel\";\n\nconst layout_list  = ['flex', 'grid']\n\nexport class GroupModel extends MovableModel {   \n\n    isLayoutItem () {\n        return this.parent.hasLayout();\n    }\n\n    /**\n     * \n     *    container  \n     * \n     * @returns {boolean}\n     */\n    hasLayout () {\n        const layout = this.json.layout || \"default\";\n        return layout !== \"default\";\n    }\n\n    /**\n     * layout  \n     * \n     * @param {default|flex|grid} layout \n     * @returns {boolean}\n     */\n    isLayout(layout) {\n        const localLayout = this.json.layout || \"default\";        \n        return localLayout === layout;\n    }\n\n    isInDefault () {\n        if  (!this.isLayoutItem()) return false; \n\n        const parentLayout = this.parent.layout || 'default';\n                \n        return 'default' === parentLayout; \n    }\n\n    isInGrid () {\n        if  (!this.isLayoutItem()) return false; \n                \n        return 'grid' === this.parent.layout; \n    }\n\n    isInFlex () {\n        if  (!this.isLayoutItem()) return false; \n\n        return 'flex' === this.parent.layout \n    }\n\n}","import { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { clone } from \"el/sapa/functions/func\";\n\nexport class Selector extends PropertyItem {\n  static parse(obj) {\n    return new Selector(obj);\n  }\n\n\n  getDefaultObject(obj) {\n    return super.getDefaultObject({\n      itemType: \"selector\",\n      selector: '',\n      properties: [],\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('selector', 'properties')\n    }\n  }\n\n  isMultiStyle (key) {\n    switch (key) {\n    case 'background-image': \n    case 'var':\n      return true;\n    }\n\n    return false;\n  }\n\n  getMultiStyleString (p) {\n    switch(p.key) {\n      case 'background-image': \n        return p.value.toString() + ';';\n    }\n\n    return p.value.toString() + ' !important;'; \n  }\n\n  toPropertyString () {\n    return this.json.properties.map(p => {\n      if (this.isMultiStyle(p.key)) {\n        return this.getMultiStyleString(p)\n      } else {\n        var value = p.value.toString();\n\n        if (value) {\n\n          var key = p.key \n\n          if (key === 'x') key = 'left';\n          else if (key === 'y') key = 'top';\n\n          return `${key}: ${value} !important;`\n        } else {\n          return '';\n        }\n      }\n    }).join('\\n')\n  }\n\n  toCSSText (prefix = '') {\n  \n    return `${prefix}${this.json.selector} {\n    ${this.toPropertyString()}\n}`\n  }\n\n  toCSS() {\n    return {};\n  }\n\n  toString(prefix = '') {\n    return this.toCSSText(prefix)\n  }\n}\n","\nimport { Length } from \"el/editor/unit/Length\";\nimport { GroupModel } from \"./GroupModel\";\nimport { Selector } from \"../property-parser/Selector\";\nimport { ClipPath } from \"el/editor/property-parser/ClipPath\";\nimport PathParser from \"el/editor/parser/PathParser\";\nimport { Pattern } from 'el/editor/property-parser/Pattern';\nimport { BackgroundImage } from 'el/editor/property-parser/BackgroundImage';\nimport { STRING_TO_CSS } from \"el/utils/func\";\n\n\nconst editableList = [\n  'appearance',\n  'position',\n  'right',\n  'bottom',\n  'rootVariable',\n  'variable',\n  'transform',\n  'filter',\n  'backdrop-filter',\n  'background-color',\n  'background-image',\n  'border-radius',\n  'border',\n  'box-shadow',\n  'clip-path',\n  'color',\n  'perspective-origin',\n  'transform-origin',\n  'transform-style',\n  'perspective',\n  'mix-blend-mode',\n  'overflow',\n  'opacity',\n  'box-model',\n  'layout',\n  'flex-layout',\n  'grid-layout',\n  'animation',\n  'transition',\n  'pattern',\n]\n\nconst editableKeys = {}\neditableList.forEach(function (key) {\n  editableKeys[key] = true\n})\n\nexport class DomModel extends GroupModel {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      'position': 'absolute',\n      'x': Length.z(),\n      'y': Length.z(),\n      'rootVariable': '',\n      'variable': '',\n      'width': Length.px(300),\n      'height': Length.px(300),\n      'color': \"black\",\n      // 'font-size': Length.px(13),\n      'overflow': 'visible',\n      'opacity': 1,\n      'z-index': Length.auto,\n      'transform-style': 'preserve-3d',\n      'layout': 'default',\n      'flex-layout': 'display:flex;',\n      'grid-layout': 'display:grid;',\n      // 'keyframe': 'sample 0% --aaa 100px | sample 100% width 200px | sample2 0.5% background-image background-image:linear-gradient(to right, black, yellow 100%)',\n      // keyframes: [],\n      selectors: [],\n      svg: [],\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n\n    var json = this.json;\n\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'position',\n        'rootVariable',\n        'variable',\n        'transform',\n        'filter',\n        'backdrop-filter',\n        'background-color',\n        'background-image',\n        'text-clip',\n        'border-radius',\n        'border',\n        'box-shadow',\n        'text-shadow',\n        'clip-path',\n        'color',\n        'font-size',\n        'font-stretch',\n        'line-height',\n        'text-align',\n        'text-transform',\n        'text-decoration',\n        'letter-spacing',\n        'word-spacing',\n        'text-indent',\n        'perspective-origin',\n        'transform-origin',\n        'transform-style',\n        'perspective',\n        'mix-blend-mode',\n        'overflow',\n        'opacity',\n        'flex-layout',\n        'grid-layout',\n        'animation',\n        'transition',\n        'margin-top',\n        'margin-left',\n        'margin-right',\n        'margin-bottom',\n        'padding-top',\n        'padding-right',\n        'padding-left',\n        'padding-bottom',\n      ),\n\n      // 'keyframe': 'sample 0% --aaa 100px | sample 100% width 200px | sample2 0.5% background-image background-image:linear-gradient(to right, black, yellow 100%)',\n      // keyframes: json.keyframes.map(keyframe => keyframe.clone()),\n      selectors: json.selectors.map(selector => selector.clone()),\n      svg: json.svg.map(svg => svg.clone())\n    }\n  }\n\n  editable(editablePropertyName) {\n\n    if (editablePropertyName == 'border' && this.hasChildren()) {\n      return false\n    }\n\n    switch (editablePropertyName) {\n      case 'svg-item':\n      // case 'box-model':\n      // case 'transform':\n      case 'transform-origin':\n      case 'perspective':\n      case 'perspective-origin':\n        return false;\n    }\n\n    return Boolean(editableKeys[editablePropertyName])\n  }\n\n  get changedBoxModel() {\n    return this.hasChangedField(\n      'margin-top', 'margin-left', 'margin-bottom', 'margin-right', \n      'padding-top', 'padding-left', 'padding-right', 'padding-bottom'\n    )\n  }\n\n\n  addSelector(selector) {\n    this.json.selectors.push(selector);\n    return selector;\n  }\n\n  createSelector(data = {}) {\n    return this.addSelector(\n      new Selector({\n        checked: true,\n        ...data\n      })\n    );\n  }\n\n  removePropertyList(arr, removeIndex) {\n    arr.splice(removeIndex, 1);\n  }\n\n  removeSelector(removeIndex) {\n    this.removePropertyList(this.json.selectors, removeIndex);\n  }\n\n  enableHasChildren() {\n    return true;\n  }\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  updateSelector(index, data = {}) {\n    this.json.selectors[+index].reset(data);\n  }\n\n\n  traverse(item, results, hasLayoutItem) {\n    // var parentItemType = item.parent().itemType;\n    if (item.isAttribute()) return;\n    // if (parentItemType == 'layer') return;\n    if (!hasLayoutItem && item.isLayoutItem() && !item.isRootItem()) return;\n\n    results.push(item);\n\n    item.children.forEach(child => {\n      this.traverse(child, results);\n    });\n  }\n\n  tree(hasLayoutItem) {\n    var results = [];\n\n    this.children.forEach(item => {\n      this.traverse(item, results, hasLayoutItem);\n    });\n\n    return results;\n  }\n\n  reset(obj) {\n    const isChanged = super.reset(obj);\n\n    // transform     . \n    if (isChanged && this.hasChangedField('clip-path')) {\n      this.setClipPathCache()\n    } else if (this.hasChangedField('width', 'height')) {\n\n      if (this.cacheClipPath) {\n        const d = this.cacheClipPath.clone().scale(this.json.width.value / this.cacheClipPathWidth, this.json.height.value / this.cacheClipPathHeight).d;\n        this.json['clip-path'] = `path(${d})`;\n\n        this.modelManager.setChanged('reset', this.id, { 'clip-path' : this.json['clip-path'] });\n      }\n\n    } else if (this.hasChangedField('background-image', 'pattern')) {\n      this.setBackgroundImageCache()\n    }\n\n    return isChanged;\n  }\n\n  setBackgroundImageCache() {\n\n    let list = [];\n\n    if (this.json.pattern) {\n\n      const patternList = this.computed('pattern', (pattern) => {\n        return Pattern.parseStyle(pattern).map(it => {\n          return BackgroundImage.parseStyle(STRING_TO_CSS(it.toCSS()))\n        });\n      })\n\n      for(var i = 0, len = patternList.length; i < len; i++)   {\n        list.push.apply(list, patternList[i]);\n      }\n    }\n\n    if (this.json['background-image']) {\n      const backgroundList = this.computed('background-image', (backgroundImage) => {\n        return BackgroundImage.parseStyle(STRING_TO_CSS(backgroundImage))\n      })\n\n      list.push.apply(list, backgroundList);\n    }\n\n    if (list.length) {\n      this.cacheBackgroundImage = BackgroundImage.joinCSS(list);\n    } else {\n      this.cacheBackgroundImage = {}\n    }\n  }\n\n  setClipPathCache() {\n    var obj = ClipPath.parseStyle(this.json['clip-path'])\n\n    this.cacheClipPathObject = obj;    \n    if (obj.type === 'path') {\n      this.cacheClipPath = new PathParser(obj.value.trim())\n      this.cacheClipPathWidth = this.json.width.value;\n      this.cacheClipPathHeight = this.json.height.value;\n    }\n  }\n\n  setCache() {\n    super.setCache();\n\n    this.setClipPathCache();\n  }\n\n  get clipPathString() {\n\n    if (!this.cacheClipPath) {\n      this.setClipPathCache();\n    }\n\n    if (this.cacheClipPath) {\n      return this.cacheClipPath.clone().scale(this.json.width.value / this.cacheClipPathWidth, this.json.height.value / this.cacheClipPathHeight).d;\n    }\n\n  }\n\n}\n","import { DomModel } from \"./DomModel\";\nimport icon from \"el/editor/icon/icon\";\n\nexport class LayerModel extends DomModel {\n\n  static getIcon () {\n    return icon.rect;\n  }\n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: \"layer\",\n      name: \"New Layer\",\n      tagName: 'div',\n      ...obj\n    });\n  }\n\n  getDefaultTitle() {\n    return \"Layer\";\n  } \n\n  getIcon() {\n    return icon.rect;\n  }\n\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('tagName'),\n    }\n  }\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport icon from \"el/editor/icon/icon\";\nimport { LayerModel } from \"el/editor/model/LayerModel\";\n\nexport class ArtBoard extends LayerModel {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: \"artboard\",\n      name: \"New ArtBoard\",\n      width: Length.px(1000),\n      height: Length.px(1000),\n      'background-color': 'white',\n      'transform-style': 'flat',\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('name'),\n    }\n  }  \n\n  getDefaultTitle() {\n    return \"ArtBoard\";\n  }\n\n  getIcon() {\n    return icon.artboard;\n  }\n\n  editable(editablePropertyName) {\n\n    switch (editablePropertyName) {\n    case 'border':\n    case 'border-radius':\n    case 'backdrop-filter':\n    case 'box-shadow':\n    case 'clip-path':\n      return false;\n    case 'artboard-size':\n    case 'layout':\n      return true;\n    }\n\n    return super.editable(editablePropertyName);\n  }\n\n\n}","\nimport icon from \"el/editor/icon/icon\";\nimport { LayerModel } from \"el/editor/model/LayerModel\";\n\n\nexport class CircleLayer extends LayerModel {\n\n  getIcon () {\n    return icon.lens;\n  }  \n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'circle',\n      name: 'New Circle',      \n      'border-radius': '100%',\n      ...obj\n    });\n  }\n\n  getDefaultTitle() {\n    return \"Circle\";\n  } \n}","import icon from \"el/editor/icon/icon\";\nimport { LayerModel } from \"el/editor/model/LayerModel\";\n\nexport class ImageLayer extends LayerModel {\n\n  getIcon () {\n    return icon.image;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'image',\n      name: \"New Image\",\n      elementType: 'image',\n      src: '',\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n  getDefaultTitle() {\n    return \"Image\";\n  }\n\n  getIcon() {\n    return icon.image;\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('src'),\n    }\n  }\n\n  resize() {\n    this.reset({\n      width: this.json.naturalWidth.clone(),\n      height: this.json.naturalHeight.clone()\n    })\n\n  }\n}","import icon from \"el/editor/icon/icon\";\nimport { LayerModel } from \"el/editor/model/LayerModel\";\n\nexport class RectLayer extends LayerModel {\n\n  getIcon () {\n    return icon.rect;\n  }  \n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'rect',\n      name: 'New Rect',\n      ...obj\n    });\n  }\n\n  getDefaultTitle() {\n    return \"Rect\";\n  } \n\n\n}","import { LayerModel } from \"el/editor/model/LayerModel\";\n\n\nconst expectedProperties = [\n  'appearance',\n  'border',\n  'border-radius',\n  'background-image',\n  'backdrop-filter',\n  'clip-path',\n  'pattern',\n  'box-shadow',\n  'layout',\n  // 'transform',\n  'transform-origin',\n  'perspective',\n  'perspective-origin',\n  'backdrop-filter',\n]\n\nconst expectedPropertiesKeys = {}\n\nexpectedProperties.forEach(key => {\n  expectedPropertiesKeys[key] = true\n})\n\nexport class SVGItem extends LayerModel {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg',\n      name: \"New SVG\",\n      elementType: 'svg',\n      overflow: 'visible',         \n      stroke: 'black',\n      'stroke-width': 1,\n      'svgfilter': '',\n      fill: 'transparent',\n      'fill-rule': '',\n      'fill-opacity': '',\n      'stroke-linecap': '',\n      'stroke-linejoin': '',      \n      'stroke-dashoffset': 0, \n      'stroke-dasharray': ' ',\n      'text-anchor': 'start',\n      ...obj\n    });\n  }\n\n  editable(editablePropertyName) {\n\n    if (expectedPropertiesKeys[editablePropertyName]) {\n      return false;\n    }\n\n    switch(editablePropertyName) {\n    case 'svg-item':\n      return true; \n    }\n\n    return super.editable(editablePropertyName);\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'overflow',\n        'stroke',\n        'stroke-width',\n        'svgfilter',\n        'fill',\n        'fill-rule',\n        'fill-opacity',\n        'stroke-linecap',\n        'stroke-linejoin',\n        'stroke-dashoffset',\n        'stroke-dasharray',\n        'text-anchor',\n      )\n\n    }\n  }\n\n  getDefaultTitle() {\n    return \"SVG\";\n  }\n\n  isSVG() {\n    return true; \n  }\n}\n","import PathParser from \"el/editor/parser/PathParser\";\nimport icon from \"el/editor/icon/icon\";\nimport { SVGItem } from \"./SVGItem\";\nimport { vec3 } from \"gl-matrix\";\n\n\nexport class SVGPathItem extends SVGItem {\n\n  getIcon () {\n    return icon.edit;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg-path',\n      name: \"New Path\",   \n      'stroke-width': 1,\n      d: '',        //       segments  . \n      totalLength: 0,\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n  refreshMatrixCache() {\n    super.refreshMatrixCache();\n\n    if (this.hasChangedField('d')) {\n      this.cachePath = new PathParser(this.json.d);\n      this.cacheWidth = this.json.width.value;\n      this.cacheHeight = this.json.height.value;\n    } else if (this.hasChangedField('width', 'height')) {\n      this.json.d = this.cachePath.clone().scale(this.json.width.value/this.cacheWidth, this.json.height.value/this.cacheHeight).d;\n      this.modelManager.setChanged('reset', this.id, { d : this.json.d });\n    }\n  }\n\n  setCache () {\n    super.setCache();\n\n    this.cachePath = new PathParser(this.json.d);\n    this.cacheWidth = this.json.width.value;\n    this.cacheHeight = this.json.height.value;    \n  }\n\n  get d() {\n\n    if (!this.json.d) {\n      return null;\n    }\n\n    if (!this.cachePath) {\n      this.cachePath = new PathParser(this.json.d);\n      this.cacheWidth = this.json.width.value;\n      this.cacheHeight = this.json.height.value;          \n    }\n\n    return this.cachePath.clone().scale(this.json.width.value/this.cacheWidth, this.json.height.value/this.cacheHeight).d;\n  }\n \n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      d: this.json.d\n    }\n  }\n\n  getDefaultTitle() {\n    return \"Path\";\n  }\n\n  isPointInPath (point) {\n\n    const localPoint = vec3.transformMat4([], point, this.accumulatedMatrixInverse);\n\n    return this.cachePath.isPointInPath({ x: localPoint[0], y: localPoint[1] }, this.json['stroke-width'] || 0);\n  }\n\n  /**\n   * \n   * @param {number} x \n   * @param {number} y \n   * @returns \n   */\n  hasPoint (x, y) {\n\n    if (this.json['stroke-width']) {\n      return this.isPointInPath([x, y, 0]);\n    }\n    // fill=transparent    .\n    // stroke   \n    // fill=transparent   \n    // fill    \n\n    return super.hasPoint(x, y); \n  }\n\n}","import { SVGItem } from \"./SVGItem\";\nimport { hasSVGProperty, hasCSSProperty} from \"el/editor/util/Resource\";\nimport { Length } from \"el/editor/unit/Length\";\nimport icon from \"el/editor/icon/icon\";\n\nexport class SVGTextItem extends SVGItem {\n\n  getIcon () {\n    return icon.title;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg-text',\n      name: \"New Text\",   \n      totalLength: 0,\n      fill: 'rgba(0, 0, 0, 1)',\n      text: 'Insert a text', \n      'font-weight': Length.number(100),\n      textLength: Length.em(0),\n      lengthAdjust: 'spacingAndGlyphs',      \n      'shape-inside': '',\n      'shape-subtract': '',\n      'shape-margin': '',\n      'shape-padding': '',\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n  convert(json) {\n    json = super.convert(json);\n\n    json.textLength = Length.parse(json.textLength);\n\n    return json;\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'totalLength',\n        'text', \n        'textLength',\n        'lengthAdjust',      \n        'shape-inside'\n      )\n    }\n  }\n\n  getDefaultTitle() {\n    return \"Text\";\n  }\n}","import PathParser from \"el/editor/parser/PathParser\";\nimport { SVGItem } from \"./SVGItem\";\nimport { hasSVGProperty, hasCSSProperty, hasSVGPathProperty } from \"el/editor/util/Resource\";\nimport { Length } from \"el/editor/unit/Length\";\nimport icon from \"el/editor/icon/icon\";\n\nexport class SVGTextPathItem extends SVGItem {\n\n  getIcon () {\n    return icon.text_rotate;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg-textpath',\n      name: \"New TextPath\",   \n      d: '',\n      // segments: [],\n      totalLength: 0,\n      fill: 'rgba(0, 0, 0, 1)',\n      text: 'Insert a text', \n      textLength: Length.em(0),\n      lengthAdjust: 'spacingAndGlyphs',\n      startOffset: Length.em(0),\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n \n  refreshMatrixCache() {\n    super.refreshMatrixCache();\n\n    if (this.hasChangedField('d')) {\n      this.cachePath = new PathParser(this.json.d);\n      this.cacheWidth = this.json.width.value;\n      this.cacheHeight = this.json.height.value;      \n    } else if (this.hasChangedField('width', 'height')) {\n      this.json.d = this.cachePath.clone().scale(this.json.width.value/this.cacheWidth, this.json.height.value/this.cacheHeight).d;\n      this.modelManager.setChanged('reset', this.id, { d: this.json.d })\n    }\n  }\n\n\n\n  get d() {\n\n    if (!this.json.d) {\n      return null;\n    }\n    \n    if (!this.cachePath) {\n      this.cachePath = new PathParser(this.json.d);\n      this.cacheWidth = this.json.width.value;\n      this.cacheHeight = this.json.height.value;          \n    }\n\n    return this.cachePath.clone().scale(this.json.width.value/this.cacheWidth, this.json.height.value/this.cacheHeight).d;\n  }  \n\n  convert(json) {\n    json = super.convert(json);\n\n    json.textLength = Length.parse(json.textLength);\n    json.startOffset = Length.parse(json.startOffset);\n\n    return json;\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'totalLength',\n        'd',\n        'text', \n        'textLength',\n        'lengthAdjust',\n        'startOffset'        \n      )\n    }\n  }\n\n  getDefaultTitle() {\n    return \"TextPath\";\n  }\n\n}","import { LayerModel } from \"./LayerModel\";\nimport icon from \"../icon/icon\";\n\n\n/**\n * Complex Component with children \n */\nexport class Component extends LayerModel {\n\n    is(...itemType) {\n        if (itemType.includes('component')) {\n            return true;\n        }\n\n        return super.is(...itemType)\n    }\n\n    getProps() {\n        return []\n    }\n\n    static createComponent({ iconString, title = 'Unknown Title', attrs = {}, enableHasChildren = false}) {\n        return class extends Component {\n\n            getIcon() {\n                return iconString || iconUse(\"add\");\n            }\n\n            getDefaultObject() {\n                return super.getDefaultObject({\n                    itemType: 'NewComponent',\n                    name: \"New Component\",\n                    ...attrs\n                });\n            }\n\n            toCloneObject() {\n\n                return {\n                    ...super.toCloneObject(),\n                    ...this.attrs(...Object.keys(attrs)),\n                }\n            }\n\n            enableHasChildren() {\n                return enableHasChildren || false;\n            }\n\n            getDefaultTitle() {\n                return title;\n            }\n\n        }\n    }\n}","import icon from \"el/editor/icon/icon\";\nimport { Component } from 'el/editor/model/Component';\n\n\nconst DEFAULT_TEMPLATE = `\n  <svg>\n    <rect width=\"100%\" height=\"100%\" fill=\"black\" />\n  </svg>\n`\n\nexport class TemplateLayer extends Component {\n\n  getIcon () {\n    return icon.auto_awesome;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'template',\n      name: \"New Template\",\n      engine: 'dom',\n      template: DEFAULT_TEMPLATE,\n      params: [],\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n  getDefaultTitle() {\n    return \"Template\";\n  }\n\n  getIcon() {\n    return icon.auto_awesome;\n  }\n\n\n  editable(editablePropertyName) {\n\n    switch (editablePropertyName) {\n      case \"font\":\n        return true;\n    }\n\n    return super.editable(editablePropertyName);\n  }  \n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('template'),\n    }\n  }\n\n}","\nimport icon from \"el/editor/icon/icon\";\nimport { LayerModel } from \"el/editor/model/LayerModel\";\n\nexport class TextLayer extends LayerModel {\n\n  getIcon () {\n    return icon.title;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'text',\n      name: \"New Text\",\n      elementType: 'p',\n      content: '',\n      ...obj\n    });\n  }\n  enableHasChildren() {\n    return false; \n  }\n\n  getDefaultTitle() {\n    return \"Text\";\n  } \n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('content'),\n    }\n  }\n\n\n  editable(editablePropertyName) {\n\n    switch (editablePropertyName) {\n      case \"font\":\n      case \"font-spacing\":\n      case \"text-style\":\n      case \"text-shadow\":\n      case \"text-fill\":\n      case 'text-clip':\n      case 'background-image':\n      case 'box-model':\n        return true;\n      case 'svg-item':\n      case 'border':\n      case 'border-radius':\n      case 'backdrop-filter':\n      case 'background-image':\n      case 'pattern':\n      case 'box-shadow':\n      case 'transform':\n      case 'transform-origin':\n      case 'perspective':\n      case 'perspective-origin':\n        return false;\n    }\n\n    return super.editable(editablePropertyName);\n  }\n}","import en_US from \"./en_US\";\nimport ko_KR from \"./ko_KR\";\nimport fr_FR from \"./fr_FR\";\n\nexport default {\n    en_US,\n    fr_FR,\n    ko_KR\n}","export default {\n\n    'app.title': 'EASYLOGIC',\n    'app.sample': (a, b, c) => {\n        return `${a}-${b}-${c}`\n    },\n    'app.lang.en_US': 'English',\n    'app.lang.ko_KR': '',\n    'app.lang.fr_FR': 'Franais',\n    'app.label.lang': 'Language',\n\n    'app.layout.all': 'All',\n    'app.layout.css': 'CSS',\n    'app.layout.svg': 'SVG',\n    'app.label.layout': 'Menu Layout',\n\n\n    'app.theme.dark': 'Dark',\n    'app.theme.light': 'Light',\n    'app.theme.toon': 'Toon',\n    'app.theme.gray': 'Gray',\n    'app.label.theme': 'Theme',    \n\n\n    'app.tab.title.projects': 'Projects',\n    'app.tab.title.layers': 'Layers',\n    'app.tab.title.libraries': 'Library',\n    'app.tab.title.components': 'Component',\n    'app.tab.title.artboards': 'Artboard',    \n    'app.tab.title.assets': 'Assets',       \n    'app.tab.title.keyMap': 'KeyMap',       \n    \n    'app.confirm.message.artboard.items.removeArtboard' : 'Do you remove an artboard preview really?',\n    'app.confirm.message.custom-component.items.removeCustomComponent' : 'Do you remove a custom component preview really?',\n\n    'menu.item.download.title': 'Source',\n    'menu.item.save.title': 'Save',\n    'menu.item.export.title': 'Export',\n    'menu.item.codepen.title': 'CodePen',\n    'menu.item.fullscreen.title': 'Full Screen',\n    'menu.item.shortcuts.title': 'ShortCuts',\n    'menu.item.github.title': 'Github',\n    'menu.item.learn.title': 'Learn',       \n    'menu.item.projects.title': 'Projects',\n\n    'project.property.title' : 'Project',\n    'project.information.property.title': 'Project information',   \n    'project.information.property.name': 'Name',    \n    'project.information.property.description': 'Description',    \n\n    'artboard.property.title': 'ArtBoards',   \n    'artboard.property.layout.title.flex': 'Flex',\n    'artboard.property.layout.title.grid': 'Grid',\n\n    'layer.tree.property.title': 'Layers',\n    'layer.tree.property.layout.title.flex': 'Flex',\n    'layer.tree.property.layout.title.grid': 'Grid',     \n\n    'alignment.property.title': 'Alignment',\n    'position.property.title': 'Position',\n    'position.property.X': 'X',\n    'position.property.Y': 'Y',\n    'size.property.title': 'Size',\n    'position.property.width': 'W',\n    'position.property.height': 'H',\n    'position.property.opacity': 'Opacity',\n    'position.property.rotate': 'Rotate',        \n\n    'background.color.property.title': 'Appearance',\n    'background.color.property.color': 'Color',\n    'background.color.property.zindex': 'z-index',    \n    'background.color.property.blend': 'Blend',\n    'background.color.property.overflow': 'Overflow',\n    'background.color.property.overflow.visible': 'Visible',\n    'background.color.property.overflow.hidden': 'Hidden',\n    'background.color.property.overflow.scroll': 'Scroll',\n    'background.color.property.overflow.auto': 'Auto',\n\n    'blend.normal': 'normal',\n    'blend.multiply': 'multiply',\n    'blend.screen': 'screen',\n    'blend.overlay': 'overlay',\n    'blend.darken': 'darken',\n    'blend.lighten': 'lighten',\n    'blend.color-dodge': 'color-dodge',\n    'blend.color-burn': 'color-burn',\n    'blend.hard-light': 'hard-light',\n    'blend.soft-light': 'soft-light',\n    'blend.difference': 'difference',\n    'blend.exclusion': 'exclusion',\n    'blend.hue': 'hue',\n    'blend.saturation': 'saturation',\n    'blend.color': 'color',\n    'blend.luminosity': 'luminosity',\n\n    'background.image.property.title': 'Fill',\n\n    'border.property.title': 'Border',    \n    'border.radius.property.title': 'Border Radius',    \n    'boxshadow.property.title': 'Box Shadows',    \n\n    'filter.property.title': 'Filter',\n    'filter.property.blur': 'Blur',\n    'filter.property.grayscale': 'GrayScale',\n    'filter.property.hue-rotate': 'Hue Rotate',\n    'filter.property.invert': 'Invert',\n    'filter.property.brightness': 'Brightness',\n    'filter.property.contrast': 'Contrast',\n    'filter.property.drop-shadow': 'Drop Shadow',\n    'filter.property.drop-shadow.color': 'Color',\n    'filter.property.drop-shadow.offsetX': 'Offset X',\n    'filter.property.drop-shadow.offsetY': 'Offset Y',\n    'filter.property.drop-shadow.blurRadius': 'Blur',\n    'filter.property.opacity': 'Opacity',\n    'filter.property.saturate': 'Saturate',\n    'filter.property.sepia': 'Sepia',\n    'filter.property.svg': 'SVG',\n\n    'font.property.title': 'Font',\n    'font.property.color': 'Color',\n    'font.property.size': 'Size',\n    'font.property.stretch': 'Stretch',\n    'font.property.weight': 'Weight',\n    'font.property.style': 'Style',\n    'font.property.family': 'Family',\n\n    'font.spacing.property.title': 'Font spacing',\n    'font.spacing.property.lineHeight': 'Line height',\n    'font.spacing.property.letterSpacing': 'Letter spacing',\n    'font.spacing.property.wordSpacing': 'Word spacing',\n    'font.spacing.property.indent': 'Indent',\n\n    'backdrop.filter.property.title': 'Backdrop Filter',        \n    'clippath.property.title': 'Clip Path',\n\n    'export.property.title': 'Export',    \n    'export.property.download': 'Download',    \n\n    'iframe.property.title': 'IFrame',\n\n    'image.property.title': 'Image',\n    'image.property.origin': 'Origin',    \n    'image.property.size': 'Size',    \n    'image.property.width': 'Width',    \n    'image.property.height': 'height',    \n\n    'video.property.title': 'Video',\n    'video.property.play': 'Play',    \n    'video.property.pause': 'Pause',    \n    'video.property.volume': 'Volume',    \n    'video.property.playbackRate': 'Playback Rate',        \n    'video.property.currentTime': 'Current Time',  \n    'video.property.playTime': 'Play Time Distance',               \n\n    'motion.property.title': 'Motion',\n\n    'text.property.title': 'Text Style',\n    'text.property.align': 'Align',\n    'text.property.transform': 'Transform',\n    'text.property.decoration': 'Decoration',\n\n    'text.clip.property.title': 'Text Clip',    \n\n    'text.shadow.property.title': 'Text Shadows',\n    \n    'text.fill.property.title':  'Text Fill',\n    'text.fill.property.fill':  'Fill',\n    'text.fill.property.stroke':  'Stroke',\n    'text.fill.property.strokeWidth':  'Width',\n\n    \n\n    'transform.property.title': 'Transform',\n    'transform.origin.property.title': 'Transform Origin',    \n\n    'transition.property.title': 'CSS Transition',\n\n    'keyframe.property.title': 'CSS Keyframe',      \n    'selector.property.title': 'Selector',\n    'selector.property.none': 'None selector',    \n\n    'path.data.property.title': 'Path Information',\n    'polygon.data.property.title': 'Polygon Information',    \n\n    'perspective.property.title': 'Perspective',            \n    'perspective.origin.property.title': 'Perspective Origin',       \n\n\n    'svg.item.property.title': 'Appearance',\n    'svg.item.property.isMotionPath': 'Motion Path',    \n    'svg.item.property.fill': 'Fill',\n    'svg.item.property.fillOpacity': 'Opacity',\n    'svg.item.property.path': 'Path',\n    'svg.item.property.polygon': 'Polygon',\n    'svg.item.property.totalLength': 'Total Length',\n    'svg.item.property.fillRule': 'Fill Rule',\n    'svg.item.property.stroke': 'Stroke',\n    'svg.item.property.strokeWidth': 'Width',\n    'svg.item.property.dashArray': 'Dash Array',\n    'svg.item.property.dashOffset': 'Dash Offset',\n    'svg.item.property.lineCap': 'Line Cap',\n    'svg.item.property.lineJoin': 'Line Join',\n    'svg.item.property.filter': 'Filter',\n\n\n    'border.editor.all': 'All',     \n    'border.editor.width': 'Width',        \n    'border.editor.style': 'Style',        \n    'border.editor.color': 'C',                  \n    'border.editor.top': 'Top',        \n    'border.editor.left': 'Left',        \n    'border.editor.right': 'Right',        \n    'border.editor.bottom': 'Bottom',     \n\n    'border.radius.editor.topLeft': 'Top Left',\n    'border.radius.editor.topRight': 'Top Right',\n    'border.radius.editor.bottomLeft': 'Bottom Left',\n    'border.radius.editor.bottomRight': 'Bottom Right',\n\n    'boxshadow.editor.blur': 'Blur',\n    'boxshadow.editor.spread': 'Spread',\n\n    'css.property.editor.properties': 'Properties',\n\n    'offset.path.list.editor.path': 'Path',\n    'offset.path.list.editor.totalLength': 'Total Length',\n    'offset.path.list.editor.distance': 'Distance',\n    'offset.path.list.editor.direction': 'Direction',\n    'offset.path.list.editor.rotate': 'Rotate',\n    \n    'svgfilter.select.editor.message.create': 'Create new svg filter',\n    'svgfilter.select.editor.message.select': 'Select a filter',\n\n    'fill.editor.message.click.image': 'Click the preview area if you want to select a image',\n    'fill.editor.message.drag.position': 'Drag if you want to move center position',\n    'fill.editor.x1': 'Start X',\n    'fill.editor.x2': 'End X',\n    'fill.editor.y1': 'Start Y',\n    'fill.editor.y2': 'End Y',\n    'fill.editor.spread': 'Spread',    \n    'fill.editor.offset': 'Offset',    \n    'fill.editor.cx': 'Center X',\n    'fill.editor.cy': 'Center Y',    \n    'fill.editor.r': 'End radius',\n    'fill.editor.fx': 'Start X',\n    'fill.editor.fy': 'Start Y',\n    'fill.editor.fr': 'Start radius',\n\n    'perspective.origin.editor.originX': 'Origin X',\n    'perspective.origin.editor.originY': 'Origin Y',\n\n    'path.manager.msg':  'Keydown ESC or Enter key to close editing',\n    'path.manager.mode.done': 'Done',\n    'path.manager.mode.modify': 'Modify',\n    'path.manager.mode.path': 'Path',\n    'path.manager.mode.transform': 'Transform',  \n    'path.manager.mode.reverse': 'Reverse',               \n    'path.manager.mode.flipX': 'Flip X',    \n    'path.manager.mode.flipY': 'Flip Y',    \n    'path.manager.mode.flipOrigin': 'Flip Origin',    \n\n    'colorpicker.popup.title': 'ColorPicker',    \n\n    'selector.popup.title': 'Selector Property',\n    'selector.popup.selector': 'Selector',    \n\n    'background.image.position.popup.title': 'Background Pattern',\n    'background.image.position.popup.size': 'Size',\n    'background.image.position.popup.width': 'Width',\n    'background.image.position.popup.height': 'Height',\n    'background.image.position.popup.repeat': 'Repeat',\n    'background.image.position.popup.blend': 'Blend',    \n    'background.image.position.popup.type.repeat': 'repeat',\n    'background.image.position.popup.type.no-repeat': 'no repeat',\n    'background.image.position.popup.type.repeat-x': 'repeat-x', \n    'background.image.position.popup.type.repeat-y': 'repeat-y', \n    'background.image.position.popup.type.space': 'space', \n    'background.image.position.popup.type.round': 'round',     \n\n    'gradient.picker.popup.title': 'Gradient & Image Picker',    \n    'image.asset.property.title': 'Image',\n    'video.asset.property.title': 'Video',    \n    'color.asset.property.title': 'Color',\n    'gradient.asset.property.title': 'Gradient',\n    'pattern.asset.property.title': 'Pattern',\n    'svgfilter.asset.property.title': 'SVG Filter',\n\n\n    'inspector.tab.title.style': 'Style',\n    'inspector.tab.title.component': 'Component',\n    'inspector.tab.title.transition': 'Animation',\n    'inspector.tab.title.asset': 'Assets',\n    'inspector.tab.title.text': 'Text',\n    'inspector.tab.title.code': 'Code',\n    'inspector.tab.title.history': 'History',\n\n\n    'timeline.property.title': 'Timeline',\n    'timeline.property.resize': 'Drag if you want to resize timeline height.',    \n    'timeline.animation.property.title': 'Animations',    \n\n    'timeline.play.control.play': 'Play',\n    'timeline.play.control.pause': 'Pause',\n    'timeline.play.control.first': 'First',\n    'timeline.play.control.prev': 'Previous',\n    'timeline.play.control.next': 'Next',\n    'timeline.play.control.last': 'Last',\n    'timeline.play.control.direction': 'Direction',\n    'timeline.play.control.speed': 'Speed',\n    'timeline.play.control.repeat': 'Repeat',\n    'timeline.play.control.infinite': 'Infinite',\n    'timeline.play.control.normal': 'normal',\n    'timeline.play.control.alternate': 'alternate',\n    'timeline.play.control.reverse': 'reverse',\n    'timeline.play.control.alternate.reverse': 'alternate reverse',\n\n    'timeline.value.editor.value': 'Value',\n    'timeline.value.editor.time': 'Time',    \n    'timeline.value.editor.timing': 'Timing',\n    'timeline.value.editor.offset.message': 'Please input enter key to change time offset.',    \n\n    'svgfilter.popup.title': 'SVG Filter',\n\n\n    'css.item.rotate': 'Rotate',\n    'css.item.rotateX': 'Rotate X',\n    'css.item.rotateY': 'Rotate Y',\n    'css.item.rotateZ': 'Rotate Z',\n    'css.item.rotate3d': '3D Rotate',    \n    'css.item.skewX': 'Skew X',    \n    'css.item.skewY': 'Skew Y',   \n    'css.item.translate': 'Translate',\n    'css.item.translateX': 'Translate X',  \n    'css.item.translateY': 'Translate Y',\n    'css.item.translateZ': 'Translate Z',\n    'css.item.translate3d': '3D Translate',\n    'css.item.perspective': 'Perspective',    \n    'css.item.scale': 'Scale',\n    'css.item.scaleX': 'Scale X',\n    'css.item.scaleY': 'Scale Y',\n    'css.item.scaleZ': 'Scale Z',\n    'css.item.scale3d': '3D Scale',\n    'css.item.matrix': 'Matrix',\n    'css.item.matrix3d': '3D Matrix',  \n\n    'animation.property.title': 'CSS Animation',  \n    'animation.property.direction': 'Direction',\n    'animation.property.play.state': 'Play State',\n    'animation.property.fill.mode': 'Fill Mode',\n    'animation.property.delay': 'Delay',\n    'animation.property.duration': 'Duration',\n    'animation.property.iteration.count': 'Iteration Count',\n    'animation.property.Select a keyframe' : 'Select a keyframe',        \n\n    'animation.property.popup.title': 'Animation',\n    'animation.property.popup.timing.function': 'Timing Function',\n    'animation.property.popup.keyframe': 'Keyframe',\n    'animation.property.popup.direction': 'Direction',\n    'animation.property.popup.play.state': 'Play State',\n    'animation.property.popup.fill.mode': 'Fill Mode',\n    'animation.property.popup.delay': 'Delay',\n    'animation.property.popup.duration': 'Duration',\n    'animation.property.popup.iteration': 'Iteration',\n    'animation.property.popup.normal': 'normal',\n    'animation.property.popup.reverse': 'reverse',\n    'animation.property.popup.alternate': 'alternate',\n    'animation.property.popup.alternate-reverse': 'alternate-reverse',\n    'animation.property.popup.none': 'none',\n    'animation.property.popup.forwards': 'forwards',\n    'animation.property.popup.backwards': 'backwards',\n    'animation.property.popup.both' : 'both',\n    'animation.property.popup.Select a keyframe' : 'Select a keyframe',        \n\n    'keyframe.popup.title': 'Keyframe',\n    \n    'code.view.property.title': 'CodeView',\n\n    'svg.filter.editor.tab.filter': 'Filter',\n    'svg.filter.editor.tab.preset': 'Preset',\n    'svg.filter.editor.tab.asset': 'Assets',\n    'svg.filter.editor.GRAPHIC REFERENCES': 'GRAPHIC REFERENCES',\n    'svg.filter.editor.SOURCES': 'SOURCES',\n    'svg.filter.editor.MODIFIER': 'MODIFIER',\n    'svg.filter.editor.LIGHTING': 'LIGHTING',\n    'svg.filter.editor.COMBINERS': 'COMBINERS',\n    'svg.filter.editor.Template': 'Template',\n\n    'layout.property.title': 'Layout',\n    'layout.property.flex': 'Flex Box',\n    'layout.property.grid': 'Grid',\n    'layout.property.default': 'Default',\n\n    'flex.layout.editor.row': 'Row',\n    'flex.layout.editor.column': 'column',\n    'flex.layout.editor.row-reverse': 'Row Reverse',\n    'flex.layout.editor.column-reverse': 'Column Reverse',\n    'flex.layout.editor.nowrap': 'Nowrap',    \n    'flex.layout.editor.wrap': 'Wrap',    \n    'flex.layout.editor.wrap-reverse': 'Wrap Reverse',       \n    'flex.layout.editor.flex-start': 'Start',       \n    'flex.layout.editor.flex-end': 'End',       \n    'flex.layout.editor.center': 'Center',        \n    'flex.layout.editor.space-between': 'Between',       \n    'flex.layout.editor.space-around': 'Around',      \n    'flex.layout.editor.baseline': 'BaseLine',      \n    'flex.layout.editor.stretch': 'Stretch',\n    'flex.layout.editor.direction': 'Direction',\n    'flex.layout.editor.justify-content': 'Justify Content',\n    'flex.layout.editor.align-items': 'Align Items',\n    'flex.layout.editor.align-content': 'Align Content',    \n\n    'flex.layout.item.property.title': 'Layout Item Detail',\n    'flex.layout.item.property.grow': 'Flex Grow',\n    'flex.layout.item.property.shrink': 'Flex Shrink',\n    'flex.layout.item.property.basis': 'Flex Basis',\n    'flex.layout.item.property.none': 'none',\n    'flex.layout.item.property.auto': 'auto',\n    'flex.layout.item.property.value': 'value',    \n\n    'grid.layout.editor.template.columns': 'Columns',\n    'grid.layout.editor.column.gap': 'Column Gap',\n    'grid.layout.editor.template.rows': 'Rows',\n    'grid.layout.editor.row.gap': 'Row Gap',\n\n    'grid.box.editor.box.title': 'Box',\n    'grid.box.editor.type': 'Type',\n    'grid.box.editor.repeat': 'Repeat',\n    'grid.box.editor.length': 'Length',\n    'grid.box.editor.none': 'None',\n    'grid.box.editor.auto': 'Auto',   \n    'grid.box.editor.count': 'Count',\n    'grid.box.editor.value': 'Size',\n\n\n    'grid.layout.item.property.title': 'Layout Item Detail',\n    'grid.layout.item.property.column': 'Column',\n    'grid.layout.item.property.row': 'Row',\n    'grid.layout.item.property.start': 'Start',\n    'grid.layout.item.property.end': 'End',\n    'grid.layout.item.property.none': 'none',\n    'grid.layout.item.property.value': 'value',        \n\n    'box.model.property.title': 'Box Model',\n    'box.model.property.margin': 'Margin',\n    'box.model.property.padding': 'Padding',\n\n    'component.items.canvas': 'Canvas',\n    'component.items.layer': 'Layer',\n    'component.items.3dlayer': '3D Layer',\n    'component.items.drawing': 'Drawing',\n    'component.items.custom': 'Custom Component',  \n    'component.items.chart': 'Chart',        \n    'component.items.plugin': 'Plugin',            \n\n    'svg.text.property.title': \"SVG Text Style\",\n    'svg.text.property.textarea': \"Text Area\",\n    'svg.text.property.size': \"Font Size\",\n    'svg.text.property.weight': \"Font Weight\",\n    'svg.text.property.style': \"Font Style\",\n    'svg.text.property.anchor': \"Text Anchor\",\n    'svg.text.property.family': \"Font Family\",\n    'svg.text.property.length.adjust': \"Length Adjust\",\n    'svg.text.property.text.length': \"Text Length\",\n    'svg.text.property.start.offset': \"Start Offset\",\n\n    'fill.picker.popup.title': 'SVG Fragment picker',\n\n    'gradient.editor.drag.message': 'Drag if you want to move center pointer.',\n\n    'draw.manager.tolerance': 'Tolerance',\n\n    'pattern.property.title': 'Pattern',\n\n    'pattern.info.popup.title': 'Pattern Info',\n    'pattern.info.popup.width': 'Width',\n    'pattern.info.popup.height': 'Height',\n    'pattern.info.popup.lineWidth': 'Line Width',\n    'pattern.info.popup.lineHeight': 'Line Height',\n    'pattern.info.popup.rotate': 'Rotate',\n    'pattern.info.popup.blend': 'Blend Mode',\n    'pattern.info.popup.foreColor': 'Fore',    \n    'pattern.info.popup.backColor': 'Back',      \n    \n    'stroke.dasharray.editor.add': 'Add Dash',\n\n    'viewport.panning.enable': 'You can move the area by holding down space key and dragging the screen.',    \n}","export default {\n\n    'app.title': 'EASYLOGIC',\n    'app.sample': (a, b, c) => {\n        return `${a}-${b}-${c}`\n    },\n    'app.lang.en_US': 'English',\n    'app.lang.ko_KR': '',\n    'app.lang.fr_FR': 'Franais',\n    'app.label.lang': 'Langue',\n\n    'app.layout.all': 'All',\n    'app.layout.css': 'CSS',\n    'app.layout.svg': 'SVG',\n    'app.label.layout': 'Menu Layout',\n\n    'app.theme.dark': 'Sombre',\n    'app.theme.light': 'Clair',\n    'app.theme.gray': 'Gris',\n    'app.label.theme': 'Thme',    \n\n\n    'app.tab.title.projects': 'Projets',\n    'app.tab.title.layers': 'Objets',\n    'app.tab.title.libraries': 'Librarie',\n    'app.tab.title.components': 'Objet',\n    'app.tab.title.artboards': 'Artboard',        \n    'app.tab.title.assets': 'Elements',       \n    'app.tab.title.keyMap': 'Clavier',        \n    \n    'app.confirm.message.artboard.items.removeArtboard' : 'Do you remove an artboard preview really?',    \n    'app.confirm.message.custom-component.items.removeCustomComponent' : 'Do you remove a custom component preview really?',    \n\n    'menu.item.download.title': 'Tlcharger',\n    'menu.item.save.title': 'Enregistrer',\n    'menu.item.export.title': 'Exporter',\n    'menu.item.codepen.title': 'CodePen',\n    'menu.item.fullscreen.title': 'Ecran',\n    'menu.item.shortcuts.title': 'ShortCuts',    \n    'menu.item.github.title': 'Github',\n    'menu.item.learn.title': 'Docs',     \n    'menu.item.projects.title': 'Projects',  \n\n    'project.property.title' : 'Projet',\n    'project.information.property.title': 'Information',   \n    'project.information.property.name': 'Nom',    \n    'project.information.property.description': 'Description',    \n\n    'artboard.property.title': 'Planche',   \n    'artboard.property.layout.title.flex': 'Flex',\n    'artboard.property.layout.title.grid': 'Grille',\n\n    'layer.tree.property.title': 'Objets',\n    'layer.tree.property.layout.title.flex': 'Flex',\n    'layer.tree.property.layout.title.grid': 'Grille',     \n\n    'alignment.property.title': 'Alignment',\n    'position.property.title': 'Position',\n    'position.property.X': 'X',\n    'position.property.Y': 'Y',\n    'size.property.title': 'Taille',\n    'position.property.width': 'Largeur',\n    'position.property.height': 'Hauteur',\n    'position.property.opacity': 'Opacity',\n    'position.property.rotate': 'Rotate',            \n\n    'background.color.property.title': 'Apparance',\n    'background.color.property.color': 'Couleur',\n    'background.color.property.zindex': 'z-index',\n    'background.color.property.opacity': 'Opacit',\n    'background.color.property.blend': 'Mlange',\n    'background.color.property.overflow': 'Dbordement',\n    'background.color.property.overflow.visible': 'Visible',\n    'background.color.property.overflow.hidden': 'Cach',\n    'background.color.property.overflow.scroll': 'Scroll',\n    'background.color.property.overflow.auto': 'Auto',\n\n    'blend.normal': 'normal',\n    'blend.multiply': 'multiplie',\n    'blend.screen': 'cran',\n    'blend.overlay': 'couche',\n    'blend.darken': 'sombre',\n    'blend.lighten': 'clair',\n    'blend.color-dodge': 'dodge',\n    'blend.color-burn': 'brul',\n    'blend.hard-light': 'dur',\n    'blend.soft-light': 'doux',\n    'blend.difference': 'diff\"rence',\n    'blend.exclusion': 'exclusion',\n    'blend.hue': 'teinte',\n    'blend.saturation': 'saturation',\n    'blend.color': 'couleur',\n    'blend.luminosity': 'luminosit',\n\n    'background.image.property.title': 'Remplissage',\n\n    'border.property.title': 'Bordure',    \n    'border.radius.property.title': 'Rayon de bordure',    \n    'boxshadow.property.title': 'Ombres',    \n\n    'filter.property.title': 'Filtre',\n    'filter.property.blur': 'Flou',\n    'filter.property.grayscale': 'Echelle de gris',\n    'filter.property.hue-rotate': 'Rotation teinte',\n    'filter.property.invert': 'Invertir',\n    'filter.property.brightness': 'Luminosit',\n    'filter.property.contrast': 'Contraste',\n    'filter.property.drop-shadow': 'Ombre porte',\n    'filter.property.drop-shadow.color': 'Couleur',\n    'filter.property.drop-shadow.offsetX': 'Dcalage X',\n    'filter.property.drop-shadow.offsetY': 'Dcalage Y',\n    'filter.property.drop-shadow.blurRadius': 'Flou',\n    'filter.property.opacity': 'Opacit',\n    'filter.property.saturate': 'Saturation',\n    'filter.property.sepia': 'Spia',\n    'filter.property.svg': 'SVG',\n\n    'font.property.title': 'Police',\n    'font.property.color': 'Couleur',\n    'font.property.size': 'Taille',\n    'font.property.stretch': 'Etirement',\n    'font.property.weight': 'Poids',\n    'font.property.style': 'Style',\n    'font.property.family': 'Famille',\n\n    'font.spacing.property.title': 'Espaces du texte',\n    'font.spacing.property.lineHeight': 'Hauteur de ligne',\n    'font.spacing.property.letterSpacing': 'Espace inter-caractres',\n    'font.spacing.property.wordSpacing': 'Espace inter-mots',\n    'font.spacing.property.indent': 'Identation',\n\n    'backdrop.filter.property.title': 'Filtre Backdrop',        \n    'clippath.property.title': 'Chemin du Clip',\n\n    'export.property.title': 'Exporter',    \n    'export.property.download': 'Tlcharger',    \n\n    'iframe.property.title': 'IFrame',\n\n    'image.property.title': 'Image',\n    'image.property.origin': 'Origine',    \n    'image.property.size': 'Taille',    \n    'image.property.width': 'Largeur',    \n    'image.property.height': 'Hauteur',    \n\n    'video.property.title': 'Video',\n    'video.property.play': 'Jouer',    \n    'video.property.pause': 'Pause',    \n    'video.property.volume': 'Volume',    \n    'video.property.playbackRate': 'Vitesse de lecture',        \n    'video.property.currentTime': 'Temps actuel',  \n    'video.property.playTime': 'Temps de lecture',               \n\n    'motion.property.title': 'Mouvement',\n\n    'text.property.title': 'Style Texte',\n    'text.property.align': 'Alignement',\n    'text.property.transform': 'Transformation',\n    'text.property.decoration': 'Dcoration',\n\n    'text.clip.property.title': 'Clip Texte',    \n\n    'text.shadow.property.title': 'Ombres Texte',\n    \n    'text.fill.property.title':  'Remplissage Texte',\n    'text.fill.property.fill':  'Remplissage',\n    'text.fill.property.stroke':  'Trait',\n    'text.fill.property.strokeWidth':  'Largeur',\n\n    \n\n    'transform.property.title': 'Transformation',\n    'transform.origin.property.title': 'Origine Transformation',    \n\n    'transition.property.title': 'Transition CSS',\n\n    'keyframe.property.title': 'Image cl CSS',      \n    'selector.property.title': 'Slcteur',\n    'selector.property.none': 'Aucun slcteur',    \n\n    'path.data.property.title': 'Information Chemin',\n    'polygon.data.property.title': 'Information Polygone',    \n\n    'perspective.property.title': 'Perspective',            \n    'perspective.origin.property.title': 'Origine Perspective',       \n\n\n    'svg.item.property.title': 'Appearance',\n    'svg.item.property.isMotionPath': 'Chemin de mouvement',    \n    'svg.item.property.fill': 'Remplissage',\n    'svg.item.property.fillOpacity': 'Opacit',\n    'svg.item.property.path': 'Chemin',\n    'svg.item.property.polygon': 'Polygone',\n    'svg.item.property.totalLength': 'Longueur totale',\n    'svg.item.property.fillRule': 'Rgle remplissage',\n    'svg.item.property.stroke': 'Trait',\n    'svg.item.property.strokeWidth': 'Largeur de trait',\n    'svg.item.property.dashArray': 'Suite tiret',\n    'svg.item.property.dashOffset': 'Dcalage tiret',\n    'svg.item.property.lineCap': 'Chapeau Ligne',\n    'svg.item.property.lineJoin': 'Jonction ligne',\n    'svg.item.property.filter': 'Filtre',\n\n\n    'border.editor.all': 'Tout',     \n    'border.editor.width': 'Largeur',        \n    'border.editor.style': 'Style',        \n    'border.editor.color': 'Couleur',                  \n    'border.editor.top': 'Haut',        \n    'border.editor.left': 'Gauche',        \n    'border.editor.right': 'Droite',        \n    'border.editor.bottom': 'Bas',     \n\n    'border.radius.editor.topLeft': 'Haut gauche',\n    'border.radius.editor.topRight': 'Haut droite',\n    'border.radius.editor.bottomLeft': 'Bas gauche',\n    'border.radius.editor.bottomRight': 'Bas droite',\n\n    'boxshadow.editor.blur': 'Flou',\n    'boxshadow.editor.spread': 'Etalement',\n\n    'css.property.editor.properties': 'Proprits',\n\n    'offset.path.list.editor.path': 'Chemin',\n    'offset.path.list.editor.totalLength': 'Longueur totale',\n    'offset.path.list.editor.distance': 'Distance',\n    'offset.path.list.editor.direction': 'Direction',\n    'offset.path.list.editor.rotate': 'Rotation',\n    \n    'svgfilter.select.editor.message.create': 'Crer un filtre svg',\n    'svgfilter.select.editor.message.select': 'Slection filtre',\n\n    'fill.editor.message.click.image': 'Cliquez sur aperu si vous souhaitez slectionner une image',\n    'fill.editor.message.drag.position': 'Prendre pour changer la position centrale',\n    'fill.editor.x1': 'Dbut X',\n    'fill.editor.x2': 'Fin X',\n    'fill.editor.y1': 'Dbut Y',\n    'fill.editor.y2': 'Fin Y',\n    'fill.editor.spread': 'Etalement',    \n    'fill.editor.offset': 'Dcalage',    \n    'fill.editor.cx': 'Centre X',\n    'fill.editor.cy': 'Centre Y',    \n    'fill.editor.r': 'Rayon de fin',\n    'fill.editor.fx': 'Dpart X',\n    'fill.editor.fy': 'Dpart Y',\n    'fill.editor.fr': 'Rayon de dpart',\n\n    'perspective.origin.editor.originX': 'Origine X',\n    'perspective.origin.editor.originY': 'Origine Y',\n\n    'path.manager.msg':  'Appuyer ESC ou Entrz keypour fermer Edition',\n    'path.manager.mode.done': 'Done',    \n    'path.manager.mode.modify': 'Modifier',\n    'path.manager.mode.path': 'Chemin',\n    'path.manager.mode.transform': 'Transformer',   \n    'path.manager.mode.reverse': 'Reverse',         \n    'path.manager.mode.flipX': 'Retouner X',    \n    'path.manager.mode.flipY': 'Retouner Y',    \n    'path.manager.mode.flipOrigin': 'Retouner Origine',    \n\n    'colorpicker.popup.title': 'Pipette',    \n\n    'selector.popup.title': 'Propit de Slecteur',\n    'selector.popup.selector': 'Slecteur',    \n\n    'background.image.position.popup.title': 'Motif de fond',\n    'background.image.position.popup.size': 'Taille',\n    'background.image.position.popup.width': 'Largeur',\n    'background.image.position.popup.height': 'Hauteur',\n    'background.image.position.popup.repeat': 'Repte',\n    'background.image.position.popup.blend': 'Mlange',    \n    'background.image.position.popup.type.repeat': 'repte',\n    'background.image.position.popup.type.no-repeat': 'sans reptition',\n    'background.image.position.popup.type.repeat-x': 'repte-x', \n    'background.image.position.popup.type.repeat-y': 'repte-y', \n    'background.image.position.popup.type.space': 'espace', \n    'background.image.position.popup.type.round': 'rond',     \n\n    'gradient.picker.popup.title': 'Slection Gradient & Image',    \n    'image.asset.property.title': 'Image',\n    'video.asset.property.title': 'Vido',    \n    'color.asset.property.title': 'Couleur',\n    'gradient.asset.property.title': 'Gradient',\n    'pattern.asset.property.title': 'Motif',\n    'svgfilter.asset.property.title': 'Filtre SVG',\n\n\n    'inspector.tab.title.style': 'Style',\n    'inspector.tab.title.component': 'Composant',\n    'inspector.tab.title.transition': 'Animation',\n    'inspector.tab.title.asset': 'Elments',\n    'inspector.tab.title.text': 'Texte',\n    'inspector.tab.title.code': 'Code',    \n    'inspector.tab.title.history': 'History','inspector.tab.title.history': 'History',\n\n\n    'timeline.property.title': 'Chronologie',\n    'timeline.property.resize': 'Drag if you want to resize timeline height.',        \n    'timeline.animation.property.title': 'Animations',    \n\n    'timeline.play.control.play': 'Jouer',\n    'timeline.play.control.pause': 'Pause',\n    'timeline.play.control.first': 'Premier',\n    'timeline.play.control.prev': 'Prcdent',\n    'timeline.play.control.next': 'Suivant',\n    'timeline.play.control.last': 'Dernier',\n    'timeline.play.control.direction': 'Direction',\n    'timeline.play.control.speed': 'Vitesse',\n    'timeline.play.control.repeat': 'Rpter',\n    'timeline.play.control.infinite': 'Infini',\n    'timeline.play.control.normal': 'normal',\n    'timeline.play.control.alternate': 'alternatif',\n    'timeline.play.control.reverse': 'inverse',\n    'timeline.play.control.alternate.reverse': 'inverse alternatif',\n\n    'timeline.value.editor.value': 'Valeur',\n    'timeline.value.editor.time': 'Temps',    \n    'timeline.value.editor.timing': 'Calage temps',\n    'timeline.value.editor.offset.message': 'Please input enter key to change time offset.',        \n\n    'svgfilter.popup.title': 'Filtre SVG',\n\n\n    'css.item.rotate': 'Rotation',\n    'css.item.rotateX': 'Rotation X',\n    'css.item.rotateY': 'Rotation Y',\n    'css.item.rotateZ': 'Rotation Z',\n    'css.item.rotate3d': 'Rotation 3D',    \n    'css.item.skewX': 'Oblique X',    \n    'css.item.skewY': 'Oblique Y',   \n    'css.item.translate': 'Translation',\n    'css.item.translateX': 'Translation X',  \n    'css.item.translateY': 'Translation Y',\n    'css.item.translateZ': 'Translation Z',\n    'css.item.translate3d': 'Translation 3D',\n    'css.item.perspective': 'Perspctive',    \n    'css.item.scale': 'Echelle',\n    'css.item.scaleX': 'Echelle X',\n    'css.item.scaleY': 'Echelle Y',\n    'css.item.scaleZ': 'Echelle Z',\n    'css.item.scale3d': 'Echelle 3D',\n    'css.item.matrix': 'Matrice',\n    'css.item.matrix3d': 'Matrice 3D',  \n\n    'animation.property.title': 'Animation CSS',  \n    'animation.property.direction': 'Direction',\n    'animation.property.play.state': 'Etat lecture',\n    'animation.property.fill.mode': 'Mode remplissage',\n    'animation.property.delay': 'Dlais',\n    'animation.property.duration': 'Dure',\n    'animation.property.iteration.count': 'Nombre Itrations',\n    'animation.property.Select a keyframe' : 'Selectionner une image cl',        \n\n    'animation.property.popup.title': 'Animation',\n    'animation.property.popup.timing.function': 'Fonction temps',\n    'animation.property.popup.keyframe': 'image cl',\n    'animation.property.popup.direction': 'Direction',\n    'animation.property.popup.play.state': 'Etat lecture',\n    'animation.property.popup.fill.mode': 'Mode remplissage',\n    'animation.property.popup.delay': 'Dlais',\n    'animation.property.popup.duration': 'Dur',\n    'animation.property.popup.iteration': 'Itration',\n    'animation.property.popup.normal': 'normal',\n    'animation.property.popup.reverse': 'inverse',\n    'animation.property.popup.alternate': 'alternatif',\n    'animation.property.popup.alternate-reverse': 'inverse alternatif',\n    'animation.property.popup.none': 'Aucun',\n    'animation.property.popup.forwards': 'en avant',\n    'animation.property.popup.backwards': 'en arrire',\n    'animation.property.popup.both' : 'les deux',\n    'animation.property.popup.Select a keyframe' : 'Selectionner une image cl',        \n\n    'keyframe.popup.title': 'image cl',\n    \n    'code.view.property.title': 'Vue code',\n\n    'svg.filter.editor.tab.filter': 'Filtrer',\n    'svg.filter.editor.tab.preset': 'Pre-rempli',\n    'svg.filter.editor.tab.asset': 'Elments',\n    'svg.filter.editor.GRAPHIC REFERENCES': 'REFERENCES GRAPHIQUES',\n    'svg.filter.editor.SOURCES': 'SOURCES',\n    'svg.filter.editor.MODIFIER': 'MODIFIER',\n    'svg.filter.editor.LIGHTING': 'ECLAIRAGE',\n    'svg.filter.editor.COMBINERS': 'COMBINER',\n    'svg.filter.editor.Template': 'Modle',\n\n    'layout.property.title': 'Disposition',\n    'layout.property.flex': 'Bote Flex',\n    'layout.property.grid': 'Grille',\n    'layout.property.default': 'Dfaut',\n\n    'flex.layout.editor.row': 'Ligne',\n    'flex.layout.editor.column': 'Colonne',\n    'flex.layout.editor.row-reverse': 'Inverse ligne',\n    'flex.layout.editor.column-reverse': 'Inverse Colonne',\n    'flex.layout.editor.nowrap': 'Non-emball',    \n    'flex.layout.editor.wrap': 'Emball (wrap)',    \n    'flex.layout.editor.wrap-reverse': 'Inverse emball',       \n    'flex.layout.editor.flex-start': 'Dbut',       \n    'flex.layout.editor.flex-end': 'Fin',       \n    'flex.layout.editor.center': 'Centrer',        \n    'flex.layout.editor.space-between': 'Entre',       \n    'flex.layout.editor.space-around': 'Autour',      \n    'flex.layout.editor.baseline': 'Base',      \n    'flex.layout.editor.stretch': 'Etirement',\n    'flex.layout.editor.direction': 'Direction',\n    'flex.layout.editor.justify-content': 'Justifier',\n    'flex.layout.editor.align-items': 'Aligner objets',\n    'flex.layout.editor.align-content': 'Aligner contenu',    \n\n    'flex.layout.item.property.title': 'Dtail Disposition objet',\n    'flex.layout.item.property.grow': 'Augmenter Flex',\n    'flex.layout.item.property.shrink': 'Rduire Flex',\n    'flex.layout.item.property.basis': 'Base Flex',\n    'flex.layout.item.property.none': 'Aucun',\n    'flex.layout.item.property.auto': 'auto',\n    'flex.layout.item.property.value': 'valeur',    \n\n    'grid.layout.editor.template.columns': 'Colonne',\n    'grid.layout.editor.column.gap': 'Espace Colonne',\n    'grid.layout.editor.template.rows': 'Lignes',\n    'grid.layout.editor.row.gap': 'Espace lignes',\n\n    'grid.box.editor.box.title': 'Bote',\n    'grid.box.editor.type': 'Type',\n    'grid.box.editor.repeat': 'Rpter',\n    'grid.box.editor.length': 'Longueur',\n    'grid.box.editor.none': 'Aucun',\n    'grid.box.editor.auto': 'Auto',   \n    'grid.box.editor.count': 'Compte',\n    'grid.box.editor.value': 'Taille',\n\n\n    'grid.layout.item.property.title': 'Dtail disposition objets',\n    'grid.layout.item.property.column': 'Colonne',\n    'grid.layout.item.property.row': 'Ligne',\n    'grid.layout.item.property.start': 'Dbut',\n    'grid.layout.item.property.end': 'Fin',\n    'grid.layout.item.property.none': 'Aucun',\n    'grid.layout.item.property.value': 'valeur',        \n\n    'box.model.property.title': 'Modle',\n    'box.model.property.margin': 'Marge',\n    'box.model.property.padding': 'Espace',\n\n    'component.items.canvas': 'Toile',\n    'component.items.layer': 'Objet',\n    'component.items.3dlayer': 'Objet 3D',\n    'component.items.drawing': 'Dessin',\n    'component.items.custom': 'Composant personnalis', \n    'component.items.chart': 'Chart',      \n    'component.items.plugin': 'Plugin',                              \n\n    'svg.text.property.title': \"Style SVG Texte\",\n    'svg.text.property.textarea': \"Zone Texte\",\n    'svg.text.property.size': \"Taille\",\n    'svg.text.property.weight': \"Poids\",\n    'svg.text.property.style': \"Style\",\n    'svg.text.property.anchor': \"Ancre Texte\",\n    'svg.text.property.family': \"Famille\",\n    'svg.text.property.length.adjust': \"Ajusteement longueur\",\n    'svg.text.property.text.length': \"Ajusteement Texte\",\n    'svg.text.property.start.offset': \"Dcallage dpart\",\n\n    'fill.picker.popup.title': 'Slection Fragment SVG',\n\n    'gradient.editor.drag.message': 'Glisser pour dplacer centre.',\n\n    'draw.manager.tolerance': 'Tolrance',\n\n    'pattern.property.title': 'Motif',\n\n    'pattern.info.popup.title': 'Info Motif',\n    'pattern.info.popup.width': 'Largeur',\n    'pattern.info.popup.height': 'Hauteur',\n    'pattern.info.popup.lineWidth': 'Largeur ligne',\n    'pattern.info.popup.lineHeight': 'Hauteur de ligne',\n    'pattern.info.popup.rotate': 'Rotatation',\n    'pattern.info.popup.blend': 'Mlange',\n    'pattern.info.popup.foreColor': 'Avant',    \n    'pattern.info.popup.backColor': 'Arrire',      \n    \n    'stroke.dasharray.editor.add': 'Ajout tiret',\n\n    'viewport.panning.enable': 'You can move the area by holding down space and dragging the screen.',        \n}","export default {\n\n    'app.title': 'EASYLOGIC',\n    'app.sample': (a, b, c) => {\n        return `${a}-${b}-${c}`\n    },\n    'app.lang.en_US': 'English',\n    'app.lang.ko_KR': '',\n    'app.lang.fr_FR': 'Franais',    \n    'app.label.lang': '',\n\n    'app.layout.all': '',\n    'app.layout.css': 'CSS',\n    'app.layout.svg': 'SVG',\n    'app.label.layout': '',    \n\n    'app.theme.dark': '',\n    'app.theme.light': '',\n    'app.theme.toon': '',    \n    'app.theme.gray': '',    \n    'app.label.theme': '', \n\n    'app.tab.title.projects': '',\n    'app.tab.title.layers': '',\n    'app.tab.title.libraries': '',\n    'app.tab.title.components': '',   \n    'app.tab.title.artboards': '',         \n    'app.tab.title.assets': '',   \n    'app.tab.title.keyMap': '',       \n    \n    'app.confirm.message.artboard.items.removeArtboard' : '   ?',    \n    'app.confirm.message.custom-component.items.removeCustomComponent' : '   ?',    \n\n    'menu.item.download.title': '',\n    'menu.item.save.title': '',\n    'menu.item.export.title': '',\n    'menu.item.fullscreen.title': '',\n    'menu.item.shortcuts.title': '',    \n    'menu.item.github.title': 'Github',\n    'menu.item.learn.title': '',    \n    'menu.item.projects.title': '',     \n\n    'project.property.title' : '',    \n    'project.information.property.title': ' ',\n    'project.information.property.name': '',    \n    'project.information.property.description': '',     \n    \n    'artboard.property.title': '',   \n    'artboard.property.layout.title.flex': '',\n    'artboard.property.layout.title.grid': '',\n    'layer.tree.property.title': '',\n    'layer.tree.property.layout.title.flex': '',\n    'layer.tree.property.layout.title.grid': '',    \n\n\n    'alignment.property.title': '',\n    \n    'position.property.title': '',\n    'position.property.X': 'X',\n    'position.property.Y': 'Y',\n\n    'size.property.title': '',\n    'position.property.width': '',\n    'position.property.height': '',\n    'position.property.rotate': '',\n    'position.property.opacity': '',\n\n    'background.color.property.title': '',\n    'background.color.property.color': '',\n    'background.color.property.zindex': 'z-index',\n\n    'background.color.property.blend': '',   \n    'background.color.property.overflow': '',\n    'background.color.property.overflow.visible': '',\n    'background.color.property.overflow.hidden': '',\n    'background.color.property.overflow.scroll': '',\n    'background.color.property.overflow.auto': '',     \n\n    'blend.normal': 'Normal() ',\n    'blend.multiply': 'Multiply() ',\n    'blend.screen': 'Screen()  ',\n    'blend.overlay': 'Overlay() ',\n    'blend.darken': 'Darken() ',\n    'blend.lighten': 'Lighten()  ',\n    'blend.color-dodge': 'Color Dodge( )  ',\n    'blend.color-burn': 'Color Burn( )  ',\n    'blend.hard-light': 'Hard Light( )  ',\n    'blend.soft-light': 'Soft Light( )  ',\n    'blend.difference': 'Difference() ',\n    'blend.exclusion': 'Exclusion() ',\n    'blend.hue': 'Hue()  ',\n    'blend.saturation': 'Saturation() ',\n    'blend.color': 'Color() ',\n    'blend.luminosity': 'Luminosity()  ',    \n\n    'background.image.property.title': '',    \n\n    'border.property.title': '',    \n    'border.radius.property.title': ' ',    \n    'boxshadow.property.title': '',\n    'filter.property.title': '',    \n    'filter.property.blur': '(Blur)',\n    'filter.property.grayscale': '(GrayScale)',\n    'filter.property.hue-rotate': '(HueRotate)',\n    'filter.property.invert': '(Invert)',\n    'filter.property.brightness': '(Brightness)',\n    'filter.property.contrast': '\b(Contrast)',\n    'filter.property.drop-shadow': '(Drop Shadow)',\n    'filter.property.drop-shadow.color': '',\n    'filter.property.drop-shadow.offsetX': 'X ',\n    'filter.property.drop-shadow.offsetY': 'Y ',\n    'filter.property.drop-shadow.blurRadius': '',    \n    'filter.property.opacity': '(Opacity)',\n    'filter.property.saturate': '(Saturate)',\n    'filter.property.sepia': '(Sepia)',\n    'filter.property.svg': 'SVG',\n\n    'font.property.title': '',\n    'font.property.color': '',\n    'font.property.size': '',\n    'font.property.stretch': '',\n    'font.property.weight': '',\n    'font.property.style': '',\n    'font.property.family': '',\n\n    'font.spacing.property.title': ' ',\n    'font.spacing.property.lineHeight': ' ',\n    'font.spacing.property.letterSpacing': ' ',\n    'font.spacing.property.wordSpacing': ' ',\n    'font.spacing.property.indent': '',\n\n\n\n    'backdrop.filter.property.title': ' ',    \n    'clippath.property.title': '',    \n\n    'export.property.title': '',\n    'export.property.download': '',\n\n    'iframe.property.title': '',\n\n    'image.property.title': '',    \n    'image.property.origin': '',    \n    'image.property.size': '',    \n    'image.property.width': '',    \n    'image.property.height': '',    \n\n    'video.property.title': '',\n    'video.property.play': '',    \n    'video.property.pause': '',    \n    'video.property.volume': '',    \n    'video.property.playbackRate': '',        \n    'video.property.currentTime': ' ',     \n    'video.property.playTime': '  ',     \n\n    'motion.property.title': '',\n\n    'path.data.property.title': ' ',\n    'polygon.data.property.title': ' ',\n\n    'text.property.title': ' ',\n    'text.property.align': '',\n    'text.property.transform': '',\n    'text.property.decoration': '',\n\n    'text.clip.property.title': ' ',\n\n   'text.shadow.property.title': ' ',\n\n    'text.fill.property.title':  ' ',\n    'text.fill.property.fill':  '',\n    'text.fill.property.stroke':  '',\n    'text.fill.property.strokeWidth':  ' ',\n\n    'transform.property.title': '',\n    'transform.origin.property.title': ' Origin',    \n\n    'transition.property.title': 'CSS ',\n\n    'keyframe.property.title': 'CSS ',\n    'selector.property.title': 'CSS ', \n    'selector.property.none': ' ',\n\n    'perspective.property.title': '(perspective)',\n    'perspective.origin.property.title': ' ',                \n\n    'svg.item.property.title': '',    \n    'svg.item.property.isMotionPath': ' ',\n    'svg.item.property.fill': '',\n    'svg.item.property.fillOpacity': '',\n    'svg.item.property.path': '',\n    'svg.item.property.polygon': '',\n    'svg.item.property.totalLength': ' ',    \n    'svg.item.property.fillRule': ' ',\n    'svg.item.property.stroke': '',\n    'svg.item.property.strokeWidth': ' ',\n    'svg.item.property.dashArray': ' ',\n    'svg.item.property.dashOffset': ' ',\n    'svg.item.property.lineCap': ' ',\n    'svg.item.property.lineJoin': ' ',\n    'svg.item.property.filter': '',\n\n\n\n    'border.editor.all': '',      \n    'border.editor.width': '',        \n    'border.editor.style': '',              \n    'border.editor.color': '',              \n    'border.editor.top': '',        \n    'border.editor.left': '',        \n    'border.editor.right': '',        \n    'border.editor.bottom': '',      \n\n\n    'border.radius.editor.topLeft': ' ',\n    'border.radius.editor.topRight': ' ',\n    'border.radius.editor.bottomLeft': ' ',\n    'border.radius.editor.bottomRight': ' ',    \n    \n    'boxshadow.editor.blur': '',\n    'boxshadow.editor.spread': '',    \n\n    'css.property.editor.properties': '',    \n\n\n    'offset.path.list.editor.path': '',\n    'offset.path.list.editor.totalLength': ' ',\n    'offset.path.list.editor.distance': '',\n    'offset.path.list.editor.direction': '',\n    'offset.path.list.editor.rotate': '',\n    \n\n\n    'svgfilter.select.editor.message.create': ' SVG Filter  .',\n    'svgfilter.select.editor.message.select': ' .',\n\n    'fill.editor.message.click.image': '     .',\n    'fill.editor.message.drag.position': '   .',\n    'fill.editor.x1': ' X',\n    'fill.editor.x2': ' X',\n    'fill.editor.y1': ' Y',\n    'fill.editor.y2': ' Y',    \n    'fill.editor.spread': '',    \n    'fill.editor.offset': '',\n    'fill.editor.cx': ' X',\n    'fill.editor.cy': ' Y',    \n    'fill.editor.r': ' ',\n    'fill.editor.fx': ' X',\n    'fill.editor.fy': ' Y',\n    'fill.editor.fr': ' ',    \n\n    'perspective.origin.editor.originX': ' X',\n    'perspective.origin.editor.originY': ' Y',    \n\n    'path.manager.msg': '   ESC  Enter  .    .',    \n    'path.manager.mode.done': '',    \n    'path.manager.mode.modify': ' ',\n    'path.manager.mode.path': ' ',\n    'path.manager.mode.transform': '',\n    'path.manager.mode.reverse': '',    \n    'path.manager.mode.flipX': 'X ',    \n    'path.manager.mode.flipY': 'Y ',    \n    'path.manager.mode.flipOrigin': ' ',        \n\n    'colorpicker.popup.title': ' ',\n\n    'selector.popup.title': ' ',\n    'selector.popup.selector': '',\n\n    'background.image.position.popup.title': ' ',   \n    'background.image.position.popup.size': '',\n    'background.image.position.popup.width': '',\n    'background.image.position.popup.height': '',\n    'background.image.position.popup.repeat': '',\n    'background.image.position.popup.blend': '',        \n    'background.image.position.popup.type.repeat': '',\n    'background.image.position.popup.type.no-repeat': ' ',\n    'background.image.position.popup.type.repeat-x': 'x ', \n    'background.image.position.popup.type.repeat-y': 'y ', \n    'background.image.position.popup.type.space': '', \n    'background.image.position.popup.type.round': '', \n\n    'gradient.picker.popup.title': ' ',\n\n    'image.asset.property.title': '',\n    'video.asset.property.title': '',    \n    'color.asset.property.title': '',\n    'gradient.asset.property.title': '', \n    'pattern.asset.property.title': '', \n    'svgfilter.asset.property.title': 'SVG ',     \n    \n    'inspector.tab.title.style': '',\n    'inspector.tab.title.component': ' ',\n    'inspector.tab.title.transition': '',\n    'inspector.tab.title.asset': ' ',\n    'inspector.tab.title.text': '',    \n    'inspector.tab.title.code': '',    \n    'inspector.tab.title.history': '',\n\n    'timeline.property.title': '',\n    'timeline.property.resize': '  .  .',        \n    'timeline.animation.property.title': '',    \n\n\n    'timeline.play.control.play': '',\n    'timeline.play.control.pause': '',\n    'timeline.play.control.first': '',\n    'timeline.play.control.prev': '',\n    'timeline.play.control.next': '',\n    'timeline.play.control.last': '',\n    'timeline.play.control.direction': '',\n    'timeline.play.control.speed': '',\n    'timeline.play.control.repeat': '',\n    'timeline.play.control.infinite': '',\n    'timeline.play.control.normal': 'normal',\n    'timeline.play.control.alternate': 'alternate',\n    'timeline.play.control.reverse': 'reverse',\n    'timeline.play.control.alternate.reverse': 'alternate reverse',    \n\n    'timeline.value.editor.value': '',\n    'timeline.value.editor.time': '',\n    'timeline.value.editor.timing': ' ',    \n    'timeline.value.editor.offset.message': 'Enter  .',    \n\n    'svgfilter.popup.title': 'SVG ',    \n\n\n    'css.item.rotate': '',\n    'css.item.rotateX': 'X ',\n    'css.item.rotateY': 'Y ',\n    'css.item.rotateZ': 'Z ',\n    'css.item.rotate3d': '3D ',    \n    'css.item.skewX': 'X ',    \n    'css.item.skewY': 'Y ',   \n    'css.item.translate': '',\n    'css.item.translateX': 'X ',  \n    'css.item.translateY': 'Y ',\n    'css.item.translateZ': 'Z ',\n    'css.item.translate3d': '3D ',\n    'css.item.perspective': '',    \n    'css.item.scale': '',\n    'css.item.scaleX': 'X ',\n    'css.item.scaleY': 'Y ',\n    'css.item.scaleZ': 'Z ',\n    'css.item.scale3d': '3D ',\n    'css.item.matrix': ' ',\n    'css.item.matrix3d': '3D  ',  \n    \n    'animation.property.title': 'CSS ',    \n    'animation.property.direction': '',\n    'animation.property.play.state': ' ',\n    'animation.property.fill.mode': ' ',\n    'animation.property.delay': '',\n    'animation.property.duration': '',\n    'animation.property.iteration.count': ' ',\n    'animation.property.select a keyframe' : ' ',            \n\n    'animation.property.popup.title': 'CSS ',\n    'animation.property.popup.timing.function': ' ',\n    'animation.property.popup.keyframe': '',\n    'animation.property.popup.direction': '',\n    'animation.property.popup.play.state': ' ',\n    'animation.property.popup.fill.mode': ' ',\n    'animation.property.popup.delay': '',\n    'animation.property.popup.duration': '',\n    'animation.property.popup.iteration': ' ',\n    'animation.property.popup.normal': '',\n    'animation.property.popup.reverse': '',\n    'animation.property.popup.alternate': ' ',\n    'animation.property.popup.alternate-reverse': ' ',\n    'animation.property.popup.none': 'none',\n    'animation.property.popup.forwards': 'forwards',\n    'animation.property.popup.backwards': 'backwards',\n    'animation.property.popup.both' : 'both',  \n    'animation.property.popup.Select a keyframe' : ' .',    \n\n    'keyframe.popup.title': '',\n    \n    'code.view.property.title': '',    \n\n    'svg.filter.editor.tab.filter': '',\n    'svg.filter.editor.tab.preset': '',\n    'svg.filter.editor.tab.asset': '',\n    'svg.filter.editor.GRAPHIC REFERENCES': ' ',\n    'svg.filter.editor.SOURCES': '',\n    'svg.filter.editor.MODIFIER': '',\n    'svg.filter.editor.LIGHTING': '',\n    'svg.filter.editor.COMBINERS': '',\n    'svg.filter.editor.Template': '',     \n\n    'layout.property.title': '',\n    'layout.property.flex': ' ',\n    'layout.property.grid': '',\n    'layout.property.default': ' ',    \n\n    'flex.layout.editor.row': '',\n    'flex.layout.editor.column': '',\n    'flex.layout.editor.row-reverse': ' ',\n    'flex.layout.editor.column-reverse': ' ',    \n    'flex.layout.editor.nowrap': ' ',    \n    'flex.layout.editor.wrap': '',    \n    'flex.layout.editor.wrap-reverse': ' ',    \n    'flex.layout.editor.flex-start': '',       \n    'flex.layout.editor.flex-end': '',       \n    'flex.layout.editor.center': '',        \n    'flex.layout.editor.space-between': '  ',       \n    'flex.layout.editor.space-around': '  ',      \n    'flex.layout.editor.baseline': '',      \n    'flex.layout.editor.stretch': '',    \n    'flex.layout.editor.direction': '',\n    'flex.layout.editor.justify-content': ' ',\n    'flex.layout.editor.align-items': ' ',\n    'flex.layout.editor.align-content': ' ',\n\n    'flex.layout.item.property.title': '  ',\n    'flex.layout.item.property.grow': ' ',\n    'flex.layout.item.property.shrink': ' ',\n    'flex.layout.item.property.basis': ' ',\n    'flex.layout.item.property.none': '',\n    'flex.layout.item.property.auto': '',\n    'flex.layout.item.property.value': '',\n\n    'grid.layout.editor.template.columns': '',\n    'grid.layout.editor.column.gap': ' ',\n    'grid.layout.editor.template.rows': '',\n    'grid.layout.editor.row.gap': ' ',\n\n\n    'grid.box.editor.box.title': '',\n    'grid.box.editor.type': '',\n    'grid.box.editor.repeat': '',\n    'grid.box.editor.length': '',\n    'grid.box.editor.none': '',\n    'grid.box.editor.auto': '',\n    'grid.box.editor.count': '',\n    'grid.box.editor.value': '',\n\n    'grid.layout.item.property.title': '  ',\n    'grid.layout.item.property.column': '',\n    'grid.layout.item.property.row': '',\n    'grid.layout.item.property.start': '',\n    'grid.layout.item.property.End': '',  \n    'grid.layout.item.property.none': '',\n    'grid.layout.item.property.value': '',  \n    \n    'box.model.property.title': ' ',\n    'box.model.property.margin': '',\n    'box.model.property.padding': '',    \n\n    'component.items.canvas': '',\n    'component.items.layer': '',\n    'component.items.3dlayer': '3D ',\n    'component.items.drawing': '',\n    'component.items.custom': '  ',   \n    'component.items.chart': '',             \n    'component.items.plugin': '',                 \n\n    'svg.text.property.title': \"SVG Text \",\n    'svg.text.property.textarea': \" \",\n    'svg.text.property.size': \" \",\n    'svg.text.property.weight': \" \",\n    'svg.text.property.style': \" \",\n    'svg.text.property.anchor': \" \",\n    'svg.text.property.family': \" \",\n    'svg.text.property.length.adjust': \" \",\n    'svg.text.property.text.length': \" \",\n    'svg.text.property.start.offset': \" \",\n\n    'fill.picker.popup.title': ' ',    \n\n    'gradient.editor.drag.message': '     .',\n\n    'draw.manager.tolerance': '  ',\n\n    'pattern.property.title': '',\n\n    'pattern.info.popup.title': ' ',    \n    'pattern.info.popup.width': '',\n    'pattern.info.popup.height': '',\n    'pattern.info.popup.lineWidth': ' ',\n    'pattern.info.popup.lineHeight': ' ',\n    'pattern.info.popup.rotate': '',\n    'pattern.info.popup.blend': '',    \n    'pattern.info.popup.foreColor': '',    \n    'pattern.info.popup.backColor': '',    \n\n    'stroke.dasharray.editor.add': ' ',    \n\n    'viewport.panning.enable': 'space         .',\n}","import { EditorElement } from 'el/editor/ui/common/EditorElement';\n\nimport './TextureView.scss';\nimport { Tabs } from 'el/editor/ui/view/Tabs';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class TextureView extends EditorElement {\n\n  components() {\n    return {\n      Tabs\n    }\n  }\n\n  template() {\n    return /*html*/`<div class='elf--texture'>\n      <object refClass=\"Tabs\" \n        ref=\"$tab\" \n        ${variable({\n          selectedValue: 'css',\n          onchange: (value) => {\n            this.$config.set(\"inspector.selectedValue\", value);\n          }\n        })}\n      >\n        <object refClass=\"TabPanel\" value=\"css\" title=\"CSS\">\n          <object refClass=\"CSSTextureView\" />\n        </object>\n\n        <object refClass=\"TabPanel\" value=\"svg\" title=\"SVG\">\n          <object refClass=\"SVGTextureView\" />\n        </object>            \n      </object>\n    </div>`;\n  }\n\n}","import { CLICK, LOAD } from \"el/sapa/Event\";\nimport { EditorElement } from 'el/editor/ui/common/EditorElement';\n\nimport './TextureView.scss';\n\nconst cssPatterns = [\n  {\n    itemType: \"circle\", name: \"base\", attrs: {\n      \"background-color\": \"#ececec\"\n    }\n  },\n  {\n    itemType: \"circle\", name: \"base\", attrs: {\n      \"background-color\": \"black\"\n    }\n  },\n  {\n    itemType: \"circle\", name: \"base\", attrs: {\n      \"background-color\": \"red\"\n    }\n  },\n  {\n    itemType: \"circle\", name: \"base\", attrs: {\n      \"background-image\": `\n      background-image: linear-gradient(to right, #ececec, black 100%);\n    `\n    }\n  },\n  {\n    itemType: \"circle\", name: \"base\", attrs: {\n      \"background-image\": `\n      background-image: linear-gradient(to right, #ececec, black 100%);\n    `,\n      \"border\": `\n      border:10px solid black;\n    `\n    }\n  },\n]\n\n\nexport default class CSSTextureView extends EditorElement {\n\n\n  template() {\n    return /*html*/`\n      <div class=\"pattern-list css-pattern-list\" ref=\"$css-list\"></div>\n    `;\n  }\n\n  [LOAD('$css-list')]() {\n    return cssPatterns.map((it, index) => {\n      const svg = this.$editor.svg.render(this.$model.createModel({\n        itemType: it.itemType,\n        width: 70,\n        height: 70,\n        ...it.attrs\n      }, false))\n      return /*html*/`\n        <div class=\"pattern-item\" data-index=\"${index}\">\n          <div class=\"preview\">${svg}</div>\n        </div>\n      `;\n    });\n  }\n\n\n  [CLICK('$css-list .pattern-item')](e) {\n    const index = +e.$dt.data('index');\n    const pattern = cssPatterns[index];\n\n    e.$dt.onlyOneClass(\"selected\");\n\n    this.emit(\"addLayerView\", pattern.itemType, pattern.attrs);\n  }\n}","import { CLICK, LOAD } from \"el/sapa/Event\";\nimport { EditorElement } from 'el/editor/ui/common/EditorElement';\n\nimport './TextureView.scss';\nimport PathParser from 'el/editor/parser/PathParser';\nimport PathStringManager from \"el/editor/parser/PathStringManager\";\n// import math from \"./data/math\";\n\nconst svgPatterns = [\n  {\n    itemType: \"svg-path\", name: \"path\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      d: PathStringManager.makeRect(0, 0, 100, 100)\n    }\n  },\n  {\n    itemType: \"svg-path\", name: \"line\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      d: PathStringManager.makeLine(0, 0, 100, 100)\n    }\n  },  \n  {\n    itemType: \"svg-path\", name: \"line 2\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      d: PathStringManager.makeLine(0, 100, 100, 0)\n    }\n  },    \n  {\n    itemType: \"svg-path\", name: \"triangle\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      d: \"M 50 0 L 100 100 L 0 100 Z\"\n    }\n  },\n  {\n    itemType: \"svg-path\", name: \"circle\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      originWidth: 100,\n      originHeight: 100,      \n      d: PathStringManager.makeCircle(0, 0, 100, 100)\n    }\n  },\n  {\n    itemType: \"svg-path\", name: \"polygon - 3\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      originWidth: 100,\n      originHeight: 100,      \n      d: PathStringManager.makePolygon(100, 100, 3)\n    }\n  }, \n  {\n    itemType: \"svg-path\", name: \"polygon - 4\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      originWidth: 100,\n      originHeight: 100,      \n      d: PathStringManager.makePolygon(100, 100, 4)\n    }\n  }, \n  {\n    itemType: \"svg-path\", name: \"polygon - 4\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      originWidth: 100,\n      originHeight: 100,      \n      d: PathStringManager.makePolygon(100, 100, 5)\n    }\n  }, \n  \n  {\n    itemType: \"svg-path\", name: \"polygon - 4\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      originWidth: 100,\n      originHeight: 100,      \n      d: PathStringManager.makePolygon(100, 100, 6)\n    }\n  }, \n  \n  {\n    itemType: \"svg-path\", name: \"polygon - 4\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      originWidth: 100,\n      originHeight: 100,\n      d: PathStringManager.makePolygon(100, 100, 7)\n    }\n  },   \n\n  {\n    itemType: \"svg-path\", name: \"polygon - 4\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      originWidth: 100,\n      originHeight: 100,\n      d: PathStringManager.makePolygon(100, 100, 12)\n    }\n  },     \n  // ...Object.entries(math.data).map(([name, data]) => {\n  //   console.log(data);\n  //   return {\n  //     itemType: \"svg-path\", \n  //     name, \n  //     attrs: {\n  //       'background-color': 'transparent',\n  //       stroke: 'black',\n  //       'stroke-width': 2,\n  //       d: data\n  //     }\n  //   };\n  // })\n]\n\n\n\nexport default class SVGTextureView extends EditorElement {\n\n  template() {\n    return /*html*/`\n      <div class=\"pattern-list svg-pattern-list\" ref=\"$svg-list\"></div>\n    `;\n  }\n\n  [LOAD('$svg-list')]() {\n    return svgPatterns.map((it, index) => {\n\n      let d = it.attrs.d; \n\n      if (d) {\n        const path = new PathParser(d);\n\n        if (it.attrs.originWidth) {\n          const rect = path.rect();\n          path.scale(70/it.attrs.originWidth, 70/it.attrs.originHeight)\n        } else {\n          const rect = path.rect();\n          path.scale(70/rect.width, 70/rect.height)\n        }\n\n        d = path.d; \n      }\n\n      const svg = this.$editor.svg.render(this.$model.createModel({\n        itemType: it.itemType,\n        width: 80, \n        height: 80,\n        ...it.attrs,\n        d\n      }, false))\n      return /*html*/`\n        <div class=\"pattern-item\" data-index=\"${index}\">\n          <div class=\"preview\">${svg}</div>\n        </div>\n      `;\n    });\n  }  \n\n  [CLICK('$svg-list .pattern-item')](e) {\n    const index = +e.$dt.data('index');\n    const pattern = svgPatterns[index];\n\n    e.$dt.onlyOneClass(\"selected\");\n\n    this.emit(\"addLayerView\", pattern.itemType, pattern.attrs);\n  }\n}","\nimport { DEBOUNCE, CLICK, SUBSCRIBE } from \"el/sapa/Event\";\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport './ExportProperty.scss';\n\nexport default class ExportProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('export.property.title');\n  }\n\n  [SUBSCRIBE('refreshSelection', 'refreshContent') + DEBOUNCE(100)]() {\n\n    this.refreshShowIsNot('project');\n\n  }  \n\n  getClassName() {\n    return 'elf--export-property'\n  }\n\n\n  getBody() {\n    return /*html*/`\n        <div class='export-item svg'>\n          <label>SVG</label>\n          <button ref='$svg'>${icon.archive} ${this.$i18n('export.property.download')}</button>\n        </div>\n        <div class='export-item png'>\n          <label>PNG</label>\n          <button ref='$png'>${icon.archive} ${this.$i18n('export.property.download')}</button>\n        </div> \n      `;\n  }  \n\n  [CLICK('$svg')] () {\n    this.emit('downloadSVG');\n  }\n\n  [CLICK('$png')] () {\n    this.emit('downloadPNG');\n  }  \n}","\nexport const filter_list = [\n    \"blur\",\n    \"grayscale\",\n    \"hue-rotate\",\n    \"invert\",\n    \"brightness\",\n    \"contrast\",\n    \"drop-shadow\",\n    \"opacity\",\n    \"saturate\",\n    \"sepia\",\n    'svg',\n  ];","\nimport {\n  LOAD, CLICK, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF, IF\n} from \"el/sapa/Event\";\n\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { filter_list } from \"./util\";\n\nexport default class FilterProperty extends BaseProperty {\n\n  getTitle () {\n    return this.$i18n('filter.property.title');\n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n  afterRender() {\n    this.show();\n  }\n\n  getKeyframeProperty () {\n    return 'filter';\n  }\n\n\n  getTitleClassName() {\n    return 'filter'\n  }\n\n  getBodyClassName() {\n    return 'no-padding';\n  }\n\n  getBody() {\n    return `<div class='full filter-property' ref='$body'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$filterSelect\">      \n      </select>\n      <button type=\"button\" ref=\"$add\" title=\"add Filter\">${icon.add}</button>\n    `\n  }\n  \n\n  [CLICK(\"$add\")]() {\n    var filterType = this.refs.$filterSelect.value;\n\n    this.children.$filterEditor.trigger('add', filterType)\n  }\n\n  [LOAD('$filterSelect')] () {\n    var list = filter_list.map(it => { \n      return {title: this.$i18n(`filter.property.${it}`), value: it}\n    })\n\n    var svgFilterList = this.getSVGFilterList()\n\n    var totalList = []\n\n    if (svgFilterList.length) {\n      totalList = [\n        ...list,\n        { title: '-------' , value: ''},\n        ...svgFilterList\n      ]\n    } else {\n      totalList = [\n        ...list\n      ]\n    }\n\n    return totalList.map(it => {\n      var {title, value} = it;\n      \n      return `<option value='${value}'>${title}</option>`\n    })\n  }\n\n\n  getSVGFilterList () {\n     \n    var current = this.$selection.currentProject;\n    var arr = [] \n\n    if (current) {\n      arr = current.svgfilters\n        .map(it => {\n          var id = it.id; \n          return {\n            title : `svg - #${id}`,\n            value: id\n          }\n        })\n    }\n\n    return arr\n  }  \n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {} \n    var value = current.filter;\n\n    return /*html*/`\n      <div>\n        <object refClass=\"FilterEditor\" ref='$filterEditor' key=\"filter\" value='${value}' hide-label='true' onchange='changeFilterEditor' />\n      </div>`\n  }\n\n  [SUBSCRIBE_SELF('changeFilterEditor')] (key, filter) {\n    this.command('setAttributeForMulti', 'change filter', this.$selection.packByValue({ \n      [key]: filter \n    }))\n  }\n\n  get editableProperty() {\n    return \"filter\";\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')] () {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshSVGArea') + DEBOUNCE(1000)] () {\n    this.load('$filterSelect');\n  }\n}","import { IF, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class FontProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('font.property.title');\n  }\n\n  getClassName() {\n    return 'item'\n  }\n\n  afterRender() {\n    this.show();\n  }\n\n  get editableProperty() {\n    return \"font\"\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n  refresh() {\n    \n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$color.setValue(current['color'] || 'rgba(0, 0, 0, 1)')\n      this.children.$size.setValue(current['font-size'])      \n      this.children.$stretch.setValue(current['font-stretch'] || '0%')      \n      this.children.$style.setValue(current['font-style'])\n      this.children.$family.setValue(current['font-family'])\n    }    \n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='color'></span>\n        </div>\n        <object refClass=\"ColorViewEditor\" ref='$color' label='${this.$i18n('font.property.color')}' key='color' onchange=\"changeColor\" />\n      </div>      \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-size'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  \n          ref='$size' \n          label='${this.$i18n('font.property.size')}' \n          key=\"font-size\" \n          \n          onchange=\"changeRangeEditor\" />\n      </div>\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-stretch'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  \n          ref='$stretch' \n          label='${this.$i18n('font.property.stretch')}' \n          key=\"font-stretch\" \n          \n          units='%',\n          onchange=\"changeRangeEditor\" />\n      </div>      \n \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-weight'></span>\n        </div>\n        <object refClass=\"NumberRangeEditor\"  \n          ref='$weightRange' \n          label='${this.$i18n('font.property.weight')}' \n          key='font-weight' \n         \n          value=\"400\" \n          min=\"100\"\n          max=\"900\"\n          step=\"1\"\n          calc=\"false\"\n          unit=\"number\" \n          onchange=\"changeRangeEditor\" \n          />\n      </div>              \n      <div class='property-item'>\n        <object refClass=\"SelectIconEditor\" \n          ref='$style' \n          label='${this.$i18n('font.property.style')}' \n          key=\"font-style\"\n          compact=\"true\"\n          options=${variable([\"normal\",\"italic\"])}\n          icons='title,italic'\n          onchange=\"changeRangeEditor\" />\n      </div>      \n\n      <div class='property-item'>\n        <object refClass=\"FontSelectEditor\"  \n          ref='$family' \n          icon=\"true\"\n          label='${this.$i18n('font.property.family')}' \n          key=\"font-family\" \n          onchange=\"changeRangeEditor\" \n        />\n      </div> \n         \n    `;\n  }\n\n\n  [SUBSCRIBE_SELF('changeColor')] (key, color) {\n    this.trigger('changeRangeEditor', key, color);\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n\n    this.command('setAttributeForMulti', 'change font attribute', this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nexport default class FontSpacingProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('font.spacing.property.title');\n  }\n\n  get editableProperty() {\n    return \"font-spacing\"\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n\n  refresh() {\n    \n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$lineHeight.setValue(current['line-height'] || Length.number(1))\n      this.children.$letter.setValue(current['letter-spacing'] || '0px')      \n      this.children.$word.setValue(current['word-spacing'] || '0px')\n      this.children.$indent.setValue(current['text-indent'] || '0px')\n    }\n  }\n\n  getBody() {\n    return /*html*/`\n\n    <div class='property-item animation-property-item'>\n      <div class='group'>\n        <span class='add-timeline-property' data-property='line-height'></span>\n      </div>\n      <object refClass=\"RangeEditor\"  \n        ref='$lineHeight' \n        label='${this.$i18n('font.spacing.property.lineHeight')}' \n        key=\"line-height\" \n        min=\"0\"\n        max=\"10\"\n        step=\"0.01\"\n        units=\",px,%,em\"\n        onchange=\"changeRangeEditor\" />\n    </div>       \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='letter-spacing'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  ref='$letter' label='${this.$i18n('font.spacing.property.letterSpacing')}' key=\"letter-spacing\" min=\"-100\" max=\"100\" onchange=\"changeRangeEditor\" />\n      </div>\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='word-spacing'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  ref='$word' label='${this.$i18n('font.spacing.property.wordSpacing')}' key=\"word-spacing\"  min=\"-100\" max=\"100\" onchange=\"changeRangeEditor\" />\n      </div>\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-indent'></span>\n        </div>      \n        <object refClass=\"RangeEditor\"  ref='$indent' label='${this.$i18n('font.spacing.property.indent')}' key=\"text-indent\"  min=\"-100\" max=\"100\" onchange=\"changeRangeEditor\" />\n      </div>      \n    `;\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n\n    if (value.unit === '') {\n      value = Length.number(value.value)\n    }\n\n    this.command('setAttributeForMulti', `change font spacing : ${key}`, this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n}","import { LOAD, CLICK, POINTERSTART, BIND, CHANGE, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport { Gradient } from \"el/editor/property-parser/image-resource/Gradient\";\nimport icon from \"el/editor/icon/icon\";\nimport { SVGFill } from \"el/editor/property-parser/SVGFill\";\nimport { SVGStaticGradient } from \"el/editor/property-parser/image-resource/SVGStaticGradient\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { isUndefined } from \"el/sapa/functions/func\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './FillEditor.scss';\n\n\nconst imageTypeList = [\n  'static-gradient',\n  'linear-gradient',\n  'radial-gradient',\n  'image-resource'\n]\n\nconst iconList = {\n  'image-resource': icon.photo\n}\n\n\nconst presetPosition = {\n  top: { x1: '0%', y1: '100%', x2: '0%', y2: '0%'},\n  'top left': { x1: '100%', y1: '100%', x2: '0%', y2: '0%'},\n  'top right': { x1: '0%', y1: '100%', x2: '100%', y2: '0%'},\n  left: { x1: '100%', y1: '0%', x2: '0%', y2: '0%'},\n  right: { x1: '0%', y1: '0%', x2: '100%', y2: '0%'},\n  bottom: { x1: '0%', y1: '0%', x2: '0%', y2: '100%'},\n  'bottom left': { x1: '100%', y1: '0%', x2: '0%', y2: '100%'},\n  'bottom right': { x1: '0%', y1: '0%', x2: '100%', y2: '100%'}\n}\n\nconst props = [\n  'x1', 'y1', 'x2', 'y2', \n  'cx', 'cy', 'r', \n  'fx', 'fy', 'fr', \n  'spreadMethod',  \n  'patternUnits', 'patternWidth', 'patternHeight',\n  'imageX', 'imageY', 'imageWidth', 'imageHeight'\n]\n\nconst rangeEditorList = [\n  'x1', 'y1', 'x2', 'y2', \n  'cx', 'cy', 'r', \n  'fx', 'fy', 'fr', \n  'patternWidth', 'patternHeight',\n  'imageX', 'imageY', 'imageWidth', 'imageHeight'\n]\n\nexport default class FillEditor extends EditorElement  {\n\n  initState() {\n    return {\n      cachedRect: null,\n      index: +(this.props.index || 0 ),\n      value: this.props.value, \n      image: SVGFill.parseImage(this.props.value || 'transparent') || SVGStaticGradient.create()\n    }\n  }\n\n  setValue (value) {\n    this.setState({\n      cachedRect: null,\n      image: SVGFill.parseImage(value)\n    }, false)\n\n    this.refresh();\n    this.parent.trigger('changeTabType', this.state.image.type);\n  }\n\n  template() {\n\n    var { image } = this.state; \n\n    image = image || {} \n\n    var type = image.type || 'static-gradient'\n    \n    if (type === 'url') type = 'image-resource'\n\n\n    return /*html*/`\n        <div class='elf--fill-editor' data-selected-editor='${type}'>\n            <div class='gradient-preview'>\n              <div class='gradient-view' ref='$gradientView'>\n                <div class='drag-pointer' ref='$dragPosition'></div>\n              </div>\n              <svg class='pointer-draw' ref='$pointerDrawArea'>\n                <line data-type='line' ref='$line' />\n                <circle r='5' data-type='start' ref='$startPoint' />\n                <circle r='5' data-type='end' ref='$endPoint' />\n                <circle r='5' data-type='center' ref='$centerPoint' />\n                <circle r='5' data-type='f' ref='$fPoint' />\n              </svg>              \n              <div class='preset-position'>\n                <div data-value='top' title='top'>${icon.chevron_right}</div>\n                <div data-value='right' title='right'>${icon.chevron_right}</div>\n                <div data-value='left' title='left'>${icon.chevron_right}</div>\n                <div data-value='bottom' title='bottom'>${icon.chevron_right}</div>\n                <div data-value='top left' title='top left'>${icon.chevron_right}</div>\n                <div data-value='top right' title='top right'>${icon.chevron_right}</div>\n                <div data-value='bottom left' title='bottom left'>${icon.chevron_right}</div>\n                <div data-value='bottom right' title='bottom right'>${icon.chevron_right}</div>                \n              </div>\n              <div data-editor='image-loader'>\n                <input type='file' accept=\"image/*\" ref='$file' />\n              </div>              \n            </div>\n            <div class=\"picker-tab\">\n              <div class=\"picker-tab-list\" ref=\"$tab\">\n                ${imageTypeList.map(it => {\n                  return `<span class='picker-tab-item ${it}' data-editor='${it}'><span class='icon'>${iconList[it] || ''}</span></span>`\n                }).join('')}\n              </div>\n            </div>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <object refClass=\"RangeEditor\"  label='${this.$i18n('fill.editor.offset')}' ref='$range' key='length' onchange='changeColorStepOffset' />\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n                <div data-editor='spreadMethod'>\n                  <object refClass=\"SelectIconEditor\" label='${this.$i18n('fill.editor.spread')}' ref='$spreadMethod' value=\"pad\" options='pad,reflect,repeat' key='spreadMethod' onchange='changeKeyValue' />\n                </div>  \n                <div data-editor='patternUnits'>\n                  <object refClass=\"SelectEditor\"  label='Pattern' ref='$patternUnits' options='userSpaceOnUse' key='patternUnits' onchange='changeKeyValue' />\n                </div>                  \n                ${rangeEditorList.map(field => {\n                  const label = this.$i18n('fill.editor.' + field)\n                  return /*html*/`\n                    <div data-editor='${field}'>\n                      <object refClass=\"RangeEditor\"  label='${label}' ref='$${field}' value=\"${this.getImageFieldValue(image, field)}\" key='${field}' onchange='changeKeyValue' />\n                    </div>\n                  `\n                }).join('')}\n                                                                                                                                \n            </div>            \n        </div>\n      `;\n  }\n\n  getImageFieldValue(image, field) {\n    var value = image[field]\n\n    if (isUndefined(value)) {\n      switch(field) {\n      case 'cx':\n      case 'cy':\n      case 'r':        \n      case 'fx':\n      case 'fy':        \n        return '50%'    \n      case 'x1':\n      case 'y1': \n      case 'y2': \n      case 'fr':\n      case 'imageX':\n      case 'imageY':\n        return '0%';\n      case 'x2':\n      case 'patternWidth':\n      case 'patternHeight':\n      case 'imageWidth':\n      case 'imageHeight':        \n        return '100%';    \n      }\n    }\n\n    return value; \n  }\n\n  [CHANGE('$file')] (e) {\n    var project = this.$selection.currentProject;\n    if (project) {\n      [...e.target.files].forEach(item => {\n        this.emit('updateImageAssetItem', item, (local) => {\n          this.trigger('setImageUrl', local);\n        });\n      })\n    }\n  }\n\n\n  [CLICK('$el .preset-position [data-value]')] (e) {\n    var type = e.$dt.attr('data-value')\n\n    if (presetPosition[type]) {\n      this.state.image.reset(presetPosition[type])\n      this.refresh();\n      this.refreshFieldValue();\n      this.updateData();\n    }\n\n  }\n\n  refreshFieldValue() {\n    this.children.$x1.setValue(this.state.image.x1)\n    this.children.$y1.setValue(this.state.image.y1)\n    this.children.$x2.setValue(this.state.image.x2)\n    this.children.$y2.setValue(this.state.image.y2)\n\n    this.children.$cx.setValue(this.state.image.cx)\n    this.children.$cy.setValue(this.state.image.cy)\n    this.children.$r.setValue(this.state.image.r)\n\n    this.children.$fx.setValue(this.state.image.fx)\n    this.children.$fy.setValue(this.state.image.fy)\n    this.children.$fr.setValue(this.state.image.fr)  \n    \n    this.children.$spreadMethod.setValue(this.state.image.spreadMethod);\n    this.children.$patternUnits.setValue(this.state.image.patternUnits);\n    this.children.$patternWidth.setValue(this.state.image.patternWidth);\n    this.children.$patternHeight.setValue(this.state.image.patternHeight);\n    this.children.$imageX.setValue(this.state.image.imageX);\n    this.children.$imageY.setValue(this.state.image.imageY);\n    this.children.$imageWidth.setValue(this.state.image.imageWidth);        \n    this.children.$imagenHeight.setValue(this.state.image.imageHeight);\n  }\n\n  getDrawAreaRect () {\n    // todo: rendering        ?\n    return {width: 224, height: 150};\n  }\n\n  getFieldValue(field) {\n    return Length.parse(this.getImageFieldValue(this.state.image, field));\n  }\n\n  [BIND('$line')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var x1 = this.getFieldValue('x1').toPx(width)\n    var y1 = this.getFieldValue('y1').toPx(height)\n    var x2 = this.getFieldValue('x2').toPx(width)\n    var y2 = this.getFieldValue('y2').toPx(height)    \n\n    return { x1, y1, x2, y2 }\n  }\n\n\n  [BIND('$startPoint')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var cx = this.getFieldValue('x1').toPx(width)\n    var cy = this.getFieldValue('y1').toPx(height)\n\n    return { cx, cy }\n  }  \n\n  [BIND('$endPoint')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var cx = this.getFieldValue('x2').toPx(width)\n    var cy = this.getFieldValue('y2').toPx(height)\n\n    return { cx, cy }\n  }  \n\n  [BIND('$centerPoint')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var cx = this.getFieldValue('cx').toPx(width)\n    var cy = this.getFieldValue('cy').toPx(height)\n\n    return { cx, cy }\n  }  \n\n  [BIND('$fPoint')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var cx = this.getFieldValue('fx').toPx(width)\n    var cy = this.getFieldValue('fy').toPx(height)\n\n\n    return { cx, cy }\n  }    \n\n  [POINTERSTART('$pointerDrawArea circle[data-type]') + MOVE('moveDragPointer')]  (e) {\n    this.containerRect = this.refs.$pointerDrawArea.rect();\n    this.startXY = e.xy; \n    this.type = e.$dt.attr('data-type');\n    this.state.cachedRect = null; \n  }\n\n  getRectRate (rect, x, y) {\n\n    var {width, height, x:rx, y: ry } = rect\n\n    if (rx > x) {\n      x = rx; \n    } else if (rx + width < x) {\n      x = rx + width; \n    }\n\n    if (ry > y) {\n      y = ry; \n    } else if (ry + height < y) {\n      y = ry + height; \n    }    \n\n\n\n    var left = Length.percent((x - rx ) / width  * 100) \n    var top = Length.percent((y - ry ) / height  * 100) \n\n    return {left, top}\n  }\n\n  moveDragPointer (dx, dy) {\n    var x = this.startXY.x + dx; \n    var y = this.startXY.y + dy; \n\n    var {left, top } = this.getRectRate(this.containerRect, x, y);\n\n    if (this.type == 'start') {\n      this.state.image.reset({ x1: left, y1: top })\n      this.children.$x1.setValue(left)\n      this.children.$y1.setValue(top)            \n\n      this.bindData('$startPoint')\n      this.bindData('$line')\n\n    } else if (this.type == 'end') {\n      this.state.image.reset({ x2: left, y2: top })\n      this.children.$x2.setValue(left)\n      this.children.$y2.setValue(top)      \n      this.bindData('$endPoint')\n      this.bindData('$line')      \n    } else if (this.type == 'center') {\n      this.state.image.reset({ cx: left, cy: top })\n      this.children.$cx.setValue(left)\n      this.children.$cy.setValue(top)      \n      this.bindData('$centerPoint')\n    } else if (this.type == 'f') {\n      this.state.image.reset({ fx: left, fy: top })            \n      this.children.$fx.setValue(left)\n      this.children.$fy.setValue(top)      \n      this.bindData('$fPoint')      \n    }\n\n    this.bindData('$gradientView')    \n\n\n    this.updateData();\n  }\n\n  [CLICK('$tab .picker-tab-item')] (e) {\n    var type = e.$dt.attr('data-editor')\n    this.$el.attr('data-selected-editor', type);\n    this.parent.trigger('changeTabType', type);\n\n    var url = type === 'image-resource' ? this.state.image.url : this.state.url;\n    var opt = {}\n    \n    props.forEach(it => {\n      opt[it] = this.children[`$${it}`].getValue()\n    })\n\n    this.state.image = SVGFill.changeImageType({\n      type,\n      url,\n      colorsteps: this.state.image.colorsteps || [] ,   \n      ...opt\n    })\n    this.refresh();\n    this.updateData();\n    this.sendMessage();\n  }\n\n  sendMessage (type) {\n    var type = this.$el.attr('data-selected-editor');\n    if (type === 'linear-gradient') {\n      this.emit('addStatusBarMessage', '');\n    } else if (type === 'url' || type === 'image-resource') {\n      this.emit('addStatusBarMessage', this.$i18n('fill.editor.message.click.image'));\n    } else {\n      this.emit('addStatusBarMessage', this.$i18n('fill.editor.message.drag.position'));\n    }\n  }\n\n  [SUBSCRIBE_SELF('changeKeyValue')] (key, value) {\n\n    this.state.image.reset({\n      [key]: value\n    })\n\n    this.bindData('$gradientView')\n    this.bindData('$line')\n    this.bindData('$startPoint')\n    this.bindData('$endPoint')\n    this.bindData('$centerPoint')\n    this.bindData('$fPoint')\n\n    this.updateData();\n  }\n\n  [SUBSCRIBE('changeColorStepOffset')] (key, value) {\n    if (this.currentStep) {\n      this.currentStep.percent = value.value;\n      this.state.image.sortColorStep();\n      this.refresh()\n      this.updateData();      \n    }\n  }\n\n  [CLICK('$back')] (e) {\n    \n    var rect = this.refs.$stepList.rect();\n    \n    var minX = rect.x;\n    var maxX = rect.right;\n\n    var x = e.xy.x \n\n    if (x < minX)  x = minX\n    else if (x > maxX) x = maxX\n    var percent = (x - minX) / rect.width * 100;\n\n    this.state.image.insertColorStep(percent);\n    this.state.image.sortColorStep()\n\n    this.refresh();\n    this.updateData();\n  }\n\n  [BIND('$el')] () {\n    var type = this.state.image.type;\n    if (type === 'url') {\n      type = 'image-resource'\n    }\n    this.parent.trigger('changeTabType', type);\n    return {\n      \"data-selected-editor\": type\n    }\n  }\n\n  [BIND('$stepList')] () {\n    return {\n      'data-selected-index': this.state.index.toString(),\n      'style': {\n        'background-image' : this.getLinearGradient()\n      }\n    }\n  }\n\n  get fillId () {\n    return this.id + 'fill';\n  }\n\n  [BIND('$gradientView')] () {\n    return {\n      innerHTML : /*html*/`\n        <svg x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">\n          <defs>\n            ${this.state.image.toSVGString(this.fillId)}\n          </defs>\n          <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"${this.state.image.toFillValue(this.fillId)}\" />\n        </svg>\n      `\n    }\n  }\n\n  [LOAD('$stepList')] () {\n    var colorsteps = this.state.image.colorsteps || [] \n    return colorsteps.map( (it, index) => {\n\n      var selected = this.$selection.isSelectedColorStep(it.id) ? 'selected' : '';\n      return /*html*/`\n      <div class='step ${selected}' data-id='${it.id}' style='left: ${it.percent}%;'>\n        <div class='color-view' style=\"background-color: ${it.color}\"></div>\n        <div class='arrow' style=\"background-color: ${it.color}\"></div>\n      </div>`\n    })\n  }\n\n\n  removeStep(id) {\n\n    this.state.image.removeColorStep(id);\n\n    this.refresh();\n    this.updateData();          \n  }\n\n  selectStep(id) {\n    this.state.id = id; \n\n    this.$selection.selectColorStep(id);\n\n    if (this.state.image.colorsteps) {\n      this.currentStep = this.state.image.colorsteps.find( it => this.$selection.isSelectedColorStep(it.id))\n      this.children.$range.setValue(Length.percent(this.currentStep.percent));\n      this.parent.trigger('selectColorStep', this.currentStep.color)    \n  \n    }\n\n    this.refresh();\n\n  }\n\n  [POINTERSTART('$stepList .step') + MOVE()] (e) {\n    var id = e.$dt.attr('data-id')\n\n    if (e.altKey) {\n      this.removeStep(id);\n      return false; \n    } else {\n\n      this.selectStep(id);\n\n      this.startXY = e.xy;\n\n      this.cachedStepListRect = this.refs.$stepList.rect();\n    }\n\n  }\n\n  getStepListRect () {\n    return this.cachedStepListRect;\n  }\n\n  move (dx, dy) {\n\n    var rect = this.getStepListRect()\n    \n    var minX = rect.x;\n    var maxX = rect.right;\n\n    var x = this.startXY.x + dx \n\n    if (x < minX)  x = minX\n    else if (x > maxX) x = maxX\n    var percent = (x - minX) / rect.width * 100;\n\n\n    this.currentStep.percent = percent;\n\n    this.children.$range.setValue(Length.percent(percent));    \n    this.state.image.sortColorStep();\n    this.refresh()\n\n    this.updateData();    \n  }\n\n\n  refresh() {\n    this.load();\n  }\n\n  getLinearGradient () {\n\n    var { image } = this.state; \n\n    return `linear-gradient(to right, ${Gradient.toColorString(image.colorsteps)})`;\n\n  }\n\n  [SUBSCRIBE('setColorStepColor')] (color) {\n\n    if (this.state.image.type === 'static-gradient') {\n      this.state.image.setColor(color)\n      this.refresh()\n      this.updateData();      \n    } else {\n\n      if (this.currentStep) {\n        this.currentStep.color = color;\n        this.refresh()\n        this.updateData();\n      }\n    }\n\n  }\n\n\n  [SUBSCRIBE('setImageUrl')] (url) {\n\n    if (this.state.image) {\n      this.state.url = url; \n      this.state.image.reset({ url });\n      this.refresh();\n      this.updateData();\n    }\n  }\n\n  updateData(data = {}) {\n    this.setState(data, false);\n    this.parent.trigger(this.props.onchange, this.state.image.toString());\n  }\n\n}","\nimport { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { Gradient } from \"el/editor/property-parser/image-resource/Gradient\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './GradientPickerPopup.scss';\n\nexport default class GradientPickerPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('gradient.picker.popup.title')\n  }\n\n  initialize() {\n    super.initialize();\n\n    this.selectedTab = \"static-gradient\";\n  }\n\n  getClassName() {\n    return 'fill-picker-popup';\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--gradient-picker-popup\" ref='$body' data-selected-editor=''>\n        <div class='box'>\n          <div ref='$gradientEditor'></div>\n        </div>\n        <div class='box'>\n          <div class='colorpicker'>\n            <object refClass=\"EmbedColorPicker\" ref='$color' onchange='changeColor' />                    \n          </div>\n          <div class='assetpicker'>\n            <object refClass=\"ImageAssetPicker\" ref='$asset' onchange='changeImageUrl' />\n          </div>\n        </div>\n      </div>\n     \n    `;\n  }\n\n  [SUBSCRIBE('changeTabType')] (type) {\n    this.refs.$body.attr('data-selected-editor', type);\n  }\n\n  getColorString() {\n    var value = '' ;\n    if (this.state.image instanceof Gradient) {\n      value = this.state.image.getColorString()\n    }\n\n\n    return value; \n  }\n\n  getCurrentColor() {\n    return this.state.image.colorsteps[this.state.selectColorStepIndex || 0].color; \n  }\n\n  [LOAD('$gradientEditor')] () {\n    return /*html*/`<object refClass=\"GradientEditor\" \n      ref=\"$g\" \n      value=\"${this.state.image}\" \n      selectedIndex=\"${this.state.selectColorStepIndex}\" \n      onchange='changeGradientEditor'\n    />`\n  }\n\n  [SUBSCRIBE_SELF('changeGradientEditor')] (data) {\n\n    this.state.image = data;\n\n    this.updateData();\n  }\n\n  [SUBSCRIBE_SELF('changeColor')] (color) {\n    this.children.$g.trigger('setColorStepColor', color);\n  }\n\n  [SUBSCRIBE_SELF('changeImageUrl')] (url) {\n    this.children.$g.trigger('setImageUrl', url);\n  }\n\n  [SUBSCRIBE(\"showGradientPickerPopup\")](data, params) {    \n    data.changeEvent = data.changeEvent || 'changeFillPopup'\n    data.image = data.gradient\n    data.params = params;\n    this.setState(data);\n\n    this.show(432);\n  }\n\n  [SUBSCRIBE(\"selectColorStep\")](color) {\n    this.children.$color.setValue(color);\n  }\n\n\n  [SUBSCRIBE(\"changeColorStep\")](data = {}) {\n\n    this.state.image.reset({\n      ...data\n    })\n\n    this.updateData();\n  }\n\n\n  updateData() {\n    this.state.instance.trigger(this.state.changeEvent, this.state.image, this.state.params);\n  }\n\n}","\nimport { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { Gradient } from \"el/editor/property-parser/image-resource/Gradient\";\nimport { SVGStaticGradient } from \"el/editor/property-parser/image-resource/SVGStaticGradient\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './GradientPickerPopup';\n\nimport { html } from \"el/sapa/functions/func\";\n\nexport default class FillPickerPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('fill.picker.popup.title')\n  }\n\n  initState() {\n\n    return {\n      image: SVGStaticGradient.create()\n    }\n  }\n\n  initialize() {\n    super.initialize();\n\n    this.selectedTab = \"static-gradient\";\n  }\n\n  getClassName() {\n    return 'fill-picker-popup'\n  }\n\n  getBody() {\n    return html`\n      <div class=\"elf--gradient-picker-popup\" ref='$body' data-selected-editor=''>\n        <div class='box'>\n          <div ref='$gradientEditor'></div>\n        </div>\n        <div class='box'>\n          <div class='colorpicker'>\n            <object refClass=\"EmbedColorPicker\" ref='$color' onchange=${this.subscribe((color) => { \n              this.trigger('changeColor', color);\n            })} />                    \n          </div>\n          <div class='assetpicker'>\n            <object refClass=\"ImageAssetPicker\" ref='$asset' onchange='changeImageUrl' />\n          </div>\n        </div>\n      </div>\n     \n    `;\n  }\n\n  [SUBSCRIBE('changeTabType')] (type) {\n    this.refs.$body.attr('data-selected-editor', type);\n  }\n\n  getColorString() {\n    var value = '' ;\n    if (this.state.image instanceof Gradient) {\n      value = this.state.image.getColorString()\n    }\n\n\n    return value; \n  }\n\n  getCurrentColor() {\n    return this.state.image.colorsteps[this.state.selectColorStepIndex || 0].color; \n  }\n\n  [LOAD('$gradientEditor')] () {\n    return /*html*/`<object refClass=\"FillEditor\" \n      ref=\"$g\" \n      value=\"${this.state.image}\" \n      selectedIndex=\"${this.state.selectColorStepIndex}\" \n      onchange='changeFillEditor'\n    />`\n  }\n\n  [SUBSCRIBE_SELF('changeFillEditor')] (data) {\n\n    this.state.image = data;\n\n    this.updateData();\n  }\n\n  [SUBSCRIBE_SELF('changeColor')] (color) {\n    this.children.$g.trigger('setColorStepColor', color);\n  }\n\n  [SUBSCRIBE_SELF('changeImageUrl')] (url) {\n    this.children.$g.trigger('setImageUrl', url);\n  }\n\n  [SUBSCRIBE(\"showFillPickerPopup\")](data, params) {\n    this.show(240);\n\n    data.changeEvent = data.changeEvent || 'changeFillPopup'\n    // data.image = data.gradient\n    data.params = params;\n    this.trigger('selectColorStep', data.image.colorsteps[0].color);\n    this.setState(data);\n  }\n\n  [SUBSCRIBE(\"selectColorStep\")](color) {\n    this.children.$color.setValue(color);\n  }\n\n\n  [SUBSCRIBE(\"changeColorStep\")](data = {}) {\n\n    this.state.image.reset({\n      ...data\n    })\n\n    this.updateData();\n  }\n\n\n  updateData() {\n    this.state.instance.trigger(this.state.changeEvent, this.state.image, this.state.params);\n  }\n\n}","import { CLICK, BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { SVGFill } from \"el/editor/property-parser/SVGFill\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './FillSingleEditor.scss';\n\nexport default class FillSingleEditor extends EditorElement {\n\n    initState() { \n        return {\n            index: this.props.index,\n            label: this.props.label,      \n            simple: this.props.simple === 'true' ? true : false,       \n            image: SVGFill.parseImage(this.props.image || 'transparent')\n        }\n    }\n\n    get fillId () {\n        return this.id + 'fill';\n    }    \n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyValue(opt);\n    }\n\n    modifyValue(value) {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.state.index);\n    }\n\n    getValue () {\n        return this.state.image.toString()\n    }\n\n    setValue (value) {\n        this.setState({\n            image: SVGFill.parseImage(value) \n        })\n    }\n\n    [BIND('$fillView')] () {\n\n        var image = this.state.image; \n\n        if (!image) return {innerHTML: ''}; \n\n        return {\n            innerHTML: image.toSVGString(this.fillId)\n        }\n    }\n\n    [BIND('$fillColor')] () {\n\n        var image = this.state.image; \n\n        if (!image) return {fill: 'transparent'}; \n\n        return {\n            fill: image.toFillValue(this.fillId)\n        }\n    }\n\n    [BIND('$colors')] () {\n        var image = this.state.image; \n\n        if (!image) return {fill: 'transparent'}; \n\n        var colors = image.type != 'url' ?  `${image.colorsteps[0].color}` : 'transparent'\n\n        if (image.type.includes('linear') || image.type.includes('radial') ) {\n            colors = image.colorsteps.map(it => {\n                return /*html*/`<span class='color' style='background-color: ${it.color}' title='${it.color}'></span>`\n            }).join('')\n        }\n\n        return {\n            innerHTML: `<div> ${colors} </div>`\n        }\n    }\n\n    template() {\n        var { label, removable, simple } = this.state;\n        var hasLabel = !!label ? 'has-label' : ''\n\n        return /*html*/`\n            <div class='elf--fill-single-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }            \n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n\n                        <svg class='color-view' ref='$miniView'>\n                            <defs ref='$fillView'></defs>\n                            <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" ref='$fillColor' fill='url(#${this.fillId})' />\n                        </svg>\n                    </div>\n                </div>\n                <div class='colors ${simple ? 'simple' : ''}' ref='$colors'></div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewGradientPopup();\n    }\n\n    viewGradientPopup() {\n\n        this.emit(\"showFillPickerPopup\", {\n            instance: this,\n            changeEvent: 'changeFillSingle',\n            image: this.state.image \n        });\n    }\n\n    [SUBSCRIBE('changeFillSingle')] (image, params) {\n        this.updateData({ image: SVGFill.parseImage(image) })\n\n        this.refresh();\n      }\n}","import { CLICK, BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './GradientSingleEditor.scss';\n\nexport default class GradientSingleEditor extends EditorElement {\n\n    initState() { \n        return {\n            index: this.props.index,\n            image: this.props.image,\n            color: 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyValue(opt);\n    }\n\n    modifyValue(value) {\n        this.parent.trigger(this.props.onchange, this.props.key, value, this.state.index);\n    }\n\n    setValue (obj) {\n        this.setState({\n            ...obj \n        })\n    }\n\n    [BIND('$miniView')] () {\n        return {\n            style: {\n                'background-image': this.state.image, \n                'background-size': 'cover',\n                'color': this.props.color,\n            }\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='elf--gradient-single-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ${this.state.color}\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewGradientPopup();\n    }\n\n    viewGradientPopup() {\n\n        this.emit(\"showGradientPickerPopup\", {\n            instance: this,\n            changeEvent: 'changeGradientSingle',\n            gradient: this.state.image \n        });\n    }\n\n    [SUBSCRIBE('changeGradientSingle')] (image, params) {\n        this.updateData({ image })\n\n        this.refresh();\n      }\n}","import { randomItem, repeat } from \"el/utils/func\";\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\n\nconst angle_list = ['0deg', '45deg', '90deg']\n\nexport default { \n    title: 'Linear', \n    key: 'linear', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            return { \n                gradient: `linear-gradient(${randomItem(...angle_list)}, ${ColorStep.createColorStep(2)})`\n            }\n        });\n    }\n}","import { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { randomItem, repeat } from \"el/utils/func\";\nconst angle_list = ['0deg', '45deg', '90deg']\nexport default { \n    title: 'Random Linear', \n    key: 'random-linear', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            return { \n                gradient: `linear-gradient(${randomItem(...angle_list)}, ${ColorStep.createColorStep(10)})`\n            }\n        });\n    }\n}","import { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { randomItem, repeat } from \"el/utils/func\";\n\nconst angle_list = ['0deg', '45deg', '90deg']\n\nexport default { \n    title: 'Repeat Linear', \n    key: 'repeat-linear', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            return { \n                gradient: `repeating-linear-gradient(${randomItem(...angle_list)}, ${ColorStep.createRepeatColorStep(2, '10px')})`\n            }\n        });\n    }\n}","import linear from \"./linear\";\nimport radial from \"./radial\";\nimport conic from \"./conic\";\nimport randomLinear from \"./random-linear\";\nimport randomRadial from \"./random-radial\";\nimport randomConic from \"./random-conic\";\nimport repeatLinear from \"./repeat-linear\";\nimport repeatRadial from \"./repeat-radial\";\nimport repeatConic from \"./repeat-conic\";\n\nexport default [\n    linear,\n    randomLinear,\n    repeatLinear,\n    radial,\n    randomRadial,\n    repeatRadial,\n    conic,\n    randomConic,\n    repeatConic,\n]","import { repeat } from \"el/utils/func\";\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\n\nexport default { \n    title: 'Radial', \n    key: 'radial', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            var shape = 'circle';\n\n            return { \n                gradient: `radial-gradient(${shape}, ${ColorStep.createColorStep(2)})`\n            }\n        });\n    }\n}","\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { randomItem, repeat } from \"el/utils/func\";\n\nexport default { \n    title: 'Random Radial', \n    key: 'random-radial', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            return { \n                gradient: `radial-gradient(circle, ${ColorStep.createColorStep(10)})`\n            }\n        });\n    }\n}","import { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { repeat } from \"el/utils/func\";\n\nexport default { \n    title: 'Repeat Radial', \n    key: 'repeat-radial', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            var shape = 'circle';\n\n            return { \n                gradient: `repeating-radial-gradient(${shape}, ${ColorStep.createRepeatColorStep(3, '6px')})`\n            }\n        });\n    }\n}","import { randomNumber } from \"el/utils/create\";\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { randomItem, repeat } from \"el/utils/func\";\n\nexport default { \n    title: 'Conic', \n    key: 'conic', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            var x = randomNumber(45, 55)\n            var y = randomNumber(45, 55)\n            var angle = randomNumber(0, 360)\n            return { \n                gradient: `conic-gradient(from ${angle}deg at ${x}% ${y}%, ${ColorStep.createColorStep(2, 360, 'deg')})`\n            }\n        });\n    }\n}","\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { repeat } from \"el/utils/func\";\n\nexport default { \n    title: 'Random Conic', \n    key: 'random-conic', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            return { \n                gradient: `conic-gradient(from 0deg at 50% 50%, ${ColorStep.createColorStep(10, 360, 'deg')})`\n            }\n        });\n    }\n}","import { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { repeat } from \"el/utils/func\";\n\nexport default { \n    title: 'Repeat Conic', \n    key: 'repeat-conic', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            return { \n                gradient: `repeating-conic-gradient(from 0deg at 0% 50%, ${ColorStep.createRepeatColorStep(10, '10deg')})`\n            }\n        });\n    }\n}","import { CLICK, DEBOUNCE, DRAGSTART, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport gradients from \"el/editor/preset/gradients\";\nimport { Gradient } from \"el/editor/property-parser/image-resource/Gradient\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport \"./GradientAssetsProperty.scss\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nconst options = gradients.map(it => {\n  return { value: it.key, text: it.title } \n});\n\n\nexport default class GradientAssetsProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('gradient.asset.property.title');\n  }\n\n  initState() {\n    return {\n      mode: 'grid',\n      preset: 'linear',\n    }\n  }\n\n  getTools() {\n    return /*html*/`<div ref=\"$tools\"></div>`\n  }\n\n  [LOAD('$tools')]() {\n    return /*html*/`\n      <object refClass=\"SelectEditor\"  key=\"preset\" value=\"${this.state.preset}\" options=${variable(options)} onchange=\"changePreset\"  />\n    `\n  }  \n\n  [SUBSCRIBE_SELF('changePreset')] (key, value) {\n\n    this.setState({\n      [key]: value\n    })\n  }\n\n  getClassName() {\n    return 'elf--gradient-assets-property'\n  }\n\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)] () {\n    this.show();\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item gradient-assets'>\n        <div class='gradient-list' ref='$gradientList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [DRAGSTART('$gradientList .gradient-item')] (e) {\n    const gradient = e.$dt.attr('data-gradient');\n    e.dataTransfer.effectAllowed = \"copy\";\n    e.dataTransfer.setData(\"text/gradient\", gradient);\n  }\n\n  [LOAD(\"$gradientList\")]() {\n    var preset = gradients.find(it => it.key === this.state.preset);\n\n    if (!preset) {\n      return '';\n    }\n\n    var results = preset.execute().map( (item, index) => { \n\n      return /*html*/`\n        <div class='gradient-item' data-index=\"${index}\" data-gradient='${item.gradient}' data-custom=\"${item.custom}\">\n          <div class='preview' title=\"${item.gradient}\" draggable=\"true\">\n            <div class='gradient-view' style='background-image: ${item.gradient};'></div>\n          </div>\n        </div>\n      `\n    })\n\n    if (preset.edit) {\n      results.push(/*html*/`<div class='add-gradient-item'><butto type=\"button\">${icon.add}</button></div>`)\n    }\n\n    return results\n  }\n\n \n  executeGradient (callback, isRefresh = true, isEmit = true ) {\n    var project = this.$selection.currentProject;\n\n    if(project) {\n\n      callback && callback (project) \n\n      if (isRefresh) this.refresh();\n      if (isEmit) this.emit('refreshGradientAssets');\n    } else {\n      alert('Please select a project.')\n    }\n  } \n  \n  [CLICK('$gradientList .add-gradient-item')] () {\n\n    this.executeGradient(project => {\n      project.createGradient({\n        gradient: Gradient.random(),\n        name: '',\n        variable: ''\n      })\n    })\n  }\n\n  [CLICK(\"$gradientList .preview\")](e) {\n    var $item = e.$dt.closest('gradient-item');    \n    var gradient = $item.attr('data-gradient')\n\n    this.emit('drop.asset', { gradient })    \n  }\n}","import { LOAD, DOMDIFF, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './HistoryProperty.scss';\n\nexport default class HistoryProperty extends BaseProperty {\n\n  afterRender() {\n    this.show();\n  }\n\n  getTitle() {\n    return 'History';\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--history-list-view\" ref='$body'></div>\n    `;\n  }\n\n  [LOAD('$body') + DOMDIFF] () {\n    return this.$editor.history.map((it, index) => {\n      if (it === '-') {\n        return /*html*/`<div class='divider'>-</div>`\n      }  \n      return /*html*/`\n        <div class='history-item'>\n          <span>${index === (this.$editor.history.currentIndex) ? icon.arrowRight : ''}</span>\n          <span>${it.message}</span>\n        </div>\n      `\n    })\n  }\n\n  [SUBSCRIBE('refreshHistory')] () {\n    this.refresh();\n  }\n}","import { Item } from \"el/editor/items/Item\";\n\nexport default class ItemRender {\n\n  /**\n   * id   id \n   * \n   * @param {Item} item\n   * @param {string} postfix \n   */\n  getInnerId(item, postfix = '') {\n    return item.id + postfix;\n  }\n}","import { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { uuidShort } from \"el/utils/math\";\nimport { SVGFilterClassName } from \"../SVGFilter\";\n\nconst  Primitive = 'SourceGraphic,SourceAlpha,BackgroundImage,BackgroundAlpha,FillPaint,StrokePaint'.split(',')\n\nconst DEFAULT_ATTRIBUTES = {\n  xChannelSelector: true,\n  yChannelSelector: true  \n}\n\nexport class BaseSVGFilter extends PropertyItem {\n\n  static parse (obj) {\n    var FilterClass = SVGFilterClassName[obj.type];\n  \n    return new FilterClass(obj);\n  }  \n\n  hasLight () {\n    return false; \n  }\n\n  isLight () {\n    return false; \n  }\n\n  isSource () {\n    return false; \n  }\n\n  getDefaultObject(obj = {}) {\n    var id  = uuidShort()\n    return super.getDefaultObject({ \n      itemType: \"svgfilter\", \n      id,\n      in: [],\n      bound: { x: 100, y: 100, targetX: 0, targetY: 0 },\n      connected: [],\n      ...obj \n    });\n  }\n\n  getInCount () {\n    return 0; \n  }\n\n  setIn  (index, target) {\n    this.json.in[index] = {id: target.id, type: target.type}; \n  }\n\n  setConnected (target ) {\n\n    var f = this.json.connected.filter(c => c.id === target.id);\n\n    if (f.length === 0) {\n      this.json.connected.push({id: target.id });\n    }\n\n  }  \n\n  convert(json) {\n\n\n    if (typeof json.in === 'string') {\n      json.in = JSON.parse(json.in);\n    }\n    if (typeof json.bound === 'string') {\n      json.bound = JSON.parse(json.bound);  \n    }\n\n    if (typeof json.connected === 'string') {\n      json.connected = JSON.parse(json.connected);  \n    }\n\n    \n    return json; \n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('id', 'in', 'bound', 'connected')\n    }\n  }\n\n  getDefaultAttribute () {\n    var list = [] \n\n    if (this.json.connected.length) {\n      list.push(`result=\"${this.json.id}result\"`)\n    }\n\n    Object.keys(DEFAULT_ATTRIBUTES).filter(key => {\n      return !!this.json[key]\n    }).forEach(key => {\n      list.push(`${key}=\"${this.json[key]}\"`)\n    })\n\n    return list.join(' ') + ' ' + this.getSourceInAttribute();\n  }\n\n  hasInIndex () {\n    return false; \n  }\n\n  getSourceInAttribute (inList) {\n    return (inList || this.json.in).map((it, index) => {\n\n      if (!it) return '';\n\n      var indexString = index === 0 ? '' : (index + 1) + '' \n\n      if (!this.hasInIndex()) {\n        indexString = ''; \n      }\n\n      if (Primitive.includes(it.type)) {\n        return `in${indexString}=\"${it.type}\"`\n      }\n      return `in${indexString}=\"${it.id}result\"`\n    }).join(' ')\n  }\n\n\n  toString() {\n    var { type , value } = this.json; \n    return `<fe${type} value=\"${value}\" ${this.getDefaultAttribute()} />`;\n  }\n}\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class RotaMatrixSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"RotaMatrix\",\n      hueRotate: RotaMatrixSVGFilter.spec.hueRotate.defaultValue\n    });\n  }\n\n  convert(json) {\n    json.hueRotate = Length.parse(json.hueRotate);\n    return json \n  }\n\n  toString() {\n    var {id, hueRotate} = this.json \n    return /*html*/`\n      <feColorMatrix type=\"hueRotate\" result=\"romatrix-${id}\"  values=\"${hueRotate}\"/>\n      <feColorMatrix type=\"matrix\" in=\"romatrix-${id}\" in2=\"SourceGraphic\"  ${this.getDefaultAttribute()} values=\"-1 2 -3 0 -.5 2 1 0 0 0 0 3 1 0 0 0 0 1 1 0\"/>\n    `;\n  }\n}\n\n\nRotaMatrixSVGFilter.spec = {\n  hueRotate: {\n    title: \"hue-rotate\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 360,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\n\nexport class MergeSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Merge\"\n    });\n  }\n\n  getInCount() { return 3 }  \n\n\n  getDefaultAttribute () {\n    var list = [] \n\n    if (this.json.connected.length) {\n      list.push(`result=\"${this.json.id}result\"`)\n    }\n\n    return list.join(' ');\n  }  \n\n  toString() {\n    var { in: inList } = this.json; \n    return /*html*/`\n    <feMerge  ${this.getDefaultAttribute()} >\n      ${inList.map(it => {\n        return `<feMergeNode ${this.getSourceInAttribute([it])} />`\n      }).join('')}\n    </feMerge>`;\n  }\n}\n\n\nMergeSVGFilter.spec = {\n\n};\n\n\n","import {BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport class CompositeSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Composite\",\n      operator: CompositeSVGFilter.spec.operator.defaultValue,\n      k1: CompositeSVGFilter.spec.k1.defaultValue,\n      k2: CompositeSVGFilter.spec.k2.defaultValue,\n      k3: CompositeSVGFilter.spec.k3.defaultValue,\n      k4: CompositeSVGFilter.spec.k4.defaultValue\n    });\n  }\n\n  getInCount() { return 2 }  \n\n  toString() {\n    var { operator, k1, k2, k3, k4 } = this.json; \n\n    var kNumbers = '' \n\n    if (operator === 'arithmetic') {\n      kNumbers = ` k1=\"${k1}\" k2=\"${k2}\" k3=\"${k3}\" k4=\"${k4}\" `\n    }\n\n    return `<feComposite operator=\"${operator}\" ${kNumbers}  ${this.getDefaultAttribute()} />`;\n  }\n\n\n  hasInIndex () {\n    return true; \n  }\n}\n\n\nCompositeSVGFilter.spec = {  \n  operator: {\n    title: \"operator\",\n    inputType: \"select\",\n    options: \"over,in,out,atop,xor,arithmetic\",\n    defaultValue: \"over\"\n  },\n  k1: {\n    title: \"k1\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },    \n  k2: {\n    title: \"k2\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },    \n  \n  k3: {\n    title: \"k3\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },    \n  \n  k4: {\n    title: \"k4\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  }\n};\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport class MorphologySVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Morphology\",\n      operator: MorphologySVGFilter.spec.operator.defaultValue,\n      radius: MorphologySVGFilter.spec.radius.defaultValue\n    });\n  }\n  getInCount() { return 1 }    \n\n  toString() {\n    var { operator, radius } = this.json; \n    return `<feMorphology operator=\"${operator}\" radius=\"${radius}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\n\nMorphologySVGFilter.spec = {\n  operator: {\n    title: \"Operator\",\n    inputType: \"select\",\n    options: 'erode,dilate',\n    defaultValue: 'erode'\n  },\n  radius: {\n    title: \"Radius\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class TurbulenceSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Turbulence\",\n      filterType: TurbulenceSVGFilter.spec.filterType.defaultValue,\n      baseFrequency: TurbulenceSVGFilter.spec.baseFrequency.defaultValue,\n      numOctaves: TurbulenceSVGFilter.spec.numOctaves.defaultValue,\n      seed: TurbulenceSVGFilter.spec.seed.defaultValue\n    });\n  }\n\n  convert (obj) {\n    obj.baseFrequency = Length.parse(obj.baseFrequency)\n    obj.numOctaves = Length.parse(obj.numOctaves)\n    obj.seed = Length.parse(obj.seed)\n    return obj; \n  }\n\n  toString() {\n    var { filterType, baseFrequency, numOctaves, seed } = this.json; \n\n    return /*html*/`<feTurbulence ${OBJECT_TO_PROPERTY({\n      type: filterType,\n      baseFrequency,\n      numOctaves, \n      seed\n    })}   ${this.getDefaultAttribute()} />`;\n  }\n}\n\nTurbulenceSVGFilter.spec = {\n  filterType: {\n    title: \"Type\",\n    inputType: \"select\",\n    options: \"fractalNoise,turbulence\",\n    defaultValue: \"turbulence\"\n  },\n  baseFrequency: {\n    title: 'Frequency',\n    inputType: 'number-range',\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },\n  numOctaves: {\n    title: 'Octaves',\n    inputType: 'number-range',\n    min: 1,\n    max: 10,\n    step: 1,\n    defaultValue: Length.number(1)\n  },\n  seed: {\n    title: 'Seed',\n    inputType: 'number-range',\n    min: 0,\n    max: 10000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n  \n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class DisplacementMapSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"DisplacementMap\",\n      scale: DisplacementMapSVGFilter.spec.scale.defaultValue\n    });\n  }\n\n  getInCount() { return 2 }  \n\n  convert (obj) {\n    obj.scale = Length.parse(obj.scale)\n    return obj; \n  }  \n\n  toString() {\n    var { scale } = this.json; \n\n    var scaleOption = scale.value ? `scale=\"${scale}\"` : '';  \n\n    return `<feDisplacementMap ${scaleOption}  ${this.getDefaultAttribute()} />`;\n  }\n\n\n  hasInIndex () {\n    return true; \n  }\n}\n\nDisplacementMapSVGFilter.spec = {\n  scale: {\n    title: 'scale',\n    inputType: 'number-range',\n    min: 0,\n    max: 5000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\n\nexport class ColorMatrixSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"ColorMatrix\",\n      values: ColorMatrixSVGFilter.spec.values.defaultValue,\n    });\n  }\n\n\n  getInCount() { return 1 }\n  toString() {\n    var { values } = this.json; \n\n    var valueString = values.join(' ') \n\n    return /*html*/`<feColorMatrix type=\"matrix\" values=\"${valueString}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nColorMatrixSVGFilter.spec = {\n  values: {\n    title: 'values',\n    inputType: 'color-matrix',\n    column: 5,\n    defaultValue: [\n      1, 0, 0, 0, 0,\n      0, 1, 0, 0, 0,\n      0, 0, 1, 0, 0,\n      0, 0, 0, 1, 0\n    ]\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\n\n\nexport class ConvolveMatrixSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"ConvolveMatrix\",\n      kernelMatrix: ConvolveMatrixSVGFilter.spec.kernelMatrix.defaultValue,\n    });\n  }\n\n\n  getInCount() { return 1 }\n\n  toString() {\n    var { kernelMatrix } = this.json; \n\n    var valueString = kernelMatrix.join(' ')\n\n    return /*html*/`<feConvolveMatrix kernelMatrix=\"${valueString}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nConvolveMatrixSVGFilter.spec = {\n\n  kernelMatrix: {\n    title: 'kernelMatrix',\n    inputType: 'input-array',\n    column: 3,\n    defaultValue: [\n      1, 0, 0,\n      0, 1, 0,\n      0, 0, 1\n    ]\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class GaussianBlurSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"GaussianBlur\",\n      stdDeviationX: GaussianBlurSVGFilter.spec.stdDeviationX.defaultValue,\n      stdDeviationY: GaussianBlurSVGFilter.spec.stdDeviationY.defaultValue,\n      edgeMode: GaussianBlurSVGFilter.spec.edgeMode.defaultValue\n    });\n  }\n\n\n  getInCount() { return 1 }  \n\n\n  convert (obj) {\n    obj.stdDeviationX = Length.parse(obj.stdDeviationX)\n    obj.stdDeviationY = Length.parse(obj.stdDeviationY)\n    return obj; \n  }\n\n  toString() {\n    var { stdDeviationX, stdDeviationY, edgeMode } = this.json; \n\n    var stdDeviation = `${stdDeviationX} ${stdDeviationY}`\n    if (stdDeviationX === stdDeviationY) {\n      stdDeviation = stdDeviationX;\n    }     \n\n    return `<feGaussianBlur  stdDeviation=\"${stdDeviation}\" edgeMode=\"${edgeMode}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nGaussianBlurSVGFilter.spec = {\n  stdDeviationX: {\n    title: \"X\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  stdDeviationY: {\n    title: \"Y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  edgeMode: {\n    title: \"edge\",\n    inputType: \"select\",\n    options: \"none,duplicate,wrap\",\n    defaultValue: \"none\"\n  }\n};\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class FloodSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Flood\",\n      x: FloodSVGFilter.spec.x.defaultValue,\n      y: FloodSVGFilter.spec.y.defaultValue,\n      width: FloodSVGFilter.spec.width.defaultValue,\n      height: FloodSVGFilter.spec.height.defaultValue,\n      color: FloodSVGFilter.spec.color.defaultValue,\n      opacity: FloodSVGFilter.spec.opacity.defaultValue\n    });\n  }\n\n  convert (json) {\n\n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n    json.width = Length.parse(json.width);\n    json.height = Length.parse(json.height);\n\n    return json; \n  }\n\n  toString() {\n\n    const {opacity, color, x, y, width, height} = this.json;\n\n    return `<feFlood ${OBJECT_TO_PROPERTY({\n      x, y, width, height\n    })} flood-opacity=\"${opacity}\" flood-color=\"${color}\" ${this.getDefaultAttribute()} />`;\n  }\n}\n\nFloodSVGFilter.spec = {\n  \n  x: {\n    title: \"X\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  y: {\n    title: \"Y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  width: {\n    title: \"width\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  height: {\n    title: \"height\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },        \n  opacity: {\n    title: \"opacity\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },\n\n  color: {\n    title: \"color\",\n    inputType: \"color\",\n    defaultValue: 'rgba(0, 0, 0, 1)'\n  }\n};\n\n\n","import {BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class ComponentTransferSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"ComponentTransfer\",\n      r: ComponentTransferSVGFilter.spec.r.defaultValue,\n      g: ComponentTransferSVGFilter.spec.g.defaultValue,\n      b: ComponentTransferSVGFilter.spec.b.defaultValue,\n      a: ComponentTransferSVGFilter.spec.a.defaultValue,\n    });\n  }\n\n  getInCount() { return 1 }  \n\n  parse (value) {\n    var [type, ...values] = value.split(' ')\n\n    if (type === 'table' || type === 'discrete') {\n      return {type, tableValues: values.join(' ')}\n    } if (type === 'linear') {\n      var [slop, intercept] = values; \n      return {type, slop, intercept}\n    } else if (type === 'gamma') {\n      var [amplitude, exponent, offset] = values; \n      return {type, amplitude, exponent, offset}\n    }\n\n    return {type}\n}\n\n  toString() {\n    var { r, g, b, a } = this.json;\n    \n    r = this.parse(r);\n    g = this.parse(g);\n    b = this.parse(b);\n    a = this.parse(a);\n\n    return /*html*/`<feComponentTransfer ${this.getDefaultAttribute()} >\n      ${r && `<feFuncR ${OBJECT_TO_PROPERTY(r)} />`}\n      ${g && `<feFuncG ${OBJECT_TO_PROPERTY(g)} />`}\n      ${b && `<feFuncB ${OBJECT_TO_PROPERTY(b)} />`}\n      ${a && `<feFuncA ${OBJECT_TO_PROPERTY(a)} />`}\n    </feComponentTransfe>`;\n  }\n}\n\n\nComponentTransferSVGFilter.spec = {\n  r: {\n    title: \"R\",\n    inputType: \"FuncFilter\",\n    defaultValue: \"identity\"\n  },  \n  g: {\n    title: \"G\",\n    inputType: \"FuncFilter\",\n    defaultValue: \"identity\"\n  },  \n  b: {\n    title: \"B\",\n    inputType: \"FuncFilter\",\n    defaultValue: \"identity\"\n  },  \n  a: {\n    title: \"A\",\n    inputType: \"FuncFilter\",\n    defaultValue: \"identity\"\n  }\n};\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class DistantLightSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"DistantLight\",\n      azimuth: DistantLightSVGFilter.spec.azimuth.defaultValue,      \n      elevation: DistantLightSVGFilter.spec.elevation.defaultValue\n    });\n  }\n\n  isLight() {\n    return true; \n  }\n\n\n  // toString() {\n  //   var { azimuth, elevation } = this.json; \n\n  //   return /*html*/`<feDistantLight ${OBJECT_TO_PROPERTY({\n  //     azimuth, elevation\n  //   })}  ${this.getDefaultAttribute()} />`;\n  // }\n\n\n  toString() {\n    return '';\n  }\n\n  toLightString() {\n    var { azimuth, elevation } = this.json; \n\n    return /*html*/`<feDistantLight ${OBJECT_TO_PROPERTY({\n      azimuth, elevation\n    })} />`;\n  }\n}\n\nDistantLightSVGFilter.spec = {\n \n  azimuth: {\n    title: \"azimuth\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  elevation: {\n    title: \"elevation\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class PointLightSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"PointLight\",\n      x: PointLightSVGFilter.spec.x.defaultValue,      \n      y: PointLightSVGFilter.spec.y.defaultValue,      \n      z: PointLightSVGFilter.spec.z.defaultValue\n    });\n  }\n\n  isLight() {\n    return true; \n  }\n\n\n  // toString() {\n  //   var { x, y, z } = this.json; \n\n  //   return /*html*/`<fePointLight ${OBJECT_TO_PROPERTY({\n  //     x, y, z\n  //   })}  ${this.getDefaultAttribute()} />`;\n  // }\n\n\n  toString() {\n    return '';\n  }\n\n  toLightString() {\n    var { x, y, z } = this.json; \n\n    return /*html*/`<fePointLight ${OBJECT_TO_PROPERTY({\n      x, y, z\n    })} />`;\n  }\n}\n\nPointLightSVGFilter.spec = {\n  x: {\n    title: \"x\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  y: {\n    title: \"y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  z: {\n    title: \"z\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class SpotLightSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"SpotLight\",\n      x: SpotLightSVGFilter.spec.x.defaultValue,      \n      y: SpotLightSVGFilter.spec.x.defaultValue,      \n      z: SpotLightSVGFilter.spec.x.defaultValue,      \n      pointsAtX: SpotLightSVGFilter.spec.pointsAtX.defaultValue,      \n      pointsAtY: SpotLightSVGFilter.spec.pointsAtY.defaultValue,      \n      pointsAtZ: SpotLightSVGFilter.spec.pointsAtZ.defaultValue,      \n      specularExponent: SpotLightSVGFilter.spec.specularExponent.defaultValue,\n      limitingConeAngle: SpotLightSVGFilter.spec.limitingConeAngle.defaultValue\n    });\n  }\n\n\n  isLight() {\n    return true; \n  }\n\n  // toString() {\n  //   var { x, y, z, pointsAtX, pointsAtY, pointsAtZ, specularExponent, limitingConeAngle } = this.json; \n\n  //   return /*html*/`<feSpotLight ${OBJECT_TO_PROPERTY({\n  //     x, y, z, pointsAtX, pointsAtY, pointsAtZ, specularExponent, limitingConeAngle\n  //   })}  ${this.getDefaultAttribute()} />`;\n  // }\n\n  toString() { }\n\n  toLightString() {\n    var { x, y, z, pointsAtX, pointsAtY, pointsAtZ, specularExponent, limitingConeAngle } = this.json; \n\n    return /*html*/`<feSpotLight ${OBJECT_TO_PROPERTY({\n      x, y, z, pointsAtX, pointsAtY, pointsAtZ, specularExponent, limitingConeAngle\n    })} />`;\n  }  \n}\n\nSpotLightSVGFilter.spec = {\n \n  x: {\n    title: \"x\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  y: {\n    title: \"y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  z: {\n    title: \"z\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  pointsAtX: {\n    title: \"pointsAtX\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  pointsAtY: {\n    title: \"pointsAtY\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  pointsAtZ: {\n    title: \"pointsAtZ\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },    \n  specularExponent: {\n    title: \"specularExponent\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },      \n  limitingConeAngle: {\n    title: \"limitingConeAngle\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class DiffuseLightingSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"DiffuseLighting\",\n      surfaceScale: DiffuseLightingSVGFilter.spec.surfaceScale.defaultValue,      \n      lightingColor: DiffuseLightingSVGFilter.spec.lightingColor.defaultValue,      \n      diffuseConstant: DiffuseLightingSVGFilter.spec.diffuseConstant.defaultValue,\n      lightInfo: '' \n    });\n  }\n  toCloneObject () {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'surfaceScale',      \n        'lightingColor',      \n        'diffuseConstant',\n        'lightInfo',\n      )\n\n    }\n  }  \n\n  hasLight() {\n    return true; \n  }\n\n\n  getInCount() { return 1 }  \n\n\n  toString() {\n    var { surfaceScale, diffuseConstant, lightingColor } = this.json; \n\n    return /*html*/`<feDiffuseLighting ${OBJECT_TO_PROPERTY({\n      surfaceScale,\n      diffuseConstant,\n      'lighting-color': lightingColor\n    })}  ${this.getDefaultAttribute()} >\n      ${this.json.lightInfo}\n    </feDiffuseLighting>`;\n  }\n}\n\nDiffuseLightingSVGFilter.spec = {\n  surfaceScale: {\n    title: \"surfaceScale\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },\n  diffuseConstant: {\n    title: \"diffuseConstant\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },  \n \n  lightingColor: {\n    title: \"Lighting Color\",\n    inputType: \"color\",\n    defaultValue: 'rgba(0, 0, 0, 1)'\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class SpecularLightingSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"SpecularLighting\",\n      surfaceScale: SpecularLightingSVGFilter.spec.surfaceScale.defaultValue,      \n      lightingColor: SpecularLightingSVGFilter.spec.lightingColor.defaultValue,      \n      specularConstant: SpecularLightingSVGFilter.spec.specularConstant.defaultValue,      \n      specularExponent: SpecularLightingSVGFilter.spec.specularExponent.defaultValue,\n      lightInfo: ''\n    });\n  }\n  \n  toCloneObject () {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'surfaceScale',      \n        'lightingColor',\n        'specularConstant',\n        'specularExponent',\n        'lightInfo'\n      )\n\n    }\n  }\n\n  hasLight() {\n    return true; \n  }\n\n  getInCount() { return 1 }  \n\n  toString() {\n    var { surfaceScale, specularConstant, specularExponent, lightingColor } = this.json; \n\n    return /*html*/`<feSpecularLighting ${OBJECT_TO_PROPERTY({\n      surfaceScale,\n      specularConstant, \n      specularExponent,\n      'lighting-color': lightingColor\n    })}  ${this.getDefaultAttribute()} >\n      ${this.json.lightInfo}\n    </feSpecularLighting>`;\n  }\n\n  getSourceInAttribute () {\n    return '';\n  }\n}\n\nSpecularLightingSVGFilter.spec = {\n  surfaceScale: {\n    title: \"surfaceScale\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },\n  specularConstant: {\n    title: \"Constant\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },  \n  specularExponent: {\n    title: 'Exponent',\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },  \n \n  lightingColor: {\n    title: \"Lighting Color\",\n    inputType: \"color\",\n    defaultValue: 'rgba(0, 0, 0, 1)'\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class OffsetSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Offset\",\n      dx: OffsetSVGFilter.spec.dx.defaultValue,\n      dy: OffsetSVGFilter.spec.dy.defaultValue\n    });\n  }\n\n  getInCount() { return 1 }    \n\n  toString() {\n    var {dx, dy } = this.json; \n    return /*html*/`<feOffset \n      ${OBJECT_TO_PROPERTY({\n        dx, dy \n      })}  ${this.getDefaultAttribute()} />`;\n  }\n}\n\n\nOffsetSVGFilter.spec = {\n  dx: {\n    title: \"dx\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  dy: {\n    title: \"dy\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n \nexport class BlendSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Blend\",\n      mode: BlendSVGFilter.spec.mode.defaultValue\n    });\n  }\n\n  getInCount() { return 2 }\n\n\n\n  toString() {\n    var { mode } = this.json; \n\n    return /*html*/`<feBlend ${OBJECT_TO_PROPERTY({\n      mode\n    })} ${this.getDefaultAttribute()} />`;\n  }\n\n  hasInIndex () {\n    return true; \n  }\n}\n\n\n\nBlendSVGFilter.spec = {\n  mode: {\n    title: 'mode',\n    inputType: 'blend',\n    defaultValue: 'normal'\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nexport class SourceSVGFilter extends BaseSVGFilter {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: 'Source',\n      ...obj\n    });\n  }\n  \n  isSource() {\n    return true; \n  }\n  toString() {\n    return '';\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class SourceGraphicSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'SourceGraphic'\n    });\n  }\n}","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class SourceAlphaSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'SourceAlpha'\n    });\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class BackgroundImageSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'BackgroundImage'\n    });\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class BackgroundAlphaSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'BackgroundAlpha'\n    });\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class FillPaintSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'FillPaint'\n    });\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class StrokePaintSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'StrokePaint'\n    });\n  }\n}\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class DropShadowSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"DropShadow\",\n      dx: DropShadowSVGFilter.spec.dx.defaultValue,      \n      dy: DropShadowSVGFilter.spec.dy.defaultValue,\n      stdDeviation: DropShadowSVGFilter.spec.stdDeviation.defaultValue,\n      color: DropShadowSVGFilter.spec.color.defaultValue,\n      opacity: DropShadowSVGFilter.spec.opacity.defaultValue,\n    });\n  }\n\n  getInCount() {\n    return 1; \n  }\n\n  toString() {\n    var { dx, dy, stdDeviation, color, opacity } = this.json; \n\n    return /*html*/`<feDropShadow ${OBJECT_TO_PROPERTY({\n      dx, dy, stdDeviation, 'flood-color': color, 'flood-opacity': opacity\n    })}  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nDropShadowSVGFilter.spec = {\n \n  dx: {\n    title: \"dx\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  dy: {\n    title: \"dy\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },        \n  stdDeviation: {\n    title: \"stdDeviation\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 0.1,\n    defaultValue: Length.number(0)\n  },  \n  opacity: {\n    title: \"opacity\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(1)\n  },\n\n  color: {\n    title: \"color\",\n    inputType: \"color\",\n    defaultValue: 'rgba(0, 0, 0, 1)'\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport class SaturateSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Saturate\",\n      values: SaturateSVGFilter.spec.values.defaultValue,\n    });\n  }\n\n  getInCount() { return 1 }\n\n  toString() {\n    var { values } = this.json; \n\n    return /*html*/`<feColorMatrix type=\"saturate\" values=\"${values}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nSaturateSVGFilter.spec = {\n  values: {\n    title: \"values\",\n    inputType: \"number-range\",\n    min: -1,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport class HueRotateSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"HueRotate\",\n      values: HueRotateSVGFilter.spec.values.defaultValue,\n    });\n  }\n\n  getInCount() { return 1 }\n  \n  toString() {\n    var { values } = this.json;\n\n    return /*html*/`<feColorMatrix type=\"hueRotate\" values=\"${values}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nHueRotateSVGFilter.spec = {\n  values: {\n    title: \"values\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 360,\n    step: 0.1,\n    defaultValue: Length.number(0)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\n\nexport class LuminanceAlphaSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"LuminanceAlpha\"\n    });\n  }\n\n  getInCount() { return 1 }\n  \n  toString() {\n\n    return /*html*/`<feColorMatrix type=\"luminanceToAlpha\" ${this.getDefaultAttribute()} />`;\n  }\n}\n\nLuminanceAlphaSVGFilter.spec = {\n\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class TileSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Tile\",\n      x: TileSVGFilter.spec.x.defaultValue,\n      y: TileSVGFilter.spec.y.defaultValue,\n      width: TileSVGFilter.spec.width.defaultValue,\n      height: TileSVGFilter.spec.height.defaultValue\n    });\n  }\n\n  getInCount() {\n    return 1; \n  }\n\n  convert (json) {\n\n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n    json.width = Length.parse(json.width);\n    json.height = Length.parse(json.height);\n\n    return json; \n  }\n\n  toString() {\n\n    const {x, y, width, height} = this.json;\n\n    return `<feTile ${OBJECT_TO_PROPERTY({\n      x, y, width, height\n    })} ${this.getDefaultAttribute()} />`;\n  }\n}\n\nTileSVGFilter.spec = {\n  \n  x: {\n    title: \"X\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  y: {\n    title: \"Y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  width: {\n    title: \"width\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  height: {\n    title: \"height\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class ImageSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Image\",\n      x: ImageSVGFilter.spec.x.defaultValue,\n      y: ImageSVGFilter.spec.y.defaultValue,\n      width: ImageSVGFilter.spec.width.defaultValue,\n      height: ImageSVGFilter.spec.height.defaultValue,\n      src: ImageSVGFilter.spec.src.defaultValue,\n      alignment: ImageSVGFilter.spec.alignment.defaultValue,\n      scaleing: ImageSVGFilter.spec.scaleing.defaultValue\n    });\n  }\n\n  convert (json) {\n\n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n    json.width = Length.parse(json.width);\n    json.height = Length.parse(json.height);\n\n    return json; \n  }\n\n  toString() {\n\n    const {src, x, y, width, height, alignment, scaleing} = this.json;\n\n    return `<feImage ${OBJECT_TO_PROPERTY({\n      x, y, width, height, \n      'xlink:href': src,\n      preserveAspectRatio:`${alignment} ${scaleing}`\n    })} ${this.getDefaultAttribute()} />`;\n  }\n}\n\nImageSVGFilter.spec = {\n  \n  x: {\n    title: \"X\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  y: {\n    title: \"Y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  width: {\n    title: \"width\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  height: {\n    title: \"height\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },        \n  alignment: {\n    title: \"alignment\",\n    inputType: \"select\",\n    options: \"xMinYMin,xMidYMin,xMaxYMin,xMinYMid,xMidYMid,xMaxYMid,xMinYMax,xMidYMax,xMaxYMax\",\n    defaultValue: \"xMidYMid\"\n  },\n  scaleing: {\n    title: \"scaleing\",\n    inputType: \"select\",\n    options: \"meet,slice\",\n    defaultValue: \"meet\"\n  },\n  src: {\n    title: \"Image\",\n    inputType: \"ImageSelectEditor\",\n    defaultValue: ''\n  }\n};\n\n\n","import { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { RotaMatrixSVGFilter } from \"./svg-filter/RotaMatrixSVGFilter\";\nimport { MergeSVGFilter } from \"./svg-filter/MergeSVGFilter\";\nimport { CompositeSVGFilter } from \"./svg-filter/CompositeSVGFilter\";\nimport { MorphologySVGFilter } from \"./svg-filter/MorphologySVGFilter\";\nimport { TurbulenceSVGFilter } from \"./svg-filter/TurbulenceSVGFilter\";\nimport { DisplacementMapSVGFilter } from \"./svg-filter/DisplacementMapSVGFilter\";\nimport { ColorMatrixSVGFilter } from \"./svg-filter/ColorMatrixSVGFilter\";\nimport { ConvolveMatrixSVGFilter } from \"./svg-filter/ConvolveMatrixSVGFilter\";\nimport { GaussianBlurSVGFilter } from \"./svg-filter/GaussianBlurSVGFilter\";\nimport { FloodSVGFilter } from \"./svg-filter/FloodSVGFilter\";\nimport { ComponentTransferSVGFilter } from \"./svg-filter/ComponentTransferSVGFilter\";\nimport { DistantLightSVGFilter } from \"./svg-filter/DistantLightSVGFilter\";\nimport { PointLightSVGFilter } from \"./svg-filter/PointLightSVGFilter\";\nimport { SpotLightSVGFilter } from \"./svg-filter/SpotLightSVGFilter\";\nimport { DiffuseLightingSVGFilter } from \"./svg-filter/DiffuseLightingSVGFilter\";\nimport { SpecularLightingSVGFilter } from \"./svg-filter/SpecularLightingSVGFilter\";\nimport { OffsetSVGFilter } from \"./svg-filter/OffsetSVGFilter\";\nimport { BlendSVGFilter } from \"./svg-filter/BlendSVGFilter\";\nimport { SourceGraphicSVGFilter } from \"./svg-filter/SourceGraphicSVGFilter\";\nimport { SourceAlphaSVGFilter } from \"./svg-filter/SourceAlphaSVGFilter\";\nimport { BackgroundImageSVGFilter } from \"./svg-filter/BackgroundImageSVGFilter\";\nimport { BackgroundAlphaSVGFilter } from \"./svg-filter/BackgroundAlphaSVGFilter\";\nimport { FillPaintSVGFilter } from \"./svg-filter/FillPaintSVGFilter\";\nimport { StrokePaintSVGFilter } from \"./svg-filter/StrokePaintSVGFilter\";\nimport { DropShadowSVGFilter } from \"./svg-filter/DropShadowSVGFilter\";\nimport { SaturateSVGFilter } from \"./svg-filter/SaturateSVGFilter\";\nimport { HueRotateSVGFilter } from \"./svg-filter/HueRotateSVGFilter\";\nimport { LuminanceAlphaSVGFilter } from \"./svg-filter/LuminanceAlphaSVGFilter\";\nimport { TileSVGFilter } from \"./svg-filter/TileSVGFilter\";\nimport { ImageSVGFilter } from \"./svg-filter/ImageSVGFilter\";\n\nconst SVG_FILTER_COMMON_ATTRIBUTES = [\n  'result'\n]\n\n\nexport class SVGFilter extends PropertyItem {\n\n  static parse (obj) {\n    var FilterClass = SVGFilterClassName[obj.type];\n  \n    return new FilterClass(obj);\n  }  \n\n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({ \n      itemType: \"svgfilter\", \n      result: '',\n      ...obj \n    });\n  }\n\n  getDefaultAttribute () {\n    return SVG_FILTER_COMMON_ATTRIBUTES.map(key => {\n      return `${key}=\"${this.json[key]}\"`\n    }).join(' ')\n  }\n\n  toString() {\n    var { type , value } = this.json; \n    return `<fe${type} value=\"${value}\" ${this.getDefaultAttribute()} />`;\n  }\n}\n\n\nexport const SVGFilterClassName = {\n  Image: ImageSVGFilter,\n  Tile: TileSVGFilter,\n  Saturate: SaturateSVGFilter,\n  HueRotate: HueRotateSVGFilter,\n  LuminanceAlpha: LuminanceAlphaSVGFilter,\n  DropShadow: DropShadowSVGFilter,\n  SourceGraphic: SourceGraphicSVGFilter,\n  SourceAlpha: SourceAlphaSVGFilter,\n  BackgroundImage: BackgroundImageSVGFilter,\n  BackgroundAlpha: BackgroundAlphaSVGFilter,\n  FillPaint: FillPaintSVGFilter,\n  StrokePaint: StrokePaintSVGFilter,\n  ComponentTransfer: ComponentTransferSVGFilter,\n  DistantLight: DistantLightSVGFilter,\n  PointLight: PointLightSVGFilter,\n  SpotLight: SpotLightSVGFilter,\n  DiffuseLighting: DiffuseLightingSVGFilter,\n  SpecularLighting: SpecularLightingSVGFilter,\n  Blend: BlendSVGFilter,\n  Offset: OffsetSVGFilter,\n  RotaMatrix: RotaMatrixSVGFilter,\n  GaussianBlur: GaussianBlurSVGFilter,\n  Flood: FloodSVGFilter,\n  Merge: MergeSVGFilter,\n  Composite: CompositeSVGFilter,\n  Morphology: MorphologySVGFilter,\n  Turbulence: TurbulenceSVGFilter,\n  DisplacementMap: DisplacementMapSVGFilter,\n  ColorMatrix: ColorMatrixSVGFilter,\n  ConvolveMatrix: ConvolveMatrixSVGFilter,\n};\n\nexport const SVGFilterSpecList = {\n  Image: ImageSVGFilter.spec,\n  Tile: TileSVGFilter.spec,\n  DropShadow: DropShadowSVGFilter.spec,\n  Saturate: SaturateSVGFilter.spec,\n  HueRotate: HueRotateSVGFilter.spec,\n  LuminanceAlpha: LuminanceAlphaSVGFilter.spec,  \n  Offset: OffsetSVGFilter.spec,\n  ComponentTransfer: ComponentTransferSVGFilter.spec,\n  SpecularLighting: SpecularLightingSVGFilter.spec,\n  SpotLight: SpotLightSVGFilter.spec,\n  PointLight: PointLightSVGFilter.spec,\n  DistantLight:DistantLightSVGFilter.spec,  \n  DiffuseLighting: DiffuseLightingSVGFilter.spec,\n  Blend: BlendSVGFilter.spec,\n  RotaMatrix: RotaMatrixSVGFilter.spec,\n  Merge: MergeSVGFilter.spec,\n  GaussianBlur: GaussianBlurSVGFilter.spec,\n  Flood: FloodSVGFilter.spec,\n  Morphology: MorphologySVGFilter.spec,\n  Composite: CompositeSVGFilter.spec,\n  Turbulence: TurbulenceSVGFilter.spec,\n  DisplacementMap: DisplacementMapSVGFilter.spec,\n  ColorMatrix: ColorMatrixSVGFilter.spec,\n  ConvolveMatrix: ConvolveMatrixSVGFilter.spec\n}; \n","import Dom from \"el/sapa/functions/Dom\";\nimport { isNotUndefined } from \"el/sapa/functions/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport { BackgroundImage } from \"el/editor/property-parser/BackgroundImage\";\nimport { ClipPath } from \"el/editor/property-parser/ClipPath\";\nimport { Pattern } from \"el/editor/property-parser/Pattern\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\nimport ItemRender from \"./ItemRender\";\nimport { SVGFilter } from 'el/editor/property-parser/SVGFilter';\n\nconst ZERO_CONFIG = {}\n\nconst WEBKIT_ATTRIBUTE_FOR_CSS = [\n  'text-fill-color', \n  'text-stroke-color', \n  'text-stroke-width', \n  'background-clip'\n]\n\nexport default class DomRender extends ItemRender {\n    \n\n  /**\n   * \n   * @param {Item} item \n   * @param {string} field \n   */\n  toStringPropertyCSS (item, field) {\n    return STRING_TO_CSS(item[field]);\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toBackgroundImageCSS(item) {\n\n    if (!item.cacheBackgroundImage) {\n      item.setBackgroundImageCache();\n    }\n\n    return item.cacheBackgroundImage; \n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toLayoutCSS (item) {\n\n    const layout = item.layout ;\n\n    if (item.hasLayout()) {\n      if (layout === 'flex') {\n        return this.toFlexLayoutCSS(item)\n      } else if  (layout === 'grid') {\n        return this.toGridLayoutCSS(item)\n      }\n    }\n\n    return {}\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toLayoutItemCSS(item) {\n    var parentLayout =  item.parent?.['layout'];\n    var obj = {}\n    if (parentLayout === 'flex') {\n      //   layout      item  position: relative  . , left, top     \n      obj = {\n        position: 'relative',\n        left: 'auto !important',\n        top: 'auto !important',\n      }\n    } else if (parentLayout === 'grid') {\n      //   layout      item  position: relative  . , left, top     \n      obj = {\n        position: 'relative',\n        left: 'auto !important',\n        top: 'auto !important',\n        width: 'auto !important',\n        height: 'auto !important',        \n      }\n\n    }\n\n    if (parentLayout === 'flex') {\n      obj = {\n        ...obj, \n        ...STRING_TO_CSS(item['flex-layout-item'])\n      }      \n    } else if (parentLayout  === 'grid') {\n      obj = {\n        ...obj, \n        ...STRING_TO_CSS(item['grid-layout-item'])\n      }\n    }\n\n    return obj;\n  }\n\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toFlexLayoutCSS(item) {\n    return {\n      display: 'flex',\n      ...this.toStringPropertyCSS(item, 'flex-layout')\n    }\n  }  \n\n  /**\n   * \n   * @param {Item} item \n   */\n  toGridLayoutCSS(item) {\n    return {\n      display: 'grid',\n      ...this.toStringPropertyCSS(item, 'grid-layout')\n    }\n  }  \n\n  /**\n   * \n   * @param {Item} item \n   */\n  toBorderCSS(item) {\n    if (item.hasChildren()) return {}; \n\n    return item.computed('border', (border) => {\n      return STRING_TO_CSS(border);\n    })\n  }\n\n  toKeyCSS (key) {\n    if (!item[key]) return {} \n    return {\n      [key] : item[key]\n    };\n  }\n\n\n  toBoxModelCSS(item) {\n    let obj = {};\n\n    if (item['margin-top']) obj[\"margin-top\"] = item['margin-top'];\n    if (item['margin-bottom']) obj[\"margin-bottom\"] = item['margin-bottom'];\n    if (item['margin-left']) obj[\"margin-left\"] = item['margin-left'];\n    if (item['margin-right']) obj[\"margin-right\"] = item['margin-right'];\n\n    if (item['padding-top']) obj[\"padding-top\"] = item['padding-top'];\n    if (item['padding-bottom']) obj[\"padding-bottom\"] = item['padding-bottom'];\n    if (item['padding-left']) obj[\"padding-left\"] = item['padding-left'];\n    if (item['padding-right']) obj[\"padding-right\"] = item['padding-right'];\n\n\n    return obj;\n  }  \n\n\n  /**\n   * \n   * @param {Item} item \n   * @param {string[]} parameters      \n   */\n  toKeyListCSS (item, args = []) {\n    let obj = {};\n\n    args.filter(it => isNotUndefined(item.json[it])).forEach( it => {\n        obj[it] = item.json[it]\n    })\n\n    return obj;\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toDefaultCSS(item) {\n\n    let obj = {}\n\n    if (item.isAbsolute) {\n      if (item.x)  {\n        obj.left = item.x ;\n      }\n      if (item.y)  {\n        obj.top = item.y ;\n      }\n    }\n\n    obj.visibility = (item.visible) ? 'visible' : 'hidden';\n\n    let result = {}\n\n    result = Object.assign(result, obj);\n    result = Object.assign(result, {\n      'will-change': 'auto'\n    });\n    result = Object.assign(result, this.toKeyListCSS(item, [\n      'position', \n\n      // 'right',\n      // 'bottom', \n      'width',\n      'height', \n      'overflow', \n      'z-index', \n      'box-sizing',\n      'background-color', \n      'color',  \n      'opacity', \n      'mix-blend-mode',\n      'transform-origin', \n      'transform-style', \n      'perspective', \n      'perspective-origin',\n      'font-size', \n      'font-stretch', \n      'line-height', \n      'font-weight', \n      'font-family', \n      'font-style',\n      'text-align', \n      'text-transform', \n      'text-decoration',\n      'letter-spacing', \n      'word-spacing', \n      'text-indent',\n      'border-radius',\n      'filter', \n      'backdrop-filter', \n      'box-shadow', \n      'text-shadow',\n      'offset-path', \n      'animation',  \n      'transition',\n    ]));\n    return result;\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toVariableCSS (item) {\n\n    const v = item.computed('variable', (v) => {\n      let obj = {}      \n      v.split(';').filter(it => it.trim()).forEach(it => {\n        const [key, value] = it.split(':')\n  \n        obj[`--${key}`] = value; \n      })      \n\n      return obj;\n    })\n\n    return v;\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toRootVariableCSS (item) {\n    let obj = {}\n    item.rootVariable.split(';').filter(it => it.trim()).forEach(it => {\n      const [key, value] = it.split(':')\n\n      obj[`--${key}`] = value; \n    })\n\n    return obj;\n  }\n\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toRootVariableString (item) {\n    return CSS_TO_STRING(this.toRootVariableCSS(item))\n  }\n\n  /**\n   * convert to only webket css property \n   * @param {*} item \n   */\n  toWebkitCSS(item) {\n    var results = {}\n    WEBKIT_ATTRIBUTE_FOR_CSS.forEach(key => {\n      results[`-webkit-${key}`] = item[key]; \n    })\n\n    return results;\n  }\n\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toTextClipCSS(item) {\n\n    let results = {} \n\n    if (item['text-clip'] === 'text') {\n      results['-webkit-background-clip'] = 'text'\n      results['-webkit-text-fill-color'] = 'transparent';   \n      results['color'] = 'transparent';\n    }\n\n    return results;\n  }  \n\n  /**\n   * \n   * @param {Item} item \n   */\n  toTransformCSS(item) {\n\n    // transform      \n    if (item.transform === '') {\n      return ZERO_CONFIG;\n    }\n\n    const results = {\n      transform: item['transform']\n    } \n\n    if (results.transform === 'rotateZ(0deg)') {\n      delete results.transform;\n    }\n\n    return {\n      transform: results.transform\n    };\n  }     \n\n  \n\n  /**\n   * \n   * @param {Item} item \n   */\n  toDefInnerString (item) {\n    return /*html*/`\n      ${this.toClipPath(item)}\n      ${this.toSVGFilter(item)}\n    `.trim();\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toClipPath(item) {\n\n    if (item['clip-path'] === '') return '';\n\n    if (!item.cacheClipPathObject) {\n      item.setClipPathCache();\n    }\n\n    var obj = item.cacheClipPathObject;\n    var value = obj.value; \n\n    switch (obj.type) {\n    case 'path':\n      return /*html*/`<clipPath id=\"${this.clipPathId(item)}\"><path d=\"${item.clipPathString}\" /></clipPath>`\n    case 'svg': \n      return /*html*/`<clipPath id=\"${this.clipPathId(item)}\">${value}</clipPath>`\n    }\n\n    return ``\n  }\n\n\n  toClipPathCSS (item) {\n    let str = item['clip-path']\n\n    if (Boolean(str) === false) {\n      return null;\n    }\n\n    if (!item.cacheClipPathObject) {\n      item.setClipPathCache();\n    }\n\n    \n    var obj = item.cacheClipPathObject;\n\n    switch (obj.type) {\n    case 'path': \n      if (obj.value) {\n        str = `url(#${this.clipPathId(item)})`\n      }\n      break;\n    case 'svg': \n      str = `url(#${this.clipPathId(item)})`\n      break; \n    }\n\n    return {\n      'clip-path': str\n    }\n  }  \n\n  /**\n   * \n   * @param {Item} item \n   */\n  innerSVGId(item) {\n    return item.id + 'inner-svg'\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  clipPathId (item) {\n    return item.id + 'clip-path'\n  }    \n\n  /**\n   * \n   * @param {Item} item \n   */\n  toDefString (item) {\n    var str = this.toDefInnerString(item)\n\n    return str ? /*html*/`\n    <svg class='inner-svg-element' style=\"display:block\" data-id=\"${this.innerSVGId(item)}\" width=\"0\" height=\"0\">\n      <defs>\n        ${str}\n      </defs>\n    </svg>\n    ` : ''\n  }\n\n  /**\n   * \n   * @param {DomItem} item \n   * @param {string} prefix \n   */\n  toSelectorString (item, prefix = '') {\n    return item.selectors\n              .map(selector => selector.toString(prefix))\n              .join('\\n\\n')\n  }\n\n  /**\n   * \n   * @param {Item} item \n   * @param {string} prefix \n   * @param {string} appendCSS \n   */\n  generateView (item, prefix = '', appendCSS = '') {\n\n        //1.   css   \n        //2.        CSS     \n        //3.  selector     css   (:hover, :active  )\n    var cssString = `\n  ${prefix} {  /* ${item.itemType} */\n      ${CSS_TO_STRING(this.toCSS(item), '\\n    ')}; \n      ${appendCSS}\n  }\n  ${this.toNestedCSS(item).map(it => {\n    return `${prefix} ${it.selector} { \n        ${it.cssText ? it.cssText : CSS_TO_STRING(it.css || {}, '\\n\\t\\t')}; \n    }`\n  }).join('\\n')}\n  ${this.toSelectorString(item, prefix)}\n    `  \n    return cssString;\n  }  \n\n\n  /**\n   * CSS  \n   * @param {Item} item \n   * @override\n   */\n  toCSS(item) {\n\n    return Object.assign(\n      {},\n      this.toVariableCSS(item),\n      this.toDefaultCSS(item),\n      this.toClipPathCSS(item),\n      this.toWebkitCSS(item), \n      this.toTextClipCSS(item),      \n      this.toBoxModelCSS(item),\n      this.toBorderCSS(item),\n      this.toBackgroundImageCSS(item),\n      this.toLayoutCSS(item),\n      this.toTransformCSS(item),                  \n      this.toLayoutItemCSS(item)\n    );\n  }\n\n  /**\n   * \n   * @param {Item} item \n   * @param {HtmlRenderer} renderer \n   */\n  toStyle (item, renderer) {\n    const cssString = this.generateView(item, `.element-item[data-id='${item.id}']`)\n    return /*html*/`\n<style type='text/css' data-renderer-type=\"html\" data-id='${item.id}' data-timestamp='${item.timestamp}'>\n${cssString}\n</style>\n    ` + item.layers.map(it => {\n      return renderer.toStyle(it, renderer);\n    }).join('')\n  }\n\n  /**\n   *     \n   * \n   * @param {Item} item \n   * @param {Renderer} renderer\n   * @override\n   */\n  render (item, renderer) {\n    var {elementType, id, name, itemType} = item;\n  \n    const tagName = elementType || 'div'\n  \n    return /*html*/`<${tagName} class=\"element-item ${itemType}\" data-id=\"${id}\" data-title=\"${name}\">\n  ${this.toDefString(item)}\n  ${item.layers.map(it => {\n    return renderer.render(it, renderer)\n  }).join('')}\n</${tagName}>`\n  }\n\n  toSVGFilter (item) {\n    var filterString = item.computedValue('svgfilters');\n\n    //  svgfilters   computed    \n    //       \n    if (item.hasChangedField('svgfilters') || !filterString) {\n\n      filterString = item.computed(\n        'svgfilters', \n        (svgfilters) => {\n          var filterString = svgfilters.map(svgfilter => {\n            return /*html*/`\n              <filter id='${svgfilter.id}'>\n                ${svgfilter.filters.map(filter => SVGFilter.parse(filter)).join('\\n')}\n              </filter>`  \n          }).join('')\n    \n          return filterString;\n        }, \n        true  //    \n      )\n    }\n\n    return filterString\n }\n\n\n  renderSVG (item, renderer) {\n    \n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toNestedCSS(item) {\n    return []\n  }\n\n  /**\n   *       \n   * \n   * @param {Item} item \n   * @param {Dom} currentElement \n   * @override\n   */\n  update (item, currentElement) {\n\n    if (!currentElement) return; \n\n    let $svg = currentElement.el.$svg;\n\n    if (!$svg) { \n      currentElement.el.$svg = currentElement.$(`[data-id=\"${this.innerSVGId(item)}\"]`);  \n      $svg = currentElement.el.$svg\n    }\n\n    if ($svg) {\n\n      const defString = this.toDefInnerString(item)\n\n      if (defString) {\n        var $defs = $svg.$('defs');\n        $defs.updateSVGDiff(`<defs>${defString}</defs>`)\n      }\n\n    } else {\n      const defString = this.toDefString(item)\n\n      if (defString) {\n        var a = Dom.createByHTML(defString);\n        if (a) {\n          currentElement.prepend(a);\n        }\n      }\n    }\n\n  }    \n}","import DomRender from \"./DomRender\";\n\nexport default class LayerRender extends DomRender {\n    \n}","\nimport { LOAD, CLICK, BIND, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nconst image_size = [\n  '',\n  '100x100',\n  '200x200',\n  '300x300',\n  '400x300',\n  '900x600',\n  '1024x762'\n] \n\nexport default class ImageProperty extends BaseProperty {\n\n  getClassName() {\n    return 'item'\n  }\n\n  getTitle() {\n    return this.$i18n('image.property.title')\n  }\n\n  getBody() {\n    return `<div ref='$body' style='padding-top: 3px;'></div>`;\n  }  \n\n  getFooter() {\n    return /*html*/`\n      <div>\n        <label> ${this.$i18n('image.property.origin')} </label> \n        <span ref='$sizeInfo'></span> \n        <button type=\"button\" ref='$resize'>${icon.size}</button>\n      </div>\n      <div>\n        <object refClass=\"SelectEditor\"  ref='$select' label=\"${this.$i18n('image.property.size')}\" key='size' value='' options='${image_size.join(',')}' onchange='changeImageSize' />\n      </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeImageSize')] (key, value) {\n    var [width, height] = value.split('x').map(it => Length.px(it))\n\n    this.command('setAttributeForMulti', 'resize image', this.$selection.packByValue({ \n      width, height\n    }))\n  }\n\n  [CLICK('$resize')] () {\n    var current = this.$selection.current;\n\n    if (current) {\n      this.command('setAttributeForMulti', 'resize image', this.$selection.packByValue({\n        width: (item) => item.naturalWidth.clone(),\n        height: (item) => item.naturalHeight.clone()\n      }))\n    }\n\n  }\n\n  [BIND('$sizeInfo')] () {\n    var current = this.$selection.current || {};\n\n    return {\n      innerHTML: `${this.$i18n('image.property.width')}: ${current.naturalWidth}, ${this.$i18n('image.property.height')}: ${current.naturalHeight}`\n    }\n  }\n\n  [LOAD(\"$body\")]() { \n    var current = this.$selection.current || {};\n\n    var src = current.src || ''\n    return /*html*/`<object refClass=\"ImageSelectEditor\" \n              ref='$1' \n              key='src' \n              value=\"${src}\" \n              onchange=\"changeSelect\" />`;\n  }\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value, info) {\n    var current = this.$selection.current;\n\n    if (current) {\n      current.reset({\n        src: value,\n        ...info\n      })\n\n      this.bindData('$sizeInfo')\n\n      this.command('setAttributeForMulti', 'change image', this.$selection.packByValue({\n        src: value,\n        ...info\n      }));      \n    }\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n\n    this.refreshShow(['image'])\n\n  }\n}","import { LOAD, CLICK, CHANGE, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ImageSelectEditor.scss';\n\nexport default class ImageSelectEditor extends EditorElement {\n\n    initState() {\n        return {\n            value: this.props.value\n        }\n    }\n\n    template() {\n        return /*html*/`\n            <div class='elf--image-select-editor' ref='$body'></div>\n        `\n    }\n\n    getValue () {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.setState({ value })\n    }\n\n    [LOAD('$body')] () {\n\n        const project = this.$selection.currentProject;\n\n        if (!project) return;\n\n        return /*html*/`\n            <div class='preview-container'>\n                <img src=\"${project.getImageValueById(this.state.value) || this.state.value}\" />\n                <input type='file' ref='$file' accept=\"image/*\" />\n            </div>\n            <div class='select-container'>\n                <button type=\"button\" ref='$select'>Select a image</button>\n            <div>\n        `\n    }\n\n    [CHANGE('$file')] (e) {\n\n        var files = [...e.target.files];\n        \n        if (files.length) {\n            this.emit('updateImageAssetItem', files[0], imageId => {\n                this.trigger('changeImageSelectEditor', imageId);\n            });\n        }\n\n    }\n\n    [CLICK('$select')] () {\n        \n        this.emit('showImageSelectPopup', {\n            context: this, \n            changeEvent: 'changeImageSelectEditor',\n            value: this.state.value \n        })\n    }\n\n    [SUBSCRIBE('changeImageSelectEditor')] (value) {\n\n        this.updateData({ value })\n        this.refresh();\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","\n\nimport { LOAD, CLICK, DOMDIFF, SUBSCRIBE } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nimport './ImageSelectPopup.scss';\nexport default class ImageSelectPopup extends BasePopup {\n\n  getTitle() {\n    return 'Select a image'\n  }\n\n  getClassName() {\n    return 'compact'\n  }\n\n  initState() {\n\n    return {\n      value: ''\n    }\n  }\n\n\n  updateData(opt = {}) {\n    this.setState(opt, false);\n\n    this.state.context.trigger(this.state.changeEvent, this.state.value, {\n      width: this.state.width,\n      height: this.state.height,\n      naturalWidth: this.state.naturalWidth,\n      naturalHeight: this.state.naturalHeight      \n    });\n  }\n\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--image-select-popup\">\n        <div class='box' ref='$imageBox'>\n          \n        </div>\n      </div>\n    `;\n  }\n\n  [LOAD('$imageBox') + DOMDIFF] () {\n    var project = this.$selection.currentProject || { images: [] }\n\n    return project.images.map( (image, index) => {\n      return /*html*/`<div class='image-item' ><img src='${image.local}' data-id=\"${image.id}\" /></div>`\n    })\n  }\n\n  [CLICK('$imageBox .image-item')] (e) {\n    var $img = e.$dt.$('img');\n\n    this.updateData({\n      value: $img.attr('data-id'),\n      naturalWidth: Length.px($img.naturalWidth),\n      naturalHeight: Length.px($img.naturalHeight), \n      width: Length.px($img.naturalWidth),\n      height: Length.px($img.naturalHeight)\n    });\n\n    this.trigger('hideImageSelectPopup')\n  }\n\n  [SUBSCRIBE(\"showImageSelectPopup\")](data, params) {\n    this.setState({\n      context: data.context,\n      changeEvent: data.changeEvent,\n      value: data.value,\n      params\n    }, false);\n    this.refresh();\n\n    this.show(500);\n  }\n\n  [SUBSCRIBE(\"hideImageSelectPopup\")]() {\n    this.hide();\n  }\n\n\n}","import { INPUT, SUBSCRIBE } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './KeyframePopup.scss';\n\nexport default class KeyframePopup extends BasePopup {\n\n  getTitle () {\n    return this.$i18n('keyframe.popup.title')\n  }\n\n  initState() {\n    return {\n      name: 'none',\n      offsets: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(\"changeKeyframePopup\", this.state);\n  }\n\n  getBody() {\n    return /*html*/`\n    <div class='elf--keyframe-popup' ref='$popup'>\n      <div class=\"box\">\n        ${this.templateForName()}\n        ${this.templateForOffset()}\n      </div>\n    </div>`;\n  }\n\n  templateForOffset () {\n    return /*html*/`\n      <div>\n        <object refClass=\"OffsetEditor\" ref='$offsetEditor' />\n      </div>\n    `\n  }\n\n  templateForName() {\n    return /*html*/`\n      <div class='name'>\n        <label>Name</label>\n        <div class='input grid-1'>\n          <input type='text' value='${this.state.name}' ref='$name'/>\n        </div>\n      </div>\n    `\n  }\n\n  [INPUT('$name')] (e) {\n    if (this.refs.$name.value.match(/^[a-zA-Z0-9\\b]+$/)) {\n      this.updateData({name : this.refs.$name.value })\n    } else {\n      e.preventDefault()\n      e.stopPropagation()\n      return false;\n    }\n  }\n  \n  getOffsetData () {\n    var offsets = this.state.offsets.map(it => it)\n\n    return { offsets }\n  }\n\n  refresh() {\n\n    this.refs.$name.val(this.state.name);\n    this.emit('showOffsetEditor', this.getOffsetData())\n  }\n\n  [SUBSCRIBE('changeOffsetEditor')] (data) {\n    this.updateData(data);\n  }\n\n  [SUBSCRIBE(\"showKeyframePopup\")](data) {\n    this.setState(data);\n    this.refresh();\n\n    this.show(240);\n\n  }\n\n  [SUBSCRIBE(\"hideKeyframePopup\")]() {\n    this.$el.hide();\n  }\n}","\nimport icon from \"el/editor/icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  PREVENT,\n  DEBOUNCE,\n  SUBSCRIBE\n} from \"el/sapa/Event\";\n\n\n\nimport { Keyframe } from \"el/editor/property-parser/Keyframe\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './KeyframeProperty.scss';\n\nexport default class KeyframeProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('keyframe.property.title');\n  }\n  getBody() {\n    return `<div class='elf--keyframe-list' ref='$keyframeList'></div>`;\n  }\n\n  getTools() {\n    return `\n      <button type=\"button\" ref=\"$add\" title=\"add Filter\">${icon.add}</button>\n    `;\n  }\n\n  makeProperty (property) {\n    var key = property.key\n    if (key === 'x') key = 'left';\n    else if (key === 'y') key = 'top';\n\n    return /*html*/`\n      <div class='offset-property-item'>\n        <label>${key}:</label>\n        <div class='value'>${property.value}</div>\n      </div>\n    `\n  }\n\n  makeOffset (offset) {\n    return /*html*/`\n      <div class='offset'>\n        <label>${offset.offset}</label>\n        <div class='properties'>\n          ${offset.properties.map(p => {\n            return this.makeProperty (p);\n          }).join('')}\n        </div>        \n      </div>\n    `    \n  }\n\n  makeKeyframeTemplate (keyframe, index) {\n    index = index.toString()\n    return /*html*/`\n      <div class='keyframe-item' data-selected-value='${keyframe.selectedType}' ref='$keyframeIndex${index}' data-index='${index}'>\n        <div class='title'>\n          <div class='name'>${keyframe.name}</div>\n          <div class='tools'>\n            <div class='group'>\n              <button type=\"button\" data-type='list'>${icon.list}</button>\n              <button type=\"button\" data-type='code'>${icon.code}</button>\n            </div>\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">${icon.remove2}</button>\n          </div>\n        </div>\n        <div class='offset-list'>\n          <div class='container'>\n            ${keyframe.offsets.map(o => {\n              return /*html*/`\n              <div class='offset' style='left: ${o.offset}; background-color: ${o.color}'></div>\n              `\n            }).join('')}\n          </div>\n        </div>\n        <div class='keyframe-code' data-type='list'>\n          ${keyframe.offsets.map(offset => {\n            return this.makeOffset(offset);\n          }).join('')}\n        </div>\n        <div class='keyframe-code' data-type='code'>\n          <pre>${keyframe.toString().trim()}</pre>\n        </div>        \n      </div>\n    `\n  }\n\n  [CLICK('$keyframeList .keyframe-item .title .group button[data-type]')] (e) {\n    var $keyframeItem = e.$dt.closest('keyframe-item');\n    var index  = +$keyframeItem.attr('data-index');\n    var type = e.$dt.attr('data-type');\n\n    var current = this.$selection.currentProject;\n    if (!current) return;\n\n    var currentKeyframe = current.keyframes[index];\n\n    if (currentKeyframe) {\n      currentKeyframe.reset({\n        selectedType: type\n      });\n    }\n\n    $keyframeItem.attr('data-selected-value', type)\n\n  }\n\n  [CLICK('$keyframeList .keyframe-item .offset-list')] (e) {\n    var index  = +e.$dt.closest('keyframe-item').attr('data-index');\n\n    var current = this.$selection.currentProject;\n    if (!current) return;\n\n\n    this.viewKeyframePicker(index);\n\n  }\n\n  [CLICK('$keyframeList .del') + PREVENT] (e) {\n    var removeIndex = e.$dt.attr(\"data-index\");\n    var current = this.$selection.currentProject;\n    if (!current) return;\n\n    current.removeKeyframe(removeIndex);\n\n    // project      true      \n    this.emit('refreshProject', current)\n\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)] () {\n    this.refreshShowIsNot(['project']);\n  }\n\n\n  [LOAD(\"$keyframeList\")]() {\n    var current = this.$selection.currentProject;\n\n    if (!current) return '';\n\n    var keyframes = current.keyframe ? Keyframe.parseStyle(current) : current.keyframes;\n\n    current.keyframe = ''\n    current.keyframes = keyframes;\n\n    return keyframes.map((keyframe, index) => {\n      return this.makeKeyframeTemplate(keyframe, index);\n    });\n  }\n\n  [CLICK(\"$add\")]() {\n\n    var current = this.$selection.currentProject;\n    if (current) {\n      current.createKeyframe();\n      this.refresh();\n      this.emit('refreshProject', current)\n    } else {\n      alert('Please select a project.')\n    }\n\n  }\n\n  viewKeyframePicker(index) {\n    if (typeof this.selectedIndex === \"number\") {\n      this.selectItem(this.selectedIndex, false);\n    }\n\n    this.selectedIndex = +index;\n    this.selectItem(this.selectedIndex, true);\n    this.current = this.$selection.currentProject;\n\n    if (!this.current) return;\n    this.currentKeyframe = this.current.keyframes[\n      this.selectedIndex\n    ];\n\n    this.viewKeyframePropertyPopup();\n  }\n\n\n  \n  selectItem(selectedIndex, isSelected = true) {\n    if (isSelected) {\n      this.getRef('$keyframeIndex', selectedIndex).addClass(\"selected\");\n    } else {\n      this.getRef('$keyframeIndex', selectedIndex).removeClass(\"selected\");\n    }\n\n    if (this.current) {\n      this.current.keyframes.forEach((it, index) => {\n        it.selected = index === selectedIndex;\n      });\n    }\n  }  \n\n  viewKeyframePropertyPopup(position) {\n    this.current = this.$selection.currentProject;\n\n    if (!this.current) return;\n    this.currentKeyframe = this.current.keyframes[\n      this.selectedIndex\n    ];\n\n    const back = this.currentKeyframe;\n\n    const name = back.name\n    const offsets = back.offsets\n\n    this.emit(\"showKeyframePopup\", {\n      position,\n      name, \n      offsets\n    });\n  }\n\n  [SUBSCRIBE('changeKeyframePopup')] (data) {\n    var project = this.$selection.currentProject;\n\n    if (!project) return;\n    this.currentKeyframe = project.keyframes[\n      this.selectedIndex\n    ];\n\n    if (this.currentKeyframe) {\n      this.currentKeyframe.reset(data);\n    }\n\n    this.refresh();\n\n    // todo: add history \n    this.emit('refreshProject', project)\n  }\n\n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, POINTERSTART, CLICK, IF, PREVENT, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Offset } from \"el/editor/property-parser/Offset\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { isUndefined } from \"el/sapa/functions/func\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nexport default class OffsetEditor extends EditorElement {\n\n  initState() {\n    return {\n      offsets: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.modifyOffset();\n  }\n\n  modifyOffset () {\n    this.emit(\"changeOffsetEditor\", this.state);  \n  }\n\n  template() {\n    return /*html*/`\n    <div class='editor offset-editor' ref='$editor'>\n        ${this.templateForOffset()}\n        ${this.templateForOffsetInput()}\n        ${this.templateForProperty()}        \n    </div>`;\n  }\n\n\n\n  templateForOffsetInput () {\n    return /*html*/`\n      <div class='offset-input' >\n        <div class='title'>\n          <label>Offset</label>\n          <div class='tools'>\n            <object refClass=\"InputRangeEditor\" \n              key='offset' \n              min='0' \n              max='100' \n              step=\"0.01\" \n              value=\"${Length.percent(0)}\" \n              ref='$offsetInput' \n              units=\"%\" \n              onchange='changeRangeEditor' \n            />\n          </div>\n        </div>\n      </div>\n    `\n  }\n\n  [SUBSCRIBE('changeRangeEditor')] (key, value) {\n    var offset = this.state.offsets[this.selectedIndex];\n    if (offset) {\n      offset.offset = value.clone()\n      this.refresh();      \n      this.modifyOffset();      \n    }\n  }\n\n  templateForProperty() {\n    return /*html*/`<object refClass=\"CSSPropertyEditor\" ref='$offsetPropertyEditor' hide-refresh=\"true\" onchange='changeCSSPropertyEditor' />`\n  }  \n\n  templateForOffset () {\n    return `<div class='offset' ref='$offset' data-selected-value=\"-1\"></div>`\n  }\n\n  makeOffset (offset, index) {\n    return `<div class='offset-item' style='left: ${offset.offset};' data-offset-index='${index.toString()}'></div>`\n  }\n\n\n  \n  selectItem(selectedIndex, isSelected = true) {\n    \n    if (isUndefined(selectedIndex)) {\n      selectedIndex = -1; \n      for(var i = 0, len = this.state.offsets.length; i < len; i++) {\n        if (this.state.offsets[i].selected) {\n          selectedIndex = i;\n          break; \n        }\n      }\n\n      if (selectedIndex === -1) {\n        selectedIndex = 0;\n      }  \n    }\n\n    this.getRef('$offset').attr('data-selected-value', selectedIndex);\n    this.selectedIndex = selectedIndex;\n\n    this.state.offsets.forEach( (it, index) => {\n      it.selected = index === selectedIndex;\n    });\n\n    var selectedList = this.state.offsets.filter(it => it.selected);\n    this.selectedOffsetItem = (selectedList.length) ? selectedList[0] : {} \n\n    this.refreshOffsetInput()\n  }  \n\n  refreshOffsetInput() {\n    var offset = this.state.offsets[this.selectedIndex];\n\n    if (offset) {\n      this.children.$offsetInput.setValue(offset.offset);\n    }\n  }\n\n  [LOAD('$offset')] () {\n    return this.state.offsets.map( (it, index) => {\n      return this.makeOffset(it, index);\n    })\n  }\n\n  isNotOffsetItem (e) {\n    return ! (Dom.create (e.target).hasClass('offset-item')) && !this.currentOffset\n  }\n\n  [CLICK('$offset') + IF('isNotOffsetItem') + PREVENT] (e) {\n    this.baseOffsetWidth = this.refs.$offset.width();\n    this.baseOffsetArea = this.refs.$offset.offset();\n    var currentX = e.xy.x;  \n\n    var newOffset = Length.percent((currentX - this.baseOffsetArea.left) / this.baseOffsetWidth * 100).round(100)\n\n    this.state.offsets.push(new Offset({\n      offset: newOffset\n    }))\n\n    this.selectItem(this.state.offsets.length-1, true)    \n    this.refresh();    \n    this.modifyOffset();\n\n  }\n\n\n\n  refreshOffsetProperty() {\n    this.emit('showCSSPropertyEditor', this.selectedOffsetItem.properties)\n  }\n  \n  [POINTERSTART('$offset .offset-item') + MOVE('moveOffset') + END('endOffset')] (e) {\n    this.baseOffsetWidth = this.refs.$offset.width();\n    this.baseOffsetArea = this.refs.$offset.offset();\n    this.currentOffsetleft =  Length.parse(e.$dt.css('left'))\n\n    this.currentOffset = e.$dt;\n    this.currentOffsetIndex = +e.$dt.attr('data-offset-index')\n    this.currentOffsetXY = e.xy;\n    this.baseOffsetMin = this.baseOffsetArea.left;\n    this.baseOffsetMax = this.baseOffsetArea.left + this.baseOffsetWidth;\n    this.isRemoveOffset = false; \n\n    if (e.altKey) {\n      this.isRemoveOffset = true; \n    } else {\n\n      this.selectItem(this.currentOffsetIndex, true)    \n      this.refreshOffsetInput()\n    }\n\n  }\n\n  moveOffset(dx, dy) {\n\n    if (this.isRemoveOffset) return; \n\n    var currentX = this.currentOffsetXY.x + dx \n\n    if (currentX < this.baseOffsetMin) {\n      currentX = this.baseOffsetMin;\n    } \n\n    if (currentX > this.baseOffsetMax) {\n      currentX = this.baseOffsetMax;\n    }\n\n    var newOffset = Length.percent((currentX - this.baseOffsetMin) / this.baseOffsetWidth * 100).round(100);\n\n\n    this.state.offsets[this.currentOffsetIndex].offset.set(newOffset.value)\n    this.currentOffset.css('left', newOffset)\n    this.refreshOffsetInput()\n    this.modifyOffset();\n  }\n\n  removeOffset (index) {\n    this.state.offsets.splice(index, 1);\n    this.selectItem(0);\n    this.refresh();    \n    this.modifyOffset();    \n  }\n\n  endOffset (dx, dy) {\n\n\n    if (this.isRemoveOffset) {\n      setTimeout( () => {\n        this.currentOffset = null; \n        this.removeOffset(this.currentOffsetIndex)\n      }, 10);\n\n    } else {\n\n      setTimeout(() => {\n        this.currentOffset = null;         \n        this.refreshOffsetInput();\n        this.refreshOffsetProperty();\n        this.modifyOffset();\n      }, 10);\n    }\n\n\n  }\n\n  refresh() {\n    this.load();\n    this.refreshOffsetProperty();\n\n  }\n\n  [SUBSCRIBE(\"showOffsetEditor\")](data) {\n    this.setState(data);\n    this.selectItem()            \n    this.refresh();\n\n  }\n\n  [SUBSCRIBE('changeCSSPropertyEditor')] (properties = []) {\n    var offset = this.state.offsets[this.selectedIndex];\n    if (offset) {\n      offset.properties = [...properties];\n    }\n    this.modifyOffset()\n  }\n}\n","import {\n  LOAD, CLICK, DOUBLECLICK, PREVENT, STOP,\n  FOCUSOUT, DOMDIFF, DRAGSTART, KEYDOWN,\n  DRAGOVER, DROP, BIND, DRAGEND,\n  SUBSCRIBE, SUBSCRIBE_SELF, THROTTLE\n} from \"el/sapa/Event\";\nimport { iconUse } from \"el/editor/icon/icon\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { KEY_CODE } from \"el/editor/types/key\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './LayerTreeProperty.scss';\n\nconst DRAG_START_CLASS = 'drag-start'\n\nexport default class LayerTreeProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('layer.tree.property.title')\n  }\n\n  getClassName() {\n    return 'full'\n  }\n\n  initState() {\n    return {\n      hideDragPointer: true,\n      lastDragOverPosition: 0,\n      lastDragOverOffset: 0,\n      rootRect: { top: 0 },\n      itemRect: { height: 0 }\n    }\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--layer-list scrollbar\" ref=\"$layerList\"></div>\n      <div class='drag-point' ref='$dragPointer'></div>\n    `;\n  }\n\n  [BIND('$dragPointer')]() {\n\n\n    var offset = this.state.lastDragOverOffset\n    var dist = this.state.itemRect.height / 3;\n    var bound = {}\n\n    if (this.state.lastDragOverOffset < dist) {\n      offset = 0;\n\n      var top = this.state.lastDragOverPosition + offset - this.state.rootRect.top\n\n      bound = {\n        top: Length.px(top),\n        height: '1px',\n        width: '100%',\n        left: '0px'\n      }\n\n      this.state.lastDragOverItemDirection = 'before';\n    } else if (this.state.lastDragOverOffset > this.state.itemRect.height - dist) {\n      offset = this.state.itemRect.height;\n\n      var top = this.state.lastDragOverPosition + offset - this.state.rootRect.top\n\n      bound = {\n        top: Length.px(top),\n        height: '1px',\n        width: '100%',\n        left: '0px'\n      }\n      this.state.lastDragOverItemDirection = 'after';\n    } else {\n      const targetItem = this.$model.get(this.state.lastDragOverItemId)\n      //      \n      if (targetItem?.enableHasChildren()) {\n\n        offset = 0;\n\n        var top = this.state.lastDragOverPosition + offset - this.state.rootRect.top\n\n        bound = {\n          top: Length.px(top),\n          height: Length.px(this.state.itemRect.height),\n          width: '100%',\n          left: '0px'\n        }\n        this.state.lastDragOverItemDirection = 'self';\n      }\n\n    }\n\n    bound.display = this.state.hideDragPointer ? 'none' : 'block';\n\n    return {\n      style: bound\n    }\n  }\n\n  //FIXME:         . \n  getIcon(item) {\n    // return '';\n\n    if (item.hasChildren() && item.is('artboard') === false) {\n\n      if (item.isLayout('flex')) {\n        return iconUse(\"flex\");\n      } else if (item.isLayout('grid')) {\n        return iconUse(\"grid\");\n      }\n\n      return iconUse(\"margin\");\n    }\n\n    switch (item.itemType) {\n      case 'artboard':\n        return iconUse('artboard');\n      case 'circle':\n        return iconUse('lens');\n      case 'image':\n        return iconUse('image');\n      case 'text':\n      case 'svg-text':\n        return iconUse('title');\n      case 'svg-textpath':\n        return iconUse('text_rotate');\n      case 'svg-path':\n        return iconUse('pentool');\n      default:\n        return iconUse('rect');\n    }\n  }\n\n  makeLayerList(parentObject, depth = 0) {\n    if (!parentObject.layers) return '';\n\n    const layers = parentObject.layers\n    const data = []\n\n    for (var last = layers.length - 1; last > -1; last--) {\n      var layer = layers[last];\n\n      var selectedPathClass = this.$selection.hasPathOf(layer) ? 'selected-path' : '';\n      var selectedClass = this.$selection.check(layer) ? 'selected' : '';\n      var hovered = this.$selection.checkHover(layer) ? 'hovered' : '';\n      var name = layer.name;\n\n      if (layer.is('text')) {\n        name = layer.text || layer.name\n      }\n      var title = '';\n\n      if (layer.hasLayout()) {\n        title = this.$i18n('layer.tree.property.layout.title.' + layer.layout)\n      }\n\n      const isHide = layer.isTreeItemHide()\n      const depthPadding = Length.px(depth * 20);\n      const hasChildren = layer.hasChildren()\n\n      data[data.length] = /*html*/`        \n        <div class='layer-item ${selectedClass} ${selectedPathClass} ${hovered}' data-is-group=\"${hasChildren}\" data-depth=\"${depth}\" data-layout='${layer.layout}' data-layer-id='${layer.id}' data-is-hide=\"${isHide}\"  draggable=\"true\">\n          <div class='detail'>\n            <label data-layout-title='${title}' style='padding-left: ${depthPadding}' > \n              <div class='folder ${layer.collapsed ? 'collapsed' : ''}'>${hasChildren ? iconUse('arrow_right') : ''}</div>\n              <span class='icon' data-item-type=\"${layer.itemType}\">${this.getIcon(layer)}</span> \n              <span class='name'>${name}</span>\n            </label>\n            <div class=\"tools\">\n              <button type=\"button\" class=\"lock\" data-lock=\"${layer.lock}\" title='Lock'>${layer.lock ? iconUse('lock') : iconUse('lock_open')}</button>\n              <button type=\"button\" class=\"visible\" data-visible=\"${layer.visible}\" title='Visible'>${iconUse('visible')}</button>\n              <button type=\"button\" class=\"remove\" title='Remove'>${iconUse('remove2')}</button>                          \n            </div>\n          </div>\n        </div>\n\n        ${this.makeLayerList(layer, depth + 1)}\n      `;\n    }\n\n    return data.join(' ');\n  }\n\n  [SUBSCRIBE('refreshContent')](arr) {\n    this.refresh();\n  }\n\n  [LOAD(\"$layerList\") + DOMDIFF]() {\n\n    var project = this.$selection.currentProject;\n    if (!project) return ''\n\n    return [\n      this.makeLayerList(project, 0), \n      /*html*/`\n        <div class='layer-item ' data-depth=\"0\" data-is-last=\"true\">\n        </div>\n      `\n    ]\n  }\n\n  [DRAGSTART('$layerList .layer-item')](e) {\n    var layerId = e.$dt.attr('data-layer-id');\n    e.$dt.addClass(DRAG_START_CLASS);\n    e.dataTransfer.setData('layer/id', layerId);\n    this.state.rootRect = this.refs.$layerList.rect()\n    this.state.itemRect = e.$dt.rect();\n    this.setState({\n      hideDragPointer: false\n    }, false)\n\n    this.bindData('$dragPointer');\n  }\n\n  [DRAGEND('$layerList .layer-item')](e) {\n    this.setState({\n      hideDragPointer: true\n    }, false)\n\n    this.bindData('$dragPointer');\n\n    this.refs.$layerList.$$(`.${DRAG_START_CLASS}`).forEach(it => {\n      it.removeClass(DRAG_START_CLASS);\n    })\n  }\n\n  [DRAGOVER(`$layerList .layer-item:not(.${DRAG_START_CLASS})`) + PREVENT](e) {\n    var targetLayerId = e.$dt.attr('data-layer-id')\n    // console.log({targetLayerId, x: e.offsetX, y: e.offsetY});\n\n    this.state.lastDragOverItemId = targetLayerId;\n    this.state.lastDragOverPosition = e.$dt.rect().top;\n    this.state.lastDragOverOffset = e.offsetY;\n\n    this.bindData('$dragPointer')\n\n  }\n  [DROP(`$layerList .layer-item:not(.${DRAG_START_CLASS})`)](e) {\n    var targetLayerId = e.$dt.attr('data-layer-id')\n    var sourceLayerId = e.dataTransfer.getData('layer/id');\n\n    if (targetLayerId === sourceLayerId) return;\n\n    var targetItem = this.$model.get(targetLayerId);\n    var sourceItem = this.$model.get(sourceLayerId);\n\n    //      \n    if (targetItem?.enableHasChildren() === false) return;\n    if (targetItem && targetItem.hasParent(sourceItem.id)) return;\n\n    switch (this.state.lastDragOverItemDirection) {\n      case 'self':\n        targetItem.appendChild(sourceItem);\n        break;\n      case 'before':\n        targetItem.appendBefore(sourceItem);\n        break;\n      case 'after':\n        targetItem.appendAfter(sourceItem);\n        break;\n    }\n\n    this.$selection.select(sourceItem);\n\n    this.setState({\n      hideDragPointer: true\n    })\n\n    this.emit('refreshAll')\n  }\n\n  [DOUBLECLICK('$layerList .layer-item')](e) {\n    this.startInputEditing(e.$dt.$('.name'))\n  }\n\n\n\n  modifyDoneInputEditing(input, event) {\n    if (KEY_CODE.enter === event.keyCode) {\n      this.endInputEditing(input, () => {\n        var id = input.closest('layer-item').attr('data-layer-id');\n        var text = input.text();\n\n        this.emit('refreshItemName', id, text)\n      });\n    } else {\n      var id = input.closest('layer-item').attr('data-layer-id');\n      var text = input.text();\n\n      this.emit('refreshItemName', id, text)\n    }\n\n  }\n\n  [KEYDOWN('$layerList .layer-item .name') + STOP](e) {\n    this.modifyDoneInputEditing(e.$dt, e);\n  }\n\n  [FOCUSOUT('$layerList .layer-item .name') + PREVENT + STOP](e) {\n    this.modifyDoneInputEditing(e.$dt, { keyCode: KEY_CODE.enter });\n  }\n\n  selectLayer(layer) {\n\n    if (layer) {\n      this.$selection.select(layer)\n    }\n\n    this.refresh()\n    this.emit('refreshSelection');\n  }\n\n  addLayer(layer) {\n    if (layer) {\n      this.$selection.select(layer);\n\n      this.emit('refreshArtboard')\n    }\n  }\n\n  [CLICK('$add')](e) {\n\n    this.emit('newComponent', 'rect', {\n      'background-color': '#ececec',\n      width: Length.px(200),\n      height: Length.px(100)\n    });\n  }\n\n  [CLICK('$layerList .layer-item label .name')](e) {\n\n    var $item = e.$dt.closest('layer-item')\n    $item.onlyOneClass('selected');\n\n    var id = $item.attr('data-layer-id');\n    this.$selection.select(id)\n\n    this.command('refreshSelection');\n  }\n\n  [CLICK('$layerList .layer-item label .folder')](e) {\n    var $item = e.$dt.closest('layer-item')\n    var id = $item.attr('data-layer-id');\n    var item = this.$model.get(id);\n\n    item.reset({\n      collapsed: !item.collapsed\n    })\n\n    this.refresh();\n\n  }\n\n  [CLICK('$layerList .layer-item .visible')](e) {\n    var $item = e.$dt.closest('layer-item')\n    var id = $item.attr('data-layer-id');\n\n    var item = this.$model.get(id);\n    e.$dt.attr('data-visible', !item.visible);\n\n    this.command('setAttributeForMulti', 'change visible for layer', this.$selection.packByValue({ visible: !item.visible }, item.id))\n  }\n\n  [CLICK('$layerList .layer-item .remove')](e) {\n    var project = this.$selection.currentProject\n\n    var $item = e.$dt.closest('layer-item')\n    var id = $item.attr('data-layer-id');\n\n    this.command('removeLayer', 'remove a layer', [id]);\n\n    // this.refresh();\n\n    // this.emit('refreshArtboard');\n  }\n\n\n  [CLICK('$layerList .layer-item .lock')](e) {\n    var $item = e.$dt.closest('layer-item')\n    var id = $item.attr('data-layer-id');\n\n    var item = this.$model.get(id);\n    var lastLock = !item.lock;\n    e.$dt.attr('data-lock', lastLock);\n\n    if (lastLock) {\n      this.$selection.removeById(id);\n      this.emit('history.refreshSelection');\n    }\n\n    this.command('setAttributeForMulti', 'change lock for layer', this.$selection.packByValue({ lock: lastLock }, item.id))\n  }\n\n\n  [SUBSCRIBE('changeHoverItem')]() {\n    this.refs.$layerList.$$('.hovered').forEach(it => {\n      it.removeClass('hovered')\n    })\n\n\n    if (this.$selection.hoverItems.length) {\n      var selector = this.$selection.hoverItems.map(it => {\n        return `[data-layer-id=\"${it.id}\"]`\n      }).join(',')\n      this.refs.$layerList.$$(selector).forEach(it => {\n        it.addClass('hovered')\n      })\n    }\n  }\n\n\n  [SUBSCRIBE_SELF('changeSelection')](isSelection = false) {\n    if (isSelection && this.refs.$layerList) {\n      this.refs.$layerList.$$('.selected').forEach(it => {\n        it.removeClass('selected')\n      })\n\n      this.refs.$layerList.$$('.selected-path').forEach(it => {\n        it.removeClass('selected-path')\n      })\n\n      var selector = this.$selection.items.map(it => {\n        return `[data-layer-id=\"${it.id}\"]`\n      }).join(',')\n\n      if (selector) {\n        this.refs.$layerList.$$(selector).forEach(it => {\n\n          it.addClass('selected')\n\n          var item = this.$selection.itemKeys[it.attr('data-layer-id')]\n          if (item.is('svg-path', 'svg-polygon')) {\n            it.$('.icon').html(this.getIcon(item));\n          }\n\n\n\n        })\n      }\n    }\n  }\n\n  [SUBSCRIBE('refreshSelection')]() {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshStylePosition')]() {\n    this.trigger('changeSelection')\n  }\n\n  [SUBSCRIBE('refreshLayerTreeView') + THROTTLE(100)]() {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('changeItemLayout')]() {\n    this.refresh();\n  }\n\n\n}\n","import { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class FlexLayoutEditor extends EditorElement {\n\n\n    getDirectionOptions () {\n        return this.makeOptionsFunction('row,column,row-reverse,column-reverse')\n    } \n    \n    getWrapOptions () {\n        return this.makeOptionsFunction('nowrap,wrap,wrap-reverse')\n    }\n\n    getJustifyContentOptions () {\n        return this.makeOptionsFunction('flex-start,flex-end,center,space-between,space-around')\n    }\n\n    getAlignItemsOptions() {\n        return this.makeOptionsFunction('flex-start,flex-end,center,baseline,stretch')\n    }\n\n    getAlignContentOptions() {\n        return this.makeOptionsFunction('flex-start,flex-end,center,space-between,space-around,stretch')\n    }\n\n    makeOptionsFunction (options) {\n        return variable(options.split(',').map(it => {\n            return { value: it, text: this.$i18n('flex.layout.editor.' + it) }\n        }));\n    }\n\n    initState() {\n        return {\n            ...STRING_TO_CSS(this.props.value),\n        }\n    }\n\n    setValue (value) {\n        this.setState({\n            ...STRING_TO_CSS(value),\n        })\n    }\n\n    getValue () {\n        return CSS_TO_STRING(this.state)\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n    [LOAD('$body')] () {\n        return /*html*/`\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.editor.direction')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='flex-direction'\n                    value=\"${this.state['flex-direction'] || 'row'}\"\n                    options=\"${this.getDirectionOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.editor.wrap')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='flex-wrap'\n                    value=\"${this.state['flex-wrap'] || 'wrap'}\"\n                    options=\"${this.getWrapOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.editor.justify-content')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='justify-content'\n                    value=\"${this.state['justify-content'] || 'flex-start'}\"\n                    options=\"${this.getJustifyContentOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.editor.align-items')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='align-items'\n                    value=\"${this.state['align-items'] || 'flex-start'}\"\n                    options=\"${this.getAlignItemsOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.editor.align-content')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='align-content'\n                    value=\"${this.state['align-content'] || 'flex-start'}\"\n                    options=\"${this.getAlignContentOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        `\n    }\n\n    template () {\n        return /*html*/`\n            <div class='flex-layout-editor' ref='$body' ></div>\n        `\n    }\n\n\n    [SUBSCRIBE_SELF('changeKeyValue')] (key, value, params) {\n\n        this.setState({\n            [key]: value\n        }, false)\n\n        this.modifyData();\n    }\n}","import { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\n\nexport default class FlexLayoutItemEditor extends EditorElement {\n\n\n    initState() {\n        return {\n            ...STRING_TO_CSS(this.props.value),\n        }\n    }\n\n    setValue (value) {\n        this.setState(STRING_TO_CSS(value))\n    }\n\n    getValue () {\n        return CSS_TO_STRING(this.state)\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n    [LOAD('$body')] () {\n        return /*html*/`\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.item.editor.direction')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='flex-direction'\n                    value=\"${this.state['flex-direction'] || 'row'}\"\n                    options=\"${getDirectionOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.item.editor.wrap')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='flex-wrap'\n                    value=\"${this.state['flex-wrap'] || 'wrap'}\"\n                    options=\"${getWrapOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.item.editor.justify-content')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='justify-content'\n                    value=\"${this.state['justify-content']}\"\n                    options=\"${getJustifyContentOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.item.editor.align-items')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='align-items'\n                    value=\"${this.state['align-items']}\"\n                    options=\"${getAlignItemsOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.item.editor.align-content')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='align-content'\n                    value=\"${this.state['align-content']}\"\n                    options=\"${getAlignContentOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        `\n    }\n\n    template () {\n        return /*html*/`\n            <div class='flex-layout-editor' ref='$body' ></div>\n        `\n    }\n\n\n    [SUBSCRIBE_SELF('changeKeyValue')] (key, value, params) {\n\n        this.setState({\n            [key]: value\n        }, false)\n\n        this.modifyData();\n    }\n}","\nimport { DEBOUNCE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './FlexLayoutItemProperty.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class FlexLayoutItemProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('flex.layout.item.property.title');\n  }\n\n  getClassName() {\n    return 'elf--flex-layout-item-property';\n  }\n\n  getLayoutOptions () {\n    return variable(['none', 'auto', 'value'].map(it => {\n        return {value: it, text: this.$i18n(`flex.layout.item.property.${it}`) }\n    }));\n  }\n\n  getBody() {\n    return /*html*/`\n        <div class='property-item' ref='$body'></div>\n      `;\n  }  \n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || { 'flex-layout-item' : 'none' }\n\n    var valueType = current['flex-layout-item'] || 'none';\n\n    var arr = [] \n    if (['none', 'auto'].includes(valueType) === false) {\n      arr  = valueType.split(' ');\n    }\n\n    if (arr.length > 0) {\n      valueType = 'value'\n    }\n\n    return /*html*/`\n      <div class='layout-select'>\n        <object refClass=\"SelectIconEditor\" \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"${valueType}\"\n        options=\"${this.getLayoutOptions()}\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='${current.layout}'>\n        <div data-value='none'></div>\n        <div data-value='auto'></div>\n        <div data-value='value'>\n          <div class='value-item'>\n            <object refClass=\"RangeEditor\"  ref='$grow' label='${this.$i18n('flex.layout.item.property.grow')}' key=\"flex-grow\" value=\"${arr[0]}\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeFlexItem' />\n          </div>\n          <div class='value-item'>\n            <object refClass=\"RangeEditor\"  ref='$shrink' label='${this.$i18n('flex.layout.item.property.shrink')}' key=\"flex-shrink\" value=\"${arr[1]}\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeFlexItem' />\n          </div>\n          <div class='value-item'>\n            <object refClass=\"RangeEditor\"  ref='$basis' label='${this.$i18n('flex.layout.item.property.basis')}' key=\"flex-basis\" value=\"${arr[2]}\" min='0' units=\"px,em,%,auto\" onchange='changeFlexItem' />\n          </div>                    \n        </div>\n      </div>\n    `\n  }\n\n  getFlexItemValue  (value) {\n    return value.unit === 'auto' ? 'auto' : value + \"\";\n  }\n\n  getFlexValue () {\n\n    var grow = this.children.$grow.getValue();\n    var shrink = this.children.$shrink.getValue();\n    var basis = this.children.$basis.getValue();\n\n    grow = this.getFlexItemValue(grow);\n    shrink = this.getFlexItemValue(shrink);\n    basis = this.getFlexItemValue(basis);\n\n    return CSS_TO_STRING({\n      flex: `${grow} ${shrink} ${basis}`\n    })\n  }\n\n  [SUBSCRIBE_SELF('changeFlexItem')] (key, value) {\n\n    this.command('setAttributeForMulti', 'change flex layout', this.$selection.packByValue({ \n      'flex-layout-item': this.getFlexValue()\n    }))\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')    \n    })\n  }\n\n  [SUBSCRIBE_SELF('changeLayoutType')] (key, value) {\n\n    var valueType = this.children.$layout.getValue()\n    var value = valueType;\n\n    if (valueType === 'value') {\n      value = this.getFlexValue()\n    }\n\n    this.command('setAttributeForMulti', 'change flex layout', this.$selection.packByValue({ \n      'flex-layout-item': value\n    }))\n\n    //        . \n    this.refs.$layoutList.attr('data-selected-value', valueType);\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')    \n    })\n\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(() => {\n      var current = this.$selection.current; \n      return  current && current.isInFlex()\n    });\n  }\n}","\nimport { LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { variable } from 'el/sapa/functions/registElement';\nimport './GridBoxEditor.scss';\nimport { clone } from 'el/sapa/functions/func';\n\n\nconst REG_CSS_UNIT = /(auto)|(repeat\\([^\\)]*\\))|(([\\d.]+)(px|pt|fr|r?em|deg|vh|vw|%))/gi;\n\n\nexport default class GridBoxEditor extends EditorElement {\n\n\n    getLayoutItemOptions () {\n        return variable('none,auto,repeat,length'.split(',').map(it => {\n            return {value: it, text: this.$i18n(`grid.box.editor.${it}`) }\n        }));\n    }\n\n    initState() {\n        return {\n            label: this.props.label,\n            list: this.parseValue(this.props.value)\n        }\n    }\n\n    setValue (value) {\n        this.setState({\n            list: this.parseValue(value)\n        })\n    }\n\n    parseValue (value) {\n        let arr = null; \n\n        var target = [] \n\n        while ((arr = REG_CSS_UNIT.exec(value)) !== null) {\n            var text = arr[0];\n            if (text === 'auto') {\n                target.push({ type: 'auto', count:  0, value: '0px' })\n            } else  if (text.includes('repeat'))  { \n                var tempArray = text.split('repeat(')[1].split(')')\n                tempArray.pop();\n\n                let [count, ...size] = tempArray.join('').split(',');\n\n                target.push({ type: 'repeat', count, value: size.join(', ')  })\n            } else {\n                target.push({ type: 'length', count: 1, value: text })\n            }\n        }\n\n        return target; \n    }\n\n    getValue () {\n        return this.state.list.map(it => {\n            if (it.type === 'repeat') {\n                return `repeat(${it.count}, ${it.value})`\n            } else if (it.type === 'auto' || it.type === 'none') {\n                return it.type;\n            } else {\n                return it.value\n            }\n\n        }).join(' ');\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n    makeItem (it, index) {\n        return /*html*/`\n            <div class='item' data-repeat-type='${it.type}' data-index='${index}' >\n                <div class='repeat'>\n                    <object refClass=\"SelectEditor\" \n                        ref='$${index}-type' \n                        options=\"${this.getLayoutItemOptions()}\" \n                        key=\"type\" \n                        value=\"${it.type || 'auto'}\" \n                        params=\"${index}\" \n                        onchange=\"changeKeyValue\" />\n                </div>\n                <div class='count'>\n                    <object refClass=\"NumberInputEditor\" \n                        ref='$${index}-count' \n                        key=\"count\" \n                        value=\"${it.count}\" \n                        params=\"${index}\" \n                        max='1000'\n                        onchange=\"changeKeyValue\" />\n                </div>                \n                <div class='value'>\n                    <object refClass=\"InputRangeEditor\" \n                        ref='$${index}-value' \n                        key=\"value\" \n                        value=\"${it.value}\" \n                        params=\"${index}\" \n                        units='auto,fr,px,em,%'\n                        onchange=\"changeKeyValue\" />\n                </div>\n                <div class='tools'>\n                    <button type=\"button\" class='copy'>${icon.copy}</button>                \n                    <button type=\"button\" class='remove'>${icon.remove2}</button>\n                </div>\n            </div>\n        `\n    }\n\n    [LOAD('$list')] () {\n        return this.state.list.map( (it, index) => {\n            return this.makeItem(it, index);\n        })\n    }\n\n    template () {\n        return /*html*/`\n            <div class='elf--grid-box-editor' ref='$body' >\n                <div class='grid-box-editor-item'>\n                    <div class='item header'>\n                        <div class='repeat'>\n                            <label>${this.state.label} </label>\n                            <button type='button' ref='$add'>${icon.add}</button>\n                        </div>\n                        <div class='count'>${this.$i18n('grid.box.editor.count')}</div>\n                        <div class='value'>${this.$i18n('grid.box.editor.value')}</div>\n                        <div class='tools'></div>\n                    </div>\n                    <div ref='$list'></div>\n                </div>\n            </div>\n        `\n    }\n\n    [CLICK('$list .remove')] (e) {\n        var index = +e.$dt.closest('item').attr('data-index')\n        this.state.list.splice(index, 1);\n\n        this.refresh();\n\n        this.modifyData()        \n    }\n\n    [CLICK('$list .copy')] (e) {\n        var index = +e.$dt.closest('item').attr('data-index')\n\n        var newObj = clone(this.state.list[index]);\n        this.state.list.splice(index, 0, newObj);\n\n        this.refresh();\n\n        this.modifyData()        \n    }    \n\n    [CLICK('$add')] () {\n        this.trigger('add');\n    }\n\n    [SUBSCRIBE('add')] () {\n        this.state.list.push({ type: 'auto', count: 0, value: '0px'}) \n        this.refresh();\n        \n        this.modifyData()                \n    }\n\n\n    [SUBSCRIBE_SELF('changeKeyValue')] (key, value, params) {\n\n        var index = +params\n\n        var item = this.state.list[index]\n\n        if (item) {\n            if (key ===  'type') {\n                this.refs.$list.$(`[data-index=\"${index}\"]`).attr('data-repeat-type', value)\n            }\n            item[key] = value; \n        }\n\n        this.modifyData();\n    }\n}","\nimport { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport default class GridGapEditor extends EditorElement {\n\n    initState() {\n        return {\n            label: this.props.label,\n            value: this.parseValue(this.props.value)\n        }\n    }\n\n    setValue (value) {\n        this.setState({\n            list: this.parseValue(value)\n        })\n    }\n\n    parseValue (value) {\n        return Length.parse(value);\n    }\n\n    getValue () {\n        return this.state.value\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n    makeItem () {\n        return /*html*/`\n            <div class='item'>\n                <div class='value'>\n                    <object refClass=\"RangeEditor\" \n                        label='${this.state.label}' \n                        ref='$value' \n                        key=\"value\" \n                        value=\"${this.state.value}\" \n                        units='px,em,%'\n                        onchange=\"changeKeyValue\" />\n                </div>\n            </div>\n        `\n    }\n\n    [LOAD('$list')] () {\n        return this.makeItem();\n    }\n\n    template () {\n        return /*html*/`\n            <div class='grid-gap-editor' ref='$body' >\n                <div class='grid-gap-editor-item'>\n                    <div ref='$list'></div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [SUBSCRIBE_SELF('changeKeyValue')] (key, value) {\n\n        this.state.value = value;\n\n        this.modifyData();\n    }\n}","\nimport { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './GridLayoutEditor.scss';\n\nexport default class GridLayoutEditor extends EditorElement {\n\n    initState() {\n        return {\n            ...STRING_TO_CSS(this.props.value),\n        }\n    }\n\n    setValue (value) {\n        this.setState({\n            ...STRING_TO_CSS(value),\n        })\n    }\n\n    getValue () {\n        return CSS_TO_STRING(this.state)\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n\n    template () {\n        return /*html*/`\n            <div class='elf--grid-layout-editor' ref='$body' ></div>\n        `\n    }    \n\n    [LOAD('$body')] () {\n        return /*html*/`\n            <div class='grid-layout-item'>\n                <object refClass=\"GridBoxEditor\" \n                    label='${this.$i18n('grid.layout.editor.template.columns')}'\n                    ref='$columnBox'\n                    key='grid-template-columns'\n                    value=\"${this.state['grid-template-columns'] || ''}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <object refClass=\"GridGapEditor\" \n                    label='${this.$i18n('grid.layout.editor.column.gap')}'\n                    key='grid-column-gap'\n                    value=\"${this.state['grid-column-gap'] || ''}\"\n                    onchange='changeKeyValue'\n                />\n            </div>            \n            <div class='grid-layout-item'>\n                <object refClass=\"GridBoxEditor\" \n                    label='${this.$i18n('grid.layout.editor.template.rows')}'\n                    ref='$rowBox'\n                    key='grid-template-rows'\n                    value=\"${this.state['grid-template-rows'] || ''}\"\n                    onchange='changeKeyValue'\n                />\n            </div>            \n            <div class='grid-layout-item'>\n                <object refClass=\"GridGapEditor\" \n                    label='${this.$i18n('grid.layout.editor.row.gap')}'                \n                    key='grid-row-gap'\n                    value=\"${this.state['grid-row-gap'] || ''}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n        `\n    }\n\n\n\n    [SUBSCRIBE_SELF('changeKeyValue')] (key, value, params) {\n\n        this.setState({\n            [key]: value\n        }, false)\n\n        this.modifyData();\n    }\n}","\nimport { LOAD, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\n\nexport default class GridLayoutItemEditor extends EditorElement {\n\n    initState() {\n        return {\n            ...STRING_TO_CSS(this.props.value),\n        }\n    }\n\n    setValue (value) {\n        this.setState(STRING_TO_CSS(value))\n    }\n\n    getValue () {\n        return CSS_TO_STRING(this.state)\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n    [LOAD('$body')] () {\n        return /*html*/`\n            <div class='grid-layout-item'>\n                <div class='label'><label>${this.$i18n('grid.layout.item.editor.direction')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='grid-direction'\n                    value=\"${this.state['grid-direction'] || 'row'}\"\n                    options=\"${getDirectionOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>${this.$i18n('grid.layout.item.editor.wrap')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='grid-wrap'\n                    value=\"${this.state['grid-wrap'] || 'wrap'}\"\n                    options=\"${getWrapOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>${this.$i18n('grid.layout.item.editor.justify-content')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='justify-content'\n                    value=\"${this.state['justify-content']}\"\n                    options=\"${getJustifyContentOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>${this.$i18n('grid.layout.item.editor.align-items')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='align-items'\n                    value=\"${this.state['align-items']}\"\n                    options=\"${getAlignItemsOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>${this.$i18n('grid.layout.item.editor.align-content')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='align-content'\n                    value=\"${this.state['align-content']}\"\n                    options=\"${getAlignContentOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        `\n    }\n\n    template () {\n        return /*html*/`\n            <div class='grid-layout-editor' ref='$body' ></div>\n        `\n    }\n\n\n    [SUBSCRIBE_SELF('changeKeyValue')] (key, value, params) {\n\n        this.setState({\n            [key]: value\n        }, false)\n\n        this.modifyData();\n    }\n}","import { DEBOUNCE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './GridLayoutItemProperty.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class GridLayoutItemProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('grid.layout.item.property.title');\n  }\n\n\n  getLayoutOptions () {\n    return variable(['none', 'value'].map(it => {\n        return {value: it, text: this.$i18n(`grid.layout.item.property.${it}`) }\n    }));\n  }\n\n  getClassName() {\n    return 'elf--grid-layout-item-property';\n  }\n\n  getBody() {\n    return /*html*/`\n        <div class='property-item' ref='$body'></div>\n      `;\n  }  \n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || { 'grid-layout-item' : 'none' }\n\n    var valueType = current['grid-layout-item'] || 'none';\n\n    var obj = {}\n    if (['none'].includes(valueType) === false) {\n      obj  = STRING_TO_CSS(current['grid-layout-item'])\n    }\n\n    if (Object.keys(obj).length > 0) {\n      valueType = 'value'\n    }\n\n    return /*html*/`\n      <div class='layout-select'>\n        <object refClass=\"SelectIconEditor\" \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"${valueType}\"\n        options=\"${this.getLayoutOptions()}\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='${valueType}'>\n        <div data-value='none'></div>\n        <div data-value='value'>\n          <div class='value-item'>\n            <label></label>\n            <div>${this.$i18n('grid.layout.item.property.start')}</div>\n            <div>${this.$i18n('grid.layout.item.property.end')}</div>\n          </div>\n          <div class='value-item'>\n            <label>${this.$i18n('grid.layout.item.property.column')}</label>\n            <div>\n              <object refClass=\"NumberInputEditor\"  ref='$columnStart' key=\"grid-column-start\" value=\"${obj['grid-column-start'] || '0'}\" min='0' onchange='changeGridItem' />\n            </div>\n            <div>\n              <object refClass=\"NumberInputEditor\"  ref='$columnEnd' key=\"grid-column-end\" value=\"${obj['grid-column-end'] || '0'}\" min='0' onchange='changeGridItem' />\n            </div>            \n          </div>\n          <div class='value-item'>\n            <label>${this.$i18n('grid.layout.item.property.row')}</label>\n            <div>\n              <object refClass=\"NumberInputEditor\"  ref='$rowStart' key=\"grid-row-start\" value=\"${obj['grid-row-start'] || '0'}\" min='0' onchange='changeGridItem' />\n            </div>\n            <div>\n              <object refClass=\"NumberInputEditor\"  ref='$rowEnd' key=\"grid-row-end\" value=\"${obj['grid-row-end'] || '0'}\" min='0' onchange='changeGridItem' />\n            </div>            \n          </div>          \n        </div>\n      </div>\n    `\n  }\n\n  getGridValue () {    \n\n    var obj = {\n      'grid-column-start': this.children.$columnStart.getValue(),\n      'grid-column-end': this.children.$columnEnd.getValue(),\n      'grid-row-start': this.children.$rowStart.getValue(),\n      'grid-row-end': this.children.$rowEnd.getValue(),\n    }\n\n\n\n    return CSS_TO_STRING(obj)\n  }\n\n  [SUBSCRIBE_SELF('changeGridItem')] (key, value) {\n\n    this.command('setAttributeForMulti', 'change grid layout item', this.$selection.packByValue({ \n      'grid-layout-item': this.getGridValue()\n    }))\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')\n    })\n\n  }\n\n  [SUBSCRIBE_SELF('changeLayoutType')] (key, value) {\n\n    var valueType = this.children.$layout.getValue()\n    var value = valueType;\n\n    if (valueType === 'value') {\n      value = this.getGridValue()\n    }\n\n    this.command('setAttributeForMulti', 'change grid layout item', this.$selection.packByValue({ \n      'grid-layout-item': value\n    }))\n\n    //        . \n    this.refs.$layoutList.attr('data-selected-value', valueType);\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')    \n    })\n\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(() => {\n      var current = this.$selection.current; \n      return  current && current.isInGrid()\n    });\n  }\n}","\nimport { IF, LOAD, SUBSCRIBE, SUBSCRIBE_SELF} from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './LayoutProperty.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class LayoutProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('layout.property.title');\n  }\n\n  getLayoutOptions () {\n    return variable(['default', 'flex', 'grid'].map(it => {\n        return { value: it, text: this.$i18n(`layout.property.${it}`) }\n    }));\n  }\n\n  getClassName() {\n    return 'elf--layout-property';\n  }\n\n  getBody() {\n    return /*html*/`\n        <div class='property-item' ref='$layoutType'></div>\n      `;\n  }  \n\n  [LOAD('$layoutType')] () {\n    var current = this.$selection.current || { layout : 'default' }\n    return /*html*/`\n      <div class='layout-select'>\n        <object refClass=\"SelectIconEditor\" \n          ref='$layout' \n          key='layout' \n          icon=\"true\" \n          value=\"${current.layout}\"\n          options=\"${this.getLayoutOptions()}\"  \n          colors=\",green,red\"\n          onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList'>\n        <div data-value='default' class='${current.layout === 'default' ? 'selected': ''}'></div>\n        <div data-value='flex' class='${current.layout === 'flex' ? 'selected': ''}'>\n          <object refClass=\"FlexLayoutEditor\" ref='$flex' key='flex-layout' value=\"${current['flex-layout'] || ''}\" onchange='changeLayoutInfo' />\n        </div>\n        <div data-value='grid' class='${current.layout === 'grid' ? 'selected': ''}'>\n          <object refClass=\"GridLayoutEditor\" ref='$grid' key='grid-layout' value=\"${current['grid-layout'] || ''}\" onchange='changeLayoutInfo' />\n        </div>\n      </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeLayoutInfo')] (key, value) {\n    this.command('setAttributeForMulti', 'change layout info', this.$selection.packByValue({ \n      [key]: value\n    }))\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize');    \n    })\n\n  }\n\n  [SUBSCRIBE_SELF('changeLayoutType')] (key, value) {\n\n    this.$selection.reset(this.$selection.packByValue({ \n      [key]: value\n    }))\n\n    this.command('setAttributeForMulti', 'change layout type', this.$selection.packByValue({ \n      [key]: value\n    }))\n\n    this.nextTick(() => {\n      this.refresh();\n      this.emit('refreshAllElementBoundSize');\n      this.emit('changeItemLayout')\n    })\n\n  }\n\n  get editableProperty() {\n    return 'layout'\n  }\n\n  hasChildren() {\n    return this.$selection.current.hasChildren();\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow') + IF(\"hasChildren\")]() {\n    this.refresh();\n  }\n}","\nimport { DEBOUNCE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './DefaultLayoutItemProperty.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class DefaultLayoutItemProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('flex.layout.item.property.title');\n  }\n\n  getClassName() {\n    return 'elf--flex-layout-item-property';\n  }\n\n  getLayoutOptions () {\n    return variable(['none', 'auto', 'value'].map(it => {\n        return {value: it, text: this.$i18n(`flex.layout.item.property.${it}`) }\n    }));\n  }\n\n  getBody() {\n    return /*html*/`\n        <div class='property-item' ref='$body'></div>\n      `;\n  }  \n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || { 'flex-layout-item' : 'none' }\n\n    var valueType = current['flex-layout-item'] || 'none';\n\n    var arr = [] \n    if (['none', 'auto'].includes(valueType) === false) {\n      arr  = valueType.split(' ');\n    }\n\n    if (arr.length > 0) {\n      valueType = 'value'\n    }\n\n    return /*html*/`\n      <div class='layout-select'>\n        <object refClass=\"SelectIconEditor\" \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"${valueType}\"\n        options=\"${this.getLayoutOptions()}\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='${current.layout}'>\n        <div data-value='none'></div>\n        <div data-value='auto'></div>\n        <div data-value='value'>\n          <div class='value-item'>\n            <object refClass=\"RangeEditor\"  ref='$grow' label='${this.$i18n('flex.layout.item.property.grow')}' key=\"flex-grow\" value=\"${arr[0]}\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeDefaultItem' />\n          </div>\n          <div class='value-item'>\n            <object refClass=\"RangeEditor\"  ref='$shrink' label='${this.$i18n('flex.layout.item.property.shrink')}' key=\"flex-shrink\" value=\"${arr[1]}\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeDefaultItem' />\n          </div>\n          <div class='value-item'>\n            <object refClass=\"RangeEditor\"  ref='$basis' label='${this.$i18n('flex.layout.item.property.basis')}' key=\"flex-basis\" value=\"${arr[2]}\" min='0' units=\"px,em,%,auto\" onchange='changeDefaultItem' />\n          </div>                    \n        </div>\n      </div>\n    `\n  }\n\n  getDefaultItemValue  (value) {\n    return value.unit === 'auto' ? 'auto' : value + \"\";\n  }\n\n  getDefaultValue () {\n\n    var grow = this.children.$grow.getValue();\n    var shrink = this.children.$shrink.getValue();\n    var basis = this.children.$basis.getValue();\n\n    grow = this.getDefaultItemValue(grow);\n    shrink = this.getDefaultItemValue(shrink);\n    basis = this.getDefaultItemValue(basis);\n\n    return CSS_TO_STRING({\n      flex: `${grow} ${shrink} ${basis}`\n    })\n  }\n\n  [SUBSCRIBE_SELF('changeDefaultItem')] (key, value) {\n\n    this.command('setAttributeForMulti', 'change flex layout', this.$selection.packByValue({ \n      'flex-layout-item': this.getDefaultValue()\n    }))\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')    \n    })\n  }\n\n  [SUBSCRIBE_SELF('changeLayoutType')] (key, value) {\n\n    var valueType = this.children.$layout.getValue()\n    var value = valueType;\n\n    if (valueType === 'value') {\n      value = this.getDefaultValue()\n    }\n\n    this.command('setAttributeForMulti', 'change flex layout', this.$selection.packByValue({ \n      'flex-layout-item': value\n    }))\n\n    //        . \n    this.refs.$layoutList.attr('data-selected-value', valueType);\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')    \n    })\n\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(() => {\n      var current = this.$selection.current; \n      return  current && current.isInDefault()\n    });\n  }\n}","import check from \"./check\";\nimport grid from \"./grid\";\nimport dot from \"./dot\";\nimport crossdot from \"./cross-dot\";\nimport diagonalLine from \"./diagonal-line\";\nimport verticalLine from \"./vertical-line\";\nimport horizontalLine from \"./horizontal-line\";\n\n\n\nexport default [\n    check,\n    grid,\n    dot,\n    crossdot,\n    diagonalLine,\n    verticalLine,\n    horizontalLine\n]","export default { \n    key: 'check', \n    title: 'Check',\n    execute: function () {\n        return [\n            { pattern: `check(20px 20px, 10px 10px, black, transparent)` },\n            { pattern: `check(40px 40px, 20px 20px, black, transparent)` },\n            { pattern: `check(60px 60px, 30px 30px, #DDB104, rgba(254,240,188,0))` },\n            { pattern: `check(80px 80px, 40px 40px, #DDB104, rgba(254,240,188,0))` },\n            { pattern: `check(100px 100px, 50px 50px, #DCF3DC, transparent)` },\n            { pattern: `check(200px 200px, 100px 100px, #102C45, transparent)` },\n        ]\n    }\n}","export default { \n    key: 'grid', \n    title: 'Grid',\n    execute: function () {\n        return [\n            { pattern: `grid(20px 20px, 10px 10px, black, transparent)` },\n            { pattern: `grid(40px 40px, 20px 20px, black, transparent)` },\n            { pattern: `grid(60px 60px, 30px 30px, #DDB104, rgba(254,240,188,0))` },\n            { pattern: `grid(80px 80px, 40px 40px, #DDB104, rgba(254,240,188,0))` },\n            { pattern: `grid(100px 100px, 50px 50px, #DCF3DC, transparent)` },\n            { pattern: `grid(200px 200px, 100px 100px, #102C45, transparent)` },\n        ]\n    }\n}","export default { \n    key: 'dot', \n    title: 'Dot',\n    execute: function () {\n        return [\n            { pattern: `dot(20px 20px, 10px 10px, #B7C4CD, white, normal, 1px)` },\n            { pattern: `dot(40px 40px, 20px 20px, #E7393F, #FEF0BC, normal, 2px)` },\n            { pattern: `dot(60px 60px, 30px 30px, #E7393F, black, normal, 3px)` },\n            { pattern: `dot(80px 80px, 40px 40px, #B7C4CD, white, normal, 4px)` },\n        ]\n    }\n}","export default { \n    key: 'cross-dot', \n    title: 'Cross Dot',\n    execute: function () {\n        return [\n            { pattern: `cross-dot(20px 20px, 10px 10px, #B7C4CD, white, normal, 1px)` },\n            { pattern: `cross-dot(40px 40px, 20px 20px, #DDB104, #FEF0BC, normal, 4px)` },\n            { pattern: `cross-dot(60px 60px, 30px 30px, #35DB92, #DCF9EC, normal, 6px)` },\n        ]\n    }\n}","export default { \n    key: 'diagonal-line', \n    title: 'Diagonal Line',\n    execute: function () {\n        return [\n            { pattern: `diagonal-line(10px 10px, 45deg, #B7C4CD, white, normal, 1px)` },\n            { pattern: `diagonal-line(25px 25px, 90deg, #DDB104, #FEF0BC, normal, 2px)` },\n            { pattern: `diagonal-line(50px 50px, 135deg, #35DB92, #DCF9EC, normal, 3px)` },\n        ]\n    }\n}","export default { \n    key: 'vertical-line', \n    title: 'Vertical Line',\n    execute: function () {\n        return [\n            { pattern: `vertical-line(10px 10px, 0, #B7C4CD, white, normal, 1px)` },\n            { pattern: `vertical-line(25px 25px, 0, #DDB104, #FEF0BC, normal, 2px)` },\n            { pattern: `vertical-line(50px 50px, 0, black, rgba(231,57,63,0.9), normal, 1px)` },\n        ]\n    }\n}","export default { \n    key: 'horizontal-line', \n    title: 'Horizontal Line',\n    execute: function () {\n        return [\n            { pattern: `horizontal-line(10px 10px, 0, #B7C4CD, white, normal, 1px)` },\n            { pattern: `horizontal-line(25px 25px, 0, #DDB104, #FEF0BC, normal, 2px)` },\n            { pattern: `horizontal-line(50px 50px, 0, #35DB92, #DCF9EC, normal, 3px)` },\n        ]\n    }\n}","\nimport { LOAD, DEBOUNCE, DRAGSTART, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\n\nimport patterns from \"el/editor/preset/patterns\";\nimport { Pattern } from \"el/editor/property-parser/Pattern\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './PatternAssetsProperty.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class PatternAssetsProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('pattern.asset.property.title');\n  }\n\n  initState() {\n    return {\n      mode: 'grid',\n      preset: 'check'      \n    }\n  }\n\n\n  getTools() {\n\n    const options = variable(patterns.map(it => {\n      return { value: it.key, text: it.title } \n    }));\n\n    return /*html*/`\n      <object refClass=\"SelectEditor\"  key=\"preset\" value=\"${this.state.preset}\" options=\"${options}\" onchange=\"changePreset\"  />\n    `\n  }  \n\n\n  [SUBSCRIBE_SELF('changePreset')] (key, value) {\n\n    this.setState({\n      [key]: value\n    })\n  }\n\n  getClassName() {\n    return 'elf--pattern-assets-property'\n  }\n\n  get editableProperty() {\n    return \"pattern\";\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')] () {\n    \n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item pattern-assets'>\n        <div class='pattern-list' ref='$patternList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [DRAGSTART('$patternList .pattern-item')] (e) {\n    const pattern = e.$dt.attr('data-pattern');\n    e.dataTransfer.effectAllowed = \"copy\";\n    e.dataTransfer.setData(\"text/pattern\", pattern);\n  }\n\n  [LOAD(\"$patternList\")]() {\n    var preset = patterns.find(it => it.key === this.state.preset);\n\n    if (!preset) {\n      return '';\n    }\n\n    var results = preset.execute().map( (item, index) => { \n      const cssText = CSS_TO_STRING(Pattern.toCSS(item.pattern));\n\n      return /*html*/`\n        <div class='pattern-item' data-index=\"${index}\" data-pattern=\"${item.pattern}\">\n          <div class='preview' title=\"${item.title}\" draggable=\"true\">\n            <div class='pattern-view' style='${cssText}'></div>\n          </div>\n        </div>\n      `\n    })\n\n    return results\n  }\n\n\n  [CLICK(\"$patternList .pattern-item\")](e) {\n\n    const pattern = e.$dt.attr('data-pattern')\n\n    // view     . \n    if (this.$modeView.isCurrentMode('CanvasView')) { \n      this.emit('addBackgroundImagePattern', pattern);\n    } else {\n      this.emit('setPatternAsset', pattern)\n    }\n  }  \n\n}","\nimport { LOAD, CLICK, DRAGSTART, DRAGOVER, DROP, PREVENT, DEBOUNCE, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { Pattern } from \"el/editor/property-parser/Pattern\";\nimport patterns from \"el/editor/preset/patterns\";\n\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './PatternEditor.scss';\n\nexport default class PatternEditor extends EditorElement {\n\n    initState() {\n        return {\n            hideLabel: this.props['hide-label'] === 'true' ? true: false,\n            value: this.props.value, \n            patterns : this.parsePattern(this.props.value)\n        }\n    }\n\n    parsePattern(str) {\n        return Pattern.parseStyle(str);\n    }\n\n    setValue (value) {\n        this.setState({\n            value, \n            patterns : this.parsePattern(value)\n        })\n    }\n\n    template () {\n        var labelClass = this.state.hideLabel ? 'hide' : '';\n        return /*html*/`\n            <div class='elf--pattern-editor' >\n                <div class='label ${labelClass}'>\n                    <label>${this.props.title||''}</label>\n                    <div class='tools'>\n                        <button type=\"button\" ref='$add'>${icon.add} ${this.props.title ? '' : 'Add'}</button>\n                    </div>\n                </div>\n                <div class='pattern-list' ref='$patternList'></div>\n            </div>\n        `\n    }\n\n\n    [LOAD('$patternList')] () {\n\n        return this.state.patterns.map((it, index) => {\n\n            const selectedClass = it.selected ? \"selected\" : \"\";\n      \n            if (it.selected) {\n              this.selectedIndex = index;\n            }\n\n            return /*html*/`\n            <div class='pattern-item ${selectedClass}' data-index='${index}' ref=\"fillIndex${index}\"  draggable='true'>\n                <object refClass=\"PatternSizeEditor\" \n                    key=\"pattern-size\"\n                    ref=\"$bp${index}\"\n                    type=\"${it.type}\"\n                    x=\"${it.x}\"\n                    y=\"${it.y}\"\n                    width=\"${it.width}\"\n                    height=\"${it.height}\"\n                    index=\"${index}\"\n                    foreColor=\"${it.foreColor}\"\n                    backColor=\"${it.backColor}\"\n                    blendMode=\"${it.blendMode}\"\n                    lineWidth=\"${it.lineWidth}\"\n                    lineHeight=\"${it.lineHeight}\"\n                    onchange='changePatternSizeInfo' />\n                <div class='tools'>\n                    <button type=\"button\" class='remove' title='Remove a pattern' data-index='${index}'>${icon.remove}</button>\n                </div>\n            </div>\n            `;\n        });\n    }\n\n    modifyPattern () {\n        var value = Pattern.join(this.state.patterns);\n\n        this.parent.trigger(this.props.onchange, this.props.key, value)\n    }\n\n    [SUBSCRIBE('add')] (type = 'check') {\n\n        var pattern = patterns.find(it => it.key === type)\n\n        if (pattern) {\n\n            this.state.patterns.push.apply(this.state.patterns, Pattern.parseStyle(pattern.execute()[0].pattern));\n\n            this.refresh();\n    \n            this.modifyPattern();        \n        }\n\n    }\n\n    [CLICK('$add')] () {\n        this.trigger('add')\n    }\n\n\n    [DRAGSTART(\"$patternList .pattern-item\")](e) {\n        this.startIndex = +e.$dt.attr(\"data-index\");\n    }\n\n    [DRAGOVER(\"$patternList .pattern-item\") + PREVENT](e) {}\n\n\n    sortItem(arr, startIndex, targetIndex) {\n        arr.splice(\n          targetIndex + (startIndex < targetIndex ? -1 : 0),\n          0,\n          ...arr.splice(startIndex, 1)\n        );\n    }\n\n    sortPattern(startIndex, targetIndex) {\n        this.sortItem(this.state.patterns, startIndex, targetIndex);\n    }\n\n    [DROP(\"$patternList .pattern-item\") + PREVENT](e) {\n        var targetIndex = +e.$dt.attr(\"data-index\");\n\n\n        this.selectItem(this.startIndex, true);\n\n        this.sortPattern(this.startIndex, targetIndex);\n\n        this.modifyPattern()\n\n        this.refresh();\n\n\n    }\n\n\n\n    getCurrentPattern() {\n        return this.state.patterns[this.selectedIndex];\n    }\n\n\n    [CLICK(\"$patternList .tools .remove\")](e) {\n        var removeIndex = +e.$dt.attr(\"data-index\");\n\n        this.state.patterns.splice(removeIndex, 1);\n        this.modifyPattern()\n        this.refresh();\n\n    }\n\n    selectItem(selectedIndex, isSelected = true) {\n        if (isSelected) {\n            this.refs[`fillIndex${selectedIndex}`].addClass(\"selected\");\n        } else {\n            this.refs[`fillIndex${selectedIndex}`].removeClass(\"selected\");\n        }\n\n        \n        this.state.patterns.forEach((it, index) => {\n            it.selected = index === selectedIndex;\n        });\n        \n    }\n\n    [SUBSCRIBE('changePatternSizeInfo') + DEBOUNCE(10)] (key, value, index) {\n        var pattern = this.state.patterns[index];\n\n        pattern.reset(value)\n        this.modifyPattern();\n        this.refresh();\n    }\n}","\nimport { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { Length } from \"el/editor/unit/Length\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\n\nexport default class PatternInfoPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('pattern.info.popup.title')\n  }\n\n  initState() {\n\n    return {\n      type: this.props.type || 'grid',\n      x: this.props.x || Length.z(),\n      y: this.props.y || Length.z(),\n      width: this.props.width || Length.z(),\n      height: this.props.height || Length.z(),\n      lineWidth: this.props.lineWidth || Length.px(1),\n      lineHeight: this.props.lineHeight || Length.px(1),\n      foreColor: this.props.foreColor || 'black',\n      backColor: this.props.backColor || 'transparent',\n      blendMode: this.props.blendMode || 'normal'\n    }\n  }\n\n  updateData(opt = {}) {\n    this.setState(opt, false);\n\n    const { x, y, width, height, foreColor, backColor, blendMode, lineWidth, lineHeight} = this.state; \n\n    this.state.instance.trigger(this.state.changeEvent, {\n      x, y, width, height, foreColor, backColor, blendMode, lineWidth, lineHeight\n    }, this.state.params);\n  }\n\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    this.updateData({ [key]: value });\n  }\n\n  templateForX() {\n    if (this.hasNotX()) return '';      \n    \n    let label = 'X'\n    let units = ''; \n\n    if (this.state.type === 'diagonal-line') {\n      label = this.$i18n('pattern.info.popup.rotate')\n      units = 'deg' \n    }\n\n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"RangeEditor\"  \n            label=\"${label}\"\n            calc=\"false\"            \n            ref=\"$x\" \n            key=\"x\"\n            value=\"${this.state.x}\"\n            min=\"0\" max=\"1000\" step=\"1\"\n            units=\"${units}\"\n            onchange=\"changeRangeEditor\"\n        />\n      </div>\n    `;\n  }\n\n  templateForY() {\n    if (this.hasNotY()) return '';            \n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"RangeEditor\"  \n            label=\"Y\" \n            calc=\"false\"       \n            ref=\"$y\" \n            key=\"y\"\n            value=\"${this.state.y}\"            \n            min=\"0\" max=\"1000\" step=\"1\"\n            onchange=\"changeRangeEditor\"\n        />\n      </div>\n    `;\n  }\n\n  templateForWidth() {\n\n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"RangeEditor\"  \n          label=\"${this.$i18n('pattern.info.popup.width')}\"   \n          calc=\"false\"             \n          ref=\"$width\" \n          key=\"width\"\n          value=\"${this.state.width}\"          \n          min=\"0\" max=\"500\" step=\"1\" \n          onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }\n\n  templateForHeight() {\n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"RangeEditor\"  \n          label=\"${this.$i18n('pattern.info.popup.height')}\"\n          calc=\"false\"          \n          ref=\"$height\" \n          key=\"height\"\n          value=\"${this.state.height}\"          \n          min=\"0\" max=\"500\" step=\"1\" onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }\n\n  hasNotLineWidth () {\n    return ['check'].includes(this.state.type);\n  }\n\n  hasNotLineHeight () {\n    return ['cross-dot', 'dot', 'check','diagonal-line', 'horizontal-line'].includes(this.state.type);\n  }  \n\n  hasNotX () {\n    return ['grid', 'dot', 'horizontal-line'].includes(this.state.type);\n  }    \n\n  hasNotY () {\n    return ['grid', 'dot', 'diagonal-line', 'vertical-line'].includes(this.state.type);\n  }      \n\n  templateForLineWidth() {\n\n    if (this.hasNotLineWidth()) return '';    \n\n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"RangeEditor\"  \n          label=\"${this.$i18n('pattern.info.popup.lineWidth')}\"   \n          calc=\"false\"             \n          ref=\"$lineWidth\" \n          key=\"lineWidth\"\n          value=\"${this.state.lineWidth}\"          \n          min=\"0\" max=\"500\" step=\"1\" \n          onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }\n\n  templateForLineHeight() {\n    if (this.hasNotLineHeight()) return '';        \n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"RangeEditor\"  \n          label=\"${this.$i18n('pattern.info.popup.lineHeight')}\"\n          calc=\"false\"          \n          ref=\"$lineHeight\" \n          key=\"lineHeight\"\n          value=\"${this.state.lineHeight}\"          \n          min=\"0\" max=\"500\" step=\"1\" onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }  \n\n  templateForForeColor() {\n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"ColorViewEditor\" \n            ref='$foreColor' \n            label=\"${this.$i18n('pattern.info.popup.foreColor')}\" \n            key='foreColor' \n            value=\"${this.state.foreColor}\"\n            onchange=\"changeRangeEditor\" />\n      </div>\n    `\n  }\n\n  templateForBackColor() {\n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"ColorViewEditor\" \n            ref='$backColor' \n            label=\"${this.$i18n('pattern.info.popup.backColor')}\" \n            key='backColor' \n            value=\"${this.state.backColor}\"\n            onchange=\"changeRangeEditor\" />\n      </div>\n    `\n  }\n\n\n  templateForBlendMode() {\n\n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"BlendSelectEditor\" \n            ref='$blend' \n            key='blendMode' \n            label=\"${this.$i18n('pattern.info.popup.blend')}\"\n            value=\"${this.state.blendMode}\" \n            onchange=\"changeRangeEditor\" \n        />\n    </div>\n    `;\n}    \n\n  getBody() {\n    return /*html*/`\n      <div class=\"background-image-position-picker\" ref='$picker'></div>\n    `;\n  }\n\n  [LOAD('$picker')] () {\n    return /*html*/`\n      \n      <div class='box'>\n\n        <div class='background-property'>      \n          ${this.templateForWidth()}\n          ${this.templateForHeight()}        \n          ${this.templateForLineWidth()}\n          ${this.templateForLineHeight()}                  \n          ${this.templateForX()}\n          ${this.templateForY()}\n          ${this.templateForForeColor()}\n          ${this.templateForBackColor()}\n          ${this.templateForBlendMode()}\n        </div>\n      </div>\n    `\n  }\n\n\n  [SUBSCRIBE(\"showPatternInfoPopup\")](data, params) {\n    this.state.changeEvent = data.changeEvent || 'changePatternInfoPopup'\n    this.state.params = params; \n    this.state.instance = data.instance; \n\n    this.setState(data.data);\n\n    this.show(460);\n  }\n\n\n}","\n  export const pattern_list = [\n    'check',\n    'grid',\n    'dot',\n    'cross-dot',\n    'diagonal-line',\n    'vertical-line',\n    'horizontal-line',\n  ];  ","\nimport {\n  LOAD, CLICK, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF, IF \n} from \"el/sapa/Event\";\n\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { pattern_list } from \"./util\";\n\n\nexport default class PatternProperty extends BaseProperty {\n\n  getTitle () {\n    return this.$i18n('pattern.property.title');\n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'pattern';\n  }\n\n\n  getTitleClassName() {\n    return 'pattern'\n  }\n\n  getBody() {\n    return `<div class='full pattern-property' ref='$body'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$patternSelect\">      \n      </select>\n      <button type=\"button\" ref=\"$add\" title=\"add Pattern\">${icon.add}</button>\n    `\n  }\n  \n\n  [CLICK(\"$add\")]() {\n    var patternType = this.refs.$patternSelect.value;\n\n    this.children.$patternEditor.trigger('add', patternType)\n  }\n\n  [LOAD('$patternSelect')] () {\n    var list = pattern_list.map(it => { \n      return {title: this.$i18n(`pattern.property.${it}`), value: it}\n    })\n\n    const totalList = [\n      ...list\n    ]\n\n    return totalList.map(it => {\n      var {title, value} = it;\n      \n      return `<option value='${value}'>${title}</option>`\n    })\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {} \n    var value = current.pattern;\n\n    return /*html*/`<object refClass=\"PatternEditor\" ref='$patternEditor' value='${value}' hide-label='true' onchange='changePatternEditor' />`\n  }\n\n  [SUBSCRIBE_SELF('changePatternEditor')] (key, pattern) {\n\n    this.command('setAttributeForMulti', 'change pattern', this.$selection.packByValue({ \n      pattern \n    }))\n  }\n\n  get editableProperty () {\n    return 'pattern';\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')] () {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshSVGArea') + DEBOUNCE(1000)] () {\n    this.load('$patternSelect');\n  }\n}","\nimport { CLICK, BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Pattern } from \"el/editor/property-parser/Pattern\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport './PatternSizeEditor.scss';\n\nexport default class PatternSizeEditor extends EditorElement {\n\n    initState() { \n        return {\n            index: this.props.index,\n            x: Length.parse(this.props.x),\n            y: Length.parse(this.props.y),\n            width: Length.parse(this.props.width),\n            height: Length.parse(this.props.height),\n            lineWidth: Length.parse(this.props.linewidth),\n            lineHeight: Length.parse(this.props.lineheight),            \n            backColor: this.props.backcolor,\n            foreColor: this.props.forecolor,\n            blendMode: this.props.blendmode,\n            type: this.props.type,\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyValue(opt);\n    }\n\n    modifyValue(value) {\n        this.parent.trigger(this.props.onchange, this.props.key, value, this.state.index);\n    }\n\n    setValue (obj) {\n        this.setState({\n            ...obj \n        })\n    }\n\n    [BIND('$miniView')] () {\n\n        let obj = {\n            ...this.state,\n        }        \n\n        if (this.state.width.value > 80) {\n            obj.width = Length.px(80);\n            obj.x = Length.px(obj.x.value / this.state.width.value/80)\n        }\n\n        if (this.state.height.value > 80) {\n            obj.height = Length.px(80);\n            obj.y = Length.px(this.state.y.value / this.state.height.value/80)\n        }        \n\n\n        const pattern = Pattern.parse(obj);\n\n        return {\n            cssText: pattern.toCSS()\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='elf--pattern-size-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ${this.state.color}\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewBackgroundPositionPopup();\n    }\n\n    viewBackgroundPositionPopup() {\n        this.emit(\"showPatternInfoPopup\", {\n            changeEvent: (pattern) => {\n                this.updateData({ ...pattern })                \n            },\n            data: this.state,\n            instance: this\n        });\n    }\n}","import { LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, DEBOUNCE, IF } from \"el/sapa/Event\";\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nexport default class PerspectiveProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('perspective.property.title')\n  }\n\n  getKeyframeProperty () {\n    return 'perspective'\n  }\n\n  getTools() {\n    return /*html*/`\n        <button type=\"button\" class=\"remove\" ref='$remove'>${icon.remove}</button>\n    `\n  }\n\n\n  [CLICK('$remove')] () {\n    this.trigger('changePerspective', 'perspective', '');\n  }  \n\n\n  getBody() {\n    return `<div class='property-item' ref='$perspective'></div>`;\n  }  \n\n  [LOAD(\"$perspective\")]() {\n    var current = this.$selection.current || {};\n\n    var perspective = current['perspective'] || ''\n    return /*html*/`\n        <object refClass=\"RangeEditor\"  ref='$1' key='perspective' value=\"${perspective}\" max=\"2000px\" onchange=\"changePerspective\" />\n    `;\n  }\n\n  [SUBSCRIBE_SELF('changePerspective')] (key, value) {\n\n    this.command('setAttributeForMulti', 'change perspective', this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n  get editableProperty() {\n    return 'perspective';\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')]() {\n    this.refresh();\n  }\n}","import { CLICK, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './PerspectiveOriginEditor.scss';\n\nconst typeList = [\n  { key: \"perspective-origin-x\", title: \"X\" },\n  { key: \"perspective-origin-y\", title: \"Y\" },\n];\n\nconst keyList = typeList.map(it => it.key);\n\nconst origin = {\n  top: '50% 0%',\n  'top left': '0% 0%' ,\n  'top right': '100% 0%' ,\n  left: '0% 50%' ,\n  center: '50% 50%',\n  right: '100% 50%' ,\n  bottom: '50% 100%' ,\n  'bottom left': '0% 100%' ,\n  'bottom right': '100% 100%'\n}\nexport default class PerspectiveOriginEditor extends EditorElement {\n\n  initState() {\n\n    var arr = this.props.value.split(' ');\n\n    var obj = {\n      isAll: true,\n      'perspective-origin': Length.z(),\n      'perspective-origin-x': Length.z(),\n      'perspective-origin-y': Length.z()      \n    }\n\n    if (this.props.value) {\n\n      if (arr.length === 1) {\n        obj['isAll'] = true; \n        obj['perspective-origin'] = Length.parse(arr[0]);\n        obj['perspective-origin-x'] = Length.parse(arr[0]);\n        obj['perspective-origin-y'] = Length.parse(arr[0]);\n      } else if (arr.length == 2) {\n        obj['isAll'] = false;       \n        obj['perspective-origin-x'] = Length.parse(arr[0]);\n        obj['perspective-origin-y'] = Length.parse(arr[1]);\n      }\n    }\n\n\n    return obj\n  }\n\n  template() {\n    return /*html*/`\n      <div class='elf--perspective-origin-editor' ref='$body'>\n        <div class='direction' ref='$direction'>\n          <div class='pos' data-value='top'></div>\n          <div class='pos' data-value='top left'></div>\n          <div class='pos' data-value='top right'></div>\n          <div class='pos' data-value='bottom'></div>\n          <div class='pos' data-value='bottom left'></div>\n          <div class='pos' data-value='bottom right'></div>\n          <div class='pos' data-value='left'></div>\n          <div class='pos' data-value='right'></div>\n          <div class='pos' data-value='center'></div>\n        </div>\n        <div ref='$body'></div>\n      </div>\n    `\n  }\n\n\n  [CLICK('$direction .pos')] (e) {\n    var direct = e.$dt.attr('data-value');\n    \n    this.state.isAll = false; \n    var [x, y] = origin[direct].split(' ')\n    this.state['perspective-origin-x'] = Length.parse(x);\n    this.state['perspective-origin-y'] = Length.parse(y);\n    this.refresh();\n    this.modifyPerspectiveOrigin();\n  }  \n\n  [SUBSCRIBE_SELF('changePerspectiveOrigin')] (key, value) {\n\n    if (key === 'perspective-origin') {\n      keyList.forEach(type => {\n        this.children[`$${type}`].setValue(value.toString())\n      });\n    }\n\n    this.setPerspectiveOrigin()\n  }\n\n  [LOAD('$body')] () {\n\n    var selectedValue = this.state.isAll ? 'all' : 'partitial'\n    var perspectiveOrigin = this.state['perspective-origin'];\n\n    return /*html*/`\n      <div class=\"property-item perspective-origin-item\">\n        <div class=\"radius-selector\" data-selected-value=\"${selectedValue}\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <object refClass=\"RangeEditor\"  ref='$all' key='perspective-origin' value=\"${perspectiveOrigin}\" onchange='changePerspectiveOrigin' />\n        </div>\n      </div>\n      <div\n        class=\"property-item full perspective-origin-item\"\n        ref=\"$partitialSetting\"\n        style=\"display: none;\"\n      >\n        <div class=\"radius-setting-box\" ref=\"$radiusSettingBox\">\n          ${typeList.map(it => {\n\n            var label = this.$i18n(it.title)\n\n            return /*html*/`\n              <div>\n                  <object refClass=\"RangeEditor\"  ref='$${it.key}' label='${label}' key='${it.key}' value=\"${this.state[it.key]}\" onchange='changePerspectiveOrigin' />\n              </div>  \n            `;\n          }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n  setPerspectiveOrigin() {\n    var type = this.refs.$selector.attr(\"data-selected-value\");\n\n    if (type === \"all\") {\n      this.state.isAll = true; \n      this.state['perspective-origin'] = this.children[`$all`].getValue();\n    } else {\n      this.state.isAll = false; \n      keyList.forEach(key => {\n        this.state[key] = this.children[`$${key}`].getValue();\n      });\n    }\n\n    this.modifyPerspectiveOrigin();\n  }\n\n  modifyPerspectiveOrigin () {\n    var value = '';\n\n    if (this.state.isAll) {\n      value = `${this.state['perspective-origin']}`\n    } else {\n      value = `${this.state['perspective-origin-x']} ${this.state['perspective-origin-y']}`\n    }\n\n    this.parent.trigger(this.props.onchange, value);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.setPerspectiveOrigin();\n  }\n\n\n}","\nimport { LOAD, CLICK, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\n\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\n\nexport default class PerspectiveOriginProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('perspective.origin.property.title')\n  }\n\n  getKeyframeProperty () {\n    return 'perspective-origin'\n  }\n\n  getTools() {\n    return /*html*/`\n        <button type=\"button\" class=\"remove\" ref='$remove'>${icon.remove}</button>\n    `\n  }\n\n  [CLICK('$remove')] () {\n    this.trigger('changePerspectiveOrigin', '');\n  }  \n\n  getBody() {\n    return /*html*/`\n      <div class=\"property-item full perspective-origin-item\" ref='$body'></div>\n    `;\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {}; \n    var value = current['perspective-origin'] || ''\n\n    return /*html*/`<object refClass=\"PerspectiveOriginEditor\" \n              ref='$1' \n              value='${value}' \n              onchange='changePerspectiveOrigin' \n            />`\n  }\n\n  get editableProperty() {\n    return 'perspective-origin';\n  }\n\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')]() {\n    this.refresh();\n  }\n\n  [SUBSCRIBE_SELF('changePerspectiveOrigin')] (value) {\n\n    this.command('setAttributeForMulti',  'change perspective origin', this.$selection.packByValue({ \n      'perspective-origin': value \n    }))\n  }\n\n}","import { IF, SUBSCRIBE, SUBSCRIBE_SELF, THROTTLE } from \"el/sapa/Event\";\nimport { Transform } from \"el/editor/property-parser/Transform\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { Length } from \"el/editor/unit/Length\";\n\nconst DEFAULT_SIZE = Length.z();\n\nexport default class PositionProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('position.property.title');\n  }\n\n  afterRender() {\n    this.show();\n  }\n\n  [SUBSCRIBE('refreshSelection')]() {\n    this.refreshShowIsNot(['project'])\n  }\n\n  checkChangedValue() {\n    var current = this.$selection.current;\n    if (!current) return false;\n\n    return current.hasChangedField(\n      'x', \n      'y', \n      'width', \n      'height', \n      'transform', \n      'rotateZ', \n      'rotate', \n      'opacity'\n    );\n  }\n\n  [SUBSCRIBE('refreshSelectionStyleView') + IF('checkChangedValue') + THROTTLE(10)]() {\n    var current = this.$selection.current;\n    if (!current) return '';\n\n    this.children.$x.setValue(current.x || DEFAULT_SIZE);\n    this.children.$y.setValue(current.y || DEFAULT_SIZE);\n    this.children.$width.setValue(current.width || DEFAULT_SIZE);\n    this.children.$height.setValue(current.height || DEFAULT_SIZE);\n    this.children.$opacity.setValue(current['opacity'] || '1')\n    const rotateZ = Transform.get(current.transform, 'rotateZ')\n    if (rotateZ) {\n      this.children.$rotate.setValue(rotateZ[0]);\n    } else {\n      this.children.$rotate.setValue(Length.deg(0));\n    }\n\n  }\n\n  isHideHeader() {\n    return true;\n  }\n\n  getBodyClassName() {\n    return 'no-padding';\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"position-item\" ref=\"$positionItem\" style='padding: 5px 10px;'>\n        <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px;'>\n          <div class='property-item animation-property-item' style='padding: 0px;'>\n            <div class='group'>\n              <span class='add-timeline-property' data-property='x'></span>\n            </div>\n            <object refClass='InputRangeEditor' ref='$x' compact=\"true\" label=\"X\" key='x' min=\"-1000\" max='1000' onchange='changRangeEditor' />\n          </div>\n          <div class='property-item animation-property-item' style='padding: 0px;'>\n            <div class='group'>\n              <span class='add-timeline-property' data-property='y'></span>\n            </div>\n            <object refClass='InputRangeEditor' ref='$y' compact=\"true\"  label=\"Y\" key='y' min=\"-1000\" max='1000' onchange='changRangeEditor' />\n          </div>\n        </div>\n        <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; padding-top: 10px;'>\n          <div class='property-item animation-property-item' style='padding:0px'>\n            <div class='group'>\n              <span class='add-timeline-property' data-property='width'></span>\n            </div>\n            <object refClass='InputRangeEditor' ref='$width' compact=\"true\"  label=\"${this.$i18n('position.property.width')}\" key='width' min=\"0\" max='3000' onchange='changRangeEditor' />\n          </div>\n          <div class='property-item animation-property-item' style='padding:0px'>\n            <div class='group'>\n              <span class='add-timeline-property' data-property='height'></span>      \n            </div>\n            <object refClass='InputRangeEditor' ref='$height' compact=\"true\"  label=\"${this.$i18n('position.property.height')}\" key='height' min=\"0\" max='3000' onchange='changRangeEditor' />\n          </div>      \n        </div> \n        <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; padding-top: 10px;'>\n          <div class='property-item animation-property-item'>\n            <div class='group'>\n              <span class='add-timeline-property' data-property='rotate'></span>\n            </div>\n            <object refClass='InputRangeEditor' \n              ref='$rotate' \n              key='rotateZ' \n              compact=\"true\" \n              label='rotate_left'\n              min=\"-360\"\n              max=\"360\"\n              step=\"1\"\n              units=\"deg\"\n              onchange=\"changeRotate\" />\n          </div>        \n\n          <div class='property-item animation-property-item'>\n            <div class='group'>\n              <span class='add-timeline-property' data-property='opacity'></span>\n            </div>\n            <object refClass=\"NumberInputEditor\"\n              ref='$opacity' \n              key='opacity' \n              compact=\"true\" \n              label='opacity'\n              min=\"0\"\n              max=\"1\"\n              step=\"0.01\"\n              onchange=\"changeSelect\" />\n          </div>        \n        </div>                \n      </div>\n    `;\n  }\n\n  refresh() {\n    const current = this.$selection.current;\n    if (current) {\n      this.children.$x.setValue(current.x);\n      this.children.$y.setValue(current.y);\n      this.children.$width.setValue(current.width);\n      this.children.$height.setValue(current.height);\n      this.children.$opacity.setValue(current['opacity'] || '1')\n      const rotateZ = Transform.get(current.transform, 'rotateZ')\n      if (rotateZ) {\n        this.children.$rotate.setValue(rotateZ[0]);\n      }      \n    }\n\n  }\n\n\n  [SUBSCRIBE_SELF('changRangeEditor')](key, value) {\n\n    this.command('setAttributeForMulti', 'change position or size', this.$selection.packByValue({\n      [key]: value\n    }))\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')\n    })\n\n  }\n\n  [SUBSCRIBE_SELF('changeRotate')](key, rotate) {\n    this.command('setAttributeForMulti', \"change rotate\", this.$selection.packByValue({\n      transform: (item) => Transform.rotateZ(item.transform, rotate)\n    }))\n  }\n\n  [SUBSCRIBE_SELF('changeSelect')](key, value) {\n    this.command(\"setAttributeForMulti\", `change ${key}`, this.$selection.packByValue({\n      [key]: value\n    }))\n  }\n\n\n\n}\n","import BaseProperty from \"../../el/editor/ui/property/BaseProperty\";\nimport { LOAD, CLICK, PREVENT, STOP, FOCUSOUT, DOUBLECLICK, DOMDIFF, KEYDOWN, ENTER, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\n\nimport './ProjectProperty.scss';\n\nexport default class ProjectProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('project.property.title');\n  }\n\n  getClassName() {\n    return 'full';\n  }\n\n  getTools() {\n    return /*html*/`\n      <button type='button' ref='$add' data-tooltip=\"Add a project\" data-direction=\"bottom right\">${icon.add}</button>\n    `\n  }\n\n  [CLICK('$add')] () {\n    this.emit('addProject');\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--project-list scrollbar\" ref=\"$projectList\"></div>\n    `;\n  }\n\n  [LOAD(\"$projectList\") + DOMDIFF]() {\n    var projects = this.$model.projects || [];\n    \n\n    return projects.map( (projectId, index) => {\n      var selected = projectId === this.$selection.currentProject.id ? 'selected' : '';\n      const project = this.$model.get(projectId);\n      return /*html*/`\n        <div class='project-item ${selected}'>\n          <div class='detail'>\n            <label data-id='${projectId}'>${project.name || 'New Project'}</label>\n            <div class=\"tools\">\n              <button type=\"button\" class=\"remove\" data-id=\"${projectId}\" title='Remove'>${icon.remove2}</button>\n            </div>\n          </div>\n        </div>\n      `\n    })\n  }\n\n\n  [DOUBLECLICK('$projectList .project-item')] (e) {\n    this.startInputEditing(e.$dt.$('label'))\n  }\n\n  modifyDoneInputEditing (input) {\n    this.endInputEditing(input, (index, text) => {\n\n      var project = this.$editor.projects[index]\n      if (project) {\n        project.reset({\n          name: text\n        })\n      }\n    });    \n  }\n\n  [KEYDOWN('$projectList .project-item label') + ENTER + PREVENT + STOP] (e) {\n    this.modifyDoneInputEditing(e.$dt);\n    return false;\n  }\n\n  [FOCUSOUT('$projectList .project-item label') + PREVENT  + STOP ] (e) {\n    this.modifyDoneInputEditing(e.$dt);\n  }\n\n\n  [CLICK('$projectList .project-item label')] (e) {\n    var id = e.$dt.attr('data-id')\n\n    this.command('refreshSelectionPorject', \"change project\", id);\n\n    this.nextTick(() => {\n      this.refresh();\n    })\n  }\n\n\n  [CLICK('$projectList .project-item .remove')] (e) {\n    var id = e.$dt.attr('data-id')\n\n    this.command('removeProject', 'remove project', id);\n\n    this.nextTick(() => {\n      this.refresh();\n    })\n  }\n\n  [SUBSCRIBE('refreshProjectList', 'refreshAll')] () {\n    this.refresh();\n  }\n\n}","import { LOAD, CHANGE, BIND } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './SelectEditor.scss';\nexport default class SelectEditor extends EditorElement {\n\n    initState() {\n        var splitChar = this.props.split || ',';\n\n        var options = Array.isArray(this.props.options)\n            ? this.props.options.map(it => {\n                if (typeof (it) === 'string') {\n                    return { value: it }\n                }\n                return it;\n            })\n            : (this.props.options || '').split(splitChar).map(it => it.trim()).map(it => {\n                const [value, text] = it.split(':');\n                return { value, text }\n            });\n\n        var value = this.props.value;\n        var tabIndex = this.props.tabindex;\n\n        return {\n            splitChar,\n            label: this.props.label || '',\n            options,\n            value,\n            tabIndex\n        }\n    }\n\n    template() {\n        var { label, tabIndex } = this.state;\n        var hasLabel = !!label ? 'has-label' : ''\n        var hasTabIndex = !!tabIndex ? 'tabIndex=\"1\"' : ''\n        return /*html*/`\n            <div class='elf--select-editor ${hasLabel}'>\n                ${label ? `<label title=\"${label}\">${label}</label>` : ''}\n                <select ref='$options' ${hasTabIndex}></select>\n            </div>\n        `\n    }\n\n    getValue() {\n        return this.refs.$options.value;\n    }\n\n    setValue(value) {\n        this.state.value = value + '';\n        this.refs.$options.val(this.state.value);\n        this.refresh()\n    }\n\n    refresh(reload = false) {\n        this.load();\n    }\n\n    [BIND('$options')]() {\n        return {\n            'data-count': this.state.options.length.toString()\n        }\n    }\n\n    [LOAD('$options')]() {\n\n        var arr = this.state.options.map(it => {\n\n            var value = it.value;\n            var label = it.text || it.value;\n\n            if (label === '') {\n                label = this.props['none-value'] ? this.props['none-value'] : ''\n            } else if (label === '-') {\n                label = '----------'\n                value = '';\n            }\n            var selected = value === this.state.value ? 'selected' : ''\n            return `<option ${selected} value=\"${value}\">${label}</option>`\n        })\n\n        return arr;\n    }\n\n    [CHANGE('$options')]() {\n        this.updateData({\n            value: this.refs.$options.value\n        })\n    }\n\n\n    updateData(data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","import SelectEditor from \"./SelectEditor\";\n\nexport const blend_list = [\n    \"normal\",\n    \"multiply\",\n    \"screen\",\n    \"overlay\",\n    \"darken\",\n    \"lighten\",\n    \"color-dodge\",\n    \"color-burn\",\n    \"hard-light\",\n    \"soft-light\",\n    \"difference\",\n    \"exclusion\",\n    \"hue\",\n    \"saturation\",\n    \"color\",\n    \"luminosity\"\n  ];\n\nexport default class BlendSelectEditor extends SelectEditor {\n\n    getBlendList () {\n        return blend_list.map(it => {\n            return {value: it, text: this.$i18n(`blend.${it}`)};\n        });\n        \n    }\n\n    initState() {\n        return {\n            ...super.initState(),\n            options: this.getBlendList()\n        }\n    }\n}","import { CLICK, LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ClipPathEditor.scss';\n\nexport default class ClipPathEditor extends EditorElement {\n\n    initState() {\n        return {\n            clippath: this.props.value\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt);\n        this.modifyClipPath();\n    }\n\n    getValue () {\n        return this.state.clippath; \n    }\n\n    setValue (clippath) {\n        this.setState({clippath})\n    }\n\n    modifyClipPath() {\n        this.parent.trigger(this.props.onchange, this.state.clippath, this.props.params);\n    }\n\n    template() {\n        return /*html*/`\n            <div class='elf--clip-path-editor'></div>\n        `\n    }\n\n    [LOAD()] () {\n        var clippath = this.state.clippath\n        return `\n        <div class='clippath-item'>\n            <div class='name'>${clippath}</div>\n        </div>\n        `\n    }\n\n    [CLICK()](e) {\n        this.viewClipPathPicker();\n    }\n\n\n    viewClipPathPicker() {\n        this.emit(\"showClipPathPopup\", {\n            changeEvent: (data) => {\n                this.updateData({\n                    clippath: data['clip-path']\n                })            \n            },\n            'clip-path': this.state.clippath\n        });\n    }\n}","import Color from \"el/utils/Color\";\n\nexport default { \n    title: 'random', \n    key: 'random', \n    execute: function (count = 42) {\n        const colorList = Color.randomByCount(count).map(color => {\n            return { color }\n        });\n\n        colorList.sort((a, b) => {\n\n            const localA = Color.parse(a.color)\n            const localB = Color.parse(b.color);\n\n            return localA.h > localB.h ? 1 : -1;\n        })\n\n        return colorList;\n    } \n}","const colors = [\n    '#ffebee',\n    '#ffcdd2',\n    '#ef9a9a',\n    '#e57373',\n    '#ef5350',\n    '#f44336',\n    '#e53935',\n    '#d32f2f',\n    '#c62828',\n    '#b71c1c',\n    '#f44336',\n    '#ff8a80',\n    '#ff5252',\n    '#ff1744',\n    '#d50000',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material red', \n    key: 'material-red', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#fce4ec',\n    '#f8bbd0',\n    '#f48fb1',\n    '#f06292',\n    '#ec407a',\n    '#e91e63',\n    '#d81b60',\n    '#c2185b',\n    '#ad1457',\n    '#880e4f',\n    '#e91e63',\n    '#ff80ab',\n    '#ff4081',\n    '#f50057',\n    '#c51162',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material pink', \n    key: 'material-pink', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#f3e5f5',\n    '#e1bee7',\n    '#ce93d8',\n    '#ba68c8',\n    '#ab47bc',\n    '#9c27b0',\n    '#8e24aa',\n    '#7b1fa2',\n    '#6a1b9a',\n    '#4a148c',\n    '#9c27b0',\n    '#ea80fc',\n    '#e040fb',\n    '#d500f9',\n    '#aa00ff',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material purple', \n    key: 'material-purple', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#ede7f6',\n    '#d1c4e9',\n    '#b39ddb',\n    '#9575cd',\n    '#7e57c2',\n    '#673ab7',\n    '#5e35b1',\n    '#512da8',\n    '#4527a0',\n    '#311b92',\n    '#673ab7',\n    '#b388ff',\n    '#7c4dff',\n    '#651fff',\n    '#6200ea',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material deep purple', \n    key: 'material-deeppurple', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#e8eaf6',\n    '#c5cae9',\n    '#9fa8da',\n    '#7986cb',\n    '#5c6bc0',\n    '#3f51b5',\n    '#3949ab',\n    '#303f9f',\n    '#283593',\n    '#1a237e',\n    '#3f51b5',\n    '#8c9eff',\n    '#536dfe',\n    '#3d5afe',\n    '#304ffe',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material indigo', \n    key: 'material-indigo', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#e3f2fd',\n    '#bbdefb',\n    '#90caf9',\n    '#64b5f6',\n    '#42a5f5',\n    '#2196f3',\n    '#1e88e5',\n    '#1976d2',\n    '#1565c0',\n    '#0d47a1',\n    '#2196f3',\n    '#82b1ff',\n    '#448aff',\n    '#2979ff',\n    '#2962ff',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material blue', \n    key: 'material-blue', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#e1f5fe',\n    '#b3e5fc',\n    '#81d4fa',\n    '#4fc3f7',\n    '#29b6f6',\n    '#03a9f4',\n    '#039be5',\n    '#0288d1',\n    '#0277bd',\n    '#01579b',\n    '#03a9f4',\n    '#80d8ff',\n    '#40c4ff',\n    '#00b0ff',\n    '#0091ea',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material light blue', \n    key: 'material-lightblue', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#e0f7fa',\n    '#b2ebf2',\n    '#80deea',\n    '#4dd0e1',\n    '#26c6da',\n    '#00bcd4',\n    '#00acc1',\n    '#0097a7',\n    '#00838f',\n    '#006064',\n    '#00bcd4',\n    '#84ffff',\n    '#18ffff',\n    '#00e5ff',\n    '#00b8d4',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material cyan', \n    key: 'material-cyan', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n\n    '#e0f2f1',\n    '#b2dfdb',\n    '#80cbc4',\n    '#4db6ac',\n    '#26a69a',\n    '#009688',\n    '#00897b',\n    '#00796b',\n    '#00695c',\n    '#004d40',\n    '#009688',\n    '#a7ffeb',\n    '#64ffda',\n    '#1de9b6',\n    '#00bfa5',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material teal', \n    key: 'material-teal', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#E8F5E9',\n'#C8E6C9',\n'#A5D6A7',\n'#81C784',\n'#66BB6A',\n'#4CAF50',\n'#43A047',\n'#388E3C',\n'#2E7D32',\n'#1B5E20',\n'#B9F6CA',\n'#69F0AE',\n'#00E676',\n'#00C853',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material green', \n    key: 'material-green', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#F1F8E9',\n    '#DCEDC8',\n    '#C5E1A5',\n    '#AED581',\n    '#9CCC65',\n    '#8BC34A',\n    '#7CB342',\n    '#689F38',\n    '#558B2F',\n    '#33691E',\n    '#CCFF90',\n    '#B2FF59',\n    '#76FF03',\n    '#64DD17',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material lightgreen', \n    key: 'material-lightgreen', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#F9FBE7',\n'#F0F4C3',\n'#E6EE9C',\n'#DCE775',\n'#D4E157',\n'#CDDC39',\n'#C0CA33',\n'#AFB42B',\n'#9E9D24',\n'#827717',\n'#F4FF81',\n'#EEFF41',\n'#C6FF00',\n'#AEEA00',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material lime', \n    key: 'material-lime', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#FFFDE7',\n'#FFF9C4',\n'#FFF59D',\n'#FFF176',\n'#FFEE58',\n'#FFEB3B',\n'#FDD835',\n'#FBC02D',\n'#F9A825',\n'#F57F17',\n'#FFFF8D',\n'#FFFF00',\n'#FFEA00',\n'#FFD600',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material yellow', \n    key: 'material-yellow', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#FFF8E1',\n    '#FFECB3',\n    '#FFE082',\n    '#FFD54F',\n    '#FFCA28',\n    '#FFC107',\n    '#FFB300',\n    '#FFA000',\n    '#FF8F00',\n    '#FF6F00',\n    '#FFE57F',\n    '#FFD740',\n    '#FFC400',\n    '#FFAB00',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material amber', \n    key: 'material-amber', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#FFF3E0',\n    '#FFE0B2',\n    '#FFCC80',\n    '#FFB74D',\n    '#FFA726',\n    '#FF9800',\n    '#FB8C00',\n    '#F57C00',\n    '#EF6C00',\n    '#E65100',\n    '#FFD180',\n    '#FFAB40',\n    '#FF9100',\n    '#FF6D00',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material orange', \n    key: 'material-orange', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#FBE9E7',\n'#FFCCBC',\n'#FFAB91',\n'#FF8A65',\n'#FF7043',\n'#FF5722',\n'#F4511E',\n'#E64A19',\n'#D84315',\n'#BF360C',\n'#FF9E80',\n'#FF6E40',\n'#FF3D00',\n'#DD2C00',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material deep orange', \n    key: 'material-deeporange', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n\n'#EFEBE9',\n'#D7CCC8',\n'#BCAAA4',\n'#A1887F',\n'#8D6E63',\n'#795548',\n'#6D4C41',\n'#5D4037',\n'#4E342E',\n'#3E2723',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material brown', \n    key: 'material-brown', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#FAFAFA',\n'#F5F5F5',\n'#EEEEEE',\n'#E0E0E0',\n'#BDBDBD',\n'#9E9E9E',\n'#757575',\n'#616161',\n'#424242',\n'#212121',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material gray', \n    key: 'material-gray', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#ECEFF1',\n'#CFD8DC',\n'#B0BEC5',\n'#90A4AE',\n'#78909C',\n'#607D8B',\n'#546E7A',\n'#455A64',\n'#37474F',\n'#263238',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material bluegray', \n    key: 'material-bluegray', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#f8f9fa',\n'#f1f3f5',\n'#e9ecef',\n'#dee2e6',\n'#ced4da',\n'#adb5bd',\n'#868e96',\n'#495057',\n'#343a40',\n'#212529',\n    \n].map(color => {\n    return {color}\n})\n\nexport default { \n    title: 'opencolor gray', \n    resource: 'https://yeun.github.io/open-color/',\n    key: 'opencolor-gray', \n    execute: function () {\n        return colors;\n    }\n}","import random from \"./random\"\nimport materialRed from \"./material-red\"\nimport materialPink from \"./material-pink\"\nimport materialPurple from \"./material-purple\"\nimport materialDeeppurple from \"./material-deeppurple\"\nimport materialIndigo from \"./material-indigo\"\nimport materialBlue from \"./material-blue\"\nimport materialLightblue from \"./material-lightblue\"\nimport materialCyan from \"./material-cyan\"\nimport materialTeal from \"./material-teal\"\nimport materialGreen from \"./material-green\"\nimport materialLightgreen from \"./material-lightgreen\"\nimport materialLime from \"./material-lime\"\nimport materialYellow from \"./material-yellow\"\nimport materialAmber from \"./material-amber\"\nimport materialOrange from \"./material-orange\"\nimport materialDeeporange from \"./material-deeporange\"\nimport materialBrown from \"./material-brown\"\nimport materialGray from \"./material-gray\"\nimport materialBluegray from \"./material-bluegray\"\nimport opencolorGray from \"./opencolor-gray\"\n\nexport default [\n    random,\n    opencolorGray,\n    materialRed,\n    materialPink,\n    materialPurple,\n    materialDeeppurple,\n    materialIndigo,\n    materialBlue,\n    materialLightblue,\n    materialCyan,\n    materialTeal,\n    materialGreen,\n    materialLightgreen,\n    materialLime,\n    materialYellow,\n    materialAmber,\n    materialOrange,\n    materialDeeporange,\n    materialBrown,\n    materialGray,\n    materialBluegray\n]","import { LOAD, CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport colors from \"el/editor/preset/colors\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ColorAssetsEditor.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class ColorAssetsEditor extends EditorElement {\n\n  initState() {\n    return {\n      mode: 'grid',\n      preset: 'random',\n      isLoaded : false, \n      colors\n    }\n  }\n\n\n  getTools() {\n    return /*html*/`<div ref=\"$tools\"></div>`\n  }\n\n  [LOAD('$tools')] () {\n    const options = variable(this.state.colors.map(it => {\n      return { value: it.key, text: it.title } \n    }));\n\n    return /*html*/`\n      <object refClass=\"SelectEditor\"  key=\"preset\" value=\"${this.state.preset}\" options=\"${options}\" onchange=\"changePreset\"  />\n    `\n  }\n\n  [SUBSCRIBE('changePreset')] (key, value) {\n    this.setState({\n      [key]: value\n    })\n  }\n\n  template() {\n    return /*html*/`\n      <div class='elf--color-assets-editor'>\n        <div class='color-assets-head'>\n          <label>${this.$i18n('color.asset.property.title')}</label>\n          <div class='tools'>${this.getTools()}</div>\n        </div>\n        <div class='color-list' ref='$colorList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$colorList\")]() {\n    var preset = this.state.colors.find(it => it.key === this.state.preset);\n\n    if (!preset) {\n      return '';\n    }\n\n    var results = preset.execute().map( (item, index) => {\n\n      return /*html*/`\n        <div class='color-item' data-index=\"${index}\" data-color=\"${item.color}\">\n          <div class='preview' title=\"${item.color}\" data-index=\"${index}\">\n            <div class='color-view' style='background-color: ${item.color};'></div>\n          </div>\n        </div>\n      `\n    })\n\n    return results\n  }\n\n  executeColor (callback, isRefresh = true, isEmit = true ) {\n    var project = this.$selection.currentProject;\n\n    if(project) {\n\n      callback && callback (project) \n\n      if (isRefresh) this.refresh();\n      if (isEmit) this.emit('refreshColorAssets');\n    } else{\n      alert('Please select a project.')\n    }\n  }\n\n  [CLICK(\"$colorList .preview\")](e) {\n\n    const color = e.$dt.$('.color-view').css('background-color');\n\n    this.modifyColorPicker(color);\n  }\n\n  modifyColorPicker(color) {\n    this.parent.trigger(this.props.onchange, this.props.key, color, this.props.params);\n  }\n}","import { CLICK, BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ColorSingleEditor.scss';\n\nexport default class ColorSingleEditor extends EditorElement {\n\n    initState() { \n        return {\n            params: this.props.params,\n            color: this.props.color || 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyColor();\n    }\n\n    modifyColor() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.color, this.state.params);\n    }\n\n    changeColor (color) {\n        this.setState({ color })\n    }\n\n    setValue (color) {\n        this.changeColor(color);\n    }\n\n    [BIND('$miniView')] () {\n        return {\n            style: {\n                'background-color': this.state.color\n            }\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='elf--color-single-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ${this.state.color}\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewColorPicker();\n    }\n\n    viewColorPicker() {\n        this.emit(\"showColorPickerPopup\", {\n            target: this,\n            changeEvent: (color) => {\n                this.refs.$miniView.cssText(`background-color: ${color}`);\n                this.updateData({ color })                \n            },\n            color: this.state.color\n        });\n    }\n}","import { CLICK, INPUT, BIND, FOCUS, BLUR } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ColorViewEditor.scss';\n\nexport default class ColorViewEditor extends EditorElement {\n\n    initState() {\n\n        return {\n            label: this.props.label,\n            value: this.props.value || 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt);\n        this.modifyColor();\n    }\n\n    updateEndData(opt = {}) {\n        this.setState(opt);\n        this.modifyEndColor();\n    }    \n\n    getValue () {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.changeColor(value)\n    }\n\n    modifyColor() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params);\n    }\n\n    modifyEndColor() {\n        this.parent.trigger(this.props.onchangeend, this.props.key, this.state.value, this.props.params);\n    }\n\n\n    changeColor (value) {\n        this.setState({ value })\n    }\n\n    refresh () {\n        this.refs.$miniView.cssText(`background-color: ${this.state.value}`);\n        this.refs.$colorCode.val(this.state.value);\n    }\n\n    template() {\n        var { label } = this.state;\n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='elf--color-view-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }            \n                <div class='color-code' ref=\"$container\">\n                    <div class='preview' ref='$preview'>\n                        <div class='mini-view'>\n                            <div class='color-view' style=\"background-color: ${this.state.value}\" ref='$miniView'></div>\n                        </div>\n                    </div>                \n                    <input type=\"text\" ref='$colorCode' value='${this.state.value}' tabIndex=\"1\" />\n                </div>\n            </div>\n        ` \n    }\n\n    [BIND('$miniView')] () {\n        return {\n            style: {\n                'background-color': this.state.value\n            }\n        }\n    }\n\n    [BIND('$colorCode')] () {\n        return {\n            value: this.state.value\n        }\n    }\n\n    [FOCUS('$colorCode')] (e) {\n        this.refs.$container.addClass('focused');\n    }\n\n    [BLUR('$colorCode')] (e) {\n        this.refs.$container.removeClass('focused');\n    }\n\n    [CLICK(\"$preview\")](e) {\n        this.viewColorPicker();\n    }\n\n    viewColorPicker() {\n        this.emit(\"showColorPickerPopup\", {\n            target: this, \n            changeEvent: (color) => {\n                this.updateData({ value: color })\n            },\n            changeEndEvent: (color) => {\n                this.updateEndData({ value: color })\n            },\n            color: this.state.value\n        });\n    }\n\n\n    [CLICK('$remove')] (e) {\n        this.updateData({ value: ''})\n    }    \n\n    [INPUT(\"$el .color-code input\")](e) {\n        var color = e.$dt.value;\n        this.refs.$miniView.cssText(`background-color: ${color}`);\n\n        this.updateData({ value: color })\n    }\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport { LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { OBJECT_TO_CLASS } from \"el/utils/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './CSSPropertyEditor.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class CSSPropertyEditor extends EditorElement {\n\n  initState() {\n    return {\n      hideTitle: this.props['hide-title'] === 'true',\n      hideRefresh: this.props['hide-refresh'] === 'true',\n      properties: [] \n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.modifyProperty();\n  }\n\n  modifyProperty () {\n\n    this.parent.trigger(this.props.onchange, this.state.properties);\n  }\n\n\n  template() {\n    return /*html*/`\n      <div class='elf--css-property-editor ${OBJECT_TO_CLASS({ \n        'hide-title': this.state.hideTitle, \n        'hide-refresh': this.state.hideRefresh \n      })}'>\n        <div class='title'>\n          <label>${this.$i18n('css.property.editor.properties')}</label>\n          <div class='tools'>\n            ${this.makePropertySelect()}\n            <button type=\"button\" ref='$addProperty'>${icon.add}</button>\n          </div>\n        </div>\n        <div class='input grid-1 css-property-list' ref='$property'></div>\n      </div>\n    `\n  }  \n\n  getPropertyDefaultValue (key) {\n\n      switch(key) {\n        case 'animation-timing-function':\n        case 'box-shadow':\n        case 'text-shadow':\n        case 'color':\n        case 'background-image':\n        case 'background-color':\n        case 'text-fill-color':\n        case 'text-stroke-color':\n        case 'filter':      \n        case 'backdrop-filter':      \n        case 'var':\n        case 'transform':          \n        case 'transform-origin':\n        case 'perspective-origin':\n        case 'playTime':\n          return Length.string('');          \n        case 'offset-distance': \n          return Length.percent(0);\n        case 'rotate':\n          return Length.deg(0);\n        case 'mix-blend-mode': \n          return 'normal';\n        case 'clip-path':\n          return '';\n        case 'opacity':\n          return 1; \n        default: \n          return Length.z();\n      }\n  }\n\n  [CLICK('$addProperty')] (e) {\n    var key = this.getRef('$propertySelect').value;\n\n\n    var searchItem = this.state.properties.find((it) => {\n      return it.key === key \n    })\n\n    if (searchItem) {\n      alert(`${key} is already added.`)\n      return; \n    }\n\n    var value = this.getPropertyDefaultValue(key)\n\n    var current = this.$selection.current;  \n\n    if (current) {\n      value = current[key]\n    }\n\n    this.state.properties.push({ key, value })\n\n    this.refresh();\n    this.modifyProperty();\n\n  }\n\n\n  makeIndivisualPropertyColorEditor (property, index) {\n\n    var key = property.key.split('-').join('');\n    return /*html*/`\n      <div class='property-editor'>\n        <object refClass=\"ColorViewEditor\" ref='$${key}${index}' value=\"${property.value}\" key=\"${property.key}\" onChange=\"changeColorProperty\" />\n      </div>\n    `\n  }\n\n  makeCustomePropertyEditor (property, index) {\n    return /*html*/`\n      <div class='property-editor'>\n        <${property.editor} \n          onchange=\"changeSelect\"\n          ref=\"$customProperty${index}\"\n          key=\"${property.key}\"\n          value=\"${property.value}\"\n        />\n      </div>\n    `\n  }\n\n  makeIndivisualPropertyEditor (property, index) {\n\n    if (property.key === 'background-image') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"BackgroundImageEditor\" ref='$backgroundImage${index}' key=\"${property.key}\" hide-title=\"${this.state.hideTitle}\" value=\"${property.value}\" onChange=\"changeKeyValue\" />\n        </div>\n      `\n    } else if (property.key === 'filter') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"FilterEditor\" ref='$filter${index}' key=\"${property.key}\" value=\"${property.value}\" onChange=\"changeKeyValue\" />\n        </div>\n      `\n    } else if (property.key === 'backdrop-filter') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"FilterEditor\" ref='$backdropFilter${index}' key=\"${property.key}\" value=\"${property.value}\" onChange=\"changeKeyValue\" />\n        </div>\n      `      \n    } else if (property.key === 'box-shadow') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"BoxShadowEditor\" ref='$boxshadow${index}' value=\"${property.value}\" hide-label=\"false\" onChange=\"changeBoxShadowProperty\" />\n        </div>\n      `      \n    } else if (property.key === 'text-shadow') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"TextShadowEditor\" ref='$textshadow${index}' value=\"${property.value}\" hide-label=\"false\" onChange=\"changeTextShadowProperty\" />\n        </div>\n      `            \n    } else if (property.key === 'var') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"VarEditor\" ref='$var${index}' value=\"${property.value}\" onChange=\"changeVar\" />\n        </div>\n      `       \n    } else if (property.key === 'transform') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"TransformEditor\" ref='$transform${index}' value=\"${property.value}\" onChange=\"changeTransform\" />\n        </div>\n      `                  \n    } else if (property.key === 'transform-origin') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"TransformOriginEditor\" ref='$transformOrigin${index}' value=\"${property.value}\" onChange=\"changeTransformOrigin\" />\n        </div>\n      `                  \n    } else if (property.key === 'perspective-origin') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"PerspectiveOriginEditor\" ref='$perspectiveOrigin${index}' value=\"${property.value}\" onChange=\"changePerspectiveOrigin\" />\n        </div>\n      `               \n    } else if (property.key === 'fill-rule') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"SelectEditor\"  \n          ref='$fillRule${index}' \n          key='fill-rule' \n          icon=\"true\" \n          options=${variable([\"nonzero\",\"evenodd\" ])}\n          value=\"${property.value}\"\n          onchange=\"changeSelect\" />\n        </div>\n      `       \n    } else if (property.key === 'stroke-linecap') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"SelectEditor\"  \n          ref='$strokeLinecap${index}' \n          key='stroke-linecap' \n          icon=\"true\" \n          options=${variable([\"butt\",\"round\",\"square\" ])}          \n          value=\"${property.value}\"\n          onchange=\"changeSelect\" />\n        </div>\n      `       \n      \n    } else if (property.key === 'stroke-linejoin') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"SelectEditor\"  \n          ref='$strokeLinejoin${index}' \n          key='stroke-linejoin' \n          icon=\"true\" \n          options=${variable([\"miter\",\"arcs\",\"bevel\",\"miter-clip\",\"round\" ])}                    \n          value=\"${property.value}\"\n          onchange=\"changeSelect\" />\n        </div>\n      `             \n    } else if (property.key === 'mix-blend-mode') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"BlendSelectEditor\" \n          ref='$mixBlendMode${index}' \n          key='mix-blend-mode' \n          icon=\"true\" \n          value=\"${property.value}\"\n          onchange=\"changeSelect\" />\n        </div>\n      `   \n    } else if (property.key === 'stroke-dasharray') {\n      return /*html*/`\n        <object refClass=\"StrokeDashArrayEditor\" \n          ref='$strokeDashArray${index}' \n          key='stroke-dasharray'\n          value='${property.value}' \n          onchange='changeSelect' \n        />\n      `      \n    } else if (property.key === 'border-radius') {\n      return /*html*/`\n        <object refClass=\"BorderRadiusEditor\"\n          ref='$borderRadius${index}' \n          key='border-radius'\n          value='${property.value}' \n          onchange='changeBorderRadius' \n        />\n      `\n    } else if (property.key === 'border') {\n      return /*html*/`\n        <object refClass=\"BorderEditor\"\n          ref='$border${index}' \n          key='border'\n          value='${property.value}' \n          onchange='changeKeyValue' \n        />\n      `      \n    } else if (property.key === 'clip-path') {\n      return /*html*/`\n        <object refClass=\"ClipPathEditor\"\n          ref='$clipPath${index}' \n          key='clip-path'\n          value='${property.value}' \n          onchange='changeClipPath' \n        />\n      `      \n    } else if (property.key === 'd') {\n      return /*html*/`\n        <object refClass=\"PathDataEditor\" ref='$pathData${index}' key='d' value='${property.value}' onchange='changeSelect' />\n      `            \n    } else if (property.key === 'points') {\n      return /*html*/`\n        <object refClass=\"PolygonDataEditor\" ref='$polygonData${index}' key='points' value='${property.value}' onchange='changeSelect' />\n      `    \n    } else if (property.key === 'playTime') {\n      return /*html*/`\n        <object refClass=\"MediaProgressEditor\" ref='$playTime${index}'  key='playTime' value=\"${property.value}\" onchange=\"changeSelect\" />      \n      `                   \n    }\n\n    return /*html*/`\n      <div class='property-editor'>\n        ???\n\n      </div>\n    `\n\n  }\n\n  [SUBSCRIBE_SELF('changeKeyValue')] (key, value) {\n    this.modifyPropertyValue(key, value);\n  }\n\n\n  [SUBSCRIBE_SELF('changeBorderRadius')] (value) {\n    this.modifyPropertyValue('border-radius', value);\n  }\n\n  [SUBSCRIBE_SELF('changeClipPath')] (value) {\n    this.modifyPropertyValue('clip-path', value);\n  }  \n\n  [SUBSCRIBE_SELF('changeColorProperty')] (key, color) {\n    this.modifyPropertyValue(key, color);\n  }  \n\n  [SUBSCRIBE_SELF('changeBackgroundImageProperty')] (key, backgroundImage) {\n    this.modifyPropertyValue(key, backgroundImage);\n  }  \n\n  [SUBSCRIBE_SELF('changeFilterProperty')] (filter) {\n    this.modifyPropertyValue('filter', filter);\n  }    \n\n  [SUBSCRIBE_SELF('changeBackdropFilterProperty')] (filter) {\n    this.modifyPropertyValue('backdrop-filter', filter);\n  }      \n\n  [SUBSCRIBE_SELF('changeBoxShadowProperty')] (boxshadow) {\n    this.modifyPropertyValue('box-shadow', boxshadow);\n  }   \n  [SUBSCRIBE_SELF('changeTextShadowProperty')] (textShadow) {\n    this.modifyPropertyValue('text-shadow', textShadow);\n  }     \n  \n  [SUBSCRIBE_SELF('changeVar')] (value) {\n    this.modifyPropertyValue('var', value);\n  }     \n\n  [SUBSCRIBE_SELF('changeTransform')] (value) {\n    this.modifyPropertyValue('transform', value);\n  }       \n\n  [SUBSCRIBE_SELF('changeTransformOrigin')] (value) {\n    this.modifyPropertyValue('transform-origin', value);\n  }         \n\n  [SUBSCRIBE_SELF('changePerspectiveOrigin')] (value) {\n    this.modifyPropertyValue('perspective-origin', value);\n  }         \n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n    this.modifyPropertyValue(key, value);\n  }\n\n\n  makePropertyEditor (property, index) {\n\n    if (property.editor) {\n      return this.makeCustomePropertyEditor(property, index);\n    }\n\n    switch(property.key) {\n\n      case 'animation-timing-function':\n      case 'box-shadow':\n      case 'text-shadow':\n      case 'background-image':\n      case 'filter':\n      case 'backdrop-filter':\n      case 'var':\n      case 'transform':\n      case 'transform-origin':\n      case 'perspective-origin':\n      case 'mix-blend-mode':  \n      case 'border':\n      case 'border-radius':   \n      case 'clip-path':   \n      case 'fill-rule':\n      case 'stroke-linecap':\n      case 'stroke-linejoin':\n      case 'stroke-dasharray':\n      case 'd':\n      case 'points':\n      case 'offset-path':\n      case 'playTime':\n        return this.makeIndivisualPropertyEditor(property, index);\n      case 'color':\n      case 'background-color':\n      case 'text-fill-color':\n      case 'text-stroke-color':\n      case 'stroke':\n      case 'fill':\n        return this.makeIndivisualPropertyColorEditor(property, index);\n      case 'opacity':\n      case 'fill-opacity':        \n      case 'stroke-dashoffset':\n      case 'offset-distance':\n\n        let min = 0;\n        let max = 1; \n        let step = 0.01; \n\n        return /*html*/`\n          <div class='property-editor'>\n            <object refClass=\"NumberRangeEditor\"  \n              ref='$opacity${index}' \n              key='${property.key}' \n              min=\"${min}\"\n              max=\"${max}\"\n              step=\"${step}\"\n              value=\"${property.value || 1}\"\n              selected-unit='number'\n              removable=\"true\"\n              onchange=\"changeRangeEditor\" />\n          </div>\n        `\n      case 'rotate':\n        return /*html*/`\n          <div class='property-editor'>\n            <object refClass=\"RangeEditor\"  \n              ref='rangeEditor${index}' \n              key='${property.key}' \n              value='${property.value}'  \n              min=\"-2000\"\n              max=\"2000\"\n              units=\"deg\" \n              onChange=\"changeRangeEditor\" />\n          </div>\n        `\n      case 'left': \n      case 'margin-top': \n      case 'margin-bottom': \n      case 'margin-left': \n      case 'margin-right': \n      case 'padding-top': \n      case 'padding-bottom': \n      case 'padding-left': \n      case 'padding-right': \n\n      case 'font-size': \n      case 'font-stretch': \n      case 'width': \n      case 'height':   \n      case 'perspective':  \n      case 'offset-distance':\n      case 'text-stroke-width':\n      default: \n        return /*html*/`\n          <div class='property-editor'>\n            <object refClass=\"RangeEditor\"  ref='rangeEditor${index}' key='${property.key}' value='${property.value}' max=\"1000\" onChange=\"changeRangeEditor\" />\n          </div>\n        `\n    }\n\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    this.modifyPropertyValue(key, value + \"\");\n  }\n\n  searchKey (key, callback) {\n    this.state.properties.filter(it => it.key === key).forEach(callback)\n  }\n\n  modifyPropertyValue (key, value) {\n\n    this.searchKey(key, (it) => {\n      it.value = value; \n    })\n    this.modifyProperty()    \n\n  }\n\n\n  makePropertySelect() {\n    return /*html*/`\n      <select class='property-select' ref='$propertySelect'>\n        <optgroup label='Position'>\n          <option value='x'>x</option>\n          <option value='y'>y</option>        \n        </optgroup>\n        <optgroup label='Size'>\n          <option value='width'>width</option>\n          <option value='height'>height</option>\n        </optgroup>      \n        <optgroup label='Box Model'>\n          <option value='margin-left'>margin-left</option>\n          <option value='margin-right'>margin-right</option>\n          <option value='margin-bottom'>margin-bottom</option>\n          <option value='margin-top'>margin-top</option>\n          <option value='padding-left'>padding-left</option>\n          <option value='padding-right'>padding-right</option>\n          <option value='padding-bottom'>padding-bottom</option>\n          <option value='padding-top'>padding-top</option>       \n        </optgroup>\n        <optgroup label='Border'>\n          <option value='border'>border</option>\n          <option value='border-radius'>border-radius</option>\n        </optgroup>        \n        <optgroup label='Style'>\n          <option value='background-color'>background-color</option>\n          <option value='background-image'>background-image</option>\n          <option value='box-shadow'>box-shadow</option>\n          <option value='text-shadow'>text-shadow</option>\n          <option value='filter'>filter</option>      \n          <option value='backdrop-filter'>backdrop-filter</option>\n          <option value='mix-blend-mode'>mix-blend-mode</option>\n        </optgroup>            \n        <optgroup label='Transform'>\n          <option value='transform'>transform</option>\n          <option value='transform-origin'>transform-origin</option>\n          <option value='perspective'>perspective</option>\n          <option value='perspective-origin'>perspective-origin</option>\n        </optgroup>\n        <optgroup label='Font'>\n          <option value='font-size'>font-size</option>\n          <option value='font-weight'>font-weight</option>          \n          <option value='font-stretch'>font-stretch</option>\n        </optgroup>\n        <optgroup label='Animation'>\n          <option value='animation-timing-function'>timing-function</option>\n        </optgroup>        \n      </select>\n    `\n  }\n\n  [LOAD('$property')] () {\n    return this.state.properties.map( (it, index) => {\n      return /*html*/`\n        <div class='css-property-item'>\n          <div class='title'>\n            <label>${it.key}</label>\n            <div class='tools'>\n              <button type=\"button\" class='remove' data-index=\"${index}\">${icon.remove2}</button>\n            </div>\n          </div>\n          <div class='title-2'>\n            <div class='tools'>\n              <label><button type=\"button\" class='refresh' data-index=\"${index}\">${icon.refresh}</button> Refresh</label>\n            </div>\n          </div>\n          <div class='value-editor'>\n            ${this.makePropertyEditor(it, index)}\n          </div>\n        </div>\n      `\n    })\n  }\n\n  [SUBSCRIBE(\"showCSSPropertyEditor\")](properties = []) {\n    this.setState({ properties });\n    this.refresh();\n  }\n\n  [CLICK('$property .remove')] (e) {\n    var index = +e.$dt.attr('data-index')\n\n    this.state.properties.splice(index, 1);\n    this.refresh();\n    this.modifyProperty();\n  }\n\n  [CLICK('$property .refresh')] (e) {\n    this.parent.trigger('refreshPropertyValue');\n  }  \n}","\nimport icon from \"el/editor/icon/icon\";\nimport { CLICK, POINTERSTART, BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { formatCubicBezier, createBezierForPattern, bezierList, getPredefinedCubicBezier } from \"el/utils/bezier\";\nimport { div } from \"el/utils/math\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './CubicBezierEditor.scss';\nimport { curveToPath, curveToPointLine } from \"el/utils/func\";\n\nexport default class CubicBezierEditor extends EditorElement {\n\n    initState() {\n        return {\n            key: this.props.key,\n            currentBezier: getPredefinedCubicBezier( this.props.value || 'linear'),\n            currentBezierIndex: 0,\n            selectedColor: '#609de2',\n            animatedColor: '#609de266',\n            curveColor: '#609de2',\n            baseLineColor: 'rgba(117, 117, 117, 0.46)'\n        }\n    }\n\n    template () {\n\n        const linearCurve = curveToPath(this.state.currentBezier, 150, 150)\n        const linearCurvePoint = curveToPointLine(this.state.currentBezier, 150, 150)\n        const easeCurve = curveToPath('ease', 30, 30)\n        const easeCurvePoint = curveToPointLine('ease', 30, 30)\n        const easeInCurve = curveToPath('ease-in', 30, 30)\n        const easeInCurvePoint = curveToPointLine('ease-in', 30, 30)\n        const easeOutCurve = curveToPath('ease-out', 30, 30)\n        const easeOutCurvePoint = curveToPointLine('ease-out', 30, 30)\n\n        return /*html*/`\n            <div class='elf--cubic-bezier-editor'>\n                <div class='predefined'>\n                    <div class='left' ref='$left'>${icon.chevron_left}</div>\n                    <div class='predefined-text' ref='$text'></div>\n                    <div class='right' ref='$right'>${icon.chevron_right}</div>\n                </div>\n                <div class='animation'>\n                    <canvas \n                        class='animation-canvas' \n                        ref='$animationCanvas' \n                        title='Click and Replay point animation' \n                        width='230px' \n                        height='20px'\n                    ></canvas>\n                </div>\n                <div class='item-list' ref='$itemList' data-selected-value=''>\n                    <div class='item' data-bezier='ease' title='ease'>\n                        <svg class='item-canvas' width=\"30\" height=\"30\" viewBox=\"0 0 30 30\">\n                            <path d=\"${easeCurve}\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n                            <path d=\"${easeCurvePoint}\" stroke=\"gray\" stroke-width=\"1\" fill='none' />\n                        </svg>\n                    </div>\n                    <div class='item' data-bezier='ease-in' title='ease-in'>\n                        <svg class='item-canvas' width=\"30\" height=\"30\" viewBox=\"0 0 30 30\">\n                            <path d=\"${easeInCurve}\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n                            <path d=\"${easeInCurvePoint}\" stroke=\"gray\" stroke-width=\"1\" fill='none' /> \n                        </svg>\n                    </div>\n                    <div class='item' data-bezier='ease-out' title='ease-out'>\n                        <svg class='item-canvas' width=\"30\" height=\"30\" viewBox=\"0 0 30 30\">\n                            <path d=\"${easeOutCurve}\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n                            <path d=\"${easeOutCurvePoint}\" stroke=\"gray\" stroke-width=\"1\" fill='none' />\n                        </svg>\n                    </div>\n                </div>\n                <div class='bezier'>\n                    <svg class='bezier-canvas' width=\"150\" height=\"150\" viewBox=\"0 0 150 150\" overflow=\"visible\">\n                        <path d=\"${linearCurve}\" stroke=\"white\" stroke-width=\"1\" fill='none' ref='$bezierCanvas' />\n                        <path d=\"${linearCurvePoint}\" stroke=\"gray\" stroke-width=\"1\" fill='none' ref='$bezierCanvasPoint' />\n                    </svg>                \n                    <div class='control' ref='$control'>\n                        <div class='pointer1' ref='$pointer1'></div>\n                        <div class='pointer2' ref='$pointer2'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n    [BIND('$bezierCanvas')] () {\n        return {\n            d: curveToPath(this.state.currentBezier, 150, 150)\n        }\n    }\n\n    [BIND('$bezierCanvasPoint')] () {\n        return {\n            d: curveToPointLine(this.state.currentBezier, 150, 150)\n        }\n    }    \n\n    updateData(opt = {}) {\n        this.setState(opt);\n        this.modifyCubicBezier();\n    }\n\n    modifyCubicBezier () {\n        this.parent.trigger(this.props.onchange, this.state.key, formatCubicBezier(this.state.currentBezier))\n    }\n\n    [CLICK('$left')] () {\n        var { currentBezier, currentBezierIndex} = this.state;\n\n        if (currentBezierIndex == 0) {\n            currentBezierIndex = bezierList.length - 1;\n        }  else {\n            --currentBezierIndex;\n        }\n\n        var currentBezier = bezierList[currentBezierIndex]\n\n        this.updateData({ currentBezierIndex, currentBezier })\n\n        this.refresh();\n    }\n\n    [CLICK('$right')] (){\n        var { currentBezier, currentBezierIndex} = this.state;\n\n        currentBezierIndex = (++currentBezierIndex) % bezierList.length;\n        currentBezier = bezierList[currentBezierIndex];\n\n        this.updateData({ currentBezierIndex, currentBezier })\n\n        this.refresh();\n    }\n\n    [CLICK('$text')] () {\n        var currentBezier =  [...bezierList[this.state.currentBezierIndex]]\n\n        this.updateData({ currentBezier });\n        this.refresh();\n    }\n\n    [CLICK('$itemList .item')] (e) {\n        var bezierString = e.$dt.attr('data-bezier');\n        this.refs.$itemList.attr('data-selected-value', bezierString)\n\n        var currentBezier = getPredefinedCubicBezier(bezierString)\n        this.updateData({\n            currentBezier\n        })\n\n        this.refresh();\n    }\n\n    refresh() {\n        this.refreshEasingText();\n        this.refreshBezierCanvas();\n    }\n\n    refreshBezierCanvas () {\n\n        this.bindData('$bezierCanvas');\n        this.bindData('$bezierCanvasPoint');\n        this.refreshPointer();\n        this.drawPoint()\n    }\n\n    refreshEasingText() {\n        this.refs.$text.html(this.state.currentBezier[4] || 'ease');\n    }\n\n    refreshPointer () {\n        var currentBezier = getPredefinedCubicBezier(this.state.currentBezier)\n        var width = this.refs.$control.width();\n        var height = this.refs.$control.height();\n\n        var left = currentBezier[0] * width;\n        var top = (1 - currentBezier[1]) * height;\n\n        this.refs.$pointer1.css({\n            left: Length.px(left).round(),\n            top : Length.px(top).round()\n        });\n\n        left = currentBezier[2] * width ;\n        top = (1 - currentBezier[3]) * height;\n\n        this.refs.$pointer2.css({\n            left: Length.px(left).round(),\n            top : Length.px(top).round()\n        })\n    }\n\n    drawPoint () {\n\n        if (this.timer) clearTimeout(this.timer);\n        if (this.animationTimer) clearTimeout(this.animationTimer);\n\n        this.timer = setTimeout(() =>{\n            this.animationPoint ();\n        }, 100);\n    }\n\n\n    start (i) {\n\n        var pos = this.animationCanvasData.func(i);\n        var x = 10 + (this.animationCanvasData.width - 20) * pos.y;       \n        var y = 10\n        var context = this.animationCanvasData.context;\n\n\n\n        context.beginPath();\n        context.arc(x, y, 5, 0, 2 * Math.PI);\n        context.fill();\n        context.stroke();\n        context.closePath();\n\n        if (i >= 1) {\n            return;\n        }\n\n        this.animationTimer = setTimeout(() => { \n            this.start(i + 0.05); \n        }, 50);\n    }\n\n    animationPoint () {\n        const currentBezier = getPredefinedCubicBezier(this.state.currentBezier);\n        var func = createBezierForPattern(formatCubicBezier(currentBezier));    \n\n        this.refs.$animationCanvas.clear();\n        var width = this.refs.$animationCanvas.width();\n        var height = this.refs.$animationCanvas.height();\n\n        var context = this.refs.$animationCanvas.context();\n        context.fillStyle = this.state.animatedColor;\n        context.strokeStyle = this.state.selectedColor;\n        context.lineWidth = 1;\n\n        this.animationCanvasData = {\n            func, \n            width, \n            height,\n            context\n        }\n\n\n        this.start(0);\n\n\n    }\n\n\n    setPosition(e) {\n        var width = this.refs.$control.width();\n        var height = this.refs.$control.height();\n\n        var minX = this.refs.$control.offset().left;\n        var minY = this.refs.$control.offset().top;\n\n        var p = e;\n\n        var x = p.x;\n        if (0 > x) {\n            x = 0;\n        } else if (p.x > document.body.clientWidth) {\n            x = document.body.clientWidth;            \n        }\n\n        x -= minX;\n\n        if (x < 0) {\n            x = 0; \n        }\n\n        if (width < x) {\n            x = width; \n        }\n\n        var y = p.y;\n\n        y -= minY;\n\n        // $pointer.css({\n        //     left: x + 'px',\n        //     top : y + 'px'\n        // });\n\n        return { \n            x : div(x, width), \n            y : (y == height ) ? 0 : div((height - y), height)\n        };\n    }\n\n    [POINTERSTART('$pointer1') + MOVE('movePointer1') + END('drawPoint')] (e) {\n        this.clientX = e.clientX\n        this.clientY = e.clientY\n    }\n\n    movePointer1 (dx, dy) {\n        var pos = this.setPosition({\n            x: this.clientX + dx,\n            y: this.clientY + dy \n        });\n\n        this.state.currentBezier[0] = pos.x;\n        this.state.currentBezier[1] = pos.y;\n\n        this.refreshBezierCanvas();\n\n        this.modifyCubicBezier();\n    }\n\n    [POINTERSTART('$pointer2') + MOVE('movePointer2') + END('drawPoint')] (e) {\n        this.clientX = e.clientX\n        this.clientY = e.clientY\n    }\n    movePointer2(dx, dy) {\n\n        var pos = this.setPosition({\n            x: this.clientX + dx,\n            y: this.clientY + dy \n        });\n\n        this.state.currentBezier[2] = pos.x;\n        this.state.currentBezier[3] = pos.y;\n\n        this.refreshBezierCanvas();\n\n        this.modifyCubicBezier();\n\n    }\n\n    [SUBSCRIBE('showCubicBezierEditor')] (timingFunction) {\n        var currentBezier = getPredefinedCubicBezier(timingFunction || this.state.currentBezier)\n        this.setState({ currentBezier })\n        this.refresh();\n    }\n}","import { CLICK, LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { DirectionLength } from \"el/editor/unit/DirectionLength\";\nimport './DirectionEditor.scss';\nconst typeList = [\n  { key: \"top\", title: \"Top\" },\n  { key: \"right\", title: \"Right\" },\n  { key: \"bottom\", title: \"Bottom\" },\n  { key: \"left\", title: \"Left\" }\n];\n\nexport default class DirectionEditor extends EditorElement {\n\n  initState() {\n\n    var [count, top, right, bottom, left] = DirectionLength.parse(this.props.value)\n\n    return {\n      isAll: count === 1,\n      all: top.clone(),\n      top: top.clone(),\n      right: right.clone(),\n      bottom: bottom.clone(),\n      left: left.clone()\n    }\n  }\n\n  template() {\n    return `<div class='elf--direction-editor' ref='$body'></div>`\n  }\n\n  [SUBSCRIBE('changeBorderRadius')] (key, value) {\n\n    if (key === 'all') {\n      typeList.forEach(it => {\n        this.state[it.key] = value.clone();\n        this.children[`$${it.key}`].setValue(value.clone())\n      })\n    }\n\n    this.updateData({\n      [key]: value\n    })\n  }\n\n  [LOAD('$body')] () {\n\n    var selectedValue = this.state.isAll ? 'all' : 'partitial'\n    var direction = this.state.all;\n    var display = selectedValue === 'all' ? 'display:none' : 'display:block';\n\n    return /*html*/`\n      <div class=\"property-item direction-item\">\n        <div class=\"radius-selector\" data-selected-value=\"${selectedValue}\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <object refClass=\"RangeEditor\"  ref='$all' key='all' value=\"${direction}\" onchange='changeBorderRadius' />\n        </div>\n      </div>\n      <div\n        class=\"property-item full direction-item\"\n        ref=\"$partitialSetting\"\n        style=\"${display}\"\n      >\n        <div class=\"radius-setting-box\">\n          ${typeList.map(it => {\n            var value = this.state[it.key]\n            return /*html*/`\n              <div>\n                  <object refClass=\"RangeEditor\"  ref='$${it.key}' label='${it.title}' key='${it.key}' value=\"${value}\" onchange='changeBorderRadius' />\n              </div>  \n            `;\n          }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n  updateData (opt = {}) {\n    this.setState(opt, false);\n\n    var value = [];\n\n    if (this.state.isAll) {\n      value = [1, this.state.all,this.state.all,this.state.all,this.state.all]\n    } else {\n      value = [4, this.state.top,this.state.right,this.state.bottom,this.state.left]\n    }\n\n    this.parent.trigger(this.props.onchange, value);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.updateData({\n      isAll: type === 'all'\n    });\n  }\n\n\n}","import icon from \"el/editor/icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  DRAGSTART,\n  DRAGOVER,\n  DROP,\n  PREVENT,\n  DEBOUNCE,\n  SUBSCRIBE,\n  SUBSCRIBE_SELF\n} from \"el/sapa/Event\";\n\nimport {\n  BlurFilter,\n  GrayscaleFilter,\n  HueRotateFilter,\n  InvertFilter,\n  BrightnessFilter,\n  ContrastFilter,\n  DropshadowFilter,\n  OpacityFilter,\n  SaturateFilter,\n  SepiaFilter,\n  Filter,\n  URLSvgFilter\n} from \"el/editor/property-parser/Filter\";\nimport { filter_list } from \"el/editor/util/Resource\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './FilterEditor.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nvar specList = {\n  blur: BlurFilter.spec,\n  grayscale: GrayscaleFilter.spec,\n  \"hue-rotate\": HueRotateFilter.spec,\n  invert: InvertFilter.spec,\n  brightness: BrightnessFilter.spec,\n  contrast: ContrastFilter.spec,\n  \"drop-shadow\": DropshadowFilter.spec,\n  opacity: OpacityFilter.spec,\n  saturate: SaturateFilter.spec,\n  sepia: SepiaFilter.spec,\n  svg: URLSvgFilter.spec\n};\n\nexport default class FilterEditor extends EditorElement {\n\n\n  initState() {\n    return {\n      hideLabel: this.props['hide-label'] === 'true' ? true : false, \n      filters: Filter.parseStyle(this.props.value)\n    }\n  }\n\n  template() {\n    var labelClass = this.state.hideLabel ? 'hide' : '';\n    return /*html*/`\n      <div class='elf--filter-editor filter-list'>\n          <div class='label ${labelClass}' >\n              <label>${this.props.title || ''}</label>\n              <div class='tools'>\n                <select ref=\"$filterSelect\"></select>\n                <button type=\"button\" ref=\"$add\" title=\"add Filter\">${icon.add}</button>\n              </div>\n          </div>\n          <div class='filter-list' ref='$filterList'></div>\n      </div>`;\n  }\n\n  [LOAD('$filterSelect')] () {\n    var list = filter_list.map(it => { \n      return {title: it, value: it}\n    })\n\n    var svgFilterList = this.getSVGFilterList()\n\n    var totalList = []\n\n    if (svgFilterList.length) {\n      totalList = [\n        ...list,\n        { title: '-------' , value: ''},\n        ...svgFilterList\n      ]\n    } else {\n      totalList = [\n        ...list\n      ]\n    }\n\n    return totalList.map(it => {\n      var {title, value} = it;\n      \n      return `<option value='${value}'>${title}</option>`\n    })\n  }\n\n  getSpec(filterType) {\n    return specList[filterType];\n  }\n\n  makeDropShadowFilterTemplate(spec, filter, index) {\n    return /*html*/`\n      <div class=\"filter-item\">\n        <div class=\"title drop-shadow\" draggable=\"true\" data-index=\"${index}\">\n          <label>${this.$i18n('filter.property.drop-shadow')}</label>\n          <div class=\"filter-menu\">\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n\n        <div class=\"filter-ui drop-shadow-color\">\n          <object refClass=\"ColorViewEditor\" \n            label=\"${this.$i18n(`filter.property.drop-shadow.color`)}\" \n            ref='$dropShadowColorView${index}' \n            params=\"${index}\" \n            value=\"${filter.color}\" \n            on-change-value=\"changeDropShadowColor\" />\n        </div>\n\n        ${[\"offsetX\", \"offsetY\", \"blurRadius\"].map(key => {\n          return /*html*/`        \n            <div class=\"filter-ui drop-shadow\">\n                <object refClass=\"RangeEditor\"  \n                  ref='$${key}${index}' \n                  label=\"${this.$i18n(`filter.property.drop-shadow.${key}`)}\"\n                  key=\"${index}\" \n                  min=\"${spec[key].min}\"\n                  min=\"${spec[key].max}\"\n                  params=\"${key}\" \n                  value=\"${filter[key].value}\" units=\"${spec[key].units.join(',')}\" onchange=\"changeRangeEditor\" />\n            </div>`;\n        }).join('')}\n      </div>\n    `;\n  }\n\n  getSVGFilterList () {\n     \n    var current = this.$selection.current;\n    var arr = [] \n\n    if (current) {\n      arr = current.svgfilters\n        .map(it => {\n          return {\n            title : `svg - #${it.id}`,\n            value: it.id\n          }\n        })\n    }\n\n    return arr\n  }\n\n  makeOneFilterEditor (index, filter, spec) {\n\n    if (filter.type === 'svg') {\n\n      var options = ''\n      \n      var current = this.$selection.current;\n\n      if (current) {\n        options = current.svgfilters.map(it => {\n          return { value: it.id }\n        })\n      }\n\n      return /*html*/`\n      <object refClass=\"SelectEditor\"  \n        ref='$select${index}' \n        key=\"${index}\" \n        label=\"SVG Filter\"\n        value=\"${filter.value}\" \n        options=${variable(['', ...options])}\n        onchange=\"changeRangeEditor\"  />`\n    }\n\n    return /*html*/`\n      <object refClass=\"RangeEditor\"  \n        ref='$range${index}_${filter.type}' \n        key=\"${index}\" \n        min='${spec.min}'\n        max='${spec.max}'\n        value=\"${filter.value}\" \n        units=\"${spec.units.join(',')}\"   \n        onchange=\"changeRangeEditor\" />\n      `\n  }\n\n  makeOneFilterTemplate(spec, filter, index) {\n\n    var isSVG = filter.type === 'svg'\n    var title = `${this.$i18n('filter.property.' + filter.type)}`\n\n    return /*html*/`\n      <div class=\"filter-item\" data-index=\"${index}\">\n        <div class=\"title\" >\n          <label draggable=\"true\" data-index=\"${index}\" title=\"${isSVG ? '' : title}\">${title}</label>\n          ${filter.type != 'svg' ? /*html*/`\n          <div class=\"filter-ui\">\n            ${this.makeOneFilterEditor(index, filter, spec)}\n          </div>\n        `: /*html*/`\n          <div>\n            <span class='svg-filter-edit' data-index=\"${index}\">${filter.value}</span>\n          </div>\n        `}          \n          <div class=\"filter-menu\">\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  makeFilterTemplate(filter, index) {\n    if (filter.type === \"drop-shadow\") {\n      return this.makeDropShadowFilterTemplate(\n        this.getSpec(filter.type),\n        filter,\n        index\n      );\n    } else {\n      return this.makeOneFilterTemplate(\n        this.getSpec(filter.type),\n        filter,\n        index\n      );\n    }\n  }\n\n  [LOAD(\"$filterList\")]() {\n    return this.state.filters.map((filter, index) => {\n      return this.makeFilterTemplate(filter, index.toString());\n    });\n  }\n\n\n  [DRAGSTART(\"$filterList .filter-item .title label\")](e) {\n    this.startIndex = +e.$dt.attr(\"data-index\");\n  }\n\n\n  [DRAGOVER(\"$filterList .filter-item .title label\") + PREVENT](e) {}\n\n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  sortFilter(startIndex, targetIndex) {\n      this.sortItem(this.state.filters, startIndex, targetIndex);\n  }\n\n  [DROP(\"$filterList .filter-item\") + PREVENT](e) {\n    var targetIndex = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    this.sortFilter(this.startIndex, targetIndex);\n\n    this.refresh();\n\n    this.modifyFilter()\n  }\n\n  modifyFilter () {\n    var value = this.state.filters.join(' ');\n\n    this.parent.trigger(this.props.onchange, this.props.key, value, this.props.params);\n  }\n\n  makeFilter(type, opt = {}) {\n    return Filter.parse({ ...opt, type });\n  }\n\n  [CLICK('$filterList .svg-filter-edit')] (e) {\n    var index = +e.$dt.attr('data-index');\n\n    var filter = this.state.filters[index];\n\n    var current = this.$selection.current; \n    \n    if (current) {\n      var svgfilterIndex = current.getSVGFilterIndex(filter.value?.value?.replace('#', ''));\n      this.trigger('openSVGFilterPopup', svgfilterIndex);\n\n    }\n  }\n\n\n  [SUBSCRIBE('openSVGFilterPopup')](index) {\n    const current = this.$selection.current || { svgfilters: [] } \n    const svgfilter = current.svgfilters[index];\n\n    this.emit(\"showSVGFilterPopup\", {\n        changeEvent: (params) => {\n          var current = this.$selection.current;\n\n          if (current) {\n            current.setSVGFilterValue(params.index, {\n              filters: params.filters\n            });\n\n            this.command(\"setAttributeForMulti\", 'change filter', this.$selection.pack('svgfilters', 'filter'));\n          }          \n        },\n        index,\n        preview: false,\n        filters: svgfilter.filters \n    });\n  }\n\n  [SUBSCRIBE(\"add\")](filterType) {\n\n    if (filterType === 'svg') {\n\n\n      //     \n      const index = this.$selection.current.createSVGFilter({ \n        filters: []\n      })\n\n      //     \n      const filter = this.$selection.current.svgfilters[index];\n\n      //     \n      this.state.filters.push(this.makeFilter(filterType, {\n        value: filter.id\n      }))\n\n      //    \n      this.refresh();\n  \n      //    \n      this.modifyFilter()\n\n      //  . \n      this.trigger('openSVGFilterPopup', index);\n\n    } else {\n\n      this.state.filters.push(this.makeFilter(filterType))\n\n      this.refresh();\n  \n      this.modifyFilter()\n    }\n\n  }  \n\n  [CLICK(\"$add\")]() {\n    var filterType = this.refs.$filterSelect.value;\n\n    this.trigger('add', filterType)\n  }\n\n  [CLICK(\"$filterList .filter-menu .del\")](e) {\n    var index = +e.$dt.attr(\"data-index\");\n    this.state.filters.splice(index, 1);\n\n    this.refresh();\n\n    this.modifyFilter()\n  }\n\n  [SUBSCRIBE_SELF(\"changeDropShadowColor\")](key, color, params) {\n    var index = +params;\n\n    this.state.filters[index].reset({\n      color\n    });\n\n    this.modifyFilter();\n\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value, params) {\n    if (params) {\n      this.state.filters[+key].reset({ \n        [params]: value \n      });\n    } else {\n      this.state.filters[+key].reset({ \n        value \n      });\n    }\n    \n\n    this.modifyFilter();\n  }\n\n  [SUBSCRIBE('refreshSVGArea') + DEBOUNCE(1000)] () {\n    this.load('$filterSelect');\n    this.load('$filterList');\n  }\n}","import SelectEditor from \"./SelectEditor\";\n\n\nexport const font_list = [\n    '',\n    'Arial',\n    'Arial Black',\n    'Times New Roman',\n    'Times',\n    'Courier New',\n    'Courier',\n    'Verdana',\n    'Georgia',\n    'Palatino',\n    'Garamond',\n    'Bookman',\n    'Tahoma',\n    'Trebuchet MS',\n    'Impact',\n    'Comic Sans MS',\n    'serif',\n    'sans-serif',\n    'monospace',\n    'cursive',\n    'fantasy',\n    'system-ui'\n]\n\n\n// todo: it needs fontManager\nexport default class FontSelectEditor extends SelectEditor {\n\n    getFontList () {\n        return font_list.map(it => {\n            return { value: it }\n        })\n    }\n\n    initState() {\n        return {\n            ...super.initState(),\n            options: this.getFontList()\n        }\n    }\n}","\nimport { LOAD, CLICK, POINTERSTART,  BIND, PREVENT, DOUBLECLICK, CHANGE, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { BackgroundImage } from \"el/editor/property-parser/BackgroundImage\";\nimport { Gradient } from \"el/editor/property-parser/image-resource/Gradient\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { clone } from \"el/sapa/functions/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './GradientEditor.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nvar radialTypeList = [\n  'circle',\n  'circle closest-side',\n  'circle closest-corner',\n  'circle farthest-side',\n  'circle farthest-corner',\n  'ellipse',\n  'ellipse closest-side',\n  'ellipse closest-corner',\n  'ellipse farthest-side',\n  'ellipse farthest-corner'\n]\n\nvar imageTypeList = [\n  'static-gradient',\n  'linear-gradient',\n  'repeating-linear-gradient',\n  'radial-gradient',\n  'repeating-radial-gradient',\n  'conic-gradient',\n  'repeating-conic-gradient',\n  'image-resource'\n]\n\nvar iconList = {\n  'image-resource': iconUse(\"photo\")\n}\n\nvar hasRadialPosition = {\n  'radial-gradient': true,\n  'repeating-radial-gradient': true,\n  'conic-gradient': true,\n  'repeating-conic-gradient': true\n}\n\nvar presetPosition = {\n  top: [ '50%', '0%' ],\n  'top left': [ '0%', '0%' ],\n  'top right': [ '100%', '0%' ],\n  left: [ '0%', '50%' ],\n  right: [ '100%', '50%' ],\n  bottom: [ '50%', '100%' ],\n  'bottom left': [ '0%', '100%' ],\n  'bottom right': [ '100%', '100%' ]\n}\n\nexport default class GradientEditor extends EditorElement  {\n\n  initState() {\n\n    return {\n      index: +(this.props.index || 0 ),\n      value: this.props.value, \n      image: BackgroundImage.parseImage(this.props.value || '') || { type: '', colorsteps: [] } \n    }\n  }\n\n  setValue (value) {\n    this.setState({\n      image: BackgroundImage.parseImage(value)\n    }, false)\n\n    this.refresh();\n    this.parent.trigger('changeTabType', this.state.image.type);\n  }\n\n  template() {\n\n    var { image } = this.state; \n\n    image = image || {} \n\n    var type = image.type || 'static-gradient'\n    \n    if (type === 'url') type = 'image-resource'\n\n\n    return /*html*/`\n        <div class='elf--gradient-editor' data-selected-editor='${type}'>\n            <div class='gradient-preview'>\n              <div class='gradient-view' ref='$gradientView' title='${this.$i18n('gradient.editor.drag.message')}'></div>\n              <div class='drag-pointer' ref='$dragPosition'></div>\n              <div class='preset-position'>\n                <div data-value='top' title='top'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='right' title='right'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='left' title='left'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='bottom' title='bottom'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='top left' title='top left'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='top right' title='top right'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='bottom left' title='bottom left'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='bottom right' title='bottom right'>${iconUse(\"chevron_right\")}</div>                \n              </div>\n              <div data-editor='image-loader'>\n                <input type='file' accept=\"image/*\" ref='$file' />\n              </div>              \n            </div>\n            <div class=\"picker-tab\">\n              <div class=\"picker-tab-list\" ref=\"$tab\">\n                ${imageTypeList.map(it => {\n                  return `<span class='picker-tab-item ${it}' data-editor='${it}'><span class='icon'>${iconList[it] || ''}</span></span>`\n                }).join('')}\n              </div>\n            </div>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <label>Offset</label>\n              <object refClass='InputRangeEditor' ref='$range' calc=\"false\" key='length' onchange='changeColorStepOffset' />\n            </div>\n            <div class='tools' data-editor='tools'>\n              <label for='gradientConnected${this.id}'>connected </label>\n              <input type='checkbox'  id='gradientConnected${this.id}' ref='$cut' checked />\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n              <div data-editor='angle'>\n                <object refClass=\"RangeEditor\" label='Angle' ref='$angle' calc=\"false\" units=\"deg\" min=\"-720\" max=\"720\" key='angle' onchange='changeKeyValue' />\n              </div>\n              <div data-editor='centerX'>\n                <object refClass=\"RangeEditor\" label='Center X' ref='$radialPositionX' calc=\"false\" value=\"50%\"  key='radialPositionX' onchange='changeKeyValue' />\n              </div>                \n              <div data-editor='centerY'>                      \n                <object refClass=\"RangeEditor\" label='Center Y' ref='$radialPositionY' calc=\"false\" value=\"50%\" key='radialPositionY' onchange='changeKeyValue' />\n              </div>                \n              <div data-editor='radialType'>              \n                <object refClass=\"SelectEditor\" label='Radial Type' ref='$radialType' value=\"\" options=\"${variable(radialTypeList)}\" key='radialType' onchange='changeKeyValue' />\n              </div>\n\n            </div>            \n        </div>\n      `;\n  }\n\n  [CHANGE('$file')] (e) {\n    var project = this.$selection.currentProject;\n    if (project) {\n      [...e.target.files].forEach(item => {\n        this.emit('updateImageAssetItem', item, (local) => {\n          this.trigger('setImageUrl', local);\n        });\n      })\n    }\n  }\n\n\n  [CLICK('$el .preset-position [data-value]')] (e) {\n    var type = e.$dt.attr('data-value')\n\n    if (presetPosition[type]) {\n      this.state.image.radialPosition = clone(presetPosition[type])\n      this.refresh();\n      this.updateData();\n    }\n\n  }\n\n  [DOUBLECLICK('$gradientView') + PREVENT] (e) {\n    this.state.image.radialPosition = ['50%', '50%']\n    this.refresh();\n    this.updateData();\n  }\n\n  [POINTERSTART('$gradientView') + MOVE('moveDragPosition')]  (e) {\n    var parent = this.refs.$dragPosition.parent();\n    this.containerRect = parent.rect();\n    this.startXY = e.xy; \n\n  }\n\n  moveDragPosition (dx, dy) {\n    var x = this.startXY.x + dx; \n    var y = this.startXY.y + dy; \n\n    if (this.containerRect.x > x) {\n      x = this.containerRect.x; \n    } else if (this.containerRect.x + this.containerRect.width < x) {\n      x = this.containerRect.x + this.containerRect.width; \n    }\n\n    if (this.containerRect.y > y) {\n      y = this.containerRect.y; \n    } else if (this.containerRect.y + this.containerRect.height < y) {\n      y = this.containerRect.y + this.containerRect.height; \n    }    \n\n    var left = Length.percent((x - this.containerRect.x ) / this.containerRect.width  * 100) \n    var top = Length.percent((y - this.containerRect.y ) / this.containerRect.height  * 100) \n\n    this.state.image.radialPosition = [ left, top]\n\n    this.bindData('$dragPosition');\n    this.bindData('$gradientView')    \n    this.children.$radialPositionX.setValue(left)\n    this.children.$radialPositionY.setValue(top)\n\n    this.updateData();\n  }\n\n  [CLICK('$tab .picker-tab-item')] (e) {\n    var type = e.$dt.attr('data-editor')\n    this.$el.attr('data-selected-editor', type);\n    this.parent.trigger('changeTabType', type);\n\n    var url = type === 'image-resource' ? this.state.image.url : this.state.url;\n    this.state.image = BackgroundImage.changeImageType({\n      type,\n      url,\n      colorsteps: this.state.image.colorsteps || [] ,   \n      angle: Length.parse(this.children.$angle.getValue()).value,\n      radialType: this.children.$radialType.getValue(),\n      radialPosition: [ \n        this.children.$radialPositionX.getValue(), \n        this.children.$radialPositionY.getValue() \n      ] \n    })\n    this.refresh();\n    this.updateData();\n    this.sendMessage();\n  }\n\n  sendMessage (type) {\n    var type = this.$el.attr('data-selected-editor');\n    if (type === 'linear-gradient' || type === 'repeating-linear-gradient') {\n      this.emit('addStatusBarMessage', '');\n    } else {\n      this.emit('addStatusBarMessage', 'Drag if you want to move center position');\n    }\n  }\n\n  [SUBSCRIBE_SELF('changeKeyValue')] (key, value) {\n\n    if (key === 'angle') {\n      value = value.value; \n    } \n\n    this.state.image[key] = value;\n\n    if (key === 'radialPositionX' || key === 'radialPositionY') {\n      this.state.image['radialPosition'] = [\n        this.state.image.radialPositionX || '50%', \n        this.state.image.radialPositionY || '50%'\n      ] \n    }\n\n    this.bindData('$gradientView')\n\n    this.updateData();\n  }\n\n  [SUBSCRIBE('changeColorStepOffset')] (key, value) {\n    if (this.currentStep) {\n      this.currentStep.percent = value.value;\n      this.state.image.sortColorStep();\n      this.refresh()\n      this.updateData();      \n    }\n  }\n\n  [CLICK('$back')] (e) {\n    \n    var rect = this.refs.$stepList.rect();\n    \n    var minX = rect.x;\n    var maxX = rect.right;\n\n    var x = e.xy.x \n\n    if (x < minX)  x = minX\n    else if (x > maxX) x = maxX\n    var percent = (x - minX) / rect.width * 100;\n\n    this.state.image.insertColorStep(percent);\n    this.state.image.sortColorStep()\n\n    this.refresh();\n    this.updateData();\n  }\n\n  [BIND('$el')] () {\n    var type = this.state.image.type;\n    if (type === 'url') {\n      type = 'image-resource'\n    }\n    this.parent.trigger('changeTabType', type);\n    return {\n      \"data-selected-editor\": type\n    }\n  }\n\n  [BIND('$stepList')] () {\n    return {\n      'data-selected-index': this.state.index.toString(),\n      'style': {\n        'background-image' : this.getLinearGradient()\n      }\n      \n    }\n  }\n\n  [BIND('$gradientView')] () {\n\n    var type = this.state.image.type;\n    var size = 'auto';\n\n    if (type === 'url' || type === 'image-resource') {\n      size = 'cover'\n    }\n\n    return {\n      style: {\n        'background-image': this.state.image.toString(),\n        'background-size': size,\n        'background-repeat': 'no-repeat'\n      }\n    }\n  }\n\n  [BIND('$dragPosition')] () {\n    var left = '50%'\n    var top = '50%'\n\n    if (hasRadialPosition[this.state.image.type]) {\n      var [left, top] = this.state.image.radialPosition;\n    }\n\n    return {\n      style: {\n        left, top \n      }\n    }\n  }\n\n  [LOAD('$stepList')] () {\n    var colorsteps = this.state.image.colorsteps || [] \n    return colorsteps.map( (it, index) => {\n\n      var selected = this.$selection.isSelectedColorStep(it.id) ? 'selected' : '';\n\n      return /*html*/`\n      <div class='step ${selected}' data-id='${it.id}' data-cut='${it.cut}' style='left: ${it.toLength()};'>\n        <div class='color-view' style=\"background-color: ${it.color}\"></div>\n        <div class='arrow' style=\"background-color: ${it.color}\"></div>\n      </div>`\n    })\n  }\n\n  [CLICK('$cut')] () {\n    if (this.currentStep) {\n\n      this.currentStep.cut = this.refs.$cut.checked()\n\n      this.refresh()\n      this.updateData();      \n    } \n  }\n\n  removeStep(id) {\n\n    this.state.image.removeColorStep(id);\n\n    this.refresh();\n    this.updateData();          \n  }\n\n  selectStep(id) {\n    this.state.id = id; \n\n    this.$selection.selectColorStep(id);\n\n    if (this.state.image.colorsteps) {\n      this.currentStep = this.state.image.colorsteps.find( it => this.$selection.isSelectedColorStep(it.id))\n      this.refs.$cut.checked(this.currentStep.cut);\n      this.children.$range.setValue(Length.percent(this.currentStep.percent));\n      this.parent.trigger('selectColorStep', this.currentStep.color)    \n  \n    }\n\n    this.refresh();\n\n  }\n\n  [POINTERSTART('$stepList .step') + MOVE()] (e) {\n    var id = e.$dt.attr('data-id')\n\n    if (e.altKey) {\n      this.removeStep(id);\n      return false; \n    } else {\n\n      this.selectStep(id);\n\n      this.startXY = e.xy;\n\n      this.cachedStepListRect = this.refs.$stepList.rect();\n    }\n\n  }\n\n  getStepListRect () {\n    return this.cachedStepListRect;\n  }\n\n  move (dx, dy) {\n\n    var rect = this.getStepListRect()\n    \n    var minX = rect.x;\n    var maxX = rect.right;\n\n    var x = this.startXY.x + dx \n\n    if (x < minX)  x = minX\n    else if (x > maxX) x = maxX\n    var percent = (x - minX) / rect.width * 100;\n\n    this.currentStep.setValue(percent, rect.width)\n\n    this.children.$range.setValue(Length.percent(percent));    \n    this.state.image.sortColorStep();\n    this.refresh()\n\n    this.updateData();    \n  }\n\n\n  refresh() {\n    this.load();\n  }\n\n  getLinearGradient () {\n\n    var { image } = this.state; \n\n    return `linear-gradient(to right, ${Gradient.toColorString(image.colorsteps)})`;\n\n  }\n\n  [SUBSCRIBE('setColorStepColor')] (color) {\n\n    if (this.state.image.type === 'static-gradient') {\n      this.state.image.colorsteps[0].color = color; \n      this.refresh()\n      this.updateData();      \n    } else {\n\n      if (this.currentStep) {\n        this.currentStep.color = color;\n        this.refresh()\n        this.updateData();\n      }\n    }\n\n  }\n\n\n  [SUBSCRIBE('setImageUrl')] (url) {\n\n    if (this.state.image) {\n      this.state.url = url; \n      this.state.image.reset({ url });\n      this.refresh();\n      this.updateData();\n    }\n  }\n\n  updateData(data = {}) {\n    this.setState(data, false);\n    this.parent.trigger(this.props.onchange, this.state.image.toString());\n  }\n\n}","import { LOAD, BIND, CLICK } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './IconListViewEditor.scss';\n\nexport default class IconListViewEditor extends EditorElement {\n\n    initState() {\n        return {\n            value: this.props.value\n        }\n    }\n\n    template() {\n        return /*html*/`<div class='select-editor elf--list-view-editor' ref='$body'></div>`\n    }\n\n    [BIND('$body')] () {\n        return {\n            'data-column': this.props.column || 1  \n        }\n    }\n\n    [LOAD('$body')] () {\n        return Object.keys(icon).map(key => {\n            var html = icon[key]\n            var selected = key === this.state.value ? 'selected' : ''\n\n            return /*html*/`<div class='list-view-item ${selected}'  data-key='${key}'>${html}</div>`\n        })\n    }\n\n    getValue () {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.state.value = value; \n        this.refresh()\n    }\n\n    [CLICK('$body .list-view-item')] (e) {\n        var key = e.$dt.attr('data-key');\n\n        e.$dt.onlyOneClass('selected')\n\n        this.updateData({\n            value: key\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","import { LOAD, INPUT, BIND } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\n\nexport default class InputArrayEditor extends EditorElement {\n\n    initState() {\n        var values = this.props.values.split(' ').map(it => +it)\n        return {\n            values,\n            column: this.props.column\n        }\n    }\n\n    template () {\n        return /*html*/`<div class='small-editor input-array-editor' ref='$body' ></div>`\n    }\n\n    [BIND('$body')] () {\n        return {\n\n            cssText : `\n                display: grid;\n                grid-template-columns: repeat(${this.state.column}, 1fr);\n                grid-column-gap: 2px;\n                grid-row-gap: 2px;\n            `\n        }\n    }\n\n    [LOAD('$body')] () {\n\n        var { values } = this.state\n\n        \n        return values.map( (value, index) => {\n            return `\n                <div class='number-editor'>\n                    <input type=\"number\" value=\"${value}\" step=\"0.01\" data-index=\"${index}\" />\n                </div>\n            `\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.values, this.props.params)\n    }\n\n    [INPUT('$body input')] (e) {\n\n        var $el = e.$dt;\n        var index = +$el.attr('data-index')\n        var value = +$el.value\n\n        this.state.values[index] = value; \n\n        this.updateData();\n\n    }\n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, INPUT, CLICK, FOCUS, BLUR, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { OBJECT_TO_CLASS } from \"el/utils/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './InputRangeEditor.scss';\nexport default class InputRangeEditor extends EditorElement {\n\n    initState() {\n        var units =  this.props.units || 'px,em,%';\n        var value = Length.parse(this.props.value || Length.z());\n        let label = this.props.label || ''; \n\n        if (icon[label]) {\n            label = icon[label];\n        }\n\n        return {\n            removable: this.props.removable === 'true',\n            label,\n            compact: this.props.compact === 'true',\n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            layout: this.props.layout || '',\n            units,\n            value\n        }\n    }\n\n    template () {\n        return /*html*/`<div class='small-editor' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { min, max, step, label, compact, removable, layout } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var layoutClass = layout;\n\n        var realValue = (+value).toString();\n\n        return /*html*/`\n        <div \n            ref=\"$range\",\n            class=\"${OBJECT_TO_CLASS({\n                'elf--input-range-editor': true,\n                'has-label': !!label,\n                'compact': !!compact,\n                'is-removable': removable,\n                [layoutClass] : true \n            })}\"\n        >\n            ${label ? `<label>${label}</label>` : '' }\n            <div class='range--editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" tabIndex=\"1\" />\n                    \n                    <object refClass=\"SelectEditor\"  ref='$unit' key='unit' value=\"${this.state.selectedUnit || this.state.value.unit}\" options=\"${this.state.units}\" onchange='changeUnit' />\n                    \n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove' title='Remove'>${icon.remove}</button>\n        </div>\n    `\n    }\n\n    getValue() {\n        return this.state.value.clone(); \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        }, false)\n\n        this.refs.$propertyNumber.val(this.state.value.value); \n        this.refs.$unit.val(this.state.value.unit)\n    }\n\n    [FOCUS('$propertyNumber')] (e) {\n        this.refs.$range.addClass('focused');\n    }\n\n    [BLUR('$propertyNumber')] (e) {\n        this.refs.$range.removeClass('focused');\n    }\n\n\n    [CLICK('$remove')] (e) {\n        this.updateData({\n            value: ''\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n    initValue () {\n        if (this.state.value == '') {\n            this.state.value = new Length(0, this.children.$unit.getValue())\n        }   \n    }\n\n    [INPUT('$propertyNumber')] (e) {\n\n        var value = +this.getRef('$propertyNumber').value; \n        \n        this.initValue()\n\n        this.updateData({ \n            value: new Length(value, this.children.$unit.getValue())\n        });\n    }\n\n    [SUBSCRIBE_SELF('changeUnit')] (key, value) {\n\n        this.initValue();\n\n        this.updateData({\n            value: this.state.value.toUnit(value)\n        })\n    }\n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, INPUT, CLICK, FOCUS, BLUR, POINTERSTART, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { OBJECT_TO_CLASS } from \"el/utils/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './RangeEditor.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class RangeEditor extends EditorElement {\n\n    initState() {\n        var units = this.props.units || 'px,em,%';\n        var value = Length.parse(this.props.value || Length.z());\n\n        return {\n            removable: this.props.removable === 'true',\n            calc:  this.props.calc === 'true'  ? true : false,\n            compact:  this.props.compact === 'true'  ? true : false,            \n            label: this.props.label || '',\n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            layout: this.props.layout || '',\n            units,\n            value\n        }\n    }\n\n    template () {\n        return /*html*/`<div class='small-editor' ref='$body'></div>`\n    }\n\n    refresh() {\n        this.load();\n    }\n\n    [LOAD('$body')] () {\n\n        var { min, max, step, label, removable, layout, compact } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var layoutClass = layout;\n\n        var realValue = (+value).toString();\n\n        var units = this.state.units.split(',').map(it => {\n            let description = it; \n            if (description === 'number')  {\n                description = '';\n            }\n            return {value: it, text: description }\n        });\n\n        return /*html*/`\n        <div \n            ref=\"$range\"\n            class=\"${OBJECT_TO_CLASS({\n                'elf--range--editor': true,\n                'has-label': !!label,\n                'compact': !!compact,\n                'is-removable': removable,\n                [layoutClass] : true \n            })}\"\n        >\n            ${label ? `<label title=\"${label}\">${label}</label>` : '' }\n            <div class='range--editor-type' data-type='range'>\n                <input type='range' ref='$property' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" /> \n                <div class='area' ref='$rangeArea'>\n                    <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" tabIndex=\"1\" />\n                    <object refClass=\"SelectEditor\"  ref='$unit' key='unit' value=\"${this.state.selectedUnit || this.state.value.unit}\" options=${variable(units)} onchange='changeUnit' />\n                </div>\n            </div>\n            <button type='button' class='remove thin' ref='$remove' title='Remove'>${icon.remove}</button>\n        </div>\n    `\n    }\n\n    getValue() {\n        return this.state.value.clone(); \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        })\n    }\n\n    [FOCUS('$propertyNumber')] (e) {\n        this.refs.$rangeArea.addClass('focused');\n    }\n\n    [BLUR('$propertyNumber')] (e) {\n        this.refs.$rangeArea.removeClass('focused');\n    }    \n\n    [CLICK('$remove')] (e) {\n        this.updateData({\n            value: ''\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n    initValue () {\n        if (this.state.value == '') {\n            this.state.value = new Length(0, this.children.$unit.getValue())\n        }\n        \n    }\n\n    [INPUT('$propertyNumber')] (e) {\n\n        var value = +this.getRef('$propertyNumber').value; \n        this.getRef('$property').val(value);\n        \n        this.initValue()\n\n        this.updateData({ \n            value: new Length(value, this.children.$unit.getValue())\n        });\n\n    }\n\n    [INPUT('$property')] (e) {\n        this.trigger('changeRangeValue');\n    }\n\n    [POINTERSTART('$property') + END()] () {\n\n    }\n\n    end() {\n        this.trigger('changeRangeValue');\n    }\n\n    [SUBSCRIBE_SELF('changeRangeValue')] () {\n        var value = +this.getRef('$property').value; \n        this.refs.$propertyNumber.val(value);\n\n        this.initValue();\n\n        this.updateData({ \n            value: new Length(value, this.children.$unit.getValue())\n        });\n    }\n\n    [SUBSCRIBE_SELF('changeUnit')] (key, value) {\n\n        this.initValue();\n\n        this.updateData({\n            value: this.state.value.toUnit(value)\n        })\n    }\n}","import { Length } from \"el/editor/unit/Length\";\nimport RangeEditor from \"./RangeEditor\";\n\nexport default class IterationCountEditor extends RangeEditor {\n\n    initState() {\n        var value = this.props.value\n\n        if (value === 'infinite') {\n            value = new Length(0, 'infinite')\n        } else {\n            value = Length.number(value.split('normal')[0])\n        }\n        var units = this.props.units || 'px,em,%';\n        \n        return {\n            ...super.initState(), \n            ...{\n                key: this.props.key,\n                params: this.props.params || '',\n                units,\n                value\n            }\n        }\n    }\n\n}\n","\nimport { POINTERSTART, BIND, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './MediaProgressEditor.scss';\n\nexport default class MediaProgressEditor extends EditorElement {\n\n\n    initState() {\n        const [start, end, duration] = (this.props.value || \"\").split(\":\");\n\n        return {\n            start: +(start || 0),\n            end: +(end || 1),\n            duration: +(duration || 1)\n        }\n    }\n\n    refresh() {\n        this.load();\n\n        this.children.$s.setValue(this.state.start * this.state.duration);\n        this.children.$e.setValue(this.state.end * this.state.duration);\n\n        this.children.$s.setMax(this.state.duration);\n        this.children.$e.setMax(this.state.duration);\n    }\n\n    template() {\n\n        const { start, end, duration } = this.state; \n\n        return /*html*/`\n            <div class='elf--media-progress-editor'>\n                <div class='drag-area'>\n                    <div class='progress-bar' ref='$progress'></div>\n                    <div class='bar' ref='$bar'></div>                \n                    <div class='drag-item start' ref='$start'></div>\n                    <div class='drag-item end' ref='$end'></div>\n                </div>\n                <div class='item'>\n                    <object refClass=\"NumberRangeEditor\"  \n                        ref='$s' \n                        label='Start' \n                        key='start' \n                        min=\"0\" \n                        max=\"${duration}\" \n                        step=\"0.001\" \n                        value=\"${start * duration}\" \n                        onchange=\"changeValue\" \n                    />\n                </div>\n                <div class='item'>\n                    <object refClass=\"NumberRangeEditor\"  \n                        ref='$e' \n                        label='End' \n                        key='end' \n                        min=\"0\" \n                        max=\"${duration}\" \n                        step=\"0.001\" \n                        value=\"${end * duration}\" \n                        onchange=\"changeValue\" \n                    />\n                </div>                \n            </div>\n        `\n    }\n\n    [SUBSCRIBE_SELF('changeValue')] (key, value) {\n        this.updateData({\n            [key]: value/this.state.duration\n        }, true);\n    }\n\n    [POINTERSTART('$start') + MOVE('moveStart')] (e) {\n        this.rect = this.refs.$progress.rect();\n        this.pos = Length.parse(this.refs.$start.css('left')).toPx(this.rect.width);\n        this.max = Length.parse(this.refs.$end.css('left')).toPx(this.rect.width);\n    }\n\n    moveStart (dx, dy) {\n        var realPos = Math.min(this.max.value, Math.max(0, this.pos.value + dx))\n        this.state.start = realPos / this.rect.width;\n        this.children.$s.setValue(this.state.start * this.state.duration);\n\n        this.refresh();\n        this.updateData();               \n    }\n\n    [BIND('$start')] () {\n\n        return {\n            'data-info': this.state.start,\n            style: {\n                left: Length.percent((this.state.start || 0) * 100)\n            }\n        }\n    }\n\n    [POINTERSTART('$end') + MOVE('moveStartForEnd')] (e) {\n        this.rect = this.refs.$progress.rect();\n        this.pos = Length.parse(this.refs.$end.css('left')).toPx(this.rect.width);\n        this.min = Length.parse(this.refs.$start.css('left')).toPx(this.rect.width);\n        this.max = Length.px(this.rect.width);\n    }\n\n    moveStartForEnd (dx, dy) {\n        var realPos = Math.max(this.min.value, Math.min(this.max.value, this.pos.value + dx))\n        this.state.end = realPos / this.rect.width;\n        this.children.$e.setValue(this.state.end * this.state.duration);        \n        this.refresh(); \n        this.updateData();       \n    }\n\n    [BIND('$end')] () {\n        return {\n            'data-info': this.state.end,\n            style: {\n                left: Length.percent((this.state.end || 1) * 100)\n            }\n        }\n    }\n\n    [BIND('$bar')] () {\n        const start = this.state.start || 0;\n        const end = this.state.end || 1;\n        return {\n            style: {\n                left: Length.percent(start * 100),\n                width: Length.percent((end - start) * 100)\n            }\n        }\n    }    \n\n    getValue () {\n        const { start, end, duration} = this.state; \n        return `${start}:${end}:${duration}`; \n    }\n\n    setValue (value) {\n        const [ start, end, duration ] = value.split(':');\n        this.setState({ \n            start: Number(start), \n            end: Number(end),\n            duration: Number(duration),\n        })\n    }\n\n    updateData (data = {}, isRefresh = false) {\n        this.setState(data, isRefresh)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params)\n    }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { LOAD, INPUT, FOCUS, BLUR } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './NumberInputEditor.scss';\n\nexport default class NumberInputEditor extends EditorElement {\n\n    initState() {\n        var value = Length.parse(this.props.value || Length.number(0));\n\n        value = value.toUnit('number');\n        let label = this.props.label || ''; \n\n        if (icon[label]) {\n            label = icon[label];\n        }        \n        return {\n            label,\n            compact: this.props.compact === 'true',            \n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            layout: this.props.layout || '',\n            value\n        }\n    }\n\n    template () {\n        return `<div class='small-editor' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n        var { min, max, step, label, type, layout, compact } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var hasLabel = !!label ? 'has-label' : ''\n        var hasCompact = !!compact ? 'compact' : ''        \n        var layoutClass = layout;\n\n        var realValue = (+value).toString();\n        \n        return /*html*/`\n        <div class='elf--number-input-editor ${hasLabel} ${hasCompact} ${layoutClass}' \n            ref=\"$range\"\n            data-selected-type='${type}'>\n            ${label ? `<label>${label}</label>` : '' }\n            <div class='range--editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" />\n                </div>\n            </div>\n        </div>\n    `\n    }\n\n    getValue() {\n        return this.state.value || 0; \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        }, false)\n        this.refs.$propertyNumber.val(this.state.value.value)\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n\n    [FOCUS('$propertyNumber')] (e) {\n        this.refs.$range.addClass('focused');\n    }\n\n    [BLUR('$propertyNumber')] (e) {\n        this.refs.$range.removeClass('focused');\n    }    \n\n    [INPUT('$propertyNumber')] (e) {\n        var value = +this.getRef('$propertyNumber').value; \n\n        this.updateData({ \n            value: this.state.value.set(value)\n        });\n\n    }\n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, INPUT, CLICK, FOCUS, BLUR, POINTERSTART, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './NumberRangeEditor.scss';\n\nexport default class NumberRangeEditor extends EditorElement {\n\n    initState() {\n        var value = Length.parse(this.props.value || Length.number(0));\n        value = value.toUnit('number');\n        return {\n            removable: this.props.removable === 'true',\n            clamp: this.props.clamp === 'true',\n            label: this.props.label || '',\n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            layout: this.props.layout || '',\n            value\n        }\n    }\n\n    template () {\n        return `<div class='small-editor' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { min, max, step, label, type, removable, layout } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var hasLabel = !!label ? 'has-label' : ''\n        var isRemovable = removable ? 'is-removable' : '';\n        var layoutClass = layout;\n\n        var realValue = (+value).toString();\n        \n        return /*html*/`\n        <div class='elf--number-range-editor ${hasLabel} ${isRemovable} ${layoutClass}' data-selected-type='${type}'>\n            ${label ? `<label title=\"${label}\">${label}</label>` : '' }\n            <div class='range--editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='range' ref='$property' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" />\n                    <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" tabIndex=\"1\" />\n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove' title='Remove'>${icon.remove}</button>\n        </div>\n    `\n    }\n\n    setMin (value) {\n        this.setState({\n            min: Length.parse(value)\n        })\n    }\n\n    setMax (value) {\n        this.setState({\n            max: Length.parse(value)\n        })\n    }    \n\n    getValue() {\n\n        if (this.state.clamp) {\n            return this.state.value.clamp(this.state.min, this.state.max);\n        }\n        \n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        })\n    }\n\n    [FOCUS('$propertyNumber')] (e) {\n        this.refs.$propertyNumber.addClass('focused');\n    } \n\n    [BLUR('$propertyNumber')] (e) {\n        this.refs.$propertyNumber.removeClass('focused');\n    }\n\n    [CLICK('$remove')] (e) {\n        this.updateData({\n            value: ''\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params)\n    }\n\n    [INPUT('$propertyNumber')] (e) {\n\n        var value = +this.getRef('$propertyNumber').value; \n        this.getRef('$property').val(value);\n\n        this.updateData({ \n            value: this.state.value.set(value)\n        });\n\n    }\n\n    [INPUT('$property')] () {\n        this.trigger('changeRangeValue');\n    }\n\n\n    [POINTERSTART('$property') + END('moveRange')] () {\n\n    }\n\n    moveRange () {\n        this.trigger('changeRangeValue');\n    }\n\n    [SUBSCRIBE_SELF('changeRangeValue')] () {\n        var value = +this.getRef('$property').value; \n        this.getRef('$propertyNumber').val(value);\n\n        if (this.state.value === '') {\n            this.state.value = Length.number(0)\n        }\n\n        this.updateData({ \n            value: this.state.value.set(value)\n        });\n    }    \n}","\nimport { LOAD, INPUT, DEBOUNCE, CLICK } from \"el/sapa/Event\";\nimport PathParser from \"el/editor/parser/PathParser\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './PathDataEditor.scss';\n\nexport default class PathDataEditor extends EditorElement {\n\n    initState() { \n        var parser = new PathParser(this.props.value || '')\n        return {\n            parser\n        }\n    }\n\n    makeSegments () {\n        return this.refs.$data.$$('.segment').map($segment => {\n            var $command = $segment.$('.command');\n            var command = $command.attr('data-command');\n            \n            if (command === 'Z' && $command.attr('data-toggle') === 'false') {\n                return null; \n            }\n\n            var values = $segment.$$('.values input[type=number]').map(it => {\n                return +it.value; \n            })\n\n            return {\n                command,\n                values\n            }\n        }).filter(it => it);\n    }\n\n    updateData() {\n        var segments = this.makeSegments()\n\n        this.state.parser.resetSegments(segments);\n\n        this.modifyPathData();\n    }\n\n    modifyPathData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);\n    }\n\n    setValue (value) {\n        this.setState({\n            parser: new PathParser(value)\n        })\n    }\n\n    getValue () {\n        return this.state.parser.joinPath();\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='elf--path-data-editor'>\n                <div class='data' ref='$data'></div>\n            </div>\n        `\n    }\n\n    [LOAD('$data')] () {\n\n        var  segments = []\n        \n        this.state.parser.segments.forEach((it, index) => {\n\n            var s = {...it}\n\n            segments.push(s);\n            var next = this.state.parser.segments[index+1]\n            if (next && next.command === 'M') {\n                if (s.command !== 'Z') {\n                    segments.push({command: 'Z', toggle: false, values: []})\n                } else {\n                    s.toggle = true; \n                } \n            }      \n\n        });\n\n        var last = this.state.parser.segments[this.state.parser.segments.length-1];\n        if (last && last.command !== 'Z') {\n            segments.push({command: 'Z', toggle: false, values: [] })\n        }\n\n        var arr = segments.map(it => {\n            var cls = it.command === 'M' ? 'm' : '';\n            return /*html*/`\n                <div class='segment ${cls}'>\n                    <div class='command' data-command='${it.command}' data-toggle=\"${it.toggle}\" title='Toggle'>${it.command}</div>\n                    <div class='values'>\n                        ${it.values.map(v => {\n                            return /*html*/`<input type=\"number\" value=\"${v}\" />`\n                        }).join('')}\n\n                        ${it.command === 'Z' ? (\n                            it.toggle === false ? \"opened\" : 'closed'\n                        ) : ''}\n                    </div>\n                </div>\n            `\n        })\n\n        arr.unshift(/*html*/`\n            <div class='segment-empty'>\n                <div class='command'></div>\n                <div class='values'>\n                    <span>X</span>\n                    <span>Y</span>\n                </div>\n            </div>\n        `)\n\n        return arr; \n    }\n\n    [INPUT('$data input[type=number]') + DEBOUNCE(300)] (e) {\n        this.updateData();\n    }\n\n    [CLICK('$data .command[data-toggle]')] (e) {\n        var [command, toggle] = e.$dt.attrs('data-command', 'data-toggle');\n        if (command === 'Z') {\n            if (toggle !== 'false') {\n                toggle = 'false'; \n            } else {\n                toggle = 'true'\n            }\n\n            e.$dt.attr('data-toggle', toggle);\n\n            this.updateData();\n        }\n    }\n}","import { LOAD, INPUT, DEBOUNCE } from \"el/sapa/Event\";\nimport PolygonParser from \"el/editor/parser/PolygonParser\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './PolygonDataEditor.scss';\n\nexport default class PolygonDataEditor extends EditorElement {\n\n    initState() { \n        var parser = new PolygonParser(this.props.value || '')\n        return {\n            parser\n        }\n    }\n\n    makeSegments () {\n        return this.refs.$data.$$('.segment').map($segment => {\n            var x = +$segment.$('[data-key=\"x\"]').value;\n            var y = +$segment.$('[data-key=\"y\"]').value;\n\n            return { x, y }\n        })\n    }\n\n    updateData() {\n        var segments = this.makeSegments()\n\n        this.state.parser.resetSegments(segments);\n\n        this.modifyPolygonData();\n    }\n\n    modifyPolygonData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);\n    }\n\n    setValue (value) {\n        this.setState({\n            parser: new PolygonParser(value || '')\n        })\n    }\n\n    getValue () {\n        return this.state.parser.joinPoints();\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='elf--polygon-data-editor'>\n                <div class='data' ref='$data'></div>\n            </div>\n        `\n    }\n\n    [LOAD('$data')] () {\n        return this.state.parser.segments.map(it => {\n            return /*html*/`\n                <div class='segment'>\n                    <div class='values'>\n                        <label>X <input type=\"number\" data-key=\"x\" value=\"${it.x}\" /></label>\n                        <label>Y <input type=\"number\" data-key=\"y\" value=\"${it.y}\" /></label>\n                    </div>\n                </div>\n            `\n        })\n    }\n\n    [INPUT('$data input[type=number]') + DEBOUNCE(300)] (e) {\n        this.updateData();\n    }\n}","\nimport { LOAD, CLICK, DOMDIFF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { isString } from \"el/sapa/functions/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './SelectIconEditor.scss';\nimport { CSS_TO_STRING } from \"el/utils/func\";\n\nexport default class SelectIconEditor extends EditorElement {\n\n    initState() {\n        var splitChar = this.props.split || ',';\n        var options = Array.isArray(this.props.options) \n                        ? this.props.options.map(it => {\n                            if (isString(it)) {\n                                return { value: it }\n                            }\n                            return it;  \n                        })\n                        : (this.props.options  || '').split(splitChar).map(it => it.trim()).map(it => {\n                            const [value, text] = it.split(':');\n                            return { value, text }\n                        });\n\n        var icons = (this.props.icons || '').split(splitChar).map(it => it.trim());\n        var colors = (this.props.colors || '').split(splitChar).map(it => it.trim());\n\n        var value = this.props.value || '';\n\n        return {\n            label: this.props.label || '',\n            compact: this.props.compact === 'true',\n            options, \n            icons, \n            colors,\n            value\n        }\n    }\n\n    template() {\n        var { label, compact } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        var hasCompact = !!compact ? 'compact': '';\n        return /*html*/`\n            <div class='elf--select-icon-editor ${hasLabel}'>\n                ${label ? `<label title=\"${label}\">${label}</label>` : '' }\n                <div class='items ${hasCompact}' ref='$options'></div>\n            </div>\n        `\n    }\n\n    [CLICK('$close')] () {\n        this.updateData({\n            value: ''\n        })\n        this.refresh();\n    }\n\n    getValue () {\n        return this.state.value || ''; \n    }\n\n    setValue (value) {\n\n        this.setState({\n            value\n        })\n    }\n\n    [LOAD('$options') + DOMDIFF] () {\n        return this.state.options.map((it, index) => {\n\n\n            var value = it.value; \n            var label = it.text; \n            var title = it.text; \n            var iconClass = ''\n\n            var isSelected = value === this.state.value; \n            var selected = isSelected ? 'selected' : '' \n            if (it.value === '') {\n                var label = icon.close\n                title = 'close'\n            } else {\n                var iconKey = this.state.icons[index];\n\n                if (icon[iconKey]) {\n                    iconClass = 'icon' \n                }\n\n                title = label \n                label = icon[iconKey] || label || iconKey || it.text || it.value; \n            }\n\n            var color = this.state.colors[index]\n            var css = {}\n            if (isSelected && color) {\n                css['background-color'] = color; \n            }\n            \n            return /*html*/`<div class='select-icon-item ${selected} ${iconClass}' style='${CSS_TO_STRING(css)}' data-value=\"${value}\" title='${title}'>${label}</div>`\n        })\n    }\n\n    [CLICK('$options .select-icon-item')] (e) {\n\n        var value = e.$dt.attr('data-value')\n\n        this.updateData({\n            value\n        })\n\n        this.refresh();\n    }\n\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params)\n    }\n}","import { LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './StrokeDashArrayEditor.scss';\n\nexport default class StrokeDashArrayEditor extends EditorElement {\n\n  initState() {\n\n    var value = this.generateValue(this.props.value || '')\n    \n    return {\n      label: this.props.label || '',\n      value\n    }\n  }\n\n  template() {\n\n    const { label } = this.state; \n    const hasLabel = !!label\n\n    return /*html*/`\n      <div class='elf--stroke-dasharray-editor'>\n        <div class='tools ${hasLabel ? 'has-label': ''}'>\n          ${hasLabel ? `<label class='label'>${label}</label>` : ''}\n          <label ref='$add'>${icon.add} ${this.$i18n('stroke.dasharray.editor.add')}</label>\n        </div>      \n        <div ref='$body'></div>\n      </div>\n    `\n  }\n\n  toStringValue () {\n    return this.state.value.join(' ');\n  }\n\n  getValue () {\n    return this.toStringValue()\n  }\n\n  generateValue (value) {\n    return value.split(\" \").filter(Boolean).map(it => +it);\n  }\n\n  setValue (value) {\n\n    if (Array.isArray(value)) {\n\n    } else {\n      value = this.generateValue(value);\n    }\n\n    this.setState({\n      value\n    })\n\n  }\n\n  [LOAD('$body')] () {\n\n    return this.state.value.map( (value, index) =>  {\n      var num = index + 1; \n      return /*html*/`\n        <div class='dasharray-item'>\n          <object refClass=\"NumberRangeEditor\"  \n            ref='$${num}' \n            label='${num}'\n            key='${index}' \n            value=\"${value}\" \n            min=\"0\"\n            max=\"100\"\n            step=\"1\"\n            onchange=\"changeRangeEditor\" \n          />\n          <button type=\"button\" data-index=\"${index}\" class='delete'>${icon.remove2}</button>\n        </div>\n      `\n    });\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    var index = +key\n    this.state.value[index] = value \n\n    this.modifyStrokeDashArray();\n  }\n\n  [CLICK('$add')] () {\n\n    this.setState({\n      value: [...this.state.value, 0]\n    })\n  }\n\n  [CLICK('$body .delete')] (e) {\n    const index = +e.$dt.attr('data-index');\n\n    this.state.value.splice(index, 1);\n\n    this.refresh();\n    this.modifyStrokeDashArray();    \n  }\n\n\n  modifyStrokeDashArray () {\n    this.parent.trigger(this.props.onchange, this.props.key,  this.toStringValue(), this.props.params);\n  }\n\n\n}","\nimport { BIND, INPUT } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport './TextAreaEditor.scss'\n\nexport default class TextAreaEditor extends EditorElement {\n\n    initState() {\n        var value = this.props.value;\n\n        return {\n            label: this.props.label || '',\n            height: Length.px(100),\n            value\n        }\n    }\n\n    template() {\n        var { label, height, value } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='elf--text-area-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }\n                <textarea ref='$text' style='height:${height}'>${value}</textarea>\n            </div>\n        `\n    }\n\n    getValue () {\n        return this.refs.$options.value; \n    }\n\n    setValue (value, height) {\n        this.setState({ value }, false)\n\n        if (height) {\n            this.setState({ height }, false)\n        }\n        this.refresh();        \n    }\n\n    [BIND('$text')] () {\n        return {\n            'text': this.state.value || '',\n            style: {\n                height: this.state.height \n            }\n        }\n    }\n\n    [INPUT('$text')] () {\n        this.updateData({\n            value: this.refs.$text.value \n        })\n    }\n\n\n    updateData (data) {\n        this.setState(data)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","import { BIND, INPUT } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './TextEditor.scss';\n\nexport default class TextEditor extends EditorElement {\n\n    initState() {\n        var value = this.props.value;\n        return {\n            label: this.props.label || '',\n            value\n        }\n    }\n\n    template() {\n        var { label, value } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='elf--text-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }\n                <div>\n                    <input type='text' ref='$text' value=\"${value}\" />\n                </div>\n            </div>\n        `\n    }\n\n    getValue () {\n        return this.refs.$text.value; \n    }\n\n    setValue (value) {\n        this.refs.$text.val(value);\n        this.setState({\n            value\n        }, false);\n    }\n\n    [BIND('$text')] () {\n        return {\n            'value': this.state.value\n        }\n    }\n\n    [INPUT('$text')] () {\n        this.updateData({\n            value: this.refs.$text.value\n        })\n    }\n\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params)\n    }\n}","import { INPUT, LOAD, CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './VarEditor.scss';\n\nexport default class VarEditor extends EditorElement {\n\n    initState() {\n        var values = this.props.value.split(';').filter(it => it.trim()).map(it => {\n            let [key, value] = it.split(':')\n            key = key.replace('--', '')\n            return {key, value}\n        });\n\n        return {\n            hideLabel: this.props['hide-label'] == 'true' ? true : false, \n            params: this.props.params || '',\n            values\n        }\n    }\n\n    template() {\n        var labelClass = this.state.hideLabel ? 'hide' : '';\n        return /*html*/`\n        <div class='elf--var-editor var-list'>\n            <div class='label ${labelClass}' >\n                <label>${this.props.title || ''}</label>\n                <div class='tools'>\n                    <button type=\"button\" ref=\"$add\" title=\"add Var\">${icon.add}</button>\n                </div>\n            </div>\n            <div class='var-list' ref='$varList'></div>\n        </div>`;\n    }\n\n    [SUBSCRIBE('add')] () {\n        this.state.values.push({\n            key: '',\n            value: '' \n        })\n\n        this.refresh();\n\n        this.updateData();\n    }\n\n    [CLICK('$add')] () {\n        this.trigger('add');\n    }\n\n    [LOAD('$varList')] () {\n        return this.state.values.map( (it, index) => {\n            return `\n                <div class='var-item' >\n                    <div>\n                        <input type=\"text\" data-type=\"key\" value=\"${it.key}\" data-index=\"${index}\"  placeholder=\"variable\" />\n                    </div>\n                    <div>\n                        <input type=\"text\" data-type=\"value\" value=\"${it.value}\" data-index=\"${index}\"  placeholder=\"value\" />\n                    </div>\n                    <div class=\"tools\">\n                        <button type=\"button\" class=\"del\" data-index=\"${index}\">\n                        ${icon.remove2}\n                        </button>\n                    </div>\n                </div>\n            `\n        })\n    }\n\n    [CLICK('$varList .del')] (e) {\n        var index = +e.$dt.attr('data-index')\n\n        this.state.values.splice(index, 1);\n\n        this.refresh();\n\n        this.updateData();\n    }\n\n    [INPUT('$varList input')] (e) {\n        var index = +e.$dt.attr('data-index')\n        var type = e.$dt.attr('data-type')\n\n        this.state.values[index][type] = e.$dt.value; \n\n        this.updateData()\n    }\n\n    updateData (data) {\n        var value = this.state.values.map(it => {\n            return `${it.key}:${it.value}`\n        }).join(';')\n\n        this.parent.trigger(this.props.onchange, value, this.props.params)\n    }\n\n}","import Dom from 'el/sapa/functions/Dom';\nimport { CSS_TO_STRING, TAG_TO_STRING } from 'el/utils/func';\nimport { Editor } from 'el/editor/manager/Editor';\nimport { isFunction } from 'el/sapa/functions/func';\n\nconst char_list = [\n    /\\(/gi,\n    /\\)/gi,\n]\n\nconst function_list = 'grayscale,matrix,rotateZ,blur,sepia,linear-gradient,radial-gradient,conic-gradient,circle,inset,polygon,rgb'.split(',').map(it => {\n    return new RegExp(it, \"gi\");\n});\nconst keyword_list = 'butt,miter,start,at,black,repeat,lighten,multiply,solid,border-box,visible,absolute,relative,auto'.split(',').map(it => {\n    return new RegExp(it, \"gi\");\n});\n\nfunction replaceKeyword(str) {\n\n    keyword_list.forEach(ke => {\n        str = str.replace(ke, (str) => {\n            return `<span class=\"keyword\">${str}</span>`;\n        });\n    });\n\n    function_list.forEach(ke => {\n        str = str.replace(ke, (str) => {\n            return `<span class=\"function\">${str}</span>`;\n        });\n    });    \n\n    char_list.forEach(ke => {\n        str = str.replace(ke, (str) => {\n            return `<span class=\"char\">${str}</span>`;\n        });\n    });\n\n    return str;\n}\n\nfunction filterKeyName (str, prefixPadding = '') {\n    return str.split(';').filter(it => it.trim()).map(it => {\n      it = it.trim();\n      var [key, value] = it.split(':').map(it => it.trim());\n\n      if (value === '') {\n        return '';\n      }\n\n      return /*html*/`<div class=\"block\"><strong>${key}</strong><span>:&nbsp;</span><span class=\"value\">${replaceKeyword(value)}</span><span>;</span></div>` \n    }).join('').trim()\n}\n\nfunction modifyNewLine (str) {\n    return str.replace(/;/gi, \";\\n\").trim()\n}\n\nexport default class HTMLRenderer {\n    /**\n     * \n     * @param {Editor} editor \n     */\n    constructor(editor) {\n        this.editor = editor;\n    }\n\n    getDefaultRendererInstance () {\n        return this.editor.getRendererInstance('html', 'rect');\n    }\n\n    getRendererInstance (item) {\n        return this.editor.getRendererInstance('html', item.itemType) || this.getDefaultRendererInstance() || item;\n    }\n\n\n    /**\n     * \n     * @param {BaseModel} item \n     */\n    render (item, renderer) {\n        if (!item) return;\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return currentRenderer.render(item, renderer || this);\n        }\n    }\n\n    renderSVG (item, renderer) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (isFunction(currentRenderer.renderSVG)) {\n            return currentRenderer.renderSVG(item, renderer || this);\n        } \n\n        return this.getDefaultRendererInstance().renderSVG(item, renderer || this);\n    }\n\n    to(type, item) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (isFunction(currentRenderer[type])) {\n            return currentRenderer[type].call(currentRenderer, item);\n        }\n\n\n        const defaultInstance = this.getDefaultRendererInstance();\n\n        if (isFunction(defaultInstance[type])) {\n            return defaultInstance[type].call(defaultInstance, item);\n        }\n    }\n\n    /**\n     * css  .\n     * \n     * @param {BaseModel} item \n     * @param {object} [omit={}]    \n     */\n    toCSS (item, omit = {}) {\n        const css = this.to('toCSS', item); \n\n        Object.keys(omit).forEach(key => {\n            delete css[key];\n        })\n\n        return css;\n    }\n\n    /**\n     * \n     * @param {BaseModel} item \n     */\n    toNestedCSS (item) {\n        return this.to('toNestedCSS', item);       \n    }  \n\n    /**\n     * \n     * @param {BaseModel} item \n     */\n    toTransformCSS (item) {\n        return this.to('toTransformCSS', item);    \n    }   \n\n    toGridLayoutCSS (item) {\n        return this.to('toGridLayoutCSS', item);            \n    }     \n\n    toLayoutItemCSS (item) {\n        return this.to('toLayoutItemCSS', item);            \n    }         \n\n    toLayoutBaseModelCSS (item) {\n        return this.to('toLayoutBaseModelCSS', item);            \n    }    \n\n\n    /**\n     * \n     *   style  . \n     * \n     * @param {BaseModel} item \n     */\n    toStyle (item, renderer) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (isFunction(currentRenderer.toStyle)) {\n            return currentRenderer.toStyle(item, renderer || this);\n        }\n\n        return this.getDefaultRendererInstance().toStyle(item, renderer || this);        \n    }\n\n    /**\n     * \n     * @param {BaseModel} item \n     * @param {Dom} currentElement\n     */\n    update (item, currentElement, editor) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (isFunction(currentRenderer.update)) {\n            return currentRenderer.update(item, currentElement, editor);\n        }\n\n        return this.getDefaultRendererInstance().update(item, currentElement, editor);\n    }\n\n    /**\n     *   HTML   . \n     * @param {BaseModel} item \n     */\n    codeview (item) {\n\n        if (!item) {\n            return '';\n        }\n\n        const currentProject = item.top;\n        let keyframeCode = modifyNewLine(filterKeyName(currentProject ? currentProject.toKeyframeString() : ''))\n        let rootVariable = currentProject ? CSS_TO_STRING(currentProject.toRootVariableCSS()) : ''\n        // let svgCode = this.renderSVG(currentProject);\n        // svgCode = svgCode.replace(/\\</g, '&lt;').replace(/\\>/g, '&gt;') \n    \n        const current = item;\n        const cssCode = filterKeyName(current ? TAG_TO_STRING( CSS_TO_STRING( this.toCSS(current) ) ) : '')\n        const nestedCssCode = current ? this.toNestedCSS(current).map(it => {\n            var cssText = it.cssText ? it.cssText : CSS_TO_STRING(it.css)\n            return `${it.selector} { \n    ${filterKeyName(TAG_TO_STRING(cssText), '&nbsp;&nbsp;')}\n    }`\n        }) : []\n        const selectorCode = current ? current.selectors : [];\n    \n    \n        return /*html*/`\n<div class=''>\n\n${cssCode && /*html*/`<div><pre title='CSS'>${cssCode}</pre></div>`}\n\n${nestedCssCode.map(it => {\n    return /*html*/`<div><pre title='CSS'>${it}</pre></div>`\n}).join('')}\n\n${(selectorCode || []).length ? \n    /*html*/`<div>\n    ${selectorCode.map(selector => {\n        return `<pre title='${selector.selector}'>${selector.toPropertyString()}</pre>`\n    }).join('')}\n    \n    </div>` : ''\n}\n\n${keyframeCode && /*html*/`<div><pre title='Keyframe'>${keyframeCode}</pre></div>`}\n\n${rootVariable ? \n    /*html*/`<div>\n    <label>:root</label>\n    <pre>${rootVariable}</pre>\n    </div>` : ''\n}\n\n</div>\n        `\n    \n    }\n}","import DomRender from \"./DomRender\";\n\nexport default class ArtBoardRender extends DomRender {\n\n  /**\n   * Artboard   \n   * \n   * @param {Item} item \n   * @param {Renderer} renderer\n   * @override\n   */\n  render (item, renderer) {\n    var {elementType, id, name, itemType} = item;\n  \n    const tagName = elementType || 'div'\n  \n    return /*html*/`    \n      <${tagName} class=\"element-item artboard\" data-id=\"${id}\">\n        ${this.toDefString(item)}\n        ${item.layers.map(it => {\n          return renderer.render(it, renderer)\n        }).join('\\n\\t')}\n      </${tagName}>\n    `\n  }\n\n\n  /**\n   * \n   * artboard  border   . \n   * \n   * @param {Item} item \n   */\n   toBorderCSS(item) {\n    return {}; \n  }\n\n}","import LayerRender from \"./LayerRender\";\n\nexport default class CircleRender extends LayerRender {\n    \n\n}","import { CSS_TO_STRING } from \"el/utils/func\";\nimport LayerRender from \"./LayerRender\";\n\n\nconst faceKeys = [\n    'front', 'back', 'left', 'right', 'top','bottom'\n]\n  \nexport default class CubeRender extends LayerRender {\n    \n  /**\n   * \n   * @param {Item} item \n   */ \n  toDefaultCSS(item) {\n    let obj = {}\n\n    if (item.x)  obj.left = item.x ;\n    if (item.y)  obj.top = item.y ;    \n\n    obj.visibility = (item.visible) ? 'visible' : 'hidden';    \n\n    return {\n      ...obj,\n      ...this.toKeyListCSS(item, [\n        'position', \n        'right', \n        'bottom', \n        'width',\n        'height', \n        'transform-origin', \n        'transform', \n        'transform-style', \n        'perspective', \n        'perspective-origin',\n        'animation',  \n        'transition',\n        // 'filter',\n      ])\n    }\n\n  }   \n\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toCSS(item) {\n\n    return {\n      ...this.toVariableCSS(item),\n      ...this.toDefaultCSS(item),\n      ...this.toWebkitCSS(item),      \n      ...this.toBoxModelCSS(item),\n      ...this.toLayoutItemCSS(item),\n    };\n  }\n\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toNestedCSS(item) {\n\n    var rate = item.rate.value; \n    var width = item.width; \n    var height = item.height; \n    var halfWidth = width.value/2\n    var halfHeight = height.value/2\n    var backfaceVisibility = item['backface-visibility']\n    var css = {\n      ...this.toKeyListCSS(item, [\n        'filter', \n        'mix-blend-mode', \n        'border-radius', \n        'background-color', \n        'opacity', \n        'color'\n      ]),      \n      ...this.toClipPathCSS(item),\n      ...this.toBackgroundImageCSS(item),\n      ...this.toBorderCSS(item)\n    }\n\n    return [\n      { selector: 'div', cssText: `\n          position: absolute;\n          left: 0px;\n          top: 0px;\n          bottom: 0px;\n          right: 0px;\n          opacity: 1;\n          pointer-events: none;\n          ${CSS_TO_STRING(css)}\n        `.trim()\n      },\n      {\n        selector: '.front', cssText: `\n          transform:rotateY(0deg) translateZ(${halfWidth * rate}px);\n          width: ${width};\n          height: ${height};     \n          backface-visibility: ${backfaceVisibility};          \n          ${item['front.color'] ? `background-color: ${item['front.color']};`: ''}\n          ${item['front.background'] ? `${item['front.background']};`: ''}\n\n        `.trim()\n      },\n      {\n        selector: '.back', cssText: `\n          transform: rotateY(180deg) translateZ(${halfWidth * rate}px);\n          width: ${width};\n          height: ${height};        \n          backface-visibility: ${backfaceVisibility};              \n          ${item['back.color'] ? `background-color: ${item['back.color']};`: ''}                  \n          ${item['back.background'] ? `${item['back.background']};`: ''}\n        `.trim()\n      },\n      {\n        selector: '.left', cssText:  `\n          transform: rotateY(-90deg) translateZ(${halfWidth * rate}px);\n          width: ${width};\n          height: ${height};    \n          backface-visibility: ${backfaceVisibility};          \n          ${item['left.color'] ? `background-color: ${item['left.color']};`: ''}                          \n          ${item['left.background'] ? `${item['left.background']};`: ''}\n        `.trim()\n      },\n      {\n        selector: '.right', cssText: `\n          transform: rotateY(90deg) translateZ(${halfWidth * rate}px);\n          width: ${width};\n          height: ${height};      \n          backface-visibility: ${backfaceVisibility};          \n          ${item['right.color'] ? `background-color: ${item['right.color']};`: ''}                        \n          ${item['right.background'] ? `${item['right.background']};`: ''}          \n        `.trim()\n      },\n      {\n        selector: '.top', cssText: `\n          transform: rotateX(90deg) translateZ(${halfHeight * rate}px);\n          top: ${halfHeight - halfWidth}px;\n          width: ${width};\n          height: ${width};\n          backface-visibility: ${backfaceVisibility};          \n          ${item['top.color'] ? `background-color: ${item['top.color']};`: ''}      \n          ${item['top.background'] ? `${item['top.background']};`: ''}              \n        `.trim()\n      },\n      {\n        selector: '.bottom', cssText: `\n          transform: rotateX(-90deg) translateZ(${halfHeight * rate}px);\n          top: ${halfHeight - halfWidth}px;          \n          width: ${width};\n          height: ${width};    \n          backface-visibility: ${backfaceVisibility};          \n          ${item['bottom.color'] ? `background-color: ${item['bottom.color']};`: ''}\n          ${item['bottom.background'] ? `${item['bottom.background']};`: ''}                          \n        `.trim()\n      }\n    ]\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  render (item) {\n    var {id} = item;\n\n    return /*html*/`\n      <div class='element-item cube' data-id=\"${id}\">\n        ${this.toDefString(item)}\n        ${faceKeys.map(key => {\n          return /*html*/`<div class='${key}'></div>`\n        }).join('')}\n      </div>`\n  }\n\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport LayerRender from \"./LayerRender\";\n\nexport default class ImageRender extends LayerRender {\n    \n\n    /**\n     *  CSS  \n     * \n     * @param {Item} item\n     */\n    toNestedCSS(item) {\n        return [\n            { selector: 'img', cssText: `\n                width: 100%;\n                height: 100%;\n                pointer-events: none;\n                `.trim()\n            },\n        ]\n    }\n\n\n    /**\n     * \n     * @param {Item} item \n     */\n    getUrl (item) {\n        var {src} = item;     \n        var project = item.project;\n        \n        return project.getImageValueById(src) || src;\n    }\n\n    /**\n     * \n     * @param {*} item \n     */\n    render (item) {\n        var {id} = item;\n\n        return /*html*/`\n          <div class='element-item image' data-id=\"${id}\">\n            ${this.toDefString(item)}\n            <img src='${this.getUrl(item)}' />\n          </div>`\n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n    update(item, currentElement) {\n\n        const $image = currentElement.$('img')\n        if ($image) {\n            $image.attr('src', this.getUrl(item));\n        }\n\n        super.update(item, currentElement);\n    } \n}","import { CSS_TO_STRING } from \"el/utils/func\";\nimport { Project } from \"plugins/default-items/layers/Project\";\nimport DomRender from \"./DomRender\";\n\nexport default class ProjectRender extends DomRender {\n    \n\n    /**\n     * \n     * @param {Item} item \n     */\n    toRootVariableCSS (item) {\n        let obj = {}\n        item.rootVariable.split(';').filter(it => it.trim()).forEach(it => {\n        var [key, value] = it.split(':')\n\n        obj[`--${key}`] = value; \n        })\n\n        return obj;\n    }  \n\n    /**\n     * \n     * @param {Project} item \n     */\n    toCSS(item) {\n        return Object.assign(\n            {},\n            ...this.toRootVariableCSS(item)\n        )\n    }\n\n    /**\n     * \n     * @param {Project} item \n     */\n    toStyle (item) {\n        \n        const keyframeString = item.toKeyframeString();\n        const rootVariable = this.toRootVariableCSS(item);\n\n        return /*html*/`\n<style type='text/css' data-renderer-type=\"html\" data-id='${item.id}'>\n    :root {\n        ${CSS_TO_STRING(rootVariable)}\n    }\n    /* keyframe */\n    ${keyframeString}\n</style>\n        `\n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {HTMLRenderer} renderer \n     */\n    render (item, renderer) {\n        return item.layers.map(it => {\n            return renderer.render(it)\n        }).join('');\n    }\n\n    /**\n     *   SVG  . \n     * \n     * @param {Item} item \n     * @param {HTMLRenderer} renderer \n     */\n    renderSVG (item, renderer) {\n        return '';\n    }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class RectRender extends LayerRender {\n    \n\n}","import Color from \"el/utils/Color\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport { SVGFill } from \"el/editor/property-parser/SVGFill\";\nimport LayerRender from \"./LayerRender\";\n\nexport default class SVGItemRender extends LayerRender {\n\n\n    /**\n     * Def   \n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n    updateDefString (item, currentElement) {\n\n        var $defs = currentElement.$('defs');\n        if ($defs) {\n            $defs.updateSVGDiff(`<defs>${this.toDefInnerString(item)}</defs>`)\n        } else {\n            var str = this.toDefString(item).trim();\n            currentElement.prepend(Dom.createByHTML(str));\n        }      \n    }  \n\n    /**\n     * \n     * @param {Item} item \n     */\n    toDefInnerString (item) {\n        return /*html*/`\n            ${this.toFillSVG(item)}\n            ${this.toStrokeSVG(item)}\n        `\n    }\n\n    fillId (item) {\n        return this.getInnerId(item, 'fill')\n    }\n\n    strokeId (item) {\n        return this.getInnerId(item, 'stroke')\n    }\n\n    cachedStroke(item) {\n\n        return item.computed('stroke', (value) => {\n            return SVGFill.parseImage(value || 'black')\n        });\n    }\n\n    cachedFill(item) {\n\n        return item.computed('fill', (value) => {\n            return SVGFill.parseImage(value || 'black')\n        });\n    }     \n\n    toFillSVG (item) {\n        const fillValue = this.cachedFill(item);\n        return fillValue?.toSVGString?.(this.fillId(item));\n    }\n\n    toStrokeSVG (item) { \n        const strokeValue = this.cachedStroke(item);\n        return strokeValue?.toSVGString?.(this.strokeId(item));\n    }  \n\n    toFillValue (item) {\n\n        const fillValue = this.cachedFill(item);\n\n        return  fillValue?.toFillValue?.(this.fillId(item)); \n    }\n\n    toFillOpacityValue (item) {\n        return  Color.parse(item.fill || 'transparent').a;\n    }  \n\n    toStrokeValue (item) {\n\n        const strokeValue = this.cachedStroke(item);\n\n        return strokeValue?.toFillValue?.(this.strokeId(item));\n    }  \n\n    toFilterValue (item) {\n\n        if (!item.svgfilter) {\n            return '';\n        }\n\n        return `url(#${item.svgfilter})`\n    }\n\n    /**\n     * @override\n     * @param {Item} item\n     */\n    toLayoutCSS(item) {\n        return {}\n    }\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toDefaultCSS(item) {\n        return {\n            ...super.toDefaultCSS(item),\n            ...this.toKeyListCSS(item, [\n                'stroke-width', 'stroke-linecap', 'stroke-linejoin', 'stroke-dasharray', 'stroke-dashoffset',\n                'fill-opacity', 'fill-rule', 'text-anchor'\n            ])\n        }\n    }\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toSVGAttribute (item) {\n        return this.toDefaultCSS(item);\n    }\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { OBJECT_TO_CLASS } from \"el/utils/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGPathRender extends SVGItemRender {\n    \n  /**\n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    if (!currentElement) return; \n\n    var $path = currentElement.$('path');\n\n    if ($path) {\n\n      if (item.hasChangedField('width', 'height', 'd')) {\n        $path.setAttrNS({\n          'd':  item.d,\n        })  \n      } \n      \n      if (item.hasChangedField('fill')){\n        $path.setAttrNS({\n          'fill': this.toFillValue(item),\n        })  \n\n      } \n      \n      if (item.hasChangedField('stroke')){\n        $path.setAttrNS({\n          'stroke': this.toStrokeValue(item)\n        })  \n        \n      } \n      \n      if (item.hasChangedField('filter')){\n        $path.setAttrNS({\n          'filter': this.toFilterValue(item),\n        })          \n      }\n\n      if (item.hasChangedField('fill-rule')){\n        $path.setAttrNS({\n          'fill-rule': item['fill-rule'] || 'nonezero',\n        })          \n      }\n\n\n    }\n\n    this.updateDefString(item, currentElement)\n\n  }    \n\n\n  render (item) {\n    var {id, name, itemType} = item;\n  \n    return /*html*/`    \n<div class=\"element-item ${itemType}\" data-id=\"${id}\" data-title=\"${name}\">\n  ${this.toDefString(item)}\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" overflow=\"visible\">\n    <path \n      class=\"svg-path-item\"\n      d=\"${item.d}\"\n      fill-rule=\"${item['fill-rule']}\"\n      filter=\"${this.toFilterValue(item)}\"\n      fill=\"${this.toFillValue(item)}\"\n      stroke=\"${this.toStrokeValue(item)}\"\n    />\n  </svg>\n</div>\n    `\n  }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGTextPathRender extends SVGItemRender {\n    \n\n  /**\n   * \n   * @param {Item} item \n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    var $path = currentElement.$('path.svg-path-item');\n\n    if ($path) {\n\n      if (item.hasChangedField('width', 'height', 'd')) {\n        $path.attr('d', item.d);\n      }\n\n    }\n\n    var $guidePath = currentElement.$('path.guide');\n    if ($guidePath) {\n      if (item.hasChangedField('width', 'height', 'd')) {\n        $guidePath.attr('d', item.d);\n      }\n    }\n\n    var $textPath = currentElement.$('textPath'); \n    if ($textPath) {\n\n      if (item.hasChangedField('text')) {\n        $textPath.text(item.text)\n      }\n\n      if (item.hasChangedField('textLength', 'lengthAdjust', 'startOffset')) {\n        $textPath.setAttrNS({\n          textLength: item.textLength,\n          lengthAdjust: item.lengthAdjust,\n          startOffset: item.startOffset\n        })  \n      }\n\n      if (item.hasChangedField('fill')) {\n        $textPath.setAttrNS({\n          fill: this.toFillValue(item),\n        })\n      }\n\n      if (item.hasChangedField('stroke')) {\n        $textPath.setAttrNS({\n          stroke: this.toStrokeValue(item),\n        })\n      }      \n\n      if (item.hasChangedField('filter')) {\n        $textPath.setAttrNS({\n          filter: this.toFilterValue(item),\n        })\n      }            \n  \n    }\n\n    this.updateDefString(item, currentElement)\n\n    item.totalLength = $path.totalLength\n  }    \n\n  toDefInnerString (item) {\n    return /*html*/`\n        ${this.toPathSVG(item)}\n        ${this.toFillSVG(item)}\n        ${this.toStrokeSVG(item)}\n    `\n  }\n\n  toPathId (item) {\n    return this.getInnerId(item, 'path')\n  }\n\n  toPathSVG (item) {\n    return /*html*/`\n    <path class=\"svg-path-item\" id=\"${this.toPathId(item)}\" d=\"${item.d}\" fill=\"none\" />\n    `\n  }\n\n  render (item) {\n    var {id, textLength, lengthAdjust, startOffset} = item; \n    const pathId = `#${this.toPathId(item)}`\n    return /*html*/`\n      <svg class='element-item textpath' data-id=\"${id}\">\n        ${this.toDefString(item)}\n        <text class=\"svg-textpath-item\">\n          <textPath \n            xlink:href=\"${pathId}\"\n            textLength=\"${textLength}\"\n            lengthAdjust=\"${lengthAdjust}\"\n            startOffset=\"${startOffset}\"\n          >${item.text}</textPath>\n          <use href=\"${pathId}\" stroke-width=\"1\" stroke=\"black\" />\n        </text>\n        <path class=\"guide\" d=\"${item.d}\" stroke=\"rgba(0, 0, 0, 0.5)\" fill=\"none\"/>\n      </svg>\n    `\n  }\n\n\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGTextRender extends SVGItemRender {\n    \n  /**\n   * \n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n    var $text = currentElement.$('text'); \n    if ($text) {\n\n      if (item.hasChangedField('text')) {\n        $textPath.text(item.text)\n      }\n\n      if (item.hasChangedField('textLength', 'lengthAdjust', 'startOffset')) {\n        $textPath.setAttrNS({\n          textLength: item.textLength,\n          lengthAdjust: item.lengthAdjust,\n          startOffset: item.startOffset\n        })  \n      }\n\n      if (item.hasChangedField('fill')) {\n        $textPath.setAttrNS({\n          fill: this.toFillValue(item),\n        })\n      }\n\n      if (item.hasChangedField('stroke')) {\n        $textPath.setAttrNS({\n          stroke: this.toStrokeValue(item),\n        })\n      }      \n\n      if (item.hasChangedField('filter')) {\n        $textPath.setAttrNS({\n          filter: this.toFilterValue(item),\n        })\n      }            \n  \n    }\n    this.updateDefString(item, currentElement)\n\n  }    \n\n  shapeInsideId (item) {\n    return this.getInnerId(item, 'shape-inside')\n  }    \n\n  render (item) {\n    var {id, textLength, lengthAdjust} = item; \n\n    return /*html*/`\n  <svg class='element-item textpath' data-id=\"${id}\">\n    ${this.toDefString(item)}\n      <text class=\"svg-text-item\" textLength=\"${textLength}\" lengthAdjust=\"${lengthAdjust}\">${item.text}</text>\n  </svg>`\n  }\n\n\n\n}","import { DomTemplateEngine } from \"./DomTemplateEngine\";\n\nconst EngineList = {\n    'dom' : DomTemplateEngine,\n}\n\nexport class TemplateEngine {\n    static compile (engine, template, params = []) {\n\n        const currentEngine = EngineList[engine] || EngineList['dom'];\n\n        return currentEngine.compile(template, params);\n    }\n};","export class DomTemplateEngine {\n    static compile (template, params = []) {\n        return template;\n    }\n}","import LayerRender from \"./LayerRender\";\nimport { TemplateEngine } from \"./template-engine/TemplateEngine\";\n\nexport default class TemplateRender extends LayerRender {\n    \n\n  update (item, currentElement) {\n\n\n    if (item.hasChangedField('x', 'y', 'width', 'height') === false) {\n      const compiledTemplate = this.compile(item);\n      let $innerHTML = currentElement.$(\".inner-html\");\n  \n      // TODO: template, engine, params        . \n      // TODO:          . \n      if ($innerHTML) {\n        $innerHTML.updateDiff(compiledTemplate);\n      }\n  \n    }\n  \n    super.update(item, currentElement);\n  }    \n\n  compile (item) {\n    return TemplateEngine.compile('dom', item.template, item.params);\n  }\n\n\n  /**\n   * \n   * @param {Item} item \n   */\n   render (item) {\n    var {id} = item;\n\n    //   template  . \n    //          . \n    const compiledTemplate = this.compile(item); \n\n    return /*html*/`\n      <div class='element-item template' data-id=\"${id}\">\n        ${this.toDefString(item)}\n        <style id=\"style-${id}\">\n          [data-id=\"${id}\"] .inner-html {\n            width: 100%; \n            height: 100%;\n            position:relative;\n            display:block;\n            pointer-events: none; \n          }\n\n          [data-id=\"${id}\"] .inner-html > * {\n            width: 100%; \n            height: 100%;\n          }          \n        </style>\n        <div class=\"inner-html\" data-domdiff-pass=\"true\">\n          ${compiledTemplate}\n        </div>\n      </div>`\n  }\n}","import Dom from \"el/sapa/functions/Dom\";\nimport LayerRender from \"./LayerRender\";\n\nexport default class TextRender extends LayerRender {\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toCSS(item) {\n\n        let css = super.toCSS(item)\n\n        css.margin = css.margin || '0px'\n\n        return css\n    }\n    \n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement\n     */\n     update (item, currentElement) {\n\n        const $textElement = currentElement.$(`.text-content`);\n        if ($textElement) {\n            var {content} = item;\n            $textElement.updateDiff(content);\n        }\n\n        super.update(item, currentElement);        \n    }    \n\n    /**\n     * \n     * @param {Item} item \n     */\n    render (item) {\n        var {id, content} = item;\n\n        return /*html*/`\n            <div class='element-item text' data-id=\"${id}\">\n                ${this.toDefString(item)}\n                <div class=\"text-content\" tabIndex=\"-1\" data-id=\"${id}\">${content}</div>\n            </div>\n        `\n    }\n\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport { Project } from \"plugins/default-items/layers/Project\";\nimport LayerRender from \"./LayerRender\";\n\nexport default class VideoRender extends LayerRender {\n    \n\n    /**\n     * \n     * @param {Item} item \n     */\n    toNestedCSS(item) {\n\n        return [\n            { selector: 'video', cssText: `\n                width: 100%;\n                height: 100%;\n                pointer-events: none;\n                `.trim()\n            },\n        ]\n    }\n\n\n    /**\n     * \n     * Resource URL \n     * \n     * @param {Project} item \n     */\n    getUrl (item) {\n        var {src} = item;     \n        var project = item.project;\n        \n        return project.getVideoValueById(src);\n    }\n\n    /**\n     * \n     * @param {Item} item \n     */\n    render (item) {\n        var {\n            id, \n            controls,\n            muted,\n            poster,\n            loop,\n            crossorigin,\n            autoplay\n        } = item;\n    \n        return /*html*/`\n        <div class='element-item video' data-id=\"${id}\">\n            ${this.toDefString(item)}\n            <video \n                controls=\"${controls}\"\n                src=\"${this.getUrl(item)}\n                muted=\"${muted}\"\n                poster=\"${poster}\"\n                loop=\"${loop}\"\n                crossorigin=\"${crossorigin}\"\n                autoplay=\"${autoplay}\"\n            >\n                Sorry, your browser doesn't support embedded videos.\n            </video>\n        </div>`\n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n    update(item, currentElement) {\n\n        const {currentTime, playbackRate, volume } = item;     \n\n        // select      ? \n        const $video = currentElement.$('video')\n        if ($video) {\n          $video.setProp({\n            currentTime,\n            playbackRate,\n            volume\n          })\n        }\n    \n        super.update(item, currentElement);\n    } \n}","import { Item } from 'el/editor/items/Item';\n\nexport default class JSONRenderer {\n    constructor(editor) {\n        this.editor = editor;\n    }\n\n\n    getDefaultRendererInstance () {\n        return this.editor.getRendererInstance('json', 'rect');\n    }\n\n    getRendererInstance (item) {\n        return this.editor.getRendererInstance('json', item.itemType) || this.getDefaultRendererInstance() || item;\n    }    \n\n    /**\n     * \n     * @param {Item} item \n     */\n    async render (item, renderer) {\n        if (!item) return;\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return await currentRenderer.render(item, renderer || this);\n        }\n    }\n\n    async getResourceDataURI (item, renderer) {\n        \n    }\n\n}","import { uuid } from \"el/utils/math\";\n\nexport default class ItemRender {\n\n  async render (item, renderer) {\n    return await this.toCloneObject(item, renderer)\n  }\n\n  async toCloneObject (item, renderer) {\n    var json = item.attrs(\n      'itemType', \n      'name', \n      'elementType', \n      'type', \n      'visible', \n      'lock', \n      'selected'\n    )\n\n    json.referenceId = item.id; \n    json.newTargetId = uuid();\n\n    let layers = []\n\n    for(var i = 0, len = item.layers.length; i < len; i++) {\n      layers.push(await renderer.render(item.layers[i], renderer));\n    }\n\n    json.layers = layers;\n\n    return json; \n  }\n}","import MovableRender from \"./MovableRender\";\n\nexport default class DomRender extends MovableRender {\n  \n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs(\n        'position',\n        'right',\n        'bottom',\n        'rootVariable',\n        'variable',\n        'transform',\n        'filter',\n        'backdrop-filter',\n        'background-color',      \n        'background-image',      \n        'text-clip',\n        'border-radius',      \n        'border',\n        'box-shadow',\n        'text-shadow',\n        'clip-path',\n        'color',\n        'font-size',\n        'font-stretch',\n        'line-height',\n        'text-align',\n        'text-transform',\n        'text-decoration',\n        'letter-spacing',\n        'word-spacing',\n        'text-indent',      \n        'perspective-origin',\n        'transform-origin',\n        'transform-style',      \n        'perspective',\n        'mix-blend-mode',\n        'overflow',\n        'opacity',\n        'rotate',\n        'flex-layout',      \n        'grid-layout',         \n        'animation',      \n        'transition',  \n      ),\n      selectors: item.selectors.map(selector => selector.clone()),\n      svg: item.svg.map(svg => svg.clone())\n    }\n  }\n\n}","import BaseAssetRender from './BaseAssetRender';\n\nexport default class MovableRender extends BaseAssetRender {\n  \n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs(\n        'x', 'y', 'width', 'height'\n      )\n    }\n  }\n\n}","import ItemRender from \"./ItemRender\";\n\nexport default class BaseAssetRender extends ItemRender {\n  \n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs(\n        'svgfilters', 'keyframes'\n      )\n    }\n  }\n\n}","import DomRender from \"./DomRender\";\n\nexport default class ArtBoardRender extends DomRender {\n\n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs('name'),\n    }\n  }\n}","import DomRender from \"./DomRender\";\n\nexport default class LayerRender extends DomRender {\n    async toCloneObject(item, renderer) {\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            ...item.attrs('tagName')\n        }\n    }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class CircleRender extends LayerRender {\n\n}","import LayerRender from \"./LayerRender\";\n\nexport default class IFrameRender extends LayerRender {\n    async toCloneObject(item, renderer) {\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            ...item.attrs('src')\n        }\n    }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class ImageRender extends LayerRender {\n    async toCloneObject(item, renderer) {\n        const project = item.project; \n\n        const image = project.imageKeys[item.src]\n        const src = image.original;\n\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            src\n        }\n    }\n}","import TimelineRender from \"./TimelineRender\";\n\nexport default class ProjectRender extends TimelineRender {\n\n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs('name', 'description', 'rootVariable')\n    }\n  }\n}","import AssetRender from \"./AssetRender\";\n\nexport default class TimelineRender extends AssetRender {\n\n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs(\n        'timeline',      \n      )\n    }\n  }\n}","import ItemRender from \"./ItemRender\";\n\nexport default class AssetRender extends ItemRender {\n\n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs(\n        'colors',\n        'gradients',\n        'svgfilters',\n        'svgimages',\n        'images',\n        'keyframes',      \n      )\n    }\n  }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class RectRender extends LayerRender {\n\n}","import LayerRender from \"./LayerRender\";\n\nexport default class SVGItemRender extends LayerRender {\n    async toCloneObject(item, renderer) {\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            ...item.attrs(\n              'overflow',\n              'stroke',\n              'stroke-width',\n              'svgfilter',\n              'fill',\n              'fill-rule',\n              'fill-opacity',\n              'stroke-linecap',\n              'stroke-linejoin',\n              'stroke-dashoffset',\n              'stroke-dasharray',\n              'text-anchor',\n            )\n      \n          }        \n    }\n}","import SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGPathRender extends SVGItemRender {\n    async toCloneObject(item, renderer) {\n      return {\n        ...(await super.toCloneObject(item, renderer)),\n        ...item.attrs('d')\n      }        \n    }\n}","import SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGTextPathRender extends SVGItemRender {\n    async toCloneObject(item, renderer) {\n      return {\n        ...(await super.toCloneObject(item, renderer)),\n        ...item.attrs(\n          'totalLength',\n          'd',\n          'text', \n          'textLength',\n          'lengthAdjust',\n          'startOffset'        \n        )\n      }        \n    }\n}","import SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGTextRender extends SVGItemRender {\n    async toCloneObject(item, renderer) {\n      return {\n        ...(await super.toCloneObject(item, renderer)),\n        ...item.attrs(\n          'totalLength',\n          'text', \n          'textLength',\n          'lengthAdjust',      \n          'shape-inside'\n        )\n      }        \n    }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class TemplateRender extends LayerRender {\n    async toCloneObject(item, renderer) {\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            ...item.attrs('engine', 'template', 'params')\n        }\n    }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class TextRender extends LayerRender {\n    async toCloneObject(item, renderer) {\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            ...item.attrs('content')\n        }\n    }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class VideoRender extends LayerRender {\n    async toCloneObject(item, renderer) {\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            ...item.attrs('src')\n        }\n    }\n}","import Dom from 'el/sapa/functions/Dom';\nimport { Item } from 'el/editor/items/Item';\n\nexport default class SVGRenderer {\n\n    constructor(editor) {\n        this.editor = editor;\n    }\n \n    getDefaultRendererInstance () {\n        return this.editor.getRendererInstance('svg', 'rect');\n    }\n\n    getRendererInstance (item) {\n        return this.editor.getRendererInstance('svg', item.itemType) || this.getDefaultRendererInstance() || item;\n    }    \n\n\n    /**\n     * \n     * @param {Item} item \n     */\n    render (item, renderer) {\n        if (!item) return '';\n\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return currentRenderer.render(item, renderer || this);\n        }\n    }\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toCSS (item) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return currentRenderer.toCSS(item);\n        }\n    }\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toTransformCSS (item) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return currentRenderer.toTransformCSS(item);\n        }\n    }    \n\n    /**\n     * \n     *   style  . \n     * \n     * @param {Item} item \n     */\n    toStyle (item, renderer) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return currentRenderer.toStyle(item, renderer || this);\n        }\n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement\n     */\n    update (item, currentElement) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return currentRenderer.update(item, currentElement);\n        }\n    }    \n\n    /**\n     *   HTML   . \n     * @param {Item} item \n     */\n    codeview (item) {\n\n        if (!item) {\n            return '';\n        }\n\n        let svgCode = this.render(item);\n        svgCode = svgCode.replace(/\\</g, '&lt;').replace(/\\>/g, '&gt;') \n    \n        return /*html*/`\n<div class='svg-code'>\n${svgCode && /*html*/`<div><pre title='SVG'>${svgCode}</pre></div>`}\n</div>\n        `\n    \n    }    \n}","import { isFunction } from \"el/sapa/functions/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport DomRender from \"plugins/renderer-html/HTMLRenderer/DomRender\";\n\n\nexport default class SVGRender extends DomRender {\n\n\n    toDefaultCSS(item) {\n        return {\n            overflow: 'visible',\n            ...this.toKeyListCSS(item, [\n                'font-size', \n                'font-stretch', \n                'line-height', \n                'font-weight', \n                'font-family', \n                'font-style',\n                'text-align', \n                'text-transform',  \n                'text-decoration',\n                'letter-spacing', \n                'word-spacing', \n                'text-indent',\n                'background-color', \n                'border-radius',\n                'transform-style',\n                'filter', \n                'filter', \n                'backdrop-filter', \n                'box-shadow', \n                'text-shadow',\n                'animation',  \n                'transition',                                \n            ])\n        }\n    \n    }\n    \n    /**\n     * SVG  CSS      . \n     * \n     * @param {Item} item \n     */\n    toCSS(item) {\n\n        const css = Object.assign(\n            {},\n            this.toVariableCSS(item),\n            this.toDefaultCSS(item),\n            this.toClipPathCSS(item),\n            this.toWebkitCSS(item), \n            this.toTextClipCSS(item),      \n            this.toTransformCSS(item),            \n            this.toLayoutItemCSS(item),\n            this.toBorderCSS(item),            \n            this.toBackgroundImageCSS(item),\n            this.toLayoutCSS(item)\n        );\n\n        delete css.left;\n        delete css.top;\n        delete css.width;\n        delete css.height;\n        delete css.position;\n\n        return css; \n    }\n\n\n    /**\n     * css    svg attribute     \n     * \n     * @param {Item} item \n     */\n    toSVGAttribute (item) {\n        return {\n            ...this.toDefaultCSS(item),\n            ...this.toKeyListCSS(item, [\n                'stroke-width', 'stroke-linecap', 'stroke-linejoin', 'stroke-dasharray', 'stroke-dashoffset',\n                'fill-opacity', 'fill-rule', 'text-anchor'\n            ])\n        }\n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Function} callback \n     */\n    wrappedRender (item, callback) {\n\n        const {id, x, y, width, height, itemType} = item;\n\n        return /*html*/`\n\n<svg class='svg-element-item ${itemType}'\n    xmlns=\"http://www.w3.org/2000/svg\"\n    data-id=\"${id}\"\n    x=\"${x.value}\"\n    y=\"${y.value}\"\n    width=\"${width.value}\"\n    height=\"${height.value}\"\n    overflow=\"visible\"\n>\n    ${this.toDefString(item)}\n    ${isFunction(callback) && callback()}\n</svg>\n        `       \n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {SVGRenderer} renderer \n     */\n    render (item, renderer) {\n\n        const {width, height, elementType} = item;\n        const tagName = elementType || 'div'\n        let css = this.toCSS(item);\n\n        return this.wrappedRender(item, ()=> {\n            return /*html*/`\n<foreignObject \n    width=\"${width.value}\"\n    height=\"${height.value}\"\n    overflow=\"visible\"\n>\n    <${tagName} xmlns=\"http://www.w3.org/1999/xhtml\" style=\"${CSS_TO_STRING(css)};width:100%;height:100%;\"></${tagName}>\n</foreignObject>    \n${item.layers.map(it => {\n    return renderer.render(it, renderer)\n}).join('')}\n            `            \n        })\n\n    }\n}","import { CSS_TO_STRING } from \"el/utils/func\";\nimport SVGRender from \"./SVGRender\";\n\nexport default class ArtBoardRender extends SVGRender {\n\n    toCSS(item) {\n\n        const css = Object.assign(\n            {},\n            this.toDefaultCSS(item),\n            this.toClipPathCSS(item),\n            this.toWebkitCSS(item), \n            this.toTextClipCSS(item),\n            this.toBackgroundImageCSS(item),            \n        );\n\n        delete css.left;\n        delete css.top;\n        delete css.width;\n        delete css.height;\n        delete css.position;\n\n        return css; \n    }\n    /**\n     * \n     * @param {Item} item \n     * @param {SVGRenderer} renderer \n     */\n    render(item, renderer, encoding = true) {\n\n        const {x, y, width, height} = item;\n\n        let css = this.toCSS(item);\n\n        return /*html*/`\n${encoding ? `<?xml version=\"1.0\"?>` : ''}\n<svg \n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"${width.value}\"\n    height=\"${height.value}\"\n    viewBox=\"0 0 ${width.value} ${height.value}\"\n    style=\"${CSS_TO_STRING(css)}\"\n>\n    ${this.toDefString(item)}\n    ${item.layers.map(it => {\n        return renderer.render(it, renderer)\n    }).join('')}\n</svg>      \n        `       \n\n    }\n}","import SVGRender from \"./SVGRender\";\n\nexport default class SVGLayerRender extends SVGRender {\n    \n}","import SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class CircleRender extends SVGLayerRender {\n    \n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class IFrameRender extends SVGLayerRender {\n    \n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n     update(item, currentElement) {\n      \n        let $iframe = currentElement.$(\"iframe\");\n    \n        if ($iframe) {\n          $iframe.attr('src', item.url || 'about:blank');    \n        }\n    \n        super.update(item, currentElement);\n    }     \n\n\n    /**\n     * \n     * @param {*} item \n     */\n    render (item) {\n\n        const {width, height, id, url =  'about:blank'} = item;\n        let css = this.toCSS(item);\n\n        return this.wrappedRender(item, () => {\n          return /*html*/`\n  <foreignObject\n      width=\"${width.value}\"\n      height=\"${height.value}\"\n  >\n      <iframe \n          xmlns=\"http://www.w3.org/1999/xhtml\"\n          width=\"100%\" \n          height=\"100%\" \n          style=\"border:0px;width:100%;height:100%;pointer-events:none; ${CSS_TO_STRING(css)}\" \n          src=\"${url}\"\n      ></iframe>\n  </foreignObject>              \n          `  \n        })      \n\n    }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class ImageRender extends SVGLayerRender {\n    \n\n    /**\n     * \n     * resource url  \n     * \n     * @param {Item} item \n     */\n    getUrl (item) {\n        var {src} = item;     \n        var project = item.project;\n        \n        return project.getImageValueById(src);\n    }\n\n\n    /**\n     * \n     * @param {*} item \n     */\n    render (item) {\n\n        const {width, height} = item;\n        let css = this.toCSS(item);\n\n        return this.wrappedRender(item, () => {\n          return /*html*/`\n            <foreignObject\n                width=\"${width.value}\"\n                height=\"${height.value}\"\n            >\n                <div xmlns=\"http://www.w3.org/1999/xhtml\">\n                    <img src='${this.getUrl(item)}' style=\"width:100%;height:100%; ${CSS_TO_STRING(css)}\"  />\n                </div>\n            </foreignObject>              \n          `  \n            \n        })      \n\n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n    update(item, currentElement) {\n\n        const $image = currentElement.$('img')\n        if ($image) {\n            $image.attr('src', this.getUrl(item));\n        }\n\n        super.update(item, currentElement);\n    } \n}","import SVGRender from \"./SVGRender\";\n\nexport default class ProjectRender extends SVGRender {\n\n    /**\n     * \n     * @param {Item} item \n     * @param {HTMLRenderer} renderer \n     */\n    render (item, renderer) {\n        return item.artboards.map(it => {\n            return renderer.render(it, renderer)\n        });\n    }\n}","import SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class RectRender extends SVGLayerRender {\n    \n\n}","import Color from \"el/utils/Color\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport { SVGFill } from \"el/editor/property-parser/SVGFill\";\nimport SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class SVGItemRender extends SVGLayerRender {\n\n\n    /**\n     * Def   \n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n    updateDefString (item, currentElement) {\n\n        var $defs = currentElement.$('defs');\n        if ($defs) {\n            $defs.html(this.toDefInnerString(item))          \n        } else {\n            var str = this.toDefString(item).trim();\n            currentElement.prepend(Dom.createByHTML(str));\n        }      \n    }  \n\n    /**\n     * \n     * @param {Item} item \n     */\n    toDefInnerString (item) {\n        return /*html*/`\n            ${this.toFillSVG(item)}\n            ${this.toStrokeSVG(item)}\n        `\n    }\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toDefString (item) {\n\n        const str = this.toDefInnerString(item).trim();\n\n        return /*html*/`\n            <defs>\n            ${str}\n            </defs>\n        `\n    }\n\n    fillId (item) {\n        return this.getInnerId(item, 'fill')\n    }\n\n    strokeId (item) {\n        return this.getInnerId(item, 'stroke')\n    }\n\n    toFillSVG (item) {\n        return SVGFill.parseImage(item.fill || 'transparent').toSVGString(this.fillId(item));\n    }\n\n    toStrokeSVG (item) {\n        return SVGFill.parseImage(item.stroke || 'black').toSVGString(this.strokeId(item));\n    }  \n\n    toFillValue (item) {\n        return  SVGFill.parseImage(item.fill || 'transparent').toFillValue(this.fillId(item));\n    }\n\n    toFillOpacityValue (item) {\n        return  Color.parse(item.fill || 'transparent').a;\n    }  \n\n    toStrokeValue (item) {\n        return  SVGFill.parseImage(item.stroke || 'black').toFillValue(this.strokeId(item));\n    }  \n\n    toFilterValue (item) {\n\n        if (!item.svgfilter) {\n            return '';\n        }\n\n        return `url(#${item.svgfilter})`\n    }\n\n    /**\n     * @override\n     * @param {Item} item\n     */\n    toLayoutCSS(item) {\n        return {}\n    }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING, OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGPathRender extends SVGItemRender {\n    \n  /**\n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    if (!currentElement) return; \n\n    var $path = currentElement.$('path');\n\n    if ($path) {\n      $path.setAttr({\n        'd':  item.d,\n        'filter': this.toFilterValue(item),\n        'fill': this.toFillValue(item),\n        'stroke': this.toStrokeValue(item)\n      })  \n      item.totalLength = $path.totalLength\n    }\n\n    this.updateDefString(item, currentElement)\n\n  }    \n\n\n  render (item) {\n    var {d} = item;\n\n    return this.wrappedRender(item, () => {\n      return /*html*/`\n<path ${OBJECT_TO_PROPERTY({\n  'class': 'svg-path-item', \n  d, \n  filter: this.toFilterValue(item),\n  fill: this.toFillValue(item),\n  stroke: this.toStrokeValue(item),\n  ...this.toSVGAttribute(item),\n  style: CSS_TO_STRING(this.toCSS(item))      \n})} />\n    `\n    }) \n  }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING, OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGTextPathRender extends SVGItemRender {\n    \n\n  /**\n   * \n   * @param {Item} item \n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    var $path = currentElement.$('path');\n\n    if ($path) {\n      $path.attr('d', item.d);\n    }\n\n    var $textPath = currentElement.$('textPath'); \n    if ($textPath) {\n      $textPath.text(item.text)\n      $textPath.setAttr({\n        filter: this.toFilterValue(item),\n        fill: this.toFillValue(item),\n        stroke: this.toStrokeValue(item),\n        textLength: item.textLength,\n        lengthAdjust: item.lengthAdjust,\n        startOffset: item.startOffset\n      })\n  \n    }\n\n    this.updateDefString(item, currentElement)\n\n    item.totalLength = $path.totalLength\n  }    \n\n  toDefInnerString (item) {\n    return /*html*/`\n      ${this.toPathSVG(item)}\n      ${this.toFillSVG(item)}\n      ${this.toStrokeSVG(item)}\n    `\n  }\n\n  toPathId (item) {\n    return this.getInnerId(item, 'path')\n  }\n\n  toPathSVG (item) {\n    return /*html*/`\n      <path \n        class=\"svg-path-item\"\n        id=\"${this.toPathId(item)}\"\n        d=\"${item.d}\"\n        fill=\"none\"\n      />\n    `\n  }\n\n  render (item) {\n\n    return this.wrappedRender(item, () => {\n\n      const {textLength, lengthAdjust, startOffset} = item; \n\n      return /*html*/`\n        <textPath ${OBJECT_TO_PROPERTY({\n          'xlink:href' :`#${this.toPathId(item)}`,\n          textLength,\n          lengthAdjust,\n          startOffset,\n          filter: this.toFilterValue(item),\n          fill: this.toFillValue(item),\n          stroke: this.toStrokeValue(item),\n          ...this.toSVGAttribute(item),\n          style: CSS_TO_STRING(this.toCSS(item))   \n        })} >${item.text}</textPath>\n      `\n    })\n  }\n\n\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING, OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGTextRender extends SVGItemRender {\n    \n  /**\n   * \n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n    var $text = currentElement.$('text'); \n\n    if ($text) {\n      $text.text(item.text)\n      $text.setAttr({\n        filter: this.toFilterValue(item),\n        fill: this.toFillValue(item),\n        stroke: this.toStrokeValue(item),   \n        textLength: item.textLength,\n        lengthAdjust: item.lengthAdjust\n      })\n  \n    }\n\n    this.updateDefString(item, currentElement)\n\n  }    \n\n  shapeInsideId (item) {\n    return this.getInnerId(item, 'shape-inside')\n  }    \n\n  render (item) {\n    var {id, textLength, lengthAdjust} = item; \n\n    return this.wrappedRender(item, () => {\n      return /*html*/`\n        <text ${OBJECT_TO_PROPERTY({\n          'class': 'svg-text-item',\n          textLength,\n          lengthAdjust,\n          filter: this.toFilterValue(item),\n          fill: this.toFillValue(item),\n          stroke: this.toStrokeValue(item),\n          ...this.toSVGAttribute(item),\n          style: CSS_TO_STRING(this.toCSS(item))              \n        })} >${item.text}</text>\n      `\n      \n    })\n  }\n\n\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { TemplateEngine } from \"plugins/renderer-html/HTMLRenderer/template-engine/TemplateEngine\";\nimport SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class TemplateRender extends SVGLayerRender {\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n     update(item, currentElement) {\n\n        const compiledTemplate = this.compile(item);\n        let $innerHTML = currentElement.$(\".inner-html\");\n    \n        // TODO: template, engine, params        . \n        // TODO:          . \n        if ($innerHTML) {\n          $innerHTML.updateDiff(compiledTemplate);\n        }\n    \n\n        super.update(item, currentElement);\n    } \n\n\n    compile (item) {\n        return TemplateEngine.compile('dom', item.template, item.params);\n    }\n\n\n    /**\n     * \n     * @param {*} item \n     */\n    render (item) {\n\n        const {id, width, height } = item;\n        const compiledTemplate = this.compile(item); \n\n\n        return this.wrappedRender(item, () => {\n          return /*html*/`\n            <foreignObject\n                width=\"${width.value}\"\n                height=\"${height.value}\"\n            >\n                <div  xmlns=\"http://www.w3.org/1999/xhtml\" style=\"width: 100%;height:100%;\">\n                    <style id=\"style-${id}\">\n                    [data-id=\"${id}\"] .inner-html {\n                        width: 100%; \n                        height: 100%;\n                        position:relative;\n                        display:block;\n                        pointer-events: none; \n                    }\n\n                    [data-id=\"${id}\"] .inner-html > * {\n                        width: 100%; \n                        height: 100%;\n                    }          \n                    </style>\n                    <div class=\"inner-html\">\n                    ${compiledTemplate}\n                    </div>\n                </div>\n            </foreignObject>              \n          `  \n            \n        })      \n\n    }\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class TextRender extends SVGLayerRender {\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toCSS(item) {\n\n        let css = super.toCSS(item)\n\n        css.margin = css.margin || '0px'\n\n        return css\n    }\n    \n\n    /**\n     * \n     * @param {Item} item \n     */\n    render (item) {\n        const {content, width, height} = item;\n        let css = this.toCSS(item);\n\n        return this.wrappedRender(item, () => {\n          return /*html*/`\n            <foreignObject width=\"${width.value}\" height=\"${height.value}\">\n                <p xmlns=\"http://www.w3.org/1999/xhtml\" style=\"${CSS_TO_STRING(css)}\">${content}</p>\n            </foreignObject>              \n          `  \n        })      \n\n        \n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement\n     */\n    update (item, currentElement) {\n        var {content} = item;\n\n        currentElement.updateDiff(content);\n    }\n\n}","import { CSS_TO_STRING } from \"el/utils/func\";\nimport SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class VideoRender extends SVGLayerRender {\n    \n\n    /**\n     * \n     * @param {Project} item \n     */\n    getUrl (item) {\n        var {src} = item;     \n        var project = item.project;\n        \n        return project.getVideoValueById(src);\n    }    \n\n    /**\n     * \n     * @param {Item} item \n     * @param {SVGRenderer} renderer \n     */\n    render (item, renderer) {\n        var {\n            width, height,\n            controls,\n            muted,\n            poster,\n            loop,\n            crossorigin,\n            autoplay\n        } = item;        \n        let css = this.toCSS(item);\n\n        return this.wrappedRender(item, ()=> {\n            return /*html*/`\n            <foreignObject \n                width=\"${width.value}\"\n                height=\"${height.value}\"\n                overflow=\"visible\"\n            >\n                <video \n                    xmlns=\"http://www.w3.org/1999/xhtml\"\n                    controls=\"${controls}\"\n                    src=\"${this.getUrl(item)}\"\n                    muted=\"${muted}\"\n                    poster=\"${poster}\"\n                    loop=\"${loop}\"\n                    crossorigin=\"${crossorigin}\"\n                    autoplay=\"${autoplay}\"\n                    style=\"${CSS_TO_STRING(css)};width:100%;height:100%;\"></video>\n            </foreignObject>    \n            `            \n        })\n\n    }\n}","\nimport { INPUT, SUBSCRIBE } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './SelectorPopup.scss';\n\nexport default class SelectorPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('selector.popup.title')\n  }\n\n  initState() {\n    return {\n      selector: '',\n      properties: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(\"changeSelectorPopup\", this.state);\n  }\n\n  getBody() {\n    return /*html*/`\n    <div class='elf--selector-popup' ref='$popup'>\n      <div class=\"box\">\n        ${this.templateForSelector()}\n        ${this.templateForProperty()}        \n      </div>\n    </div>`;\n  }\n\n\n  templateForProperty() {\n    return /*html*/`<object refClass=\"CSSPropertyEditor\" ref='$propertyEditor' onchange='changePropertyEditor' />`\n  }    \n\n\n  templateForSelector() {\n    return /*html*/`\n      <div class='name'>\n        <label>${this.$i18n('selector.popup.selector')}</label>\n        <div class='input grid-1'>\n          <input type='text' value='${this.state.selector}' ref='$selector'/>\n        </div>\n      </div>\n    `\n  }\n\n  [INPUT('$selector')] (e) {\n    if (this.refs.$selector.value.match(/^[a-zA-Z0-9\\:\\_\\-\\.\\b]+$/)) {\n      this.updateData({selector : this.refs.$selector.value })\n    } else {\n      e.preventDefault()\n      e.stopPropagation()\n      return false;\n    }\n  }\n  \n  refresh() {\n    super.refresh()\n\n    this.refs.$selector.val(this.state.selector);\n    this.children.$propertyEditor.trigger('showCSSPropertyEditor', this.state.properties);\n  }\n\n  [SUBSCRIBE('changePropertyEditor')] (properties) {\n    this.updateData({\n      properties\n    });\n  }\n\n  [SUBSCRIBE(\"showSelectorPopup\")](data) {\n    this.setState(data);\n    this.refresh()\n\n    this.show(250)\n  }\n}\n","import icon from \"el/editor/icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  DRAGSTART,\n  DRAGOVER,\n  DROP,\n  PREVENT,\n  DEBOUNCE,\n  STOP,\n  SUBSCRIBE\n} from \"el/sapa/Event\";\n\n\nimport { Selector } from \"el/editor/property-parser/Selector\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './SelectorProperty.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nconst selectorList = [\n  '',   // custom \n  ':hover',\n  ':active',\n  ':before',\n  ':after',\n  ':first-child',\n  ':last-child',\n  ':link',\n  ':active',\n  ':focus'\n].map(value => ({ value }));\n\n\n/**\n *  class, selector       . \n */\nexport default class SelectorProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('selector.property.title');\n  }\n  getBody() {\n    return `<div class='elf--selector-list' ref='$selectorList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <div style='display:inline-block;'>\n        <object refClass=\"SelectEditor\"  ref='$select' key='selector' icon=\"true\" none-value=\"selector\" options=${variable(selectorList)} />\n      </div>\n      <button type=\"button\" ref=\"$add\" title=\"add Selector\">${icon.add}</button>\n    `;\n  }\n\n  makeSelectorTemplate (selector, index) {\n    index = index.toString()\n    return /*html*/`\n      <div class='selector-item' draggable='true' ref='$selectorIndex${index}' data-index='${index}'>\n        <div class='title'>\n          <div class='name'>\n            <span>${selector.selector || `&lt;${this.$i18n('selector.property.none')}&gt;`}</span>\n          </div>\n          <div class='tools'>\n              <button type=\"button\" class=\"del\" data-index=\"${index}\">${icon.remove2}</button>\n          </div>\n        </div>\n      </div>\n    `\n  }\n\n  [CLICK('$selectorList .selector-item .name')] (e) {\n    var index  = +e.$dt.closest('selector-item').attr('data-index');\n\n    var current = this.$selection.current;\n    if (!current) return;\n\n\n    this.viewSelectorPicker(index);\n\n  }\n\n  [CLICK('$selectorList .selector-item .del') + PREVENT + STOP] (e) {\n    var removeIndex = e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.removeSelector(removeIndex);\n\n    this.emit('refreshElement', current);\n\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)] () {\n    this.refreshShowIsNot(['project', 'svg-path', 'svg-brush', 'svg-textpath', 'svg-text']);    \n  }\n\n\n  [LOAD(\"$selectorList\")]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    var selectors = current.selector ? Selector.parseStyle(current) : current.selectors;\n\n    current.selector = ''\n    current.selectors = selectors;\n\n    return (selectors || []).map((selector, index) => {\n      return this.makeSelectorTemplate(selector, index);\n    });\n  }\n\n  // selector-item    dragstart  \n  //  ui     \n  // title   dragstart   ok ?\n  [DRAGSTART(\"$selectorList .selector-item .title\")](e) {\n    this.startIndex = +e.$dt.attr(\"data-index\");\n  }\n\n  // drop    dragover     .\n  [DRAGOVER(\"$selectorList .selector-item\") + PREVENT](e) {}\n\n  [DROP(\"$selectorList .selector-item\") + PREVENT](e) {\n    var targetIndex = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.sortSelector(this.startIndex, targetIndex);\n\n    this.emit('refreshElement', current);\n\n    this.refresh();\n  }\n\n  [CLICK(\"$add\")]() {\n\n    var current = this.$selection.current;\n    if (current) {\n\n      current.createSelector({\n        selector: this.children.$select.getValue()\n      });\n\n      this.emit('refreshElement', current);\n    }\n\n    this.refresh();\n  }\n\n  viewSelectorPicker(index) {\n    if (typeof this.selectedIndex === \"number\") {\n      this.selectItem(this.selectedIndex, false);\n    }\n\n    this.selectedIndex = +index;\n    this.selectItem(this.selectedIndex, true);\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentSelector = this.current.selectors[\n      this.selectedIndex\n    ];\n\n    this.viewSelectorPropertyPopup();\n  }\n\n\n  //       ......\n  //  selected  ?\n  selectItem(selectedIndex, isSelected = true) {\n    if (isSelected) {\n      this.getRef('$selectorIndex', selectedIndex).addClass(\"selected\");\n    } else {\n      this.getRef('$selectorIndex', selectedIndex).removeClass(\"selected\");\n    }\n\n    if (this.current) {\n      this.current.selectors.forEach((it, index) => {\n        it.selected = index === selectedIndex;\n      });\n    }\n  }  \n\n  viewSelectorPropertyPopup(position) {\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentSelector = this.current.selectors[\n      this.selectedIndex\n    ];\n\n    const back = this.currentSelector;\n\n    const selector = back.selector\n    const properties = back.properties\n\n    this.emit(\"showSelectorPopup\", {\n      position,\n      selector, \n      properties\n    });\n  }\n\n  [SUBSCRIBE('changeSelectorPopup')] (data) {\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentselector = this.current.selectors[\n      this.selectedIndex\n    ];\n\n    if (this.currentSelector) {\n      this.currentSelector.reset(data);\n    }\n\n    this.refresh();\n    this.emit('refreshElement', this.current);\n  }\n\n}","import { LOAD, CLICK, INPUT, DEBOUNCE, SUBSCRIBE } from \"el/sapa/Event\";\n\nimport icon from \"el/editor/icon/icon\";\nimport { SVGFilter } from \"el/editor/property-parser/SVGFilter\";\nimport { uuidShort } from \"el/utils/math\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './SVGFilterAssetsProperty.scss';\n\nexport default class SVGFilterAssetsProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('svgfilter.asset.property.title');\n  }\n\n  initState() {\n    return {\n      mode: 'grid'\n    }\n  }\n\n  getClassName() {\n    return 'elf--svgfilter-assets-property'\n  }\n\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)] () {\n    this.show();\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item svgfilter-assets'>\n        <div class='svgfilter-list' ref='$svgfilterList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$svgfilterList\")]() {\n    var current = this.$selection.currentProject || { svgfilters: [] }\n\n    var svgfilters = current.svgfilters;\n\n    var results = svgfilters.map( (svgfilter, index) => {\n\n      var filters = svgfilter.filters.map(filter => {\n        return SVGFilter.parse(filter);\n      })\n\n      return /*html*/`\n        <div class='svgfilter-item' data-index=\"${index}\">\n          <div class='preview' data-index=\"${index}\">\n            <svg width=\"0\" height=\"0\">\n              <filter id=\"svgfilter-${index}\">\n                ${filters.join('')} \n              </filter>\n            </svg>\n            <div class='svgfilter-view' style='filter: url(#svgfilter-${index});'></div>\n          </div>\n          <div class='title'>\n            <div>\n              <input type='text' class='id' data-key='id' value='${svgfilter.id}' placeholder=\"id\" />\n            </div>\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>${icon.copy}</button>          \n            <button type=\"button\" class='remove'>${icon.remove}</button>\n          </div>\n        </div>\n      `\n    })\n\n    results.push(`<div class='add-svgfilter-item'><button type=\"button\">${icon.add}</button></div>`)\n\n    return results\n  }\n\n \n  executeSVGFilter (callback, isRefresh = true, isEmit = true ) {\n    var project = this.$selection.currentProject;\n\n    if(project) {\n\n      callback && callback (project) \n\n      if (isRefresh) this.refresh();\n      if (isEmit) this.emit('refreshSVGFilterAssets');\n    } else {\n      alert('Please select a project.')\n    }\n  } \n  \n  [CLICK('$svgfilterList .add-svgfilter-item')] () {\n\n    this.executeSVGFilter(project => {\n      project.createSVGFilter({\n        id: uuidShort(),\n        filters: []\n      })\n    })\n  }\n\n  [CLICK('$svgfilterList .remove')] (e) {\n    var $item = e.$dt.closest('svgfilter-item');\n    var index = +$item.attr('data-index');\n\n    this.executeSVGFilter(project => {\n      project.removeSVGFilter(index);\n    })    \n\n  }\n\n\n  [CLICK('$svgfilterList .copy')] (e) {\n    var $item = e.$dt.closest('svgfilter-item');\n    var index = +$item.attr('data-index');\n\n    this.executeSVGFilter(project => {\n      project.copySVGFilter(index);\n    })    \n  }  \n\n  [INPUT('$svgfilterList input')] (e) {\n    var $item = e.$dt.closest('svgfilter-item');\n    var index = +$item.attr('data-index');\n    var obj = e.$dt.attrKeyValue('data-key');\n\n    this.executeSVGFilter(project => {\n      project.setSVGFilterValue(index, obj);      \n\n      this.emit('refreshSVGArea');      \n    }, false)        \n    \n  }\n\n  [CLICK(\"$svgfilterList .preview\")](e) {\n    var $item = e.$dt.closest('svgfilter-item');    \n    var index = +$item.attr('data-index')\n\n    this.state.$item = $item; \n    this.state.$el = e.$dt.$('.svgfilter-view');\n\n    var currentProject = this.$selection.currentProject || { svgfilters: [] } \n\n    var svgfilter = currentProject.svgfilters[index];\n\n    this.emit(\"showSVGFilterPopup\", {\n        changeEvent: 'changeSVGFilterAssets',\n        id: this.id,\n        index,\n        filters: svgfilter.filters \n    });\n  }\n\n\n  [SUBSCRIBE('updateSVGFilterAssets')] (params) {\n    this.executeSVGFilter(project => {\n      project.setSVGFilterValue(params.index, {\n        filters: params.filters\n      });\n\n      // preview  . \n      this.state.$item.$('filter').html(params.filters.join('\\n'))\n\n      this.emit('refreshSVGArea');\n\n    }, false)              \n  }\n\n  [SUBSCRIBE('changeSVGFilterAssets')] (params) {\n    if (params.id === this.id) {\n      this.trigger('updateSVGFilterAssets', params);\n\n    }\n  }\n\n  [SUBSCRIBE('refreshSVGFilterAssets')] () {\n    this.refresh()\n  }\n}","import red from \"./red\";\nimport green from \"./green\";\nimport blue from \"./blue\";\nimport yellow from \"./yellow\";\nimport magenta from \"./magenta\";\nimport cyan from \"./cyan\";\nimport alpha from \"./alpha\";\nimport BlueMagenta2 from \"./BlueMagenta2\";\nimport BlueShadowMagentHightlight from \"./BlueShadowMagentHightlight\";\nimport darken from \"./darken\";\nimport ElimBlue from \"./ElimBlue\";\nimport GrayOnDark from \"./GrayOnDark\";\nimport GrayOnLight from \"./GrayOnLight\";\nimport GrayOnMid from \"./GrayOnMid\";\nimport HardGreen from \"./HardGreen\";\nimport HardYellow from \"./HardYellow\";\nimport IdenticalRedOverlay from \"./IdenticalRedOverlay\";\nimport lighten from \"./lighten\";\nimport lime from \"./lime\";\nimport NoGreenMagenta from \"./NoGreenMagenta\";\nimport NoGreenRed from \"./NoGreenRed\";\nimport peachy from \"./peachy\";\nimport RedOverlay from \"./RedOverlay\";\nimport YesGreenColorizedMagenta from \"./YesGreenColorizedMagenta\";\n\n\nexport default {\n    red,\n    green,\n    blue,\n    yellow,\n    magenta,\n    cyan,\n    alpha,\n    BlueMagenta2,\n    BlueShadowMagentHightlight,\n    darken,\n    ElimBlue,\n    GrayOnDark,\n    GrayOnLight,\n    GrayOnMid,\n    HardGreen,\n    HardYellow,\n    IdenticalRedOverlay,\n    lighten,\n    lime,\n    NoGreenMagenta,\n    NoGreenRed,\n    peachy,\n    RedOverlay,\n    YesGreenColorizedMagenta\n}","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   0   0   0\n0   0   0   1   0\n`","export default `\n0   0   0   0   0\n0   1   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n`","export default `\n0   0   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   1   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n0   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   0   .5  0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   1  .5   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   1   1   0\n0   0   0   1   0 \n`","export default `\n.5   0   0   0   0\n0  .5   0   0   0\n0   0  .5   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   -2   1   0 \n`","export  default `\n0   0   1   0   0\n0   0   1   0   0\n0   0   1   0   0\n0   0   0   1   0  \n`","export  default `\n1   0   0   0   0\n1   0   0   0   0\n1   0   0   0   0\n0   0   0   1   0 \n`","export  default `\n0   1   0   0   0\n0   1   0   0   0\n0   1   0   0   0\n0   0   0   1   0 \n`","export  default `\n1   0   0   0   0\n0   1   0   1   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export  default `\n1   0   0   1   0\n0   1   0   1   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n`","export default `\n1.5   0   0   0   0\n0   1.5   0   0   0\n0   0   1.5   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   2   0   0   0\n0   0   0  .5   0\n0   0   0   1   0 \n`","export default `\n1   1   0   0   0\n0   0   0   0   0\n0   1   1   0   0\n0   0   0   1   0 \n`","export default `\n1   1   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0  .5   0   0   0\n0   0   0  .5   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   1  -1   0\n0   0   0   1   0 \n`","export default `\n1   1   0   0   0\n0   1   0   0   0\n0   1   1   0   0\n0   0   0   1   0 \n`","\nimport { LOAD, INPUT, BIND, CLICK } from \"el/sapa/Event\";\nimport colormatrix from \"./colormatrix\";\nimport { normalize } from \"el/utils/math\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './ColorMatrixEditor.scss';\n\nconst COLUMN = 6; \n\nconst sampleList = Object.keys(colormatrix).map(it => {\n    return {title: it, values: colormatrix[it] }    \n})\n\nexport default class ColorMatrixEditor extends EditorElement {\n\n    initState() {\n        return {\n            values: normalize(this.props.values)\n        }\n    }\n\n    template () {\n        return /*html*/`\n            <div class='elf--color-matrix-editor' >\n                <div ref='$body'></div>\n                <div class='title'> Mix Color Template </div>\n                <div class='color-matrix-template' ref='$sample'></div>\n            </div>\n        `\n    }\n\n    [BIND('$body')] () {\n        return {\n\n            cssText : `\n                display: grid;\n                grid-template-columns: repeat(${COLUMN}, 1fr);\n                grid-column-gap: 2px;\n                grid-row-gap: 2px;\n                text-align: left; \n            `\n        }\n    }\n\n    [LOAD('$sample')] () {\n        return sampleList.map((it, index) =>  {\n            return  /*html*/`<div class='sample-item' title='${it.title}' data-index=\"${index}\">${it.title}</div>`\n        })\n    }\n\n    [CLICK('$sample .sample-item')] (e) {\n        var index = +e.$dt.attr('data-index')\n        var sample = sampleList[index]\n\n        this.updateData({\n            values: normalize(sample.values)\n        })\n\n        this.load('$body');\n    }\n\n    [LOAD('$body')] () {\n\n        var { values } = this.state\n\n        var text = [ 'R', 'G', 'B', 'A']\n\n        var a = values.map( (value, index) => {\n            var h = '' \n            if (index % (COLUMN - 1) === 0) {\n                h = `<div>${text[Math.floor(index/(COLUMN-1))]}</div>`\n            }\n            var result = /*html*/`\n                ${h}\n                <div class='number-editor'>\n                    <input type=\"number\" value=\"${value}\" step=\"0.01\" data-index=\"${index}\" />\n                </div>\n            `\n\n            return result; \n        })\n\n        var header = /*html*/`\n            <div></div>\n            <div>R</div>\n            <div>G</div>\n            <div>B</div>\n            <div>A</div>\n            <div>M</div>\n        `\n\n        return header + a;  \n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.values, this.props.params)\n    }\n\n    [INPUT('$body input')] (e) {\n\n        var $el = e.$dt;\n        var index = +$el.attr('data-index')\n        var value = +$el.value\n\n        this.state.values[index] = value; \n\n        this.updateData();\n\n    }\n}","import { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './FuncFilterEditor.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class FuncFilterEditor extends EditorElement {\n\n    initState() {\n       \n        return {\n            label: this.props.label || '',\n            ...this.parse(this.props.value)\n        }\n    }\n\n    parse (value) {\n        var [type, ...values] = value.split(' ')\n\n        if (type === 'linear') {\n            var [slop, intercept] = values; \n        } else if (type === 'gamma') {\n            var [amplitude, exponent, offset] = values; \n        }\n\n        return {\n            type, \n            values,\n            slop,\n            intercept,\n            amplitude, \n            exponent, \n            offset\n        }\n    }\n\n    template () {\n        return /*html*/`<div class='small-editor func-filter' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { type,label } = this.state\n\n        var hasLabel = !!label ? 'has-label' : ''\n\n        return /*html*/`\n        <object refClass=\"SelectEditor\"  \n            label=\"${label}\" \n            key=\"type\" \n            value=\"${this.state.type}\" \n            options=${variable([\"identity\",\"table\",\"discrete\",\"linear\",\"gamma\"])} \n            onchange=\"changeType\" />\n        <div class='elf--func-filter-editor ${hasLabel}' ref='$container' data-selected-type='${type}'>\n            ${label ? `<label></label>` : '' }\n            <div data-type='identity'>\n            </div>\n            <div data-type='table'>\n                <object refClass=\"TextEditor\" \n                    label='tableValues' \n                    ref='$values' \n                    key='values' \n                    value=\"${this.state.values.join(' ')}\" \n                    onchange=${this.subscribe((key, value) => {\n                        this.updateData({\n                            [key]: value.split(' ') \n                        })\n                    })} />\n            </div>\n            <div data-type='linear'>\n                ${['slop', 'intercept'].map(it => {\n                    return /*html*/`\n                        <div>\n                            <object refClass=\"NumberRangeEditor\"  \n                                label='${it}' \n                                ref='$${it}' \n                                key='${it}' \n                                value=\"${this.state[it]}\" \n                                onchange=${this.subscribe((key, value) => {\n                                    this.updateData({\n                                        [key]: value\n                                    })\n                                })}\n                            />\n                        </div>                    \n                    `\n                }).join('')}\n            </div>\n            <div data-type='gamma'>\n                ${['amplitude', 'exponent', 'offset'].map(it => {\n                    return /*html*/`\n                        <div>\n                            <object refClass=\"NumberRangeEditor\"  \n                                label='${it}' \n                                ref='$${it}' \n                                key='${it}' \n                                value=\"${this.state[it]}\" \n                                onchange=${this.subscribe((key, value) => {\n                                    this.updateData({\n                                        [key]: value\n                                    })\n                                })}\n                                />\n                        </div>                    \n                    `\n                }).join('')}            \n            </div>                                                \n        </div>\n    `\n    }\n\n    [SUBSCRIBE('changeType')] (key, type) {\n        this.updateData({type});        \n        this.refresh();\n    }\n\n    getValue() {\n        switch(this.state.type) {\n        case 'table':\n        case 'discrete':\n            return [this.state.type, ...this.state.values].join(' ')\n        case 'linear':\n            return [this.state.type, this.state.slop, this.state.intercept].join(' ')\n        case 'gamma':\n            return [this.state.type, this.state.amplitude, this.state.exponent, this.state.offset].join(' ')\n        }\n\n        return 'identity'\n    }\n\n    setValue (value) {\n        this.setState({\n            ...this.parse(value)\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params)\n    }\n}","import grayscale from \"./grayscale\";\nimport shadow from \"./shadow\";\nimport innerShadow from \"./inner-shadow\";\nimport stroke from \"./stroke\";\nimport dancingStroke from \"./dancing-stroke\";\n\nexport default {\n    dancingStroke,\n    stroke,\n    grayscale,\n    shadow,\n    innerShadow\n}","export default [\n\n    { \n        type: 'SourceAlpha', \n        id: 'strokeSource', \n        bound: { x: 100, y : 100 }, \n        connected: [{\n            id: 'morphology'\n        }]\n    },\n\n\n    {\n        type: 'Morphology',\n        id: 'morphology',\n        operator: 'dilate',\n        radius: '3 3',\n        bound: { x: 100, y: 200},\n        in: [\n            {id: 'strokeSource' }\n        ],\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n\n    {\n        type: 'Flood',\n        id: 'flood',\n        bound: { x: 100, y: 200},\n        color: '#30597E',\n        opacity: 1,\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n\n    {\n        type: 'Composite',\n        id: 'composite',\n        bound: { x: 400, y: 150 },\n        in: [ \n            {id: 'flood'}, \n            {id: 'morphology'} \n        ] ,\n        operator: 'in',\n        connected: [{\n            id: 'composite2'\n        }]        \n    },\n\n\n    { \n        type: 'SourceAlpha', \n        id: 'strokeSourceAlpha2', \n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'composite2'\n        }]\n    },    \n\n    {\n        type: 'Composite',\n        id: 'composite2',\n        bound: { x: 400, y: 150 },\n        in: [ \n            {id: 'composite'}, \n            {id: 'strokeSourceAlpha2'} \n        ] ,\n        operator: 'out',\n        connected: [{\n            id: 'displacementMap'\n        }]        \n    },    \n\n\n\n    { \n        type: 'Turbulence', \n        id: 'turbulence', \n        filterType: 'fractalNoise',\n        baseFrequency: '0.01 0.02',\n        numOctaves: 1, \n        seed: 0,\n        stitchTiles: 'stitch',\n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'displacementMap'\n        }]\n    },\n\n\n    { \n        type: 'DisplacementMap', \n        id: 'displacementMap', \n        scale: 17,\n        xChannelSelector: 'A',\n        yChannelSelector: 'A',\n        bound: { x: 400, y : 200 }, \n        in: [\n            {id: 'composite2'},\n            {id: 'turbulence'}\n        ],\n        connected: [{\n            id: 'merge'\n        }]\n    },\n\n    { \n        type: 'SourceGraphic', \n        id: 'strokeSourceGraphic', \n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'merge'\n        }]\n    },\n\n    {\n        type: 'Merge',\n        id: 'merge',\n        bound: { x: 500, y: 150 },\n        in: [ {id: 'strokeSourceGraphic'}, {id: 'displacementMap'}]\n    }\n\n]","export default [\n\n    { \n        type: 'SourceAlpha', \n        id: 'strokeSource', \n        bound: { x: 100, y : 100 }, \n        connected: [{\n            id: 'morphology'\n        }]\n    },\n\n\n    {\n        type: 'Morphology',\n        id: 'morphology',\n        operator: 'dilate',\n        radius: '3 3',\n        bound: { x: 100, y: 200},\n        in: [\n            {id: 'strokeSource' }\n        ],\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n\n    {\n        type: 'Flood',\n        id: 'flood',\n        bound: { x: 100, y: 200},\n        color: '#30597E',\n        opacity: 1,\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n\n    {\n        type: 'Composite',\n        id: 'composite',\n        bound: { x: 400, y: 150 },\n        in: [ \n            {id: 'flood'}, \n            {id: 'morphology'} \n        ] ,\n        operator: 'in',\n        connected: [{\n            id: 'merge'\n        }]        \n    },\n\n    { \n        type: 'SourceGraphic', \n        id: 'strokeSourceGraphic', \n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'merge'\n        }]\n    },\n\n    {\n        type: 'Merge',\n        id: 'merge',\n        bound: { x: 500, y: 150 },\n        in: [ {id: 'composite'}, {id: 'strokeSourceGraphic'}]\n    }\n\n]","export default [{\n    type: 'Saturate',\n    values: '0'\n}]","export default [\n\n    { \n        type: 'SourceAlpha', \n        id: 'shadowSource', \n        bound: { x: 100, y : 100 }, \n        connected: [{\n            id: 'offset'\n        }]\n    },\n\n    {\n        type: 'Offset', \n        id: 'offset', \n        bound: { x: 200, y : 100 }, \n        dx: 10, \n        dy: 10, \n        in: [{id: 'shadowSource'} ],\n        connected: [\n            {id: 'blur'}\n        ]\n    },\n\n    {\n        type: 'GaussianBlur',\n        id: 'blur',\n        bound: { x: 300, y: 100 },\n        stdDeviationX: 5,\n        stdDeviationY: 5, \n        in: [{id: 'offset'}],\n        connected: [{\n            id: 'composite'\n        }]\n    },\n\n    {\n        type: 'Flood',\n        id: 'flood',\n        bound: { x: 100, y: 200},\n        color: 'black',\n        opacity: 0.7,\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n    {\n        type: 'Composite',\n        id: 'composite',\n        bound: { x: 400, y: 150 },\n        in: [ \n            {id: 'flood'}, \n            {id: 'blur'} \n        ] ,\n        operator: 'in',\n        connected: [{\n            id: 'merge'\n        }]        \n    },\n\n\n    { \n        type: 'SourceAlpha', \n        id: 'shadowSource2', \n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'merge'\n        }]\n    },\n\n    {\n        type: 'Merge',\n        id: 'merge',\n        bound: { x: 500, y: 150 },\n        in: [ {id: 'composite'}, {id: 'shadowSource2'}]\n    }\n\n]","export default [\n\n    {\n        type: 'Flood',\n        id: 'flood',\n        bound: { x: 100, y: 200},\n        color: 'black',\n        opacity: 1,\n        connected: [\n            {id: 'composite1'}\n        ]\n    },\n\n\n    { \n        type: 'SourceAlpha', \n        id: 'shadowSource', \n        bound: { x: 100, y : 100 }, \n        connected: [{\n            id: 'composite1'\n        }]\n    },\n\n    {\n        type: 'Composite',\n        id: 'composite1',\n        bound: { x: 200, y: 150 },\n        in: [ \n            {id: 'flood'}, \n            {id: 'shadowSource'}\n        ] ,\n        operator: 'out',\n        connected: [{\n            id: 'offset'\n        }]        \n    },\n\n    {\n        type: 'Offset', \n        id: 'offset', \n        bound: { x: 300, y : 150 }, \n        dx: 4, \n        dy: 4, \n        in: [\n            {id: 'composite1'}\n        ],\n        connected: [\n            {id: 'blur'}\n        ]\n    },\n\n\n    {\n        type: 'GaussianBlur',\n        id: 'blur',\n        bound: { x: 400, y: 150 },\n        stdDeviationX: 4,\n        stdDeviationY: 4, \n        edge: 'none',\n        in: [\n            {id: 'offset'} \n        ],\n        connected: [{\n            id: 'composite2'\n        }]\n    },\n\n\n\n    { \n        type: 'SourceAlpha', \n        id: 'shadowSource2', \n        bound: { x: 400, y : 250 }, \n        connected: [{\n            id: 'composite2'\n        }]\n    },\n\n\n    {\n        type: 'Composite',\n        id: 'composite2',\n        bound: { x: 500, y: 150 },\n        in: [ \n            {id: 'blur'}, \n            {id: 'shadowSource2'}\n        ] ,\n        operator: 'out',\n        connected: [{\n            id: 'merge'\n        }]        \n    },    \n\n\n\n    { \n        type: 'SourceGraphic', \n        id: 'shadowSource3', \n        bound: { x: 500, y : 250 }, \n        connected: [{\n            id: 'merge'\n        }]\n    },    \n\n    {\n        type: 'Merge',\n        id: 'merge',\n        bound: { x: 600, y: 150 },\n        in: [ \n            {id: 'composite2'}, \n            {id: 'shadowSource3'}\n        ]\n    }\n\n]","import icon, { iconUse } from \"el/editor/icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  POINTERSTART,\n  DRAGOVER,\n  PREVENT,\n  DROP,\n  DRAGSTART,\n  SUBSCRIBE,\n  SUBSCRIBE_SELF\n} from \"el/sapa/Event\";\n\nimport { SVGFilter, SVGFilterSpecList } from \"el/editor/property-parser/SVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport PathStringManager from \"el/editor/parser/PathStringManager\";\nimport svgFilterPreset from \"./editor/svg-filter-preset\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './SVGFilterEditor.scss';\nimport { mapjoin, OBJECT_TO_CLASS, repeat } from \"el/utils/func\";\nimport { clone, isFunction, keyMapJoin } from \"el/sapa/functions/func\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nconst filterTypes = [\n  {label: 'GRAPHIC REFERENCES', items : [\n    {label: 'Source Graphic', value:\"SourceGraphic\"},\n    {label: 'Source Alpha', value:\"SourceAlpha\"},\n    {label: 'Background Image', value:\"BackgroundImage\"},\n    {label: 'Background Alpha', value:\"BackgroundAlpha\"},\n    {label: 'Fill Paint', value:\"FillPaint\"},                \n    {label: 'Stroke Paint', value:\"StrokePaint\"},\n  ]},\n  {label: 'SOURCES', items : [\n    {label: 'Flood', value:\"Flood\"},\n    {label: 'Turbulence', value:\"Turbulence\"},\n    {label: 'Image', value:\"Image\"}\n  ]},  \n  {label: 'MODIFIER', items : [\n    {label: 'Color Matrix', value:\"ColorMatrix\"},\n    {label: 'Saturate', value:\"Saturate\"},\n    {label: 'HueRotate', value:\"HueRotate\"},\n    {label: 'LuminanceToAlpha', value:\"LuminanceAlpha\"},\n    {label: 'Drop Shadow', value:\"DropShadow\"},\n    {label: 'Morphology', value:\"Morphology\"},\n    {label: 'Convolve Matrix', value:\"ConvolveMatrix\"},\n    {label: 'Offset', value:\"Offset\"},\n    {label: 'Gaussian Blur', value:\"GaussianBlur\"},\n    {label: 'Tile', value:\"Tile\"}\n  ]},    \n  {label: 'LIGHTING', items : [\n    {label: 'Specular Lighting', value:\"SpecularLighting\"},\n    {label: 'Diffuse Lighting', value:\"DiffuseLighting\"},\n    {label: 'Point Light', value:\"PointLight\"},\n    {label: 'Spot Light', value:\"SpotLight\"},\n    {label: 'Distant Light', value:\"DistantLight\"}\n  ]},     \n  {label: 'COMBINERS', items : [\n    {label: 'Blend', value:\"Blend\"},\n    {label: 'Composite', value:\"Composite\"},\n    {label: 'Merge', value:\"Merge\"},\n    {label: 'DisplacementMap', value:\"DisplacementMap\"}\n  ]},        \n]\n\nconst SVGFilterTemplateList = [\n  {\n    label: 'Template', items : [\n      {label: 'Grayscale', value: 'grayscale'},\n      {label: 'Shadow', value: 'shadow'},\n      {label: 'Inner Shadow', value: 'innerShadow'},      \n      {label: 'Stroke', value: 'stroke'},\n      {label: 'Dancing Stroke', value: 'dancingStroke'}\n    ]\n  }\n];\n\nfunction getIcon(type) {\n  switch(type) {\n  case 'SpecularLighting': return iconUse(\"specular\");\n  case 'DiffuseLighting': return iconUse(\"diffuse\");\n  case 'SourceGraphic': \n  case 'SourceAlpha': \n    return iconUse(\"image\");\n  case 'BackgroundImage':\n  case 'BackgroundAlpha':\n    return iconUse(\"outline_image\");\n  case 'Flood': return iconUse(\"palette\");\n  case 'Image': return iconUse(\"landscape\");\n  case 'GaussianBlur': return iconUse(\"blur\");\n  case 'ColorMatrix': return iconUse(\"blur_linear\");\n  case 'Turbulence': return iconUse(\"waves\");\n  case 'Saturate': return iconUse(\"vintage\");\n  case 'HueRotate': return iconUse(\"looks\");\n  case 'LuminanceAlpha': return iconUse(\"opacity\");\n  case 'DropShadow': return iconUse(\"shadow\");\n  case 'Morphology': return iconUse(\"broken_image\");\n  case 'ConvolveMatrix': return iconUse(\"camera_roll\");\n  case 'Offset': return iconUse(\"transform\");\n  case 'Tile': return iconUse(\"view_comfy\");\n  case 'Blend': return iconUse(\"gradient\");\n  case 'Composite': return iconUse(\"merge\");\n  case 'Merge': return iconUse(\"settings_input_component\");\n  case 'DisplacementMap': return iconUse(\"texture\");\n  }\n\n  return ''; \n}\n\n\nfunction getSourceTypeString(type) {\n  switch(type) {\n  case 'SourceGraphic': \n  case 'SourceAlpha': \n  case 'BackgroundImage':\n  case 'BackgroundAlpha':\n  case 'FillPaint':\n  case 'StrokePaint':\n    return 'graphic';    \n\n  case 'Flood': \n  case 'Turbulence':   \n  case 'Image': \n    return 'source';\n  case 'GaussianBlur': \n  case 'ColorMatrix': \n  case 'Saturate': \n  case 'HueRotate': \n  case 'LuminanceAlpha': \n  case 'DropShadow': \n  case 'Morphology': \n  case 'ConvolveMatrix': \n  case 'Offset': \n  case 'Tile': \n    return 'modifier';    \n  case 'SpecularLighting':\n  case 'DiffuseLighting':\n  case 'SpotLight':\n  case 'PointLight':\n  case 'DistantLight':\n    return 'lighting';            \n  case 'Blend': \n  case 'Composite': \n  case 'Merge': \n  case 'DisplacementMap': \n    return 'combiner';\n  }\n\n  return ''; \n}\n\n\nconst width = 40; \nconst half_height = 20; \n\nconst connectedXAxis = {\n  \"1\" : [ width + 5 ]\n}\n\nconst connectedYAxis = {\n  \"1\" : [ half_height ]\n}\n\nconst inXAxis = {\n  \"1\": [ -7 ] ,\n  \"2\": [ -7] ,\n  \"3\": [ -7] ,  \n  \"4\": [ -7] ,    \n  \"5\": [ -7]  \n}\n\nlet inYAxis = {\n  \"1\": [0] ,\n  \"2\": [-7, 7] ,\n  \"3\": [-14, 0, 14] ,  \n  \"4\": [-21, -7, 7, 21] ,    \n  \"5\": [-28, -14, 0, 14, 28]\n}\n\nObject.keys(inYAxis).forEach(len => {\n  inYAxis[len] = inYAxis[len].map(it => it + half_height)\n})\n\nexport default class SVGFilterEditor extends EditorElement {\n\n  makeFilterSelect () {\n    return /*html*/`\n  \n    <div class='filter-item-list' ref=\"$filterSelect\">\n  \n      ${mapjoin(filterTypes, f => {\n        return /*html*/`\n          <div class='group' label=\"${this.$i18n(f.label)}\">\n            ${mapjoin(f.items, i => {\n              return /*html*/ `\n                <div class='item' draggable=\"true\" value=\"${i.value}\">\n                  <span class='icon'>${getIcon(i.value)}</span>\n                  ${this.$i18n(i.label)}\n                </div>\n                `\n            })}\n          </div>\n        `\n      })}\n    </div>\n    `\n  }\n  \n  \n  makeFilterTemplateSelect () {\n    return /*html*/`\n  \n    <div class='filter-item-list' ref=\"$filterTemplateSelect\">\n  \n      ${mapjoin(SVGFilterTemplateList, f => {\n        return /*html*/`\n          <div class='group' label=\"${this.$i18n(f.label)}\">\n            ${mapjoin(f.items, i => {\n              return /*html*/ ` <div class='item' draggable=\"true\" value=\"${i.value}\">${this.$i18n(i.label)}</div>`\n            })}\n          </div>\n        `\n      })}\n    </div>\n    `\n  }\n  \n\n  initState() {\n    var filters = this.parseFilter(this.props.value || [])\n\n    return {\n      filters,\n      selectedTabIndex: 1,\n      selectedIndex: -1,\n      selectedFilter: null\n    }\n  }\n\n\n\n  template() {\n    return /*html*/`\n      <div class='elf--svg-filter-editor filter-list'>\n        <div class='left'>\n          <div class=\"tab number-tab\" ref=\"$tab\">\n            <div class=\"tab-header full\" ref=\"$header\">\n              <div class=\"tab-item selected\" data-value=\"1\" title='Item'>\n                <label class='icon'>${this.$i18n('svg.filter.editor.tab.filter')}</label>\n              </div>\n              <div class=\"tab-item\" data-value=\"2\" title=\"Preset\">\n                <label class='icon'>${this.$i18n('svg.filter.editor.tab.preset')}</label>\n              </div>\n              <div class=\"tab-item\" data-value=\"3\" title=\"Asset\">\n                <label class='icon'>${this.$i18n('svg.filter.editor.tab.asset')}</label>\n              </div>\n            </div>\n            <div class=\"tab-body\">\n              <div class=\"tab-content scrollbar selected\" data-value=\"1\">\n                ${this.makeFilterSelect()}\n              </div>\n              <div class=\"tab-content  scrollbar\" data-value=\"2\">\n                ${this.makeFilterTemplateSelect()}\n              </div>\n                     \n            </div>\n          </div>\n        </div>\n        <div  class='center'>\n          <div class='graph'>\n            <div class='drag-line-panel' ref='$dragLinePanel'></div>          \n            <div class='connected-line-panel' ref='$connectedLinePanel'></div>\n            <div class='graph-panel' ref='$graphPanel' droppable=\"true\"></div>\n          </div>\n        </div>\n        <div class='right'>\n          <div class='filter-list' ref='$filterList'></div>\n        </div>\n      </div>`;\n  }\n\n\n  [CLICK(\"$header .tab-item:not(.empty-item)\")](e) {\n    var selectedTabIndex = +e.$dt.attr('data-value')\n    if (this.state.selectedTabIndex === selectedTabIndex) {\n      return; \n    }\n\n    this.$el.$$(`[data-value=\"${this.state.selectedTabIndex}\"]`).forEach(it => it.removeClass('selected'))\n    this.$el.$$(`[data-value=\"${selectedTabIndex}\"]`).forEach(it => it.addClass('selected'))\n    this.setState({ selectedTabIndex }, false);\n  }  \n\n  [DRAGSTART('$filterSelect .item')] (e) {\n    var filter = e.$dt.attr('value');\n\n    e.dataTransfer.setData('filter/type', filter);\n  }\n\n  [DRAGOVER('$connectedLinePanel') + PREVENT] () {}\n  [DROP('$connectedLinePanel') + PREVENT] (e) {\n\n    var offset  = {x: e.offsetX, y: e.offsetY  }\n\n    var filterType = e.dataTransfer.getData('filter/type')\n\n    this.makeFilterNode(filterType, { bound: offset })\n  }\n\n  makeFilterNode  (filterType, opt = {}) {\n    this.state.filters.push(this.makeFilter(filterType, opt))\n    this.state.selectedIndex = this.state.filters.length - 1; \n    this.state.selectedFilter = this.state.filters[this.state.selectedIndex]; \n\n    this.refresh();\n\n    this.modifyFilter()    \n  }\n\n  applyTemplate  (templateType) {\n\n    var template = svgFilterPreset[templateType]\n\n    if (template) {\n      this.setState({\n        selectedIndex: -1,\n        selectedFilter: null,\n        filters: this.parseFilter(template)\n      }, false)\n\n      this.refresh()\n\n      this.modifyFilter()    \n    }\n\n  }\n\n  getSpec(filterType) {\n    return SVGFilterSpecList[filterType];\n  }\n\n  makeFilterEditorTemplate (s, filter, key) {\n\n    var objectId = `${filter.type}${key}${this.state.selectedIndex}${Date.now()}`\n\n\n    if (s.inputType === 'color-matrix') {\n      return /*html*/`\n        <div>\n          <object refClass=\"ColorMatrixEditor\" \n            ref='$colorMatrix${objectId}' \n            label=\"${s.title}\"\n            key=\"${key}\"       \n            column='${s.column}' \n            values='${filter[key].join(' ')}' \n            onchange=\"changeRangeEditor\"\n          />\n        </div>\n        `\n    } else if (s.inputType === 'input-array') {\n      return /*html*/`\n        <div>\n          <object refClass=\"InputArrayEditor\" \n            ref='$inputArray${objectId}' \n            label=\"${s.title}\"\n            key=\"${key}\"       \n            column-label=\"R,G,B,A,M\",\n            row-label=\"R,G,B,A\",\n            column='${s.column}' \n            values='${filter[key].join(' ')}' \n            onchange=\"changeRangeEditor\"\n          />\n        </div>\n        `\n\n    } else if (s.inputType === 'blend') {\n\n      return /*html*/`\n        <div>\n          <object refClass=\"BlendSelectEditor\" \n            ref='$blend${objectId}' \n            label=\"${s.title}\"\n            key=\"${key}\"\n            value='${filter[key].toString()}' \n            onchange=\"changeRangeEditor\"             \n          />\n        </div>\n        `\n\n    } else if (s.inputType === 'select') {\n\n        var options = s.options\n  \n        if (isFunction(s.options)){\n          options = s.options(this.state.filters)\n        }\n  \n        return /*html*/`\n          <div>\n            <object refClass=\"SelectEditor\"  \n              ref='$select${objectId}' \n              label=\"${s.title}\"\n              options='${options}' \n              key=\"${key}\"\n              value='${filter[key].toString()}' \n              onchange=\"changeRangeEditor\"             \n            />\n          </div>\n          `        \n    } else if (s.inputType === 'text') {\n      return /*html*/`\n        <div>\n          <object refClass=\"TextEditor\" \n            ref='$text${objectId}' \n            label=\"${s.title}\"\n            key=\"${key}\"\n            value='${filter[key].toString()}' \n            onchange=\"changeTextEditor\"\n          />\n        </div>\n        `\n    } else if (s.inputType === 'number-range') {  \n      return /*html*/` \n        <div>\n          <object refClass=\"NumberRangeEditor\"  \n            ref='$numberrange${objectId}' \n            label=\"${s.title}\" \n            layout='block'             \n            min=\"${s.min}\"\n            max=\"${s.max}\"\n            step=\"${s.step}\"\n            key=\"${key}\" \n            value=\"${filter[key].toString()}\" \n            onchange=\"changeRangeEditor\" \n          />\n        </div>\n      `\n    } else if (s.inputType === 'color') {\n      return /*html*/`\n        <div>\n          <object refClass=\"ColorViewEditor\" \n            ref='$colorview${objectId}' \n            label=\"${s.title}\" \n            key=\"${key}\"\n            value=\"${filter[key].toString()}\" \n            onchange=${this.subscribe((key, color, params) => {\n              this.trigger('changeRangeEditor', key, color, params)\n            })}\n          />\n        </div>\n      `\n    } else if (s.inputType === 'FuncFilter') {\n      return /*html*/`\n        <div>\n          <object refClass=\"FuncFilterEditor\" \n            ref='$funcFilter${objectId}' \n            label=\"${s.title}\" \n            key=\"${key}\"\n            value=\"${filter[key].toString()}\" \n            onchange=\"changeFuncFilterEditor\" \n          />\n        </div>\n      `  \n    } else if (s.inputType === 'ImageSelectEditor') {\n      return /*html*/`\n        <div>\n          <object refClass=\"ImageSelectEditor\" \n            ref='$imageSelect${objectId}' \n            label=\"${s.title}\" \n            key=\"${key}\"\n            value=\"${filter[key].toString()}\" \n            onchange=\"changeRangeEditor\" \n          />\n        </div>\n      `            \n    }\n\n    return /*html*/`\n      <div>\n        <object refClass=\"RangeEditor\"  \n          ref='$range${objectId}' \n          layout='block' \n          calc='false' \n          label=\"${s.title}\" \n          min=\"${s.min}\"\n          max=\"${s.max}\"\n          step=\"${s.step}\"\n          key=\"${key}\" \n          value=\"${filter[key].toString()}\" \n          units=\"${s.units.join(',')}\" \n          onchange=\"changeRangeEditor\" \n        />\n      </div>\n    `\n  }\n\n  makeOneFilterTemplate(spec, filter) {\n  return /*html*/`\n    <div class=\"filter-item\">\n      <div class=\"title\">\n        <label>${filter.type}</label>\n        <div class=\"filter-menu\">\n          <button type=\"button\" class=\"del\">${iconUse(\"remove\")}</button>\n        </div>\n      </div>\n      <div class=\"filter-ui\">\n        ${keyMapJoin(spec, (key, value) => {\n          return this.makeFilterEditorTemplate(value, filter, key);\n        })}\n\n      </div>\n    </div>\n  `;\n  }\n\n  makeFilterTemplate(filter) {\n    return this.makeOneFilterTemplate(\n      this.getSpec(filter.type),\n      filter\n    );\n  }\n\n  [LOAD(\"$filterList\")]() {\n\n    if (this.state.selectedFilter  && this.state.selectedFilter.isSource() === false) {\n      return this.makeFilterTemplate(this.state.selectedFilter);\n    }\n\n    return '';\n  }\n\n  modifyFilter () {\n\n    this.state.filters.forEach(f => {\n      if (f.isLight() && f.connected.length) {\n        f.connected.forEach(c => {\n          this.state.filters.filter(s => s.id === c.id).forEach(lightManager => {\n            lightManager.reset({\n              lightInfo: f.toLightString()\n            })\n          })\n        })\n      }\n    })\n\n    this.parent.trigger(this.props.onchange, this.props.key, this.state.filters)\n  }\n\n  parseFilter (list = []) {\n    return list.map(it => SVGFilter.parse(it))\n  }\n\n  makeFilter(type, opt = {}) {\n    return SVGFilter.parse({ ...opt, type });\n  }\n\n\n  [CLICK(\"$filterSelect .item[value]\")](e) {\n    var filterType = e.$dt.attr('value');\n\n    this.makeFilterNode(filterType);\n  }\n\n  [CLICK(\"$filterTemplateSelect .item[value]\")](e) {\n    var templateType = e.$dt.attr('value');\n\n    this.applyTemplate(templateType);\n  }\n\n\n  [CLICK(\"$filterList .filter-menu .del\")](e) {\n    this.removeFilter(this.state.selectedFilter.id);\n  }\n\n  [LOAD('$graphPanel')] () {\n    return this.makeGraphPanel();\n  }\n\n  selectFilter (index) {\n    this.setState({\n      selectedIndex: index,\n      selectedFilter: this.state.filters[index]\n    }, false)\n    this.load('$filterList')\n  }\n\n  [POINTERSTART('$graphPanel .filter-node') + MOVE()  + END()] (e) {\n    this.$target = e.$dt;\n    this.$point = null; \n    this.pointType = 'object';\n    this.pointIndex = 0; \n    var rect = this.refs.$graphPanel.rect();\n    this.rect = rect;  \n\n    var index = +this.$target.attr('data-index');    \n    this.selectFilter(index);\n    this.$target.onlyOneClass('selected');\n\n    var  pointer = Dom.create(e.target);\n\n    if (pointer.hasClass('out')) {\n      this.$point = pointer;\n      this.pointType = 'out';\n      this.pointIndex = 0; \n    } else if (pointer.hasClass('in')) {\n      this.$point = pointer;\n      this.pointType = 'in'; \n      this.pointIndex = +pointer.attr('data-index');      \n    } else {\n      var filter = this.state.selectedFilter\n      this.startXY = clone(filter.bound);\n    }\n\n    if (this.pointType === 'in' || this.pointType === 'out') {\n      var inRect = pointer.rect()\n      var x = inRect.x - rect.x;\n      var y = inRect.y - rect.y;\n\n      var centerX = x + inRect.width/2;\n      var centerY = y + inRect.height/2;\n\n      this.startXY = {x: centerX, y: centerY };\n    }\n\n    this.startXY.dx = 0\n    this.startXY.dy = 0; \n\n    this.load('$dragLinePanel');\n\n  }\n\n  [LOAD('$dragLinePanel')] () {\n    if (this.pointType === 'in' || this.pointType === 'out') {\n      var {x, y, dx, dy } = this.startXY;\n      return /*html*/`\n      <svg>\n        <path \n          class=\"drag-line\"\n          fill=\"transparent\"\n          stroke-width=\"1\"\n          d=\"\n            M${x},${y}\n            L${x + dx},${y + dy} \n            Z\n          \"\n        />\n      </svg>\n      `\n    } else {\n      return ''; \n    }\n  }\n\n  makeConnectedPath (points) {\n\n    var manager = new PathStringManager();\n\n    var first = points[0];\n    var last = points[points.length-1]\n\n    if (!first) return '';\n    if (!last) return '';\n\n    var dist = Math.abs(first.x - last.x)/2;\n\n    manager\n    .M(first)\n    .C({x: first.x + dist, y: first.y}, {x: last.x - dist, y: last.y}, last)\n\n    return manager.d;\n  }\n\n  createPath (sourceItem, connectedInfo) {\n    \n    if (connectedInfo.path) {\n      return connectedInfo.path; \n    }\n\n    var sourceX = sourceItem.bound.x + connectedXAxis['1'][0]; \n    var sourceY = sourceItem.bound.y + connectedYAxis['1'][0]; \n\n    var target = this.state.filters.map((it, index) => {\n      return {it, index}\n    }).find(it => {\n      if (!it) return false; \n      if (!it.it) return false;       \n      return it && it.it.id === connectedInfo.id\n    });\n\n\n    var len = `${target.it.getInCount()}`;\n    var source = target.it.in.map((it, index) => {\n      return { it, index}\n    }) .find((it) => {\n      if (!it) return false; \n      if (!it.it) return false; \n      return it.it.id === sourceItem.id\n    });\n    \n    if (!source) {\n      return [] \n    }\n\n    var index = source.index;\n    var targetX = target.it.bound.x + inXAxis[len][0];\n    var targetY = target.it.bound.y + inYAxis[len][index];    \n\n    return [{x: sourceX, y: sourceY}, {x: targetX, y: targetY}]\n  }\n\n  [LOAD('$connectedLinePanel')] () {\n\n    return /*html*/`\n      <svg>\n        ${this.state.filters.map(it => {\n          return it.connected.map(connectedItem => {\n\n            var path = this.createPath(it, connectedItem);\n            var sourceType = getSourceTypeString(it.type);\n\n            return /*html*/`\n              <path \n                class=\"connected-line\"\n                data-source-type=\"${sourceType}\"\n                d=\"${this.makeConnectedPath(path)}\"\n              />\n\n              ${path.length && /*html*/`\n                <circle \n                  data-source-type=\"${sourceType}\"\n                  data-target-id=\"${connectedItem.id}\"\n                  data-source-id=\"${it.id}\"\n                  class=\"connected-remove-circle\"\n                  cx=\"${(path[0].x + path[1].x) / 2}\"\n                  cy=\"${(path[0].y + path[1].y) / 2}\"\n                />\n              `}\n              \n            `\n          }).join('');\n        }).join('')}\n      </svg>\n    `\n  }\n\n  [CLICK('$connectedLinePanel .connected-remove-circle')] (e) {\n    var  [tid, sid] = e.$dt.attrs('data-target-id', 'data-source-id');\n\n    var filters = this.state.filters; \n    filters.filter(it => it.id === sid).forEach(it => {\n      it.connected = it.connected.filter(c => c.id != tid);\n    });\n\n    filters.filter(it => it.id === tid).forEach(it => {\n      it.in = it.in.map(inObject => {\n        if (inObject && inObject.id ==  sid) {\n          return null; \n        }\n\n        return inObject; \n      })\n    });\n\n    this.refresh();\n\n    this.modifyFilter();    \n  }\n\n  getCenterXY ($target) {\n    var inRect = $target.rect()\n    var x = inRect.x - this.rect.x;\n    var y = inRect.y - this.rect.y;\n\n    var centerX = x + inRect.width/2;\n    var centerY = y + inRect.height/2;\n\n    return {x: centerX, y: centerY}\n  }\n\n  end (dx, dy) {\n\n    if (this.pointType === 'in'|| this.pointType === 'out') {\n\n      this.startXY.dx = dx; \n      this.startXY.dy = dy; \n      var filter = this.state.selectedFilter;\n\n      var e = this.$config.get('bodyEvent')      \n\n      var $target = Dom.create(e.target);\n      var $targetNode = $target.closest('filter-node');\n      \n      if (this.pointType === 'out') {\n\n        if ($target.hasClass('in')) {\n          var targetFilter = this.state.filters[+$targetNode.attr('data-index')]\n          if (targetFilter) {\n\n            if (!targetFilter.hasLight() && filter.isLight()) {\n              // light  lighting    .  \n            } else {\n              var targetIndex = +$target.attr('data-index');\n              if (!targetFilter.in[targetIndex]) {\n                targetFilter.setIn(targetIndex, filter);\n                filter.setConnected(targetFilter)\n              }\n\n            }\n\n          }\n        }\n      } else if (this.pointType === 'in') {\n        if ($target.hasClass('out'))  {        \n          var targetFilter = this.state.filters[+$targetNode.attr('data-index')]\n          if (targetFilter) {\n\n            if (filter.hasLight() && !targetFilter.isLight()) {\n              // lighting   light   . \n            } else {\n              if (!filter.in[this.pointIndex]) {\n                filter.setIn(this.pointIndex, targetFilter);\n                targetFilter.setConnected(filter)\n              }\n\n            }\n                      \n          }\n        }\n      }\n\n      this.pointType = '';\n  \n    }\n\n    this.load('$dragLinePanel');\n    this.load('$connectedLinePanel');\n\n    this.modifyFilter();    \n  }\n\n  move (dx, dy) {\n\n\n    var filter = this.state.selectedFilter;\n    if (filter) {\n      this.startXY.dx = dx; \n      this.startXY.dy = dy; \n\n      if (this.pointType === 'in') {\n        this.load('$dragLinePanel')\n      } else if (this.pointType === 'out') {\n        this.load('$dragLinePanel')\n      } else {\n\n        filter.reset({\n          bound: { x: this.startXY.x + dx, y : this.startXY.y + dy }\n        })\n  \n        this.$target.css({\n          left: Length.px(filter.bound.x),\n          top: Length.px(filter.bound.y),\n        })\n        \n        this.load('$connectedLinePanel');\n      }\n\n    }\n\n  }\n\n  makeGraphPanel() {\n\n    return this.state.filters.map((it, index) => {\n\n      return /*html*/`\n        <div class='filter-node ${OBJECT_TO_CLASS({\n          'selected': index ===  this.state.selectedIndex\n        })}' data-type=\"${it.type}\" data-index=\"${index}\" data-filter-id=\"${it.id}\" style='left: ${it.bound.x}px;top: ${it.bound.y}px;'>\n          <div class='label'>${this.$i18n(it.type)}</div>\n          <div class='remove'>${iconUse(\"close\")}</div>\n          <div class='preview' data-source-type=\"${getSourceTypeString(it.type)}\" data-filter-type='${it.type}'>${getIcon(it.type)}</div>\n          <div class='in-list'>\n            ${repeat(it.getInCount()).map((itIn, inIndex) => {\n              return /*html*/`<div class='in' data-index='${inIndex}'></div>`\n            }).join('')}\n          </div>\n          \n          <div class='out' data-index=\"0\">${iconUse(\"chevron_right\")}</div>\n          ${it.hasLight() ? /*html*/`<div class='light'  data-index=\"0\"></div>` : ''}\n        </div>\n      `\n    })\n  }\n\n\n  [SUBSCRIBE_SELF('changeFuncFilterEditor')] (key, value) {\n    var filter =  this.state.selectedFilter;\n    if (filter) {\n      filter.reset({\n        [key]: value\n      })\n    }\n  \n    this.modifyFilter();\n  }    \n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    var filter =  this.state.selectedFilter;\n    if (filter) {\n      filter.reset({\n        [key]: value\n      })\n    }\n  \n    this.modifyFilter();\n  }  \n\n  [SUBSCRIBE_SELF('changeTextEditor')] (key, value) {\n    var filter =  this.state.selectedFilter;\n    if (filter) {\n      filter.reset({\n        [key]: value\n      })\n    }\n  \n    this.modifyFilter();\n  }\n\n  removeFilter (id) {\n\n    var filters  = this.state.filters.filter(it => it.id != id);\n    filters.forEach(it => {\n      it.connected = it.connected.filter(c => c.id != id);\n      it.in = it.in.filter(c => c.id != id);\n    })\n\n    if (this.state.selectedFilter.id === id) {\n      this.state.selectedFilter = null; \n      this.state.selectedIndex = -1; \n    }\n\n    this.setState({\n      filters\n    })\n\n    this.modifyFilter();\n  }\n\n  [CLICK('$graphPanel .filter-node .remove')] (e) {\n    var $target = e.$dt.closest('filter-node');\n    var index = +$target.attr('data-index');\n    var f = this.state.filters[index]\n\n    this.removeFilter(f.id);\n  }\n}","\nimport { LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport { SVGFilter } from \"el/editor/property-parser/SVGFilter\";\nimport { isNotUndefined } from \"el/sapa/functions/func\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './SVGFilterPopup.scss';\nimport { variable } from \"el/sapa/functions/registElement\";\n\nexport default class SVGFilterPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('svgfilter.popup.title');\n  }\n\n\n  getClassName() {\n    return 'transparent'\n  }\n\n  initState() {\n    return {\n      changeEvent: 'changeSVGFilterPopup',\n      id: '',\n      preview: true, \n      filters: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.state.changeEvent, this.state);\n  }\n\n  getBody() {\n    return /*html*/`\n    <div class='elf--svg-filter-popup' ref='$popup'>\n      <div class=\"box\">\n        <div class='editor' ref='$editor'></div>\n      </div>\n    </div>`;\n  }\n\n  [LOAD('$editor')] () {\n\n    return /*html*/`\n      <object refClass=\"SVGFilterEditor\" \n        ref='$filter' \n        title='Filter Type' \n        key=\"filter\" \n        value=\"${variable(this.state.filters)}\"\n        onchange=${this.subscribe((key, filters) => {\n            this.updateData({\n              filters\n            })\n          })\n        } \n      />\n    `\n\n  }\n  \n  [SUBSCRIBE(\"showSVGFilterPopup\")](data) {\n    data.filters = data.filters.map( it => {\n      return SVGFilter.parse(it);\n    })\n\n    data.preview = isNotUndefined(data.preview) ? data.preview : true; \n\n    this.setState(data);\n\n    this.show(1000);\n  }\n\n  [SUBSCRIBE(\"hideSVGFilterPopup\")]() {\n    this.$el.hide();\n  }\n}","import { LOAD, CHANGE, BIND, DEBOUNCE, CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './SVGFilterSelectEditor.scss';\n\nexport default class SVGFilterSelectEditor extends EditorElement {\n\n    initState() {\n        var value = this.props.value;\n\n        return {\n            options: [],\n            label: this.props.label || '',\n            value\n        }\n    }\n\n    template() {\n        var { label } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='elf--svg-filter-select-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }\n                <select ref='$options'></select>\n                <button type='button' class='open thin' ref='$open' title='Open SVG Filter Editor'>${icon.fullscreen}</button>\n                <button type='button' class='remove thin' ref='$remove' title='Remove'>${icon.remove}</button>\n            </div>\n        `\n    }\n\n\n    [CLICK('$remove')] (e) {\n        this.updateData({\n            value: ''\n        })\n    }\n\n    [CLICK('$open')] (e) {\n        var value = this.state.value;\n\n        if (value.includes('id')) {\n            var currentProject = this.$selection.currentProject\n            var index = currentProject.getSVGFilterIndex(value)\n\n            if (index > -1) {\n                this.trigger('openSVGFilterPopup', index);\n            }\n        }\n    }\n\n    getValue () {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.setState({ value })\n    }\n\n    refresh(reload = false) {\n        this.load();\n    }\n\n    [BIND('$options')] () {\n        return {\n            'data-count': this.state.options.length.toString()\n        }\n    }\n\n    [LOAD('$options')] () {\n\n\n\n        var current = this.$selection.currentProject;\n        var options = '' \n        \n        if (current) {\n          options = current.svgfilters.map(it => it.id)\n          options = options.length ? ',' + options.join(',') : '';\n        }\n\n        options += ',-,new';\n\n        options = options.split(',');\n\n        var arr = options.map(it => {\n\n\n            var value = it; \n            var label = it; \n\n            if (value.includes(\":\")) {\n                var [value, label] = value.split(':')\n            }\n\n            if (label === '') {\n                label = this.props['none-value'] ? this.props['none-value'] : ''\n            } else if (label === '-') {\n                label = '----------'\n                value = ''; \n            }\n            var selected = value === this.state.value ? 'selected' : '' \n            return `<option ${selected} value=\"${value}\">${label}</option>`\n        })\n\n        return arr; \n    }\n\n    setOptions (options = '') {\n        this.setState({ \n            options: options.split(this.state.splitChar).map(it => it.trim()) \n        })\n    }\n\n    sendMessage (type) {\n        if (type === 'new') {\n            this.emit('addStatusBarMessage', this.$i18n('svgfilter.select.editor.message.create'));\n        } else if (type === '-') {\n            this.emit('addStatusBarMessage', this.$i18n('svgfilter.select.editor.message.select'));\n        } else {\n            this.emit('addStatusBarMessage', '');\n        }\n    }\n\n    [CHANGE('$options')] () {\n\n        var value = this.refs.$options.value \n\n        if (value == 'new') {\n\n            this.emit('addSVGFilterAssetItem', (index, id) => {\n                this.updateData({ value: id })\n        \n                this.refresh();\n        \n                this.trigger('openSVGFilterPopup', index);\n        \n              })\n        } else if (value === '-') {\n            \n        } else {\n            this.updateData({ value })\n        }\n \n    }\n\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n    [SUBSCRIBE('refreshSVGArea') + DEBOUNCE(1000)] () {\n        this.load('$options')\n    }\n\n\n    [SUBSCRIBE('openSVGFilterPopup')](index) {\n        this.emit('refreshSVGFilterAssets');\n        this.emit('refreshSVGArea');\n        var currentProject = this.$selection.currentProject || { svgfilters: [] } \n    \n        var svgfilter = currentProject.svgfilters[index];\n    \n        this.emit(\"showSVGFilterPopup\", {\n            changeEvent: 'changeSVGFilterEditorRealUpdate',\n            preview: false,\n            index,\n            filters: svgfilter.filters \n        });\n    }\n    \n    \n    [SUBSCRIBE('changeSVGFilterEditorRealUpdate')] (params) {\n        var project = this.$selection.currentProject\n    \n        if (project) {\n            project.setSVGFilterValue(params.index, {\n                filters: params.filters\n            });\n        \n            this.emit('refreshSVGFilterAssets');\n            this.emit('refreshSVGArea');\n        }\n    }    \n}","import { Length } from \"el/editor/unit/Length\";\nimport { IF, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class SVGItemProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('svg.item.property.title');\n  }\n\n  getClassName() {\n    return \"item\"\n  }\n\n  get editableProperty() {\n    return 'svg-item';\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n\n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$fill.setValue(current['fill'] || 'rgba(0, 0, 0, 0)')\n      this.children.$stroke.setValue(current['stroke'] || 'rgba(0, 0, 0, 1)')\n      this.children.$fillOpacity.setValue(current['fill-opacity'] || Length.number(1))\n      this.children.$strokeWidth.setValue(current['stroke-width'] || Length.number(1))\n      this.children.$fillRule.setValue(current['fill-rule'] || 'nonzero')\n      this.children.$strokeDashOffset.setValue(current['stroke-dashoffset'] || Length.number(0))\n      this.children.$strokeDashArray.setValue(current['stroke-dasharray'] || ' ')\n      this.children.$strokeLineCap.setValue(current['stroke-linecap'] || 'butt')\n      this.children.$strokeLineJoin.setValue(current['stroke-linejoin'] || 'miter')\n      this.children.$mixBlend.setValue(current['mix-blend-mode'])      \n    }\n\n  }\n\n  refresh() {\n    // update     \n  }\n\n  getBody() {\n    var current = this.$selection.current || {};\n\n    return /*html*/`\n      <div ref='$svgProperty'>\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill'></span>\n          </div>\n          <object refClass=\"FillSingleEditor\" ref='$fill' label='${this.$i18n('svg.item.property.fill')}' key='fill' onchange=\"changeValue\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill-opacity'></span>\n          </div>            \n          <object refClass=\"NumberRangeEditor\"  \n            ref='$fillOpacity' \n            label='${this.$i18n('svg.item.property.fillOpacity')}' \n            key='fill-opacity' \n            value=\"1\" \n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            onchange=\"changeValue\" \n            />\n        </div>   \n\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill-rule'></span>\n          </div>\n          <object refClass=\"SelectIconEditor\" \n            ref='$fillRule' \n            label='${this.$i18n('svg.item.property.fillRule')}' \n            key=\"fill-rule\" \n            options=${variable([\"nonzero\",\"evenodd\" ])}\n            onchange=\"changeValue\" />\n        </div>            \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke'></span>\n          </div>\n          <object refClass=\"FillSingleEditor\" ref='$stroke' label='${this.$i18n('svg.item.property.stroke')}' key='stroke' onchange=\"changeValue\" />\n        </div>      \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-width'></span>\n          </div>\n          <object refClass=\"RangeEditor\"  \n            ref='$strokeWidth' \n            label='${this.$i18n('svg.item.property.strokeWidth')}' \n            key=\"stroke-width\" \n            onchange=\"changeValue\" />\n        </div>\n        <!--<div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-dasharray'></span>      \n          </div>          \n          <label>${this.$i18n('svg.item.property.dashArray')}</label>\n        </div>-->\n        <div class='property-item'>\n          <object refClass=\"StrokeDashArrayEditor\" label=\"${this.$i18n('svg.item.property.dashArray')}\" ref='$strokeDashArray' key='stroke-dasharray' onchange=\"changeValue\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-dashoffset'></span>      \n          </div>          \n          <object refClass=\"NumberRangeEditor\"  \n            ref='$strokeDashOffset' \n            key='stroke-dashoffset' \n            label='${this.$i18n('svg.item.property.dashOffset')}'\n            value=\"0\" \n            min=\"-1000\"\n            max=\"1000\"\n            step=\"1\"\n            onchange=\"changeValue\" \n            />\n        </div>         \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-linecap'></span>      \n          </div>          \n          <object refClass=\"SelectIconEditor\" \n            ref='$strokeLineCap' \n            label='${this.$i18n('svg.item.property.lineCap')}' \n            key=\"stroke-linecap\" \n            options=${variable([\"butt\",\"round\",\"square\"])} \n            onchange=\"changeValue\" \n          />\n        </div> \n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-linejoin'></span>      \n          </div>          \n          <object refClass=\"SelectIconEditor\" \n            ref='$strokeLineJoin' \n            label='${this.$i18n('svg.item.property.lineJoin')}'             \n            key=\"stroke-linejoin\" \n            options=${variable([\"miter\",\"bevel\",\"round\"])} \n            onchange=\"changeValue\" \n          />\n        </div>       \n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='mix-blend-mode'></span>\n          </div>\n          <object refClass=\"BlendSelectEditor\" \n            label='${this.$i18n('background.color.property.blend')}'\n            ref='$mixBlend' \n            removable='true'\n            key='mix-blend-mode' \n            icon=\"true\" \n            tabIndex=\"1\"\n            onchange=\"changeSelect\" />\n        </div>                 \n        <!--div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='svgfilter'></span>      \n          </div>\n          <object refClass=\"SVGFilterSelectEditor\" \n            ref='$svgFilter' \n            label='${this.$i18n('svg.item.property.filter')}' \n            key=\"svgfilter\" \n            onchange=\"changeValue\" \n          />\n        </div-->         \n      </div>\n   \n    `;\n  }\n\n  [SUBSCRIBE_SELF('changeValue')] (key, value, params) {\n    this.command('setAttributeForMulti', `change svg item property : ${key}`, this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n    this.command(\"setAttributeForMulti\", `change attribute : ${key}`, this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n}","import { SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class SVGTextProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('svg.text.property.title');\n  }\n\n  [SUBSCRIBE('refreshSelection')]() {\n    this.refreshShow(['svg-textpath', 'svg-text', 'svg-tspan']);\n  }\n\n  refresh() {\n    var current = this.$selection.current;\n    if (current) {\n\n      this.setAllValue([\n        'lengthAdjust',\n        'textLength',\n        'startOffset',\n        'text-anchor',\n        'text'\n      ])   \n    }\n\n  }\n\n  setAllValue(list = []) {\n    var current = this.$selection.current;\n    if (!current) return; \n\n    list.forEach(key => {\n      this.children[`$${key}`].setValue(current[key])          \n    })\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text'></span>\n        </div>\n        <object refClass=\"TextAreaEditor\" \n          ref='$text' \n          label='${this.$i18n('svg.text.property.textarea')}' \n          key=\"text\"\n          onchange=\"changeTextValue\" />\n      </div>        \n      <div class='property-item'>\n        <object refClass=\"SelectIconEditor\" \n          ref='$text-anchor' \n          label='${this.$i18n('svg.text.property.anchor')}' \n          key=\"text-anchor\" \n          options=${variable([\"start\",\"middle\",\"end\"])} \n          onchange=\"changeTextValue\" />\n      </div>            \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='lengthAdjust'></span>\n        </div>\n        <object refClass=\"SelectEditor\"  \n          ref='$lengthAdjust' \n          label='${this.$i18n('svg.text.property.length.adjust')}' \n          key='lengthAdjust' \n          value='spacing' \n          options=${variable([\"spacing\",\"spacingAndGlyphs\"])} \n          onchange='changeTextValue' />        \n      </div>        \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='textLength'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  \n          ref='$textLength' \n          label='${this.$i18n('svg.text.property.text.length')}' \n          key='textLength'\n          min=\"0\"\n          max='1000'\n          step=\"0.1\"\n          onchange='changeTextValue' />                \n      </div>        \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='startOffset'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  \n          ref='$startOffset' \n          label='${this.$i18n('svg.text.property.start.offset')}' \n          key='startOffset' \n          min=\"0\"\n          max='1000'\n          step=\"0.1\"          \n          onchange='changeTextValue' />        \n      </div>                    \n    `\n  }\n\n  [SUBSCRIBE_SELF('changeTextValue')] (key, value) {\n\n    this.command('setAttributeForMulti', `change svg text property: ${key}`, this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n}","import { SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from 'el/sapa/functions/registElement';\n\n\nconst textTransformOptions = \"none,uppercase:AG,lowercase:ag,capitalize:Ag\".split(',').map(it => {\n  const [value, text] = it.split(':');\n\n  return {\n    value, text\n  }\n});\n\n\nconst textDecorationOptions = \"none,underline,overline:O,line-through\".split(',').map(it => {\n  const [value, text] = it.split(':');\n\n  return {\n    value, text\n  }\n});\n\n\n\nexport default class TextProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('text.property.title');\n  }\n\n  get editableProperty() {\n    return \"text-style\"\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n\n  refresh() {\n   // TODO:    ? \n    var current = this.$selection.current;\n    if (current) {\n      this.children.$align.setValue(current['text-align']);\n      this.children.$transform.setValue(current['text-transform']);\n      this.children.$decoration.setValue(current['text-decoration']);            \n    }\n\n  }\n\n  getBody() {\n\n    return /*html*/`\n      <div class=\"property-item\">\n        <object refClass=\"SelectIconEditor\" \n          ref='$align' \n          label='${this.$i18n('text.property.align')}' \n          key='text-align' \n          value='left' \n          options=${variable([\"left\",\"center\",\"right\",\"justify\"])} \n          icons=\"align_left,align_center,align_right,align_justify\" \n          onchange='changeTextValue' />        \n      </div>        \n      <div class=\"property-item\">\n        <object refClass=\"SelectIconEditor\" \n          ref='$transform' \n          label='${this.$i18n('text.property.transform')}' \n          key='text-transform' \n          options=${variable(textTransformOptions)}\n          icons=\"horizontal_rule\"\n          onchange='changeTextValue' />                \n      </div>        \n      <div class=\"property-item\">\n        <object refClass=\"SelectIconEditor\" \n          ref='$decoration' \n          label='${this.$i18n('text.property.decoration')}' \n          key='text-decoration' \n          options=${variable(textDecorationOptions)}\n          icons=\"horizontal_rule,underline,O,strikethrough\"\n          onchange='changeTextValue' />        \n      </div>                    \n    `\n  }\n\n  [SUBSCRIBE_SELF('changeTextValue')] (key, value) {\n    this.command('setAttributeForMulti', `change text property : ${key}`, this.$selection.packByValue({ [key]: value }));        \n  }\n\n}","import { LOAD, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class TextClipProperty extends BaseProperty {\n  \n  getTitle() {\n    return this.$i18n('text.clip.property.title');\n  }\n\n  isFirstShow() {\n    return false; \n  }\n\n  getClassName() {\n    return 'item'\n  }\n\n  getTools() {\n    return `<div ref='$textClip'></div>`;\n  }  \n\n  [LOAD(\"$textClip\")]() {\n    var current = this.$selection.current || {};\n\n    var clip = current['text-clip'] || ''\n    return /*html*/`\n      <object refClass=\"SelectEditor\"  ref='$1' key='text-clip' icon=\"true\" value=\"${clip}\" options=${variable(['', 'text'])} onchange=\"changeSelect\" />\n    `;\n  }\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n    this.emit('setAttributeForMulti', this.$selection.packByValue({ [key]: value }));        \n  }\n\n  get editableProperty() {\n    return \"text-clip\"\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n}","import { SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nexport default class TextFillProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('text.fill.property.title');\n  }\n\n  get editableProperty() {\n    return \"text-fill\"\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n\n  refresh() {\n    // update     \n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$fillColor.setValue(current['text-fill-color'] || 'rgba(0, 0, 0, 1)')      \n      this.children.$strokeColor.setValue(current['text-stroke-color'] || 'rgba(0, 0, 0, 1)')      \n      this.children.$width.setValue(current['text-stroke-width'] || '0px')      \n    }\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-fill-color'></span>\n        </div>\n        <object refClass=\"ColorViewEditor\" ref='$fillColor' label='${this.$i18n('text.fill.property.fill')}' key='text-fill-color' onchange=\"changeColor\" />\n      </div>           \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-stroke-color'></span>\n        </div>\n        <object refClass=\"ColorViewEditor\" ref='$strokeColor' label='${this.$i18n('text.fill.property.stroke')}' key='text-stroke-color' onchange=\"changeColor\" />\n      </div>                 \n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-stroke-width'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  \n          ref='$width' \n          label='${this.$i18n('text.fill.property.strokeWidth')}' \n          key=\"text-stroke-width\" \n          \n          max=\"50\"\n          onchange=\"changeRangeEditor\" />\n      </div>\n    \n    `;\n  }\n\n  [SUBSCRIBE_SELF('changeColor')] (key, color, params) {\n    this.trigger('changeRangeEditor', key, color);\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    this.command('setAttributeForMulti', 'change text fill', this.$selection.packByValue({ [key]: value }))\n  }\n}","import { CLICK, LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { TextShadow } from \"el/editor/property-parser/TextShadow\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './TextShadowEditor.scss';\n\nexport default class TextShadowEditor extends EditorElement {\n\n  initState() {\n\n    return {\n      hideLabel: this.props['hide-label'] === 'true' ? true : false, \n      selectedIndex: -1,\n      textShadows: this.props.value\n    }\n  }\n\n  template() {\n\n    var labelClass = this.state.hideLabel ? 'hide' : ''; \n\n    return /*html*/`\n      <div class=\"elf--text-shadow-editor\" >\n        <div class='label ${labelClass}' >\n            <label>${this.props.title||''}</label>        \n            <div class='tools'>\n              <button type=\"button\" ref=\"$add\" title=\"add Text Shadow\">${icon.add}</button>\n            </div>\n        </div>\n        <div class='text-shadow-list' ref='$shadowList'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$shadowList\")]() {\n  \n    var arr = this.state.textShadows.map((shadow, index) => {\n      return /*html*/`\n        <div class=\"shadow-item real\" data-index=\"${index}\">\n          <div class=\"color\">\n            <div class='color-view' style=\"background-color: ${shadow.color}\">\n            </div>\n          </div>\n          <div class=\"offset-x\">${shadow.offsetX}</div>\n          <div class=\"offset-y\">${shadow.offsetY}</div>\n          <div class=\"blur-radius\">${shadow.blurRadius}</div>\n          <div class=\"tools\">\n            <button type=\"button\" class=\"remove\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n      `;\n    });\n\n    if (arr.length) {\n      arr.push(/*html*/`\n      <div class=\"shadow-item desc\">\n            <div class=\"color\"></div>\n            <div class=\"offset-x\">X</div>\n            <div class=\"offset-y\">Y</div>\n            <div class=\"blur-radius\">Blur</div>\n            <div class=\"tools\">\n            </div>\n          </div>\n      `);\n    }\n\n\n    return arr.join('');\n  }\n\n  modifyTextShadow () {\n    var value = this.state.textShadows.join(', ');\n\n    this.parent.trigger(this.props.onchange, value)\n  }\n\n\n  [SUBSCRIBE('add')] () {\n    this.state.textShadows.push(new TextShadow())\n\n    this.refresh();\n\n    this.modifyTextShadow()\n  }\n\n  [CLICK(\"$add\")]() {\n    this.trigger('add');\n  }\n\n  [CLICK(\"$shadowList .remove\")](e) {\n    var index = +e.$dt.attr(\"data-index\");\n\n    this.state.textShadows.splice(index, 1);\n\n    this.refresh();\n\n    this.modifyTextShadow()\n  }\n\n  [CLICK(\"$shadowList .shadow-item.real > div:not(.tools)\")](e) {\n    var index = +e.$dt.closest('shadow-item').attr(\"data-index\");\n\n    var shadow = this.state.textShadows[index]\n\n   this.viewShadowPopup(shadow, index)\n  }\n\n  viewShadowPopup(shadow, index) {\n    this.setState({\n      selectedIndex: index\n    }, false)\n\n    this.viewTextShadowPropertyPopup(shadow);\n  }\n\n  viewTextShadowPropertyPopup(shadow) {\n    this.emit(\"showTextShadowPropertyPopup\", {\n      changeEvent: 'changeTextShadowEditorPopup',\n      color: shadow.color,\n      offsetX: shadow.offsetX,\n      offsetY: shadow.offsetY,\n      blurRadius: shadow.blurRadius\n    }, {\n      id: this.id\n    });\n    \n  }\n\n  [SUBSCRIBE(\"changeTextShadowEditorPopup\")](data, params) {\n    if (params.id === this.id) {\n      var shadow = this.state.textShadows[this.state.selectedIndex]\n\n      shadow.reset(data)\n  \n      this.refresh();\n  \n      this.modifyTextShadow();\n    }\n\n  }\n}","import { LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\n\nimport icon from \"el/editor/icon/icon\";\nimport { TextShadow } from \"el/editor/property-parser/TextShadow\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from 'el/sapa/functions/registElement';\n\n\nexport default class TextShadowProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('text.shadow.property.title')\n  }\n\n  getBody() {\n    return `\n      <div class=\"full text-shadow-item\" ref=\"$shadowList\"></div>\n    `;\n  }\n\n  hasKeyframe() {\n    return true\n  }\n\n  getKeyframeProperty () {\n    return 'text-shadow'\n  }\n\n  getTools() {\n    return `<button type=\"button\" ref='$add'>${icon.add}</button>`\n  }\n\n  [CLICK('$add')] () {\n    this.children.$textshadow.trigger('add');\n  }  \n  \n  [LOAD(\"$shadowList\")]() {\n    var current = this.$selection.current || {};\n    return /*html*/`\n      <object refClass=\"TextShadowEditor\" \n        ref='$textshadow' \n        value=\"${variable(TextShadow.parseStyle(current['text-shadow']))}\" \n        hide-label=\"true\" \n        onChange=${this.subscribe((textshadow) => {\n          this.command('setAttributeForMulti', 'change text shadow', this.$selection.packByValue({ \n            'text-shadow': textshadow\n          }))\n        })}\n      />\n    `\n  }\n\n  get editableProperty() {\n    return 'text-shadow';\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }  \n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, POINTERSTART, SUBSCRIBE } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\nimport { MOVE } from \"el/editor/types/event\";\nimport './TextShadowPropertyPopup.scss';\n\nexport default class TextShadowPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return 'Text Shadow Editor'\n  }\n\n  initState() {\n    return {\n      color: 'rgba(0, 0, 0, 1)',  \n      offsetX: Length.z(),\n      offsetY: Length.z(),\n      blurRadius: Length.z()\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.changeEvent, opt, this.params);\n  }\n\n  getBody() {\n    return /*html*/`<div class='elf--text-shadow-property-popup' ref='$popup'></div>`;\n  }\n\n  [LOAD(\"$popup\")]() {\n    return /*html*/`\n      <div class='box'>\n        <div class=\"drag-board\" ref=\"$dragBoard\">\n          <div\n            class=\"pointer\"\n            ref=\"$pointer\"\n            style=\"left: ${this.state.offsetX};top: ${this.state.offsetY}\"\n          ></div>\n        </div>\n        <div class='popup-item'>\n          <object refClass=\"RangeEditor\"  ref='$offsetX' label='Offset X' key='offsetX' min=\"-100\" max='100' value='${this.state.offsetX}' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <object refClass=\"RangeEditor\"  ref='$offsetY' label=\"Offset Y\" key='offsetY' min=\"-100\" max='100' value='${this.state.offsetY}' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <object refClass=\"RangeEditor\"  ref='$blurRadius' label=\"Blur Radius\" key='blurRadius' value='${this.state.blurRadius}' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <object refClass=\"ColorViewEditor\" \n              ref='$foreColor' \n              label=\"color\" \n              key='color' \n              value=\"${this.state.color}\"\n              onchange=\"changeShadow\" />\n        </div>        \n      </div>\n    `;\n  }\n\n  [SUBSCRIBE('changeShadow')] (key, value) {\n    this.updateData({\n      [key]: value\n    });\n\n    if (key === 'offsetX' || key === 'offsetY') {\n      this.refreshPointer();\n    }\n\n  }\n\n  [POINTERSTART(\"$popup .drag-board\") + MOVE(\"movePointer\")](e) {\n    this.offsetX = e.offsetX;\n    this.offsetY = e.offsetY;\n\n    var rect = this.getRef(\"$dragBoard\").rect();\n    this.boardWidth = rect.width;\n    this.boardHeight = rect.height;\n  }\n\n  refreshPointer() {\n    this.getRef(\"$pointer\").css({\n      left: this.state.offsetX,\n      top: this.state.offsetY\n    });\n  }\n\n  movePointer(dx, dy) {\n    var realX = this.offsetX + dx;\n    var realY = this.offsetY + dy;\n\n    var halfWidth = this.boardWidth / 2;\n    var halfHeight = this.boardHeight / 2;\n\n    var x = realX - halfWidth;\n    var y = realY - halfHeight;\n\n    if (x < -halfWidth) {\n      x = -halfWidth;\n    } else if (x > halfWidth) {\n      x = halfWidth;\n    }\n\n    if (y < -halfHeight) {\n      y = -halfHeight;\n    } else if (y > halfHeight) {\n      y = halfHeight;\n    }\n\n    x = Math.floor(x);\n    y = Math.floor(y);\n\n    this.updateData({\n      offsetX: Length.px(x),\n      offsetY: Length.px(y)\n    });\n\n    this.children.$offsetX.setValue(this.state.offsetX);\n    this.children.$offsetY.setValue(this.state.offsetY);\n\n    this.refreshPointer();\n  }\n\n  [SUBSCRIBE(\"showTextShadowPropertyPopup\")](data, params) {\n\n    this.changeEvent = data.changeEvent || \"changeTextShadowPropertyPopup\"\n    this.params = params;\n\n    this.setState(data, false);\n    this.refresh();\n\n    this.show(432);\n  }\n\n  [SUBSCRIBE(\"hideTextShadowPropertyPopup\")]() {\n    this.hide()\n  }\n}","\nimport { POINTERSTART, DOUBLECLICK, BIND, CLICK, SUBSCRIBE, IF } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { Transform } from \"el/editor/property-parser/Transform\";\nimport { calculateAnglePointDistance } from \"el/utils/math\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './RotateEditorView.scss';\n\nconst directions = [\n    'top-left',\n    'top',\n    'top-right',\n    'left',\n    'right',\n    'bottom-left',\n    'bottom',\n    'bottom-right'\n]\n\n\nconst DEFINED_ANGLES = {\n    \"top\": \"0\",\n    \"top-right\": \"45\",\n    \"right\": \"90\",\n    \"bottom-right\": \"135\",\n    \"bottom\": \"180\",\n    \"bottom-left\": \"225\",\n    \"left\": \"270\",\n    \"top-left\": \"315\"\n  };\n\nexport default class RotateEditorView extends EditorElement {\n    template() {\n        return /*html*/`\n            <div class='elf--rotate-editor-view'>            \n                <div class='rotate-area' ref='$rotateArea'>\n                    <div class='rotate-container' ref='$rotateContainer'>\n                        <div class='rotate-item rotate-x'></div>\n                        <div class='rotate-item rotate-y'></div>\n                    </div>\n                </div>\n                <div class='direction-area' ref='$directionArea'>\n                    ${directions.map(it => {\n                        return /*html*/`<div class='direction' data-value='${it}'></div>`\n                    }).join('')}\n                </div>                \n                <div class='rotate-z' ref='$rotateZ'>\n                    <div class='handle-line'></div>                \n                    <div class='handle icon' ref='$handle'>${icon.gps_fixed}</div>\n                </div>                \n            </div>\n        `\n    }\n\n    [CLICK('$directionArea .direction')] (e) {\n        var direction = e.$dt.attr('data-value');\n        var value = Length.deg(DEFINED_ANGLES[direction] || 0)\n        this.$selection.each(item => {\n            const transform = Transform.replace(item.transform, {  type: 'rotateZ', value: [value]})\n            item.reset({ transform})\n        })\n                 \n        this.bindData('$rotateZ')\n        this.command('setAttributeForMulti', 'change direction', this.$selection.pack('transform'));\n        this.emit('refreshSelectionTool', false);\n\n    }\n\n    [BIND('$rotateContainer')] () {\n\n        var current = this.$selection.current || {transform: ''};\n\n        var transform = Transform.filter(current.transform || '', it => {\n            return it.type === 'rotateX' || it.type === 'rotateY'; \n        });\n\n        return {\n            style: {\n                transform\n            }\n        }\n    }\n\n    [BIND('$rotateZ')] () {\n\n        var current = this.$selection.current || {transform: ''};\n\n        var transform = Transform.filter(current.transform || '', it => {\n            return it.type === 'rotate' || it.type === 'rotateZ'; \n        });\n\n\n        return {\n            style: {\n                transform\n            }\n        }\n    }\n\n    [DOUBLECLICK('$rotateArea')] () {        \n        this.$selection.reset(this.$selection.packByValue({\n            transform: (item) => {\n                return Transform.remove(item.transform, ['rotateX', 'rotateY'])\n            }\n        }));\n        // this.$selection.reselect();\n        this.command('setAttributeForMulti', 'change direction', this.$selection.pack('transform'));\n        this.emit('refreshSelectionTool');       \n        this.bindData('$rotateContainer');   \n    }\n\n    [POINTERSTART('$rotateArea') + MOVE('moveRotateXY') + END('moveEndRotateXY')] () {\n        this.state.rotateCache = this.$selection.map(item => {\n\n            const rotateX = Transform.get(item['transform'], 'rotateX')\n            const rotateY = Transform.get(item['transform'], 'rotateY')\n\n            return {\n                item,\n                rotateX: rotateX ? rotateX[0] : Length.deg(0),\n                rotateY: rotateY ? rotateY[0] : Length.deg(0),\n            }\n        })\n    }\n\n    moveRotateXY (dx, dy) {\n        var rx = Length.deg(-dy)\n        var ry = Length.deg(dx)\n\n        // todo: selection         \n        this.state.rotateCache.forEach(cache => {\n\n            let transform = cache.item.transform\n            transform = Transform.rotateX(transform, Length.deg(cache.rotateX.value + rx.value)) \n            transform = Transform.rotateY(transform, Length.deg(cache.rotateY.value + ry.value)) \n\n            cache.item.reset({\n                transform\n            });\n        })\n\n        this.bindData('$rotateContainer');\n\n        this.command('setAttributeForMulti', 'change rotate', this.$selection.pack('transform'));\n        this.emit('refreshSelectionTool');        \n\n    }\n\n    moveEndRotateXY (dx, dy) {    \n        this.command('setAttributeForMulti', 'change rotate', this.$selection.pack('transform'));              \n        this.emit('refreshSelectionTool');        \n    }\n\n    [DOUBLECLICK('$handle')] () {\n        this.$selection.reset(this.$selection.packByValue({\n            transform: (item) => {\n                return Transform.remove(item.transform, ['rotateZ', 'rotate'])\n            }\n        }));\n        // this.$selection.reselect();\n        this.bindData('$rotateZ');                   \n        this.command('setAttributeForMulti', 'change rotate handle', this.$selection.pack('transform'));    \n        this.emit('refreshSelectionTool');       \n    }\n\n    [POINTERSTART('$handle') + MOVE() + END()] () {\n        var pointerRect = this.refs.$handle.rect();\n        var targetRect = this.refs.$rotateZ.rect();\n        this.rotateZCenter = {\n            x: targetRect.x + targetRect.width/2, \n            y: targetRect.y + targetRect.height/2\n        }\n        this.rotateZStart = {\n            x: pointerRect.x + pointerRect.width/2, \n            y: pointerRect.y + pointerRect.height/2 \n        }        \n        this.state.rotateCache = this.$selection.map(item => {\n            const rotateZ = Transform.get(item['transform'], 'rotateZ')\n            return {\n                item,\n                rotateZ: rotateZ ? rotateZ[0] : Length.deg(0),\n            }\n        })\n    }\n\n    move (dx, dy) {\n        this.modifyRotateZ(dx, dy);\n\n        this.bindData('$rotateZ');        \n        this.command('setAttributeForMulti', 'change rotate handle', this.$selection.pack('transform'));\n        this.emit('refreshSelectionTool');        \n    }\n\n    end () {\n        this.command('setAttributeForMulti', 'change rotate handle', this.$selection.pack('transform'));\n        this.emit('refreshSelectionTool');\n    }\n\n\n    modifyRotateZ(dx, dy) {\n        var e = this.$config.get('bodyEvent');\n        var distAngle = Length.deg(Math.floor(calculateAnglePointDistance(\n            this.rotateZStart,\n            this.rotateZCenter,\n            {dx, dy}\n        )));\n\n        this.state.rotateCache.forEach(cache => {\n\n            let transform = cache.item.transform\n            transform = Transform.rotateZ(transform, Length.deg(cache.rotateZ.value + distAngle.value)) \n\n            cache.item.transform = transform;\n        })\n\n    }\n\n    [SUBSCRIBE('refreshSelection')] () {\n        this.refresh();\n    }\n\n    checkShow() {\n        return this.$selection.isOne;\n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView') + IF('checkShow')] () {\n        if (this.$selection.hasChangedField('transform')) {\n            this.refresh();\n        }\n    }\n}","import icon, { iconUse } from \"el/editor/icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  DRAGSTART,\n  DRAGOVER,\n  DROP,\n  PREVENT,\n  SUBSCRIBE,\n  SUBSCRIBE_SELF,\n  DOMDIFF\n} from \"el/sapa/Event\";\n\nimport { Transform } from \"el/editor/property-parser/Transform\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './TransformEditor.scss';\nimport { isNotUndefined } from \"el/sapa/functions/func\";\n\nvar transformList = [\n  'perspective',  \n  'rotate',\n  'rotateX',\n  'rotateY',\n  'rotateZ',\n  'rotate3d',    \n  'skew',\n  'skewX',    \n  'skewY',   \n  'translate',\n  'translateX',  \n  'translateY',\n  'translateZ',\n  'translate3d',\n  'scale',\n  'scaleX',\n  'scaleY',\n  'scaleZ',\n  'scale3d',\n  'matrix',\n  'matrix3d',  \n];\n\nconst labels = {\n  'scale': [ 'X', 'Y'] ,\n  'skew': [ 'X', 'Y'] ,  \n  'translate' : ['X', 'Y'], \n  'translate3d': ['tx','ty', 'tz'],\n  'matrix': ['a','b','c','d','tx','ty'],\n  'matrix3d': [\n    'a1', 'b1', 'c1', 'd1', \n    'a2', 'b2', 'c2', 'd2', \n    'a3', 'b3', 'c3', 'd3', \n    'a4', 'b4', 'c4', 'd4'\n  ]\n}\n\nexport default class TransformEditor extends EditorElement {\n\n  initState() {\n    return {\n      hideLabel: this.props['hide-label'] === 'true' ? true: false, \n      transforms: Transform.parseStyle(this.props.value)\n    }\n  }\n\n  template() {\n    var labelClass = this.state.hideLabel ? 'hide' : '' \n    return /*html*/`\n      <div class='elf--transform-editor transform-list'>\n          <div class='label ${labelClass}' >\n              <label>Transform</label>\n              <div class='tools'>\n                <select ref=\"$transformSelect\">\n                  ${transformList.map(transform => {\n                    var label = this.$i18n('css.item.' + transform)\n                    return `<option value='${transform}'>${label}</option>`;\n                  }).join('')}\n                </select>\n                <button type=\"button\" ref=\"$add\" title=\"add Transform\">${icon.add}</button>\n              </div>\n          </div>\n          <div class='transform-list' ref='$transformList'></div>\n      </div>`;\n  }\n\n  getLabel(type, index) {\n    switch(type) {\n      case 'scale':\n      case 'translate':\n      case 'translate3d':        \n      case 'matrix':\n      case 'matrix3d': \n      case 'skew':\n        return labels[type][index];\n      }\n    return ''\n  }\n\n  isMultiValue (type) {\n    switch(type) {\n      case 'translate3d':        \n      case 'matrix':\n      case 'matrix3d': \n      case 'skew':\n        return true;\n      }\n    return false; \n  }\n\n  getRange(type) {\n\n    switch(type) {\n      case 'translateX': \n      case 'translateY': \n      case 'translateZ': \n      case 'translate':      \n      case 'translate3d':            \n        return { min: -100, max : 100, step: 1, units: 'px,%,em'}\n      case 'matrix':\n      case 'matrix3d':     \n        return { min: -100, max : 100, step: 0.01,units: 'number'}\n      case 'rotateX': \n      case 'rotateY': \n      case 'rotateZ': \n      case 'rotate':  \n      case 'skew':      \n      case 'skewY':\n      case 'skewX':            \n        return { min: -360, max : 360, step: 0.1, units: 'deg,turn,rad', editorType: 'RangeEditor'}\n      case 'perspective':\n          return { min: 0, max : 10000, step: 1, units: 'px,%,em'}\n      case 'scale': \n      case 'scaleX': \n      case 'scaleY': \n        return { min: 0, max : 10, step: 0.1,units: 'number'}           \n    }\n\n\n    return { min: 0, max : 100, step : 1,units: 'px,%,em' }\n  }\n\n  makeOneTransformTemplate(type, transform, index) {\n    return /*html*/`\n      <div class=\"transform-item\" data-index=\"${index}\">\n        <div class=\"title\" data-index=\"${index}\">\n          <label draggable=\"true\" >${this.$i18n('css.item.' + type)}</label>\n          <div class=\"transform-menu\">\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">\n              ${iconUse(\"remove2\")}\n            </button>\n          </div>\n        </div>\n        <div class=\"transform-ui ${type}\">\n        ${transform.value.map( (it, tindex) => {\n\n          var label = this.getLabel(type, tindex);\n          var {min, max, step, units} = this.getRange(type);\n\n          return /*html*/`\n            <div>\n              <object refClass=\"RangeEditor\"  \n                    ref='$range_${type}_${index}_${tindex}' \n                    min=\"${min}\" \n                    max=\"${max}\" \n                    step=\"${step}\" \n                    label=\"${label}\"\n                    key=\"${index}\" \n                    params='${tindex}' \n                    value=\"${it}\" \n                    units=\"${units}\" \n                    onchange=\"changeRangeEditor\" />\n            </div>`\n          }).join('')}      \n      </div>        \n\n      </div>\n    `;\n  }\n\n\n\n  makeMultiTransformTemplate(type, transform, index) {\n    return /*html*/`\n      <div class=\"transform-item\" data-index=\"${index}\">\n        <div class=\"title\" data-index=\"${index}\">\n          <label draggable=\"true\" >${this.$i18n('css.item.' + type)}</label>\n          <div></div>\n          <div class=\"transform-menu\">\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">\n              ${iconUse(\"remove2\")}\n            </button>\n          </div>\n        </div>\n        <div class=\"transform-ui ${type}\">\n\n          ${type === 'translate3d' ? `\n            <pre>\n  1 | 0 | 0 | tx\n  0 | 1 | 0 | ty\t\n  0 | 0 | 1 | tz\t\n  0 | 0 | 0 | 1</pre>\n          `: ''}\n\n          ${type === 'matrix' ? `\n            <pre>\n  a | c | tx\t\n  b | d | ty\t\n  0 | 0 | 1</pre>\n          `: ''}    \n          \n          ${type === 'matrix3d' ? `\n            <pre>\n  a1 | a2 | a3 | a4\t\n  b1 | b2 | b3 | b4\t\n  c1 | c2 | c3 | c4\t\n  d1 | d2 | d3 | d4</pre>\n          `: ''}     \n          \n          <div class='${type}'>\n          ${transform.value.map( (it, tindex) => {\n\n            var label = this.getLabel(type, tindex);\n            var {min, max, step, units, editorType = 'NumberInputEditor'} = this.getRange(type);\n\n            return /*html*/`\n              <div>\n                <object refClass=\"${editorType}\"  \n                      ref='$range_${type}_${index}_${tindex}' \n                      min=\"${min}\" \n                      max=\"${max}\" \n                      step=\"${step}\" \n                      label=\"${label}\"\n                      key=\"${index}\" \n                      params='${tindex}' \n                      value=\"${it}\" \n                      units=\"${units}\" \n                      onchange=\"changeRangeEditor\" />\n              </div>`\n          }).join('')}   \n          </div>       \n        </div>\n      </div>\n    `;\n  }\n\n  makeTransformTemplate(transform, index) {\n    if (this.isMultiValue(transform.type)) {\n\n      return this.makeMultiTransformTemplate(\n        transform.type,\n        transform,\n        index\n      );\n    } else {\n\n      return this.makeOneTransformTemplate(\n        transform.type,\n        transform,\n        index\n      );\n    }\n\n  }\n\n  [LOAD(\"$transformList\") + DOMDIFF]() {\n    return this.state.transforms.map((transform, index) => {\n      return this.makeTransformTemplate(transform, index.toString());\n    });\n  }\n\n  setValue(transform) {\n    this.setState({\n      transforms: Transform.parseStyle(transform)\n    });\n  }\n\n  [DRAGSTART(\"$transformList .transform-item .title label\")](e) {\n    this.startIndex = +e.$dt.parent().attr(\"data-index\");\n  }\n\n  [DRAGOVER(\"$transformList .transform-item\") + PREVENT](e) {}\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  sortTransform(startIndex, targetIndex) {\n      this.sortItem(this.state.transforms, startIndex, targetIndex);\n  }\n\n  [DROP(\"$transformList .transform-item\") + PREVENT](e) {\n    var targetIndex = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    this.sortTransform(this.startIndex, targetIndex);\n\n    this.refresh();\n\n    this.modifyTransform()\n  }\n\n  modifyTransform () {\n    var value = this.state.transforms.join(' ');\n\n    this.parent.trigger(this.props.onchange, value)\n  }\n\n  getDefaultValue (type) {\n\n    switch(type) {\n      case 'translateX': \n      case 'translateY': \n      case 'translateZ': \n        return [Length.z()]            \n      case 'rotateX': \n      case 'rotateY': \n      case 'rotateZ': \n      case 'rotate':  \n      case 'skewY':\n      case 'skewX':\n      case 'perspective':\n        return [Length.deg(0)]            \n      case 'translate': \n        return [Length.z(),Length.z()]\n      case 'translate3d': \n        return [Length.z(),Length.z(), Length.z()]        \n      case 'scale': \n        return [Length.number(1),Length.number(1)]\n      case 'skew': \n        return [Length.deg(0),Length.deg(0)]\n      case 'scaleX': \n      case 'scaleY': \n        return [Length.number(1)]\n      case 'matrix':\n        return [\n          Length.number(1),\n          Length.number(0),\n          Length.number(0),\n          Length.number(1),\n          Length.number(0),\n          Length.number(0)          \n        ]\n      case 'matrix3d':\n        return [\n          Length.number(1),\n          Length.number(0),\n          Length.number(0),\n          Length.number(0),\n\n          Length.number(0),\n          Length.number(1),\n          Length.number(0),\n          Length.number(0),\n\n          Length.number(0),\n          Length.number(0),\n          Length.number(1),\n          Length.number(0),\n          \n          Length.number(0),\n          Length.number(0),\n          Length.number(0), \n          Length.number(1)                   \n        ]        \n    }\n\n\n    return [Length.number(0)]\n  }\n\n  makeTransform(type, opt = {}) {\n\n    var value = this.getDefaultValue(type)\n\n    return Transform.parse({ ...opt, type, value });\n  }\n\n  [SUBSCRIBE_SELF('add')] (transformType) { \n    this.state.transforms.push(this.makeTransform(transformType))\n\n    this.refresh();\n\n    this.modifyTransform()\n  }\n\n  [CLICK(\"$add\")]() {\n    var transformType = this.refs.$transformSelect.value;\n\n    this.trigger('add', transformType)\n  }\n\n  [CLICK(\"$transformList .transform-menu .del\")](e) {\n    var index = +e.$dt.attr(\"data-index\");\n    this.state.transforms.splice(index, 1);\n\n    this.refresh();\n\n    this.modifyTransform()\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value, params) {\n    if (isNotUndefined(params)) {\n      this.state.transforms[+key].value[+params] = value; \n    } else {\n      this.state.transforms[+key].reset({ \n        value \n      });\n    }\n    \n\n    this.modifyTransform();\n  }\n}","\nimport {\n  LOAD, DEBOUNCE, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, DOMDIFF, IF,\n} from \"el/sapa/Event\";\n\n\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nvar transformList = [\n\n  'rotate',\n  'rotateX',\n  'rotateY',\n  'rotateZ',\n  'rotate3d',    \n  'skew',      \n  'skewX',    \n  'skewY',   \n  'translate',\n  'translateX',  \n  'translateY',\n  'translateZ',\n  'translate3d',\n  'perspective',    \n  'scale',\n  'scaleX',\n  'scaleY',\n  'scaleZ',\n  'scale3d',\n  'matrix',\n  'matrix3d',  \n];\n\n\nexport default class TransformProperty extends BaseProperty {\n\n  isFirstShow() {\n    return true; \n  }\n\n  getTitle() {\n    return this.$i18n('transform.property.title')\n  }\n\n  getBody() {\n    return /*html*/`\n      <object refClass=\"RotateEditorView\" />\n      <div class='full transform-property' ref='$body'></div>\n    `;\n  }\n\n  hasKeyframe() {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'transform'\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$transformSelect\">\n      ${transformList.map(transform => {\n        var label = this.$i18n('css.item.' + transform)\n        return `<option value='${transform}'>${label}</option>`;\n      }).join('')}\n      </select>\n      <button type=\"button\" ref=\"$add\" title=\"add Filter\">${iconUse('add')}</button>\n    `\n  }\n  \n\n  [CLICK(\"$add\")]() {\n    var transformType = this.refs.$transformSelect.value;\n\n    this.children.$transformEditor.trigger('add', transformType)\n  }\n\n  [LOAD('$body') + DOMDIFF] () {\n    var current = this.$selection.current || {} \n    var value = current.transform;\n\n    return /*html*/`\n      <object refClass=\"TransformEditor\" ref='$transformEditor' value='${value}' hide-label=\"true\" onchange='changeTransformEditor' />\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeTransformEditor')] (transform) {\n    this.command('setAttributeForMulti', 'change transform property', this.$selection.packByValue({ \n      transform\n    }))\n\n    this.nextTick(() => {\n      this.emit('refreshSelectionTool', false);\n    })\n  }\n\n  refresh () {\n    this.children.$transformEditor.setValue(this.$selection.current.transform);\n  }\n\n  get editableProperty() {\n    return 'transform';\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')] () {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshSelectionStyleView') + DEBOUNCE(100)] () {\n\n    const current = this.$selection.current\n\n    if (current) {\n\n      if (current.hasChangedField('transform')) {\n        this.refresh();\n      }\n\n    }\n\n  }\n\n}","import { CLICK, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport './TransformOriginEditor.scss';\n\nconst typeList = [\n  { key: \"transform-origin-x\", title: \"X\" },\n  { key: \"transform-origin-y\", title: \"Y\" },\n  { key: \"transform-origin-z\", title: \"Z\" },\n];\n\nconst keyList = typeList.map(it => it.key);\n\nconst origin = {\n  top: '50% 0%',\n  'top left': '0% 0%',\n  'top right': '100% 0%',\n  left: '0% 50%',\n  center: '50% 50%',\n  right: '100% 50%',\n  bottom: '50% 100%',\n  'bottom left': '0% 100%',\n  'bottom right': '100% 100%'\n}\n\nexport default class TransformOriginEditor extends EditorElement {\n  initState() {\n\n    var arr = this.props.value.split(' ');\n\n    var obj = {\n      isAll: false,\n      'transform-origin': Length.percent(50),\n      'transform-origin-x': Length.percent(50),\n      'transform-origin-y': Length.percent(50)\n    }\n\n    if (this.props.value) {\n\n      if (arr.length === 1) {\n        obj['isAll'] = true;\n        obj['transform-origin'] = Length.parse(arr[0]);\n        obj['transform-origin-x'] = Length.parse(arr[0]);\n        obj['transform-origin-y'] = Length.parse(arr[0]);\n      } else if (arr.length == 2) {\n        obj['isAll'] = false;\n        obj['transform-origin-x'] = Length.parse(arr[0]);\n        obj['transform-origin-y'] = Length.parse(arr[1]);\n      }\n    }\n\n\n    return obj\n  }\n\n  template() {\n    return /*html*/`\n      <div class='elf--transform-origin-editor'>\n        <div class='direction' ref='$direction'>\n          <div class='pos' data-value='top left'></div>        \n          <div class='pos' data-value='top'></div>\n          <div class='pos' data-value='top right'></div>\n          <div class='pos' data-value='left'></div>\n          <div class='pos' data-value='center'></div>\n          <div class='pos' data-value='right'></div>\n          <div class='pos' data-value='bottom left'></div>                   \n          <div class='pos' data-value='bottom'></div>\n          <div class='pos' data-value='bottom right'></div>\n        </div>\n        <div ref='$body'></div>\n      </div>\n    `\n  }\n\n  [CLICK('$direction .pos')](e) {\n    var direct = e.$dt.attr('data-value');\n\n\n    this.state.isAll = false;\n    var [x, y] = origin[direct].split(' ')\n    this.state['transform-origin-x'] = Length.parse(x);\n    this.state['transform-origin-y'] = Length.parse(y);\n    this.refresh();\n    this.modifyTransformOrigin();\n  }\n\n  [SUBSCRIBE_SELF('changeTransformOrigin')](key, value) {\n\n    if (key === 'transform-origin') {\n      keyList.forEach(type => {\n        this.children[`$${type}`].setValue(value.toString())\n      });\n    }\n\n    if (key === 'transform-origin-z') {\n      this.state[key] = value;\n    }\n\n    this.setTransformOrigin()\n  }\n\n  [LOAD('$body')]() {\n\n    return /*html*/`\n      <div class=\"full transform-origin-item\" ref=\"$partitialSetting\" >\n        <div class=\"radius-setting-box\" ref=\"$radiusSettingBox\">\n          ${typeList.map(it => {\n      return /*html*/`\n              <div>\n                  <object refClass=\"RangeEditor\"  ref='$${it.key}' compact=\"true\" label='${it.title}' key='${it.key}' value=\"${this.state[it.key]}\" onchange='changeTransformOrigin' />\n              </div>  \n            `;\n    }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n  setTransformOrigin() {\n    var type = this.refs.$selector.attr(\"data-selected-value\");\n\n    if (type === \"all\") {\n      this.state.isAll = true;\n      this.state['transform-origin'] = this.children[`$all`].getValue();\n    } else {\n      this.state.isAll = false;\n      keyList.forEach(key => {\n        this.state[key] = this.children[`$${key}`].getValue();\n      });\n    }\n\n    this.modifyTransformOrigin();\n  }\n\n  modifyTransformOrigin() {\n\n    var value = `${this.state['transform-origin-x']} ${this.state['transform-origin-y']} ${this.state['transform-origin-z'] || '0px'}`\n\n    this.parent.trigger(this.props.onchange, this.props.key, value);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.setTransformOrigin();\n  }\n\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { customParseConvertMatches, customParseReverseMatches } from \"el/utils/customParser\";\n\nconst TRANSITION_TIMING_REG = /((cubic-bezier|steps)\\(([^\\)]*)\\))/gi;\n\nexport class Transition extends PropertyItem {\n  static parse(obj) {\n    return new Transition(obj);\n  }\n\n  getDefaultObject() {\n    return {\n      name: 'all',\n      duration: Length.second(0),\n      timingFunction: 'linear',\n      delay: Length.second(0)\n    }\n  }\n\n  toCloneObject() {\n    return {\n      name: this.json.name,\n      duration: this.json.duration + \"\",\n      timingFunction: this.json.timingFunction,\n      delay: this.json.delay + ''\n    }\n  }\n\n  toCSS() {\n    return {\n      \"transition\": this.toString()\n    };\n  }\n\n  toString() {\n    var json = this.json;\n\n    return [\n      json.name,\n      json.duration,\n      json.timingFunction,\n      json.delay\n    ].join(' ')\n  }\n\n\n  static join (list) {\n    return list.map(it => new Transition(it).toString()).join(',')\n  }\n\n  static add (transition, item = {}) {\n    const list = Transition.parseStyle(transition);\n    list.push(Transition.parse(item))\n\n    return Transition.join(list); \n  }\n\n  static remove (transition, removeIndex) {\n    return Transition.filter(transition, (it, index) => {\n        return removeIndex != index; \n    })\n  }\n\n  static filter (transition, filterFunction) {\n    return Transition.join(Transition.parseStyle(transition).filter(it => filterFunction(it)))\n  }\n\n  static replace (transition, replaceIndex, valueObject) {\n\n    var list = Transition.parseStyle(transition)\n\n    if (list[replaceIndex]) {\n      list[replaceIndex] = valueObject;\n    } else {\n      list.push(valueObject);\n    }\n\n    return Transition.join(list);\n  }\n\n  static get (transition, index) {\n    var arr = Transition.parseStyle(transition)\n\n    return arr[index];\n  }   \n\n\n  static parseStyle (transition) {\n\n    var list = [];\n\n    if (!transition) return list;\n\n\n    const result = customParseConvertMatches(transition, TRANSITION_TIMING_REG)\n    list = result.str.split(',').map(it => {\n\n      const fields = it.split(' ').filter(Boolean);\n\n      if (fields.length >= 4 ) {\n          /* @keyframes duration | timing-function | delay | \n          iteration-count | direction | fill-mode | play-state | name */\n          //animation: 3s ease-in 1s 2 reverse both paused slidein;        \n        return {\n          name: fields[0],\n          duration: Length.parse(fields[1]),          \n          timingFunction: customParseReverseMatches(fields[2], result.matches),          \n          delay: Length.parse(fields[3]),          \n        }\n      } else if (fields.length >= 3) {\n        /* @keyframes duration | timing-function | delay | name */\n        //animation: 3s linear 1s slidein;        \n        return {\n          name: fields[0],\n          duration: Length.parse(fields[1]),          \n          delay: Length.parse(fields[2]),          \n        }\n      } else if (fields.length >= 1) {\n        /* @keyframes duration | name */\n        //animation: 3s slidein;        \n        return {\n          name: fields[0],\n          duration: Length.parse(fields[1]),          \n        }\n      } else {\n        return {}\n      }\n    })\n\n    return list.map(it => Transition.parse(it));\n  }    \n}\n","\nimport {\n  LOAD,\n  CLICK,\n  DOMDIFF,\n  SUBSCRIBE,\n} from \"el/sapa/Event\";\n\n\n\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { Transition } from \"el/editor/property-parser/Transition\";\nimport { curveToPath } from \"el/utils/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './TransitionProperty.scss';\n\nexport default class TransitionProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('transition.property.title');\n  }\n\n  getBody() {\n    return /*html*/`<div class='elf--transition-list' ref='$transitionList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n        <button type=\"button\" ref=\"$add\" title=\"add Transition\">${iconUse(\"add\")}</button>\n    `;\n  }\n\n  isFirstShow() {\n    return true;\n  }\n\n  [LOAD(\"$transitionList\") + DOMDIFF]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    return Transition.parseStyle(current.transition).map((it, index) => {\n\n      const selectedClass = this.state.selectedIndex === index ? \"selected\" : \"\";\n      const path = curveToPath(it.timingFunction, 30, 30)\n\n      return /*html*/`\n      <div class='transition-group-item'>\n        <div class='transition-item ${selectedClass}' data-index='${index}' ref=\"transitionIndex${index}\">\n            <div class='timing preview' data-index='${index}' ref='$preview${index}'>\n              <svg class='item-canvas' width=\"30\" height=\"30\" viewBox=\"0 0 30 30\">\n                <path d=\"${path}\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n              </svg>\n            </div>\n            <div class='name'>\n              <div class='labels'>\n                <span class='property-name' title='Property'>${it.name}</span>\n                <span class='duration' title='Duration'><small>Duration: ${it.duration}</small></span>\n                <span class='delay' title='Delay'><small>Delay: ${it.delay}</small></span>\n              </div>\n            </div>\n            <div class='tools'>\n                <button type=\"button\" class=\"del\" data-index=\"${index}\">\n                  ${iconUse(\"remove2\")}\n                </button>\n            </div>\n        </div>\n      </div>        \n      `;\n    });\n  }\n\n  [SUBSCRIBE('refreshSelection')]() {\n    this.refreshShowIsNot([]);\n  }\n\n\n  [CLICK(\"$add\")](e) {\n    var current = this.$selection.current;\n\n    if (current) {\n\n      this.command('setAttributeForMulti', 'add transition', this.$selection.packByValue({\n        transition: (item) => Transition.add(item.transition)\n      }))\n\n      this.nextTick(() => {\n        setTimeout(() => {\n          this.refresh();\n        }, 100)\n      })\n    } else {\n      alert('Select a layer');\n    }\n\n  }\n\n\n  getCurrentTransition() {\n    return this.current.transitions[this.selectedIndex];\n  }\n\n  [CLICK(\"$transitionList .tools .del\")](e) {\n    var removeIndex = e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.reset({\n      transition: Transition.remove(current.transition, removeIndex)\n    })  \n\n    this.emit(\"refreshElement\", current);\n\n    this.refresh();    \n  \n  }\n\n  //       ......\n  //  selected  ?\n  selectItem(selectedIndex, isSelected = true) {\n    if (isSelected) {\n      this.refs[`transitionIndex${selectedIndex}`].addClass(\"selected\");\n    } else {\n      this.refs[`transitionIndex${selectedIndex}`].removeClass(\"selected\");\n    }\n  }\n\n  viewTransitionPicker($preview) {\n    if (typeof this.selectedIndex === \"number\") {\n      this.selectItem(this.selectedIndex, false);\n    }\n\n\n\n    this.selectedIndex = +$preview.attr(\"data-index\");\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentTransition = Transition.get(this.current.transition, this.selectedIndex);\n\n    this.viewTransitionPropertyPopup();\n  }\n\n  viewTransitionPropertyPopup() {\n    if (!this.currentTransition) return;\n\n    const transition = this.currentTransition;\n    this.emit(\"showTransitionPropertyPopup\", {\n      changeEvent: 'changeTransitionPropertyPopup',\n      data: transition.toCloneObject(),\n      instance: this  \n    });\n  }\n\n  [CLICK(\"$transitionList .preview\")](e) {\n    this.viewTransitionPicker(e.$dt);\n  }\n\n  getRef(...args) {\n    return this.refs[args.join(\"\")];\n  }\n\n  [SUBSCRIBE(\"changeTransitionPropertyPopup\")](data) {\n\n    if (this.currentTransition) {\n\n      this.currentTransition.reset({ ...data });\n\n      if (this.current) {\n\n        this.current.reset({\n          transition: Transition.replace(this.current.transition, this.selectedIndex, this.currentTransition)\n        })\n\n        this.emit(\"refreshElement\", this.current);        \n        this.refresh();\n      }\n    }\n  }\n}","import { LOAD, SUBSCRIBE, SUBSCRIBE_SELF} from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './TransitionPropertyPopup.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nconst property_list = [\n  'none',\n  'all',\n  'background-color',\n  'background-position',\n  'background-size',\n  'border',\n  'border-color',\n  'border-width',\n  'border-bottom',\n  'border-bottom-color',\n  'border-bottom-left-radius',\n  'border-bottom-right-radius',\n  'border-bottom-width',\n  'border-left',\n  'border-left-color',\n  'border-left-width',\n  'border-radius', \n  'border-right',\n  'border-right-color',\n  'border-right-width',\n  'border-spacing',\n  'border-top',\n  'border-top-color',\n  'border-top-left-radius',\n  'border-top-right-radius',\n  'border-top-width',\n  'bottom',\n  'box-shadow',\n  'color',\n  'filter',\t\t\n\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-weight',\n  'height',\n  'left',\n  'letter-spacing',\n  'line-height',\n  'margin',\n  'margin-bottom',\n  'margin-left',\n  'margin-right',\n  'margin-top',\n  'max-height',\n  'max-width',\n  'min-height',\n  'min-width',\n  'opacity',\n  \n  'padding',\n  'padding-bottom',\n  'padding-left',\n  'padding-right',\n  'padding-top',\n  'perspective',\n  'perspective-origin',\n  'right',\n  'text-decoration',\n  'text-decoration-color',\n  'text-indent',\n  'text-shadow',\n  'top',\n  'transform',\n  'vertical-align',\n  'visibility',\n  'width',\n  'word-spacing',\n  'z-index'\n].map(it => ({\n  value: it,\n  text: it,\n}));\n\n\nexport default class TransitionPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return 'Transition'\n  }\n\n  initState() {\n    return {\n      changeEvent: '', \n      instance: {}, \n      data: {\n        timingFunction: 'linear',\n        duration: '0s',\n        delay: '0s',\n        name: 'all'\n      } \n    };\n  }\n\n\n  updateData(opt) {\n    this.state.data = {...this.state.data, ...opt} \n    if (this.state.instance) {\n      this.state.instance.trigger(this.state.changeEvent, this.state.data);\n    }\n  }\n\n  getBody() {\n    return /*html*/`<div class='elf--transition-property-popup' ref='$popup'></div>`;\n  }\n\n  [LOAD('$popup')] () {\n    return /*html*/`\n      <div class=\"box\">\n        ${this.templateForProperty()}\n        ${this.templateForTimingFunction()}\n        ${this.templateForDelay()}\n        ${this.templateForDuration()}\n      </div>\n    `;\n  }\n\n  templateForTimingFunction () {\n    return /*html*/`\n    <div class='timing-function'>\n      <label>Timing function</label>\n      <object refClass=\"CubicBezierEditor\" ref='$cubicBezierEditor' key=\"timingFunction\" value=\"${this.state.data.timingFunction || 'linear'}\" onChange='changeCubicBezier' />\n    </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeTransition')] (key, value) {\n    this.updateData({\n      [key]: value\n    })\n  }\n\n  templateForProperty() {\n   \n    return /*html*/`\n      <div class='name'>\n        <object refClass=\"SelectEditor\"  \n          ref='$property' \n          icon=\"true\" \n          label=\"Property\" \n          key='name' \n          value=\"${this.state.data.name}\" \n          options=${variable(property_list)} \n          onChange='changeTransition' \n        /> \n      </div>\n    `\n  }\n  \n\n  templateForDelay () {\n    return /*html*/`\n    <div class='delay'>\n      <object refClass=\"RangeEditor\"  ref='$delay' label='Delay' calc='false' key='delay' value='${this.state.data.delay}' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    `\n  }\n\n  templateForDuration () {\n    return /*html*/`\n    <div class='duration'>\n      <object refClass=\"RangeEditor\"  ref='$duration' label='Duration'  calc='false' key='duration' value='${this.state.data.duration}' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    this.updateData({ [key]: value })\n  }\n\n  [SUBSCRIBE_SELF('changeCubicBezier')] (key, value) {\n    this.updateData({ [key]: value })\n  }\n\n  [SUBSCRIBE(\"showTransitionPropertyPopup\")](data) {\n    this.setState(data);\n\n    this.show(250)\n\n    this.children.$cubicBezierEditor.trigger('showCubicBezierEditor', data.data.timingFunction)        \n  }\n\n  [SUBSCRIBE(\"hideTransitionPropertyPopup\")]() {\n    this.$el.hide();\n  }\n}","\nimport { LOAD, CLICK, BIND, DEBOUNCE, CHANGEINPUT, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './VideoProperty.scss';\n\nconst video_dom_property = [\n  // 'audioTracks',\n  // 'autoplay',\n  // 'buffered',\n  // 'controller',\n  // 'controls',\n  // 'controlsList',\n  // 'crossOrigin',\n  // 'currentSrc',\n  // 'currentTime',\n  // 'defaultMuted',\n  // 'defaultPlaybackRate',\n  'duration',\n  // 'ended',\n  // 'error',\n  // 'initialTime',\n  // 'loop',\n  // 'mediaGroup',\n  // 'muted',\n  // 'networkState',\n  // 'onerror',\n  // 'paused',\n  // 'playbackRate',\n  // 'readyState',\n  // 'seekable',\n  // 'sinkId',\n  // 'src',\n  // 'srcObject',\n  // 'textTracks',\n  // 'videoTracks',\n  'volume'\n]\n\nexport default class VideoProperty extends BaseProperty {\n\n  getClassName() {\n    return 'item elf--video-property'\n  }\n\n  getTitle() {\n    return this.$i18n('video.property.title')\n  }\n\n  initState() {\n    return {\n      $video: {el: {}},\n      status: 'play',\n      volume: 1\n    }\n  }\n\n  getBody() {\n    return /*html*/`<div ref='$body' style='padding-top: 3px;'></div>`;\n  }  \n\n  get video () {\n    return this.state.$video.el;\n  }\n\n  get volumeStatus () {\n    if (this.state.volume === 0) return 'muted'\n    if (this.state.volume > 0.5) return 'up'\n\n    return 'down'\n  }\n\n  play () {\n    if (this.video) this.video.play();\n  }\n\n  pause () {\n    if (this.video) this.video.pause();\n  }  \n\n  [LOAD(\"$body\")]() { \n    var current = this.$selection.current || {playTime: \"0:1:1\"};\n    var currentTime = current.currentTime || 0;\n    var duration = (current.playTime || '0:1:1').split(\":\").pop()\n    return /*html*/`\n        <div ref='$tools' class='play-control' data-selected-value=\"${this.state.status}\">\n          <button type=\"button\" data-value=\"play\" >${icon.play} ${this.$i18n('video.property.play')}</button>\n          <button type=\"button\" data-value=\"pause\">${icon.pause}  ${this.$i18n('video.property.pause')}</button>      \n          <div>\n            <object refClass=\"NumberRangeEditor\"  ref='$currentTime' min=\"0\" max=\"${duration}\" value=\"${currentTime}\" step=\"0.001\" onchange=\"changeCurrentTime\" />\n          </div>\n        </div>    \n        <div class='property-item animation-property-item has-label'>        \n          <div class='group'>\n            <span class='add-timeline-property' data-property='volume'></span>\n            ${this.$i18n('video.property.volume')}\n          </div>\n          <div ref='$volume_control' class='volume-control' data-selected-value='${this.volumeStatus}'>\n            <span data-value='muted'>${icon.volume_off}</span>\n            <span data-value='down'>${icon.volume_down}</span>\n            <span data-value='up'>${icon.volume_up}</span>\n            <input type=\"range\" ref='$volume' min=\"0\" max=\"1\" step=\"0.001\" value=\"${this.state.volume}\" />\n          </div>          \n        </div>\n        <div class='property-item animation-property-item has-label'>        \n          <div class='group'>\n            <span class='add-timeline-property' data-property='playbackRate'></span>\n            ${this.$i18n('video.property.playbackRate')}\n          </div>\n          <div>\n            <object refClass=\"NumberRangeEditor\"  ref='$playbackRate' min=\"0.1\" max=\"10\" clamp=\"true\" value=\"${this.state.playbackRate}\" step=\"0.001\" onchange=\"changePlaybackRate\" />\n          </div>\n        </div>        \n        <div class='property-item animation-property-item full'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='playTime'></span>\n            ${this.$i18n('video.property.playTime')}\n          </div>\n          <object refClass=\"MediaProgressEditor\" ref='$progress'  key='playTime' value=\"${current.playTime}\" onchange=\"changeSelect\" />\n        </div>\n      `;\n  }\n\n  [SUBSCRIBE('changeCurrentTime')] (key, currentTime) {\n    this.setState({ currentTime}, false)\n    this.command('setAttributeForMulti', 'change video property', this.$selection.packByValue({ currentTime }));\n  }\n\n  [SUBSCRIBE('changePlaybackRate')] (key, playbackRate) {\n    this.setState({ playbackRate}, false)\n    // this.video.playbackRate = playbackRate;\n    this.command('setAttributeForMulti', 'change video property', this.$selection.packByValue({ playbackRate }));\n  }\n\n  [CHANGEINPUT('$volume')] (e) {\n    const volume = Number(this.refs.$volume.value)\n    this.setState({ volume }, false)\n    this.bindData('$volume_control')\n    this.command('setAttributeForMulti', 'change video property', this.$selection.packByValue({ volume }));\n  }\n\n  [BIND('$volume_control')] () {\n    return {\n      'data-selected-value': this.volumeStatus\n    }\n  }\n\n  [BIND('$tools')] () {\n    return {\n      'data-selected-value': this.state.status\n    }\n  }\n\n  [CLICK('$tools button')] (e) {\n    var playType = e.$dt.attr('data-value');\n\n    switch(playType) {\n    case 'play': \n      this.setState({ status: 'pause' }, false)\n      this.play();\n      break; \n    case 'pause': \n      this.setState({ status: 'play' }, false)\n      this.pause();\n      break; \n    }\n\n    this.bindData('$tools')\n  }\n\n  [SUBSCRIBE_SELF('changeValue') + DEBOUNCE(100)] (key, value) {\n    if (!this.state.$video) return;\n\n    this.command('setAttributeForMulti', 'change video property', this.$selection.packByValue({ [key]: value }));    \n  }\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n    this.command('setAttributeForMulti', 'change video property', this.$selection.packByValue({ [key]: value }));    \n  }\n\n  [SUBSCRIBE_SELF('updateVideoEvent')] (e) {\n    if (this.video.paused) {\n      this.setState({ \n        status: 'play',\n        currentTime: this.video.currentTime\n      }, false)\n      this.bindData('$tools');\n    }\n\n    this.children.$currentTime.setValue(this.video.currentTime)\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    const current = this.$selection.current;\n    this.refreshShow(['video'])\n\n    if (current && current.is('video')) {\n      this.emit('refElement', current.id, ($el) => {\n        const $video = $el.$('video');\n\n        this.state.$video = $video; \n\n        this.setState({\n          volume: current.volume,\n          currentTime: current.currentTime,\n          playbackRate: current.playbackRate\n        }, false)\n\n        this.video.ontimeupdate = (e) => {\n          this.trigger('updateVideoEvent', e);\n        }\n\n        this.video.onprogress = (e) => {\n          this.trigger('updateVideoEvent', e);\n        }\n        \n        this.load('$body');\n      })\n  \n    }\n\n  }\n}","import alignment from \"./alignment\"\nimport animation from \"./animation\"\nimport appearance from \"./appearance\"\nimport artboard from \"./artboard\"\nimport backdropFilter from \"./backdrop-filter\"\nimport backgroundClip from \"./background-clip\"\nimport backgroundImage from \"./background-image\"\nimport border from \"./border\"\nimport borderImage from \"./border-image\"\nimport borderRadius from \"./border-radius\"\nimport boxModel from \"./box-model\"\nimport boxShadow from \"./box-shadow\"\nimport clipPath from \"./clip-path\"\nimport codeview from \"./codeview\"\nimport color from \"./color\"\nimport component from \"./component\"\nimport content from \"./content\"\nimport defaultConfigs from \"./default-configs\"\nimport defaultItems from \"./default-items\"\nimport defaultMessages from \"./default-messages\"\nimport defaultPatterns from \"./default-patterns\"\n\nimport exportResource from \"./export-resource\"\nimport filter from \"./filter\"\nimport font from \"./font\"\nimport fontSpacing from \"./font-spacing\"\nimport gradient from \"./gradient\"\nimport gradientAsset from \"./gradient-asset\"\nimport history from \"./history\"\nimport iframe from \"./iframe\"\nimport image from \"./image\"\nimport keyframe from \"./keyframe\"\nimport layerTree from \"./layer-tree\"\nimport layout from \"./layout\"\nimport patternAsset from \"./pattern-asset\"\nimport perspective from \"./perspective\"\nimport perspectiveOrigin from \"./perspective-origin\"\nimport position from \"./position\"\nimport project from \"./project\"\nimport propertyEditor from \"./property-editor\"\nimport rendererHtml from \"./renderer-html\"\nimport rendererJson from \"./renderer-json\"\nimport rendererSvg from \"./renderer-svg\"\nimport selector from \"./selector\"\nimport svgFilterAsset from \"./svg-filter-asset\"\nimport svgItem from \"./svg-item\"\nimport svgText from \"./svg-text\"\nimport text from \"./text\"\nimport textClip from \"./text-clip\"\nimport textFill from \"./text-fill\"\nimport textShadow from \"./text-shadow\"\n// import timeline from \"./timeline\"\nimport transform from \"./transform\"\nimport transformOrigin from \"./transform-origin\"\nimport transition from \"./transition\"\nimport video from \"./video\"\n\n\nexport default [\n\n    defaultConfigs,\n    defaultMessages,\n    defaultItems,\n    defaultPatterns,\n\n    rendererHtml,\n    rendererJson,\n    rendererSvg,\n\n    // common editor \n    propertyEditor,\n    color,\n    gradient,\n\n    // inspector.tab.style    \n    alignment,\n    artboard,\n\n    // layout \n    boxModel,\n    position,    \n    layout,    \n    transform,\n    // transformOrigin,    \n    appearance,\n    perspective,\n    perspectiveOrigin,\n\n    // iframe,\n    component,\n    backgroundImage,\n    // border \n    border,\n    borderRadius,\n\n    svgText,\n    font,\n    text,\n    textShadow,\n    fontSpacing,\n    content,\n    textFill,\n    textClip,     \n\n\n    // resource    \n    video,\n    image,\n\n\n    patternAsset,\n    svgFilterAsset,\n\n    svgItem,\n    layerTree,\n    backgroundClip,\n    borderImage,\n\n    filter,\n    backdropFilter,\n    boxShadow,\n    clipPath,\n    gradientAsset,\n\n    exportResource,\n\n\n\n    // animation \n    transition,\n    keyframe,\n    animation,\n    selector,\n\n    // codeview \n    codeview,\n\n    // history\n    history,\n\n    // todo: timeline,\n    //timeline\n    project,\n]","import { Editor } from \"el/editor/manager/Editor\";\nimport configs from \"./configs\";\n\n\n\n/**\n * register i18n default messages \n * \n * @param {Editor} editor\n */\nexport default function (editor) {\n\n    configs.forEach(config => {\n        editor.registerConfig(config);\n    });\n\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport locales from \"./locales\";\n\n/**\n * register i18n default messages \n * \n * @param {Editor} editor\n */\nexport default function (editor) {\n\n    Object.keys(locales).forEach(function (locale) {\n        editor.registerI18nMessage(locale, locales[locale]);\n    });\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { ArtBoard } from \"./layers/ArtBoard\";\nimport { CircleLayer } from \"./layers/CircleLayer\";\n// import { CubeLayer } from \"./layers/CubeLayer\";\n// import { CylinderLayer } from \"./layers/CylinderLayer\";\nimport { ImageLayer } from \"./layers/ImageLayer\";\nimport { Project } from \"./layers/Project\";\nimport { RectLayer } from \"./layers/RectLayer\";\nimport { SVGPathItem } from \"./layers/SVGPathItem\";\nimport { SVGTextItem } from \"./layers/SVGTextItem\";\nimport { SVGTextPathItem } from \"./layers/SVGTextPathItem\";\nimport { TemplateLayer } from \"./layers/TemplateLayer\";\nimport { TextLayer } from \"./layers/TextLayer\";\n// import { VideoLayer } from \"./layers/VideoLayer\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerItem(\"project\", Project);        \n    editor.registerItem(\"artboard\", ArtBoard);\n    editor.registerItem(\"rect\", RectLayer);\n    editor.registerItem(\"circle\", CircleLayer);\n    // editor.registerItem(\"cube\", CubeLayer);\n    // editor.registerItem(\"cylinder\", CylinderLayer);\n    editor.registerItem(\"image\", ImageLayer);\n    editor.registerItem(\"text\", TextLayer);\n    editor.registerItem(\"svg-path\", SVGPathItem);\n    editor.registerItem(\"svg-text\", SVGTextItem);\n    editor.registerItem(\"svg-textpath\", SVGTextPathItem);\n    editor.registerItem(\"template\", TemplateLayer);\n    // editor.registerItem(\"video\", VideoLayer);\n}","import texture from './icons/texture';\nimport TextureView from './views/TextureView';\nimport { Editor } from 'el/editor/manager/Editor';\nimport CSSTextureView from './views/CSSTextureView';\nimport SVGTextureView from './views/SVGTextureView';\n\n/**\n * \n * @param {Editor} editor \n */\n export default function (editor) {\n\n    editor.registerElement({\n        TextureView,\n        CSSTextureView,\n        SVGTextureView\n    });    \n\n    editor.registerMenuItem('leftbar.tab', {\n        TextureView: { \n            value: \"texture\",\n            title: \"Texture\",\n            icon: texture\n        }\n    })\n\n    editor.registerMenuItem('leftbar.tab.texture', {\n        TextureView\n    })\n\n\n}","export default `\n<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#000000\">\n    <path d=\"M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z\"/>\n</svg>\n`","import { Editor } from \"el/editor/manager/Editor\";\nimport HTMLRenderer from \"./HTMLRenderer\";\nimport ArtBoardRender from \"./HTMLRenderer/ArtBoardRender\";\nimport CircleRender from \"./HTMLRenderer/CircleRender\";\nimport CubeRender from \"./HTMLRenderer/CubeRender\";\nimport ImageRender from \"./HTMLRenderer/ImageRender\";\nimport ProjectRender from \"./HTMLRenderer/ProjectRender\";\nimport RectRender from \"./HTMLRenderer/RectRender\";\nimport SVGPathRender from \"./HTMLRenderer/SVGPathRender\";\nimport SVGTextPathRender from \"./HTMLRenderer/SVGTextPathRender\";\nimport SVGTextRender from \"./HTMLRenderer/SVGTextRender\";\nimport TemplateRender from \"./HTMLRenderer/TemplateRender\";\nimport TextRender from \"./HTMLRenderer/TextRender\";\nimport VideoRender from \"./HTMLRenderer/VideoRender\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    // html renderer \n    editor.registerRendererType('html', new HTMLRenderer(editor))\n\n    // html renderer item \n    editor.registerRenderer('html', 'project', new ProjectRender());\n    editor.registerRenderer('html', 'artboard', new ArtBoardRender());\n    editor.registerRenderer('html', 'rect', new RectRender());\n    editor.registerRenderer('html', 'circle', new CircleRender());\n    editor.registerRenderer('html', 'image', new ImageRender());\n    editor.registerRenderer('html', 'text', new TextRender());\n    editor.registerRenderer('html', 'video', new VideoRender());\n    editor.registerRenderer('html', 'svg-path', new SVGPathRender());\n    editor.registerRenderer('html', 'svg-text', new SVGTextRender());\n    editor.registerRenderer('html', 'svg-textpath', new SVGTextPathRender());\n    editor.registerRenderer('html', 'cube', new CubeRender());\n    editor.registerRenderer('html', 'template', new TemplateRender());\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport JSONRenderer from \"./JSONRenderer\";\nimport ArtBoardRender from \"./JSONRenderer/ArtBoardRender\";\nimport CircleRender from \"./JSONRenderer/CircleRender\";\nimport IFrameRender from \"./JSONRenderer/IFrameRender\";\nimport ImageRender from \"./JSONRenderer/ImageRender\";\nimport ProjectRender from \"./JSONRenderer/ProjectRender\";\nimport RectRender from \"./JSONRenderer/RectRender\";\nimport SVGPathRender from \"./JSONRenderer/SVGPathRender\";\nimport SVGTextPathRender from \"./JSONRenderer/SVGTextPathRender\";\nimport SVGTextRender from \"./JSONRenderer/SVGTextRender\";\nimport TemplateRender from \"./JSONRenderer/TemplateRender\";\nimport TextRender from \"./JSONRenderer/TextRender\";\nimport VideoRender from \"./JSONRenderer/VideoRender\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    // json renderer     \n    editor.registerRendererType('json', new JSONRenderer(editor))\n\n    // json renderer item \n    editor.registerRenderer('json', 'project', new ProjectRender());\n    editor.registerRenderer('json', 'artboard', new ArtBoardRender());\n    editor.registerRenderer('json', 'rect', new RectRender());\n    editor.registerRenderer('json', 'circle', new CircleRender());\n    editor.registerRenderer('json', 'image', new ImageRender());\n    editor.registerRenderer('json', 'template', new TemplateRender());\n    editor.registerRenderer('json', 'iframe', new IFrameRender());\n    editor.registerRenderer('json', 'text', new TextRender());\n    editor.registerRenderer('json', 'video', new VideoRender());\n    editor.registerRenderer('json', 'svg-path', new SVGPathRender());\n    editor.registerRenderer('json', 'svg-text', new SVGTextRender());\n    editor.registerRenderer('json', 'svg-textpath', new SVGTextPathRender());\n\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport SVGRenderer from \"./SVGRenderer\";\nimport ArtBoardRender from \"./SVGRenderer/ArtBoardRender\";\nimport CircleRender from \"./SVGRenderer/CircleRender\";\nimport IFrameRender from \"./SVGRenderer/IFrameRender\";\nimport ImageRender from \"./SVGRenderer/ImageRender\";\nimport ProjectRender from \"./SVGRenderer/ProjectRender\";\nimport RectRender from \"./SVGRenderer/RectRender\";\nimport SVGPathRender from \"./SVGRenderer/SVGPathRender\";\nimport SVGTextPathRender from \"./SVGRenderer/SVGTextPathRender\";\nimport SVGTextRender from \"./SVGRenderer/SVGTextRender\";\nimport TemplateRender from \"./SVGRenderer/TemplateRender\";\nimport TextRender from \"./SVGRenderer/TextRender\";\nimport VideoRender from \"./SVGRenderer/VideoRender\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    // svg renderer     \n    editor.registerRendererType('svg', new SVGRenderer(editor))\n\n    // svg renderer item \n    editor.registerRenderer('svg', 'project', new ProjectRender());\n    editor.registerRenderer('svg', 'artboard', new ArtBoardRender());\n    editor.registerRenderer('svg', 'rect', new RectRender());\n    editor.registerRenderer('svg', 'circle', new CircleRender());\n    editor.registerRenderer('svg', 'image', new ImageRender());\n    editor.registerRenderer('svg', 'template', new TemplateRender());\n    editor.registerRenderer('svg', 'iframe', new IFrameRender());\n    editor.registerRenderer('svg', 'video', new VideoRender());\n    editor.registerRenderer('svg', 'text', new TextRender());\n    editor.registerRenderer('svg', 'svg-path', new SVGPathRender());\n    editor.registerRenderer('svg', 'svg-text', new SVGTextRender());\n    editor.registerRenderer('svg', 'svg-textpath', new SVGTextPathRender());\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BlendSelectEditor from \"./BlendSelectEditor\";\nimport ClipPathEditor from \"./ClipPathEditor\";\nimport ColorAssetsEditor from \"./ColorAssetsEditor\";\nimport ColorSingleEditor from \"./ColorSingleEditor\";\nimport ColorViewEditor from \"./ColorViewEditor\";\nimport CSSPropertyEditor from \"./CSSPropertyEditor\";\nimport CubicBezierEditor from \"./CubicBezierEditor\";\nimport DirectionEditor from \"./DirectionEditor\";\nimport FilterEditor from \"./FilterEditor\";\nimport FontSelectEditor from \"./FontSelectEditor\";\nimport GradientEditor from \"./GradientEditor\";\nimport IconListViewEditor from \"./IconListViewEditor\";\nimport InputArrayEditor from \"./InputArrayEditor\";\nimport InputRangeEditor from \"./InputRangeEditor\";\nimport IterationCountEditor from \"./IterationCountEditor\";\nimport MediaProgressEditor from \"./MediaProgressEditor\";\nimport NumberInputEditor from \"./NumberInputEditor\";\nimport NumberRangeEditor from \"./NumberRangeEditor\";\nimport PathDataEditor from \"./PathDataEditor\";\nimport PolygonDataEditor from \"./PolygonDataEditor\";\nimport RangeEditor from \"./RangeEditor\";\nimport SelectEditor from \"./SelectEditor\";\nimport SelectIconEditor from \"./SelectIconEditor\";\nimport StrokeDashArrayEditor from \"./StrokeDashArrayEditor\";\nimport TextAreaEditor from \"./TextAreaEditor\";\nimport TextEditor from \"./TextEditor\";\nimport VarEditor from \"./VarEditor\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        IconListViewEditor,\n        TextAreaEditor,\n        TextEditor,\n        ColorSingleEditor,\n        CubicBezierEditor,\n        ClipPathEditor,\n        ColorViewEditor,\n        VarEditor,\n        PathDataEditor,\n        PolygonDataEditor,\n        InputArrayEditor,\n        StrokeDashArrayEditor,\n        NumberInputEditor,\n        NumberRangeEditor,\n        MediaProgressEditor,\n        SelectIconEditor,\n        CSSPropertyEditor,\n        DirectionEditor,\n        IterationCountEditor,\n        GradientEditor,\n        FilterEditor,\n        SelectEditor,\n        BlendSelectEditor,\n        RangeEditor,\n        InputRangeEditor,\n        ColorAssetsEditor,\n        FontSelectEditor\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ColorPickerEditor from \"./ColorPickerEditor\";\nimport ColorPickerPopup from \"./ColorPickerPopup\";\nimport EmbedColorPicker from \"./EmbedColorPicker\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        ColorPickerEditor,\n        EmbedColorPicker\n    })\n    editor.registerMenuItem('popup', {\n        ColorPickerPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport FillEditor from \"./FillEditor\";\nimport FillPickerPopup from \"./FillPickerPopup\";\nimport FillSingleEditor from \"./FillSingleEditor\";\nimport GradientPickerPopup from \"./GradientPickerPopup\";\nimport GradientSingleEditor from \"./GradientSingleEditor\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        FillSingleEditor,\n        FillEditor,\n        GradientSingleEditor,\n    })\n    editor.registerMenuItem('popup', {\n        FillPickerPopup,\n        GradientPickerPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport AlignmentProperty from \"./AlignmentProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        AlignmentProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ArtBoardSizeProperty from \"./ArtBoardSizeProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        ArtBoardSizeProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BoxModelProperty from \"./BoxModelProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        BoxModelProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport PositionProperty from \"./PositionProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        PositionProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport FlexLayoutEditor from \"./FlexLayoutEditor\";\nimport FlexLayoutItemEditor from \"./FlexLayoutItemEditor\";\nimport FlexLayoutItemProperty from \"./FlexLayoutItemProperty\";\nimport GridBoxEditor from \"./GridBoxEditor\";\nimport GridGapEditor from \"./GridGapEditor\";\nimport GridLayoutEditor from \"./GridLayoutEditor\";\nimport GridLayoutItemEditor from \"./GridLayoutItemEditor\";\nimport GridLayoutItemProperty from \"./GridLayoutItemProperty\";\nimport LayoutProperty from \"./LayoutProperty\";\nimport DefaultLayoutItemProperty from './DefaultLayoutItemProperty';\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        FlexLayoutEditor,\n        FlexLayoutItemEditor,\n        GridLayoutEditor,\n        GridLayoutItemEditor,\n        GridBoxEditor,\n        GridGapEditor\n    })\n\n    editor.registerMenuItem('inspector.tab.style', {\n        LayoutProperty,        \n        DefaultLayoutItemProperty,\n        GridLayoutItemProperty,\n        FlexLayoutItemProperty,\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport RotateEditorView from \"./RotateEditorView\";\nimport TransformEditor from \"./TransformEditor\";\nimport TransformProperty from \"./TransformProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    editor.registerElement({\n        RotateEditorView,\n        TransformEditor\n    })\n\n    editor.registerMenuItem('inspector.tab.style', {\n        TransformProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport AppearanceProperty from \"./AppearanceProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        AppearanceProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport PerspectiveProperty from \"./PerspectiveProperty\";\n\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        PerspectiveProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport PerspectiveOriginEditor from \"./PerspectiveOriginEditor\";\nimport PerspectiveOriginProperty from \"./PerspectiveOriginProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        PerspectiveOriginEditor,\n    });\n\n    editor.registerMenuItem('inspector.tab.style', {\n        PerspectiveOriginProperty\n    });\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ComponentProperty from \"./ComponentProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        ComponentProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BackgroundImageEditor from \"./BackgroundImageEditor\";\nimport BackgroundImagePositionPopup from \"./BackgroundImagePositionPopup\";\nimport BackgroundImageProperty from \"./BackgroundImageProperty\";\nimport BackgroundPositionEditor from \"./BackgroundPositionEditor\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        BackgroundImageEditor,\n        BackgroundPositionEditor,\n    })\n\n    editor.registerMenuItem('inspector.tab.style', {\n        BackgroundImageProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        BackgroundImagePositionPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BorderEditor from \"./BorderEditor\";\nimport BorderProperty from \"./BorderProperty\";\nimport BorderValueEditor from \"./BorderValueEditor\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        BorderEditor,\n        BorderValueEditor\n    })\n    editor.registerMenuItem('inspector.tab.style', {\n        BorderProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BorderRadiusEditor from \"./BorderRadiusEditor\";\nimport BorderRadiusProperty from \"./BorderRadiusProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        BorderRadiusEditor,\n    });\n\n    editor.registerMenuItem('inspector.tab.style', {\n        BorderRadiusProperty\n    });\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport SVGTextProperty from \"./SVGTextProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        SVGTextProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport FontProperty from \"./FontProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        FontProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport TextProperty from \"./TextProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        TextProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport TextShadowEditor from \"./TextShadowEditor\";\nimport TextShadowProperty from \"./TextShadowProperty\";\nimport TextShadowPropertyPopup from \"./TextShadowPropertyPopup\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    editor.registerElement({\n        TextShadowEditor\n    })\n\n    editor.registerMenuItem('inspector.tab.style', {\n        TextShadowProperty        \n    })\n\n    editor.registerMenuItem('popup', {\n        TextShadowPropertyPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport FontSpacingProperty from \"./FontSpacingProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        FontSpacingProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ContentProperty from \"./ContentProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    editor.registerElement({\n        ContentProperty\n    })\n    \n}","import { Editor } from \"el/editor/manager/Editor\";\nimport TextFillProperty from \"./TextFillProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        TextFillProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport TextClipProperty from \"./TextClipProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        TextClipProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport VideoProperty from \"./VideoProperty\";\n\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        VideoProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ImageProperty from \"./ImageProperty\";\nimport ImageSelectEditor from \"./ImageSelectEditor\";\nimport ImageSelectPopup from \"./ImageSelectPopup\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        ImageSelectEditor\n    })\n    editor.registerMenuItem('inspector.tab.style', {\n        ImageProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        ImageSelectPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport PatternAssetsProperty from \"./PatternAssetsProperty\";\nimport PatternEditor from \"./PatternEditor\";\nimport PatternInfoPopup from \"./PatternInfoPopup\";\nimport PatternProperty from \"./PatternProperty\";\nimport PatternSizeEditor from \"./PatternSizeEditor\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        PatternEditor,\n        PatternSizeEditor,\n        PatternAssetsProperty\n    })\n\n\n    editor.registerMenuItem('inspector.tab.style', {\n        PatternProperty,\n    })\n\n    editor.registerMenuItem('popup', {\n        PatternInfoPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport SVGFilterAssetsProperty from \"./SVGFilterAssetsProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        SVGFilterAssetsProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ColorMatrixEditor from \"./editor/ColorMatrixEditor\";\nimport FuncFilterEditor from \"./editor/FuncFilterEditor\";\nimport SVGFilterEditor from \"./SVGFilterEditor\";\nimport SVGFilterPopup from \"./SVGFilterPopup\";\nimport SVGFilterSelectEditor from \"./SVGFilterSelectEditor\";\nimport SVGItemProperty from \"./SVGItemProperty\";\n\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    editor.registerElement({\n        ColorMatrixEditor,\n        FuncFilterEditor,\n        SVGFilterSelectEditor,\n        SVGFilterEditor\n    })\n\n\n    editor.registerMenuItem('inspector.tab.style', {\n        SVGItemProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        SVGFilterPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport LayerTreeProperty from \"./LayerTreeProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        LayerTreeProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BackgroundClipProperty from \"./BackgroundClipProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        BackgroundClipProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BorderImageProperty from \"./BorderImageProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        BorderImageProperty        \n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport FilterProperty from \"./FilterProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        FilterProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BackdropFilterProperty from \"./BackdropFilterProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        BackdropFilterProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BoxShadowEditor from \"./BoxShadowEditor\";\nimport BoxShadowProperty from \"./BoxShadowProperty\";\nimport BoxShadowPropertyPopup from \"./BoxShadowPropertyPopup\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        BoxShadowEditor\n    })\n\n    editor.registerMenuItem('inspector.tab.style', {\n        BoxShadowProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        BoxShadowPropertyPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ClipPathPopup from \"./ClipPathPopup\";\nimport ClipPathProperty from \"./ClipPathProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        ClipPathProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        ClipPathPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport GradientAssetsProperty from \"./GradientAssetsProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    editor.registerElement({\n        GradientAssetsProperty\n    })\n    \n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ExportProperty from \"./ExportProperty\";\n\n\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        ExportProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport TransitionProperty from \"./TransitionProperty\";\nimport TransitionPropertyPopup from \"./TransitionPropertyPopup\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.transition', {\n        TransitionProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        TransitionPropertyPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport KeyframePopup from \"./KeyframePopup\";\nimport KeyframeProperty from \"./KeyframeProperty\";\nimport OffsetEditor from \"./OffsetEditor\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        OffsetEditor\n    })\n\n    editor.registerMenuItem('inspector.tab.transition', {\n        KeyframeProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        KeyframePopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport AnimationProperty from \"./AnimationProperty\";\nimport AnimationPropertyPopup from \"./AnimationPropertyPopup\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.transition', {\n        AnimationProperty\n    });\n\n    editor.registerMenuItem('popup', {\n        AnimationPropertyPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport SelectorPopup from \"./SelectorPopup\";\nimport SelectorProperty from \"./SelectorProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.transition', {\n        SelectorProperty   \n    })\n\n    editor.registerMenuItem('popup', {\n        SelectorPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport CodeViewProperty from \"./CodeViewProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.code', {\n        CodeViewProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport HistoryProperty from \"./HistoryProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.history', {\n        HistoryProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ProjectProperty from \"./ProjectProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        ProjectProperty\n    })\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ObjectItems.scss';\n\nexport default class ObjectItems extends EditorElement {\n  template() {\n    return /*html*/`\n        <div class=\"object-items\">\n          <div>\n            <object refClass=\"ProjectProperty\" />\n          </div>\n          <div>\n            <object refClass=\"LayerTreeProperty\" />\n          </div>\n        </div>\n    `;\n  }\n\n}","\nimport { CLICK, DRAGSTART, LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './CustomAssets.scss';\n\nexport default class CustomAssets extends EditorElement {\n  template() {\n\n    return /*html*/`\n      <div class='elf--custom-assets'>\n        <div class='custom-assets-tools'>\n          <div class='title'><label>Custom Assets</label></div>\n          <div class='tools'>\n            <button type=\"button\" ref='$addCustomAsset'>${iconUse('add')}</button>\n          </div>\n        </div>\n        <div class='elf--asset-list' ref='$list'></div>\n      </div>\n    `;\n  }\n\n  async [LOAD('$list')] () {\n    const data = await this.$storageManager.getCustomAssetList()\n    return data.map(it => {\n      return /*html*/`\n        <div class='asset-preview' draggable=\"true\" data-preview-id=\"${it.id}\">\n          <div class='thumbnail'><img src='${it.preview}' /></div>\n          <div class='tools'>\n            <div class='title'>${it.component.name}</div>\n            <div class='buttons'>\n              <button type=\"button\" class='remove-asset-preview' data-preview-id=\"${it.id}\">${iconUse('remove')}</button>\n            </div>\n          </div>\n        </div>\n      `\n    })\n  }\n\n  async [CLICK('$list .remove-asset-preview')] (e) {\n\n    if (confirm(this.$i18n('app.confirm.message.artboard.items.removeCustomAsset'))) {\n\n      const id = e.$dt.data('preview-id');\n\n      await this.$storageManager.removeCustomAsset(id);\n      this.refresh();\n    }\n\n  }\n\n  [DRAGSTART('$list .asset-preview')] (e) {\n    const id = e.$dt.data('preview-id');\n    e.dataTransfer.effectAllowed = \"copy\";\n    e.dataTransfer.setData(\"text/asset\", id);\n  }\n\n  [CLICK('$addCustomAsset')] (e) {\n    this.emit('savePNG', async (datauri) => {\n      await this.$storageManager.saveCustomAsset(datauri);\n      this.refresh();\n    })\n  }\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './LibraryItems.scss';\n\nexport default class LibraryItems extends EditorElement {\n\n  template() {\n    return /*html*/`\n      <div class='elf--library-items'>\n        <div>\n          <object label=\"Search\" refClass=\"TextEditor\" key=\"search\" onchange=${this.subscribe((key, value) => {\n            this.broadcast('search', value);\n          }, 300)} />\n        </div>\n        ${this.$injectManager.generate('library')}\n      </div>\n    `;\n  }\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nexport default class AssetItems extends EditorElement {\n\n  template() {\n    return /*html*/`\n      <div class='asset-items'>\n        ${this.$injectManager.generate('asset')}\n      </div>\n    `;\n  }\n\n}","import { CLICK } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\n\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport ObjectItems from \"./object-list/ObjectItems\";\nimport CustomAssets from \"./object-list/CustomAssets\";\nimport LibraryItems from \"./object-list/LibraryItems\";\nimport AssetItems from \"./object-list/AssetItems\";\n\n\n\nexport default class LayerTab extends EditorElement {\n\n  components() {\n    return {\n      AssetItems,\n      LibraryItems,\n      CustomAssets,\n      ObjectItems,\n    }\n  }\n\n  initState() {\n    return {\n      selectedIndexValue: 2\n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class='layer-tab'>\n        <div class=\"tab number-tab side-tab side-tab-left\" data-selected-value=\"2\" ref=\"$tab\">\n          <div class=\"tab-header\" ref=\"$header\">   \n            <div class=\"tab-item selected\" data-value=\"2\" data-direction=\"right\" data-tooltip=\"${this.$i18n('app.tab.title.layers')}\">\n              <label>${iconUse('layers')}</label>\n            </div>            \n            <div class='tab-item' data-value='3' data-direction=\"right\"  data-tooltip=\"${this.$i18n('app.tab.title.libraries')}\">\n              <label>${iconUse(\"auto_awesome\")}</label>\n            </div>                     \n            <div class='tab-item' data-value='5' data-direction=\"right\"  data-tooltip=\"${this.$i18n('app.tab.title.assets')}\">\n              <label>${iconUse(\"apps\")}</label>\n            </div>   \n            <div class='tab-item' data-value='6' data-direction=\"right\"  data-tooltip=\"${this.$i18n('app.tab.title.components')}\">\n              <label>${iconUse(\"plugin\")}</label>\n            </div>            \n\n            ${this.$injectManager.getTargetMenuItems('leftbar.tab').map(it => {\n              const { value, title} = it.class;   \n              \n              let iconString = it.class.icon;\n              if (icon[it.class.icon]) {\n                iconString = iconUse(it.class.icon);\n              }\n              return /*html*/`\n                <div class='tab-item' data-value='${value}' data-direction=\"right\"  data-tooltip=\"${title}\">\n                  <label>${iconString || title}</label>\n                </div>\n              `\n            })}\n\n          </div>\n          <div class=\"tab-body\" ref=\"$body\">\n            <div class=\"tab-content selected\" data-value=\"2\">\n              <object refClass=\"ObjectItems\" />\n            </div>\n            <div class='tab-content' data-value='3'>\n              <object refClass=\"LibraryItems\" />\n            </div>            \n            <div class='tab-content' data-value='5'>\n              <object refClass=\"AssetItems\" />            \n              <div class='assets'>\n                <object refClass=\"GradientAssetsProperty\" />    \n                <object refClass=\"PatternAssetsProperty\" />    \n                <object refClass=\"ImageAssetsProperty\" />      \n                <object refClass=\"VideoAssetsProperty\" />       \n                <object refClass=\"SVGFilterAssetsProperty\" />                \n              </div>\n            </div>\n            <div class='tab-content' data-value='6'>\n              <object refClass=\"CustomAssets\" />\n            </div>\n            ${this.$injectManager.getTargetMenuItems('leftbar.tab').map(it => {\n              const { value } = it.class;\n              return /*html*/`\n                <div class='tab-content' data-value='${value}'>\n                  ${this.$injectManager.generate(`leftbar.tab.${value}`)}\n                </div>\n              `\n            })}\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  [CLICK(\"$header .tab-item:not(.extra-item)\")](e) {\n\n    var selectedIndexValue = e.$dt.attr('data-value')\n    if (this.state.selectedIndexValue === selectedIndexValue) {\n      return; \n    }\n\n    this.$el.$$(`[data-value=\"${this.state.selectedIndexValue}\"]`).forEach(it => it.removeClass('selected'))\n    this.$el.$$(`[data-value=\"${selectedIndexValue}\"]`).forEach(it => it.addClass('selected'))\n    this.setState({ selectedIndexValue }, false);\n  }\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { LOAD } from 'el/sapa/Event';\nimport icon from 'el/editor/icon/icon';\nimport { isString } from 'el/sapa/functions/func';\n\n\nexport default class IconManager extends EditorElement {\n\n  template() {\n    return /*html*/`\n      <svg viewBox=\"0 0 30 10\" xmlns=\"http://www.w3.org/2000/svg\" ref=\"$list\" style=\"display:none;\">\n      </svg>\n    `;\n  }\n\n  [LOAD('$list')] () {\n    return Object.entries(icon).map(([key, value]) => {\n      if (isString(value) === false ) return '';\n      return value.replace(/\\<svg/g, `<svg id=\"icon-${key}\"`);\n    })\n  }\n}","import { DRAGOVER, DROP, PREVENT, TRANSITIONEND, POINTERSTART, BIND, SUBSCRIBE, CONFIG } from \"el/sapa/Event\";\n\nimport { Length } from \"el/editor/unit/Length\";\n\nimport BaseLayout from \"../common/BaseLayout\"; \nimport BodyPanel from \"../common/BodyPanel\";\nimport PopupManager from \"../common/PopupManager\";\nimport KeyboardManager from \"../common/KeyboardManager\";\n\nimport Inspector from \"./area/Inspector\";\nimport StatusBar from './area/StatusBar';\nimport ToolBar from \"./area/ToolBar\";\nimport PageSubEditor from \"./area/PageSubEditor\";\nimport designEditorPlugins from \"plugins/design-editor-plugins\";\nimport LayerTab from \"./area/LayerTab\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport { isFunction } from 'el/sapa/functions/func';\nimport IconManager from '../common/IconManager';\n\n\nexport default class DesignEditor extends BaseLayout {\n\n  components() {\n    return {\n      LayerTab,\n      PageSubEditor,\n      ToolBar,\n      StatusBar,\n      Inspector,\n      BodyPanel,\n      PopupManager,\n      KeyboardManager,\n      IconManager\n    }\n  }\n\n  getPlugins() {\n    return designEditorPlugins\n  }\n\n  initState() {\n    return {\n      leftSize: 340,\n      rightSize: 280,\n      bottomSize: 0,\n      lastBottomSize: 150\n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class=\"designeditor\">\n        <div class=\"layout-main\">\n          <div class='layout-top' ref='$top'>\n            <object refClass=\"ToolBar\" />\n            <object refClass=\"PageSubEditor\" />\n          </div>\n          <div class=\"layout-middle\" ref='$middle'>      \n            <div class=\"layout-body\" ref='$bodyPanel'>\n              <object refClass=\"BodyPanel\" ref=\"$bodyPanelView\" />\n            </div>                           \n            <div class='layout-left' ref='$leftPanel'>\n              <object refClass='LayerTab' />\n            </div>\n            <div class=\"layout-right\" ref='$rightPanel'>\n              <object refClass='Inspector' />\n            </div>\n\n            <div class='layout-footer' ref='$footerPanel'>\n              <div class='footer-splitter' ref='$footerSplitter' title=\"${this.$i18n('timeline.property.resize')}\"></div>\n              <object refClass='TimelineProperty' />\n            </div>   \n            <div class='splitter' ref='$splitter'></div>\n          </div>\n          <object refClass='StatusBar' />\n          <object refClass=\"KeyboardManager\" />                \n        </div>\n        <object refClass=\"PopupManager\" />\n        <object refClass=\"IconManager\" />          \n      </div>\n    `;\n  }\n\n  [BIND('$splitter')] () {\n    let left = `${this.state.leftSize}px`    \n    if (this.$config.false('show.left.panel')) {\n      left = `0px`\n    }\n\n    return {\n      style: { left }\n    }\n  }\n\n  [BIND('$leftPanel')] () {\n    let left = `0px`    \n    let width = Length.px(this.state.leftSize);\n    let bottom = Length.px(this.state.bottomSize);\n    if (this.$config.false('show.left.panel')) {\n      left = `-${this.state.leftSize}px`    \n    }\n\n    return {\n      style: { left, width, bottom }\n    }\n  }  \n\n  [BIND('$rightPanel')] () {\n    let right = `0px`    \n    let bottom = Length.px(this.state.bottomSize);    \n    if (this.$config.false('show.right.panel')) {\n      right = `-${this.state.rightSize}px`    \n    }\n\n    return {\n      style: { right, bottom }\n    }\n  }    \n\n  [BIND('$bodyPanel')] () {\n   \n    let left = `${this.state.leftSize}px`\n    let right = `${this.state.rightSize}px`\n    let bottom = `${this.state.bottomSize}px`\n\n    if (this.$config.false('show.left.panel')) {\n      left = `0px`\n    }\n\n    if (this.$config.false('show.right.panel')) {\n      right = `0px`\n    }\n\n    return {\n      style: { left, right, bottom }\n    }\n  }  \n  \n\n  [BIND('$footerPanel')] () {\n   \n    let height = Length.px(this.state.bottomSize);\n \n    return {\n      style: { height }\n    }\n  }    \n\n  [POINTERSTART('$splitter') + MOVE('moveSplitter') + END('moveEndSplitter')] () {\n\n    this.minSize = this.$theme('left_size');\n    this.maxSize = this.$theme('left_max_size');\n    this.leftSize = Length.parse(this.refs.$splitter.css('left')).value;\n    this.refs.$splitter.addClass('selected');\n  }\n\n  moveSplitter (dx) {\n    this.setState({\n      leftSize: Math.max(Math.min(this.leftSize + dx, this.maxSize), this.minSize)\n    })\n\n  }\n\n\n\n  moveEndSplitter () {\n    this.refs.$splitter.removeClass('selected');\n  }\n\n  [POINTERSTART('$footerSplitter') + MOVE('moveFooterSplitter')] () {\n\n    this.minFooterSize = this.$theme('bottom_size');\n    this.maxFooterSize = this.$theme('bottom_max_size');\n    this.bottomSize = Length.parse(this.refs.$footerPanel.css('height')).value;\n  }\n\n  moveFooterSplitter (_, dy) {\n    const bottomSize = Math.max(Math.min(this.bottomSize - dy , this.maxFooterSize), this.minFooterSize)\n    this.setState({\n      bottomSize,\n      lastBottomSize: bottomSize      \n    })\n\n    // this.trigger('changeTimelineHeight');\n  }  \n\n  // [SUBSCRIBE('changeTimelineHeight') + THROTTLE(100)] () {\n  //   this.emit('refreshTimeline')\n  // }\n\n  refresh () {\n\n    this.bindData('$splitter');\n    this.bindData('$headerPanel');    \n    this.bindData('$leftPanel');\n    this.bindData('$rightPanel');\n    this.bindData('$toggleRightButton');\n    this.bindData('$toggleLeftButton');            \n    this.bindData('$bodyPanel');  \n    this.bindData('$footerPanel');        \n    \n    this.emit('resizeEditor');\n  }\n\n  [CONFIG('show.left.panel')]() {\n    this.refresh();\n    this.nextTick(() => {\n      this.emit('resizeCanvas');\n    })\n  }\n\n  [CONFIG('show.right.panel')]() {\n    this.refresh();\n    this.nextTick(() => {\n      this.emit('resizeCanvas');\n    })\n  }  \n\n\n  [SUBSCRIBE('toggleFooter')] (isShow) {\n    this.$el.toggleClass('show-footer', isShow);\n\n    if (this.$el.hasClass('show-footer')) {\n      if (this.state.bottomSize === 30) {\n        this.state.bottomSize = this.state.lastBottomSize || this.$theme('bottom_size');\n      }\n    } else {\n      this.state.bottomSize = 30\n    }\n\n    this.refresh();\n\n  }\n\n  [TRANSITIONEND('$el .layout-footer')] (e) {\n    this.emit('toggleFooterEnd');\n\n  }\n\n  /**     */\n  [DRAGOVER('$middle') + PREVENT] (e) {}\n  [DROP('$middle') + PREVENT] (e) {}\n  /**     */  \n\n  [SUBSCRIBE('toggle.fullscreen')] () {\n    this.$el.toggleFullscreen();\n  }\n\n  [SUBSCRIBE('getLayoutElement')] (callback) {\n    if (isFunction(callback)) {\n      callback(this.refs);\n    }\n  }\n}","import Dom from \"./functions/Dom\";\nimport UIElement from \"./UIElement\";\n\n/**\n * UIElement   \n * \n * @param {UIElement} ElementClass\n * @returns {UIElement}\n */ \nexport const start = (ElementClass, opt) => {\n\n  const $container = Dom.create(opt.container || document.body);\n\n  const app = new ElementClass(opt, opt);\n\n  app.render($container);\n\n  return app; \n};","import MenuItem from \"el/editor/ui/menu-items/MenuItem\";\nimport HTMLLayerRender from 'plugins/renderer-html/HTMLRenderer/LayerRender';\nimport * as Event from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Editor } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport icon from \"el/editor/icon/icon\";\nimport { Component } from 'el/editor/model/Component';\n\n\nexport default {\n    EditorInstance: Editor,\n    Length,\n    EditorElement,\n    HTMLLayerRender,\n    Component,\n    MenuItem,\n    BaseProperty,\n    icon,\n    ...Event\n}","import \"../../scss/index.scss\";\nimport \"./layout.scss\"\nimport DesignEditor from \"./DesignEditor\";\nimport * as App from 'el/sapa/App'\nimport exportLibrary from \"export-library/\";\n\nexport default {\n  createDesignEditor(opts = { type: \"white\" }) {\n\n    return App.start(DesignEditor, {\n      ...opts\n    });\n  },\n  ...exportLibrary\n};\n"],"sourceRoot":""}