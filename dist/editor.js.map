{"version":3,"sources":["webpack://editor/webpack/universalModuleDefinition","webpack://editor/webpack/bootstrap","webpack://editor/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://editor/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://editor/./node_modules/@babel/runtime/helpers/createClass.js","webpack://editor/./node_modules/@babel/runtime/helpers/inherits.js","webpack://editor/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://editor/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://editor/./node_modules/@babel/runtime/helpers/get.js","webpack://editor/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://editor/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://editor/./node_modules/@babel/runtime/regenerator/index.js","webpack://editor/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://editor/./node_modules/@babel/runtime/helpers/toArray.js","webpack://editor/./node_modules/nurbs/src/utils/infer-type.js","webpack://editor/./node_modules/nurbs/src/utils/is-array-like.js","webpack://editor/./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js","webpack://editor/./node_modules/nurbs/src/utils/variable.js","webpack://editor/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://editor/./node_modules/nurbs/src/utils/is-ndarray-like.js","webpack://editor/./node_modules/nurbs/src/utils/accessor-preamble.js","webpack://editor/./node_modules/nurbs/src/utils/size-getter.js","webpack://editor/./node_modules/@babel/runtime/helpers/typeof.js","webpack://editor/./node_modules/js-video-url-parser/dist/jsVideoUrlParser.js","webpack://editor/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://editor/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://editor/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://editor/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://editor/./node_modules/nurbs/src/utils/is-ndarray.js","webpack://editor/./node_modules/nurbs/src/utils/ndloop.js","webpack://editor/./node_modules/process/browser.js","webpack://editor/./node_modules/path-browserify/index.js","webpack://editor/./node_modules/fit-curve/lib/fit-curve.js","webpack://editor/./node_modules/nurbs/nurbs.js","webpack://editor/./node_modules/pathkit-wasm/bin/pathkit.js","webpack://editor/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://editor/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://editor/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://editor/./node_modules/regenerator-runtime/runtime.js","webpack://editor/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://editor/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://editor/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://editor/./node_modules/nurbs/src/utils/cache-key.js","webpack://editor/./node_modules/nurbs/src/utils/create-accessors.js","webpack://editor/./node_modules/nurbs/src/numerical-derivative.js","webpack://editor/./node_modules/nurbs/src/evaluate.js","webpack://editor/./node_modules/nurbs/src/transform.js","webpack://editor/./node_modules/nurbs/src/support.js","webpack://editor/./src/el/sapa/Event.js","webpack://editor/./src/el/sapa/functions/func.js","webpack://editor/./node_modules/gl-matrix/esm/common.js","webpack://editor/./node_modules/gl-matrix/esm/mat4.js","webpack://editor/./node_modules/gl-matrix/esm/vec3.js","webpack://editor/./node_modules/gl-matrix/esm/vec4.js","webpack://editor/./node_modules/gl-matrix/esm/quat.js","webpack://editor/./node_modules/gl-matrix/esm/mat3.js","webpack://editor/./node_modules/gl-matrix/esm/vec2.js","webpack://editor/./src/el/utils/math.js","webpack://editor/./src/el/editor/unit/Length.js","webpack://editor/./src/el/editor/items/Item.js","webpack://editor/./src/el/sapa/functions/DomDiff.js","webpack://editor/./src/el/sapa/functions/uuid.js","webpack://editor/./src/el/sapa/functions/registElement.js","webpack://editor/./src/el/sapa/functions/Dom.js","webpack://editor/./src/el/sapa/handler/BaseHandler.js","webpack://editor/./src/el/sapa/handler/DomEventHandler.js","webpack://editor/./src/el/sapa/handler/BindHandler.js","webpack://editor/./src/el/sapa/EventMachine.js","webpack://editor/./src/el/sapa/BaseStore.js","webpack://editor/./src/el/editor/ui/theme/index.js","webpack://editor/./src/el/editor/ui/theme/dark.js","webpack://editor/./src/el/editor/ui/theme/light.js","webpack://editor/./src/el/editor/manager/TimelineSelectionManager.js","webpack://editor/./src/el/editor/property-parser/TransformOriginCache.js","webpack://editor/./src/el/editor/property-parser/TransformOrigin.js","webpack://editor/./src/el/utils/collision.js","webpack://editor/./src/el/utils/time.js","webpack://editor/./src/el/utils/bezier.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateNumber.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateIdentity.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateLength.js","webpack://editor/./src/el/editor/property-parser/BorderRadius.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateBorderRadius.js","webpack://editor/./src/el/utils/formatter.js","webpack://editor/./src/el/utils/create.js","webpack://editor/./src/el/utils/func.js","webpack://editor/./src/el/editor/items/PropertyItem.js","webpack://editor/./src/el/utils/ColorNames.js","webpack://editor/./src/el/utils/fromLAB.js","webpack://editor/./src/el/utils/fromRGB.js","webpack://editor/./src/el/utils/fromHSL.js","webpack://editor/./src/el/utils/parser.js","webpack://editor/./src/el/editor/property-parser/BoxShadow.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateBoolean.js","webpack://editor/./src/el/utils/fromCMYK.js","webpack://editor/./src/el/utils/fromHSV.js","webpack://editor/./src/el/utils/fromYCrCb.js","webpack://editor/./src/el/utils/mixin.js","webpack://editor/./src/el/utils/Color.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateColor.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateBoxShadow.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateString.js","webpack://editor/./src/el/editor/interpolate/timing-functions/steps.js","webpack://editor/./src/el/editor/interpolate/timing-functions/ease-out-elastic.js","webpack://editor/./src/el/editor/interpolate/timing-functions/index.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateRotate.js","webpack://editor/./src/el/editor/property-parser/TextShadow.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateTextShadow.js","webpack://editor/./src/el/editor/property-parser/image-resource/ImageResource.js","webpack://editor/./src/el/editor/property-parser/image-resource/ColorStep.js","webpack://editor/./src/el/editor/property-parser/image-resource/Gradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/StaticGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/URLImageResource.js","webpack://editor/./src/el/editor/property-parser/image-resource/LinearGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/RepeatingLinearGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/RadialGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/RepeatingRadialGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/ConicGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/RepeatingConicGradient.js","webpack://editor/./src/el/editor/property-parser/BackgroundImage.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateColorStep.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateColorStepList.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateLinearGradient.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateRadialGradient.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateConicGradient.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateImageResource.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateRepeatingLinearGradient.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateRepeatingRadialGradient.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/gradient/makeInterpolateRepeatingConicGradient.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateBackgroundImage.js","webpack://editor/./src/el/editor/property-parser/Filter.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateFilterItem.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateFilter.js","webpack://editor/./src/el/editor/unit/DirectionLength.js","webpack://editor/./src/el/editor/property-parser/ClipPath.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateClipPath.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/clip-path/makeInterpolateClipPathCircle.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/clip-path/makeInterpolateClipPathEllipse.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/clip-path/makeInterpolateClipPathInset.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/clip-path/makeInterpolateClipPathPolygon.js","webpack://editor/./src/el/editor/property-parser/TransformCache.js","webpack://editor/./src/el/editor/property-parser/Transform.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/transform/makeInterpolateTransformLength.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/transform/makeInterpolateTransformNumber.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/transform/makeInterpolateTransformRotate.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateTransform.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateTransformOrigin.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolatePerspectiveOrigin.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateStrokeDashArray.js","webpack://editor/./src/el/editor/parser/Point.js","webpack://editor/./src/el/editor/parser/Segment.js","webpack://editor/./node_modules/svg-arc-to-cubic-bezier/modules/index.js","webpack://editor/./src/el/editor/parser/PathParser.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/svg/makeInterpolatePathValues.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/svg/makeInterpolatePath.js","webpack://editor/./src/el/editor/parser/PathStringManager.js","webpack://editor/./src/el/editor/parser/PolygonParser.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/svg/makeInterpolatePolygon.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/offset-path/makeInterpolateLine.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/offset-path/makeInterpolateQuard.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/offset-path/makeInterpolateCubic.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateOffsetPath.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/offset-path/makeInterpolateOffset.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolateText.js","webpack://editor/./src/el/editor/interpolate/interpolate-functions/makeInterpolatePlayTime.js","webpack://editor/./src/el/editor/interpolate/index.js","webpack://editor/./src/el/editor/property-parser/Offset.js","webpack://editor/./src/el/editor/property-parser/Keyframe.js","webpack://editor/./src/el/editor/manager/ComponentManager.js","webpack://editor/./src/el/editor/manager/ModelManager.js","webpack://editor/./src/el/editor/model/BaseModel.js","webpack://editor/./src/el/editor/model/TimelineModel.js","webpack://editor/./src/el/editor/model/AssetModel.js","webpack://editor/./src/plugins/default-items/layers/Project.js","webpack://editor/./src/el/editor/manager/SelectionManager.js","webpack://editor/./src/el/editor/commands/_doForceRefreshSelection.js","webpack://editor/./src/el/editor/commands/clipboard.copy.js","webpack://editor/./src/el/editor/commands/clipboard.paste.js","webpack://editor/./src/el/editor/commands/fileDropItems.js","webpack://editor/./src/el/editor/commands/updateImage.js","webpack://editor/./src/el/editor/commands/updateVideo.js","webpack://editor/./src/el/editor/util/loadOriginalImage.js","webpack://editor/./src/el/editor/commands/addImageAssetItem.js","webpack://editor/./src/el/editor/util/loadOriginalVideo.js","webpack://editor/./src/el/editor/commands/addVideoAssetItem.js","webpack://editor/./src/el/editor/commands/dropImageUrl.js","webpack://editor/./src/el/editor/commands/addSVGFilterAssetItem.js","webpack://editor/./src/el/editor/commands/updateImageAssetItem.js","webpack://editor/./src/el/editor/commands/updateVideoAssetItem.js","webpack://editor/./src/el/editor/parser/AssetParser.js","webpack://editor/./src/el/editor/commands/updateUriList.js","webpack://editor/./src/el/editor/util/downloadFile.js","webpack://editor/./src/el/editor/commands/downloadJSON.js","webpack://editor/./src/el/editor/manager/ExportManager.js","webpack://editor/./src/el/editor/commands/downloadSVG.js","webpack://editor/./src/el/editor/util/createImagePng.js","webpack://editor/./src/el/editor/commands/downloadPNG.js","webpack://editor/./src/el/editor/commands/load.json.js","webpack://editor/./src/el/editor/commands/_currentProject.js","webpack://editor/./src/el/editor/commands/addTimelineProperty.js","webpack://editor/./src/el/editor/commands/setTimelineOffset.js","webpack://editor/./src/el/editor/commands/addTimelineCurrentProperty.js","webpack://editor/./src/el/editor/commands/removeTimelineProperty.js","webpack://editor/./src/el/editor/commands/deleteTimelineKeyframe.js","webpack://editor/./src/el/editor/commands/selectTimelineItem.js","webpack://editor/./src/el/editor/commands/removeTimeline.js","webpack://editor/./src/el/editor/commands/removeAnimationItem.js","webpack://editor/./src/el/editor/commands/addTimelineKeyframe.js","webpack://editor/./src/el/editor/commands/copyTimelineProperty.js","webpack://editor/./src/el/editor/commands/playTimelineItem.js","webpack://editor/./src/el/editor/commands/prevTimelineItem.js","webpack://editor/./src/el/editor/commands/firstTimelineItem.js","webpack://editor/./src/el/editor/commands/nextTimelineItem.js","webpack://editor/./src/el/editor/commands/lastTimelineItem.js","webpack://editor/./src/el/editor/commands/addTimelineItem.js","webpack://editor/./src/el/editor/commands/drop.asset.js","webpack://editor/./src/el/editor/commands/addBackgroundImageGradient.js","webpack://editor/./src/el/editor/commands/addBackgroundImageAsset.js","webpack://editor/./src/el/editor/commands/removeLayer.js","webpack://editor/./src/el/editor/commands/push.mode.view.js","webpack://editor/./src/el/editor/commands/segment.move.down.js","webpack://editor/./src/el/editor/commands/segment.move.up.js","webpack://editor/./src/el/editor/commands/segment.move.right.js","webpack://editor/./src/el/editor/commands/segment.move.left.js","webpack://editor/./src/el/editor/property-parser/PatternCache.js","webpack://editor/./src/el/editor/property-parser/Pattern.js","webpack://editor/./src/el/editor/commands/addBackgroundImagePattern.js","webpack://editor/./src/el/editor/commands/addBackgroundColor.js","webpack://editor/./src/el/editor/commands/sort.center.js","webpack://editor/./src/el/editor/commands/sort.left.js","webpack://editor/./src/el/editor/commands/sort.middle.js","webpack://editor/./src/el/editor/commands/sort.bottom.js","webpack://editor/./src/el/editor/commands/sort.top.js","webpack://editor/./src/el/editor/commands/sort.right.js","webpack://editor/./src/el/editor/commands/same.width.js","webpack://editor/./src/el/editor/commands/same.height.js","webpack://editor/./src/el/editor/commands/addLayerView.js","webpack://editor/./src/el/editor/commands/setEditorLayout.js","webpack://editor/./src/el/editor/commands/item.move.depth.down.js","webpack://editor/./src/el/editor/commands/item.move.depth.up.js","webpack://editor/./src/el/editor/commands/group.item.js","webpack://editor/./src/el/editor/commands/ungroup.item.js","webpack://editor/./src/el/editor/commands/history.refreshSelection.js","webpack://editor/./src/el/editor/commands/setAttributeForMulti.js","webpack://editor/./src/el/editor/commands/history.setAttributeForMulti.js","webpack://editor/./src/el/editor/commands/history.addLayer.js","webpack://editor/./src/el/editor/commands/history.removeLayer.js","webpack://editor/./src/el/editor/commands/updatePathItem.js","webpack://editor/./src/el/editor/commands/moveLayer.js","webpack://editor/./src/el/editor/commands/moveToCenter.js","webpack://editor/./src/el/editor/commands/moveLayerForItems.js","webpack://editor/./src/el/editor/commands/moveSelectionToCenter.js","webpack://editor/./src/el/editor/commands/savePNG.js","webpack://editor/./src/el/editor/commands/refreshCursor.js","webpack://editor/./src/el/editor/commands/copy.path.js","webpack://editor/./src/el/editor/commands/index.js","webpack://editor/./src/el/editor/commands/model/update.js","webpack://editor/./src/el/editor/commands/pop.mode.view.js","webpack://editor/./src/el/editor/commands/doubleclick.item.js","webpack://editor/./src/el/editor/commands/open.editor.js","webpack://editor/./src/el/editor/commands/refreshHistory.js","webpack://editor/./src/el/editor/commands/convertPasteText.js","webpack://editor/./src/el/editor/commands/recoverCursor.js","webpack://editor/./src/el/editor/commands/toggle.tool.hand.js","webpack://editor/./src/el/editor/commands/rotateLayer.js","webpack://editor/./src/el/editor/commands/history.removeProject.js","webpack://editor/./src/el/editor/commands/history.refreshSelectionProject.js","webpack://editor/./src/el/editor/commands/history.redo.js","webpack://editor/./src/el/editor/commands/history.undo.js","webpack://editor/./src/el/editor/commands/refreshArtboard.js","webpack://editor/./src/el/editor/commands/resetSelection.js","webpack://editor/./src/el/editor/commands/segment.delete.js","webpack://editor/./src/el/editor/commands/item.move.depth.first.js","webpack://editor/./src/el/editor/commands/item.move.depth.last.js","webpack://editor/./src/el/editor/commands/keymap.keydown.js","webpack://editor/./src/el/editor/commands/keymap.keyup.js","webpack://editor/./src/el/editor/commands/scale.minus.js","webpack://editor/./src/el/editor/commands/scale.plus.js","webpack://editor/./src/el/editor/commands/pauseTimelineItem.js","webpack://editor/./src/el/editor/commands/refreshSelectedOffset.js","webpack://editor/./src/el/editor/commands/setLocale.js","webpack://editor/./src/el/editor/commands/saveJSON.js","webpack://editor/./src/el/editor/commands/updateResource.js","webpack://editor/./src/el/editor/commands/updateScale.js","webpack://editor/./src/el/editor/commands/showExportView.js","webpack://editor/./src/el/editor/commands/addArtBoard.js","webpack://editor/./src/el/editor/commands/addCustomComponent.js","webpack://editor/./src/el/editor/commands/addImage.js","webpack://editor/./src/el/editor/commands/addVideo.js","webpack://editor/./src/el/editor/commands/addLayer.js","webpack://editor/./src/el/editor/commands/addProject.js","webpack://editor/./src/el/editor/commands/convertPath.js","webpack://editor/./src/el/editor/commands/newComponent.js","webpack://editor/./src/el/editor/commands/refreshElement.js","webpack://editor/./src/el/editor/commands/refreshProject.js","webpack://editor/./src/el/editor/commands/resizeArtBoard.js","webpack://editor/./src/el/editor/commands/updateClipPath.js","webpack://editor/./src/el/editor/manager/CommandManager.js","webpack://editor/./src/el/utils/detect.js","webpack://editor/./src/el/editor/shortcuts/clipboard.copy.js","webpack://editor/./src/el/editor/shortcuts/index.js","webpack://editor/./src/el/editor/shortcuts/history.undo.js","webpack://editor/./src/el/editor/shortcuts/history.redo.js","webpack://editor/./src/el/editor/shortcuts/set.tool.hand.js","webpack://editor/./src/el/editor/shortcuts/item.rotate.meta.left.js","webpack://editor/./src/el/editor/shortcuts/item.rotate.meta.right.js","webpack://editor/./src/el/editor/shortcuts/select.view.js","webpack://editor/./src/el/editor/shortcuts/add.artboard.js","webpack://editor/./src/el/editor/shortcuts/add.rect.js","webpack://editor/./src/el/editor/shortcuts/add.rect.m.js","webpack://editor/./src/el/editor/shortcuts/add.circle.js","webpack://editor/./src/el/editor/shortcuts/add.circle.l.js","webpack://editor/./src/el/editor/shortcuts/add.text.js","webpack://editor/./src/el/editor/shortcuts/add.path.js","webpack://editor/./src/el/editor/shortcuts/add.brush.js","webpack://editor/./src/el/editor/shortcuts/group.item.js","webpack://editor/./src/el/editor/shortcuts/ungroup.item.js","webpack://editor/./src/el/editor/shortcuts/segment.move.key.down.js","webpack://editor/./src/el/editor/shortcuts/segment.move.key.up.js","webpack://editor/./src/el/editor/shortcuts/segment.move.key.right.js","webpack://editor/./src/el/editor/shortcuts/segment.move.key.left.js","webpack://editor/./src/el/editor/shortcuts/segment.move.shift.down.js","webpack://editor/./src/el/editor/shortcuts/segment.move.shift.up.js","webpack://editor/./src/el/editor/shortcuts/segment.move.shift.left.js","webpack://editor/./src/el/editor/shortcuts/segment.move.shift.right.js","webpack://editor/./src/el/editor/shortcuts/segment.move.alt.down.js","webpack://editor/./src/el/editor/shortcuts/segment.move.alt.up.js","webpack://editor/./src/el/editor/shortcuts/segment.move.alt.left.js","webpack://editor/./src/el/editor/shortcuts/segment.move.alt.right.js","webpack://editor/./src/el/editor/shortcuts/segment.delete.js","webpack://editor/./src/el/editor/shortcuts/item.move.key.left.js","webpack://editor/./src/el/editor/shortcuts/item.move.key.right.js","webpack://editor/./src/el/editor/shortcuts/item.move.key.down.js","webpack://editor/./src/el/editor/shortcuts/item.move.key.up.js","webpack://editor/./src/el/editor/shortcuts/item.move.shift.down.js","webpack://editor/./src/el/editor/shortcuts/item.move.shift.right.js","webpack://editor/./src/el/editor/shortcuts/item.move.shift.up.js","webpack://editor/./src/el/editor/shortcuts/item.move.shift.left.js","webpack://editor/./src/el/editor/shortcuts/item.move.alt.left.js","webpack://editor/./src/el/editor/shortcuts/item.move.alt.down.js","webpack://editor/./src/el/editor/shortcuts/item.move.alt.right.js","webpack://editor/./src/el/editor/shortcuts/item.move.alt.up.js","webpack://editor/./src/el/editor/shortcuts/item.move.depth.up.js","webpack://editor/./src/el/editor/shortcuts/item.move.depth.down.js","webpack://editor/./src/el/editor/shortcuts/removeLayer.js","webpack://editor/./src/el/editor/shortcuts/removeLayerByDeleteKey.js","webpack://editor/./src/el/editor/shortcuts/scale.minus.js","webpack://editor/./src/el/editor/shortcuts/scale.plus.js","webpack://editor/./src/el/editor/shortcuts/clipboard.paste.js","webpack://editor/./src/el/editor/types/key.js","webpack://editor/./src/el/editor/manager/ShortCutManager.js","webpack://editor/./src/el/editor/manager/ConfigManager.js","webpack://editor/./src/el/editor/manager/HistoryManager.js","webpack://editor/./src/el/editor/manager/SnapManager.js","webpack://editor/./src/el/editor/manager/KeyboardManager.js","webpack://editor/./src/el/editor/manager/ViewportManager.js","webpack://editor/./src/el/editor/manager/StorageManager.js","webpack://editor/./src/el/editor/icon/_icon_template.js","webpack://editor/./src/el/editor/icon/chevron_right.js","webpack://editor/./src/el/editor/icon/create_folder.js","webpack://editor/./src/el/editor/icon/add_box.js","webpack://editor/./src/el/editor/icon/visible.js","webpack://editor/./src/el/editor/icon/remove.js","webpack://editor/./src/el/editor/icon/copy.js","webpack://editor/./src/el/editor/icon/lock.js","webpack://editor/./src/el/editor/icon/undo.js","webpack://editor/./src/el/editor/icon/redo.js","webpack://editor/./src/el/editor/icon/save.js","webpack://editor/./src/el/editor/icon/export.js","webpack://editor/./src/el/editor/icon/add.js","webpack://editor/./src/el/editor/icon/add_note.js","webpack://editor/./src/el/editor/icon/publish.js","webpack://editor/./src/el/editor/icon/folder.js","webpack://editor/./src/el/editor/icon/artboard.js","webpack://editor/./src/el/editor/icon/image.js","webpack://editor/./src/el/editor/icon/setting.js","webpack://editor/./src/el/editor/icon/remove2.js","webpack://editor/./src/el/editor/icon/repeat.js","webpack://editor/./src/el/editor/icon/screen.js","webpack://editor/./src/el/editor/icon/arrowRight.js","webpack://editor/./src/el/editor/icon/check.js","webpack://editor/./src/el/editor/icon/border_all.js","webpack://editor/./src/el/editor/icon/border_inner.js","webpack://editor/./src/el/editor/icon/paint.js","webpack://editor/./src/el/editor/icon/title.js","webpack://editor/./src/el/editor/icon/timer.js","webpack://editor/./src/el/editor/icon/chevron_left.js","webpack://editor/./src/el/editor/icon/input.js","webpack://editor/./src/el/editor/icon/filter.js","webpack://editor/./src/el/editor/icon/play.js","webpack://editor/./src/el/editor/icon/pause.js","webpack://editor/./src/el/editor/icon/autorenew.js","webpack://editor/./src/el/editor/icon/code.js","webpack://editor/./src/el/editor/icon/build.js","webpack://editor/./src/el/editor/icon/close.js","webpack://editor/./src/el/editor/icon/gradient.js","webpack://editor/./src/el/editor/icon/transform.js","webpack://editor/./src/el/editor/icon/scatter.js","webpack://editor/./src/el/editor/icon/shape.js","webpack://editor/./src/el/editor/icon/ballot.js","webpack://editor/./src/el/editor/icon/add_circle.js","webpack://editor/./src/el/editor/icon/lock_open.js","webpack://editor/./src/el/editor/icon/outline_image.js","webpack://editor/./src/el/editor/icon/edit.js","webpack://editor/./src/el/editor/icon/size.js","webpack://editor/./src/el/editor/icon/color.js","webpack://editor/./src/el/editor/icon/align_center.js","webpack://editor/./src/el/editor/icon/align_justify.js","webpack://editor/./src/el/editor/icon/align_left.js","webpack://editor/./src/el/editor/icon/align_right.js","webpack://editor/./src/el/editor/icon/list.js","webpack://editor/./src/el/editor/icon/grid.js","webpack://editor/./src/el/editor/icon/grid3x3.js","webpack://editor/./src/el/editor/icon/expand.js","webpack://editor/./src/el/editor/icon/brush.js","webpack://editor/./src/el/editor/icon/dahaze.js","webpack://editor/./src/el/editor/icon/star.js","webpack://editor/./src/el/editor/icon/polygon.js","webpack://editor/./src/el/editor/icon/cube.js","webpack://editor/./src/el/editor/icon/color_lens.js","webpack://editor/./src/el/editor/icon/circle.js","webpack://editor/./src/el/editor/icon/rect.js","webpack://editor/./src/el/editor/icon/note.js","webpack://editor/./src/el/editor/icon/skip_next.js","webpack://editor/./src/el/editor/icon/skip_prev.js","webpack://editor/./src/el/editor/icon/fast_forward.js","webpack://editor/./src/el/editor/icon/fast_rewind.js","webpack://editor/./src/el/editor/icon/alternate.js","webpack://editor/./src/el/editor/icon/alternate_reverse.js","webpack://editor/./src/el/editor/icon/speed.js","webpack://editor/./src/el/editor/icon/replay.js","webpack://editor/./src/el/editor/icon/shuffle.js","webpack://editor/./src/el/editor/icon/cat.js","webpack://editor/./src/el/editor/icon/refresh.js","webpack://editor/./src/el/editor/icon/gps_fixed.js","webpack://editor/./src/el/editor/icon/file_copy.js","webpack://editor/./src/el/editor/icon/archive.js","webpack://editor/./src/el/editor/icon/storage.js","webpack://editor/./src/el/editor/icon/doc.js","webpack://editor/./src/el/editor/icon/flash_on.js","webpack://editor/./src/el/editor/icon/view_list.js","webpack://editor/./src/el/editor/icon/near_me.js","webpack://editor/./src/el/editor/icon/photo.js","webpack://editor/./src/el/editor/icon/specular.js","webpack://editor/./src/el/editor/icon/diffuse.js","webpack://editor/./src/el/editor/icon/palette.js","webpack://editor/./src/el/editor/icon/landscape.js","webpack://editor/./src/el/editor/icon/blur.js","webpack://editor/./src/el/editor/icon/blur_linear.js","webpack://editor/./src/el/editor/icon/waves.js","webpack://editor/./src/el/editor/icon/vintage.js","webpack://editor/./src/el/editor/icon/looks.js","webpack://editor/./src/el/editor/icon/opacity.js","webpack://editor/./src/el/editor/icon/shadow.js","webpack://editor/./src/el/editor/icon/broken_image.js","webpack://editor/./src/el/editor/icon/camera_roll.js","webpack://editor/./src/el/editor/icon/view_comfy.js","webpack://editor/./src/el/editor/icon/settings_input_component.js","webpack://editor/./src/el/editor/icon/merge.js","webpack://editor/./src/el/editor/icon/texture.js","webpack://editor/./src/el/editor/icon/account_tree.js","webpack://editor/./src/el/editor/icon/format_shapes.js","webpack://editor/./src/el/editor/icon/flip.js","webpack://editor/./src/el/editor/icon/flipY.js","webpack://editor/./src/el/editor/icon/control_point.js","webpack://editor/./src/el/editor/icon/flip_camera.js","webpack://editor/./src/el/editor/icon/device_hub.js","webpack://editor/./src/el/editor/icon/text_rotate.js","webpack://editor/./src/el/editor/icon/cylinder.js","webpack://editor/./src/el/editor/icon/underline.js","webpack://editor/./src/el/editor/icon/strikethrough.js","webpack://editor/./src/el/editor/icon/italic.js","webpack://editor/./src/el/editor/icon/local_library.js","webpack://editor/./src/el/editor/icon/lens.js","webpack://editor/./src/el/editor/icon/flag.js","webpack://editor/./src/el/editor/icon/left.js","webpack://editor/./src/el/editor/icon/center.js","webpack://editor/./src/el/editor/icon/right.js","webpack://editor/./src/el/editor/icon/top.js","webpack://editor/./src/el/editor/icon/bottom.js","webpack://editor/./src/el/editor/icon/middle.js","webpack://editor/./src/el/editor/icon/same_width.js","webpack://editor/./src/el/editor/icon/same_height.js","webpack://editor/./src/el/editor/icon/local_movie.js","webpack://editor/./src/el/editor/icon/keyboard.js","webpack://editor/./src/el/editor/icon/apps.js","webpack://editor/./src/el/editor/icon/outline_rect.js","webpack://editor/./src/el/editor/icon/outline_circle.js","webpack://editor/./src/el/editor/icon/launch.js","webpack://editor/./src/el/editor/icon/pentool.js","webpack://editor/./src/el/editor/icon/video.js","webpack://editor/./src/el/editor/icon/volume_down.js","webpack://editor/./src/el/editor/icon/volume_up.js","webpack://editor/./src/el/editor/icon/volume_off.js","webpack://editor/./src/el/editor/icon/arrowLeft.js","webpack://editor/./src/el/editor/icon/group.js","webpack://editor/./src/el/editor/icon/arrow_right.js","webpack://editor/./src/el/editor/icon/layers.js","webpack://editor/./src/el/editor/icon/align_horizontal_center.js","webpack://editor/./src/el/editor/icon/align_horizontal_left.js","webpack://editor/./src/el/editor/icon/align_horizontal_right.js","webpack://editor/./src/el/editor/icon/align_vertical_bottom.js","webpack://editor/./src/el/editor/icon/align_vertical_center.js","webpack://editor/./src/el/editor/icon/align_vertical_top.js","webpack://editor/./src/el/editor/icon/swap_horiz.js","webpack://editor/./src/el/editor/icon/rotate_left.js","webpack://editor/./src/el/editor/icon/rotate.js","webpack://editor/./src/el/editor/icon/vertical_distribute.js","webpack://editor/./src/el/editor/icon/horizontal_distribute.js","webpack://editor/./src/el/editor/icon/delete_forever.js","webpack://editor/./src/el/editor/icon/horizontal_rule.js","webpack://editor/./src/el/editor/icon/navigation.js","webpack://editor/./src/el/editor/icon/web.js","webpack://editor/./src/el/editor/icon/auto_awesome.js","webpack://editor/./src/el/editor/icon/plugin.js","webpack://editor/./src/el/editor/icon/straighten.js","webpack://editor/./src/el/editor/icon/left_hide.js","webpack://editor/./src/el/editor/icon/right_hide.js","webpack://editor/./src/el/editor/icon/pantool.js","webpack://editor/./src/el/editor/icon/draw.js","webpack://editor/./src/el/editor/icon/flex.js","webpack://editor/./src/el/editor/icon/margin.js","webpack://editor/./src/el/editor/icon/source.js","webpack://editor/./src/el/editor/icon/sync.js","webpack://editor/./src/el/editor/icon/outline.js","webpack://editor/./src/el/editor/icon/dark.js","webpack://editor/./src/el/editor/icon/wave.js","webpack://editor/./src/el/editor/icon/boolean_union.js","webpack://editor/./src/el/editor/icon/boolean_difference.js","webpack://editor/./src/el/editor/icon/boolean_intersection.js","webpack://editor/./src/el/editor/icon/boolean_xor.js","webpack://editor/./src/el/editor/icon/flatten.js","webpack://editor/./src/el/editor/icon/smooth.js","webpack://editor/./src/el/editor/icon/stroke_to_path.js","webpack://editor/./src/el/editor/icon/highlight_at.js","webpack://editor/./src/el/editor/icon/to_front.js","webpack://editor/./src/el/editor/icon/to_back.js","webpack://editor/./src/el/editor/icon/icon.js","webpack://editor/./src/el/editor/icon/open_in_full.js","webpack://editor/./src/el/editor/manager/CursorManager.js","webpack://editor/./src/el/editor/manager/AssetManager.js","webpack://editor/./src/el/editor/manager/PluginManager.js","webpack://editor/./src/el/editor/manager/RendererManager.js","webpack://editor/./src/el/editor/manager/InjectManager.js","webpack://editor/./src/el/editor/manager/I18nManager.js","webpack://editor/./src/el/editor/manager/ModeViewManager.js","webpack://editor/./src/el/editor/manager/PathKitManager.js","webpack://editor/./src/el/editor/manager/SegmentSelectionManager.js","webpack://editor/./src/el/editor/manager/LockManager.js","webpack://editor/./src/el/editor/manager/VisibleManager.js","webpack://editor/./src/el/editor/manager/Editor.js","webpack://editor/./src/el/editor/types/event.js","webpack://editor/./src/el/sapa/UIElement.js","webpack://editor/./src/el/editor/ui/common/EditorElement.js","webpack://editor/./src/editor-layouts/common/BaseLayout.js","webpack://editor/./src/editor-layouts/common/body-panel/HorizontalRuler.js","webpack://editor/./src/editor-layouts/common/body-panel/VerticalRuler.js","webpack://editor/./src/el/editor/util/Resource.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/html-render-view/StyleView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/html-render-view/HTMLRenderView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/util-panels/PageTools.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/LayerAppendView.js","webpack://editor/./src/el/editor/parser/SegmentManager.js","webpack://editor/./src/el/editor/parser/PathGenerator.js","webpack://editor/./src/el/editor/property-parser/image-resource/SVGGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/SVGLinearGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/SVGRadialGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/SVGStaticGradient.js","webpack://editor/./src/el/editor/property-parser/image-resource/SVGImageResource.js","webpack://editor/./src/el/editor/property-parser/SVGFill.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/PathDrawView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/PathEditorView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/HoverView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/GuideLineView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/SelectionInfoView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/GridLayoutLineView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/DragAreaView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/DragAreaRectView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/SelectionToolView.js","webpack://editor/./src/editor-layouts/common/body-panel/render-view/draw-panels/GroupSelectionToolView.js","webpack://editor/./src/editor-layouts/common/body-panel/CanvasView.js","webpack://editor/./src/editor-layouts/common/body-panel/page-sub-editor/DrawManager.js","webpack://editor/./src/editor-layouts/common/body-panel/page-sub-editor/PathManager.js","webpack://editor/./src/editor-layouts/common/body-panel/PageSubEditor.js","webpack://editor/./src/editor-layouts/common/BodyPanel.js","webpack://editor/./src/el/editor/ui/window-list/BaseWindow.js","webpack://editor/./src/el/editor/ui/window-list/ExportWindow.js","webpack://editor/./src/el/editor/ui/window-list/ShortcutWindow.js","webpack://editor/./src/el/editor/ui/window-list/ProjectWindow.js","webpack://editor/./src/el/sapa/App.js","webpack://editor/./src/el/editor/ui/window-list/EmbedEditorWindow.js","webpack://editor/./src/el/editor/ui/view/NotificationView.js","webpack://editor/./src/editor-layouts/common/PopupManager.js","webpack://editor/./src/editor-layouts/common/KeyboardManager.js","webpack://editor/./src/el/editor/ui/view/TabPanel.js","webpack://editor/./src/el/editor/ui/view/Tabs.js","webpack://editor/./src/editor-layouts/designeditor/area/Inspector.js","webpack://editor/./src/editor-layouts/designeditor/area/status-bar/LanguageSelector.js","webpack://editor/./src/editor-layouts/designeditor/area/status-bar/LayoutSelector.js","webpack://editor/./src/editor-layouts/designeditor/area/status-bar/VersionView.js","webpack://editor/./src/editor-layouts/designeditor/area/status-bar/SwitchLeftPanel.js","webpack://editor/./src/editor-layouts/designeditor/area/status-bar/SwitchRightPanel.js","webpack://editor/./src/editor-layouts/designeditor/area/StatusBar.js","webpack://editor/./src/el/editor/ui/menu-items/MenuItem.js","webpack://editor/./src/el/editor/ui/menu-items/SelectTool.js","webpack://editor/./src/el/editor/ui/menu-items/AddArtboard.js","webpack://editor/./src/el/editor/ui/menu-items/AddRect.js","webpack://editor/./src/el/editor/ui/menu-items/AddCircle.js","webpack://editor/./src/el/editor/ui/menu-items/AddText.js","webpack://editor/./src/el/editor/ui/menu-items/AddImage.js","webpack://editor/./src/el/editor/ui/menu-items/AddDrawPath.js","webpack://editor/./src/el/editor/ui/menu-items/AddPath.js","webpack://editor/./src/el/editor/ui/menu-items/AddSVGRect.js","webpack://editor/./src/el/editor/ui/menu-items/AddSVGCircle.js","webpack://editor/./src/el/editor/ui/menu-items/AddSVGTextPath.js","webpack://editor/./src/el/editor/ui/menu-items/AddBlankRect.js","webpack://editor/./src/el/editor/ui/menu-items/AddSVGPolygon.js","webpack://editor/./src/el/editor/ui/menu-items/AddSVGStar.js","webpack://editor/./src/el/editor/ui/menu-items/AddSpline.js","webpack://editor/./src/editor-layouts/designeditor/area/tool-bar/ToolMenu.js","webpack://editor/./src/el/editor/ui/menu-items/Projects.js","webpack://editor/./src/el/editor/ui/view/DropdownMenu.js","webpack://editor/./src/el/editor/ui/menu-items/Undo.js","webpack://editor/./src/el/editor/ui/menu-items/Redo.js","webpack://editor/./src/el/editor/ui/menu-items/ExportView.js","webpack://editor/./src/el/editor/ui/menu-items/Download.js","webpack://editor/./src/el/editor/ui/menu-items/Save.js","webpack://editor/./src/el/editor/ui/menu-items/OpenPathEditor.js","webpack://editor/./src/el/editor/ui/menu-items/Outline.js","webpack://editor/./src/el/editor/ui/menu-items/ThemeChanger.js","webpack://editor/./src/editor-layouts/designeditor/area/ToolBar.js","webpack://editor/./src/el/editor/ui/menu-items/BottomAlign.js","webpack://editor/./src/el/editor/ui/menu-items/CenterAlign.js","webpack://editor/./src/el/editor/ui/menu-items/LeftAlign.js","webpack://editor/./src/el/editor/ui/menu-items/MiddleAlign.js","webpack://editor/./src/el/editor/ui/menu-items/RightAlign.js","webpack://editor/./src/el/editor/ui/menu-items/SameHeight.js","webpack://editor/./src/el/editor/ui/menu-items/SameWidth.js","webpack://editor/./src/el/editor/ui/menu-items/TopAlign.js","webpack://editor/./src/el/editor/ui/property/BaseProperty.js","webpack://editor/./src/plugins/alignment/AlignmentProperty.js","webpack://editor/./src/el/utils/customParser.js","webpack://editor/./src/el/editor/property-parser/Animation.js","webpack://editor/./src/plugins/animation/AnimationProperty.js","webpack://editor/./src/el/editor/ui/popup/BasePopup.js","webpack://editor/./src/plugins/animation/AnimationPropertyPopup.js","webpack://editor/./src/plugins/appearance/AppearanceProperty.js","webpack://editor/./src/plugins/artboard/preset/artboard.size.js","webpack://editor/./src/plugins/artboard/ArtBoardSizeProperty.js","webpack://editor/./src/plugins/backdrop-filter/util.js","webpack://editor/./src/plugins/backdrop-filter/BackdropFilterProperty.js","webpack://editor/./src/plugins/background-clip/BackgroundClipProperty.js","webpack://editor/./src/plugins/background-image/BackgroundImageEditor.js","webpack://editor/./src/plugins/background-image/BackgroundImagePositionPopup.js","webpack://editor/./src/plugins/background-image/BackgroundImageProperty.js","webpack://editor/./src/plugins/background-image/BackgroundPositionEditor.js","webpack://editor/./src/plugins/base-editor/BaseUI.js","webpack://editor/./src/plugins/base-editor/Button.js","webpack://editor/./src/plugins/base-editor/ToggleCheckBox.js","webpack://editor/./src/plugins/path-tool/PathToolProperty.js","webpack://editor/./src/el/editor/property-parser/Border.js","webpack://editor/./src/plugins/border/BorderEditor.js","webpack://editor/./src/plugins/border/BorderProperty.js","webpack://editor/./src/plugins/border/BorderValueEditor.js","webpack://editor/./src/plugins/border-image/BorderImageProperty.js","webpack://editor/./src/plugins/border-radius/BorderRadiusEditor.js","webpack://editor/./src/plugins/border-radius/BorderRadiusProperty.js","webpack://editor/./src/plugins/box-model/BoxModelProperty.js","webpack://editor/./src/plugins/box-shadow/BoxShadowEditor.js","webpack://editor/./src/plugins/box-shadow/BoxShadowProperty.js","webpack://editor/./src/plugins/box-shadow/BoxShadowPropertyPopup.js","webpack://editor/./src/plugins/clip-path/editor/CircleEditor.js","webpack://editor/./src/plugins/clip-path/editor/InsetEditor.js","webpack://editor/./src/plugins/clip-path/editor/PolygonEditor.js","webpack://editor/./src/plugins/clip-path/editor/EllipseEditor.js","webpack://editor/./src/plugins/clip-path/ClipPathPopup.js","webpack://editor/./src/plugins/clip-path/ClipPathProperty.js","webpack://editor/./src/plugins/codeview/CodeViewProperty.js","webpack://editor/./src/plugins/color/colorpicker/control/Hue.js","webpack://editor/./src/plugins/color/colorpicker/control/Opacity.js","webpack://editor/./src/plugins/color/colorpicker/control/ColorView.js","webpack://editor/./src/plugins/color/colorpicker/ColorInformation.js","webpack://editor/./src/plugins/color/colorpicker/ColorPalette.js","webpack://editor/./src/el/utils/HueColor.js","webpack://editor/./src/plugins/color/ColorManagerV2.js","webpack://editor/./src/plugins/color/ColorPickerEditor.js","webpack://editor/./src/plugins/color/ColorPickerPopup.js","webpack://editor/./src/plugins/color/EmbedColorPicker.js","webpack://editor/./src/plugins/component/ComponentProperty.js","webpack://editor/./src/plugins/component/ComponentPopup.js","webpack://editor/./src/plugins/content/ContentProperty.js","webpack://editor/./src/plugins/default-configs/configs/index.js","webpack://editor/./src/plugins/default-configs/configs/editor.layout.mode.js","webpack://editor/./src/plugins/default-configs/configs/editor.design.mode.js","webpack://editor/./src/plugins/default-configs/configs/editor.theme.js","webpack://editor/./src/plugins/default-configs/configs/show.outline.js","webpack://editor/./src/plugins/default-configs/configs/set.drag.path.area.js","webpack://editor/./src/plugins/default-configs/configs/set.move.control.point.js","webpack://editor/./src/plugins/default-configs/configs/style.canvas.background.color.js","webpack://editor/./src/plugins/default-configs/configs/area.width.js","webpack://editor/./src/plugins/default-configs/configs/store.key.js","webpack://editor/./src/plugins/default-configs/configs/set.tool.hand.js","webpack://editor/./src/plugins/default-configs/configs/canvas.width.js","webpack://editor/./src/plugins/default-configs/configs/canvas.height.js","webpack://editor/./src/plugins/default-configs/configs/body.move.ms.js","webpack://editor/./src/plugins/default-configs/configs/debug.mode.js","webpack://editor/./src/plugins/default-configs/configs/fixed.angle.js","webpack://editor/./src/plugins/default-configs/configs/show.ruler.js","webpack://editor/./src/plugins/default-configs/configs/show.left.panel.js","webpack://editor/./src/plugins/default-configs/configs/show.right.panel.js","webpack://editor/./src/plugins/default-configs/configs/snap.distance.js","webpack://editor/./src/plugins/default-configs/configs/snap.grid.js","webpack://editor/./src/plugins/default-configs/configs/history.delay.ms.js","webpack://editor/./src/el/editor/model/BaseAssetModel.js","webpack://editor/./src/el/editor/model/MovableModel.js","webpack://editor/./src/el/editor/model/GroupModel.js","webpack://editor/./src/el/editor/property-parser/Selector.js","webpack://editor/./src/el/editor/model/DomModel.js","webpack://editor/./src/el/editor/model/LayerModel.js","webpack://editor/./src/plugins/default-items/layers/ArtBoard.js","webpack://editor/./src/plugins/default-items/layers/CircleLayer.js","webpack://editor/./src/plugins/default-items/layers/ImageLayer.js","webpack://editor/./src/plugins/default-items/layers/RectLayer.js","webpack://editor/./src/plugins/default-items/layers/SVGItem.js","webpack://editor/./src/plugins/default-items/layers/SVGPathItem.js","webpack://editor/./src/plugins/default-items/layers/SVGTextItem.js","webpack://editor/./src/plugins/default-items/layers/SVGTextPathItem.js","webpack://editor/./src/el/editor/model/Component.js","webpack://editor/./src/plugins/default-items/layers/TemplateLayer.js","webpack://editor/./src/plugins/default-items/layers/TextLayer.js","webpack://editor/./src/plugins/default-items/layers/SVGPolygonItem.js","webpack://editor/./src/plugins/default-items/layers/SVGStarItem.js","webpack://editor/./src/plugins/default-items/layers/SplineItem.js","webpack://editor/./src/plugins/default-messages/locales/index.js","webpack://editor/./src/plugins/default-messages/locales/en_US.js","webpack://editor/./src/plugins/default-messages/locales/fr_FR.js","webpack://editor/./src/plugins/default-messages/locales/ko_KR.js","webpack://editor/./src/plugins/default-patterns/views/TextureView.js","webpack://editor/./src/plugins/default-patterns/views/CSSTextureView.js","webpack://editor/./src/plugins/default-patterns/views/SVGTextureView.js","webpack://editor/./src/el/editor/ui/menu-items/OrderDown.js","webpack://editor/./src/el/editor/ui/menu-items/OrderFirst.js","webpack://editor/./src/el/editor/ui/menu-items/OrderLast.js","webpack://editor/./src/el/editor/ui/menu-items/OrderTop.js","webpack://editor/./src/plugins/depth/DepthProperty.js","webpack://editor/./src/plugins/export-resource/ExportProperty.js","webpack://editor/./src/plugins/filter/util.js","webpack://editor/./src/plugins/filter/FilterProperty.js","webpack://editor/./src/plugins/font/FontProperty.js","webpack://editor/./src/plugins/font-spacing/FontSpacingProperty.js","webpack://editor/./src/plugins/gradient/FillEditor.js","webpack://editor/./src/plugins/gradient/GradientPickerPopup.js","webpack://editor/./src/plugins/gradient/FillPickerPopup.js","webpack://editor/./src/plugins/gradient/FillSingleEditor.js","webpack://editor/./src/plugins/gradient/GradientSingleEditor.js","webpack://editor/./src/el/editor/preset/gradients/linear.js","webpack://editor/./src/el/editor/preset/gradients/random-linear.js","webpack://editor/./src/el/editor/preset/gradients/repeat-linear.js","webpack://editor/./src/el/editor/preset/gradients/index.js","webpack://editor/./src/el/editor/preset/gradients/radial.js","webpack://editor/./src/el/editor/preset/gradients/random-radial.js","webpack://editor/./src/el/editor/preset/gradients/repeat-radial.js","webpack://editor/./src/el/editor/preset/gradients/conic.js","webpack://editor/./src/el/editor/preset/gradients/random-conic.js","webpack://editor/./src/el/editor/preset/gradients/repeat-conic.js","webpack://editor/./src/plugins/gradient-asset/GradientAssetsProperty.js","webpack://editor/./src/plugins/history/HistoryProperty.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/ItemRender.js","webpack://editor/./src/el/editor/property-parser/svg-filter/BaseSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/RotaMatrixSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/MergeSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/CompositeSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/MorphologySVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/TurbulenceSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/DisplacementMapSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/ColorMatrixSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/ConvolveMatrixSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/GaussianBlurSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/FloodSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/ComponentTransferSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/DistantLightSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/PointLightSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/SpotLightSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/DiffuseLightingSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/SpecularLightingSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/OffsetSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/BlendSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/SourceSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/SourceGraphicSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/SourceAlphaSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/BackgroundImageSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/BackgroundAlphaSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/FillPaintSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/StrokePaintSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/DropShadowSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/SaturateSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/HueRotateSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/LuminanceAlphaSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/TileSVGFilter.js","webpack://editor/./src/el/editor/property-parser/svg-filter/ImageSVGFilter.js","webpack://editor/./src/el/editor/property-parser/SVGFilter.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/DomRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/LayerRender.js","webpack://editor/./src/plugins/image/ImageProperty.js","webpack://editor/./src/plugins/image/ImageSelectEditor.js","webpack://editor/./src/plugins/image/ImageSelectPopup.js","webpack://editor/./src/plugins/keyframe/KeyframePopup.js","webpack://editor/./src/plugins/keyframe/KeyframeProperty.js","webpack://editor/./src/plugins/keyframe/OffsetEditor.js","webpack://editor/./src/plugins/layer-tree/LayerTreeProperty.js","webpack://editor/./src/plugins/layout/FlexLayoutEditor.js","webpack://editor/./src/plugins/layout/FlexLayoutItemEditor.js","webpack://editor/./src/plugins/layout/FlexLayoutItemProperty.js","webpack://editor/./src/plugins/layout/GridBoxEditor.js","webpack://editor/./src/plugins/layout/GridGapEditor.js","webpack://editor/./src/plugins/layout/GridLayoutEditor.js","webpack://editor/./src/plugins/layout/GridLayoutItemEditor.js","webpack://editor/./src/plugins/layout/GridLayoutItemProperty.js","webpack://editor/./src/plugins/layout/LayoutProperty.js","webpack://editor/./src/plugins/layout/DefaultLayoutItemProperty.js","webpack://editor/./src/el/editor/preset/patterns/index.js","webpack://editor/./src/el/editor/preset/patterns/check.js","webpack://editor/./src/el/editor/preset/patterns/grid.js","webpack://editor/./src/el/editor/preset/patterns/dot.js","webpack://editor/./src/el/editor/preset/patterns/cross-dot.js","webpack://editor/./src/el/editor/preset/patterns/diagonal-line.js","webpack://editor/./src/el/editor/preset/patterns/vertical-line.js","webpack://editor/./src/el/editor/preset/patterns/horizontal-line.js","webpack://editor/./src/plugins/pattern-asset/PatternAssetsProperty.js","webpack://editor/./src/plugins/pattern-asset/PatternEditor.js","webpack://editor/./src/plugins/pattern-asset/PatternInfoPopup.js","webpack://editor/./src/plugins/pattern-asset/util.js","webpack://editor/./src/plugins/pattern-asset/PatternProperty.js","webpack://editor/./src/plugins/pattern-asset/PatternSizeEditor.js","webpack://editor/./src/plugins/perspective/PerspectiveProperty.js","webpack://editor/./src/plugins/perspective-origin/PerspectiveOriginEditor.js","webpack://editor/./src/plugins/perspective-origin/PerspectiveOriginProperty.js","webpack://editor/./src/plugins/position/PositionProperty.js","webpack://editor/./src/plugins/project/ProjectProperty.js","webpack://editor/./src/plugins/property-editor/SelectEditor.js","webpack://editor/./src/plugins/property-editor/BlendSelectEditor.js","webpack://editor/./src/plugins/property-editor/ClipPathEditor.js","webpack://editor/./src/el/editor/preset/colors/random.js","webpack://editor/./src/el/editor/preset/colors/material-red.js","webpack://editor/./src/el/editor/preset/colors/material-pink.js","webpack://editor/./src/el/editor/preset/colors/material-purple.js","webpack://editor/./src/el/editor/preset/colors/material-deeppurple.js","webpack://editor/./src/el/editor/preset/colors/material-indigo.js","webpack://editor/./src/el/editor/preset/colors/material-blue.js","webpack://editor/./src/el/editor/preset/colors/material-lightblue.js","webpack://editor/./src/el/editor/preset/colors/material-cyan.js","webpack://editor/./src/el/editor/preset/colors/material-teal.js","webpack://editor/./src/el/editor/preset/colors/material-green.js","webpack://editor/./src/el/editor/preset/colors/material-lightgreen.js","webpack://editor/./src/el/editor/preset/colors/material-lime.js","webpack://editor/./src/el/editor/preset/colors/material-yellow.js","webpack://editor/./src/el/editor/preset/colors/material-amber.js","webpack://editor/./src/el/editor/preset/colors/material-orange.js","webpack://editor/./src/el/editor/preset/colors/material-deeporange.js","webpack://editor/./src/el/editor/preset/colors/material-brown.js","webpack://editor/./src/el/editor/preset/colors/material-gray.js","webpack://editor/./src/el/editor/preset/colors/material-bluegray.js","webpack://editor/./src/el/editor/preset/colors/opencolor-gray.js","webpack://editor/./src/el/editor/preset/colors/index.js","webpack://editor/./src/plugins/property-editor/ColorAssetsEditor.js","webpack://editor/./src/plugins/property-editor/ColorSingleEditor.js","webpack://editor/./src/plugins/property-editor/ColorViewEditor.js","webpack://editor/./src/plugins/property-editor/CSSPropertyEditor.js","webpack://editor/./src/plugins/property-editor/CubicBezierEditor.js","webpack://editor/./src/plugins/property-editor/DirectionEditor.js","webpack://editor/./src/plugins/property-editor/FilterEditor.js","webpack://editor/./src/plugins/property-editor/FontSelectEditor.js","webpack://editor/./src/plugins/property-editor/GradientEditor.js","webpack://editor/./src/plugins/property-editor/IconListViewEditor.js","webpack://editor/./src/plugins/property-editor/InputArrayEditor.js","webpack://editor/./src/plugins/property-editor/InputRangeEditor.js","webpack://editor/./src/plugins/property-editor/RangeEditor.js","webpack://editor/./src/plugins/property-editor/IterationCountEditor.js","webpack://editor/./src/plugins/property-editor/MediaProgressEditor.js","webpack://editor/./src/plugins/property-editor/NumberInputEditor.js","webpack://editor/./src/plugins/property-editor/NumberRangeEditor.js","webpack://editor/./src/plugins/property-editor/PathDataEditor.js","webpack://editor/./src/plugins/property-editor/PolygonDataEditor.js","webpack://editor/./src/plugins/property-editor/SelectIconEditor.js","webpack://editor/./src/plugins/property-editor/StrokeDashArrayEditor.js","webpack://editor/./src/plugins/property-editor/TextAreaEditor.js","webpack://editor/./src/plugins/property-editor/TextEditor.js","webpack://editor/./src/plugins/property-editor/VarEditor.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/index.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/ArtBoardRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/CircleRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/CubeRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/ImageRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/ProjectRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/RectRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/SVGItemRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/SVGPathRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/SplineRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/SVGPolygonRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/SVGStarRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/SVGTextPathRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/SVGTextRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/template-engine/TemplateEngine.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/template-engine/DomTemplateEngine.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/TemplateRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/TextRender.js","webpack://editor/./src/plugins/renderer-html/HTMLRenderer/VideoRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/index.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/ItemRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/DomRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/MovableRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/BaseAssetRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/ArtBoardRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/LayerRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/CircleRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/IFrameRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/ImageRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/ProjectRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/TimelineRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/AssetRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/RectRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/SVGItemRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/SVGPathRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/SVGTextPathRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/SVGTextRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/TemplateRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/TextRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/VideoRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/SVGPolygonRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/SVGStarRender.js","webpack://editor/./src/plugins/renderer-json/JSONRenderer/SplineRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/index.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/ArtBoardRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGLayerRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/CircleRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/IFrameRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/ImageRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/ProjectRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/RectRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGItemRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SplineRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGPathRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGPolygonRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGStarRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGTextPathRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/SVGTextRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/TemplateRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/TextRender.js","webpack://editor/./src/plugins/renderer-svg/SVGRenderer/VideoRender.js","webpack://editor/./src/plugins/selector/SelectorPopup.js","webpack://editor/./src/plugins/selector/SelectorProperty.js","webpack://editor/./src/plugins/svg-filter-asset/SVGFilterAssetsProperty.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/index.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/red.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/green.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/blue.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/yellow.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/magenta.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/cyan.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/alpha.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/BlueMagenta2.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/BlueShadowMagentHightlight.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/darken.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/ElimBlue.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/GrayOnDark.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/GrayOnLight.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/GrayOnMid.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/HardGreen.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/HardYellow.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/IdenticalRedOverlay.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/lighten.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/lime.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/NoGreenMagenta.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/NoGreenRed.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/peachy.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/RedOverlay.js","webpack://editor/./src/plugins/svg-item/editor/colormatrix/YesGreenColorizedMagenta.js","webpack://editor/./src/plugins/svg-item/editor/ColorMatrixEditor.js","webpack://editor/./src/plugins/svg-item/editor/FuncFilterEditor.js","webpack://editor/./src/plugins/svg-item/editor/svg-filter-preset/index.js","webpack://editor/./src/plugins/svg-item/editor/svg-filter-preset/dancing-stroke.js","webpack://editor/./src/plugins/svg-item/editor/svg-filter-preset/stroke.js","webpack://editor/./src/plugins/svg-item/editor/svg-filter-preset/grayscale.js","webpack://editor/./src/plugins/svg-item/editor/svg-filter-preset/shadow.js","webpack://editor/./src/plugins/svg-item/editor/svg-filter-preset/inner-shadow.js","webpack://editor/./src/plugins/svg-item/SVGFilterEditor.js","webpack://editor/./src/plugins/svg-item/SVGFilterPopup.js","webpack://editor/./src/plugins/svg-item/SVGFilterSelectEditor.js","webpack://editor/./src/plugins/svg-item/SVGItemProperty.js","webpack://editor/./src/plugins/svg-text/SVGTextProperty.js","webpack://editor/./src/plugins/text/TextProperty.js","webpack://editor/./src/plugins/text-clip/TextClipProperty.js","webpack://editor/./src/plugins/text-fill/TextFillProperty.js","webpack://editor/./src/plugins/text-shadow/TextShadowEditor.js","webpack://editor/./src/plugins/text-shadow/TextShadowProperty.js","webpack://editor/./src/plugins/text-shadow/TextShadowPropertyPopup.js","webpack://editor/./src/plugins/transform/RotateEditorView.js","webpack://editor/./src/plugins/transform/TransformEditor.js","webpack://editor/./src/plugins/transform/TransformProperty.js","webpack://editor/./src/plugins/transform-origin/TransformOriginEditor.js","webpack://editor/./src/el/editor/property-parser/Transition.js","webpack://editor/./src/plugins/transition/TransitionProperty.js","webpack://editor/./src/plugins/transition/TransitionPropertyPopup.js","webpack://editor/./src/plugins/video/VideoProperty.js","webpack://editor/./src/plugins/design-editor-plugins.js","webpack://editor/./src/plugins/default-configs/index.js","webpack://editor/./src/plugins/default-messages/index.js","webpack://editor/./src/plugins/default-items/index.js","webpack://editor/./src/plugins/default-patterns/index.js","webpack://editor/./src/plugins/default-patterns/icons/texture.js","webpack://editor/./src/plugins/renderer-html/index.js","webpack://editor/./src/plugins/renderer-json/index.js","webpack://editor/./src/plugins/renderer-svg/index.js","webpack://editor/./src/plugins/base-editor/index.js","webpack://editor/./src/plugins/property-editor/index.js","webpack://editor/./src/plugins/color/index.js","webpack://editor/./src/plugins/gradient/index.js","webpack://editor/./src/plugins/depth/index.js","webpack://editor/./src/plugins/alignment/index.js","webpack://editor/./src/plugins/path-tool/index.js","webpack://editor/./src/plugins/artboard/index.js","webpack://editor/./src/plugins/box-model/index.js","webpack://editor/./src/plugins/position/index.js","webpack://editor/./src/plugins/layout/index.js","webpack://editor/./src/plugins/transform/index.js","webpack://editor/./src/plugins/appearance/index.js","webpack://editor/./src/plugins/perspective/index.js","webpack://editor/./src/plugins/perspective-origin/index.js","webpack://editor/./src/plugins/component/index.js","webpack://editor/./src/plugins/background-image/index.js","webpack://editor/./src/plugins/border/index.js","webpack://editor/./src/plugins/border-radius/index.js","webpack://editor/./src/plugins/svg-text/index.js","webpack://editor/./src/plugins/font/index.js","webpack://editor/./src/plugins/text/index.js","webpack://editor/./src/plugins/text-shadow/index.js","webpack://editor/./src/plugins/font-spacing/index.js","webpack://editor/./src/plugins/content/index.js","webpack://editor/./src/plugins/text-fill/index.js","webpack://editor/./src/plugins/text-clip/index.js","webpack://editor/./src/plugins/video/index.js","webpack://editor/./src/plugins/image/index.js","webpack://editor/./src/plugins/pattern-asset/index.js","webpack://editor/./src/plugins/svg-filter-asset/index.js","webpack://editor/./src/plugins/svg-item/index.js","webpack://editor/./src/plugins/layer-tree/index.js","webpack://editor/./src/plugins/background-clip/index.js","webpack://editor/./src/plugins/border-image/index.js","webpack://editor/./src/plugins/filter/index.js","webpack://editor/./src/plugins/backdrop-filter/index.js","webpack://editor/./src/plugins/box-shadow/index.js","webpack://editor/./src/plugins/clip-path/index.js","webpack://editor/./src/plugins/gradient-asset/index.js","webpack://editor/./src/plugins/export-resource/index.js","webpack://editor/./src/plugins/transition/index.js","webpack://editor/./src/plugins/keyframe/index.js","webpack://editor/./src/plugins/animation/index.js","webpack://editor/./src/plugins/selector/index.js","webpack://editor/./src/plugins/codeview/index.js","webpack://editor/./src/plugins/history/index.js","webpack://editor/./src/plugins/project/index.js","webpack://editor/./src/editor-layouts/designeditor/area/object-list/ObjectItems.js","webpack://editor/./src/editor-layouts/designeditor/area/object-list/CustomAssets.js","webpack://editor/./src/editor-layouts/designeditor/area/object-list/LibraryItems.js","webpack://editor/./src/editor-layouts/designeditor/area/object-list/AssetItems.js","webpack://editor/./src/editor-layouts/designeditor/area/LayerTab.js","webpack://editor/./src/editor-layouts/common/IconManager.js","webpack://editor/./src/editor-layouts/designeditor/area/object-list/SingleObjectItems.js","webpack://editor/./src/editor-layouts/designeditor/area/ItemLayerTab.js","webpack://editor/./src/editor-layouts/designeditor/area/SingleInspector.js","webpack://editor/./src/editor-layouts/designeditor/DesignEditor.js","webpack://editor/./src/export-library/index.js","webpack://editor/./src/editor-layouts/designeditor/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","configurable","writable","protoProps","staticProps","subClass","superClass","constructor","_typeof","assertThisInitialized","self","obj","superPropBase","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arr","arrayWithoutHoles","iterableToArray","nonIterableSpread","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","isNdarray","isNdarrayLike","isArrayLike","inferType","x","dtype","GENERIC_NDARRAY","NDARRAY","ARRAY_OF_ARRAYS","Error","PACKED","data","Array","isArray","ArrayBuffer","isView","strings","raw","slice","freeze","defineProperties","createVariable","nurbs","period","dimAccessors","j","push","sum","join","parts","filter","part","arrayLikeToArray","minLen","toString","from","test","shape","offset","stride","variableName","propertyName","code","dimension","dataVariableName","str","iterator","util","qs","split","params","match","substr","decodeURIComponent","hasParams","combined","keys","sort","timeString","timePairs","totalSeconds","timeValues","replace","trim","parseInt","getLetterTime","getColonTime","getQueryParams$1","UrlParser","_i","_arr","plugins","urlParser","parseProvider","url","parse","result","provider","plugin","removeEmptyParameters","alternatives","op","videoInfo","vi","format","defaultFormat","formats","assign","combineParams$1","CanalPlus","embed","createEmbedUrl","mediaTypes","VIDEO","parseParameters","vid","mediaType","id","combineParams$2","Coub","createLongUrl","parseUrl","createUrl","baseUrl","combineParams$3","getTime$1","Dailymotion","createShortUrl","image","createImageUrl","parseTime","start","combineParams$4","getTime$2","Twitch","STREAM","CLIP","seperateId","pre","parseChannel","channel","utm_content","video","clip","isClip","parseMediaType","combineParams$5","getTime$3","Vimeo","startTime","combineParams$6","getTime$4","Wistia","embedjsonp","createEmbedJsonpUrl","EMBEDVIDEO","wtime","wvideo","combineParams$7","Youku","flash","createFlashUrl","createStaticUrl","VideoIDS","combineParams$8","getTime$5","YouTube","shortImage","createShortImageUrl","longImage","createLongImageUrl","imageQualities","DEFAULT","HQDEFAULT","SDDEFAULT","MQDEFAULT","MAXRESDEFAULT","defaultImageQuality","PLAYLIST","SHARE","CHANNEL","parseVideoUrl","parseChannelUrl","v","list","ci","channelResult","feature","listType","loop","playlist","imageQuality","combineParams$9","getTime$6","SoundCloud","TRACK","APITRACK","APIPLAYLIST","combineParams$a","TeacherTube","AUDIO","DOCUMENT","COLLECTION","GROUP","parsePlaylist","mediaTypeMatch","combineParams$b","TikTok","concat","combineParams$c","Ted","len","arr2","iter","RegExp","String","callback","k","ptr","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","e","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","normalizeArray","allowAboveRoot","up","last","splice","unshift","xs","f","res","resolvedPath","resolvedAbsolute","path","charAt","normalize","isAbsolute","trailingSlash","paths","index","relative","to","end","fromParts","toParts","Math","min","samePartsLength","outputParts","sep","delimiter","dirname","charCodeAt","hasRoot","matchedSlash","basename","ext","extname","startDot","startPart","preDotState","_classCallCheck","fitCubic","points","leftTangent","rightTangent","progressCallback","bezCurve","u","uPrime","maxError","prevErr","splitPoint","prevSplit","centerVector","toCenterTangent","fromCenterTangent","beziers","dist","maths","vectorLen","subtract","addArrays","mulItems","currU","prevU","prevP","forEach","map","chordLengthParameterize","_generateAndReport","generateAndReport","_generateAndReport2","reparameterize","errChange","every","val","_ref","paramsOrig","paramsPrime","_computeMaxError","bez","parameters","maxDist","count","point","floor","t_distMap","mapTtoRelativeDistances","find_t","bezier","q","computeMaxError","A","a","C","X","det_C0_C1","det_C0_X","det_X_C1","alpha_l","alpha_r","epsilon","segLength","tmp","ux","firstPoint","lastPoint","zeros_Xx2x2","dot","generateBezier","maxErr","maxPoint","newtonRaphsonRootFind","qprime","numerator","mulMatrix","denominator","squareItems","qprimeprime","B_parts","B_t_curr","B_t_dist","B_t_prev","sumLen","param","lenMin","tMax","tMin","createTangent","pointA","pointB","zs","items","multiplier","m1","m2","reduce","x1","arr1","addItems","addition","hypot","divItems","divisor","ctrlPoly","tx","pA","pB","pC","pD","some","item","computeCacheKey","createAccessors","numericalDerivative","createEvaluator","createTransform","createSupport","BOUNDARY_TYPES","open","closed","clamped","isBlank","parseNURBS","degree","knots","weights","boundary","opts","dflt","debug","checkBounds","size","pointType","weightType","knotType","splineDimension","set","hasBaseDegree","baseDegree","newCacheKey","__cacheKey","accessors","evaluate","transform","support","evaluator","derivativeOrder","isBasis","domainGetter","sizeArray","ret","isClosed","ctor","parseFcn","_scriptDir","PathKitInit","document","currentScript","src","__filename","aa","g","b","ready","loadCmdsTypedArray","h","Float32Array","SkBits2FloatUnsigned","_malloc","BYTES_PER_ELEMENT","HEAPF32","FromCmds","_FromCmds","_free","cubicYFromX","delete","_SkCubicMap","computeYFromX","cubicPtFromT","computePtFromT","onRuntimeInitialized","SkPath","addPath","_addPath","console","Fb","arc","_arc","arcTo","_arcTo","bezierCurveTo","_cubicTo","close","_close","closePath","conicTo","_conicTo","cubicTo","dash","_dash","ellipse","_ellipse","lineTo","_lineTo","moveTo","_moveTo","_op","quadraticCurveTo","_quadTo","quadTo","rect","_rect","simplify","_simplify","stroke","width","miter_limit","cap","StrokeCap","BUTT","StrokeJoin","MITER","_stroke","_transform","_trim","ba","w","ca","da","importScripts","node","ea","fa","ha","ia","__dirname","readFileSync","buffer","Uint8Array","assert","y","inspect","read","readbuffer","print","log","warn","printErr","location","href","indexOf","lastIndexOf","XMLHttpRequest","send","responseText","responseType","response","ka","ja","z","wasmBinary","noExitRuntime","WebAssembly","la","ma","Table","initial","maximum","element","na","oa","TextDecoder","pa","subarray","decode","fromCharCode","ra","sa","ta","B","D","ua","va","wa","E","xa","ya","za","Aa","F","Ba","Ca","Da","INITIAL_MEMORY","wasmMemory","Memory","byteLength","G","Ea","shift","Jb","tb","dynCall_v","dynCall_vi","HEAP8","Int8Array","HEAP16","Int16Array","HEAP32","Int32Array","HEAPU8","HEAPU16","Uint16Array","HEAPU32","Uint32Array","HEAPF64","Float64Array","Fa","Ga","Ha","Ia","Ja","preRun","H","Ka","La","onAbort","RuntimeError","Ma","I","startsWith","Na","preloadedImages","preloadedAudios","Oa","locateFile","Pa","Ra","Sa","Ta","pop","J","fromWireType","K","L","Ua","Va","Wa","Function","Xa","message","stack","Ya","Za","N","O","$a","ab","bb","P","Q","R","Mb","cb","lb","nb","gb","ib","db","eb","fb","hb","FinalizationGroup","next","unregister","register","jb","kb","S","mb","qb","Sb","ob","Kb","pb","Hb","Pb","xb","U","rb","sb","Rb","clone","Qb","V","ub","wb","W","Eb","Ob","toWireType","yb","zb","Ab","Y","Db","Gb","Z","Ib","Lb","Nb","globalThis","Ub","Vb","InternalError","Wb","Xb","BindingError","isAliasOf","isDeleted","deleteLater","Cb","argPackAdvance","readValueFromPointer","deleteObject","vb","pointerType","getInheritedInstanceCount","getLiveInheritedInstances","flushPendingDeletes","setDelayFunction","UnboundTypeError","count_emval_handles","get_first_emval","Zb","elements","M","Bb","write","T","className","values","Uint8ClampedArray","Yb","qa","Tb","copyWithin","memory","table","$b","asm","monitorRunDependencies","clearInterval","fetch","credentials","ok","arrayBuffer","catch","instantiate","instantiateWasm","instantiateStreaming","___wasm_call_ctors","__Z6ToCmdsRK6SkPath","__Z8FromCmdsmi","__Z7NewPathv","__Z8CopyPathRK6SkPath","__Z6EqualsRK6SkPathS1_","__Z11ToSVGStringRK6SkPath","__Z13FromSVGStringNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE","__Z13ApplySimplifyR6SkPath","__Z11ApplyPathOpR6SkPathRKS_8SkPathOp","__Z10MakeFromOpRK6SkPathS1_8SkPathOp","__Z14ResolveBuilderR11SkOpBuilder","_","__Z8ToCanvasRK6SkPathN10emscripten3valE","$","__Z8ToPath2DRK6SkPath","ac","___getTypeName","cc","calledRun","postRun","setStatus","___embind_register_native_and_builtin_types","dynCall_iiiii","ga","dynCall_ii","dynCall_i","dynCall_viifffffffff","dynCall_vifffffi","dynCall_vifffff","dynCall_viffffff","dynCall_vifffffffi","dynCall_viff","dynCall_viffff","dynCall_vii","dynCall_iii","dynCall_iifff","dynCall_iiffi","dynCall_vifffffffff","dynCall_iiii","dynCall_viii","dynCall_viiii","dynCall_fif","dynCall_viif","dynCall_fi","dynCall_viiifffffffff","dynCall_viifffffi","dynCall_viifffff","dynCall_viiffffff","dynCall_viifffffffi","dynCall_viiff","dynCall_viiffff","dynCall_iiifff","dynCall_iiiffi","dynCall_fii","dynCall_iiffff","dynCall_fiif","dynCall_iiif","dynCall_vifii","dynCall_viifd","dynCall_viid","Qa","dynCall_viddi","dynCall_iidi","dynCall_viffi","dynCall_fffff","dynCall_viiiii","dynCall_viiiiiffii","dynCall_iiiiii","dynCall_iiiiiii","dynCall_iidiiii","dynCall_jiji","_a","bc","preInit","_setPrototypeOf","ReferenceError","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","mark","awrap","async","reverse","skipTempReset","prev","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","_s","_e","_n","_d","degreeParts","hasAnyKnots","hasKnots","toUpperCase","wrapAccessor","createAccessor","accessor","weight","knot","out","order","tm","tp","domain","k0","k1","t0","dt","max","ndloop","variable","accessorPreamble","sizeGetter","evaluatorCache","codeCache","cacheKey","derivative","kvar","hasWeights","spaceDimension","totalDerivativeOrder","cachedEvaluator","logger","functionName","pointAccessor","terms","terms2","indexVar","weightAccessor","knotAccessor","knotVar","pointVar","weightVar","tVar","domainVar","sizeVar","knotIndex","allDimensionUniform","line","debugLine","indexArgs","parameterArgs","ternary","cond","dst","readIdx","dstWithDim","isDerivative","ii","ij","ij1","weightFactor","pt1","pt2","derivCoeff","ijWithDimension","ij1WithDimension","codeStr","transformerCache","iterators","rvalue","lvalue","cachedTransformer","supportCache","cachedSupport","pushSupport","MAGIC_METHOD","makeEventChecker","CHECK_SAPARATOR","CHECK_DOM_EVENT_PATTERN","CHECK_LOAD_PATTERN","CHECK_BIND_PATTERN","CHECK_SUBSCRIBE_PATTERN","PIPE","EVENT","COMMAND","ON","NAME_SAPARATOR","DOM_EVENT_SAPARATOR","LOAD_SAPARATOR","BIND_SAPARATOR","SUBSCRIBE_SAPARATOR","SAPARATOR","refManager","DOM_EVENT_MAKE","SUBSCRIBE_EVENT_MAKE","CHECKER","AFTER","BEFORE","IF","KEY","ARROW_UP","ARROW_DOWN","ARROW_LEFT","ARROW_RIGHT","ENTER","SPACE","ESCAPE","ALT","SHIFT","META","CONTROL","MOUSE","TOUCH","PEN","SELF","LEFT_BUTTON","RIGHT_BUTTON","FIT","PASSIVE","DOMDIFF","DEBOUNCE","DELAY","D1000","THROTTLE","ALL_TRIGGER","SELF_TRIGGER","CAPTURE","PREVENT","STOP","SUBSCRIBE","SUBSCRIBE_ALL","SUBSCRIBE_SELF","CONFIG","config","CUSTOM","CLICK","DOUBLECLICK","MOUSEDOWN","MOUSEUP","MOUSEMOVE","MOUSEOVER","MOUSEOUT","MOUSEENTER","MOUSELEAVE","TOUCHSTART","TOUCHMOVE","TOUCHEND","KEYDOWN","KEYUP","KEYPRESS","DRAG","DRAGSTART","DROP","DRAGOVER","DRAGENTER","DRAGLEAVE","DRAGEXIT","DRAGOUT","DRAGEND","CONTEXTMENU","CHANGE","INPUT","FOCUS","FOCUSIN","FOCUSOUT","BLUR","PASTE","RESIZE","SCROLL","SUBMIT","POINTERSTART","POINTEROVER","POINTERENTER","POINTEROUT","POINTERMOVE","POINTEREND","CHANGEINPUT","WHEEL","ANIMATIONSTART","ANIMATIONEND","ANIMATIONITERATION","TRANSITIONSTART","TRANSITIONEND","TRANSITIONRUN","TRANSITIONCANCEL","DOUBLETAB","LOAD","getRef","BIND_CHECK_FUNCTION","field","prevState","BIND_CHECK_DEFAULT_FUNCTION","BIND","normalizeWheelEvent","dx","deltaX","dy","deltaY","shiftKey","deltaMode","WheelEvent","DOM_DELTA_LINE","DOM_DELTA_PAGE","limit","delta","maxDelta","sign","abs","addDomEvent","dom","eventName","useCapture","addEventListener","removeDomEvent","removeEventListener","pos","touches","posXY","pageX","pageY","debounce","delay","$1","$2","$3","$4","$5","throttle","ifCheck","checkMethods","ifResult","check","keyEach","keyMap","isUndefined","isNotUndefined","isBoolean","isString","isObject","isNumber","isFunction","isNotZero","num","isZero","JSON","stringify","short_tag_regexp","HTML_TAG","html","results","it","p1","toLowerCase","splitMethodByKeyword","keyword","filterKeys","filterMaps","EPSILON","ARRAY_TYPE","RANDOM","random","PI","copy","fromValues","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","identity","transpose","a01","a02","a03","a12","a13","a23","a00","a10","a11","a20","a21","a22","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","adjoint","determinant","multiply","b0","b1","b2","b3","rad","axis","b12","b20","b21","b22","sin","cos","fromTranslation","fromScaling","fromRotation","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","fromQuat2","translation","bx","by","bz","bw","ax","ay","az","aw","magnitude","getTranslation","mat","getScaling","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","sqrt","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","fromQuat","yx","zx","zy","frustum","left","right","bottom","top","near","far","rl","nf","perspectiveNO","fovy","aspect","tan","Infinity","perspectiveZO","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","orthoNO","lr","bt","ortho","orthoZO","lookAt","eye","center","x0","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","frob","add","multiplyScalar","multiplyScalarAndAdd","scale","exactEquals","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a14","a15","b4","b5","b6","b7","b8","b9","b13","b14","b15","mul","sub","divide","ceil","round","scaleAndAdd","squaredDistance","squaredLength","negate","inverse","cross","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","inverseFactor","inverseFactorTimesTwo","zScale","transformMat3","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","mag","cosine","acos","zero","vec","div","sqrDist","sqrLen","setAxisAngle","getAxisAngle","out_axis","getAngle","dotproduct","calculateW","exp","et","ln","atan2","pow","slerp","omega","cosom","sinom","scale0","scale1","u1","u2","u3","sqrt1MinusU1","sqrtU1","invDot","conjugate","fromMat3","fRoot","fTrace","fromEuler","halfToRad","cx","cy","cz","tmpvec3","xUnitVec3","yUnitVec3","temp1","temp2","matr","rotationTo","sqlerp","setAxes","view","transformMat2","transformMat2d","p0","sinC","cosC","area","areaWidth","column","row","degreeToRadian","degrees","divNum","radianToDegree","radian","angle","getXInCircle","radius","centerX","getYInCircle","centerY","getXYInCircle","getDist","vec2","distance","getPointBetweenVerties","pointDist","vec3","vertiesMap","verties","transformView","transformMat4","getTargetPointX","source","nextTarget","getTargetPointY","makeGuidePoint","sourceVerties","targetVerties","leftVerties","rightVerties","hasInvert","leftCenter","rightCenter","pointList","isInvert","newTarget","invertTargetPoint","getVertiesMaxX","maxValue","Number","MIN_SAFE_INTEGER","getVertiesMaxY","getVertiesMinX","MAX_SAFE_INTEGER","getVertiesCenterX","minX","maxX","getVertiesMinY","getVertiesCenterY","minY","maxY","calculateAngle","rx","ry","calculateAngleForVec3","calculateAnglePointDistance","calculateRotationOriginMat4","origin","mat4","translate","rotateZ","calculateMatrix","calculateMatrixInverse","invert","angle1","calculateAngle360","UUID_REG","uuid","Date","getTime","uuidShort","bezierCalc","cubicBezier","C2","C3","progress","getGradientLine","box","height","yDiff","xDiff","getCenterInTriangle","splitReg","stringToPercent","Position","CENTER","TOP","RIGHT","LEFT","BOTTOM","REG_CSS_UNIT","Length","unit","toPrimitive","hint","getUnitText","isUnitType","percent","toEm","toPx","fontSize","isPercent","isPx","isEm","isDeg","em","stringToEm","px","stringToPx","isTurn","deg","isRad","toDeg","turn","isSecond","isMs","second","ms","toPercent","toTurn","func","includes","is","number","string","auto","_traverse","filterCallback","layers","ref","json","Proxy","originMethod","changed","toJSON","convert","getDefaultObject","lastChangedField","lastChangedFieldKeys","cachedValue","timestamp","_timestamp","performance","now","getDefaultTitle","lastNumber","nextName","parent","otherParent","depth","localParent","find","postfix","checkItemType","itemType","newValueCallback","cachedKey","parsedKey","getCache","addCache","editablePropertyName","no","generateListNumber","layer","isDeep","attrs","ItemClass","toCloneObject","setParent","__changedId","_time","visible","lock","selected","resetMatrix","remove","project","addIndexItem","findIndex","insertChild","position","toggleValue","currentParent","collapsedList","Boolean","collapsed","newJSON","expectJSON","copyItem","childItem","child","renameWithCount","move","childIndex","removeChild","removeIndexItem","parentId","isParent","hasParent","updateProp","newValue","oldValue","el","setAttribute","removeAttribute","setBooleanProp","setProp","removeBooleanProp","removeUndefinedProp","removeProp","updateProps","newProps","oldProps","keyList","Set","node1","node2","nodeType","Node","TEXT_NODE","textContent","nodeName","hasPassed","getAttribute","hasRefClass","getProps","attributes","updateElement","parentElement","oldEl","newEl","options","replaceChild","cloneNode","COMMENT_NODE","checkPassed","oldChildren","children","newChildren","appendChild","firstChild","nextSibling","DomDiff","childrenA","childrenB","aliasMap","__tempVariables","Map","__tempVariablesGroup","groupId","has","recoverVariable","removeVariable","registElement","classes","retriveElement","Dom","tag","attr","createElement","namespace","getAttributeNS","setAttributeNS","keyField","style","removeProperty","checkElement","tagName","cls","temp","checkCls","hasClass","parentNode","$parentNode","classList","oldClass","newClass","contains","removeClass","addClass","isForce","toggle","innerHTML","empty","append","fragment","rootElement","selector","querySelector","querySelectorAll","findAll","createTextNode","prepend","$dom","createChildrenFragment","createDocumentFragment","$el","tempText","text","setProperty","getComputedStyle","entries","localKey","css","cssText","tempCssText","parseFloat","getBoundingClientRect","getBBox","isSVG","parentBox","offsetLeft","offsetTop","offsetWidth","offsetHeight","scrollTop","getScrollTop","scrollLeft","getScrollLeft","cssFloat","tempValue","matches","naturalWidth","naturalHeight","files","checked","displayType","display","isHide","currentHide","show","hide","getTotalLength","scrollIntoView","body","scrollHeight","scrollWidth","opt1","opt2","$element","firstElementChild","nextElementSibling","newElement","oldElement","isChecked","click","focus","range","createRange","selectNodeContents","sel","getSelection","removeAllRanges","addRange","select","blur","contextType","_initContext","getContext","ctx","devicePixelRatio","quality","toDataURL","clearRect","clear","img","drawImage","option","beginPath","fill","fillText","requestFullscreen","wekitRequestFullscreen","fullscreenElement","exitFullscreen","fullscreen","htmlString","pageYOffset","documentElement","pageXOffset","DOMParser","parseFromString","BaseHandler","scrollBlockingEvents","eventConverts","customEventNames","DomEventHandler","destroy","_domEvents","notEventRedefine","filterProps","parseDomEvent","removeEventAll","getBindings","initBindings","Event","_bindings","matchPath","eventObject","srcElement","makeDelegateCallback","makeDefaultCallback","returnValue","runEventCallback","delegateTarget","hasDelegate","$dt","beforeMethods","before","checkEventType","afterMethods","after","hasKeyCode","codes","isAllCheck","checkMethodList","fieldValue","refs","$root","getElement","checkMethodFilters","afters","befores","debounces","debounceMethods","delays","delayMethods","throttles","throttleMethods","captures","filteredList","getRealEventName","customEventName","getCustomEventName","makeCallback","addBinding","passive","capture","doubleTab","time","getDefaultEventObject","getDefaultDomElement","makeCustomEventCallback","eventNames","getEventNames","bindingDomEvent","applyElementAttribute","removeAttr","updateDiff","updateSVGDiff","toggleClass","BindHandler","bindData","_bindMethods","bindList","originalCallbackName","callbackName","$bind","bindMethod","refObject","refCallback","elName","isBindCheck","elementKeyIndex","TEMP_DIV","QUERY_PROPERTY","REF_CLASS_PROPERTY","EventMachine","opt","handlers","initializeHandler","initializeProperty","initComponents","sourceName","childComponents","components","isLoad","load","setState","spreadVariable","$container","render","initState","refresh","parseTemplate","template","afterRender","$$","refsIndex","refsLen","recoveredValue","nodeValue","content","contentChildren","parseContent","parseSourceName","refClassName","refName","EventMachineComponent","_reload","renderTarget","appendTo","filteredRefClass","_getComponentInfo","refClass","getEventMachineComponent","parseProperty","notUsed","parseComponentList","comp","renderComponent","clean","runHandlers","parseComponent","_loadMethods","localLoadMethods","methodName","checker","isDomDiff","newTemplate","htmlDiff","_afterLoad","Component","$parent","eachChildren","childComponent","__cachedMethodList","expectMethod","names","getOwnPropertyNames","collectProps","pattern","altKey","ctrlKey","metaKey","buttons","preventDefault","stopPropagation","BaseStore","editor","cachedCallback","callbacks","promiseProxy","makePromiseEvent","event","originalCallback","debounceDelay","throttleDelay","enableAllTrigger","enableSelfTrigger","getCallbacks","setCallbacks","promise","getCachedCallbacks","all","sendMessage","nextSendMessage","triggerMessage","dark","left_size","left_max_size","bottom_size","bottom_max_size","timeline_grid_font_color","timeline_line_color","timeline_timeview_bottom_color","light","TimelineSelectionManager","$editor","itemKeys","selection","currentProject","layerId","getKeyframeListReturnArray","refreshCache","animationId","getSelectedTimeline","animations","endTime","totalList","getTimelineProperty","keyframes","keyframe","getTimelineObject","properties","uniqueOffset","cachedTransformOriginMap","TransformOriginCache","parsedValue","TransformOrigin","transformOrigin","origins","parsedTransformOrigin","parseStyle","transformOriginX","transformOriginY","transformOriginZ","linePoint","py","dist1","dist2","lineLength","calcDist","lineLine","x3","y3","x4","y4","polyPoint","isCollision","v1","v2","vector","nx","ny","polyLine","polyPoly","collision","rectToVerties","getRotatePointer","topPointer","bottomPointer","rotatePointer","itemsToRectVerties","xList","yList","originVerties","vertiesToRectangle","hasLength","toRectVertiesWithoutTransformOrigin","toRectVerties","fps","timecode","hour","minute","frame","seconds","padStart","framesToTimecode","frames","makeTimer","timer","speed","elapsed","duration","iterationStartCount","iterationCount","direction","logIndex","tick","startCallback","endCallback","firstCallback","first","lastCallback","calculateForDirection","rate","isStart","lastTime","frameStart","requestAnimationFrame","cancelAnimationFrame","seek","play","stopCallback","predefinedBezier","bezierObj","bezierList","getPredefinedCubicBezier","parseCubicBezier","formatCubicBezier","createBezier","C1","C4","getBezierPointOne","createBezierQuard","getBezierPointOneQuard","createBezierLine","getBezierPointOneLine","checkDist","curve","minDist","minT","getPolygonalDist","total","getCurveDist","cx1","cy1","cx2","cy2","ex","ey","startPoint","getQuardDist","makeCurveFunction","step","recoverBezier","recoverBezierQuard","recoverBezierLine","createBezierForPattern","bezierString","interpolate","p2","p3","p4","getBezierPoints","p5","getBezierPointsQuard","splitBezierPointsByCount","splitBezierPointsQuardByCount","splitBezierPointsLineByCount","getBezierPointsLine","normalizeCurveForQuard","polygonalForCurve","c1","c2","c3","c4","totalLength","samplingCount","samplingStep","lastLength","bezierPoints","currentLength","nextPoint","findRootForCurve","newP","calculateA","calculateB","calculateC","roots","distX","rootX","rootX1","rootX2","distY","rootY","rootY1","rootY2","getCurveBBox","xyPoints","makeInterpolateNumber","startNumber","endNumber","makeInterpolateIdentity","ratio","getRealAttributeValue","refType","refElement","rollbackRealAttributeValue","makeInterpolateLength","equals","realStartValue","realEndValue","BorderRadius","isAll","getBorderRadiusList","radiusValue","makeInterpolateBorderRadius","startValue","endValue","defaultColor","hex","rgb","hsl","alpha","randomNumber","randomByCount","randomRGBA","randomItem","repeat","CSS_TO_STRING","newStyle","STRING_TO_CSS","splitChar","keySplitChar","OBJECT_TO_PROPERTY","OBJECT_TO_CLASS","TAG_TO_STRING","mapjoin","joinString","isArrayEquals","curveToPath","timingFunction","currentBezier","curveToPointLine","PropertyItem","toCSS","color_names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgray","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","transparent","currentColor","isColorName","getColorByName","ReverseXyz","ReverseRGB","XYZtoRGB","LABtoXYZ","PivotXyz","XYZtoLAB","LABtoRGB","RGBtoHSV","R1","G1","B1","MaxC","MinC","DeltaC","RGBtoCMYK","RGBtoHSL","RGBtoSimpleGray","RGBtoGray","RGBtoYCrCb","brightness","Cr","cr","PivotRGB","RGBtoXYZ","RGBtoLAB","HUEtoRGB","HSLtoHSV","HSLtoRGB","color_regexp","getColorIndexString","prefix","startIndex","padEnd","isColor","color","nameColor","ColorNames","endIndex","convertMatches","convertMatchesArray","splitStr","reverseMatches","REG_TRIM","char","parseGradient","colors","cur","BoxShadow","inset","offsetX","offsetY","blurRadius","spreadRadius","boxShadows","shadow","insets","numbers","makeInterpolateBoolean","CMYKtoRGB","HSVtoRGB","HSVtoHSL","YCrCbtoRGB","bit","interpolateRGB","startColor","endColor","exportFormat","interpolateRGBObject","startColorAlpha","endColorAlpha","blend","mix","startcolor","contrast","contrastColor","gradient","newColors","maxCount","allCount","colorCount","scaleHSV","colorObj","hsv","scaleH","scaleS","scaleV","parula","jet","hot","bone","copper","formatter","math","mixin","parser","fromYCrCb","fromRGB","fromCMYK","fromHSV","fromHSL","fromLAB","makeInterpolateColor","Color","makeInterpolateBoxShadow","startObject","endObject","makeInterpolateString","startString","endString","stepTimingFunction","stepDist","stepStart","stepEnd","easeOutElastic","makeInterpolateRotate","TextShadow","textShadows","makeInterpolateTextShadow","ImageResource","ColorStep","cut","prevColorStep","getUnit","toLength","getPrevLength","sortColorStep","colorStepString","colorsteps","colorIndex","hasNotUnit","unitType","colorStepCount","unitValue","DEFINED_ANGLES","Gradient","colorstep","isSort","addColorStep","lastIndex","nextStep","addColorStepList","colorstepList","toColorString","StaticGradient","static","IMAGE_LIST","URLImageResource","datauri","fileExt","DEFINED_DIRECTIONS","LinearGradient","colorString","getColorString","RepeatingLinearGradient","linear","DEFINED_POSITIONS","RadialGradient","radialType","radialPosition","RepeatingRadialGradient","radial","ConicGradient","prevDeg","conicAngle","conicPosition","optString","RepeatingConicGradient","conic","RepeatList","reg","BackgroundImage","imageResource","addItem","addImageResource","images","createImage","createGradient","blendMode","parseImage","backgroundSize","toBackgroundImageCSS","toBackgroundPositionCSS","toBackgroundSizeCSS","toBackgroundRepeatCSS","toBackgroundBlendCSS","matchResult","backgroundImages","toPropertyCSS","makeInterpolateColorStep","startColorStep","endColorStep","makeInterpolateColorStepList","startColorsteps","endColorsteps","makeInterpolateLinearGradient","convertPercent","makeInterpolateRadialGradient","radialPositionX","radialPositionY","makeInterpolateConicGradient","makeInterpolateImageResource","makeInterpolateRepeatingLinearGradient","makeInterpolateRepeatingRadialGradient","makeInterpolateRepeatingConicGradient","makeInterpolateBackgroundImage","FILTER_REG","Filter","FilterClass","FilterClassName","URLSvgFilter","filters","filterName","filterValue","BlurFilter","spec","defaultValue","inputType","units","GrayscaleFilter","HueRotateFilter","InvertFilter","BrightnessFilter","ContrastFilter","OpacityFilter","SaturateFilter","SepiaFilter","DropshadowFilter","multi","grayscale","opacity","saturate","sepia","svg","makeInterpolateFilterItem","makeInterpolateFilter","DirectionLength","CLIPPATH_REG","ClipPath","clippath","clipPathName","clipPathValue","radiusX","radiusY","_count","_roundCount","topRadius","rightRadius","bottomRadius","leftRadius","isAllRadius","makeInterpolateClipPath","parseStyleForCircle","radiusString","makeInterpolateClipPathCircle","parseStyleForEllipse","makeInterpolateClipPathEllipse","parseStyleForInset","makeInterpolateClipPathInset","parseStyleForPolygon","startPos","endPos","makeInterpolateClipPathPolygon","parseStyleForPath","makeInterpolateClipPathPath","cachedTransformMap","TransformCache","TRANSFORM_REG","Transform","filterFunction","valueObject","tObject","oldTransform","newTransform","oldT","newT","newObject","oldObject","createRotateKey","rotate","doCache","transforms","transformName","transformValue","parsedTransformList","rotateX","rotateY","toRad","skewX","skewY","perspective","makeInterpolateTransformLength","makeInterpolateTransformNumber","ss","ee","makeInterpolateTransformRotate","tempStartValue","tempEndValue","makeInterpolateTransform","makeInterpolateTransformOrigin","makeInterpolatePerspectiveOrigin","makeInterpolateStrokeDashArrray","Point","isEqual","command","tolerance","maxdist2","breakIndex","tol2","segmentDistance2","DouglasPeuker","lenAB","du","dv","slash","isInLine","endPoint","reversePoint","firstIndex","groupList","groupIndex","localPoints","splitedGroupList","startPointIndex","pointIndex","group","current","prevIndex","getLastPoint","currentPoint","connected","getFirstPoint","pIndex","segment","splitedPointGroup","lastPoints","isFirst","pointGroup","newPoints","originalCommand","Segment","xrot","laf","sf","_slicedToArray","sliceIterator","TAU","mapToEllipse","cosphi","sinphi","approxUnitArc","ang1","ang2","vectorAngle","uy","vx","vy","_ref2","_ref2$xAxisRotation","xAxisRotation","_ref2$largeArcFlag","largeArcFlag","_ref2$sweepFlag","sweepFlag","curves","pxp","pyp","lambda","_getArcCenter","rxsq","rysq","pxpsq","pypsq","radicant","centerxp","centeryp","vx1","vy1","vx2","vy2","getArcCenter","_getArcCenter2","segments","_mapToEllipse","_mapToEllipse2","_mapToEllipse3","REG_PARSE_NUMBER_FOR_PATH","numberReg","PathParser","pathString","joinPath","resetSegments","otherPath","newPath","addSegments","newSegments","xrotate","arcToCurve","seg","nextSegment","prevPoint","getPrevPoint","prevSegment","getReversePoint","isReturn","each","ty","getGroup","forEachGroup","allSegments","localCurve","normalizeCurveForLine","fromSegments","pathList","toPathList","joinPathList","dividedSegments","divideCurve","divideQuad","divideLine","addGroup","middle","bbox","targetInfo","targetPoint","getClosedPointInfo","transformMatrix","customTransformFunction","lastX","lastY","groupSegments","groupIndexList","splitSegments","reverseSegments","lastValues","pointer","getCenterPointers","closedPointInfo","firstSegment","secondSegment","replaceSegment","newGroupSegments","simply","bezierCurve","fitCurve","tension","V1","V3","V2","segmentSize","drawCircleWithRect","pathVerties","segmentIndex","valueIndex","totalLengthList","lastSegment","fromSVGString","drawRect","drawLine","firstX","outerRadius","innerRadius","npoints","firstY","starPath","makeStar","cardinalSplines","bezierCurveList","arcToBezier","makeInterpolatePathValues","startLastPos","endLastPos","makeInterpolatePath","returnParser","sc","ec","PathStringManager","pathArray","getPointString","makeString","topLeft","topRight","bottomLeft","bottomRight","PolygonParser","joinPoints","makeInterpolatePolygon","startLastX","startLastY","endLastX","endLastY","makeInterpolateLine","makeInterpolateQuard","makeInterpolateCubic","makeInterpolateOffsetPath","artboard","rotateStatus","innerInterpolate","screenX","screenY","pathLayer","searchById","timing","interpolateList","preC1x","preC1y","preEx","preEy","getCubicDist","startT","endT","makeInterpolateOffset","newRate","setScreenX","setScreenY","distValue","newAngle","currentAngle","resultAngle","innerInterpolateAngle","makeInterpolateText","startText","endText","substring","makeInterpolatePlayTime","layerElement","mediaElement","sTime","currentTime","paused","pause","DEFAULT_FUCTION","makeInterpolate","editorString","checkField","makeInterpolateBorder","makeInterpolateCustom","createInterpolateFunction","createTimingFunction","funcName","timingFunctions","createCurveFunction","Offset","addProperty","removeIndex","targetIndex","sortItem","toCSSText","Keyframe","selectedType","offsets","isMultiStyle","getMultiStyleString","toOffsetString","toOffsetText","addOffset","keyframeKeys","frameInfo","propertyValue","filteredOffset","offsetObj","vars","varValue","ComponentManager","inspectors","componentProperty","inspectorCallback","ComponentClass","getComponentClass","inspector","getInspector","ModelManager","description","projects","doc","newDoc","loadItem","createModel","createProject","setChanged","removed","removedIndex","removedLeftSibling","removedRightSibling","getParent","rootId","childId","ids","targetItems","searchItem","getPath","hasChildren","findGroupItem","objectList","groupItem","isNot","isLayer","isProject","recover","itemObject","isRegister","createComponent","setModelManager","getAllLayers","defaultRef","getDepth","nextParent","targetId","getModelTypeInPath","setParentId","offsetInParent","BaseModel","modelManager","deleteProperty","getLayers","getRoot","getProject","getArtBoard","lockManager","visibleManager","isChangedValue","hasId","oldParentId","childItemId","TimelineModel","timeline","compiledTimeline","animation","compiledTimingFunction","filteredTimeline","getCompiledTimingFunction","isOnlyTime","currentOffset","nextOffset","interpolateFunction","makeTimingFunction","totalT","frameOrCode","searchTimelineOffset","$video","setTimelineCurrentTime","getKeyframeList","getSelectedTimelineFirstTime","currentTimecode","getSelectedTimelineLastTime","compileAll","endTimecode","selectedTimeline","getTimelineLayerInfo","selectTimeline","addTimeline","totalTimecode","totalTime","displayStartTime","displayEndTime","dxRate","initStartTime","initEndTime","dxTime","addTimelineLayer","selectedLayerId","selectedProperty","timelineObject","selectedOffsetTime","offsetId","ani","changedTime","getTimelineKeyframeById","newTime","addTimelineProperty","getDefaultPropertyValue","times","addTimelineKeyframe","comments","gradients","svgfilters","svgimages","imageKeys","videos","videoKeys","audios","addKeyframe","removePropertyList","isAnimate","copyObject","copyPropertyList","addColor","refreshImageKeys","local","addImage","refreshVideoKeys","addVideo","addGradient","addSVGFilter","addSVGImage","OFFSET_X","OFFSET_Y","Project","rootVariable","accumulatedMatrix","localMatrixInverse","SelectionManager","hoverId","hoverItems","cachedItemMatrices","cachedArtBoardVerties","cachedVerties","refreshMousePosition","viewport","getWorldPosition","searchLiveItemsById","getProjectByIndex","isLayoutItem","allLayers","filteredAllLayers","areaPosition","getAreaPosition","isPointInRect","checkInViewport","hasChangedField","rootItem","newIds","searchItemsById","filterIds","newSelectedItems","convertGroupItems","newSelectedIds","isSameIds","setRectCache","hasPathOf","itemIdList","filteredItems","removeById","addById","artboards","checkedParentChange","instanceVerties","localArtboardVerties","selectedArtBoard","artboardVerties","matrix","isEmpty","cachedRectVerties","cachedChildren","cachedCurrentItemMatrix","cachedCurrentChildrenItemMatrices","isOne","rectVerties","selectionVerties","localItems","itemsByIds","resize","copyItems","isMany","hasPoint","itemOrId","isChanged","_doForceRefreshSelection","execute","paste","navigator","clipboard","readText","imageFileOrBlob","containerItem","reader","FileReader","onload","URL","createObjectURL","original","readAsDataURL","loadOriginalImage","Image","onerror","imageObject","changeMode","EDIT_MODE_SELECTION","loadOriginalVideo","onloadeddata","videoWidth","videoHeight","playTime","volume","muted","placebackRate","playbackRate","videoObject","createVideo","imageUrl","createSVGFilter","AssetParser","enableParselocal","mimeType","encoding","getLink","binary","atob","unit8Array","blob","Blob","downloadFile","filename","download","btoa","unescape","encodeURIComponent","replaceLocalUrltoRealUrl","svgString","ExportManager","createImagePng","imageType","canvas","callbackCommand","pngDataUri","_currentProject","layerList","keyframeObj","setTimelineKeyframeOffsetValue","removeTimelineProperty","deleteTimelineKeyframe","selectedId","removeTimeline","removeAnimation","copyTimelineKeyframe","prevTime","getSelectedTimelinePrevTime","firstTime","nextTime","getSelectedTimelineNextTime","asset","storageManager","getCustomAsset","assetData","itemsMap","modeView","modeViewManager","pushMode","cachedPatternMap","PatternCache","PATTERN_REG","Pattern","PatternClass","PatternClassName","patterns","patternName","patternValue","foreColor","backColor","lineSize","lineWidth","lineHeight","joinCSS","BasePattern","CheckPattern","GridPattern","DotPattern","CrossDotPattern","DiagonalLinePattern","VerticalLinePattern","HorizontalLinePattern","grid","packByValue","maxRightX","itemRightX","maxRightY","itemRightY","orderPrev","orderNext","groupLayer","itemRect","appendAfter","appendBefore","description_ko","currentValues","projectId","undoValues","history","selectedIds","nextAction","saveSelection","redo","selectProject","undo","multiAttrs","messages","newAttrs","getUndoValuesForMulti","reselect","isSelected","filterChildren","treeItem","filtedIds","markRemove","recoverIds","unmarkRemove","pathObject","invertPath","accumulatedMatrixInverse","newWidth","newHeight","oldBBox","newBBox","createTransformMatrix","worldMatrix","getLocalTransformMatrix","realXY","parentMatrixInverse","areaVerties","withScale","moveLayerToCenter","moveItems","iconType","copyPath","newLayerAttrs","toSVGPath","updatePath","update","popModeView","popMode","doubleclickItem","evt","checkChildren","selectInWorldPosition","hasChildrenPoint","snapManager","openEditor","editablePath","isControl","disableCurve","changeEvent","recoverEditablePath","accumulatedPath","clipPathString","resultPath","refreshHistory","convertPasteText","embedUrl","refreshCursor","recoverCursor","toggleToolHand","rotateLayer","distAngle","addTransform","historyAddLayer","historyRemoveLayer","historyRemoveProject","markRemoveProject","unmarkRemoveProject","historySetAttributeForMulti","historyRefreshSelection","historyRefreshSelectionProject","historyRedo","historyUndo","moveLayer","moveLayerForItems","moveToCenter","moveSelectionToCenter","ungroupItem","setEditorLayout","layout","setLayout","refreshArtboard","resetSelection","addBackgroundColor","addBackgroundImagePattern","segmentDelete","segmentMoveDown","segmentMoveUp","segmentMoveRight","segmentMoveLeft","pushModeView","removeLayer","itemMoveDepthDown","itemMoveDepthUp","itemMoveDepthFirst","orderFirst","itemMoveDepthLast","orderLast","keymapKeydown","keyboardManager","keyCode","shortcuts","keymapKeyup","scaleMinus","oldScale","setScale","scalePlus","dropAsset","addBackgroundImageAsset","addBackgroundImageGradient","addTimelineItem","pauseTimelineItem","lastTimelineItem","nextTimelineItem","firstTimelineItem","prevTimelineItem","playTimelineItem","copyTimelineProperty","removeAnimationItem","selectTimelineItem","addTimelineCurrentProperty","setTimelineOffset","refreshSelectedOffset","setLocale","locale","loadJSON","saveJSON","saveItem","savePNG","downloadPNG","downloadSVG","downloadJSON","updateUriList","updateImageAssetItem","updateVideoAssetItem","addSVGFilterAssetItem","dropImageUrl","addImageAssetItem","addVideoAssetItem","updateImage","updateVideo","updateResource","fileDropItems","updateScale","showExportView","clipboardPaste","clipboardCopy","addArtBoard","moveByCenter","addCustomComponent","customComponent","addLayer","enableHasChildren","addLayerView","addProject","convertPath","newComponent","textLength","makeLine","makeCircle","makeRect","newObjAttrs","refreshElement","getRootItem","refreshProject","resizeArtBoard","setAttributeForMulti","sortBottom","sortCenter","sortLeft","sortMiddle","sortTop","sortRight","sameWidth","sameHeight","updatePathItem","CommandManager","localCommands","loadCommands","commands","registerCommand","commandCallback","getCallback","osInfo","os","appVersion","category","win","when","KEY_CODE","joinKeys","generateKeyCode","ShortCutManager","loadShortCuts","shortcut","registerShortCut","OSName","eventType","checkKeyString","splitShortCut","whenFunction","makeWhenFunction","whenList","isCurrentMode","isAlt","isShift","isMeta","restKeys","keyCodeString","keyString","codeString","checkShortCut","makeKeyCodeString","makeKeyString","makeCodeString","filteredCommands","checkWhen","ConfigManager","configList","isSave","save","storage","getType","isType","HistoryManager","currentIndex","undoHistories","redoHistories","commandString","isPointerUp","selectedObject","lastUndoObject","historyObject","commandObject","DEFAULT_DIST_VECTOR","checkXAxis","sourceVertex","targetVertex","checkYAxis","SnapManager","snapDistance","snapTargetLayers","convertMatrix","convertGuideAndPathMatrix","guideVerties","snapTargetLayersWithSelection","targetXList","sourceXList","checkXList","targetX","sourceX","sourceIndex","localDistX","localGridDistX","gridSize","targetYList","sourceYList","checkYList","targetY","sourceY","localDistY","snaps","checkX","checkY","snap","groupPoints","sourceLength","keyX","keyY","targetLength","sorted","guides","getGuidesByPointPoint","findGuide","KeyBoardManager","codeSet","keyCodeSet","keyOrKeyCode","hasKey","ViewportManager","canvasSize","cachedViewport","mouse","maxScale","minScale","zoomFactor","resetWorldMatrix","originVec","newOrigin","oldOrigin","setTransformOrigin","setTranslate","toFixed","matrixInverse","scaleMatrix","scaleMatrixInverse","newVerties","newTransformOrigin","newTranslate","createWorldPosition","clientX","clientY","setTransformOriginWithTranslate","newScale","newZoomFactor","scaleRate","areaCenter","viewportCenter","viewportWidth","viewportHeight","minRate","pointVertex","xInViewport","yInViewport","vertex","applyVertiesInverse","rectToVertiesForArea","StorageManager","customAssetKey","isNew","setCustomAssetList","getCustomAssetList","assetList","component","preview","_icon_template","tpl","defaultOpts","iconUse","border_inner","to_back","to_front","highlight_at","grid3x3","stroke_to_path","smooth","flatten","boolean_union","boolean_difference","boolean_intersection","boolean_xor","wave","outline","sync","flex","margin","draw","pantool","left_hide","right_hide","straighten","auto_awesome","web","navigation","delete_forever","horizontal_rule","open_in_full","align_horizontal_center","align_horizontal_left","align_horizontal_right","align_vertical_bottom","align_vertical_center","align_vertical_top","vertical_distribute","horizontal_distribute","rotate_left","swap_horiz","arrow_right","volume_down","arrowLeft","volume_up","volume_off","pentool","launch","apps","outline_rect","outline_circle","keyboard","local_movie","same_height","same_width","flag","lens","local_library","italic","strikethrough","underline","cylinder","text_rotate","device_hub","control_point","flip_camera","flipY","flip","account_tree","format_shapes","merge","texture","settings_input_component","view_comfy","camera_roll","broken_image","looks","vintage","waves","blur_linear","landscape","palette","diffuse","specular","photo","near_me","view_list","flash_on","archive","file_copy","gps_fixed","cat","shuffle","replay","alternate_reverse","alternate","note","circle","color_lens","cube","polygon","star","dahaze","brush","expand","align_center","align_justify","align_left","align_right","edit","outline_image","ballot","scatter","build","autorenew","skip_next","skip_prev","fast_forward","fast_rewind","input","paint","border_all","arrowRight","screen","remove2","setting","folder","publish","add_note","export","exportIcon","lock_open","add_box","add_circle","create_folder","chevron_right","chevron_left","CursorManager","iconName","icon","iconContent","AssetManager","assets","idString","applyAsset","PluginManager","CreatePluginFunction","RendererManager","renderers","rendererTypes","rendererType","rendererInstance","typedRenderer","getRenderType","rendererTypeInstance","InjectManager","menuItems","class","hasRef","getTargetMenuItems","refString","I18nManager","locales","fallbackLang","lang","currentLang","getLang","ModeViewManager","modes","currentMode","PathKitManager","pathkit","pathOp","PathKit","MakeFromOp","FromSVGString","toSVGString","booleanOperation","PathOp","INTERSECT","UNION","DIFFERENCE","REVERSE_DIFFERENCE","XOR","isValid","lineJoin","ROUND","BEVEL","lineCap","SQUARE","newPathObject","convertLineJoin","convertLineCap","setFillType","FillType","WINDING","simplifyPath","phase","stopT","isComplement","SegmentSelectionManager","selectedPointKeys","selectedPointList","makeSegmentKey","isSelectedSegment","includedList","included","notIncludedList","uniqueList","oldKey","includeNode","LockManager","lockList","VisibleManager","hiddenList","Editor","EDITOR_ID","popupZIndex","canvasWidth","canvasHeight","symbols","openRightPanel","loadManagers","store","segmentSelection","cursorManager","assetManager","injectManager","pluginManager","i18n","pathKitManager","initPlugins","initStorage","i18nKey","hasI18nkey","user","initializePlugin","theme","isMode","rest","offAll","localStorage","setItem","storeKey","getItem","registerMenuItem","registerElement","registerComponent","registerInspector","registerRenderer","registerRendererType","getRendererInstance","getRenderer","renderer","createPluginFunction","registerPlugin","registerConfig","registerI18nMessage","MOVE","END","UIElement","__storeInstance","created","initialize","initializeStoreEvent","storeInstance","$store","MULTI_PREFIX","methods","newCallback","events","methodLine","splitMethod","debounceSecond","throttleSecond","allTriggerMethods","selfTriggerMethods","createLocalCallback","destoryStoreSUBSCRIBE","messageName","sourceContext","trigger","EditorElement","registerI18nMessageWithLocale","initializeI18nMessage","__cacheParentEditor","getI18nMessage","initI18nMessage","$injectManager","themeValue","EMPTY_POS","DEFAULT_POS","BaseLayout","registerPluginList","getPlugins","$config","setAll","__editorInstance","userAgent","__initBodyMoves","__firstMove","__moves","__ends","__modifyBodyMoveSecond","__loopBodyMoves","__funcBodyMoves","lastPos","isNotEqualLastPos","pressure","newPos","init","__requestId","__removeBodyMoves","rerender","HorizontalRuler","refreshCanvasSize","baseNumber","realWidth","expect","startX","endX","secondX","$selection","currentArtboard","$viewport","currentMinX","currentMaxX","makeLineText","makeRuler","makeRulerText","makeRulerForCurrent","VerticalRuler","realHeight","startY","endY","secondY","Resource","dataTransfer","types","kind","getData","filter_list","StyleView","$styleView","head","toStyle","$style","changeStyleHead","$temp","styleTag","makeStyle","$item","isOnlyOne","refreshStyleHeadOne","styleTags","removeStyleSelector","$fragment","refreshStyleHead","$visibleManager","HTMLRenderView","cachedCurrentElement","generate","$view","$shortcuts","getGeneratedKeyCode","space","$keyboardManager","$target","mousePoint","hasHoverItem","selectHoverItem","closest","$model","initMousePoint","isInSelectedArea","initializeDragSelection","selectByGroup","selectAfterCopy","toggleById","$snapManager","targetMousePoint","newDist","changeArtBoard","clearElementAll","pack","localDist","updateTimelineElement","parentLayer","selectionList","parentObj","hasChangedDimension","changedBoxModel","offsetRect","PageTools","subscribe","$scale","setValue","itemId","pathIndex","newPathD","$pantool","$selectedCount","scaleWith","LayerAppendView","dragStart","showRectInfo","pathManager","patternInfo","newVertex","checkPoint","applyVertex","targetPositionVertex","targetGuides","findGuideOne","applyVerties","inlineStyle","newD","bboxRect","options2","makePolygon","options3","createLayerTemplate","guide","makeMousePointer","newMousePoint","isShiftKey","isAltKey","parentArtBoard","getArtboardByPoint","hasArea","scaledFontSize","$drawItem","$area","isShow","$t","applyScaleVertiesInverse","newFontSize","$file","SegmentManager","segmentList","vertext","applyVertexInverse","isLast","SEGMENT_DIRECTION","calculateSnapPoint","sourceKey","distanceValue","checkedPointList","calculatePointDist","tempDist","toPath","dString","calculateRelativePosition","checkInArea","PathGenerator","pathEditor","pathStringManager","guideLineManager","segmentManager","cachedSegmentKeys","initializeSelect","splitLines","initPointList","checkedPoint","snapPointList","selectGroup","isToggle","selectedKey","convertPointsToSelectionList","segmentKey","getCacheSegmentKey","transformPoints","realPoint","commitTransformMatrix","transformRect","clonePoints","dragXY","dragPoints","getIndexPoint","getNextPoint","getConnectedPointList","selectedIndex","connectedPoint","connectedPointList","isFirstSegment","isCurveSegment","originalSegment","originalConnectedPoint","cachedPoints","originSegment","originPoint","calculateToCurve","moveSegment","targetSegmentKey","rotateSegmentTarget","realX","realY","snapPointX","snapPointY","snapEndPoint","getSplitedGroupList","getGroupList","splitPoints","recoverPoints","moveSelectedSegment","calculateSnap","rotateSegment","copySegment","clickCount","moveXY","allPoints","firstItem","getPoint","secondItem","getIndex","makePointGuide","makeMovePositionGuide","addDistanceLine","addDistanceAngle","makeTriangleDistancePointGuide","addPoint","addGuideLine","addCurvePoint","isSiblingSelected","mng","makeStartPointGuide","makeMiddlePointGuideSplitLine","makeMiddlePointGuideSegment","isGroupSegment","calculateMovePointSnap","movePointSnapPointList","newMoveXY","snapLines","snapPath","snapPoint","generatorPathString","pathCount","selectedGroupIndex","makeSnapLines","makePathArea","SVGGradient","SVGLinearGradient","spreadMethod","SVGRadialGradient","fx","fy","fr","SVGStaticGradient","SVGImageResource","patternUnits","patternWidth","patternHeight","imageX","imageY","imageWidth","imageHeight","preserveAspectRatio","SVGFill","SVGLImageResource","FIELDS","PathDrawView","pathParser","screenWidth","screenHeight","$obj","pathRect","makePathByPoints","pathItem","totalPathLength","getPathRect","makePathLayer","fillId","strokeId","toFillSVG","toStrokeSVG","toDefInnerString","getInnerId","toFillValue","toDefString","toStrokeValue","initRect","startXY","renderPath","addPathLayer","PathEditorView","pathGenerator","isSegment","refreshPathLayer","setPoints","cachedMatrixInverse","refreshEditorView","removeCache","convertGenerator","transformMode","makeSVGPath","strokeWidth","splitXY","updatePathLayer","transformZoneRect","isSplitPath","calculatePointOnLine","isPathMode","selectedPointIndex","localIndex","toggleSelect","setCachePoint","selectKeyIndex","renderSelectBox","selectedLength","selectInBox","getSelectBox","hideSelectBox","setConnectedPoint","moveEnd","$segmentBox","styles","removeSelectedSegment","transformMoveType","resetTransformZone","initTransform","utilType","selectedGroupIndexList","divideSegmentByCount","clickPosition","getClosedPoint","selectedSegmentIndex","setLastPoint","setPoint","setPointQuard","setPointLine","convertToCurve","HoverView","$modeView","setHoverId","renderHoverLayer","filteredLayers","$hoverRect","createPointerLine","pointers","unitWidth","unitHeight","hLineByPoint","vLineByPoint","GuideLineView","svgDiff","createGuideLine","texts","localSourceVertex","localTargetVertex","localNewTargetVertex","hasVerties","isPointerDown","isPointerMove","removeGuideLine","targetVertiesList","refreshSmartGuides","targetList","targets","setGuideLine","refreshSmartGuidesForVerties","SelectionInfoView","makeArtboardTitleArea","artboardItem","newPointer","diff","createSize","GridLayoutLineView","isInGrid","layoutContainer","toGridLayoutCSS","border","layoutItemCSS","toLayoutItemCSS","DragAreaView","inSelection","mouseOverItem","distVector","DragAreaRectView","$dragAreaRect","dragRect","selectedArtboard","isIncludeByArea","checkInAreaForAll","startVertex","endVertex","locaRect","selectedItems","getSelectedItems","directionType","1","2","3","4","11","12","13","14","SelectionToolView","isEditingPath","moveType","rotateTargetNumber","refreshRotatePointerIcon","dragging","isRotate","targetRotatePointer","currentMatrix","newRotateX","dataPointer","renderPointerList","iconAngle","refreshPointerIcon","moveTarget","hasRotate","vertexOffset","itemMatrix","reverseMatrix","currentVertex","nextVertex","currentResult","nextResult","vertexIndex","calculateDistance","lastStartVertex","directionNewVector","directionMatrix","calculateNewOffsetMatrixInverse","originalTransformOrigin","moveItem","calculateRealDist","realDx","realDy","moveDirectionVertex","moveTopLeftVertex","moveTopVertex","moveRightVertex","moveBottomVertex","moveLeftVertex","moveTopRightVertex","moveBottomRightVertex","moveBottomLeftVertex","makeSelectionTool","renderPointers","parentVerties","createRenderPointers","parentRect","$pointerRect","parentVector","centerPointer","selectionPointers","parentPointers","isArtBoard","createPointerRect","createParentRect","createRotatePointer","createPointerSide","createPointer","initSelectionTool","GroupSelectionToolView","$selectionView","localAngle","selectionMatrix","lastAngle","initMatrix","cachedGroupItem","vertextOffset","vertextIndex","transformViewInverse","newX","newY","scaleX","scaleY","localView","moveItemForGroup","moveGroupItem","recoverItemForGroup","isInitializeMatrix","newArtBoard","elementLine","createLine","CanvasView","cursor","cursorArgs","startMovePan","lastDist","$i18n","currentDist","pan","newCenter","getAllDropItems","gesture","zoom","newDx","newDy","setMousePoint","$lock","DrawManager","msg","$stroke","$strokeWidth","updateData","MODES","PathManager","transformType","PageSubEditor","BodyPanel","toggleFullscreen","BaseWindow","getClassName","getTitle","getTools","getBody","ExportWindow","renderSVG","svgData","shiki","getHighlighter","highlighter","html_beautify","indent","changedHtml","codeToHtml","$html","changedCss","$css","changedSvgData","$svgimage","toExportStyle","categories","keyAlias","ShortcutWindow","getKeyString","getTemplateForShortcutItem","getTemplateForCategory","ProjectWindow","ElementClass","container","app","EmbedEditorWindow","App","createDesignEditor","$body","NotificationView","createByHTML","getMessageTemplate","PopupManager","formElements","KeyboardManager","TabPanel","Tabs","selectedValue","onchange","getValue","onlyOneClass","Inspector","loadElements","LanguageSelector","languages","LayoutSelector","layouts","VersionView","SwitchLeftPanel","SwitchRightPanel","StatusBar","MenuItem","isHideTitle","getChecked","isDisabled","getDirection","getIcon","getIconString","clickButton","iconString","SelectTool","setSelected","AddArtboard","AddRect","AddCircle","AddText","AddImage","AddDrawPath","AddPath","AddSVGRect","AddSVGCircle","AddSVGTextPath","AddBlankRect","AddSVGPolygon","AddSVGStar","AddSpline","ToolMenu","$items","$selected","Projects","DropdownMenu","opened","makeMenuItem","disabled","Undo","Redo","ExportView","Download","Save","OpenPathEditor","cacheClipPathObject","Outline","ThemeChanger","ToolBar","BottomAlign","CenterAlign","LeftAlign","MiddleAlign","RightAlign","SameHeight","SameWidth","TopAlign","BaseProperty","isHideHeader","isFirstShow","getTitleClassName","hasKeyframe","getKeyframeProperty","getBodyClassName","getFooter","$propertyTitle","isRefresh","editable","editableProperty","AlignmentProperty","getCustomParseIndexString","customParseConvertMatches","regexp","parsedString","customParseMatches","customParseReverseMatches","ANIMATION_TIMING_REG","Animation","playState","fillMode","forcedValue","replaceIndex","fields","AnimationProperty","selectedClass","alert","togglePlayState","$preview","selectItem","currentAnimation","viewAnimationPropertyPopup","viewAnimationPicker","BasePopup","$title","popupPadding","rightPosition","realTop","realLeft","clientWidth","zIndex","AnimationPropertyPopup","templateForKeyframe","templateForTimingFunction","templateForIterationCount","templateForDelay","templateForDuration","templateForDirection","templateForFillMode","templateForPlayState","label","$name","$cubicBezierEditor","overflow_list","AppearanceProperty","getOverflowList","$zIndex","$mixBlend","$overflow","$color","groups","devices","device","ArtBoardSizeProperty","artboardSize","makeDevice","makeGroup","BackdropFilterProperty","filterType","$filterSelect","$filterEditor","svgFilterList","getSVGFilterList","BackgroundClipProperty","refreshShow","BackgroundImageEditor","hideLabel","parseBackgroundImage","labelClass","backgroundType","backgroundTypeName","templateForBlendMode","modifyBackgroundImage","sortBackgroundImage","typeName","BackgroundImagePositionPopup","$repeat","templateForSize","templateForX","templateForY","templateForWidth","templateForHeight","templateForRepeat","BackgroundImageProperty","$backgroundImageEditor","BackgroundPositionEditor","modifyValue","viewBackgroundPositionPopup","BaseUI","onClick","action","Button","sendEvent","DEFAULT_LABELS","CheckBox","toggleLabels","hasLabel","isTrigger","PathToolProperty","pathAttrs","convertStrokeToPath","$pathkit","polygonal","BorderStyles","Border","borderTypeList","borderTypeTitle","BorderEditor","borders","BorderProperty","borderStyleList","BorderValueEditor","parseValue","joinValue","$width","typeList","BorderImageProperty","appliedBorderImage","applyBorderImage","$apply","getColorStepString","borderImage","imageCSS","getColorStepList","setBorderImageProperty","viewFillPopup","$colorsteps","selectColorStepId","getFillData","setImageUrl","viewChangeImage","setGradient","viewChangeGradient","setImage","$selector","$allSlice","$partitialSetting","BorderRadiusEditor","setBorderRadius","borderRadius","modifyBorderRadius","BorderRadiusProperty","styleKeys","BoxModelProperty","templateInput","resetBoxModel","BoxShadowEditor","modifyBoxShadow","viewShadowPopup","viewBoxShadowPropertyPopup","BoxShadowProperty","$boxshadow","boxshadow","BoxShadowPropertyPopup","boardWidth","boardHeight","halfWidth","halfHeight","refreshPointer","$offsetX","$offsetY","CircleEditor","toClipPathValueString","areaRect","$pointer","InsetEditor","topX","topY","bottomX","bottomY","rightX","rightY","leftX","leftY","roundCheckStatus","$hasRound","$top","$right","$bottom","$left","$clipArea","clipRect","clipWidth","clipHeight","PolygonEditor","maxWidth","maxHeight","appendValue","removeValue","copyValue","$value","$inputList","$x","$y","updateValue","EllipseEditor","ClipPathPopup","toClipPathCSS","clipPathList","ClipPathProperty","isPath","newPathString","rectangle","hRate","lastRate","newRectangle","viewClipPathPicker","makeClipPathTemplate","$clipPathSelect","updatePathInfo","CodeViewProperty","codeview","Hue","hue","minValue","refreshColorUI","changeColor","Opacity","colorbar","background","ColorView","ColorInformation","manager","initFormat","current_format","formatString","next_format","changeFormat","to_format","lastUpdateColor","$rgb_r","$rgb_g","$rgb_b","$rgb_a","$hsl_h","$hsl_s","$hsl_l","$hsl_a","changeRgbColor","changeHslColor","$hexCode","nextFormat","goToFormat","setCurrentFormat","setRGBInput","setHSLInput","setHexInput","ColorPalette","hueColor","changeEndColor","hue_color","initHueColors","checkHueColor","ColorManagerV2","HueColor","ColorPickerEditor","initColor","modifyColorPicker","newColor","toColor","onchangeend","$palette","getHueColor","$opacity","$hue","$colorview","$information","Palette","ColorPickerPopup","changeEndEvent","updateEndData","EmbedColorPicker","$colorpicker","ComponentProperty","createInspector","setTitle","selfEditor","selfEditorOptions","selfEditorKey","convertDefaultValue","getPropertyEditor","editorOptions","realValueObject","ComponentPopup","inspectorItem","ContentProperty","setContent","$contentItem","BaseAssetModel","ZERO","GroupModel","hasLayout","refreshMatrixCache","applyLayout","isLayout","otherParentId","setCacheItemTransformMatrix","setCacheLocalTransformMatrix","setCacheAccumulatedMatrix","setCacheLocalVerties","setCacheVerties","setCacheGuideVerties","setCacheAreaPosition","_cachedItemTransform","getItemTransformMatrix","_cachedItemTransformInverse","_cachedLocalTransform","_cachedLocalTransformInverse","_cachedTransformWithTranslate","getTransformWithTranslate","_cachedTransformWithTranslateInverse","_cachedTransformWithTranslateTranspose","_cachedAccumulatedMatrix","getAccumulatedMatrix","_cachedAccumulatedMatrixInverse","_cachedVerties","getVerties","_cachedVertiesWithoutTransformOrigin","_cachedLocalVerties","getLocalVerties","_cachedGuideVerties","getGuideVerties","_cachedAreaPosition","_cachedAreaWidth","getLocalTransformMatrixInverse","getItemTransformMatrixInverse","getAccumulatedMatrixInverse","areaSize","startRow","startColumn","endRow","endColumn","absoluteX","isChild","absoluteY","replaceAll","perspectiveOriginX","perspectiveOriginY","getDirectionTransformMatrix","getPerspectiveMatrix","perspectiveMatrix","localMatrix","originalTransform","parentMatrix","itemMatrixInverse","getDirectionTopLeftMatrix","getDirectionTopMatrix","getDirectionTopRightMatrix","getDirectionRightMatrix","getDirectionBottomLeftMatrix","getDirectionBottomMatrix","getDirectionBottomRightMatrix","getDirectionLeftMatrix","checkInAreaForLayers","getTransformOriginMatrix","newScaleTransform","fromScale","quat","newRotateTransform","newChildItemTransform","newTransformMatrix","getTransformOriginMatrixInverse","parentLayers","setOrder","childrenLength","Selector","toPropertyString","editableKeys","LayerModel","selectors","addSelector","hasLayoutItem","isAttribute","isRootItem","traverse","setClipPathCache","cacheClipPath","cacheClipPathWidth","cacheClipPathHeight","setBackgroundImageCache","patternList","computed","backgroundList","backgroundImage","cacheBackgroundImage","intersection","union","difference","reverseDifference","xor","ArtBoard","CircleLayer","ImageLayer","elementType","RectLayer","expectedPropertiesKeys","SVGItem","overflow","fillOpacity","isTransparent","isZeroStroke","isPointInStroke","isPointInFill","svgEl","pathEl","invertPoint","localX","localY","createSVGPoint","localFill","SVGPathItem","cachePath","cacheWidth","cacheHeight","SVGTextItem","lengthAdjust","SVGTextPathItem","startOffset","DEFAULT_TEMPLATE","TemplateLayer","engine","TextLayer","SVGPolygonItem","localPoint","isPointInPath","SVGStarItem","isCurve","makeCurvedStar","SplineItem","traceCount","setCache","makePathByVerties","pathData","pt","d0","d1","en_US","fr_FR","ko_KR","TextureView","isItemMode","cssPatterns","CSSTextureView","svgPatterns","originWidth","originHeight","SVGTextureView","OrderDown","OrderFirst","OrderLast","OrderTop","DepthProperty","ExportProperty","FilterProperty","FontProperty","$size","$stretch","$family","FontSpacingProperty","$lineHeight","$letter","$word","$indent","imageTypeList","iconList","presetPosition","rangeEditorList","FillEditor","cachedRect","getImageFieldValue","refreshFieldValue","$x1","$y1","$x2","$y2","$cx","$cy","$r","$fx","$fy","$fr","$spreadMethod","$patternUnits","$patternWidth","$patternHeight","$imageX","$imageY","$imageWidth","$imagenHeight","getDrawAreaRect","getFieldValue","containerRect","$pointerDrawArea","getRectRate","changeImageType","currentStep","$stepList","insertColorStep","getLinearGradient","isSelectedColorStep","removeColorStep","selectColorStep","$range","removeStep","selectStep","cachedStepListRect","getStepListRect","setColor","GradientPickerPopup","selectedTab","selectColorStepIndex","$g","FillPickerPopup","FillSingleEditor","simple","removable","viewGradientPopup","GradientSingleEditor","angle_list","createColorStep","createRepeatColorStep","GradientAssetsProperty","preset","effectAllowed","setData","custom","isEmit","executeGradient","HistoryProperty","ItemRender","Primitive","DEFAULT_ATTRIBUTES","xChannelSelector","yChannelSelector","BaseSVGFilter","in","bound","getSourceInAttribute","inList","indexString","hasInIndex","getDefaultAttribute","SVGFilterClassName","RotaMatrixSVGFilter","hueRotate","MergeSVGFilter","CompositeSVGFilter","operator","k2","k3","k4","kNumbers","MorphologySVGFilter","TurbulenceSVGFilter","baseFrequency","numOctaves","seed","DisplacementMapSVGFilter","scaleOption","ColorMatrixSVGFilter","valueString","ConvolveMatrixSVGFilter","kernelMatrix","GaussianBlurSVGFilter","stdDeviationX","stdDeviationY","edgeMode","stdDeviation","FloodSVGFilter","ComponentTransferSVGFilter","tableValues","slop","intercept","amplitude","exponent","DistantLightSVGFilter","azimuth","elevation","PointLightSVGFilter","SpotLightSVGFilter","pointsAtX","pointsAtY","pointsAtZ","specularExponent","limitingConeAngle","DiffuseLightingSVGFilter","surfaceScale","lightingColor","diffuseConstant","lightInfo","SpecularLightingSVGFilter","specularConstant","OffsetSVGFilter","BlendSVGFilter","SourceSVGFilter","SourceGraphicSVGFilter","SourceAlphaSVGFilter","BackgroundImageSVGFilter","BackgroundAlphaSVGFilter","FillPaintSVGFilter","StrokePaintSVGFilter","DropShadowSVGFilter","SaturateSVGFilter","HueRotateSVGFilter","LuminanceAlphaSVGFilter","TileSVGFilter","ImageSVGFilter","alignment","scaleing","SVG_FILTER_COMMON_ATTRIBUTES","SVGFilter","Tile","Saturate","HueRotate","LuminanceAlpha","DropShadow","SourceGraphic","SourceAlpha","BackgroundAlpha","FillPaint","StrokePaint","ComponentTransfer","DistantLight","PointLight","SpotLight","DiffuseLighting","SpecularLighting","Blend","RotaMatrix","GaussianBlur","Flood","Merge","Composite","Morphology","Turbulence","DisplacementMap","ColorMatrix","ConvolveMatrix","SVGFilterSpecList","ZERO_CONFIG","WEBKIT_ATTRIBUTE_FOR_CSS","DomRender","toFlexLayoutCSS","parentLayout","toStringPropertyCSS","toKeyListCSS","toRootVariableCSS","toClipPath","toSVGFilter","clipPathId","innerSVGId","appendCSS","cssString","toNestedCSS","toSelectorString","toVariableCSS","toDefaultCSS","toWebkitCSS","toTextClipCSS","toBoxModelCSS","toBorderCSS","toLayoutCSS","toTransformCSS","generateView","renderVirtualArea","booleanId","filterString","computedValue","svgfilter","currentElement","$svg","$booleanSvg","defString","LayerRender","image_size","ImageProperty","ImageSelectEditor","getImageValueById","imageId","ImageSelectPopup","$img","KeyframePopup","templateForName","templateForOffset","getOffsetData","KeyframeProperty","makeProperty","makeOffset","$keyframeItem","currentKeyframe","viewKeyframePicker","removeKeyframe","makeKeyframeTemplate","createKeyframe","viewKeyframePropertyPopup","back","OffsetEditor","modifyOffset","templateForOffsetInput","templateForProperty","selectedList","selectedOffsetItem","refreshOffsetInput","$offsetInput","baseOffsetWidth","$offset","baseOffsetArea","currentX","newOffset","currentOffsetleft","currentOffsetIndex","currentOffsetXY","baseOffsetMin","baseOffsetMax","isRemoveOffset","removeOffset","refreshOffsetProperty","LayerTreeProperty","hideDragPointer","lastDragOverPosition","lastDragOverOffset","rootRect","lastDragOverItemDirection","targetItem","lastDragOverItemId","parentObject","selectedPathClass","hovered","checkHover","isTreeItemHide","depthPadding","$lockManager","makeLayerList","$layerList","targetLayerId","sourceLayerId","sourceItem","startInputEditing","enter","endInputEditing","modifyDoneInputEditing","lastLock","isSelection","$layerItem","FlexLayoutEditor","makeOptionsFunction","getDirectionOptions","getWrapOptions","getJustifyContentOptions","getAlignItemsOptions","getAlignContentOptions","modifyData","FlexLayoutItemEditor","FlexLayoutItemProperty","valueType","getLayoutOptions","grow","$grow","shrink","$shrink","basis","$basis","getFlexItemValue","getFlexValue","$layout","$layoutList","isInFlex","GridBoxEditor","exec","tempArray","getLayoutItemOptions","makeItem","newObj","$list","GridGapEditor","GridLayoutEditor","GridLayoutItemEditor","GridLayoutItemProperty","$columnStart","$columnEnd","$rowStart","$rowEnd","getGridValue","LayoutProperty","DefaultLayoutItemProperty","getDefaultItemValue","getDefaultValue","isInDefault","PatternAssetsProperty","PatternEditor","parsePattern","modifyPattern","sortPattern","PatternInfoPopup","hasNotX","hasNotY","hasNotLineWidth","hasNotLineHeight","templateForLineWidth","templateForLineHeight","templateForForeColor","templateForBackColor","pattern_list","PatternProperty","patternType","$patternSelect","$patternEditor","PatternSizeEditor","linewidth","lineheight","backcolor","forecolor","blendmode","PerspectiveProperty","PerspectiveOriginEditor","direct","modifyPerspectiveOrigin","setPerspectiveOrigin","perspectiveOrigin","PerspectiveOriginProperty","DEFAULT_SIZE","PositionProperty","refreshShowIsNot","$height","$rotate","ProjectProperty","SelectEditor","tabIndex","tabindex","hasTabIndex","$options","blend_list","BlendSelectEditor","getBlendList","ClipPathEditor","modifyClipPath","colorList","localA","localB","resource","materialRed","materialPink","materialPurple","materialDeeppurple","materialIndigo","materialBlue","materialLightblue","materialCyan","materialTeal","materialGreen","materialLightgreen","materialLime","materialYellow","materialAmber","materialOrange","materialDeeporange","materialBrown","materialGray","materialBluegray","ColorAssetsEditor","isLoaded","ColorSingleEditor","modifyColor","viewColorPicker","$miniView","ColorViewEditor","modifyEndColor","$colorCode","CSSPropertyEditor","hideTitle","hideRefresh","modifyProperty","makePropertySelect","getPropertyDefaultValue","modifyPropertyValue","textShadow","makeCustomePropertyEditor","makeIndivisualPropertyEditor","makeIndivisualPropertyColorEditor","searchKey","makePropertyEditor","CubicBezierEditor","currentBezierIndex","selectedColor","animatedColor","curveColor","baseLineColor","linearCurve","linearCurvePoint","easeCurve","easeCurvePoint","easeInCurve","easeInCurvePoint","easeOutCurve","easeOutCurvePoint","modifyCubicBezier","$itemList","refreshEasingText","refreshBezierCanvas","drawPoint","$text","$control","$pointer1","$pointer2","animationTimer","animationPoint","animationCanvasData","$animationCanvas","fillStyle","strokeStyle","setPosition","DirectionEditor","specList","FilterEditor","makeOneFilterEditor","makeDropShadowFilterTemplate","getSpec","makeOneFilterTemplate","makeFilterTemplate","sortFilter","modifyFilter","svgfilterIndex","getSVGFilterIndex","setSVGFilterValue","makeFilter","font_list","FontSelectEditor","getFontList","radialTypeList","hasRadialPosition","GradientEditor","$dragPosition","$radialPositionX","$radialPositionY","$angle","$radialType","$cut","IconListViewEditor","InputArrayEditor","InputRangeEditor","compact","layoutClass","realValue","selectedUnit","$propertyNumber","$unit","initValue","toUnit","RangeEditor","calc","$rangeArea","IterationCountEditor","MediaProgressEditor","$s","$e","setMax","$progress","$start","$end","realPos","NumberInputEditor","hasCompact","NumberRangeEditor","clamp","isRemovable","PathDataEditor","$data","$segment","$command","makeSegments","modifyPathData","PolygonDataEditor","modifyPolygonData","SelectIconEditor","icons","iconClass","iconKey","StrokeDashArrayEditor","generateValue","toStringValue","modifyStrokeDashArray","TextAreaEditor","TextEditor","VarEditor","char_list","function_list","keyword_list","replaceKeyword","ke","filterKeyName","HTMLRenderer","getDefaultRendererInstance","currentRenderer","defaultInstance","omit","keyframeCode","toKeyframeString","cssCode","nestedCssCode","selectorCode","ArtBoardRender","CircleRender","faceKeys","CubeRender","visibility","backfaceVisibility","ImageRender","getUrl","$image","ProjectRender","keyframeString","RectRender","SVGItemRender","$path","$defs","fillValue","cachedFill","strokeValue","cachedStroke","SVGPathRender","setAttrNS","toFilterValue","SplineRender","SVGPolygonRender","SVGStarRender","SVGTextPathRender","$guidePath","$textPath","toPathSVG","toPathId","pathId","SVGTextRender","EngineList","TemplateEngine","currentEngine","compile","TemplateRender","compiledTemplate","$innerHTML","TextRender","$textElement","VideoRender","getVideoValueById","controls","poster","crossorigin","autoplay","JSONRenderer","referenceId","newTargetId","IFrameRender","SVGRenderer","svgCode","SVGRender","wrappedRender","SVGLayerRender","$iframe","setAttr","updateDefString","toSVGAttribute","SelectorPopup","templateForSelector","$propertyEditor","selectorList","SelectorProperty","viewSelectorPicker","removeSelector","makeSelectorTemplate","sortSelector","createSelector","$select","currentSelector","viewSelectorPropertyPopup","currentselector","SVGFilterAssetsProperty","executeSVGFilter","removeSVGFilter","copySVGFilter","attrKeyValue","BlueMagenta2","BlueShadowMagentHightlight","darken","ElimBlue","GrayOnDark","GrayOnLight","GrayOnMid","HardGreen","HardYellow","IdenticalRedOverlay","lighten","NoGreenMagenta","NoGreenRed","peachy","RedOverlay","YesGreenColorizedMagenta","sampleList","colormatrix","ColorMatrixEditor","sample","FuncFilterEditor","dancingStroke","stitchTiles","innerShadow","edge","filterTypes","SVGFilterTemplateList","getSourceTypeString","connectedXAxis","connectedYAxis","inXAxis","inYAxis","SVGFilterEditor","parseFilter","selectedTabIndex","selectedFilter","makeFilterSelect","makeFilterTemplateSelect","makeFilterNode","templateType","svgFilterPreset","objectId","keyMapJoin","makeFilterEditorTemplate","isSource","isLight","lightManager","toLightString","applyTemplate","removeFilter","makeGraphPanel","$point","$graphPanel","selectFilter","inRect","connectedInfo","getInCount","connectedItem","createPath","sourceType","makeConnectedPath","tid","sid","inObject","$targetNode","targetFilter","hasLight","setIn","setConnected","itIn","inIndex","SVGFilterPopup","SVGFilterSelectEditor","SVGItemProperty","$fill","$fillOpacity","$fillRule","$strokeDashOffset","$strokeDashArray","$strokeLineCap","$strokeLineJoin","SVGTextProperty","setAllValue","textTransformOptions","textDecorationOptions","TextProperty","$align","$transform","$decoration","TextClipProperty","TextFillProperty","$fillColor","$strokeColor","TextShadowEditor","modifyTextShadow","viewTextShadowPropertyPopup","TextShadowProperty","$textshadow","textshadow","TextShadowPropertyPopup","directions","RotateEditorView","rotateCache","cache","pointerRect","$handle","targetRect","$rotateZ","rotateZCenter","rotateZStart","modifyRotateZ","transformList","labels","TransformEditor","editorType","tindex","getLabel","getRange","isMultiValue","makeMultiTransformTemplate","makeOneTransformTemplate","makeTransformTemplate","sortTransform","modifyTransform","makeTransform","$transformSelect","TransformProperty","$transformEditor","TRANSITION_TIMING_REG","Transition","transition","TransitionProperty","transitions","currentTransition","viewTransitionPropertyPopup","viewTransitionPicker","property_list","TransitionPropertyPopup","VideoProperty","status","volumeStatus","$volume","$currentTime","ontimeupdate","onprogress","configs","registerItem","designMode","ToggleCheckBox","registerAlias","ObjectItems","CustomAssets","$storageManager","confirm","removeCustomAsset","saveCustomAsset","LibraryItems","broadcast","AssetItems","LayerTab","selectedIndexValue","IconManager","SingleObjectItems","ItemLayerTab","SingleInspector","DesignEditor","registerPathKit","designEditorPlugins","leftSize","rightSize","bottomSize","lastBottomSize","minSize","$theme","maxSize","$splitter","minFooterSize","maxFooterSize","$footerPanel","EditorInstance","HTMLLayerRender","exportLibrary"],"mappings":"CAAA,SAA2CA,EAAMC,GA0B1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IA0BQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GA0Be,iBAAZC,QACdA,QAAgB,OAAID,IA2BpBD,EAAa,OAAIC,IA5GnB,CA6GGK,QAAQ,WACX,O,YC7GE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,K,gBClFrD,SAASC,EAAgBvB,GAKvB,OAJAhB,EAAOD,QAAUwC,EAAkBtB,OAAOuB,eAAiBvB,OAAOwB,eAAiB,SAAyBzB,GAC1G,OAAOA,EAAE0B,WAAazB,OAAOwB,eAAezB,IAE9ChB,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,EACjEY,EAAgBvB,GAGzBhB,EAAOD,QAAUwC,EACjBvC,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,cCHxE3B,EAAOD,QANP,SAAyB4C,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,sCAKxB7C,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,cCPxE,SAASmB,EAAkBC,EAAQC,GACjC,IAAK,IAAIzC,EAAI,EAAGA,EAAIyC,EAAMC,OAAQ1C,IAAK,CACrC,IAAI2C,EAAaF,EAAMzC,GACvB2C,EAAW/B,WAAa+B,EAAW/B,aAAc,EACjD+B,EAAWC,cAAe,EACtB,UAAWD,IAAYA,EAAWE,UAAW,GACjDnC,OAAOC,eAAe6B,EAAQG,EAAWpB,IAAKoB,IAUlDlD,EAAOD,QANP,SAAsB6C,EAAaS,EAAYC,GAG7C,OAFID,GAAYP,EAAkBF,EAAYT,UAAWkB,GACrDC,GAAaR,EAAkBF,EAAaU,GACzCV,GAIT5C,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,gBCjBxE,IAAIa,EAAiB,EAAQ,IAiB7BxC,EAAOD,QAfP,SAAmBwD,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIX,UAAU,sDAGtBU,EAASpB,UAAYlB,OAAOY,OAAO2B,GAAcA,EAAWrB,UAAW,CACrEsB,YAAa,CACXjC,MAAO+B,EACPH,UAAU,EACVD,cAAc,KAGdK,GAAYhB,EAAee,EAAUC,IAI3CxD,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,gBClBxE,IAAI+B,EAAU,EAAQ,IAA0C,QAE5DC,EAAwB,EAAQ,IAUpC3D,EAAOD,QARP,SAAoC6D,EAAMlD,GACxC,OAAIA,GAA2B,WAAlBgD,EAAQhD,IAAsC,mBAATA,EAI3CiD,EAAsBC,GAHpBlD,GAOXV,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,cCExE3B,EAAOD,QAfP,SAAyB8D,EAAK/B,EAAKN,GAYjC,OAXIM,KAAO+B,EACT5C,OAAOC,eAAe2C,EAAK/B,EAAK,CAC9BN,MAAOA,EACPL,YAAY,EACZgC,cAAc,EACdC,UAAU,IAGZS,EAAI/B,GAAON,EAGNqC,GAIT7D,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,gBChBxE,IAAImC,EAAgB,EAAQ,IAE5B,SAASC,EAAKhB,EAAQb,EAAU8B,GAoB9B,MAnBuB,oBAAZC,SAA2BA,QAAQ7C,KAC5CpB,EAAOD,QAAUgE,EAAOE,QAAQ7C,IAChCpB,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,IAExE3B,EAAOD,QAAUgE,EAAO,SAAchB,EAAQb,EAAU8B,GACtD,IAAIE,EAAOJ,EAAcf,EAAQb,GACjC,GAAKgC,EAAL,CACA,IAAIC,EAAOlD,OAAOmD,yBAAyBF,EAAMhC,GAEjD,OAAIiC,EAAK/C,IACA+C,EAAK/C,IAAIV,KAAKsD,GAGhBG,EAAK3C,QAGdxB,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,GAGnEoC,EAAKhB,EAAQb,EAAU8B,GAAYjB,GAG5C/C,EAAOD,QAAUgE,EACjB/D,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,gBC1BxE,IAAI0C,EAAiB,EAAQ,IAEzBC,EAAuB,EAAQ,IAE/BC,EAA6B,EAAQ,IAErCC,EAAkB,EAAQ,IAM9BxE,EAAOD,QAJP,SAAwB0E,EAAKlE,GAC3B,OAAO8D,EAAeI,IAAQH,EAAqBG,EAAKlE,IAAMgE,EAA2BE,EAAKlE,IAAMiE,KAItGxE,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,gBCbxE,IAAI+C,EAAoB,EAAQ,IAE5BC,EAAkB,EAAQ,IAE1BJ,EAA6B,EAAQ,IAErCK,EAAoB,EAAQ,IAMhC5E,EAAOD,QAJP,SAA4B0E,GAC1B,OAAOC,EAAkBD,IAAQE,EAAgBF,IAAQF,EAA2BE,IAAQG,KAI9F5E,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,gBCbxE3B,EAAOD,QAAU,EAAQ,K,cCAzB,SAAS8E,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQpD,EAAKqD,GACpE,IACE,IAAIC,EAAON,EAAIhD,GAAKqD,GAChB3D,EAAQ4D,EAAK5D,MACjB,MAAO6D,GAEP,YADAL,EAAOK,GAILD,EAAKE,KACPP,EAAQvD,GAER+D,QAAQR,QAAQvD,GAAOgE,KAAKP,EAAOC,GAwBvClF,EAAOD,QApBP,SAA2B0F,GACzB,OAAO,WACL,IAAI7B,EAAO8B,KACPC,EAAOC,UACX,OAAO,IAAIL,SAAQ,SAAUR,EAASC,GACpC,IAAIF,EAAMW,EAAGI,MAAMjC,EAAM+B,GAEzB,SAASV,EAAMzD,GACbqD,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQ1D,GAGlE,SAAS0D,EAAOY,GACdjB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASY,GAGnEb,OAAMc,QAMZ/F,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,gBCrCxE,IAAI0C,EAAiB,EAAQ,IAEzBM,EAAkB,EAAQ,IAE1BJ,EAA6B,EAAQ,IAErCC,EAAkB,EAAQ,IAM9BxE,EAAOD,QAJP,SAAkB0E,GAChB,OAAOJ,EAAeI,IAAQE,EAAgBF,IAAQF,EAA2BE,IAAQD,KAI3FxE,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,6BCXxE,IAAIqE,EAAY,EAAQ,IACpBC,EAAgB,EAAQ,IACxBC,EAAc,EAAQ,IAE1B,SAASC,EAAWC,GAClB,GAAKA,EAAL,CAGA,GAAIJ,EAAUI,IAAMH,EAAcG,GAChC,MAAgB,YAAZA,EAAEC,MACGF,EAAUG,gBAEZH,EAAUI,QAEjB,GAAIL,EAAYE,GAEd,OAAOD,EAAUK,gBAInB,MAAM,IAAIC,MAAM,yCAA4CL,IAIhED,EAAUK,gBAAkB,MAC5BL,EAAUI,QAAU,KACpBJ,EAAUG,gBAAkB,QAC5BH,EAAUO,OAAS,UAEnB1G,EAAOD,QAAUoG,G,6BC7BjBnG,EAAOD,QAAU,SAAsB4G,GACrC,OAAOC,MAAMC,QAAQF,IAASG,YAAYC,OAAOJ,K,cCSnD3G,EAAOD,QAZP,SAAgCiH,EAASC,GAKvC,OAJKA,IACHA,EAAMD,EAAQE,MAAM,IAGfjG,OAAOkG,OAAOlG,OAAOmG,iBAAiBJ,EAAS,CACpDC,IAAK,CACHzF,MAAOP,OAAOkG,OAAOF,QAM3BjH,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,6BCXxE,IAAI0F,EAAiB,SAASA,EAAgBvG,EAAMwG,GAClD,OAAO,SAAU/G,EAAGgH,QACRxB,IAANxF,GAAoBqG,MAAMC,QAAQtG,KAAIA,EAAI,CAACA,IAE/C,IADA,IAAIiH,EAAe,GACVC,EAAI,EAAGA,EAAIlH,EAAE0C,OAAQwE,IAC5BD,EAAaE,KAAKL,EAAeM,IAAIpH,EAAEkH,KAEzC,GAAIF,EACF,IAAKhH,EAAI,EAAGA,EAAIiH,EAAavE,OAAQ1C,SACjBwF,IAAdwB,EAAOhH,KACXiH,EAAajH,GAAK,IAAMiH,EAAajH,GAAK,MAAQgH,EAAOhH,GAAK,OAASgH,EAAOhH,IAGlF,OAAOO,EAAO0G,EAAaI,KAAK,OAIpCP,EAAeM,IAAM,SAAUE,GAI7B,OADqB,KADrBA,GADAA,EAAQjB,MAAMC,QAAQgB,GAASA,EAAQ,CAACA,IAC1BC,QAAO,SAAUC,GAAQ,YAAgBhC,IAATgC,GAA+B,IAATA,MAC1D9E,QAAc4E,EAAMH,KAAK,GAC5BG,EAAMD,KAAK,QAGpB5H,EAAOD,QAAUsH,G,gBC1BjB,IAAIW,EAAmB,EAAQ,IAW/BhI,EAAOD,QATP,SAAqCiB,EAAGiH,GACtC,GAAKjH,EAAL,CACA,GAAiB,iBAANA,EAAgB,OAAOgH,EAAiBhH,EAAGiH,GACtD,IAAIjG,EAAIf,OAAOkB,UAAU+F,SAASxH,KAAKM,GAAGkG,MAAM,GAAI,GAEpD,MADU,WAANlF,GAAkBhB,EAAEyC,cAAazB,EAAIhB,EAAEyC,YAAY3C,MAC7C,QAANkB,GAAqB,QAANA,EAAoB4E,MAAMuB,KAAKnH,GACxC,cAANgB,GAAqB,2CAA2CoG,KAAKpG,GAAWgG,EAAiBhH,EAAGiH,QAAxG,IAIFjI,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,cCZxE3B,EAAOD,QAAU,SAAU0E,GACzB,QAAKA,SAEUsB,IAAbtB,EAAIkC,MACJC,MAAMC,QAAQpC,EAAI4D,aACHtC,IAAftB,EAAI6D,aACWvC,IAAftB,EAAI8D,U,gBCNR,IAAIpC,EAAY,EAAQ,IAExBnG,EAAOD,QAAU,SAAUuH,EAAOkB,EAAcC,EAAc9B,GAC5D,IAAIpG,EACAmI,EAAO,GAEX,OAAQvC,EAAUQ,IAChB,KAAKR,EAAUI,QAIb,IAHAmC,EAAKhB,KAAK,SAAWc,EAAe,MAAQC,EAAe,UAC3DC,EAAKhB,KAAK,SAAWc,EAAe,YAAcC,EAAe,YAE5DlI,EAAI,EAAGA,EAAIoG,EAAKgC,UAAWpI,IAC9BmI,EAAKhB,KAAK,SAAWc,EAAe,SAAWjI,EAAI,MAAQkI,EAAe,WAAalI,EAAI,MAE7F,MACF,KAAK4F,EAAUK,gBACbkC,EAAKhB,KAAK,SAAWc,EAAe,MAAQC,EAAe,KAG/D,OAAOC,EAAKd,KAAK,Q,6BCjBnB,IAAI3B,EAAgB,EAAQ,IAE5BjG,EAAOD,QAAU,SAAU4G,EAAMiC,EAAkBD,GACjD,GAAKhC,EAEE,IAAIV,EAAcU,GACvB,OAAOiC,EAAmB,UAAYD,EAAY,IAGlD,IADA,IAAIE,EAAMD,EACDrI,EAAI,EAAGA,EAAIoI,EAAWpI,IAC7BsI,GAAO,MAET,OAAOA,EAAM,UARb,MAAO,aAAeF,EAAY,M,gCCNtC,SAASjF,EAAQG,GAiBf,MAdsB,mBAAXvC,QAAoD,iBAApBA,OAAOwH,UAChD9I,EAAOD,QAAU2D,EAAU,SAAiBG,GAC1C,cAAcA,GAGhB7D,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,IAExE3B,EAAOD,QAAU2D,EAAU,SAAiBG,GAC1C,OAAOA,GAAyB,mBAAXvC,QAAyBuC,EAAIJ,cAAgBnC,QAAUuC,IAAQvC,OAAOa,UAAY,gBAAkB0B,GAG3H7D,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,GAGnE+B,EAAQG,GAGjB7D,EAAOD,QAAU2D,EACjB1D,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,gBCpBP3B,EAAOD,QAGhE,WAAe,aAErB,SAAS2D,EAAQG,GAaf,OATEH,EADoB,mBAAXpC,QAAoD,iBAApBA,OAAOwH,SACtC,SAAUjF,GAClB,cAAcA,GAGN,SAAUA,GAClB,OAAOA,GAAyB,mBAAXvC,QAAyBuC,EAAIJ,cAAgBnC,QAAUuC,IAAQvC,OAAOa,UAAY,gBAAkB0B,IAI9GA,GAyFjB,IAgBIkF,EAtGiB,SAAwBC,GAC3C,GAAkB,iBAAPA,EACT,MAAO,GAIT,IAEIC,EAFAC,EAAS,GACTC,GAFJH,EAAKA,EAAGC,MAAM,KAAKrB,KAAK,MAETuB,MAAM,+EAGrB,GAAc,OAAVA,EACF,MAAO,GAGTF,EAAQE,EAAM,GAAGC,OAAO,GAAGH,MAAM,SAEjC,IAAK,IAAI1I,EAAI,EAAGA,EAAI0I,EAAMhG,OAAQ1C,GAAK,EACrC2I,EAAOG,mBAAmBJ,EAAM1I,KAAO8I,mBAAmBJ,EAAM1I,EAAI,IAAM,IAG5E,OAAO2I,GAkFLH,EA/EgB,SAAuBG,EAAQI,GACjD,GAAwB,WAApB5F,EAAQwF,GACV,MAAO,GAGT,IAAIK,EAAW,GACXhJ,EAAI,EACJiJ,EAAOvI,OAAOuI,KAAKN,GAEvB,GAAoB,IAAhBM,EAAKvG,OACP,MAAO,GAWT,IAPAuG,EAAKC,OAEAH,IACHC,GAAY,IAAMC,EAAK,GAAK,IAAMN,EAAOM,EAAK,IAC9CjJ,GAAK,GAGAA,EAAIiJ,EAAKvG,OAAQ1C,GAAK,EAC3BgJ,GAAY,IAAMC,EAAKjJ,GAAK,IAAM2I,EAAOM,EAAKjJ,IAGhD,OAAOgJ,GAsDLR,EAhBU,SAAiBW,GAC7B,YAA0B,IAAfA,EACF,EAGLA,EAAWP,MAAM,oBAvCvB,SAAuBO,GACrB,IAQIC,EARAC,EAAe,EACfC,EAAa,CACf,EAAK,EACL,EAAK,GACL,EAAK,KACL,EAAK,MACL,EAAK,QAKPF,GADAD,EAAaA,EAAWI,QAAQ,aAAc,QAAQC,QAC/Bd,MAAM,KAE7B,IAAK,IAAI1I,EAAI,EAAGA,EAAIoJ,EAAU1G,OAAQ1C,GAAK,EACzCqJ,GAAgBI,SAASL,EAAUpJ,GAAI,IAAMsJ,EAAWF,EAAUpJ,EAAI,IAAM,KAG9E,OAAOqJ,EAsBEK,CAAcP,GAGnBA,EAAWP,MAAM,cArBvB,SAAsBO,GAKpB,IAJA,IAAIE,EAAe,EACfC,EAAa,CAAC,EAAG,GAAQ,KAAa,MAAkB,QACxDF,EAAYD,EAAWT,MAAM,KAExB1I,EAAI,EAAGA,EAAIoJ,EAAU1G,OAAQ1C,IACpCqJ,GAAgBI,SAASL,EAAUpJ,GAAI,IAAMsJ,EAAWF,EAAU1G,OAAS1C,EAAI,GAGjF,OAAOqJ,EAaEM,CAAaR,GAGf,GASLS,EAAmBpB,EAEvB,SAASqB,IACP,IAAK,IAAIC,EAAK,EAAGC,EAAO,CAAC,gBAAiB,QAAS,OAAQ,UAAWD,EAAKC,EAAKrH,OAAQoH,IAAM,CAC5F,IAAIvI,EAAMwI,EAAKD,GACf3E,KAAK5D,GAAO4D,KAAK5D,GAAKC,KAAK2D,MAG7BA,KAAK6E,QAAU,GAGjB,IAAIC,EAAYJ,EAEhBA,EAAUjI,UAAUsI,cAAgB,SAAUC,GAC5C,IAAIvB,EAAQuB,EAAIvB,MAAM,6CACtB,OAAOA,EAAQA,EAAM,QAAKpD,GAG5BqE,EAAUjI,UAAUwI,MAAQ,SAAUD,GACpC,QAAmB,IAARA,EAAX,CAIA,IACIE,EADAC,EAAWnF,KAAK+E,cAAcC,GAE9BI,EAASpF,KAAK6E,QAAQM,GAE1B,GAAKA,GAAaC,GAAWA,EAAOH,MAWpC,OAPAC,EAASE,EAAOH,MAAMjK,KAAKoK,EAAQJ,EAAKP,EAAiBO,QAGvDE,EAsCJ,SAA+BA,GAK7B,OAJIA,EAAO1B,QAAgD,IAAtCjI,OAAOuI,KAAKoB,EAAO1B,QAAQjG,eACvC2H,EAAO1B,OAGT0B,EA3CIG,CAAsBH,IACxBC,SAAWC,EAAOD,UAGpBD,IAGTR,EAAUjI,UAAUJ,KAAO,SAAU+I,GAGnC,GAFApF,KAAK6E,QAAQO,EAAOD,UAAYC,EAE5BA,EAAOE,aACT,IAAK,IAAIzK,EAAI,EAAGA,EAAIuK,EAAOE,aAAa/H,OAAQ1C,GAAK,EACnDmF,KAAK6E,QAAQO,EAAOE,aAAazK,IAAMuK,GAK7CV,EAAUjI,UAAUN,OAAS,SAAUoJ,GACrC,GAAoB,WAAhBvH,EAAQuH,IAA8C,WAA1BvH,EAAQuH,EAAGC,WAA3C,CAIA,IAAIC,EAAKF,EAAGC,UACRhC,EAAS+B,EAAG/B,OACZ4B,EAASpF,KAAK6E,QAAQY,EAAGN,UAG7B,OAFA3B,EAAoB,aAAXA,EAAwBiC,EAAGjC,OAASA,GAAU,GAEnD4B,IACFG,EAAGG,OAASH,EAAGG,QAAUN,EAAOO,cAE5BP,EAAOQ,QAAQlJ,eAAe6I,EAAGG,SAC5BN,EAAOQ,QAAQL,EAAGG,QAAQvF,MAAMiF,EAAQ,CAACK,EAAIlK,OAAOsK,OAAO,GAAIrC,UAJ1E,IAmBF,IACIhF,EADS,IAAIsG,EAGbgB,EAAkBzC,EAEtB,SAAS0C,IACP/F,KAAKmF,SAAW,YAChBnF,KAAK2F,cAAgB,QACrB3F,KAAK4F,QAAU,CACbI,MAAOhG,KAAKiG,gBAEdjG,KAAKkG,WAAa,CAChBC,MAAO,SAIXJ,EAAUtJ,UAAU2J,gBAAkB,SAAU5C,GAE9C,cADOA,EAAO6C,IACP7C,GAGTuC,EAAUtJ,UAAUwI,MAAQ,SAAUD,EAAKxB,GACzC,IAEI0B,EAAS,CACXoB,UAAWtG,KAAKkG,WAAWC,MAC3BI,GAAI/C,EAAO6C,KAIb,GAFAnB,EAAO1B,OANKxD,KAMUoG,gBAAgB5C,GAEjC0B,EAAOqB,GAIZ,OAAOrB,GAGTa,EAAUtJ,UAAUwJ,eAAiB,SAAUR,EAAIjC,GACjD,GAAKiC,EAAGc,IAAMd,EAAGa,YAActG,KAAKkG,WAAWC,MAA/C,CAIA,IAAInB,EAAM,oCAGV,OAFAxB,EAAO6C,IAAMZ,EAAGc,GAChBvB,GAAOc,EAAgBtC,KAIzBhF,EAAKnC,KAAK,IAAI0J,GAEd,IAAIS,EAAkBnD,EAEtB,SAASoD,IACPzG,KAAKmF,SAAW,OAChBnF,KAAK2F,cAAgB,OACrB3F,KAAK4F,QAAU,CACb,KAAQ5F,KAAK0G,cACbV,MAAOhG,KAAKiG,gBAEdjG,KAAKkG,WAAa,CAChBC,MAAO,SAIXM,EAAKhK,UAAUkK,SAAW,SAAU3B,GAClC,IAAIvB,EAAQuB,EAAIvB,MAAM,kCACtB,OAAOA,EAAQA,EAAM,QAAKpD,GAG5BoG,EAAKhK,UAAUwI,MAAQ,SAAUD,EAAKxB,GACpC,IAAI0B,EAAS,CACXoB,UAAWtG,KAAKkG,WAAWC,MAC3B3C,OAAQA,EACR+C,GAAIvG,KAAK2G,SAAS3B,IAGpB,GAAKE,EAAOqB,GAIZ,OAAOrB,GAGTuB,EAAKhK,UAAUmK,UAAY,SAAUC,EAASpB,EAAIjC,GAChD,GAAKiC,EAAGc,IAAMd,EAAGa,YAActG,KAAKkG,WAAWC,MAA/C,CAIA,IAAInB,EAAM6B,EAAUpB,EAAGc,GAEvB,OADAvB,GAAOwB,EAAgBhD,KAIzBiD,EAAKhK,UAAUiK,cAAgB,SAAUjB,EAAIjC,GAC3C,OAAOxD,KAAK4G,UAAU,yBAA0BnB,EAAIjC,IAGtDiD,EAAKhK,UAAUwJ,eAAiB,SAAUR,EAAIjC,GAC5C,OAAOxD,KAAK4G,UAAU,oBAAqBnB,EAAIjC,IAGjDhF,EAAKnC,KAAK,IAAIoK,GAEd,IAAIK,EAAkBzD,EAClB0D,EAAY1D,EAEhB,SAAS2D,IACPhH,KAAKmF,SAAW,cAChBnF,KAAKsF,aAAe,CAAC,OACrBtF,KAAK2F,cAAgB,OACrB3F,KAAK4F,QAAU,CACb,MAAS5F,KAAKiH,eACd,KAAQjH,KAAK0G,cACbV,MAAOhG,KAAKiG,eACZiB,MAAOlH,KAAKmH,gBAEdnH,KAAKkG,WAAa,CAChBC,MAAO,SAIXa,EAAYvK,UAAU2J,gBAAkB,SAAU5C,GAChD,OAAOxD,KAAKoH,UAAU5D,IAGxBwD,EAAYvK,UAAU2K,UAAY,SAAU5D,GAK1C,OAJIA,EAAO6D,QACT7D,EAAO6D,MAAQN,EAAUvD,EAAO6D,QAG3B7D,GAGTwD,EAAYvK,UAAUkK,SAAW,SAAU3B,GACzC,IAAIvB,EAAQuB,EAAIvB,MAAM,mCACtB,OAAOA,EAAQA,EAAM,QAAKpD,GAG5B2G,EAAYvK,UAAUwI,MAAQ,SAAUD,EAAKxB,GAC3C,IAEI0B,EAAS,CACXoB,UAAWtG,KAAKkG,WAAWC,MAC3B3C,OAJUxD,KAIIoG,gBAAgB5C,GAC9B+C,GALUvG,KAKA2G,SAAS3B,IAErB,OAAOE,EAAOqB,GAAKrB,OAAS7E,GAG9B2G,EAAYvK,UAAUmK,UAAY,SAAUpI,EAAMiH,EAAIjC,GACpD,GAAKiC,EAAGc,IAAMd,EAAGa,YAActG,KAAKkG,WAAWC,MAI/C,OAAO3H,EAAOiH,EAAGc,GAAKO,EAAgBtD,IAGxCwD,EAAYvK,UAAUwK,eAAiB,SAAUxB,EAAIjC,GACnD,OAAOxD,KAAK4G,UAAU,kBAAmBnB,EAAIjC,IAG/CwD,EAAYvK,UAAUiK,cAAgB,SAAUjB,EAAIjC,GAClD,OAAOxD,KAAK4G,UAAU,iCAAkCnB,EAAIjC,IAG9DwD,EAAYvK,UAAUwJ,eAAiB,SAAUR,EAAIjC,GACnD,OAAOxD,KAAK4G,UAAU,2CAA4CnB,EAAIjC,IAGxEwD,EAAYvK,UAAU0K,eAAiB,SAAU1B,EAAIjC,GAEnD,cADOA,EAAO6D,MACPrH,KAAK4G,UAAU,+CAAgDnB,EAAIjC,IAG5EhF,EAAKnC,KAAK,IAAI2K,GAEd,IAAIM,EAAkBjE,EAClBkE,EAAYlE,EAEhB,SAASmE,IACPxH,KAAKmF,SAAW,SAChBnF,KAAK2F,cAAgB,OACrB3F,KAAK4F,QAAU,CACb,KAAQ5F,KAAK0G,cACbV,MAAOhG,KAAKiG,gBAEdjG,KAAKkG,WAAa,CAChBC,MAAO,QACPsB,OAAQ,SACRC,KAAM,QAIVF,EAAO/K,UAAUkL,WAAa,SAAUpB,GACtC,MAAO,CACLqB,IAAKrB,EAAG,GACRA,GAAIA,EAAG7C,OAAO,KAIlB8D,EAAO/K,UAAUoL,aAAe,SAAU3C,EAAQ1B,GAChD,IAAIsE,EAAUtE,EAAOsE,SAAWtE,EAAOuE,aAAe7C,EAAO4C,QAG7D,cAFOtE,EAAOuE,mBACPvE,EAAOsE,QACPA,GAGTN,EAAO/K,UAAUkK,SAAW,SAAU3B,EAAKE,EAAQ1B,GACjD,IAAIC,EA4BJ,OA3BAA,EAAQuB,EAAIvB,MAAM,0EAELA,EAAM,GAEjByB,EAAOqB,GAAK,IAAM9C,EAAM,GACfD,EAAOwE,OAEhB9C,EAAOqB,GAAK/C,EAAOwE,aACZxE,EAAOwE,OACLxE,EAAOyE,MAEhB/C,EAAOqB,GAAK/C,EAAOyE,KACnB/C,EAAOgD,QAAS,SACT1E,EAAOyE,MACLxE,GAASA,EAAM,IAAMA,EAAM,IAEpCyB,EAAOqB,GAAK9C,EAAM,GAClByB,EAAOgD,QAAS,GACPzE,GAASA,EAAM,IAAMA,EAAM,IAEpCyB,EAAO4C,QAAUrE,EAAM,GACvByB,EAAOqB,GAAK9C,EAAM,GAClByB,EAAOgD,QAAS,GACPzE,GAASA,EAAM,KACxByB,EAAO4C,QAAUrE,EAAM,IAGlByB,GAGTsC,EAAO/K,UAAU0L,eAAiB,SAAUjD,GAC1C,IAAIoB,EAaJ,OAXIpB,EAAOqB,GACLrB,EAAOgD,QACT5B,EAAYtG,KAAKkG,WAAWwB,YACrBxC,EAAOgD,QAEd5B,EAAYtG,KAAKkG,WAAWC,MAErBjB,EAAO4C,UAChBxB,EAAYtG,KAAKkG,WAAWuB,QAGvBnB,GAGTkB,EAAO/K,UAAU2J,gBAAkB,SAAU5C,GAM3C,OALIA,EAAOzH,IACTyH,EAAO6D,MAAQE,EAAU/D,EAAOzH,UACzByH,EAAOzH,GAGTyH,GAGTgE,EAAO/K,UAAUwI,MAAQ,SAAUD,EAAKxB,GACtC,IAEI0B,EAAS,GAKb,OAJAA,EAHYlF,KAGG2G,SAAS3B,EAAKE,EAAQ1B,IAC9BsE,QAJK9H,KAIW6H,aAAa3C,EAAQ1B,GAC5C0B,EAAOoB,UALKtG,KAKamI,eAAejD,GACxCA,EAAO1B,OANKxD,KAMUoG,gBAAgB5C,GAC/B0B,EAAO4C,SAAW5C,EAAOqB,GAAKrB,OAAS7E,GAGhDmH,EAAO/K,UAAUiK,cAAgB,SAAUjB,EAAIjC,GAC7C,IAAIwB,EAAM,GAEV,GAAIS,EAAGa,YAActG,KAAKkG,WAAWuB,QAAUhC,EAAGqC,QAChD9C,EAAM,qBAAuBS,EAAGqC,aAC3B,GAAIrC,EAAGa,YAActG,KAAKkG,WAAWC,OAASV,EAAGc,GAEtDvB,EAAM,4BADIhF,KAAK2H,WAAWlC,EAAGc,IACWA,GAEpC/C,EAAO6D,QACT7D,EAAOzH,EAAIyH,EAAO6D,MAAQ,WACnB7D,EAAO6D,WAEX,IAAI5B,EAAGa,YAActG,KAAKkG,WAAWwB,OAAQjC,EAAGc,GAOrD,OALEvB,EADES,EAAGqC,QACC,yBAA2BrC,EAAGqC,QAAU,SAAWrC,EAAGc,GAEtD,2BAA6Bd,EAAGc,GAO1C,OADAvB,GAAOsC,EAAgB9D,IAIzBgE,EAAO/K,UAAUwJ,eAAiB,SAAUR,EAAIjC,GAC9C,IAAIwB,EAAM,4BAEV,GAAIS,EAAGa,YAActG,KAAKkG,WAAWuB,QAAUhC,EAAGqC,QAChDtE,EAAOsE,QAAUrC,EAAGqC,aACf,GAAIrC,EAAGa,YAActG,KAAKkG,WAAWC,OAASV,EAAGc,GACtD/C,EAAOwE,MAAQvC,EAAGc,GAEd/C,EAAO6D,QACT7D,EAAOzH,EAAIyH,EAAO6D,MAAQ,WACnB7D,EAAO6D,WAEX,IAAI5B,EAAGa,YAActG,KAAKkG,WAAWwB,OAAQjC,EAAGc,GAIrD,OAHAvB,EAAM,gCACNxB,EAAOyE,KAAOxC,EAAGc,GAMnB,OADAvB,GAAOsC,EAAgB9D,IAIzBhF,EAAKnC,KAAK,IAAImL,GAEd,IAAIY,EAAkB/E,EAClBgF,EAAYhF,EAEhB,SAASiF,IACPtI,KAAKmF,SAAW,QAChBnF,KAAKsF,aAAe,CAAC,YACrBtF,KAAK2F,cAAgB,OACrB3F,KAAK4F,QAAU,CACb,KAAQ5F,KAAK0G,cACbV,MAAOhG,KAAKiG,gBAEdjG,KAAKkG,WAAa,CAChBC,MAAO,SAIXmC,EAAM7L,UAAUkK,SAAW,SAAU3B,GACnC,IAAIvB,EAAQuB,EAAIvB,MAAM,iFACtB,OAAOA,EAAQA,EAAM,QAAKpD,GAG5BiI,EAAM7L,UAAU2J,gBAAkB,SAAU5C,GAC1C,OAAOxD,KAAKoH,UAAU5D,IAGxB8E,EAAM7L,UAAU2K,UAAY,SAAU5D,GAMpC,OALIA,EAAOzH,IACTyH,EAAO6D,MAAQgB,EAAU7E,EAAOzH,UACzByH,EAAOzH,GAGTyH,GAGT8E,EAAM7L,UAAUwI,MAAQ,SAAUD,EAAKxB,GACrC,IAAI0B,EAAS,CACXoB,UAAWtG,KAAKkG,WAAWC,MAC3B3C,OAAQxD,KAAKoG,gBAAgB5C,GAC7B+C,GAAIvG,KAAK2G,SAAS3B,IAEpB,OAAOE,EAAOqB,GAAKrB,OAAS7E,GAG9BiI,EAAM7L,UAAUmK,UAAY,SAAUC,EAASpB,EAAIjC,GACjD,GAAKiC,EAAGc,IAAMd,EAAGa,YAActG,KAAKkG,WAAWC,MAA/C,CAIA,IAAInB,EAAM6B,EAAUpB,EAAGc,GACnBgC,EAAY/E,EAAO6D,MAQvB,cAPO7D,EAAO6D,MACdrC,GAAOoD,EAAgB5E,GAEnB+E,IACFvD,GAAO,MAAQuD,GAGVvD,IAGTsD,EAAM7L,UAAUiK,cAAgB,SAAUjB,EAAIjC,GAC5C,OAAOxD,KAAK4G,UAAU,qBAAsBnB,EAAIjC,IAGlD8E,EAAM7L,UAAUwJ,eAAiB,SAAUR,EAAIjC,GAC7C,OAAOxD,KAAK4G,UAAU,4BAA6BnB,EAAIjC,IAGzDhF,EAAKnC,KAAK,IAAIiM,GAEd,IAAIE,EAAkBnF,EAClBoF,EAAYpF,EAEhB,SAASqF,IACP1I,KAAKmF,SAAW,SAChBnF,KAAKsF,aAAe,GACpBtF,KAAK2F,cAAgB,OACrB3F,KAAK4F,QAAU,CACb,KAAQ5F,KAAK0G,cACbV,MAAOhG,KAAKiG,eACZ0C,WAAY3I,KAAK4I,qBAEnB5I,KAAKkG,WAAa,CAChBC,MAAO,QACP0C,WAAY,cAIhBH,EAAOjM,UAAUkK,SAAW,SAAU3B,GACpC,IAAIvB,EAAQuB,EAAIvB,MAAM,2CACtB,OAAOA,EAAQA,EAAM,QAAKpD,GAG5BqI,EAAOjM,UAAUoL,aAAe,SAAU7C,GACxC,IAAIvB,EAAQuB,EAAIvB,MAAM,0CAClBqE,EAAUrE,EAAQA,EAAM,QAAKpD,EAEjC,GAAgB,SAAZyH,GAAkC,YAAZA,EAI1B,OAAOA,GAGTY,EAAOjM,UAAU2J,gBAAkB,SAAU5C,EAAQ0B,GAUnD,OATI1B,EAAOsF,QACTtF,EAAO6D,MAAQoB,EAAUjF,EAAOsF,cACzBtF,EAAOsF,OAGZtF,EAAOuF,SAAW7D,EAAOqB,WACpB/C,EAAOuF,OAGTvF,GAGTkF,EAAOjM,UAAU0L,eAAiB,SAAUjD,GAC1C,OAAIA,EAAOqB,IAAMrB,EAAO4C,QACf9H,KAAKkG,WAAWC,MACdjB,EAAOqB,WACTrB,EAAO4C,QACP9H,KAAKkG,WAAW2C,iBAEvB,GAIJH,EAAOjM,UAAUwI,MAAQ,SAAUD,EAAKxB,GACtC,IAAI0B,EAAS,CACXqB,GAAIvG,KAAK2G,SAAS3B,GAClB8C,QAAS9H,KAAK6H,aAAa7C,IAK7B,GAHAE,EAAO1B,OAASxD,KAAKoG,gBAAgB5C,EAAQ0B,GAC7CA,EAAOoB,UAAYtG,KAAKmI,eAAejD,GAElCA,EAAOqB,GAIZ,OAAOrB,GAGTwD,EAAOjM,UAAUmK,UAAY,SAAUnB,EAAIjC,EAAQwB,GAOjD,OANIxB,EAAO6D,QACT7D,EAAOsF,MAAQtF,EAAO6D,aACf7D,EAAO6D,OAGhBrC,GAAOwD,EAAgBhF,IAIzBkF,EAAOjM,UAAUiK,cAAgB,SAAUjB,EAAIjC,GAC7C,GAAKiC,EAAGc,IAAMd,EAAGa,YAActG,KAAKkG,WAAWC,MAA/C,CAIA,IAAInB,EAAM,WAAaS,EAAGqC,QAAU,sBAAwBrC,EAAGc,GAC/D,OAAOvG,KAAK4G,UAAUnB,EAAIjC,EAAQwB,KAGpC0D,EAAOjM,UAAUwJ,eAAiB,SAAUR,EAAIjC,GAC9C,GAAKiC,EAAGc,KAAQd,EAAGa,YAActG,KAAKkG,WAAWC,OAASV,EAAGa,YAActG,KAAKkG,WAAW2C,YAA3F,CAIA,IAAI7D,EAAM,wCAA0CS,EAAGc,GACvD,OAAOvG,KAAK4G,UAAUnB,EAAIjC,EAAQwB,KAGpC0D,EAAOjM,UAAUmM,oBAAsB,SAAUnD,GAC/C,GAAKA,EAAGc,KAAQd,EAAGa,YAActG,KAAKkG,WAAWC,OAASV,EAAGa,YAActG,KAAKkG,WAAW2C,YAI3F,MAAO,wCAA0CpD,EAAGc,GAAK,UAG3D/H,EAAKnC,KAAK,IAAIqM,GAEd,IAAIM,EAAkB3F,EAEtB,SAAS4F,IACPjJ,KAAKmF,SAAW,QAChBnF,KAAK2F,cAAgB,OACrB3F,KAAK4F,QAAU,CACbI,MAAOhG,KAAKiG,eACZ,KAAQjG,KAAK0G,cACbwC,MAAOlJ,KAAKmJ,eACZ,OAAUnJ,KAAKoJ,iBAEjBpJ,KAAKkG,WAAa,CAChBC,MAAO,SAIX8C,EAAMxM,UAAUkK,SAAW,SAAU3B,GACnC,IAAIvB,EAAQuB,EAAIvB,MAAM,2DACtB,OAAOA,EAAQA,EAAM,QAAKpD,GAG5B4I,EAAMxM,UAAU2J,gBAAkB,SAAU5C,GAK1C,OAJIA,EAAO6F,iBACF7F,EAAO6F,SAGT7F,GAGTyF,EAAMxM,UAAUwI,MAAQ,SAAUD,EAAKxB,GACrC,IAEI0B,EAAS,CACXoB,UAAWtG,KAAKkG,WAAWC,MAC3BI,GAJUvG,KAIA2G,SAAS3B,GACnBxB,OALUxD,KAKIoG,gBAAgB5C,IAGhC,GAAK0B,EAAOqB,GAIZ,OAAOrB,GAGT+D,EAAMxM,UAAUmK,UAAY,SAAUC,EAASpB,EAAIjC,GACjD,GAAKiC,EAAGc,IAAMd,EAAGa,YAActG,KAAKkG,WAAWC,MAA/C,CAIA,IAAInB,EAAM6B,EAAUpB,EAAGc,GAEvB,OADAvB,GAAOgE,EAAgBxF,KAIzByF,EAAMxM,UAAUwJ,eAAiB,SAAUR,EAAIjC,GAC7C,OAAOxD,KAAK4G,UAAU,iCAAkCnB,EAAIjC,IAG9DyF,EAAMxM,UAAUiK,cAAgB,SAAUjB,EAAIjC,GAC5C,OAAOxD,KAAK4G,UAAU,gCAAiCnB,EAAIjC,IAG7DyF,EAAMxM,UAAU2M,gBAAkB,SAAU3D,EAAIjC,GAC9C,OAAOxD,KAAK4G,UAAU,+DAAgEnB,EAAIjC,IAG5FyF,EAAMxM,UAAU0M,eAAiB,SAAU1D,EAAIjC,GAC7C,GAAKiC,EAAGc,IAAMd,EAAGa,YAActG,KAAKkG,WAAWC,MAA/C,CAIA,IAAInB,EAAM,0CAA4CS,EAAGc,GAAK,SAE9D,OADAvB,GAAOgE,EAAgBxF,KAIzBhF,EAAKnC,KAAK,IAAI4M,GAEd,IAAIK,EAAkBjG,EAClBkG,EAAYlG,EAEhB,SAASmG,IACPxJ,KAAKmF,SAAW,UAChBnF,KAAKsF,aAAe,CAAC,QAAS,SAC9BtF,KAAK2F,cAAgB,OACrB3F,KAAK4F,QAAU,CACb,MAAS5F,KAAKiH,eACd,KAAQjH,KAAK0G,cACbV,MAAOhG,KAAKiG,eACZwD,WAAYzJ,KAAK0J,oBACjBC,UAAW3J,KAAK4J,oBAElB5J,KAAK6J,eAAiB,CACpB,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACLC,QAAS,UACTC,UAAW,YACXC,UAAW,YACXC,UAAW,YACXC,cAAe,iBAEjBlK,KAAKmK,oBAAsBnK,KAAK6J,eAAeE,UAC/C/J,KAAKkG,WAAa,CAChBC,MAAO,QACPiE,SAAU,WACVC,MAAO,QACPC,QAAS,WAIbd,EAAQ/M,UAAU8N,cAAgB,SAAUvF,GAC1C,IAAIvB,EAAQuB,EAAIvB,MAAM,uEACtB,OAAOA,EAAQA,EAAM,QAAKpD,GAG5BmJ,EAAQ/M,UAAU+N,gBAAkB,SAAUxF,GAE5C,IAAIvB,EAAQuB,EAAIvB,MAAM,uBAEtB,OAAIA,EACK,CACL8C,GAAI9C,EAAM,GACV6C,UAAWtG,KAAKkG,WAAWoE,UAM/B7G,EAAQuB,EAAIvB,MAAM,2BAGT,CACLrI,KAAMqI,EAAM,GACZ6C,UAAWtG,KAAKkG,WAAWoE,cAH/B,GAQFd,EAAQ/M,UAAU2J,gBAAkB,SAAU5C,EAAQ0B,GAcpD,OAbI1B,EAAO6D,OAAS7D,EAAOzH,KACzByH,EAAO6D,MAAQkC,EAAU/F,EAAO6D,OAAS7D,EAAOzH,UACzCyH,EAAOzH,GAGZyH,EAAOiH,IAAMvF,EAAOqB,WACf/C,EAAOiH,EAGZjH,EAAOkH,OAASxF,EAAOqB,WAClB/C,EAAOkH,KAGTlH,GAGTgG,EAAQ/M,UAAU0L,eAAiB,SAAUjD,GAM3C,GALIA,EAAO1B,OAAOkH,OAChBxF,EAAOwF,KAAOxF,EAAO1B,OAAOkH,YACrBxF,EAAO1B,OAAOkH,MAGnBxF,EAAOqB,KAAOrB,EAAO1B,OAAOmH,GAC9BzF,EAAOoB,UAAYtG,KAAKkG,WAAWC,WAC9B,GAAIjB,EAAOwF,YACTxF,EAAOqB,GACdrB,EAAOoB,UAAYtG,KAAKkG,WAAWkE,aAC9B,KAAIlF,EAAO1B,OAAOmH,GAIvB,cAHOzF,EAAO1B,OAAOmH,GACrBzF,EAAOoB,UAAYtG,KAAKkG,WAAWmE,MAKrC,OAAOnF,GAGTsE,EAAQ/M,UAAUwI,MAAQ,SAAUD,EAAKxB,GACvC,IAAIoH,EAAgB5K,KAAKwK,gBAAgBxF,GAEzC,GAAI4F,EACF,OAAOA,EAEP,IAAI1F,EAAS,CACX1B,OAAQA,EACR+C,GAAIvG,KAAKuK,cAAcvF,IAIzB,OAFAE,EAAO1B,OAASxD,KAAKoG,gBAAgB5C,EAAQ0B,GAC7CA,EAASlF,KAAKmI,eAAejD,IAKjCsE,EAAQ/M,UAAUwK,eAAiB,SAAUxB,EAAIjC,GAC/C,GAAKiC,EAAGc,IAAMd,EAAGa,YAActG,KAAKkG,WAAWC,MAA/C,CAIA,IAAInB,EAAM,oBAAsBS,EAAGc,GAMnC,OAJI/C,EAAO6D,QACTrC,GAAO,MAAQxB,EAAO6D,OAGjBrC,IAGTwE,EAAQ/M,UAAUiK,cAAgB,SAAUjB,EAAIjC,GAC9C,IAAIwB,EAAM,GACNuD,EAAY/E,EAAO6D,MAGvB,UAFO7D,EAAO6D,MAEV5B,EAAGa,YAActG,KAAKkG,WAAWoE,QACnC,GAAI7E,EAAGc,GACLvB,GAAO,mCAAqCS,EAAGc,OAC1C,KAAId,EAAGrK,KAGZ,OAFA4J,GAAO,6BAA+BS,EAAGrK,UAItC,GAAIqK,EAAGa,YAActG,KAAKkG,WAAWkE,UAAY3E,EAAGiF,KACzDlH,EAAOqH,QAAU,QACjB7F,GAAO,wCACF,GAAIS,EAAGa,YAActG,KAAKkG,WAAWC,OAASV,EAAGc,GACtD/C,EAAOiH,EAAIhF,EAAGc,GACdvB,GAAO,oCACF,IAAIS,EAAGa,YAActG,KAAKkG,WAAWmE,QAAS5E,EAAGc,GAItD,OAHA/C,EAAOmH,GAAKlF,EAAGc,GACfvB,GAAO,iCAeT,OAVIS,EAAGiF,OACLlH,EAAOkH,KAAOjF,EAAGiF,MAGnB1F,GAAOsE,EAAgB9F,GAEnBiC,EAAGa,YAActG,KAAKkG,WAAWkE,UAAY7B,IAC/CvD,GAAO,MAAQuD,GAGVvD,GAGTwE,EAAQ/M,UAAUwJ,eAAiB,SAAUR,EAAIjC,GAC/C,IAAIwB,EAAM,gCAEV,GAAIS,EAAGa,YAActG,KAAKkG,WAAWkE,UAAY3E,EAAGiF,KAClDlH,EAAOsH,SAAW,eACb,IAAIrF,EAAGa,YAActG,KAAKkG,WAAWC,QAASV,EAAGc,GAOtD,OANAvB,GAAO,IAAMS,EAAGc,GAEI,MAAhB/C,EAAOuH,OACTvH,EAAOwH,SAAWvF,EAAGc,IAWzB,OALId,EAAGiF,OACLlH,EAAOkH,KAAOjF,EAAGiF,MAGnB1F,GAAOsE,EAAgB9F,IAIzBgG,EAAQ/M,UAAU0K,eAAiB,SAAUN,EAASpB,EAAIjC,GACxD,GAAKiC,EAAGc,IAAMd,EAAGa,YAActG,KAAKkG,WAAWC,MAM/C,OAFUU,EAAUpB,EAAGc,GAAK,KACd/C,EAAOyH,cAAgBjL,KAAKmK,qBACnB,QAGzBX,EAAQ/M,UAAUiN,oBAAsB,SAAUjE,EAAIjC,GACpD,OAAOxD,KAAKmH,eAAe,0BAA2B1B,EAAIjC,IAG5DgG,EAAQ/M,UAAUmN,mBAAqB,SAAUnE,EAAIjC,GACnD,OAAOxD,KAAKmH,eAAe,8BAA+B1B,EAAIjC,IAGhEhF,EAAKnC,KAAK,IAAImN,GAEd,IAAI0B,EAAkB7H,EAClB8H,EAAY9H,EAEhB,SAAS+H,IACPpL,KAAKmF,SAAW,aAChBnF,KAAK2F,cAAgB,OACrB3F,KAAK4F,QAAU,CACb,KAAQ5F,KAAK0G,cACbV,MAAOhG,KAAKiG,gBAEdjG,KAAKkG,WAAa,CAChBmF,MAAO,QACPjB,SAAU,WACVkB,SAAU,WACVC,YAAa,eAIjBH,EAAW3O,UAAUkK,SAAW,SAAU3B,EAAKE,GAC7C,IAAIzB,EAAQuB,EAAIvB,MAAM,6DAEtB,OAAKA,GAILyB,EAAO4C,QAAUrE,EAAM,GAEN,cAAbA,EAAM,IAAsBA,EAAM,GAEpCyB,EAAOwF,KAAOjH,EAAM,GAGpByB,EAAOqB,GAAK9C,EAAM,GAGbyB,GAbEA,GAgBXkG,EAAW3O,UAAU2J,gBAAkB,SAAU5C,GAM/C,OALIA,EAAOzH,IACTyH,EAAO6D,MAAQ8D,EAAU3H,EAAOzH,UACzByH,EAAOzH,GAGTyH,GAGT4H,EAAW3O,UAAU0L,eAAiB,SAAUjD,GAqB9C,OApBIA,EAAOqB,KACc,WAAnBrB,EAAO4C,gBACF5C,EAAO4C,eACP5C,EAAO1B,OAAOwB,IACrBE,EAAOoB,UAAYtG,KAAKkG,WAAWoF,UAEnCpG,EAAOoB,UAAYtG,KAAKkG,WAAWmF,OAInCnG,EAAOwF,OACc,cAAnBxF,EAAO4C,gBACF5C,EAAO4C,eACP5C,EAAO1B,OAAOwB,IACrBE,EAAOoB,UAAYtG,KAAKkG,WAAWqF,aAEnCrG,EAAOoB,UAAYtG,KAAKkG,WAAWkE,UAIhClF,GAGTkG,EAAW3O,UAAUwI,MAAQ,SAAUD,EAAKxB,GAC1C,IAAI0B,EAAS,GAKb,IAJAA,EAASlF,KAAK2G,SAAS3B,EAAKE,IACrB1B,OAASxD,KAAKoG,gBAAgB5C,IACrC0B,EAASlF,KAAKmI,eAAejD,IAEjBqB,IAAOrB,EAAOwF,KAI1B,OAAOxF,GAGTkG,EAAW3O,UAAUiK,cAAgB,SAAUjB,EAAIjC,GACjD,IAAIwB,EAAM,GACNuD,EAAY/E,EAAO6D,MAGvB,UAFO7D,EAAO6D,MAEV5B,EAAGa,YAActG,KAAKkG,WAAWmF,OAAS5F,EAAGc,IAAMd,EAAGqC,QACxD9C,EAAM,0BAA4BS,EAAGqC,QAAU,IAAMrC,EAAGc,QACnD,GAAId,EAAGa,YAActG,KAAKkG,WAAWkE,UAAY3E,EAAGiF,MAAQjF,EAAGqC,QACpE9C,EAAM,0BAA4BS,EAAGqC,QAAU,SAAWrC,EAAGiF,UACxD,GAAIjF,EAAGa,YAActG,KAAKkG,WAAWoF,UAAY7F,EAAGc,GACzDvB,EAAM,qCAAuCS,EAAGc,OAC3C,IAAId,EAAGa,YAActG,KAAKkG,WAAWqF,cAAe9F,EAAGiF,KAG5D,OAFA1F,EAAM,wCAA0CS,EAAGiF,KAWrD,OANA1F,GAAOkG,EAAgB1H,GAEnB+E,IACFvD,GAAO,MAAQuD,GAGVvD,GAGToG,EAAW3O,UAAUwJ,eAAiB,SAAUR,EAAIjC,GAClD,IAAIwB,EAAM,mCAGV,UAFOxB,EAAO6D,MAEV5B,EAAGa,YAActG,KAAKkG,WAAWoF,UAAY7F,EAAGc,GAClD/C,EAAOwB,IAAM,uCAAyCS,EAAGc,OACpD,IAAId,EAAGa,YAActG,KAAKkG,WAAWqF,cAAe9F,EAAGiF,KAG5D,OAFAlH,EAAOwB,IAAM,0CAA4CS,EAAGiF,KAM9D,OADA1F,GAAOkG,EAAgB1H,IAIzBhF,EAAKnC,KAAK,IAAI+O,GAEd,IAAII,EAAkBnI,EAEtB,SAASoI,IACPzL,KAAKmF,SAAW,cAChBnF,KAAKsF,aAAe,GACpBtF,KAAK2F,cAAgB,OACrB3F,KAAK4F,QAAU,CACb,KAAQ5F,KAAK0G,cACbV,MAAOhG,KAAKiG,gBAEdjG,KAAKkG,WAAa,CAChBC,MAAO,QACPuF,MAAO,QACPC,SAAU,WACVrB,QAAS,UACTsB,WAAY,aACZC,MAAO,SAIXJ,EAAYhP,UAAUwI,MAAQ,SAAUD,EAAKxB,GAC3C,IAAI0B,EAAS,GACbA,EAAOwF,KAAO1K,KAAK8L,cAActI,GACjC0B,EAAO1B,OAASA,EAChB,IAAIC,EAAQuB,EAAIvB,MAAM,8EAEtB,GAAKA,EAML,OAFAyB,EAAOoB,UAAYtG,KAAKmI,eAAe1E,EAAM,IAC7CyB,EAAOqB,GAAK9C,EAAM,GACXyB,GAGTuG,EAAYhP,UAAUqP,cAAgB,SAAUtI,GAC9C,GAAIA,EAAO,eAAgB,CACzB,IAAIkH,EAAOlH,EAAO,eAElB,cADOA,EAAO,eACPkH,IAMXe,EAAYhP,UAAU0L,eAAiB,SAAU4D,GAC/C,OAAQA,GACN,IAAK,QACH,OAAO/L,KAAKkG,WAAWwF,MAEzB,IAAK,QACH,OAAO1L,KAAKkG,WAAWC,MAEzB,IAAK,WACH,OAAOnG,KAAKkG,WAAWyF,SAEzB,IAAK,eACH,OAAO3L,KAAKkG,WAAWoE,QAEzB,IAAK,aACH,OAAOtK,KAAKkG,WAAW0F,WAEzB,IAAK,QACH,OAAO5L,KAAKkG,WAAW2F,QAI7BJ,EAAYhP,UAAUiK,cAAgB,SAAUjB,EAAIjC,GAClD,GAAKiC,EAAGc,GAAR,CAIA,IAAIvB,EAAM,+BAcV,OAZIS,EAAGiF,OACLlH,EAAO,eAAiBiC,EAAGiF,MAGzBjF,EAAGa,YAActG,KAAKkG,WAAWoE,QACnCtF,GAAO,gBAEPA,GAAOS,EAAGa,UAAY,IAGxBtB,GAAOS,EAAGc,GACVvB,GAAOwG,EAAgBhI,KAIzBiI,EAAYhP,UAAUwJ,eAAiB,SAAUR,EAAIjC,GACnD,GAAKiC,EAAGc,GAAR,CAIA,IAAIvB,EAAM,qCAEV,GAAIS,EAAGa,YAActG,KAAKkG,WAAWC,OAASV,EAAGa,YAActG,KAAKkG,WAAWwF,MAO/E,OANE1G,GAAOS,EAAGa,UAAY,IAAMb,EAAGc,GAKjCvB,GAAOwG,EAAgBhI,KAIzBhF,EAAKnC,KAAK,IAAIoP,GAEd,IAAIO,EAAkB3I,EAEtB,SAAS4I,IACPjM,KAAKmF,SAAW,SAChBnF,KAAK2F,cAAgB,OACrB3F,KAAK4F,QAAU,CACb,KAAQ5F,KAAK0G,eAEf1G,KAAKkG,WAAa,CAChBC,MAAO,SAIX8F,EAAOxP,UAAUwI,MAAQ,SAAUD,EAAKxB,GACtC,IAAI0B,EAAS,CACX1B,OAAQA,EACR8C,UAAWtG,KAAKkG,WAAWC,OAEzB1C,EAAQuB,EAAIvB,MAAM,6BAEtB,GAAKA,EAML,OAFAyB,EAAO4C,QAAUrE,EAAM,GACvByB,EAAOqB,GAAK9C,EAAM,GACXyB,GAGT+G,EAAOxP,UAAUiK,cAAgB,SAAUjB,EAAIjC,GAC7C,IAAIwB,EAAM,GAEV,GAAIS,EAAGa,YAActG,KAAKkG,WAAWC,OAASV,EAAGc,IAAMd,EAAGqC,QAO1D,OANE9C,GAAO,2BAA2BkH,OAAOzG,EAAGqC,QAAS,WAAWoE,OAAOzG,EAAGc,IAK5EvB,GAAOgH,EAAgBxI,IAIzBhF,EAAKnC,KAAK,IAAI4P,GAEd,IAAIE,EAAkB9I,EAEtB,SAAS+I,IACPpM,KAAKmF,SAAW,MAChBnF,KAAK4F,QAAU,CACb,KAAQ5F,KAAK0G,cACbV,MAAOhG,KAAKiG,gBAEdjG,KAAKkG,WAAa,CAChBC,MAAO,QACPiE,SAAU,YAoFd,OAhFAgC,EAAI3P,UAAUkK,SAAW,SAAU3B,EAAKE,GACtC,IAAIzB,EAAQuB,EAAIvB,MAAM,wCAClBqE,EAAUrE,EAAQA,EAAM,QAAKpD,EAEjC,OAAKyH,GAIL5C,EAAO4C,QAAUA,EAAQvE,MAAM,KAAK,GACpC2B,EAAOqB,GAAK9C,EAAM,GAEK,cAAnByB,EAAO4C,UACT5C,EAAOwF,KAAOjH,EAAM,IAGfyB,GAVEA,GAaXkH,EAAI3P,UAAU0L,eAAiB,SAAUjD,GAWvC,OAVIA,EAAOqB,IAAyB,cAAnBrB,EAAO4C,iBACf5C,EAAO4C,QACd5C,EAAOoB,UAAYtG,KAAKkG,WAAWkE,UAGjClF,EAAOqB,IAAyB,UAAnBrB,EAAO4C,iBACf5C,EAAO4C,QACd5C,EAAOoB,UAAYtG,KAAKkG,WAAWC,OAG9BjB,GAGTkH,EAAI3P,UAAUwI,MAAQ,SAAUD,EAAKxB,GACnC,IAAI0B,EAAS,CACX1B,OAAQA,GAKV,GAHA0B,EAASlF,KAAK2G,SAAS3B,EAAKE,IAC5BA,EAASlF,KAAKmI,eAAejD,IAEjBqB,GAIZ,OAAOrB,GAGTkH,EAAI3P,UAAUiK,cAAgB,SAAUjB,EAAIjC,GAC1C,IAAIwB,EAAM,GAEV,GAAIS,EAAGa,YAActG,KAAKkG,WAAWC,OAASV,EAAGc,GAC/CvB,GAAO,yBAA2BS,EAAGc,OAChC,IAAId,EAAGa,YAActG,KAAKkG,WAAWkE,WAAY3E,EAAGc,GAGzD,OAFAvB,GAAO,6BAA+BS,EAAGiF,KAAO,IAAMjF,EAAGc,GAM3D,OADAvB,GAAOmH,EAAgB3I,IAIzB4I,EAAI3P,UAAUwJ,eAAiB,SAAUR,EAAIjC,GAC3C,IAAIwB,EAAM,yBAEV,GAAIS,EAAGa,YAActG,KAAKkG,WAAWkE,UAAY3E,EAAGc,GAClDvB,GAAO,aAAeS,EAAGiF,KAAO,IAAMjF,EAAGc,OACpC,IAAId,EAAGa,YAActG,KAAKkG,WAAWC,QAASV,EAAGc,GAGtD,OAFAvB,GAAO,SAAWS,EAAGc,GAMvB,OADAvB,GAAOmH,EAAgB3I,IAIzBhF,EAAKnC,KAAK,IAAI+P,GAEJ5N,EAr2CsEpE,I,cCGlFE,EAAOD,QAJP,SAAyB0E,GACvB,GAAImC,MAAMC,QAAQpC,GAAM,OAAOA,GAIjCzE,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,cCKxE3B,EAAOD,QAVP,SAA2B0E,EAAKsN,IACnB,MAAPA,GAAeA,EAAMtN,EAAIxB,UAAQ8O,EAAMtN,EAAIxB,QAE/C,IAAK,IAAI1C,EAAI,EAAGyR,EAAO,IAAIpL,MAAMmL,GAAMxR,EAAIwR,EAAKxR,IAC9CyR,EAAKzR,GAAKkE,EAAIlE,GAGhB,OAAOyR,GAIThS,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,cCPxE3B,EAAOD,QAJP,WACE,MAAM,IAAI8C,UAAU,8IAItB7C,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,cCDxE3B,EAAOD,QAJP,SAA0BkS,GACxB,GAAsB,oBAAX3Q,QAAmD,MAAzB2Q,EAAK3Q,OAAOwH,WAA2C,MAAtBmJ,EAAK,cAAuB,OAAOrL,MAAMuB,KAAK8J,IAItHjS,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,qGCAxE3B,EAAOD,QAAU,SAAU0E,GACzB,QAAKA,MACAA,EAAI4B,OACA,IAAI6L,OAAO,0BAA4BzN,EAAI4B,MAAQ,MAClD+B,KAAK+J,OAAO1N,EAAIhB,iB,6BCP5BzD,EAAOD,QAAU,SAAiBiC,EAAGoQ,GACnC,IAAK,IAAIzR,EAAI,EAAG0R,EAAI,EAAG9R,EAAI,GAAI8R,EAAIrQ,EAAEiB,OAAQoP,IAC3C1R,GAAKiG,MAAMC,QAAQ7E,EAAEqQ,IAAOrQ,EAAEqQ,GAAG,GAAKrQ,EAAEqQ,GAAG,GAAMrQ,EAAEqQ,GACnD9R,EAAE8R,GAAKzL,MAAMC,QAAQ7E,EAAEqQ,IAAMrQ,EAAEqQ,GAAG,GAAK,EAEzC,IAAK,IAAIC,EAAM,EAAGA,EAAM3R,EAAG2R,IAEzB,IADAF,EAAS7R,EAAE2G,SACNmL,EAAIrQ,EAAEiB,OAAS,EAAGoP,GAAK,EAAGA,IAAK,CAClC,GAAI9R,EAAE8R,MAAQzL,MAAMC,QAAQ7E,EAAEqQ,IAAMrQ,EAAEqQ,GAAG,GAAKrQ,EAAEqQ,IAAM,EAE/C,CACL9R,EAAE8R,KACF,MAHA9R,EAAE8R,GAAKzL,MAAMC,QAAQ7E,EAAEqQ,IAAMrQ,EAAEqQ,GAAG,GAAK,K,gCCV/C,IAOIE,EACAC,EARAC,EAAUzS,EAAOD,QAAU,GAU/B,SAAS2S,IACL,MAAM,IAAIjM,MAAM,mCAEpB,SAASkM,IACL,MAAM,IAAIlM,MAAM,qCAsBpB,SAASmM,EAAWC,GAChB,GAAIN,IAAqBO,WAErB,OAAOA,WAAWD,EAAK,GAG3B,IAAKN,IAAqBG,IAAqBH,IAAqBO,WAEhE,OADAP,EAAmBO,WACZA,WAAWD,EAAK,GAE3B,IAEI,OAAON,EAAiBM,EAAK,GAC/B,MAAME,GACJ,IAEI,OAAOR,EAAiB7R,KAAK,KAAMmS,EAAK,GAC1C,MAAME,GAEJ,OAAOR,EAAiB7R,KAAKgF,KAAMmN,EAAK,MAvCnD,WACG,IAEQN,EADsB,mBAAfO,WACYA,WAEAJ,EAEzB,MAAOK,GACLR,EAAmBG,EAEvB,IAEQF,EADwB,mBAAjBQ,aACcA,aAEAL,EAE3B,MAAOI,GACLP,EAAqBG,GAjB7B,GAwEA,IAEIM,EAFAC,EAAQ,GACRC,GAAW,EAEXC,GAAc,EAElB,SAASC,IACAF,GAAaF,IAGlBE,GAAW,EACPF,EAAahQ,OACbiQ,EAAQD,EAAarB,OAAOsB,GAE5BE,GAAc,EAEdF,EAAMjQ,QACNqQ,KAIR,SAASA,IACL,IAAIH,EAAJ,CAGA,IAAII,EAAUX,EAAWS,GACzBF,GAAW,EAGX,IADA,IAAIpB,EAAMmB,EAAMjQ,OACV8O,GAAK,CAGP,IAFAkB,EAAeC,EACfA,EAAQ,KACCE,EAAarB,GACdkB,GACAA,EAAaG,GAAYI,MAGjCJ,GAAc,EACdrB,EAAMmB,EAAMjQ,OAEhBgQ,EAAe,KACfE,GAAW,EAnEf,SAAyBM,GACrB,GAAIjB,IAAuBQ,aAEvB,OAAOA,aAAaS,GAGxB,IAAKjB,IAAuBG,IAAwBH,IAAuBQ,aAEvE,OADAR,EAAqBQ,aACdA,aAAaS,GAExB,IAEWjB,EAAmBiB,GAC5B,MAAOV,GACL,IAEI,OAAOP,EAAmB9R,KAAK,KAAM+S,GACvC,MAAOV,GAGL,OAAOP,EAAmB9R,KAAKgF,KAAM+N,KAgD7CC,CAAgBH,IAiBpB,SAASI,EAAKd,EAAKe,GACflO,KAAKmN,IAAMA,EACXnN,KAAKkO,MAAQA,EAYjB,SAASC,KA5BTpB,EAAQqB,SAAW,SAAUjB,GACzB,IAAIlN,EAAO,IAAIiB,MAAMhB,UAAU3C,OAAS,GACxC,GAAI2C,UAAU3C,OAAS,EACnB,IAAK,IAAI1C,EAAI,EAAGA,EAAIqF,UAAU3C,OAAQ1C,IAClCoF,EAAKpF,EAAI,GAAKqF,UAAUrF,GAGhC2S,EAAMxL,KAAK,IAAIiM,EAAKd,EAAKlN,IACJ,IAAjBuN,EAAMjQ,QAAiBkQ,GACvBP,EAAWU,IASnBK,EAAKxR,UAAUqR,IAAM,WACjB9N,KAAKmN,IAAIhN,MAAM,KAAMH,KAAKkO,QAE9BnB,EAAQsB,MAAQ,UAChBtB,EAAQuB,SAAU,EAClBvB,EAAQwB,IAAM,GACdxB,EAAQyB,KAAO,GACfzB,EAAQ0B,QAAU,GAClB1B,EAAQ2B,SAAW,GAInB3B,EAAQ4B,GAAKR,EACbpB,EAAQ6B,YAAcT,EACtBpB,EAAQ8B,KAAOV,EACfpB,EAAQ+B,IAAMX,EACdpB,EAAQgC,eAAiBZ,EACzBpB,EAAQiC,mBAAqBb,EAC7BpB,EAAQkC,KAAOd,EACfpB,EAAQmC,gBAAkBf,EAC1BpB,EAAQoC,oBAAsBhB,EAE9BpB,EAAQqC,UAAY,SAAUhU,GAAQ,MAAO,IAE7C2R,EAAQsC,QAAU,SAAUjU,GACxB,MAAM,IAAI2F,MAAM,qCAGpBgM,EAAQuC,IAAM,WAAc,MAAO,KACnCvC,EAAQwC,MAAQ,SAAUC,GACtB,MAAM,IAAIzO,MAAM,mCAEpBgM,EAAQ0C,MAAQ,WAAa,OAAO,I,iBCvLpC,YA4BA,SAASC,EAAevN,EAAOwN,GAG7B,IADA,IAAIC,EAAK,EACA/U,EAAIsH,EAAM5E,OAAS,EAAG1C,GAAK,EAAGA,IAAK,CAC1C,IAAIgV,EAAO1N,EAAMtH,GACJ,MAATgV,EACF1N,EAAM2N,OAAOjV,EAAG,GACE,OAATgV,GACT1N,EAAM2N,OAAOjV,EAAG,GAChB+U,KACSA,IACTzN,EAAM2N,OAAOjV,EAAG,GAChB+U,KAKJ,GAAID,EACF,KAAOC,IAAMA,EACXzN,EAAM4N,QAAQ,MAIlB,OAAO5N,EA0OT,SAASC,EAAQ4N,EAAIC,GACjB,GAAID,EAAG5N,OAAQ,OAAO4N,EAAG5N,OAAO6N,GAEhC,IADA,IAAIC,EAAM,GACDrV,EAAI,EAAGA,EAAImV,EAAGzS,OAAQ1C,IACvBoV,EAAED,EAAGnV,GAAIA,EAAGmV,IAAKE,EAAIlO,KAAKgO,EAAGnV,IAErC,OAAOqV,EA3OX7V,EAAQgF,QAAU,WAIhB,IAHA,IAAI8Q,EAAe,GACfC,GAAmB,EAEdvV,EAAIqF,UAAU3C,OAAS,EAAG1C,IAAM,IAAMuV,EAAkBvV,IAAK,CACpE,IAAIwV,EAAQxV,GAAK,EAAKqF,UAAUrF,GAAKkS,EAAQuC,MAG7C,GAAoB,iBAATe,EACT,MAAM,IAAIlT,UAAU,6CACVkT,IAIZF,EAAeE,EAAO,IAAMF,EAC5BC,EAAsC,MAAnBC,EAAKC,OAAO,IAWjC,OAASF,EAAmB,IAAM,KAJlCD,EAAeT,EAAetN,EAAO+N,EAAa5M,MAAM,MAAM,SAAS5G,GACrE,QAASA,MACNyT,GAAkBlO,KAAK,OAE6B,KAK3D7H,EAAQkW,UAAY,SAASF,GAC3B,IAAIG,EAAanW,EAAQmW,WAAWH,GAChCI,EAAqC,MAArB/M,EAAO2M,GAAO,GAclC,OAXAA,EAAOX,EAAetN,EAAOiO,EAAK9M,MAAM,MAAM,SAAS5G,GACrD,QAASA,MACN6T,GAAYtO,KAAK,OAERsO,IACZH,EAAO,KAELA,GAAQI,IACVJ,GAAQ,MAGFG,EAAa,IAAM,IAAMH,GAInChW,EAAQmW,WAAa,SAASH,GAC5B,MAA0B,MAAnBA,EAAKC,OAAO,IAIrBjW,EAAQ6H,KAAO,WACb,IAAIwO,EAAQxP,MAAMzE,UAAU+E,MAAMxG,KAAKkF,UAAW,GAClD,OAAO7F,EAAQkW,UAAUnO,EAAOsO,GAAO,SAAS/T,EAAGgU,GACjD,GAAiB,iBAANhU,EACT,MAAM,IAAIQ,UAAU,0CAEtB,OAAOR,KACNuF,KAAK,OAMV7H,EAAQuW,SAAW,SAASnO,EAAMoO,GAIhC,SAASxM,EAAKtF,GAEZ,IADA,IAAIsI,EAAQ,EACLA,EAAQtI,EAAIxB,QACE,KAAfwB,EAAIsI,GADiBA,KAK3B,IADA,IAAIyJ,EAAM/R,EAAIxB,OAAS,EAChBuT,GAAO,GACK,KAAb/R,EAAI+R,GADOA,KAIjB,OAAIzJ,EAAQyJ,EAAY,GACjB/R,EAAIyC,MAAM6F,EAAOyJ,EAAMzJ,EAAQ,GAfxC5E,EAAOpI,EAAQgF,QAAQoD,GAAMiB,OAAO,GACpCmN,EAAKxW,EAAQgF,QAAQwR,GAAInN,OAAO,GAsBhC,IALA,IAAIqN,EAAY1M,EAAK5B,EAAKc,MAAM,MAC5ByN,EAAU3M,EAAKwM,EAAGtN,MAAM,MAExBhG,EAAS0T,KAAKC,IAAIH,EAAUxT,OAAQyT,EAAQzT,QAC5C4T,EAAkB5T,EACb1C,EAAI,EAAGA,EAAI0C,EAAQ1C,IAC1B,GAAIkW,EAAUlW,KAAOmW,EAAQnW,GAAI,CAC/BsW,EAAkBtW,EAClB,MAIJ,IAAIuW,EAAc,GAClB,IAASvW,EAAIsW,EAAiBtW,EAAIkW,EAAUxT,OAAQ1C,IAClDuW,EAAYpP,KAAK,MAKnB,OAFAoP,EAAcA,EAAYlF,OAAO8E,EAAQxP,MAAM2P,KAE5BjP,KAAK,MAG1B7H,EAAQgX,IAAM,IACdhX,EAAQiX,UAAY,IAEpBjX,EAAQkX,QAAU,SAAUlB,GAE1B,GADoB,iBAATA,IAAmBA,GAAc,IACxB,IAAhBA,EAAK9S,OAAc,MAAO,IAK9B,IAJA,IAAIyF,EAAOqN,EAAKmB,WAAW,GACvBC,EAAmB,KAATzO,EACV8N,GAAO,EACPY,GAAe,EACV7W,EAAIwV,EAAK9S,OAAS,EAAG1C,GAAK,IAAKA,EAEtC,GAAa,MADbmI,EAAOqN,EAAKmB,WAAW3W,KAEnB,IAAK6W,EAAc,CACjBZ,EAAMjW,EACN,YAIJ6W,GAAe,EAInB,OAAa,IAATZ,EAAmBW,EAAU,IAAM,IACnCA,GAAmB,IAARX,EAGN,IAEFT,EAAK7O,MAAM,EAAGsP,IAiCvBzW,EAAQsX,SAAW,SAAUtB,EAAMuB,GACjC,IAAI3B,EA/BN,SAAkBI,GACI,iBAATA,IAAmBA,GAAc,IAE5C,IAGIxV,EAHAwM,EAAQ,EACRyJ,GAAO,EACPY,GAAe,EAGnB,IAAK7W,EAAIwV,EAAK9S,OAAS,EAAG1C,GAAK,IAAKA,EAClC,GAA2B,KAAvBwV,EAAKmB,WAAW3W,IAGhB,IAAK6W,EAAc,CACjBrK,EAAQxM,EAAI,EACZ,YAEgB,IAATiW,IAGXY,GAAe,EACfZ,EAAMjW,EAAI,GAId,OAAa,IAATiW,EAAmB,GAChBT,EAAK7O,MAAM6F,EAAOyJ,GAMjBa,CAAStB,GAIjB,OAHIuB,GAAO3B,EAAEvM,QAAQ,EAAIkO,EAAIrU,UAAYqU,IACvC3B,EAAIA,EAAEvM,OAAO,EAAGuM,EAAE1S,OAASqU,EAAIrU,SAE1B0S,GAGT5V,EAAQwX,QAAU,SAAUxB,GACN,iBAATA,IAAmBA,GAAc,IAQ5C,IAPA,IAAIyB,GAAY,EACZC,EAAY,EACZjB,GAAO,EACPY,GAAe,EAGfM,EAAc,EACTnX,EAAIwV,EAAK9S,OAAS,EAAG1C,GAAK,IAAKA,EAAG,CACzC,IAAImI,EAAOqN,EAAKmB,WAAW3W,GAC3B,GAAa,KAATmI,GASS,IAAT8N,IAGFY,GAAe,EACfZ,EAAMjW,EAAI,GAEC,KAATmI,GAEkB,IAAd8O,EACFA,EAAWjX,EACY,IAAhBmX,IACPA,EAAc,IACK,IAAdF,IAGTE,GAAe,QArBb,IAAKN,EAAc,CACjBK,EAAYlX,EAAI,EAChB,OAuBR,OAAkB,IAAdiX,IAA4B,IAAThB,GAEH,IAAhBkB,GAEgB,IAAhBA,GAAqBF,IAAahB,EAAM,GAAKgB,IAAaC,EAAY,EACjE,GAEF1B,EAAK7O,MAAMsQ,EAAUhB,IAa9B,IAAIpN,EAA6B,MAApB,KAAKA,QAAQ,GACpB,SAAUP,EAAKkE,EAAOgF,GAAO,OAAOlJ,EAAIO,OAAO2D,EAAOgF,IACtD,SAAUlJ,EAAKkE,EAAOgF,GAEpB,OADIhF,EAAQ,IAAGA,EAAQlE,EAAI5F,OAAS8J,GAC7BlE,EAAIO,OAAO2D,EAAOgF,M,kCC3SjC,UAEQ,EAAO,CAAC,QAAkB,0BAAP,EAUlB,SAAU/R,GACf,aAEA,SAAS2X,EAAgBhV,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU;;;;;;;;;;OA8D5B,SAAS+U,EAASC,EAAQC,EAAaC,EAAc1S,EAAO2S,GACxD,IAEIC,EACJC,EACAC,EACAC,EAAUC,EACVC,EAAYC,EACZC,EAAcC,EAAiBC,EAC/BC,EACAC,EAAMrY,EAKN,GAAsB,IAAlBsX,EAAO5U,OAGP,OAFA2V,EAAOC,EAAMC,UAAUD,EAAME,SAASlB,EAAO,GAAIA,EAAO,KAAO,EAExD,CADPI,EAAW,CAACJ,EAAO,GAAIgB,EAAMG,UAAUnB,EAAO,GAAIgB,EAAMI,SAASnB,EAAac,IAAQC,EAAMG,UAAUnB,EAAO,GAAIgB,EAAMI,SAASlB,EAAca,IAAQf,EAAO,KAKjKK,EAoRJ,SAAiCL,GAC7B,IACIqB,EACAC,EACAC,EAHAlB,EAAI,GAgBR,OAXAL,EAAOwB,SAAQ,SAAUhX,EAAG9B,GACxB2Y,EAAQ3Y,EAAI4Y,EAAQN,EAAMC,UAAUD,EAAME,SAAS1W,EAAG+W,IAAU,EAChElB,EAAExQ,KAAKwR,GAEPC,EAAQD,EACRE,EAAQ/W,KAEZ6V,EAAIA,EAAEoB,KAAI,SAAUlT,GAChB,OAAOA,EAAI+S,KAlSXI,CAAwB1B,GAE5B,IAAI2B,EAAqBC,EAAkB5B,EAAQK,EAAGA,EAAGJ,EAAaC,EAAcC,GAOpF,GALAC,EAAWuB,EAAmB,GAC9BpB,EAAWoB,EAAmB,GAC9BlB,EAAakB,EAAmB,GAGf,IAAbpB,GAAkBA,EAAW/S,EAC7B,MAAO,CAAC4S,GAGZ,GAAIG,EAAW/S,EAAQA,EAMnB,IAJA8S,EAASD,EACTG,EAAUD,EACVG,EAAYD,EAEP/X,EAAI,EAAGA,EAxCI,GAwCeA,IAAK,CAIhC,IAAImZ,EAAsBD,EAAkB5B,EAAQK,EAFpDC,EAASwB,EAAe1B,EAAUJ,EAAQM,GAEqBL,EAAaC,EAAcC,GAO1F,GALAC,EAAWyB,EAAoB,GAC/BtB,EAAWsB,EAAoB,GAC/BpB,EAAaoB,EAAoB,GAG7BtB,EAAW/S,EACX,MAAO,CAAC4S,GAIP,GAAIK,IAAeC,EAAW,CAC3B,IAAIqB,EAAYxB,EAAWC,EAC3B,GAAIuB,EAAY,OAASA,EAAY,OACjC,MAIZvB,EAAUD,EACVG,EAAYD,EAcpB,GATAK,EAAU,IAKVH,EAAeK,EAAME,SAASlB,EAAOS,EAAa,GAAIT,EAAOS,EAAa,KAIzDuB,OAAM,SAAUC,GAC7B,OAAe,IAARA,KACP,CAGA,IAAIC,EAAO,GADXvB,EAAeK,EAAME,SAASlB,EAAOS,EAAa,GAAIT,EAAOS,KACnC,GAAIE,EAAa,IAC3CA,EAAa,GAAKuB,EAAK,GACvBvB,EAAa,GAAKuB,EAAK,GAkB3B,OAhBAtB,EAAkBI,EAAM5C,UAAUuC,GAElCE,EAAoBG,EAAMI,SAASR,GAAkB,GAarDE,GADAA,EAAUA,EAAQ/G,OAAOgG,EAASC,EAAO3Q,MAAM,EAAGoR,EAAa,GAAIR,EAAaW,EAAiBpT,EAAO2S,KACtFpG,OAAOgG,EAASC,EAAO3Q,MAAMoR,GAAaI,EAAmBX,EAAc1S,EAAO2S,IAIxG,SAASyB,EAAkB5B,EAAQmC,EAAYC,EAAanC,EAAaC,EAAcC,GACnF,IAAIC,EAAUG,EAAUE,EASpB4B,EAiNR,SAAyBrC,EAAQsC,EAAKC,GAClC,IAAIxB,EACJyB,EACA/B,EACAnI,EACA5P,EAAG+Z,EAAOC,EAAO9Y,EAEjB4Y,EAAU,EACV/B,EAAa3B,KAAK6D,MAAM3C,EAAO5U,OAAS,GAExC,IAAIwX,EAAYC,EAAwBP,EAAK,IAE7C,IAAK5Z,EAAI,EAAG+Z,EAAQzC,EAAO5U,OAAQ1C,EAAI+Z,EAAO/Z,IAC1Cga,EAAQ1C,EAAOtX,GAEfkB,EAAIkZ,EAAOR,EAAKC,EAAW7Z,GAAIka,EAAW,IAE1CtK,EAAI0I,EAAME,SAAS6B,EAAOC,EAAEV,EAAK1Y,GAAI8Y,IACrC3B,EAAOzI,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAEnBkK,IACPA,EAAUzB,EACVN,EAAa/X,GAIrB,MAAO,CAAC8Z,EAAS/B,GA3OMwC,CAAgBjD,EAPvCI,EAmCJ,SAAwBJ,EAAQuC,EAAYtC,EAAaC,GACrD,IAAIE,EAEJ8C,EACIC,EAEJC,EACIC,EAEJC,EACIC,EACAC,EAEJC,EACIC,EAGJC,EACIC,EACAlb,EACAwR,EACA2J,EACAxD,EACAyD,EACAC,EAAa/D,EAAO,GACpBgE,EAAYhE,EAAOA,EAAO5U,OAAS,GAOvC,IALAgV,EAAW,CAAC2D,EAAY,KAAM,KAAMC,GAIpCd,EAAIlC,EAAMiD,YAAY1B,EAAWnX,QAC5B1C,EAAI,EAAGwR,EAAMqI,EAAWnX,OAAQ1C,EAAIwR,EAAKxR,IAC1C2X,EAAIkC,EAAW7Z,GACfob,EAAK,EAAIzD,GACT8C,EAAID,EAAExa,IAEJ,GAAKsY,EAAMI,SAASnB,EAAa,EAAII,GAAKyD,EAAKA,IACjDX,EAAE,GAAKnC,EAAMI,SAASlB,EAAc,EAAI4D,GAAMzD,EAAIA,IAMtD,IAFA+C,EAAI,CAAC,CAAC,EAAG,GAAI,CAAC,EAAG,IACjBC,EAAI,CAAC,EAAG,GACH3a,EAAI,EAAGwR,EAAM8F,EAAO5U,OAAQ1C,EAAIwR,EAAKxR,IACtC2X,EAAIkC,EAAW7Z,GACfya,EAAID,EAAExa,GAEN0a,EAAE,GAAG,IAAMpC,EAAMkD,IAAIf,EAAE,GAAIA,EAAE,IAC7BC,EAAE,GAAG,IAAMpC,EAAMkD,IAAIf,EAAE,GAAIA,EAAE,IAC7BC,EAAE,GAAG,IAAMpC,EAAMkD,IAAIf,EAAE,GAAIA,EAAE,IAC7BC,EAAE,GAAG,IAAMpC,EAAMkD,IAAIf,EAAE,GAAIA,EAAE,IAE7BU,EAAM7C,EAAME,SAASlB,EAAOtX,GAAIqa,EAAOC,EAAE,CAACe,EAAYA,EAAYC,EAAWA,GAAY3D,IAEzFgD,EAAE,IAAMrC,EAAMkD,IAAIf,EAAE,GAAIU,GACxBR,EAAE,IAAMrC,EAAMkD,IAAIf,EAAE,GAAIU,GA8B5B,OA1BAP,EAAYF,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAKA,EAAE,GAAG,GAC/CG,EAAWH,EAAE,GAAG,GAAKC,EAAE,GAAKD,EAAE,GAAG,GAAKC,EAAE,GACxCG,EAAWH,EAAE,GAAKD,EAAE,GAAG,GAAKC,EAAE,GAAKD,EAAE,GAAG,GAGxCK,EAAwB,IAAdH,EAAkB,EAAIE,EAAWF,EAC3CI,EAAwB,IAAdJ,EAAkB,EAAIC,EAAWD,EAK3CM,EAAY5C,EAAMC,UAAUD,EAAME,SAAS6C,EAAYC,IAEnDP,GADJE,EAAU,KAASC,IACMF,EAAUC,GAE/BvD,EAAS,GAAKY,EAAMG,UAAU4C,EAAY/C,EAAMI,SAASnB,EAAa2D,EAAY,IAClFxD,EAAS,GAAKY,EAAMG,UAAU6C,EAAWhD,EAAMI,SAASlB,EAAc0D,EAAY,MAMlFxD,EAAS,GAAKY,EAAMG,UAAU4C,EAAY/C,EAAMI,SAASnB,EAAawD,IACtErD,EAAS,GAAKY,EAAMG,UAAU6C,EAAWhD,EAAMI,SAASlB,EAAcwD,KAGnEtD,EAzHI+D,CAAenE,EAAQoC,EAAanC,EAAaC,GAOHiC,GAgBzD,OAdA5B,EAAW8B,EAAiB,GAC5B5B,EAAa4B,EAAiB,GAG1BlC,GACAA,EAAiB,CACbmC,IAAKlC,EACLJ,OAAQA,EACR3O,OAAQ8Q,EACRiC,OAAQ7D,EACR8D,SAAU5D,IAIX,CAACL,EAAUG,EAAUE,GA6GhC,SAASqB,EAAeiB,EAAQ/C,EAAQuC,GAUpC,OAAOA,EAAWd,KAAI,SAAUjX,EAAG9B,GAC/B,OAAO4b,EAAsBvB,EAAQ/C,EAAOtX,GAAI8B,MAYxD,SAAS8Z,EAAsBhC,EAAKI,EAAOrC,GAevC,IAAIrX,EAAIgY,EAAME,SAAS6B,EAAOC,EAAEV,EAAKjC,GAAIqC,GACrC6B,EAASxB,EAAOwB,OAAOjC,EAAKjC,GAC5BmE,EAAYxD,EAAMyD,UAAUzb,EAAGub,GAC/BG,EAAc1D,EAAMlR,IAAIkR,EAAM2D,YAAYJ,IAAW,EAAIvD,EAAMyD,UAAUzb,EAAG+Z,EAAO6B,YAAYtC,EAAKjC,IAExG,OAAoB,IAAhBqE,EACOrE,EAEAA,EAAImE,EAAYE,EAoE/B,IAAI7B,EAA0B,SAAiCP,EAAKuC,GAMhE,IALA,IAAIC,EACAC,EAAW,CAAC,GACZC,EAAW1C,EAAI,GACf2C,EAAS,EAEJvc,EAAI,EAAGA,GAAKmc,EAASnc,IAC1Boc,EAAW/B,EAAOC,EAAEV,EAAK5Z,EAAImc,GAE7BI,GAAUjE,EAAMC,UAAUD,EAAME,SAAS4D,EAAUE,IAEnDD,EAASlV,KAAKoV,GACdD,EAAWF,EAOf,OAHAC,EAAWA,EAAStD,KAAI,SAAUlT,GAC9B,OAAOA,EAAI0W,MAKnB,SAASnC,EAAOR,EAAK4C,EAAOtC,EAAWiC,GACnC,GAAIK,EAAQ,EACR,OAAO,EAEX,GAAIA,EAAQ,EACR,OAAO,EA8BX,IAJA,IAAYC,EAAQC,EAAMC,EAAMzb,EAIvBlB,EAAI,EAAGA,GAAKmc,EAASnc,IAE1B,GAAIwc,GAAStC,EAAUla,GAAI,CACvB2c,GAAQ3c,EAAI,GAAKmc,EACjBO,EAAO1c,EAAImc,EAIXjb,GAAKsb,GAHLC,EAASvC,EAAUla,EAAI,MACdka,EAAUla,GAEcyc,IAAWC,EAAOC,GAAQA,EAC3D,MAGR,OAAOzb,EAMX,SAAS0b,EAAcC,EAAQC,GAC3B,OAAOxE,EAAM5C,UAAU4C,EAAME,SAASqE,EAAQC,IAQlD,IAAIxE,EAAQ,WACR,SAASA,IACLlB,EAAgBjS,KAAMmT,GAyE1B,OAtEAA,EAAMiD,YAAc,SAAqB1V,GAErC,IADA,IAAIkX,EAAK,GACFlX,KACHkX,EAAG5V,KAAK,CAAC,EAAG,IAEhB,OAAO4V,GAGXzE,EAAMI,SAAW,SAAkBsE,EAAOC,GACtC,OAAOD,EAAMjE,KAAI,SAAUlT,GACvB,OAAOA,EAAIoX,MAInB3E,EAAMyD,UAAY,SAAmBmB,EAAIC,GAGrC,OAAOD,EAAGE,QAAO,SAAUhW,EAAKiW,EAAIrd,GAChC,OAAOoH,EAAMiW,EAAKF,EAAGnd,KACtB,IAGPsY,EAAME,SAAW,SAAkB8E,EAAM7L,GACrC,OAAO6L,EAAKvE,KAAI,SAAUsE,EAAIrd,GAC1B,OAAOqd,EAAK5L,EAAKzR,OAIzBsY,EAAMG,UAAY,SAAmB6E,EAAM7L,GACvC,OAAO6L,EAAKvE,KAAI,SAAUsE,EAAIrd,GAC1B,OAAOqd,EAAK5L,EAAKzR,OAIzBsY,EAAMiF,SAAW,SAAkBP,EAAOQ,GACtC,OAAOR,EAAMjE,KAAI,SAAUlT,GACvB,OAAOA,EAAI2X,MAInBlF,EAAMlR,IAAM,SAAa4V,GACrB,OAAOA,EAAMI,QAAO,SAAUhW,EAAKvB,GAC/B,OAAOuB,EAAMvB,MAIrByS,EAAMkD,IAAM,SAAa0B,EAAIC,GACzB,OAAO7E,EAAMyD,UAAUmB,EAAIC,IAG/B7E,EAAMC,UAAY,SAAmB3I,GACjC,OAAOwG,KAAKqH,MAAMnY,MAAM8Q,KAAMxG,IAGlC0I,EAAMoF,SAAW,SAAkBV,EAAOW,GACtC,OAAOX,EAAMjE,KAAI,SAAUlT,GACvB,OAAOA,EAAI8X,MAInBrF,EAAM2D,YAAc,SAAqBe,GACrC,OAAOA,EAAMjE,KAAI,SAAUlT,GACvB,OAAOA,EAAIA,MAInByS,EAAM5C,UAAY,SAAmB9F,GACjC,OAAOzK,KAAKuY,SAAS9N,EAAGzK,KAAKoT,UAAU3I,KAGpC0I,EA3EC,GA8ER+B,EAAS,WACT,SAASA,IACLjD,EAAgBjS,KAAMkV,GAwB1B,OArBAA,EAAOC,EAAI,SAAWsD,EAAU1c,GAC5B,IAAI2c,EAAK,EAAM3c,EACX4c,EAAKxF,EAAMI,SAASkF,EAAS,GAAIC,EAAKA,EAAKA,GAC3CE,EAAKzF,EAAMI,SAASkF,EAAS,GAAI,EAAIC,EAAKA,EAAK3c,GAC/C8c,EAAK1F,EAAMI,SAASkF,EAAS,GAAI,EAAIC,EAAK3c,EAAIA,GAC9C+c,EAAK3F,EAAMI,SAASkF,EAAS,GAAI1c,EAAIA,EAAIA,GAC7C,OAAOoX,EAAMG,UAAUH,EAAMG,UAAUqF,EAAIC,GAAKzF,EAAMG,UAAUuF,EAAIC,KAGxE5D,EAAOwB,OAAS,SAAgB+B,EAAU1c,GACtC,IAAI2c,EAAK,EAAM3c,EACX4c,EAAKxF,EAAMI,SAASJ,EAAME,SAASoF,EAAS,GAAIA,EAAS,IAAK,EAAIC,EAAKA,GACvEE,EAAKzF,EAAMI,SAASJ,EAAME,SAASoF,EAAS,GAAIA,EAAS,IAAK,EAAIC,EAAK3c,GACvE8c,EAAK1F,EAAMI,SAASJ,EAAME,SAASoF,EAAS,GAAIA,EAAS,IAAK,EAAI1c,EAAIA,GAC1E,OAAOoX,EAAMG,UAAUH,EAAMG,UAAUqF,EAAIC,GAAKC,IAGpD3D,EAAO6B,YAAc,SAAqB0B,EAAU1c,GAChD,OAAOoX,EAAMG,UAAUH,EAAMI,SAASJ,EAAMG,UAAUH,EAAME,SAASoF,EAAS,GAAItF,EAAMI,SAASkF,EAAS,GAAI,IAAKA,EAAS,IAAK,GAAK,EAAM1c,IAAKoX,EAAMI,SAASJ,EAAMG,UAAUH,EAAME,SAASoF,EAAS,GAAItF,EAAMI,SAASkF,EAAS,GAAI,IAAKA,EAAS,IAAK,EAAI1c,KAG5PmZ,EA1BE,GA6Bb5a,EAAOD,QA3kBP,SAAkB8X,EAAQO,EAAUJ,GAChC,IAAKpR,MAAMC,QAAQgR,GACf,MAAM,IAAIhV,UAAU,qCAiBxB,GAfAgV,EAAOwB,SAAQ,SAAUkB,GACrB,IAAK3T,MAAMC,QAAQ0T,IAAUA,EAAMkE,MAAK,SAAUC,GAC9C,MAAuB,iBAATA,MACZnE,EAAMtX,SAAW4U,EAAO,GAAG5U,OAC7B,MAAMwD,MAAM,oGAKpBoR,EAASA,EAAO/P,QAAO,SAAUyS,EAAOha,GACpC,OAAa,IAANA,IAAYga,EAAMV,OAAM,SAAUC,EAAKrS,GAC1C,OAAOqS,IAAQjC,EAAOtX,EAAI,GAAGkH,UAI1BxE,OAAS,EAChB,MAAO,GAGX,IAAI8O,EAAM8F,EAAO5U,OACb6U,EAAcqF,EAActF,EAAO,GAAIA,EAAO,IAC9CE,EAAeoF,EAActF,EAAO9F,EAAM,GAAI8F,EAAO9F,EAAM,IAE/D,OAAO6F,EAASC,EAAQC,EAAaC,EAAcK,EAAUJ,IAijBjEhY,EAAOD,QAAQ6X,SAAWA,EAC1B5X,EAAOD,QAAQod,cAAgBA,IAlnBD,gC,6BCAlC,IAAIhX,EAAY,EAAQ,IACpBwY,EAAkB,EAAQ,KAC1B3Y,EAAY,EAAQ,IACpBC,EAAgB,EAAQ,IACxB2Y,EAAkB,EAAQ,KAC1BC,EAAsB,EAAQ,KAC9B3Y,EAAc,EAAQ,IAEtB4Y,EAAkB,EAAQ,KAC1BC,EAAkB,EAAQ,KAC1BC,EAAgB,EAAQ,KAExBC,EAAiB,CACnBC,KAAM,OACNC,OAAQ,SACRC,QAAS,WAGX,SAASC,EAASjZ,GAChB,OAAOA,QAGT,SAASkZ,EAAYzH,EAAQ0H,EAAQC,EAAOC,EAASC,EAAUC,GAC7D,IAAIpf,EAAGqf,GAEH/H,GAAW3R,EAAY2R,IAAY7R,EAAU6R,IAW/C8H,EAAOA,GAAQ,GACfja,KAAK+Z,QAAUA,EACf/Z,KAAK8Z,MAAQA,EACb9Z,KAAK6Z,OAASA,EACd7Z,KAAKmS,OAASA,EACdnS,KAAKga,SAAWA,EAChBha,KAAKma,MAAQF,EAAKE,MAClBna,KAAKoa,cAAgBH,EAAKG,YAC1B7e,OAAOC,eAAewE,KAAM,OAAQ,CAAClE,MAAOme,EAAKI,KAAM3c,UAAU,EAAMD,cAAc,MAlBrFwc,EAAO9H,EACPnS,KAAKma,MAAQhI,EAAOgI,MACpBna,KAAKoa,cAAgBjI,EAAOiI,YAC5Bpa,KAAK+Z,QAAU5H,EAAO4H,QACtB/Z,KAAK8Z,MAAQ3H,EAAO2H,MACpB9Z,KAAK6Z,OAAS1H,EAAO0H,OACrB7Z,KAAKga,SAAW7H,EAAO6H,SACvBha,KAAKmS,OAASA,EAAOA,OACrB5W,OAAOC,eAAewE,KAAM,OAAQ,CAAClE,MAAOme,EAAKI,KAAM3c,UAAU,EAAMD,cAAc,KAavF,IAAI6c,EAAY7Z,EAAUT,KAAKmS,QAC3BoI,EAAa9Z,EAAUT,KAAK+Z,SAC5BS,EAAW/Z,EAAUT,KAAK8Z,OAE9B,GAAI9Z,KAAKmS,OAIP,OAAQmI,GACN,KAAK7Z,EAAUG,gBACf,KAAKH,EAAUI,QACbtF,OAAOmG,iBAAiB1B,KAAM,CAC5Bya,gBAAiB,CACf3e,MAAOkE,KAAKmS,OAAOxP,MAAMpF,OAAS,EAClCG,UAAU,EACVD,cAAc,GAEhBwF,UAAW,CACTnH,MAAOkE,KAAKmS,OAAOxP,MAAM3C,KAAKmS,OAAOxP,MAAMpF,OAAS,GACpDG,UAAU,EACVD,cAAc,GAEhB4c,KAAM,CACJ3e,IAAK,WACH,OAAOsE,KAAKmS,OAAOxP,MAAMnB,MAAM,EAAGxB,KAAKmS,OAAOxP,MAAMpF,OAAS,IAE/Dmd,IAAK,WACH,MAAM,IAAI3Z,MAAM,+CAElBtD,cAAc,KAGlB,MAEF,KAAKgD,EAAUK,gBAEb,IAAI2Z,EAAkB,EAClBJ,EAAOra,KAAKqa,MAAQ,GACxBA,EAAK9c,OAAS,EACd,IAAK,IAAIqP,EAAM5M,KAAKmS,OAAQ3R,EAAYoM,EAAI,IAAKA,EAAMA,EAAI,GACzD6N,IACAJ,EAAKrY,KAAK4K,EAAIrP,QAEhB,GAAwB,IAApBkd,EACF,MAAM,IAAI1Z,MAAM,+BAGlBxF,OAAOmG,iBAAiB1B,KAAM,CAC5Bya,gBAAiB,CACf3e,MAAO2e,EACP/c,UAAU,EACVD,cAAc,GAEhBwF,UAAW,CACTnH,MAAO8Q,EAAIrP,OACXG,UAAU,EACVD,cAAc,GAEhB4c,KAAM,CACJ3e,IAAK,WACH,IAAI2e,EAAO,GACXA,EAAK9c,OAAS,EACd,IAAK,IAAI1C,EAAI,EAAG+R,EAAM5M,KAAKmS,OAAQtX,EAAImF,KAAKya,gBAAiB5f,IAAK+R,EAAMA,EAAI,GAC1EyN,EAAKxf,GAAK+R,EAAIrP,OAEhB,OAAO8c,GAETK,IAAK,WACH,MAAM,IAAI3Z,MAAM,+CAElBtD,cAAc,KAIlB,MACF,KAAKgD,EAAUO,OACf,QACE,MAAM,IAAID,MAAM,6EAEf,CACL,QAAkBV,IAAdL,KAAKqa,MAAoC,OAAdra,KAAKqa,KAClC,MAAM,IAAItZ,MAAM,0DASlB,GAPKP,EAAYR,KAAKqa,OACpB9e,OAAOC,eAAewE,KAAM,OAAQ,CAClClE,MAAO,CAACkE,KAAKqa,MACb3c,UAAU,EACVD,cAAc,IAGO,IAArBuC,KAAKqa,KAAK9c,OACZ,MAAM,IAAIwD,MAAM,+DAGlBxF,OAAOmG,iBAAiB1B,KAAM,CAC5Bya,gBAAiB,CACf3e,MAAOkE,KAAKqa,KAAK9c,OACjBG,UAAU,EACVD,cAAc,GAEhBwF,UAAW,CACTnH,MAAO,EACP4B,UAAU,EACVD,cAAc,KAQpB,GAAI+C,EAAYR,KAAK6Z,SACnB,IAAKhf,EAAI,EAAGA,EAAImF,KAAKya,gBAAiB5f,IACpC,GAAI8e,EAAQ3Z,KAAK6Z,OAAOhf,IACtB,MAAM,IAAIkG,MAAM,gCAAkClG,EAAI,QAGrD,CACL,IAAI8f,GAAiBhB,EAAQ3Z,KAAK6Z,QAC9Be,EAAajB,EAAQ3Z,KAAK6Z,QAAU,EAAI7Z,KAAK6Z,OAEjD,IADA7Z,KAAK6Z,OAAS,GACThf,EAAI,EAAGA,EAAImF,KAAKya,gBAAiB5f,IACpC,GAAImF,KAAKqa,KAAKxf,IAAM+f,EAAY,CAC9B,GAAID,EACF,MAAM,IAAI5Z,MAAM,sBAAwB6Z,EAAa,GAAK,sBAAwBA,EAAa,yBAA2B/f,EAAI,GAAK,iBAAmBmF,KAAKqa,KAAKxf,IAEhKmF,KAAK6Z,OAAOhf,GAAKmF,KAAKqa,KAAKxf,GAAK,OAGlCmF,KAAK6Z,OAAOhf,GAAK+f,EASvB,GADAV,EAAiC,iBAAlBla,KAAKga,SAAyB,OAASha,KAAKga,UACtDT,EAAeW,GAClB,MAAM,IAAInZ,MAAM,gCAAkCxF,OAAOuI,KAAKyV,GAAkB,SAAWW,GAI7F,IAFAla,KAAKga,SAAWxZ,EAAYR,KAAKga,UAAYha,KAAKga,SAAW,GAC7Dha,KAAKga,SAASzc,OAASyC,KAAKya,gBACvB5f,EAAI,EAAGA,EAAImF,KAAKya,gBAAiB5f,IAGpC,GAFAmF,KAAKga,SAASnf,GAAK8e,EAAQ3Z,KAAKga,SAASnf,IAAMqf,EAAOla,KAAKga,SAASnf,IAE/D0e,EAAeW,GAClB,MAAM,IAAInZ,MAAM,gCAAkCxF,OAAOuI,KAAKyV,GAAkB,SAAWW,EAAO,mBAAqBrf,EAAI,IAO/H,OAAQ2f,GACN,KAAK/Z,EAAUK,gBAMb,IAJIN,EAAYR,KAAK8Z,QAAU9Z,KAAK8Z,MAAMvc,OAAS,IAAMiD,EAAYR,KAAK8Z,MAAM,MAC9E9Z,KAAK8Z,MAAQ,CAAC9Z,KAAK8Z,QAGhBjf,EAAI,EAAGA,EAAImF,KAAKya,gBAAiB5f,IAAK,CACzC,GAAImF,KAAKqa,KAAKxf,IAAMmF,KAAK6Z,OAAOhf,GAC9B,MAAM,IAAIkG,MAAM,sBAAwBf,KAAK6Z,OAAOhf,GAAK,GAAK,yBAA2BA,EAAI,GAAK,YAAcmF,KAAKqa,KAAKxf,GAAK,KAGjI,GAAI2F,EAAYR,KAAK8Z,MAAMjf,IAAK,CAC9B,GAAyB,WAArBmF,KAAKga,SAASnf,IAAmBmF,KAAK8Z,MAAMjf,GAAG0C,SAAWyC,KAAK6Z,OAAOhf,GAAKmF,KAAKqa,KAAKxf,GAAK,EAC5F,MAAM,IAAIkG,MAAM,aAAef,KAAK6Z,OAAOhf,GAAKmF,KAAKqa,KAAKxf,GAAK,GAAK,wBAA0BA,EAAI,GAAK,YAAcmF,KAAK8Z,MAAMjf,GAAG0C,OAAS,KACvI,GAAyB,WAArByC,KAAKga,SAASnf,IAAmBmF,KAAK8Z,MAAMjf,GAAG0C,SAAWyC,KAAKqa,KAAKxf,GAAK,KAIhEmF,KAAK8Z,MAAMjf,GAAG0C,SAAWyC,KAAKqa,KAAKxf,GAAKmF,KAAK6Z,OAAOhf,GAAK,GAEzE,MAAM,IAAIkG,MAAM,aAAef,KAAKqa,KAAKxf,GAAK,GAAK,0CAA4CA,EAAI,GAAK,YAAcmF,KAAK8Z,MAAMjf,GAAG0C,OAAS,MAKrJ,MACF,KAAKkD,EAAUI,SAOjB,IAAIga,EAAc5B,EAAgBjZ,KAAMA,KAAKma,MAAOna,KAAKoa,YAAaE,EAAWC,EAAYC,GAE7F,GAAIK,IAAgB7a,KAAK8a,WAAY,CACnC9a,KAAK8a,WAAaD,EAElB,IAAIE,EAAY7B,EAAgBlZ,MAEhCA,KAAKgb,SAAW5B,EAAgBpZ,KAAK8a,WAAY9a,KAAM+a,EAAW/a,KAAKma,MAAOna,KAAKoa,aAAa,GAChGpa,KAAKib,UAAY5B,EAAgBrZ,KAAK8a,WAAY9a,KAAM+a,EAAW/a,KAAKma,OACxEna,KAAKkb,QAAU5B,EAActZ,KAAK8a,WAAY9a,KAAM+a,EAAW/a,KAAKma,MAAOna,KAAKoa,aAEhFpa,KAAKmb,UAAY,SAAUC,EAAiBC,GAC1C,OAAOjC,EAAgBpZ,KAAK8a,WAAY9a,KAAM+a,EAAW/a,KAAKma,MAAOna,KAAKoa,YAAaiB,EAASD,IAMpG,OAFApb,KAAKmZ,oBAAsBA,EAAoB9c,KAAK2D,MAE7CA,KAGT,SAASsb,IACP,IAAIC,EACAC,EAAM,GAQN5O,EAAM5M,KAAKmS,OAEVvF,EAGMrM,EAAcqM,KAEvB2O,EAAY3O,EAAIjK,OAHhB4Y,EAAYvb,KAAKqa,KAMnB,IAAK,IAAIlf,EAAI,EAAGA,EAAI6E,KAAKya,gBAAiBtf,IAAK,CAC7C,IAAIkf,EAAOkB,EAAYA,EAAUpgB,GAAKyR,EAAIrP,OACtCZ,EAAIqD,KAAK6Z,OAAO1e,GAChBsgB,EAAgC,WAArBzb,KAAKga,SAAS7e,GAE7B,GAAI6E,KAAK8Z,OAAS9Z,KAAK8Z,MAAM3e,GAAI,CAC/B,IAAIwR,EAAI3M,KAAK8Z,MAAM3e,GACnBqgB,EAAIrgB,GAAK,CAACwR,EAAE8O,EAAW,EAAI9e,GAAIgQ,EAAE0N,SAEjCmB,EAAIrgB,GAAK,CAACsgB,EAAW,EAAI9e,EAAG0d,GAK1BzN,IAAKA,EAAMA,EAAI,IAErB,OAAO4O,EA0BTlhB,EAAOD,QAjBP,SAAgB8X,EAAQ0H,EAAQC,EAAOC,EAASC,EAAUC,GACxD,IAAIyB,EAAO,SAAUvJ,EAAQ0H,EAAQC,EAAOC,EAASC,EAAUC,GAE7D,OADA0B,EAASxJ,EAAQ0H,EAAQC,EAAOC,EAASC,EAAUC,GAC5CyB,GAGLC,EAAW/B,EAAWvd,KAAKqf,GAQ/B,OANAngB,OAAOC,eAAekgB,EAAM,SAAU,CACpChgB,IAAK4f,IAGPK,EAASxJ,EAAQ0H,EAAQC,EAAOC,EAASC,EAAUC,GAE5CyB,I,iCC5TT,IACME,EADFC,GAEqCD,GADnCA,EAAiC,oBAAbE,UAA4BA,SAASC,cAAgBD,SAASC,cAAcC,SAAM3b,IACxC4b,EAC3D,SACAJ,GAIJ,IAAI1gB,EAAmE+gB,EAClE5G,EAA4epa,EACtfmS,EAAE4C,EAAEkM,EAAElhB,EADWmhB,EAJfP,EAAcA,GAAe,GAGpB1gB,IAAIA,OAAyB,IAAhB0gB,EAA8BA,EAAc,IAAW1gB,EAAEkhB,MAAM,IAAIxc,SAAQ,SAASyV,GAAG4G,EAAG5G,KACjG8G,EAAE,IAAT9G,EAC4Tna,GAD9SmhB,mBAAmB,SAASC,GAAG,IAAI,IAAI5P,EAAE,EAAE7R,EAAE,EAAEA,EAAEyhB,EAAEhf,OAAOzC,IAAI6R,GAAG4P,EAAEzhB,GAAGyC,OAAO,GAAG6e,EAAEzP,GAAG,IAAIrQ,EAAE8f,EAAEzP,QAAQrQ,EAAE,IAAIkgB,aAAa7P,GAAGyP,EAAEzP,GAAGrQ,EAAE,IAAIK,EAAE,EAAE,IAAI7B,EAAE,EAAEA,EAAEyhB,EAAEhf,OAAOzC,IAAI,IAAI,IAAIqa,EAAE,EAAEA,EAAEoH,EAAEzhB,GAAGyC,OAAO4X,IAAI,CAAC,IAAIpZ,EAAEwgB,EAAEzhB,GAAGqa,GAAG,iBAAkBpZ,IAAIA,EAAEuZ,EAAEmH,qBAAqBnY,SAASvI,KAAKO,EAAEK,GAAGZ,EAAEY,IAAqF,OAAjF4f,EAAEjH,EAAEoH,QAAQpgB,EAAEiB,OAAOjB,EAAEqgB,mBAAmBrH,EAAEsH,QAAQlC,IAAIpe,EAAEigB,EAAEjgB,EAAEqgB,mBAAyB,CAACJ,EAAE5P,IAAI2I,EAAEuH,SAAS,SAASN,GAAGA,EAAEjH,EAAEgH,mBAAmBC,GAAG,IAAI5P,EAAE2I,EAAEwH,UAAUP,EAAE,GAAGA,EAAE,IAAkB,OAAdjH,EAAEyH,MAAMR,EAAE,IAAW5P,GACve2I,EAAE0H,YAAY,SAAST,EAAE5P,EAAE7R,EAAEwB,EAAEK,GAAmG,OAAhGzB,GAAGmS,IAAIkP,GAAGtM,IAAItD,GAAGwP,IAAIrhB,GAAGG,IAAIqB,IAAIpB,GAAGA,EAAE+hB,SAAS/hB,EAAE,IAAIoa,EAAE4H,YAAY,CAACX,EAAE5P,GAAG,CAAC7R,EAAEwB,IAAI+Q,EAAEkP,EAAEtM,EAAEtD,EAAEwP,EAAErhB,EAAEG,EAAEqB,GAAUpB,EAAEiiB,cAAcxgB,IAAI2Y,EAAE8H,aAAa,SAASb,EAAE5P,EAAE7R,EAAEwB,EAAEK,GAAmG,OAAhGzB,GAAGmS,IAAIkP,GAAGtM,IAAItD,GAAGwP,IAAIrhB,GAAGG,IAAIqB,IAAIpB,GAAGA,EAAE+hB,SAAS/hB,EAAE,IAAIoa,EAAE4H,YAAY,CAACX,EAAE5P,GAAG,CAAC7R,EAAEwB,IAAI+Q,EAAEkP,EAAEtM,EAAEtD,EAAEwP,EAAErhB,EAAEG,EAAEqB,GAAUpB,EAAEmiB,eAAe1gB,IAChU,SAAU2Y,GAAGA,EAAEgI,qBAAqB,WAAWhI,EAAEiI,OAAO9gB,UAAU+gB,QAAQ,WAAW,IAAIpB,EAAElc,UAAU,GAAG,GAAG,IAAIA,UAAU3C,OAAOyC,KAAKyd,SAASrB,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,QAAQ,GAAG,IAAIlc,UAAU3C,OAAO,CAAC,IAAIrC,EAAEgF,UAAU,GAAGF,KAAKyd,SAASrB,EAAElhB,EAAEoa,EAAEpa,EAAEA,EAAEA,EAAEmS,EAAEnS,EAAEkhB,EAAElhB,EAAEC,EAAED,EAAE+U,EAAE,EAAE,EAAE,QAAQ,GAAG,IAAI/P,UAAU3C,OAAOrC,EAAEgF,UAAUF,KAAKyd,SAASrB,EAAElhB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAG,EAAE,EAAE,OAAQ,IAAG,KAAKgF,UAAU3C,OAAsF,OAAOmgB,QAAQC,GAAG,qDAChezd,UAAU3C,QAAQ,KAD6WrC,EAAEgF,UAAUF,KAAKyd,SAASrB,EAAElhB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAC9a,OAAO8E,MAAMsV,EAAEiI,OAAO9gB,UAAUmhB,IAAI,SAASxB,EAAElhB,EAAEmS,EAAE4C,EAAEkM,EAAElhB,GAA4B,OAAzB+E,KAAK6d,KAAKzB,EAAElhB,EAAEmS,EAAE4C,EAAEkM,IAAIlhB,GAAU+E,MAAMsV,EAAEiI,OAAO9gB,UAAUqhB,MAAM,SAAS1B,EAAElhB,EAAEmS,EAAE4C,EAAEkM,GAA0B,OAAvBnc,KAAK+d,OAAO3B,EAAElhB,EAAEmS,EAAE4C,EAAEkM,GAAUnc,MAAMsV,EAAEiI,OAAO9gB,UAAUuhB,cAAc,SAAS5B,EAAElhB,EAAEmS,EAAE4C,EAAEkM,EAAElhB,GAA8B,OAA3B+E,KAAKie,SAAS7B,EAAElhB,EAAEmS,EAAE4C,EAAEkM,EAAElhB,GAAU+E,MAAMsV,EAAEiI,OAAO9gB,UAAUyhB,MAAM,WAAyB,OAAdle,KAAKme,SAAgBne,MAAMsV,EAAEiI,OAAO9gB,UAAU2hB,UAAU,WAAyB,OAAdpe,KAAKme,SAAgBne,MAAMsV,EAAEiI,OAAO9gB,UAAU4hB,QAAQ,SAASjC,EAAElhB,EAAEmS,EAAE4C,EAAEkM,GAA4B,OAAzBnc,KAAKse,SAASlC,EAAElhB,EAAEmS,EAAE4C,EAAEkM,GAAUnc,MACxfsV,EAAEiI,OAAO9gB,UAAU8hB,QAAQ,SAASnC,EAAElhB,EAAEmS,EAAE4C,EAAEkM,EAAElhB,GAA8B,OAA3B+E,KAAKie,SAAS7B,EAAElhB,EAAEmS,EAAE4C,EAAEkM,EAAElhB,GAAU+E,MAAMsV,EAAEiI,OAAO9gB,UAAU+hB,KAAK,SAASpC,EAAElhB,EAAEmS,GAAG,OAAOrN,KAAKye,MAAMrC,EAAElhB,EAAEmS,GAAGrN,KAAK,MAAMsV,EAAEiI,OAAO9gB,UAAUiiB,QAAQ,SAAStC,EAAElhB,EAAEmS,EAAE4C,EAAEkM,EAAElhB,EAAEshB,EAAE5P,GAAoC,OAAjC3M,KAAK2e,SAASvC,EAAElhB,EAAEmS,EAAE4C,EAAEkM,EAAElhB,EAAEshB,IAAI5P,GAAU3M,MAAMsV,EAAEiI,OAAO9gB,UAAUmiB,OAAO,SAASxC,EAAElhB,GAAqB,OAAlB8E,KAAK6e,QAAQzC,EAAElhB,GAAU8E,MAAMsV,EAAEiI,OAAO9gB,UAAUqiB,OAAO,SAAS1C,EAAElhB,GAAqB,OAAlB8E,KAAK+e,QAAQ3C,EAAElhB,GAAU8E,MAAMsV,EAAEiI,OAAO9gB,UAAU8I,GAAG,SAAS6W,EAAElhB,GAAG,OAAO8E,KAAKgf,IAAI5C,EAAElhB,GAAG8E,KAAK,MAAMsV,EAAEiI,OAAO9gB,UAAUwiB,iBAC7e,SAAS7C,EAAElhB,EAAEmS,EAAE4C,GAAyB,OAAtBjQ,KAAKkf,QAAQ9C,EAAElhB,EAAEmS,EAAE4C,GAAUjQ,MAAMsV,EAAEiI,OAAO9gB,UAAU0iB,OAAO,SAAS/C,EAAElhB,EAAEmS,EAAE4C,GAAyB,OAAtBjQ,KAAKkf,QAAQ9C,EAAElhB,EAAEmS,EAAE4C,GAAUjQ,MAAMsV,EAAEiI,OAAO9gB,UAAU2iB,KAAK,SAAShD,EAAElhB,EAAEmS,EAAE4C,GAAuB,OAApBjQ,KAAKqf,MAAMjD,EAAElhB,EAAEmS,EAAE4C,GAAUjQ,MAAMsV,EAAEiI,OAAO9gB,UAAU6iB,SAAS,WAAW,OAAOtf,KAAKuf,YAAYvf,KAAK,MAAMsV,EAAEiI,OAAO9gB,UAAU+iB,OAAO,SAASpD,GAA6H,OAA1HA,EAAEA,GAAG,IAAKqD,MAAMrD,EAAEqD,OAAO,EAAErD,EAAEsD,YAAYtD,EAAEsD,aAAa,EAAEtD,EAAEuD,IAAIvD,EAAEuD,KAAKrK,EAAEsK,UAAUC,KAAKzD,EAAEla,KAAKka,EAAEla,MAAMoT,EAAEwK,WAAWC,MAAa/f,KAAKggB,QAAQ5D,GAAGpc,KAAK,MAAMsV,EAAEiI,OAAO9gB,UAAUwe,UAC9e,WAAW,GAAG,IAAI/a,UAAU3C,OAAOyC,KAAKigB,WAAW/f,UAAU,QAAS,IAAG,IAAIA,UAAU3C,OAA2F,OAAOmgB,QAAQC,GAAG,oDAAoDzd,UAAU3C,QAAQ,KAA3K,IAAI6e,EAAElc,UAAUF,KAAKigB,WAAW7D,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAsG,OAAOpc,MAAMsV,EAAEiI,OAAO9gB,UAAU4H,KAAK,SAAS+X,EAAElhB,EAAEmS,GAAG,OAAOrN,KAAKkgB,MAAM9D,EAAElhB,IAAImS,GAAGrN,KAAK,OAJpW,CAI6W7E,GAAG,IAASsP,EAAkD0V,EAAMC,EAAKC,EAAMC,EAAxE3kB,EAAE,GAAK,IAAI8O,KAAKtP,EAAEA,EAAEuB,eAAe+N,KAAK9O,EAAE8O,GAAGtP,EAAEsP,IAA+B0V,EAAG,iBAAkB1lB,OAAO2lB,EAAE,mBAAoBG,cACpfF,EAAG,iBAAkBtT,GAAS,iBAAkBA,EAAQ2B,UAAU,iBAAkB3B,EAAQ2B,SAAS8R,KAAKF,GAAIH,IAAKE,IAAKD,EAAE,IAASK,EAAGC,EAAGC,EAAGC,EAAdlgB,EAAE,GAC7H2f,GAAG3f,EAAE0f,EAAE,EAAQ,IAAQ7O,QAAQ7Q,GAAG,IAAImgB,EAAU,IAAIJ,EAAG,SAASnL,EAAE8G,GAAqE,OAAlEuE,IAAKA,EAAG,EAAQ,MAAOC,IAAKA,EAAG,EAAQ,KAAStL,EAAEsL,EAAGrQ,UAAU+E,GAAUqL,EAAGG,aAAaxL,EAAE8G,EAAE,KAAK,SAASsE,EAAG,SAASpL,GAA+D,OAA5DA,EAAEmL,EAAGnL,GAAE,IAAMyL,SAASzL,EAAE,IAAI0L,WAAW1L,IAAI2L,EAAO3L,EAAEyL,QAAezL,GAAG,EAAEvI,EAAQyB,KAAKjR,QAAQwP,EAAQyB,KAAK,GAAGpK,QAAQ,MAAM,KAAK2I,EAAQyB,KAAKhN,MAAM,GAAGuL,EAAQ4B,GAAG,qBAAoB,SAAS2G,GAAG,MAAMA,KAAKvI,EAAQ4B,GAAG,qBAAqBuS,IAAG/lB,EAAEgmB,QAAQ,WAAW,MAAM,+BAAsCb,GAAG,oBAC9ec,OAAOX,EAAG,SAASnL,GAAG,OAAO8L,KAAK9L,KAAKoL,EAAG,SAASpL,GAAG,MAAG,mBAAoB+L,WAAkB,IAAIL,WAAWK,WAAW/L,KAAuB2L,EAAO,iBAA1B3L,EAAE8L,KAAK9L,EAAE,YAA6CA,IAAG,oBAAqBgM,QAAQ,oBAAqB5D,UAAUA,QAAQ,IAAIA,QAAQ6D,IAAID,MAAM5D,QAAQ8D,KAAK9D,QAAQ/d,MAAM,oBAAqB8hB,SAASA,SAASH,SAAenB,GAAIC,KAAEA,EAAE1f,EAAExC,KAAKwjB,SAASC,KAAK7F,SAASC,gBAAgBrb,EAAEob,SAASC,cAAcC,KAAKJ,IAAalb,EAAEkb,GAAmClb,EAAvB,IAAIA,EAAEkhB,QAAQ,SAAWlhB,EAAEgD,OAAO,EACzfhD,EAAEmhB,YAAY,KAAK,GAAK,GAAGpB,EAAG,SAASnL,GAAG,IAAI8G,EAAE,IAAI0F,eAA+C,OAAhC1F,EAAE5C,KAAK,MAAMlE,GAAE,GAAI8G,EAAE2F,KAAK,MAAa3F,EAAE4F,cAAc5B,IAAIM,EAAG,SAASpL,GAAG,IAAI8G,EAAE,IAAI0F,eAA4E,OAA7D1F,EAAE5C,KAAK,MAAMlE,GAAE,GAAI8G,EAAE6F,aAAa,cAAc7F,EAAE2F,KAAK,MAAa,IAAIf,WAAW5E,EAAE8F,aAAY,IAA0IC,EAAtIC,EAAGjnB,EAAEmmB,OAAO5D,QAAQ6D,IAAIllB,KAAKqhB,SAAS2E,EAAElnB,EAAEsmB,UAAU/D,QAAQ8D,KAAKnlB,KAAKqhB,SAAS,IAAIjT,KAAK9O,EAAEA,EAAEe,eAAe+N,KAAKtP,EAAEsP,GAAG9O,EAAE8O,IAAI9O,EAAE,KAAYR,EAAEmnB,aAAaH,EAAGhnB,EAAEmnB,YAA8BnnB,EAAEonB,eAA8BpnB,EAAEonB,cACxe,iBAAkBC,aAAaH,EAAE,mCAAmC,IAAII,EAAGC,EAAG,IAAIF,YAAYG,MAAM,CAACC,QAAQ,IAAIC,QAAQ,IAAIC,QAAQ,YAAYC,GAAG,EAAG,SAAS9B,EAAO3L,EAAE8G,GAAG9G,GAAG4L,GAAE,qBAAqB9E,GAAG,IAAI4G,EAAG,oBAAqBC,YAAY,IAAIA,YAAY,aAAQ,EACzQ,SAASC,EAAG5N,EAAE8G,EAAElhB,GAAG,IAAImS,EAAE+O,EAAElhB,EAAE,IAAIA,EAAEkhB,EAAE9G,EAAEpa,MAAMA,GAAGmS,MAAMnS,EAAE,GAAG,GAAGA,EAAEkhB,GAAG9G,EAAE6N,UAAUH,EAAG,OAAOA,EAAGI,OAAO9N,EAAE6N,SAAS/G,EAAElhB,IAAI,IAAImS,EAAE,GAAG+O,EAAElhB,GAAG,CAAC,IAAI+U,EAAEqF,EAAE8G,KAAK,GAAK,IAAFnM,EAAM,CAAC,IAAIkM,EAAS,GAAP7G,EAAE8G,KAAQ,GAAG,MAAQ,IAAFnM,GAAO5C,GAAGZ,OAAO4W,cAAgB,GAAFpT,IAAO,EAAEkM,OAAO,CAAC,IAAIlhB,EAAS,GAAPqa,EAAE8G,KAAwE,OAAhEnM,EAAE,MAAQ,IAAFA,IAAU,GAAFA,IAAO,GAAGkM,GAAG,EAAElhB,GAAK,EAAFgV,IAAM,GAAGkM,GAAG,GAAGlhB,GAAG,EAAS,GAAPqa,EAAE8G,MAAgB/O,GAAGZ,OAAO4W,aAAapT,IAAIA,GAAG,MAAM5C,GAAGZ,OAAO4W,aAAa,MAAMpT,GAAG,GAAG,MAAQ,KAAFA,UAAe5C,GAAGZ,OAAO4W,aAAapT,GAAG,OAAO5C,EAClC,IAAIiW,EAAG,oBAAqBL,YAAY,IAAIA,YAAY,iBAAY,EAC1d,SAASM,EAAGjO,EAAE8G,GAAc,IAAX,IAAIlhB,EAAEoa,GAAG,EAAUjI,EAAEnS,EAAEkhB,EAAE,IAAIlhB,GAAGmS,IAAImW,EAAGtoB,MAAMA,EAAQ,GAAG,IAATA,IAAI,GAAUoa,GAAGgO,EAAG,OAAOA,EAAGF,OAAOK,EAAEN,SAAS7N,EAAEpa,IAAQ,IAAJA,EAAE,EAAMmS,EAAE,KAAK,CAAC,IAAI4C,EAAEyT,EAAEpO,EAAE,EAAEpa,GAAG,GAAG,GAAG,GAAG+U,GAAG/U,GAAGkhB,EAAE,EAAE,OAAO/O,IAAInS,EAAEmS,GAAGZ,OAAO4W,aAAapT,IAAI,SAAS0T,EAAGrO,EAAE8G,EAAElhB,GAA8B,QAA3B,IAASA,IAAIA,EAAE,YAAe,EAAEA,EAAE,OAAO,EAAO,IAAImS,EAAE+O,EAAElhB,GAAbA,GAAG,GAAc,EAAEoa,EAAE/X,OAAOrC,EAAE,EAAEoa,EAAE/X,OAAO,IAAI,IAAI0S,EAAE,EAAEA,EAAE/U,IAAI+U,EAAEyT,EAAEtH,GAAG,GAAG9G,EAAE9D,WAAWvB,GAAGmM,GAAG,EAAY,OAAVsH,EAAEtH,GAAG,GAAG,EAASA,EAAE/O,EAAE,SAASuW,EAAGtO,GAAG,OAAO,EAAEA,EAAE/X,OACvZ,SAASsmB,EAAGvO,EAAE8G,GAAG,IAAI,IAAIlhB,EAAE,EAAEmS,EAAE,KAAKnS,GAAGkhB,EAAE,IAAI,CAAC,IAAInM,EAAE6T,EAAExO,EAAE,EAAEpa,GAAG,GAAG,GAAG,GAAG+U,EAAE,QAAQ/U,EAAE,OAAO+U,GAAGA,GAAG,MAAM5C,GAAGZ,OAAO4W,aAAa,MAAMpT,GAAG,GAAG,MAAQ,KAAFA,IAAS5C,GAAGZ,OAAO4W,aAAapT,GAAG,OAAO5C,EAAE,SAAS0W,EAAGzO,EAAE8G,EAAElhB,GAA8B,QAA3B,IAASA,IAAIA,EAAE,YAAe,EAAEA,EAAE,OAAO,EAAE,IAAImS,EAAE+O,EAAElhB,EAAEmS,EAAEnS,EAAE,EAAE,IAAI,IAAI+U,EAAE,EAAEA,EAAEqF,EAAE/X,SAAS0S,EAAE,CAAC,IAAIkM,EAAE7G,EAAE9D,WAAWvB,GAA+F,GAAzF,OAAOkM,GAAG,OAAOA,IAA2BA,EAAE,QAAU,KAAFA,IAAS,IAAM,KAA3C7G,EAAE9D,aAAavB,IAAiC6T,EAAE1H,GAAG,GAAGD,GAAEC,GAAG,GAAO,EAAElhB,EAAE,MAAgB,OAAV4oB,EAAE1H,GAAG,GAAG,EAASA,EAAE/O,EACxb,SAAS2W,EAAG1O,GAAG,IAAI,IAAI8G,EAAE,EAAElhB,EAAE,EAAEA,EAAEoa,EAAE/X,SAASrC,EAAE,CAAC,IAAImS,EAAEiI,EAAE9D,WAAWtW,GAAG,OAAOmS,GAAG,OAAOA,KAAKnS,EAAEkhB,GAAG,EAAE,OAAOA,EAAE,IAAI6H,EAAGC,EAAGT,EAAEC,EAAEF,EAAGM,EAAEK,EAAEC,EAAGC,EAAGC,EAAGnpB,EAAEopB,gBAAgB,UAAsB9B,EAAbtnB,EAAEqpB,WAAcrpB,EAAEqpB,WAAc,IAAIhC,YAAYiC,OAAO,CAAC7B,QAAQ0B,EAAG,MAAMzB,QAAQyB,EAAG,WAAaL,EAAGxB,EAAG1B,QAAQuD,EAAGL,EAAGS,WAAW,IAAIC,EAAEV,EAC1P,SAASW,EAAGtP,GAAG,KAAK,EAAEA,EAAE/X,QAAQ,CAAC,IAAI6e,EAAE9G,EAAEuP,QAAQ,GAAG,mBAAmBzI,EAAEA,EAAEjhB,OAAO,CAAC,IAAID,EAAEkhB,EAAE0I,GAAG,iBAAkB5pB,OAAE,IAASkhB,EAAE2I,GAAG5pB,EAAE6pB,UAAU9pB,GAAGC,EAAE8pB,WAAW/pB,EAAEkhB,EAAE2I,IAAI7pB,OAAE,IAASkhB,EAAE2I,GAAG,KAAK3I,EAAE2I,MADkEd,EAAGU,EAAExpB,EAAE+pB,MAAMhB,EAAG,IAAIiB,UAAUR,GAAGxpB,EAAEiqB,OAAO1B,EAAE,IAAI2B,WAAWV,GAAGxpB,EAAEmqB,OAAOxB,EAAE,IAAIyB,WAAWZ,GAAGxpB,EAAEqqB,OAAO/B,EAAE,IAAIzC,WAAW2D,GAAGxpB,EAAEsqB,QAAQjC,EAAG,IAAIkC,YAAYf,GAAGxpB,EAAEwqB,QAAQxB,EAAE,IAAIyB,YAAYjB,GAAGxpB,EAAEyhB,QAAQwH,EAAG,IAAI5H,aAAamI,GAClgBxpB,EAAE0qB,QAAQxB,EAAG,IAAIyB,aAAanB,GAAGb,EAAE,KAAK,QAAyM,IAAIiC,EAAG,GAAGC,GAAG,GAAGC,GAAG,GAAGC,GAAG,GAAG,SAASC,KAAK,IAAI7Q,EAAEna,EAAEirB,OAAOvB,QAAQkB,EAAGhW,QAAQuF,GAAG,IAAI+Q,GAAE,EAAEC,GAAG,KAAKC,GAAG,KACnV,SAASrF,GAAE5L,GAA8C,MAAxCna,EAAEqrB,SAAQrrB,EAAEqrB,QAAQlR,GAAG8M,EAAG9M,GAAG+M,EAAE/M,GAAGyN,GAAG,EAAS,IAAIP,YAAYiE,aAAa,SAASnR,EAAE,gDAAiD,SAASoR,GAAGpR,GAAG,IAAI8G,EAAEuK,GAAE,OAAOla,OAAOhQ,UAAUmqB,WAAWxK,EAAEwK,WAAWtR,GAAG,IAAI8G,EAAEwF,QAAQtM,GAAG,SAASuR,KAAK,OAAOH,GAAG,yCAD6EvrB,EAAE2rB,gBAAgB,GAAG3rB,EAAE4rB,gBAAgB,GAC3E,IAAIJ,GAAE,eAAe,IAAIE,KAAK,CAAC,IAAIG,GAAGL,GAAEA,GAAExrB,EAAE8rB,WAAW9rB,EAAE8rB,WAAWD,GAAGtmB,GAAGA,EAAEsmB,GAChY,SAASE,KAAK,IAAI,GAAG/E,EAAG,OAAO,IAAInB,WAAWmB,GAAI,GAAGzB,EAAG,OAAOA,EAAGiG,IAAG,KAAK,kDAAmD,MAAMrR,GAAG4L,GAAE5L,IAA0R0Q,GAAGhkB,KAAK,CAAC8iB,GAAG,WAAWqC,QAAQ,IAAIC,GAAG,GACxc,SAASC,GAAG/R,GAAG,KAAKA,EAAE/X,QAAQ,CAAC,IAAI6e,EAAE9G,EAAEgS,MAAMhS,EAAEgS,KAAFhS,CAAQ8G,IAAI,SAASmL,GAAEjS,GAAG,OAAOtV,KAAKwnB,aAAarD,EAAE7O,GAAG,IAAI,IAAImS,GAAE,GAAGC,GAAE,GAAGC,GAAG,GAAG,SAASC,GAAGtS,GAAG,QAAG,IAASA,EAAE,MAAM,WAA6C,IAAI8G,GAAtC9G,EAAEA,EAAElR,QAAQ,iBAAiB,MAAaoN,WAAW,GAAG,OAAO,IAAI4K,GAAG,IAAIA,EAAE,IAAI9G,EAAEA,EAAE,SAASuS,GAAGvS,EAAE8G,GAAW,OAAR9G,EAAEsS,GAAGtS,GAAS,IAAKwS,SAAS,OAAO,mBAAmBxS,EAAE,uEAA1C,CAAmH8G,GACjZ,SAAS2L,GAAGzS,GAAG,IAAI8G,EAAErb,MAAM7F,EAAE2sB,GAAGvS,GAAE,SAASjI,GAAGrN,KAAK5E,KAAKka,EAAEtV,KAAKgoB,QAAQ3a,OAAmB,KAAjBA,EAAEtM,MAAMsM,GAAG4a,SAAmBjoB,KAAKioB,MAAMjoB,KAAKwC,WAAW,KAAK6K,EAAEjJ,QAAQ,qBAAqB,QAA4K,OAArKlJ,EAAEuB,UAAUlB,OAAOY,OAAOigB,EAAE3f,WAAWvB,EAAEuB,UAAUsB,YAAY7C,EAAEA,EAAEuB,UAAU+F,SAAS,WAAW,YAAO,IAASxC,KAAKgoB,QAAQhoB,KAAK5E,KAAK4E,KAAK5E,KAAK,KAAK4E,KAAKgoB,SAAgB9sB,EAAE,IAAIgtB,QAAG,EAAO,SAASC,GAAG7S,GAAG,MAAM,IAAI4S,GAAG5S,GACrY,SAAS8S,GAAE9S,EAAE8G,EAAElhB,GAAG,SAASmS,EAAEkP,IAAGA,EAAErhB,EAAEqhB,IAAKhf,SAAS+X,EAAE/X,QAAQ4qB,GAAG,mCAAmC,IAAI,IAAIxb,EAAE,EAAEA,EAAE2I,EAAE/X,SAASoP,EAAE0b,GAAE/S,EAAE3I,GAAG4P,EAAE5P,IAAI2I,EAAE3B,SAAQ,SAAS4I,GAAGoL,GAAGpL,GAAGH,KAAI,IAAInM,EAAE/O,MAAMkb,EAAE7e,QAAQ4e,EAAE,GAAGlhB,EAAE,EAAEmhB,EAAEzI,SAAQ,SAAS4I,EAAE5P,GAAG+a,GAAEhrB,eAAe6f,GAAGtM,EAAEtD,GAAG+a,GAAEnL,IAAIJ,EAAEna,KAAKua,GAAGkL,GAAE/qB,eAAe6f,KAAKkL,GAAElL,GAAG,IAAIkL,GAAElL,GAAGva,MAAK,WAAWiO,EAAEtD,GAAG+a,GAAEnL,KAAKthB,IAAMkhB,EAAE5e,QAAQ8P,EAAE4C,UAAQ,IAAIkM,EAAE5e,QAAQ8P,EAAE4C,GAAG,IAAIqY,GAAG,GAC9X,SAASC,GAAGjT,GAAG,OAAOA,GAAG,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,MAAM,IAAInY,UAAU,sBAAsBmY,IAAK,IAAIkT,QAAG,EAAO,SAASC,GAAEnT,GAAG,IAAI,IAAI8G,EAAE,GAAGqH,EAAEnO,IAAI8G,GAAGoM,GAAG/E,EAAEnO,MAAM,OAAO8G,EAAE,IAAIsM,QAAE,EAAO,SAASC,GAAErT,GAAG,MAAM,IAAIoT,GAAEpT,GAC7P,SAAS+S,GAAE/S,EAAE8G,EAAElhB,GAAW,GAARA,EAAEA,GAAG,KAAQ,mBAAmBkhB,GAAG,MAAM,IAAIjf,UAAU,2DAA2D,IAAIkQ,EAAE+O,EAAEhhB,KAAsE,GAAjEka,GAAGqT,GAAE,SAAStb,EAAE,iDAAoDqa,GAAEhrB,eAAe4Y,GAAG,CAAC,GAAGpa,EAAE0tB,GAAG,OAAOD,GAAE,yBAAyBtb,EAAE,WAAWqa,GAAEpS,GAAG8G,SAASuL,GAAGrS,GAAGmS,GAAE/qB,eAAe4Y,KAAK8G,EAAEqL,GAAEnS,UAAUmS,GAAEnS,GAAG8G,EAAEzI,SAAQ,SAAS1D,GAAGA,QAAO,SAAS4Y,GAAGvT,GAAG,MAAM,CAACV,MAAMU,EAAEV,MAAMkU,GAAGxT,EAAEwT,GAAGC,GAAGzT,EAAEyT,GAAGP,GAAGlT,EAAEkT,GAAGK,GAAGvT,EAAEuT,GAAGG,GAAG1T,EAAE0T,GAAGC,GAAG3T,EAAE2T,IAC5c,SAASC,GAAG5T,GAAGqT,GAAErT,EAAEgT,GAAGO,GAAGN,GAAGntB,KAAK,6BAA6B,IAAI+tB,IAAG,EAAG,SAASC,MAAM,SAASJ,GAAG1T,KAAKA,EAAEV,MAAM9Y,MAAM,IAAIwZ,EAAEV,MAAM9Y,QAAQwZ,EAAE0T,GAAG1T,EAAE2T,GAAGI,GAAG/T,EAAE0T,IAAI1T,EAAEuT,GAAGN,GAAGc,GAAG/T,EAAEkT,KAC1K,SAASa,GAAG/T,GAAG,MAAG,oBAAqBgU,mBAAyBD,GAAG,SAASjN,GAAG,OAAOA,GAAG9G,IAAE6T,GAAG,IAAIG,mBAAkB,SAASlN,GAAG,IAAI,IAAIlhB,EAAEkhB,EAAEmN,QAAQruB,EAAE0E,KAAK1E,EAAEkhB,EAAEmN,QAAOruB,EAAEA,EAAEY,OAAQ0sB,GAAGQ,GAAG9tB,GAAGwiB,QAAQ8D,KAAK,2BAA2BtmB,EAAEstB,OAAwDY,GAAG,SAAShN,GAAG+M,GAAGK,WAAWpN,EAAEkM,MAAjFe,GAAG,SAASjN,GAA4B,OAAzB+M,GAAGM,SAASrN,EAAEA,EAAEkM,GAAGlM,EAAEkM,IAAWlM,IAAiD9G,IAAG,IAAI2T,QAAG,EAAOS,GAAG,GAAG,SAASC,KAAK,KAAKD,GAAGnsB,QAAQ,CAAC,IAAI+X,EAAEoU,GAAGpC,MAAMhS,EAAEgT,GAAGQ,IAAG,EAAGxT,EAAU,UAAK,SAASsU,MAAK,IAAId,GAAG,GAC/b,SAASe,GAAGvU,EAAE8G,EAAElhB,GAAG,QAAG,IAASoa,EAAE8G,GAAG+M,GAAG,CAAC,IAAI9b,EAAEiI,EAAE8G,GAAG9G,EAAE8G,GAAG,WAA6K,OAAlK9G,EAAE8G,GAAG+M,GAAGzsB,eAAewD,UAAU3C,SAASorB,GAAE,aAAaztB,EAAE,iDAAiDgF,UAAU3C,OAAO,uBAAuB+X,EAAE8G,GAAG+M,GAAG,MAAa7T,EAAE8G,GAAG+M,GAAGjpB,UAAU3C,QAAQ4C,MAAMH,KAAKE,YAAYoV,EAAE8G,GAAG+M,GAAG,GAAG7T,EAAE8G,GAAG+M,GAAG9b,EAAEyc,IAAIzc,GACtT,SAAS0b,GAAGzT,EAAE8G,EAAElhB,GAAGC,EAAEuB,eAAe4Y,UAAK,IAASpa,QAAG,IAASC,EAAEma,GAAG6T,SAAI,IAAShuB,EAAEma,GAAG6T,GAAGjuB,KAAKytB,GAAE,gCAAgCrT,EAAE,WAAWuU,GAAG1uB,EAAEma,EAAEA,GAAGna,EAAEuB,eAAexB,IAAIytB,GAAE,uFAAuFztB,EAAE,MAAMC,EAAEma,GAAG6T,GAAGjuB,GAAGkhB,IAAIjhB,EAAEma,GAAG8G,OAAE,IAASlhB,IAAIC,EAAEma,GAAGyU,GAAG7uB,IAAI,SAAS8uB,GAAG1U,EAAE8G,EAAElhB,EAAEmS,EAAE4C,EAAEkM,EAAElhB,EAAEshB,GAAGvc,KAAK5E,KAAKka,EAAEtV,KAAKjC,YAAYqe,EAAEpc,KAAK6pB,GAAG3uB,EAAE8E,KAAKqpB,GAAGhc,EAAErN,KAAK0pB,GAAGzZ,EAAEjQ,KAAKiqB,GAAG9N,EAAEnc,KAAKkqB,GAAGjvB,EAAE+E,KAAKmqB,GAAG5N,EAAEvc,KAAKoqB,GAAG,GAC3b,SAASF,GAAG5U,EAAE8G,EAAElhB,GAAG,KAAKkhB,IAAIlhB,GAAGkhB,EAAE8N,IAAIvB,GAAE,gCAAgCztB,EAAEE,KAAK,wBAAwBghB,EAAEhhB,MAAMka,EAAE8G,EAAE8N,GAAG5U,GAAG8G,EAAEA,EAAEsN,GAAG,OAAOpU,EAAE,SAASwU,GAAGxU,EAAE8G,GAAG,OAAG,OAAOA,GAASpc,KAAKqqB,IAAI1B,GAAE,uBAAuB3oB,KAAK5E,MAAM,IAAEghB,EAAEkM,IAAIK,GAAE,gBAAgB2B,GAAElO,GAAG,UAAUpc,KAAK5E,MAAMghB,EAAEkM,GAAGE,IAAIG,GAAE,mDAAmD3oB,KAAK5E,MAAa8uB,GAAG9N,EAAEkM,GAAGE,GAAGpM,EAAEkM,GAAGO,GAAGN,GAAGvoB,KAAKuoB,KACxX,SAASgC,GAAGjV,EAAE8G,GAAG,GAAG,OAAOA,EAAE,CAA8C,GAA7Cpc,KAAKqqB,IAAI1B,GAAE,uBAAuB3oB,KAAK5E,MAAS4E,KAAKwqB,GAAG,CAAC,IAAItvB,EAAE8E,KAAKgqB,KAAiC,OAA5B,OAAO1U,GAAGA,EAAEtT,KAAKhC,KAAKqpB,GAAGnuB,GAAUA,EAAE,OAAO,EAA8R,GAA5RkhB,EAAEkM,IAAIK,GAAE,gBAAgB2B,GAAElO,GAAG,UAAUpc,KAAK5E,MAAMghB,EAAEkM,GAAGE,IAAIG,GAAE,mDAAmD3oB,KAAK5E,OAAO4E,KAAKuqB,IAAInO,EAAEkM,GAAGO,GAAG0B,IAAI5B,GAAE,oCAAoCvM,EAAEkM,GAAGW,GAAG7M,EAAEkM,GAAGW,GAAG7tB,KAAKghB,EAAEkM,GAAGO,GAAGztB,MAAM,sBAAsB4E,KAAK5E,MAAMF,EAAEgvB,GAAG9N,EAAEkM,GAAGE,GAAGpM,EAAEkM,GAAGO,GAAGN,GAAGvoB,KAAKuoB,IAAOvoB,KAAKwqB,GAAG,YAAO,IAASpO,EAAEkM,GAAGU,IAAIL,GAAE,mDACvd3oB,KAAKyqB,IAAI,KAAK,EAAErO,EAAEkM,GAAGW,KAAKjpB,KAAK9E,EAAEkhB,EAAEkM,GAAGU,GAAGL,GAAE,oCAAoCvM,EAAEkM,GAAGW,GAAG7M,EAAEkM,GAAGW,GAAG7tB,KAAKghB,EAAEkM,GAAGO,GAAGztB,MAAM,sBAAsB4E,KAAK5E,MAAM,MAAM,KAAK,EAAEF,EAAEkhB,EAAEkM,GAAGU,GAAG,MAAM,KAAK,EAAE,GAAG5M,EAAEkM,GAAGW,KAAKjpB,KAAK9E,EAAEkhB,EAAEkM,GAAGU,OAAO,CAAC,IAAI3b,EAAE+O,EAAEsO,QAAQxvB,EAAE8E,KAAK2qB,GAAGzvB,EAAE0vB,IAAE,WAAWvd,EAAU,aAAO,OAAOiI,GAAGA,EAAEtT,KAAKhC,KAAKqpB,GAAGnuB,GAAG,MAAM,QAAQytB,GAAE,+BAA+B,OAAOztB,EACpW,SAASsvB,GAAGlV,EAAE8G,GAAG,OAAG,OAAOA,GAASpc,KAAKqqB,IAAI1B,GAAE,uBAAuB3oB,KAAK5E,MAAM,IAAEghB,EAAEkM,IAAIK,GAAE,gBAAgB2B,GAAElO,GAAG,UAAUpc,KAAK5E,MAAMghB,EAAEkM,GAAGE,IAAIG,GAAE,mDAAmD3oB,KAAK5E,MAAMghB,EAAEkM,GAAGO,GAAG0B,IAAI5B,GAAE,mCAAmCvM,EAAEkM,GAAGO,GAAGztB,KAAK,sBAAsB4E,KAAK5E,MAAa8uB,GAAG9N,EAAEkM,GAAGE,GAAGpM,EAAEkM,GAAGO,GAAGN,GAAGvoB,KAAKuoB,KAAkH,IAAIsC,GAAG,GAClW,SAASC,GAAGxV,EAAE8G,GAAwJ,OAArJA,EAAEyM,IAAIzM,EAAEoM,IAAIL,GAAG,8CAA8C/L,EAAE6M,MAAO7M,EAAE4M,IAAIb,GAAG,oDAAoD/L,EAAExH,MAAM,CAAC9Y,MAAM,GAAUutB,GAAG9tB,OAAOY,OAAOmZ,EAAE,CAACgT,GAAG,CAACxsB,MAAMsgB,MACjT,SAAS2O,GAAEzV,EAAE8G,EAAElhB,EAAEmS,GAAGrN,KAAK5E,KAAKka,EAAEtV,KAAKuoB,GAAGnM,EAAEpc,KAAKqqB,GAAGnvB,EAAE8E,KAAKuqB,GAAGld,EAAErN,KAAKwqB,IAAG,EAAGxqB,KAAKqpB,GAAGrpB,KAAK2qB,GAAG3qB,KAAKgqB,GAAGhqB,KAAKgrB,GAAGhrB,KAAKyqB,GAAGzqB,KAAKirB,QAAG,OAAO,IAAS7O,EAAEsN,GAAG1pB,KAAKkrB,WAAWX,IAAIvqB,KAAKkrB,WAAW7d,EAAEyc,GAAGU,GAAGxqB,KAAKopB,GAAG,MAAM,SAASiB,GAAG/U,EAAE8G,EAAElhB,GAAGC,EAAEuB,eAAe4Y,IAAI6S,GAAG,4CAAuC,IAAShtB,EAAEma,GAAG6T,SAAI,IAASjuB,EAAEC,EAAEma,GAAG6T,GAAGjuB,GAAGkhB,GAAGjhB,EAAEma,GAAG8G,EAAEjhB,EAAEma,GAAGwU,GAAG5uB,GACpV,SAASsa,GAAEF,EAAE8G,GAAG9G,EAAEmT,GAAEnT,GAAyB,IAAtB,IAAIpa,EAAEC,EAAE,WAAWma,GAAWjI,EAAE,GAAG4C,EAAE,EAAEA,EAAEqF,EAAE/X,SAAS0S,EAAE5C,EAAErL,KAAK,IAAIiO,GAAoR,OAAjRA,EAAE,2BAA4BqF,EAAE,IAAI8G,EAAG,IAAI/O,EAAEnL,KAAK,MAAM,QAAQ+N,GAAG,kCAAkC5C,EAAE9P,OAAO,KAAK,IAAI8P,EAAEnL,KAAK,MAAM,OAA+D,mBAAxDhH,EAAE,IAAK4sB,SAAS,UAAU,cAAc7X,EAAE,OAAxC,CAAiD/U,EAAEkhB,KAA0BuM,GAAE,2CAA2CrT,EAAE,KAAK8G,GAAUlhB,EAAE,IAAIiwB,QAAG,EAAO,SAASC,GAAG9V,GAAW,IAAI8G,EAAEqM,GAAdnT,EAAE+V,GAAG/V,IAAmB,OAALgW,GAAEhW,GAAU8G,EACjb,SAASmP,GAAGjW,EAAE8G,GAA0E,IAAI/O,EAAE,GAAG4C,EAAE,GAAgB,MAAbmM,EAAEzI,SAAvF,SAASzY,EAAEihB,GAAGlM,EAAEkM,IAAIuL,GAAEvL,KAAKwL,GAAGxL,GAAGwL,GAAGxL,GAAGxI,QAAQzY,IAAImS,EAAErL,KAAKma,GAAGlM,EAAEkM,IAAG,OAAsC,IAAIgP,GAAG7V,EAAE,KAAKjI,EAAEuG,IAAIwX,IAAIlpB,KAAK,CAAC,QAAS,SAAS8oB,GAAG1V,EAAE8G,GAAG,IAAI,IAAIlhB,EAAE,GAAGmS,EAAE,EAAEA,EAAEiI,EAAEjI,IAAInS,EAAE8G,KAAK8hB,GAAG1H,GAAG,GAAG/O,IAAI,OAAOnS,EACrO,SAASyiB,GAAGrI,GAAG,IAAI8G,EAAE0L,SAAS,KAAK1L,aAAa0L,UAAU,MAAM,IAAI3qB,UAAU,4CAA4Cif,EAAE,4BAA4B,IAAIlhB,EAAE2sB,GAAGzL,EAAEhhB,MAAM,uBAAsB,eAA6D,OAA/CF,EAAEuB,UAAU2f,EAAE3f,UAAUvB,EAAE,IAAIA,GAAEoa,EAAE8G,EAAEjc,MAAMjF,EAAEoa,cAAuB/Z,OAAO+Z,EAAEpa,EACzR,SAASswB,GAAGlW,EAAE8G,EAAElhB,EAAEmS,EAAE4C,GAAG,IAAIkM,EAAEC,EAAE7e,OAAO,EAAE4e,GAAGwM,GAAE,kFAAkF,IAAI1tB,EAAE,OAAOmhB,EAAE,IAAI,OAAOlhB,EAAEqhB,GAAE,EAAG,IAAIrhB,EAAE,EAAEA,EAAEkhB,EAAE7e,SAASrC,EAAE,GAAG,OAAOkhB,EAAElhB,SAAI,IAASkhB,EAAElhB,GAAGkuB,GAAG,CAAC7M,GAAE,EAAG,MAAM,IAAI5P,EAAE,SAASyP,EAAE,GAAGhhB,KAAKN,EAAE,GAAGwB,EAAE,GAAG,IAAIpB,EAAE,EAAEA,EAAEihB,EAAE,IAAIjhB,EAAEJ,IAAI,IAAII,EAAE,KAAK,IAAI,MAAMA,EAAEoB,IAAI,IAAIpB,EAAE,KAAK,IAAI,MAAMA,EAAE,QAAQoa,EAAE,mBAAmBsS,GAAGtS,GAAG,IAAIxa,EAAE,kCAAkCqhB,EAAE,GAAG,oCAAoC7G,EAAE,8DACpc6G,EAAE,GAAG,iBAAiBI,IAAIjH,GAAG,2BAA2B,IAAI3Y,EAAE4f,EAAE,cAAc,OAA4K,IAArKzhB,EAAE,iEAAiEyI,MAAM,KAAK8J,EAAE,CAACsb,GAAEtb,EAAE4C,EAAEoX,GAAGjL,EAAE,GAAGA,EAAE,IAAInhB,IAAIqa,GAAG,yCAAyC3Y,EAAE,cAAkBzB,EAAE,EAAEA,EAAEihB,EAAE,IAAIjhB,EAAEoa,GAAG,UAAUpa,EAAE,kBAAkBA,EAAE,eAAeyB,EAAE,QAAQzB,EAAE,SAASkhB,EAAElhB,EAAE,GAAGE,KAAK,KAAKN,EAAEkH,KAAK,UAAU9G,GAAGmS,EAAErL,KAAKoa,EAAElhB,EAAE,IAA+G,GAA3GD,IAAIqB,EAAE,aAAa,EAAEA,EAAEiB,OAAO,KAAK,IAAIjB,GAAGgZ,IAAI3I,EAAE,YAAY,IAAI,cAAc,EAAErQ,EAAEiB,OAAO,KAAK,IAAIjB,EAAE,OAAUigB,EAAEjH,GACxf,sCAAsC,IAAIpa,EAAED,EAAE,EAAE,EAAEC,EAAEkhB,EAAE7e,SAASrC,EAAEihB,EAAE,IAAIjhB,EAAE,YAAY,OAAOA,EAAE,GAAG,QAAQ,OAAOkhB,EAAElhB,GAAGkuB,KAAK9T,GAAG6G,EAAE,SAASA,EAAE,SAASC,EAAElhB,GAAGE,KAAK,KAAKN,EAAEkH,KAAKma,EAAE,SAAS9O,EAAErL,KAAKoa,EAAElhB,GAAGkuB,KAAkF,OAA7Ezc,IAAI2I,GAAG,sDAAsDxa,EAAEkH,KAAKsT,EAAE,OAAcqI,GAAG7iB,GAAGqF,MAAM,KAAKkN,GAAG,IAAI8c,GAAG,GAAGsB,GAAE,CAAC,GAAG,CAAC3vB,WAAM,GAAQ,CAACA,MAAM,MAAM,CAACA,OAAM,GAAI,CAACA,OAAM,IAAK,SAAS4vB,GAAGpW,GAAG,EAAEA,GAAG,KAAMmW,GAAEnW,GAAG6V,KAAKM,GAAEnW,QAAG,EAAO6U,GAAGnoB,KAAKsT,IACxa,SAASsV,GAAEtV,GAAG,OAAOA,GAAG,UAAK,EAAO,OAAO,EAAE,KAAK,KAAK,OAAO,EAAE,KAAK,EAAG,OAAO,EAAE,KAAK,EAAG,OAAO,EAAE,QAAQ,IAAI8G,EAAE+N,GAAG5sB,OAAO4sB,GAAG7C,MAAMmE,GAAEluB,OAA2B,OAApBkuB,GAAErP,GAAG,CAAC+O,GAAG,EAAErvB,MAAMwZ,GAAU8G,GAAG,SAAS0I,GAAGxP,EAAE8G,EAAElhB,GAAG,OAAOkhB,GAAG,KAAK,EAAE,OAAO,SAAS/O,GAAG,OAAOrN,KAAKwnB,cAActsB,EAAEgpB,EAAGT,GAAGpW,KAAK,KAAK,EAAE,OAAO,SAASA,GAAG,OAAOrN,KAAKwnB,cAActsB,EAAEwoB,EAAEF,GAAInW,GAAG,KAAK,KAAK,EAAE,OAAO,SAASA,GAAG,OAAOrN,KAAKwnB,cAActsB,EAAE4oB,EAAEK,GAAG9W,GAAG,KAAK,QAAQ,MAAM,IAAIlQ,UAAU,yBAAyBmY,IACpc,SAAS2U,GAAG3U,EAAE8G,GAAG,IAAIlhB,EAAEwsB,GAAEpS,GAA+C,YAA5C,IAASpa,GAAGytB,GAAEvM,EAAE,qBAAqBgP,GAAG9V,IAAWpa,EAAE,SAASovB,GAAEhV,GAAG,GAAG,OAAOA,EAAE,MAAM,OAAO,IAAI8G,SAAS9G,EAAE,MAAM,WAAW8G,GAAG,UAAUA,GAAG,aAAaA,EAAE9G,EAAE9S,WAAW,GAAG8S,EAAE,SAASqW,GAAGrW,EAAE8G,GAAG,OAAOA,GAAG,KAAK,EAAE,OAAO,SAASlhB,GAAG,OAAO8E,KAAKwnB,aAAapD,EAAGlpB,GAAG,KAAK,KAAK,EAAE,OAAO,SAASA,GAAG,OAAO8E,KAAKwnB,aAAanD,EAAGnpB,GAAG,KAAK,QAAQ,MAAM,IAAIiC,UAAU,uBAAuBmY,IACnZ,SAASsT,GAAGtT,EAAE8G,EAAElhB,GAAG,OAAOkhB,GAAG,KAAK,EAAE,OAAOlhB,EAAE,SAASmS,GAAG,OAAO6W,EAAG7W,IAAI,SAASA,GAAG,OAAOoW,EAAEpW,IAAI,KAAK,EAAE,OAAOnS,EAAE,SAASmS,GAAG,OAAOqW,EAAErW,GAAG,IAAI,SAASA,GAAG,OAAOmW,EAAGnW,GAAG,IAAI,KAAK,EAAE,OAAOnS,EAAE,SAASmS,GAAG,OAAOyW,EAAEzW,GAAG,IAAI,SAASA,GAAG,OAAO8W,EAAE9W,GAAG,IAAI,QAAQ,MAAM,IAAIlQ,UAAU,yBAAyBmY,IAAK,IAAIsW,GAAG,GAAG,SAASX,GAAG3V,GAAG,IAAI8G,EAAEwP,GAAGtW,GAAG,YAAO,IAAS8G,EAAEqM,GAAEnT,GAAG8G,EAAE,IAAIgO,GAAG,GAAG,SAASO,GAAGrV,GAA+C,OAA5CA,GAAGqT,GAAE,oCAAoCrT,GAAUmW,GAAEnW,GAAGxZ,MAC1b,SAAS2uB,KAAK,MAAM,iBAAkBoB,WAAWA,WAAW/D,SAAS,cAATA,GAA0K,IAAIgE,GAAG,GAAGC,GAAG,CAAC,KAAK,GAAG,IAAI7D,GAAG/sB,EAAE6wB,cAAcjE,GAAG,iBAAiB,IAAI,IAAIkE,GAAG/qB,MAAM,KAAKgrB,GAAG,EAAE,IAAIA,KAAKA,GAAGD,GAAGC,IAAIzf,OAAO4W,aAAa6I,IAAI1D,GAAGyD,GAAGvD,GAAEvtB,EAAEgxB,aAAapE,GAAG,gBACvY6B,GAAEntB,UAAU2vB,UAAU,SAAS9W,GAAG,KAAKtV,gBAAgB4pB,IAAGtU,aAAasU,IAAG,OAAM,EAAG,IAAIxN,EAAEpc,KAAKsoB,GAAGO,GAAGN,GAAGrtB,EAAE8E,KAAKsoB,GAAGE,GAAGnb,EAAEiI,EAAEgT,GAAGO,GAAGN,GAAG,IAAIjT,EAAEA,EAAEgT,GAAGE,GAAGpM,EAAEsN,IAAIxuB,EAAEkhB,EAAE8N,GAAGhvB,GAAGkhB,EAAEA,EAAEsN,GAAG,KAAKrc,EAAEqc,IAAIpU,EAAEjI,EAAE6c,GAAG5U,GAAGjI,EAAEA,EAAEqc,GAAG,OAAOtN,IAAI/O,GAAGnS,IAAIoa,GAAGsU,GAAEntB,UAAUiuB,MAAM,WAAgC,GAArB1qB,KAAKsoB,GAAGE,IAAIU,GAAGlpB,MAASA,KAAKsoB,GAAGS,GAAG,OAAO/oB,KAAKsoB,GAAG1T,MAAM9Y,OAAO,EAAEkE,KAAK,IAAIsV,EAAE+T,GAAG9tB,OAAOY,OAAOZ,OAAOwB,eAAeiD,MAAM,CAACsoB,GAAG,CAACxsB,MAAM+sB,GAAG7oB,KAAKsoB,QAAuC,OAA/BhT,EAAEgT,GAAG1T,MAAM9Y,OAAO,EAAEwZ,EAAEgT,GAAGQ,IAAG,EAAUxT,GAC9asU,GAAEntB,UAAkB,OAAE,WAAWuD,KAAKsoB,GAAGE,IAAIU,GAAGlpB,MAAMA,KAAKsoB,GAAGQ,KAAK9oB,KAAKsoB,GAAGS,IAAIJ,GAAE,yCAAyCS,GAAGppB,MAAMgpB,GAAGhpB,KAAKsoB,IAAItoB,KAAKsoB,GAAGS,KAAK/oB,KAAKsoB,GAAGU,QAAG,EAAOhpB,KAAKsoB,GAAGE,QAAG,IAASoB,GAAEntB,UAAU4vB,UAAU,WAAW,OAAOrsB,KAAKsoB,GAAGE,IAAIoB,GAAEntB,UAAU6vB,YAAY,WAA0J,OAA/ItsB,KAAKsoB,GAAGE,IAAIU,GAAGlpB,MAAMA,KAAKsoB,GAAGQ,KAAK9oB,KAAKsoB,GAAGS,IAAIJ,GAAE,yCAAyCe,GAAG1nB,KAAKhC,MAAM,IAAI0pB,GAAGnsB,QAAQ0rB,IAAIA,GAAGU,IAAI3pB,KAAKsoB,GAAGQ,IAAG,EAAU9oB,MAAM+qB,GAAEtuB,UAAUkvB,GAAG,SAASrW,GAA2B,OAAxBtV,KAAKgrB,KAAK1V,EAAEtV,KAAKgrB,GAAG1V,IAAWA,GAC/eyV,GAAEtuB,UAAU8vB,GAAG,SAASjX,GAAGtV,KAAKqpB,IAAIrpB,KAAKqpB,GAAG/T,IAAIyV,GAAEtuB,UAAU+vB,eAAe,EAAEzB,GAAEtuB,UAAUgwB,qBAAqBlF,GAAEwD,GAAEtuB,UAAUiwB,aAAa,SAASpX,GAAM,OAAOA,GAAEA,EAAU,UAC3KyV,GAAEtuB,UAAU+qB,aAAa,SAASlS,GAAG,SAAS8G,IAAI,OAAOpc,KAAKwqB,GAAGM,GAAG9qB,KAAKuoB,GAAGsB,GAAG,CAAChB,GAAG7oB,KAAKirB,GAAGzC,GAAGttB,EAAE+tB,GAAGjpB,KAAKgpB,GAAG1T,IAAIwV,GAAG9qB,KAAKuoB,GAAGsB,GAAG,CAAChB,GAAG7oB,KAAKwoB,GAAGlT,IAAI,IAAIpa,EAAE8E,KAAK2rB,GAAGrW,GAAG,IAAIpa,EAAE,OAAO8E,KAAKusB,GAAGjX,GAAG,KAAK,IAAIjI,EAf/L,SAAYiI,EAAE8G,GAAG,SAAI,IAASA,GAAGuM,GAAE,+BAA+BrT,EAAEoU,IAAItN,EAAE9G,EAAE4U,GAAG9N,GAAG9G,EAAEA,EAAEoU,GAAG,OAAOmB,GAAGzO,GAe8FuQ,CAAG3sB,KAAKuoB,GAAGrtB,GAAG,QAAG,IAASmS,EAAG,OAAG,IAAIA,EAAEib,GAAG1T,MAAM9Y,OAAauR,EAAEib,GAAGE,GAAGttB,EAAEmS,EAAEib,GAAGU,GAAG1T,EAAEjI,EAAEqd,UAAQrd,EAAEA,EAAEqd,QAAQ1qB,KAAKusB,GAAGjX,GAAUjI,GAA0B,GAAxBA,EAAErN,KAAKuoB,GAAG0B,GAAG/uB,KAAGmS,EAAEyb,GAAGzb,IAAS,OAAO+O,EAAEphB,KAAKgF,MAAMqN,EAAErN,KAAKuqB,GAAGld,EAAEme,GAAGne,EAAEuf,YAAY,IAAI3c,EAhB3D,SAAS8U,EAAGzP,EAAE8G,EAAElhB,GAAG,OAAGkhB,IAAIlhB,EAASoa,OAAK,IAASpa,EAAEwuB,IAAqC,QAAtBpU,EAAEyP,EAAGzP,EAAE8G,EAAElhB,EAAEwuB,KAAhB,KAAyCxuB,EAAEivB,GAAG7U,GAgB9CyP,CAAG7pB,EAAE8E,KAAKuoB,GAAGlb,EAAEkb,IAAI,OAAO,OAAOtY,EAAEmM,EAAEphB,KAAKgF,MAAMA,KAAKwqB,GAAGM,GAAGzd,EAAEkb,GAAGsB,GAAG,CAAChB,GAAGxb,EAAEmb,GAAGvY,EAAEgZ,GAAGjpB,KAAKgpB,GAAG1T,IAAIwV,GAAGzd,EAAEkb,GAAGsB,GACrf,CAAChB,GAAGxb,EAAEmb,GAAGvY,KAAK9U,EAAE0xB,0BAA0B,WAAW,OAAOtxB,OAAOuI,KAAK+mB,IAAIttB,QAAQpC,EAAE2xB,0BAA0B,WAAW,IAAS1Q,EAAL9G,EAAE,GAAK,IAAI8G,KAAKyO,GAAGA,GAAGnuB,eAAe0f,IAAI9G,EAAEtT,KAAK6oB,GAAGzO,IAAI,OAAO9G,GAAGna,EAAE4xB,oBAAoBpD,GAAGxuB,EAAE6xB,iBAAiB,SAAS1X,GAAG2T,GAAG3T,EAAEoU,GAAGnsB,QAAQ0rB,IAAIA,GAAGU,KAAKwB,GAAGhwB,EAAE8xB,iBAAiBlF,GAAG,oBAAoB5sB,EAAE+xB,oBAAoB,WAAW,IAAI,IAAI5X,EAAE,EAAE8G,EAAE,EAAEA,EAAEqP,GAAEluB,SAAS6e,OAAE,IAASqP,GAAErP,MAAM9G,EAAE,OAAOA,GAAGna,EAAEgyB,gBAAgB,WAAW,IAAI,IAAI7X,EAAE,EAAEA,EAAEmW,GAAEluB,SAAS+X,EAAE,QAAG,IAASmW,GAAEnW,GAAG,OAAOmW,GAAEnW,GAAG,OAAO,MAC1f,IAAI8X,GAAG,CAACxwB,EAAE,SAAS0Y,GAAG,IAAI8G,EAAEgL,GAAG9R,UAAU8R,GAAG9R,GAAG,IAAIpa,EAAEkhB,EAAEiR,SAAShgB,EAAEnS,EAAEqC,OAAO0S,EAAE/U,EAAE0Y,KAAI,SAAS2I,GAAG,OAAOA,EAAEuO,MAAK5e,OAAOhR,EAAE0Y,KAAI,SAAS2I,GAAG,OAAOA,EAAE8O,OAAMlP,EAAEC,EAAE4N,GAAG/uB,EAAEmhB,EAAEiN,GAAGjB,GAAE,CAAC9S,GAAGrF,GAAE,SAASsM,GAA8L,OAA3LrhB,EAAEyY,SAAQ,SAAShH,EAAE7R,GAAG,IAAIwB,EAAEigB,EAAEzhB,GAAG6B,EAAEgQ,EAAEke,GAAG1V,EAAExI,EAAEggB,GAAG5wB,EAAEwgB,EAAEzhB,EAAEuS,GAAGmF,EAAE7F,EAAEye,GAAGkC,EAAE3gB,EAAE4gB,GAAG5gB,EAAEyU,KAAK,SAAS/L,GAAG,OAAO/Y,EAAEkrB,aAAa7qB,EAAEwY,EAAEE,KAAK1I,EAAE6gB,MAAM,SAASnY,EAAEoY,GAAG,IAAIlY,EAAE,GAAG/C,EAAE8a,EAAEjY,EAAEtZ,EAAEmvB,WAAW3V,EAAEkY,IAAIpG,GAAG9R,OAAY,CAAC,CAACna,KAAKghB,EAAEhhB,KAAKosB,aAAa,SAAS7a,GAAG,IAAI,IAAI7R,EAAEoG,MAAMmM,GAAG/Q,EAAE,EAAEA,EAAE+Q,IAAI/Q,EAAExB,EAAEwB,GAAGpB,EAAEoB,GAAG8kB,KAAKzU,GAAQ,OAAL1R,EAAE0R,GAAU7R,GAAGowB,WAAW,SAASve,EACnf7R,GAAG,GAAGuS,IAAIvS,EAAEyC,OAAO,MAAM,IAAIJ,UAAU,0CAA0Cif,EAAEhhB,KAAK,cAAciS,EAAE,YAAYvS,EAAEyC,QAAQ,IAAI,IAAIjB,EAAE6f,IAAIxf,EAAE,EAAEA,EAAE0Q,IAAI1Q,EAAEzB,EAAEyB,GAAG6wB,MAAMlxB,EAAExB,EAAE6B,IAA0B,OAAtB,OAAOgQ,GAAGA,EAAE3K,KAAK/G,EAAEqB,GAAUA,GAAGkwB,eAAe,EAAEC,qBAAqBlF,GAAE6B,GAAGnuB,QAAOwP,EAAE,SAAS6K,GAAG,IAAI8G,EAAEkM,GAAGhT,UAAUgT,GAAGhT,GAAG,IAAIpa,EAAEkhB,EAAE4N,GAAG3c,EAAE+O,EAAEiN,GAAGpZ,EAAEmM,EAAEmP,GAA6EnD,GAAE,CAAC9S,GAA3ErF,EAAE2D,KAAI,SAAS3Y,GAAG,OAAOA,EAAE6vB,MAAK5e,OAAO+D,EAAE2D,KAAI,SAAS3Y,GAAG,OAAOA,EAAEowB,QAAc,SAASpwB,GAAG,IAAIshB,EAAE,GAChT,OADmTtM,EAAE0D,SAAQ,SAAShH,EAAE7R,GAAG,IAAIwB,EAAErB,EAAEH,GAAG6B,EAAEgQ,EAAEke,GAAG1V,EAAExI,EAAEggB,GAAG5wB,EAAEd,EAAEH,EAAEmV,EAAE1S,QAAQiV,EAAE7F,EAAEye,GAAGkC,EAAE3gB,EAAE4gB,GAAGhR,EAAE5P,EAAE+e,IACvf,CAACtK,KAAK,SAAS/L,GAAG,OAAO/Y,EAAEkrB,aAAa7qB,EAAEwY,EAAEE,KAAKmY,MAAM,SAASnY,EAAEoY,GAAG,IAAIlY,EAAE,GAAG/C,EAAE8a,EAAEjY,EAAEtZ,EAAEmvB,WAAW3V,EAAEkY,IAAIpG,GAAG9R,QAAa,CAAC,CAACna,KAAKghB,EAAEhhB,KAAKosB,aAAa,SAAS7a,GAAG,IAASrQ,EAALxB,EAAE,GAAK,IAAIwB,KAAKigB,EAAEzhB,EAAEwB,GAAGigB,EAAEjgB,GAAG8kB,KAAKzU,GAAQ,OAALU,EAAEV,GAAU7R,GAAGowB,WAAW,SAASve,EAAE7R,GAAG,IAAI,IAAIwB,KAAKigB,EAAE,KAAKjgB,KAAKxB,GAAG,MAAM,IAAIqC,UAAU,iBAAiB,IAAIR,EAAEzB,IAAI,IAAIoB,KAAKigB,EAAEA,EAAEjgB,GAAGkxB,MAAM7wB,EAAE7B,EAAEwB,IAA0B,OAAtB,OAAOqQ,GAAGA,EAAE3K,KAAKqL,EAAE1Q,GAAUA,GAAG6vB,eAAe,EAAEC,qBAAqBlF,GAAE6B,GAAG/b,QAAOsX,EAAE,SAASrP,EAAE8G,EAAElhB,EAAEmS,EAAE4C,GAAG,IAAIkM,EAAEoM,GAAGrtB,GAAUmtB,GAAE/S,EAAE,CAACla,KAAZghB,EAAEqM,GAAErM,GAAeoL,aAAa,SAASvsB,GAAG,QAAQA,GAC/fiwB,WAAW,SAASjwB,EAAEshB,GAAG,OAAOA,EAAElP,EAAE4C,GAAGuc,eAAe,EAAEC,qBAAqB,SAASxxB,GAAG,GAAG,IAAIC,EAAE,IAAIqhB,EAAE2H,OAAQ,GAAG,IAAIhpB,EAAEqhB,EAAEmH,MAAO,IAAG,IAAIxoB,EAAW,MAAM,IAAIiC,UAAU,8BAA8Bif,GAA3DG,EAAEuH,EAA4D,OAAO9jB,KAAKwnB,aAAajL,EAAEthB,GAAGkhB,KAAKiN,GAAG,QAAQzc,EAAE,SAAS2I,EAAE8G,EAAElhB,EAAEmS,EAAE4C,EAAEkM,EAAElhB,EAAEshB,EAAE5P,EAAE7R,EAAEwB,EAAEK,EAAEwY,GAAG7Y,EAAEmsB,GAAEnsB,GAAG6f,EAAE3G,GAAEvF,EAAEkM,GAAGI,IAAIA,EAAE/G,GAAEva,EAAEshB,IAAIzhB,IAAIA,EAAE0a,GAAE7I,EAAE7R,IAAIqa,EAAEK,GAAE7Y,EAAEwY,GAAG,IAAIpZ,EAAE6rB,GAAGtrB,GAAGysB,GAAGhtB,GAAE,WAAWwvB,GAAG,oBAAoBjvB,EAAE,wBAAwB,CAAC+Q,OAAM+a,GAAE,CAAC9S,EAAE8G,EAAElhB,GAAGmS,EAAE,CAACA,GAAG,IAAG,SAASmF,GAAU,GAAPA,EAAEA,EAAE,GAAMnF,EAAG,IAAIigB,EAAE9a,EAAE+V,GAAOlT,EAAEiY,EAAEzD,QAAQxU,EAAEuU,GAAEntB,UACjf+V,EAAEqV,GAAG9rB,GAAE,WAAW,GAAGR,OAAOwB,eAAeiD,QAAQytB,EAAE,MAAM,IAAI/E,GAAE,0BAA0BpsB,GAAG,QAAG,IAASiZ,EAAEoU,GAAG,MAAM,IAAIjB,GAAEpsB,EAAE,kCAAkC,IAAIixB,EAAGhY,EAAEoU,GAAGzpB,UAAU3C,QAAQ,QAAG,IAASgwB,EAAG,MAAM,IAAI7E,GAAE,2BAA2BpsB,EAAE,uCAAuC4D,UAAU3C,OAAO,iBAAiBhC,OAAOuI,KAAKyR,EAAEoU,IAAInnB,WAAW,yBAAyB,OAAO+qB,EAAGptB,MAAMH,KAAKE,cAAa,IAAIutB,EAAElyB,OAAOY,OAAOkZ,EAAE,CAACtX,YAAY,CAACjC,MAAM0W,KAAKA,EAAE/V,UAAUgxB,EAAE,IAAIlY,EAAE,IAAIyU,GAAG1tB,EAAEkW,EAAEib,EAAEtY,EAAEmY,EAAEnR,EAAEI,EAAEzhB,GAAGwyB,EAAE,IAAIvC,GAAEzuB,EACzfiZ,GAAE,GAAG,GAAIF,EAAE,IAAI0V,GAAEzuB,EAAE,IAAIiZ,GAAE,GAAG,GAAI,IAAIgX,EAAG,IAAIxB,GAAEzuB,EAAE,UAAUiZ,GAAE,GAAG,GAAwC,OAApCuT,GAAGxT,GAAG,CAACsX,YAAYvX,EAAEmW,GAAGe,GAAIlC,GAAGtuB,EAAEyW,GAAS,CAAC8a,EAAEjY,EAAEkX,OAAOhQ,EAAE,SAASjH,EAAE8G,EAAElhB,EAAEmS,EAAE4C,EAAEkM,GAAG8E,EAAO,EAAE7E,GAAG,IAAInhB,EAAE+vB,GAAG5O,EAAElhB,GAAG+U,EAAEuF,GAAEnI,EAAE4C,GAAG,IAAIsM,EAAE,CAACJ,GAAGxP,EAAE,GAAGyb,GAAE,GAAG,CAAC9S,IAAG,SAASxa,GAAU,IAAIwB,EAAE,gBAAbxB,EAAEA,EAAE,IAA0BM,KAAoC,QAA/B,IAASN,EAAEytB,GAAGoB,KAAK7uB,EAAEytB,GAAGoB,GAAG,SAAO,IAAS7uB,EAAEytB,GAAGoB,GAAGvN,EAAE,GAAG,MAAM,IAAIsM,GAAE,+EAA+EtM,EAAE,GAAG,gBAAgBthB,EAAEM,KAAK,uGAC/D,OAA1WN,EAAEytB,GAAGoB,GAAGvN,EAAE,GAAG,WAAWmP,GAAG,oBAAoBzwB,EAAEM,KAAK,wBAAwBH,IAAImtB,GAAE,GAAGntB,GAAE,SAAS0B,GAA6P,OAA1P7B,EAAEytB,GAAGoB,GAAGvN,EAAE,GAAG,WAAWlc,UAAU3C,SAAS6e,EAAE,GAAGuM,GAAErsB,EAAE,gBAAgB4D,UAAU3C,OAAO,yBAAyB6e,EAAE,IAAIzP,EAAEpP,OAAO,EAAEgf,EAAEhf,OAAO6e,EAAE,IAAI,IAAIjH,EAAE,EAAEA,EAAEiH,IAAIjH,EAAEoH,EAAEpH,GAAGxY,EAAEwY,GAAG+V,WAAWve,EAAEzM,UAAUiV,EAAE,IAA4B,OAAxBA,EAAElF,EAAE9P,MAAM,KAAKoc,GAAG8K,GAAG1a,GAAUhQ,EAAE,GAAG6qB,aAAarS,IAAU,MAAW,OAAMG,EAAE,SAASA,EAAE8G,EAAElhB,EAAEmS,EAAE4C,EAAEkM,EAAElhB,EAAEshB,GAAG,IAAI5P,EAAEqe,GAAG9vB,EAAEmS,GAAG+O,EAAEqM,GAAErM,GAAGD,EAAE3G,GAAEvF,EAAEkM,GAAGiM,GAAE,GAAG,CAAC9S,IAAG,SAASxa,GAAG,SAASwB,IAAIivB,GAAG,eAAe5uB,EAAE,wBACtegQ,GAAU,IAAIhQ,GAAX7B,EAAEA,EAAE,IAAWM,KAAK,IAAIghB,EAAEG,GAAGzhB,EAAEytB,GAAG6B,GAAGpoB,KAAKoa,GAAG,IAAIjH,EAAEra,EAAEytB,GAAGsB,GAAG9tB,EAAEoZ,EAAEiH,GAA+N,YAA5N,IAASrgB,QAAG,IAASA,EAAEotB,IAAIptB,EAAE2xB,YAAY5yB,EAAEM,MAAMW,EAAE+tB,KAAK5uB,EAAE,GAAGoB,EAAEwtB,GAAG5uB,EAAE,EAAEoB,EAAEoxB,UAAU5yB,EAAEM,KAAK+Z,EAAEiH,GAAG9f,IAAIutB,GAAG1U,EAAEiH,EAAEzf,GAAGwY,EAAEiH,GAAG+M,GAAGjuB,EAAE,GAAGoB,GAAG8rB,GAAE,GAAGzb,GAAE,SAAS6F,GAAqE,OAAlEA,EAAEgZ,GAAG7uB,EAAE6V,EAAE1X,EAAEqhB,EAAElhB,QAAG,IAASka,EAAEiH,GAAG+M,IAAI3W,EAAEsX,GAAG5uB,EAAE,EAAEia,EAAEiH,GAAG5J,GAAG2C,EAAEiH,GAAG+M,GAAGjuB,EAAE,GAAGsX,EAAQ,MAAW,OAAM8a,EAAE,SAAShY,EAAE8G,EAAElhB,GAAGoa,EAAEmT,GAAEnT,GAAG8S,GAAE,GAAG,CAAChM,IAAG,SAAS/O,GAAiC,OAA9BA,EAAEA,EAAE,GAAGlS,EAAEma,GAAGjI,EAAEma,aAAatsB,GAAS,OAAM4oB,EAAE,SAASxO,EAAE8G,GAAUiM,GAAE/S,EAAE,CAACla,KAAZghB,EAAEqM,GAAErM,GAAeoL,aAAa,SAAStsB,GAAG,IAAImS,EAAEoe,GAAEvwB,GAAGY,MAAY,OAAN4vB,GAAGxwB,GAAUmS,GAAG6d,WAAW,SAAShwB,EACtfmS,GAAG,OAAOud,GAAEvd,IAAImf,eAAe,EAAEC,qBAAqBlF,GAAE6B,GAAG,QAAQjN,EAAE,SAAS7G,EAAE8G,EAAElhB,EAAEmS,GAAG,SAAS4C,KAAK/U,EAAEqtB,GAAGrtB,GAAGkhB,EAAEqM,GAAErM,GAAGnM,EAAE0d,OAAO,GAAGtF,GAAE/S,EAAE,CAACla,KAAKghB,EAAEre,YAAYkS,EAAEuX,aAAa,SAASrL,GAAG,OAAOnc,KAAKjC,YAAY4vB,OAAOxR,IAAI+O,WAAW,SAAS/O,EAAElhB,GAAG,OAAOA,EAAEa,OAAO0wB,eAAe,EAAEC,qBAAqB3H,GAAG1I,EAAElhB,EAAEmS,GAAG+b,GAAG,OAAOL,GAAG3M,EAAEnM,IAAIlO,EAAE,SAASuT,EAAE8G,EAAElhB,GAAG,IAAImS,EAAE4c,GAAG3U,EAAE,QAAQ8G,EAAEqM,GAAErM,GAAG9G,EAAEjI,EAAEtP,YAAYsP,EAAE9R,OAAOY,OAAOkR,EAAEtP,YAAYtB,UAAU,CAACX,MAAM,CAACA,MAAMZ,GAAG6C,YAAY,CAACjC,MAAM+rB,GAAGxa,EAAEjS,KAAK,IAAIghB,GAAE,kBAAiB9G,EAAEqY,OAAOzyB,GACpfmS,EAAEiI,EAAE8G,GAAG/O,GAAG1Q,EAAE,SAAS2Y,EAAE8G,EAAElhB,GAAGA,EAAEqtB,GAAGrtB,GAAUmtB,GAAE/S,EAAE,CAACla,KAAZghB,EAAEqM,GAAErM,GAAeoL,aAAa,SAASna,GAAG,OAAOA,GAAG6d,WAAW,SAAS7d,EAAE4C,GAAG,GAAG,iBAAkBA,GAAG,kBAAmBA,EAAE,MAAM,IAAI9S,UAAU,mBAAmBmtB,GAAEra,GAAG,QAAQjQ,KAAK5E,MAAM,OAAO6U,GAAGuc,eAAe,EAAEC,qBAAqBd,GAAGvP,EAAElhB,GAAGkuB,GAAG,QAAQnZ,EAAE,SAASqF,EAAE8G,EAAElhB,EAAEmS,EAAE4C,EAAEkM,GAAG,IAAIlhB,EAAE+vB,GAAG5O,EAAElhB,GAAGoa,EAAEmT,GAAEnT,GAAGrF,EAAEuF,GAAEnI,EAAE4C,GAAG8Y,GAAGzT,GAAE,WAAWiW,GAAG,eAAejW,EAAE,wBAAwBra,KAAImhB,EAAE,GAAGgM,GAAE,GAAGntB,GAAE,SAASshB,GAA+D,OAA5DA,EAAE,CAACA,EAAE,GAAG,MAAMrQ,OAAOqQ,EAAE/a,MAAM,IAAI6oB,GAAG/U,EAAEkW,GAAGlW,EAAEiH,EAAE,KAAKtM,EAAEkM,GAAGC,EAAE,GAAS,OAClf/O,EAAE,SAASiI,EAAE8G,EAAElhB,EAAEmS,EAAE4C,GAAG,SAASkM,EAAErhB,GAAG,OAAOA,EAAEshB,EAAEqM,GAAErM,IAAI,IAAInM,IAAIA,EAAE,YAAY,IAAIhV,EAAEstB,GAAGrtB,GAAG,GAAG,IAAImS,EAAE,CAAC,IAAIkP,EAAE,GAAG,EAAErhB,EAAEihB,EAAE,SAASrhB,GAAG,OAAOA,GAAGyhB,IAAIA,GAAG,IAAI5P,GAAG,GAAGyP,EAAEwF,QAAQ,YAAYyG,GAAE/S,EAAE,CAACla,KAAKghB,EAAEoL,aAAarL,EAAE+O,WAAW,SAASpwB,EAAEwB,GAAG,GAAG,iBAAkBA,GAAG,kBAAmBA,EAAE,MAAM,IAAIa,UAAU,mBAAmBmtB,GAAEhuB,GAAG,QAAQ0D,KAAK5E,MAAM,GAAGkB,EAAE+Q,GAAG/Q,EAAE2T,EAAE,MAAM,IAAI9S,UAAU,qBAAqBmtB,GAAEhuB,GAAG,wDAAwD8f,EAAE,wCAAwC/O,EAAE,KAAK4C,EAAE,MAClf,OAAOtD,EAAErQ,IAAI,EAAI,EAAFA,GAAKkwB,eAAe,EAAEC,qBAAqB7D,GAAGxM,EAAEnhB,EAAE,IAAIoS,GAAG+b,GAAG,QAAQhN,EAAE,SAAS9G,EAAE8G,EAAElhB,GAAG,SAASmS,EAAE8O,GAAS,OAAO,IAAIlM,EAAEgU,EAAGE,EAAI,GAA1BhI,IAAI,IAAyBgI,EAAEhI,IAAI,IAAIlM,EAAE,CAACkV,UAAUnE,WAAWqE,WAAWK,YAAYH,WAAWK,YAAYpJ,aAAasJ,cAAc1J,GAAUiM,GAAE/S,EAAE,CAACla,KAAZF,EAAEutB,GAAEvtB,GAAessB,aAAana,EAAEmf,eAAe,EAAEC,qBAAqBpf,GAAG,CAACub,IAAG,KAAMzT,EAAE,SAASG,EAAE8G,GAAU,IAAIlhB,EAAE,iBAAbkhB,EAAEqM,GAAErM,IAA2BiM,GAAE/S,EAAE,CAACla,KAAKghB,EAAEoL,aAAa,SAASna,GAAG,IAAI4C,EAAEkU,EAAE9W,GAAG,GAAG,GAAGnS,EAAE,IAAI,IAAIihB,EAAE9O,EAAE,EAAEpS,EAAE,EAAEA,GAAGgV,IAAIhV,EAAE,CAAC,IAAIshB,EAAElP,EAAE,EAAEpS,EAAE,GAAG,GAAGwoB,EAAElH,IAAIthB,GAAGgV,EAAE,CACle,GADmekM,EACpfA,EAAE+G,EAAGO,EAAEtH,EAAEI,EAAEJ,GAAG,QAAM,IAASxP,EAAE,IAAIA,EAAEwP,OAAOxP,GAAGF,OAAO4W,aAAa,GAAG1W,GAAGwP,EAAEA,EAAEI,EAAE,OAAO,CAAY,IAAX5P,EAAEzL,MAAM+O,GAAOhV,EAAE,EAAEA,EAAEgV,IAAIhV,EAAE0R,EAAE1R,GAAGwR,OAAO4W,aAAaI,EAAEpW,EAAE,EAAEpS,IAAI0R,EAAEA,EAAEzK,KAAK,IAAS,OAALopB,GAAEje,GAAUV,GAAGue,WAAW,SAAS7d,EAAE4C,GAAGA,aAAa7O,cAAc6O,EAAE,IAAI+Q,WAAW/Q,IAAI,IAAIkM,EAAE,iBAAkBlM,EAAEkM,GAAGlM,aAAa+Q,YAAY/Q,aAAa2d,mBAAmB3d,aAAakV,WAAWwD,GAAE,yCAAyC,IAAI1tB,GAAGC,GAAGihB,EAAE,WAAW,IAAI,IAAIrhB,EAAE,EAAEwB,EAAE,EAAEA,EAAE2T,EAAE1S,SAASjB,EAAE,CAAC,IAAIK,EAAEsT,EAAEuB,WAAWlV,GAAG,OAAOK,GAAG,OAAOA,IAAIA,EACrf,QAAU,KAAFA,IAAS,IAAsB,KAAlBsT,EAAEuB,aAAalV,IAAS,KAAKK,IAAI7B,EAAEA,EAAE,MAAM6B,EAAE7B,EAAE,EAAE,OAAO6B,EAAE7B,EAAE,EAAEA,EAAE,EAAE,OAAOA,GAAG,WAAW,OAAOmV,EAAE1S,WAAWgf,EAAEsR,GAAG,EAAE5yB,EAAE,GAAa,GAAVkpB,EAAE5H,GAAG,GAAGthB,EAAKC,GAAGihB,GAlD5J,SAAY7G,EAAE8G,EAAElhB,GAAG,IAAImS,EAAEoW,EAAE,GAAG,EAAEvoB,EAAE,CAACA,EAAEkhB,EAAElhB,EAAE,EAAE,IAAI,IAAI+U,EAAE,EAAEA,EAAEqF,EAAE/X,SAAS0S,EAAE,CAAC,IAAIkM,EAAE7G,EAAE9D,WAAWvB,GAAgF,GAA1E,OAAOkM,GAAG,OAAOA,IAA2BA,EAAE,QAAU,KAAFA,IAAS,IAAM,KAA3C7G,EAAE9D,aAAavB,IAAoC,KAAKkM,EAAE,CAAC,GAAGC,GAAGlhB,EAAE,MAAMmS,EAAE+O,KAAKD,MAAM,CAAC,GAAG,MAAMA,EAAE,CAAC,GAAGC,EAAE,GAAGlhB,EAAE,MAAMmS,EAAE+O,KAAK,IAAID,GAAG,MAAM,CAAC,GAAG,OAAOA,EAAE,CAAC,GAAGC,EAAE,GAAGlhB,EAAE,MAAMmS,EAAE+O,KAAK,IAAID,GAAG,OAAO,CAAC,GAAGC,EAAE,GAAGlhB,EAAE,MAAMmS,EAAE+O,KAAK,IAAID,GAAG,GAAG9O,EAAE+O,KAAK,IAAID,GAAG,GAAG,GAAG9O,EAAE+O,KAAK,IAAID,GAAG,EAAE,GAAG9O,EAAE+O,KAAK,IAAM,GAAFD,GAAM9O,EAAE+O,GAAG,GAkDrP0R,CAAG7d,EAAEsM,EAAE,EAAEthB,EAAE,QAAQ,GAAGkhB,EAAE,IAAIA,EAAE,EAAEA,EAAElhB,IAAIkhB,EAAE,CAAC,IAAIxP,EAAEsD,EAAEuB,WAAW2K,GAAG,IAAIxP,IAAI2e,GAAE/O,GAAGoM,GAAE,2DAA2DlF,EAAElH,EAAE,EAAEJ,GAAGxP,OAAO,IAAIwP,EAAE,EAAEA,EAAElhB,IAAIkhB,EAAEsH,EAAElH,EAAE,EAAEJ,GAAGlM,EAAEkM,GAAyB,OAAtB,OAAO9O,GAAGA,EAAErL,KAAKspB,GAAE/O,GAAUA,GAAGiQ,eAAe,EAAEC,qBAAqBlF,GAAE6B,GAAG,SAAS/b,GAAGie,GAAEje,OAAOvS,EAAE,SAASwa,EAAE8G,EAAElhB,GAAU,GAAPA,EAAEutB,GAAEvtB,GAAM,IAAIkhB,EAAG,IAAI/O,EAAEkW,EAAOtT,EAAE0T,EAAOxH,EAAEyH,EAAO3oB,EACvf,WAAW,OAAOuoB,GAAQjH,EAAE,OAAO,IAAIH,IAAI/O,EAAEwW,EAAG5T,EAAE8T,EAAG5H,EAAE6H,EAAG/oB,EAAE,WAAW,OAAOkpB,GAAG5H,EAAE,GAAG8L,GAAE/S,EAAE,CAACla,KAAKF,EAAEssB,aAAa,SAAS7a,GAAG,IAAI,IAAoBhQ,EAAhB7B,EAAEqpB,EAAExX,GAAG,GAAGrQ,EAAErB,IAAMka,EAAExI,EAAE,EAAE5Q,EAAE,EAAEA,GAAGjB,IAAIiB,EAAE,CAAC,IAAIyW,EAAE7F,EAAE,EAAE5Q,EAAEqgB,EAAK,GAAG9f,EAAEkW,GAAG+J,IAAIxgB,GAAGjB,IAAEqa,EAAE9H,EAAE8H,EAAE3C,EAAE2C,QAAG,IAASxY,EAAEA,EAAEwY,GAAGxY,GAAG8P,OAAO4W,aAAa,GAAG1mB,GAAGwY,GAAGA,EAAE3C,EAAE4J,GAAO,OAALkP,GAAE3e,GAAUhQ,GAAGuuB,WAAW,SAASve,EAAE7R,GAAG,iBAAkBA,GAAG6tB,GAAE,6CAA6CztB,GAAG,IAAIoB,EAAE6f,EAAErhB,GAAG6B,EAAEkxB,GAAG,EAAEvxB,EAAE8f,GAAmD,OAAhD+H,EAAExnB,GAAG,GAAGL,GAAGigB,EAAEtM,EAAEnV,EAAE6B,EAAE,EAAEL,EAAE8f,GAAG,OAAOzP,GAAGA,EAAE3K,KAAKspB,GAAE3uB,GAAUA,GAAG6vB,eAAe,EAAEC,qBAAqBlF,GAAE6B,GAAG,SAASzc,GAAG2e,GAAE3e,OACrgB6F,EAAE,SAAS8C,EAAE8G,EAAElhB,EAAEmS,EAAE4C,EAAEkM,GAAGiL,GAAG9R,GAAG,CAACla,KAAKqtB,GAAErM,GAAG4N,GAAGxU,GAAEta,EAAEmS,GAAGgc,GAAG7T,GAAEvF,EAAEkM,GAAGkR,SAAS,KAAKtxB,EAAE,SAASuZ,EAAE8G,EAAElhB,EAAEmS,EAAE4C,EAAEkM,EAAElhB,EAAEshB,EAAE5P,GAAGya,GAAG9R,GAAG+X,SAASrrB,KAAK,CAAC8oB,GAAG1O,EAAEyO,GAAGrV,GAAEta,EAAEmS,GAAGsf,GAAG1c,EAAEob,GAAGlP,EAAEiP,GAAG5V,GAAEva,EAAEshB,GAAGgR,GAAG5gB,KAAKyT,EAAE,SAAS9K,EAAE8G,EAAElhB,EAAEmS,EAAE4C,EAAEkM,GAAGmM,GAAGhT,GAAG,CAACla,KAAKqtB,GAAErM,GAAG4N,GAAGxU,GAAEta,EAAEmS,GAAGgc,GAAG7T,GAAEvF,EAAEkM,GAAGoP,GAAG,KAAK1wB,EAAE,SAASya,EAAE8G,EAAElhB,EAAEmS,EAAE4C,EAAEkM,EAAElhB,EAAEshB,EAAE5P,EAAE7R,GAAGwtB,GAAGhT,GAAGiW,GAAGvpB,KAAK,CAAC0pB,GAAGjD,GAAErM,GAAG0O,GAAG5vB,EAAE2vB,GAAGrV,GAAEnI,EAAE4C,GAAG0c,GAAGxQ,EAAEkP,GAAGpwB,EAAEmwB,GAAG5V,GAAE+G,EAAE5P,GAAG4gB,GAAGzyB,KAAKurB,EAAE,SAAS/Q,EAAE8G,GAAUiM,GAAE/S,EAAE,CAACsW,IAAG,EAAGxwB,KAAlBghB,EAAEqM,GAAErM,GAAqBoQ,eAAe,EAAEhF,aAAa,aAAa0D,WAAW,gBAAgB/vB,EAAE,SAASma,EAAE8G,EAAElhB,EAAEmS,IAAGiI,EAAE8U,GAAG9U,IAAG8G,EAAEuO,GAAGvO,GAAGlhB,EAAE+vB,GAAG/vB,GAAS,KACjfmS,IAAI+a,EAAEsD,GAAGrJ,EAAE,SAAS/M,GAAG,OAAG,IAAIA,EAASsV,GAAEH,OAAMnV,EAAE2V,GAAG3V,GAAUsV,GAAEH,KAAKnV,MAAKpa,EAAE,SAASoa,EAAE8G,GAAa,IAAI,IAAIlhB,GAAlBkhB,EAtB+C,SAAY9G,EAAE8G,GAAG,IAAI,IAAIlhB,EAAEgG,MAAMoU,GAAGjI,EAAE,EAAEA,EAAEiI,IAAIjI,EAAEnS,EAAEmS,GAAG4c,GAAGnG,GAAG1H,GAAG,GAAG/O,GAAG,aAAaA,GAAG,OAAOnS,EAsBxI6yB,CAAGzY,EAAE8G,IAAe,GAAG/O,EAAEnS,EAAEE,KAAK,KAAKghB,EAAE5a,MAAM,GAAGoS,KAAI,SAAS9Y,GAAG,OAAOA,EAAEM,QAAO8G,KAAK,KAAK,IAAI+N,EAAE,CAAC,WAAWkM,EAAE,CAACjhB,GAAGD,EAAE,GAAGshB,EAAE,EAAEA,EAAEjH,EAAE,IAAIiH,EAAEthB,IAAI,IAAIshB,EAAE,KAAK,IAAI,MAAMA,EAAEtM,EAAEjO,KAAK,UAAUua,GAAGJ,EAAEna,KAAKoa,EAAE,EAAEG,IAAIlP,EAAE,mBAAmBua,GAAG,gBAAgBva,GAAG,wCAAwC,IAAIV,EAAE,EAAE,IAAI4P,EAAE,EAAEA,EAAEjH,EAAE,IAAIiH,EAAElP,GAAG,cAAckP,EAAE,aAAaA,EAAE,8BAA8B5P,EAAE,IAAIA,EAAE,IAAI,OAAOA,GAAGyP,EAAEG,EAAE,GAAGiQ,eAChc,IAAzCnf,GAAG,6BAA6BpS,EAAE,OAAWshB,EAAE,EAAEA,EAAEjH,EAAE,IAAIiH,EAAEH,EAAEG,EAAE,GAAGmQ,eAAerf,GAAG,cAAckP,EAAE,oBAAoBA,EAAE,QAA8G,OAAtGrhB,EAAE0wB,KAAKve,GAAG,qDAAqD4C,EAAEjO,KAAKqL,EAAE,QAvBpH,SAAYiI,GAAG,IAAI8G,EAAEgO,GAAG7sB,OAAkB,OAAX6sB,GAAGpoB,KAAKsT,GAAU8G,EAuBwG2N,CAA7BzU,EAAEqI,GAAG1N,GAAG9P,MAAM,KAAKgc,KAAiB7f,EAAE,SAASgZ,GAAG,EAAEA,IAAImW,GAAEnW,GAAG6V,IAAI,IAAIzqB,EAAE,SAAS4U,EAAE8G,EAAElhB,EAAEmS,GAAGiI,EAAEqV,GAAGrV,GAAG,IAAIrF,EAAE6b,GAAG1P,GAAG,IAAInM,EAAE,CAACA,EAAE,GAAG,IAAI,IAAIkM,EAAE,EAAEA,EAAEC,IAAID,EAAElM,IAAI,IAAIkM,EAAE,KAAK,IAAI,MAAMA,EAAE,IAAIlhB,EAAE,mCAAmCmhB,EAAE,oCAAoC,IAAID,EAAE,EAAEA,EAAEC,IAAID,EAAElhB,GAAG,cAAckhB,EAAE,gEAC5eA,EAAE,iBAAiBA,EAAE,eAAeA,EAAE,aAAaA,EAAE,gDAAgDA,EAAE,wBAAwBlM,EAAE,IAAK6X,SAAS,wBAAwB,SAAS,mBAAmB7sB,EAAG,6BAA6BgV,EAAE,yCAApG,CAAgJga,GAAG9uB,EAAEyvB,IAAGkB,GAAG1P,GAAGnM,EAAE,OAAOA,EAAEqF,EAAEpa,EAAEmS,IAAIgb,EAAE,WAAW,OAAOuC,GAAE,KAAKzG,EAAE,SAAS7O,GAAG,OAAOsV,GAAEK,GAAG3V,KAAKoS,EAAE,SAASpS,EAAE8G,GAA2D,OAAOwO,GAAnCtV,GAA5BA,EAAE2U,GAAG3U,EAAE,sBAAyBmX,qBAAqBrQ,KAAgBnhB,EAAE,WAAWimB,MAAKuC,EAAE,SAASnO,EAAE8G,EAAElhB,GAAGuoB,EAAEuK,WAAW1Y,EAAE8G,EACpfA,EAAElhB,IAAIqa,EAAE,WAAW2L,GAAE,QAAQwC,EAAE,WAAW,OAAO,GAAGxC,EAAE,aAAa5lB,EAAE,SAASga,EAAE8G,EAAElhB,EAAEmS,GAAG,IAAI,IAAI4C,EAAE,EAAEkM,EAAE,EAAEA,EAAEjhB,EAAEihB,IAAI,CAAC,IAAI,IAAIlhB,EAAE6oB,EAAE1H,EAAE,EAAED,GAAG,GAAGI,EAAEuH,EAAE1H,GAAG,EAAED,EAAE,IAAI,GAAGxP,EAAE,EAAEA,EAAE4P,EAAE5P,IAAI,CAAC,IAAI7R,EAAE2oB,EAAExoB,EAAE0R,GAAGrQ,EAAEyvB,GAAGzW,GAAG,IAAIxa,GAAG,KAAKA,IAAI,IAAIwa,EAAE8M,EAAGC,GAAGa,EAAG5mB,EAAE,IAAIA,EAAEiB,OAAO,GAAGjB,EAAE0F,KAAKlH,GAAGmV,GAAGsM,EAAY,OAAVuH,EAAEzW,GAAG,GAAG4C,EAAS,GAAGge,OAAOxL,EAAGgF,EAAE,aAAa9rB,EAAE,aAAa4rB,EAAE,aAAaZ,EAAE,aAAatR,EAAE,aAAa6Y,MAAMxL,GAAIyL,GAAG,WAAW,SAAS7Y,EAAErF,GAAG9U,EAAEizB,IAAIne,EAAE5V,QAAQgsB,KAAIlrB,EAAEkzB,wBAAwBlzB,EAAEkzB,uBAAuBhI,IAAG,GAAGA,KAAI,OAAOC,KAAKgI,cAAchI,IACpfA,GAAG,MAAMC,KAAKtW,EAAEsW,GAAGA,GAAG,KAAKtW,MAAM,SAASmM,EAAEnM,GAAGqF,EAAErF,EAAEhT,UAAU,SAAS/B,EAAE+U,GAAG,OAnDsFkS,IAAKhC,IAAKC,GAAG,mBAAoBmO,OAAO7H,GAAG,WAAW,IAAI7mB,SAAQ,SAASyV,GAAGA,EAAE4R,SAAQqH,MAAM5H,GAAE,CAAC6H,YAAY,gBAAgB1uB,MAAK,SAASwV,GAAG,IAAIA,EAAEmZ,GAAG,KAAK,uCAAuC9H,GAAE,IAAI,OAAOrR,EAAEoZ,iBAAgBC,OAAM,WAAW,OAAOzH,SAmDpUpnB,MAAK,SAASqc,GAAG,OAAOqG,YAAYoM,YAAYzS,EAAE9O,MAAKvN,KAAKmQ,GAAE,SAASkM,GAAGkG,EAAE,0CAA0ClG,GAAG+E,GAAE/E,MAAK,IAAI9O,EAAE,CAACiI,EAAE8X,IAA8D,GAA1D/G,KAAIlrB,EAAEkzB,wBAAwBlzB,EAAEkzB,uBAAuBhI,IAAMlrB,EAAE0zB,gBAAgB,IAAI,OAAO1zB,EAAE0zB,gBAAgBxhB,EAAEiI,GAAG,MAAMrF,GAAG,OAAOoS,EAAE,sDAAsDpS,IAAG,EACjK,OADoK,WAAY,GAAGkS,GAAI,mBAAoBK,YAAYsM,sBAAsBjI,MAAMH,GAAG,YACrf,mBAAoB6H,MAAM,OAAOrzB,EAAEkhB,GAAGmS,MAAM5H,GAAE,CAAC6H,YAAY,gBAAgB1uB,MAAK,SAASmQ,GAAG,OAAOuS,YAAYsM,qBAAqB7e,EAAE5C,GAAGvN,KAAKsc,GAAE,SAASD,GAAGkG,EAAE,kCAAkClG,GAAGkG,EAAE,6CAA6CnnB,EAAEkhB,SAD+K,GAC9J,GAF2G,GAErGjhB,EAAEizB,IAAID,GAAG,IAAIhH,GAAGhsB,EAAE4zB,mBAAmB,WAAW,OAAO5H,GAAGhsB,EAAE4zB,mBAAmB5zB,EAAEizB,IAAI3F,GAAGtoB,MAAM,KAAKD,YAAY/E,EAAE6zB,oBAAoB,WAAW,OAAO7zB,EAAE6zB,oBAAoB7zB,EAAEizB,IAAI1F,GAAGvoB,MAAM,KAAKD,YAC5c/E,EAAE8zB,eAAe,WAAW,OAAO9zB,EAAE8zB,eAAe9zB,EAAEizB,IAAIzF,GAAGxoB,MAAM,KAAKD,YAAY/E,EAAE+zB,aAAa,WAAW,OAAO/zB,EAAE+zB,aAAa/zB,EAAEizB,IAAIxE,GAAGzpB,MAAM,KAAKD,YAAY/E,EAAEg0B,sBAAsB,WAAW,OAAOh0B,EAAEg0B,sBAAsBh0B,EAAEizB,IAAIX,GAAGttB,MAAM,KAAKD,YAAY/E,EAAEi0B,uBAAuB,WAAW,OAAOj0B,EAAEi0B,uBAAuBj0B,EAAEizB,IAAI9D,GAAGnqB,MAAM,KAAKD,YAAY/E,EAAEk0B,0BAA0B,WAAW,OAAOl0B,EAAEk0B,0BAA0Bl0B,EAAEizB,IAAIxD,GAAGzqB,MAAM,KAAKD,YACxc/E,EAAEm0B,iFAAiF,WAAW,OAAOn0B,EAAEm0B,iFAAiFn0B,EAAEizB,IAAIrD,GAAG5qB,MAAM,KAAKD,YAAY/E,EAAEo0B,2BAA2B,WAAW,OAAOp0B,EAAEo0B,2BAA2Bp0B,EAAEizB,IAAI5Y,GAAGrV,MAAM,KAAKD,YAAY/E,EAAEq0B,sCAAsC,WAAW,OAAOr0B,EAAEq0B,sCAAsCr0B,EAAEizB,IAAI9C,GAAGnrB,MAAM,KAAKD,YAC1b/E,EAAEs0B,qCAAqC,WAAW,OAAOt0B,EAAEs0B,qCAAqCt0B,EAAEizB,IAAI3C,GAAGtrB,MAAM,KAAKD,YAAY/E,EAAEu0B,kCAAkC,WAAW,OAAOv0B,EAAEu0B,kCAAkCv0B,EAAEizB,IAAIuB,GAAGxvB,MAAM,KAAKD,YAAY/E,EAAEy0B,wCAAwC,WAAW,OAAOz0B,EAAEy0B,wCAAwCz0B,EAAEizB,IAAIyB,GAAG1vB,MAAM,KAAKD,YAAY/E,EAAE20B,sBAAsB,WAAW,OAAO30B,EAAE20B,sBAAsB30B,EAAEizB,IAAIlS,IAAI/b,MAAM,KAAKD,YACvd,IASqL6vB,GATjLzE,GAAEnwB,EAAE4hB,MAAM,WAAW,OAAOuO,GAAEnwB,EAAE4hB,MAAM5hB,EAAEizB,IAAIjO,IAAIhgB,MAAM,KAAKD,YAAY2tB,GAAG1yB,EAAEuhB,QAAQ,WAAW,OAAOmR,GAAG1yB,EAAEuhB,QAAQvhB,EAAEizB,IAAI/N,IAAIlgB,MAAM,KAAKD,YAAYmrB,GAAGlwB,EAAE60B,eAAe,WAAW,OAAO3E,GAAGlwB,EAAE60B,eAAe70B,EAAEizB,IAAI9N,IAAIngB,MAAM,KAAKD,YAUvO,SAAS+vB,KAAK,SAAS3a,IAAI,IAAIya,KAAKA,IAAG,EAAG50B,EAAE+0B,WAAU,GAAInN,GAAI,CAAwE,GAAvE6B,EAAGoB,IAAIpB,EAAGqB,IAAI/J,EAAG/gB,GAAMA,EAAEmiB,sBAAqBniB,EAAEmiB,uBAA0BniB,EAAEg1B,QAAQ,IAAI,mBAAmBh1B,EAAEg1B,UAAUh1B,EAAEg1B,QAAQ,CAACh1B,EAAEg1B,UAAUh1B,EAAEg1B,QAAQ5yB,QAAQ,CAAC,IAAI6e,EAAEjhB,EAAEg1B,QAAQtL,QAAQqB,GAAGnW,QAAQqM,GAAGwI,EAAGsB,KAAK,KAAK,EAAEG,IAAG,CAAC,GAAGlrB,EAAEirB,OAAO,IAAI,mBAAmBjrB,EAAEirB,SAASjrB,EAAEirB,OAAO,CAACjrB,EAAEirB,SAASjrB,EAAEirB,OAAO7oB,QAAQ4oB,KAAKvB,EAAGmB,GAAI,EAAEM,KAAIlrB,EAAEi1B,WAAWj1B,EAAEi1B,UAAU,cAAchjB,YAAW,WAAWA,YAAW,WAAWjS,EAAEi1B,UAAU,MAAK,GAAG9a,MAAK,IAAIA,MACte,GAX0Ona,EAAEk1B,4CAA4C,WAAW,OAAOl1B,EAAEk1B,4CAA4Cl1B,EAAEizB,IAAI3N,IAAItgB,MAAM,KAAKD,YAAY/E,EAAE8pB,WAAW,WAAW,OAAO9pB,EAAE8pB,WAAW9pB,EAAEizB,IAAI1N,IAAIvgB,MAAM,KAAKD,YACnc/E,EAAEm1B,cAAc,WAAW,OAAOn1B,EAAEm1B,cAAcn1B,EAAEizB,IAAImC,IAAIpwB,MAAM,KAAKD,YAAY/E,EAAEq1B,WAAW,WAAW,OAAOr1B,EAAEq1B,WAAWr1B,EAAEizB,IAAIzN,IAAIxgB,MAAM,KAAKD,YAAY/E,EAAEs1B,UAAU,WAAW,OAAOt1B,EAAEs1B,UAAUt1B,EAAEizB,IAAIxN,IAAIzgB,MAAM,KAAKD,YAAY/E,EAAEu1B,qBAAqB,WAAW,OAAOv1B,EAAEu1B,qBAAqBv1B,EAAEizB,IAAIhM,IAAIjiB,MAAM,KAAKD,YAAY/E,EAAEw1B,iBAAiB,WAAW,OAAOx1B,EAAEw1B,iBAAiBx1B,EAAEizB,IAAIjM,IAAIhiB,MAAM,KAAKD,YAAY/E,EAAEy1B,gBAAgB,WAAW,OAAOz1B,EAAEy1B,gBAAgBz1B,EAAEizB,IAAI3L,IAAItiB,MAAM,KAAKD,YAChf/E,EAAE01B,iBAAiB,WAAW,OAAO11B,EAAE01B,iBAAiB11B,EAAEizB,IAAI1L,IAAIviB,MAAM,KAAKD,YAAY/E,EAAE21B,mBAAmB,WAAW,OAAO31B,EAAE21B,mBAAmB31B,EAAEizB,IAAIrL,IAAI5iB,MAAM,KAAKD,YAAY/E,EAAE41B,aAAa,WAAW,OAAO51B,EAAE41B,aAAa51B,EAAEizB,IAAIpL,IAAI7iB,MAAM,KAAKD,YAAY/E,EAAE61B,eAAe,WAAW,OAAO71B,EAAE61B,eAAe71B,EAAEizB,IAAIlL,IAAI/iB,MAAM,KAAKD,YAAY/E,EAAE81B,YAAY,WAAW,OAAO91B,EAAE81B,YAAY91B,EAAEizB,IAAIN,IAAI3tB,MAAM,KAAKD,YAAY/E,EAAE+1B,YAAY,WAAW,OAAO/1B,EAAE+1B,YAAY/1B,EAAEizB,IAAI9K,IAAInjB,MAAM,KAAKD,YAC9e/E,EAAEg2B,cAAc,WAAW,OAAOh2B,EAAEg2B,cAAch2B,EAAEizB,IAAI7K,IAAIpjB,MAAM,KAAKD,YAAY/E,EAAEi2B,cAAc,WAAW,OAAOj2B,EAAEi2B,cAAcj2B,EAAEizB,IAAI5K,IAAIrjB,MAAM,KAAKD,YAAY/E,EAAEk2B,oBAAoB,WAAW,OAAOl2B,EAAEk2B,oBAAoBl2B,EAAEizB,IAAIzK,IAAIxjB,MAAM,KAAKD,YAAY/E,EAAEm2B,aAAa,WAAW,OAAOn2B,EAAEm2B,aAAan2B,EAAEizB,IAAIxK,IAAIzjB,MAAM,KAAKD,YAAY/E,EAAEo2B,aAAa,WAAW,OAAOp2B,EAAEo2B,aAAap2B,EAAEizB,IAAIvK,IAAI1jB,MAAM,KAAKD,YAAY/E,EAAEq2B,cAAc,WAAW,OAAOr2B,EAAEq2B,cAAcr2B,EAAEizB,IAAIrK,IAAI5jB,MAAM,KAAKD,YAC9e/E,EAAEs2B,YAAY,WAAW,OAAOt2B,EAAEs2B,YAAYt2B,EAAEizB,IAAIpK,IAAI7jB,MAAM,KAAKD,YAAY/E,EAAEu2B,aAAa,WAAW,OAAOv2B,EAAEu2B,aAAav2B,EAAEizB,IAAInK,IAAI9jB,MAAM,KAAKD,YAAY/E,EAAEw2B,WAAW,WAAW,OAAOx2B,EAAEw2B,WAAWx2B,EAAEizB,IAAIlK,IAAI/jB,MAAM,KAAKD,YAAY/E,EAAEy2B,sBAAsB,WAAW,OAAOz2B,EAAEy2B,sBAAsBz2B,EAAEizB,IAAIhK,IAAIjkB,MAAM,KAAKD,YAAY/E,EAAE02B,kBAAkB,WAAW,OAAO12B,EAAE02B,kBAAkB12B,EAAEizB,IAAI/J,IAAIlkB,MAAM,KAAKD,YAC/Z/E,EAAE22B,iBAAiB,WAAW,OAAO32B,EAAE22B,iBAAiB32B,EAAEizB,IAAI9J,IAAInkB,MAAM,KAAKD,YAAY/E,EAAE42B,kBAAkB,WAAW,OAAO52B,EAAE42B,kBAAkB52B,EAAEizB,IAAIxJ,IAAIzkB,MAAM,KAAKD,YAAY/E,EAAE62B,oBAAoB,WAAW,OAAO72B,EAAE62B,oBAAoB72B,EAAEizB,IAAIrI,IAAI5lB,MAAM,KAAKD,YAAY/E,EAAE82B,cAAc,WAAW,OAAO92B,EAAE82B,cAAc92B,EAAEizB,IAAIpI,IAAI7lB,MAAM,KAAKD,YAAY/E,EAAE+2B,gBAAgB,WAAW,OAAO/2B,EAAE+2B,gBAAgB/2B,EAAEizB,IAAInI,IAAI9lB,MAAM,KAAKD,YACjb/E,EAAEg3B,eAAe,WAAW,OAAOh3B,EAAEg3B,eAAeh3B,EAAEizB,IAAIlI,IAAI/lB,MAAM,KAAKD,YAAY/E,EAAEi3B,eAAe,WAAW,OAAOj3B,EAAEi3B,eAAej3B,EAAEizB,IAAIjI,IAAIhmB,MAAM,KAAKD,YAAY/E,EAAEk3B,YAAY,WAAW,OAAOl3B,EAAEk3B,YAAYl3B,EAAEizB,IAAI9H,IAAInmB,MAAM,KAAKD,YAAY/E,EAAEm3B,eAAe,WAAW,OAAOn3B,EAAEm3B,eAAen3B,EAAEizB,IAAI7H,IAAIpmB,MAAM,KAAKD,YAAY/E,EAAEo3B,aAAa,WAAW,OAAOp3B,EAAEo3B,aAAap3B,EAAEizB,IAAI1H,IAAIvmB,MAAM,KAAKD,YAAY/E,EAAEq3B,aAAa,WAAW,OAAOr3B,EAAEq3B,aAAar3B,EAAEizB,IAAIvH,IAAI1mB,MAAM,KAAKD,YACpe/E,EAAEs3B,cAAc,WAAW,OAAOt3B,EAAEs3B,cAAct3B,EAAEizB,IAAIpH,IAAI7mB,MAAM,KAAKD,YAAY/E,EAAEu3B,cAAc,WAAW,OAAOv3B,EAAEu3B,cAAcv3B,EAAEizB,IAAIlH,IAAI/mB,MAAM,KAAKD,YAAY/E,EAAEw3B,aAAa,WAAW,OAAOx3B,EAAEw3B,aAAax3B,EAAEizB,IAAIwE,IAAIzyB,MAAM,KAAKD,YAAY/E,EAAE03B,cAAc,WAAW,OAAO13B,EAAE03B,cAAc13B,EAAEizB,IAAIjH,IAAIhnB,MAAM,KAAKD,YAAY/E,EAAE23B,aAAa,WAAW,OAAO33B,EAAE23B,aAAa33B,EAAEizB,IAAIhH,IAAIjnB,MAAM,KAAKD,YAAY/E,EAAE43B,cAAc,WAAW,OAAO53B,EAAE43B,cAAc53B,EAAEizB,IAAI/G,IAAIlnB,MAAM,KAAKD,YACle/E,EAAE63B,cAAc,WAAW,OAAO73B,EAAE63B,cAAc73B,EAAEizB,IAAIzG,IAAIxnB,MAAM,KAAKD,YAAY/E,EAAE83B,eAAe,WAAW,OAAO93B,EAAE83B,eAAe93B,EAAEizB,IAAIxG,IAAIznB,MAAM,KAAKD,YAAY/E,EAAE+3B,mBAAmB,WAAW,OAAO/3B,EAAE+3B,mBAAmB/3B,EAAEizB,IAAIvG,IAAI1nB,MAAM,KAAKD,YAAY/E,EAAEg4B,eAAe,WAAW,OAAOh4B,EAAEg4B,eAAeh4B,EAAEizB,IAAIrG,IAAI5nB,MAAM,KAAKD,YAAY/E,EAAEi4B,gBAAgB,WAAW,OAAOj4B,EAAEi4B,gBAAgBj4B,EAAEizB,IAAIlG,IAAI/nB,MAAM,KAAKD,YACra/E,EAAEk4B,gBAAgB,WAAW,OAAOl4B,EAAEk4B,gBAAgBl4B,EAAEizB,IAAIjG,IAAIhoB,MAAM,KAAKD,YAAY/E,EAAEm4B,aAAa,WAAW,OAAOn4B,EAAEm4B,aAAan4B,EAAEizB,IAAImF,IAAIpzB,MAAM,KAAKD,YAAY/E,EAAEizB,IAAID,GAAU5H,GAAG,SAASiN,IAAKzD,IAAIE,KAAKF,KAAKxJ,GAAGiN,IAE1Nr4B,EAAE2S,IAAImiB,GAAM90B,EAAEs4B,QAAQ,IAAI,mBAAmBt4B,EAAEs4B,UAAUt4B,EAAEs4B,QAAQ,CAACt4B,EAAEs4B,UAAU,EAAEt4B,EAAEs4B,QAAQl2B,QAAQpC,EAAEs4B,QAAQnM,KAAVnsB,GAGlG,OAHqI80B,KAG9HpU,EAAYQ,QAKf/hB,EAAOD,QAAUwhB,I,yFCxGvB,IAAI9e,EAAiB,EAAQ,GAW7BzC,EAAOD,QATP,SAAwBkC,EAAQC,GAC9B,MAAQjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAEpC,QADfD,EAASQ,EAAeR,MAI1B,OAAOA,GAITjC,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,cCZxE,SAASy3B,EAAgBp4B,EAAGqB,GAO1B,OANArC,EAAOD,QAAUq5B,EAAkBn4B,OAAOuB,gBAAkB,SAAyBxB,EAAGqB,GAEtF,OADArB,EAAE0B,UAAYL,EACPrB,GAGThB,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,EACjEy3B,EAAgBp4B,EAAGqB,GAG5BrC,EAAOD,QAAUq5B,EACjBp5B,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,cCHxE3B,EAAOD,QARP,SAAgC6D,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIy1B,eAAe,6DAG3B,OAAOz1B,GAIT5D,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,gBCFxE,IAAI23B,EAAW,SAAUv5B,GACvB,aAEA,IAAIw5B,EAAKt4B,OAAOkB,UACZq3B,EAASD,EAAGn3B,eAEZq3B,EAA4B,mBAAXn4B,OAAwBA,OAAS,GAClDo4B,EAAiBD,EAAQ3wB,UAAY,aACrC6wB,EAAsBF,EAAQG,eAAiB,kBAC/CC,EAAoBJ,EAAQl4B,aAAe,gBAE/C,SAAStB,EAAO4D,EAAK/B,EAAKN,GAOxB,OANAP,OAAOC,eAAe2C,EAAK/B,EAAK,CAC9BN,MAAOA,EACPL,YAAY,EACZgC,cAAc,EACdC,UAAU,IAELS,EAAI/B,GAEb,IAEE7B,EAAO,GAAI,IACX,MAAO6F,GACP7F,EAAS,SAAS4D,EAAK/B,EAAKN,GAC1B,OAAOqC,EAAI/B,GAAON,GAItB,SAASs4B,EAAKC,EAASC,EAASp2B,EAAMq2B,GAEpC,IAAIC,EAAiBF,GAAWA,EAAQ73B,qBAAqBg4B,EAAYH,EAAUG,EAC/EC,EAAYn5B,OAAOY,OAAOq4B,EAAe/3B,WACzCk4B,EAAU,IAAIC,EAAQL,GAAe,IAMzC,OAFAG,EAAUG,QAsMZ,SAA0BR,EAASn2B,EAAMy2B,GACvC,IAAIG,EA/KuB,iBAiL3B,OAAO,SAAgBC,EAAQt1B,GAC7B,GAhLoB,cAgLhBq1B,EACF,MAAM,IAAI/zB,MAAM,gCAGlB,GAnLoB,cAmLhB+zB,EAA6B,CAC/B,GAAe,UAAXC,EACF,MAAMt1B,EAKR,OAAOu1B,IAMT,IAHAL,EAAQI,OAASA,EACjBJ,EAAQl1B,IAAMA,IAED,CACX,IAAIw1B,EAAWN,EAAQM,SACvB,GAAIA,EAAU,CACZ,IAAIC,EAAiBC,EAAoBF,EAAUN,GACnD,GAAIO,EAAgB,CAClB,GAAIA,IAAmBE,EAAkB,SACzC,OAAOF,GAIX,GAAuB,SAAnBP,EAAQI,OAGVJ,EAAQU,KAAOV,EAAQW,MAAQX,EAAQl1B,SAElC,GAAuB,UAAnBk1B,EAAQI,OAAoB,CACrC,GAnNqB,mBAmNjBD,EAEF,MADAA,EAjNc,YAkNRH,EAAQl1B,IAGhBk1B,EAAQY,kBAAkBZ,EAAQl1B,SAEN,WAAnBk1B,EAAQI,QACjBJ,EAAQa,OAAO,SAAUb,EAAQl1B,KAGnCq1B,EA5NkB,YA8NlB,IAAIW,EAASC,EAASrB,EAASn2B,EAAMy2B,GACrC,GAAoB,WAAhBc,EAAOE,KAAmB,CAO5B,GAJAb,EAAQH,EAAQ/0B,KAjOA,YAFK,iBAuOjB61B,EAAOh2B,MAAQ21B,EACjB,SAGF,MAAO,CACLt5B,MAAO25B,EAAOh2B,IACdG,KAAM+0B,EAAQ/0B,MAGS,UAAhB61B,EAAOE,OAChBb,EA/OgB,YAkPhBH,EAAQI,OAAS,QACjBJ,EAAQl1B,IAAMg2B,EAAOh2B,OA9QPm2B,CAAiBvB,EAASn2B,EAAMy2B,GAE7CD,EAcT,SAASgB,EAAS31B,EAAI5B,EAAKsB,GACzB,IACE,MAAO,CAAEk2B,KAAM,SAAUl2B,IAAKM,EAAG/E,KAAKmD,EAAKsB,IAC3C,MAAOW,GACP,MAAO,CAAEu1B,KAAM,QAASl2B,IAAKW,IAhBjC/F,EAAQ+5B,KAAOA,EAoBf,IAOIgB,EAAmB,GAMvB,SAASX,KACT,SAASoB,KACT,SAASC,KAIT,IAAIC,EAAoB,GACxBA,EAAkB/B,GAAkB,WAClC,OAAOh0B,MAGT,IAAIg2B,EAAWz6B,OAAOwB,eAClBk5B,EAA0BD,GAAYA,EAASA,EAASrI,EAAO,MAC/DsI,GACAA,IAA4BpC,GAC5BC,EAAO94B,KAAKi7B,EAAyBjC,KAGvC+B,EAAoBE,GAGtB,IAAIC,EAAKJ,EAA2Br5B,UAClCg4B,EAAUh4B,UAAYlB,OAAOY,OAAO45B,GAWtC,SAASI,EAAsB15B,GAC7B,CAAC,OAAQ,QAAS,UAAUkX,SAAQ,SAASohB,GAC3Cx6B,EAAOkC,EAAWs4B,GAAQ,SAASt1B,GACjC,OAAOO,KAAK60B,QAAQE,EAAQt1B,SAkClC,SAAS22B,EAAc1B,EAAW2B,GAgChC,IAAIC,EAgCJt2B,KAAK60B,QA9BL,SAAiBE,EAAQt1B,GACvB,SAAS82B,IACP,OAAO,IAAIF,GAAY,SAASh3B,EAASC,IAnC7C,SAASk3B,EAAOzB,EAAQt1B,EAAKJ,EAASC,GACpC,IAAIm2B,EAASC,EAAShB,EAAUK,GAASL,EAAWj1B,GACpD,GAAoB,UAAhBg2B,EAAOE,KAEJ,CACL,IAAIzwB,EAASuwB,EAAOh2B,IAChB3D,EAAQoJ,EAAOpJ,MACnB,OAAIA,GACiB,iBAAVA,GACPg4B,EAAO94B,KAAKc,EAAO,WACdu6B,EAAYh3B,QAAQvD,EAAM26B,SAAS32B,MAAK,SAAShE,GACtD06B,EAAO,OAAQ16B,EAAOuD,EAASC,MAC9B,SAASc,GACVo2B,EAAO,QAASp2B,EAAKf,EAASC,MAI3B+2B,EAAYh3B,QAAQvD,GAAOgE,MAAK,SAAS42B,GAI9CxxB,EAAOpJ,MAAQ46B,EACfr3B,EAAQ6F,MACP,SAASvF,GAGV,OAAO62B,EAAO,QAAS72B,EAAON,EAASC,MAvBzCA,EAAOm2B,EAAOh2B,KAiCZ+2B,CAAOzB,EAAQt1B,EAAKJ,EAASC,MAIjC,OAAOg3B,EAaLA,EAAkBA,EAAgBx2B,KAChCy2B,EAGAA,GACEA,KAkHV,SAASpB,EAAoBF,EAAUN,GACrC,IAAII,EAASE,EAAS7xB,SAASuxB,EAAQI,QACvC,QA1TE10B,IA0TE00B,EAAsB,CAKxB,GAFAJ,EAAQM,SAAW,KAEI,UAAnBN,EAAQI,OAAoB,CAE9B,GAAIE,EAAS7xB,SAAiB,SAG5BuxB,EAAQI,OAAS,SACjBJ,EAAQl1B,SArUZY,EAsUI80B,EAAoBF,EAAUN,GAEP,UAAnBA,EAAQI,QAGV,OAAOK,EAIXT,EAAQI,OAAS,QACjBJ,EAAQl1B,IAAM,IAAItC,UAChB,kDAGJ,OAAOi4B,EAGT,IAAIK,EAASC,EAASX,EAAQE,EAAS7xB,SAAUuxB,EAAQl1B,KAEzD,GAAoB,UAAhBg2B,EAAOE,KAIT,OAHAhB,EAAQI,OAAS,QACjBJ,EAAQl1B,IAAMg2B,EAAOh2B,IACrBk1B,EAAQM,SAAW,KACZG,EAGT,IAAI11B,EAAO+1B,EAAOh2B,IAElB,OAAMC,EAOFA,EAAKE,MAGP+0B,EAAQM,EAAS0B,YAAcj3B,EAAK5D,MAGpC64B,EAAQpL,KAAO0L,EAAS2B,QAQD,WAAnBjC,EAAQI,SACVJ,EAAQI,OAAS,OACjBJ,EAAQl1B,SAzXVY,GAmYFs0B,EAAQM,SAAW,KACZG,GANE11B,GA3BPi1B,EAAQI,OAAS,QACjBJ,EAAQl1B,IAAM,IAAItC,UAAU,oCAC5Bw3B,EAAQM,SAAW,KACZG,GAoDX,SAASyB,EAAaC,GACpB,IAAIC,EAAQ,CAAEC,OAAQF,EAAK,IAEvB,KAAKA,IACPC,EAAME,SAAWH,EAAK,IAGpB,KAAKA,IACPC,EAAMG,WAAaJ,EAAK,GACxBC,EAAMI,SAAWL,EAAK,IAGxB92B,KAAKo3B,WAAWp1B,KAAK+0B,GAGvB,SAASM,EAAcN,GACrB,IAAItB,EAASsB,EAAMO,YAAc,GACjC7B,EAAOE,KAAO,gBACPF,EAAOh2B,IACds3B,EAAMO,WAAa7B,EAGrB,SAASb,EAAQL,GAIfv0B,KAAKo3B,WAAa,CAAC,CAAEJ,OAAQ,SAC7BzC,EAAY5gB,QAAQkjB,EAAc72B,MAClCA,KAAKu3B,OAAM,GA8Bb,SAAS5J,EAAO6J,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAASxD,GAC9B,GAAIyD,EACF,OAAOA,EAAez8B,KAAKw8B,GAG7B,GAA6B,mBAAlBA,EAASjO,KAClB,OAAOiO,EAGT,IAAKE,MAAMF,EAASj6B,QAAS,CAC3B,IAAI1C,GAAK,EAAG0uB,EAAO,SAASA,IAC1B,OAAS1uB,EAAI28B,EAASj6B,QACpB,GAAIu2B,EAAO94B,KAAKw8B,EAAU38B,GAGxB,OAFA0uB,EAAKztB,MAAQ07B,EAAS38B,GACtB0uB,EAAK3pB,MAAO,EACL2pB,EAOX,OAHAA,EAAKztB,WAzeTuE,EA0eIkpB,EAAK3pB,MAAO,EAEL2pB,GAGT,OAAOA,EAAKA,KAAOA,GAKvB,MAAO,CAAEA,KAAMyL,GAIjB,SAASA,IACP,MAAO,CAAEl5B,WAzfPuE,EAyfyBT,MAAM,GA+MnC,OA5mBAi2B,EAAkBp5B,UAAYy5B,EAAGn4B,YAAc+3B,EAC/CA,EAA2B/3B,YAAc83B,EACzCA,EAAkB8B,YAAcp9B,EAC9Bu7B,EACA3B,EACA,qBAaF95B,EAAQu9B,oBAAsB,SAASC,GACrC,IAAInc,EAAyB,mBAAXmc,GAAyBA,EAAO95B,YAClD,QAAO2d,IACHA,IAASma,GAG2B,uBAAnCna,EAAKic,aAAejc,EAAKtgB,QAIhCf,EAAQy9B,KAAO,SAASD,GAQtB,OAPIt8B,OAAOuB,eACTvB,OAAOuB,eAAe+6B,EAAQ/B,IAE9B+B,EAAO76B,UAAY84B,EACnBv7B,EAAOs9B,EAAQ1D,EAAmB,sBAEpC0D,EAAOp7B,UAAYlB,OAAOY,OAAO+5B,GAC1B2B,GAOTx9B,EAAQ09B,MAAQ,SAASt4B,GACvB,MAAO,CAAEg3B,QAASh3B,IAsEpB02B,EAAsBC,EAAc35B,WACpC25B,EAAc35B,UAAUw3B,GAAuB,WAC7C,OAAOj0B,MAET3F,EAAQ+7B,cAAgBA,EAKxB/7B,EAAQ29B,MAAQ,SAAS3D,EAASC,EAASp2B,EAAMq2B,EAAa8B,QACxC,IAAhBA,IAAwBA,EAAcx2B,SAE1C,IAAI0M,EAAO,IAAI6pB,EACbhC,EAAKC,EAASC,EAASp2B,EAAMq2B,GAC7B8B,GAGF,OAAOh8B,EAAQu9B,oBAAoBtD,GAC/B/nB,EACAA,EAAKgd,OAAOzpB,MAAK,SAASoF,GACxB,OAAOA,EAAOtF,KAAOsF,EAAOpJ,MAAQyQ,EAAKgd,WAuKjD4M,EAAsBD,GAEtB37B,EAAO27B,EAAI/B,EAAmB,aAO9B+B,EAAGlC,GAAkB,WACnB,OAAOh0B,MAGTk2B,EAAG1zB,SAAW,WACZ,MAAO,sBAkCTnI,EAAQyJ,KAAO,SAASvH,GACtB,IAAIuH,EAAO,GACX,IAAK,IAAI1H,KAAOG,EACduH,EAAK9B,KAAK5F,GAMZ,OAJA0H,EAAKm0B,UAIE,SAAS1O,IACd,KAAOzlB,EAAKvG,QAAQ,CAClB,IAAInB,EAAM0H,EAAKwjB,MACf,GAAIlrB,KAAOG,EAGT,OAFAgtB,EAAKztB,MAAQM,EACbmtB,EAAK3pB,MAAO,EACL2pB,EAQX,OADAA,EAAK3pB,MAAO,EACL2pB,IAsCXlvB,EAAQszB,OAASA,EAMjBiH,EAAQn4B,UAAY,CAClBsB,YAAa62B,EAEb2C,MAAO,SAASW,GAcd,GAbAl4B,KAAKm4B,KAAO,EACZn4B,KAAKupB,KAAO,EAGZvpB,KAAKq1B,KAAOr1B,KAAKs1B,WApgBjBj1B,EAqgBAL,KAAKJ,MAAO,EACZI,KAAKi1B,SAAW,KAEhBj1B,KAAK+0B,OAAS,OACd/0B,KAAKP,SAzgBLY,EA2gBAL,KAAKo3B,WAAWzjB,QAAQ0jB,IAEnBa,EACH,IAAK,IAAI98B,KAAQ4E,KAEQ,MAAnB5E,EAAKkV,OAAO,IACZwjB,EAAO94B,KAAKgF,KAAM5E,KACjBs8B,OAAOt8B,EAAKoG,MAAM,MACrBxB,KAAK5E,QAnhBXiF,IAyhBF+3B,KAAM,WACJp4B,KAAKJ,MAAO,EAEZ,IACIy4B,EADYr4B,KAAKo3B,WAAW,GACLE,WAC3B,GAAwB,UAApBe,EAAW1C,KACb,MAAM0C,EAAW54B,IAGnB,OAAOO,KAAKs4B,MAGd/C,kBAAmB,SAASgD,GAC1B,GAAIv4B,KAAKJ,KACP,MAAM24B,EAGR,IAAI5D,EAAU30B,KACd,SAASw4B,EAAOC,EAAKC,GAYnB,OAXAjD,EAAOE,KAAO,QACdF,EAAOh2B,IAAM84B,EACb5D,EAAQpL,KAAOkP,EAEXC,IAGF/D,EAAQI,OAAS,OACjBJ,EAAQl1B,SApjBZY,KAujBYq4B,EAGZ,IAAK,IAAI79B,EAAImF,KAAKo3B,WAAW75B,OAAS,EAAG1C,GAAK,IAAKA,EAAG,CACpD,IAAIk8B,EAAQ/2B,KAAKo3B,WAAWv8B,GACxB46B,EAASsB,EAAMO,WAEnB,GAAqB,SAAjBP,EAAMC,OAIR,OAAOwB,EAAO,OAGhB,GAAIzB,EAAMC,QAAUh3B,KAAKm4B,KAAM,CAC7B,IAAIQ,EAAW7E,EAAO94B,KAAK+7B,EAAO,YAC9B6B,EAAa9E,EAAO94B,KAAK+7B,EAAO,cAEpC,GAAI4B,GAAYC,EAAY,CAC1B,GAAI54B,KAAKm4B,KAAOpB,EAAME,SACpB,OAAOuB,EAAOzB,EAAME,UAAU,GACzB,GAAIj3B,KAAKm4B,KAAOpB,EAAMG,WAC3B,OAAOsB,EAAOzB,EAAMG,iBAGjB,GAAIyB,GACT,GAAI34B,KAAKm4B,KAAOpB,EAAME,SACpB,OAAOuB,EAAOzB,EAAME,UAAU,OAG3B,KAAI2B,EAMT,MAAM,IAAI73B,MAAM,0CALhB,GAAIf,KAAKm4B,KAAOpB,EAAMG,WACpB,OAAOsB,EAAOzB,EAAMG,gBAU9B1B,OAAQ,SAASG,EAAMl2B,GACrB,IAAK,IAAI5E,EAAImF,KAAKo3B,WAAW75B,OAAS,EAAG1C,GAAK,IAAKA,EAAG,CACpD,IAAIk8B,EAAQ/2B,KAAKo3B,WAAWv8B,GAC5B,GAAIk8B,EAAMC,QAAUh3B,KAAKm4B,MACrBrE,EAAO94B,KAAK+7B,EAAO,eACnB/2B,KAAKm4B,KAAOpB,EAAMG,WAAY,CAChC,IAAI2B,EAAe9B,EACnB,OAIA8B,IACU,UAATlD,GACS,aAATA,IACDkD,EAAa7B,QAAUv3B,GACvBA,GAAOo5B,EAAa3B,aAGtB2B,EAAe,MAGjB,IAAIpD,EAASoD,EAAeA,EAAavB,WAAa,GAItD,OAHA7B,EAAOE,KAAOA,EACdF,EAAOh2B,IAAMA,EAETo5B,GACF74B,KAAK+0B,OAAS,OACd/0B,KAAKupB,KAAOsP,EAAa3B,WAClB9B,GAGFp1B,KAAK84B,SAASrD,IAGvBqD,SAAU,SAASrD,EAAQ0B,GACzB,GAAoB,UAAhB1B,EAAOE,KACT,MAAMF,EAAOh2B,IAcf,MAXoB,UAAhBg2B,EAAOE,MACS,aAAhBF,EAAOE,KACT31B,KAAKupB,KAAOkM,EAAOh2B,IACM,WAAhBg2B,EAAOE,MAChB31B,KAAKs4B,KAAOt4B,KAAKP,IAAMg2B,EAAOh2B,IAC9BO,KAAK+0B,OAAS,SACd/0B,KAAKupB,KAAO,OACa,WAAhBkM,EAAOE,MAAqBwB,IACrCn3B,KAAKupB,KAAO4N,GAGP/B,GAGT2D,OAAQ,SAAS7B,GACf,IAAK,IAAIr8B,EAAImF,KAAKo3B,WAAW75B,OAAS,EAAG1C,GAAK,IAAKA,EAAG,CACpD,IAAIk8B,EAAQ/2B,KAAKo3B,WAAWv8B,GAC5B,GAAIk8B,EAAMG,aAAeA,EAGvB,OAFAl3B,KAAK84B,SAAS/B,EAAMO,WAAYP,EAAMI,UACtCE,EAAcN,GACP3B,IAKb,MAAS,SAAS4B,GAChB,IAAK,IAAIn8B,EAAImF,KAAKo3B,WAAW75B,OAAS,EAAG1C,GAAK,IAAKA,EAAG,CACpD,IAAIk8B,EAAQ/2B,KAAKo3B,WAAWv8B,GAC5B,GAAIk8B,EAAMC,SAAWA,EAAQ,CAC3B,IAAIvB,EAASsB,EAAMO,WACnB,GAAoB,UAAhB7B,EAAOE,KAAkB,CAC3B,IAAIqD,EAASvD,EAAOh2B,IACpB43B,EAAcN,GAEhB,OAAOiC,GAMX,MAAM,IAAIj4B,MAAM,0BAGlBk4B,cAAe,SAASzB,EAAUb,EAAYC,GAa5C,OAZA52B,KAAKi1B,SAAW,CACd7xB,SAAUuqB,EAAO6J,GACjBb,WAAYA,EACZC,QAASA,GAGS,SAAhB52B,KAAK+0B,SAGP/0B,KAAKP,SA7rBPY,GAgsBO+0B,IAQJ/6B,EA7sBK,CAotBiBC,EAAOD,SAGtC,IACE6+B,mBAAqBtF,EACrB,MAAOuF,GAUPrR,SAAS,IAAK,yBAAdA,CAAwC8L,K,cC5sB1Ct5B,EAAOD,QA9BP,SAA+B0E,EAAKlE,GAClC,IAAI8J,EAAY,MAAP5F,EAAc,KAAyB,oBAAXnD,QAA0BmD,EAAInD,OAAOwH,WAAarE,EAAI,cAE3F,GAAU,MAAN4F,EAAJ,CACA,IAIIy0B,EAAIC,EAJJz0B,EAAO,GACP00B,GAAK,EACLC,GAAK,EAIT,IACE,IAAK50B,EAAKA,EAAG3J,KAAK+D,KAAQu6B,GAAMF,EAAKz0B,EAAG4kB,QAAQ3pB,QAC9CgF,EAAK5C,KAAKo3B,EAAGt9B,QAETjB,GAAK+J,EAAKrH,SAAW1C,GAH4By+B,GAAK,IAK5D,MAAOl5B,GACPm5B,GAAK,EACLF,EAAKj5B,EACL,QACA,IACOk5B,GAAsB,MAAhB30B,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAI40B,EAAI,MAAMF,GAIlB,OAAOz0B,IAITtK,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,gBC/BxE,IAAIqG,EAAmB,EAAQ,IAM/BhI,EAAOD,QAJP,SAA4B0E,GAC1B,GAAImC,MAAMC,QAAQpC,GAAM,OAAOuD,EAAiBvD,IAIlDzE,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,cCHxE3B,EAAOD,QAJP,WACE,MAAM,IAAI8C,UAAU,yIAItB7C,EAAOD,QAAiB,QAAIC,EAAOD,QAASC,EAAOD,QAAQ4B,YAAa,G,m7BCHxE,IAAIuE,EAAc,EAAQ,IAM1BlG,EAAOD,QAAU,SAAUuH,EAAOuY,EAAOC,EAAaE,EAAWC,EAAYC,GAC3E,IAAIrf,EALegI,EAMfq2B,EAAc,GACdC,GAAc,EAClB,IAAKt+B,EAAI,EAAGA,EAAIyG,EAAM6Y,gBAAiBtf,IAAK,CAC1C,IAAIu+B,EAAWl5B,EAAYoB,EAAMkY,QAAUtZ,EAAYoB,EAAMkY,MAAM3e,IAC/Du+B,IAAUD,GAAc,GAC5BD,EAAYx3B,KACV,MACAJ,EAAMiY,OAAO1e,IACZu+B,EAAW,GAAK,aAdFv2B,EAeJvB,EAAMoY,SAAS7e,IAdnB,GAAGw+B,cAAgBx2B,EAAI3B,MAAM,KAiBxC,IAAIW,EAAQ,CACV,CACEs3B,EAAc,KAAO,GACrB73B,EAAMmY,QAAU,MAAQ,MACxB7X,KAAK,IACPN,EAAMqB,UAAY,IAClBu2B,EAAYt3B,KAAK,MAqBnB,OAlBIoY,GACFnY,EAAMH,KAAKsY,EAAY,OAErBC,GACFpY,EAAMH,KAAKuY,EAAa,OAEtBC,GACFrY,EAAMH,KAAKwY,EAAW,OAGpBL,GACFhY,EAAMH,KAAK,SAGToY,GACFjY,EAAMH,KAAK,OAGNG,EAAMD,KAAK,O,6BC/CpB,IAAIzB,EAAY,EAAQ,IACpBkB,EAAiB,EAAQ,IAE7B,SAASi4B,EAAcltB,GACrB,OAAO,SAAU7R,EAAGgH,QACRxB,IAANxF,GAAoBqG,MAAMC,QAAQtG,KAAIA,EAAI,CAACA,IAE/C,IADA,IAAIiH,EAAe,GACVC,EAAI,EAAGA,EAAIlH,EAAE0C,OAAQwE,IAC5BD,EAAaE,KAAKL,EAAeM,IAAIpH,EAAEkH,KAEzC,GAAIF,EACF,IAAKhH,EAAI,EAAGA,EAAIiH,EAAavE,OAAQ1C,SACjBwF,IAAdwB,EAAOhH,KACXiH,EAAajH,GAAK,IAAMiH,EAAajH,GAAK,MAAQgH,EAAOhH,GAAK,OAASgH,EAAOhH,IAGlF,OAAO6R,EAAS5K,IAIpB,SAAS+3B,EAAgBz+B,EAAM6F,GAC7B,IAAIpG,EACJ,GAAKoG,EACL,OAAQR,EAAUQ,IAChB,KAAKR,EAAUK,gBACb,OAAO84B,GAAa,SAAU7e,GAC5B,OAAO3f,EAAO,IAAM2f,EAAU7Y,KAAK,MAAQ,OAE/C,KAAKzB,EAAUG,gBACb,OAAOg5B,GAAa,SAAU7e,GAC5B,OAAO3f,EAAO,QAAU2f,EAAU7Y,KAAK,KAAO,OAElD,KAAKzB,EAAUI,QACb,OAAO+4B,GAAa,SAAU7e,GAC5B,IAAI/X,EAAO,CAAC5H,EAAO,UACnB,IAAKP,EAAI,EAAGA,EAAIkgB,EAAUxd,OAAQ1C,IAChCmI,EAAKhB,KAAK5G,EAAO,SAAWP,EAAI,OAASkgB,EAAUlgB,GAAK,KAE1D,OAAOO,EAAO,IAAM4H,EAAKd,KAAK,OAAS,OAE3C,KAAKzB,EAAUO,OACf,QACE,QAIN1G,EAAOD,QAAU,SAAUuH,GACzB,IACIk4B,EADA/e,EAAY,GAYhB,OATA+e,EAAWD,EAAe,IAAKj4B,EAAMuQ,WACvB4I,EAAUlG,MAAQilB,IAEhCA,EAAWD,EAAe,IAAKj4B,EAAMmY,YACvBgB,EAAUgf,OAASD,IAEjCA,EAAWD,EAAe,IAAKj4B,EAAMkY,UACvBiB,EAAUif,KAAOF,GAExB/e,I,6BC3DT,IAAI9a,EAAO,GACP+V,EAAM,GAEV1b,EAAOD,QAAU,SAA8B4/B,EAAKC,EAAOj3B,GACzD,GAAc,IAAVi3B,EACF,MAAM,IAAIn5B,MAAM,sDAAwDm5B,EAAQ,KAGlF,IAAIr/B,EACA0hB,OAA4Clc,IAAxCH,UAAUF,KAAKya,gBAAkB,GAAmB,KAAOva,UAAUF,KAAKya,gBAAkB,GAGpG,IADAxa,EAAK1C,OAASyC,KAAKya,gBACd5f,EAAI,EAAGA,EAAImF,KAAKya,gBAAiB5f,IACpCoF,EAAKpF,EAAI,GAAKqF,UAAUrF,EAAI,GAG9B,IAIIs/B,EAAIC,EAAI3M,EAJR4M,EAASr6B,KAAKq6B,OACdC,EAAKD,EAAOp3B,GAAW,GACvBs3B,EAAKF,EAAOp3B,GAAW,GAGvBu3B,EAAKv6B,EAAKgD,EAAY,GACtBw3B,GAAMF,EAAKD,GAAM/d,EAoBrB,IAnBiC,WAA7Bvc,KAAKga,SAAS/W,IAEhBk3B,EAAKG,GAAOE,EAAKF,EAAKG,GADtBhN,EAAI8M,EAAKD,IACuB7M,EAChC2M,EAAKE,GAAOE,EAAKF,EAAKG,EAAKhN,GAAKA,EAChCgN,GAAM,IAENN,EAAKlpB,KAAKC,IAAIqpB,EAAItpB,KAAKypB,IAAIJ,EAAIE,EAAKC,IAEpCA,GADAL,EAAKnpB,KAAKC,IAAIqpB,EAAItpB,KAAKypB,IAAIJ,EAAIE,EAAKC,KAC1BN,GAGZl6B,EAAKgD,EAAY,GAAKk3B,EACtBl6B,EAAK,GAAK+V,EACVhW,KAAKgb,SAAS7a,MAAM,KAAMF,GAE1BA,EAAKgD,EAAY,GAAKm3B,EACtBn6B,EAAK,GAAKg6B,EACVj6B,KAAKgb,SAAS7a,MAAM,KAAMF,GAErBpF,EAAI,EAAGA,EAAImF,KAAKiD,UAAWpI,IAC9Bo/B,EAAIp/B,IAAMo/B,EAAIp/B,GAAKmb,EAAInb,IAAM4/B,EAG/B,OAAOR,I,6BC5CT,IAAIU,EAAS,EAAQ,IACjBC,EAAW,EAAQ,IACnBC,EAAmB,EAAQ,IAC3Bp6B,EAAY,EAAQ,IACpBD,EAAc,EAAQ,IACtBs6B,EAAa,EAAQ,IAErBC,EAAiB,GACjBC,EAAY,GAEhB1gC,EAAOD,QAAU,SAAU4gC,EAAUr5B,EAAOmZ,EAAWZ,EAAOC,EAAaiB,EAAS6f,GAClF,IACIrgC,EAAGkH,EAAGzF,EAAGrB,EAAGE,EAAGggC,EADf1gB,EAAkB7Y,EAAM6Y,gBAGxBtI,EAASvQ,EAAMuQ,OACf0H,EAASjY,EAAMiY,OACfE,EAAUnY,EAAMmY,QAChBqhB,OAAyB/6B,IAAZ0Z,EACbD,EAAQlY,EAAMkY,MACduhB,EAAiBz5B,EAAMqB,UACvB+W,EAAWpY,EAAMoY,SAErB,GAAIkhB,QAAiD,CAC9Ch6B,MAAMC,QAAQ+5B,KACjBA,EAAa,CAACA,IAEhB,IAAII,EAAuB,EAC3B,IAAKzgC,EAAI,EAAGA,EAAI4f,EAAiB5f,SACTwF,IAAlB66B,EAAWrgC,KAAkBqgC,EAAWrgC,GAAK,GACjDygC,GAAwBJ,EAAWrgC,GAErC,GAAIugC,GAAcE,EAAuB,EACvC,MAAM,IAAIv6B,MAAM,+EAAiFu6B,EAAuB,KAIxHjgB,IAAS4f,EAAW,QAAUA,GAC9BC,IAAYD,EAAW,MAAQC,EAAWh5B,KAAK,KAAO,IAAM+4B,GAChE,IAAIM,EAAkBR,EAAeE,GACrC,GAAI9gB,EACF,IAAIqhB,EAA0B,mBAAVrhB,EAAuBA,EAAQuD,QAAQ6D,IAG7D,GAAIga,EAKF,OAJIphB,GACFqhB,EAAOR,EAAUC,IAGZM,EAAgBl/B,KAAKuF,GAG9B,IAAIoB,EAAO,GACPy4B,EAAe,WAAaR,EAE5BS,EAAgB3gB,EAAUlG,MAC1BwG,IACFqgB,EAAgB,SAAU1f,EAAKna,GAE7B,IADA,IAAI85B,EAAQ,GACH9gC,EAAI,EAAGA,EAAImhB,EAAIze,OAAQ1C,IAAK,CAGnC,IAFA,IAAIi/B,EAAW9d,EAAInhB,GACf+gC,EAAS,GACJ75B,EAAI,EAAGA,EAAI+3B,EAASv8B,OAAQwE,IACf,IAAhB+3B,EAAS/3B,IAAU65B,EAAO55B,KAAK83B,EAAS/3B,IAE9C+3B,EAAW8B,EAAO15B,KAAK,OACnBL,EAAOhH,KACTi/B,EAAW,IAAMA,EAAW,MAAQj4B,EAAOhH,GAAK,OAASgH,EAAOhH,IAElE8gC,EAAM35B,KAAK83B,EAAW,QAAU+B,EAAShhC,IAE3C,MAAO,KAAO8gC,EAAMz5B,KAAK,QAAU,eAGvC,IAAI45B,EAAiB/gB,EAAUgf,OAC3BgC,EAAehhB,EAAUif,KAEzBgC,EAAUpB,EAAS,KACnBqB,EAAWrB,EAAS,KACpBsB,EAAYtB,EAAS,KACrBiB,EAAWjB,EAAS,KACpBuB,EAAOvB,EAAS,KAChBwB,EAAYjiB,EAAQ,SAAW,IAC/BkiB,EAAUzB,EAASzgB,EAAQ,OAAS,KACpCmiB,EAAY1B,EAASzgB,EAAQ,YAAc,KAE3CoiB,GAAsB,EAC1B,IAAKphC,EAAI,EAAGA,EAAIsf,EAAiBtf,IAC3BqF,EAAYsZ,IAAUtZ,EAAYsZ,EAAM3e,MAC1CohC,GAAsB,GAK1B,SAASC,EAAMr5B,GACbH,EAAKhB,KAAK,MAAQmB,GAAO,KAE3B,SAASs5B,EAAWt5B,GACdgX,GAAOqiB,EAAKr5B,GAMlB,GAAIkY,EACF,IAAIqhB,EAAY,GAElB,IAAIC,EAAgB,GACpB,IAAK9hC,EAAI,EAAGA,EAAI4f,EAAiB5f,IAC3BwgB,GACFqhB,EAAU16B,KAAK65B,EAAS,CAAChhC,KAE3B8hC,EAAc36B,KAAKm6B,EAAK,CAACthC,KAqB3B,IAlBAmI,EAAKhB,KAAK,YAAcy5B,EAAe,MACpCpgB,EAAU,GAAK,SAChBshB,EAAcz6B,KAAK,OAClBmZ,EAAU,KAAOqhB,EAAUx6B,KAAK,MAAQ,IACzC,OAEFs6B,EAAK,mBAEDpiB,IACFoiB,EAAK,OAASJ,EAAY,mBAC1BI,EAAK,oDACLA,EAAK,2BACLA,EAAK,aAAeJ,EAAY,iBAAmBA,EAAY,4CAC/DI,EAAK,wFAA8FJ,EAAY,eAAmBA,EAAY,wDAC9II,EAAK,OACLA,EAAK,MAGFrhC,EAAI,EAAGA,EAAIsf,EAAiBtf,IAC/BqhC,EAAK,OAASH,EAAQlhC,GAAK,MAAQ2/B,EAAW3oB,EAAQ,cAAehX,GAAK,KAY5E,SAASyhC,EAASC,EAAMvnB,EAAG8G,GACzB,MAAO,IAAMygB,EAAO,QAAUvnB,EAAI,QAAU8G,EAAI,IAXlDpZ,EAAKhB,KAAK64B,EAAiBj5B,EAAO,IAAK,cAAeuQ,IAElDipB,GACFp4B,EAAKhB,KAAK64B,EAAiBj5B,EAAO,IAAK,eAAgBmY,IAGpDwiB,GACHv5B,EAAKhB,KAAK64B,EAAiBj5B,EAAO,IAAK,aAAckY,IAOvD,IAAI4f,EAAW,GACf,IAAKv+B,EAAI,EAAGA,EAAIsf,EAAiBtf,IAC/B,OAAQsF,EAAUqZ,IAChB,KAAKrZ,EAAUI,QACb64B,EAASv+B,IAAK,EACd,MACF,KAAKsF,EAAUK,gBACb44B,EAASv+B,GAAKqF,EAAYsZ,EAAM3e,IAKtC,IAAKA,EAAI,EAAGA,EAAIsf,EAAiBtf,IAC/B,GAAIu+B,EAASv+B,GAeX,IAXAshC,EAAU,0DAA4DthC,EAAI,MAC1EqhC,EAAK,OAASF,EAAUnhC,GAAK,SAC7BqhC,EAAK,OAASH,EAAQlhC,GAAK,KAC3BqhC,EAAK,aAAeF,EAAUnhC,GAAK,WACnCqhC,EAAK,oBAAsBF,EAAUnhC,GAAK,UAC1CqhC,EAAK,SAAWT,EAAa,CAAC5gC,EAAG,MAAQ,MAAQghC,EAAKhhC,GAAK,YAC3DqhC,EAAK,UAAYF,EAAUnhC,GAAK,SAChCqhC,EAAK,KAELC,EAAU,oCAAsCthC,EAAI,MAE/CN,EAAiB,EAAZgf,EAAO1e,GAAQN,GAAKgf,EAAO1e,GAAIN,IACnB,WAAhBmf,EAAS7e,GAITqhC,EAHE3hC,EAAI,EAGD,OAASmhC,EAAQ,CAAC7gC,EAAGN,EAAIgf,EAAO1e,GAAK,IAAM,MAAQyhC,EACtDN,EAAUnhC,GAAK,OAAUN,EACzBkhC,EAAa,CAAC5gC,EAAG,IAAM,MAAQ4gC,EAAa,CAAC5gC,EAAG,CAACkhC,EAAQlhC,GAAImhC,EAAUnhC,GAAIN,KAAO,MAAQkhC,EAAa,CAAC5gC,EAAG,CAACkhC,EAAQlhC,MACpH4gC,EAAa,CAAC5gC,EAAG,CAACmhC,EAAUnhC,GAAIN,MAC9B,IACKA,EAAI,EACR,OAASmhC,EAAQ,CAAC7gC,EAAGN,EAAIgf,EAAO1e,GAAK,IAAM,MAAQyhC,EACtDN,EAAUnhC,GAAK,MAAQN,EAAI,MAAQwhC,EAAQlhC,GAE3C4gC,EAAa,CAAC5gC,EAAGkhC,EAAQlhC,KAAO,MAAQ4gC,EAAa,CAAC5gC,EAAGN,EAAI,MAAQyhC,EAAUnhC,GAAK,MAAQkhC,EAAQlhC,KAAO,MAAQ4gC,EAAa,CAAC5gC,EAAG,IACpI4gC,EAAa,CAAC5gC,EAAG,CAACmhC,EAAUnhC,GAAIN,MAC9B,IAEC,OAASmhC,EAAQ,CAAC7gC,EAAGN,EAAIgf,EAAO1e,GAAK,IAAM,MAAQ4gC,EAAa,CAAC5gC,EAAG,CAACmhC,EAAUnhC,GAAIN,KAAO,KAGjG2hC,EAAK,OAASR,EAAQ,CAAC7gC,EAAGN,EAAIgf,EAAO1e,GAAK,IAAM,MAAQ4gC,EAAa,CAAC5gC,EAAG,CAACmhC,EAAUnhC,GAAIN,KAAO,SAG9F,CAeL,IAXA4hC,EAAU,uDAAyDthC,EAAI,MAEnD,WAAhB6e,EAAS7e,GACXqhC,EAAKF,EAAUnhC,GAAK,OAASghC,EAAKhhC,GAAK,WAAakhC,EAAQlhC,GAAK,MAEjEqhC,EAAKF,EAAUnhC,GAAK,OAASghC,EAAKhhC,GAAK,UACvCqhC,EAAK,OAASF,EAAUnhC,GAAK,MAAQ0e,EAAO1e,GAAK,KAAOmhC,EAAUnhC,GAAK,MAAQ0e,EAAO1e,GAAK,KAC3FqhC,EAAK,OAASF,EAAUnhC,GAAK,MAAQkhC,EAAQlhC,GAAK,SAAWmhC,EAAUnhC,GAAK,MAAQkhC,EAAQlhC,GAAK,UAGnGshC,EAAU,gDAAkDthC,EAAI,MAC3DN,EAAiB,EAAZgf,EAAO1e,GAAQN,GAAKgf,EAAO1e,GAAIN,IAEvC2hC,EAAK,QADLrB,EAAOa,EAAQ,CAAC7gC,EAAGN,EAAIgf,EAAO1e,GAAK,KACd,MAAQmhC,EAAUnhC,GAAK,MAAQ,EAAM,KAG5D,GAAoB,YAAhB6e,EAAS7e,GACX,IAAKN,EAAiB,EAAZgf,EAAO1e,GAAQN,GAAKgf,EAAO1e,GAAIN,IACvCsgC,EAAOa,EAAQ,CAAC7gC,EAAGN,EAAIgf,EAAO1e,GAAK,IAC/BN,EAAI,GACN2hC,EAAK,OAASrB,EAAO,MAAQthB,EAAO1e,GAAK,KAAOggC,EAAO,MAAQthB,EAAO1e,GAAK,KAEzEN,EAAI,GACN2hC,EAAK,OAASrB,EAAO,MAAQkB,EAAQlhC,GAAK,KAAOggC,EAAO,MAAQkB,EAAQlhC,GAAK,KAK/D,WAAhB6e,EAAS7e,KACXshC,EAAU,0DACVD,EAAKL,EAAKhhC,GAAK,OAASkhC,EAAQlhC,GAAK,MAK3C,IAAKA,EAAI,EAAGmB,EAAI,GAAInB,EAAIsf,EAAiBtf,IACvCmB,EAAEnB,GAAK0e,EAAO1e,GAAK,EAoDrB,IAjDIigC,IACFqB,EAAU,0BACV9B,EAAOr+B,GAAG,SAAUwgC,GAGlB,IAFA,IAAIC,EAAU,GACVl7B,EAAS,GACJ1G,EAAI,EAAGA,EAAIsf,EAAiBtf,IACnC4hC,EAAQ5hC,GAAK,CAACmhC,EAAUnhC,GAAI2hC,EAAI3hC,GAAK0e,EAAO1e,IACxB,WAAhB6e,EAAS7e,IAAmB2hC,EAAI3hC,GAAK0e,EAAO1e,GAAK,IAAG0G,EAAO1G,GAAKkhC,EAAQlhC,IAE9EqhC,EAAK,OAASN,EAAUY,GAAO,MAAQhB,EAAeiB,EAASl7B,GAAU,SAIzEsY,GAEAqiB,EADEpB,EACG,4EAEA,yBAITT,EAAOr+B,GAAG,SAAUwgC,GAGlB,IAFA,IAAIC,EAAU,GACVl7B,EAAS,GACJ1G,EAAI,EAAGA,EAAIsf,EAAiBtf,IACnC4hC,EAAQ5hC,GAAK,CAACmhC,EAAUnhC,GAAI2hC,EAAI3hC,GAAK0e,EAAO1e,IACxB,WAAhB6e,EAAS7e,IAAmB2hC,EAAI3hC,GAAK0e,EAAO1e,GAAK,IAAG0G,EAAO1G,GAAKkhC,EAAQlhC,IAE9E,GAAIkgB,EAEAmhB,EADEpB,EACG,OAASa,EAASa,GAAO,MAAQpB,EAAcqB,EAASl7B,GAAU,MAAQq6B,EAAUY,GAAO,IAE3F,OAASb,EAASa,GAAO,MAAQpB,EAAcqB,EAASl7B,GAAU,UAGzE,IAAK1G,EAAI,EAAGA,EAAIkgC,EAAgBlgC,IAAK,CACnC,IAAI6hC,EAAaF,EAAI5wB,OAAO/Q,GAC5B4hC,EAAQtiB,GAAmBtf,EAEzBqhC,EADEpB,EACG,OAASa,EAASe,GAAc,MAAQtB,EAAcqB,EAASl7B,GAAU,MAAQq6B,EAAUY,GAAO,IAElG,OAASb,EAASe,GAAc,MAAQtB,EAAcqB,EAASl7B,GAAU,SAKtF46B,EAAU,MAEVA,EAAU,kCACLthC,EAAImB,EAAEiB,OAAS,EAAGpC,GAAK,EAAGA,IAE7B,IADAmB,EAAEnB,GAAK,CAAC0e,EAAO1e,GAAI0e,EAAO1e,GAAK,GAC1BN,EAAI,EAAGA,EAAIgf,EAAO1e,GAAIN,IAEzB,IADA4hC,EAAU,iBAAmB5iB,EAAO1e,GAAK,4BAA8BA,EAAI,WAAaN,EAAI,GAAK,MAC5FkH,EAAI8X,EAAO1e,GAAI4G,EAAIlH,EAAGkH,IAAK,CAC9B,IAAIk7B,EAAe/B,GAAerhB,EAAO1e,GAAKN,EAAIqgC,EAAW//B,IAAM,EAE/D8hC,GACFT,EAAK,YAAcR,EAAQ,CAAC7gC,EAAG4G,EAAIlH,EAAIgf,EAAO1e,GAAK,IAAM,MAAQ6gC,EAAQ,CAAC7gC,EAAG4G,EAAI,IAAM,MACnFq5B,IACFoB,EAAK,QAAUL,EAAKhhC,GAAK,MAAQ6gC,EAAQ,CAAC7gC,EAAG4G,EAAI,IAAM,UACvDy6B,EAAK,iBAGPA,EAAK,QAAUL,EAAKhhC,GAAK,MAAQ6gC,EAAQ,CAAC7gC,EAAG4G,EAAI,IAAM,QAAUi6B,EAAQ,CAAC7gC,EAAG4G,EAAIlH,EAAIgf,EAAO1e,GAAK,IAAM,MAAQ6gC,EAAQ,CAAC7gC,EAAG4G,EAAI,IAAM,MACrIy6B,EAAK,eAGHpB,GACFT,EAAOr+B,GAAG,SAAU4gC,GAClB,IAAIC,EAAKD,EAAG17B,QACR47B,EAAMF,EAAG17B,QACb27B,EAAGhiC,GAAK4G,EACRq7B,EAAIjiC,GAAK4G,EAAI,EACTk7B,GAAgB7B,GAAYoB,EAAK,OAASN,EAAUiB,GAAM,KAC9DX,EAAKN,EAAUiB,GAAM,UAAYjB,EAAUkB,GAAO,UAAYlB,EAAUiB,GAAM,QAGlFxC,EAAOr+B,GAAG,SAAU4gC,GAClB,IAAIG,EAAcC,EAAKC,EACnBJ,EAAKD,EAAG17B,QACR47B,EAAMF,EAAG17B,QAKb,GAHA27B,EAAGhiC,GAAK4G,EACRq7B,EAAIjiC,GAAK4G,EAAI,EAETk7B,EAAc,CAChB,IAAIO,EAAa3iC,EAAI,EACrB,GAAIwgB,EACFgiB,EAAejC,EAAa,OAASc,EAAUkB,GAAO,MAAQlB,EAAUiB,GAAM,MAAQ,GACtFG,EAAMrB,EAASkB,IAAO/B,EAAa,OAAS,IAC5CmC,EAAMtB,EAASmB,IAAQhC,EAAa,MAAQc,EAAUkB,GAAO,IAC7DZ,EAAKP,EAASkB,GAAM,MAAQK,EAAa,MAAQH,EAAe,IAAMC,EAAM,MAAQC,EAAM,cACrF,CACL,IAAIE,EAAkBN,EAAG37B,QACrBk8B,EAAmBN,EAAI57B,QAC3B,IAAKvG,EAAI,EAAGA,EAAIogC,EAAgBpgC,IAC9BwiC,EAAgBhjB,GAAmBijB,EAAiBjjB,GAAmBxf,EACvEoiC,EAAejC,EAAa,OAASc,EAAUkB,GAAO,MAAQlB,EAAUiB,GAAM,MAAQ,GACtFG,EAAMrB,EAASwB,IAAoBrC,EAAa,OAAS,IACzDmC,EAAMtB,EAASyB,IAAqBtC,EAAa,MAAQc,EAAUkB,GAAO,IAC1EZ,EAAKP,EAASwB,GAAmB,MAAQD,EAAa,MAAQH,EAAe,IAAMC,EAAM,MAAQC,EAAM,gBAI3G,GAAIliB,EACFmhB,EAAKP,EAASkB,GAAM,UAAYlB,EAASmB,GAAO,UAAYnB,EAASkB,GAAM,UAE3E,IAAKliC,EAAI,EAAGA,EAAIogC,EAAgBpgC,IAC9BkiC,EAAG1iB,GAAmB2iB,EAAI3iB,GAAmBxf,EAC7CuhC,EAAKP,EAASkB,GAAM,UAAYlB,EAASmB,GAAO,UAAYnB,EAASkB,GAAM,QAKnFV,EAAU,MAYhB,GAPItiB,GAEAqiB,EADEpB,EACG,6EAEA,gCAGL/f,EAEAmhB,EADEpB,EACG,UAAYa,EAASpiB,GAAU,MAAQqiB,EAAUriB,GAAU,IAE3D,UAAYoiB,EAASpiB,GAAU,UAGtC,IAAK1e,EAAI,EAAGA,EAAIkgC,EAAgBlgC,IAE5BqhC,EADEpB,EACG,OAASjgC,EAAI,OAAS8gC,EAASpiB,EAAO3N,OAAO,CAAC/Q,KAAO,MAAQ+gC,EAAUriB,GAAU,IAEjF,OAAS1e,EAAI,OAAS8gC,EAASpiB,EAAO3N,OAAO,CAAC/Q,KAAO,KAShE,GALKkgB,GACHmhB,EAAK,eAEPx5B,EAAKhB,KAAK,KAENmY,EAAO,CACT,IAAIwjB,EAAU36B,EAAKd,KAAK,MACxBs5B,EAAOmC,GAEP3C,EAAUC,GAAY0C,EAGxB,IAAIxiB,GAAY,IAAI2M,SAAS,CAAC9kB,EAAKd,KAAK,MAAO,YAAau5B,GAAcv5B,KAAK,IAA/D,GAEhB,OADA64B,EAAeE,GAAY9f,GACpBA,GAAU9e,KAAKuF,K,6BC/YxB,IAAIg8B,EAAmB,GACnB/C,EAAmB,EAAQ,IAC3BC,EAAa,EAAQ,IACrBF,EAAW,EAAQ,IAEvBtgC,EAAOD,QAAU,SAA0B4gC,EAAUr5B,EAAOmZ,EAAWZ,GACrE,IAAItf,EAAGkH,EAAGqB,EAAUy6B,EAAWlC,EAAOr/B,EAAGwhC,EAAQC,EAC7CC,EAAoBJ,EAAiB3C,GACzC,GAAI+C,EACF,OAAOA,EAAkB3hC,KAAKuF,GAGhC,IAAIoB,EAAO,GACPy4B,EAAe,YAAcR,EAEjCj4B,EAAKhB,KAAK,YAAcy5B,EAAe,SACvCz4B,EAAKhB,KAAK,aACVgB,EAAKhB,KAAK64B,EAAiBj5B,EAAO,IAAK,cAAeA,EAAMuQ,SAE5D,IAAIkqB,EAAUzB,EAASzgB,EAAQ,OAAS,KACxC,IAAKtf,EAAI,EAAGA,EAAI+G,EAAM6Y,gBAAiB5f,IACrCmI,EAAKhB,KAAK,OAASq6B,EAAQxhC,GAAK,MAAQigC,EAAWl5B,EAAMuQ,OAAQ,cAAetX,GAAK,KAIvF,IADAgjC,EAAY,GACPhjC,EAAI,EAAGA,EAAI+G,EAAM6Y,gBAAiB5f,IACrCuI,EAAW,IAAMvI,EACjBgjC,EAAU77B,KAAKoB,GACfJ,EAAKhB,KAAK,QAAUoB,EAAW,MAAQi5B,EAAQxhC,GAAK,QAAUuI,EAAW,UAAYA,EAAW,SAGlG,IAAKvI,EAAI,EAAGA,EAAI+G,EAAMqB,UAAWpI,IAC/BmI,EAAKhB,KAAK,IAAMnH,EAAI,MAAQkgB,EAAUlG,MAAMgpB,EAAU3xB,OAAO,CAACrR,MAIhE,IADA8gC,EAAQ,GACH9gC,EAAI,EAAGA,EAAI+G,EAAMqB,UAAWpI,IAC/B8gC,EAAM35B,KAAK,OAASJ,EAAMqB,UAAY,IAAMpI,EAAI,GAAK,GAAK,QAAUA,GAKtE,IAHA8gC,EAAM35B,KAAK,OAASJ,EAAMqB,UAAY,IAAMrB,EAAMqB,UAAY,GAAK,GAAK,KACxED,EAAKhB,KAAK,YAAc25B,EAAMz5B,KAAK,OAAS,aAEvCrH,EAAI,EAAGA,EAAI+G,EAAMqB,UAAWpI,IAAK,CAGpC,IAFA8gC,EAAQ,GACRr/B,EAAIsF,EAAMqB,UACLlB,EAAI,EAAGA,EAAIzF,EAAGyF,IACjB45B,EAAM35B,KAAK,MAAQD,GAAKzF,EAAI,GAAKzB,GAAK,QAAUkH,GAElD45B,EAAM35B,KAAK,MAAQD,GAAKzF,EAAI,GAAKzB,GAAK,KACtCkjC,EAAShjB,EAAUlG,MAAMgpB,EAAU3xB,OAAO,CAACrR,KAC3CijC,EAAS,IAAMnC,EAAMz5B,KAAK,OAAS,QACnCc,EAAKhB,KAAK+7B,EAAS,MAAQD,EAAS,KAGtC,IAAKjjC,EAAI+G,EAAM6Y,gBAAkB,EAAG5f,GAAK,EAAGA,IAC1CmI,EAAKhB,KAAK,KAGZgB,EAAKhB,KAAK,gBACVgB,EAAKhB,KAAK,KAEV,IAAIiZ,EAAY,IAAI6M,SAAS,CAAC9kB,EAAKd,KAAK,MAAO,YAAau5B,GAAcv5B,KAAK,IAA/D,GAKhB,OAHIiY,GAAOuD,QAAQ6D,IAAIve,EAAKd,KAAK,OAEjC07B,EAAiB3C,GAAYhgB,EACtBA,EAAU5e,KAAKuF,K,6BClExB,IAAI+4B,EAAS,EAAQ,IACjBC,EAAW,EAAQ,IACnBC,EAAmB,EAAQ,IAC3Bp6B,EAAY,EAAQ,IACpBD,EAAc,EAAQ,IACtBs6B,EAAa,EAAQ,IAErBmD,EAAe,GAEnB3jC,EAAOD,QAAU,SAAU4gC,EAAUr5B,EAAOmZ,EAAWZ,EAAOC,GAC5D,IAAI8jB,EAAgBD,EAAahD,GACjC,GAAIiD,EACF,OAAOA,EAAc7hC,KAAKuF,GAG5B,IAKI/G,EAAGyB,EAAGnB,EALN0e,EAASjY,EAAMiY,OACfC,EAAQlY,EAAMkY,MACdW,EAAkB7Y,EAAM6Y,gBACxBT,EAAWpY,EAAMoY,SAGjBhX,EAAO,GACPy4B,EAAe,UAAYR,EAE3Bc,EAAehhB,EAAUif,KAEzBmC,EAAOvB,EAAS,KAChBwB,EAAYjiB,EAAQ,SAAW,IAC/BkiB,EAAUzB,EAASzgB,EAAQ,OAAS,KACpCmiB,EAAY1B,EAASzgB,EAAQ,YAAc,KAE3CoiB,GAAsB,EAC1B,IAAKphC,EAAI,EAAGA,EAAIsf,EAAiBtf,IAC3BqF,EAAYsZ,IAAUtZ,EAAYsZ,EAAM3e,MAC1CohC,GAAsB,GAK1B,SAASC,EAAMr5B,GACbH,EAAKhB,KAAK,MAAQmB,GAAO,KAG3B,IAAIw5B,EAAgB,GACpB,IAAK9hC,EAAI,EAAGA,EAAI4f,EAAiB5f,IAC/B8hC,EAAc36B,KAAKm6B,EAAK,CAACthC,KAG3BmI,EAAKhB,KAAK,YAAcy5B,EAAe,UAAYkB,EAAcz6B,KAAK,MAAQ,OAE9E,IAAIhH,EAAI,EACR,SAASijC,EAAal+B,EAAM4B,GAExB26B,OADan8B,IAAXwB,EACG,OAAU3G,IAAO,OAAS+E,EAAKiC,KAAK,OAAS,IAE7C,OAAUhH,IAAO,QAAU+E,EAAKiC,KAAK,OAAS,MAAQL,EAAS,OAASA,EAAS,KAiB1F,IAbA26B,EAAK,aACLA,EAAK,cAEDpiB,IACFoiB,EAAK,OAASJ,EAAY,mBAC1BI,EAAK,oDACLA,EAAK,2BACLA,EAAK,aAAeJ,EAAY,iBAAmBA,EAAY,4CAC/DI,EAAK,wFAA8FJ,EAAY,eAAmBA,EAAY,wDAC9II,EAAK,OACLA,EAAK,MAGFrhC,EAAI,EAAGA,EAAIsf,EAAiBtf,IAC/BqhC,EAAK,OAASH,EAAQlhC,GAAK,MAAQ2/B,EAAWl5B,EAAMuQ,OAAQ,cAAehX,GAAK,KAG7EohC,GACHv5B,EAAKhB,KAAK64B,EAAiBj5B,EAAO,IAAK,aAAckY,IAGvD,IAAI4f,EAAW,GACf,IAAKv+B,EAAI,EAAGA,EAAIsf,EAAiBtf,IAC/B,OAAQsF,EAAUqZ,IAChB,KAAKrZ,EAAUI,QACb64B,EAASv+B,IAAK,EACd,MACF,KAAKsF,EAAUK,gBACb44B,EAASv+B,GAAKqF,EAAYsZ,EAAM3e,IAKtC,IAAKA,EAAI,EAAGA,EAAIsf,EAAiBtf,IAC3Bu+B,EAASv+B,IACXqhC,EAAK,OAASF,EAAUnhC,GAAK,SAC7BqhC,EAAK,OAASH,EAAQlhC,GAAK,KAC3BqhC,EAAK,aAAeF,EAAUnhC,GAAK,WACnCqhC,EAAK,oBAAsBF,EAAUnhC,GAAK,UAC1CqhC,EAAK,SAAWT,EAAa,CAAC5gC,EAAG,MAAQ,MAAQghC,EAAKhhC,GAAK,YAC3DqhC,EAAK,UAAYF,EAAUnhC,GAAK,SAChCqhC,EAAK,MAEe,WAAhBxiB,EAAS7e,GACXqhC,EAAKF,EAAUnhC,GAAK,OAASghC,EAAKhhC,GAAK,WAAakhC,EAAQlhC,GAAK,MAEjEqhC,EAAKF,EAAUnhC,GAAK,OAASghC,EAAKhhC,GAAK,UACvCqhC,EAAK,OAASF,EAAUnhC,GAAK,MAAQ0e,EAAO1e,GAAK,KAAOmhC,EAAUnhC,GAAK,MAAQ0e,EAAO1e,GAAK,KAC3FqhC,EAAK,OAASF,EAAUnhC,GAAK,MAAQkhC,EAAQlhC,GAAK,SAAWmhC,EAAUnhC,GAAK,MAAQkhC,EAAQlhC,GAAK,UAKvG,IAAKA,EAAI,EAAGmB,EAAI,GAAInB,EAAIsf,EAAiBtf,IACvCmB,EAAEnB,GAAK0e,EAAO1e,GAAK,EAGrBw/B,EAAOr+B,GAAG,SAAUwgC,GAGlB,IAFA,IAAIC,EAAU,GACVl7B,EAAS,GACJ1G,EAAI,EAAGA,EAAIsf,EAAiBtf,IACnC4hC,EAAQ5hC,GAAK,CAACmhC,EAAUnhC,GAAI2hC,EAAI3hC,GAAK0e,EAAO1e,IACxB,WAAhB6e,EAAS7e,IAAmB2hC,EAAI3hC,GAAK0e,EAAO1e,GAAK,IAAG0G,EAAO1G,GAAKkhC,EAAQlhC,IAE9E,IAAKA,EAAI,EAAGA,EAAIsf,EAAiBtf,IAC/BgjC,EAAYpB,EAAQ5hC,GAAI0G,EAAO1G,OAInCqhC,EAAK,gBAAkBthC,EAAI,KAE3BshC,EAAK,eACLx5B,EAAKhB,KAAK,KAENmY,GAAOuD,QAAQ6D,IAAIve,EAAKd,KAAK,OAEjC,IAAIiZ,EAAY,IAAI2M,SAAS,CAAC9kB,EAAKd,KAAK,MAAO,YAAau5B,GAAcv5B,KAAK,IAA/D,GAEhB,OADA+7B,EAAahD,GAAY9f,EAClBA,EAAU9e,KAAKuF,K,yjkBC7IXw8B,EAAe,UACfC,EAAmB,SAACviC,GAAmC,IAA5ByH,EAA4B,uDAApB+6B,EAC9C,iBAAW/6B,EAAX,YAAoBzH,IAITyiC,EAA0B,kBAC1BC,EAAqB,cACrBC,EAAqB,cACrBC,EAA0B,mBAK1BC,EAAO,WAAa,2BAAT1+B,EAAS,yBAATA,EAAS,gBAC/B,OAAOA,EAAKiC,KAHG,MAMJ08B,EAAQ,WACnB,MARmB,MAQGD,EAAI,WAAJ,cAGXE,EAAUD,EACVE,EAAKF,EAGLG,EAAiB,IACjBT,EAAkB,IAClBU,EAAsB,GAAH,OAAMZ,EAAN,aACnBa,EAAiB,GAAH,OAAMb,EAAN,SACdc,GAAiB,GAAH,OAAMd,EAAN,SACde,GAAsB,GAAH,OAAMf,EAAN,cAEnBgB,GAAY,IAEnBC,GAAa,GAEbC,GAAiB,WAAa,2BAATx7B,EAAS,yBAATA,EAAS,gBAClC,IAAI1H,EAAM0H,EAAK5B,KAAK68B,GACpB,OAAO,WAAa,2BAAT9+B,EAAS,yBAATA,EAAS,gBAClB,OAAO++B,EAAsB,CAAC5iC,GAAD,OAAS6D,GAAMiC,KAAKk9B,MAI/CG,GAAuB,WAAa,2BAATt/B,EAAS,yBAATA,EAAS,gBACxC,OAAOk/B,GAAsBl/B,EAAKiC,KAAKo8B,IAK5BkB,GAAU,SAAC1jC,GAAmC,IAA5ByH,EAA4B,uDAApB+6B,EACrC,OAAOD,EAAiBviC,EAAOyH,IAGpBk8B,GAAQ,SAAC3jC,GAAmC,IAA5ByH,EAA4B,uDAApB+6B,EACnC,OAAOkB,GAAQ,SAAD,OAAU1jC,EAAV,KAAoByH,IAGvBm8B,GAAS,SAAC5jC,GAAmC,IAA5ByH,EAA4B,uDAApB+6B,EACpC,OAAOkB,GAAQ,UAAD,OAAW1jC,EAAX,KAAqByH,IAGxBo8B,GAAKH,GACLI,GAAMJ,GAENK,GAAWL,GAAQ,WACnBM,GAAaN,GAAQ,aACrBO,GAAaP,GAAQ,aACrBQ,GAAcR,GAAQ,cACtBS,GAAQT,GAAQ,SAChBU,GAAQV,GAAQ,SAChBW,GAASX,GAAQ,UAEjBY,GAAMZ,GAAQ,YACda,GAAQb,GAAQ,cAChBc,GAAOd,GAAQ,aACfe,GAAUf,GAAQ,aAClBgB,GAAQhB,GAAQ,YAChBiB,GAAQjB,GAAQ,YAChBkB,GAAMlB,GAAQ,UACdmB,GAAOnB,GAAQ,QACfoB,GAAcpB,GAAQ,qBACtBqB,GAAerB,GAAQ,sBAEvBsB,GAAMtB,GAAQ,OACduB,GAAUvB,GAAQ,WAClBwB,GAAUxB,GAAQ,WAGlByB,GAAW,WAAa,IAAZllC,EAAY,uDAAR,IAC3B,OAAOyjC,GAAQ,YAAD,OAAazjC,EAAb,OAGHmlC,GAAQ,WAAa,IAAZnlC,EAAY,uDAAR,IACxB,OAAOyjC,GAAQ,SAAD,OAAUzjC,EAAV,OAGHolC,GAAQF,GAAS,KAEjBG,GAAW,WAAa,IAAZrlC,EAAY,uDAAR,IAC3B,OAAOyjC,GAAQ,YAAD,OAAazjC,EAAb,OAEHslC,GAAc7B,GAAQ,gBACtB8B,GAAe9B,GAAQ,iBAEvB+B,GAAU/B,GAAQ,aAOlBgC,GAAU/B,GAAM,kBAChBgC,GAAOhC,GAAM,mBAEbiC,GAAYnC,GACZoC,GAAgB,sCAAI1hC,EAAJ,yBAAIA,EAAJ,uBAAas/B,GAAoB,WAApB,EAAwBt/B,EAAxB,QAA8BohC,OAC3DO,GAAiB,sCAAI3hC,EAAJ,yBAAIA,EAAJ,uBAAas/B,GAAoB,WAApB,EAAwBt/B,EAAxB,QAA8BqhC,OAC5DO,GAAS,SAACC,GAAD,2BAAY7hC,EAAZ,iCAAYA,EAAZ,yBAAqBs/B,GAAoB,WAApB,oBAA+BuC,IAA/B,OAA4C7hC,KAC1E8hC,GAASzC,GACT0C,GAAQ1C,GAAe,SACvB2C,GAAc3C,GAAe,YAC7B4C,GAAY5C,GAAe,aAC3B6C,GAAU7C,GAAe,WACzB8C,GAAY9C,GAAe,aAC3B+C,GAAY/C,GAAe,aAC3BgD,GAAWhD,GAAe,YAC1BiD,GAAajD,GAAe,cAC5BkD,GAAalD,GAAe,cAC5BmD,GAAanD,GAAe,cAC5BoD,GAAYpD,GAAe,aAC3BqD,GAAWrD,GAAe,YAC1BsD,GAAUtD,GAAe,WACzBuD,GAAQvD,GAAe,SACvBwD,GAAWxD,GAAe,YAC1ByD,GAAOzD,GAAe,QACtB0D,GAAY1D,GAAe,aAC3B2D,GAAO3D,GAAe,QACtB4D,GAAW5D,GAAe,YAC1B6D,GAAY7D,GAAe,aAC3B8D,GAAY9D,GAAe,aAC3B+D,GAAW/D,GAAe,YAC1BgE,GAAUhE,GAAe,WACzBiE,GAAUjE,GAAe,WACzBkE,GAAclE,GAAe,eAC7BmE,GAASnE,GAAe,UACxBoE,GAAQpE,GAAe,SACvBqE,GAAQrE,GAAe,SACvBsE,GAAUtE,GAAe,WACzBuE,GAAWvE,GAAe,YAC1BwE,GAAOxE,GAAe,QACtByE,GAAQzE,GAAe,SACvB0E,GAAS1E,GAAe,UACxB2E,GAAS3E,GAAe,UACxB4E,GAAS5E,GAAe,UAIxB6E,GAAe,WAC1B,OAAQpC,GAAO,eAAP,wBAAiCnB,IAI9BwD,GAAcrC,GAAO,eACrBsC,GAAetC,GAAO,gBACtBuC,GAAavC,GAAO,cACpBwC,GAAcxC,GAAO,eACrByC,GAAazC,GAAO,aACpB0C,GAAc1C,GAAO,SAAU,SAC/B2C,GAAQ3C,GAAO,QAAS,aAAc,kBACtC4C,GAAiBrF,GAAe,kBAChCsF,GAAetF,GAAe,gBAC9BuF,GAAqBvF,GAAe,sBACpCwF,GAAkBxF,GAAe,mBACjCyF,GAAgBzF,GAAe,iBAC/B0F,GAAgB1F,GAAe,iBAC/B2F,GAAmB3F,GAAe,oBAClC4F,GAAYnD,GAAO,aAInBoD,GAAO,WAAmB,IAAlBrpC,EAAkB,uDAAV,MAC3B,OAAOmjC,EAAiBnjC,GAGbspC,GAAS,SAAA7+B,GACpB,OAAO84B,GAAW94B,IAAO,IAGd8+B,GAAsB,SAAAC,GACjC,OAAO,WACL,OAAOtlC,KAAKulC,UAAUD,IAAUtlC,KAAK80B,MAAMwQ,KAIlCE,GAA8B,WACzC,OAAO,GAGIC,GAAO,WAAmB,IAAlB3pC,EAAkB,uDAAV,MAC3B,OACEojC,GAAiBpjC,GAId,SAAS4pC,GAAqBr4B,GACnC,IAAIs4B,EAAKt4B,EAAEu4B,OACPC,EAAKx4B,EAAEy4B,OAGX,GAAW,IAAPH,GAAYt4B,EAAE04B,SAAU,OACf,CAACJ,EAAIE,GAAfA,EADyB,KACrBF,EADqB,KAW5B,OAPIt4B,EAAE24B,YAAcC,WAAWC,eAC7BL,GAAM,EACGx4B,EAAE24B,YAAcC,WAAWE,iBACpCN,GAAM,IAID,CACLO,GAAMT,EAAI,IACVS,GAAMP,EAAI,IACV,GAIJ,SAASO,GAAOC,EAAOC,GACrB,OAAOr1B,KAAKs1B,KAAKF,GAASp1B,KAAKC,IAAKo1B,EAAUr1B,KAAKu1B,IAAIH,IAG1C,I,GAAA,IACbI,YADa,SACDC,EAAKC,EAAWj6B,GAA8B,IAApBk6B,EAAoB,wDACpDF,GACFA,EAAIG,iBAAiBF,EAAWj6B,EAAUk6B,IAI9CE,eAPa,SAOEJ,EAAKC,EAAWj6B,GACzBg6B,GACFA,EAAIK,oBAAoBJ,EAAWj6B,IAIvCs6B,IAba,SAaT35B,GACF,OAAIA,EAAE45B,SAAW55B,EAAE45B,QAAQ,GAClB55B,EAAE45B,QAAQ,GAGZ55B,GAGT65B,MArBa,SAqBP75B,GACJ,IAAI25B,EAAMhnC,KAAKgnC,IAAI35B,GACnB,MAAO,CACL3M,EAAGsmC,EAAIG,MACPjmB,EAAG8lB,EAAII,S,uCClON,SAASC,GAAS36B,GAAqB,IAAX46B,EAAW,uDAAH,EAEvC,GAAc,IAAVA,EACA,OAAO56B,EAGX,IAAI3Q,OAAIsE,EAER,OAAO,SAAUknC,EAAIC,EAAIC,EAAIC,EAAIC,GACzB5rC,GACAuR,aAAavR,GAGjBA,EAAIqR,YAAW,WACXV,EAAS66B,EAAIC,EAAIC,EAAIC,EAAIC,KAC1BL,GAAS,MAKb,SAASM,GAASl7B,EAAU46B,GAE/B,IAAIvrC,OAAIsE,EAER,OAAO,SAAUknC,EAAIC,EAAIC,EAAIC,EAAIC,GACxB5rC,IACDA,EAAIqR,YAAW,WACXV,EAAS66B,EAAIC,EAAIC,EAAIC,EAAIC,GACzB5rC,EAAI,OACLurC,GAAS,OAMjB,SAASO,GAAQn7B,EAAUioB,EAASmT,GACvC,OAAO,WAAa,2BAAT7nC,EAAS,yBAATA,EAAS,gBAChB,IAAM8nC,EAAWD,EAAa3zB,OAAM,SAAA6zB,GAChC,OAAOrT,EAAQqT,EAAM3qC,QAAQ8C,MAAMw0B,EAAS10B,MAG5C8nC,GACAr7B,EAASvM,MAAMw0B,EAAS10B,IAK7B,SAASgoC,GAAQ9pC,EAAKuO,GACzBnR,OAAOuI,KAAK3F,GAAKwV,SAAQ,SAACvX,EAAKuU,GAC3BjE,EAAStQ,EAAK+B,EAAI/B,GAAMuU,MAIzB,SAASu3B,GAAO/pC,EAAKuO,GACxB,OAAOnR,OAAOuI,KAAK3F,GAAKyV,KAAI,SAACxX,EAAKuU,GAC9B,OAAOjE,EAAStQ,EAAK+B,EAAI/B,GAAMuU,MAuBhC,SAASw3B,GAAYrsC,GACxB,OAAO,MAAOA,EAGX,SAASssC,GAAetsC,GAC3B,OAA8B,IAAvBqsC,GAAYrsC,GAGhB,SAASusC,GAAUvsC,GACtB,MAAuB,kBAATA,EAGX,SAASwsC,GAASxsC,GACrB,MAAuB,iBAATA,EAWX,SAASysC,GAASzsC,GACrB,MAAuB,UAAhB,KAAOA,KAAsBoF,MAAMC,QAAQrF,KAAW0sC,GAAS1sC,KAAWwsC,GAASxsC,IAAoB,OAAVA,EAGjG,SAAS2sC,GAAW3sC,GACvB,MAAuB,mBAATA,EAGX,SAAS0sC,GAAS1sC,GACrB,MAAuB,iBAATA,EAOX,SAAS4sC,GAAUC,GACtB,OALG,SAAgBA,GACnB,OAAe,IAARA,EAICC,CAAOD,GAGZ,SAASje,GAAMvsB,GAClB,IAAIgqC,GAAYhqC,GAChB,OAAO0qC,KAAK5jC,MAAM4jC,KAAKC,UAAU3qC,IAgBrC,IAAM4qC,GAAmB,yBAEnBC,IAAQ,IACV,OAAS,EACT,OAAS,EACT,IAAM,EACN,MAAQ,EACR,MAAQ,EACR,QAAU,EACV,MAAQ,GAPE,eAQF,GARE,OASV,WAAW,GATD,OAUV,YAAY,GAVF,OAWV,OAAO,GAXG,IAeDC,GAAO,SAAC3nC,GAAqB,2BAATrB,EAAS,iCAATA,EAAS,kBAEtC,IAAIipC,EAAU5nC,EAAQsS,KAAI,SAACu1B,EAAIx4B,GAE3B,IAAIu4B,EAAUjpC,EAAK0Q,IAAU,GAQ7B,OANKzP,MAAMC,QAAQ+nC,KACfA,EAAU,CAACA,IAKRC,GAFPD,EAAUA,EAAQhnC,KAAK,QAGxBA,KAAK,IAUR,OARAgnC,EAAUA,EAAQ9kC,QAAQ2kC,IAAkB,SAAUtlC,EAAO2lC,GACzD,OAAIJ,GAASI,EAAGC,eACL5lC,EAEAA,EAAMW,QAAQ,KAAd,aAA0BglC,EAA1B,UAcNE,GAAuB,SAACvqC,EAAKwqC,GACtC,IAAMC,EAAazqC,EAAIqD,QAAO,SAAAY,GAAI,OAAIA,EAAK4e,QAAL,UAAgB2nB,EAAhB,OAA+B,KAC/DE,EAAaD,EAAW51B,KAAI,SAAA5Q,GAC9B,MAAwBA,EACnBO,MADmB,UACVgmC,EADU,MACE,GACrBhmC,MAAM,KAAK,GACXc,OACAd,MAAM,KAJX,YAMA,MAAO,CAAElG,OANT,KAMiBga,MANjB,SASJ,MAAO,CAACmyB,EAAYC,I,mBCpObC,GAAU,KACVC,GAAqC,oBAAjBntB,aAA+BA,aAAetb,MAClE0oC,GAAS34B,KAAK44B,OAUZ54B,KAAK64B,GCLX,SAAS,KACd,IAAI7P,EAAM,IAAI,GAAoB,IAqBlC,OAnBI,IAAuBzd,eACzByd,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,GAGZA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EASF,SAAS,GAAM3kB,GACpB,IAAI2kB,EAAM,IAAI,GAAoB,IAiBlC,OAhBAA,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACL2kB,EAUF,SAAS8P,GAAK9P,EAAK3kB,GAiBxB,OAhBA2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACL2kB,EAwBF,SAAS+P,GAAWC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GACpG,IAAI/Q,EAAM,IAAI,GAAoB,IAiBlC,OAhBAA,EAAI,GAAKgQ,EACThQ,EAAI,GAAKiQ,EACTjQ,EAAI,GAAKkQ,EACTlQ,EAAI,GAAKmQ,EACTnQ,EAAI,GAAKoQ,EACTpQ,EAAI,GAAKqQ,EACTrQ,EAAI,GAAKsQ,EACTtQ,EAAI,GAAKuQ,EACTvQ,EAAI,GAAKwQ,EACTxQ,EAAI,GAAKyQ,EACTzQ,EAAI,IAAM0Q,EACV1Q,EAAI,IAAM2Q,EACV3Q,EAAI,IAAM4Q,EACV5Q,EAAI,IAAM6Q,EACV7Q,EAAI,IAAM8Q,EACV9Q,EAAI,IAAM+Q,EACH/Q,EAyBF,SAAS,GAAIA,EAAKgQ,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAiBlG,OAhBA/Q,EAAI,GAAKgQ,EACThQ,EAAI,GAAKiQ,EACTjQ,EAAI,GAAKkQ,EACTlQ,EAAI,GAAKmQ,EACTnQ,EAAI,GAAKoQ,EACTpQ,EAAI,GAAKqQ,EACTrQ,EAAI,GAAKsQ,EACTtQ,EAAI,GAAKuQ,EACTvQ,EAAI,GAAKwQ,EACTxQ,EAAI,GAAKyQ,EACTzQ,EAAI,IAAM0Q,EACV1Q,EAAI,IAAM2Q,EACV3Q,EAAI,IAAM4Q,EACV5Q,EAAI,IAAM6Q,EACV7Q,EAAI,IAAM8Q,EACV9Q,EAAI,IAAM+Q,EACH/Q,EASF,SAASgR,GAAShR,GAiBvB,OAhBAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAUF,SAASiR,GAAUjR,EAAK3kB,GAE7B,GAAI2kB,IAAQ3kB,EAAG,CACb,IAAI61B,EAAM71B,EAAE,GACR81B,EAAM91B,EAAE,GACR+1B,EAAM/1B,EAAE,GACRg2B,EAAMh2B,EAAE,GACRi2B,EAAMj2B,EAAE,GACRk2B,EAAMl2B,EAAE,IACZ2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,IACX2kB,EAAI,GAAKkR,EACTlR,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,IACX2kB,EAAI,GAAKmR,EACTnR,EAAI,GAAKqR,EACTrR,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAMoR,EACVpR,EAAI,IAAMsR,EACVtR,EAAI,IAAMuR,OAEVvR,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,IACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,IACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,GACZ2kB,EAAI,IAAM3kB,EAAE,GACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IAGd,OAAO2kB,EAUF,SAAS,GAAOA,EAAK3kB,GAC1B,IAAIm2B,EAAMn2B,EAAE,GACR61B,EAAM71B,EAAE,GACR81B,EAAM91B,EAAE,GACR+1B,EAAM/1B,EAAE,GACRo2B,EAAMp2B,EAAE,GACRq2B,EAAMr2B,EAAE,GACRg2B,EAAMh2B,EAAE,GACRi2B,EAAMj2B,EAAE,GACRs2B,EAAMt2B,EAAE,GACRu2B,EAAMv2B,EAAE,GACRw2B,EAAMx2B,EAAE,IACRk2B,EAAMl2B,EAAE,IACRy2B,EAAMz2B,EAAE,IACR02B,EAAM12B,EAAE,IACR22B,EAAM32B,EAAE,IACR42B,EAAM52B,EAAE,IACR62B,EAAMV,EAAME,EAAMR,EAAMO,EACxBU,EAAMX,EAAMH,EAAMF,EAAMM,EACxBW,EAAMZ,EAAMF,EAAMF,EAAMK,EACxBY,EAAMnB,EAAMG,EAAMF,EAAMO,EACxBY,EAAMpB,EAAMI,EAAMF,EAAMM,EACxBa,EAAMpB,EAAMG,EAAMF,EAAMC,EACxBmB,EAAMb,EAAMI,EAAMH,EAAME,EACxBW,EAAMd,EAAMK,EAAMH,EAAMC,EACxBY,EAAMf,EAAMM,EAAMV,EAAMO,EACxBa,EAAMf,EAAMI,EAAMH,EAAME,EACxBa,EAAMhB,EAAMK,EAAMV,EAAMQ,EACxBc,EAAMhB,EAAMI,EAAMV,EAAMS,EAExBc,EAAMZ,EAAMW,EAAMV,EAAMS,EAAMR,EAAMO,EAAMN,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,EAE5E,OAAKM,GAILA,EAAM,EAAMA,EACZ9S,EAAI,IAAM0R,EAAMmB,EAAMxB,EAAMuB,EAAMtB,EAAMqB,GAAOG,EAC/C9S,EAAI,IAAMmR,EAAMyB,EAAM1B,EAAM2B,EAAMzB,EAAMuB,GAAOG,EAC/C9S,EAAI,IAAM+R,EAAMQ,EAAMP,EAAMM,EAAML,EAAMI,GAAOS,EAC/C9S,EAAI,IAAM6R,EAAMS,EAAMV,EAAMW,EAAMhB,EAAMc,GAAOS,EAC/C9S,EAAI,IAAMqR,EAAMqB,EAAMjB,EAAMoB,EAAMvB,EAAMmB,GAAOK,EAC/C9S,EAAI,IAAMwR,EAAMqB,EAAM1B,EAAMuB,EAAMtB,EAAMqB,GAAOK,EAC/C9S,EAAI,IAAMgS,EAAMI,EAAMN,EAAMS,EAAMN,EAAME,GAAOW,EAC/C9S,EAAI,IAAM2R,EAAMY,EAAMV,EAAMO,EAAMb,EAAMY,GAAOW,EAC/C9S,EAAI,IAAMyR,EAAMmB,EAAMlB,EAAMgB,EAAMpB,EAAMkB,GAAOM,EAC/C9S,EAAI,IAAMkR,EAAMwB,EAAMlB,EAAMoB,EAAMxB,EAAMoB,GAAOM,EAC/C9S,EAAI,KAAO8R,EAAMQ,EAAMP,EAAMK,EAAMH,EAAMC,GAAOY,EAChD9S,EAAI,KAAO4R,EAAMQ,EAAMT,EAAMW,EAAMf,EAAMW,GAAOY,EAChD9S,EAAI,KAAO0R,EAAMe,EAAMhB,EAAMkB,EAAMtB,EAAMmB,GAAOM,EAChD9S,EAAI,KAAOwR,EAAMmB,EAAMzB,EAAMuB,EAAMtB,EAAMqB,GAAOM,EAChD9S,EAAI,KAAO+R,EAAMI,EAAML,EAAMO,EAAML,EAAME,GAAOY,EAChD9S,EAAI,KAAO2R,EAAMU,EAAMT,EAAMO,EAAMN,EAAMK,GAAOY,EACzC9S,GApBE,KA8BJ,SAAS+S,GAAQ/S,EAAK3kB,GAC3B,IAAIm2B,EAAMn2B,EAAE,GACR61B,EAAM71B,EAAE,GACR81B,EAAM91B,EAAE,GACR+1B,EAAM/1B,EAAE,GACRo2B,EAAMp2B,EAAE,GACRq2B,EAAMr2B,EAAE,GACRg2B,EAAMh2B,EAAE,GACRi2B,EAAMj2B,EAAE,GACRs2B,EAAMt2B,EAAE,GACRu2B,EAAMv2B,EAAE,GACRw2B,EAAMx2B,EAAE,IACRk2B,EAAMl2B,EAAE,IACRy2B,EAAMz2B,EAAE,IACR02B,EAAM12B,EAAE,IACR22B,EAAM32B,EAAE,IACR42B,EAAM52B,EAAE,IAiBZ,OAhBA2kB,EAAI,GAAK0R,GAAOG,EAAMI,EAAMV,EAAMS,GAAOJ,GAAOP,EAAMY,EAAMX,EAAMU,GAAOD,GAAOV,EAAME,EAAMD,EAAMO,GAClG7R,EAAI,KAAOkR,GAAOW,EAAMI,EAAMV,EAAMS,GAAOJ,GAAOT,EAAMc,EAAMb,EAAMY,GAAOD,GAAOZ,EAAMI,EAAMH,EAAMS,IACpG7R,EAAI,GAAKkR,GAAOG,EAAMY,EAAMX,EAAMU,GAAON,GAAOP,EAAMc,EAAMb,EAAMY,GAAOD,GAAOZ,EAAMG,EAAMF,EAAMC,GAClGrR,EAAI,KAAOkR,GAAOG,EAAME,EAAMD,EAAMO,GAAOH,GAAOP,EAAMI,EAAMH,EAAMS,GAAOD,GAAOT,EAAMG,EAAMF,EAAMC,IACpGrR,EAAI,KAAOyR,GAAOI,EAAMI,EAAMV,EAAMS,GAAOL,GAAON,EAAMY,EAAMX,EAAMU,GAAOF,GAAOT,EAAME,EAAMD,EAAMO,IACpG7R,EAAI,GAAKwR,GAAOK,EAAMI,EAAMV,EAAMS,GAAOL,GAAOR,EAAMc,EAAMb,EAAMY,GAAOF,GAAOX,EAAMI,EAAMH,EAAMS,GAClG7R,EAAI,KAAOwR,GAAOH,EAAMY,EAAMX,EAAMU,GAAOP,GAAON,EAAMc,EAAMb,EAAMY,GAAOF,GAAOX,EAAMG,EAAMF,EAAMC,IACpGrR,EAAI,GAAKwR,GAAOH,EAAME,EAAMD,EAAMO,GAAOJ,GAAON,EAAMI,EAAMH,EAAMS,GAAOF,GAAOR,EAAMG,EAAMF,EAAMC,GAClGrR,EAAI,GAAKyR,GAAOG,EAAMK,EAAMV,EAAMQ,GAAOJ,GAAOD,EAAMO,EAAMX,EAAMS,GAAOD,GAAOJ,EAAMH,EAAMD,EAAMM,GAClG5R,EAAI,KAAOwR,GAAOI,EAAMK,EAAMV,EAAMQ,GAAOJ,GAAOT,EAAMe,EAAMb,EAAMW,GAAOD,GAAOZ,EAAMK,EAAMH,EAAMQ,IACpG5R,EAAI,IAAMwR,GAAOE,EAAMO,EAAMX,EAAMS,GAAON,GAAOP,EAAMe,EAAMb,EAAMW,GAAOD,GAAOZ,EAAMI,EAAMF,EAAMM,GACnG1R,EAAI,MAAQwR,GAAOE,EAAMH,EAAMD,EAAMM,GAAOH,GAAOP,EAAMK,EAAMH,EAAMQ,GAAOD,GAAOT,EAAMI,EAAMF,EAAMM,IACrG1R,EAAI,MAAQyR,GAAOG,EAAMI,EAAMH,EAAME,GAAOJ,GAAOD,EAAMM,EAAMX,EAAMU,GAAOD,GAAOJ,EAAMG,EAAMR,EAAMO,IACrG5R,EAAI,IAAMwR,GAAOI,EAAMI,EAAMH,EAAME,GAAOJ,GAAOT,EAAMc,EAAMb,EAAMY,GAAOD,GAAOZ,EAAMW,EAAMV,EAAMS,GACnG5R,EAAI,MAAQwR,GAAOE,EAAMM,EAAMX,EAAMU,GAAON,GAAOP,EAAMc,EAAMb,EAAMY,GAAOD,GAAOZ,EAAMG,EAAMF,EAAMO,IACrG1R,EAAI,IAAMwR,GAAOE,EAAMG,EAAMR,EAAMO,GAAOH,GAAOP,EAAMW,EAAMV,EAAMS,GAAOD,GAAOT,EAAMG,EAAMF,EAAMO,GAC5F1R,EASF,SAASgT,GAAY33B,GAC1B,IAAIm2B,EAAMn2B,EAAE,GACR61B,EAAM71B,EAAE,GACR81B,EAAM91B,EAAE,GACR+1B,EAAM/1B,EAAE,GACRo2B,EAAMp2B,EAAE,GACRq2B,EAAMr2B,EAAE,GACRg2B,EAAMh2B,EAAE,GACRi2B,EAAMj2B,EAAE,GACRs2B,EAAMt2B,EAAE,GACRu2B,EAAMv2B,EAAE,GACRw2B,EAAMx2B,EAAE,IACRk2B,EAAMl2B,EAAE,IACRy2B,EAAMz2B,EAAE,IACR02B,EAAM12B,EAAE,IACR22B,EAAM32B,EAAE,IACR42B,EAAM52B,EAAE,IAcZ,OAbUm2B,EAAME,EAAMR,EAAMO,IAWlBI,EAAMI,EAAMV,EAAMS,IAVlBR,EAAMH,EAAMF,EAAMM,IASlBG,EAAMK,EAAMV,EAAMQ,IARlBP,EAAMF,EAAMF,EAAMK,IAOlBG,EAAMI,EAAMH,EAAME,IANlBb,EAAMG,EAAMF,EAAMO,IAKlBC,EAAMM,EAAMV,EAAMO,IAJlBZ,EAAMI,EAAMF,EAAMM,IAGlBC,EAAMK,EAAMH,EAAMC,IAFlBX,EAAMG,EAAMF,EAAMC,IAClBM,EAAMI,EAAMH,EAAME,GAkBvB,SAASmB,GAASjT,EAAK3kB,EAAG8G,GAC/B,IAAIqvB,EAAMn2B,EAAE,GACR61B,EAAM71B,EAAE,GACR81B,EAAM91B,EAAE,GACR+1B,EAAM/1B,EAAE,GACRo2B,EAAMp2B,EAAE,GACRq2B,EAAMr2B,EAAE,GACRg2B,EAAMh2B,EAAE,GACRi2B,EAAMj2B,EAAE,GACRs2B,EAAMt2B,EAAE,GACRu2B,EAAMv2B,EAAE,GACRw2B,EAAMx2B,EAAE,IACRk2B,EAAMl2B,EAAE,IACRy2B,EAAMz2B,EAAE,IACR02B,EAAM12B,EAAE,IACR22B,EAAM32B,EAAE,IACR42B,EAAM52B,EAAE,IAER63B,EAAK/wB,EAAE,GACPgxB,EAAKhxB,EAAE,GACPixB,EAAKjxB,EAAE,GACPkxB,EAAKlxB,EAAE,GA6BX,OA5BA6d,EAAI,GAAKkT,EAAK1B,EAAM2B,EAAK1B,EAAM2B,EAAKzB,EAAM0B,EAAKvB,EAC/C9R,EAAI,GAAKkT,EAAKhC,EAAMiC,EAAKzB,EAAM0B,EAAKxB,EAAMyB,EAAKtB,EAC/C/R,EAAI,GAAKkT,EAAK/B,EAAMgC,EAAK9B,EAAM+B,EAAKvB,EAAMwB,EAAKrB,EAC/ChS,EAAI,GAAKkT,EAAK9B,EAAM+B,EAAK7B,EAAM8B,EAAK7B,EAAM8B,EAAKpB,EAC/CiB,EAAK/wB,EAAE,GACPgxB,EAAKhxB,EAAE,GACPixB,EAAKjxB,EAAE,GACPkxB,EAAKlxB,EAAE,GACP6d,EAAI,GAAKkT,EAAK1B,EAAM2B,EAAK1B,EAAM2B,EAAKzB,EAAM0B,EAAKvB,EAC/C9R,EAAI,GAAKkT,EAAKhC,EAAMiC,EAAKzB,EAAM0B,EAAKxB,EAAMyB,EAAKtB,EAC/C/R,EAAI,GAAKkT,EAAK/B,EAAMgC,EAAK9B,EAAM+B,EAAKvB,EAAMwB,EAAKrB,EAC/ChS,EAAI,GAAKkT,EAAK9B,EAAM+B,EAAK7B,EAAM8B,EAAK7B,EAAM8B,EAAKpB,EAC/CiB,EAAK/wB,EAAE,GACPgxB,EAAKhxB,EAAE,GACPixB,EAAKjxB,EAAE,IACPkxB,EAAKlxB,EAAE,IACP6d,EAAI,GAAKkT,EAAK1B,EAAM2B,EAAK1B,EAAM2B,EAAKzB,EAAM0B,EAAKvB,EAC/C9R,EAAI,GAAKkT,EAAKhC,EAAMiC,EAAKzB,EAAM0B,EAAKxB,EAAMyB,EAAKtB,EAC/C/R,EAAI,IAAMkT,EAAK/B,EAAMgC,EAAK9B,EAAM+B,EAAKvB,EAAMwB,EAAKrB,EAChDhS,EAAI,IAAMkT,EAAK9B,EAAM+B,EAAK7B,EAAM8B,EAAK7B,EAAM8B,EAAKpB,EAChDiB,EAAK/wB,EAAE,IACPgxB,EAAKhxB,EAAE,IACPixB,EAAKjxB,EAAE,IACPkxB,EAAKlxB,EAAE,IACP6d,EAAI,IAAMkT,EAAK1B,EAAM2B,EAAK1B,EAAM2B,EAAKzB,EAAM0B,EAAKvB,EAChD9R,EAAI,IAAMkT,EAAKhC,EAAMiC,EAAKzB,EAAM0B,EAAKxB,EAAMyB,EAAKtB,EAChD/R,EAAI,IAAMkT,EAAK/B,EAAMgC,EAAK9B,EAAM+B,EAAKvB,EAAMwB,EAAKrB,EAChDhS,EAAI,IAAMkT,EAAK9B,EAAM+B,EAAK7B,EAAM8B,EAAK7B,EAAM8B,EAAKpB,EACzCjS,EAWF,SAAS,GAAUA,EAAK3kB,EAAG7K,GAChC,IAGIghC,EAAKN,EAAKC,EAAKC,EACfK,EAAKC,EAAKL,EAAKC,EACfK,EAAKC,EAAKC,EAAKN,EALf9qC,EAAI+J,EAAE,GACNyW,EAAIzW,EAAE,GACN4X,EAAI5X,EAAE,GAyCV,OApCI6K,IAAM2kB,GACRA,EAAI,IAAM3kB,EAAE,GAAK5U,EAAI4U,EAAE,GAAK4L,EAAI5L,EAAE,GAAK+M,EAAI/M,EAAE,IAC7C2kB,EAAI,IAAM3kB,EAAE,GAAK5U,EAAI4U,EAAE,GAAK4L,EAAI5L,EAAE,GAAK+M,EAAI/M,EAAE,IAC7C2kB,EAAI,IAAM3kB,EAAE,GAAK5U,EAAI4U,EAAE,GAAK4L,EAAI5L,EAAE,IAAM+M,EAAI/M,EAAE,IAC9C2kB,EAAI,IAAM3kB,EAAE,GAAK5U,EAAI4U,EAAE,GAAK4L,EAAI5L,EAAE,IAAM+M,EAAI/M,EAAE,MAE9Cm2B,EAAMn2B,EAAE,GACR61B,EAAM71B,EAAE,GACR81B,EAAM91B,EAAE,GACR+1B,EAAM/1B,EAAE,GACRo2B,EAAMp2B,EAAE,GACRq2B,EAAMr2B,EAAE,GACRg2B,EAAMh2B,EAAE,GACRi2B,EAAMj2B,EAAE,GACRs2B,EAAMt2B,EAAE,GACRu2B,EAAMv2B,EAAE,GACRw2B,EAAMx2B,EAAE,IACRk2B,EAAMl2B,EAAE,IACR2kB,EAAI,GAAKwR,EACTxR,EAAI,GAAKkR,EACTlR,EAAI,GAAKmR,EACTnR,EAAI,GAAKoR,EACTpR,EAAI,GAAKyR,EACTzR,EAAI,GAAK0R,EACT1R,EAAI,GAAKqR,EACTrR,EAAI,GAAKsR,EACTtR,EAAI,GAAK2R,EACT3R,EAAI,GAAK4R,EACT5R,EAAI,IAAM6R,EACV7R,EAAI,IAAMuR,EACVvR,EAAI,IAAMwR,EAAM/qC,EAAIgrC,EAAMxqB,EAAI0qB,EAAMvpB,EAAI/M,EAAE,IAC1C2kB,EAAI,IAAMkR,EAAMzqC,EAAIirC,EAAMzqB,EAAI2qB,EAAMxpB,EAAI/M,EAAE,IAC1C2kB,EAAI,IAAMmR,EAAM1qC,EAAI4qC,EAAMpqB,EAAI4qB,EAAMzpB,EAAI/M,EAAE,IAC1C2kB,EAAI,IAAMoR,EAAM3qC,EAAI6qC,EAAMrqB,EAAIsqB,EAAMnpB,EAAI/M,EAAE,KAGrC2kB,EAWF,SAAS,GAAMA,EAAK3kB,EAAG7K,GAC5B,IAAI/J,EAAI+J,EAAE,GACNyW,EAAIzW,EAAE,GACN4X,EAAI5X,EAAE,GAiBV,OAhBAwvB,EAAI,GAAK3kB,EAAE,GAAK5U,EAChBu5B,EAAI,GAAK3kB,EAAE,GAAK5U,EAChBu5B,EAAI,GAAK3kB,EAAE,GAAK5U,EAChBu5B,EAAI,GAAK3kB,EAAE,GAAK5U,EAChBu5B,EAAI,GAAK3kB,EAAE,GAAK4L,EAChB+Y,EAAI,GAAK3kB,EAAE,GAAK4L,EAChB+Y,EAAI,GAAK3kB,EAAE,GAAK4L,EAChB+Y,EAAI,GAAK3kB,EAAE,GAAK4L,EAChB+Y,EAAI,GAAK3kB,EAAE,GAAK+M,EAChB4X,EAAI,GAAK3kB,EAAE,GAAK+M,EAChB4X,EAAI,IAAM3kB,EAAE,IAAM+M,EAClB4X,EAAI,IAAM3kB,EAAE,IAAM+M,EAClB4X,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACL2kB,EAYF,SAAS,GAAOA,EAAK3kB,EAAGi4B,EAAKC,GAClC,IAII5wC,EAAG1B,EAAGa,EACN0vC,EAAKN,EAAKC,EAAKC,EACfK,EAAKC,EAAKL,EAAKC,EACfK,EAAKC,EAAKC,EAAKN,EACfW,EAAKC,EAAKC,EACVQ,EAAKC,EAAKW,EACVC,EAAKC,EAAKC,EAVVltC,EAAI8sC,EAAK,GACTtsB,EAAIssB,EAAK,GACTnrB,EAAImrB,EAAK,GACTnhC,EAAM4E,KAAKqH,MAAM5X,EAAGwgB,EAAGmB,GAS3B,OAAIhW,EAAM,GACD,MAIT3L,GADA2L,EAAM,EAAIA,EAEV6U,GAAK7U,EACLgW,GAAKhW,EACLzP,EAAIqU,KAAK48B,IAAIN,GAEbxxC,EAAI,GADJb,EAAI+V,KAAK68B,IAAIP,IAEb9B,EAAMn2B,EAAE,GACR61B,EAAM71B,EAAE,GACR81B,EAAM91B,EAAE,GACR+1B,EAAM/1B,EAAE,GACRo2B,EAAMp2B,EAAE,GACRq2B,EAAMr2B,EAAE,GACRg2B,EAAMh2B,EAAE,GACRi2B,EAAMj2B,EAAE,GACRs2B,EAAMt2B,EAAE,GACRu2B,EAAMv2B,EAAE,GACRw2B,EAAMx2B,EAAE,IACRk2B,EAAMl2B,EAAE,IAER62B,EAAMzrC,EAAIA,EAAI3E,EAAIb,EAClBkxC,EAAMlrB,EAAIxgB,EAAI3E,EAAIsmB,EAAIzlB,EACtByvC,EAAMhqB,EAAI3hB,EAAI3E,EAAImlB,EAAItkB,EACtBiwC,EAAMnsC,EAAIwgB,EAAInlB,EAAIsmB,EAAIzlB,EACtBkwC,EAAM5rB,EAAIA,EAAInlB,EAAIb,EAClBuyC,EAAMprB,EAAInB,EAAInlB,EAAI2E,EAAI9D,EACtB8wC,EAAMhtC,EAAI2hB,EAAItmB,EAAImlB,EAAItkB,EACtB+wC,EAAMzsB,EAAImB,EAAItmB,EAAI2E,EAAI9D,EACtBgxC,EAAMvrB,EAAIA,EAAItmB,EAAIb,EAElB++B,EAAI,GAAKwR,EAAMU,EAAMT,EAAMU,EAAMR,EAAMS,EACvCpS,EAAI,GAAKkR,EAAMgB,EAAMR,EAAMS,EAAMP,EAAMQ,EACvCpS,EAAI,GAAKmR,EAAMe,EAAMb,EAAMc,EAAMN,EAAMO,EACvCpS,EAAI,GAAKoR,EAAMc,EAAMZ,EAAMa,EAAMZ,EAAMa,EACvCpS,EAAI,GAAKwR,EAAMoB,EAAMnB,EAAMoB,EAAMlB,EAAM6B,EACvCxT,EAAI,GAAKkR,EAAM0B,EAAMlB,EAAMmB,EAAMjB,EAAM4B,EACvCxT,EAAI,GAAKmR,EAAMyB,EAAMvB,EAAMwB,EAAMhB,EAAM2B,EACvCxT,EAAI,GAAKoR,EAAMwB,EAAMtB,EAAMuB,EAAMtB,EAAMiC,EACvCxT,EAAI,GAAKwR,EAAMiC,EAAMhC,EAAMiC,EAAM/B,EAAMgC,EACvC3T,EAAI,GAAKkR,EAAMuC,EAAM/B,EAAMgC,EAAM9B,EAAM+B,EACvC3T,EAAI,IAAMmR,EAAMsC,EAAMpC,EAAMqC,EAAM7B,EAAM8B,EACxC3T,EAAI,IAAMoR,EAAMqC,EAAMnC,EAAMoC,EAAMnC,EAAMoC,EAEpCt4B,IAAM2kB,IAERA,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,KAGP2kB,GAWF,SAAS,GAAQA,EAAK3kB,EAAGi4B,GAC9B,IAAI3wC,EAAIqU,KAAK48B,IAAIN,GACbryC,EAAI+V,KAAK68B,IAAIP,GACb7B,EAAMp2B,EAAE,GACRq2B,EAAMr2B,EAAE,GACRg2B,EAAMh2B,EAAE,GACRi2B,EAAMj2B,EAAE,GACRs2B,EAAMt2B,EAAE,GACRu2B,EAAMv2B,EAAE,GACRw2B,EAAMx2B,EAAE,IACRk2B,EAAMl2B,EAAE,IAuBZ,OArBIA,IAAM2kB,IAERA,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,KAId2kB,EAAI,GAAKyR,EAAMxwC,EAAI0wC,EAAMhvC,EACzBq9B,EAAI,GAAK0R,EAAMzwC,EAAI2wC,EAAMjvC,EACzBq9B,EAAI,GAAKqR,EAAMpwC,EAAI4wC,EAAMlvC,EACzBq9B,EAAI,GAAKsR,EAAMrwC,EAAIswC,EAAM5uC,EACzBq9B,EAAI,GAAK2R,EAAM1wC,EAAIwwC,EAAM9uC,EACzBq9B,EAAI,GAAK4R,EAAM3wC,EAAIywC,EAAM/uC,EACzBq9B,EAAI,IAAM6R,EAAM5wC,EAAIowC,EAAM1uC,EAC1Bq9B,EAAI,IAAMuR,EAAMtwC,EAAIqwC,EAAM3uC,EACnBq9B,EAWF,SAAS,GAAQA,EAAK3kB,EAAGi4B,GAC9B,IAAI3wC,EAAIqU,KAAK48B,IAAIN,GACbryC,EAAI+V,KAAK68B,IAAIP,GACb9B,EAAMn2B,EAAE,GACR61B,EAAM71B,EAAE,GACR81B,EAAM91B,EAAE,GACR+1B,EAAM/1B,EAAE,GACRs2B,EAAMt2B,EAAE,GACRu2B,EAAMv2B,EAAE,GACRw2B,EAAMx2B,EAAE,IACRk2B,EAAMl2B,EAAE,IAuBZ,OArBIA,IAAM2kB,IAERA,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,KAId2kB,EAAI,GAAKwR,EAAMvwC,EAAI0wC,EAAMhvC,EACzBq9B,EAAI,GAAKkR,EAAMjwC,EAAI2wC,EAAMjvC,EACzBq9B,EAAI,GAAKmR,EAAMlwC,EAAI4wC,EAAMlvC,EACzBq9B,EAAI,GAAKoR,EAAMnwC,EAAIswC,EAAM5uC,EACzBq9B,EAAI,GAAKwR,EAAM7uC,EAAIgvC,EAAM1wC,EACzB++B,EAAI,GAAKkR,EAAMvuC,EAAIivC,EAAM3wC,EACzB++B,EAAI,IAAMmR,EAAMxuC,EAAIkvC,EAAM5wC,EAC1B++B,EAAI,IAAMoR,EAAMzuC,EAAI4uC,EAAMtwC,EACnB++B,EAWF,SAAS,GAAQA,EAAK3kB,EAAGi4B,GAC9B,IAAI3wC,EAAIqU,KAAK48B,IAAIN,GACbryC,EAAI+V,KAAK68B,IAAIP,GACb9B,EAAMn2B,EAAE,GACR61B,EAAM71B,EAAE,GACR81B,EAAM91B,EAAE,GACR+1B,EAAM/1B,EAAE,GACRo2B,EAAMp2B,EAAE,GACRq2B,EAAMr2B,EAAE,GACRg2B,EAAMh2B,EAAE,GACRi2B,EAAMj2B,EAAE,GAuBZ,OArBIA,IAAM2kB,IAERA,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,IACZ2kB,EAAI,IAAM3kB,EAAE,KAId2kB,EAAI,GAAKwR,EAAMvwC,EAAIwwC,EAAM9uC,EACzBq9B,EAAI,GAAKkR,EAAMjwC,EAAIywC,EAAM/uC,EACzBq9B,EAAI,GAAKmR,EAAMlwC,EAAIowC,EAAM1uC,EACzBq9B,EAAI,GAAKoR,EAAMnwC,EAAIqwC,EAAM3uC,EACzBq9B,EAAI,GAAKyR,EAAMxwC,EAAIuwC,EAAM7uC,EACzBq9B,EAAI,GAAK0R,EAAMzwC,EAAIiwC,EAAMvuC,EACzBq9B,EAAI,GAAKqR,EAAMpwC,EAAIkwC,EAAMxuC,EACzBq9B,EAAI,GAAKsR,EAAMrwC,EAAImwC,EAAMzuC,EAClBq9B,EAcF,SAAS8T,GAAgB9T,EAAKxvB,GAiBnC,OAhBAwvB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAMxvB,EAAE,GACZwvB,EAAI,IAAMxvB,EAAE,GACZwvB,EAAI,IAAMxvB,EAAE,GACZwvB,EAAI,IAAM,EACHA,EAcF,SAAS+T,GAAY/T,EAAKxvB,GAiB/B,OAhBAwvB,EAAI,GAAKxvB,EAAE,GACXwvB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKxvB,EAAE,GACXwvB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAMxvB,EAAE,GACZwvB,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAeF,SAASgU,GAAahU,EAAKsT,EAAKC,GACrC,IAII5wC,EAAG1B,EAAGa,EAJN2E,EAAI8sC,EAAK,GACTtsB,EAAIssB,EAAK,GACTnrB,EAAImrB,EAAK,GACTnhC,EAAM4E,KAAKqH,MAAM5X,EAAGwgB,EAAGmB,GAG3B,OAAIhW,EAAM,GACD,MAIT3L,GADA2L,EAAM,EAAIA,EAEV6U,GAAK7U,EACLgW,GAAKhW,EACLzP,EAAIqU,KAAK48B,IAAIN,GAEbxxC,EAAI,GADJb,EAAI+V,KAAK68B,IAAIP,IAGbtT,EAAI,GAAKv5B,EAAIA,EAAI3E,EAAIb,EACrB++B,EAAI,GAAK/Y,EAAIxgB,EAAI3E,EAAIsmB,EAAIzlB,EACzBq9B,EAAI,GAAK5X,EAAI3hB,EAAI3E,EAAImlB,EAAItkB,EACzBq9B,EAAI,GAAK,EACTA,EAAI,GAAKv5B,EAAIwgB,EAAInlB,EAAIsmB,EAAIzlB,EACzBq9B,EAAI,GAAK/Y,EAAIA,EAAInlB,EAAIb,EACrB++B,EAAI,GAAK5X,EAAInB,EAAInlB,EAAI2E,EAAI9D,EACzBq9B,EAAI,GAAK,EACTA,EAAI,GAAKv5B,EAAI2hB,EAAItmB,EAAImlB,EAAItkB,EACzBq9B,EAAI,GAAK/Y,EAAImB,EAAItmB,EAAI2E,EAAI9D,EACzBq9B,EAAI,IAAM5X,EAAIA,EAAItmB,EAAIb,EACtB++B,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,GAcF,SAASiU,GAAcjU,EAAKsT,GACjC,IAAI3wC,EAAIqU,KAAK48B,IAAIN,GACbryC,EAAI+V,KAAK68B,IAAIP,GAkBjB,OAhBAtT,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK/+B,EACT++B,EAAI,GAAKr9B,EACTq9B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAMr9B,EACVq9B,EAAI,IAAM/+B,EACV++B,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAcF,SAASkU,GAAclU,EAAKsT,GACjC,IAAI3wC,EAAIqU,KAAK48B,IAAIN,GACbryC,EAAI+V,KAAK68B,IAAIP,GAkBjB,OAhBAtT,EAAI,GAAK/+B,EACT++B,EAAI,GAAK,EACTA,EAAI,IAAMr9B,EACVq9B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKr9B,EACTq9B,EAAI,GAAK,EACTA,EAAI,IAAM/+B,EACV++B,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAcF,SAASmU,GAAcnU,EAAKsT,GACjC,IAAI3wC,EAAIqU,KAAK48B,IAAIN,GACbryC,EAAI+V,KAAK68B,IAAIP,GAkBjB,OAhBAtT,EAAI,GAAK/+B,EACT++B,EAAI,GAAKr9B,EACTq9B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAMr9B,EACVq9B,EAAI,GAAK/+B,EACT++B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAkBF,SAASoU,GAAwBpU,EAAK9kB,EAAG1K,GAE9C,IAAI/J,EAAIyU,EAAE,GACN+L,EAAI/L,EAAE,GACNkN,EAAIlN,EAAE,GACNiL,EAAIjL,EAAE,GACNm5B,EAAK5tC,EAAIA,EACT6tC,EAAKrtB,EAAIA,EACTstB,EAAKnsB,EAAIA,EACTosB,EAAK/tC,EAAI4tC,EACTI,EAAKhuC,EAAI6tC,EACTI,EAAKjuC,EAAI8tC,EACTI,EAAK1tB,EAAIqtB,EACTM,EAAK3tB,EAAIstB,EACTM,EAAKzsB,EAAImsB,EACTO,EAAK3uB,EAAIkuB,EACTU,EAAK5uB,EAAImuB,EACTU,EAAK7uB,EAAIouB,EAiBb,OAhBAvU,EAAI,GAAK,GAAK2U,EAAKE,GACnB7U,EAAI,GAAKyU,EAAKO,EACdhV,EAAI,GAAK0U,EAAKK,EACd/U,EAAI,GAAK,EACTA,EAAI,GAAKyU,EAAKO,EACdhV,EAAI,GAAK,GAAKwU,EAAKK,GACnB7U,EAAI,GAAK4U,EAAKE,EACd9U,EAAI,GAAK,EACTA,EAAI,GAAK0U,EAAKK,EACd/U,EAAI,GAAK4U,EAAKE,EACd9U,EAAI,IAAM,GAAKwU,EAAKG,GACpB3U,EAAI,IAAM,EACVA,EAAI,IAAMxvB,EAAE,GACZwvB,EAAI,IAAMxvB,EAAE,GACZwvB,EAAI,IAAMxvB,EAAE,GACZwvB,EAAI,IAAM,EACHA,EAUF,SAASiV,GAAUjV,EAAK3kB,GAC7B,IAAI65B,EAAc,IAAI,GAAoB,GACtCC,GAAM95B,EAAE,GACR+5B,GAAM/5B,EAAE,GACRg6B,GAAMh6B,EAAE,GACRi6B,EAAKj6B,EAAE,GACPk6B,EAAKl6B,EAAE,GACPm6B,EAAKn6B,EAAE,GACPo6B,EAAKp6B,EAAE,GACPq6B,EAAKr6B,EAAE,GACPs6B,EAAYR,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EAanD,OAXIK,EAAY,GACdT,EAAY,GAA+C,GAAzCK,EAAKD,EAAKI,EAAKP,EAAKK,EAAKH,EAAKI,EAAKL,GAAUO,EAC/DT,EAAY,GAA+C,GAAzCM,EAAKF,EAAKI,EAAKN,EAAKK,EAAKN,EAAKI,EAAKF,GAAUM,EAC/DT,EAAY,GAA+C,GAAzCO,EAAKH,EAAKI,EAAKL,EAAKE,EAAKH,EAAKI,EAAKL,GAAUQ,IAE/DT,EAAY,GAA+C,GAAzCK,EAAKD,EAAKI,EAAKP,EAAKK,EAAKH,EAAKI,EAAKL,GACrDF,EAAY,GAA+C,GAAzCM,EAAKF,EAAKI,EAAKN,EAAKK,EAAKN,EAAKI,EAAKF,GACrDH,EAAY,GAA+C,GAAzCO,EAAKH,EAAKI,EAAKL,EAAKE,EAAKH,EAAKI,EAAKL,IAGvDf,GAAwBpU,EAAK3kB,EAAG65B,GACzBlV,EAYF,SAAS4V,GAAe5V,EAAK6V,GAIlC,OAHA7V,EAAI,GAAK6V,EAAI,IACb7V,EAAI,GAAK6V,EAAI,IACb7V,EAAI,GAAK6V,EAAI,IACN7V,EAaF,SAAS8V,GAAW9V,EAAK6V,GAC9B,IAAIxF,EAAMwF,EAAI,GACVvF,EAAMuF,EAAI,GACVtF,EAAMsF,EAAI,GACVpF,EAAMoF,EAAI,GACVnF,EAAMmF,EAAI,GACVlF,EAAMkF,EAAI,GACVhF,EAAMgF,EAAI,GACV/E,EAAM+E,EAAI,GACV9E,EAAM8E,EAAI,IAId,OAHA7V,EAAI,GAAKhpB,KAAKqH,MAAMgyB,EAAKC,EAAKC,GAC9BvQ,EAAI,GAAKhpB,KAAKqH,MAAMoyB,EAAKC,EAAKC,GAC9B3Q,EAAI,GAAKhpB,KAAKqH,MAAMwyB,EAAKC,EAAKC,GACvB/Q,EAYF,SAAS+V,GAAY/V,EAAK6V,GAC/B,IAAIG,EAAU,IAAI,GAAoB,GACtCF,GAAWE,EAASH,GACpB,IAAII,EAAM,EAAID,EAAQ,GAClBE,EAAM,EAAIF,EAAQ,GAClBG,EAAM,EAAIH,EAAQ,GAClBI,EAAOP,EAAI,GAAKI,EAChBI,EAAOR,EAAI,GAAKK,EAChBI,EAAOT,EAAI,GAAKM,EAChBI,EAAOV,EAAI,GAAKI,EAChBO,EAAOX,EAAI,GAAKK,EAChBO,EAAOZ,EAAI,GAAKM,EAChBO,EAAOb,EAAI,GAAKI,EAChBU,EAAOd,EAAI,GAAKK,EAChBU,EAAOf,EAAI,IAAMM,EACjBU,EAAQT,EAAOI,EAAOI,EACtBjnB,EAAI,EA4BR,OA1BIknB,EAAQ,GACVlnB,EAA6B,EAAzB3Y,KAAK8/B,KAAKD,EAAQ,GACtB7W,EAAI,GAAK,IAAOrQ,EAChBqQ,EAAI,IAAMyW,EAAOE,GAAQhnB,EACzBqQ,EAAI,IAAM0W,EAAOJ,GAAQ3mB,EACzBqQ,EAAI,IAAMqW,EAAOE,GAAQ5mB,GAChBymB,EAAOI,GAAQJ,EAAOQ,GAC/BjnB,EAA0C,EAAtC3Y,KAAK8/B,KAAK,EAAMV,EAAOI,EAAOI,GAClC5W,EAAI,IAAMyW,EAAOE,GAAQhnB,EACzBqQ,EAAI,GAAK,IAAOrQ,EAChBqQ,EAAI,IAAMqW,EAAOE,GAAQ5mB,EACzBqQ,EAAI,IAAM0W,EAAOJ,GAAQ3mB,GAChB6mB,EAAOI,GAChBjnB,EAA0C,EAAtC3Y,KAAK8/B,KAAK,EAAMN,EAAOJ,EAAOQ,GAClC5W,EAAI,IAAM0W,EAAOJ,GAAQ3mB,EACzBqQ,EAAI,IAAMqW,EAAOE,GAAQ5mB,EACzBqQ,EAAI,GAAK,IAAOrQ,EAChBqQ,EAAI,IAAMyW,EAAOE,GAAQhnB,IAEzBA,EAA0C,EAAtC3Y,KAAK8/B,KAAK,EAAMF,EAAOR,EAAOI,GAClCxW,EAAI,IAAMqW,EAAOE,GAAQ5mB,EACzBqQ,EAAI,IAAM0W,EAAOJ,GAAQ3mB,EACzBqQ,EAAI,IAAMyW,EAAOE,GAAQhnB,EACzBqQ,EAAI,GAAK,IAAOrQ,GAGXqQ,EAoBF,SAAS+W,GAA6B/W,EAAK9kB,EAAG1K,EAAG7N,GAEtD,IAAI8D,EAAIyU,EAAE,GACN+L,EAAI/L,EAAE,GACNkN,EAAIlN,EAAE,GACNiL,EAAIjL,EAAE,GACNm5B,EAAK5tC,EAAIA,EACT6tC,EAAKrtB,EAAIA,EACTstB,EAAKnsB,EAAIA,EACTosB,EAAK/tC,EAAI4tC,EACTI,EAAKhuC,EAAI6tC,EACTI,EAAKjuC,EAAI8tC,EACTI,EAAK1tB,EAAIqtB,EACTM,EAAK3tB,EAAIstB,EACTM,EAAKzsB,EAAImsB,EACTO,EAAK3uB,EAAIkuB,EACTU,EAAK5uB,EAAImuB,EACTU,EAAK7uB,EAAIouB,EACTyC,EAAKr0C,EAAE,GACPs0C,EAAKt0C,EAAE,GACPu0C,EAAKv0C,EAAE,GAiBX,OAhBAq9B,EAAI,IAAM,GAAK2U,EAAKE,IAAOmC,EAC3BhX,EAAI,IAAMyU,EAAKO,GAAMgC,EACrBhX,EAAI,IAAM0U,EAAKK,GAAMiC,EACrBhX,EAAI,GAAK,EACTA,EAAI,IAAMyU,EAAKO,GAAMiC,EACrBjX,EAAI,IAAM,GAAKwU,EAAKK,IAAOoC,EAC3BjX,EAAI,IAAM4U,EAAKE,GAAMmC,EACrBjX,EAAI,GAAK,EACTA,EAAI,IAAM0U,EAAKK,GAAMmC,EACrBlX,EAAI,IAAM4U,EAAKE,GAAMoC,EACrBlX,EAAI,KAAO,GAAKwU,EAAKG,IAAOuC,EAC5BlX,EAAI,IAAM,EACVA,EAAI,IAAMxvB,EAAE,GACZwvB,EAAI,IAAMxvB,EAAE,GACZwvB,EAAI,IAAMxvB,EAAE,GACZwvB,EAAI,IAAM,EACHA,EAuBF,SAASmX,GAAmCnX,EAAK9kB,EAAG1K,EAAG7N,EAAGtB,GAE/D,IAAIoF,EAAIyU,EAAE,GACN+L,EAAI/L,EAAE,GACNkN,EAAIlN,EAAE,GACNiL,EAAIjL,EAAE,GACNm5B,EAAK5tC,EAAIA,EACT6tC,EAAKrtB,EAAIA,EACTstB,EAAKnsB,EAAIA,EACTosB,EAAK/tC,EAAI4tC,EACTI,EAAKhuC,EAAI6tC,EACTI,EAAKjuC,EAAI8tC,EACTI,EAAK1tB,EAAIqtB,EACTM,EAAK3tB,EAAIstB,EACTM,EAAKzsB,EAAImsB,EACTO,EAAK3uB,EAAIkuB,EACTU,EAAK5uB,EAAImuB,EACTU,EAAK7uB,EAAIouB,EACTyC,EAAKr0C,EAAE,GACPs0C,EAAKt0C,EAAE,GACPu0C,EAAKv0C,EAAE,GACPy0C,EAAK/1C,EAAE,GACPg2C,EAAKh2C,EAAE,GACPi2C,EAAKj2C,EAAE,GACPk2C,GAAQ,GAAK5C,EAAKE,IAAOmC,EACzBQ,GAAQ/C,EAAKO,GAAMgC,EACnBS,GAAQ/C,EAAKK,GAAMiC,EACnBU,GAAQjD,EAAKO,GAAMiC,EACnBU,GAAQ,GAAKnD,EAAKK,IAAOoC,EACzBW,GAAQhD,EAAKE,GAAMmC,EACnBY,GAAQnD,EAAKK,GAAMmC,EACnBY,GAAQlD,EAAKE,GAAMoC,EACnBa,GAAS,GAAKvD,EAAKG,IAAOuC,EAiB9B,OAhBAlX,EAAI,GAAKuX,EACTvX,EAAI,GAAKwX,EACTxX,EAAI,GAAKyX,EACTzX,EAAI,GAAK,EACTA,EAAI,GAAK0X,EACT1X,EAAI,GAAK2X,EACT3X,EAAI,GAAK4X,EACT5X,EAAI,GAAK,EACTA,EAAI,GAAK6X,EACT7X,EAAI,GAAK8X,EACT9X,EAAI,IAAM+X,EACV/X,EAAI,IAAM,EACVA,EAAI,IAAMxvB,EAAE,GAAK4mC,GAAMG,EAAOH,EAAKM,EAAOL,EAAKQ,EAAOP,GACtDtX,EAAI,IAAMxvB,EAAE,GAAK6mC,GAAMG,EAAOJ,EAAKO,EAAON,EAAKS,EAAOR,GACtDtX,EAAI,IAAMxvB,EAAE,GAAK8mC,GAAMG,EAAOL,EAAKQ,EAAOP,EAAKU,EAAQT,GACvDtX,EAAI,IAAM,EACHA,EAWF,SAASgY,GAAShY,EAAK9kB,GAC5B,IAAIzU,EAAIyU,EAAE,GACN+L,EAAI/L,EAAE,GACNkN,EAAIlN,EAAE,GACNiL,EAAIjL,EAAE,GACNm5B,EAAK5tC,EAAIA,EACT6tC,EAAKrtB,EAAIA,EACTstB,EAAKnsB,EAAIA,EACTosB,EAAK/tC,EAAI4tC,EACT4D,EAAKhxB,EAAIotB,EACTM,EAAK1tB,EAAIqtB,EACT4D,EAAK9vB,EAAIisB,EACT8D,EAAK/vB,EAAIksB,EACTO,EAAKzsB,EAAImsB,EACTO,EAAK3uB,EAAIkuB,EACTU,EAAK5uB,EAAImuB,EACTU,EAAK7uB,EAAIouB,EAiBb,OAhBAvU,EAAI,GAAK,EAAI2U,EAAKE,EAClB7U,EAAI,GAAKiY,EAAKjD,EACdhV,EAAI,GAAKkY,EAAKnD,EACd/U,EAAI,GAAK,EACTA,EAAI,GAAKiY,EAAKjD,EACdhV,EAAI,GAAK,EAAIwU,EAAKK,EAClB7U,EAAI,GAAKmY,EAAKrD,EACd9U,EAAI,GAAK,EACTA,EAAI,GAAKkY,EAAKnD,EACd/U,EAAI,GAAKmY,EAAKrD,EACd9U,EAAI,IAAM,EAAIwU,EAAKG,EACnB3U,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAeF,SAASoY,GAAQpY,EAAKqY,EAAMC,EAAOC,EAAQC,EAAKC,EAAMC,GAC3D,IAAIC,EAAK,GAAKL,EAAQD,GAClBvtB,EAAK,GAAK0tB,EAAMD,GAChBK,EAAK,GAAKH,EAAOC,GAiBrB,OAhBA1Y,EAAI,GAAY,EAAPyY,EAAWE,EACpB3Y,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAY,EAAPyY,EAAW3tB,EACpBkV,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAMsY,EAAQD,GAAQM,EAC1B3Y,EAAI,IAAMwY,EAAMD,GAAUztB,EAC1BkV,EAAI,KAAO0Y,EAAMD,GAAQG,EACzB5Y,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM0Y,EAAMD,EAAO,EAAIG,EAC3B5Y,EAAI,IAAM,EACHA,EAgBF,SAAS6Y,GAAc7Y,EAAK8Y,EAAMC,EAAQN,EAAMC,GACrD,IACIE,EADA5iC,EAAI,EAAMgB,KAAKgiC,IAAIF,EAAO,GA0B9B,OAxBA9Y,EAAI,GAAKhqB,EAAI+iC,EACb/Y,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKhqB,EACTgqB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EAEC,MAAP0Y,GAAeA,IAAQO,KACzBL,EAAK,GAAKH,EAAOC,GACjB1Y,EAAI,KAAO0Y,EAAMD,GAAQG,EACzB5Y,EAAI,IAAM,EAAI0Y,EAAMD,EAAOG,IAE3B5Y,EAAI,KAAO,EACXA,EAAI,KAAO,EAAIyY,GAGVzY,EDh1CJhpB,KAAKqH,QAAOrH,KAAKqH,MAAQ,WAI5B,IAHA,IAAI4I,EAAI,EACJrmB,EAAIqF,UAAU3C,OAEX1C,KACLqmB,GAAKhhB,UAAUrF,GAAKqF,UAAUrF,GAGhC,OAAOoW,KAAK8/B,KAAK7vB,KC+0CZ,IAAI,GAAc4xB,GAelB,SAASK,GAAclZ,EAAK8Y,EAAMC,EAAQN,EAAMC,GACrD,IACIE,EADA5iC,EAAI,EAAMgB,KAAKgiC,IAAIF,EAAO,GA0B9B,OAxBA9Y,EAAI,GAAKhqB,EAAI+iC,EACb/Y,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKhqB,EACTgqB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EAEC,MAAP0Y,GAAeA,IAAQO,KACzBL,EAAK,GAAKH,EAAOC,GACjB1Y,EAAI,IAAM0Y,EAAME,EAChB5Y,EAAI,IAAM0Y,EAAMD,EAAOG,IAEvB5Y,EAAI,KAAO,EACXA,EAAI,KAAOyY,GAGNzY,EAcF,SAASmZ,GAA2BnZ,EAAKoZ,EAAKX,EAAMC,GACzD,IAAIW,EAAQriC,KAAKgiC,IAAII,EAAIE,UAAYtiC,KAAK64B,GAAK,KAC3C0J,EAAUviC,KAAKgiC,IAAII,EAAII,YAAcxiC,KAAK64B,GAAK,KAC/C4J,EAAUziC,KAAKgiC,IAAII,EAAIM,YAAc1iC,KAAK64B,GAAK,KAC/C8J,EAAW3iC,KAAKgiC,IAAII,EAAIQ,aAAe5iC,KAAK64B,GAAK,KACjDgK,EAAS,GAAOJ,EAAUE,GAC1BG,EAAS,GAAOT,EAAQE,GAiB5B,OAhBAvZ,EAAI,GAAK6Z,EACT7Z,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK8Z,EACT9Z,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,KAAQyZ,EAAUE,GAAYE,EAAS,GAC3C7Z,EAAI,IAAMqZ,EAAQE,GAAWO,EAAS,GACtC9Z,EAAI,IAAM0Y,GAAOD,EAAOC,GACxB1Y,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM0Y,EAAMD,GAAQA,EAAOC,GAC/B1Y,EAAI,IAAM,EACHA,EAiBF,SAAS+Z,GAAQ/Z,EAAKqY,EAAMC,EAAOC,EAAQC,EAAKC,EAAMC,GAC3D,IAAIsB,EAAK,GAAK3B,EAAOC,GACjB2B,EAAK,GAAK1B,EAASC,GACnBI,EAAK,GAAKH,EAAOC,GAiBrB,OAhBA1Y,EAAI,IAAM,EAAIga,EACdha,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAIia,EACdja,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAI4Y,EACd5Y,EAAI,IAAM,EACVA,EAAI,KAAOqY,EAAOC,GAAS0B,EAC3Bha,EAAI,KAAOwY,EAAMD,GAAU0B,EAC3Bja,EAAI,KAAO0Y,EAAMD,GAAQG,EACzB5Y,EAAI,IAAM,EACHA,EAOF,IAAIka,GAAQH,GAgBZ,SAASI,GAAQna,EAAKqY,EAAMC,EAAOC,EAAQC,EAAKC,EAAMC,GAC3D,IAAIsB,EAAK,GAAK3B,EAAOC,GACjB2B,EAAK,GAAK1B,EAASC,GACnBI,EAAK,GAAKH,EAAOC,GAiBrB,OAhBA1Y,EAAI,IAAM,EAAIga,EACdha,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAIia,EACdja,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM4Y,EACV5Y,EAAI,IAAM,EACVA,EAAI,KAAOqY,EAAOC,GAAS0B,EAC3Bha,EAAI,KAAOwY,EAAMD,GAAU0B,EAC3Bja,EAAI,IAAMyY,EAAOG,EACjB5Y,EAAI,IAAM,EACHA,EAaF,SAASoa,GAAOpa,EAAKqa,EAAKC,EAAQ3kC,GACvC,IAAI4kC,EAAIt8B,EAAIo2B,EAAImG,EAAIC,EAAInG,EAAIoG,EAAIC,EAAIpG,EAAIniC,EACpCwoC,EAAOP,EAAI,GACXQ,EAAOR,EAAI,GACXS,EAAOT,EAAI,GACXU,EAAMplC,EAAG,GACTqlC,EAAMrlC,EAAG,GACTslC,EAAMtlC,EAAG,GACTulC,EAAUZ,EAAO,GACjBa,EAAUb,EAAO,GACjBc,EAAUd,EAAO,GAErB,OAAItjC,KAAKu1B,IAAIqO,EAAOM,GAAW,IAAoBlkC,KAAKu1B,IAAIsO,EAAOM,GAAW,IAAoBnkC,KAAKu1B,IAAIuO,EAAOM,GAAW,GACpHpK,GAAShR,IAGlB0a,EAAKE,EAAOM,EACZP,EAAKE,EAAOM,EACZ5G,EAAKuG,EAAOM,EAKZb,EAAKS,GADLzG,GAHAniC,EAAM,EAAI4E,KAAKqH,MAAMq8B,EAAIC,EAAIpG,IAIb0G,GAFhBN,GAAMvoC,GAGN6L,EAAKg9B,GAJLP,GAAMtoC,GAIU2oC,EAAMxG,EACtBF,EAAK0G,EAAMJ,EAAKK,EAAMN,GACtBtoC,EAAM4E,KAAKqH,MAAMk8B,EAAIt8B,EAAIo2B,KAQvBkG,GADAnoC,EAAM,EAAIA,EAEV6L,GAAM7L,EACNiiC,GAAMjiC,IAPNmoC,EAAK,EACLt8B,EAAK,EACLo2B,EAAK,GAQPmG,EAAKG,EAAKtG,EAAKE,EAAKt2B,EACpBw8B,EAAKlG,EAAKgG,EAAKG,EAAKrG,EACpBC,EAAKoG,EAAKz8B,EAAK08B,EAAKJ,GACpBnoC,EAAM4E,KAAKqH,MAAMm8B,EAAIC,EAAInG,KAQvBkG,GADApoC,EAAM,EAAIA,EAEVqoC,GAAMroC,EACNkiC,GAAMliC,IAPNooC,EAAK,EACLC,EAAK,EACLnG,EAAK,GAQPtU,EAAI,GAAKua,EACTva,EAAI,GAAKwa,EACTxa,EAAI,GAAK0a,EACT1a,EAAI,GAAK,EACTA,EAAI,GAAK/hB,EACT+hB,EAAI,GAAKya,EACTza,EAAI,GAAK2a,EACT3a,EAAI,GAAK,EACTA,EAAI,GAAKqU,EACTrU,EAAI,GAAKsU,EACTtU,EAAI,IAAMuU,EACVvU,EAAI,IAAM,EACVA,EAAI,MAAQua,EAAKK,EAAO38B,EAAK48B,EAAOxG,EAAKyG,GACzC9a,EAAI,MAAQwa,EAAKI,EAAOH,EAAKI,EAAOvG,EAAKwG,GACzC9a,EAAI,MAAQ0a,EAAKE,EAAOD,EAAKE,EAAOtG,EAAKuG,GACzC9a,EAAI,IAAM,EACHA,GAYF,SAASqb,GAASrb,EAAKqa,EAAKj3C,EAAQuS,GACzC,IAAIilC,EAAOP,EAAI,GACXQ,EAAOR,EAAI,GACXS,EAAOT,EAAI,GACXU,EAAMplC,EAAG,GACTqlC,EAAMrlC,EAAG,GACTslC,EAAMtlC,EAAG,GACT+kC,EAAKE,EAAOx3C,EAAO,GACnBu3C,EAAKE,EAAOz3C,EAAO,GACnBmxC,EAAKuG,EAAO13C,EAAO,GACnBgP,EAAMsoC,EAAKA,EAAKC,EAAKA,EAAKpG,EAAKA,EAE/BniC,EAAM,IAERsoC,GADAtoC,EAAM,EAAI4E,KAAK8/B,KAAK1kC,GAEpBuoC,GAAMvoC,EACNmiC,GAAMniC,GAGR,IAAImoC,EAAKS,EAAMzG,EAAK0G,EAAMN,EACtB18B,EAAKg9B,EAAMP,EAAKK,EAAMxG,EACtBF,EAAK0G,EAAMJ,EAAKK,EAAMN,EA0B1B,OAzBAtoC,EAAMmoC,EAAKA,EAAKt8B,EAAKA,EAAKo2B,EAAKA,GAErB,IAERkG,GADAnoC,EAAM,EAAI4E,KAAK8/B,KAAK1kC,GAEpB6L,GAAM7L,EACNiiC,GAAMjiC,GAGR4tB,EAAI,GAAKua,EACTva,EAAI,GAAK/hB,EACT+hB,EAAI,GAAKqU,EACTrU,EAAI,GAAK,EACTA,EAAI,GAAK2a,EAAKtG,EAAKE,EAAKt2B,EACxB+hB,EAAI,GAAKuU,EAAKgG,EAAKG,EAAKrG,EACxBrU,EAAI,GAAK0a,EAAKz8B,EAAK08B,EAAKJ,EACxBva,EAAI,GAAK,EACTA,EAAI,GAAK0a,EACT1a,EAAI,GAAK2a,EACT3a,EAAI,IAAMuU,EACVvU,EAAI,IAAM,EACVA,EAAI,IAAM4a,EACV5a,EAAI,IAAM6a,EACV7a,EAAI,IAAM8a,EACV9a,EAAI,IAAM,EACHA,EASF,SAAS,GAAI3kB,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,IAAM,KAAOA,EAAE,IAAM,KAAOA,EAAE,IAAM,KAAOA,EAAE,IAAM,KAAOA,EAAE,IAAM,KAAOA,EAAE,IAAM,IAS3O,SAASigC,GAAKjgC,GACnB,OAAOrE,KAAKqH,MAAMhD,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAAKA,EAAE,IAAKA,EAAE,IAAKA,EAAE,IAAKA,EAAE,IAAKA,EAAE,KAW9G,SAASkgC,GAAIvb,EAAK3kB,EAAG8G,GAiB1B,OAhBA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IACpB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IACpB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IACpB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IACpB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IACpB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IACb6d,EAWF,SAAS5mB,GAAS4mB,EAAK3kB,EAAG8G,GAiB/B,OAhBA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IACpB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IACpB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IACpB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IACpB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IACpB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IACb6d,EAWF,SAASwb,GAAexb,EAAK3kB,EAAG8G,GAiBrC,OAhBA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAClB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAClB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAClB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAClB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EAClB6d,EAAI,IAAM3kB,EAAE,IAAM8G,EACX6d,EAYF,SAASyb,GAAqBzb,EAAK3kB,EAAG8G,EAAGu5B,GAiB9C,OAhBA1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IAAMu5B,EAC1B1b,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IAAMu5B,EAC1B1b,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IAAMu5B,EAC1B1b,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IAAMu5B,EAC1B1b,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IAAMu5B,EAC1B1b,EAAI,IAAM3kB,EAAE,IAAM8G,EAAE,IAAMu5B,EACnB1b,EAUF,SAAS2b,GAAYtgC,EAAG8G,GAC7B,OAAO9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,MAAQ8G,EAAE,KAAO9G,EAAE,MAAQ8G,EAAE,KAAO9G,EAAE,MAAQ8G,EAAE,KAAO9G,EAAE,MAAQ8G,EAAE,KAAO9G,EAAE,MAAQ8G,EAAE,KAAO9G,EAAE,MAAQ8G,EAAE,IAUvR,SAAS,GAAO9G,EAAG8G,GACxB,IAAIy5B,EAAKvgC,EAAE,GACPwgC,EAAKxgC,EAAE,GACPygC,EAAKzgC,EAAE,GACP0gC,EAAK1gC,EAAE,GACP2gC,EAAK3gC,EAAE,GACP4gC,EAAK5gC,EAAE,GACP6gC,EAAK7gC,EAAE,GACP8gC,EAAK9gC,EAAE,GACP+gC,EAAK/gC,EAAE,GACPghC,EAAKhhC,EAAE,GACPo2B,EAAMp2B,EAAE,IACRq2B,EAAMr2B,EAAE,IACRg2B,EAAMh2B,EAAE,IACRi2B,EAAMj2B,EAAE,IACRihC,EAAMjhC,EAAE,IACRkhC,EAAMlhC,EAAE,IACR63B,EAAK/wB,EAAE,GACPgxB,EAAKhxB,EAAE,GACPixB,EAAKjxB,EAAE,GACPkxB,EAAKlxB,EAAE,GACPq6B,EAAKr6B,EAAE,GACPs6B,EAAKt6B,EAAE,GACPu6B,EAAKv6B,EAAE,GACPw6B,EAAKx6B,EAAE,GACPy6B,EAAKz6B,EAAE,GACP06B,EAAK16B,EAAE,GACPywB,EAAMzwB,EAAE,IACR0wB,EAAM1wB,EAAE,IACRqxB,EAAMrxB,EAAE,IACR26B,EAAM36B,EAAE,IACR46B,EAAM56B,EAAE,IACR66B,EAAM76B,EAAE,IACZ,OAAOnL,KAAKu1B,IAAIqP,EAAK1I,IAAO,GAAmBl8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIqP,GAAK5kC,KAAKu1B,IAAI2G,KAAQl8B,KAAKu1B,IAAIsP,EAAK1I,IAAO,GAAmBn8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIsP,GAAK7kC,KAAKu1B,IAAI4G,KAAQn8B,KAAKu1B,IAAIuP,EAAK1I,IAAO,GAAmBp8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIuP,GAAK9kC,KAAKu1B,IAAI6G,KAAQp8B,KAAKu1B,IAAIwP,EAAK1I,IAAO,GAAmBr8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIwP,GAAK/kC,KAAKu1B,IAAI8G,KAAQr8B,KAAKu1B,IAAIyP,EAAKQ,IAAO,GAAmBxlC,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIyP,GAAKhlC,KAAKu1B,IAAIiQ,KAAQxlC,KAAKu1B,IAAI0P,EAAKQ,IAAO,GAAmBzlC,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAI0P,GAAKjlC,KAAKu1B,IAAIkQ,KAAQzlC,KAAKu1B,IAAI2P,EAAKQ,IAAO,GAAmB1lC,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAI2P,GAAKllC,KAAKu1B,IAAImQ,KAAQ1lC,KAAKu1B,IAAI4P,EAAKQ,IAAO,GAAmB3lC,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAI4P,GAAKnlC,KAAKu1B,IAAIoQ,KAAQ3lC,KAAKu1B,IAAI6P,EAAKQ,IAAO,GAAmB5lC,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAI6P,GAAKplC,KAAKu1B,IAAIqQ,KAAQ5lC,KAAKu1B,IAAI8P,EAAKQ,IAAO,GAAmB7lC,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAI8P,GAAKrlC,KAAKu1B,IAAIsQ,KAAQ7lC,KAAKu1B,IAAIkF,EAAMmB,IAAQ,GAAmB57B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIkF,GAAMz6B,KAAKu1B,IAAIqG,KAAS57B,KAAKu1B,IAAImF,EAAMmB,IAAQ,GAAmB77B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAImF,GAAM16B,KAAKu1B,IAAIsG,KAAS77B,KAAKu1B,IAAI8E,EAAMmC,IAAQ,GAAmBx8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAI8E,GAAMr6B,KAAKu1B,IAAIiH,KAASx8B,KAAKu1B,IAAI+E,EAAMwL,IAAQ,GAAmB9lC,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAI+E,GAAMt6B,KAAKu1B,IAAIuQ,KAAS9lC,KAAKu1B,IAAI+P,EAAMS,IAAQ,GAAmB/lC,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAI+P,GAAMtlC,KAAKu1B,IAAIwQ,KAAS/lC,KAAKu1B,IAAIgQ,EAAMS,IAAQ,GAAmBhmC,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIgQ,GAAMvlC,KAAKu1B,IAAIyQ,IAOj2C,IAAIC,GAAMhK,GAMNiK,GAAM9jC,GCz2DV,SAAS,KACd,IAAI4mB,EAAM,IAAI,GAAoB,GAQlC,OANI,IAAuBzd,eACzByd,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,EASF,SAAS,GAAM3kB,GACpB,IAAI2kB,EAAM,IAAI,GAAoB,GAIlC,OAHAA,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACJ2kB,EASF,SAAS,GAAO3kB,GACrB,IAAI5U,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACN+M,EAAI/M,EAAE,GACV,OAAOrE,KAAKqH,MAAM5X,EAAGwgB,EAAGmB,GAWnB,SAAS,GAAW3hB,EAAGwgB,EAAGmB,GAC/B,IAAI4X,EAAM,IAAI,GAAoB,GAIlC,OAHAA,EAAI,GAAKv5B,EACTu5B,EAAI,GAAK/Y,EACT+Y,EAAI,GAAK5X,EACF4X,EAUF,SAAS,GAAKA,EAAK3kB,GAIxB,OAHA2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACJ2kB,EAYF,SAAS,GAAIA,EAAKv5B,EAAGwgB,EAAGmB,GAI7B,OAHA4X,EAAI,GAAKv5B,EACTu5B,EAAI,GAAK/Y,EACT+Y,EAAI,GAAK5X,EACF4X,EAWF,SAAS,GAAIA,EAAK3kB,EAAG8G,GAI1B,OAHA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GACX6d,EAWF,SAAS,GAASA,EAAK3kB,EAAG8G,GAI/B,OAHA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GACX6d,EAWF,SAAS,GAASA,EAAK3kB,EAAG8G,GAI/B,OAHA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GACX6d,EAWF,SAASmd,GAAOnd,EAAK3kB,EAAG8G,GAI7B,OAHA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GACX6d,EAUF,SAASod,GAAKpd,EAAK3kB,GAIxB,OAHA2kB,EAAI,GAAKhpB,KAAKomC,KAAK/hC,EAAE,IACrB2kB,EAAI,GAAKhpB,KAAKomC,KAAK/hC,EAAE,IACrB2kB,EAAI,GAAKhpB,KAAKomC,KAAK/hC,EAAE,IACd2kB,EAUF,SAASnlB,GAAMmlB,EAAK3kB,GAIzB,OAHA2kB,EAAI,GAAKhpB,KAAK6D,MAAMQ,EAAE,IACtB2kB,EAAI,GAAKhpB,KAAK6D,MAAMQ,EAAE,IACtB2kB,EAAI,GAAKhpB,KAAK6D,MAAMQ,EAAE,IACf2kB,EAWF,SAAS,GAAIA,EAAK3kB,EAAG8G,GAI1B,OAHA6d,EAAI,GAAKhpB,KAAKC,IAAIoE,EAAE,GAAI8G,EAAE,IAC1B6d,EAAI,GAAKhpB,KAAKC,IAAIoE,EAAE,GAAI8G,EAAE,IAC1B6d,EAAI,GAAKhpB,KAAKC,IAAIoE,EAAE,GAAI8G,EAAE,IACnB6d,EAWF,SAAS,GAAIA,EAAK3kB,EAAG8G,GAI1B,OAHA6d,EAAI,GAAKhpB,KAAKypB,IAAIplB,EAAE,GAAI8G,EAAE,IAC1B6d,EAAI,GAAKhpB,KAAKypB,IAAIplB,EAAE,GAAI8G,EAAE,IAC1B6d,EAAI,GAAKhpB,KAAKypB,IAAIplB,EAAE,GAAI8G,EAAE,IACnB6d,EAUF,SAAS,GAAMA,EAAK3kB,GAIzB,OAHA2kB,EAAI,GAAKhpB,KAAKqmC,MAAMhiC,EAAE,IACtB2kB,EAAI,GAAKhpB,KAAKqmC,MAAMhiC,EAAE,IACtB2kB,EAAI,GAAKhpB,KAAKqmC,MAAMhiC,EAAE,IACf2kB,EAWF,SAAS,GAAMA,EAAK3kB,EAAG8G,GAI5B,OAHA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EACT6d,EAYF,SAASsd,GAAYtd,EAAK3kB,EAAG8G,EAAGu5B,GAIrC,OAHA1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EAChB1b,EAUF,SAAS,GAAS3kB,EAAG8G,GAC1B,IAAI1b,EAAI0b,EAAE,GAAK9G,EAAE,GACb4L,EAAI9E,EAAE,GAAK9G,EAAE,GACb+M,EAAIjG,EAAE,GAAK9G,EAAE,GACjB,OAAOrE,KAAKqH,MAAM5X,EAAGwgB,EAAGmB,GAUnB,SAASm1B,GAAgBliC,EAAG8G,GACjC,IAAI1b,EAAI0b,EAAE,GAAK9G,EAAE,GACb4L,EAAI9E,EAAE,GAAK9G,EAAE,GACb+M,EAAIjG,EAAE,GAAK9G,EAAE,GACjB,OAAO5U,EAAIA,EAAIwgB,EAAIA,EAAImB,EAAIA,EAStB,SAASo1B,GAAcniC,GAC5B,IAAI5U,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACN+M,EAAI/M,EAAE,GACV,OAAO5U,EAAIA,EAAIwgB,EAAIA,EAAImB,EAAIA,EAUtB,SAASq1B,GAAOzd,EAAK3kB,GAI1B,OAHA2kB,EAAI,IAAM3kB,EAAE,GACZ2kB,EAAI,IAAM3kB,EAAE,GACZ2kB,EAAI,IAAM3kB,EAAE,GACL2kB,EAUF,SAAS0d,GAAQ1d,EAAK3kB,GAI3B,OAHA2kB,EAAI,GAAK,EAAM3kB,EAAE,GACjB2kB,EAAI,GAAK,EAAM3kB,EAAE,GACjB2kB,EAAI,GAAK,EAAM3kB,EAAE,GACV2kB,EAUF,SAAS,GAAUA,EAAK3kB,GAC7B,IAAI5U,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACN+M,EAAI/M,EAAE,GACNjJ,EAAM3L,EAAIA,EAAIwgB,EAAIA,EAAImB,EAAIA,EAU9B,OARIhW,EAAM,IAERA,EAAM,EAAI4E,KAAK8/B,KAAK1kC,IAGtB4tB,EAAI,GAAK3kB,EAAE,GAAKjJ,EAChB4tB,EAAI,GAAK3kB,EAAE,GAAKjJ,EAChB4tB,EAAI,GAAK3kB,EAAE,GAAKjJ,EACT4tB,EAUF,SAAS,GAAI3kB,EAAG8G,GACrB,OAAO9G,EAAE,GAAK8G,EAAE,GAAK9G,EAAE,GAAK8G,EAAE,GAAK9G,EAAE,GAAK8G,EAAE,GAWvC,SAASw7B,GAAM3d,EAAK3kB,EAAG8G,GAC5B,IAAIozB,EAAKl6B,EAAE,GACPm6B,EAAKn6B,EAAE,GACPo6B,EAAKp6B,EAAE,GACP85B,EAAKhzB,EAAE,GACPizB,EAAKjzB,EAAE,GACPkzB,EAAKlzB,EAAE,GAIX,OAHA6d,EAAI,GAAKwV,EAAKH,EAAKI,EAAKL,EACxBpV,EAAI,GAAKyV,EAAKN,EAAKI,EAAKF,EACxBrV,EAAI,GAAKuV,EAAKH,EAAKI,EAAKL,EACjBnV,EAYF,SAAS4d,GAAK5d,EAAK3kB,EAAG8G,EAAGrgB,GAC9B,IAAIyzC,EAAKl6B,EAAE,GACPm6B,EAAKn6B,EAAE,GACPo6B,EAAKp6B,EAAE,GAIX,OAHA2kB,EAAI,GAAKuV,EAAKzzC,GAAKqgB,EAAE,GAAKozB,GAC1BvV,EAAI,GAAKwV,EAAK1zC,GAAKqgB,EAAE,GAAKqzB,GAC1BxV,EAAI,GAAKyV,EAAK3zC,GAAKqgB,EAAE,GAAKszB,GACnBzV,EAcF,SAAS6d,GAAQ7d,EAAK3kB,EAAG8G,EAAGlhB,EAAGC,EAAGY,GACvC,IAAIg8C,EAAeh8C,EAAIA,EACnBi8C,EAAUD,GAAgB,EAAIh8C,EAAI,GAAK,EACvCk8C,EAAUF,GAAgBh8C,EAAI,GAAKA,EACnCm8C,EAAUH,GAAgBh8C,EAAI,GAC9Bo8C,EAAUJ,GAAgB,EAAI,EAAIh8C,GAItC,OAHAk+B,EAAI,GAAK3kB,EAAE,GAAK0iC,EAAU57B,EAAE,GAAK67B,EAAU/8C,EAAE,GAAKg9C,EAAU/8C,EAAE,GAAKg9C,EACnEle,EAAI,GAAK3kB,EAAE,GAAK0iC,EAAU57B,EAAE,GAAK67B,EAAU/8C,EAAE,GAAKg9C,EAAU/8C,EAAE,GAAKg9C,EACnEle,EAAI,GAAK3kB,EAAE,GAAK0iC,EAAU57B,EAAE,GAAK67B,EAAU/8C,EAAE,GAAKg9C,EAAU/8C,EAAE,GAAKg9C,EAC5Dle,EAcF,SAAS/kB,GAAO+kB,EAAK3kB,EAAG8G,EAAGlhB,EAAGC,EAAGY,GACtC,IAAIq8C,EAAgB,EAAIr8C,EACpBs8C,EAAwBD,EAAgBA,EACxCL,EAAeh8C,EAAIA,EACnBi8C,EAAUK,EAAwBD,EAClCH,EAAU,EAAIl8C,EAAIs8C,EAClBH,EAAU,EAAIH,EAAeK,EAC7BD,EAAUJ,EAAeh8C,EAI7B,OAHAk+B,EAAI,GAAK3kB,EAAE,GAAK0iC,EAAU57B,EAAE,GAAK67B,EAAU/8C,EAAE,GAAKg9C,EAAU/8C,EAAE,GAAKg9C,EACnEle,EAAI,GAAK3kB,EAAE,GAAK0iC,EAAU57B,EAAE,GAAK67B,EAAU/8C,EAAE,GAAKg9C,EAAU/8C,EAAE,GAAKg9C,EACnEle,EAAI,GAAK3kB,EAAE,GAAK0iC,EAAU57B,EAAE,GAAK67B,EAAU/8C,EAAE,GAAKg9C,EAAU/8C,EAAE,GAAKg9C,EAC5Dle,EAUF,SAAS4P,GAAO5P,EAAK0b,GAC1BA,EAAQA,GAAS,EACjB,IAAIh6C,EAAwB,EAApB,KAA0BsV,KAAK64B,GACnCznB,EAAwB,EAApB,KAA0B,EAC9Bi2B,EAASrnC,KAAK8/B,KAAK,EAAM1uB,EAAIA,GAAKszB,EAItC,OAHA1b,EAAI,GAAKhpB,KAAK68B,IAAInyC,GAAK28C,EACvBre,EAAI,GAAKhpB,KAAK48B,IAAIlyC,GAAK28C,EACvBre,EAAI,GAAK5X,EAAIszB,EACN1b,EAYF,SAAS,GAAcA,EAAK3kB,EAAGra,GACpC,IAAIyF,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACN+M,EAAI/M,EAAE,GACN8K,EAAInlB,EAAE,GAAKyF,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,IAAMonB,EAAIpnB,EAAE,IAK5C,OAJAmlB,EAAIA,GAAK,EACT6Z,EAAI,IAAMh/B,EAAE,GAAKyF,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,GAAKonB,EAAIpnB,EAAE,KAAOmlB,EACpD6Z,EAAI,IAAMh/B,EAAE,GAAKyF,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,GAAKonB,EAAIpnB,EAAE,KAAOmlB,EACpD6Z,EAAI,IAAMh/B,EAAE,GAAKyF,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,IAAMonB,EAAIpnB,EAAE,KAAOmlB,EAC9C6Z,EAWF,SAASse,GAActe,EAAK3kB,EAAGra,GACpC,IAAIyF,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACN+M,EAAI/M,EAAE,GAIV,OAHA2kB,EAAI,GAAKv5B,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,GAAKonB,EAAIpnB,EAAE,GACrCg/B,EAAI,GAAKv5B,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,GAAKonB,EAAIpnB,EAAE,GACrCg/B,EAAI,GAAKv5B,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,GAAKonB,EAAIpnB,EAAE,GAC9Bg/B,EAYF,SAASue,GAAcve,EAAK3kB,EAAGH,GAEpC,IAAIsjC,EAAKtjC,EAAE,GACPujC,EAAKvjC,EAAE,GACPwjC,EAAKxjC,EAAE,GACPyjC,EAAKzjC,EAAE,GACPzU,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACN+M,EAAI/M,EAAE,GAGNujC,EAAMH,EAAKr2B,EAAIs2B,EAAKz3B,EACpB43B,EAAMH,EAAKj4C,EAAI+3C,EAAKp2B,EACpB02B,EAAMN,EAAKv3B,EAAIw3B,EAAKh4C,EAEpBs4C,EAAON,EAAKK,EAAMJ,EAAKG,EACvBG,EAAON,EAAKE,EAAMJ,EAAKM,EACvBG,EAAOT,EAAKK,EAAMJ,EAAKG,EAEvBM,EAAU,EAALP,EAYT,OAXAC,GAAOM,EACPL,GAAOK,EACPJ,GAAOI,EAEPH,GAAQ,EACRC,GAAQ,EACRC,GAAQ,EAERjf,EAAI,GAAKv5B,EAAIm4C,EAAMG,EACnB/e,EAAI,GAAK/Y,EAAI43B,EAAMG,EACnBhf,EAAI,GAAK5X,EAAI02B,EAAMG,EACZjf,EAWF,SAAS,GAAQA,EAAK3kB,EAAG8G,EAAGmxB,GACjC,IAAI5wC,EAAI,GACJhB,EAAI,GAaR,OAXAgB,EAAE,GAAK2Y,EAAE,GAAK8G,EAAE,GAChBzf,EAAE,GAAK2Y,EAAE,GAAK8G,EAAE,GAChBzf,EAAE,GAAK2Y,EAAE,GAAK8G,EAAE,GAEhBzgB,EAAE,GAAKgB,EAAE,GACThB,EAAE,GAAKgB,EAAE,GAAKsU,KAAK68B,IAAIP,GAAO5wC,EAAE,GAAKsU,KAAK48B,IAAIN,GAC9C5xC,EAAE,GAAKgB,EAAE,GAAKsU,KAAK48B,IAAIN,GAAO5wC,EAAE,GAAKsU,KAAK68B,IAAIP,GAE9CtT,EAAI,GAAKt+B,EAAE,GAAKygB,EAAE,GAClB6d,EAAI,GAAKt+B,EAAE,GAAKygB,EAAE,GAClB6d,EAAI,GAAKt+B,EAAE,GAAKygB,EAAE,GACX6d,EAWF,SAAS,GAAQA,EAAK3kB,EAAG8G,EAAGmxB,GACjC,IAAI5wC,EAAI,GACJhB,EAAI,GAaR,OAXAgB,EAAE,GAAK2Y,EAAE,GAAK8G,EAAE,GAChBzf,EAAE,GAAK2Y,EAAE,GAAK8G,EAAE,GAChBzf,EAAE,GAAK2Y,EAAE,GAAK8G,EAAE,GAEhBzgB,EAAE,GAAKgB,EAAE,GAAKsU,KAAK48B,IAAIN,GAAO5wC,EAAE,GAAKsU,KAAK68B,IAAIP,GAC9C5xC,EAAE,GAAKgB,EAAE,GACThB,EAAE,GAAKgB,EAAE,GAAKsU,KAAK68B,IAAIP,GAAO5wC,EAAE,GAAKsU,KAAK48B,IAAIN,GAE9CtT,EAAI,GAAKt+B,EAAE,GAAKygB,EAAE,GAClB6d,EAAI,GAAKt+B,EAAE,GAAKygB,EAAE,GAClB6d,EAAI,GAAKt+B,EAAE,GAAKygB,EAAE,GACX6d,EAWF,SAAS,GAAQA,EAAK3kB,EAAG8G,EAAGmxB,GACjC,IAAI5wC,EAAI,GACJhB,EAAI,GAaR,OAXAgB,EAAE,GAAK2Y,EAAE,GAAK8G,EAAE,GAChBzf,EAAE,GAAK2Y,EAAE,GAAK8G,EAAE,GAChBzf,EAAE,GAAK2Y,EAAE,GAAK8G,EAAE,GAEhBzgB,EAAE,GAAKgB,EAAE,GAAKsU,KAAK68B,IAAIP,GAAO5wC,EAAE,GAAKsU,KAAK48B,IAAIN,GAC9C5xC,EAAE,GAAKgB,EAAE,GAAKsU,KAAK48B,IAAIN,GAAO5wC,EAAE,GAAKsU,KAAK68B,IAAIP,GAC9C5xC,EAAE,GAAKgB,EAAE,GAETs9B,EAAI,GAAKt+B,EAAE,GAAKygB,EAAE,GAClB6d,EAAI,GAAKt+B,EAAE,GAAKygB,EAAE,GAClB6d,EAAI,GAAKt+B,EAAE,GAAKygB,EAAE,GACX6d,EASF,SAAS,GAAM3kB,EAAG8G,GACvB,IAAIozB,EAAKl6B,EAAE,GACPm6B,EAAKn6B,EAAE,GACPo6B,EAAKp6B,EAAE,GACP85B,EAAKhzB,EAAE,GACPizB,EAAKjzB,EAAE,GACPkzB,EAAKlzB,EAAE,GAGPg9B,EAFOnoC,KAAK8/B,KAAKvB,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,GACnCz+B,KAAK8/B,KAAK3B,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,GAE1C+J,EAASD,GAAO,GAAI9jC,EAAG8G,GAAKg9B,EAChC,OAAOnoC,KAAKqoC,KAAKroC,KAAKC,IAAID,KAAKypB,IAAI2e,GAAS,GAAI,IAS3C,SAASE,GAAKtf,GAInB,OAHAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EASF,SAAS,GAAI3kB,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,IAU/C,SAAS,GAAYA,EAAG8G,GAC7B,OAAO9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,GAU/C,SAAS,GAAO9G,EAAG8G,GACxB,IAAIy5B,EAAKvgC,EAAE,GACPwgC,EAAKxgC,EAAE,GACPygC,EAAKzgC,EAAE,GACP63B,EAAK/wB,EAAE,GACPgxB,EAAKhxB,EAAE,GACPixB,EAAKjxB,EAAE,GACX,OAAOnL,KAAKu1B,IAAIqP,EAAK1I,IAAO,GAAmBl8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIqP,GAAK5kC,KAAKu1B,IAAI2G,KAAQl8B,KAAKu1B,IAAIsP,EAAK1I,IAAO,GAAmBn8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIsP,GAAK7kC,KAAKu1B,IAAI4G,KAAQn8B,KAAKu1B,IAAIuP,EAAK1I,IAAO,GAAmBp8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIuP,GAAK9kC,KAAKu1B,IAAI6G,IAOzP,IAmDDmM,GAnDK,GAAM,GAMN,GAAM,GAMNC,GAAMrC,GAMN,GAAO,GAMPsC,GAAUlC,GAMV,GAAM,GAMNmC,GAASlC,GAcT9jC,IACL6lC,GAAM,KACH,SAAUlkC,EAAGzS,EAAQD,EAAQgS,EAAO7U,EAAIN,GAC7C,IAAI5E,EAAGC,EAgBP,IAdK+H,IACHA,EAAS,GAGND,IACHA,EAAS,GAIT9H,EADE8Z,EACE3D,KAAKC,IAAI0D,EAAQ/R,EAASD,EAAQ0S,EAAE/X,QAEpC+X,EAAE/X,OAGH1C,EAAI+H,EAAQ/H,EAAIC,EAAGD,GAAKgI,EAC3B22C,GAAI,GAAKlkC,EAAEza,GACX2+C,GAAI,GAAKlkC,EAAEza,EAAI,GACf2+C,GAAI,GAAKlkC,EAAEza,EAAI,GACfkF,EAAGy5C,GAAKA,GAAK/5C,GACb6V,EAAEza,GAAK2+C,GAAI,GACXlkC,EAAEza,EAAI,GAAK2+C,GAAI,GACflkC,EAAEza,EAAI,GAAK2+C,GAAI,GAGjB,OAAOlkC,ICneJ,SAAS,GAAOA,GACrB,IAAI5U,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACN+M,EAAI/M,EAAE,GACN8K,EAAI9K,EAAE,GACV,OAAOrE,KAAKqH,MAAM5X,EAAGwgB,EAAGmB,EAAGjC,GAStB,SAAS,GAAc9K,GAC5B,IAAI5U,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACN+M,EAAI/M,EAAE,GACN8K,EAAI9K,EAAE,GACV,OAAO5U,EAAIA,EAAIwgB,EAAIA,EAAImB,EAAIA,EAAIjC,EAAIA,GAqThB,WACnB,IAzmBI6Z,EAymBAuf,GAzmBAvf,EAAM,IAAI,GAAoB,GAE9B,IAAuBzd,eACzByd,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,GA+lBY,GCtmBd,SAAS,KACd,IAAIA,EAAM,IAAI,GAAoB,GASlC,OAPI,IAAuBzd,eACzByd,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGXA,EAAI,GAAK,EACFA,EASF,SAAS,GAASA,GAKvB,OAJAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EAYF,SAAS2f,GAAa3f,EAAKuT,EAAMD,GACtCA,GAAY,GACZ,IAAI3wC,EAAIqU,KAAK48B,IAAIN,GAKjB,OAJAtT,EAAI,GAAKr9B,EAAI4wC,EAAK,GAClBvT,EAAI,GAAKr9B,EAAI4wC,EAAK,GAClBvT,EAAI,GAAKr9B,EAAI4wC,EAAK,GAClBvT,EAAI,GAAKhpB,KAAK68B,IAAIP,GACXtT,EAgBF,SAAS4f,GAAaC,EAAU3kC,GACrC,IAAIo4B,EAAwB,EAAlBt8B,KAAKqoC,KAAKnkC,EAAE,IAClBvY,EAAIqU,KAAK48B,IAAIN,EAAM,GAavB,OAXI3wC,EAAI,IACNk9C,EAAS,GAAK3kC,EAAE,GAAKvY,EACrBk9C,EAAS,GAAK3kC,EAAE,GAAKvY,EACrBk9C,EAAS,GAAK3kC,EAAE,GAAKvY,IAGrBk9C,EAAS,GAAK,EACdA,EAAS,GAAK,EACdA,EAAS,GAAK,GAGTvM,EAUF,SAASwM,GAASzkC,EAAG8G,GAC1B,IAAI49B,EAAa,GAAI1kC,EAAG8G,GACxB,OAAOnL,KAAKqoC,KAAK,EAAIU,EAAaA,EAAa,GAW1C,SAAS,GAAS/f,EAAK3kB,EAAG8G,GAC/B,IAAIozB,EAAKl6B,EAAE,GACPm6B,EAAKn6B,EAAE,GACPo6B,EAAKp6B,EAAE,GACPq6B,EAAKr6B,EAAE,GACP85B,EAAKhzB,EAAE,GACPizB,EAAKjzB,EAAE,GACPkzB,EAAKlzB,EAAE,GACPmzB,EAAKnzB,EAAE,GAKX,OAJA6d,EAAI,GAAKuV,EAAKD,EAAKI,EAAKP,EAAKK,EAAKH,EAAKI,EAAKL,EAC5CpV,EAAI,GAAKwV,EAAKF,EAAKI,EAAKN,EAAKK,EAAKN,EAAKI,EAAKF,EAC5CrV,EAAI,GAAKyV,EAAKH,EAAKI,EAAKL,EAAKE,EAAKH,EAAKI,EAAKL,EAC5CnV,EAAI,GAAK0V,EAAKJ,EAAKC,EAAKJ,EAAKK,EAAKJ,EAAKK,EAAKJ,EACrCrV,EAWF,SAAS,GAAQA,EAAK3kB,EAAGi4B,GAC9BA,GAAO,GACP,IAAIiC,EAAKl6B,EAAE,GACPm6B,EAAKn6B,EAAE,GACPo6B,EAAKp6B,EAAE,GACPq6B,EAAKr6B,EAAE,GACP85B,EAAKn+B,KAAK48B,IAAIN,GACdgC,EAAKt+B,KAAK68B,IAAIP,GAKlB,OAJAtT,EAAI,GAAKuV,EAAKD,EAAKI,EAAKP,EACxBnV,EAAI,GAAKwV,EAAKF,EAAKG,EAAKN,EACxBnV,EAAI,GAAKyV,EAAKH,EAAKE,EAAKL,EACxBnV,EAAI,GAAK0V,EAAKJ,EAAKC,EAAKJ,EACjBnV,EAWF,SAAS,GAAQA,EAAK3kB,EAAGi4B,GAC9BA,GAAO,GACP,IAAIiC,EAAKl6B,EAAE,GACPm6B,EAAKn6B,EAAE,GACPo6B,EAAKp6B,EAAE,GACPq6B,EAAKr6B,EAAE,GACP+5B,EAAKp+B,KAAK48B,IAAIN,GACdgC,EAAKt+B,KAAK68B,IAAIP,GAKlB,OAJAtT,EAAI,GAAKuV,EAAKD,EAAKG,EAAKL,EACxBpV,EAAI,GAAKwV,EAAKF,EAAKI,EAAKN,EACxBpV,EAAI,GAAKyV,EAAKH,EAAKC,EAAKH,EACxBpV,EAAI,GAAK0V,EAAKJ,EAAKE,EAAKJ,EACjBpV,EAWF,SAAS,GAAQA,EAAK3kB,EAAGi4B,GAC9BA,GAAO,GACP,IAAIiC,EAAKl6B,EAAE,GACPm6B,EAAKn6B,EAAE,GACPo6B,EAAKp6B,EAAE,GACPq6B,EAAKr6B,EAAE,GACPg6B,EAAKr+B,KAAK48B,IAAIN,GACdgC,EAAKt+B,KAAK68B,IAAIP,GAKlB,OAJAtT,EAAI,GAAKuV,EAAKD,EAAKE,EAAKH,EACxBrV,EAAI,GAAKwV,EAAKF,EAAKC,EAAKF,EACxBrV,EAAI,GAAKyV,EAAKH,EAAKI,EAAKL,EACxBrV,EAAI,GAAK0V,EAAKJ,EAAKG,EAAKJ,EACjBrV,EAYF,SAASggB,GAAWhgB,EAAK3kB,GAC9B,IAAI5U,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACN+M,EAAI/M,EAAE,GAKV,OAJA2kB,EAAI,GAAKv5B,EACTu5B,EAAI,GAAK/Y,EACT+Y,EAAI,GAAK5X,EACT4X,EAAI,GAAKhpB,KAAK8/B,KAAK9/B,KAAKu1B,IAAI,EAAM9lC,EAAIA,EAAIwgB,EAAIA,EAAImB,EAAIA,IAC/C4X,EAUF,SAASigB,GAAIjgB,EAAK3kB,GACvB,IAAI5U,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACN+M,EAAI/M,EAAE,GACN8K,EAAI9K,EAAE,GACN3Z,EAAIsV,KAAK8/B,KAAKrwC,EAAIA,EAAIwgB,EAAIA,EAAImB,EAAIA,GAClC83B,EAAKlpC,KAAKipC,IAAI95B,GACdxjB,EAAIjB,EAAI,EAAIw+C,EAAKlpC,KAAK48B,IAAIlyC,GAAKA,EAAI,EAKvC,OAJAs+B,EAAI,GAAKv5B,EAAI9D,EACbq9B,EAAI,GAAK/Y,EAAItkB,EACbq9B,EAAI,GAAK5X,EAAIzlB,EACbq9B,EAAI,GAAKkgB,EAAKlpC,KAAK68B,IAAInyC,GAChBs+B,EAUF,SAASmgB,GAAGngB,EAAK3kB,GACtB,IAAI5U,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACN+M,EAAI/M,EAAE,GACN8K,EAAI9K,EAAE,GACN3Z,EAAIsV,KAAK8/B,KAAKrwC,EAAIA,EAAIwgB,EAAIA,EAAImB,EAAIA,GAClCtmB,EAAIJ,EAAI,EAAIsV,KAAKopC,MAAM1+C,EAAGykB,GAAKzkB,EAAI,EAKvC,OAJAs+B,EAAI,GAAKv5B,EAAI3E,EACbk+B,EAAI,GAAK/Y,EAAInlB,EACbk+B,EAAI,GAAK5X,EAAItmB,EACbk+B,EAAI,GAAK,GAAMhpB,KAAKsQ,IAAI7gB,EAAIA,EAAIwgB,EAAIA,EAAImB,EAAIA,EAAIjC,EAAIA,GAC7C6Z,EAWF,SAASqgB,GAAIrgB,EAAK3kB,EAAG8G,GAI1B,OAHAg+B,GAAGngB,EAAK3kB,GACR,GAAM2kB,EAAKA,EAAK7d,GAChB89B,GAAIjgB,EAAKA,GACFA,EAYF,SAASsgB,GAAMtgB,EAAK3kB,EAAG8G,EAAGrgB,GAG/B,IAQIy+C,EAAOC,EAAOC,EAAOC,EAAQC,EAR7BpL,EAAKl6B,EAAE,GACPm6B,EAAKn6B,EAAE,GACPo6B,EAAKp6B,EAAE,GACPq6B,EAAKr6B,EAAE,GACP85B,EAAKhzB,EAAE,GACPizB,EAAKjzB,EAAE,GACPkzB,EAAKlzB,EAAE,GACPmzB,EAAKnzB,EAAE,GAgCX,OA7BAq+B,EAAQjL,EAAKJ,EAAKK,EAAKJ,EAAKK,EAAKJ,EAAKK,EAAKJ,GAE/B,IACVkL,GAASA,EACTrL,GAAMA,EACNC,GAAMA,EACNC,GAAMA,EACNC,GAAMA,GAIJ,EAAMkL,EAAQ,IAEhBD,EAAQvpC,KAAKqoC,KAAKmB,GAClBC,EAAQzpC,KAAK48B,IAAI2M,GACjBG,EAAS1pC,KAAK48B,KAAK,EAAM9xC,GAAKy+C,GAASE,EACvCE,EAAS3pC,KAAK48B,IAAI9xC,EAAIy+C,GAASE,IAI/BC,EAAS,EAAM5+C,EACf6+C,EAAS7+C,GAIXk+B,EAAI,GAAK0gB,EAASnL,EAAKoL,EAASxL,EAChCnV,EAAI,GAAK0gB,EAASlL,EAAKmL,EAASvL,EAChCpV,EAAI,GAAK0gB,EAASjL,EAAKkL,EAAStL,EAChCrV,EAAI,GAAK0gB,EAAShL,EAAKiL,EAASrL,EACzBtV,EASF,SAAS,GAAOA,GAGrB,IAAI4gB,EAAK,KACLC,EAAK,KACLC,EAAK,KACLC,EAAe/pC,KAAK8/B,KAAK,EAAI8J,GAC7BI,EAAShqC,KAAK8/B,KAAK8J,GAKvB,OAJA5gB,EAAI,GAAK+gB,EAAe/pC,KAAK48B,IAAI,EAAM58B,KAAK64B,GAAKgR,GACjD7gB,EAAI,GAAK+gB,EAAe/pC,KAAK68B,IAAI,EAAM78B,KAAK64B,GAAKgR,GACjD7gB,EAAI,GAAKghB,EAAShqC,KAAK48B,IAAI,EAAM58B,KAAK64B,GAAKiR,GAC3C9gB,EAAI,GAAKghB,EAAShqC,KAAK68B,IAAI,EAAM78B,KAAK64B,GAAKiR,GACpC9gB,EAUF,SAAS,GAAOA,EAAK3kB,GAC1B,IAAIugC,EAAKvgC,EAAE,GACPwgC,EAAKxgC,EAAE,GACPygC,EAAKzgC,EAAE,GACP0gC,EAAK1gC,EAAE,GACPe,EAAMw/B,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EACzCkF,EAAS7kC,EAAM,EAAMA,EAAM,EAM/B,OAJA4jB,EAAI,IAAM4b,EAAKqF,EACfjhB,EAAI,IAAM6b,EAAKoF,EACfjhB,EAAI,IAAM8b,EAAKmF,EACfjhB,EAAI,GAAK+b,EAAKkF,EACPjhB,EAWF,SAASkhB,GAAUlhB,EAAK3kB,GAK7B,OAJA2kB,EAAI,IAAM3kB,EAAE,GACZ2kB,EAAI,IAAM3kB,EAAE,GACZ2kB,EAAI,IAAM3kB,EAAE,GACZ2kB,EAAI,GAAK3kB,EAAE,GACJ2kB,EAcF,SAASmhB,GAASnhB,EAAKh/B,GAG5B,IACIogD,EADAC,EAASrgD,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAG7B,GAAIqgD,EAAS,EAEXD,EAAQpqC,KAAK8/B,KAAKuK,EAAS,GAE3BrhB,EAAI,GAAK,GAAMohB,EACfA,EAAQ,GAAMA,EAEdphB,EAAI,IAAMh/B,EAAE,GAAKA,EAAE,IAAMogD,EACzBphB,EAAI,IAAMh/B,EAAE,GAAKA,EAAE,IAAMogD,EACzBphB,EAAI,IAAMh/B,EAAE,GAAKA,EAAE,IAAMogD,MACpB,CAEL,IAAIxgD,EAAI,EACJI,EAAE,GAAKA,EAAE,KAAIJ,EAAI,GACjBI,EAAE,GAAKA,EAAM,EAAJJ,EAAQA,KAAIA,EAAI,GAC7B,IAAIkH,GAAKlH,EAAI,GAAK,EACd8R,GAAK9R,EAAI,GAAK,EAClBwgD,EAAQpqC,KAAK8/B,KAAK91C,EAAM,EAAJJ,EAAQA,GAAKI,EAAM,EAAJ8G,EAAQA,GAAK9G,EAAM,EAAJ0R,EAAQA,GAAK,GAC/DstB,EAAIp/B,GAAK,GAAMwgD,EACfA,EAAQ,GAAMA,EACdphB,EAAI,IAAMh/B,EAAM,EAAJ8G,EAAQ4K,GAAK1R,EAAM,EAAJ0R,EAAQ5K,IAAMs5C,EACzCphB,EAAIl4B,IAAM9G,EAAM,EAAJ8G,EAAQlH,GAAKI,EAAM,EAAJJ,EAAQkH,IAAMs5C,EACzCphB,EAAIttB,IAAM1R,EAAM,EAAJ0R,EAAQ9R,GAAKI,EAAM,EAAJJ,EAAQ8R,IAAM0uC,EAG3C,OAAOphB,EAaF,SAASshB,GAAUthB,EAAKv5B,EAAGwgB,EAAGmB,GACnC,IAAIm5B,EAAY,GAAMvqC,KAAK64B,GAAK,IAChCppC,GAAK86C,EACLt6B,GAAKs6B,EACLn5B,GAAKm5B,EACL,IAAIvK,EAAKhgC,KAAK48B,IAAIntC,GACd+6C,EAAKxqC,KAAK68B,IAAIptC,GACdwwC,EAAKjgC,KAAK48B,IAAI3sB,GACdw6B,EAAKzqC,KAAK68B,IAAI5sB,GACdiwB,EAAKlgC,KAAK48B,IAAIxrB,GACds5B,EAAK1qC,KAAK68B,IAAIzrB,GAKlB,OAJA4X,EAAI,GAAKgX,EAAKyK,EAAKC,EAAKF,EAAKvK,EAAKC,EAClClX,EAAI,GAAKwhB,EAAKvK,EAAKyK,EAAK1K,EAAKyK,EAAKvK,EAClClX,EAAI,GAAKwhB,EAAKC,EAAKvK,EAAKF,EAAKC,EAAKyK,EAClC1hB,EAAI,GAAKwhB,EAAKC,EAAKC,EAAK1K,EAAKC,EAAKC,EAC3BlX,EASF,SAAS,GAAI3kB,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,IAU7D,IA4JDsmC,GACAC,GACAC,GAuCAC,GACAC,GCvpBA/hB,GD2qBAgiB,GA1NK,GD/bJ,SAAe3mC,GACpB,IAAI2kB,EAAM,IAAI,GAAoB,GAKlC,OAJAA,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACJ2kB,GCqcE,GDzbJ,SAAoBv5B,EAAGwgB,EAAGmB,EAAGjC,GAClC,IAAI6Z,EAAM,IAAI,GAAoB,GAKlC,OAJAA,EAAI,GAAKv5B,EACTu5B,EAAI,GAAK/Y,EACT+Y,EAAI,GAAK5X,EACT4X,EAAI,GAAK7Z,EACF6Z,GC6bE,GDnbJ,SAAcA,EAAK3kB,GAKxB,OAJA2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACJ2kB,GC2bE,GD9aJ,SAAaA,EAAKv5B,EAAGwgB,EAAGmB,EAAGjC,GAKhC,OAJA6Z,EAAI,GAAKv5B,EACTu5B,EAAI,GAAK/Y,EACT+Y,EAAI,GAAK5X,EACT4X,EAAI,GAAK7Z,EACF6Z,GCobE,GDzaJ,SAAaA,EAAK3kB,EAAG8G,GAK1B,OAJA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GACX6d,GC0aE,GAAM,GAWN,GD7SJ,SAAeA,EAAK3kB,EAAG8G,GAK5B,OAJA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EACT6d,GCkTE,GDtKJ,SAAa3kB,EAAG8G,GACrB,OAAO9G,EAAE,GAAK8G,EAAE,GAAK9G,EAAE,GAAK8G,EAAE,GAAK9G,EAAE,GAAK8G,EAAE,GAAK9G,EAAE,GAAK8G,EAAE,ICiLjD,GD1IJ,SAAc6d,EAAK3kB,EAAG8G,EAAGrgB,GAC9B,IAAIyzC,EAAKl6B,EAAE,GACPm6B,EAAKn6B,EAAE,GACPo6B,EAAKp6B,EAAE,GACPq6B,EAAKr6B,EAAE,GAKX,OAJA2kB,EAAI,GAAKuV,EAAKzzC,GAAKqgB,EAAE,GAAKozB,GAC1BvV,EAAI,GAAKwV,EAAK1zC,GAAKqgB,EAAE,GAAKqzB,GAC1BxV,EAAI,GAAKyV,EAAK3zC,GAAKqgB,EAAE,GAAKszB,GAC1BzV,EAAI,GAAK0V,EAAK5zC,GAAKqgB,EAAE,GAAKuzB,GACnB1V,GCyIE,GAAS,GAMT,GAAM,GASN,GAAgB,GAMhB,GAAS,GAUT,GDlPJ,SAAmBA,EAAK3kB,GAC7B,IAAI5U,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACN+M,EAAI/M,EAAE,GACN8K,EAAI9K,EAAE,GACNjJ,EAAM3L,EAAIA,EAAIwgB,EAAIA,EAAImB,EAAIA,EAAIjC,EAAIA,EAUtC,OARI/T,EAAM,IACRA,EAAM,EAAI4E,KAAK8/B,KAAK1kC,IAGtB4tB,EAAI,GAAKv5B,EAAI2L,EACb4tB,EAAI,GAAK/Y,EAAI7U,EACb4tB,EAAI,GAAK5X,EAAIhW,EACb4tB,EAAI,GAAK7Z,EAAI/T,EACN4tB,GC4OE,GD3DJ,SAAqB3kB,EAAG8G,GAC7B,OAAO9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,ICmE5D,GDzDJ,SAAgB9G,EAAG8G,GACxB,IAAIy5B,EAAKvgC,EAAE,GACPwgC,EAAKxgC,EAAE,GACPygC,EAAKzgC,EAAE,GACP0gC,EAAK1gC,EAAE,GACP63B,EAAK/wB,EAAE,GACPgxB,EAAKhxB,EAAE,GACPixB,EAAKjxB,EAAE,GACPkxB,EAAKlxB,EAAE,GACX,OAAOnL,KAAKu1B,IAAIqP,EAAK1I,IAAO,GAAmBl8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIqP,GAAK5kC,KAAKu1B,IAAI2G,KAAQl8B,KAAKu1B,IAAIsP,EAAK1I,IAAO,GAAmBn8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIsP,GAAK7kC,KAAKu1B,IAAI4G,KAAQn8B,KAAKu1B,IAAIuP,EAAK1I,IAAO,GAAmBp8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIuP,GAAK9kC,KAAKu1B,IAAI6G,KAAQp8B,KAAKu1B,IAAIwP,EAAK1I,IAAO,GAAmBr8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIwP,GAAK/kC,KAAKu1B,IAAI8G,KC6D1U4O,IACLN,GAAU,KACVC,GAAY,GAAgB,EAAG,EAAG,GAClCC,GAAY,GAAgB,EAAG,EAAG,GAC/B,SAAU7hB,EAAK3kB,EAAG8G,GACvB,IAAI/F,EAAM,GAASf,EAAG8G,GAEtB,OAAI/F,GAAO,SACT,GAAWulC,GAASC,GAAWvmC,GAC3B,GAASsmC,IAAW,MAAU,GAAWA,GAASE,GAAWxmC,GACjE,GAAesmC,GAASA,IACxBhC,GAAa3f,EAAK2hB,GAAS3qC,KAAK64B,IACzB7P,GACE5jB,EAAM,SACf4jB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,IAEP,GAAW2hB,GAAStmC,EAAG8G,GACvB6d,EAAI,GAAK2hB,GAAQ,GACjB3hB,EAAI,GAAK2hB,GAAQ,GACjB3hB,EAAI,GAAK2hB,GAAQ,GACjB3hB,EAAI,GAAK,EAAI5jB,EACN,GAAU4jB,EAAKA,MAgBjBkiB,IACLJ,GAAQ,KACRC,GAAQ,KACL,SAAU/hB,EAAK3kB,EAAG8G,EAAGlhB,EAAGC,EAAGY,GAIhC,OAHAw+C,GAAMwB,GAAOzmC,EAAGna,EAAGY,GACnBw+C,GAAMyB,GAAO5/B,EAAGlhB,EAAGa,GACnBw+C,GAAMtgB,EAAK8hB,GAAOC,GAAO,EAAIjgD,GAAK,EAAIA,IAC/Bk+B,IAcAmiB,IC1qBLniB,GAAM,IAAI,GAAoB,GAE9B,IAAuBzd,eACzByd,GAAI,GAAK,EACTA,GAAI,GAAK,EACTA,GAAI,GAAK,EACTA,GAAI,GAAK,EACTA,GAAI,GAAK,EACTA,GAAI,GAAK,GAGXA,GAAI,GAAK,EACTA,GAAI,GAAK,EACTA,GAAI,GAAK,ED8pBLgiB,GC7pBGhiB,GD8pBA,SAAUA,EAAKoiB,EAAM9J,EAAO3iC,GAUjC,OATAqsC,GAAK,GAAK1J,EAAM,GAChB0J,GAAK,GAAK1J,EAAM,GAChB0J,GAAK,GAAK1J,EAAM,GAChB0J,GAAK,GAAKrsC,EAAG,GACbqsC,GAAK,GAAKrsC,EAAG,GACbqsC,GAAK,GAAKrsC,EAAG,GACbqsC,GAAK,IAAMI,EAAK,GAChBJ,GAAK,IAAMI,EAAK,GAChBJ,GAAK,IAAMI,EAAK,GACT,GAAUpiB,EAAKmhB,GAASnhB,EAAKgiB,OEvrBjC,SAAS,KACd,IAAIhiB,EAAM,IAAI,GAAoB,GAOlC,OALI,IAAuBzd,eACzByd,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,EASF,SAAS,GAAM3kB,GACpB,IAAI2kB,EAAM,IAAI,GAAoB,GAGlC,OAFAA,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACJ2kB,EAUF,SAAS,GAAWv5B,EAAGwgB,GAC5B,IAAI+Y,EAAM,IAAI,GAAoB,GAGlC,OAFAA,EAAI,GAAKv5B,EACTu5B,EAAI,GAAK/Y,EACF+Y,EAUF,SAAS,GAAKA,EAAK3kB,GAGxB,OAFA2kB,EAAI,GAAK3kB,EAAE,GACX2kB,EAAI,GAAK3kB,EAAE,GACJ2kB,EAWF,SAAS,GAAIA,EAAKv5B,EAAGwgB,GAG1B,OAFA+Y,EAAI,GAAKv5B,EACTu5B,EAAI,GAAK/Y,EACF+Y,EAWF,SAAS,GAAIA,EAAK3kB,EAAG8G,GAG1B,OAFA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GACX6d,EAWF,SAAS,GAASA,EAAK3kB,EAAG8G,GAG/B,OAFA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GACX6d,EAWF,SAAS,GAASA,EAAK3kB,EAAG8G,GAG/B,OAFA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GACX6d,EAWF,SAAS,GAAOA,EAAK3kB,EAAG8G,GAG7B,OAFA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAClB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GACX6d,EAUF,SAAS,GAAKA,EAAK3kB,GAGxB,OAFA2kB,EAAI,GAAKhpB,KAAKomC,KAAK/hC,EAAE,IACrB2kB,EAAI,GAAKhpB,KAAKomC,KAAK/hC,EAAE,IACd2kB,EAUF,SAAS,GAAMA,EAAK3kB,GAGzB,OAFA2kB,EAAI,GAAKhpB,KAAK6D,MAAMQ,EAAE,IACtB2kB,EAAI,GAAKhpB,KAAK6D,MAAMQ,EAAE,IACf2kB,EAWF,SAAS,GAAIA,EAAK3kB,EAAG8G,GAG1B,OAFA6d,EAAI,GAAKhpB,KAAKC,IAAIoE,EAAE,GAAI8G,EAAE,IAC1B6d,EAAI,GAAKhpB,KAAKC,IAAIoE,EAAE,GAAI8G,EAAE,IACnB6d,EAWF,SAAS,GAAIA,EAAK3kB,EAAG8G,GAG1B,OAFA6d,EAAI,GAAKhpB,KAAKypB,IAAIplB,EAAE,GAAI8G,EAAE,IAC1B6d,EAAI,GAAKhpB,KAAKypB,IAAIplB,EAAE,GAAI8G,EAAE,IACnB6d,EAUF,SAAS,GAAMA,EAAK3kB,GAGzB,OAFA2kB,EAAI,GAAKhpB,KAAKqmC,MAAMhiC,EAAE,IACtB2kB,EAAI,GAAKhpB,KAAKqmC,MAAMhiC,EAAE,IACf2kB,EAWF,SAAS,GAAMA,EAAK3kB,EAAG8G,GAG5B,OAFA6d,EAAI,GAAK3kB,EAAE,GAAK8G,EAChB6d,EAAI,GAAK3kB,EAAE,GAAK8G,EACT6d,EAYF,SAAS,GAAYA,EAAK3kB,EAAG8G,EAAGu5B,GAGrC,OAFA1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EACvB1b,EAAI,GAAK3kB,EAAE,GAAK8G,EAAE,GAAKu5B,EAChB1b,EAUF,SAAS,GAAS3kB,EAAG8G,GAC1B,IAAI1b,EAAI0b,EAAE,GAAK9G,EAAE,GACb4L,EAAI9E,EAAE,GAAK9G,EAAE,GACjB,OAAOrE,KAAKqH,MAAM5X,EAAGwgB,GAUhB,SAAS,GAAgB5L,EAAG8G,GACjC,IAAI1b,EAAI0b,EAAE,GAAK9G,EAAE,GACb4L,EAAI9E,EAAE,GAAK9G,EAAE,GACjB,OAAO5U,EAAIA,EAAIwgB,EAAIA,EASd,SAAS,GAAO5L,GACrB,IAAI5U,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACV,OAAOrE,KAAKqH,MAAM5X,EAAGwgB,GAShB,SAAS,GAAc5L,GAC5B,IAAI5U,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACV,OAAO5U,EAAIA,EAAIwgB,EAAIA,EAUd,SAAS,GAAO+Y,EAAK3kB,GAG1B,OAFA2kB,EAAI,IAAM3kB,EAAE,GACZ2kB,EAAI,IAAM3kB,EAAE,GACL2kB,EAUF,SAAS,GAAQA,EAAK3kB,GAG3B,OAFA2kB,EAAI,GAAK,EAAM3kB,EAAE,GACjB2kB,EAAI,GAAK,EAAM3kB,EAAE,GACV2kB,EAUF,SAAS,GAAUA,EAAK3kB,GAC7B,IAAI5U,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GACNjJ,EAAM3L,EAAIA,EAAIwgB,EAAIA,EAStB,OAPI7U,EAAM,IAERA,EAAM,EAAI4E,KAAK8/B,KAAK1kC,IAGtB4tB,EAAI,GAAK3kB,EAAE,GAAKjJ,EAChB4tB,EAAI,GAAK3kB,EAAE,GAAKjJ,EACT4tB,EAUF,SAAS,GAAI3kB,EAAG8G,GACrB,OAAO9G,EAAE,GAAK8G,EAAE,GAAK9G,EAAE,GAAK8G,EAAE,GAYzB,SAAS,GAAM6d,EAAK3kB,EAAG8G,GAC5B,IAAIiG,EAAI/M,EAAE,GAAK8G,EAAE,GAAK9G,EAAE,GAAK8G,EAAE,GAG/B,OAFA6d,EAAI,GAAKA,EAAI,GAAK,EAClBA,EAAI,GAAK5X,EACF4X,EAYF,SAAS,GAAKA,EAAK3kB,EAAG8G,EAAGrgB,GAC9B,IAAIyzC,EAAKl6B,EAAE,GACPm6B,EAAKn6B,EAAE,GAGX,OAFA2kB,EAAI,GAAKuV,EAAKzzC,GAAKqgB,EAAE,GAAKozB,GAC1BvV,EAAI,GAAKwV,EAAK1zC,GAAKqgB,EAAE,GAAKqzB,GACnBxV,EAUF,SAAS,GAAOA,EAAK0b,GAC1BA,EAAQA,GAAS,EACjB,IAAIh6C,EAAwB,EAApB,KAA0BsV,KAAK64B,GAGvC,OAFA7P,EAAI,GAAKhpB,KAAK68B,IAAInyC,GAAKg6C,EACvB1b,EAAI,GAAKhpB,KAAK48B,IAAIlyC,GAAKg6C,EAChB1b,EAWF,SAASqiB,GAAcriB,EAAK3kB,EAAGra,GACpC,IAAIyF,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GAGV,OAFA2kB,EAAI,GAAKh/B,EAAE,GAAKyF,EAAIzF,EAAE,GAAKimB,EAC3B+Y,EAAI,GAAKh/B,EAAE,GAAKyF,EAAIzF,EAAE,GAAKimB,EACpB+Y,EAWF,SAASsiB,GAAetiB,EAAK3kB,EAAGra,GACrC,IAAIyF,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GAGV,OAFA2kB,EAAI,GAAKh/B,EAAE,GAAKyF,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,GACjCg/B,EAAI,GAAKh/B,EAAE,GAAKyF,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,GAC1Bg/B,EAYF,SAAS,GAAcA,EAAK3kB,EAAGra,GACpC,IAAIyF,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GAGV,OAFA2kB,EAAI,GAAKh/B,EAAE,GAAKyF,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,GACjCg/B,EAAI,GAAKh/B,EAAE,GAAKyF,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,GAC1Bg/B,EAaF,SAAS,GAAcA,EAAK3kB,EAAGra,GACpC,IAAIyF,EAAI4U,EAAE,GACN4L,EAAI5L,EAAE,GAGV,OAFA2kB,EAAI,GAAKh/B,EAAE,GAAKyF,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,IACjCg/B,EAAI,GAAKh/B,EAAE,GAAKyF,EAAIzF,EAAE,GAAKimB,EAAIjmB,EAAE,IAC1Bg/B,EAWF,SAAS,GAAOA,EAAK3kB,EAAG8G,EAAGmxB,GAEhC,IAAIiP,EAAKlnC,EAAE,GAAK8G,EAAE,GACdgtB,EAAK9zB,EAAE,GAAK8G,EAAE,GACdqgC,EAAOxrC,KAAK48B,IAAIN,GAChBmP,EAAOzrC,KAAK68B,IAAIP,GAIpB,OAFAtT,EAAI,GAAKuiB,EAAKE,EAAOtT,EAAKqT,EAAOrgC,EAAE,GACnC6d,EAAI,GAAKuiB,EAAKC,EAAOrT,EAAKsT,EAAOtgC,EAAE,GAC5B6d,EASF,SAAS,GAAM3kB,EAAG8G,GACvB,IAAIlE,EAAK5C,EAAE,GACPo/B,EAAKp/B,EAAE,GACPg5B,EAAKlyB,EAAE,GACPmyB,EAAKnyB,EAAE,GAEXg9B,EAAMnoC,KAAK8/B,KAAK74B,EAAKA,EAAKw8B,EAAKA,GAAMzjC,KAAK8/B,KAAKzC,EAAKA,EAAKC,EAAKA,GAE9D8K,EAASD,IAAQlhC,EAAKo2B,EAAKoG,EAAKnG,GAAM6K,EAEtC,OAAOnoC,KAAKqoC,KAAKroC,KAAKC,IAAID,KAAKypB,IAAI2e,GAAS,GAAI,IAS3C,SAAS,GAAKpf,GAGnB,OAFAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EASF,SAAS,GAAI3kB,GAClB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,IAUjC,SAAS,GAAYA,EAAG8G,GAC7B,OAAO9G,EAAE,KAAO8G,EAAE,IAAM9G,EAAE,KAAO8G,EAAE,GAU9B,SAAS,GAAO9G,EAAG8G,GACxB,IAAIy5B,EAAKvgC,EAAE,GACPwgC,EAAKxgC,EAAE,GACP63B,EAAK/wB,EAAE,GACPgxB,EAAKhxB,EAAE,GACX,OAAOnL,KAAKu1B,IAAIqP,EAAK1I,IAAO,GAAmBl8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIqP,GAAK5kC,KAAKu1B,IAAI2G,KAAQl8B,KAAKu1B,IAAIsP,EAAK1I,IAAO,GAAmBn8B,KAAKypB,IAAI,EAAKzpB,KAAKu1B,IAAIsP,GAAK7kC,KAAKu1B,IAAI4G,IAOpK,IAAI,GAAM,GAMN,GAAM,GAMN,GAAM,GAMN,GAAM,GAMN,GAAO,GAMP,GAAU,GAMV,GAAS,GAcT,GAAU,WACnB,IAAIoM,EAAM,KACV,OAAO,SAAUlkC,EAAGzS,EAAQD,EAAQgS,EAAO7U,EAAIN,GAC7C,IAAI5E,EAAGC,EAgBP,IAdK+H,IACHA,EAAS,GAGND,IACHA,EAAS,GAIT9H,EADE8Z,EACE3D,KAAKC,IAAI0D,EAAQ/R,EAASD,EAAQ0S,EAAE/X,QAEpC+X,EAAE/X,OAGH1C,EAAI+H,EAAQ/H,EAAIC,EAAGD,GAAKgI,EAC3B22C,EAAI,GAAKlkC,EAAEza,GACX2+C,EAAI,GAAKlkC,EAAEza,EAAI,GACfkF,EAAGy5C,EAAKA,EAAK/5C,GACb6V,EAAEza,GAAK2+C,EAAI,GACXlkC,EAAEza,EAAI,GAAK2+C,EAAI,GAGjB,OAAOlkC,GA3BU,GChlBd,SAASgiC,GAAMh7C,EAAGqQ,GAErB,OADAA,OAAiB,IAANA,EAAoB,EAAIA,EAC5BsE,KAAKqmC,MAAMh7C,EAAIqQ,GAAKA,EAGxB,SAASgwC,GAAKj8C,EAAGwgB,GAAoB,IAAjB07B,EAAiB,uDAAL,IAC7BC,EAASn8C,EAAI,EAAIuQ,KAAK6D,MAAMpU,EAAEk8C,GAAa3rC,KAAKomC,KAAK32C,EAAEk8C,GACvDE,EAAM57B,EAAI,EAAIjQ,KAAK6D,MAAMoM,EAAE07B,GAAa3rC,KAAKomC,KAAKn2B,EAAE07B,GAE1D,MAAO,CAACE,EAAKD,GAIV,SAASE,GAAeC,GAC3B,OAAOA,GAAW/rC,KAAK64B,GAAK,KAGzB,SAAS2P,GAAI9Q,GAAiB,IAAZsU,EAAY,uDAAH,EAC9B,OAAgB,IAARtU,EAAa,EAAIA,EAAMsU,EAU5B,SAASC,GAAeC,GAC3B,IAAIC,EAAQD,GAAU,IAAMlsC,KAAK64B,IAOjC,OAJIsT,EAAQ,IACRA,EAAQ,IAAMA,GAGXA,EAIJ,SAASC,GAAaD,EAAOE,GAAqB,IAAbC,EAAa,uDAAH,EAClD,OAAOA,EAAUD,EAASrsC,KAAK68B,IAAIiP,GAAeK,IAG/C,SAASI,GAAaJ,EAAOE,GAAqB,IAAbG,EAAa,uDAAH,EAClD,OAAOA,EAAUH,EAASrsC,KAAK48B,IAAIkP,GAAeK,IAG/C,SAASM,GAAcN,EAAOE,GAAkC,IAA1BC,EAA0B,uDAAhB,EAAGE,EAAa,uDAAH,EAChE,MAAO,CACH/8C,EAAG28C,GAAaD,EAAOE,EAAQC,GAC/Br8B,EAAGs8B,GAAaJ,EAAOE,EAAQG,IAIhC,SAASE,GAAQj9C,EAAGwgB,GAA6B,IAA1Bq8B,EAA0B,uDAAhB,EAAGE,EAAa,uDAAH,EACjD,OAAOG,EAAKC,SAAS,CAACn9C,EAAGwgB,GAAI,CAACq8B,EAASE,IAYpC,SAASK,GAAuBz2C,EAAOyJ,GAAoB,IAAfitC,EAAe,uDAAH,EAC3D,OAAOC,EAAKnG,KAAK,GAAIxwC,EAAOyJ,EAAK,EAAIitC,EAAYC,EAAK9qC,KAAK7L,EAAOyJ,IAG/D,SAASmtC,GAAWC,EAASC,GAEhC,OAAuB,IAAnBD,EAAQ3gD,OACD,CACHygD,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,IAEb,IAAnBD,EAAQ3gD,OACR,CACHygD,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,GACnCH,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,IAEb,IAAnBD,EAAQ3gD,OACR,CACHygD,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,GACnCH,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,GACnCH,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,IAEb,IAAnBD,EAAQ3gD,OACR,CACHygD,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,GACnCH,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,GACnCH,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,GACnCH,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,IAEb,IAAnBD,EAAQ3gD,OACR,CACHygD,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,GACnCH,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,GACnCH,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,GACnCH,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,GACnCH,EAAKI,cAAc,GAAIF,EAAQ,GAAIC,IAIpCD,EAAQtqC,KAAI,SAAAnJ,GACf,OAAOuzC,EAAKI,cAAc,GAAI3zC,EAAG0zC,MAIzC,SAASE,GAAgBC,EAAQjhD,EAAQmwC,EAAM+Q,GAC3C,MAAO,CACHD,EACA,CAACjhD,EAAO,GAAIihD,EAAO,GAAIjhD,EAAO,IAC9BmwC,EACAv8B,KAAKu1B,IAAI8X,EAAO,GAAKjhD,EAAO,IAC5BkhD,GAIR,SAASC,GAAgBF,EAAQjhD,EAAQmwC,EAAM+Q,GAC3C,MAAO,CACH,CAAClhD,EAAO,GAAIihD,EAAO,GAAIA,EAAO,IAC9BjhD,EACAmwC,EACAv8B,KAAKu1B,IAAI8X,EAAO,GAAKjhD,EAAO,IAC5BkhD,GA0CD,SAASE,GAAgBC,EAAeC,GAE3C,IAAIC,EAAcF,EACdG,EAAeF,EACfG,GAAY,EACZJ,EAAc,GAAG,GAAKC,EAAc,GAAG,GAAK,IAC5CC,EAAcD,EACdE,EAAeH,EACfI,GAAY,GAIhB,IAAMC,EAAaf,EAAKnG,KAAK,GAAI+G,EAAY,GAAIA,EAAY,GAAI,IAC3DI,EAAchB,EAAKnG,KAAK,GAAIgH,EAAa,GAAIA,EAAa,GAAI,IAEhEI,EAAY,GAyBhB,OAvBIJ,EAAa,GAAG,IAAME,EAAW,IAAMA,EAAW,IAAMF,EAAa,GAAG,GACxEI,EAAUj9C,KAAKq8C,GAAgBU,EAAYC,EAAa,IAAK,OACtDH,EAAa,GAAG,IAAMD,EAAY,GAAG,GACxCC,EAAa,GAAG,IAAMD,EAAY,GAAG,IAAMA,EAAY,GAAG,IAAMC,EAAa,GAAG,GAChFI,EAAUj9C,KAAKw8C,GAAgBK,EAAa,GAAI,CAACA,EAAa,GAAG,GAAID,EAAY,GAAG,GAAIA,EAAY,GAAG,IAAK,IAAK,OAEjHK,EAAUj9C,KAAKq8C,GAAgBO,EAAY,GAAII,EAAa,IAAKH,EAAa,KAG3ED,EAAY,GAAG,IAAMC,EAAa,GAAG,IAAMA,EAAa,GAAG,IAAMD,EAAY,GAAG,GACvFK,EAAUj9C,KAAKw8C,GAAgBI,EAAY,GAAIC,EAAa,GAAI,MACzDA,EAAa,GAAG,IAAMD,EAAY,GAAG,IAAMA,EAAY,GAAG,IAAMC,EAAa,GAAG,GACvFI,EAAUj9C,KAAKw8C,GAAgB,CAACK,EAAa,GAAG,GAAGD,EAAY,GAAG,GAAIA,EAAY,GAAG,IAAMC,EAAa,GAAI,MACrGA,EAAa,GAAG,IAAMD,EAAY,GAAG,IAAMA,EAAY,GAAG,IAAMC,EAAa,GAAG,GACvFI,EAAUj9C,KAAKw8C,GAAgBK,EAAa,GAAI,CAACA,EAAa,GAAG,GAAID,EAAY,GAAG,GAAIA,EAAY,GAAG,IAAK,MAE5GK,EAAUj9C,KAAKq8C,GAAgBO,EAAY,GAAII,EAAa,IAAKH,EAAa,KAGlFI,EAAUl7C,MAAK,SAACuR,EAAG8G,GACf,OAAO9G,EAAE,GAAK8G,EAAE,MA3ExB,SAA2Brd,GAAuB,IAAlBmgD,EAAkB,wDAC9C,IAAiB,IAAbA,EAAoB,OAAOngD,EAE/B,WAA8EA,EAA9E,GAAOu/C,EAAP,KAAejhD,EAAf,KAAuBmwC,EAAvB,KAA6Bt6B,EAA7B,KAAmCisC,EAAnC,KAA8CT,EAA9C,KAA6DC,EAA7D,KAEA,OAAIQ,EACO,CACH,CAAC9hD,EAAO,GAAI8hD,EAAU,GAAI9hD,EAAO,IACjC,CAACihD,EAAO,GAAIa,EAAU,GAAIb,EAAO,IACjC9Q,EAAMt6B,EACN,CAACorC,EAAO,GAAIA,EAAO,GAAIa,EAAU,IACjCT,EACAC,EACAO,GAGG,CACH7hD,EACAihD,EACA9Q,EACAt6B,EACAisC,EACAT,EACAC,EACAO,GAsDDE,CAAkB,GAAD,YACjBH,EAAU,IADO,CAEpBP,EACAC,IACDG,GAIA,SAASO,GAAenB,GAC3B,IAAIoB,EAAWC,OAAOC,iBAKtB,OAJAtB,EAAQvqC,SAAQ,SAAAlJ,GACZ60C,EAAWruC,KAAKypB,IAAIjwB,EAAE,GAAI60C,MAGvBA,EAGJ,SAASG,GAAevB,GAC3B,IAAIoB,EAAWC,OAAOC,iBAKtB,OAJAtB,EAAQvqC,SAAQ,SAAAlJ,GACZ60C,EAAWruC,KAAKypB,IAAIjwB,EAAE,GAAI60C,MAGvBA,EAGJ,SAASI,GAAexB,GAC3B,IAAIoB,EAAWC,OAAOI,iBAKtB,OAJAzB,EAAQvqC,SAAQ,SAAAlJ,GACZ60C,EAAWruC,KAAKC,IAAIzG,EAAE,GAAI60C,MAGvBA,EAGJ,SAASM,GAAkB1B,GAC9B,IAAI2B,EAAON,OAAOI,iBACdG,EAAOP,OAAOC,iBAMlB,OALAtB,EAAQvqC,SAAQ,SAAAlJ,GACZo1C,EAAO5uC,KAAKC,IAAIzG,EAAE,GAAIo1C,GACtBC,EAAO7uC,KAAKypB,IAAIjwB,EAAE,GAAIq1C,MAGnB7uC,KAAKqmC,OAAOuI,EAAOC,GAAQ,GAG/B,SAASC,GAAe7B,GAC3B,IAAIoB,EAAWC,OAAOI,iBAKtB,OAJAzB,EAAQvqC,SAAQ,SAAAlJ,GACZ60C,EAAWruC,KAAKC,IAAIzG,EAAE,GAAI60C,MAGvBA,EAIJ,SAASU,GAAkB9B,GAC9B,IAAI+B,EAAOV,OAAOI,iBACdO,EAAOX,OAAOC,iBAMlB,OALAtB,EAAQvqC,SAAQ,SAAAlJ,GACZw1C,EAAOhvC,KAAKC,IAAIzG,EAAE,GAAIw1C,GACtBC,EAAOjvC,KAAKypB,IAAIjwB,EAAE,GAAIy1C,MAGnBjvC,KAAKqmC,OAAO2I,EAAOC,GAAQ,GAI/B,SAASC,GAAeC,EAAIC,GAC/B,OAAOnD,GAAejsC,KAAKopC,MAAMgG,EAAID,IAUlC,SAASE,GAAsBzrC,EAAO0/B,EAAQrhC,GACjD,OAAOqtC,GACH,CAAE7/C,EAAGmU,EAAM,GAAIqM,EAAGrM,EAAM,IACxB,CAAEnU,EAAG6zC,EAAO,GAAIrzB,EAAGqzB,EAAO,IAC1B,CAAE5O,GAAIzyB,EAAK,GAAI2yB,GAAI3yB,EAAK,KAIzB,SAASstC,GAA4BpD,EAAOqD,GAC/C,IAAMpE,EAAOqE,EAAKvkD,SAKlB,OAJAukD,EAAKC,UAAUtE,EAAMA,EAAMoE,GAC3BC,EAAKE,QAAQvE,EAAMA,EAAMU,GAAeK,IACxCsD,EAAKC,UAAUtE,EAAMA,EAAM2B,EAAKtG,OAAO,GAAI+I,IAEpCpE,EAGJ,SAASwE,KAAyB,IACrC,IAAMxE,EAAOqE,EAAKvkD,SADmB,mBAAN8D,EAAM,yBAANA,EAAM,gBAMrC,OAJAA,EAAK0T,SAAQ,SAAAlJ,GACTi2C,EAAKxT,SAASmP,EAAMA,EAAM5xC,MAGvB4xC,EAGJ,SAASyE,KACZ,OAAOJ,EAAKK,OAAO,GAAIF,GAAe,WAAf,cAGpB,SAASN,GAA4B1rC,EAAO0/B,EAAQrhC,GACvD,IAGI8tC,EAASb,GAHLtrC,EAAMnU,EAAI6zC,EAAO7zC,EACjBmU,EAAMqM,EAAIqzB,EAAOrzB,GASzB,OAFYi/B,GAHHtrC,EAAMnU,EAAIwS,EAAKyyB,GAAK4O,EAAO7zC,EAC3BmU,EAAMqM,EAAIhO,EAAK2yB,GAAK0O,EAAOrzB,GAEC8/B,EAKlC,SAASC,GAAkBb,EAAIC,GAClC,OAAQF,GAAeC,EAAIC,GAAM,KAAO,IAG5C,IAAMa,GAAW,QAEV,SAASC,KACZ,IAAI1mB,GAAK,IAAI2mB,MAAOC,UAMpB,MALW,gBAAgBj9C,QAAQ88C,IAAU,SAAUhmD,GACnD,IAAIS,GAAK8+B,EAAqB,GAAhBxpB,KAAK44B,UAAiB,GAAK,EAEzC,OADApP,EAAKxpB,KAAK6D,MAAM2lB,EAAK,KACR,KAALv/B,EAAWS,EAAS,EAAJA,EAAU,GAAM6G,SAAS,OAKlD,SAAS8+C,KACZ,IAAI7mB,GAAK,IAAI2mB,MAAOC,UAMpB,MALW,YAAYj9C,QAAQ88C,IAAU,SAAUhmD,GAC/C,IAAIS,GAAK8+B,EAAqB,GAAhBxpB,KAAK44B,UAAiB,GAAK,EAEzC,OADApP,EAAKxpB,KAAK6D,MAAM2lB,EAAK,KACR,KAALv/B,EAAWS,EAAS,EAAJA,EAAU,GAAM6G,SAAS,OAKzD,IAAM++C,GAEE,SAAUxlD,GAAK,OAAO,EAAIA,EAAIA,GAAK,EAAIA,IAFzCwlD,GAGE,SAAUxlD,GAAK,OAAO,EAAIA,GAAK,EAAIA,IAAM,EAAIA,IAH/CwlD,GAIE,SAAUxlD,GAAK,OAAQ,EAAIA,IAAM,EAAIA,IAAM,EAAIA,IAGhD,SAASylD,GAAYtpC,EAAIw8B,EAAIpG,EAAIC,GACpC,IACIkT,EAAiB/M,EACjBgN,EAAiBnT,EAGrB,OAAO,SAAUoT,GAMb,OAAO,GAFCF,EAAOF,GAAcI,GAAYD,EAAOH,GAAcI,GAAYJ,GAAcI,KAMzF,SAASC,GAAgBxE,EAAOyE,GACnC,IAAItkD,EAAS0T,KAAKu1B,IAAIqb,EAAIpiC,MAAQxO,KAAK48B,IAAIuP,IAAUnsC,KAAKu1B,IAAIqb,EAAIC,OAAS7wC,KAAK68B,IAAIsP,IAChF7I,EAAS,CACT7zC,EAAGmhD,EAAInhD,EAAImhD,EAAIpiC,MAAQ,EACvByB,EAAG2gC,EAAI3gC,EAAI2gC,EAAIC,OAAS,GAGxBC,EAAQ9wC,KAAK48B,IAAIuP,EAAQnsC,KAAK64B,GAAK,GAAKvsC,EAAS,EACjDykD,EAAQ/wC,KAAK68B,IAAIsP,EAAQnsC,KAAK64B,GAAK,GAAKvsC,EAAS,EAErD,MAAO,CACHA,SACAg3C,SACAltC,MAAO,CACH3G,EAAG6zC,EAAO7zC,EAAIshD,EACd9gC,EAAGqzB,EAAOrzB,EAAI6gC,GAElBjxC,IAAK,CACDpQ,EAAG6zC,EAAO7zC,EAAIshD,EACd9gC,EAAGqzB,EAAOrzB,EAAI6gC,IAMnB,SAASE,GAAoB3sC,EAAG8G,EAAGlhB,GACtC,MAAO,CACHwF,GAAI4U,EAAE5U,EAAI0b,EAAE1b,EAAIxF,EAAEwF,GAAK,EACvBwgB,GAAI5L,EAAE4L,EAAI9E,EAAE8E,EAAIhmB,EAAEgmB,GAAK,GAI/B,IAAMghC,GAAW,eACV,SAAS3xC,GAAUpN,GACtB,OAAOA,EAAIkB,OAAOd,MAAM2+C,IAAU9/C,QAAO,SAAA+mC,GAAE,OAAIA,KAAIv1B,KAAI,SAAAu1B,GAAE,OAAKA,KC9ZlE,IAAMgZ,GAAkB,CACtB5N,OAAQ,GACR9B,IAAK,EACLH,KAAM,EACNC,MAAO,IACPC,OAAQ,KAGG4P,GAAb,0BAEAA,GAASC,OAAS,SAClBD,GAASE,IAAM,MACfF,GAASG,MAAQ,QACjBH,GAASI,KAAO,OAChBJ,GAASK,OAAS,SAElB,IAAMC,GAAe,uDAERC,GAAb,WACE,aAAmC,IAAvB7mD,EAAuB,uDAAf,GAAI8mD,EAAW,uDAAJ,GAO7B,GAPiC,YAKjC5iD,KAAKlE,MAAQA,EAET0sC,GAASxoC,KAAKlE,QAAU47B,MAAM13B,KAAKlE,OACrC,MAAM,IAAIiF,MAAM,0BAGlBf,KAAK4iD,KAAOA,EAZhB,mBAeGhnD,OAAOinD,YAfV,MAeE,SAAqBC,GACnB,MAAY,UAARA,EACK9iD,KAAKlE,MAGPkE,KAAKwC,aApBhB,sBAkOE,WACE,OAAOxC,KAAK+iD,gBAnOhB,yBAsOE,WACE,OAAO/iD,KAAK4iD,MACV,IAAK,SACL,IAAK,SACH,OAAO5iD,KAAKlE,MAAQ,GACtB,IAAK,MACD,sBAAgBkE,KAAKlE,MAArB,KACJ,IAAK,OACH,qBAAekE,KAAKlE,MAApB,KACF,QACE,OAAOkE,KAAKlE,MAAQkE,KAAK4iD,QAhPjC,wBAoPE,SAAWA,GACT,OAAO5iD,KAAK4iD,OAASA,IArPzB,oBAwPE,WAAc,OAAO5iD,KAAKgjD,WAAW,UAxPvC,kBAyPE,WAAc,OAAOhjD,KAAKgjD,WAAW,QAzPvC,uBA0PE,WAAc,OAAOhjD,KAAKgjD,WAAW,OA1PvC,kBA2PE,WAAc,OAAOhjD,KAAKgjD,WAAW,QA3PvC,kBA4PE,WAAc,OAAOhjD,KAAKgjD,WAAW,QA5PvC,mBA6PE,WAAc,OAAOhjD,KAAKgjD,WAAW,SA7PvC,mBA8PE,WAAc,OAAOhjD,KAAKgjD,WAAW,SA9PvC,oBA+PE,WAAc,OAAOhjD,KAAKgjD,WAAW,UA/PvC,sBAgQE,WAAc,OAAOhjD,KAAKgjD,WAAW,OAhQvC,kBAiQE,WAAc,OAAOhjD,KAAKgjD,WAAW,QAjQvC,sBAkQE,WAAc,OAAOhjD,KAAKgjD,WAAW,YAlQvC,sBAmQE,WAAc,OAAOhjD,KAAKgjD,WAAW,MAnQvC,mBAoQE,WAAc,OAAOhjD,KAAKgjD,WAAW,QApQvC,iIAqQE,WAAc,OAAOxa,GAASxoC,KAAKlE,QAAU47B,MAAM13B,KAAKlE,WArQ1D,iBAuQE,SAAIA,GAGF,OAFAkE,KAAKlE,MAAQA,EAENkE,OA1QX,iBA6QE,SAAI7B,GAEF,OADA6B,KAAKlE,QAAUqC,EACR6B,OA/QX,iBAkRE,SAAI7B,GACF,OAAO6B,KAAKw1C,KAAK,EAAIr3C,KAnRzB,iBAsRE,SAAIA,GAEF,OADA6B,KAAKlE,QAAUqC,EACR6B,OAxRX,iBA2RE,SAAI7B,GAEF,OADA6B,KAAKlE,QAAUqC,EACR6B,OA7RX,iBAgSE,SAAI7B,GAEF,OADA6B,KAAKlE,QAAUqC,EACR6B,OAlSX,mBAqSE,WACE,OAAO,IAAI2iD,EAAO3iD,KAAKlE,MAAOkE,KAAK4iD,QAtSvC,yBAySE,WACE,MAAqB,MAAd5iD,KAAK4iD,KAAe,UAAY5iD,KAAK4iD,OA1ShD,oBA6SE,WACE,OAAO5iD,KAAKwC,aA9ShB,kBAsTE,WAAqB,IAAhB88C,EAAgB,uDAAL,IACd,OAAOt/C,KAAKlE,MAAQwjD,IAvTxB,6BA0TE,WACE,OAAIlX,GAAe+Z,GAAgBniD,KAAKlE,QAC/B6mD,EAAOM,QAAQd,GAAgBniD,KAAKlE,QAGtC6mD,EAAOM,QAAQ,KA/T1B,wBAkUE,SAAW3D,GACT,OAAOt/C,KAAKmiD,kBAAkBe,KAAK5D,KAnUvC,wBAsUE,SAAWA,GACT,OAAOt/C,KAAKmiD,kBAAkBgB,KAAK7D,KAvUvC,uBA0UE,SAAUA,GAAyB,IAAf8D,EAAe,uDAAJ,GAC7B,OAAIpjD,KAAKqjD,YACArjD,KAAK0qB,QACH1qB,KAAKsjD,OACPX,EAAOM,QAAsB,IAAbjjD,KAAKlE,MAAewjD,GAClCt/C,KAAKujD,OACPZ,EAAOM,QAASjjD,KAAKlE,MAAQsnD,EAAW,IAAO9D,GAC7Ct/C,KAAKsoC,WACPtoC,KAAKmiD,gBAAgB7C,GACnBt/C,KAAKwjD,QACPb,EAAOM,QAASjjD,KAAKlE,MAAQ,IAAO,UADtC,IAnVX,kBAwVE,SAAKwjD,GAAyB,IAAf8D,EAAe,uDAAJ,GACxB,OAAIpjD,KAAKqjD,YACAV,EAAOc,GAAKzjD,KAAKlE,MAAQ,IAAOwjD,EAAY8D,GAC1CpjD,KAAKsjD,OACPX,EAAOc,GAAGzjD,KAAKlE,MAAQsnD,GACrBpjD,KAAKujD,OACPvjD,KAAK0qB,QACH1qB,KAAKsoC,WACPtoC,KAAK0jD,WAAWpE,QADlB,IA/VX,kBAoWE,SAAKA,GACH,OAAIt/C,KAAKqjD,YACAV,EAAOgB,GAAI3jD,KAAKlE,MAAQ,IAAOwjD,GAC7Bt/C,KAAKsjD,OACPtjD,KAAK0qB,QACH1qB,KAAKujD,OACPZ,EAAOgB,GAAK3jD,KAAKlE,MAAQ,IAAOwjD,EAAY,IAC1Ct/C,KAAKsoC,WACPtoC,KAAK4jD,WAAWtE,QADlB,IA3WX,mBAgXE,WACE,OAAIt/C,KAAKwjD,QACAxjD,KAAK0qB,QACH1qB,KAAK6jD,SACPlB,EAAOmB,IAAiB,IAAb9jD,KAAKlE,OACdkE,KAAK+jD,QACPpB,EAAOmB,IAAI5G,GAAel9C,KAAKlE,aADjC,IArXX,mBA0XE,WACE,GAAIkE,KAAK+jD,QACP,OAAO/jD,KAAK0qB,QACP,GAAI1qB,KAAK6jD,SAAU,CACxB,IAAMC,EAAM9jD,KAAKgkD,QACjB,OAAOrB,EAAOpV,IAAIwP,GAAe+G,EAAIhoD,QAChC,OAAIkE,KAAKwjD,QACPb,EAAOpV,IAAIwP,GAAe/8C,KAAKlE,aADjC,IAhYX,oBAsYE,WACE,OAAIkE,KAAK6jD,SACA7jD,KAAK0qB,QACH1qB,KAAKwjD,QACPb,EAAOsB,KAAKjkD,KAAKlE,MAAQ,UAD3B,IAzYX,sBA+YE,WACE,OAAIkE,KAAKkkD,WACAlkD,KACEA,KAAKmkD,OACPxB,EAAOyB,OAAOpkD,KAAKlE,MAAM,UAD3B,IAlZX,kBAuZE,WACE,OAAIkE,KAAKkkD,WACAvB,EAAO0B,GAAgB,IAAbrkD,KAAKlE,OACbkE,KAAKmkD,OACPnkD,UADF,IA1ZX,gBA+ZE,SAAG4iD,EAAMtD,GAAyB,IAAf8D,EAAe,uDAAJ,GAC5B,MAAa,OAATR,EACK5iD,KAAKmjD,KAAK7D,EAAU8D,GACT,MAATR,GAAyB,YAATA,EAClB5iD,KAAKskD,UAAUhF,EAAU8D,GACd,OAATR,EACF5iD,KAAKkjD,KAAK5D,EAAU8D,GACT,QAATR,EACF5iD,KAAKgkD,QACM,SAATpB,EACF5iD,KAAKukD,cADP,IAxaX,oBA6aE,SAAQ3B,GACN,OAAO,IAAID,EAAO3iD,KAAKlE,MAAO8mD,KA9alC,uBAibE,SAAUjtB,EAAMziB,GACd,IAAIsxC,EAAOxkD,KAAK21B,GAEhB,OAAI6uB,EACKA,EAAKxpD,KAAKgF,KAAMkT,GAGlBlT,OAxbX,sBA2bE,WAAkB,2BAALjB,EAAK,yBAALA,EAAK,gBAChB,OAAOA,EAAI0lD,SAASzkD,KAAKlE,SA5b7B,mBA+bE,SAAO6Q,GACL,OAAO,IAAIg2C,EAAOrL,GAAMt3C,KAAKlE,MAAO6Q,GAAI3M,KAAK4iD,QAhcjD,mBAmcE,WACE,OAAO,IAAID,EAAO1xC,KAAK6D,MAAM9U,KAAKlE,OAAQkE,KAAK4iD,QApcnD,oBAucE,SAAQ7mD,GACN,OAAOiE,KAAK0kD,GAAG3oD,EAAED,QAAUkE,KAAKgjD,WAAWjnD,EAAE6mD,QAxcjD,gBA2cE,SAAI9mD,GACF,OAAOkE,KAAKlE,QAAUA,IA5c1B,mBA+cE,SAAOoV,EAAKwpB,GACV,OAAO,IAAIioB,EAAO1xC,KAAKypB,IAAIxpB,EAAKD,KAAKC,IAAIwpB,EAAK16B,KAAKlE,QAASkE,KAAK4iD,QAhdrE,oBAmdE,WACE,OAAsB,IAAf5iD,KAAKlE,SApdhB,kBAuBE,WAAoB,2BAANmE,EAAM,yBAANA,EAAM,gBAGlB,IAFA,IAAIiR,EAAMjR,EAAK4kB,QAENhqB,EAAI,EAAGwR,EAAMpM,EAAK1C,OAAQ1C,EAAIwR,EAAKxR,IACtCqW,EAAIpV,MAAQmE,EAAKpF,GAAGiB,QACtBoV,EAAMjR,EAAKpF,IAIf,OAAOqW,IAhCX,iBAmCE,WAAoB,2BAANjR,EAAM,yBAANA,EAAM,gBAGlB,IAFA,IAAIy6B,EAAMz6B,EAAK4kB,QAENhqB,EAAI,EAAGwR,EAAMpM,EAAK1C,OAAQ1C,EAAIwR,EAAKxR,IACtC6/B,EAAI5+B,MAAQmE,EAAKpF,GAAGiB,QACtB4+B,EAAMz6B,EAAKpF,IAIf,OAAO6/B,IA5CX,oBA+CE,SAAc5+B,GACZ,OAAO,IAAI6mD,EAAO7mD,EAAQ,GAAI,MAhDlC,oBAmDE,SAAeA,GACb,OAAO,IAAI6mD,GAAQ7mD,EAAO,YApD9B,gBAuDE,SAAUA,GACR,OAAO,IAAI6mD,GAAQ7mD,EAAO,QAxD9B,gBA0DE,SAAUA,GACR,OAAO,IAAI6mD,GAAQ7mD,EAAO,QA3D9B,qBA6DE,SAAeA,GACb,OAAO,IAAI6mD,GAAQ7mD,EAAO,OA9D9B,iBAgEE,SAAWA,GACT,OAAO,IAAI6mD,GAAQ7mD,EAAO,SAjE9B,iBAmEE,SAAWA,GACT,OAAO,IAAI6mD,GAAQ7mD,EAAO,SApE9B,kBAsEE,SAAYA,GACV,OAAO,IAAI6mD,GAAQ7mD,EAAO,UAvE9B,gBAyEE,SAAUA,GACR,OAAO,IAAI6mD,GAAQ7mD,EAAO,QA1E9B,oBA6EE,SAAeA,GACb,OAAO,IAAI6mD,GAAQ7mD,EAAO,OA9E9B,gBAiFE,SAAWA,GACT,OAAO,IAAI6mD,GAAQ7mD,EAAO,QAlF9B,iBAqFE,SAAYA,GACV,OAAO,IAAI6mD,EAAO7mD,EAAM,GAAI,QAtFhC,eAyFE,WACE,OAAO6mD,EAAOgB,GAAG,KA1FrB,kBAoGE,SAAYxgD,GACV,OAAO,IAAIw/C,EAAOx/C,EAAK,UArG3B,mBAwGE,SAAahF,GAGX,GAAImqC,GAFJnqC,EAAMA,GAAOwkD,EAAOgC,OAAO,IAER,CAEf,IAAI5lD,GADNZ,EAAMA,EAAIkG,QACMD,QAAQs+C,GAAc,SAASn/C,MAAM,KAEnD,OADsBxE,EAAI,IAAMA,EAAI,GAE3B,IAAI4jD,GAAQ5jD,EAAI,GAAIA,EAAI,IAExB,IAAI4jD,EAAO5jD,EAAI,IAI5B,GAAIZ,aAAewkD,EACjB,OAAOxkD,EACF,GAAIA,EAAIykD,KAAM,CACnB,GAAgB,KAAZzkD,EAAIykD,MAA2B,WAAZzkD,EAAIykD,KAAmB,CAC5C,IAAI9mD,EAAQ,EAQZ,OANIssC,GAAejqC,EAAI8kD,SACrBnnD,EAAQqC,EAAI8kD,QACH7a,GAAejqC,EAAIrC,SAC5BA,EAAQqC,EAAIrC,OAGP6mD,EAAOM,QAAQnnD,GACjB,GAAgB,MAAZqC,EAAIykD,KAAc,CACvB9mD,EAAQ,EAQZ,OANIssC,GAAejqC,EAAIwlD,IACrB7nD,EAAQqC,EAAIwlD,GACHvb,GAAejqC,EAAIrC,SAC5BA,EAAQqC,EAAIrC,OAGP6mD,EAAOgB,GAAG7nD,GACZ,GAAgB,MAAZqC,EAAIykD,KAAc,CACvB9mD,EAAQ,EAQZ,OANIssC,GAAejqC,EAAIslD,IACrB3nD,EAAQqC,EAAIslD,GACHrb,GAAejqC,EAAIrC,SAC5BA,EAAQqC,EAAIrC,OAGP6mD,EAAOc,GAAG3nD,GACZ,GAAgB,OAAZqC,EAAIykD,KAAe,CACxB9mD,EAAQ,EAQZ,OANIssC,GAAejqC,EAAI2lD,KACrBhoD,EAAQqC,EAAI2lD,IACH1b,GAAejqC,EAAIrC,SAC5BA,EAAQqC,EAAIrC,OAGP6mD,EAAOmB,IAAIhoD,GACb,GAAgB,QAAZqC,EAAIykD,KAAgB,CACzB9mD,EAAQ,EAQZ,OANIssC,GAAejqC,EAAI2lD,KACrBhoD,EAAQqC,EAAI8lD,KACH7b,GAAejqC,EAAIrC,SAC5BA,EAAQqC,EAAIrC,OAGP6mD,EAAOsB,KAAKnoD,GACd,GAAgB,KAAZqC,EAAIykD,KAAa,CACtB9mD,EAAQ,EAQZ,OANIssC,GAAejqC,EAAIimD,QACrBtoD,EAAQqC,EAAIimD,OACHhc,GAAejqC,EAAIrC,SAC5BA,EAAQqC,EAAIrC,OAGP6mD,EAAOyB,OAAOtoD,GAChB,GAAgB,MAAZqC,EAAIykD,KAAc,CACvB9mD,EAAQ,EAQZ,OANIssC,GAAejqC,EAAIkmD,IACrBvoD,EAAQqC,EAAIkmD,GACHjc,GAAejqC,EAAIrC,SAC5BA,EAAQqC,EAAIrC,OAGP6mD,EAAO0B,GAAGvoD,GAEZ,GAAgB,UAAZqC,EAAIykD,KAAkB,CAC3B9mD,EAAQ,EAMZ,OAJIssC,GAAejqC,EAAIrC,SACrBA,EAAQqC,EAAIrC,OAGP6mD,EAAOgC,OAAO7oD,GAEhB,GAAgB,MAAZqC,EAAIykD,KAAc,CACvB9mD,EAAQ,EAMZ,OAJIssC,GAAejqC,EAAIrC,SACrBA,EAAQqC,EAAIrC,OAGP6mD,EAAM,IAAK7mD,GACb,GAAiB,KAAbqC,EAAIykD,MAA4B,WAAbzkD,EAAIykD,KAAmB,CAC/C9mD,EAAQ,GAUZ,OARIssC,GAAejqC,EAAIgF,KACrBrH,EAAQqC,EAAIgF,IACHilC,GAAejqC,EAAIrC,SAC5BA,EAAQqC,EAAIrC,OAKP6mD,EAAOiC,OAAO9oD,IAIzB,OAAO6mD,EAAOiC,OAAOzmD,OAhOzB,K,qkBAwdAwkD,GAAOkC,KAAOlC,GAAOiC,OAAO,QC1e5B,IAAM3Z,GAAW,kBAAM,GAEvB,SAAS6Z,GAAU3mD,GAIjB,IAJiD,IAA3B4mD,EAA2B,uDAAV9Z,GACnC/B,EAAU,GAEV78B,EAAMlO,EAAI6mD,OAAOznD,OACb8J,EAAQgF,EAAKhF,KAAW,CAC9B,IAAI8hC,EAAKhrC,EAAI6mD,OAAO39C,GACpB6hC,EAAQlnC,KAAR,MAAAknC,EAAO,KAAU4b,GAAU3b,EAAG8b,IAAKF,KAOrC,OAJIA,EAAe5mD,IACjB+qC,EAAQlnC,KAAK7D,GAGR+qC,EASF,IAAMj7B,GAAb,WACE,aAAuB,WAAXi3C,EAAW,uDAAJ,GAoCjB,OApCqB,YAErBllD,KAAKilD,IAAM,IAAIE,MAAMnlD,KAAM,CACzBtE,IAAK,SAAC2B,EAAQjB,GACZ,IAAIgpD,EAAe/nD,EAAOjB,GAC1B,OAAIqsC,GAAW2c,GAEN,WAAa,2BAATnlD,EAAS,yBAATA,EAAS,gBAClB,OAAOmlD,EAAajlD,MAAM9C,EAAQ4C,IAI7BmlD,GAAgB/nD,EAAO6nD,KAAK9oD,IAGvCse,IAAK,SAACrd,EAAQjB,EAAKN,GAQjB,OAPeuB,EAAO6nD,KAAK9oD,IAAQN,IAGjCuB,EAAO6nD,KAAK9oD,GAAON,EACnB,EAAKupD,YAGA,KAIPH,aAAgBj3C,IAClBi3C,EAAOA,EAAKI,UAGdtlD,KAAKklD,KAAOllD,KAAKulD,QAAQhqD,OAAOsK,OAAO7F,KAAKwlD,mBAAoBN,IAChEllD,KAAKylD,iBAAmB,GACxBzlD,KAAK0lD,qBAAuB,GAC5B1lD,KAAK2lD,YAAc,GAEZ3lD,KAAKilD,IArChB,2CA8CE,WACE,MAAO,SA/CX,qBAkDE,WACE,MAAO,KAnDX,yBAyDE,WACE,OAAO,IA1DX,uBA6DE,SAAUW,GACR,OAAO5lD,KAAKklD,KAAKU,WAAarG,OAAOqG,KA9DzC,qBAiEE,WACE5lD,KAAKklD,KAAKU,UAAY5lD,KAAKklD,KAAKW,WAAaC,YAAYC,QAlE7D,iBA8EE,WACE,OAAO/lD,KAAKklD,KAAK9pD,MAAQ4E,KAAKgmD,oBA/ElC,6BAkFE,WACE,IAAIjnD,EAAMiB,KAAKklD,KAAK9pD,KAAKmI,MAAM,KAE/B,KAAIxE,EAAIxB,OAAS,GAAjB,CAIA,IAAIsS,EAAO9Q,EAAIuoB,MACX2+B,GAAcp2C,EACd24B,GAASyd,KAAqC,IAAtBvuB,MAAMuuB,GAChCA,IAEAA,EAAap2C,EAGf,IAAMq2C,EAAW,eAAInnD,GAAJ,CAASknD,IAAY/jD,KAAK,KAE3ClC,KAAKu3B,MAAM,CACTn8B,KAAM8qD,OApGZ,qBA4GE,WACE,OAAOpB,GAAU9kD,KAAKilD,OA7G1B,+BAqHE,SAAkBF,GAChB,OAAOD,GAAU9kD,KAAKilD,IAAKF,KAtH/B,cA4HE,WACE,OAAO/kD,KAAKklD,KAAK3+C,KA7HrB,kBAqIE,WACE,OAAOvG,KAAKklD,KAAKF,SAtIrB,kBA4IE,WACE,OAAOhlD,KAAKklD,KAAKiB,SA7IrB,uBAgJE,SAAWC,GACTpmD,KAAKklD,KAAKiB,OAASC,IAjJvB,iBAyJE,WACE,OAAKpmD,KAAKmmD,OAEHnmD,KAAKmmD,OAAOE,MAAQ,EAFF,IA1J7B,eAoKE,WACE,IAAKrmD,KAAKmmD,OAAQ,OAAOnmD,KAAKilD,IAE9B,IAAIqB,EAActmD,KAAKmmD,OACvB,EAAG,CACD,IAAKG,EAAYH,OACf,OAAOG,EAGTA,EAAcA,EAAYH,aAEpBG,KA/KZ,mBAuLE,WACE,OAAOtmD,KAAKqQ,KAAKk2C,MAAK,SAAApd,GAAE,OAAIA,EAAGub,GAAG,gBAxLtC,oBAgME,WACE,OAAO1kD,KAAKqQ,KAAKk2C,MAAK,SAAApd,GAAE,OAAIA,EAAGub,GAAG,iBAjMtC,gBAyME,WAEE,IAAK1kD,KAAKmmD,OAAQ,MAAO,CAAEnmD,KAAKilD,KAEhC,IAAMv6C,EAAO1K,KAAKmmD,OAAO91C,KAIzB,OAFA3F,EAAK1I,KAAKhC,KAAKilD,KAERv6C,IAjNX,wBAyNE,WAAyB,IAAd87C,EAAc,uDAAJ,GACnB,OAAOxmD,KAAKklD,KAAK3+C,GAAKigD,IA1N1B,gBA6NE,SAAIC,GACF,QAAKzmD,KAAKklD,MACHuB,IAAkBzmD,KAAKklD,KAAKwB,WA/NvC,mBAkOE,SAAOD,GACL,OAAkC,IAA3BzmD,KAAK0kD,GAAG+B,KAnOnB,mBAsOE,WACE,OAAO,IAvOX,sBA0OE,SAASrqD,EAAKN,GACZkE,KAAK2lD,YAAYvpD,GAAON,IA3O5B,sBA8OE,SAASM,GACP,OAAO4D,KAAK2lD,YAAYvpD,KA/O5B,sBAkPE,SAASA,EAAKuqD,GACZ,IAAMC,EAAY,eAAH,OAAkBxqD,GAC3ByqD,EAAY,GAAH,OAAMD,EAAN,gBACT9qD,EAAQkE,KAAKklD,KAAK9oD,GACxB,OAAI4D,KAAK8mD,SAAS1qD,KAASN,GAASkE,KAAK8mD,SAASD,KAIlD7mD,KAAK+mD,SAAS3qD,EAAKN,GACnBkE,KAAK+mD,SAASF,EAAWF,EAAiB7qD,EAAOkE,KAAKilD,OAJ7CjlD,KAAK8mD,SAASD,KAvP3B,sBAgQE,SAASG,GACP,OAAO,IAjQX,gCA2QE,WACEhnD,KAAKglD,OAAOrxC,SAAQ,SAACw1B,EAAIx4B,GACvBw4B,EAAG8d,GAAKt2C,EAERw4B,EAAG+d,0BA/QT,qBAwRE,SAAQhC,GAAM,WASZ,OAPIA,EAAKF,QACPE,EAAKF,OAAOrxC,SAAQ,SAAAwzC,GAClBA,EAAMhB,OAAS,EAAKlB,OAKjBC,IAjSX,sBAoSE,cApSF,2BAmTE,WAA8B,IAAfkC,IAAe,yDACxBlC,EAAOllD,KAAKqnD,MACd,WAAY,OAAQ,cAAe,OAAQ,UAAW,OAAQ,YAOhE,OAJID,IACFlC,EAAKF,OAAShlD,KAAKklD,KAAKF,OAAOpxC,KAAI,SAAAuzC,GAAK,OAAIA,EAAMz8B,MAAM08B,OAGnDlC,IA5TX,mBAkUE,WAAqB,IAAfkC,IAAe,yDAEfE,EAAYtnD,KAAKjC,YAGjBib,EAAQ,IAAIsuC,EAAUtnD,KAAKunD,cAAcH,IAG7C,OAFApuC,EAAKwuC,UAAUxnD,KAAKklD,KAAKiB,QAElBntC,IA1UX,mBAkVE,SAAM7a,GAyBJ,OAXKA,EAAIspD,cAAatpD,EAAIspD,YAActG,MAEpCnhD,KAAKylD,iBAAiBgC,cAAgBtpD,EAAIspD,cAE1CznD,KAAKklD,KAAOllD,KAAKulD,QAAQhqD,OAAOsK,OAAO7F,KAAKklD,KAAM/mD,IAClD6B,KAAKylD,iBAAmBtnD,EACxB6B,KAAK0lD,qBAAuBnqD,OAAOuI,KAAK3F,GACxC6B,KAAKqlD,YAIF,IA3WX,6BA8WE,WAA0B,kCAANplD,EAAM,yBAANA,EAAM,gBAExB,OAAOA,EAAK8Y,MAAK,SAAAowB,GAAE,OAAI,EAAKuc,qBAAqBjB,SAAStb,QAhX9D,8BAwXE,WAA2B,IAAVhrC,EAAU,uDAAJ,GACjBoI,EAAK+6C,KACT,WACE/6C,KACAs/C,WAAYzE,KAAK2E,MACjB2B,MAAO5B,YAAYC,MACnB4B,SAAS,EACTC,MAAM,EACNC,UAAU,EACV7C,OAAQ,IACL7mD,KAlYT,mBA2YE,WAAgB,eACR+G,EAAS,GADD,mBAANjF,EAAM,yBAANA,EAAM,gBAOd,OAJAA,EAAK0T,SAAQ,SAAA2xB,GACXpgC,EAAOogC,GAAS5a,GAAM,EAAKw6B,KAAK5f,OAG3BpgC,IAlZX,yBA0ZE,WACE,OAAOlF,KAAKglD,OAAOznD,OAAS,IA3ZhC,yBAmaE,SAAa4pD,GAEX,OAAIA,EAAMhB,SAAWnmD,KAAKilD,MAI1BjlD,KAAK8nD,YAAYX,GAGbA,EAAMhB,QACRgB,EAAMY,SAGRZ,EAAMK,UAAUxnD,KAAKilD,KAErBjlD,KAAKklD,KAAKF,OAAOhjD,KAAKmlD,GACtBnnD,KAAKgoD,QAAQC,aAAad,IAbjBA,IAtab,8BA6bE,SAAkBA,GAYhB,OAXAnnD,KAAK8nD,YAAYX,GAEbA,EAAMhB,QACRgB,EAAMY,SAGRZ,EAAMK,UAAUxnD,KAAKilD,KAErBjlD,KAAKklD,KAAKF,OAAOj1C,QAAQo3C,GACzBnnD,KAAKgoD,QAAQC,aAAad,GAEnBA,IAzcX,yBA4cE,SAAanuC,MA5cf,gCAgdE,cAhdF,yBA0dE,SAAamuC,GAAkB,IAAXx2C,EAAW,uDAAH,EAa1B,OAXA3Q,KAAK8nD,YAAYX,GAGbA,EAAMhB,QACRgB,EAAMY,SAGRZ,EAAMK,UAAUxnD,KAAKilD,KACrBjlD,KAAKklD,KAAKF,OAAOl1C,OAAOa,EAAO,EAAGw2C,GAClCnnD,KAAKgoD,QAAQC,aAAad,GAEnBA,IAveX,yBA+eE,SAAaA,GAEX,IAAMx2C,EAAQ3Q,KAAKmmD,OAAO+B,UAAUloD,MAIpC,OAFAA,KAAKmmD,OAAOgC,YAAYhB,EAAOx2C,GAC/B3Q,KAAKgoD,QAAQC,aAAad,GACnBA,IArfX,0BA8fE,SAAcA,GAEZ,IAAMx2C,EAAQ3Q,KAAKmmD,OAAO+B,UAAUloD,MAIpC,OAFAA,KAAKmmD,OAAOgC,YAAYhB,EAAOx2C,EAAM,GACrC3Q,KAAKgoD,QAAQC,aAAad,GACnBA,IApgBX,gCA8gBE,SAAoBiB,EAAUpvC,GAC5BhZ,KAAKglD,OAAOl1C,OAAOs4C,EAAU,EAAGpvC,KA/gBpC,oBAwhBE,SAAOssB,EAAO+iB,GACRlgB,GAAYkgB,GACdroD,KAAKklD,KAAK5f,IAAUtlC,KAAKklD,KAAK5f,GAE9BtlC,KAAKklD,KAAK5f,KAAW+iB,IA5hB3B,4BAgiBE,WAEE,IAAIC,EAAgBtoD,KAAKmmD,OACrBoC,EAAgB,GACpB,EAAG,CACD,GAAID,EAAc5D,GAAG,WAAY,MAEjC6D,EAAcvmD,KAAKwmD,QAAQF,EAAcG,YACzCH,EAAgBA,EAAcnC,aACvBmC,GAGT,OAAOE,QAAQD,EAAcnmD,OAAOomD,SAASjrD,UA5iBjD,wBAgjBE,SAAYnB,GACV,MAAY,WAARA,IACA+rC,GAAYnoC,KAAKklD,KAAK9oD,MAljB9B,oBA2jBE,WAAS,WACD8oD,EAAOllD,KAAKklD,KAEdwD,EAAU,GAKd,OAJAntD,OAAOuI,KAAKohD,GAAM9iD,QAAO,SAAAhG,GAAG,OAAI,EAAKusD,WAAWvsD,MAAMuX,SAAQ,SAAAvX,GAC5DssD,EAAQtsD,GAAO8oD,EAAK9oD,MAGfssD,IAnkBX,oBAskBE,cAtkBF,kBA6kBE,WAAgB,IAAVx1C,EAAU,uDAAH,EACX,OAAOlT,KAAKklD,KAAKiB,OAAOyC,SAAS5oD,KAAKilD,IAAK/xC,KA9kB/C,uBAilBE,SAAW8F,GACT,OAAOhZ,KAAKklD,KAAKF,OAAOpjC,QAAQ5I,EAAKisC,OAllBzC,sBAqlBE,SAAU4D,GAAuB,IAAZ31C,EAAY,uDAAL,GACtB41C,EAAQD,EAAUn+B,QACtBo+B,EAAMC,kBACND,EAAME,KAAK,CAAC91C,EAAMA,EAAM,IAExB,IAAI+1C,EAAajpD,KAAKkoD,UAAUW,GAMhC,OAJII,GAAc,IAChBjpD,KAAKklD,KAAKF,OAAOhjD,KAAK8mD,GACtB9oD,KAAKgoD,QAAQC,aAAaa,IAErBA,IAhmBX,oBAumBE,WACE9oD,KAAKklD,KAAKiB,OAAO+C,YAAYlpD,KAAKilD,KAElCjlD,KAAKgoD,QAAQmB,gBAAgBnpD,KAAKilD,OA1mBtC,yBAknBE,SAAa4D,GAEX,IAAMl4C,EAAQ3Q,KAAKkoD,UAAUW,GAEzBl4C,GAAS,GACX3Q,KAAKklD,KAAKF,OAAOl1C,OAAOa,EAAO,KAvnBrC,uBAioBE,SAAWy4C,GACT,IAAIC,EAAWrpD,KAAKklD,KAAKiB,OAAO5/C,KAAO6iD,EAEvC,OAAKC,IAA+C,IAAnCrpD,KAAKklD,KAAKiB,OAAOzB,GAAG,WAE9B2E,EAF2DrpD,KAAKklD,KAAKiB,OAAOmD,UAAUF,OApoBjG,K,wCCYMG,GAAa,SAAC/oC,EAAMplB,EAAMouD,EAAUC,GACjCD,EAEOC,GAAYD,IAAaC,GA9BzB,SAACC,EAAItuD,EAAMU,GACF,kBAAVA,EAXQ,SAAC4tD,EAAItuD,EAAMU,GAC1BA,GACA4tD,EAAGC,aAAavuD,EAAMA,GACtBsuD,EAAGtuD,GAAQU,IAEX4tD,EAAGE,gBAAgBxuD,GACnBsuD,EAAGtuD,GAAQU,GAMX+tD,CAAeH,EAAItuD,EAAMU,GAEzB4tD,EAAGC,aAAavuD,EAAMU,GA2BxBguD,CAAQtpC,EAAMplB,EAAMouD,GAbP,SAAChpC,EAAMplB,EAAMU,GACP,kBAAVA,EAVW,SAAC0kB,EAAMplB,GAC7BolB,EAAKopC,gBAAgBxuD,GACrBolB,EAAKplB,IAAQ,EAST2uD,CAAkBvpC,EAAMplB,GACjBA,GAPa,SAAColB,EAAMplB,GAC/BolB,EAAKopC,gBAAgBxuD,GAOjB4uD,CAAoBxpC,EAAMplB,GAO5B6uD,CAAWzpC,EAAMplB,EAAMquD,IAOvBS,GAAc,SAAC1pC,GAAuC,IAAjC2pC,EAAiC,uDAAtB,GAAIC,EAAkB,uDAAP,GAE3CC,EAAU,GAChBA,EAAQroD,KAAK7B,MAAMkqD,EAAS9uD,OAAOuI,KAAKqmD,IACxCE,EAAQroD,KAAK7B,MAAMkqD,EAAS9uD,OAAOuI,KAAKsmD,IAExC,IAAM9sD,EAAQ,IAAIgtD,IAAID,GAEtB/sD,EAAMqW,SAAQ,SAAAvX,GACVmtD,GAAW/oC,EAAMpkB,EAAK+tD,EAAS/tD,GAAMguD,EAAShuD,QAWtD,SAASipD,GAAQkF,EAAOC,GACpB,OACKD,EAAME,WAAaC,KAAKC,WAAaJ,EAAMK,cAAgBJ,EAAMI,aAC/DL,EAAMM,WAAaL,EAAMK,SAIpC,SAASC,GAAUP,GACf,OACKA,EAAME,WAAaC,KAAKC,WAAyD,SAA5CJ,EAAMQ,aAAa,qBAQjE,SAASC,GAAYT,GACjB,OACKA,EAAME,WAAaC,KAAKC,WAAcJ,EAAMQ,aAAa,YAIlE,SAASE,GAAUC,GAGf,IAFA,IAAIhiB,EAAU,GACR78B,EAAM6+C,EAAW3tD,OACf1C,EAAI,EAAGA,EAAIwR,EAAKxR,IAAK,CACzB,IAAMkB,EAAImvD,EAAWrwD,GACrBquC,EAAQntC,EAAEX,MAAQW,EAAED,MAGxB,OAAOotC,EAIX,SAASiiB,GAAeC,EAAeC,EAAOC,EAAOzwD,GAArD,IAAwD0wD,EAAxD,uDAAkE,GAAlE,mBAEI,GAAKF,EAGE,GAAKC,GAGL,GAAIR,GAAUO,IAAUP,GAAUQ,SAIlC,GAAIjG,GAAQiG,EAAOD,IAAUL,GAAYM,GAE5CF,EAAcI,aAAaF,EAAMG,WAAU,GAAOJ,QAC/C,GACHC,EAAMb,WAAaC,KAAKC,WAErBW,EAAMb,WAAaC,KAAKgB,cACH,gCAArBJ,EAAM9oD,WACX,CAEM+oD,EAAQI,aAAeJ,EAAQI,YAAYN,EAAOC,IAMlDpB,GAAYmB,EAAOJ,GAASK,EAAMJ,YAAaD,GAASI,EAAMH,aAGlE,IAAIU,EAAcC,GAASR,GACvBS,EAAcD,GAASP,GACvB5wB,EAAMzpB,KAAKypB,IAAIkxB,EAAYruD,OAAQuuD,EAAYvuD,QAEnD,IAAS1C,EAAI,EAAGA,EAAI6/B,EAAK7/B,IACrBswD,GAAcE,EAAOO,EAAY/wD,GAAIixD,EAAYjxD,GAAIA,SA7BzDuwD,EAAclC,YAAYmC,QAH1BD,EAAcW,YAAYT,EAAMG,WAAU,IAJlD,IA0CA,IAAMI,GAAW,SAACnC,GACd,IAAI5mC,EAAU4mC,EAAGsC,WAEjB,IAAKlpC,EACD,MAAO,GAGX,IAAIomB,EAAU,GAEd,GACIA,EAAQlnC,KAAK8gB,GACbA,EAAUA,EAAQmpC,kBACbnpC,GAET,OAAOomB,GAWJ,SAASgjB,GAAS72C,EAAGoO,GAAiB,IAAd8nC,EAAc,uDAAJ,GAGrCA,EAAQI,YAAcljB,GAAW8iB,EAAQI,aAAeJ,EAAQI,iBAActrD,EAE9EgV,EAAIA,EAAEq0C,IAAMr0C,EACZoO,EAAIA,EAAEimC,IAAMjmC,EAMZ,IAJA,IAAI0oC,EAAYN,GAASx2C,GACrB+2C,EAAYP,GAASpoC,GAErBpX,EAAM4E,KAAKypB,IAAIyxB,EAAU5uD,OAAQ6uD,EAAU7uD,QACtC1C,EAAI,EAAGA,EAAIwR,EAAKxR,IACrBswD,GAAc91C,EAAG82C,EAAUtxD,GAAIuxD,EAAUvxD,GAAIA,EAAG0wD,GCtLxD,IAAMrK,GAAW,QAEV,SAASC,KACZ,IAAI1mB,GAAK,IAAI2mB,MAAOC,UAMpB,MALW,gBAAgBj9C,QAAQ88C,IAAU,SAAUhmD,GACnD,IAAIS,GAAK8+B,EAAqB,GAAhBxpB,KAAK44B,UAAiB,GAAK,EAEzC,OADApP,EAAKxpB,KAAK6D,MAAM2lB,EAAK,KACR,KAALv/B,EAAWS,EAAS,EAAJA,EAAU,GAAM6G,SAAS,OAKlD,SAAS8+C,KACZ,IAAI7mB,GAAK,IAAI2mB,MAAOC,UAMpB,MALW,YAAYj9C,QAAQ88C,IAAU,SAAUhmD,GAC/C,IAAIS,GAAK8+B,EAAqB,GAAhBxpB,KAAK44B,UAAiB,GAAK,EAEzC,OADApP,EAAKxpB,KAAK6D,MAAM2lB,EAAK,KACR,KAALv/B,EAAWS,EAAS,EAAJA,EAAU,GAAM6G,SAAS,OCfzD,IAAMoR,GAAM,GACNy4C,GAAW,GACXC,GAAkB,IAAIC,IACtBC,GAAuB,IAAID,IAEjC9xD,OAAO6xD,gBAAkBA,GAWlB,SAAS1xB,GAAS9+B,GAAqB,IAAd2wD,EAAc,uDAAJ,GAChClmD,EAAK,GAAH,OAVsB,MAUtB,OAA2B+6C,MASnC,OAPAgL,GAAgB5xC,IAAInU,EAAIzK,GAEpB2wD,IACAD,GAAqBE,IAAID,IAAYD,GAAqB9xC,IAAI+xC,EAAS,IAAInC,KAC3EkC,GAAqB9wD,IAAI+wD,GAASjX,IAAIjvC,IAGnCA,EAwBJ,SAASomD,GAAgBpmD,GAA2B,IAAvBqmD,IAAuB,yDAGvD,IAAqB,IAAjBtkB,GAAS/hC,GACT,OAAOA,EAGX,IAAIzK,EAAQyK,EAUZ,OARI+lD,GAAgBI,IAAInmD,KACpBzK,EAAQwwD,GAAgB5wD,IAAI6K,GAExBqmD,GACAN,GAAe,OAAQ/lD,IAIxBzK,EAsBJ,SAAS+wD,KAA4B,IAAdC,EAAc,uDAAJ,GAEpCvxD,OAAOuI,KAAKgpD,GAASn5C,SAAQ,SAAAvX,GACrBwX,GAAIxX,KAKRwX,GAAIxX,GAAO0wD,EAAQ1wD,OAYpB,SAAS2wD,GAAer/B,GAC3B,OAAO9Z,IALkBxX,EAKDsxB,EAJjB2+B,GAASjwD,IAIsBsxB,IALnC,IAAsBtxB,E,ICrGR4wD,G,WACnB,WAAYC,EAAKv/B,EAAWw/B,GAC1B,GADgC,YACb,iBAARD,EACTjtD,KAAK0pD,GAAKuD,MACL,CACL,IAAIvD,EAAK5tC,SAASqxC,cAAcF,GAE5Bv/B,IACFg8B,EAAGh8B,UAAYA,GAGjBw/B,EAAOA,GAAQ,GAEf3xD,OAAOsK,OAAO6jD,EAAIwD,GAElBltD,KAAK0pD,GAAKA,G,mCA4Cd,SAASvrD,GAAK,WAIZ,OAHA5C,OAAOuI,KAAK3F,GAAKwV,SAAQ,SAAAvX,GACvB,EAAK8wD,KAAK9wD,EAAK+B,EAAI/B,OAEd4D,O,uBAGT,SAAW7B,GAA+C,WAA1CivD,EAA0C,uDAA9B,6BAI1B,OAHA7xD,OAAOuI,KAAK3F,GAAKwV,SAAQ,SAAAvX,GACvB,EAAK8wD,KAAK9wD,EAAK+B,EAAI/B,GAAMgxD,MAEpBptD,O,qBAGT,SAAS7B,GAAK,WAOZ,OANA5C,OAAOuI,KAAK3F,GAAKwV,SAAQ,SAAAvX,GAEnB,EAAKstD,GAAGttD,IAAQ+B,EAAI/B,KACtB,EAAKstD,GAAGttD,GAAO+B,EAAI/B,OAGhB4D,O,kBAST,SAAM5D,EAAKN,GACT,GAAyB,IAArBoE,UAAU3C,OAAc,CAC1B,IAAMzB,EAAQkE,KAAKktD,KAAK,QAAU9wD,GAElC,OAAOuwD,GAAgB7wD,GAAO,GACzB,OAAyB,IAArBoE,UAAU3C,OACZyC,KAAKktD,KAAK,QAAU9wD,EAAKN,GAK3BkE,O,kBAYT,SAAK5D,EAAKN,GACR,OAAwB,GAApBoE,UAAU3C,OACLyC,KAAK0pD,GAAGqB,aAAa3uD,IAI1B4D,KAAK0pD,GAAGqB,aAAa3uD,IAAQN,GAC/BkE,KAAK0pD,GAAGC,aAAavtD,EAAKN,GAGrBkE,Q,oBAGT,SAAO5D,EAAKN,GAAiD,IAA1CsxD,EAA0C,uDAA9B,6BAC7B,OAAwB,GAApBltD,UAAU3C,OACLyC,KAAK0pD,GAAG2D,eAAeD,EAAWhxD,IAIvC4D,KAAK0pD,GAAG2D,eAAeD,EAAWhxD,IAAQN,GAC5CkE,KAAK0pD,GAAG4D,eAAeF,EAAWhxD,EAAKN,GAGlCkE,Q,0BAGT,SAAautD,GACX,cACGvtD,KAAK0pD,GAAGqB,aAAawC,GAAYvtD,KAAKoU,S,mBAI3C,WAAe,kCAANnU,EAAM,yBAANA,EAAM,gBACb,OAAOA,EAAK2T,KAAI,SAAAxX,GACd,OAAO,EAAKstD,GAAGqB,aAAa3uD,Q,oBAIhC,WAAgB,kCAAN6D,EAAM,yBAANA,EAAM,gBACd,OAAOA,EAAK2T,KAAI,SAAAxX,GACd,OAAO,EAAKstD,GAAG8D,MAAMpxD,Q,wBAIzB,SAAWA,GAGT,OAFA4D,KAAK0pD,GAAGE,gBAAgBxtD,GAEjB4D,O,yBAGT,SAAY5D,GAEV,OADA4D,KAAK0pD,GAAG8D,MAAMC,eAAerxD,GACtB4D,O,gBAGT,SAAG0tD,GACD,OAAO1tD,KAAK0pD,MAAQgE,EAAahE,IAAMgE,K,mBAGzC,SAAMT,GACJ,OAAOjtD,KAAK0pD,GAAGiE,QAAQtkB,gBAAkB4jB,EAAI5jB,gB,qBAG/C,SAAQukB,GAIN,IAHA,IAAIC,EAAO7tD,KACP8tD,GAAW,IAENA,EAAWD,EAAKE,SAASH,KAAO,CACvC,IAAIC,EAAKnE,GAAGsE,WAGV,OAAO,KAFPH,EAAOb,EAAI7wD,OAAO0xD,EAAKnE,GAAGsE,YAM9B,OAAIF,EACKD,EAGF,O,kBAGT,WAEE,IAAK7tD,KAAK0pD,GAAI,MAAO,GAErB,IAAMuE,EAAcjuD,KAAKmmD,SAEzB,OAAI8H,EACF,eAAWA,EAAY59C,QAAvB,CAA+BrQ,OAExB,CAACA,Q,oBAMZ,WACE,OAAOgtD,EAAI7wD,OAAO6D,KAAK0pD,GAAGsE,c,uBAG5B,WACE,QAAShuD,KAAK0pD,GAAGsE,a,yBAGnB,WAAqB,MAEnB,OADA,EAAAhuD,KAAK0pD,GAAGwE,WAAUnG,OAAlB,mBACO/nD,O,0BAGT,SAAamuD,EAAUC,GAErB,OADApuD,KAAK0pD,GAAGwE,UAAU9pD,QAAQ+pD,EAAUC,GAC7BpuD,O,sBAGT,SAAS4tD,GACP,QAAK5tD,KAAK0pD,GAAGwE,WACNluD,KAAK0pD,GAAGwE,UAAUG,SAAST,K,sBAGpC,WAAkB,MAGhB,OAFA,EAAA5tD,KAAK0pD,GAAGwE,WAAU1Y,IAAlB,mBAEOx1C,O,0BAGT,SAAa4tD,GACE5tD,KAAKmmD,SAEX0F,WAAWl4C,SAAQ,SAAAw1B,GACxBA,EAAGmlB,YAAYV,MAGjB5tD,KAAKuuD,SAASX,K,yBAGhB,SAAYA,EAAKY,GAEf,OADAxuD,KAAK0pD,GAAGwE,UAAUO,OAAOb,EAAKY,GACvBxuD,O,kBAGT,SAAKipC,GACH,YAAoB,IAATA,EACFjpC,KAAK0pD,GAAGgF,WAGG,iBAATzlB,EACT1tC,OAAOsK,OAAO7F,KAAK0pD,GAAI,CAAEgF,UAAWzlB,IAEpCjpC,KAAK2uD,QAAQC,OAAO3lB,GAGfjpC,Q,sBAGT,SAAS6uD,GACP3C,GAAQlsD,KAAM6uD,K,wBAEhB,SAAY5lB,GAAyC,IAAnC6lB,EAAmC,uDAArB,MAAOvD,EAAc,uDAAJ,GAC/CW,GAAQlsD,KAAMgtD,EAAI7wD,OAAO2yD,GAAa7lB,KAAKA,GAAOsiB,K,2BAGpD,SAAetiB,GAA2B,IAArB6lB,EAAqB,uDAAP,MACjC5C,GAAQlsD,KAAMgtD,EAAI7wD,OAAO2yD,GAAa7lB,KAAxB,eAAqCA,EAArC,WAAmD+iB,WAAWA,c,kBAG9E,SAAK+C,GACH,OAAO/uD,KAAK0pD,GAAGsF,cAAcD,K,eAG/B,SAAEA,GACA,IAAIvuC,EAAOxgB,KAAKumD,KAAKwI,GACrB,OAAOvuC,EAAOwsC,EAAI7wD,OAAOqkB,GAAQ,O,qBAGnC,SAAQuuC,GACN,OAAO7tD,MAAMuB,KAAKzC,KAAK0pD,GAAGuF,iBAAiBF,M,gBAG7C,SAAGA,GAED,OADU/uD,KAAKkvD,QAAQH,GACZn7C,KAAI,SAAA4M,GAAI,OAAIwsC,EAAI7wD,OAAOqkB,Q,mBAGpC,WACE,KAAOxgB,KAAK0pD,GAAGsC,YAAYhsD,KAAK0pD,GAAGR,YAAYlpD,KAAK0pD,GAAGsC,YACvD,OAAOhsD,O,oBAGT,SAAO0pD,GAOL,MANkB,iBAAPA,EACT1pD,KAAK0pD,GAAGqC,YAAYjwC,SAASqzC,eAAezF,IAE5C1pD,KAAK0pD,GAAGqC,YAAYrC,EAAGA,IAAMA,GAGxB1pD,O,qBAGT,SAAQ0pD,GAON,MANkB,iBAAPA,EACT1pD,KAAK0pD,GAAG0F,QAAQtzC,SAASqzC,eAAezF,IAExC1pD,KAAK0pD,GAAG0F,QAAQ1F,EAAGA,IAAMA,GAGpB1pD,O,yBAGT,SAAYipC,GACV,IAAIomB,EAAOrC,EAAI7wD,OAAO,OAAO8sC,KAAKA,GAIlC,OAFAjpC,KAAKovD,QAAQC,EAAKC,0BAEXD,I,wBAGT,SAAWpmB,GACT,IAAIomB,EAAOrC,EAAI7wD,OAAO,OAAO8sC,KAAKA,GAIlC,OAFAjpC,KAAK4uD,OAAOS,EAAKC,0BAEVD,I,oCAMT,WACE,IAAM3kD,EAAO1K,KAAK6rD,WAEdgD,EAAW/yC,SAASyzC,yBAGxB,OAFA7kD,EAAKiJ,SAAQ,SAAA67C,GAAG,OAAIX,EAAS9C,YAAYyD,EAAI9F,OAEtCmF,I,sBAGT,SAASxxD,GAKP,OAJQA,EAAOqsD,GAAKrsD,EAAOqsD,GAAKrsD,GAE9B0uD,YAAY/rD,KAAK0pD,IAEZ1pD,O,oBAGT,WAKE,OAJIA,KAAK0pD,GAAGsE,YACVhuD,KAAK0pD,GAAGsE,WAAW9E,YAAYlpD,KAAK0pD,IAG/B1pD,O,yBAGT,SAAY0pD,GAEV,OADA1pD,KAAK0pD,GAAGR,YAAYQ,EAAGA,IAAMA,GACtB1pD,O,kBAQT,SAAKlE,GACH,QAAqB,IAAVA,EACT,OAAOkE,KAAK0pD,GAAGkB,YAEf,IAAI6E,EAAW3zD,EAWf,OATIA,aAAiBkxD,IACnByC,EAAW3zD,EAAM4zD,QAIf1vD,KAAK0pD,GAAGkB,cAAgB6E,IAC1BzvD,KAAK0pD,GAAGkB,YAAc6E,GAGjBzvD,O,iBAcX,SAAI5D,EAAKN,GAAO,WACd,QAAmB,IAARM,QAAwC,IAAVN,EACb,IAAtBM,EAAIwlB,QAAQ,YAAiC,IAAV9lB,EACrCkE,KAAK0pD,GAAG8D,MAAMmC,YAAYvzD,EAAKN,GAE/BkE,KAAK0pD,GAAG8D,MAAMpxD,GAAON,OAElB,QAAmB,IAARM,EAAqB,CACrC,GAAmB,iBAARA,EACT,OAAOwzD,iBAAiB5vD,KAAK0pD,IAAIttD,GAEjCb,OAAOs0D,QAAQzzD,GAAKuX,SAAQ,YAAuB,gBAArBm8C,EAAqB,KAAXh0D,EAAW,KAClB,IAA3Bg0D,EAASluC,QAAQ,YAAgC,IAAV9lB,EACzC,EAAK4tD,GAAG8D,MAAMmC,YAAYG,EAAUh0D,GAEpC,EAAK4tD,GAAG8D,MAAMsC,GAAYh0D,KAMlC,OAAOkE,O,4IAGT,WAA2B,IACzB,IAAI+vD,EAAMH,iBAAiB5vD,KAAK0pD,IAE5BvrD,EAAM,GAHe,mBAANuM,EAAM,yBAANA,EAAM,gBAQzB,OAJAA,EAAKiJ,SAAQ,SAAAw1B,GACXhrC,EAAIgrC,GAAM4mB,EAAI5mB,MAGThrC,M,0BAGT,WAIE,IAJoB,WAChBqvD,EAAQ,GAERnhD,EAAMrM,KAAK0pD,GAAG8D,MAAMjwD,OACf1C,EAAI,EAAGA,EAAIwR,EAAKxR,IAAK,CAC5B,IAAIuB,EAAM4D,KAAK0pD,GAAG8D,MAAM3yD,GAExB2yD,EAAMpxD,GAAO4D,KAAK0pD,GAAG8D,MAAMpxD,GAPT,2BAANsO,EAAM,yBAANA,EAAM,gBAcpB,OAJAA,EAAKiJ,SAAQ,SAAAvX,GACXoxD,EAAMpxD,GAAO,EAAK2zD,IAAI3zD,MAGjBoxD,I,qBAGT,SAAQ1xD,GACN,YAAqB,IAAVA,EACFkE,KAAK0pD,GAAG8D,MAAMwC,SAGnBl0D,GAASkE,KAAK0pD,GAAGuG,cACnBjwD,KAAK0pD,GAAG8D,MAAMwC,QAAUl0D,EACxBkE,KAAK0pD,GAAGuG,YAAcn0D,GAGjBkE,Q,sBAGT,SAASjB,GAOP,OANIA,EAAI,KAAIiB,KAAK0pD,GAAG8D,MAAMzuD,EAAI,IAAMA,EAAI,IACpCA,EAAI,KAAIiB,KAAK0pD,GAAG8D,MAAMzuD,EAAI,IAAMA,EAAI,IACpCA,EAAI,KAAIiB,KAAK0pD,GAAG8D,MAAMzuD,EAAI,IAAMA,EAAI,IACpCA,EAAI,KAAIiB,KAAK0pD,GAAG8D,MAAMzuD,EAAI,IAAMA,EAAI,IACpCA,EAAI,KAAIiB,KAAK0pD,GAAG8D,MAAMzuD,EAAI,IAAMA,EAAI,IAEjCiB,O,sBAGT,SAAS5D,GACP,OAAO8zD,WAAWlwD,KAAK+vD,IAAI3zD,M,oBAG7B,SAAOA,GACL,OAAOkI,SAAStE,KAAK+vD,IAAI3zD,M,gBAG3B,SAAGA,EAAKN,GACN,OAAOkE,KAAK+vD,IAAI3zD,EAAT,UAAiBN,EAAjB,S,kBAGT,WACE,OAAOkE,KAAK0pD,GAAGyG,0B,kBAGjB,WACE,OAAOnwD,KAAK0pD,GAAG0G,Y,mBAGjB,WACE,MAAyC,QAAlCpwD,KAAK0pD,GAAGiE,QAAQh0B,gB,wBAGzB,WAEE,GAAI35B,KAAKqwD,QAAS,CAChB,IAAMC,EAAYtwD,KAAKmmD,SAAS/mC,OAC1ByiC,EAAM7hD,KAAKof,OAEjB,MAAO,CACL1e,EAAGmhD,EAAInhD,EAAI4vD,EAAU5vD,EACrBwgB,EAAG2gC,EAAI3gC,EAAIovC,EAAUpvC,EACrBuxB,IAAKoP,EAAInhD,EAAI4vD,EAAU5vD,EACvB4xC,KAAMuP,EAAI3gC,EAAIovC,EAAUpvC,EACxBzB,MAAOoiC,EAAIpiC,MACXqiC,OAAQD,EAAIC,QAIhB,MAAO,CACLphD,EAAGV,KAAK0pD,GAAG6G,WACXrvC,EAAGlhB,KAAK0pD,GAAG8G,UACX/d,IAAKzyC,KAAK0pD,GAAG8G,UACble,KAAMtyC,KAAK0pD,GAAG6G,WACd9wC,MAAOzf,KAAK0pD,GAAG+G,YACf3O,OAAQ9hD,KAAK0pD,GAAGgH,gB,oBAIpB,WACE,IAAItxC,EAAOpf,KAAKof,OAEZuxC,EAAY3D,EAAI4D,eAChBC,EAAa7D,EAAI8D,gBAErB,MAAO,CACLre,IAAKrzB,EAAKqzB,IAAMke,EAChBre,KAAMlzB,EAAKkzB,KAAOue,K,wBAItB,WACE,OAAO7wD,KAAK4C,SAAS0vC,O,uBAGvB,WACE,OAAOtyC,KAAK4C,SAAS6vC,M,sBAGvB,WACE,OAAIzyC,KAAK0pD,GAAG8D,MAAM/a,IACT,CACLA,IAAKyd,WAAWlwD,KAAK+vD,IAAI,QACzBzd,KAAM4d,WAAWlwD,KAAK+vD,IAAI,UAGrB/vD,KAAKof,S,kBAIhB,WACE,MAAO,CAACpf,KAAKyf,QAASzf,KAAK8hD,Y,mBAG7B,WACE,OAAO9hD,KAAK0pD,GAAG+G,aAAezwD,KAAKof,OAAOK,Q,0BAG5C,WACE,OACEzf,KAAKyf,QACLzf,KAAK+wD,SAAS,gBACd/wD,KAAK+wD,SAAS,mB,oBAIlB,WACE,OAAO/wD,KAAK0pD,GAAGgH,cAAgB1wD,KAAKof,OAAO0iC,S,2BAG7C,WACE,OACE9hD,KAAK8hD,SACL9hD,KAAK+wD,SAAS,eACd/wD,KAAK+wD,SAAS,oB,iBAIlB,SAAIj1D,GACF,QAAqB,IAAVA,EACT,OAAOkE,KAAK0pD,GAAG5tD,MACV,QAAqB,IAAVA,EAAuB,CACvC,IAAIk1D,EAAYl1D,EAEZA,aAAiBkxD,IACnBgE,EAAYl1D,EAAMsY,OAGpBpU,KAAK0pD,GAAG5tD,MAAQk1D,EAGlB,OAAOhxD,O,qBAGT,SAAS+uD,GACP,OAAI/uD,KAAK0pD,IAEF1pD,KAAK0pD,GAAGuH,QAETjxD,KAAK0pD,GAAGuH,QAAQlC,GACX/uD,KAEFA,KAAKmmD,SAAS8K,QAAQlC,GAGxB,O,iBAIT,WACE,OAAO/uD,KAAK0pD,GAAG5tD,Q,wBAGjB,WACE,OAAOkE,KAAK0pD,GAAGwH,e,yBAGjB,WACE,OAAOlxD,KAAK0pD,GAAGyH,gB,iBAGjB,WACE,OAAOnxD,KAAK0pD,GAAG0H,MAAR,KAAoBpxD,KAAK0pD,GAAG0H,OAAS,K,qBAG9C,WACE,OAAQpxD,KAAK0pD,GAAGe,UACd,IAAK,QACH,IAAI90B,EAAO31B,KAAKktD,KAAK,QACrB,GAAY,YAARv3B,GAA8B,SAARA,EACxB,OAAO31B,KAAKqxD,UAEhB,IAAK,SACL,IAAK,WACH,OAAOrxD,KAAK0pD,GAAG5tD,MAGnB,MAAO,K,iBAGT,WACE,OAAOwI,SAAStE,KAAKoU,MAAO,M,mBAG9B,WACE,OAAO87C,WAAWlwD,KAAKoU,S,kBAGzB,WAA4B,IAAvBk9C,EAAuB,uDAAT,QAGjB,OAFAtxD,KAAK0pD,GAAG8D,MAAM+D,QAAyB,QAAfD,EAAwBA,EAAc,QAEvDtxD,O,kBAGT,WAGE,OAFAA,KAAK0pD,GAAG8D,MAAM+D,QAAU,OAEjBvxD,O,oBAGT,WACE,MAAkC,SAA3BA,KAAK0pD,GAAG8D,MAAM+D,U,oBAGvB,WACE,OAAQvxD,KAAKwxD,W,oBAGf,SAAOhD,GACL,IAAIiD,EAAczxD,KAAKwxD,SAEvB,OAAwB,GAApBtxD,UAAU3C,OACRixD,EACKxuD,KAAK0xD,OAEL1xD,KAAK2xD,OAGVF,EACKzxD,KAAK0xD,OAEL1xD,KAAK2xD,S,uBAKlB,WACE,OAAO3xD,KAAK0pD,GAAGkI,mB,4BAGjB,WACE5xD,KAAK0pD,GAAGmI,mB,2BAGV,SAAep3B,GAEb,OADAz6B,KAAK0pD,GAAGmH,YAAcp2B,EACfz6B,O,0BAGT,SAAcy6B,GAEZ,OADAz6B,KAAK0pD,GAAGiH,WAAal2B,EACdz6B,O,0BAGT,SAAa2wD,GAEX,OADA3wD,KAAK0pD,GAAGiH,UAAYA,EACb3wD,O,2BAGT,SAAc6wD,GAEZ,OADA7wD,KAAK0pD,GAAGmH,WAAaA,EACd7wD,O,uBAGT,WACE,OAAIA,KAAK0pD,KAAO5tC,SAASg2C,KAChB9E,EAAI4D,eAGN5wD,KAAK0pD,GAAGiH,Y,wBAGjB,WACE,OAAI3wD,KAAK0pD,KAAO5tC,SAASg2C,KAChB9E,EAAI8D,gBAGN9wD,KAAK0pD,GAAGmH,a,0BAGjB,WACE,OAAO7wD,KAAK0pD,GAAGqI,e,yBAGjB,WACE,OAAO/xD,KAAK0pD,GAAGsI,c,gBAGjB,SAAGrrB,EAAWj6B,EAAUulD,EAAMC,GAG5B,OAFAlyD,KAAK0pD,GAAG7iB,iBAAiBF,EAAWj6B,EAAUulD,EAAMC,GAE7ClyD,O,iBAGT,SAAI2mC,EAAWj6B,GAGb,OAFA1M,KAAK0pD,GAAG3iB,oBAAoBJ,EAAWj6B,GAEhC1M,O,wBAGT,WACE,OAAOA,KAAK0pD,K,yBAGd,SAAYuD,GAA2C,IAAtCv/B,EAAsC,uDAA1B,GAAI25B,EAAsB,uDAAd,GAAI0I,EAAU,uDAAJ,GAC7CoC,EAAWnF,EAAI7wD,OAAO8wD,EAAKv/B,EAAW25B,GAK1C,OAJA8K,EAASpC,IAAIA,GAEb/vD,KAAK4uD,OAAOuD,GAELA,I,sBAGT,WACE,OAAOnF,EAAI7wD,OAAO6D,KAAK0pD,GAAG0I,qB,sBAG5B,WACE,IAAItvC,EAAU9iB,KAAK0pD,GAAG0I,kBAEtB,IAAKtvC,EACH,MAAO,GAGT,IAAIomB,EAAU,GAEd,GACEA,EAAQlnC,KAAKgrD,EAAI7wD,OAAO2mB,IACxBA,EAAUA,EAAQuvC,yBACXvvC,GAET,OAAOomB,I,yBAGT,WACE,OAAOlpC,KAAK0pD,GAAGmC,SAAStuD,S,qBAG1B,SAAQ+0D,GAMN,OAJItyD,KAAK0pD,GAAGsE,YACVhuD,KAAK0pD,GAAGsE,WAAWxC,aAAa8G,EAAW5I,IAAM4I,EAAYtyD,KAAK0pD,IAG7D1pD,O,0BAGT,SAAauyD,EAAYD,GAGvB,OAFAtyD,KAAK0pD,GAAG8B,aAAa8G,EAAW5I,IAAM4I,EAAYC,EAAW7I,IAAM6I,GAE5DvyD,O,qBAGT,WAA2B,IAAnBwyD,EAAmB,wDACzB,OAAwB,GAApBtyD,UAAU3C,SACHyC,KAAK0pD,GAAG2H,SAGnBrxD,KAAK0pD,GAAG2H,UAAYmB,EAEbxyD,Q,mBAIT,WAGE,OAFAA,KAAK0pD,GAAG+I,QAEDzyD,O,mBAGT,WAGE,OAFAA,KAAK0pD,GAAGgJ,QAED1yD,O,oBAGT,WAEE,GAAqC,SAAjCA,KAAKktD,KAAK,mBAA+B,CAC3C,IAAIyF,EAAQ72C,SAAS82C,cACrBD,EAAME,mBAAmB7yD,KAAK0pD,IAC9B,IAAIoJ,EAAMr4D,OAAOs4D,eACjBD,EAAIE,kBACJF,EAAIG,SAASN,QAEb3yD,KAAK0pD,GAAGwJ,SAGV,OAAOlzD,O,kBAGT,WAGE,OAFAA,KAAK0pD,GAAGyJ,OAEDnzD,O,qBAKT,WAA4B,IAApBozD,EAAoB,uDAAN,KAKpB,OAJKpzD,KAAKqzD,eACRrzD,KAAKqzD,aAAerzD,KAAK0pD,GAAG4J,WAAWF,IAGlCpzD,KAAKqzD,e,oBAGd,YAA0B,IAAjB5zC,EAAiB,EAAjBA,MAAOqiC,EAAU,EAAVA,OAEd9hD,KAAKqzD,aAAe,KACpB,IAAIE,EAAMvzD,KAAK20B,UACXghB,EAAQl7C,OAAO+4D,kBAAoB,EAEvCxzD,KAAK2jD,GAAG,SAAUlkC,GAClBzf,KAAK2jD,GAAG,UAAW7B,GAEnB9hD,KAAK0pD,GAAGjqC,MAAQA,EAAQk2B,EACxB31C,KAAK0pD,GAAG5H,OAASA,EAASnM,EAE1B4d,EAAI5d,MAAMA,EAAOA,K,uBAGnB,WAA4C,IAAjChgB,EAAiC,uDAA1B,YAAa89B,EAAa,uDAAH,EACvC,OAAOzzD,KAAK0pD,GAAGgK,UAAU/9B,EAAM89B,K,mBAGjC,WACEzzD,KAAK20B,UAAUg/B,UAAU,EAAG,EAAG3zD,KAAK0pD,GAAGjqC,MAAOzf,KAAK0pD,GAAG5H,U,oBAGxD,SAAOp1C,GACL1M,KAAK4zD,QACLlnD,EAAS1R,KAAKgF,KAAMA,Q,uBAGtB,SAAW6zD,GAAqB,IAAhBluB,EAAgB,uDAAX,EAAGE,EAAQ,uDAAH,EACvB0tB,EAAMvzD,KAAK20B,UACXghB,EAAQl7C,OAAO+4D,kBAAoB,EACvCD,EAAIO,UAAUD,EAAKluB,EAAIE,EAAIguB,EAAIp0C,MAAOo0C,EAAI/R,OAAQ,EAAG,EAAG9hD,KAAK0pD,GAAGjqC,MAAQk2B,EAAO31C,KAAK0pD,GAAG5H,OAASnM,K,wBAGlG,WAAwB,IAAboe,EAAa,uDAAJ,GACdR,EAAMvzD,KAAK20B,UACfp5B,OAAOsK,OAAO0tD,EAAKQ,K,sBAGrB,SAAS77C,EAAIw8B,EAAIpG,EAAIC,GACnB,IAAIglB,EAAMvzD,KAAK20B,UAEf4+B,EAAIS,YACJT,EAAIz0C,OAAO5G,EAAIw8B,GACf6e,EAAI30C,OAAO0vB,EAAIC,GACfglB,EAAI/zC,SACJ+zC,EAAIn1C,c,sBAGN,WACE,IAAIm1C,EAAMvzD,KAAK20B,UAEf4+B,EAAIS,YAHY,2BAAN3jD,EAAM,yBAANA,EAAM,gBAKhBA,EAAKsD,SAAQ,SAAChX,EAAGgU,GACF,GAATA,EACF4iD,EAAIz0C,OAAOniB,EAAE,GAAIA,EAAE,IAEnB42D,EAAI30C,OAAOjiB,EAAE,GAAIA,EAAE,OAGvB42D,EAAI/zC,SACJ+zC,EAAIU,OACJV,EAAIn1C,c,wBAGN,SAAWq9B,EAAIC,EAAI//C,GACjB,IAAI43D,EAAMvzD,KAAK20B,UACf4+B,EAAIS,YACJT,EAAI31C,IAAI69B,EAAIC,EAAI//C,EAAG,EAAG,EAAIsV,KAAK64B,IAC/BypB,EAAI/zC,SACJ+zC,EAAIU,S,sBAGN,SAASvzD,EAAGwgB,EAAGwuC,GACb1vD,KAAK20B,UAAUu/B,SAASxE,EAAMhvD,EAAGwgB,K,wBAInC,WACE,IAAI4B,EAAU9iB,KAAK0pD,GAEf5mC,EAAQqxC,kBACVrxC,EAAQqxC,oBACCrxC,EAAQsxC,wBACjBtxC,EAAQsxC,2B,8BAIZ,WACMp0D,KAAK0pD,KAAO5tC,SAASu4C,kBACvBv4C,SAASw4C,iBAETt0D,KAAKu0D,gB,qBA76BT,SAAetH,EAAKv/B,EAAWw/B,GAC7B,OAAO,IAAIF,EAAIC,EAAKv/B,EAAWw/B,K,0BAGjC,SAAqBsH,GACnB,IACI9pD,EADMsiD,EAAI7wD,OAAO,OACN8sC,KAAKurB,GAAY3I,WAEhC,OAAInhD,EAAKnN,OACAyvD,EAAI7wD,OAAOuO,EAAK,GAAGg/C,IAGrB,O,0BAGT,WACE,OAAOz4C,KAAKypB,IACVjgC,OAAOg6D,YACP34C,SAAS44C,gBAAgB/D,UACzB70C,SAASg2C,KAAKnB,a,2BAIlB,WACE,OAAO1/C,KAAKypB,IACVjgC,OAAOk6D,YACP74C,SAAS44C,gBAAgB7D,WACzB/0C,SAASg2C,KAAKjB,c,mBAIlB,SAAa5nB,GAEX,OADa2rB,YACCC,gBAAgB5rB,EAAM,gB,kBAGtC,WACE,OAAO+jB,EAAI7wD,OAAO2f,SAASg2C,U,KC5DVgD,G,WAMjB,WAAangC,GAAuB,IAAd42B,EAAc,uDAAJ,GAAI,YAChCvrD,KAAK20B,QAAUA,EACf30B,KAAKurD,QAAUA,E,sCAInB,c,kBAKA,c,qBAKA,c,oBAKA,c,oBAIA,SAAOhlD,GACH,OAAOvG,KAAK20B,QAAQyQ,OAAO7+B,K,iBAG/B,c,qBAIA,gB,mbCpCJ,IAAMwuD,GAAuB,CACzB,YAAc,EACd,WAAa,EACb,WAAa,EACb,SAAW,EACX,WAAa,GAMXC,GAAgB,CACpB,UAAa,YAGTC,GAAmB,CACvB,WAAa,GAGMC,G,+HAGjB,WAAa,WACTl1D,KAAKm1D,UAGDn1D,KAAKo1D,YAAcp1D,KAAK20B,QAAQ0gC,mBAI/Br1D,KAAKo1D,aACRp1D,KAAKo1D,WAAap1D,KAAK20B,QAAQ2gC,YAAY/2B,IAE7Cv+B,KAAKo1D,WAAWzhD,SAAQ,SAAAvX,GAAG,OAAI,EAAKm5D,cAAcn5D,S,qBAGtD,WACM4D,KAAK20B,QAAQ0gC,kBAGfr1D,KAAKw1D,mB,4BAMT,WAAiB,WACbx1D,KAAKy1D,cAAc9hD,SAAQ,SAAAxV,GACzB,EAAK2oC,eAAe3oC,MAEtB6B,KAAK01D,iB,4BAGT,YAA6C,IAA5B/uB,EAA4B,EAA5BA,UAAWD,EAAiB,EAAjBA,IAAKh6B,EAAY,EAAZA,SAC7BipD,GAAM7uB,eAAeJ,EAAKC,EAAWj6B,K,yBAGzC,WAKI,OAJK1M,KAAK41D,WACR51D,KAAK01D,eAGA11D,KAAK41D,Y,wBAGhB,SAAWz3D,GACP6B,KAAKy1D,cAAczzD,KAAK7D,K,0BAG5B,WACI6B,KAAK41D,UAAY,K,uBAIrB,SAAWlM,EAAIqF,GACX,OAAIrF,EACEA,EAAGuH,QAAQlC,GACNrF,EAEF1pD,KAAK61D,UAAUnM,EAAG0B,cAAe2D,GAEnC,O,yBAGX,SAAa1hD,EAAGyoD,GACZ,OAAO91D,KAAK61D,UAAUxoD,EAAEhQ,QAAUgQ,EAAE0oD,WAAYD,EAAY7gC,Y,0BAGhE,SAAc6gC,EAAappD,GACzB,OAAIopD,EAAY7gC,SACPj1B,KAAKg2D,qBAAqBF,EAAappD,GAEvC1M,KAAKi2D,oBAAoBH,EAAappD,K,iCAIjD,SAAqBopD,EAAappD,GAAU,WACxC,OAAO,SAAAW,GACL,IAAI6oD,EAAc,EAAKC,iBAAiB9oD,EAAGyoD,EAAappD,GACxD,GAAI07B,GAAe8tB,GACjB,OAAOA,K,kCAKf,SAAsBJ,EAAappD,GAAU,WACzC,OAAO,SAAAW,GACL,IAAM+oD,EAAiB,EAAKC,YAAYhpD,EAAGyoD,GAE3C,GAAIM,EAAgB,CAElB/oD,EAAEipD,IAAMtJ,GAAI7wD,OAAOi6D,GAEnB,IAAIF,EAAc,EAAKC,iBAAiB9oD,EAAGyoD,EAAappD,GACxD,GAAI07B,GAAe8tB,GACjB,OAAOA,M,8BAMjB,SAAkB7oD,EAAGyoD,EAAappD,GAC9B,IAAMioB,EAAU30B,KAAK20B,QASrB,GARAtnB,EAAEqhC,GAAKinB,GAAMzuB,MAAM75B,GAEfyoD,EAAYS,cAAch5D,QAC5Bu4D,EAAYS,cAAcpiD,OAAM,SAAAqiD,GAC9B,OAAO7hC,EAAQ6hC,EAAOn5D,QAAQrC,KAAK25B,EAAStnB,EAAGmpD,EAAOn/C,UAItDrX,KAAKy2D,eAAeppD,EAAGyoD,GAAc,CACvC,IAAII,EAAcxpD,EAASW,EAAGA,EAAEipD,IAAKjpD,EAAEqhC,IAQvC,OANoB,IAAhBwnB,GAAyBJ,EAAYY,aAAan5D,QACpDu4D,EAAYY,aAAa/iD,SAAQ,SAAAgjD,GAC/B,OAAOhiC,EAAQgiC,EAAMt5D,QAAQrC,KAAK25B,EAAStnB,EAAGspD,EAAMt/C,UAIjD6+C,K,4BAIb,SAAgB7oD,EAAGyoD,GACf,IAAMnhC,EAAU30B,KAAK20B,QAEjBiiC,GAAa,EACbd,EAAYe,MAAMt5D,SACpBq5D,IACGvpD,EAAErK,MAAO8yD,EAAYe,MAAMj1C,QAAQvU,EAAErK,KAAKqmC,gBAAkB,KAC5Dh8B,EAAEjR,KAAM05D,EAAYe,MAAMj1C,QAAQvU,EAAEjR,IAAIitC,gBAAkB,GAI/D,IAAIytB,GAAa,EAgBjB,OAfIhB,EAAYiB,gBAAgBx5D,SAC9Bu5D,EAAahB,EAAYiB,gBAAgB5iD,OAAM,SAAAmxB,GAC7C,IAAI0xB,EAAariC,EAAQ2Q,GACzB,OAAImD,GAAWuuB,IAAeA,EAErBA,EAAWh8D,KAAK25B,EAAStnB,IACvB+6B,GAAe4uB,MAGfA,MAMRJ,GAAcE,I,kCAGzB,SAAqBpwB,GACjB,IACIgjB,EADE/0B,EAAU30B,KAAK20B,QASrB,OALE+0B,EADEhjB,EACG/R,EAAQsiC,KAAKvwB,IAAQ/R,EAAQ+R,IAAQjsC,OAAOisC,GAE5C/R,EAAQ+0B,IAAM/0B,EAAQ66B,KAAO76B,EAAQuiC,iBAG1BlK,GACTtD,EAAGyN,aAGLzN,I,8BAGX,SAAkB/iB,GAChB,OAAOquB,GAAcruB,IAAcA,I,gCAGrC,SAAoBA,GAClB,OAAOsuB,GAAiBtuB,GAAaA,EAAY,K,mCAUnD,SAAuBA,EAAWywB,GAC9B,IAAMziC,EAAU30B,KAAK20B,QACjB51B,EAAMq4D,EAGJL,EAAkBh4D,EAAIqD,QAAO,SAAAY,GAAI,QAAM2xB,EAAQ3xB,MAGrD,EAA+BsmC,GAAqBvqC,EAAK,SAAzD,YAAOs4D,EAAP,KAAeX,EAAf,KACA,EAAiCptB,GAAqBvqC,EAAK,UAA3D,YAAOu4D,EAAP,KAAgBf,EAAhB,KACA,EAAqCjtB,GAAqBvqC,EAAK,YAA/D,YAAOw4D,EAAP,KAAkBC,EAAlB,KACA,EAA+BluB,GAAqBvqC,EAAK,SAAzD,YAAO04D,EAAP,KAAeC,EAAf,KACA,EAAqCpuB,GAAqBvqC,EAAK,YAA/D,YAAO44D,EAAP,KAAkBC,EAAlB,KACA,EAAmBtuB,GAAqBvqC,EAAK,WAAtC84D,EAAP,aAGMC,EAAe,GAAH,YACbf,GADa,KAEbM,GAFa,KAGbC,GAHa,KAIbG,GAJa,KAKbF,GALa,KAMbI,GANa,KAObE,IAGDhB,EAAQ93D,EACTqD,QAAO,SAAAY,GAAI,OAAoC,IAAhC80D,EAAal2C,QAAQ5e,MACpC4Q,KAAI,SAAA5Q,GAAI,OAAIA,EAAKqmC,iBAEpB,MAAO,CACL1C,UAAW3mC,KAAK+3D,iBAAiBpxB,GACjCqxB,gBAAiBh4D,KAAKi4D,mBAAmBtxB,GACzCkwB,QACAgB,WACAnB,eACAH,gBACAmB,eACAF,kBACAI,kBACAb,qB,yBAKN,SAAajB,EAAappD,GACtBopD,EAAYppD,SAAW1M,KAAKk4D,aAAapC,EAAappD,GACtD1M,KAAKm4D,WAAWrC,GAEhB,IAAIvK,IAAYuK,EAAY+B,SAASt6D,OAEjCw3D,GAAqBe,EAAYnvB,aACnC4kB,EAAU,CACR6M,SAAS,EACTC,QAAS9M,IAMboK,GAAMlvB,YACJqvB,EAAYpvB,IACZovB,EAAYnvB,UACZmvB,EAAYppD,SACZ6+C,K,qCAIN,SAAyBuK,EAAappD,GAAU,WAE9C,GAAoC,cAAhCopD,EAAYkC,gBAAiC,CAC/C,IAAI1wB,EAAQ,IAKZ,OAHIwuB,EAAY4B,aAAan6D,SAC3B+pC,GAASwuB,EAAY4B,aAAa,GAAGr6D,QAEhC,WAEA,EAAKi7D,WAKJxS,YAAYC,MAAQ,EAAKuS,UAAUC,KAAOjxB,GAC5C56B,EAAQ,WAAR,aAGF,EAAK4rD,UAAY,MARjB,EAAKA,UAAY,CACbC,KAAMzS,YAAYC,QAa5B,OAAOr5C,I,6BAGT,WAAiD0qD,EAAoB1qD,GAAW,cAA7Di6B,EAA6D,KAAlDD,EAAkD,KAA1CzR,EAA0C,WACxE6gC,EAAc91D,KAAKw4D,sBAAsB7xB,EAAWywB,GAMxD,GAJAtB,EAAYpvB,IAAM1mC,KAAKy4D,qBAAqB/xB,GAC5CovB,EAAY7gC,SAAWA,EAAS/yB,KAAKk9B,IAGjC02B,EAAY0B,gBAAgBj6D,OAE9BmP,EAAW26B,GAAS36B,GADAopD,EAAY0B,gBAAgB,GAAGn6D,aAE9C,GAAIy4D,EAAY8B,gBAAgBr6D,OAAQ,CAE7CmP,EAAWk7B,GAASl7B,GADAopD,EAAY8B,gBAAgB,GAAGv6D,QAKrDqP,EAAW1M,KAAK04D,wBAAwB5C,EAAappD,GAErD1M,KAAKymC,YAAYqvB,EAAappD,K,2BAGlC,SAAei6B,GACX,IAAIuC,EAAU,GAQd,OANAvC,EAAUpjC,MAAMw7B,GAAgBprB,SAAQ,SAAAtG,GACpC,IAAItO,EAAMsO,EAAE9J,MAAMw7B,GAElBmK,EAAQlnC,KAAK7B,MAAM+oC,EAASnqC,MAGzBmqC,I,2BAQX,SAAe9sC,GAYX,IAXA,IAAMu4B,EAAU30B,KAAK20B,QACjByiC,EAAqBh7D,EAAImH,MAAM+6B,GAAiB1qB,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAAQjC,OAAOomD,SAK5EzpD,EAHSq4D,EAAmBvyC,QACIthB,MAAMy7B,GAAqB,GAE9Bz7B,MAAM67B,IACnCu5B,EAAa34D,KAAK44D,cAAc75D,EAAI,IAEpC2N,EAAWioB,EAAQv4B,GAAKC,KAAKs4B,GAEzB95B,EAAI,EAAGwR,EAAMssD,EAAWp7D,OAAQ1C,EAAGwR,EAAKxR,IAC9CkE,EAAI,GAAK45D,EAAW99D,GACpBmF,KAAK64D,gBAAgB95D,EAAKq4D,EAAoB1qD,O,GA/UXooD,I,8aCd7C,I,MAAMgE,GAAwB,SAAC3G,EAAU/1D,EAAKN,GAE5C,GAAY,YAARM,EAMG,GAAY,UAARA,EASJ,GAAY,UAARA,EAoBQ,aAARA,GACY,mBAAVN,OAMQ,IAAVA,EACTq2D,EAAS4G,WAAW38D,GAES,aAAzB+1D,EAASzI,GAAGmB,UAAmC,UAARzuD,GAExB,SAARA,GAA0B,gBAARA,EAD3B+1D,EAASzC,KAAK5zD,GAGG,cAARM,GAA+B,SAARA,EAChC+1D,EAASlpB,KAAKntC,GACG,aAARM,EACT+1D,EAAS6G,WAAWl9D,GACH,YAARM,EACT+1D,EAAS8G,cAAcn9D,GACN,UAARM,EACT+1D,EAAS/9C,IAAItY,GAEbq2D,EAASjF,KAAK9wD,EAAKN,GArBnBA,SAjBF,GAAIoF,MAAMC,QAAQrF,GAChBq2D,EAAS5D,SAAT,MAAA4D,EAAQ,KAAar2D,EAAMsG,OAAOomD,gBAC7B,GAAIjgB,GAASzsC,GAElB,IADA,IAAMgI,EAAOvI,OAAOuI,KAAKhI,GACjBjB,EAAI,EAAGwR,EAAMvI,EAAKvG,OAAQ1C,EAAIwR,EAAKxR,IAAK,CAC9C,IAAM6yB,EAAY5pB,EAAKjJ,GACjBkzD,EAAWjyD,EAAM4xB,GAEvBykC,EAAS+G,YAAYxrC,EAAWqgC,QAGlCoE,EAASzI,GAAGh8B,UAAa5xB,MArBL,iBAAXA,GACTq2D,EAASpC,IAAIj0D,QAPfq2D,EAASnC,QAAQl0D,IA2DAq9D,G,yHAEjB,WACEn5D,KAAKo5D,SAAL,MAAAp5D,KAAA,a,sBAKF,WAAmB,kCAANC,EAAM,yBAANA,EAAM,gBACZD,KAAKq5D,eACRr5D,KAAKq5D,aAAer5D,KAAK20B,QAAQ2gC,YAAY72B,IAO/C,IAAM66B,EAAWt5D,KAAKq5D,aACnBj3D,QAAO,SAAAm3D,GACN,IAAKt5D,EAAK1C,OAAQ,OAAO,EACzB,MAAyBg8D,EAAqBh2D,MAAM+6B,GAApD,YAAKk7B,EAAL,KAEA,GAFA,KAEiBA,EAAaj2D,MAAM,MAApC,YAAQk2D,GAAR,WAEA,OAAOx5D,EAAK2hB,QAAQ63C,IAAW,KAGjCH,EAAS3lD,QAAT,+BAAiB,WAAO6lD,GAAP,2CAAAlkD,EAAA,yDACTokD,EAAa,EAAK/kC,QAAQ6kC,GADjB,EAEUA,EAAaj2D,MAAM+6B,GAF7B,YAEVk7B,EAFU,KAEIjzD,EAFJ,KAITozD,EAAY,EAAKv0B,OAAO7+B,GAC1BqzD,EAAcp0B,GAED,IAAbm0B,GAAyC,iBAAfA,EAC5BC,EAAcv0B,GAAoBs0B,GACJ,mBAAdA,IAChBC,EAAcD,GAGVE,EAASL,EAAaj2D,MAAM27B,IAAgB,GAC9CizB,EAAW,EAAKx9B,QAAQsiC,KAAK4C,GAG3BC,EAAsC,mBAAjBF,GAA+BA,EAAY5+D,KAAK,EAAK25B,UAC5Ew9B,IAAY2H,EAlBD,kCAmBSJ,EAAW1+D,KAAX,MAAA0+D,EAAU,CAAM,EAAK/kC,SAAX,OAAuB10B,IAnB1C,WAmBPipC,EAnBO,0DAwBb,IADMplC,EAAOvI,OAAOuI,KAAKolC,GACjB6wB,EAAkB,EAAG1tD,EAAMvI,EAAKvG,OAAQw8D,EAAkB1tD,EAAK0tD,IAC/D39D,EAAM0H,EAAKi2D,GACXj+D,EAAQotC,EAAQ9sC,GAEtB08D,GAAsB3G,EAAU/1D,EAAKN,GA5B1B,4CAAjB,yD,qBAkCJ,WACEkE,KAAKq5D,kBAAeh5D,M,GA9Dey0D,I,whCCpDzC,IACMkF,GAAWhN,GAAI7wD,OAAO,OACtB89D,GAAiB,IAAH,OAFO,MAEP,KAEdC,GAAqB,IAAH,OADN,WACM,KAGHC,G,WACnB,WAAYC,EAAK98D,GAAO,YAEtB0C,KAAK80B,MAAQ,GACb90B,KAAKulC,UAAY,GACjBvlC,KAAKi3D,KAAO,GACZj3D,KAAK6rD,SAAW,GAChB7rD,KAAK41D,UAAY,GACjB51D,KAAKuG,GAAK46C,KACVnhD,KAAKq6D,SAAWr6D,KAAKs6D,oBAErBt6D,KAAKu6D,mBAAmBH,EAAK98D,GAE7B0C,KAAKw6D,iB,oDAOP,SAAoBJ,GAAiB,IAAZ98D,EAAY,uDAAJ,GAE/B0C,KAAKo6D,IAAMA,GAAO,GAClBp6D,KAAKmmD,OAASnmD,KAAKo6D,IACnBp6D,KAAK1C,MAAQA,EACb0C,KAAKs+C,OAAS6C,KACdnhD,KAAKy6D,WAAaz6D,KAAKjC,YAAY3C,O,4BAGrC,WACE4E,KAAK06D,gBAAkB16D,KAAK26D,e,+BAG9B,WACE,MAAO,CACL,IAAIxB,GAAYn5D,MAChB,IAAIk1D,GAAgBl1D,S,uBAUxB,WACE,MAAO,K,sBAST,WAAoC,IAA3B80B,EAA2B,uDAAnB,GAAI8lC,IAAe,yDAClC56D,KAAKulC,UAAYvlC,KAAK80B,MACtB90B,KAAK80B,MAAQv5B,OAAOsK,OAAO,GAAI7F,KAAK80B,MAAOA,GACvC8lC,GACF56D,KAAK66D,S,yBAWT,SAAYz+D,GAAoB,IAAfw+D,IAAe,yDAC9B56D,KAAK86D,SAAL,OACG1+D,GAAQ4D,KAAK80B,MAAM14B,IACnBw+D,K,mBASL,SAAMz8D,GACJ,OLhCG,SAAwBA,GAE3B,OAAO5C,OAAOs0D,QAAQ1xD,GAAKyV,KAAI,YAAkB,gBAAhBxX,EAAgB,KAAXN,EAAW,KAC7C,gBAAUM,EAAV,YAAiBw+B,GAAS9+B,OAC3BoG,KAAK,KK4BD64D,CAAe58D,K,qBAWxB,SAAQb,GAA0B,IAAnB09D,EAAmB,uDAAN,KAEtBA,GACFh7D,KAAKi7D,OAAOD,GAGdh7D,KAAK1C,MAAQA,EACb0C,KAAK80B,MAAQ,GACb90B,KAAK86D,SAAS96D,KAAKk7D,aAAa,GAChCl7D,KAAKm7D,SAAQ,K,oBAQf,SAAOH,GACLh7D,KAAKwvD,IAAMxvD,KAAKo7D,cACdnyB,GADS,yCAELjpC,KAAKq7D,aAGXr7D,KAAKi3D,KAAKzH,IAAMxvD,KAAKwvD,IAEjBwL,GACFA,EAAWpM,OAAO5uD,KAAKwvD,KAIzBxvD,KAAK66D,OAGL76D,KAAKs7D,gB,wBAGP,WACEt7D,KAAK80B,MAAQ90B,KAAKk7D,c,yBASpB,c,wBAQA,WACE,MAAO,K,oBAST,WAAgB,2BAANj7D,EAAM,yBAANA,EAAM,gBACd,IAAM7D,EAAM6D,EAAKiC,KAAK,IACtB,OAAOlC,KAAKi3D,KAAK76D,K,2BASnB,SAAc6sC,EAAM2xB,GAId15D,MAAMC,QAAQ8nC,KAChBA,EAAOA,EAAK/mC,KAAK,KAGnB+mC,EAAOA,EAAK5kC,OAIZ,IAHA,IAAMqG,EAAOsvD,GAAS/wB,KAAKA,GAAM4iB,WAGzBhxD,EAAI,EAAGwR,EAAM3B,EAAKnN,OAAQ1C,EAAIwR,EAAKxR,IAAK,CAC9C,IAAM20D,EAAM9kD,EAAK7P,GAEboqD,EAAMuK,EAAItC,KAhMO,OAiMjBjI,IACFjlD,KAAKi3D,KAAKhS,GAAOuK,GAMnB,IAHA,IAAIyH,EAAOzH,EAAI+L,GAAGtB,IACdpM,EAAO,GAEH2N,EAAY,EAAGC,EAAUxE,EAAK15D,OAAQi+D,EAAYC,EAASD,IAAa,CAC9E,IAAMnM,EAAO4H,EAAKuE,GAEZpgE,EAAOi0D,EAAKnC,KA3MC,OA4MfW,EAAKzyD,GACPsiB,QAAQ8D,KAAR,UAAgByjC,EAAhB,6BAAwCjlD,KAAKy6D,YAAcz6D,MAE3D6tD,EAAKzyD,IAAQ,EAGf4E,KAAKi3D,KAAK77D,GAAQi0D,GAItB,OAAKuL,EAIEZ,GAAS1K,yBAHP5kD,EAAK,K,2BAMhB,SAAe2kD,GACb,IADmB,EL5KK9oD,EK6KpBjJ,EAAQ,GADO,KAIN+xD,EAAK3F,GAAGwB,YAJF,IAInB,2BAAiC,KAAzBnvD,EAAyB,QAG/B,GLnLsBwK,EKmLNxK,EAAE8uD,SLlLbyB,GAAgBI,IAAInmD,GKkLI,CAC3B,IAAMm1D,EAAiB/O,GAAgB5wD,EAAE8uD,UAErCtiB,GAASmzB,GACXp+D,EAAQ/B,OAAOsK,OAAOvI,EAAOo+D,GAE7Bp+D,EAAMvB,EAAE8uD,UAAY8B,GAAgB5wD,EAAE4/D,gBAIxCr+D,EAAMvB,EAAE8uD,UAAY8B,GAAgB5wD,EAAE4/D,YAjBvB,8BA2BnB,OALAr+D,EAAMs+D,QAAUvM,EAAKpmB,OACjB3rC,EAAMs+D,UACRt+D,EAAMu+D,gBAAkB77D,KAAK87D,aAAax+D,EAAMs+D,UAG3Ct+D,I,6BAGT,SAAgBa,GAEd,OAAIA,EAAIgoD,OACN,CAAQhoD,EAAIs8D,YAAZ,YAA2Bz6D,KAAK+7D,gBAAgB59D,EAAIgoD,UAG/C,CAAChoD,EAAIs8D,c,sCAGd,SAA0BuB,GAGxB,OAF4BjP,GAAeiP,IAAiBh8D,KAAK06D,gBAAgBsB,K,6BAKnF,YAAiE,IAkBpC,EAlBX3M,EAA+C,EAA/CA,KAAM4M,EAAyC,EAAzCA,QAASC,EAAgC,EAAhCA,sBAAuB5+D,EAAS,EAATA,MAClDL,EAAW,MAIX+C,KAAK6rD,SAASoQ,IAChBh/D,EAAW+C,KAAK6rD,SAASoQ,IAChBE,QAAQ7+D,IAGjBL,EAAW,IAAIi/D,EAAsBl8D,KAAM1C,GAE3C0C,KAAK6rD,SAASoQ,GAAWh/D,EAASsJ,IAAMtJ,EAExCA,EAASg+D,UAIPh+D,EAASm/D,eACX,UAAAn/D,EAASuyD,WAAT,SAAc6M,SAASp/D,EAASm/D,cAChC/M,EAAKtH,UAELsH,EAAKjrD,QAAQnH,EAASuyD,O,0BAW1B,SAAavmB,GAA6B,WAAvBqzB,EAAuB,uDAAJ,GACpC,OAAOtP,GAAI7wD,OAAO,OAAO8sC,KAAKA,GAAM4iB,WAAWj4C,KAAI,SAAAy7C,GACjD,OAAO,EAAKkN,kBAAkBlN,MAC7BjtD,QAAO,SAAA+mC,GAAE,OAAgC,IAA5BmzB,EAAiB/+D,QAAsB++D,EAAiB7X,SAAStb,EAAGqzB,e,+BAStF,SAAmBnN,GAEjB,IAAMmN,EAAWnN,EAAKnC,KAtTR,YAuTRgP,EAAwBl8D,KAAKy8D,yBAAyBD,GAE5D,GAAIN,EAAuB,CACzB,IAAI5+D,EAAQ0C,KAAK08D,cAAcrN,GAG3B4M,EAAU5M,EAAKnC,KAhUE,OAkUrB,MAAO,CACLmC,OACAmN,WACAl/D,QACA2+D,UACAC,yBAGF,MAAO,CACLS,SAAS,EACTtN,U,gCAUN,SAAmBG,GAAK,WAEhB3D,EAAW,GAOjB,OANc2D,EAAI+L,GAAGrB,IAEbvmD,SAAQ,SAAA07C,GACdxD,EAAS7pD,KAAK,EAAKu6D,kBAAkBlN,OAGhCxD,I,4BAGT,WAAiB,WACT2D,EAAMxvD,KAAKwvD,IAEKxvD,KAAK48D,mBAAmBpN,GAEhC77C,SAAQ,SAAAkpD,GAChBA,EAAKF,QACPE,EAAKxN,KAAKtH,SAEV,EAAK+U,gBAAgBD,MAIzB50B,GAAQjoC,KAAK6rD,UAAU,SAACzvD,EAAK+B,GACvBA,GAAOA,EAAI4+D,gBACN,EAAKlR,SAASzvD,Q,mBAK3B,WACE,GAAI4D,KAAKwvD,MAAQxvD,KAAKwvD,IAAIlG,YASxB,OAPArhB,GAAQjoC,KAAK6rD,UAAU,SAACzvD,EAAK0sD,GAC3BA,EAAMiU,WAGR/8D,KAAKm1D,UAELn1D,KAAKwvD,IAAM,MACJ,I,qBAOX,WACExvD,KAAK66D,S,wBAGP,WAEE76D,KAAKg9D,YAAY,cAEjBh9D,KAAKo5D,WAELp5D,KAAKi9D,mB,mCAGP,qDAAA3nD,EAAA,qEAAcrV,EAAd,yBAAcA,EAAd,eACOD,KAAKk9D,eACRl9D,KAAKk9D,aAAel9D,KAAKs1D,YAAY92B,IAIjC2+B,EAAmBn9D,KAAKk9D,aAAa96D,QAAO,SAAAo3D,GAC9C,IAAMK,EAASL,EAAaj2D,MAAM07B,GAAgB,GACvB17B,MAAM+6B,GACN1qB,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAAQ,GAChD,OAAKpE,EAAK1C,QACH0C,EAAK2hB,QAAQi4C,IAAW,KAXrC,SAgBQsD,EAAiBxpD,QAAjB,+BAAyB,WAAO6lD,GAAP,6BAAAlkD,EAAA,yDACzB8nD,EAAa5D,EAAaj2D,MAAM07B,GAAgB,GADvB,EAEFm+B,EAAW75D,MAAM+6B,GAAiB1qB,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAF7C,UAExBw1D,EAFwB,KAI7BwD,GAFgBA,EAFa,YAIXzpD,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAEzBi5D,EAAY9U,QAAQ6U,EAAQj7D,QAAO,SAAA+mC,GAAE,OAAInI,GAAQyjB,SAAStb,MAAK5rC,SAEjE,EAAK05D,KAAK4C,GARe,iCASH,EAAKL,GAAcr5D,MAAM,EAAMF,GAT5B,OASvBs9D,EATuB,OAWvBr8D,MAAMC,QAAQo8D,KAChBA,EAAcA,EAAYr7D,KAAK,KAI3B2sD,EAAW,EAAKuM,cAAcnyB,GAAnB,uBAA0Bs0B,IAAe,GACtDD,EACF,EAAKrG,KAAK4C,GAAQ2D,SAAS3O,GAE3B,EAAKoI,KAAK4C,GAAQ5wB,KAAK4lB,GApBE,4CAAzB,uDAhBR,OA0CE7uD,KAAKy9D,aA1CP,gD,sEA8CA,WAAmC,QAAvBjZ,EAAuB,uDAAhB,MAAgB,mBAANvkD,EAAM,iCAANA,EAAM,kBACjCD,KAAKq6D,SAAS1mD,SAAQ,SAAA4I,GAAC,OAAIA,EAAEioC,GAAF,MAAAjoC,EAAWtc,Q,sBAGxC,WAAmB,2BAANA,EAAM,yBAANA,EAAM,gBACjBD,KAAKg9D,YAAL,MAAAh9D,KAAA,CAAiB,QAAjB,OAA4BC,M,sBAI9B,WACE,sB,0BAGF,SAAayM,GACN+7B,GAAW/7B,IAEhBu7B,GAAQjoC,KAAK6rD,UAAU,SAACl8B,EAAG+tC,GACzBhxD,EAASgxD,Q,sBAIb,WACE,IAAIC,EAAU39D,KAAKwvD,IAAIrJ,SACvBnmD,KAAKm1D,UACLn1D,KAAKi7D,OAAO0C,K,qBAQd,WACE39D,KAAK49D,cAAa,SAAAC,GAChBA,EAAe1I,aAGjBn1D,KAAKg9D,YAAY,WACbh9D,KAAKwvD,KACPxvD,KAAKwvD,IAAIzH,SAGX/nD,KAAKwvD,IAAM,KACXxvD,KAAKi3D,KAAO,GACZj3D,KAAK6rD,SAAW,K,0BASlB,WAQE,OANK7rD,KAAK89D,qBACR99D,KAAK89D,mBlBzgBJ,SAAsB3jE,GAAyB,IAAnB4jE,EAAmB,uDAAJ,GAE1CphE,EAAIxC,EACJ+uC,EAAU,GACd,EAAG,CACC,IAAMX,EAAW5rC,aAAapB,OAE9B,IAAiB,IAAbgtC,EACA,MAGJ,IAAMy1B,EAAQziE,OAAO0iE,oBAAoBthE,GAAGyF,QAAO,SAAAhH,GAC/C,OAAOjB,GAAQsuC,GAAWtuC,EAAKiB,MAAW2iE,EAAa3iE,MAG3D8tC,EAAQlnC,KAAK7B,MAAM+oC,EAAS80B,SACvBrhE,EAAIpB,OAAOwB,eAAeJ,IAGnC,OAAOusC,EkBsfqBg1B,CAAal+D,MAAM,SAAC5E,GAC5C,OAAsC,IAA/BA,EAAKwmB,QAAQwc,OAIjBp+B,KAAK89D,qB,yBAGd,SAAYK,GACV,OAAOn+D,KAAKk+D,eAAe97D,QAAO,SAAAhG,GAChC,OAAOA,EAAIqH,MAAM06D,Q,kBAMrB,SAAK9wD,GACH,OAAOA,GAAKA,EAAEipD,KAAOjpD,EAAEipD,IAAI5R,GAAGr3C,EAAEhQ,U,sBAElC,SAASgQ,GACP,OAAOA,EAAE+wD,S,uBAEX,SAAU/wD,GACR,OAAOA,EAAEgxD,U,wBAEX,SAAWhxD,GACT,OAAOA,EAAE04B,W,uBAEX,SAAU14B,GACR,OAAOA,EAAEixD,SAAoB,QAATjxD,EAAEjR,KAAiBiR,EAAErK,KAAK4e,QAAQ,SAAW,I,+BAEnE,SAAkBvU,GAChB,OAAqB,IAAdA,EAAEkxD,U,gCAGX,SAAmBlxD,GACjB,OAAqB,IAAdA,EAAEkxD,U,sBAGX,SAASlxD,GACP,MAAyB,UAAlBA,EAAEuf,c,sBAGX,SAASvf,GACP,MAAyB,UAAlBA,EAAEuf,c,oBAGX,SAAOvf,GACL,MAAyB,QAAlBA,EAAEuf,c,4BAOX,SAAevf,GAEb,OADAA,EAAEmxD,kBACK,I,6BAGT,SAAgBnxD,GAEd,OADAA,EAAEoxD,mBACK,M,KCvkBUC,G,WACnB,WAAYC,GAAQ,uBAClB3+D,KAAKuG,GAAK+6C,KACVthD,KAAK4+D,eAAiB,GACtB5+D,KAAK6+D,UAAY,GACjB7+D,KAAK2+D,OAASA,EACd3+D,KAAK8+D,aAAe,IAAI3Z,MAAMnlD,KAAM,CAClCtE,IAAK,SAAC2B,EAAQjB,GACZ,OAAO,EAAK2iE,iBAAiB3iE,M,wCAKnC,SAAa4iE,GAKX,OAJKh/D,KAAK6+D,UAAUG,KAClBh/D,KAAK6+D,UAAUG,GAAS,IAGnBh/D,KAAK6+D,UAAUG,K,0BAGxB,SAAaA,GAAkB,IAAXt0D,EAAW,uDAAJ,GACzB1K,KAAK6+D,UAAUG,GAASt0D,I,mBAG1B,c,gBAoBA,SAAGs0D,EAAOC,EAAkBtqC,GAAwH,WAA/GuqC,EAA+G,uDAA/F,EAAGC,EAA4F,uDAA5E,EAAGC,EAAyE,wDAA/CC,EAA+C,wDAApB9I,EAAoB,uDAAJ,GAC1I7pD,EAAWuyD,EAaf,OAXIC,EAAgB,EAAGxyD,EAAW26B,GAAS43B,EAAkBC,GACpDC,EAAgB,IAAGzyD,EAAWk7B,GAASq3B,EAAkBE,IAE9D5I,EAAch5D,SAChBmP,EAAWm7B,GAAQn7B,EAAUioB,EAAS4hC,IAGxCv2D,KAAKs/D,aAAaN,GAAOh9D,KAAK,CAAEg9D,QAAOtyD,WAAUioB,UAASsqC,mBAAkBG,mBAAkBC,sBAE9Fr/D,KAAKma,MAAM,oBAAqB6kD,EAAOrqC,EAAQ8lC,YAExC,WACL,EAAK3rD,IAAIkwD,EAAOC,M,iBAUpB,SAAID,EAAOC,GAETj/D,KAAKma,MAAM,oBAAqB6kD,GAER,GAApB9+D,UAAU3C,OACZyC,KAAKu/D,aAAaP,GACW,GAApB9+D,UAAU3C,QACnByC,KAAKu/D,aAAaP,EAAOh/D,KAAKs/D,aAAaN,GAAO58D,QAAO,SAAA6N,GACvD,OAAOA,EAAEgvD,mBAAqBA,Q,oBAKpC,SAAOtqC,GAAS,WAEdp5B,OAAOuI,KAAK9D,KAAK6+D,WAAWlrD,SAAQ,SAAAqrD,GAClC,EAAKO,aAAaP,EAAO,EAAKM,aAAaN,GAAO58D,QAAO,SAAA6N,GACvD,OAAOA,EAAE0kB,UAAYA,SAGzB30B,KAAKma,MAAM,kBAAmBwa,EAAQ8lC,c,gCAGxC,SAAmBuE,GACjB,OAAOh/D,KAAKs/D,aAAaN,K,mBAQ3B,WACE,OAAOh/D,KAAK8+D,e,aAGd,WACE,OAAO9+D,KAAKw/D,U,8BA0Bd,SAAiBR,GAEf,IAAIt0D,EAAO1K,KAAKy/D,mBAAmBT,GAC7B1gB,EAASt+C,KAAKs+C,OAEpB,OAAO,sCAAIr+C,EAAJ,yBAAIA,EAAJ,uBAAaJ,QAAQ6/D,IAC1Bh1D,EAAKtI,QAAO,SAAA6N,GACV,OAAQA,EAAEovD,qBACTj9D,QAAO,SAAA6N,GACR,OAAOA,EAAEmvD,kBAAoBnvD,EAAEgvD,iBAAiB3gB,SAAWA,KAC1D1qC,KAAI,SAAA3D,GACL,OAAO,IAAIpQ,SAAQ,SAACR,EAASC,GAC3BD,EAAQ4Q,EAAEvD,SAASvM,MAAM8P,EAAE0kB,QAAS10B,c,yBAM5C,SAAYq+C,EAAQ0gB,GAAgB,kCAAN/+D,EAAM,iCAANA,EAAM,kBAClCJ,QAAQR,UAAUS,MAAK,WACrB,IAAI4K,EAAO,EAAK+0D,mBAAmBT,GACnC,GAAIt0D,EAEF,IAAK,IAAI7P,EAAI,EAAGwR,EAAM3B,EAAKnN,OAAQ1C,EAAIwR,EAAKxR,IAAK,CAC/C,IAAMoV,EAAIvF,EAAK7P,GAEXoV,EAAEovD,oBAEFpvD,EAAEmvD,kBAAoBnvD,EAAEgvD,iBAAiB3gB,SAAWA,IACtDruC,EAAEvD,SAASvM,MAAM8P,EAAE0kB,QAAS10B,S,6BAOtC,SAAgBq+C,EAAQ5xC,GAAmB,2BAANzM,EAAM,iCAANA,EAAM,kBACzCJ,QAAQR,UAAUS,MAAK,WACrB4M,EAAQ,WAAR,EAAYzM,Q,4BAIhB,SAAeq+C,EAAQ0gB,GAEnB,IAAIt0D,EAAO1K,KAAKy/D,mBAAmBT,GAEnC,GAAIt0D,EAAM,4BAJmBzK,EAInB,iCAJmBA,EAInB,kBACR,IAAK,IAAIpF,EAAI,EAAGwR,EAAM3B,EAAKnN,OAAQ1C,EAAIwR,EAAKxR,IAAK,CAC/C,IAAMoV,EAAIvF,EAAK7P,GACXoV,EAAEgvD,iBAAiB3gB,SAAWA,GAChCruC,EAAEvD,SAASvM,MAAM8P,EAAE0kB,QAAS10B,SAIhCyd,QAAQ8D,KAAKw9C,EAAO,yB,kBAO1B,SAAKA,GAAgB,2BAAN/+D,EAAM,iCAANA,EAAM,kBAEfwoC,GAAWu2B,GACbA,EAAK,WAAL,EAAS/+D,GAETD,KAAK2/D,YAAL,MAAA3/D,KAAA,CAAiBA,KAAKs+C,OAAQ0gB,GAA9B,OAAwC/+D,M,sBAU5C,SAASyM,GACP1M,KAAK4/D,gBAAgB5/D,KAAKs+C,OAAQ5xC,K,qBAGpC,SAAQsyD,GAAgB,2BAAN/+D,EAAM,iCAANA,EAAM,kBAElBwoC,GAAWu2B,GACbA,EAAK,WAAL,EAAS/+D,GAETD,KAAK6/D,eAAL,MAAA7/D,KAAA,CAAoBA,KAAKs+C,OAAQ0gB,GAAjC,OAA2C/+D,Q,KC/NlC,IACX6/D,KCLW,CACXC,UAAW,IACXC,cAAe,IACfC,YAAa,IACbC,gBAAiB,IACjBC,yBAA0B,UAC1BC,oBAAqB,MACrBC,+BAAgC,SDDhCC,MENW,CACXP,UAAW,IACXC,cAAe,IACfC,YAAa,IACbC,gBAAiB,IACjBC,yBAA0B,QAC1BC,oBAAqB,UACrBC,+BAAgC,Y,+NCP7B,IAAME,GAAb,WACE,WAAY5B,GAAQ,YAClB3+D,KAAKwgE,QAAU7B,EACf3+D,KAAK6X,MAAQ,GACb7X,KAAKygE,SAAW,GAJpB,sCAOE,WACEzgE,KAAK6X,MAAQ,GACb7X,KAAKygE,SAAW,KATpB,4BAYE,SAAgB/zD,GACd,IAAIs7C,EAAUhoD,KAAKwgE,QAAQE,UAAUC,eAEjC3Y,GACFt7C,GAAYA,EAAUs7C,KAhB5B,mBAoBE,WACEhoD,KAAKkzD,WArBT,kBAwBE,SAAMxmD,GACJ1M,KAAK6X,MAAMlE,SAAQ,SAACqF,EAAMrI,GACxBjE,GAAYA,EAASsM,EAAMrI,QA1BjC,0BA8BE,SAAcjG,GAAM,WAClB1K,KAAK6X,MAAQnN,EACb1K,KAAKygE,SAAW,GAEhBzgE,KAAK6X,MAAMlE,SAAQ,SAAAw1B,GACjB,EAAKs3B,SAASt3B,EAAG5iC,IAAM4iC,OAnC7B,wBAuCE,WACE,OAAOnpC,KAAK6X,MAAMjE,KAAI,SAAAu1B,GACpB,O,mWAAA,IAAWA,QAzCjB,qBA6CE,SAAS5iC,GACP,QAASvG,KAAKygE,SAASl6D,KA9C3B,yBAiDE,SAAaq6D,GAAS,WAEpB5gE,KAAK2gE,gBAAe,SAAA3Y,GAClB,IAAIt9C,EAAOs9C,EAAQ6Y,6BAA6Bz+D,QAAO,SAAA+mC,GACrD,OAAOA,EAAGy3B,UAAYA,KAExB,EAAKE,aAAap2D,QAvDxB,kCA2DE,SAAsBq2D,GAEpB/gE,KAAK2gE,gBAAe,SAAA3Y,GAClBA,EAAQgZ,sBAAsBC,WAAW7+D,QAAO,SAAA+mC,GAC9C,OAAOA,EAAG5iC,KAAOw6D,KAChBptD,SAAQ,SAAAw1B,GACTA,EAAGsf,WAAatf,EAAGsf,kBAjE3B,4BAsEE,SAAgBmY,EAASpkE,GAAU,WACjCwD,KAAK2gE,gBAAe,SAAA3Y,GAClB,IAAIt9C,EAAOs9C,EAAQ6Y,6BAA6Bz+D,QAAO,SAAA+mC,GACrD,OAAOA,EAAGy3B,UAAYA,GAAWz3B,EAAG3sC,WAAaA,KAGnD,EAAKskE,aAAap2D,QA5ExB,oBAgFE,WAAiB,2BAANzK,EAAM,yBAANA,EAAM,gBACfD,KAAK8gE,aAAa7gE,KAjFtB,4BAoFE,SAAgByK,EAAMnC,EAAW24D,GAAS,WACxClhE,KAAK2gE,gBAAe,SAAA3Y,GAElB,IAAImZ,EAAY,GAEhBz2D,EAAKiJ,SAAQ,SAAAw1B,GACX,IAAID,EAAU,GACd,GAAIC,EAAG3sC,SAAU,CAEf,IAAIG,EAAIqrD,EAAQoZ,oBAAoBj4B,EAAGy3B,QAASz3B,EAAG3sC,UAEnD0sC,EAAUvsC,EAAE0kE,UAAUj/D,QAAO,SAAAk/D,GAC3B,OAAO/4D,GAAa+4D,EAAS/I,MAAQ+I,EAAS/I,MAAQ2I,SAEnD,EAEDvkE,EAAIqrD,EAAQuZ,kBAAkBp4B,EAAGy3B,UAEnCY,WAAWp/D,QAAO,SAAA5F,GAClB,OAAOA,EAASA,WAAa2sC,EAAG3sC,YAC/BmX,SAAQ,SAAAnX,GACT0sC,EAAQlnC,KAAK7B,MAAM+oC,EAAS1sC,EAAS6kE,UAAUj/D,QAAO,SAAAk/D,GACpD,OAAO/4D,GAAa+4D,EAAS/I,MAAQ+I,EAAS/I,MAAQ2I,SAK5DC,EAAUn/D,KAAK7B,MAAMghE,EAAWj4B,MAIlC,IAAIu4B,EAAe,GACnBN,EAAUxtD,SAAQ,SAAAw1B,GAChBs4B,EAAat4B,EAAG5iC,IAAM4iC,KAGxB,EAAK+pB,OAAL,QAAI,KAAW33D,OAAOoyB,OAAO8zC,UAxHnC,wBA6HE,SAAYb,GAAS,WACnB,OAAOrlE,OAAOuI,KAAK9D,KAAKygE,UAAU1nD,MAAK,SAAA3c,GACrC,OAAO,EAAKqkE,SAASrkE,GAAKwkE,UAAYA,OA/H5C,2BAmIE,SAAeA,EAASpkE,GAAU,WAChC,OAAOjB,OAAOuI,KAAK9D,KAAKygE,UAAU1nD,MAAK,SAAA3c,GACrC,OAAO,EAAKqkE,SAASrkE,GAAKwkE,UAAYA,GAAW,EAAKH,SAASrkE,GAAKI,WAAaA,SArIvF,KCCMklE,GAA2B,IAAInV,IAExBoV,GAAb,wEAEI,SAAYvlE,GACR,OAAOslE,GAAyBhV,IAAItwD,KAH5C,iBAMI,SAAYA,GACR,OAAOslE,GAAyBhmE,IAAIU,KAP5C,iBAUI,SAAYA,EAAKwlE,GAETF,GAAyBrnD,KAfb,KAgBZqnD,GAAyB9N,QAG7B8N,GAAyBhnD,IAAIte,EAAKwlE,OAhB1C,KCAaC,GAAb,+EAYE,WAAmD,IAAhCC,EAAgC,uDAAd,aAEnC,GAAIH,GAAqBjV,IAAIoV,GAC3B,OAAOH,GAAqBjmE,IAAIomE,GAGlC,IAAMC,EAAUD,EACGz9D,OACAd,MAAM,KACNnB,QAAO,SAAA+mC,GAAE,OAAIA,EAAG9kC,UAE/B29D,EAAwB,KAU5B,OAPEA,EADqB,IAAnBD,EAAQxkE,OACc,CAACwkE,EAAQ,GAAIA,EAAQ,IAAInuD,KAAI,SAAAu1B,GAAE,OAAIwZ,GAAO19C,MAAMkkC,MAEhD44B,EAAQnuD,KAAI,SAAAu1B,GAAE,OAAIwZ,GAAO19C,MAAMkkC,MAGzDw4B,GAAqBjnD,IAAIonD,EAAiBE,GAEnCA,IAjCX,mBAoCE,SAAcF,EAAiBriD,EAAOqiC,GACpC,IAAIkgB,EAAwBH,EAAgBI,WAAWH,GAMvD,MAAO,CAJSE,EAAsB,GAAG7e,KAAK1jC,GAAO3jB,MACrCkmE,EAAsB,GAAG7e,KAAKrB,GAAQhmD,MACtCkmE,EAAsB,GAAGlmE,SAzC7C,kBA8CE,SAAagmE,EAAiBriD,EAAOqiC,GAAsB,IAAdjE,EAAc,uDAAH,EACtD,EAIIgkB,EAAgBI,WAAWH,GAJ/B,YACEI,EADF,KAEEC,EAFF,KAGEC,EAHF,KAUA,OAJAF,EAAmBA,EAAiB/e,KAAK1jC,GACzC0iD,EAAmBA,EAAiBhf,KAAKrB,GACzCsgB,EAAmBA,EAAiBjf,KAAKtF,GAEzC,UAAUqkB,EAAV,YAA8BC,EAA9B,YAAkDC,OAzDtD,KCuLO,SAASC,GAAWnqD,EAAIw8B,EAAIpG,EAAIC,EAAIoV,EAAI2e,GAAkB,IAAdvhD,EAAc,uDAAL,GAClDwhD,EAAQtxD,KAAKqH,MAAMqrC,EAAKzrC,EAAIoqD,EAAK5tB,GACjC8tB,EAAQvxD,KAAKqH,MAAMqrC,EAAKrV,EAAIg0B,EAAK/zB,GAEjCk0B,EAAaxxD,KAAKqH,MAAMJ,EAAKo2B,EAAIoG,EAAKnG,GAEtCm0B,EAAWH,EAAQC,EAEzB,OAAOE,GAAYD,EAAa1hD,GAAU2hD,GAAYD,EAAa1hD,EA6DhE,SAAS4hD,GAAUzqD,EAAIw8B,EAAIpG,EAAIC,EAAIq0B,EAAIC,EAAIC,EAAIC,GAGlD,GAAIV,GAAUnqD,EAAIw8B,EAAIpG,EAAIC,EAAIq0B,EAAIC,GAAK,OAAO,EACzC,GAAIR,GAAUnqD,EAAIw8B,EAAIpG,EAAIC,EAAIu0B,EAAIC,GAAK,OAAO,EAC9C,GAAIV,GAAUO,EAAIC,EAAIC,EAAIC,EAAI7qD,EAAIw8B,GAAK,MAAO,CAACx8B,EAAIw8B,GACnD,GAAI2tB,GAAUO,EAAIC,EAAIC,EAAIC,EAAIz0B,EAAIC,GAAK,MAAO,CAACD,EAAIC,GAIxD,IAAIl5B,IAAMytD,EAAKF,IAAOluB,EAAKmuB,IAAOE,EAAKF,IAAK3qD,EAAK0qD,MAAUG,EAAGF,IAAOv0B,EAAGp2B,IAAO4qD,EAAGF,IAAOr0B,EAAKmG,IAC1FjxB,IAAM6qB,EAAKp2B,IAAOw8B,EAAKmuB,IAAOt0B,EAAKmG,IAAKx8B,EAAK0qD,MAAUG,EAAGF,IAAOv0B,EAAGp2B,IAAO4qD,EAAGF,IAAOr0B,EAAKmG,IAE9F,OAAQ,GAAKr/B,GAAKA,GAAK,GAAK,GAAKoO,GAAKA,GAAK,EAoGxC,SAASu/C,KAKZ,IAL6C,IAAtB9kB,EAAsB,uDAAZ,GAAIyF,EAAQ,uCAAJ2e,EAAI,uCACzCW,GAAc,EAEZ52D,EAAM6xC,EAAQ3gD,OAEX1C,EAAI,EAAGA,EAAIwR,EAAKxR,IAAK,CAC1B,IAAMqoE,EAAKhlB,EAAQrjD,GACbsoE,EAAKjlB,GAASrjD,EAAI,GAAKwR,GAE7B,GAAIg2D,GAAUa,EAAG,GAAIA,EAAG,GAAIC,EAAG,GAAIA,EAAG,GAAIxf,EAAI2e,GAAK,CAC/CW,GAAc,EACd,OAIR,QAAIA,IAEJ/kB,EAAQvqC,SAAQ,SAACyvD,EAAQzyD,GACrB,WAAiByyD,EAAjB,GAAO3nB,EAAP,KAAWC,EAAX,KACA,OAAiBwC,GAASvtC,EAAM,GAAGtE,GAAnC,GAAOg3D,EAAP,KAAWC,EAAX,MAGM5nB,GAAM4mB,GAAMgB,EAAKhB,GAAQ5mB,EAAK4mB,GAAMgB,GAAMhB,IAC1C3e,GAAQ0f,EAAK5nB,IAAO6mB,EAAK5mB,IAAO4nB,EAAK5nB,GAAOD,IAE9CwnB,GAAeA,MAKhBA,GAyCJ,SAASM,KAAuC,IAA9BrlB,EAA8B,uDAApB,GAAIhmC,EAAgB,uCAAZw8B,EAAY,uCAARpG,EAAQ,uCAAJC,EAAI,uCAC7CliC,EAAM6xC,EAAQ3gD,OACpB,OAAO2gD,EAAQnlC,MAAK,SAACqqD,EAAQzyD,GACzB,WAAiByyD,EAAjB,GAAOR,EAAP,KAAWC,EAAX,KACA,OAAiB3kB,GAASvtC,EAAM,GAAGtE,GAAnC,GAAOy2D,EAAP,KAAWC,EAAX,KAEA,OAAOJ,GAASzqD,EAAIw8B,EAAIpG,EAAIC,EAAIq0B,EAAIC,EAAIC,EAAIC,MA4B7C,SAASS,KAA4C,IAAlCtlB,EAAkC,uDAAxB,GAAIS,EAAoB,uDAAJ,GAC9CtyC,EAAM6xC,EAAQ3gD,OACpB,OAAO2gD,EAAQnlC,MAAK,SAACqqD,EAAQzyD,GACzB,WAAiByyD,EAAjB,GAAOlrD,EAAP,KAAWw8B,EAAX,KACA,OAAiBwJ,GAASvtC,EAAM,GAAGtE,GAAnC,GAAOiiC,EAAP,KAAWC,EAAX,KAEIk1B,EAAYF,GAAS5kB,EAAezmC,EAAIw8B,EAAIpG,EAAIC,GACpD,QAAIk1B,MAGJA,EAAYT,GAAU9kB,EAASS,EAAc,GAAG,GAAIA,EAAc,GAAG,QAmBtE,SAAS+kB,GAAehjE,EAAGwgB,EAAGzB,EAAOqiC,GAAgC,IAAxBrB,EAAwB,uDAAf,cAEnDlM,EAASstB,GAAgBlsB,MAAO8K,EAAShhC,EAAQqiC,GAEvD,MAAO,CACH,CAACphD,EAAGwgB,EAAG,GACP,CAACxgB,EAAI+e,EAAOyB,EAAG,GACf,CAACxgB,EAAI+e,EAAOyB,EAAI4gC,EAAQ,GACxB,CAACphD,EAAGwgB,EAAI4gC,EAAQ,GAChB,CAACphD,EAAI6zC,EAAO,GAAIrzB,EAAIqzB,EAAO,GAAI,IAIhC,SAASovB,GAAiBzlB,GAAmB,IAAVhrC,EAAU,uDAAH,EACvC0wD,EAAa5lB,EAAKnG,KAAK,GAAIqG,EAAQ,GAAIA,EAAQ,GAAI,IACnD2lB,EAAgB7lB,EAAKnG,KAAK,GAAIqG,EAAQ,GAAIA,EAAQ,GAAI,IACtD4lB,EAAgBhmB,GAAuB+lB,EAAeD,EAAY1wD,GAExE,OAAO4wD,EAOJ,SAASC,KAAgC,IAAZlsD,EAAY,uDAAJ,GACpCgoC,EAAON,OAAOI,iBACdM,EAAOV,OAAOI,iBACdG,EAAOP,OAAOC,iBACdU,EAAOX,OAAOC,iBAEZwkB,EAAQ,GACRC,EAAQ,GAmBd,OAjBApsD,EAAMlE,SAAQ,SAAAqF,GACVA,EAAKkrD,cAAcvwD,SAAQ,SAAAyvD,GACvBY,EAAMhiE,KAAKohE,EAAO,IAClBa,EAAMjiE,KAAKohE,EAAO,UAI1BvjB,EAAO5uC,KAAKC,IAAI/Q,MAAM8Q,KAAM+yD,GAC5BlkB,EAAO7uC,KAAKypB,IAAIv6B,MAAM8Q,KAAM+yD,GAC5B/jB,EAAOhvC,KAAKC,IAAI/Q,MAAM8Q,KAAMgzD,GAC5B/jB,EAAOjvC,KAAKypB,IAAIv6B,MAAM8Q,KAAMgzD,GAExBpkB,IAASN,OAAOI,mBAAkBE,EAAO,GACzCI,IAASV,OAAOI,mBAAkBM,EAAO,GACzCH,IAASP,OAAOC,mBAAkBM,EAAO,GACzCI,IAASX,OAAOC,mBAAkBU,EAAO,GAEtCwjB,GAAc7jB,EAAMI,EAAMH,EAAOD,EAAMK,EAAOD,GAUlD,SAASkkB,GAAoBjmB,GAA2B,IAAlBkmB,IAAkB,yDAE3D,GAAIA,EAAW,CACX,IAAM1jE,EAAIiiD,GAAOgB,GAAGzF,EAAQ,GAAG,IAAIppC,QAC7BoM,EAAIyhC,GAAOgB,GAAGzF,EAAQ,GAAG,IAAIppC,QAC7B2K,EAAQkjC,GAAOgB,GAAG3F,EAAK9qC,KAAKgrC,EAAQ,GAAIA,EAAQ,KAAKppC,QACrDgtC,EAASa,GAAOgB,GAAG3F,EAAK9qC,KAAKgrC,EAAQ,GAAIA,EAAQ,KAAKppC,QAE5D,MAAO,CAACpU,IAAG4xC,KAAM5xC,EAAGwgB,IAAGuxB,IAAKvxB,EAAGzB,QAAOqiC,UAEtC,IAAMphD,EAAIw9C,EAAQ,GAAG,GACfh9B,EAAIg9B,EAAQ,GAAG,GACfz+B,EAAQu+B,EAAK9qC,KAAKgrC,EAAQ,GAAIA,EAAQ,IACtC4D,EAAS9D,EAAK9qC,KAAKgrC,EAAQ,GAAIA,EAAQ,IAE7C,MAAO,CAACx9C,IAAG4xC,KAAM5xC,EAAGwgB,IAAGuxB,IAAKvxB,EAAGzB,QAAOqiC,UAIvC,SAASuiB,GAAqCnmB,GACjD,OAAOomB,GAAcpmB,GAAS97C,QAAO,SAAC+mC,EAAIx4B,GACtC,OAAOA,EAAQ,KAIhB,SAAS2zD,GAAcpmB,GAC1B,IAAI2B,EAAON,OAAOI,iBACdM,EAAOV,OAAOI,iBACdG,EAAOP,OAAOC,iBACdU,EAAOX,OAAOC,iBAEZwkB,EAAQ,GACRC,EAAQ,GAkBd,OAfA/lB,EAAQvqC,SAAQ,SAAAyvD,GACZY,EAAMhiE,KAAKohE,EAAO,IAClBa,EAAMjiE,KAAKohE,EAAO,OAGtBvjB,EAAO5uC,KAAKC,IAAI/Q,MAAM8Q,KAAM+yD,GAC5BlkB,EAAO7uC,KAAKypB,IAAIv6B,MAAM8Q,KAAM+yD,GAC5B/jB,EAAOhvC,KAAKC,IAAI/Q,MAAM8Q,KAAMgzD,GAC5B/jB,EAAOjvC,KAAKypB,IAAIv6B,MAAM8Q,KAAMgzD,GAExBpkB,IAASN,OAAOI,mBAAkBE,EAAO,GACzCI,IAASV,OAAOI,mBAAkBM,EAAO,GACzCH,IAASP,OAAOC,mBAAkBM,EAAO,GACzCI,IAASX,OAAOC,mBAAkBU,EAAO,GAEtCwjB,GAAc7jB,EAAMI,EAAMH,EAAOD,EAAMK,EAAOD,GCnmBlD,SAASmE,GAAQmgB,EAAKC,GAEzB,GAAIl8B,GAASk8B,GAAW,CACpB,MAAoCA,EAASjhE,MAAM,KAAnD,YAAKkhE,EAAL,KAAWC,EAAX,KAAmBtgB,EAAnB,KAA2BugB,EAA3B,KAOA,OAAc,MALdF,EAAOngE,SAASmgE,EAAM,KAMN,IALhBC,EAASpgE,SAASogE,EAAQ,MAC1BtgB,EAAS9/C,SAAS8/C,EAAQ,MAC1BugB,EAAQrgE,SAASqgE,EAAO,MAKR,EAAEJ,GACf,OAAK/7B,GAASg8B,GACVA,EAAWD,EAGf,EAOJ,SAASC,GAASD,EAAKK,GAC1B,IAAIroD,EAAItL,KAAK6D,MAAM8vD,EAAU,MACzB3pE,EAAIgW,KAAK6D,MAAM8vD,EAAQ,GAAK,IAC5BhoE,EAAIqU,KAAK6D,MAAM8vD,EAAU,IACzB30D,EAAIgB,KAAKqmC,OAAQstB,EAAU3zD,KAAK6D,MAAM8vD,IAAYL,GActD,OAZIt0D,IAAMs0D,IACNt0D,EAAI,EAEM,MADVrT,GAAK,IAIS,MAFV3B,GAAK,KAGDshB,GAAK,IAKV,CAACA,EAAGthB,EAAG2B,EAAGqT,GAAG2D,KAAI,SAAA7X,GACpB,OAAQA,EAAI,IAAI8oE,SAAS,EAAG,QAC7B3iE,KAAK,KAOL,SAAS4iE,GAAiBP,EAAKQ,GAAsB,IAAd19D,EAAc,uDAAN,KAClD,OAAOm9D,GAASD,EAAKngB,GAAOmgB,EAAKQ,GAAU3gB,GAAOmgB,EAAKl9D,IAQpD,SAAS29D,GAAW5K,GAEvB,IAAI6K,EAAQ,CACR1+D,GAAI,EACJc,MAAO,EACP69D,MAAO9K,EAAI8K,OAAS,EACpBC,QAAS/K,EAAI+K,SAAW,EACxBC,SAAUhL,EAAIgL,UAAY,EAC1BC,oBAAqB,EACrBC,eAAgBlL,EAAIkL,gBAAkB/lB,OAAOI,iBAC7C4lB,UAAWnL,EAAImL,WAAa,SAC5BhkD,IAAK,GACLikD,SAAU,EACVC,KAAMrL,EAAIqL,MAAS,aACnBC,cAAetL,EAAI/yD,OAAU,aAC7Bs+D,YAAavL,EAAItpD,KAAQ,aACzB80D,cAAexL,EAAIyL,OAAU,aAC7BC,aAAc1L,EAAIvqD,MAAS,cAgBzBk2D,EAAwB,SAACC,GAC3B,MAbwB,WAApBf,EAAMM,WAEqB,YAApBN,EAAMM,YAEc,cAApBN,EAAMM,UACNN,EAAMI,oBAAsB,GAAM,EACd,sBAApBJ,EAAMM,UACNN,EAAMI,oBAAsB,GAAM,OADtC,GAOcW,EAAO,EAAIA,GAG9BP,EAAO,SAAC1f,GAEV,IAAIkgB,GAAU,EACM,OAAhBhB,EAAM59D,QACN49D,EAAM59D,MAAQ0+C,EAEdkgB,GAAU,GAGd,IAAMxrC,EAAKsrB,EAAMkf,EAAM59D,MAEvB49D,EAAME,SAAW1qC,EAAKwqC,EAAMC,MAE5BD,EAAM59D,MAAQ0+C,EAEVkf,EAAME,QAAUF,EAAMG,WACtBH,EAAME,QAAUF,EAAMG,UAK1B,IAAID,EAAUY,EAAsBd,EAAME,QAAQF,EAAMG,UAAYH,EAAMG,SACtEa,GAAShB,EAAMS,cAAcP,EAASF,GAC1CA,EAAM1jD,IAAI0jD,EAAMO,YAAc,CAACL,UAAS1qC,GAAIwqC,EAAMiB,SAAWf,GAC7DF,EAAMiB,SAAWf,EACjBF,EAAMQ,KAAMN,EAASF,GAEjBA,EAAME,UAAYF,EAAMG,SACxBt0D,IAEAq1D,KAIFA,EAAa,WACflB,EAAM1+D,GAAK6/D,sBAAsBX,IAG/B30D,EAAM,WACRm0D,EAAMU,YAAYV,EAAME,QAASF,GACjCA,EAAMI,sBAEFJ,EAAMI,oBAAsBJ,EAAMK,gBAClCL,EAAMa,aAAab,EAAME,QAASF,GAClCoB,qBAAqBpB,EAAM1+D,MAG5B0+D,EAAM59D,MAAQ,KACd49D,EAAME,QAAU,EAChBgB,MAiCDG,EAAO,SAACvqE,GACVkpE,EAAME,QAAUppE,EAChBkpE,EAAMQ,KAAMR,EAAME,QAASF,IAW/B,MAAO,CACHsB,KA3CS,WAAc,IAAbnM,EAAa,uDAAP,GAChB6K,EAAM59D,MAAQ,KACd49D,EAAMI,oBAAsB,EAC5BJ,EAAM1jD,IAAM,GACZ0jD,EAAMiB,SAAW,EACjBjB,EAAMO,SAAW,EAEbh9B,GAAS4xB,EAAI+K,WAAUF,EAAME,QAAU/K,EAAI+K,SAC3C38B,GAAS4xB,EAAI8K,SAAQD,EAAMC,MAAQ9K,EAAI8K,OACvC18B,GAAS4xB,EAAIgL,YAAWH,EAAMG,SAAWhL,EAAIgL,UAC7C58B,GAAS4xB,EAAIkL,kBAAiBL,EAAMK,eAAiBlL,EAAIkL,gBAAmB/lB,OAAOI,kBACnFrX,GAAS8xB,EAAImL,aAAYN,EAAMM,UAAYnL,EAAImL,WAC/C98B,GAAW2xB,EAAIqL,QAAOR,EAAMQ,KAAOrL,EAAIqL,MACvCh9B,GAAW2xB,EAAI/yD,SAAQ49D,EAAMS,cAAgBtL,EAAI/yD,OACjDohC,GAAW2xB,EAAItpD,OAAMm0D,EAAMU,YAAcvL,EAAItpD,KAC7C23B,GAAW2xB,EAAIyL,SAAQZ,EAAMW,cAAgBxL,EAAIyL,OACjDp9B,GAAW2xB,EAAIvqD,QAAOo1D,EAAMa,aAAe1L,EAAIvqD,MAC/C44B,GAAW2xB,EAAIhiC,QAAO6sC,EAAMuB,aAAepM,EAAIhiC,MAEnD6sC,EAAMW,cAAcX,EAAME,QAASF,GACnCkB,KAwBA/tC,KApBS,WACT6sC,EAAMuB,aAAavB,EAAME,QAASF,GAClCoB,qBAAqBpB,EAAM1+D,KAmB3Bk/D,OACAI,MAZU,SAAC9pE,GACXuqE,EAAK,IAYLz2D,KATS,SAAC9T,GACVuqE,EAAKrB,EAAMG,WASXkB,OACArB,SCtMD,IAAMwB,GAAmB,CAC5B,QAAU,EACV,MAAQ,EACR,WAAW,EACX,YAAY,EACZ,eAAe,GAGNC,GAAY,CACrB,KAAS,mCACT,UAAY,8BACZ,WAAa,+BAGJC,GAAa,CACtB,CAAE,EAAG,EAAG,EAAG,EAAG,UAAU,GACxB,CAAE,IAAM,GAAK,IAAM,EAAG,QAAQ,GAC9B,CAAE,IAAM,EAAG,EAAG,EAAG,WAAW,GAC5B,CAAE,EAAG,EAAG,IAAM,EAAG,YAAY,GAC7B,CAAG,IAAM,EAAG,KAAO,KAAQ,gBAC3B,CAAG,IAAM,KAAO,KAAO,EAAI,iBAC3B,CAAG,KAAO,IAAM,IAAM,IAAO,oBAC7B,CAAG,IAAM,KAAO,IAAM,IAAO,gBAC7B,CAAG,IAAM,IAAM,IAAM,IAAO,iBAC5B,CAAG,KAAO,IAAM,KAAO,KAAQ,oBAC/B,CAAE,IAAM,KAAO,KAAO,IAAM,iBAC5B,CAAE,KAAO,IAAM,KAAO,EAAG,kBACzB,CAAE,KAAO,KAAO,KAAO,EAAG,qBAC1B,CAAE,KAAO,IAAM,KAAO,IAAM,iBAC5B,CAAE,KAAO,IAAM,IAAM,EAAG,kBACxB,CAAE,IAAM,EAAG,KAAO,EAAG,qBACrB,CAAC,GAAK,IAAM,IAAM,KAAO,gBACzB,CAAC,KAAO,IAAM,KAAO,EAAG,iBACxB,CAAC,KAAM,KAAM,IAAK,IAAM,oBACxB,CAAC,IAAK,IAAK,KAAM,KAAO,gBACxB,CAAC,IAAK,EAAE,IAAK,EAAG,iBAChB,CAAC,EAAE,EAAE,EAAE,EAAG,oBACV,CAAC,KAAM,IAAK,KAAM,IAAM,iBACxB,CAAC,IAAK,EAAE,IAAK,EAAG,kBAChB,CAAC,IAAK,EAAE,IAAK,EAAG,qBAChB,CAAC,IAAK,IAAK,KAAM,KAAO,gBACxB,CAAC,KAAO,KAAM,IAAK,MAAO,iBAC1B,CAAC,KAAM,IAAK,KAAM,KAAM,qBAKfC,GAA2B,SAACzjE,GACrC,YAAW0jE,GAAiBH,GAAUvjE,IAAQA,KAGrC2jE,GAAoB,SAAC/nE,GAC9BA,EAAMA,EAAI6U,KAAI,SAAAu1B,GAAE,OAAIl4B,KAAK6D,MAAW,IAALq0B,GAAU,OAEzC,IAAI,IAAItuC,EAAI,EAAGwR,EAAOs6D,GAAWppE,OAAQ1C,EAAIwR,EAAKxR,IAAK,CACnD,IAAIqa,EAASyxD,GAAW9rE,GAExB,GAAIqa,EAAO,IAAMnW,EAAI,IAAMmW,EAAO,IAAMnW,EAAI,IAAMmW,EAAO,IAAMnW,EAAI,IAAMmW,EAAO,IAAMnW,EAAI,IAAMmW,EAAO,GACnG,OAAOA,EAAO,GAItB,8BAAwBnW,EAAIqD,QAAO,SAACutB,EAAGhf,GAAJ,OAAcA,EAAQ,KAAGzO,KAAK,KAAjE,OAGS2kE,GAAmB,SAAC1jE,GAC7B,GAAkB,iBAAPA,EAAiB,CAExB,GAAIsjE,GAAiBtjE,GACjB,OAAOwjE,GAAWvkE,QAAO,SAAA+mC,GAAE,OAAIA,EAAG,KAAOhmC,KAAK,GAE9C,IAAIpE,EAAMoE,EAAIiB,QAAQ,eAAgB,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIb,MAAM,KAElF,OADAxE,EAAMA,EAAI6U,KAAI,SAAAu1B,GAAE,OAAI+mB,WAAW/mB,EAAG9kC,WAK1C,OAAOlB,GAUE4jE,GAAe,SAACC,EAAIvlB,EAAIC,EAAIulB,GACrC,IAAI90D,EAAS,CAAC60D,EAAIvlB,EAAIC,EAAIulB,GAC1B,OAAO,SAAUlrE,GACb,OAAOmrE,GAAkB/0D,EAAQpW,KAI5BorE,GAAoB,SAACH,EAAIvlB,EAAIC,GACtC,IAAIvvC,EAAS,CAAC60D,EAAIvlB,EAAIC,GACtB,OAAO,SAAU3lD,GACb,OAAOqrE,GAAuBj1D,EAAQpW,KAIjCsrE,GAAmB,SAACL,EAAIvlB,GACjC,IAAItvC,EAAS,CAAC60D,EAAIvlB,GAClB,OAAO,SAAU1lD,GACb,OAAOurE,GAAsBn1D,EAAQpW,KAIvCwrE,GAAY,SAACppE,EAAKqpE,EAAOzrE,EAAG2E,EAAGwgB,GACjC,IAAIvkB,EAAI6qE,EAAMzrE,GACVmX,EAAOyqC,GAAQj9C,EAAGwgB,EAAGvkB,EAAE+D,EAAG/D,EAAEukB,GAE5BhO,EAAO/U,EAAIspE,UACXtpE,EAAIspE,QAAUv0D,EACd/U,EAAIupE,KAAO3rE,IAIN4rE,GAAmB,WAAiB,IAAhBx1D,EAAgB,uDAAP,GAClCy1D,EAAQ,EACFz1D,EAAO5U,OAajB,OAXA4U,EAAOwB,SAAQ,SAACkB,EAAOlE,GACnB,IAAI4Y,EAAOpX,EAAQxB,EAAQ,GAE3B,GAAK4Y,EAAL,CAIA,IAAIrW,EAAO8qC,EAAK9qC,KAAK8qC,EAAKhU,WAAWn1B,EAAMnU,EAAGmU,EAAMqM,EAAG,GAAI88B,EAAKhU,WAAWzgB,EAAK7oB,EAAG6oB,EAAKrI,EAAG,IAC3F0mD,GAAS10D,MAGN00D,GAGEC,GAAe,SAAC52B,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,GAUzD,IAV8E,IAAjBvzD,EAAiB,uDAAT,IACjE4yD,EAAQT,GACR,CAACrmE,EAAGuwC,EAAI/vB,EAAGgwB,GACX,CAACxwC,EAAGonE,EAAK5mD,EAAG6mD,GACZ,CAACrnE,EAAGsnE,EAAK9mD,EAAG+mD,GACZ,CAACvnE,EAAGwnE,EAAIhnD,EAAGinD,IAGXP,EAAQ,EACRQ,EAAaZ,EAAM,GACf3sE,EAAI,EAAGA,GAAK+Z,EAAO/Z,IAAK,CAC5B,IAAIkB,EAAIlB,EAAE+Z,EACN85B,EAAK84B,EAAMzrE,GAEf6rE,GAASjqB,GAAQyqB,EAAW1nE,EAAG0nE,EAAWlnD,EAAGwtB,EAAGhuC,EAAGguC,EAAGxtB,GACtDknD,EAAa15B,EAGjB,OAAOk5B,GAIES,GAAe,SAACp3B,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,GAS/C,IAToE,IAAjBvzD,EAAiB,uDAAT,IACvD4yD,EAAQL,GACR,CAACzmE,EAAGuwC,EAAI/vB,EAAGgwB,GACX,CAACxwC,EAAGonE,EAAK5mD,EAAG6mD,GACZ,CAACrnE,EAAGwnE,EAAIhnD,EAAGinD,IAGXP,EAAQ,EACRQ,EAAaZ,EAAM,GACf3sE,EAAI,EAAGA,GAAK+Z,EAAO/Z,IAAK,CAC5B,IAAIkB,EAAIlB,EAAE+Z,EACN85B,EAAK84B,EAAMzrE,GAEf6rE,GAASjqB,GAAQyqB,EAAW1nE,EAAG0nE,EAAWlnD,EAAGwtB,EAAGhuC,EAAGguC,EAAGxtB,GACtDknD,EAAa15B,EAGjB,OAAOk5B,GAILU,GAAoB,SAACd,GAAsB,IAAf5yD,EAAe,uDAAP,GAClCzW,EAAM,CACNspE,QAASv0B,IACTw0B,KAAM,GAEV,OAAO,SAAUhnE,EAAGwgB,GAEhB,IAAI,IAAIrmB,EAAI,EAAGA,GAAK+Z,EAAO/Z,IACvB0sE,GAAUppE,EAAKqpE,EAAO3sE,EAAE+Z,EAAOlU,EAAGwgB,GAGtC,IAAIqnD,EAAO,GAAa,EAAR3zD,GACZ7Y,EAAIoC,EAAIupE,KACZ,IAAQ7sE,EAAI,EAAGA,EAAI+Z,EAAO/Z,IACtB0sE,GAAUppE,EAAKqpE,EAAOv2D,KAAKypB,IAAI,EAAG3+B,EAAIwsE,GAAO7nE,EAAGwgB,GAChDqmD,GAAUppE,EAAKqpE,EAAOv2D,KAAKC,IAAI,EAAGnV,EAAIwsE,GAAO7nE,EAAGwgB,GAChDqnD,GAAQ,EAGZ,OAAOpqE,EAAIupE,OAINc,GAAgB,SAACxB,EAAIvlB,EAAIC,EAAIulB,GAAmB,IAAfryD,EAAe,uDAAP,GAClD,OAAO0zD,GAAkBvB,GAAaC,EAAIvlB,EAAIC,EAAIulB,GAAKryD,IAG9C6zD,GAAqB,SAACzB,EAAIvlB,EAAIC,GAAmB,IAAf9sC,EAAe,uDAAP,GACnD,OAAO0zD,GAAkBnB,GAAkBH,EAAIvlB,EAAIC,GAAK9sC,IAG/C8zD,GAAoB,SAAC1B,EAAIvlB,GAAmB,IAAf7sC,EAAe,uDAAP,GAC9C,OAAO0zD,GAAkBjB,GAAiBL,EAAIvlB,GAAK7sC,IAG1C+zD,GAAyB,SAACC,GAGnC,GAAqB,WAAjBA,EAGA,OAAOvB,GAFHL,EAAK,CAAEtmE,EAAI,EAAGwgB,EAAI,GAClBugC,EAAK,CAAE/gD,EAAI,EAAGwgB,EAAI,IAI1B,IAAIylD,EAAaE,GAAiB+B,GAE9B5B,EAAK,CAAEtmE,EAAI,EAAGwgB,EAAI,GAClBugC,EAAK,CAAE/gD,EAAIimE,EAAW,GAAIzlD,EAAIylD,EAAW,IACzCjlB,EAAK,CAAEhhD,EAAIimE,EAAW,GAAIzlD,EAAIylD,EAAW,IAG7C,OAAOI,GAAaC,EAAIvlB,EAAIC,EAFnB,CAAEhhD,EAAI,EAAGwgB,EAAI,KAMpB2nD,GAAc,SAACz/B,EAAI0/B,EAAI/sE,GACzB,MAAO,CACH2E,EAAG0oC,EAAG1oC,GAAKooE,EAAGpoE,EAAI0oC,EAAG1oC,GAAK3E,EAC1BmlB,EAAGkoB,EAAGloB,GAAK4nD,EAAG5nD,EAAIkoB,EAAGloB,GAAKnlB,IAIrBmrE,GAAoB,SAAC/0D,EAAQpW,GAEtC,IAAIygD,EAAKqsB,GAAY12D,EAAO,GAAIA,EAAO,GAAIpW,GACvCqtC,EAAKy/B,GAAY12D,EAAO,GAAIA,EAAO,GAAIpW,GACvC+sE,EAAKD,GAAY12D,EAAO,GAAIA,EAAO,GAAIpW,GACvCgtE,EAAKF,GAAYrsB,EAAIpT,EAAIrtC,GACzBitE,EAAKH,GAAYz/B,EAAI0/B,EAAI/sE,GAE7B,OAAO8sE,GAAYE,EAAIC,EAAIjtE,IAGlBqrE,GAAyB,SAACj1D,EAAQpW,GAE3C,IAAIygD,EAAKqsB,GAAY12D,EAAO,GAAIA,EAAO,GAAIpW,GACvCqtC,EAAKy/B,GAAY12D,EAAO,GAAIA,EAAO,GAAIpW,GAC3C,OAAO8sE,GAAYrsB,EAAIpT,EAAIrtC,IAGlBurE,GAAwB,SAACn1D,EAAQpW,GAE1C,OAAO8sE,GAAY12D,EAAO,GAAIA,EAAO,GAAIpW,IAGhCktE,GAAkB,SAAC92D,EAAQpW,GACpC,IAAIygD,EAAKqsB,GAAY12D,EAAO,GAAIA,EAAO,GAAIpW,GACvCqtC,EAAKy/B,GAAY12D,EAAO,GAAIA,EAAO,GAAIpW,GACvC+sE,EAAKD,GAAY12D,EAAO,GAAIA,EAAO,GAAIpW,GACvCgtE,EAAKF,GAAYrsB,EAAIpT,EAAIrtC,GACzBitE,EAAKH,GAAYz/B,EAAI0/B,EAAI/sE,GACzBmtE,EAAKL,GAAYE,EAAIC,EAAIjtE,GAE7B,MAAO,CACH8pE,MAAO,CAAE1zD,EAAO,GAAIqqC,EAAIusB,EAAIG,GAC5B9kB,OAAQ,CAAE8kB,EAAIF,EAAIF,EAAI32D,EAAO,MAIxBg3D,GAAuB,SAACh3D,EAAQpW,GAEzC,IAAIygD,EAAKqsB,GAAY12D,EAAO,GAAIA,EAAO,GAAIpW,GACvCqtC,EAAKy/B,GAAY12D,EAAO,GAAIA,EAAO,GAAIpW,GACvC+sE,EAAKD,GAAYrsB,EAAIpT,EAAIrtC,GAE7B,MAAO,CACH8pE,MAAO,CAAE1zD,EAAO,GAAIqqC,EAAIssB,GACxB1kB,OAAQ,CAAE0kB,EAAI1/B,EAAIj3B,EAAO,MAIpBi3D,GAA2B,SAACj3D,GAGrC,IAH2D,IAAdyC,EAAc,uDAAN,EACjD1P,EAAS,GAEP0P,EAAQ,GAAG,CACb,IAAM4yD,EAAQyB,GAAgB92D,EAAQ,EAAEyC,GACxC1P,EAAOlD,KAAKwlE,EAAM3B,OAClB1zD,EAASq1D,EAAMpjB,OACfxvC,IAGJ,OAAO1P,GAGEmkE,GAAgC,SAACl3D,GAG1C,IAHgE,IAAdyC,EAAc,uDAAN,EACtD1P,EAAS,GAEP0P,EAAQ,GAAG,CACb,IAAM4yD,EAAQ2B,GAAqBh3D,EAAQ,EAAEyC,GAC7C1P,EAAOlD,KAAKwlE,EAAM3B,OAClB1zD,EAASq1D,EAAMpjB,OACfxvC,IAGJ,OAAO1P,GAGEokE,GAA+B,SAACn3D,GAGzC,IAH+D,IAAdyC,EAAc,uDAAN,EACrD1P,EAAS,GAEP0P,EAAQ,GAAG,CACb,IAAM4yD,EAAQ+B,GAAoBp3D,EAAQ,EAAEyC,GAC5C1P,EAAOlD,KAAKwlE,EAAM3B,OAClB1zD,EAASq1D,EAAMpjB,OACfxvC,IAGJ,OAAO1P,GAIEqkE,GAAsB,SAACp3D,EAAQpW,GAExC,IAAIygD,EAAKqsB,GAAY12D,EAAO,GAAIA,EAAO,GAAIpW,GAE3C,MAAO,CACH8pE,MAAO,CAAE1zD,EAAO,GAAIqqC,GACpB4H,OAAQ,CAAE5H,EAAIrqC,EAAO,MAkChBq3D,GAAyB,SAACr3D,GAGnC,MAAO,CACH6rC,EAAKtzB,MAAMvY,EAAO,IAElB6rC,EAAKhU,WAED73B,EAAO,GAAG,GAPC,EAAI,GAOcA,EAAO,GAAG,GAAKA,EAAO,GAAG,IACtDA,EAAO,GAAG,GARC,EAAI,GAQcA,EAAO,GAAG,GAAKA,EAAO,GAAG,IACtD,GAGJ6rC,EAAKhU,WAED73B,EAAO,GAAG,GAdC,EAAI,GAccA,EAAO,GAAG,GAAKA,EAAO,GAAG,IACtDA,EAAO,GAAG,GAfC,EAAI,GAecA,EAAO,GAAG,GAAKA,EAAO,GAAG,IACtD,GAGJ6rC,EAAKtzB,MAAMvY,EAAO,MAgBbs3D,GAAoB,SAACC,EAAIC,EAAIC,EAAIC,GAAqB,IAAjBj1D,EAAiB,uDAAT,IAChDk1D,EAAcjC,GAAa6B,EAAG,GAAIA,EAAG,GAAIC,EAAG,GAAIA,EAAG,GAAIC,EAAG,GAAIA,EAAG,GAAIC,EAAG,GAAIA,EAAG,GAAIj1D,GAErFm1D,EAAgB,GAChBC,EAAeF,EAAcC,EAC7BE,EAAa,EACb93D,EAAS,GAEP+3D,EAAe,CAACR,EAAIC,EAAIC,EAAIC,GAAIj2D,KAAI,SAAAiB,GAAK,MAAK,CAACnU,EAAGmU,EAAM,GAAIqM,EAAGrM,EAAM,OAE3E,EAAG,CACC1C,EAAS,GAGT,IAFA,IAAIg4D,EAAgB,EAEZtvE,EAAI,EAAGA,GAAKkvE,EAAelvE,IAAK,CACpC,IAAMuvE,EAAYlD,GAAkBgD,EAAcC,EAAgBL,GAClE33D,EAAOnQ,KAAKooE,GACZD,GAAiBH,EAMrBA,EAAeF,GADfC,GAAiBA,GAAiBD,GAFlCG,EAAatC,GAAiBx1D,KAEgC23D,SAGzDA,EAAcG,EAAa,KAEpC,OAAO93D,EAAOyB,KAAI,SAAAiB,GAAK,OAAImpC,EAAKhU,WAAWn1B,EAAMnU,EAAGmU,EAAMqM,EAAG,OA4CpDmpD,GAAmB,SAACl4D,GAK7B,IAAMmD,EA5CgB,SAACnD,GAEvB,IAAM2jC,EAAKkI,EAAKtG,OAAO,GAAIvlC,EAAO,IAC5B4jC,EAAKiI,EAAK9Q,SAAS,GAAI,CAAC,EAAG,EAAG,GAAI/6B,EAAO,IACzC6jC,EAAKgI,EAAK9Q,SAAS,GAAI,EAAE,GAAI,GAAI,GAAI/6B,EAAO,IAC5C8jC,EAAK9jC,EAAO,GAEZm4D,EAAOtsB,EAAKxI,IACd,GACAwI,EAAKxI,IAAI,GAAIM,EAAIC,GACjBiI,EAAKxI,IAAI,GAAIQ,EAAIC,IAGrB,OAAO+H,EAAK9Q,SAAS,GAAI,CAAC,EAAG,EAAG,GAAIo9B,GA+B1BC,CAAWp4D,GACfiK,EA7BgB,SAACjK,GAEvB,IAAMi7B,EAAKj7B,EAAO,GACZk7B,EAAK2Q,EAAK9Q,SAAS,GAAI,EAAE,GAAI,GAAI,GAAI/6B,EAAO,IAC5Cm7B,EAAKn7B,EAAO,GAEZm4D,EAAOtsB,EAAKxI,IAAI,GAAGwI,EAAKxI,IAAI,GAAIpI,EAAIC,GAAKC,GAE/C,OAAO0Q,EAAK9Q,SAAS,GAAI,CAAC,EAAG,EAAG,GAAIo9B,GAqB1BE,CAAWr4D,GACfjX,EAnBgB,SAACiX,GAEvB,IAAMm4D,EAAOtsB,EAAKxI,IACd,GACArjC,EAAO,GACP6rC,EAAKtG,OAAO,GAAIvlC,EAAO,KAG3B,OAAO6rC,EAAK9Q,SAAS,GAAI,CAAC,EAAG,EAAG,GAAIo9B,GAW1BG,CAAWt4D,GAEfu4D,EAAQ,GAGRC,EAAQvuD,EAAE,GAAKA,EAAE,GAAK,EAAI9G,EAAE,GAAKpa,EAAE,GACzC,GAAIyvE,EAAQ,QAEL,GAAc,IAAVA,EAAa,CACpB,IAAIC,GAAUxuD,EAAE,IAAO,EAAI9G,EAAE,IACzBoiB,MAAMkzC,KAAQA,EAAQ,GAEtB,GAAKA,GAASA,GAAS,GACvBF,EAAM1oE,KAAK4oE,QAEZ,GAAID,EAAQ,EAAG,CAClB,IAAME,IAAWzuD,EAAE,GAAKnL,KAAK8/B,KAAK45B,KAAW,EAAIr1D,EAAE,IAC7Cw1D,IAAW1uD,EAAE,GAAKnL,KAAK8/B,KAAK45B,KAAW,EAAIr1D,EAAE,IAE/C,GAAKu1D,GAAUA,GAAU,GACzBH,EAAM1oE,KAAK6oE,GAGX,GAAKC,GAAUA,GAAU,GACzBJ,EAAM1oE,KAAK8oE,GAMnB,IAAMC,EAAQ3uD,EAAE,GAAKA,EAAE,GAAK,EAAI9G,EAAE,GAAKpa,EAAE,GAEzC,GAAI6vE,EAAQ,QAEL,GAAc,IAAVA,EAAa,CACpB,IAAIC,GAAU5uD,EAAE,IAAO,EAAI9G,EAAE,IACzBoiB,MAAMszC,KAAQA,EAAQ,GAEtB,GAAKA,GAASA,GAAS,GACvBN,EAAM1oE,KAAKgpE,QAEZ,GAAID,EAAQ,EAAG,CAClB,IAAME,IAAW7uD,EAAE,GAAKnL,KAAK8/B,KAAKg6B,KAAW,EAAIz1D,EAAE,IAC7C41D,IAAW9uD,EAAE,GAAKnL,KAAK8/B,KAAKg6B,KAAW,EAAIz1D,EAAE,IAE/C,GAAK21D,GAAUA,GAAU,GACzBP,EAAM1oE,KAAKipE,GAGX,GAAKC,GAAUA,GAAU,GACzBR,EAAM1oE,KAAKkpE,GAInB,OAAOR,GASES,GAAe,SAACh5D,GACzB,IAAMu4D,EAAQL,GAAiBl4D,GAEzBi5D,EAAWj5D,EAAOyB,KAAI,SAAAjX,GACxB,MAAO,CAAC+D,EAAG/D,EAAE,GAAIukB,EAAGvkB,EAAE,OAM1B,OAFA+tE,EAAM1oE,KAAK,EAAG,GAEP0oE,EAAM92D,KAAI,SAAA7X,GACb,MAAemrE,GAAkBkE,EAAUrvE,GAC3C,MAAO,CADP,EAAO2E,EAAP,EAAUwgB,EACI,OCnjBf,SAASmqD,GAAsBlkB,EAAO3qD,EAAU8uE,EAAaC,GAA6B,IAAlB3oB,EAAkB,4DAAXviD,EAElF,OAAO,SAAC2lE,EAAMjqE,GAEV,IAAImJ,EAAS,EASb,OAPIA,EADM,IAANnJ,EACSuvE,EACI,IAANvvE,EACEwvE,EAEAD,GAAeC,EAAYD,GAAetF,EAGnDpjB,EACO19C,EAAS09C,EAGb19C,GChBR,SAASsmE,GAAyBrkB,EAAO3qD,EAAUV,GACtD,OAAO,SAAC2vE,EAAO1vE,GACX,OAAOD,GCCf,SAAS4vE,GAAuBvkB,EAAO3qD,EAAUV,GAAiD,IAA1C6vE,EAA0C,uDAAhC,QAASC,EAAuB,uDAAV,SAEhFjS,EAAY,KAOhB,MANmB,WAAfiS,EACAjS,EAAYxS,EAAMykB,GAAYD,GACR,SAAfC,IACPjS,EAAYxS,EAAMwkB,IAGlBhS,EACO79D,EAAMqnD,KAAKwW,EAAU79D,OAGzBA,EAIX,SAAS+vE,GAA4B1kB,EAAO3qD,EAAUV,EAAO8mD,GAAgD,IAA1C+oB,EAA0C,uDAAhC,QAASC,EAAuB,uDAAV,SAE3FjS,EAAY,KAOhB,MANmB,WAAfiS,EACAjS,EAAYxS,EAAMykB,GAAYD,GACR,SAAfC,IACPjS,EAAYxS,EAAMwkB,IAGlBhS,EACO79D,EAAM+U,GAAG+xC,EAAM+W,EAAU79D,OAG7BA,EAGJ,SAASgwE,GAAsB3kB,EAAO3qD,EAAU8uE,EAAaC,GAAqD,IAA1CI,EAA0C,uDAAhC,QAASC,EAAuB,uDAAV,SACvGhvE,EAAI+lD,GAAO19C,MAAMqmE,GACjBj+D,EAAIs1C,GAAO19C,MAAMsmE,GAGrB,OAAI3uE,EAAEgmD,OAASv1C,EAAEu1C,KACNyoB,GAAsBlkB,EAAO3qD,EAAUI,EAAEd,MAAOuR,EAAEvR,MAAOc,EAAEgmD,MAC3DhmD,EAAEmvE,OAAO1+D,GACTm+D,GAAwBrkB,EAAO3qD,EAAUI,GAG7C,SAACopE,EAAMjqE,GAEV,IAAIiwE,EAAiBN,GAAsBvkB,EAAO3qD,EAAUI,EAAG+uE,EAASC,GACpEK,EAAeP,GAAsBvkB,EAAO3qD,EAAU6Q,EAAGs+D,EAASC,GAEtE,OAAU,IAAN7vE,EACOiwE,EACM,IAANjwE,EACAkwE,EAIJJ,GACH1kB,EACA3qD,EACAmmD,GAAOgB,GAAGqoB,EAAelwE,OAASmwE,EAAanwE,MAAQkwE,EAAelwE,OAASkqE,GAC/EppE,EAAEgmD,KACF+oB,EACAC,I,IChESM,G,+EACjB,WAA6B,IAAV/oE,EAAU,uDAAJ,GAEjBhF,EAAM,CACNguE,OAAO,EACP,gBAAiBxpB,GAAOtgC,IACxB,yBAA0BsgC,GAAOtgC,IACjC,0BAA2BsgC,GAAOtgC,IAClC,6BAA8BsgC,GAAOtgC,IACrC,4BAA6BsgC,GAAOtgC,KAIpCtjB,EAAMoE,EAAII,MAAM,KAAKnB,QAAO,SAAA+mC,GAAE,OAAIwZ,GAAO19C,MAAMkkC,MAanD,OAXmB,IAAfpqC,EAAIxB,QACJY,EAAIguE,OAAQ,EACZhuE,EAAI,iBAAmBY,EAAI,KAE3BZ,EAAIguE,OAAQ,EACZhuE,EAAI,0BAA4BY,EAAI,GACpCZ,EAAI,2BAA6BY,EAAI,GACrCZ,EAAI,8BAAgCY,EAAI,GACxCZ,EAAI,6BAA+BY,EAAI,IAGpCZ,M,KCvBTiuE,GAAsB,SAACC,GAkBzB,OAhBIA,EAAYF,MACE,CACVE,EAAY,kBAAoB,MAChCA,EAAY,kBAAoB,MAChCA,EAAY,kBAAoB,MAChCA,EAAY,kBAAoB,OAGtB,CACVA,EAAY,2BAA6B,MACzCA,EAAY,4BAA8B,MAC1CA,EAAY,+BAAiC,MAC7CA,EAAY,8BAAgC,QAOjD,SAASC,GAA4BnlB,EAAO3qD,EAAU+vE,EAAYC,GAOrE,IANA,IAAI5vE,EAAIwvE,GAAoBF,GAAajK,WAAWsK,IAChDl/D,EAAI++D,GAAoBF,GAAajK,WAAWuK,IAEhD9xC,EAAMzpB,KAAKypB,IAAI99B,EAAEW,OAAQ8P,EAAE9P,QAE3BmN,EAAO,GACH7P,EAAI,EAAGA,EAAI6/B,EAAK7/B,IACpB6P,EAAK7P,GAAKixE,GAAsB3kB,EAAO3qD,EAAUI,EAAE/B,GAAIwS,EAAExS,IAI7D,OAAO,SAACmrE,EAAMjqE,GACV,OAAO2O,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG68B,EAAMjqE,MAAImG,KAAK,MCrBzC,SAASwD,GAAOvH,EAAKw3B,GAAyC,IAAnC82C,EAAmC,uDAApB,mBAM7C,OAJIvrE,MAAMC,QAAQhD,KACdA,EAAM,CAAExC,EAAGwC,EAAI,GAAIge,EAAGhe,EAAI,GAAIie,EAAGje,EAAI,GAAImX,EAAGnX,EAAI,KAGxC,OAARw3B,EACO+2C,GAAIvuE,GACI,OAARw3B,EACAg3C,GAAIxuE,EAAKsuE,GACD,OAAR92C,EACAi3C,GAAIzuE,GAGRA,EAGJ,SAASuuE,GAAIvuE,GACZ+C,MAAMC,QAAQhD,KACdA,EAAM,CAAExC,EAAGwC,EAAI,GAAIge,EAAGhe,EAAI,GAAIie,EAAGje,EAAI,GAAImX,EAAGnX,EAAI,KAGpD,IAAIxC,EAAIwC,EAAIxC,EAAE6G,SAAS,IACnBrE,EAAIxC,EAAI,KAAIA,EAAI,IAAMA,GAE1B,IAAIwgB,EAAIhe,EAAIge,EAAE3Z,SAAS,IACnBrE,EAAIge,EAAI,KAAIA,EAAI,IAAMA,GAE1B,IAAIC,EAAIje,EAAIie,EAAE5Z,SAAS,IAIvB,GAHIrE,EAAIie,EAAI,KAAIA,EAAI,IAAMA,GAGb,GAATje,EAAImX,QAA2B,IAAVnX,EAAImX,EACzB,iBAAW3Z,GAAX,OAAewgB,GAAf,OAAmBC,GAEnB,IAAMywD,EAAQ57D,KAAKomC,KAAa,IAARl5C,EAAImX,GACxBA,EAAIu3D,EAAMrqE,SAAS,IAGvB,OAFIqqE,EAAQ,KAAIv3D,EAAI,IAAMA,GAE1B,WAAW3Z,GAAX,OAAewgB,GAAf,OAAmBC,GAAnB,OAAuB9G,GAIxB,SAASq3D,GAAKxuE,GAAwC,IAAnCsuE,EAAmC,uDAApB,mBAKrC,GAJIvrE,MAAMC,QAAQhD,KACdA,EAAM,CAAExC,EAAGwC,EAAI,GAAIge,EAAGhe,EAAI,GAAIie,EAAGje,EAAI,GAAImX,EAAGnX,EAAI,UAGjC,IAARA,EAIX,OAAa,GAATA,EAAImX,QAA2B,IAAVnX,EAAImX,EACrBoiB,MAAMv5B,EAAIxC,GACH8wE,EAEX,cAActuE,EAAIxC,EAAlB,YAAuBwC,EAAIge,EAA3B,YAAgChe,EAAIie,EAApC,KAEA,eAAeje,EAAIxC,EAAnB,YAAwBwC,EAAIge,EAA5B,YAAiChe,EAAIie,EAArC,YAA0Cje,EAAImX,EAA9C,KAID,SAASs3D,GAAKzuE,GAKjB,OAJI+C,MAAMC,QAAQhD,KACdA,EAAM,CAAExC,EAAGwC,EAAI,GAAIge,EAAGhe,EAAI,GAAIie,EAAGje,EAAI,GAAImX,EAAGnX,EAAI,KAGvC,GAATA,EAAImX,QAA2B,IAAVnX,EAAImX,EACzB,cAAcnX,EAAIoe,EAAlB,YAAuBpe,EAAIvB,EAA3B,aAAiCuB,EAAIrD,EAArC,MAEA,eAAeqD,EAAIoe,EAAnB,YAAwBpe,EAAIvB,EAA5B,aAAkCuB,EAAIrD,EAAtC,aAA4CqD,EAAImX,EAAhD,KCtFD,SAASw3D,GAAa57D,EAAKwpB,GAC9B,OAAOzpB,KAAK6D,MAAM7D,KAAK44B,UAAYnP,EAAMxpB,EAAM,IAAMA,EAGlD,SAAS67D,KAEZ,IAFsC,IAAXn4D,EAAW,uDAAH,EAC/B7V,EAAM,GACFlE,EAAI,EAAGA,EAAI+Z,EAAO/Z,IACtBkE,EAAIA,EAAIxB,QAAUssC,KAGtB,OAAO9qC,EAGJ,SAAS8qC,KACZ,OAAO8iC,GAAI,CACPhxE,EAAGmxE,GAAa,EAAG,KACnB3wD,EAAG2wD,GAAa,EAAG,KACnB1wD,EAAI0wD,GAAa,EAAG,OAIrB,SAASE,KACZ,OAAOL,GAAI,CACPhxE,EAAGmxE,GAAa,EAAG,KACnB3wD,EAAG2wD,GAAa,EAAG,KACnB1wD,EAAG0wD,GAAa,EAAG,KACnBx3D,EAAGw3D,GAAa,EAAG,KAAM,MCxB1B,SAASG,KAAoB,2BAANhtE,EAAM,yBAANA,EAAM,gBAChC,OAAOA,EAAK6sE,GAAa,EAAG7sE,EAAK1C,OAAS,IAIvC,SAAS2vE,GAAOt4D,GACnB,YAAW1T,MAAM0T,IAKd,SAASu4D,GAAc3f,GAAqB,IAAdhH,EAAc,uDAAJ,GACvC4mB,EAAW5f,GAAS,GAExB,OAAOjyD,OAAOuI,KAAKspE,GACdhrE,QAAO,SAAAhG,GAAG,OAAIgsC,GAAeglC,EAAShxE,OACtCwX,KAAI,SAAAxX,GAAG,gBAAOA,EAAP,aAAegxE,EAAShxE,OAC/B8F,KAAK,IAAMskD,GAIb,SAAS6mB,KAA6D,IAA/ClqE,EAA+C,uDAAzC,GAAImqE,EAAqC,uDAAzB,IAAKC,EAAoB,uDAAL,IAIhE/f,EAAQ,GAEZ,MAAY,MAJZrqD,GAAY,KAMZA,EAAII,MAAM+pE,GAAW35D,SAAQ,SAAAw1B,GACzB,MAAsBA,EAAG5lC,MAAMgqE,GAAc35D,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAA1D,UAAKjI,EAAL,KAAaN,EAAb,WACW,IAAPM,IACAoxD,EAAMpxD,GAAON,EAAMoG,KAAKqrE,OALT/f,EAYpB,SAASggB,GAAmBrvE,GAC/B,OAAO5C,OAAOuI,KAAK3F,GAAKyV,KAAI,SAAAxX,GAExB,MAAY,UAARA,GACImsC,GAASpqC,EAAI/B,IACb,UAAUA,EAAV,aAAkBqxE,GAAgBtvE,EAAI/B,IAAtC,KAIJisC,GAAUlqC,EAAI/B,KAAS+rC,GAAYhqC,EAAI/B,KAAsB,cAAb+B,EAAI/B,GAChD+B,EAAI/B,GACGA,EAEA,GAIf,UAAUA,EAAV,aAAkB+B,EAAI/B,GAAtB,QACD8F,KAAK,KAGL,SAASurE,GAAgBtvE,GAC5B,OAAO5C,OAAOuI,KAAK3F,GAAKiE,QAAO,SAAAuK,GAAC,OAAIxO,EAAIwO,MAAIiH,KAAI,SAAAxX,GAC5C,OAAOA,KACR8F,KAAK,KAGL,SAASwrE,GAAcvqE,GAC1B,OAAOA,EAAIiB,QAAQ,MAAO,QAAQA,QAAQ,MAAO,QAG9C,SAASupE,GAAQ5uE,EAAK2N,GAA2B,IAAjBkhE,EAAiB,uDAAJ,GAChD,OAAO7uE,EAAI6U,IAAIlH,GAAUxK,KAAK0rE,GAG3B,SAASC,GAAcx4D,EAAGoO,GAC7B,IAAM7mB,EAAI,IAAI0tD,IAAJ,eAAYj1C,GAAZ,KAAkBoO,KAE5B,OAAO7mB,EAAEyd,OAAShF,EAAE9X,QAAUX,EAAEyd,OAASoJ,EAAElmB,OAGxC,IAAMuwE,GAAc,SAACC,GAA4C,IAA5BtuD,EAA4B,uDAApB,GAAIqiC,EAAgB,uDAAP,GACvDksB,EAAgBpH,GAAyBmH,GAE/C,6BACStuD,EADT,kCAGMuuD,EAAc,GAAKvuD,EAHzB,YAGsD,GAApBuuD,EAAc,GAAUlsB,GAAU,EAAIksB,EAAc,IAAMlsB,EAH5F,sBAIMksB,EAAc,GAAKvuD,EAJzB,YAIsD,GAApBuuD,EAAc,GAAU,GAAK,EAAIA,EAAc,IAAMlsB,EAJvF,sBAKMriC,EALN,aASSwuD,GAAmB,SAACF,GAA4C,IAA5BtuD,EAA4B,uDAApB,GAAIqiC,EAAgB,uDAAP,GAC5DksB,EAAgBpH,GAAyBmH,GAE/C,8BACUtuD,EADV,wBAEQuuD,EAAc,GAAKvuD,EAF3B,YAEwD,GAApBuuD,EAAc,GAAUlsB,GAAU,EAAIksB,EAAc,IAAMlsB,EAF9F,uBAGQriC,EAHR,yBAIQuuD,EAAc,GAAKvuD,EAJ3B,YAIwD,GAApBuuD,EAAc,GAAU,GAAK,EAAIA,EAAc,IAAMlsB,EAJzF,W,m/BC/FG,IAAMosB,GAAb,qIAEE,WAA2B,IAAV/vE,EAAU,uDAAJ,GACrB,WACE0pD,UAAU,EACV7C,OAAQ,IACL7mD,KANT,yBAUE,WACE,OAAO,IAXX,mBAcE,WACE,MAAO,KAfX,sBAkBE,WACE,OAAOgvE,GAAcntE,KAAKmuE,aAnB9B,GAAkClgE,ICJrBmgE,GAAc,CAAEC,UAAW,qBAAsBC,aAAc,qBAAsBC,KAAM,mBAAoBC,WAAY,qBAAsBC,MAAO,qBAAsBC,MAAO,qBAAsBC,OAAQ,qBAAsBC,MAAO,eAAgBC,eAAgB,qBAAsBC,KAAM,iBAAkBC,WAAY,oBAAqBC,MAAO,mBAAoBC,UAAW,qBAAsBC,UAAW,oBAAqBC,WAAY,mBAAoBC,UAAW,oBAAqBC,MAAO,oBAAqBC,eAAgB,qBAAsBC,SAAU,qBAAsBC,QAAS,mBAAoBC,KAAM,mBAAoBC,SAAU,iBAAkBC,SAAU,mBAAoBC,cAAe,oBAAqBC,SAAU,qBAAsBC,SAAU,qBAAsBC,UAAW,iBAAkBC,UAAW,qBAAsBC,YAAa,mBAAoBC,eAAgB,mBAAoBC,WAAY,mBAAoBC,WAAY,oBAAqBC,QAAS,iBAAkBC,WAAY,qBAAsBC,aAAc,qBAAsBC,cAAe,mBAAoBC,cAAe,kBAAmBC,cAAe,kBAAmBC,cAAe,mBAAoBC,WAAY,mBAAoBC,SAAU,oBAAqBC,YAAa,mBAAoBC,QAAS,qBAAsBC,QAAS,qBAAsBC,WAAY,oBAAqBC,UAAW,mBAAoBC,YAAa,qBAAsBC,YAAa,mBAAoBC,QAAS,mBAAoBC,UAAW,qBAAsBC,WAAY,qBAAsBC,KAAM,mBAAoBC,UAAW,oBAAqBC,KAAM,qBAAsBC,KAAM,qBAAsBC,MAAO,iBAAkBC,YAAa,oBAAqBC,SAAU,qBAAsBC,QAAS,qBAAsBC,UAAW,mBAAoBC,OAAQ,kBAAmBC,MAAO,qBAAsBC,MAAO,qBAAsBC,SAAU,qBAAsBC,cAAe,qBAAsBC,UAAW,mBAAoBC,aAAc,qBAAsBC,UAAW,qBAAsBC,WAAY,qBAAsBC,UAAW,qBAAsBC,qBAAsB,qBAAsBC,WAAY,qBAAsBC,UAAW,qBAAsBC,UAAW,qBAAsBC,UAAW,qBAAsBC,YAAa,qBAAsBC,cAAe,oBAAqBC,aAAc,qBAAsBC,eAAgB,qBAAsBC,eAAgB,qBAAsBC,eAAgB,qBAAsBC,YAAa,qBAAsBC,KAAM,iBAAkBC,UAAW,mBAAoBC,MAAO,qBAAsBC,QAAS,mBAAoBC,OAAQ,iBAAkBC,iBAAkB,qBAAsBC,WAAY,iBAAkBC,aAAc,oBAAqBC,aAAc,qBAAsBC,eAAgB,oBAAqBC,gBAAiB,qBAAsBC,kBAAmB,mBAAoBC,gBAAiB,oBAAqBC,gBAAiB,oBAAqBC,aAAc,mBAAoBC,UAAW,qBAAsBC,UAAW,qBAAsBC,SAAU,qBAAsBC,YAAa,qBAAsBC,KAAM,iBAAkBC,QAAS,qBAAsBC,MAAO,mBAAoBC,UAAW,oBAAqBC,OAAQ,mBAAoBC,UAAW,kBAAmBC,OAAQ,qBAAsBC,cAAe,qBAAsBC,UAAW,qBAAsBC,cAAe,qBAAsBC,cAAe,qBAAsBC,WAAY,qBAAsBC,UAAW,qBAAsBC,KAAM,oBAAqBC,KAAM,qBAAsBC,KAAM,qBAAsBC,WAAY,qBAAsBC,OAAQ,mBAAoBC,cAAe,oBAAqBC,IAAK,iBAAkBC,UAAW,qBAAsBC,UAAW,oBAAqBC,YAAa,mBAAoBC,OAAQ,qBAAsBC,WAAY,oBAAqBC,SAAU,mBAAoBC,SAAU,qBAAsBC,OAAQ,mBAAoBC,OAAQ,qBAAsBC,QAAS,qBAAsBC,UAAW,oBAAqBC,UAAW,qBAAsBC,UAAW,qBAAsBC,KAAM,qBAAsBC,YAAa,mBAAoBC,UAAW,oBAAqB5jC,IAAK,qBAAsB6jC,KAAM,mBAAoBC,QAAS,qBAAsBC,OAAQ,mBAAoBC,UAAW,oBAAqBC,OAAQ,qBAAsBC,MAAO,qBAAsBC,MAAO,qBAAsBC,WAAY,qBAAsBC,OAAQ,mBAAoBC,YAAa,oBAAqBC,YAAa,mBAAoBC,aAAc,gBAUnrJ,QACXC,YATJ,SAAsBt8E,GAClB,QAASgzE,GAAYhzE,IASrBu8E,eANJ,SAAyBv8E,GACrB,OAAOgzE,GAAYhzE,KCJhB,SAASw8E,GAAWt7E,GACvB,OAAQ2U,KAAKqpC,IAAIh+C,EAAG,GAAK,QAAY2U,KAAKqpC,IAAIh+C,EAAG,IAAMA,EAAI,GAAK,KAAO,MAGpE,SAASu7E,GAAWv7E,GACvB,OAAQA,EAAI,SAAa,MAAS2U,KAAKqpC,IAAIh+C,EAAI,EAAI,KAAS,KAAQ,MAAQA,EAGzE,SAASw7E,GAASp3E,EAAGwgB,EAAGmB,GAC3B,GAAwB,GAApBniB,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBQ,EAAN,EAAMA,EAAGwgB,EAAT,EAASA,EAAGmB,EAAZ,EAAYA,EAKhB,IAAI7M,EAAI9U,EAAI,IACR4qB,EAAIpK,EAAI,IACRuK,EAAIpJ,EAAI,IAERsG,EAAQ,OAAJnT,GAAkB,OAAL8V,GAAmB,MAALG,EAC/B9G,GAAS,MAALnP,EAAkB,OAAJ8V,EAAiB,MAAJG,EAC/BhI,EAAQ,MAAJjO,GAAkB,KAAL8V,EAAkB,MAAJG,EAEnC9C,EAAIkvD,GAAWlvD,GACfhE,EAAIkzD,GAAWlzD,GACflB,EAAIo0D,GAAWp0D,GAEf,IAAM9nB,EAAI27C,GAAU,IAAJ3uB,GACVxM,EAAIm7B,GAAU,IAAJ3yB,GACVvI,EAAIk7B,GAAU,IAAJ7zB,GAEhB,MAAO,CAAE9nB,IAAGwgB,IAAGC,KAGZ,SAAS27D,GAASj9E,EAAGwa,EAAG8G,GAC3B,GAAwB,GAApBlc,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBpF,EAAN,EAAMA,EAAGwa,EAAT,EAASA,EAAG8G,EAAZ,EAAYA,EAKhB,IAAIkP,GAAKxwB,EAAI,IAAM,IACf0a,EAAIF,EAAI,IAAMgW,EACdG,EAAIH,EAAIlP,EAAI,IAEhBkP,EAAIssD,GAAWtsD,GAIf,IAAM5qB,EAAQ,QAHd8U,EAAIoiE,GAAWpiE,IAIT0L,EAAQ,IAAJoK,EACJjJ,EAAQ,SAJdoJ,EAAImsD,GAAWnsD,IAMf,MAAO,CAAE/qB,IAAGwgB,IAAGmB,KAGZ,SAAS21D,GAAS17E,GACrB,OAAQA,EAAI,QAAY2U,KAAKqpC,IAAIh+C,EAAI,EAAI,IAAO,MAAQA,EAAI,IAAM,IAI/D,SAAS27E,GAASv3E,EAAGwgB,EAAGmB,GAC3B,GAAwB,GAApBniB,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBQ,EAAN,EAAMA,EAAGwgB,EAAT,EAASA,EAAGmB,EAAZ,EAAYA,EAOhB,IAAI7M,EAAI9U,EAAI,OACR4qB,EAAIpK,EAAI,IACRuK,EAAIpJ,EAAI,QAEZ7M,EAAIwiE,GAASxiE,GAIb,IAAM1a,EAAK,KAHXwwB,EAAI0sD,GAAS1sD,IAGS,GAChBhW,EAAI,KAAOE,EAAI8V,GACflP,EAAI,KAAOkP,GAJjBG,EAAIusD,GAASvsD,KAMb,MAAO,CAAE3wB,IAAGwa,IAAG8G,KAGZ,SAAS87D,GAASp9E,EAAGwa,EAAG8G,GAC3B,GAAwB,GAApBlc,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBpF,EAAN,EAAMA,EAAGwa,EAAT,EAASA,EAAG8G,EAAZ,EAAYA,EAEhB,OAAO07D,GAASC,GAASj9E,EAAGwa,EAAG8G,IC7E5B,SAAS+7D,GAASx8E,EAAGwgB,EAAGC,GAE3B,GAAwB,GAApBlc,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBvE,EAAN,EAAMA,EAAGwgB,EAAT,EAASA,EAAGC,EAAZ,EAAYA,EAGhB,IAAMg8D,EAAKz8E,EAAI,IACT08E,EAAKl8D,EAAI,IACTm8D,EAAKl8D,EAAI,IAETm8D,EAAOtnE,KAAKypB,IAAI09C,EAAIC,EAAIC,GACxBE,EAAOvnE,KAAKC,IAAIknE,EAAIC,EAAIC,GAExBG,EAASF,EAAOC,EAElBnyD,EAAI,EAEM,GAAVoyD,EAAepyD,EAAI,EACdkyD,GAAQH,EACb/xD,GAAYgyD,EAAKC,GAAMG,EAAU,EAA7B,GACGF,GAAQF,EACfhyD,EAAI,KAAQiyD,EAAKF,GAAMK,EAAU,GAC1BF,GAAQD,IACfjyD,EAAI,KAAQ+xD,EAAKC,GAAMI,EAAU,IAGjCpyD,EAAI,IACJA,EAAI,IAAMA,GAUd,MAAO,CAAE9J,EAAG8J,EAAGzpB,EALH,GAAR27E,EAAe,EACVE,EAASF,EAIG9tE,EAFb8tE,GAML,SAASG,GAAU/8E,EAAGwgB,EAAGC,GAE5B,GAAwB,GAApBlc,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBvE,EAAN,EAAMA,EAAGwgB,EAAT,EAASA,EAAGC,EAAZ,EAAYA,EAGhB,IAAMg8D,EAAKz8E,EAAI,IACT08E,EAAKl8D,EAAI,IACTm8D,EAAKl8D,EAAI,IAETqL,EAAI,EAAIxW,KAAKypB,IAAI09C,EAAIC,EAAIC,GACzB/iE,GAAK,EAAI6iE,EAAK3wD,IAAM,EAAIA,GACxB6F,GAAK,EAAI+qD,EAAK5wD,IAAM,EAAIA,GACxB6D,GAAK,EAAIgtD,EAAK7wD,IAAM,EAAIA,GAE9B,MAAO,CAAEvsB,EAAGqa,EAAGta,EAAGqyB,EAAGpM,EAAGoK,EAAG3e,EAAG8a,GAI3B,SAASkxD,GAASh9E,EAAGwgB,EAAGC,GAE3B,GAAwB,GAApBlc,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBvE,EAAN,EAAMA,EAAGwgB,EAAT,EAASA,EAAGC,EAAZ,EAAYA,EAGhBzgB,GAAK,IAAKwgB,GAAK,IAAKC,GAAK,IACzB,IACIG,EAAG3f,EADH89B,EAAMzpB,KAAKypB,IAAI/+B,EAAGwgB,EAAGC,GAAIlL,EAAMD,KAAKC,IAAIvV,EAAGwgB,EAAGC,GACxCthB,GAAK4/B,EAAMxpB,GAAO,EAE5B,GAAIwpB,GAAOxpB,EACPqL,EAAI3f,EAAI,MACL,CACH,IAAIzB,EAAIu/B,EAAMxpB,EAEd,OADAtU,EAAI9B,EAAI,GAAMK,GAAK,EAAIu/B,EAAMxpB,GAAO/V,GAAKu/B,EAAMxpB,GACvCwpB,GACJ,KAAK/+B,EAAG4gB,GAAKJ,EAAIC,GAAKjhB,GAAKghB,EAAIC,EAAI,EAAI,GAAI,MAC3C,KAAKD,EAAGI,GAAKH,EAAIzgB,GAAKR,EAAI,EAAG,MAC7B,KAAKihB,EAAGG,GAAK5gB,EAAIwgB,GAAKhhB,EAAI,EAE9BohB,GAAK,EAGT,MAAO,CAAEA,EAAG+6B,GAAU,IAAJ/6B,GAAU3f,EAAG06C,GAAU,IAAJ16C,GAAU9B,EAAGw8C,GAAU,IAAJx8C,IAGrD,SAASI,GAAES,EAAGwgB,EAAGC,GAEpB,GAAwB,GAApBlc,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBvE,EAAN,EAAMA,EAAGwgB,EAAT,EAASA,EAAGC,EAAZ,EAAYA,EAEhB,OAAOs1D,IAAM/1E,EAAIwgB,EAAIC,GAAK,EAAI,GAAK,EAAI,KAGpC,SAASs1D,GAAKA,GACjB,MAAO,CAAE/1E,EAAG+1E,EAAMv1D,EAAGu1D,EAAMt1D,EAAGs1D,GAG3B,SAASkH,GAAgBj9E,EAAGwgB,EAAGC,GAElC,GAAwB,GAApBlc,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBvE,EAAN,EAAMA,EAAGwgB,EAAT,EAASA,EAAGC,EAAZ,EAAYA,EAEhB,OAAOs1D,GAAKzgE,KAAKomC,MAAM17C,EAAIwgB,EAAIC,GAAK,IAIjC,SAASy8D,GAAUl9E,EAAGwgB,EAAGC,GAE5B,GAAwB,GAApBlc,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBvE,EAAN,EAAMA,EAAGwgB,EAAT,EAASA,EAAGC,EAAZ,EAAYA,EAEhB,OAAOs1D,GAAKoH,GAAWn9E,EAAGwgB,EAAGC,GAAG8E,GAI7B,SAAS63D,GAAWp9E,EAAGwgB,EAAGC,GACzB,OAAOnL,KAAKomC,KAAS,MAAJ17C,EAAiB,MAAJwgB,EAAiB,MAAJC,GAI5C,SAAS08D,GAAWn9E,EAAGwgB,EAAGC,GAE7B,GAAwB,GAApBlc,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBvE,EAAN,EAAMA,EAAGwgB,EAAT,EAASA,EAAGC,EAAZ,EAAYA,EAEhB,IAAMkP,EAAIytD,GAAWp9E,EAAGwgB,EAAGC,GACrBmQ,EAAK,MAASnQ,EAAIkP,GAClB0tD,EAAK,MAASr9E,EAAI2vB,GAExB,MAAO,CAAEpK,EAAGoK,EAAG2tD,GAAID,EAAInwD,GAAI0D,GAGxB,SAAS2sD,GAAS58E,GACrB,OAA0E,KAAjEA,EAAI,OAAW2U,KAAKqpC,KAAKh+C,EAAI,MAAS,MAAO,KAAOA,EAAI,OAG9D,SAAS68E,GAASx9E,EAAGwgB,EAAGC,GAG3B,GAAwB,GAApBlc,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBvE,EAAN,EAAMA,EAAGwgB,EAAT,EAASA,EAAGC,EAAZ,EAAYA,EAGhB,IAAIuM,EAAKhtB,EAAI,IACTgpB,EAAKxI,EAAI,IACTsH,EAAKrH,EAAI,IAMP1b,EAAQ,OAJdioB,EAAIuwD,GAASvwD,IAIc,OAH3BhE,EAAIu0D,GAASv0D,IAG2B,OAFxClB,EAAIy1D,GAASz1D,IAGPvC,EAAQ,MAAJyH,EAAiB,MAAJhE,EAAiB,MAAJlB,EAC9BpB,EAAQ,MAAJsG,EAAiB,MAAJhE,EAAiB,MAAJlB,EAEpC,MAAO,CAAE/iB,IAAGwgB,IAAGmB,KAGZ,SAAS+2D,GAASz9E,EAAGwgB,EAAGC,GAC3B,GAAwB,GAApBlc,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBvE,EAAN,EAAMA,EAAGwgB,EAAT,EAASA,EAAGC,EAAZ,EAAYA,EAEhB,OAAO67D,GAASkB,GAASx9E,EAAGwgB,EAAGC,IC/K5B,SAASi9D,GAAS18E,EAAGwY,EAAGpZ,GAG3B,OAFIA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAI,EAAUY,EAAc,GAATwY,EAAIxY,GAASZ,EACpCA,EAAI,GAAcoZ,EAClBpZ,EAAI,EAAI,EAAUY,GAAKwY,EAAIxY,IAAM,EAAI,EAAIZ,GAAK,EAC3CY,EAGJ,SAAS28E,GAAS/8D,EAAG3f,EAAG9B,GAE3B,GAAwB,GAApBoF,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBqc,EAAN,EAAMA,EAAG3f,EAAT,EAASA,EAAG9B,EAAZ,EAAYA,EAEhB,IAAM6xE,EAAM4M,GAASh9D,EAAG3f,EAAG9B,GAE3B,OAAOq9E,GAASxL,EAAIhxE,EAAGgxE,EAAIxwD,EAAGwwD,EAAIvwD,GAG/B,SAASm9D,GAASh9D,EAAG3f,EAAG9B,GAE3B,GAAwB,GAApBoF,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBqc,EAAN,EAAMA,EAAG3f,EAAT,EAASA,EAAG9B,EAAZ,EAAYA,EAGhB,IAAIa,EAAGwgB,EAAGC,EAMV,GAJAG,GAAK,IAELzhB,GAAK,IAEI,IAHT8B,GAAK,KAIDjB,EAAIwgB,EAAIC,EAAIthB,MACT,CACH,IAAIqa,EAAIra,EAAI,GAAMA,GAAK,EAAI8B,GAAK9B,EAAI8B,EAAI9B,EAAI8B,EACxCD,EAAI,EAAI7B,EAAIqa,EAChBxZ,EAAI09E,GAAS18E,EAAGwY,EAAGoH,EAAI,EAAI,GAC3BJ,EAAIk9D,GAAS18E,EAAGwY,EAAGoH,GACnBH,EAAIi9D,GAAS18E,EAAGwY,EAAGoH,EAAI,EAAI,GAG/B,MAAO,CAAE5gB,EAAG27C,GAAU,IAAJ37C,GAAUwgB,EAAGm7B,GAAU,IAAJn7B,GAAUC,EAAGk7B,GAAU,IAAJl7B,I,qkBCtC5D,IAAMo9D,GAAe,qOAEd,SAASC,GAAoBtwC,GAAmB,IAAfuwC,EAAe,uDAAN,IAC7C,MAAO,UAAGA,GAAH,OAAYvwC,EAAGwwC,YAAaC,OAAO,GAAI,KAG3C,SAASC,GAAS12E,GAGrB,QAFgB8tD,GAAQ9tD,GAEP5F,OAGd,SAAS0zD,GAAS9tD,GACrB,IAAM8tD,EAAU9tD,EAAIM,MAAM+1E,IACtBt0E,EAAS,GAEb,IAAK+rD,EACD,OAAO/rD,EAGX,IAAK,IAAIrK,EAAI,EAAGwR,EAAM4kD,EAAQ1zD,OAAQ1C,EAAIwR,EAAKxR,IAE3C,GAAIo2D,EAAQp2D,GAAG+mB,QAAQ,MAAQ,GAAKqvC,EAAQp2D,GAAG+mB,QAAQ,QAAU,GAAKqvC,EAAQp2D,GAAG+mB,QAAQ,QAAU,EAC/F1c,EAAOlD,KAAK,CAAE83E,MAAO7oB,EAAQp2D,SAC1B,CACH,IAAIk/E,EAAYC,GAAWrC,eAAe1mB,EAAQp2D,IAE9Ck/E,GACA70E,EAAOlD,KAAK,CAAE83E,MAAO7oB,EAAQp2D,GAAIk/E,UAAWA,IAKxD,IAAI/yC,EAAM,CAAEzd,KAAM,GAUlB,OATArkB,EAAOyO,SAAQ,SAAAqF,GACX,IAAM2gE,EAAax2E,EAAIye,QAAQ5I,EAAK8gE,MAAO9yC,EAAIzd,MAE/CvQ,EAAK2gE,WAAaA,EAClB3gE,EAAKihE,SAAWN,EAAa3gE,EAAK8gE,MAAMv8E,OAExCypC,EAAIzd,KAAOvQ,EAAKihE,YAGb/0E,EAGJ,SAASg1E,GAAgB/2E,GAC5B,IAAMlI,EAAIg2D,GAAQ9tD,GAMlB,OAJAlI,EAAE0Y,SAAQ,SAAAw1B,GACNhmC,EAAMA,EAAIiB,QAAQ+kC,EAAG2wC,MAAOL,GAAoBtwC,OAG7C,CAAEhmC,MAAK8tD,QAASh2D,GAIpB,SAASk/E,GAAqBh3E,GAAqB,IAAhBi3E,EAAgB,uDAAL,IAC3C5+D,EAAM0+D,GAAe/2E,GAC3B,OAAOqY,EAAIrY,IAAII,MAAM62E,GAAUxmE,KAAI,SAACu1B,EAAIx4B,GAOpC,OANAw4B,EAAK9kC,GAAK8kC,GAEN3tB,EAAIy1C,QAAQtgD,KACZw4B,EAAKA,EAAG/kC,QAAQq1E,GAAoBj+D,EAAIy1C,QAAQtgD,IAAS6K,EAAIy1C,QAAQtgD,GAAOmpE,QAGzE3wC,KAIR,SAASkxC,GAAgBl3E,EAAK8tD,GAKjC,OAJAA,EAAQt9C,SAAQ,SAAAw1B,GACZhmC,EAAMA,EAAIiB,QAAQq1E,GAAoBtwC,GAAKA,EAAG2wC,UAG3C32E,EAGX,IAAMm3E,GAAW,aACV,SAASj2E,GAAMlB,GAClB,OAAOA,EAAIiB,QAAQk2E,GAAU,IAkB1B,SAASr1E,GAAM9B,GAClB,GAAImlC,GAASnlC,GAAM,CAMf,GAJI62E,GAAWtC,YAAYv0E,KACvBA,EAAM62E,GAAWrC,eAAex0E,IAGhCA,EAAIye,QAAQ,SAAW,EAAG,CAG1B,IAFA,IAES/mB,EAAI,EAAGwR,GAFZtN,EAAMoE,EAAIiB,QAAQ,OAAQ,IAAIA,QAAQ,IAAK,IAAIb,MAAM,MAE/BhG,OAAQ1C,EAAIwR,EAAKxR,IACvCkE,EAAIlE,GAAKyJ,SAASD,GAAKtF,EAAIlE,IAAK,IAOpC,OAFAsD,EAAM,SAFFA,EAAM,CAAEw3B,KAAM,MAAOh6B,EAAGoD,EAAI,GAAIod,EAAGpd,EAAI,GAAIqd,EAAGrd,EAAI,GAAIuW,EAAG,IAE3CqjE,GAASx6E,IAGxB,GAAIgF,EAAIye,QAAQ,UAAY,EAAG,CAGlC,IAAS/mB,EAAI,EAAGwR,GAFZtN,EAAMoE,EAAIiB,QAAQ,QAAS,IAAIA,QAAQ,IAAK,IAAIb,MAAM,MAEhChG,OAAQ1C,EAAIwR,EAAKxR,IAGnCkE,EAAIlE,GADJwR,EAAM,GAAKxR,EACFq1D,WAAW7rD,GAAKtF,EAAIlE,KAEpByJ,SAASD,GAAKtF,EAAIlE,IAAK,IAQxC,OAFAsD,EAAM,SAFFA,EAAM,CAAEw3B,KAAM,MAAOh6B,EAAGoD,EAAI,GAAIod,EAAGpd,EAAI,GAAIqd,EAAGrd,EAAI,GAAIuW,EAAGvW,EAAI,KAE/C45E,GAASx6E,IAIxB,GAAIgF,EAAIye,QAAQ,SAAW,EAAG,CAGjC,IAAS/mB,EAAI,EAAGwR,GAFZtN,EAAMoE,EAAIiB,QAAQ,OAAQ,IAAIA,QAAQ,IAAK,IAAIb,MAAM,MAE/BhG,OAAQ1C,EAAIwR,EAAKxR,IACvCkE,EAAIlE,GAAKq1D,WAAW7rD,GAAKtF,EAAIlE,KAOjC,OAFAsD,EAAM,SAFFA,EAAM,CAAEw3B,KAAM,MAAOpZ,EAAGxd,EAAI,GAAInC,EAAGmC,EAAI,GAAIjE,EAAGiE,EAAI,GAAIuW,EAAG,IAE3CikE,GAASp7E,IAGxB,GAAIgF,EAAIye,QAAQ,UAAY,EAAG,CAGlC,IAAS/mB,EAAI,EAAGwR,GAFZtN,EAAMoE,EAAIiB,QAAQ,QAAS,IAAIA,QAAQ,IAAK,IAAIb,MAAM,MAEhChG,OAAQ1C,EAAIwR,EAAKxR,IAGnCkE,EAAIlE,GADJwR,EAAM,GAAKxR,EACFq1D,WAAW7rD,GAAKtF,EAAIlE,KAEpByJ,SAASD,GAAKtF,EAAIlE,IAAK,IAQxC,OAFAsD,EAAM,SAFFA,EAAM,CAAEw3B,KAAM,MAAOpZ,EAAGxd,EAAI,GAAInC,EAAGmC,EAAI,GAAIjE,EAAGiE,EAAI,GAAIuW,EAAGvW,EAAI,KAE/Cw6E,GAASp7E,IAGxB,GAAwB,GAApBgF,EAAIye,QAAQ,KAAW,CAG9B,IAAI7iB,EAAM,GACNuW,EAAI,EACR,GAAkB,IAHlBnS,EAAMA,EAAIiB,QAAQ,IAAK,KAGf7G,OACJ,IAAS1C,EAAI,EAAGwR,EAAMlJ,EAAI5F,OAAQ1C,EAAIwR,EAAKxR,IAAK,CAC5C,IAAI0/E,EAAOp3E,EAAIO,OAAO7I,EAAG,GACzBkE,EAAIiD,KAAKsC,SAASi2E,EAAOA,EAAM,UAEhC,GAAmB,IAAfp3E,EAAI5F,OAAc,CACzB,IAAS1C,EAAI,EAAGwR,EAAMlJ,EAAI5F,OAAQ1C,EAAIwR,EAAKxR,GAAK,EAC5CkE,EAAIiD,KAAKsC,SAASnB,EAAIO,OAAO7I,EAAG,GAAI,KAGxCya,EAAIvW,EAAIuoB,MAAQ,SAEhB,IAASzsB,EAAI,EAAGwR,EAAMlJ,EAAI5F,OAAQ1C,EAAIwR,EAAKxR,GAAK,EAC5CkE,EAAIiD,KAAKsC,SAASnB,EAAIO,OAAO7I,EAAG,GAAI,KAQ5C,OAFAsD,EAAM,SAFFA,EAAM,CAAEw3B,KAAM,MAAOh6B,EAAGoD,EAAI,GAAIod,EAAGpd,EAAI,GAAIqd,EAAGrd,EAAI,GAAIuW,MAExCqjE,GAASx6E,UAI5B,GAAIqqC,GAAUrlC,GAAO,CAEpB,IAaIhF,EAdR,GAAI,GAAYgF,GAAOA,GAAO,SAO1B,OADAhF,EAAM,SADFA,EAAM,CAAEw3B,KAAM,MAAOh6B,GAJR,SAANwH,IAAmB,GAIFgZ,GAHX,MAANhZ,IAAmB,EAGCiZ,GAFd,IAANjZ,IAAmB,EAEImS,EAAG,IAClBqjE,GAASx6E,IAEzB,GAAI,GAAcgF,GAAOA,GAAO,WASnC,OAFAhF,EAAM,SADFA,EAAM,CAAEw3B,KAAM,MAAOh6B,GALR,WAANwH,IAAqB,GAKJgZ,GAJX,SAANhZ,IAAqB,GAIDiZ,GAHd,MAANjZ,IAAqB,EAGEmS,GAFjB,IAANnS,GAAoB,MAGbw1E,GAASx6E,IAMnC,OAAOgF,EAIJ,SAASq3E,GAAeC,GACvBnyC,GAAUmyC,KACVA,EAASN,GAAoBM,IAsCjC,IAAM7lE,GAnCN6lE,EAASA,EAAO7mE,KAAI,SAAAu1B,GAChB,GAAIb,GAAUa,GAAM,CAChB,IAAM3tB,EAAM0+D,GAAe/wC,GACvBpqC,EAAMsF,GAAKmX,EAAIrY,KAAKI,MAAM,KAe9B,OAbIxE,EAAI,GACAA,EAAI,GAAG6iB,QAAQ,MAAQ,EACvB7iB,EAAI,GAAKmxD,WAAWnxD,EAAI,GAAGqF,QAAQ,IAAK,KAAK,IAE7CrF,EAAI,GAAKmxD,WAAWnxD,EAAI,IAI5BA,EAAI,GAAK,IAGbA,EAAI,GAAKs7E,GAAet7E,EAAI,GAAIyc,EAAIy1C,SAE7BlyD,EACJ,GAAImC,MAAMC,QAAQgoC,GAYrB,OAVKA,EAAG,GAEGb,GAAUa,EAAG,MAChBA,EAAG,GAAGvnB,QAAQ,MAAQ,EACtBunB,EAAG,GAAK+mB,WAAW/mB,EAAG,GAAG/kC,QAAQ,IAAK,KAAK,IAE3C+kC,EAAG,IAAMA,EAAG,IALhBA,EAAG,GAAK,IASZ,KAAWA,OAIE/mC,QAAO,SAAA+mC,GACxB,MAAiB,MAAVA,EAAG,MACX5rC,OAEH,GAAIqX,EAAQ,EAAG,CACX,IAMM1B,GAAQ,EANFunE,EAAOr4E,QAAO,SAAA+mC,GACtB,MAAgB,KAATA,EAAG,IAAsB,GAATA,EAAG,MAC3Bv1B,KAAI,SAAAu1B,GAAE,OAAIA,EAAG,MAAIlxB,QAAO,SAAC2vD,EAAO8S,GAC/B,OAAO9S,EAAQ8S,IACf,IAEqB9lE,EACzB6lE,EAAO9mE,SAAQ,SAACw1B,EAAIx4B,GACH,KAATw4B,EAAG,IAAax4B,EAAQ,IACpB8pE,EAAOl9E,OAAS,GAAKoT,IAGrBw4B,EAAG,GAAKj2B,OAOxB,OAAOunE,E,m/BC3RJ,IAAME,GAAb,qIA4CE,WACE,+DAA8B,CAC5Bj0B,SAAU,aACVk0B,OAAO,EACPC,QAASl4B,GAAOtgC,IAChBy4D,QAASn4B,GAAOtgC,IAChB04D,WAAYp4B,GAAOtgC,IACnB24D,aAAcr4B,GAAOtgC,IACrBy3D,MAAO,uBApDb,2BAwDE,WACa95E,KAAKklD,KAChB,uEAEKllD,KAAKqnD,MACN,QACA,UACA,UACA,aACA,eACA,YAlER,qBAwEE,SAAQnC,GASN,OAPAA,EAAO,+CAAcA,IAEhB21B,QAAUl4B,GAAO19C,MAAMigD,EAAK21B,SACjC31B,EAAK41B,QAAUn4B,GAAO19C,MAAMigD,EAAK41B,SACjC51B,EAAK61B,WAAap4B,GAAO19C,MAAMigD,EAAK61B,YACpC71B,EAAK81B,aAAer4B,GAAO19C,MAAMigD,EAAK81B,cAE/B91B,IAjFX,mBAoFE,WACE,MAAO,CACL,aAAcllD,KAAKwC,cAtFzB,sBA0FE,WACE,IAAI0iD,EAAOllD,KAAKklD,KAEhB,gBAAUA,EAAK01B,MAAQ,SAAW,IAAlC,OAAuC11B,EAAK21B,QAA5C,YACE31B,EAAK41B,QADP,YAEI51B,EAAK61B,WAFT,YAEuB71B,EAAK81B,aAF5B,YAE4C91B,EAAK40B,UA/FrD,oBACE,SAAa37E,GACX,OAAO,IAAIw8E,EAAUx8E,KAFzB,wBAKE,SAAmBgF,GAEf,IAAI83E,EAAa,GAEjB,IAAK93E,EAAK,OAAO83E,EAEjB,IAAI/xC,EAAUgxC,GAAe/2E,GA0B7B,OAxBA83E,EAAa/xC,EAAQ/lC,IAAII,MAAM,KAAKnB,QAAO,SAAA+mC,GAAE,OAAIA,EAAG9kC,UAAQuP,KAAI,SAAAsnE,GAC9D,IAAIvtD,EAASutD,EAAO33E,MAAM,KAEtB43E,EAASxtD,EAAOvrB,QAAO,SAAA+mC,GAAE,MAAW,UAAPA,KAC7BsxC,EAAS9sD,EACVvrB,QAAO,SAAA+mC,GAAE,OAAIA,EAAGsb,SAAS,QACzB7wC,KAAI,SAAAu1B,GACH,OAAOkxC,GAAelxC,EAAID,EAAQ+nB,YAGlCmqB,EAAUztD,EAAOvrB,QAAO,SAAA+mC,GAC1B,MAAc,UAAPA,IAAmBA,EAAGsb,SAAS,QAGxC,OAAOk2B,EAAU11E,MAAM,CACrB21E,QAASO,EAAO59E,OAChBu8E,MAAOW,EAAO,IAAM,mBACpBI,QAASl4B,GAAO19C,MAAMm2E,EAAQ,IAAM,OACpCN,QAASn4B,GAAO19C,MAAMm2E,EAAQ,IAAM,OACpCL,WAAYp4B,GAAO19C,MAAMm2E,EAAQ,IAAM,OACvCJ,aAAcr4B,GAAO19C,MAAMm2E,EAAQ,IAAM,cAjCnD,kBAwCE,SAAa1wE,GACX,OAAOA,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIwxC,EAAU11E,MAAMkkC,MAAKjnC,KAAK,UAzCpD,GAA+BgsE,ICJxB,SAASmN,GAAwBl0B,EAAO3qD,EAAUI,EAAGyQ,GAExD,OAAO,SAACo+D,EAAO1vE,GAEX,OAAU,IAANA,EACOsR,EAGJzQ,GCRR,SAAS0+E,GAAUpgF,EAAGD,EAAGimB,EAAGvU,GAE/B,GAAwB,GAApBzM,UAAU3C,OACV,OAAqB2C,UAAU,GAAzBhF,EAAN,EAAMA,EAAGD,EAAT,EAASA,EAAGimB,EAAZ,EAAYA,EAAGvU,EAAf,EAAeA,EAGnB,IAAMgc,EAAI,KAAO,EAAIztB,IAAM,EAAIyR,GACzBgY,EAAI,KAAO,EAAI1pB,IAAM,EAAI0R,GACzB8W,EAAI,KAAO,EAAIvC,IAAM,EAAIvU,GAE/B,MAAO,CAAEhR,EAAGgtB,EAAGxM,EAAGwI,EAAGvI,EAAGqH,GCIrB,SAAS83D,GAASh/D,EAAG3f,EAAG6N,GAE3B,GAAwB,GAApBvK,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBqc,EAAN,EAAMA,EAAG3f,EAAT,EAASA,EAAG6N,EAAZ,EAAYA,EAGhB,IAAI4b,EAAI9J,EACJqN,EAAIhtB,EACJguB,EAAIngB,EAEJ4b,GAAK,MACLA,EAAI,GAGR,IAAM9Q,EAAIqU,EAAIgB,EACRpV,EAAID,GAAK,EAAItE,KAAKu1B,IAAKngB,EAAI,GAAM,EAAI,IACrCprB,EAAI2vB,EAAIrV,EAEVs4C,EAAO,GASX,OAPI,GAAKxnC,GAAKA,EAAI,GAAMwnC,EAAO,CAACt4C,EAAGC,EAAG,GAC7B,IAAM6Q,GAAKA,EAAI,IAAOwnC,EAAO,CAACr4C,EAAGD,EAAG,GACpC,KAAO8Q,GAAKA,EAAI,IAAOwnC,EAAO,CAAC,EAAGt4C,EAAGC,GACrC,KAAO6Q,GAAKA,EAAI,IAAOwnC,EAAO,CAAC,EAAGr4C,EAAGD,GACrC,KAAO8Q,GAAKA,EAAI,IAAOwnC,EAAO,CAACr4C,EAAG,EAAGD,GACrC,KAAO8Q,GAAKA,EAAI,MAAOwnC,EAAO,CAACt4C,EAAG,EAAGC,IAEvC,CACH7Z,EAAG27C,GAAsB,KAAfuW,EAAK,GAAK5yD,IACpBkhB,EAAGm7B,GAAsB,KAAfuW,EAAK,GAAK5yD,IACpBmhB,EAAGk7B,GAAsB,KAAfuW,EAAK,GAAK5yD,KAIrB,SAASugF,GAASj/D,EAAG3f,EAAG6N,GAE3B,GAAwB,GAApBvK,UAAU3C,OACV,OAAkB2C,UAAU,GAAtBqc,EAAN,EAAMA,EAAG3f,EAAT,EAASA,EAAG6N,EAAZ,EAAYA,EAGhB,IAAMkiE,EAAM4O,GAASh/D,EAAG3f,EAAG6N,GAE3B,OAAOkuE,GAAShM,EAAIhxE,EAAGgxE,EAAIxwD,EAAGwwD,EAAIvwD,GCzD/B,SAASq/D,GAAWv6D,EAAG+3D,EAAIpwD,EAAI6yD,GAElC,GAAwB,GAApBx7E,UAAU3C,OAAa,CACvB,MAAyB2C,UAAU,GAA7BghB,EAAN,EAAMA,EAAG+3D,EAAT,EAASA,GAAIpwD,EAAb,EAAaA,GACb6yD,GADiBA,EAAjB,EAAiBA,MACJ,EAEjB,IAAM/yD,EAAIzH,EAAI,OAAS+3D,EAAKyC,GACtB/2D,EAAIzD,EAAI,MAAS2H,EAAK6yD,GAAO,MAASzC,EAAKyC,GAC3Cj4D,EAAIvC,EAAI,OAAS2H,EAAK6yD,GAE5B,MAAO,CAAE//E,EAAGsV,KAAKomC,KAAK1uB,GAAIxM,EAAGlL,KAAKomC,KAAK1yB,GAAIvI,EAAGnL,KAAKomC,KAAK5zB,ICKrD,SAASk4D,GAAeC,EAAYC,GAAyC,IAA/B9/E,EAA+B,uDAA3B,GAAK+/E,EAAsB,uDAAP,MACrE39E,EAAM49E,GAAqBH,EAAYC,EAAU9/E,GAErD,OAAO2J,GAAOvH,EAAK29E,GAIhB,SAASC,GAAqBH,EAAYC,GAAmB,IAAT9/E,EAAS,uDAAL,GACrDigF,OAA2C,IAAjBJ,EAAWtmE,EAAqB,EAAIsmE,EAAWtmE,EACzE2mE,OAAuC,IAAfJ,EAASvmE,EAAqB,EAAIumE,EAASvmE,EACzE,MAAO,CACH3Z,EAAG27C,GAAMskC,EAAWjgF,GAAKkgF,EAASlgF,EAAIigF,EAAWjgF,GAAKI,GACtDogB,EAAGm7B,GAAMskC,EAAWz/D,GAAK0/D,EAAS1/D,EAAIy/D,EAAWz/D,GAAKpgB,GACtDqgB,EAAGk7B,GAAMskC,EAAWx/D,GAAKy/D,EAASz/D,EAAIw/D,EAAWx/D,GAAKrgB,GACtDuZ,EAAGgiC,GAAM0kC,GAAmBC,EAAgBD,GAAmBjgF,EAAG,MAInE,SAAS45C,GAAMA,GAAkB,IAAX/gC,EAAW,uDAAH,EACjC,IAAK+gC,EAAO,MAAO,GAEE,iBAAVA,IACPA,EAAQwkC,GAAoBxkC,IAOhC,IAHA,IAAItpC,GADJspC,EAAQA,GAAS,IACDp4C,OAEZk9E,EAAS,GACJ5/E,EAAI,EAAGA,EAAIwR,EAAM,EAAGxR,IACzB,IAAK,IAAI8V,EAAQ,EAAGA,EAAQiE,EAAOjE,IAC/B8pE,EAAOz4E,KAAKk6E,GAAMvmC,EAAM96C,GAAI86C,EAAM96C,EAAI,GAAK8V,EAAQiE,IAI3D,OAAO6lE,EAGJ,SAASyB,GAAMN,EAAYC,GAAuC,IAA7BpQ,EAA6B,uDAArB,GAAK/lE,EAAgB,uDAAP,MAC1D9I,EAAIqI,GAAM22E,GACVvuE,EAAIpI,GAAM42E,GAEd,OAAOF,GAAe/+E,EAAGyQ,EAAGo+D,EAAO/lE,GAGhC,SAASy2E,GAAIC,EAAYP,GAAuC,IAA7BpQ,EAA6B,uDAArB,GAAK/lE,EAAgB,uDAAP,MAC5D,OAAOw2E,GAAME,EAAYP,EAAUpQ,EAAO/lE,GAOvC,SAAS22E,GAASnhF,GAErB,OADAA,EAAI+J,GAAM/J,IACF+V,KAAKqmC,MAAY,IAANp8C,EAAES,GAAWsV,KAAKqmC,MAAY,IAANp8C,EAAEihB,GAAWlL,KAAKqmC,MAAY,IAANp8C,EAAEkhB,IAAY,IAG9E,SAASkgE,GAAephF,GAC3B,OAAOmhF,GAASnhF,IAAM,IAAM,QAAU,QAGnC,SAASqhF,GAAS9B,GAOrB,IAPyC,IAAZ7lE,EAAY,uDAAJ,GAGjC4nE,EAAY,GACZC,EAAW7nE,IAHf6lE,EAASD,GAAcC,IAGQl9E,OAAS,GACpCm/E,EAAWD,EAEN5hF,EAAI,EAAGwR,EAAMouE,EAAOl9E,OAAQ1C,EAAIwR,EAAKxR,IAAK,CAE/C,IAAI+gF,EAAanB,EAAO5/E,EAAE,GAAG,GACzBghF,EAAWpB,EAAO5/E,GAAG,GAErBmrE,EAAY,GAALnrE,EAAS4/E,EAAO5/E,GAAG,GAAK4/E,EAAO5/E,GAAG,GAAK4/E,EAAO5/E,EAAE,GAAG,GAE1D8hF,EAAc9hF,GAAK4/E,EAAOl9E,OAAS,EAAKm/E,EAAWzrE,KAAK6D,MAAMkxD,EAAOyW,GAEzED,EAAYA,EAAUtwE,OAAOypC,GAAM,CAACimC,EAAYC,GAAWc,GAAa,CAACd,IAEzEa,GAAYC,EAEhB,OAAOH,EAGJ,SAASI,GAAS9C,GAMrB,IANyG,IAA7Ez8E,EAA6E,uDAApE,IAAKuX,EAA+D,uDAAvD,EAAGknE,EAAoD,uDAArC,MAAO5qE,EAA8B,uDAAxB,EAAGwpB,EAAqB,uDAAf,EAAGxnB,EAAY,uDAAL,IAChG2pE,EAAW53E,GAAM60E,GACjBgD,EAAM3E,GAAS0E,GACfj6B,GAASloB,EAAMxpB,GAAOgC,EAAO0B,EAE7Bs0B,EAAU,GACLruC,EAAI,EAAGA,GAAK+Z,EAAO/Z,IACxBiiF,EAAIz/E,GAAU4T,KAAKu1B,KAAKtzB,EAAO0vC,EAAO/nD,GAAKqY,GAC3Cg2B,EAAQlnC,KAAK0D,GAAO61E,GAASuB,GAAMhB,IAGvC,OAAO5yC,EAGJ,SAAS6zC,GAAOjD,GAA4D,IAArDllE,EAAqD,uDAA7C,EAAGknE,EAA0C,uDAA3B,MAAO5qE,EAAoB,uDAAd,EAAGwpB,EAAW,uDAAL,IAC1E,OAAOkiD,GAAS9C,EAAO,IAAKllE,EAAOknE,EAAc5qE,EAAKwpB,EAAK,GAGxD,SAASsiD,GAAOlD,GAA0D,IAAnDllE,EAAmD,uDAA3C,EAAGknE,EAAwC,uDAAzB,MAAO5qE,EAAkB,uDAAZ,EAAGwpB,EAAS,uDAAH,EAC1E,OAAOkiD,GAAS9C,EAAO,IAAKllE,EAAOknE,EAAc5qE,EAAKwpB,EAAK,KAGxD,SAASuiD,GAAOnD,GAA0D,IAAnDllE,EAAmD,uDAA3C,EAAGknE,EAAwC,uDAAzB,MAAO5qE,EAAkB,uDAAZ,EAAGwpB,EAAS,uDAAH,EAC1E,OAAOkiD,GAAS9C,EAAO,IAAKllE,EAAOknE,EAAc5qE,EAAKwpB,EAAK,K,qkBAK/Dib,GAAMunC,OAAS,SAAUtoE,GACrB,OAAO+gC,GAAM,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY/gC,IAG1E+gC,GAAMwnC,IAAM,SAAUvoE,GAClB,OAAO+gC,GAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY/gC,IAGhG+gC,GAAMmnC,IAAM,SAAUloE,GAClB,OAAO+gC,GAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAY/gC,IAGhG+gC,GAAMynC,IAAM,SAAUxoE,GAClB,OAAO+gC,GAAM,CAAC,UAAW,UAAW,UAAW,WAAY/gC,IAE/D+gC,GAAM6/B,KAAO,SAAU5gE,GACnB,OAAO+gC,GAAM,CAAC,UAAW,UAAW,UAAW,WAAY/gC,IAG/D+gC,GAAM0nC,KAAO,SAAUzoE,GACnB,OAAO+gC,GAAM,CAAC,UAAW,UAAW,UAAW,WAAY/gC,IAG/D+gC,GAAM2nC,OAAS,SAAU1oE,GACrB,OAAO+gC,GAAM,CAAC,UAAW,UAAW,UAAW,UAAW,WAAY/gC,IC3I3D,8CACRzY,GACAohF,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAx5B,GCtBA,SAASy5B,GAAsB92B,EAAO3qD,EAAUo/E,EAAYC,GAC/D,IAAIj/E,EAAIshF,GAAMj5E,MAAM22E,GAAc,oBAC9BvuE,EAAI6wE,GAAMj5E,MAAM42E,GAAY,oBAEhC,OAAO,SAAC7V,EAAMjqE,GAEV,OAAU,IAANA,EACO6/E,EACM,IAAN7/E,EACA8/E,EAGJF,GAAe/+E,EAAGyQ,EAAG24D,EAAM,QCVnC,SAASmY,GAAyBh3B,EAAO3qD,EAAU+vE,EAAYC,GAOlE,IANA,IAAI5vE,EAAI+9E,GAAU1Y,WAAWsK,GACzBl/D,EAAIstE,GAAU1Y,WAAWuK,GAEzB1C,EAAc74D,KAAKypB,IAAI99B,EAAEW,OAAQ8P,EAAE9P,QAEnCmN,EAAO,GACH7P,EAAI,EAAGwR,EAAMy9D,EAAajvE,EAAIwR,EAAKxR,IAAK,CAC5C,IAAIujF,EAAcxhF,EAAE/B,IAAM8/E,GAAU1Y,WAAW,oCAAoC,GAC/Eoc,EAAYhxE,EAAExS,IAAM8/E,GAAU1Y,WAAW,oCAAoC,GAEjFv3D,EAAK1I,KAAK,CACN44E,MAAOS,GAAuBl0B,EAAO3qD,EAAU4hF,EAAYxD,MAAOyD,EAAUzD,OAC5EC,QAAS/O,GAAsB3kB,EAAO3qD,EAAU4hF,EAAYvD,QAASwD,EAAUxD,SAC/EC,QAAShP,GAAsB3kB,EAAO3qD,EAAU4hF,EAAYtD,QAASuD,EAAUvD,SAC/EC,WAAYjP,GAAsB3kB,EAAO3qD,EAAU4hF,EAAYrD,WAAYsD,EAAUtD,YACrFC,aAAclP,GAAsB3kB,EAAO3qD,EAAU4hF,EAAYpD,aAAcqD,EAAUrD,cACzFlB,MAAOmE,GAAqB92B,EAAO3qD,EAAU4hF,EAAYtE,MAAOuE,EAAUvE,SAIlF,OAAO,SAAC9T,EAAMjqE,GACV,OAAO4+E,GAAUz4E,KAAKwI,EAAKkJ,KAAI,SAAAu1B,GAC3B,MAAO,CACHyxC,MAAOzxC,EAAGyxC,MAAM5U,EAAMjqE,GACtB8+E,QAAS1xC,EAAG0xC,QAAQ7U,EAAMjqE,GAC1B++E,QAAS3xC,EAAG2xC,QAAQ9U,EAAMjqE,GAC1Bg/E,WAAY5xC,EAAG4xC,WAAW/U,EAAMjqE,GAChCi/E,aAAc7xC,EAAG6xC,aAAahV,EAAMjqE,GACpC+9E,MAAO3wC,EAAG2wC,MAAM9T,EAAMjqE,SChC/B,SAASuiF,GAAuBn3B,EAAO3qD,EAAU+hF,EAAaC,GACjE,OAAOnD,GAAuBl0B,EAAO3qD,EAAU+hF,EAAaC,GCFhE,IAAMC,GAAqB,WAAiC,IAAhClW,EAAgC,uDAAzB,EAAGhD,EAAsB,uDAAV,MAE9C,OADAgD,GAAQA,EACD,SAAUvC,GACb,IAAI0Y,EAAW,EAAInW,EAEnB,MAAiB,SAAbhD,EACOmZ,EAAWztE,KAAKomC,KAAK2uB,EAAO0Y,GACf,OAAbnZ,EACAmZ,EAAWztE,KAAK6D,MAAMkxD,EAAO0Y,QADjC,IAUR,SAASC,KACZ,OAAOF,GAAmB,EAAG,SAG1B,SAASG,KACZ,OAAOH,GAAmB,EAAG,OCvBlB,kBACX,OAAO,SAACzY,GACJ,OAAO/0D,KAAKqpC,IAAI,GAAI,GAAK0rB,GAAQ/0D,KAAK48B,IAAkB,GAAbm4B,EAAO,IAAU/0D,KAAK64B,IAAM,ICChE,IACXy+B,KFUG,WAA4C,IAA7BA,EAA6B,uDAAtB,EAAGhD,EAAmB,uDAAP,MACxC,OAAOkZ,GAAmBlW,EAAMhD,IEVhC,aAAcoZ,GACd,WAAYC,GACZD,aACAC,WACA,mBAAoBC,GACpBA,mBCRG,SAASC,GAAsB33B,EAAO3qD,EAAU8uE,EAAaC,GAChE,IAAIgB,EAAa5pB,GAAO19C,MAAMqmE,GAC1BkB,EAAW7pB,GAAO19C,MAAMsmE,GAE5B,OAAO,SAACvF,EAAMjqE,GACV,IAAIiwE,EAAiBO,EAAWzwE,MAC5BmwE,EAAeO,EAAS1wE,MAE5B,OAAU,IAANC,EACO4mD,GAAOmB,IAAIkoB,GACL,IAANjwE,EACA4mD,GAAOmB,IAAImoB,GAGftpB,GAAOmB,IAAIkoB,GAAkBC,EAAeD,GAAkBhG,GAAMn1D,GAAG07D,EAAW3pB,O,m/BCZ1F,IAAMm8B,GAAb,qIAqCE,WACE,+DAA8B,CAC5Br4B,SAAU,cACVm0B,QAASl4B,GAAOtgC,IAChBy4D,QAASn4B,GAAOtgC,IAChB04D,WAAYp4B,GAAOtgC,IACnBy3D,MAAO,uBA3Cb,2BA+CE,WACE,uEAEK95E,KAAKqnD,MAAM,UAAW,UAAW,aAAc,YAlDxD,qBAuDE,SAAQnC,GAQN,OANAA,EAAO,+CAAcA,IAEhB21B,QAAUl4B,GAAO19C,MAAMigD,EAAK21B,SACjC31B,EAAK41B,QAAUn4B,GAAO19C,MAAMigD,EAAK41B,SACjC51B,EAAK61B,WAAap4B,GAAO19C,MAAMigD,EAAK61B,YAE7B71B,IA/DX,mBAmEE,WACE,MAAO,CACL,cAAellD,KAAKwC,cArE1B,sBAyEE,WACE,IAAI0iD,EAAOllD,KAAKklD,KAEhB,gBAAUA,EAAK21B,QAAf,YAA0B31B,EAAK41B,QAA/B,YAA0C51B,EAAK61B,WAA/C,YAA6D71B,EAAK40B,UA5EtE,oBACE,SAAa37E,GACX,OAAO,IAAI4gF,EAAW5gF,KAF1B,wBAKE,WAA6B,IAAVgF,EAAU,uDAAJ,GACnB+lC,EAAUgxC,GAAe/2E,GAEzB67E,EAAc91C,EAAQ/lC,IAAII,MAAM,KAAKnB,QAAO,SAAA+mC,GAAE,OAAIA,EAAG9kC,UAAQuP,KAAI,SAAAsnE,GACnE,IAAIvtD,EAASutD,EAAO33E,MAAM,KAEtBk3E,EAAS9sD,EACVvrB,QAAO,SAAA+mC,GAAE,OAAIA,EAAGsb,SAAS,QACzB7wC,KAAI,SAAAu1B,GACH,OAAOkxC,GAAelxC,EAAID,EAAQ+nB,UAAY,WAG9CmqB,EAAUztD,EAAOvrB,QAAO,SAAA+mC,GAC1B,OAAQA,EAAGsb,SAAS,QAGtB,OAAOs6B,EAAW95E,MAAM,CACtB60E,MAAOW,EAAO,IAAM,mBACpBI,QAASl4B,GAAO19C,MAAMm2E,EAAQ,IAAM,OACpCN,QAASn4B,GAAO19C,MAAMm2E,EAAQ,IAAM,OACpCL,WAAYp4B,GAAO19C,MAAMm2E,EAAQ,IAAM,YAI3C,OAAO4D,IA7BX,kBAiCE,SAAat0E,GACX,OAAOA,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAI41C,EAAW95E,MAAMkkC,MAAKjnC,KAAK,UAlCrD,GAAgCgsE,ICAzB,SAAS+Q,GAA0B93B,EAAO3qD,EAAU+vE,EAAYC,GAOnE,IANA,IAAI5vE,EAAImiF,GAAW9c,WAAWsK,GAC1Bl/D,EAAI0xE,GAAW9c,WAAWuK,GAE1B1C,EAAc74D,KAAKypB,IAAI99B,EAAEW,OAAQ8P,EAAE9P,QAEnCmN,EAAO,GACH7P,EAAI,EAAGwR,EAAMy9D,EAAajvE,EAAIwR,EAAKxR,IAAK,CAC5C,IAAIujF,EAAcxhF,EAAE/B,IAAMkkF,GAAW9c,WAAW,gCAAgC,GAC5Eoc,EAAYhxE,EAAExS,IAAMkkF,GAAW9c,WAAW,gCAAgC,GAE9Ev3D,EAAK1I,KAAK,CACN64E,QAAS/O,GAAsB3kB,EAAO3qD,EAAU4hF,EAAYvD,QAASwD,EAAUxD,QAAS,QAAS,QACjGC,QAAShP,GAAsB3kB,EAAO3qD,EAAU4hF,EAAYtD,QAASuD,EAAUvD,QAAS,SAAU,QAClGC,WAAYjP,GAAsB3kB,EAAO3qD,EAAU4hF,EAAYrD,WAAYsD,EAAUtD,WAAY,UACjGjB,MAAOmE,GAAqB92B,EAAO3qD,EAAU4hF,EAAYtE,MAAOuE,EAAUvE,SAIlF,OAAO,SAAC9T,EAAMjqE,GACV,OAAOgjF,GAAW78E,KAAKwI,EAAKkJ,KAAI,SAAAu1B,GAC5B,MAAO,CACH0xC,QAAS1xC,EAAG0xC,QAAQ7U,EAAMjqE,GAC1B++E,QAAS3xC,EAAG2xC,QAAQ9U,EAAMjqE,GAC1Bg/E,WAAY5xC,EAAG4xC,WAAW/U,EAAMjqE,GAChC+9E,MAAO3wC,EAAG2wC,MAAM9T,EAAMjqE,S,m/BC3B/B,IAAMmjF,GAAb,qIACE,WAA2B,IAAV/gF,EAAU,uDAAJ,GACrB,WACEuoD,SAAU,iBACV/wB,KAAM,SACHx3B,KALT,wBASE,WACE,OAAO,IAVX,sBAYE,WACE,OAAO,IAbX,sBAeE,WACE,OAAO,IAhBX,qBAkBE,WACE,OAAO,IAnBX,sBAqBE,WACE,OAAO,IAtBX,qBAwBE,WACE,OAAO,IAzBX,sBA2BE,WACE,OAAO,IA5BX,mBA8BE,WACE,OAAO,IA/BX,oBAiCE,WACE,OAAO,IAlCX,yBAoCE,WACE,OAAO,IArCX,sBAwCE,WACE,MAAO,WAzCX,GAAmC+vE,I,m/BCQ5B,IAAMiR,GAAb,qIACE,WACE,MAAO,CACL54E,GAAI+6C,KACJ89B,KAAK,EACLn8B,QAAS,EACTL,KAAM,IACNe,GAAI,EACJF,GAAI,EACJq2B,MAAO,mBACPuF,cAAe,QAVrB,2BAcE,WACE,uEAEKr/E,KAAKqnD,MACN,MACA,UACA,OACA,KACA,KACA,YAvBR,gBA6BE,WACErnD,KAAKklD,KAAKk6B,KAAM,IA9BpB,iBAiCE,WACEp/E,KAAKklD,KAAKk6B,KAAM,IAlCpB,oBAqCE,WACEp/E,KAAKklD,KAAKk6B,KAAOp/E,KAAKklD,KAAKk6B,MAtC/B,qBAyCE,WACE,MAAyB,KAAlBp/E,KAAKklD,KAAKtC,KAAc,UAAY5iD,KAAKklD,KAAKtC,OA1CzD,iBA6CE,SAAIja,GACF,IAAIia,EAAO5iD,KAAKs/E,UAGhB,OAFAt/E,KAAKklD,KAAKtC,KAAUja,EAEb3oC,OAjDX,iBAoDE,SAAI2oC,GACF,IAAIia,EAAO5iD,KAAKs/E,UAGhB,OAFAt/E,KAAKklD,KAAKtC,KAAUja,EAEb3oC,OAxDX,iBA2DE,SAAI2oC,GACF,IAAIia,EAAO5iD,KAAKs/E,UAGhB,OAFAt/E,KAAKklD,KAAKtC,KAAUja,EAEb3oC,OA/DX,iBAkEE,SAAI2oC,GACF,IAAIia,EAAO5iD,KAAKs/E,UAGhB,OAFAt/E,KAAKklD,KAAKtC,KAAUja,EAEb3oC,OAtEX,iBAyEE,SAAI2oC,GACF,IAAIia,EAAO5iD,KAAKs/E,UAGhB,OAFAt/E,KAAKklD,KAAKtC,KAAUja,EAEb3oC,OA7EX,gBAgFE,WACE,MAAyB,MAAlBA,KAAKklD,KAAKtC,OAjFrB,qBAmFE,WACE,MAAyB,KAAlB5iD,KAAKklD,KAAKtC,MAAkC,YAAnB5iD,KAAKklD,KAAKtC,OApF9C,gBAsFE,WACE,MAAyB,MAAlB5iD,KAAKklD,KAAKtC,OAvFrB,sBA8FE,SAAStD,GAEP,OAAOqD,GAAO19C,MAAMjF,KAAKklD,QAhG7B,2BAmGE,WACE,OAAKllD,KAAKklD,KAAKm6B,cAERr/E,KAAKklD,KAAKm6B,cAAcE,WAFM,KApGzC,sBA8GE,WACE,IAAIpnD,EAAOn4B,KAAKklD,KAAKk6B,IAAMp/E,KAAKw/E,gBAAkB,GAC9C1F,EAAQ95E,KAAKklD,KAAK40B,OAAS,cAC/B,gBAAUA,EAAV,YAAmB3hD,EAAnB,YAA2Bn4B,KAAKu/E,cAjHpC,mBAoHE,SAAMr6B,GACJ,6CAAYA,GACRllD,KAAKmmD,QACPnmD,KAAKmmD,OAAOs5B,kBAvHlB,sBA2HE,SAASx8B,EAAS3D,GACZt/C,KAAKsjD,KACPtjD,KAAKu3B,MAAM,CAAEosB,GAAIrE,EAAW2D,EAAU,MAC7BjjD,KAAKqjD,UACdrjD,KAAKu3B,MAAM,CAAE0rB,YACJjjD,KAAKujD,MACdvjD,KAAKu3B,MAAM,CAAEksB,GAAKnE,EAAW2D,EAAU,IAAO,QAjIpD,oBAqIE,SAAay8B,GACX,IAAIC,EAAa,GAEXz2C,EAAUgxC,GAAewF,GAE3B3gF,EAAMmqC,EAAQ/lC,IAAII,MAAM,KAAKnB,QAAO,SAAA+mC,GAAE,OAAIA,EAAG9kC,UAC3Cu7E,GAAc7gF,EAAI,GAAGqF,QAAQ,IAAK,IAClC01E,EAAQ5wC,EAAQ+nB,QAAQ2uB,GAAY9F,MAE1C,GAAmB,IAAf/6E,EAAIxB,OACNoiF,EAAW39E,KACT,IAAIm9E,EAAU,CACZrF,QACAl3B,KAAM,IACNK,QAAS,EACT48B,YAAY,UAGX,GAAmB,IAAf9gF,EAAIxB,OAAc,CAC3B,IAAM8O,EAAMs2C,GAAO19C,MAAMlG,EAAI,IAEzBkC,EAAO,CAAE2hD,KAAMv2C,EAAIu2C,MAEnBv2C,EAAIg3C,YACNpiD,EAAKgiD,QAAU52C,EAAIvQ,MACVuQ,EAAIi3C,OACbriD,EAAK0iD,GAAKt3C,EAAIvQ,MACLuQ,EAAIk3C,SACbtiD,EAAKwiD,GAAKp3C,EAAIvQ,OAGhB6jF,EAAW39E,KAAK,IAAIm9E,EAAJ,IAAgBrF,SAAU74E,UACrC,GAAmB,IAAflC,EAAIxB,OAAc,CAG3B,IAAM8O,EAAMs2C,GAAO19C,MAAMlG,EAAI,IAEzBkC,EAAO,CAAE2hD,KAAMv2C,EAAIu2C,MAEnBv2C,EAAIg3C,YACNpiD,EAAKgiD,QAAU52C,EAAIvQ,MACVuQ,EAAIi3C,OACbriD,EAAK0iD,GAAKt3C,EAAIvQ,MACLuQ,EAAIk3C,SACbtiD,EAAKwiD,GAAKp3C,EAAIvQ,OAGhB6jF,EAAW39E,KAAK,IAAIm9E,EAAJ,IAAgBrF,QAAOsF,KAAK,GAASn+E,KAGvD,OAAO0+E,IAvLX,6BA0LE,WAAsE,IAA9ClD,EAA8C,uDAAnC,EAAGn9B,EAAgC,uDAArB,IAAKwgC,EAAgB,uDAAL,IAE3DC,EAAiBjT,GAAa,EAAG2P,GACjCuD,EAAY1gC,EAASygC,EAErBJ,EAAazS,GAAO6S,GAAgBnsE,KAAI,SAAC+b,EAAGhf,GAC5C,gBAAUutE,GAAMr0C,SAAhB,YAA4Bl5B,EAAQqvE,GAApC,OAAgDF,MACjD59E,KAAK,KAER,OAAOy9E,IAnMX,mCAsME,WAAsE,IAAxClD,EAAwC,uDAA7B,EAAGuD,EAA0B,uDAAdr9B,GAAOgB,GAAG,GAE5Do8B,EAAiBjT,GAAa,EAAG2P,GAEjCkD,EAAazS,GAAO6S,GAAgBnsE,KAAI,SAAC+b,EAAGhf,GAC5C,gBAAUutE,GAAMr0C,SAAhB,YAA4B8Y,GAAO19C,MAAM+6E,GAAW9oC,IAAIvmC,EAAM,OAC/DzO,KAAK,KAER,OAAOy9E,MA9MX,GAA+B1xE,I,m/BCH/B,IAAMgyE,GAAiB,CACrB,SAAU,EACV,eAAgB,GAChB,WAAY,GACZ,kBAAmB,IACnB,YAAa,IACb,iBAAkB,IAClB,UAAW,IACX,cAAe,KAGJC,GAAb,+HACE,WACE,OAAO,IAFX,sBAKE,WACE,MAAO,SANX,8BAiBE,WAA2B,IAAV/hF,EAAU,uDAAJ,GACrB,WACEuoD,SAAU,iBACV/wB,KAAM,WACNgqD,WAAY,IACTxhF,KAtBT,2BA0BE,WACE,2EAEEwhF,WAAY3/E,KAAKklD,KAAKy6B,WAAW/rE,KAAI,SAAAkmE,GAAK,OAAIA,EAAMpvD,eA7B1D,qBAiCE,SAAQw6B,GAQN,OANIA,EAAKy6B,WAAW,aAAcR,KAGhCj6B,EAAKy6B,WAAaz6B,EAAKy6B,WAAW/rE,KAAI,SAAA1Y,GAAC,OAAI,IAAIikF,GAAUjkF,OAGpDgqD,IAzCX,4BA4CE,WACE,IAAI9H,EAAQp9C,KAAKklD,KAAK9H,MACtB,OAAOjV,GAAY83C,GAAe7iC,IAC9BA,EACA6iC,GAAe7iC,IAAU,IAhDjC,0BAyDE,SAAa+iC,GAA0B,IAAfC,IAAe,yDAKrC,OAJApgF,KAAKklD,KAAKy6B,WAAW39E,KAAKm+E,GAEtBC,GAAQpgF,KAAKy/E,gBAEVU,IA9DX,6BAiEE,SACEl9B,GAGA,IAFA24B,EAEA,uDAFa,sBACbC,EACA,uDADW,sBAEP8D,EAAa3/E,KAAK2/E,WACtB,GAAKA,EAAWpiF,OAAhB,CAQA,GAAI0lD,EAAU08B,EAAW,GAAG18B,QAM1B,OALA08B,EAAW,GAAGhvE,MAAQ,OAEtB3Q,KAAKqgF,aACH,IAAIlB,GAAU,CAAExuE,MAAO,EAAGmpE,MAAO6F,EAAW,GAAG7F,MAAO72B,aAK1D,IAAIq9B,EAAYX,EAAWpiF,OAAS,EACpC,GAAIoiF,EAAWW,GAAWr9B,QAAUA,EAApC,CACE,IAAI62B,EAAQ6F,EAAWW,GAAWxG,MAC9BnpE,EAAQgvE,EAAWW,GAAW3vE,MAAQ,EAE1C3Q,KAAKqgF,aAAa,IAAIlB,GAAU,CAAExuE,QAAOmpE,QAAO72B,kBAKlD,IAAK,IAAIpoD,EAAI,EAAGwR,EAAMszE,EAAWpiF,OAAS,EAAG1C,EAAIwR,EAAKxR,IAAK,CACzD,IAAI0tE,EAAOoX,EAAW9kF,GAClB0lF,EAAWZ,EAAW9kF,EAAI,GAE9B,GAAI0tE,EAAKtlB,SAAWA,GAAWA,GAAWs9B,EAASt9B,QAAS,CACtD62B,EAAQoE,GAAM/B,IAChB5T,EAAKuR,MACLyG,EAASzG,OACR72B,EAAUslB,EAAKtlB,UAAYs9B,EAASt9B,QAAUslB,EAAKtlB,SACpD,OAOF,YAJAjjD,KAAKqgF,aACH,IAAIlB,GAAU,CAAExuE,MAAO43D,EAAK53D,MAAQ,EAAGmpE,QAAO72B,oBAvClDjjD,KAAKwgF,iBAAiB,CACpB,IAAIrB,GAAU,CAAErF,MAAO8B,EAAY34B,UAAStyC,MAAO,IACnD,IAAIwuE,GAAU,CAAErF,MAAO+B,EAAU54B,QAAS,IAAKtyC,MAAO,UA1E9D,2BAuHE,WACE,IAAIk7C,EAAW7rD,KAAK2/E,WAEpB9zB,EAAS9nD,MAAK,SAACuR,EAAG8G,GAChB,OAAI9G,EAAE2tC,QAAU7mC,EAAE6mC,QAAgB,EAC9B3tC,EAAE2tC,QAAU7mC,EAAE6mC,SAAiB,EAC/B3tC,EAAE2tC,SAAW7mC,EAAE6mC,QACb3tC,EAAE3E,QAAUyL,EAAEzL,MAAc,EACzB2E,EAAE3E,MAAQyL,EAAEzL,MAAQ,GAAK,OAFlC,KAMFk7C,EAASl4C,SAAQ,SAACw1B,EAAIx4B,GACpBw4B,EAAGx4B,MAAgB,IAARA,OApIjB,8BA4IE,WAAqC,WAApB8vE,EAAoB,uDAAJ,GAC/BA,EAAc9sE,SAAQ,SAAAzY,GACpB,EAAKmlF,aAAanlF,GAAG,MAGvB8E,KAAKy/E,kBAjJT,0BAyJE,SAAal5E,GACX,OAAOvG,KAAKklD,KAAKy6B,WAAWv9E,QAAO,SAAAlH,GAAC,OAAIA,EAAEqL,IAAMA,KAAI,KA1JxD,mBA6JE,WACM,UAAKhJ,OACPyC,KAAKklD,KAAKy6B,WAAW7vE,SAAO,yCAAU,GAEtC9P,KAAKklD,KAAKy6B,WAAa,KAjK7B,6BAqKE,SAAgBp5E,GACdvG,KAAKklD,KAAKy6B,WAAa3/E,KAAKklD,KAAKy6B,WAAWv9E,QAAO,SAAA+mC,GAAE,OAAIA,EAAG5iC,IAAMA,OAtKtE,sBA8KE,WACE,OAAOvG,KAAKklD,KAAKy6B,aA/KrB,4BAuLE,WACE,IAAIA,EAAa3/E,KAAK2/E,WAEtB,OAAOO,EAASQ,cAAcf,MA1LlC,4BA6LE,WAAwC,IAAlBA,EAAkB,uDAAL,GACjC,IAAKA,EAAWpiF,OAAQ,MAAO,GAE/B,IAAIi/E,EAAYmD,EAAW/rE,KAAI,SAAC1Y,EAAGyV,GAEjC,OADAzV,EAAEmkF,cAAgBnkF,EAAEkkF,KAAOzuE,EAAQ,EAAIgvE,EAAWhvE,EAAQ,GAAK,KACxDzV,KAUT,OAPyB,IAArBshF,EAAUj/E,QACZi/E,EAAUx6E,KAAK,IAAIm9E,GAAU,CAC3BrF,MAAO0C,EAAU,GAAG1C,OAAS,cAC7B72B,QAAS,OAINu5B,EAAU5oE,KAAI,SAAA3D,GAAC,gBAAOA,MAAK/N,KAAK,SA5M3C,GAA8Bg9E,I,m/BCfvB,IAAMyB,GAAb,qIACI,WACI,+DAA8B,CAC1BhrD,KAAM,kBACNirD,QAAQ,EACRjB,WAAY,CACR,IAAIR,GAAU,CAACrF,MAAO,MAAO72B,QAAS,EAAGtyC,MAAO,IAChD,IAAIwuE,GAAU,CAACrF,MAAO,MAAO72B,QAAS,IAAKtyC,MAAO,SAPlE,2BAYI,WACI,2EAEIiwE,QAAQ,MAfpB,sBA4BI,WACI,IAAI9G,EAAQ95E,KAAKklD,KAAKy6B,WAAW,GAAG7F,MACpC,0CAAoCA,EAApC,gBAAiDA,EAAjD,YA9BR,sBAiCI,WAAc,OAAO,KAjCzB,qBAmBI,WAAsC,IAAvBA,EAAuB,uDAAf,cACnB,OAAO,IAAI6G,EAAe,CACtBhB,WAAY,CACR,IAAIR,GAAU,CAACrF,QAAO72B,QAAS,EAAGtyC,MAAO,IACzC,IAAIwuE,GAAU,CAACrF,QAAO72B,QAAS,IAAKtyC,MAAO,WAvB3D,GAAoCuvE,I,m/BCDpC,IAAMW,GAAa,CAAC,MAAO,OAAQ,MAAO,MAAO,OAuB1C,IAAMC,GAAb,qIACE,WAA2B,IAAV3iF,EAAU,uDAAJ,GACrB,mEACEw3B,KAAM,MACN3wB,IAAK,GACL+7E,QAAS,IACN5iF,MANT,2BAUE,WACE,uEAEK6B,KAAKqnD,MAAM,MAAO,cAb3B,mBAyBE,WACE,OAAO,IA1BX,sBA6BE,WACE,IAAInC,EAAOllD,KAAKklD,KAEhB,oBAAcA,EAAKlgD,IAAnB,QAhCJ,oBAkBE,SAAa7B,GAIX,OAAO,IAAI29E,EAAiB,CAAE97E,IAFpB7B,EAAII,MAAM,KAAK,GAAGA,MAAM,KAAK,OApB3C,yBAmCE,SAAmBy9E,GACjB,OAAOH,GAAWp8B,SAASu8B,OApC/B,GAAsC9B,I,m/BCnBtC,IAAM+B,GAAqB,CACzB,EAAK,SACL,GAAM,eACN,GAAM,WACN,IAAO,kBACP,IAAO,YACP,IAAO,iBACP,IAAO,UACP,IAAO,eAGHhB,GAAiB,CACrB,SAAU,IACV,eAAgB,KAChB,WAAY,KACZ,kBAAmB,MACnB,YAAa,MACb,iBAAkB,MAClB,UAAW,MACX,cAAe,OAGJiB,GAAb,qIACE,SAAiB/iF,GACf,mEACEw3B,KAAM,kBACNynB,MAAO,GACJj/C,MALT,2BASE,WACE,2EAEEi/C,MAAOp9C,KAAKklD,KAAK9H,UAZvB,sBAgBE,WACE,OAAO,IAjBX,sBAmBE,WACE,OAAO,IApBX,sBAuBE,WAEE,GAA8B,IAA3Bp9C,KAAK2/E,WAAWpiF,OAAc,MAAO,GAExC,IAAI4jF,EAAcnhF,KAAKohF,iBAEnBhnB,EAAM,GAkBV,OAbI5xB,GAFJ4xB,EAFYp6D,KAAKklD,KAAK9H,OAAS,KAK7Bgd,EAAM6mB,GAAmB,GAAD,OAAI7mB,KAAUA,GAGpC5xB,GAAS4xB,KAGXA,EAAM,GAAH,OAFHA,EAAMA,EAAM,IAAMA,EAAM,IAAMA,EAE3B,QAIQ,GAAH,OAAMp6D,KAAKklD,KAAKvvB,KAAhB,YAAwBykC,EAAxB,aAAgC+mB,EAAhC,QA7Cd,+BAkDE,SAAwBxB,GACtB,OAA0B,IAAtBA,EAAWpiF,OACN,OAGM,IAAI2jF,EAAe,CAChC9jC,MAAO,WACPuiC,eAGgB,KA5DtB,mBA+DE,SAAax8E,GACX,IAAI+lC,EAAUgxC,GAAe/2E,GACzBi6C,EAAQ,EACRuiC,EAAa,GAoBjB,OAnBAz2C,EAAQ/lC,IACLI,MAAM,KAAK,GACXA,MAAM,KAAK,GACXA,MAAM,KACNqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UACbsP,SAAQ,SAAC61C,EAAU74C,GACd64C,EAAS/E,SAAS,MAEpB+E,EAAW6wB,GAAe7wB,EAAUtgB,EAAQ+nB,SAE5C0uB,EAAW39E,KAAK7B,MAAMw/E,EAAYR,GAAUl6E,MAAMukD,KAGlDpM,EAAQjV,GAAY83C,GAAez2B,IAC/B7G,GAAO19C,MAAMukD,GACb7G,GAAOmB,KAAKm8B,GAAez2B,OAI9B,IAAI03B,EAAe,CAAE9jC,MAAOA,EAAMthD,MAAO6jF,mBAtFpD,GAAoCO,I,8aC1B7B,I,GAAMmB,GAAb,qIACE,WACE,+DAA8B,CAC5B1rD,KAAM,4BACNynB,MAAO,OAJb,oBAQE,SAAaj6C,GACX,IAAIm+E,EAASJ,GAAej8E,MAAM9B,GAClC,OAAO,IAAIk+E,EAAwB,CACjCjkC,MAAOkkC,EAAOlkC,MACduiC,WAAY2B,EAAO3B,iBAZzB,GAA6CuB,I,m/BCI7C,IAAMK,IAAiB,aACpB,UAAW,GADS,OAEpB,OAAQ,GAFY,OAGpB,QAAS,GAHW,OAIpB,SAAU,GAJU,OAKpB,UAAW,GALS,IAQVC,GAAb,qIACE,WAA2B,IAAVrjF,EAAU,uDAAJ,GACrB,mEACEw3B,KAAM,kBACN8rD,WAAY,UACZC,eAAgB,CAACt/B,GAASC,OAAQD,GAASC,SACxClkD,MANT,2BAUE,WACE,uEAEK6B,KAAKqnD,MACN,aACA,qBAfR,sBAoBE,WACE,OAAO,IArBX,sBAwBE,WACE,GAA8B,IAA3BrnD,KAAK2/E,WAAWpiF,OAAc,MAAO,GACxC,IAEI68D,EAFA+mB,EAAcnhF,KAAKohF,iBACnBl8B,EAAOllD,KAAKklD,KAEZu8B,EAAav8B,EAAKu8B,WAClBC,EAAiBx8B,EAAKw8B,gBAAkB,CAAC,SAAU,UAQvD,OAFAtnB,GAJAsnB,EAAiBH,GAAkBG,GAC/BA,EACAA,EAAex/E,KAAK,MAED,GAAH,OAAMu/E,EAAN,eAAuBC,GAAmBD,EAE9D,UAAUv8B,EAAKvvB,MAAQ,kBAAvB,YAA4CykC,EAA5C,aAAoD+mB,EAApD,QAtCJ,oBAyCE,SAAah+E,GACX,IAAI+lC,EAAUgxC,GAAe/2E,GACzBs+E,EAAa,UACbC,EAAiB,CAACt/B,GAASC,OAAQD,GAASC,QAC5Cs9B,EAAa,GAwCjB,OAvCAz2C,EAAQ/lC,IACLI,MAAM,KAAK,GACXA,MAAM,KAAK,GACXA,MAAM,KACNqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UACbsP,SAAQ,SAAC61C,EAAU74C,GAClB,GAAI64C,EAAS/E,SAAS,KAEpB+E,EAAW6wB,GAAe7wB,EAAUtgB,EAAQ+nB,SAE5C0uB,EAAW39E,KAAK7B,MAAMw/E,EAAYR,GAAUl6E,MAAMukD,QAC7C,CAEL,GAAIA,EAAS/E,SAAS,MAAO,OACI+E,EAASjmD,MAAM,MAAMqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UADtC,YAC1Bo9E,EAD0B,KACdC,EADc,UAG3BD,EAAaj4B,EAGf,GAA8B,iBAAnBk4B,EAA6B,CACtC,IAAI3iF,EAAM2iF,EAAen+E,MAAM,KAC/B,GAAmB,IAAfxE,EAAIxB,OAAc,CACpB,IAAI8O,EAAMs2C,GAAO19C,MAAMlG,EAAI,IAGzB2iF,EADEr1E,EAAIi8B,WACW,CAACj8B,EAAIvQ,MAAOuQ,EAAIvQ,OAEhB,CAACuQ,EAAIqe,QAASre,EAAIqe,cAEb,IAAf3rB,EAAIxB,SACbmkF,EAAiB3iF,EAAI6U,KAAI,SAAAu1B,GACvB,IAAI98B,EAAMs2C,GAAO19C,MAAMkkC,GACvB,OAAO98B,EAAIi8B,WAAaj8B,EAAIvQ,MAAQuQ,EAAIqe,iBAO7C,IAAI82D,EAAe,CAAEC,aAAYC,iBAAgB/B,mBArF5D,GAAoCO,I,8aCZ7B,I,GAAMyB,GAAb,qIACE,WACE,+DAA8B,CAC5BhsD,KAAM,iCAHZ,oBAOE,SAAaxyB,GACX,IAAIy+E,EAASJ,GAAev8E,MAAM9B,GAElC,OAAO,IAAIw+E,EAAwB,CACjCF,WAAYG,EAAOH,WACnBC,eAAgBE,EAAOF,eACvB/B,WAAYiC,EAAOjC,iBAbzB,GAA6C6B,I,m/BCK7C,IAAMD,IAAiB,aACpB,UAAW,GADS,OAEpB,OAAQ,GAFY,OAGpB,QAAS,GAHW,OAIpB,SAAU,GAJU,OAKpB,UAAW,GALS,IAQjBtB,GAAiB,CACrB,SAAU,EACV,eAAgB,GAChB,WAAY,GACZ,kBAAmB,IACnB,YAAa,IACb,iBAAkB,IAClB,UAAW,IACX,cAAe,KAGJ4B,GAAb,qIACE,WAA2B,IAAV1jF,EAAU,uDAAJ,GACrB,mEACEw3B,KAAM,iBACNynB,MAAO,EACPskC,eAAgB,CAACt/B,GAASC,OAAQD,GAASC,SACxClkD,MANT,2BAUE,WACE,2EAEEi/C,MAAOp9C,KAAKklD,KAAK9H,MACjBskC,eAAgBh3D,GAAM1qB,KAAKklD,KAAKw8B,oBAdtC,qBAkBE,WACE,OAAO,IAnBX,sBAqBE,WACE,OAAO,IAtBX,4BAyBE,WACE,GAA8B,IAA3B1hF,KAAK2/E,WAAWpiF,OAAc,MAAO,GACxC,IAAIoiF,EAAa3/E,KAAK2/E,WACtB,OAAKA,GAELA,EAAW57E,MAAK,SAACuR,EAAG8G,GAClB,OAAI9G,EAAE2tC,SAAW7mC,EAAE6mC,QAAgB,EAC5B3tC,EAAE2tC,QAAU7mC,EAAE6mC,QAAU,GAAK,KAGtB08B,EAAW/rE,KAAI,SAAC1Y,EAAGyV,GAEjC,OADAzV,EAAEmkF,cAAgBnkF,EAAEkkF,KAAOzuE,EAAQ,EAAIgvE,EAAWhvE,EAAQ,GAAK,KACxDzV,KAIN0Y,KAAI,SAAA3D,GACH,IAAI6zC,EAAM7yC,KAAK6D,MAAkB,IAAZ7E,EAAEgzC,SACnB9qB,EAAO,GAEX,GAAIloB,EAAEmvE,KAAOnvE,EAAEovE,cAAe,CAC5B,IAAIyC,EAAU7wE,KAAK6D,MAAgC,IAA1B7E,EAAEovE,cAAcp8B,SACzC9qB,EAAO,GAAH,OAAM2pD,EAAN,OAEN,gBAAU7xE,EAAE6pE,MAAZ,YAAqB3hD,EAArB,YAA6B2rB,EAA7B,UAED5hD,KAAK,MAvBgB,KA5B5B,sBAsDE,WACE,IAAIi/E,EAAcnhF,KAAKohF,iBAEnBhnB,EAAM,GACNlV,EAAOllD,KAAKklD,KAEZ68B,EAAa78B,EAAK9H,MAClB4kC,EAAgB98B,EAAKw8B,gBAAkBt/B,GAASC,OAEpD2/B,EAAgBT,GAAkBS,GAC9BA,EACAA,EAAc9/E,KAAK,KAEnBkmC,GAAe25C,KACjBA,IAAe9B,GAAe8B,IAAeA,GAC7C3nB,EAAIp4D,KAAJ,eAAiB+/E,EAAjB,SAGEC,GACF5nB,EAAIp4D,KAAJ,aAAeggF,IAGjB,IAAIC,EAAY7nB,EAAI78D,OAAS68D,EAAIl4D,KAAK,KAAO,IAAM,GAEnD,gBAAUgjD,EAAKvvB,KAAf,YAAuBssD,EAAvB,YAAoCd,EAApC,QA9EJ,oBAiFE,SAAah+E,GACX,IAAI+lC,EAAUgxC,GAAe/2E,GACzBi6C,EAAQ,OACRskC,EAAiB,CAACt/B,GAASC,OAAQD,GAASC,QAC5Cs9B,EAAa,GAoEjB,OAnEAz2C,EAAQ/lC,IACLI,MAAM,KAAK,GACXA,MAAM,KAAK,GACXA,MAAM,KACNqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UACbsP,SAAQ,SAAC61C,EAAU74C,GAClB,GAAI64C,EAAS/E,SAAS,KAgBpB+E,EAAW6wB,GAbX7wB,EAAWA,EACRjmD,MAAM,KACNqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UACbuP,KAAI,SAAAu1B,GACH,OAAIA,EAAGsb,SAAS,OACP9B,GAAO19C,MAAMkkC,GAAImb,YAEjBnb,KAGVjnC,KAAK,KAG4BgnC,EAAQ+nB,SAI5C0uB,EAAW39E,KAAK7B,MAAMw/E,EAAYR,GAAUl6E,MAAMukD,QAC7C,CAEL,GAAIA,EAAS/E,SAAS,MAAO,OAED+E,EAASjmD,MAAM,MAAMqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAFjC,YAE1B+4C,EAF0B,KAEnBskC,EAFmB,UAK3BtkC,EAAQoM,EAGV,GAAIlhB,GAASo5C,GAAiB,CAC5B,IAAI3iF,EAAM2iF,EAAen+E,MAAM,KAC/B,GAAmB,IAAfxE,EAAIxB,OAAc,CACpB,IAAI8O,EAAMs2C,GAAO19C,MAAMlG,EAAI,IAGzB2iF,EADEr1E,EAAIi8B,WACW,CAACj8B,EAAIvQ,MAAOuQ,EAAIvQ,OAEhB,CAACuQ,EAAIqe,QAASre,EAAIqe,cAEb,IAAf3rB,EAAIxB,SACbmkF,EAAiB3iF,EAAI6U,KAAI,SAAAu1B,GACvB,IAAI98B,EAAMs2C,GAAO19C,MAAMkkC,GACvB,OAAO98B,EAAIi8B,WAAaj8B,EAAIvQ,MAAQuQ,MAKtCi8B,GAAS8U,IACPA,EAAMqH,SAAS,UACjBrH,EAAQA,EAAM75C,MAAM,QAAQ,GAE5B65C,EAAQjV,GAAY83C,GAAe7iC,IAC/BuF,GAAO19C,MAAMm4C,GACbuF,GAAOmB,KAAKm8B,GAAe7iC,SAMlC,IAAIykC,EAAc,CAAEzkC,MAAOA,EAAMthD,MAAO4lF,iBAAgB/B,mBAzJnE,GAAmCO,I,8aCtB5B,IAAMgC,GAAb,qIACE,WACE,+DAA8B,CAC5BvsD,KAAM,2BACNynB,MAAO,EACPskC,eAAgB,CAACt/B,GAASC,OAAQD,GAASC,aALjD,oBASE,SAAal/C,GACX,IAAIg/E,EAAQN,GAAc58E,MAAM9B,GAEhC,OAAO,IAAI++E,EAAuB,CAChC9kC,MAAO+kC,EAAM/kC,MACbskC,eAAgBS,EAAMT,eACtB/B,WAAYwC,EAAMxC,iBAfxB,GAA4CkC,I,m/BCY5C,I,GAAMO,GAAa,CAAC,SAAU,YAAa,WAAY,WAAY,QAAS,SACtEC,GAAM,6JAECC,GAAb,qIACE,SAAiBC,GAEf,OADAviF,KAAK4zD,MAAM,kBACJ5zD,KAAKwiF,QAAQ,iBAAkBD,KAH1C,yBAME,SAAYhG,GACV,OAAOv8E,KAAKyiF,iBAAiBlG,KAPjC,yBAUE,SAAYt7E,GACLA,EAAKyhF,QACLzhF,EAAKyhF,OAAOnlF,QACjByC,KAAKu3B,MAAM,CACT5B,KAAM,QACNzuB,MAAOo7E,EAAgBK,YAAY1hF,EAAKyhF,OAAO,QAfrD,yBAuBE,SAAYzhF,GACVjB,KAAKu3B,MAAM,CACT5B,KAAM10B,EAAK00B,KACXzuB,MAAOo7E,EAAgBM,eAAe3hF,EAAMjB,KAAKklD,KAAKh+C,WA1B5D,8BAsFE,WACE,+DAA8B,CAC5Bw/C,SAAU,mBACV2K,SAAS,EACTwxB,UAAW,SACXxoE,KAAM,OACN6yD,OAAQ,SACRztD,MAAOkjC,GAAOM,QAAQ,KACtBnB,OAAQa,GAAOM,QAAQ,KACvBviD,EAAGiiD,GAAOM,QAAQ,GAClB/hC,EAAGyhC,GAAOM,QAAQ,OAhGxB,2BAoGE,WACE,IAAIiC,EAAOllD,KAAKklD,KAChB,0EAEKllD,KAAKqnD,MACN,UACA,YACA,OACA,SACA,QACA,SACA,IACA,MAVJ,IAYEngD,MAAOg+C,EAAKh+C,MAAMwjB,YAlHxB,qBAsHE,SAAQw6B,GAWN,OAVAA,EAAKxkD,EAAIiiD,GAAO19C,MAAMigD,EAAKxkD,GAC3BwkD,EAAKhkC,EAAIyhC,GAAO19C,MAAMigD,EAAKhkC,GAEvBgkC,EAAKzlC,QAAOylC,EAAKzlC,MAAQkjC,GAAO19C,MAAMigD,EAAKzlC,QAC3CylC,EAAKpD,SAAQoD,EAAKpD,OAASa,GAAO19C,MAAMigD,EAAKpD,SAE7CxZ,GAAS4c,EAAKh+C,SAChBg+C,EAAKh+C,MAAQo7E,EAAgBQ,WAAW59B,EAAKh+C,QAGxCg+C,IAjIX,iBAoIE,WACE,OAAOllD,KAAKklD,KAAKh+C,OArIrB,IAwIE,SAAUA,GACRlH,KAAKklD,KAAKh+C,MAAQA,IAzItB,wBA4IE,SAAW9K,EAAKN,GACd,MAAY,WAARM,EACKgmF,GAAW39B,SAAS3oD,GAG7B,kDAAwBM,EAAKN,KAjJjC,kCAoJE,WACE,OAAKkE,KAAKklD,KAAKh+C,MACR,CACL,mBAAoBlH,KAAKklD,KAAKh+C,MAAM1E,YAFT,KArJjC,qCA4JE,WACE,IAAI0iD,EAAOllD,KAAKklD,KAEhB,MAAO,CACL,gCAA0BA,EAAKxkD,EAA/B,YAAoCwkD,EAAKhkC,MAhK/C,iCAoKE,WACE,IAAIgkC,EAAOllD,KAAKklD,KACZ69B,EAAiB,OAarB,MAXiB,WAAb79B,EAAK7qC,MAAkC,SAAb6qC,EAAK7qC,KACjC0oE,EAAiB79B,EAAK7qC,KACb6qC,EAAKzlC,MAAM4jC,aAAe6B,EAAKzlC,MAAM4jC,aAE1B,MAAf6B,EAAKzlC,OAAkC,MAAhBylC,EAAKpD,SAIjCihC,EAAiB,GAAH,OAAM79B,EAAKzlC,MAAX,YAAoBylC,EAAKpD,SAGlC,CACL,kBAAmBihC,KApLzB,mCAwLE,WAEE,MAAO,CACL,oBAFS/iF,KAAKklD,KAEYgoB,UA3LhC,kCA+LE,WAEE,MAAO,CACL,wBAFSltE,KAAKklD,KAEgB29B,aAlMpC,mBAsME,WASE,OARc,kBACT7iF,KAAKgjF,wBACLhjF,KAAKijF,2BACLjjF,KAAKkjF,uBACLljF,KAAKmjF,yBACLnjF,KAAKojF,0BA5Md,sBAkNE,WACE,OAAOl7C,GAAOloC,KAAKmuE,SAAS,SAAC/xE,EAAKN,GAChC,gBAAUM,EAAV,aAAkBN,MACjBoG,KAAK,OArNZ,6BAwNE,WACE,IAAI/D,EAAM6B,KAAKmuE,QAEf,MAAO,CAKL,qBAAiBhwE,EAAI,oBAArB,SAhON,0BAmBE,SAAmB6G,GACjB,OAAO,IAAI87E,GAAiB,CAAE97E,UApBlC,4BA8BE,SAAsB/D,EAAMs7E,GAC1B,IAAMoD,EAAa1+E,EAAK0+E,YAAcpD,EAASoD,WAGzCviC,EAAQn8C,EAAKm8C,OAASm/B,EAASn/B,MAG/BqkC,EAAaxgF,EAAKwgF,YAAclF,EAASkF,WACzCC,EAAiBzgF,EAAKygF,gBAAkBnF,EAASmF,eAEnDx8B,EAAOq3B,EAASj3B,SAIpB,cAHOJ,EAAKwB,gBACLxB,EAAKvvB,KAEJ10B,EAAK00B,MACX,IAAK,kBACH,OAAO,IAAIgrD,GAAJ,SAAwBz7B,GAAxB,IAA8By6B,gBACvC,IAAK,kBACH,OAAO,IAAIuB,GAAJ,SAAwBh8B,GAAxB,IAA8By6B,aAAYviC,WACnD,IAAK,4BACH,OAAO,IAAIikC,GAAJ,SAAiCn8B,GAAjC,IAAuCy6B,aAAYviC,WAC5D,IAAK,kBACH,OAAO,IAAIokC,GAAJ,SACFt8B,GADE,IAELy6B,aACA8B,aACAC,oBAEJ,IAAK,4BACH,OAAO,IAAIC,GAAJ,SACFz8B,GADE,IAELy6B,aACA8B,aACAC,oBAEJ,IAAK,iBACH,OAAO,IAAIG,GAAJ,SACF38B,GADE,IAELy6B,aACAviC,QACAskC,oBAEJ,IAAK,2BACH,OAAO,IAAIQ,GAAJ,SACFh9B,GADE,IAELy6B,aACAviC,QACAskC,oBAIN,OAAO,IAAIxB,KAjFf,mBAoOE,SAAa/hF,GACX,OAAO,IAAImkF,EAAgBnkF,KArO/B,wBAwOE,SAAmBgF,GACjB,IAAI+lC,EAAUgxC,GAAe/2E,GACzB+D,EAAQ,KAERm8E,EAAcn6C,EAAQ/lC,IAAIM,MAAM4+E,IAEpC,OAAKgB,GAELA,EAAY1vE,SAAQ,SAAC7X,EAAO6U,IAE1B7U,EAAQu+E,GAAev+E,EAAOotC,EAAQ+nB,UAC5BxM,SAAS,6BACjBv9C,EAAQm6E,GAAwBp8E,MAAMnJ,GAC7BA,EAAM2oD,SAAS,mBACxBv9C,EAAQg6E,GAAej8E,MAAMnJ,GACpBA,EAAM2oD,SAAS,6BACxBv9C,EAAQy6E,GAAwB18E,MAAMnJ,GAC7BA,EAAM2oD,SAAS,mBACxBv9C,EAAQs6E,GAAev8E,MAAMnJ,GACpBA,EAAM2oD,SAAS,4BACxBv9C,EAAQg7E,GAAuBj9E,MAAMnJ,GAC5BA,EAAM2oD,SAAS,kBACxBv9C,EAAQ26E,GAAc58E,MAAMnJ,GACnBA,EAAM2oD,SAAS,SACxBv9C,EAAQ45E,GAAiB77E,MAAMnJ,OAI5BoL,GAtBkBA,IA9O7B,6BAuQE,SAAwBqkD,GACtB,OAASA,EAAQ51B,MACjB,IAAK,kBACH,OAAO,IAAIgrD,GAAep1B,GAC5B,IAAK,kBACH,OAAO,IAAI21B,GAAe31B,GAC5B,IAAK,4BACH,OAAO,IAAI81B,GAAwB91B,GACrC,IAAK,kBACH,OAAO,IAAIi2B,GAAej2B,GAC5B,IAAK,4BACH,OAAO,IAAIo2B,GAAwBp2B,GACrC,IAAK,iBACH,OAAO,IAAIs2B,GAAct2B,GAC3B,IAAK,2BACH,OAAO,IAAI22B,GAAuB32B,GACpC,IAAK,iBACL,IAAK,MACH,OAAO,IAAIu1B,GAAiBv1B,MAzRlC,wBA6RE,SAAkBiC,GAChB,IAAI81B,EAAmB,GACXz6C,KAAKC,UAAU0kB,GAE3B,GAAIA,EAAM,oBAAqB,CAC7B,IAAItkB,EAAUgxC,GAAe1sB,EAAM,qBAEnCtkB,EAAQ/lC,IAAIM,MAAM4+E,IAAK1uE,SAAQ,SAAC7X,EAAO6U,GACrC,IAAIzJ,EAAQ,MACZpL,EAAQu+E,GAAev+E,EAAOotC,EAAQ+nB,UAC5BxM,SAAS,6BACjBv9C,EAAQm6E,GAAwBp8E,MAAMnJ,GAC7BA,EAAM2oD,SAAS,mBACxBv9C,EAAQg6E,GAAej8E,MAAMnJ,GACpBA,EAAM2oD,SAAS,6BACxBv9C,EAAQy6E,GAAwB18E,MAAMnJ,GAC7BA,EAAM2oD,SAAS,mBACxBv9C,EAAQs6E,GAAev8E,MAAMnJ,GACpBA,EAAM2oD,SAAS,4BACxBv9C,EAAQg7E,GAAuBj9E,MAAMnJ,GAC5BA,EAAM2oD,SAAS,kBACxBv9C,EAAQ26E,GAAc58E,MAAMnJ,GACnBA,EAAM2oD,SAAS,SACxBv9C,EAAQ45E,GAAiB77E,MAAMnJ,IAGjCwnF,EAAiB3yE,GAAS,IAAI2xE,EAAgB,CAC5C3sD,KAAMzuB,EAAMyuB,KACZzuB,aA8CN,OAzCIsmD,EAAM,sBACRA,EAAM,qBAAqBjqD,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAAQsP,SAAQ,SAACw1B,EAAIx4B,GAClE2yE,EAAiB3yE,KACnB2yE,EAAiB3yE,GAAOu8D,OAAS/jC,MAKnCqkB,EAAM,0BACRA,EAAM,yBAAyBjqD,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAAQsP,SAAQ,SAACw1B,EAAIx4B,GACtE2yE,EAAiB3yE,KACnB2yE,EAAiB3yE,GAAOkyE,UAAY15C,MAKtCqkB,EAAM,oBACRA,EAAM,mBAAmBjqD,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAAQsP,SAAQ,SAACw1B,EAAIx4B,GACpE,GAAI2yE,EAAiB3yE,GACnB,GAAU,SAANw4B,GAAwB,YAAPA,GAA2B,SAAPA,EACvCm6C,EAAiB3yE,GAAO0J,KAAO8uB,MAC1B,CACLm6C,EAAiB3yE,GAAO0J,KAAO,OAC/B,MAAsB8uB,EAAG5lC,MAAM,KAA/B,YAAKkc,EAAL,KAAYqiC,EAAZ,KACAwhC,EAAiB3yE,GAAO8O,MAAQkjC,GAAO19C,MAAMwa,GAC7C6jE,EAAiB3yE,GAAOmxC,OAASa,GAAO19C,MAAM68C,OAMlD0L,EAAM,wBACRA,EAAM,uBAAuBjqD,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAAQsP,SAAQ,SAACw1B,EAAIx4B,GACxE,GAAI2yE,EAAiB3yE,GAAQ,CAC3B,MAAaw4B,EAAG5lC,MAAM,KAAtB,YAAK7C,EAAL,KAAQwgB,EAAR,KACAoiE,EAAiB3yE,GAAOjQ,EAAIiiD,GAAO19C,MAAMvE,GACzC4iF,EAAiB3yE,GAAOuQ,EAAIyhC,GAAO19C,MAAMic,OAKxCoiE,IAvWX,2BA2WE,SAAqB54E,GACnB,ItEhO4BvM,EsEgOxB+qC,EAAU,GAQd,OAPAx+B,EAAKiJ,SAAQ,SAAAqF,GACTivB,GAAQjvB,EAAKm1D,SAAS,SAAC/xE,EAAKN,GACnBotC,EAAQ9sC,KAAM8sC,EAAQ9sC,GAAO,IAClC8sC,EAAQ9sC,GAAK4F,KAAKlG,StEpOEqC,EsEwOL+qC,EtEvOvB3tC,OAAOuI,KAAK3F,GAAKwV,SAAQ,SAAAvX,GACjB8E,MAAMC,QAAQhD,EAAI/B,MAClB+B,EAAI/B,GAAO+B,EAAI/B,GAAK8F,KAAK,UAI1B/D,IsEnJX,kBAuXE,SAAauM,GACX,OAAOyiE,GAAcmV,EAAgBiB,cAAc74E,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIm5C,EAAgBr9E,MAAMkkC,UAxX5F,qBA2XE,SAAgBz+B,GACd,OAAO43E,EAAgBiB,cAAc74E,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIm5C,EAAgBr9E,MAAMkkC,WA5X9E,GAAqC+kC,ICb9B,SAASsV,GAAyBr8B,EAAO3qD,EAAUinF,EAAgBC,GAGtE,IAAIvlF,EAAM,CACNihF,IAAK/D,GAAuBl0B,EAAO3qD,EAAUinF,EAAerE,IAAKsE,EAAatE,KAC9En8B,QAASooB,GAAsBlkB,EAAO3qD,EAAUinF,EAAexgC,QAASygC,EAAazgC,SACrFU,GAAI0nB,GAAsBlkB,EAAO3qD,EAAUinF,EAAe9/B,GAAI+/B,EAAa//B,IAC3EF,GAAI4nB,GAAsBlkB,EAAO3qD,EAAUinF,EAAehgC,GAAIigC,EAAajgC,IAC3Eb,KAAM07B,GAAsBn3B,EAAO3qD,EAAUinF,EAAe7gC,KAAM8gC,EAAa9gC,MAC/Ek3B,MAAOmE,GAAqB92B,EAAO3qD,EAAUinF,EAAe3J,MAAO4J,EAAa5J,QAKpF,OAAO,SAAC9T,EAAMjqE,GAEV,OAAO,IAAIojF,GAAU,CACjBC,IAAKjhF,EAAIihF,IAAIpZ,EAAKjqE,GAClBknD,QAAS9kD,EAAI8kD,QAAQ+iB,EAAMjqE,GAC3B4nD,GAAIxlD,EAAIwlD,GAAGqiB,EAAMjqE,GACjB0nD,GAAItlD,EAAIslD,GAAGuiB,EAAMjqE,GACjB6mD,KAAMzkD,EAAIykD,KAAKojB,EAAMjqE,GACrB+9E,MAAO37E,EAAI27E,MAAM9T,EAAMjqE,MCzB5B,SAAS4nF,GAA6Bx8B,EAAO3qD,GAKhD,IALoG,IAA1ConF,EAA0C,uDAAxB,GAAIC,EAAoB,uDAAJ,GAE5FnpD,EAAMzpB,KAAKypB,IAAIkpD,EAAgBrmF,OAAQsmF,EAActmF,QAErDmN,EAAO,GACH7P,EAAI,EAAGA,EAAI6/B,EAAK7/B,IAAK,CACzB,IAAI+B,EAAIgnF,EAAgB/oF,GACpBwS,EAAIw2E,EAAchpF,GAGlB6P,EAAK7P,GADL+B,GAAKyQ,EACKm2E,GAAyBr8B,EAAO3qD,EAAUI,EAAGyQ,GAE7CguE,GAAuBl0B,EAAO3qD,EAAUI,EAAGyQ,GAK7D,OAAO,SAAC24D,EAAMjqE,GAEV,OAAO2O,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG68B,EAAMjqE,OClBhC,SAAS+nF,GAA+B38B,EAAO3qD,EAAUI,EAAGyQ,GAK/D,IAAIlP,EAAM,CACNi/C,MAAOiuB,GAAsBlkB,EAAO3qD,EAAUI,EAAEwgD,MAAO/vC,EAAE+vC,OACzDuiC,WAAYgE,GAA6Bx8B,EAAO3qD,EAAUI,EAAE+iF,WAAYtyE,EAAEsyE,aAG9E,OAAO,SAAC3Z,EAAMjqE,GACV,IAAI4jF,EAAaxhF,EAAIwhF,WAAW3Z,EAAMjqE,GAEtC,OAAO,IAAImlF,GAAe,CACtB9jC,MAAOj/C,EAAIi/C,MAAM4oB,EAAMjqE,GACvB4jF,gBCbW,aAClB,UAAW,GADO,OAElB,OAAQ,GAFU,OAGlB,QAAS,GAHS,OAIlB,SAAU,GAJQ,OAKlB,UAAW,GAehB,SAASoE,GAAgBjoF,EAAO65B,GAC5B,OAAOA,GACP,IAAK,QACD,GAAc,WAAV75B,EACA,MAAO,MACJ,GAAc,SAAVA,EACP,MAAO,KACJ,GAAc,UAAVA,EACP,MAAO,OAEX,MACJ,IAAK,SACD,GAAc,WAAVA,EACA,MAAO,MACJ,GAAc,QAAVA,EACP,MAAO,KACJ,GAAc,WAAVA,EACP,MAAO,OAKf,OAAOA,EAIJ,SAASkoF,GAA+B78B,EAAO3qD,EAAUI,EAAGyQ,GAO/DzQ,EAAE8kF,eAAe,GAAKqC,GAAennF,EAAE8kF,eAAe,GAAI,SAC1D9kF,EAAE8kF,eAAe,GAAKqC,GAAennF,EAAE8kF,eAAe,GAAI,UAE1Dr0E,EAAEq0E,eAAe,GAAKqC,GAAe12E,EAAEq0E,eAAe,GAAI,SAC1Dr0E,EAAEq0E,eAAe,GAAKqC,GAAe12E,EAAEq0E,eAAe,GAAI,UAE1D,IAAIvjF,EAAM,CACNsjF,WAAYnD,GAAsBn3B,EAAO3qD,EAAUI,EAAE6kF,WAAYp0E,EAAEo0E,YACnEwC,gBAAiBnY,GAAsB3kB,EAAO3qD,EAAUI,EAAE8kF,eAAe,GAAIr0E,EAAEq0E,eAAe,GAAI,QAAS,QAC3GwC,gBAAiBpY,GAAsB3kB,EAAO3qD,EAAUI,EAAE8kF,eAAe,GAAIr0E,EAAEq0E,eAAe,GAAI,SAAU,QAC5G/B,WAAYgE,GAA6Bx8B,EAAO3qD,EAAUI,EAAE+iF,WAAYtyE,EAAEsyE,aAG9E,OAAO,SAAC3Z,EAAMjqE,GAUV,OATc,IAAIylF,GAAe,CAC7BC,WAAYtjF,EAAIsjF,WAAWzb,EAAMjqE,GACjC2lF,eAAgB,CACZvjF,EAAI8lF,gBAAgBje,EAAMjqE,GAC1BoC,EAAI+lF,gBAAgBle,EAAMjqE,IAE9B4jF,WAAYxhF,EAAIwhF,WAAW3Z,EAAMjqE,MC1EtC,SAASooF,GAA8Bh9B,EAAO3qD,EAAUI,EAAGyQ,GAE9D,IAAIlP,EAAM,CACNi/C,MAAOiuB,GAAsBlkB,EAAO3qD,EAAUI,EAAEwgD,MAAO/vC,EAAE+vC,OACzD6mC,gBAAiBnY,GAAsB3kB,EAAO3qD,EAAUI,EAAE8kF,eAAe,GAAIr0E,EAAEq0E,eAAe,GAAI,QAAS,QAC3GwC,gBAAiBpY,GAAsB3kB,EAAO3qD,EAAUI,EAAE8kF,eAAe,GAAIr0E,EAAEq0E,eAAe,GAAI,SAAU,QAC5G/B,WAAYgE,GAA6Bx8B,EAAO3qD,EAAUI,EAAE+iF,WAAYtyE,EAAEsyE,aAG9E,OAAO,SAAC3Z,EAAMjqE,GACV,OAAO,IAAI8lF,GAAc,CACrBzkC,MAAOj/C,EAAIi/C,MAAM4oB,EAAMjqE,GACvB2lF,eAAgB,CAAEvjF,EAAI8lF,gBAAgBje,EAAMjqE,GAAIoC,EAAI+lF,gBAAgBle,EAAMjqE,IAC1E4jF,WAAYxhF,EAAIwhF,WAAW3Z,EAAMjqE,MCVtC,SAASqoF,GAA6Bj9B,EAAO3qD,EAAUI,EAAGyQ,GAE7D,IAAIlP,EAAM,CACN+I,MAAO,SAAC8+D,EAAMjqE,GACV,OAAOA,IAIf,GAAe,QAAXa,EAAE+4B,MAA6B,QAAXtoB,EAAEsoB,KACtBx3B,EAAI+I,MAAQm0E,GAAuBl0B,EAAO3qD,EAAUI,EAAGyQ,QAEvD,GAAIzQ,EAAE+4B,MAAQtoB,EAAEsoB,KACZx3B,EAAI+I,MAAQm0E,GAAuBl0B,EAAO3qD,EAAUI,EAAGyQ,QAGvD,OAAOzQ,EAAE+4B,MACT,IAAK,kBACDx3B,EAAI+I,MAAQ48E,GAA8B38B,EAAO3qD,EAAUI,EAAGyQ,GAC9D,MACJ,IAAK,4BACDlP,EAAI+I,MCzBb,SAAiDigD,EAAO3qD,EAAUI,EAAGyQ,GAExE,IAAIm3C,EAAOs/B,GAA8B38B,EAAO3qD,EAAUI,EAAGyQ,GAE7D,OAAO,SAAC24D,EAAMjqE,GACV,IAAIoC,EAAMqmD,EAAKwhB,EAAMjqE,GAMrB,OALc,IAAIslF,GAAwB,CACtCjkC,MAAOj/C,EAAIi/C,MACXuiC,WAAYxhF,EAAIwhF,cDiBA0E,CAAuCl9B,EAAO3qD,EAAUI,EAAGyQ,GACvE,MACJ,IAAK,kBACDlP,EAAI+I,MAAQ88E,GAA8B78B,EAAO3qD,EAAUI,EAAGyQ,GAC9D,MACJ,IAAK,4BACDlP,EAAI+I,ME/Bb,SAAiDigD,EAAO3qD,EAAUI,EAAGyQ,GAExE,IAAIm3C,EAAOw/B,GAA8B78B,EAAO3qD,EAAUI,EAAGyQ,GAE7D,OAAO,SAAC24D,EAAMjqE,GACV,IAAIoC,EAAMqmD,EAAKwhB,EAAMjqE,GACrB,OAAO,IAAI4lF,GAAwB,CAC/BF,WAAYtjF,EAAIsjF,WAChBC,eAAgBvjF,EAAIujF,eACpB/B,WAAYxhF,EAAIwhF,cFsBA2E,CAAuCn9B,EAAO3qD,EAAUI,EAAGyQ,GACvE,MACJ,IAAK,iBACDlP,EAAI+I,MAAQi9E,GAA6Bh9B,EAAO3qD,EAAUI,EAAGyQ,GAC7D,MACJ,IAAK,2BACDlP,EAAI+I,MGrCb,SAAgDigD,EAAO3qD,EAAUI,EAAGyQ,GAEvE,IAAIm3C,EAAO2/B,GAA6Bh9B,EAAO3qD,EAAUI,EAAGyQ,GAE5D,OAAO,SAAC24D,EAAMjqE,GACV,IAAIoC,EAAMqmD,EAAKwhB,EAAMjqE,GACrB,OAAO,IAAImmF,GAAuB,CAC9B9kC,MAAOj/C,EAAIi/C,MACXskC,eAAgBvjF,EAAIujF,eACpB/B,WAAYxhF,EAAIwhF,cH4BA4E,CAAsCp9B,EAAO3qD,EAAUI,EAAGyQ,GAMlF,OAAO,SAAC24D,EAAMjqE,GAEV,OAAOoC,EAAI+I,MAAM8+D,EAAMjqE,IIzCxB,SAASyoF,GAA+Br9B,EAAO3qD,EAAU+vE,EAAYC,GAQxE,IANA,IAAI5vE,EAAI0lF,GAAgBrgB,WAAWoL,GAAcd,IAC7Cl/D,EAAIi1E,GAAgBrgB,WAAWoL,GAAcb,IAE7C1C,EAAc74D,KAAKypB,IAAI99B,EAAEW,OAAQ8P,EAAE9P,QAEnCmN,EAAO,GACH7P,EAAI,EAAGwR,EAAMy9D,EAAajvE,EAAIwR,EAAKxR,IAAK,CAC5C,IAAIujF,EAAcxhF,EAAE/B,IAAM,KACtBwjF,EAAYhxE,EAAExS,IAAM,KAEpBujF,IAAgBC,EAEhB3zE,EAAK1I,KAAK,CACNkF,MAAOskE,GAAwBrkB,EAAO3qD,EAAU4hF,EAAYl3E,OAC5DmT,KAAMmxD,GAAwBrkB,EAAO3qD,EAAU4hF,EAAY/jE,MAC3DoF,MAAO+rD,GAAwBrkB,EAAO3qD,EAAU4hF,EAAY3+D,OAC5DqiC,OAAQ0pB,GAAwBrkB,EAAO3qD,EAAU4hF,EAAYt8B,QAC7DphD,EAAG8qE,GAAwBrkB,EAAO3qD,EAAU4hF,EAAY19E,GACxDwgB,EAAGsqD,GAAwBrkB,EAAO3qD,EAAU4hF,EAAYl9D,GACxD2hE,UAAWrX,GAAwBrkB,EAAO3qD,EAAU4hF,EAAYyE,WAChE3V,OAAQ1B,GAAwBrkB,EAAO3qD,EAAU4hF,EAAYlR,WAEzDkR,GAAeC,EAEvB3zE,EAAK1I,KAAK,CACNkF,MAAOskE,GAAwBrkB,EAAO3qD,EAAU6hF,EAAUn3E,OAC1DmT,KAAMmxD,GAAwBrkB,EAAO3qD,EAAU6hF,EAAUhkE,MACzDoF,MAAO+rD,GAAwBrkB,EAAO3qD,EAAU6hF,EAAU5+D,OAC1DqiC,OAAQ0pB,GAAwBrkB,EAAO3qD,EAAU6hF,EAAUv8B,QAC3DphD,EAAG8qE,GAAwBrkB,EAAO3qD,EAAU6hF,EAAU39E,GACtDwgB,EAAGsqD,GAAwBrkB,EAAO3qD,EAAU6hF,EAAUn9D,GACtD2hE,UAAWrX,GAAwBrkB,EAAO3qD,EAAU6hF,EAAUwE,WAC9D3V,OAAQ1B,GAAwBrkB,EAAO3qD,EAAU6hF,EAAUnR,UAExDkR,GAAeC,GAEtB3zE,EAAK1I,KAAK,CACNkF,MAAOk9E,GAA6Bj9B,EAAO3qD,EAAU4hF,EAAYl3E,MAAOm3E,EAAUn3E,OAClFmT,KAAMikE,GAAsBn3B,EAAO3qD,EAAU4hF,EAAY/jE,KAAMgkE,EAAUhkE,MACzEoF,MAAOqsD,GAAsB3kB,EAAO3qD,EAAU4hF,EAAY3+D,MAAO4+D,EAAU5+D,MAAO,QAAS,QAC3FqiC,OAAQgqB,GAAsB3kB,EAAO3qD,EAAU4hF,EAAYt8B,OAAQu8B,EAAUv8B,OAAQ,SAAU,QAC/FphD,EAAGorE,GAAsB3kB,EAAO3qD,EAAU4hF,EAAY19E,EAAG29E,EAAU39E,EAAG,QAAS,QAC/EwgB,EAAG4qD,GAAsB3kB,EAAO3qD,EAAU4hF,EAAYl9D,EAAGm9D,EAAUn9D,EAAG,SAAU,QAChF2hE,UAAWvE,GAAsBn3B,EAAO3qD,EAAU4hF,EAAYyE,UAAWxE,EAAUwE,WACnF3V,OAAQoR,GAAsBn3B,EAAO3qD,EAAU4hF,EAAYlR,OAAQmR,EAAUnR,UAKzF,OAAO,SAAClH,EAAMjqE,GACV,OAAOumF,GAAgBpgF,KAAKwI,EAAKkJ,KAAI,SAAAu1B,GAWjC,MAVU,CACNjiC,MAAOiiC,EAAGjiC,MAAM8+D,EAAMjqE,GACtBse,KAAM8uB,EAAG9uB,KAAK2rD,EAAMjqE,GACpB2E,EAAGyoC,EAAGzoC,EAAEslE,EAAMjqE,GACdmlB,EAAGioB,EAAGjoB,EAAE8kD,EAAMjqE,GACd0jB,MAAO0pB,EAAG1pB,MAAMumD,EAAMjqE,GACtB+lD,OAAQ3Y,EAAG2Y,OAAOkkB,EAAMjqE,GACxB8mF,UAAW15C,EAAG05C,UAAU7c,EAAMjqE,GAC9BmxE,OAAQ/jC,EAAG+jC,OAAOlH,EAAMjqE,S,m/BCjExC,IAAM0oF,GAAa,wGACNC,GAAb,qIACE,WAA2B,IAAVvmF,EAAU,uDAAJ,GACrB,mEACEuoD,SAAU,UACPvoD,MAJT,sBAQE,WACE,gBAAU6B,KAAKklD,KAAKvvB,KAApB,YAA4B31B,KAAKklD,KAAKppD,OAAS,GAA/C,QATJ,oBAYE,SAAcqC,GACZ,IAAIwmF,EAAcC,GAAgBzmF,EAAIw3B,MAEtC,OAAIgvD,EACK,IAAIA,EAAYxmF,GAEhB,IAAI0mF,GAAa,CACtB/oF,MAAOqC,EAAIrC,UAnBnB,wBAwBE,SAAmBsG,GAEjB,IAAI0iF,EAAU,GAEd,IAAK1iF,EAAQ,OAAO0iF,EAEpB,IAAI57C,EAAUgxC,GAAe93E,GAgC7B,OA/Be8mC,EAAQ/lC,IAAIM,MAAMghF,KAAe,IACxC9wE,SAAQ,SAAC7X,EAAO6U,GACtB,MAAgC7U,EAAMyH,MAAM,KAA5C,YAAKwhF,EAAL,KAAiBC,EAAjB,KAGA,GAFAA,EAAcA,EAAYzhF,MAAM,KAAK,GAElB,gBAAfwhF,EAA8B,CAChC,IAAIhmF,EAAMimF,EAAYzhF,MAAM,KAExBk3E,EAAS17E,EACVqD,QAAO,SAAA+mC,GAAE,OAAIA,EAAGsb,SAAS,QACzB7wC,KAAI,SAAAu1B,GACH,OAAOkxC,GAAelxC,EAAID,EAAQ+nB,YAElCtjC,EAAS5uB,EAAIqD,QAAO,SAAA+mC,GAAE,OAAKA,EAAGsb,SAAS,QAG3CqgC,EAAQn0E,GAAS+zE,EAAOz/E,MAAM,CAC5B0wB,KAAMovD,EACNlK,QAASl4B,GAAO19C,MAAM0oB,EAAO,IAC7BmtD,QAASn4B,GAAO19C,MAAM0oB,EAAO,IAC7BotD,WAAYp4B,GAAO19C,MAAM0oB,EAAO,IAChCmsD,MAAOW,EAAO,IAAM,0BAItBqK,EAAQn0E,GAAS+zE,EAAOz/E,MAAM,CAC5B0wB,KAAMovD,EACNjpF,MAAO6mD,GAAO19C,MAAM+/E,QAInBF,IA9DX,kBAiEE,SAAap6E,GACX,OAAOA,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIu7C,EAAOz/E,MAAMkkC,MAAKjnC,KAAK,SAlEjD,GAA4BgsE,IAuEf+W,GAAb,qIACE,WACE,+DAA8B,CAC5BtvD,KAAM,OACN75B,MAAOmpF,EAAWC,KAAKC,iBAJ7B,2BAQE,WACE,uEAEKnlF,KAAKqnD,MAAM,cAXpB,GAAgCq9B,IAgBhCO,GAAWC,KAAO,CAChBE,UAAW,QACXl0E,IAAK,EACLwpB,IAAK,IACL6tC,KAAM,EACN3lB,KAAM,KACNyiC,MAAO,CAAC,KAAM,MACdF,aAAcxiC,GAAOtgC,KAGhB,IAAMwiE,GAAb,qIACE,WACE,+DAA8B,CAC5BlvD,KAAM,MACN75B,MAAO+oF,EAAaK,KAAKC,iBAJ/B,2BAQE,WACE,uEAEKnlF,KAAKqnD,MAAM,YAXpB,sBAeE,WACE,qBAAernD,KAAKklD,KAAKppD,OAAS,GAAlC,SAhBJ,GAAkC4oF,IAoBlCG,GAAaK,KAAO,CAClBE,UAAW,SACXD,aAAc,IAGT,IAAMG,GAAb,qIACE,WACE,+DAA8B,CAC5B3vD,KAAM,YACN75B,MAAOwpF,EAAgBJ,KAAKC,iBAJlC,2BAQE,WACE,uEAEKnlF,KAAKqnD,MAAM,cAXpB,GAAqCq9B,IAgBrCY,GAAgBJ,KAAO,CACrBE,UAAW,QACXl0E,IAAK,EACLwpB,IAAK,IACL6tC,KAAM,EACN3lB,KAAM,IACNyiC,MAAO,CAAC,KACRF,aAAcxiC,GAAOM,QAAQ,IAGxB,IAAMsiC,GAAb,qIACE,WACE,+DAA8B,CAC5B5vD,KAAM,aACN75B,MAAOypF,EAAgBL,KAAKC,mBAJlC,GAAqCT,IASrCa,GAAgBL,KAAO,CACrBE,UAAW,QACXl0E,IAAK,EACLwpB,IAAK,IACL6tC,KAAM,EACN3lB,KAAM,MACNyiC,MAAO,CAAC,OACRF,aAAcxiC,GAAOmB,IAAI,IAGpB,IAAM0hC,GAAb,qIACE,WACE,+DAA8B,CAC5B7vD,KAAM,SACN75B,MAAO0pF,EAAaN,KAAKC,mBAJ/B,GAAkCT,IASlCc,GAAaN,KAAO,CAClBE,UAAW,QACXl0E,IAAK,EACLwpB,IAAK,IACL6tC,KAAM,EACN3lB,KAAM,IACNyiC,MAAO,CAAC,KACRF,aAAcxiC,GAAOM,QAAQ,IAGxB,IAAMwiC,GAAb,qIACE,WACE,+DAA8B,CAC5B9vD,KAAM,aACN75B,MAAO2pF,EAAiBP,KAAKC,mBAJnC,GAAsCT,IAStCe,GAAiBP,KAAO,CACtBE,UAAW,QACXl0E,IAAK,EACLwpB,IAAK,IACL6tC,KAAM,EACN3lB,KAAM,IACNyiC,MAAO,CAAC,KACRF,aAAcxiC,GAAOM,QAAQ,MAGxB,IAAMyiC,GAAb,qIACE,WACE,+DAA8B,CAC5B/vD,KAAM,WACN75B,MAAO4pF,EAAeR,KAAKC,mBAJjC,GAAoCT,IASpCgB,GAAeR,KAAO,CACpBE,UAAW,QACXl0E,IAAK,EACLwpB,IAAK,IACL6tC,KAAM,EACN3lB,KAAM,IACNyiC,MAAO,CAAC,KACRF,aAAcxiC,GAAOM,QAAQ,MAGxB,IAAM0iC,GAAb,qIACE,WACE,+DAA8B,CAC5BhwD,KAAM,UACN75B,MAAO6pF,EAAcT,KAAKC,mBAJhC,GAAmCT,IASnCiB,GAAcT,KAAO,CACnBE,UAAW,QACXl0E,IAAK,EACLwpB,IAAK,IACL6tC,KAAM,EACN3lB,KAAM,IACNyiC,MAAO,CAAC,KACRF,aAAcxiC,GAAOM,QAAQ,MAGxB,IAAM2iC,GAAb,qIACE,WACE,+DAA8B,CAC5BjwD,KAAM,WACN75B,MAAO8pF,EAAeV,KAAKC,mBAJjC,GAAoCT,IASpCkB,GAAeV,KAAO,CACpBE,UAAW,QACXl0E,IAAK,EACLwpB,IAAK,IACL6tC,KAAM,EACN3lB,KAAM,IACNyiC,MAAO,CAAC,KACRF,aAAcxiC,GAAOM,QAAQ,MAGxB,IAAM4iC,GAAb,qIACE,WACE,+DAA8B,CAC5BlwD,KAAM,QACN75B,MAAO+pF,EAAYX,KAAKC,mBAJ9B,GAAiCT,IASjCmB,GAAYX,KAAO,CACjBE,UAAW,QACXl0E,IAAK,EACLwpB,IAAK,IACL6tC,KAAM,EACN3lB,KAAM,IACNyiC,MAAO,CAAC,KACRF,aAAcxiC,GAAOM,QAAQ,IAGxB,IAAM6iC,GAAb,qIACE,WACE,+DAA8B,CAC5BnwD,KAAM,cACNowD,OAAO,EACPlL,QAASiL,EAAiBZ,KAAKrK,QAAQsK,aACvCrK,QAASgL,EAAiBZ,KAAKpK,QAAQqK,aACvCpK,WAAY+K,EAAiBZ,KAAKnK,WAAWoK,aAC7CrL,MAAOgM,EAAiBZ,KAAKpL,MAAMqL,iBARzC,sBAYE,WACE,IAAIjgC,EAAOllD,KAAKklD,KAChB,4BAAsBA,EAAK21B,QAA3B,YAAsC31B,EAAK41B,QAA3C,YAAsD51B,EAAK61B,WAA3D,YAAyE71B,EAAK40B,MAA9E,SAdJ,GAAsC4K,IAkBtCoB,GAAiBZ,KAAO,CACtBrK,QAAS,CACPxsE,MAAO,WACP+2E,UAAW,QACXl0E,KAAM,IACNwpB,IAAK,IACL6tC,KAAM,EACN4c,aAAcxiC,GAAOtgC,IACrBugC,KAAM,KACNyiC,MAAO,CAAC,KAAM,OAEhBvK,QAAS,CACPzsE,MAAO,WACP+2E,UAAW,QACXl0E,KAAM,IACNwpB,IAAK,IACL6tC,KAAM,EACN4c,aAAcxiC,GAAOtgC,IACrBugC,KAAM,KACNyiC,MAAO,CAAC,KAAM,OAEhBtK,WAAY,CACV1sE,MAAO,cACP+2E,UAAW,QACXl0E,IAAK,EACLwpB,IAAK,IACL6tC,KAAM,EACN4c,aAAcxiC,GAAOtgC,IACrBugC,KAAM,KACNyiC,MAAO,CAAC,KAAM,KAAM,MAEtBvL,MAAO,CACLzrE,MAAO,QACP+2E,UAAW,QACXD,aAAc,mBACdviC,KAAM,UAIH,IAcMgiC,GAAkB,CAC7BzxB,KAAM8xB,GACNe,UAAWV,GACX,aAAcC,GACdxkC,OAAQykC,GACRzM,WAAY0M,GACZpJ,SAAUqJ,GACVO,QAASN,GACTO,SAAUN,GACVO,MAAON,GACP,cAAeC,GACfM,IAAKvB,ICzWA,SAASwB,GAA0Bl/B,EAAO3qD,EAAU+vE,EAAYC,GAEnE,IAAIruE,EAAM,CACNw3B,KAAM2oD,GAAsBn3B,EAAO3qD,EAAU+vE,EAAW52C,KAAM62C,EAAS72C,MACvE75B,MAAOu/E,GAAuBl0B,EAAO3qD,EAAU+vE,EAAWzwE,MAAO0wE,EAAS1wE,QAG9E,OAAOywE,EAAW52C,MAClB,IAAK,OACDx3B,EAAIrC,MAAQgwE,GAAsB3kB,EAAO3qD,EAAU+vE,EAAWzwE,MAAO0wE,EAAS1wE,OAC9E,MACJ,IAAK,YACL,IAAK,SACL,IAAK,aACL,IAAK,WACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,aACDqC,EAAIrC,MAAQuvE,GAAsBlkB,EAAO3qD,EAAU+vE,EAAWzwE,MAAMA,MAAO0wE,EAAS1wE,MAAMA,MAAOywE,EAAWzwE,MAAM8mD,MAClH,MACJ,IAAK,cACDzkD,EAAI08E,QAAU/O,GAAsB3kB,EAAO3qD,EAAU+vE,EAAWsO,QAASrO,EAASqO,QAAS,QAAS,QACpG18E,EAAI28E,QAAUhP,GAAsB3kB,EAAO3qD,EAAU+vE,EAAWuO,QAAStO,EAASsO,QAAS,SAAU,QACrG38E,EAAI48E,WAAajP,GAAsB3kB,EAAO3qD,EAAU+vE,EAAWwO,WAAYvO,EAASuO,WAAY,QAAS,QAC7G58E,EAAI68E,aAAelP,GAAsB3kB,EAAO3qD,EAAU+vE,EAAWyO,aAAcxO,EAASwO,aAAc,QAAS,QACnH78E,EAAI27E,MAAQmE,GAAqB92B,EAAO3qD,EAAU+vE,EAAWuN,MAAOtN,EAASsN,OAIjF,OAAO,SAAC9T,EAAMjqE,GAIV,MAAa,gBAFDoC,EAAIw3B,KAAKqwC,EAAMjqE,GAIhB,CACH45B,KAAMx3B,EAAIw3B,KAAKqwC,EAAMjqE,GACrB8+E,QAAS18E,EAAI08E,QAAQ7U,EAAMjqE,GAC3B++E,QAAS38E,EAAI28E,QAAQ9U,EAAMjqE,GAC3Bg/E,WAAY58E,EAAI48E,WAAW/U,EAAMjqE,GACjCi/E,aAAc78E,EAAI68E,aAAahV,EAAMjqE,GACrC+9E,MAAO37E,EAAI27E,MAAM9T,EAAMjqE,IAIpB,CACH45B,KAAMx3B,EAAIw3B,KAAKqwC,EAAMjqE,GACrBD,MAAOqC,EAAIrC,MAAMkqE,EAAMjqE,KCjDhC,SAASuqF,GAAsBn/B,EAAO3qD,EAAU+vE,EAAYC,GAO/D,IANA,IAAI5vE,EAAI8nF,GAAOziB,WAAWsK,GACtBl/D,EAAIq3E,GAAOziB,WAAWuK,GAEtB1C,EAAc74D,KAAKypB,IAAI99B,EAAEW,OAAQ8P,EAAE9P,QAEnCmN,EAAO,GACH7P,EAAI,EAAGwR,EAAMy9D,EAAajvE,EAAIwR,EAAKxR,IAAK,CAC5C,IAAIujF,EAAcxhF,EAAE/B,GAChBwjF,EAAYhxE,EAAExS,GAEdujF,IAAgBC,EAChB3zE,EAAK1I,KAAKwpE,GAAwBrkB,EAAO3qD,EAAU4hF,KAC3CA,GAAeC,EACvB3zE,EAAK1I,KAAKwpE,GAAwBrkB,EAAO3qD,EAAU6hF,IAG/CD,EAAYzoD,MAAQ0oD,EAAU1oD,MAA6B,QAArByoD,EAAYzoD,MAAqC,QAAnB0oD,EAAU1oD,KAC9EjrB,EAAK1I,KAAKq5E,GAAuBl0B,EAAO3qD,EAAU4hF,EAAaC,IAE/D3zE,EAAK1I,KAAKqkF,GAA0Bl/B,EAAO3qD,EAAU4hF,EAAaC,IAO9E,OAAO,SAACrY,EAAMjqE,GACV,OAAO2oF,GAAOxiF,KAAKwI,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG68B,EAAMjqE,QC/B5C,IAAMwqF,GAAb,0EACI,SAAcpjF,GACV,IAAI0qD,EAAO1qD,EAAII,MAAM,KAAKnB,QAAO,SAAA+mC,GAAE,OAAIA,EAAG9kC,UAAQuP,KAAI,SAAAu1B,GAAE,OAAIwZ,GAAO19C,MAAMkkC,MAErEsJ,EAAMkQ,GAAOM,QAAQ,GAAI1Q,EAAQoQ,GAAOM,QAAQ,GAAIzQ,EAASmQ,GAAOM,QAAQ,GAAI3Q,EAAOqQ,GAAOM,QAAQ,GAwB1G,OAtBoB,IAAhB4K,EAAKtwD,QACLk1C,EAAMob,EAAK,GAAGnjC,QACd6nB,EAAQsb,EAAK,GAAGnjC,QAChB8nB,EAASqb,EAAK,GAAGnjC,QACjB4nB,EAAOub,EAAK,GAAGnjC,SACQ,IAAhBmjC,EAAKtwD,QACZk1C,EAAMob,EAAK,GAAGnjC,QACd6nB,EAAQsb,EAAK,GAAGnjC,QAChB8nB,EAASqb,EAAK,GAAGnjC,QACjB4nB,EAAOub,EAAK,GAAGnjC,SACQ,IAAhBmjC,EAAKtwD,QACZk1C,EAAMob,EAAK,GAAGnjC,QACd6nB,EAAQsb,EAAK,GAAGnjC,QAChB8nB,EAASqb,EAAK,GAAGnjC,QACjB4nB,EAAOub,EAAK,GAAGnjC,SACQ,IAAhBmjC,EAAKtwD,SACZk1C,EAAMob,EAAK,GAAGnjC,QACd6nB,EAAQsb,EAAK,GAAGnjC,QAChB8nB,EAASqb,EAAK,GAAGnjC,QACjB4nB,EAAOub,EAAK,GAAGnjC,SAGZ,CAACmjC,EAAKtwD,OAAQk1C,EAAKF,EAAOC,EAAQF,OA5BjD,K,m/BCGA,IAAMk0C,GAAe,wJACRC,GAAb,qIAEI,WAA2B,IAAVtoF,EAAU,uDAAJ,GACnB,mEACIuoD,SAAU,YACV/wB,KAAM,OACN75B,MAAO,IACJqC,MAPf,2BAWI,WACI,uEAEO6B,KAAKqnD,MAAM,YAd1B,sBAkBI,WACI,IAAI1xB,EAAO31B,KAAKklD,KAAKvvB,KACjB75B,EAAQkE,KAAKklD,KAAKppD,MAClB+lD,EAAM7hD,KAAKklD,KAAKrD,IAEhB3Y,EAAU,GAEd,OAAOvT,GACH,IAAK,SACL,IAAK,QACL,IAAK,UACL,IAAK,UACL,IAAK,OACDuT,EAAU,GAAH,OAAMvT,EAAN,YAAc75B,EAAd,KACP,MACJ,IAAK,MACDotC,EAAU,QAAH,OAAWptC,EAAX,KACP,MACJ,QACIotC,EAAU,OAIlB,OAAO2Y,EAAM,GAAH,OAAMA,EAAN,YAAa3Y,GAAYA,IAzC3C,mBA4CI,WACI,MAAO,CACH,YAAalpC,KAAKwC,eA9C9B,oBAmDI,SAAcrE,GACV,OAAO,IAAIsoF,EAAStoF,GAAKgwE,UApDjC,sBAuDI,SAAiBhwE,GACb,OAAOsoF,EAAStY,MAAMhwE,GAAK,eAxDnC,mBA2DI,SAAcA,GACV,OAAO,IAAIsoF,EAAStoF,KA5D5B,wBA+DI,SAAmBgF,GAEf,IAAIujF,EAAW,GAEf,OAAKvjF,IAEUA,EAAIM,MAAM+iF,KAAiB,IAElC7yE,SAAQ,SAAC7X,EAAO6U,GAEpB,GAAI7U,EAAM2oD,SAAS,QACfiiC,EAAS7kC,IAAM/lD,MACZ,CACH,MAAoCA,EAAMyH,MAAM,KAAhD,YAAKojF,EAAL,KAAmBC,EAAnB,KAEAA,EAAgBA,GAAiB,GAG7BA,EADiB,SAAjBD,EACgB,GAEAC,EAAcrjF,MAAM,KAAK,GAG7CmjF,EAAS/wD,KAAOgxD,EAChBD,EAAS5qF,MAAQ8qF,MAIlBF,GAxBU,KAnEzB,iCA8FI,SAA4BvjF,GACxB,IAAIm6C,EAAS,IAAIqF,GAAO,GAAI,gBAAiByF,EAAW,GAExD,IADAjlD,EAAMA,GAAO,OACLshD,SAAS,MAAO,OACGthD,EAAII,MAAM,MAAMqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UADhC,YAClBi5C,EADkB,KACV8K,EADU,UAGpBA,EAAWjlD,EAAIkB,OAGnB,MAAa+jD,EAAS7kD,MAAM,KAA5B,YAAK7C,EAAL,KAAQwgB,EAAR,KASA,OAPIinB,GAAYjnB,KACZA,EAAIxgB,GAMD,CACH48C,SAAQ58C,EAJZA,EAAIiiD,GAAO19C,MAAMvE,GAIFwgB,EAHfA,EAAIyhC,GAAO19C,MAAMic,MA9GzB,kCAqHI,WAA8C,IAAjB/d,EAAiB,uDAAX,UAC3Bm6C,EAAS,UAAW8K,EAAW,GAEnC,IADAjlD,EAAMA,GAAO,OACLshD,SAAS,MAAO,OACGthD,EAAII,MAAM,MAAMqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UADhC,YAClBi5C,EADkB,KACV8K,EADU,UAGpBA,EAAWjlD,EAAIkB,OAGnB,MAAa+jD,EAAS7kD,MAAM,KAA5B,YAAK7C,EAAL,KAAQwgB,EAAR,KAEIinB,GAAYjnB,KACZA,EAAIxgB,GAGRA,EAAIiiD,GAAO19C,MAAMvE,GACjBwgB,EAAIyhC,GAAO19C,MAAMic,GAEjB,MAAyBo8B,EAAO/5C,MAAM,KAAtC,YAAKsjF,EAAL,KAAcC,EAAd,KASA,OAPI3+C,GAAY2+C,KACZA,EAAUD,GAMP,CACHA,QAJJA,EAAUlkC,GAAO19C,MAAM4hF,GAKnBC,QAJJA,EAAUnkC,GAAO19C,MAAM6hF,GAKnBpmF,IACAwgB,OApJZ,gCAwJI,WAAqC,IAAV/d,EAAU,uDAAJ,GAC7B,EAAqBA,EAAII,MAAM,SAA/B,YAAKq3E,EAAL,KAAYtjC,EAAZ,KAEA,EAAyCivC,GAAgBthF,MAAM21E,GAA/D,YAAKmM,EAAL,KAAat0C,EAAb,KAAkBF,EAAlB,KAAyBC,EAAzB,KAAiCF,EAAjC,KAEA,GAAIgF,EAEA,MAAsEivC,GAAgBthF,MAAMqyC,GAA5F,YAAK0vC,EAAL,KAAkBC,EAAlB,KAA6BC,EAA7B,KAA0CC,EAA1C,KAAwDC,EAAxD,KAIJ,MAAO,CACHjb,MAAkB,IAAX4a,EACPt0C,MACAF,QACAC,SACAF,OACAgF,QACA+vC,YAA6B,IAAhBL,EACbC,YACAC,cACAC,eACAC,gBA9KZ,kCAmLI,WAAuC,IAAVjkF,EAAU,uDAAJ,GAE/B,OAAOA,EAAII,MAAM,KAAKnB,QAAO,SAAA+mC,GAAE,OAAIA,EAAG9kC,UAAQuP,KAAI,SAAAu1B,GAC/C,MAAaA,EAAG9kC,OAAOd,MAAM,KAA7B,YAAK7C,EAAL,KAAQwgB,EAAR,KAEA,MAAO,CACHxgB,EAAGiiD,GAAO19C,MAAMvE,GAChBwgB,EAAGyhC,GAAO19C,MAAMic,WA1L/B,GAA8BgtD,ICCvB,SAASoZ,GAAwBngC,EAAO3qD,EAAU+vE,EAAYC,GAEjE,IAAI4R,EAAcqI,GAASxkB,WAAWsK,GAClC8R,EAAYoI,GAASxkB,WAAWuK,GAEhCruE,EAAM,CACNw3B,KAAM0lD,GAAuBl0B,EAAO3qD,EAAU4hF,EAAYzoD,KAAMyoD,EAAYzoD,MAC5E75B,MAAOu/E,GAAuBl0B,EAAO3qD,EAAU+vE,EAAYC,IAG/D,GAAI4R,EAAYzoD,MAAQ0oD,EAAU1oD,MAAuB,QAAfyoD,EACtC,OAAOA,EAAYzoD,MACnB,IAAK,SACDyoD,EAAYtiF,MAAQ2qF,GAASc,oBAAoBnJ,EAAYtiF,OAC7DuiF,EAAUviF,MAAQ2qF,GAASc,oBAAoBlJ,EAAUviF,OAEzDqC,EAAIrC,MCpBT,SAAwCqrD,EAAO3qD,EAAUI,EAAGyQ,GAK/D,IAAIlP,EAAM,GAqBV,MAlBiB,iBAAbvB,EAAE0gD,QACW,kBAAb1gD,EAAE0gD,QACW,iBAAbjwC,EAAEiwC,QACW,kBAAbjwC,EAAEiwC,OAEFn/C,EAAIm/C,OAAS+9B,GAAuBl0B,EAAO3qD,EAAUI,EAAE0gD,OAAQjwC,EAAEiwC,QAG7D1gD,EAAE0gD,OAAOsF,OAASv1C,EAAEiwC,OAAOsF,KAC3BzkD,EAAIm/C,OAAS+tB,sBAAsBlkB,EAAO3qD,EAAUI,EAAE0gD,OAAOxhD,MAAOuR,EAAEiwC,OAAOxhD,MAAOc,EAAE0gD,OAAOsF,MAE7FzkD,EAAIm/C,OAASwuB,GAAsB3kB,EAAO3qD,EAAUI,EAAE0gD,OAAQjwC,EAAEiwC,OAAQ,QAAS,QAIzFn/C,EAAIuC,EAAIorE,GAAsB3kB,EAAO3qD,EAAUI,EAAE8D,EAAG2M,EAAE3M,EAAG,QAAS,QAClEvC,EAAI+iB,EAAI4qD,GAAsB3kB,EAAO3qD,EAAUI,EAAEskB,EAAG7T,EAAE6T,EAAG,SAAU,QAE5D,SAAC8kD,EAAMjqE,GAEV,IAAIuhD,EAASn/C,EAAIm/C,OAAO0oB,EAAMjqE,GAC1B2E,EAAIvC,EAAIuC,EAAEslE,EAAMjqE,GAChBmlB,EAAI/iB,EAAI+iB,EAAE8kD,EAAMjqE,GAEhBmtC,EAAU,GAAH,OAAMxoC,EAAN,YAAWwgB,GAElBsmE,EAAelqC,EAAS,GAQ5B,OANIkqC,EAAa/iC,SAAS,gBACtB+iC,EAAe,eACRA,EAAa/iC,SAAS,mBAC7B+iC,EAAe,iBAGZlqC,EAAS,GAAH,OAAMkqC,EAAN,eAAyBt+C,GAAzB,UAAyCA,IDtBtCu+C,CAA8BtgC,EAAO3qD,EAAU4hF,EAAYtiF,MAAOuiF,EAAUviF,OAExF,MACJ,IAAK,UACDsiF,EAAYtiF,MAAQ2qF,GAASiB,qBAAqBtJ,EAAYtiF,OAC9DuiF,EAAUviF,MAAQ2qF,GAASiB,qBAAqBrJ,EAAUviF,OAE1DqC,EAAIrC,ME5BT,SAAyCqrD,EAAO3qD,EAAUI,EAAGyQ,GAEhE,IAAIlP,EAAM,CACN0oF,QAAS/a,GAAsB3kB,EAAO3qD,EAAUI,EAAEiqF,QAASx5E,EAAEw5E,QAAS,QAAS,QAC/EC,QAAShb,GAAsB3kB,EAAO3qD,EAAUI,EAAEkqF,QAASz5E,EAAEy5E,QAAS,SAAU,QAChFpmF,EAAGorE,GAAsB3kB,EAAO3qD,EAAUI,EAAE8D,EAAG2M,EAAE3M,EAAG,QAAS,QAC7DwgB,EAAG4qD,GAAsB3kB,EAAO3qD,EAAUI,EAAEskB,EAAG7T,EAAE6T,EAAG,SAAU,SAGlE,OAAO,SAAC8kD,EAAMjqE,GAEV,IAAI8qF,EAAU1oF,EAAI0oF,QAAQ7gB,EAAMjqE,GAC5B+qF,EAAU3oF,EAAI2oF,QAAQ9gB,EAAMjqE,GAC5B2E,EAAIvC,EAAIuC,EAAEslE,EAAMjqE,GAChBmlB,EAAI/iB,EAAI+iB,EAAE8kD,EAAMjqE,GAEpB,gBAAU8qF,EAAV,YAAqBC,EAArB,eAAmCpmF,EAAnC,YAAwCwgB,IFYxBymE,CAA+BxgC,EAAO3qD,EAAU4hF,EAAYtiF,MAAOuiF,EAAUviF,OACzF,MACJ,IAAK,QACDsiF,EAAYtiF,MAAQ2qF,GAASmB,mBAAmBxJ,EAAYtiF,OAC5DuiF,EAAUviF,MAAQ2qF,GAASmB,mBAAmBvJ,EAAUviF,OAExDqC,EAAIrC,MGjCT,SAAuCqrD,EAAO3qD,EAAUI,EAAGyQ,GAE9D,IAAIlP,EAAM,CACNs0C,IAAK44B,GAAsBlkB,EAAO3qD,EAAUI,EAAE61C,IAAI32C,MAAOuR,EAAEolC,IAAI32C,MAAOc,EAAE61C,IAAImQ,MAC5EtQ,KAAM+4B,GAAsBlkB,EAAO3qD,EAAUI,EAAE01C,KAAKx2C,MAAOuR,EAAEilC,KAAKx2C,MAAOc,EAAE01C,KAAKsQ,MAChFrQ,MAAO84B,GAAsBlkB,EAAO3qD,EAAUI,EAAE21C,MAAMz2C,MAAOuR,EAAEklC,MAAMz2C,MAAOc,EAAE21C,MAAMqQ,MACpFpQ,OAAQ64B,GAAsBlkB,EAAO3qD,EAAUI,EAAE41C,OAAO12C,MAAOuR,EAAEmlC,OAAO12C,MAAOc,EAAE41C,OAAOoQ,MACxFtL,MAAO+jC,GAAuBl0B,EAAO3qD,EAAUI,EAAE06C,MAAOjqC,EAAEiqC,OAC1D2vC,UAAW5b,GAAsBlkB,EAAO3qD,EAAUI,EAAEqqF,UAAUnrF,MAAOuR,EAAE45E,UAAUnrF,MAAOc,EAAEqqF,UAAUrkC,MACpGwkC,WAAY/b,GAAsBlkB,EAAO3qD,EAAUI,EAAEwqF,WAAWtrF,MAAOuR,EAAE+5E,WAAWtrF,MAAOc,EAAEwqF,WAAWxkC,MACxGskC,YAAa7b,GAAsBlkB,EAAO3qD,EAAUI,EAAEsqF,YAAYprF,MAAOuR,EAAE65E,YAAYprF,MAAOc,EAAEsqF,YAAYtkC,MAC5GukC,aAAc9b,GAAsBlkB,EAAO3qD,EAAUI,EAAEuqF,aAAarrF,MAAOuR,EAAE85E,aAAarrF,MAAOc,EAAEuqF,aAAavkC,OAGpH,OAAO,SAACojB,EAAMjqE,GAEV,IAAI02C,EAAMt0C,EAAIs0C,IAAIuzB,EAAMjqE,GACpBw2C,EAAQp0C,EAAIo0C,MAAMyzB,EAAMjqE,GACxBy2C,EAASr0C,EAAIq0C,OAAOwzB,EAAMjqE,GAC1Bu2C,EAAOn0C,EAAIm0C,KAAK0zB,EAAMjqE,GAEtBu7C,EAAQn5C,EAAIm5C,MAAM0uB,EAAMjqE,GAExBkrF,EAAY9oF,EAAI8oF,UAAUjhB,EAAMjqE,GAChCqrF,EAAajpF,EAAIipF,WAAWphB,EAAMjqE,GAClCorF,EAAehpF,EAAIgpF,aAAanhB,EAAMjqE,GACtCmrF,EAAc/oF,EAAI+oF,YAAYlhB,EAAMjqE,GAEpCqsD,EAAW,CAAC3V,EAAKF,EAAOC,EAAQF,GAAMpwC,KAAK,KAC3Co7C,EAAS,CAAC2pC,EAAWC,EAAaC,EAAcC,GAAYllF,KAAK,KAGrE,MAFc,GAAH,OAAMkmD,EAAN,YAAmB9Q,GAASgG,EAAOj5C,OAAjB,gBAAoCi5C,GAAW,KHG5DuqC,CAA6B1gC,EAAO3qD,EAAU4hF,EAAYtiF,MAAOuiF,EAAUviF,OACvF,MACJ,IAAK,UACDsiF,EAAYtiF,MAAQ2qF,GAASqB,qBAAqB1J,EAAYtiF,OAC9DuiF,EAAUviF,MAAQ2qF,GAASqB,qBAAqBzJ,EAAUviF,OAE1DqC,EAAIrC,MIvCT,SAAyCqrD,EAAO3qD,EAAUI,EAAGyQ,GAIhE,IAHA,IAAIqtB,EAAMzpB,KAAKypB,IAAI99B,EAAEW,OAAQ8P,EAAE9P,QAC3BmN,EAAO,GAEH7P,EAAI,EAAGA,EAAI6/B,EAAK7/B,IAAK,CACzB,IAAIktF,EAAWnrF,EAAE/B,GACbmtF,EAAS36E,EAAExS,GAEXktF,IAAaC,EACbt9E,EAAK1I,KAAK,CACNtB,EAAG8qE,GAAwBrkB,EAAO3qD,EAAUurF,EAASrnF,GACrDwgB,EAAGsqD,GAAwBrkB,EAAO3qD,EAAUurF,EAAS7mE,MAEjD6mE,GAAYC,EACpBt9E,EAAK1I,KAAK,CACNtB,EAAG8qE,GAAwBrkB,EAAO3qD,EAAUwrF,EAAOtnF,GACnDwgB,EAAGsqD,GAAwBrkB,EAAO3qD,EAAUwrF,EAAO9mE,KAGvDxW,EAAK1I,KAAK,CACNtB,EAAGorE,GAAsB3kB,EAAO3qD,EAAUurF,EAASrnF,EAAGsnF,EAAOtnF,EAAG,QAAS,QACzEwgB,EAAG4qD,GAAsB3kB,EAAO3qD,EAAUurF,EAAS7mE,EAAG8mE,EAAO9mE,EAAG,SAAU,UAMtF,OAAO,SAAC8kD,EAAMjqE,GACV,OAAO2O,EAAKkJ,KAAI,SAAAu1B,GACZ,gBAAUA,EAAGzoC,EAAEslE,EAAMjqE,GAArB,YAA2BotC,EAAGjoB,EAAE8kD,EAAMjqE,OACvCmG,KAAK,MJSQ+lF,CAA+B9gC,EAAO3qD,EAAU4hF,EAAYtiF,MAAOuiF,EAAUviF,OACzF,MACJ,IAAK,OACDsiF,EAAYtiF,MAAQ2qF,GAASyB,kBAAkB9J,EAAYtiF,OAC3DuiF,EAAUviF,MAAQ2qF,GAASyB,kBAAkB7J,EAAUviF,OAEvDqC,EAAIrC,MAAQqsF,4BAA4BhhC,EAAO3qD,EAAU4hF,EAAYtiF,MAAOuiF,EAAUviF,OAM9F,OAAO,SAACkqE,EAAMjqE,GAEV,IAAI45B,EAAOx3B,EAAIw3B,KAAKqwC,EAAMjqE,GACtBD,EAAQqC,EAAIrC,MAAMkqE,EAAMjqE,GAE5B,MAAa,SAAT45B,EACOA,EAGX,UAAWA,EAAX,YAAmB75B,EAAnB,MK/DR,IACMssF,GAAqB,IAAI77B,IAGlB87B,GAAb,wEAEI,SAAYjsF,GACR,OAAOgsF,GAAmB17B,IAAItwD,KAHtC,iBAMI,SAAYA,GACR,OAAOgsF,GAAmB1sF,IAAIU,KAPtC,iBAUI,SAAYA,EAAKwlE,GAETwmB,GAAmB/tE,KAhBP,KAiBZ+tE,GAAmBx0B,QAGvBw0B,GAAmB1tE,IAAIte,EAAKwlE,OAhBpC,K,6oBCEA,IAAM0mB,GAAgB,sHAETC,GAAb,qIACE,WACE,MAAO,CACL7hC,SAAU,YACV5qD,MAAO,MAJb,2BAQE,WACE,O,mWAAA,IACKkE,KAAKqnD,MAAM,WAAY,OAAQ,YAVxC,sBAcE,WACE,gBAAUrnD,KAAKklD,KAAKvvB,KAApB,YAA4B31B,KAAKklD,KAAKppD,MAAMoG,KAAK,OAAS,GAA1D,OAfJ,4BA+BE,WACE,IAAIyzB,EAAO31B,KAAKklD,KAAKvvB,KACrB,OAAOA,EAAK8uB,SAAS,WAAa9uB,EAAK8uB,SAAS,YAjCpD,mBAmBE,SAAY/5C,GAEV,IAGI3L,EAAM2L,EAAKtI,QAAO,SAAA+mC,GAAE,MAHR,gBAGYA,EAAGxT,QAC3B9lB,EAAOnF,EAAKtI,QAAO,SAAA+mC,GAAE,MAHV,aAGcA,EAAGxT,QAC5BrpB,EAAO5B,EAAKtI,QAAO,SAAA+mC,GAAE,MALT,gBAKaA,EAAGxT,MAJjB,aAIuCwT,EAAGxT,QAEzD,MAAO,eAAI52B,GAAJ,KAAYuN,GAAZ,KAAqBuD,IAAM+D,KAAI,SAAAu1B,GAAE,OAAI,IAAIo/C,EAAUp/C,GAAI3mC,cAAYN,KAAK,OA5BnF,mBAoCE,SAAa+Y,GACX,OAAO,IAAIstE,EAAUttE,KArCzB,oBAwCE,SAAcA,GAAsB,IAAX0a,EAAW,uDAAJ,GAM9B,MAJoB,iBAATA,IACTA,EAAO,CAACA,IAGH4yD,EAAUnmF,OAAO6Y,GAAW,SAAAkuB,GACjC,OAAkC,IAA3BxT,EAAK8uB,SAAStb,EAAGxT,WA/C9B,oBAmDE,SAAc1a,EAAWutE,GACvB,OAAOD,EAAUrmF,KAAKqmF,EAAUtmB,WAAWhnD,GAAW,GAAO7Y,QAAO,SAAA+mC,GAAE,OAAIq/C,EAAer/C,SApD7F,qBAuDE,SAAeluB,EAAWwtE,GAExB,IAAItqF,EAAMoqF,EAAUtmB,WAAWhnD,GAAW,GAEtCytE,EAAUvqF,EAAIooD,MAAK,SAAAxqD,GAAC,OAAIA,EAAE45B,OAAS8yD,EAAY9yD,QAQnD,OANI+yD,EACFA,EAAQ5sF,MAAQ2sF,EAAY3sF,MAE5BqC,EAAI6D,KAAKymF,GAGJF,EAAUrmF,KAAK/D,KAnE1B,wBAsEE,SAAkBwqF,EAAcC,GAI9B,IAHA,IAAIC,EAAON,EAAUtmB,WAAW0mB,GAAc,GAC1CG,EAAOP,EAAUtmB,WAAW2mB,GAEvB/tF,EAAI,EAAGwR,EAAMy8E,EAAKvrF,OAAQ1C,EAAIwR,EAAKxR,IAAK,CAC/C,IAAIkuF,EAAYD,EAAKjuF,GACjBmuF,EAAYH,EAAKtiC,MAAK,SAAAxqD,GAAC,OAAIA,EAAE45B,OAASozD,EAAUpzD,QAEhDqzD,EACFA,EAAUltF,MAAQitF,EAAUjtF,MAE5B+sF,EAAK7mF,KAAK+mF,GAId,OAAOR,EAAUrmF,KAAK2mF,KArF1B,0BAwFE,SAAoBF,EAAcC,GAIhC,IAHA,IAAIC,EAAON,EAAUtmB,WAAW0mB,GAAc,GAC1CG,EAAOP,EAAUtmB,WAAW2mB,GAEvB/tF,EAAI,EAAGwR,EAAMy8E,EAAKvrF,OAAQ1C,EAAIwR,EAAKxR,IAAK,CAC/C,IAAIkuF,EAAYD,EAAKjuF,GACjBmuF,EAAYH,EAAKtiC,MAAK,SAAAxqD,GAAC,OAAIA,EAAE45B,OAASozD,EAAUpzD,QAEhDqzD,EACFD,EAAUjtF,MAAM6X,SAAQ,SAAClJ,EAAG5P,GAC1BmuF,EAAUltF,MAAMjB,GAAGiB,OAAS2O,EAAE3O,SAGhC+sF,EAAK7mF,KAAK+mF,GAId,OAAOR,EAAUrmF,KAAK2mF,KAzG1B,iBAkHE,SAAW5tE,EAAW0a,GACpB,IAAI52B,EAAMwpF,EAAUtmB,WAAWhnD,GAAW,GAQ1C,GALElc,EADkB,mBAAT42B,EACH52B,EAAIwnD,KAAK5wB,GAET52B,EAAIwnD,MAAK,SAAApd,GAAE,OAAIA,EAAGxT,OAASA,KAIjC,OAAO52B,EAAIjD,QA5HjB,6BAkIE,SAAuBmf,EAAWmiC,EAAO9X,GACvC,gBAAUrqB,EAAV,cAAyBqqB,EAAzB,YAAkC8X,EAAlC,OAnIJ,oBAsIE,SAAcniC,EAAWmiC,GAAyB,IAAlB9X,EAAkB,uDAAV,SAEhClpC,EAAMmsF,EAAUU,gBAAgBhuE,EAAWmiC,EAAO9X,GAExD,OAAI+iD,GAAe37B,IAAItwD,IAEvBisF,GAAe3tE,IAAIte,EAAKmsF,EAAUnkF,QAAQ6W,EAAW,CAAE0a,KAAM2P,EAAOxpC,MAAO,CAACshD,MAFxCirC,GAAe3sF,IAAIU,KA1I3D,qBAiJE,SAAe6e,EAAWmiC,GACxB,OAAOmrC,EAAUW,OAAOjuE,EAAWmiC,EAAO,aAlJ9C,qBAqJE,SAAeniC,EAAWmiC,GACxB,OAAOmrC,EAAUW,OAAOjuE,EAAWmiC,EAAO,aAtJ9C,qBAyJE,SAAeniC,EAAWmiC,GACxB,OAAOmrC,EAAUW,OAAOjuE,EAAWmiC,EAAO,aA1J9C,wBAoKE,SAAkBniC,GAA2B,IAAhBkuE,IAAgB,yDAEvCC,EAAa,GAEjB,IAAKnuE,EAAW,OAAOmuE,EAGvB,GAAID,GAAWd,GAAe37B,IAAIzxC,GAChC,OAAOotE,GAAe3sF,IAAIuf,GAG5B,IAAIg2C,EAAWh2C,EAAUxX,MAAM6kF,KAAkB,GA0BjD,OAxBAr3B,EAAQt9C,SAAQ,SAAC7X,EAAO6U,GACtB,MAAsC7U,EAAMyH,MAAM,KAAlD,YAAK8lF,EAAL,KAAoBC,EAApB,KAGIvqF,GAFJuqF,EAAiBA,EAAe/lF,MAAM,KAAK,IAElBA,MAAM,KAG7BxE,EADEuqF,EAAe7kC,SAAS,WAAa6kC,EAAe7kC,SAAS,SACzD1lD,EAAI6U,KAAI,SAAAu1B,GAAE,OAAIwZ,GAAOgC,OAAOxb,EAAG9kC,WAE/BtF,EAAI6U,KAAI,SAAAu1B,GAAE,OAAIwZ,GAAO19C,MAAMkkC,EAAG9kC,WAItC+kF,EAAWz4E,GAAS43E,EAAUtjF,MAAM,CAClC0wB,KAAM0zD,EACNvtF,MAAOiD,OAKPoqF,GACFd,GAAe3tE,IAAIO,EAAWmuE,GAGzBA,IAzMX,mCAoNE,SAA6BG,EAAqB9pE,EAAOqiC,GAMvD,IAHA,IAAMzF,EAAOqE,EAAKvkD,SAGTtB,EAAI,EAAGwR,EAAMk9E,EAAoBhsF,OAAQ1C,EAAIwR,EAAKxR,IAAK,CAC9D,IAAMsuC,EAAKogD,EAAoB1uF,GAE/B,OAAQsuC,EAAGxT,MACT,IAAK,YACL,IAAK,aACL,IAAK,aACL,IAAK,aACH,IAAIhI,EAASwb,EAAGrtC,MACA,cAAZqtC,EAAGxT,KACLhI,EAAS,CAACA,EAAO,GAAGw1B,KAAK1jC,GAAO3jB,MAAO6xB,EAAO,GAAGw1B,KAAKrB,GAAQhmD,MAAO,GAChD,eAAZqtC,EAAGxT,KACZhI,EAAS,CAACA,EAAO,GAAGw1B,KAAK1jC,GAAO3jB,MAAO,EAAG,GACrB,eAAZqtC,EAAGxT,KACZhI,EAAS,CAAC,EAAGA,EAAO,GAAGw1B,KAAKrB,GAAQhmD,MAAO,GACtB,eAAZqtC,EAAGxT,OACZhI,EAAS,CAAC,EAAG,EAAGA,EAAO,GAAGw1B,OAAOrnD,QAGnC4kD,EAAKC,UAAUtE,EAAMA,EAAM1uB,GAC3B,MACF,IAAK,SACL,IAAK,UACH+yB,EAAKE,QAAQvE,EAAMA,EAAMU,GAAe5T,EAAGrtC,MAAM,GAAGA,QACpD,MACF,IAAK,UACH4kD,EAAK8oC,QAAQntC,EAAMA,EAAMU,GAAe5T,EAAGrtC,MAAM,GAAGA,QACpD,MACF,IAAK,UACH4kD,EAAK+oC,QAAQptC,EAAMA,EAAMU,GAAe5T,EAAGrtC,MAAM,GAAGA,QACpD,MACF,IAAK,WACC6xB,EAASwb,EAAGrtC,MAChB4kD,EAAKwoC,OAAO7sC,EAAMA,EAAMU,GAAe5T,EAAGrtC,MAAM,GAAGA,OAAQ,CACzD6xB,EAAO,GAAG7xB,MACV6xB,EAAO,GAAG7xB,MACV6xB,EAAO,GAAG7xB,QAEZ,MACF,IAAK,QACH4kD,EAAK/K,MAAM0G,EAAMA,EAAM,CAAClT,EAAGrtC,MAAM,GAAGA,MAAOqtC,EAAGrtC,MAAM,GAAGA,MAAO,IAC9D,MACF,IAAK,SACH4kD,EAAK/K,MAAM0G,EAAMA,EAAM,CAAClT,EAAGrtC,MAAM,GAAGA,MAAO,EAAG,IAC9C,MACF,IAAK,SACH4kD,EAAK/K,MAAM0G,EAAMA,EAAM,CAAC,EAAGlT,EAAGrtC,MAAM,GAAGA,MAAO,IAC9C,MACF,IAAK,SACH4kD,EAAK/K,MAAM0G,EAAMA,EAAM,CAAC,EAAG,EAAGlT,EAAGrtC,MAAM,GAAGA,QAC1C,MACF,IAAK,QAEH,IAAIyxC,EAAMpE,EAAGrtC,MAAM,GAAGkoD,QAAQ0lC,QAE9BhpC,EAAKxT,SAASmP,EAAMA,EAAMqE,EAAK1W,WAC7B,EAAG,EAAG,EAAG,EACT/4B,KAAKgiC,IAAI1F,EAAIzxC,OAAQ,EAAG,EAAG,EAC3B,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,IAEX,MACF,IAAK,QACCyxC,EAAMpE,EAAGrtC,MAAM,GAAGkoD,QAAQ0lC,QAC9BhpC,EAAKxT,SAASmP,EAAMA,EAAMqE,EAAK1W,WAC7B,EAAG/4B,KAAKgiC,IAAI1F,EAAIzxC,OAAQ,EAAG,EAC3B,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,IAEX,MACF,IAAK,OACD,IAAM6tF,EAAQxgD,EAAGrtC,MAAM,GAAGkoD,QAAQ0lC,QAC5BE,EAAQzgD,EAAGrtC,MAAMyB,OAAS,EAAI4rC,EAAGrtC,MAAM,GAAGkoD,QAAQ0lC,QAAUC,EAClEjpC,EAAKxT,SAASmP,EAAMA,EAAMqE,EAAK1W,WAC7B,EAAG/4B,KAAKgiC,IAAI22C,EAAM9tF,OAAQ,EAAG,EAC7BmV,KAAKgiC,IAAI02C,EAAM7tF,OAAQ,EAAG,EAAG,EAC7B,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,IAEX,MACJ,IAAK,SAEH6xB,EAAS,EADLA,EAASwb,EAAGrtC,OAEP,GAAGA,MAAO6xB,EAAO,GAAG7xB,MAAO,EAAG,EACrC6xB,EAAO,GAAG7xB,MAAO6xB,EAAO,GAAG7xB,MAAO,EAAG,EACrC,EAAG,EAAG,EAAG,EACT6xB,EAAO,GAAG7xB,MAAO6xB,EAAO,GAAG7xB,MAAO,EAAG,GAEvC4kD,EAAKxT,SAASmP,EAAMA,EAAM1uB,GAC1B,MACF,IAAK,WACCA,EAASwb,EAAGrtC,MAAM8X,KAAI,SAAAu1B,GAAE,OAAIA,EAAGrtC,SACnC4kD,EAAKxT,SAASmP,EAAMA,EAAM1uB,GAC1B,MACF,IAAK,cACCA,EAASwb,EAAGrtC,MAChB4kD,EAAKmpC,YAAYxtC,EAAgB,GAAVprC,KAAK64B,GAAUrqB,EAAQqiC,EAAQ,EAAGn0B,EAAO,GAAG7xB,QAKzE,OAAOugD,IAhUX,uBAkUE,SAAiB1G,GACf,GAAiB,IAAbA,EAAM,IAAyB,IAAbA,EAAM,GAC1B,MAAO,GAGT,IAAMjrC,EAAO,GAKb,OAJgB,GAAZirC,EAAM,IAASjrC,EAAK1I,KAAL,iBAAoB2zC,EAAM,GAA1B,MACH,GAAZA,EAAM,IAASjrC,EAAK1I,KAAL,iBAAoB2zC,EAAM,GAA1B,MACH,GAAZA,EAAM,IAASjrC,EAAK1I,KAAL,iBAAoB2zC,EAAM,GAA1B,MAEZjrC,EAAKxI,KAAK,SA5UrB,GAA+BgsE,ICLxB,SAAS4b,GAAgC3iC,EAAO3qD,EAAU+vE,EAAYC,GASzE,IAPA,IAAIruE,EAAM,CACNw3B,KAAM0lD,GAAuBl0B,EAAO3qD,EAAU+vE,EAAW52C,KAAM62C,EAAS72C,OAGxE75B,EAAQ,GACR4+B,EAAMzpB,KAAKypB,IAAI6xC,EAAWzwE,MAAMyB,OAAQivE,EAAS1wE,MAAMyB,QAEnD1C,EAAI,EAAGA,EAAI6/B,EAAK7/B,IAAK,CACzB,IAAI+B,EAAI2vE,EAAWzwE,MAAMjB,GACrBwS,EAAIm/D,EAAS1wE,MAAMjB,GAEnB+B,GAAKyQ,EAELvR,EAAMkG,KAAK8pE,GAAsB3kB,EAAO3qD,EAAUI,EAAGyQ,EAAGk/D,EAAW52C,OAEnE75B,EAAMkG,KACF8pE,GACI3kB,EACA3qD,EACA+vE,EAAWzwE,MAAMjB,IAAM0xE,EAAWzwE,MAAMjB,EAAE,IAAM0xE,EAAWzwE,MAAMjB,EAAE,GACnE2xE,EAAS1wE,MAAMjB,IAAM2xE,EAAS1wE,MAAMjB,EAAE,IAAM2xE,EAAS1wE,MAAMjB,EAAE,GAC7D0xE,EAAW52C,OAS3B,OAFAx3B,EAAIrC,MAAQA,EAEL,SAACkqE,EAAMjqE,GAEV,MAAO,CACH45B,KAAMx3B,EAAIw3B,KAAKqwC,EAAMjqE,GACrBD,MAAOqC,EAAIrC,MAAM8X,KAAI,SAAAu1B,GAAE,OAAIA,EAAG68B,EAAMjqE,QClCzC,SAASguF,GAAgC5iC,EAAO3qD,EAAU+vE,EAAYC,GASzE,IAPA,IAAIruE,EAAM,CACNw3B,KAAM0lD,GAAuBl0B,EAAO3qD,EAAU+vE,EAAW52C,KAAM62C,EAAS72C,OAGxE75B,EAAQ,GACR4+B,EAAMzpB,KAAKypB,IAAI6xC,EAAWzwE,MAAMyB,OAAQivE,EAAS1wE,MAAMyB,QAEnD1C,EAAI,EAAGA,EAAI6/B,EAAK7/B,IAAK,CACzB,IAAI+B,EAAI2vE,EAAWzwE,MAAMjB,GACrBwS,EAAIm/D,EAAS1wE,MAAMjB,GAEvB,GAAI+B,GAAKyQ,EACLvR,EAAMkG,KAAKqpE,GAAsBlkB,EAAO3qD,EAAUI,EAAEd,MAAOuR,EAAEvR,YAC1D,CACH,IAAIkuF,EAAKzd,EAAWzwE,MAAMjB,GAAGiB,OAASywE,EAAWzwE,MAAMjB,EAAE,GAAGiB,OAASywE,EAAWzwE,MAAMjB,EAAE,GAAGiB,MACvFmuF,EAAKzd,EAAS1wE,MAAMjB,GAAGiB,OAAS0wE,EAAS1wE,MAAMjB,EAAE,GAAGiB,OAASywE,EAAWzwE,MAAMjB,EAAE,GAAGiB,MACvFA,EAAMkG,KAAKqpE,GAAsBlkB,EAAO3qD,EAAUwtF,EAAGC,KAS7D,OAJA9rF,EAAIrC,MAAQA,EAIL,SAACkqE,EAAMjqE,GAEV,IAAID,EAAQqC,EAAIrC,MAAM8X,KAAI,SAAAu1B,GAAE,OAAIA,EAAG68B,EAAMjqE,MAErC45B,EAAOx3B,EAAIw3B,KAAKqwC,EAAMjqE,GAQ1B,OANI45B,EAAK8uB,SAAS,WAAa9uB,EAAK8uB,SAAS,YACzC3oD,EAAQA,EAAM8X,KAAI,SAAAu1B,GACd,OAAOwZ,GAAOgC,OAAOxb,OAItB,CAAExT,OAAM75B,UCxChB,SAASouF,GAAgC/iC,EAAO3qD,EAAU+vE,EAAYC,GASzE,IAPA,IAAIruE,EAAM,CACNw3B,KAAM0lD,GAAuBl0B,EAAO3qD,EAAU+vE,EAAW52C,KAAM62C,EAAS72C,OAGxE75B,EAAQ,GACR4+B,EAAMzpB,KAAKypB,IAAI6xC,EAAWzwE,MAAMyB,OAAQivE,EAAS1wE,MAAMyB,QAEnD1C,EAAI,EAAGA,EAAI6/B,EAAK7/B,IAAK,CACzB,IAAIsvF,EAAiB5d,EAAWzwE,MAAMjB,GAClCuvF,EAAe5d,EAAS1wE,MAAMjB,GAE9BsvF,GAAkBC,EAClBtuF,EAAMkG,KAAK88E,GAAsB33B,EAAO3qD,EAAU2tF,EAAgBC,IAElEtuF,EAAMkG,KACF88E,GACI33B,EACA3qD,EACA+vE,EAAWzwE,MAAMjB,IAAM0xE,EAAWzwE,MAAMjB,EAAE,IAAM0xE,EAAWzwE,MAAMjB,EAAE,GACnE2xE,EAAS1wE,MAAMjB,IAAM2xE,EAAS1wE,MAAMjB,EAAE,IAAM0xE,EAAWzwE,MAAMjB,EAAE,KAS/E,OAFAsD,EAAIrC,MAAQA,EAEL,SAACkqE,EAAMjqE,GAMV,MALc,CACV45B,KAAMx3B,EAAIw3B,KAAKqwC,EAAMjqE,GACrBD,MAAOqC,EAAIrC,MAAM8X,KAAI,SAAAu1B,GAAE,OAAIA,EAAG68B,EAAMjqE,QC7BzC,SAASsuF,GAAyBljC,EAAO3qD,EAAU+vE,EAAYC,GAOlE,IANA,IAAI4R,EAAcmK,GAAUtmB,WAAWsK,EAAWloE,QAC9Cg6E,EAAYkK,GAAUtmB,WAAWuK,EAASnoE,QAE1Cq2B,EAAMzpB,KAAKypB,IAAI0jD,EAAY7gF,OAAQ8gF,EAAU9gF,QAE7CmN,EAAO,GACH7P,EAAI,EAAGA,EAAI6/B,EAAK7/B,IAAK,CACzB,IAAI+B,EAAIwhF,EAAYvjF,GAChBwS,EAAIgxE,EAAUxjF,GAElB,GAAI+B,IAAMyQ,EACN3C,EAAK1I,KAAKwpE,GAAwBrkB,EAAO3qD,EAAUI,SAChD,IAAKA,GAAKyQ,EACb3C,EAAK1I,KAAKwpE,GAAwBrkB,EAAO3qD,EAAU6Q,SAChD,GAAIzQ,EAAE+4B,MAAQtoB,EAAEsoB,KACnBjrB,EAAK1I,KAAKq5E,GAAuBl0B,EAAO3qD,EAAUI,EAAGyQ,SAErD,OAAOzQ,EAAE+4B,MAGT,IAAK,YACL,IAAK,aACL,IAAK,aACL,IAAK,aACL,IAAK,cACL,IAAK,cACDjrB,EAAK1I,KAAK8nF,GAA+B3iC,EAAO3qD,EAAUI,EAAGyQ,IAC7D,MACJ,IAAK,SACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,WACD3C,EAAK1I,KAAKkoF,GAA+B/iC,EAAO3qD,EAAUI,EAAGyQ,IAC7D,MACJ,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,UACL,IAAK,SACL,IAAK,WACD3C,EAAK1I,KAAK+nF,GAA+B5iC,EAAO3qD,EAAUI,EAAGyQ,KAMzE,OAAO,SAAC24D,EAAMjqE,GAKV,OAJcwsF,GAAUrmF,KAAKwI,EAAKkJ,KAAI,SAAAu1B,GAClC,OAAOA,EAAG68B,EAAMjqE,QCxDrB,SAASuuF,GAA+BnjC,EAAO3qD,EAAU+vE,EAAYC,GAQxE,IANA,IAAI5vE,EAAI2vE,EAAWhpE,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIwZ,GAAO19C,MAAMkkC,MACjD97B,EAAIm/D,EAASjpE,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIwZ,GAAO19C,MAAMkkC,MAE/CzO,EAAMzpB,KAAKypB,IAAI99B,EAAEW,OAAQ8P,EAAE9P,QAE3BmN,EAAO,GACH7P,EAAI,EAAGA,EAAI6/B,EAAK7/B,IAAK,CACzB,IAAIktF,EAAWnrF,EAAE/B,GACbmtF,EAAS36E,EAAExS,GAEf6P,EAAK1I,KAAK8pE,GAAsB3kB,EAAO3qD,EAAUurF,EAAUC,EAAQ,qBAGvE,OAAO,SAAChiB,EAAMjqE,GAGV,OAFc2O,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG68B,EAAKjqE,MAAImG,KAAK,MChB/C,SAASqoF,GAAiCpjC,EAAO3qD,EAAU+vE,EAAYC,GAQ1E,IANA,IAAI5vE,EAAI2vE,EAAWhpE,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIwZ,GAAO19C,MAAMkkC,MACjD97B,EAAIm/D,EAASjpE,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIwZ,GAAO19C,MAAMkkC,MAE/CzO,EAAMzpB,KAAKypB,IAAI99B,EAAEW,OAAQ8P,EAAE9P,QAE3BmN,EAAO,GACH7P,EAAI,EAAGA,EAAI6/B,EAAK7/B,IAAK,CACzB,IAAIktF,EAAWnrF,EAAE/B,GACbmtF,EAAS36E,EAAExS,GAEf6P,EAAK1I,KAAK8pE,GAAsB3kB,EAAO3qD,EAAUurF,EAAUC,EAAQ,uBAGvE,OAAO,SAAChiB,EAAMjqE,GAGV,OAFc2O,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG68B,EAAKjqE,MAAImG,KAAK,MCjB/C,SAASsoF,GAAgCrjC,EAAO3qD,EAAU+vE,EAAYC,GAQzE,IANA,IAAI5vE,EAAI2vE,EAAWhpE,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAKA,KACrC97B,EAAIm/D,EAASjpE,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAKA,KAEnCzO,EAAMzpB,KAAKypB,IAAI99B,EAAEW,OAAQ8P,EAAE9P,QAE3BmN,EAAO,GACH7P,EAAI,EAAGA,EAAI6/B,EAAK7/B,IAAK,CACzB,IAAIktF,EAAWnrF,EAAE/B,GACbmtF,EAAS36E,EAAExS,GAEf6P,EAAK1I,KAAKqpE,GAAsBlkB,EAAO3qD,EAAUurF,EAAUC,IAG/D,OAAO,SAAChiB,EAAMjqE,GAGV,OAFc2O,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG68B,EAAKjqE,MAAImG,KAAK,M,ICJjCuoF,G,4EACjB,SAAen1E,EAAG8G,EAAGlhB,GACjB,OAAyB,IAArBgF,UAAU3C,OACH+X,EAAE5U,IAAM0b,EAAE1b,GAAK4U,EAAE4L,IAAM9E,EAAE8E,EACJ,IAArBhhB,UAAU3C,OACVktF,EAAMC,QAAQp1E,EAAG8G,IAAMquE,EAAMC,QAAQtuE,EAAGlhB,QAD5C,I,qBAKX,SAAgB2Z,GACZ,OAAOA,GAA0B,KAAjBA,EAAM81E,U,2BAI1B,SAAqBC,EAAWz4E,EAAQ9K,EAAOwI,GAC3C,KAAIA,GAAQxI,EAAQ,GAApB,CAQA,IANA,IAAIwjF,EAAW,EACXC,EAAazjF,EACX0jF,EAAOH,EAAYA,EACnBxiB,EAAaj2D,EAAO9K,GACpB8O,EAAYhE,EAAOtC,GAEjBhV,EAAIwM,EAAQ,EAAGxM,EAAIgV,EAAMhV,IAAK,CAElC,IAAM2nE,EAAQioB,EAAMO,iBAAiB74E,EAAOtX,GAAG6F,EAAGyR,EAAOtX,GAAGqmB,EAAGknD,EAAYjyD,GAEvEqsD,GAASqoB,IAEbC,EAAajwF,EACbgwF,EAAWroB,GAIXqoB,EAAWE,IACX54E,EAAO24E,GAAYhzD,MAAO,EAE1B2yD,EAAMQ,cAAcL,EAAWz4E,EAAQ9K,EAAOyjF,GAC9CL,EAAMQ,cAAcL,EAAWz4E,EAAQ24E,EAAYj7E,O,oBAI3D,SAAesC,GAAwB,IAAhBy4E,EAAgB,uDAAJ,GAE/B,OAAIz4E,EAAO5U,QAAU,EACV4U,IAGXA,EAASuY,GAAMvY,IAGR,GAAG2lB,MAAO,EACjB3lB,EAAOA,EAAO5U,OAAO,GAAGu6B,MAAO,EAG/B2yD,EAAMQ,cAAcL,EAAWz4E,EAAQ,EAAGA,EAAO5U,OAAO,GAEjD4U,EAAO/P,QAAO,SAAA+mC,GAAE,OAAIqf,QAAQrf,EAAGrR,Y,8BAG1C,SAAwBp3B,EAAGwgB,EAAG7L,EAAGoO,GAC7B,IAAIkiB,EAAKliB,EAAE/iB,EAAI2U,EAAE3U,EACbmlC,EAAKpiB,EAAEvC,EAAI7L,EAAE6L,EAEbgqE,EAAQvlD,EAAKA,EAAKE,EAAKA,EAEvBslD,EAAKzqF,EAAI2U,EAAE3U,EACX0qF,EAAKlqE,EAAI7L,EAAE6L,EACX7K,EAAMsvB,EAAKwlD,EAAKtlD,EAAKulD,EAEzB,GAAc,IAAVF,EAAa,OAAOC,EAAKA,EAAKC,EAAKA,EAEvC,GAAI/0E,GAAO,EAAG,OAAO80E,EAAKA,EAAKC,EAAKA,EAC/B,GAAI/0E,GAAO60E,EAIZ,OAHAC,EAAKzqF,EAAI+iB,EAAE/iB,GAGCyqF,GAFZC,EAAKlqE,EAAIuC,EAAEvC,GAEWkqE,EAEtB,IAAMC,EAAQF,EAAKtlD,EAAKulD,EAAKzlD,EAC7B,OAAO0lD,EAAQA,EAAMH,I,sBAM7B,SAAiB71E,EAAGoO,EAAGlO,GACnB,OAAIF,EAAE3U,IAAM6U,EAAE7U,EAAU+iB,EAAE/iB,IAAM6U,EAAE7U,EAC9B2U,EAAE6L,IAAM3L,EAAE2L,EAAUuC,EAAEvC,IAAM3L,EAAE2L,GAC1B7L,EAAE3U,EAAI6U,EAAE7U,IAAM2U,EAAE6L,EAAI3L,EAAE2L,KAAQ3L,EAAE7U,EAAI+iB,EAAE/iB,IAAM6U,EAAE2L,EAAIuC,EAAEvC,K,oBAGhE,SAAerM,GACX,OAAO41E,EAAMa,SAASz2E,EAAM02E,SAAU12E,EAAMuzD,WAAYvzD,EAAM22E,gB,6BAGlE,SAAuBnkF,EAAOyJ,GAE1B,MAAkBktC,EAAKnG,KAAK,GAAI,CAAC/mC,EAAIpQ,EAAGoQ,EAAIoQ,EAAG,GAAI,CAAC7Z,EAAM3G,EAAG2G,EAAM6Z,EAAG,GAAI,GAA1E,YAAOxgB,EAAP,KAAUwgB,EAAV,UAEA,MAAO,CAAExgB,IAAGwgB,O,2BAGhB,SAAsB/O,EAAQxB,GAC1B,OAAOwB,EAAOxB,K,sBAGlB,SAAiBwB,EAAQqqC,GACrB,OAAOrqC,EAAO/P,QAAO,SAAAzF,GACjB,OAAO8tF,EAAMC,QAAQ/tF,EAAEyrE,WAAY5rB,MACpC,K,sBAWP,SAAiBrqC,EAAQqqC,GAErB,IADA,IAAIivC,GAAc,EACV5wF,EAAI,EAAGwR,EAAM8F,EAAO5U,OAAQ1C,EAAIwR,EAAKxR,IAAK,CAC9C,IAAI8B,EAAIwV,EAAOtX,GAEf,GAAI4vF,EAAMC,QAAQ/tF,EAAEyrE,WAAY5rB,GAAK,CACjCivC,EAAa5wF,EACb,OAGR,OAAO4wF,I,0BAGX,SAAqBt5E,GAEjB,IAAMu5E,EAAY,GACdC,EAAa,EAOjB,OANAx5E,EAAOwB,SAAQ,SAACkB,EAAOlE,GACG,MAAlBkE,EAAM81E,SACNe,EAAU1pF,KAAK,CAAE6S,QAAOlE,QAAOg7E,WAAYA,SAI5CD,I,iCAIX,SAA4Bv5E,GAIxB,IAHA,IAAMy5E,EAAclhE,GAAMvY,GACpB05E,EAAmB,GAEjBhxF,EAAI,EAAG8wF,GAAc,EAAGt/E,EAAMu/E,EAAYruF,OAAS1C,EAAIwR,EAAKxR,IAAK,CACrE,IAAMga,EAAQ+2E,EAAY/wF,GACJ,MAAlBga,EAAM81E,UAENkB,IADAF,GAC+B,CAC3BG,gBAAiBjxF,EACjBga,QACA1C,OAAQ,KAIhB05E,EAAiBF,GAAYx5E,OAAOnQ,KAAK6S,GAG7C,OAAOg3E,I,sBAGX,SAAgBH,EAAWK,GAGvB,OAFaL,EAAUtpF,QAAO,SAAA4pF,GAAK,OAAIA,EAAMn3E,MAAMlE,OAASo7E,KAEhDzkE,Q,2BAYhB,SAAsBnV,EAAQxB,GAE1B,IADA,IAAIg7E,GAAc,EACV9wF,EAAI,EAAGwR,EAAM8F,EAAO5U,OAAQ1C,EAAIwR,EAAKxR,IAKzC,GAJ0B,MAAtBsX,EAAOtX,GAAG8vF,SACVgB,IAGAx5E,EAAOtX,GAAG8V,QAAUA,EACpB,OAAOg7E,I,0BAKnB,SAAqBx5E,EAAQxB,GAEzB,IAAKwB,EAAO5U,OAAQ,OAAO,KAG3B,IADA,IAAI+iF,GAAa,EACTzlF,EAAI8V,EAAQ,EAAGtE,EAAM8F,EAAO5U,OAAQ1C,EAAIwR,EAAKxR,IACjD,GAA0B,MAAtBsX,EAAOtX,GAAG8vF,QAAiB,CAC3BrK,EAAYzlF,EAAI,EAChB,OAIU,GAAdylF,IACAA,EAAYnuE,EAAO5U,OAAS,GAG5B4U,EAAOmuE,IAA4C,MAA9BnuE,EAAOmuE,GAAWqK,UACvCrK,GAAa,GAGjB,IAAIzrE,EAAQ1C,EAAOmuE,GAMnB,OAJIzrE,IACAA,EAAMlE,MAAQ2vE,GAGXzrE,I,2BAGX,SAAsB1C,EAAQxB,GAE1B,IADA,IAAI86E,GAAc,EACT5wF,EAAI8V,EAAQ,EAAG9V,EAAI,EAAGA,IAC3B,GAA0B,MAAtBsX,EAAOtX,GAAG8vF,QAAiB,CAC3Bc,EAAa5wF,EACb,OAIY,IAAhB4wF,IACAA,EAAa,GAGjB,IAAI52E,EAAQ1C,EAAOs5E,GAMnB,OAJI52E,IACAA,EAAMlE,MAAQ86E,GAGX52E,I,mCAGX,SAA8B1C,EAAQxB,GAClC,IAAMs7E,EAAU95E,EAAOxB,GACvB,OAAOwB,EAAO/P,QAAO,SAACzF,EAAG9B,GAAJ,OAAUA,IAAM8V,GAAS85E,EAAMC,QAAQ/tF,EAAEyrE,WAAY6jB,EAAQ7jB,iB,0BAGtF,SAAqBj2D,EAAQxB,GACzB,IAAIu7E,EAAYv7E,EAAQ,EAExB,GAAIu7E,EAAY,EACZ,OAAOzB,EAAM0B,aAAah6E,EAAQxB,GAGtC,IAAIkE,EAAQ1C,EAAO+5E,GAMnB,OAJIr3E,IACAA,EAAMlE,MAAQu7E,GAGXr3E,I,0BAIX,SAAqB1C,EAAQxB,GAEzB,IAAIy7E,EAAej6E,EAAOxB,GACtBy5D,EAAYj4D,EAAOxB,EAAQ,GAU/B,OARIy5D,IACAA,EAAUz5D,MAAQA,EAAQ,IAG1By7E,EAAaC,WAAaD,EAAaluE,SACvCksD,EAAYqgB,EAAM6B,cAAcn6E,EAAQxB,IAGrCy5D,I,yBAGX,SAAoBj4D,EAAQo6E,EAAQC,GAChC,GAAgB,eAAZA,EACA,OAAOr6E,EAAO/P,QAAO,SAACutB,EAAGhf,GAAJ,OAAcA,IAAU47E,O,yBAIrD,SAAoBp6E,GAEhB,IAAIs6E,EAAoB,GACpBC,EAAa,GAWjB,OATAv6E,EAAOwB,SAAQ,SAAAhX,GACP8tF,EAAMkC,QAAQhwF,IACd+vF,EAAa,CAAC/vF,GACd8vF,EAAkBzqF,KAAK0qF,IAEvBA,EAAW1qF,KAAKrF,MAIjB8vF,I,2BAGX,SAAsBG,GAClB,IAAMC,EAAY,GAsBlB,OAnBAD,EAAWj5E,SAAQ,SAAAxB,GAGfA,EAAOwB,SAAQ,SAAChX,EAAGgU,GAED,IAAVA,IACAhU,EAAEguF,QAAU,IACZhuF,EAAEmwF,gBAAkB,QAI5BD,EAAU7qF,KAAK7B,MAAM0sF,EAAW16E,MAIpC06E,EAAUl5E,SAAQ,SAAChX,EAAGgU,GAClBhU,EAAEgU,MAAQA,KAGPk8E,M,KCrVFE,GAAb,sEASI,SAASrsF,EAAGwgB,GACR,MAAO,CACHypE,QAAS,IAAKh9D,OAAQ,CAACjtB,EAAGwgB,MAXtC,eAsBI,SAASxgB,EAAGwgB,GACR,MAAO,CACHypE,QAAS,IAAKh9D,OAAQ,CAACjtB,EAAGwgB,MAxBtC,eAqCI,SAAShJ,EAAIw8B,EAAIh0C,EAAGwgB,GAChB,MAAO,CACHypE,QAAS,IAAKh9D,OAAQ,CAACzV,EAAIw8B,EAAIh0C,EAAGwgB,MAvC9C,eAsDI,SAAShJ,EAAIw8B,EAAIpG,EAAIC,EAAI7tC,EAAGwgB,GACxB,MAAO,CACHypE,QAAS,IAAKh9D,OAAQ,CAACzV,EAAIw8B,EAAIpG,EAAIC,EAAI7tC,EAAGwgB,MAxDtD,eAwEI,SAASk/B,EAAIC,EAAI2sC,EAAMC,EAAKC,EAAIxsF,EAAGwgB,GAC/B,MAAO,CACHypE,QAAS,IAAKh9D,OAAQ,CAACyyB,EAAIC,EAAI2sC,EAAMC,EAAKC,EAAIxsF,EAAGwgB,MA1E7D,eAmFI,WACI,MAAO,CACHypE,QAAS,IAAKh9D,OAAQ,QArFlC,K,oBCLIw/D,GAAgb,SAAUpuF,EAAKlE,GAAK,GAAIqG,MAAMC,QAAQpC,GAAQ,OAAOA,EAAY,GAAInD,OAAOwH,YAAY7H,OAAOwD,GAAQ,OAAxf,SAAuBA,EAAKlE,GAAK,IAAI+J,EAAO,GAAQ00B,GAAK,EAAUC,GAAK,EAAWF,OAAKh5B,EAAW,IAAM,IAAK,IAAiC+4B,EAA7Bz0B,EAAK5F,EAAInD,OAAOwH,cAAmBk2B,GAAMF,EAAKz0B,EAAG4kB,QAAQ3pB,QAAoBgF,EAAK5C,KAAKo3B,EAAGt9B,QAAYjB,GAAK+J,EAAKrH,SAAW1C,GAA3Dy+B,GAAK,IAAoE,MAAOl5B,GAAOm5B,GAAK,EAAMF,EAAKj5B,EAAO,QAAU,KAAWk5B,GAAM30B,EAAW,QAAGA,EAAW,SAAO,QAAU,GAAI40B,EAAI,MAAMF,GAAQ,OAAOz0B,EAA6HwoF,CAAcruF,EAAKlE,GAAa,MAAM,IAAIsC,UAAU,yDAEllBkwF,GAAgB,EAAVp8E,KAAK64B,GAEXwjD,GAAe,SAAsBj5E,EAAM+rC,EAAIC,EAAIktC,EAAQC,EAAQr4C,EAASC,GAC9E,IAAI10C,EAAI2T,EAAK3T,EACTwgB,EAAI7M,EAAK6M,EAQb,MAAO,CACLxgB,EAJO6sF,GAHT7sF,GAAK0/C,GAGiBotC,GAFtBtsE,GAAKm/B,GAMKlL,EACRj0B,EAJOssE,EAAS9sF,EAAI6sF,EAASrsE,EAIrBk0B,IAIRq4C,GAAgB,SAAuBC,EAAMC,GAG/C,IAAIr4E,EAAa,qBAATq4E,EAA8B,eAA2B,qBAAVA,GAAgC,cAAiB,EAAI,EAAI18E,KAAKgiC,IAAI06C,EAAO,GAE5Hz1E,EAAKjH,KAAK68B,IAAI4/C,GACdh5C,EAAKzjC,KAAK48B,IAAI6/C,GACdp/C,EAAKr9B,KAAK68B,IAAI4/C,EAAOC,GACrBp/C,EAAKt9B,KAAK48B,IAAI6/C,EAAOC,GAEzB,MAAO,CAAC,CACNjtF,EAAGwX,EAAKw8B,EAAKp/B,EACb4L,EAAGwzB,EAAKx8B,EAAK5C,GACZ,CACD5U,EAAG4tC,EAAKC,EAAKj5B,EACb4L,EAAGqtB,EAAKD,EAAKh5B,GACZ,CACD5U,EAAG4tC,EACHptB,EAAGqtB,KAIHq/C,GAAc,SAAqB33E,EAAI43E,EAAIC,EAAIC,GACjD,IAEI13E,EAAMJ,EAAK63E,EAAKD,EAAKE,EAUzB,OARI13E,EAAM,IACRA,EAAM,GAGJA,GAAO,IACTA,GAAO,IATEJ,EAAK83E,EAAKF,EAAKC,EAAK,GAAK,EAAI,GAY1B78E,KAAKqoC,KAAKjjC,IA+HX,GApFG,SAAqB23E,GACrC,IAAIrqC,EAAKqqC,EAAMrqC,GACX2e,EAAK0rB,EAAM1rB,GACX7mB,EAAKuyC,EAAMvyC,GACXC,EAAKsyC,EAAMtyC,GACX0E,EAAK4tC,EAAM5tC,GACXC,EAAK2tC,EAAM3tC,GACX4tC,EAAsBD,EAAME,cAC5BA,OAAwC7tF,IAAxB4tF,EAAoC,EAAIA,EACxDE,EAAqBH,EAAMI,aAC3BA,OAAsC/tF,IAAvB8tF,EAAmC,EAAIA,EACtDE,EAAkBL,EAAMM,UACxBA,OAAgCjuF,IAApBguF,EAAgC,EAAIA,EAEhDE,EAAS,GAEb,GAAW,IAAPnuC,GAAmB,IAAPC,EACd,MAAO,GAGT,IAAImtC,EAASv8E,KAAK48B,IAAIqgD,EAAgBb,GAAM,KACxCE,EAASt8E,KAAK68B,IAAIogD,EAAgBb,GAAM,KAExCmB,EAAMjB,GAAU5pC,EAAKlI,GAAM,EAAI+xC,GAAUlrB,EAAK5mB,GAAM,EACpD+yC,GAAOjB,GAAU7pC,EAAKlI,GAAM,EAAI8xC,GAAUjrB,EAAK5mB,GAAM,EAEzD,GAAY,IAAR8yC,GAAqB,IAARC,EACf,MAAO,GAGTruC,EAAKnvC,KAAKu1B,IAAI4Z,GACdC,EAAKpvC,KAAKu1B,IAAI6Z,GAEd,IAAIquC,EAASz9E,KAAKqpC,IAAIk0C,EAAK,GAAKv9E,KAAKqpC,IAAI8F,EAAI,GAAKnvC,KAAKqpC,IAAIm0C,EAAK,GAAKx9E,KAAKqpC,IAAI+F,EAAI,GAE9EquC,EAAS,IACXtuC,GAAMnvC,KAAK8/B,KAAK29C,GAChBruC,GAAMpvC,KAAK8/B,KAAK29C,IAGlB,IAAIC,EAhFa,SAAsBhrC,EAAI2e,EAAI7mB,EAAIC,EAAI0E,EAAIC,EAAI+tC,EAAcE,EAAWd,EAAQD,EAAQiB,EAAKC,GAC7G,IAAIG,EAAO39E,KAAKqpC,IAAI8F,EAAI,GACpByuC,EAAO59E,KAAKqpC,IAAI+F,EAAI,GACpByuC,EAAQ79E,KAAKqpC,IAAIk0C,EAAK,GACtBO,EAAQ99E,KAAKqpC,IAAIm0C,EAAK,GAEtBO,EAAWJ,EAAOC,EAAOD,EAAOG,EAAQF,EAAOC,EAE/CE,EAAW,IACbA,EAAW,GAGbA,GAAYJ,EAAOG,EAAQF,EAAOC,EAGlC,IAAIG,GAFJD,EAAW/9E,KAAK8/B,KAAKi+C,IAAaZ,IAAiBE,GAAa,EAAI,IAE1CluC,EAAKC,EAAKouC,EAChCS,EAAWF,GAAY3uC,EAAKD,EAAKouC,EAEjCr5C,EAAUo4C,EAAS0B,EAAWzB,EAAS0B,GAAYvrC,EAAKlI,GAAM,EAC9DrG,EAAUo4C,EAASyB,EAAW1B,EAAS2B,GAAY5sB,EAAK5mB,GAAM,EAE9DyzC,GAAOX,EAAMS,GAAY7uC,EACzBgvC,GAAOX,EAAMS,GAAY7uC,EACzBgvC,IAAQb,EAAMS,GAAY7uC,EAC1BkvC,IAAQb,EAAMS,GAAY7uC,EAE1BqtC,EAAOE,GAAY,EAAG,EAAGuB,EAAKC,GAC9BzB,EAAOC,GAAYuB,EAAKC,EAAKC,EAAKC,GAUtC,OARkB,IAAdhB,GAAmBX,EAAO,IAC5BA,GAAQN,IAGQ,IAAdiB,GAAmBX,EAAO,IAC5BA,GAAQN,IAGH,CAACl4C,EAASC,EAASs4C,EAAMC,GA2CZ4B,CAAa5rC,EAAI2e,EAAI7mB,EAAIC,EAAI0E,EAAIC,EAAI+tC,EAAcE,EAAWd,EAAQD,EAAQiB,EAAKC,GACnGe,EAAiBrC,GAAewB,EAAe,GAC/Cx5C,EAAUq6C,EAAe,GACzBp6C,EAAUo6C,EAAe,GACzB9B,EAAO8B,EAAe,GACtB7B,EAAO6B,EAAe,GAQtB/jB,EAAQx6D,KAAKu1B,IAAImnD,IAASN,GAAM,GAChCp8E,KAAKu1B,IAAI,EAAMilC,GAAS,OAC1BA,EAAQ,GAGV,IAAIgkB,EAAWx+E,KAAKypB,IAAIzpB,KAAKomC,KAAKo0B,GAAQ,GAE1CkiB,GAAQ8B,EAER,IAAK,IAAI50F,EAAI,EAAGA,EAAI40F,EAAU50F,IAC5B0zF,EAAOvsF,KAAKyrF,GAAcC,EAAMC,IAChCD,GAAQC,EAGV,OAAOY,EAAO36E,KAAI,SAAU4zD,GAC1B,IAAIkoB,EAAgBpC,GAAa9lB,EAAM,GAAIpnB,EAAIC,EAAIktC,EAAQC,EAAQr4C,EAASC,GACxEl9B,EAAKw3E,EAAchvF,EACnBg0C,EAAKg7C,EAAcxuE,EAEnByuE,EAAiBrC,GAAa9lB,EAAM,GAAIpnB,EAAIC,EAAIktC,EAAQC,EAAQr4C,EAASC,GACzE9G,EAAKqhD,EAAejvF,EACpB6tC,EAAKohD,EAAezuE,EAEpB0uE,EAAiBtC,GAAa9lB,EAAM,GAAIpnB,EAAIC,EAAIktC,EAAQC,EAAQr4C,EAASC,GAI7E,MAAO,CAAEl9B,GAAIA,EAAIw8B,GAAIA,EAAIpG,GAAIA,EAAIC,GAAIA,EAAI7tC,EAHjCkvF,EAAelvF,EAGwBwgB,EAFvC0uE,EAAe1uE,OCpKrB2uE,GAA4B,sDAE9BC,GAAY,oCACKC,G,WAMjB,aAA6B,IAAjBC,EAAiB,uDAAJ,GAAI,YACzBhwF,KAAKu3B,MAAMy4D,G,iCAGf,WAAuB,IAAjBA,EAAiB,uDAAJ,GACfhwF,KAAKyvF,SAAW,GAChBzvF,KAAKgwF,WAAaA,EAAW3rF,OAE7BrE,KAAKiF,U,2BAST,SAAcwqF,GAIV,OAHAzvF,KAAKyvF,SAAWA,GAAY,GAC5BzvF,KAAKgwF,WAAahwF,KAAKiwF,WAEhBjwF,O,yBASX,SAAYyvF,EAAUx0E,GAClB,OAAOjb,KAAKkwF,cAAL,eAAuBlwF,KAAKyvF,UAA5B,KAAyCA,O,qBASpD,SAASU,GAAsC,IAA3Bl1E,EAA2B,uDAAfylC,EAAKvkD,SAC3Bi0F,EAAUD,EAAUzlE,QAE1B,OADA0lE,EAAQhyC,cAAcnjC,GACfjb,KAAKqwF,YAAYD,EAAQX,Y,kBAGpC,WAAe,IAAVtsF,EAAU,uDAAJ,GACHpE,EAAMoE,EAAIM,MAAMqsF,KAAc,GAClC,OAAO/wF,EAAIqD,QAAO,SAAA+mC,GAAE,MAAU,IAANA,O,mBAS5B,WAAQ,WACApqC,EAAMiB,KAAKgwF,WAAWvsF,MAAMosF,KAA8B,GAE9D7vF,KAAKyvF,SAAW1wF,EAAI6U,KAAI,SAAAhX,GACpB,IAAI+tF,EAAU/tF,EAAE,GAGhB,MAAO,CAAE+tF,UAASh9D,OAFL,EAAKtpB,KAAKzH,EAAEwH,QAAQumF,EAAS,KAAK/2E,KAAI,SAAAu1B,GAAE,OAAKA,SAS9DnpC,KAAKyvF,SAAWzvF,KAAKyvF,SAAS77E,KAAI,SAAChX,EAAG+T,GAAU,gBAC5C,OAAQ/T,EAAE+tF,SACN,IAAK,MACGxyD,EAAO,EAAKs3D,SAAS9+E,EAAQ,KAEJ,KAAhBwnB,EAAKwyD,SAAkC,KAAhBxyD,EAAKwyD,UACrCxyD,EAAO,EAAKs3D,SAAS9+E,EAAQ,IAKjC,IAHA,IAAIjQ,GAAQ,QAAJ,EAAAy3B,SAAA,eAAMxK,OAAOwK,EAAKxK,OAAOpwB,OAAS,KAAM,EAC5C2jB,GAAQ,QAAJ,EAAAiX,SAAA,eAAMxK,OAAOwK,EAAKxK,OAAOpwB,OAAS,KAAM,EAEvC1C,EAAI,EAAGwR,EAAMzP,EAAE+wB,OAAOpwB,OAAQ1C,EAAIwR,EAAKxR,GAAK,EACjD+B,EAAE+wB,OAAO9yB,IAAM6F,EACf9D,EAAE+wB,OAAO9yB,EAAI,IAAMqmB,EAGvB,MAAO,CACHypE,QAAS/tF,EAAE+tF,QAAQhxD,cACnBhM,OAAQ,KAAI/wB,EAAE+wB,SAEtB,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IAKD,IAHIjtB,GAAQ,QAAJ,EADJy3B,EAAO,EAAKs3D,SAAS9+E,EAAQ,UACzB,eAAMgd,OAAOwK,EAAKxK,OAAOpwB,OAAS,KAAM,EAC5C2jB,GAAQ,QAAJ,EAAAiX,SAAA,eAAMxK,OAAOwK,EAAKxK,OAAOpwB,OAAS,KAAM,EAEvC1C,EAAI,EAAGwR,EAAMzP,EAAE+wB,OAAOpwB,OAAQ1C,EAAIwR,EAAKxR,GAAK,EACjD+B,EAAE+wB,OAAO9yB,IAAM6F,EACf9D,EAAE+wB,OAAO9yB,EAAI,IAAMqmB,EAGvB,MAAO,CACHypE,QAAS/tF,EAAE+tF,QAAQhxD,cACnBhM,OAAQ,KAAI/wB,EAAE+wB,SAEtB,IAAK,IACD,IAAIwK,EACAz3B,GAAQ,QAAJ,EADJy3B,EAAO,EAAKs3D,SAAS9+E,EAAQ,UACzB,eAAMgd,OAAOwK,EAAKxK,OAAOpwB,OAAS,KAAM,EAC5C2jB,GAAQ,QAAJ,EAAAiX,SAAA,eAAMxK,OAAOwK,EAAKxK,OAAOpwB,OAAS,KAAM,EAMhD,OAHAX,EAAE+wB,OAAO,IAAMjtB,EACf9D,EAAE+wB,OAAO,IAAMzM,EAER,CACHypE,QAAS/tF,EAAE+tF,QAAQhxD,cACnBhM,OAAQ,KAAI/wB,EAAE+wB,SAEtB,IAAK,IACD,MAAO,CACHg9D,QAAS/tF,EAAE+tF,QAAQhxD,cACnBhM,OAAQ,IAEhB,QACI,OAAO/wB,MAInB,IAAM0zF,EAAc,GA0BpB,OAxBAtwF,KAAKyvF,SAAS97E,SAAQ,SAACw1B,EAAIx4B,GACvB,IAAMwnB,EAAO,EAAKs3D,SAAS9+E,EAAQ,GAEnC,GAAkB,KAAdw4B,EAAGwhD,QAAgB,CAEnB,IAAMzyE,GAAKigB,aAAA,EAAAA,EAAMxK,OAAOwK,EAAKxK,OAAOpwB,OAAS,KAAM,EAC7Cm3C,GAAKvc,aAAA,EAAAA,EAAMxK,OAAOwK,EAAKxK,OAAOpwB,OAAS,KAAM,EAGnD,OAAyD4rC,EAAGxb,OAA5D,GAAOyyB,EAAP,KAAWC,EAAX,KAAekwC,EAAf,KAAwBnC,EAAxB,KAAsCE,EAAtC,KAAiD5tF,EAAjD,KAAoDwgB,EAApD,KAEa6uE,EAAWS,WAAWt4E,EAAIw8B,EAAI0L,EAAIC,EAAIkwC,EAASnC,EAAcE,EAAW5tF,EAAGwgB,GAEnFuuE,SAAS97E,SAAQ,SAAA88E,GACE,MAAhBA,EAAI9F,SAAmC,MAAhB8F,EAAI9F,SAC3B2F,EAAYtuF,KAAKyuF,WAIzBH,EAAYtuF,KAAKmnC,MAKlBnpC,O,8BAGX,WAII,IAFA,IAAImS,EAAS,GAEJxB,EAAQ,EAAGtE,EAAMrM,KAAKyvF,SAASlyF,OAAQoT,EAAQtE,EAAKsE,IAAS,CAClE,IAAI/T,EAAIoD,KAAKyvF,SAAS9+E,GAClB+/E,EAAc1wF,KAAKyvF,SAAS9+E,EAAQ,GAChCg6E,EAAoB/tF,EAApB+tF,QAASh9D,EAAW/wB,EAAX+wB,OAEjB,GAAgB,MAAZg9D,EAAiB,CACjB,WAAah9D,EAAb,GAAKjtB,EAAL,KAAQwgB,EAAR,KACA/O,EAAOnQ,KAAK,CACR2oF,UACAmC,gBAAiBnC,EACjBviB,WAAY,CAAE1nE,IAAGwgB,KACjBqqE,SAAU,CAAE7qF,IAAGwgB,KACfsqE,aAAc,CAAE9qF,IAAGwgB,KACnBsmD,OAAO,SAER,GAAgB,MAAZmjB,EAAiB,CAGxB,IAFIgG,EAAYlG,GAAMmG,aAAaz+E,EAAQA,EAAO5U,SAEpCiqE,MAAO,CACjB,WAAa75C,EAAb,GAAKjtB,EAAL,KAAQwgB,EAAR,KACA/O,EAAOnQ,KAAK,CACR2oF,UACAmC,gBAAiBnC,EACjBviB,WAAY,CAAE1nE,IAAGwgB,KACjBqqE,SAAU,CAAE7qF,IAAGwgB,KACfsqE,aAAc9gE,GAAMimE,EAAUpF,UAC9B/jB,OAAO,QAER,CAEH,WAAa75C,EAAb,GAAKjtB,EAAL,KAAQwgB,EAAR,KACA/O,EAAOnQ,KAAK,CACR2oF,UACAmC,gBAAiBnC,EACjBviB,WAAY,CAAE1nE,IAAGwgB,KACjBqqE,SAAU,CAAE7qF,IAAGwgB,KACfsqE,aAAc,CAAE9qF,IAAGwgB,KACnBsmD,OAAO,UAIZ,GAAgB,MAAZmjB,EAAiB,CACxB,WAAuBh9D,EAAvB,GAAKm6C,EAAL,KAAUC,EAAV,KAAernE,EAAf,KAAkBwgB,EAAlB,KAGA,IAFIyvE,EAAYlG,GAAMmG,aAAaz+E,EAAQA,EAAO5U,SAEpCiqE,MAAO,CACjB,IAAIY,EAAa,CAAE1nE,IAAGwgB,KAClBqqE,EAAW,CAAE7qF,IAAGwgB,KAChBsqE,EAAe,CAAE9qF,IAAGwgB,KACxB/O,EAAOnQ,KAAK,CACR2oF,QAAS,IACTmC,gBAAiBnC,EACjBviB,aACAmjB,WACAC,eACAhkB,OAAO,IAGXmpB,EAAUpF,SAAW,CAAE7qF,EAAGonE,EAAK5mD,EAAG6mD,QAKlC,GAAI2oB,GAAuC,MAAxBA,EAAY/F,QAAiB,CAC5CgG,EAAUnpB,OAAQ,EAClBmpB,EAAUpF,SAAW,CAAE7qF,EAAGonE,EAAK5mD,EAAG6mD,GAE9BK,EAAa,CAAE1nE,IAAGwgB,KAClBsqE,EAAe,CAAE9qF,IAAGwgB,KACpBqqE,EAAW,CAAE7qF,IAAGwgB,KAEpB/O,EAAOnQ,KAAK,CACR2oF,QAAS,IACTmC,gBAAiBnC,EACjBnjB,OAAO,EACPY,aACAmjB,WACAC,qBAGD,CAECpjB,EAAa,CAAE1nE,IAAGwgB,KAClBsqE,EAAe,CAAE9qF,EAAGonE,EAAK5mD,EAAG6mD,GAC5BwjB,EAAW,CAAE7qF,IAAGwgB,KAEpB/O,EAAOnQ,KAAK,CACR2oF,UACAmC,gBAAiBnC,EACjBnjB,OAAO,EACPY,aACAmjB,WACAC,uBAMT,GAAgB,MAAZb,EAAiB,CACxB,WAAah9D,EAAb,GAAKjtB,EAAL,KAAQwgB,EAAR,KAKA,IAFI2vE,EAAcpB,SAAS9+E,EAAQ,KAEQ,MAAxBkgF,EAAYlG,QAAiB,CAC5C,WAAyBkG,EAAYljE,OAArC,GAAesjB,GAAV62B,EAAL,KAAUC,EAAV,WAAmB72B,EAAnB,MAEIy/C,EAAYlG,GAAMmG,aAAaz+E,EAAQA,EAAO5U,SACxCguF,SAAWd,GAAMqG,gBAAgB,CAAEpwF,EAAGuwC,EAAI/vB,EAAGgwB,GAAM,CAAExwC,EAAGonE,EAAK5mD,EAAG6mD,IAEtEK,EAAa,CAAE1nE,IAAGwgB,KAClBqqE,EAAW,CAAE7qF,IAAGwgB,KAChBsqE,EAAe,CAAE9qF,IAAGwgB,KACxB/O,EAAOnQ,KAAK,CACR2oF,QAAS,IACTmC,gBAAiBnC,EACjBviB,aACAmjB,WACAC,eACAhkB,OAAO,UAKZ,GAAgB,MAAZmjB,EAAiB,CAExB,IAAIgG,EAAYlG,GAAMmG,aAAaz+E,EAAQA,EAAO5U,QAElD,OAAiCowB,EAAjC,GAAeq6C,GAAVF,EAAL,KAAUC,EAAV,WAAoBE,EAApB,KACIG,EAAa,CAAE1nE,EADMA,EAAzB,KACsBwgB,EADMA,EAA5B,MAEIsqE,EAAe,CAAE9qF,EAAGsnE,EAAK9mD,EAAG+mD,GAC5BsjB,EAAW,CAAE7qF,IAAGwgB,KAEpB/O,EAAOnQ,KAAK,CACR2oF,UACAmC,gBAAiBnC,EACjBnjB,OAAO,EACPY,aACAmjB,WACAC,iBAGAmF,IACAA,EAAUnpB,OAAQ,EAClBmpB,EAAUpF,SAAW,CAAE7qF,EAAGonE,EAAK5mD,EAAG6mD,SAEnC,GAAgB,MAAZ4iB,EAAiB,CACxB,IAGIkG,EAHJ,OAAaljE,EAAb,GAAKjtB,EAAL,KAAQwgB,EAAR,KAKA,IAFI2vE,EAAcpB,SAAS9+E,EAAQ,KAEQ,MAAxBkgF,EAAYlG,QAAiB,CAC5C,WAAyBkG,EAAYljE,OAArC,GAAKq6C,EAAL,KAAUC,EAAV,KAAeh3B,EAAf,KAAmBC,EAAnB,MAEIy/C,EAAYlG,GAAMmG,aAAaz+E,EAAQA,EAAO5U,SACxCguF,SAAWd,GAAMqG,gBAAgBH,EAAUvoB,WAAYuoB,EAAUnF,cAEvEpjB,EAAa,CAAE1nE,IAAGwgB,KAClBqqE,EAAW,CAAE7qF,IAAGwgB,KAChBsqE,EAAe,CAAE9qF,EAAGsnE,EAAK9mD,EAAG+mD,GAChC91D,EAAOnQ,KAAK,CACR2oF,QAAS,IACTmC,gBAAiBnC,EACjBviB,aACAmjB,WACAC,eACAhkB,OAAO,UAKZ,GAAgB,MAAZmjB,EAAiB,CACpBgG,EAAYlG,GAAMmG,aAAaz+E,EAAQA,EAAO5U,QAAlD,IACI2Y,EAAau0E,GAAM6B,cAAcn6E,EAAQA,EAAO5U,QAEhDktF,GAAMC,QAAQiG,EAAUvoB,WAAYlyD,EAAWkyD,cAC/CuoB,EAAUtE,WAAY,EAEtBsE,EAAUpF,SAAW7gE,GAAMxU,EAAWq1E,UACtCr1E,EAAWs1E,aAAe9gE,GAAMimE,EAAUnF,eAG9CmF,EAAUzyE,OAAQ,GAO1B,OAFA/L,EAASA,EAAO/P,QAAO,SAAAzF,GAAC,QAAMA,O,yBASlC,SAAYgU,EAAO8/E,GACfzwF,KAAKyvF,SAAS9+E,GAAS8/E,I,yBAG3B,SAAY9/E,GACR,OAAIy3B,GAAez3B,GACR3Q,KAAKyvF,SAAS9+E,GAElB3Q,KAAKyvF,W,sBAUhB,SAASA,GAAsB,IAAZlsF,EAAY,uDAAJ,GACnBmH,EAAQ+kF,GAAYzvF,KAAKyvF,SAC7B,OAAO/kF,EAAKkJ,KAAI,SAAAu1B,GACZ,gBAAUA,EAAGwhD,QAAb,YAAwBxhD,EAAGxb,OAAOpwB,OAAS4rC,EAAGxb,OAAOzrB,KAAK,KAAO,OAClEA,KAAKqB,K,kBAKZ,SAAKmJ,GAA4B,WAAlBqkF,EAAkB,wDACzBT,EAActwF,KAAKyvF,SAAS77E,KAAI,SAAC44E,EAAS77E,GAC1C,OAAOjE,EAAS1R,KAAK,EAAMwxF,EAAS77E,MAGxC,OAAIogF,EACOT,GAEPtwF,KAAKyvF,SAAWa,EAGbtwF,Q,mBAGX,SAAM/E,GAAqB,IAAlB81F,EAAkB,wDACvB,OAAO/wF,KAAKgxF,MAAK,SAAUxE,GACvB,IAAI/hF,EAAI+hF,EAAQ7+D,OAGhB,OAFQ6+D,EAAQ7B,SAGZ,IAAK,IACL,IAAK,IACD,IAAIzlF,EAASjK,EAAEwP,EAAG,GAClB+hF,EAAQ7+D,OAAS,CAACzoB,EAAO,GAAIA,EAAO,IACpC,MACJ,IAAK,IACGA,EAASjK,EAAE,EAAEwP,EAAE,GAAI,IACvB+hF,EAAQ7+D,OAAS,CAACzoB,EAAO,IACzB,MACJ,IAAK,IACGA,EAASjK,EAAE,CAAC,GAAIwP,EAAE,KACtB+hF,EAAQ7+D,OAAS,CAACzoB,EAAO,IACzB,MACJ,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACD,IAAK,IAAIrK,EAAI,EAAGwR,EAAM5B,EAAElN,OAAQ1C,EAAIwR,EAAKxR,GAAK,EAAG,CACzCqK,EAASjK,EAAEwP,EAAG5P,GAClB2xF,EAAQ7+D,OAAO9yB,GAAKqK,EAAO,GAC3BsnF,EAAQ7+D,OAAO9yB,EAAI,GAAKqK,EAAO,IAQ3C,OAAOsnF,IAERuE,K,mBAGP,WACI,IAAM1gF,EAAO,IAAI0/E,EASjB,OAPA1/E,EAAK6/E,cAAclwF,KAAKyvF,SAAS77E,KAAI,SAAAu1B,GACjC,MAAO,CACHwhD,QAASxhD,EAAGwhD,QACZh9D,OAAQwb,EAAGxb,OAAOnsB,aAInB6O,I,uBAGX,SAAUqI,EAAIu4E,GAEV,OADAjxF,KAAKo+C,cAAcsC,EAAK3S,gBAAgB,GAAI,CAACr1B,EAAIu4E,EAAI,KAC9CjxF,O,yBAGX,SAAY0Y,EAAIu4E,GACZ,OAAOjxF,KAAKiwF,SAASjwF,KAAKo+C,cAAcsC,EAAK3S,gBAAgB,GAAI,CAACr1B,EAAIu4E,EAAI,KAAK,M,mBAGnF,SAAMhgD,EAAIC,GAEN,OADAlxC,KAAKo+C,cAAcsC,EAAK1S,YAAY,GAAI,CAACiD,EAAIC,EAAI,KAC1ClxC,O,qBAGX,SAAQixC,EAAIC,GACR,OAAOlxC,KAAKiwF,SAASjwF,KAAKo+C,cAAcsC,EAAK1S,YAAY,GAAI,CAACiD,EAAIC,EAAI,KAAK,M,uBAG/E,SAAUzxB,EAAOqiC,GACb,IAAMsuC,EAAUpwF,KAAK0qB,QACftL,EAAO+kD,GAAmBisB,EAAQhgC,WACxCggC,EAAQzvC,WAAWvhC,EAAK1e,GAAI0e,EAAK8B,GAEjC,IAAMy0B,EAAQ1kC,KAAKC,IAAIuO,EAAQL,EAAKK,MAAOqiC,EAAS1iC,EAAK0iC,QAEzD,OAAOsuC,EAAQz6C,MAAMA,EAAOA,GAAOgL,UAAUlhC,EAAM,EAAKL,EAAKK,MAAM,EAAEk2B,EAAQmM,EAAO,EAAK1iC,EAAK0iC,OAAO,EAAEnM,K,oBAG3G,SAAOyH,GAAiC,IAA1BG,EAA0B,uDAAhB,EAAGE,EAAa,uDAAH,EAC3BpB,EAAOqE,EAAKvkD,SAMlB,OALAukD,EAAKxT,SAASmP,EAAMA,EAAMqE,EAAK3S,gBAAgB,GAAI,CAACwP,EAASE,EAAS,KACtEiD,EAAKxT,SAASmP,EAAMA,EAAMqE,EAAKtS,cAAc,GAAI2O,GAAeK,KAChEsD,EAAKxT,SAASmP,EAAMA,EAAMqE,EAAK3S,gBAAgB,GAAIiQ,EAAKtG,OAAO,GAAI,CAAC6F,EAASE,EAAS,MAEtFz9C,KAAKo+C,cAAc/B,GACZr8C,O,sBAGX,SAASo9C,GAAiC,IAA1BG,EAA0B,uDAAhB,EAAGE,EAAa,uDAAH,EAE7BpB,EAAOqE,EAAKvkD,SAKlB,OAJAukD,EAAKxT,SAASmP,EAAMA,EAAMqE,EAAK3S,gBAAgB,GAAI,CAACwP,EAASE,EAAS,KACtEiD,EAAKxT,SAASmP,EAAMA,EAAMqE,EAAKtS,cAAc,GAAI2O,GAAeK,KAChEsD,EAAKxT,SAASmP,EAAMA,EAAMqE,EAAK3S,gBAAgB,GAAIiQ,EAAKtG,OAAO,GAAI,CAAC6F,EAASE,EAAS,MAE/Ez9C,KAAKiwF,SAASjwF,KAAKo+C,cAAc/B,GAAM,M,8BAGlD,WAEI,OADAr8C,KAAKo+C,cAAcsC,EAAK1S,YAAY,GAAI,EAAE,GAAI,EAAG,KAC1ChuC,O,gCAGX,WACI,OAAOA,KAAKiwF,SACRjwF,KAAKo+C,cACDsC,EAAK1S,YAAY,GAAI,EAAE,GAAI,EAAG,KAC9B,M,mBAKZ,WAEI,OADAhuC,KAAKo+C,cAAcsC,EAAK1S,YAAY,GAAI,CAAC,GAAI,EAAG,KACzChuC,O,qBAGX,WACI,OAAOA,KAAKiwF,SACRjwF,KAAKo+C,cACDsC,EAAK1S,YAAY,GAAI,CAAC,GAAI,EAAG,KAC7B,M,mBAKZ,WAEI,OADAhuC,KAAKo+C,cAAcsC,EAAK1S,YAAY,GAAI,EAAE,EAAG,EAAG,KACzChuC,O,qBAGX,WACI,OAAOA,KAAKiwF,SACRjwF,KAAKo+C,cACDsC,EAAK1S,YAAY,GAAI,EAAE,EAAG,EAAG,KAC7B,M,mBAMZ,SAAMoP,GASF,OARAp9C,KAAKo+C,cACDsC,EAAK1W,WACD,EAAG/4B,KAAKgiC,IAAI8J,GAAeK,IAAS,EAAG,EACvC,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,IAGVp9C,O,qBAIX,SAAQo9C,GACJ,OAAOp9C,KAAKiwF,SACRjwF,KAAKo+C,cACDsC,EAAK1W,WACD,EAAG/4B,KAAKgiC,IAAI8J,GAAeK,IAAS,EAAG,EACvC,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,IAEb,M,mBAKZ,SAAMA,GASF,OARAp9C,KAAKo+C,cACDsC,EAAK1W,WACD,EAAG,EAAG,EAAG,EACT/4B,KAAKgiC,IAAI8J,GAAeK,IAAS,EAAG,EAAG,EACvC,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,IAGVp9C,O,qBAGX,SAAQo9C,GACJ,OAAOp9C,KAAKiwF,SACRjwF,KAAKo+C,cACDsC,EAAK1W,WACD,EAAG,EAAG,EAAG,EACT/4B,KAAKgiC,IAAI8J,GAAeK,IAAS,EAAG,EAAG,EACvC,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,IAEb,M,0BAKZ,SAAa1wC,GAGT,IAFA,IAAMg/E,EAAY1rF,KAAKkxF,WAEdr2F,EAAI,EAAGwR,EAAMq/E,EAAUnuF,OAAQ1C,EAAIwR,EAAKxR,IAAK,CAElD6R,EADcg/E,EAAU7wF,GACRA,EAAG6wF,M,qBAI3B,SAAQh/E,GACJ1M,KAAKmxF,cAAa,SAAC1B,EAAU9+E,EAAO+6E,GAChC,IAAK,IAAI7wF,EAAI,EAAGwR,EAAMojF,EAASlyF,OAAQ1C,EAAIwR,EAAKxR,IAAK,CACjD,IAAM2xF,EAAUiD,EAAS50F,GACzB6R,EAAS8/E,EAAS3xF,EAAG40F,EAAU/D,EAAW/6E,S,uBAQtD,WAEI,IAAMygF,EAAc,GAwDpB,OAtDkBpxF,KAAKkxF,WAEbv9E,SAAQ,SAAAq4E,GAEd,IAAMsE,EAAc,GAEpBtE,EAAMyD,SAAS97E,SAAQ,WAAchD,GAAU,MAArB67E,EAAqB,EAArBA,QAChBqE,EAAW,UAAG7E,EAAMyD,SAAS9+E,EAAQ,UAA1B,aAAG,EAA2B67E,QAE/C,GAAwB,MAApBA,EAAQ7B,QAGL,GAAwB,MAApB6B,EAAQ7B,QAgBZ,GAAwB,MAApB6B,EAAQ7B,QACf2F,EAAYtuF,KAAKwqF,QACd,GAAwB,MAApBA,EAAQ7B,QAAiB,CAEhC,IAAM0G,EAAa7nB,GAAuB,CACtC,CAACqnB,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAO,GAAIszF,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAO,GAAI,GACnG,CAACivF,EAAQ7+D,OAAO,GAAI6+D,EAAQ7+D,OAAO,GAAI,GACvC,CAAC6+D,EAAQ7+D,OAAO,GAAI6+D,EAAQ7+D,OAAO,GAAI,KAG3C2iE,EAAYtuF,KAAK,CACb2oF,QAAS,IACTh9D,OAAQ,CACJ0jE,EAAW,GAAG,GAAIA,EAAW,GAAG,GAChCA,EAAW,GAAG,GAAIA,EAAW,GAAG,GAChCA,EAAW,GAAG,GAAIA,EAAW,GAAG,UAGb,MAApB7E,EAAQ7B,SACf2F,EAAYtuF,KAAKwqF,OAnCd,CAEH,IAAM6E,E3EvTW,SAACl/E,GAElC,MAAO,CACH6rC,EAAKtzB,MAAMvY,EAAO,IAClB,CACIA,EAAO,GAAG,GAAqC,KAA/BA,EAAO,GAAG,GAAKA,EAAO,GAAG,IACzCA,EAAO,GAAG,GAAqC,KAA/BA,EAAO,GAAG,GAAKA,EAAO,GAAG,IACzC,GAEJ,CACIA,EAAO,GAAG,GAAqC,KAA/BA,EAAO,GAAG,GAAKA,EAAO,GAAG,IACzCA,EAAO,GAAG,GAAqC,KAA/BA,EAAO,GAAG,GAAKA,EAAO,GAAG,IACzC,GAEJ6rC,EAAKtzB,MAAMvY,EAAO,K2EySam/E,CAAsB,CACrC,CAACT,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAO,GAAIszF,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAO,GAAI,GACnG,CAACivF,EAAQ7+D,OAAO,GAAI6+D,EAAQ7+D,OAAO,GAAI,KAG3C2iE,EAAYtuF,KAAK,CACb2oF,QAAS,IACTh9D,OAAQ,CACJ0jE,EAAW,GAAG,GAAIA,EAAW,GAAG,GAChCA,EAAW,GAAG,GAAIA,EAAW,GAAG,GAChCA,EAAW,GAAG,GAAIA,EAAW,GAAG,WAdxCf,EAAYtuF,KAAKwqF,MAyCzB4E,EAAYpvF,KAAZ,MAAAovF,EAAoBd,MAGjBP,EAAWwB,aAAaH,K,uBAGnC,WACI,IAAMI,EAAWxxF,KAAKyxF,aA8CtB,OA5CAD,EAAS79E,SAAQ,SAAAtD,GACb,IAAMigF,EAAc,GAEpBjgF,EAAKo/E,SAAS97E,SAAQ,SAAC64E,EAAS77E,GAE5B,IAAMkgF,EAAcxgF,EAAKo/E,SAAS9+E,EAAQ,GAElB,MAApB67E,EAAQ7B,SAEmB,MAApB6B,EAAQ7B,QADf2F,EAAYtuF,KAAKwqF,GAGU,MAApBA,EAAQ7B,QACf2F,EAAYtuF,KAAZ,MAAAsuF,EAAW,KACJ7mB,GACC,CAAConB,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAO,GAAIszF,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAO,GAAI,GACnG,CAACivF,EAAQ7+D,OAAO,GAAI6+D,EAAQ7+D,OAAO,GAAI,GACvC,CAAC6+D,EAAQ7+D,OAAO,GAAI6+D,EAAQ7+D,OAAO,GAAI,GACvC,CAAC6+D,EAAQ7+D,OAAO,GAAI6+D,EAAQ7+D,OAAO,GAAI,IACzC/Z,KAAI,SAAAiB,GAAK,MAAK,CACZ81E,QAAS,IACTh9D,OAAQ,CAAC9Y,EAAM,GAAIA,EAAM,GAAI,SAGV,MAApB23E,EAAQ7B,QACf2F,EAAYtuF,KAAZ,MAAAsuF,EAAW,KACJ7mB,GAAiB,WAAjB,OACID,GAAuB,CACtB,CAACqnB,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAO,GAAIszF,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAO,GAAI,GACnG,CAACivF,EAAQ7+D,OAAO,GAAI6+D,EAAQ7+D,OAAO,GAAI,GACvC,CAAC6+D,EAAQ7+D,OAAO,GAAI6+D,EAAQ7+D,OAAO,GAAI,OAE7C/Z,KAAI,SAAAiB,GAAK,MAAK,CACZ81E,QAAS,IACTh9D,OAAQ,CAAC9Y,EAAM,GAAIA,EAAM,GAAI,SAGV,MAApB23E,EAAQ7B,SACf2F,EAAYtuF,KAAKwqF,MAIzBn8E,EAAK6/E,cAAcI,MAGhBP,EAAW2B,aAAaF,K,mCAInC,WAAqC,IAAfj0F,EAAe,uDAAN,IAEjB6yF,EAAU,IAAIL,EAEdrE,EAAY1rF,KAAKkxF,WA8BvB,OA5BAxF,EAAU/3E,SAAQ,SAAAq4E,GAEd,IAAMsE,EAAc,GAEpBtE,EAAMyD,SAAS97E,SAAQ,WAAchD,GAAU,MAArB67E,EAAqB,EAArBA,QACL,UAAGR,EAAMyD,SAAS9+E,EAAQ,UAA1B,OAAG,EAA2B67E,QAE/C,GAAwB,MAApBA,EAAQ7B,QAGL,GAAwB,MAApB6B,EAAQ7B,QAIZ,GAAwB,MAApB6B,EAAQ7B,QAAiB,CAChC,IAAMgH,EAAkBC,YAAYpF,EAASjvF,GAC7C+yF,EAAYtuF,KAAZ,MAAAsuF,EAAW,KAASqB,SACjB,GAAwB,MAApBnF,EAAQ7B,QAAiB,CAChC,IAAMgH,EAAkBE,WAAWrF,EAASjvF,GAC5C+yF,EAAYtuF,KAAZ,MAAAsuF,EAAW,KAASqB,QACO,MAApBnF,EAAQ7B,SACf2F,EAAYtuF,KAAKwqF,OAXd,CACH,IAAMmF,EAAkBG,WAAWtF,EAASjvF,GAC5C+yF,EAAYtuF,KAAZ,MAAAsuF,EAAW,KAASqB,SAJpBrB,EAAYtuF,KAAKwqF,MAiBzB4D,EAAQ2B,SAASzB,MAGdF,I,kCASf,WAAgC,IAAXx7E,EAAW,uDAAH,EACrBw8E,EAAc,GACZ1F,EAAY1rF,KAAKkxF,WA+EvB,OA7EAxF,EAAU/3E,SAAQ,SAAAq4E,GACd,IAAMsE,EAAc,GACpBtE,EAAMyD,SAAS97E,SAAQ,WAAchD,GAAU,QAArB67E,EAAqB,EAArBA,QAChBqE,EAAW,UAAG7E,EAAMyD,SAAS9+E,EAAQ,UAA1B,aAAG,EAA2B67E,QAC9B,UAAGR,EAAMyD,SAAS9+E,EAAQ,UAA1B,OAAG,EAA2B67E,QAE/C,GAAwB,MAApBA,EAAQ7B,QAGL,GAAwB,MAApB6B,EAAQ7B,QAEIrhB,GAA6B,CAC5C,CACI5oE,EAAGmwF,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAS,GAClD2jB,EAAG2vE,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAS,IAEtD,CACImD,EAAG8rF,EAAQ7+D,OAAO,GAClBzM,EAAGsrE,EAAQ7+D,OAAO,KAEvB/Y,GAEQjB,SAAQ,YAAkB,gBAAT7C,GAAS,WACjCw/E,EAAYtuF,KAAK+qF,GAAQrlE,EAAE5W,EAAIpQ,EAAGoQ,EAAIoQ,YAEvC,GAAwB,MAApBsrE,EAAQ7B,QAAiB,CAEZthB,GAA8B,CAC9C,CACI3oE,EAAGmwF,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAS,GAClD2jB,EAAG2vE,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAS,IAEtD,CACImD,EAAG8rF,EAAQ7+D,OAAO,GAClBzM,EAAGsrE,EAAQ7+D,OAAO,IAEtB,CACIjtB,EAAG8rF,EAAQ7+D,OAAO,GAClBzM,EAAGsrE,EAAQ7+D,OAAO,KAEvB/Y,GAESjB,SAAQ,YAA0B,gBAAjBq+E,GAAiB,WAATlhF,EAAS,KAC1Cw/E,EAAYtuF,KAAK+qF,GAAQrkE,EAAEspE,EAAOtxF,EAAGsxF,EAAO9wE,EAAGpQ,EAAIpQ,EAAGoQ,EAAIoQ,YAE3D,GAAwB,MAApBsrE,EAAQ7B,QAAiB,CAEZvhB,GAAyB,CACzC,CACI1oE,EAAGmwF,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAS,GAClD2jB,EAAG2vE,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAS,IAEtD,CACImD,EAAG8rF,EAAQ7+D,OAAO,GAClBzM,EAAGsrE,EAAQ7+D,OAAO,IAEtB,CACIjtB,EAAG8rF,EAAQ7+D,OAAO,GAClBzM,EAAGsrE,EAAQ7+D,OAAO,IAEtB,CACIjtB,EAAG8rF,EAAQ7+D,OAAO,GAClBzM,EAAGsrE,EAAQ7+D,OAAO,KAEvB/Y,GAESjB,SAAQ,YAA0B,gBAAjB+1D,GAAiB,WAAbC,EAAa,KAAT74D,EAAS,KAC1Cw/E,EAAYtuF,KAAK+qF,GAAQx3E,EAAEm0D,EAAGhpE,EAAGgpE,EAAGxoD,EAAGyoD,EAAGjpE,EAAGipE,EAAGzoD,EAAGpQ,EAAIpQ,EAAGoQ,EAAIoQ,WAEvC,MAApBsrE,EAAQ7B,SACf2F,EAAYtuF,KAAKwqF,QA/DjB8D,EAAYtuF,KAAKwqF,MAmEzB4E,EAAcA,EAAYllF,OAAOokF,MAG9BP,EAAWwB,aAAaH,K,qBAGnC,WAEI,IAAIvxC,EAAON,OAAOI,iBAAkBM,EAAOV,OAAOI,iBAC9CG,EAAOP,OAAOC,iBAAkBU,EAAOX,OAAOC,iBAyDlD,OAvDAx/C,KAAKgxF,MAAK,SAAUxE,EAAS77E,GACzB,IAAIlG,EAAI+hF,EAAQ7+D,OACZzyB,EAAIsxF,EAAQ7B,QACVkG,EAAc7wF,KAAKyvF,SAAS9+E,EAAQ,GAE1C,OAAQzV,GACJ,IAAK,IACL,IAAK,IAED2kD,EAAO5uC,KAAKC,IAAI2uC,EAAMp1C,EAAE,IACxBq1C,EAAO7uC,KAAKypB,IAAIolB,EAAMr1C,EAAE,IAExBw1C,EAAOhvC,KAAKC,IAAI+uC,EAAMx1C,EAAE,IACxBy1C,EAAOjvC,KAAKypB,IAAIwlB,EAAMz1C,EAAE,IACxB,MACJ,IAAK,IACD0gE,GAAa,CACT,CAAC0lB,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAS,GAAIszF,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAS,GAAI,GACvG,CAACkN,EAAE,GAAIA,EAAE,GAAI,GACb,CAACA,EAAE,GAAIA,EAAE,GAAI,GACb,CAACA,EAAE,GAAIA,EAAE,GAAI,KACdkJ,SAAQ,SAAAhX,GAEPkjD,EAAO5uC,KAAKC,IAAI2uC,EAAMljD,EAAE,IACxBmjD,EAAO7uC,KAAKypB,IAAIolB,EAAMnjD,EAAE,IAExBsjD,EAAOhvC,KAAKC,IAAI+uC,EAAMtjD,EAAE,IACxBujD,EAAOjvC,KAAKypB,IAAIwlB,EAAMvjD,EAAE,OAE5B,MACJ,IAAK,IAED,IAAM6qE,EAAQgC,GAAuB,CACjC,CAACqnB,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAS,GAAIszF,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAS,GAAI,GACvG,CAACkN,EAAE,GAAIA,EAAE,GAAI,GACb,CAACA,EAAE,GAAIA,EAAE,GAAI,KAGjB0gE,GAAa3D,GAAO7zD,SAAQ,SAAAhX,GACxBkjD,EAAO5uC,KAAKC,IAAI2uC,EAAMljD,EAAE,IACxBmjD,EAAO7uC,KAAKypB,IAAIolB,EAAMnjD,EAAE,IAExBsjD,EAAOhvC,KAAKC,IAAI+uC,EAAMtjD,EAAE,IACxBujD,EAAOjvC,KAAKypB,IAAIwlB,EAAMvjD,EAAE,OASpC,OAAO6vF,KAGJ,CACH,CAAC3sC,EAAMI,EAAM,GACb,CAACH,EAAMG,EAAM,GACb,CAACH,EAAMI,EAAM,GACb,CAACL,EAAMK,EAAM,M,kBAIrB,WACI,IAAM+xC,EAAOjyF,KAAKowD,UAElB,MAAO,CACH1vD,EAAGuxF,EAAK,GAAG,GACX/wE,EAAG+wE,EAAK,GAAG,GACXxyE,MAAOu+B,EAAKH,SAASo0C,EAAK,GAAIA,EAAK,IACnCnwC,OAAQ9D,EAAKH,SAASo0C,EAAK,GAAIA,EAAK,IACpC1/C,MAAO0/C,EAAK,GAAG,GAAKj0C,EAAKH,SAASo0C,EAAK,GAAIA,EAAK,IAChDz/C,OAAQy/C,EAAK,GAAG,GAAKj0C,EAAKH,SAASo0C,EAAK,GAAIA,EAAK,O,gCAazD,YAMI,IANqC,IAApBvxF,EAAoB,EAApBA,EAAGwgB,EAAiB,EAAjBA,EAAKtM,EAAY,uDAAJ,GAE7B6yD,EAAUloB,OAAOI,iBACjBuyC,EAAa,GACbxyF,EAAO,GAEF7E,EAAI,EAAGwR,EAAMrM,KAAKyvF,SAASlyF,OAAQ1C,EAAIwR,EAAKxR,IAAK,CAEtD,IAAM2xF,EAAUxsF,KAAKyvF,SAAS50F,GAExBs9B,EAAOn4B,KAAKyvF,SAAS50F,EAAI,GAAG8yB,OAC5Bs+D,EAAUO,EAAQ7+D,OAClBg9D,EAAU6B,EAAQ7B,QAClBx0E,EAAY,CAAEzV,EAAGy3B,EAAKA,EAAK56B,OAAS,GAAI2jB,EAAGiX,EAAKA,EAAK56B,OAAS,IAGpE,GAAgB,MAAZotF,EAAiB,CACjB,IAAIx4E,EAAS,CACTgE,EACA,CAAEzV,EAAGurF,EAAQ,GAAI/qE,EAAG+qE,EAAQ,IAC5B,CAAEvrF,EAAGurF,EAAQ,GAAI/qE,EAAG+qE,EAAQ,IAC5B,CAAEvrF,EAAGurF,EAAQ,GAAI/qE,EAAG+qE,EAAQ,KAMhCvsF,EAAO,CACH8sF,UACA77E,MAAO9V,EACPkB,EALAA,EADQysE,GAAa,WAAb,OAAiBr2D,GAAjB,QAAyByC,IAC7B4yD,CAAM9mE,EAAGwgB,GAMb/O,SACAggF,YAAalpB,GAAgB92D,EAAQpW,GAAG8pE,MAAM,SAE/C,GAAgB,MAAZ8kB,EAAiB,CACpBx4E,EAAS,CACTgE,EACA,CAAEzV,EAAGurF,EAAQ,GAAI/qE,EAAG+qE,EAAQ,IAC5B,CAAEvrF,EAAGurF,EAAQ,GAAI/qE,EAAG+qE,EAAQ,KAMhCvsF,EAAO,CACH8sF,UACA77E,MAAO9V,EACPkB,EALAA,EADQ0sE,GAAkB,WAAlB,OAAsBt2D,GAAtB,QAA8ByC,IAClC4yD,CAAM9mE,EAAGwgB,GAMb/O,SACAggF,YAAahpB,GAAqBh3D,EAAQpW,GAAG8pE,MAAM,SAEpD,GAAgB,MAAZ8kB,EAAiB,CACxB,IAMI5uF,EANAoW,EAAS,CACTgE,EACA,CAAEzV,EAAGurF,EAAQ,GAAI/qE,EAAG+qE,EAAQ,KAMhCvsF,EAAO,CACH8sF,UACA77E,MAAO9V,EACPkB,EALAA,EADQ2sE,GAAiB,WAAjB,OAAqBv2D,GAArB,QAA6ByC,IACjC4yD,CAAM9mE,EAAGwgB,GAMb/O,SACAggF,YAAa5oB,GAAoBp3D,EAAQpW,GAAG8pE,MAAM,IAI1D,GAAInmE,EAAM,CACN,IAAIwT,EAAOjC,KAAK8/B,KAAK9/B,KAAKqpC,IAAI56C,EAAKyyF,YAAYzxF,EAAIA,EAAG,GAAKuQ,KAAKqpC,IAAI56C,EAAKyyF,YAAYjxE,EAAIA,EAAG,IAExFhO,EAAOu0D,IACPA,EAAUv0D,EACVg/E,EAAaxyF,IAMzB,OAAOwyF,I,4BAaX,YAAqC,IAApBxxF,EAAoB,EAApBA,EAAGwgB,EAAiB,EAAjBA,EAAKtM,EAAY,uDAAJ,GAEvBlV,EAAOM,KAAKoyF,mBAAmB,CAAE1xF,IAAGwgB,KAAKtM,GAE/C,OAAIlV,EAAKyyF,YACEzyF,EAAKyyF,YAGT,CAAEzxF,IAAGwgB,O,2BAWhB,YAAkC,IAAlBxgB,EAAkB,EAAlBA,EAAGwgB,EAAe,EAAfA,EAAKhO,EAAU,uDAAH,EACrBxT,EAAOM,KAAKoyF,mBAAmB,CAAE1xF,IAAGwgB,KAAK,IAE/C,SAAIxhB,EAAKyyF,aACDn0C,EAAK9qC,KAAK,CAACxT,EAAKyyF,YAAYzxF,EAAGhB,EAAKyyF,YAAYjxE,EAAG,GAAI,CAACxgB,EAAGwgB,EAAG,KAAOhO,K,sBASjF,WAAqB,IAAZ3P,EAAY,uDAAJ,GACb,OAAOvD,KAAKiwF,cAAS5vF,EAAWkD,K,2BAGpC,SAAc8uF,GAAmC,IAAlBtB,EAAkB,wDAC7C,OAAO/wF,KAAKgxF,MAAK,SAAUxE,GACvB,IAAI/hF,EAAI+hF,EAAQ7+D,OAGhB,OAFQ6+D,EAAQ7B,SAGZ,IAAK,IACL,IAAK,IACD,IAAIzlF,EAAS84C,EAAKI,cAAc,GAAI,CAAC3zC,EAAE,GAAIA,EAAE,GAAI,GAAI4nF,GACrD7F,EAAQ7+D,OAAS,CAACzoB,EAAO,GAAIA,EAAO,IACpC,MACJ,IAAK,IACL,IAAK,IACD,IAAK,IAAIrK,EAAI,EAAGwR,EAAM5B,EAAElN,OAAQ1C,EAAIwR,EAAKxR,GAAK,EAAG,CACzCqK,EAAS84C,EAAKI,cAAc,GAAI,CAAC3zC,EAAE5P,GAAI4P,EAAE5P,EAAI,GAAI,GAAIw3F,GACzD7F,EAAQ7+D,OAAO9yB,GAAKqK,EAAO,GAC3BsnF,EAAQ7+D,OAAO9yB,EAAI,GAAKqK,EAAO,IAQ3C,OAAOsnF,IAERuE,K,uBAGP,WAAiE,IAAtDuB,EAAsD,uDAA5B,kCAAgB,CAAhB,iBAC3BL,EAAO9tB,GAAmBnkE,KAAKowD,WAAW,GAEhD,OAAOpwD,KAAKgxF,MAAK,SAAUxE,GACvB,IAAI/hF,EAAI+hF,EAAQ7+D,OAGhB,OAFQ6+D,EAAQ7B,SAGZ,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACD,IAAK,IAAI9vF,EAAI,EAAGwR,EAAM5B,EAAElN,OAAQ1C,EAAIwR,EAAKxR,GAAK,EAAG,CAC7C,IAAIqK,EAASotF,EAAwB,CAAC7nF,EAAE5P,GAAI4P,EAAE5P,EAAI,GAAI,GAAI,CAAEo3F,SAC5DzF,EAAQ7+D,OAAO9yB,GAAKqK,EAAO,GAC3BsnF,EAAQ7+D,OAAO9yB,EAAI,GAAKqK,EAAO,IAQ3C,OAAOsnF,O,oBAWf,SAAO6F,GAEH,OADAryF,KAAKo+C,cAAcsC,EAAKK,OAAO,GAAIsxC,IAC5BryF,O,mBASX,WAAa,IAAP2M,EAAO,uDAAH,EAON,OANA3M,KAAKgxF,MAAK,SAAUxE,GAGhB,OAFAA,EAAQ7+D,OAAS6+D,EAAQ7+D,OAAO/Z,KAAI,SAAAu1B,GAAE,OAAImO,GAAMnO,EAAIx8B,MAE7C6/E,KAGJxsF,O,6BAGX,SAAgByvF,GAGZ,IAFA,IAAMa,EAAc,GAChBhQ,EAAYmP,EAASlyF,OAAS,EACzB1C,EAAIylF,EAAWzlF,EAAI,EAAGA,IAAK,CAChC,IAAM2xF,EAAUiD,EAAS50F,GACnB4P,EAAI+hF,EAAQ7+D,OACZzyB,EAAIsxF,EAAQ7B,QACZkG,EAAcpB,EAAS50F,EAAI,GAC3B03F,EAAQ1B,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAS,GACvDi1F,EAAQ3B,EAAYljE,OAAOkjE,EAAYljE,OAAOpwB,OAAS,GAE7D,OAAQrC,GACJ,IAAK,IAEGL,IAAMylF,GACNgQ,EAAYtuF,KAAK+qF,GAAQz/D,EAAE7iB,EAAE,GAAIA,EAAE,KAGvC6lF,EAAYtuF,KAAK+qF,GAAQrlE,EAAE6qE,EAAOC,IAClC,MACJ,IAAK,IAEG33F,IAAMylF,GACNgQ,EAAYtuF,KAAK+qF,GAAQz/D,EAAE7iB,EAAE,GAAIA,EAAE,KAGvC6lF,EAAYtuF,KAAK+qF,GAAQx3E,EAAE9K,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI8nF,EAAOC,IAC1D,MACJ,IAAK,IACG33F,IAAMylF,GACNgQ,EAAYtuF,KAAK+qF,GAAQz/D,EAAE7iB,EAAE,GAAIA,EAAE,KAGvC6lF,EAAYtuF,KAAK+qF,GAAQrkE,EAAEje,EAAE,GAAIA,EAAE,GAAI8nF,EAAOC,IAC9C,MACJ,IAAK,IACDlC,EAAYtuF,KAAKwqF,GACjBlM,EAAYzlF,EAAI,GAU5B,MAJ+B,MAA3By1F,EAAY,GAAG3F,SACf2F,EAAYtuF,KAAKsuF,EAAYzrE,SAG1ByrE,I,2BAMX,WAEI,IAAMmC,EAAgB,GAClBnC,EAAc,GAUlB,OATAtwF,KAAKyvF,SAAS97E,SAAQ,SAAA/W,GACA,MAAdA,EAAE+tF,SACF2F,EAAc,CAAC1zF,GACf61F,EAAczwF,KAAKsuF,IAEnBA,EAAYtuF,KAAKpF,MAIlB61F,I,qBAaX,WAA2B,kCAAhBC,EAAgB,yBAAhBA,EAAgB,gBACvB,IAAMD,EAAgBzyF,KAAK2yF,gBACrBrC,EAAc,GAEU,IAA1BoC,EAAen1F,OACfk1F,EAAc9+E,SAAQ,SAAC87E,EAAU9+E,GAC7B2/E,EAAYtuF,KAAK7B,MAAMmwF,EAAa,EAAKsC,gBAAgBnD,OAG7DgD,EAAc9+E,SAAQ,SAAC87E,EAAU9+E,GACzB+hF,EAAejuC,SAAS9zC,GACxB2/E,EAAYtuF,KAAK7B,MAAMmwF,EAAa,EAAKsC,gBAAgBnD,IAEzDa,EAAYtuF,KAAK7B,MAAMmwF,EAAab,MAKhDzvF,KAAKkwF,cAAcI,K,+BASvB,WACI,IAAIvxF,EAAM,GAEN8zF,EAAa,GA4CjB,OA3CA7yF,KAAKyvF,SAAS97E,SAAQ,SAAC64E,EAAS77E,GAC5B,IAAIlG,EAAI+hF,EAAQ7+D,OAGhB,OAFQ6+D,EAAQ7B,SAGZ,IAAK,IACL,IAAK,IACD5rF,EAAIiD,KAAK,CACL2O,QACAmiF,QAAS,GAAF,YAAMtG,EAAQ7+D,QAAd,CAAsB,MAEjC,MACJ,IAAK,IACD5uB,EAAIiD,KAAK,CACL2O,QACAmiF,QAAS,CAACroF,EAAE,GAAIooF,EAAWvrE,MAAO,KAEtC,MACJ,IAAK,IACDurE,EAAWvrE,MACXvoB,EAAIiD,KAAK,CACL2O,QACAmiF,QAAS,CAACD,EAAWvrE,MAAO7c,EAAE,GAAI,KAEtC,MACJ,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACD1L,EAAIiD,KAAK,CACL2O,QACAmiF,QAAS,CAACroF,EAAEA,EAAElN,OAAS,GAAIkN,EAAEA,EAAElN,OAAS,GAAI,KAQxDs1F,EAAanoE,GAAMjgB,MAIhB1L,I,kBAIX,WACI,OAAOiB,KAAK+yF,sB,6BAUhB,SAAgBD,GAAmB,IAAV5/E,EAAU,uDAAH,EAC5B,OAAOlT,KAAK+yF,oBAAoB3wF,QAAO,SAAAzF,GACnC,GAAIqhD,EAAKH,SAASlhD,EAAEm2F,QAASA,IAAY5/E,EACrC,OAAO,O,sBAyBnB,WAKI,IAAMu/E,EAAgB,GAClBnC,EAAc,GAgBlB,OAfAtwF,KAAKyvF,SAAS97E,SAAQ,SAAC64E,EAAS77E,GACJ,MAApB67E,EAAQ7B,SACR2F,EAAc,CAAC,CACX3/E,QACA67E,YAEJiG,EAAczwF,KAAK,CAAE2O,QAAOg7E,WAAY8G,EAAcl1F,OAAQkyF,SAAUa,KAExEA,EAAYtuF,KAAK,CACb2O,QACA67E,eAKLiG,I,6BASX,SAAgB9hF,GAAO,QACbN,EAAO,IAAI0/E,EAKjB,OAJA1/E,EAAK6/E,eAAc,UAAAlwF,KAAKkxF,WAAWvgF,UAAhB,mBAAwB8+E,gBAAxB,eAAkC77E,KAAI,SAAAu1B,GACrD,OAAOA,EAAGqjD,aACR,IAECn8E,I,wBAGX,WACI,OAAOrQ,KAAKkxF,WAAWt9E,KAAI,SAAAo4E,GACvB,OAAO+D,EAAWwB,aAAavF,EAAMyD,SAAS77E,KAAI,SAAAu1B,GAAE,OAAIA,EAAGqjD,iB,4BAWnE,SAAe77E,GAAoB,IAC/B,IAAM2/E,EAAc,KAAItwF,KAAKyvF,UADE,mBAAVA,EAAU,iCAAVA,EAAU,kBAE/Ba,EAAYxgF,OAAZ,MAAAwgF,EAAW,CAAQ3/E,EAAO,GAAf,OAAqB8+E,IAEhCzvF,KAAKkwF,cAAcI,K,iCAUvB,SAAoBtpD,GAAe,IAAV9zB,EAAU,uDAAH,EACtB8/E,EAAkBhzF,KAAKoyF,mBAAmBprD,EAAK9zB,GAErD,GAAI8/E,GAAmBA,EAAgBj3F,EAAI,GAAKi3F,EAAgBj3F,EAAI,EAAG,CACnE,OAAQi3F,EAAgBxG,QAAQ7B,SAC5B,IAAK,IACD,IAEI9kB,GAFAn7D,EAAOu+D,GAAgB+pB,EAAgB7gF,OAAQ6gF,EAAgBj3F,IAElD8pE,MACbotB,EAAelG,GAAQx3E,EAAEswD,EAAM,GAAGnlE,EAAGmlE,EAAM,GAAG3kD,EAAG2kD,EAAM,GAAGnlE,EAAGmlE,EAAM,GAAG3kD,EAAG2kD,EAAM,GAAGnlE,EAAGmlE,EAAM,GAAG3kD,GAE9FkjC,EAAS15C,EAAK05C,OACd8uC,EAAgBnG,GAAQx3E,EAAE6uC,EAAO,GAAG1jD,EAAG0jD,EAAO,GAAGljC,EAAGkjC,EAAO,GAAG1jD,EAAG0jD,EAAO,GAAGljC,EAAGkjC,EAAO,GAAG1jD,EAAG0jD,EAAO,GAAGljC,GAEzGlhB,KAAKmzF,eAAeH,EAAgBriF,MAAOsiF,EAAcC,GACzD,MACJ,IAAK,IAGGrtB,GAFAn7D,EAAOy+D,GAAqB6pB,EAAgB7gF,OAAQ6gF,EAAgBj3F,IAEvD8pE,MACbotB,EAAelG,GAAQrkE,EAAEm9C,EAAM,GAAGnlE,EAAGmlE,EAAM,GAAG3kD,EAAG2kD,EAAM,GAAGnlE,EAAGmlE,EAAM,GAAG3kD,GACtEkjC,EAAS15C,EAAK05C,OACd8uC,EAAgBnG,GAAQrkE,EAAE07B,EAAO,GAAG1jD,EAAG0jD,EAAO,GAAGljC,EAAGkjC,EAAO,GAAG1jD,EAAG0jD,EAAO,GAAGljC,GAE/ElhB,KAAKmzF,eAAeH,EAAgBriF,MAAOsiF,EAAcC,GACzD,MACJ,IAAK,IACD,IAAIxoF,EAEAm7D,GAFAn7D,EAAO6+D,GAAoBypB,EAAgB7gF,OAAQ6gF,EAAgBj3F,IAEtD8pE,MACbotB,EAAelG,GAAQrlE,EAAEm+C,EAAM,GAAGnlE,EAAGmlE,EAAM,GAAG3kD,GAC9CkjC,EAAS15C,EAAK05C,OACd8uC,EAAgBnG,GAAQrlE,EAAE08B,EAAO,GAAG1jD,EAAG0jD,EAAO,GAAGljC,GAErDlhB,KAAKmzF,eAAeH,EAAgBriF,MAAOsiF,EAAcC,GACzD,MACJ,QACI,OAGR,OAAOF,K,oCASf,WACI,IAAMtiF,EAAQ,GAyBd,OAvBc1Q,KAAKkxF,WACbv9E,SAAQ,SAACq4E,EAAOr7E,GAClBq7E,EAAMyD,SAAS97E,SAAQ,SAAC/W,EAAG+T,GAAU,MAC3BkgF,EAAc7E,EAAMyD,SAAS9+E,EAAQ,GACrCkiF,GAAahC,SAAA,UAAAA,EAAarE,eAAb,eAAsB7+D,SAAU,GAC7C4kE,EAAQM,EAAWA,EAAWt1F,OAAS,GACvCi1F,EAAQK,EAAWA,EAAWt1F,OAAS,GACvCowB,EAAS/wB,EAAE4vF,QAAQ7+D,OAEC,MAAtB/wB,EAAE4vF,QAAQ7B,UAEmB,MAAtB/tF,EAAE4vF,QAAQ7B,QACjBj6E,EAAM1O,KAAK,IAAI+tF,EAAJ,YAAoBwC,EAApB,YAA6BC,EAA7B,aAAuC7kE,EAAOzrB,KAAK,QACjC,MAAtBtF,EAAE4vF,QAAQ7B,QACjBj6E,EAAM1O,KAAK,IAAI+tF,EAAJ,YAAoBwC,EAApB,YAA6BC,EAA7B,aAAuC7kE,EAAOzrB,KAAK,QACjC,MAAtBtF,EAAE4vF,QAAQ7B,SACjBj6E,EAAM1O,KAAK,IAAI+tF,EAAJ,YAAoBwC,EAApB,YAA6BC,EAA7B,aAAuC7kE,EAAOzrB,KAAK,eAOnEwO,I,sBAcX,WAA0B,IAAjBk6E,EAAiB,uDAAL,GACXwI,EAAmB,GACnB1H,EAAY1rF,KAAKkxF,WA4BvB,OA3BAxF,EAAU/3E,SAAQ,SAACq4E,EAAOL,GACtB,IAAMx5E,EAAS,KACR65E,EAAMyD,SACJrtF,QAAO,SAAA+mC,GAAE,MAAyC,MAArCA,EAAGqjD,QAAQ7B,QAAQthD,iBAChCz1B,KAAI,SAAAu1B,GACD,MAAO,CACHzoC,EAAGyoC,EAAGqjD,QAAQ7+D,OAAO,GACrBzM,EAAGioB,EAAGqjD,QAAQ7+D,OAAO,QAK/Bk/D,EAAYpC,GAAM4I,OAAOlhF,EAAQy4E,GAEjC0F,EAAc,GACpBzD,EAAUl5E,SAAQ,SAAChX,EAAGgU,GAEJ,IAAVA,EACA2/E,EAAYtuF,KAAK+qF,GAAQz/D,EAAE3wB,EAAE+D,EAAG/D,EAAEukB,IAElCovE,EAAYtuF,KAAK+qF,GAAQrlE,EAAE/qB,EAAE+D,EAAG/D,EAAEukB,OAI1CkyE,EAAiBpxF,KAAjB,MAAAoxF,EAAyB9C,MAGtBP,EAAWwB,aAAa6B,K,oBAUnC,WAAmB,IAAZzzF,EAAY,uDAAJ,GACPyzF,EAAmB,GACjB1H,EAAY1rF,KAAKkxF,WA6BvB,OA5BAxF,EAAU/3E,SAAQ,SAACq4E,EAAOL,GACtB,IAAMx5E,EAAS,KACR65E,EAAMyD,SACJrtF,QAAO,SAAA+mC,GAAE,MAAyC,MAArCA,EAAGqjD,QAAQ7B,QAAQthD,iBAChCz1B,KAAI,SAAAu1B,GACD,qBAAWA,EAAGqjD,QAAQ7+D,QAAtB,CAA8B,QAIpC2lE,EAAcC,KAASphF,EAAQxS,GAC/B2wF,EAAc,GACpBgD,EAAY3/E,SAAQ,SAAC6zD,EAAO72D,GAEV,IAAVA,GACA2/E,EAAYtuF,KAAK+qF,GAAQz/D,EAAR,MAAAy/D,GAAO,KAAMvlB,EAAM,MAGxC8oB,EAAYtuF,KAAK+qF,GAAQx3E,EAAEiyD,EAAM,GAAG,GAAIA,EAAM,GAAG,GAAIA,EAAM,GAAG,GAAIA,EAAM,GAAG,GAAIA,EAAM,GAAG,GAAIA,EAAM,GAAG,QAIzB,MAA5EwkB,EAAMyD,SAASzD,EAAMyD,SAASlyF,OAAS,GAAGivF,QAAQ7B,QAAQthD,eAC1DinD,EAAYtuF,KAAK+qF,GAAQthE,KAG7B2nE,EAAmBA,EAAiBlnF,OAAOokF,MAGxCP,EAAWwB,aAAa6B,K,6BAWnC,WAA+B,IAAfI,EAAe,uDAAL,GAChBJ,EAAmB,GACnB1H,EAAY1rF,KAAKkxF,WACvBxF,EAAU/3E,SAAQ,SAACq4E,EAAOL,GAEtB,IAAMx5E,EAAS,KACR65E,EAAMyD,SACJrtF,QAAO,SAAA+mC,GAAE,MAAyC,MAArCA,EAAGqjD,QAAQ7B,QAAQthD,iBAChCz1B,KAAI,SAAAu1B,GACD,qBAAWA,EAAGqjD,QAAQ7+D,QAAtB,CAA8B,QAIpCk/D,EAAY,GAElB16E,EAAOwB,SAAQ,SAACkB,EAAOlE,GACnB,IAAMggF,EAAYx+E,EAAOxB,EAAQ,GAC3By5D,EAAYj4D,EAAOxB,EAAQ,GAEjC,GAAc,IAAVA,EACAk8E,EAAU7qF,KAAK,CAAE6S,eACd,GAAIlE,IAAUwB,EAAO5U,OAAS,EAAG,CAEpC,IAAM2Y,EAAa/D,EAAO,GAE1B,GAAI6rC,EAAK+tB,OAAO71D,EAAYrB,GAAQ,CAChC,IAAM2nC,EAAKm0C,EACLvnD,EAAKv0B,EACLi0D,EAAK32D,EAAO,GAIZshF,EAAKz1C,EAAKvE,IAAI,GAAIuE,EAAK3qC,SAAS,GAAIy1D,EAAItsB,GAAK,CAAC,EAAG,EAAG,IACpDk3C,EAAK11C,EAAK9Q,SAAS,GAAIumD,EAAI,CAAC,EAAID,EAAS,EAAIA,EAAS,IACtDG,EAAK31C,EAAKtG,OAAO,GAAIg8C,GAE3B7G,EAAU7qF,KAAK,CAAEwpF,aAAcxtC,EAAKxI,IAAI,GAAIpM,EAAIuqD,GAAK9+E,MAAOu0B,EAAImiD,SAAUvtC,EAAKxI,IAAI,GAAIpM,EAAIsqD,UAE3F7G,EAAU7qF,KAAK,CAAE6S,cAIlB,CACH,IAAM2nC,EAAKm0C,EACLvnD,EAAKv0B,EACLi0D,EAAKsB,EAILqpB,EAAKz1C,EAAKvE,IAAI,GAAIuE,EAAK3qC,SAAS,GAAIy1D,EAAItsB,GAAK,CAAC,EAAG,EAAG,IACpDk3C,EAAK11C,EAAK9Q,SAAS,GAAIumD,EAAI,CAAC,EAAID,EAAS,EAAIA,EAAS,IACtDG,EAAK31C,EAAKtG,OAAO,GAAIg8C,GAE3B7G,EAAU7qF,KAAK,CAAEwpF,aAAcxtC,EAAKxI,IAAI,GAAIpM,EAAIuqD,GAAK9+E,MAAOu0B,EAAImiD,SAAUvtC,EAAKxI,IAAI,GAAIpM,EAAIsqD,SAKnG,IAAMpD,EAAc,GAEpBzD,EAAUl5E,SAAQ,SAAChX,EAAGgU,GAClB,GAAc,IAAVA,EACA2/E,EAAYtuF,KAAK+qF,GAAQz/D,EAAE3wB,EAAEkY,MAAM,GAAIlY,EAAEkY,MAAM,SAC5C,CACH,IAAM87E,EAAY9D,EAAUl8E,EAAQ,IAAMk8E,EAAUA,EAAUtvF,OAAS,GACrDsvF,EAAUl8E,EAAQ,GAEpC,GAAKggF,EAAUpF,SAoBH5uF,EAAE6uF,aAKV8E,EAAYtuF,KACR+qF,GAAQx3E,EAAEo7E,EAAUpF,SAAS,GAAIoF,EAAUpF,SAAS,GAAI5uF,EAAE6uF,aAAa,GAAI7uF,EAAE6uF,aAAa,GAAI7uF,EAAEkY,MAAM,GAAIlY,EAAEkY,MAAM,KALtHy7E,EAAYtuF,KACR+qF,GAAQrkE,EAAEioE,EAAUpF,SAAS,GAAIoF,EAAUpF,SAAS,GAAI5uF,EAAEkY,MAAM,GAAIlY,EAAEkY,MAAM,UArBhF,GAAc,IAAVlE,EAAa,CACb,IAAMwF,EAAY02E,EAAUA,EAAUtvF,OAAS,GAE3C4Y,EAAUo1E,SACV+E,EAAYtuF,KACR+qF,GAAQx3E,EAAEY,EAAUo1E,SAAS,GAAIp1E,EAAUo1E,SAAS,GAAI5uF,EAAE6uF,aAAa,GAAI7uF,EAAE6uF,aAAa,GAAI7uF,EAAEkY,MAAM,GAAIlY,EAAEkY,MAAM,KAGtHy7E,EAAYtuF,KACR+qF,GAAQrkE,EAAE/rB,EAAE6uF,aAAa,GAAI7uF,EAAE6uF,aAAa,GAAI7uF,EAAEkY,MAAM,GAAIlY,EAAEkY,MAAM,UAK5Ey7E,EAAYtuF,KACR+qF,GAAQrkE,EAAE/rB,EAAE6uF,aAAa,GAAI7uF,EAAE6uF,aAAa,GAAI7uF,EAAEkY,MAAM,GAAIlY,EAAEkY,MAAM,SAiBxFu+E,EAAiBpxF,KAAjB,MAAAoxF,EAAyB9C,MAG7B,IAAMF,EAAU,IAAIL,EAGpB,OAFAK,EAAQF,cAAckD,GAEfhD,I,eAIX,WAGI,OAFApwF,KAAKyvF,SAASztF,KAAK+qF,GAAQthE,KAEpBzrB,O,eAGX,SAAEU,EAAGwgB,GAED,OADAlhB,KAAKyvF,SAASztF,KAAK+qF,GAAQz/D,EAAE5sB,EAAGwgB,IACzBlhB,O,eAGX,SAAEU,EAAGwgB,GAED,OADAlhB,KAAKyvF,SAASztF,KAAK+qF,GAAQrlE,EAAEhnB,EAAGwgB,IACzBlhB,O,eAGX,SAAEkY,EAAIw8B,EAAIpG,EAAIC,EAAI7tC,EAAGwgB,GAEjB,OADAlhB,KAAKyvF,SAASztF,KAAK+qF,GAAQx3E,EAAE2C,EAAIw8B,EAAIpG,EAAIC,EAAI7tC,EAAGwgB,IACzClhB,O,eAGX,SAAEkY,EAAIw8B,EAAIh0C,EAAGwgB,GAET,OADAlhB,KAAKyvF,SAASztF,KAAK+qF,GAAQrkE,EAAExQ,EAAIw8B,EAAIh0C,EAAGwgB,IACjClhB,O,sBAIX,SAASU,EAAGwgB,EAAGzB,EAAOqiC,GASlB,OARA9hD,KAAKyvF,SAASztF,KACV+qF,GAAQz/D,EAAE5sB,EAAGwgB,GACb6rE,GAAQrlE,EAAEhnB,EAAI+e,EAAOyB,GACrB6rE,GAAQrlE,EAAEhnB,EAAI+e,EAAOyB,EAAI4gC,GACzBirC,GAAQrlE,EAAEhnB,EAAGwgB,EAAI4gC,GACjBirC,GAAQrlE,EAAEhnB,EAAGwgB,GACb6rE,GAAQthE,KAELzrB,O,sBAGX,SAAUkY,EAAIw8B,EAAIpG,EAAIC,GAKlB,OAJAvuC,KAAKyvF,SAASztF,KACV+qF,GAAQz/D,EAAEpV,EAAIw8B,GACdq4C,GAAQrlE,EAAE4mB,EAAIC,IAEXvuC,O,gCAaX,SAAoBU,EAAGwgB,EAAGzB,GAAuB,IAAhBqiC,EAAgB,uDAAPriC,EAElCm0E,EAAc,cACZvjF,EAAO,IAAI0/E,EAcjB,OAbA1/E,EAAK6/E,cAAc,CACfnD,GAAQz/D,EAAE,GAAI,GACdy/D,GAAQx3E,EAAEq+E,GAAc,EAAG,GAAIA,EAAa,EAAG,GAC/C7G,GAAQx3E,EAAE,EAAGq+E,EAAaA,EAAa,EAAG,EAAG,GAC7C7G,GAAQx3E,GAAGq+E,EAAa,GAAI,EAAGA,GAAc,EAAG,GAChD7G,GAAQx3E,GAAG,GAAIq+E,GAAcA,GAAc,EAAG,GAAI,GAClD7G,GAAQthE,MAGZpb,EAAKswC,UAAU,EAAG,GAAGhL,MAAMl2B,EAAQ,EAAGqiC,EAAS,GAAGnB,UAAUjgD,EAAGwgB,GAE/DlhB,KAAKwd,QAAQnN,GAENrQ,O,wBAWX,SAAWy7C,EAAIC,EAAI4B,GACf,OAAOt9C,KAAK6zF,mBAAmBp4C,EAAK6B,EAAQ5B,EAAK4B,EAAiB,EAATA,EAAqB,EAATA,K,qBAIzE,SAAQ8C,EAAIC,EAAI6tC,EAAeE,EAAcE,EAAW5tF,EAAGwgB,GAEvD,WAAiBlhB,KAAKmW,UAAtB,GAAO+B,EAAP,KAAWw8B,EAAX,KAEA,OAAO10C,KAAKwd,QAAQuyE,EAAWS,WAAWt4E,EAAIw8B,EAAI0L,EAAIC,EAAI6tC,EAAeE,EAAcE,EAAW5tF,EAAGwgB,M,mBASxG,WACG,IAAIniB,EAAM,GAEN8zF,EAAa,GAkCjB,OAjCA7yF,KAAKgxF,MAAK,SAAUxE,GAChB,IAAI/hF,EAAI+hF,EAAQ7+D,OAGhB,OAFQ6+D,EAAQ7B,SAGZ,IAAK,IACL,IAAK,IACD5rF,EAAIiD,KAAJ,eAAawqF,EAAQ7+D,QAArB,CAA6B,KAC7B,MACJ,IAAK,IACD5uB,EAAIiD,KAAK,CAACyI,EAAE,GAAIooF,EAAWvrE,MAAO,IAClC,MACJ,IAAK,IACDurE,EAAWvrE,MACXvoB,EAAIiD,KAAK,CAAC6wF,EAAWvrE,MAAO7c,EAAE,GAAI,IAClC,MACJ,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACD,IAAK,IAAI5P,EAAI,EAAGwR,EAAM5B,EAAElN,OAAQ1C,EAAIwR,EAAKxR,GAAK,EAC1CkE,EAAIiD,KAAK,CAACyI,EAAE5P,GAAI4P,EAAE5P,EAAI,GAAI,IAQtCg4F,EAAapoF,KAIV1L,I,uBAGX,WACI,IAAM+0F,EAAc,GAmBpB,OAlBA9zF,KAAKyvF,SAAS97E,SAAQ,SAAC64E,EAASuH,GAE5B,GAAIvH,EAAQ7+D,OAAOpwB,OAAS,EAExB,IADA,IAAMwB,EAAMytF,EAAQ7+D,OACZ9yB,EAAI,EAAGwR,EAAMtN,EAAIxB,OAAQ1C,EAAIwR,EAAKxR,GAAK,EAC3Ci5F,EAAY9xF,KAAK,CACb+xF,eACAC,WAAYn5F,EACZ6F,EAAG3B,EAAIlE,GACPqmB,EAAGniB,EAAIlE,EAAE,QASlBi5F,I,aASX,WACI,OAAO9zF,KAAKwC,WAAW6B,S,kBAG3B,WACI,OAAOrE,KAAKyvF,SAAS12E,MAAK,SAAAyzE,GAAO,MAAwB,MAApBA,EAAQ7B,YAAoB/sC,EAAKmuB,OAAO/rE,KAAKmW,UAAWnW,KAAKkW,c,kBAGtG,WACI,OAAQlW,KAAKyZ,S,kBAKjB,WACI,IAAIqwD,EAAc,EA2BlB,OAzBc9pE,KAAKkxF,WACbv9E,SAAQ,SAACq4E,EAAOr7E,GAElBq7E,EAAMyD,SAAS97E,SAAQ,SAAC/W,EAAG+T,GAAU,MAC3BkgF,EAAc7E,EAAMyD,SAAS9+E,EAAQ,GACrCkiF,GAAahC,SAAA,UAAAA,EAAarE,eAAb,eAAsB7+D,SAAU,GAC7C4kE,EAAQM,EAAWA,EAAWt1F,OAAS,GACvCi1F,EAAQK,EAAWA,EAAWt1F,OAAS,GACvCowB,EAAS/wB,EAAE4vF,QAAQ7+D,OAEC,MAAtB/wB,EAAE4vF,QAAQ7B,UAEmB,MAAtB/tF,EAAE4vF,QAAQ7B,QAEjB7gB,GAAensB,GAAQ40C,EAAOC,EAAO7kE,EAAO,GAAIA,EAAO,IAC1B,MAAtB/wB,EAAE4vF,QAAQ7B,QACjB7gB,GAAejC,GAAa0qB,EAAOC,EAAO7kE,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAC3E,MAAtB/wB,EAAE4vF,QAAQ7B,UACjB7gB,GAAezB,GAAakqB,EAAOC,EAAO7kE,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,YAOvFm8C,I,sBAGX,WACI,IAAImqB,EAAkB,GAsCtB,OApCcj0F,KAAKkxF,WACbv9E,SAAQ,SAACq4E,EAAOL,GAElBK,EAAMyD,SAAS97E,SAAQ,SAAC/W,EAAG+T,GAAU,MAC3BkgF,EAAc7E,EAAMyD,SAAS9+E,EAAQ,GACrCkiF,GAAahC,SAAA,UAAAA,EAAarE,eAAb,eAAsB7+D,SAAU,GAC7C4kE,EAAQM,EAAWA,EAAWt1F,OAAS,GACvCi1F,EAAQK,EAAWA,EAAWt1F,OAAS,GACvCowB,EAAS/wB,EAAE4vF,QAAQ7+D,OAEC,MAAtB/wB,EAAE4vF,QAAQ7B,UAEmB,MAAtB/tF,EAAE4vF,QAAQ7B,QACjBsJ,EAAgBjyF,KAAK,CACjB2pF,aACAoI,aAAcpjF,EACdpT,OAAQogD,GAAQ40C,EAAOC,EAAO7kE,EAAO,GAAIA,EAAO,MAEvB,MAAtB/wB,EAAE4vF,QAAQ7B,QACjBsJ,EAAgBjyF,KAAK,CACjB2pF,aACAoI,aAAcpjF,EACdpT,OAAQsqE,GAAa0qB,EAAOC,EAAO7kE,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,MAExE,MAAtB/wB,EAAE4vF,QAAQ7B,SACjBsJ,EAAgBjyF,KAAK,CACjB2pF,aACAoI,aAAcpjF,EACdpT,OAAQ8qE,GAAakqB,EAAOC,EAAO7kE,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,aAQpFsmE,I,uBAIX,WACI,IAAMzH,EAAUxsF,KAAKyvF,SAASzvF,KAAKyvF,SAASlyF,OAAS,GAErD,MAAwB,MAApBivF,EAAQ7B,QACD6B,EAGJxsF,KAAKyvF,SAASzvF,KAAKyvF,SAASlyF,OAAS,K,qBAGhD,WAEI,IAAMowB,EAAS3tB,KAAKk0F,YAAYvmE,OAEhC,MAAO,CACHA,EAAOA,EAAOpwB,OAAS,GACvBowB,EAAOA,EAAOpwB,OAAS,M,wBAI/B,WAGI,OAFgByC,KAAKyvF,SAAS,K,sBAKlC,WACI,IAAM9hE,EAAS3tB,KAAKizF,aAAatlE,OAEjC,MAAO,CACHA,EAAO,GACPA,EAAO,O,2BAaf,WAAoC,IAAf6jE,EAAe,uDAAJ,GACtBpB,EAAUL,EAAWoE,gBAI3B,OAHA3C,EAAS79E,SAAQ,SAAAtD,GACb+/E,EAAQ5yE,QAAQnN,MAEb+/E,I,0BAGX,SAAoBX,GAChB,IAAMp/E,EAAO,IAAI0/E,EAGjB,OADA1/E,EAAK6/E,cAAcT,GACZp/E,I,2BAGX,WAA6B,IAARlV,EAAQ,uDAAJ,GACrB,OAAO,IAAI40F,EAAW50F,K,sBAY1B,SAAgBuF,EAAGwgB,EAAGzB,EAAOqiC,GACzB,OAAOiuC,EAAWoE,gBAAgBC,SAAS1zF,EAAGwgB,EAAGzB,EAAOqiC,K,sBAa5D,SAAgBphD,EAAGwgB,EAAGotB,EAAIC,GACtB,OAAOwhD,EAAWoE,gBAAgBE,SAAS3zF,EAAGwgB,EAAGotB,EAAIC,K,wBAYzD,SAAkB7tC,EAAGwgB,EAAGzB,EAAOqiC,GAC3B,OAAOiuC,EAAWoE,gBAAgBN,mBAAmBnzF,EAAGwgB,EAAGzB,EAAOqiC,K,8BAStE,WAAqC,IAAb3vC,EAAa,uDAAJ,GACvBs9E,EAAWt9E,EAAOyB,KAAI,SAACjX,EAAGgU,GAC5B,OAAc,IAAVA,EACOo8E,GAAQz/D,EAAE3wB,EAAE+D,EAAG/D,EAAEukB,GAEjB6rE,GAAQrlE,EAAE/qB,EAAE+D,EAAG/D,EAAEukB,MAMhC,OAFAuuE,EAASztF,KAAK+qF,GAAQthE,KAEfskE,EAAWwB,aAAa9B,K,+BASnC,WAAwD,IAA/BvxC,EAA+B,uDAArB,GAAIziC,IAAiB,yDAC9Cg0E,EAAWvxC,EAAQtqC,KAAI,SAACnJ,EAAGkG,GAC7B,OAAc,IAAVA,EACOo8E,GAAQz/D,EAAE7iB,EAAE,GAAIA,EAAE,IAElBsiF,GAAQrlE,EAAEjd,EAAE,GAAIA,EAAE,OAQjC,OAJIgR,GACAg0E,EAASztF,KAAK+qF,GAAQthE,KAGnBskE,EAAWwB,aAAa9B,K,yBAYnC,SAAmBhwE,EAAOqiC,GAMtB,IANyC,IAAXltC,EAAW,uDAAH,EAChC66E,EAAW,GAEXlyC,EAAU,GACVE,EAAU,GAEP5iD,EAAI,EAAGA,EAAI+Z,EAAO/Z,IAAK,CAC5B,IAAIuiD,EAASviD,EAAI+Z,EAAS3D,KAAK64B,GAAK,EAAI74B,KAAK64B,GAAK,EAC9CppC,EAAIuQ,KAAK68B,IAAIsP,GAASG,EAAUA,EAChCr8B,EAAIjQ,KAAK48B,IAAIuP,GAASK,EAAUA,EAC1B,IAAN5iD,EACA40F,EAASztF,KAAK+qF,GAAQz/D,EAAE5sB,EAAGwgB,IAE3BuuE,EAASztF,KAAK+qF,GAAQrlE,EAAEhnB,EAAGwgB,IAQnC,OAHAuuE,EAASztF,KAAK+qF,GAAQrlE,EAAE+nE,EAAS,GAAG9hE,OAAO,GAAI8hE,EAAS,GAAG9hE,OAAO,KAClE8hE,EAASztF,KAAK+qF,GAAQthE,KAEfskE,EAAWwB,aAAa9B,GAAU95C,MAAMl2B,EAAOqiC,K,sBAG1D,SAAgBriC,EAAOqiC,GAAvB,IAA+BltC,EAA/B,uDAAuC,EAAG0oC,EAA1C,uDAAmD,GAAnD,mBAWI,IAVA,IASIg3C,EATE7E,EAAW,GAKX8E,EAActjF,KAAKC,IAHT,GACA,IAGVsjF,EAAcD,EAAcj3C,EAC5Bm3C,EAAkB,EAAR7/E,EAEJ8/E,EAAS,EACZ75F,EAAI,EAAGA,EAAI45F,EAAS55F,IAAK,CAC9B,IAAIuiD,EAASviD,EAAI45F,EAAWxjF,KAAK64B,GAAK,EAAI74B,KAAK64B,GAAK,EAEhDppC,GADA48C,EAAUziD,EAAI,GAAM,EAAK05F,EAAcC,EACnCvjF,KAAK68B,IAAIsP,GAASE,EAXd,IAYRp8B,EAAIjQ,KAAK48B,IAAIuP,GAASE,EAXd,GAYF,IAANziD,GACA40F,EAASztF,KAAK+qF,GAAQz/D,EAAE5sB,EAAGwgB,IAC3BozE,EAAS5zF,EACTg0F,EAASxzE,GAETuuE,EAASztF,KAAK+qF,GAAQrlE,EAAEhnB,EAAGwgB,IAOnC,OAHAuuE,EAASztF,KAAK+qF,GAAQrlE,EAAE4sE,EAAQI,IAChCjF,EAASztF,KAAK+qF,GAAQthE,KAEfskE,EAAWwB,aAAa9B,GAAU95C,MAAMl2B,EAAOqiC,GA5B1D,M,4BA+BA,SAAsBriC,EAAOqiC,GAAgD,IAAxCltC,EAAwC,uDAAhC,EAAG0oC,EAA6B,uDAApB,GAAKk2C,EAAe,uDAAL,GAC9DmB,EAAW5E,EAAW6E,SAASn1E,EAAOqiC,EAAQltC,EAAO0oC,GAE3D,OAAOq3C,EAASE,gBAAgBrB,K,wBAGpC,SAAkBt7E,EAAIw8B,EAAI0L,EAAIC,EAAI6tC,EAAgBE,EAAcE,EAAWhgD,EAAIC,GAC3E,IAAMumD,EAAkBC,GAAY,CAChCpxC,GAAIzrC,EACJoqD,GAAI5tB,EACJ+G,GAAInN,EACJoN,GAAInN,EACJ6R,GAAIA,EACJC,GAAIA,EACJ6tC,gBACAE,eACAE,cAGEj+E,EAAO,IAAI0/E,EAOjB,OALA1/E,EAAKid,EAAEpV,EAAIw8B,GACXogD,EAAgBnhF,SAAQ,SAAA2/E,GACpBjjF,EAAKkF,EAAE+9E,EAAYp7E,GAAIo7E,EAAY5+C,GAAI4+C,EAAYhlD,GAAIglD,EAAY/kD,GAAI+kD,EAAY5yF,EAAG4yF,EAAYpyE,MAG/F7Q,M,KC9qER,SAAS2kF,GAA2B7tC,EAAO3qD,EAAUI,EAAGyQ,GAS3D,IAPA,IAAIqtB,EAAMzpB,KAAKypB,IAAI99B,EAAEW,OAAQ8P,EAAE9P,QAE3BmN,EAAO,GAEPuqF,EAAer4F,EAAEA,EAAEW,OAAO,GAC1B23F,EAAa7nF,EAAEA,EAAE9P,OAAO,GAEpB1C,EAAI,EAAGA,EAAI6/B,EAAK7/B,IAAK,CACzB,IAAIktF,EAAWnrF,EAAE/B,GACbmtF,EAAS36E,EAAExS,GAEXktF,IAAaC,EACbt9E,EAAK1I,KAAKqpE,GAAsBlkB,EAAO3qD,EAAUurF,EAAUmN,KACnDnN,GAAYC,EACpBt9E,EAAK1I,KAAKqpE,GAAsBlkB,EAAO3qD,EAAUy4F,EAAcjN,IAE/Dt9E,EAAK1I,KAAKqpE,GAAsBlkB,EAAO3qD,EAAUurF,EAAUC,IAKnE,OAAO,SAAChiB,EAAMjqE,GACV,OAAO2O,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG68B,EAAMjqE,OCrBhC,SAASo5F,GAAqBhuC,EAAO3qD,EAAU+vE,EAAYC,GAS9D,IARA,IAAI4oB,EAAe,IAAIrF,GACnBnzF,EAAI,IAAImzF,GAAWxjB,GACnBl/D,EAAI,IAAI0iF,GAAWvjB,GAEnB9xC,EAAMzpB,KAAKypB,IAAI99B,EAAE6yF,SAASlyF,OAAQ8P,EAAEoiF,SAASlyF,QAE7CmN,EAAO,GAEH7P,EAAI,EAAGA,EAAI6/B,EAAK7/B,IAAK,CACzB,IAAIw6F,EAAKz4F,EAAE6yF,SAAS50F,GAChBy6F,EAAKjoF,EAAEoiF,SAAS50F,GAEhBw6F,EAAG1K,UAAY2K,EAAG3K,QACd0K,EAAG1nE,OAAOpwB,SAAW+3F,EAAG3nE,OAAOpwB,OAC/BmN,EAAK1I,KAAK,CACN2oF,QAASnf,GAAwBrkB,EAAO3qD,EAAU64F,EAAG1K,SACrDh9D,OAAQqnE,GAA0B7tC,EAAO3qD,EAAU64F,EAAG1nE,OAAQ2nE,EAAG3nE,UAGrEjjB,EAAK1I,KAAK,CACN2oF,QAASnf,GAAwBrkB,EAAO3qD,EAAU64F,EAAG1K,SACrDh9D,OAAQ69C,GAAwBrkB,EAAO3qD,EAAU64F,EAAG1nE,UAI5DjjB,EAAK1I,KAAK,CACN2oF,QAAStP,GAAuBl0B,EAAO3qD,EAAU64F,EAAG1K,QAAS2K,EAAG3K,SAChEh9D,OAAQ0tD,GAAuBl0B,EAAO3qD,EAAU64F,EAAG1nE,OAAQ2nE,EAAG3nE,UAM1E,OAAO,SAACq4C,EAAMjqE,GACV,IAAI0zF,EAAW/kF,EAAKkJ,KAAI,SAAAu1B,GAEpB,MAAO,CACHwhD,QAASxhD,EAAGwhD,QAAQ3kB,EAAMjqE,GAC1B4xB,OAAQwb,EAAGxb,OAAOq4C,EAAMjqE,OAKhC,OAFeq5F,EAAanF,SAASR,I,IC7CxB8F,G,WACjB,aAAe,YACXv1F,KAAKw1F,UAAY,G,iCAGrB,WACIx1F,KAAKw1F,UAAY,K,4BAGrB,SAAgB7nE,GACZ,OAAOA,EAAO/Z,KAAI,SAAAnJ,GAAC,gBAAOA,EAAE/J,EAAT,YAAc+J,EAAEyW,MAAKhf,KAAK,O,wBAGjD,SAAYyoF,GAAsB,IAAbh9D,EAAa,uDAAJ,GAE1B,OADA3tB,KAAKw1F,UAAUxzF,KAAf,UAAuB2oF,EAAvB,YAAkC3qF,KAAKy1F,eAAe9nE,KAC/C3tB,O,eAGX,WAAc,2BAAR2tB,EAAQ,yBAARA,EAAQ,gBACV,OAAO3tB,KAAK01F,WAAW,IAAK/nE,K,eAGhC,WAAc,2BAARA,EAAQ,yBAARA,EAAQ,gBACV,OAAO3tB,KAAK01F,WAAW,IAAK/nE,K,eAQhC,WAEI,IAAMza,EAAO,EACP2B,EAAQ,UAAH,8BAEL8gF,EAAU,CAACj1F,EAAGmU,EAAMnU,EAAIwS,EAAMgO,EAAGrM,EAAMqM,EAAIhO,GAC3C0iF,EAAW,CAACl1F,EAAGmU,EAAMnU,EAAIwS,EAAMgO,EAAGrM,EAAMqM,EAAIhO,GAC5C2iF,EAAa,CAACn1F,EAAGmU,EAAMnU,EAAIwS,EAAMgO,EAAGrM,EAAMqM,EAAIhO,GAC9C4iF,EAAc,CAACp1F,EAAGmU,EAAMnU,EAAIwS,EAAMgO,EAAGrM,EAAMqM,EAAIhO,GAErD,OAAOlT,KAAKstB,EAAEqoE,GAASjuE,EAAEouE,GAAaxoE,EAAEsoE,GAAUluE,EAAEmuE,K,eAGxD,WAAc,2BAARloE,EAAQ,yBAARA,EAAQ,gBACV,OAAO3tB,KAAK01F,WAAW,IAAK/nE,K,eAGhC,WAAc,2BAARA,EAAQ,yBAARA,EAAQ,gBACV,OAAO3tB,KAAK01F,WAAW,IAAK/nE,K,eAGhC,WACI,OAAO3tB,KAAK01F,WAAW,O,aAG3B,WACI,OAAO11F,KAAKw1F,UAAUtzF,KAAK,KAAKmC,S,sBAGpC,WAAgC,IAAtBqpB,EAAsB,uDAAV,SAClB,yBAA2B1tB,KAAK7E,EAAhC,qBAA6CuyB,EAA7C,W,mbC3DR,IAAMw0B,GAAW,aAEI6zC,G,iCAEjB,aAA0B,IAAb5jF,EAAa,uDAAJ,GAAI,+BAChBA,G,iCAGV,WAAoB,IAAbA,EAAa,uDAAJ,GACZnS,KAAKyvF,SAAY,GACjBzvF,KAAKmS,OAASA,EAEdnS,KAAKiF,U,2BAGT,WAA8B,IAAfwqF,EAAe,uDAAJ,GACtBzvF,KAAKyvF,SAAWA,EAChBzvF,KAAKmS,OAASnS,KAAKg2F,e,mBAGvB,WAEI,IAAI7jF,EAASnS,KAAKmS,OAEdjR,MAAMC,QAAQgR,KACdA,EAASA,EAAOjQ,KAAK,MAQzB,IALA,IAAInD,EAAMoT,EAAO9N,OAAOd,MAAM2+C,IAAU9/C,QAAO,SAAA+mC,GAAE,OAAIA,KAGjDsmD,EAAW,GAEP50F,EAAI,EAAGwR,EAAMtN,EAAIxB,OAAQ1C,EAAIwR,EAAKxR,GAAK,EAC3C40F,EAASztF,KAAK,CAAEtB,GAAK3B,EAAIlE,GAAIqmB,GAAKniB,EAAIlE,EAAE,KAE5CmF,KAAKyvF,SAAWA,I,8BAGpB,WACI,OAAOzvF,KAAKyvF,W,oBAGhB,WACI,OAAOzvF,KAAKyvF,SAASlyF,S,0BAGzB,WAII,IAFA,IAAI8S,EAAO,IAAIklF,GAEP16F,EAAI,EAAGwR,EAAMrM,KAAKyvF,SAASlyF,OAAQ1C,EAAIwR,EAAMxR,IAAK,CACtD,IAAI+B,EAAIoD,KAAKyvF,SAAS50F,GAEZ,IAANA,EACAwV,EAAKid,EAAE1wB,GACA/B,IAAMwR,EAAM,EACnBgE,EAAKqX,EAAE9qB,GAAG8qB,EAAE1nB,KAAKyvF,SAAS,IAAIhkE,IAE9Bpb,EAAKqX,EAAE9qB,GAIf,OAAOyT,EAAKlV,I,sBAGhB,SAASs0F,GACL,OAAOzvF,KAAKg2F,WAAWvG,K,wBAG9B,SAAYA,GAGL,OAFYA,GAAYzvF,KAAKyvF,UAEjB77E,KAAI,SAAAu1B,GACZ,gBAAUA,EAAGzoC,EAAb,YAAkByoC,EAAGjoB,MACtBhf,KAAK,O,kBAGZ,SAAMwK,GAA4B,WAAlBqkF,EAAkB,wDAE1BT,EAActwF,KAAKyvF,SAAS77E,KAAI,SAAA44E,GAChC,OAAO9/E,EAAS1R,KAAK,EAAMwxF,MAG/B,GAAIuE,EACA,OAAOT,EAEPtwF,KAAKyvF,SAAWa,I,mBAIxB,SAAOr1F,GAAqB,IAAlB81F,EAAkB,wDACxB,OAAO/wF,KAAKgxF,MAAK,SAASxE,GACtB,MAAavxF,EAAE,CAACuxF,EAAQ9rF,EAAG8rF,EAAQtrE,GAAI,GAAvC,YAAKxgB,EAAL,KAAQwgB,EAAR,KAKA,OAHAsrE,EAAQ9rF,EAAIA,EACZ8rF,EAAQtrE,EAAIA,EAELsrE,IAERuE,K,mBAGP,WACI,OAAO,IAAIgF,EAAc/1F,KAAKg2F,gB,sBAGlC,WACI,OAAOh2F,KAAKg2F,iB,GA1GuBjG,ICHpC,SAASkG,GAAwB9uC,EAAO3qD,EAAU+vE,EAAYC,GAejE,IAbA,IAAI4oB,EAAe,IAAIW,GACnBn5F,EAAI,IAAIm5F,GAAcxpB,GACtBl/D,EAAI,IAAI0oF,GAAcvpB,GAEtB9xC,EAAMzpB,KAAKypB,IAAI99B,EAAE6yF,SAASlyF,OAAQ8P,EAAEoiF,SAASlyF,QAE7CmN,EAAO,GAEPwrF,EAAat5F,EAAE6yF,SAAS7yF,EAAE6yF,SAASlyF,OAAO,GAAGmD,EAC7Cy1F,EAAav5F,EAAE6yF,SAAS7yF,EAAE6yF,SAASlyF,OAAO,GAAG2jB,EAC7Ck1E,EAAW/oF,EAAEoiF,SAASpiF,EAAEoiF,SAASlyF,OAAO,GAAGmD,EAC3C21F,EAAWhpF,EAAEoiF,SAASpiF,EAAEoiF,SAASlyF,OAAO,GAAG2jB,EAEvCrmB,EAAI,EAAGA,EAAI6/B,EAAK7/B,IAAK,CACzB,IAAIktF,EAAWnrF,EAAE6yF,SAAS50F,GACtBmtF,EAAS36E,EAAEoiF,SAAS50F,GAEpBktF,IAAaC,EACbt9E,EAAK1I,KAAK,CACNtB,EAAG2qE,GAAsBlkB,EAAO3qD,EAAUurF,EAASrnF,EAAG01F,GACtDl1E,EAAGmqD,GAAsBlkB,EAAO3qD,EAAUurF,EAAS7mE,EAAGm1E,MAElDtO,GAAYC,EACpBt9E,EAAK1I,KAAK,CACNtB,EAAG2qE,GAAsBlkB,EAAO3qD,EAAU05F,EAAYlO,EAAOtnF,GAC7DwgB,EAAGmqD,GAAsBlkB,EAAO3qD,EAAU25F,EAAYnO,EAAO9mE,KAGjExW,EAAK1I,KAAK,CACNtB,EAAG2qE,GAAsBlkB,EAAO3qD,EAAUurF,EAASrnF,EAAGsnF,EAAOtnF,GAC7DwgB,EAAGmqD,GAAsBlkB,EAAO3qD,EAAUurF,EAAS7mE,EAAG8mE,EAAO9mE,KAMzE,OAAO,SAAC8kD,EAAMjqE,GAQV,OAPaq5F,EAAaY,WAAWtrF,EAAKkJ,KAAI,SAAAu1B,GAC1C,MAAO,CACHzoC,EAAGyoC,EAAGzoC,EAAEslE,EAAMjqE,GACdmlB,EAAGioB,EAAGjoB,EAAE8kD,EAAMjqE,SC3Cf,SAASu6F,GAAqBp+E,EAAIw8B,EAAIpG,EAAIC,GAErD,IAAIpwC,EAAM,CACNuC,EAAG2qE,GAAsB,GAAI,GAAInzD,EAAIo2B,GACrCptB,EAAGmqD,GAAsB,GAAI,GAAI32B,EAAInG,IAGzC,OAAO,SAACy3B,EAAMjqE,GAQV,MAPc,CACV2E,EAAGvC,EAAIuC,EAAEslE,EAAMjqE,GACfmlB,EAAG/iB,EAAI+iB,EAAE8kD,EAAMjqE,KCVZ,SAASw6F,GAAsBtlD,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,GAEhE,IAAIh2D,EAAS,CACT,CAACzR,EAAGuwC,EAAI/vB,EAAGgwB,GACX,CAACxwC,EAAGonE,EAAK5mD,EAAG6mD,GACZ,CAACrnE,EAAGwnE,EAAIhnD,EAAGinD,IAGf,OAAO,SAACnC,EAAMjqE,GACV,OAAOqrE,GAAuBj1D,EAAQpW,ICT/B,SAASy6F,GAAsBvlD,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,GAE1E,IAAIh2D,EAAS,CACT,CAACzR,EAAGuwC,EAAI/vB,EAAGgwB,GACX,CAACxwC,EAAGonE,EAAK5mD,EAAG6mD,GACZ,CAACrnE,EAAGsnE,EAAK9mD,EAAG+mD,GACZ,CAACvnE,EAAGwnE,EAAIhnD,EAAGinD,IAGf,OAAO,SAACnC,EAAMjqE,GACV,OAAOmrE,GAAkB/0D,EAAQpW,I,qkBCNlC,SAAS06F,GAA0BtvC,EAAO3qD,EAAU+vE,EAAYC,EAAUkqB,GAE7E,MAA2CnqB,EAAWhpE,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAGA,EAAG9kC,UAA7E,YAAKkC,EAAL,KAASs3C,EAAT,KAAmB84C,EAAnB,KAAiCzN,EAAjC,KAEI9K,EAAc,CAAC73E,KAAIs3C,SAAU8E,GAAO19C,MAAM44C,GAAY,MAAO84C,aAAcA,GAAgB,OAAQzN,OAAQvmC,GAAO19C,MAAMikF,GAAU,SAElI0N,EAAmB,SAAC5wB,EAAMjqE,GAC1B,MAAO,CAAE2E,IAAGwgB,MAyBZ21E,EAAU,EAAGC,EAAU,EAE3B,GAAIJ,EAAU,CACV,IAAIK,EAAYL,EAASM,WAAW5Y,EAAY73E,IAE5CwwF,IACAF,EAAUE,EAAUF,QAAQ/6F,MAC5Bg7F,EAAUC,EAAUD,QAAQh7F,OAIhC86F,EAAmB,SAAC5wB,EAAMjqE,EAAGk7F,GACzB,IACA,EC5CG,SAAgCxH,GAC3C,IAAIyH,EAAkB,GAClB9uB,EAAa,GACjBqnB,EAAS97E,SAAQ,SAAC64E,EAAS77E,GAEvB,OAAO67E,EAAQ7B,SACf,IAAK,IACD,WAAe6B,EAAQ7+D,OAAvB,GAAKu6C,EAAL,KAASC,EAAT,KACAC,EAAa,CAACF,EAAIC,GAAI,MAC1B,IAAK,IACD,MAAeC,EAAf,YAAKn3B,EAAL,KAASC,EAAT,KACA,OAAes7C,EAAQ7+D,OAAvB,GAAKu6C,EAAL,KAASC,EAAT,KAKAC,EAAa,CAHbF,GAAMj3B,EACNk3B,GAAMj3B,GAGN,MACJ,IAAK,IACD,MAAek3B,EAAf,YACA,GADKn3B,EAAL,KAASC,EAAT,KACA,KAAes7C,EAAQ7+D,OAAvB,IAAKu6C,EAAL,KAASC,EAAT,KACA+uB,EAAgBl1F,KAAK,CACjB2oF,QAAS6B,EAAQ7B,QACjBh9D,OAAQ,CAACsjB,EAAIC,EAAIg3B,EAAIC,GACrB5qE,OAAQogD,GAAQ1M,EAAIC,EAAIg3B,EAAIC,GAC5BU,YAAaytB,GAAoBrlD,EAAIC,EAAIg3B,EAAIC,KAEjDC,EAAa,CAACF,EAAIC,GAClB,MACJ,IAAK,IACD,MAAeC,EAAf,YACA,GADKn3B,EAAL,KAASC,EAAT,KACA,KAAes7C,EAAQ7+D,OAAvB,IAAKu6C,EAAL,KAASC,EAAT,KAEAD,GAAMj3B,EACNk3B,GAAMj3B,EAENgmD,EAAgBl1F,KAAK,CACjB2oF,QAAS6B,EAAQ7B,QACjBh9D,OAAQ,CAACsjB,EAAIC,EAAIg3B,EAAIC,GACrB5qE,OAAQogD,GAAQ1M,EAAIC,EAAIg3B,EAAIC,GAC5BU,YAAaytB,GAAoBrlD,EAAIC,EAAIg3B,EAAIC,KAEjDC,EAAa,CAACF,EAAIC,GAClB,MACJ,IAAK,IACD,MAAeC,EAAf,YACA,GADKn3B,EAAL,KAASC,EAAT,KACA,KAAmCs7C,EAAQ7+D,OAA3C,IAAKm6C,EAAL,KAAUC,EAAV,KAAeC,EAAf,KAAoBC,EAApB,KAAyBC,EAAzB,KAA6BC,EAA7B,KACA+uB,EAAgBl1F,KAAK,CACjB2oF,QAAS6B,EAAQ7B,QACjBh9D,OAAQ,CAACsjB,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,GACzC5qE,OAAQsqE,GAAa52B,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,GACrDU,YAAa2tB,GAAqBvlD,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,KAEtEC,EAAa,CAACF,EAAIC,GAClB,MACJ,IAAK,IACD,MAAeC,EAAf,YACA,GADKn3B,EAAL,KAASC,EAAT,KACA,KAAmCs7C,EAAQ7+D,OAA3C,IAAKm6C,EAAL,KAAUC,EAAV,KAAeC,EAAf,KAAoBC,EAApB,KAAyBC,EAAzB,KAA6BC,EAA7B,KAEAL,GAAO72B,EACP+2B,GAAO/2B,EACPi3B,GAAMj3B,EAEN82B,GAAO72B,EACP+2B,GAAO/2B,EACPi3B,GAAMj3B,EAENgmD,EAAgBl1F,KAAK,CACjB2oF,QAAS6B,EAAQ7B,QACjBh9D,OAAQ,CAACsjB,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,GACzC5qE,OAAQsqE,GAAa52B,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,GACrDU,YAAa2tB,GAAqBvlD,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,KAEtEC,EAAa,CAACF,EAAIC,GAClB,MACJ,IAAK,IACD,MAAeC,EAAf,YACA,GADKn3B,EAAL,KAASC,EAAT,KACA,KAAyBs7C,EAAQ7+D,OAAjC,IAAKm6C,EAAL,KAAUC,EAAV,KAAeG,EAAf,KAAmBC,EAAnB,KACA+uB,EAAgBl1F,KAAK,CACjB2oF,QAAS6B,EAAQ7B,QACjBh9D,OAAQ,CAACsjB,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,GAC/B5qE,OAAQ8qE,GAAap3B,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,GAC3CU,YAAa0tB,GAAqBtlD,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,KAE5DC,EAAa,CAACF,EAAIC,GAClB,MACJ,IAAK,IACD,MAAeC,EAAf,YACA,GADKn3B,EAAL,KAASC,EAAT,KACA,KAAyBs7C,EAAQ7+D,OAAjC,IAAKm6C,EAAL,KAAUC,EAAV,KAAeG,EAAf,KAAmBC,EAAnB,KAEAL,GAAO72B,EACPi3B,GAAMj3B,EAEN82B,GAAO72B,EACPi3B,GAAMj3B,EAENgmD,EAAgBl1F,KAAK,CACjB2oF,QAAS6B,EAAQ7B,QACjBh9D,OAAQ,CAACsjB,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,GAC/B5qE,OAAQ8qE,GAAap3B,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,GAC3CU,YAAa0tB,GAAqBtlD,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,KAE5DC,EAAa,CAACF,EAAIC,GAClB,MACJ,IAAK,IACD,MAAeC,EAAf,YACA,GADKn3B,EAAL,KAASC,EAAT,KACA,KAAyBs7C,EAAQ7+D,OAAjC,IAEIkjE,GAFC7oB,EAAL,KAAUC,EAAV,KAAeC,EAAf,KAAmBC,EAAnB,KAEkB+uB,EAAgBA,EAAgB35F,OAAS,IAE3D,GAAI,CAAC,IAAK,IAAK,IAAK,KAAKknD,SAASosC,EAAYlG,SAAU,CACpD,WAAiDkG,EAAYljE,OAA7D,GAAiBwpE,GAAjB,0BAAyBC,EAAzB,KAAiCC,EAAjC,KAAwCC,EAAxC,KAEA,EAAwB7M,GAAMqG,gBAAgB,CAACpwF,EAAG22F,EAAOn2E,EAAGo2E,GAAQ,CAAC52F,EAAGy2F,EAAQC,WAAxEtvB,EAAR,EAAKpnE,EAAWqnE,EAAhB,EAAa7mD,EAEbg2E,EAAgBl1F,KAAK,CACjB2oF,QAAS6B,EAAQ7B,QACjBh9D,OAAQ,CAACsjB,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,GACzC5qE,OAAQg6F,aAAatmD,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,GACrDU,YAAa2tB,GAAqBvlD,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,KAEtEC,EAAa,CAACF,EAAIC,GAClB,MAER,IAAK,IACD,MAAeC,EAAf,YACA,GADKn3B,EAAL,KAASC,EAAT,KACA,KAAyBs7C,EAAQ7+D,OAAjC,IAAKq6C,EAAL,KAAUC,EAAV,KAAeC,EAAf,KAAmBC,EAAnB,KAEAH,GAAO/2B,EACPi3B,GAAMj3B,EAENg3B,GAAO/2B,EACPi3B,GAAMj3B,EAEF2/C,EAAcqG,EAAgBA,EAAgB35F,OAAS,GAE3D,GAAI,CAAC,IAAK,IAAK,IAAK,KAAKknD,SAASosC,EAAYlG,SAAU,CACpD,WAAiDkG,EAAYljE,OAA7D,GAEA,GAFA,oBAAiBwpE,EAAjB,KAAyBC,EAAzB,KAAiCC,EAAjC,KAAwCC,EAAxC,KAEwB7M,GAAMqG,gBAAgB,CAACpwF,EAAG22F,EAAOn2E,EAAGo2E,GAAQ,CAAC52F,EAAGy2F,EAAQC,YAAxEtvB,EAAR,EAAKpnE,EAAWqnE,EAAhB,EAAa7mD,EAEbg2E,EAAgBl1F,KAAK,CACjB2oF,QAAS6B,EAAQ7B,QACjBh9D,OAAQ,CAACsjB,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,GACzC5qE,OAAQg6F,aAAatmD,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,GACrDU,YAAa2tB,GAAqBvlD,EAAIC,EAAI42B,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,KAEtEC,EAAa,CAACF,EAAIC,GAClB,MAIR,IAAK,IACD,MAAeC,EAAf,YACA,GADKn3B,EAAL,KAASC,EAAT,KACA,KAAes7C,EAAQ7+D,OAAvB,IAAKu6C,EAAL,KAASC,EAAT,KAGI0oB,EAAcqG,EAAgBA,EAAgB35F,OAAS,GAE3D,GAAI,CAAC,IAAK,IAAK,IAAK,KAAKknD,SAASosC,EAAYlG,SAAU,CACpD,WAA2CkG,EAAYljE,OAAvD,GAEA,GAFA,UAAWwpE,EAAX,KAAmBC,EAAnB,KAA2BC,EAA3B,KAAkCC,EAAlC,KAEwB7M,GAAMqG,gBAAgB,CAACpwF,EAAG22F,EAAOn2E,EAAGo2E,GAAQ,CAAC52F,EAAGy2F,EAAQC,YAAxEtvB,EAAR,EAAKpnE,EAAWqnE,EAAhB,EAAa7mD,EAEbg2E,EAAgBl1F,KAAK,CACjB2oF,QAAS6B,EAAQ7B,QACjBh9D,OAAQ,CAACsjB,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,GAC/B5qE,OAAQ8qE,GAAap3B,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,GAC3CU,YAAa0tB,GAAqBtlD,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,KAE5DC,EAAa,CAACF,EAAIC,GAEtB,MACJ,IAAK,IACD,OAAeC,EAAf,cACA,IADKn3B,EAAL,MAASC,EAAT,MACA,KAAes7C,EAAQ7+D,OAAvB,IAAKu6C,EAAL,MAASC,EAAT,MAEAD,GAAMj3B,EACNk3B,GAAMj3B,EAEF2/C,EAAcqG,EAAgBA,EAAgB35F,OAAS,GAE3D,GAAI,CAAC,IAAK,IAAK,IAAK,KAAKknD,SAASosC,EAAYlG,SAAU,CACpD,YAA2CkG,EAAYljE,OAAvD,GAEA,IAFA,YAAWwpE,EAAX,MAAmBC,EAAnB,MAA2BC,EAA3B,MAAkCC,EAAlC,MAEwB7M,GAAMqG,gBAAgB,CAACpwF,EAAG22F,EAAOn2E,EAAGo2E,GAAQ,CAAC52F,EAAGy2F,EAAQC,YAAxEtvB,EAAR,GAAKpnE,EAAWqnE,EAAhB,GAAa7mD,EAEbg2E,EAAgBl1F,KAAK,CACjB2oF,QAAS6B,EAAQ7B,QACjBh9D,OAAQ,CAACsjB,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,GAC/B5qE,OAAQ8qE,GAAap3B,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,GAC3CU,YAAa0tB,GAAqBtlD,EAAIC,EAAI42B,EAAKC,EAAKG,EAAIC,KAE5DC,EAAa,CAACF,EAAIC,QAQ9B,IAAI2B,EAAc,EAClBotB,EAAgBvjF,SAAQ,SAAAw1B,GACpB2gC,GAAe3gC,EAAG5rC,UAGtB,IAAI8J,EAAQ,EAUZ,OATA6vF,EAAgBvjF,SAAQ,SAAAw1B,GACpBA,EAAGquD,OAASnwF,EAAQyiE,EACpB3gC,EAAGsuD,MAAQpwF,EAAQ8hC,EAAG5rC,QAAUusE,EAChC3gC,EAAG2gC,YAAcA,EAEjBziE,GAAS8hC,EAAG5rC,UAIT,CAAEusE,cAAaotB,mBD5KuBQ,CADxB,IAAI3H,GAAWgH,EAAU57F,GAAK,IACuBs0F,UAA7D3lB,EAAL,EAAKA,YAAaotB,EAAlB,EAAkBA,gBAEdr5C,EAAWugC,EAAYvgC,SAASsF,KAAK2mB,IAGzC/tE,GAFS8hD,EAAWisB,GAIZ,IACJ/tE,GAAK,GAGT,IAAIoC,EAAM+4F,EAAgB,GAChB,IAANn7F,EACAoC,EAAM+4F,EAAgB,GACT,IAANn7F,IACPoC,EAAM+4F,EAAgBA,EAAgB35F,OAAO,IAGjD,IAAIwB,EAAMm4F,EAAgB3wC,MAAK,SAAApd,GAC3B,OAAOA,EAAGquD,QAAUz7F,GAAKA,EAAIotC,EAAGsuD,QAGhC14F,IACAZ,EAAMY,GAGV,IAAI+pF,GAAQ/sF,EAAIoC,EAAIq5F,SAASr5F,EAAIs5F,KAAOt5F,EAAIq5F,QACxCG,EAAUV,EAAOnO,GAErB,gBACO3qF,EAAI0qE,YAAY8uB,EAAS7O,EAAMmO,IADtC,IAEIntB,YAAa3rE,EAAI2rE,eAM7B,OAAO,SAAC9D,EAAMjqE,EAAGk7F,GAIb,IAAIl4F,GAAOooD,EAAM,qBAAuB,WAAW5jD,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIwZ,GAAO19C,MAAMkkC,MACjFzwB,EAAK3Z,EAAI,GAAGokD,KAAKgE,EAAM1nC,MAAM3jB,OAC7Bm1F,EAAKlyF,EAAI,GAAGokD,KAAKgE,EAAMrF,OAAOhmD,OAE9BqC,EAAMy4F,EAAiB5wB,EAAMjqE,EAAGk7F,GAEhC/tD,EAAU,CACVxoC,EAAGvC,EAAIuC,EAAIm2F,EAAUn+E,EAAG5c,MACxBolB,EAAG/iB,EAAI+iB,EAAI41E,EAAU7F,EAAGn1F,OAM5B,GAHAqrD,EAAMywC,WAAW1uD,EAAQxoC,GACzBymD,EAAM0wC,WAAW3uD,EAAQhoB,GAEQ,YAA7Bk9D,EAAYuY,kBAET,CACH,IAAI1K,EAAU9tF,EACV25F,EAAY,EAEZ/7F,EAAI,IACJ+7F,EAAY,EAAE35F,EAAI2rE,aAEtB,IAAIvgD,EAAOqtE,EAAiB5wB,EAAO8xB,EAAW/7F,EAAI+7F,EAAWb,GACzD75C,EAAQ+C,GAAe52B,EAAK7oB,EAAIurF,EAAQvrF,EAAG6oB,EAAKrI,EAAI+qE,EAAQ/qE,GAG5D62E,EAAWp1C,GAAOmB,IAvGF,SAAC6yC,EAAcqB,GAEvC,IAAIC,EAAc,EAElB,OAAQtB,GACR,IAAK,QACDsB,EAAe7Z,EAAY8K,OAAOptF,MAClC,MACJ,IAAK,aACDm8F,EAAeD,EAAe5Z,EAAY8K,OAAOptF,MACjD,MACJ,IAAK,UACDm8F,EAAcD,EAAe,IAC7B,MACJ,IAAK,OACDC,EAAcD,EAIlB,OAAOC,EAoFuBC,CAAsB9Z,EAAYuY,aAAcv5C,IAE1E+J,EAAM5vB,MAAM,CACRtc,UAAWstE,GAAUW,OAAO/hC,EAAMlsC,UAAW88E,KAMrD,OAAO7uD,GEhIR,SAASivD,GAAoBhxC,EAAO3qD,EAAU47F,EAAWC,GAA2B,IAEnF39D,EAAM29D,EAAQ96F,OAAS,EACvB2T,EAAM,EAEV,OAAO,SAAC80D,EAAMjqE,GAWV,OARU,IAANA,EACS,GACI,IAANA,EACEs8F,EAEAA,EAAQC,UAAUpnF,EAAKD,KAAK6D,OAAO4lB,EAAMxpB,GAAOnV,KCb9D,SAASw8F,GAAwBpxC,EAAO3qD,EAAU+vE,EAAYC,EAAUkqB,EAAU8B,GAOrF,IAAMC,EAAeD,EAAa3oE,EAAE,SAAS65B,GAE7C,EAAmC6iB,EAAWhpE,MAAM,KAApD,YAAKm1F,EAAL,KAGMnwF,GAHN,OAGoBmwF,GAAS,KAH7B,MAEmC,IAGnC,OAAO,SAAC1yB,EAAMjqE,GACA,IAANA,GACA08F,EAAaE,YAAcpwF,EACvBkwF,EAAaG,QACbH,EAAalyB,QAEJ,IAANxqE,GACPorD,EAAM5vB,MAAM,CACRohE,YAAaF,EAAaE,cAE9BF,EAAaI,SAETJ,EAAaG,QACbH,EAAalyB,QCJ7B,IAAMuyB,GAAkB,kBAAM,SAAC9yB,EAAMjqE,MA2CrC,SAASg9F,GAAiB5xC,EAAO3qD,EAAU+vE,EAAYC,EAAUwsB,EAActC,EAAU8B,GAErF,IAAIS,EAAaD,GAAgBx8F,EAEjC,OAAOy8F,GACP,IAAK,QACL,IAAK,IACD,OAAOntB,GAAsB3kB,EAAO3qD,EAAU+vE,EAAYC,EAAU,SACxE,IAAK,SACL,IAAK,IACD,OAAOV,GAAsB3kB,EAAO3qD,EAAU+vE,EAAYC,EAAU,UACxE,IAAK,cACL,IAAK,YACL,IAAK,eACL,IAAK,cACL,IAAK,oBACL,IAAK,cACL,IAAK,aACL,IAAK,cACD,OAAOV,GAAsB3kB,EAAO3qD,EAAU+vE,EAAYC,EAAUhwE,GACxE,IAAK,eACL,IAAK,UACL,IAAK,oBACL,IAAK,cACL,IAAK,oBACD,OAAO6uE,GAAsBlkB,EAAO3qD,GAAW+vE,GAAaC,GAChE,IAAK,mBACL,IAAK,QACL,IAAK,kBACL,IAAK,oBACL,IAAK,OACL,IAAK,SACL,IAAK,kBACD,OAAOyR,GAAqB92B,EAAO3qD,EAAU+vE,EAAYC,GAC7D,IAAK,iBACL,IAAK,YACL,IAAK,iBACL,IAAK,kBACL,IAAK,eACL,IAAK,eACD,OAAO8R,GAAsBn3B,EAAO3qD,EAAU+vE,EAAYC,GAC9D,IAAK,SACD,OAAOsS,GAAsB33B,EAAO3qD,EAAU+vE,EAAYC,GAI9D,IAAIhoB,EAvFR,SAAgChoD,GAE5B,OAAOA,GACP,IAAK,gBACD,OAAO8vE,GACX,IAAK,SACD,OAAO4sB,sBACX,IAAK,aACD,OAAO/a,GACX,IAAK,cACD,OAAOc,GACX,IAAK,mBACL,IAAK,wBACD,OAAOuF,GACX,IAAK,SACL,IAAK,kBACD,OAAO8B,GACX,IAAK,YACD,OAAOgB,GACX,IAAK,YACD,OAAO+C,GACX,IAAK,mBACD,OAAOC,GACX,IAAK,qBACD,OAAOC,GACX,IAAK,mBACD,OAAOC,GACX,IAAK,IACD,OAAO2K,GACX,IAAK,SACD,OAAOc,GACX,IAAK,cACD,OAAOQ,GACX,IAAK,OACD,OAAO0B,GACX,IAAK,WACD,OAAOI,IAmDAY,CAAsBF,GAEjC,OAAIz0C,EACOA,EAAK2C,EAAO3qD,EAAU+vE,EAAYC,EAAUkqB,EAAU8B,GAG1DM,GAIJ,SAASM,GAA2BjyC,EAAO3qD,EAAU+vE,EAAYC,EAAUwsB,EAActC,EAAU8B,GACtG,OAAOO,GAAgB5xC,EAAO3qD,EAAU+vE,EAAYC,EAAUwsB,EAActC,EAAU8B,GAInF,SAASa,KAAwC,IAAnBpC,EAAmB,uDAAV,SAE1C,EAAyBA,EAAO1zF,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAAxD,YAAKi1F,EAAL,KAAe91F,EAAf,KACAA,GAAUA,GAAU,IAAID,MAAM,KAAK,GAAGc,OAEtC,IAAImgD,EAAO+0C,GAAgBD,GAE3B,GAAI90C,EAAM,CAEN,IAAIvkD,EAAOg3F,EAAO1zF,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UACtE,OAAOmgD,EAAI,WAAJ,OAAQvkD,IAEf,OAAOu5F,GAAoBvC,GAI5B,SAASuC,GAAqBvC,GACjC,IAAIzyC,EAAOmkB,GAAuBsuB,GAClC,OAAO,SAACjxB,GACJ,OAAOxhB,EAAKwhB,GAAM9kD,G,m/BC9InB,IAAMu4E,GAAb,qIAKE,WACE,+DAA8B,CAC5B/yC,SAAU,SACV9jD,OAAQ+/C,GAAOM,QAAQ,GACvB62B,MAAO,yBACPtY,WAAY,OAVlB,2BAcE,WACE,uEAEKxhE,KAAKqnD,MAAM,SAAU,QAAS,iBAjBvC,qBAqBE,SAAQnC,GAIN,OAHAA,EAAO,+CAAcA,IAEhBtiD,OAAS+/C,GAAO19C,MAAMigD,EAAKtiD,QACzBsiD,IAzBX,uBA4BE,WACE,gBAAUllD,KAAKklD,KAAKtiD,OAApB,YAA8BuqE,GAAcntE,KAAKmuE,YA7BrD,4BAgCE,WAA0B,IAAXltE,EAAW,uDAAJ,GACpB,OAAOjB,KAAK05F,YAAL,IACLroC,SAAS,EACTv1D,MAAO6mD,GAAOtgC,KACXphB,MApCT,yBAwCE,SAAazE,GACXwD,KAAKklD,KAAKsc,WAAWx/D,KAAKxF,KAzC9B,4BA6CE,SAAem9F,GACb35F,KAAKklD,KAAKsc,WAAW1xD,OAAO6pF,EAAa,KA9C7C,sBAkDE,SAAS56F,EAAK46E,EAAYigB,GACxB76F,EAAI+Q,OAAJ,MAAA/Q,EAAG,CACD66F,GAAejgB,EAAaigB,GAAe,EAAI,GAC/C,GAFC,YAGE76F,EAAI+Q,OAAO6pE,EAAY,QAtDhC,0BA0DE,SAAaA,EAAYigB,GACvB55F,KAAK65F,SAAS75F,KAAKklD,KAAKsc,WAAYmY,EAAYigB,KA3DpD,4BA+DE,SAAejpF,GAAkB,IAAX1P,EAAW,uDAAJ,GAC3B1F,OAAOsK,OAAO7F,KAAKklD,KAAKsc,YAAY7wD,GAApC,MAAkD1P,MAhEtD,iCAmEE,SAAoB7E,GAGlB,IAHkC,IAAX6E,EAAW,uDAAJ,GAC1BlC,EAAMiB,KAAKklD,KAAKsc,WAChB7wD,GAAS,EACL9V,EAAI,EAAGwR,EAAMtN,EAAIxB,OAAQ1C,EAAIwR,EAAKxR,IACxC,GAAImF,KAAKklD,KAAKsc,WAAW3mE,GAAGuB,MAAQA,EAAK,CACvCuU,EAAQ9V,EACR,MAIJU,OAAOsK,OAAO7F,KAAKklD,KAAKsc,YAAY7wD,GAApC,MAAkD1P,MA7EtD,mBAgFE,WACE,IAAI9C,EAAM,GAMV,OAJA6B,KAAKklD,KAAKsc,WAAW7tD,SAAQ,SAAAw1B,GAC3BhrC,EAAM,SAAKA,GAAQgrC,EAAGglC,YAGjBhwE,IAvFX,sBA0FE,WACE,OAAO6B,KAAK85F,eA3FhB,oBACE,SAAa37F,GACX,OAAO,IAAIs7F,EAAOt7F,OAFtB,GAA4B+vE,I,m/BCErB,IAAM6rB,GAAb,qIAgFE,WACE,+DAA8B,CAC5BrzC,SAAU,WACVtrD,KAAM,SACN4+F,aAAc,OACdC,QAAS,OArFf,2BAyFE,WACE,MAAoCj6F,KAAKklD,KAAhB+0C,GAAzB,EAAK7+F,KAAL,EAAW4+F,aAAX,EAAyBC,SACzB,0EAEKj6F,KAAKqnD,MAAM,OAAQ,iBAFxB,IAGE4yC,QAASA,EAAQrmF,KAAI,SAAAhR,GAAM,OAAIA,EAAO8nB,eA9F5C,0BAkGE,SAActuB,GACZ,OAAQA,GACR,IAAK,mBACL,IAAK,MACH,OAAO,EAGT,OAAO,IAzGX,iCA4GE,SAAqBO,GACnB,OAAOA,EAAEP,KACP,IAAK,mBAEH,OAAOO,EAAEb,MAAM0G,WAAa,IAC9B,IAAK,MAIH,OAHa7F,EAAEb,MAAQ,IAAIyH,MAAM,KAAKqQ,KAAI,SAAAzQ,GACxC,MAAO,KAAOA,KACbjB,KAAK,KACO,IAInB,OAAOvF,EAAEb,MAAM0G,WAAa,MAzHhC,4BA6HE,SAAgB2mC,GAAI,WAIlB,gBAAUA,EAAGvmC,OAAOJ,WAApB,eAFgB,UAEhB,OACU2mC,EAAGq4B,WAAW5tD,KAAI,SAAAjX,GAC9B,GAAI,EAAKu9F,aAAav9F,EAAEP,KACtB,OAAO,EAAK+9F,oBAAoBx9F,GAEhC,IAAIb,GAASa,EAAEb,OAAS,IAAI0G,WAE5B,GAAI1G,EAAO,CAET,IAAIM,EAAMO,EAAEP,IAKZ,MAHY,MAARA,EAAaA,EAAM,OACN,MAARA,IAAaA,EAAM,OAE5B,UAAUA,EAAV,aAAkBN,EAAlB,KAEA,MAAO,MAGVoG,KAAK,IAAIkC,QAAQ,MAAO,aAAmBC,OAnB1C,WAjIJ,0BAyJE,WAAgB,WAEV41F,EAAUj6F,KAAKklD,KAAK+0C,QAAQrmF,KAAI,SAAAu1B,GAClC,OAAOA,KAQT,OALA8wD,EAAQl2F,MAAK,SAACuR,EAAG8G,GACf,OAAO9G,EAAE1S,OAAO9G,MAAQsgB,EAAExZ,OAAO9G,MAAQ,GAAK,KAIxCm+F,EAAQrmF,KAAI,SAAAu1B,GAClB,OAA6B,IAAzBA,EAAGq4B,WAAWjkE,OAAqB,GAChC,EAAK68F,eAAejxD,MAC1BjnC,KAAK,QAvKZ,uBA0KE,WAWE,OATclC,KAAKklD,KAAK+0C,QAAQrmF,KAAI,SAAAu1B,GAClC,OAAOA,KAGDplC,MAAK,SAACuR,EAAG8G,GACf,OAAO9G,EAAE1S,OAAO9G,MAAQsgB,EAAExZ,OAAO9G,MAAQ,GAAK,KAIhD,uBACSkE,KAAKklD,KAAK9pD,KADnB,mBAGA4E,KAAKq6F,eAHL,aArLJ,0BA+LE,WAAwB,IAAXp5F,EAAW,uDAAJ,GAClB,OAAOjB,KAAKs6F,UACV,IAAIb,GAAJ,IACEpoC,SAAS,GACNpwD,OAnMX,uBAyME,SAAW2B,GACT5C,KAAKklD,KAAK+0C,QAAQj4F,KAAKY,KA1M3B,0BA8ME,SAAa+2F,GACX35F,KAAKklD,KAAK+0C,QAAQnqF,OAAO6pF,EAAa,KA/M1C,sBAmNE,SAAS56F,EAAK46E,EAAYigB,GACxB76F,EAAI+Q,OAAJ,MAAA/Q,EAAG,CACD66F,GAAejgB,EAAaigB,GAAe,EAAI,GAC/C,GAFC,YAGE76F,EAAI+Q,OAAO6pE,EAAY,QAvNhC,wBA2NE,SAAWA,EAAYigB,GACrB55F,KAAK65F,SAAS75F,KAAKklD,KAAK+0C,QAAStgB,EAAYigB,KA5NjD,0BAgOE,SAAajpF,GAAkB,IAAX1P,EAAW,uDAAJ,GACzBjB,KAAKklD,KAAK+0C,SAAStpF,GAAO4mB,MAAMt2B,KAjOpC,mBAqOE,WACE,MAAO,KAtOX,sBAyOE,WACE,OAAOjB,KAAK85F,eA1OhB,oBACE,SAAa37F,GACX,OAAO,IAAI47F,EAAS57F,KAFxB,wBAYE,SAAmBqvD,GACjB,IAAI6T,EAAY,GACZk5B,EAAe,GAEnB,GAAI/sC,EAAK,SAAc,CACrB,IAAItkB,EAAUgxC,GAAe1sB,EAAK,UAElCtkB,EAAQ/lC,IAAII,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAAQsP,SAAS,SAAC6mF,EAAW7pF,GAC/D,MAA4C6pF,EAAUj3F,MAAM,KAA5D,UAAMnI,EAAN,KAAYwH,EAAZ,KAAoBpG,EAApB,KACIi+F,EADJ,WAC2Bv4F,KAAK,KAE3Bq4F,EAAan/F,KAChBm/F,EAAan/F,GAAQ,IAAI2+F,EAAS,CAChC3+F,SAGFimE,EAAU1wD,GAASvV,GAGrB,IAAIs/F,EAAiBH,EAAan/F,GAAM6+F,QAAQ73F,QAAO,SAAA+mC,GACrD,OAAOA,EAAGvmC,OAAOmpE,OAAOppB,GAAO19C,MAAMrC,OAGnC+3F,EAAY,KACZD,EAAen9F,OACjBo9F,EAAYD,EAAe,IAE3BC,EAAY,IAAIlB,GAAO,CACrB72F,OAAQ+/C,GAAO19C,MAAMrC,KAGvB23F,EAAan/F,GAAM6+F,QAAQj4F,KAAK24F,IAGlCA,EAAUjB,YAAY,CACpBt9F,IAAKI,EACLV,MAAOu+E,GAAeogB,EAAevxD,EAAQ+nB,cAMnD,OAAOoQ,EAAUztD,KAAI,SAAAxY,GAsBnB,OApBAm/F,EAAan/F,GAAM6+F,QAAQtmF,SAAQ,SAAA/Q,GACjC,IAAIg4F,EAAO,GACPp5B,EAAa,GACjB5+D,EAAO4+D,WAAW7tD,SAAQ,SAAAhX,GACpBA,EAAEP,IAAIqoD,SAAS,MACjBm2C,EAAK54F,KAAKrF,GAEV6kE,EAAWx/D,KAAKrF,MAIpB,IAAIk+F,EAAWD,EAAKhnF,KAAI,SAAAu1B,GAAE,gBAAOA,EAAG/sC,IAAV,YAAiB+sC,EAAGrtC,UAASoG,KAAK,KAExD04F,EAAKr9F,QACPikE,EAAWx/D,KAAK,CAAE5F,IAAK,MAAON,MAAO++F,IAGvCj4F,EAAO4+D,WAAaA,KAGf+4B,EAAan/F,UA5E1B,GAA8B8yE,ICHjB4sB,GAAb,WACE,WAAYn8B,GAAQ,YAClB3+D,KAAK2+D,OAASA,EACd3+D,KAAK26D,WAAa,GAClB36D,KAAK+6F,WAAa,GAJtB,6CAOE,SAAmB3/F,EAAM4/F,GAEvB,GAAIh7F,KAAK26D,WAAWv/D,GAAO,MAAM,IAAI2F,MAAM,gCAAkC3F,GAC7E4E,KAAK26D,WAAWv/D,GAAQ4/F,IAV5B,+BAaE,SAAmB5/F,EAAM6/F,GAEvB,GAAIj7F,KAAK+6F,WAAW3/F,GAAO,MAAM,IAAI2F,MAAM,gCAAkC3F,GAC7E4E,KAAK+6F,WAAW3/F,GAAQ6/F,IAhB5B,+BAmBE,SAAkB7/F,GAChB,OAAO4E,KAAK26D,WAAWv/D,IAAS4E,KAAK26D,WAAL,OApBpC,0BAuBE,SAAav/D,GACX,OAAO4E,KAAK+6F,WAAW3/F,KAxB3B,6BAmCE,SAAiBsrD,GAAoB,IAAVvoD,EAAU,uDAAJ,GAC3B+8F,EAAiBl7F,KAAKm7F,kBAAkBz0C,GAC5C,IAAKw0C,EACH,MAAM,IAAIn6F,MAAJ,UAAa2lD,EAAb,wBAGR,OAAO,IAAIw0C,EAAe/8F,KAzC9B,6BAmDE,SAAiB6a,GACf,IAAMoiF,EAAYp7F,KAAKq7F,aAAariF,EAAK0tC,UAEzC,OAAIje,GAAW2yD,GACNA,EAAUpiF,IAAS,GAGxByvB,GAAWzvB,EAAKiyC,WACXjyC,EAAKiyC,YAGP,OA9DX,K,qkBCCA,IAAMhgB,GAAW,kBAAM,GAMVqwD,GAAb,WACI,WAAY38B,GAAQ,YAChB3+D,KAAK2+D,OAASA,EACd3+D,KAAKyO,QAAU,QACfzO,KAAK5E,KAAO,GACZ4E,KAAKu7F,YAAc,GACnBv7F,KAAK6X,MAAQ,IAAI00C,IACjBvsD,KAAKw7F,SAAW,GAPxB,gCAcI,WAAsB,aAAjBC,EAAiB,4DAAXp7F,EACDq7F,EAASD,GAAOz7F,KAAK2+D,OAAOg9B,SAAS,SAE3C37F,KAAK6X,MAAM+7C,QACX5zD,KAAKyO,QAAUitF,aAAf,EAAeA,EAAQjtF,QACvBzO,KAAK5E,KAAOsgG,aAAZ,EAAYA,EAAQtgG,KACpB4E,KAAKu7F,YAAcG,aAAnB,EAAmBA,EAAQH,YAE3BG,SAAA,UAAAA,EAAQF,gBAAR,SAAkB7nF,SAAQ,SAAAq0C,GACtB,EAAK4zC,YAAY5zC,MAGQ,IAAzBhoD,KAAKw7F,SAASj+F,QACdyC,KAAK67F,kBA3BjB,2BA+BI,WACI77F,KAAK47F,YAAY,CACbl1C,SAAU,UACVtrD,KAAM,kBAlClB,+BAsCI,WAA6B,IAAXuV,EAAW,uDAAH,EACtB,OAAO3Q,KAAKtE,IAAIsE,KAAKw7F,SAAS7qF,MAvCtC,iBA0CI,SAAIpK,GACA,OAAOvG,KAAK6X,MAAMnc,IAAI6K,KA3C9B,iBA8CI,SAAIA,EAAIyS,GACJhZ,KAAK6X,MAAM6C,IAAInU,EAAIyS,GACnBhZ,KAAK87F,WAAW,MAAOv1F,EAAIyS,KAhDnC,oBAoDI,SAAOzS,GACH,IAAMpI,EAAM6B,KAAK6X,MAAMnc,IAAI6K,GAErBslD,EAAW1tD,EAAIgoD,OAAO0F,SACtBl7C,EAAQk7C,EAASjqC,QAAQrb,GAE/BpI,EAAIo5B,MAAM,CACNwkE,SAAS,EACTC,aAAcrrF,EACdsrF,mBAAoBtrF,EAAQ,EAAIk7C,EAASl7C,EAAQ,GAAK,KACtDurF,oBAAqBvrF,EAAQk7C,EAAStuD,OAAS,EAAIsuD,EAASl7C,EAAQ,GAAK,OAG7E3Q,KAAK87F,WAAW,SAAUv1F,KAjElC,qBAqEI,SAAQA,GACJ,IAAMpI,EAAM6B,KAAK6X,MAAMnc,IAAI6K,GACrB4/C,EAASnmD,KAAKm8F,UAAU51F,IAGzBpI,EAAI89F,oBAAsB99F,EAAI+9F,oBAC/B/1C,EAAO0F,SAAS/7C,OAAOq2C,EAAO0F,SAAS3D,WAAU,SAAA/e,GAAE,OAAIhrC,EAAI+9F,uBAAuB,EAAG,EAAG31F,GAGnFpI,EAAI89F,qBAAuB99F,EAAI+9F,oBACpC/1C,EAAO0F,SAAS/7C,OAAOq2C,EAAO0F,SAAS3D,WAAU,SAAA/e,GAAE,OAAIhrC,EAAI89F,sBAAsB,EAAG,EAAG11F,GAIvF4/C,EAAO0F,SAAS/7C,OAAO3R,EAAI69F,aAAc,EAAGz1F,UAGzCpI,EAAI49F,eACJ59F,EAAI89F,0BACJ99F,EAAI+9F,2BACJ/9F,EAAI69F,aAEXh8F,KAAK87F,WAAW,UAAWv1F,KA3FnC,mBA8FI,WACIvG,KAAK6X,MAAM+7C,UA/FnB,oBAkGI,WAAS,WACL,MAAO,CACHnlD,QAASzO,KAAKyO,QACdrT,KAAM4E,KAAK5E,KACXmgG,YAAav7F,KAAKu7F,YAClBC,SAAUx7F,KAAKw7F,SAAS5nF,KAAI,SAAArN,GACxB,OAAO,EAAK7K,IAAI6K,GAAI++C,eAxGpC,wBAmHI,SAAW3vB,EAAMpvB,EAAIpI,GACjB6B,KAAK2+D,OAAO1vD,KAAK,UAAW0mB,EAAMpvB,EAAIpI,KApH9C,yBA6HI,SAAYi+F,EAAQC,GAEhB,IAAMl+F,EAAM6B,KAAKtE,IAAI0gG,GACrBj+F,EAAI0tD,SAAW1tD,EAAI0tD,SAASzpD,QAAO,SAAA+mC,GAAE,OAAIA,IAAOkzD,KAEhDr8F,KAAK87F,WAAW,cAAeM,EAAQ,CAAEC,cAlIjD,uBA0II,SAAUD,EAAQhzC,GACd,IAAMjrD,EAAM6B,KAAKtE,IAAI0gG,GAEf/yC,EAAWlrD,EAAIirD,WAAaA,EAElC,OAAKC,IAAyC,IAA7BlrD,EAAIgoD,OAAOzB,GAAG,WAExB2E,EAFqDrpD,KAAKspD,UAAUnrD,EAAIirD,SAAUA,KA/IjG,sBAwJI,WACI,OAAOppD,KAAK2+D,OAAOhE,aAzJ3B,wBA4JI,SAAWp0D,GACP,OAAOvG,KAAKtE,IAAI6K,KA7JxB,0BAsKI,SAAa61F,EAAQC,GACjB,IAAMl+F,EAAM6B,KAAKtE,IAAI0gG,GACrB,OAAOp8F,KAAKtE,IAAIyC,EAAI0tD,SAAStF,MAAK,SAAApd,GAAE,OAAIA,IAAOkzD,QAxKvD,6BA2KI,SAAgBC,GAAK,WACjB,OAAOA,EAAI1oF,KAAI,SAAArN,GAAE,OAAI,EAAK7K,IAAI6K,QA5KtC,uBAqLI,SAAUg2F,EAAaC,GAEnB,IAAMnsF,EAAOrQ,KAAKy8F,QAAQD,EAAWj2F,GAAIi2F,GAEzC,OAAOD,EAAYn6F,QAAO,SAAA+mC,GAAE,OAAIA,EAAG5iC,KAAOi2F,EAAWj2F,MAAIwS,MAAK,SAAA1b,GAC1D,OAAOgT,EAAKk2C,MAAK,SAAApd,GAAE,OAAIA,EAAG5iC,KAAOlJ,EAAOkJ,WA1LpD,2BAoMI,SAAc61F,GACV,IAAMj+F,EAAM6B,KAAKtE,IAAI0gG,GAErB,OAAIj+F,EAAIu+F,eAKJv+F,EAAIgoD,SAAWhoD,EAAIgoD,OAAOzB,GAAG,YAAcvmD,EAAIgoD,OAAOzB,GAAG,aAJlDvmD,EAQJA,EAAIgoD,QAAUnmD,KAAK28F,cAAcx+F,EAAIirD,YAhNpD,+BA0NI,SAAkBvxC,GAAO,WAEf+kF,EAAa,GAQnB,OANA/kF,EAAMlE,SAAQ,SAAAqF,GACV,IAAM6jF,EAAY,EAAKF,cAAc3jF,EAAKzS,KAAOyS,EAEjD4jF,EAAWC,EAAUt2F,IAAMs2F,KAGxBthG,OAAOoyB,OAAOivE,GAAYx6F,QAAO,SAAA+mC,GAAE,OAAIA,EAAG2zD,MAAM,gBApO/D,iCA6OI,SAAoBR,GAAK,WACrB,OAAOA,EAAI1oF,KAAI,SAAArN,GAAE,OAAI,EAAK7K,IAAI6K,MAAKnE,QAAO,SAAA+mC,GAAE,OAAKA,EAAG4yD,aA9O5D,wBAiPI,WAAqB,WAAVO,EAAU,uDAAJ,GACbA,EAAI3oF,SAAQ,SAAApN,GACR,EAAKwhD,OAAOxhD,MAGhBvG,KAAK87F,WAAW,aAAcQ,EAAK,CAACS,SAAS,MAtPrD,+BAyPI,SAAmBx2F,GACf,IAAMoK,EAAQ3Q,KAAKw7F,SAAStzC,WAAU,SAAA/e,GAAE,OAAIA,IAAO5iC,KAMnD,OAJAvG,KAAKw7F,SAAS1rF,OAAOa,EAAO,GAC5B3Q,KAAKtE,IAAI6K,GAAIw1F,SAAU,EAEvB/7F,KAAK87F,WAAW,oBAAqB,CAACv1F,GAAK,CAACy2F,WAAW,IAChDrsF,IAhQf,0BAmQI,WAAuB,WAAV2rF,EAAU,uDAAJ,GACfA,EAAI3oF,SAAQ,SAAApN,GACR,EAAK02F,QAAQ12F,MAGjBvG,KAAK87F,WAAW,eAAgBQ,EAAK,CAACS,SAAS,MAxQvD,iCA2QI,SAAqBx2F,EAAIoK,GACrB3Q,KAAKw7F,SAAS1rF,OAAOa,EAAO,EAAGpK,GAC/BvG,KAAKtE,IAAI6K,GAAIw1F,SAAU,EAEvB/7F,KAAK87F,WAAW,sBAAuB,CAACv1F,GAAK,CAACw1F,SAAS,EAAMiB,WAAW,MA/QhF,yBAwRI,SAAYE,GAA+B,IAGnClkF,EAHmC,OAAnBmkF,IAAmB,yDACjCn4C,EAASk4C,EAAWl4C,cACnBk4C,EAAWl4C,OAGdhlD,KAAKtE,IAAIwhG,EAAW32F,KACpByS,EAAOhZ,KAAKtE,IAAIwhG,EAAW32F,KACtBgxB,MAAM2lE,IAEXlkF,EAAOhZ,KAAK26D,WAAWyiC,gBAAgBF,EAAWx2C,SAA3C,MACAw2C,KAGFG,gBAAgBr9F,MAKrBm9F,IACAn9F,KAAK0a,IAAI1B,EAAKzS,GAAIyS,GAEdA,EAAK0rC,GAAG,aACR1kD,KAAKw7F,SAAL,KAAoB,IAAIlxC,IAAJ,eAAYtqD,KAAKw7F,UAAjB,CAA2BxiF,EAAKzS,SAK5D,IAAMslD,GAAY7G,GAAU,IAAIpxC,KAAI,SAAAu1B,GAChC,OAAO,EAAKyyD,YAAL,SAAsBzyD,GAAtB,IAA0BigB,SAAUpwC,EAAKzS,SAWpD,OAPAyS,EAAKue,MAAM,CACPs0B,SAAUA,EAASj4C,KAAI,SAAAu1B,GACnB,OAAOA,EAAG5iC,QAKXyS,IA/Tf,0BAkUI,SAAaojF,GAKT,IAL4C,IAA3Br3C,EAA2B,uDAAV9Z,GAC9B/B,EAAU,GACR/qC,EAAM6B,KAAKtE,IAAI0gG,GAEjB/vF,EAAMlO,EAAI0tD,SAAStuD,OACd8J,EAAQgF,EAAKhF,KAAU,CAC5B,IAAId,EAAKpI,EAAI0tD,SAASxkD,GACtB6hC,EAAQlnC,KAAR,MAAAknC,EAAO,KAAUlpC,KAAKs9F,aAAa/2F,EAAIw+C,KAO3C,OAJItc,GAAWsc,IAAmBA,EAAe5mD,IAC7C+qC,EAAQlnC,KAAK7D,GAGV+qC,IAhVf,uBAmVI,SAAUkzD,GAA2B,aAAnBmB,EAAmB,uDAAN,KACrBp/F,EAAM6B,KAAKtE,IAAI0gG,IAAWmB,EAEhC,OAAOp/F,SAAP,UAAOA,EAAK0tD,gBAAZ,aAAO,EAAej4C,KAAI,SAAAyoF,GAAO,OAAI,EAAK3gG,IAAI2gG,QAtVtD,wBAyVI,SAAWD,EAAQ1vF,GAIf,IAHA,IAAMvO,EAAM6B,KAAKtE,IAAI0gG,GAGZ/0F,EADClJ,EAAI0tD,SAAStuD,OACD8J,KAAU,CAC5B,IAAId,EAAKpI,EAAI0tD,SAASxkD,GACtBqF,EAAS1M,KAAKtE,IAAI6K,OA/V9B,uBAmWI,SAAU61F,EAAQ1vF,GAAU,WAGxB,OAFY1M,KAAKtE,IAAI0gG,GAEVvwC,SAASj4C,KAAI,SAAAyoF,GACpB,OAAO3vF,EAAS,EAAKhR,IAAI2gG,SAvWrC,uBAgXI,SAAUD,GAAQ,MACd,OAAOp8F,KAAKtE,IAAL,UAASsE,KAAKtE,IAAI0gG,UAAlB,aAAS,EAAkBhzC,YAjX1C,sBAuXI,SAASgzC,GACL,IAAMj2C,EAASnmD,KAAKm8F,UAAUC,GAC9B,OAAKj2C,EAEEnmD,KAAKw9F,SAASr3C,EAAO5/C,IAAM,EAFd,IAzX5B,qBAkYI,SAAQ61F,GACJ,IAAMj+F,EAAM6B,KAAKtE,IAAI0gG,GACfj2C,EAASnmD,KAAKm8F,UAAUC,GAC9B,IAAKj2C,EAAQ,OAAOhoD,EAEpB,IAAImoD,EAAcH,EAClB,EAAG,CACC,IAAMs3C,EAAaz9F,KAAKm8F,UAAU71C,EAAY//C,IAE9C,IAAKk3F,EACD,OAAOn3C,EAGXA,EAAcm3C,QAETn3C,KAjZjB,qBA0ZI,SAAQ81C,GAA2B,IAAnBmB,EAAmB,uDAAN,KACnBp/F,EAAM6B,KAAKtE,IAAI0gG,IAAWmB,EAC1Bp3C,EAASnmD,KAAKm8F,UAAUC,GAC9B,IAAKj2C,EAAQ,MAAO,CAAChoD,GAErB,IAAMuM,EAAO1K,KAAKy8F,QAAQt2C,EAAO5/C,IAIjC,OAFAmE,EAAK1I,KAAK7D,GAEHuM,IAnaf,gCA6aI,SAAmB0xF,EAAQ11C,GACvB,OAAO1mD,KAAKy8F,QAAQL,GAAQ71C,MAAK,SAAApd,GAAE,OAAIA,GAAMA,EAAGub,GAAGgC,QA9a3D,2BA0bI,SAAc01C,EAAQsB,GAClB,OAAO19F,KAAKy8F,QAAQL,GAAQ71C,MAAK,SAAApd,GAAE,OAAIA,GAAMA,EAAG5iC,KAAOm3F,OA3b/D,wBA8bI,SAAWtB,GACP,OAAOp8F,KAAK29F,mBAAmBvB,EAAQ,aA/b/C,yBAkcI,SAAYA,GACR,OAAOp8F,KAAK29F,mBAAmBvB,EAAQ,cAnc/C,gBAucI,SAAGA,EAAQ31C,GAEP,OAAOA,IADKzmD,KAAKtE,IAAI0gG,GACQ11C,WAzcrC,mBA4cI,SAAM01C,EAAQ31C,GACV,OAA0C,IAAnCzmD,KAAK0kD,GAAG03C,EAAQ31C,KA7c/B,mBAudI,SAAM21C,GAAiB,IACnB,IAAMj+F,EAAM6B,KAAKtE,IAAI0gG,GACfl3F,EAAS,GAFI,mBAANjF,EAAM,iCAANA,EAAM,kBAQnB,OAJAA,EAAK0T,SAAQ,SAAA2xB,GACTpgC,EAAOogC,GAAS5a,GAAMvsB,EAAImnC,OAGvBpgC,IA/df,yBAkeI,SAAYk3F,GAAQ,MAChB,OAAO,UAAAp8F,KAAKtE,IAAI0gG,UAAT,eAAkBvwC,SAAStuD,QAAS,IAnenD,mBAyeI,SAAM6+F,GAAuB,IAAfh1C,IAAe,yDACnBjpD,EAAM6B,KAAKtE,IAAI0gG,GACfl3C,EAAO/mD,EAAIopD,cAAc60C,EAAQh1C,GAEjCpuC,EAAOhZ,KAAK47F,YAAY12C,GAG9B,OAFAlsC,EAAK4kF,YAAYz/F,EAAIirD,UAEdpwC,IAhff,mBAmfI,SAAMojF,EAAQj+F,GAAK,MACf,iBAAO6B,KAAKtE,IAAI0gG,UAAhB,aAAO,EAAkB7kE,MAAMp5B,KApfvC,yBAufI,SAAYi+F,EAAQC,GACJr8F,KAAKtE,IAAI0gG,GACPp8F,KAAKtE,IAAI2gG,GAGvBr8F,KAAKklD,KAAK2G,SAAS7pD,KAAKmlD,MAAM5gD,IAG9B4gD,MAAM02C,eAAiB79F,KAAKklD,KAAK2G,SAASh8C,KAAK,GAAGjN,OAAS,OA/fnE,K,qkBCCO,IAAMk7F,GAAb,WAQE,aAAqC,WAAzB54C,EAAyB,uDAAlB,GAAI64C,EAAc,uCA4CnC,OA5CmC,YACnC/9F,KAAK+9F,aAAeA,EAEpB/9F,KAAKilD,IAAM,IAAIE,MAAMnlD,KAAM,CACzBtE,IAAK,SAAC2B,EAAQjB,GACZ,GAAI,EAAK0qD,SAAS1qD,GAChB,OAAO,EAAK0qD,SAAS1qD,GAGvB,IAAIgpD,EAAe/nD,EAAOjB,GAC1B,OAAIqsC,GAAW2c,IAER,EAAK0B,SAAS1qD,IACjB,EAAK2qD,SAAS3qD,GAAK,WAAa,2BAAT6D,EAAS,yBAATA,EAAS,gBAC9B,OAAOmlD,EAAajlD,MAAM9C,EAAQ4C,MAI/B,EAAK6mD,SAAS1qD,IAGdgpD,GAAgB/nD,EAAO6nD,KAAK9oD,IAGvCse,IAAK,SAACrd,EAAQjB,EAAKN,GAOjB,OANeuB,EAAO6nD,KAAK9oD,IAAQN,GAGjC,EAAKy7B,MAAL,OAAcn7B,EAAMN,KAGf,GAETkiG,eAAgB,SAAC3gG,EAAQjB,GACvB,EAAKm7B,MAAL,OAAcn7B,OAAMiE,OAIxBL,KAAKklD,KAAOllD,KAAKulD,QAAQhqD,OAAOsK,OAAO7F,KAAKwlD,mBAAoBN,IAChEllD,KAAKylD,iBAAmB,GACxBzlD,KAAK0lD,qBAAuB,GAC5B1lD,KAAK2lD,YAAc,GACnB3lD,KAAK4lD,UAAY,EAEV5lD,KAAKilD,IApDhB,2CAuDE,SAAgB84C,GACd/9F,KAAK+9F,aAAeA,IAxDxB,6BAiEE,WACE,MAAO,SAlEX,qBAqEE,WACE,MAAO,KAtEX,uBAyEE,SAAUn4C,GACR,OAAO5lD,KAAK4lD,WAAarG,OAAOqG,KA1EpC,qBA6EE,WACE5lD,KAAK4lD,WAAaE,YAAYC,QA9ElC,iBA0FE,WACE,OAAO/lD,KAAKklD,KAAK9pD,MAAQ4E,KAAKgmD,oBA3FlC,6BA8FE,WACE,IAAIjnD,EAAMiB,KAAKklD,KAAK9pD,KAAKmI,MAAM,KAE/B,KAAIxE,EAAIxB,OAAS,GAAjB,CAIA,IAAIsS,EAAO9Q,EAAIuoB,MACX2+B,GAAcp2C,EACd24B,GAASyd,KAAqC,IAAtBvuB,MAAMuuB,GAChCA,IAEAA,EAAap2C,EAGf,IAAMq2C,EAAW,eAAInnD,GAAJ,CAASknD,IAAY/jD,KAAK,KAE3ClC,KAAKu3B,MAAM,CACTn8B,KAAM8qD,OAhHZ,qBAwHE,WACE,OAAOlmD,KAAK+9F,aAAaT,aAAat9F,KAAKuG,MAzH/C,+BAiIE,SAAkBw+C,GAChB,OAAO/kD,KAAK+9F,aAAaT,aAAat9F,KAAKuG,GAAIw+C,KAlInD,cAwIE,WACE,OAAO/kD,KAAKklD,KAAK3+C,KAzIrB,kBAiJE,WACE,OAAOvG,KAAK+9F,aAAaE,UAAUj+F,KAAKuG,GAAIvG,KAAKilD,OAlJrD,oBAsJE,WACE,OAAOjlD,KAAKklD,KAAKkE,WAvJrB,kBA6JE,WACE,GAAKppD,KAAKklD,KAAKkE,SAEf,OAAOppD,KAAK+9F,aAAariG,IAAIsE,KAAKklD,KAAKkE,YAhK3C,yBAmKE,SAAYA,GACVppD,KAAKklD,KAAKkE,SAAWA,EAErBppD,KAAK+9F,aAAajC,WAAW,cAAe97F,KAAKuG,GAAI,CAAE6iD,eAtK3D,iBA8KE,WACE,OAAOppD,KAAK+9F,aAAaP,SAASx9F,KAAKuG,MA/K3C,eAuLE,WACE,OAAOvG,KAAK+9F,aAAaG,QAAQl+F,KAAKuG,MAxL1C,mBAgME,WACE,OAAOvG,KAAK+9F,aAAaI,WAAWn+F,KAAKuG,MAjM7C,oBAyME,WACE,OAAOvG,KAAK+9F,aAAaK,YAAYp+F,KAAKuG,MA1M9C,gBAkNE,WACE,OAAOvG,KAAK+9F,aAAatB,QAAQz8F,KAAKuG,GAAIvG,KAAKilD,OAnNnD,gBAsNE,WACE,OAAOjlD,KAAK+9F,aAAap/B,OAAO0/B,YAAY3iG,IAAIsE,KAAKuG,MAvNzD,mBA0NE,WACE,OAAOvG,KAAK+9F,aAAap/B,OAAO2/B,eAAe5iG,IAAIsE,KAAKuG,MA3N5D,0BA8NE,WACE,OAAOvG,KAAKklD,KAAK2G,SAAStuD,SA/N9B,wBAuOE,WAAyB,IAAdipD,EAAc,uDAAJ,GACnB,OAAOxmD,KAAKklD,KAAK3+C,GAAKigD,IAxO1B,gBA2OE,SAAGC,GACD,OAAOzmD,KAAKklD,KAAKwB,WAAaD,IA5OlC,mBA+OE,SAAMA,GACJ,OAAkC,IAA3BzmD,KAAK0kD,GAAG+B,KAhPnB,mBAmPE,WACE,OAAO,IApPX,sBAuPE,SAASrqD,EAAKN,GACZkE,KAAK2lD,YAAYvpD,GAAON,IAxP5B,sBA2PE,SAASM,GACP,OAAO4D,KAAK2lD,YAAYvpD,KA5P5B,sBAwQE,SAASA,EAAKuqD,GAAmC,IAAjB6H,EAAiB,wDACzC5H,EAAY,eAAH,OAAkBxqD,GAC3ByqD,EAAY,GAAH,OAAMD,EAAN,gBACT9qD,EAAQkE,KAAKklD,KAAK9oD,GAGxB,GAAIoyD,QAIF,GAAIxuD,KAAK8mD,SAAS1qD,KAASN,GAASkE,KAAK8mD,SAASD,GAChD,OAAO7mD,KAAK8mD,SAASD,GAQzB,OAHA7mD,KAAK+mD,SAAS3qD,EAAKN,GACnBkE,KAAK+mD,SAASF,EAAWF,EAAiB7qD,EAAOkE,KAAKilD,MAE/CjlD,KAAK8mD,SAASD,KA3RzB,2BA8RE,SAAczqD,GACZ,IAAMwqD,EAAY,eAAH,OAAkBxqD,GAC3ByqD,EAAY,GAAH,OAAMD,EAAN,gBAEf,OAAO5mD,KAAK8mD,SAASD,KAlSzB,sBAqSE,SAASG,GACP,OAAO,IAtSX,gCAgTE,WACEhnD,KAAKglD,OAAOrxC,SAAQ,SAACw1B,EAAIx4B,GACvBw4B,EAAG8d,GAAKt2C,EAERw4B,EAAG+d,0BApTT,qBA6TE,WAAmB,IAAXhC,EAAW,uDAAJ,GACb,OAAOA,IA9TX,sBAiUE,cAjUF,2BAqUE,WAA6B,WAAfkC,IAAe,yDACvBlC,EAAOllD,KAAKqnD,MACd,WAAY,OAAQ,cAAe,OAAQ,WAAY,YASzD,OANID,IACFlC,EAAKF,OAAShlD,KAAKklD,KAAK2G,SAASj4C,KAAI,SAAAyoF,GACnC,OAAO,EAAK0B,aAAarzE,MAAM2xE,EAASj1C,OAIrClC,IAhVX,mBAsVE,WAAqB,IAAfkC,IAAe,yDACnB,OAAOpnD,KAAK+9F,aAAarzE,MAAM1qB,KAAKuG,GAAI6gD,KAvV5C,4BAgWE,SAAejpD,GACb,OAAO,IAjWX,mBAyWE,SAAMA,GAWJ,OAVkB6B,KAAKu+F,eAAepgG,KAGpC6B,KAAKklD,KAAOllD,KAAKulD,QAAQhqD,OAAOsK,OAAO7F,KAAKklD,KAAM/mD,IAClD6B,KAAKylD,iBAAmBtnD,EACxB6B,KAAK0lD,qBAAuBnqD,OAAOuI,KAAK3F,GACxC6B,KAAK+9F,aAAajC,WAAW,QAAS97F,KAAKuG,GAAIpI,GAC/C6B,KAAKqlD,YAGA,IApXX,6BA4XE,WAAyB,kCAANplD,EAAM,yBAANA,EAAM,gBACvB,OAAOA,EAAK8Y,MAAK,SAAAowB,GAAE,YAAkC9oC,IAA9B,EAAKolD,iBAAiBtc,QA7XjD,8BAqYE,WAA2B,IAAVhrC,EAAU,uDAAJ,GACjBoI,EAAK46C,KACT,WACE56C,KAGAslD,SAAU,GACVgyC,eAAgB,GACb1/F,KA7YT,mBAsZG,WAAgB,eACT+G,EAAS,GADA,mBAANjF,EAAM,yBAANA,EAAM,gBASf,OANAA,EAAK0T,SAAQ,SAAA2xB,GACP8C,GAAe,EAAK8c,KAAK5f,MAC3BpgC,EAAOogC,GAAS5a,GAAM,EAAKw6B,KAAK5f,QAI7BpgC,IA/ZX,yBAuaE,WACE,OAAOlF,KAAKklD,KAAK2G,SAAStuD,OAAS,IAxavC,yBAgbE,SAAY4pD,GACV,GAAIA,EAAMiC,WAAappD,KAAKuG,GAAI,CAE9B,IAAMi4F,EAAQx+F,KAAKklD,KAAK2G,SAAStF,MAAK,SAAApd,GAAE,OAAIA,IAAOge,EAAM5gD,MAOzD,OANuB,IAAnBiiD,QAAQg2C,KAEVx+F,KAAKklD,KAAK2G,SAAS7pD,KAAKmlD,EAAM5gD,IAC9BvG,KAAK+9F,aAAajC,WAAW,cAAe97F,KAAKuG,GAAI,CAACuiD,MAAO3B,EAAM5gD,GAAIk4F,YAAat3C,EAAMiC,YAGrFjC,EAcT,OAXAnnD,KAAK8nD,YAAYX,GAGbA,EAAMhB,QACRgB,EAAMY,SAGRZ,EAAMy2C,YAAY59F,KAAKuG,IAEvBvG,KAAKklD,KAAK2G,SAAS7pD,KAAKmlD,EAAM5gD,IAEvB4gD,IAxcX,yBA2cE,SAAYnuC,MA3cd,gCA+cE,cA/cF,yBAydE,SAAYmuC,GAAkB,IAAXx2C,EAAW,uDAAH,EAazB,OAXA3Q,KAAK8nD,YAAYX,GAGbA,EAAMhB,QACRgB,EAAMY,SAGRZ,EAAMy2C,YAAY59F,KAAKuG,IACvBvG,KAAKklD,KAAK2G,SAAS/7C,OAAOa,EAAO,EAAGw2C,EAAM5gD,IAE1CvG,KAAK+9F,aAAajC,WAAW,cAAe97F,KAAKuG,GAAI,CAAC81F,QAASl1C,EAAM5gD,GAAIoK,MAAO,IACzEw2C,IAteX,yBA8eE,SAAYA,GAEV,IAAMx2C,EAAQ3Q,KAAKmmD,OAAO+B,UAAUloD,MAIpC,OAFAA,KAAKmmD,OAAOgC,YAAYhB,EAAOx2C,GAExBw2C,IApfX,0BA6fE,SAAaA,GAEX,IAAMx2C,EAAQ3Q,KAAKmmD,OAAO+B,UAAUloD,MAIpC,OAFAA,KAAKmmD,OAAOgC,YAAYhB,EAAOx2C,EAAQ,GAEhCw2C,IAngBX,oBA4gBE,SAAO7hB,EAAO+iB,GACRlgB,GAAYkgB,GACdroD,KAAKu3B,MAAL,OACG+N,GAAStlC,KAAKklD,KAAK5f,KAGtBtlC,KAAKu3B,MAAL,OACG+N,IAAU+iB,MAnhBnB,4BAwhBE,WAEE,IAAIC,EAAgBtoD,KAAKmmD,OACrBoC,EAAgB,GACpB,EAAG,CACD,GAAID,EAAc5D,GAAG,WAAY,MAEjC6D,EAAcvmD,KAAKwmD,QAAQF,EAAcG,YACzCH,EAAgBA,EAAcnC,aACvBmC,GAGT,OAAOE,QAAQD,EAAcnmD,OAAOomD,SAASjrD,UApiBjD,wBAwiBE,SAAWnB,GACT,MAAY,WAARA,IACA+rC,GAAYnoC,KAAKklD,KAAK9oD,MA1iB9B,oBAmjBE,WAAS,WACD8oD,EAAOllD,KAAKklD,KAEdwD,EAAU,GAYd,OAXAntD,OAAOuI,KAAKohD,GAAM9iD,QAAO,SAAAhG,GAAG,OAAI,EAAKusD,WAAWvsD,MAAMuX,SAAQ,SAAAvX,GAC5DssD,EAAQtsD,GAAO8oD,EAAK9oD,MAGlB4D,KAAK08F,gBACPh0C,EAAQ1D,OAAShlD,KAAKklD,KAAK2G,SAASj4C,KAAI,SAAAyoF,GAAW,MACjD,iBAAO,EAAK0B,aAAariG,IAAI2gG,UAA7B,aAAO,EAAgC/2C,aAKpCoD,IAlkBX,oBAqkBE,cArkBF,kBA4kBE,WAAe,IAAVx1C,EAAU,uDAAH,EACV,OAAOlT,KAAKmmD,OAAOyC,SAAS5oD,KAAKuG,GAAI2M,KA7kBzC,uBAglBE,SAAU8F,GACR,OAAOhZ,KAAKklD,KAAK2G,SAASjqC,QAAQ5I,EAAKzS,MAjlB3C,sBAolBE,SAASm4F,GAAwB,IAAXxrF,EAAW,uDAAJ,GACrB21C,EAAY7oD,KAAK+9F,aAAariG,IAAIgjG,GACpC51C,EAAQD,EAAUn+B,QACtBo+B,EAAMC,kBACND,EAAME,KAAK,CAAC91C,EAAMA,EAAM,IAExB,IAAI+1C,EAAajpD,KAAKkoD,UAAUW,GAKhC,OAHII,GAAc,GAChBjpD,KAAKklD,KAAK2G,SAAS7pD,KAAK8mD,EAAMviD,IAEzBuiD,IA/lBX,oBAsmBE,WACE9oD,KAAKmmD,OAAO+C,YAAYlpD,KAAKuG,MAvmBjC,yBA+mBE,SAAYm4F,GACV,OAAO1+F,KAAK+9F,aAAa70C,YAAYlpD,KAAKuG,GAAIm4F,KAhnBlD,uBAwnBE,SAAUt1C,GACR,OAAOppD,KAAK+9F,aAAaz0C,UAAUtpD,KAAKuG,GAAI6iD,KAznBhD,gBAioBE,SAAG1C,QAjoBL,K,s+DCJO,IAAMi4C,GAAb,qIACE,WAA2B,IAAVxgG,EAAU,uDAAJ,GACrB,mEACEygG,SAAU,GAqBVC,iBAAkB,IACf1gG,MAzBT,wBA6BE,SAAY/B,GACV,MAAY,qBAARA,GAEJ,kDAAwBA,KAhC5B,6BAmCE,SAAiB+B,GAEf,IAAIygG,EAAW5+F,KAAKghE,sBACf49B,GAEL,CAAC,QAAS,iBAAkB,aAAajrF,SAAQ,SAAAvX,GAC3CgsC,GAAejqC,EAAI/B,MACrBwiG,EAASxiG,GAAO+B,EAAI/B,SA1C5B,wBA+CE,WAAc,WAERwiG,EAAW5+F,KAAKghE,sBAEpBhhE,KAAKklD,KAAK25C,iBAAmB,GACzBD,GAEFA,EAAS39B,WAAWttD,SAAQ,SAAAmrF,GAC1BA,EAAUt9B,WAAW7tD,SAAQ,SAAAnX,GAC3B,EAAKuiG,uBAAuBD,EAAUv4F,GAAI/J,EAASA,kBAxD7D,kCAgEE,SAAsB+7D,GAAM,WACtBqmC,EAAW5+F,KAAKghE,sBAChBg+B,EAAmB,GAgBvB,OAfIJ,GAEFA,EAAS39B,WAAWttD,SAAQ,SAAAmrF,GAC1BA,EAAUt9B,WAAW7tD,SAAQ,SAAAhX,GAC3B,IAAI+N,EAAO,EAAKu0F,0BAA0BH,EAAUv4F,GAAI5J,EAAEH,UAE1DwiG,EAAiBh9F,KAAK0I,EAAK67C,MAAK,SAAA+a,GAC9B,SAAIA,EAAS49B,YAAc59B,EAAS/4D,WAAagwD,IAE1C+I,EAAS/4D,WAAagwD,GAAQA,EAAO+I,EAASJ,kBAMtD89B,EAAiB58F,QAAO,SAAA+mC,GAAE,OAAIA,OAlFzC,uCAqFE,SAA2By3B,EAASpkE,GAClC,OAAOwD,KAAKklD,KAAK25C,iBAAV,UAA8Bj+B,EAA9B,YAAyCpkE,MAtFpD,oCAyFE,SAAwBokE,EAASpkE,GAAU,WAErCk6F,EAAW12F,KACXrD,EAAIqD,KAAKohE,oBAAoBR,EAASpkE,GACtC2qD,EAAQnnD,KAAK+9F,aAAariG,IAAIklE,GAC9BxkE,EAAM,GAAH,OAAMwkE,EAAN,YAAiBpkE,GACxB,GAA2B,IAAvBG,EAAE0kE,UAAU9jE,OAAhB,CAKA,IAAIi7F,EAAexrC,GAAI8E,OAAOjiC,EAAX,oBAA0B+wC,EAA1B,OACfo4B,EAAer8F,EAAE0kE,UAAUztD,KAAI,SAAAu1B,GAAE,OAAIA,EAAGw1B,UAAQ,GACpD3+D,KAAKklD,KAAK25C,iBAAiBziG,GAAOO,EAAE0kE,UAAUztD,KAAK,SAAChR,EAAQ+N,GAE1D,IAAIwuF,EAAgBv8F,EAChBw8F,EAAaziG,EAAE0kE,UAAU1wD,EAAQ,GAErC/N,EAAO+7D,OAASq6B,EAGXoG,IACHA,EAAa,CAAE7mC,KAAM31D,EAAO21D,KAAMz8D,MAAO8G,EAAO9G,QAGlD,IAAIqtC,EAAK,CACPge,QACAqxC,eACAh8F,SAAUG,EAAEH,SACZ0iG,WAAYC,EAAc5mC,OAAS6mC,EAAW7mC,KAC9ChwD,UAAW3F,EAAO21D,KAClB2I,QAASk+B,EAAW7mC,KACpBgU,WAAY3pE,EAAO9G,MACnB0wE,SAAU4yB,EAAWtjG,MACrBm7F,OAAQr0F,EAAOq0F,OACfoI,oBAAqBjG,GAA0BjyC,EAAOxqD,EAAEH,SAAUoG,EAAO9G,MAAOsjG,EAAWtjG,MAAO8G,EAAO+7D,OAAQ+3B,EAAU8B,GAC3HzqB,eAAgBsrB,GAAqBz2F,EAAOq0F,SAK9C,OAFA9tD,EAAGqb,KAAO,EAAK86C,mBAAmBn2D,GAE3BA,KACN/mC,QAAO,SAAA+mC,GAAE,OAAIA,UAnCdnpC,KAAKklD,KAAK25C,iBAAiBziG,GAAO,KAhGxC,gCAsIE,SAAoB+sC,GAElB,OAAO,SAACovB,GACN,IAAIgnC,EAAUp2D,EAAG+3B,QAAU/3B,EAAG5gC,UAC1BxM,EAAI,EAKR,OAJe,IAAXwjG,IACFxjG,GAAKw8D,EAAOpvB,EAAG5gC,WAAWg3F,GAGrBp2D,EAAGk2D,oBAAoBl2D,EAAG4kC,eAAehyE,GAAIA,EAAGwjG,EAAQp2D,EAAG4kC,mBA/IxE,kBAmJE,SAAMyxB,GACJ,IAAIZ,EAAW5+F,KAAKghE,sBAEpB,GAAI49B,EAAU,CAEZ,IAAIrmC,EAAOqmC,EAASjG,YAIpB34F,KAAKy/F,qBAAqBlnC,GAAM5kD,SAAQ,SAAAw1B,GAEtC,GAAoB,aAAhBA,EAAG3sC,SAAyB,CAC9B,IAAMkjG,EAASv2D,EAAGqvD,aAAa3oE,EAAE,SAC7B6vE,GACFA,EAAOh2C,GAAGmvC,eAjKtB,kBA0KE,SAAM2G,GAA0C,IAA7BhX,EAA6B,uDAAX,SAAAr/C,GAAE,OAAIA,GAErCy1D,EAAW5+F,KAAKghE,sBAEpB,GAAI49B,EAAU,CAERx2D,GAAeo3D,IACjBx/F,KAAK2/F,uBAAuBH,GAG9B,IAAIjnC,EAAOqmC,EAASjG,YAEpB34F,KAAKy/F,qBAAqBlnC,GAAMn2D,OAAOomF,GAAgB70E,SAAQ,SAAAw1B,GAEzC,gBAAhBA,EAAG3sC,UAA8C,aAAhB2sC,EAAG3sC,SAGtC2sC,EAAGqb,KAAK+T,GAECpvB,EAAGge,OACZhe,EAAGge,MAAM5vB,MAAT,OACG4R,EAAG3sC,SAAW2sC,EAAGqb,KAAK+T,WA/LnC,iCAyME,WACE,IAAIqmC,EAAW5+F,KAAKklD,KAAK05C,SAErBtpF,EAAIspF,EAASx8F,QAAO,SAAA+mC,GAAE,OAAIA,EAAG0e,YAIjC,OAFuBvyC,EAAE/X,OAAS+X,EAAE,GAAKspF,EAAS,KAEvB,OAhN/B,wCAmNE,WACE,IAAIA,EAAW5+F,KAAKghE,sBAChBK,EAAY,GAUhB,OATIu9B,GAEFA,EAAS39B,WAAWttD,SAAQ,SAAA2B,GAC1BA,EAAEksD,WAAW7tD,SAAQ,SAAAhX,GACnB0kE,EAAUr/D,KAAK7B,MAAMkhE,EAAW1kE,EAAE0kE,iBAKjCA,IA/NX,6BAkOE,SAAgB30D,GACd,IAAIkyF,EAAW5+F,KAAKghE,sBAChB49B,GAEFA,EAAS39B,WAAWttD,SAAQ,SAAA2B,GAC1BA,EAAEksD,WAAW7tD,SAAQ,SAAAhX,GACnBA,EAAE0kE,UAAU1tD,SAAQ,SAAAhH,GAClBD,GAAYA,EAAUkyF,EAAUjyF,cAzO5C,yCAgPE,WACE,IAAI4rD,EAAO,EAKX,OAJAv4D,KAAK4/F,iBAAgB,SAAChB,EAAUt9B,GAC9B/I,EAAOtnD,KAAKypB,IAAI4mC,EAAS/I,KAAMA,MAG1BA,IAtPX,0CAyPE,WAEE,IAAIA,EAAOhZ,OAAOI,iBAKlB,OAJA3/C,KAAK4/F,iBAAgB,SAAChB,EAAUt9B,GAC9B/I,EAAOtnD,KAAKC,IAAIowD,EAAS/I,KAAMA,MAG1BA,IAhQX,yCAmQE,WAEE,IAAIA,EAAOv4D,KAAK6/F,+BAOhB,OANA7/F,KAAK4/F,iBAAgB,SAAChB,EAAUt9B,GAC1BkD,GAASo6B,EAASr6B,IAAKjD,EAAS/I,MAAQqmC,EAASkB,kBACnDvnC,EAAOtnD,KAAKypB,IAAI4mC,EAAS/I,KAAMA,OAI5BA,IA5QX,yCAgRE,WACE,IAAIA,EAAOv4D,KAAK+/F,8BAQhB,OAPA//F,KAAK4/F,iBAAgB,SAAChB,EAAUt9B,GAE1BkD,GAASo6B,EAASr6B,IAAKjD,EAAS/I,MAAQqmC,EAASkB,kBACnDvnC,EAAOtnD,KAAKC,IAAIowD,EAAS/I,KAAMA,OAI5BA,IAzRX,8BA4RE,SAAkBhyD,EAAImpD,GACpB,IAAIkvC,EAAW5+F,KAAKklD,KAAK05C,SAASr4C,MAAK,SAAApd,GACrC,OAAOA,EAAG5iC,KAAOA,KAGfq4F,IACFA,EAASvwF,MAAQqhD,KAlSvB,4BAsSE,SAAgBnpD,GAEVA,EACFvG,KAAKklD,KAAK05C,SAASjrF,SAAQ,SAAAw1B,GACzBA,EAAG0e,SAAW1e,EAAG5iC,KAAOA,KAIHvG,KAAKklD,KAAK05C,SAASx8F,QAAO,SAAA+mC,GAAE,OAAIA,EAAG0e,YAErCtqD,QAGfyC,KAAKklD,KAAK05C,SAASrhG,SACrByC,KAAKklD,KAAK05C,SAAS/2C,UAAW,GAMpC7nD,KAAKggG,eA1TT,6BA8TE,SAAiBz5F,GAEfvG,KAAKklD,KAAK05C,SAAW5+F,KAAKklD,KAAK05C,SAASx8F,QAAO,SAAA+mC,GAC7C,OAAOA,EAAG5iC,KAAOA,KAGfvG,KAAKklD,KAAK05C,SAASrhG,SACrByC,KAAKklD,KAAK05C,SAAS,GAAG/2C,UAAW,GAGnC7nD,KAAKggG,eAxUT,yBA4UE,WAAqD,IAAxCz7B,EAAwC,uDAAlC,GAAI07B,EAA8B,uDAAhB,cAC/B15F,EAAK+6C,KACL4+C,EAAmB,OACrB35F,KACA8H,MAAO,UACJrO,KAAKmgG,qBAAqB57B,EAAK07B,IAHhB,IAIlBh/B,WAAY,KAMd,OAJAjhE,KAAKklD,KAAK05C,SAAS58F,KAAKk+F,GAExBlgG,KAAKogG,eAAe75F,GAEb25F,IAxVX,8BA2VE,SAAkBt/B,GAAiD,IAAxC2D,EAAwC,uDAAlC,GAAI07B,EAA8B,uDAAhB,cAC7CC,EAAmBlgG,KAAKghE,sBAQ5B,GANKk/B,IACHA,EAAmBlgG,KAAKqgG,YAAY97B,EAAK07B,IAG3CC,EAAiBr4C,UAAW,EAExB+Y,EAAS,CACX,IAAIzZ,EAAQ+4C,EAAiBj/B,WAAW7+D,QAAO,SAAA+mC,GAAE,OAAIA,EAAG5iC,KAAOq6D,KAE1DzZ,EAAM,IACT+4C,EAAiBj/B,WAAWj/D,KAAK,CAC/BuE,GAAIq6D,EAASY,WAAY,QAzWnC,kCAiXE,WAA6D,IAAvC+C,EAAuC,uDAAjC,GAAI07B,EAA6B,uDAAf,cAExC/+B,EAAU9c,GAAOmgB,EAAK07B,GAE1B,MAAO,CACL17B,MACAW,MAAO,EACPK,UAAW,SACXD,eAAgB,EAChBw6B,gBAAiBt7B,GAASD,EAAK,GAC/B+7B,cAAe97B,GAASD,EAAKrD,GAC7By3B,YAAa,EACb4H,UAAWr/B,EACXs/B,iBAAkB,EAClBC,eAAgBv/B,KA/XtB,oCAoYE,SAAwBs+B,GACtB,IAAIZ,EAAW5+F,KAAKghE,sBACfuD,EAAsBq6B,EAAtBr6B,IAAK+7B,EAAiB1B,EAAjB0B,cAEV,GAAI1B,EAAU,CACZ,IAAIj6B,EAAQ66B,EACRx8F,EAAOw8F,GAEL76B,EAAS,KAAOA,IAEpB3hE,EAAO8hE,GAAiBP,EADxBI,GAASA,IAIP3hE,EAAOs9F,IACPt9F,EAAOs9F,GAGX,IAAI3H,EAAcv0C,GAAOmgB,EAAKvhE,GAE9B47F,EAASjG,YAAcA,EACvBiG,EAASkB,gBAAkBt7B,GAASD,EAAKo0B,MAxZ/C,kCA8ZE,SAAsB+H,EAAQC,EAAeC,GAE3C,IAAIhC,EAAW5+F,KAAKghE,sBAEpB,GAAI49B,EAAU,CAEZ,IAAIiC,EAASH,EAAS9B,EAAS2B,UAE3Bh4F,EAAYo4F,EAAgBE,EAC5B3/B,EAAU0/B,EAAcC,EAG5Bt4F,EAAY0I,KAAKypB,IAAInyB,EAAW,GAGd,KAFlBA,EAAY0I,KAAKC,IAAI3I,EAAW24D,MAG5BA,EAAU0/B,EAAcD,GAG5Bz/B,EAAUjwD,KAAKypB,IAAIwmC,EAAS34D,IAC5B24D,EAAUjwD,KAAKC,IAAIgwD,EAAS09B,EAAS2B,cAErB3B,EAAS2B,YACrBh4F,EAAYq2F,EAAS2B,WAAaK,EAAcD,IAIpD/B,EAAS4B,iBAAmBj4F,EAC5Bq2F,EAAS6B,eAAiBv/B,KA1bhC,qCAgcE,SAAyB8E,GACvB,IAAI44B,EAAW5+F,KAAKghE,sBAEhB49B,IACFA,EAAS4B,iBAAmBx6B,EAAO44B,EAAS2B,aApclD,mCAwcE,SAAuBv6B,GACrB,IAAI44B,EAAW5+F,KAAKghE,sBAEhB49B,IACFA,EAAS6B,eAAiBz6B,EAAO44B,EAAS2B,aA5chD,wCAgdE,SAA4Bv6B,GAC1B,IAAI44B,EAAW5+F,KAAKghE,sBAEpB,GAAI49B,EAAU,CACZ,IAAK4B,EAAyC5B,EAAzC4B,iBAAkBC,EAAuB7B,EAAvB6B,eAAgBl8B,EAAOq6B,EAAPr6B,IACnCo0B,EAAc6H,GAAoBC,EAAiBD,GAAoBx6B,EAE3EhmE,KAAK2/F,uBAAuBn7B,GAASD,EAAKo0B,OAvdhD,kCA4dE,SAAsB6G,GACpB,IAAIZ,EAAW5+F,KAAKghE,sBAEpB,GAAI49B,EAAU,CACZ,IAAIj6B,EAAQ66B,EACRx8F,EAAOw8F,GAEL76B,EAAS,KAAOA,IACpBA,GAASA,EACT3hE,EAAO8hE,GAAiB85B,EAASr6B,IAAKI,IAGpCvgB,GAAOw6C,EAASr6B,IAAKvhE,GAAQ47F,EAAS6B,iBACxC7B,EAAS6B,eAAiBr8C,GAAOw6C,EAASr6B,IAAKvhE,GAC/C47F,EAAS4B,iBAAmB,GAG9B5B,EAAS0B,cAAgBt9F,EACzB47F,EAAS2B,UAAYn8C,GAAOw6C,EAASr6B,IAAKvhE,MA9ehD,+BAqfE,SAAmB49D,GACjB,IAAIs/B,EAAmBlgG,KAAKghE,sBAE5B,GAAIk/B,EACF,OAAOA,EAAiBj/B,WAAW1a,MAAK,SAAApd,GAAE,OAAIA,EAAG5iC,KAAOq6D,OAzf9D,iCA6fE,SAAqBA,EAASpkE,GAC5BwD,KAAK8gG,iBAAiBlgC,GACtB,IAAIk+B,EAAY9+F,KAAKuhE,kBAAkBX,GAEnCk+B,IACMA,EAAUt9B,WAAWp/D,QAAO,SAAA+mC,GAAE,OAAIA,EAAG3sC,WAAaA,KAEnDe,SACLuhG,EAAUt9B,WAAWx/D,KAAK,CACxBxF,WAAU6kE,UAAW,KAEvBrhE,KAAK++F,uBAAuBn+B,EAASpkE,OAxgB7C,iCA8gBE,SAAqBokE,EAASpkE,GAE5B,IAAIoiG,EAAW5+F,KAAKghE,sBAEpB,GAAI49B,EAAU,CAEZh+B,EAAUA,GAAWg+B,EAASmC,gBAC9BvkG,EAAWA,GAAYoiG,EAASoC,iBAEhC,IAAIC,EAAiBjhG,KAAKuhE,kBAAkBX,GAE5C,GAAIqgC,EACF,OAAOA,EAAez/B,WAAWjb,MAAK,SAAApd,GAAE,OAAIA,EAAG3sC,WAAaA,QA1hBpE,+BAkiBE,SAAkBokE,EAASpkE,EAAU+7D,GACnC,IAAIqmC,EAAW5+F,KAAKghE,sBAEhB49B,IACFA,EAASmC,gBAAkBngC,EAC3Bg+B,EAASoC,iBAAmBxkG,EAC5BoiG,EAASsC,mBAAqB3oC,EAEtBv4D,KAAKohE,sBACXC,UAAU1tD,SAAQ,SAAAw1B,GAClBA,EAAG0e,SAAW1e,EAAGovB,OAASA,QA5iBlC,oCAkjBE,SAAwBqI,EAASpkE,EAAU2kG,GACzC,IAAIxkG,EAAIqD,KAAKohE,oBAAoBR,EAASpkE,GAEtCG,IACFA,EAAE0kE,UAAY1kE,EAAE0kE,UAAUj/D,QAAO,SAAA+mC,GAAE,OAAIA,EAAG5iC,IAAM46F,QAtjBtD,oCA0jBE,SAAwBvgC,EAASpkE,GAC/B,IAAI2qD,EAAQnnD,KAAKuhE,kBAAkBX,GAE/BzZ,IACFA,EAAMqa,WAAara,EAAMqa,WAAWp/D,QAAO,SAAAzF,GAAC,OAAIA,EAAEH,UAAYA,QA9jBpE,4BAkkBE,SAAgBokE,GACd,IAAIg+B,EAAW5+F,KAAKghE,sBAEhB49B,IACFA,EAAS39B,WAAa29B,EAAS39B,WAAW7+D,QAAO,SAAAg/F,GAAG,OAAIA,EAAI76F,IAAMq6D,QAtkBxE,2CA0kBE,SAA+BA,EAASpkE,EAAU2kG,EAAUE,GAC1D,IAAI//B,EAAWthE,KAAKshG,wBAAwB1gC,EAASpkE,EAAU2kG,GAC3D7/B,IACFA,EAAS/I,KAAO8oC,EAEhBrhG,KAAK++F,uBAAuBn+B,EAASpkE,MA/kB3C,4CAmlBE,SAAgCokE,EAASpkE,EAAU2kG,GAAmE,IAAzDrlG,EAAyD,4DAAjDuE,EAAW42F,EAAsC,4DAA7B52F,EAAWk4D,EAAkB,4DAAXl4D,EAErGihE,EAAWthE,KAAKshG,wBAAwB1gC,EAASpkE,EAAU2kG,GAC3D7/B,IACEl5B,GAAemwB,KAAS+I,EAAS/I,KAAOA,GACxCnwB,GAAetsC,KAAUwlE,EAASxlE,MAAQA,GAC1CssC,GAAe6uD,KAAW31B,EAAS21B,OAASA,GAEhDj3F,KAAK++F,uBAAuBn+B,EAASpkE,MA3lB3C,iCA+lBE,YAAkF,IAA3DokE,EAA2D,EAA3DA,QAASpkE,EAAkD,EAAlDA,SAAUV,EAAwC,EAAxCA,MAAOm7F,EAAiC,EAAjCA,OAAcsK,EAAmB,EAAzBhpC,KAAeoG,EAAU,EAAVA,OAEtE3+D,KAAKwhG,oBAAoB5gC,EAASpkE,GAClC,IAAIoiG,EAAW5+F,KAAKghE,sBAChBrkE,EAAIqD,KAAKohE,oBAAoBR,EAASpkE,GAE1C,GAAIG,EAAG,CAEL,IAAI47D,EAAOgpC,GAAW3C,EAASjG,YAI/B,IAFYh8F,EAAE0kE,UAAUj/D,QAAO,SAAA+mC,GAAE,OAAIA,EAAGovB,OAASA,KAEtCh7D,OAAQ,CACjBzB,EAASqsC,GAAYrsC,IAAoB,KAAVA,EAAgBkE,KAAKyhG,wBAAwBjlG,GAAYV,EAExF,IAAIqC,EAAM,CAAEoI,GAAI+6C,KAAasf,UAASpkE,WAAU+7D,OAAMz8D,QAAOm7F,OAAQA,GAAU,SAAUt4B,UASzF,OARAhiE,EAAE0kE,UAAUr/D,KAAK7D,GAEjBxB,EAAE0kE,UAAUt9D,MAAM,SAACuR,EAAG8G,GACpB,OAAO9G,EAAEijD,KAAOn8C,EAAEm8C,KAAO,GAAK,KAGhCv4D,KAAK++F,uBAAuBn+B,EAASpkE,GAE9B2B,MAvnBf,qCA4nBE,SAAwB3B,GAEtB,OAAOA,GACP,IAAK,iBACH,MAAO,SACT,IAAK,SACH,MAAO,OACT,IAAK,aACH,MAAO,mCACT,IAAK,cACH,MAAO,+BACT,IAAK,UACH,OAAO,EAOT,QACE,MAAO,MAhpBb,kCAqpBE,SAAsBokE,EAASpkE,GAA0B,IAAhB+kG,EAAgB,uDAAN,KAC7C5kG,EAAIqD,KAAKohE,oBAAoBR,EAASpkE,GAE1C,GAAIG,EAAG,CACL,IAAIiiG,EAAW5+F,KAAKghE,sBAChBzI,EAAOgpC,GAAW3C,EAASjG,YAE3B+I,EAAQ/kG,EAAE0kE,UAAUj/D,QAAO,SAAA+mC,GAAE,OAAIA,EAAGovB,KAAOA,KAC3Cz8D,EAAQkE,KAAKyhG,wBAAwBjlG,GACrCy6F,EAAS,SACTt4B,EAAS,GACT+iC,EAAMnkG,SAERmkG,EAAM39F,MAAK,SAACuR,EAAG8G,GACb,OAAO9G,EAAEijD,KAAOn8C,EAAEm8C,MAAQ,EAAI,KAGhCz8D,EAAQ4lG,EAAM,GAAG5lG,MAAQ,GACzBm7F,EAASyK,EAAM,GAAGzK,OAAS,GAC3Bt4B,EAAS+iC,EAAM,GAAG/iC,QAIpB3+D,KAAK2hG,oBAAoB,CAAC/gC,UAASpkE,WAAUV,QAAOm7F,SAAQt4B,cA5qBlE,iCAirBE,SAAqBiC,EAASpkE,EAAU+7D,GACtC,IAAI57D,EAAIqD,KAAKohE,oBAAoBR,EAASpkE,GAE1C,GAAIG,EACF,OAAOA,EAAE0kE,UAAU9a,MAAK,SAAApd,GAAE,OAAIA,EAAGovB,OAASA,OArrBhD,qCAyrBE,SAAyBqI,EAASpkE,EAAU+J,GAC1C,IAAI5J,EAAIqD,KAAKohE,oBAAoBR,EAASpkE,GAE1C,GAAIG,EACF,OAAOA,EAAE0kE,UAAU9a,MAAK,SAAApd,GAAE,OAAIA,EAAG5iC,KAAOA,OA7rB9C,kCAisBE,SAAsBq6D,EAASpkE,GAC7B,IAAIG,EAAIqD,KAAKohE,oBAAoBR,EAASpkE,GAEtCG,IACFA,EAAE0kE,UAAUt9D,MAAK,SAACuR,EAAG8G,GACnB,OAAO9G,EAAEijD,KAAOn8C,EAAEm8C,KAAO,GAAK,KAEhCv4D,KAAK++F,uBAAuBn+B,EAASpkE,MAxsB3C,oBA6sBE,SAAQ+nE,GACN,IAAIq6B,EAAW5+F,KAAKghE,sBAEhB49B,IACAA,EAASr6B,IAAMA,EAEfq6B,EAASkB,gBAAkBt7B,GAASD,EAAKq6B,EAASjG,aAClDiG,EAAS0B,cAAgB97B,GAASD,EAAKq6B,EAAS2B,cAptBxD,2BAwtBE,WACE,2EAEE3B,SAAUl0E,GAAM1qB,KAAKklD,KAAK05C,gBA3tBhC,GCJA,qIAEE,WAA2B,IAAVzgG,EAAU,uDAAJ,GACrB,mEACEyjG,SAAU,GACVnnB,OAAQ,GACRonB,UAAW,GACXC,WAAY,GACZC,UAAW,GACX1gC,UAAW,GACXqhB,OAAQ,GACRsf,UAAW,GACXC,OAAQ,GACRC,UAAW,GACXC,OAAQ,IACLhkG,MAfT,yBAoBE,SAAYmjE,GAEV,OADAthE,KAAKklD,KAAKmc,UAAUr/D,KAAKs/D,GAClBA,IAtBX,4BA0BE,WAA0B,IAAXrgE,EAAW,uDAAJ,GACpB,OAAOjB,KAAKoiG,YACV,IAAIrI,GAAJ,IACE1oC,SAAS,GACNpwD,OA9BX,4BAoCE,SAAe04F,GACb35F,KAAKqiG,mBAAmBriG,KAAKklD,KAAKmc,UAAWs4B,KArCjD,sBAyCE,SAAS56F,EAAK46E,EAAYigB,GACxB76F,EAAI+Q,OAAJ,MAAA/Q,EAAG,CACD66F,GAAejgB,EAAaigB,GAAe,EAAI,GAC/C,GAFC,YAGE76F,EAAI+Q,OAAO6pE,EAAY,QA7ChC,0BAiDE,SAAaA,EAAYigB,GACvB55F,KAAK65F,SAAS75F,KAAKklD,KAAKmc,UAAWsY,EAAYigB,KAlDnD,4BAsDE,SAAejpF,GAAkB,IAAX1P,EAAW,uDAAJ,GAC3BjB,KAAKklD,KAAKmc,WAAW1wD,GAAO4mB,MAAMt2B,KAvDtC,8BA8DE,WAAqC,IAAnBqhG,EAAmB,wDACnC,OAAOtiG,KAAKklD,KAAKmc,UACNztD,KAAI,SAAA0tD,GAAQ,OAAIA,EAAS9+D,SAAS8/F,MAClCpgG,KAAK,UAjEpB,8BAqEE,SAAiBnD,EAAK4R,GACpB,IAAI4xF,EAAa,MAAIxjG,EAAI4R,IACzB5R,EAAI+Q,OAAOa,EAAO,EAAG4xF,KAvEzB,2BA0EE,WACaviG,KAAKklD,KAChB,uEAEKllD,KAAKqnD,MACN,SACA,YACA,aACA,YACA,SACA,gBApFR,gCA2FE,SAAmBtoD,EAAK46F,GACtB56F,EAAI+Q,OAAO6pF,EAAa,KA5F5B,yBAiGE,SAAYA,GACV35F,KAAKqiG,mBAAmBriG,KAAKklD,KAAKu1B,OAAQkf,KAlG9C,uBAsGE,SAAUhpF,GACR3Q,KAAKwiG,iBAAiBxiG,KAAKklD,KAAKu1B,OAAQ9pE,KAvG5C,uBA0GE,SAAUgpE,EAAYigB,GACpB55F,KAAK65F,SAAS75F,KAAKklD,KAAKu1B,OAAQd,EAAYigB,KA3GhD,2BA8GE,SAAcjpF,GAAmB,IAAZ7U,EAAY,uDAAJ,GAC3BkE,KAAKklD,KAAKu1B,OAAO9pE,GAAjB,SAA8B3Q,KAAKklD,KAAKu1B,OAAO9pE,IAAW7U,KA/G9D,2BAkHE,SAAe6U,GACb,OAAO3Q,KAAKklD,KAAKu1B,OAAO9pE,KAnH5B,sBAsHE,SAAUvV,GACR,OAAO4E,KAAKklD,KAAKu1B,OAAOr4E,QAAO,SAAA4W,GAAI,OAAIA,EAAK5d,OAASA,KAAM,KAvH/D,sBA0HE,SAAU+C,GAER,OADA6B,KAAKklD,KAAKu1B,OAAOz4E,KAAK7D,GACfA,IA5HX,yBA+HE,WAAuB,IAAX8C,EAAW,uDAAJ,GACjB,OAAOjB,KAAKyiG,SAASxhG,KAhIzB,yBAsIE,SAAY04F,GACV35F,KAAKqiG,mBAAmBriG,KAAKklD,KAAKw9B,OAAQiX,GAC1C35F,KAAK0iG,qBAxIT,uBA4IE,SAAU/xF,GACR3Q,KAAKwiG,iBAAiBxiG,KAAKklD,KAAKw9B,OAAQ/xE,GACxC3Q,KAAK0iG,qBA9IT,uBAiJE,SAAU/oB,EAAYigB,GACpB55F,KAAK65F,SAAS75F,KAAKklD,KAAKw9B,OAAQ/I,EAAYigB,KAlJhD,2BAsJE,SAAcjpF,GAAmB,IAAZ7U,EAAY,uDAAJ,GAC3BkE,KAAKklD,KAAKw9B,OAAO/xE,GAAjB,SAA8B3Q,KAAKklD,KAAKw9B,OAAO/xE,IAAW7U,GAC1DkE,KAAK0iG,qBAxJT,+BA2JE,SAAmBn8F,GACjB,IAAMW,EAAQlH,KAAKklD,KAAK88C,UAAUz7F,GAClC,GAAKW,EAEL,OAAOA,EAAMy7F,QA/JjB,8BAkKE,WACE,IAAIX,EAAY,GAChBhiG,KAAKklD,KAAKw9B,OAAO/uE,SAAQ,SAAAw1B,GACvB64D,EAAU74D,EAAG5iC,IAAM4iC,KAGrBnpC,KAAKu3B,MAAM,CACTyqE,gBAzKN,sBA6KE,SAAS7jG,GAGP,OAFA6B,KAAKklD,KAAKw9B,OAAO1gF,KAAK7D,GACtB6B,KAAK0iG,mBACEvkG,IAhLX,yBAmLE,WAAuB,IAAX8C,EAAW,uDAAJ,GACjB,OAAOjB,KAAK4iG,SAAS3hG,KApLzB,yBA2LE,SAAY04F,GACV35F,KAAKqiG,mBAAmBriG,KAAKklD,KAAK+8C,OAAQtI,GAC1C35F,KAAK6iG,qBA7LT,uBAiME,SAAUlyF,GACR3Q,KAAKwiG,iBAAiBxiG,KAAKklD,KAAK+8C,OAAQtxF,GACxC3Q,KAAK6iG,qBAnMT,uBAsME,SAAUlpB,EAAYigB,GACpB55F,KAAK65F,SAAS75F,KAAKklD,KAAK+8C,OAAQtoB,EAAYigB,KAvMhD,2BA2ME,SAAcjpF,GAAmB,IAAZ7U,EAAY,uDAAJ,GAC3BkE,KAAKklD,KAAK+8C,OAAOtxF,GAAjB,SAA8B3Q,KAAKklD,KAAK+8C,OAAOtxF,IAAW7U,KA5M9D,+BA+ME,SAAmByK,GACjB,IAAMyB,EAAQhI,KAAKklD,KAAKg9C,UAAU37F,GAClC,GAAKyB,EAEL,OAAOA,EAAM26F,QAnNjB,8BAsNE,WACE,IAAIT,EAAY,GAChBliG,KAAKklD,KAAK+8C,OAAOtuF,SAAQ,SAAAw1B,GACvB+4D,EAAU/4D,EAAG5iC,IAAM4iC,KAGrBnpC,KAAKu3B,MAAM,CACT2qE,gBA7NN,sBAiOE,SAAS/jG,GAGP,OAFA6B,KAAKklD,KAAK+8C,OAAOjgG,KAAK7D,GACtB6B,KAAK6iG,mBACE1kG,IApOX,yBAuOE,WAAuB,IAAX8C,EAAW,uDAAJ,GACjB,OAAOjB,KAAK8iG,SAAS7hG,KAxOzB,4BA8OE,SAAe04F,GACb35F,KAAKqiG,mBAAmBriG,KAAKklD,KAAK28C,UAAWlI,KA/OjD,0BAmPE,SAAahpF,GACX3Q,KAAKwiG,iBAAiBxiG,KAAKklD,KAAK28C,UAAWlxF,KApP/C,0BAuPE,SAAagpE,EAAYigB,GACvB55F,KAAK65F,SAAS75F,KAAKklD,KAAK28C,UAAWloB,EAAYigB,KAxPnD,8BA2PE,SAAiBjpF,EAAO7U,GACtBkE,KAAKklD,KAAK28C,UAAUlxF,GAApB,SAAiC3Q,KAAKklD,KAAK28C,UAAUlxF,IAAW7U,KA5PpE,8BA+PE,SAAkB6U,GAChB,OAAO3Q,KAAKklD,KAAK28C,UAAUlxF,KAhQ/B,yBAmQE,SAAavV,GACX,OAAO4E,KAAKklD,KAAK28C,UAAUz/F,QAAO,SAAA4W,GAAI,OAAIA,EAAK5d,OAASA,KAAM,KApQlE,yBAuQE,WAAsB,IAAV+C,EAAU,uDAAJ,GAEhB,OADA6B,KAAKklD,KAAK28C,UAAU7/F,KAAK7D,GAClBA,IAzQX,4BA4QE,WAA0B,IAAX8C,EAAW,uDAAJ,GACpB,OAAOjB,KAAK+iG,YAAY9hG,KA7Q5B,+BAmRE,SAAmBsF,GAAI,MAEjBnE,EAASpC,KAAKklD,KAAK48C,WAAWluF,KAAK,SAACu1B,EAAIx4B,GAC1C,MAAO,CAAEpK,GAAI4iC,EAAG5iC,GAAIoK,YACnBvO,QAAO,SAAA+mC,GACR,OAAOA,EAAG5iC,KAAOA,KAGnB,OAAOnE,EAAO7E,OAAS6E,SAAhB,UAAgBA,EAAS,UAAzB,aAAgB,EAAauO,OAAS,IA3RjD,6BA8RE,SAAgBgpF,GACd35F,KAAKqiG,mBAAmBriG,KAAKklD,KAAK48C,WAAYnI,KA/RlD,2BAmSE,SAAchpF,GACZ3Q,KAAKwiG,iBAAiBxiG,KAAKklD,KAAK48C,WAAYnxF,KApShD,2BAuSE,SAAcgpE,EAAYigB,GACxB55F,KAAK65F,SAAS75F,KAAKklD,KAAK48C,WAAYnoB,EAAYigB,KAxSpD,+BA2SE,SAAkBjpF,EAAO7U,GACvBkE,KAAKklD,KAAK48C,WAAWnxF,GAArB,SAAkC3Q,KAAKklD,KAAK48C,WAAWnxF,IAAW7U,KA5StE,0BA+SE,WAAuB,IAAVqC,EAAU,uDAAJ,GACjB6B,KAAKklD,KAAK48C,WAAW9/F,KAAK7D,GAC1B,IAAIwS,EAAQ3Q,KAAKklD,KAAK48C,WAAWvkG,OAAS,EAC1C,OAAOoT,IAlTX,6BAqTE,WAA2B,IAAX1P,EAAW,uDAAJ,GACrB,OAAOjB,KAAKgjG,aAAa/hG,KAtT7B,8BA6TE,SAAkBsF,GAEhB,IAAInE,EAASpC,KAAKklD,KAAK68C,UAAUnuF,KAAK,SAACu1B,EAAIx4B,GACzC,MAAO,CAAEpK,GAAI4iC,EAAG5iC,GAAIoK,YACnBvO,QAAO,SAAA+mC,GACR,OAAOA,EAAG5iC,KAAOA,KAChB,GAEH,OAAOnE,EAASA,EAAOuO,OAAS,IArUpC,4BAwUE,SAAegpF,GACb35F,KAAKqiG,mBAAmBriG,KAAKklD,KAAK68C,UAAWpI,KAzUjD,0BA6UE,SAAahpF,GACX3Q,KAAKwiG,iBAAiBxiG,KAAKklD,KAAK68C,UAAWpxF,KA9U/C,0BAiVE,SAAagpE,EAAYigB,GACvB55F,KAAK65F,SAAS75F,KAAKklD,KAAK68C,UAAWpoB,EAAYigB,KAlVnD,8BAqVE,SAAiBjpF,EAAO7U,GACtBkE,KAAKklD,KAAK68C,UAAUpxF,GAApB,SAAiC3Q,KAAKklD,KAAK68C,UAAUpxF,IAAW7U,KAtVpE,yBAyVE,WAAsB,IAAVqC,EAAU,uDAAJ,GAChB6B,KAAKklD,KAAK68C,UAAU//F,KAAK7D,GACzB,IAAIwS,EAAQ3Q,KAAKklD,KAAK68C,UAAUxkG,OAAS,EACzC,OAAOoT,IA5VX,4BA+VE,WAA0B,IAAX1P,EAAW,uDAAJ,GACpB,OAAOjB,KAAKijG,YAAYhiG,OAhW5B,GAAgC68F,K,m/BCIhC,IAAMoF,GAAWvgD,GAAOtgC,IAClB8gF,GAAWxgD,GAAOtgC,IAElB4oB,GAAWyV,EAAKvkD,SAETinG,GAAb,oIAEE,WACE,MAAO,gBAHX,sBAME,WACE,OAAO,IAPX,kBAUE,WACE,OAAO,OAXX,+BAcE,WACE,IAAIjlG,EAAM,GAOV,OANA6B,KAAKklD,KAAKm+C,aAAa9/F,MAAM,KAAKnB,QAAO,SAAA+mC,GAAE,OAAIA,EAAG9kC,UAAQsP,SAAQ,SAAAw1B,GAChE,MAAmBA,EAAG5lC,MAAM,KAA5B,YAAKnH,EAAL,KAAUN,EAAV,KAEAqC,EAAI,KAAD,OAAM/B,IAASN,KAGbqC,IAtBX,8BAyBE,WAA2B,IAAVA,EAAU,uDAAJ,GACrB,mEACEuoD,SAAU,UACVtrD,KAAM,cACNmgG,YAAa,GACb8H,aAAc,IACXllG,MA/BT,2BAmCE,WACE,uEAEK6B,KAAKqnD,MAAM,OAAQ,cAAe,mBAtC3C,qBA0CE,WACE,OAAQrnD,KAAKglD,QAAU,IAAI5iD,QAAO,SAAA+mC,GAAE,OAAIA,EAAGub,GAAG,iBA3ClD,mBA8CE,WACE,OAAOw+C,KA/CX,mBAkDE,WACE,OAAOC,KAnDX,uBAsDE,WACE,OAAO,IAvDX,kCA0DE,WACE,OAAOziD,EAAKvkD,WA3DhB,gCA8DE,WACE,OAAOukD,EAAKvkD,WA/DhB,yBAwEE,SAAa0sD,GAEX,MAAenI,EAAK7Q,eAAe,GAAIgR,GACnCgI,EAAUy6C,kBACVz6C,EAAU06C,qBAFd,YAAO7iG,EAAP,KAAUwgB,EAAV,KAKA2nC,EAAUtxB,MAAM,CACZ72B,EAAGiiD,GAAOgB,GAAGjjD,GACbwgB,EAAGyhC,GAAOgB,GAAGziC,OAjFrB,uBAqFE,WAAmB,MACjB,OAAO,UAAAlhB,KAAKglD,cAAL,SAAaznD,OAASwmE,GAAmB/jE,KAAKglD,QAAU,OAtFnE,6BAyFE,WACE,OAAO/Z,KA1FX,oCA6FE,WACE,OAAOA,KA9FX,sBAiGE,WACE,MAAO,CACHqH,KAAM,EACNG,IAAK,EACLhzB,MAAO,EACPqiC,OAAQ,OAtGhB,GAA6B68C,ICJhB6E,GAAb,WACE,WAAY7kC,GAAQ,uBAKlB3+D,KAAKwgE,QAAU7B,EAKf3+D,KAAKgoD,QAAU,KAKfhoD,KAAKygE,SAAW,GAChBzgE,KAAKyjG,QAAU,GACfzjG,KAAK0jG,WAAa,GAClB1jG,KAAKs8F,IAAM,GACXt8F,KAAK2/E,WAAa,GAClB3/E,KAAK2jG,mBAAqB,GAC1B3jG,KAAK4jG,sBAAwB,GAC7B5jG,KAAK6jG,cAAgBngC,GAAc,EAAG,EAAG,EAAG,EAAG,eAE/C1jE,KAAKwgE,QAAQ7xD,GAAG,oBAAoB,WAClC,EAAKm1F,0BA1BX,gDA8BE,WACE,IAAMlnD,EAAY58C,KAAKwgE,QAAQ1+B,OAAOpmC,IAAI,cACpCsrC,EAAMhnC,KAAKwgE,QAAQujC,SAASC,mBAElChkG,KAAKgnC,IAAMA,EAEX,MAAsB2V,GAAK3V,EAAI,GAAIA,EAAI,GAAI4V,GAA3C,YAAOE,EAAP,KAAYD,EAAZ,KAEA78C,KAAK88C,IAAMA,EACX98C,KAAK68C,OAASA,IAvClB,wBA0CE,WACE,OAAO78C,KAAKwgE,QAAQu9B,eA3CxB,iBA8CE,WACE,OAAO/9F,KAAK+9F,aAAakG,oBAAoBjkG,KAAKs8F,OA/CtD,mBAqDE,WACE,OAAOt8F,KAAK+9F,aAAavB,WAAWx8F,KAAKs8F,IAAI,MAtDjD,0BA6DE,WAME,OAJKt8F,KAAKgoD,UACRhoD,KAAKgoD,QAAUhoD,KAAK+9F,aAAamG,qBAG5BlkG,KAAKgoD,UAnEhB,mBAyEE,WACE,OAAQhoD,KAAKzC,SA1EjB,iBAgFE,WAGE,QAAoB,IAAhByC,KAAKzC,SAAgByC,KAAKisF,QAAQvnC,GAAG,cAElB,IAAhB1kD,KAAKzC,SArFhB,kBA2FE,WACE,OAAOyC,KAAKzC,OAAS,IA5FzB,kBA+FE,WACE,OAAOyC,KAAKs8F,IAAI/+F,SAhGpB,wBAmGE,WAAmB,MACjB,iBAAOyC,KAAKisF,eAAZ,aAAO,EAAckY,iBApGzB,qBAuGE,WACE,OAAOnkG,KAAK2gE,eAAeyjC,WAAa,KAxG5C,0BAoHE,WAAsB,WACdxnD,EAAY58C,KAAKwgE,QAAQ1+B,OAAOpmC,IAAI,cAC1C,OAAOsE,KAAK2gE,eAAe0jC,mBAAkB,SAACrrF,GAE5C,GAAIA,EAAK0rC,GAAG,WAAY,OAAO,EAG/B,IAAM4/C,EAAetrF,EAAKurF,gBAAgB3nD,GAE1C,IAAK0nD,EACH,OAAO,EAGT,IAAOznD,EAAeynD,EAAfznD,OAAQC,EAAOwnD,EAAPxnD,IAEf,OAAQD,EAAO,IAAM,EAAKA,QAAU,EAAKA,QAAUA,EAAO,IAClDC,EAAI,IAAM,EAAKA,KAAO,EAAKA,KAAOA,EAAI,MAC7C16C,QAAO,SAAA4W,GAER,OAAOA,EAAKwrF,cAAc,EAAKx9D,IAAI,GAAI,EAAKA,IAAI,OAC/CpzB,KAAI,SAAAoF,GAAI,OAAI,EAAK+kF,aAAapB,cAAc3jF,EAAKzS,SAxIxD,4BAiJE,WAAwB,WAEtB,OAAKvG,KAAK2gE,eAEH3gE,KAAK2gE,eAAeyjC,UAAUhiG,QAAO,SAAC4W,GAE3C,OAAIA,EAAK0rC,GAAG,cAGR,EAAK1c,MAAMhvB,IAGIA,EAAKklC,QAAQnlC,MAAK,SAAAtO,GACnC,OAAO,EAAK+1D,QAAQujC,SAASU,gBAAgBh6F,UAXhB,KAnJrC,yCAsKE,WAAqC,WAEnC,OAAKzK,KAAK2gE,eAEH3gE,KAAK2gE,eAAeyjC,UAAUhiG,QAAO,SAAC4W,GAE3C,OAAIA,EAAK0rC,GAAG,YAGO1rC,EAAKklC,QAAQnlC,MAAK,SAAAtO,GACnC,OAAO,EAAK+1D,QAAQujC,SAASU,gBAAgBh6F,SARhB,KAxKrC,6BAuLE,WACE,YAAW,IAAI6/C,IAAItqD,KAAK6X,MAAMjE,KAAI,SAAAu1B,GAAE,OAAIA,EAAGutD,gBAxL/C,6BA+LE,WACoB,MAAlB,QAAI12F,KAAKisF,UACA,EAAAjsF,KAAKisF,SAAQyY,gBAAb,qBAjMb,yBAsME,SAAazY,GACX,IAAI0Y,EAAW1Y,EAKf,OAJIA,GAAWA,EAAQ7iC,WACnBu7C,EAAW1Y,EAAQ9lC,QAGhBw+C,IA5MX,6BA+ME,WAA0B,2BAAN1kG,EAAM,yBAANA,EAAM,gBACxBD,KAAK2/E,WAAa1/E,IAhNtB,iCAmNE,SAAqBsG,GACnB,OAAOvG,KAAK2/E,WAAWl7B,SAASl+C,KApNpC,2BAuNE,SAAeyhD,GAET1f,GAAS0f,KACXA,EAAUhoD,KAAK+9F,aAAariG,IAAIssD,IAGlChoD,KAAKgoD,QAAUA,EACfhoD,KAAKkzD,WA9NT,sBAiOE,WAGE,MAAyB,cAFdlzD,KAAKisF,SAAW,IAEf7jC,WApOhB,uBAuOE,SAAWw8C,GAET,OAAI5kG,KAAKs8F,IAAI/+F,QAAUqnG,EAAOrnG,QAK1ByC,KAAKs8F,IAAIl6F,QAAO,SAAAmE,GAAE,OAAIq+F,EAAOngD,SAASl+C,MAAKhJ,SAAWyC,KAAKs8F,IAAI/+F,SA9OvE,uBAqPE,WAAoB,IAAV++F,EAAU,uDAAJ,GACd,OAAOA,EAAI1oF,KAAI,SAAAu1B,GAAE,OAAIA,EAAG5iC,IAAM4iC,KAAI/mC,OAAOomD,WAtP7C,2BA2PE,WAAsB,2BAAL8zC,EAAK,yBAALA,EAAK,gBAEpB,IAAI5xF,EAAO1K,KAAK+9F,aAAa8G,gBAAgB7kG,KAAK8kG,UAAUxI,GAAO,KAAKl6F,QAAO,SAAA+mC,GAAE,OAAKA,EAAGye,QAGnFm9C,EAAmB/kG,KAAK+9F,aAAaiH,kBAAkBt6F,GAE7D,OAAO1K,KAAKkzD,OAAL,MAAAlzD,KAAA,KAAe+kG,EAAiBnxF,KAAI,SAAAu1B,GAAE,OAAIA,EAAG5iC,UAlQxD,oBAsQE,WAAe,kCAAL+1F,EAAK,yBAALA,EAAK,gBAEb,IAAI5xF,EAAO1K,KAAK+9F,aAAa8G,gBAAgB7kG,KAAK8kG,UAAUxI,GAAO,KAAKl6F,QAAO,SAAA+mC,GAAE,OAAKA,EAAGye,MAAQze,EAAG34B,cAE9Fu0F,EAAmBr6F,EAAKtI,QAAO,SAAA+mC,GACnC,OAAOA,EAAG94B,KAAKjO,QAAO,SAAA0gB,GAAO,OAAIpY,EAAK+5C,SAAS3hC,MAAUvlB,OAAS,KAG9D0nG,EAAiBF,EAAiBnxF,KAAI,SAAAu1B,GAAE,OAAIA,EAAG5iC,MAGrD,OAAIvG,KAAKklG,UAAUD,KAKnBjlG,KAAKygE,SAAW,GAChBskC,EAAiBpxF,SAAQ,SAAAqF,GACvB,EAAKynD,SAASznD,EAAKzS,IAAMyS,KAE3BhZ,KAAKs8F,IAAM2I,EAEXjlG,KAAKmlG,gBAEE,KA9RX,oBAiSE,WACE,OAAOnlG,KAAKkzD,OAAL,MAAAlzD,KAAA,KAAeA,KAAKs8F,QAlS/B,sBAsSE,WACEt8F,KAAKmlG,iBAvST,mBA0SE,SAAOnsF,GACL,QAAShZ,KAAKygE,SAASznD,EAAKzS,MA3ShC,uBA8SE,SAAUyS,GACR,OAAOhZ,KAAK+9F,aAAaqH,UAAUplG,KAAK6X,MAAMzV,QAAO,SAAA+mC,GAAE,OAAIA,EAAG2zD,MAAM,eAAc9jF,KA/StF,uBAkTE,SAAUowC,GACR,OAAOppD,KAAK6X,MAAMkB,MAAK,SAAAowB,GAAE,OAAIA,EAAGmgB,UAAUF,QAnT9C,iBAsTE,SAAK7iD,GACH,OAAOvG,KAAKygE,SAASl6D,KAvTzB,mBA6TE,WACEvG,KAAKkzD,WA9TT,wBAwUE,WAAuB,IAAZopC,EAAY,uDAAN,KAEX+I,EAAa,GAQjB,OANInkG,MAAMC,QAAQm7F,GAChB+I,EAAa/I,GACJh0D,GAASg0D,IAAQ/zD,GAAS+zD,MACnC+I,EAAa,CAAC/I,IAGTt8F,KAAK+9F,aAAa8G,gBAAgBQ,KAlV7C,wBA2VE,SAAW9+F,GACTvG,KAAKkzD,OAAO3sD,KA5VhB,6BA+VE,WACEvG,KAAKkzD,OAAL,MAAAlzD,KAAA,KAAeA,KAAK6X,MAAMjE,KAAI,SAAAu1B,GAAE,OAAIA,EAAGY,cAhW3C,qBAmWE,SAAQxjC,GAEFvG,KAAKygE,SAASl6D,IAElBvG,KAAKkzD,OAAL,MAAAlzD,KAAA,KAAeA,KAAKs8F,KAApB,QAAyB/1F,OAvW7B,wBAgXE,SAAWA,GAET,IAAI+1F,EAAM/1F,EAEN+hC,GAAS/hC,KACX+1F,EAAM,CAAC/1F,IAGT,IAAM++F,EAAgBtlG,KAAKs8F,IAAIl6F,QAAO,SAAAmE,GAAE,OAAyB,IAArB+1F,EAAI73C,SAASl+C,MAEzDvG,KAAKkzD,OAAL,MAAAlzD,KAAA,KAAeslG,MA1XnB,wBA6XE,SAAY/+F,GACNvG,KAAKygE,SAASl6D,GAChBvG,KAAKulG,WAAWh/F,GAEhBvG,KAAKwlG,QAAQj/F,KAjYnB,gCAqYE,SAAoBizC,GAClB,OAAOx5C,KAAK2gE,eAAe8kC,UAAUl/C,MAAK,SAAAmwC,GACxC,OAAO1zB,GAAS,WAAT,GAAU0zB,EAASxyB,eAAnB,YAAqC1qB,UAvYlD,4BA2YE,WAAkB,WAEZksD,GAAsB,EA6C1B,OA3CA1lG,KAAKgxF,MAAK,SAAA/zF,GAER,IAAgC,IAA5BA,EAASynD,GAAG,YAAuB,CAErC,IAAMihD,EAAkB1oG,EAASinE,cAGjC,GAAIjnE,EAASy5F,SAAU,CACrB,IACMkP,EADgB3oG,EAASy5F,SACYxyB,cAM3C,GAJqBlB,GAAS,WAAT,GAAU4iC,GAAV,YAAmCD,EAAgB,OAAOniC,GAASmiC,EAAiBC,GAKvG,OAAO,EAKX,IAAMC,EAAmB,EAAKjC,sBAAsBr9C,MAAK,SAAAmwC,GACvD,IAAMoP,EAAkBpP,EAASqP,OAAO7hC,cACxC,OAAOlB,GAAS,WAAT,GAAU8iC,GAAV,YAA8BH,EAAgB,OAAOniC,GAASmiC,EAAiBG,MAIpFD,EAEEA,EAAiB7sF,OAAS/b,EAASy5F,WACrCmP,EAAiB7sF,KAAK+yC,YAAY9uD,GAClCyoG,GAAsB,GAGpBzoG,EAASy5F,WACX,EAAK/1B,eAAe5U,YAAY9uD,GAChCyoG,GAAsB,OAOvBA,IA1bX,0BA6bE,WAAgB,WAEd,GAAI1lG,KAAKgmG,QAQP,OAPAhmG,KAAK6jG,cAAgB,GACrB7jG,KAAKimG,kBAAoB,GACzBjmG,KAAK2jG,mBAAqB,QAC1B3jG,KAAK4jG,sBAAwB5jG,KAAK2gE,eAAe8kC,UAAU7xF,KAAI,SAAAoF,GAC7D,MAAO,CAAEA,OAAM+sF,OAAQ/sF,EAAK+sF,YAMhC/lG,KAAK6jG,cAAgB7jG,KAAKk+C,QAC1Bl+C,KAAKimG,kBAAoB3hC,GAActkE,KAAKk+C,SAE5Cl+C,KAAK2jG,mBAAqB,GAC1B3jG,KAAKkmG,eAAiB,GAEtBlmG,KAAK6X,MAAMlE,SAAQ,SAAAw1B,GAGjB,GAAIA,EAAGub,GAAG,YACR,EAAKi/C,mBAAmB3hG,KAAKmnC,EAAG48D,aAI7B,GAAI58D,EAAGuzD,cAAe,SACnBhyF,EAAO,EAAKqzF,aAAaT,aAAan0D,EAAG5iC,IAAIqN,KAAI,SAAAu1B,GAAE,OAAIA,EAAG48D,WAEhE,IAAKG,gBAAelkG,KAApB,aAA4B0I,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG5iC,SAC9C,IAAKo9F,oBAAmB3hG,KAAxB,aAAgC0I,SAIhC,EAAKi5F,mBAAmB3hG,KAAKmnC,EAAG48D,WAMpC/lG,KAAK4jG,sBAAwB5jG,KAAK2gE,eAAe8kC,UAAU7xF,KAAI,SAAAoF,GAC7D,MAAO,CAAEA,OAAM+sF,OAAQ/sF,EAAK+sF,WAI9B/lG,KAAKmmG,wBAA0BnmG,KAAKisF,QAAQ8Z,OAG5C/lG,KAAKomG,kCAAoCpmG,KAAK+9F,aAAaT,aAAat9F,KAAKisF,QAAQ1lF,IAAIqN,KAAI,SAAAu1B,GAAE,OAAIA,EAAG48D,YA9e1G,mBAifE,WAEE,OAAI/lG,KAAKqmG,MACArmG,KAAKisF,QAAQ/tC,QAEbl+C,KAAKsmG,cAtflB,4BA0fE,WAEE,OAAItmG,KAAKqmG,MACArmG,KAAKisF,QAAQsa,mBAEbvmG,KAAKsmG,cA/flB,yBAogBE,WACE,OAAOtmG,KAAKsmG,YAAYlkG,QAAO,SAACutB,EAAGhf,GAAJ,OAAcA,EAAQ,OArgBzD,uBAwgBE,WACE,OAAI3Q,KAAKgmG,QACA,GAEFjiC,GAAmB/jE,KAAK6X,SA5gBnC,oBAqhBE,WACE,IAAMqmC,EAAUl+C,KAAKk+C,QACrB,MAAO,CACLx9C,EAAGiiD,GAAOgB,GAAGzF,EAAQ,GAAG,IACxBh9B,EAAGyhC,GAAOgB,GAAGzF,EAAQ,GAAG,IACxBz+B,MAAOkjC,GAAOgB,GAAG3F,EAAKH,SAASK,EAAQ,GAAIA,EAAQ,KACnD4D,OAAQa,GAAOgB,GAAG3F,EAAKH,SAASK,EAAQ,GAAIA,EAAQ,QA3hB1D,2BAkiBE,WACE,IAAIj9C,EAAO,GAMX,OAJAjB,KAAKgxF,MAAK,SAAAh4E,GACR/X,EAAK+X,EAAKzS,IAAMyS,EAAKuuC,eAAc,MAG9BtmD,IAziBX,kBAkjBE,WAAe,2BAAN6C,EAAM,yBAANA,EAAM,gBACb,IAAI7C,EAAO,GAWX,OATAjB,KAAKgxF,MAAK,SAAAh4E,GAER/X,EAAK+X,EAAKzS,IAAM,GAEhBzC,EAAK6P,SAAQ,SAAAvX,GACX6E,EAAK+X,EAAKzS,IAAInK,GAAO4c,EAAK5c,SAIvB6E,IA9jBX,yBAukBE,SAAawnF,GAAyB,IAAZ6T,EAAY,uDAAN,KAC1Br7F,EAAO,GACPulG,EAAa,GAejB,OAdY,OAARlK,EACFkK,EAAaxmG,KAAK6X,OACTywB,GAASg0D,IAAQp7F,MAAMC,QAAQm7F,MACxCkK,EAAaxmG,KAAKymG,WAAWnK,IAG/BkK,EAAW7yF,SAAQ,SAAAqF,GACjB/X,EAAK+X,EAAKzS,IAAM,GAEhBhL,OAAOuI,KAAK2kF,GAAa90E,SAAQ,SAAAvX,GAC/B6E,EAAK+X,EAAKzS,IAAInK,GAAOqsC,GAAWggD,EAAYrsF,IAAQqsF,EAAYrsF,GAAKpB,KAAKytF,EAAazvE,GAAQyvE,EAAYrsF,SAIxG6E,IAxlBX,kBA2lBE,SAAMyL,GAEC+7B,GAAW/7B,IACd1M,KAAK6X,MAAMlE,SAAS,SAACqF,EAAMrI,GACzBjE,EAAUsM,QA/lBlB,iBAqmBE,SAAKtM,GAEH,OAAI+7B,GAAY/7B,GACP1M,KAAK6X,MAAMjE,KAAK,SAACoF,EAAMrI,GAC5B,OAAOjE,EAAUsM,EAAMrI,MAIpB3Q,KAAK6X,QA7mBhB,mBAgnBE,SAAO1Z,GAAK,WAEV5C,OAAOs0D,QAAQ1xD,GAAKwV,SAAQ,YAAiB,kBAAfpN,EAAe,KAAX8gD,EAAW,KAC3C,YAAK3rD,IAAI6K,UAAT,SAAcgxB,MAAM8vB,QAnnB1B,2BAunBE,SAAe36C,GACb1M,KAAKgxF,MAAK,SAAAh4E,GAAI,OAAIA,EAAKue,MAAM7qB,EAASsM,SAxnB1C,oBA2nBE,WACEhZ,KAAKgxF,MAAK,SAAAh4E,GAAI,OAAIA,EAAK0tF,cA5nB3B,oBA+nBE,WACE1mG,KAAKgxF,MAAK,SAAAh4E,GAAI,OAAIA,EAAK+uC,YACvB/nD,KAAK2uD,UAjoBT,kBAooBE,WACE3uD,KAAK2mG,UAAY3mG,KAAK6X,MAAMjE,KAAI,SAAAoF,GAAI,OAAIA,OAroB5C,mBAwoBE,WACEhZ,KAAKkzD,OAAL,MAAAlzD,KAAA,KAAeA,KAAK2mG,UAAU/yF,KAAI,SAAAoF,GAAI,OAAIA,EAAK+wB,KAAK,SACpD/pC,KAAK+pC,SA1oBT,sBAmpBE,SAAUl1B,GAER,OAAI7U,KAAK4mG,OAEA5jC,GAAUhjE,KAAKkkE,cAAervD,EAAM,GAAIA,EAAM,IAErD,UAAO7U,KAAKisF,eAAZ,aAAO,EAAc4a,SAAShyF,EAAM,GAAIA,EAAM,IADzC,QAxpBX,8BAmqBE,SAAkBA,GAAO,WACvB,OAAO7U,KAAKkmG,eAAentF,MAAK,SAAAowB,GAAM,MACpC,iBAAO,EAAK40D,aAAariG,IAAIytC,UAA7B,aAAO,EAA2B09D,SAAShyF,EAAM,GAAIA,EAAM,SArqBjE,2BA+qBE,SAAewnF,GACb,OAAOr8F,KAAKkmG,eAAezhD,SAAS43C,KAhrBxC,wBAmrBE,SAAYyK,GACV,OAAIx+D,GAASw+D,GACJ9mG,KAAKyjG,UAAYqD,EAEjB9mG,KAAK0jG,WAAWx7C,WAAU,SAAC/e,GAAD,OAAQA,EAAG5iC,KAAOugG,EAASvgG,OAAO,IAvrBzE,0BAgsBE,WACE,MAAwB,KAAjBvG,KAAKyjG,UAjsBhB,6BAwsBE,WACEzjG,KAAKkzD,OAAOlzD,KAAKyjG,WAzsBrB,wBA4sBE,SAAYl9F,GACV,IAAIwgG,GAAY,EAgChB,OA/BKxgG,GAAMvG,KAAKygE,SAASl6D,IAQdvG,KAAK4jG,sBAAsBr9C,MAAK,SAAApd,GAAE,OAAIA,EAAGnwB,KAAKzS,KAAOA,MAN1C,IAAhBvG,KAAKyjG,UACPsD,GAAY,GAGd/mG,KAAKyjG,QAAU,GACfzjG,KAAK0jG,WAAa,KAQd1jG,KAAKyjG,SAAWl9F,IAClBwgG,GAAY,GAEd/mG,KAAKyjG,QAAUl9F,EACfvG,KAAK0jG,WAAa1jG,KAAKymG,WAAW,CAAClgG,IAAKnE,QAAO,SAAA+mC,GAAE,OAAIA,EAAG2zD,MAAM,eAE/B,IAA3B98F,KAAK0jG,WAAWnmG,SAClByC,KAAKyjG,QAAU,GACfsD,GAAY,IAIZA,GACF/mG,KAAKwgE,QAAQvxD,KAAK,mBAGb83F,IA7uBX,gBAgvBE,WAAa,6BAAN9mG,EAAM,yBAANA,EAAM,gBACX,iBAAOD,KAAKisF,eAAZ,aAAO,EAAcvnC,GAAd,QAAoBzkD,KAjvB/B,mBAovBE,WAAgB,2BAANA,EAAM,yBAANA,EAAM,gBACd,OAAOD,KAAK6X,MAAM1D,OAAM,SAAAg1B,GAAE,OAAIlpC,EAAKwkD,SAAStb,EAAGud,iBArvBnD,KCRe,SAASsgD,GAA0BroC,GAC9CA,EAAO1vD,KAAK,kBACZ0vD,EAAOvwD,UAAS,WACZuwD,EAAO1vD,KAAK,cACZ0vD,EAAO1vD,KAAK,2B,+sDCJL,ICGJ,GAHI,IACX07E,QAAU,kBAEVsc,SAAO,iBAAG,WAAgBtoC,EAAQK,GAAxB,eAAA1pD,EAAA,0DAGFqpD,EAAO+B,UAAUnjE,SAAUohE,EAAO+B,UAAUimC,UAAUppG,OAHpD,gBAIFohE,EAAO+B,UAAUwmC,QACjBvoC,EAAO1vD,KAAK,cALV,sCAOek4F,UAAUC,UAAUC,WAPnC,QAOE33C,EAPF,SAUEiP,EAAO1vD,KAAK,mBAAoBygD,GAVlC,2CAAH,iDCHI,IACXi7B,QAAS,gBACTsc,QAAS,SAAUtoC,GAAoB,IAAZ9mD,EAAY,uDAAJ,GAC/B8mD,EAAO1vD,KAAK,iBAAkB4I,KCDvB,IACX8yE,QAAS,cACTsc,QAAS,SAAUtoC,EAAQ2oC,EAAiBloF,EAAMmoF,GAC9C,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAACr6F,GACb,IAAI0zE,EAAU1zE,EAAEhQ,OAAO6H,OACnBy9F,EAAQgF,IAAIC,gBAAgBN,GAGhC3oC,EAAO1vD,KAAK,oBAAqB,CAC7B1I,GAAI+6C,KACJ3rB,KAAM2xE,EAAgB3xE,KACtBv6B,KAAMksG,EAAgBlsG,KACtBysG,SAAU9mB,EACV4hB,SACDvjF,EAAMmoF,IAGbC,EAAOM,cAAcR,KClBd,IACX3c,QAAS,cACTsc,QAAS,SAAUtoC,EAAQ3lD,EAAMoG,GAAiC,IAA3BmoF,EAA2B,4DAAXlnG,EAC/CmnG,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAACr6F,GACb,IAAI0zE,EAAU1zE,EAAEhQ,OAAO6H,OACnBy9F,EAAQgF,IAAIC,gBAAgB5uF,GAEhC2lD,EAAO1vD,KAAK,oBAAqB,CAC7B1I,GAAI+6C,KACJ3rB,KAAM3c,EAAK2c,KACXv6B,KAAM4d,EAAK5d,KACXysG,SAAU9mB,EACV4hB,SACDvjF,EAAMmoF,IAGbC,EAAOM,cAAc9uF,KCjBd,SAAS+uF,GAAkB5pG,EAAKuO,GAC3C,IAAImnD,EAAM,IAAIm0C,MACdn0C,EAAI6zC,OAAS,WAET,IAAIhoG,EAAO,CACP6G,GAAIpI,EAAIoI,GACRo8F,MAAOxkG,EAAIwkG,MACXzxC,aAAcvO,GAAOgB,GAAGkQ,EAAI3C,cAC5BC,cAAexO,GAAOgB,GAAGkQ,EAAI1C,eAC7B1xC,MAAOkjC,GAAOgB,GAAGkQ,EAAI3C,cACrBpP,OAAQa,GAAOgB,GAAGkQ,EAAI1C,gBAG1BzkD,GAAYA,EAAShN,EAAMm0D,IAE/BA,EAAIo0C,QAAU,SAAC56F,GACXqQ,QAAQ6D,IAAIlU,EAAGA,EAAE2a,UAErB6rC,EAAI73C,IAAM7d,EAAIwkG,M,qkBChBH,QACXhY,QAAS,oBACTsc,QAAS,SAAUtoC,EAAQupC,GAAmD,IAAtC9oF,EAAsC,uDAA/B,GAAImoF,EAA2B,4DAAXlnG,EAC3D2nD,EAAU2W,EAAO+B,UAAUC,eAE3B3Y,IAGAA,EAAQ26B,YAAYulB,GACpBvpC,EAAO1vD,KAAK,iBAGZ84F,GAAkBG,GAAa,SAACxoG,GAG5B,IAAMsmE,EAAO5mD,EAAKK,MAAM3jB,MAAM4D,EAAK+f,MAAM3jB,MACnC2jB,EAAQL,EAAKK,MACbqiC,EAASa,GAAOgB,GAAGjkD,EAAKoiD,OAAOhmD,MAAQkqE,GAE7CrH,EAAO1vD,KAAK,WAAZ,UACI+M,IAAKksF,EAAY3hG,IACd7G,GACA0f,GAHP,IAIIK,QACAqiC,WACDylD,GACH5oC,EAAOwpC,WAAWC,UC5BnB,SAASC,GAAkBlqG,EAAKuO,GAC3C,IAAI1E,EAAQ8T,SAASqxC,cAAc,SACnCnlD,EAAMsgG,aAAe,WAEjB,IAAI5oG,EAAO,CACPijG,MAAOxkG,EAAIwkG,MACXzxC,aAAcvO,GAAOgB,GAAG37C,EAAMugG,YAC9Bp3C,cAAexO,GAAOgB,GAAG37C,EAAMwgG,aAC/B/oF,MAAOkjC,GAAOgB,GAAG37C,EAAMugG,YACvBzmD,OAAQa,GAAOgB,GAAG37C,EAAMwgG,aACxBpjC,SAAUp9D,EAAMo9D,SAChBqjC,SAAU,OAAF,OAASzgG,EAAMo9D,UACvBsjC,OAAQ1gG,EAAM0gG,OACdC,MAAO3gG,EAAM2gG,MACbC,cAAe5gG,EAAM6gG,cAGzBn8F,GAAYA,EAAShN,EAAMsI,IAG/BA,EAAMgU,IAAM7d,EAAIwkG,M,qkBCnBL,QACXhY,QAAS,oBACTsc,QAAS,SAAUtoC,EAAQmqC,GAAmD,IAAtC1pF,EAAsC,uDAA/B,GAAImoF,EAA2B,4DAAXlnG,EAC3D2nD,EAAU2W,EAAO+B,UAAUC,eAE3B3Y,IAGAA,EAAQ+gD,YAAYD,GACpBnqC,EAAO1vD,KAAK,iBAGZo5F,GAAkBS,GAAa,SAACppG,GAC5Bi/D,EAAO1vD,KAAK,WAAZ,OAAyB+M,IAAK8sF,EAAYviG,IAAO7G,GAAS0f,GAAQmoF,GAClE5oC,EAAOwpC,WAAWC,U,+NCdnB,QACXzd,QAAS,eACTsc,QAAS,SAAUtoC,EAAQqqC,GAEvBjB,GAAkB,CAACpF,MAAOqG,IAAW,SAACtpG,GAElCi/D,EAAO1vD,KAAK,W,mWAAZ,EAAyB+M,IAAKtc,EAAKijG,OAAUjjG,IAC7Ci/D,EAAOwpC,WAAWC,SCRf,IACXzd,QAAS,wBACTsc,QAAS,SAAUtoC,EAAQjyD,GAEvB,IAAIs7C,EAAU2W,EAAO+B,UAAUC,eAE/B,GAAI3Y,EAAS,CACT,IAAIzhD,EAAK+6C,KACL3wC,EAAQq3C,EAAQihD,gBAAgB,CAAE1iG,KAAIu+E,QAAS,KAEnDp4E,GAAYA,EAAUiE,EAAOpK,MCT1B,IACXokF,QAAS,uBACTsc,QAAS,SAAUtoC,EAAQ3lD,EAAMtM,GAC7B,IAAI86F,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAACr6F,GACb,IAAI0zE,EAAU1zE,EAAEhQ,OAAO6H,OACnBy9F,EAAQgF,IAAIC,gBAAgB5uF,GAE5BgvC,EAAU2W,EAAO+B,UAAUC,eAE/B,GAAI3Y,EAAS,CAGT,IAAM9gD,EAAQ8gD,EAAQ26B,YAAY,CAC9Bp8E,GAAI+6C,KACJ3rB,KAAM3c,EAAK2c,KACXv6B,KAAM4d,EAAK5d,KACXysG,SAAU9mB,EACV4hB,UAEJhkC,EAAO1vD,KAAK,iBACZw5B,GAAW/7B,IAAaA,EAAUxF,EAAMX,MAIhDihG,EAAOM,cAAc9uF,KCzBd,IACX2xE,QAAS,uBACTsc,QAAS,SAAUtoC,EAAQ3lD,EAAMtM,GAC7B,IAAI86F,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAACr6F,GACb,IAAI0zE,EAAU1zE,EAAEhQ,OAAO6H,OACnBy9F,EAAQgF,IAAIC,gBAAgB5uF,GAE5BgvC,EAAU2W,EAAO+B,UAAUC,eAE3B3Y,IAGAA,EAAQ+gD,YAAY,CAChBxiG,GAAI+6C,KACJ3rB,KAAM3c,EAAK2c,KACXv6B,KAAM4d,EAAK5d,KACXysG,SAAU9mB,EACV4hB,UAEJhkC,EAAO1vD,KAAK,iBACZw5B,GAAW/7B,IAAaA,EAAUi2F,KAI1C6E,EAAOM,cAAc9uF,KC5BRkwF,G,0EACjB,SAAanoB,GAAmC,IAA1BooB,EAA0B,wDAC5C,EAAgBpoB,EAAQx9E,MAAM,SAA9B,YAAQtC,GAAR,WACA,EAA8BA,EAAKsC,MAAM,KAAzC,UAAK+C,EAAL,KAAmBs1D,EAAnB,WACA,EAA2Bt1D,EAAU/C,MAAM,KAA3C,YAAK6lG,EAAL,KAAeC,EAAf,KAIA,OAFAztC,EAAUA,EAAQ15D,KAAK,KAEhB,CACHknG,WACAzG,MAAOwG,GAAoBD,EAAYI,QAAQF,EAAUC,EAAUztC,M,qBAI3E,SAAgBwtC,EAAUC,EAAUztC,GAChC,GAAiB,WAAbytC,EAAuB,CAKvB,IAJA,IAAIE,EAASC,KAAK5tC,GACdvvD,EAAMk9F,EAAOhsG,OACbksG,EAAa,IAAIzoF,WAAW3U,GAExBxR,EAAI,EAAGA,EAAIwR,EAAKxR,IACpB4uG,EAAW5uG,GAAK0uG,EAAO/3F,WAAW3W,GAGtC,IAAI6uG,EAAO,IAAIC,KAAK,CAACF,GAAa,CAAC9zE,KAAMyzE,IAEzC,OAAOzB,IAAIC,gBAAgB8B,GAG/B,MAAO,O,KC1BA,IACX/e,QAAS,gBACTsc,QAAS,SAAUtoC,EAAQ3lD,GACvB,IAAI+nE,EAAU/nE,EAAK/X,KACnB,GAAI8/E,EAAQn/D,QAAQ,UAAY,EAAG,CAC/B,IAAIliB,EAAOwpG,GAAYjkG,MAAM87E,GAAS,GAGtC,OAAOrhF,EAAK0pG,UACZ,IAAK,YACL,IAAK,YACL,IAAK,YACL,IAAK,aACDzqC,EAAO1vD,KAAK,oBAAqB,CAC7B1I,GAAI+6C,KACJ3rB,KAAMj2B,EAAK0pG,SACXhuG,KAAM,GACNysG,SAAU9mB,EACV4hB,MAAOjjG,EAAKijG,aAIjB,CAGH,IAAI/wF,EAAMoH,EAAK/X,KAAKsC,MAAM,KAAK+jB,MAC3BlsB,EAAO4d,EAAK/X,KAAKsC,MAAM,KAAK+jB,MAEhC,OAAO1V,GACP,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MAED+sD,EAAO1vD,KAAK,oBAAqB,CAC7B1I,GAAI+6C,KACJ3rB,KAAM,SAAW/jB,EACjBxW,OACAysG,SAAU7uF,EAAK/X,KACf0hG,MAAO3pF,EAAK/X,WC1CjB,SAAS2oG,GAAc7oB,GAAsC,IAA7B8oB,EAA6B,uDAAlB,iBAClDv0F,EAAIwG,SAASqxC,cAAc,KAC/B73C,EAAEqM,KAAOo/D,EACTzrE,EAAEw0F,SAAWD,EACbv0F,EAAEm9C,QCFS,QACXk4B,QAAS,eACTsc,QAAS,SAAUtoC,EAAQkrC,GACvB,IAAI3kD,EAAOrc,KAAKC,UAAU61B,EAAOo/B,aAAaz4C,UAI9CskD,GAFc,gCAAkCnvG,OAAOsvG,KAAKC,SAASC,mBAAmB/kD,KAElE2kD,GAAY,oBCP3B,YAqCAlrC,EAAQgmC,GACnB,OAAOhmC,EAAOurC,yBAAyBvrC,EAAOynB,IAAInrB,OAAO0pC,KCpC9C,IACXha,QAAS,cACTsc,QAAS,SAAUtoC,GACf,IAAM3lD,EAAO2lD,EAAO+B,UAAUurB,QAE9B,GAAIjzE,EAAM,CACN,IAAImxF,EAAYC,GAA0BzrC,EAAQ3lD,GAAM3U,OAIxDulG,GAHc,6BAA+BnvG,OAAOsvG,KAAKI,GAC1CnxF,EAAKzS,OCVjB,SAAS8jG,GAAgBx2C,EAAKnnD,GAAmC,IAAzB49F,EAAyB,uDAAb,YAC3DC,EAASv9C,GAAI7wD,OAAO,UACnBsjB,EAAiBo0C,EAAjBp0C,MAAOqiC,EAAU+R,EAAV/R,OACZyoD,EAAO7D,OAAO,CAAEjnF,QAAOqiC,WACvByoD,EAAOz2C,UAAUD,GAEjBnnD,GAAYA,EAAU69F,EAAO72C,UAAU42C,ICF5B,QACX3f,QAAS,cACTsc,QAAS,SAAUtoC,GAA8B,IAAtB6rC,EAAsB,uDAAJ,GACnCxxF,EAAO2lD,EAAO+B,UAAUurB,QAE9B,GAAIjzE,EAAM,CACN,IAAMmxF,EAAYC,GAA0BzrC,EAAQ3lD,GAAM3U,OACpD08E,EAAU,6BAA+BtmF,OAAOsvG,KAAKI,GACrDN,EAAW7wF,EAAKzS,GACtBwhG,GAAkB,CAACpF,MAAO5hB,IAAU,SAACrhF,EAAMm0D,GACvCw2C,GAAex2C,GAAK,SAAC42C,GACjBb,GAAaa,EAAYZ,GAErBW,GACA7rC,EAAO1vD,KAAKu7F,EAAiBC,YCjBtC,IACX9f,QAAS,YAOTsc,QAAS,SAAUtoC,EAAQzZ,GAEvByZ,EAAOo/B,aAAaljC,KAAK3V,GAGzB8hD,GAAyBroC,KCTlB,SAAS+rC,GAAiB/rC,EAAQjyD,GAC7C,IAAIs7C,EAAU2W,EAAO+B,UAAUC,eAE/B,GAAI3Y,EAAS,CACT,IAAI42C,EAAW52C,EAAQgZ,sBAEvBt0D,GAAYA,EAAUs7C,EAAS42C,ICXxB,QACXjU,QAAS,sBACTsc,QAAU,SAAUtoC,EAAQgsC,GAAyC,IAA9Bp/C,EAA8B,uDAApB,CAAC0rC,OAAQ,UACtDyT,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAAa,OAEV,IAA7B19F,MAAMC,QAAQwpG,KACdA,EAAY,CAACA,IAGjB,IAAIjgG,EAAO,GACXigG,EAAUh3F,SAAQ,SAAAitD,GACd,IAAIgqC,EAAc,CACdhqC,QAASA,EACTpkE,SAAU+uD,EAAQ/uD,SAClBV,MAAOyvD,EAAQzvD,MAAQ,GACvBm7F,OAAQ1rC,EAAQ0rC,OAChBt4B,OAAQpT,EAAQoT,QAEhBxgE,EAAM6pD,EAAQ25C,oBAAoBiJ,GAElCzsG,GACAuM,EAAK1I,KAAK7D,OAIlB,EAAAwgE,EAAOigC,UAAS1rC,OAAhB,QAA0BxoD,GAE1Bi0D,EAAO1vD,KAAK,mBACZ0vD,EAAO1vD,KAAK,8BC5BT,IACX07E,QAAS,oBACTtjD,SAAU,IACV4/D,QAAS,SAAUtoC,EAAQxgE,GACvBusG,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC9B52C,EAAQ6iD,+BAA+B1sG,EAAIyiE,QAASziE,EAAI3B,SAAU2B,EAAIoI,GAAIpI,EAAIrC,MAAOqC,EAAI84F,OAAQ94F,EAAIo6D,MACrGoG,EAAO1vD,KAAK,wBCNT,IACX07E,QAAS,6BACTsc,QAAS,SAAUtoC,GAAsC,IAA9BpT,EAA8B,uDAApB,CAAC0rC,OAAQ,UAE1CyT,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAAa,MACvCl0F,EAAO,GACXi0D,EAAO+B,UAAUswB,MAAK,SAAAh4E,GAElB,IAAI4xF,EAAc,CACdhqC,QAAS5nD,EAAKzS,GACd/J,SAAU+uD,EAAQ/uD,SAClBV,MAAOkd,EAAKuyC,EAAQ/uD,UAAY,GAChCy6F,OAAQ1rC,EAAQ0rC,OAChBt4B,OAAQpT,EAAQoT,QAGhBxgE,EAAM6pD,EAAQ25C,oBAAoBiJ,GAElCzsG,GACAuM,EAAK1I,KAAK7D,OAIlB,EAAAwgE,EAAOigC,UAAS1rC,OAAhB,QAA0BxoD,GAC1Bi0D,EAAO1vD,KAAK,mBACZ0vD,EAAO1vD,KAAK,8BCzBT,IACX07E,QAAS,yBACTsc,QAAS,SAAUtoC,EAAQiC,EAASpkE,GAChCkuG,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC9B52C,EAAQ8iD,uBAAuBlqC,EAASpkE,GAExCmiE,EAAOigC,SAASjwC,QAChBgQ,EAAO1vD,KAAK,mBACZ0vD,EAAO1vD,KAAK,8BCRT,IACX07E,QAAS,yBACTsc,QAAS,SAAUtoC,GACf+rC,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC9BjgC,EAAOigC,SAAS5N,MAAK,SAAAh4E,GACjBgvC,EAAQ+iD,uBAAuB/xF,EAAK4nD,QAAS5nD,EAAKxc,SAAUwc,EAAKzS,OAGrEo4D,EAAOigC,SAASjwC,QAChBgQ,EAAO1vD,KAAK,mBACZ0vD,EAAO1vD,KAAK,8BCVT,IACX07E,QAAS,qBACTsc,QAAS,SAAUtoC,EAAQqsC,GACvBN,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC9B52C,EAAQo4C,eAAe4K,GACvBrsC,EAAO1vD,KAAK,mBACZ0vD,EAAO1vD,KAAK,uBCNT,IACX07E,QAAS,iBACTsc,QAAS,SAAUtoC,EAAQiC,GACvB8pC,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC9B52C,EAAQijD,eAAerqC,GAEvBjC,EAAOigC,SAASjwC,QAChBgQ,EAAO1vD,KAAK,mBACZ0vD,EAAO1vD,KAAK,8BCRT,IACX07E,QAAS,sBACTsc,QAAS,SAAUtoC,EAAQp4D,GACvBmkG,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC9B52C,EAAQkjD,gBAAgB3kG,GAExBo4D,EAAOigC,SAASjwC,QAChBgQ,EAAO1vD,KAAK,mBACZ0vD,EAAO1vD,KAAK,wBCRT,IACX07E,QAAS,sBACTsc,QAAS,SAAUtoC,GAAuC,IAA/BpT,EAA+B,uDAArB,CAAC0rC,OAAS,UAC3CyT,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC9B,IAAI5lF,EAAO2lD,EAAOo/B,aAAariG,IAAI6vD,EAAQqV,SAEvCgqC,EAAc,CACdhqC,QAASrV,EAAQqV,QACjBpkE,SAAU+uD,EAAQ/uD,SAClB+7D,KAAMhN,EAAQgN,KACdz8D,MAAOkd,EAAKuyC,EAAQ/uD,UAAY,GAChCy6F,OAAQ1rC,EAAQ0rC,OAChBt4B,OAAQpT,EAAQoT,QAEhBxgE,EAAM6pD,EAAQ25C,oBAAoBiJ,GACtCjsC,EAAOigC,SAAS1rC,OAAO/0D,GACvBwgE,EAAO1vD,KAAK,mBACZ0vD,EAAO1vD,KAAK,8BCjBT,IACX07E,QAAS,uBACTsc,QAAS,SAAUtoC,EAAQiC,EAASpkE,GAA0B,IAAhB+kG,EAAgB,uDAAN,KAEpDmJ,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC9B52C,EAAQmjD,qBAAqBvqC,EAASpkE,EAAU+kG,GAEhD5iC,EAAO1vD,KAAK,wBCLT,IACX07E,QAAS,mBACT4Q,YAAa,qBACb0L,QAAS,SAAUtoC,GAA6D,IAArDuG,EAAqD,uDAA7C,EAAGI,EAA0C,uDAAzB,EAAGC,EAAsB,uDAAV,SAElE5G,EAAO+B,UAAU/R,QACjBgQ,EAAO1vD,KAAK,oBACZ0vD,EAAOwpC,WAAW,QAClBxpC,EAAO1vD,KAAK,mBAEZy7F,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAE9B,IAAI14B,EAAWle,EAAQ+3C,8BAEnBphC,EAAOsG,MACPtG,EAAOsG,MAAM7sC,OAEbumC,EAAOsG,MAAQD,GAAU,CACrBG,QAAgC,IAAvBy5B,EAASjG,YAClBzzB,QACAE,SAAqB,IAAXc,EACVZ,iBACAC,cAIR5G,EAAOsG,MAAMsB,KAAK,CACdnB,SAAqB,IAAXc,EACVf,QAAgC,IAAvBy5B,EAASjG,YAClBzzB,QACAI,iBACAC,YACAE,KAAM,SAACN,EAASF,GAEZjd,EAAQse,KAAK9B,GAASo6B,EAASr6B,IAAKY,EAAU,MAC9CxG,EAAO1vD,KAAK,iBAEhBY,KAAM,SAACs1D,EAASF,GAEZjd,EAAQse,KAAK9B,GAASo6B,EAASr6B,IAAKY,EAAU,MAC9CxG,EAAO1vD,KAAK,gBACZ0vD,EAAOvwD,UAAS,WACZuwD,EAAO1vD,KAAK,gBAEZ0vD,EAAOwpC,WAAW,aAClBxpC,EAAO1vD,KAAK,uBAIpBmpB,KAAM,SAAC+sC,EAASF,GAEZjd,EAAQ5vB,KAAKosC,GAASo6B,EAASr6B,IAAKY,EAAU,MAC9CxG,EAAO1vD,KAAK,gBAEZ0vD,EAAOwpC,WAAW,aAClBxpC,EAAO1vD,KAAK,2BCxDjB,IACX07E,QAAS,mBACTsc,QAAS,SAAUtoC,GAEf+rC,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC9B,IAAIwM,EAAWpjD,EAAQqjD,8BAEvBrjD,EAAQ23C,uBAAuBn7B,GAASo6B,EAASr6B,IAAK6mC,IACtDpjD,EAAQse,OAER3H,EAAO1vD,KAAK,gBACZ0vD,EAAOwpC,WAAW,aAClBxpC,EAAO1vD,KAAK,wBCZT,IACX07E,QAAS,oBACTsc,QAAS,SAAUtoC,GAEf+rC,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC9B,IAAI0M,EAAYtjD,EAAQ63C,+BAExB73C,EAAQ23C,uBAAuBn7B,GAASo6B,EAASr6B,IAAK+mC,IACtDtjD,EAAQse,OACR3H,EAAO1vD,KAAK,gBACZ0vD,EAAOwpC,WAAW,aAClBxpC,EAAO1vD,KAAK,wBCXT,IACX07E,QAAS,mBACTsc,QAAS,SAAUtoC,GAEf+rC,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC9B,IAAI2M,EAAWvjD,EAAQwjD,8BAEvBxjD,EAAQ23C,uBAAuBn7B,GAASo6B,EAASr6B,IAAKgnC,IACtDvjD,EAAQse,OACR3H,EAAO1vD,KAAK,gBACZ0vD,EAAOwpC,WAAW,aAClBxpC,EAAO1vD,KAAK,wBCXT,IACX07E,QAAS,mBACTsc,QAAS,SAAUtoC,GAEf+rC,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC9B,IAAI14B,EAAWle,EAAQ+3C,8BAEvB/3C,EAAQ23C,uBAAuBn7B,GAASo6B,EAASr6B,IAAK2B,IACtDle,EAAQse,OACR3H,EAAO1vD,KAAK,gBACZ0vD,EAAOwpC,WAAW,aAClBxpC,EAAO1vD,KAAK,wBCZT,IACX07E,QAAS,kBACTsc,QAAS,SAAUtoC,EAAQiC,GACvB8pC,GAAgB/rC,GAAQ,SAAC3W,EAAS42C,GAC1Bh+B,EACA5Y,EAAQ84C,iBAAiBlgC,GAEzB5Y,EAAQq4C,cAEZ1hC,EAAO1vD,KAAK,mBACZ0vD,EAAO1vD,KAAK,oBCVT,IACX07E,QAAS,aACTsc,QAAS,WAAF,oBAAE,WAAgBtoC,EAAQxgE,GAAxB,6BAAAmX,EAAA,yDAA6B/O,EAA7B,+BAAkC,MAEnCpI,EAAI27E,MAFH,gBAGDnb,EAAO1vD,KAAK,qBAAsB9Q,EAAI27E,MAAOvzE,GAH5C,2BAIMpI,EAAIo+E,SAJV,gBAKD5d,EAAO1vD,KAAK,6BAA8B9Q,EAAIo+E,SAAUh2E,GALvD,2BAMMpI,EAAIggE,QANV,iBAODQ,EAAO1vD,KAAK,4BAA6B9Q,EAAIggE,QAAS53D,GAPrD,4BAQMpI,EAAI6qG,SARV,iBASDrqC,EAAO1vD,KAAK,0BAA2B9Q,EAAI6qG,SAAUziG,GATpD,4BAUMpI,EAAIstG,MAVV,kCAYuB9sC,EAAO+sC,eAAeC,eAAextG,EAAIstG,MAAMllG,IAZtE,SAYKqlG,EAZL,SAcGjtC,EAAO1vD,KAAK,cAAe28F,EAAWztG,EAAIstG,MAAMl3D,QAdnD,QAkBLyyD,GAAyBroC,GAlBpB,4CAAF,qDAAE,ICAE,IACXgsB,QAAS,6BACTsc,QAAS,SAAUtoC,EAAQ4d,GAAqB,IAAXh2E,EAAW,uDAAN,KAClCsR,EAAQ8mD,EAAO+B,UAAU+lC,WAAWlgG,GAEpCslG,EAAW,GACfh0F,EAAMlE,SAAQ,SAAAqF,GACV,IAAI0pE,EAASJ,GAAgBrgB,WAAWoL,GAAcr0D,EAAK,sBAE3D0pE,EAAO3yE,QAAQ,IAAIuyE,GAAgB,CAC/Bp7E,MAAOo7E,GAAgBQ,WAAWvG,MAGtCsvB,EAAS7yF,EAAKzS,IAAM,CAChB,mBAAoB+7E,GAAgBpgF,KAAKwgF,OAIjD/jB,EAAO1vD,KAAK,+BAAgC,eAAgB48F,KClBrD,IACXlhB,QAAS,0BACTsc,QAAS,SAAUtoC,EAAQ35D,GAAgB,IAAXuB,EAAW,uDAAN,KAE7BsR,EAAQ8mD,EAAO+B,UAAU+lC,WAAWlgG,GACpCslG,EAAW,GACfh0F,EAAMlE,SAAQ,SAAAqF,GACV,IAAI0pE,EAASJ,GAAgBrgB,WAAWoL,GAAcr0D,EAAK,sBAE3D0pE,EAAO3yE,QAAQ,IAAIuyE,GAAgB,CAC/Bp7E,MAAO,IAAI45E,GAAiB,CAAE97E,WAGlC6mG,EAAS7yF,EAAKzS,IAAM,CAChB,mBAAoB+7E,GAAgBpgF,KAAKwgF,OAIjD/jB,EAAO1vD,KAAK,+BAAgC,uBAAwB48F,KCtB7D,IACXlhB,QAAU,cACVsc,QAAS,SAAUtoC,GAAyB,IAAjB29B,EAAiB,4DAAXj8F,EAG7Bs+D,EAAO+B,UAAU+lC,WAAWnK,GAAO39B,EAAO+B,UAAU47B,KAAK3oF,SAAQ,SAAAqF,GAC7DA,EAAK+uC,YAGT4W,EAAO+B,UAAU/R,QAEjBgQ,EAAOvwD,UAAS,WACZuwD,EAAO1vD,KAAK,mBCVT,IACX07E,QAAS,iBACTsc,QAAS,SAAUtoC,GAAiC,IAAzBmtC,EAAyB,uDAAd,aAClCntC,EAAOotC,gBAAgBC,SAASF,KCLzB,IACXnhB,QAAU,oBACVsc,QAAS,SAAUtoC,GAAuB,IAAfxgE,EAAe,uDAAT,CAAC0nC,GAAI,GAC5BA,GAAM1nC,EAAI0nC,GAEhB84B,EAAO1vD,KAAK,cAAe,EAAG42B,KCLvB,IACX8kD,QAAU,kBACVsc,QAAS,SAAUtoC,GAAuB,IAAfxgE,EAAe,uDAAT,CAAC0nC,GAAI,GAC5BA,GAAM1nC,EAAI0nC,GAEhB84B,EAAO1vD,KAAK,cAAe,GAAI,EAAI42B,KCL5B,IACX8kD,QAAU,qBACVsc,QAAS,SAAUtoC,GAAuB,IAAfxgE,EAAe,uDAAT,CAACwnC,GAAI,GAC5BA,GAAMxnC,EAAIwnC,GAEhBg5B,EAAO1vD,KAAK,cAAe02B,EAAI,KCLxB,IACXglD,QAAU,oBACVsc,QAAS,SAAUtoC,GAAuB,IAAfxgE,EAAe,uDAAT,CAACwnC,GAAI,GAC5BA,GAAMxnC,EAAIwnC,GAEhBg5B,EAAO1vD,KAAK,eAAgB,EAAI02B,EAAI,KCJtCsmE,GAAmB,IAAI1/C,IAGhB2/C,GAAb,wEAEI,SAAY9vG,GACR,OAAO6vG,GAAiBv/C,IAAItwD,KAHpC,iBAMI,SAAYA,GACR,OAAO6vG,GAAiBvwG,IAAIU,KAPpC,iBAUI,SAAYA,EAAKwlE,GAETqqC,GAAiB5xF,KAhBL,KAiBZ4xF,GAAiBr4C,QAGrBq4C,GAAiBvxF,IAAIte,EAAKwlE,OAhBlC,K,m/BCEA,IAAMuqC,GAAc,8FAEPC,GAAb,qIACE,WAA2B,IAAVjuG,EAAU,uDAAJ,GACrB,mEACEuoD,SAAU,WACPvoD,MAJT,sBAQE,WACE,gBAAU6B,KAAKklD,KAAKvvB,KAApB,YAA4B31B,KAAKklD,KAAKppD,OAAS,GAA/C,QATJ,oBAYE,SAAcqC,GACZ,IAAIkuG,EAAeC,GAAiBnuG,EAAIw3B,MAExC,GAAI02E,EACF,OAAO,IAAIA,EAAaluG,KAhB9B,wBAoBE,SAAmBggE,GAEjB,IAAIouC,EAAW,GAEf,IAAKpuC,EAAS,OAAOouC,EAErB,GAAIL,GAAax/C,IAAIyR,GACnB,OAAO+tC,GAAaxwG,IAAIyiE,GAI1B,IAAIj1B,EAAUgxC,GAAe/b,GA8B7B,OA5Bej1B,EAAQ/lC,IAAIM,MAAM0oG,KAAgB,IACzCx4F,SAAQ,SAAC7X,EAAO6U,GACtB,MAAkC7U,EAAMyH,MAAM,KAA9C,YAAKipG,EAAL,KAAkBC,EAAlB,KAGE,GAFFA,EAAeA,EAAalpG,MAAM,KAAK,IAE0CA,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAAvG,YAAKgW,EAAL,KAAW+tC,EAAX,KAAqBskD,EAArB,KAAgCC,EAAhC,KAA2C9pB,EAA3C,KAAsD+pB,EAAtD,KAEA,EAAsBvyF,EAAK9W,MAAM,KAAjC,YAAKkc,EAAL,KAAYqiC,EAAZ,KACA,EAAasG,EAAS7kD,MAAM,KAA5B,YAAK7C,EAAL,KAAQwgB,EAAR,KACA,GAA+B0rF,GAAY,IAAIrpG,MAAM,KAArD,YAAKspG,EAAL,KAAgBC,EAAhB,KAEAP,EAAS57F,GAASy7F,EAAQnnG,MAAM,CAC9B0wB,KAAM62E,EACN9rG,EAAGiiD,GAAO19C,MAAMvE,GAChBwgB,EAAGyhC,GAAO19C,MAAMic,GAChBzB,MAAOkjC,GAAO19C,MAAMwa,GACpBqiC,OAAQa,GAAO19C,MAAM68C,GACrB4qD,UAAWryB,GAAeqyB,EAAWxjE,EAAQ+nB,SAC7C07C,UAAWtyB,GAAesyB,EAAWzjE,EAAQ+nB,SAC7C4xB,UAAWA,GAAa,SACxBgqB,UAAWlqD,GAAO19C,MAAM4nG,GAAa,OACrCC,WAAYnqD,GAAO19C,MAAM6nG,GAAc,YAI7CZ,GAAaxxF,IAAIyjD,EAASouC,GAGnBA,IA7DX,kBAgEE,SAAa7hG,GACX,OAAOA,EAAKkJ,KAAI,SAAAu1B,GAAE,OAAIijE,EAAQnnG,MAAMkkC,MAAKjnC,KAAK,OAjElD,mBAoEE,SAAaiB,GACX,IAAIuH,EAAO,GAKX,OAJA0hG,EAAQnqC,WAAW9+D,GAAKwQ,SAAQ,SAAAw1B,GAC/Bz+B,EAAK1I,KAAK7B,MAAMuK,EAAM43E,GAAgBrgB,WAAWoL,GAAclkC,EAAGglC,cAG5DmU,GAAgByqB,QAAQriG,OA1EnC,GAA6BwjE,IA8EhB8+B,GAAb,qIACE,WACE,+DAA8B,CAC5Br3E,KAAM,OACNj1B,EAAGiiD,GAAOtgC,IACVnB,EAAGyhC,GAAOtgC,IACV5C,MAAOkjC,GAAOgB,GAAG,IACjB7B,OAAQa,GAAOgB,GAAG,IAClBkpD,UAAWlqD,GAAOgB,GAAG,GACrBmpD,WAAYnqD,GAAOgB,GAAG,GACtB+oD,UAAW,QACXC,UAAW,QACX9pB,UAAW,aAZjB,qBAgBE,SAAQ39B,GAUN,OATAA,EAAO,+CAAcA,IAEhBzlC,MAAQkjC,GAAO19C,MAAMigD,EAAKzlC,OAC/BylC,EAAKpD,OAASa,GAAO19C,MAAMigD,EAAKpD,QAChCoD,EAAK2nD,UAAYlqD,GAAO19C,MAAMigD,EAAK2nD,WACnC3nD,EAAK4nD,WAAanqD,GAAO19C,MAAMigD,EAAK4nD,YACpC5nD,EAAKxkD,EAAIiiD,GAAO19C,MAAMigD,EAAKxkD,GAC3BwkD,EAAKhkC,EAAIyhC,GAAO19C,MAAMigD,EAAKhkC,GAEpBgkC,IA1BX,sBA6BE,WACE,MAEIllD,KAAKklD,KADPvvB,EADF,EACEA,KAAMlW,EADR,EACQA,MAAOqiC,EADf,EACeA,OAAQphD,EADvB,EACuBA,EAAGwgB,EAD1B,EAC0BA,EAAGwrF,EAD7B,EAC6BA,UAAWC,EADxC,EACwCA,UAAW9pB,EADnD,EACmDA,UAAWgqB,EAD9D,EAC8DA,UAAWC,EADzE,EACyEA,WAEzE,gBAAUn3E,EAAV,YAAkBlW,EAAlB,YAA2BqiC,EAA3B,aAAsCphD,EAAtC,YAA2CwgB,EAA3C,aAAiDwrF,EAAjD,aAA+DC,EAA/D,aAA6E9pB,EAA7E,aAA2FgqB,EAA3F,YAAwGC,EAAxG,SAjCJ,GAAiCV,IAqCpBa,GAAb,qIACE,WACE,+DAA8B,CAC5Bt3E,KAAM,YAHZ,mBAOE,WACE,MAA+D31B,KAAKklD,KAA9DzlC,EAAN,EAAMA,MAAOqiC,EAAb,EAAaA,OAAQphD,EAArB,EAAqBA,EAAGwgB,EAAxB,EAAwBA,EAAGyrF,EAA3B,EAA2BA,UAAWD,EAAtC,EAAsCA,UAAW7pB,EAAjD,EAAiDA,UAKjD,OAHA8pB,EAAYA,GAAa,cAGzB,qEAFAD,EAAYA,GAAa,QAEzB,iBACyEC,EADzE,iBAC2FA,EAD3F,iBAC6GD,EAD7G,iBAC+HA,EAD/H,mDACmLA,EADnL,iBACqMC,EADrM,iBACuNA,EADvN,iBACyOD,EADzO,iBAC2PA,EAD3P,wDAEkChsG,EAFlC,YAEuCwgB,EAFvC,qCAGqBzB,EAHrB,YAG8BqiC,EAH9B,aAGyCriC,EAHzC,YAGkDqiC,EAHlD,2CAI2B+gC,EAJ3B,aAIyCA,EAJzC,eAbJ,GAAkCmqB,IAsBrBE,GAAb,qIACE,WACE,+DAA8B,CAC5Bv3E,KAAM,WAHZ,mBAOE,WACE,MAAgF31B,KAAKklD,KAA/EzlC,EAAN,EAAMA,MAAOqiC,EAAb,EAAaA,OAAQ+qD,EAArB,EAAqBA,UAAWC,EAAhC,EAAgCA,WAAYH,EAA5C,EAA4CA,UAAWD,EAAvD,EAAuDA,UAAW7pB,EAAlE,EAAkEA,UAKlE,OAHA8pB,EAAYA,GAAa,cAGzB,oDAFAD,EAAYA,GAAa,QAEzB,YACmDI,EADnD,aACkEH,EADlE,YAC+EG,EAD/E,uCACwHJ,EADxH,YACqIG,EADrI,aACmJF,EADnJ,YACgKE,EADhK,sCAEqBptF,EAAM3jB,MAAM,EAFjC,cAEwCgmD,EAAOhmD,MAAM,EAFrD,eAE6D2jB,EAAM3jB,MAAM,EAFzE,cAEgFgmD,EAAOhmD,MAAM,EAF7F,mDAG2B+mF,EAH3B,aAGyCA,EAHzC,qBAbJ,GAAiCmqB,IAuBpBG,GAAb,qIACE,WACE,+DAA8B,CAC5Bx3E,KAAM,UAHZ,mBAOE,WACE,MAAgF31B,KAAKklD,KAA/EzlC,EAAN,EAAMA,MAAOqiC,EAAb,EAAaA,OAAQ+qD,EAArB,EAAqBA,UAAuBF,GAA5C,EAAgCG,WAAhC,EAA4CH,WAAWD,EAAvD,EAAuDA,UAAW7pB,EAAlE,EAAkEA,UAKlE,OAHA8pB,EAAYA,GAAa,cAGzB,oDAFAD,EAAYA,GAAa,QAEzB,YACmDG,EADnD,aACiEF,EADjE,YAC8EE,EAD9E,sCAEqBptF,EAAM3jB,MAAM,EAFjC,cAEwCgmD,EAAOhmD,MAAM,EAFrD,uDAG2B+mF,EAH3B,qBAbJ,GAAgCmqB,IAuBnBI,GAAb,qIACE,WACE,+DAA8B,CAC5Bz3E,KAAM,gBAHZ,mBAQE,WACE,MAAsF31B,KAAKklD,KAArFzlC,EAAN,EAAMA,MAAOqiC,EAAb,EAAaA,OAAQphD,EAArB,EAAqBA,EAAGwgB,EAAxB,EAAwBA,EAAG2rF,EAA3B,EAA2BA,UAAuBF,GAAlD,EAAsCG,WAAtC,EAAkDH,WAAWD,EAA7D,EAA6DA,UAAW7pB,EAAxE,EAAwEA,UAKxE,OAHA8pB,EAAYA,GAAa,cAGzB,oDAFAD,EAAYA,GAAa,QAEzB,YACmDG,EADnD,aACiEF,EADjE,YAC8EE,EAD9E,6BAC4GH,EAD5G,YACyHG,EADzH,aACuIF,EADvI,YACoJE,EADpJ,sCAEqBptF,EAFrB,YAE8BqiC,EAF9B,YAEwCriC,EAFxC,YAEiDqiC,EAFjD,kDAGkCphD,EAHlC,YAGuCwgB,EAHvC,2DAIqC2hE,EAJrC,eAdJ,GAAqCmqB,IAyBxBK,GAAb,qIACE,WACE,+DAA8B,CAC5B13E,KAAM,oBAHZ,mBAOE,WACE,MAAuE31B,KAAKklD,KAAtEzlC,EAAN,EAAMA,MAAOqiC,EAAb,EAAaA,OAAQphD,EAArB,EAAqBA,EAAGmsG,EAAxB,EAAwBA,UAAWF,EAAnC,EAAmCA,UAAWD,EAA9C,EAA8CA,UAAW7pB,EAAzD,EAAyDA,UAKzD,OAHA8pB,EAAYA,GAAa,cACzBD,EAAYA,GAAa,QAEzB,4DAC8ChsG,EAD9C,aACoDgsG,EADpD,iBACsEA,EADtE,YACmFG,EADnF,aACiGF,EADjG,iBACmHA,EADnH,wCAEmBltF,EAFnB,YAE4BqiC,EAF5B,+CAGyB+gC,EAHzB,aAbJ,GAAyCmqB,IAsB5BM,GAAb,qIACE,WACE,+DAA8B,CAC5B33E,KAAM,oBAHZ,mBAOE,WACE,MAA0E31B,KAAKklD,KAAzEzlC,EAAN,EAAMA,MAAOqiC,EAAb,EAAaA,OAAQphD,EAArB,EAAqBA,EAAGwgB,EAAxB,EAAwBA,EAAG2rF,EAA3B,EAA2BA,UAAWF,EAAtC,EAAsCA,UAAWD,EAAjD,EAAiDA,UAAW7pB,EAA5D,EAA4DA,UAK5D,OAHA8pB,EAAYA,GAAa,cAGzB,wEAFAD,EAAYA,GAAa,QAEzB,iBAC4EA,EAD5E,YACyFG,EADzF,aACuGF,EADvG,YACoHE,EADpH,aACkIF,EADlI,2CAEqBltF,EAFrB,YAE8BqiC,EAF9B,0CAGyBphD,EAHzB,YAG8BwgB,EAH9B,mDAI2B2hE,EAJ3B,eAbJ,GAAyCmqB,IAwB5BO,GAAb,qIACE,WACE,+DAA8B,CAC5B53E,KAAM,sBAHZ,mBAOE,WACE,MAA0E31B,KAAKklD,KAAzEzlC,EAAN,EAAMA,MAAOqiC,EAAb,EAAaA,OAAQphD,EAArB,EAAqBA,EAAGwgB,EAAxB,EAAwBA,EAAG2rF,EAA3B,EAA2BA,UAAWF,EAAtC,EAAsCA,UAAWD,EAAjD,EAAiDA,UAAW7pB,EAA5D,EAA4DA,UAK5D,OAHA8pB,EAAYA,GAAa,cAGzB,oEAFAD,EAAYA,GAAa,QAEzB,iBACwEA,EADxE,YACqFG,EADrF,aACmGF,EADnG,YACgHE,EADhH,aAC8HF,EAD9H,mDAEyBjsG,EAFzB,YAE8BwgB,EAF9B,qCAGqBzB,EAHrB,YAG8BqiC,EAH9B,8CAI2B+gC,EAJ3B,eAbJ,GAA2CmqB,IAmC9BV,GAAmB,CAC9BtkE,MAAOilE,GACPO,KAAMN,GACN72F,IAAK82F,GACL,YAAaC,GACb,gBAAiBC,GACjB,gBAAiBC,GACjB,kBAAmBC,IC9SN,IACX5iB,QAAS,4BACTsc,QAAS,SAAUtoC,EAAQR,GAAoB,IAAX53D,EAAW,uDAAN,KAEjCsR,EAAQ8mD,EAAO+B,UAAU+lC,WAAWlgG,GACpCslG,EAAW,GACfh0F,EAAMlE,SAAQ,SAAAqF,GAEV6yF,EAAS7yF,EAAKzS,IAAM,CAChB43D,QAASiuC,GAAQlqG,KAAR,eACFkqG,GAAQnqC,WAAW9D,IADjB,KAEFiuC,GAAQnqC,WAAWjpD,EAAKmlD,gBAKvCQ,EAAO1vD,KAAK,+BAAgC,cAAe48F,KClBpD,IACXlhB,QAAS,qBACTsc,QAAS,SAAUtoC,EAAQmb,GAAkB,IAAXvzE,EAAW,uDAAN,KACnCo4D,EAAOgsB,QAAQ,uBAAwB,uBAAwBhsB,EAAO+B,UAAU+sC,YAAY,CACxF,mBAAoB3zB,GACrBvzE,MCHI,QACXokF,QAAU,cACVsc,QAAS,SAAUtoC,GAEf,GAAIA,EAAO+B,UAAU2lC,MAAO,CAExB,IAAMpa,EAAUttB,EAAO+B,UAAUurB,QAEjC,GAAIA,EAAQ9lC,OAAOzB,GAAG,iBAEf,GAAIunC,EAAQyK,SAAU,CAEzB,IAAM/rB,EAAQ/qB,GAAkBqsC,EAAQyK,SAASx4C,SAAW0B,GAAkB+e,EAAO+B,UAAUxiB,SAC/FygB,EAAO1vD,KAAK,YAAa07D,EAAO,SAGjC,GAAIhM,EAAO+B,UAAUkmC,OAAQ,CAChC,IAAI8G,EAAY9tD,GAAkB+e,EAAO+B,UAAUxiB,SAEnDygB,EAAO1vD,KAAK,oBAAqB0vD,EAAO+B,UAAU9sD,KAAI,SAAAoF,GAClD,IAAI20F,EAAa/tD,GAAkB5mC,EAAKklC,SAExC,MAAO,CAAEllC,OAAM9F,KAAM,CAACw6F,EAAYC,EAAY,EAAG,WCtBlD,IACXhjB,QAAU,YACVsc,QAAS,SAAUtoC,GAEf,GAAIA,EAAO+B,UAAU2lC,MAAO,CAExB,IAAMpa,EAAUttB,EAAO+B,UAAUurB,QAEjC,GAAIA,EAAQ9lC,OAAOzB,GAAG,iBAEf,GAAIunC,EAAQyK,SAAU,CAEzB,IAAM/rB,EAAQjrB,GAAeusC,EAAQyK,SAASx4C,SAAWwB,GAAeif,EAAO+B,UAAUxiB,SACzFygB,EAAO1vD,KAAK,YAAa07D,EAAO,SAGjC,GAAIhM,EAAO+B,UAAUkmC,OAAQ,CAChC,IAAI8G,EAAYhuD,GAAeif,EAAO+B,UAAUxiB,SAEhDygB,EAAO1vD,KAAK,oBAAqB0vD,EAAO+B,UAAU9sD,KAAI,SAAAoF,GAClD,IAAI20F,EAAajuD,GAAe1mC,EAAKklC,SAErC,MAAO,CAAEllC,OAAM9F,KAAM,CAACw6F,EAAYC,EAAY,EAAG,WCtBlD,IACXhjB,QAAU,cACVsc,QAAS,SAAUtoC,GAEf,GAAIA,EAAO+B,UAAU2lC,MAAO,CAExB,IAAMpa,EAAUttB,EAAO+B,UAAUurB,QAEjC,GAAIA,EAAQ9lC,OAAOzB,GAAG,iBAEf,GAAIunC,EAAQyK,SAAU,CAEzB,IAAM3rB,EAAQ/qB,GAAkBisC,EAAQyK,SAASx4C,SAAW8B,GAAkB2e,EAAO+B,UAAUxiB,SAC/FygB,EAAO1vD,KAAK,YAAa,EAAG87D,SAG7B,GAAIpM,EAAO+B,UAAUkmC,OAAQ,CAChC,IAAIgH,EAAY5tD,GAAkB2e,EAAO+B,UAAUxiB,SAEnDygB,EAAO1vD,KAAK,oBAAqB0vD,EAAO+B,UAAU9sD,KAAI,SAAAoF,GAClD,IAAI60F,EAAa7tD,GAAkBhnC,EAAKklC,SAExC,MAAO,CAAEllC,OAAM9F,KAAM,CAAC,EAAG06F,EAAYC,EAAY,EAAG,WCtBrD,IACXljB,QAAU,cACVsc,QAAS,SAAUtoC,GAEf,GAAIA,EAAO+B,UAAU2lC,MAAO,CAExB,IAAMpa,EAAUttB,EAAO+B,UAAUurB,QAEjC,GAAIA,EAAQ9lC,OAAOzB,GAAG,iBAEf,GAAIunC,EAAQyK,SAAU,CAEzB,IAAM3rB,EAAQtrB,GAAewsC,EAAQyK,SAASx4C,SAAWuB,GAAekf,EAAO+B,UAAUxiB,SACzFygB,EAAO1vD,KAAK,YAAa,EAAG87D,SAG7B,GAAIpM,EAAO+B,UAAUkmC,OAAQ,CAChC,IAAIgH,EAAYnuD,GAAekf,EAAO+B,UAAUxiB,SAEhDygB,EAAO1vD,KAAK,oBAAqB0vD,EAAO+B,UAAU9sD,KAAI,SAAAoF,GAClD,IAAI60F,EAAapuD,GAAezmC,EAAKklC,SAErC,MAAO,CAAEllC,OAAM9F,KAAM,CAAC,EAAG06F,EAAYC,EAAY,EAAG,WCtBrD,IACXljB,QAAU,WACVsc,QAAS,SAAUtoC,GAEf,GAAIA,EAAO+B,UAAU2lC,MAAO,CAExB,IAAMpa,EAAUttB,EAAO+B,UAAUurB,QAEjC,GAAIA,EAAQ9lC,OAAOzB,GAAG,iBAEf,GAAIunC,EAAQyK,SAAU,CAEzB,IAAM3rB,EAAQhrB,GAAeksC,EAAQyK,SAASx4C,SAAW6B,GAAe4e,EAAO+B,UAAUxiB,SACzFygB,EAAO1vD,KAAK,YAAa,EAAG87D,SAG7B,GAAIpM,EAAO+B,UAAUkmC,OAAQ,CAChC,IAAIgH,EAAY7tD,GAAe4e,EAAO+B,UAAUxiB,SAEhDygB,EAAO1vD,KAAK,oBAAqB0vD,EAAO+B,UAAU9sD,KAAI,SAAAoF,GAClD,IAAI60F,EAAa9tD,GAAe/mC,EAAKklC,SAErC,MAAO,CAAEllC,OAAM9F,KAAM,CAAC,EAAG06F,EAAYC,EAAY,EAAG,WCtBrD,IACXljB,QAAU,aAMVsc,QAAS,SAAUtoC,GAEf,GAAIA,EAAO+B,UAAU2lC,MAAO,CAExB,IAAMpa,EAAUttB,EAAO+B,UAAUurB,QAEjC,GAAIA,EAAQ9lC,OAAOzB,GAAG,iBAEf,GAAIunC,EAAQyK,SAAU,CAEzB,IAAM/rB,EAAQtrB,GAAe4sC,EAAQyK,SAASx4C,SAAWmB,GAAesf,EAAO+B,UAAUxiB,SACzFygB,EAAO1vD,KAAK,YAAa07D,EAAO,SAGjC,GAAIhM,EAAO+B,UAAUkmC,OAAQ,CAChC,IAAI8G,EAAYruD,GAAesf,EAAO+B,UAAUxiB,SAEhDygB,EAAO1vD,KAAK,oBAAqB0vD,EAAO+B,UAAU9sD,KAAI,SAAAoF,GAClD,IAAI20F,EAAatuD,GAAermC,EAAKklC,SAErC,MAAO,CAAEllC,OAAM9F,KAAM,CAACw6F,EAAYC,EAAY,EAAG,WC3BlD,IACXhjB,QAAU,aACV4Q,YAAa,wBACb0L,QAAS,SAAUtoC,GAIf,GAAIA,EAAO+B,UAAUkmC,OAAQ,CACzB,IAAMxnF,EAAO+kD,GAAmBxF,EAAO+B,UAAUxiB,SAEjDygB,EAAOgsB,QAAQ,uBAAwB,wBAAyBhsB,EAAO+B,UAAU+sC,YAAY,CACzF/sG,EAAG0e,EAAK1e,EACR+e,MAAOL,EAAKK,YCXb,IACXkrE,QAAU,cACV4Q,YAAc,yBAKd0L,QAAS,SAAUtoC,GAEf,IAAItyD,EAAMsyD,EAAO+B,UAAUnjE,OAE3B,GAAW,GAAP8O,QAEG,GAAIA,EAAM,EAAG,CAChB,IAAM+S,EAAO+kD,GAAmBxF,EAAO+B,UAAUxiB,SAEjDygB,EAAOgsB,QAAQ,uBAAwB,yBAA0BhsB,EAAO+B,UAAU+sC,YAAY,CAC1FvsF,EAAG9B,EAAK8B,EACR4gC,OAAQ1iC,EAAK0iC,a,sCCfd,WAA6B6c,EAAQhpC,GAArC,2BAAArgB,EAAA,6DAA2CrU,EAA3C,+BAAkD,GAE7D09D,EAAO+B,UAAU/R,QAFN,SAGLgQ,EAAO1vD,KAAK,wBAHP,uBAIL0vD,EAAO1vD,KAAK,oBAJP,uBAKL0vD,EAAO1vD,KAAK,mBALP,UAOE,WAAT0mB,EAPO,4CAUS,UAATA,EAVA,kCAWDgpC,EAAO1vD,KAAK,sBAXX,mCAYS,SAAT0mB,EAZA,kCAaDgpC,EAAO1vD,KAAK,iBAAkB,QAb7B,iDAeD0vD,EAAO1vD,KAAK,sBAAuB0mB,EAAM10B,GAfxC,6C,sBCNA,ICEA,IACX0pF,QAAU,uBACVsc,QAAS,SAAUtoC,GACf,IAAMstB,EAAUttB,EAAO+B,UAAUurB,QAE7BA,GACAA,EAAQ6hB,YAGZ9G,GAAyBroC,KCTlB,IACXgsB,QAAU,qBACVsc,QAAS,SAAUtoC,GAGf,IAAMstB,EAAUttB,EAAO+B,UAAUurB,QAE7BA,GACAA,EAAQ8hB,YAGZ/G,GAAyBroC,K,+NCblB,QACXgsB,QAAU,aACVsc,QAAS,SAAUtoC,GAEf,GAAgC,IAA5BA,EAAO+B,UAAUnjE,OAArB,CAEA,IAAMyqD,EAAU2W,EAAO+B,UAAUC,eAEjC,GAAI3Y,EAAS,CAGTA,EAAQd,qBAGR,IAAMx8C,EAAOi0D,EAAO+B,UAAU9sD,KAAI,SAAAoF,GAC9B,MAAO,CAACqtC,MAAOrtC,EAAKqtC,MAAOrtC,WAI/BtO,EAAK3G,MAAK,SAACuR,EAAG8G,GACV,OAAI9G,EAAE+wC,QAAUjqC,EAAEiqC,MACP/wC,EAAE2xC,GAAK7qC,EAAE6qC,IAAM,EAAI,EAGvB3xC,EAAE+wC,MAAQjqC,EAAEiqC,MAAQ,GAAK,KAIpC,IAAM2nD,EAAarvC,EAAOi9B,Y,mWAAP,EACfl1C,SAAU,QACPiY,EAAO+B,UAAUutC,WAIxBvjG,EAAK,GAAGsO,KAAKk1F,YAAYF,GAGzBtjG,EAAKiJ,SAAQ,YAAc,IAAXqF,EAAW,EAAXA,KACZg1F,EAAWjiD,YAAY/yC,MAG3B2lD,EAAO+B,UAAUxN,OAAO86C,GAExBrvC,EAAO1vD,KAAK,kBC3CT,IACX07E,QAAU,eACVsc,QAAS,SAAUtoC,GAEf,GAAgC,IAA5BA,EAAO+B,UAAUnjE,OAArB,CAEA,IAAM0uF,EAAUttB,EAAO+B,UAAUurB,QAEjC,GAAIA,EAAS,OAEL+hB,EAAa/hB,EACbjnC,EAAS,KAAIgpD,EAAWhpD,QAE5BA,EAAO/sB,UAEP+sB,EAAOrxC,SAAQ,SAAAm1C,GACXklD,EAAWG,aAAarlD,OAG5B,EAAA6V,EAAO+B,WAAUxN,OAAjB,aAA2BlO,IAC3B2Z,EAAO1vD,KAAK,kBCjBT,IACX07E,QAAS,2BACT4Q,YAAa,6BACb6S,eAAgB,qCAChBnH,QAAS,SAAUtoC,GAA+B,MAAvB32C,EAAuB,uDAAb,YAC3BqmF,EAAgB1vC,EAAO+B,UAAU47B,IACjCgS,EAAS,UAAG3vC,EAAO+B,UAAUC,sBAApB,aAAG,EAAiCp6D,GAC7CgoG,EAAa5vC,EAAO6vC,QAAQC,YAG9B5gC,GAAcwgC,EAAeE,KAIjC5vC,EAAO6vC,QAAQh5D,IAAIxtB,EAAShoB,KAAM,CAC9BquG,cAAe,CAACA,EAAeC,GAC/BC,WAAY,CAACA,EAAYD,KAG7BtuG,KAAK0uG,WAAW/vC,KAGpB+vC,WAtBW,SAsBC/vC,GACRA,EAAOvwD,UAAS,WACZuwD,EAAO6vC,QAAQG,gBACfhwC,EAAO1vD,KAAK,oBAEZ0vD,EAAOvwD,UAAS,WACZuwD,EAAO1vD,KAAK,+BAMxB2/F,KAAO,SAAUjwC,EAAV,GAAuD,eAAnC0vC,cAAmC,GAAnB/R,EAAmB,KAAdgS,EAAc,KAC1D3vC,EAAO+B,UAAUmuC,cAAcP,IAC/B,EAAA3vC,EAAO+B,WAAUxN,OAAjB,aAA2BopC,IAE3Bt8F,KAAK0uG,WAAW/vC,IAEpBmwC,KAAM,SAAUnwC,EAAV,GAAoD,eAAhC4vC,WAAgC,GAAnBjS,EAAmB,KAAdgS,EAAc,KACtD3vC,EAAO+B,UAAUmuC,cAAcP,IAC/B,EAAA3vC,EAAO+B,WAAUxN,OAAjB,aAA2BopC,IAE3Bt8F,KAAK0uG,WAAW/vC,KC5CT,IACXgsB,QAAS,uBAMTsc,QAAS,SAAUtoC,GAAyB,IAAjBowC,EAAiB,uDAAJ,GAE9BC,EAAW,GAEjBzzG,OAAOs0D,QAAQk/C,GAAYp7F,SAAQ,YAAiB,gBAAfpN,EAAe,KAAX8gD,EAAW,KAC1CruC,EAAO2lD,EAAOo/B,aAAariG,IAAI6K,GAC/B0oG,EAAW,GAEjB1zG,OAAOs0D,QAAQxI,GAAO1zC,SAAQ,YAAkB,gBAAhBvX,EAAgB,KAAXN,EAAW,KAC5CmzG,EAAS7yG,GAAOqsC,GAAW3sC,GAASA,EAAMkd,GAAQld,KAGtDkzG,EAAShtG,KAAK,CAAEuE,GAAIyS,EAAKzS,GAAI6iD,SAAUpwC,EAAKowC,SAAU/B,MAAO4nD,OAKjED,EAASr7F,SAAQ,SAAAqU,GACb22C,EAAO1vD,KAAK,SAAU+Y,EAAQzhB,GAAIyhB,EAAQq/B,OAG1C,IAAMlB,EAASwY,EAAOjjE,IAAIssB,EAAQohC,UAC9BphC,EAAQohC,UAARphC,MAAoBm+B,KAAQ22C,MAAM,YAAc32C,EAAO0F,SAAStuD,QAAU,GAC1EohE,EAAO1vD,KAAK,SAAU+Y,EAAQohC,SAAU,CACpC,iBAAmB,SClCxB,IACXuhC,QAAU,+BACVsc,QAAS,SAAUtoC,EAAQ32C,GAA0B,IAAjB+mF,EAAiB,uDAAJ,GAE7CpwC,EAAO1vD,KAAK,uBAAwB8/F,GAEpCpwC,EAAO6vC,QAAQh5D,IAAIxtB,EAAShoB,KAAM,CAC9BquG,cAAe,CAACU,GAChBR,WAAY5vC,EAAO6vC,QAAQU,sBAAsBH,KAGrDpwC,EAAOvwD,UAAS,WACduwD,EAAO6vC,QAAQG,oBAIrBC,KAAM,SAAUjwC,EAAV,GAAmC,IAAhB0vC,EAAgB,EAAhBA,cACrB1vC,EAAO1vD,KAAP,MAAA0vD,EAAM,CAAM,wBAAN,YAAiC0vC,KACvC1vC,EAAOvwD,UAAS,WACZuwD,EAAO+B,UAAUyuC,WACjBxwC,EAAO1vD,KAAK,kBAKpB6/F,KAAM,SAAUnwC,EAAV,GAAkC,IAAd4vC,EAAc,EAAdA,WAChBjS,EAAM/gG,OAAOuI,KAAKyqG,GACV5vC,EAAO+B,UAAU+lC,WAAWnK,GAEpC3oF,SAAQ,SAAAqF,GACVA,EAAKue,MAAMg3E,EAAWv1F,EAAKzS,QAE/Bo4D,EAAO+B,UAAUyuC,WAEjBxwC,EAAOvwD,UAAS,WACZuwD,EAAO1vD,KAAK,mBCjCT,IACX07E,QAAS,mBACT4Q,YAAa,wBACb0L,QAAS,SAAUtoC,EAAQ32C,EAASm/B,GAAoD,WAAlCioD,IAAkC,yDAAf7H,EAAe,uCAEpF5oC,EAAO1vD,KAAK,WAAYk4C,EAAOioD,EAAY7H,GAE3C5oC,EAAOvwD,UAAS,WACZuwD,EAAO6vC,QAAQh5D,IAAIxtB,EAAS,EAAM,CAC9BqmF,cAAe,CAAClnD,EAAOioD,EAAYjoD,EAAMhB,QACzCooD,WAAY,CAACpnD,EAAM5gD,SAI3Bo4D,EAAOvwD,UAAS,WACduwD,EAAO6vC,QAAQG,oBAIrBC,KAAM,SAAUjwC,EAAV,GAAmC,IAAhB0vC,EAAgB,EAAhBA,cACrB1vC,EAAO1vD,KAAP,MAAA0vD,EAAM,CAAM,YAAN,YAAqB0vC,KAC3B1vC,EAAOvwD,UAAS,WACZuwD,EAAO1vD,KAAK,kBAKpB6/F,KAAM,SAAUnwC,EAAV,GAAkC,IAC9B29B,EAD8B,EAAdiS,WAER5vC,EAAO+B,UAAU+lC,WAAWnK,GAIpC3oF,SAAQ,SAAAqF,GACNA,GACAA,EAAK+uC,YAIb4W,EAAOvwD,UAAS,WACZuwD,EAAO+B,UAAU/R,QACjBgQ,EAAO1vD,KAAK,mBC/BxB,SAASogG,KAA2B,IAAZx3F,EAAY,uDAAJ,GAG5B,OAAOA,EAAMzV,QAAO,SAAA4W,GAEhB,IAAI4uD,EAAQ,EAKZ,OAJA5uD,EAAK3I,KAAKsD,SAAQ,SAAA27F,GACd1nC,GAAS/vD,EAAMzV,QAAO,SAAA+mC,GAAE,OAAIA,EAAG5iC,KAAO+oG,EAAS/oG,MAAIhJ,OAAS,EAAI,KAGnD,IAAVqqE,KAIA,QACX+iB,QAAU,sBACV4Q,YAAa,eASb0L,QAAS,SAAUtoC,EAAQ32C,EAASs0E,GAGhC,IAAIzkF,EAAQ8mD,EAAO+B,UAAU+lC,WAAWnK,GAAO39B,EAAO+B,UAAU47B,KAK1DiT,GAFN13F,EAAQw3F,GAAex3F,IAECjE,KAAI,SAAAu1B,GAAE,OAAIA,EAAG5iC,MAGrCo4D,EAAOo/B,aAAayR,WAAWD,GAG/B13F,EAAMlE,SAAQ,SAAAqF,GAAI,OAAIA,EAAK+uC,YAE3B4W,EAAO6vC,QAAQh5D,IAAIxtB,EAAShoB,KAAM,CAC9BquG,cAAe,CAACkB,GAChBhB,WAAYgB,IAIhB5wC,EAAOvwD,UAAS,WACZuwD,EAAO+B,UAAU6kC,WAAWgK,GAC5B5wC,EAAO1vD,KAAK,cACZ0vD,EAAO1vD,KAAK,mBACZ0vD,EAAOvwD,UAAS,WACZuwD,EAAO6vC,QAAQG,uBAK3BC,KAAM,SAAUjwC,EAAV,GAAmC,IAE/B29B,EAF+B,EAAhB+R,cAEK,GACtBx2F,EAAQ8mD,EAAO+B,UAAU+lC,WAAWnK,GAAO39B,EAAO+B,UAAU47B,KAGhEzkF,EAAQw3F,GAAex3F,GAGvB8mD,EAAOo/B,aAAayR,WAAW33F,EAAMjE,KAAI,SAAAu1B,GAAE,OAAIA,EAAG5iC,OAGlDsR,EAAMlE,SAAQ,SAAAqF,GAAI,OAAIA,EAAK+uC,YAE3B4W,EAAOvwD,UAAS,WACZuwD,EAAO1vD,KAAK,kBAYpB6/F,KAAM,SAAUnwC,EAAV,GAA8C,IAAd8wC,EAAc,EAA1BlB,WACtB5vC,EAAOo/B,aAAa2R,aAAaD,GAEjC9wC,EAAOvwD,UAAS,WACZuwD,EAAO1vD,KAAK,mBC3FT,IACX07E,QAAS,iBAET4Q,YAAa,gDASb0L,QAAS,SAAUtoC,EAAQgxC,GACvB,IAAM1jB,EAAUttB,EAAO+B,UAAUurB,QACjC,GAAIA,EACA,GAAuB,QAAnB0jB,EAAW9tD,IAAe,CAC1B,IAAMuuC,EAAUnE,EAAQ2jB,WAAWD,EAAWx0G,GAG9CwjE,EAAOgsB,QAAQ,uBAAwB,oBAAqBhsB,EAAO+B,UAAU+sC,YAAY,CACrFtyG,EAAGi1F,EAAQj1F,SAEZ,CACH,IAAMi1F,EAAU,IAAIL,GAAW4f,EAAWx0G,GAEtCi1F,EAAQhyC,cAAcuxD,EAAW5J,OAAO8J,0BAG5C,IAAI5d,EAAO7B,EAAQhgC,UAGb0/C,EAAW9xD,EAAKH,SAASo0C,EAAK,GAAIA,EAAK,IACvC8d,EAAY/xD,EAAKH,SAASo0C,EAAK,GAAIA,EAAK,IAI1C+d,EAAU/xD,GACVylB,GAAcuuB,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAI6d,EAAUC,GAChDJ,EAAW5J,OAAOzC,mBAKlB2M,EAAUhyD,GAAW+xD,EAASlvD,GAC9BJ,EAAK3S,gBAAgB,GAAIiiE,EAAQ,IACjCznB,GAAU2nB,sBACN3nB,GAAUtmB,WAAW0tC,EAAW5J,OAAO9qF,WACvC60F,EACAC,GAEJrvD,EAAK3S,gBAAgB,GAAIiQ,EAAKtG,OAAO,GAAIs4D,EAAQ,OAI/CG,EAActvD,GAChBH,EAAK3S,gBAAgB,GAAIkiE,EAAQ,IACjChkB,EAAQmkB,wBAAwBN,EAAUC,IAKxCM,EAAS3vD,EAAK7Q,eAAe,GAAIgR,GACnC8uD,EAAW5J,OAAOuK,oBAClBH,EACAzvD,EAAKK,OAAO,GAAIkrC,EAAQmkB,wBAAwBN,EAAUC,MAI9DpxC,EAAOgsB,QAAQ,uBAAwB,cAAehsB,EAAO+B,UAAU+sC,YAAY,CAG/EtyG,EAAGi1F,EAAQzvC,WAAWsxC,EAAK,GAAG,IAAKA,EAAK,GAAG,IAAI92F,EAC/CuF,EAAGiiD,GAAOgB,GAAG0sD,EAAO,IACpBnvF,EAAGyhC,GAAOgB,GAAG0sD,EAAO,IACpB5wF,MAAOkjC,GAAOgB,GAAGmsD,GACjBhuD,OAAQa,GAAOgB,GAAGosD,SChFvB,IACXplB,QAAU,YAEV4Q,YAAa,qCAOb0L,QAAS,SAAUtoC,GAAwB,IAAhBh5B,EAAgB,uDAAX,EAAGE,EAAQ,uDAAH,EAEpC84B,EAAOgsB,QAAQ,uBAAwB,iBAAkBhsB,EAAO+B,UAAU+sC,YAAY,CAClF/sG,EAAG,SAACsY,GAAD,OAAU2pC,GAAOgB,GAAG3qC,EAAK6hE,QAAQ/+E,MAAQ6pC,IAC5CzkB,EAAG,SAAClI,GAAD,OAAU2pC,GAAOgB,GAAG3qC,EAAK8hE,QAAQh/E,MAAQ+pC,OAGhD84B,EAAOvwD,UAAS,WACZuwD,EAAO+B,UAAUyuC,WACjBxwC,EAAO1vD,KAAK,mBCpBT,IACX07E,QAAS,eAET4Q,YAAa,mCAQb0L,QAAS,SAAUtoC,EAAQ4xC,GAAgC,IAAnBC,EAAmB,wDACnDD,GACA5xC,EAAOolC,SAAS0M,kBAAkBF,OAAalwG,EAAWmwG,KCZvD,IACX7lB,QAAU,oBAEV4Q,YAAa,6BAOb0L,QAAS,SAAUtoC,GAAwB,IAAhB+xC,EAAgB,uDAAJ,GAE7B7E,EAAW,GAEjB6E,EAAU/8F,SAAQ,SAAAw1B,GACd0iE,EAAS1iE,EAAGnwB,KAAKzS,IAAM,CACnB7F,EAAGiiD,GAAOgB,GAAGxa,EAAGnwB,KAAK6hE,QAAQ/+E,MAAQqtC,EAAGj2B,KAAK,IAAIokC,QACjDp2B,EAAGyhC,GAAOgB,GAAGxa,EAAGnwB,KAAK8hE,QAAQh/E,MAAQqtC,EAAGj2B,KAAK,IAAIokC,YAIzDqnB,EAAO1vD,KAAK,+BAAgC,iBAAkB48F,GAE9DltC,EAAOvwD,UAAS,WACZuwD,EAAO+B,UAAUyuC,WACjBxwC,EAAO1vD,KAAK,mBC1BT,IACX07E,QAAS,wBAET4Q,YAAa,4DAQb0L,QAAS,SAAUtoC,GAA0B,IAAlB6xC,IAAkB,yDAErCD,EAAc,GAGhBA,EADE5xC,EAAO+B,UAAUslC,QACLrnC,EAAO+B,UAAUC,eAAe2lC,YAEhCviC,GAAmBpF,EAAO+B,UAAU7oD,OAGpD8mD,EAAO1vD,KAAK,eAAgBshG,EAAaC,KCnBlC,IACX7lB,QAAS,UACTsc,QAAS,SAAUtoC,GAA8B,IAAtB6rC,EAAsB,uDAAJ,GACnCxxF,EAAO2lD,EAAO+B,UAAUurB,QAE9B,GAAIjzE,EAAM,CACN,IAAMmxF,EAAYC,GAA0BzrC,EAAQ3lD,GAAM3U,OACpD08E,EAAU,6BAA+BtmF,OAAOsvG,KAAKI,GAC3DpC,GAAkB,CAACpF,MAAO5hB,IAAU,SAACrhF,EAAMm0D,GACvCw2C,GAAex2C,GAAK,SAAC42C,GACbD,GACA7rC,EAAO1vD,KAAKu7F,EAAiBC,YChBtC,IACX9f,QAAU,gBACVsc,QAAS,SAAUtoC,EAAQgyC,GAAmB,2BAAN1wG,EAAM,iCAANA,EAAM,kBAC1C0+D,EAAO1vD,KAAP,MAAA0vD,EAAM,CAAM,iBAAkBgyC,GAAxB,OAAqC1wG,M,63CCDpC,I,GC+Gf,QAEI2wG,SDjHW,CACXjmB,QAAU,YACV4Q,YAAa,sDACb0L,QAAU,SAAUtoC,GAEhB,IAAMstB,EAAUttB,EAAO+B,UAAUurB,QAEjC,GAAIA,EAAS,CAET,IAAImE,EAAUL,GAAWoE,cAAclI,EAAQ9wF,GAE/C,IACI,IAAM01G,EAAgB5kB,EAAQ6kB,YAE9BnyC,EAAOgsB,QAAQ,WAAf,YAAwChsB,EAAOi9B,YAAP,OACpCl1C,SAAU,YACPmqD,GACA5kB,EAAQ8kB,WAAW3gB,EAAQj1F,MAC9B,EAAM8wF,EAAQ9lC,QACpB,MAAO94C,GACLqQ,QAAQ/d,MAAM0N,OC8F1B2jG,OCpHW,CACXrmB,QAAS,SACT4Q,YAAa,mBACb0L,QAAS,SAAUtoC,GAA+B,IAAvBp4D,EAAuB,uDAAlB,KAAM8gD,EAAY,uDAAJ,GAE1CsX,EAAO1vD,KAAK,eAAgB1I,EAAI8gD,GAEhC,IAAMruC,EAAO2lD,EAAOo/B,aAAariG,IAAI6K,GAErC,GAAIyS,EAAM,CACN,IAAM+tF,EAAY/tF,EAAKue,MAAM8vB,GAEzB0/C,GACApoC,EAAO1vD,KAAK,iBAAkB+J,GAItC2lD,EAAO1vD,KAAK,cAAe1I,EAAI8gD,KDoGnC4pD,YEnHW,CACXtmB,QAAS,gBACTsc,QAAS,SAAUtoC,GAA8B,IAAtBmtC,EAAsB,4DAAXzrG,EAClCs+D,EAAOotC,gBAAgBmF,QAAQpF,KFkHnCqF,gBGvHW,CACXxmB,QAAS,mBACTsc,QAAS,SAAUtoC,EAAQyyC,EAAK7qG,GAC5B,IAAMyS,EAAO2lD,EAAOo/B,aAAariG,IAAI6K,GAEjCo4D,EAAO+B,UAAU2lC,OAASrtF,GAEtB2lD,EAAO+B,UAAU2wC,cAAcr4F,EAAKzS,KAAOyS,EAAK0rC,GAAG,cACnDia,EAAO+B,UAAUxN,OAAOl6C,GACxB2lD,EAAO1vD,KAAK,oBACZ0vD,EAAO1vD,KAAK,yBAGZ0vD,EAAO+B,UAAU14B,MAAMhvB,IACvB2lD,EAAO1vD,KAAK,eACZ0vD,EAAO1vD,KAAK,oBAEZjP,KAAKsxG,sBAAsB3yC,EAAQyyC,EAAKp4F,IAK5ChZ,KAAKsxG,sBAAsB3yC,EAAQyyC,EAAKp4F,IAIhDs4F,sBAAuB,SAAU3yC,EAAQyyC,EAAKp4F,GAC1C,IAAMnE,EAAQ8pD,EAAOolC,SAASC,iBAAiBoN,IAC3CzyC,EAAO+B,UAAUmmC,SAAShyF,IAC1B8pD,EAAO+B,UAAU6wC,iBAAiB18F,MAElC8pD,EAAO+B,UAAUxN,OAAOl6C,GACxB2lD,EAAO6yC,YAAY59C,QACnB+K,EAAO1vD,KAAK,wBAAwB,GACpC0vD,EAAO1vD,KAAK,+BHsFpBwiG,WIrHW,CACX9mB,QAAS,cAET4Q,YAAa,yDAQb0L,QAAS,SAAUtoC,EAAQstB,GAEvB,IAAKA,IAAsC,IAA3BttB,EAAO+B,UAAU2lC,SAEjCpa,EAAUA,GAAWttB,EAAO+B,UAAUurB,SAKlC,GAAIA,EAAQylB,aACR/yC,EAAO1vD,KAAK,iBAAkB,SAAU,CACpC4yC,IAAK,SACLoqC,UACA8Z,OAAQ9Z,EAAQ8Z,OAChB4L,WAAW,EACXC,cAAc,EACdz2G,EAAG8wF,EAAQylB,aACXG,YAAa,SAAC5wG,GAEV09D,EAAOgsB,QAAQ,uBAAwB,uBAAwBhsB,EAAO+B,UAAU+sC,Y,mWAAjB,IACxDxhB,EAAQ6lB,oBAAoB7wG,EAAK9F,IACrC,CAAC8wF,EAAQ1lF,SAGpBo4D,EAAO1vD,KAAK,8BACT,GAAIg9E,EAAQ9wF,EACfwjE,EAAO1vD,KAAK,iBAAkB,SAAU,CACpC4yC,IAAK,SACLoqC,UACA8Z,OAAQ9Z,EAAQ8Z,OAChB5qG,EAAG8wF,EAAQ8lB,kBAAkB52G,EAC7B02G,YAAa,SAAC5wG,GACV09D,EAAO1vD,KAAK,iBAAkBhO,MAGtC09D,EAAO1vD,KAAK,8BACT,GAAIg9E,EAAQ,aAAc,CAC7B,IAAI9tF,EAAMsoF,GAASxkB,WAAWgqB,EAAQ,cAEtC,GAAiB,SAAb9tF,EAAIw3B,KAAiB,CACrB,IAAIx6B,EAAI8wF,EAAQ8lB,gBAAgB9lB,EAAQ+lB,gBAAgB72G,EACpDa,EAAOb,EAAI,SAAW,OAE1BwjE,EAAO1vD,KAAK,iBAAkBjT,EAAM,CAChC61G,YAAa,SAAC5wG,GACV,IAAMgxG,EAAahmB,EAAQ2jB,WAAW3uG,EAAK9F,GAAGA,EAG9CwjE,EAAOgsB,QAAQ,uBAAwB,mBAAoBhsB,EAAO+B,UAAU+sC,YAAY,CACpF,2BAAqBwE,EAArB,SAGRhmB,UACA9wF,MAEJwjE,EAAO1vD,KAAK,6BACQ,QAAb9Q,EAAIw3B,MAGXgpC,EAAO1vD,KAAK,oBAAqB,CAC7B,YAAag9E,EAAQ,aACrB4lB,YAAa,SAAU5wG,GACnB09D,EAAOgsB,QAAQ,uBAAwB,mBAAoBhsB,EAAO+B,UAAU+sC,YAAYxsG,UJ6ChHixG,eKnHW,SAAyBvzC,GAEpCA,EAAO1vD,KAAK,aLkHZkjG,iBMvHW,CACXxnB,QAAS,mBACTsc,QAAS,WAAF,oBAAE,WAAOtoC,EAAQjP,GAAf,iBAAAp6C,EAAA,uDAEC88F,EAAWttG,KAAU3I,OAAO,CAC9BqJ,UAAWV,KAAUG,MAAMyqD,GAC3BhqD,OAAQ,QACRY,UAAW,YAKLiuC,EAASoqB,EAAOolC,SAASxvD,OACjB,IACC,IAEfoqB,EAAO1vD,KAAK,eAAgB,SAAU,CACpCvO,EAAGiiD,GAAOgB,GAAGpP,EAAO,GAAK90B,KACzByB,EAAGyhC,GAAOgB,GAAGpP,EAAO,GAAKuN,KACzBriC,MAAOkjC,GAAOgB,GANF,KAOZ7B,OAAQa,GAAOgB,GANF,KAOb,mBAAoB,cACpB3+C,IAAKotG,KApBN,2CAAF,qDAAE,INsHTC,iBACAC,cO5HW,CACX3nB,QAAU,gBACVsc,QAAS,SAAUtoC,GACfA,EAAO1vD,KAAK,iBAAkB,UP0HlCsjG,eQzHW,CACX5nB,QAAS,iBACTsc,QAAS,SAAUtoC,GACfA,EAAO78B,OAAO2sB,OAAO,mBRuHzB+jD,YSzHW,CACX7nB,QAAU,cAEV4Q,YAAa,uCAOb0L,QAAS,SAAUtoC,GAAuB,IAAf8zC,EAAe,uDAAH,EAEnC9zC,EAAOgsB,QAAQ,uBAAwB,gBAAiBhsB,EAAO+B,UAAU+sC,YAAY,CACjFxyF,UAAW,SAACjC,GAAD,OAAUuvE,GAAUmqB,aAAa15F,EAAKiC,UAA5B,kBAAkD0nC,GAAOmB,IAAI2uD,GAAWn7D,MAAM,KAA9E,UAGzBqnB,EAAOvwD,UAAS,WACZuwD,EAAO+B,UAAUyuC,WACjBxwC,EAAO1vD,KAAK,mBT0GpB0jG,mBACAC,sBACAC,qBUjIW,CACXloB,QAAU,wBACV4Q,YAAa,iBASb0L,QAAS,SAAUtoC,EAAQ32C,EAASsmF,GAGhC,IAAM39F,EAAQguD,EAAOo/B,aAAa+U,kBAAkBxE,GAEpD3vC,EAAO6vC,QAAQh5D,IAAIxtB,EAAShoB,KAAM,CAC9BquG,cAAe,CAACC,GAChBC,WAAY,CAACD,EAAW39F,KAG5BguD,EAAOvwD,UAAS,WACZuwD,EAAO+B,UAAUmuC,cAAclwC,EAAOo/B,aAAavC,SAAS,IAC5D78B,EAAO1vD,KAAK,cACZ0vD,EAAO1vD,KAAK,mBACZ0vD,EAAOvwD,UAAS,WACZuwD,EAAO6vC,QAAQG,uBAK3BC,KAAM,SAAUjwC,EAAV,GAAgD,IAAb2vC,EAAa,OAA7BD,cAA6B,MAGlD1vC,EAAOo/B,aAAa+U,kBAAkBxE,GAEtC3vC,EAAOvwD,UAAS,WACZuwD,EAAO1vD,KAAK,kBAYpB6/F,KAAM,SAAUnwC,EAAV,GAAsD,aAAlC4vC,WAAkC,GAArBD,EAAqB,KAAV39F,EAAU,KAExDguD,EAAOo/B,aAAagV,oBAAoBzE,EAAW39F,GAEnDguD,EAAOvwD,UAAS,WACZuwD,EAAO+B,UAAUmuC,cAAcP,GAC/B3vC,EAAO1vD,KAAK,mBV2EpB+jG,+BACAC,2BACAC,+BWnIW,CACXvoB,QAAS,kCACT4Q,YAAa,qCACb6S,eAAgB,6CAChBnH,QAAS,SAAUtoC,GAA0C,MAAlC32C,EAAkC,uDAAxB,YAAasmF,EAAW,uCACnDD,EAAgB,CAACC,GACjBC,EAAa,WAAC5vC,EAAO+B,UAAUC,sBAAlB,aAAC,EAAiCp6D,IAGjDsnE,GAAcwgC,EAAeE,KAIjC5vC,EAAO+B,UAAUmuC,cAAcP,GAE/B3vC,EAAO6vC,QAAQh5D,IAAIxtB,EAAShoB,KAAM,CAC9BquG,gBACAE,eAGJvuG,KAAK0uG,WAAW/vC,KAGpB+vC,WAvBW,SAuBC/vC,GACRA,EAAOvwD,UAAS,WACZuwD,EAAO1vD,KAAK,cACZ0vD,EAAO1vD,KAAK,0BAIpB2/F,KAAO,SAAUjwC,EAAV,GAAkD,IAAd2vC,EAAc,OAA9BD,cAA8B,MACrD1vC,EAAO+B,UAAUmuC,cAAcP,GAE/BtuG,KAAK0uG,WAAW/vC,IAEpBmwC,KAAM,SAAUnwC,EAAV,GAA+C,IAAd2vC,EAAc,OAA3BC,WAA2B,MACjD5vC,EAAO+B,UAAUmuC,cAAcP,GAE/BtuG,KAAK0uG,WAAW/vC,KX8FpBw0C,YYrIW,CACXxoB,QAAU,eAMVsc,QAAS,SAAUtoC,GACfA,EAAO6vC,QAAQI,SZ8HnBwE,YaxIW,CACXzoB,QAAU,eACVsc,QAAS,SAAUtoC,GACfA,EAAO6vC,QAAQM,SbuInBuE,aACAC,qBACAC,gBACAC,yBAGA3W,aACA4W,eACAC,gBlBlJW,CACX/oB,QAAS,kBACTsc,QAAS,SAAUtoC,EAAQg1C,GACvBh1C,EAAOi1C,UAAUD,GACjBh1C,EAAO1vD,KAAK,yBkB+IhB4kG,gBc7IW,SAA0Bl1C,GACrCA,EAAO1vD,KAAK,wBACZ0vD,EAAO1vD,KAAK,oBACZ0vD,EAAO1vD,KAAK,oBACZ0vD,EAAO1vD,KAAK,6BACZ0vD,EAAO1vD,KAAK,8BACZ0vD,EAAO1vD,KAAK,oBACZ0vD,EAAOvwD,UAAS,WACZuwD,EAAO1vD,KAAK,wBAAwB,OdsIxC6kG,ee7IW,SAAyBn1C,GACpCA,EAAOvwD,UAAS,WACZuwD,EAAO1vD,KAAK,4Bf4IhB8kG,sBACAC,6BACAC,cgBvJW,CACXtpB,QAAU,iBACVsc,QAAS,SAAUtoC,EAAQstB,GACvBttB,EAAO1vD,KAAK,mBhBqJhBilG,mBACAC,iBACAC,oBACAC,mBACAC,gBACAC,eACAC,qBACAC,mBACAC,mBiB9JW,CACX/pB,QAAU,wBACVsc,QAAS,SAAUtoC,GAGf,IAAMstB,EAAUttB,EAAO+B,UAAUurB,QAE7BA,GACAA,EAAQ0oB,aAGZ3N,GAAyBroC,KjBoJ7Bi2C,kBkB/JW,CACXjqB,QAAU,uBACVsc,QAAS,SAAUtoC,GACf,IAAMstB,EAAUttB,EAAO+B,UAAUurB,QAE7BA,GACAA,EAAQ4oB,YAGZ7N,GAAyBroC,KlBuJ7Bm2C,cmBlKW,CACXnqB,QAAS,iBACTsc,QAAS,SAAUtoC,EAAQtxD,GACvBsxD,EAAOo2C,gBAAgBv/D,IAAInoC,EAAErK,KAAMqK,EAAE2nG,SACrCr2C,EAAOs2C,UAAUhO,QAAQ55F,EAAG,anB+JhC6nG,YoBnKW,CACXvqB,QAAS,eACTsc,QAAS,SAAUtoC,EAAQtxD,GACvBsxD,EAAOo2C,gBAAgBhtD,OAAO16C,EAAEjR,IAAKiR,EAAE2nG,SACvCr2C,EAAOs2C,UAAUhO,QAAQ55F,EAAG,WpBgKhC8nG,WqBlKW,CACXxqB,QAAU,cACVsc,QAAS,SAAUtoC,GAEf,IAAMy2C,EAAWz2C,EAAOolC,SAASpuD,MAEjCgpB,EAAOolC,SAASsR,SAAS12C,EAAOolC,SAASpuD,MAAQ,KAEjDgpB,EAAO1vD,KAAK,iBAAkB0vD,EAAOolC,SAASpuD,MAAOy/D,KrB2JzDE,UsBnKW,CACX3qB,QAAU,aACVsc,QAAS,SAAUtoC,GAEf,IAAMy2C,EAAWz2C,EAAOolC,SAASpuD,MAEjCgpB,EAAOolC,SAASsR,SAAS12C,EAAOolC,SAASpuD,MAAQ,KAEjDgpB,EAAO1vD,KAAK,iBAAkB0vD,EAAOolC,SAASpuD,MAAOy/D,KtB4JzDG,aACAC,2BACAC,8BACAC,mBACAC,kBuB1KW,CACXhrB,QAAS,oBACTsc,QAAS,SAAUtoC,GACXA,EAAOsG,OACPtG,EAAOsG,MAAM7sC,SvBuKrBw9E,oBACAC,oBACAC,qBACAC,oBACAC,oBACAC,wBACAtU,uBACAuU,uBACAjL,kBACAkL,sBACApL,0BACAD,0BACAsL,8BACAC,qBACAC,sBwBzLW,CACX3rB,QAAS,wBACTsc,QAAS,SAAUtoC,GACf,IAAI/7D,EAAS+7D,EAAOigC,SAAS/mF,MAAM,GAC/BjV,GACA+7D,EAAO1vD,KAAK,qBAAsBrM,KxBqL1C4+F,uBACA+U,UyB3LW,CACX5rB,QAAS,YACTsc,QAAS,SAAUtoC,EAAQ63C,GACvB73C,EAAO43C,UAAUC,GACjB73C,EAAO1vD,KAAK,oBzBwLhBwnG,YACAC,S0B7LW,CACX/rB,QAAS,WACTsc,QAAS,SAAUtoC,GAEfA,EAAOg4C,SAAS,QAASh4C,EAAOo/B,aAAaz4C,Y1B0LjDsxD,WACAC,eACAC,eACAC,gBACAC,iBACAC,wBACAC,wBACAC,yBACAC,gBACAC,qBACAC,qBACAC,eACAC,eACAC,e2B3MW,CACX9sB,QAAS,iBACTsc,QAAS,SAAUtoC,EAAQ9mD,GACvBA,EAAMlE,SAAQ,SAAAqF,GACV,OAAOA,EAAK2c,MACZ,IAAK,gBACL,IAAK,YACL,IAAK,YACL,IAAK,YACL,IAAK,aACDgpC,EAAO1vD,KAAK,cAAe+J,GAC3B,MACJ,IAAK,aACL,IAAK,YACD2lD,EAAO1vD,KAAK,UAAW,CACnB2sD,QAAS5iD,EAAK/X,OAGlB,MACJ,IAAK,gBACD09D,EAAO1vD,KAAK,gBAAiB+J,S3BwLzC0+F,iBACAC,Y4B3MW,CACXhtB,QAAS,cAQTsc,QAAS,SAAUtoC,EAAQhpB,GACvB,IAAMy/D,EAAWz2C,EAAOolC,SAASpuD,MACjCgpB,EAAOolC,SAASsR,SAAS1/D,GACzBgpB,EAAO1vD,KAAK,iBAAkB0mC,EAAOy/D,K5BgMzCwC,e6B9MW,CACXjtB,QAAS,iBACTsc,QAAS,SAAUtoC,GACfA,EAAO1vD,KAAK,sB7B6MhB4oG,kBACAC,c/EjNW,CACXntB,QAAU,iBACVt8E,MAAO,OACPktF,YAAc,OACd0L,QAAS,SAAUtoC,EAAQxgE,GACvBwgE,EAAO+B,UAAU32B,S+E6MrBguE,Y8BzMW,SAAsBp5C,GAAiC,IAAzBxgE,EAAyB,uDAAnB,GAAIo2C,EAAe,uDAAN,KAExDyT,EAAU2W,EAAO+B,UAAUC,eAC1B3Y,IACDA,EAAU2W,EAAOnpB,IAAImpB,EAAOi9B,YAAY,CAAEl1C,SAAU,aAEpDiY,EAAO+B,UAAUmuC,cAAc7mD,IAGnC,IAAI0uC,EAAW1uC,EAAQ+D,YAAY4S,EAAOi9B,YAAP,IAC/Bl1C,SAAU,WACVhmD,EAAGiiD,GAAOgB,GAAG,KACbziC,EAAGyhC,GAAOgB,GAAG,KACblkC,MAAOkjC,GAAOgB,GAAG,KACjB7B,OAAQa,GAAOgB,GAAG,MACfxlD,KAGHo2C,IACAmiD,EAASn/D,MAAM,CACX72B,EAAGiiD,GAAOgB,GAAG,GACbziC,EAAGyhC,GAAOgB,GAAG,KAEjB+yC,EAASshB,aAAazjE,IAG1BoqB,EAAO+B,UAAUxN,OAAOwjC,GAExBsQ,GAAyBroC,I9B8KzBs5C,mB+B1MW,SAA6Bt5C,GAAiC,IAAzBxgE,EAAyB,uDAAnB,GAAIo2C,EAAe,uDAAN,KAE/DyT,EAAU2W,EAAO+B,UAAUC,eAG3Bu3C,EAAkBlwD,EAAQ+D,YAAY4S,EAAOi9B,YAAP,IACtCl7F,EAAGiiD,GAAOgB,GAAG,KACbziC,EAAGyhC,GAAOgB,GAAG,KACblkC,MAAOkjC,GAAOgB,GAAG,KACjB7B,OAAQa,GAAOgB,GAAG,MACfxlD,KAGHo2C,IACA2jE,EAAgB3gF,MAAM,CAClB72B,EAAGiiD,GAAOgB,GAAG,GACbziC,EAAGyhC,GAAOgB,GAAG,KAEjBu0D,EAAgBF,aAAazjE,IAGjCoqB,EAAO+B,UAAUxN,OAAOglD,GAExBlR,GAAyBroC,I/BoLzBikC,SgCpNW,SAAmBjkC,GAA8C,IAAtCv/C,EAAsC,uDAA/B,GAAImoF,EAA2B,4DAAXlnG,EACjEs+D,EAAO1vD,KAAK,eAAgB,QAASmQ,GAAM,EAAMmoF,IhCoNjDzE,SiCrNW,SAAmBnkC,GAA8C,IAAtCv/C,EAAsC,uDAA/B,GAAImoF,EAA2B,4DAAXlnG,EACjEs+D,EAAO1vD,KAAK,eAAgB,QAASmQ,GAAM,EAAMmoF,IjCqNjD4Q,SkCpNW,SAAmBx5C,EAAQxX,GAAyC,IAAlCioD,IAAkC,yDAAf7H,EAAe,uCAE1EA,IACDA,EAAgB5oC,EAAO+B,UAAUurB,SAAWttB,EAAO+B,UAAUC,gBAG7D4mC,IAEIA,EAAczK,MAAM,aAAeyK,EAAc6Q,sBACjD7Q,EAAgBA,EAAcphD,QAGlCohD,EAAcx7C,YAAY5E,GAEtBioD,GACAzwC,EAAO+B,UAAUxN,OAAO/L,GAG5B6/C,GAAyBroC,KlCmM7B05C,anBjNW,SAAf,sCmBkNIC,WmCtNW,SAAqB35C,GAAkB,IAAVxgE,EAAU,uDAAJ,GAC1C6pD,EAAU2W,EAAOi9B,YAAP,IACVl1C,SAAU,WACPvoD,IAGPwgE,EAAO+B,UAAUmuC,cAAc7mD,GAC/Bg/C,GAAyBroC,InCgNzB45C,YoCvNW,SAAsB55C,EAAQqxB,GAAyB,IAAb5wE,EAAa,uDAAN,KACxD6sE,EAAUttB,EAAO+B,UAAUurB,QAK/B,GAAIA,EACA,GAAIA,EAAQvnC,GAAG,WAAY,YAAa,gBAAiB,CAErD,IAAIvpD,EAAI60F,EAER,GAAI5wE,GACIs+D,EAAS,IAAIqS,GAAWC,IACrBr6C,MAAMs2C,EAAQxsE,MAAM3jB,MAAMsjB,EAAKK,MAAOwsE,EAAQnqC,OAAOhmD,MAAMsjB,EAAK0iC,QAEvE3mD,EAAIuiF,EAAOviF,EAGfwjE,EAAOgsB,QAAQ,uBAAwB,mBAAoBhsB,EAAO+B,UAAU+sC,YAAY,CAAEtyG,KAAK8wF,EAAQ1lF,UAEpG,GAAI0lF,EAAQ,aAAaxnC,SAAS,QAAS,CAC9C,IAGQi5B,EAHJviF,EAAI60F,EAER,GAAI5wE,GACIs+D,EAAS,IAAIqS,GAAWC,IACrBr6C,MAAMs2C,EAAQxsE,MAAM3jB,MAAMsjB,EAAKK,MAAOwsE,EAAQnqC,OAAOhmD,MAAMsjB,EAAK0iC,QAEvE3mD,EAAIuiF,EAAOviF,EAIfwjE,EAAOgsB,QAAQ,uBAAwB,mBAAoBhsB,EAAO+B,UAAU+sC,YAAY,CAAE,2BAAqBtyG,EAArB,MAA6B8wF,EAAQ1lF,OpCyLvIiyG,aqC3MW,SAAuB75C,EAAQjY,EAAUvoD,GAAmD,IAA9CixG,IAA8C,yDAA3B7H,EAA2B,4DAAXlnG,EAC3E,iBAAbqmD,EACAvoD,EAAM,SACCA,GADJ,IAEC,YAAawkD,GAAO19C,MAAM9G,EAAI2jD,QAC9B22D,WAAY,OACZt9G,EAAG40F,GAAW2oB,SAAS,EAAGv6G,EAAI2jD,OAAOhmD,MAAOqC,EAAIshB,MAAM3jB,MAAOqC,EAAI2jD,OAAOhmD,OAAOX,IAE/D,eAAburD,GACPA,EAAW,WACXvoD,EAAM,SACCA,GADJ,IAEC,wBAAoBkC,EACpB4zD,KAAM,UACN94D,EAAG40F,GAAW4oB,WAAW,EAAG,EAAGx6G,EAAIshB,MAAM3jB,MAAOqC,EAAI2jD,OAAOhmD,OAAOX,KAGlD,aAAburD,GACPA,EAAW,WACXvoD,EAAM,SACCA,GADJ,IAEC,wBAAoBkC,EACpB4zD,KAAM,UACN94D,EAAG40F,GAAW6oB,SAAS,EAAG,EAAGz6G,EAAIshB,MAAM3jB,MAAOqC,EAAI2jD,OAAOhmD,OAAOX,KAEhD,SAAburD,EACPvoD,EAAM,IACFshB,MAAOkjC,GAAOgB,GAAG,KACjB7B,OAAQa,GAAOgB,GAAG,KACfxlD,GAEa,aAAbuoD,IACPvoD,EAAM,SACCA,GADJ,IAEC,mBAAoB,WAI5B,IAAM06G,EAAc,IAAEnyD,YAAavoD,GAEnCwgE,EAAOgsB,QAAQ,WAAf,sBAA0CjkC,GAAYiY,EAAOi9B,YAAYid,GAAczJ,EAAY7H,GAEnG5oC,EAAOwpC,WAAWC,KrCkKlB0Q,esCrNW,SAAyBn6C,EAAQstB,GAE5CttB,EAAO1vD,KAAK,4BAA6Bg9E,GAGzCttB,EAAO1vD,KAAK,0BAA2B0vD,EAAO+B,UAAUq4C,YAAY9sB,KtCiNpE+sB,euCtNW,SAAyBr6C,EAAQstB,GAC5CttB,EAAO1vD,KAAK,mBAAoBg9E,GAAS,IvCsNzCgtB,ewC1NW,SAAyBt6C,GAAmB,IAAXtkD,EAAW,uDAAJ,GAC/C4xE,EAAUttB,EAAO+B,UAAUurB,QAC/B,GAAIA,GAAWA,EAAQvnC,GAAG,YAAa,CAEnC,IAAKrqC,EAAKhW,OAAQ,OAElB,MAAsBgW,EAAK9W,MAAM,KAAjC,YAAKkc,EAAL,KAAYqiC,EAAZ,KAEAriC,EAAQkjC,GAAOgB,IAAIlkC,GACnBqiC,EAASa,GAAOgB,IAAI7B,GAEpBmqC,EAAQ10D,MAAM,CAAE9X,QAAOqiC,WACvB6c,EAAO+B,UAAUxN,OAAO+4B,GAExB+a,GAAyBroC,KxC6M7Bu6C,wBACAC,cACAC,cACAC,YACAC,eAjHJ,oBAkHIH,IAlHJ,iBAmHII,IAnHJ,mBAoHIC,IApHJ,mBAqHIC,IArHJ,oBAsHIC,IAtHJ,wBAuHIC,IAvHJ,wByC/Ge,CACXhvB,QAAS,iBACT4Q,YAAa,6BAOb0L,QAAS,SAAUtoC,EAAQgxC,GAGvBhxC,EAAOgsB,QAAQ,uBAAwB,mBAAoBhsB,EAAO+B,UAAU+sC,YAAY,CACpF,2BAAqBkC,EAAWx0G,EAAhC,WzCkGZ,I0C9Gay+G,GAAb,WACI,WAAYj7C,GAAQ,WAMhB,OANgB,YAChB3+D,KAAKwgE,QAAU7B,EACf3+D,KAAK8+D,aACL9+D,KAAK65G,cAAgB,GACrB75G,KAAK85G,eAEE,IAAI30D,MAAMnlD,KAAM,CACnBtE,IAAK,SAAC2B,EAAQjB,GACV,IAAIgpD,EAAe/nD,EAAOjB,GAC1B,OAAIqsC,GAAW2c,GAEN,WAAa,2BAATnlD,EAAS,yBAATA,EAAS,gBAClB,OAAOmlD,EAAajlD,MAAM9C,EAAQ4C,IAG3B,EAAK8+D,iBAAiB3iE,MAhBjD,wCAuBI,WAAe,WACXb,OAAOuI,KAAKi2G,IAAUpmG,SAAQ,SAAAg3E,GACtBliD,GAAWsxE,GAASpvB,IACpB,EAAKqvB,gBAAgBrvB,EAASovB,GAASpvB,IAEvC,EAAKqvB,gBAAgBD,GAASpvB,SA5B9C,6BAwCI,SAAgBA,EAASsvB,GAAiB,WAEtC,GAAIj6G,KAAK65G,cAAclvB,GACnB,MAAM,IAAI5pF,MAAJ,kBAAqB4pF,EAArB,2BAGV,GAAyB,IAArBzqF,UAAU3C,OAAc,CACxB,IAAMmP,EAAW,WAAa,6BAATzM,EAAS,yBAATA,EAAS,gBAC1B,IAAMiF,EAAS+0G,EAAgBj/G,KAAhB,MAAAi/G,EAAe,CAAM,EAAM,EAAKz5C,SAAjB,OAA6BvgE,IAG3D,OAFA,IAAKugE,SAAQrmD,MAAb,SAAmB,kBAAmB,GAAtC,OAA+Cla,IAExCiF,GAOX,OALAwH,EAAS4xC,OAASqsC,EAGlB3qF,KAAK65G,cAAclvB,GAAWj+E,EAEvB1M,KAAKwgE,QAAQ7xD,GAAGg8E,EAASj+E,EAAU1M,KAAM,GAE7C,GAAIuoC,GAASoiD,GAAU,CAC1B,IAAMj+E,EAAW,WAAa,+BAATzM,EAAS,yBAATA,EAAS,gBAC1B,IAAMiF,GAAS,EAAAylF,EAAQsc,SAAQjsG,KAAhB,SAAqB2vF,EAAS,EAAKnqB,SAAnC,OAA+CvgE,IAG9D,OAFA,IAAKugE,SAAQrmD,MAAb,SAAmB,kBAAmBwwE,GAAtC,OAAkD1qF,IAE3CiF,GAOX,OALAwH,EAAS4xC,OAASqsC,EAAQA,QAG1B3qF,KAAK65G,cAAclvB,EAAQA,SAAWj+E,EAE/B1M,KAAKwgE,QAAQ7xD,GAAGg8E,EAAQA,QAASj+E,EAAU1M,KAAM2qF,EAAQtjD,UAAY,MAxExF,yBA6EI,SAAYsjD,GACR,OAAO3qF,KAAK65G,cAAclvB,KA9ElC,8BAiFI,SAAiBA,GACb,IAAMj+E,EAAW1M,KAAKk6G,YAAYvvB,GAElC,GAAIj+E,EACA,OAAO,sCAAIzM,EAAJ,yBAAIA,EAAJ,uBAAa,IAAIJ,SAAQ,SAACR,GAC7BA,EAAQqN,EAAQ,WAAR,EAAYzM,YAtFpC,KCHIk6G,GAAS,CACT/+G,UAAMiF,GAGH,SAAS+5G,KAQZ,YAPoB/5G,IAAhB85G,GAAO/+G,QACqC,GAAxC+rG,UAAUkT,WAAWz4F,QAAQ,OAAcu4F,GAAO/+G,KAAO,OACZ,GAAxC+rG,UAAUkT,WAAWz4F,QAAQ,OAAcu4F,GAAO/+G,KAAO,OACjB,GAAxC+rG,UAAUkT,WAAWz4F,QAAQ,OAAcu4F,GAAO/+G,KAAO,QAC7D++G,GAAO/+G,KAAO,IAGhB++G,GAAO/+G,KCZH,ICoDA,ICpDA,CACXk/G,SAAU,UACVl+G,IAAK,QACLm+G,IAAK,SACL5vB,QAAS,eACT4Q,YAAa,qBACbif,KAAM,cCNK,CACXF,SAAU,UACVl+G,IAAK,cACLm+G,IAAK,eACL5vB,QAAS,eACT4Q,YAAa,qBACbif,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,IACLuuF,QAAS,iBACT4Q,YAAa,mBACbif,KAAM,cCLK,CACXF,SAAU,QACVl+G,IAAK,iBACLuuF,QAAS,cACT4Q,YAAa,iBACbt7F,KAAM,EAAE,GACRu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,kBACLuuF,QAAS,cACT4Q,YAAa,kBACbt7F,KAAM,CAAC,GACPu6G,KAAM,cCNK,CACXF,SAAU,OACVl+G,IAAK,IACLuuF,QAAS,eACT1qF,KAAM,SACNs7F,YAAa,aCLF,CACX+e,SAAU,OACVl+G,IAAK,IACLuuF,QAAS,eACT1qF,KAAM,CAAC,YACPs7F,YAAa,eACbif,KAAM,cCNK,CACXF,SAAU,OACVl+G,IAAK,IACLuuF,QAAS,eACT1qF,KAAM,CAAC,QACPs7F,YAAa,kBCLF,CACX+e,SAAU,OACVl+G,IAAK,IACLuuF,QAAS,eACT1qF,KAAM,CAAC,QACPs7F,YAAa,kBCLF,CACX+e,SAAU,OACVl+G,IAAK,IACLuuF,QAAS,eACT1qF,KAAM,CAAC,UACPs7F,YAAa,oBCLF,CACX+e,SAAU,OACVl+G,IAAK,IACLuuF,QAAS,eACT1qF,KAAM,CAAC,UACPs7F,YAAa,oBCLF,CACX+e,SAAU,OACVl+G,IAAK,IACLuuF,QAAS,eACT1qF,KAAM,CAAC,QACPs7F,YAAa,kBCLF,CACX+e,SAAU,OACVl+G,IAAK,IACLuuF,QAAS,eACT1qF,KAAM,CAAC,QACPs7F,YAAa,sBCLF,CACX+e,SAAU,OACVl+G,IAAK,IACLuuF,QAAS,eACT1qF,KAAM,CAAC,SACPs7F,YAAa,iBCLF,CACX+e,SAAU,QACVl+G,IAAK,QACLm+G,IAAK,SACL5vB,QAAS,aACT4Q,YAAa,0BACbif,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,cACLm+G,IAAK,eACL5vB,QAAS,eACT4Q,YAAa,kCACbif,KAAM,cCNK,CACXF,SAAU,OACVl+G,IAAK,YACLuuF,QAAS,oBACT4Q,YAAa,mBACbt7F,KAAM,CAAC,CAAE4lC,GAAI,IACb20E,KAAM,kBCNK,CACXF,SAAU,OACVl+G,IAAK,UACLuuF,QAAS,kBACT4Q,YAAa,iBACbt7F,KAAM,CAAC,CAAE4lC,GAAI,IACb20E,KAAM,kBCNK,CACXF,SAAU,OACVl+G,IAAK,aACLuuF,QAAS,qBACT4Q,YAAa,oBACbt7F,KAAM,CAAC,CAAE0lC,GAAI,IACb60E,KAAM,kBCNK,CACXF,SAAU,OACVl+G,IAAK,YACLuuF,QAAS,oBACT4Q,YAAa,mBACbt7F,KAAM,CAAC,CAAE0lC,GAAI,IACb60E,KAAM,kBCNK,CACXF,SAAU,OACVl+G,IAAK,kBACLuuF,QAAS,oBACT4Q,YAAa,oBACbt7F,KAAM,CAAC,CAAE4lC,GAAI,KACb20E,KAAM,kBCNK,CACXF,SAAU,OACVl+G,IAAK,gBACLuuF,QAAS,kBACT4Q,YAAa,kBACbt7F,KAAM,CAAC,CAAE4lC,GAAI,KACb20E,KAAM,kBCNK,CACXF,SAAU,OACVl+G,IAAK,kBACLuuF,QAAS,oBACT4Q,YAAa,oBACbt7F,KAAM,CAAC,CAAE0lC,GAAI,KACb60E,KAAM,kBCNK,CACXF,SAAU,OACVl+G,IAAK,mBACLuuF,QAAS,qBACT4Q,YAAa,qBACbt7F,KAAM,CAAC,CAAE0lC,GAAI,KACb60E,KAAM,kBCNK,CACXF,SAAU,OACVl+G,IAAK,gBACLuuF,QAAS,oBACT4Q,YAAa,mBACbt7F,KAAM,CAAC,CAAE4lC,GAAI,IACb20E,KAAM,kBCNK,CACXF,SAAU,OACVl+G,IAAK,cACLuuF,QAAS,kBACT4Q,YAAa,kBACbt7F,KAAM,CAAC,CAAE4lC,GAAI,IACb20E,KAAM,kBCNK,CACXF,SAAU,OACVl+G,IAAK,gBACLuuF,QAAS,oBACT4Q,YAAa,mBACbt7F,KAAM,CAAC,CAAE0lC,GAAI,IACb60E,KAAM,kBCNK,CACXF,SAAU,OACVl+G,IAAK,iBACLuuF,QAAS,qBACT4Q,YAAa,oBACbt7F,KAAM,CAAC,CAAE0lC,GAAI,IACb60E,KAAM,kBCNK,CACXF,SAAU,OACVl+G,IAAK,YACLuuF,QAAS,iBACT4Q,YAAa,0BACbif,KAAM,kBCLK,CACXF,SAAU,QACVl+G,IAAK,YACLuuF,QAAS,YACT4Q,YAAa,mBACbt7F,KAAM,EAAE,EAAG,GACXu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,aACLuuF,QAAS,YACT4Q,YAAa,oBACbt7F,KAAM,CAAC,EAAG,GACVu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,YACLuuF,QAAS,YACT4Q,YAAa,mBACbt7F,KAAM,CAAC,EAAG,GACVu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,UACLuuF,QAAS,YACT4Q,YAAa,iBACbt7F,KAAM,CAAC,GAAI,GACXu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,kBACLuuF,QAAS,YACT4Q,YAAa,oBACbt7F,KAAM,CAAC,EAAG,IACVu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,mBACLuuF,QAAS,YACT4Q,YAAa,qBACbt7F,KAAM,CAAC,GAAI,GACXu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,gBACLuuF,QAAS,YACT4Q,YAAa,kBACbt7F,KAAM,CAAC,GAAI,IACXu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,kBACLuuF,QAAS,YACT4Q,YAAa,oBACbt7F,KAAM,EAAE,GAAI,GACZu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,gBACLuuF,QAAS,YACT4Q,YAAa,mBACbt7F,KAAM,EAAE,EAAG,GACXu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,gBACLuuF,QAAS,YACT4Q,YAAa,mBACbt7F,KAAM,CAAC,EAAG,GACVu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,iBACLuuF,QAAS,YACT4Q,YAAa,oBACbt7F,KAAM,CAAC,EAAG,GACVu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,cACLuuF,QAAS,YACT4Q,YAAa,iBACbt7F,KAAM,CAAC,GAAI,GACXu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,SACLuuF,QAAS,qBACT4Q,YAAa,sBACbif,KAAM,cCLK,CACXF,SAAU,QACVl+G,IAAK,SACLuuF,QAAS,uBACT4Q,YAAa,sBACbif,KAAM,cCLK,CACXF,SAAU,QACVl+G,IAAK,YACLuuF,QAAS,sBACT4Q,YAAa,wBACbt7F,KAAM,CAAC,yBACPu6G,KAAM,cCNK,CACXF,SAAU,QACVl+G,IAAK,SACLuuF,QAAS,sBACT4Q,YAAa,wBACbt7F,KAAM,CAAC,yBACPu6G,KAAM,cCNK,CACXF,SAAU,OACVl+G,IAAK,QACLuuF,QAAS,cACT4Q,YAAa,cACbif,KAAM,cCLK,CACXF,SAAU,OACVl+G,IAAK,QACLuuF,QAAS,aACT4Q,YAAa,aACbif,KAAM,chDLK,CACXF,SAAU,OACVl+G,IAAK,QACLuuF,QAAS,iBACT4Q,YAAa,eACbif,KAAM,ciDLK,CACXF,SAAU,OACVl+G,IAAK,QACLm+G,IAAK,SACL5vB,QAAS,kBACT4Q,YAAa,yBACbif,KAAM,eCJGC,GAAW,CACpB,UAAgB,EAChB,IAAgB,EAChB,MAAgB,GAChB,OAAgB,GAChB,MAAgB,GAChB,OAAgB,GAChB,SAAgB,GAChB,IAAgB,GAChB,KAAgB,GAChB,KAAgB,GAChB,GAAgB,GAChB,MAAgB,GAChB,KAAgB,GAChB,OAAgB,GAChB,OAAgB,GAEhB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAEhB,UAAgB,GAChB,OAAgB,GAEhB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAChB,EAAgB,GAEhB,SAAgB,IAChB,IAAgB,IAChB,SAAgB,IAChB,OAAgB,IAEhB,GAAgB,IAChB,GAAgB,IAChB,GAAgB,IAChB,GAAgB,IAChB,GAAgB,IAChB,GAAgB,IAChB,GAAgB,IAChB,GAAgB,IAChB,GAAgB,IAChB,IAAgB,IAChB,IAAgB,IAChB,IAAgB,IAChB,IAAgB,IAChB,IAAgB,IAChB,IAAgB,IAChB,IAAgB,IAChB,IAAgB,IAChB,IAAgB,IAChB,IAAgB,IAEhB,MAAgB,IAChB,IAAgB,IAChB,OAAgB,IAChB,IAAgB,IAChB,MAAgB,IAChB,IAAgB,IAChB,UAAgB,IAChB,IAAgB,IAChB,YAAgB,IAChB,IAAgB,IAChB,UAAgB,IAChB,KAAgB,IAChB,aAAgB,IAChB,IAAgB,IAChB,MAAgB,IAChB,IAAgB,IAChB,MAAgB,K,qkBC/FpB,SAASC,KAAmB,2BAANz6G,EAAM,yBAANA,EAAM,gBACxB,OAAOA,EAAKmC,OAAOomD,SAAStmD,KAAK,KAGrC,SAASy4G,GAAiB33G,GACtB,OAAOy3G,GAAS,UAAGz3G,GAAOqmC,gBAAkBrmC,EAGzC,IAAM43G,GAAb,WACI,WAAaj8C,GAAQ,YACjB3+D,KAAKwgE,QAAU7B,EAEf3+D,KAAK66G,gBAJb,+CAOI,SAAqB73G,GACjB,OAAO23G,GAAgB33G,KAR/B,2BAWI,WAAgB,WACZhD,KAAK0K,KAAO,GACZ1K,KAAK+5G,SAAW,GAChB9E,GAAUthG,SAAQ,SAAAmnG,GACd,EAAKC,iBAAiBD,MAG1B96G,KAAK+D,SAlBb,8BAqBI,SAAkB+2G,GAEd,IAAME,EAASZ,KAEfp6G,KAAK0K,KAAK1I,KAAV,OACI5F,IAAK,GACLuuF,QAAS,GACT1qF,KAAM,GACNg7G,UAAW,WACRH,GALP,IAMII,eAAgBl7G,KAAKm7G,cAAcL,EAASE,IAAWF,EAAS1+G,KAChEg/G,aAAcp7G,KAAKq7G,iBAAiBP,EAASnwB,QAASmwB,EAASN,OAAQ,MAG3Ex6G,KAAK+D,SAnCb,8BAuCI,SAAiB4mF,EAAS6vB,GAEtB,GAAInyE,GAAUmyE,IAASA,EACnB,OAAO,kBAAM,GAGjB,IAAM77C,EAAS3+D,KAAKwgE,QACd86C,EAAWd,EAAKj3G,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAC9C,OAAO,WACH,OAAOi3G,EAASviG,MAAK,SAAAowB,GAAE,OAAIw1B,EAAOotC,gBAAgBwP,cAAcpyE,SAhD5E,kBAoDI,WAAO,WACHnpC,KAAK+5G,SAAW,GAChB/5G,KAAK0K,KAAKiJ,SAAQ,SAAAw1B,IAC0C,IAApDjoC,MAAMC,QAAQ,EAAK44G,SAAS5wE,EAAG+xE,mBAC/B,EAAKnB,SAAS5wE,EAAG+xE,gBAAkB,IAGvC,EAAKnB,SAAS5wE,EAAG+xE,gBAAgBl5G,KAAKmnC,QA3DlD,2BA+DI,SAAe/sC,GACX,IAAI2C,EAAM3C,EAAIu9B,cAAcp2B,MAAM,KAAKqQ,KAAI,SAAAu1B,GAAE,OAAIA,EAAG9kC,UAAQjC,OAAOomD,SAE/DgzD,GAAQ,EACR7J,GAAY,EACZ8J,GAAU,EACVC,GAAS,EACTC,EAAW,GASf,OARA58G,EAAI4U,SAAQ,SAAAvX,GACJA,EAAIqoD,SAAS,OAAQ+2D,GAAQ,EACxBp/G,EAAIqoD,SAAS,QAASktD,GAAY,EAClCv1G,EAAIqoD,SAAS,SAAUg3D,GAAU,EACjCr/G,EAAIqoD,SAAS,QAAUroD,EAAIqoD,SAAS,QAAUroD,EAAIqoD,SAAS,QAASi3D,GAAS,EACjFC,EAAS35G,KAAK5F,MAGhBs+G,GACHc,EAAc,MAAY,GAC1B7J,EAAc,OAAY,GAC1B8J,EAAc,QAAY,GAC1BC,EAAc,OAAY,GAC1Bf,GAAgBgB,EAASz5G,KAAK,QApF1C,2BAwFI,SAAcmL,GACV,OAAOqtG,GACHrtG,EAAE+wD,OAAY,MAAY,GAC1B/wD,EAAEgxD,QAAY,OAAY,GAC1BhxD,EAAE04B,SAAY,QAAY,GAC1B14B,EAAEixD,QAAY,OAAY,GAC1BjxD,EAAEjR,IAAIu9B,iBA9FlB,4BAkGI,SAAetsB,GACX,OAAOqtG,GACHrtG,EAAE+wD,OAAY,MAAY,GAC1B/wD,EAAEgxD,QAAY,OAAY,GAC1BhxD,EAAE04B,SAAY,QAAY,GAC1B14B,EAAEixD,QAAY,OAAY,GAC1BjxD,EAAErK,KAAK22B,iBAxGnB,+BA4GI,SAAkBtsB,GACd,OAAOqtG,GACHrtG,EAAE+wD,OAAY,MAAY,GAC1B/wD,EAAEgxD,QAAY,OAAY,GAC1BhxD,EAAE04B,SAAY,QAAY,GAC1B14B,EAAEixD,QAAY,OAAY,GAC1BjxD,EAAE2nG,WAlHd,2BAsHI,SAAe4G,EAAeC,EAAWC,GACrC,OAAO97G,KAAK+5G,SAAS6B,IAAkB57G,KAAK+5G,SAAS8B,IAAc77G,KAAK+5G,SAAS+B,KAvHzF,uBA0HI,SAAUnxB,GACN,OAAOA,EAAQywB,iBA3HvB,qBA8HI,SAAS/tG,GAA0B,WAAvB4tG,EAAuB,uDAAX,UAChBlB,EAAW/5G,KAAK+7G,cAChB/7G,KAAKg8G,kBAAkB3uG,GACvBrN,KAAKi8G,cAAc5uG,GACnBrN,KAAKk8G,eAAe7uG,IAGxB,GAAI0sG,EAAU,CACV,IAAMoC,EAAmBpC,EAAS33G,QAAO,SAAA+mC,GAAE,OAAIA,EAAG8xE,YAAcA,KAC9B74G,QAAO,SAAA+mC,GAAE,OAAI,EAAKizE,UAAUjzE,MAE1DgzE,EAAiB5+G,QACjB8P,EAAEmxD,iBAEN29C,EAAiBxoG,SAAQ,SAAAw1B,GAAM,OAC3B,IAAKq3B,SAAQvxD,KAAb,SAAkBk6B,EAAGwhD,SAArB,YAAiCxhD,EAAGlpC,gBA7IpD,KCdao8G,GAAb,WAEI,WAAa19C,GAAQ,YACjB3+D,KAAK2+D,OAASA,EACd3+D,KAAKs8G,WAAa,GAClBt8G,KAAK8hC,OAAS,IAAIyqB,IAL1B,gCAUI,WAAQ,WACEpuD,EAAM6B,KAAK2+D,OAAOg9B,SAAS,WAAa,GAE9CpgG,OAAOuI,KAAK3F,GAAKwV,SAAQ,SAAAvX,GACrB,EAAK0lC,OAAOpnB,IAAIte,EAAK+B,EAAI/B,SAdrC,iBA2CI,SAAKA,GACmC,OAAP,IAAzB4D,KAAK8hC,OAAO4qB,IAAItwD,IACjB4D,KAAK8hC,OAAOpnB,IAAIte,EAAhB,UAAqB4D,KAAKs8G,WAAW/1D,MAAK,SAAApd,GAAE,OAAIA,EAAG/sC,KAAOA,YAA1D,aAAqB,EAA2C+oF,cAGnE,OAAOnlF,KAAK8hC,OAAOpmC,IAAIU,KAhD/B,iBAmDI,SAAKA,EAAKN,GAAsB,IAAfygH,IAAe,yDACtB9yD,EAAWzpD,KAAK8hC,OAAOpmC,IAAIU,GAE7BqtD,IAAa3tD,IAEbkE,KAAK8hC,OAAOpnB,IAAIte,EAAKN,GACrBkE,KAAK2+D,OAAO1vD,KAAK,UAAY7S,EAAKN,EAAO2tD,GAErC8yD,GACAv8G,KAAKw8G,UA5DrB,kBAiEI,SAAMpgH,EAAKN,GACPkE,KAAK0a,IAAIte,EAAKN,GAAO,KAlE7B,kBAqEI,WAAQ,WACEqC,EAAM,GAGZ6B,KAAKs8G,WAAWl6G,QAAO,SAAA+mC,GAAE,MAAmB,SAAfA,EAAGszE,WAAoB9oG,SAAQ,SAAAw1B,GACxDhrC,EAAIgrC,EAAG/sC,KAAO,EAAKV,IAAIytC,EAAG/sC,QAG9B4D,KAAK2+D,OAAOg4C,SAAS,SAAUx4G,KA7EvC,oBAgFI,SAAQA,GAAK,WACT5C,OAAOuI,KAAK3F,GAAKwV,SAAQ,SAAAvX,GACrB,EAAKse,IAAIte,EAAK+B,EAAI/B,SAlF9B,qBAsFI,SAAQA,GAAK,MACT,iBAAO4D,KAAKs8G,WAAW/1D,MAAK,SAAApd,GAAE,OAAIA,EAAG/sC,KAAOA,YAA5C,aAAO,EAA2Cu5B,OAvF1D,oBA0FI,SAAQv5B,EAAKu5B,GACT,OAAO31B,KAAK08G,QAAQtgH,KAASu5B,IA3FrC,uBA8FI,SAAUv5B,GACN,OAAO4D,KAAK28G,OAAOvgH,EAAK,aA/FhC,oBAkGI,SAAOA,GACC4D,KAAKqoC,UAAUjsC,IACf4D,KAAK0a,IAAIte,GAAM4D,KAAKtE,IAAIU,MApGpC,kBAwGI,SAAKA,GACD,OAAyB,IAAlB4D,KAAKtE,IAAIU,KAzGxB,mBA4GI,SAAMA,GACF,OAAyB,IAAlB4D,KAAKtE,IAAIU,KA7GxB,gBAwHI,SAAGA,EAAKN,GACJ,OAAOkE,KAAKtE,IAAIU,KAASN,IAzHjC,oBA4HI,SAAQM,GACJ4D,KAAK8hC,OAAL,OAAmB1lC,GACnB4D,KAAK2+D,OAAO1vD,KAAK,UAAY7S,KA9HrC,4BA4II,SAAgB0lC,GACZ9hC,KAAK8hC,OAAOpnB,IAAIonB,EAAO1lC,IAAK0lC,EAAOqjD,cACnCnlF,KAAKs8G,WAAWt6G,KAAK8/B,OA9I7B,KCAa86E,GAAb,WACI,WAAYj+C,GAAQ,YAChB3+D,KAAKwgE,QAAU7B,EAEf3+D,KAAK68G,cAAgB,EACrB78G,KAAK88G,cAAgB,GACrB98G,KAAK+8G,cAAgB,GACrB/8G,KAAK0gE,UAAY,GAPzB,gCAUI,WACI,OAAO1gE,KAAK88G,cAAcv/G,SAXlC,uBAcI,WACI,OAAOhC,OAAOuI,KAAK9D,KAAK0gE,aAfhC,2BAkBI,SAAcs8C,GACV,OAAOh9G,KAAKwgE,QAAQy8C,YAAb,kBAAsCD,GAAkBA,IAnBvE,2BAsBI,WACIh9G,KAAK0gE,UAAY1gE,KAAKwgE,QAAQE,UAAUnZ,kBAvBhD,2BA0BI,WAA0B,WAAZF,EAAY,uDAAJ,GACdniD,EAAS,GAUb,OARA3J,OAAOuI,KAAK9D,KAAK0gE,WAAW/sD,SAAQ,SAAApN,GAChCrB,EAAOqB,GAAM,GAEbhL,OAAOuI,KAAKujD,GAAO1zC,SAAQ,SAAAvX,GACvB8I,EAAOqB,GAAInK,GAAO,EAAKskE,UAAUn6D,GAAInK,SAItC8I,IArCf,mCAwCI,WAAuC,WAAjB6pG,EAAiB,uDAAJ,GAC3B7pG,EAAS,GAab,OAXA3J,OAAOuI,KAAKirG,GAAYp7F,SAAQ,SAAApN,GAC5BrB,EAAOqB,GAAM,GAEb,IAAM22G,EAAiB,EAAKx8C,UAAUn6D,IAAO,EAAKi6D,QAAQE,UAAU+lC,WAAWlgG,GAAI,GAC7E8gD,EAAQ0nD,EAAWxoG,GAEzBhL,OAAOuI,KAAKujD,GAAO1zC,SAAQ,SAAAvX,GACvB8I,EAAOqB,GAAInK,GAAO8gH,EAAe9gH,SAIlC8I,IAtDf,iBA+DI,SAAI8iB,EAAS2iE,EAAS1pF,GAClB,IAAMs3D,EAAOzS,YAAYC,MACnBo3D,EAAiBn9G,KAAK88G,cAAc98G,KAAK88G,cAAcv/G,OAAS,GAChE6/G,EAAgB,CAAEp1F,UAAS2iE,UAAS1pF,OAAMs3D,QAoBhD,OAlBI4kD,GACAA,EAAen1F,UAAYA,GAC3BuwC,EAAO4kD,EAAe5kD,KAAOv4D,KAAKwgE,QAAQ1+B,OAAOpmC,IAAI,oBAKrDsE,KAAK88G,cAAc98G,KAAK88G,cAAcv/G,OAAS,GAAK6/G,GAGpDp9G,KAAK88G,cAAc96G,KAAKo7G,GACxBp9G,KAAK68G,eACL78G,KAAK88G,cAAcv/G,OAASyC,KAAK68G,aAAe,GAIpD78G,KAAKwgE,QAAQvxD,KAAK,iBAAkB07E,EAAQA,SAErCyyB,IAtFf,iBA8FI,SAAI1wG,GAGA,MAFc,eAAI1M,KAAK88G,cAAclpG,IAAIlH,IAA3B,CAAsC,KAAtC,KAA8C1M,KAAK+8G,cAAcnpG,IAAIlH,KAAWurB,YA/FtG,kBAuGI,WAAO,WACH,KAAIj4B,KAAK68G,cAAgB,GAAzB,CAEI78G,KAAK68G,eAAiB78G,KAAKzC,QAC3ByC,KAAK68G,eAGT,IAAMQ,EAAgBr9G,KAAK88G,cAAc98G,KAAK68G,cAE1CQ,GAAiBA,EAAc1yB,UAG/B0yB,EAAc1yB,QAAQmkB,KAAK9uG,KAAKwgE,QAAS68C,EAAcp8G,MAGvDjB,KAAK68G,eAEL78G,KAAKwgE,QAAQpyD,UAAS,WAClB,EAAKoyD,QAAQvxD,KAAK,iBAAkBouG,EAAc1yB,gBAzHlE,kBAkII,WAAO,WACH,KAAI3qF,KAAK68G,aAAe78G,KAAKzC,QAA7B,CAGIyC,KAAK68G,aAAe,GACpB78G,KAAK68G,eAET,IAAMQ,EAAgBr9G,KAAK88G,cAAc98G,KAAK68G,cAE1CQ,GAAiBA,EAAc1yB,UAI/B3qF,KAAK68G,eAELQ,EAAc1yB,QAAQikB,KAAK5uG,KAAKwgE,QAAS68C,EAAcp8G,MACvDjB,KAAKwgE,QAAQrmD,MAAMkjG,GAEnBr9G,KAAKwgE,QAAQpyD,UAAS,WAClB,EAAKoyD,QAAQvxD,KAAK,iBAAkBouG,EAAc1yB,kBArJlE,KCKM2yB,GAAsBt/D,EAAKhU,WAAW,EAAG,EAAG,GAIlD,SAASuzE,GAAWC,EAAcC,GAC9B,OAAOxsG,KAAKu1B,IAAIg3E,EAAa,GAAKC,EAAa,IAAM,EAGzD,SAASC,GAAWF,EAAcC,GAC9B,OAAOxsG,KAAKu1B,IAAIg3E,EAAa,GAAKC,EAAa,IAAM,EAalD,IAAME,GAAb,WAMI,WAAYh/C,GAA0C,IAAlCi/C,EAAkC,uDA7BhC,EA6BgC,YAClD59G,KAAK2+D,OAASA,EACd3+D,KAAK4T,IAAM,IAAI24C,IACfvsD,KAAK69G,iBAAmB,GACxB79G,KAAK49G,aAAeA,EAV5B,8BAaI,WACI,OAAO59G,KAAK2+D,OAAO78B,OAAOpmC,IAAI,kBAAoBsE,KAAK49G,eAd/D,oBAiBI,WACI,OAAO59G,KAAK2+D,OAAO78B,OAAOpmC,IAAI,cAAgB,KAlBtD,mBAwBI,WAAQ,WACJsE,KAAK69G,iBAAmB79G,KAAK2+D,OAAO+B,UAAUm9C,iBAAiBjqG,KAAI,SAAAu1B,GAC/D,OAAO,EAAK20E,cAAc30E,QA1BtC,2BA+BI,SAAcnwB,GACV,IAAMklC,EAAUl+C,KAAK+9G,0BAA0B/kG,GACzCgrD,EAAQ9lB,EAAQtqC,KAAI,SAAAu1B,GAAE,OAAIA,EAAG,MAC7B86B,EAAQ/lB,EAAQtqC,KAAI,SAAAu1B,GAAE,OAAIA,EAAG,MAEnC,MAAO,CAAE5iC,GAAIyS,EAAKzS,GAAIy9D,QAAOC,QAAO/lB,UAASooD,YAAajiC,GAAoCrrD,EAAKkrD,kBApC3G,uCA6CI,SAA0BlrD,GACtB,IAAMglG,EAAehlG,EAAKglG,aAG1B,YAAWA,KAjDnB,2BAyDI,WAAgB,WACN7rG,EAAS,GAKf,OAJAnS,KAAK2+D,OAAO+B,UAAUu9C,8BAA8BtqG,SAAQ,SAAAw1B,GACxDh3B,EAAOnQ,KAAK7B,MAAMgS,EAAQ,EAAK4rG,0BAA0B50E,OAGtDh3B,IA/Df,oBAkEI,SAAO+rG,EAAaC,GAAuB,WAAVjrG,EAAU,uDAAH,EAE9BkrG,EAAa,GAgBnB,OAbAF,EAAYvqG,SAAQ,SAAC0qG,EAASzkB,GAC1BukB,EAAYxqG,SAAQ,SAAC2qG,EAASC,GAE1B,IAAMC,EAAaH,EAAUC,EACvBG,EAAiB,EAAKC,SAAYztG,KAAKu1B,IAAI83E,GAAW,EAAKI,SAC7DztG,KAAKu1B,IAAIg4E,IAAetrG,EACxBkrG,EAAWp8G,KAAK,CAAEq8G,UAASC,UAASC,cAAa3kB,cAAaj0D,GAAI64E,IAC3DvtG,KAAKu1B,IAAIi4E,IAAmBvrG,GACnCkrG,EAAWp8G,KAAK,CAAEq8G,UAASC,UAASC,cAAa3kB,cAAaj0D,GAAI84E,UAKvEL,IApFf,oBAuFI,SAAOO,EAAaC,GAAuB,IAAV1rG,EAAU,uDAAH,EAE9B2rG,EAAa,GAcnB,OAZAF,EAAYhrG,SAAQ,SAACmrG,EAASllB,GAC1BglB,EAAYjrG,SAAQ,SAACorG,EAASR,GAE1B,IAAMS,EAAaF,EAAUC,EAEzB9tG,KAAKu1B,IAAIw4E,IAAe9rG,GACxB2rG,EAAW78G,KAAK,CAAE88G,UAASC,UAASR,cAAa3kB,cAAa/zD,GAAIm5E,UAMvEH,IAvGf,mBAgHI,SAAMngE,GAAe,WACXugE,EAAQ,GACR/rG,EAAOlT,KAAKkT,KACZirG,EAAcz/D,EAAc9qC,KAAI,SAAAu1B,GAAE,OAAIA,EAAG,MACzCy1E,EAAclgE,EAAc9qC,KAAI,SAAAu1B,GAAE,OAAIA,EAAG,MAkC/C,OA/BAnpC,KAAK69G,iBAAiBlqG,SAAQ,SAAAtW,GAE1B,IAAMqD,EAAI,EAAKw+G,OAAO7hH,EAAO2mE,MAAOm6C,EAAajrG,GAAM,GACjDgO,EAAI,EAAKi+F,OAAO9hH,EAAO4mE,MAAO26C,EAAa1rG,GAAM,GAEvD+rG,EAAMj9G,KAAKg8C,EAAKhU,WAAWtpC,EAAIA,EAAEilC,GAAK,EAAGzkB,EAAIA,EAAE2kB,GAAK,EAAG,OA0BpDo5E,EAAM14D,MAAK,SAAApd,GAAE,OAAIT,GAAUS,EAAG,KAAOT,GAAUS,EAAG,QAAQm0E,KAtJzE,wBAyJI,SAAWE,GACP,IAAM4B,EAAOp/G,KAAKgoC,MAAM,CAACw1E,IACzB,OAAOx/D,EAAKxI,IAAI,GAAIgoE,EAAc4B,KA3J1C,mCAqKI,SAAsB1gE,EAAeC,GAIjC,IAHA,IAEI6+D,EAAcC,EAFZtrG,EAAS,GACTktG,EAAc,GAEXd,EAAc,EAAGe,EAAe5gE,EAAcnhD,OAAQghH,EAAce,EAAcf,IAAe,CACtGf,EAAe9+D,EAAc6/D,GAG7B,IAAMgB,EAAO,GAAH,OAAM/B,EAAa,GAAnB,MACJgC,EAAO,GAAH,OAAMhC,EAAa,GAAnB,MAEL6B,EAAYE,KACbF,EAAYE,GAAQ,IAGnBF,EAAYG,KACbH,EAAYG,GAAQ,IAGxB,IAAK,IAAI5lB,EAAc,EAAG6lB,EAAe9gE,EAAcphD,OAAQq8F,EAAc6lB,EAAc7lB,IAInF2jB,GAAWC,EAHfC,EAAe9+D,EAAci7C,KAIzBylB,EAAYE,GAAMv9G,KAAK,CAACw7G,EAAcC,EAlN3C,IAkNiEz/D,EAAK9qC,KAAKsqG,EAAcC,KAGpFC,GAAWF,EAAcC,IACzB4B,EAAYG,GAAMx9G,KAAK,CAACw7G,EAAcC,EArN3C,IAqNiEz/D,EAAK9qC,KAAKsqG,EAAcC,KAehG,OATAliH,OAAOuI,KAAKu7G,GAAa1rG,SAAQ,SAAAvX,GAC7B,GAAIijH,EAAYjjH,IAAQijH,EAAYjjH,GAAKmB,OAAQ,CAC7C,IAAMmiH,EAASL,EAAYjjH,GAAK2H,MAAK,SAACuR,EAAG8G,GAAJ,OAAU9G,EAAE,GAAK8G,EAAE,MACxD,OAA2CsjG,EAAO,GAAlD,GAAOlC,EAAP,KAAqBC,EAArB,KAAmCjwE,EAAnC,KAEAr7B,EAAOnQ,KAAK,CAACw7G,EAAcC,EAAcjwE,QAI1Cr7B,IAhNf,uBAmNI,SAAUusC,GAAe,WACfihE,EAAS,GAUf,OARA3/G,KAAK69G,iBAAiBlqG,SAAQ,SAAAtW,GAG1B,IAAM8U,EAAS,EAAKytG,sBAAsBlhE,EAAerhD,EAAO6gD,SAEhEyhE,EAAO39G,KAAK7B,MAAMw/G,EAAQxtG,MAGvBwtG,IA9Nf,0BAiOI,SAAajhE,GACT,MAAO,CAAC1+C,KAAK6/G,UAAUnhE,GAAe,QAlO9C,KCxBaohE,GAAb,WACI,WAAanhD,GAAQ,YACjB3+D,KAAK2+D,OAASA,EACd3+D,KAAK+/G,QAAU,IAAIz1D,IACnBtqD,KAAKggH,WAAa,IAAI11D,IAJ9B,+BAaI,SAAKluD,EAAK44G,IAEwB,IAA1Bh1G,KAAK+/G,QAAQrzD,IAAItwD,IACjB4D,KAAK+/G,QAAQvqE,IAAIp5C,IAGgB,IAAjC4D,KAAKggH,WAAWtzD,IAAIsoD,IACpBh1G,KAAKggH,WAAWxqE,IAAIw/D,KApBhC,oBAyBI,SAAQ54G,EAAK44G,GACTh1G,KAAK+/G,QAAL,OAAoB3jH,GACpB4D,KAAKggH,WAAL,OAAuBhL,KA3B/B,oBAkCI,SAAQiL,GACJ,OAAOjgH,KAAK+/G,QAAQrzD,IAAIuzD,IAAiBjgH,KAAKggH,WAAWtzD,IAAIuzD,KAnCrE,mBA0CI,WAAgB,kCAANhgH,EAAM,yBAANA,EAAM,gBACZ,OAAOA,EAAK8Y,MAAK,SAAAknG,GAAY,OAAI,EAAKC,OAAOD,UA3CrD,KCOaE,GAAb,WACI,WAAaxhD,GAAQ,YACjB3+D,KAAK2+D,OAASA,EAEd3+D,KAAKogH,WAAa,KAClBpgH,KAAKqgH,eAAiB38C,GAAc,EAAG,EAAG,EAAG,GAC7C1jE,KAAKsgH,MAAQtiE,EAAK7hD,SAClB6D,KAAK21C,MAAQ,EACb31C,KAAK2gD,UAAY3C,EAAK7hD,SACtB6D,KAAK8hE,gBAAkB9jB,EAAK7hD,SAC5B6D,KAAKugH,SAAW,IAChBvgH,KAAKwgH,SAAW,GAChBxgH,KAAKygH,WAAa,EAElBzgH,KAAK0gH,mBAdb,8CAsBI,SAAoBC,GAChB3gH,KAAK8hE,gBAAkB6+C,EACvB3gH,KAAK0gH,qBAxBb,6CAgCI,SAAiCE,GAC7B,IAAMC,EAAY7iE,EAAKtzB,MAAM1qB,KAAK8hE,iBAClC9hE,KAAK8gH,mBAAmBF,GACxB5gH,KAAK+gH,aAAa/iE,EAAKxI,IAAI,GAAIx1C,KAAK2gD,UAAW3C,EAAK3qC,SAAS,GAAIwtG,EAAWD,OAnCpF,sBA2CI,SAAUjrE,GACN31C,KAAK21C,MAAQ1kC,KAAKC,IAAID,KAAKypB,IAAI16B,KAAKwgH,SAAU7qE,GAAQ31C,KAAKugH,UAC3DvgH,KAAK0gH,qBA7Cb,0BAqDI,SAAc//D,GACV3gD,KAAK2gD,UAAYA,EACjB3gD,KAAK0gH,qBAvDb,8BAiEI,WAQI1gH,KAAK2gD,UAAY3gD,KAAK2gD,UAAU/sC,KAAI,SAAAu1B,GAAE,OAAKA,EAAG63E,QAAQ,MACtDhhH,KAAK8hE,gBAAkB9hE,KAAK8hE,gBAAgBluD,KAAI,SAAAu1B,GAAE,OAAKA,EAAG63E,QAAQ,MAClEhhH,KAAK21C,OAAS31C,KAAK21C,MAAMqrE,QAAQ,GAEjChhH,KAAK+lG,OAASllD,GACVH,EAAK3S,gBAAgB,GAAI/tC,KAAK2gD,WAC9BD,EAAK3S,gBAAgB,GAAI/tC,KAAK8hE,iBAC9BphB,EAAK1S,YAAY,GAAI,CAAChuC,KAAK21C,MAAO31C,KAAK21C,MAAO,IAC9C+K,EAAK3S,gBAAgB,GAAIiQ,EAAKtG,OAAO,GAAI13C,KAAK8hE,mBAElD9hE,KAAKihH,cAAgBvgE,EAAKK,OAAO,GAAI/gD,KAAK+lG,QAE1C/lG,KAAKkhH,YAAcrgE,GACfH,EAAK1S,YAAY,GAAI,CAAChuC,KAAK21C,MAAO31C,KAAK21C,MAAO,KAElD31C,KAAKmhH,mBAAqBzgE,EAAKK,OAAO,GAAI/gD,KAAKkhH,aAE/ClhH,KAAKm7D,YA1Fb,+BAyGI,SAAmB/7C,GAEf,GAAIpf,KAAKogH,WAAY,CAEjBpgH,KAAKogH,WAAa,CACd1/G,EAAG0e,EAAK1e,EACRwgB,EAAG9B,EAAK8B,EACRzB,MAAOL,EAAKK,MACZqiC,OAAQ1iC,EAAK0iC,QAGjB9hD,KAAKqgH,eAAiB38C,GAAc,EAAG,EAAG1jE,KAAKogH,WAAW3gG,MAAOzf,KAAKogH,WAAWt+D,QACjF,IAAMs/D,EAAapjE,EAAKI,cACpB,GACA,CAACp+C,KAAKogH,WAAW3gG,MAAOzf,KAAKogH,WAAWt+D,OAAQ,GAChD9hD,KAAKmhH,oBAGHE,EAAqBrjE,EAAKxI,IAC5B,GACAx1C,KAAKk+C,QAAQ,GACb,CAACkjE,EAAW,GAAG,EAAGA,EAAW,GAAG,EAAG,IAOjCE,EAAe5gE,EAAK7Q,eAAe,GAAIgR,GACzC7gD,KAAK+lG,OACLjlD,GACIJ,EAAK3S,gBAAgB,GAAIszE,GACzBrhH,KAAKkhH,YACLxgE,EAAKK,OAAO,GAAIL,EAAK3S,gBAAgB,GAAIszE,OAIjDrhH,KAAK+gH,aAAaO,GAClBthH,KAAK8gH,mBAAmBO,QAGxBrhH,KAAKogH,WAAa,CACd1/G,EAAG0e,EAAK1e,EACRwgB,EAAG9B,EAAK8B,EACRzB,MAAOL,EAAKK,MACZqiC,OAAQ1iC,EAAK0iC,QAGjB9hD,KAAKqgH,eAAiB38C,GAAc,EAAG,EAAG1jE,KAAKogH,WAAW3gG,MAAOzf,KAAKogH,WAAWt+D,QAEjF9hD,KAAK8gH,mBAAmB,CACpB9gH,KAAKogH,WAAW3gG,MAAM,EACtBzf,KAAKogH,WAAWt+D,OAAO,EACvB,IAGR9hD,KAAK2+D,OAAO1vD,KAAK,oBAjKzB,qBAyKI,WAEQjP,KAAKqgH,iBACLrgH,KAAKk+C,QAAUD,GAAWj+C,KAAKqgH,eAAgBrgH,KAAKihH,kBA5KhE,8BAiLI,SAAiB5zG,GAEb,OADAA,EAAIA,GAAKrN,KAAK2+D,OAAO78B,OAAOpmC,IAAI,aACzBsE,KAAKuhH,oBAAoBl0G,EAAEm0G,QAASn0G,EAAEo0G,WAnLrD,iCA4LI,SAAoB/gH,EAAGwgB,GAEnB,IAAKlhB,KAAKogH,WACN,OAAOpiE,EAAK7hD,SAGhB,IAAMskD,EACC//C,EAAIV,KAAKogH,WAAW1/G,EADrB+/C,EAECv/B,EAAIlhB,KAAKogH,WAAWl/F,EAM3B,MAAO,CAHQlhB,KAAKk+C,QAAQ,GAAG,IAAMl+C,KAAKk+C,QAAQ,GAAG,GAAKl+C,KAAKk+C,QAAQ,GAAG,KAAOuC,EAASzgD,KAAKogH,WAAW3gG,OAC3Fzf,KAAKk+C,QAAQ,GAAG,IAAMl+C,KAAKk+C,QAAQ,GAAG,GAAKl+C,KAAKk+C,QAAQ,GAAG,KAAOuC,EAASzgD,KAAKogH,WAAWt+D,QAElF,KA1MhC,2BAmNI,SAAephD,EAAGwgB,GAEdlhB,KAAKsgH,MAAQtgH,KAAKuhH,oBAAoB7gH,EAAGwgB,GAEzClhB,KAAK0hH,gCAAgC1jE,EAAKnG,KAAK,GAAI73C,KAAKk+C,QAAQ,GAAIl+C,KAAKk+C,QAAQ,GAAI,KAErFl+C,KAAK2+D,OAAO1vD,KAAK,oBAzNzB,kBA4NI,SAAMwxG,GAEF,IAAMrL,EAAWp1G,KAAK21C,MAChBgsE,EAAWvM,EAAWqL,EAE5BzgH,KAAKq1G,SAASsM,GAEd,IAAMC,EAAgB5hH,KAAK21C,MAAQy/D,EACnCp1G,KAAKygH,WAAamB,EAEI,IAAlBA,IAEF5hH,KAAK0hH,gCACH1jE,EAAKnG,KACH,GACA73C,KAAKsgH,MACLtgH,KAAK8hE,gBACL,EAAI2+C,IAIRzgH,KAAK2+D,OAAO1vD,KAAK,qBAjP3B,iBA6PI,SAAKvO,EAAGwgB,GAEJlhB,KAAK0hH,gCACH1jE,EAAKxI,IAAI,GAAIx1C,KAAK8hE,gBAAiB,CAACphE,EAAGwgB,EAAG,KAE5ClhB,KAAK2+D,OAAO1vD,KAAK,oBAlQzB,+BA0QI,SAAmBshG,GAAiD,IAApCsR,EAAoC,wDAAvB,GAAKrR,IAAkB,yDAE1DsR,EAAa9jE,EAAKnG,KAAK,GAAI04D,EAAY,GAAIA,EAAY,GAAI,IAC3D9wF,EAAQu+B,EAAK9qC,KAAKq9F,EAAY,GAAIA,EAAY,IAC9CzuD,EAAS9D,EAAK9qC,KAAKq9F,EAAY,GAAIA,EAAY,IAE/CwR,EAAiB/jE,EAAKnG,KAAK,GAAI73C,KAAKk+C,QAAQ,GAAIl+C,KAAKk+C,QAAQ,GAAI,IACjE8jE,EAAgBhkE,EAAK9qC,KAAKlT,KAAKk+C,QAAQ,GAAIl+C,KAAKk+C,QAAQ,IACxD+jE,EAAiBjkE,EAAK9qC,KAAKlT,KAAKk+C,QAAQ,GAAIl+C,KAAKk+C,QAAQ,IAEzDgkE,EAAU1R,EAAYv/F,KAAKC,IAAI8wG,EAAcviG,EAAOwiG,EAAengE,GAAU+/D,EAAY,EAE/F7hH,KAAK+gH,aACD/iE,EAAKxI,IACD,GACAx1C,KAAK2gD,UACL3C,EAAK3qC,SAAS,GAAI0uG,EAAgBD,KAG1C9hH,KAAK8gH,mBAAmBgB,GACxB9hH,KAAKq1G,SAASr1G,KAAK21C,MAAQusE,GAE3BliH,KAAK2+D,OAAO1vD,KAAK,oBAhSzB,eAySI,WAII,MAAO,EAHSjP,KAAKsgH,MAAM,GAAKtgH,KAAKk+C,QAAQ,GAAG,KAAKl+C,KAAKk+C,QAAQ,GAAG,GAAKl+C,KAAKk+C,QAAQ,GAAG,IAAM,KAChFl+C,KAAKsgH,MAAM,GAAKtgH,KAAKk+C,QAAQ,GAAG,KAAKl+C,KAAKk+C,QAAQ,GAAG,GAAKl+C,KAAKk+C,QAAQ,GAAG,IAAM,IAExE,KA7ShC,gBAgTI,WAAc,OAAOl+C,KAAKk+C,QAAQ,GAAG,KAhTzC,gBAiTI,WAAc,OAAOl+C,KAAKk+C,QAAQ,GAAG,KAjTzC,gBAkTI,WAAc,OAAOl+C,KAAKk+C,QAAQ,GAAG,KAlTzC,gBAmTI,WAAc,OAAOl+C,KAAKk+C,QAAQ,GAAG,KAnTzC,kBAoTI,WAAgB,OAAOl+C,KAAKk+C,QAAQ,KApTxC,kBAsTI,WAAgB,OAAOl+C,KAAKkgD,KAAOlgD,KAAKigD,OAtT5C,iBAuTI,WAAe,OAAOjgD,KAAK8/C,KAAO9/C,KAAK6/C,OAvT3C,6BAyTI,SAAiBsiE,GACb,IAAMC,EAAcpiH,KAAK6/C,KAAOsiE,EAAY,IAAMA,EAAY,GAAKniH,KAAK8/C,KAClEuiE,EAAcriH,KAAKigD,KAAOkiE,EAAY,IAAMA,EAAY,GAAKniH,KAAKkgD,KACxE,OAAOkiE,GAAeC,IA5T9B,yBA+TI,SAAaC,GACT,OAAOtkE,EAAKI,cAAc,GAAIkkE,EAAQtiH,KAAK+lG,UAhUnD,gCAmUI,SAAoBuc,GAChB,OAAOtkE,EAAKI,cAAc,GAAIkkE,EAAQtiH,KAAKihH,iBApUnD,0BAuUI,SAAc/iE,GACV,OAAOD,GAAWC,EAASl+C,KAAK+lG,UAxUxC,+BA2UI,SAAmB7nD,GACf,OAAOD,GAAWC,EAASl+C,KAAKkhH,eA5UxC,iCA+UI,SAAqBhjE,GACjB,OAAOD,GAAWC,EAASl+C,KAAKihH,iBAhVxC,sCAmVI,SAA0B/iE,GACtB,OAAOD,GAAWC,EAASl+C,KAAKmhH,sBApVxC,+BAgWI,SAAmBzgH,EAAGwgB,EAAGzB,EAAOqiC,GAC5B,OAAO9hD,KAAKuiH,oBxRgKb,SAA+B7hH,EAAGwgB,EAAGzB,EAAOqiC,GAC/C,OAAO4hB,GAAchjE,EAAGwgB,EAAGzB,EAAOqiC,GwRjKE0gE,CAAqB9hH,EAAGwgB,EAAGzB,EAAOqiC,QAjW1E,KCFa2gE,GAAb,WACI,WAAa9jD,GAAQ,YACjB3+D,KAAK2+D,OAASA,EAEd3+D,KAAK0iH,eAAiB,gBAJ9B,6EAOI,8BAAAptG,EAAA,yDACQqtG,GAAQ,EACNld,GAAazlG,KAAK2+D,OAAOg9B,SAAS37F,KAAK0iH,iBAAmB,IAAI9uG,KAAI,SAAAu1B,GAKpE,OAJKA,EAAG5iC,KACJ4iC,EAAG5iC,GAAK46C,KACRwhE,GAAQ,GAELx5E,MAGPw5E,EAVR,gCAWc3iH,KAAK4iH,mBAAmBnd,GAXtC,gCAcWA,GAdX,gDAPJ,8FAwBI,WAA0B/6F,GAA1B,SAAA4K,EAAA,sDACItV,KAAK2+D,OAAOg4C,SAAS32G,KAAK0iH,eAAgBh4G,GAD9C,gDAxBJ,2FA4BI,WAAsBnE,GAAtB,iBAAA+O,EAAA,sEAC4BtV,KAAK6iH,qBADjC,UACUC,EADV,SAEU35E,EAAK25E,EAAUv8D,MAAK,SAAApd,GAAE,OAAIA,EAAG5iC,KAAOA,QAEhC4iC,EAAG45E,UAJjB,yCAKe55E,EAAG45E,WALlB,gCAQW,MARX,gDA5BJ,4FA4CI,8CAAAztG,EAAA,yDAAsByrE,EAAtB,+BAAgC,KACtBkL,EAAUjsF,KAAK2+D,OAAO+B,UAAUurB,SAD1C,iCAIgCjsF,KAAK6iH,qBAJrC,cAIcC,EAJd,gBAK2B9iH,KAAK2+D,OAAOzZ,KAAK+V,OAAOgxB,GALnD,cAKc/mC,EALd,QAOaxkD,EAAI,MACTwkD,EAAKhkC,EAAI,MARjB,UASclhB,KAAK4iH,mBAAL,eACCE,GADD,CAEF,CACIv8G,GAAI46C,KACJ6hE,QAASjiC,EACTgiC,UAAW79D,MAd3B,iDA5CJ,6FAgEI,WAAyB3+C,GAAzB,eAAA+O,EAAA,sEAC4BtV,KAAK6iH,qBADjC,cACUC,EADV,gBAEU9iH,KAAK4iH,mBAAmBE,EAAU1gH,QAAO,SAAA+mC,GAC3C,OAAOA,EAAG5iC,KAAOA,MAHzB,gDAhEJ,qDCRe,SAAS08G,GAAgBC,EAAK9oD,GAEzC,IAAM+oD,EAAc5nH,OAAOsK,OAAO,CAC9B4Z,MAAO,GACPqiC,OAAQ,IACTsY,GAEH,qGAGiB+oD,EAAY1jG,MAH7B,mCAIkB0jG,EAAYrhE,OAJ9B,wCAKuBqhE,EAAY1jG,MALnC,YAK4C0jG,EAAYrhE,OALxD,aAKmEohE,EALnE,UCLWD,UAAe,0ECAfA,MAAe,mFCAfA,MAAe,iICAfA,MAAe,iOCAfA,MAAe,6FCAfA,MAAe,wJCAfA,MAAe,iPCAfA,MAAe,8JCAfA,MAAe,+JCAfA,MAAe,uKCAfA,MAAe,qFCAfA,MAAe,mDCAfA,MAAe,oJCAfA,MAAe,wDCAfA,MAAe,2GCAfA,MAAe,+GCAfA,MAAe,wICAfA,MAAe,0oBCAfA,MAAe,iCCAfA,MAAe,+ECAfA,MAAe,8FCAfA,MAAe,kCCAfA,MAAe,iECAfA,MAAe,6KCAfA,MAAe,iaCAfA,MAAe,qJCAfA,MAAe,uCCAfA,MAAe,8PCAfA,MAAe,6DCAfA,MAAe,iKCAfA,MAAe,8mBCAfA,MAAe,6BCAfA,MAAe,+CCAfA,MAAe,sPCAfA,MAAe,0GCAfA,MAAe,wLCAfA,MAAe,qHCAfA,MAAe,qQCAfA,MAAe,2HCAfA,MAAe,yHCAfA,MAAe,gKCAfA,MAAe,4RCAfA,MAAe,oHCAfA,MAAe,uPCAfA,MAAe,kKCAfA,MAAe,iOCAfA,MAAe,0RCAfA,MAAe,odCAfA,MAAe,2FCAfA,MAAe,0FCAfA,MAAe,4FCAfA,MAAe,2FCAfA,MAAe,sGCAfA,MAAe,iJCAfA,MAAe,2GCAfA,MAAe,4DCAfA,MAAe,qNCAfA,MAAe,gECAfA,MAAe,gNCAfA,MAAe,0HCAfA,MAAe,oUCAfA,MAAe,odCAfA,MAAe,4ICAfA,MAAe,8FCAfA,MAAe,sKCAfA,MAAe,mDCAfA,MAAe,2CCAfA,MAAe,uDCAfA,MAAe,2DCAfA,MAAe,+ECAfA,MAAe,gFCAfA,MAAe,kPCAfA,MAAe,6lBCAfA,MAAe,6LCAPA,MAAe,uoJCAvBA,MAAe,0NCAfA,MAAe,2SCAfA,MAAe,wJCAfA,MAAe,wPCAfA,MAAe,uGCAfA,MAAe,+GCAfA,MAAe,wCCAfA,MAAe,sGCAfA,MAAe,8DCAfA,MAAe,wICAfA,MAAe,+QCAfA,MAAe,0RCAfA,MAAe,odCAfA,MAAe,iFCAfA,MAAe,i5CCAfA,MAAe,yvBCAdA,MAAe,23CCAhBA,MAAe,8mBCAfA,MAAe,4KCAfA,MAAe,6OCAfA,MAAe,qMCAfA,MAAe,2KCAfA,MAAe,mOCAfA,MAAe,4LCAfA,MAAe,wWCAfA,MAAe,oHCAfA,MAAe,qRCAfA,MAAe,sECAfA,MAAe,6PCAfA,MAAe,qNCAfA,MAAe,qNCAfA,MAAe,8KCAfA,MAAe,kYCAfA,MAAe,mJCAfA,MAAe,oICAPA,MAAe,60BCAvBA,MAAe,mICAdA,MAAe,6mCCAhBA,MAAe,gECAfA,MAAe,0LCAfA,MAAe,kFCAfA,MAAe,oDCAPA,MAAe,wECAfA,MAAe,kFCAfA,MAAe,0ECAfA,MAAe,wECAfA,MAAe,0ECAfA,MAAe,0ECAfA,MAAe,8FCAfA,MAAe,8FCAfA,MAAe,0JCAvBA,MAAe,gQCAfA,MAAe,qJCAPA,MAAe,0GCAfA,MAAe,4ICAfA,MAAe,kKCAfA,MAAe,osCCAfA,MAAe,qICAfA,MAAe,wHCAfA,MAAe,mNCAfA,MAAe,uXCAvBA,MAAe,iCCAPA,MAAe,gVCAvBA,MAAe,kCCAfA,MAAe,2HCAfA,MAAe,qICAfA,MAAe,iECAfA,MAAe,mECAfA,MAAe,mECAfA,MAAe,2ICAfA,MAAe,iECAfA,MAAe,uFCAfA,MAAe,mXCAPA,MAAe,waCAvBA,MAAe,mECAfA,MAAe,mECAfA,MAAe,2NCAfA,MAAe,kECAfA,MAAe,4DCAfA,MAAe,gJCAfA,MAAe,0NCAfA,MAAe,qFCAfA,MAAe,yICAfA,MAAe,0ECAfA,MAAe,0ECAfA,MAAe,ujBCAfA,MAAe,gsBCAfA,MAAe,sGCAfA,MAAe,mJCAfA,MAAe,uLCAfA,MAAe,+OCAfA,MAAe,0JCDfA,MAAe,4WCAfA,MAAe,23CCCfA,MAAe,kFAAmF,CAACxjG,MAAO,GAAIqiC,OAAQ,KCAtHmhE,MAAe,iIAAkI,CAACxjG,MAAO,GAAIqiC,OAAQ,KCArKmhE,MAAe,gMAKvB,CAACxjG,MAAO,GAAIqiC,OAAQ,KCLZmhE,MAAe,oHAGJ,CAACxjG,MAAO,GAAIqiC,OAAQ,KCH/BmhE,MAAe,2KCAfA,MAAe,6pBCAfA,MAAe,4KCDfA,MAAe,uUCCfA,MAAe,2JAA4J,CAACxjG,MAAO,GAAIqiC,OAAQ,KCA/LmhE,MAAe,2JAA4J,CAACxjG,MAAO,GAAIqiC,OAAQ,K,qkBC0LvM,SAASshE,GAAQhoH,GAAuD,IAAjD6f,EAAiD,uDAArC,GAAIm/C,EAAiC,uDAA3B,CAAE36C,MAAO,GAAIqiC,OAAQ,IACvE,wCACsBsY,EAAI36C,MAD1B,YACmC26C,EAAItY,OADvC,iEACsG1mD,EADtG,wBAC0H6f,EAD1H,mBAMa,gBAXD,CACZs5C,WAAa8uD,KAUf,IAEEC,WACAC,YACAC,gBACAC,WACAC,kBACAC,UACAC,WACAC,iBACAC,sBACAC,wBACAC,eACAC,QACAnkD,QACAokD,WACAC,QACA7lE,UACA8lE,QACAC,UACAC,QACAC,WACAC,aACAC,cAEAC,cACAt/G,UAGAu/G,gBACAC,OACAC,cACAC,kBACAC,mBACAC,aCnOa,WAA0B,IAAhB/pG,EAAgB,uDAAJ,GACjC,OAAegoG,GAAe,uHAAD,OACkFhoG,EADlF,mLAEkFA,EAFlF,0DAG1B,CAACwE,MAAO,GAAIqiC,OAAQ,MDgOzBonC,UACA+7B,2BACAC,yBACAC,0BACAC,yBACAC,yBACAC,sBACAC,uBACAC,yBACAC,eACAC,cACAC,eACA35B,SACA45B,eACAC,aACAC,aACAC,cACAC,WACAC,UACAC,QACAC,gBACAC,kBACAC,YACAC,eACAC,eACAC,cACAxhE,UACAgtC,UACAx/C,UACAC,OACAF,SACAgC,UACAjC,QACAm0E,QACAC,QACAC,iBACAC,UACAC,iBACAC,aACAC,YACAC,eACAC,cACAC,iBACAC,eACAC,SACAC,QACAC,gBACAC,iBACAC,SACAC,WACAC,4BACAC,cACAC,eACAC,gBACA3sC,UACA+K,WACA6hC,SACAC,WACAC,SACAC,eACA90D,QACA+0D,aACAC,WACAC,WACAC,YACAC,SACAC,WACAC,aACAC,YACAhtB,OACAghB,WACAiM,WACAC,aACAC,aACAztD,WACA0tD,OACAC,WACAC,UACA7jD,SACA8jD,qBACAC,aACAC,QACA9pG,QACA+pG,UACAC,cACAC,QACAC,WACAC,QACAC,UACAC,SACAC,UACAh/G,QACA8iG,QACAmc,gBACAC,iBACAC,cACAC,eACAhwC,SACAz/D,QACA0vG,QACAC,iBACAC,UACAtnH,SACAunH,WACAjvG,aACAshE,YACAr+D,SACAisG,SACAnnH,QACAonH,aACA7jD,QACAsyB,SACAwxB,aACAC,aACAC,gBACAC,eACApoH,UACAqoH,SACAxlD,SACA52D,SACAq8G,SACAC,cACAtH,gBACAr7E,SACAhgC,SACA4iH,cACAC,UACA39C,UACA49C,WACAC,WACA7jH,SACAwvF,YACAs0B,UACAC,WACAC,YACA11E,OACAgnE,QACA2O,OAAQC,GACRxc,QACAE,QACAlnD,QACAyjE,aACAtjE,UACAhe,QACA4d,WACA2jE,WACAC,cACAC,iBACAC,iBACAC,kBExXWC,GAAb,2FAEI,oDAAAr2G,EAAA,yDAAYs2G,EAAZ,+BAAuB,WACfC,GAAKD,GADb,+BAAqC3rH,EAArC,iCAAqCA,EAArC,iBAGc6rH,EAAcrjF,GAAWojF,GAAKD,KAAa,EAAAC,GAAKD,IAAU5wH,KAAf,SAA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SACd92E,MAAO,sBACPktF,YAAa,2BACb5lE,KAAM,UCLK,CACXv5B,IAAK,eACL+oF,aAAc,QACd92E,MAAO,gBACPktF,YAAa,qBACb5lE,KAAM,UCLK,CACXv5B,IAAK,eACL+oF,cAAc,EACd92E,MAAO,eACPktF,YAAa,+BACb5lE,KAAM,WCLK,CACXv5B,IAAK,qBACL+oF,cAAc,EACd92E,MAAO,iBACPktF,YAAa,iBACb5lE,KAAM,UACN8mF,QAAS,QCNE,CACXrgH,IAAK,yBACL+oF,cAAc,EACd92E,MAAO,uBACPktF,YAAa,uBACb5lE,KAAM,UACN8mF,QAAS,QCNE,CACXrgH,IAAK,gCACL+oF,aAAc,UACd92E,MAAO,0BACPktF,YAAa,8BACb5lE,KAAM,SCLK,CACXv5B,IAAK,aACL+oF,aAAc,IACd92E,MAAO,mCACPktF,YAAa,wBACb5lE,KAAM,UCLK,CACXv5B,IAAK,YACL+oF,aAAc,mBACd92E,MAAO,YACPktF,YAAa,uBACb5lE,KAAM,UCLK,CACXv5B,IAAK,gBACL+oF,cAAc,EACd92E,MAAO,YACPktF,YAAa,kBACb5lE,KAAM,UACN8mF,QAAS,QCNE,CACXrgH,IAAK,eACL+oF,aAAc,IACd92E,MAAO,uBACPktF,YAAa,2BACb5lE,KAAM,UCLK,CACXv5B,IAAK,gBACL+oF,aAAc,IACd92E,MAAO,wBACPktF,YAAa,4BACb5lE,KAAM,UCLK,CACXv5B,IAAK,eACL+oF,aAAc,GACd92E,MAAO,iCACPktF,YAAa,oDACb5lE,KAAM,UCLK,CACXv5B,IAAK,QACL+oF,cAAc,EACd92E,MAAO,aACPktF,YAAa,wBACb5lE,KAAM,WCLK,CACXv5B,IAAK,cACL+oF,aAAc,GACd92E,MAAO,oBACPktF,YAAa,kBACb5lE,KAAM,UCLK,CACXv5B,IAAK,aACL+oF,cAAc,EACd92E,MAAO,aACPktF,YAAa,6BACb5lE,KAAM,WCLK,CACXv5B,IAAK,kBACL+oF,cAAc,EACd92E,MAAO,kBACPktF,YAAa,kCACb5lE,KAAM,WCLK,CACXv5B,IAAK,mBACL+oF,cAAc,EACd92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UACA,UACA,UACA,UACA,UACA,WACF7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,gBACPjS,IAAK,gBACL6qG,QAAS,WACL,OAAOxsB,KCzBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACF7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,kBACPjS,IAAK,kBACL6qG,QAAS,WACL,OAAOxsB,KCzBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACF7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,uBACPjS,IAAK,sBACL6qG,QAAS,WACL,OAAOxsB,KCzBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACF7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,kBACPjS,IAAK,kBACL6qG,QAAS,WACL,OAAOxsB,KCzBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACF7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,gBACPjS,IAAK,gBACL6qG,QAAS,WACL,OAAOxsB,KCzBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACF7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,sBACPjS,IAAK,qBACL6qG,QAAS,WACL,OAAOxsB,KCzBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACF7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,gBACPjS,IAAK,gBACL6qG,QAAS,WACL,OAAOxsB,KCzBTA,GAAS,CAEX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACF7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,gBACPjS,IAAK,gBACL6qG,QAAS,WACL,OAAOxsB,KC1BTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACE7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,iBACPjS,IAAK,iBACL6qG,QAAS,WACL,OAAOxsB,KCxBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACF7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,sBACPjS,IAAK,sBACL6qG,QAAS,WACL,OAAOxsB,KCxBTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACE7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,gBACPjS,IAAK,gBACL6qG,QAAS,WACL,OAAOxsB,KCxBTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACE7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,kBACPjS,IAAK,kBACL6qG,QAAS,WACL,OAAOxsB,KCxBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACF7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,iBACPjS,IAAK,iBACL6qG,QAAS,WACL,OAAOxsB,KCxBTA,GAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACF7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,kBACPjS,IAAK,kBACL6qG,QAAS,WACL,OAAOxsB,KCxBTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACE7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,uBACPjS,IAAK,sBACL6qG,QAAS,WACL,OAAOxsB,KCxBTA,GAAS,CAEf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACE7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,iBACPjS,IAAK,iBACL6qG,QAAS,WACL,OAAOxsB,KCrBTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACE7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,gBACPjS,IAAK,gBACL6qG,QAAS,WACL,OAAOxsB,KCpBTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACE7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YAIG,IACXzrE,MAAO,oBACPjS,IAAK,oBACL6qG,QAAS,WACL,OAAOxsB,KCpBTA,GAAS,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEE7mE,KAAI,SAAAkmE,GACF,MAAO,CAACA,YCSG,IACXjwC,GDPW,CACXx7B,MAAO,iBACPkjK,SAAU,qCACVn1K,IAAK,iBACL6qG,QAAS,WACL,OAAOxsB,KCIX+2F,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,I,ybCpCiBC,G,8HAEnB,WACE,MAAO,CACL32K,KAAM,OACN0hK,OAAQ,SACRkV,UAAW,EACXn4F,a,sBAKJ,WACE,mC,KAGDt1C,GAAK,U,MAAN,WACE,IAAMomB,EAAU3wB,GAAS56B,KAAK80B,MAAM2lD,OAAO7mE,KAAI,SAAAu1B,GAC7C,MAAO,CAAErt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","file":"editor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\t//\n/* \n * MIT License\n * \n * Copyright (c) 2019 jinho park (cyberuls@gmail.com, easylogic)\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\t//\n/* \n * MIT License\n * \n * Copyright (c) 2019 jinho park (cyberuls@gmail.com, easylogic)\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\t//\n/* \n * MIT License\n * \n * Copyright (c) 2019 jinho park (cyberuls@gmail.com, easylogic)\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n\telse if(typeof exports === 'object')\n\t\texports[\"editor\"] = factory();\n\t//\n/* \n * MIT License\n * \n * Copyright (c) 2019 jinho park (cyberuls@gmail.com, easylogic)\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n\telse\n\t\troot[\"editor\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 174);\n","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","'use strict';\n\nvar isNdarray = require('./is-ndarray');\nvar isNdarrayLike = require('./is-ndarray-like');\nvar isArrayLike = require('./is-array-like');\n\nfunction inferType (x) {\n  if (!x) {\n    return undefined;\n  }\n  if (isNdarray(x) || isNdarrayLike(x)) {\n    if (x.dtype === 'generic') {\n      return inferType.GENERIC_NDARRAY;\n    }\n    return inferType.NDARRAY;\n  } else {\n    if (isArrayLike(x)) {\n      // if (isArrayLike(x[0])) {\n      return inferType.ARRAY_OF_ARRAYS;\n      // }\n      // return inferType.PACKED;\n    }\n    throw new Error('Unhandled data type. Got type: ' + (typeof x));\n  }\n}\n\ninferType.ARRAY_OF_ARRAYS = 'Arr';\ninferType.NDARRAY = 'Nd';\ninferType.GENERIC_NDARRAY = 'GenNd';\ninferType.PACKED = 'PackArr';\n\nmodule.exports = inferType;\n","'use strict';\n\nmodule.exports = function isArrayLike (data) {\n  return Array.isArray(data) || ArrayBuffer.isView(data);\n};\n","function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nmodule.exports = _taggedTemplateLiteral;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","'use strict';\n\nvar createVariable = function createVariable (name, nurbs) {\n  return function (i, period) {\n    if (i !== undefined && !Array.isArray(i)) i = [i];\n    var dimAccessors = [];\n    for (var j = 0; j < i.length; j++) {\n      dimAccessors.push(createVariable.sum(i[j]));\n    }\n    if (period) {\n      for (i = 0; i < dimAccessors.length; i++) {\n        if (period[i] === undefined) continue;\n        dimAccessors[i] = '(' + dimAccessors[i] + ' + ' + period[i] + ') % ' + period[i];\n      }\n    }\n    return name + dimAccessors.join('_');\n  };\n};\n\ncreateVariable.sum = function (parts) {\n  parts = Array.isArray(parts) ? parts : [parts];\n  parts = parts.filter(function (part) { return part !== undefined && part !== 0; });\n  if (parts.length === 0) parts.push(0);\n  return parts.join(' + ');\n};\n\nmodule.exports = createVariable;\n","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = function (arr) {\n  if (!arr) return false;\n  return (\n    arr.data !== undefined &&\n    Array.isArray(arr.shape) &&\n    arr.offset !== undefined &&\n    arr.stride !== undefined\n  );\n};\n","var inferType = require('./infer-type');\n\nmodule.exports = function (nurbs, variableName, propertyName, data) {\n  var i;\n  var code = [];\n\n  switch (inferType(data)) {\n    case inferType.NDARRAY:\n      code.push('  var ' + variableName + ' = ' + propertyName + '.data;');\n      code.push('  var ' + variableName + 'Offset = ' + propertyName + '.offset;');\n\n      for (i = 0; i < data.dimension; i++) {\n        code.push('  var ' + variableName + 'Stride' + i + ' = ' + propertyName + '.stride[' + i + '];');\n      }\n      break;\n    case inferType.ARRAY_OF_ARRAYS:\n      code.push('  var ' + variableName + ' = ' + propertyName + ';');\n  }\n\n  return code.join('\\n');\n};\n","'use strict';\n\nvar isNdarrayLike = require('./is-ndarray-like');\n\nmodule.exports = function (data, dataVariableName, dimension) {\n  if (!data) {\n    return 'this.size[' + dimension + ']';\n  } else if (isNdarrayLike(data)) {\n    return dataVariableName + '.shape[' + dimension + ']';\n  } else {\n    var str = dataVariableName;\n    for (var i = 0; i < dimension; i++) {\n      str += '[0]';\n    }\n    return str + '.length';\n  }\n};\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.urlParser = factory());\n}(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  var getQueryParams = function getQueryParams(qs) {\n    if (typeof qs !== 'string') {\n      return {};\n    }\n\n    qs = qs.split('+').join(' ');\n    var params = {};\n    var match = qs.match(/(?:[?](?:[^=]+)=(?:[^&#]*)(?:[&](?:[^=]+)=(?:[^&#]*))*(?:[#].*)?)|(?:[#].*)/);\n    var split;\n\n    if (match === null) {\n      return {};\n    }\n\n    split = match[0].substr(1).split(/[&#=]/);\n\n    for (var i = 0; i < split.length; i += 2) {\n      params[decodeURIComponent(split[i])] = decodeURIComponent(split[i + 1] || '');\n    }\n\n    return params;\n  };\n\n  var combineParams = function combineParams(params, hasParams) {\n    if (_typeof(params) !== 'object') {\n      return '';\n    }\n\n    var combined = '';\n    var i = 0;\n    var keys = Object.keys(params);\n\n    if (keys.length === 0) {\n      return '';\n    } //always have parameters in the same order\n\n\n    keys.sort();\n\n    if (!hasParams) {\n      combined += '?' + keys[0] + '=' + params[keys[0]];\n      i += 1;\n    }\n\n    for (; i < keys.length; i += 1) {\n      combined += '&' + keys[i] + '=' + params[keys[i]];\n    }\n\n    return combined;\n  }; //parses strings like 1h30m20s to seconds\n\n\n  function getLetterTime(timeString) {\n    var totalSeconds = 0;\n    var timeValues = {\n      's': 1,\n      'm': 1 * 60,\n      'h': 1 * 60 * 60,\n      'd': 1 * 60 * 60 * 24,\n      'w': 1 * 60 * 60 * 24 * 7\n    };\n    var timePairs; //expand to \"1 h 30 m 20 s\" and split\n\n    timeString = timeString.replace(/([smhdw])/g, ' $1 ').trim();\n    timePairs = timeString.split(' ');\n\n    for (var i = 0; i < timePairs.length; i += 2) {\n      totalSeconds += parseInt(timePairs[i], 10) * timeValues[timePairs[i + 1] || 's'];\n    }\n\n    return totalSeconds;\n  } //parses strings like 1:30:20 to seconds\n\n\n  function getColonTime(timeString) {\n    var totalSeconds = 0;\n    var timeValues = [1, 1 * 60, 1 * 60 * 60, 1 * 60 * 60 * 24, 1 * 60 * 60 * 24 * 7];\n    var timePairs = timeString.split(':');\n\n    for (var i = 0; i < timePairs.length; i++) {\n      totalSeconds += parseInt(timePairs[i], 10) * timeValues[timePairs.length - i - 1];\n    }\n\n    return totalSeconds;\n  }\n\n  var getTime = function getTime(timeString) {\n    if (typeof timeString === 'undefined') {\n      return 0;\n    }\n\n    if (timeString.match(/^(\\d+[smhdw]?)+$/)) {\n      return getLetterTime(timeString);\n    }\n\n    if (timeString.match(/^(\\d+:?)+$/)) {\n      return getColonTime(timeString);\n    }\n\n    return 0;\n  };\n\n  var util = {\n    getQueryParams: getQueryParams,\n    combineParams: combineParams,\n    getTime: getTime\n  };\n\n  var getQueryParams$1 = util.getQueryParams;\n\n  function UrlParser() {\n    for (var _i = 0, _arr = ['parseProvider', 'parse', 'bind', 'create']; _i < _arr.length; _i++) {\n      var key = _arr[_i];\n      this[key] = this[key].bind(this);\n    }\n\n    this.plugins = {};\n  }\n\n  var urlParser = UrlParser;\n\n  UrlParser.prototype.parseProvider = function (url) {\n    var match = url.match(/(?:(?:https?:)?\\/\\/)?(?:[^.]+\\.)?(\\w+)\\./i);\n    return match ? match[1] : undefined;\n  };\n\n  UrlParser.prototype.parse = function (url) {\n    if (typeof url === 'undefined') {\n      return undefined;\n    }\n\n    var provider = this.parseProvider(url);\n    var result;\n    var plugin = this.plugins[provider];\n\n    if (!provider || !plugin || !plugin.parse) {\n      return undefined;\n    }\n\n    result = plugin.parse.call(plugin, url, getQueryParams$1(url));\n\n    if (result) {\n      result = removeEmptyParameters(result);\n      result.provider = plugin.provider;\n    }\n\n    return result;\n  };\n\n  UrlParser.prototype.bind = function (plugin) {\n    this.plugins[plugin.provider] = plugin;\n\n    if (plugin.alternatives) {\n      for (var i = 0; i < plugin.alternatives.length; i += 1) {\n        this.plugins[plugin.alternatives[i]] = plugin;\n      }\n    }\n  };\n\n  UrlParser.prototype.create = function (op) {\n    if (_typeof(op) !== 'object' || _typeof(op.videoInfo) !== 'object') {\n      return undefined;\n    }\n\n    var vi = op.videoInfo;\n    var params = op.params;\n    var plugin = this.plugins[vi.provider];\n    params = params === 'internal' ? vi.params : params || {};\n\n    if (plugin) {\n      op.format = op.format || plugin.defaultFormat; // eslint-disable-next-line no-prototype-builtins\n\n      if (plugin.formats.hasOwnProperty(op.format)) {\n        return plugin.formats[op.format].apply(plugin, [vi, Object.assign({}, params)]);\n      }\n    }\n\n    return undefined;\n  };\n\n  function removeEmptyParameters(result) {\n    if (result.params && Object.keys(result.params).length === 0) {\n      delete result.params;\n    }\n\n    return result;\n  }\n\n  var parser = new urlParser();\n  var base = parser;\n\n  var combineParams$1 = util.combineParams;\n\n  function CanalPlus() {\n    this.provider = 'canalplus';\n    this.defaultFormat = 'embed';\n    this.formats = {\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video'\n    };\n  }\n\n  CanalPlus.prototype.parseParameters = function (params) {\n    delete params.vid;\n    return params;\n  };\n\n  CanalPlus.prototype.parse = function (url, params) {\n    var _this = this;\n\n    var result = {\n      mediaType: this.mediaTypes.VIDEO,\n      id: params.vid\n    };\n    result.params = _this.parseParameters(params);\n\n    if (!result.id) {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  CanalPlus.prototype.createEmbedUrl = function (vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = 'http://player.canalplus.fr/embed/';\n    params.vid = vi.id;\n    url += combineParams$1(params);\n    return url;\n  };\n\n  base.bind(new CanalPlus());\n\n  var combineParams$2 = util.combineParams;\n\n  function Coub() {\n    this.provider = 'coub';\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video'\n    };\n  }\n\n  Coub.prototype.parseUrl = function (url) {\n    var match = url.match(/(?:embed|view)\\/([a-zA-Z\\d]+)/i);\n    return match ? match[1] : undefined;\n  };\n\n  Coub.prototype.parse = function (url, params) {\n    var result = {\n      mediaType: this.mediaTypes.VIDEO,\n      params: params,\n      id: this.parseUrl(url)\n    };\n\n    if (!result.id) {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  Coub.prototype.createUrl = function (baseUrl, vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = baseUrl + vi.id;\n    url += combineParams$2(params);\n    return url;\n  };\n\n  Coub.prototype.createLongUrl = function (vi, params) {\n    return this.createUrl('https://coub.com/view/', vi, params);\n  };\n\n  Coub.prototype.createEmbedUrl = function (vi, params) {\n    return this.createUrl('//coub.com/embed/', vi, params);\n  };\n\n  base.bind(new Coub());\n\n  var combineParams$3 = util.combineParams,\n      getTime$1 = util.getTime;\n\n  function Dailymotion() {\n    this.provider = 'dailymotion';\n    this.alternatives = ['dai'];\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"short\": this.createShortUrl,\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl,\n      image: this.createImageUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video'\n    };\n  }\n\n  Dailymotion.prototype.parseParameters = function (params) {\n    return this.parseTime(params);\n  };\n\n  Dailymotion.prototype.parseTime = function (params) {\n    if (params.start) {\n      params.start = getTime$1(params.start);\n    }\n\n    return params;\n  };\n\n  Dailymotion.prototype.parseUrl = function (url) {\n    var match = url.match(/(?:\\/video|ly)\\/([A-Za-z0-9]+)/i);\n    return match ? match[1] : undefined;\n  };\n\n  Dailymotion.prototype.parse = function (url, params) {\n    var _this = this;\n\n    var result = {\n      mediaType: this.mediaTypes.VIDEO,\n      params: _this.parseParameters(params),\n      id: _this.parseUrl(url)\n    };\n    return result.id ? result : undefined;\n  };\n\n  Dailymotion.prototype.createUrl = function (base, vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    return base + vi.id + combineParams$3(params);\n  };\n\n  Dailymotion.prototype.createShortUrl = function (vi, params) {\n    return this.createUrl('https://dai.ly/', vi, params);\n  };\n\n  Dailymotion.prototype.createLongUrl = function (vi, params) {\n    return this.createUrl('https://dailymotion.com/video/', vi, params);\n  };\n\n  Dailymotion.prototype.createEmbedUrl = function (vi, params) {\n    return this.createUrl('https://www.dailymotion.com/embed/video/', vi, params);\n  };\n\n  Dailymotion.prototype.createImageUrl = function (vi, params) {\n    delete params.start;\n    return this.createUrl('https://www.dailymotion.com/thumbnail/video/', vi, params);\n  };\n\n  base.bind(new Dailymotion());\n\n  var combineParams$4 = util.combineParams,\n      getTime$2 = util.getTime;\n\n  function Twitch() {\n    this.provider = 'twitch';\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video',\n      STREAM: 'stream',\n      CLIP: 'clip'\n    };\n  }\n\n  Twitch.prototype.seperateId = function (id) {\n    return {\n      pre: id[0],\n      id: id.substr(1)\n    };\n  };\n\n  Twitch.prototype.parseChannel = function (result, params) {\n    var channel = params.channel || params.utm_content || result.channel;\n    delete params.utm_content;\n    delete params.channel;\n    return channel;\n  };\n\n  Twitch.prototype.parseUrl = function (url, result, params) {\n    var match;\n    match = url.match(/(clips\\.)?twitch\\.tv\\/(?:(?:videos\\/(\\d+))|(\\w+)(?:\\/clip\\/(\\w+))?)/i);\n\n    if (match && match[2]) {\n      //video\n      result.id = 'v' + match[2];\n    } else if (params.video) {\n      //video embed\n      result.id = params.video;\n      delete params.video;\n    } else if (params.clip) {\n      //clips embed\n      result.id = params.clip;\n      result.isClip = true;\n      delete params.clip;\n    } else if (match && match[1] && match[3]) {\n      //clips.twitch.tv/id\n      result.id = match[3];\n      result.isClip = true;\n    } else if (match && match[3] && match[4]) {\n      //twitch.tv/channel/clip/id\n      result.channel = match[3];\n      result.id = match[4];\n      result.isClip = true;\n    } else if (match && match[3]) {\n      result.channel = match[3];\n    }\n\n    return result;\n  };\n\n  Twitch.prototype.parseMediaType = function (result) {\n    var mediaType;\n\n    if (result.id) {\n      if (result.isClip) {\n        mediaType = this.mediaTypes.CLIP;\n        delete result.isClip;\n      } else {\n        mediaType = this.mediaTypes.VIDEO;\n      }\n    } else if (result.channel) {\n      mediaType = this.mediaTypes.STREAM;\n    }\n\n    return mediaType;\n  };\n\n  Twitch.prototype.parseParameters = function (params) {\n    if (params.t) {\n      params.start = getTime$2(params.t);\n      delete params.t;\n    }\n\n    return params;\n  };\n\n  Twitch.prototype.parse = function (url, params) {\n    var _this = this;\n\n    var result = {};\n    result = _this.parseUrl(url, result, params);\n    result.channel = _this.parseChannel(result, params);\n    result.mediaType = _this.parseMediaType(result);\n    result.params = _this.parseParameters(params);\n    return result.channel || result.id ? result : undefined;\n  };\n\n  Twitch.prototype.createLongUrl = function (vi, params) {\n    var url = '';\n\n    if (vi.mediaType === this.mediaTypes.STREAM && vi.channel) {\n      url = 'https://twitch.tv/' + vi.channel;\n    } else if (vi.mediaType === this.mediaTypes.VIDEO && vi.id) {\n      var sep = this.seperateId(vi.id);\n      url = 'https://twitch.tv/videos/' + sep.id;\n\n      if (params.start) {\n        params.t = params.start + 's';\n        delete params.start;\n      }\n    } else if (vi.mediaType === this.mediaTypes.CLIP && vi.id) {\n      if (vi.channel) {\n        url = 'https://www.twitch.tv/' + vi.channel + '/clip/' + vi.id;\n      } else {\n        url = 'https://clips.twitch.tv/' + vi.id;\n      }\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$4(params);\n    return url;\n  };\n\n  Twitch.prototype.createEmbedUrl = function (vi, params) {\n    var url = 'https://player.twitch.tv/';\n\n    if (vi.mediaType === this.mediaTypes.STREAM && vi.channel) {\n      params.channel = vi.channel;\n    } else if (vi.mediaType === this.mediaTypes.VIDEO && vi.id) {\n      params.video = vi.id;\n\n      if (params.start) {\n        params.t = params.start + 's';\n        delete params.start;\n      }\n    } else if (vi.mediaType === this.mediaTypes.CLIP && vi.id) {\n      url = 'https://clips.twitch.tv/embed';\n      params.clip = vi.id;\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$4(params);\n    return url;\n  };\n\n  base.bind(new Twitch());\n\n  var combineParams$5 = util.combineParams,\n      getTime$3 = util.getTime;\n\n  function Vimeo() {\n    this.provider = 'vimeo';\n    this.alternatives = ['vimeopro'];\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video'\n    };\n  }\n\n  Vimeo.prototype.parseUrl = function (url) {\n    var match = url.match(/(?:\\/(?:channels\\/[\\w]+|(?:(?:album\\/\\d+|groups\\/[\\w]+)\\/)?videos?))?\\/(\\d+)/i);\n    return match ? match[1] : undefined;\n  };\n\n  Vimeo.prototype.parseParameters = function (params) {\n    return this.parseTime(params);\n  };\n\n  Vimeo.prototype.parseTime = function (params) {\n    if (params.t) {\n      params.start = getTime$3(params.t);\n      delete params.t;\n    }\n\n    return params;\n  };\n\n  Vimeo.prototype.parse = function (url, params) {\n    var result = {\n      mediaType: this.mediaTypes.VIDEO,\n      params: this.parseParameters(params),\n      id: this.parseUrl(url)\n    };\n    return result.id ? result : undefined;\n  };\n\n  Vimeo.prototype.createUrl = function (baseUrl, vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = baseUrl + vi.id;\n    var startTime = params.start;\n    delete params.start;\n    url += combineParams$5(params);\n\n    if (startTime) {\n      url += '#t=' + startTime;\n    }\n\n    return url;\n  };\n\n  Vimeo.prototype.createLongUrl = function (vi, params) {\n    return this.createUrl('https://vimeo.com/', vi, params);\n  };\n\n  Vimeo.prototype.createEmbedUrl = function (vi, params) {\n    return this.createUrl('//player.vimeo.com/video/', vi, params);\n  };\n\n  base.bind(new Vimeo());\n\n  var combineParams$6 = util.combineParams,\n      getTime$4 = util.getTime;\n\n  function Wistia() {\n    this.provider = 'wistia';\n    this.alternatives = [];\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl,\n      embedjsonp: this.createEmbedJsonpUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video',\n      EMBEDVIDEO: 'embedvideo'\n    };\n  }\n\n  Wistia.prototype.parseUrl = function (url) {\n    var match = url.match(/(?:(?:medias|iframe)\\/|wvideo=)([\\w-]+)/);\n    return match ? match[1] : undefined;\n  };\n\n  Wistia.prototype.parseChannel = function (url) {\n    var match = url.match(/(?:(?:https?:)?\\/\\/)?([^.]*)\\.wistia\\./);\n    var channel = match ? match[1] : undefined;\n\n    if (channel === 'fast' || channel === 'content') {\n      return undefined;\n    }\n\n    return channel;\n  };\n\n  Wistia.prototype.parseParameters = function (params, result) {\n    if (params.wtime) {\n      params.start = getTime$4(params.wtime);\n      delete params.wtime;\n    }\n\n    if (params.wvideo === result.id) {\n      delete params.wvideo;\n    }\n\n    return params;\n  };\n\n  Wistia.prototype.parseMediaType = function (result) {\n    if (result.id && result.channel) {\n      return this.mediaTypes.VIDEO;\n    } else if (result.id) {\n      delete result.channel;\n      return this.mediaTypes.EMBEDVIDEO;\n    } else {\n      return undefined;\n    }\n  };\n\n  Wistia.prototype.parse = function (url, params) {\n    var result = {\n      id: this.parseUrl(url),\n      channel: this.parseChannel(url)\n    };\n    result.params = this.parseParameters(params, result);\n    result.mediaType = this.parseMediaType(result);\n\n    if (!result.id) {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  Wistia.prototype.createUrl = function (vi, params, url) {\n    if (params.start) {\n      params.wtime = params.start;\n      delete params.start;\n    }\n\n    url += combineParams$6(params);\n    return url;\n  };\n\n  Wistia.prototype.createLongUrl = function (vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = 'https://' + vi.channel + '.wistia.com/medias/' + vi.id;\n    return this.createUrl(vi, params, url);\n  };\n\n  Wistia.prototype.createEmbedUrl = function (vi, params) {\n    if (!vi.id || !(vi.mediaType === this.mediaTypes.VIDEO || vi.mediaType === this.mediaTypes.EMBEDVIDEO)) {\n      return undefined;\n    }\n\n    var url = 'https://fast.wistia.com/embed/iframe/' + vi.id;\n    return this.createUrl(vi, params, url);\n  };\n\n  Wistia.prototype.createEmbedJsonpUrl = function (vi) {\n    if (!vi.id || !(vi.mediaType === this.mediaTypes.VIDEO || vi.mediaType === this.mediaTypes.EMBEDVIDEO)) {\n      return undefined;\n    }\n\n    return 'https://fast.wistia.com/embed/medias/' + vi.id + '.jsonp';\n  };\n\n  base.bind(new Wistia());\n\n  var combineParams$7 = util.combineParams;\n\n  function Youku() {\n    this.provider = 'youku';\n    this.defaultFormat = 'long';\n    this.formats = {\n      embed: this.createEmbedUrl,\n      \"long\": this.createLongUrl,\n      flash: this.createFlashUrl,\n      \"static\": this.createStaticUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video'\n    };\n  }\n\n  Youku.prototype.parseUrl = function (url) {\n    var match = url.match(/(?:(?:embed|sid)\\/|v_show\\/id_|VideoIDS=)([a-zA-Z0-9]+)/);\n    return match ? match[1] : undefined;\n  };\n\n  Youku.prototype.parseParameters = function (params) {\n    if (params.VideoIDS) {\n      delete params.VideoIDS;\n    }\n\n    return params;\n  };\n\n  Youku.prototype.parse = function (url, params) {\n    var _this = this;\n\n    var result = {\n      mediaType: this.mediaTypes.VIDEO,\n      id: _this.parseUrl(url),\n      params: _this.parseParameters(params)\n    };\n\n    if (!result.id) {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  Youku.prototype.createUrl = function (baseUrl, vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = baseUrl + vi.id;\n    url += combineParams$7(params);\n    return url;\n  };\n\n  Youku.prototype.createEmbedUrl = function (vi, params) {\n    return this.createUrl('http://player.youku.com/embed/', vi, params);\n  };\n\n  Youku.prototype.createLongUrl = function (vi, params) {\n    return this.createUrl('http://v.youku.com/v_show/id_', vi, params);\n  };\n\n  Youku.prototype.createStaticUrl = function (vi, params) {\n    return this.createUrl('http://static.youku.com/v1.0.0638/v/swf/loader.swf?VideoIDS=', vi, params);\n  };\n\n  Youku.prototype.createFlashUrl = function (vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = 'http://player.youku.com/player.php/sid/' + vi.id + '/v.swf';\n    url += combineParams$7(params);\n    return url;\n  };\n\n  base.bind(new Youku());\n\n  var combineParams$8 = util.combineParams,\n      getTime$5 = util.getTime;\n\n  function YouTube() {\n    this.provider = 'youtube';\n    this.alternatives = ['youtu', 'ytimg'];\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"short\": this.createShortUrl,\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl,\n      shortImage: this.createShortImageUrl,\n      longImage: this.createLongImageUrl\n    };\n    this.imageQualities = {\n      '0': '0',\n      '1': '1',\n      '2': '2',\n      '3': '3',\n      DEFAULT: 'default',\n      HQDEFAULT: 'hqdefault',\n      SDDEFAULT: 'sddefault',\n      MQDEFAULT: 'mqdefault',\n      MAXRESDEFAULT: 'maxresdefault'\n    };\n    this.defaultImageQuality = this.imageQualities.HQDEFAULT;\n    this.mediaTypes = {\n      VIDEO: 'video',\n      PLAYLIST: 'playlist',\n      SHARE: 'share',\n      CHANNEL: 'channel'\n    };\n  }\n\n  YouTube.prototype.parseVideoUrl = function (url) {\n    var match = url.match(/(?:(?:v|vi|be|videos|embed)\\/(?!videoseries)|(?:v|ci)=)([\\w-]{11})/i);\n    return match ? match[1] : undefined;\n  };\n\n  YouTube.prototype.parseChannelUrl = function (url) {\n    // Match an opaque channel ID\n    var match = url.match(/\\/channel\\/([\\w-]+)/);\n\n    if (match) {\n      return {\n        id: match[1],\n        mediaType: this.mediaTypes.CHANNEL\n      };\n    } // Match a vanity channel name or a user name. User urls are deprecated and\n    // currently redirect to the channel of that same name.\n\n\n    match = url.match(/\\/(?:c|user)\\/([\\w-]+)/);\n\n    if (match) {\n      return {\n        name: match[1],\n        mediaType: this.mediaTypes.CHANNEL\n      };\n    }\n  };\n\n  YouTube.prototype.parseParameters = function (params, result) {\n    if (params.start || params.t) {\n      params.start = getTime$5(params.start || params.t);\n      delete params.t;\n    }\n\n    if (params.v === result.id) {\n      delete params.v;\n    }\n\n    if (params.list === result.id) {\n      delete params.list;\n    }\n\n    return params;\n  };\n\n  YouTube.prototype.parseMediaType = function (result) {\n    if (result.params.list) {\n      result.list = result.params.list;\n      delete result.params.list;\n    }\n\n    if (result.id && !result.params.ci) {\n      result.mediaType = this.mediaTypes.VIDEO;\n    } else if (result.list) {\n      delete result.id;\n      result.mediaType = this.mediaTypes.PLAYLIST;\n    } else if (result.params.ci) {\n      delete result.params.ci;\n      result.mediaType = this.mediaTypes.SHARE;\n    } else {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  YouTube.prototype.parse = function (url, params) {\n    var channelResult = this.parseChannelUrl(url);\n\n    if (channelResult) {\n      return channelResult;\n    } else {\n      var result = {\n        params: params,\n        id: this.parseVideoUrl(url)\n      };\n      result.params = this.parseParameters(params, result);\n      result = this.parseMediaType(result);\n      return result;\n    }\n  };\n\n  YouTube.prototype.createShortUrl = function (vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = 'https://youtu.be/' + vi.id;\n\n    if (params.start) {\n      url += '#t=' + params.start;\n    }\n\n    return url;\n  };\n\n  YouTube.prototype.createLongUrl = function (vi, params) {\n    var url = '';\n    var startTime = params.start;\n    delete params.start;\n\n    if (vi.mediaType === this.mediaTypes.CHANNEL) {\n      if (vi.id) {\n        url += 'https://www.youtube.com/channel/' + vi.id;\n      } else if (vi.name) {\n        url += 'https://www.youtube.com/c/' + vi.name;\n      } else {\n        return undefined;\n      }\n    } else if (vi.mediaType === this.mediaTypes.PLAYLIST && vi.list) {\n      params.feature = 'share';\n      url += 'https://www.youtube.com/playlist';\n    } else if (vi.mediaType === this.mediaTypes.VIDEO && vi.id) {\n      params.v = vi.id;\n      url += 'https://www.youtube.com/watch';\n    } else if (vi.mediaType === this.mediaTypes.SHARE && vi.id) {\n      params.ci = vi.id;\n      url += 'https://www.youtube.com/shared';\n    } else {\n      return undefined;\n    }\n\n    if (vi.list) {\n      params.list = vi.list;\n    }\n\n    url += combineParams$8(params);\n\n    if (vi.mediaType !== this.mediaTypes.PLAYLIST && startTime) {\n      url += '#t=' + startTime;\n    }\n\n    return url;\n  };\n\n  YouTube.prototype.createEmbedUrl = function (vi, params) {\n    var url = 'https://www.youtube.com/embed';\n\n    if (vi.mediaType === this.mediaTypes.PLAYLIST && vi.list) {\n      params.listType = 'playlist';\n    } else if (vi.mediaType === this.mediaTypes.VIDEO && vi.id) {\n      url += '/' + vi.id; //loop hack\n\n      if (params.loop === '1') {\n        params.playlist = vi.id;\n      }\n    } else {\n      return undefined;\n    }\n\n    if (vi.list) {\n      params.list = vi.list;\n    }\n\n    url += combineParams$8(params);\n    return url;\n  };\n\n  YouTube.prototype.createImageUrl = function (baseUrl, vi, params) {\n    if (!vi.id || vi.mediaType !== this.mediaTypes.VIDEO) {\n      return undefined;\n    }\n\n    var url = baseUrl + vi.id + '/';\n    var quality = params.imageQuality || this.defaultImageQuality;\n    return url + quality + '.jpg';\n  };\n\n  YouTube.prototype.createShortImageUrl = function (vi, params) {\n    return this.createImageUrl('https://i.ytimg.com/vi/', vi, params);\n  };\n\n  YouTube.prototype.createLongImageUrl = function (vi, params) {\n    return this.createImageUrl('https://img.youtube.com/vi/', vi, params);\n  };\n\n  base.bind(new YouTube());\n\n  var combineParams$9 = util.combineParams,\n      getTime$6 = util.getTime;\n\n  function SoundCloud() {\n    this.provider = 'soundcloud';\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      TRACK: 'track',\n      PLAYLIST: 'playlist',\n      APITRACK: 'apitrack',\n      APIPLAYLIST: 'apiplaylist'\n    };\n  }\n\n  SoundCloud.prototype.parseUrl = function (url, result) {\n    var match = url.match(/(?:m\\.)?soundcloud\\.com\\/(?:([\\w-]+)\\/(sets\\/)?)([\\w-]+)/i);\n\n    if (!match) {\n      return result;\n    }\n\n    result.channel = match[1];\n\n    if (match[1] === 'playlists' || match[2]) {\n      //playlist\n      result.list = match[3];\n    } else {\n      //track\n      result.id = match[3];\n    }\n\n    return result;\n  };\n\n  SoundCloud.prototype.parseParameters = function (params) {\n    if (params.t) {\n      params.start = getTime$6(params.t);\n      delete params.t;\n    }\n\n    return params;\n  };\n\n  SoundCloud.prototype.parseMediaType = function (result) {\n    if (result.id) {\n      if (result.channel === 'tracks') {\n        delete result.channel;\n        delete result.params.url;\n        result.mediaType = this.mediaTypes.APITRACK;\n      } else {\n        result.mediaType = this.mediaTypes.TRACK;\n      }\n    }\n\n    if (result.list) {\n      if (result.channel === 'playlists') {\n        delete result.channel;\n        delete result.params.url;\n        result.mediaType = this.mediaTypes.APIPLAYLIST;\n      } else {\n        result.mediaType = this.mediaTypes.PLAYLIST;\n      }\n    }\n\n    return result;\n  };\n\n  SoundCloud.prototype.parse = function (url, params) {\n    var result = {};\n    result = this.parseUrl(url, result);\n    result.params = this.parseParameters(params);\n    result = this.parseMediaType(result);\n\n    if (!result.id && !result.list) {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  SoundCloud.prototype.createLongUrl = function (vi, params) {\n    var url = '';\n    var startTime = params.start;\n    delete params.start;\n\n    if (vi.mediaType === this.mediaTypes.TRACK && vi.id && vi.channel) {\n      url = 'https://soundcloud.com/' + vi.channel + '/' + vi.id;\n    } else if (vi.mediaType === this.mediaTypes.PLAYLIST && vi.list && vi.channel) {\n      url = 'https://soundcloud.com/' + vi.channel + '/sets/' + vi.list;\n    } else if (vi.mediaType === this.mediaTypes.APITRACK && vi.id) {\n      url = 'https://api.soundcloud.com/tracks/' + vi.id;\n    } else if (vi.mediaType === this.mediaTypes.APIPLAYLIST && vi.list) {\n      url = 'https://api.soundcloud.com/playlists/' + vi.list;\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$9(params);\n\n    if (startTime) {\n      url += '#t=' + startTime;\n    }\n\n    return url;\n  };\n\n  SoundCloud.prototype.createEmbedUrl = function (vi, params) {\n    var url = 'https://w.soundcloud.com/player/';\n    delete params.start;\n\n    if (vi.mediaType === this.mediaTypes.APITRACK && vi.id) {\n      params.url = 'https%3A//api.soundcloud.com/tracks/' + vi.id;\n    } else if (vi.mediaType === this.mediaTypes.APIPLAYLIST && vi.list) {\n      params.url = 'https%3A//api.soundcloud.com/playlists/' + vi.list;\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$9(params);\n    return url;\n  };\n\n  base.bind(new SoundCloud());\n\n  var combineParams$a = util.combineParams;\n\n  function TeacherTube() {\n    this.provider = 'teachertube';\n    this.alternatives = [];\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video',\n      AUDIO: 'audio',\n      DOCUMENT: 'document',\n      CHANNEL: 'channel',\n      COLLECTION: 'collection',\n      GROUP: 'group'\n    };\n  }\n\n  TeacherTube.prototype.parse = function (url, params) {\n    var result = {};\n    result.list = this.parsePlaylist(params);\n    result.params = params;\n    var match = url.match(/\\/(audio|video|document|user\\/channel|collection|group)\\/(?:[\\w-]+-)?(\\w+)/);\n\n    if (!match) {\n      return undefined;\n    }\n\n    result.mediaType = this.parseMediaType(match[1]);\n    result.id = match[2];\n    return result;\n  };\n\n  TeacherTube.prototype.parsePlaylist = function (params) {\n    if (params['playlist-id']) {\n      var list = params['playlist-id'];\n      delete params['playlist-id'];\n      return list;\n    }\n\n    return undefined;\n  };\n\n  TeacherTube.prototype.parseMediaType = function (mediaTypeMatch) {\n    switch (mediaTypeMatch) {\n      case 'audio':\n        return this.mediaTypes.AUDIO;\n\n      case 'video':\n        return this.mediaTypes.VIDEO;\n\n      case 'document':\n        return this.mediaTypes.DOCUMENT;\n\n      case 'user/channel':\n        return this.mediaTypes.CHANNEL;\n\n      case 'collection':\n        return this.mediaTypes.COLLECTION;\n\n      case 'group':\n        return this.mediaTypes.GROUP;\n    }\n  };\n\n  TeacherTube.prototype.createLongUrl = function (vi, params) {\n    if (!vi.id) {\n      return undefined;\n    }\n\n    var url = 'https://www.teachertube.com/';\n\n    if (vi.list) {\n      params['playlist-id'] = vi.list;\n    }\n\n    if (vi.mediaType === this.mediaTypes.CHANNEL) {\n      url += 'user/channel/';\n    } else {\n      url += vi.mediaType + '/';\n    }\n\n    url += vi.id;\n    url += combineParams$a(params);\n    return url;\n  };\n\n  TeacherTube.prototype.createEmbedUrl = function (vi, params) {\n    if (!vi.id) {\n      return undefined;\n    }\n\n    var url = 'https://www.teachertube.com/embed/';\n\n    if (vi.mediaType === this.mediaTypes.VIDEO || vi.mediaType === this.mediaTypes.AUDIO) {\n      url += vi.mediaType + '/' + vi.id;\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$a(params);\n    return url;\n  };\n\n  base.bind(new TeacherTube());\n\n  var combineParams$b = util.combineParams;\n\n  function TikTok() {\n    this.provider = 'tiktok';\n    this.defaultFormat = 'long';\n    this.formats = {\n      \"long\": this.createLongUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video'\n    };\n  }\n\n  TikTok.prototype.parse = function (url, params) {\n    var result = {\n      params: params,\n      mediaType: this.mediaTypes.VIDEO\n    };\n    var match = url.match(/@([^/]+)\\/video\\/(\\d{19})/);\n\n    if (!match) {\n      return;\n    }\n\n    result.channel = match[1];\n    result.id = match[2];\n    return result;\n  };\n\n  TikTok.prototype.createLongUrl = function (vi, params) {\n    var url = '';\n\n    if (vi.mediaType === this.mediaTypes.VIDEO && vi.id && vi.channel) {\n      url += \"https://www.tiktok.com/@\".concat(vi.channel, \"/video/\").concat(vi.id);\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$b(params);\n    return url;\n  };\n\n  base.bind(new TikTok());\n\n  var combineParams$c = util.combineParams;\n\n  function Ted() {\n    this.provider = 'ted';\n    this.formats = {\n      \"long\": this.createLongUrl,\n      embed: this.createEmbedUrl\n    };\n    this.mediaTypes = {\n      VIDEO: 'video',\n      PLAYLIST: 'playlist'\n    };\n  }\n\n  Ted.prototype.parseUrl = function (url, result) {\n    var match = url.match(/\\/(talks|playlists\\/(\\d+))\\/([\\w-]+)/);\n    var channel = match ? match[1] : undefined;\n\n    if (!channel) {\n      return result;\n    }\n\n    result.channel = channel.split('/')[0];\n    result.id = match[3];\n\n    if (result.channel === 'playlists') {\n      result.list = match[2];\n    }\n\n    return result;\n  };\n\n  Ted.prototype.parseMediaType = function (result) {\n    if (result.id && result.channel === 'playlists') {\n      delete result.channel;\n      result.mediaType = this.mediaTypes.PLAYLIST;\n    }\n\n    if (result.id && result.channel === 'talks') {\n      delete result.channel;\n      result.mediaType = this.mediaTypes.VIDEO;\n    }\n\n    return result;\n  };\n\n  Ted.prototype.parse = function (url, params) {\n    var result = {\n      params: params\n    };\n    result = this.parseUrl(url, result);\n    result = this.parseMediaType(result);\n\n    if (!result.id) {\n      return undefined;\n    }\n\n    return result;\n  };\n\n  Ted.prototype.createLongUrl = function (vi, params) {\n    var url = '';\n\n    if (vi.mediaType === this.mediaTypes.VIDEO && vi.id) {\n      url += 'https://ted.com/talks/' + vi.id;\n    } else if (vi.mediaType === this.mediaTypes.PLAYLIST && vi.id) {\n      url += 'https://ted.com/playlists/' + vi.list + '/' + vi.id;\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$c(params);\n    return url;\n  };\n\n  Ted.prototype.createEmbedUrl = function (vi, params) {\n    var url = 'https://embed.ted.com/';\n\n    if (vi.mediaType === this.mediaTypes.PLAYLIST && vi.id) {\n      url += 'playlists/' + vi.list + '/' + vi.id;\n    } else if (vi.mediaType === this.mediaTypes.VIDEO && vi.id) {\n      url += 'talks/' + vi.id;\n    } else {\n      return undefined;\n    }\n\n    url += combineParams$c(params);\n    return url;\n  };\n\n  base.bind(new Ted());\n\n  var lib = base;\n\n  return lib;\n\n})));\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","'use strict';\n\n// Source: https://github.com/scijs/isndarray\n// By Kyle Robinson Young, MIT Licensed.\n\nmodule.exports = function (arr) {\n  if (!arr) return false;\n  if (!arr.dtype) return false;\n  var re = new RegExp('function View[0-9]+d(:?' + arr.dtype + ')+');\n  return re.test(String(arr.constructor));\n};\n","'use strict';\n\nmodule.exports = function ndloop (n, callback) {\n  for (var m = 1, k = 0, i = []; k < n.length; k++) {\n    m *= Array.isArray(n[k]) ? (n[k][1] - n[k][0]) : n[k];\n    i[k] = Array.isArray(n[k]) ? n[k][0] : 0;\n  }\n  for (var ptr = 0; ptr < m; ptr++) {\n    callback(i.slice());\n    for (k = n.length - 1; k >= 0; k--) {\n      if (i[k] === (Array.isArray(n[k]) ? n[k][1] : n[k]) - 1) {\n        i[k] = Array.isArray(n[k]) ? n[k][0] : 0;\n      } else {\n        i[k]++;\n        break;\n      }\n    }\n  }\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define([\"module\"], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module);\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod);\n        global.fitCurve = mod.exports;\n    }\n})(this, function (module) {\n    \"use strict\";\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    /**\n     *  @preserve  JavaScript implementation of\n     *  Algorithm for Automatically Fitting Digitized Curves\n     *  by Philip J. Schneider\n     *  \"Graphics Gems\", Academic Press, 1990\n     *\n     *  The MIT License (MIT)\n     *\n     *  https://github.com/soswow/fit-curves\n     */\n\n    /**\n     * Fit one or more Bezier curves to a set of points.\n     *\n     * @param {Array<Array<Number>>} points - Array of digitized points, e.g. [[5,5],[5,50],[110,140],[210,160],[320,110]]\n     * @param {Number} maxError - Tolerance, squared error between points and fitted curve\n     * @returns {Array<Array<Array<Number>>>} Array of Bezier curves, where each element is [first-point, control-point-1, control-point-2, second-point] and points are [x, y]\n     */\n    function fitCurve(points, maxError, progressCallback) {\n        if (!Array.isArray(points)) {\n            throw new TypeError(\"First argument should be an array\");\n        }\n        points.forEach(function (point) {\n            if (!Array.isArray(point) || point.some(function (item) {\n                return typeof item !== 'number';\n            }) || point.length !== points[0].length) {\n                throw Error(\"Each point should be an array of numbers. Each point should have the same amount of numbers.\");\n            }\n        });\n\n        // Remove duplicate points\n        points = points.filter(function (point, i) {\n            return i === 0 || !point.every(function (val, j) {\n                return val === points[i - 1][j];\n            });\n        });\n\n        if (points.length < 2) {\n            return [];\n        }\n\n        var len = points.length;\n        var leftTangent = createTangent(points[1], points[0]);\n        var rightTangent = createTangent(points[len - 2], points[len - 1]);\n\n        return fitCubic(points, leftTangent, rightTangent, maxError, progressCallback);\n    }\n\n    /**\n     * Fit a Bezier curve to a (sub)set of digitized points.\n     * Your code should not call this function directly. Use {@link fitCurve} instead.\n     *\n     * @param {Array<Array<Number>>} points - Array of digitized points, e.g. [[5,5],[5,50],[110,140],[210,160],[320,110]]\n     * @param {Array<Number>} leftTangent - Unit tangent vector at start point\n     * @param {Array<Number>} rightTangent - Unit tangent vector at end point\n     * @param {Number} error - Tolerance, squared error between points and fitted curve\n     * @returns {Array<Array<Array<Number>>>} Array of Bezier curves, where each element is [first-point, control-point-1, control-point-2, second-point] and points are [x, y]\n     */\n    function fitCubic(points, leftTangent, rightTangent, error, progressCallback) {\n        var MaxIterations = 20; //Max times to try iterating (to find an acceptable curve)\n\n        var bezCurve, //Control points of fitted Bezier curve\n        u, //Parameter values for point\n        uPrime, //Improved parameter values\n        maxError, prevErr, //Maximum fitting error\n        splitPoint, prevSplit, //Point to split point set at if we need more than one curve\n        centerVector, toCenterTangent, fromCenterTangent, //Unit tangent vector(s) at splitPoint\n        beziers, //Array of fitted Bezier curves if we need more than one curve\n        dist, i;\n\n        //console.log('fitCubic, ', points.length);\n\n        //Use heuristic if region only has two points in it\n        if (points.length === 2) {\n            dist = maths.vectorLen(maths.subtract(points[0], points[1])) / 3.0;\n            bezCurve = [points[0], maths.addArrays(points[0], maths.mulItems(leftTangent, dist)), maths.addArrays(points[1], maths.mulItems(rightTangent, dist)), points[1]];\n            return [bezCurve];\n        }\n\n        //Parameterize points, and attempt to fit curve\n        u = chordLengthParameterize(points);\n\n        var _generateAndReport = generateAndReport(points, u, u, leftTangent, rightTangent, progressCallback);\n\n        bezCurve = _generateAndReport[0];\n        maxError = _generateAndReport[1];\n        splitPoint = _generateAndReport[2];\n\n\n        if (maxError === 0 || maxError < error) {\n            return [bezCurve];\n        }\n        //If error not too large, try some reparameterization and iteration\n        if (maxError < error * error) {\n\n            uPrime = u;\n            prevErr = maxError;\n            prevSplit = splitPoint;\n\n            for (i = 0; i < MaxIterations; i++) {\n\n                uPrime = reparameterize(bezCurve, points, uPrime);\n\n                var _generateAndReport2 = generateAndReport(points, u, uPrime, leftTangent, rightTangent, progressCallback);\n\n                bezCurve = _generateAndReport2[0];\n                maxError = _generateAndReport2[1];\n                splitPoint = _generateAndReport2[2];\n\n\n                if (maxError < error) {\n                    return [bezCurve];\n                }\n                //If the development of the fitted curve grinds to a halt,\n                //we abort this attempt (and try a shorter curve):\n                else if (splitPoint === prevSplit) {\n                        var errChange = maxError / prevErr;\n                        if (errChange > .9999 && errChange < 1.0001) {\n                            break;\n                        }\n                    }\n\n                prevErr = maxError;\n                prevSplit = splitPoint;\n            }\n        }\n\n        //Fitting failed -- split at max error point and fit recursively\n        beziers = [];\n\n        //To create a smooth transition from one curve segment to the next, we\n        //calculate the line between the points directly before and after the\n        //center, and use that as the tangent both to and from the center point.\n        centerVector = maths.subtract(points[splitPoint - 1], points[splitPoint + 1]);\n        //However, this won't work if they're the same point, because the line we\n        //want to use as a tangent would be 0. Instead, we calculate the line from\n        //that \"double-point\" to the center point, and use its tangent.\n        if (centerVector.every(function (val) {\n            return val === 0;\n        })) {\n            //[x,y] -> [-y,x]: http://stackoverflow.com/a/4780141/1869660\n            centerVector = maths.subtract(points[splitPoint - 1], points[splitPoint]);\n            var _ref = [-centerVector[1], centerVector[0]];\n            centerVector[0] = _ref[0];\n            centerVector[1] = _ref[1];\n        }\n        toCenterTangent = maths.normalize(centerVector);\n        //To and from need to point in opposite directions:\n        fromCenterTangent = maths.mulItems(toCenterTangent, -1);\n\n        /*\n        Note: An alternative to this \"divide and conquer\" recursion could be to always\n              let new curve segments start by trying to go all the way to the end,\n              instead of only to the end of the current subdivided polyline.\n              That might let many segments fit a few points more, reducing the number of total segments.\n               However, a few tests have shown that the segment reduction is insignificant\n              (240 pts, 100 err: 25 curves vs 27 curves. 140 pts, 100 err: 17 curves on both),\n              and the results take twice as many steps and milliseconds to finish,\n              without looking any better than what we already have.\n        */\n        beziers = beziers.concat(fitCubic(points.slice(0, splitPoint + 1), leftTangent, toCenterTangent, error, progressCallback));\n        beziers = beziers.concat(fitCubic(points.slice(splitPoint), fromCenterTangent, rightTangent, error, progressCallback));\n        return beziers;\n    };\n\n    function generateAndReport(points, paramsOrig, paramsPrime, leftTangent, rightTangent, progressCallback) {\n        var bezCurve, maxError, splitPoint;\n\n        bezCurve = generateBezier(points, paramsPrime, leftTangent, rightTangent, progressCallback);\n        //Find max deviation of points to fitted curve.\n        //Here we always use the original parameters (from chordLengthParameterize()),\n        //because we need to compare the current curve to the actual source polyline,\n        //and not the currently iterated parameters which reparameterize() & generateBezier() use,\n        //as those have probably drifted far away and may no longer be in ascending order.\n\n        var _computeMaxError = computeMaxError(points, bezCurve, paramsOrig);\n\n        maxError = _computeMaxError[0];\n        splitPoint = _computeMaxError[1];\n\n\n        if (progressCallback) {\n            progressCallback({\n                bez: bezCurve,\n                points: points,\n                params: paramsOrig,\n                maxErr: maxError,\n                maxPoint: splitPoint\n            });\n        }\n\n        return [bezCurve, maxError, splitPoint];\n    }\n\n    /**\n     * Use least-squares method to find Bezier control points for region.\n     *\n     * @param {Array<Array<Number>>} points - Array of digitized points\n     * @param {Array<Number>} parameters - Parameter values for region\n     * @param {Array<Number>} leftTangent - Unit tangent vector at start point\n     * @param {Array<Number>} rightTangent - Unit tangent vector at end point\n     * @returns {Array<Array<Number>>} Approximated Bezier curve: [first-point, control-point-1, control-point-2, second-point] where points are [x, y]\n     */\n    function generateBezier(points, parameters, leftTangent, rightTangent) {\n        var bezCurve,\n            //Bezier curve ctl pts\n        A,\n            a,\n            //Precomputed rhs for eqn\n        C,\n            X,\n            //Matrices C & X\n        det_C0_C1,\n            det_C0_X,\n            det_X_C1,\n            //Determinants of matrices\n        alpha_l,\n            alpha_r,\n            //Alpha values, left and right\n\n        epsilon,\n            segLength,\n            i,\n            len,\n            tmp,\n            u,\n            ux,\n            firstPoint = points[0],\n            lastPoint = points[points.length - 1];\n\n        bezCurve = [firstPoint, null, null, lastPoint];\n        //console.log('gb', parameters.length);\n\n        //Compute the A's\n        A = maths.zeros_Xx2x2(parameters.length);\n        for (i = 0, len = parameters.length; i < len; i++) {\n            u = parameters[i];\n            ux = 1 - u;\n            a = A[i];\n\n            a[0] = maths.mulItems(leftTangent, 3 * u * (ux * ux));\n            a[1] = maths.mulItems(rightTangent, 3 * ux * (u * u));\n        }\n\n        //Create the C and X matrices\n        C = [[0, 0], [0, 0]];\n        X = [0, 0];\n        for (i = 0, len = points.length; i < len; i++) {\n            u = parameters[i];\n            a = A[i];\n\n            C[0][0] += maths.dot(a[0], a[0]);\n            C[0][1] += maths.dot(a[0], a[1]);\n            C[1][0] += maths.dot(a[0], a[1]);\n            C[1][1] += maths.dot(a[1], a[1]);\n\n            tmp = maths.subtract(points[i], bezier.q([firstPoint, firstPoint, lastPoint, lastPoint], u));\n\n            X[0] += maths.dot(a[0], tmp);\n            X[1] += maths.dot(a[1], tmp);\n        }\n\n        //Compute the determinants of C and X\n        det_C0_C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1];\n        det_C0_X = C[0][0] * X[1] - C[1][0] * X[0];\n        det_X_C1 = X[0] * C[1][1] - X[1] * C[0][1];\n\n        //Finally, derive alpha values\n        alpha_l = det_C0_C1 === 0 ? 0 : det_X_C1 / det_C0_C1;\n        alpha_r = det_C0_C1 === 0 ? 0 : det_C0_X / det_C0_C1;\n\n        //If alpha negative, use the Wu/Barsky heuristic (see text).\n        //If alpha is 0, you get coincident control points that lead to\n        //divide by zero in any subsequent NewtonRaphsonRootFind() call.\n        segLength = maths.vectorLen(maths.subtract(firstPoint, lastPoint));\n        epsilon = 1.0e-6 * segLength;\n        if (alpha_l < epsilon || alpha_r < epsilon) {\n            //Fall back on standard (probably inaccurate) formula, and subdivide further if needed.\n            bezCurve[1] = maths.addArrays(firstPoint, maths.mulItems(leftTangent, segLength / 3.0));\n            bezCurve[2] = maths.addArrays(lastPoint, maths.mulItems(rightTangent, segLength / 3.0));\n        } else {\n            //First and last control points of the Bezier curve are\n            //positioned exactly at the first and last data points\n            //Control points 1 and 2 are positioned an alpha distance out\n            //on the tangent vectors, left and right, respectively\n            bezCurve[1] = maths.addArrays(firstPoint, maths.mulItems(leftTangent, alpha_l));\n            bezCurve[2] = maths.addArrays(lastPoint, maths.mulItems(rightTangent, alpha_r));\n        }\n\n        return bezCurve;\n    };\n\n    /**\n     * Given set of points and their parameterization, try to find a better parameterization.\n     *\n     * @param {Array<Array<Number>>} bezier - Current fitted curve\n     * @param {Array<Array<Number>>} points - Array of digitized points\n     * @param {Array<Number>} parameters - Current parameter values\n     * @returns {Array<Number>} New parameter values\n     */\n    function reparameterize(bezier, points, parameters) {\n        /*\n        var j, len, point, results, u;\n        results = [];\n        for (j = 0, len = points.length; j < len; j++) {\n            point = points[j], u = parameters[j];\n             results.push(newtonRaphsonRootFind(bezier, point, u));\n        }\n        return results;\n        //*/\n        return parameters.map(function (p, i) {\n            return newtonRaphsonRootFind(bezier, points[i], p);\n        });\n    };\n\n    /**\n     * Use Newton-Raphson iteration to find better root.\n     *\n     * @param {Array<Array<Number>>} bez - Current fitted curve\n     * @param {Array<Number>} point - Digitized point\n     * @param {Number} u - Parameter value for \"P\"\n     * @returns {Number} New u\n     */\n    function newtonRaphsonRootFind(bez, point, u) {\n        /*\n            Newton's root finding algorithm calculates f(x)=0 by reiterating\n            x_n+1 = x_n - f(x_n)/f'(x_n)\n            We are trying to find curve parameter u for some point p that minimizes\n            the distance from that point to the curve. Distance point to curve is d=q(u)-p.\n            At minimum distance the point is perpendicular to the curve.\n            We are solving\n            f = q(u)-p * q'(u) = 0\n            with\n            f' = q'(u) * q'(u) + q(u)-p * q''(u)\n            gives\n            u_n+1 = u_n - |q(u_n)-p * q'(u_n)| / |q'(u_n)**2 + q(u_n)-p * q''(u_n)|\n        */\n\n        var d = maths.subtract(bezier.q(bez, u), point),\n            qprime = bezier.qprime(bez, u),\n            numerator = maths.mulMatrix(d, qprime),\n            denominator = maths.sum(maths.squareItems(qprime)) + 2 * maths.mulMatrix(d, bezier.qprimeprime(bez, u));\n\n        if (denominator === 0) {\n            return u;\n        } else {\n            return u - numerator / denominator;\n        }\n    };\n\n    /**\n     * Assign parameter values to digitized points using relative distances between points.\n     *\n     * @param {Array<Array<Number>>} points - Array of digitized points\n     * @returns {Array<Number>} Parameter values\n     */\n    function chordLengthParameterize(points) {\n        var u = [],\n            currU,\n            prevU,\n            prevP;\n\n        points.forEach(function (p, i) {\n            currU = i ? prevU + maths.vectorLen(maths.subtract(p, prevP)) : 0;\n            u.push(currU);\n\n            prevU = currU;\n            prevP = p;\n        });\n        u = u.map(function (x) {\n            return x / prevU;\n        });\n\n        return u;\n    };\n\n    /**\n     * Find the maximum squared distance of digitized points to fitted curve.\n     *\n     * @param {Array<Array<Number>>} points - Array of digitized points\n     * @param {Array<Array<Number>>} bez - Fitted curve\n     * @param {Array<Number>} parameters - Parameterization of points\n     * @returns {Array<Number>} Maximum error (squared) and point of max error\n     */\n    function computeMaxError(points, bez, parameters) {\n        var dist, //Current error\n        maxDist, //Maximum error\n        splitPoint, //Point of maximum error\n        v, //Vector from point to curve\n        i, count, point, t;\n\n        maxDist = 0;\n        splitPoint = Math.floor(points.length / 2);\n\n        var t_distMap = mapTtoRelativeDistances(bez, 10);\n\n        for (i = 0, count = points.length; i < count; i++) {\n            point = points[i];\n            //Find 't' for a point on the bez curve that's as close to 'point' as possible:\n            t = find_t(bez, parameters[i], t_distMap, 10);\n\n            v = maths.subtract(bezier.q(bez, t), point);\n            dist = v[0] * v[0] + v[1] * v[1];\n\n            if (dist > maxDist) {\n                maxDist = dist;\n                splitPoint = i;\n            }\n        }\n\n        return [maxDist, splitPoint];\n    };\n\n    //Sample 't's and map them to relative distances along the curve:\n    var mapTtoRelativeDistances = function mapTtoRelativeDistances(bez, B_parts) {\n        var B_t_curr;\n        var B_t_dist = [0];\n        var B_t_prev = bez[0];\n        var sumLen = 0;\n\n        for (var i = 1; i <= B_parts; i++) {\n            B_t_curr = bezier.q(bez, i / B_parts);\n\n            sumLen += maths.vectorLen(maths.subtract(B_t_curr, B_t_prev));\n\n            B_t_dist.push(sumLen);\n            B_t_prev = B_t_curr;\n        }\n\n        //Normalize B_length to the same interval as the parameter distances; 0 to 1:\n        B_t_dist = B_t_dist.map(function (x) {\n            return x / sumLen;\n        });\n        return B_t_dist;\n    };\n\n    function find_t(bez, param, t_distMap, B_parts) {\n        if (param < 0) {\n            return 0;\n        }\n        if (param > 1) {\n            return 1;\n        }\n\n        /*\n            'param' is a value between 0 and 1 telling us the relative position\n            of a point on the source polyline (linearly from the start (0) to the end (1)).\n            To see if a given curve - 'bez' - is a close approximation of the polyline,\n            we compare such a poly-point to the point on the curve that's the same\n            relative distance along the curve's length.\n             But finding that curve-point takes a little work:\n            There is a function \"B(t)\" to find points along a curve from the parametric parameter 't'\n            (also relative from 0 to 1: http://stackoverflow.com/a/32841764/1869660\n                                        http://pomax.github.io/bezierinfo/#explanation),\n            but 't' isn't linear by length (http://gamedev.stackexchange.com/questions/105230).\n             So, we sample some points along the curve using a handful of values for 't'.\n            Then, we calculate the length between those samples via plain euclidean distance;\n            B(t) concentrates the points around sharp turns, so this should give us a good-enough outline of the curve.\n            Thus, for a given relative distance ('param'), we can now find an upper and lower value\n            for the corresponding 't' by searching through those sampled distances.\n            Finally, we just use linear interpolation to find a better value for the exact 't'.\n             More info:\n                http://gamedev.stackexchange.com/questions/105230/points-evenly-spaced-along-a-bezier-curve\n                http://stackoverflow.com/questions/29438398/cheap-way-of-calculating-cubic-bezier-length\n                http://steve.hollasch.net/cgindex/curves/cbezarclen.html\n                https://github.com/retuxx/tinyspline\n        */\n        var lenMax, lenMin, tMax, tMin, t;\n\n        //Find the two t-s that the current param distance lies between,\n        //and then interpolate a somewhat accurate value for the exact t:\n        for (var i = 1; i <= B_parts; i++) {\n\n            if (param <= t_distMap[i]) {\n                tMin = (i - 1) / B_parts;\n                tMax = i / B_parts;\n                lenMin = t_distMap[i - 1];\n                lenMax = t_distMap[i];\n\n                t = (param - lenMin) / (lenMax - lenMin) * (tMax - tMin) + tMin;\n                break;\n            }\n        }\n        return t;\n    }\n\n    /**\n     * Creates a vector of length 1 which shows the direction from B to A\n     */\n    function createTangent(pointA, pointB) {\n        return maths.normalize(maths.subtract(pointA, pointB));\n    }\n\n    /*\n        Simplified versions of what we need from math.js\n        Optimized for our input, which is only numbers and 1x2 arrays (i.e. [x, y] coordinates).\n    */\n\n    var maths = function () {\n        function maths() {\n            _classCallCheck(this, maths);\n        }\n\n        maths.zeros_Xx2x2 = function zeros_Xx2x2(x) {\n            var zs = [];\n            while (x--) {\n                zs.push([0, 0]);\n            }\n            return zs;\n        };\n\n        maths.mulItems = function mulItems(items, multiplier) {\n            return items.map(function (x) {\n                return x * multiplier;\n            });\n        };\n\n        maths.mulMatrix = function mulMatrix(m1, m2) {\n            //https://en.wikipedia.org/wiki/Matrix_multiplication#Matrix_product_.28two_matrices.29\n            //Simplified to only handle 1-dimensional matrices (i.e. arrays) of equal length:\n            return m1.reduce(function (sum, x1, i) {\n                return sum + x1 * m2[i];\n            }, 0);\n        };\n\n        maths.subtract = function subtract(arr1, arr2) {\n            return arr1.map(function (x1, i) {\n                return x1 - arr2[i];\n            });\n        };\n\n        maths.addArrays = function addArrays(arr1, arr2) {\n            return arr1.map(function (x1, i) {\n                return x1 + arr2[i];\n            });\n        };\n\n        maths.addItems = function addItems(items, addition) {\n            return items.map(function (x) {\n                return x + addition;\n            });\n        };\n\n        maths.sum = function sum(items) {\n            return items.reduce(function (sum, x) {\n                return sum + x;\n            });\n        };\n\n        maths.dot = function dot(m1, m2) {\n            return maths.mulMatrix(m1, m2);\n        };\n\n        maths.vectorLen = function vectorLen(v) {\n            return Math.hypot.apply(Math, v);\n        };\n\n        maths.divItems = function divItems(items, divisor) {\n            return items.map(function (x) {\n                return x / divisor;\n            });\n        };\n\n        maths.squareItems = function squareItems(items) {\n            return items.map(function (x) {\n                return x * x;\n            });\n        };\n\n        maths.normalize = function normalize(v) {\n            return this.divItems(v, this.vectorLen(v));\n        };\n\n        return maths;\n    }();\n\n    var bezier = function () {\n        function bezier() {\n            _classCallCheck(this, bezier);\n        }\n\n        bezier.q = function q(ctrlPoly, t) {\n            var tx = 1.0 - t;\n            var pA = maths.mulItems(ctrlPoly[0], tx * tx * tx),\n                pB = maths.mulItems(ctrlPoly[1], 3 * tx * tx * t),\n                pC = maths.mulItems(ctrlPoly[2], 3 * tx * t * t),\n                pD = maths.mulItems(ctrlPoly[3], t * t * t);\n            return maths.addArrays(maths.addArrays(pA, pB), maths.addArrays(pC, pD));\n        };\n\n        bezier.qprime = function qprime(ctrlPoly, t) {\n            var tx = 1.0 - t;\n            var pA = maths.mulItems(maths.subtract(ctrlPoly[1], ctrlPoly[0]), 3 * tx * tx),\n                pB = maths.mulItems(maths.subtract(ctrlPoly[2], ctrlPoly[1]), 6 * tx * t),\n                pC = maths.mulItems(maths.subtract(ctrlPoly[3], ctrlPoly[2]), 3 * t * t);\n            return maths.addArrays(maths.addArrays(pA, pB), pC);\n        };\n\n        bezier.qprimeprime = function qprimeprime(ctrlPoly, t) {\n            return maths.addArrays(maths.mulItems(maths.addArrays(maths.subtract(ctrlPoly[2], maths.mulItems(ctrlPoly[1], 2)), ctrlPoly[0]), 6 * (1.0 - t)), maths.mulItems(maths.addArrays(maths.subtract(ctrlPoly[3], maths.mulItems(ctrlPoly[2], 2)), ctrlPoly[1]), 6 * t));\n        };\n\n        return bezier;\n    }();\n\n    module.exports = fitCurve;\n    module.exports.fitCubic = fitCubic;\n    module.exports.createTangent = createTangent;\n});\n","'use strict';\n\nvar inferType = require('./src/utils/infer-type');\nvar computeCacheKey = require('./src/utils/cache-key');\nvar isNdarray = require('./src/utils/is-ndarray');\nvar isNdarrayLike = require('./src/utils/is-ndarray-like');\nvar createAccessors = require('./src/utils/create-accessors');\nvar numericalDerivative = require('./src/numerical-derivative');\nvar isArrayLike = require('./src/utils/is-array-like');\n\nvar createEvaluator = require('./src/evaluate');\nvar createTransform = require('./src/transform');\nvar createSupport = require('./src/support');\n\nvar BOUNDARY_TYPES = {\n  open: 'open',\n  closed: 'closed',\n  clamped: 'clamped'\n};\n\nfunction isBlank (x) {\n  return x === undefined || x === null;\n}\n\nfunction parseNURBS (points, degree, knots, weights, boundary, opts) {\n  var i, dflt;\n\n  if (points && !isArrayLike(points) && !isNdarray(points)) {\n    opts = points;\n    this.debug = points.debug;\n    this.checkBounds = !!points.checkBounds;\n    this.weights = points.weights;\n    this.knots = points.knots;\n    this.degree = points.degree;\n    this.boundary = points.boundary;\n    this.points = points.points;\n    Object.defineProperty(this, 'size', {value: opts.size, writable: true, configurable: true});\n  } else {\n    opts = opts || {};\n    this.weights = weights;\n    this.knots = knots;\n    this.degree = degree;\n    this.points = points;\n    this.boundary = boundary;\n    this.debug = opts.debug;\n    this.checkBounds = !!opts.checkBounds;\n    Object.defineProperty(this, 'size', {value: opts.size, writable: true, configurable: true});\n  }\n\n  var pointType = inferType(this.points);\n  var weightType = inferType(this.weights);\n  var knotType = inferType(this.knots);\n\n  if (this.points) {\n    //\n    // Sanitize the points\n    //\n    switch (pointType) {\n      case inferType.GENERIC_NDARRAY:\n      case inferType.NDARRAY:\n        Object.defineProperties(this, {\n          splineDimension: {\n            value: this.points.shape.length - 1,\n            writable: false,\n            configurable: true\n          },\n          dimension: {\n            value: this.points.shape[this.points.shape.length - 1],\n            writable: false,\n            configurable: true\n          },\n          size: {\n            get: function () {\n              return this.points.shape.slice(0, this.points.shape.length - 1);\n            },\n            set: function () {\n              throw new Error(\"Cannot assign to read only property 'size'\");\n            },\n            configurable: true\n          }\n        });\n        break;\n\n      case inferType.ARRAY_OF_ARRAYS:\n        // Follow the zeroth entries until we hit something that's not an array\n        var splineDimension = 0;\n        var size = this.size || [];\n        size.length = 0;\n        for (var ptr = this.points; isArrayLike(ptr[0]); ptr = ptr[0]) {\n          splineDimension++;\n          size.push(ptr.length);\n        }\n        if (splineDimension === 0) {\n          throw new Error('Expected an array of points');\n        }\n\n        Object.defineProperties(this, {\n          splineDimension: {\n            value: splineDimension,\n            writable: false,\n            configurable: true\n          },\n          dimension: {\n            value: ptr.length,\n            writable: false,\n            configurable: true\n          },\n          size: {\n            get: function () {\n              var size = [];\n              size.length = 0;\n              for (var i = 0, ptr = this.points; i < this.splineDimension; i++, ptr = ptr[0]) {\n                size[i] = ptr.length;\n              }\n              return size;\n            },\n            set: function () {\n              throw new Error(\"Cannot assign to read only property 'size'\");\n            },\n            configurable: true\n          }\n        });\n\n        break;\n      case inferType.PACKED:\n      default:\n        throw new Error('Expected either a packed array, array of arrays, or ndarray of points');\n    }\n  } else {\n    if (this.size === undefined || this.size === null) {\n      throw new Error('Either points or a control hull size must be provided.');\n    }\n    if (!isArrayLike(this.size)) {\n      Object.defineProperty(this, 'size', {\n        value: [this.size],\n        writable: true,\n        configurable: true\n      });\n    }\n    if (this.size.length === 0) {\n      throw new Error('`size` must be a number or an array of length at least one.');\n    }\n\n    Object.defineProperties(this, {\n      splineDimension: {\n        value: this.size.length,\n        writable: false,\n        configurable: true\n      },\n      dimension: {\n        value: 0,\n        writable: false,\n        configurable: true\n      }\n    });\n  }\n\n  //\n  // Sanitize the degree into an array\n  //\n  if (isArrayLike(this.degree)) {\n    for (i = 0; i < this.splineDimension; i++) {\n      if (isBlank(this.degree[i])) {\n        throw new Error('Missing degree in dimension ' + (i + 1));\n      }\n    }\n  } else {\n    var hasBaseDegree = !isBlank(this.degree);\n    var baseDegree = isBlank(this.degree) ? 2 : this.degree;\n    this.degree = [];\n    for (i = 0; i < this.splineDimension; i++) {\n      if (this.size[i] <= baseDegree) {\n        if (hasBaseDegree) {\n          throw new Error('Expected at least ' + (baseDegree + 1) + ' points for degree ' + baseDegree + ' spline in dimension ' + (i + 1) + ' but got only ' + this.size[i]);\n        } else {\n          this.degree[i] = this.size[i] - 1;\n        }\n      } else {\n        this.degree[i] = baseDegree;\n      }\n    }\n  }\n\n  //\n  // Sanitize boundaries\n  //\n  dflt = (typeof this.boundary !== 'string') ? 'open' : this.boundary;\n  if (!BOUNDARY_TYPES[dflt]) {\n    throw new Error('Boundary type must be one of ' + Object.keys(BOUNDARY_TYPES) + '. Got ' + dflt);\n  }\n  this.boundary = isArrayLike(this.boundary) ? this.boundary : [];\n  this.boundary.length = this.splineDimension;\n  for (i = 0; i < this.splineDimension; i++) {\n    this.boundary[i] = isBlank(this.boundary[i]) ? dflt : this.boundary[i];\n\n    if (!BOUNDARY_TYPES[dflt]) {\n      throw new Error('Boundary type must be one of ' + Object.keys(BOUNDARY_TYPES) + '. Got ' + dflt + ' for dimension ' + (i + 1));\n    }\n  }\n\n  //\n  // Sanitize knots\n  //\n  switch (knotType) {\n    case inferType.ARRAY_OF_ARRAYS:\n      // Wrap flat arrays in an array so that curves are more natural\n      if (isArrayLike(this.knots) && this.knots.length > 0 && !isArrayLike(this.knots[0])) {\n        this.knots = [this.knots];\n      }\n\n      for (i = 0; i < this.splineDimension; i++) {\n        if (this.size[i] <= this.degree[i]) {\n          throw new Error('Expected at least ' + (this.degree[i] + 1) + ' points in dimension ' + (i + 1) + ' but got ' + this.size[i] + '.');\n        }\n\n        if (isArrayLike(this.knots[i])) {\n          if (this.boundary[i] !== 'closed' && this.knots[i].length !== this.degree[i] + this.size[i] + 1) {\n            throw new Error('Expected ' + (this.degree[i] + this.size[i] + 1) + ' knots in dimension ' + (i + 1) + ' but got ' + this.knots[i].length + '.');\n          } else if (this.boundary[i] === 'closed' && this.knots[i].length !== this.size[i] + 1) {\n            // Fudge factor allowance for just ignoring extra knots. This makes some allowance\n            // for passing regular clamped/open spline knots to a closed spline by ignoring extra\n            // knots instead of simply truncating.\n            var canBeFudged = this.knots[i].length === this.size[i] + this.degree[i] + 1;\n            if (!canBeFudged) {\n              throw new Error('Expected ' + (this.size[i] + 1) + ' knots for closed spline in dimension ' + (i + 1) + ' but got ' + this.knots[i].length + '.');\n            }\n          }\n        }\n      }\n      break;\n    case inferType.NDARRAY:\n      break;\n  }\n\n  //\n  // Create evaluator\n  //\n  var newCacheKey = computeCacheKey(this, this.debug, this.checkBounds, pointType, weightType, knotType);\n\n  if (newCacheKey !== this.__cacheKey) {\n    this.__cacheKey = newCacheKey;\n\n    var accessors = createAccessors(this);\n\n    this.evaluate = createEvaluator(this.__cacheKey, this, accessors, this.debug, this.checkBounds, false);\n    this.transform = createTransform(this.__cacheKey, this, accessors, this.debug);\n    this.support = createSupport(this.__cacheKey, this, accessors, this.debug, this.checkBounds);\n\n    this.evaluator = function (derivativeOrder, isBasis) {\n      return createEvaluator(this.__cacheKey, this, accessors, this.debug, this.checkBounds, isBasis, derivativeOrder);\n    };\n  }\n\n  this.numericalDerivative = numericalDerivative.bind(this);\n\n  return this;\n}\n\nfunction domainGetter () {\n  var sizeArray;\n  var ret = [];\n\n  // If the reference to size is hard-coded, then the size cannot change, or\n  // if you change points manually (like by appending a point) without re-running\n  // the constructor, then it'll be incorrect. This aims for middle-ground\n  // by querying the size directly, based on the point data type\n  //\n  // A pointer to the point array-of-arrays:\n  var ptr = this.points;\n\n  if (!ptr) {\n    // If there are no points, then just use this.size\n    sizeArray = this.size;\n  } else if (isNdarrayLike(ptr)) {\n    // If it's an ndarray, use the ndarray's shape property\n    sizeArray = ptr.shape;\n  }\n\n  for (var d = 0; d < this.splineDimension; d++) {\n    var size = sizeArray ? sizeArray[d] : ptr.length;\n    var p = this.degree[d];\n    var isClosed = this.boundary[d] === 'closed';\n\n    if (this.knots && this.knots[d]) {\n      var k = this.knots[d];\n      ret[d] = [k[isClosed ? 0 : p], k[size]];\n    } else {\n      ret[d] = [isClosed ? 0 : p, size];\n    }\n\n    // Otherwise if it's an array of arrays, we get the size of the next\n    // dimension by recursing into the points\n    if (ptr) ptr = ptr[0];\n  }\n  return ret;\n}\n\n// Evaluate Non-Uniform Rational B-Splines (NURBS)\n// @param points {Array} - data array\n// @param degree {Array} - spline curve degree\n// @param knots {Array} - knot vector\n// @param weights {Array} - weight vector\n// @param opts {object} - additional options\nfunction nurbs (points, degree, knots, weights, boundary, opts) {\n  var ctor = function (points, degree, knots, weights, boundary, opts) {\n    parseFcn(points, degree, knots, weights, boundary, opts);\n    return ctor;\n  };\n\n  var parseFcn = parseNURBS.bind(ctor);\n\n  Object.defineProperty(ctor, 'domain', {\n    get: domainGetter\n  });\n\n  parseFcn(points, degree, knots, weights, boundary, opts);\n\n  return ctor;\n}\n\nmodule.exports = nurbs;\n","\nvar PathKitInit = (function() {\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\n  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;\n  return (\nfunction(PathKitInit) {\n  PathKitInit = PathKitInit || {};\n\n\nnull;var d;d||(d=typeof PathKitInit !== 'undefined' ? PathKitInit : {});var aa;d.ready=new Promise(function(a){aa=a});\n(function(a){var b={};a.loadCmdsTypedArray=function(h){for(var k=0,l=0;l<h.length;l++)k+=h[l].length;if(b[k])var n=b[k];else n=new Float32Array(k),b[k]=n;var p=0;for(l=0;l<h.length;l++)for(var q=0;q<h[l].length;q++){var t=h[l][q];\"string\"===typeof t&&(t=a.SkBits2FloatUnsigned(parseInt(t)));n[p]=t;p++}h=a._malloc(n.length*n.BYTES_PER_ELEMENT);a.HEAPF32.set(n,h/n.BYTES_PER_ELEMENT);return[h,k]};a.FromCmds=function(h){h=a.loadCmdsTypedArray(h);var k=a._FromCmds(h[0],h[1]);a._free(h[0]);return k};var c,\ne,f,g,m;a.cubicYFromX=function(h,k,l,n,p){c&&e===h&&f===k&&g===l&&m===n||(c&&c.delete(),c=new a._SkCubicMap([h,k],[l,n]),e=h,f=k,g=l,m=n);return c.computeYFromX(p)};a.cubicPtFromT=function(h,k,l,n,p){c&&e===h&&f===k&&g===l&&m===n||(c&&c.delete(),c=new a._SkCubicMap([h,k],[l,n]),e=h,f=k,g=l,m=n);return c.computePtFromT(p)}})(d);\n(function(a){a.onRuntimeInitialized=function(){a.SkPath.prototype.addPath=function(){var b=arguments[0];if(1===arguments.length)this._addPath(b,1,0,0,0,1,0,0,0,1);else if(2===arguments.length){var c=arguments[1];this._addPath(b,c.a,c.c,c.e,c.b,c.d,c.f,0,0,1)}else if(7===arguments.length)c=arguments,this._addPath(b,c[1],c[3],c[5],c[2],c[4],c[6],0,0,1);else if(10===arguments.length)c=arguments,this._addPath(b,c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9]);else return console.Fb(\"addPath expected to take 1, 2, 7, or 10 args. Got \"+\narguments.length),null;return this};a.SkPath.prototype.arc=function(b,c,e,f,g,m){this._arc(b,c,e,f,g,!!m);return this};a.SkPath.prototype.arcTo=function(b,c,e,f,g){this._arcTo(b,c,e,f,g);return this};a.SkPath.prototype.bezierCurveTo=function(b,c,e,f,g,m){this._cubicTo(b,c,e,f,g,m);return this};a.SkPath.prototype.close=function(){this._close();return this};a.SkPath.prototype.closePath=function(){this._close();return this};a.SkPath.prototype.conicTo=function(b,c,e,f,g){this._conicTo(b,c,e,f,g);return this};\na.SkPath.prototype.cubicTo=function(b,c,e,f,g,m){this._cubicTo(b,c,e,f,g,m);return this};a.SkPath.prototype.dash=function(b,c,e){return this._dash(b,c,e)?this:null};a.SkPath.prototype.ellipse=function(b,c,e,f,g,m,h,k){this._ellipse(b,c,e,f,g,m,h,!!k);return this};a.SkPath.prototype.lineTo=function(b,c){this._lineTo(b,c);return this};a.SkPath.prototype.moveTo=function(b,c){this._moveTo(b,c);return this};a.SkPath.prototype.op=function(b,c){return this._op(b,c)?this:null};a.SkPath.prototype.quadraticCurveTo=\nfunction(b,c,e,f){this._quadTo(b,c,e,f);return this};a.SkPath.prototype.quadTo=function(b,c,e,f){this._quadTo(b,c,e,f);return this};a.SkPath.prototype.rect=function(b,c,e,f){this._rect(b,c,e,f);return this};a.SkPath.prototype.simplify=function(){return this._simplify()?this:null};a.SkPath.prototype.stroke=function(b){b=b||{};b.width=b.width||1;b.miter_limit=b.miter_limit||4;b.cap=b.cap||a.StrokeCap.BUTT;b.join=b.join||a.StrokeJoin.MITER;return this._stroke(b)?this:null};a.SkPath.prototype.transform=\nfunction(){if(1===arguments.length)this._transform(arguments[0]);else if(9===arguments.length){var b=arguments;this._transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8])}else return console.Fb(\"transform expected to take 1 or 9 arguments. Got \"+arguments.length),null;return this};a.SkPath.prototype.trim=function(b,c,e){return this._trim(b,c,!!e)?this:null}}})(d);var r={},v;for(v in d)d.hasOwnProperty(v)&&(r[v]=d[v]);var ba=!1,w=!1,ca=!1,da=!1;ba=\"object\"===typeof window;w=\"function\"===typeof importScripts;\nca=\"object\"===typeof process&&\"object\"===typeof process.versions&&\"string\"===typeof process.versions.node;da=!ba&&!ca&&!w;var x=\"\",ea,fa,ha,ia;\nif(ca)x=w?require(\"path\").dirname(x)+\"/\":__dirname+\"/\",ea=function(a,b){ha||(ha=require(\"fs\"));ia||(ia=require(\"path\"));a=ia.normalize(a);return ha.readFileSync(a,b?null:\"utf8\")},fa=function(a){a=ea(a,!0);a.buffer||(a=new Uint8Array(a));assert(a.buffer);return a},1<process.argv.length&&process.argv[1].replace(/\\\\/g,\"/\"),process.argv.slice(2),process.on(\"uncaughtException\",function(a){throw a;}),process.on(\"unhandledRejection\",y),d.inspect=function(){return\"[Emscripten Module object]\"};else if(da)\"undefined\"!=\ntypeof read&&(ea=function(a){return read(a)}),fa=function(a){if(\"function\"===typeof readbuffer)return new Uint8Array(readbuffer(a));a=read(a,\"binary\");assert(\"object\"===typeof a);return a},\"undefined\"!==typeof print&&(\"undefined\"===typeof console&&(console={}),console.log=print,console.warn=console.error=\"undefined\"!==typeof printErr?printErr:print);else if(ba||w)w?x=self.location.href:document.currentScript&&(x=document.currentScript.src),_scriptDir&&(x=_scriptDir),0!==x.indexOf(\"blob:\")?x=x.substr(0,\nx.lastIndexOf(\"/\")+1):x=\"\",ea=function(a){var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.send(null);return b.responseText},w&&(fa=function(a){var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.responseType=\"arraybuffer\";b.send(null);return new Uint8Array(b.response)});var ja=d.print||console.log.bind(console),z=d.printErr||console.warn.bind(console);for(v in r)r.hasOwnProperty(v)&&(d[v]=r[v]);r=null;var ka;d.wasmBinary&&(ka=d.wasmBinary);var noExitRuntime;d.noExitRuntime&&(noExitRuntime=d.noExitRuntime);\n\"object\"!==typeof WebAssembly&&z(\"no native wasm support detected\");var la,ma=new WebAssembly.Table({initial:309,maximum:309,element:\"anyfunc\"}),na=!1;function assert(a,b){a||y(\"Assertion failed: \"+b)}var oa=\"undefined\"!==typeof TextDecoder?new TextDecoder(\"utf8\"):void 0;\nfunction pa(a,b,c){var e=b+c;for(c=b;a[c]&&!(c>=e);)++c;if(16<c-b&&a.subarray&&oa)return oa.decode(a.subarray(b,c));for(e=\"\";b<c;){var f=a[b++];if(f&128){var g=a[b++]&63;if(192==(f&224))e+=String.fromCharCode((f&31)<<6|g);else{var m=a[b++]&63;f=224==(f&240)?(f&15)<<12|g<<6|m:(f&7)<<18|g<<12|m<<6|a[b++]&63;65536>f?e+=String.fromCharCode(f):(f-=65536,e+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else e+=String.fromCharCode(f)}return e}\nfunction qa(a,b,c){var e=B;if(0<c){c=b+c-1;for(var f=0;f<a.length;++f){var g=a.charCodeAt(f);if(55296<=g&&57343>=g){var m=a.charCodeAt(++f);g=65536+((g&1023)<<10)|m&1023}if(127>=g){if(b>=c)break;e[b++]=g}else{if(2047>=g){if(b+1>=c)break;e[b++]=192|g>>6}else{if(65535>=g){if(b+2>=c)break;e[b++]=224|g>>12}else{if(b+3>=c)break;e[b++]=240|g>>18;e[b++]=128|g>>12&63}e[b++]=128|g>>6&63}e[b++]=128|g&63}}e[b]=0}}var ra=\"undefined\"!==typeof TextDecoder?new TextDecoder(\"utf-16le\"):void 0;\nfunction sa(a,b){var c=a>>1;for(var e=c+b/2;!(c>=e)&&ta[c];)++c;c<<=1;if(32<c-a&&ra)return ra.decode(B.subarray(a,c));c=0;for(e=\"\";;){var f=D[a+2*c>>1];if(0==f||c==b/2)return e;++c;e+=String.fromCharCode(f)}}function ua(a,b,c){void 0===c&&(c=2147483647);if(2>c)return 0;c-=2;var e=b;c=c<2*a.length?c/2:a.length;for(var f=0;f<c;++f)D[b>>1]=a.charCodeAt(f),b+=2;D[b>>1]=0;return b-e}function va(a){return 2*a.length}\nfunction wa(a,b){for(var c=0,e=\"\";!(c>=b/4);){var f=E[a+4*c>>2];if(0==f)break;++c;65536<=f?(f-=65536,e+=String.fromCharCode(55296|f>>10,56320|f&1023)):e+=String.fromCharCode(f)}return e}function xa(a,b,c){void 0===c&&(c=2147483647);if(4>c)return 0;var e=b;c=e+c-4;for(var f=0;f<a.length;++f){var g=a.charCodeAt(f);if(55296<=g&&57343>=g){var m=a.charCodeAt(++f);g=65536+((g&1023)<<10)|m&1023}E[b>>2]=g;b+=4;if(b+4>c)break}E[b>>2]=0;return b-e}\nfunction ya(a){for(var b=0,c=0;c<a.length;++c){var e=a.charCodeAt(c);55296<=e&&57343>=e&&++c;b+=4}return b}var za,Aa,B,D,ta,E,F,Ba,Ca,Da=d.INITIAL_MEMORY||16777216;d.wasmMemory?la=d.wasmMemory:la=new WebAssembly.Memory({initial:Da/65536,maximum:Da/65536});la&&(za=la.buffer);Da=za.byteLength;var G=za;za=G;d.HEAP8=Aa=new Int8Array(G);d.HEAP16=D=new Int16Array(G);d.HEAP32=E=new Int32Array(G);d.HEAPU8=B=new Uint8Array(G);d.HEAPU16=ta=new Uint16Array(G);d.HEAPU32=F=new Uint32Array(G);d.HEAPF32=Ba=new Float32Array(G);\nd.HEAPF64=Ca=new Float64Array(G);E[3E3]=5255040;function Ea(a){for(;0<a.length;){var b=a.shift();if(\"function\"==typeof b)b(d);else{var c=b.Jb;\"number\"===typeof c?void 0===b.tb?d.dynCall_v(c):d.dynCall_vi(c,b.tb):c(void 0===b.tb?null:b.tb)}}}var Fa=[],Ga=[],Ha=[],Ia=[];function Ja(){var a=d.preRun.shift();Fa.unshift(a)}var H=0,Ka=null,La=null;d.preloadedImages={};d.preloadedAudios={};\nfunction y(a){if(d.onAbort)d.onAbort(a);ja(a);z(a);na=!0;throw new WebAssembly.RuntimeError(\"abort(\"+a+\"). Build with -s ASSERTIONS=1 for more info.\");}function Ma(a){var b=I;return String.prototype.startsWith?b.startsWith(a):0===b.indexOf(a)}function Na(){return Ma(\"data:application/octet-stream;base64,\")}var I=\"pathkit.wasm\";if(!Na()){var Oa=I;I=d.locateFile?d.locateFile(Oa,x):x+Oa}\nfunction Pa(){try{if(ka)return new Uint8Array(ka);if(fa)return fa(I);throw\"both async and sync fetching of the wasm failed\";}catch(a){y(a)}}function Qa(){return ka||!ba&&!w||\"function\"!==typeof fetch||Ma(\"file://\")?new Promise(function(a){a(Pa())}):fetch(I,{credentials:\"same-origin\"}).then(function(a){if(!a.ok)throw\"failed to load wasm binary file at '\"+I+\"'\";return a.arrayBuffer()}).catch(function(){return Pa()})}Ga.push({Jb:function(){Ra()}});var Sa={};\nfunction Ta(a){for(;a.length;){var b=a.pop();a.pop()(b)}}function J(a){return this.fromWireType(F[a>>2])}var K={},L={},Ua={};function Va(a){if(void 0===a)return\"_unknown\";a=a.replace(/[^a-zA-Z0-9_]/g,\"$\");var b=a.charCodeAt(0);return 48<=b&&57>=b?\"_\"+a:a}function Wa(a,b){a=Va(a);return(new Function(\"body\",\"return function \"+a+'() {\\n    \"use strict\";    return body.apply(this, arguments);\\n};\\n'))(b)}\nfunction Xa(a){var b=Error,c=Wa(a,function(e){this.name=a;this.message=e;e=Error(e).stack;void 0!==e&&(this.stack=this.toString()+\"\\n\"+e.replace(/^Error(:[^\\n]*)?\\n/,\"\"))});c.prototype=Object.create(b.prototype);c.prototype.constructor=c;c.prototype.toString=function(){return void 0===this.message?this.name:this.name+\": \"+this.message};return c}var Ya=void 0;function Za(a){throw new Ya(a);}\nfunction N(a,b,c){function e(h){h=c(h);h.length!==a.length&&Za(\"Mismatched type converter count\");for(var k=0;k<a.length;++k)O(a[k],h[k])}a.forEach(function(h){Ua[h]=b});var f=Array(b.length),g=[],m=0;b.forEach(function(h,k){L.hasOwnProperty(h)?f[k]=L[h]:(g.push(h),K.hasOwnProperty(h)||(K[h]=[]),K[h].push(function(){f[k]=L[h];++m;m===g.length&&e(f)}))});0===g.length&&e(f)}var $a={};\nfunction ab(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(\"Unknown type size: \"+a);}}var bb=void 0;function P(a){for(var b=\"\";B[a];)b+=bb[B[a++]];return b}var Q=void 0;function R(a){throw new Q(a);}\nfunction O(a,b,c){c=c||{};if(!(\"argPackAdvance\"in b))throw new TypeError(\"registerType registeredInstance requires argPackAdvance\");var e=b.name;a||R('type \"'+e+'\" must have a positive integer typeid pointer');if(L.hasOwnProperty(a)){if(c.Mb)return;R(\"Cannot register type '\"+e+\"' twice\")}L[a]=b;delete Ua[a];K.hasOwnProperty(a)&&(b=K[a],delete K[a],b.forEach(function(f){f()}))}function cb(a){return{count:a.count,lb:a.lb,nb:a.nb,bb:a.bb,cb:a.cb,gb:a.gb,ib:a.ib}}\nfunction db(a){R(a.$a.cb.ab.name+\" instance already deleted\")}var eb=!1;function fb(){}function gb(a){--a.count.value;0===a.count.value&&(a.gb?a.ib.hb(a.gb):a.cb.ab.hb(a.bb))}\nfunction hb(a){if(\"undefined\"===typeof FinalizationGroup)return hb=function(b){return b},a;eb=new FinalizationGroup(function(b){for(var c=b.next();!c.done;c=b.next())c=c.value,c.bb?gb(c):console.warn(\"object already deleted: \"+c.bb)});hb=function(b){eb.register(b,b.$a,b.$a);return b};fb=function(b){eb.unregister(b.$a)};return hb(a)}var ib=void 0,jb=[];function kb(){for(;jb.length;){var a=jb.pop();a.$a.lb=!1;a[\"delete\"]()}}function S(){}var lb={};\nfunction mb(a,b,c){if(void 0===a[b].eb){var e=a[b];a[b]=function(){a[b].eb.hasOwnProperty(arguments.length)||R(\"Function '\"+c+\"' called with an invalid number of arguments (\"+arguments.length+\") - expects one of (\"+a[b].eb+\")!\");return a[b].eb[arguments.length].apply(this,arguments)};a[b].eb=[];a[b].eb[e.qb]=e}}\nfunction nb(a,b,c){d.hasOwnProperty(a)?((void 0===c||void 0!==d[a].eb&&void 0!==d[a].eb[c])&&R(\"Cannot register public name '\"+a+\"' twice\"),mb(d,a,a),d.hasOwnProperty(c)&&R(\"Cannot register multiple overloads of a function with the same number of arguments (\"+c+\")!\"),d[a].eb[c]=b):(d[a]=b,void 0!==c&&(d[a].Sb=c))}function ob(a,b,c,e,f,g,m,h){this.name=a;this.constructor=b;this.mb=c;this.hb=e;this.jb=f;this.Kb=g;this.pb=m;this.Hb=h;this.Pb=[]}\nfunction pb(a,b,c){for(;b!==c;)b.pb||R(\"Expected null or instance of \"+c.name+\", got an instance of \"+b.name),a=b.pb(a),b=b.jb;return a}function qb(a,b){if(null===b)return this.xb&&R(\"null is not a valid \"+this.name),0;b.$a||R('Cannot pass \"'+U(b)+'\" as a '+this.name);b.$a.bb||R(\"Cannot pass deleted object as a pointer of type \"+this.name);return pb(b.$a.bb,b.$a.cb.ab,this.ab)}\nfunction rb(a,b){if(null===b){this.xb&&R(\"null is not a valid \"+this.name);if(this.sb){var c=this.ob();null!==a&&a.push(this.hb,c);return c}return 0}b.$a||R('Cannot pass \"'+U(b)+'\" as a '+this.name);b.$a.bb||R(\"Cannot pass deleted object as a pointer of type \"+this.name);!this.rb&&b.$a.cb.rb&&R(\"Cannot convert argument of type \"+(b.$a.ib?b.$a.ib.name:b.$a.cb.name)+\" to parameter type \"+this.name);c=pb(b.$a.bb,b.$a.cb.ab,this.ab);if(this.sb)switch(void 0===b.$a.gb&&R(\"Passing raw pointer to smart pointer is illegal\"),\nthis.Rb){case 0:b.$a.ib===this?c=b.$a.gb:R(\"Cannot convert argument of type \"+(b.$a.ib?b.$a.ib.name:b.$a.cb.name)+\" to parameter type \"+this.name);break;case 1:c=b.$a.gb;break;case 2:if(b.$a.ib===this)c=b.$a.gb;else{var e=b.clone();c=this.Qb(c,V(function(){e[\"delete\"]()}));null!==a&&a.push(this.hb,c)}break;default:R(\"Unsupporting sharing policy\")}return c}\nfunction sb(a,b){if(null===b)return this.xb&&R(\"null is not a valid \"+this.name),0;b.$a||R('Cannot pass \"'+U(b)+'\" as a '+this.name);b.$a.bb||R(\"Cannot pass deleted object as a pointer of type \"+this.name);b.$a.cb.rb&&R(\"Cannot convert argument of type \"+b.$a.cb.name+\" to parameter type \"+this.name);return pb(b.$a.bb,b.$a.cb.ab,this.ab)}function tb(a,b,c){if(b===c)return a;if(void 0===c.jb)return null;a=tb(a,b,c.jb);return null===a?null:c.Hb(a)}var ub={};\nfunction vb(a,b){for(void 0===b&&R(\"ptr should not be undefined\");a.jb;)b=a.pb(b),a=a.jb;return ub[b]}function wb(a,b){b.cb&&b.bb||Za(\"makeClassHandle requires ptr and ptrType\");!!b.ib!==!!b.gb&&Za(\"Both smartPtrType and smartPtr must be specified\");b.count={value:1};return hb(Object.create(a,{$a:{value:b}}))}\nfunction W(a,b,c,e){this.name=a;this.ab=b;this.xb=c;this.rb=e;this.sb=!1;this.hb=this.Qb=this.ob=this.Eb=this.Rb=this.Ob=void 0;void 0!==b.jb?this.toWireType=rb:(this.toWireType=e?qb:sb,this.fb=null)}function xb(a,b,c){d.hasOwnProperty(a)||Za(\"Replacing nonexistant public symbol\");void 0!==d[a].eb&&void 0!==c?d[a].eb[c]=b:(d[a]=b,d[a].qb=c)}\nfunction X(a,b){a=P(a);var c=d[\"dynCall_\"+a];for(var e=[],f=1;f<a.length;++f)e.push(\"a\"+f);f=\"return function dynCall_\"+(a+\"_\"+b)+\"(\"+e.join(\", \")+\") {\\n\";f+=\"    return dynCall(rawFunction\"+(e.length?\", \":\"\")+e.join(\", \")+\");\\n\";c=(new Function(\"dynCall\",\"rawFunction\",f+\"};\\n\"))(c,b);\"function\"!==typeof c&&R(\"unknown function pointer with signature \"+a+\": \"+b);return c}var yb=void 0;function zb(a){a=Ab(a);var b=P(a);Y(a);return b}\nfunction Db(a,b){function c(g){f[g]||L[g]||(Ua[g]?Ua[g].forEach(c):(e.push(g),f[g]=!0))}var e=[],f={};b.forEach(c);throw new yb(a+\": \"+e.map(zb).join([\", \"]));}function Eb(a,b){for(var c=[],e=0;e<a;e++)c.push(E[(b>>2)+e]);return c}\nfunction Fb(a){var b=Function;if(!(b instanceof Function))throw new TypeError(\"new_ called with constructor type \"+typeof b+\" which is not a function\");var c=Wa(b.name||\"unknownFunctionName\",function(){});c.prototype=b.prototype;c=new c;a=b.apply(c,a);return a instanceof Object?a:c}\nfunction Gb(a,b,c,e,f){var g=b.length;2>g&&R(\"argTypes array size mismatch! Must at least get return value and 'this' types!\");var m=null!==b[1]&&null!==c,h=!1;for(c=1;c<b.length;++c)if(null!==b[c]&&void 0===b[c].fb){h=!0;break}var k=\"void\"!==b[0].name,l=\"\",n=\"\";for(c=0;c<g-2;++c)l+=(0!==c?\", \":\"\")+\"arg\"+c,n+=(0!==c?\", \":\"\")+\"arg\"+c+\"Wired\";a=\"return function \"+Va(a)+\"(\"+l+\") {\\nif (arguments.length !== \"+(g-2)+\") {\\nthrowBindingError('function \"+a+\" called with ' + arguments.length + ' arguments, expected \"+\n(g-2)+\" args!');\\n}\\n\";h&&(a+=\"var destructors = [];\\n\");var p=h?\"destructors\":\"null\";l=\"throwBindingError invoker fn runDestructors retType classParam\".split(\" \");e=[R,e,f,Ta,b[0],b[1]];m&&(a+=\"var thisWired = classParam.toWireType(\"+p+\", this);\\n\");for(c=0;c<g-2;++c)a+=\"var arg\"+c+\"Wired = argType\"+c+\".toWireType(\"+p+\", arg\"+c+\"); // \"+b[c+2].name+\"\\n\",l.push(\"argType\"+c),e.push(b[c+2]);m&&(n=\"thisWired\"+(0<n.length?\", \":\"\")+n);a+=(k?\"var rv = \":\"\")+\"invoker(fn\"+(0<n.length?\", \":\"\")+n+\");\\n\";if(h)a+=\n\"runDestructors(destructors);\\n\";else for(c=m?1:2;c<b.length;++c)g=1===c?\"thisWired\":\"arg\"+(c-2)+\"Wired\",null!==b[c].fb&&(a+=g+\"_dtor(\"+g+\"); // \"+b[c].name+\"\\n\",l.push(g+\"_dtor\"),e.push(b[c].fb));k&&(a+=\"var ret = retType.fromWireType(rv);\\nreturn ret;\\n\");l.push(a+\"}\\n\");return Fb(l).apply(null,e)}var Hb=[],Z=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ib(a){4<a&&0===--Z[a].yb&&(Z[a]=void 0,Hb.push(a))}\nfunction V(a){switch(a){case void 0:return 1;case null:return 2;case !0:return 3;case !1:return 4;default:var b=Hb.length?Hb.pop():Z.length;Z[b]={yb:1,value:a};return b}}function Jb(a,b,c){switch(b){case 0:return function(e){return this.fromWireType((c?Aa:B)[e])};case 1:return function(e){return this.fromWireType((c?D:ta)[e>>1])};case 2:return function(e){return this.fromWireType((c?E:F)[e>>2])};default:throw new TypeError(\"Unknown integer type: \"+a);}}\nfunction Kb(a,b){var c=L[a];void 0===c&&R(b+\" has unknown type \"+zb(a));return c}function U(a){if(null===a)return\"null\";var b=typeof a;return\"object\"===b||\"array\"===b||\"function\"===b?a.toString():\"\"+a}function Lb(a,b){switch(b){case 2:return function(c){return this.fromWireType(Ba[c>>2])};case 3:return function(c){return this.fromWireType(Ca[c>>3])};default:throw new TypeError(\"Unknown float type: \"+a);}}\nfunction Mb(a,b,c){switch(b){case 0:return c?function(e){return Aa[e]}:function(e){return B[e]};case 1:return c?function(e){return D[e>>1]}:function(e){return ta[e>>1]};case 2:return c?function(e){return E[e>>2]}:function(e){return F[e>>2]};default:throw new TypeError(\"Unknown integer type: \"+a);}}var Nb={};function Ob(a){var b=Nb[a];return void 0===b?P(a):b}var Pb=[];function Qb(a){a||R(\"Cannot use deleted val. handle = \"+a);return Z[a].value}\nfunction Rb(){return\"object\"===typeof globalThis?globalThis:Function(\"return this\")()}function Sb(a){var b=Pb.length;Pb.push(a);return b}function Tb(a,b){for(var c=Array(a),e=0;e<a;++e)c[e]=Kb(E[(b>>2)+e],\"parameter \"+e);return c}var Ub={},Vb=[null,[],[]];Ya=d.InternalError=Xa(\"InternalError\");for(var Wb=Array(256),Xb=0;256>Xb;++Xb)Wb[Xb]=String.fromCharCode(Xb);bb=Wb;Q=d.BindingError=Xa(\"BindingError\");\nS.prototype.isAliasOf=function(a){if(!(this instanceof S&&a instanceof S))return!1;var b=this.$a.cb.ab,c=this.$a.bb,e=a.$a.cb.ab;for(a=a.$a.bb;b.jb;)c=b.pb(c),b=b.jb;for(;e.jb;)a=e.pb(a),e=e.jb;return b===e&&c===a};S.prototype.clone=function(){this.$a.bb||db(this);if(this.$a.nb)return this.$a.count.value+=1,this;var a=hb(Object.create(Object.getPrototypeOf(this),{$a:{value:cb(this.$a)}}));a.$a.count.value+=1;a.$a.lb=!1;return a};\nS.prototype[\"delete\"]=function(){this.$a.bb||db(this);this.$a.lb&&!this.$a.nb&&R(\"Object already scheduled for deletion\");fb(this);gb(this.$a);this.$a.nb||(this.$a.gb=void 0,this.$a.bb=void 0)};S.prototype.isDeleted=function(){return!this.$a.bb};S.prototype.deleteLater=function(){this.$a.bb||db(this);this.$a.lb&&!this.$a.nb&&R(\"Object already scheduled for deletion\");jb.push(this);1===jb.length&&ib&&ib(kb);this.$a.lb=!0;return this};W.prototype.Lb=function(a){this.Eb&&(a=this.Eb(a));return a};\nW.prototype.Cb=function(a){this.hb&&this.hb(a)};W.prototype.argPackAdvance=8;W.prototype.readValueFromPointer=J;W.prototype.deleteObject=function(a){if(null!==a)a[\"delete\"]()};\nW.prototype.fromWireType=function(a){function b(){return this.sb?wb(this.ab.mb,{cb:this.Ob,bb:c,ib:this,gb:a}):wb(this.ab.mb,{cb:this,bb:a})}var c=this.Lb(a);if(!c)return this.Cb(a),null;var e=vb(this.ab,c);if(void 0!==e){if(0===e.$a.count.value)return e.$a.bb=c,e.$a.gb=a,e.clone();e=e.clone();this.Cb(a);return e}e=this.ab.Kb(c);e=lb[e];if(!e)return b.call(this);e=this.rb?e.Gb:e.pointerType;var f=tb(c,this.ab,e.ab);return null===f?b.call(this):this.sb?wb(e.ab.mb,{cb:e,bb:f,ib:this,gb:a}):wb(e.ab.mb,\n{cb:e,bb:f})};d.getInheritedInstanceCount=function(){return Object.keys(ub).length};d.getLiveInheritedInstances=function(){var a=[],b;for(b in ub)ub.hasOwnProperty(b)&&a.push(ub[b]);return a};d.flushPendingDeletes=kb;d.setDelayFunction=function(a){ib=a;jb.length&&ib&&ib(kb)};yb=d.UnboundTypeError=Xa(\"UnboundTypeError\");d.count_emval_handles=function(){for(var a=0,b=5;b<Z.length;++b)void 0!==Z[b]&&++a;return a};d.get_first_emval=function(){for(var a=5;a<Z.length;++a)if(void 0!==Z[a])return Z[a];return null};\nvar Zb={s:function(a){var b=Sa[a];delete Sa[a];var c=b.elements,e=c.length,f=c.map(function(h){return h.wb}).concat(c.map(function(h){return h.Ab})),g=b.ob,m=b.hb;N([a],f,function(h){c.forEach(function(k,l){var n=h[l],p=k.ub,q=k.vb,t=h[l+e],u=k.zb,M=k.Bb;k.read=function(A){return n.fromWireType(p(q,A))};k.write=function(A,T){var C=[];u(M,A,t.toWireType(C,T));Ta(C)}});return[{name:b.name,fromWireType:function(k){for(var l=Array(e),n=0;n<e;++n)l[n]=c[n].read(k);m(k);return l},toWireType:function(k,\nl){if(e!==l.length)throw new TypeError(\"Incorrect number of tuple elements for \"+b.name+\": expected=\"+e+\", actual=\"+l.length);for(var n=g(),p=0;p<e;++p)c[p].write(n,l[p]);null!==k&&k.push(m,n);return n},argPackAdvance:8,readValueFromPointer:J,fb:m}]})},v:function(a){var b=$a[a];delete $a[a];var c=b.ob,e=b.hb,f=b.Db,g=f.map(function(m){return m.wb}).concat(f.map(function(m){return m.Ab}));N([a],g,function(m){var h={};f.forEach(function(k,l){var n=m[l],p=k.ub,q=k.vb,t=m[l+f.length],u=k.zb,M=k.Bb;h[k.Ib]=\n{read:function(A){return n.fromWireType(p(q,A))},write:function(A,T){var C=[];u(M,A,t.toWireType(C,T));Ta(C)}}});return[{name:b.name,fromWireType:function(k){var l={},n;for(n in h)l[n]=h[n].read(k);e(k);return l},toWireType:function(k,l){for(var n in h)if(!(n in l))throw new TypeError(\"Missing field\");var p=c();for(n in h)h[n].write(p,l[n]);null!==k&&k.push(e,p);return p},argPackAdvance:8,readValueFromPointer:J,fb:e}]})},G:function(a,b,c,e,f){var g=ab(c);b=P(b);O(a,{name:b,fromWireType:function(m){return!!m},\ntoWireType:function(m,h){return h?e:f},argPackAdvance:8,readValueFromPointer:function(m){if(1===c)var h=Aa;else if(2===c)h=D;else if(4===c)h=E;else throw new TypeError(\"Unknown boolean type size: \"+b);return this.fromWireType(h[m>>g])},fb:null})},k:function(a,b,c,e,f,g,m,h,k,l,n,p,q){n=P(n);g=X(f,g);h&&(h=X(m,h));l&&(l=X(k,l));q=X(p,q);var t=Va(n);nb(t,function(){Db(\"Cannot construct \"+n+\" due to unbound types\",[e])});N([a,b,c],e?[e]:[],function(u){u=u[0];if(e){var M=u.ab;var A=M.mb}else A=S.prototype;\nu=Wa(t,function(){if(Object.getPrototypeOf(this)!==T)throw new Q(\"Use 'new' to construct \"+n);if(void 0===C.kb)throw new Q(n+\" has no accessible constructor\");var Bb=C.kb[arguments.length];if(void 0===Bb)throw new Q(\"Tried to invoke ctor of \"+n+\" with invalid number of parameters (\"+arguments.length+\") - expected (\"+Object.keys(C.kb).toString()+\") parameters instead!\");return Bb.apply(this,arguments)});var T=Object.create(A,{constructor:{value:u}});u.prototype=T;var C=new ob(n,u,T,q,M,g,h,l);M=new W(n,\nC,!0,!1);A=new W(n+\"*\",C,!1,!1);var Cb=new W(n+\" const*\",C,!1,!0);lb[a]={pointerType:A,Gb:Cb};xb(t,u);return[M,A,Cb]})},h:function(a,b,c,e,f,g){assert(0<b);var m=Eb(b,c);f=X(e,f);var h=[g],k=[];N([],[a],function(l){l=l[0];var n=\"constructor \"+l.name;void 0===l.ab.kb&&(l.ab.kb=[]);if(void 0!==l.ab.kb[b-1])throw new Q(\"Cannot register multiple constructors with identical number of parameters (\"+(b-1)+\") for class '\"+l.name+\"'! Overload resolution is currently only performed using the parameter count, not actual type info!\");\nl.ab.kb[b-1]=function(){Db(\"Cannot construct \"+l.name+\" due to unbound types\",m)};N([],m,function(p){l.ab.kb[b-1]=function(){arguments.length!==b-1&&R(n+\" called with \"+arguments.length+\" arguments, expected \"+(b-1));k.length=0;h.length=b;for(var q=1;q<b;++q)h[q]=p[q].toWireType(k,arguments[q-1]);q=f.apply(null,h);Ta(k);return p[0].fromWireType(q)};return[]});return[]})},a:function(a,b,c,e,f,g,m,h){var k=Eb(c,e);b=P(b);g=X(f,g);N([],[a],function(l){function n(){Db(\"Cannot call \"+p+\" due to unbound types\",\nk)}l=l[0];var p=l.name+\".\"+b;h&&l.ab.Pb.push(b);var q=l.ab.mb,t=q[b];void 0===t||void 0===t.eb&&t.className!==l.name&&t.qb===c-2?(n.qb=c-2,n.className=l.name,q[b]=n):(mb(q,b,p),q[b].eb[c-2]=n);N([],k,function(u){u=Gb(p,u,l,g,m);void 0===q[b].eb?(u.qb=c-2,q[b]=u):q[b].eb[c-2]=u;return[]});return[]})},M:function(a,b,c){a=P(a);N([],[b],function(e){e=e[0];d[a]=e.fromWireType(c);return[]})},E:function(a,b){b=P(b);O(a,{name:b,fromWireType:function(c){var e=Z[c].value;Ib(c);return e},toWireType:function(c,\ne){return V(e)},argPackAdvance:8,readValueFromPointer:J,fb:null})},g:function(a,b,c,e){function f(){}c=ab(c);b=P(b);f.values={};O(a,{name:b,constructor:f,fromWireType:function(g){return this.constructor.values[g]},toWireType:function(g,m){return m.value},argPackAdvance:8,readValueFromPointer:Jb(b,c,e),fb:null});nb(b,f)},j:function(a,b,c){var e=Kb(a,\"enum\");b=P(b);a=e.constructor;e=Object.create(e.constructor.prototype,{value:{value:c},constructor:{value:Wa(e.name+\"_\"+b,function(){})}});a.values[c]=\ne;a[b]=e},p:function(a,b,c){c=ab(c);b=P(b);O(a,{name:b,fromWireType:function(e){return e},toWireType:function(e,f){if(\"number\"!==typeof f&&\"boolean\"!==typeof f)throw new TypeError('Cannot convert \"'+U(f)+'\" to '+this.name);return f},argPackAdvance:8,readValueFromPointer:Lb(b,c),fb:null})},f:function(a,b,c,e,f,g){var m=Eb(b,c);a=P(a);f=X(e,f);nb(a,function(){Db(\"Cannot call \"+a+\" due to unbound types\",m)},b-1);N([],m,function(h){h=[h[0],null].concat(h.slice(1));xb(a,Gb(a,h,null,f,g),b-1);return[]})},\ne:function(a,b,c,e,f){function g(l){return l}b=P(b);-1===f&&(f=4294967295);var m=ab(c);if(0===e){var h=32-8*c;g=function(l){return l<<h>>>h}}var k=-1!=b.indexOf(\"unsigned\");O(a,{name:b,fromWireType:g,toWireType:function(l,n){if(\"number\"!==typeof n&&\"boolean\"!==typeof n)throw new TypeError('Cannot convert \"'+U(n)+'\" to '+this.name);if(n<e||n>f)throw new TypeError('Passing a number \"'+U(n)+'\" from JS side to C/C++ side to an argument of type \"'+b+'\", which is outside the valid range ['+e+\", \"+f+\"]!\");\nreturn k?n>>>0:n|0},argPackAdvance:8,readValueFromPointer:Mb(b,m,0!==e),fb:null})},b:function(a,b,c){function e(g){g>>=2;return new f(za,F[g+1],F[g])}var f=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][b];c=P(c);O(a,{name:c,fromWireType:e,argPackAdvance:8,readValueFromPointer:e},{Mb:!0})},q:function(a,b){b=P(b);var c=\"std::string\"===b;O(a,{name:b,fromWireType:function(e){var f=F[e>>2];if(c)for(var g=e+4,m=0;m<=f;++m){var h=e+4+m;if(0==B[h]||m==f){g=\ng?pa(B,g,h-g):\"\";if(void 0===k)var k=g;else k+=String.fromCharCode(0),k+=g;g=h+1}}else{k=Array(f);for(m=0;m<f;++m)k[m]=String.fromCharCode(B[e+4+m]);k=k.join(\"\")}Y(e);return k},toWireType:function(e,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var g=\"string\"===typeof f;g||f instanceof Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array||R(\"Cannot pass non-string to std::string\");var m=(c&&g?function(){for(var l=0,n=0;n<f.length;++n){var p=f.charCodeAt(n);55296<=p&&57343>=p&&(p=\n65536+((p&1023)<<10)|f.charCodeAt(++n)&1023);127>=p?++l:l=2047>=p?l+2:65535>=p?l+3:l+4}return l}:function(){return f.length})(),h=Yb(4+m+1);F[h>>2]=m;if(c&&g)qa(f,h+4,m+1);else if(g)for(g=0;g<m;++g){var k=f.charCodeAt(g);255<k&&(Y(h),R(\"String has UTF-16 code units that do not fit in 8 bits\"));B[h+4+g]=k}else for(g=0;g<m;++g)B[h+4+g]=f[g];null!==e&&e.push(Y,h);return h},argPackAdvance:8,readValueFromPointer:J,fb:function(e){Y(e)}})},l:function(a,b,c){c=P(c);if(2===b){var e=sa;var f=ua;var g=va;var m=\nfunction(){return ta};var h=1}else 4===b&&(e=wa,f=xa,g=ya,m=function(){return F},h=2);O(a,{name:c,fromWireType:function(k){for(var l=F[k>>2],n=m(),p,q=k+4,t=0;t<=l;++t){var u=k+4+t*b;if(0==n[u>>h]||t==l)q=e(q,u-q),void 0===p?p=q:(p+=String.fromCharCode(0),p+=q),q=u+b}Y(k);return p},toWireType:function(k,l){\"string\"!==typeof l&&R(\"Cannot pass non-string to C++ string type \"+c);var n=g(l),p=Yb(4+n+b);F[p>>2]=n>>h;f(l,p+4,n+b);null!==k&&k.push(Y,p);return p},argPackAdvance:8,readValueFromPointer:J,fb:function(k){Y(k)}})},\nu:function(a,b,c,e,f,g){Sa[a]={name:P(b),ob:X(c,e),hb:X(f,g),elements:[]}},t:function(a,b,c,e,f,g,m,h,k){Sa[a].elements.push({wb:b,ub:X(c,e),vb:f,Ab:g,zb:X(m,h),Bb:k})},w:function(a,b,c,e,f,g){$a[a]={name:P(b),ob:X(c,e),hb:X(f,g),Db:[]}},i:function(a,b,c,e,f,g,m,h,k,l){$a[a].Db.push({Ib:P(b),wb:c,ub:X(e,f),vb:g,Ab:m,zb:X(h,k),Bb:l})},H:function(a,b){b=P(b);O(a,{Nb:!0,name:b,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},d:function(a,b,c,e){a=Pb[a];b=Qb(b);c=Ob(c);a(b,c,null,\ne)},N:Ib,z:function(a){if(0===a)return V(Rb());a=Ob(a);return V(Rb()[a])},c:function(a,b){b=Tb(a,b);for(var c=b[0],e=c.name+\"_$\"+b.slice(1).map(function(l){return l.name}).join(\"_\")+\"$\",f=[\"retType\"],g=[c],m=\"\",h=0;h<a-1;++h)m+=(0!==h?\", \":\"\")+\"arg\"+h,f.push(\"argType\"+h),g.push(b[1+h]);e=\"return function \"+Va(\"methodCaller_\"+e)+\"(handle, name, destructors, args) {\\n\";var k=0;for(h=0;h<a-1;++h)e+=\"    var arg\"+h+\" = argType\"+h+\".readValueFromPointer(args\"+(k?\"+\"+k:\"\")+\");\\n\",k+=b[h+1].argPackAdvance;\ne+=\"    var rv = handle[name](\"+m+\");\\n\";for(h=0;h<a-1;++h)b[h+1].deleteObject&&(e+=\"    argType\"+h+\".deleteObject(arg\"+h+\");\\n\");c.Nb||(e+=\"    return retType.toWireType(destructors, rv);\\n\");f.push(e+\"};\\n\");a=Fb(f).apply(null,g);return Sb(a)},n:function(a){4<a&&(Z[a].yb+=1)},x:function(a,b,c,e){a=Qb(a);var f=Ub[b];if(!f){f=\"\";for(var g=0;g<b;++g)f+=(0!==g?\", \":\"\")+\"arg\"+g;var m=\"return function emval_allocator_\"+b+\"(constructor, argTypes, args) {\\n\";for(g=0;g<b;++g)m+=\"var argType\"+g+\" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + \"+\ng+'], \"parameter '+g+'\");\\nvar arg'+g+\" = argType\"+g+\".readValueFromPointer(args);\\nargs += argType\"+g+\"['argPackAdvance'];\\n\";f=(new Function(\"requireRegisteredType\",\"Module\",\"__emval_register\",m+(\"var obj = new constructor(\"+f+\");\\nreturn __emval_register(obj);\\n}\\n\")))(Kb,d,V);Ub[b]=f}return f(a,c,e)},O:function(){return V([])},F:function(a){return V(Ob(a))},L:function(a,b){a=Kb(a,\"_emval_take_value\");a=a.readValueFromPointer(b);return V(a)},m:function(){y()},B:function(a,b,c){B.copyWithin(a,b,\nb+c)},C:function(){y(\"OOM\")},D:function(){return 0},y:function(){},o:function(a,b,c,e){for(var f=0,g=0;g<c;g++){for(var m=E[b+8*g>>2],h=E[b+(8*g+4)>>2],k=0;k<h;k++){var l=B[m+k],n=Vb[a];0===l||10===l?((1===a?ja:z)(pa(n,0)),n.length=0):n.push(l)}f+=h}E[e>>2]=f;return 0},memory:la,K:function(){},r:function(){},J:function(){},I:function(){},A:function(){},table:ma},$b=function(){function a(f){d.asm=f.exports;H--;d.monitorRunDependencies&&d.monitorRunDependencies(H);0==H&&(null!==Ka&&(clearInterval(Ka),\nKa=null),La&&(f=La,La=null,f()))}function b(f){a(f.instance)}function c(f){return Qa().then(function(g){return WebAssembly.instantiate(g,e)}).then(f,function(g){z(\"failed to asynchronously prepare wasm: \"+g);y(g)})}var e={a:Zb};H++;d.monitorRunDependencies&&d.monitorRunDependencies(H);if(d.instantiateWasm)try{return d.instantiateWasm(e,a)}catch(f){return z(\"Module.instantiateWasm callback failed with error: \"+f),!1}(function(){if(ka||\"function\"!==typeof WebAssembly.instantiateStreaming||Na()||Ma(\"file://\")||\n\"function\"!==typeof fetch)return c(b);fetch(I,{credentials:\"same-origin\"}).then(function(f){return WebAssembly.instantiateStreaming(f,e).then(b,function(g){z(\"wasm streaming compile failed: \"+g);z(\"falling back to ArrayBuffer instantiation\");c(b)})})})();return{}}();d.asm=$b;var Ra=d.___wasm_call_ctors=function(){return(Ra=d.___wasm_call_ctors=d.asm.P).apply(null,arguments)};d.__Z6ToCmdsRK6SkPath=function(){return(d.__Z6ToCmdsRK6SkPath=d.asm.Q).apply(null,arguments)};\nd.__Z8FromCmdsmi=function(){return(d.__Z8FromCmdsmi=d.asm.R).apply(null,arguments)};d.__Z7NewPathv=function(){return(d.__Z7NewPathv=d.asm.S).apply(null,arguments)};d.__Z8CopyPathRK6SkPath=function(){return(d.__Z8CopyPathRK6SkPath=d.asm.T).apply(null,arguments)};d.__Z6EqualsRK6SkPathS1_=function(){return(d.__Z6EqualsRK6SkPathS1_=d.asm.U).apply(null,arguments)};d.__Z11ToSVGStringRK6SkPath=function(){return(d.__Z11ToSVGStringRK6SkPath=d.asm.V).apply(null,arguments)};\nd.__Z13FromSVGStringNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE=function(){return(d.__Z13FromSVGStringNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE=d.asm.W).apply(null,arguments)};d.__Z13ApplySimplifyR6SkPath=function(){return(d.__Z13ApplySimplifyR6SkPath=d.asm.X).apply(null,arguments)};d.__Z11ApplyPathOpR6SkPathRKS_8SkPathOp=function(){return(d.__Z11ApplyPathOpR6SkPathRKS_8SkPathOp=d.asm.Y).apply(null,arguments)};\nd.__Z10MakeFromOpRK6SkPathS1_8SkPathOp=function(){return(d.__Z10MakeFromOpRK6SkPathS1_8SkPathOp=d.asm.Z).apply(null,arguments)};d.__Z14ResolveBuilderR11SkOpBuilder=function(){return(d.__Z14ResolveBuilderR11SkOpBuilder=d.asm._).apply(null,arguments)};d.__Z8ToCanvasRK6SkPathN10emscripten3valE=function(){return(d.__Z8ToCanvasRK6SkPathN10emscripten3valE=d.asm.$).apply(null,arguments)};d.__Z8ToPath2DRK6SkPath=function(){return(d.__Z8ToPath2DRK6SkPath=d.asm.aa).apply(null,arguments)};\nvar Y=d._free=function(){return(Y=d._free=d.asm.ba).apply(null,arguments)},Yb=d._malloc=function(){return(Yb=d._malloc=d.asm.ca).apply(null,arguments)},Ab=d.___getTypeName=function(){return(Ab=d.___getTypeName=d.asm.da).apply(null,arguments)};d.___embind_register_native_and_builtin_types=function(){return(d.___embind_register_native_and_builtin_types=d.asm.ea).apply(null,arguments)};d.dynCall_vi=function(){return(d.dynCall_vi=d.asm.fa).apply(null,arguments)};\nd.dynCall_iiiii=function(){return(d.dynCall_iiiii=d.asm.ga).apply(null,arguments)};d.dynCall_ii=function(){return(d.dynCall_ii=d.asm.ha).apply(null,arguments)};d.dynCall_i=function(){return(d.dynCall_i=d.asm.ia).apply(null,arguments)};d.dynCall_viifffffffff=function(){return(d.dynCall_viifffffffff=d.asm.ja).apply(null,arguments)};d.dynCall_vifffffi=function(){return(d.dynCall_vifffffi=d.asm.ka).apply(null,arguments)};d.dynCall_vifffff=function(){return(d.dynCall_vifffff=d.asm.la).apply(null,arguments)};\nd.dynCall_viffffff=function(){return(d.dynCall_viffffff=d.asm.ma).apply(null,arguments)};d.dynCall_vifffffffi=function(){return(d.dynCall_vifffffffi=d.asm.na).apply(null,arguments)};d.dynCall_viff=function(){return(d.dynCall_viff=d.asm.oa).apply(null,arguments)};d.dynCall_viffff=function(){return(d.dynCall_viffff=d.asm.pa).apply(null,arguments)};d.dynCall_vii=function(){return(d.dynCall_vii=d.asm.qa).apply(null,arguments)};d.dynCall_iii=function(){return(d.dynCall_iii=d.asm.ra).apply(null,arguments)};\nd.dynCall_iifff=function(){return(d.dynCall_iifff=d.asm.sa).apply(null,arguments)};d.dynCall_iiffi=function(){return(d.dynCall_iiffi=d.asm.ta).apply(null,arguments)};d.dynCall_vifffffffff=function(){return(d.dynCall_vifffffffff=d.asm.ua).apply(null,arguments)};d.dynCall_iiii=function(){return(d.dynCall_iiii=d.asm.va).apply(null,arguments)};d.dynCall_viii=function(){return(d.dynCall_viii=d.asm.wa).apply(null,arguments)};d.dynCall_viiii=function(){return(d.dynCall_viiii=d.asm.xa).apply(null,arguments)};\nd.dynCall_fif=function(){return(d.dynCall_fif=d.asm.ya).apply(null,arguments)};d.dynCall_viif=function(){return(d.dynCall_viif=d.asm.za).apply(null,arguments)};d.dynCall_fi=function(){return(d.dynCall_fi=d.asm.Aa).apply(null,arguments)};d.dynCall_viiifffffffff=function(){return(d.dynCall_viiifffffffff=d.asm.Ba).apply(null,arguments)};d.dynCall_viifffffi=function(){return(d.dynCall_viifffffi=d.asm.Ca).apply(null,arguments)};\nd.dynCall_viifffff=function(){return(d.dynCall_viifffff=d.asm.Da).apply(null,arguments)};d.dynCall_viiffffff=function(){return(d.dynCall_viiffffff=d.asm.Ea).apply(null,arguments)};d.dynCall_viifffffffi=function(){return(d.dynCall_viifffffffi=d.asm.Fa).apply(null,arguments)};d.dynCall_viiff=function(){return(d.dynCall_viiff=d.asm.Ga).apply(null,arguments)};d.dynCall_viiffff=function(){return(d.dynCall_viiffff=d.asm.Ha).apply(null,arguments)};\nd.dynCall_iiifff=function(){return(d.dynCall_iiifff=d.asm.Ia).apply(null,arguments)};d.dynCall_iiiffi=function(){return(d.dynCall_iiiffi=d.asm.Ja).apply(null,arguments)};d.dynCall_fii=function(){return(d.dynCall_fii=d.asm.Ka).apply(null,arguments)};d.dynCall_iiffff=function(){return(d.dynCall_iiffff=d.asm.La).apply(null,arguments)};d.dynCall_fiif=function(){return(d.dynCall_fiif=d.asm.Ma).apply(null,arguments)};d.dynCall_iiif=function(){return(d.dynCall_iiif=d.asm.Na).apply(null,arguments)};\nd.dynCall_vifii=function(){return(d.dynCall_vifii=d.asm.Oa).apply(null,arguments)};d.dynCall_viifd=function(){return(d.dynCall_viifd=d.asm.Pa).apply(null,arguments)};d.dynCall_viid=function(){return(d.dynCall_viid=d.asm.Qa).apply(null,arguments)};d.dynCall_viddi=function(){return(d.dynCall_viddi=d.asm.Ra).apply(null,arguments)};d.dynCall_iidi=function(){return(d.dynCall_iidi=d.asm.Sa).apply(null,arguments)};d.dynCall_viffi=function(){return(d.dynCall_viffi=d.asm.Ta).apply(null,arguments)};\nd.dynCall_fffff=function(){return(d.dynCall_fffff=d.asm.Ua).apply(null,arguments)};d.dynCall_viiiii=function(){return(d.dynCall_viiiii=d.asm.Va).apply(null,arguments)};d.dynCall_viiiiiffii=function(){return(d.dynCall_viiiiiffii=d.asm.Wa).apply(null,arguments)};d.dynCall_iiiiii=function(){return(d.dynCall_iiiiii=d.asm.Xa).apply(null,arguments)};d.dynCall_iiiiiii=function(){return(d.dynCall_iiiiiii=d.asm.Ya).apply(null,arguments)};\nd.dynCall_iidiiii=function(){return(d.dynCall_iidiiii=d.asm.Za).apply(null,arguments)};d.dynCall_jiji=function(){return(d.dynCall_jiji=d.asm._a).apply(null,arguments)};d.asm=$b;var ac;La=function bc(){ac||cc();ac||(La=bc)};\nfunction cc(){function a(){if(!ac&&(ac=!0,d.calledRun=!0,!na)){Ea(Ga);Ea(Ha);aa(d);if(d.onRuntimeInitialized)d.onRuntimeInitialized();if(d.postRun)for(\"function\"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;){var b=d.postRun.shift();Ia.unshift(b)}Ea(Ia)}}if(!(0<H)){if(d.preRun)for(\"function\"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)Ja();Ea(Fa);0<H||(d.setStatus?(d.setStatus(\"Running...\"),setTimeout(function(){setTimeout(function(){d.setStatus(\"\")},1);a()},1)):a())}}\nd.run=cc;if(d.preInit)for(\"function\"==typeof d.preInit&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.pop()();noExitRuntime=!0;cc();\n\n\n  return PathKitInit.ready\n}\n);\n})();\nif (typeof exports === 'object' && typeof module === 'object')\n      module.exports = PathKitInit;\n    else if (typeof define === 'function' && define['amd'])\n      define([], function() { return PathKitInit; });\n    else if (typeof exports === 'object')\n      exports[\"PathKitInit\"] = PathKitInit;\n    ","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","'use strict';\n\nvar isArrayLike = require('./is-array-like');\n\nfunction capitalize (str) {\n  return str[0].toUpperCase() + str.slice(1);\n}\n\nmodule.exports = function (nurbs, debug, checkBounds, pointType, weightType, knotType) {\n  var d;\n  var degreeParts = [];\n  var hasAnyKnots = false;\n  for (d = 0; d < nurbs.splineDimension; d++) {\n    var hasKnots = isArrayLike(nurbs.knots) && isArrayLike(nurbs.knots[d]);\n    if (hasKnots) hasAnyKnots = true;\n    degreeParts.push(\n      'Deg' +\n      nurbs.degree[d] +\n      (hasKnots ? '' : 'Uniform') +\n      capitalize(nurbs.boundary[d])\n    );\n  }\n  var parts = [\n    [\n      hasAnyKnots ? 'NU' : '',\n      nurbs.weights ? 'RBS' : 'BS'\n    ].join('') +\n    nurbs.dimension + 'D',\n    degreeParts.join('_')\n  ];\n\n  if (pointType) {\n    parts.push(pointType + 'Pts');\n  }\n  if (weightType) {\n    parts.push(weightType + 'Wts');\n  }\n  if (knotType) {\n    parts.push(knotType + 'Kts');\n  }\n\n  if (debug) {\n    parts.push('debug');\n  }\n\n  if (checkBounds) {\n    parts.push('chk');\n  }\n\n  return parts.join('_');\n};\n","'use strict';\n\nvar inferType = require('./infer-type');\nvar createVariable = require('./variable');\n\nfunction wrapAccessor (callback) {\n  return function (i, period) {\n    if (i !== undefined && !Array.isArray(i)) i = [i];\n    var dimAccessors = [];\n    for (var j = 0; j < i.length; j++) {\n      dimAccessors.push(createVariable.sum(i[j]));\n    }\n    if (period) {\n      for (i = 0; i < dimAccessors.length; i++) {\n        if (period[i] === undefined) continue;\n        dimAccessors[i] = '(' + dimAccessors[i] + ' + ' + period[i] + ') % ' + period[i];\n      }\n    }\n    return callback(dimAccessors);\n  };\n}\n\nfunction createAccessor (name, data) {\n  var i;\n  if (!data) return undefined;\n  switch (inferType(data)) {\n    case inferType.ARRAY_OF_ARRAYS:\n      return wrapAccessor(function (accessors) {\n        return name + '[' + accessors.join('][') + ']';\n      });\n    case inferType.GENERIC_NDARRAY:\n      return wrapAccessor(function (accessors) {\n        return name + '.get(' + accessors.join(',') + ')';\n      });\n    case inferType.NDARRAY:\n      return wrapAccessor(function (accessors) {\n        var code = [name + 'Offset'];\n        for (i = 0; i < accessors.length; i++) {\n          code.push(name + 'Stride' + i + ' * (' + accessors[i] + ')');\n        }\n        return name + '[' + code.join(' + ') + ']';\n      });\n    case inferType.PACKED:\n    default:\n      return undefined;\n  }\n}\n\nmodule.exports = function (nurbs) {\n  var accessors = {};\n  var accessor;\n\n  accessor = createAccessor('x', nurbs.points);\n  if (accessor) accessors.point = accessor;\n\n  accessor = createAccessor('w', nurbs.weights);\n  if (accessor) accessors.weight = accessor;\n\n  accessor = createAccessor('k', nurbs.knots);\n  if (accessor) accessors.knot = accessor;\n\n  return accessors;\n};\n","'use strict';\n\nvar args = [];\nvar tmp = [];\n\nmodule.exports = function numericalDerivative (out, order, dimension) {\n  if (order !== 1) {\n    throw new Error('Numerical derivative not implemented for order n = ' + order + '.');\n  }\n\n  var i;\n  var h = arguments[this.splineDimension + 3] === undefined ? 1e-4 : arguments[this.splineDimension + 3];\n\n  args.length = this.splineDimension;\n  for (i = 0; i < this.splineDimension; i++) {\n    args[i + 1] = arguments[i + 3];\n  }\n\n  var domain = this.domain;\n  var k0 = domain[dimension][0];\n  var k1 = domain[dimension][1];\n\n  var tm, tp, T;\n  var t0 = args[dimension + 1];\n  var dt = (k1 - k0) * h;\n  if (this.boundary[dimension] === 'closed') {\n    T = k1 - k0;\n    tm = k0 + ((t0 - k0 - dt + T) % T);\n    tp = k0 + ((t0 - k0 + dt + T) % T);\n    dt *= 2;\n  } else {\n    tm = Math.min(k1, Math.max(k0, t0 - dt));\n    tp = Math.min(k1, Math.max(k0, t0 + dt));\n    dt = tp - tm;\n  }\n\n  args[dimension + 1] = tm;\n  args[0] = tmp;\n  this.evaluate.apply(null, args);\n\n  args[dimension + 1] = tp;\n  args[0] = out;\n  this.evaluate.apply(null, args);\n\n  for (i = 0; i < this.dimension; i++) {\n    out[i] = (out[i] - tmp[i]) / dt;\n  }\n\n  return out;\n};\n","/* eslint-disable no-new-func */\n\n'use strict';\n\nvar ndloop = require('./utils/ndloop');\nvar variable = require('./utils/variable');\nvar accessorPreamble = require('./utils/accessor-preamble');\nvar inferType = require('./utils/infer-type');\nvar isArrayLike = require('./utils/is-array-like');\nvar sizeGetter = require('./utils/size-getter');\n\nvar evaluatorCache = {};\nvar codeCache = {};\n\nmodule.exports = function (cacheKey, nurbs, accessors, debug, checkBounds, isBasis, derivative) {\n  var splineDimension = nurbs.splineDimension;\n  var i, j, n, m, d, kvar;\n\n  var points = nurbs.points;\n  var degree = nurbs.degree;\n  var weights = nurbs.weights;\n  var hasWeights = weights !== undefined;\n  var knots = nurbs.knots;\n  var spaceDimension = nurbs.dimension;\n  var boundary = nurbs.boundary;\n\n  if (derivative !== undefined && derivative !== null) {\n    if (!Array.isArray(derivative)) {\n      derivative = [derivative];\n    }\n    var totalDerivativeOrder = 0;\n    for (i = 0; i < splineDimension; i++) {\n      if (derivative[i] === undefined) derivative[i] = 0;\n      totalDerivativeOrder += derivative[i];\n    }\n    if (hasWeights && totalDerivativeOrder > 1) {\n      throw new Error('Analytical derivative not implemented for rational b-splines with order n = ' + totalDerivativeOrder + '.');\n    }\n  }\n\n  if (isBasis) cacheKey = 'Basis' + cacheKey;\n  if (derivative) cacheKey = 'Der' + derivative.join('_') + '_' + cacheKey;\n  var cachedEvaluator = evaluatorCache[cacheKey];\n  if (debug) {\n    var logger = typeof debug === 'function' ? debug : console.log;\n  }\n\n  if (cachedEvaluator) {\n    if (debug) {\n      logger(codeCache[cacheKey]);\n    }\n\n    return cachedEvaluator.bind(nurbs);\n  }\n\n  var code = [];\n  var functionName = 'evaluate' + cacheKey;\n\n  var pointAccessor = accessors.point;\n  if (isBasis) {\n    pointAccessor = function (src, period) {\n      var terms = [];\n      for (var i = 0; i < src.length; i++) {\n        var accessor = src[i];\n        var terms2 = [];\n        for (var j = 0; j < accessor.length; j++) {\n          if (accessor[j] !== 0) terms2.push(accessor[j]);\n        }\n        accessor = terms2.join(' + ');\n        if (period[i]) {\n          accessor = '(' + accessor + ' + ' + period[i] + ') % ' + period[i];\n        }\n        terms.push(accessor + ' === ' + indexVar(i));\n      }\n      return '((' + terms.join(' && ') + ') ? 1 : 0)';\n    };\n  }\n  var weightAccessor = accessors.weight;\n  var knotAccessor = accessors.knot;\n\n  var knotVar = variable('k');\n  var pointVar = variable('x');\n  var weightVar = variable('w');\n  var indexVar = variable('i');\n  var tVar = variable('t');\n  var domainVar = debug ? 'domain' : 'd';\n  var sizeVar = variable(debug ? 'size' : 's');\n  var knotIndex = variable(debug ? 'knotIndex' : 'j');\n\n  var allDimensionUniform = true;\n  for (d = 0; d < splineDimension; d++) {\n    if (isArrayLike(knots) && isArrayLike(knots[d])) {\n      allDimensionUniform = false;\n    }\n  }\n\n  // Just to indent properly and save lots of typing\n  function line (str) {\n    code.push('  ' + (str || ''));\n  }\n  function debugLine (str) {\n    if (debug) line(str);\n  }\n  // function clog (str) {\n    // if (debug) code.push('console.log(\"' + str + ' =\", ' + str + ');');\n  // }\n\n  if (isBasis) {\n    var indexArgs = [];\n  }\n  var parameterArgs = [];\n  for (i = 0; i < splineDimension; i++) {\n    if (isBasis) {\n      indexArgs.push(indexVar([i]));\n    }\n    parameterArgs.push(tVar([i]));\n  }\n\n  code.push('function ' + functionName + ' (' +\n    (isBasis ? '' : 'out, ') +\n    parameterArgs.join(', ') +\n    (isBasis ? ', ' + indexArgs.join(', ') : '') +\n    ') {');\n\n  line('var h, m, a, b;');\n\n  if (checkBounds) {\n    line('var ' + domainVar + ' = this.domain;');\n    line('for (var i = 0; i < this.splineDimension; i++) {');\n    line('  a = arguments[i + 1];');\n    line('  if (a < ' + domainVar + '[i][0] || a > ' + domainVar + '[i][1] || a === undefined || isNaN(a)) {');\n    line('    throw new Error(\\'Invalid Spline parameter in dimension \\'+i+\\'. Valid domain is [\\'+' + domainVar + '[i][0]+\\', \\'+' + domainVar + '[i][1]+\\']. but got t\\'+i+\\' = \\'+arguments[i + 1]+\\'.\\');');\n    line('  }');\n    line('}');\n  }\n\n  for (d = 0; d < splineDimension; d++) {\n    line('var ' + sizeVar(d) + ' = ' + sizeGetter(points, 'this.points', d) + ';');\n  }\n  code.push(accessorPreamble(nurbs, 'x', 'this.points', points));\n\n  if (hasWeights) {\n    code.push(accessorPreamble(nurbs, 'w', 'this.weights', weights));\n  }\n\n  if (!allDimensionUniform) {\n    code.push(accessorPreamble(nurbs, 'k', 'this.knots', knots));\n  }\n\n  function ternary (cond, a, b) {\n    return '(' + cond + ') ? (' + a + ') : (' + b + ')';\n  }\n\n  var hasKnots = [];\n  for (d = 0; d < splineDimension; d++) {\n    switch (inferType(knots)) {\n      case inferType.NDARRAY:\n        hasKnots[d] = true;\n        break;\n      case inferType.ARRAY_OF_ARRAYS:\n        hasKnots[d] = isArrayLike(knots[d]);\n        break;\n    }\n  }\n\n  for (d = 0; d < splineDimension; d++) {\n    if (hasKnots[d]) {\n      //\n      // LOCATE KNOTS\n      //\n      debugLine('\\n  // Bisect to locate the knot interval in dimension ' + d + '\\n');\n      line('var ' + knotIndex(d) + ' = 0;');\n      line('h = ' + sizeVar(d) + ';');\n      line('while(h > ' + knotIndex(d) + ' + 1) {');\n      line('  m = 0.5 * (h + ' + knotIndex(d) + ') | 0;');\n      line('  if (' + knotAccessor([d, 'm']) + ' > ' + tVar(d) + ') h = m;');\n      line('  else ' + knotIndex(d) + ' = m;');\n      line('}');\n\n      debugLine('\\n  // Fetch knots for dimension ' + d + '\\n');\n\n      for (i = -degree[d] + 1; i <= degree[d]; i++) {\n        if (boundary[d] === 'closed') {\n          if (i < 0) {\n            // line('var ' + knotVar([d, i + degree[d] - 1]) + ' = ' + knotAccessor([d, [knotIndex(d), i]]) + ';');\n            // EDIT THIS SECTION\n            line('var ' + knotVar([d, i + degree[d] - 1]) + ' = ' + ternary(\n              knotIndex(d) + ' < ' + (-i),\n              knotAccessor([d, 0]) + ' + ' + knotAccessor([d, [sizeVar(d), knotIndex(d), i]]) + ' - ' + knotAccessor([d, [sizeVar(d)]]),\n              knotAccessor([d, [knotIndex(d), i]])\n            ) + ';');\n          } else if (i > 0) {\n            line('var ' + knotVar([d, i + degree[d] - 1]) + ' = ' + ternary(\n              knotIndex(d) + ' + ' + i + ' > ' + sizeVar(d),\n              // knotAccessor([d, sizeVar(d)]) + ' + ' + knotAccessor([d, i]) + ' - ' + knotAccessor([d, 0]),\n              knotAccessor([d, sizeVar(d)]) + ' + ' + knotAccessor([d, i + ' + ' + knotIndex(d) + ' - ' + sizeVar(d)]) + ' - ' + knotAccessor([d, 0]),\n              knotAccessor([d, [knotIndex(d), i]])\n            ) + ';');\n          } else {\n            line('var ' + knotVar([d, i + degree[d] - 1]) + ' = ' + knotAccessor([d, [knotIndex(d), i]]) + ';');\n          }\n        } else {\n          line('var ' + knotVar([d, i + degree[d] - 1]) + ' = ' + knotAccessor([d, [knotIndex(d), i]]) + ';');\n        }\n      }\n    } else {\n      //\n      // UNIFORM B-SPLINE\n      //\n      debugLine('\\n  // Directly compute knot interval for dimension ' + d + '\\n');\n\n      if (boundary[d] === 'closed') {\n        line(knotIndex(d) + ' = (' + tVar(d) + ' | 0) % ' + sizeVar(d) + ';');\n      } else {\n        line(knotIndex(d) + ' = (' + tVar(d) + ' | 0);');\n        line('if (' + knotIndex(d) + ' < ' + degree[d] + ') ' + knotIndex(d) + ' = ' + degree[d] + ';');\n        line('if (' + knotIndex(d) + ' > ' + sizeVar(d) + ' - 1) ' + knotIndex(d) + ' = ' + sizeVar(d) + ' - 1;');\n      }\n\n      debugLine('\\n  // Compute and clamp knots for dimension ' + d + '\\n');\n      for (i = -degree[d] + 1; i <= degree[d]; i++) {\n        kvar = knotVar([d, i + degree[d] - 1]);\n        line('var ' + kvar + ' = ' + knotIndex(d) + ' + ' + (i) + ';');\n      }\n\n      if (boundary[d] === 'clamped') {\n        for (i = -degree[d] + 1; i <= degree[d]; i++) {\n          kvar = knotVar([d, i + degree[d] - 1]);\n          if (i < 0) {\n            line('if (' + kvar + ' < ' + degree[d] + ') ' + kvar + ' = ' + degree[d] + ';');\n          }\n          if (i > 0) {\n            line('if (' + kvar + ' > ' + sizeVar(d) + ') ' + kvar + ' = ' + sizeVar(d) + ';');\n          }\n        }\n      }\n\n      if (boundary[d] === 'closed') {\n        debugLine('\\n  // Wrap the B-Spline parameter for closed boundary');\n        line(tVar(d) + ' %= ' + sizeVar(d) + ';');\n      }\n    }\n  }\n\n  for (d = 0, n = []; d < splineDimension; d++) {\n    n[d] = degree[d] + 1;\n  }\n\n  if (hasWeights) {\n    debugLine('\\n  // Fetch weights\\n');\n    ndloop(n, function (dst) {\n      var readIdx = [];\n      var period = [];\n      for (var d = 0; d < splineDimension; d++) {\n        readIdx[d] = [knotIndex(d), dst[d] - degree[d]];\n        if (boundary[d] === 'closed' && dst[d] - degree[d] < 0) period[d] = sizeVar(d);\n      }\n      line('var ' + weightVar(dst) + ' = ' + weightAccessor(readIdx, period) + ';');\n    });\n  }\n\n  if (debug) {\n    if (hasWeights) {\n      line('\\n  // Fetch points and project into homogeneous (weighted) coordinates\\n');\n    } else {\n      line('\\n  // Fetch points\\n');\n    }\n  }\n\n  ndloop(n, function (dst) {\n    var readIdx = [];\n    var period = [];\n    for (var d = 0; d < splineDimension; d++) {\n      readIdx[d] = [knotIndex(d), dst[d] - degree[d]];\n      if (boundary[d] === 'closed' && dst[d] - degree[d] < 0) period[d] = sizeVar(d);\n    }\n    if (isBasis) {\n      if (hasWeights) {\n        line('var ' + pointVar(dst) + ' = ' + pointAccessor(readIdx, period) + ' * ' + weightVar(dst) + ';');\n      } else {\n        line('var ' + pointVar(dst) + ' = ' + pointAccessor(readIdx, period) + ';');\n      }\n    } else {\n      for (d = 0; d < spaceDimension; d++) {\n        var dstWithDim = dst.concat(d);\n        readIdx[splineDimension] = d;\n        if (hasWeights) {\n          line('var ' + pointVar(dstWithDim) + ' = ' + pointAccessor(readIdx, period) + ' * ' + weightVar(dst) + ';');\n        } else {\n          line('var ' + pointVar(dstWithDim) + ' = ' + pointAccessor(readIdx, period) + ';');\n        }\n      }\n    }\n  });\n  debugLine('\\n');\n\n  debugLine('// Perform De Boor\\'s algorithm');\n  for (d = n.length - 1; d >= 0; d--) {\n    n[d] = [degree[d], degree[d] + 1];\n    for (i = 0; i < degree[d]; i++) {\n      debugLine('\\n  // Degree ' + degree[d] + ' evaluation in dimension ' + d + ', step ' + (i + 1) + '\\n');\n      for (j = degree[d]; j > i; j--) {\n        var isDerivative = derivative && (degree[d] - i - derivative[d] <= 0);\n\n        if (isDerivative) {\n          line('m = 1 / (' + knotVar([d, j - i + degree[d] - 1]) + ' - ' + knotVar([d, j - 1]) + ');');\n          if (hasWeights) {\n            line('a = (' + tVar(d) + ' - ' + knotVar([d, j - 1]) + ') * m;');\n            line('b = 1 - a;');\n          }\n        } else {\n          line('a = (' + tVar(d) + ' - ' + knotVar([d, j - 1]) + ') / (' + knotVar([d, j - i + degree[d] - 1]) + ' - ' + knotVar([d, j - 1]) + ');');\n          line('b = 1 - a;');\n        }\n\n        if (hasWeights) {\n          ndloop(n, function (ii) {\n            var ij = ii.slice();\n            var ij1 = ii.slice();\n            ij[d] = j;\n            ij1[d] = j - 1;\n            if (isDerivative && hasWeights) line('h = ' + weightVar(ij) + ';');\n            line(weightVar(ij) + ' = b * ' + weightVar(ij1) + ' + a * ' + weightVar(ij) + ';');\n          });\n        }\n        ndloop(n, function (ii) {\n          var weightFactor, pt1, pt2;\n          var ij = ii.slice();\n          var ij1 = ii.slice();\n          // Replace the dimension being interpolated with the interpolation indices\n          ij[d] = j;\n          ij1[d] = j - 1;\n          // Create a version to which we can append the dimension when we loop over spatial dimension\n          if (isDerivative) {\n            var derivCoeff = i + 1;\n            if (isBasis) {\n              weightFactor = hasWeights ? 'h * ' + weightVar(ij1) + ' / ' + weightVar(ij) + ' * ' : '';\n              pt1 = pointVar(ij) + (hasWeights ? ' / h' : '');\n              pt2 = pointVar(ij1) + (hasWeights ? ' / ' + weightVar(ij1) : '');\n              line(pointVar(ij) + ' = ' + derivCoeff + ' * ' + weightFactor + '(' + pt1 + ' - ' + pt2 + ') * m;');\n            } else {\n              var ijWithDimension = ij.slice();\n              var ij1WithDimension = ij1.slice();\n              for (m = 0; m < spaceDimension; m++) {\n                ijWithDimension[splineDimension] = ij1WithDimension[splineDimension] = m;\n                weightFactor = hasWeights ? 'h * ' + weightVar(ij1) + ' / ' + weightVar(ij) + ' * ' : '';\n                pt1 = pointVar(ijWithDimension) + (hasWeights ? ' / h' : '');\n                pt2 = pointVar(ij1WithDimension) + (hasWeights ? ' / ' + weightVar(ij1) : '');\n                line(pointVar(ijWithDimension) + ' = ' + derivCoeff + ' * ' + weightFactor + '(' + pt1 + ' - ' + pt2 + ') * m;');\n              }\n            }\n          } else {\n            if (isBasis) {\n              line(pointVar(ij) + ' = b * ' + pointVar(ij1) + ' + a * ' + pointVar(ij) + ';');\n            } else {\n              for (m = 0; m < spaceDimension; m++) {\n                ij[splineDimension] = ij1[splineDimension] = m;\n                line(pointVar(ij) + ' = b * ' + pointVar(ij1) + ' + a * ' + pointVar(ij) + ';');\n              }\n            }\n          }\n        });\n        debugLine('\\n');\n      }\n    }\n  }\n\n  if (debug) {\n    if (hasWeights) {\n      line('\\n  // Project back from homogeneous coordinates and return final output\\n');\n    } else {\n      line('\\n  // Return final output\\n');\n    }\n  }\n  if (isBasis) {\n    if (hasWeights) {\n      line('return ' + pointVar(degree) + ' / ' + weightVar(degree) + ';');\n    } else {\n      line('return ' + pointVar(degree) + ';');\n    }\n  } else {\n    for (d = 0; d < spaceDimension; d++) {\n      if (hasWeights) {\n        line('out[' + d + '] = ' + pointVar(degree.concat([d])) + ' / ' + weightVar(degree) + ';');\n      } else {\n        line('out[' + d + '] = ' + pointVar(degree.concat([d])) + ';');\n      }\n    }\n  }\n  if (!isBasis) {\n    line('return out;');\n  }\n  code.push('}');\n\n  if (debug) {\n    var codeStr = code.join('\\n');\n    logger(codeStr);\n\n    codeCache[cacheKey] = codeStr;\n  }\n\n  var evaluator = new Function([code.join('\\n'), '; return ', functionName].join(''))();\n  evaluatorCache[cacheKey] = evaluator;\n  return evaluator.bind(nurbs);\n};\n","/* eslint-disable no-new-func */\n\n'use strict';\n\nvar transformerCache = {};\nvar accessorPreamble = require('./utils/accessor-preamble');\nvar sizeGetter = require('./utils/size-getter');\nvar variable = require('./utils/variable');\n\nmodule.exports = function createTransform (cacheKey, nurbs, accessors, debug) {\n  var i, j, iterator, iterators, terms, n, rvalue, lvalue;\n  var cachedTransformer = transformerCache[cacheKey];\n  if (cachedTransformer) {\n    return cachedTransformer.bind(nurbs);\n  }\n\n  var code = [];\n  var functionName = 'transform' + cacheKey;\n\n  code.push('function ' + functionName + '(m) {');\n  code.push('var i, w;');\n  code.push(accessorPreamble(nurbs, 'x', 'this.points', nurbs.points));\n\n  var sizeVar = variable(debug ? 'size' : 's');\n  for (i = 0; i < nurbs.splineDimension; i++) {\n    code.push('var ' + sizeVar(i) + ' = ' + sizeGetter(nurbs.points, 'this.points', i) + ';');\n  }\n\n  iterators = [];\n  for (i = 0; i < nurbs.splineDimension; i++) {\n    iterator = 'i' + i;\n    iterators.push(iterator);\n    code.push('for (' + iterator + ' = ' + sizeVar(i) + '- 1; ' + iterator + ' >= 0; ' + iterator + '--) {');\n  }\n\n  for (i = 0; i < nurbs.dimension; i++) {\n    code.push('x' + i + ' = ' + accessors.point(iterators.concat([i])));\n  }\n\n  terms = [];\n  for (i = 0; i < nurbs.dimension; i++) {\n    terms.push('m[' + ((nurbs.dimension + 1) * (i + 1) - 1) + '] * x' + i);\n  }\n  terms.push('m[' + ((nurbs.dimension + 1) * (nurbs.dimension + 1) - 1) + ']');\n  code.push('var w = (' + terms.join(' + ') + ') || 1.0;');\n\n  for (i = 0; i < nurbs.dimension; i++) {\n    terms = [];\n    n = nurbs.dimension;\n    for (j = 0; j < n; j++) {\n      terms.push('m[' + (j * (n + 1) + i) + '] * x' + j);\n    }\n    terms.push('m[' + (j * (n + 1) + i) + ']');\n    lvalue = accessors.point(iterators.concat([i]));\n    rvalue = '(' + terms.join(' + ') + ') / w';\n    code.push(lvalue + ' = ' + rvalue + ';');\n  }\n\n  for (i = nurbs.splineDimension - 1; i >= 0; i--) {\n    code.push('}');\n  }\n\n  code.push('return this;');\n  code.push('}');\n\n  var transform = new Function([code.join('\\n'), '; return ', functionName].join(''))();\n\n  if (debug) console.log(code.join('\\n'));\n\n  transformerCache[cacheKey] = transform;\n  return transform.bind(nurbs);\n};\n","/* eslint-disable no-new-func */\n\n'use strict';\n\nvar ndloop = require('./utils/ndloop');\nvar variable = require('./utils/variable');\nvar accessorPreamble = require('./utils/accessor-preamble');\nvar inferType = require('./utils/infer-type');\nvar isArrayLike = require('./utils/is-array-like');\nvar sizeGetter = require('./utils/size-getter');\n\nvar supportCache = {};\n\nmodule.exports = function (cacheKey, nurbs, accessors, debug, checkBounds) {\n  var cachedSupport = supportCache[cacheKey];\n  if (cachedSupport) {\n    return cachedSupport.bind(nurbs);\n  }\n\n  var degree = nurbs.degree;\n  var knots = nurbs.knots;\n  var splineDimension = nurbs.splineDimension;\n  var boundary = nurbs.boundary;\n\n  var i, n, d;\n  var code = [];\n  var functionName = 'support' + cacheKey;\n\n  var knotAccessor = accessors.knot;\n\n  var tVar = variable('t');\n  var domainVar = debug ? 'domain' : 'd';\n  var sizeVar = variable(debug ? 'size' : 's');\n  var knotIndex = variable(debug ? 'knotIndex' : 'i');\n\n  var allDimensionUniform = true;\n  for (d = 0; d < splineDimension; d++) {\n    if (isArrayLike(knots) && isArrayLike(knots[d])) {\n      allDimensionUniform = false;\n    }\n  }\n\n  // Just to indent properly and save lots of typing\n  function line (str) {\n    code.push('  ' + (str || ''));\n  }\n\n  var parameterArgs = [];\n  for (i = 0; i < splineDimension; i++) {\n    parameterArgs.push(tVar([i]));\n  }\n\n  code.push('function ' + functionName + ' (out, ' + parameterArgs.join(', ') + ') {');\n\n  var c = 0;\n  function pushSupport (args, period) {\n    if (period === undefined) {\n      line('out[' + (c++) + '] = ' + args.join(' + ') + ';');\n    } else {\n      line('out[' + (c++) + '] = (' + args.join(' + ') + ' + ' + period + ') % ' + period + ';');\n    }\n  }\n\n  line('var h, m;');\n  line('var c = 0;');\n\n  if (checkBounds) {\n    line('var ' + domainVar + ' = this.domain;');\n    line('for (var i = 0; i < this.splineDimension; i++) {');\n    line('  a = arguments[i + 1];');\n    line('  if (a < ' + domainVar + '[i][0] || a > ' + domainVar + '[i][1] || a === undefined || isNaN(a)) {');\n    line('    throw new Error(\\'Invalid Spline parameter in dimension \\'+i+\\'. Valid domain is [\\'+' + domainVar + '[i][0]+\\', \\'+' + domainVar + '[i][1]+\\']. but got t\\'+i+\\' = \\'+arguments[i + 1]+\\'.\\');');\n    line('  }');\n    line('}');\n  }\n\n  for (d = 0; d < splineDimension; d++) {\n    line('var ' + sizeVar(d) + ' = ' + sizeGetter(nurbs.points, 'this.points', d) + ';');\n  }\n\n  if (!allDimensionUniform) {\n    code.push(accessorPreamble(nurbs, 'k', 'this.knots', knots));\n  }\n\n  var hasKnots = [];\n  for (d = 0; d < splineDimension; d++) {\n    switch (inferType(knots)) {\n      case inferType.NDARRAY:\n        hasKnots[d] = true;\n        break;\n      case inferType.ARRAY_OF_ARRAYS:\n        hasKnots[d] = isArrayLike(knots[d]);\n        break;\n    }\n  }\n\n  for (d = 0; d < splineDimension; d++) {\n    if (hasKnots[d]) {\n      line('var ' + knotIndex(d) + ' = 0;');\n      line('h = ' + sizeVar(d) + ';');\n      line('while(h > ' + knotIndex(d) + ' + 1) {');\n      line('  m = 0.5 * (h + ' + knotIndex(d) + ') | 0;');\n      line('  if (' + knotAccessor([d, 'm']) + ' > ' + tVar(d) + ') h = m;');\n      line('  else ' + knotIndex(d) + ' = m;');\n      line('}');\n    } else {\n      if (boundary[d] === 'closed') {\n        line(knotIndex(d) + ' = (' + tVar(d) + ' | 0) % ' + sizeVar(d) + ';');\n      } else {\n        line(knotIndex(d) + ' = (' + tVar(d) + ' | 0);');\n        line('if (' + knotIndex(d) + ' < ' + degree[d] + ') ' + knotIndex(d) + ' = ' + degree[d] + ';');\n        line('if (' + knotIndex(d) + ' > ' + sizeVar(d) + ' - 1) ' + knotIndex(d) + ' = ' + sizeVar(d) + ' - 1;');\n      }\n    }\n  }\n\n  for (d = 0, n = []; d < splineDimension; d++) {\n    n[d] = degree[d] + 1;\n  }\n\n  ndloop(n, function (dst) {\n    var readIdx = [];\n    var period = [];\n    for (var d = 0; d < splineDimension; d++) {\n      readIdx[d] = [knotIndex(d), dst[d] - degree[d]];\n      if (boundary[d] === 'closed' && dst[d] - degree[d] < 0) period[d] = sizeVar(d);\n    }\n    for (d = 0; d < splineDimension; d++) {\n      pushSupport(readIdx[d], period[d]);\n    }\n  });\n\n  line('out.length = ' + c + ';');\n\n  line('return out;');\n  code.push('}');\n\n  if (debug) console.log(code.join('\\n'));\n\n  var evaluator = new Function([code.join('\\n'), '; return ', functionName].join(''))();\n  supportCache[cacheKey] = evaluator;\n  return evaluator.bind(nurbs);\n};\n","export const MAGIC_METHOD = \"@magic:\";\nexport const makeEventChecker = (value, split = CHECK_SAPARATOR) => {\n  return ` ${split} ${value}`;\n}\n\n// event name regular expression\nexport const CHECK_DOM_EVENT_PATTERN = /domevent (.*)/gi;\nexport const CHECK_LOAD_PATTERN = /load (.*)/gi;\nexport const CHECK_BIND_PATTERN = /bind (.*)/gi;\nexport const CHECK_SUBSCRIBE_PATTERN = /subscribe (.*)/gi;\n\nconst MULTI_PREFIX = \"ME@\";\nconst SPLITTER = \"|\";\n\nexport const PIPE = (...args) => {\n  return args.join(SPLITTER);\n};\n\nexport const EVENT = (...args) => {\n  return MULTI_PREFIX + PIPE(...args);\n};\n\nexport const COMMAND = EVENT\nexport const ON = EVENT\n\n\nexport const NAME_SAPARATOR = \":\";\nexport const CHECK_SAPARATOR = \"|\";\nexport const DOM_EVENT_SAPARATOR = `${MAGIC_METHOD}domevent `;\nexport const LOAD_SAPARATOR = `${MAGIC_METHOD}load `;\nexport const BIND_SAPARATOR = `${MAGIC_METHOD}bind `;\nexport const SUBSCRIBE_SAPARATOR = `${MAGIC_METHOD}subscribe `;\n\nexport const SAPARATOR = ' ';\n\nconst refManager = {};\n\nconst DOM_EVENT_MAKE = (...keys) => {\n  var key = keys.join(NAME_SAPARATOR);\n  return (...args) => {\n    return DOM_EVENT_SAPARATOR + [key, ...args].join(SAPARATOR);\n  };\n};\n\nconst SUBSCRIBE_EVENT_MAKE = (...args) => {\n  return SUBSCRIBE_SAPARATOR + args.join(CHECK_SAPARATOR);\n}\n\n\n// Predefined CHECKER\nexport const CHECKER = (value, split = CHECK_SAPARATOR) => {\n  return makeEventChecker(value, split);\n};\n\nexport const AFTER = (value, split = CHECK_SAPARATOR) => {\n  return CHECKER(`after(${value})`, split);\n};\n\nexport const BEFORE = (value, split = CHECK_SAPARATOR) => {\n  return CHECKER(`before(${value})`, split);  \n};\n\nexport const IF = CHECKER;\nexport const KEY = CHECKER; \n\nexport const ARROW_UP = CHECKER('ArrowUp');\nexport const ARROW_DOWN = CHECKER('ArrowDown');\nexport const ARROW_LEFT = CHECKER('ArrowLeft');\nexport const ARROW_RIGHT = CHECKER('ArrowRight');\nexport const ENTER = CHECKER('Enter');\nexport const SPACE = CHECKER('Space');\nexport const ESCAPE = CHECKER('Escape');\n\nexport const ALT = CHECKER(\"isAltKey\");\nexport const SHIFT = CHECKER(\"isShiftKey\");\nexport const META = CHECKER(\"isMetaKey\");\nexport const CONTROL = CHECKER(\"isCtrlKey\");\nexport const MOUSE = CHECKER(\"hasMouse\");\nexport const TOUCH = CHECKER(\"hasTouch\");\nexport const PEN = CHECKER(\"hasPen\");\nexport const SELF = CHECKER(\"self\");\nexport const LEFT_BUTTON = CHECKER(\"isMouseLeftButton\")\nexport const RIGHT_BUTTON = CHECKER(\"isMouseRightButton\")\n\nexport const FIT = CHECKER(\"fit\");\nexport const PASSIVE = CHECKER(\"passive\");\nexport const DOMDIFF = CHECKER('domdiff');\n\n// event config method\nexport const DEBOUNCE = (t = 100) => {\n  return CHECKER(`debounce(${t})`);\n};\n\nexport const DELAY = (t = 300) => {\n  return CHECKER(`delay(${t})`);\n};\n\nexport const D1000 = DEBOUNCE(1000)\n\nexport const THROTTLE = (t = 100) => {\n  return CHECKER(`throttle(${t})`);\n};\nexport const ALL_TRIGGER = CHECKER(\"allTrigger()\");\nexport const SELF_TRIGGER = CHECKER(\"selfTrigger()\");\n\nexport const CAPTURE = CHECKER(\"capture()\");\n\n// event config method\n\n// before method\n\n// after method\nexport const PREVENT = AFTER(`preventDefault`);\nexport const STOP = AFTER(`stopPropagation`);\n\nexport const SUBSCRIBE = SUBSCRIBE_EVENT_MAKE;\nexport const SUBSCRIBE_ALL = (...args) => SUBSCRIBE_EVENT_MAKE(...args, ALL_TRIGGER);\nexport const SUBSCRIBE_SELF = (...args) => SUBSCRIBE_EVENT_MAKE(...args, SELF_TRIGGER);\nexport const CONFIG = (config, ...args) => SUBSCRIBE_EVENT_MAKE(`config:${config}`, ...args);\nexport const CUSTOM = DOM_EVENT_MAKE;\nexport const CLICK = DOM_EVENT_MAKE(\"click\");\nexport const DOUBLECLICK = DOM_EVENT_MAKE(\"dblclick\");\nexport const MOUSEDOWN = DOM_EVENT_MAKE(\"mousedown\");\nexport const MOUSEUP = DOM_EVENT_MAKE(\"mouseup\");\nexport const MOUSEMOVE = DOM_EVENT_MAKE(\"mousemove\");\nexport const MOUSEOVER = DOM_EVENT_MAKE(\"mouseover\");\nexport const MOUSEOUT = DOM_EVENT_MAKE(\"mouseout\");\nexport const MOUSEENTER = DOM_EVENT_MAKE(\"mouseenter\");\nexport const MOUSELEAVE = DOM_EVENT_MAKE(\"mouseleave\");\nexport const TOUCHSTART = DOM_EVENT_MAKE(\"touchstart\");\nexport const TOUCHMOVE = DOM_EVENT_MAKE(\"touchmove\");\nexport const TOUCHEND = DOM_EVENT_MAKE(\"touchend\");\nexport const KEYDOWN = DOM_EVENT_MAKE(\"keydown\");\nexport const KEYUP = DOM_EVENT_MAKE(\"keyup\");\nexport const KEYPRESS = DOM_EVENT_MAKE(\"keypress\");\nexport const DRAG = DOM_EVENT_MAKE(\"drag\");\nexport const DRAGSTART = DOM_EVENT_MAKE(\"dragstart\");\nexport const DROP = DOM_EVENT_MAKE(\"drop\");\nexport const DRAGOVER = DOM_EVENT_MAKE(\"dragover\");\nexport const DRAGENTER = DOM_EVENT_MAKE(\"dragenter\");\nexport const DRAGLEAVE = DOM_EVENT_MAKE(\"dragleave\");\nexport const DRAGEXIT = DOM_EVENT_MAKE(\"dragexit\");\nexport const DRAGOUT = DOM_EVENT_MAKE(\"dragout\");\nexport const DRAGEND = DOM_EVENT_MAKE(\"dragend\");\nexport const CONTEXTMENU = DOM_EVENT_MAKE(\"contextmenu\");\nexport const CHANGE = DOM_EVENT_MAKE(\"change\");\nexport const INPUT = DOM_EVENT_MAKE(\"input\");\nexport const FOCUS = DOM_EVENT_MAKE(\"focus\");\nexport const FOCUSIN = DOM_EVENT_MAKE(\"focusin\");\nexport const FOCUSOUT = DOM_EVENT_MAKE(\"focusout\");\nexport const BLUR = DOM_EVENT_MAKE(\"blur\");\nexport const PASTE = DOM_EVENT_MAKE(\"paste\");\nexport const RESIZE = DOM_EVENT_MAKE(\"resize\");\nexport const SCROLL = DOM_EVENT_MAKE(\"scroll\");\nexport const SUBMIT = DOM_EVENT_MAKE(\"submit\");\n\n// pointerstart 의 경우 drag 를 위한 시작점이기 때문에  left button 만 허용한다. \n// context 메뉴나 wheel 은 허용하지 않는다. \nexport const POINTERSTART = (...args) => {\n  return (CUSTOM(\"pointerdown\")(...args) + LEFT_BUTTON);\n}\n// \n\nexport const POINTEROVER = CUSTOM(\"pointerover\");\nexport const POINTERENTER = CUSTOM(\"pointerenter\");\nexport const POINTEROUT = CUSTOM(\"pointerout\");\nexport const POINTERMOVE = CUSTOM(\"pointermove\");\nexport const POINTEREND = CUSTOM(\"pointerup\");\nexport const CHANGEINPUT = CUSTOM(\"change\", \"input\");\nexport const WHEEL = CUSTOM(\"wheel\", \"mousewheel\", \"DOMMouseScroll\");\nexport const ANIMATIONSTART = DOM_EVENT_MAKE('animationstart');\nexport const ANIMATIONEND = DOM_EVENT_MAKE('animationend');\nexport const ANIMATIONITERATION = DOM_EVENT_MAKE('animationiteration');\nexport const TRANSITIONSTART = DOM_EVENT_MAKE('transitionstart');\nexport const TRANSITIONEND = DOM_EVENT_MAKE('transitionend');\nexport const TRANSITIONRUN = DOM_EVENT_MAKE('transitionrun');\nexport const TRANSITIONCANCEL = DOM_EVENT_MAKE('transitioncancel');\nexport const DOUBLETAB = CUSTOM('doubletab')\n\n\n// Predefined LOADER\nexport const LOAD = (value = \"$el\") => {\n  return LOAD_SAPARATOR + value;\n};\n\nexport const getRef = id => {\n  return refManager[id] || '';\n};\n\nexport const BIND_CHECK_FUNCTION = field => {\n  return function() {\n    return this.prevState[field] != this.state[field];\n  };\n};\n\nexport const BIND_CHECK_DEFAULT_FUNCTION = () => {\n  return true;\n};\n\nexport const BIND = (value = \"$el\") => {\n  return (\n    BIND_SAPARATOR + value\n  );\n};\n\nexport function normalizeWheelEvent (e) {\n  let dx = e.deltaX;\n  let dy = e.deltaY;\n\n\n  if (dx === 0 && e.shiftKey) {\n    [dy, dx] = [dx, dy];\n  }  \n\n  if (e.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n    dy *= 8;\n  } else if (e.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n    dy *= 24; \n  }\n\n\n  return [\n    limit(dx, 24), \n    limit(dy, 24), \n    0\n  ]\n}\n\nfunction limit (delta, maxDelta) {\n  return Math.sign(delta) * Math.min( maxDelta, Math.abs(delta))\n}\n\nexport default {\n  addDomEvent(dom, eventName, callback, useCapture = false) {\n    if (dom) {\n      dom.addEventListener(eventName, callback, useCapture);\n    }\n  },\n\n  removeDomEvent(dom, eventName, callback) {\n    if (dom) {\n      dom.removeEventListener(eventName, callback);\n    }\n  },\n\n  pos(e) {\n    if (e.touches && e.touches[0]) {\n      return e.touches[0];\n    }\n\n    return e;\n  },\n\n  posXY(e) {\n    var pos = this.pos(e);\n    return {\n      x: pos.pageX,\n      y: pos.pageY\n    };\n  }\n};\n","\n/**\n * property 수집하기\n * 상위 클래스의 모든 property 를 수집해서 리턴한다.\n * \n * @param {Object} root  상속관계에 있는 인스턴스 \n * @param {Object} expectMethod 제외될 필드 리스트 { [field]: true }\n * @returns {string[]} 나의 상위 모든 메소드를 수집해서 리턴한다. \n */\nexport function collectProps(root, expectMethod = {}) {\n\n    let p = root;\n    let results = [];\n    do {\n        const isObject = p instanceof Object;\n\n        if (isObject === false) {\n            break;\n        }\n\n        const names = Object.getOwnPropertyNames(p).filter(name => {\n            return root && isFunction(root[name]) && !expectMethod[name];\n        });\n\n        results.push.apply(results, names);\n    } while (p = Object.getPrototypeOf(p));\n\n\n    return results;\n}\n\nexport function debounce(callback, delay = 0) {\n\n    if (delay === 0) {\n        return callback;\n    }\n\n    var t = undefined;\n\n    return function ($1, $2, $3, $4, $5) {\n        if (t) {\n            clearTimeout(t);\n        }\n\n        t = setTimeout(function () {\n            callback($1, $2, $3, $4, $5);\n        }, delay || 300);\n    }\n}\n\n\nexport function throttle(callback, delay) {\n\n    var t = undefined;\n\n    return function ($1, $2, $3, $4, $5) {\n        if (!t) {\n            t = setTimeout(function () {\n                callback($1, $2, $3, $4, $5);\n                t = null;\n            }, delay || 300);\n        }\n\n    }\n}\n\nexport function ifCheck(callback, context, checkMethods) {\n    return (...args) => {\n        const ifResult = checkMethods.every(check => {\n            return context[check.target].apply(context, args);\n        });\n\n        if (ifResult) {\n            callback.apply(context, args);\n        }\n    }\n}\n\nexport function keyEach(obj, callback) {\n    Object.keys(obj).forEach((key, index) => {\n        callback(key, obj[key], index);\n    })\n}\n\nexport function keyMap(obj, callback) {\n    return Object.keys(obj).map((key, index) => {\n        return callback(key, obj[key], index);\n    })\n}\n\nexport function keyMapJoin(obj, callback, joinString = '') {\n    return keyMap(obj, callback).join(joinString);\n}\n\nexport function get(obj, key, callback) {\n\n    var returnValue = defaultValue(obj[key], key);\n\n    if (isFunction(callback)) {\n        return callback(returnValue);\n    }\n\n    return returnValue;\n}\n\nexport function defaultValue(value, defaultValue) {\n    return typeof value == 'undefined' ? defaultValue : value;\n}\n\nexport function isUndefined(value) {\n    return typeof value == 'undefined' || value === null;\n}\n\nexport function isNotUndefined(value) {\n    return isUndefined(value) === false;\n}\n\nexport function isBoolean(value) {\n    return typeof value == 'boolean'\n}\n\nexport function isString(value) {\n    return typeof value == 'string'\n}\n\nexport function isNotString(value) {\n    return isString(value) === false;\n}\n\nexport function isArray(value) {\n    return Array.isArray(value);\n}\n\nexport function isObject(value) {\n    return typeof value == 'object' && !Array.isArray(value) && !isNumber(value) && !isString(value) && value !== null;\n}\n\nexport function isFunction(value) {\n    return typeof value == 'function'\n}\n\nexport function isNumber(value) {\n    return typeof value == 'number';\n}\n\nexport function isZero(num) {\n    return num === 0;\n}\n\nexport function isNotZero(num) {\n    return !isZero(num);\n}\n\nexport function clone(obj) {\n    if (isUndefined(obj)) return undefined;\n    return JSON.parse(JSON.stringify(obj));\n}\n\n\nexport function combineKeyArray(obj) {\n    Object.keys(obj).forEach(key => {\n        if (Array.isArray(obj[key])) {\n            obj[key] = obj[key].join(', ')\n        }\n    })\n\n    return obj;\n}\n\n\n\nconst short_tag_regexp = /\\<(\\w*)([^\\>]*)\\/\\>/gim;\n\nconst HTML_TAG = {\n    'image': true,\n    'input': true,\n    'br': true,\n    'path': true,\n    'line': true,\n    'circle': true,\n    'rect': true,\n    'path': true,\n    'polygon': true,\n    'polyline': true,\n    'use': true\n}\n\n\nexport const html = (strings, ...args) => {\n\n    var results = strings.map((it, index) => {\n\n        var results = args[index] || ''\n\n        if (!Array.isArray(results)) {\n            results = [results]\n        }\n\n        results = results.join('')\n\n        return it + results;\n    }).join('');\n\n    results = results.replace(short_tag_regexp, function (match, p1) {\n        if (HTML_TAG[p1.toLowerCase()]) {\n            return match;\n        } else {\n            return match.replace('/>', `></${p1}>`)\n        }\n    })\n\n    return results;\n}\n\n\n/**\n * 전체 문자열에서 특정 키워드 함수를 사용하는 패턴을 찾아 리턴해준다. \n * \n * @param {string[]} arr \n * @param {string} keyword \n */\nexport const splitMethodByKeyword = (arr, keyword) => {\n    const filterKeys = arr.filter(code => code.indexOf(`${keyword}(`) > -1);\n    const filterMaps = filterKeys.map(code => {\n        const [target, param] = code\n            .split(`${keyword}(`)[1]\n            .split(\")\")[0]\n            .trim()\n            .split(\" \");\n\n        return { target, param };\n    });\n\n    return [filterKeys, filterMaps];\n};","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import { mat4, vec2, vec3 } from \"gl-matrix\";\n\nexport function round(n, k) {\n    k = typeof k === 'undefined' ? 1 : k;\n    return Math.round(n * k) / k;\n}\n\nexport function area(x, y, areaWidth = 100) {\n    const column = x < 0 ? Math.floor(x/areaWidth) : Math.ceil(x/areaWidth); \n    const row = y < 0 ? Math.floor(y/areaWidth) : Math.ceil(y/areaWidth); \n\n    return [row, column]\n}\n\n\nexport function degreeToRadian(degrees) {\n    return degrees * (Math.PI / 180);\n}\n\nexport function div(num, divNum = 1) {\n    return (num === 0) ? 0 : num / divNum;\n}\n\n/**\n * \n * convert radian to degree \n * \n * @param {*} radian \n * @returns {Number} 0..360\n */\nexport function radianToDegree(radian) {\n    var angle = radian * (180 / Math.PI);\n\n\n    if (angle < 0) {\n        angle = 360 + angle\n    }\n\n    return angle;\n}\n\n\nexport function getXInCircle(angle, radius, centerX = 0) {\n    return centerX + radius * Math.cos(degreeToRadian(angle))\n}\n\nexport function getYInCircle(angle, radius, centerY = 0) {\n    return centerY + radius * Math.sin(degreeToRadian(angle))\n}\n\nexport function getXYInCircle(angle, radius, centerX = 0, centerY = 0) {\n    return {\n        x: getXInCircle(angle, radius, centerX),\n        y: getYInCircle(angle, radius, centerY)\n    }\n}\n\nexport function getDist(x, y, centerX = 0, centerY = 0) {\n    return vec2.distance([x, y], [centerX, centerY])\n}\n\n/**\n * \n * start 벡터에서 end 벡터로 이어질 때  \n * end에서 pointDist 만큼의 거리를 이동한 벡터를 구한다. \n * \n * @param {vec3} start \n * @param {vec3} end \n * @param {number} pointDist \n */\nexport function getPointBetweenVerties(start, end, pointDist = 0) {\n    return vec3.lerp([], start, end, 1 + pointDist / vec3.dist(start, end))\n}\n\nexport function vertiesMap(verties, transformView) {\n\n    if (verties.length === 1) {\n        return [\n            vec3.transformMat4([], verties[0], transformView),\n        ]\n    } else if (verties.length === 2) {\n        return [\n            vec3.transformMat4([], verties[0], transformView),\n            vec3.transformMat4([], verties[1], transformView),\n        ]\n    } else if (verties.length === 3) {\n        return [\n            vec3.transformMat4([], verties[0], transformView),\n            vec3.transformMat4([], verties[1], transformView),\n            vec3.transformMat4([], verties[2], transformView),\n        ]\n    } else if (verties.length === 4) {\n        return [\n            vec3.transformMat4([], verties[0], transformView),\n            vec3.transformMat4([], verties[1], transformView),\n            vec3.transformMat4([], verties[2], transformView),\n            vec3.transformMat4([], verties[3], transformView),\n        ]\n    } else if (verties.length === 5) {\n        return [\n            vec3.transformMat4([], verties[0], transformView),\n            vec3.transformMat4([], verties[1], transformView),\n            vec3.transformMat4([], verties[2], transformView),\n            vec3.transformMat4([], verties[3], transformView),\n            vec3.transformMat4([], verties[4], transformView),\n        ]\n    }\n\n    return verties.map(v => {\n        return vec3.transformMat4([], v, transformView)\n    });\n}\n\nfunction getTargetPointX(source, target, axis, nextTarget) {\n    return [\n        source, \n        [target[0], source[1], target[2]], \n        axis, \n        Math.abs(source[0] - target[0]), \n        nextTarget\n    ];\n}\n\nfunction getTargetPointY(source, target, axis, nextTarget) {\n    return [\n        [target[0], source[1], source[2]], \n        target, \n        axis, \n        Math.abs(source[1] - target[1]), \n        nextTarget\n    ];\n}    \n\nfunction invertTargetPoint(arr, isInvert = false) {\n    if (isInvert === false) return arr;\n\n    const [source, target, axis, dist, newTarget, sourceVerties, targetVerties] = arr; \n\n    if (newTarget) {\n        return [\n            [target[0], newTarget[1], target[2]],             \n            [source[0], newTarget[1], source[2]], \n            axis, dist, \n            [source[0], source[1], newTarget[2]],\n            sourceVerties, \n            targetVerties,\n            isInvert\n        ]\n    } else {\n        return [\n            target, \n            source, \n            axis, \n            dist, \n            newTarget, \n            sourceVerties, \n            targetVerties,\n            isInvert\n        ]\n    }\n\n}\n\n/**\n * 가이드 \n * \n * @param {vec3[]} sourceVerties \n * @param {vec3[]} targetVerties\n * \n * @returns {Array} [source, target, axis, dist, newTarget] \n */\nexport function makeGuidePoint (sourceVerties, targetVerties) {\n\n    let leftVerties = sourceVerties;\n    let rightVerties = targetVerties;\n    let hasInvert = false; \n    if (sourceVerties[4][0] - targetVerties[4][0] > 0) {\n        leftVerties = targetVerties;\n        rightVerties = sourceVerties;\n        hasInvert = true; \n    }\n\n    // x 구하기 \n    const leftCenter = vec3.lerp([], leftVerties[1], leftVerties[2], 0.5);\n    const rightCenter = vec3.lerp([], rightVerties[0], rightVerties[3], 0.5);\n\n    let pointList = [];\n\n    if (rightVerties[0][1] <= leftCenter[1] && leftCenter[1] <= rightVerties[3][1]) {\n        pointList.push(getTargetPointX(leftCenter, rightCenter, \"x\", null))\n    } else if (rightVerties[0][1] <= leftVerties[1][1]) {\n        if (rightVerties[3][0] <= leftVerties[1][0] && leftVerties[1][0] <= rightVerties[2][0]) {\n            pointList.push(getTargetPointY(rightVerties[3], [rightVerties[3][0], leftVerties[1][1], leftVerties[1][2]], \"y\", null))\n        } else {\n            pointList.push(getTargetPointX(leftVerties[1], rightCenter, \"x\", rightVerties[3]))\n        }\n\n    } else if (leftVerties[3][0] <= rightVerties[0][0] && rightVerties[0][0] <= leftVerties[2][0]) {\n        pointList.push(getTargetPointY(leftVerties[3], rightVerties[0], \"y\"))\n    } else if (rightVerties[3][0] <= leftVerties[0][0] && leftVerties[0][0] <= rightVerties[2][0]) {      \n        pointList.push(getTargetPointY([rightVerties[0][0],leftVerties[3][1], leftVerties[3][2] ], rightVerties[0], \"y\"))\n    } else if (rightVerties[3][0] <= leftVerties[1][0] && leftVerties[1][0] <= rightVerties[2][0]) {\n        pointList.push(getTargetPointY(rightVerties[3], [rightVerties[3][0], leftVerties[1][1], leftVerties[1][2]], \"y\"))\n    } else {\n        pointList.push(getTargetPointX(leftVerties[2], rightCenter, \"x\", rightVerties[0]))\n    }\n\n    pointList.sort((a, b) => {\n        return a[3] - b[3];\n    });\n\n    return invertTargetPoint([\n        ...pointList[0],\n        sourceVerties,\n        targetVerties,\n    ], hasInvert);\n}\n\n\nexport function getVertiesMaxX(verties) {\n    let maxValue = Number.MIN_SAFE_INTEGER;\n    verties.forEach(v => {\n        maxValue = Math.max(v[0], maxValue)\n    })\n\n    return maxValue;\n}\n\nexport function getVertiesMaxY(verties) {\n    let maxValue = Number.MIN_SAFE_INTEGER;\n    verties.forEach(v => {\n        maxValue = Math.max(v[1], maxValue)\n    })\n\n    return maxValue;\n}\n\nexport function getVertiesMinX(verties) {\n    let maxValue = Number.MAX_SAFE_INTEGER;\n    verties.forEach(v => {\n        maxValue = Math.min(v[0], maxValue)\n    })\n\n    return maxValue;\n}\n\nexport function getVertiesCenterX(verties) {\n    let minX = Number.MAX_SAFE_INTEGER;\n    let maxX = Number.MIN_SAFE_INTEGER;\n    verties.forEach(v => {\n        minX = Math.min(v[0], minX)\n        maxX = Math.max(v[0], maxX)\n    })\n\n    return Math.round((minX + maxX) / 2);\n}\n\nexport function getVertiesMinY(verties) {\n    let maxValue = Number.MAX_SAFE_INTEGER;\n    verties.forEach(v => {\n        maxValue = Math.min(v[1], maxValue)\n    })\n\n    return maxValue;\n}\n\n\nexport function getVertiesCenterY(verties) {\n    let minY = Number.MAX_SAFE_INTEGER;\n    let maxY = Number.MIN_SAFE_INTEGER;\n    verties.forEach(v => {\n        minY = Math.min(v[1], minY)\n        maxY = Math.max(v[1], maxY)\n    })\n\n    return Math.round((minY + maxY) / 2);\n}\n\n\nexport function calculateAngle(rx, ry) {\n    return radianToDegree(Math.atan2(ry, rx))\n}\n\n/**\n * center 를 기준으로 point 에서 dist 만큼 이동한 후 angle 를 구함 \n * \n * @param {vec3} point \n * @param {vec3} center \n * @param {vec3} dist \n */\nexport function calculateAngleForVec3(point, center, dist) {\n    return calculateAnglePointDistance(\n        { x: point[0], y: point[1] },\n        { x: center[0], y: center[1] },   // origin \n        { dx: dist[0], dy: dist[1] }\n    )\n}\n\nexport function calculateRotationOriginMat4(angle, origin) {\n    const view = mat4.create();\n    mat4.translate(view, view, origin);    // move origin \n    mat4.rotateZ(view, view, degreeToRadian(angle));    // rotate\n    mat4.translate(view, view, vec3.negate([], origin));    // move origin * -1  \n\n    return view;\n}\n\nexport function calculateMatrix(...args) {\n    const view = mat4.create();\n    args.forEach(v => {\n        mat4.multiply(view, view, v);\n    })\n\n    return view;\n}\n\nexport function calculateMatrixInverse(...args) {\n    return mat4.invert([], calculateMatrix(...args));\n}\n\nexport function calculateAnglePointDistance(point, center, dist) {\n    var x = point.x - center.x\n    var y = point.y - center.y\n\n    var angle1 = calculateAngle(x, y);\n\n    var x2 = point.x + dist.dx - center.x\n    var y2 = point.y + dist.dy - center.y\n\n    var angle = calculateAngle(x2, y2) - angle1;\n\n    return angle;\n}\n\nexport function calculateAngle360(rx, ry) {\n    return (calculateAngle(rx, ry) + 180) % 360\n}\n\nconst UUID_REG = /[xy]/g\n\nexport function uuid() {\n    var dt = new Date().getTime();\n    var uuid = 'xxx12-xx-34xx'.replace(UUID_REG, function (c) {\n        var r = (dt + Math.random() * 16) % 16 | 0;\n        dt = Math.floor(dt / 16);\n        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return uuid;\n}\n\nexport function uuidShort() {\n    var dt = new Date().getTime();\n    var uuid = 'idxxxxxxx'.replace(UUID_REG, function (c) {\n        var r = (dt + Math.random() * 16) % 16 | 0;\n        dt = Math.floor(dt / 16);\n        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return uuid;\n}\n\nconst bezierCalc = {\n    B1: function (t) { return t * t * t },\n    B2: function (t) { return 3 * t * t * (1 - t) },\n    B3: function (t) { return 3 * t * (1 - t) * (1 - t) },\n    B4: function (t) { return (1 - t) * (1 - t) * (1 - t) }\n}\n\nexport function cubicBezier(x1, y1, x2, y2) {\n    var C1 = { x: 0, y: 0 };\n    var C2 = { x: x1, y: y1 };\n    var C3 = { x: x2, y: y2 };\n    var C4 = { x: 1, y: 1 };\n\n    return function (progress) {\n        // var x = C1.x * bezierCalc.B1(p) + C2.x*bezierCalc.B2(p) + C3.x*bezierCalc.B3(p) + C4.x*bezierCalc.B4(p);\n        // var y = C1.y * bezierCalc.B1(progress) + C2.y*bezierCalc.B2(progress) + C3.y*bezierCalc.B3(progress) + C4.y*bezierCalc.B4(progress);\n\n        var y = C2.y * bezierCalc.B2(progress) + C3.y * bezierCalc.B3(progress) + bezierCalc.B4(progress);\n\n        return 1 - y;\n    }\n}\n\nexport function getGradientLine(angle, box) {\n    let length = Math.abs(box.width * Math.sin(angle)) + Math.abs(box.height * Math.cos(angle));\n    let center = {\n        x: box.x + box.width / 2,\n        y: box.y + box.height / 2\n    };\n\n    let yDiff = Math.sin(angle - Math.PI / 2) * length / 2;\n    let xDiff = Math.cos(angle - Math.PI / 2) * length / 2;\n\n    return {\n        length,\n        center,\n        start: {\n            x: center.x - xDiff,\n            y: center.y - yDiff\n        },\n        end: {\n            x: center.x + xDiff,\n            y: center.y + yDiff\n        }\n    };\n}\n\n\nexport function getCenterInTriangle(a, b, c) {\n    return {\n        x: (a.x + b.x + c.x) / 3,\n        y: (a.y + b.y + c.y) / 3\n    }\n}\n\nconst splitReg = /[\\b\\t \\,\\n]/g;\nexport function normalize(str) {\n    return str.trim().split(splitReg).filter(it => it).map(it => +it);\n}","import { isNotUndefined, isString, isNumber, isUndefined } from \"el/sapa/functions/func\";\nimport { degreeToRadian, radianToDegree, round } from \"el/utils/math\";\n\nconst stringToPercent = {\n  center: 50,\n  top: 0,\n  left: 0,\n  right: 100,\n  bottom: 100\n};\n\nexport class Position {}\n\nPosition.CENTER = \"center\";\nPosition.TOP = \"top\";\nPosition.RIGHT = \"right\";\nPosition.LEFT = \"left\";\nPosition.BOTTOM = \"bottom\";\n\nconst REG_CSS_UNIT = /([\\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi;\n\nexport class Length {\n  constructor(value = \"\", unit = \"\") {\n\n    /**\n     * @property {number} value \n     */\n    this.value = value;\n\n    if (isNumber(this.value) && isNaN(this.value)) {\n      throw new Error('NaN is not able to set')\n    }\n\n    this.unit = unit;\n  }\n\n  [Symbol.toPrimitive](hint) {\n    if (hint == \"number\") {\n      return this.value;\n    }\n\n    return this.toString();\n  }\n\n  static min(...args) {\n    var min = args.shift();\n\n    for (var i = 0, len = args.length; i < len; i++) {\n      if (min.value > args[i].value) {\n        min = args[i];\n      }\n    }\n\n    return min;\n  }\n\n  static max(...args) {\n    var max = args.shift();\n\n    for (var i = 0, len = args.length; i < len; i++) {\n      if (max.value < args[i].value) {\n        max = args[i];\n      }\n    }\n\n    return max;\n  }\n\n  static string(value) {\n    return new Length(value + \"\", \"\");\n  }\n\n  static number (value) {\n    return new Length(+value, 'number')\n  }\n\n  static px(value) {\n    return new Length(+value, \"px\");\n  }\n  static em(value) {\n    return new Length(+value, \"em\");\n  }\n  static percent(value) {\n    return new Length(+value, \"%\");\n  }\n  static deg(value) {\n    return new Length(+value, \"deg\");\n  }\n  static rad(value) {\n    return new Length(+value, \"rad\");\n  }  \n  static turn(value) {\n    return new Length(+value, \"turn\");\n  }  \n  static fr(value) {\n    return new Length(+value, \"fr\");\n  }\n\n  static second (value) {\n    return new Length(+value, 's')\n  }\n\n  static ms (value) {\n    return new Length(+value, 'ms')\n  }  \n\n  static var (value) {\n    return new Length(value+'', '--')\n  }\n\n  static z () {\n    return Length.px(0);\n  }\n\n  /**\n   * return calc()  css fuction string\n   *\n   * Length.calc(`${Length.percent(100)} - ${Length.px(10)}`)\n   *\n   * @param {*} str\n   */\n  static calc(str) {\n    return new Length(str, \"calc\");\n  }\n\n  static parse(obj) {\n    obj = obj || Length.number(0)\n\n    if (isString(obj)) {\n      obj = obj.trim()\n        var arr = obj.replace(REG_CSS_UNIT, \"$1 $2\").split(\" \");\n        var isNumberString = +arr[0] == arr[0];\n        if (isNumberString) {\n          return new Length(+arr[0], arr[1]);\n        } else {\n          return new Length(arr[0]);\n        }\n    }\n\n    if (obj instanceof Length) {\n      return obj;\n    } else if (obj.unit) {\n      if (obj.unit == \"%\" || obj.unit == \"percent\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.percent)) {\n          value = obj.percent;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.percent(value);\n      } else if (obj.unit == \"px\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.px)) {\n          value = obj.px;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.px(value);\n      } else if (obj.unit == \"em\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.em)) {\n          value = obj.em;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.em(value);\n      } else if (obj.unit == \"deg\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.deg)) {\n          value = obj.deg;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.deg(value);\n      } else if (obj.unit == \"turn\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.deg)) {\n          value = obj.turn;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.turn(value);        \n      } else if (obj.unit == \"s\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.second)) {\n          value = obj.second;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.second(value);\n      } else if (obj.unit == \"ms\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.ms)) {\n          value = obj.ms;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.ms(value);       \n        \n      } else if (obj.unit == \"number\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.number(value);\n        \n      } else if (obj.unit == \"--\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.var(value);        \n      } else if (obj.unit === \"\" || obj.unit === \"string\") {\n        var value = \"\";\n\n        if (isNotUndefined(obj.str)) {\n          value = obj.str;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n\n\n        return Length.string(value);\n      }\n    }\n\n    return Length.string(obj);\n  }\n  toString() {\n    return this.getUnitText();\n  }\n\n  getUnitText() {\n    switch(this.unit) {\n      case 'string':\n      case 'number':\n        return this.value + '' \n      case 'var':\n          return `var(--${this.value})`\n      case 'calc':\n        return `calc(${this.value})`;\n      default:\n        return this.value + this.unit; \n    }\n  }\n\n  isUnitType(unit) {\n    return this.unit === unit; \n  }\n\n  isCalc()    { return this.isUnitType('calc'); }\n  isFr()      { return this.isUnitType('fr'); }\n  isPercent() { return this.isUnitType('%'); }\n  isPx()      { return this.isUnitType('px'); }\n  isEm()      { return this.isUnitType('em'); }\n  isDeg()     { return this.isUnitType('deg'); }\n  isRad()     { return this.isUnitType('rad'); }\n  isTurn()    { return this.isUnitType('turn'); }\n  isSecond()  { return this.isUnitType('s'); }\n  isMs ()     { return this.isUnitType('ms'); }\n  isNumber()  { return this.isUnitType('number'); }\n  isString()  { return this.isUnitType(''); }\n  isVar()     { return this.isUnitType('--'); }\n  isNaN()     { return isNumber(this.value) && isNaN(this.value) }\n\n  set(value) {\n    this.value = value;\n\n    return this;\n  }\n\n  add(obj) {\n    this.value += +obj;\n    return this;\n  }\n\n  sub(obj) {\n    return this.add(-1 * obj);\n  }\n\n  mul(obj) {\n    this.value *= +obj;\n    return this;\n  }\n\n  div(obj) {\n    this.value /= +obj;\n    return this;\n  }\n\n  mod(obj) {\n    this.value %= +obj;\n    return this;\n  }\n\n  clone() {\n    return new Length(this.value, this.unit);\n  }\n\n  getUnitName() {\n    return this.unit === \"%\" ? \"percent\" : this.unit;\n  }\n\n  toJSON() {\n    return this.toString(); // { value: this.value, unit: this.unit };\n  }\n\n  /**\n   * unit 이 '%' 타입일 때 x/100 를 구한다. \n   * \n   * @param {Number} maxValue \n   */\n  rate(maxValue = 100) {\n    return this.value / maxValue;\n  }\n\n  stringToPercent() {\n    if (isNotUndefined(stringToPercent[this.value])) {\n      return Length.percent(stringToPercent[this.value]);\n    }\n\n    return Length.percent(0);\n  }\n\n  stringToEm(maxValue) {\n    return this.stringToPercent().toEm(maxValue);\n  }\n\n  stringToPx(maxValue) {\n    return this.stringToPercent().toPx(maxValue);\n  }\n\n  toPercent(maxValue, fontSize = 16) {\n    if (this.isPercent()) {\n      return this.clone();\n    } else if (this.isPx()) {\n      return Length.percent((this.value * 100) / maxValue);\n    } else if (this.isEm()) {\n      return Length.percent((this.value * fontSize * 100) / maxValue);\n    } else if (this.isString()) {\n      return this.stringToPercent(maxValue);\n    } else if (this.isDeg()) {\n      return Length.percent((this.value / 360) * 100);\n    }\n  }\n\n  toEm(maxValue, fontSize = 16) {\n    if (this.isPercent()) {\n      return Length.em(((this.value / 100) * maxValue) / fontSize);\n    } else if (this.isPx()) {\n      return Length.em(this.value / fontSize);\n    } else if (this.isEm()) {\n      return this.clone();\n    } else if (this.isString()) {\n      return this.stringToEm(maxValue);\n    }\n  }\n\n  toPx(maxValue, fontSize = 16) {\n    if (this.isPercent()) {\n      return Length.px((this.value / 100) * maxValue);\n    } else if (this.isPx()) {\n      return this.clone();\n    } else if (this.isEm()) {\n      return Length.px(((this.value / 100) * maxValue) / 16);\n    } else if (this.isString()) {\n      return this.stringToPx(maxValue);\n    }\n  }\n\n  toDeg() {\n    if (this.isDeg()) {\n      return this.clone()\n    } else if (this.isTurn()) {\n      return Length.deg(this.value * 360)\n    } else if (this.isRad()) {\n      return Length.deg(radianToDegree(this.value))\n    }\n  }\n\n  toRad() {\n    if (this.isRad()) {\n      return this.clone()\n    } else if (this.isTurn()) {\n      const deg = this.toDeg();\n      return Length.rad(degreeToRadian(deg.value))\n    } else if (this.isDeg()) {\n      return Length.rad(degreeToRadian(this.value))\n    }\n  }\n\n\n  toTurn() {\n    if (this.isTurn()) {\n      return this.clone()\n    } else if (this.isDeg()) {\n      return Length.turn(this.value / 360)\n    }\n  }\n\n\n  toSecond () {\n    if (this.isSecond()) {\n      return this; \n    } else if (this.isMs()) {\n      return Length.second(this.value/1000);\n    }\n  }\n\n  toMs () {\n    if (this.isSecond()) {\n      return Length.ms(this.value * 1000);\n    } else if (this.isMs()) {\n      return this; \n    }\n  }\n\n  to(unit, maxValue, fontSize = 16) {\n    if (unit === \"px\") {\n      return this.toPx(maxValue, fontSize);\n    } else if (unit === \"%\" || unit === \"percent\") {\n      return this.toPercent(maxValue, fontSize);\n    } else if (unit === \"em\") {\n      return this.toEm(maxValue, fontSize);\n    } else if (unit === \"deg\") {\n      return this.toDeg();      \n    } else if (unit === \"turn\") {\n      return this.toTurn();\n    }\n  }\n\n  toUnit (unit) {\n    return new Length(this.value, unit);\n  }\n\n  calculate(type, dist) {\n    var func = this[type];\n\n    if (func) {\n      return func.call(this, dist);\n    }\n\n    return this;\n  }\n\n  includes (...arr) {\n    return arr.includes(this.value);\n  }\n\n  round (k) {\n    return new Length(round(this.value, k), this.unit)\n  }\n\n  floor () {\n    return new Length(Math.floor(this.value), this.unit);\n  }\n\n  equals (t) {\n    return this.is(t.value) && this.isUnitType(t.unit); \n  }\n\n  is (value) {\n    return this.value === value \n  }\n\n  clamp (min, max) {\n    return new Length(Math.max(min, Math.min(max, this.value)), this.unit);\n  }\n\n  isZero() {\n    return this.value === 0;\n  }\n}\n\nLength.auto = Length.string(\"auto\");\n","import { clone, isFunction, isNumber, isNotUndefined, isUndefined } from \"el/sapa/functions/func\";\nimport { uuid, uuidShort } from \"el/utils/math\";\n\nconst identity = () => true;\n\nfunction _traverse(obj, filterCallback = identity) {\n  var results = [] \n\n  let len = obj.layers.length;\n  for(let start = len; start--; ) {\n    let it = obj.layers[start];\n    results.push(... _traverse(it.ref, filterCallback));\n  }\n\n  if (filterCallback(obj)) {\n    results.push(obj);\n  }\n\n  return results; \n}\n\n/**\n * Item , 그리기를 위한 기본 모델 \n * 유니크한 아이디를 가진다. \n * \n * @class\n */\nexport class Item {\n  constructor(json = {}) {\n\n    this.ref = new Proxy(this, {\n      get: (target, key) => {\n        var originMethod = target[key];\n        if (isFunction(originMethod)) {\n          // method tracking\n          return (...args) => {\n            return originMethod.apply(target, args);\n          };\n        } else {\n          // getter or json property\n          return originMethod || target.json[key];\n        }\n      },\n      set: (target, key, value) => {\n        const isDiff = target.json[key] != value; \n\n        if (isDiff) {\n          target.json[key] = value;          \n          this.changed()\n        }\n\n        return true;\n      }\n    });\n\n    if (json instanceof Item) {\n      json = json.toJSON();\n    }\n\n    this.json = this.convert(Object.assign(this.getDefaultObject(), json));\n    this.lastChangedField = {};\n    this.lastChangedFieldKeys = [];\n    this.cachedValue = {};\n\n    return this.ref; \n  }\n\n  /***********************************\n   *\n   * override\n   *\n   **********************************/\n\n  getDefaultTitle() {\n    return \"Item\";\n  }\n\n  getIcon () {\n    return '';\n  }\n\n  /**\n   * check attribute object\n   */\n  isAttribute() {\n    return false;\n  }\n\n  isChanged(timestamp) {\n    return this.json.timestamp != Number(timestamp);\n  }\n\n  changed() {\n    this.json.timestamp = this.json._timestamp + performance.now();\n  }\n\n  /***********************************\n   *\n   * getter\n   *\n   **********************************/\n\n  /**\n   * title 속성 \n   */\n  get title() {\n    return this.json.name || this.getDefaultTitle();\n  }\n\n  renameWithCount() {\n    let arr = this.json.name.split(' ');\n\n    if (arr.length < 2) {\n      return; \n    }\n\n    let last = arr.pop(); \n    let lastNumber = +last; \n    if (isNumber(lastNumber) && isNaN(lastNumber) === false) {\n      lastNumber++;\n    } else {\n      lastNumber = last; \n    }\n\n    const nextName = [...arr, lastNumber].join(' ')\n\n    this.reset({\n      name: nextName\n    })\n  }\n\n  /**\n   * \n   * @return {Item[]} 자신을 포함안 하위 모든 자식을 조회 \n   */\n  get allLayers () {\n    return _traverse(this.ref)\n  }\n\n  /**\n   * filterCallback 으로 필터링된 layer 리스트를 가지고 온다. \n   * \n   * @returns {Item[]}\n   */ \n  filteredAllLayers(filterCallback) {\n    return _traverse(this.ref, filterCallback);\n  }\n\n  /**\n   * get id\n   */\n  get id() {\n    return this.json.id;\n  }\n\n  /**\n   * 자식 객체 리스트\n   * \n   * @returns {Item[]}\n   */\n  get layers () {\n    return this.json.layers; \n  }\n\n  /**\n   * @returns {Item}\n   */\n  get parent () {\n    return this.json.parent;\n  }\n\n  setParent (otherParent) {\n    this.json.parent = otherParent;\n  }\n\n  /**\n   * 객체 깊이를 동적으로 계산 \n   * \n   * @returns {number}\n   */\n  get depth () {\n    if (!this.parent) return 1; \n\n    return this.parent.depth + 1; \n  }\n\n  /**\n   * 최상위 컴포넌트 찾기 \n   * \n   * @returns {Item}\n   */\n  get top () {\n    if (!this.parent) return this.ref; \n\n    let localParent = this.parent; \n    do {\n      if (!localParent.parent) {\n        return localParent; \n      }\n\n      localParent = localParent.parent; \n\n    } while(localParent);\n  }\n\n  /**\n   * 최상위 project 구하기 \n   * \n   * @returns {Project}\n   */\n  get project () {\n    return this.path.find(it => it.is('project'))\n  }\n\n  /**\n   * 최상위 artboard 구하기 \n   * \n   * @returns {ArtBoard}\n   */\n  get artboard () {\n    return this.path.find(it => it.is('artboard'))\n  }\n\n  /**\n   * 상속 구조 안에서 instance 리스트\n   * \n   * @returns {Item[]}\n   */\n  get path () {\n\n    if (!this.parent) return [ this.ref ];\n\n    const list = this.parent.path;\n\n    list.push(this.ref);\n\n    return list;\n  }\n\n  /**\n   * id 기반 문자열 id 생성\n   * \n   * @param {string} postfix \n   */\n  getInnerId(postfix = '') {\n    return this.json.id + postfix;\n  }\n\n  is (checkItemType) {\n    if (!this.json) return false;\n    return checkItemType === this.json.itemType;\n  }\n\n  isNot (checkItemType) {\n    return this.is(checkItemType) === false;\n  }\n\n  isSVG() {\n    return false; \n  }\n\n  addCache(key, value) {\n    this.cachedValue[key] = value;\n  }\n\n  getCache(key) {\n    return this.cachedValue[key];\n  }\n\n  computed(key, newValueCallback) {\n    const cachedKey = `__cachedKey_${key}`\n    const parsedKey = `${cachedKey}__parseValue`\n    const value = this.json[key];\n    if (this.getCache(key) === value && this.getCache(parsedKey)) {\n      return this.getCache(parsedKey);\n    }\n\n    this.addCache(key, value);\n    this.addCache(parsedKey, newValueCallback(value, this.ref));\n\n    return this.getCache(parsedKey);\n  }\n\n  editable(editablePropertyName) {\n    return true; \n  }\n\n  /***********************************\n   *\n   * action\n   *\n   **********************************/\n\n\n  generateListNumber () {\n    this.layers.forEach((it, index) => {\n      it.no = index; \n\n      it.generateListNumber();\n    })    \n  }\n\n  /**\n   * when json is loaded, json object is be a new instance\n   *\n   * @param {*} json\n   */\n  convert(json) {\n\n    if (json.layers) {\n      json.layers.forEach(layer => {\n        layer.parent = this.ref; \n      })\n  \n    }\n\n    return json;\n  }\n\n  setCache() {\n\n  }\n\n  // /**\n  //  * defence to set invalid key-value\n  //  *\n  //  * @param {*} key\n  //  * @param {*} value\n  //  */\n  // checkField(key, value) {\n  //   console.log(this, key, value);\n  //   return true;\n  // }\n\n  toCloneObject (isDeep = true) {\n    var json = this.attrs(\n      'itemType', 'name', 'elementType', 'type', 'visible', 'lock', 'selected'\n    )\n\n    if (isDeep) {\n      json.layers = this.json.layers.map(layer => layer.clone(isDeep))\n    }\n\n    return json; \n  }\n\n  /**\n   * clone Item\n   */\n  clone(isDeep = true) {\n\n    var ItemClass = this.constructor;\n\n    // 부모를 넘겨줘야 상대 주소를 맞출 수 있다. \n    var item =  new ItemClass(this.toCloneObject(isDeep));\n    item.setParent(this.json.parent)\n\n    return item; \n  }\n\n  /**\n   * set json content\n   *\n   * @param {object} obj\n   */\n  reset(obj) {\n\n    // const oldValue = this.attrs(...Object.keys(obj));\n\n    // // 같으면 변경하지 않음 \n    // if (JSON.stringify(oldValue) === JSON.stringify(obj)) return false;\n\n    // const isDiff = Object.keys(obj).some(key => {\n    //   return this.json[key] !== obj[key]\n    // })\n\n    // console.log(isDiff);\n\n    // 변경된 값에 대해서 id 를 부여해보자. \n    if (!obj.__changedId) obj.__changedId = uuid();\n\n    if (this.lastChangedField.__changedId !== obj.__changedId) {\n      // if (isDiff) {\n        this.json = this.convert(Object.assign(this.json, obj));\n        this.lastChangedField = obj; \n        this.lastChangedFieldKeys = Object.keys(obj); \n        this.changed();\n    }\n    // 값이 변경 되었는지 어떻게 인지 할까요? \n    // reset 할 때 값이 변경이 안되었을 수도 있으니 \n    return true; \n  }\n\n  hasChangedField (...args) {\n\n    return args.some(it => this.lastChangedFieldKeys.includes(it));\n  }\n\n  /**\n   * define default object for item\n   *\n   * @param {object} obj\n   */\n  getDefaultObject(obj = {}) {\n    var id = uuidShort()\n    return {\n      id,\n      _timestamp: Date.now(),\n      _time: performance.now(),\n      visible: true,  // 보이기 여부 설정 \n      lock: false,    // 편집을 막고 \n      selected: false,  // 선택 여부 체크 \n      layers: [],   // 하위 객체를 저장한다. \n      ...obj\n    };\n  }\n\n  /**\n   * 지정된 필드의 값을 object 형태로 리턴한다. \n   * \n   * @param  {...string} args 필드 리스트 \n   */\n  attrs (...args) {\n    const result = {}\n\n    args.forEach(field => {\n      result[field] = clone(this.json[field])\n    })\n\n    return result;\n  }\n\n  /**\n   * 자식을 가지고 있는지 체크 \n   * \n   * @returns {boolean}\n   */\n  hasChildren () {\n    return this.layers.length > 0;\n  }\n\n  /**\n   * 자식으로 추가한다. \n   * \n   * @param {Item} layer \n   */\n  appendChild (layer) {\n\n    if (layer.parent === this.ref) {\n      return layer;\n    }\n\n    this.resetMatrix(layer);\n\n    // 객체를 추가할 때는  layer 의 절대 값을 기준으로 객체를 움직인다. \n    if (layer.parent) {\n      layer.remove();\n    }\n\n    layer.setParent(this.ref);\n\n    this.json.layers.push(layer);\n    this.project.addIndexItem(layer);\n\n    return layer; \n  }\n\n  /**\n   * 자식중에 맨앞에 추가한다. \n   * \n   * @param {Item} layer \n   */\n  prependChildItem (layer) {\n    this.resetMatrix(layer);\n    // 객체를 추가할 때는  layer 의 절대 값을 기준으로 객체를 움직인다. \n    if (layer.parent) {\n      layer.remove();\n    }\n\n    layer.setParent(this.ref);\n\n    this.json.layers.unshift(layer);\n    this.project.addIndexItem(layer);\n\n    return layer;     \n  }\n\n  resetMatrix (item) {\n\n  }\n\n  refreshMatrixCache () {\n\n  }\n\n  /**\n   * 특정 index 에 자식을 추가한다. \n   * \n   * @param {Item} layer \n   * @param {number} index \n   */\n  insertChild (layer, index = 0) {\n\n    this.resetMatrix(layer);\n\n    // 객체를 추가할 때는  layer 의 절대 값을 기준으로 객체를 움직인다. \n    if (layer.parent) {\n      layer.remove();\n    }\n\n    layer.setParent(this.ref);\n    this.json.layers.splice(index, 0, layer);\n    this.project.addIndexItem(layer);\n\n    return layer;     \n  }\n\n  /**\n   * 현재 Item 의 그 다음 순서로 추가한다. \n   * \n   * @param {Item} layer \n   */\n  appendAfter (layer) {\n\n    const index = this.parent.findIndex(this);\n\n    this.parent.insertChild(layer, index);\n    this.project.addIndexItem(layer);\n    return layer;     \n  }\n\n\n  /**\n   * 현재 Item 의 이전 순서로 추가한다. \n   * \n   * @param {Item} layer \n   */\n  appendBefore (layer) {\n\n    const index = this.parent.findIndex(this);\n\n    this.parent.insertChild(layer, index-1);\n    this.project.addIndexItem(layer);\n    return layer;     \n  }  \n\n  /**\n   * 특정한 위치에 자식 객체로 Item 을 추가 한다. \n   * set position in layers \n   * \n   * @param {Number} position \n   * @param {Item} item \n   */\n  setPositionInPlace (position, item) {\n    this.layers.splice(position, 0, item);\n  }\n\n  /**\n   * toggle item's attribute\n   *\n   * @param {*} field\n   * @param {*} toggleValue\n   */\n  toggle(field, toggleValue) {\n    if (isUndefined(toggleValue)) {\n      this.json[field] = !this.json[field];\n    } else {\n      this.json[field] = !!toggleValue;\n    }\n  }\n\n  isTreeItemHide () {\n\n    let currentParent = this.parent;\n    let collapsedList = [] \n    do {\n      if (currentParent.is('project')) break;\n\n      collapsedList.push(Boolean(currentParent.collapsed))\n      currentParent = currentParent.parent; \n    } while (currentParent)\n\n    // 부모중에 하나라도 collapsed 가 있으면 여긴 트리에서 숨김 \n    return Boolean(collapsedList.filter(Boolean).length);\n\n  }\n\n  expectJSON (key) {\n    if (key === 'parent') return false; \n    if (isUndefined(this.json[key])) return false; \n\n    return true; \n  }\n\n  /**\n   * convert to json\n   * \n   */\n  toJSON() {\n    const json = this.json; \n\n    let newJSON = {}\n    Object.keys(json).filter(key => this.expectJSON(key)).forEach(key => {\n      newJSON[key] = json[key]; \n    })\n\n    return newJSON;\n  }\n\n  resize () {}\n\n  /**\n   * Item 복사하기 \n   * \n   * @param {number} dist \n   */\n  copy (dist = 0) {\n    return this.json.parent.copyItem(this.ref, dist);\n  }\n\n  findIndex (item) {\n    return this.json.layers.indexOf(item.ref);\n  }\n\n  copyItem (childItem, dist = 10 ) {\n    var child = childItem.clone()  \n    child.renameWithCount()\n    child.move([dist, dist, 0])\n\n    var childIndex = this.findIndex(childItem); \n\n    if (childIndex > -1) {\n      this.json.layers.push(child);\n      this.project.addIndexItem(child);      \n    }\n    return child;\n  }\n\n  /**\n   * 부모 객체에서 나를 지운다. \n   * remove self in parent \n   */\n  remove () {\n    this.json.parent.removeChild(this.ref);\n\n    this.project.removeIndexItem(this.ref);\n  }\n\n  /**\n   * remote child item \n   * \n   * @param {Item} childItem \n   */\n  removeChild (childItem) {\n\n    const index = this.findIndex(childItem);\n\n    if (index > -1) {\n      this.json.layers.splice(index, 1);\n    }\n\n  }\n\n  /**\n   * 부모 아이디를 가지고 있는지 체크 한다. \n   * \n   * @param {string} parentId \n   */\n  hasParent (parentId) {\n    var isParent = this.json.parent.id === parentId\n\n    if (!isParent && this.json.parent.is('project') === false) return this.json.parent.hasParent(parentId);\n\n    return isParent; \n  }\n\n}\n","import { isFunction } from 'el/sapa/functions/func';\n\nconst setBooleanProp = (el, name, value) => {\n    if (value) {\n        el.setAttribute(name, name);\n        el[name] = value;\n    } else {\n        el.removeAttribute(name);\n        el[name] = value;\n    }\n  };\n  \nconst setProp = (el, name, value) => {\n    if (typeof value === 'boolean') {\n        setBooleanProp(el, name, value);\n    } else {\n        el.setAttribute(name, value);\n    }\n};\n\n\nconst removeBooleanProp = (node, name) => {\n    node.removeAttribute(name);\n    node[name] = false;\n};\n\nconst removeUndefinedProp = (node, name) => {\n    node.removeAttribute(name);\n}\n  \nconst removeProp = (node, name, value) => {\n    if (typeof value === 'boolean') {\n        removeBooleanProp(node, name);\n    } else if (name) {\n        removeUndefinedProp(node, name);\n    }\n};\n  \n\nconst updateProp = (node, name, newValue, oldValue) => {\n    if (!newValue) {\n      removeProp(node, name, oldValue);\n    } else if (!oldValue || newValue !== oldValue) {\n      setProp(node, name, newValue);\n    }\n  };\n\n\nconst updateProps = (node, newProps = {}, oldProps = {}) => {\n\n    const keyList = [];\n    keyList.push.apply(keyList, Object.keys(newProps))\n    keyList.push.apply(keyList, Object.keys(oldProps))\n\n    const props = new Set(keyList)\n\n    props.forEach(key => {\n        updateProp(node, key, newProps[key], oldProps[key])\n    })\n};\n\n/**\n * TEXT_NODE 일 때   둘 다 공백일 때는  비교하지 않는다. \n * \n * @param {*} node1 \n * \n * @param {*} node2 \n */\nfunction changed(node1, node2) {\n    return (\n        (node1.nodeType === Node.TEXT_NODE && node1.textContent !== node2.textContent) \n        || node1.nodeName !== node2.nodeName\n    ) \n}\n\nfunction hasPassed(node1) {\n    return (\n        (node1.nodeType !== Node.TEXT_NODE && node1.getAttribute('data-domdiff-pass') === 'true') \n    ) \n}\n\n/**\n * refClass 속성을 가지고 있으면 기존 el 을 대체한다. \n * \n */ \nfunction hasRefClass(node1) {\n    return (\n        (node1.nodeType !== Node.TEXT_NODE && (node1.getAttribute('refClass'))) \n    ) \n}\n\nfunction getProps (attributes) {\n    var results = {}\n    const len = attributes.length;\n    for(let i = 0; i < len; i++) {\n        const t = attributes[i];\n        results[t.name] = t.value;        \n    }\n\n    return results;\n    \n}\n\nfunction updateElement (parentElement, oldEl, newEl, i, options = {}) {\n\n    if (!oldEl) {\n        // console.log('replace');        \n        parentElement.appendChild(newEl.cloneNode(true));\n    } else if (!newEl) {\n        // console.log('replace');        \n        parentElement.removeChild(oldEl);\n    } else if (hasPassed(oldEl) || hasPassed(newEl)) {\n        // NOOP\n        // data-domdiff-pass=\"true\" 일 때는 아무것도 비교하지 않고 끝낸다. \n        // console.log(oldEl, newEl, 'passed');\n    } else if (changed(newEl, oldEl) || hasRefClass(newEl)) {\n        // node 가 같지 않으면 바꾸고, refClass 속성이 있으면 바꾸고\n        parentElement.replaceChild(newEl.cloneNode(true), oldEl);\n    } else if (\n        newEl.nodeType !== Node.TEXT_NODE \n\n        && newEl.nodeType !== Node.COMMENT_NODE\n        && newEl.toString() !== \"[object HTMLUnknownElement]\"\n    ) {\n\n        if (options.checkPassed && options.checkPassed(oldEl, newEl)) {\n            // NOOP \n            // 정상적인 노드에서 checkPassed 가 true 이면 아무것도 하지 않는다. \n            // 다만 자식의 속성은 변경해야한다. \n        } else {\n            // console.log(newEl);\n            updateProps(oldEl, getProps(newEl.attributes), getProps(oldEl.attributes)); // added        \n        }\n\n        var oldChildren = children(oldEl);\n        var newChildren = children(newEl);\n        var max = Math.max(oldChildren.length, newChildren.length);\n\n        for (var i = 0; i < max; i++) {\n            updateElement(oldEl, oldChildren[i], newChildren[i], i);\n        }\n    }\n\n}\n\nconst children = (el) => {\n    var element = el.firstChild; \n\n    if (!element) {\n        return [] \n    }\n\n    var results = [] \n\n    do {\n        results.push(element);\n        element = element.nextSibling;\n    } while (element);\n\n    return results; \n}\n\n\n/**\n * \n * @param {*} A \n * @param {*} B \n * @param {object} options \n * @param {function} [options.checkPassed=undefined]\n */\nexport function DomDiff (A, B, options = {}) {\n\n    // initialize options parameter\n    options.checkPassed = isFunction(options.checkPassed) ? options.checkPassed : undefined;\n\n    A = A.el || A; \n    B = B.el || B; \n\n    var childrenA = children(A);\n    var childrenB = children(B); \n\n    var len = Math.max(childrenA.length, childrenB.length);\n    for (var i = 0; i < len; i++) {\n        updateElement(A, childrenA[i], childrenB[i], i, options);\n    }\n}\n","\nconst UUID_REG = /[xy]/g\n\nexport function uuid() {\n    var dt = new Date().getTime();\n    var uuid = 'xxx12-xx-34xx'.replace(UUID_REG, function (c) {\n        var r = (dt + Math.random() * 16) % 16 | 0;\n        dt = Math.floor(dt / 16);\n        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return uuid;\n}\n\nexport function uuidShort() {\n    var dt = new Date().getTime();\n    var uuid = 'idxxxxxxx'.replace(UUID_REG, function (c) {\n        var r = (dt + Math.random() * 16) % 16 | 0;\n        dt = Math.floor(dt / 16);\n        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return uuid;\n}\n","import { uuidShort } from \"./uuid\";\nimport { isString } from './func';\n\nconst map = {};\nconst aliasMap = {}\nconst __tempVariables = new Map();\nconst __tempVariablesGroup = new Map();\n\nwindow.__tempVariables = __tempVariables;\n\nexport const VARIABLE_SAPARATOR = \"v:\";\n\n\n/**\n * props 를 넘길 때 해당 참조를 그대로 넘기기 위한 함수 \n * \n * @param {any} value\n * @returns {string} 참조 id 생성 \n */\nexport function variable(value, groupId = '') {\n    const id = `${VARIABLE_SAPARATOR}${uuidShort()}`;\n\n    __tempVariables.set(id, value);\n\n    if (groupId) {\n        __tempVariablesGroup.has(groupId) || __tempVariablesGroup.set(groupId, new Set());\n        __tempVariablesGroup.get(groupId).add(id);\n    }\n\n    return id;\n}\n\n/**\n * groupId 로 지정된 변수를 초기화 해준다. \n * \n * @copilot\n * @param {*} groupId \n */\nexport function initializeGroupVariables(groupId) {\n    if (__tempVariablesGroup.has(groupId)) {\n        __tempVariablesGroup.get(groupId).forEach(id => {\n            __tempVariables.delete(id);\n        });\n        __tempVariablesGroup.delete(groupId);\n    }\n}\n\n/**\n * 참조 id 를 가지고 있는 variable 을 복구한다. \n * \n * @param {string} id\n * @returns {any}\n */\nexport function recoverVariable(id, removeVariable = true) {\n\n    // console.log(id);\n    if (isString(id) === false) {\n        return id;\n    }\n\n    let value = id;\n\n    if (__tempVariables.has(id)) {\n        value = __tempVariables.get(id);\n\n        if (removeVariable) {\n            __tempVariables.delete(id);\n        }\n    }\n\n    return value;\n}\n\nexport function hasVariable(id) {\n    return __tempVariables.has(id);\n}\n\n/**\n * 객체를 key=value 문자열 리스트로 변환한다. \n * \n * @param {object} obj \n * @returns {string}\n */\nexport function spreadVariable(obj) {\n\n    return Object.entries(obj).map(([key, value]) => {\n        return `${key}=${variable(value)}`\n    }).join(\" \");\n\n}\n\n\nexport function registElement(classes = {}) {\n\n    Object.keys(classes).forEach(key => {\n        if (map[key]) {\n            // console.warn(`${key} element is duplicated.`)\n            return;\n        }\n\n        map[key] = classes[key];\n    })\n}\n\nexport function registAlias(a, b) {\n    aliasMap[a] = b;\n}\n\nexport function retriveAlias(key) {\n    return aliasMap[key];\n}\n\nexport function retriveElement(className) {\n    return map[retriveAlias(className) || className];\n}","import { DomDiff } from \"./DomDiff\";\nimport { recoverVariable } from './registElement';\n\n/**\n * Dom 유틸리티 \n * \n */ \nexport default class Dom {\n  constructor(tag, className, attr) {\n    if (typeof tag !== 'string') {\n      this.el = tag;\n    } else {\n      var el = document.createElement(tag);\n\n      if (className) {\n        el.className = className;\n      }\n \n      attr = attr || {};\n\n      Object.assign(el, attr);\n\n      this.el = el;\n    }\n  }\n\n  static create (tag, className, attr) {\n    return new Dom(tag, className, attr);\n  }\n \n  static createByHTML (htmlString) {\n    var div = Dom.create('div')\n    var list = div.html(htmlString).children();\n\n    if (list.length) {\n      return Dom.create(list[0].el);\n    }\n\n    return null; \n  }\n\n  static getScrollTop() {\n    return Math.max(\n      window.pageYOffset,\n      document.documentElement.scrollTop,\n      document.body.scrollTop\n    );\n  }\n\n  static getScrollLeft() {\n    return Math.max(\n      window.pageXOffset,\n      document.documentElement.scrollLeft,\n      document.body.scrollLeft\n    );\n  }\n\n  static parse(html) {\n    var parser = DOMParser();\n    return parser.parseFromString(html, \"text/htmll\");\n  }\n\n  static body () {\n    return Dom.create(document.body)\n  }\n\n  setAttr (obj) {\n    Object.keys(obj).forEach(key => {\n      this.attr(key, obj[key])\n    })\n    return this;  \n  }\n\n  setAttrNS (obj, namespace = 'http://www.w3.org/2000/svg') {\n    Object.keys(obj).forEach(key => {\n      this.attr(key, obj[key], namespace)\n    })\n    return this;  \n  }  \n\n  setProp (obj) {\n    Object.keys(obj).forEach(key => {\n      // 동일한 값을 갱신하지 않는다. \n      if (this.el[key] != obj[key]) {\n        this.el[key] = obj[key];\n      }\n    })\n    return this;  \n  }\n\n  /**\n   * data-xxx 속성을 관리한다. \n   * \n   * @param {string} key \n   * @param {any} value \n   */\n  data (key, value) {\n    if (arguments.length === 1) {\n      const value = this.attr('data-' + key)\n\n      return recoverVariable(value, false);\n    } else if (arguments.length === 2) {\n      return this.attr('data-' + key, value);\n    }\n\n    //TODO:  data 속성을 모두 {[key]: value} 형태로 리턴하기 \n\n    return this; \n  }\n\n  /**\n   * Dom attribute 얻기 또는 설정 \n   * \n   * get ->  Dom.create(targetElement).attr('key');\n   * set -> Dom.create(targetElement).attr('key', value);\n   * \n   * @param {string} key \n   * @param {[string]} value \n   */\n  attr(key, value) {\n    if (arguments.length == 1) {\n      return this.el.getAttribute(key);\n    }\n\n    // 동일한 속성 값이 있다면 변경하지 않는다. \n    if (this.el.getAttribute(key) != value) {\n      this.el.setAttribute(key, value);\n    }\n\n    return this;\n  }\n\n  attrNS(key, value, namespace = 'http://www.w3.org/2000/svg') {\n    if (arguments.length == 1) {\n      return this.el.getAttributeNS(namespace, key);\n    }\n\n    // 동일한 속성 값이 있다면 변경하지 않는다. \n    if (this.el.getAttributeNS(namespace, key) != value) {\n      this.el.setAttributeNS(namespace, key, value);\n    }\n\n    return this;\n  }  \n\n  attrKeyValue(keyField) {\n    return {\n      [this.el.getAttribute(keyField)]: this.val()\n    }\n  }\n\n  attrs(...args) {\n    return args.map(key => {\n      return this.el.getAttribute(key);\n    });\n  }\n\n  styles(...args) {\n    return args.map(key => {\n      return this.el.style[key];\n    });\n  }  \n\n  removeAttr(key) {\n    this.el.removeAttribute(key);\n\n    return this;\n  }\n\n  removeStyle(key) {\n    this.el.style.removeProperty(key);\n    return this;\n  }\n\n  is(checkElement) {\n    return this.el === (checkElement.el || checkElement);\n  }\n\n  isTag(tag) {\n    return this.el.tagName.toLowerCase() === tag.toLowerCase()\n  }\n\n  closest(cls) {\n    var temp = this;\n    var checkCls = false;\n\n    while (!(checkCls = temp.hasClass(cls))) {\n      if (temp.el.parentNode) {\n        temp = Dom.create(temp.el.parentNode);\n      } else {\n        return null;\n      }\n    }\n\n    if (checkCls) {\n      return temp;\n    }\n\n    return null;\n  }\n\n  path() {\n\n    if (!this.el) return [];\n\n    const $parentNode = this.parent(); \n\n    if ($parentNode) {\n      return [...$parentNode.path(), this]\n    } else {\n      return [this]\n    }\n\n\n  }\n\n  parent() {\n    return Dom.create(this.el.parentNode);\n  }\n\n  hasParent () {\n    return !!this.el.parentNode\n  }\n\n  removeClass(...args) {\n    this.el.classList.remove(...args);\n    return this;\n  }\n\n  replaceClass(oldClass, newClass) {\n    this.el.classList.replace(oldClass, newClass);\n    return this;\n  }\n\n  hasClass(cls) {\n    if (!this.el.classList) return false;\n    return this.el.classList.contains(cls);\n  }\n\n  addClass(...args) {\n    this.el.classList.add(...args);\n\n    return this;\n  }\n\n  onlyOneClass(cls) {\n    var parent = this.parent();\n\n    parent.children().forEach(it => {\n      it.removeClass(cls);\n    })\n\n    this.addClass(cls);\n  }\n\n  toggleClass(cls, isForce) {\n    this.el.classList.toggle(cls, isForce);\n    return this; \n  }\n\n  html(html) {\n    if (typeof html === 'undefined') {\n      return this.el.innerHTML;\n    }\n\n    if (typeof html === 'string') {\n      Object.assign(this.el, { innerHTML: html });\n    } else {\n      this.empty().append(html);\n    }\n\n    return this;\n  }\n\n  htmlDiff(fragment) {\n    DomDiff(this, fragment);\n  }\n  updateDiff (html, rootElement = 'div', options = {}) {\n    DomDiff(this, Dom.create(rootElement).html(html), options)\n  }\n\n  updateSVGDiff (html, rootElement = 'div') {\n    DomDiff(this, Dom.create(rootElement).html(`<svg>${html}</svg>`).firstChild.firstChild)\n  }  \n\n  find(selector) {\n    return this.el.querySelector(selector);\n  }\n\n  $(selector) {\n    var node = this.find(selector);\n    return node ? Dom.create(node) : null;\n  }\n\n  findAll(selector) {\n    return Array.from(this.el.querySelectorAll(selector));\n  }\n\n  $$(selector) {\n    var arr = this.findAll(selector);\n    return arr.map(node => Dom.create(node));\n  }\n\n  empty() {\n    while (this.el.firstChild) this.el.removeChild(this.el.firstChild);\n    return this;\n  }\n\n  append(el) {\n    if (typeof el === 'string') {\n      this.el.appendChild(document.createTextNode(el));\n    } else {\n      this.el.appendChild(el.el || el);\n    }\n\n    return this;\n  }\n\n  prepend(el) {\n    if (typeof el === 'string') {\n      this.el.prepend(document.createTextNode(el));\n    } else {\n      this.el.prepend(el.el || el);\n    }\n\n    return this;    \n  }\n\n  prependHTML(html) {\n    var $dom = Dom.create(\"div\").html(html);\n\n    this.prepend($dom.createChildrenFragment());\n\n    return $dom;\n  }\n\n  appendHTML(html) {\n    var $dom = Dom.create(\"div\").html(html);\n\n    this.append($dom.createChildrenFragment());\n\n    return $dom;\n  }\n\n  /**\n   * create document fragment with children dom\n   */\n  createChildrenFragment() {\n    const list = this.children();\n\n    var fragment = document.createDocumentFragment();\n    list.forEach($el => fragment.appendChild($el.el));\n\n    return fragment;\n  }\n\n  appendTo(target) {\n    var t = target.el ? target.el : target;\n\n    t.appendChild(this.el);\n\n    return this;\n  }\n\n  remove() {\n    if (this.el.parentNode) {\n      this.el.parentNode.removeChild(this.el);\n    }\n\n    return this;\n  }\n\n  removeChild(el) {\n    this.el.removeChild(el.el || el);\n    return this; \n  }\n\n  /**\n   * \n   * @param {string} value \n   * @returns {string} 파라미터가 없을 때  textContent 를 리턴한다. \n   */\n  text(value) {\n    if (typeof value === 'undefined') {\n      return this.el.textContent;\n    } else {\n      var tempText = value;\n\n      if (value instanceof Dom) {\n        tempText = value.text();\n      }\n\n      // 값의 변경 사항이 없으면 업데이트 하지 않는다. \n      if (this.el.textContent !== tempText) {\n        this.el.textContent = tempText;\n      }\n\n      return this;\n    }\n  }\n\n  /**\n   *\n   * $el.css`\n   *  border-color: yellow;\n   * `\n   *\n   * @param {*} key\n   * @param {*} value\n   */\n\n  css(key, value) {\n    if (typeof key !== 'undefined' && typeof value !== 'undefined') {\n      if (key.indexOf('--') === 0 &&  typeof value !== 'undefined' ) {\n        this.el.style.setProperty(key, value);\n      } else {\n        this.el.style[key] = value;\n      }\n    } else if (typeof key !== 'undefined') {\n      if (typeof key === 'string') {\n        return getComputedStyle(this.el)[key];  \n      } else {\n        Object.entries(key).forEach(([localKey, value]) => {\n          if (localKey.indexOf('--') === 0 && typeof value !== 'undefined' ) {\n            this.el.style.setProperty(localKey, value);\n          } else {\n            this.el.style[localKey] = value;\n          }          \n        })\n      }\n    }\n\n    return this;\n  }\n\n  getComputedStyle (...list) {\n    var css = getComputedStyle(this.el);\n\n    var obj = {}\n    list.forEach(it => {\n      obj[it] = css[it]\n    })\n\n    return obj; \n  }\n\n  getStyleList(...list) {\n    var style = {};\n\n    var len = this.el.style.length;\n    for (var i = 0; i < len; i++) {\n      var key = this.el.style[i];\n\n      style[key] = this.el.style[key];\n    }\n\n    list.forEach(key => {\n      style[key] = this.css(key);\n    });\n\n    return style;\n  }\n\n  cssText(value) {\n    if (typeof value === 'undefined') {\n      return this.el.style.cssText;\n    }\n\n    if (value != this.el.tempCssText) {\n      this.el.style.cssText = value;\n      this.el.tempCssText = value; \n    } \n\n    return this;\n  }\n\n  cssArray(arr) {\n    if (arr[0]) this.el.style[arr[0]] = arr[1];\n    if (arr[2]) this.el.style[arr[2]] = arr[3];\n    if (arr[4]) this.el.style[arr[4]] = arr[5];\n    if (arr[6]) this.el.style[arr[6]] = arr[7];\n    if (arr[8]) this.el.style[arr[8]] = arr[9];\n\n    return this;\n  }\n\n  cssFloat(key) {\n    return parseFloat(this.css(key));\n  }\n\n  cssInt(key) {\n    return parseInt(this.css(key));\n  }\n\n  px(key, value) {\n    return this.css(key, `${value}px`);\n  }\n\n  rect() {\n    return this.el.getBoundingClientRect();\n  }\n\n  bbox () {\n    return this.el.getBBox();\n  }\n\n  isSVG () {\n    return this.el.tagName.toUpperCase() === 'SVG';\n  }\n\n  offsetRect() {\n\n    if (this.isSVG()) {\n      const parentBox = this.parent().rect();\n      const box = this.rect();\n\n      return {\n        x: box.x - parentBox.x,\n        y: box.y - parentBox.y,\n        top: box.x - parentBox.x,\n        left: box.y - parentBox.y,\n        width: box.width,\n        height: box.height\n      }\n    }\n\n    return {\n      x: this.el.offsetLeft,\n      y: this.el.offsetTop,\n      top: this.el.offsetTop,\n      left: this.el.offsetLeft,\n      width: this.el.offsetWidth,\n      height: this.el.offsetHeight\n    };\n  }\n\n  offset() {\n    var rect = this.rect();\n\n    var scrollTop = Dom.getScrollTop();\n    var scrollLeft = Dom.getScrollLeft();\n\n    return {\n      top: rect.top + scrollTop,\n      left: rect.left + scrollLeft\n    };\n  }\n\n  offsetLeft() {\n    return this.offset().left;\n  }\n\n  offsetTop() {\n    return this.offset().top;\n  }\n\n  position() {\n    if (this.el.style.top) {\n      return {\n        top: parseFloat(this.css(\"top\")),\n        left: parseFloat(this.css(\"left\"))\n      };\n    } else {\n      return this.rect();\n    }\n  }\n\n  size() {\n    return [this.width(), this.height()];\n  }\n\n  width() {\n    return this.el.offsetWidth || this.rect().width;\n  }\n\n  contentWidth() {\n    return (\n      this.width() -\n      this.cssFloat(\"padding-left\") -\n      this.cssFloat(\"padding-right\")\n    );\n  }\n\n  height() {\n    return this.el.offsetHeight || this.rect().height;\n  }\n\n  contentHeight() {\n    return (\n      this.height() -\n      this.cssFloat(\"padding-top\") -\n      this.cssFloat(\"padding-bottom\")\n    );\n  }\n\n  val(value) {\n    if (typeof value === 'undefined') {\n      return this.el.value;\n    } else if (typeof value !== 'undefined') {\n      var tempValue = value;\n\n      if (value instanceof Dom) {\n        tempValue = value.val();\n      }\n\n      this.el.value = tempValue;\n    }\n\n    return this;\n  }\n\n  matches (selector) {\n    if (this.el) {\n\n      if (!this.el.matches) return null;\n\n      if (this.el.matches(selector)) {\n        return this;\n      }\n      return this.parent().matches(selector);\n    }\n\n    return null;\n}  \n\n\n  get value() {\n    return this.el.value;\n  }\n\n  get naturalWidth () {\n    return this.el.naturalWidth\n  }\n\n  get naturalHeight () {\n    return this.el.naturalHeight\n  }  \n\n  get files() {\n    return this.el.files ? [...this.el.files] : [];\n  }\n\n  realVal() {\n    switch (this.el.nodeType) {\n      case \"INPUT\":\n        var type = this.attr(\"type\");\n        if (type == \"checkbox\" || type == \"radio\") {\n          return this.checked();\n        }\n      case \"SELECT\":\n      case \"TEXTAREA\":\n        return this.el.value;\n    }\n\n    return \"\";\n  }\n\n  int() {\n    return parseInt(this.val(), 10);\n  }\n\n  float() {\n    return parseFloat(this.val());\n  }\n\n  show(displayType = \"block\") {\n    this.el.style.display = displayType != \"none\" ? displayType : \"block\"\n\n    return this; \n  }\n\n  hide() {\n    this.el.style.display = 'none';\n\n    return this; \n  }\n\n  isHide () {\n    return this.el.style.display  === \"none\"\n  }\n\n  isShow () {\n    return !this.isHide();\n  }\n\n  toggle(isForce) {\n    var currentHide = this.isHide();\n\n    if (arguments.length == 1) {\n      if (isForce) {\n        return this.show();\n      } else {\n        return this.hide();\n      }\n    } else {\n      if (currentHide) {\n        return this.show();\n      } else {\n        return this.hide();\n      }\n    }\n  }\n\n  get totalLength () {\n    return this.el.getTotalLength()\n  }\n\n  scrollIntoView () {\n    this.el.scrollIntoView()\n  }\n\n  addScrollLeft (dt) {\n    this.el.scrollLeft += dt; \n    return this; \n  }\n\n  addScrollTop (dt) {\n    this.el.scrollTop += dt; \n    return this; \n  }  \n\n  setScrollTop(scrollTop) {\n    this.el.scrollTop = scrollTop;\n    return this;\n  }\n\n  setScrollLeft(scrollLeft) {\n    this.el.scrollLeft = scrollLeft;\n    return this;\n  }\n\n  scrollTop() {\n    if (this.el === document.body) {\n      return Dom.getScrollTop();\n    }\n\n    return this.el.scrollTop;\n  }\n\n  scrollLeft() {\n    if (this.el === document.body) {\n      return Dom.getScrollLeft();\n    }\n\n    return this.el.scrollLeft;\n  }\n\n  scrollHeight() {\n    return this.el.scrollHeight;\n  }\n\n  scrollWidth() {\n    return this.el.scrollWidth;\n  }  \n\n  on(eventName, callback, opt1, opt2) {\n    this.el.addEventListener(eventName, callback, opt1, opt2);\n\n    return this;\n  }\n\n  off(eventName, callback) {\n    this.el.removeEventListener(eventName, callback);\n\n    return this;\n  }\n\n  getElement() {\n    return this.el;\n  }\n\n  createChild(tag, className = '', attrs = {}, css = {}) {\n    let $element = Dom.create(tag, className, attrs);\n    $element.css(css);\n\n    this.append($element);\n\n    return $element;\n  }\n\n  get firstChild() {\n    return Dom.create(this.el.firstElementChild);\n  }\n\n  children() {\n    var element = this.el.firstElementChild;\n\n    if (!element) {\n      return [];\n    }\n\n    var results = [];\n\n    do {\n      results.push(Dom.create(element));\n      element = element.nextElementSibling;\n    } while (element);\n\n    return results;\n  }\n\n  childLength() {\n    return this.el.children.length;\n  }\n\n  replace(newElement) {\n\n    if (this.el.parentNode) {\n      this.el.parentNode.replaceChild(newElement.el || newElement, this.el);\n    }\n\n    return this;\n  }\n\n  replaceChild(oldElement, newElement) {\n    this.el.replaceChild(newElement.el || newElement, oldElement.el || oldElement);\n\n    return this;\n  }  \n\n  checked(isChecked = false) {\n    if (arguments.length == 0) {\n      return !!this.el.checked;\n    }\n\n    this.el.checked = !!isChecked;\n\n    return this;\n  }\n\n\n  click () {\n    this.el.click();\n\n    return this; \n  }  \n\n  focus() {\n    this.el.focus();\n\n    return this;\n  }\n\n  select() {\n    // contenteditable 의 경우 selection api 를 사용해서 select() 를 수행한다.\n    if (this.attr('contenteditable') === 'true') {\n      var range = document.createRange();\n      range.selectNodeContents(this.el);\n      var sel = window.getSelection();\n      sel.removeAllRanges();\n      sel.addRange(range);\n    } else {\n      this.el.select();\n    }\n\n    return this;\n  }\n\n  blur() {\n    this.el.blur();\n\n    return this;\n  }\n\n  // canvas functions\n\n  context(contextType = \"2d\") {\n    if (!this._initContext) {\n      this._initContext = this.el.getContext(contextType);\n    }\n\n    return this._initContext;\n  }\n\n  resize({ width, height }) {\n    // support hi-dpi for retina display\n    this._initContext = null;\n    var ctx = this.context();\n    var scale = window.devicePixelRatio || 1;\n\n    this.px(\"width\", +width);\n    this.px(\"height\", +height);\n\n    this.el.width = width * scale;\n    this.el.height = height * scale;\n\n    ctx.scale(scale, scale);\n  }\n\n  toDataURL (type = 'image/png', quality = 1) {\n    return this.el.toDataURL(type, quality)\n  }\n\n  clear() {\n    this.context().clearRect(0, 0, this.el.width, this.el.height);\n  }\n\n  update(callback) {\n    this.clear();\n    callback.call(this, this);\n  }\n\n  drawImage (img, dx = 0, dy = 0) {\n    var ctx = this.context()\n    var scale = window.devicePixelRatio || 1;    \n    ctx.drawImage(img, dx, dy, img.width, img.height, 0, 0, this.el.width / scale, this.el.height / scale);\n  }\n\n  drawOption(option = {}) {\n    var ctx = this.context();\n    Object.assign(ctx, option);\n  }\n\n  drawLine(x1, y1, x2, y2) {\n    var ctx = this.context();\n\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.closePath();\n  }\n\n  drawPath(...path) {\n    var ctx = this.context();\n\n    ctx.beginPath();\n\n    path.forEach((p, index) => {\n      if (index == 0) {\n        ctx.moveTo(p[0], p[1]);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    });\n    ctx.stroke();\n    ctx.fill();\n    ctx.closePath();\n  }\n\n  drawCircle(cx, cy, r) {\n    var ctx = this.context();\n    ctx.beginPath();\n    ctx.arc(cx, cy, r, 0, 2 * Math.PI);\n    ctx.stroke();\n    ctx.fill();\n  }\n\n  drawText(x, y, text) {\n    this.context().fillText(text, x, y);\n  }\n\n  /* utility */ \n  fullscreen () {\n    var element = this.el; \n    \n    if (element.requestFullscreen) {\n      element.requestFullscreen();\n    } else if (element.wekitRequestFullscreen) {\n      element.wekitRequestFullscreen();\n    }\n  } \n\n  toggleFullscreen() {\n    if (this.el === document.fullscreenElement) {\n      document.exitFullscreen();\n    } else {\n      this.fullscreen();\n    }\n  }\n}\n","import EventMachine from \"el/sapa/EventMachine\";\n\n\nexport default class BaseHandler {\n    /**\n     * \n     * @param {EventMachine} context \n     * @param {*} options \n     */\n    constructor (context, options = {}) {\n        this.context = context;\n        this.options = options;\n    }\n\n    // 초기화 설정 \n    initialize () {\n\n    }\n\n    // html 을 로드 할 때 \n    load () {\n\n    }\n\n    // 새로고침 할 때 \n    refresh () {\n\n    }\n    \n    // 화면에 그린 이후에 실행 되는 로직들 \n    render () {\n\n    }\n\n    getRef(id) {\n        return this.context.getRef(id);\n    }\n\n    run () {\n\n    }\n\n    destroy() {\n\n    }\n}","import BaseHandler from \"./BaseHandler\";\nimport Event, { CHECK_SAPARATOR, DOM_EVENT_SAPARATOR, SAPARATOR, NAME_SAPARATOR, CHECK_DOM_EVENT_PATTERN } from \"../Event\";\nimport { debounce, throttle, isNotUndefined, isFunction, splitMethodByKeyword } from \"../functions/func\";\nimport Dom from \"../functions/Dom\";\n\n\nconst scrollBlockingEvents = {\n    'touchstart': true,\n    'touchmove': true,\n    'mousedown': true,\n    'mouseup': true,\n    'mousemove': true,\n    // wheel, mousewheel 은 prevent 를 해야한다. 그래서 scroll blocking 을 막아야 한다. \n    // 'wheel': true,   \n    // 'mousewheel': true\n}\n\nconst eventConverts = {\n  'doubletab': 'touchend'\n}\n\nconst customEventNames = {\n  'doubletab': true \n}\n\nexport default class DomEventHandler extends BaseHandler {\n\n\n    initialize() {\n        this.destroy();\n\n        // 이미 정의된 domEvents 가 있고 notEventRedefine 설정이 true 로 되어 있으면 이벤트를 한번만 설정한다. \n        if (this._domEvents && this.context.notEventRedefine) {\n          return;\n        }\n\n        if (!this._domEvents) {\n          this._domEvents = this.context.filterProps(CHECK_DOM_EVENT_PATTERN)\n        }\n        this._domEvents.forEach(key => this.parseDomEvent(key));\n    }\n\n    destroy() {\n      if (this.context.notEventRedefine) {\n        // NOOP\n      } else {\n        this.removeEventAll();\n      }\n        \n    }\n\n\n    removeEventAll() {\n        this.getBindings().forEach(obj => {\n          this.removeDomEvent(obj);\n        });\n        this.initBindings();\n    }\n\n    removeDomEvent({ eventName, dom, callback }) {\n        Event.removeDomEvent(dom, eventName, callback);\n    }    \n\n    getBindings() {\n        if (!this._bindings) {\n          this.initBindings();\n        }\n    \n        return this._bindings;\n    }\n\n    addBinding(obj) {\n        this.getBindings().push(obj);\n    }\n\n    initBindings() {\n        this._bindings = [];\n    }    \n\n\n    matchPath (el, selector) {\n        if (el) {\n          if (el.matches(selector)) {\n            return el;\n          }\n          return this.matchPath(el.parentElement, selector);\n        }\n        return null;\n    }\n      \n    hasDelegate (e, eventObject) {\n        return this.matchPath(e.target || e.srcElement, eventObject.delegate);\n    }\n      \n    makeCallback (eventObject, callback) {\n      if (eventObject.delegate) {\n        return this.makeDelegateCallback(eventObject, callback);\n      } else {\n        return this.makeDefaultCallback(eventObject, callback);\n      }\n    }\n      \n    makeDefaultCallback (eventObject, callback) {\n        return e => {\n          var returnValue = this.runEventCallback(e, eventObject, callback);\n          if (isNotUndefined(returnValue)) {\n            return returnValue;\n          }\n        };\n    }\n      \n    makeDelegateCallback (eventObject, callback) {\n        return e => {\n          const delegateTarget = this.hasDelegate(e, eventObject);\n      \n          if (delegateTarget) {\n            // delegate target 이 있는 경우만 callback 실행\n            e.$dt = Dom.create(delegateTarget);      \n      \n            var returnValue = this.runEventCallback(e, eventObject, callback);\n            if (isNotUndefined(returnValue)) {\n              return returnValue;\n            }\n          }\n        };\n    }\n      \n    runEventCallback (e, eventObject, callback) {\n        const context = this.context;\n        e.xy = Event.posXY(e);\n      \n        if (eventObject.beforeMethods.length) {\n          eventObject.beforeMethods.every(before => {\n            return context[before.target].call(context, e, before.param);\n          });\n        }\n      \n        if (this.checkEventType(e, eventObject)) {\n          var returnValue = callback(e, e.$dt, e.xy); \n      \n          if (returnValue !== false && eventObject.afterMethods.length) {\n            eventObject.afterMethods.forEach(after => {\n              return context[after.target].call(context, e, after.param)\n            });\n          }\n      \n          return returnValue;\n        }\n    }\n      \n    checkEventType (e, eventObject) {\n        const context = this.context;\n        // 특정 keycode 를 가지고 있는지 체크\n        var hasKeyCode = true;\n        if (eventObject.codes.length) {\n          hasKeyCode =\n            (e.code ? eventObject.codes.indexOf(e.code.toLowerCase()) > -1 : false) ||\n            (e.key ? eventObject.codes.indexOf(e.key.toLowerCase()) > -1 : false);\n        }\n      \n        // 체크 메소드들은 모든 메소드를 다 적용해야한다.\n        var isAllCheck = true;\n        if (eventObject.checkMethodList.length) {\n          isAllCheck = eventObject.checkMethodList.every(field => {\n            var fieldValue = context[field];    \n            if (isFunction(fieldValue) && fieldValue) {\n              // check method\n              return fieldValue.call(context, e);\n            } else if (isNotUndefined(fieldValue)) {\n      \n              // check field value\n              return !!fieldValue;\n            }\n            return true;\n          });\n        }\n      \n        return hasKeyCode && isAllCheck;\n    }\n      \n    getDefaultDomElement(dom) {\n        const context = this.context;\n        let el;\n      \n        if (dom) {\n          el = context.refs[dom] || context[dom] || window[dom];\n        } else {\n          el = context.el || context.$el || context.$root;\n        }\n      \n        if (el instanceof Dom) {\n          return el.getElement();\n        }\n      \n        return el;\n    };\n      \n    getRealEventName (eventName) {\n      return eventConverts[eventName] || eventName;\n    }\n\n    getCustomEventName (eventName) {\n      return customEventNames[eventName] ? eventName:  '';\n    }\n\n    /**\n     * \n     * doubletab -> touchend 로 바뀜 \n     * \n     * @param {string} eventName  이벤트 이름 \n     * @param {array} checkMethodFilters 매직 필터 목록  \n     */\n    getDefaultEventObject (eventName, checkMethodFilters) {\n        const context = this.context;\n        let arr = checkMethodFilters;\n      \n        // context 에 속한 변수나 메소드 리스트 체크\n        const checkMethodList = arr.filter(code => !!context[code]);\n      \n        // 이벤트 정의 시점에 적용 되어야 하는 것들은 모두 method() 화 해서 정의한다.\n        const [afters, afterMethods] = splitMethodByKeyword(arr, \"after\");\n        const [befores, beforeMethods] = splitMethodByKeyword(arr, \"before\");\n        const [debounces, debounceMethods] = splitMethodByKeyword(arr, \"debounce\");\n        const [delays, delayMethods] = splitMethodByKeyword(arr, \"delay\");        \n        const [throttles, throttleMethods] = splitMethodByKeyword(arr, \"throttle\");\n        const [captures] = splitMethodByKeyword(arr, \"capture\");\n      \n        // 위의 5개 필터 이외에 있는 코드들은 keycode 로 인식한다.\n        const filteredList = [\n          ...checkMethodList,\n          ...afters,\n          ...befores,\n          ...delays,\n          ...debounces,\n          ...throttles,\n          ...captures\n        ];\n      \n        var codes = arr\n          .filter(code => filteredList.indexOf(code) === -1)\n          .map(code => code.toLowerCase());\n      \n        return {\n          eventName: this.getRealEventName(eventName),\n          customEventName: this.getCustomEventName(eventName), \n          codes,\n          captures,\n          afterMethods,\n          beforeMethods,\n          delayMethods,\n          debounceMethods,\n          throttleMethods,\n          checkMethodList\n        };\n    }\n      \n      \n    addDomEvent (eventObject, callback) {\n        eventObject.callback = this.makeCallback(eventObject, callback);\n        this.addBinding(eventObject);\n      \n        var options = !!eventObject.captures.length\n      \n        if (scrollBlockingEvents[eventObject.eventName]) {\n          options = {\n            passive: true,\n            capture: options  \n          }\n        }\n\n        // console.log(this.context, eventObject.eventName, eventObject.callback, options);\n      \n        Event.addDomEvent(\n          eventObject.dom,\n          eventObject.eventName,\n          eventObject.callback,\n          options\n        );\n    }\n\n    makeCustomEventCallback (eventObject, callback) {\n\n      if (eventObject.customEventName === 'doubletab') {\n        var delay = 300;\n        \n        if (eventObject.delayMethods.length) {\n          delay = +eventObject.delayMethods[0].target;\n        }\n        return (...args) => {\n\n          if (!this.doubleTab) {\n            this.doubleTab = {\n                time: performance.now(),\n            }\n          } else {\n            if (performance.now() - this.doubleTab.time < delay) {\n              callback(...args);\n            }\n\n            this.doubleTab = null;\n          }\n        }\n\n      } \n\n      return callback; \n    }\n      \n    bindingDomEvent ( [eventName, dom, ...delegate], checkMethodFilters, callback ) {\n        let eventObject = this.getDefaultEventObject(eventName, checkMethodFilters);\n      \n        eventObject.dom = this.getDefaultDomElement(dom);\n        eventObject.delegate = delegate.join(SAPARATOR);\n\n        \n        if (eventObject.debounceMethods.length) {\n          var debounceTime = +eventObject.debounceMethods[0].target;\n          callback = debounce(callback, debounceTime);\n        } else if (eventObject.throttleMethods.length) {\n          var throttleTime = +eventObject.throttleMethods[0].target;\n          callback = throttle(callback, throttleTime);\n        }\n\n        // custom event callback 만들기 \n        callback = this.makeCustomEventCallback(eventObject, callback)\n      \n        this.addDomEvent(eventObject, callback);\n    };\n      \n    getEventNames (eventName) {\n        let results = [];\n        \n        eventName.split(NAME_SAPARATOR).forEach(e => {\n            var arr = e.split(NAME_SAPARATOR);\n        \n            results.push.apply(results, arr);\n        });\n        \n        return results;\n    }\n    \n    /**\n     * 이벤트 문자열 파싱하기 \n     * \n     * @param {string} key \n     */\n    parseDomEvent (key) {\n        const context = this.context;\n        let checkMethodFilters = key.split(CHECK_SAPARATOR).map(it => it.trim()).filter(Boolean);\n        \n        var prefix = checkMethodFilters.shift()\n        var eventSelectorAndBehave = prefix.split(DOM_EVENT_SAPARATOR)[1];\n        \n        var arr = eventSelectorAndBehave.split(SAPARATOR);\n        var eventNames = this.getEventNames(arr[0]);\n\n        var callback = context[key].bind(context);\n        \n        for(let i = 0, len = eventNames.length; i< len; i++) {\n          arr[0] = eventNames[i];\n          this.bindingDomEvent(arr, checkMethodFilters, callback);\n        }\n    }  \n}","import BaseHandler from \"./BaseHandler\";\nimport { isObject } from \"../functions/func\";\nimport { CHECK_BIND_PATTERN, BIND_CHECK_FUNCTION, CHECK_SAPARATOR, BIND_CHECK_DEFAULT_FUNCTION, BIND_SAPARATOR } from \"../Event\";\nimport Dom from \"el/sapa/functions/Dom\";\n\n/**\n * \n * @param {Dom} $element \n * @param {string} key \n * @param {any} value \n */\nconst applyElementAttribute = ($element, key, value) => {\n\n  if (key === 'cssText') {\n    /**\n     * cssText: 'position:absolute'\n     */\n    $element.cssText(value);\n    return; \n  } else if (key === \"style\") {\n    /**\n     * style: { key: value }\n     */\n    if (typeof(value) !== 'string') {\n      $element.css(value);\n    }\n\n    return;\n  } else if (key === \"class\") {\n    //  \"class\" : [ 'className', 'className' ] \n    //  \"class\" : { key: true, key: false } \n    //  \"class\" : 'string-class' \n\n    if (Array.isArray(value)) {\n      $element.addClass(...value.filter(Boolean));\n    } else if (isObject(value)) {\n      const keys = Object.keys(value);\n      for(var i = 0, len = keys.length; i < len; i++) {\n        const className = keys[i];\n        const hasClass = value[className];\n\n        $element.toggleClass(className, hasClass);\n      }\n    } else {\n      $element.el.className  = value;\n    }\n\n    return;\n  } else if (key === 'callback') {\n    if (typeof value === 'function') {\n      value ();\n      return; \n    }\n  }\n\n  if (typeof value === 'undefined') {\n    $element.removeAttr(key);\n  } else {\n    if ($element.el.nodeName === \"TEXTAREA\" && key === \"value\") {\n      $element.text(value);\n    } else if (key === 'text' || key === 'textContent') {\n      $element.text(value);\n    } else if (key === 'innerHTML' || key === 'html') {\n      $element.html(value);\n    } else if (key === 'htmlDiff') {\n      $element.updateDiff(value);\n    } else if (key === 'svgDiff') {\n      $element.updateSVGDiff(value);\n    } else if (key === 'value') {\n      $element.val(value);\n    } else {\n      $element.attr(key, value);\n    }\n  }\n};\n\nexport default class BindHandler extends BaseHandler {\n\n    load (...args) {\n      this.bindData(...args);\n    }\n\n    // 어떻게 실행하는게 좋을까? \n    // this.runHandle('bind', ...);\n    bindData (...args) {\n      if (!this._bindMethods) {\n        this._bindMethods = this.context.filterProps(CHECK_BIND_PATTERN);\n      }\n      /**\n       * BIND 를 해보자.\n       * 이시점에 하는게 맞는지는 모르겠지만 일단은 해보자.\n       * BIND 는 특정 element 에 html 이 아닌 데이타를 업데이트하기 위한 간단한 로직이다.\n       */\n      const bindList = this._bindMethods\n        .filter(originalCallbackName => {\n          if (!args.length) return true; \n          var [callbackName, id] = originalCallbackName.split(CHECK_SAPARATOR);        \n  \n          var [_, $bind] = callbackName.split(' ')\n  \n          return args.indexOf($bind) >  -1 \n        })\n\n        bindList.forEach(async (callbackName) => {\n          const bindMethod = this.context[callbackName];\n          var [callbackName, id] = callbackName.split(CHECK_SAPARATOR);\n  \n          const refObject = this.getRef(id);\n          let refCallback = BIND_CHECK_DEFAULT_FUNCTION;\n  \n          if (refObject != '' && typeof(refObject) === 'string') {\n            refCallback = BIND_CHECK_FUNCTION(refObject);\n          } else if (typeof refObject === 'function') {\n            refCallback = refObject;\n          }\n  \n          const elName = callbackName.split(BIND_SAPARATOR)[1];\n          let $element = this.context.refs[elName];\n  \n          // isBindCheck 는 binding 하기 전에 변화된 지점을 찾아서 업데이트를 제한한다.\n          const isBindCheck = typeof(refCallback) === 'function' && refCallback.call(this.context);\n          if ($element && isBindCheck) {\n            const results = await bindMethod.call(this.context, ...args);\n\n            if (!results) return;\n  \n            const keys = Object.keys(results);\n            for(var elementKeyIndex = 0, len = keys.length; elementKeyIndex < len; elementKeyIndex++) {\n              const key = keys[elementKeyIndex];\n              const value = results[key];\n\n              applyElementAttribute($element, key, value);\n            }\n          }\n        });\n    }    \n\n    destroy() {\n      this._bindMethods = undefined\n    }\n\n\n}","import {\n  CHECK_SAPARATOR,\n  CHECK_LOAD_PATTERN,\n  LOAD_SAPARATOR,\n  DOMDIFF,\n  getRef,\n  MAGIC_METHOD,\n} from \"./Event\";\nimport Dom from \"./functions/Dom\";\nimport {\n  isFunction,\n  // Array.isArray,\n  html,\n  keyEach,\n  collectProps,\n  isString\n} from \"./functions/func\";\n\nimport DomEventHandler from \"./handler/DomEventHandler\";\nimport BindHandler from \"./handler/BindHandler\";\nimport { hasVariable, recoverVariable, retriveElement, spreadVariable, variable } from \"./functions/registElement\";\nimport { uuid } from \"./functions/uuid\";\nimport { isObject } from 'el/sapa/functions/func';\n\nconst REFERENCE_PROPERTY = \"ref\";\nconst TEMP_DIV = Dom.create(\"div\");\nconst QUERY_PROPERTY = `[${REFERENCE_PROPERTY}]`;\nconst REF_CLASS = 'refclass';\nconst REF_CLASS_PROPERTY = `[${REF_CLASS}]`\n\n\nexport default class EventMachine {\n  constructor(opt, props) {\n\n    this.state = {};\n    this.prevState = {};\n    this.refs = {};\n    this.children = {};\n    this._bindings = [];\n    this.id = uuid();    \n    this.handlers = this.initializeHandler()\n\n    this.initializeProperty(opt, props);\n\n    this.initComponents();\n  }\n\n\n  /**\n   * UIElement instance 에 필요한 기본 속성 설정 \n   */\n  initializeProperty (opt, props = {}) {\n\n    this.opt = opt || {};\n    this.parent = this.opt;\n    this.props = props;\n    this.source = uuid();\n    this.sourceName = this.constructor.name;  \n  }\n\n  initComponents() {\n    this.childComponents = this.components() \n  }\n\n  initializeHandler () {\n    return [\n      new BindHandler(this),\n      new DomEventHandler(this)\n    ]\n  }\n\n  /**\n   * state 를 초기화 한것을 리턴한다. \n   * \n   * @protected\n   * @returns {Object} \n   */\n  initState() {\n    return {};\n  }\n\n  /**\n   * state 를 변경한다. \n   * \n   * @param {Object} state  새로운 state \n   * @param {Boolean} isLoad  다시 로드 할 것인지 체크 , true 면 state 변경후 다시 로드 \n   */\n  setState(state = {}, isLoad = true) {\n    this.prevState = this.state;\n    this.state = Object.assign({}, this.state, state );\n    if (isLoad) {\n      this.load();\n    }\n  }\n\n  /**\n   * state 에 있는 key 필드의 값을 토글한다. \n   * Boolean 형태의 값만 동작한다. \n   * \n   * @param {string} key \n   * @param {Boolean} isLoad \n   */\n  toggleState(key, isLoad = true) {\n    this.setState({\n      [key]: !(this.state[key])\n    }, isLoad)\n  }\n\n  /**\n   * object 값을 그대로 key, value 형태로 넘기기 위한 함수\n   * \n   * @param {Object} obj\n   * @returns {string} `key=value` 형태의 문자열 리스트 \n   */ \n  apply(obj) {\n    return spreadVariable(obj);\n  }\n\n\n  /**\n   * 객체를 다시 그릴 때 사용한다. \n   * \n   * @param {KeyValue} props \n   * @param {Dom} [$container=null] $container 가 존재하면 render 를 같이 한다. \n   * @protected\n   */\n  _reload(props, $container = null) {\n\n    if ($container) {\n      this.render($container);\n    }\n\n    this.props = props;\n    this.state = {}; \n    this.setState(this.initState(), false);\n    this.refresh(true);\n  }\n\n  /**\n   * template 을 렌더링 한다. \n   * \n   * @param {Dom|undefined} $container  컴포넌트가 그려질 대상 \n   */\n  render($container) {\n    this.$el = this.parseTemplate(\n      html`\n        ${this.template()}\n      `\n    );\n    this.refs.$el = this.$el;\n\n    if ($container) {\n      $container.append(this.$el);\n    }\n\n    // LOAD 로 정의된 것들을 수행한다. \n    this.load();\n\n    // render 이후에 실행될 콜백을 정의한다. \n    this.afterRender();\n  }\n\n  initialize() {\n    this.state = this.initState();\n  }\n\n  /**\n   * render 이후에 실행될 함수 \n   * dom 이 실제로 생성된 이후에 수행할 작업들을 정의한다. \n   * \n   * @protected\n   */\n  afterRender() {}\n\n  /**\n   * 하위에 연결될 객체들을 정의한다 \n   * \n   * @protected\n   * @returns {Object}\n   */\n  components() {\n    return {};\n  }\n\n  /**\n   * ref 이름을 가진 Component 를 가지고 온다. \n   * \n   * @param  {any[]} args \n   * @returns {EventMachine}\n   */\n  getRef(...args) {\n    const key = args.join('')\n    return this.refs[key];\n  }\n\n  /**\n   * template() 함수의 결과물을 파싱해서 dom element 를 생성한다. \n   * \n   * @param {string} html \n   * @param {Boolean} [isLoad=false] \n   */\n  parseTemplate(html, isLoad) {\n\n    /////////////////////////////////////////////////////////////////\n    //FIXME: html string, element 형태 모두 array 로 받을 수 있도록 해보자. \n    if (Array.isArray(html)) {\n      html = html.join('');\n    }\n\n    html = html.trim();\n    const list = TEMP_DIV.html(html).children();\n    ///////////////////////////////////////////////////////////////\n\n    for(var i = 0, len = list.length; i < len; i++) {\n      const $el = list[i];\n\n      var ref = $el.attr(REFERENCE_PROPERTY)\n      if (ref) {\n        this.refs[ref] = $el;\n      }\n\n      var refs = $el.$$(QUERY_PROPERTY);\n      var temp = {} \n\n      for(var refsIndex = 0, refsLen = refs.length; refsIndex < refsLen; refsIndex++) {\n        const $dom = refs[refsIndex];\n\n        const name = $dom.attr(REFERENCE_PROPERTY);\n        if (temp[name]) {\n          console.warn(`${ref} is duplicated. - ${this.sourceName}`, this)\n        } else {\n          temp[name] = true; \n        }\n\n        this.refs[name] = $dom;             \n      }\n    }\n\n    if (!isLoad) {\n      return list[0];\n    }\n\n    return TEMP_DIV.createChildrenFragment();\n  }\n\n  parseProperty ($dom) {\n    let props = {};\n\n    // parse properties \n    for(var t of $dom.el.attributes) {\n\n      // 속성값이 없고, 속성 이름이 참조 변수 일 때는  그대로 보여준다. \n      if (hasVariable(t.nodeName)) {\n        const recoveredValue = recoverVariable(t.nodeName);\n\n        if (isObject(recoveredValue)) {\n          props = Object.assign(props, recoveredValue)\n        } else {\n          props[t.nodeName] = recoverVariable(t.nodeValue);                    \n        }\n\n      } else {\n        props[t.nodeName] = recoverVariable(t.nodeValue);          \n      }\n    }\n\n    // 하위 html 문자열을 props.content 로 저장한다. \n    props.content = $dom.html()\n    if (props.content) {\n      props.contentChildren = this.parseContent(props.content)\n    }\n\n    return props;\n  }\n\n  parseSourceName(obj) {\n\n    if (obj.parent) {\n      return [obj.sourceName, ...this.parseSourceName(obj.parent)]\n    }\n\n    return [obj.sourceName]\n  }\n\n  getEventMachineComponent (refClassName) {\n    var EventMachineComponent = retriveElement(refClassName) || this.childComponents[refClassName];\n\n    return EventMachineComponent;\n  }\n\n  renderComponent({ $dom, refName, EventMachineComponent, props }) {\n    var instance = null; \n\n    // 동일한 refName 의 EventMachine 이 존재하면  해당 컴포넌트는 다시 그려진다. \n    // 루트 element 는 변경되지 않는다. \n    if (this.children[refName]) {\n      instance = this.children[refName] \n      instance._reload(props);\n    } else {\n      // 기존의 refName 이 존재하지 않으면 Component 를 생성해서 element 를 교체한다. \n      instance = new EventMachineComponent(this, props);\n\n      this.children[refName || instance.id] = instance;\n\n      instance.render();\n    }\n    \n\n    if (instance.renderTarget) {\n      instance.$el?.appendTo(instance.renderTarget);\n      $dom.remove();\n    } else {\n      $dom.replace(instance.$el);     \n    }\n  }\n\n  /**\n   * 특정 html 의 자식 컴포넌트(EventMachine)의 정보를 가지고 온다. \n   * \n   * @param {string} html \n   * @param {string[]} filteredRefClass \n   * @returns {object[]}  - { refName, EventMachineComponent, props, $dom, refClass }\n   */\n  parseContent(html, filteredRefClass = []) {\n    return Dom.create('div').html(html).children().map($dom => {\n      return this._getComponentInfo($dom)\n    }).filter(it => filteredRefClass.length === 0 ? true : filteredRefClass.includes(it.refClass))\n  }\n\n  /**\n   * component 정보 얻어오기 \n   * \n   * @param {Dom} $dom \n   * @returns \n   */\n  _getComponentInfo ($dom) {\n\n    const refClass = $dom.attr(REF_CLASS);\n    const EventMachineComponent = this.getEventMachineComponent(refClass)\n\n    if (EventMachineComponent) {\n      let props = this.parseProperty($dom);\n\n      // create component \n      let refName = $dom.attr(REFERENCE_PROPERTY);\n\n      return { \n        $dom,\n        refClass,\n        props,\n        refName,\n        EventMachineComponent\n      }\n    } else {\n      return {\n        notUsed: true, \n        $dom,\n      }\n    }\n  }\n\n  /**\n   * element 를 기준으로 내부 component 리스트를 생성한다. \n   * \n   * @return {object[]}\n   */ \n  parseComponentList($el) {\n\n    const children = []\n    let targets = $el.$$(REF_CLASS_PROPERTY);\n\n    targets.forEach($dom => {\n      children.push(this._getComponentInfo($dom));\n    })\n\n    return children; \n  }\n\n  parseComponent() {\n    const $el = this.$el;\n\n    const componentList = this.parseComponentList($el);\n\n    componentList.forEach(comp => {\n      if (comp.notUsed) {\n        comp.$dom.remove();\n      } else {\n        this.renderComponent(comp);\n      }  \n    })\n\n    keyEach(this.children, (key, obj) => {\n      if (obj && obj.clean()) {\n        delete this.children[key]\n      }\n    })\n  }\n\n  clean () {\n    if (this.$el && !this.$el.hasParent()) {\n\n      keyEach(this.children, (key, child) => {\n        child.clean();\n      })\n\n      this.destroy();  \n\n      this.$el = null;\n      return true; \n    }\n  }\n\n  /**\n   * refresh 는 load 함수들을 실행한다. \n   */\n  refresh() {\n    this.load()\n  }\n\n  _afterLoad () {\n\n    this.runHandlers('initialize');\n\n    this.bindData();\n\n    this.parseComponent();\n  }\n\n  async load(...args) {\n    if (!this._loadMethods) {\n      this._loadMethods = this.filterProps(CHECK_LOAD_PATTERN);\n    }\n\n    // loop 가 비동기라 await 로 대기를 시켜줘야 나머지 html 업데이트에 대한 순서를 맞출 수 있다. \n    const localLoadMethods = this._loadMethods.filter(callbackName => {\n        const elName = callbackName.split(LOAD_SAPARATOR)[1]\n                                  .split(CHECK_SAPARATOR)\n                                  .map(it => it.trim())[0];\n        if (!args.length) return true; \n        return args.indexOf(elName) > -1\n      })\n\n\n\n    await localLoadMethods.forEach(async (callbackName) => {\n      let methodName = callbackName.split(LOAD_SAPARATOR)[1];\n      var [elName, ...checker] = methodName.split(CHECK_SAPARATOR).map(it => it.trim())\n\n      checker = checker.map(it => it.trim())\n      \n      const isDomDiff = Boolean(checker.filter(it => DOMDIFF.includes(it)).length);\n\n      if (this.refs[elName]) {        \n        var newTemplate = await this[callbackName].apply(this, args);\n\n        if (Array.isArray(newTemplate)) {\n          newTemplate = newTemplate.join('');\n        }\n\n        // create fragment \n        const fragment = this.parseTemplate(html`${newTemplate}`, true);\n        if (isDomDiff) {\n          this.refs[elName].htmlDiff(fragment);\n        } else {\n          this.refs[elName].html(fragment);\n        }\n\n      }\n    });\n\n    this._afterLoad();\n\n  }\n\n  runHandlers(func = 'run', ...args) {\n    this.handlers.forEach(h => h[func](...args));\n  }\n\n  bindData (...args) {\n    this.runHandlers('load', ...args);\n  }\n\n  // 기본 템플릿 지정\n  template() {\n    return `<div></div>`;\n  }\n\n  eachChildren(callback) {\n    if (!isFunction(callback)) return;\n\n    keyEach(this.children, (_, Component) => {\n      callback(Component);\n    });\n  }\n\n  rerender () {\n    var $parent = this.$el.parent();\n    this.destroy();\n    this.render($parent);  \n  }\n\n  /**\n   * 자원을 해제한다.\n   * 이것도 역시 자식 컴포넌트까지 제어하기 때문에 가장 최상위 부모에서 한번만 호출되도 된다.\n   * \n   */\n  destroy() {\n    this.eachChildren(childComponent => {\n      childComponent.destroy();\n    });\n\n    this.runHandlers('destroy');\n    if (this.$el) {\n      this.$el.remove();\n    }\n\n    this.$el = null; \n    this.refs = {} \n    this.children = {} \n  }\n\n  /**\n   * property 수집하기\n   * 상위 클래스의 모든 property 를 수집해서 리턴한다.\n   * \n   * @returns {string[]} 나의 상위 모든 메소드를 수집해서 리턴한다. \n   */\n  collectProps() {\n\n    if (!this.__cachedMethodList){\n      this.__cachedMethodList = collectProps(this, (name) => {\n        return name.indexOf(MAGIC_METHOD) === 0; \n      });\n    }\n\n    return this.__cachedMethodList;\n  }\n\n  filterProps(pattern) {\n    return this.collectProps().filter(key => {\n      return key.match(pattern);\n    });\n  }\n\n  /* magic check method  */\n\n  self(e) {\n    return e && e.$dt && e.$dt.is(e.target);\n  }\n  isAltKey(e) {\n    return e.altKey;\n  }\n  isCtrlKey(e) {\n    return e.ctrlKey;\n  }\n  isShiftKey(e) {\n    return e.shiftKey;\n  }\n  isMetaKey(e) {\n    return e.metaKey || e.key == 'Meta' || e.code.indexOf('Meta') > -1 ;\n  }\n  isMouseLeftButton(e) {\n    return e.buttons === 1;     // 1 is left button \n  }\n\n  isMouseRightButton(e) {\n    return e.buttons === 2;     // 2 is right button \n  }  \n\n  hasMouse(e) { \n    return e.pointerType === 'mouse';\n  }\n\n  hasTouch(e) {\n    return e.pointerType === 'touch';\n  }\n\n  hasPen(e) {\n    return e.pointerType === 'pen';\n  }  \n\n  /** before check method */\n\n  /* after check method */\n\n  preventDefault(e) {\n    e.preventDefault();\n    return true;\n  }\n\n  stopPropagation(e) {\n    e.stopPropagation();\n    return true;\n  }\n}\n","import EventMachine from \"./EventMachine\";\nimport { debounce, ifCheck, isFunction, throttle } from \"./functions/func\";\nimport { uuidShort } from 'el/utils/math';\n\n/**\n * @class BaseStore\n * @description BaseStore is the base class for all stores.\n * \n */\nexport default class BaseStore {\n  constructor(editor) {\n    this.id = uuidShort();\n    this.cachedCallback = {};\n    this.callbacks = {};\n    this.editor = editor;\n    this.promiseProxy = new Proxy(this, {\n      get: (target, key) => {\n        return this.makePromiseEvent(key);\n      }\n    })\n  }\n\n  getCallbacks(event) {\n    if (!this.callbacks[event]) {\n      this.callbacks[event] = []\n    }\n\n    return this.callbacks[event]\n  }\n\n  setCallbacks(event, list = []) {\n    this.callbacks[event] = list;\n  }\n\n  debug(...args) {\n    // if (this.editor && this.editor.config.get('debug')) {\n    //   console.debug(...args);\n    // }\n\n  }\n\n  /**\n   * 메세지 등록 \n   * \n   * @param {string} event \n   * @param {Function} originalCallback \n   * @param {EventMachine} context \n   * @param {number} debounceDelay \n   * @param {number} throttleDelay \n   * @param {boolean} enableAllTrigger\n   * @param {boolean} enableSelfTrigger\n   * @param {string[]} [beforeMethods=[]]\n   * @returns {Function} off callback \n   */\n  on(event, originalCallback, context, debounceDelay = 0, throttleDelay = 0, enableAllTrigger = false, enableSelfTrigger = false, beforeMethods = []) {\n    var callback = originalCallback;\n\n    if (debounceDelay > 0) callback = debounce(originalCallback, debounceDelay);\n    else if (throttleDelay > 0) callback = throttle(originalCallback, throttleDelay);\n\n    if (beforeMethods.length) {\n      callback = ifCheck(callback, context, beforeMethods);\n    }\n\n    this.getCallbacks(event).push({ event, callback, context, originalCallback, enableAllTrigger, enableSelfTrigger });\n\n    this.debug('add message event', event, context.sourceName);\n\n    return () => {\n      this.off(event, originalCallback);\n    }\n  }\n\n  /**\n   * 메세지 해제\n   * \n   * @param {string} event \n   * @param {*} originalCallback \n   */\n  off(event, originalCallback) {\n\n    this.debug('off message event', event);\n\n    if (arguments.length == 1) {\n      this.setCallbacks(event);\n    } else if (arguments.length == 2) {\n      this.setCallbacks(event, this.getCallbacks(event).filter(f => {\n        return f.originalCallback !== originalCallback\n      }));\n    }\n  }\n\n  offAll(context) {\n\n    Object.keys(this.callbacks).forEach(event => {\n      this.setCallbacks(event, this.getCallbacks(event).filter(f => {\n        return f.context !== context;\n      }))\n    })\n    this.debug('off all message', context.sourceName);\n  }\n\n  getCachedCallbacks(event) {\n    return this.getCallbacks(event);\n  }\n\n  /**\n   * 메세지를 promise 형태로 쓸 수 있도록 proxy 객체를 리턴한다. \n   * \n   * @returns {Proxy}\n   */\n  get promise() {\n    return this.promiseProxy;\n  }\n\n  get p () {\n    return this.promise;\n  }\n\n  /**\n   * 등록된 메세지를 Promise 로 만들어준다. \n   * \n   * this.emit(\"message\", 1, 2, 3); \n   * \n   * 형태로 사용하던 것을 \n   * \n   * this.promise.message(1, 2, 3).then(() => { })\n   * \n   * 또는 \n   * \n   * var a = await this.promise.message(1, 2, 3);\n   * \n   * 형태로 사용할 수 있다. \n   * \n   * 몇가지 상황에서 유용하다. \n   * \n   * 1. message 가 리턴 값을 가지고 있을 때 \n   * 2. message 가 동작 완료 후 다른 동작을 하고 싶을 때 \n   * \n   * @param {string} event \n   * @returns \n   */\n  makePromiseEvent(event) {\n\n    var list = this.getCachedCallbacks(event);\n    const source = this.source;\n\n    return (...args) => Promise.all(\n      list.filter(f => {\n        return !f.enableSelfTrigger\n      }).filter(f => {\n        return f.enableAllTrigger || f.originalCallback.source !== source\n      }).map(f => {\n        return new Promise((resolve, reject) => {\n          resolve(f.callback.apply(f.context, args));\n        })\n      })\n    )\n  }\n\n  sendMessage(source, event, ...args) {\n    Promise.resolve().then(() => {\n      var list = this.getCachedCallbacks(event);\n      if (list) {\n\n        for (var i = 0, len = list.length; i < len; i++) {\n          const f = list[i];\n          // console.log(source);\n          if (f.enableSelfTrigger) continue;\n\n          if (f.enableAllTrigger || f.originalCallback.source !== source) {\n            f.callback.apply(f.context, args)\n          }\n        }\n      }\n    });\n  }\n\n  nextSendMessage(source, callback, ...args) {\n    Promise.resolve().then(() => {\n      callback(...args)\n    });\n  }\n\n  triggerMessage(source, event, ...args) {\n    // Promise.resolve().then(() => {\n      var list = this.getCachedCallbacks(event);\n\n      if (list) {\n        for (var i = 0, len = list.length; i < len; i++) {\n          const f = list[i];\n          if (f.originalCallback.source === source) {\n            f.callback.apply(f.context, args)\n          }\n        }\n      } else {\n        console.warn(event, ' is not valid event');\n      }\n\n\n    // });\n  }\n\n  emit(event, ...args) {\n\n    if (isFunction(event)) {\n      event(...args);\n    } else {\n      this.sendMessage(this.source, event, ...args);\n    }\n\n  }\n\n  /**\n   * 마이크로 Task 를 실행 \n   * \n   * @param {Function} callback  마이크로Task 형식으로 실행될 함수 \n   */\n  nextTick(callback) {\n    this.nextSendMessage(this.source, callback);\n  }\n\n  trigger(event, ...args) {\n\n    if (isFunction(event)) {\n      event(...args);\n    } else {\n      this.triggerMessage(this.source, event, ...args);\n    }\n\n  }\n}\n","import dark from \"./dark\"\nimport light from \"./light\"\n\n\nexport default {\n    dark,\n    light,\n}","export default {\n    left_size: 250,\n    left_max_size: 400,\n    bottom_size: 150,\n    bottom_max_size: 500,\n    timeline_grid_font_color: '#ececec',\n    timeline_line_color: 'red',\n    timeline_timeview_bottom_color: 'black',\n}","export default {\n    left_size: 250,\n    left_max_size: 400,    \n    bottom_size: 150,\n    bottom_max_size: 500,    \n    timeline_grid_font_color: 'black',\n    timeline_line_color: '#4778d4',    \n    timeline_timeview_bottom_color: '#ececec',\n}","export class TimelineSelectionManager {\n  constructor(editor) {\n    this.$editor = editor;\n    this.items = [];\n    this.itemKeys = {} \n  }\n\n  initialize() {\n    this.items = [];\n    this.itemKeys = {} \n  }\n\n  currentProject (callback) {\n    var project = this.$editor.selection.currentProject;\n\n    if (project) {\n      callback && callback (project);\n    }\n  }\n\n  empty () {\n    this.select();\n  }\n\n  each (callback) {\n    this.items.forEach((item, index) => {\n      callback && callback(item, index)\n    })\n  }\n\n  refreshCache (list) {\n    this.items = list;\n    this.itemKeys = {} \n\n    this.items.forEach(it => {\n      this.itemKeys[it.id] = it; \n    })\n  }\n\n  cachedList () {\n    return this.items.map(it => {\n      return {...it}\n    })\n  }\n\n  checked (id) {\n    return !!this.itemKeys[id]\n  }\n\n  selectLayer (layerId) {\n\n    this.currentProject(project =>  {\n      var list = project.getKeyframeListReturnArray().filter(it => {\n        return it.layerId === layerId\n      })\n      this.refreshCache(list);\n    })\n  }\n\n  toggleLayerContainer (animationId) {\n\n    this.currentProject(project =>  {\n      project.getSelectedTimeline().animations.filter(it => {\n        return it.id === animationId\n      }).forEach(it => {\n        it.collapsed = !it.collapsed\n      })\n    })\n  }  \n\n  selectProperty (layerId, property) {\n    this.currentProject(project =>  {\n      var list = project.getKeyframeListReturnArray().filter(it => {\n        return it.layerId === layerId && it.property === property;\n      })\n\n      this.refreshCache(list);\n    })\n  }  \n\n  select (...args) {\n    this.refreshCache(args);\n  }\n\n  selectBySearch (list, startTime, endTime) {\n    this.currentProject(project =>  {\n\n      var totalList = []\n\n      list.forEach(it => {\n        var results = []  \n        if (it.property) {\n\n          var p = project.getTimelineProperty(it.layerId, it.property)\n\n          results = p.keyframes.filter(keyframe => {\n            return startTime <= keyframe.time && keyframe.time <= endTime; \n          })\n        } else {\n\n          var p = project.getTimelineObject(it.layerId)\n\n          p.properties.filter(property => {\n            return property.property === it.property\n          }).forEach(property => {\n            results.push.apply(results, property.keyframes.filter(keyframe => {\n              return startTime <= keyframe.time && keyframe.time <= endTime; \n            }))\n          }) \n        }\n\n        totalList.push.apply(totalList, results);\n\n      })\n\n      var uniqueOffset = {}\n      totalList.forEach(it => {\n        uniqueOffset[it.id] = it; \n      })\n\n      this.select(...Object.values(uniqueOffset))\n    })\n  }\n\n\n  checkLayer (layerId) {\n    return Object.keys(this.itemKeys).some(key => {\n      return this.itemKeys[key].layerId === layerId\n    })\n  }\n\n  checkProperty (layerId, property) {\n    return Object.keys(this.itemKeys).some(key => {\n      return this.itemKeys[key].layerId === layerId && this.itemKeys[key].property === property\n    })\n  }  \n}\n","const MAX_CACHE_COUNT = 1000;\nconst cachedTransformOriginMap = new Map();\n\nexport class TransformOriginCache {\n\n    static has (key) {\n        return cachedTransformOriginMap.has(key);\n    }\n\n    static get (key) {\n        return cachedTransformOriginMap.get(key);\n    }\n\n    static set (key, parsedValue) {\n\n        if (cachedTransformOriginMap.size > MAX_CACHE_COUNT) {\n            cachedTransformOriginMap.clear();\n        }\n\n        cachedTransformOriginMap.set(key, parsedValue);\n    }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { TransformOriginCache } from \"./TransformOriginCache\";\n\nexport class TransformOrigin {\n\n  /**\n   * \n   * transform-origin 속성 값 \n   * \n   * transform-origin: 50% \n   * transform-origin: 50px 5px\n   * transform-origin: 50px 5px 30px\n   * \n   * @param {string} transformOrigin \n   */\n  static parseStyle (transformOrigin = '50% 50% 0%') {\n\n    if (TransformOriginCache.has(transformOrigin)) {\n      return TransformOriginCache.get(transformOrigin);\n    }\n\n    const origins = transformOrigin\n                      .trim()\n                      .split(' ')\n                      .filter(it => it.trim())\n\n    let parsedTransformOrigin = null;\n\n    if (origins.length === 1) {\n      parsedTransformOrigin = [origins[0], origins[0]].map(it => Length.parse(it))\n    } else {\n      parsedTransformOrigin = origins.map(it => Length.parse(it))\n    } \n\n    TransformOriginCache.set(transformOrigin, parsedTransformOrigin);\n\n    return parsedTransformOrigin;\n  }\n\n  static scale (transformOrigin, width, height)  {\n    let parsedTransformOrigin = TransformOrigin.parseStyle(transformOrigin)\n\n    const originX = parsedTransformOrigin[0].toPx(width).value\n    const originY = parsedTransformOrigin[1].toPx(height).value\n    const originZ = parsedTransformOrigin[2].value; \n\n    return [originX, originY, originZ]\n  }\n\n  static toPx (transformOrigin, width, height, distance = 0) {\n    let [\n      transformOriginX, \n      transformOriginY, \n      transformOriginZ\n    ] = TransformOrigin.parseStyle(transformOrigin)\n\n    transformOriginX = transformOriginX.toPx(width)\n    transformOriginY = transformOriginY.toPx(height)\n    transformOriginZ = transformOriginZ.toPx(distance)\n\n    return `${transformOriginX} ${transformOriginY} ${transformOriginZ}`\n  }\n\n}","import { TransformOrigin } from \"el/editor/property-parser/TransformOrigin\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { vec3 } from \"gl-matrix\";\nimport { getPointBetweenVerties } from \"./math\";\n\n/**\n * 포인트 충돌 체크 \n * \n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n */\nexport function pointPoint (x1, y1, x2, y2) {\n    return x1 === x2 && y1 === y2\n}\n\n/**\n * 점간의 대략적인 거리의 위치 지정 \n * \n * @param {vec3} s source vertex \n * @param {vec3} t target vertex \n * @param {number} [dist=0] check distance\n */\nexport function pointPointDist (s, t, dist = 0) {\n    let targetX = Infinity; \n    let targetY = Infinity; \n\n    if (Math.abs(s[0] - t[0]) <= dist) {\n        targetX = t[0];\n    }\n\n    if (Math.abs(s[1] - t[1]) <= dist) {\n        targetY = t[1];\n    }\n\n    return { targetX, targetY }\n}\n\n/**\n * 점과 원의 충돌 체크 \n * \n * @param {number} x1 x \n * @param {number} y1 y\n * @param {number} cx 원의 중심점 x \n * @param {number} cy 원의 중심점 y\n * @param {number} r 원의 반지름 radius\n */\nexport function pointCircle (x1, y1, cx, cy, r) {\n    const distX = x1 - cx;\n    const distY = y1 - cy; \n\n    return Math.hypot(distX, distY) <= r;\n}\n\n/**\n * 원과 원의 충돌 \n * \n * @param {number} cx1 \n * @param {number} cy1 \n * @param {number} r1 \n * @param {number} cx2 \n * @param {number} cy2 \n * @param {number} r2 \n */\nexport function circleCirce (cx1, cy1, r1, cx2, cy2, r2) {\n    const distX = cx2 - cx1;\n    const distY = cy2 - cy1;\n\n    return Math.hypot(distX, distY) <= r1 + r2;\n}\n\n/**\n * 점과 사각형 충돌 체크 \n * \n * @param {number} x1\n * @param {number} y1\n * @param {number} rx \n * @param {number} ry \n * @param {number} rw \n * @param {number} rh \n */\nexport function pointRect (x1, y1, rx, ry, rw, rh) {\n    return (\n        (rx <= x1 && x1 <= rx + rw) && \n        (ry <= y1 && y1 <= ry + rh)\n    ) \n}\n\n/**\n * 사각형과 사각형 충돌 체크 \n * \n * @param {number} rx1 \n * @param {number} ry1 \n * @param {number} rw1 \n * @param {number} rh1 \n * @param {number} rx2 \n * @param {number} ry2 \n * @param {number} rw2 \n * @param {number} rh2 \n */\nexport function rectRect (rx1, ry1, rw1, rh1, rx2, ry2, rw2, rh2) {\n    return (\n        rx1 + rw1 >= rx2 && \n        rx1 <= rx2 + rw2 && \n        ry1 + rh1 >= ry2 && \n        ry1 <= ry2 + rh2 \n    )\n}\n\n/**\n * 두 사각형의 교차점 구하기 \n * \n * @param {*} rx1 \n * @param {*} ry1 \n * @param {*} rw1 \n * @param {*} rh1 \n * @param {*} rx2 \n * @param {*} ry2 \n * @param {*} rw2 \n * @param {*} rh2 \n * @returns \n */\nexport function intersectRectRect(rx1, ry1, rw1, rh1, rx2, ry2, rw2, rh2) {\n    const b1 = rectToVerties(rx1, ry1, rw1, rh1);\n    const b2 = rectToVerties(rx2, ry2, rw2, rh2);\n\n    const startPoint = [\n        Math.max(b1[0][0], b2[0][0]),\n        Math.max(b1[0][1], b2[0][1]),\n        Math.max(b1[0][2], b2[0][2]),\n    ]\n\n    const endPoint = [\n        Math.min(b1[2][0], b2[2][0]),\n        Math.min(b1[2][1], b2[2][1]),\n        Math.min(b1[2][2], b2[2][2]),\n    ]\n\n    const minX = Math.min(startPoint[0], endPoint[0])\n    const minY = Math.min(startPoint[1], endPoint[1])\n    const maxX = Math.max(startPoint[0], endPoint[0])\n    const maxY = Math.max(startPoint[1], endPoint[1])\n\n    return rectToVerties(minX, minY, maxX - minX, maxY - minY);\n}\n\n/**\n * \n * @param {number} cx \n * @param {number} cy \n * @param {number} r \n * @param {number} rx \n * @param {number} ry \n * @param {number} rw \n * @param {number} rh \n */\nexport function circleRect (cx, cy, r, rx, ry, rw, rh) {\n    let testX = cx; \n    let testY = cy; \n\n    if (cx < rx) testX = rx; \n    else if (cx > rx + rw) testX = rx + rw; \n\n    if (cy < ry) testY = ry; \n    else if (cy > ry + rh) testY = ry + rh; \n\n    const distX = cx - testX;\n    const distY = cy - testY;\n\n    return Math.hypot(distX, distY) <= r;\n    \n}\n\n/**\n * \n * 점이 line 에 속하는지 체크 \n * \n * @param {number} x1 \n * @param {number} y1 \n * @param {number} x2 \n * @param {number} y2 \n * @param {number} px \n * @param {number} py \n * @param {number} buffer \n */\nexport function linePoint (x1, y1, x2, y2, px, py, buffer = 0.1) {\n    const dist1 = Math.hypot(px - x1, py - y1)\n    const dist2 = Math.hypot(px - x2, py - y2)\n\n    const lineLength = Math.hypot(x1 - x2, y1 - y2);\n\n    const calcDist = dist1 + dist2;\n\n    return calcDist >= lineLength - buffer && calcDist <= lineLength + buffer;\n}\n\n/**\n * \n * 선과 원 체크 \n * \n * @param {number} x1 \n * @param {number} y1 \n * @param {number} x2 \n * @param {number} y2 \n * @param {number} cx \n * @param {number} cy \n * @param {number} r \n */\nexport function lineCircle (x1, y1, x2, y2, cx, cy, r) {\n\n    // 앙 옆의 점이 원 안에 있으면 true \n    if (pointCircle(x1, y1, cx, cy, r)) return true; \n    if (pointCircle(x2, y2, cx, cy, r)) return true; \n\n    const lineLength = Math.hypot(x1 - x2, y1 - y2);\n\n    const dot =  ((cx - x1) * (x2 - x1) + (cy - y1) * (y2 - y1)) / Math.pow(lineLength, 2)\n\n    const closestX = x1 + (x2 - x1)*dot;\n    const closestY = y1 + (y2 - y1)*dot;\n\n    if (linePoint(x1, y1, x2, y2, closestX, closestY) === false) {\n        return false; \n    }\n\n    // 원의 중심과 가장 가까운 점의 거리 체크 \n    return Math.hypot(closestX - cx, closestY - cy) <= r; \n}\n\n/**\n * \n * 선분에서 원의 중심에 가장 가까운 점 찾기 \n * \n * @param {number} x1 \n * @param {number} y1 \n * @param {number} x2 \n * @param {number} y2 \n * @param {number} cx \n * @param {number} cy \n * @param {number} r \n */\nexport function getClosestPointBylineCircle (x1, y1, x2, y2, cx, cy, r) {\n\n    const lineLength = Math.hypot(x1 - x2, y1 - y2);\n\n    const dot =  ((cx - x1) * (x2 - x1) + (cy - y1) * (y2 - y1)) / Math.pow(lineLength, 2)\n\n    const closestX = x1 + (x2 - x1)*dot;\n    const closestY = y1 + (y2 - y1)*dot;\n\n    return [closestX, closestY]\n}\n\n\nexport function lineLine (x1, y1, x2, y2, x3, y3, x4, y4, epsilon = 0.1) {\n\n    // 선분의 끝이 겹치는 경우는 끝점을 바로 리턴해준다. \n    if (linePoint(x1, y1, x2, y2, x3, y3)) return true;\n    else if (linePoint(x1, y1, x2, y2, x4, y4)) return true;\n    else if (linePoint(x3, y3, x4, y4, x1, y1)) return [x1, y1];\n    else if (linePoint(x3, y3, x4, y4, x2, y2)) return [x2, y2];\n\n    // 선분 끝점이 겹치지 않는 경우만 체크한다.     \n\n    let A = ((x4 - x3) * (y1 - y3) - (y4 - y3)*(x1 - x3))  / ((y4-y3) * (x2-x1) - (x4-x3) * (y2 - y1))\n    let B = ((x2 - x1) * (y1 - y3) - (y2 - y1)*(x1 - x3))  / ((y4-y3) * (x2-x1) - (x4-x3) * (y2 - y1))\n\n    return (0 <= A && A <= 1 && 0 <= B && B <= 1)\n}\n\n/**\n * \n * 두개의 선분이 겹치는 점의 위치 \n * \n * @param {number} x1 \n * @param {number} y1 \n * @param {number} x2 \n * @param {number} y2 \n * @param {number} x3 \n * @param {number} y3 \n * @param {number} x4 \n * @param {number} y4 \n * \n * @returns {number[]}\n */\nexport function getClosestPointBylineLine(x1, y1, x2, y2, x3, y3, x4, y4, epsilon = 0.001) {\n\n    // 선분의 끝이 겹치는 경우는 끝점을 바로 리턴해준다. \n    if (linePoint(x1, y1, x2, y2, x3, y3)) return [x3, y3];\n    else if (linePoint(x1, y1, x2, y2, x4, y4)) return [x4, y4];\n    else if (linePoint(x3, y3, x4, y4, x1, y1)) return [x1, y1];\n    else if (linePoint(x3, y3, x4, y4, x2, y2)) return [x2, y2];\n\n    // 선분 끝점이 겹치지 않는 경우만 체크한다. \n    let A = ((x4 - x3) * (y1 - y3) - (y4 - y3)*(x1 - x3))  / ((y4-y3) * (x2-x1) - (x4-x3) * (y2 - y1))\n    let B = ((x2 - x1) * (y1 - y3) - (y2 - y1)*(x1 - x3))  / ((y4-y3) * (x2-x1) - (x4-x3) * (y2 - y1))\n\n    if (0 <= A && A <= 1 && 0 <= B && B <= 1) {\n        return [\n            x1 + A * (x2 - x1),\n            y1 + A * (y2 - y1)\n        ]\n    }\n\n    return []\n}\n\n/**\n * \n * 선과 사각형의 겹치는 지점 체크 \n * \n * @param {number} x1 \n * @param {number} y1 \n * @param {number} x2 \n * @param {number} y2 \n * @param {number} rectX \n * @param {number} rectY \n * @param {number} width \n * @param {number} height \n */\nexport function lineRect(x1, y1, x2, y2, rectX, rectY, width, height) {\n    const left = lineLine(x1, y1, x2, y2, rectX, rectY, rectX, rectY + height);\n    const right = lineLine(x1, y1, x2, y2, rectX + width, rectY, rectX + width, rectY + height);\n    const top = lineLine(x1, y1, x2, y2, rectX, rectY, rectX + width, rectY);\n    const bottom = lineLine(x1, y1, x2, y2, rectX, rectY + height, rectX + width, rectY+height);\n\n    return left || right || top || bottom;\n}\n\n\n/**\n * \n * 선과 사각형의 겹치는 지점 리스트 \n * \n * @param {number} x1 \n * @param {number} y1 \n * @param {number} x2 \n * @param {number} y2 \n * @param {number} rectX \n * @param {number} rectY \n * @param {number} width \n * @param {number} height \n * @returns {[x, y][]}\n */\nexport function getClosestPointBylineRect(x1, y1, x2, y2, rectX, rectY, width, height) {\n    const left = getClosestPointBylineLine(x1, y1, x2, y2, rectX, rectY, rectX, rectY + height);\n    const right = getClosestPointBylineLine(x1, y1, x2, y2, rectX + width, rectY, rectX + width, rectY + height);\n    const top = getClosestPointBylineLine(x1, y1, x2, y2, rectX, rectY, rectX + width, rectY);\n    const bottom = getClosestPointBylineLine(x1, y1, x2, y2, rectX, rectY + height, rectX + width, rectY+height);\n\n    const points = []\n\n    if (left.length) points.push(left)\n    if (right.length) points.push(right)\n    if (top.length) points.push(top)\n    if (bottom.length) points.push(bottom)\n\n    return points \n}\n\n/**\n * 폴리곤에 점 비교 \n * \n * @param {vec3[]} verties \n * @param {number} px \n * @param {number} py \n */\nexport function polyPoint (verties = [], px, py) {\n    let isCollision = false; \n\n    const len = verties.length\n\n    for (let i = 0; i < len; i++) {\n        const v1 = verties[i];\n        const v2 = verties[(i + 1) % len];\n\n        if (linePoint(v1[0], v1[1], v2[0], v2[1], px, py)) {\n            isCollision = true;\n            break;\n        }\n    }\n\n    if (isCollision) return true;\n\n    verties.forEach((vector, index) => {\n        const [cx, cy] = vector; \n        const [nx, ny] = verties[(index+1)%len];\n\n        if (\n            ((cy >= py && ny < py) || (cy < py && ny >= py)) && \n            ( px  < ((nx - cx) * (py - cy) / (ny - cy)) + cx   )\n        ) {\n            isCollision = !isCollision            \n        }\n\n    })\n\n    return isCollision;\n}\n\nexport function polyCircle(verties = [], cx, cy, r) {\n\n    const len = verties.length\n    const isCollision = verties.some((vector, index) => {\n        const [currentX, currentY] = vector; \n        const [nextX, nextY] = verties[(index+1)%len];\n\n        const collision = lineCircle(currentX, currentY, nextX, nextY, cx, cy, r);\n        if (collision) return true; \n\n        return false; \n    })\n\n    if (isCollision) return true; \n\n    if (polyPoint(verties, cx, cy)) {\n        return true; \n    }\n\n    return false;\n}\n\nexport function polyRect (verties = [], rectX, rectY, rectWidth, rectHeight) {\n    const len = verties.length\n    return verties.some((vector, index) => {\n        const [currentX, currentY] = vector; \n        const [nextX, nextY] = verties[(index+1)%len];\n\n        const collision = lineRect(currentX, currentY, nextX, nextY, rectX, rectY, rectWidth, rectHeight);\n        if (collision) return true; \n\n        const inside = polyPoint(verties, rectX, rectY);\n        if (inside) return true; \n\n        return false; \n    })\n}\n\nexport function polyLine(verties = [], x1, y1, x2, y2) {\n    const len = verties.length\n    return verties.some((vector, index) => {\n        const [x3, y3] = vector; \n        const [x4, y4] = verties[(index+1)%len];\n\n        return lineLine(x1, y1, x2, y2, x3, y3, x4, y4);\n    })\n}\n\nexport function getClosestPointByPolyLine(verties = [], x1, y1, x2, y2) {\n    const pointList = []\n    const len = verties.length\n    verties.forEach((vector, index) => {\n        const [x3, y3] = vector; \n        const [x4, y4] = verties[(index+1)%len];\n\n        const point = getClosestPointBylineLine(x1, y1, x2, y2, x3, y3, x4, y4);\n        if (point.length) {\n            pointList.push(point);\n        }\n\n    })\n\n    return pointList; \n}\n\n/**\n * polygon 끼리 충돌 비교 \n * \n * \n * @param {[x,y][]} verties \n * @param {[x,y][]} targetVerties \n */\nexport function polyPoly (verties = [], targetVerties = []) {\n    const len = verties.length\n    return verties.some((vector, index) => {\n        const [x1, y1] = vector; \n        const [x2, y2] = verties[(index+1)%len];\n\n        let collision = polyLine(targetVerties, x1, y1, x2, y2)\n        if (collision) return true; \n\n        \n        collision = polyPoint(verties, targetVerties[0][0], targetVerties[0][1])\n        if (collision) return true; \n\n        return false; \n    })\n}\n\n/**\n * sourceVerteis 가 targetVerties 에 모두 속하는지 확인\n * \n * @param {vec3[]} sourceVerties\n * @param {vec3[]} targetVerties\n */ \nexport function polyInPoly(sourceVerties = [], targetVerties = []) {\n    return sourceVerties.every((vector) => {\n        return polyPoint(targetVerties, vector[0], vector[1])\n    })\n}\n\nexport function rectToVerties (x, y, width, height, origin = '50% 50% 0px') {\n\n    const center = TransformOrigin.scale( origin,  width,  height );\n\n    return [\n        [x, y, 0],  // top , left \n        [x + width, y, 0],  // top , right \n        [x + width, y + height, 0], // bottom , right \n        [x, y + height, 0], // bottom , left\n        [x + center[0], y + center[1], 0],  // transform origin \n    ]\n}\n\nexport function getRotatePointer(verties, dist = 0) {\n    const topPointer = vec3.lerp([], verties[0], verties[1], 0.5);\n    const bottomPointer = vec3.lerp([], verties[2], verties[3], 0.5);\n    const rotatePointer = getPointBetweenVerties(bottomPointer, topPointer, dist)\n    \n    return rotatePointer;\n}\n\nexport function rectToVertiesForArea (x, y, width, height) {\n    return rectToVerties(x, y, width, height);\n}\n\nexport function itemsToRectVerties (items = []) {\n    let minX = Number.MAX_SAFE_INTEGER;\n    let minY = Number.MAX_SAFE_INTEGER;\n    let maxX = Number.MIN_SAFE_INTEGER;\n    let maxY = Number.MIN_SAFE_INTEGER;\n\n    const xList = [];\n    const yList = [];\n\n    items.forEach(item => {\n        item.originVerties.forEach(vector => {\n            xList.push(vector[0]);\n            yList.push(vector[1])\n        });\n    })\n\n    minX = Math.min.apply(Math, xList);\n    maxX = Math.max.apply(Math, xList);\n    minY = Math.min.apply(Math, yList);\n    maxY = Math.max.apply(Math, yList);\n\n    if (minX === Number.MAX_SAFE_INTEGER) minX = 0;\n    if (minY === Number.MAX_SAFE_INTEGER) minY = 0;\n    if (maxX === Number.MIN_SAFE_INTEGER) maxX = 0;\n    if (maxY === Number.MIN_SAFE_INTEGER) maxY = 0;   \n    \n    return rectToVerties(minX, minY, maxX - minX, maxY - minY);\n}\n\n/**\n * verties -> rect\n * \n * @param {vec3[]} verties \n * @param {boolean} [hasLength=true] \n * @returns \n */\nexport function vertiesToRectangle (verties, hasLength = true) {\n\n    if (hasLength) {\n        const x = Length.px(verties[0][0]).floor();\n        const y = Length.px(verties[0][1]).floor();\n        const width = Length.px(vec3.dist(verties[0], verties[1])).floor();\n        const height = Length.px(vec3.dist(verties[0], verties[3])).floor();\n    \n        return {x, left: x, y, top: y, width, height}\n    } else {\n        const x = verties[0][0];\n        const y = verties[0][1];\n        const width = vec3.dist(verties[0], verties[1]);\n        const height = vec3.dist(verties[0], verties[3]);\n    \n        return {x, left: x, y, top: y, width, height}        \n    }\n}\n\nexport function toRectVertiesWithoutTransformOrigin (verties) {\n    return toRectVerties(verties).filter((it, index) => {\n        return index < 4;\n    })\n}\n\nexport function toRectVerties(verties) {\n    let minX = Number.MAX_SAFE_INTEGER;\n    let minY = Number.MAX_SAFE_INTEGER;\n    let maxX = Number.MIN_SAFE_INTEGER;\n    let maxY = Number.MIN_SAFE_INTEGER;\n\n    const xList = [];\n    const yList = [];\n\n    \n    verties.forEach(vector => {\n        xList.push(vector[0]);\n        yList.push(vector[1])\n    });\n\n    minX = Math.min.apply(Math, xList);\n    maxX = Math.max.apply(Math, xList);\n    minY = Math.min.apply(Math, yList);\n    maxY = Math.max.apply(Math, yList);\n\n    if (minX === Number.MAX_SAFE_INTEGER) minX = 0;\n    if (minY === Number.MAX_SAFE_INTEGER) minY = 0;\n    if (maxX === Number.MIN_SAFE_INTEGER) maxX = 0;\n    if (maxY === Number.MIN_SAFE_INTEGER) maxY = 0;    \n\n    return rectToVerties(minX, minY, maxX - minX, maxY - minY);\n}","import { isNotUndefined, isNumber, isString,isFunction } from \"el/sapa/functions/func\";\n\nexport function second (fps, timecode) {\n\n    if (isString(timecode)) {\n        var [hour, minute, second, frame] = timecode.split(':');\n\n        hour = parseInt(hour, 10);\n        minute = parseInt(minute, 10);\n        second = parseInt(second, 10);\n        frame = parseInt(frame, 10);\n\n        return hour * 3600 \n             + minute * 60 \n             + second \n             + frame * (1/fps);\n    } else if ( isNumber(timecode)) {\n        return timecode / fps;\n    }\n\n    return 0 \n}\n\nexport function frames (fps, time) {\n    return time * fps; \n}\n\nexport function timecode(fps, seconds) {\n    var h = Math.floor(seconds / 3600)\n    var m = Math.floor(seconds/60 % 60);\n    var s = Math.floor(seconds % 60);\n    var f = Math.round( (seconds - Math.floor(seconds)) * fps );\n\n    if (f === fps) {\n        f = 0;\n        s += 1; \n        if (s === 60) {\n            m += 1; \n\n            if (m === 60) {\n                h += 1; \n            }\n        }\n    }\n\n    return [h, m, s, f].map(t => {\n        return (t + '').padStart(2, '0')\n    }).join(':')\n}\n\nexport function timecodeToFrames(fps, timecode, start = null) {\n    return frames(fps, second(fps, timecode) - second(fps, start))\n}\n\nexport function framesToTimecode(fps, frames, start = null) {\n    return timecode(fps, second(fps, frames) - second(fps, start));\n}\n\n/**\n * make a timer for timeline animation \n * \n * @param {*} opt \n */\nexport function makeTimer (opt) {\n\n    var timer = {\n        id: 0,\n        start: 0, \n        speed: opt.speed || 1, \n        elapsed: opt.elapsed || 0,\n        duration: opt.duration || 0,\n        iterationStartCount: 1,\n        iterationCount: opt.iterationCount || Number.MAX_SAFE_INTEGER,\n        direction: opt.direction || 'normal',\n        log: [],\n        logIndex: 0,\n        tick: opt.tick || (() => {}),\n        startCallback: opt.start || (() => {}),\n        endCallback: opt.end || (() => {}),\n        firstCallback: opt.first || (() => {}) ,\n        lastCallback: opt.last || (() => {})\n    }\n\n    const isForward = () => {\n        if (timer.direction === 'normal') {\n            return true\n        } else if (timer.direction === 'reverse') {\n            return false\n        } else if (timer.direction === 'alternate') {\n            return timer.iterationStartCount % 2 === 1\n        } else if (timer.direction === 'alternate-reverse') {\n            return timer.iterationStartCount % 2 === 0\n        }\n    }\n\n\n    const calculateForDirection = (rate) => {\n        return isForward() ? rate : 1 - rate; \n    }\n\n    const tick = (now) => {\n\n        var isStart = false; \n        if (timer.start === null) {\n            timer.start = now; \n            // timer.elapsed = 0; \n            isStart = true; \n        }\n\n        const dt = now - timer.start;\n\n        timer.elapsed += dt * timer.speed;\n\n        timer.start = now; \n\n        if (timer.elapsed > timer.duration) {\n            timer.elapsed = timer.duration;\n        }\n\n        // console.log(timer.elapsed, dt, timer.speed)\n        \n        var elapsed = calculateForDirection(timer.elapsed/timer.duration) * timer.duration;\n        if (isStart) timer.startCallback(elapsed, timer);\n        timer.log[timer.logIndex++] = {elapsed, dt: timer.lastTime - elapsed};\n        timer.lastTime = elapsed;\n        timer.tick (elapsed, timer);\n\n        if (timer.elapsed === timer.duration) {\n            end();\n        } else {\n            frameStart();\n        }\n    }\n\n    const frameStart = () => {\n        timer.id = requestAnimationFrame(tick);\n    }\n\n    const end = () => {\n        timer.endCallback(timer.elapsed, timer);\n        timer.iterationStartCount++;\n\n        if (timer.iterationStartCount > timer.iterationCount) {\n            timer.lastCallback(timer.elapsed, timer);\n            cancelAnimationFrame(timer.id);\n        } else {\n           // 멈추지 않은 상태면 \n           timer.start = null;\n           timer.elapsed = 0; \n           frameStart();\n        }\n    }\n\n    const play = (opt = {}) => {\n        timer.start = null;    \n        timer.iterationStartCount = 1;\n        timer.log = [] \n        timer.lastTime = 0; \n        timer.logIndex = 0;\n\n        if (isNumber(opt.elapsed)) timer.elapsed = opt.elapsed;\n        if (isNumber(opt.speed)) timer.speed = opt.speed;\n        if (isNumber(opt.duration)) timer.duration = opt.duration;\n        if (isNumber(opt.iterationCount)) timer.iterationCount = opt.iterationCount  || Number.MAX_SAFE_INTEGER;\n        if (isString(opt.direction)) timer.direction = opt.direction\n        if (isFunction(opt.tick)) timer.tick = opt.tick;\n        if (isFunction(opt.start)) timer.startCallback = opt.start;\n        if (isFunction(opt.end)) timer.endCallback = opt.end;\n        if (isFunction(opt.first)) timer.firstCallback = opt.first;\n        if (isFunction(opt.last)) timer.lastCallback = opt.last;\n        if (isFunction(opt.stop)) timer.stopCallback = opt.stop;\n\n        timer.firstCallback(timer.elapsed, timer);\n        frameStart();\n    }\n\n\n    const stop = () => {\n        timer.stopCallback(timer.elapsed, timer);\n        cancelAnimationFrame(timer.id);\n    }\n\n    const seek = (t) => {\n        timer.elapsed = t\n        timer.tick (timer.elapsed, timer);\n    }\n\n    const first = (t) => {\n        seek(0);\n    }    \n\n    const last = (t) => {\n        seek(timer.duration)\n    }\n\n    return {\n        play, \n        stop,\n        tick,\n        first,\n        last,\n        seek,\n        timer\n    }\n}\n\n\n// var timer = makeTimer({\n//     duration: 1000,\n//     iterationCount: 3,\n//     direction: 'alternate',\n//     first: (elapsed, timer) => {\n//         console.log('first', elapsed, timer);\n//     },\n//     last: (elapsed, timer) => {\n//         console.log('last', elapsed, timer);\n//     },\n//     start: (elapsed, timer) => {\n//         console.log('start', elapsed, timer);\n//     },\n//     end : (elapsed, timer) => {\n//         console.log('end', elapsed, timer);\n//     },\n//     tick: (elapsed, timer) => {\n        \n//         console.log('tick', timecode(60, elapsed / 1000), elapsed, timer.iterationStartCount)\n//     }\n// })\n\n// timer.start();\n\n\n// setTimeout( () => {\n//     timer.start();\n// }, 1000)\n\n/* \n\nmakeTimer({\n    duration:  ,\n    tick: (elapsed, timer) => {\n\n    }\n})\n\ntimer.start({ elapsed: 10, speed : 0.5, duration : 10 * 1000 })\n\n*/","import { vec3 } from \"gl-matrix\";\nimport { getClosestPointBylineLine } from \"./collision\";\nimport { getDist } from \"./math\";\n\nexport const predefinedBezier = {\n    'linear': true,\n    'ease': true,\n    'ease-in': true,\n    'ease-out': true,\n    'ease-in-out': true \n}\n\nexport const bezierObj = {\n    \"ease\" : \"cubic-bezier(0.25, 0.1, 0.25, 1)\",\n    \"ease-in\" : \"cubic-bezier(0.42, 0, 1, 1)\",\n    \"ease-out\" : \"cubic-bezier(0, 0, 0.58, 1)\"\n};\n\nexport const bezierList = [\n    [ 0, 0, 1, 1, 'linear', true],\n    [ 0.25, 0.1, 0.25, 1, 'ease', true],\n    [ 0.42, 0, 1, 1, 'ease-in', true],\n    [ 0, 0, 0.58, 1, 'ease-out', true],\n    [  0.47, 0, 0.745, 0.715,  'ease-in-sine'],\n    [  0.39, 0.575, 0.565, 1,  'ease-out-sine'],\n    [  0.445, 0.05, 0.55, 0.95,  'ease-in-out-sine'],\n    [  0.55, 0.085, 0.68, 0.53,  'ease-in-quad'],\n    [  0.25, 0.46, 0.45, 0.94,  'ease-out-quad'],\n    [  0.455, 0.03, 0.515, 0.955,  'ease-in-out-quad'],\n    [ 0.55, 0.055, 0.675, 0.19, 'ease-in-cubic'],\n    [ 0.215, 0.61, 0.355, 1, 'ease-out-cubic'],\n    [ 0.645, 0.045, 0.355, 1, 'ease-in-out-cubic'],\n    [ 0.895, 0.03, 0.685, 0.22, 'ease-in-quart'],\n    [ 0.165, 0.84, 0.44, 1, 'ease-out-quart'],\n    [ 0.77, 0, 0.175, 1, 'ease-in-out-quart'],\n    [0.6, 0.04, 0.98, 0.335, 'ease-in-circ'],\n    [0.075, 0.82, 0.165, 1, 'ease-out-circ'], \n    [0.785,0.135,0.15,0.86, 'ease-in-out-circ'],\n    [0.95,0.05,0.795,0.035, 'ease-in-expo'],\n    [0.19,1,0.22,1, 'ease-out-expo'],\n    [1,0,0,1, 'ease-in-out-expo'],\n    [0.755,0.05,0.855,0.06, 'ease-in-quint'],\n    [0.23,1,0.32,1, 'ease-out-quint'],\n    [0.86,0,0.07,1, 'ease-in-out-quint'],\n    [0.6,-0.28,0.735,0.045, 'ease-in-back'],\n    [0.175, 0.885,0.32,1.275, 'ease-out-back'],\n    [0.68,-0.55,0.265,1.55, 'ease-in-out-back']\n\n];\n\n\nexport const getPredefinedCubicBezier = (str) => {\n    return [...parseCubicBezier(bezierObj[str] || str)]\n}\n\nexport const formatCubicBezier = (arr) => {\n    arr = arr.map(it => Math.floor(it * 100)/100 )\n\n    for(var i = 0, len  = bezierList.length; i < len; i++) {\n        var bezier = bezierList[i];\n\n        if (bezier[0] == arr[0] && bezier[1] == arr[1] && bezier[2] == arr[2] && bezier[3] == arr[3] && bezier[5] /* is support css timing function name */) {\n            return bezier[4]; // timing function name\n        }\n    }\n\n    return `cubic-bezier( ${arr.filter((_, index) => index < 4).join(',')} )`;\n}\n\nexport const parseCubicBezier = (str) => {\n    if (typeof str == 'string') {\n\n        if (predefinedBezier[str]) {\n            return bezierList.filter(it => it[4] === str)[0]\n        } else {\n            var arr = str.replace(\"cubic-bezier\", \"\").replace(\"(\", \"\").replace(\")\", \"\").split(\",\");\n            arr = arr.map(it => parseFloat(it.trim()))\n            return arr;\n        }\n    }\n\n    return str;\n}\n\nexport const calc = {\n    B1 : function (t) { return t*t*t },\n    B2 : function (t) { return 3*t*t*(1-t) },\n    B3 : function (t) { return 3*t*(1-t)*(1-t) },\n    B4 : function (t) { return (1-t)*(1-t)*(1-t) }\n}\n\nexport const createBezier = (C1, C2, C3, C4) => {\n    var points = [C1, C2, C3, C4]\n    return function (t) {\n        return getBezierPointOne(points, t);\n    }\n}\n\nexport const createBezierQuard = (C1, C2, C3) => {\n    var points = [C1, C2, C3]\n    return function (t) {\n        return getBezierPointOneQuard(points, t);\n    }\n}\n\nexport const createBezierLine = (C1, C2) => {\n    var points = [C1, C2]\n    return function (t) {\n        return getBezierPointOneLine(points, t);\n    }\n}\n\nconst checkDist = (obj, curve, t, x, y) => {\n    var p = curve(t) \n    var dist = getDist(x, y, p.x, p.y);\n\n    if (dist < obj.minDist) {\n        obj.minDist = dist; \n        obj.minT = t; \n    }        \n}\n\nexport const getPolygonalDist = (points = []) => {\n    let total = 0;\n    let len = points.length;\n\n    points.forEach((point, index) => {\n        var next = points[(index + 1)]\n\n        if (!next) {\n            return;\n        }\n\n        var dist = vec3.dist(vec3.fromValues(point.x, point.y, 0), vec3.fromValues(next.x, next.y, 0));\n        total += dist;\n    })\n\n    return total;\n}\n\nexport const getCurveDist = (sx, sy, cx1, cy1, cx2, cy2, ex, ey, count = 1000) => {\n    var curve = createBezier(\n        {x: sx, y: sy},\n        {x: cx1, y: cy1},\n        {x: cx2, y: cy2},\n        {x: ex, y: ey}\n    )\n\n    var total = 0\n    var startPoint = curve(0); \n    for(var i = 0; i <= count; i++) {\n        var t = i/count\n        var xy = curve(t)\n\n        total += getDist(startPoint.x, startPoint.y, xy.x, xy.y)\n        startPoint = xy; \n    }\n\n    return total; \n}\n\n\nexport const getQuardDist = (sx, sy, cx1, cy1, ex, ey, count = 1000) => {\n    var curve = createBezierQuard(\n        {x: sx, y: sy},\n        {x: cx1, y: cy1},\n        {x: ex, y: ey}\n    )\n\n    var total = 0\n    var startPoint = curve(0); \n    for(var i = 0; i <= count; i++) {\n        var t = i/count\n        var xy = curve(t)\n\n        total += getDist(startPoint.x, startPoint.y, xy.x, xy.y)\n        startPoint = xy; \n    }\n\n    return total; \n}\n\n\nconst makeCurveFunction = (curve, count = 10) => {\n    var obj = {\n        minDist: Infinity,\n        minT: 0\n    }\n    return function (x, y) {\n\n        for(var i = 0; i <= count; i++) {\n            checkDist(obj, curve, i/count, x, y);\n        }\n\n        var step = 1 / (count * 2)\n        var t = obj.minT\n        for(var i = 0; i < count; i++) {\n            checkDist(obj, curve, Math.max(0, t - step), x, y);\n            checkDist(obj, curve, Math.min(1, t + step), x, y);\n            step /= 2;             \n        }\n\n        return obj.minT;\n    }\n}\n\nexport const recoverBezier = (C1, C2, C3, C4, count = 20) => {\n    return makeCurveFunction(createBezier(C1, C2, C3, C4), count)\n}\n\nexport const recoverBezierQuard = (C1, C2, C3, count = 20) => {\n    return makeCurveFunction(createBezierQuard(C1, C2, C3), count)\n}\n\nexport const recoverBezierLine = (C1, C2, count = 20) => {\n    return makeCurveFunction(createBezierLine(C1, C2), count)    \n}\n\nexport const createBezierForPattern = (bezierString) => {\n\n\n    if (bezierString === 'linear') {\n        var C1 = { x : 0, y : 0 };\n        var C2 = { x : 1, y : 1 };        \n        return createBezierLine(C1, C2)\n    }\n\n    var bezierList = parseCubicBezier(bezierString);\n\n    var C1 = { x : 0, y : 0 };\n    var C2 = { x : bezierList[0], y : bezierList[1] };\n    var C3 = { x : bezierList[2], y : bezierList[3] };\n    var C4 = { x : 1, y : 1 };\n\n    return createBezier(C1, C2, C3, C4);\n\n}\n\nconst interpolate = (p1, p2, t) => {\n    return {\n        x: p1.x + (p2.x - p1.x) * t,\n        y: p1.y + (p2.y - p1.y) * t \n    }\n}\n\nexport const getBezierPointOne = (points, t) => {\n\n    var p0 = interpolate(points[0], points[1], t);\n    var p1 = interpolate(points[1], points[2], t);\n    var p2 = interpolate(points[2], points[3], t);\n    var p3 = interpolate(p0, p1, t);\n    var p4 = interpolate(p1, p2, t);\n\n    return interpolate(p3, p4, t);\n}\n\nexport const getBezierPointOneQuard = (points, t) => {\n\n    var p0 = interpolate(points[0], points[1], t);\n    var p1 = interpolate(points[1], points[2], t);\n    return interpolate(p0, p1, t);\n}\n\nexport const getBezierPointOneLine = (points, t) => {\n\n    return interpolate(points[0], points[1], t);\n}\n\nexport const getBezierPoints = (points, t) => {\n    var p0 = interpolate(points[0], points[1], t);\n    var p1 = interpolate(points[1], points[2], t);\n    var p2 = interpolate(points[2], points[3], t);\n    var p3 = interpolate(p0, p1, t);\n    var p4 = interpolate(p1, p2, t);\n    var p5 = interpolate(p3, p4, t);\n\n    return {\n        first: [ points[0], p0, p3, p5 ],\n        second: [ p5, p4, p2, points[3] ]\n    }\n}\n\nexport const getBezierPointsQuard = (points, t) => {\n\n    var p0 = interpolate(points[0], points[1], t);\n    var p1 = interpolate(points[1], points[2], t);\n    var p2 = interpolate(p0, p1, t);\n\n    return {\n        first: [ points[0], p0, p2 ],\n        second: [ p2, p1, points[2] ]\n    }\n}\n\nexport const splitBezierPointsByCount = (points, count = 1) => {\n    var result = []\n\n    while(count > 0) {\n        const curve = getBezierPoints(points, 1/count);\n        result.push(curve.first)\n        points = curve.second;\n        count--;\n    }\n\n    return result;\n}\n\nexport const splitBezierPointsQuardByCount = (points, count = 1) => {\n    var result = []\n\n    while(count > 0) {\n        const curve = getBezierPointsQuard(points, 1/count);\n        result.push(curve.first)\n        points = curve.second;\n        count--;\n    }\n\n    return result;\n}\n\nexport const splitBezierPointsLineByCount = (points, count = 1) => {\n    var result = []\n\n    while(count > 0) {\n        const curve = getBezierPointsLine(points, 1/count);\n        result.push(curve.first)\n        points = curve.second;\n        count--;\n    }\n\n    return result;\n}\n\n\nexport const getBezierPointsLine = (points, t) => {\n\n    var p0 = interpolate(points[0], points[1], t);\n\n    return {\n        first: [ points[0], p0 ],\n        second: [ p0, points[1] ]\n    }\n}\n\n/**\n * convert line to bezier curve\n * \n * @param {vec3[]} points \n * @returns \n */\nexport const normalizeCurveForLine = (points) => {\n\n    return [\n        vec3.clone(points[0]),\n        [ \n            points[0][0] + (points[1][0] - points[0][0]) * 0.33,\n            points[0][1] + (points[1][1] - points[0][1]) * 0.33,\n            0,\n        ],\n        [\n            points[0][0] + (points[1][0] - points[0][0]) * 0.66,\n            points[0][1] + (points[1][1] - points[0][1]) * 0.66,\n            0\n        ],\n        vec3.clone(points[1]),\n    ]\n}\n\n/**\n * convert quadratic bezier curve to bezier curve\n * \n * @param {vec3[]} points \n * @returns \n */\nexport const normalizeCurveForQuard = (points) => {\n    const twoOfThree = 2 / 3;\n\n    return [\n        vec3.clone(points[0]),\n\n        vec3.fromValues(\n            // C1 = Q0 + (2/3) (Q1 - Q0)\n            points[0][0] + twoOfThree * (points[1][0] - points[0][0]),\n            points[0][1] + twoOfThree * (points[1][1] - points[0][1]),\n            0,\n        ),\n\n        vec3.fromValues(\n            // C2 = Q2 + (2/3) (Q1 - Q2)\n            points[2][0] + twoOfThree * (points[1][0] - points[2][0]),\n            points[2][1] + twoOfThree * (points[1][1] - points[2][1]),\n            0,\n        ),\n\n        vec3.clone(points[2]),\n    ]\n}\n\n/**\n * curve 의 length 를 기반으로 polygon 을 만든다. \n * \n * 샘플링을 10개부터 시작해서 길이의 차이가 0.25보다 작아질 때까지 계속 샘플링을 증가시킨다.\n * \n * @param {vec3} c1 \n * @param {vec3} c2 \n * @param {vec3} c3 \n * @param {vec3} c4 \n * @param {number} count \n * @returns \n */\nexport const polygonalForCurve = (c1, c2, c3, c4, count = 1000) => {\n    const totalLength = getCurveDist(c1[0], c1[1], c2[0], c2[1], c3[0], c3[1], c4[0], c4[1], count);\n\n    let samplingCount = 10;\n    let samplingStep = totalLength / samplingCount;\n    let lastLength = 0;\n    let points = [];\n\n    const bezierPoints = [c1, c2, c3, c4].map(point => ({x: point[0], y: point[1]}))\n\n    do {\n        points = [];\n        let currentLength = 0;\n    \n        for(let i = 0; i <= samplingCount; i++) {\n            const nextPoint = getBezierPointOne(bezierPoints, currentLength / totalLength);\n            points.push(nextPoint);\n            currentLength += samplingStep;\n        }\n    \n        lastLength = getPolygonalDist(points);\n\n        samplingCount += samplingCount * (totalLength - lastLength) / totalLength;\n        samplingStep = totalLength / samplingCount;\n\n    } while (totalLength - lastLength > 0.25);\n\n    return points.map(point => vec3.fromValues(point.x, point.y, 0));\n\n}\n\n\nexport const calculateA = (points) => {\n    // a = 3 * (-p0 + 3*p1 - 3*p2 + p3)\n    const a1 = vec3.negate([], points[0]);\n    const a2 = vec3.multiply([], [3, 3, 3], points[1])\n    const a3 = vec3.multiply([], [-3, -3, -3], points[2])\n    const a4 = points[3]\n\n    const newP = vec3.add(\n        [],\n        vec3.add([], a1, a2),\n        vec3.add([], a3, a4),\n    )\n        \n    return vec3.multiply([], [3, 3, 3], newP) \n}\n\nexport const calculateB = (points) => {\n    // b = 6 * (p0 - 2*p1 + p2);\n    const b1 = points[0]\n    const b2 = vec3.multiply([], [-2, -2, -2], points[1])\n    const b3 = points[2]\n\n    const newP = vec3.add([],vec3.add([], b1, b2), b3)\n        \n    return vec3.multiply([], [6, 6, 6], newP)     \n}\n\nexport const calculateC = (points) => {\n    // c = 3 * (p1 - p0);\n    const newP = vec3.add(\n        [],\n        points[1], \n        vec3.negate([], points[0])\n    )\n\n    return vec3.multiply([], [3, 3, 3], newP)         \n}\n\n\nexport const findRootForCurve = (points) => {\n    // Vector2 a = 3 * (-p0 + 3*p1 - 3*p2 + p3);\n    // Vector2 b = 6 * (p0 - 2*p1 + p2);\n    //Vector2 c = 3 * (p1 - p0);\n\n    const a = calculateA(points);\n    const b = calculateB(points);\n    const c = calculateC(points);\n\n    const roots = []\n\n    // x \n    const distX = b[0] * b[0] - 4 * a[0] * c[0];\n    if (distX < 0) {\n        // NOOP\n    } else if (distX === 0) {\n        let rootX = (-b[0]) / (2 * a[0])\n        if (isNaN(rootX)) rootX = 0;\n\n        if (0 <= rootX && rootX <= 1) {\n            roots.push(rootX);\n        }\n    } else if (distX > 0) {\n        const rootX1 = (-b[0] + Math.sqrt(distX)) / (2 * a[0]);\n        const rootX2 = (-b[0] - Math.sqrt(distX)) / (2 * a[0]);\n\n        if (0 <= rootX1 && rootX1 <= 1) {\n            roots.push(rootX1);\n        }\n\n        if (0 <= rootX2 && rootX2 <= 1) {\n            roots.push(rootX2);\n        }\n\n    }\n    \n    // y \n    const distY = b[1] * b[1] - 4 * a[1] * c[1];\n\n    if (distY < 0) {\n        // NOOP\n    } else if (distY === 0) {\n        let rootY = (-b[1]) / (2 * a[1])\n        if (isNaN(rootY)) rootY = 0;\n\n        if (0 <= rootY && rootY <= 1) {\n            roots.push(rootY);\n        }\n    } else if (distY > 0) {\n        const rootY1 = (-b[1] + Math.sqrt(distY)) / (2 * a[1]);\n        const rootY2 = (-b[1] - Math.sqrt(distY)) / (2 * a[1]);\n\n        if (0 <= rootY1 && rootY1 <= 1) {\n            roots.push(rootY1);       \n        }\n\n        if (0 <= rootY2 && rootY2 <= 1) {\n            roots.push(rootY2);       \n        }        \n    }\n\n    return roots; \n}\n\n/**\n * get bezier curve bounding box \n * 벡터 배열 넘기기 \n * \n * @param {vec3[]} points \n */\nexport const getCurveBBox = (points) => {\n    const roots = findRootForCurve(points);\n\n    const xyPoints = points.map(p => {\n        return {x: p[0], y: p[1]}\n    })\n\n    // root 에 t = 0, 1 을 항상 넣어준다. \n    roots.push(0, 1);\n\n    return roots.map(t => {\n        const {x, y} = getBezierPointOne(xyPoints, t);\n        return [x, y, 0]\n    })\n}\n\nexport const getQuardCurveBBox = (points) => {\n    const roots = findRootForQuardCurve(points);\n\n    const xyPoints = points.map(p => {\n        return {x: p[0], y: p[1]}\n    })\n\n    return roots.map(t => {\n        const {x, y} = getBezierPointOneQuard(xyPoints, t);\n        return [x, y, 0]\n    })\n}\n\n\n/**\n * \n * @typedef Point\n * @type {object}\n * \n * @property {number} x\n * @property {number} y\n */\n\n/**\n * \n * @typedef Curve\n * @type {Point[]}\n */\n\n/**\n * direction (top -> right -> bottom -> left)\n * \n * @param {Curve[]} bezierCurveList \n * @param {*} tList \n */\nexport const getPointInCurveList = (bezierCurveList = [], tList= []) => {\n    const results = bezierCurveList.map((curve, index) => {\n        const t = tList[index];\n\n        const resultPoint = getBezierPointOne(curve, t);\n\n        return resultPoint;\n    })\n\n\n    const v1 = [\n        results[0],\n        results[2],\n    ]\n\n    const v2 = [\n        results[1],\n        results[3],\n    ]\n\n    return getClosestPointBylineLine(\n        v1[0].x,\n        v1[0].y,\n        v1[1].x,\n        v1[1].y,\n        v2[0].x,\n        v2[0].y,\n        v2[1].x,\n        v2[1].y,\n    )\n\n}","export function makeInterpolateNumber(layer, property, startNumber, endNumber, unit = undefined) {\n\n    return (rate, t) => {\n\n        var result = 0;\n        if (t === 0) {\n            result = startNumber;\n        } else if (t === 1) {\n            result = endNumber;\n        } else {\n            result = startNumber + (endNumber - startNumber) * rate\n        }\n\n        if (unit) {\n            return result + unit; \n        }\n\n        return result; \n    }\n}\n","\nexport function makeInterpolateIdentity (layer, property, value) {\n    return (ratio, t) => {\n        return value;\n    } \n}\n ","import { Length } from \"el/editor/unit/Length\";\nimport { makeInterpolateNumber } from \"./makeInterpolateNumber\";\nimport { makeInterpolateIdentity } from \"./makeInterpolateIdentity\";\n\nfunction getRealAttributeValue (layer, property, value, refType = 'width', refElement = 'parent') {\n\n    var refObject = null\n    if (refElement === 'parent') {\n        refObject = layer[refElement][refType];\n    } else if (refElement === 'self') {\n        refObject = layer[refType];\n    } \n\n    if (refObject) {\n        return value.toPx(refObject.value)\n    }\n\n    return value; \n}\n\n\nfunction rollbackRealAttributeValue (layer, property, value, unit, refType = 'width', refElement = 'parent') {\n\n    var refObject = null\n    if (refElement === 'parent') {\n        refObject = layer[refElement][refType];\n    } else if (refElement === 'self') {\n        refObject = layer[refType];\n    }\n\n    if (refObject) {\n        return value.to(unit, refObject.value)\n    }\n\n    return value; \n}\n\nexport function makeInterpolateLength(layer, property, startNumber, endNumber, refType = 'width', refElement = 'parent') {\n    var s = Length.parse(startNumber);\n    var e = Length.parse(endNumber);\n\n\n    if (s.unit === e.unit) {\n        return makeInterpolateNumber(layer, property, s.value, e.value, s.unit);\n    } else if (s.equals(e)) {\n        return makeInterpolateIdentity(layer, property, s);\n    }    \n\n    return (rate, t) => {\n\n        var realStartValue = getRealAttributeValue(layer, property, s, refType, refElement);\n        var realEndValue = getRealAttributeValue(layer, property, e, refType, refElement);\n\n        if (t === 0) {\n            return realStartValue;\n        } else if (t === 1) {\n            return realEndValue;\n        }\n\n\n        return rollbackRealAttributeValue(\n            layer, \n            property, \n            Length.px(realStartValue.value + (realEndValue.value - realStartValue.value) * rate), \n            s.unit, \n            refType,\n            refElement\n        );\n    }\n}\n","import { Length } from \"el/editor/unit/Length\";\n\nexport default class BorderRadius {\n    static parseStyle (str = '') {\n        \n        var obj = {\n            isAll: true,\n            'border-radius': Length.z(),\n            'border-top-left-radius': Length.z(),\n            'border-top-right-radius': Length.z(),\n            'border-bottom-right-radius': Length.z(),\n            'border-bottom-left-radius': Length.z()\n        }\n\n        var temp = {} \n        var arr = str.split(' ').filter(it => Length.parse(it))\n\n        if (arr.length === 1) {\n            obj.isAll = true; \n            obj['border-radius'] = arr[0]\n        } else {\n            obj.isAll = false; \n            obj['border-top-left-radius'] = arr[0];\n            obj['border-top-right-radius'] = arr[1];\n            obj['border-bottom-right-radius'] = arr[2];\n            obj['border-bottom-left-radius'] = arr[3];\n        }\n\n        return obj; \n    }\n}","import { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { STRING_TO_CSS, CSS_TO_STRING } from \"el/sapa/functions/func\";\nimport BorderRadius from \"../../property-parser/BorderRadius\";\nimport { Length } from \"el/editor/unit/Length\";\n\nconst getBorderRadiusList = (radiusValue) => {\n    var startObject = [] \n    if (radiusValue.isAll) {\n        startObject = [\n            radiusValue['border-radius'] || '0px', \n            radiusValue['border-radius'] || '0px', \n            radiusValue['border-radius'] || '0px', \n            radiusValue['border-radius'] || '0px'\n        ]\n    } else {\n        startObject = [\n            radiusValue['border-top-left-radius'] || '0px', \n            radiusValue['border-top-right-radius'] || '0px', \n            radiusValue['border-bottom-right-radius'] || '0px', \n            radiusValue['border-bottom-left-radius'] || '0px'\n        ]\n    }\n\n    return startObject;\n}\n\nexport function makeInterpolateBorderRadius(layer, property, startValue, endValue) {\n    var s = getBorderRadiusList(BorderRadius.parseStyle(startValue));\n    var e = getBorderRadiusList(BorderRadius.parseStyle(endValue));\n\n    var max = Math.max(s.length, e.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        list[i] = makeInterpolateLength(layer, property, s[i], e[i])\n    }\n\n\n    return (rate, t) => {\n        return list.map(it => it(rate, t)).join(' ')\n    }\n}\n\n\n","/**\n * @method format\n *\n * convert color to format string\n *\n *     // hex\n *     color.format({ r : 255, g : 255, b : 255 }, 'hex')  // #FFFFFF\n *\n *     // rgb\n *     color.format({ r : 255, g : 255, b : 255 }, 'rgb') // rgba(255, 255, 255, 0.5);\n *\n *     // rgba\n *     color.format({ r : 255, g : 255, b : 255, a : 0.5 }, 'rgb') // rgba(255, 255, 255, 0.5);\n *\n * @param {Object} obj  obj has r, g, b and a attributes\n * @param {\"hex\"/\"rgb\"} type  format string type\n * @returns {*}\n */\nexport function format(obj, type, defaultColor = 'rgba(0, 0, 0, 0)') {\n\n    if (Array.isArray(obj)) {\n        obj = { r: obj[0], g: obj[1], b: obj[2], a: obj[3] }\n    }\n\n    if (type == 'hex') {\n        return hex(obj);\n    } else if (type == 'rgb') {\n        return rgb(obj, defaultColor);\n    } else if (type == 'hsl') {\n        return hsl(obj);\n    }\n\n    return obj;\n}\n\nexport function hex(obj) {\n    if (Array.isArray(obj)) {\n        obj = { r: obj[0], g: obj[1], b: obj[2], a: obj[3] }\n    }\n\n    var r = obj.r.toString(16);\n    if (obj.r < 16) r = \"0\" + r;\n\n    var g = obj.g.toString(16);\n    if (obj.g < 16) g = \"0\" + g;\n\n    var b = obj.b.toString(16);\n    if (obj.b < 16) b = \"0\" + b;\n\n\n    if (obj.a == 1 || typeof obj.a === 'undefined') {\n        return `#${r}${g}${b}`;\n    } else {\n        const alpha = Math.ceil(obj.a * 255);\n        var a = alpha.toString(16);\n        if (alpha < 16) a = \"0\" + a;\n  \n        return `#${r}${g}${b}${a}`;        \n    }\n}\n\nexport function rgb (obj, defaultColor = 'rgba(0, 0, 0, 0)') {\n    if (Array.isArray(obj)) {\n        obj = { r: obj[0], g: obj[1], b: obj[2], a: obj[3] }\n    }\n\n    if (typeof obj === 'undefined' ) {\n        return undefined;\n    }\n\n    if (obj.a == 1 || typeof obj.a === 'undefined' ) {\n        if (isNaN(obj.r)) {\n            return defaultColor;\n        }\n        return `rgb(${obj.r},${obj.g},${obj.b})`;\n    } else {\n        return `rgba(${obj.r},${obj.g},${obj.b},${obj.a})`;\n    }\n}\n\nexport function hsl (obj) {\n    if (Array.isArray(obj)) {\n        obj = { r: obj[0], g: obj[1], b: obj[2], a: obj[3] }\n    }\n\n    if (obj.a == 1 || typeof obj.a === 'undefined' ) {\n        return `hsl(${obj.h},${obj.s}%,${obj.l}%)`;\n    } else {\n        return `hsla(${obj.h},${obj.s}%,${obj.l}%,${obj.a})`;\n    }\n\n}","import { rgb } from \"./formatter\";\n\nexport function randomNumber(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function randomByCount (count = 1) {\n    let arr = []\n    for(var i = 0; i < count; i++) {\n        arr[arr.length] = random();\n    }\n\n    return arr; \n}\n\nexport function random() {\n    return rgb({\n        r: randomNumber(0, 255),\n        g: randomNumber(0, 255),\n        b : randomNumber(0, 255),\n    })\n}\n\nexport function randomRGBA() {\n    return rgb({\n        r: randomNumber(0, 255),\n        g: randomNumber(0, 255),\n        b: randomNumber(0, 255),\n        a: randomNumber(0, 1000)/1000,\n    })\n}","import { isBoolean, isNotUndefined, isObject, isUndefined } from \"el/sapa/functions/func\";\nimport { getPredefinedCubicBezier } from \"./bezier\";\nimport { randomNumber } from \"./create\";\n\nexport function randomItem(...args) {\n    return args[randomNumber(0, args.length - 1)];\n}\n\n\nexport function repeat(count) {\n    return [...Array(count)];\n}\n\n\n\nexport function CSS_TO_STRING(style, postfix = '') {\n    var newStyle = style || {};\n\n    return Object.keys(newStyle)\n        .filter(key => isNotUndefined(newStyle[key]))\n        .map(key => `${key}: ${newStyle[key]}`)\n        .join(\";\" + postfix);\n}\n\n\nexport function STRING_TO_CSS(str = '', splitChar = ';', keySplitChar = ':') {\n\n    str = str + \"\";\n\n    var style = {}\n\n    if (str === '') return style;\n\n    str.split(splitChar).forEach(it => {\n        var [key, ...value] = it.split(keySplitChar).map(it => it.trim())\n        if (key != '') {\n            style[key] = value.join(keySplitChar);\n        }\n    })\n\n    return style;\n}\n\nexport function OBJECT_TO_PROPERTY(obj) {\n    return Object.keys(obj).map(key => {\n\n        if (key === 'class') {\n            if (isObject(obj[key])) {\n                return `${key}=\"${OBJECT_TO_CLASS(obj[key])}\"`\n            }\n        }\n\n        if (isBoolean(obj[key]) || isUndefined(obj[key]) || obj[key] === 'undefined') {\n            if (obj[key]) {\n                return key;\n            } else {\n                return '';\n            }\n        }\n\n        return `${key}=\"${obj[key]}\"`\n    }).join(' ');\n}\n\nexport function OBJECT_TO_CLASS(obj) {\n    return Object.keys(obj).filter(k => obj[k]).map(key => {\n        return key\n    }).join(' ');\n}\n\nexport function TAG_TO_STRING(str) {\n    return str.replace(/\\</g, '&lt;').replace(/\\>/g, '&gt;')\n}\n\nexport function mapjoin(arr, callback, joinString = '') {\n    return arr.map(callback).join(joinString);\n}\n\nexport function isArrayEquals(A, B) {\n    const s = new Set([...A, ...B])\n\n    return s.size === A.length && s.size === B.length;\n}\n\nexport const curveToPath = (timingFunction, width = 30, height = 30) => {\n    const currentBezier = getPredefinedCubicBezier(timingFunction)\n\n    return `\n        M0 ${width} \n        C \n        ${currentBezier[0] * width} ${currentBezier[1] == 0 ? height : (1 - currentBezier[1]) * height},\n        ${currentBezier[2] * width} ${currentBezier[3] == 1 ? 0 : (1 - currentBezier[3]) * height},\n        ${width} 0\n    `\n}\n\nexport const curveToPointLine = (timingFunction, width = 30, height = 30) => {\n    const currentBezier = getPredefinedCubicBezier(timingFunction)\n\n    return `\n        M 0 ${width} \n        L ${currentBezier[0] * width} ${currentBezier[1] == 0 ? height : (1 - currentBezier[1]) * height}\n        M ${width} 0\n        L ${currentBezier[2] * width} ${currentBezier[3] == 1 ? 0 : (1 - currentBezier[3]) * height}\n    `\n}","import { Item } from \"./Item\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\n\n\nexport class PropertyItem extends Item {\n\n  getDefaultObject(obj = {}) {\n    return {\n      selected: false,  // 선택 여부 체크 \n      layers: [],   // 하위 객체를 저장한다. \n      ...obj\n    };\n  }\n\n  isAttribute() {\n    return true;\n  }\n\n  toCSS() { \n    return {};\n  }\n\n  toString() {\n    return CSS_TO_STRING(this.toCSS());\n  }\n}\n","export const color_names = { aliceblue: \"rgb(240, 248, 255)\", antiquewhite: \"rgb(250, 235, 215)\", aqua: \"rgb(0, 255, 255)\", aquamarine: \"rgb(127, 255, 212)\", azure: \"rgb(240, 255, 255)\", beige: \"rgb(245, 245, 220)\", bisque: \"rgb(255, 228, 196)\", black: \"rgb(0, 0, 0)\", blanchedalmond: \"rgb(255, 235, 205)\", blue: \"rgb(0, 0, 255)\", blueviolet: \"rgb(138, 43, 226)\", brown: \"rgb(165, 42, 42)\", burlywood: \"rgb(222, 184, 135)\", cadetblue: \"rgb(95, 158, 160)\", chartreuse: \"rgb(127, 255, 0)\", chocolate: \"rgb(210, 105, 30)\", coral: \"rgb(255, 127, 80)\", cornflowerblue: \"rgb(100, 149, 237)\", cornsilk: \"rgb(255, 248, 220)\", crimson: \"rgb(237, 20, 61)\", cyan: \"rgb(0, 255, 255)\", darkblue: \"rgb(0, 0, 139)\", darkcyan: \"rgb(0, 139, 139)\", darkgoldenrod: \"rgb(184, 134, 11)\", darkgray: \"rgb(169, 169, 169)\", darkgrey: \"rgb(169, 169, 169)\", darkgreen: \"rgb(0, 100, 0)\", darkkhaki: \"rgb(189, 183, 107)\", darkmagenta: \"rgb(139, 0, 139)\", darkolivegreen: \"rgb(85, 107, 47)\", darkorange: \"rgb(255, 140, 0)\", darkorchid: \"rgb(153, 50, 204)\", darkred: \"rgb(139, 0, 0)\", darksalmon: \"rgb(233, 150, 122)\", darkseagreen: \"rgb(143, 188, 143)\", darkslateblue: \"rgb(72, 61, 139)\", darkslategray: \"rgb(47, 79, 79)\", darkslategrey: \"rgb(47, 79, 79)\", darkturquoise: \"rgb(0, 206, 209)\", darkviolet: \"rgb(148, 0, 211)\", deeppink: \"rgb(255, 20, 147)\", deepskyblue: \"rgb(0, 191, 255)\", dimgray: \"rgb(105, 105, 105)\", dimgrey: \"rgb(105, 105, 105)\", dodgerblue: \"rgb(30, 144, 255)\", firebrick: \"rgb(178, 34, 34)\", floralwhite: \"rgb(255, 250, 240)\", forestgreen: \"rgb(34, 139, 34)\", fuchsia: \"rgb(255, 0, 255)\", gainsboro: \"rgb(220, 220, 220)\", ghostwhite: \"rgb(248, 248, 255)\", gold: \"rgb(255, 215, 0)\", goldenrod: \"rgb(218, 165, 32)\", gray: \"rgb(128, 128, 128)\", grey: \"rgb(128, 128, 128)\", green: \"rgb(0, 128, 0)\", greenyellow: \"rgb(173, 255, 47)\", honeydew: \"rgb(240, 255, 240)\", hotpink: \"rgb(255, 105, 180)\", indianred: \"rgb(205, 92, 92)\", indigo: \"rgb(75, 0, 130)\", ivory: \"rgb(255, 255, 240)\", khaki: \"rgb(240, 230, 140)\", lavender: \"rgb(230, 230, 250)\", lavenderblush: \"rgb(255, 240, 245)\", lawngreen: \"rgb(124, 252, 0)\", lemonchiffon: \"rgb(255, 250, 205)\", lightblue: \"rgb(173, 216, 230)\", lightcoral: \"rgb(240, 128, 128)\", lightcyan: \"rgb(224, 255, 255)\", lightgoldenrodyellow: \"rgb(250, 250, 210)\", lightgreen: \"rgb(144, 238, 144)\", lightgray: \"rgb(211, 211, 211)\", lightgrey: \"rgb(211, 211, 211)\", lightpink: \"rgb(255, 182, 193)\", lightsalmon: \"rgb(255, 160, 122)\", lightseagreen: \"rgb(32, 178, 170)\", lightskyblue: \"rgb(135, 206, 250)\", lightslategray: \"rgb(119, 136, 153)\", lightslategrey: \"rgb(119, 136, 153)\", lightsteelblue: \"rgb(176, 196, 222)\", lightyellow: \"rgb(255, 255, 224)\", lime: \"rgb(0, 255, 0)\", limegreen: \"rgb(50, 205, 50)\", linen: \"rgb(250, 240, 230)\", magenta: \"rgb(255, 0, 255)\", maroon: \"rgb(128, 0, 0)\", mediumaquamarine: \"rgb(102, 205, 170)\", mediumblue: \"rgb(0, 0, 205)\", mediumorchid: \"rgb(186, 85, 211)\", mediumpurple: \"rgb(147, 112, 219)\", mediumseagreen: \"rgb(60, 179, 113)\", mediumslateblue: \"rgb(123, 104, 238)\", mediumspringgreen: \"rgb(0, 250, 154)\", mediumturquoise: \"rgb(72, 209, 204)\", mediumvioletred: \"rgb(199, 21, 133)\", midnightblue: \"rgb(25, 25, 112)\", mintcream: \"rgb(245, 255, 250)\", mistyrose: \"rgb(255, 228, 225)\", moccasin: \"rgb(255, 228, 181)\", navajowhite: \"rgb(255, 222, 173)\", navy: \"rgb(0, 0, 128)\", oldlace: \"rgb(253, 245, 230)\", olive: \"rgb(128, 128, 0)\", olivedrab: \"rgb(107, 142, 35)\", orange: \"rgb(255, 165, 0)\", orangered: \"rgb(255, 69, 0)\", orchid: \"rgb(218, 112, 214)\", palegoldenrod: \"rgb(238, 232, 170)\", palegreen: \"rgb(152, 251, 152)\", paleturquoise: \"rgb(175, 238, 238)\", palevioletred: \"rgb(219, 112, 147)\", papayawhip: \"rgb(255, 239, 213)\", peachpuff: \"rgb(255, 218, 185)\", peru: \"rgb(205, 133, 63)\", pink: \"rgb(255, 192, 203)\", plum: \"rgb(221, 160, 221)\", powderblue: \"rgb(176, 224, 230)\", purple: \"rgb(128, 0, 128)\", rebeccapurple: \"rgb(102, 51, 153)\", red: \"rgb(255, 0, 0)\", rosybrown: \"rgb(188, 143, 143)\", royalblue: \"rgb(65, 105, 225)\", saddlebrown: \"rgb(139, 69, 19)\", salmon: \"rgb(250, 128, 114)\", sandybrown: \"rgb(244, 164, 96)\", seagreen: \"rgb(46, 139, 87)\", seashell: \"rgb(255, 245, 238)\", sienna: \"rgb(160, 82, 45)\", silver: \"rgb(192, 192, 192)\", skyblue: \"rgb(135, 206, 235)\", slateblue: \"rgb(106, 90, 205)\", slategray: \"rgb(112, 128, 144)\", slategrey: \"rgb(112, 128, 144)\", snow: \"rgb(255, 250, 250)\", springgreen: \"rgb(0, 255, 127)\", steelblue: \"rgb(70, 130, 180)\", tan: \"rgb(210, 180, 140)\", teal: \"rgb(0, 128, 128)\", thistle: \"rgb(216, 191, 216)\", tomato: \"rgb(255, 99, 71)\", turquoise: \"rgb(64, 224, 208)\", violet: \"rgb(238, 130, 238)\", wheat: \"rgb(245, 222, 179)\", white: \"rgb(255, 255, 255)\", whitesmoke: \"rgb(245, 245, 245)\", yellow: \"rgb(255, 255, 0)\", yellowgreen: \"rgb(154, 205, 50)\", transparent: \"rgba(0, 0, 0, 0)\", currentColor: 'currentColor' };\n\nfunction isColorName (name) {\n    return !!color_names[name];\n}\n\nfunction getColorByName (name) {\n    return color_names[name];\n}\n\nexport default {\n    isColorName,\n    getColorByName \n}","import { round } from \"./math\";\n\n\nexport function ReverseXyz(n) {\n    return (Math.pow(n, 3) > 0.008856) ? Math.pow(n, 3) : (n - 16 / 116) / 7.787;\n}\n\nexport function ReverseRGB(n) {\n    return (n > 0.0031308) ? 1.055 * (Math.pow(n, (1 / 2.4))) - 0.055 : 12.92 * n;\n}\n\nexport function XYZtoRGB(x, y, z) {\n    if (arguments.length == 1) {\n        var { x, y, z } = arguments[0];\n    }\n    //X, Y and Z input refer to a D65/2° standard illuminant.\n    //sR, sG and sB (standard RGB) output range = 0 ÷ 255\n\n    let X = x / 100.0\n    let Y = y / 100.0\n    let Z = z / 100.0\n\n    let R = X * 3.2406 + Y * -1.5372 + Z * -0.4986;\n    let G = X * -0.9689 + Y * 1.8758 + Z * 0.0415;\n    let B = X * 0.0557 + Y * -0.2040 + Z * 1.0570;\n\n    R = ReverseRGB(R);\n    G = ReverseRGB(G);\n    B = ReverseRGB(B);\n\n    const r = round(R * 255);\n    const g = round(G * 255);\n    const b = round(B * 255);\n\n    return { r, g, b };\n}\n\nexport function LABtoXYZ(l, a, b) {\n    if (arguments.length == 1) {\n        var { l, a, b } = arguments[0];\n    }\n    //Reference-X, Y and Z refer to specific illuminants and observers.\n    //Common reference values are available below in this same page.\n\n    let Y = (l + 16) / 116\n    let X = a / 500 + Y\n    let Z = Y - b / 200\n\n    Y = ReverseXyz(Y);\n    X = ReverseXyz(X);\n    Z = ReverseXyz(Z);\n\n    const x = X * 95.047\n    const y = Y * 100.000\n    const z = Z * 108.883\n\n    return { x, y, z };\n}\n\nexport function PivotXyz(n) {\n    return (n > 0.008856) ? Math.pow(n, (1 / 3)) : (7.787 * n + 16) / 116;\n}\n\n\nexport function XYZtoLAB(x, y, z) {\n    if (arguments.length == 1) {\n        var { x, y, z } = arguments[0];\n    }\n\n    //Reference-X, Y and Z refer to specific illuminants and observers.\n    //Common reference values are available below in this same page.\n    // Observer= 2°, Illuminant= D65\n\n    let X = x / 95.047;\n    let Y = y / 100.00;\n    let Z = z / 108.883;\n\n    X = PivotXyz(X);\n    Y = PivotXyz(Y);\n    Z = PivotXyz(Z);\n\n    const l = (116 * Y) - 16;\n    const a = 500 * (X - Y);\n    const b = 200 * (Y - Z);\n\n    return { l, a, b };\n}\n\nexport function LABtoRGB(l, a, b) {\n    if (arguments.length == 1) {\n        var { l, a, b } = arguments[0];\n    }\n    return XYZtoRGB(LABtoXYZ(l, a, b));\n}","import { XYZtoLAB } from './fromLAB';\nimport { round } from './math';\n\n/**\n * @method RGBtoHSV\n *\n * convert rgb to hsv\n *\n * \t\tcolor.RGBtoHSV(0, 0, 255) === { h : 240, s : 1, v : 1 } === '#FFFF00'\n *\n * @param {Number} R  red color value\n * @param {Number} G  green color value\n * @param {Number} B  blue color value\n * @return {Object}  hsv color code\n */\nexport function RGBtoHSV(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n\n    const R1 = r / 255;\n    const G1 = g / 255;\n    const B1 = b / 255;\n\n    const MaxC = Math.max(R1, G1, B1);\n    const MinC = Math.min(R1, G1, B1);\n\n    const DeltaC = MaxC - MinC;\n\n    var H = 0;\n\n    if (DeltaC == 0) { H = 0; }\n    else if (MaxC == R1) {\n        H = 60 * (((G1 - B1) / DeltaC) % 6);\n    } else if (MaxC == G1) {\n        H = 60 * (((B1 - R1) / DeltaC) + 2);\n    } else if (MaxC == B1) {\n        H = 60 * (((R1 - G1) / DeltaC) + 4);\n    }\n\n    if (H < 0) {\n        H = 360 + H;\n    }\n\n    var S = 0;\n\n    if (MaxC == 0) S = 0;\n    else S = DeltaC / MaxC;\n\n    var V = MaxC;\n\n    return { h: H, s: S, v: V };\n}\n\n\nexport function RGBtoCMYK(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n\n    const R1 = r / 255;\n    const G1 = g / 255;\n    const B1 = b / 255;\n\n    const K = 1 - Math.max(R1, G1, B1);\n    const C = (1 - R1 - K) / (1 - K);\n    const M = (1 - G1 - K) / (1 - K);\n    const Y = (1 - B1 - K) / (1 - K);\n\n    return { c: C, m: M, y: Y, k: K };\n}\n\n\nexport function RGBtoHSL(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n\n    r /= 255, g /= 255, b /= 255;\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if (max == min) {\n        h = s = 0; // achromatic\n    } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n\n    return { h: round(h * 360), s: round(s * 100), l: round(l * 100) };\n}\n\nexport function c(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    return gray((r + g + b) / 3 > 90 ? 0 : 255);\n}\n\nexport function gray(gray) {\n    return { r: gray, g: gray, b: gray };\n}\n\nexport function RGBtoSimpleGray(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    return gray(Math.ceil((r + g + b) / 3));\n}\n\n\nexport function RGBtoGray(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    return gray(RGBtoYCrCb(r, g, b).y);\n}\n\n\nexport function brightness(r, g, b) {\n        return Math.ceil(r * 0.2126 + g * 0.7152 + b * 0.0722);\n}\n\n\nexport function RGBtoYCrCb(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    const Y = brightness(r, g, b);\n    const Cb = 0.564 * (b - Y)\n    const Cr = 0.713 * (r - Y)\n\n    return { y: Y, cr: Cr, cb: Cb };\n}\n\nexport function PivotRGB(n) {\n    return ((n > 0.04045) ? Math.pow((n + 0.055) / 1.055, 2.4) : n / 12.92) * 100;\n}\n\nexport function RGBtoXYZ(r, g, b) {\n    //sR, sG and sB (Standard RGB) input range = 0 ÷ 255\n    //X, Y and Z output refer to a D65/2° standard illuminant.\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n\n    let R = (r / 255)\n    let G = (g / 255)\n    let B = (b / 255)\n\n    R = PivotRGB(R);\n    G = PivotRGB(G);\n    B = PivotRGB(B);\n\n    const x = R * 0.4124 + G * 0.3576 + B * 0.1805;\n    const y = R * 0.2126 + G * 0.7152 + B * 0.0722;\n    const z = R * 0.0193 + G * 0.1192 + B * 0.9505;\n\n    return { x, y, z }\n}\n    \nexport function RGBtoLAB(r, g, b) {\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    return XYZtoLAB(RGBtoXYZ(r, g, b));\n}","import { RGBtoHSV } from './fromRGB'\nimport { round } from './math'\n\nexport function HUEtoRGB(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\n\nexport function HSLtoHSV(h, s, l) {\n\n    if (arguments.length == 1) {\n        var { h, s, l } = arguments[0];\n    }\n    const rgb = HSLtoRGB(h, s, l);\n\n    return RGBtoHSV(rgb.r, rgb.g, rgb.b);\n}\n\nexport function HSLtoRGB(h, s, l) {\n\n    if (arguments.length == 1) {\n        var { h, s, l } = arguments[0];\n    }\n\n    var r, g, b;\n\n    h /= 360;\n    s /= 100;\n    l /= 100;\n\n    if (s == 0) {\n        r = g = b = l; // achromatic\n    } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = HUEtoRGB(p, q, h + 1 / 3);\n        g = HUEtoRGB(p, q, h);\n        b = HUEtoRGB(p, q, h - 1 / 3);\n    }\n\n    return { r: round(r * 255), g: round(g * 255), b: round(b * 255) };\n}","import ColorNames from './ColorNames'\n\nimport { RGBtoHSL } from './fromRGB'\nimport { HSLtoRGB } from './fromHSL'\nimport { isNumber, isString } from 'el/sapa/functions/func';\n\nconst color_regexp = /(#(?:[\\da-f]{3}){1,2}|#(?:[\\da-f]{8})|rgb\\((?:\\s*\\d{1,3},\\s*){2}\\d{1,3}\\s*\\)|rgba\\((?:\\s*\\d{1,3},\\s*){3}\\d*\\.?\\d+\\s*\\)|hsl\\(\\s*\\d{1,3}(?:,\\s*\\d{1,3}%){2}\\s*\\)|hsla\\(\\s*\\d{1,3}(?:,\\s*\\d{1,3}%){2},\\s*\\d*\\.?\\d+\\s*\\)|([\\w_\\-]+))/gi;\n\nexport function getColorIndexString(it, prefix = '@' ) {\n    return `${prefix}${it.startIndex}`.padEnd(10, '0');\n}\n\nexport function isColor (str) {\n    const results = matches(str);\n\n    return !!results.length\n}\n\nexport function matches (str) {\n    const matches = str.match(color_regexp);\n    let result = [];\n\n    if (!matches) {\n        return result;\n    }\n\n    for (var i = 0, len = matches.length; i < len; i++) {\n\n        if (matches[i].indexOf('#') > -1 || matches[i].indexOf('rgb') > -1 || matches[i].indexOf('hsl') > -1) {\n            result.push({ color: matches[i] });\n        } else {\n            var nameColor = ColorNames.getColorByName(matches[i]);\n\n            if (nameColor) {\n                result.push({ color: matches[i], nameColor: nameColor });\n            }\n        }\n    }\n\n    var pos = { next: 0 }\n    result.forEach(item => {\n        const startIndex = str.indexOf(item.color, pos.next);\n\n        item.startIndex = startIndex;\n        item.endIndex = startIndex + item.color.length;\n\n        pos.next = item.endIndex;\n    });\n\n    return result;\n}\n\nexport function convertMatches (str) {\n    const m = matches(str); \n\n    m.forEach(it => {\n        str = str.replace(it.color, getColorIndexString(it))\n    })\n\n    return { str, matches: m }\n}\n\n\nexport function convertMatchesArray (str, splitStr = ',') {\n    const ret = convertMatches(str);\n    return ret.str.split(splitStr).map((it, index) => {\n        it = trim(it);\n\n        if (ret.matches[index]) {\n            it = it.replace(getColorIndexString(ret.matches[index]), ret.matches[index].color)\n        }\n\n        return it \n    })\n}\n\nexport function reverseMatches (str, matches) {\n    matches.forEach(it => {\n        str = str.replace(getColorIndexString(it), it.color)\n    })\n\n    return str;\n}\n\nconst REG_TRIM = /^\\s+|\\s+$/g\nexport function trim (str) {\n    return str.replace(REG_TRIM, '');\n}\n\n/**\n * @method rgb\n *\n * parse string to rgb color\n *\n * \t\tcolor.parse(\"#FF0000\") === { r : 255, g : 0, b : 0 }\n * \t\tcolor.parse(\"#FF0000FF\") === { r : 255, g : 0, b : 0, a: 1 }\n *\n * \t\tcolor.parse(\"rgb(255, 0, 0)\") == { r : 255, g : 0, b :0 }\n * \t\tcolor.parse(0xff0000) == { r : 255, g : 0, b : 0 }\n * \t\tcolor.parse(0xff000000) == { r : 255, g : 0, b : 0, a: 0 }\n *\n * @param {String} str color string\n * @returns {Object}  rgb object\n */\nexport function parse(str) {\n    if (isString(str)) {\n\n        if (ColorNames.isColorName(str)) {\n            str = ColorNames.getColorByName(str);\n        }\n\n        if (str.indexOf(\"rgb(\") > -1) {\n            var arr = str.replace(\"rgb(\", \"\").replace(\")\", \"\").split(\",\");\n\n            for (var i = 0, len = arr.length; i < len; i++) {\n                arr[i] = parseInt(trim(arr[i]), 10);\n            }\n\n            var obj = { type: 'rgb', r: arr[0], g: arr[1], b: arr[2], a: 1 };\n\n            obj = {...obj, ...RGBtoHSL(obj)};\n\n            return obj;\n        } else if (str.indexOf(\"rgba(\") > -1) {\n            var arr = str.replace(\"rgba(\", \"\").replace(\")\", \"\").split(\",\");\n\n            for (var i = 0, len = arr.length; i < len; i++) {\n\n                if (len - 1 == i) {\n                    arr[i] = parseFloat(trim(arr[i]));\n                } else {\n                    arr[i] = parseInt(trim(arr[i]), 10);\n                }\n            }\n\n            var obj = { type: 'rgb', r: arr[0], g: arr[1], b: arr[2], a: arr[3] };\n\n            obj = {...obj, ...RGBtoHSL(obj)};\n\n            return obj;\n\n        } else if (str.indexOf(\"hsl(\") > -1) {\n            var arr = str.replace(\"hsl(\", \"\").replace(\")\", \"\").split(\",\");\n\n            for (var i = 0, len = arr.length; i < len; i++) {\n                arr[i] = parseFloat(trim(arr[i]));\n            }\n\n            var obj = { type: 'hsl', h: arr[0], s: arr[1], l: arr[2], a: 1 };\n\n            obj = {...obj, ...HSLtoRGB(obj)};\n\n            return obj;\n        } else if (str.indexOf(\"hsla(\") > -1) {\n            var arr = str.replace(\"hsla(\", \"\").replace(\")\", \"\").split(\",\");\n\n            for (var i = 0, len = arr.length; i < len; i++) {\n\n                if (len - 1 == i) {\n                    arr[i] = parseFloat(trim(arr[i]));\n                } else {\n                    arr[i] = parseInt(trim(arr[i]), 10);\n                }\n            }\n\n            var obj = { type: 'hsl', h: arr[0], s: arr[1], l: arr[2], a: arr[3] };\n\n            obj = {...obj, ...HSLtoRGB(obj)};\n\n            return obj;\n        } else if (str.indexOf(\"#\") == 0) {\n\n            str = str.replace(\"#\", \"\");\n            var arr = [];\n            var a = 1; \n            if (str.length == 3) {\n                for (var i = 0, len = str.length; i < len; i++) {\n                    var char = str.substr(i, 1);\n                    arr.push(parseInt(char + char, 16));\n                }\n            } else if (str.length === 8) {\n                for (var i = 0, len = str.length; i < len; i += 2) {\n                    arr.push(parseInt(str.substr(i, 2), 16));\n                }\n\n                a = arr.pop() / 255             \n            } else {\n                for (var i = 0, len = str.length; i < len; i += 2) {\n                    arr.push(parseInt(str.substr(i, 2), 16));\n                }\n            }\n\n            var obj = { type: 'hex', r: arr[0], g: arr[1], b: arr[2], a };\n\n            obj = {...obj, ...RGBtoHSL(obj)};\n\n            return obj;\n        }\n    } else if (isNumber( str )) {\n        if (0x000000 <= str && str <= 0xffffff) {\n            const r = (str & 0xff0000) >> 16;\n            const g = (str & 0x00ff00) >> 8;\n            const b = (str & 0x0000ff) >> 0;\n\n            var obj = { type: 'hex', r, g, b, a: 1 };\n            obj = { ...obj, ...RGBtoHSL(obj)};\n            return obj;\n        } else if (0x00000000 <= str && str <= 0xffffffff) {\n            const r = (str & 0xff000000) >> 24;\n            const g = (str & 0x00ff0000) >> 16;\n            const b = (str & 0x0000ff00) >> 8;\n            const a = (str & 0x000000ff) / 255;\n\n            var obj = { type: 'hex', r, g, b, a };\n            obj = {...obj, ...RGBtoHSL(obj)};\n            \n            return obj;\n        }\n    }\n\n    return str;\n\n}\n\nexport function parseGradient (colors) {\n    if (isString( colors )) {\n        colors = convertMatchesArray(colors);\n    }\n\n    colors = colors.map(it => {\n        if (isString( it )) {\n            const ret = convertMatches(it)\n            let arr = trim(ret.str).split(' ');\n\n            if (arr[1]) {\n                if (arr[1].indexOf('%') > -1) {\n                    arr[1] = parseFloat(arr[1].replace(/%/, ''))/100\n                } else {\n                    arr[1] = parseFloat(arr[1])\n                }\n\n            } else {\n                arr[1] = '*'\n            }\n\n            arr[0] = reverseMatches(arr[0], ret.matches)\n\n            return arr;\n        } else if (Array.isArray(it)) {\n\n            if (!it[1]) {\n                it[1] = '*'\n            } else if (isString( it[1] ) ) {\n                if (it[1].indexOf('%') > -1) {\n                    it[1] = parseFloat(it[1].replace(/%/, ''))/100\n                } else {\n                    it[1] = +it[1]\n                }\n            }\n\n            return [...it]; \n        }\n    })\n\n    const count = colors.filter(it => {\n        return it[1] === '*'\n    }).length\n\n    if (count > 0) {\n        const sum = colors.filter(it => {\n            return it[1] != '*' && it[1] != 1\n        }).map(it => it[1]).reduce((total, cur) => {\n            return total + cur\n        } , 0)\n        \n        const dist = (1 - sum) / count  \n        colors.forEach((it, index) => {\n            if (it[1] == '*' && index > 0) {\n                if (colors.length - 1 == index) {\n                    // it[1] = 1 \n                } else {\n                    it[1] = dist \n                }\n            }\n        })\n\n    }\n\n    return colors; \n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\n\nexport class BoxShadow extends PropertyItem {\n  static parse(obj) {\n    return new BoxShadow(obj);\n  }\n\n  static parseStyle (str) {\n\n      var boxShadows = [];\n\n      if (!str) return boxShadows;\n\n      var results = convertMatches(str);\n\n      boxShadows = results.str.split(\",\").filter(it => it.trim()).map(shadow => {\n        var values = shadow.split(\" \");\n\n        var insets = values.filter(it => it === \"inset\");\n        var colors = values\n          .filter(it => it.includes(\"@\"))\n          .map(it => {\n            return reverseMatches(it, results.matches);\n          });\n\n        var numbers = values.filter(it => {\n          return it !== \"inset\" && !it.includes(\"@\");\n        });\n\n        return BoxShadow.parse({\n          inset: !!insets.length,\n          color: colors[0] || \"rgba(0, 0, 0, 1)\",\n          offsetX: Length.parse(numbers[0] || \"0px\"),\n          offsetY: Length.parse(numbers[1] || \"0px\"),\n          blurRadius: Length.parse(numbers[2] || \"0px\"),\n          spreadRadius: Length.parse(numbers[3] || \"0px\")\n        });\n      });\n  \n      return boxShadows;\n  }\n\n  static join (list) {\n    return list.map(it => BoxShadow.parse(it)).join(', ');\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"box-shadow\",\n      inset: false,\n      offsetX: Length.z(),\n      offsetY: Length.z(),\n      blurRadius: Length.z(),\n      spreadRadius: Length.z(),\n      color: \"rgba(0, 0, 0, 1)\"\n    });\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'inset',\n        'offsetX',\n        'offsetY',\n        'blurRadius',\n        'spreadRadius',\n        'color'\n      )\n\n    }\n  }\n\n  convert(json) {\n\n    json = super.convert(json);\n\n    json.offsetX = Length.parse(json.offsetX);\n    json.offsetY = Length.parse(json.offsetY);\n    json.blurRadius = Length.parse(json.blurRadius);\n    json.spreadRadius = Length.parse(json.spreadRadius);\n\n    return json \n  }\n\n  toCSS() {\n    return {\n      \"box-shadow\": this.toString()\n    };\n  }\n\n  toString() {\n    var json = this.json;\n\n    return `${json.inset ? \"inset \" : ''}${json.offsetX} ${\n      json.offsetY\n    } ${json.blurRadius} ${json.spreadRadius} ${json.color}`;\n  }\n}\n","\nexport function makeInterpolateBoolean (layer, property, s, e) {\n\n    return (ratio, t) => {\n\n        if (t === 1) {\n            return e;\n        }\n\n        return s\n    } \n}\n","\nexport function CMYKtoRGB(c, m, y, k) {\n\n    if (arguments.length == 1) {\n        var { c, m, y, k } = arguments[0];\n    }\n\n    const R = 255 * (1 - c) * (1 - k);\n    const G = 255 * (1 - m) * (1 - k);\n    const B = 255 * (1 - y) * (1 - k);\n\n    return { r: R, g: G, b: B }\n}","import { RGBtoHSL } from './fromRGB'\nimport { round } from './math';\n\n/**\n * @method HSVtoRGB\n *\n * convert hsv to rgb\n *\n * \t\tcolor.HSVtoRGB(0,0,1) === #FFFFF === { r : 255, g : 0, b : 0 }\n *\n * @param {Number} H  hue color number  (min : 0, max : 360)\n * @param {Number} S  Saturation number  (min : 0, max : 1)\n * @param {Number} V  Value number \t\t(min : 0, max : 1 )\n * @returns {Object}\n */\nexport function HSVtoRGB(h, s, v) {\n\n    if (arguments.length == 1) {\n        var { h, s, v } = arguments[0];\n    }\n\n    var H = h;\n    var S = s;\n    var V = v;\n\n    if (H >= 360) {\n        H = 0;\n    }\n\n    const C = S * V;\n    const X = C * (1 - Math.abs((H / 60) % 2 - 1));\n    const m = V - C;\n\n    let temp = [];\n\n    if (0 <= H && H < 60) { temp = [C, X, 0]; }\n    else if (60 <= H && H < 120) { temp = [X, C, 0]; }\n    else if (120 <= H && H < 180) { temp = [0, C, X]; }\n    else if (180 <= H && H < 240) { temp = [0, X, C]; }\n    else if (240 <= H && H < 300) { temp = [X, 0, C]; }\n    else if (300 <= H && H < 360) { temp = [C, 0, X]; }\n\n    return {\n        r: round((temp[0] + m) * 255),\n        g: round((temp[1] + m) * 255),\n        b: round((temp[2] + m) * 255)\n    };\n}\n\nexport function HSVtoHSL(h, s, v) {\n\n    if (arguments.length == 1) {\n        var { h, s, v } = arguments[0];\n    }\n\n    const rgb = HSVtoRGB(h, s, v);\n\n    return RGBtoHSL(rgb.r, rgb.g, rgb.b);\n}","export function YCrCbtoRGB(y, cr, cb, bit) {\n\n    if (arguments.length == 1) {\n        var { y, cr, cb, bit } = arguments[0];\n        bit = bit || 0;\n    }\n    const R = y + 1.402 * (cr - bit);\n    const G = y - 0.344 * (cb - bit) - 0.714 * (cr - bit);\n    const B = y + 1.772 * (cb - bit);\n\n    return { r: Math.ceil(R), g: Math.ceil(G), b: Math.ceil(B) }\n}","import { parse, convertMatchesArray, parseGradient } from './parser'\nimport { round } from './math' \nimport { format } from './formatter' \nimport { RGBtoHSV } from './fromRGB'\nimport { HSVtoRGB } from './fromHSV'\n\n/**\n * @deprecated \n * \n * instead of this,  use blend function \n *  \n * @param {*} startColor \n * @param {*} endColor \n * @param {*} t \n */\nexport function interpolateRGB(startColor, endColor, t = 0.5, exportFormat = 'hex') {\n    var obj = interpolateRGBObject(startColor, endColor, t);\n\n    return format(obj, exportFormat);\n\n}\n\nexport function interpolateRGBObject(startColor, endColor, t = 0.5) {\n    const startColorAlpha = (typeof startColor.a === 'undefined') ? 1 : startColor.a;\n    const endColorAlpha = (typeof endColor.a === 'undefined') ? 1 : endColor.a;\n    return {\n        r: round(startColor.r + (endColor.r - startColor.r) * t),\n        g: round(startColor.g + (endColor.g - startColor.g) * t),\n        b: round(startColor.b + (endColor.b - startColor.b) * t),\n        a: round(startColorAlpha + (endColorAlpha - startColorAlpha) * t, 100 )\n    };  \n}\n\nexport function scale(scale, count = 5) {\n    if (!scale) return [];\n\n    if (typeof scale === 'string') {\n        scale = convertMatchesArray(scale);\n    }\n\n    scale = scale || [];\n    var len = scale.length;\n\n    var colors = [];\n    for (var i = 0; i < len - 1; i++) {\n        for (var index = 0; index < count; index++) {\n            colors.push(blend(scale[i], scale[i + 1], (index / count)));\n        }\n\n    }\n    return colors;\n}\n\nexport function blend(startColor, endColor, ratio = 0.5, format = 'hex') {\n    var s = parse(startColor);\n    var e = parse(endColor);\n\n    return interpolateRGB(s, e, ratio, format);\n}\n\nexport function mix(startcolor, endColor, ratio = 0.5, format = 'hex') {\n    return blend(startcolor, endColor, ratio, format);\n}\n\n/**\n * \n * @param {Color|String} c \n */\nexport function contrast(c) {\n    c = parse(c);\n    return (Math.round(c.r * 299) + Math.round(c.g * 587) + Math.round(c.b * 114)) / 1000;\n}\n\nexport function contrastColor (c) {\n    return contrast(c) >= 128 ? 'black' : 'white'\n}\n\nexport function gradient(colors, count = 10) {\n    colors = parseGradient(colors);\n\n    let newColors = [] \n    let maxCount = count - (colors.length - 1)\n    let allCount = maxCount\n\n    for (var i = 1, len = colors.length; i < len; i++) {\n\n        var startColor = colors[i-1][0]\n        var endColor = colors[i][0]\n\n        var rate = i == 1 ? colors[i][1] : colors[i][1] - colors[i-1][1]\n\n        var colorCount = (i == colors.length - 1) ? allCount : Math.floor(rate * maxCount)\n\n        newColors = newColors.concat(scale([startColor, endColor], colorCount), [endColor])\n\n        allCount -= colorCount\n    }\n    return newColors;\n}\n\nexport function scaleHSV(color, target = 'h', count = 9, exportFormat = 'rgb', min = 0, max = 1, dist = 100) {\n    var colorObj = parse(color);\n    var hsv = RGBtoHSV(colorObj);\n    var unit = ((max - min) * dist / count);\n\n    var results = [];\n    for (var i = 1; i <= count; i++) {\n        hsv[target] = Math.abs((dist - unit * i) / dist);\n        results.push(format(HSVtoRGB(hsv), exportFormat));\n    }\n\n    return results;\n}\n\nexport function scaleH(color, count = 9, exportFormat = 'rgb', min = 0, max = 360) {\n    return scaleHSV(color, 'h', count, exportFormat, min, max, 1);\n}\n\nexport function scaleS(color, count = 9, exportFormat = 'rgb', min = 0, max = 1) {\n    return scaleHSV(color, 's', count, exportFormat, min, max, 100);\n}\n\nexport function scaleV(color, count = 9, exportFormat = 'rgb', min = 0, max = 1) {\n    return scaleHSV(color, 'v', count, exportFormat, min, max, 100);\n}\n\n\n/* predefined scale colors */\nscale.parula = function (count) {\n    return scale(['#352a87', '#0f5cdd', '#00b5a6', '#ffc337', '#fdff00'], count);\n};\n\nscale.jet = function (count) {\n    return scale(['#00008f', '#0020ff', '#00ffff', '#51ff77', '#fdff00', '#ff0000', '#800000'], count);\n}\n\nscale.hsv = function (count) {\n    return scale(['#ff0000', '#ffff00', '#00ff00', '#00ffff', '#0000ff', '#ff00ff', '#ff0000'], count);\n}\n\nscale.hot = function (count) {\n    return scale(['#0b0000', '#ff0000', '#ffff00', '#ffffff'], count);\n}\nscale.pink = function (count) {\n    return scale(['#1e0000', '#bd7b7b', '#e7e5b2', '#ffffff'], count);\n}\n\nscale.bone = function (count) {\n    return scale(['#000000', '#4a4a68', '#a6c6c6', '#ffffff'], count);\n}\n\nscale.copper = function (count) {\n    return scale(['#000000', '#3d2618', '#9d623e', '#ffa167', '#ffc77f'], count);\n}","import * as formatter from \"./formatter\";\nimport * as create from \"./create\";\nimport * as math from './math'\nimport * as fromRGB from './fromRGB'\nimport * as fromCMYK from './fromCMYK'\nimport * as fromLAB from './fromLAB'\nimport * as fromHSV from './fromHSV'\nimport * as fromHSL from './fromHSL'\nimport * as fromYCrCb from './fromYCrCb'\nimport * as mixin from \"./mixin\";\nimport * as parser from \"./parser\";\nimport * as func from './func';\n\nexport default {\n    ...create,\n    ...formatter, \n    ...math, \n    ...mixin,\n    ...parser,\n    ...fromYCrCb,\n    ...fromRGB,\n    ...fromCMYK,\n    ...fromHSV,\n    ...fromHSL,\n    ...fromLAB,\n    ...func\n}\n\n","import Color from \"el/utils/Color\";\nimport { interpolateRGB } from \"el/utils/mixin\";\n\nexport function makeInterpolateColor (layer, property, startColor, endColor) {\n    var s = Color.parse(startColor || 'rgba(0, 0, 0, 1)');\n    var e = Color.parse(endColor || 'rgba(0, 0, 0, 1)');\n\n    return (rate, t) => {\n\n        if (t === 0) {\n            return startColor; \n        } else if (t === 1) {\n            return endColor;\n        }\n\n        return interpolateRGB(s, e, rate, 'rgb')\n    } \n}\n","import { BoxShadow } from \"../../property-parser/BoxShadow\";\nimport { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { makeInterpolateColor } from \"./makeInterpolateColor\";\n\nexport function makeInterpolateBoxShadow(layer, property, startValue, endValue) {\n    var s = BoxShadow.parseStyle(startValue);\n    var e = BoxShadow.parseStyle(endValue);\n\n    var totalLength = Math.max(s.length, e.length)\n\n    var list = [] \n    for(var i = 0, len = totalLength; i < len; i++) {\n        var startObject = s[i] || BoxShadow.parseStyle('0px 0px 0px 0px rgba(0, 0, 0, 0)')[0];\n        var endObject = e[i] || BoxShadow.parseStyle('0px 0px 0px 0px rgba(0, 0, 0, 0)')[0];\n\n        list.push({\n            inset: makeInterpolateBoolean(layer, property, startObject.inset, endObject.inset),\n            offsetX: makeInterpolateLength(layer, property, startObject.offsetX, endObject.offsetX),\n            offsetY: makeInterpolateLength(layer, property, startObject.offsetY, endObject.offsetY),\n            blurRadius: makeInterpolateLength(layer, property, startObject.blurRadius, endObject.blurRadius),\n            spreadRadius: makeInterpolateLength(layer, property, startObject.spreadRadius, endObject.spreadRadius),\n            color: makeInterpolateColor(layer, property, startObject.color, endObject.color)\n        })\n    }\n\n    return (rate, t) => {\n        return BoxShadow.join(list.map(it => {\n            return {\n                inset: it.inset(rate, t), \n                offsetX: it.offsetX(rate, t), \n                offsetY: it.offsetY(rate, t), \n                blurRadius: it.blurRadius(rate, t), \n                spreadRadius: it.spreadRadius(rate, t),\n                color: it.color(rate, t)\n            }\n        }))\n    }\n\n}\n","import { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\n\nexport function makeInterpolateString (layer, property, startString, endString)  {\n    return makeInterpolateBoolean(layer, property, startString, endString)\n}\n","\nconst stepTimingFunction = (step = 1, direction = 'end') => {\n    step = +step; \n    return function (rate) {\n        var stepDist = 1 / step; \n\n        if (direction == 'start') {\n            return stepDist * Math.ceil(rate / stepDist);\n        } else if (direction == 'end') {\n            return stepDist * Math.floor(rate / stepDist);\n        }\n    }\n}\n\nexport function step (step = 1, direction = 'end') {\n    return stepTimingFunction(step, direction);\n}\n\nexport function stepStart () {  \n    return stepTimingFunction(1, 'start');\n}\n\nexport function stepEnd () {\n    return stepTimingFunction(1, 'end');\n}\n","export default function () {\n    return (rate) => {\n        return Math.pow(2, -10 * rate) * Math.sin((rate - .1) * 5 * Math.PI) + 1;\n    }\n    \n}","import {step, stepStart, stepEnd } from \"./steps\";\nimport easeOutElastic from \"./ease-out-elastic\";\n\nexport default {\n    step,\n    'step-start': stepStart,\n    'step-end': stepEnd,\n    stepStart,\n    stepEnd,\n    'ease-out-elastic': easeOutElastic,\n    easeOutElastic\n}","import { Length } from \"el/editor/unit/Length\";\n\nexport function makeInterpolateRotate(layer, property, startNumber, endNumber) {\n    var startValue = Length.parse(startNumber);\n    var endValue = Length.parse(endNumber);\n\n    return (rate, t) => {\n        var realStartValue = startValue.value;\n        var realEndValue = endValue.value;\n\n        if (t === 0) {\n            return Length.deg(realStartValue);\n        } else if (t === 1) {\n            return Length.deg(realEndValue);\n        }\n\n        return Length.deg(realStartValue + (realEndValue - realStartValue) * rate).to(startValue.unit);\n    }\n}\n","import { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\n\nexport class TextShadow extends PropertyItem {\n  static parse(obj) {\n    return new TextShadow(obj);\n  }\n\n  static parseStyle (str = '') {\n    var results = convertMatches(str);\n\n    var textShadows = results.str.split(\",\").filter(it => it.trim()).map(shadow => {\n      var values = shadow.split(\" \");\n\n      var colors = values\n        .filter(it => it.includes(\"@\"))\n        .map(it => {\n          return reverseMatches(it, results.matches) || 'black';\n        });\n\n      var numbers = values.filter(it => {\n        return !it.includes(\"@\");\n      });\n\n      return TextShadow.parse({\n        color: colors[0] || \"rgba(0, 0, 0, 1)\",\n        offsetX: Length.parse(numbers[0] || \"0px\"),\n        offsetY: Length.parse(numbers[1] || \"0px\"),\n        blurRadius: Length.parse(numbers[2] || \"0px\")\n      });\n    });\n\n    return textShadows;\n  }\n\n\n  static join (list) {\n    return list.map(it => TextShadow.parse(it)).join(', ');\n  }  \n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"text-shadow\",\n      offsetX: Length.z(),\n      offsetY: Length.z(),\n      blurRadius: Length.z(),\n      color: \"rgba(0, 0, 0, 1)\"\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('offsetX', 'offsetY', 'blurRadius', 'color')\n    }\n  }\n\n\n  convert(json) {\n\n    json = super.convert(json);\n\n    json.offsetX = Length.parse(json.offsetX);\n    json.offsetY = Length.parse(json.offsetY);\n    json.blurRadius = Length.parse(json.blurRadius);\n\n    return json \n  }\n\n\n  toCSS() {\n    return {\n      \"text-shadow\": this.toString()\n    };\n  }\n\n  toString() {\n    var json = this.json;\n\n    return `${json.offsetX} ${json.offsetY} ${json.blurRadius} ${json.color}`;\n  }\n}\n","import { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { makeInterpolateColor } from \"./makeInterpolateColor\";\nimport { TextShadow } from \"../../property-parser/TextShadow\";\n\nexport function makeInterpolateTextShadow(layer, property, startValue, endValue) {\n    var s = TextShadow.parseStyle(startValue);\n    var e = TextShadow.parseStyle(endValue);\n\n    var totalLength = Math.max(s.length, e.length)\n\n    var list = [] \n    for(var i = 0, len = totalLength; i < len; i++) {\n        var startObject = s[i] || TextShadow.parseStyle('0px 0px 0px rgba(0, 0, 0, 0)')[0];\n        var endObject = e[i] || TextShadow.parseStyle('0px 0px 0px rgba(0, 0, 0, 0)')[0];\n\n        list.push({\n            offsetX: makeInterpolateLength(layer, property, startObject.offsetX, endObject.offsetX, 'width', 'self'),\n            offsetY: makeInterpolateLength(layer, property, startObject.offsetY, endObject.offsetY, 'height', 'self'),\n            blurRadius: makeInterpolateLength(layer, property, startObject.blurRadius, endObject.blurRadius, 'radius'),\n            color: makeInterpolateColor(layer, property, startObject.color, endObject.color)\n        })\n    }\n\n    return (rate, t) => {\n        return TextShadow.join(list.map(it => {\n            return {\n                offsetX: it.offsetX(rate, t), \n                offsetY: it.offsetY(rate, t), \n                blurRadius: it.blurRadius(rate, t), \n                color: it.color(rate, t)\n            }\n        }))\n    }\n\n}\n","import { PropertyItem } from \"el/editor/items/PropertyItem\";\n\nexport class ImageResource extends PropertyItem {\n  getDefaultObject(obj = {}) {\n    return {\n      itemType: \"image-resource\",\n      type: \"image\",\n      ...obj\n    };\n  }\n\n  isGradient() {\n    return false;\n  }\n  isLinear() {\n    return false;\n  }\n  isRadial() {\n    return false;\n  }\n  isConic() {\n    return false;\n  }\n  isStatic() {\n    return false;\n  }\n  isImage() {\n    return false;\n  }\n  hasAngle() {\n    return false;\n  }\n  isUrl() {\n    return false;\n  }\n  isFile() {\n    return false;\n  }\n  isAttribute() {\n    return true;\n  }\n\n  toString() {\n    return \"none\";\n  }\n}\n","\nimport { Item } from \"el/editor/items/Item\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport { convertMatches } from \"el/utils/parser\";\nimport { repeat } from \"el/utils/func\";\nimport { randomNumber } from \"el/utils/create\";\nimport Color from \"el/utils/Color\";\nimport { uuidShort } from 'el/utils/math';\n\nexport class ColorStep extends Item {\n  getDefaultObject() {\n    return {\n      id: uuidShort(),\n      cut: false,\n      percent: 0,\n      unit: \"%\",\n      px: 0,\n      em: 0,\n      color: \"rgba(0, 0, 0, 0)\",\n      prevColorStep: null\n    };\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'cut',\n        'percent',\n        'unit',\n        'px',\n        'em',\n        'color',\n      )\n\n    }\n  }\n\n  on() {\n    this.json.cut = true;\n  }\n\n  off() {\n    this.json.cut = false;\n  }\n\n  toggle() {\n    this.json.cut = !this.json.cut;\n  }\n\n  getUnit() {\n    return this.json.unit == \"%\" ? \"percent\" : this.json.unit;\n  }\n\n  add(num) {\n    var unit = this.getUnit();\n    this.json[unit] += +num;\n\n    return this;\n  }\n\n  sub(num) {\n    var unit = this.getUnit();\n    this.json[unit] -= +num;\n\n    return this;\n  }\n\n  mul(num) {\n    var unit = this.getUnit();\n    this.json[unit] *= +num;\n\n    return this;\n  }\n\n  div(num) {\n    var unit = this.getUnit();\n    this.json[unit] /= +num;\n\n    return this;\n  }\n\n  mod(num) {\n    var unit = this.getUnit();\n    this.json[unit] %= +num;\n\n    return this;\n  }\n\n  get isPx() {\n    return this.json.unit == \"px\";\n  }\n  get isPercent() {\n    return this.json.unit == \"%\" || this.json.unit === \"percent\";\n  }\n  get isEm() {\n    return this.json.unit == \"em\";\n  }\n\n  /**\n   * convert Length instance\n   * @return {Length}\n   */\n  toLength(maxValue) {\n    // TODO: apply maxValue\n    return Length.parse(this.json);\n  }\n\n  getPrevLength() {\n    if (!this.json.prevColorStep) return '';\n\n    return this.json.prevColorStep.toLength();\n  }\n\n  /**\n   * get color string\n   *\n   * return {string}\n   */\n  toString() {\n    var prev = this.json.cut ? this.getPrevLength() : ''\n    var color = this.json.color || 'transparent'\n    return `${color} ${prev} ${this.toLength()}`;\n  }\n\n  reset(json) {\n    super.reset(json);\n    if (this.parent) {\n      this.parent.sortColorStep();\n    }\n  }\n\n  setValue(percent, maxValue) {\n    if (this.isPx) {\n      this.reset({ px: maxValue * percent / 100 })      \n    } else if (this.isPercent) {\n      this.reset({ percent })\n    } else if (this.isEm) {\n      this.reset({ em: (maxValue * percent / 100) / 16 })      \n    }\n  }\n\n  static parse(colorStepString) {\n    let colorsteps = [];\n\n    const results = convertMatches(colorStepString);\n\n    var arr = results.str.split(' ').filter(it => it.trim());\n    const colorIndex = +arr[0].replace(\"@\", \"\");\n    const color = results.matches[colorIndex].color;\n\n    if (arr.length === 1) {\n      colorsteps.push(\n        new ColorStep({\n          color,\n          unit: \"%\",\n          percent: 0,\n          hasNotUnit: true \n        })\n      );\n    } else if (arr.length === 2) {\n      const len = Length.parse(arr[1]);\n\n      let data = { unit: len.unit };\n\n      if (len.isPercent()) {\n        data.percent = len.value;\n      } else if (len.isPx()) {\n        data.px = len.value;\n      } else if (len.isEm()) {\n        data.em = len.value;\n      }\n\n      colorsteps.push(new ColorStep({ color, ...data }));\n    } else if (arr.length === 3) {  // 이전 객체와의 값이 지정됐을 때? \n\n      // cut 속성만 줄까? \n      const len = Length.parse(arr[2]);\n\n      let data = { unit: len.unit };\n\n      if (len.isPercent()) {\n        data.percent = len.value;\n      } else if (len.isPx()) {\n        data.px = len.value;\n      } else if (len.isEm()) {\n        data.em = len.value;\n      }\n\n      colorsteps.push(new ColorStep({ color, cut: true, ...data }));\n    }\n\n    return colorsteps;\n  }\n\n  static createColorStep (maxCount = 2, maxValue = 100, unitType = '%') { \n\n    var colorStepCount = randomNumber(2, maxCount);\n    var unitValue = maxValue/colorStepCount;\n\n    var colorsteps = repeat(colorStepCount).map((_, index) => {\n        return `${Color.random()} ${index * unitValue}${unitType}`\n    }).join(',');\n\n    return colorsteps;\n  }\n\n  static createRepeatColorStep (maxCount = 2, unitValue = Length.px(1)) { \n\n    var colorStepCount = randomNumber(2, maxCount);\n\n    var colorsteps = repeat(colorStepCount).map((_, index) => {\n        return `${Color.random()} ${Length.parse(unitValue).mul(index+1)}`\n    }).join(',');\n\n    return colorsteps;\n  }  \n}\n","\nimport { ImageResource } from \"./ImageResource\";\nimport { ColorStep } from \"./ColorStep\";\n\nimport Color from \"el/utils/Color\";\nimport { isUndefined } from \"el/sapa/functions/func\";\n\nconst DEFINED_ANGLES = {\n  \"to top\": 0,\n  \"to top right\": 45,\n  \"to right\": 90,\n  \"to bottom right\": 135,\n  \"to bottom\": 180,\n  \"to bottom left\": 225,\n  \"to left\": 270,\n  \"to top left\": 315\n};\n\nexport class Gradient extends ImageResource {\n  isGradient() {\n    return true;\n  }\n\n  toString() {\n    return \"none\";\n  }\n\n  /**\n   * colorsteps = [\n   *    new ColorStep({color: 'red', percent: 0}),\n   *    new ColorStep({color: 'red', percent: 0})\n   * ]\n   *\n   * @param {*} obj\n   */\n  getDefaultObject(obj = {}) {\n    return {\n      itemType: \"image-resource\",      \n      type: \"gradient\",\n      colorsteps: [],\n      ...obj\n    };\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      colorsteps: this.json.colorsteps.map(color => color.clone())\n    }\n  }\n\n  convert(json) {\n\n    if (json.colorsteps[0] instanceof ColorStep) {\n      // colorstep instance 를 가지고 있으면 새로운 객체 생성을 하지 않는다. \n    } else {\n      json.colorsteps = json.colorsteps.map(c => new ColorStep(c));\n    }\n\n    return json;\n  }\n\n  calculateAngle() {\n    var angle = this.json.angle;\n    return isUndefined(DEFINED_ANGLES[angle])\n      ? angle\n      : DEFINED_ANGLES[angle] || 0;\n  }\n\n  /**\n   * add ColorStep\n   *\n   * @param {ColorStep} colorstep\n   * @param {boolean} isSort\n   */\n  addColorStep(colorstep, isSort = true) {\n    this.json.colorsteps.push(colorstep);\n\n    if (isSort) this.sortColorStep();\n\n    return colorstep;\n  }\n\n  insertColorStep(\n    percent,\n    startColor = \"rgba(216,216,216,0)\",\n    endColor = \"rgba(216,216,216,1)\"\n  ) {\n    var colorsteps = this.colorsteps;\n    if (!colorsteps.length) {\n      this.addColorStepList([\n        new ColorStep({ color: startColor, percent, index: 0 }),\n        new ColorStep({ color: endColor, percent: 100, index: 100 })\n      ]);\n      return;\n    }\n\n    if (percent < colorsteps[0].percent) {\n      colorsteps[0].index = 1;\n\n      this.addColorStep(\n        new ColorStep({ index: 0, color: colorsteps[0].color, percent })\n      );\n      return;\n    }\n\n    var lastIndex = colorsteps.length - 1;\n    if (colorsteps[lastIndex].percent < percent) {\n      var color = colorsteps[lastIndex].color;\n      var index = colorsteps[lastIndex].index + 1;\n\n      this.addColorStep(new ColorStep({ index, color, percent }));\n\n      return;\n    }\n\n    for (var i = 0, len = colorsteps.length - 1; i < len; i++) {\n      var step = colorsteps[i];\n      var nextStep = colorsteps[i + 1];\n\n      if (step.percent <= percent && percent <= nextStep.percent) {\n        var color = Color.mix(\n          step.color,\n          nextStep.color,\n          (percent - step.percent) / (nextStep.percent - step.percent),\n          \"rgb\"\n        );\n\n        this.addColorStep(\n          new ColorStep({ index: step.index + 1, color, percent })\n        );\n\n        return;\n      }\n    }\n  }\n\n  sortColorStep() {\n    var children = this.colorsteps;\n\n    children.sort((a, b) => {\n      if (a.percent > b.percent) return 1;\n      if (a.percent < b.percent) return -1;\n      if (a.percent == b.percent) {\n        if (a.index === b.index) return 0;\n        return a.index > b.index ? 1 : -1;\n      }\n    });\n\n    children.forEach((it, index) => {\n      it.index = index * 100;\n    });\n  }\n\n  /**\n   * add ColorStep List\n   * @param {Array<ColorStep>} colorstepList\n   */\n  addColorStepList(colorstepList = []) {\n    colorstepList.forEach(c => {\n      this.addColorStep(c, false);\n    });\n\n    this.sortColorStep();\n  }\n\n  /**\n   * get color step by id\n   *\n   * @param {string} id\n   */\n  getColorStep(id) {\n    return this.json.colorsteps.filter(c => c.id == id)[0];\n  }\n\n  clear(...args) {\n    if (args.length) {\n      this.json.colorsteps.splice(+args[0], 1);\n    } else {\n      this.json.colorsteps = [];\n    }\n  }\n\n  removeColorStep(id) {\n    this.json.colorsteps = this.json.colorsteps.filter(it => it.id != id)\n  }\n\n  /**\n   * get colorstep list\n   *\n   * @return {Array<ColorStep>}\n   */\n  get colorsteps() {\n    return this.json.colorsteps;\n  }\n\n  /**\n   * get color string\n   *\n   * @return {string}\n   */\n  getColorString() {\n    var colorsteps = this.colorsteps;\n\n    return Gradient.toColorString(colorsteps);\n  }\n\n  static toColorString (colorsteps = [] ) {\n    if (!colorsteps.length) return '';\n\n    var newColors = colorsteps.map((c, index) => {\n      c.prevColorStep = c.cut && index > 0 ? colorsteps[index - 1] : null;\n      return c;\n    });\n\n    if (newColors.length === 1) {\n      newColors.push(new ColorStep({\n        color: newColors[0].color || 'transparent',\n        percent: 100 \n      }))\n    }\n\n    return newColors.map(f => `${f}`).join(\",\");\n  }\n\n}\n","import { Gradient } from \"./Gradient\";\nimport { ColorStep } from \"./ColorStep\";\n\nexport class StaticGradient extends Gradient {\n    getDefaultObject() {\n        return super.getDefaultObject({  \n            type: 'static-gradient', \n            static: true, \n            colorsteps: [\n                new ColorStep({color: 'red', percent: 0, index: 0}),\n                new ColorStep({color: 'red', percent: 100, index: 0})\n            ]\n        }) \n    }\n\n    toCloneObject() {\n        return {\n            ...super.toCloneObject(),\n            static: true \n        }\n    }\n\n    static create (color = 'transparent') {\n        return new StaticGradient({\n            colorsteps: [\n                new ColorStep({color, percent: 0, index: 0}),\n                new ColorStep({color, percent: 100, index: 1})\n            ]\n        })\n    }\n\n    toString () {\n        var color = this.json.colorsteps[0].color;\n        return `linear-gradient(to right, ${color} 0%, ${color} 100%)`\n    }\n\n    isStatic () { return true; }\n}\n","import { ImageResource } from \"./ImageResource\";\n\nconst IMAGE_LIST = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"svg\"];\n\n// refer to https://github.com/graingert/datauritoblob/blob/master/dataURItoBlob.js\n// MIT License\nfunction dataURItoBlob(dataURI) {\n  // convert base64 to raw binary data held in a string\n  // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n  var byteString = atob(dataURI.split(\",\")[1]);\n  // separate out the mime component\n  var mimeString = dataURI\n    .split(\",\")[0]\n    .split(\":\")[1]\n    .split(\";\")[0];\n  // write the bytes of the string to an ArrayBuffer\n  var ab = new ArrayBuffer(byteString.length);\n  var dw = new DataView(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    dw.setUint8(i, byteString.charCodeAt(i));\n  }\n  // write the ArrayBuffer to a blob, and you're done\n  return new Blob([ab], { type: mimeString });\n}\n\nexport class URLImageResource extends ImageResource {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"url\",\n      url: \"\",\n      datauri: \"\",\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('url', 'datauri')\n\n    }\n  }\n\n  static parse(str) {\n\n    var url = str.split('(')[1].split(')')[0]\n\n    return new URLImageResource({ url })\n  }\n\n  isUrl() {\n    return true;\n  }\n\n  toString() {\n    var json = this.json;\n\n    return `url(${json.url})`;\n  }\n\n  static isImageFile(fileExt) {\n    return IMAGE_LIST.includes(fileExt);\n  }\n}\n\nexport class FileImageResource extends URLImageResource {\n  getDefaultObject() {\n    return super.getDefaultObject({ type: \"file\" });\n  }\n\n  isUrl() {\n    return false;\n  }\n  isFile() {\n    return true;\n  }\n\n  convert(json) {\n    if (!json.url && json.datauri) {\n      json.url = this.makeURL(json.datauri);\n    }\n    return json;\n  }\n\n  remove() {\n    this.removeURL();\n    super.remove();\n  }\n\n  removeURL() {\n    URL.revokeObjectURL(this.json.url);\n  }\n\n  makeURL(datauri) {\n    var file = dataURItoBlob(datauri);\n\n    return URL.createObjectURL(file);\n  }\n\n  toJSON() {\n    return {\n      type: \"file\",\n      id: this.json.id,\n      datauri: this.json.datauri\n    };\n  }\n}\n","import { Gradient } from \"./Gradient\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { ColorStep } from \"./ColorStep\";\nimport { isNumber, isUndefined } from \"el/sapa/functions/func\";\n\nconst DEFINED_DIRECTIONS = {\n  \"0\": \"to top\",\n  \"45\": \"to top right\",\n  \"90\": \"to right\",\n  \"135\": \"to bottom right\",\n  \"180\": \"to bottom\",\n  \"225\": \"to bottom left\",\n  \"270\": \"to left\",\n  \"315\": \"to top left\"\n};\n\nconst DEFINED_ANGLES = {\n  \"to top\": \"0\",\n  \"to top right\": \"45\",\n  \"to right\": \"90\",\n  \"to bottom right\": \"135\",\n  \"to bottom\": \"180\",\n  \"to bottom left\": \"225\",\n  \"to left\": \"270\",\n  \"to top left\": \"315\"\n};\n\nexport class LinearGradient extends Gradient {\n  getDefaultObject(obj) {\n    return super.getDefaultObject({\n      type: \"linear-gradient\",\n      angle: 0,\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      angle: this.json.angle\n    }\n  }\n\n  isLinear() {\n    return true;\n  }\n  hasAngle() {\n    return true;\n  }\n\n  toString() {\n\n    if(this.colorsteps.length === 0) return '';    \n\n    var colorString = this.getColorString();\n\n    var opt = '';\n    var angle = this.json.angle || 0;\n\n    opt = angle;\n\n    if (isNumber(opt)) {\n      opt = DEFINED_DIRECTIONS[`${opt}`] || opt;\n    }\n\n    if (isNumber(opt)) {\n      opt = opt > 360 ? opt % 360 : opt;\n\n      opt = `${opt}deg`;\n    }\n\n\n    var result = `${this.json.type}(${opt}, ${colorString})`;\n\n    return result;\n  }\n\n  static toLinearGradient(colorsteps) {\n    if (colorsteps.length === 0) {\n      return \"none\";\n    }\n\n    var gradient = new LinearGradient({\n      angle: \"to right\",\n      colorsteps\n    });\n\n    return gradient + \"\";\n  }\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var angle = 0;\n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n\n          newValue = reverseMatches(newValue, results.matches);\n\n          colorsteps.push.apply(colorsteps, ColorStep.parse(newValue));\n        } else {\n\n          angle = isUndefined(DEFINED_ANGLES[newValue])\n            ? Length.parse(newValue)\n            : Length.deg(+DEFINED_ANGLES[newValue]);\n        }\n      });\n\n    return new LinearGradient({ angle: angle.value, colorsteps });\n  }\n}\n","import { LinearGradient } from \"./LinearGradient\";\n\nexport class RepeatingLinearGradient extends LinearGradient {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"repeating-linear-gradient\",\n      angle: 0\n    });\n  }\n\n  static parse(str) {\n    var linear = LinearGradient.parse(str);\n    return new RepeatingLinearGradient({\n      angle: linear.angle,\n      colorsteps: linear.colorsteps\n    });\n  }\n}\n","import { Gradient } from \"./Gradient\";\n\nimport { Length, Position } from \"el/editor/unit/Length\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { ColorStep } from \"./ColorStep\";\n\nconst DEFINED_POSITIONS = {\n  [\"center\"]: true,\n  [\"top\"]: true,\n  [\"left\"]: true,\n  [\"right\"]: true,\n  [\"bottom\"]: true\n};\n\nexport class RadialGradient extends Gradient {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"radial-gradient\",\n      radialType: \"ellipse\",\n      radialPosition: [Position.CENTER, Position.CENTER],\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'radialType',\n        'radialPosition'\n      )\n    }\n  }\n\n  isRadial() {\n    return true;\n  }\n\n  toString() {\n    if(this.colorsteps.length === 0) return '';        \n    var colorString = this.getColorString();\n    var json = this.json;\n    var opt = '';\n    var radialType = json.radialType;\n    var radialPosition = json.radialPosition || [\"center\", \"center\"];\n\n    radialPosition = DEFINED_POSITIONS[radialPosition]\n      ? radialPosition\n      : radialPosition.join(' ');\n\n    opt = radialPosition ? `${radialType} at ${radialPosition}` : radialType;\n\n    return `${json.type || \"radial-gradient\"}(${opt}, ${colorString})`;\n  }\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var radialType = \"ellipse\";\n    var radialPosition = [Position.CENTER, Position.CENTER];\n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n          // color 복원\n          newValue = reverseMatches(newValue, results.matches);\n\n          colorsteps.push.apply(colorsteps, ColorStep.parse(newValue));\n        } else {\n          // direction\n          if (newValue.includes(\"at\")) {\n            [radialType, radialPosition] = newValue.split(\"at\").map(it => it.trim());\n          } else {\n            radialType = newValue;\n          }\n\n          if (typeof radialPosition === 'string') {\n            var arr = radialPosition.split(' ');\n            if (arr.length === 1) {\n              var len = Length.parse(arr[0]);\n\n              if (len.isString()) {\n                radialPosition = [len.value, len.value];\n              } else {\n                radialPosition = [len.clone(), len.clone()];\n              }\n            } else if (arr.length === 2) {\n              radialPosition = arr.map(it => {\n                var len = Length.parse(it);\n                return len.isString() ? len.value : len.clone();\n              });\n            }\n          }\n        }\n      });\n\n    return new RadialGradient({ radialType, radialPosition, colorsteps });\n  }\n}\n","import { RadialGradient } from \"./RadialGradient\";\n\nexport class RepeatingRadialGradient extends RadialGradient {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"repeating-radial-gradient\"\n    });\n  }\n\n  static parse(str) {\n    var radial = RadialGradient.parse(str);\n\n    return new RepeatingRadialGradient({\n      radialType: radial.radialType,\n      radialPosition: radial.radialPosition,\n      colorsteps: radial.colorsteps\n    });\n  }\n}\n","import { Gradient } from \"./Gradient\";\nimport { ColorStep } from \"./ColorStep\";\nimport { Length, Position } from \"el/editor/unit/Length\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { clone, isNotUndefined, isString, isUndefined } from \"el/sapa/functions/func\";\n\n\nconst DEFINED_POSITIONS = {\n  [\"center\"]: true,\n  [\"top\"]: true,\n  [\"left\"]: true,\n  [\"right\"]: true,\n  [\"bottom\"]: true\n};\n\nconst DEFINED_ANGLES = {\n  \"to top\": 0,\n  \"to top right\": 45,\n  \"to right\": 90,\n  \"to bottom right\": 135,\n  \"to bottom\": 180,\n  \"to bottom left\": 225,\n  \"to left\": 270,\n  \"to top left\": 315\n};\n\nexport class ConicGradient extends Gradient {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"conic-gradient\",\n      angle: 0,\n      radialPosition: [Position.CENTER, Position.CENTER],\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      angle: this.json.angle,\n      radialPosition: clone(this.json.radialPosition)\n    }\n  }\n\n  isConic() {\n    return true;\n  }\n  hasAngle() {\n    return true;\n  }\n\n  getColorString() {\n    if(this.colorsteps.length === 0) return '';    \n    var colorsteps = this.colorsteps;\n    if (!colorsteps) return '';\n\n    colorsteps.sort((a, b) => {\n      if (a.percent == b.percent) return 0;\n      return a.percent > b.percent ? 1 : -1;\n    });\n\n    var newColors = colorsteps.map((c, index) => {\n      c.prevColorStep = c.cut && index > 0 ? colorsteps[index - 1] : null;\n      return c;\n    });\n\n    return newColors\n      .map(f => {\n        var deg = Math.floor(f.percent * 3.6);\n        var prev = '';\n\n        if (f.cut && f.prevColorStep) {\n          var prevDeg = Math.floor(f.prevColorStep.percent * 3.6);\n          prev = `${prevDeg}deg`;\n        }\n        return `${f.color} ${prev} ${deg}deg`;\n      })\n      .join(\",\");\n  }\n\n  toString() {\n    var colorString = this.getColorString();\n\n    var opt = [];\n    var json = this.json;\n\n    var conicAngle = json.angle;\n    var conicPosition = json.radialPosition || Position.CENTER;\n\n    conicPosition = DEFINED_POSITIONS[conicPosition]\n      ? conicPosition\n      : conicPosition.join(' ');\n\n    if (isNotUndefined(conicAngle)) {\n      conicAngle = +(DEFINED_ANGLES[conicAngle] || conicAngle);\n      opt.push(`from ${conicAngle}deg`);\n    }\n\n    if (conicPosition) {\n      opt.push(`at ${conicPosition}`);\n    }\n\n    var optString = opt.length ? opt.join(' ') + \",\" : '';\n\n    return `${json.type}(${optString} ${colorString})`;\n  }\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var angle = \"0deg\"; //\n    var radialPosition = [Position.CENTER, Position.CENTER];\n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n          // conic 은 최종 값이 deg 라  gradient 의 공통 영역을 위해서\n          // deg 르 % 로 미리 바꾸는 작업이 필요하다.\n          newValue = newValue\n            .split(' ')\n            .map(it => it.trim())\n            .map(it => {\n              if (it.includes(\"deg\")) {\n                return Length.parse(it).toPercent();\n              } else {\n                return it;\n              }\n            })\n            .join(' ');\n\n          // color 복원\n          newValue = reverseMatches(newValue, results.matches);\n\n          // 나머지는 ColorStep 이 파싱하는걸로\n          // ColorStep 은 파싱이후 colorsteps 를 리턴해줌... 배열임, 명심 명심\n          colorsteps.push.apply(colorsteps, ColorStep.parse(newValue));\n        } else {\n          // direction\n          if (newValue.includes(\"at\")) {\n            // at 이 있으면 radialPosition 이 있는 것임\n            [angle, radialPosition] = newValue.split(\"at\").map(it => it.trim());\n          } else {\n            // at 이 없으면 radialPosition 이 center, center 로 있음\n            angle = newValue;\n          }\n\n          if (isString(radialPosition)) {\n            var arr = radialPosition.split(' ');\n            if (arr.length === 1) {\n              var len = Length.parse(arr[0]);\n\n              if (len.isString()) {\n                radialPosition = [len.value, len.value];\n              } else {\n                radialPosition = [len.clone(), len.clone()];\n              }\n            } else if (arr.length === 2) {\n              radialPosition = arr.map(it => {\n                var len = Length.parse(it);\n                return len.isString() ? len.value : len;\n              });\n            }\n          }\n\n          if (isString(angle)) {\n            if (angle.includes(\"from\")) {\n              angle = angle.split(\"from\")[1];\n\n              angle = isUndefined(DEFINED_ANGLES[angle])\n                ? Length.parse(angle)\n                : Length.deg(+DEFINED_ANGLES[angle]);\n            }\n          }\n        }\n      });\n\n    return new ConicGradient({ angle: angle.value, radialPosition, colorsteps });\n  }\n}\n","import { Position } from \"el/editor/unit/Length\";\nimport { ConicGradient } from \"./ConicGradient\";\n\n\nexport class RepeatingConicGradient extends ConicGradient {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"repeating-conic-gradient\",\n      angle: 0,\n      radialPosition: [Position.CENTER, Position.CENTER]\n    });\n  }\n  \n  static parse(str) {\n    var conic = ConicGradient.parse(str);\n\n    return new RepeatingConicGradient({\n      angle: conic.angle,\n      radialPosition: conic.radialPosition,\n      colorsteps: conic.colorsteps\n    });\n  }\n}\n","\nimport { Length, Position } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { StaticGradient } from \"./image-resource/StaticGradient\";\nimport { URLImageResource } from \"./image-resource/URLImageResource\";\nimport { LinearGradient } from \"./image-resource/LinearGradient\";\nimport { RepeatingLinearGradient } from \"./image-resource/RepeatingLinearGradient\";\nimport { RadialGradient } from \"./image-resource/RadialGradient\";\nimport { RepeatingRadialGradient } from \"./image-resource/RepeatingRadialGradient\";\nimport { ConicGradient } from \"./image-resource/ConicGradient\";\nimport { RepeatingConicGradient } from \"./image-resource/RepeatingConicGradient\";\nimport { Gradient } from \"./image-resource/Gradient\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { combineKeyArray, isString, keyEach, keyMap } from \"el/sapa/functions/func\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\n\nconst RepeatList = [\"repeat\", \"no-repeat\", \"repeat-x\", \"repeat-y\", 'round', 'space'];\nconst reg = /((linear\\-gradient|repeating\\-linear\\-gradient|radial\\-gradient|repeating\\-radial\\-gradient|conic\\-gradient|repeating\\-conic\\-gradient|url)\\(([^\\)]*)\\))/gi;\n\nexport class BackgroundImage extends PropertyItem {\n  addImageResource(imageResource) {\n    this.clear(\"image-resource\");\n    return this.addItem(\"image-resource\", imageResource);\n  }\n\n  addGradient(gradient) {\n    return this.addImageResource(gradient);\n  }\n\n  setImageUrl(data) {\n    if (!data.images) return;\n    if (!data.images.length) return;\n    this.reset({ \n      type: \"image\", \n      image: BackgroundImage.createImage(data.images[0]) \n    });\n  }\n\n  static createImage(url) {\n    return new URLImageResource({ url });\n  }\n\n  setGradient(data) {\n    this.reset({\n      type: data.type,\n      image: BackgroundImage.createGradient(data, this.json.image)\n    });\n  }\n\n  static createGradient(data, gradient) {\n    const colorsteps = data.colorsteps || gradient.colorsteps;\n\n    // linear, conic 은 angle 도 같이 설정한다.\n    const angle = data.angle || gradient.angle;\n\n    // radial 은  radialType 도 같이 설정한다.\n    const radialType = data.radialType || gradient.radialType;\n    const radialPosition = data.radialPosition || gradient.radialPosition;\n\n    let json = gradient.toJSON();\n    delete json.itemType;\n    delete json.type;\n\n    switch (data.type) {\n      case \"static-gradient\":\n        return new StaticGradient({ ...json, colorsteps });\n      case \"linear-gradient\":\n        return new LinearGradient({ ...json, colorsteps, angle });\n      case \"repeating-linear-gradient\":\n        return new RepeatingLinearGradient({ ...json, colorsteps, angle });\n      case \"radial-gradient\":\n        return new RadialGradient({\n          ...json,\n          colorsteps,\n          radialType,\n          radialPosition\n        });\n      case \"repeating-radial-gradient\":\n        return new RepeatingRadialGradient({\n          ...json,\n          colorsteps,\n          radialType,\n          radialPosition\n        });\n      case \"conic-gradient\":\n        return new ConicGradient({\n          ...json,\n          colorsteps,\n          angle,\n          radialPosition\n        });\n      case \"repeating-conic-gradient\":\n        return new RepeatingConicGradient({\n          ...json,\n          colorsteps,\n          angle,\n          radialPosition\n        });\n    }\n\n    return new Gradient();\n  }\n\n  // 기본 image 를 생성하지 않는다. \n  // 매번 StaticGradient 를 생성 했더니  변환에 너무 많은 비용이 들어간다. \n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"background-image\",\n      checked: false,\n      blendMode: \"normal\",\n      size: \"auto\",\n      repeat: \"repeat\",\n      width: Length.percent(100),\n      height: Length.percent(100),\n      x: Length.percent(0),\n      y: Length.percent(0),\n    });\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'checked',\n        'blendMode',\n        'size',\n        'repeat',\n        'width',\n        'height',\n        'x',\n        'y',\n      ),\n      image: json.image.clone()\n    }\n  }\n\n  convert(json) {\n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n\n    if (json.width) json.width = Length.parse(json.width);\n    if (json.height) json.height = Length.parse(json.height);\n\n    if (isString(json.image)) {\n      json.image = BackgroundImage.parseImage(json.image);\n    }\n\n    return json;\n  }\n\n  get image() {\n    return this.json.image;\n  }\n\n  set image(image) {\n    this.json.image = image;\n  }\n\n  checkField(key, value) {\n    if (key === \"repeat\") {\n      return RepeatList.includes(value);\n    }\n\n    return super.checkField(key, value);\n  }\n\n  toBackgroundImageCSS() {\n    if (!this.json.image) return {};\n    return {\n      \"background-image\": this.json.image.toString()\n    };\n  }\n\n\n  toBackgroundPositionCSS() {\n    var json = this.json;\n\n    return {\n      \"background-position\": `${json.x} ${json.y}`\n    };\n  }\n\n  toBackgroundSizeCSS() {\n    var json = this.json;\n    var backgroundSize = \"auto\";\n\n    if (json.size == \"contain\" || json.size == \"cover\") {\n      backgroundSize = json.size;\n    } else if (json.width.isPercent() && json.width.isPercent()) {\n      // 기본 사이즈가 아닌 것만 표시 (100% 100% 이 아닐 때 )\n      if (+json.width !== 100 || +json.height !== 100) {\n        backgroundSize = `${json.width} ${json.height}`;\n      }\n    } else {\n      backgroundSize = `${json.width} ${json.height}`;\n    }\n\n    return {\n      \"background-size\": backgroundSize\n    };\n  }\n\n  toBackgroundRepeatCSS() {\n    var json = this.json;\n    return {\n      \"background-repeat\": json.repeat\n    };\n  }\n\n  toBackgroundBlendCSS() {\n    var json = this.json;\n    return {\n      \"background-blend-mode\": json.blendMode\n    };\n  }\n\n  toCSS() {\n    var results = {\n      ...this.toBackgroundImageCSS(),\n      ...this.toBackgroundPositionCSS(),\n      ...this.toBackgroundSizeCSS(),\n      ...this.toBackgroundRepeatCSS(),\n      ...this.toBackgroundBlendCSS()\n    };\n\n    return results;\n  }\n\n  toString() {\n    return keyMap(this.toCSS(), (key, value) => {\n      return `${key}: ${value}`;\n    }).join(\";\");\n  }\n\n  toBackgroundCSS () {\n    var obj = this.toCSS();\n\n    return {\n      // 'background-blend-mode': obj['background-blend-mode'],\n      // 'background-size': obj['background-size'],\n      // 'background-position': obj['background-position'],\n      // 'background-repeat': obj['background-repeat'],\n      'background': `${obj['background-image']} `\n    }\n  }\n\n  static parse(obj) {\n    return new BackgroundImage(obj);\n  }\n\n  static parseImage (str) {\n    var results = convertMatches(str);\n    let image = null;\n\n    var matchResult = results.str.match(reg)\n\n    if (!matchResult) return image; \n\n    matchResult.forEach((value, index) => {\n\n      value = reverseMatches(value, results.matches);\n      if (value.includes(\"repeating-linear-gradient\")) {\n        image = RepeatingLinearGradient.parse(value);\n      } else if (value.includes(\"linear-gradient\")) {\n        image = LinearGradient.parse(value);\n      } else if (value.includes(\"repeating-radial-gradient\")) {\n        image = RepeatingRadialGradient.parse(value);\n      } else if (value.includes(\"radial-gradient\")) {\n        image = RadialGradient.parse(value);\n      } else if (value.includes(\"repeating-conic-gradient\")) {\n        image = RepeatingConicGradient.parse(value);\n      } else if (value.includes(\"conic-gradient\")) {\n        image = ConicGradient.parse(value);\n      } else if (value.includes(\"url\")) {\n        image = URLImageResource.parse(value);\n      }\n    });\n\n    return image\n  }\n\n  static changeImageType (options) {\n    switch  (options.type) {\n    case 'static-gradient':\n      return new StaticGradient(options);\n    case 'linear-gradient': \n      return new LinearGradient(options);\n    case 'repeating-linear-gradient': \n      return new RepeatingLinearGradient(options);      \n    case 'radial-gradient': \n      return new RadialGradient(options);\n    case 'repeating-radial-gradient': \n      return new RepeatingRadialGradient(options);      \n    case 'conic-gradient': \n      return new ConicGradient(options);\n    case 'repeating-conic-gradient': \n      return new RepeatingConicGradient(options);      \n    case 'image-resource':\n    case 'url':\n      return new URLImageResource(options);\n    }\n  }\n\n  static parseStyle(style) {\n    var backgroundImages = [];\n    const key = JSON.stringify(style);\n\n    if (style[\"background-image\"]) {\n      var results = convertMatches(style[\"background-image\"]);\n\n      results.str.match(reg).forEach((value, index) => {\n        let image = null;\n        value = reverseMatches(value, results.matches);\n        if (value.includes(\"repeating-linear-gradient\")) {\n          image = RepeatingLinearGradient.parse(value);\n        } else if (value.includes(\"linear-gradient\")) {\n          image = LinearGradient.parse(value);\n        } else if (value.includes(\"repeating-radial-gradient\")) {\n          image = RepeatingRadialGradient.parse(value);\n        } else if (value.includes(\"radial-gradient\")) {\n          image = RadialGradient.parse(value);\n        } else if (value.includes(\"repeating-conic-gradient\")) {\n          image = RepeatingConicGradient.parse(value);\n        } else if (value.includes(\"conic-gradient\")) {\n          image = ConicGradient.parse(value);\n        } else if (value.includes(\"url\")) {\n          image = URLImageResource.parse(value);\n        }\n        \n        backgroundImages[index] = new BackgroundImage({\n          type: image.type,\n          image\n        });\n      });\n    }\n\n    if (style[\"background-repeat\"]) {\n      style[\"background-repeat\"].split(\",\").map(it => it.trim()).forEach((it, index) => {\n        if (backgroundImages[index]) {\n          backgroundImages[index].repeat = it;\n        }\n      });\n    }\n\n    if (style[\"background-blend-mode\"]) {\n      style[\"background-blend-mode\"].split(\",\").map(it => it.trim()).forEach((it, index) => {\n        if (backgroundImages[index]) {\n          backgroundImages[index].blendMode = it;\n        }\n      });\n    }\n\n    if (style[\"background-size\"]) {\n      style[\"background-size\"].split(\",\").map(it => it.trim()).forEach((it, index) => {\n        if (backgroundImages[index]) {\n          if (it == \"cover\" || it === \"contain\" || it === \"auto\") {\n            backgroundImages[index].size = it;\n          } else {\n            backgroundImages[index].size = \"auto\";\n            let [width, height] = it.split(' ');\n            backgroundImages[index].width = Length.parse(width);\n            backgroundImages[index].height = Length.parse(height);\n          }\n        }\n      });\n    }\n\n    if (style[\"background-position\"]) {\n      style[\"background-position\"].split(\",\").map(it => it.trim()).forEach((it, index) => {\n        if (backgroundImages[index]) {\n          let [x, y] = it.split(' ');\n          backgroundImages[index].x = Length.parse(x);\n          backgroundImages[index].y = Length.parse(y);\n        }\n      });\n    }\n\n    return backgroundImages;\n  }\n\n\n  static toPropertyCSS(list) {\n    var results = {};\n    list.forEach(item => {\n        keyEach(item.toCSS(), (key, value) => {\n            if (!results[key]) results[key] = [];\n            results[key].push(value);\n        });\n    });\n\n    return combineKeyArray(results);\n  }  \n\n  static join (list) {\n    return CSS_TO_STRING(BackgroundImage.toPropertyCSS(list.map(it => BackgroundImage.parse(it))))\n  }\n\n  static joinCSS (list) {\n    return BackgroundImage.toPropertyCSS(list.map(it => BackgroundImage.parse(it)))\n  }  \n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateColor } from \"../makeInterpolateColor\";\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { makeInterpolateString } from \"../makeInterpolateString\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolateColorStep(layer, property, startColorStep, endColorStep) {\n\n    \n    var obj = {\n        cut: makeInterpolateBoolean(layer, property, startColorStep.cut, endColorStep.cut),\n        percent: makeInterpolateNumber(layer, property, startColorStep.percent, endColorStep.percent),\n        px: makeInterpolateNumber(layer, property, startColorStep.px, endColorStep.px),\n        em: makeInterpolateNumber(layer, property, startColorStep.em, endColorStep.em), \n        unit: makeInterpolateString(layer, property, startColorStep.unit, endColorStep.unit),\n        color: makeInterpolateColor(layer, property, startColorStep.color, endColorStep.color)\n    }\n\n    // console.log(startColorStep.color, endColorStep.color)\n\n    return (rate, t) => {\n        \n        return new ColorStep({\n            cut: obj.cut(rate,t),\n            percent: obj.percent(rate, t),\n            px: obj.px(rate, t),\n            em: obj.em(rate, t),\n            unit: obj.unit(rate, t),\n            color: obj.color(rate, t)\n        })\n    }\n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateColorStep } from \"./makeInterpolateColorStep\";\n\nexport function makeInterpolateColorStepList(layer, property, startColorsteps = [], endColorsteps = []) {\n\n    var max = Math.max(startColorsteps.length, endColorsteps.length)\n\n    var list = []\n    for(var i = 0; i < max; i++) {\n        var s = startColorsteps[i];\n        var e = endColorsteps[i];\n\n        if (s && e) {\n            list[i] = makeInterpolateColorStep(layer, property, s, e);\n        } else {\n            list[i] = makeInterpolateBoolean(layer, property, s, e); \n        }\n    }\n\n\n    return (rate, t) => {\n        \n        return list.map(it => it(rate, t))\n    }\n}\n","import { LinearGradient } from \"el/editor/property-parser/image-resource/LinearGradient\";\nimport { makeInterpolateColorStepList } from \"./makeInterpolateColorStepList\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolateLinearGradient (layer, property, s, e) {\n\n    // angle 이랑 \n    // colorsteps \n\n    var obj = {\n        angle: makeInterpolateNumber(layer, property, s.angle, e.angle),\n        colorsteps: makeInterpolateColorStepList(layer, property, s.colorsteps, e.colorsteps)\n    }\n\n    return (rate, t) => {\n        var colorsteps = obj.colorsteps(rate, t);\n\n        return new LinearGradient({\n            angle: obj.angle(rate, t),\n            colorsteps\n        })\n    } \n}\n","import { makeInterpolateColorStepList } from \"./makeInterpolateColorStepList\";\nimport { makeInterpolateString } from \"../makeInterpolateString\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\nimport { RadialGradient } from \"el/editor/property-parser/image-resource/RadialGradient\";\n\n\nconst DEFINED_POSITIONS = {\n    [\"center\"]: true,\n    [\"top\"]: true,\n    [\"left\"]: true,\n    [\"right\"]: true,\n    [\"bottom\"]: true\n  };\n  \n  const DEFINED_ANGLES = {\n    \"to top\": 0,\n    \"to top right\": 45,\n    \"to right\": 90,\n    \"to bottom right\": 135,\n    \"to bottom\": 180,\n    \"to bottom left\": 225,\n    \"to left\": 270,\n    \"to top left\": 315\n  };\n  \n\nfunction convertPercent (value, type) {\n    switch(type) {\n    case 'width':\n        if (value === 'center') {\n            return '50%'\n        } else if (value === 'left') {\n            return '0%'\n        } else if (value === 'right') {\n            return '100%'\n        }\n        break; \n    case 'height':\n        if (value === 'center') {\n            return '50%'\n        } else if (value === 'top') {\n            return '0%'\n        } else if (value === 'bottom') {\n            return '100%'\n        }        \n        break; \n    }\n\n    return value; \n}\n\n\nexport function makeInterpolateRadialGradient (layer, property, s, e) {\n\n    // angle 이랑 \n    // colorsteps \n\n    // console.log(s, e);\n\n    s.radialPosition[0] = convertPercent(s.radialPosition[0], 'width')\n    s.radialPosition[1] = convertPercent(s.radialPosition[1], 'height')\n\n    e.radialPosition[0] = convertPercent(e.radialPosition[0], 'width')\n    e.radialPosition[1] = convertPercent(e.radialPosition[1], 'height')    \n\n    var obj = {\n        radialType: makeInterpolateString(layer, property, s.radialType, e.radialType),\n        radialPositionX: makeInterpolateLength(layer, property, s.radialPosition[0], e.radialPosition[0], 'width', 'self'),\n        radialPositionY: makeInterpolateLength(layer, property, s.radialPosition[1], e.radialPosition[1], 'height', 'self'),\n        colorsteps: makeInterpolateColorStepList(layer, property, s.colorsteps, e.colorsteps)\n    }\n\n    return (rate, t) => {\n        var results = new RadialGradient({\n            radialType: obj.radialType(rate, t),\n            radialPosition: [\n                obj.radialPositionX(rate, t),\n                obj.radialPositionY(rate, t)\n            ],\n            colorsteps: obj.colorsteps(rate, t)\n        })\n\n        return results;\n    } \n}\n","import { makeInterpolateColorStepList } from \"./makeInterpolateColorStepList\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\nimport { ConicGradient } from \"el/editor/property-parser/image-resource/ConicGradient\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolateConicGradient (layer, property, s, e) {\n\n    var obj = {\n        angle: makeInterpolateNumber(layer, property, s.angle, e.angle),\n        radialPositionX: makeInterpolateLength(layer, property, s.radialPosition[0], e.radialPosition[0], 'width', 'self'),\n        radialPositionY: makeInterpolateLength(layer, property, s.radialPosition[1], e.radialPosition[1], 'height', 'self'),\n        colorsteps: makeInterpolateColorStepList(layer, property, s.colorsteps, e.colorsteps)\n    }\n\n    return (rate, t) => {\n        return new ConicGradient({\n            angle: obj.angle(rate, t),\n            radialPosition: [ obj.radialPositionX(rate, t), obj.radialPositionY(rate, t) ],\n            colorsteps: obj.colorsteps(rate, t)\n        })\n    } \n}\n","import { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { makeInterpolateLinearGradient } from \"./gradient/makeInterpolateLinearGradient\";\nimport { makeInterpolateRepeatingLinearGradient } from \"./gradient/makeInterpolateRepeatingLinearGradient\";\nimport { makeInterpolateRepeatingRadialGradient } from \"./gradient/makeInterpolateRepeatingRadialGradient\";\nimport { makeInterpolateRepeatingConicGradient } from \"./gradient/makeInterpolateRepeatingConicGradient\";\nimport { makeInterpolateRadialGradient } from \"./gradient/makeInterpolateRadialGradient\";\nimport { makeInterpolateConicGradient } from \"./gradient/makeInterpolateConicGradient\";\n\nexport function makeInterpolateImageResource(layer, property, s, e) {\n\n    var obj = {\n        image: (rate, t) => {\n            return t; \n        }\n    }\n\n    if (s.type === 'url' || e.type === 'url') {\n        obj.image = makeInterpolateBoolean(layer, property, s, e);\n    } else {\n        if (s.type != e.type) {\n            obj.image = makeInterpolateBoolean(layer, property, s, e);\n        } else {\n            // 타입이 같을 때만 interpolate 함 \n            switch(s.type) {\n            case 'linear-gradient': \n                obj.image = makeInterpolateLinearGradient(layer, property, s, e); \n                break; \n            case 'repeating-linear-gradient': \n                obj.image = makeInterpolateRepeatingLinearGradient(layer, property, s, e); \n                break; \n            case 'radial-gradient': \n                obj.image = makeInterpolateRadialGradient(layer, property, s, e); \n                break; \n            case 'repeating-radial-gradient': \n                obj.image = makeInterpolateRepeatingRadialGradient(layer, property, s, e); \n                break; \n            case 'conic-gradient': \n                obj.image = makeInterpolateConicGradient(layer, property, s, e); \n                break; \n            case 'repeating-conic-gradient': \n                obj.image = makeInterpolateRepeatingConicGradient(layer, property, s, e); \n                break; \n            }\n        }\n    }\n\n    return (rate, t) => {\n       \n        return obj.image(rate, t);\n    }\n\n}\n","import { makeInterpolateLinearGradient } from \"./makeInterpolateLinearGradient\";\nimport { RepeatingLinearGradient } from \"el/editor/property-parser/image-resource/RepeatingLinearGradient\";\n\nexport function makeInterpolateRepeatingLinearGradient (layer, property, s, e) {\n\n    var func = makeInterpolateLinearGradient(layer, property, s, e);\n\n    return (rate, t) => {\n        var obj = func(rate, t);\n        var results = new RepeatingLinearGradient({\n            angle: obj.angle,\n            colorsteps: obj.colorsteps\n        })\n\n        return results\n    } \n}\n","import { makeInterpolateRadialGradient } from \"./makeInterpolateRadialGradient\";\nimport { RepeatingRadialGradient } from \"el/editor/property-parser/image-resource/RepeatingRadialGradient\";\n\nexport function makeInterpolateRepeatingRadialGradient (layer, property, s, e) {\n\n    var func = makeInterpolateRadialGradient(layer, property, s, e);\n\n    return (rate, t) => {\n        var obj = func(rate, t);\n        return new RepeatingRadialGradient({\n            radialType: obj.radialType,\n            radialPosition: obj.radialPosition,\n            colorsteps: obj.colorsteps\n        })\n    } \n}\n","import { makeInterpolateConicGradient } from \"./makeInterpolateConicGradient\";\nimport { RepeatingConicGradient } from \"el/editor/property-parser/image-resource/RepeatingConicGradient\";\n\nexport function makeInterpolateRepeatingConicGradient (layer, property, s, e) {\n\n    var func = makeInterpolateConicGradient(layer, property, s, e);\n\n    return (rate, t) => {\n        var obj = func(rate, t);\n        return new RepeatingConicGradient({\n            angle: obj.angle,\n            radialPosition: obj.radialPosition,\n            colorsteps: obj.colorsteps\n        })\n    } \n}\n","import { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { BackgroundImage } from \"../../property-parser/BackgroundImage\";\nimport { STRING_TO_CSS } from \"el/utils/func\";\nimport { makeInterpolateString } from \"./makeInterpolateString\";\nimport { makeInterpolateImageResource } from \"./makeInterpolateImageResource\";\nimport { makeInterpolateIdentity } from \"./makeInterpolateIdentity\";\n\nexport function makeInterpolateBackgroundImage(layer, property, startValue, endValue) {\n\n    var s = BackgroundImage.parseStyle(STRING_TO_CSS(startValue));\n    var e = BackgroundImage.parseStyle(STRING_TO_CSS(endValue));\n\n    var totalLength = Math.max(s.length, e.length)\n\n    var list = [] \n    for(var i = 0, len = totalLength; i < len; i++) {\n        var startObject = s[i] || null;\n        var endObject = e[i] || null;\n\n        if (startObject && !endObject) {\n            // 처음은 있고 끝이 없을 때 \n            list.push({\n                image: makeInterpolateIdentity(layer, property, startObject.image),\n                size: makeInterpolateIdentity(layer, property, startObject.size),\n                width: makeInterpolateIdentity(layer, property, startObject.width),\n                height: makeInterpolateIdentity(layer, property, startObject.height),\n                x: makeInterpolateIdentity(layer, property, startObject.x),\n                y: makeInterpolateIdentity(layer, property, startObject.y),\n                blendMode: makeInterpolateIdentity(layer, property, startObject.blendMode),\n                repeat: makeInterpolateIdentity(layer, property, startObject.repeat)\n            })            \n        } else if (!startObject && endObject) {\n            // 처음은 없고 끝이 있을 때 \n            list.push({\n                image: makeInterpolateIdentity(layer, property, endObject.image),\n                size: makeInterpolateIdentity(layer, property, endObject.size),\n                width: makeInterpolateIdentity(layer, property, endObject.width),\n                height: makeInterpolateIdentity(layer, property, endObject.height),\n                x: makeInterpolateIdentity(layer, property, endObject.x),\n                y: makeInterpolateIdentity(layer, property, endObject.y),\n                blendMode: makeInterpolateIdentity(layer, property, endObject.blendMode),\n                repeat: makeInterpolateIdentity(layer, property, endObject.repeat)\n            })            \n        } else if (startObject && endObject) {\n            // 처음도 있고 끝도 있을 때 \n            list.push({\n                image: makeInterpolateImageResource(layer, property, startObject.image, endObject.image),\n                size: makeInterpolateString(layer, property, startObject.size, endObject.size),\n                width: makeInterpolateLength(layer, property, startObject.width, endObject.width, 'width', 'self'),\n                height: makeInterpolateLength(layer, property, startObject.height, endObject.height, 'height', 'self'),                \n                x: makeInterpolateLength(layer, property, startObject.x, endObject.x, 'width', 'self'),\n                y: makeInterpolateLength(layer, property, startObject.y, endObject.y, 'height', 'self'),\n                blendMode: makeInterpolateString(layer, property, startObject.blendMode, endObject.blendMode),\n                repeat: makeInterpolateString(layer, property, startObject.repeat, endObject.repeat)\n            })            \n        }\n    }\n\n    return (rate, t) => {\n        return BackgroundImage.join(list.map(it => {\n            var data= {\n                image: it.image(rate, t), \n                size: it.size(rate, t),\n                x: it.x(rate, t),\n                y: it.y(rate, t),\n                width: it.width(rate, t),\n                height: it.height(rate, t),\n                blendMode: it.blendMode(rate, t), \n                repeat: it.repeat(rate, t)\n            }\n            return data; \n        }))\n    }\n\n}\n","import { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nconst FILTER_REG = /((blur|drop\\-shadow|hue\\-rotate|invert|brightness|contrast|opacity|saturate|sepia|url)\\(([^\\)]*)\\))/gi;\nexport class Filter extends PropertyItem {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({ \n      itemType: \"filter\", \n      ...obj \n    });\n  }\n\n  toString() {\n    return `${this.json.type}(${this.json.value || \"\"})`;\n  }\n\n  static parse (obj) {\n    var FilterClass = FilterClassName[obj.type];\n\n    if (FilterClass) {\n      return new FilterClass(obj);\n    } else {\n      return new URLSvgFilter({\n        value: obj.value \n      });\n    }\n  }  \n\n  static parseStyle (filter) {\n\n    var filters = [];\n\n    if (!filter) return filters;\n\n    var results = convertMatches(filter);\n    var matches = (results.str.match(FILTER_REG) || []);\n    matches.forEach((value, index) => {\n      var [filterName, filterValue] = value.split(\"(\");\n      filterValue = filterValue.split(\")\")[0];\n\n      if (filterName === \"drop-shadow\") {\n        var arr = filterValue.split(\" \");\n\n        var colors = arr\n          .filter(it => it.includes(\"@\"))\n          .map(it => {\n            return reverseMatches(it, results.matches);\n          });\n        var values = arr.filter(it => !it.includes(\"@\"));\n\n        // drop-shadow 값 설정\n        filters[index] = Filter.parse({\n          type: filterName,\n          offsetX: Length.parse(values[0]),\n          offsetY: Length.parse(values[1]),\n          blurRadius: Length.parse(values[2]),\n          color: colors[0] || \"rgba(0, 0, 0, 1)\"\n        });\n      } else {\n        // drop shadow 제외한 나머지 값 지정\n        filters[index] = Filter.parse({\n          type: filterName,\n          value: Length.parse(filterValue)\n        });\n      }\n    });\n    return filters;\n  }\n\n  static join (list) {\n    return list.map(it => Filter.parse(it)).join(' ');\n  }\n\n}\n\nexport class BlurFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"blur\",\n      value: BlurFilter.spec.defaultValue\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('value')\n    }\n  }\n}\n\nBlurFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: 'px',\n  units: [\"px\", \"em\"],\n  defaultValue: Length.z()\n};\n\nexport class URLSvgFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"svg\",\n      value: URLSvgFilter.spec.defaultValue\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('value')\n    }\n  }\n\n  toString() {\n    return `url(#${this.json.value || \"\"})`;\n  }\n}\n\nURLSvgFilter.spec = {\n  inputType: \"select\",\n  defaultValue: ''\n};\n\nexport class GrayscaleFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"grayscale\",\n      value: GrayscaleFilter.spec.defaultValue\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('value')\n    }\n  }\n}\n\nGrayscaleFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(0)\n};\n\nexport class HueRotateFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"hue-rotate\",\n      value: HueRotateFilter.spec.defaultValue\n    });\n  }\n}\n\nHueRotateFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 360,\n  step: 1,\n  unit: 'deg',\n  units: [\"deg\"],\n  defaultValue: Length.deg(0)\n};\n\nexport class InvertFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"invert\",\n      value: InvertFilter.spec.defaultValue\n    });\n  }\n}\n\nInvertFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(0)\n};\n\nexport class BrightnessFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"brightness\",\n      value: BrightnessFilter.spec.defaultValue\n    });\n  }\n}\n\nBrightnessFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 200,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(100)\n};\n\nexport class ContrastFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"contrast\",\n      value: ContrastFilter.spec.defaultValue\n    });\n  }\n}\n\nContrastFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 200,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(100)\n};\n\nexport class OpacityFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"opacity\",\n      value: OpacityFilter.spec.defaultValue\n    });\n  }\n}\n\nOpacityFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(100)\n};\n\nexport class SaturateFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"saturate\",\n      value: SaturateFilter.spec.defaultValue\n    });\n  }\n}\n\nSaturateFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(100)\n};\n\nexport class SepiaFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"sepia\",\n      value: SepiaFilter.spec.defaultValue\n    });\n  }\n}\n\nSepiaFilter.spec = {\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(0)\n};\n\nexport class DropshadowFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"drop-shadow\",\n      multi: true,\n      offsetX: DropshadowFilter.spec.offsetX.defaultValue,\n      offsetY: DropshadowFilter.spec.offsetY.defaultValue,\n      blurRadius: DropshadowFilter.spec.blurRadius.defaultValue,\n      color: DropshadowFilter.spec.color.defaultValue\n    });\n  }\n\n  toString() {\n    var json = this.json;\n    return `drop-shadow(${json.offsetX} ${json.offsetY} ${json.blurRadius} ${json.color})`;\n  }\n}\n\nDropshadowFilter.spec = {\n  offsetX: {\n    title: \"Offset X\",\n    inputType: \"range\",\n    min: -100,\n    max: 100,\n    step: 1,\n    defaultValue: Length.z(),\n    unit: 'px',\n    units: [\"px\", \"em\"]\n  },\n  offsetY: {\n    title: \"Offset Y\",\n    inputType: \"range\",\n    min: -100,\n    max: 100,\n    step: 1,\n    defaultValue: Length.z(),\n    unit: 'px',\n    units: [\"px\", \"em\"]\n  },\n  blurRadius: {\n    title: \"Blur Radius\",\n    inputType: \"range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.z(),\n    unit: 'px',\n    units: [\"px\", \"em\", \"%\"]\n  },\n  color: {\n    title: \"Color\",\n    inputType: \"color\",\n    defaultValue: \"rgba(0, 0, 0, 1)\",\n    unit: 'color'\n  }\n};\n\nexport const FilterClassList = [\n  BlurFilter,\n  GrayscaleFilter,\n  HueRotateFilter,\n  InvertFilter,\n  BrightnessFilter,\n  ContrastFilter,\n  OpacityFilter,\n  SaturateFilter,\n  SepiaFilter,\n  DropshadowFilter,\n  URLSvgFilter\n];\n\nexport const FilterClassName = {\n  blur: BlurFilter,\n  grayscale: GrayscaleFilter,\n  \"hue-rotate\": HueRotateFilter,\n  invert: InvertFilter,\n  brightness: BrightnessFilter,\n  contrast: ContrastFilter,\n  opacity: OpacityFilter,\n  saturate: SaturateFilter,\n  sepia: SepiaFilter,\n  \"drop-shadow\": DropshadowFilter,\n  svg: URLSvgFilter\n};\n\nexport const FilterClass = {\n  BlurFilter,\n  GrayscaleFilter,\n  HueRotateFilter,\n  InvertFilter,\n  BrightnessFilter,\n  ContrastFilter,\n  OpacityFilter,\n  SaturateFilter,\n  SepiaFilter,\n  DropshadowFilter,\n  URLSvgFilter\n};\n","import { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { makeInterpolateString } from \"./makeInterpolateString\";\nimport { makeInterpolateNumber } from \"./makeInterpolateNumber\";\nimport { makeInterpolateColor } from \"./makeInterpolateColor\";\n\nexport function makeInterpolateFilterItem(layer, property, startValue, endValue) {\n\n    var obj = {\n        type: makeInterpolateString(layer, property, startValue.type, endValue.type),\n        value: makeInterpolateBoolean(layer, property, startValue.value, endValue.value)\n    } \n\n    switch(startValue.type) {\n    case 'blur': \n        obj.value = makeInterpolateLength(layer, property, startValue.value, endValue.value);\n        break;     \n    case 'grayscale':\n    case 'invert':\n    case 'brightness':\n    case 'contrast':\n    case 'opacity':\n    case 'saturate':\n    case 'sepia':\n    case 'hue-rotate':        \n        obj.value = makeInterpolateNumber(layer, property, startValue.value.value, endValue.value.value, startValue.value.unit);\n        break;        \n    case 'drop-shadow':\n        obj.offsetX = makeInterpolateLength(layer, property, startValue.offsetX, endValue.offsetX, 'width', 'self')\n        obj.offsetY = makeInterpolateLength(layer, property, startValue.offsetY, endValue.offsetY, 'height', 'self')\n        obj.blurRadius = makeInterpolateLength(layer, property, startValue.blurRadius, endValue.blurRadius, 'width', 'self')\n        obj.spreadRadius = makeInterpolateLength(layer, property, startValue.spreadRadius, endValue.spreadRadius, 'width', 'self')\n        obj.color = makeInterpolateColor(layer, property, startValue.color, endValue.color)\n        break; \n    }\n\n    return (rate, t) => {\n\n        var type =  obj.type(rate, t)\n\n        if (type === 'drop-shadow') {\n\n            return {\n                type: obj.type(rate, t),\n                offsetX: obj.offsetX(rate, t),\n                offsetY: obj.offsetY(rate, t),\n                blurRadius: obj.blurRadius(rate, t),\n                spreadRadius: obj.spreadRadius(rate, t),\n                color: obj.color(rate, t)\n            }\n        } else {\n\n            return {\n                type: obj.type(rate, t),\n                value: obj.value(rate, t)\n            }\n        }\n\n    }\n\n}\n","import { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { Filter } from \"../../property-parser/Filter\";\nimport { makeInterpolateIdentity } from \"./makeInterpolateIdentity\";\nimport { makeInterpolateFilterItem } from \"./makeInterpolateFilterItem\";\n\nexport function makeInterpolateFilter(layer, property, startValue, endValue) {\n    var s = Filter.parseStyle(startValue);\n    var e = Filter.parseStyle(endValue);\n\n    var totalLength = Math.max(s.length, e.length)\n\n    var list = [] \n    for(var i = 0, len = totalLength; i < len; i++) {\n        var startObject = s[i]\n        var endObject = e[i]\n\n        if (startObject && !endObject) {\n            list.push(makeInterpolateIdentity(layer, property, startObject)) \n        } else if (!startObject && endObject) {\n            list.push(makeInterpolateIdentity(layer, property, endObject)) \n        } else {\n\n            if (startObject.type != endObject.type || startObject.type === 'svg' || endObject.type === 'svg') {\n                list.push(makeInterpolateBoolean(layer, property, startObject, endObject))\n            } else {\n                list.push(makeInterpolateFilterItem(layer, property, startObject, endObject))\n            }\n\n        }\n\n    }\n\n    return (rate, t) => {\n        return Filter.join(list.map(it => it(rate, t)))\n    }\n\n}\n","import { Length } from \"./Length\";\n\nexport class DirectionLength {\n    static parse (str) {\n        var temp = str.split(' ').filter(it => it.trim()).map(it => Length.parse(it))\n\n        var top = Length.percent(0), right = Length.percent(0), bottom = Length.percent(0), left = Length.percent(0);\n\n        if (temp.length === 1) {\n            top = temp[0].clone()\n            right = temp[0].clone()\n            bottom = temp[0].clone()\n            left = temp[0].clone()\n        } else if (temp.length === 2) {\n            top = temp[0].clone()\n            right = temp[1].clone()\n            bottom = temp[0].clone()\n            left = temp[1].clone()            \n        } else if (temp.length === 3) {\n            top = temp[0].clone()\n            right = temp[1].clone()\n            bottom = temp[2].clone()\n            left = temp[1].clone()  \n        } else if (temp.length === 4) {\n            top = temp[0].clone()\n            right = temp[1].clone()\n            bottom = temp[2].clone()\n            left = temp[3].clone()\n        }\n\n        return [temp.length, top, right, bottom, left]\n    }\n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { DirectionLength } from \"el/editor/unit/DirectionLength\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { isUndefined } from \"el/sapa/functions/func\";\nconst CLIPPATH_REG = /(content\\-box|padding\\-box|border\\-box|margin\\-box|view\\-box|stroke\\-box|fill\\-box|none|(inset|circle|ellipse|polygon|path|svg|url)(\\(([^\\)]*)\\))?)/gi;\nexport class ClipPath extends PropertyItem {\n\n    getDefaultObject(obj = {}) {\n        return super.getDefaultObject( { \n            itemType: 'clip-path', \n            type: 'none',\n            value: '',\n            ...obj \n        })\n    }\n\n    toCloneObject() {\n        return {\n            ...super.toCloneObject(),\n            ...this.attrs('value')\n        }\n    }\n\n    toString() {\n        var type = this.json.type; \n        var value = this.json.value;\n        var box = this.json.box; \n\n        var results = '';\n\n        switch(type) {\n            case 'circle':\n            case 'inset':\n            case 'ellipse':\n            case 'polygon':\n            case 'path':\n                results = `${type}(${value})`;\n                break;                \n            case 'svg':\n                results = `url(#${value})`;\n                break;\n            default: \n                results = 'none';\n                break;\n        }\n\n        return box ? `${box} ${results}` : results;\n    }    \n\n    toCSS () {\n        return {\n            'clip-path': this.toString()\n        }\n    }\n\n\n    static toCSS (obj) {\n        return new ClipPath(obj).toCSS()\n    }\n\n    static toString (obj) {\n        return ClipPath.toCSS(obj)['clip-path']\n    }\n\n    static parse (obj) {\n        return new ClipPath(obj);\n    }\n\n    static parseStyle (str) { \n\n        var clippath = {};\n\n        if (!str) return {};\n    \n        var matches = (str.match(CLIPPATH_REG) || []);\n\n        matches.forEach((value, index) => {\n\n            if (value.includes('-box')) {\n                clippath.box = value; \n            } else {\n                var [clipPathName, clipPathValue] = value.split(\"(\");\n\n                clipPathValue = clipPathValue || ''; \n\n                if (clipPathName === 'none') {\n                    clipPathValue = ''\n                } else {\n                    clipPathValue = clipPathValue.split(\")\")[0];\n                }\n    \n                clippath.type = clipPathName;\n                clippath.value = clipPathValue;\n            }\n        });\n\n        return clippath;\n    }\n\n    static parseStyleForCircle (str) {\n        var radius = new Length('', 'closest-side'), position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        return {\n            radius, x, y\n        }\n    }\n\n    static parseStyleForEllipse (str = '50% 50%') {\n        var radius = `50% 50%`, position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        var [radiusX, radiusY] = radius.split(' ');\n\n        if (isUndefined(radiusY)) {\n            radiusY = radiusX;\n        }\n\n        radiusX = Length.parse(radiusX)\n        radiusY = Length.parse(radiusY)\n\n        return {\n            radiusX,\n            radiusY, \n            x, \n            y\n        }\n    }\n\n    static parseStyleForInset (str = '') {\n        var [inset, round] = str.split('round')\n\n        var [_count, top, right, bottom, left] = DirectionLength.parse(inset);\n\n        if (round) {\n\n            var [_roundCount, topRadius, rightRadius, bottomRadius, leftRadius] = DirectionLength.parse(round);\n\n        }\n\n        return {\n            isAll: _count === 1,\n            top, \n            right, \n            bottom, \n            left ,\n            round,\n            isAllRadius: _roundCount === 1,\n            topRadius,\n            rightRadius,\n            bottomRadius,\n            leftRadius\n        }\n    }\n\n    \n    static parseStyleForPolygon (str = '') {\n\n        return str.split(',').filter(it => it.trim()).map(it => {\n           var [x, y] = it.trim().split(' ')\n\n           return { \n               x: Length.parse(x), \n               y: Length.parse(y)\n            }\n        })\n    }\n}\n","import { ClipPath } from \"../../property-parser/ClipPath\";\nimport { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { makeInterpolateClipPathCircle } from \"./clip-path/makeInterpolateClipPathCircle\";\nimport { makeInterpolateClipPathEllipse } from \"./clip-path/makeInterpolateClipPathEllipse\";\nimport { makeInterpolateClipPathPolygon } from \"./clip-path/makeInterpolateClipPathPolygon\";\nimport { makeInterpolateClipPathInset } from \"./clip-path/makeInterpolateClipPathInset\";\n\nexport function makeInterpolateClipPath(layer, property, startValue, endValue) {\n\n    var startObject = ClipPath.parseStyle(startValue);\n    var endObject = ClipPath.parseStyle(endValue);\n\n    var obj = {\n        type: makeInterpolateBoolean(layer, property, startObject.type, startObject.type),\n        value: makeInterpolateBoolean(layer, property, startValue, endValue)\n    }\n\n    if (startObject.type == endObject.type && startObject != 'none')  {\n        switch(startObject.type) {\n        case 'circle':\n            startObject.value = ClipPath.parseStyleForCircle(startObject.value);\n            endObject.value = ClipPath.parseStyleForCircle(endObject.value);\n\n            obj.value = makeInterpolateClipPathCircle(layer, property, startObject.value, endObject.value);\n\n            break; \n        case 'ellipse':\n            startObject.value = ClipPath.parseStyleForEllipse(startObject.value);\n            endObject.value = ClipPath.parseStyleForEllipse(endObject.value);\n\n            obj.value = makeInterpolateClipPathEllipse(layer, property, startObject.value, endObject.value);            \n            break;  \n        case 'inset': // 구현 해야함 \n            startObject.value = ClipPath.parseStyleForInset(startObject.value);\n            endObject.value = ClipPath.parseStyleForInset(endObject.value);\n\n            obj.value = makeInterpolateClipPathInset(layer, property, startObject.value, endObject.value);\n            break;\n        case 'polygon': // 구현 해야함 \n            startObject.value = ClipPath.parseStyleForPolygon(startObject.value);\n            endObject.value = ClipPath.parseStyleForPolygon(endObject.value);\n\n            obj.value = makeInterpolateClipPathPolygon(layer, property, startObject.value, endObject.value);\n            break;\n        case 'path':  // 구현 해야함 \n            startObject.value = ClipPath.parseStyleForPath(startObject.value);\n            endObject.value = ClipPath.parseStyleForPath(endObject.value);\n\n            obj.value = makeInterpolateClipPathPath(layer, property, startObject.value, endObject.value);        \n            break;\n        }\n    }\n\n\n    return (rate, t) => {\n\n        var type = obj.type(rate, t);\n        var value = obj.value(rate, t);\n\n        if (type === 'none') {\n            return type; \n        }\n\n        return  `${type}(${value})`\n    }\n\n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\n\nexport function makeInterpolateClipPathCircle (layer, property, s, e) {\n\n    //radius, x, y\n    // radius : length - percent closest-side | farthest-side\n\n    var obj = {}\n\n    if (\n        s.radius === 'closest-side' || \n        s.radius === 'farthest-side' ||  \n        e.radius === 'closest-side' || \n        e.radius === 'farthest-side'\n    ) {\n        obj.radius = makeInterpolateBoolean(layer, property, s.radius, e.radius)\n    } else {\n\n        if (s.radius.unit === e.radius.unit) {\n            obj.radius = makeInterpolateNumber(layer, property, s.radius.value, e.radius.value, s.radius.unit)\n        } else {\n            obj.radius = makeInterpolateLength(layer, property, s.radius, e.radius, 'width', 'self')\n        }\n    }\n\n    obj.x = makeInterpolateLength(layer, property, s.x, e.x, 'width', 'self')\n    obj.y = makeInterpolateLength(layer, property, s.y, e.y, 'height', 'self')\n\n    return (rate, t) => {\n\n        var radius = obj.radius(rate, t);\n        var x = obj.x(rate, t);\n        var y = obj.y(rate, t);\n\n        var results = `${x} ${y}`\n\n        var radiusString = radius + '';\n\n        if (radiusString.includes('closest-side')) {\n            radiusString = 'closest-side'\n        } else if (radiusString.includes('farthest-side')) {\n            radiusString = 'farthest-side'\n        }\n\n        return radius ? `${radiusString} at ${results}` :  `${results}`;\n\n    } \n}\n","import { makeInterpolateLength } from \"../makeInterpolateLength\";\n\nexport function makeInterpolateClipPathEllipse (layer, property, s, e) {\n\n    var obj = {\n        radiusX: makeInterpolateLength(layer, property, s.radiusX, e.radiusX, 'width', 'self'),\n        radiusY: makeInterpolateLength(layer, property, s.radiusY, e.radiusY, 'height', 'self'),\n        x: makeInterpolateLength(layer, property, s.x, e.x, 'width', 'self'),\n        y: makeInterpolateLength(layer, property, s.y, e.y, 'height', 'self')        \n    }\n\n    return (rate, t) => {\n\n        var radiusX = obj.radiusX(rate, t);\n        var radiusY = obj.radiusY(rate, t);\n        var x = obj.x(rate, t);\n        var y = obj.y(rate, t);\n\n        return `${radiusX} ${radiusY} at ${x} ${y}`;\n    } \n}\n","import { makeInterpolateNumber } from \"../makeInterpolateNumber\";\nimport { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\n\nexport function makeInterpolateClipPathInset (layer, property, s, e) {\n\n    var obj = {\n        top: makeInterpolateNumber(layer, property, s.top.value, e.top.value, s.top.unit),\n        left: makeInterpolateNumber(layer, property, s.left.value, e.left.value, s.left.unit),\n        right: makeInterpolateNumber(layer, property, s.right.value, e.right.value, s.right.unit),\n        bottom: makeInterpolateNumber(layer, property, s.bottom.value, e.bottom.value, s.bottom.unit),\n        round: makeInterpolateBoolean(layer, property, s.round, e.round),\n        topRadius: makeInterpolateNumber(layer, property, s.topRadius.value, e.topRadius.value, s.topRadius.unit),\n        leftRadius: makeInterpolateNumber(layer, property, s.leftRadius.value, e.leftRadius.value, s.leftRadius.unit),\n        rightRadius: makeInterpolateNumber(layer, property, s.rightRadius.value, e.rightRadius.value, s.rightRadius.unit),\n        bottomRadius: makeInterpolateNumber(layer, property, s.bottomRadius.value, e.bottomRadius.value, s.bottomRadius.unit)\n    }\n\n    return (rate, t) => {\n\n        var top = obj.top(rate, t);\n        var right = obj.right(rate, t);\n        var bottom = obj.bottom(rate, t);\n        var left = obj.left(rate, t);\n\n        var round = obj.round(rate, t);\n\n        var topRadius = obj.topRadius(rate, t);\n        var leftRadius = obj.leftRadius(rate, t);\n        var bottomRadius = obj.bottomRadius(rate, t);\n        var rightRadius = obj.rightRadius(rate, t);\n\n        var position = [top, right, bottom, left].join(' ')\n        var radius = [topRadius, rightRadius, bottomRadius, leftRadius].join(' ')\n        var results = `${position} ${(round && radius.trim()) ? `round ${radius}` : ''}`\n\n        return results;\n    } \n}\n","import { makeInterpolateIdentity } from \"../makeInterpolateIdentity\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\n\nexport function makeInterpolateClipPathPolygon (layer, property, s, e) {\n    var max = Math.max(s.length, e.length)\n    var list = [] \n\n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        if (startPos && !endPos) {\n            list.push({\n                x: makeInterpolateIdentity(layer, property, startPos.x),\n                y: makeInterpolateIdentity(layer, property, startPos.y),\n            })\n        } else if (!startPos && endPos) {\n            list.push({\n                x: makeInterpolateIdentity(layer, property, endPos.x),\n                y: makeInterpolateIdentity(layer, property, endPos.y),\n            })\n        } else {\n            list.push({\n                x: makeInterpolateLength(layer, property, startPos.x, endPos.x, 'width', 'self'),\n                y: makeInterpolateLength(layer, property, startPos.y, endPos.y, 'height', 'self')\n            })\n        }\n        \n    }\n\n    return (rate, t) => {\n        return list.map(it => {\n            return `${it.x(rate, t)} ${it.y(rate, t)}`\n        }).join(',')\n    } \n}\n","const MAX_CACHE_COUNT = 1000;\nconst cachedTransformMap = new Map();\n\n\nexport class TransformCache {\n\n    static has (key) {\n        return cachedTransformMap.has(key);\n    }\n\n    static get (key) {\n        return cachedTransformMap.get(key);\n    }\n\n    static set (key, parsedValue) {\n\n        if (cachedTransformMap.size > MAX_CACHE_COUNT) {\n            cachedTransformMap.clear();\n        }\n\n        cachedTransformMap.set(key, parsedValue);\n    }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { mat4, vec3 } from \"gl-matrix\";\nimport { degreeToRadian } from \"el/utils/math\";\nimport { TransformCache } from \"./TransformCache\";\n\nconst TRANSFORM_REG = /((matrix|translate(X|Y|Z|3d)?|scale(X|Y|Z|3d)?|rotate(X|Y|Z|3d)?|skew(X|Y)?|matrix(3d)?|perspective)\\(([^\\)]*)\\))/gi;\n\nexport class Transform extends PropertyItem {\n  getDefaultObject() {\n    return {\n      itemType: \"transform\",\n      value: [],\n    };\n  }\n\n  toCloneObject() {\n    return {\n      ...this.attrs('itemType', 'type', 'value')\n    }\n  }\n\n  toString() {\n    return `${this.json.type}(${this.json.value.join(', ') || \"\"})`;\n  }\n\n\n  static join(list) {\n\n    var firstType = 'perspective'\n    var lastType = 'matrix3d'\n\n    var arr = list.filter(it => it.type === firstType)\n    var last = list.filter(it => it.type === lastType)\n    var arr2 = list.filter(it => it.type !== firstType && it.type !== lastType)\n\n    return [...arr, ...arr2, ...last].map(it => new Transform(it).toString()).join(' ')\n  }\n\n  hasNumberValue() {\n    var type = this.json.type;\n    return type.includes('matrix') || type.includes('scale')\n  }\n\n  static parse(transform) {\n    return new Transform(transform);\n  }\n\n  static remove(transform, type = []) {\n\n    if (typeof type === 'string') {\n      type = [type]\n    }\n\n    return Transform.filter(transform, it => {\n      return type.includes(it.type) === false;\n    })\n  }\n\n  static filter(transform, filterFunction) {\n    return Transform.join(Transform.parseStyle(transform, false).filter(it => filterFunction(it)))\n  }\n\n  static replace(transform, valueObject) {\n\n    var obj = Transform.parseStyle(transform, false)\n\n    var tObject = obj.find(t => t.type === valueObject.type);\n\n    if (tObject) {\n      tObject.value = valueObject.value\n    } else {\n      obj.push(valueObject)\n    }\n\n    return Transform.join(obj);\n  }\n\n  static replaceAll(oldTransform, newTransform) {\n    var oldT = Transform.parseStyle(oldTransform, false)\n    var newT = Transform.parseStyle(newTransform)\n\n    for (var i = 0, len = newT.length; i < len; i++) {\n      var newObject = newT[i];\n      var oldObject = oldT.find(t => t.type === newObject.type);\n\n      if (oldObject) {\n        oldObject.value = newObject.value\n      } else {\n        oldT.push(newObject)\n      }\n    }\n\n    return Transform.join(oldT);\n  }\n\n  static addTransform(oldTransform, newTransform) {\n    var oldT = Transform.parseStyle(oldTransform, false)\n    var newT = Transform.parseStyle(newTransform)\n\n    for (var i = 0, len = newT.length; i < len; i++) {\n      var newObject = newT[i];\n      var oldObject = oldT.find(t => t.type === newObject.type);\n\n      if (oldObject) {\n        newObject.value.forEach((v, i) => {\n          oldObject.value[i].value += v.value;\n        })\n      } else {\n        oldT.push(newObject)\n      }\n    }\n\n    return Transform.join(oldT);\n  }\n\n  /**\n   * \n   * @param {string} transform \n   * @param {string} type \n   * @returns {Length[]} 값 배열 \n   */\n  static get(transform, type) {\n    var arr = Transform.parseStyle(transform, true)\n\n    if (typeof type === 'function') {\n      arr = arr.find(type);\n    } else {\n      arr = arr.find(it => it.type === type);\n    }\n\n    if (arr) {\n      return arr.value;\n    }\n\n    return undefined;\n  }\n\n  static createRotateKey(transform, angle, field) {\n    return `${transform}:::${field}(${angle})`\n  }\n\n  static rotate(transform, angle, field = 'rotate') {\n\n    const key = Transform.createRotateKey(transform, angle, field);\n\n    if (TransformCache.has(key)) return TransformCache.get(key);\n\n    TransformCache.set(key, Transform.replace(transform, { type: field, value: [angle] }));\n\n    return TransformCache.get(key);\n  }\n\n  static rotateZ(transform, angle) {\n    return Transform.rotate(transform, angle, 'rotateZ')\n  }\n\n  static rotateX(transform, angle) {\n    return Transform.rotate(transform, angle, 'rotateX')\n  }\n\n  static rotateY(transform, angle) {\n    return Transform.rotate(transform, angle, 'rotateY')\n  }\n\n  /**\n   * css transform 문자열을 파싱한다. \n   * \n   * @param {string} transform \n   * @param {boolean} [doCache=true] 캐쉬 적용할지 여부 결정 \n   * @returns {Transform[]} 트랜스폼 리스트 \n   */\n  static parseStyle(transform, doCache = true) {\n\n    var transforms = [];\n\n    if (!transform) return transforms;\n\n\n    if (doCache && TransformCache.has(transform)) {\n      return TransformCache.get(transform);\n    }\n\n    var matches = (transform.match(TRANSFORM_REG) || []);\n\n    matches.forEach((value, index) => {\n      var [transformName, transformValue] = value.split(\"(\");\n      transformValue = transformValue.split(\")\")[0];\n\n      var arr = transformValue.split(',');\n\n      if (transformValue.includes('matrix') || transformValue.includes('scale')) {\n        arr = arr.map(it => Length.number(it.trim()))\n      } else {\n        arr = arr.map(it => Length.parse(it.trim()))\n      }\n\n      // drop shadow 제외한 나머지 값 지정\n      transforms[index] = Transform.parse({\n        type: transformName,\n        value: arr\n      });\n\n    });\n\n    if (doCache) {\n      TransformCache.set(transform, transforms);\n    }\n\n    return transforms;\n  }\n\n  /**\n   * Transform 정보를 기준으로 mat4 행렬값으로 변환 \n   * \n   * \n   * @param {Transform[]} parsedTransformList 파싱된 Transform 리스트 \n   * @param {number} width Layer 의 실제 넓이 \n   * @param {number} height Layer 의 실제 높이 \n   */\n  static createTransformMatrix(parsedTransformList, width, height) {\n \n    // start with the identity matrix \n    const view = mat4.create();\n\n    // 3. Multiply by each of the transform functions in transform property from left to right     \n    for (let i = 0, len = parsedTransformList.length; i < len; i++) {\n      const it = parsedTransformList[i];\n\n      switch (it.type) {\n        case 'translate':\n        case 'translateX':\n        case 'translateY':\n        case 'translateZ':\n          var values = it.value\n          if (it.type === 'translate') {\n            values = [values[0].toPx(width).value, values[1].toPx(height).value, 0];\n          } else if (it.type === 'translateX') {\n            values = [values[0].toPx(width).value, 0, 0];\n          } else if (it.type === 'translateY') {\n            values = [0, values[0].toPx(height).value, 0];\n          } else if (it.type === 'translateZ') {\n            values = [0, 0, values[0].toPx().value];\n          }\n\n          mat4.translate(view, view, values);\n          break;\n        case 'rotate':\n        case 'rotateZ':\n          mat4.rotateZ(view, view, degreeToRadian(it.value[0].value));\n          break;\n        case 'rotateX':\n          mat4.rotateX(view, view, degreeToRadian(it.value[0].value));\n          break;\n        case 'rotateY':\n          mat4.rotateY(view, view, degreeToRadian(it.value[0].value));\n          break;\n        case 'rotate3d':\n          var values = it.value\n          mat4.rotate(view, view, degreeToRadian(it.value[3].value), [\n            values[0].value,\n            values[1].value,\n            values[2].value,\n          ]);\n          break;\n        case 'scale':\n          mat4.scale(view, view, [it.value[0].value, it.value[1].value, 1]);\n          break;\n        case 'scaleX':\n          mat4.scale(view, view, [it.value[0].value, 1, 1]);\n          break;\n        case 'scaleY':\n          mat4.scale(view, view, [1, it.value[0].value, 1]);\n          break;\n        case 'scaleZ':\n          mat4.scale(view, view, [1, 1, it.value[0].value]);\n          break;\n        case 'skewX':\n\n          var rad = it.value[0].toDeg().toRad()\n\n          mat4.multiply(view, view, mat4.fromValues(\n            1, 0, 0, 0,\n            Math.tan(rad.value), 1, 0, 0,\n            0, 0, 1, 0,\n            0, 0, 0, 1,\n          ));\n          break;\n        case 'skewY':\n          var rad = it.value[0].toDeg().toRad()\n          mat4.multiply(view, view, mat4.fromValues(\n            1, Math.tan(rad.value), 0, 0,\n            0, 1, 0, 0,\n            0, 0, 1, 0,\n            0, 0, 0, 1,\n          ));\n          break;\n        case 'skew':\n            const skewX = it.value[0].toDeg().toRad();\n            const skewY = it.value.length > 1 ? it.value[1].toDeg().toRad() : skewX;\n            mat4.multiply(view, view, mat4.fromValues(\n              1, Math.tan(skewY.value), 0, 0,\n              Math.tan(skewX.value), 1, 0, 0,\n              0, 0, 1, 0,\n              0, 0, 0, 1,\n            ));\n            break;\n        case 'matrix':\n          var values = it.value;\n          values = [\n            values[0].value, values[1].value, 0, 0,\n            values[2].value, values[3].value, 0, 0,\n            0, 0, 1, 0,\n            values[4].value, values[5].value, 0, 1\n          ]\n          mat4.multiply(view, view, values);\n          break;\n        case 'matrix3d':\n          var values = it.value.map(it => it.value);\n          mat4.multiply(view, view, values);\n          break;\n        case 'perspective':\n          var values = it.value;\n          mat4.perspective(view, Math.PI * 0.5, width / height, 1, values[0].value);\n          break;\n      }\n    }\n\n    return view;\n  }\n  static fromScale(scale) {\n    if (scale[0] === 1 && scale[1] === 1) {\n      return '';\n    }\n\n    const list = [];\n    if (scale[0] != 1) list.push(`scaleX(${scale[0]})`);\n    if (scale[1] != 1) list.push(`scaleY(${scale[1]})`);\n    if (scale[2] != 1) list.push(`scaleZ(${scale[2]})`);\n\n    return list.join(' ');\n  }\n}","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\n\nexport function makeInterpolateTransformLength (layer, property, startValue, endValue) {\n\n    var obj = {\n        type: makeInterpolateBoolean(layer, property, startValue.type, endValue.type)\n    }\n\n    var value = [] \n    var max = Math.max(startValue.value.length, endValue.value.length);\n\n    for(var i = 0; i < max; i++) {\n        var s = startValue.value[i]\n        var e = endValue.value[i];\n\n        if (s && e) {\n\n            value.push(makeInterpolateLength(layer, property, s, e, startValue.type))\n        } else {\n            value.push(\n                makeInterpolateLength(\n                    layer, \n                    property, \n                    startValue.value[i] || startValue.value[i-1] || startValue.value[i-2],\n                    endValue.value[i] || endValue.value[i-1] || endValue.value[i-2], \n                    startValue.type\n                )\n            )\n        }\n\n    }\n\n    obj.value = value; \n\n    return (rate, t) => {\n\n        return {\n            type: obj.type(rate, t),\n            value: obj.value.map(it => it(rate, t))\n        }\n    } \n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport function makeInterpolateTransformNumber (layer, property, startValue, endValue) {\n\n    var obj = {\n        type: makeInterpolateBoolean(layer, property, startValue.type, endValue.type)\n    }\n\n    var value = [] \n    var max = Math.max(startValue.value.length, endValue.value.length);\n\n    for(var i = 0; i < max; i++) {\n        var s = startValue.value[i]\n        var e = endValue.value[i];\n\n        if (s && e) {\n            value.push(makeInterpolateNumber(layer, property, s.value, e.value))\n        } else {\n            var ss = startValue.value[i].value || startValue.value[i-1].value || startValue.value[i-2].value;\n            var ee = endValue.value[i].value || endValue.value[i-1].value || startValue.value[i-2].value\n            value.push(makeInterpolateNumber(layer, property, ss,ee))\n        }\n\n    }\n\n    obj.value = value; \n\n\n\n    return (rate, t) => {\n\n        var value = obj.value.map(it => it(rate, t))\n\n        var type = obj.type(rate, t);\n\n        if (type.includes('matrix') || type.includes('scale')) {\n            value = value.map(it => {\n                return Length.number(it)\n            })\n        }\n\n        return { type, value }\n    } \n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\nimport { makeInterpolateRotate } from \"../makeInterpolateRotate\";\n\nexport function makeInterpolateTransformRotate (layer, property, startValue, endValue) {\n\n    var obj = {\n        type: makeInterpolateBoolean(layer, property, startValue.type, endValue.type)\n    }\n\n    var value = [] \n    var max = Math.max(startValue.value.length, endValue.value.length);\n\n    for(var i = 0; i < max; i++) {\n        var tempStartValue = startValue.value[i]\n        var tempEndValue = endValue.value[i];\n\n        if (tempStartValue && tempEndValue) {\n            value.push(makeInterpolateRotate(layer, property, tempStartValue, tempEndValue))\n        } else {\n            value.push(\n                makeInterpolateRotate(\n                    layer, \n                    property, \n                    startValue.value[i] || startValue.value[i-1] || startValue.value[i-2],\n                    endValue.value[i] || endValue.value[i-1] || startValue.value[i-2]\n                )\n            )\n        }\n\n    }\n\n    obj.value = value; \n\n    return (rate, t) => {\n        var results = {\n            type: obj.type(rate, t),\n            value: obj.value.map(it => it(rate, t))\n        }\n\n        return  results\n    } \n}\n","import { ClipPath } from \"../../property-parser/ClipPath\";\nimport { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { Transform } from \"../../property-parser/Transform\";\nimport { makeInterpolateIdentity } from \"./makeInterpolateIdentity\";\nimport { makeInterpolateTransformLength } from \"./transform/makeInterpolateTransformLength\";\nimport { makeInterpolateTransformNumber } from \"./transform/makeInterpolateTransformNumber\";\nimport { makeInterpolateTransformRotate } from \"./transform/makeInterpolateTransformRotate\";\n\nexport function makeInterpolateTransform(layer, property, startValue, endValue) {\n    var startObject = Transform.parseStyle(startValue.trim());\n    var endObject = Transform.parseStyle(endValue.trim());\n\n    var max = Math.max(startObject.length, endObject.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        var s = startObject[i]\n        var e = endObject[i]\n\n        if (s && !e) {\n            list.push(makeInterpolateIdentity(layer, property, s))\n        } else if (!s && e) {\n            list.push(makeInterpolateIdentity(layer, property, e))\n        } else if (s.type != e.type) {\n            list.push(makeInterpolateBoolean(layer, property, s, e))\n        } else {\n            switch(s.type) {\n            // case 'skewX': \n            // case 'skewY': \n            case 'translate': \n            case 'translateX': \n            case 'translateY': \n            case 'translateZ': \n            case 'translate3d': \n            case 'perspective': \n                list.push(makeInterpolateTransformLength(layer, property, s, e)); \n                break; \n            case 'rotate': \n            case 'rotateX': \n            case 'rotateY': \n            case 'rotateZ': \n            case 'rotate3d': \n                list.push(makeInterpolateTransformRotate(layer, property, s, e));\n                break;  \n            case 'scale': \n            case 'scaleX': \n            case 'scaleY': \n            case 'scaleZ': \n            case 'scale3d': \n            case 'matrix': \n            case 'matrix3d': \n                list.push(makeInterpolateTransformNumber(layer, property, s, e)); \n                break; \n            }\n        }\n    }\n\n    return (rate, t) => {\n        var results = Transform.join(list.map(it => {\n            return it(rate, t)\n        }))\n\n        return results;\n    }\n\n}\n","import { Length } from \"el/editor/unit/Length\";\nimport { makeInterpolateLength } from \"./makeInterpolateLength\";\n\nexport function makeInterpolateTransformOrigin(layer, property, startValue, endValue) {\n\n    var s = startValue.split(' ').map(it => Length.parse(it));\n    var e = endValue.split(' ').map(it => Length.parse(it));\n\n    var max = Math.max(s.length, e.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        list.push(makeInterpolateLength(layer, property, startPos, endPos, 'transform-origin'))\n    }\n\n    return (rate, t) => {\n        var results = list.map(it => it(rate,t)).join(' ');\n            \n        return results;\n    }\n\n}\n","import { Length } from \"el/editor/unit/Length\";\nimport { makeInterpolateLength } from \"./makeInterpolateLength\";\n\nexport function makeInterpolatePerspectiveOrigin(layer, property, startValue, endValue) {\n\n    var s = startValue.split(' ').map(it => Length.parse(it));\n    var e = endValue.split(' ').map(it => Length.parse(it));\n\n    var max = Math.max(s.length, e.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        list.push(makeInterpolateLength(layer, property, startPos, endPos, 'perspective-origin'))\n    }\n\n    return (rate, t) => {\n        var results = list.map(it => it(rate,t)).join(' ');\n            \n        return results;\n    }\n\n}\n","import { makeInterpolateNumber } from \"./makeInterpolateNumber\";\n\nexport function makeInterpolateStrokeDashArrray(layer, property, startValue, endValue) {\n\n    var s = startValue.split(' ').map(it => +it);\n    var e = endValue.split(' ').map(it => +it);\n\n    var max = Math.max(s.length, e.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        list.push(makeInterpolateNumber(layer, property, startPos, endPos))\n    }\n\n    return (rate, t) => {\n        var results = list.map(it => it(rate,t)).join(' ');\n            \n        return results;\n    }\n\n}\n","import { clone } from \"el/sapa/functions/func\";\nimport { vec3 } from \"gl-matrix\";\n\n\n/**\n * 상수 정리 \n * \n * startPoint : 시작점\n * endPoint : 끝점\n * reversePoint : 역방향으로 이동할 점\n * \n * \n */\n\nexport default class Point {\n    static isEqual(a, b, c) {\n        if (arguments.length === 2) {\n            return a.x === b.x && a.y === b.y; \n        } else if (arguments.length === 3) {\n            return Point.isEqual(a, b) && Point.isEqual(b, c);\n        }\n    }\n\n    static isFirst (point) {\n        return point && point.command == 'M'\n    }\n\n\n    static DouglasPeuker(tolerance, points, start, last) {\n        if (last <= start + 1) return ;\n    \n        let maxdist2 = 0;\n        let breakIndex = start; \n        const tol2 = tolerance * tolerance; // 임계점 설정 \n        const startPoint = points[start];\n        const lastPoint = points[last];\n    \n        for(var i = start + 1; i < last; i++) {\n            // 꼭지점 길이 찾기 \n            const dist2 = Point.segmentDistance2(points[i].x, points[i].y, startPoint, lastPoint);\n    \n            if (dist2 <= maxdist2) continue;\n    \n            breakIndex = i; \n            maxdist2 = dist2;\n        }\n    \n        // 임계치를 넘어가면 분기 해서 다시 맞추기 \n        if (maxdist2 > tol2) {\n            points[breakIndex].mark = true;         // mark된 것만 점으로 출력 \n    \n            Point.DouglasPeuker(tolerance, points, start, breakIndex);\n            Point.DouglasPeuker(tolerance, points, breakIndex, last);\n        }\n    }    \n\n    static simply (points, tolerance = 10) {\n\n        if (points.length <= 2) {\n            return points;\n        }\n\n        points = clone(points);\n\n        // 처음과 끝은 무조건 존재하는 걸로 \n        points[0].mark = true; \n        points[points.length-1].mark = true; \n\n        // 간소화 포인트 계산 \n        Point.DouglasPeuker(tolerance, points, 0, points.length-1);\n\n        return points.filter(it => Boolean(it.mark));\n    }\n\n    static segmentDistance2(x, y, A, B) {\n        let dx = B.x - A.x; \n        let dy = B.y - A.y;\n    \n        let lenAB = dx * dx + dy * dy;\n    \n        let du = x - A.x; \n        let dv = y - A.y;\n        let dot = dx * du + dy * dv; \n    \n        if (lenAB === 0) return du * du + dv * dv; \n    \n        if (dot <= 0) return du * du + dv * dv; \n        else if (dot >= lenAB) {\n            du = x - B.x;\n            dv = y - B.y;\n    \n            return du * du + dv * dv;\n        } else {\n            const slash = du * dy - dv * dx; \n            return slash * slash/lenAB;\n        }\n    }\n\n    // check whether C is in A->C line \n    // 지점의 각도가 맞는지 계산해서 같은 각이면 같이 움직이는 걸로 처리 하자 .\n    static isInLine (A, B, C) {\n        if (A.x === C.x) return B.x === C.x;\n        if (A.y === C.y) return B.y === C.y;\n        return (A.x - C.x) * (A.y - C.y) === (C.x - B.x) * (C.y - B.y);\n    }\n\n    static isLine (point) {\n        return Point.isInLine(point.endPoint, point.startPoint, point,reversePoint);\n    }\n\n    static getReversePoint(start, end) {\n\n        const [x, y, z] = vec3.lerp([], [end.x, end.y, 0], [start.x, start.y, 0], 2);\n\n        return { x, y }\n    }    \n\n    static getIndexPoint (points, index) {\n        return points[index]\n    }\n\n    static getPoint (points, p0) {\n        return points.filter(p => {\n            return Point.isEqual(p.startPoint, p0)\n        })[0]\n    }\n\n    /**\n     * points리스트에서 p0 의 index 를 구한다. \n     * \n     * \n     * @param {array} points \n     * @param {{x: number, y: number}} p0 \n     * @returns \n     */\n    static getIndex (points, p0) {\n        var firstIndex = -1; \n        for(var i = 0, len = points.length; i < len; i++) {\n            var p = points[i]\n\n            if (Point.isEqual(p.startPoint, p0)) {\n                firstIndex = i; \n                break; \n            }\n        }\n        return firstIndex;\n    }\n\n    static getGroupList (points) {\n\n        const groupList = [];\n        let groupIndex = 0;\n        points.forEach((point, index) => {\n            if (point.command === \"M\") {\n                groupList.push({ point, index, groupIndex: groupIndex++ })\n            }\n        })\n\n        return groupList;\n\n    }\n\n    static  getSplitedGroupList(points) {\n        const localPoints = clone(points);\n        const splitedGroupList = [];\n\n        for(var i = 0, groupIndex = -1, len = localPoints.length ; i < len; i++) {\n            const point = localPoints[i];\n            if (point.command === \"M\") {\n                groupIndex++;\n                splitedGroupList[groupIndex] = {\n                    startPointIndex: i,\n                    point,\n                    points: []\n                }\n            } \n\n            splitedGroupList[groupIndex].points.push(point);\n        }\n\n        return splitedGroupList;\n    }\n\n    static getGroup(groupList, pointIndex) {\n        const list = groupList.filter(group => group.point.index <= pointIndex);\n\n        return list.pop();\n    }\n\n    /**\n     * group 리스트를 구하고 \n     * 내가 어디 속해 있는지 구해서 \n     * Prev 를 정해야할 듯 \n     * \n     * @param {*} points \n     * @param {*} index \n     * @returns \n     */\n    static getGroupIndex (points, index) {\n        var groupIndex = -1; \n        for(var i = 0, len = points.length; i < len; i++) {\n            if (points[i].command === 'M') {\n                groupIndex++;\n            }\n\n            if (points[i].index === index) {\n                return groupIndex; \n            }\n        }\n    }\n    \n    static getLastPoint (points, index) {\n\n        if (!points.length) return null;\n\n        var lastIndex = -1; \n        for(var i = index + 1, len = points.length; i < len; i++) {\n            if (points[i].command === 'M') {\n                lastIndex = i - 1;\n                break; \n            }\n        }\n\n        if (lastIndex == -1) {\n            lastIndex = points.length - 1; \n        }\n\n        if (points[lastIndex] && points[lastIndex].command === 'Z') {\n            lastIndex -= 1; \n        }\n\n        var point = points[lastIndex]\n\n        if (point) {\n            point.index = lastIndex;\n        }\n\n        return point\n    }\n\n    static getFirstPoint (points, index) {\n        var firstIndex = -1; \n        for (var i = index - 1; i > 0; i--) {\n            if (points[i].command === 'M') {\n                firstIndex = i; \n                break; \n            }\n        }\n        \n        if (firstIndex === -1) {\n            firstIndex = 0; \n        }\n\n        var point = points[firstIndex]\n        \n        if (point) {\n            point.index = firstIndex;\n        }\n\n        return point\n    }\n\n    static getConnectedPointList (points, index) {\n        const current = points[index];\n        return points.filter((p, i) => i !== index && Point.isEqual(p.startPoint, current.startPoint));\n    }\n\n    static getPrevPoint (points, index) {\n        var prevIndex = index - 1; \n\n        if (prevIndex < 0) {\n            return Point.getLastPoint(points, index);\n        }\n\n        var point = points[prevIndex]\n\n        if (point) {\n            point.index = prevIndex\n        }\n\n        return point;\n    }    \n\n\n    static getNextPoint (points, index) {\n\n        var currentPoint = points[index]\n        var nextPoint = points[index + 1]\n\n        if (nextPoint) {\n            nextPoint.index = index + 1; \n        }\n\n        if (currentPoint.connected || currentPoint.close) {\n            nextPoint = Point.getFirstPoint(points, index);\n        }\n\n        return nextPoint;\n    }       \n\n    static removePoint (points, pIndex, segment) {\n        if (segment === 'startPoint') {\n            return points.filter((_, index) => index !== pIndex)\n        }\n    }\n\n    static splitPoints (points) {\n\n        let splitedPointGroup = [] \n        let lastPoints = [] \n\n        points.forEach(p => {\n            if (Point.isFirst(p)) {\n                lastPoints = [p];\n                splitedPointGroup.push(lastPoints)\n            } else {\n                lastPoints.push(p);\n            }\n        })\n\n        return splitedPointGroup;\n    }\n\n    static recoverPoints (pointGroup) {\n        const newPoints = [] \n\n        // group 을 루프를 돈다. \n        pointGroup.forEach(points => {\n\n            // group 은 points 리스트이다. \n            points.forEach((p, index) => {\n                // point 중 첫번째는 command 가 M 이다. \n                if (index === 0) {\n                    p.command = 'M';\n                    p.originalCommand = 'M';\n                }\n            })\n\n            newPoints.push.apply(newPoints, points);\n        })\n\n        // 그런 다음 전체 인덱스를 재조정한다. \n        newPoints.forEach((p, index) => {\n            p.index = index\n        })\n\n        return newPoints\n    }\n}","\n/**\n * segment 객체 생성기 \n * @class\n */\nexport class Segment {\n\n    /**\n     * MoveTo \n     * \n     * @param {number} x \n     * @param {number} y \n     * @returns \n     */\n    static M(x, y) {\n        return {\n            command: 'M', values: [x, y]\n        }\n    }\n\n    /**\n     * LineTo\n     * \n     * @param {number} x \n     * @param {number} y \n     * @returns \n     */\n    static L(x, y) {\n        return {\n            command: 'L', values: [x, y]\n        }\n    }\n\n    /**\n     * Quadratic Bezier Curve\n     * \n     * @param {number} x1 \n     * @param {number} y1 \n     * @param {number} x \n     * @param {number} y \n     * @returns \n     */\n    static Q(x1, y1, x, y) {\n        return {\n            command: 'Q', values: [x1, y1, x, y]\n        }\n    }\n\n    /**\n     * Cubic Bezier Curve\n     * \n     * @param {number} x1 \n     * @param {number} y1 \n     * @param {number} x2 \n     * @param {number} y2 \n     * @param {number} x \n     * @param {number} y \n     * @returns \n     */\n    static C(x1, y1, x2, y2, x, y) {\n        return {\n            command: 'C', values: [x1, y1, x2, y2, x, y]\n        }\n    }\n\n    /**\n     * Arc\n     * \n     * @param {number} rx \n     * @param {number} ry \n     * @param {number} xrot \n     * @param {number} laf \n     * @param {number} sf \n     * @param {number} x \n     * @param {number} y \n     * @returns \n     */\n    static A(rx, ry, xrot, laf, sf, x, y) {\n        return {\n            command: 'A', values: [rx, ry, xrot, laf, sf, x, y]\n        }\n    }\n\n    /**\n     * Close Path\n     * \n     * @returns \n     */\n    static Z() {\n        return {\n            command: \"Z\", values: [] // closed path\n        }\n    }\n}","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar TAU = Math.PI * 2;\n\nvar mapToEllipse = function mapToEllipse(_ref, rx, ry, cosphi, sinphi, centerx, centery) {\n  var x = _ref.x,\n      y = _ref.y;\n\n  x *= rx;\n  y *= ry;\n\n  var xp = cosphi * x - sinphi * y;\n  var yp = sinphi * x + cosphi * y;\n\n  return {\n    x: xp + centerx,\n    y: yp + centery\n  };\n};\n\nvar approxUnitArc = function approxUnitArc(ang1, ang2) {\n  // If 90 degree circular arc, use a constant\n  // as derived from http://spencermortensen.com/articles/bezier-circle\n  var a = ang2 === 1.5707963267948966 ? 0.551915024494 : ang2 === -1.5707963267948966 ? -0.551915024494 : 4 / 3 * Math.tan(ang2 / 4);\n\n  var x1 = Math.cos(ang1);\n  var y1 = Math.sin(ang1);\n  var x2 = Math.cos(ang1 + ang2);\n  var y2 = Math.sin(ang1 + ang2);\n\n  return [{\n    x: x1 - y1 * a,\n    y: y1 + x1 * a\n  }, {\n    x: x2 + y2 * a,\n    y: y2 - x2 * a\n  }, {\n    x: x2,\n    y: y2\n  }];\n};\n\nvar vectorAngle = function vectorAngle(ux, uy, vx, vy) {\n  var sign = ux * vy - uy * vx < 0 ? -1 : 1;\n\n  var dot = ux * vx + uy * vy;\n\n  if (dot > 1) {\n    dot = 1;\n  }\n\n  if (dot < -1) {\n    dot = -1;\n  }\n\n  return sign * Math.acos(dot);\n};\n\nvar getArcCenter = function getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp) {\n  var rxsq = Math.pow(rx, 2);\n  var rysq = Math.pow(ry, 2);\n  var pxpsq = Math.pow(pxp, 2);\n  var pypsq = Math.pow(pyp, 2);\n\n  var radicant = rxsq * rysq - rxsq * pypsq - rysq * pxpsq;\n\n  if (radicant < 0) {\n    radicant = 0;\n  }\n\n  radicant /= rxsq * pypsq + rysq * pxpsq;\n  radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n\n  var centerxp = radicant * rx / ry * pyp;\n  var centeryp = radicant * -ry / rx * pxp;\n\n  var centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;\n  var centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;\n\n  var vx1 = (pxp - centerxp) / rx;\n  var vy1 = (pyp - centeryp) / ry;\n  var vx2 = (-pxp - centerxp) / rx;\n  var vy2 = (-pyp - centeryp) / ry;\n\n  var ang1 = vectorAngle(1, 0, vx1, vy1);\n  var ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n\n  if (sweepFlag === 0 && ang2 > 0) {\n    ang2 -= TAU;\n  }\n\n  if (sweepFlag === 1 && ang2 < 0) {\n    ang2 += TAU;\n  }\n\n  return [centerx, centery, ang1, ang2];\n};\n\nvar arcToBezier = function arcToBezier(_ref2) {\n  var px = _ref2.px,\n      py = _ref2.py,\n      cx = _ref2.cx,\n      cy = _ref2.cy,\n      rx = _ref2.rx,\n      ry = _ref2.ry,\n      _ref2$xAxisRotation = _ref2.xAxisRotation,\n      xAxisRotation = _ref2$xAxisRotation === undefined ? 0 : _ref2$xAxisRotation,\n      _ref2$largeArcFlag = _ref2.largeArcFlag,\n      largeArcFlag = _ref2$largeArcFlag === undefined ? 0 : _ref2$largeArcFlag,\n      _ref2$sweepFlag = _ref2.sweepFlag,\n      sweepFlag = _ref2$sweepFlag === undefined ? 0 : _ref2$sweepFlag;\n\n  var curves = [];\n\n  if (rx === 0 || ry === 0) {\n    return [];\n  }\n\n  var sinphi = Math.sin(xAxisRotation * TAU / 360);\n  var cosphi = Math.cos(xAxisRotation * TAU / 360);\n\n  var pxp = cosphi * (px - cx) / 2 + sinphi * (py - cy) / 2;\n  var pyp = -sinphi * (px - cx) / 2 + cosphi * (py - cy) / 2;\n\n  if (pxp === 0 && pyp === 0) {\n    return [];\n  }\n\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n\n  var lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);\n\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n\n  var _getArcCenter = getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp),\n      _getArcCenter2 = _slicedToArray(_getArcCenter, 4),\n      centerx = _getArcCenter2[0],\n      centery = _getArcCenter2[1],\n      ang1 = _getArcCenter2[2],\n      ang2 = _getArcCenter2[3];\n\n  // If 'ang2' == 90.0000000001, then `ratio` will evaluate to\n  // 1.0000000001. This causes `segments` to be greater than one, which is an\n  // unecessary split, and adds extra points to the bezier curve. To alleviate\n  // this issue, we round to 1.0 when the ratio is close to 1.0.\n\n\n  var ratio = Math.abs(ang2) / (TAU / 4);\n  if (Math.abs(1.0 - ratio) < 0.0000001) {\n    ratio = 1.0;\n  }\n\n  var segments = Math.max(Math.ceil(ratio), 1);\n\n  ang2 /= segments;\n\n  for (var i = 0; i < segments; i++) {\n    curves.push(approxUnitArc(ang1, ang2));\n    ang1 += ang2;\n  }\n\n  return curves.map(function (curve) {\n    var _mapToEllipse = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery),\n        x1 = _mapToEllipse.x,\n        y1 = _mapToEllipse.y;\n\n    var _mapToEllipse2 = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery),\n        x2 = _mapToEllipse2.x,\n        y2 = _mapToEllipse2.y;\n\n    var _mapToEllipse3 = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery),\n        x = _mapToEllipse3.x,\n        y = _mapToEllipse3.y;\n\n    return { x1: x1, y1: y1, x2: x2, y2: y2, x: x, y: y };\n  });\n};\n\nexport default arcToBezier;","\nimport { getBezierPointOneQuard, getBezierPoints, getBezierPointsLine, getBezierPointsQuard, getCurveBBox, getCurveDist, getPointInCurveList, getQuardDist, normalizeCurveForLine, normalizeCurveForQuard, polygonalForCurve, recoverBezier, recoverBezierLine, recoverBezierQuard, splitBezierPointsByCount, splitBezierPointsLineByCount, splitBezierPointsQuardByCount } from \"el/utils/bezier\";\nimport { isNotUndefined, clone } from \"el/sapa/functions/func\";\nimport { degreeToRadian, getDist, round } from \"el/utils/math\";\nimport { mat4, vec2, vec3 } from \"gl-matrix\";\nimport Point from \"./Point\";\nimport { Segment } from \"./Segment\";\nimport fitCurve from \"fit-curve\";\nimport { vertiesToRectangle } from \"el/utils/collision\";\nimport arcToBezier from 'svg-arc-to-cubic-bezier';\n\n\nconst REG_PARSE_NUMBER_FOR_PATH = /([mMlLvVhHcCsSqQtTaAzZ]([^mMlLvVhHcCsSqQtTaAzZ]*))/g;\nconst splitReg = /[\\b\\t \\,]/g;\nvar numberReg = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/ig\nexport default class PathParser {\n\n    /**\n     * \n     * @param {string} pathString  SVG Path 문자열\n     */\n    constructor(pathString = '') {\n        this.reset(pathString);\n    }\n\n    reset(pathString = '') {\n        this.segments = [];\n        this.pathString = pathString.trim();\n\n        this.parse()\n    }\n\n    /**\n     * Segment 재설정 하기 \n     * \n     * @param {Segment[]} segments \n     * @returns {PathParser}\n     */\n    resetSegments(segments) {\n        this.segments = segments || []\n        this.pathString = this.joinPath()\n\n        return this;\n    }\n\n    /**\n     * Segment 합치기 \n     * \n     * @param {Segment[]} segments \n     * @returns {PathParser}\n     */\n    addSegments(segments, transform) {\n        return this.resetSegments([...this.segments, ...segments])\n    }\n\n    /**\n     * PathParser 합치기 \n     * \n     * @param {PathParser} otherPath \n     * @returns {PathParser}\n     */\n    addPath (otherPath, transform = mat4.create()) {\n        const newPath = otherPath.clone();\n        newPath.transformMat4(transform);\n        return this.addSegments(newPath.segments);\n    }\n\n    trim(str = '') {\n        var arr = str.match(numberReg) || []\n        return arr.filter(it => it != '');\n    }\n\n    /**\n     * convert svg path string to segments \n     * \n     * @private\n     * \n     */\n    parse() {\n        var arr = this.pathString.match(REG_PARSE_NUMBER_FOR_PATH) || [];\n\n        this.segments = arr.map(s => {\n            var command = s[0]\n            var values = this.trim(s.replace(command, '')).map(it => +it);\n\n            return { command, values }\n        });\n\n        // 상대 좌표를 모두 절 대 좌표로 변경 \n        // 절대좌표로 변환이 되어야 transform 을 쉽게 적용 할 수 있다. \n        // 물론 트랜스폼 하기 전에 절대 좌표로 구조를 맞추고 \n        // 다시 돌아올 수도 있겠지만 불필요한 작업이 너무 많아질 수도 있다. \n        this.segments = this.segments.map((s, index) => {\n            switch (s.command) {\n                case 'm':\n                    var prev = this.segments[index - 1]\n\n                    if (prev && (prev.command == 'z' || prev.command == 'Z')) {\n                        prev = this.segments[index - 2]\n                    }\n                    var x = prev?.values[prev.values.length - 2] || 0\n                    var y = prev?.values[prev.values.length - 1] || 0\n\n                    for (var i = 0, len = s.values.length; i < len; i += 2) {\n                        s.values[i] += x\n                        s.values[i + 1] += y\n                    }\n\n                    return {\n                        command: s.command.toUpperCase(),\n                        values: [...s.values]\n                    };\n                case 'c':\n                case 'l':\n                case 'q':\n                case 's':\n                case 't':\n                case 'v':\n                case 'h':\n                    var prev = this.segments[index - 1]\n                    var x = prev?.values[prev.values.length - 2] || 0\n                    var y = prev?.values[prev.values.length - 1] || 0\n\n                    for (var i = 0, len = s.values.length; i < len; i += 2) {\n                        s.values[i] += x\n                        s.values[i + 1] += y\n                    }\n\n                    return {\n                        command: s.command.toUpperCase(),\n                        values: [...s.values]\n                    };\n                case 'a':\n                    var prev = this.segments[index - 1]\n                    var x = prev?.values[prev.values.length - 2] || 0\n                    var y = prev?.values[prev.values.length - 1] || 0\n\n                    // rx ry xrotate, large-arc-flag, sweep-flag, x, y\n                    s.values[5] += x\n                    s.values[6] += y\n\n                    return {\n                        command: s.command.toUpperCase(),\n                        values: [...s.values]\n                    };                    \n                case 'z':\n                    return {\n                        command: s.command.toUpperCase(),\n                        values: []\n                    }\n                default:\n                    return s;\n            }\n        })\n\n        const newSegments = [];\n\n        this.segments.forEach((it, index) => {\n            const prev = this.segments[index - 1]\n\n            if (it.command == 'A') { // arc 는 자동 변환해서 curve 로 대체한다. \n\n                const x1 = prev?.values[prev.values.length - 2] || 0\n                const y1 = prev?.values[prev.values.length - 1] || 0\n\n                // rx ry xrotate, large-arc-flag, sweep-flag, x, y\n                const [rx, ry, xrotate, largeArcFlag, sweepFlag, x, y] = it.values\n\n                const path = PathParser.arcToCurve(x1, y1, rx, ry, xrotate, largeArcFlag, sweepFlag, x, y)\n\n                path.segments.forEach(seg => {\n                    if (seg.command !== 'M' || seg.command !== 'Z') {\n                        newSegments.push(seg);\n                    }\n                })\n            } else {\n                newSegments.push(it)\n            }\n\n        })\n\n        return this;\n    }\n\n    convertGenerator() {\n\n        var points = []\n\n        for (var index = 0, len = this.segments.length; index < len; index++) {\n            var s = this.segments[index]\n            var nextSegment = this.segments[index + 1]\n            const { command, values } = s;\n\n            if (command === 'M') {\n                var [x, y] = values\n                points.push({\n                    command,\n                    originalCommand: command,\n                    startPoint: { x, y },\n                    endPoint: { x, y },\n                    reversePoint: { x, y },\n                    curve: false\n                })\n            } else if (command === 'L') {\n                var prevPoint = Point.getPrevPoint(points, points.length);\n\n                if (prevPoint.curve) {\n                    var [x, y] = values\n                    points.push({\n                        command,\n                        originalCommand: command,\n                        startPoint: { x, y },\n                        endPoint: { x, y },\n                        reversePoint: clone(prevPoint.endPoint),\n                        curve: true\n                    })\n                } else {\n\n                    var [x, y] = values\n                    points.push({\n                        command,\n                        originalCommand: command,\n                        startPoint: { x, y },\n                        endPoint: { x, y },\n                        reversePoint: { x, y },\n                        curve: false\n                    })\n                }\n\n            } else if (command === 'Q') {\n                var [cx1, cy1, x, y] = values;\n                var prevPoint = Point.getPrevPoint(points, points.length);\n\n                if (prevPoint.curve) {  // 내가 Q 인데 앞의 포인트가  \n                    var startPoint = { x, y }\n                    var endPoint = { x, y }\n                    var reversePoint = { x, y }\n                    points.push({\n                        command: 'L',\n                        originalCommand: command,\n                        startPoint,\n                        endPoint,\n                        reversePoint,\n                        curve: false\n                    })\n\n                    prevPoint.endPoint = { x: cx1, y: cy1 }\n\n                } else {\n\n\n                    if (nextSegment && nextSegment.command === 'L') {\n                        prevPoint.curve = true;\n                        prevPoint.endPoint = { x: cx1, y: cy1 }\n\n                        var startPoint = { x, y }\n                        var reversePoint = { x, y }\n                        var endPoint = { x, y }\n\n                        points.push({\n                            command: 'L',\n                            originalCommand: command,\n                            curve: false,\n                            startPoint,\n                            endPoint,\n                            reversePoint\n                        })\n\n                    } else {\n\n                        var startPoint = { x, y }\n                        var reversePoint = { x: cx1, y: cy1 }\n                        var endPoint = { x, y }\n\n                        points.push({\n                            command,\n                            originalCommand: command,\n                            curve: true,\n                            startPoint,\n                            endPoint,\n                            reversePoint\n                        })\n                    }\n\n\n                }\n            } else if (command === 'T') {\n                var [x, y] = values;\n                // T 는 앞에 Q 가 있다는 소리 \n                // Q 의 Control Point 반대편에 Control Point 가 있다고 치고 생각하자. \n                var prevSegment = segments[index - 1]\n\n                if (prevSegment && prevSegment.command === 'Q') {\n                    var [cx1, cy1, sx, sy] = prevSegment.values\n\n                    var prevPoint = Point.getPrevPoint(points, points.length)\n                    prevPoint.endPoint = Point.getReversePoint({ x: sx, y: sy }, { x: cx1, y: cy1 });\n\n                    var startPoint = { x, y }\n                    var endPoint = { x, y }\n                    var reversePoint = { x, y }\n                    points.push({\n                        command: 'L',\n                        originalCommand: command,\n                        startPoint,\n                        endPoint,\n                        reversePoint,\n                        curve: false\n                    })\n                }\n\n\n            } else if (command === 'C') {\n\n                var prevPoint = Point.getPrevPoint(points, points.length)\n\n                var [cx1, cy1, cx2, cy2, x, y] = values;\n                var startPoint = { x, y }\n                var reversePoint = { x: cx2, y: cy2 }\n                var endPoint = { x, y }\n\n                points.push({\n                    command,\n                    originalCommand: command,\n                    curve: true,\n                    startPoint,\n                    endPoint,\n                    reversePoint\n                })\n\n                if (prevPoint) {\n                    prevPoint.curve = true;\n                    prevPoint.endPoint = { x: cx1, y: cy1 }\n                }\n            } else if (command === 'S') {\n                var [x, y] = values;\n                // S 는 앞에 C,S 가 있다는 소리 \n                // S 의 Control Point 반대편에 Control Point 가 있다고 치고 생각하자. \n                var prevSegment = segments[index - 1]\n\n                if (prevSegment && prevSegment.command === 'C') {\n                    var [cx2, cy2, sx, sy] = prevSegment.values\n\n                    var prevPoint = Point.getPrevPoint(points, points.length)\n                    prevPoint.endPoint = Point.getReversePoint(prevPoint.startPoint, prevPoint.reversePoint);\n\n                    var startPoint = { x, y }\n                    var endPoint = { x, y }\n                    var reversePoint = { x: cx2, y: cy2 }\n                    points.push({\n                        command: 'Q',\n                        originalCommand: command,\n                        startPoint,\n                        endPoint,\n                        reversePoint,\n                        curve: false\n                    })\n                }\n\n\n            } else if (command === 'Z') {\n                var prevPoint = Point.getPrevPoint(points, points.length);\n                var firstPoint = Point.getFirstPoint(points, points.length);\n\n                if (Point.isEqual(prevPoint.startPoint, firstPoint.startPoint)) {\n                    prevPoint.connected = true;\n\n                    prevPoint.endPoint = clone(firstPoint.endPoint)\n                    firstPoint.reversePoint = clone(prevPoint.reversePoint)\n                }\n\n                prevPoint.close = true;\n\n            }\n        }\n\n        points = points.filter(p => !!p);\n\n        return points;\n    }\n\n    // length() {\n    //     return this.segments.length;\n    // }\n\n    setSegments(index, seg) {\n        this.segments[index] = seg;\n    }\n\n    getSegments(index) {\n        if (isNotUndefined(index)) {\n            return this.segments[index];\n        }\n        return this.segments;\n    }\n\n    /**\n     * 편집하는 poinsts 에 대한 실제 SVG Path 를 출력한다. \n     * \n     * @param {array} [segments=this.segments] \n     * @param {string} [split=\"\"] \n     * @returns \n     */\n    joinPath(segments, split = '') {\n        var list = (segments || this.segments);\n        return list.map(it => {\n            return `${it.command} ${it.values.length ? it.values.join(' ') : ''}`\n        }).join(split)\n    }\n\n    \n\n    each(callback, isReturn = false) {\n        var newSegments = this.segments.map((segment, index) => {\n            return callback.call(this, segment, index);\n        })\n\n        if (isReturn) {\n            return newSegments;\n        } else {\n            this.segments = newSegments;\n        }\n\n        return this;\n    }\n\n    _loop(m, isReturn = false) {\n        return this.each(function (segment) {\n            var v = segment.values;\n            var c = segment.command;\n\n            switch (c) {\n                case 'M':\n                case 'L':\n                    var result = m(v, 0);\n                    segment.values = [result[0], result[1]];\n                    break;\n                case 'V':\n                    var result = m([+v[0], 0]);\n                    segment.values = [result[0]];\n                    break;\n                case 'H':\n                    var result = m([0, +v[0]]);\n                    segment.values = [result[1]];\n                    break;\n                case 'C':\n                case 'S':\n                case 'T':\n                case 'Q':\n                    for (var i = 0, len = v.length; i < len; i += 2) {\n                        var result = m(v, i);\n                        segment.values[i] = result[0];\n                        segment.values[i + 1] = result[1];\n                    }\n                    break;\n                case 'A':\n\n                    break;\n            }\n\n            return segment;\n\n        }, isReturn);\n    }\n\n    clone() {\n        const path = new PathParser();\n\n        path.resetSegments(this.segments.map(it => {\n            return {\n                command: it.command,\n                values: it.values.slice()\n            }\n        }));\n\n        return path;\n    }\n\n    translate(tx, ty) {\n        this.transformMat4(mat4.fromTranslation([], [tx, ty, 0]));\n        return this;\n    }\n\n    translateTo(tx, ty) {\n        return this.joinPath(this.transformMat4(mat4.fromTranslation([], [tx, ty, 0]), true));\n    }\n\n    scale(sx, sy) {\n        this.transformMat4(mat4.fromScaling([], [sx, sy, 1]));\n        return this;\n    }\n\n    scaleTo(sx, sy) {\n        return this.joinPath(this.transformMat4(mat4.fromScaling([], [sx, sy, 1]), true));\n    }\n\n    scaleWith(width, height) {\n        const newPath = this.clone();\n        const rect = vertiesToRectangle(newPath.getBBox());\n        newPath.translate(-rect.x, -rect.y);\n        \n        const scale = Math.min(width / rect.width, height / rect.height);\n        \n        return newPath.scale(scale, scale).translate(width/2 - (rect.width/2*scale), height/2 - (rect.height/2*scale));\n    }\n\n    rotate(angle, centerX = 0, centerY = 0) {\n        const view = mat4.create();\n        mat4.multiply(view, view, mat4.fromTranslation([], [centerX, centerY, 0]))\n        mat4.multiply(view, view, mat4.fromZRotation([], degreeToRadian(angle)))\n        mat4.multiply(view, view, mat4.fromTranslation([], vec3.negate([], [centerX, centerY, 0])))\n\n        this.transformMat4(view);\n        return this;\n    }\n\n    rotateTo(angle, centerX = 0, centerY = 0) {\n\n        const view = mat4.create();\n        mat4.multiply(view, view, mat4.fromTranslation([], [centerX, centerY, 0]))\n        mat4.multiply(view, view, mat4.fromZRotation([], degreeToRadian(angle)))\n        mat4.multiply(view, view, mat4.fromTranslation([], vec3.negate([], [centerX, centerY, 0])))\n\n        return this.joinPath(this.transformMat4(view, true))\n    }\n\n    reflectionOrigin() {\n        this.transformMat4(mat4.fromScaling([], [-1, -1, 0]))\n        return this;\n    }\n\n    reflectionOriginTo() {\n        return this.joinPath(\n            this.transformMat4(\n                mat4.fromScaling([], [-1, -1, 0]),\n                true\n            )\n        )\n    }\n\n    flipX() {\n        this.transformMat4(mat4.fromScaling([], [1, -1, 0]))\n        return this;\n    }\n\n    flipXTo() {\n        return this.joinPath(\n            this.transformMat4(\n                mat4.fromScaling([], [1, -1, 0]),\n                true\n            )\n        )\n    }\n\n    flipY() {\n        this.transformMat4(mat4.fromScaling([], [-1, 1, 0]))\n        return this;\n    }\n\n    flipYTo() {\n        return this.joinPath(\n            this.transformMat4(\n                mat4.fromScaling([], [-1, 1, 0]),\n                true\n            )\n        )\n    }\n\n\n    skewX(angle) {\n        this.transformMat4(\n            mat4.fromValues(\n                1, Math.tan(degreeToRadian(angle)), 0, 0,\n                0, 1, 0, 0,\n                0, 0, 1, 0,\n                0, 0, 0, 1\n            )\n        )\n        return this;\n    }\n\n\n    skewXTo(angle) {\n        return this.joinPath(\n            this.transformMat4(\n                mat4.fromValues(\n                    1, Math.tan(degreeToRadian(angle)), 0, 0,\n                    0, 1, 0, 0,\n                    0, 0, 1, 0,\n                    0, 0, 0, 1\n                ),\n                true\n            )\n        )\n    }\n\n    skewY(angle) {\n        this.transformMat4(\n            mat4.fromValues(\n                1, 0, 0, 0,\n                Math.tan(degreeToRadian(angle)), 1, 0, 0,\n                0, 0, 1, 0,\n                0, 0, 0, 1\n            )\n        )\n        return this;\n    }\n\n    skewYTo(angle) {\n        return this.joinPath(\n            this.transformMat4(\n                mat4.fromValues(\n                    1, 0, 0, 0,\n                    Math.tan(degreeToRadian(angle)), 1, 0, 0,\n                    0, 0, 1, 0,\n                    0, 0, 0, 1\n                ),\n                true\n            )\n        )\n    }\n\n    forEachGroup(callback) {\n        const groupList = this.getGroup();\n\n        for (let i = 0, len = groupList.length; i < len; i++) {\n            const group = groupList[i];\n            callback(group, i, groupList);\n        }\n    }\n\n    forEach(callback) {\n        this.forEachGroup((segments, index, groupList) => {\n            for (let i = 0, len = segments.length; i < len; i++) {\n                const segment = segments[i];\n                callback(segment, i, segments, groupList, index);\n            }\n        });\n    }\n\n    /**\n     * 내부 path 를 모두 curve 로 변환한다. \n     */\n    normalize() {\n\n        const allSegments = []\n\n        const groupList = this.getGroup();\n\n        groupList.forEach(group => {\n\n            const newSegments = [];\n\n            group.segments.forEach(({ segment }, index) => {\n                const prevSegment = group.segments[index - 1]?.segment;\n\n                if (segment.command === 'M') {\n                    newSegments.push(segment);\n                    return;\n                } else if (segment.command === 'L') {\n\n                    const localCurve = normalizeCurveForLine([\n                        [prevSegment.values[prevSegment.values.length-2], prevSegment.values[prevSegment.values.length-1], 0],\n                        [segment.values[0], segment.values[1], 0]\n                    ])\n\n                    newSegments.push({\n                        command: 'C',\n                        values: [\n                            localCurve[1][0], localCurve[1][1],\n                            localCurve[2][0], localCurve[2][1],\n                            localCurve[3][0], localCurve[3][1],\n                        ]\n                    });\n                    return;\n                } else if (segment.command === 'C') {\n                    newSegments.push(segment);\n                } else if (segment.command === 'Q') {\n\n                    const localCurve = normalizeCurveForQuard([\n                        [prevSegment.values[prevSegment.values.length-2], prevSegment.values[prevSegment.values.length-1], 0],\n                        [segment.values[0], segment.values[1], 0],\n                        [segment.values[2], segment.values[3], 0],\n                    ])\n\n                    newSegments.push({\n                        command: 'C',\n                        values: [\n                            localCurve[1][0], localCurve[1][1],\n                            localCurve[2][0], localCurve[2][1],\n                            localCurve[3][0], localCurve[3][1],\n                        ]\n                    });\n                } else if (segment.command === 'Z') {\n                    newSegments.push(segment);\n                }\n            })\n\n            allSegments.push(...newSegments);\n        })\n\n        return PathParser.fromSegments(allSegments);\n    }\n\n    polygonal() {\n        const pathList = this.toPathList();\n\n        pathList.forEach(path => {\n            const newSegments = [];\n            \n            path.segments.forEach((segment, index) => {\n\n                const prevSegment = path.segments[index - 1];\n\n                if (segment.command === 'M') {\n                    newSegments.push(segment);\n                } else if (segment.command === 'L') {\n                    newSegments.push(segment);\n                } else if (segment.command === 'C') { \n                    newSegments.push(\n                        ...polygonalForCurve(\n                            [prevSegment.values[prevSegment.values.length-2], prevSegment.values[prevSegment.values.length-1], 0],\n                            [segment.values[0], segment.values[1], 0],\n                            [segment.values[2], segment.values[3], 0],\n                            [segment.values[4], segment.values[5], 0]\n                        ).map(point => ({\n                            command: 'L',\n                            values: [point[0], point[1], 0]\n                        }))\n                    );\n                } else if (segment.command === 'Q') {\n                    newSegments.push(\n                        ...polygonalForCurve(\n                            ...normalizeCurveForQuard([\n                                [prevSegment.values[prevSegment.values.length-2], prevSegment.values[prevSegment.values.length-1], 0],\n                                [segment.values[0], segment.values[1], 0],\n                                [segment.values[2], segment.values[3], 0]\n                            ])\n                        ).map(point => ({\n                            command: 'L',\n                            values: [point[0], point[1], 0]\n                        }))\n                    );\n                } else if (segment.command === 'Z') {\n                    newSegments.push(segment);\n                }\n            })\n\n            path.resetSegments(newSegments);\n        })\n\n        return PathParser.joinPathList(pathList);\n    }\n\n\n    divideSegmentByLength(length = 100)  {\n        \n            const newPath = new PathParser();\n    \n            const groupList = this.getGroup();\n    \n            groupList.forEach(group => {\n    \n                const newSegments = [];\n    \n                group.segments.forEach(({ segment }, index) => {\n                    const prevSegment = group.segments[index - 1]?.segment;\n    \n                    if (segment.command === 'M') {\n                        newSegments.push(segment);\n                        return;\n                    } else if (segment.command === 'L') {\n                        const dividedSegments = divideLine(segment, length);\n                        newSegments.push(...dividedSegments);\n                        return;\n                    } else if (segment.command === 'C') {\n                        const dividedSegments = divideCurve(segment, length);\n                        newSegments.push(...dividedSegments);\n                    } else if (segment.command === 'Q') {\n                        const dividedSegments = divideQuad(segment, length);\n                        newSegments.push(...dividedSegments);\n                    } else if (segment.command === 'Z') {\n                        newSegments.push(segment);\n                    }\n                })\n    \n                newPath.addGroup(newSegments);\n            })\n    \n            return newPath;                                \n    }\n\n    /**\n     * count 에 의해 각각의 segment 를 나눈다. \n     * \n     * @param {number} count \n     * @returns \n     */\n    divideSegmentByCount(count = 1) {\n        let allSegments = [];\n        const groupList = this.getGroup();\n\n        groupList.forEach(group => {\n            const newSegments = [];\n            group.segments.forEach(({ segment }, index) => {\n                const prevSegment = group.segments[index - 1]?.segment;\n                const nextSegment = group.segments[index + 1]?.segment;\n\n                if (segment.command === 'M') {\n                    newSegments.push(segment);\n                    return;\n                } else if (segment.command === 'L') {\n\n                    const linePoints = splitBezierPointsLineByCount([\n                        {\n                            x: prevSegment.values[prevSegment.values.length - 2],\n                            y: prevSegment.values[prevSegment.values.length - 1]\n                        },\n                        {\n                            x: segment.values[0],\n                            y: segment.values[1]\n                        }\n                    ], count)\n\n                    linePoints.forEach(([start, end]) => {\n                        newSegments.push(Segment.L(end.x, end.y));\n                    })\n                } else if (segment.command === 'Q') {\n\n                    const quardPoints = splitBezierPointsQuardByCount([\n                        {\n                            x: prevSegment.values[prevSegment.values.length - 2],\n                            y: prevSegment.values[prevSegment.values.length - 1]\n                        },\n                        {\n                            x: segment.values[0],\n                            y: segment.values[1]\n                        },\n                        {\n                            x: segment.values[2],\n                            y: segment.values[3]\n                        }\n                    ], count)\n\n                    quardPoints.forEach(([start, middle, end]) => {\n                        newSegments.push(Segment.Q(middle.x, middle.y, end.x, end.y));\n                    })\n                } else if (segment.command === 'C') {\n\n                    const curvePoints = splitBezierPointsByCount([\n                        {\n                            x: prevSegment.values[prevSegment.values.length - 2],\n                            y: prevSegment.values[prevSegment.values.length - 1]\n                        },\n                        {\n                            x: segment.values[0],\n                            y: segment.values[1]\n                        },\n                        {\n                            x: segment.values[2],\n                            y: segment.values[3]\n                        },\n                        {\n                            x: segment.values[4],\n                            y: segment.values[5]\n                        }\n                    ], count)\n\n                    curvePoints.forEach(([start, c1, c2, end]) => {\n                        newSegments.push(Segment.C(c1.x, c1.y, c2.x, c2.y, end.x, end.y));\n                    })\n                } else if (segment.command === 'Z') {\n                    newSegments.push(segment);\n                }\n            })\n\n            allSegments = allSegments.concat(newSegments);\n        })\n\n        return PathParser.fromSegments(allSegments);\n    }\n\n    getBBox() {\n\n        let minX = Number.MAX_SAFE_INTEGER, minY = Number.MAX_SAFE_INTEGER;\n        let maxX = Number.MIN_SAFE_INTEGER, maxY = Number.MIN_SAFE_INTEGER;\n\n        this.each(function (segment, index) {\n            var v = segment.values;\n            var c = segment.command;\n            const prevSegment = this.segments[index - 1];\n\n            switch (c) {\n                case 'M':\n                case 'L':\n\n                    minX = Math.min(minX, v[0])\n                    maxX = Math.max(maxX, v[0])\n\n                    minY = Math.min(minY, v[1])\n                    maxY = Math.max(maxY, v[1])\n                    break;\n                case 'C':\n                    getCurveBBox([\n                        [prevSegment.values[prevSegment.values.length - 2], prevSegment.values[prevSegment.values.length - 1], 0],\n                        [v[0], v[1], 0],\n                        [v[2], v[3], 0],\n                        [v[4], v[5], 0],\n                    ]).forEach(p => {\n\n                        minX = Math.min(minX, p[0])\n                        maxX = Math.max(maxX, p[0])\n\n                        minY = Math.min(minY, p[1])\n                        maxY = Math.max(maxY, p[1])\n                    })\n                    break;\n                case 'Q':\n\n                    const curve = normalizeCurveForQuard([\n                        [prevSegment.values[prevSegment.values.length - 2], prevSegment.values[prevSegment.values.length - 1], 0],\n                        [v[0], v[1], 0],\n                        [v[2], v[3], 0]\n                    ])\n\n                    getCurveBBox(curve).forEach(p => {\n                        minX = Math.min(minX, p[0])\n                        maxX = Math.max(maxX, p[0])\n\n                        minY = Math.min(minY, p[1])\n                        maxY = Math.max(maxY, p[1])\n                    })                \n\n                    break;\n                case 'A':\n\n                    break;\n            }\n\n            return segment;\n        });\n\n        return [\n            [minX, minY, 0],\n            [maxX, minY, 0],\n            [maxX, maxY, 0],\n            [minX, maxY, 0],\n        ]\n    }\n\n    rect() {\n        const bbox = this.getBBox();\n\n        return {\n            x: bbox[0][0],\n            y: bbox[0][1],\n            width: vec3.distance(bbox[0], bbox[1]),\n            height: vec3.distance(bbox[0], bbox[3]),\n            right: bbox[0][0] + vec3.distance(bbox[0], bbox[1]),\n            bottom: bbox[0][1] + vec3.distance(bbox[0], bbox[3]),\n        }\n    }\n\n    /**\n     * x, y 를 기준으로 가장 가까운 점을 찾는다. \n     * \n     * L, C, Q 를 대상으로만 한다. \n     * \n     * @param {{x: number, y: number}} param0 \n     * @param {number} count \n     * @returns \n     */\n    getClosedPointInfo({ x, y }, count = 20) {\n\n        let minDist = Number.MAX_SAFE_INTEGER;\n        let targetInfo = {};\n        let info = {}\n\n        for (var i = 1, len = this.segments.length; i < len; i++) {\n\n            const segment = this.segments[i];\n\n            const prev = this.segments[i - 1].values\n            const current = segment.values\n            const command = segment.command;\n            const lastPoint = { x: prev[prev.length - 2], y: prev[prev.length - 1] }\n\n\n            if (command === 'C') {\n                var points = [\n                    lastPoint,\n                    { x: current[0], y: current[1] },\n                    { x: current[2], y: current[3] },\n                    { x: current[4], y: current[5] },\n                ]\n\n                var curve = recoverBezier(...points, count)\n                var t = curve(x, y);\n\n                info = {\n                    segment,\n                    index: i,\n                    t,\n                    points,\n                    targetPoint: getBezierPoints(points, t).first[3]\n                }\n            } else if (command === 'Q') {\n                var points = [\n                    lastPoint,\n                    { x: current[0], y: current[1] },\n                    { x: current[2], y: current[3] },\n                ]\n\n                var curve = recoverBezierQuard(...points, count)\n                var t = curve(x, y);\n\n                info = {\n                    segment,\n                    index: i,\n                    t,\n                    points,\n                    targetPoint: getBezierPointsQuard(points, t).first[2]\n                }\n            } else if (command === 'L') {\n                var points = [\n                    lastPoint,\n                    { x: current[0], y: current[1] },\n                ]\n\n                var curve = recoverBezierLine(...points, count)\n                var t = curve(x, y);\n\n                info = {\n                    segment,\n                    index: i,\n                    t,\n                    points,\n                    targetPoint: getBezierPointsLine(points, t).first[1]\n                }\n            }\n\n            if (info) {\n                var dist = Math.sqrt(Math.pow(info.targetPoint.x - x, 2) + Math.pow(info.targetPoint.y - y, 2))\n\n                if (dist < minDist) {\n                    minDist = dist;\n                    targetInfo = info;\n                }\n            }\n\n        }\n\n        return targetInfo\n    }\n\n\n    /**\n     * x, y 를 기준으로 가장 가까운 점을 찾는다. \n     * \n     * L, C, Q 를 대상으로만 한다. \n     * \n     * @param {{x: number, y: number}} param0 \n     * @param {number} count \n     * @returns \n     */\n    getClosedPoint({ x, y }, count = 20) {\n\n        const info = this.getClosedPointInfo({ x, y }, count);\n\n        if (info.targetPoint) {\n            return info.targetPoint;\n        }\n\n        return { x, y };\n    }\n\n    /**\n     * \n     * x, y 가 path 위에 있는 point 인지 확인함. \n     * \n     * @param {{x: number, y: number}} param0 \n     * @param {number} dist \n     * @returns \n     */\n    isPointInPath({ x, y }, dist = 1) {\n        const info = this.getClosedPointInfo({ x, y }, 20);\n\n        if (info.targetPoint) {\n            if (vec3.dist([info.targetPoint.x, info.targetPoint.y, 0], [x, y, 0]) <= dist) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n\n    toString(split = '') {\n        return this.joinPath(undefined, split);\n    }\n\n    transformMat4(transformMatrix, isReturn = false) {\n        return this.each(function (segment) {\n            var v = segment.values;\n            var c = segment.command;\n\n            switch (c) {\n                case 'M':\n                case 'L':\n                    var result = vec3.transformMat4([], [v[0], v[1], 0], transformMatrix);\n                    segment.values = [result[0], result[1]]\n                    break;\n                case 'C':\n                case 'Q':\n                    for (var i = 0, len = v.length; i < len; i += 2) {\n                        var result = vec3.transformMat4([], [v[i], v[i + 1], 0], transformMatrix)\n                        segment.values[i] = result[0];\n                        segment.values[i + 1] = result[1];\n                    }\n                    break;\n                case 'A':\n\n                    break;\n            }\n\n            return segment;\n\n        }, isReturn);\n    }\n\n    transform (customTransformFunction = ([x, y, z]) => ([x, y, z])) {\n        const bbox = vertiesToRectangle(this.getBBox(), false);\n\n        return this.each(function (segment) {\n            var v = segment.values;\n            var c = segment.command;\n\n            switch (c) {\n                case 'M':\n                case 'L':\n                case 'C':\n                case 'Q':\n                    for (var i = 0, len = v.length; i < len; i += 2) {\n                        var result = customTransformFunction([v[i], v[i + 1], 0], { bbox });\n                        segment.values[i] = result[0];\n                        segment.values[i + 1] = result[1];\n                    }\n                    break;\n                case 'A':\n\n                    break;\n            }\n\n            return segment;\n\n        });\n    }\n\n    /**\n     * 좌표 역변환 \n     * \n     * @param {mat4} transformMatrix \n     * @returns \n     */\n    invert(transformMatrix) {\n        this.transformMat4(mat4.invert([], transformMatrix));\n        return this;\n    }\n\n    /**\n     * 좌표 숫자를 rounding 한다. \n     * \n     * @param {number} [k=1] round number 계수  \n     * @returns \n     */\n    round(k = 1) {\n        this.each(function (segment) {\n            segment.values = segment.values.map(it => round(it, k));\n\n            return segment;\n        });\n\n        return this;\n    }\n\n    reverseSegments(segments) {\n        const newSegments = [];\n        let lastIndex = segments.length - 1;\n        for (var i = lastIndex; i > 0; i--) {\n            const segment = segments[i];\n            const v = segment.values;\n            const c = segment.command;\n            const prevSegment = segments[i - 1];\n            const lastX = prevSegment.values[prevSegment.values.length - 2];\n            const lastY = prevSegment.values[prevSegment.values.length - 1];\n\n            switch (c) {\n                case 'L':\n\n                    if (i === lastIndex) {        // last 일 경우 \n                        newSegments.push(Segment.M(v[0], v[1]));\n                    }\n\n                    newSegments.push(Segment.L(lastX, lastY))\n                    break;\n                case 'C':\n\n                    if (i === lastIndex) {        // last 일 경우 \n                        newSegments.push(Segment.M(v[4], v[5]))\n                    }\n\n                    newSegments.push(Segment.C(v[2], v[3], v[0], v[1], lastX, lastY))\n                    break;\n                case 'Q':\n                    if (i === lastIndex) {        // last 일 경우 \n                        newSegments.push(Segment.M(v[2], v[3]))\n                    }\n\n                    newSegments.push(Segment.Q(v[0], v[1], lastX, lastY))\n                    break;\n                case 'Z':\n                    newSegments.push(segment);\n                    lastIndex = i - 1;\n                    break;\n            }\n        }\n\n        // z가 가장 먼저 올 때는 z 를 다시 뒤로 돌려보낸다. \n        if (newSegments[0].command === 'Z') {\n            newSegments.push(newSegments.shift());\n        }\n\n        return newSegments;\n    }\n\n    /**\n     * segments 를 M 기준으로 분리 시킨다. \n     */\n    splitSegments() {\n\n        const groupSegments = []\n        let newSegments = []\n        this.segments.forEach(s => {\n            if (s.command === 'M') {\n                newSegments = [s]\n                groupSegments.push(newSegments);\n            } else {\n                newSegments.push(s);\n            }\n        })\n\n        return groupSegments;\n    }\n\n    /**\n     * path 의 segment 들을 역순으로 정렬한다. \n     * \n     * M이 여러개일 경우는  group 별로 역순으로 정렬하고 합친다. \n     * \n     * groupIndex 가 0이상 일때는 해당 group만 역순으로 정렬한다. \n     * \n     * @param {number} groupIndex \n     * @returns {PathParser}\n     */\n    reverse(...groupIndexList) {\n        const groupSegments = this.splitSegments();\n        const newSegments = []\n\n        if (groupIndexList.length === 0) {\n            groupSegments.forEach((segments, index) => {\n                newSegments.push.apply(newSegments, this.reverseSegments(segments));\n            })\n        } else {\n            groupSegments.forEach((segments, index) => {\n                if (groupIndexList.includes(index)) {\n                    newSegments.push.apply(newSegments, this.reverseSegments(segments));\n                } else {\n                    newSegments.push.apply(newSegments, segments);\n                }\n            })\n        }\n\n        this.resetSegments(newSegments);\n    }\n\n\n    /**\n     * 컨트롤 포인트를 제외한 모든 점을 반환한다.\n     * \n     * @returns {{index: number, pointer: vec3}[]}\n     */\n    getCenterPointers() {\n        let arr = []\n\n        let lastValues = []\n        this.segments.forEach((segment, index) => {\n            var v = segment.values;\n            var c = segment.command;\n\n            switch (c) {\n                case 'M':\n                case 'L':\n                    arr.push({\n                        index,\n                        pointer: [...segment.values, 0]\n                    })\n                    break;\n                case 'V':\n                    arr.push({\n                        index,\n                        pointer: [v[0], lastValues.pop(), 0]\n                    })\n                    break;\n                case 'H':\n                    lastValues.pop()\n                    arr.push({\n                        index,\n                        pointer: [lastValues.pop(), v[0], 0]\n                    })\n                    break;\n                case 'C':\n                case 'S':\n                case 'T':\n                case 'Q':\n                    arr.push({\n                        index,\n                        pointer: [v[v.length - 2], v[v.length - 1], 0]\n                    });\n                    break;\n                case 'A':\n\n                    break;\n            }\n\n            lastValues = clone(v);\n\n        });\n\n        return arr;\n\n    }\n\n    get points () {\n        return this.getCenterPointers();\n    }\n\n    /**\n     * 주어진 포인트와 같은 포인트 리스트를 검색한다. \n     * \n     * @param {vec3} pointer \n     * @param {number} [dist=0]\n     * @returns \n     */\n    getSamePointers(pointer, dist = 0) {\n        return this.getCenterPointers().filter(p => {\n            if (vec3.distance(p.pointer, pointer) <= dist) {\n                return true;\n            }\n        });\n    }\n\n    /**\n     * @typedef Segment\n     * @type {object}\n     * @property {string} command\n     * @property {number[]} values\n     */\n\n    /**\n     * @typedef SegmentGroup\n     * @type {object}\n     * @property {number} index \n     * @property {number} groupIndex \n     * @property {Segment[]} segments\n     */\n\n    /**\n     * segments 를 M 기준으로 분리 시킨다. \n     * \n     * @returns {SegmentGroup[]}\n     */\n    getGroup() {\n\n        /**\n         * @type {SegmentGroup[]}\n         */\n        const groupSegments = []\n        let newSegments = []\n        this.segments.forEach((segment, index) => {\n            if (segment.command === 'M') {\n                newSegments = [{\n                    index,\n                    segment\n                }]\n                groupSegments.push({ index, groupIndex: groupSegments.length, segments: newSegments });\n            } else {\n                newSegments.push({\n                    index,\n                    segment\n                });\n            }\n        })\n\n        return groupSegments;\n    }\n\n    /**\n     * groupPath 생성 \n     * \n     * @param {number} index  group index\n     * @returns \n     */\n    createGroupPath(index) {\n        const path = new PathParser();\n        path.resetSegments(this.getGroup()[index]?.segments?.map(it => {\n            return it.segment;\n        }) || []);\n\n        return path;\n    }\n\n    toPathList() {\n        return this.getGroup().map(group => {\n            return PathParser.fromSegments(group.segments.map(it => it.segment));\n        });\n    }\n\n\n    /**\n     * index 에 있는 segment 를 삭제하고 segments 로 다시 설정한다.\n     * \n     * @param {number} index \n     * @param  {object[]} segments \n     */\n    replaceSegment(index, ...segments) {\n        const newSegments = [...this.segments];\n        newSegments.splice(index, 1, ...segments)\n\n        this.resetSegments(newSegments);\n    }\n\n    /**\n     * 특정 포인트로 segment 분리하기 \n     * \n     * @param {{x: number, y: number}} pos \n     * @param {number} [dist=0]\n     * @returns \n     */\n    splitSegmentByPoint(pos, dist = 0) {\n        const closedPointInfo = this.getClosedPointInfo(pos, dist);\n\n        if (closedPointInfo && closedPointInfo.t > 0 && closedPointInfo.t < 1) {\n            switch (closedPointInfo.segment.command) {\n                case \"C\":\n                    var list = getBezierPoints(closedPointInfo.points, closedPointInfo.t);\n\n                    var first = list.first;\n                    var firstSegment = Segment.C(first[1].x, first[1].y, first[2].x, first[2].y, first[3].x, first[3].y)\n\n                    var second = list.second;\n                    var secondSegment = Segment.C(second[1].x, second[1].y, second[2].x, second[2].y, second[3].x, second[3].y)\n\n                    this.replaceSegment(closedPointInfo.index, firstSegment, secondSegment);\n                    break;\n                case \"Q\":\n                    var list = getBezierPointsQuard(closedPointInfo.points, closedPointInfo.t);\n\n                    var first = list.first;\n                    var firstSegment = Segment.Q(first[1].x, first[1].y, first[2].x, first[2].y)\n                    var second = list.second;\n                    var secondSegment = Segment.Q(second[1].x, second[1].y, second[2].x, second[2].y)\n\n                    this.replaceSegment(closedPointInfo.index, firstSegment, secondSegment);\n                    break;\n                case \"L\":\n                    var list = getBezierPointsLine(closedPointInfo.points, closedPointInfo.t);\n\n                    var first = list.first;\n                    var firstSegment = Segment.L(first[1].x, first[1].y)\n                    var second = list.second;\n                    var secondSegment = Segment.L(second[1].x, second[1].y)\n\n                    this.replaceSegment(closedPointInfo.index, firstSegment, secondSegment);\n                    break;\n                default:\n                    return;\n            }\n\n            return closedPointInfo;\n        }\n\n\n    }\n\n    /**\n     * convert to multi segment path list \n     */\n    toMultiSegmentPathList() {\n        const paths = []\n\n        const group = this.getGroup();\n        group.forEach((group, index) => {\n            group.segments.forEach((s, index) => {\n                const prevSegment = group.segments[index - 1];\n                const lastValues = prevSegment?.segment?.values || [];\n                const lastX = lastValues[lastValues.length - 2];\n                const lastY = lastValues[lastValues.length - 1];\n                const values = s.segment.values;\n\n                if (s.segment.command === 'M') {\n                    // NOOP\n                } else if (s.segment.command === 'L') {\n                    paths.push(new PathParser(`M ${lastX} ${lastY}L ${values.join(' ')}`));\n                } else if (s.segment.command === 'C') {\n                    paths.push(new PathParser(`M ${lastX} ${lastY}C ${values.join(' ')}`));\n                } else if (s.segment.command === 'Q') {\n                    paths.push(new PathParser(`M ${lastX} ${lastY}Q ${values.join(' ')}`));\n                } else {\n                    // NOOP \n                }\n            })\n        });\n\n        return paths;\n    }\n\n\n    /**\n     * points 를 간소화 한다.\n     * \n     * ps.\n     * \n     * pathkit 에 있는 simplify 는 group 화 되어 있는 path 를 합쳐주는거라서 이 알고리즘이랑 다름. \n     * \n     * @param {number} tolerance \n     * @returns \n     */\n    simplify(tolerance = 0.1) {\n        const newGroupSegments = [];\n        const groupList = this.getGroup();\n        groupList.forEach((group, groupIndex) => {\n            const points = [\n                ...group.segments\n                    .filter(it => it.segment.command.toLowerCase() !== 'z')\n                    .map(it => {\n                        return {\n                            x: it.segment.values[0],\n                            y: it.segment.values[1]\n                        };\n                    })\n            ];\n\n            const newPoints = Point.simply(points, tolerance);\n\n            const newSegments = [];\n            newPoints.forEach((p, index) => {\n\n                if (index === 0) {\n                    newSegments.push(Segment.M(p.x, p.y));\n                } else {\n                    newSegments.push(Segment.L(p.x, p.y));\n                }\n            })\n\n            newGroupSegments.push(...newSegments);\n        })\n\n        return PathParser.fromSegments(newGroupSegments);\n    }\n\n    /**\n     * \n     * convert points to curve \n     * \n     * @param {number} error count\n     * @returns \n     */\n    smooth(error = 50) {\n        let newGroupSegments = [];\n        const groupList = this.getGroup();\n        groupList.forEach((group, groupIndex) => {\n            const points = [\n                ...group.segments\n                    .filter(it => it.segment.command.toLowerCase() !== 'z')\n                    .map(it => {\n                        return [...it.segment.values, 0];\n                    })\n            ];\n\n            const bezierCurve = fitCurve(points, error);\n            const newSegments = [];\n            bezierCurve.forEach((curve, index) => {\n\n                if (index === 0) {\n                    newSegments.push(Segment.M(...curve[0]));\n                }\n\n                newSegments.push(Segment.C(curve[1][0], curve[1][1], curve[2][0], curve[2][1], curve[3][0], curve[3][1]));\n\n            })\n\n            if (group.segments[group.segments.length - 1].segment.command.toLowerCase() === 'z') {\n                newSegments.push(Segment.Z());\n            }\n\n            newGroupSegments = newGroupSegments.concat(newSegments);\n        })\n\n        return PathParser.fromSegments(newGroupSegments);\n    }\n\n    /**\n     * convert points to Cardinal Splines\n     * \n     * Vn = (1 - tension) (Pn+1 - Pn-1) /2\n     * \n     * @param {number} tension \n     * @returns {PathParser}\n     */\n    cardinalSplines(tension = 0.5) {\n        const newGroupSegments = [];\n        const groupList = this.getGroup();\n        groupList.forEach((group, groupIndex) => {\n\n            const points = [\n                ...group.segments\n                    .filter(it => it.segment.command.toLowerCase() !== 'z')\n                    .map(it => {\n                        return [...it.segment.values, 0];\n                    })\n            ];\n\n            const newPoints = [];\n\n            points.forEach((point, index) => {\n                const prevPoint = points[index - 1];\n                const nextPoint = points[index + 1];\n\n                if (index === 0) {          // 처음과 끝은 제외\n                    newPoints.push({ point });\n                } else if (index === points.length - 1) {   // 처음과 끝은 제외\n\n                    const firstPoint = points[0];\n\n                    if (vec3.equals(firstPoint, point)) {\n                        const p0 = prevPoint;\n                        const p1 = point;\n                        const p2 = points[1];\n\n                        // (Pn+1 - Pn-1) /2\n                        // Vn = (1 - tension) (Pn+1 - Pn-1) /2                    \n                        const V1 = vec3.div([], vec3.subtract([], p2, p0), [2, 2, 1]);\n                        const V3 = vec3.multiply([], V1, [1 - tension, 1 - tension, 1]);\n                        const V2 = vec3.negate([], V3);\n\n                        newPoints.push({ reversePoint: vec3.add([], p1, V2), point: p1, endPoint: vec3.add([], p1, V3) })\n                    } else {\n                        newPoints.push({ point });\n                    }\n\n\n                } else {\n                    const p0 = prevPoint;\n                    const p1 = point;\n                    const p2 = nextPoint;\n\n                    // (Pn+1 - Pn-1) /2\n                    // Vn = (1 - tension) (Pn+1 - Pn-1) /2                    \n                    const V1 = vec3.div([], vec3.subtract([], p2, p0), [2, 2, 1]);\n                    const V3 = vec3.multiply([], V1, [1 - tension, 1 - tension, 1]);\n                    const V2 = vec3.negate([], V3);\n\n                    newPoints.push({ reversePoint: vec3.add([], p1, V2), point: p1, endPoint: vec3.add([], p1, V3) })\n                }\n\n            })\n\n            const newSegments = [];\n\n            newPoints.forEach((p, index) => {\n                if (index === 0) {\n                    newSegments.push(Segment.M(p.point[0], p.point[1]));\n                } else {\n                    const prevPoint = newPoints[index - 1] || newPoints[newPoints.length - 1];\n                    const nextPoint = newPoints[index + 1];\n\n                    if (!prevPoint.endPoint) {  // 이전 포인트가 방향(endPoint)이 없다면 \n                        if (index === 1) {\n                            const lastPoint = newPoints[newPoints.length - 1]\n\n                            if (lastPoint.endPoint) {\n                                newSegments.push(\n                                    Segment.C(lastPoint.endPoint[0], lastPoint.endPoint[1], p.reversePoint[0], p.reversePoint[1], p.point[0], p.point[1])\n                                );\n                            } else {\n                                newSegments.push(\n                                    Segment.Q(p.reversePoint[0], p.reversePoint[1], p.point[0], p.point[1])\n                                );\n                            }\n\n                        } else {\n                            newSegments.push(\n                                Segment.Q(p.reversePoint[0], p.reversePoint[1], p.point[0], p.point[1])\n                            );\n                        }\n\n                    } else if (!p.reversePoint) {   // 마지막 포인트가 reversePoint 없다면 앞의 endPoint 로 Q 를 만들어준다. \n                        newSegments.push(\n                            Segment.Q(prevPoint.endPoint[0], prevPoint.endPoint[1], p.point[0], p.point[1])\n                        );\n                    } else {\n                        newSegments.push(\n                            Segment.C(prevPoint.endPoint[0], prevPoint.endPoint[1], p.reversePoint[0], p.reversePoint[1], p.point[0], p.point[1])\n                        );\n\n                    }\n                }\n            })\n\n            newGroupSegments.push(...newSegments)\n        })\n\n        const newPath = new PathParser();\n        newPath.resetSegments(newGroupSegments);\n\n        return newPath;\n    }\n\n    // make segment function \n    Z() {\n        this.segments.push(Segment.Z());\n\n        return this;\n    }\n\n    M(x, y) {\n        this.segments.push(Segment.M(x, y));\n        return this;\n    }\n\n    L(x, y) {\n        this.segments.push(Segment.L(x, y));\n        return this;\n    }\n\n    C(x1, y1, x2, y2, x, y) {\n        this.segments.push(Segment.C(x1, y1, x2, y2, x, y));\n        return this;\n    }\n\n    Q(x1, y1, x, y) {\n        this.segments.push(Segment.Q(x1, y1, x, y));\n        return this;\n    }\n\n    // draw rect path \n    drawRect(x, y, width, height) {\n        this.segments.push(\n            Segment.M(x, y),\n            Segment.L(x + width, y),\n            Segment.L(x + width, y + height),\n            Segment.L(x, y + height),\n            Segment.L(x, y),\n            Segment.Z()\n        );\n        return this;\n    }\n\n    drawLine (x1, y1, x2, y2) {\n        this.segments.push(\n            Segment.M(x1, y1),\n            Segment.L(x2, y2)\n        );\n        return this;\n    }\n\n    /**\n     * \n     * rect 기준으로 원 그리기 \n     * \n     * @param {number} x \n     * @param {number} y \n     * @param {number} width \n     * @param {number} height \n     * @returns \n     */\n    drawCircleWithRect (x, y, width, height = width) {\n\n        var segmentSize = 0.552284749831;\n        const path = new PathParser();\n        path.resetSegments([\n            Segment.M(0, -1),\n            Segment.C(segmentSize, -1, 1, -segmentSize, 1, 0),\n            Segment.C(1, segmentSize, segmentSize, 1, 0, 1),\n            Segment.C(-segmentSize, 1, -1, segmentSize, -1, 0),\n            Segment.C(-1, -segmentSize, -segmentSize, -1, 0, -1),\n            Segment.Z()\n        ]);\n\n        path.translate(1, 1).scale(width / 2, height / 2).translate(x, y);\n\n        this.addPath(path);\n\n        return this; \n    }\n\n    /**\n     * 중심점을 기준으로 원 그리기 \n     * \n     * @param {number} cx \n     * @param {number} cy \n     * @param {number} radius \n     * @returns \n     */\n    drawCircle(cx, cy, radius) {\n        return this.drawCircleWithRect(cx - radius, cy - radius, radius * 2, radius * 2);   \n    }\n\n\n    drawArc(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, x, y) {\n\n        const [x1, y1] = this.lastPoint;\n\n        return this.addPath(PathParser.arcToCurve(x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, x, y))\n    }    \n\n\n    /**\n     * 모든 점을 수집한다. \n     * \n     * @returns {vec3[]}\n     */\n     get verties() {\n        let arr = []\n\n        let lastValues = []\n        this.each(function (segment) {\n            var v = segment.values;\n            var c = segment.command;\n\n            switch (c) {\n                case 'M':\n                case 'L':\n                    arr.push([...segment.values, 0])\n                    break;\n                case 'V':\n                    arr.push([v[0], lastValues.pop(), 0])\n                    break;\n                case 'H':\n                    lastValues.pop()\n                    arr.push([lastValues.pop(), v[0], 0])\n                    break;\n                case 'C':\n                case 'S':\n                case 'T':\n                case 'Q':\n                    for (var i = 0, len = v.length; i < len; i += 2) {\n                        arr.push([v[i], v[i + 1], 0]);\n                    }\n                    break;\n                case 'A':\n\n                    break;\n            }\n\n            lastValues = v;\n\n        });\n\n        return arr;\n    }\n\n    get pathVerties () {\n        const pathVerties = []\n        this.segments.forEach((segment, segmentIndex) => {\n\n            if (segment.values.length > 0) {\n                const arr = segment.values;\n                for(var i = 0, len = arr.length; i < len; i += 2) {\n                    pathVerties.push({\n                        segmentIndex,\n                        valueIndex: i,\n                        x: arr[i],\n                        y: arr[i+1],\n                    })\n                }\n            }\n\n\n        })\n\n\n        return pathVerties;\n    }    \n\n\n    /**\n     * SVG Path 를 문자열로 리턴해준다. \n     * \n     * @returns {string}\n     */\n    get d() {\n        return this.toString().trim();\n    }\n\n    get closed () {\n        return this.segments.some(segment => segment.command === 'Z') && vec2.equals(this.lastPoint, this.firstPoint);\n    }\n\n    get opened() {\n        return !this.closed;\n    }\n\n\n\n    get length () {\n        let totalLength = 0;\n\n        const group = this.getGroup();\n        group.forEach((group, index) => {\n\n            group.segments.forEach((s, index) => {\n                const prevSegment = group.segments[index - 1];\n                const lastValues = prevSegment?.segment?.values || [];\n                const lastX = lastValues[lastValues.length - 2];\n                const lastY = lastValues[lastValues.length - 1];\n                const values = s.segment.values;\n\n                if (s.segment.command === 'M') {\n                    // NOOP\n                } else if (s.segment.command === 'L') {\n\n                    totalLength += getDist(lastX, lastY, values[0], values[1]);\n                } else if (s.segment.command === 'C') {\n                    totalLength += getCurveDist(lastX, lastY, values[0], values[1], values[2], values[3], values[4], values[5]);\n                } else if (s.segment.command === 'Q') {\n                    totalLength += getQuardDist(lastX, lastY, values[0], values[1], values[2], values[3]);\n                } else {\n                    // NOOP \n                }\n            })\n        });\n\n        return totalLength;\n    }\n\n    get lengthList () {\n        let totalLengthList = [];\n\n        const group = this.getGroup();\n        group.forEach((group, groupIndex) => {\n\n            group.segments.forEach((s, index) => {\n                const prevSegment = group.segments[index - 1];\n                const lastValues = prevSegment?.segment?.values || [];\n                const lastX = lastValues[lastValues.length - 2];\n                const lastY = lastValues[lastValues.length - 1];\n                const values = s.segment.values;\n\n                if (s.segment.command === 'M') {\n                    // NOOP\n                } else if (s.segment.command === 'L') {\n                    totalLengthList.push({\n                        groupIndex,\n                        segmentIndex: index,\n                        length: getDist(lastX, lastY, values[0], values[1])\n                    });\n                } else if (s.segment.command === 'C') {\n                    totalLengthList.push({\n                        groupIndex,\n                        segmentIndex: index,\n                        length: getCurveDist(lastX, lastY, values[0], values[1], values[2], values[3], values[4], values[5])\n                    });                    \n                } else if (s.segment.command === 'Q') {\n                    totalLengthList.push({\n                        groupIndex,\n                        segmentIndex: index,\n                        length: getQuardDist(lastX, lastY, values[0], values[1], values[2], values[3])\n                    });                                        \n                } else {\n                    // NOOP \n                }\n            })\n        });\n\n        return totalLengthList;\n    }    \n\n\n    get lastSegment() {\n        const segment = this.segments[this.segments.length - 1];\n\n        if (segment.command !== 'Z') {\n            return segment;\n        }\n\n        return this.segments[this.segments.length - 2];\n    }\n\n    get lastPoint() {\n\n        const values = this.lastSegment.values\n\n        return [\n            values[values.length - 2],\n            values[values.length - 1]\n        ];\n    }\n\n    get firstSegment() {\n        const segment = this.segments[0];\n    \n        return segment;\n    }\n\n    get firstPoint() {\n        const values = this.firstSegment.values\n\n        return [\n            values[0],\n            values[1]\n        ];\n    }\n\n\n    // static method \n\n    /**\n     * PathParser 리스트를 결합해서 하나의 새로운 PathParser 를 만들어낸다. \n     * \n     * @param {PathParser[]}} pathList \n     * @returns \n     */\n    static joinPathList (pathList = []) {\n        const newPath = PathParser.fromSVGString();\n        pathList.forEach(path => {\n            newPath.addPath(path);            \n        })\n        return newPath;\n    }\n\n    static fromSegments(segments) {\n        const path = new PathParser();\n\n        path.resetSegments(segments);\n        return path;\n    }\n\n    static fromSVGString(d = '') {\n        return new PathParser(d);\n    }\n\n    /**\n     * make rect path \n     * \n     * @param {number} x \n     * @param {number} y \n     * @param {number} width \n     * @param {number} height \n     * @returns {PathParser}\n     */\n    static makeRect(x, y, width, height) {\n        return PathParser.fromSVGString().drawRect(x, y, width, height);\n    }\n\n\n    /**\n     * make line path\n     * \n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     * @returns {PathParser}\n     */\n    static makeLine(x, y, x2, y2) {\n        return PathParser.fromSVGString().drawLine(x, y, x2, y2);        \n    }\n\n    /**\n     * make circle path\n     * \n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     * @returns {PathParser}\n     */\n    static makeCircle(x, y, width, height) {\n        return PathParser.fromSVGString().drawCircleWithRect(x, y, width, height);\n    }\n\n    /**\n     * make path by points \n     * \n     * @param {{x: number, y: number}[]} points \n     * @returns {PathParser}\n     */\n    static makePathByPoints(points = []) {\n        const segments = points.map((p, index) => {\n            if (index === 0) {\n                return Segment.M(p.x, p.y);\n            } else {\n                return Segment.L(p.x, p.y);\n            }\n        })\n\n        segments.push(Segment.Z());\n\n        return PathParser.fromSegments(segments);\n    }\n\n    /**\n     * make path by verties\n     * \n     * @param {vec3[]} verties \n     * @returns {PathParser}\n     */\n    static makePathByVerties(verties = [], isClosed = true) {\n        const segments = verties.map((v, index) => {\n            if (index === 0) {\n                return Segment.M(v[0], v[1]);\n            } else {\n                return Segment.L(v[0], v[1]);\n            }\n        })\n\n        if (isClosed) {\n            segments.push(Segment.Z());\n        }\n\n        return PathParser.fromSegments(segments);\n    }\n\n    /**\n     * 다각형 그리기\n     * \n     * @copilot\n     * @param {number} width \n     * @param {number} height \n     * @param {number} count \n     * @returns {PathParser}\n     */\n    static makePolygon(width, height, count = 3) {\n        const segments = []\n\n        const centerX = 1 / 2;\n        const centerY = 1 / 2;\n\n        for (var i = 0; i < count; i++) {\n            var angle = (i / count) * Math.PI * 2 - Math.PI / 2;\n            var x = Math.cos(angle) * centerX + centerX;\n            var y = Math.sin(angle) * centerY + centerY;\n            if (i === 0) {\n                segments.push(Segment.M(x, y))\n            } else {\n                segments.push(Segment.L(x, y))\n            }\n        }\n\n\n        segments.push(Segment.L(segments[0].values[0], segments[0].values[1]));\n        segments.push(Segment.Z())\n\n        return PathParser.fromSegments(segments).scale(width, height);\n    }\n\n    static makeStar(width, height, count = 5, radius = 0.5) {\n        const segments = []\n\n        const centerX = 1 / 2;\n        const centerY = 1 / 2;\n\n        const outerRadius = Math.min(centerX, centerY);\n        const innerRadius = outerRadius * radius;\n        const npoints = count * 2;\n\n        let firstX, firstY = 0;\n        for (var i = 0; i < npoints; i++) {\n            var angle = (i / npoints) * Math.PI * 2 - Math.PI / 2;\n            var radius = (i % 2 === 0) ? outerRadius : innerRadius;\n            var x = Math.cos(angle) * radius + centerX;\n            var y = Math.sin(angle) * radius + centerY;\n            if (i === 0) {\n                segments.push(Segment.M(x, y))\n                firstX = x;\n                firstY = y;\n            } else {\n                segments.push(Segment.L(x, y))\n            }\n        }\n\n        segments.push(Segment.L(firstX, firstY))\n        segments.push(Segment.Z())\n\n        return PathParser.fromSegments(segments).scale(width, height);\n    }\n\n    static makeCurvedStar(width, height, count = 5, radius = 0.5, tension = 0.5) {\n        const starPath = PathParser.makeStar(width, height, count, radius);\n\n        return starPath.cardinalSplines(tension);\n    }\n\n    static arcToCurve(x1, y1, rx, ry, xAxisRotation,  largeArcFlag, sweepFlag, x2, y2) {\n        const bezierCurveList = arcToBezier({\n            px: x1,\n            py: y1,\n            cx: x2,\n            cy: y2,\n            rx: rx,\n            ry: ry,\n            xAxisRotation,\n            largeArcFlag,\n            sweepFlag,\n          });\n\n        const path = new PathParser();\n\n        path.M(x1, y1);\n        bezierCurveList.forEach(bezierCurve => {\n            path.C(bezierCurve.x1, bezierCurve.y1, bezierCurve.x2, bezierCurve.y2, bezierCurve.x, bezierCurve.y);\n        });\n\n        return path\n    }\n}","import { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolatePathValues (layer, property, s, e) {\n\n    var max = Math.max(s.length, e.length)\n\n    var list = [] \n\n    var startLastPos = s[s.length-1]; \n    var endLastPos = e[e.length-1]; \n\n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        if (startPos && !endPos) {\n            list.push(makeInterpolateNumber(layer, property, startPos, endLastPos))\n        } else if (!startPos && endPos) {\n            list.push(makeInterpolateNumber(layer, property, startLastPos, endPos))            \n        } else {\n            list.push(makeInterpolateNumber(layer, property, startPos, endPos))\n        }\n        \n    }\n\n    return (rate, t) => {\n        return list.map(it => it(rate, t));\n    } \n}\n","import PathParser from \"el/editor/parser/PathParser\";\nimport { makeInterpolateIdentity } from \"../makeInterpolateIdentity\";\nimport { makeInterpolatePathValues } from \"./makeInterpolatePathValues\";\nimport { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\n\nexport function makeInterpolatePath (layer, property, startValue, endValue) {\n    var returnParser = new PathParser()        \n    var s = new PathParser(startValue);\n    var e = new PathParser(endValue);\n\n    var max = Math.max(s.segments.length, e.segments.length)\n\n    var list = [] \n\n    for(var i = 0; i < max; i++) {\n        var sc = s.segments[i];\n        var ec = e.segments[i];\n\n        if (sc.command === ec.command) {\n            if (sc.values.length === ec.values.length) {\n                list.push({\n                    command: makeInterpolateIdentity(layer, property, sc.command),\n                    values: makeInterpolatePathValues(layer, property, sc.values, ec.values),\n                })\n            } else {\n                list.push({\n                    command: makeInterpolateIdentity(layer, property, sc.command),\n                    values: makeInterpolateIdentity(layer, property, sc.values),\n                })\n            }\n        } else {\n            list.push({\n                command: makeInterpolateBoolean(layer, property, sc.command, ec.command),\n                values: makeInterpolateBoolean(layer, property, sc.values, ec.values),\n            })\n        }\n    }\n\n\n    return (rate, t) => {\n        var segments = list.map(it => {\n\n            return {\n                command: it.command(rate, t),\n                values: it.values(rate, t)\n            }\n        })\n        var results =  returnParser.joinPath(segments)\n\n        return results;\n    } \n}\n","import PathParser from \"./PathParser\";\n\nexport default class PathStringManager {\n    constructor () {\n        this.pathArray = [] \n    }\n\n    reset () {\n        this.pathArray = []\n    } \n\n    getPointString (values) {\n        return values.map(v => `${v.x} ${v.y}`).join(' ')\n    }\n\n    makeString (command, values = []) {\n        this.pathArray.push(`${command} ${this.getPointString(values)}`)\n        return this; \n    }\n\n    M (...values) {\n        return this.makeString('M', values);\n    }\n\n    L (...values) {\n        return this.makeString('L', values);\n    }    \n\n    /**\n     * x 표 그리기 \n     * \n     * @param  {Point[]} values \n     */\n    X (...values) {\n\n        const dist = 3; \n        const point = values[0]\n\n        const topLeft = {x: point.x - dist, y: point.y - dist}\n        const topRight = {x: point.x + dist, y: point.y - dist}\n        const bottomLeft = {x: point.x - dist, y: point.y + dist}\n        const bottomRight = {x: point.x + dist, y: point.y + dist}\n\n        return this.M(topLeft).L(bottomRight).M(topRight).L(bottomLeft);\n    }        \n\n    Q (...values) {\n        return this.makeString('Q', values);\n    }    \n\n    C (...values) {\n        return this.makeString('C', values);\n    }    \n\n    Z () {\n        return this.makeString('Z');\n    }        \n\n    get d () {\n        return this.pathArray.join(' ').trim();\n    }\n\n    toString (className = 'object') {\n        return /*html*/`<path d=\"${this.d}\" class='${className}'/>`\n    }\n\n}\n\n","import PathParser from \"./PathParser\";\nimport PathStringManager from \"./PathStringManager\";\n\n\nconst splitReg = /[\\b\\t \\,]/g;\n \nexport default class PolygonParser extends PathParser {\n\n    constructor (points = '') {\n        super(points);\n    }\n\n    reset (points = '') {\n        this.segments =  [];\n        this.points = points; \n        \n        this.parse()\n    }\n\n    resetSegments (segments = []) {\n        this.segments = segments\n        this.points = this.joinPoints()\n    }\n\n    parse () {\n\n        var points = this.points;\n\n        if (Array.isArray(points)) {\n            points = points.join(' ');\n        }\n\n        var arr = points.trim().split(splitReg).filter(it => it);\n\n\n        var segments = [] \n\n        for(var i = 0, len = arr.length; i < len; i += 2) {\n            segments.push({ x : +arr[i], y : +arr[i+1] });\n        }\n        this.segments = segments;\n    }\n\n    convertGenerator () {\n        return this.segments;\n    }\n\n    length () {\n        return this.segments.length;\n    }\n\n    toPathString () {\n\n        var path = new PathStringManager()\n\n        for(var i = 0, len = this.segments.length; i < len ; i++) {\n            var s = this.segments[i];\n\n            if (i === 0) {\n                path.M(s)\n            } else if (i === len - 1) {\n                path.L(s).L(this.segments[0]).Z();  // 마지막 지점을 연결한다. \n            } else {\n                path.L(s);\n            }\n        }\n\n        return path.d;\n    }\n\n    joinPath(segments) {\n        return this.joinPoints(segments)\n    }\n\n\tjoinPoints (segments) {\n        var list = (segments || this.segments);\n\n        return list.map(it => {\n            return `${it.x},${it.y}`\n        }).join(' ')\n    }\n\n    each (callback, isReturn = false) {\n\n        var newSegments = this.segments.map(segment => {\n            return callback.call(this, segment);\n        })\n\n        if (isReturn) {\n            return newSegments;\n        } else {\n            this.segments = newSegments;\n        }\n    }\n\n    _loop (m, isReturn = false) {\n        return this.each(function(segment) {\n            var [x, y] = m([segment.x, segment.y], 0)\n\n            segment.x = x; \n            segment.y = y; \n\n            return segment;\n\n        }, isReturn);\n    }\n\n    clone () {\n        return new PolygonParser(this.joinPoints());\n    }\n\n    toString() {\n        return this.joinPoints()\n    }\n}","import PolygonParser from \"el/editor/parser/PolygonParser\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolatePolygon (layer, property, startValue, endValue) {\n\n    var returnParser = new PolygonParser()        \n    var s = new PolygonParser(startValue);\n    var e = new PolygonParser(endValue);\n\n    var max = Math.max(s.segments.length, e.segments.length)\n\n    var list = [] \n\n    var startLastX = s.segments[s.segments.length-1].x; \n    var startLastY = s.segments[s.segments.length-1].y; \n    var endLastX = e.segments[e.segments.length-1].x; \n    var endLastY = e.segments[e.segments.length-1].y; \n\n    for(var i = 0; i < max; i++) {\n        var startPos = s.segments[i];\n        var endPos = e.segments[i];\n\n        if (startPos && !endPos) {\n            list.push({\n                x: makeInterpolateNumber(layer, property, startPos.x, endLastX),\n                y: makeInterpolateNumber(layer, property, startPos.y, endLastY),\n            })\n        } else if (!startPos && endPos) {\n            list.push({\n                x: makeInterpolateNumber(layer, property, startLastX, endPos.x),\n                y: makeInterpolateNumber(layer, property, startLastY, endPos.y),\n            })\n        } else {\n            list.push({\n                x: makeInterpolateNumber(layer, property, startPos.x, endPos.x),\n                y: makeInterpolateNumber(layer, property, startPos.y, endPos.y)\n            })\n        }\n        \n    }\n\n    return (rate, t) => {\n        var points = returnParser.joinPoints(list.map(it => {\n            return {\n                x: it.x(rate, t),\n                y: it.y(rate, t)\n            }\n        }))\n\n        return points;\n    } \n}\n","import { makeInterpolateNumber } from \"../makeInterpolateNumber\"\n\nexport default function makeInterpolateLine (x1, y1, x2, y2) {\n\n    var obj = {\n        x: makeInterpolateNumber('', '', x1, x2),\n        y: makeInterpolateNumber('', '', y1, y2),\n    }\n\n    return (rate, t) => {\n        var results = {\n            x: obj.x(rate, t),\n            y: obj.y(rate, t)\n        }\n\n        // console.log({x: results.x , t, x1, x2 })\n\n        return results\n    }\n}","import { getBezierPointOneQuard } from \"el/utils/bezier\"\n\nexport default function makeInterpolateQuard (sx, sy, cx1, cy1, ex, ey) {\n\n    var points = [\n        {x: sx, y: sy},\n        {x: cx1, y: cy1},\n        {x: ex, y: ey}\n    ]\n\n    return (rate, t) => {\n        return getBezierPointOneQuard(points, t)  // return {x, y}\n    }\n}","import { getBezierPointOne } from \"el/utils/bezier\"\n\nexport default function makeInterpolateCubic (sx, sy, cx1, cy1, cx2, cy2, ex, ey) {\n\n    var points = [\n        {x: sx, y: sy},\n        {x: cx1, y: cy1},\n        {x: cx2, y: cy2},\n        {x: ex, y: ey}\n    ]\n\n    return (rate, t) => {\n        return getBezierPointOne(points, t)  // return {x, y}\n    }\n}","import PathParser from \"el/editor/parser/PathParser\";\nimport makeInterpolateOffset from \"./offset-path/makeInterpolateOffset\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { calculateAngle } from \"el/utils/math\";\nimport { Transform } from \"../../property-parser/Transform\";\n\nexport function makeInterpolateOffsetPath(layer, property, startValue, endValue, artboard) {\n\n    var [id, distance, rotateStatus, rotate] = startValue.split(',').map(it =>it.trim());\n\n    var startObject = {id, distance: Length.parse(distance || '0%'), rotateStatus: rotateStatus || 'auto', rotate: Length.parse(rotate || '0deg') }\n\n    var innerInterpolate = (rate, t) => {\n        return { x, y }\n    }\n\n    var innerInterpolateAngle = (rotateStatus, currentAngle) => {\n\n        var resultAngle = 0; \n\n        switch (rotateStatus) {\n        case 'angle': \n            resultAngle =  startObject.rotate.value; \n            break; \n        case 'auto angle': \n            resultAngle =  currentAngle + startObject.rotate.value; \n            break; \n        case 'reverse': \n            resultAngle = currentAngle + 180;\n            break; \n        case 'auto' : \n            resultAngle = currentAngle;\n            break; \n        }\n\n        return resultAngle;\n    }\n\n    var screenX = 0, screenY = 0\n\n    if (artboard) {\n        var pathLayer = artboard.searchById(startObject.id);\n\n        if (pathLayer) {\n            screenX = pathLayer.screenX.value\n            screenY = pathLayer.screenY.value        \n        }\n\n\n        innerInterpolate = (rate, t, timing) => {\n            var parser = new PathParser(pathLayer.d || '');            \n            var {totalLength, interpolateList} = makeInterpolateOffset(parser.segments); \n\n            var distance = startObject.distance.toPx(totalLength)\n            var dt = distance / totalLength;\n\n            t = (t + dt )\n\n            if (t > 1) {\n                t -= 1; \n            }\n\n            var obj = interpolateList[0]    \n            if (t === 0) {\n                obj = interpolateList[0]    \n            } else if (t === 1) {\n                obj = interpolateList[interpolateList.length-1]    \n            }\n\n            var arr = interpolateList.find(it => {\n                return it.startT <= t && t < it.endT\n            });\n\n            if (arr) {\n                obj = arr\n            }\n            \n            var newT = (t - obj.startT)/(obj.endT - obj.startT)\n            var newRate = timing(newT)\n\n            return {\n                ...obj.interpolate(newRate, newT, timing),\n                totalLength: obj.totalLength\n            }\n        }\n\n    }\n\n    return (rate, t, timing) => {\n\n        // apply tranform-origin in real time \n\n        var arr = (layer['transform-origin'] || '50% 50%').split(' ').map(it => Length.parse(it))\n        var tx = arr[0].toPx(layer.width.value);\n        var ty = arr[1].toPx(layer.height.value);\n\n        var obj = innerInterpolate(rate, t, timing); \n\n        var results = {\n            x: obj.x + screenX - tx.value,\n            y: obj.y + screenY - ty.value\n        }\n\n        layer.setScreenX(results.x)\n        layer.setScreenY(results.y)\n\n        if (startObject.rotateStatus === 'element') {\n            // NOOP \n        } else {\n            var current = obj\n            var distValue = 0; \n\n            if (t < 1) {\n                distValue = 1/obj.totalLength\n            }\n            var next = innerInterpolate(rate + distValue, t + distValue, timing); \n            var angle = calculateAngle(next.x - current.x, next.y - current.y)\n\n\n            var newAngle = Length.deg(innerInterpolateAngle(startObject.rotateStatus, angle))\n\n            layer.reset({\n                transform: Transform.rotate(layer.transform, newAngle)\n            })\n\n        }\n\n\n        return results;\n    }\n\n}\n","import { getDist } from \"el/utils/math\";\nimport Point from \"el/editor/parser/Point\";\nimport makeInterpolateLine from \"./makeInterpolateLine\";\nimport { getCurveDist, getQuardDist } from \"el/utils/bezier\";\nimport makeInterpolateQuard from \"./makeInterpolateQuard\";\nimport makeInterpolateCubic from \"./makeInterpolateCubic\";\n\nexport default function makeInterpolateOffset (segments) {\n    var interpolateList = [] \n    var startPoint = [] \n    segments.forEach((segment, index) => {\n\n        switch(segment.command) {\n        case 'M': \n            var [ex, ey] = segment.values\n            startPoint = [ex, ey];break; \n        case 'm': \n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n\n            ex += sx;\n            ey += sy;\n\n            startPoint = [ex, ey];\n            break; \n        case 'L': \n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, ex, ey],\n                length: getDist(sx, sy, ex, ey),\n                interpolate: makeInterpolateLine(sx, sy, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break; \n        case 'l': \n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n\n            ex += sx; \n            ey += sy; \n\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, ex, ey],\n                length: getDist(sx, sy, ex, ey),\n                interpolate: makeInterpolateLine(sx, sy, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break; \n        case 'C':\n            var [sx, sy] = startPoint\n            var [cx1, cy1, cx2, cy2, ex, ey] = segment.values\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, cx1, cy1, cx2, cy2, ex, ey],\n                length: getCurveDist(sx, sy, cx1, cy1, cx2, cy2, ex, ey),\n                interpolate: makeInterpolateCubic(sx, sy, cx1, cy1, cx2, cy2, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break;                     \n        case 'c':\n            var [sx, sy] = startPoint\n            var [cx1, cy1, cx2, cy2, ex, ey] = segment.values\n\n            cx1 += sx;\n            cx2 += sx;\n            ex += sx;\n\n            cy1 += sy;\n            cy2 += sy;\n            ey += sy;\n\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, cx1, cy1, cx2, cy2, ex, ey],\n                length: getCurveDist(sx, sy, cx1, cy1, cx2, cy2, ex, ey),\n                interpolate: makeInterpolateCubic(sx, sy, cx1, cy1, cx2, cy2, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break;       \n        case 'Q':\n            var [sx, sy] = startPoint\n            var [cx1, cy1, ex, ey] = segment.values\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, cx1, cy1, ex, ey],\n                length: getQuardDist(sx, sy, cx1, cy1, ex, ey),\n                interpolate: makeInterpolateQuard(sx, sy, cx1, cy1, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break;\n        case 'q':\n            var [sx, sy] = startPoint\n            var [cx1, cy1, ex, ey] = segment.values\n\n            cx1 += sx;\n            ex += sx;\n\n            cy1 += sy;\n            ey += sy;\n\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, cx1, cy1, ex, ey],                \n                length: getQuardDist(sx, sy, cx1, cy1, ex, ey),\n                interpolate: makeInterpolateQuard(sx, sy, cx1, cy1, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break;   \n        case 'S':\n            var [sx, sy] = startPoint\n            var [cx2, cy2, ex, ey] = segment.values\n\n            var prevSegment = interpolateList[interpolateList.length - 1];\n\n            if (['C', 'c', 'S', 's'].includes(prevSegment.command)) {\n                var [_, _, _, _, preC1x, preC1y, preEx, preEy] = prevSegment.values \n\n                var {x: cx1, y: cy1 } = Point.getReversePoint({x: preEx, y: preEy}, {x: preC1x, preC1y})\n\n                interpolateList.push({\n                    command: segment.command,                \n                    values: [sx, sy, cx1, cy1, cx2, cy2, ex, ey],\n                    length: getCubicDist(sx, sy, cx1, cy1, cx2, cy2, ex, ey),\n                    interpolate: makeInterpolateCubic(sx, sy, cx1, cy1, cx2, cy2, ex, ey)\n                })\n                startPoint = [ex, ey];\n                break;                                \n            }\n        case 's':\n            var [sx, sy] = startPoint\n            var [cx2, cy2, ex, ey] = segment.values\n\n            cx2 += sx;\n            ex += sx;\n\n            cy2 += sy;\n            ey += sy;\n\n            var prevSegment = interpolateList[interpolateList.length - 1];\n\n            if (['C', 'c', 'S', 's'].includes(prevSegment.command)) {\n                var [_, _, _, _, preC1x, preC1y, preEx, preEy] = prevSegment.values \n\n                var {x: cx1, y: cy1 } = Point.getReversePoint({x: preEx, y: preEy}, {x: preC1x, preC1y})\n\n                interpolateList.push({\n                    command: segment.command,                \n                    values: [sx, sy, cx1, cy1, cx2, cy2, ex, ey],\n                    length: getCubicDist(sx, sy, cx1, cy1, cx2, cy2, ex, ey),\n                    interpolate: makeInterpolateCubic(sx, sy, cx1, cy1, cx2, cy2, ex, ey)\n                })\n                startPoint = [ex, ey];\n                break;                                \n            }            \n\n\n        case 'T':\n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n\n\n            var prevSegment = interpolateList[interpolateList.length - 1];\n\n            if (['Q', 'q', 'T', 't'].includes(prevSegment.command)) {\n                var [_, _, preC1x, preC1y, preEx, preEy] = prevSegment.values \n\n                var {x: cx1, y: cy1 } = Point.getReversePoint({x: preEx, y: preEy}, {x: preC1x, preC1y})\n\n                interpolateList.push({\n                    command: segment.command,\n                    values: [sx, sy, cx1, cy1, ex, ey],\n                    length: getQuardDist(sx, sy, cx1, cy1, ex, ey),\n                    interpolate: makeInterpolateQuard(sx, sy, cx1, cy1, ex, ey)\n                })\n                startPoint = [ex, ey];\n            }\n            break;    \n        case 't':\n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n\n            ex += sx;\n            ey += sy;\n\n            var prevSegment = interpolateList[interpolateList.length - 1];\n\n            if (['Q', 'q', 'T', 't'].includes(prevSegment.command)) {\n                var [_, _, preC1x, preC1y, preEx, preEy] = prevSegment.values \n\n                var {x: cx1, y: cy1 } = Point.getReversePoint({x: preEx, y: preEy}, {x: preC1x, preC1y})\n\n                interpolateList.push({\n                    command: segment.command,\n                    values: [sx, sy, cx1, cy1, ex, ey],\n                    length: getQuardDist(sx, sy, cx1, cy1, ex, ey),\n                    interpolate: makeInterpolateQuard(sx, sy, cx1, cy1, ex, ey)\n                })\n                startPoint = [ex, ey];\n            }\n            break;                         \n        }    \n\n    })\n\n\n    var totalLength = 0; \n    interpolateList.forEach(it => {\n        totalLength += it.length; \n    })\n\n    var start = 0; \n    interpolateList.forEach(it => {\n        it.startT = start / totalLength \n        it.endT = (start + it.length) / totalLength \n        it.totalLength = totalLength;\n\n        start += it.length \n    })\n    \n\n    return { totalLength, interpolateList};\n\n}","export function makeInterpolateText(layer, property, startText, endText, unit = undefined) {\n\n    var max = endText.length - 1; \n    var min = 0; \n\n    return (rate, t) => {\n\n        var result = 0;\n        if (t === 0) {\n            result = '';\n        } else if (t === 1) {\n            result = endText;\n        } else {\n            result = endText.substring(min, Math.floor((max - min) * t))\n        }\n\n        return result; \n    }\n}\n","export function makeInterpolatePlayTime(layer, property, startValue, endValue, artboard, layerElement) {\n\n    // media 플레이에 필요한 것 \n    // 시작 시점(startTime), 끝나는 시점 (endTime);\n    // 시점에 따른 playbackRate 자동 계산 \n    // 단순 seek 는 움직임을 보여주지 않음. 이상하게 보일 수도 있으니 참고 \n\n    const mediaElement = layerElement.$('video').el;\n\n    let [sTime, eTime, durationTime] = startValue.split(\":\"); \n\n    const duration = +(durationTime || 1);\n    const startTime = +(sTime || 0) * duration;\n\n    return (rate, t) => {\n        if (t === 0) {\n            mediaElement.currentTime = startTime; \n            if (mediaElement.paused) {\n                mediaElement.play(); \n            }\n        } else if (t === 1) {\n            layer.reset({\n                currentTime: mediaElement.currentTime,\n            })            \n            mediaElement.pause();\n        } else {\n            if (mediaElement.paused) {\n                mediaElement.play(); \n            }\n        }\n    }\n}\n","import { createBezierForPattern } from \"el/utils/bezier\";\nimport { makeInterpolateLength } from \"./interpolate-functions/makeInterpolateLength\";\nimport { makeInterpolateBorderRadius } from \"./interpolate-functions/makeInterpolateBorderRadius\";\nimport { makeInterpolateBoxShadow } from \"./interpolate-functions/makeInterpolateBoxShadow\";\nimport { makeInterpolateColor } from \"./interpolate-functions/makeInterpolateColor\";\nimport { makeInterpolateString } from \"./interpolate-functions/makeInterpolateString\";\nimport timingFunctions from \"./timing-functions\";\nimport { makeInterpolateRotate } from \"./interpolate-functions/makeInterpolateRotate\";\nimport { makeInterpolateTextShadow } from \"./interpolate-functions/makeInterpolateTextShadow\";\nimport { makeInterpolateBackgroundImage } from \"./interpolate-functions/makeInterpolateBackgroundImage\";\nimport { makeInterpolateFilter } from \"./interpolate-functions/makeInterpolateFilter\";\nimport { makeInterpolateNumber } from \"./interpolate-functions/makeInterpolateNumber\";\nimport { makeInterpolateClipPath } from \"./interpolate-functions/makeInterpolateClipPath\";\nimport { makeInterpolateTransform } from \"./interpolate-functions/makeInterpolateTransform\";\nimport { makeInterpolateTransformOrigin } from \"./interpolate-functions/makeInterpolateTransformOrigin\";\nimport { makeInterpolatePerspectiveOrigin } from \"./interpolate-functions/makeInterpolatePerspectiveOrigin\";\nimport { makeInterpolateStrokeDashArrray } from \"./interpolate-functions/makeInterpolateStrokeDashArray\";\nimport { makeInterpolatePath } from \"./interpolate-functions/svg/makeInterpolatePath\";\nimport { makeInterpolatePolygon } from \"./interpolate-functions/svg/makeInterpolatePolygon\";\nimport { makeInterpolateOffsetPath } from \"./interpolate-functions/makeInterpolateOffsetPath\";\nimport { makeInterpolateText } from \"./interpolate-functions/makeInterpolateText\";\nimport { makeInterpolatePlayTime } from \"./interpolate-functions/makeInterpolatePlayTime\";\n\nconst DEFAULT_FUCTION = () => (rate, t) => { } \n\nfunction makeInterpolateCustom (property) {\n\n    switch(property) {\n    case 'border-radius':\n        return makeInterpolateBorderRadius\n    case 'border':\n        return makeInterpolateBorder        \n    case 'box-shadow':\n        return makeInterpolateBoxShadow        \n    case 'text-shadow':\n        return makeInterpolateTextShadow\n    case 'background-image':\n    case 'BackgroundImageEditor':\n        return makeInterpolateBackgroundImage \n    case 'filter':\n    case 'backdrop-filter':\n        return makeInterpolateFilter\n    case 'clip-path':\n        return makeInterpolateClipPath\n    case 'transform':\n        return makeInterpolateTransform\n    case 'transform-origin':\n        return makeInterpolateTransformOrigin        \n    case 'perspective-origin':\n        return makeInterpolatePerspectiveOrigin\n    case 'stroke-dasharray':\n        return makeInterpolateStrokeDashArrray        \n    case 'd':\n        return makeInterpolatePath\n    case 'points':\n        return makeInterpolatePolygon\n    case 'offset-path':\n        return makeInterpolateOffsetPath\n    case 'text': \n        return makeInterpolateText\n    case 'playTime':\n        return makeInterpolatePlayTime\n    }\n}\n\n\nfunction makeInterpolate (layer, property, startValue, endValue, editorString, artboard, layerElement) {\n\n    var checkField = editorString || property\n\n    switch(checkField) {\n    case 'width':\n    case 'x':\n        return makeInterpolateLength(layer, property, startValue, endValue, 'width');\n    case 'height':\n    case 'y':\n        return makeInterpolateLength(layer, property, startValue, endValue, 'height');\n    case 'perspective':\n    case 'font-size':\n    case 'font-stretch':\n    case 'font-weight':\n    case 'text-stroke-width':\n    case 'RangeEditor':\n    case 'textLength':\n    case 'startOffset':\n        return makeInterpolateLength(layer, property, startValue, endValue, property);\n    case 'fill-opacity':\n    case 'opacity':\n    case 'stroke-dashoffset':\n    case 'currentTime':\n    case 'NumberRangeEditor':\n        return makeInterpolateNumber(layer, property, +startValue, +endValue);\n    case 'background-color':\n    case 'color':\n    case 'text-fill-color':\n    case 'text-stroke-color':\n    case 'fill':\n    case 'stroke':\n    case 'ColorViewEditor':\n        return makeInterpolateColor(layer, property, startValue, endValue);\n    case 'mix-blend-mode':\n    case 'fill-rule':\n    case 'stroke-linecap':\n    case 'stroke-linejoin':\n    case 'SelectEditor':       \n    case 'lengthAdjust': \n        return makeInterpolateString(layer, property, startValue, endValue); \n    case 'rotate':\n        return makeInterpolateRotate(layer, property, startValue, endValue);               \n    }\n\n    \n    var func = makeInterpolateCustom(checkField)\n\n    if (func) {\n        return func(layer, property, startValue, endValue, artboard, layerElement)\n    }\n\n    return DEFAULT_FUCTION\n}\n\n\nexport function createInterpolateFunction (layer, property, startValue, endValue, editorString, artboard, layerElement) {\n    return makeInterpolate(layer, property, startValue, endValue, editorString, artboard, layerElement);\n}\n\n\nexport function createTimingFunction(timing = 'linear') {\n\n    var [funcName, params] = timing.split('(').map(it => it.trim())\n    params = (params || '').split(')')[0].trim()\n\n    var func = timingFunctions[funcName];\n\n    if (func) {\n        \n        var args = timing.split('(')[1].split(')')[0].split(',').map(it => it.trim())\n        return func(...args);\n    } else {\n        return createCurveFunction(timing);\n    }\n}\n\nexport function createCurveFunction (timing) {\n    var func = createBezierForPattern(timing);\n    return (rate) => {\n        return func(rate).y;\n    }\n}\n\n\n","import { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\n\nexport class Offset extends PropertyItem {\n  static parse(obj) {\n    return new Offset(obj);\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"offset\",\n      offset: Length.percent(0),\n      color: 'rgba(255, 255, 255, 1)',\n      properties: []\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('offset', 'color', 'properties'),\n    }\n  }\n\n  convert(json) {\n    json = super.convert(json)\n\n    json.offset = Length.parse(json.offset);\n    return json ;\n  }\n\n  toCSSText() {\n    return `${this.json.offset} ${CSS_TO_STRING(this.toCSS())}`\n  }\n\n  createProperty(data = {}) {\n    return this.addProperty({\n      checked: true,\n      value: Length.z(),\n      ...data\n    });\n  } \n\n  addProperty (property) {\n    this.json.properties.push(property);\n  }\n  \n  \n  removeProperty(removeIndex) {\n    this.json.properties.splice(removeIndex, 1);\n  }    \n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n  \n  sortProperty(startIndex, targetIndex) {\n    this.sortItem(this.json.properties, startIndex, targetIndex);\n  }     \n\n\n  updateProperty(index, data = {}) {\n    Object.assign(this.json.properties[+index], { ... data } );\n  }\n\n  updatePropertyByKey(key, data = {}) {\n    var arr = this.json.properties;\n    var index = -1; \n    for(var i = 0, len = arr.length; i < len; i++) {\n      if (this.json.properties[i].key === key) {\n        index = i; \n        break; \n      }\n    }\n    \n    Object.assign(this.json.properties[+index], { ... data } );\n  }\n\n  toCSS() {\n    var obj = {}\n\n    this.json.properties.forEach(it => {\n      obj = { ...obj, ...it.toCSS() }\n    })\n\n    return obj;\n  }\n\n  toString() {\n    return this.toCSSText()\n  }\n}\n","import { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { Offset } from \"./Offset\";\n\nimport { reverseMatches, convertMatches } from \"el/utils/parser\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport class Keyframe extends PropertyItem {\n  static parse(obj) {\n    return new Keyframe(obj);\n  }\n\n\n  /**\n   * \n   * keyframe: {keyframeName} {offset} {property} {value} | ......\n   * \n   * @param {} style \n   */\n  static parseStyle (style) {\n    var keyframes = []\n    var keyframeKeys = {} \n\n    if (style['keyframe']) {\n      var results = convertMatches(style[\"keyframe\"]);\n\n      results.str.split('|').map(it => it.trim()).forEach( (frameInfo, index) => {\n        var [ name, offset, property, ...values ] = frameInfo.split(' ')\n        var propertyValue = values.join(' ');\n\n        if (!keyframeKeys[name]) {\n          keyframeKeys[name] = new Keyframe({\n            name\n          })\n          \n          keyframes[index] = name; \n        }\n\n        var filteredOffset = keyframeKeys[name].offsets.filter(it => {\n          return it.offset.equals(Length.parse(offset))\n        })\n\n        var offsetObj = null;\n        if (filteredOffset.length) {\n          offsetObj = filteredOffset[0]\n        } else {\n          offsetObj = new Offset({\n            offset: Length.parse(offset)\n          })\n\n          keyframeKeys[name].offsets.push(offsetObj)\n        }\n\n        offsetObj.addProperty({ \n          key: property, \n          value: reverseMatches(propertyValue, results.matches)\n        })\n\n      })\n    }\n\n    return keyframes.map(name => {\n\n      keyframeKeys[name].offsets.forEach(offset => {\n        var vars = [] \n        var properties = [] \n        offset.properties.forEach(p => {\n          if (p.key.includes('--')) {\n            vars.push(p);\n          } else {\n            properties.push(p);\n          }\n        })\n\n        let varValue = vars.map(it => `${it.key}:${it.value}`).join(';')\n\n        if (vars.length) {\n          properties.push({ key: 'var', value: varValue })\n        }\n\n        offset.properties = properties\n      })\n\n      return keyframeKeys[name]\n    });\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"keyframe\",\n      name: 'sample',\n      selectedType: 'list',\n      offsets: []\n    });\n  }\n\n  toCloneObject() {\n    var {name, selectedType, offsets} = this.json; \n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('name', 'selectedType'),\n      offsets: offsets.map(offset => offset.clone())\n    }\n  }\n\n  isMultiStyle (key) {\n    switch (key) {\n    case 'background-image': \n    case 'var':\n      return true;\n    }\n\n    return false;\n  }\n\n  getMultiStyleString (p) {\n    switch(p.key) {\n      case 'background-image': \n\n        return p.value.toString() + ';';\n      case 'var':\n        var value = (p.value + '').split(';').map(str => {\n          return `--` + str; \n        }).join(';')\n        return value + ';';\n    }\n\n\n    return p.value.toString() + ';'; \n  }\n\n\n  toOffsetString (it) {\n\n    var tabString = '      '\n\n    return `${it.offset.toString()} {\n${tabString}${it.properties.map(p => {\n  if (this.isMultiStyle(p.key)) {\n    return this.getMultiStyleString(p)\n  } else {\n    var value = (p.value || '').toString();\n\n    if (value) {\n\n      var key = p.key; \n\n      if (key === 'x') key = 'left';\n      else if (key === 'y') key = 'top';\n\n      return `${key}: ${value};`\n    } else {\n      return '';\n    }\n  }\n}).join('').replace(/\\;/g, ';\\n' + tabString).trim()}\n  }`\n  }  \n\n\n  toOffsetText () {\n\n    var offsets = this.json.offsets.map(it => {\n      return it\n    });\n    \n    offsets.sort((a, b) => {\n      return a.offset.value > b.offset.value ? 1 : -1; \n    })\n\n\n    return  offsets.map(it => {\n      if (it.properties.length === 0) return ''\n      return this.toOffsetString(it);\n    }).join('\\n')\n  }  \n\n  toCSSText () {\n\n    var offsets = this.json.offsets.map(it => {\n      return it\n    });\n    \n    offsets.sort((a, b) => {\n      return a.offset.value > b.offset.value ? 1 : -1; \n    })\n\n\n    return `\n@keyframes ${this.json.name} {\n\n  ${this.toOffsetText()}\n\n}\n`\n  }\n\n  \n  createOffset(data = {}) {\n    return this.addOffset(\n      new Offset({\n        checked: true,\n        ...data\n      })\n    );\n\n  } \n\n  addOffset (offset) {\n    this.json.offsets.push(offset);\n  }\n  \n  \n  removeOffset(removeIndex) {\n    this.json.offsets.splice(removeIndex, 1);\n  }    \n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n  \n  sortOffset(startIndex, targetIndex) {\n    this.sortItem(this.json.offsets, startIndex, targetIndex);\n  }     \n\n\n  updateOffset(index, data = {}) {\n    this.json.offsets[+index].reset(data);\n  }        \n\n\n  toCSS() {\n    return {};\n  }\n\n  toString() {\n    return this.toCSSText()\n  }\n}\n","import { isFunction } from \"el/sapa/functions/func\";\nimport { Item } from \"el/editor/items/Item\";\n\nexport class ComponentManager {\n  constructor(editor) {\n    this.editor = editor;\n    this.components = {} \n    this.inspectors = {}\n  }\n\n  registerComponent (name, componentProperty) {\n\n    if (this.components[name]) throw new Error(\"It has duplicated item name. \" + name);\n    this.components[name] = componentProperty;\n  }\n\n  registerInspector (name, inspectorCallback) {\n\n    if (this.inspectors[name]) throw new Error(\"It has duplicated item name. \" + name);\n    this.inspectors[name] = inspectorCallback;\n  }  \n\n  getComponentClass(name) {\n    return this.components[name] || this.components['rect']\n  }\n\n  getInspector(name) {\n    return this.inspectors[name];\n  }  \n\n  /**\n   * ItemType 에 해당되는 Item 객체를 생성한다. \n   * create Item instance\n   * \n   * @param {string} itemType  ItemType \n   * @param {object} obj \n   * @returns {Item} \n   */\n  createComponent (itemType, obj = {}) {\n    var ComponentClass = this.getComponentClass(itemType);\n    if (!ComponentClass) {\n      throw new Error(`${itemType} type is not valid.`)\n    }\n\n    return new ComponentClass(obj);\n  }\n\n  /**\n   * Inspector 를 생성하는 배열을 리턴해준다. \n   * \n   * @param {string} itemType \n   * @param {Item} item \n   * @returns \n   */\n  createInspector (item) {\n    const inspector = this.getInspector(item.itemType);\n\n    if (isFunction(inspector)) {\n      return inspector(item) || [];\n    }\n\n    if (isFunction(item.getProps)) {\n      return item.getProps() || [];\n    }\n\n    return [];\n  }\n\n};\n","import { isFunction, clone } from 'el/sapa/functions/func';\nimport { BaseModel } from '../model/BaseModel';\nimport { ComponentManager } from './ComponentManager';\n\nconst identity = () => true;\n\n/**\n * 렌더링 객체를 관리하는 자료구조입니다. \n * \n */\nexport class ModelManager {\n    constructor(editor) {\n        this.editor = editor;\n        this.version = \"0.0.0\";\n        this.name = \"\";\n        this.description = \"\";\n        this.items = new Map();\n        this.projects = [];\n    }\n\n\n    /**\n     * document 로드 하기 \n     */\n    load(doc = undefined) {\n        const newDoc = doc || this.editor.loadItem('model');\n\n        this.items.clear();\n        this.version = newDoc?.version;\n        this.name = newDoc?.name;\n        this.description = newDoc?.description;\n\n        newDoc?.projects?.forEach(project => {\n            this.createModel(project);\n        })\n\n        if (this.projects.length === 0) {\n            this.createProject();\n        }\n    }\n\n    createProject() {\n        this.createModel({\n            itemType: \"project\",\n            name: \"New Project\",\n        })\n    }\n\n    getProjectByIndex(index = 0) {\n        return this.get(this.projects[index]);\n    }\n\n    get(id) {\n        return this.items.get(id);\n    }\n\n    set(id, item) {\n        this.items.set(id, item);\n        this.setChanged('set', id, item);        \n    }\n\n    // 삭제 표시 \n    remove(id) {\n        const obj = this.items.get(id);\n\n        const children = obj.parent.children\n        const index = children.indexOf(id);\n\n        obj.reset({\n            removed: true,\n            removedIndex: index,\n            removedLeftSibling: index > 0 ? children[index - 1] : null,\n            removedRightSibling: index < children.length - 1 ? children[index + 1] : null\n        })\n\n        this.setChanged('remove', id);\n    }\n\n    // 삭제 표시 복구 \n    recover(id) {\n        const obj = this.items.get(id);\n        const parent = this.getParent(id);\n\n        // 오른쪽 id 가 있다면 그 전으로 위치 \n        if (!obj.removedLeftSibling && obj.removedRightSibling) {\n            parent.children.splice(parent.children.findIndex(it => obj.removedRightSibling) - 1, 0, id);\n        }\n        // 왼쪽 id 가 있다면 그 뒤로 위치 \n        else if (obj.removedLeftSibling && !obj.removedRightSibling) {\n            parent.children.splice(parent.children.findIndex(it => obj.removedLeftSibling) + 1, 0, id);\n        }\n        // 둘다 아니면 index 에 위치 \n        else {\n            parent.children.splice(obj.removedIndex, 0, id);\n        }\n\n        delete obj.removed;\n        delete obj.removedLeftSibling;\n        delete obj.removedRightSibling;\n        delete obj.removedIndex;\n\n        this.setChanged('recover', id);    \n    }\n\n    clear() {\n        this.items.clear();\n    }\n\n    toJSON() {\n        return {\n            version: this.version,\n            name: this.name,\n            description: this.description,\n            projects: this.projects.map(id => {\n                return this.get(id).toJSON()\n            })\n        }\n    }\n\n    /**\n     * BaseModel 에서 reset 으로 변경된 값을 지정해준다. \n     * \n     * @param {string} id \n     * @param {object} obj \n     */\n    setChanged(type, id, obj) {\n        this.editor.emit('changed', type, id, obj);\n    }\n\n    /**\n     * 부모에서 자식 아이템을 삭제한다. \n     * \n     * @param {string} rootId\n     * @param {string} childId\n     */\n    removeChild(rootId, childId) {\n\n        const obj = this.get(rootId)\n        obj.children = obj.children.filter(it => it !== childId)\n\n        this.setChanged('removeChild', rootId, { childId });            \n    }\n\n    /**\n     * 부모 아이디를 가지고 있는지 체크 한다. \n     * \n     * @param {string} parentId \n     */\n    hasParent(rootId, parentId) {\n        const obj = this.get(rootId);\n\n        const isParent = obj.parentId === parentId\n\n        if (!isParent && obj.parent.is('project') === false) return this.hasParent(obj.parentId, parentId);\n\n        return isParent;\n    }\n\n\n    /**\n     * @returns {ComponentManager}\n     */\n    get components() {\n        return this.editor.components;\n    }\n\n    searchItem(id) {\n        return this.get(id);\n    }\n\n    /**\n     * 하위 자식 객체 중에 id를 가진 Item 을 리턴한다. \n     * \n     * @param {string} id \n     * @returns {Item|null} 검색된 Item 객체 \n     */\n    searchLayers(rootId, childId) {\n        const obj = this.get(rootId);\n        return this.get(obj.children.find(it => it === childId));\n    }\n\n    searchItemsById(ids) {\n        return ids.map(id => this.get(id));\n    }\n\n    /**\n     * searchItem 의 path 에  targetItems 가 존재하는지 찾는다. \n     * \n     * @param {BaseModel[]} targetItems\n     * @param {BaseModel} searchItem\n     */\n    hasPathOf(targetItems, searchItem) {\n\n        const path = this.getPath(searchItem.id, searchItem);\n\n        return targetItems.filter(it => it.id !== searchItem.id).some(target => {\n            return path.find(it => it.id === target.id);\n        })\n    }\n\n    /**\n     * 해당 id 를 가진 item 의 group 을 찾는다. \n     * 부모가 project 일 때는 나 자신의 item 을 리턴한다.  \n     * \n     * @param {string} rootId\n     */\n    findGroupItem(rootId) {\n        const obj = this.get(rootId);\n\n        if (obj.hasChildren()) {\n            return obj;\n        }\n\n        // 상위가 project 나 artboard 이면 현재 객체를 최상위로 본다. \n        if (obj.parent && (obj.parent.is('project') || obj.parent.is('artboard'))) {\n            return obj;\n        }\n\n        return obj.parent && this.findGroupItem(obj.parentId);\n    }\n\n    /**\n     * items 를 기준으로  item 의 path 에 group 이 있는지 체크하고 \n     * group item 들만 리턴한다. \n     * 중복은 제외한다. \n     * \n     * @param {BaseModel[]} items\n     */\n    convertGroupItems(items) {\n\n        const objectList = {};\n\n        items.forEach(item => {\n            const groupItem = this.findGroupItem(item.id) || item;\n\n            objectList[groupItem.id] = groupItem;\n        });\n\n        return Object.values(objectList).filter(it => it.isNot('project'));\n    }\n\n    /**\n     * 삭제되지 않은 아이템들을 리턴한다.\n     * \n     * @param {string[]} ids \n     * @returns \n     */\n    searchLiveItemsById(ids) {\n        return ids.map(id => this.get(id)).filter(it => !it.removed);\n    }\n\n    markRemove(ids = []) {\n        ids.forEach(id => {\n            this.remove(id);\n        });\n\n        this.setChanged('markRemove', ids, {isLayer: true});                \n    }\n\n    markRemoveProject (id) {\n        const index = this.projects.findIndex(it => it === id);\n\n        this.projects.splice(index, 1);\n        this.get(id).removed = true;\n\n        this.setChanged('markRemoveProject', [id], {isProject: true});        \n        return index;\n    }\n\n    unmarkRemove(ids = []) {\n        ids.forEach(id => {\n            this.recover(id);\n        });\n\n        this.setChanged('unmarkRemove', ids, {isLayer: true});\n    }\n\n    unmarkRemoveProject (id, index) {\n        this.projects.splice(index, 0, id);\n        this.get(id).removed = false;\n\n        this.setChanged('unmarkRemoveProject', [id], {removed: true, isProject: true});        \n    }\n\n    /**\n     * itemObject (객체)를 가지고 itemType 에 따른  실제 Component 객체를 생성해준다. \n     * \n     * @param {object} itemObject \n     * @returns {Item}\n     */\n    createModel(itemObject, isRegister = true) {\n        const layers = itemObject.layers;\n        delete itemObject.layers;\n        let item;\n\n        if (this.get(itemObject.id)) {\n            item = this.get(itemObject.id);\n            item.reset(itemObject);\n        } else {\n            item = this.components.createComponent(itemObject.itemType, {\n                ...itemObject,\n            });\n\n            item.setModelManager(this);\n        }\n\n        // Item 을 생성하면  아이템의 id 를 등록한다. \n        // 등록된 item 은 다른 곳으로 전송될 수 있다. \n        if (isRegister) {\n            this.set(item.id, item);\n\n            if (item.is('project')) {\n                this.projects = [...new Set([...this.projects, item.id])];\n            }\n        }\n\n\n        const children = (layers || []).map(it => {\n            return this.createModel({ ...it, parentId: item.id });\n        })\n\n        // 하위 아이템들은 생성된 이후에 id 문자열 리스트로만 관리된다.  \n        item.reset({\n            children: children.map(it => {\n                return it.id\n            })\n        });\n\n\n        return item;\n    }\n\n    getAllLayers(rootId, filterCallback = identity) {\n        var results = []\n        const obj = this.get(rootId);\n\n        let len = obj.children.length;\n        for (let start = len; start--;) {\n            let id = obj.children[start];\n            results.push(... this.getAllLayers(id, filterCallback));\n        }\n\n        if (isFunction(filterCallback) && filterCallback(obj)) {\n            results.push(obj);\n        }\n\n        return results;\n    }\n\n    getLayers(rootId, defaultRef = null) {\n        const obj = this.get(rootId) || defaultRef;\n\n        return obj?.children?.map(childId => this.get(childId));\n    }\n\n    eachLayers(rootId, callback) {\n        const obj = this.get(rootId);\n\n        let len = obj.children.length;\n        for (let start = len; start--;) {\n            let id = obj.children[start];\n            callback(this.get(id));\n        }\n    }\n\n    mapLayers(rootId, callback) {\n        const obj = this.get(rootId);\n\n        return obj.children.map(childId => {\n            return callback(this.get(childId));\n        })\n    }\n\n    /**\n     * \n     * @param {string} rootId\n     * @returns {BaseModel} 부모 Model 리턴 \n     */\n    getParent(rootId) {\n        return this.get(this.get(rootId)?.parentId);\n    }\n\n    /**\n     * depth 정의 \n     */\n    getDepth(rootId) {\n        const parent = this.getParent(rootId);\n        if (!parent) return 1;\n\n        return this.getDepth(parent.id) + 1;\n    }\n\n    /**\n     * 최상위 부모 찾기 \n     * \n     */\n    getRoot(rootId) {\n        const obj = this.get(rootId);\n        const parent = this.getParent(rootId);\n        if (!parent) return obj;\n\n        let localParent = parent;\n        do {\n            const nextParent = this.getParent(localParent.id)\n\n            if (!nextParent) {\n                return localParent;\n            }\n\n            localParent = nextParent;\n\n        } while (localParent);\n    }\n\n    /**\n       * 상속 구조 안에서 instance 리스트\n       * \n       * @returns {Item[]}\n       */\n\n    getPath(rootId, defaultRef = null) {\n        const obj = this.get(rootId) || defaultRef;\n        const parent = this.getParent(rootId);\n        if (!parent) return [obj];\n\n        const list = this.getPath(parent.id);\n\n        list.push(obj);\n\n        return list;\n    }\n\n    /**\n     * path 안에서 itemType 에 맞는  item 을 찾는다. \n     * \n     * @param {string} rootId\n     * @param {string} itemType\n     * @returns {BaseModel}\n     */\n    getModelTypeInPath(rootId, itemType) {\n        return this.getPath(rootId).find(it => it && it.is(itemType));\n    }\n\n    /**\n     * rootId 기준으로 path 를 구하고 \n     * path 에 targetId 가 존재하는지 체크하고 \n     * item 을 리턴한다. \n     * \n     * @param {string} rootId\n     * @param {string} targetId\n     * @returns {BaseModel}\n     */\n    getItemInPath(rootId, targetId) {\n        return this.getPath(rootId).find(it => it && it.id === targetId);\n    }\n\n    getProject(rootId) {\n        return this.getModelTypeInPath(rootId, 'project');\n    }\n\n    getArtBoard(rootId) {\n        return this.getModelTypeInPath(rootId, 'artboard');\n    }\n\n\n    is(rootId, checkItemType) {\n        const obj = this.get(rootId);\n        return checkItemType === obj.itemType;\n    }\n\n    isNot(rootId, checkItemType) {\n        return this.is(rootId, checkItemType) === false;\n    }\n\n\n    /**\n     * 지정된 필드의 값을 object 형태로 리턴한다. \n     * \n     * @param {string} rootId\n     * @param  {...string} args 필드 리스트 \n     */\n    attrs(rootId, ...args) {\n        const obj = this.get(rootId);\n        const result = {}\n\n        args.forEach(field => {\n            result[field] = clone(obj[field])\n        })\n\n        return result;\n    }\n\n    hasChildren(rootId) {\n        return this.get(rootId)?.children.length > 0;\n    }\n\n    /**\n     * clone Item\n     */\n    clone(rootId, isDeep = true) {\n        const obj = this.get(rootId);\n        const json = obj.toCloneObject(rootId, isDeep)\n\n        const item = this.createModel(json);\n        item.setParentId(obj.parentId)\n\n        return item;\n    }\n\n    reset(rootId, obj) {\n        return this.get(rootId)?.reset(obj);\n    }\n\n    appendChild(rootId, childId) {\n        const obj = this.get(rootId);\n        const child = this.get(childId);\n\n        // 아이디가 없는 경우 다시 아이디 넣어주기 \n        this.json.children.push(layer.id);\n\n        // 다시 넣는다면 offset 도 지정을 다시 해야함 \n        layer.offsetInParent = this.json.children[last-1].offset + 0.1;\n    }\n\n\n}","import { clone, isFunction, isNotUndefined, isNumber, isUndefined } from \"el/sapa/functions/func\";\nimport { uuid } from \"el/utils/math\";\nimport { ModelManager } from \"../manager/ModelManager\";\n\n/**\n * Item , 그리기를 위한 기본 모델 \n * 유니크한 아이디를 가진다. \n * 참조는 모드 id 로 관리하고 해당 id 는 ModelManager 객체에서 참조한다.\n * \n * @class\n */\nexport class BaseModel {\n\n  /**\n   * 모델 생성자 \n   * \n   * @param {object} json 초기화 할 데이타 \n   * @param {ModelManager} modelManager\n   */\n  constructor(json = {}, modelManager) {    \n    this.modelManager = modelManager;\n\n    this.ref = new Proxy(this, {\n      get: (target, key) => {\n        if (this.getCache(key)) {\n          return this.getCache(key);\n        }\n\n        var originMethod = target[key];\n        if (isFunction(originMethod)) {\n\n          if (!this.getCache(key)) {\n            this.addCache(key, (...args) => {\n              return originMethod.apply(target, args);\n            });\n          }\n\n          return this.getCache(key);\n        } else {\n          // getter or json property\n          return originMethod || target.json[key];\n        }\n      },\n      set: (target, key, value) => {\n        const isDiff = target.json[key] != value;\n\n        if (isDiff) {\n          this.reset({ [key]: value });\n        }\n\n        return true;\n      },\n      deleteProperty: (target, key) => {\n        this.reset({ [key]: undefined });\n      }\n    });\n\n    this.json = this.convert(Object.assign(this.getDefaultObject(), json));\n    this.lastChangedField = {};\n    this.lastChangedFieldKeys = [];\n    this.cachedValue = {};\n    this.timestamp = 0;\n\n    return this.ref;\n  }\n\n  setModelManager(modelManager) {\n    this.modelManager = modelManager;\n  }\n\n  /***********************************\n   *\n   * override\n   *\n   **********************************/\n\n  getDefaultTitle() {\n    return \"Item\";\n  }\n\n  getIcon() {\n    return '';\n  }\n\n  isChanged(timestamp) {\n    return this.timestamp != Number(timestamp);\n  }\n\n  changed() {\n    this.timestamp += performance.now();\n  }\n\n  /***********************************\n   *\n   * getter\n   *\n   **********************************/\n\n  /**\n   * title 속성 \n   */\n  get title() {\n    return this.json.name || this.getDefaultTitle();\n  }\n\n  renameWithCount() {\n    let arr = this.json.name.split(' ');\n\n    if (arr.length < 2) {\n      return;\n    }\n\n    let last = arr.pop();\n    let lastNumber = +last;\n    if (isNumber(lastNumber) && isNaN(lastNumber) === false) {\n      lastNumber++;\n    } else {\n      lastNumber = last;\n    }\n\n    const nextName = [...arr, lastNumber].join(' ')\n\n    this.reset({\n      name: nextName\n    })\n  }\n\n  /**\n   * \n   * @return {Item[]} 자신을 포함안 하위 모든 자식을 조회 \n   */\n  get allLayers() {\n    return this.modelManager.getAllLayers(this.id);\n  }\n\n  /**\n   * filterCallback 으로 필터링된 layer 리스트를 가지고 온다. \n   * \n   * @returns {Item[]}\n   */\n  filteredAllLayers(filterCallback) {\n    return this.modelManager.getAllLayers(this.id, filterCallback);\n  }\n\n  /**\n   * get id\n   */\n  get id() {\n    return this.json.id;\n  }\n\n  /**\n   * 자식 객체 리스트\n   * \n   * @returns {Item[]}\n   */\n  get layers() {\n    return this.modelManager.getLayers(this.id, this.ref);\n  }\n\n\n  get parentId() {\n    return this.json.parentId;\n  }\n\n  /**\n   * @returns {Item}\n   */\n  get parent() {\n    if (!this.json.parentId) return undefined;\n\n    return this.modelManager.get(this.json.parentId);\n  }\n\n  setParentId(parentId) {\n    this.json.parentId = parentId;\n\n    this.modelManager.setChanged('setParentId', this.id, { parentId });        \n  }\n\n  /**\n   * 객체 깊이를 동적으로 계산 \n   * \n   * @returns {number}\n   */\n  get depth() {\n    return this.modelManager.getDepth(this.id);\n  }\n\n  /**\n   * 최상위 컴포넌트 찾기 \n   * \n   * @returns {Item}\n   */\n  get top() {\n    return this.modelManager.getRoot(this.id);\n  }\n\n  /**\n   * 최상위 project 구하기 \n   * \n   * @returns {Project}\n   */\n  get project() {\n    return this.modelManager.getProject(this.id);\n  }\n\n  /**\n   * 최상위 artboard 구하기 \n   * \n   * @returns {ArtBoard}\n   */\n  get artboard() {\n    return this.modelManager.getArtBoard(this.id);\n  }\n\n  /**\n   * 상속 구조 안에서 instance 리스트\n   * \n   * @returns {Item[]}\n   */\n  get path() {\n    return this.modelManager.getPath(this.id, this.ref);\n  }\n\n  get lock() {\n    return this.modelManager.editor.lockManager.get(this.id);\n  }\n\n  get visible() {\n    return this.modelManager.editor.visibleManager.get(this.id);\n  }\n\n  get childrenLength() {\n    return this.json.children.length;\n  }\n\n  /**\n   * id 기반 문자열 id 생성\n   * \n   * @param {string} postfix \n   */\n  getInnerId(postfix = '') {\n    return this.json.id + postfix;\n  }\n\n  is(checkItemType) {\n    return this.json.itemType === checkItemType;\n  }\n\n  isNot(checkItemType) {\n    return this.is(checkItemType) === false;\n  }\n\n  isSVG() {\n    return false;\n  }\n\n  addCache(key, value) {\n    this.cachedValue[key] = value;\n  }\n\n  getCache(key) {\n    return this.cachedValue[key];\n  }\n\n  /**\n   * BaseModel 에서 attribute key 를 기반으로 캐쉬를 적용한다. \n   * 렌더링 시에 캐쉬를 적용하지 않으면 렌더링이 느려지기 때문에\n   * 각 객체마다 캐쉬를 적용하는 것이 좋다.\n   * \n   * @param {string} key attirbute field name\n   * @param {Function} newValueCallback cache 에 적용할 값을 구하는 함수\n   * @returns \n   */\n  computed(key, newValueCallback, isForce = false) {\n    const cachedKey = `__cachedKey_${key}`\n    const parsedKey = `${cachedKey}__parseValue`\n    const value = this.json[key];\n\n    // 캐쉬가 있으면 그대로 리턴\n    if (isForce) {\n      // NOOP \n      // isForce 가 true 일 때는 캐쉬를 적용하지 않는다.\n    } else {\n      if (this.getCache(key) === value && this.getCache(parsedKey)) {\n        return this.getCache(parsedKey);\n      }\n    }\n\n    // isForce 가 true 이면 다시 캐쉬를 만든다. \n    this.addCache(key, value);\n    this.addCache(parsedKey, newValueCallback(value, this.ref));\n\n    return this.getCache(parsedKey);\n  }\n\n  computedValue(key) {\n    const cachedKey = `__cachedKey_${key}`\n    const parsedKey = `${cachedKey}__parseValue`\n\n    return this.getCache(parsedKey);\n  }\n\n  editable(editablePropertyName) {\n    return true;\n  }\n\n  /***********************************\n   *\n   * action\n   *\n   **********************************/\n\n\n  generateListNumber() {\n    this.layers.forEach((it, index) => {\n      it.no = index;\n\n      it.generateListNumber();\n    })\n  }\n\n  /**\n   * when json is loaded, json object is be a new instance\n   *\n   * @param {*} json\n   */\n  convert(json = {}) {\n    return json;\n  }\n\n  setCache() {\n\n  }\n\n  toCloneObject(isDeep = true) {\n    var json = this.attrs(\n      'itemType', 'name', 'elementType', 'type', 'selected', 'parentId'\n    )\n\n    if (isDeep) {\n      json.layers = this.json.children.map(childId => {\n        return this.modelManager.clone(childId, isDeep)\n      })\n    }\n\n    return json;\n  }\n\n  /**\n   * clone Item\n   */\n  clone(isDeep = true) {\n    return this.modelManager.clone(this.id, isDeep);\n  }\n\n  /**\n   * check object values \n   * \n   * @param {KeyValue} obj \n   * @returns \n   */\n  isChangedValue(obj) {\n    return true;\n  }\n\n  /**\n   * set json content\n   *\n   * @param {object} obj\n   */\n  reset(obj) {\n    const isChanged = this.isChangedValue(obj);\n\n    if (isChanged) {\n      this.json = this.convert(Object.assign(this.json, obj));\n      this.lastChangedField = obj;\n      this.lastChangedFieldKeys = Object.keys(obj);\n      this.modelManager.setChanged('reset', this.id, obj);\n      this.changed();\n    }\n\n    return true;\n  }\n\n  /**\n   * 마지막 변경된 field 를 체크한다. \n   * \n   * @returns {boolean} \n   */ \n  hasChangedField(...args) {\n    return args.some(it => this.lastChangedField[it] !== undefined);\n  }\n\n  /**\n   * define default object for item\n   *\n   * @param {object} obj\n   */\n  getDefaultObject(obj = {}) {\n    var id = uuid()\n    return {\n      id,\n      // visible: true,  // 보이기 여부 설정 \n      // selected: false,  // 선택 여부 체크 \n      children: [],   // 하위 객체를 저장한다. \n      offsetInParent: 1,  // 부모에서 자신의 위치를 숫자로 나타낸다. \n      ...obj\n    };\n  }\n\n  /**\n   * 지정된 필드의 값을 object 형태로 리턴한다. \n   * \n   * @param  {...string} args 필드 리스트 \n   */\n   attrs (...args) {\n    const result = {}\n\n    args.forEach(field => {\n      if (isNotUndefined(this.json[field])) {\n        result[field] = clone(this.json[field])\n      }\n    })\n\n    return result;\n  }\n\n  /**\n   * 자식을 가지고 있는지 체크 \n   * \n   * @returns {boolean}\n   */\n  hasChildren() {\n    return this.json.children.length > 0;\n  }\n\n  /**\n   * 자식으로 추가한다. \n   * \n   * @param {BaseModel} layer  childItem 이 될 객체\n   */\n  appendChild(layer) {\n    if (layer.parentId === this.id) {\n\n      const hasId = this.json.children.find(it => it === layer.id)\n      if (Boolean(hasId) === false) {\n        // 아이디가 없는 경우 다시 아이디 넣어주기 \n        this.json.children.push(layer.id);\n        this.modelManager.setChanged('appendChild', this.id, {child: layer.id, oldParentId: layer.parentId});\n      }\n\n      return layer;\n    }\n\n    this.resetMatrix(layer);\n\n    // 객체를 추가할 때는  layer 의 절대 값을 기준으로 객체를 움직인다. \n    if (layer.parent) {\n      layer.remove();\n    }\n\n    layer.setParentId(this.id);\n\n    this.json.children.push(layer.id);\n\n    return layer;\n  }\n\n  resetMatrix(item) {\n\n  }\n\n  refreshMatrixCache() {\n\n  }\n\n  /**\n   * 특정 index 에 자식을 추가한다. \n   * \n   * @param {Item} layer \n   * @param {number} index \n   */\n  insertChild(layer, index = 0) {\n\n    this.resetMatrix(layer);\n\n    // 객체를 추가할 때는  layer 의 절대 값을 기준으로 객체를 움직인다. \n    if (layer.parent) {\n      layer.remove();\n    }\n\n    layer.setParentId(this.id);\n    this.json.children.splice(index, 0, layer.id);\n    // this.project.addIndexItem(layer);\n    this.modelManager.setChanged('insertChild', this.id, {childId: layer.id, index: 0})\n    return layer;\n  }\n\n  /**\n   * 현재 Item 의 그 다음 순서로 추가한다. \n   * \n   * @param {Item} layer \n   */\n  appendAfter(layer) {\n\n    const index = this.parent.findIndex(this);\n\n    this.parent.insertChild(layer, index);\n    // this.project.addIndexItem(layer);\n    return layer;\n  }\n\n\n  /**\n   * 현재 Item 의 이전 순서로 추가한다. \n   * \n   * @param {Item} layer \n   */\n  appendBefore(layer) {\n\n    const index = this.parent.findIndex(this);\n\n    this.parent.insertChild(layer, index - 1);\n    // this.project.addIndexItem(layer);\n    return layer;\n  }\n\n  /**\n   * toggle item's attribute\n   *\n   * @param {*} field\n   * @param {*} toggleValue\n   */\n  toggle(field, toggleValue) {\n    if (isUndefined(toggleValue)) {\n      this.reset({\n        [field]: !this.json[field]\n      });\n    } else {\n      this.reset({\n        [field]: !!toggleValue\n      });\n    }\n  }\n\n  isTreeItemHide() {\n\n    let currentParent = this.parent;\n    let collapsedList = []\n    do {\n      if (currentParent.is('project')) break;\n\n      collapsedList.push(Boolean(currentParent.collapsed))\n      currentParent = currentParent.parent;\n    } while (currentParent)\n\n    // 부모중에 하나라도 collapsed 가 있으면 여긴 트리에서 숨김 \n    return Boolean(collapsedList.filter(Boolean).length);\n\n  }\n\n  expectJSON(key) {\n    if (key === 'parent') return false;\n    if (isUndefined(this.json[key])) return false;\n\n    return true;\n  }\n\n  /**\n   * convert to json\n   * \n   */\n  toJSON() {\n    const json = this.json;\n\n    let newJSON = {}\n    Object.keys(json).filter(key => this.expectJSON(key)).forEach(key => {\n      newJSON[key] = json[key];\n    })\n\n    if (this.hasChildren()) {\n      newJSON.layers = this.json.children.map(childId => {\n        return this.modelManager.get(childId)?.toJSON()\n      })\n    }\n\n\n    return newJSON;\n  }\n\n  resize() { }\n\n  /**\n   * Item 복사하기 \n   * \n   * @param {number} dist \n   */\n  copy(dist = 0) {\n    return this.parent.copyItem(this.id, dist);\n  }\n\n  findIndex(item) {\n    return this.json.children.indexOf(item.id);\n  }\n\n  copyItem(childItemId, dist = 10) {\n    const childItem = this.modelManager.get(childItemId);\n    var child = childItem.clone()\n    child.renameWithCount()\n    child.move([dist, dist, 0])\n\n    var childIndex = this.findIndex(childItem);\n\n    if (childIndex > -1) {\n      this.json.children.push(child.id);\n    }\n    return child;\n  }\n\n  /**\n   * 부모 객체에서 나를 지운다. \n   * remove self in parent \n   */\n  remove() {\n    this.parent.removeChild(this.id);\n  }\n\n  /**\n   * remote child item \n   * \n   * @param {Item} childItem \n   */\n  removeChild(childItemId) {\n    return this.modelManager.removeChild(this.id, childItemId);\n  }\n\n  /**\n   * 부모 아이디를 가지고 있는지 체크 한다. \n   * \n   * @param {string} parentId \n   */\n  hasParent(parentId) {\n    return this.modelManager.hasParent(this.id, parentId);\n  }\n\n  /**\n   * 특정 itemType 으로 데이타 변환 \n   * \n   * @param {string} itemType \n   */\n  to(itemType) {\n\n  }\n}\n","import { uuidShort } from \"el/utils/math\";\nimport { clone, isNotUndefined, isUndefined } from \"el/sapa/functions/func\";\nimport { second, timecode, framesToTimecode } from \"el/utils/time\";\nimport { createInterpolateFunction, createTimingFunction } from \"../interpolate/index\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { AssetModel } from \"./AssetModel\";\n\nexport class TimelineModel extends AssetModel {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      timeline: [ \n        /*{ id: \"xxx\", \n          title: \"xxxx\", \n          currentTimecode: '00:00:00:00',\n          totalTimecode: '00:00:10:00',\n          currentTime: 0,\n          totalTime: second(60, '00:00:10:00'),\n          displayStartTime: second(60, '00:00:00:00'),\n          displayEndTime: second(60, '00:00:10:00'),\n          fps: 60,\n          animations: [\n          {id: 'xxxxx', properties: [\n            {property: 'width', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'height', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'translateX', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'rotateZ', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'perspective', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'width', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n          ]}\n        ]} */\n      ],\n      compiledTimeline: {},\n      ...obj\n    });\n  }\n\n  expectJSON (key) {\n    if (key === 'compiledTimeline') return false; \n\n    return super.expectJSON(key);\n  }  \n\n  setTimelineInfo (obj) {\n\n    var timeline = this.getSelectedTimeline();\n    if (!timeline) return; \n\n    ['speed', 'iterationCount', 'direction'].forEach(key => {\n      if (isNotUndefined(obj[key])) {\n        timeline[key] = obj[key]\n      }\n    })\n  }\n\n  compileAll () {\n\n    var timeline = this.getSelectedTimeline();\n\n    this.json.compiledTimeline = {}\n    if (timeline) {\n\n      timeline.animations.forEach(animation => {\n        animation.properties.forEach(property => {\n          this.compiledTimingFunction(animation.id, property.property);\n        })\n      })\n  \n    }\n\n  }\n\n  searchTimelineOffset (time) {\n    var timeline = this.getSelectedTimeline();\n    var filteredTimeline = [] \n    if (timeline) {\n\n      timeline.animations.forEach(animation => {\n        animation.properties.forEach(p => {\n          var list = this.getCompiledTimingFunction(animation.id, p.property);\n\n          filteredTimeline.push(list.find(keyframe => {\n            if (keyframe.isOnlyTime && keyframe.startTime <= time) return true; \n\n            return keyframe.startTime <= time && time < keyframe.endTime\n          }))\n        })\n      })\n    }\n\n    return filteredTimeline.filter(it => it);\n  }\n\n  getCompiledTimingFunction (layerId, property) {\n    return this.json.compiledTimeline[`${layerId}.${property}`];\n  }\n\n  compiledTimingFunction (layerId, property) {\n\n    var artboard = this; \n    var p = this.getTimelineProperty(layerId, property);\n    var layer = this.modelManager.get(layerId);\n    var key = `${layerId}.${property}`\n    if (p.keyframes.length === 1) {\n      this.json.compiledTimeline[key] = [] \n      return ;\n    }\n\n    let layerElement = Dom.body().$(`[data-id=\"${layerId}\"]`);\n    let editorString = p.keyframes.map(it => it.editor)[0];\n    this.json.compiledTimeline[key] = p.keyframes.map( (offset, index) => {\n\n      var currentOffset = offset; \n      var nextOffset = p.keyframes[index + 1];\n\n      offset.editor = editorString \n\n\n      if (!nextOffset) {\n        nextOffset = { time: offset.time, value: offset.value };\n      }\n      \n      var it = {\n        layer,\n        layerElement,\n        property: p.property,\n        isOnlyTime: currentOffset.time === nextOffset.time,\n        startTime: offset.time,\n        endTime: nextOffset.time, \n        startValue: offset.value,\n        endValue: nextOffset.value,\n        timing: offset.timing,\n        interpolateFunction: createInterpolateFunction(layer, p.property, offset.value, nextOffset.value, offset.editor, artboard, layerElement),\n        timingFunction: createTimingFunction(offset.timing)\n      }\n\n      it.func = this.makeTimingFunction(it);      \n  \n      return it; \n    }).filter(it => it);\n  }\n\n  makeTimingFunction (it) {\n    // 시작시간 끝 시간이 있음 . 그리고 현재 시간이 있음 \n    return (time) => {\n      var totalT = (it.endTime - it.startTime);\n      var t = 1; \n      if (totalT !== 0) {\n        t = (time - it.startTime)/totalT;\n      }\n\n      return it.interpolateFunction(it.timingFunction(t), t, totalT, it.timingFunction);\n    }\n  }\n\n  stop (frameOrCode) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n\n      var time = timeline.currentTime;\n\n      // 중간 멈추는 영역이 되면 \n      // 비디오의 플레이를 멈춘다.  다시 시작하면 그 시점에 다시 시작한다. \n      this.searchTimelineOffset(time).forEach(it => {\n        // play 속성 (video, audio) , 원하는 구간을 play 하고 멈춘다. \n        if (it.property === 'playTime') {   // 멈춘다. \n          const $video = it.layerElement.$('video');\n          if ($video) {\n            $video.el.pause();\n          }\n        }\n\n      });\n\n    }\n  }\n\n  seek (frameOrCode, filterFunction = (it => it)) {\n\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n\n      if (isNotUndefined(frameOrCode)) {\n        this.setTimelineCurrentTime(frameOrCode);\n      }\n\n      var time = timeline.currentTime;\n\n      this.searchTimelineOffset(time).filter(filterFunction).forEach(it => {\n        // play 속성 (video, audio) , 원하는 구간을 play 하고 멈춘다. \n        if (it.property === 'offset-path' || it.property === 'playTime') {\n\n          // 객체 속성은 function 안에서 변경한다. \n          it.func(time)\n\n        } else if (it.layer) {\n          it.layer.reset({\n            [it.property]: it.func(time) \n          })\n        }\n\n      });\n\n    }\n\n  }\n\n  getSelectedTimeline () {\n    var timeline = this.json.timeline;\n\n    var a = timeline.filter(it => it.selected);\n\n    var selectedTimeline = a.length ? a[0] : timeline[0]\n\n    return selectedTimeline || null;\n  }\n\n  getKeyframeListReturnArray() {\n    var timeline = this.getSelectedTimeline();\n    var keyframes = []     \n    if (timeline) {\n\n      timeline.animations.forEach(a => {\n        a.properties.forEach(p => {\n          keyframes.push.apply(keyframes, p.keyframes);\n        })\n      })\n    }\n\n    return keyframes; \n  }\n\n  getKeyframeList(callback) {\n    var timeline = this.getSelectedTimeline(); \n    if (timeline) {\n\n      timeline.animations.forEach(a => {\n        a.properties.forEach(p => {\n          p.keyframes.forEach(k => {\n            callback && callback (timeline, k);\n          })\n        })\n      })\n    }\n  }\n\n  getSelectedTimelineLastTime () {\n    var time = 0; \n    this.getKeyframeList((timeline, keyframe) => {\n      time = Math.max(keyframe.time, time);\n    })\n\n    return time; \n  }\n\n  getSelectedTimelineFirstTime () {\n\n    var time = Number.MAX_SAFE_INTEGER; \n    this.getKeyframeList((timeline, keyframe) => {\n      time = Math.min(keyframe.time, time);\n    })\n\n    return time; \n  }\n\n  getSelectedTimelinePrevTime () {\n\n    var time = this.getSelectedTimelineFirstTime(); \n    this.getKeyframeList((timeline, keyframe) => {\n      if (timecode(timeline.fps, keyframe.time) < timeline.currentTimecode) {\n        time = Math.max(keyframe.time, time);\n      }      \n    })\n\n    return time; \n  }\n\n\n  getSelectedTimelineNextTime () {\n    var time = this.getSelectedTimelineLastTime(); \n    this.getKeyframeList((timeline, keyframe) => {\n\n      if (timecode(timeline.fps, keyframe.time) > timeline.currentTimecode) {      \n        time = Math.min(keyframe.time, time);\n      }      \n    })\n\n    return time; \n  }\n\n  setTimelineTitle (id, text) {\n    var timeline = this.json.timeline.find(it => {\n      return it.id === id; \n    })\n\n    if (timeline) {\n      timeline.title = text; \n    }\n  }\n\n  selectTimeline (id) {\n\n    if (id) {\n      this.json.timeline.forEach(it => {\n        it.selected = it.id === id; \n      })\n    } else {\n\n      var selectedTimeline = this.json.timeline.filter(it => it.selected);\n\n      if (selectedTimeline.length) {\n        // NOOP \n      } else {\n        if (this.json.timeline.length) {\n          this.json.timeline.selected = true; \n        }\n      }\n    }\n\n\n    this.compileAll()\n  }\n\n\n  removeAnimation (id) {\n\n    this.json.timeline = this.json.timeline.filter(it => {\n      return it.id !== id; \n    })\n\n    if (this.json.timeline.length) {\n      this.json.timeline[0].selected = true; \n    }\n\n    this.compileAll()\n  }\n\n\n  addTimeline (fps = 60, endTimecode = '00:00:10:00' ) {\n    var id = uuidShort();\n    var selectedTimeline = {\n      id,\n      title: 'sample', \n      ...this.getTimelineLayerInfo(fps, endTimecode),\n      animations: [] \n    }\n    this.json.timeline.push(selectedTimeline)\n\n    this.selectTimeline(id);\n\n    return selectedTimeline;\n  }\n\n  addTimelineLayer (layerId, fps = 60, endTimecode = '00:00:10:00' ) {\n    var selectedTimeline = this.getSelectedTimeline();\n\n    if (!selectedTimeline) {\n      selectedTimeline = this.addTimeline(fps, endTimecode);\n    }\n\n    selectedTimeline.selected = true; \n\n    if (layerId) {\n      var layer = selectedTimeline.animations.filter(it => it.id === layerId) \n\n      if (!layer[0]) {\n        selectedTimeline.animations.push({\n          id: layerId, properties: [] \n        })\n      }\n    }\n\n\n  }\n\n  getTimelineLayerInfo (fps = 60, endTimecode = '00:00:10:00') {\n\n    var endTime = second(fps, endTimecode);\n\n    return {\n      fps,\n      speed: 1,\n      direction: 'normal',\n      iterationCount: 1, \n      currentTimecode: timecode(fps, 0),\n      totalTimecode: timecode(fps, endTime),\n      currentTime: 0,\n      totalTime: endTime,\n      displayStartTime: 0,\n      displayEndTime: endTime\n    }\n\n  }\n\n  setTimelineCurrentTime (frameOrCode) {\n    var timeline = this.getSelectedTimeline();\n    var {fps, totalTimecode} = timeline\n\n    if (timeline) {\n      var frame = frameOrCode;\n      var code = frameOrCode; \n  \n      if ((+frame) + '' === frame) {\n        frame = +frame; \n        code = framesToTimecode(fps, frame);\n      }\n  \n      if (code > totalTimecode) {\n          code = totalTimecode;\n      }\n  \n      var currentTime = second(fps, code);\n\n      timeline.currentTime = currentTime;\n      timeline.currentTimecode = timecode(fps, currentTime);\n\n    }\n    \n  }\n\n  setDisplayTimeDxRate (dxRate, initStartTime, initEndTime) {\n\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n\n      var dxTime = dxRate * timeline.totalTime \n\n      var startTime = initStartTime + dxTime; \n      var endTime = initEndTime + dxTime; \n  \n  \n      startTime = Math.max(startTime, 0);\n      startTime = Math.min(startTime, endTime);        \n  \n      if (startTime === 0) {\n          endTime = initEndTime - initStartTime;\n      }\n  \n      endTime = Math.max(endTime, startTime);                \n      endTime = Math.min(endTime, timeline.totalTime);\n  \n      if (endTime === timeline.totalTime) {\n          startTime = timeline.totalTime - (initEndTime - initStartTime);\n      }\n  \n  \n      timeline.displayStartTime = startTime;\n      timeline.displayEndTime = endTime;\n    }\n     \n\n  }\n\n  setDisplayStartTimeRate (rate) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      timeline.displayStartTime = rate * timeline.totalTime;\n    }\n  }\n\n  setDisplayEndTimeRate (rate) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      timeline.displayEndTime = rate * timeline.totalTime;\n    }\n  }  \n\n  setTimelineCurrentTimeRate (rate) {\n    var timeline = this.getSelectedTimeline();\n    \n    if (timeline) {\n      var {displayStartTime, displayEndTime, fps} = timeline\n      var currentTime = displayStartTime + (displayEndTime - displayStartTime) * rate\n\n      this.setTimelineCurrentTime(timecode(fps, currentTime));\n    }\n\n  }  \n\n  setTimelineTotalTime (frameOrCode) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      var frame = frameOrCode;\n      var code = frameOrCode; \n  \n      if ((+frame) + '' === frame) {\n        frame = +frame; \n        code = framesToTimecode(timeline.fps, frame);\n      }\n  \n      if (second(timeline.fps, code) < timeline.displayEndTime) {\n        timeline.displayEndTime = second(timeline.fps, code)\n        timeline.displayStartTime = 0; \n      }\n\n      timeline.totalTimecode = code; \n      timeline.totalTime = second(timeline.fps, code);\n\n    }\n    \n  }  \n\n\n  getTimelineObject (layerId) {\n    var selectedTimeline = this.getSelectedTimeline();\n\n    if (selectedTimeline) {\n      return selectedTimeline.animations.find(it => it.id === layerId) ;\n    }\n  }\n\n  addTimelineProperty (layerId, property) {\n    this.addTimelineLayer(layerId);\n    var animation = this.getTimelineObject(layerId);\n\n    if (animation) {\n      var p = animation.properties.filter(it => it.property === property);\n\n      if (!p.length) {\n        animation.properties.push({\n          property, keyframes: [] \n        })\n        this.compiledTimingFunction(layerId, property);                \n      } \n\n    }\n  }\n\n  getTimelineProperty (layerId, property) {\n\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n\n      layerId = layerId || timeline.selectedLayerId\n      property = property || timeline.selectedProperty\n\n      var timelineObject = this.getTimelineObject(layerId);\n\n      if (timelineObject) {\n        return timelineObject.properties.find(it => it.property === property);\n      }\n    }\n\n\n  }\n\n\n  setSelectedOffset(layerId, property, time) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      timeline.selectedLayerId = layerId;\n      timeline.selectedProperty = property;\n      timeline.selectedOffsetTime = time;\n\n      var p = this.getTimelineProperty();\n      p.keyframes.forEach(it => {\n        it.selected = it.time === time; \n      })\n    }\n\n  }\n\n  deleteTimelineKeyframe (layerId, property, offsetId) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      p.keyframes = p.keyframes.filter(it => it.id != offsetId);\n    }\n  }\n\n  removeTimelineProperty (layerId, property) {\n    var layer = this.getTimelineObject(layerId);\n\n    if (layer) {\n      layer.properties = layer.properties.filter(p => p.property != property);\n    }\n  }  \n\n  removeTimeline (layerId) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      timeline.animations = timeline.animations.filter(ani => ani.id != layerId);\n    }\n  }  \n\n  setTimelineKeyframeOffsetTime (layerId, property, offsetId, changedTime) {\n    var keyframe = this.getTimelineKeyframeById(layerId, property, offsetId)\n    if (keyframe) {\n      keyframe.time = changedTime;\n\n      this.compiledTimingFunction(layerId, property);                   \n    }\n  }\n\n  setTimelineKeyframeOffsetValue (layerId, property, offsetId, value = undefined, timing = undefined, time = undefined) {\n\n    var keyframe = this.getTimelineKeyframeById(layerId, property, offsetId)\n    if (keyframe) {\n      if (isNotUndefined(time)) { keyframe.time = time; }\n      if (isNotUndefined(value)) { keyframe.value = value; }\n      if (isNotUndefined(timing)) { keyframe.timing = timing; }\n\n      this.compiledTimingFunction(layerId, property);             \n    }\n  }  \n\n  addTimelineKeyframe ({ layerId, property, value, timing, time: newTime, editor }) {\n\n    this.addTimelineProperty(layerId, property);\n    var timeline = this.getSelectedTimeline();\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n\n      var time = newTime || timeline.currentTime;\n\n      var times = p.keyframes.filter(it => it.time === time); \n\n      if (!times.length) {\n        value = (isUndefined(value) || value === '') ? this.getDefaultPropertyValue(property) : value;\n\n        var obj = { id: uuidShort(), layerId, property, time, value, timing: timing || 'linear', editor }\n        p.keyframes.push(obj)\n\n        p.keyframes.sort( (a, b) => {\n          return a.time > b.time ? 1 : -1; \n        })\n\n        this.compiledTimingFunction(layerId, property);     \n\n        return obj;\n      }\n    }\n  }\n\n  getDefaultPropertyValue(property) {\n\n    switch(property) {\n    case 'mix-blend-mode': \n      return 'normal';\n    case 'rotate': \n      return '0deg';\n    case 'box-shadow':  \n      return '0px 0px 0px 0px rgba(0, 0, 0, 1)';\n    case 'text-shadow':  \n      return '0px 0px 0px rgba(0, 0, 0, 1)';\n    case 'opacity': \n      return 1; \n    // case 'background-color':\n    // case 'color':\n    // case 'text-fill-color':\n    // case 'text-stroke-color':\n    // case 'transform': \n    // case 'transform-origin':\n    default: \n      return '';\n    }\n\n  }\n\n  copyTimelineKeyframe (layerId, property, newTime = null) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      var timeline = this.getSelectedTimeline();\n      var time = newTime || timeline.currentTime;\n\n      var times = p.keyframes.filter(it => it.time < time); \n      var value = this.getDefaultPropertyValue(property);\n      var timing = 'linear';\n      var editor = ''; \n      if (times.length) {\n\n        times.sort((a, b) => {\n          return a.time > b.time ? -1 : 1; \n        })\n\n        value = times[0].value + \"\";\n        timing = times[0].timing + \"\"\n        editor = times[0].editor\n\n      }\n\n      this.addTimelineKeyframe({layerId, property, value, timing, editor});\n\n    }\n  }\n\n  getTimelineKeyframe (layerId, property, time) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      return p.keyframes.find(it => it.time === time); \n    }\n  }\n\n  getTimelineKeyframeById (layerId, property, id) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      return p.keyframes.find(it => it.id === id)\n    }\n  }    \n\n  sortTimelineKeyframe (layerId, property) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      p.keyframes.sort((a, b) => {\n        return a.time > b.time ? 1 : -1; \n      })\n      this.compiledTimingFunction(layerId, property);      \n    }\n  }\n\n\n  setFps (fps) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n        timeline.fps = fps; \n\n        timeline.currentTimecode = timecode(fps, timeline.currentTime);\n        timeline.totalTimecode = timecode(fps, timeline.totalTime);\n    }\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      timeline: clone(this.json.timeline)\n    }\n  }  \n\n}\n","import { Keyframe } from \"../property-parser/Keyframe\";\nimport { BaseModel } from \"./BaseModel\";\n\nexport class AssetModel extends BaseModel {\n\n  getDefaultObject(obj = {}) { \n    return super.getDefaultObject({\n      comments: [],   // { id: xxxx, pos: [0, 0, 0], comments: [ { userId: '', message: '', createdAt: '', updatedAt : '' } ] }\n      colors: [],\n      gradients: [],\n      svgfilters: [],\n      svgimages: [],\n      keyframes: [],      \n      images: [],     //  { id: xxxx, url : '' }\n      imageKeys: [],\n      videos: [],     //  { id: xxxx, url : '' }\n      videoKeys: [],      \n      audios: [],     //  { id: xxxx, url : '' }\n      ...obj\n    });\n  }\n\n\n  addKeyframe(keyframe) {\n    this.json.keyframes.push(keyframe);\n    return keyframe;\n  }     \n\n\n  createKeyframe(data = {}) {\n    return this.addKeyframe(\n      new Keyframe({\n        checked: true,\n        ...data\n      })\n    );\n  }    \n  \n\n  removeKeyframe(removeIndex) {\n    this.removePropertyList(this.json.keyframes, removeIndex);\n  }    \n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  sortKeyframe(startIndex, targetIndex) {\n    this.sortItem(this.json.keyframes, startIndex, targetIndex);\n  }    \n\n\n  updateKeyframe(index, data = {}) {\n    this.json.keyframes[+index].reset(data);\n  }      \n\n\n/**\n   * `@keyframes` 문자열만 따로 생성 \n   */\n  toKeyframeString (isAnimate = false) {\n    return this.json.keyframes\n              .map(keyframe => keyframe.toString(isAnimate))\n              .join('\\n\\n')\n  }  \n\n\n  copyPropertyList(arr, index) {\n    var copyObject = {...arr[index]};\n    arr.splice(index, 0, copyObject);\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'colors',\n        'gradients',\n        'svgfilters',\n        'svgimages',\n        'images',\n        'keyframes',      \n      )\n\n    }\n  }\n\n\n  removePropertyList(arr, removeIndex) {\n    arr.splice(removeIndex, 1);\n  }  \n\n  /* color assets manage */ \n\n  removeColor(removeIndex) {\n    this.removePropertyList(this.json.colors, removeIndex);\n  }      \n\n\n  copyColor(index) {\n    this.copyPropertyList(this.json.colors, index);\n  }        \n\n  sortColor(startIndex, targetIndex) {\n    this.sortItem(this.json.colors, startIndex, targetIndex);\n  }    \n\n  setColorValue(index, value = {}) {\n    this.json.colors[index] = {...this.json.colors[index], ...value}\n  }\n\n  getColorIndex (index) {\n    return this.json.colors[index]\n  }\n\n  getColor (name) {\n    return this.json.colors.filter(item => item.name === name)[0];\n  }\n\n  addColor (obj) {\n    this.json.colors.push(obj);\n    return obj; \n  }\n\n  createColor(data = {}) {\n    return this.addColor(data)\n  }  \n\n\n  /* image assets manage */ \n\n  removeImage(removeIndex) {\n    this.removePropertyList(this.json.images, removeIndex);\n    this.refreshImageKeys();\n  }      \n\n\n  copyImage(index) {\n    this.copyPropertyList(this.json.images, index);\n    this.refreshImageKeys();\n  }        \n\n  sortImage(startIndex, targetIndex) {\n    this.sortItem(this.json.images, startIndex, targetIndex);\n  }    \n\n\n  setImageValue(index, value = {}) {\n    this.json.images[index] = {...this.json.images[index], ...value}\n    this.refreshImageKeys();\n  }  \n\n  getImageValueById (id) {\n    const image = this.json.imageKeys[id]\n    if (!image) return undefined;\n\n    return image.local;\n  }\n\n  refreshImageKeys() {\n    let imageKeys = {}\n    this.json.images.forEach(it => {\n      imageKeys[it.id] = it; \n    })\n\n    this.reset({\n      imageKeys\n    })\n  }\n\n  addImage(obj) {\n    this.json.images.push(obj)\n    this.refreshImageKeys();\n    return obj; \n  }\n\n  createImage(data = {}) {\n    return this.addImage(data)\n  }  \n\n\n\n  /* video assets manage */ \n\n  removeVideo(removeIndex) {\n    this.removePropertyList(this.json.videos, removeIndex);\n    this.refreshVideoKeys()    \n  }      \n\n\n  copyVideo(index) {\n    this.copyPropertyList(this.json.videos, index);\n    this.refreshVideoKeys()    \n  }        \n\n  sortVideo(startIndex, targetIndex) {\n    this.sortItem(this.json.videos, startIndex, targetIndex);\n  }    \n\n\n  setVideoValue(index, value = {}) {\n    this.json.videos[index] = {...this.json.videos[index], ...value}\n  }  \n\n  getVideoValueById (id) {\n    const video = this.json.videoKeys[id]\n    if (!video) return undefined;\n\n    return video.local;\n  }\n\n  refreshVideoKeys() {\n    let videoKeys = {}\n    this.json.videos.forEach(it => {\n      videoKeys[it.id] = it; \n    })\n\n    this.reset({\n      videoKeys\n    })\n  } \n\n  addVideo(obj) {\n    this.json.videos.push(obj)\n    this.refreshVideoKeys()\n    return obj; \n  }\n\n  createVideo(data = {}) {\n    return this.addVideo(data)\n  }    \n\n  /* gradient assets manage */ \n\n\n  removeGradient(removeIndex) {\n    this.removePropertyList(this.json.gradients, removeIndex);\n  }      \n\n\n  copyGradient(index) {\n    this.copyPropertyList(this.json.gradients, index);\n  }        \n\n  sortGradient(startIndex, targetIndex) {\n    this.sortItem(this.json.gradients, startIndex, targetIndex);\n  }    \n\n  setGradientValue(index, value) {\n    this.json.gradients[index] = {...this.json.gradients[index], ...value}\n  }\n\n  getGradientIndex (index) {\n    return this.json.gradients[index]\n  }\n\n  getGradient (name) {\n    return this.json.gradients.filter(item => item.name === name)[0]\n  }\n\n  addGradient(obj = {}) {\n    this.json.gradients.push(obj)\n    return obj; \n  }\n\n  createGradient(data = {}) {\n    return this.addGradient(data)\n  }  \n\n\n  /* svg filters  */\n\n  getSVGFilterIndex (id) {\n\n    var filter = this.json.svgfilters.map( (it, index) => {\n      return { id: it.id, index }\n    }).filter(it => {\n      return it.id === id \n    });\n\n    return filter.length ? filter?.[0]?.index : -1;\n  }\n\n  removeSVGFilter(removeIndex) {\n    this.removePropertyList(this.json.svgfilters, removeIndex);\n  }      \n\n\n  copySVGFilter(index) {\n    this.copyPropertyList(this.json.svgfilters, index);    \n  }        \n\n  sortSVGFilter(startIndex, targetIndex) {\n    this.sortItem(this.json.svgfilters, startIndex, targetIndex);\n  }    \n\n  setSVGFilterValue(index, value) {\n    this.json.svgfilters[index] = {...this.json.svgfilters[index], ...value}\n  }\n\n  addSVGFilter(obj = {}) {\n    this.json.svgfilters.push(obj)\n    var index = this.json.svgfilters.length - 1;\n    return index; \n  }\n\n  createSVGFilter(data = {}) {\n    return this.addSVGFilter(data)\n  }  \n\n \n\n  /* svg clip-path images   */\n\n  getSVGImageIndex (id) {\n\n    var filter = this.json.svgimages.map( (it, index) => {\n      return { id: it.id, index }\n    }).filter(it => {\n      return it.id === id \n    })[0];\n\n    return filter ? filter.index : -1;\n  }\n\n  removeSVGImage(removeIndex) {\n    this.removePropertyList(this.json.svgimages, removeIndex);\n  }      \n\n\n  copySVGImage(index) {\n    this.copyPropertyList(this.json.svgimages, index);    \n  }        \n\n  sortSVGImage(startIndex, targetIndex) {\n    this.sortItem(this.json.svgimages, startIndex, targetIndex);\n  }    \n\n  setSVGImageValue(index, value) {\n    this.json.svgimages[index] = {...this.json.svgimages[index], ...value}\n  }\n\n  addSVGImage(obj = {}) {\n    this.json.svgimages.push(obj)\n    var index = this.json.svgimages.length - 1;\n    return index; \n  }\n\n  createSVGImage(data = {}) {\n    return this.addSVGImage(data)\n  }   \n}\n","\nimport { mat4 } from \"gl-matrix\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { calculateMatrix } from \"el/utils/math\";\nimport { itemsToRectVerties } from \"el/utils/collision\";\nimport { TimelineModel } from \"el/editor/model/TimelineModel\";\n\nconst OFFSET_X = Length.z();\nconst OFFSET_Y = Length.z();\n\nconst identity = mat4.create();\n\nexport class Project extends TimelineModel {\n\n  getDefaultTitle() {\n    return \"New Project\";\n  }\n\n  get isAbsolute  (){\n    return false;\n  }  \n\n  get parent () {\n    return null;\n  }\n\n  toRootVariableCSS () {\n    var obj = {}\n    this.json.rootVariable.split(';').filter(it => it.trim()).forEach(it => {\n      var [key, value] = it.split(':')\n\n      obj[`--${key}`] = value; \n    })\n\n    return obj;\n  }  \n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: \"project\",\n      name: 'new Project',\n      description: '',\n      rootVariable: '',            \n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('name', 'description', 'rootVariable')\n    }\n  }\n\n  get artboards () {\n    return (this.layers || []).filter(it => it.is('artboard'));\n  }\n\n  get offsetX () {\n    return OFFSET_X;\n  }\n\n  get offsetY () {\n    return OFFSET_Y;\n  }  \n\n  hasLayout() {\n    return false;\n  }\n\n  getAccumulatedMatrix() {\n    return mat4.create();\n  }\n\n  getTransformMatrix () {\n    return mat4.create();\n  }\n  /**\n   * 부모를 기준으로 childItem 의 transform 을 맞춘다. \n   * \n   * [newParentInverse] * [childMatrix] * [childItemMatrixInverse] = translate; \n   * \n   * @param {Item} childItem \n   */\n  resetMatrix (childItem) {\n\n    const [x, y] = mat4.getTranslation([], calculateMatrix(\n        childItem.accumulatedMatrix,\n        childItem.localMatrixInverse\n    ));\n\n    childItem.reset({\n        x: Length.px(x),\n        y: Length.px(y),\n    })\n  }\n\n  get rectVerties () {\n    return this.layers?.length ? itemsToRectVerties(this.layers) : null;\n  }\n\n  get accumulatedMatrix () {\n    return identity;\n  }\n\n  get accumulatedMatrixInverse() {\n    return identity;\n  }\n\n  get contentBox () {\n    return {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0\n    }\n}\n\n}","import { itemsToRectVerties, polyPoint, polyPoly, rectToVerties, toRectVerties} from \"el/utils/collision\";\nimport { Item } from \"el/editor/items/Item\";\nimport { Project } from \"plugins/default-items/layers/Project\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { vec3 } from \"gl-matrix\";\nimport { clone, isFunction, isString, isUndefined, isObject } from \"el/sapa/functions/func\";\nimport { area } from \"el/utils/math\";\n\nexport class SelectionManager {\n  constructor(editor) {\n\n    /**\n     * @property {Editor} $editor Editor\n     */    \n    this.$editor = editor; \n\n    /**\n     * @property {Project} project Project Item \n     */\n    this.project = null;\n    /**\n     * @property {Item[]} items Item List\n     */\n    // this.items = [];\n    this.itemKeys = {} \n    this.hoverId = ''; \n    this.hoverItems = []    \n    this.ids = []; \n    this.colorsteps = []\n    this.cachedItemMatrices = []    \n    this.cachedArtBoardVerties = []\n    this.cachedVerties = rectToVerties(0, 0, 0, 0, '50% 50% 0px');\n\n    this.$editor.on('config:bodyEvent', () => {\n      this.refreshMousePosition();\n    })\n  }\n\n  refreshMousePosition() {\n    const areaWidth = this.$editor.config.get('area.width');\n    const pos = this.$editor.viewport.getWorldPosition();\n\n    this.pos = pos; \n\n    const [row, column] = area(pos[0], pos[1], areaWidth);\n\n    this.row = row;    \n    this.column = column;\n  }\n\n  get modelManager() {\n    return this.$editor.modelManager;\n  }\n\n  get items () {\n    return this.modelManager.searchLiveItemsById(this.ids);\n  }\n\n  /**\n   * get first item instance\n   */\n  get current() {\n    return this.modelManager.searchItem(this.ids[0]);\n  }\n\n  /**\n   * \n   * @returns {Project}\n   */\n  get currentProject () {\n\n    if (!this.project) {\n      this.project = this.modelManager.getProjectByIndex();\n    }\n\n    return this.project;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isEmpty () {\n    return !this.length \n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isOne () {\n\n    // artboard 는 무조건 하나의 선택으로 간주한다. \n    if (this.length === 1 && this.current.is('artboard')) return true;  \n\n    return this.length === 1; \n  }\n\n  /**\n   * @returns {boolean}\n   */  \n  get isMany () {\n    return this.length > 1; \n  }  \n\n  get length () {\n    return this.ids.length;\n  }\n\n  get isLayoutItem() {\n    return this.current?.isLayoutItem();\n  }\n\n  get allLayers() {\n    return this.currentProject.allLayers || []\n  }\n\n  /**\n   * area position(column, row) 으로 필터링된 객체 중에 \n   * position 과 일치하는 layer 리스트 구하기 \n   * rendering 레이어에 일치하는 group item 을 구한다. \n   * \n   * hover View 에서 아이템을 hover 아이템을 구할 때 사용된다. \n   * \n   * @returns {Item[]}\n   */ \n  get filteredLayers () {\n    const areaWidth = this.$editor.config.get('area.width');\n    return this.currentProject.filteredAllLayers((item) => {\n\n      if (item.is('project')) return false;\n\n      // 설정된 areaWidth 를 기준으로 areaPosition(column, row) 을 구한다.\n      const areaPosition = item.getAreaPosition(areaWidth);\n\n      if (!areaPosition) {\n        return false;\n      }\n\n      const {column, row} = areaPosition \n\n      return (column[0] <= this.column && this.column <= column[1]) && \n             (row[0] <= this.row && this.row <= row[1]);\n    }).filter(item => {\n      // 사각형 영역에 포함되는지 체크 \n      return item.isPointInRect(this.pos[0], this.pos[1])\n    }).map(item => this.modelManager.findGroupItem(item.id));\n\n  }\n\n  /**\n   * snap to object 에 사용될 target item 리스트 \n   * \n   * @returns {Item[]}\n   */\n  get snapTargetLayers () {\n\n    if (!this.currentProject) return [];\n\n    return this.currentProject.allLayers.filter((item) => {\n      // project item 은 제외 \n      if (item.is('project')) return false; \n\n      // 선택된 것은 제외 \n      if (this.check(item)) return false; \n      \n      // viewport 안에 존재 하는 것만 대상으로 한다. \n      const inViewport = item.verties.some(v => {\n        return this.$editor.viewport.checkInViewport(v)\n      })\n\n      return inViewport;\n\n    })\n  }\n\n  get snapTargetLayersWithSelection () {\n\n    if (!this.currentProject) return [];\n\n    return this.currentProject.allLayers.filter((item) => {\n      // project item 은 제외 \n      if (item.is('project')) return false; \n\n      // viewport 안에 존재 하는 것만 대상으로 한다. \n      const inViewport = item.verties.some(v => {\n        return this.$editor.viewport.checkInViewport(v)\n      })\n\n      return inViewport;\n    });\n  }\n\n  get selectedArtboards () {\n    return [...new Set(this.items.map(it => it.artboard))]\n  }\n\n  /**\n   * \n   * @param {string[]] args\n   */\n  hasChangedField(...args) {\n    if (this.current) {\n      return this.current.hasChangedField(...args);\n    }\n    return false; \n  }\n\n  getRootItem (current) {\n    var rootItem = current;\n    if (current && current.parentId) {\n        rootItem = current.parent; \n    }\n\n    return rootItem;\n  }\n\n  selectColorStep (...args) {\n    this.colorsteps = args; \n  }\n\n  isSelectedColorStep (id) {\n    return this.colorsteps.includes(id);\n  }\n\n  selectProject (project) {\n\n    if (isString(project) ) {\n      project = this.modelManager.get(project);\n    }\n\n    this.project = project;\n    this.select();\n  }\n\n  get isRelative () {\n    var item = this.current || { }\n\n    return item.position === 'relative'\n  }\n\n  isSameIds (newIds) {\n\n    if (this.ids.length != newIds.length) {\n      return false; \n    }\n\n    // 동일한 selection 을 가지고 있으면 더 이상 select 를 진행하지 않는다. \n    if (this.ids.filter(id => newIds.includes(id)).length === this.ids.length) {\n      return true; \n    }\n\n    return false; \n  }\n\n  filterIds(ids = []) {\n    return ids.map(it => it.id || it).filter(Boolean);\n  }\n\n  // 보통 drag 이후에 객체를 선택하는 경우에 유용하다. \n  // group 을 선택할 때 사용한다. \n  selectByGroup(...ids) {\n\n    var list = this.modelManager.searchItemsById(this.filterIds(ids || [])).filter(it => !it.lock)\n\n    // 상위 group 이 있다면 group 을 기준으로 selection 을 맞춘다. \n    const newSelectedItems = this.modelManager.convertGroupItems(list);\n\n    return this.select(...newSelectedItems.map(it => it.id));\n  }  \n\n  // 직접적은 item 을 selection 하기 위해서 사용한다. \n  select(...ids) {\n\n    var list = this.modelManager.searchItemsById(this.filterIds(ids || [])).filter(it => !it.lock && it.isAbsolute)\n\n    const newSelectedItems = list.filter(it => {\n      return it.path.filter(element => list.includes(element)).length < 2;\n    }); \n\n    const newSelectedIds = newSelectedItems.map(it => it.id);\n\n    // 동일한 selection 을 가지고 있으면 더 이상 select 를 진행하지 않는다. \n    if (this.isSameIds(newSelectedIds)) {\n      return false; \n    }\n\n    // this.items = newSelectedItems;\n    this.itemKeys = {}\n    newSelectedItems.forEach(item => {\n      this.itemKeys[item.id] = item;\n    })\n    this.ids = newSelectedIds\n\n    this.setRectCache();\n\n    return true; \n  }\n\n  reload() {\n    return this.select(...this.ids);\n\n  }\n\n  reselect () {\n    this.setRectCache();\n  }\n\n  check (item) {\n    return !!this.itemKeys[item.id]\n  }\n\n  hasPathOf(item) {\n    return this.modelManager.hasPathOf(this.items.filter(it => it.isNot('artboard')), item);\n  }\n\n  hasParent(parentId) {\n    return this.items.some(it => it.hasParent(parentId));\n  }\n\n  get (id) {\n    return this.itemKeys[id];\n  }\n\n  /**\n   * selection 상태를 비운다. \n   */\n  empty () {\n    this.select()\n  }\n\n  /**\n   * id 기반으로 객체를 검색한다. \n   * id 가 없으면 현재 선택된 객체 리스트를 반환한다. \n   * \n   * @param {string[]|null} ids \n   * @returns {Item[]}\n   */\n  itemsByIds(ids = null) {\n\n    let itemIdList = [];\n\n    if (Array.isArray(ids)) {\n      itemIdList = ids; \n    } else if (isString(ids) || isObject(ids)) {\n      itemIdList = [ids];\n    }\n\n    return this.modelManager.searchItemsById(itemIdList);    \n\n  }\n\n  /**\n   * id 로 아이템 선택하기 \n   * \n   * @param {string} id \n   */\n  selectById(id) {\n    this.select(id)\n  }\n\n  selectAfterCopy () {\n    this.select(...this.items.map(it => it.copy()));\n  }\n\n  addById(id) {\n\n    if (this.itemKeys[id]) return;\n\n    this.select(...this.ids, id)\n  }  \n\n  /**\n   * \n   * id 로 선택된 객체 지우기 \n   * \n   * @param {string|string[]} id \n   */\n  removeById(id) {\n\n    let ids = id; \n\n    if (isString(id)) {\n      ids = [id];\n    }\n\n    const filteredItems = this.ids.filter(id => ids.includes(id) === false)\n\n    this.select(...filteredItems)\n  }    \n\n  toggleById (id) {\n    if (this.itemKeys[id]) {\n      this.removeById(id);\n    } else {\n      this.addById(id);\n    }\n  }\n\n  getArtboardByPoint (vec) {\n    return this.currentProject.artboards.find(artboard => {\n      return polyPoint(artboard.originVerties, ...vec) \n    })\n  }\n\n  changeArtBoard () {\n\n    let checkedParentChange = false\n\n    this.each(instance => {\n\n      if (instance.is('artboard') === false) {\n\n        const instanceVerties = instance.originVerties;\n\n        // FIXME: 내가 속한 영역이 객체의 instance 의 artboard 안에 있으면 artboard 를 바꾸지 않는다. \n        if (instance.artboard) {\n          const localArtboard = instance.artboard;\n          const localArtboardVerties = localArtboard.originVerties;\n\n          const isInArtboard = polyPoint(localArtboardVerties, ...instanceVerties[0]) || polyPoly(instanceVerties, localArtboardVerties) \n\n\n          // 내가 여전히 나의 artboard 에 속해 있으면 변경하지 않는다. \n          if (isInArtboard) {\n            return false;\n          }\n        }\n\n  \n        const selectedArtBoard = this.cachedArtBoardVerties.find(artboard => {\n          const artboardVerties = artboard.matrix.originVerties;\n          return polyPoint(artboardVerties, ...instanceVerties[0]) || polyPoly(instanceVerties, artboardVerties) \n        })\n  \n\n        if (selectedArtBoard) {\n          // 부모 artboard 가 다르면  artboard 를 교체한다.            \n          if (selectedArtBoard.item !== instance.artboard) {\n            selectedArtBoard.item.appendChild(instance);\n            checkedParentChange = true;\n          }\n        } else {\n          if (instance.artboard) {\n            this.currentProject.appendChild(instance);       \n            checkedParentChange = true;\n          }\n\n        }\n      }\n    })\n\n    return checkedParentChange;\n  }\n\n  setRectCache () {\n\n    if (this.isEmpty) {\n      this.cachedVerties = [];\n      this.cachedRectVerties = [];\n      this.cachedItemMatrices = []\n      this.cachedArtBoardVerties = this.currentProject.artboards.map(item => {\n        return { item, matrix: item.matrix};\n      })\n  \n      return;\n    }\n\n    this.cachedVerties = this.verties;\n    this.cachedRectVerties = toRectVerties(this.verties);\n\n    this.cachedItemMatrices = []\n    this.cachedChildren = [];\n    \n    this.items.forEach(it => {\n\n      // artboard 가 선택되어 있을 때는 artboard 만 포함 \n      if (it.is('artboard')) {\n        this.cachedItemMatrices.push(it.matrix);\n      } \n      // artboard 가 아닌데 자식을 가지고 있을 때는 자식을 포함 \n      // TODO: layout 을 가지고 있는 경우 어떻게 해야할지 정해야함 \n      else if (it.hasChildren()) {\n        const list = this.modelManager.getAllLayers(it.id).map(it => it.matrix);\n\n        this.cachedChildren.push(...list.map(it => it.id))\n        this.cachedItemMatrices.push(...list);\n      } \n      // 그 외는 아트보드처럼 자신만 포함 \n      else {\n        this.cachedItemMatrices.push(it.matrix);\n      }\n\n    })\n\n    // artboard 항목만 따로 캐슁 \n    this.cachedArtBoardVerties = this.currentProject.artboards.map(item => {\n      return { item, matrix: item.matrix};\n    })\n\n    // 현재 객체 matrix 캐쉬 설정 \n    this.cachedCurrentItemMatrix = this.current.matrix;\n\n    // 현재 객체 자식 matrix 캐쉬 설정 \n    this.cachedCurrentChildrenItemMatrices = this.modelManager.getAllLayers(this.current.id).map(it => it.matrix);\n  }\n\n  get verties () {\n\n    if (this.isOne) {    // 하나 일 때랑 \n      return this.current.verties;\n    } else {\n      return this.rectVerties;\n    }\n  }\n\n  get selectionVerties () {\n\n    if (this.isOne) {    // 하나 일 때랑 \n      return this.current.selectionVerties();\n    } else {\n      return this.rectVerties;\n    }\n  }\n\n\n  get originVerties () {\n    return this.rectVerties.filter((_, index) => index < 4);\n  }\n\n  get rectVerties () {\n    if (this.isEmpty) {\n      return [];\n    }\n    return itemsToRectVerties(this.items)\n  }  \n\n  /**\n   * Item Rect 만들기 \n   * 멀티 selection 일 때만 사용하자 \n   * \n   * @returns {ItemRect} \n   */\n  get itemRect () {\n    const verties = this.verties;\n    return {\n      x: Length.px(verties[0][0]),\n      y: Length.px(verties[0][1]),\n      width: Length.px(vec3.distance(verties[0], verties[1])),\n      height: Length.px(vec3.distance(verties[0], verties[3])),      \n    }\n  } \n\n  // 객체 속성만 클론 \n  // 부모, 자식은 클론하지 않음. \n  // 부모 자식은, 객체가 추가 삭제시만 필요 \n  toCloneObject () {\n    let data = {};\n\n    this.each(item => {\n      data[item.id] = item.toCloneObject(false);\n    })\n\n    return data;     \n  }\n\n  /**\n   * 선택된 객체의 값을 패키징 한다. \n   * \n   * @param {string[]} keys\n   *  @returns {Object}\n  */\n  pack (...keys) {\n    let data = {};\n\n    this.each(item => {\n\n      data[item.id] = {}\n\n      keys.forEach(key => {     \n        data[item.id][key] = item[key];\n      })\n    })\n\n    return data; \n  }\n\n  /**\n   * 특정 영역의 값에 대한 패키징 한다. \n   * \n   * @param {object} valueObject\n   * @returns {Object} \n   */\n  packByValue (valueObject, ids = null) {\n    let data = {};\n    let localItems = []\n    if (ids === null) {\n      localItems = this.items;\n    } else if (isString(ids) || Array.isArray(ids)){\n      localItems = this.itemsByIds(ids);\n    }\n\n    localItems.forEach(item => {\n      data[item.id] = {}\n\n      Object.keys(valueObject).forEach(key => {\n        data[item.id][key] = isFunction(valueObject[key]) ? valueObject[key].call(valueObject, item) : valueObject[key]\n      })\n    })\n\n    return data;\n  }\n\n  each (callback) {\n\n    if ( isFunction(callback)) {\n      this.items.forEach( (item, index) => {\n        callback (item);\n      })\n    }\n\n  }\n\n  map (callback) {\n\n    if (isFunction (callback)) {\n      return this.items.map( (item, index) => {\n        return callback (item, index);\n      })\n    }\n\n    return this.items; \n  }\n\n  reset (obj) {\n\n    Object.entries(obj).forEach(([id, attrs]) => {\n      this.get(id)?.reset(attrs);\n    })\n  }\n\n  resetCallback (callback) {\n    this.each(item => item.reset(callback(item)))\n  }\n\n  resize () {\n    this.each(item => item.resize());\n  }\n\n  remove () {\n    this.each(item => item.remove())\n    this.empty();\n  }\n\n  copy () {\n    this.copyItems = this.items.map(item => item)\n  }  \n\n  paste() {\n    this.select(...this.copyItems.map(item => item.copy(10)));\n    this.copy()\n  }\n  \n  /**\n   * 특정 위치가 selection 영역에 있는지 여부 체크 \n   * \n   * @param {vec3} point \n   * @param {number} y \n   */\n  hasPoint (point) {\n\n    if (this.isMany) {\n      // 멀티 selection 일 때는  사각형 영역에서 체크 \n      return polyPoint(this.originVerties, point[0], point[1]);\n    } else {\n      return this.current?.hasPoint(point[0], point[1]);\n    }\n    \n  }\n\n  /**\n   * 특정 위치가 selection 영역의 자식에게  있는지 여부 체크\n   * @param {vec3} point \n   * @returns {boolean}\n   */\n  hasChildrenPoint (point) {\n    return this.cachedChildren.some(it => {\n      return this.modelManager.get(it)?.hasPoint(point[0], point[1]);\n    });\n  }\n\n  /**\n   * 선택된 영역의 자식인지 체크 한다. \n   * \n   * @param {string} childId \n   * @returns \n   */\n  checkChildren (childId) {\n    return this.cachedChildren.includes(childId);\n  }\n\n  checkHover (itemOrId) {\n    if (isString(itemOrId)) {\n      return this.hoverId === itemOrId; \n    } else {\n      return this.hoverItems.findIndex((it) => it.id === itemOrId.id) > -1; \n    }\n  }\n\n  /**\n   * hover item 이 있는지 체크 \n   * \n   * @returns {boolean}\n   */\n  hasHoverItem() {\n    return this.hoverId !== '';\n  }\n\n  /**\n   * hover 된 item 을 선택한다.\n   * \n   */\n  selectHoverItem() {\n    this.select(this.hoverId);\n  }\n\n  setHoverId (id) {\n    let isChanged = false; \n    if (!id || this.itemKeys[id]) {\n\n      if (this.hoverId != '') {\n        isChanged = true; \n      }\n\n      this.hoverId = ''; \n      this.hoverItems = []      \n    } else if (this.cachedArtBoardVerties.find(it => it.item.id === id)) {\n      if (this.hoverId != '') {\n        isChanged = true; \n      }\n      this.hoverId = ''; \n      this.hoverItems = []\n    } else {\n      if (this.hoverId != id) {\n        isChanged = true; \n      }      \n      this.hoverId = id; \n      this.hoverItems = this.itemsByIds([id]).filter(it => it.isNot('artboard'));\n\n      if (this.hoverItems.length === 0) {\n        this.hoverId = ''; \n        isChanged = true; \n      }\n    }\n\n    if (isChanged) {\n      this.$editor.emit('changeHoverItem');\n    }\n\n    return isChanged;\n  }\n\n  is (...args) {\n    return this.current?.is(...args);\n  }\n\n  isAll (...args) {\n    return this.items.every(it => args.includes(it.itemType));\n  }\n}\n","export default function _doForceRefreshSelection (editor) {\n    editor.emit('noneSelectMenu')\n    editor.nextTick(() => {\n        editor.emit('refreshAll')    \n        editor.emit('refreshSelectionTool');       \n    })    \n\n}","export default {\n    command : 'clipboard.copy',\n    title: 'Copy',\n    description : 'Copy',\n    execute: function (editor, obj) {\n        editor.selection.copy();\n    }\n}","export default {\n    command : 'clipboard.paste',\n\n    execute : async function (editor, event) {\n\n        /** todo : support history */\n        if (editor.selection.length && editor.selection.copyItems.length) {\n            editor.selection.paste();\n            editor.emit('refreshAll')\n        } else {\n            var text = await navigator.clipboard.readText()\n\n            if (text) {\n                editor.emit('convertPasteText', text)\n            }            \n        }\n    }\n}","export default {\n    command: 'fileDropItems',\n    execute: function (editor, items = []) {\n        editor.emit('updateResource', items);\n    }\n\n}","import { uuidShort } from \"el/utils/math\";\n\nexport default {\n    command: 'updateImage',\n    execute: function (editor, imageFileOrBlob, rect, containerItem) {\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            var datauri = e.target.result;\n            var local = URL.createObjectURL(imageFileOrBlob);\n\n\n            editor.emit('addImageAssetItem', {\n                id: uuidShort(),\n                type: imageFileOrBlob.type,\n                name: imageFileOrBlob.name, \n                original: datauri, \n                local\n            }, rect, containerItem)\n        }\n\n        reader.readAsDataURL(imageFileOrBlob);\n    }\n}","import { uuidShort } from \"el/utils/math\";\n\nexport default {\n    command: 'updateVideo',\n    execute: function (editor, item, rect, containerItem = undefined) {\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            var datauri = e.target.result;\n            var local = URL.createObjectURL(item);\n\n            editor.emit('addVideoAssetItem', {\n                id: uuidShort(),\n                type: item.type,\n                name: item.name, \n                original: datauri, \n                local\n            }, rect, containerItem)\n        }\n\n        reader.readAsDataURL(item);\n    }\n}","import { Length } from \"el/editor/unit/Length\";\n\nexport default function loadOriginalImage(obj, callback) {\n    var img = new Image();\n    img.onload = () => {\n\n        var info = {\n            id: obj.id,\n            local: obj.local,\n            naturalWidth: Length.px(img.naturalWidth),\n            naturalHeight: Length.px(img.naturalHeight), \n            width: Length.px(img.naturalWidth),\n            height: Length.px(img.naturalHeight)\n        }\n\n        callback && callback(info, img);\n    }\n    img.onerror = (e) => {\n        console.log(e, e.message);\n    }\n    img.src = obj.local; \n}","import { EDIT_MODE_SELECTION } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport loadOriginalImage from \"el/editor/util/loadOriginalImage\";\n\nexport default {\n    command: 'addImageAssetItem',\n    execute: function (editor, imageObject, rect = {}, containerItem = undefined) {\n        var project = editor.selection.currentProject;\n\n        if (project) {\n\n            // append image asset \n            project.createImage(imageObject);\n            editor.emit('addImageAsset');\n\n            // convert data or blob to local url \n            loadOriginalImage(imageObject, (info) => {\n\n                // width 랑 같은 비율로 맞추기 \n                const rate = rect.width.value/info.width.value;\n                const width = rect.width;\n                const height = Length.px(info.height.value * rate); \n\n                editor.emit('addImage', {\n                    src: imageObject.id, \n                    ...info, \n                    ...rect, \n                    width, \n                    height \n                }, containerItem);\n                editor.changeMode(EDIT_MODE_SELECTION);\n                                \n            });\n\n        }\n    }\n}","import { Length } from \"el/editor/unit/Length\";\n\nexport default function loadOriginalVideo(obj, callback) {\n    var video = document.createElement('video');\n    video.onloadeddata = () => {\n\n        var info = {\n            local: obj.local,\n            naturalWidth: Length.px(video.videoWidth),\n            naturalHeight: Length.px(video.videoHeight), \n            width: Length.px(video.videoWidth),\n            height: Length.px(video.videoHeight),\n            duration: video.duration,\n            playTime: `0:1:${video.duration}`,\n            volume: video.volume,\n            muted: video.muted,\n            placebackRate: video.playbackRate\n        }\n\n        callback && callback(info, video);\n    }\n\n    video.src = obj.local; \n}","import { EDIT_MODE_SELECTION } from \"el/editor/manager/Editor\";\nimport loadOriginalVideo from \"el/editor/util/loadOriginalVideo\";\n\nexport default {\n    command: 'addVideoAssetItem',\n    execute: function (editor, videoObject, rect = {}, containerItem = undefined) {\n        var project = editor.selection.currentProject;\n\n        if (project) {\n\n            // append image asset \n            project.createVideo(videoObject);\n            editor.emit('addVideoAsset');\n\n            // convert data or blob to local url \n            loadOriginalVideo(videoObject, (info) => {\n                editor.emit('addVideo', {src: videoObject.id, ...info, ...rect }, containerItem);\n                editor.changeMode(EDIT_MODE_SELECTION);\n                                \n            });\n\n        }\n    }\n}","import { EDIT_MODE_SELECTION } from \"el/editor/manager/Editor\";\nimport loadOriginalImage from \"el/editor/util/loadOriginalImage\";\n\nexport default {\n    command: 'dropImageUrl',\n    execute: function (editor, imageUrl) {\n        // convert data or blob to local url \n        loadOriginalImage({local: imageUrl}, (info) => {\n\n            editor.emit('addImage', {src: info.local, ...info });\n            editor.changeMode(EDIT_MODE_SELECTION);\n                            \n        });\n    }\n\n} ","import { uuidShort } from \"el/utils/math\";\n\nexport default {\n    command: 'addSVGFilterAssetItem',\n    execute: function (editor, callback) {\n\n        var project = editor.selection.currentProject;\n\n        if (project) {\n            var id = uuidShort()\n            var index = project.createSVGFilter({ id, filters: []})\n    \n            callback && callback (index, id);\n        }\n    }\n}","import { uuidShort } from \"el/utils/math\";\nimport { isFunction } from \"el/sapa/functions/func\";\n\nexport default {\n    command: 'updateImageAssetItem',\n    execute: function (editor, item, callback) {\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            var datauri = e.target.result;\n            var local = URL.createObjectURL(item);\n\n            var project = editor.selection.currentProject;\n\n            if (project) {\n    \n                // append image asset \n                const image = project.createImage({\n                    id: uuidShort(),\n                    type: item.type,\n                    name: item.name, \n                    original: datauri, \n                    local\n                });\n                editor.emit('addImageAsset');\n                isFunction(callback) && callback (image.id);\n            }\n        }\n\n        reader.readAsDataURL(item);\n    }    \n}","import { uuidShort } from \"el/utils/math\";\nimport { isFunction } from \"el/sapa/functions/func\";\n\nexport default {\n    command: 'updateVideoAssetItem',\n    execute: function (editor, item, callback) {\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            var datauri = e.target.result;\n            var local = URL.createObjectURL(item);\n\n            var project = editor.selection.currentProject;\n\n            if (project) {\n    \n                // append image asset \n                project.createVideo({\n                    id: uuidShort(),\n                    type: item.type,\n                    name: item.name, \n                    original: datauri, \n                    local\n                });\n                editor.emit('addVideoAsset');\n                isFunction(callback) && callback (local);\n            }\n        }\n\n        reader.readAsDataURL(item);\n    }    \n}","export default class AssetParser {\n    static parse(datauri, enableParselocal = false) {\n        var [_, data] = datauri.split('data:')\n        var [mediaType, ...content] = data.split(',')\n        var [mimeType, encoding] = mediaType.split(';')\n\n        content = content.join(',');\n\n        return {  \n            mimeType, \n            local: enableParselocal && AssetParser.getLink(mimeType, encoding, content)\n        }\n    }\n\n    static getLink (mimeType, encoding, content) {\n        if (encoding === 'base64') {\n            var binary = atob(content);\n            var len = binary.length;\n            var unit8Array = new Uint8Array(len);\n    \n            for(var i = 0; i < len; i++) {\n                unit8Array[i] = binary.charCodeAt(i);\n            }\n    \n            var blob = new Blob([unit8Array], {type: mimeType})\n\n            return URL.createObjectURL(blob);\n        }\n\n        return '' \n    }\n}","import AssetParser from \"el/editor/parser/AssetParser\";\nimport { uuidShort } from \"el/utils/math\";\n\nexport default {\n    command: 'updateUriList',\n    execute: function (editor, item) {\n        var datauri = item.data; \n        if (datauri.indexOf('data:') > -1) {\n            var info = AssetParser.parse(datauri, true);\n\n            // datauri 그대로 정의 될 때 \n            switch(info.mimeType) {\n            case 'image/png':  \n            case 'image/gif': \n            case 'image/jpg': \n            case 'image/jpeg': \n                editor.emit('addImageAssetItem', {\n                    id: uuidShort(),\n                    type: info.mimeType,\n                    name: '',\n                    original: datauri, \n                    local: info.local\n                });            \n                break; \n            }\n        } else {\n\n            // url 로 정의 될 때 \n            var ext = item.data.split('.').pop();\n            var name = item.data.split('/').pop();\n\n            switch(ext) {\n            case 'png':\n            case 'jpg':\n            case 'gif':\n            case 'svg':\n\n                editor.emit('addImageAssetItem', {\n                    id: uuidShort(),\n                    type: 'image/' + ext,\n                    name,\n                    original: item.data, \n                    local: item.data\n                })\n                break; \n            }\n        }\n\n    }\n}","export default function downloadFile (datauri, filename = 'easylogic.json') {\n    var a = document.createElement('a');\n    a.href = datauri; \n    a.download = filename \n    a.click();\n}","import downloadFile from \"el/editor/util/downloadFile\";\n\nexport default {\n    command: 'downloadJSON',\n    execute: function (editor, filename) {\n        var json = JSON.stringify(editor.modelManager.toJSON())\n\n        var datauri = 'data:application/json;base64,' + window.btoa(unescape(encodeURIComponent(json)));\n\n        downloadFile(datauri, filename || 'easylogic.json')\n    }\n\n}","import { CSS_TO_STRING } from \"el/utils/func\";\n\nexport default {\n \n  makeProjectStyle (item) {\n\n    const keyframeString = item.toKeyframeString();\n    const rootVariable = item.toRootVariableCSS()\n    \n    return `\n      :root {\n        ${CSS_TO_STRING(rootVariable)}\n      }\n      /* keyframe */\n      ${keyframeString}\n    `\n  },\n\n  makeStyle (item,appendCSS = '') {\n\n    if (item.is('project')) {\n      return this.makeProjectStyle(item);\n    }\n\n    const cssString = item.generateView(`[data-id='${item.id}']`, appendCSS)\n    return `\n    ${cssString}\n    ` + item.layers.map(it => {\n      return this.makeStyle(it);\n    }).join('')\n  },\n\n  makeSvg (project) {\n    const SVGString = project.toSVGString ? project.toSVGString() : ''\n    return `\n      ${SVGString ? `<svg width=\"0\" height=\"0\">${SVGString}</svg>` : ''}\n    `\n  },\n\n  generateSVG (editor, rootItem) {\n    return editor.replaceLocalUrltoRealUrl(editor.svg.render(rootItem));\n  }\n\n}","\nimport ExportManager from \"el/editor/manager/ExportManager\";\nimport downloadFile from \"el/editor/util/downloadFile\";\n\nexport default {\n    command: 'downloadSVG',\n    execute: function (editor) {\n        const item = editor.selection.current;\n\n        if (item) {\n            var svgString = ExportManager.generateSVG(editor, item).trim();\n            var datauri = 'data:image/svg+xml;base64,' + window.btoa(svgString);\n            var filename = item.id;\n    \n            downloadFile(datauri, filename)\n        }\n\n    }\n\n}","import Dom from \"el/sapa/functions/Dom\";\n\nexport default function createImagePng (img, callback, imageType = 'image/png') {\n    var canvas = Dom.create('canvas');\n    var {width, height} = img; \n    canvas.resize({ width, height });\n    canvas.drawImage(img)\n\n    callback && callback (canvas.toDataURL(imageType))\n}\n","\nimport loadOriginalImage from \"el/editor/util/loadOriginalImage\";\nimport createImagePng from \"el/editor/util/createImagePng\";\nimport downloadFile from \"el/editor/util/downloadFile\";\nimport ExportManager from \"el/editor/manager/ExportManager\";\n\nexport default {\n    command: 'downloadPNG',\n    execute: function (editor, callbackCommand = '') {\n        const item = editor.selection.current;\n\n        if (item) {\n            const svgString = ExportManager.generateSVG(editor, item).trim();\n            const datauri = 'data:image/svg+xml;base64,' + window.btoa(svgString);\n            const filename = item.id;\n            loadOriginalImage({local: datauri}, (info, img) => {\n                createImagePng(img, (pngDataUri) => {\n                    downloadFile(pngDataUri, filename)\n\n                    if (callbackCommand) {\n                        editor.emit(callbackCommand, pngDataUri);\n                    }\n                })\n            })\n        }\n\n    }\n\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command: 'load.json', \n\n    /**\n     * \n     * @param {Editor} editor \n     * @param {*} json \n     */\n    execute: function (editor, json) {\n\n        editor.modelManager.load(json);\n\n        // editor.load(projects);\n        _doForceRefreshSelection(editor)\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\n\n/**\n * \n * @param {Editor} editor \n * @param {*} callback \n */\nexport default function _currentProject (editor, callback) {\n    var project = editor.selection.currentProject;\n\n    if (project) {\n        var timeline = project.getSelectedTimeline();\n\n        callback && callback (project, timeline)\n    }\n\n}","import _currentProject from \"./_currentProject\"\n\nexport default {\n    command: 'addTimelineProperty',\n    execute:  function (editor, layerList, options = {timing: 'linear'}) {\n        _currentProject(editor, (project, timeline) => {\n\n            if (Array.isArray(layerList) === false) {\n                layerList = [layerList]\n            }\n    \n            var list = []  \n            layerList.forEach(layerId => {\n                var keyframeObj = { \n                    layerId: layerId, \n                    property: options.property, \n                    value: options.value + \"\", \n                    timing: options.timing,\n                    editor: options.editor\n                }\n                var obj = project.addTimelineKeyframe(keyframeObj);\n\n                if (obj) {\n                    list.push(obj);\n                }\n            })\n\n            editor.timeline.select(...list);\n\n            editor.emit('refreshTimeline');\n            editor.emit('refreshSelectedOffset');\n        }) \n        \n    }\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'setTimelineOffset',\n    debounce: 100,\n    execute: function (editor, obj) {\n        _currentProject(editor, (project, timeline) => {\n            project.setTimelineKeyframeOffsetValue(obj.layerId, obj.property, obj.id, obj.value, obj.timing, obj.time);\n            editor.emit('refreshTimeline');\n        })\n    }\n}","import _currentProject from \"./_currentProject\"\n\nexport default {\n    command: 'addTimelineCurrentProperty',\n    execute: function (editor, options = {timing: 'linear'}) {\n\n        _currentProject(editor, (project, timeline) => {\n            var list = []\n            editor.selection.each(item => {\n\n                var keyframeObj = {\n                    layerId: item.id,\n                    property: options.property, \n                    value: item[options.property] + \"\", \n                    timing: options.timing,\n                    editor: options.editor\n                }\n\n                var obj = project.addTimelineKeyframe(keyframeObj);\n\n                if (obj) {\n                    list.push(obj);\n                }\n            })\n\n            editor.timeline.select(...list);\n            editor.emit('refreshTimeline');\n            editor.emit('refreshSelectedOffset');\n        })        \n    }\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'removeTimelineProperty',\n    execute: function (editor, layerId, property) {\n        _currentProject(editor, (project, timeline) => {\n            project.removeTimelineProperty(layerId, property);\n\n            editor.timeline.empty();\n            editor.emit('refreshTimeline')\n            editor.emit('refreshSelectedOffset');            \n        })\n    }\n\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'deleteTimelineKeyframe',\n    execute: function (editor) {\n        _currentProject(editor, (project, timeline) => {\n            editor.timeline.each(item => {\n                project.deleteTimelineKeyframe(item.layerId, item.property, item.id);\n            })\n\n            editor.timeline.empty();\n            editor.emit('refreshTimeline')\n            editor.emit('refreshSelectedOffset');\n        })\n    }\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'selectTimelineItem',\n    execute: function (editor, selectedId) {\n        _currentProject(editor, (project, timeline) => {\n            project.selectTimeline(selectedId);                \n            editor.emit('refreshTimeline');\n            editor.emit('selectTimeline');            \n        })\n    }\n\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'removeTimeline',\n    execute: function (editor, layerId) {\n        _currentProject(editor, (project, timeline) => {\n            project.removeTimeline(layerId);\n\n            editor.timeline.empty();\n            editor.emit('refreshTimeline')\n            editor.emit('refreshSelectedOffset');\n        })\n    }\n\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'removeAnimationItem',\n    execute: function (editor, id) {\n        _currentProject(editor, (project, timeline) => {\n            project.removeAnimation(id);\n\n            editor.timeline.empty();\n            editor.emit('refreshTimeline')\n            editor.emit('removeAnimation');\n        })\n    }\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'addTimelineKeyframe',\n    execute: function (editor, options = {timing : 'linear'}) {\n        _currentProject(editor, (project, timeline) => {\n            var item = editor.modelManager.get(options.layerId);\n\n            var keyframeObj = {\n                layerId: options.layerId,\n                property: options.property,\n                time: options.time,\n                value: item[options.property] + \"\",\n                timing: options.timing,\n                editor: options.editor\n            }\n            var obj = project.addTimelineKeyframe(keyframeObj);\n            editor.timeline.select(obj);            \n            editor.emit('refreshTimeline');\n            editor.emit('refreshSelectedOffset');\n        })        \n    }\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'copyTimelineProperty',\n    execute: function (editor, layerId, property, newTime = null) {\n\n        _currentProject(editor, (project, timeline) => {\n            project.copyTimelineKeyframe(layerId, property, newTime);\n            \n            editor.emit('refreshTimeline');\n        })\n    }        \n\n}","import _currentProject from \"./_currentProject\";\nimport { makeTimer, timecode } from \"el/utils/time\";\n\n\nexport default {\n    command: 'playTimelineItem',\n    description: 'Play button action',\n    execute: function (editor, speed = 1, iterationCount = 1, direction = 'normal') {\n\n        editor.selection.empty()\n        editor.emit('refreshSelection');\n        editor.changeMode('play');\n        editor.emit('afterChangeMode')\n\n        _currentProject(editor, (project, timeline) => {\n          \n            var lastTime = project.getSelectedTimelineLastTime();\n\n            if (editor.timer) {\n                editor.timer.stop()\n            } else {\n                editor.timer = makeTimer({\n                    elapsed: timeline.currentTime * 1000,\n                    speed,\n                    duration: lastTime * 1000,\n                    iterationCount, \n                    direction\n                })\n            }\n\n            editor.timer.play({\n                duration: lastTime * 1000,\n                elapsed: timeline.currentTime * 1000,\n                speed,\n                iterationCount,\n                direction,\n                tick: (elapsed, timer) => {\n                    // console.log('tick', timecode(timeline.fps, elapsed / 1000), elapsed, elapsed/1000);\n                    project.seek(timecode(timeline.fps, elapsed / 1000))\n                    editor.emit('playTimeline');\n                },\n                last: (elapsed, timer) => {                 \n                    // console.log('last', timecode(timeline.fps, elapsed / 1000), elapsed, elapsed/1000);\n                    project.seek(timecode(timeline.fps, elapsed / 1000))\n                    editor.emit('playTimeline');\n                    editor.nextTick(() => {\n                        editor.emit('stopTimeline');\n                        // project.setTimelineCurrentTime(0);\n                        editor.changeMode('SELECTION');\n                        editor.emit('afterChangeMode')                        \n                    })\n\n                },\n                stop: (elapsed, timer) => {\n                    // console.log('stop', timecode(timeline.fps, elapsed / 1000), elapsed, elapsed/1000);                    \n                    project.stop(timecode(timeline.fps, elapsed / 1000)) \n                    editor.emit('stopTimeline');\n                    // project.setTimelineCurrentTime(0);\n                    editor.changeMode('SELECTION');\n                    editor.emit('afterChangeMode')\n                }\n            })      \n        })\n        \n    }\n}","import _currentProject from \"./_currentProject\";\nimport { timecode } from \"el/utils/time\";\n\nexport default {\n    command: 'prevTimelineItem',\n    execute: function (editor) {\n\n        _currentProject(editor, (project, timeline) => {\n            var prevTime = project.getSelectedTimelinePrevTime();\n\n            project.setTimelineCurrentTime(timecode(timeline.fps, prevTime));\n            project.seek();\n\n            editor.emit('playTimeline');\n            editor.changeMode('SELECTION');\n            editor.emit('afterChangeMode')\n        })\n    }    \n\n}","import _currentProject from \"./_currentProject\";\nimport { timecode } from \"el/utils/time\";\n\nexport default {\n    command: 'firstTimelineItem',\n    execute: function (editor) {\n\n        _currentProject(editor, (project, timeline) => {\n            var firstTime = project.getSelectedTimelineFirstTime();\n\n            project.setTimelineCurrentTime(timecode(timeline.fps, firstTime));\n            project.seek();\n            editor.emit('playTimeline');\n            editor.changeMode('SELECTION');\n            editor.emit('afterChangeMode')\n        })\n    }    \n}","import _currentProject from \"./_currentProject\";\nimport { timecode } from \"el/utils/time\";\n\nexport default {\n    command: 'nextTimelineItem',\n    execute: function (editor) {\n\n        _currentProject(editor, (project, timeline) => {\n            var nextTime = project.getSelectedTimelineNextTime();\n\n            project.setTimelineCurrentTime(timecode(timeline.fps, nextTime));\n            project.seek();\n            editor.emit('playTimeline');\n            editor.changeMode('SELECTION');\n            editor.emit('afterChangeMode')\n        })\n    }\n}","import _currentProject from \"./_currentProject\";\nimport { timecode } from \"el/utils/time\";\n\nexport default {\n    command: 'lastTimelineItem',\n    execute: function (editor) {\n\n        _currentProject(editor, (project, timeline) => {\n            var lastTime = project.getSelectedTimelineLastTime();\n\n            project.setTimelineCurrentTime(timecode(timeline.fps, lastTime));\n            project.seek();\n            editor.emit('playTimeline');\n            editor.changeMode('SELECTION');\n            editor.emit('afterChangeMode')\n        })\n    }\n\n}","import _currentProject from \"./_currentProject\";\n\nexport default {\n    command: 'addTimelineItem',\n    execute: function (editor, layerId) {\n        _currentProject(editor, (project, timeline) => {\n            if (layerId) {\n                project.addTimelineLayer(layerId);\n            } else {\n                project.addTimeline();                \n            }\n            editor.emit('refreshTimeline');\n            editor.emit('addTimeline');\n        })\n    }\n\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\"\n\nexport default {\n    command: 'drop.asset',\n    execute: async function (editor, obj, id = null) {\n\n        if (obj.color) {\n            editor.emit('addBackgroundColor', obj.color, id)            \n        } else if (obj.gradient) {\n            editor.emit('addBackgroundImageGradient', obj.gradient, id)\n        } else if (obj.pattern) {\n            editor.emit('addBackgroundImagePattern', obj.pattern, id)            \n        } else if (obj.imageUrl) {\n            editor.emit('addBackgroundImageAsset', obj.imageUrl, id)\n        } else if (obj.asset) {\n\n            const assetData = await editor.storageManager.getCustomAsset(obj.asset.id);\n            if (assetData) {\n                editor.emit('addArtBoard', assetData, obj.asset.center)\n            }\n        }\n\n        _doForceRefreshSelection(editor, true);\n    }\n}","import { BackgroundImage } from \"el/editor/property-parser/BackgroundImage\";\nimport { STRING_TO_CSS } from \"el/utils/func\";\nimport _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command: 'addBackgroundImageGradient',\n    execute: function (editor, gradient, id = null) {\n        var items = editor.selection.itemsByIds(id);\n\n        let itemsMap = {} \n        items.forEach(item => {\n            let images = BackgroundImage.parseStyle(STRING_TO_CSS(item['background-image']));\n\n            images.unshift(new BackgroundImage({\n                image: BackgroundImage.parseImage(gradient)\n            }))\n\n            itemsMap[item.id] = {\n                'background-image': BackgroundImage.join(images)\n            }\n        })\n\n        editor.emit('history.setAttributeForMulti', 'add gradient', itemsMap);              \n    }\n}","import { BackgroundImage } from \"el/editor/property-parser/BackgroundImage\";\nimport { STRING_TO_CSS, CSS_TO_STRING } from \"el/utils/func\";\nimport { URLImageResource } from \"el/editor/property-parser/image-resource/URLImageResource\";\n\nexport default {\n    command: 'addBackgroundImageAsset',\n    execute: function (editor, url, id = null) {\n        \n        var items = editor.selection.itemsByIds(id);\n        let itemsMap = {} \n        items.forEach(item => {\n            let images = BackgroundImage.parseStyle(STRING_TO_CSS(item['background-image']));\n\n            images.unshift(new BackgroundImage({\n                image: new URLImageResource({ url })\n            }))\n\n            itemsMap[item.id] = {\n                'background-image': BackgroundImage.join(images)\n            }\n        })\n\n        editor.emit('history.setAttributeForMulti', 'add background image', itemsMap);        \n\n    }\n}","export default {\n    command : 'removeLayer',\n    execute: function (editor, ids = undefined) {\n\n        // console.log(removeLayer);\n        editor.selection.itemsByIds(ids || editor.selection.ids).forEach(item => {\n            item.remove();\n        })\n\n        editor.selection.empty();\n\n        editor.nextTick(() => {\n            editor.emit('refreshAll')\n        })\n\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\"\n\nexport default {\n    command: 'push.mode.view',\n    execute: function (editor, modeView = 'CanvasView') {\n        editor.modeViewManager.pushMode(modeView);\n    }\n}","export default {\n    command : 'segment.move.down',\n    execute: function (editor, obj = {dy: 1}) {\n        const dy = +obj.dy;\n\n        editor.emit('moveSegment', 0, dy);\n    }\n}","export default {\n    command : 'segment.move.up',\n    execute: function (editor, obj = {dy: 1}) {\n        const dy = +obj.dy;\n\n        editor.emit('moveSegment', 0, -1 * dy);\n    }\n}","export default {\n    command : 'segment.move.right',\n    execute: function (editor, obj = {dx: 1}) {\n        const dx = +obj.dx;\n\n        editor.emit('moveSegment', dx, 0);\n    }\n}","export default {\n    command : 'segment.move.left',\n    execute: function (editor, obj = {dx: 1}) {\n        const dx = +obj.dx;\n\n        editor.emit('moveSegment', -1 * dx, 0);\n    }\n}","const MAX_CACHE_COUNT = 1000;\nconst cachedPatternMap = new Map();\n\n\nexport class PatternCache {\n\n    static has (key) {\n        return cachedPatternMap.has(key);\n    }\n\n    static get (key) {\n        return cachedPatternMap.get(key);\n    }\n\n    static set (key, parsedValue) {\n\n        if (cachedPatternMap.size > MAX_CACHE_COUNT) {\n            cachedPatternMap.clear();\n        }\n\n        cachedPatternMap.set(key, parsedValue);\n    }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { BackgroundImage } from \"./BackgroundImage\";\nimport { STRING_TO_CSS } from \"el/utils/func\";\nimport { PatternCache } from \"./PatternCache\";\nconst PATTERN_REG = /((check|grid|dot|cross\\-dot|diagonal\\-line|vertical\\-line|horizontal\\-line|)\\(([^\\)]*)\\))/gi;\n\nexport class Pattern extends PropertyItem {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({ \n      itemType: \"pattern\", \n      ...obj \n    });\n  }\n\n  toString() {\n    return `${this.json.type}(${this.json.value || \"\"})`;\n  }\n\n  static parse (obj) {\n    var PatternClass = PatternClassName[obj.type];\n\n    if (PatternClass) {\n      return new PatternClass(obj);\n    }\n  }  \n\n  static parseStyle (pattern) {\n\n    var patterns = [];\n\n    if (!pattern) return patterns;\n\n    if (PatternCache.has(pattern)) {\n      return PatternCache.get(pattern);\n    }\n\n\n    var results = convertMatches(pattern);\n\n    var matches = (results.str.match(PATTERN_REG) || []);\n    matches.forEach((value, index) => {\n      var [patternName, patternValue] = value.split(\"(\");\n      patternValue = patternValue.split(\")\")[0];\n\n        var [size, position, foreColor, backColor, blendMode, lineSize] = patternValue.split(\",\").map(it => it.trim());\n\n        var [width, height] = size.split(' ');\n        var [x, y] = position.split(' ');\n        var [lineWidth, lineHeight] = (lineSize || '').split(' ')\n\n        patterns[index] = Pattern.parse({\n          type: patternName,\n          x: Length.parse(x),\n          y: Length.parse(y),\n          width: Length.parse(width),\n          height: Length.parse(height),          \n          foreColor: reverseMatches(foreColor, results.matches),\n          backColor: reverseMatches(backColor, results.matches),\n          blendMode: blendMode || 'normal',\n          lineWidth: Length.parse(lineWidth || '1px'),\n          lineHeight: Length.parse(lineHeight || '1px'),\n        });\n    });\n\n    PatternCache.set(pattern, patterns);\n\n    \n    return patterns;\n  }\n\n  static join (list) {\n    return list.map(it => Pattern.parse(it)).join(' ');\n  }\n\n  static toCSS(str) {\n    let list = [];\n    Pattern.parseStyle(str).forEach(it => {\n     list.push.apply(list, BackgroundImage.parseStyle(STRING_TO_CSS(it.toCSS())))\n    });\n\n    return BackgroundImage.joinCSS(list);\n  }\n}\n\nexport class BasePattern extends Pattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"base\",\n      x: Length.z(),\n      y: Length.z(),\n      width: Length.px(20),\n      height: Length.px(20),\n      lineWidth: Length.px(1),\n      lineHeight: Length.px(1),       \n      foreColor: 'black',\n      backColor: 'white',\n      blendMode: 'normal'\n    });\n  }\n\n  convert(json) {\n    json = super.convert(json);\n\n    json.width = Length.parse(json.width);\n    json.height = Length.parse(json.height);\n    json.lineWidth = Length.parse(json.lineWidth);\n    json.lineHeight = Length.parse(json.lineHeight);    \n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n\n    return json; \n  }\n\n  toString() {\n    var {\n      type, width, height, x, y, foreColor, backColor, blendMode, lineWidth, lineHeight\n    } = this.json;\n    return `${type}(${width} ${height}, ${x} ${y}, ${foreColor}, ${backColor}, ${blendMode}, ${lineWidth} ${lineHeight})`;\n  }\n}\n\nexport class CheckPattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'check'\n    })\n  }\n\n  toCSS() {\n    let { width, height, x, y, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n      background-image: repeating-linear-gradient(45deg, ${foreColor} 25%, ${backColor} 25%, ${backColor} 75%, ${foreColor} 75%, ${foreColor} 100%),repeating-linear-gradient(45deg, ${foreColor} 25%, ${backColor} 25%, ${backColor} 75%, ${foreColor} 75%, ${foreColor} 100%);\n      background-position: 0px 0px, ${x} ${y};\n      background-size: ${width} ${height}, ${width} ${height};\n      background-blend-mode: ${blendMode}, ${blendMode};\n    `\n  }\n}\n\nexport class GridPattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'grid',\n    })\n  }\n\n  toCSS() {\n    let { width, height, lineWidth, lineHeight, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n      background-image: linear-gradient(${foreColor} ${lineHeight}, ${backColor} ${lineHeight}),linear-gradient(to right, ${foreColor} ${lineWidth}, ${backColor} ${lineWidth});\n      background-size: ${width.value/2}px ${height.value/2}px, ${width.value/2}px ${height.value/2}px;      \n      background-blend-mode: ${blendMode}, ${blendMode};      \n    `\n  }  \n\n\n}\n\nexport class DotPattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'dot'\n    })\n  }\n\n  toCSS() {\n    let { width, height, lineWidth, lineHeight, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n      background-image: radial-gradient(${foreColor} ${lineWidth}, ${backColor} ${lineWidth});\n      background-size: ${width.value/2}px ${height.value/2}px;          \n      background-blend-mode: ${blendMode};      \n    `\n\n\n  }    \n}\n\nexport class CrossDotPattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'cross-dot'\n    })\n  }\n\n\n  toCSS() {\n    let { width, height, x, y, lineWidth, lineHeight, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n      background-image: radial-gradient(${foreColor} ${lineWidth}, ${backColor} ${lineWidth}),radial-gradient(${foreColor} ${lineWidth}, ${backColor} ${lineWidth});\n      background-size: ${width} ${height},${width} ${height};\n      background-position: 0px 0px, ${x} ${y};      \n      background-blend-mode: multiply, ${blendMode};\n    `\n\n\n  }      \n}\n\nexport class DiagonalLinePattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'diagonal-line'\n    })\n  }\n\n  toCSS() {\n    let { width, height, x, lineWidth, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n    background-image: repeating-linear-gradient(${x}, ${foreColor} 0px, ${foreColor} ${lineWidth}, ${backColor} 0px, ${backColor} 50%);\n    background-size: ${width} ${height};      \n    background-blend-mode: ${blendMode};\n  `\n\n  }       \n}\n\nexport class VerticalLinePattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'vertical-line'\n    })\n  }\n\n  toCSS() {\n    let { width, height, x, y, lineWidth, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n      background-image: repeating-linear-gradient(to right, ${foreColor} 0px, ${foreColor} ${lineWidth}, ${backColor} ${lineWidth}, ${backColor} 100%);\n      background-size: ${width} ${height}; \n      background-position: ${x} ${y};        \n      background-blend-mode: ${blendMode};\n    `\n\n  }         \n}\n\n\nexport class HorizontalLinePattern extends BasePattern {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'horizontal-line'\n    })\n  }\n\n  toCSS() {\n    let { width, height, x, y, lineWidth, backColor, foreColor, blendMode } = this.json; \n\n    backColor = backColor || 'transparent'\n    foreColor = foreColor || 'black'\n\n    return `\n      background-image: repeating-linear-gradient(0deg, ${foreColor} 0px, ${foreColor} ${lineWidth}, ${backColor} ${lineWidth}, ${backColor} 100%);    \n      background-position: ${x} ${y};\n      background-size: ${width} ${height};   \n      background-blend-mode: ${blendMode};\n    `\n\n  }           \n}\n\n\n\nexport const PatternClassList = [\n  CheckPattern,\n  GridPattern,\n  DotPattern,\n  CrossDotPattern,\n  DiagonalLinePattern,\n  VerticalLinePattern,\n  HorizontalLinePattern\n];\n\nexport const PatternClassName = {\n  check: CheckPattern,\n  grid: GridPattern,\n  dot: DotPattern,\n  'cross-dot': CrossDotPattern,\n  'diagonal-line': DiagonalLinePattern,\n  'vertical-line': VerticalLinePattern,\n  'horizontal-line': HorizontalLinePattern\n};\n\nexport const PatternClass = {\n  CheckPattern,\n  GridPattern,\n  DotPattern,\n  CrossDotPattern,\n  DiagonalLinePattern,\n  VerticalLinePattern,\n  HorizontalLinePattern\n};\n","import { Pattern } from \"el/editor/property-parser/Pattern\";\n\nexport default {\n    command: 'addBackgroundImagePattern',\n    execute: function (editor, pattern, id = null) {\n\n        var items = editor.selection.itemsByIds(id);\n        let itemsMap = {} \n        items.forEach(item => {\n\n            itemsMap[item.id] = {\n                pattern: Pattern.join([\n                    ...Pattern.parseStyle(pattern), \n                    ...Pattern.parseStyle(item.pattern)\n                ])\n            }\n        })\n\n        editor.emit('history.setAttributeForMulti', 'add pattern', itemsMap);     \n\n    }\n}","export default {\n    command: 'addBackgroundColor',\n    execute: function (editor, color, id = null) {\n        editor.command('setAttributeForMulti', 'add background color', editor.selection.packByValue({\n            'background-color': color\n        }, id));\n    }\n}","import { getVertiesCenterX } from \"el/utils/math\";\n\nexport default {\n    command : 'sort.center',\n    execute: function (editor) {\n       \n        if (editor.selection.isOne) {\n\n            const current = editor.selection.current; \n\n            if (current.parent.is('project')) {\n                // 상위 객체가 project 이면 움직이지 않는다. \n            } else if (current.artboard) {\n                // 선택된 객체가 하나이고 artboard 가 존재하면 artboard 를 기준으로 잡는다. \n                const distX = getVertiesCenterX(current.artboard.verties) - getVertiesCenterX(editor.selection.verties);\n                editor.emit('moveLayer', distX, 0);\n            }\n\n        } else if (editor.selection.isMany) {\n            let maxRightX = getVertiesCenterX(editor.selection.verties);\n\n            editor.emit('moveLayerForItems', editor.selection.map(item => {\n                let itemRightX = getVertiesCenterX(item.verties);\n\n                return { item, dist: [maxRightX - itemRightX, 0, 0]}\n\n            }));            \n\n        }\n    }\n}","import { getVertiesMinX } from \"el/utils/math\";\n\nexport default {\n    command : 'sort.left',\n    execute: function (editor) {\n\n        if (editor.selection.isOne) {\n\n            const current = editor.selection.current; \n\n            if (current.parent.is('project')) {\n                // 상위 객체가 project 이면 움직이지 않는다. \n            } else if (current.artboard) {\n                // 선택된 객체가 하나이고 artboard 가 존재하면 artboard 를 기준으로 잡는다. \n                const distX = getVertiesMinX(current.artboard.verties) - getVertiesMinX(editor.selection.verties);\n                editor.emit('moveLayer', distX, 0);\n            }\n\n        } else if (editor.selection.isMany) {\n            let maxRightX = getVertiesMinX(editor.selection.verties);\n\n            editor.emit('moveLayerForItems', editor.selection.map(item => {\n                let itemRightX = getVertiesMinX(item.verties);\n\n                return { item, dist: [maxRightX - itemRightX, 0, 0]}\n\n            }));            \n\n        }\n    }\n}","import { getVertiesCenterY } from \"el/utils/math\";\n\nexport default {\n    command : 'sort.middle',\n    execute: function (editor) {\n\n        if (editor.selection.isOne) {\n\n            const current = editor.selection.current; \n\n            if (current.parent.is('project')) {\n                // 상위 객체가 project 이면 움직이지 않는다. \n            } else if (current.artboard) {\n                // 선택된 객체가 하나이고 artboard 가 존재하면 artboard 를 기준으로 잡는다. \n                const distY = getVertiesCenterY(current.artboard.verties) - getVertiesCenterY(editor.selection.verties);\n                editor.emit('moveLayer', 0, distY);\n            }\n\n        } else if (editor.selection.isMany) {\n            let maxRightY = getVertiesCenterY(editor.selection.verties);\n\n            editor.emit('moveLayerForItems', editor.selection.map(item => {\n                let itemRightY = getVertiesCenterY(item.verties);\n\n                return { item, dist: [0, maxRightY - itemRightY, 0, 0]}\n\n            }));            \n\n        }\n    }\n}","import { getVertiesMaxY } from \"el/utils/math\";\n\nexport default {\n    command : 'sort.bottom',\n    execute: function (editor) {\n        \n        if (editor.selection.isOne) {\n\n            const current = editor.selection.current; \n\n            if (current.parent.is('project')) {\n                // 상위 객체가 project 이면 움직이지 않는다. \n            } else if (current.artboard) {\n                // 선택된 객체가 하나이고 artboard 가 존재하면 artboard 를 기준으로 잡는다. \n                const distY = getVertiesMaxY(current.artboard.verties) - getVertiesMaxY(editor.selection.verties);\n                editor.emit('moveLayer', 0, distY);\n            }\n\n        } else if (editor.selection.isMany) {\n            let maxRightY = getVertiesMaxY(editor.selection.verties);\n\n            editor.emit('moveLayerForItems', editor.selection.map(item => {\n                let itemRightY = getVertiesMaxY(item.verties);\n\n                return { item, dist: [0, maxRightY - itemRightY, 0, 0]}\n\n            }));            \n\n        }\n    }\n}","import { getVertiesMinY } from \"el/utils/math\";\n\nexport default {\n    command : 'sort.top',\n    execute: function (editor) {\n\n        if (editor.selection.isOne) {\n\n            const current = editor.selection.current; \n\n            if (current.parent.is('project')) {\n                // 상위 객체가 project 이면 움직이지 않는다. \n            } else if (current.artboard) {\n                // 선택된 객체가 하나이고 artboard 가 존재하면 artboard 를 기준으로 잡는다. \n                const distY = getVertiesMinY(current.artboard.verties) - getVertiesMinY(editor.selection.verties);\n                editor.emit('moveLayer', 0, distY);\n            }\n\n        } else if (editor.selection.isMany) {\n            let maxRightY = getVertiesMinY(editor.selection.verties);\n\n            editor.emit('moveLayerForItems', editor.selection.map(item => {\n                let itemRightY = getVertiesMinY(item.verties);\n\n                return { item, dist: [0, maxRightY - itemRightY, 0, 0]}\n\n            }));            \n\n        }\n    }\n}","import { getVertiesMaxX } from \"el/utils/math\";\n\nexport default {\n    command : 'sort.right',\n\n    /**\n     * \n     * @param {Editor} editor \n     */\n    execute: function (editor) {\n\n        if (editor.selection.isOne) {\n\n            const current = editor.selection.current; \n\n            if (current.parent.is('project')) {\n                // 상위 객체가 project 이면 움직이지 않는다. \n            } else if (current.artboard) {\n                // 선택된 객체가 하나이고 artboard 가 존재하면 artboard 를 기준으로 잡는다. \n                const distX = getVertiesMaxX(current.artboard.verties) - getVertiesMaxX(editor.selection.verties);\n                editor.emit('moveLayer', distX, 0);\n            }\n\n        } else if (editor.selection.isMany) {\n            let maxRightX = getVertiesMaxX(editor.selection.verties);\n\n            editor.emit('moveLayerForItems', editor.selection.map(item => {\n                let itemRightX = getVertiesMaxX(item.verties);\n\n                return { item, dist: [maxRightX - itemRightX, 0, 0]}\n\n            }));            \n\n        }\n    }\n}","import { vertiesToRectangle } from \"el/utils/collision\";\n\nexport default {\n    command : 'same.width',\n    description: 'fit at the same width',\n    execute: function (editor) {\n\n        // console.log(editor.selection.isMany);\n\n        if (editor.selection.isMany) {\n            const rect = vertiesToRectangle(editor.selection.verties);\n\n            editor.command('setAttributeForMulti', 'fit at the same width', editor.selection.packByValue({\n                x: rect.x,\n                width: rect.width\n            }))\n\n        }\n    }\n}","import { vertiesToRectangle } from \"el/utils/collision\";\nimport { Editor } from \"../manager/Editor\";\n\nexport default {\n    command : 'same.height',\n    description : 'fit at the same height',\n\n    /**\n     * @param {Editor} editor\n     */\n    execute: function (editor) {\n\n        var len = editor.selection.length ;\n\n        if (len == 1) {\n            // artboard 랑 크기를 맞출지 고민해보자. \n        } else if (len > 1) {\n            const rect = vertiesToRectangle(editor.selection.verties);\n\n            editor.command('setAttributeForMulti', 'fit at the same height', editor.selection.packByValue({\n                y: rect.y,\n                height: rect.height\n            }))\n        }\n        \n    }\n}","/**\n * 객체 추가 모드로 변경 \n * \n * @param {*} editor \n * @param {*} type \n */\nexport default async function addLayerView (editor, type, data = {}) {\n    // editor.emit('hideSubEditor');\n    editor.selection.empty();\n    await editor.emit('refreshSelectionTool');        \n    await editor.emit('hideAddViewLayer');\n    await editor.emit('removeGuideLine');\n\n    if (type === 'select') {\n        // NOOP\n        // select 는 아무것도 하지 않는다. \n    } else if (type === 'brush') {\n        await editor.emit('showPathDrawEditor');\n    } else if (type === 'path') {\n        await editor.emit('showPathEditor', 'path' );\n    } else  {\n        await editor.emit('showLayerAppendView', type, data );\n    }\n}","export default {\n    command: 'setEditorLayout',\n    execute: function (editor, layout) {\n        editor.setLayout(layout);\n        editor.emit('changedEditorlayout')\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'item.move.depth.down',\n    execute: function (editor) {\n        const current = editor.selection.current; \n\n        if (current) {\n            current.orderPrev();\n        }\n\n        _doForceRefreshSelection(editor, true);\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'item.move.depth.up',\n    execute: function (editor) {\n        // TODO: 히스토리 적용해야함 \n        // TODO: 총 3가지가 동시에 바뀌게 되는데   1: 현재 부모, 2: 이전 부모의 자식 리스트, 3: 현재 부모의 자식 리스트\n        const current = editor.selection.current; \n\n        if (current) {\n            current.orderNext();\n        }\n\n        _doForceRefreshSelection(editor, true);\n    }\n}","export default {\n    command : 'group.item',\n    execute: function (editor) {\n\n        if (editor.selection.length === 0) return; \n\n        const project = editor.selection.currentProject\n\n        if (project) {\n\n            // no 캐쉬 \n            project.generateListNumber()\n\n            // depth 캐쉬 \n            const list = editor.selection.map(item => {\n                return {depth: item.depth, item }\n            })\n    \n            // no, depth 로 정렬 \n            list.sort((a, b) => {\n                if (a.depth === b.depth) {\n                    return a.no > b.no ? -1 : 1; \n                }\n    \n                return a.depth > b.depth ? 1 : -1; \n            })\n\n            // 객체 생성             \n            const groupLayer = editor.createModel({\n                itemType: 'rect',\n                ...editor.selection.itemRect\n            })\n\n            // 마지막, 레이어 상으로는 가장 위 레이어 옆으로 추가 \n            list[0].item.appendAfter(groupLayer);\n\n            // selected 된 items 을 모두 group Layer 에 추가 \n            list.forEach(({ item }) => {\n                groupLayer.appendChild(item); \n            })\n\n            editor.selection.select(groupLayer);\n\n            editor.emit('refreshAll')\n        }\n\n    }\n}","export default {\n    command : 'ungroup.item',\n    execute: function (editor) {\n\n        if (editor.selection.length === 0) return; \n\n        const current = editor.selection.current;\n\n        if (current) {\n\n            let groupLayer = current;\n            let layers = [...groupLayer.layers];\n\n            layers.reverse();\n\n            layers.forEach(child => {\n                groupLayer.appendBefore(child);\n            })\n\n            editor.selection.select(...layers);\n            editor.emit('refreshAll')            \n        }\n\n    }\n}","import _currentProject from \"./_currentProject\";\nimport { isArrayEquals } from \"el/utils/func\";\n\nexport default {\n    command: 'history.refreshSelection',\n    description: `save selection in history `,\n    description_ko: 'Selection 정보를 갱신하면서 History 에 저장한다',\n    execute: function (editor, message = 'selection') {\n        const currentValues = editor.selection.ids; \n        const projectId = editor.selection.currentProject?.id; \n        const undoValues = editor.history.selectedIds\n\n        // 이전 선택과 같으면 선택 히스토리는 쌓지 않는다. \n        if (isArrayEquals(currentValues, undoValues)) {\n            return;\n        }\n\n        editor.history.add(message, this, {\n            currentValues: [currentValues, projectId],\n            undoValues: [undoValues, projectId]\n        })\n\n        this.nextAction(editor);\n    },\n\n    nextAction (editor) {\n        editor.nextTick(() => {\n            editor.history.saveSelection()\n            editor.emit('refreshSelection');\n\n            editor.nextTick(() => {\n                editor.emit('refreshSelectionTool');\n            })\n\n        })\n    },\n\n    redo : function (editor, { currentValues: [ids, projectId] }) {\n        editor.selection.selectProject(projectId)\n        editor.selection.select(...ids)\n\n        this.nextAction(editor);\n    },\n    undo: function (editor, { undoValues: [ids, projectId] }) {\n        editor.selection.selectProject(projectId)\n        editor.selection.select(...ids)\n\n        this.nextAction(editor);      \n    }\n}","import { isFunction } from \"el/sapa/functions/func\";\nimport { Editor } from \"el/editor/manager/Editor\";\n\nexport default {\n    command: 'setAttributeForMulti',\n    /**\n     * \n     * @param {Editor} editor \n     * @param {object} multiAttrs  아이디 기반의 속성 리스트  { [id] : { key: value }, .... }\n     */\n    execute: function (editor, multiAttrs = {}) {\n\n        const messages = []\n\n        Object.entries(multiAttrs).forEach(([id, attrs]) => {\n            const item = editor.modelManager.get(id);            \n            const newAttrs = {};\n\n            Object.entries(attrs).forEach(([key, value]) => {\n                newAttrs[key] = isFunction(value) ? value(item) : value;\n            })\n\n            messages.push({ id: item.id, parentId: item.parentId, attrs: newAttrs })\n        })\n\n\n        // send message \n        messages.forEach(message => {\n            editor.emit('update', message.id, message.attrs)   \n\n            // 부모가 project 아닐 때만 업데이트 메세지를 날린다. \n            const parent = editor.get(message.parentId)\n            if (message.parentId && parent?.isNot(\"project\") && parent.children.length >= 2) {\n                editor.emit('update', message.parentId, {\n                    'changedChildren': true\n                })\n            }\n        })\n\n    }\n}","export default {\n    command : 'history.setAttributeForMulti',\n    execute: function (editor, message, multiAttrs = {}) {\n\n        editor.emit('setAttributeForMulti', multiAttrs)\n\n        editor.history.add(message, this, {\n            currentValues: [multiAttrs],\n            undoValues: editor.history.getUndoValuesForMulti(multiAttrs)\n        })\n\n        editor.nextTick(() =>  {\n          editor.history.saveSelection()  \n        })        \n    },\n\n    redo: function (editor, {currentValues}) {\n        editor.emit('setAttributeForMulti', ...currentValues)\n        editor.nextTick(() => {\n            editor.selection.reselect();            \n            editor.emit('refreshAll');         \n        })\n\n    },\n\n    undo: function (editor, { undoValues }) {\n        const ids = Object.keys(undoValues)\n        const items = editor.selection.itemsByIds(ids)\n\n        items.forEach(item => {\n            item.reset(undoValues[item.id]);\n        })\n        editor.selection.reselect();\n\n        editor.nextTick(() => {\n            editor.emit('refreshAll');\n        })\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command: 'history.addLayer',\n    description: 'add layer in history ',\n    execute: function (editor, message, layer, rect = {}, isSelected = true, containerItem) {\n\n        editor.emit('addLayer', layer, isSelected, containerItem)\n\n        editor.nextTick(() => {\n            editor.history.add(message, this, {\n                currentValues: [layer, isSelected, layer.parent],\n                undoValues: [layer.id],\n            })\n        })\n\n        editor.nextTick(() =>  {\n          editor.history.saveSelection()  \n        })        \n    },\n\n    redo: function (editor, {currentValues}) {\n        editor.emit('addLayer', ...currentValues)\n        editor.nextTick(() => {\n            editor.emit('refreshAll');\n        })\n\n    },\n\n    undo: function (editor, { undoValues }) {\n        const ids = undoValues\n        const items = editor.selection.itemsByIds(ids)\n\n        // 추가는 하나 밖에 안 했을테니 이게 맞을지도\n        // 여러개일수도 있으니 이걸로 동시에 여러개를 삭제 하자 \n        items.forEach(item => {\n            if (item) {\n                item.remove();\n            }\n        })\n\n        editor.nextTick(() => {\n            editor.selection.empty();\n            editor.emit('refreshAll');\n        })\n    }\n}","import { Item } from \"el/editor/items/Item\";\nimport { Editor } from \"el/editor/manager/Editor\";\n\n/**\n * Item 리스트에서 포함된 자식을 제거한다. \n * \n * 제거하는 방법은  상속관계 id 리스트를구한 다음에 , \n * \n * item 리스트에서 부모와 자식 관계가 동시에 존재하는 경우 자식이라고 인지하고 필터링 한다. \n * \n * @param {Item[]} items \n */\nfunction filterChildren(items = []) {\n\n    // items 중에  자식/부모의 관게의 객체가 있으면 자식은 필터링 한다. \n    return items.filter(item => {\n\n        let total = 0;\n        item.path.forEach(treeItem => {\n            total += items.filter(it => it.id === treeItem.id).length ? 1 : 0\n        })\n\n        return total === 1\n    })\n}\n\nexport default {\n    command : 'history.removeLayer',\n    description: 'remove layer',\n\n    /**\n     * 객체를 삭제 한다. 삭제 할 때 history 도 남긴다. \n     * \n     * @param {Editor} editor \n     * @param {string} message \n     * @param {string[]|undefined} ids \n     */\n    execute: function (editor, message, ids) {\n\n        // // 지우기 전 객체를 모두 clone 한다. \n        let items = editor.selection.itemsByIds(ids || editor.selection.ids);\n\n        // items 중에  자식/부모의 관게의 객체가 있으면 자식은 필터링 한다. \n        items = filterChildren(items);\n\n        const filtedIds = items.map(it => it.id);\n\n        // 삭제 할 때는 modelManager 에서 mark 를 한다. \n        editor.modelManager.markRemove(filtedIds);        \n\n        //전체 삭제 \n        items.forEach(item => item.remove())\n\n        editor.history.add(message, this, {\n            currentValues: [filtedIds],\n            undoValues: filtedIds,\n        })\n\n\n        editor.nextTick(() =>  {\n            editor.selection.removeById(filtedIds)\n            editor.emit('refreshAll')\n            editor.emit('removeGuideLine');\n            editor.nextTick(() => {\n                editor.history.saveSelection()  \n            })\n        })        \n    },\n\n    redo: function (editor, {currentValues}) {\n\n        const ids = currentValues[0]\n        let items = editor.selection.itemsByIds(ids || editor.selection.ids);\n\n        // items 중에  자식/부모의 관게의 객체가 있으면 자식은 필터링 한다. \n        items = filterChildren(items);\n\n        // 삭제 할 때는 modelManager 에서 mark 를 한다. \n        editor.modelManager.markRemove(items.map(it => it.id));        \n\n        //전체 삭제 \n        items.forEach(item => item.remove())\n\n        editor.nextTick(() => {\n            editor.emit('refreshAll');\n        })\n    },\n\n    /**\n     * 생성된 undoValues 를 복구한다. \n     * 복구 할 때는 해당 객체의 부모와 위치를 같이 복구한다. \n     * \n     * @param {Editor} editor \n     * @param {Object} param1 \n     * @param {string} param1.undoValues  JSON serialize 된 문자열 \n     */\n    undo: function (editor, { undoValues: recoverIds }) {\n        editor.modelManager.unmarkRemove(recoverIds)\n\n        editor.nextTick(() => {\n            editor.emit('refreshAll');\n        })\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { mat4, vec3 } from \"gl-matrix\";\nimport PathParser from 'el/editor/parser/PathParser';\nimport { rectToVerties } from \"el/utils/collision\";\nimport { vertiesMap, calculateMatrix, calculateMatrixInverse } from 'el/utils/math';\nimport { Transform } from 'el/editor/property-parser/Transform';\n\n\nexport default {\n    command: 'updatePathItem',\n\n    description: 'Update path string for selected svg path item',\n\n    /**\n     * \n     * @param {Editor} editor \n     * @param {object} pathObject \n     * @param {string} pathObject.d    svg path 문자열 \n     * @param {object} pathObject.matrix    svg path 문자열 \n     */\n    execute: function (editor, pathObject) {\n        const current = editor.selection.current;\n        if (current) {\n            if (pathObject.box === 'box') {\n                const newPath = current.invertPath(pathObject.d);\n    \n                // d 속성 (path 문자열) 을 설정한다. \n                editor.command('setAttributeForMulti', \"change local path\", editor.selection.packByValue({\n                    d: newPath.d,\n                }))\n            } else {\n                const newPath = new PathParser(pathObject.d);\n                    // 1. 로컬 좌표로 변환\n                    newPath.transformMat4(pathObject.matrix.accumulatedMatrixInverse);\n\n                // 2. 로컬 좌표로 bbox 구하기 \n                let bbox = newPath.getBBox();\n\n                // 3. newWidth, newHeight 구하기 \n                const newWidth = vec3.distance(bbox[1], bbox[0]);\n                const newHeight = vec3.distance(bbox[3], bbox[0]);\n\n\n                // 4. bbxo 를 월드 좌표로 변환 \n                let oldBBox = vertiesMap(\n                    rectToVerties(bbox[0][0], bbox[0][1], newWidth, newHeight), \n                    pathObject.matrix.accumulatedMatrix\n                );\n\n                // 5. 월드 좌표에서 로컬 transform 의 역행렬을 적용, 월드 좌표에서 translate 를 구함 \n                //    이 때 translate 를 모르기 때문에 origin 을 bbox를 중심으로 새로 구해서 적용 \n                let newBBox = vertiesMap(oldBBox, calculateMatrixInverse(\n                    mat4.fromTranslation([], oldBBox[4]),\n                    Transform.createTransformMatrix(\n                        Transform.parseStyle(pathObject.matrix.transform), \n                        newWidth, \n                        newHeight\n                    ),\n                    mat4.fromTranslation([], vec3.negate([], oldBBox[4])),\n                ));\n\n                // 6. 월드 좌표로 변환된 bbox 의 중심으로 새로운 matrix 를 구함\n                const worldMatrix = calculateMatrix(\n                    mat4.fromTranslation([], newBBox[0]),                      \n                    current.getLocalTransformMatrix(newWidth, newHeight),\n                );\n\n\n                // 7. 월드 좌표에서 부모의 상대 좌표로 변환 \n                const realXY = mat4.getTranslation([], calculateMatrix(\n                    pathObject.matrix.parentMatrixInverse,                    \n                    worldMatrix,                    \n                    mat4.invert([], current.getLocalTransformMatrix(newWidth, newHeight)),\n                ));\n\n                // d 속성 (path 문자열) 을 설정한다. \n                editor.command('setAttributeForMulti', \"change path\", editor.selection.packByValue({\n                    // bbox 가 기존 좌표에서 움직인 상태 이기 때문에 \n                    // bbox 시작점만큼 이동해서 newWidth, newHeight 기준으로 path 를 맞춘다. \n                    d: newPath.translate(-bbox[0][0], -bbox[0][1]).d,\n                    x: Length.px(realXY[0]),\n                    y: Length.px(realXY[1]),\n                    width: Length.px(newWidth),\n                    height: Length.px(newHeight)\n                }))\n            }\n\n        }\n\n\n    }\n\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'moveLayer',\n\n    description: 'move layer by keydown with matrix ',\n    /**\n     * \n     * @param {Editor} editor \n     * @param {number} dx\n     * @param {number} dy\n     */\n    execute: function (editor, dx = 0, dy = 0) {\n\n        editor.command('setAttributeForMulti', 'item move down', editor.selection.packByValue({\n            x: (item) => Length.px(item.offsetX.value + dx),\n            y: (item) => Length.px(item.offsetY.value + dy),\n        }));     \n\n        editor.nextTick(() =>{\n            editor.selection.reselect();\n            editor.emit('refreshAll')\n        })\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { vec3 } from \"gl-matrix\";\n\nexport default {\n    command: 'moveToCenter',\n\n    description: 'Move Layer to Center on Viewport',\n\n    /**\n     * \n     * @param {Editor} editor \n     * @param {vec3[]} areaVerties \n     * @param {boolean} withScale    scale 도 같이 조절 할지 정리 \n     */\n    execute: function (editor, areaVerties, withScale = false) {\n        if (areaVerties) {\n            editor.viewport.moveLayerToCenter(areaVerties, undefined, withScale);\n        }\n    }\n\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'moveLayerForItems',\n\n    description: 'mova layer by multi items ',\n    /**\n     * \n     * @param {Editor} editor \n     * @param {number} dx\n     * @param {number} dy\n     */\n    execute: function (editor, moveItems = []) {\n\n        const itemsMap = {}\n\n        moveItems.forEach(it => {\n            itemsMap[it.item.id] = {\n                x: Length.px(it.item.offsetX.value + it.dist[0]).round(),\n                y: Length.px(it.item.offsetY.value + it.dist[1]).round() \n            }\n        })\n\n        editor.emit('history.setAttributeForMulti', 'item move down', itemsMap);     \n\n        editor.nextTick(() =>{\n            editor.selection.reselect();\n            editor.emit('refreshAll')\n        })\n    }\n}","import { itemsToRectVerties } from \"el/utils/collision\";\nimport { Editor } from \"el/editor/manager/Editor\";\n\nexport default {\n    command: 'moveSelectionToCenter',\n\n    description: 'Move selection project or artboards to center on Viewport',\n\n    /**\n     * \n     * @param {Editor} editor \n     * @param {vec3[]} areaVerties \n     * @param {boolean} [withScale=true]    scale 도 같이 조절 할지 정리 \n     */\n    execute: function (editor, withScale = true) {\n\n        let areaVerties = []\n\n        if (editor.selection.isEmpty) {\n          areaVerties = editor.selection.currentProject.rectVerties;\n        } else {\n          areaVerties = itemsToRectVerties(editor.selection.items);\n        }\n    \n        editor.emit('moveToCenter', areaVerties, withScale);        \n    }\n\n}","\nimport loadOriginalImage from \"el/editor/util/loadOriginalImage\";\nimport createImagePng from \"el/editor/util/createImagePng\";\nimport ExportManager from \"el/editor/manager/ExportManager\";\n\nexport default {\n    command: 'savePNG',\n    execute: function (editor, callbackCommand = '') {\n        const item = editor.selection.current;\n\n        if (item) {\n            const svgString = ExportManager.generateSVG(editor, item).trim();\n            const datauri = 'data:image/svg+xml;base64,' + window.btoa(svgString);\n            loadOriginalImage({local: datauri}, (info, img) => {\n                createImagePng(img, (pngDataUri) => {\n                    if (callbackCommand) {\n                        editor.emit(callbackCommand, pngDataUri);\n                    }\n                })\n            })\n        }\n\n    }\n\n}","export default {\n    command : 'refreshCursor',\n    execute: function (editor, iconType, ...args) {\n        editor.emit('changeIconView', iconType, ...args)        \n    }\n}","import PathParser from 'el/editor/parser/PathParser';\n\nexport default {\n    command : 'copy.path',\n    description: 'copy as path for item with path string(d attribute)',\n    execute : function (editor) {\n\n        const current = editor.selection.current;\n\n        if (current) {\n\n            let newPath = PathParser.fromSVGString(current.d);\n\n            try {\n                const newLayerAttrs = current.toSVGPath();\n\n                editor.command('addLayer', `copy path`, editor.createModel({\n                    itemType: 'svg-path',\n                    ...newLayerAttrs,\n                    ...current.updatePath(newPath.d),\n                }), true, current.parent)\n            } catch (e) {\n                console.error(e);\n            }\n\n        }\n    }\n}","import refreshElement from \"./refreshElement\";\nimport refreshProject from './refreshProject';\nimport resizeArtBoard from \"./resizeArtBoard\";\nimport convertPath from \"./convertPath\";\nimport addImage from \"./addImage\";\nimport addVideo from \"./addVideo\";\nimport addArtBoard from \"./addArtBoard\";\nimport addProject from \"./addProject\";\nimport addLayer from \"./addLayer\";\nimport newComponent from \"./newComponent\";\nimport clipboardCopy from \"./clipboard.copy\";\nimport clipboardPaste from \"./clipboard.paste\";\nimport showExportView from \"./showExportView\";\nimport updateScale from \"./updateScale\";\nimport fileDropItems from \"./fileDropItems\";\nimport updateResource from \"./updateResource\";\nimport updateImage from \"./updateImage\";\nimport updateVideo from \"./updateVideo\";\nimport addImageAssetItem from \"./addImageAssetItem\";\nimport addVideoAssetItem from \"./addVideoAssetItem\";\nimport dropImageUrl from \"./dropImageUrl\";\nimport addSVGFilterAssetItem from \"./addSVGFilterAssetItem\";\nimport updateImageAssetItem from \"./updateImageAssetItem\";\nimport updateVideoAssetItem from \"./updateVideoAssetItem\";\nimport updateUriList from \"./updateUriList\";\nimport downloadJSON from \"./downloadJSON\";\nimport downloadSVG from \"./downloadSVG\";\nimport downloadPNG from \"./downloadPNG\";\nimport saveJSON from \"./saveJSON\";\nimport loadJSON from \"./load.json\";\nimport setLocale from \"./setLocale\";\nimport addTimelineProperty from \"./addTimelineProperty\";\nimport refreshSelectedOffset from \"./refreshSelectedOffset\";\nimport setTimelineOffset from \"./setTimelineOffset\";\nimport addTimelineCurrentProperty from \"./addTimelineCurrentProperty\";\nimport removeTimelineProperty from \"./removeTimelineProperty\";\nimport deleteTimelineKeyframe from \"./deleteTimelineKeyframe\";\nimport selectTimelineItem from \"./selectTimelineItem\";\nimport removeTimeline from \"./removeTimeline\";\nimport removeAnimationItem from \"./removeAnimationItem\";\nimport addTimelineKeyframe from \"./addTimelineKeyframe\";\nimport copyTimelineProperty from \"./copyTimelineProperty\";\nimport playTimelineItem from \"./playTimelineItem\";\nimport prevTimelineItem from \"./prevTimelineItem\";\nimport firstTimelineItem from \"./firstTimelineItem\";\nimport nextTimelineItem from \"./nextTimelineItem\";\nimport lastTimelineItem from \"./lastTimelineItem\";\nimport pauseTimelineItem from \"./pauseTimelineItem\";\nimport addTimelineItem from \"./addTimelineItem\";\nimport dropAsset from \"./drop.asset\";\nimport addBackgroundImageGradient from \"./addBackgroundImageGradient\";\nimport addBackgroundImageAsset from \"./addBackgroundImageAsset\";\nimport keymapKeydown from \"./keymap.keydown\";\nimport keymapKeyup from \"./keymap.keyup\";\nimport removeLayer from \"./removeLayer\";\nimport pushModeView from \"./push.mode.view\";\nimport segmentMoveDown from \"./segment.move.down\";\nimport segmentMoveUp from \"./segment.move.up\";\nimport segmentMoveRight from \"./segment.move.right\";\nimport segmentMoveLeft from \"./segment.move.left\";\nimport segmentDelete from \"./segment.delete\";\nimport addBackgroundImagePattern from \"./addBackgroundImagePattern\";\nimport addBackgroundColor from \"./addBackgroundColor\";\nimport scaleMinus from \"./scale.minus\";\nimport scalePlus from \"./scale.plus\";\nimport resetSelection from \"./resetSelection\";\nimport sortCenter from \"./sort.center\";\nimport sortLeft from \"./sort.left\";\nimport sortMiddle from \"./sort.middle\";\nimport sortBottom from \"./sort.bottom\";\nimport sortTop from \"./sort.top\";\nimport sortRight from \"./sort.right\";\nimport sameWidth from \"./same.width\";\nimport sameHeight from \"./same.height\";\nimport refreshArtboard from \"./refreshArtboard\";\nimport addLayerView from \"./addLayerView\";\nimport setEditorLayout from \"./setEditorLayout\";\nimport itemMoveDepthDown from \"./item.move.depth.down\";\nimport itemMoveDepthUp from \"./item.move.depth.up\";\nimport groupItem from \"./group.item\";\nimport ungroupItem from \"./ungroup.item\";\nimport historyRedo from \"./history.redo\";\nimport historyUndo from \"./history.undo\";\nimport historyRefreshSelection from \"./history.refreshSelection\";\nimport setAttributeForMulti from \"./setAttributeForMulti\";\nimport historySetAttributeForMulti from \"./history.setAttributeForMulti\";\nimport historyAddLayer from \"./history.addLayer\";\nimport historyRemoveLayer from \"./history.removeLayer\";\nimport updatePathItem from \"./updatePathItem\";\nimport updateClipPath from \"./updateClipPath\";\nimport moveLayer from \"./moveLayer\";\nimport moveToCenter from './moveToCenter';\nimport moveLayerForItems from \"./moveLayerForItems\";\nimport moveSelectionToCenter from \"./moveSelectionToCenter\";\nimport savePNG from \"./savePNG\";\nimport refreshCursor from \"./refreshCursor\";\nimport recoverCursor from \"./recoverCursor\";\nimport convertPasteText from \"./convertPasteText\";\nimport addCustomComponent from \"./addCustomComponent\";\nimport toggleToolHand from \"./toggle.tool.hand\";\nimport rotateLayer from \"./rotateLayer\";\nimport refreshHistory from \"./refreshHistory\";\nimport openEditor from './open.editor';\nimport doubleclickItem from \"./doubleclick.item\";\nimport update from \"./model/update\";\nimport historyRemoveProject from \"./history.removeProject\";\nimport historyRefreshSelectionProject from \"./history.refreshSelectionProject\";\nimport popModeView from \"./pop.mode.view\";\nimport copyPath from \"./copy.path\";\nimport itemMoveDepthFirst from \"./item.move.depth.first\";\nimport itemMoveDepthLast from \"./item.move.depth.last\";\n\n\nexport default {\n    // update model \n    copyPath,\n    update,\n    popModeView,\n\n    doubleclickItem,\n    openEditor,\n    refreshHistory,\n    convertPasteText,\n    refreshCursor,\n    recoverCursor,\n    toggleToolHand,\n    rotateLayer,\n\n    // history + command   \n    historyAddLayer,\n    historyRemoveLayer,\n    historyRemoveProject,\n    historySetAttributeForMulti,    \n    historyRefreshSelection,\n    historyRefreshSelectionProject,\n    historyRedo,\n    historyUndo,\n\n    moveLayer,\n    moveLayerForItems,\n    moveToCenter,\n    moveSelectionToCenter,\n\n    // command \n    groupItem,\n    ungroupItem,\n    setEditorLayout,\n    refreshArtboard,\n    resetSelection,\n    addBackgroundColor,\n    addBackgroundImagePattern,\n    segmentDelete,\n    segmentMoveDown,\n    segmentMoveUp,\n    segmentMoveRight,\n    segmentMoveLeft,\n    pushModeView,\n    removeLayer,\n    itemMoveDepthDown,\n    itemMoveDepthUp,    \n    itemMoveDepthFirst,\n    itemMoveDepthLast,\n    keymapKeydown,\n    keymapKeyup,\n    scaleMinus,\n    scalePlus, \n    dropAsset,\n    addBackgroundImageAsset,\n    addBackgroundImageGradient,\n    addTimelineItem,\n    pauseTimelineItem,\n    lastTimelineItem,\n    nextTimelineItem,\n    firstTimelineItem,\n    prevTimelineItem,\n    playTimelineItem,\n    copyTimelineProperty,\n    addTimelineKeyframe,\n    removeAnimationItem,\n    removeTimeline,\n    selectTimelineItem,\n    deleteTimelineKeyframe,\n    removeTimelineProperty,\n    addTimelineCurrentProperty,\n    setTimelineOffset,\n    refreshSelectedOffset,\n    addTimelineProperty,\n    setLocale,\n    loadJSON,\n    saveJSON,\n    savePNG,\n    downloadPNG,\n    downloadSVG,\n    downloadJSON,\n    updateUriList,\n    updateImageAssetItem,\n    updateVideoAssetItem,\n    addSVGFilterAssetItem,\n    dropImageUrl,\n    addImageAssetItem,\n    addVideoAssetItem,\n    updateImage,\n    updateVideo,\n    updateResource,\n    fileDropItems,\n    updateScale,\n    showExportView,\n    // switchTheme,\n    clipboardPaste,\n    clipboardCopy,\n    addArtBoard,\n    addCustomComponent,\n    addImage,\n    addVideo,\n    addLayer,    \n    addLayerView,\n    addProject,\n    convertPath,    \n    newComponent,\n    refreshElement,\n    refreshProject,\n    resizeArtBoard,\n    setAttributeForMulti,\n    sortBottom,\n    sortCenter,\n    sortLeft,\n    sortMiddle,\n    sortBottom,\n    sortTop,\n    sortRight,\n    sameWidth,\n    sameHeight,      \n    updatePathItem,\n    updateClipPath\n}","export default {\n    command: 'update',\n    description: 'Update the model',\n    execute: function (editor, id = null, attrs = {}) {\n\n        editor.emit('beforeUpdate', id, attrs);\n\n        const item = editor.modelManager.get(id);\n\n        if (item) {\n            const isChanged = item.reset(attrs);\n\n            if (isChanged) {\n                editor.emit('refreshElement', item);\n            }\n        }\n\n        editor.emit('afterUpdate', id, attrs);        \n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\"\n\nexport default {\n    command: 'pop.mode.view',\n    execute: function (editor, modeView = undefined) {\n        editor.modeViewManager.popMode(modeView);\n    }\n}","export default {\n    command: 'doubleclick.item',\n    execute: function (editor, evt, id) {\n        const item = editor.modelManager.get(id);\n\n        if (editor.selection.isOne && item) {\n\n            if (editor.selection.checkChildren(item.id) && item.is('svg-path')) {\n                editor.selection.select(item);\n                editor.emit('refreshSelection');                \n                editor.emit('refreshSelectionTool');\n            }\n\n            if (editor.selection.check(item)) {\n                editor.emit('open.editor');\n                editor.emit('removeGuideLine');\n            } else {\n                this.selectInWorldPosition(editor, evt, item);\n            }\n\n\n        } else {\n            this.selectInWorldPosition(editor, evt, item);\n        }\n    },\n\n    selectInWorldPosition: function (editor, evt, item) {\n        const point = editor.viewport.getWorldPosition(evt);\n        if (editor.selection.hasPoint(point) ||\n            editor.selection.hasChildrenPoint(point)\n        ) {\n            editor.selection.select(item);\n            editor.snapManager.clear();\n            editor.emit('refreshSelectionTool', true);\n            editor.emit('history.refreshSelection');\n        }\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { ClipPath } from \"../property-parser/ClipPath\";\n\nexport default {\n    command: 'open.editor',\n\n    description: 'Open custom editor for item  when doubleclick is fired',\n\n    /**\n     * \n     * @param {Editor} editor \n     * @param {object} pathObject \n     * @param {string} pathObject.d    svg path 문자열 \n     */\n    execute: function (editor, current) {\n\n        if (!current && editor.selection.isOne === false) return;\n\n        current = current || editor.selection.current;\n\n        if (current) {\n\n            // d 속성은 자동으로 페스 에디터로 연결 \n            if (current.editablePath) {\n                editor.emit('showPathEditor', 'modify', {\n                    box: 'canvas',\n                    current,\n                    matrix: current.matrix,\n                    isControl: true,\n                    disableCurve: true,\n                    d: current.editablePath,\n                    changeEvent: (data) => {\n\n                        editor.command('setAttributeForMulti', 'change editable path', editor.selection.packByValue({\n                            ...current.recoverEditablePath(data.d),\n                        }, [current.id]));\n                    }\n                })\n                editor.emit('hideSelectionToolView');            \n            } else if (current.d) {\n                editor.emit('showPathEditor', 'modify', {\n                    box: 'canvas',\n                    current,\n                    matrix: current.matrix,\n                    d: current.accumulatedPath().d,\n                    changeEvent: (data) => {\n                        editor.emit('updatePathItem', data);\n                    }\n                })\n                editor.emit('hideSelectionToolView');\n            } else if (current['clip-path']) {\n                var obj = ClipPath.parseStyle(current['clip-path'])\n\n                if (obj.type === 'path') {\n                    var d = current.accumulatedPath(current.clipPathString).d\n                    var mode = d ? 'modify' : 'path'\n\n                    editor.emit('showPathEditor', mode, {\n                        changeEvent: (data) => {\n                            const resultPath = current.invertPath(data.d).d;\n\n                            // d 속성 (path 문자열) 을 설정한다. \n                            editor.command('setAttributeForMulti', 'change clip-path', editor.selection.packByValue({\n                                'clip-path': `path(${resultPath})`,\n                            }))\n                        },\n                        current,\n                        d,\n                    })\n                    editor.emit('hideSelectionToolView');\n                } else if (obj.type === 'svg') {\n                    // NOOP\n                } else {\n                    editor.emit(\"showClipPathPopup\", {\n                        'clip-path': current['clip-path'],\n                        changeEvent: function (data) {\n                            editor.command('setAttributeForMulti', 'change clip-path', editor.selection.packByValue(data));\n                        }\n                    });\n                }\n\n            } else {\n                // 기타 다른 에디터 연동하기 \n            }\n        }\n\n    }\n\n}","/**\n * refresh element command \n * \n * @param {Editor} editor - editor instance \n * @param {Array} args - command parameters \n */\nexport default function refreshHistory (editor) {\n    // 화면 사이즈 조정         \n    editor.emit('saveJSON')\n}","import urlParser from \"js-video-url-parser\";\nimport { Length } from \"../unit/Length\";\n\nexport default {\n    command: 'convertPasteText',\n    execute: async (editor, text) => {\n\n        const embedUrl = urlParser.create({ \n            videoInfo: urlParser.parse(text), \n            format: 'embed',\n            mediaType: 'clip'\n        });\n\n        if (embedUrl) {\n \n            const center = editor.viewport.center;\n            const width = 300;\n            const height = 200; \n\n            editor.emit('newComponent', 'iframe', {\n              x: Length.px(center[0] - width/2),\n              y: Length.px(center[1] - height/2),\n              width: Length.px(width),\n              height: Length.px(height),\n              'background-color': 'transparent',\n              url: embedUrl\n            });\n        }\n\n    }\n}","export default {\n    command : 'recoverCursor',\n    execute: function (editor) {\n        editor.emit('changeIconView', 'auto')\n    }\n}","/**\n * \n * @param {Editor} editor \n */\nexport default {\n    command: 'toggleToolHand',\n    execute: function (editor) {\n        editor.config.toggle('set.tool.hand')\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { Transform } from \"../property-parser/Transform\";\nimport _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'rotateLayer',\n\n    description: 'rotate layer by keydown with matrix ',\n    /**\n     * \n     * @param {Editor} editor \n     * @param {number} dx\n     * @param {number} dy\n     */\n    execute: function (editor, distAngle = 0) {\n\n        editor.command('setAttributeForMulti', 'change rotate', editor.selection.packByValue({\n            transform: (item) => Transform.addTransform(item.transform, `rotateZ(${Length.deg(distAngle).round(1000)})`)\n        }));     \n\n        editor.nextTick(() =>{\n            editor.selection.reselect();\n            editor.emit('refreshAll')\n        })\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\n\nexport default {\n    command : 'history.removeProject',\n    description: 'remove project',\n\n    /**\n     * 객체를 삭제 한다. 삭제 할 때 history 도 남긴다. \n     * \n     * @param {Editor} editor \n     * @param {string} message \n     * @param {string|undefined} projectId 프로젝트 id\n     */\n    execute: function (editor, message, projectId) {\n\n        // 삭제 할 때는 modelManager 에서 mark 를 한다. \n        const index = editor.modelManager.markRemoveProject(projectId);        \n\n        editor.history.add(message, this, {\n            currentValues: [projectId],\n            undoValues: [projectId, index],\n        })\n\n        editor.nextTick(() =>  {\n            editor.selection.selectProject(editor.modelManager.projects[0]);\n            editor.emit('refreshAll')\n            editor.emit('removeGuideLine');\n            editor.nextTick(() => {\n                editor.history.saveSelection()  \n            })\n        })        \n    },\n\n    redo: function (editor, {currentValues: [projectId]}) {\n\n        // 삭제 할 때는 modelManager 에서 mark 를 한다. \n        editor.modelManager.markRemoveProject(projectId);        \n\n        editor.nextTick(() => {\n            editor.emit('refreshAll');\n        })\n    },\n\n    /**\n     * 생성된 undoValues 를 복구한다. \n     * 복구 할 때는 해당 객체의 부모와 위치를 같이 복구한다. \n     * \n     * @param {Editor} editor \n     * @param {Object} param1 \n     * @param {string} param1.undoValues  JSON serialize 된 문자열 \n     */\n    undo: function (editor, { undoValues: [projectId, index] }) {\n\n        editor.modelManager.unmarkRemoveProject(projectId, index);\n\n        editor.nextTick(() => {\n            editor.selection.selectProject(projectId);\n            editor.emit('refreshAll');\n        })\n    }\n}","import _currentProject from \"./_currentProject\";\nimport { isArrayEquals } from \"el/utils/func\";\n\nexport default {\n    command: 'history.refreshSelectionPorject',\n    description: `save project selection in history `,\n    description_ko: 'Project Selection 정보를 갱신하면서 History 에 저장한다',\n    execute: function (editor, message = 'selection', projectId) {\n        const currentValues = [projectId]; \n        const undoValues = [editor.selection.currentProject?.id]\n\n        // 이전 프로젝트와 현재 프로젝트가 같으면 selection 을 갱신하지 않는다.\n        if (isArrayEquals(currentValues, undoValues)) {\n            return;\n        }\n\n        editor.selection.selectProject(projectId);\n\n        editor.history.add(message, this, {\n            currentValues,\n            undoValues\n        })\n\n        this.nextAction(editor);\n    },\n\n    nextAction (editor) {\n        editor.nextTick(() => {\n            editor.emit(\"refreshAll\");\n            editor.emit(\"refreshProjectList\");\n        })\n    },\n\n    redo : function (editor, { currentValues: [projectId] }) {\n        editor.selection.selectProject(projectId)\n\n        this.nextAction(editor);\n    },\n    undo: function (editor, { undoValues: [projectId] }) {\n        editor.selection.selectProject(projectId)\n\n        this.nextAction(editor);      \n    }\n}","import { Editor } from \"el/editor/manager/Editor\"\n\nexport default {\n    command : 'history.redo',\n    /**\n     * history redo 를 실행한다. \n     * \n     * @param {Editor} editor \n     */\n    execute: function (editor) {\n        editor.history.redo()\n    }\n}","export default {\n    command : 'history.undo',\n    execute: function (editor) {\n        editor.history.undo()\n    }\n}","/**\n * refresh element command \n * \n * @param {Editor} editor - editor instance \n * @param {Array} args - command parameters \n */\nexport default function refreshArtboard (editor) {\n    editor.emit('refreshLayerTreeView')    \n    editor.emit('refreshAllCanvas');\n    editor.emit('refreshStyleView');\n    editor.emit('refreshSelectionStyleView');\n    editor.emit('refreshAllElementBoundSize')   \n    editor.emit('refreshSelection');    \n    editor.nextTick(() => {        \n        editor.emit('refreshSelectionTool', true);\n    })\n\n}","import { isFunction } from \"el/sapa/functions/func\";\n\n/**\n * reset selecdtion command \n * \n * @param {Editor} editor \n */\nexport default function resetSelection (editor) {\n    editor.nextTick(() => {\n        editor.emit('refreshSelectionTool');\n    })\n\n}","export default {\n    command : 'segment.delete',\n    execute: function (editor, current) {\n        editor.emit('deleteSegment')\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'item.move.depth.first',\n    execute: function (editor) {\n        // TODO: 히스토리 적용해야함 \n        // TODO: 총 3가지가 동시에 바뀌게 되는데   1: 현재 부모, 2: 이전 부모의 자식 리스트, 3: 현재 부모의 자식 리스트\n        const current = editor.selection.current; \n\n        if (current) {\n            current.orderFirst();\n        }\n\n        _doForceRefreshSelection(editor, true);\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'item.move.depth.last',\n    execute: function (editor) {\n        const current = editor.selection.current; \n\n        if (current) {\n            current.orderLast();\n        }\n\n        _doForceRefreshSelection(editor, true);\n    }\n}","export default {\n    command: 'keymap.keydown',\n    execute: function (editor, e) {\n        editor.keyboardManager.add(e.code, e.keyCode);\n        editor.shortcuts.execute(e, 'keydown');\n    }\n\n}","export default {\n    command: 'keymap.keyup',\n    execute: function (editor, e) {\n        editor.keyboardManager.remove(e.key, e.keyCode);        \n        editor.shortcuts.execute(e, 'keyup');\n    }\n\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'scale.minus',\n    execute: function (editor) {\n\n        const oldScale = editor.viewport.scale;\n\n        editor.viewport.setScale(editor.viewport.scale - 0.25)\n\n        editor.emit('updateViewport', editor.viewport.scale, oldScale);\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default {\n    command : 'scale.plus',\n    execute: function (editor) {\n\n        const oldScale = editor.viewport.scale;\n\n        editor.viewport.setScale(editor.viewport.scale + 0.25)\n\n        editor.emit('updateViewport', editor.viewport.scale, oldScale);\n    }\n}","export default {\n    command: 'pauseTimelineItem',\n    execute: function (editor) {\n        if (editor.timer) {\n            editor.timer.stop();\n        }\n    }\n}","export default {\n    command: 'refreshSelectedOffset',\n    execute: function (editor) {\n        var offset = editor.timeline.items[0]\n        if (offset) {\n            editor.emit('refreshOffsetValue', offset)\n        }                    \n    }\n}","export default {\n    command: 'setLocale',\n    execute: function (editor, locale) {\n        editor.setLocale(locale);\n        editor.emit('changed.locale')\n    }\n}","export default {\n    command: 'saveJSON',\n    execute: function (editor) {\n        // todo: 문서 표준 포맷을 정해야함 \n        editor.saveItem('model', editor.modelManager.toJSON())\n    }    \n}","export default {\n    command: 'updateResource',\n    execute: function (editor, items) {\n        items.forEach(item => {\n            switch(item.type) {\n            case 'image/svg+xml': \n            case 'image/png':  \n            case 'image/gif': \n            case 'image/jpg': \n            case 'image/jpeg': \n                editor.emit('updateImage', item); \n                break; \n            case 'text/plain':\n            case 'text/html':\n                editor.emit('addText', {\n                    content: item.data\n                });\n                // this.trigger('update.string', item);\n                break;\n            case 'text/uri-list':\n                editor.emit('updateUriList', item);\n                break;\n            }\n        })\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\n\nexport default {\n    command: 'updateScale',\n\n    /**\n     * scale 설정하기 \n     * \n     * @param {Editor} editor \n     * @param {number} scale [0.5...5]\n     */\n    execute: function (editor, scale) {\n        const oldScale = editor.viewport.scale; \n        editor.viewport.setScale(scale);\n        editor.emit('updateViewport', scale, oldScale)\n    }\n\n}","export default {\n    command: 'showExportView',\n    execute: function (editor) {\n        editor.emit('showExportWindow');\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { Editor } from \"el/editor/manager/Editor\";\n/**\n * \n * @param {Editor} editor \n * @param {*} obj \n * @param {vec3} [center=null] center를 지정하고 artboard 를 재배치 \n */\nexport default function addArtBoard (editor, obj = {}, center = null) {\n\n    var project = editor.selection.currentProject;\n    if (!project) {\n        project = editor.add(editor.createModel({ itemType: 'project' }))\n\n        editor.selection.selectProject(project);\n    }\n\n    var artboard = project.appendChild(editor.createModel({\n        itemType: 'artboard',\n        x: Length.px(300),\n        y: Length.px(200),\n        width: Length.px(375),\n        height: Length.px(667),\n        ...obj\n    }))\n\n    if (center) {\n        artboard.reset({\n            x: Length.px(0),\n            y: Length.px(0),\n        })\n        artboard.moveByCenter(center);\n    }\n\n    editor.selection.select(artboard);\n\n    _doForceRefreshSelection(editor)\n\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { Editor } from \"el/editor/manager/Editor\";\n/**\n * \n * @param {Editor} editor \n * @param {*} obj \n * @param {vec3} [center=null] center를 지정하고 artboard 를 재배치 \n */\nexport default function addCustomComponent (editor, obj = {}, center = null) {\n\n    var project = editor.selection.currentProject;\n\n\n    var customComponent = project.appendChild(editor.createModel({\n        x: Length.px(300),\n        y: Length.px(200),\n        width: Length.px(375),\n        height: Length.px(667),\n        ...obj\n    }))\n\n    if (center) {\n        customComponent.reset({\n            x: Length.px(0),\n            y: Length.px(0),\n        })\n        customComponent.moveByCenter(center);\n    }\n\n    editor.selection.select(customComponent);\n\n    _doForceRefreshSelection(editor)\n\n}","export default function addImage (editor, rect = {}, containerItem = undefined) {\n    editor.emit('newComponent', 'image', rect, true, containerItem)\n}  ","export default function addVideo (editor, rect = {}, containerItem = undefined) {\n    editor.emit('newComponent', 'video', rect, true, containerItem)\n}  ","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default function addLayer (editor, layer, isSelected = true, containerItem) {\n\n    if (!containerItem) {\n        containerItem = editor.selection.current || editor.selection.currentProject\n    }\n\n    if (containerItem) {\n\n        if (containerItem.isNot('project') && !containerItem.enableHasChildren()) {\n            containerItem = containerItem.parent;\n        }\n\n        containerItem.appendChild(layer)\n\n        if (isSelected) {\n            editor.selection.select(layer);\n        }\n\n        _doForceRefreshSelection(editor)\n    }\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\n\nexport default function addProject (editor, obj = {}) {\n    var project = editor.createModel({\n        itemType: 'project',\n        ...obj\n    })\n\n    editor.selection.selectProject(project);\n    _doForceRefreshSelection(editor)\n}","import PathParser from \"el/editor/parser/PathParser\";\n\nexport default function convertPath (editor, pathString, rect = null) {\n    var current = editor.selection.current;\n\n    // clip path 가 path 일 때 \n    // path 속성을 가지고 있을 때 \n\n    if (current )  {\n        if (current.is('svg-path', 'svg-brush', 'svg-textpath')) {\n\n            var d = pathString;\n\n            if (rect) {\n                var parser = new PathParser(pathString)\n                parser.scale(current.width.value/rect.width, current.height.value/rect.height)\n\n                d = parser.d; \n            }\n\n            editor.command('setAttributeForMulti', 'set attribute -d', editor.selection.packByValue({ d }, current.id))\n\n        } else if (current['clip-path'].includes('path')) {\n            var d = pathString;\n\n            if (rect) {\n                var parser = new PathParser(pathString)\n                parser.scale(current.width.value/rect.width, current.height.value/rect.height)\n\n                d = parser.d; \n            }\n\n            // path string 을 저걸로 맞추기 \n            editor.command('setAttributeForMulti', 'change clip path', editor.selection.packByValue({ 'clip-path': `path(${d})` }, current.id))\n        }\n    }\n}","import { EDIT_MODE_SELECTION } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport PathParser from 'el/editor/parser/PathParser';\n\n/**\n * 새로운 객체 생성 \n * \n * 백그라운드를 적용해주거나 기본 속성을 적용\n * \n * @param {Editor} editor \n * @param {string} itemType \n * @param {KeyValue} obj \n * @param {boolean} isSelected \n * @param {Item} [containerItem=undefined]  상위 부모 객체 \n */\nexport default function newComponent (editor, itemType, obj, isSelected = true, containerItem = undefined) {\n    if (itemType === 'svg-textpath') {\n        obj = {\n            ...obj,\n            'font-size': Length.parse(obj.height),\n            textLength: '100%',\n            d: PathParser.makeLine(0, obj.height.value, obj.width.value, obj.height.value).d,\n        }\n    } else if (itemType === 'svg-circle') {\n        itemType = 'svg-path';\n        obj = {\n            ...obj,\n            'background-color': undefined,            \n            fill: `#C4C4C4`,            \n            d: PathParser.makeCircle(0, 0, obj.width.value, obj.height.value).d,\n        }        \n\n    } else if (itemType === 'svg-rect') {\n        itemType = 'svg-path';\n        obj = {\n            ...obj,\n            'background-color': undefined,\n            fill: `#C4C4C4`,            \n            d: PathParser.makeRect(0, 0, obj.width.value, obj.height.value).d,\n        }             \n    } else if (itemType === 'text') {\n        obj = {\n            width: Length.px(300),\n            height: Length.px(50),            \n            ...obj,\n        }        \n    } else if (itemType === 'artboard') {\n        obj = {\n            ...obj,\n            'background-color': 'white'\n        }        \n    } \n\n    const newObjAttrs = { itemType, ...obj };\n\n    editor.command('addLayer', `add layer - ${itemType}`, editor.createModel(newObjAttrs), isSelected, containerItem)\n\n    editor.changeMode(EDIT_MODE_SELECTION);\n    \n}    \n","/**\n * refresh element command \n * \n * @param {Editor} editor - editor instance \n * @param {Array} args - command parameters \n */\nexport default function refreshElement (editor, current) {\n    // 화면 사이즈 조정         \n    editor.emit('refreshSelectionStyleView', current)\n\n    // 화면 레이아웃 재정렬 \n    editor.emit('refreshElementBoundSize', editor.selection.getRootItem(current))\n}","/**\n * refresh element command \n * \n * @param {Editor} editor - editor instance \n * @param {Array} args - command parameters \n */\nexport default function refreshProject (editor, current) {\n    editor.emit('refreshStyleView', current, true);\n}","import _doForceRefreshSelection from \"./_doForceRefreshSelection\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport default function resizeArtBoard (editor, size = '') {\n    var current = editor.selection.current;\n    if (current && current.is('artboard')) {\n\n        if (!size.trim()) return;\n\n        var [width, height] = size.split('x')\n\n        width = Length.px(+width);\n        height = Length.px(+height);\n\n        current.reset({ width, height });\n        editor.selection.select(current);\n\n        _doForceRefreshSelection(editor);\n    }\n}","import { Editor } from \"el/editor/manager/Editor\";\n\nexport default {\n    command: 'updateClipPath',\n    description: 'update clip-path property ',\n    /**\n     * \n     * @param {Editor} editor \n     * @param {object} pathObject \n     * @param {string} pathObject.d    svg path 문자열 \n     */\n    execute: function (editor, pathObject) {\n\n        // d 속성 (path 문자열) 을 설정한다. \n        editor.command('setAttributeForMulti', 'change clip-path', editor.selection.packByValue({\n            'clip-path': `path(${pathObject.d})`,\n        }))\n    }\n\n}","import { isObject, isFunction } from \"el/sapa/functions/func\";\nimport commands from \"../commands\";\n\nexport class CommandManager {\n    constructor(editor) {\n        this.$editor = editor;\n        this.promiseProxy = \n        this.localCommands = {};\n        this.loadCommands();\n\n        return new Proxy(this, {\n            get: (target, key) => {\n                var originMethod = target[key];\n                if (isFunction(originMethod)) {\n                  // method tracking\n                  return (...args) => {\n                    return originMethod.apply(target, args);\n                  };\n                } else {\n                    return this.makePromiseEvent(key);\n                }\n            }\n        })        \n    }\n\n\n    loadCommands() {\n        Object.keys(commands).forEach(command => {\n            if (isFunction(commands[command])) {\n                this.registerCommand(command, commands[command]);\n            } else {\n                this.registerCommand(commands[command])\n            }\n        })\n    }\n\n    /**\n     * command 를 등록한다. \n     * 등록 이후에 커맨드 실행 이후 종료시킬 함수를 리턴해준다. \n     * 종료를 하게 되면 command 에서 빠지게 된다. \n     * \n     * @returns {Function} dispose callback \n     */\n    registerCommand(command, commandCallback) {\n\n        if (this.localCommands[command]) {\n            throw new Error(`command ${command} is already registered`);\n        }\n\n        if (arguments.length === 2) {\n            const callback = (...args) => {\n                const result = commandCallback.call(this, this.$editor, ...args);\n                this.$editor.debug('command execute', this, ...args)\n\n                return result; \n            }\n            callback.source = command;\n\n            // local command 에 등록 \n            this.localCommands[command] = callback;            \n\n            return this.$editor.on(command, callback, this, 0);\n\n        } else if (isObject(command)) {     // command object { command, title, description, debounce, execute }\n            const callback = (...args) => {\n                const result = command.execute.call(command, this.$editor, ...args);\n                this.$editor.debug('command execute', command, ...args)\n\n                return result;\n            }\n            callback.source = command.command;\n\n            // local command 에 등록 \n            this.localCommands[command.command] = callback;            \n\n            return this.$editor.on(command.command, callback, this, command.debounce || 0);\n        }\n\n    }\n\n    getCallback(command) {\n        return this.localCommands[command];\n    }\n\n    makePromiseEvent(command) {\n        const callback = this.getCallback(command);\n\n        if (callback) {\n            return (...args) => new Promise((resolve) => {\n                resolve(callback(...args));\n            })\n        }\n    }    \n}","let osInfo = {\n    name: undefined\n};\n\nexport function os() {\n    if (osInfo.name === undefined) {\n        if (navigator.appVersion.indexOf(\"Win\") != -1) osInfo.name = 'win';\n        else if (navigator.appVersion.indexOf(\"Mac\") != -1) osInfo.name = 'mac'; \n        else if (navigator.appVersion.indexOf(\"X11\") != -1) osInfo.name = 'linux';\n        else osInfo.name = \"\"; \n    }\n\n    return osInfo.name;\n}","export default {\n    category: 'Edit',\n    key: 'cmd+c',\n    command: 'clipboard.copy',\n    description: 'Copy objects',\n    when: 'CanvasView'\n}","import clipboardCopy from \"./clipboard.copy\";\nimport clipboardPaste from \"./clipboard.paste\";\nimport itemMoveShiftLeft from \"./item.move.shift.left\";\nimport itemMoveKeyLeft from \"./item.move.key.left\";\nimport itemMoveKeyRight from \"./item.move.key.right\";\nimport itemMoveKeyDown from \"./item.move.key.down\";\nimport itemMoveKeyUp from \"./item.move.key.up\";\nimport itemMoveShiftDown from \"./item.move.shift.down\";\nimport itemMoveShiftRight from \"./item.move.shift.right\";\nimport itemMoveShiftUp from \"./item.move.shift.up\";\nimport itemMoveAltLeft from \"./item.move.alt.left\";\nimport itemMoveAltDown from \"./item.move.alt.down\";\nimport itemMoveAltRight from \"./item.move.alt.right\";\nimport itemMoveAltUp from \"./item.move.alt.up\";\nimport removeLayer from \"./removeLayer\";\nimport segmentMoveKeyDown from \"./segment.move.key.down\";\nimport segmentMoveKeyUp from \"./segment.move.key.up\";\nimport segmentMoveKeyRight from \"./segment.move.key.right\";\nimport segmentMoveKeyLeft from \"./segment.move.key.left\";\nimport segmentMoveShiftDown from \"./segment.move.shift.down\";\nimport segmentMoveShiftUp from \"./segment.move.shift.up\";\nimport segmentMoveShiftLeft from \"./segment.move.shift.left\";\nimport segmentMoveAltDown from \"./segment.move.alt.down\";\nimport segmentMoveAltUp from \"./segment.move.alt.up\";\nimport segmentMoveAltLeft from \"./segment.move.alt.left\";\nimport segmentMoveAltRight from \"./segment.move.alt.right\";\nimport segmentMoveShiftRight from \"./segment.move.shift.right\";\nimport segmentDelete from \"./segment.delete\";\nimport scaleMinus from \"./scale.minus\";\nimport scalePlus from \"./scale.plus\";\nimport addRect from \"./add.rect\";\nimport selectView from \"./select.view\";\nimport addRectM from \"./add.rect.m\";\nimport addCircle from \"./add.circle\";\nimport addCircleL from \"./add.circle.l\";\nimport addText from \"./add.text\";\nimport addPath from \"./add.path\";\nimport addBrush from \"./add.brush\";\nimport itemMoveDepthUp from \"./item.move.depth.up\";\nimport itemMoveDepthDown from \"./item.move.depth.down\";\nimport removeLayerByDeleteKey from \"./removeLayerByDeleteKey\";\nimport groupItem from \"./group.item\";\nimport ungroupItem from \"./ungroup.item\";\nimport historyUndo from \"./history.undo\";\nimport historyRedo from \"./history.redo\";\nimport addArtboard from \"./add.artboard\";\nimport setToolHand from \"./set.tool.hand\";\nimport itemRotateMetaLeft from \"./item.rotate.meta.left\";\nimport itemRotateMetaRight from \"./item.rotate.meta.right\";\n\n\n\nexport default [\n    // history \n    historyUndo,\n    historyRedo,\n\n    setToolHand,\n    itemRotateMetaLeft,\n    itemRotateMetaRight,    \n    \n    // add layer \n    selectView,\n    addArtboard,\n    addRect,\n    addRectM,\n    addCircle,\n    addCircleL,\n    addText,\n    addPath,\n    addBrush,\n\n    groupItem,\n    ungroupItem,\n\n    // move segment by arrow key \n    segmentMoveKeyDown,\n    segmentMoveKeyUp,\n    segmentMoveKeyRight,\n    segmentMoveKeyLeft,\n\n    segmentMoveShiftDown,\n    segmentMoveShiftUp,\n    segmentMoveShiftLeft,\n    segmentMoveShiftRight,\n\n    segmentMoveAltDown,\n    segmentMoveAltUp,\n    segmentMoveAltLeft,\n    segmentMoveAltRight,\n\n    segmentDelete,\n\n    // move item by arrow key \n    itemMoveKeyLeft,\n    itemMoveKeyRight,\n    itemMoveKeyDown,\n    itemMoveKeyUp,\n\n    // move item by shift key\n    itemMoveShiftDown,\n    itemMoveShiftRight,\n    itemMoveShiftUp,\n    itemMoveShiftLeft,\n\n    // move item by alt key\n    itemMoveAltLeft,\n    itemMoveAltDown,\n    itemMoveAltRight,\n    itemMoveAltUp,\n\n    itemMoveDepthUp,\n    itemMoveDepthDown,    \n\n    // \n    removeLayer,\n    removeLayerByDeleteKey,\n\n    // zoom\n    scaleMinus,\n    scalePlus,    \n\n    // clipboard \n    clipboardCopy,\n    clipboardPaste\n]","export default {\n    category: 'History',        \n    key: 'cmd+z',\n    win: 'ctrl+z',\n    command: 'history.undo',\n    description: 'undoing in history',\n    when: 'CanvasView'\n}","export default {\n    category: 'History',        \n    key: 'cmd+shift+z',\n    win: 'ctrl+shift+z',\n    command: 'history.redo',\n    description: 'redoing in history',\n    when: 'CanvasView'\n}","export default {\n    category: 'Tools',            \n    key: 'h',\n    command: 'toggleToolHand',\n    description: 'set hand tool on',\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Meta+ArrowLeft',\n    command: 'rotateLayer',\n    description: 'rotate to left',\n    args: [-5],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Meta+ArrowRight',\n    command: 'rotateLayer',\n    description: 'rotate to right',\n    args: [5],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Tool',    \n    key: 'v',\n    command: 'addLayerView', \n    args: 'select',\n    description: 'Selection',\n}","export default {\n    category: 'Tool',    \n    key: 'a',\n    command: 'addLayerView', \n    args: ['artboard'],\n    description: 'Add ArtBoard',\n    when: 'CanvasView'\n}","export default {\n    category: 'Tool',    \n    key: 'r',\n    command: 'addLayerView', \n    args: ['rect'],\n    description: 'Add rect layer',\n}","export default {\n    category: 'Tool',    \n    key: 'm',\n    command: 'addLayerView', \n    args: ['rect'],\n    description: 'Add rect layer',\n}","export default {\n    category: 'Tool',\n    key: 'o',\n    command: 'addLayerView', \n    args: ['circle'],\n    description: 'Add circle layer',\n}","export default {\n    category: 'Tool',    \n    key: 'l',\n    command: 'addLayerView', \n    args: ['circle'],\n    description: 'Add circle layer',\n}","export default {\n    category: 'Tool',\n    key: 't',\n    command: 'addLayerView', \n    args: ['text'],\n    description: 'Add text layer',\n}","export default {\n    category: 'Tool',    \n    key: 'p',\n    command: 'addLayerView', \n    args: ['path'],\n    description: 'Add SVG Path layer',\n}","export default {\n    category: 'Tool',\n    key: 'b',\n    command: 'addLayerView', \n    args: ['brush'],\n    description: 'Draw SVG Path',\n}","export default {\n    category: 'Group',    \n    key: 'cmd+g',\n    win: 'ctrl+g',\n    command: 'group.item',\n    description: 'Grouping selected items',\n    when: 'CanvasView'\n}","export default {\n    category: 'Group',        \n    key: 'shift+cmd+g',\n    win: 'shift+ctrl+g',\n    command: 'ungroup.item',\n    description: 'Ungrouping selected group layer',\n    when: 'CanvasView'\n}","export default {\n    category: 'Path',        \n    key: 'ArrowDown',\n    command: 'segment.move.down',\n    description: 'move 1px to down',\n    args: [{ dy: 1 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'ArrowUp',\n    command: 'segment.move.up',\n    description: 'move 1px to up',\n    args: [{ dy: 1 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'ArrowRight',\n    command: 'segment.move.right',\n    description: 'move 1px to right',\n    args: [{ dx: 1 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'ArrowLeft',\n    command: 'segment.move.left',\n    description: 'move 1px to left',\n    args: [{ dx: 1 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Shift+ArrowDown',\n    command: 'segment.move.down',\n    description: 'move 10px to down',\n    args: [{ dy: 10 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Shift+ArrowUp',\n    command: 'segment.move.up',\n    description: 'move 10px to up',\n    args: [{ dy: 10 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Shift+ArrowLeft',\n    command: 'segment.move.left',\n    description: 'move 10px to left',\n    args: [{ dx: 10 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Shift+ArrowRight',\n    command: 'segment.move.right',\n    description: 'move 10px to right',\n    args: [{ dx: 10 }],    \n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Alt+ArrowDown',\n    command: 'segment.move.down',\n    description: 'move 5px to down',\n    args: [{ dy: 5 }],\n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Alt+ArrowUp',\n    command: 'segment.move.up',\n    description: 'move 5px to up ',\n    args: [{ dy: 5 }],\n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Alt+ArrowLeft',\n    command: 'segment.move.left',\n    description: 'move 5px to left',\n    args: [{ dx: 5 }],\n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',        \n    key: 'Alt+ArrowRight',\n    command: 'segment.move.right',\n    description: 'move 5px to right',\n    args: [{ dx: 5 }],\n    when: 'PathEditorView'\n}","export default {\n    category: 'Path',    \n    key: 'Backspace',\n    command: 'segment.delete',\n    description: 'Delete selected segment',\n    when: 'PathEditorView'\n}","export default {\n    category: 'Layer',            \n    key: 'ArrowLeft',\n    command: 'moveLayer',\n    description: 'move 1px to left',\n    args: [-1, 0],\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'ArrowRight',\n    command: 'moveLayer',\n    description: 'move 1px to right',\n    args: [1, 0],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'ArrowDown',\n    command: 'moveLayer',\n    description: 'move 1px to down',\n    args: [0, 1],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'ArrowUp',\n    command: 'moveLayer',\n    description: 'move 1px to up',\n    args: [0, -1],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Shift+ArrowDown',\n    command: 'moveLayer',\n    description: 'move 10px to down',\n    args: [0, 10],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Shift+ArrowRight',\n    command: 'moveLayer',\n    description: 'move 10px to right',\n    args: [10, 0],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Shift+ArrowUp',\n    command: 'moveLayer',\n    description: 'move 10px to up',\n    args: [0, -10],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Shift+ArrowLeft',\n    command: 'moveLayer',\n    description: 'move 10px to left',\n    args: [-10, 0],\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Alt+ArrowLeft',\n    command: 'moveLayer',\n    description: 'move 5px to left',\n    args: [-5, 0],\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Alt+ArrowDown',\n    command: 'moveLayer',\n    description: 'move 5px to down',\n    args: [0, 5],\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Alt+ArrowRight',\n    command: 'moveLayer',\n    description: 'move 5px to right',\n    args: [5, 0],\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Alt+ArrowUp',\n    command: 'moveLayer',\n    description: 'move 5px to up',\n    args: [0, -5],\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'ctrl+]',\n    command: 'item.move.depth.up',\n    description: 'move layer to above',\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'ctrl+[',\n    command: 'item.move.depth.down',\n    description: 'move layer to below',\n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',        \n    key: 'Backspace',\n    command: 'history.removeLayer',\n    description: 'Delete selected items',\n    args: ['Delete selected items'],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Layer',            \n    key: 'Delete',\n    command: 'history.removeLayer',\n    description: 'Delete selected items',\n    args: ['Delete selected items'],    \n    when: 'CanvasView'\n}","export default {\n    category: 'Tool',\n    key: 'Minus',\n    command: 'scale.minus', \n    description: 'Minus scale',\n    when: 'CanvasView'\n}","export default {\n    category: 'Tool',    \n    key: 'Equal',\n    command: 'scale.plus', \n    description: 'Plus scale',\n    when: 'CanvasView'\n}","export default {\n    category: 'Edit',    \n    key: 'cmd+v',\n    win: 'ctrl+v',\n    command: 'clipboard.paste',\n    description: 'Paste selected objects',\n    when: 'CanvasView'\n}","\n\nexport const KEY_CODE = {\n    'backspace':    0x08, // 8\n    'tab':          0x09, // 9\n    'enter':        0x0D, // 13 \n    'escape':       0x1B, // 27 \n    'space':        0x20, // 32 \n    'pageup':       0x21, // 33\n    'pagedown':     0x22, // 34\n    'end':          0x23, // 35\n    'home':         0x24, // 36\n    'left':         0x25, // 37\n    'up':           0x26, // 38\n    'right':        0x27, // 39\n    'down':         0x28, // 40\n    'insert':       0x2D, // 45\n    'delete':       0x2E, // 46\n\n    '0':            0x30, // 49\n    '1':            0x31, // 50\n    '2':            0x32, // 51\n    '3':            0x33, // 52\n    '4':            0x34, // 53\n    '5':            0x35, // 54\n    '6':            0x36, // 55\n    '7':            0x37, // 56\n    '8':            0x38, // 57\n    '9':            0x39, // 58\n\n    'semicolon':    0x3B, // 59\n    'equals':       0x3D, // 61\n\n    'a':            0x41, // 65\n    'b':            0x42, // 66\n    'c':            0x43, // 67\n    'd':            0x44, // 68\n    'e':            0x45, // 69\n    'f':            0x46, // 70\n    'g':            0x47, // 71\n    'h':            0x48, // 72\n    'i':            0x49, // 73\n    'j':            0x4A, // 74\n    'k':            0x4B, // 75\n    'l':            0x4C, // 76\n    'm':            0x4D, // 77\n    'n':            0x4E, // 78\n    'o':            0x4F, // 79\n    'p':            0x50, // 80\n    'q':            0x51, // 81\n    'r':            0x52, // 82\n    's':            0x53, // 83\n    't':            0x54, // 84\n    'u':            0x55, // 85\n    'v':            0x56, // 86\n    'w':            0x57, // 87\n    'x':            0x58, // 88\n    'y':            0x59, // 89\n    'z':            0x5A, // 90\n\n    'multiply':     0x6A, // 106 , * \n    'add':          0x6B, // 107 , \"+\"\n    'subtract':     0x6D, // 109 , \"-\" \n    'divide':       0x6F, // 111 , \"/\"\n\n    'f1':           0x70, // 112 \n    'f2':           0x71, // 113 \n    'f3':           0x72, // 114 \n    'f4':           0x73, // 115 \n    'f5':           0x74, // 116 \n    'f6':           0x75, // 117 \n    'f7':           0x76, // 118 \n    'f8':           0x77, // 119 \n    'f9':           0x78, // 120 \n    'f10':          0x79, // 121 \n    'f11':          0x7A, // 122 \n    'f12':          0x7B, // 123 \n    'f13':          0x7C, // 124 \n    'f14':          0x7D, // 125 \n    'f15':          0x7E, // 126 \n    'f16':          0x7F, // 127 \n    'f17':          0x80, // 128 \n    'f18':          0x81, // 129 \n    'f19':          0x82, // 130 \n\n    'comma':        0xBC, // 188\tComma (\",\") key.\n    ',':            0xBC, // 188\tComma (\",\") key.\n    'period':       0xBE, // 190\tPeriod (\".\") key.\n    '.':            0xBE, // 190\tPeriod (\".\") key.\n    'slash':        0xBF, // 191\tSlash (\"/\") key.\n    '/':            0xBF, // 191\tSlash (\"/\") key.\n    'backquote':    0xC0, // 192\tBack tick (\"`\") key.\n    '`':            0xC0, // 192\tBack tick (\"`\") key.\n    'openbracket':  0xDB, // 219\tOpen square bracket (\"[\") key.\n    '[':            0xDB, // 219\tOpen square bracket (\"[\") key.\n    'backslash':    0xDC, // 220\tBack slash (\"\\\") key.\n    \"\\\\\":           0xDC, // 220\tBack slash (\"\\\") key.\n    'closebracket': 0xDD, // 221\tClose square bracket (\"]\") key.\n    ']':            0xDD, // 221\tClose square bracket (\"]\") key.\n    \"quote\":        0xDE, // 222\tQuote (''') key.\n    \"'\":            0xDE, // 222\tQuote (''') key.\n    \"altgr\":        0xE1, // 225\tAltGr key (Level 3 Shift key or Level 5 Shift key) on Linux.\n}","import { os } from \"el/utils/detect\";\nimport shortcuts from \"../shortcuts\";\nimport { KEY_CODE } from \"el/editor/types/key\";\nimport { isArray, isBoolean } from \"el/sapa/functions/func\";\n\n\nfunction joinKeys (...args) {\n    return args.filter(Boolean).join('+')\n}\n\nfunction generateKeyCode (code) {\n    return KEY_CODE[`${code}`.toLowerCase()] || code; \n}\n\nexport class ShortCutManager {\n    constructor (editor) {\n        this.$editor = editor;\n\n        this.loadShortCuts();\n    }\n\n    getGeneratedKeyCode (code) {\n        return generateKeyCode(code);\n    }\n   \n    loadShortCuts() {\n        this.list = []\n        this.commands = {}        \n        shortcuts.forEach(shortcut => {\n            this.registerShortCut(shortcut);\n        })\n\n        this.sort()\n    }   \n\n    registerShortCut (shortcut) {\n\n        const OSName = os()\n\n        this.list.push({\n            key: '',\n            command: '',\n            args: [],\n            eventType: 'keydown',\n            ...shortcut, \n            checkKeyString: this.splitShortCut(shortcut[OSName] || shortcut.key),\n            whenFunction: this.makeWhenFunction(shortcut.command, shortcut.when || true) \n        });\n\n        this.sort();\n\n    }\n\n    makeWhenFunction(command, when) {\n\n        if (isBoolean(when) && when) {\n            return () => true; \n        }\n\n        const editor = this.$editor;\n        const whenList = when.split('|').map(it => it.trim());\n        return () => {\n            return whenList.some(it => editor.modeViewManager.isCurrentMode(it));\n        }\n    }\n\n    sort() {\n        this.commands = {}\n        this.list.forEach(it => {\n            if (Array.isArray(this.commands[it.checkKeyString]) === false) {\n                this.commands[it.checkKeyString] = []\n            }\n\n            this.commands[it.checkKeyString].push(it);\n        })\n    }\n\n    splitShortCut (key) {\n        var arr = key.toUpperCase().split('+').map(it => it.trim()).filter(Boolean);\n\n        let isAlt = false;\n        let isControl = false;\n        let isShift = false;\n        let isMeta = false;\n        let restKeys = []\n        arr.forEach(key => {\n            if (key.includes('ALT')) isAlt = true; \n            else if (key.includes('CTRL')) isControl = true; \n            else if (key.includes('SHIFT')) isShift = true; \n            else if (key.includes('CMD') || key.includes('WIN') || key.includes('META')) isMeta = true; \n            else restKeys.push(key);\n        })\n\n        return joinKeys(\n            isAlt       ? 'ALT'     : '',\n            isControl   ? 'CTRL'    : '',\n            isShift     ? 'SHIFT'   : '',\n            isMeta      ? 'META'    : '',\n            generateKeyCode(restKeys.join(''))\n        );\n    }\n\n    makeKeyString(e) {\n        return joinKeys(\n            e.altKey    ? 'ALT'     : '',\n            e.ctrlKey   ? 'CTRL'    : '',\n            e.shiftKey  ? 'SHIFT'   : '',\n            e.metaKey   ? 'META'    : '',\n            e.key.toUpperCase()\n        )\n    }\n\n    makeCodeString(e) {\n        return joinKeys(\n            e.altKey    ? 'ALT'     : '',\n            e.ctrlKey   ? 'CTRL'    : '',\n            e.shiftKey  ? 'SHIFT'   : '',\n            e.metaKey   ? 'META'    : '',\n            e.code.toUpperCase()\n        )   \n    }    \n\n    makeKeyCodeString(e) {\n        return joinKeys(\n            e.altKey    ? 'ALT'     : '',\n            e.ctrlKey   ? 'CTRL'    : '',\n            e.shiftKey  ? 'SHIFT'   : '',\n            e.metaKey   ? 'META'    : '',\n            e.keyCode\n        )\n    }        \n\n    checkShortCut (keyCodeString, keyString, codeString) {\n        return this.commands[keyCodeString] || this.commands[keyString] || this.commands[codeString]\n    }\n\n    checkWhen(command) {\n        return command.whenFunction();\n    }\n\n    execute (e, eventType = 'keydown') {\n        let commands = this.checkShortCut(\n            this.makeKeyCodeString(e), \n            this.makeKeyString(e), \n            this.makeCodeString(e)\n        )\n\n        if (commands) {\n            const filteredCommands = commands.filter(it => it.eventType === eventType)\n                                             .filter(it => this.checkWhen(it));\n\n            if (filteredCommands.length) {\n                e.preventDefault();\n            }\n            filteredCommands.forEach(it => {\n                this.$editor.emit(it.command, ...it.args);\n            })\n        }\n    }\n}","export class ConfigManager {\n\n    constructor (editor) {\n        this.editor = editor;\n        this.configList = [];\n        this.config = new Map();\n\n        // this.load();\n    }\n\n    load () {\n        const obj = this.editor.loadItem('config') || {};\n\n        Object.keys(obj).forEach(key => {\n            this.config.set(key, obj[key]);\n        })\n\n    }\n    \n    /**\n     *  key 에 해당하는 config 를 가지고 온다. \n     * \n     * todo: config default 값을 설정할 수 있어야 한다. \n     * \n     * ```js\n     * config {\n     *  ['set.tool.hand']: {\n     *      name: 'set.tool.hand',\n     *      description: '', \n     *      defaultValue: '',\n     *       type: 'boolean',\n     *      type: 'list',\n     *      selectionType: 'one',\n     *      items: [\n     *          'value',\n     *          {value: '1', label: 'value' }\n     *      ]\n     *  }\n     * }\n     * ```\n     * \n     * @param {string} key \n     */\n    get (key) {\n        if (this.config.has(key) === false) {\n           this.config.set(key, this.configList.find(it => it.key == key)?.defaultValue);\n        }\n\n        return this.config.get(key);\n    }\n\n    set (key, value, isSave = true) {\n        const oldValue = this.config.get(key);\n\n        if (oldValue !== value) {\n            //todo: type 체크\n            this.config.set(key, value); \n            this.editor.emit(\"config:\" + key, value, oldValue);\n\n            if (isSave) {\n                this.save();\n            }\n        }\n    }\n\n    init (key, value) {\n        this.set(key, value, false);\n    }\n\n    save () {\n        const obj = {};\n\n\n        this.configList.filter(it => it.storage !== 'none').forEach(it => {\n            obj[it.key] = this.get(it.key);\n        });\n\n        this.editor.saveItem('config', obj);\n    }\n\n    setAll (obj) {\n        Object.keys(obj).forEach(key => {\n            this.set(key, obj[key])\n        })\n    }\n\n    getType(key) {\n        return this.configList.find(it => it.key == key)?.type;\n    }\n\n    isType (key, type) {\n        return this.getType(key) === type;\n    }\n\n    isBoolean(key) {\n        return this.isType(key, 'boolean');\n    }\n\n    toggle(key) {\n        if (this.isBoolean(key)) {\n            this.set(key, !this.get(key));\n        }\n    }\n\n    true(key) {\n        return this.get(key) === true;\n    }\n\n    false(key) {\n        return this.get(key) === false;\n    }\n\n    /**\n     * key 에 해당하는 config 의 값을 비교한다.\n     * \n     * \n     * @param {string} key \n     * @param {any} value \n     * @returns {boolean}\n     */\n    is(key, value) {\n        return this.get(key) === value;\n    }\n\n    remove (key) {\n        this.config.delete(key);\n        this.editor.emit(\"config:\" + key);        \n    }\n\n\n    /**\n     * config 기본 설정을 등록한다. \n     * \n     * @param {Object} config \n     * @param {string} config.type config key 자료형 \n     * @param {string} config.key config key 이름 \n     * @param {any} config.defaultValue config key 기본 값 \n     * @param {string} config.title config key 제목 \n     * @param {string} config.description config key 설명  \n     */ \n    registerConfig (config) {\n        this.config.set(config.key, config.defaultValue);\n        this.configList.push(config);\n    }\n}","export class HistoryManager {\n    constructor(editor) {\n        this.$editor = editor;\n\n        this.currentIndex = -1;\n        this.undoHistories = []\n        this.redoHistories = []\n        this.selection = {}\n    }\n\n    get length() {\n        return this.undoHistories.length;\n    }\n\n    get selectedIds() {\n        return Object.keys(this.selection);\n    }\n\n    createCommand(commandString) {\n        return this.$editor.isPointerUp ? `history.${commandString}` : commandString;\n    }\n\n    saveSelection(obj = {}) {\n        this.selection = this.$editor.selection.toCloneObject()\n    }\n\n    getUndoValues(attrs = {}) {\n        let result = {}\n\n        Object.keys(this.selection).forEach(id => {\n            result[id] = {}\n\n            Object.keys(attrs).forEach(key => {\n                result[id][key] = this.selection[id][key]\n            })\n        })\n\n        return result;\n    }\n\n    getUndoValuesForMulti(multiAttrs = {}) {\n        let result = {}\n\n        Object.keys(multiAttrs).forEach(id => {\n            result[id] = {}\n\n            const selectedObject = this.selection[id] || this.$editor.selection.itemsByIds(id)[0];\n            const attrs = multiAttrs[id];\n\n            Object.keys(attrs).forEach(key => {\n                result[id][key] = selectedObject[key]\n            })\n        })\n\n        return result;\n    }\n\n    /**\n     * \n     * @param {string} message \n     * @param {CommandObject} command \n     * @param {{currentValues: any, undoValues: any, redoValues: any}} data \n     */\n    add(message, command, data) {\n        const time = performance.now();\n        const lastUndoObject = this.undoHistories[this.undoHistories.length - 1];\n        const historyObject = { message, command, data, time }\n\n        if (lastUndoObject && \n            lastUndoObject.message === message && \n            time - lastUndoObject.time < this.$editor.config.get('history.delay.ms')\n        ) {\n            // 같은 메시지를 입력한 경우\n            // 이전 history 와 현재 히스토리 등록 시간의 차이가 1초 미만일 때 \n            // 마지막 메세지로 대체한다. \n            this.undoHistories[this.undoHistories.length - 1] = historyObject;\n\n        } else {\n            this.undoHistories.push(historyObject)\n            this.currentIndex++;\n            this.undoHistories.length = this.currentIndex + 1;\n\n        }\n\n        this.$editor.emit('refreshHistory', command.command);\n\n        return historyObject;\n    }\n\n    /**\n     * undo, redo 히스토리 리스트를 만든다. \n     * \n     * @param {Function} callback \n     */\n    map(callback) {\n        let results = [...this.undoHistories.map(callback), '-', ...this.redoHistories.map(callback)].reverse()\n\n        return results;\n    }\n\n    /**\n     * undo 를 수행한다. \n     */\n    undo() {\n        if (this.currentIndex < -1) return;\n\n        if (this.currentIndex === this.length) {\n            this.currentIndex--;\n        }\n\n        const commandObject = this.undoHistories[this.currentIndex]\n\n        if (commandObject && commandObject.command) {\n\n            // undo 실행 \n            commandObject.command.undo(this.$editor, commandObject.data)\n\n            // 이전 index 로 이동 \n            this.currentIndex--;           \n            // this.redoHistories.unshift(commandObject);\n            this.$editor.nextTick(() => {\n                this.$editor.emit('refreshHistory', commandObject.command);\n            })            \n        }\n\n    }\n\n    /**\n     * redo를 수행한다.\n     */\n    redo() {\n        if (this.currentIndex > this.length) return;\n\n        // currentIndex 가 -1 부터 시작하기 때문에 ++this.currentIndex 로 index 를 하나 올리고 시작한다. \n        if (this.currentIndex < 0) {\n            this.currentIndex++;\n        }\n        const commandObject = this.undoHistories[this.currentIndex]\n\n        if (commandObject && commandObject.command) {\n\n            // 현재 위치 command redo 실행 후 index 다음 커맨드로 맞추기 \n            // [5] 번 command 가 redo 가 된 후 [6] 을 redo 할 수 있도록 index 를 맞춘다. \n            this.currentIndex++;\n\n            commandObject.command.redo(this.$editor, commandObject.data)\n            this.$editor.debug(commandObject)\n\n            this.$editor.nextTick(() => {\n                this.$editor.emit('refreshHistory', commandObject.command);\n            })            \n        }\n\n    }\n\n}","import { toRectVertiesWithoutTransformOrigin } from \"el/utils/collision\";\nimport { isNotZero } from \"el/sapa/functions/func\";\nimport { vec3 } from \"gl-matrix\";\n\nconst MAX_SNAP_DISTANCE = 3;\nconst DEFAULT_DIST_VECTOR = vec3.fromValues(0, 0, 0)\nconst AXIS_X = 'x';\nconst AXIS_Y = 'y';\n\nfunction checkXAxis(sourceVertex, targetVertex) {\n    return Math.abs(sourceVertex[0] - targetVertex[0]) < 1;\n}\n\nfunction checkYAxis(sourceVertex, targetVertex) {\n    return Math.abs(sourceVertex[1] - targetVertex[1]) < 1;\n}\n\nfunction checkZAxis(sourceVertex, targetVertex) {\n    return Math.abs(sourceVertex[2] - targetVertex[2]) < 1;\n}\n\n\n/**\n * 드래그 하는 시점에 객체의 verties 를 캐쉬해두는 역할을 한다. \n * \n * @class SnapManager\n */\nexport class SnapManager {\n\n    /**\n     * \n     * @param {Editor} editor \n     */\n    constructor(editor, snapDistance = MAX_SNAP_DISTANCE) {\n        this.editor = editor;\n        this.map = new Map();\n        this.snapTargetLayers = []\n        this.snapDistance = snapDistance;\n    }\n\n    get dist() {\n        return this.editor.config.get('snap.distance') || this.snapDistance;\n    }\n\n    get gridSize() {\n        return this.editor.config.get('snap.grid') || 50;\n    }\n\n    /**\n     * 캐쉬된 item들의 matrix 정보를 삭제한다.\n     */\n    clear() {\n        this.snapTargetLayers = this.editor.selection.snapTargetLayers.map(it => {\n            return this.convertMatrix(it);\n        });\n    }\n\n\n    convertMatrix(item) {\n        const verties = this.convertGuideAndPathMatrix(item);\n        const xList = verties.map(it => it[0]);\n        const yList = verties.map(it => it[1]);\n\n        return { id: item.id, xList, yList, verties, rectVerties: toRectVertiesWithoutTransformOrigin(item.originVerties) };\n    }\n\n    /**\n     * 가이드, path 포인트 구하기 \n     * \n     * @param {MovableItem} item \n     * @returns {vec3[]}\n     */\n    convertGuideAndPathMatrix(item) {\n        const guideVerties = item.guideVerties;\n        // const pathVerties = item.pathVerties();\n\n        return [...guideVerties];\n    }\n\n    /**\n     * snap 포인트 모으기 \n     * \n     * @returns {vec3[]}\n     */\n    getSnapPoints() {\n        const points = []\n        this.editor.selection.snapTargetLayersWithSelection.forEach(it => {\n            points.push.apply(points, this.convertGuideAndPathMatrix(it));\n        });\n\n        return points;\n    }\n\n    checkX(targetXList, sourceXList, dist = 0) {\n\n        const checkXList = []\n\n        // 객체간의 우선 순위가 먼저         \n        targetXList.forEach((targetX, targetIndex) => {\n            sourceXList.forEach((sourceX, sourceIndex) => {\n\n                const localDistX = targetX - sourceX\n                const localGridDistX = this.gridSize - (Math.abs(sourceX) % this.gridSize);\n                if (Math.abs(localDistX) <= dist) {\n                    checkXList.push({ targetX, sourceX, sourceIndex, targetIndex, dx: localDistX })\n                } else if (Math.abs(localGridDistX) <= dist) {\n                    checkXList.push({ targetX, sourceX, sourceIndex, targetIndex, dx: localGridDistX })\n                }\n            })\n        })\n\n        return checkXList;\n    }\n\n    checkY(targetYList, sourceYList, dist = 0) {\n\n        const checkYList = []\n\n        targetYList.forEach((targetY, targetIndex) => {\n            sourceYList.forEach((sourceY, sourceIndex) => {\n\n                const localDistY = targetY - sourceY\n\n                if (Math.abs(localDistY) <= dist) {\n                    checkYList.push({ targetY, sourceY, sourceIndex, targetIndex, dy: localDistY })\n                }\n\n            })\n        })\n\n        return checkYList;\n    }\n\n    /**\n     * \n     * check target verties \n     * \n     * @param {vec3[]} sourceVerties \n     */\n    check(sourceVerties) {\n        const snaps = []\n        const dist = this.dist;\n        const sourceXList = sourceVerties.map(it => it[0])\n        const sourceYList = sourceVerties.map(it => it[1])\n\n        // 객체간의 우선 순위가 먼저\n        this.snapTargetLayers.forEach(target => {\n\n            const x = this.checkX(target.xList, sourceXList, dist)[0];\n            const y = this.checkY(target.yList, sourceYList, dist)[0];\n\n            snaps.push(vec3.fromValues(x ? x.dx : 0, y ? y.dy : 0, 0))\n        })\n\n        // // 그 다음에 x grid 체크 \n        // if (snaps.filter(it => it[0] !== 0).length === 0) {\n        //     sourceXList.forEach((sourceX) => {\n\n        //         const localGridDistX = this.gridSize - ((sourceX + 10000000000) % this.gridSize);\n        //         if (Math.abs(localGridDistX) <= dist) {\n        //             snaps.push(vec3.fromValues(localGridDistX, 0, 0))\n        //         }\n\n        //     })        \n        // }\n\n        // // 그 다음에 y grid 체크 \n        // if (snaps.filter(it => it[1] !== 0).length === 0) {\n        //     sourceYList.forEach((sourceY) => {\n        //         const localGridDistY = this.gridSize - ((sourceY + 10000000000) % this.gridSize);\n        //         if (Math.abs(localGridDistY) <= dist) {\n        //             snaps.push(vec3.fromValues(0, localGridDistY, 0))\n        //         }\n\n        //     })        \n        // }        \n\n        return snaps.find(it => isNotZero(it[0]) || isNotZero(it[1])) || DEFAULT_DIST_VECTOR\n    }\n\n    checkPoint(sourceVertex) {\n        const snap = this.check([sourceVertex])\n        return vec3.add([], sourceVertex, snap);\n    }\n\n    /**\n     * 점을 기준으로 가이드 라인 포인트 얻기 \n     * \n     * @param {vec3[]} sourceVerties \n     * @param {vec3[]} targetVerties \n     * @returns {Array} [sourceVertex, targetVertex, AXIS_X or AXIS_Y ]\n     */\n    getGuidesByPointPoint(sourceVerties, targetVerties) {\n        const points = []\n        const groupPoints = {};\n        let sourceVertex, targetVertex;\n        for (let sourceIndex = 0, sourceLength = sourceVerties.length; sourceIndex < sourceLength; sourceIndex++) {\n            sourceVertex = sourceVerties[sourceIndex];\n\n\n            const keyX = `${sourceVertex[0]}_x`\n            const keyY = `${sourceVertex[1]}_y`\n\n            if (!groupPoints[keyX]) {\n                groupPoints[keyX] = [];\n            }\n\n            if (!groupPoints[keyY]) {\n                groupPoints[keyY] = [];\n            }\n\n            for (let targetIndex = 0, targetLength = targetVerties.length; targetIndex < targetLength; targetIndex++) {\n                targetVertex = targetVerties[targetIndex];\n\n                // axis 가 정해지면 같은 그룹으로 묶는다. 거리(dist) 를 포함해서 \n                if (checkXAxis(sourceVertex, targetVertex)) {        // x 좌표가 같을 때 , y 는 다를 때 \n                    groupPoints[keyX].push([sourceVertex, targetVertex, AXIS_X, vec3.dist(sourceVertex, targetVertex)])\n                }\n\n                if (checkYAxis(sourceVertex, targetVertex)) {        // x 좌표가 같을 때 , y 는 다를 때 \n                    groupPoints[keyY].push([sourceVertex, targetVertex, AXIS_Y, vec3.dist(sourceVertex, targetVertex)])\n                }\n            }\n        }\n\n        // group으로 묶은 데이타 중에 최소 길이만 추출한다. \n        Object.keys(groupPoints).forEach(key => {\n            if (groupPoints[key] && groupPoints[key].length) {\n                const sorted = groupPoints[key].sort((a, b) => a[3] - b[3])\n                const [sourceVertex, targetVertex, axis] = sorted[0]\n\n                points.push([sourceVertex, targetVertex, axis])\n            }\n        })\n\n        return points;\n    }\n\n    findGuide(sourceVerties) {\n        const guides = []\n\n        this.snapTargetLayers.forEach(target => {\n\n            // vertex 대 vertex 를 기준으로 좌표 설정 \n            const points = this.getGuidesByPointPoint(sourceVerties, target.verties);\n\n            guides.push.apply(guides, points);\n        })\n\n        return guides;\n    }\n\n    findGuideOne(sourceVerties) {\n        return [this.findGuide(sourceVerties)[0]]\n    }\n\n}","/**\n * @class KeyBoardManager \n */\nexport class KeyBoardManager {\n    constructor (editor) {\n        this.editor = editor; \n        this.codeSet = new Set();\n        this.keyCodeSet = new Set();\n    }\n\n    /**\n     * 키 이벤트가 발생 했을 때 키, 키코드 추가 하기 \n     * \n     * @param {string} key \n     * @param {number} keyCode \n     */\n    add (key, keyCode) {\n\n        if (this.codeSet.has(key) === false) {\n            this.codeSet.add(key);\n        }\n\n        if (this.keyCodeSet.has(keyCode) === false) {\n            this.keyCodeSet.add(keyCode);\n        }\n\n    }\n\n    remove (key, keyCode) {\n        this.codeSet.delete(key);\n        this.keyCodeSet.delete(keyCode);\n    }\n\n    /**\n     * 눌러진 키 체크하기 \n     * @param {string|number} keyOrKeyCode \n     */\n    hasKey (keyOrKeyCode) {\n        return this.codeSet.has(keyOrKeyCode) || this.keyCodeSet.has(keyOrKeyCode)\n    }\n\n    /**\n     * key, keycode 가 눌러져있는지 체크 \n     * @param {string|number} keyOrKeyCode \n     */\n    check (...args) {\n        return args.some(keyOrKeyCode => this.hasKey(keyOrKeyCode))\n    }\n}","import { rectToVerties, rectToVertiesForArea } from \"el/utils/collision\";\nimport { calculateMatrix, calculateMatrixInverse, vertiesMap } from \"el/utils/math\";\nimport { mat4, vec3 } from \"gl-matrix\";\n\n/**\n * editor 의 viewport 를 관리한다. \n * \n * \n * @class ViewportManager \n */\nexport class ViewportManager {\n    constructor (editor) {\n        this.editor = editor; \n\n        this.canvasSize = null; \n        this.cachedViewport = rectToVerties(0, 0, 0, 0);\n        this.mouse = vec3.create()\n        this.scale = 1\n        this.translate = vec3.create(),\n        this.transformOrigin = vec3.create(),    \n        this.maxScale = 250; \n        this.minScale = 0.2;  \n        this.zoomFactor = 1; \n\n        this.resetWorldMatrix();            \n    }\n\n    /**\n     * transform origin 을 설정 \n     * \n     * @param {vec3} originVec \n     */\n    setTransformOrigin (originVec) {\n        this.transformOrigin = originVec;\n        this.resetWorldMatrix()\n    }\n\n    /**\n     * transformOrigin 을 설정하면서 translate 로 화면까지 옮김 \n     * \n     * @param {vec3} newOrigin \n     */\n    setTransformOriginWithTranslate (newOrigin) {\n        const oldOrigin = vec3.clone(this.transformOrigin);\n        this.setTransformOrigin(newOrigin);\n        this.setTranslate(vec3.add([], this.translate, vec3.subtract([], oldOrigin, newOrigin)));\n    } \n\n    /**\n     * scale 설정 \n     * \n     * @param {number} scale 0.3...5\n     */\n    setScale (scale) {\n        this.scale = Math.min(Math.max(this.minScale, scale), this.maxScale); \n        this.resetWorldMatrix()    \n    } \n    \n    /**\n     * viewport 이동 \n     * \n     * @param {vec3} translate \n     */\n    setTranslate (translate) {\n        this.translate = translate;\n        this.resetWorldMatrix()    \n    }\n\n    /**\n     * 2가지 기본 matrix 를 설정한다. \n     * \n     * 1. world matrix \n     * 2. scale matrix - 이동 간격을 계산할 때 주로 사용 \n     * \n     */\n    resetWorldMatrix () {\n\n        // css 에서 3자리 숫자만 지원하기 때문에 수치를 고정한다. \n        // 예를 들어 element.style.transformOrigin = \"300.3244324px 200.432332434px\"; 형태로 값을 설정해도 \n        // 실제로 적용되는 값은 \"300.3244px 200.4323px\" 로 적용 된다. \n        // 그렇기 때문에 화면상에서 그려지는 좌표랑 메모리(에디터) 상에서 가지고 있는 좌표랑 다른 결과가 나타난다. \n        // 이유는 scale 이 작을 때는 상관 없지만 커지면 커질 수록 소수점 이하의 숫자들의 계산 값이 달라지기 때문이다. \n        // 그래서 브라우저랑 비슷한 패턴으로 toFixed() 형태로 숫자를 맞춘다. \n        this.translate = this.translate.map(it => +it.toFixed(4));\n        this.transformOrigin = this.transformOrigin.map(it => +it.toFixed(4));\n        this.scale = +this.scale.toFixed(4);\n\n        this.matrix = calculateMatrix(\n            mat4.fromTranslation([], this.translate),\n            mat4.fromTranslation([], this.transformOrigin),\n            mat4.fromScaling([], [this.scale, this.scale, 1]),\n            mat4.fromTranslation([], vec3.negate([], this.transformOrigin))\n        ) \n        this.matrixInverse = mat4.invert([], this.matrix)\n\n        this.scaleMatrix = calculateMatrix(\n            mat4.fromScaling([], [this.scale, this.scale, 1]),\n        ) \n        this.scaleMatrixInverse = mat4.invert([], this.scaleMatrix)    \n\n        this.refresh();\n    }    \n\n    /**\n     * \n     * canvas 크기 재설정하기 \n     * \n     * window 의 크기가 바뀌거나 레이아웃이 바뀌면 전체 canvas의 크기도 같이 변경해준다. \n     * \n     * @param {object} rect \n     * @param {number} rect.x\n     * @param {number} rect.y\n     * @param {number} rect.width\n     * @param {number} rect.height\n     */\n    refreshCanvasSize (rect) {\n        \n        if (this.canvasSize) {\n    \n            this.canvasSize = {\n                x: rect.x ,\n                y: rect.y ,\n                width: rect.width,\n                height: rect.height \n            }\n\n            this.cachedViewport = rectToVerties(0, 0, this.canvasSize.width, this.canvasSize.height)\n            const newVerties = vec3.transformMat4(\n                [], \n                [this.canvasSize.width, this.canvasSize.height, 0], \n                this.scaleMatrixInverse\n            );\n\n            const newTransformOrigin = vec3.add(\n                [], \n                this.verties[0], \n                [newVerties[0]/2, newVerties[1]/2, 0]\n            )\n\n            // translate * translateOrigin * scale * -translateOrigin = translate? * translateOrigin * scale * translateOrigin\n            // matrix = translate? * translateOrigin * scale * -translateOrigin\n            // matrix = translate? * newTransformOriginMatrix\n            // matrix * -newTransformOriginMatrix = translate \n            const newTranslate = mat4.getTranslation([], calculateMatrix(\n                this.matrix, \n                calculateMatrixInverse(\n                    mat4.fromTranslation([], newTransformOrigin),\n                    this.scaleMatrix,\n                    mat4.invert([], mat4.fromTranslation([], newTransformOrigin)),\n                )\n            ))\n\n            this.setTranslate(newTranslate)            \n            this.setTransformOrigin(newTransformOrigin)            \n    \n        } else {\n            this.canvasSize = {\n                x: rect.x,\n                y: rect.y,\n                width: rect.width,\n                height: rect.height\n            }\n        \n            this.cachedViewport = rectToVerties(0, 0, this.canvasSize.width, this.canvasSize.height)\n    \n            this.setTransformOrigin([\n                this.canvasSize.width/2,\n                this.canvasSize.height/2,\n                0\n            ])\n        }\n        this.editor.emit('updateViewport')        \n    }\n\n    /**\n     * \n     * 마지막 시점의 translate, origin, scale 을 적용한 viewport 의 verties 를 생성한다.  \n     * \n     */\n    refresh () {\n\n        if (this.cachedViewport) {\n            this.verties = vertiesMap(this.cachedViewport, this.matrixInverse);\n        }\n\n    }\n\n    getWorldPosition(e) {\n        e = e || this.editor.config.get('bodyEvent')\n        return this.createWorldPosition(e.clientX, e.clientY);\n    }\n\n    /**\n     * mousePoint{x, y} 를 가지고 실제 좌표를 구한다. \n     * \n     * @param {number} x \n     * @param {number} y \n     */\n    createWorldPosition(x, y) {\n\n        if (!this.canvasSize) {\n            return vec3.create();\n        }\n\n        const origin = {\n            x: x - this.canvasSize.x,\n            y: y - this.canvasSize.y,\n        }\n\n        const mouseX = this.verties[0][0] + (this.verties[2][0] - this.verties[0][0]) * (origin.x/this.canvasSize.width);\n        const mouseY = this.verties[0][1] + (this.verties[2][1] - this.verties[0][1]) * (origin.y/this.canvasSize.height);\n\n        return [mouseX, mouseY, 0]\n    }\n\n    /**\n     * 마우스 point{x, y} 를 기준으로 viewport 를 다시 맞춤 \n     * \n     * @param {number} x \n     * @param {number} y \n     */\n    setMousePoint (x, y) {\n\n        this.mouse = this.createWorldPosition(x, y);\n\n        this.setTransformOriginWithTranslate(vec3.lerp([], this.verties[0], this.verties[2], 0.5))\n\n        this.editor.emit('updateViewport')        \n    }\n\n    zoom (zoomFactor) {\n\n        const oldScale = this.scale; \n        const newScale = oldScale * zoomFactor\n\n        this.setScale(newScale)      \n\n        const newZoomFactor = this.scale / oldScale; \n        this.zoomFactor = newZoomFactor;        \n\n        if (newZoomFactor !== 1)  {\n\n          this.setTransformOriginWithTranslate(\n            vec3.lerp(\n              [], \n              this.mouse, \n              this.transformOrigin, \n              1 / zoomFactor\n            )\n          )\n\n          this.editor.emit('updateViewport')\n        }\n    }\n\n    /**\n     * \n     * pan 움직이기 \n     * \n     * @param {number} x \n     * @param {number} y \n     * @param {number} z \n     */\n    pan (x, y, z = 0)  {\n\n        this.setTransformOriginWithTranslate(\n          vec3.add([], this.transformOrigin, [x, y, 0])\n        );\n        this.editor.emit('updateViewport')        \n    }\n\n    /**\n     * 특정 영역의 center 로 보내기 \n     * \n     * @param {vec3[]} areaVerties \n     */\n    moveLayerToCenter (areaVerties, scaleRate = -0.2, withScale = true) {\n\n        const areaCenter = vec3.lerp([], areaVerties[0], areaVerties[2], 0.5);\n        const width = vec3.dist(areaVerties[0], areaVerties[1])\n        const height = vec3.dist(areaVerties[0], areaVerties[3])\n\n        const viewportCenter = vec3.lerp([], this.verties[0], this.verties[2], 0.5);        \n        const viewportWidth = vec3.dist(this.verties[0], this.verties[1])\n        const viewportHeight = vec3.dist(this.verties[0], this.verties[3])\n\n        const minRate = withScale ? Math.min(viewportWidth/width, viewportHeight/height) + scaleRate : 1;\n\n        this.setTranslate(\n            vec3.add(\n                [], \n                this.translate, \n                vec3.subtract([], viewportCenter, areaCenter)\n            )\n        )\n        this.setTransformOrigin(areaCenter)\n        this.setScale(this.scale * minRate)\n\n        this.editor.emit('updateViewport')        \n    }\n\n    /**\n     * 현재 mouse 포인트를 x, y 로 변환해서 넘겨준다. \n     * \n     * @type {number}\n     * @returns {vec3}\n     */\n    get pos () {\n        const mouseX = (this.mouse[0] - this.verties[0][0])/(this.verties[2][0] - this.verties[0][0]) * 100;\n        const mouseY = (this.mouse[1] - this.verties[0][1])/(this.verties[2][1] - this.verties[0][1]) * 100;\n\n        return [mouseX, mouseY, 0]\n    }\n\n    get minX () { return this.verties[0][0]; }\n    get maxX () { return this.verties[2][0]; }\n    get minY () { return this.verties[0][1]; }\n    get maxY () { return this.verties[2][1]; }    \n    get center () { return this.verties[4]; }\n\n    get height () { return this.maxY - this.minY; }\n    get width () { return this.maxX - this.minX; }\n\n    checkInViewport (pointVertex) {\n        const xInViewport = this.minX < pointVertex[0] && pointVertex[0] < this.maxX;\n        const yInViewport = this.minY < pointVertex[1] && pointVertex[1] < this.maxY;\n        return xInViewport && yInViewport;\n    }\n\n    applyVertex (vertex) {\n        return vec3.transformMat4([], vertex, this.matrix);\n    }\n\n    applyVertexInverse (vertex) {\n        return vec3.transformMat4([], vertex, this.matrixInverse);\n    }    \n\n    applyVerties (verties) {\n        return vertiesMap(verties, this.matrix);\n    }\n\n    applyScaleVerties (verties) {\n        return vertiesMap(verties, this.scaleMatrix);\n    }\n\n    applyVertiesInverse (verties) {\n        return vertiesMap(verties, this.matrixInverse);\n    }\n    \n    applyScaleVertiesInverse (verties) {\n        return vertiesMap(verties, this.scaleMatrixInverse);\n    }    \n\n    /**\n     * viewport 좌표로 변환 \n     * \n     * @param {number} x \n     * @param {number} y \n     * @param {number} width \n     * @param {number} height \n     * @returns {vec3[]}\n     */\n    createAreaVerties (x, y, width, height) {\n        return this.applyVertiesInverse(rectToVertiesForArea(x, y, width, height));\n    }\n\n\n\n}","import { uuid } from \"el/utils/math\";\n\n\n/**\n * localStorage Manager\n * \n * @class StorageManager \n */\nexport class StorageManager {\n    constructor (editor) {\n        this.editor = editor; \n\n        this.customAssetKey = 'custom-assets';\n    }\n\n    async getCustomAssetList () {\n        let isNew = false; \n        const artboards = (this.editor.loadItem(this.customAssetKey) || []).map(it => {\n            if (!it.id) {\n                it.id = uuid();\n                isNew = true; \n            }\n            return it;\n        })\n\n        if (isNew) {\n            await this.setCustomAssetList(artboards);\n        }\n\n        return artboards; \n    }\n\n    async setCustomAssetList (list) {\n        this.editor.saveItem(this.customAssetKey, list);\n    }\n\n    async getCustomAsset (id) {\n        const assetList = await this.getCustomAssetList()\n        const it = assetList.find(it => it.id === id);\n\n        if (it && it.component) {\n            return it.component;\n        }\n\n        return null; \n    }\n\n    /**\n     * 저장될 preview 이미지를 포함해서 보여주기 \n     * \n     * @param {string} datauri  image datauri \n     */\n    async saveCustomAsset(datauri = '') {\n        const current = this.editor.selection.current;\n\n        if (current) {\n            const assetList = await this.getCustomAssetList();\n            const json = await this.editor.json.render(current);\n\n            json.x = \"0px\"\n            json.y = \"0px\"\n            await this.setCustomAssetList([\n                ...assetList, \n                {\n                    id: uuid(),\n                    preview: datauri,\n                    component: json \n                }\n            ]);\n        }\n    }\n\n    async removeCustomAsset (id) {\n        const assetList = await this.getCustomAssetList();\n        await this.setCustomAssetList(assetList.filter(it => {\n            return it.id !== id\n        }));\n    }\n\n}","export default function _icon_template (tpl, opt) {\n\n    const defaultOpts = Object.assign({\n        width: 24, \n        height: 24\n    }, opt);\n\n    return /*html*/`\n        <svg \n            xmlns=\"http://www.w3.org/2000/svg\" \n            width=\"${defaultOpts.width}\" \n            height=\"${defaultOpts.height}\" \n            viewBox=\"0 0 ${defaultOpts.width} ${defaultOpts.height}\">${tpl}</svg>`;\n}","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`\n    <path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z\"/>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`\n    <path d=\"M22 6H12l-2-2H2v16h20V6zm-3 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z\"/>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/><path fill=\"none\" d=\"M0 0h24v24H0z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 13H5v-2h14v2z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M10 17l5-5-5-5v10z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3 5v3c0 .55.45 1 1 1s1-.45 1-1V6c0-.55.45-1 1-1h2c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2zm1 10c-.55 0-1 .45-1 1v3c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1-.45-1-1v-2c0-.55-.45-1-1-1zm15 3c0 .55-.45 1-1 1h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v2zm0-15h-3c-.55 0-1 .45-1 1s.45 1 1 1h2c.55 0 1 .45 1 1v2c0 .55.45 1 1 1s1-.45 1-1V5c0-1.1-.9-2-2-2z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4h-3z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M5 4v3h5.5v12h3V7H19V4z\"/>`);;\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M8 5v14l11-7z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template('<path d=\"M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z\"/>');","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2h4zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<g fill=\"#010101\"><circle cx=\"7\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"6\" r=\"3\"/><circle cx=\"16.6\" cy=\"17.6\" r=\"3\"/></g>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<clipPath><use xlink:href=\"#a\" overflow=\"visible\"/></clipPath><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13 9.5h5v-2h-5v2zm0 7h5v-2h-5v2zm6 4.5H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2zM6 11h5V6H6v5zm1-4h3v3H7V7zM6 18h5v-5H6v5zm1-4h3v3H7v-3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3,3v8h8V3H3z M9,9H5V5h4V9z M3,13v8h8v-8H3z M9,19H5v-4h4V19z M13,3v8h8V3H13z M19,9h-4V5h4V9z M13,13v8h8v-8H13z M19,19h-4v-4h4V19z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20,10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4H20z M14,14h-4v-4h4V14z\"/>`);\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M17,15.7V13H19V17L10,21L3,14L7,5H11V7H8.3L5.4,13.6L10.4,18.6L17,15.7M22,5V7H19V10H17V7H14V5H17V2H19V5H22Z\" />`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 16.5a1 1 0 0 1-.527.881l-7.907 4.443a.996.996 0 0 1-1.132 0l-7.907-4.443A1 1 0 0 1 3 16.5v-9a1 1 0 0 1 .527-.881l7.907-4.443a.995.995 0 0 1 1.132 0l7.907 4.443A1 1 0 0 1 21 7.5v9zM12 4.15L6.042 7.5l5.96 3.35 5.958-3.35-5.958-3.35zM5 15.916l6 3.372V12.58L5 9.209v6.706zm14 0V9.209l-6 3.372v6.707l6-3.373z\" />`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 6h2v12H6zm3.5 6l8.5 6V6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\" />`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<defs><path id=\"a\" d=\"M0 0h24v24H0V0z\"/></defs><clipPath id=\"b\"><use xlink:href=\"#a\" overflow=\"visible\"/></clipPath><path d=\"M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z\" clip-path=\"url(#b)\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n<path d=\"M712.4846,631.2673c-8.3777-59.9758-44.6997-121.2822-117.7703-198.7816\n\tc-51.7295-54.8649-72.0865-105.7791-55.8514-139.6883c12.4393-25.9817,42.587-35.8935,65.343-34.1103\n\tc26.3435,2.0661,37.3148,18.5905,41.88,32.0888c6.5847,19.471,2.7829,43.5175-8.4753,53.6029\n\tc-2.4382,2.1843-19.5444,15.6083-31.617,2.486c-16.0995-17.4994,1.3123-34.1181,1.3123-34.1181s25.7198-19.4211,11.5477-34.6431\n\tc-14.1721-15.2219-81.6211,4.7241-73.1766,62.9098c2.102,14.4833,9.8525,35.0453,41.7667,49.9105\n\tc31.3411,14.5985,62.0806,11.5356,84.3365-8.4017c26.8387-24.0431,36.221-68.5172,22.8163-108.1526\n\tc-13.0433-38.5685-45.3375-63.5167-86.387-66.7359c-22.4584-1.7602-45.9053,2.9182-66.0231,13.1776\n\tc-22.1882,11.3155-39.3094,28.5606-49.5124,49.8713c-15.207,31.7608-27.0118,99.5788,64.7797,196.9337\n\tc64.4428,68.3486,97.5892,122.6011,104.3126,170.7358c6.1263,43.8577-32.9753,141.2908-59.1734,141.8642\n\tc-18.2653,0.3997-13.0681-28.0174-11.1219-46.1832c3.4623-32.3166,9.02-64.4668,7.8147-96.946\n\tc-1.7692-47.6774-16.0649-83.7216-38.2463-125.1911c-20.1995-37.7643-37.8974-60.6029-92.5699-111.4463\n\tc-13.4884-12.5438-27.4699-22.5866-44.7675-38.1754c-17.5431-15.8101-21.9685-33.5474-24.195-48.6835\n\tc-4.6472-31.5926,5.266-35.0392,22.933-61.1816c7.51,6.1134,15.132,13.1576,22.5878,21.2593\n\tc0.8908,0.9678,2.1063,1.4586,3.3257,1.4586c1.0938,0,2.1906-0.3947,3.059-1.1939c1.8362-1.6895,1.9548-4.548,0.2647-6.3846\n\tc-8.043-8.7399-16.2394-16.2892-24.29-22.8068c1.0196-1.6815,1.9806-3.3693,2.913-5.06\n\tc11.2809,3.873,22.4781,8.5857,32.8744,14.3263c0.6923,0.3824,1.4415,0.5638,2.1804,0.5638c1.592,0,3.1354-0.8433,3.9596-2.3353\n\tc1.2061-2.1848,0.4133-4.9333-1.7714-6.14c-10.5501-5.8255-21.7927-10.625-33.0861-14.5846\n\tc1.7051-3.6655,3.2152-7.3481,4.5178-11.0449c9.9095,1.0547,20.2559,2.6507,30.8756,4.9542\n\tc2.4407,0.5281,4.8451-1.0193,5.3736-3.4585c0.5285-2.4387-1.0193-4.8446-3.4586-5.3736\n\tc-10.3543-2.2456-20.4231-3.8448-30.0823-4.9431c6.761-25.5357,4.0583-51.5754-8.0207-76.8648\n\tC448.2098,115.8869,474.731,76.8288,466.0513,18c-68.8775,17.9071-87.2624,54.1776-94.1043,50.875\n\tc-7.9472-3.8361-40.5018-11.036-62.952-10.6586c-37.278,0.6267-61.382,7.0395-61.382,7.0395\n\tc-11.2537-14.6686-35.9431-36.6889-90.105-41.2683c2.9433,47.1602,13.4346,82.2557,28.5291,102.9373l-0.7433,2.377\n\tc-11.7879,32.4393-13.5817,62.8858-3.8016,89.6451c-9.0883,1.1019-18.5685,2.7173-28.321,4.9987\n\tc-2.4299,0.5687-3.939,2.9991-3.3708,5.429c0.5687,2.4294,2.9972,3.939,5.429,3.3708c10.3087-2.4115,20.3424-4.0428,29.9266-5.0891\n\tc1.4184,2.9763,2.9836,5.904,4.7147,8.7755c-11.2262,4.119-22.4456,9.1879-32.9296,15.4312\n\tc-2.1445,1.2767-2.8476,4.0498-1.5704,6.1939c0.8453,1.4199,2.3461,2.2073,3.8866,2.2073c0.7859,0,1.5827-0.2054,2.3073-0.6369\n\tc10.5541-6.2849,22.0078-11.3381,33.4798-15.4008c3.3157,4.5403,7.0729,8.9251,11.2576,13.1527\n\tc-5.6694,5.3088-11.3757,11.2216-17,17.8125c-1.6199,1.8979-1.3944,4.7505,0.504,6.3699c0.8507,0.7266,1.8935,1.0816,2.931,1.0816\n\tc1.2767,0,2.5456-0.5383,3.4389-1.5856c5.5062-6.4525,11.1144-12.2327,16.692-17.4078c5.7832,5.4212,11.3758,11.1287,15.514,17.8627\n\tc7.8208,12.7265,8.3216,25.8196,6.7598,40.6753c-3.119,29.6671-13.4278,58.0414-20.0391,87.1301\n\tc-16.8163,73.989-9.0635,132.7513,20.7169,202.5388c8.0053,18.7598,17.5698,36.9144,23.7843,56.341\n\tc10.5081,32.8488,7.8436,88.3559,8.2697,122.8419v2.9318c0,0-19.9931,0.1384-28.4717,6.0748\n\tc-8.2555,5.7802-10.3883,21.931-4.3929,28.6906c6.6872,7.5395,21.6739,10.6397,31.6837,11.8093\n\tc119.664,13.9824,293.6021-2.6707,341.7446-8.3345C701.2023,821.2982,721.1432,693.2562,712.4846,631.2673z M437.2106,66.5267\n\tc-0.1946,33.6617-23.5064,50.7886-23.5064,50.7886c-6.2684-17.19-21.1558-25.3943-21.1558-25.3943\n\tC408.2194,68.8708,437.2106,66.5267,437.2106,66.5267z M201.6607,103.3024c0,0-19.8527-14.6264-20.0184-43.3732\n\tc0,0,24.6894,2.0019,38.035,21.6866C219.6773,81.6158,206.999,88.6223,201.6607,103.3024z M215.969,158.6876\n\tc15.0275-4.1452,27.2506-3.8264,37.1033-1.1182c-15.9193,16.5729-7.4137,31.0502-3.2583,36.286\n\tC221.2402,186.9178,215.969,158.6876,215.969,158.6876z M252.8369,194.4974c13.6546-17.1619,7.1357-30.6827,3.4758-35.9226\n\tc24.8589,8.5877,33.2057,32.5095,33.2057,32.5095C274.4792,195.6167,262.4471,196.221,252.8369,194.4974z M308.1766,232.8661\n\tc-4.1644,0.2111-22.0216-7.8084-21.8634-21.8635c0.1244-11.0539,40.2451-7.8568,42.1652,0\n\tC330.8523,220.7164,312.3411,232.655,308.1766,232.8661z M327.2252,191.0843c0,0,8.7972-25.2037,35.2186-33.1565\n\tc-12.424,19.1432-1.5466,31.7233,3.55,36.1478C356.055,196.2867,343.3752,195.9514,327.2252,191.0843z M369.7458,193.0825\n\tc10.0879-20.4091-1.0878-32.4358-4.9794-35.7968c9.66-2.4378,21.5306-2.5917,36.0081,1.4018\n\tC400.7746,158.6876,395.8536,185.0439,369.7458,193.0825z\"/>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7 2v11h3v9l7-12h-4l4-8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 3L3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z\"/>`);\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M5 14.5h14v-6H5v6zM11 .55V3.5h2V.55h-2zm8.04 2.5l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM13 22.45V19.5h-2v2.95h2zm7.45-3.91l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM3.55 4.46l1.79 1.79 1.41-1.41-1.79-1.79-1.41 1.41zm1.41 15.49l1.79-1.8-1.41-1.41-1.79 1.79 1.41 1.42z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M5 17.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM3 21h18v-2H3v2zM5 9.5c.83 0 1.5-.67 1.5-1.5S5.83 6.5 5 6.5 3.5 7.17 3.5 8 4.17 9.5 5 9.5zm0 4c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 17c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8-.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM3 3v2h18V3H3zm14 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm0 4c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM13 9c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default  _icon_template(`<path d=\"M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 10c-3.86 0-7 3.14-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.86-3.14-7-7-7zm0-4C5.93 6 1 10.93 1 17h2c0-4.96 4.04-9 9-9s9 4.04 9 9h2c0-6.07-4.93-11-11-11z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M14 5c0-1.1-.9-2-2-2h-1V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2h8V5h-8zm-2 13h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`\n    <path d=\"M9,12c0,1.66,1.34,3,3,3s3-1.34,3-3s-1.34-3-3-3S9,10.34,9,12z\"/>\n    <path d=\"M8,10V8H5.09C6.47,5.61,9.05,4,12,4c3.72,0,6.85,2.56,7.74,6h2.06c-0.93-4.56-4.96-8-9.8-8C8.73,2,5.82,3.58,4,6.01V4H2v6\n        H8z\"/>\n    <path d=\"M16,14v2h2.91c-1.38,2.39-3.96,4-6.91,4c-3.72,0-6.85-2.56-7.74-6H2.2c0.93,4.56,4.96,8,9.8,8c3.27,0,6.18-1.58,8-4.01V20\n        h2v-6H16z\"/>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12.75 3h-1.5L6.5 14h2.1l.9-2.2h5l.9 2.2h2.1L12.75 3zm-2.62 7L12 4.98 13.87 10h-3.74zm10.37 8l-3-3v2H5v2h12.5v2l3-3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n<g class=\"cylinder\">\n<path d=\"M 12 0 C 7.636719 0 3 1.226562 3 3.5 L 3 20.5 C 3 22.773438 7.636719 24 12 24 C 16.363281 24 21 22.773438 21 20.5 L 21 3.5 C 21 1.226562 16.363281 0 12 0 Z M 20 19.121094 C 19.921875 19.140625 19.84375 19.171875 19.78125 19.230469 C 19.574219 19.414062 19.554688 19.726562 19.738281 19.933594 C 19.914062 20.128906 20 20.320312 20 20.5 C 20 21.542969 16.957031 23 12 23 C 7.042969 23 4 21.542969 4 20.5 C 4 20.320312 4.085938 20.128906 4.261719 19.933594 C 4.445312 19.726562 4.425781 19.410156 4.21875 19.226562 C 4.15625 19.171875 4.078125 19.140625 4 19.121094 L 4 5.160156 C 5.59375 6.363281 8.863281 7 12 7 C 15.136719 7 18.40625 6.363281 20 5.160156 Z M 12 6 C 7.042969 6 4 4.542969 4 3.5 C 4 2.457031 7.042969 1 12 1 C 16.957031 1 20 2.457031 20 3.5 C 20 4.542969 16.957031 6 12 6 Z M 12 6 \"/>\n</g>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default  _icon_template(`<defs><path id=\"a\" d=\"M0 0h24v24H0V0z\"/></defs><clipPath id=\"b\"><use xlink:href=\"#a\" overflow=\"visible\"/></clipPath><path clip-path=\"url(#b)\" d=\"M7.24 8.75c-.26-.48-.39-1.03-.39-1.67 0-.61.13-1.16.4-1.67.26-.5.63-.93 1.11-1.29.48-.35 1.05-.63 1.7-.83.66-.19 1.39-.29 2.18-.29.81 0 1.54.11 2.21.34.66.22 1.23.54 1.69.94.47.4.83.88 1.08 1.43.25.55.38 1.15.38 1.81h-3.01c0-.31-.05-.59-.15-.85-.09-.27-.24-.49-.44-.68-.2-.19-.45-.33-.75-.44-.3-.1-.66-.16-1.06-.16-.39 0-.74.04-1.03.13-.29.09-.53.21-.72.36-.19.16-.34.34-.44.55-.1.21-.15.43-.15.66 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.05-.08-.11-.17-.15-.25zM21 12v-2H3v2h9.62c.18.07.4.14.55.2.37.17.66.34.87.51.21.17.35.36.43.57.07.2.11.43.11.69 0 .23-.05.45-.14.66-.09.2-.23.38-.42.53-.19.15-.42.26-.71.35-.29.08-.63.13-1.01.13-.43 0-.83-.04-1.18-.13s-.66-.23-.91-.42c-.25-.19-.45-.44-.59-.75-.14-.31-.25-.76-.25-1.21H6.4c0 .55.08 1.13.24 1.58.16.45.37.85.65 1.21.28.35.6.66.98.92.37.26.78.48 1.22.65.44.17.9.3 1.38.39.48.08.96.13 1.44.13.8 0 1.53-.09 2.18-.28s1.21-.45 1.67-.79c.46-.34.82-.77 1.07-1.27s.38-1.07.38-1.71c0-.6-.1-1.14-.31-1.61-.05-.11-.11-.23-.17-.33H21z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M2,4 L2,20Z M6,10 L16,10 L16,14 L6,14Z\" stroke-width=\"1\" />`);;","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n    <path d=\"M12,4 L12,20Z M6,10 L18,10 L18,14 L6,14Z\" stroke-width=\"1\" />\n`);;","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M20,4 L20,20Z M6,10 L16,10 L16,14 L6,14Z\" stroke-width=\"1\" />`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M4,4 L20,4Z M10,8 L10,16 L14,16 L14,8Z\" stroke-width=\"1\" />`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M4,20 L20,20Z M10,8 L10,16 L14,16 L14,8Z\" stroke-width=\"1\" />`)","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M4,12 L20,12Z M10,8 L10,16 L14,16 L14,8Z\" stroke-width=\"1\" />`);;","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n    <path d=\"M20,4 L20,20Z M2,4 L2,20Z M6,10 L16,10 L16,14 L6,14Z\" stroke-width=\"1\" />\n`);;","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n    <path d=\"M4,4 L20,4Z M4,20 L20,20Z M10,8 L10,16 L14,16 L14,8Z\" stroke-width=\"1\" />\n`);;","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`<path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n        <path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"/>\n    `);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n    <g transform=\"translate(4.000003875248012, 4.000001937624006)\">\n        <path stroke=\"currentColor\" d=\"M 7.501491970838878 -0.0000015572448855733659Q 14.336036333057622 7.389304433496911 15.674208571053226 11.025537025755131Q 17.012380809048864 14.661769618013372 12.854180922821438 14.544928811787997L 12.854180922821438 16.99999278410904L 3.2146550430021494 16.99999278410904L 3.2146550430021494 14.544928811787997Q -0.8480130988910353 14.661769618013372 0.22369613306813782 11.025537025755131Q 1.295405365027311 7.389304433496911 7.501491970838878 -0.0000015572448855733659Z M 7.501491970838878 -0.0000015572448855733659M 7.043097362212707 10.615180199186797L 7.043097362212707 2.029497238417552Q 2.4235653311211847 7.389304433496911 1.2143202542326725 11.099378313047254Q 0.22369613306813782 14.380813978493594 4.269842778971384 13.709709450113499L 4.269842778971384 16.233605781316655L 11.751764459057853 16.233605781316655L 11.751764459057853 13.709709450113499Q 15.84146041516868 14.140123940309786 14.670231046646997 10.775846698306177Q 14.195747591990225 9.593976493057127 8.077664264490855 2.029497238417552L 8.077664264490855 10.615180199186797L 7.043097362212707 10.615180199186797Z\"/>\n    </g>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n        <path d=\"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z\"/>\n    `);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n        <path d=\"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z\"/>\n    `);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n    <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\"/>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n    <path d=\"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z\"/>\n`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M14 7l-5 5 5 5V7z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n        <path d=\"M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z\"/>\n    `);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M10 17l5-5-5-5v10z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<polygon points=\"11,2 13,2 13,7 21,7 21,10 13,10 13,14 18,14 18,17 13,17 13,22 11,22 11,17 6,17 6,14 11,14 11,10 3,10 3,7 11,7\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4,22H2V2h2V22z M22,7H6v3h16V7z M16,14H6v3h10V14z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20,2h2v20h-2V2z M2,10h16V7H2V10z M8,17h10v-3H8V17z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22,22H2v-2h20V22z M10,2H7v16h3V2z M17,8h-3v10h3V8z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<polygon points=\"22,11 17,11 17,6 14,6 14,11 10,11 10,3 7,3 7,11 1.84,11 1.84,13 7,13 7,21 10,21 10,13 14,13 14,18 17,18 17,13 22,13\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22,2v2H2V2H22z M7,22h3V6H7V22z M14,16h3V6h-3V16z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default /*html*/_icon_template(`\n        <path d=\"M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z\" stroke='white' stroke-width=\"0.5\" />\n    `);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M22,2v2H2V2H22z M7,10.5v3h10v-3H7z M2,20v2h20v-2H2z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4,22H2V2h2V22z M22,2h-2v20h2V2z M13.5,7h-3v10h3V7z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<rect fill-rule=\"evenodd\" height=\"2\" width=\"16\" x=\"4\" y=\"11\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3 3h8v8H3zm10 0h8v8h-8zM3 13h8v8H3zm15 0h-2v3h-3v2h3v3h2v-3h3v-2h-3z\"/>`)","import _icon_template from \"./_icon_template\"\n\nexport default _icon_template(`<path d=\"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18 24h-6.55c-1.08 0-2.14-.45-2.89-1.23l-7.3-7.61 2.07-1.83c.62-.55 1.53-.66 2.26-.27L8 14.34V4.79c0-1.38 1.12-2.5 2.5-2.5.17 0 .34.02.51.05.09-1.3 1.17-2.33 2.49-2.33.86 0 1.61.43 2.06 1.09.29-.12.61-.18.94-.18 1.38 0 2.5 1.12 2.5 2.5v.28c.16-.03.33-.05.5-.05 1.38 0 2.5 1.12 2.5 2.5V20c0 2.21-1.79 4-4 4zM4.14 15.28l5.86 6.1c.38.39.9.62 1.44.62H18c1.1 0 2-.9 2-2V6.15c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V3.42c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V2.51c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V4.79c0-.28-.22-.5-.5-.5s-.5.23-.5.5v12.87l-5.35-2.83-.51.45z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M18.85,10.39l1.06-1.06c0.78-0.78,0.78-2.05,0-2.83L18.5,5.09c-0.78-0.78-2.05-0.78-2.83,0l-1.06,1.06L18.85,10.39z M14.61,11.81L7.41,19H6v-1.41l7.19-7.19L14.61,11.81z M13.19,7.56L4,16.76V21h4.24l9.19-9.19L13.19,7.56L13.19,7.56z M19,17.5 c0,2.19-2.54,3.5-5,3.5c-0.55,0-1-0.45-1-1s0.45-1,1-1c1.54,0,3-0.73,3-1.5c0-0.47-0.48-0.87-1.23-1.2l1.48-1.48 C18.32,15.45,19,16.29,19,17.5z M4.58,13.35C3.61,12.79,3,12.06,3,11c0-1.8,1.89-2.63,3.56-3.36C7.59,7.18,9,6.56,9,6 c0-0.41-0.78-1-2-1C5.74,5,5.2,5.61,5.17,5.64C4.82,6.05,4.19,6.1,3.77,5.76C3.36,5.42,3.28,4.81,3.62,4.38C3.73,4.24,4.76,3,7,3 c2.24,0,4,1.32,4,3c0,1.87-1.93,2.72-3.64,3.47C6.42,9.88,5,10.5,5,11c0,0.31,0.43,0.6,1.07,0.86L4.58,13.35z\" />`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3,5v14h18V5H3z M8.33,17H5V7h3.33V17z M13.67,17h-3.33V7h3.33V17z M19,17h-3.33V7H19V17z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M3,3v18h18V3H3z M19,19H5V5h14V19z M11,7h2v2h-2V7z M7,7h2v2H7V7z M15,7h2v2h-2V7z M7,11h2v2H7V11z M11,11h2v2h-2V11z M15,11h2v2h-2V11z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20,6h-8l-2-2H4C2.9,4,2.01,4.9,2.01,6L2,18c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8C22,6.9,21.1,6,20,6z M20,18L4,18V6h5.17 l2,2H20V18z M18,12H6v-2h12V12z M14,16H6v-2h8V16z\"/>`)","import _icon_template from './_icon_template';\n\nexport default _icon_template(`<path d=\"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`\n    <path d=\"M19.77 4.93l1.4 1.4L8.43 19.07l-5.6-5.6 1.4-1.4 4.2 4.2L19.77 4.93m0-2.83L8.43 13.44l-4.2-4.2L0 13.47l8.43 8.43L24 6.33 19.77 2.1z\"/>\n`);","import _icon_template from \"./_icon_template\"\nexport default _icon_template(`<path d=\"M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z\"/>`)","import _icon_template from \"./_icon_template\";\nexport default _icon_template(`<path d=\"M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z\"/>`)","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M 0 0L 20 0L 20 20L 0 20L 0 0Z M 10 10L 30 10L 30 30L 10 30L 10 10Z\"/>`, {width: 30, height: 30});","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M 20 10L 30 10L 30 30L 10 30L 10 20L 20 20L 20 10Z M 0 0L 20 0L 20 20L 0 20L 0 0Z  M 2 2L 2 18L 18 18L 18 2L 2 2Z\" />`, {width: 30, height: 30});","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"\n    M 10 10L 30 10L 30 30L 10 30L 10 10Z \n    M 20 12L 18 18L 12 18L 12 28L 28 28L 28 12L 12 12Z \n    M 0 0L 20 0L 20 20L 0 20L 0 0Z  \n    M 2 2L 2 18L 18 18L 18 2L 2 2Z\n\" />`, {width: 30, height: 30});","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"\n    M 10 10L 30 10L 30 30L 10 30L 10 10Z\n    M 0 0L 20 0L 20 20L 0 20L 0 0Z \n\" fill-rule=\"evenodd\"/>`, {width: 30, height: 30});","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4,9v2h16V9H4z M16,4l-1.41-1.41L13,4.17V1h-2v3.19L9.39,2.61L8,4l4,4L16,4z M4,14h16v-2H4V14z M8,19l1.39,1.39L11,18.81 V22h2v-3.17l1.59,1.59L16,19l-4-4L8,19z\"/>`);\n\n","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M20 4h-4l-4-4-4 4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H4V6h4.52l3.52-3.5L15.52 6H20v14zM6 18h12V8H6v10zm2-8h8v6H8v-6z\"/>`);","import _icon_template from \"./_icon_template\";\nexport default _icon_template(`<path d=\"M17,5h-2V3h2V5z M15,15v6l2.29-2.29L19.59,21L21,19.59l-2.29-2.29L21,15H15z M19,9h2V7h-2V9z M19,13h2v-2h-2V13z M11,21h2 v-2h-2V21z M7,5h2V3H7V5z M3,17h2v-2H3V17z M5,21v-2H3C3,20.1,3.9,21,5,21z M19,3v2h2C21,3.9,20.1,3,19,3z M11,5h2V3h-2V5z M3,9h2 V7H3V9z M7,21h2v-2H7V21z M3,13h2v-2H3V13z M3,5h2V3C3.9,3,3,3.9,3,5z\"/>`);","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M 0 0L 14 0L 14 14L 0 14L 0 0Z M 16 16L 30 16L 30 30L 16 30L 16 16Z\"/><path d=\"M 7 7L 22 7L 22 22L 7 22L 7 7Z\" style=\"fill:white !important;\"/>`, {width: 30, height: 30});","import _icon_template from \"./_icon_template\";\n\nexport default _icon_template(`<path d=\"M 7 7L 22 7L 22 22L 7 22L 7 7Z\" style=\"fill:white !important;\"/><path d=\"M 0 0L 14 0L 14 14L 0 14L 0 0Z M 16 16L 30 16L 30 30L 16 30L 16 16Z\"/>`, {width: 30, height: 30});","import chevron_right from \"./chevron_right\";\nimport create_folder from \"./create_folder\";\nimport add_box from \"./add_box\";\nimport visible from \"./visible\";\nimport remove from \"./remove\";\nimport copy from \"./copy\";\nimport lock from \"./lock\";\nimport undo from \"./undo\";\nimport redo from \"./redo\";\nimport save from \"./save\";\nimport exportIcon from \"./export\";\nimport add from \"./add\";\nimport add_note from \"./add_note\";\nimport publish from \"./publish\";\nimport folder from \"./folder\";\nimport artboard from \"./artboard\";\nimport image from \"./image\";\nimport setting from \"./setting\";\nimport remove2 from \"./remove2\";\nimport repeat from \"./repeat\";\nimport screen from \"./screen\";\nimport arrowRight from \"./arrowRight\";\nimport check from \"./check\";\nimport border_all from \"./border_all\";\nimport border_inner from \"./border_inner\";\nimport paint from \"./paint\";\nimport title from \"./title\";\nimport timer from \"./timer\";\nimport chevron_left from \"./chevron_left\";\nimport input from \"./input\";\nimport filter from \"./filter\";\nimport play from \"./play\";\nimport pause from \"./pause\";\nimport autorenew from \"./autorenew\";\nimport code from \"./code\";\nimport build from \"./build\";\nimport close from \"./close\";\nimport gradient from \"./gradient\";\nimport transform from \"./transform\";\nimport scatter from \"./scatter\";\nimport shape from \"./shape\";\nimport ballot from \"./ballot\";\nimport add_circle from \"./add_circle\";\nimport lock_open from \"./lock_open\";\nimport outline_image from \"./outline_image\";\nimport edit from \"./edit\";\nimport size from \"./size\";\nimport color from \"./color\";\nimport align_center from \"./align_center\";\nimport align_justify from \"./align_justify\";\nimport align_left from \"./align_left\";\nimport align_right from \"./align_right\";\nimport list from \"./list\";\nimport grid from \"./grid\";\nimport grid3x3 from \"./grid3x3\";\nimport expand from \"./expand\";\nimport brush from \"./brush\";\nimport dahaze from \"./dahaze\";\nimport star from \"./star\";\nimport polygon from \"./polygon\";\nimport cube from \"./cube\";\nimport color_lens from \"./color_lens\";\nimport circle from \"./circle\";\nimport rect from \"./rect\";\nimport note from \"./note\";\nimport skip_next from \"./skip_next\";\nimport skip_prev from \"./skip_prev\";\nimport fast_forward from \"./fast_forward\";\nimport fast_rewind from \"./fast_rewind\";\nimport alternate from \"./alternate\";\nimport alternate_reverse from \"./alternate_reverse\";\nimport speed from \"./speed\";\nimport replay from \"./replay\";\nimport shuffle from \"./shuffle\";\nimport cat from \"./cat\";\nimport refresh from \"./refresh\";\nimport gps_fixed from \"./gps_fixed\";\nimport file_copy from \"./file_copy\";\nimport archive from \"./archive\";\nimport storage from \"./storage\";\nimport doc from \"./doc\";\nimport flash_on from \"./flash_on\";\nimport view_list from \"./view_list\";\nimport near_me from \"./near_me\";\nimport photo from \"./photo\";\nimport specular from \"./specular\";\nimport diffuse from \"./diffuse\";\nimport palette from \"./palette\";\nimport landscape from \"./landscape\";\nimport blur from \"./blur\";\nimport blur_linear from \"./blur_linear\";\nimport waves from \"./waves\";\nimport vintage from \"./vintage\";\nimport looks from \"./looks\";\nimport opacity from \"./opacity\";\nimport shadow from \"./shadow\";\nimport broken_image from \"./broken_image\";\nimport camera_roll from \"./camera_roll\";\nimport view_comfy from \"./view_comfy\";\nimport settings_input_component from \"./settings_input_component\";\nimport merge from \"./merge\";\nimport texture from \"./texture\";\nimport account_tree from \"./account_tree\";\nimport format_shapes from \"./format_shapes\";\nimport flip from \"./flip\";\nimport flipY from \"./flipY\";\nimport control_point from \"./control_point\";\nimport flip_camera from \"./flip_camera\";\nimport device_hub from \"./device_hub\";\nimport text_rotate from \"./text_rotate\";\nimport cylinder from \"./cylinder\";\nimport underline from \"./underline\";\nimport strikethrough from \"./strikethrough\";\nimport italic from \"./italic\";\nimport local_library from \"./local_library\";\nimport lens from \"./lens\";\nimport flag from \"./flag\";\nimport left from \"./left\";\nimport center from \"./center\";\nimport right from \"./right\";\nimport top from \"./top\";\nimport bottom from \"./bottom\";\nimport middle from \"./middle\";\nimport same_width from \"./same_width\";\nimport same_height from \"./same_height\";\nimport local_movie from \"./local_movie\";\nimport keyboard from \"./keyboard\";\nimport apps from \"./apps\";\nimport outline_rect from \"./outline_rect\";\nimport outline_circle from \"./outline_circle\";\nimport launch from \"./launch\";\nimport pentool from \"./pentool\";\nimport video from \"./video\";\nimport volume_down from \"./volume_down\";\nimport volume_up from \"./volume_up\";\nimport volume_off from \"./volume_off\";\nimport arrowLeft from \"./arrowLeft\";\nimport group from \"./group\";\nimport arrow_right from \"./arrow_right\";\nimport layers from \"./layers\";\nimport align_horizontal_center from \"./align_horizontal_center\";\nimport align_horizontal_left from \"./align_horizontal_left\";\nimport align_horizontal_right from \"./align_horizontal_right\";\nimport align_vertical_bottom from \"./align_vertical_bottom\";\nimport align_vertical_center from \"./align_vertical_center\";\nimport align_vertical_top from \"./align_vertical_top\";\nimport swap_horiz from \"./swap_horiz\";\nimport rotate_left from \"./rotate_left\";\nimport open_in_full from \"./open_in_full\";\nimport rotate from \"./rotate\";\nimport vertical_distribute from \"./vertical_distribute\";\nimport horizontal_distribute from \"./horizontal_distribute\";\nimport delete_forever from \"./delete_forever\";\nimport horizontal_rule from \"./horizontal_rule\";\nimport navigation from \"./navigation\";\nimport web from \"./web\";\nimport auto_awesome from \"./auto_awesome\";\n// import chart from \"./chart\";\n// import line_chart from \"./line_chart\";\n// import bar_chart from \"./bar_chart\";\nimport plugin from \"./plugin\";\nimport straighten from \"./straighten\";\nimport left_hide from \"./left_hide\";\nimport right_hide from \"./right_hide\";\nimport pantool from \"./pantool\";\nimport draw from \"./draw\";\nimport flex from \"./flex\";\nimport margin from \"./margin\";\nimport source from \"./source\";\nimport sync from \"./sync\";\nimport outline from \"./outline\";\nimport dark from \"./dark\";\nimport wave from \"./wave\";\nimport boolean_union from \"./boolean_union\";\nimport boolean_difference from \"./boolean_difference\";\nimport boolean_intersection from \"./boolean_intersection\";\nimport boolean_xor from \"./boolean_xor\";\nimport flatten from \"./flatten\";\nimport smooth from \"./smooth\";\nimport stroke_to_path from \"./stroke_to_path\";\nimport highlight_at from \"./highlight_at\";\nimport to_front from \"./to_front\";\nimport to_back from \"./to_back\";\n\nconst alias = {\n  fullscreen:  border_inner\n}\n\nexport function iconUse(name, transform = \"\", opt = { width: 24, height: 24 }) {\n  return /*html*/`\n    <svg viewBox=\"0 0 ${opt.width} ${opt.height}\" xmlns=\"http://www.w3.org/2000/svg\"><use href=\"#icon-${name}\" transform=\"${transform}\" /> </svg>\n  `\n}\n\n\nexport default {\n  ...alias,\n  to_back,\n  to_front,\n  highlight_at,\n  grid3x3,\n  stroke_to_path,\n  smooth,\n  flatten,\n  boolean_union,\n  boolean_difference,\n  boolean_intersection,\n  boolean_xor,\n  wave,\n  dark,\n  outline,\n  sync,\n  source,\n  flex,\n  margin,\n  draw,\n  pantool,\n  left_hide,\n  right_hide,\n  // bar_chart,\n  straighten,\n  plugin,\n  // chart,\n  // line_chart,\n  auto_awesome,\n  web,\n  navigation,\n  delete_forever,\n  horizontal_rule,\n  open_in_full,\n  rotate,\n  align_horizontal_center,\n  align_horizontal_left,\n  align_horizontal_right,\n  align_vertical_bottom,\n  align_vertical_center,\n  align_vertical_top,  \n  vertical_distribute,\n  horizontal_distribute,\n  rotate_left,\n  swap_horiz,  \n  arrow_right,  \n  group,\n  volume_down,\n  arrowLeft,\n  volume_up,\n  volume_off,\n  pentool,\n  launch,\n  apps,\n  outline_rect,\n  outline_circle,\n  keyboard,\n  local_movie,\n  same_height,\n  same_width,\n  layers,\n  middle,\n  bottom,\n  top,\n  right,\n  center,\n  left,\n  flag,\n  lens,\n  local_library,\n  italic,\n  strikethrough,\n  underline,\n  cylinder,\n  text_rotate,\n  device_hub,\n  control_point,\n  flip_camera,\n  flipY,\n  flip,\n  account_tree,\n  format_shapes,  \n  merge,\n  texture,\n  settings_input_component,\n  view_comfy,\n  camera_roll,\n  broken_image,\n  shadow,\n  opacity,\n  looks,\n  vintage,\n  waves,\n  blur_linear,\n  blur,\n  landscape,\n  palette,\n  diffuse,\n  specular,\n  photo,\n  near_me,\n  view_list,\n  flash_on,\n  doc,\n  storage,\n  archive,\n  file_copy,\n  gps_fixed,\n  refresh,\n  cat,\n  shuffle,\n  replay,\n  speed,\n  alternate_reverse,\n  alternate,\n  note,\n  rect,\n  circle,\n  color_lens,\n  cube,\n  polygon,\n  star,\n  dahaze,\n  brush,\n  expand,\n  list,\n  grid,\n  align_center,\n  align_justify,\n  align_left,\n  align_right,\n  color,\n  size,\n  edit,\n  outline_image,\n  ballot,\n  shape,\n  scatter,\n  transform,\n  gradient,\n  close,\n  build,\n  code,\n  autorenew,\n  play,\n  pause,\n  skip_next,\n  skip_prev,\n  fast_forward,\n  fast_rewind,  \n  filter,\n  input,\n  timer,\n  title,\n  paint,\n  border_all,\n  border_inner,\n  check,\n  video,\n  arrowRight,\n  screen,\n  repeat,\n  remove2,\n  setting,\n  image,\n  artboard,\n  folder,\n  publish,\n  add_note,\n  add,\n  save,\n  export: exportIcon,\n  redo,\n  undo,\n  lock,\n  lock_open,  \n  remove,\n  copy,\n  visible,\n  add_box,\n  add_circle,\n  create_folder,\n  chevron_right,\n  chevron_left\n};\n","import _icon_template from \"./_icon_template\";\n\nexport default function (transform = '') {\n    return /*html*/_icon_template(`\n        <polygon points=\"21,11 21,3 13,3 16.29,6.29 6.29,16.29 3,13 3,21 11,21 7.71,17.71 17.71,7.71\" transform='${transform}' fill=\"white\" stroke='white' stroke-width=\"2\" />\n        <polygon points=\"21,11 21,3 13,3 16.29,6.29 6.29,16.29 3,13 3,21 11,21 7.71,17.71 17.71,7.71\" transform='${transform}' stroke='black' stroke-width=\"0.5\" />        \n    `, {width: 24, height: 24});\n}","import { isFunction } from \"el/sapa/functions/func\";\nimport icon from \"el/editor/icon/icon\";\n\nexport class CursorManager {\n\n    async load (iconName = 'default', ...args) {\n        if (icon[iconName]) {\n            \n            const iconContent = isFunction(icon[iconName]) ? icon[iconName].call(icon[iconName], ...args) : icon[iconName]\n            const blob = new Blob([iconContent], {type: 'image/svg+xml'});\n\n            return new Promise((resolve, reject) => {\n                const reader = new FileReader();\n                reader.onload = (e) => {\n                    const datauri = e.target.result; \n                    resolve(`url(${datauri}) 12 12, auto`)\n                }\n                reader.readAsDataURL(blob);\n            })\n\n        } else {\n            return iconName;\n        }\n\n    }\n}","import { isArray, isObject, isString } from \"el/sapa/functions/func\";\nimport AssetParser from \"el/editor/parser/AssetParser\";\n\nexport class AssetManager {\n    constructor(editor) {\n        this.$editor = editor;\n    }\n\n    get project() {\n        return this.$editor.selection.currentProject;\n    }\n\n\n    /**\n     * \n     * recover origin to local blob url for Asset \n     * \n     * @param {string} value JSON String for project list \n     */\n    revokeResource(value) {\n        var json = JSON.parse(value || '[]');\n        var assets = {}\n\n        json.forEach(project => {\n            project.images.forEach(it => {\n                assets[`#${it.id}`] = it;\n            })\n        })\n\n        Object.keys(assets).map(idString => {\n            var a = assets[idString];\n            var info = AssetParser.parse(a.original, true);\n            a.local = info.local;\n        })\n\n        json.forEach(project => {\n            project.layers = this.applyAsset(project.layers, assets);\n        })\n\n        return json;\n    }\n\n\n    applyAsset(json, assets) {\n        if (Array.isArray(json)) {\n            json = json.map(it => this.applyAsset(it, assets))\n        } else if (isObject(json)) {\n            Object.keys(json).forEach(key => {\n                json[key] = this.applyAsset(json[key], assets);\n            })\n        } else if (isString(json)) {\n\n            Object.keys(assets).forEach(idString => {\n                var a = assets[idString]\n                if (json.indexOf(`#${a.id}`) > -1) {\n                    json = json.replace(new RegExp(`#${a.id}`, 'g'), a.local);\n                }\n\n            })\n        }\n\n        return json;\n    }\n\n\n}","import { Item } from \"el/editor/items/Item\";\n\nexport class PluginManager {\n  constructor(editor) {\n    this.editor = editor; \n    this.plugins = [] \n  }\n\n  registerPlugin (func) {\n    this.plugins.push(func);\n  }\n\n  /**\n   * ItemType 에 해당되는 Item 객체를 생성한다. \n   * create Item instance\n   * \n   * @param {string} itemType  ItemType \n   * @param {object} obj \n   * @returns {Item} \n   */\n  async initializePlugin (options = {}) {\n    return await Promise.all(this.plugins.map(async (CreatePluginFunction) => {\n      return await CreatePluginFunction(this.editor, options)\n    })) \n  }\n\n};\n","export class RendererManager {\n  constructor(editor) {\n    this.editor = editor;\n    this.renderers = {} \n    this.rendererTypes = {}\n  }\n\n  getRenderType(rendererType) {\n    if (!this.renderers[rendererType]) {\n      this.renderers[rendererType] = {}\n    }\n\n    return this.renderers[rendererType];\n  }\n\n  registerRenderer (rendererType, name, rendererInstance) {\n\n    const typedRenderer = this.getRenderType(rendererType);\n\n    if (typedRenderer[name]) throw new Error(\"It has duplicated renderer name. \" + name);\n    typedRenderer[name] = rendererInstance;\n  }\n\n  registerRendererType (rendererType, rendererTypeInstance) {\n\n    if (this.rendererTypes[rendererType]) throw new Error('It has duplcated renderer type name. ' + name);\n    this.rendererTypes[rendererType] = rendererTypeInstance\n  }\n\n  getRenderer(rendererType) {\n    return this.rendererTypes[rendererType];\n  }\n\n  getRendererInstance(rendererType, name) {\n    const typedRenderer = this.getRenderType(rendererType);\n    return typedRenderer[name];\n  }\n};\n","export class InjectManager {\n  constructor(editor) {\n    this.editor = editor;\n    this.menuItems = {}\n  }\n\n  /**\n   * \n   * 특정 영역에 들어갈 메뉴를 추가한다.\n   * \n   * @param {string} target \n   * @param {object} obj \n   */\n  registerMenuItem(target, obj) {\n\n    if (!this.menuItems[target]) {\n      this.menuItems[target] = []\n    }\n\n    Object.keys(obj).forEach(refClass => {\n      this.menuItems[target].push({\n        refClass,\n        class: obj[refClass]\n      })\n    })\n  }\n\n  getTargetMenuItems(target) {\n    return this.menuItems[target] || [];\n  }\n\n  /**\n   * target 별 Object 를 나열해준다. \n   * \n   * @param {string} target \n   * @returns \n   */\n  generate(target, hasRef = false) {\n    return this.getTargetMenuItems(target).map(it => {\n\n      const refString = hasRef ? `ref=\"$${it.refClass}\"` : \"\";\n\n      return /*html*/`<object refClass=\"${it.refClass}\" ${refString} />`\n    }).join('\\n')\n  }\n};\n","import { isFunction } from \"el/sapa/functions/func\";\n\nexport class I18nManager {\n\n    constructor (editor) {\n        this.editor = editor;\n        this.locales = {};\n        this.fallbackLang = 'en_US';\n    }\n\n    getLang (lang = undefined) {\n        return lang || this.fallbackLang;\n    }\n\n    setFallbackLang(lang) {\n        this.fallbackLang = lang; \n    }\n\n    get (key, params = {}, lang = undefined) {\n        const currentLang = this.getLang(lang);\n        const str = this.locales[currentLang]?.[key] || this.locales[this.fallbackLang]?.[key] || key || undefined;\n\n        if(isFunction(str)) {\n            return str(params)\n        } else {\n            let newValue = str; \n\n            if (key === newValue) {\n                return key.split('.').pop();\n            } \n\n            Object.entries(params).forEach(([key, value]) => {\n                newValue = newValue.replace(new RegExp(`\\{${key}\\}`, 'ig'), value);\n            })\n            return newValue; \n        }\n    }\n\n    hasKey (key, lang = undefined) {\n        const currentLang = this.getLang(lang);        \n        return !!(this.locales[currentLang][key] || this.locales[this.fallbackLang][key]);\n    }\n\n    registerI18nMessage (lang, messages) {\n        if (!this.locales[lang]) {\n            this.locales[lang] = {};\n        }\n\n        Object.assign(this.locales[lang], messages);\n    }\n\n}","export class ModeViewManager {\n  constructor(editor) {\n    this.editor = editor; \n    this.modes = ['CanvasView'];\n  }\n\n  pushMode(mode) {\n    this.modes.push(mode);\n  }\n\n  popMode(mode = undefined) {\n    if (mode) {\n      if (this.isCurrentMode(mode)) {\n        this.modes.pop();\n      }\n    } else {\n      this.modes.pop();\n    }\n  }\n\n  currentMode() {\n    return this.modes[this.modes.length - 1];\n  }\n\n  isCurrentMode(mode) {\n    return this.currentMode() === mode;\n  } \n\n};\n","/*\nrefer to https://skia.org/docs/user/modules/pathkit/#constants\n\n\nPathOp (enum)\nThe following enum values are exposed. They are essentially constant objects, differentiated by their .value property.\n\nPathKit.PathOp.DIFFERENCE\nPathKit.PathOp.INTERSECT\nPathKit.PathOp.REVERSE_DIFFERENCE\nPathKit.PathOp.UNION\nPathKit.PathOp.XOR\nThese are used in PathKit.MakeFromOp() and SkPath.op().\n\nFillType (enum)\nThe following enum values are exposed. They are essentially constant objects, differentiated by their .value property.\n\nPathKit.FillType.WINDING (also known as nonzero)\nPathKit.FillType.EVENODD\nPathKit.FillType.INVERSE_WINDING\nPathKit.FillType.INVERSE_EVENODD\nThese are used by SkPath.getFillType() and SkPath.setFillType(), but generally clients will want SkPath.getFillTypeString().\n\nStrokeJoin (enum)\nThe following enum values are exposed. They are essentially constant objects, differentiated by their .value property.\n\nPathKit.StrokeJoin.MITER\nPathKit.StrokeJoin.ROUND\nPathKit.StrokeJoin.BEVEL\nSee SkPaint reference for more details.\n\nStrokeCap (enum)\nThe following enum values are exposed. They are essentially constant objects, differentiated by their .value property.\n\nPathKit.StrokeCap.BUTT\nPathKit.StrokeCap.ROUND\nPathKit.StrokeCap.SQUARE\nSee SkPaint reference for more details.\n\nConstants\nThe following constants are exposed:\n\nPathKit.MOVE_VERB = 0\nPathKit.LINE_VERB = 1\nPathKit.QUAD_VERB = 2\nPathKit.CONIC_VERB = 3\nPathKit.CUBIC_VERB = 4\nPathKit.CLOSE_VERB = 5\nThese are only needed for PathKit.FromCmds().\n\n*/\n\nimport { Length } from 'el/editor/unit/Length';\n\nexport class PathKitManager {\n  constructor(editor) {\n    this.editor = editor;\n    this.pathkit = null; \n  }\n\n  registerPathKit (pathkit) {\n    this.pathkit = pathkit;\n    this.editor.emit(\"updatePathKit\");\n  }\n\n  has() {\n    return !!this.pathkit;\n  }\n\n  booleanOperation (first, second, pathOp) {\n    const PathKit = this.pathkit;\n\n    return PathKit.MakeFromOp(\n      PathKit.FromSVGString(first),\n      PathKit.FromSVGString(second),\n      pathOp\n    ).toSVGString();\n  }\n\n  intersection(first, second) {\n    const PathKit = this.pathkit;\n    if (!PathKit) return;    \n    return this.booleanOperation(first, second, PathKit.PathOp.INTERSECT);\n  }\n\n  union(first, second) {\n    const PathKit = this.pathkit;\n    if (!PathKit) return;    \n    return this.booleanOperation(first, second, PathKit.PathOp.UNION);\n  }\n\n  difference(first, second) {\n    const PathKit = this.pathkit;\n    if (!PathKit) return;    \n    return this.booleanOperation(first, second, PathKit.PathOp.DIFFERENCE);\n  }\n\n  reverseDifference(first, second) {\n    const PathKit = this.pathkit;\n    if (!PathKit) return;    \n    return this.booleanOperation(first, second, PathKit.PathOp.REVERSE_DIFFERENCE);\n  }\n\n  xor(first, second) {\n    const PathKit = this.pathkit;\n    if (!PathKit) return;\n    return this.booleanOperation(first, second, PathKit.PathOp.XOR);\n  }\n\n  isValidPath(path) {\n    const PathKit = this.pathkit;\n\n    let pathKitPath = PathKit.FromSVGString(path);\n\n    return pathKitPath.isValid();\n  }\n\n  /**\n   * 2d Path 내부의 segment 를 합쳐준다. \n   * \n   * @param {string} path \n   * @returns \n   */\n  simplify(path) {\n    const PathKit = this.pathkit;    \n    const pathObject = PathKit.FromSVGString(path);\n\n    return pathObject.simplify().toSVGString();\n  }\n\n  convertLineJoin(lineJoin) {\n    const PathKit = this.pathkit;     \n    switch (lineJoin) {\n      case 'miter': return PathKit.StrokeJoin.MITER;\n      case 'round': return PathKit.StrokeJoin.ROUND;\n      case 'bevel': return PathKit.StrokeJoin.BEVEL;\n    }\n  }\n\n  convertLineCap(lineCap) {\n    const PathKit = this.pathkit;     \n    switch (lineCap) {\n      case 'butt': return PathKit.StrokeCap.BUTT;\n      case 'round': return PathKit.StrokeCap.ROUND;\n      case 'square': return PathKit.StrokeCap.SQUARE;\n    }\n  }\n\n  stroke (path, opt = {width: 1, miter_limit: 4}) {\n    const PathKit = this.pathkit;    \n    const pathObject = PathKit.FromSVGString(path);\n\n\n    if (opt['stroke-dasharray'].trim()) {\n      const arr = opt['stroke-dasharray'].trim().split(\" \").map(it => +it)\n\n      if (arr.length >= 2) {\n        pathObject.dash(arr[0], arr[1], +(opt['stroke-dashoffset'] || 0))\n      }  \n    }\n\n    let newPathObject = pathObject.stroke({ \n      width: +opt['stroke-width'],\n      join: this.convertLineJoin(opt['stroke-linejoin']),\n      cap: this.convertLineCap(opt['stroke-linecap']),\n    })\n\n    // fill 타입이 있어야 채워질 수 있는데.\n    newPathObject.setFillType(PathKit.FillType.WINDING);    \n\n    return newPathObject.simplify().toSVGString();\n  }\n\n  round(path, opt = {width: 1, miter_limit: 4}) {\n    return this.stroke(path, {\n      ...opt,\n      'stroke-linejoin': 'round'\n    });\n  }\n\n  grow(path, opt = {width: 1, miter_limit: 4}) {\n    const PathKit = this.pathkit;   \n    const pathObject = PathKit.FromSVGString(path);\n\n    return pathObject.copy().stroke(opt).op(pathObject, PathKit.PathOp.DIFFERENCE).toSVGString();\n  }\n\n  shrink(path, opt = {width: 1, miter_limit: 4}) {\n    const PathKit = this.pathkit;   \n    const pathObject = PathKit.FromSVGString(path);\n\n    const simplifyPath = pathObject.copy().simplify();\n    return pathObject.copy().stroke(opt).op(simplifyPath, PathKit.PathOp.DIFFERENCE).toSVGString();\n  }\n\n  dash (path, on, off, phase = 1) {\n    const PathKit = this.pathkit;   \n    const pathObject = PathKit.FromSVGString(path);\n\n    return pathObject.dash(on, off, phase).toSVGString();\n  }\n\n  trim(path, startT, stopT, isComplement = false) {\n    const PathKit = this.pathkit;   \n    const pathObject = PathKit.FromSVGString(path);\n\n    return pathObject.trim(startT, stopT, isComplement).toSVGString();\n  }\n};\n","export class SegmentSelectionManager {\n  constructor(editor) {\n\n    /**\n     * @property {Editor} $editor Editor\n     */\n    this.$editor = editor;\n\n    this.selectedPointKeys = {};\n    this.selectedPointList = [];\n  }\n\n  get length () {\n    return this.selectedPointList.length;\n  }\n\n  initialize() {\n    this.selectedPointKeys = {};\n    this.selectedPointList = [];\n  }\n\n\n  makeSegmentKey(index, key) {\n    return `${index}_${key}`\n  }\n\n\n  select(...list) {\n    this.selectedPointKeys = {}\n    this.selectedPointList = list.map(({ key, index }) => ({\n      key, index: (+index || 0)\n    }));\n    list.forEach(it => {\n      var key = this.makeSegmentKey(it.index, it.key)\n      this.selectedPointKeys[key] = it;\n    })\n  }\n\n\n  /**\n   * index, key에 해당하는 segment 의 selection 을 토글한다. \n   * \n   * @param {number} index\n   * @param {\"startPoint\"|\"endPoint\"|\"reversePoint\"} key\n   */\n  toggleSegment(index, key) {\n\n    // 선택된게 아니면 추가 \n    if (!this.isSelectedSegment(key, index)) {\n      this.select(...this.selectedPointList, { key, index })\n    } else {\n      // 이미 선택되어 있다면 해제 \n      this.select(...this.selectedPointList.filter(it => {\n        return it.key !== key || it.index !== index\n      }))\n    }\n  }\n\n\n  toggleSelect(...list) {\n    // 선택된 포인트는 해제, 다른 포인트는 추가 \n    list = list.map(it => {\n      return { ...it, included: this.isSelectedSegment(it.index, it.key) }\n    })\n\n    // included list 는 삭제             \n    const includedList = list.filter(it => it.included)\n\n    // not included list 는 추가            \n    const notIncludedList = list.filter(it => !it.included)\n\n    let uniqueList = [...this.selectedPointList]\n\n    // 선택된 포인트는 해제\n    if (includedList.length) {\n      uniqueList = this.selectedPointList.filter(it => {\n        const oldKey = this.makeSegmentKey(it)\n\n        return Boolean(\n          includedList.find(includeNode => {\n            return oldKey === this.makeSegmentKey(includeNode)\n          })\n        ) === false\n      })\n\n    }\n\n    this.select(...uniqueList, ...notIncludedList)\n  }\n\n  /**\n   * \n   * segment 를 선택한다. \n   * \n   * @param {number} index \n   * @param {\"startPoint\"|\"endPoint\"|\"reversePoint\"} key\n   */\n  selectKeyIndex(index, key) {\n    if (!this.isSelectedSegment(index, key)) {\n      this.select({ key, index })\n    }\n  }\n\n\n  isSelectedSegment(index, key) {\n    var key = this.makeSegmentKey(index, key);\n    return !!this.selectedPointKeys[key]\n  }\n\n}\n","export class LockManager {\n\n    constructor (editor) {\n        this.editor = editor;\n        this.lockList = {};\n    }\n    \n    get (key) {\n        return this.lockList[key]\n    }\n\n    set (key, value) {\n        this.lockList[key] = true;\n    }\n\n    toggle (key) {\n        if (this.lockList[key]) {\n            delete this.lockList[key];\n        } else {\n            this.lockList[key] = true;\n        }\n    }\n}","export class VisibleManager {\n\n    constructor (editor) {\n        this.editor = editor;\n        this.hiddenList = {};\n    }\n\n    get list () {\n        return Object.keys(this.hiddenList);\n    }\n    \n    get (key) {\n        return !this.hiddenList[key]\n    }\n\n    set (key, value) {\n\n        if (value) {\n            delete this.hiddenList[key];\n        } else {\n            this.hiddenList[key] = true;\n        }\n    }\n\n    toggle (key) {\n        if (this.get(key)) {\n            this.set(key, false);\n        } else {\n            this.set(key, true);\n        }\n    }\n}","import { uuid } from \"el/utils/math\";\n\nimport { Item } from \"el/editor/items/Item\";\nimport BaseStore from \"el/sapa/BaseStore\";\nimport { registAlias, registElement } from \"el/sapa/functions/registElement\";\nimport { isString } from \"el/sapa/functions/func\";\n\nimport theme from \"el/editor/ui/theme\";\n\nimport { TimelineSelectionManager } from \"./TimelineSelectionManager\";\nimport { SelectionManager } from \"./SelectionManager\";\nimport { ComponentManager } from \"./ComponentManager\";\nimport { CommandManager } from \"./CommandManager\";\nimport { ShortCutManager } from \"./ShortCutManager\";\nimport { ConfigManager } from \"./ConfigManager\";\nimport { HistoryManager } from \"./HistoryManager\";\nimport { SnapManager } from \"./SnapManager\";\nimport { KeyBoardManager } from \"./KeyboardManager\";\nimport { ViewportManager } from \"./ViewportManager\";\nimport { StorageManager } from \"./StorageManager\";\nimport { CursorManager } from \"./CursorManager\";\nimport { AssetManager } from \"./AssetManager\"; \nimport { PluginManager } from \"./PluginManager\";\nimport { RendererManager } from \"./RendererManager\";\nimport { InjectManager } from \"./InjectManager\";\nimport { I18nManager } from \"./I18nManager\";\nimport { ModelManager } from './ModelManager';\nimport { ModeViewManager } from './ModeViewManager';\nimport { PathKitManager } from \"./PathKitManager\";\nimport { SegmentSelectionManager } from \"./SegmentSelectionManager\";\nimport { LockManager } from \"./LockManager\";\nimport { VisibleManager } from \"./VisibleManager\";\n\n\nexport const EDIT_MODE_SELECTION = 'SELECTION';\nexport const EDIT_MODE_ADD = 'ADD';\n\nconst DEFAULT_THEME = 'dark'\n\n\nexport class Editor {\n\n\n  /**\n   * \n   * @param {object} [opt={}] \n   * @param {BaseStore} opt.store  Message 처리기 \n   */\n  constructor() {\n\n    this.EDITOR_ID = uuid();\n\n    this.projects = []\n    this.popupZIndex = 10000;\n    this.canvasWidth = 100000;\n    this.canvasHeight = 100000;\n    this.symbols = {}\n    this.images = {}\n    this.openRightPanel = true;\n    this.mode = EDIT_MODE_SELECTION\n\n    this.loadManagers();\n\n  }\n\n  /**\n   * 에디터에서 공통으로 필요한 Manager 들을 로드 한다. \n   */\n  loadManagers() {\n\n    this.store = new BaseStore(this);\n    this.config = new ConfigManager(this);\n    this.snapManager = new SnapManager(this);\n    this.commands = new CommandManager(this);\n    this.shortcuts = new ShortCutManager(this);\n    this.selection = new SelectionManager(this);\n    this.segmentSelection = new SegmentSelectionManager(this);\n    this.timeline = new TimelineSelectionManager(this);\n    this.history = new HistoryManager(this);\n    this.keyboardManager = new KeyBoardManager(this);\n    this.viewport = new ViewportManager(this);\n    this.storageManager = new StorageManager(this);\n    this.cursorManager = new CursorManager(this);\n    this.assetManager = new AssetManager(this);\n    this.injectManager = new InjectManager(this);\n    this.components = new ComponentManager(this);\n    this.pluginManager = new PluginManager(this);\n    this.renderers = new RendererManager(this);\n    this.i18n = new I18nManager(this);\n    this.modelManager = new ModelManager(this);\n    this.modeViewManager = new ModeViewManager(this);\n    this.pathKitManager = new PathKitManager(this);\n    this.lockManager = new LockManager(this);\n    this.visibleManager = new VisibleManager(this);\n\n    this.initPlugins();\n    this.initStorage();\n  }\n\n  initStorage() {\n    this.locale = this.loadItem('locale') || 'en_US'\n    this.layout = this.loadItem('layout') || 'all'\n  }\n\n  createProject () {\n    return this.createModel({ itemType: 'project' })\n  }\n\n  getI18nMessage(key, params = {}, locale) {\n    return this.i18n.get(key, params, locale || this.locale)\n  }\n\n  hasI18nkey(key, locale) {\n    return this.i18n.hasKey(key, locale || this.locale)\n  }\n\n  initI18nMessage(root = '') {\n    return (key, params = {}, locale) => {\n      const i18nKey = `${root}.${key}`;\n      if (this.hasI18nkey(i18nKey, locale)) {\n        return this.i18n(`${root}.${key}`, params, locale)\n      } else {\n        return this.i18n(`${key}`, params, locale)\n      }\n    }\n  }\n\n  setLocale(locale = 'en_US') {\n    this.locale = locale;\n    this.saveItem('locale', this.locale);\n  }\n\n  setLayout(layout = 'all') {\n    this.layout = layout;\n    this.saveItem('layout', this.layout);\n  }\n\n  setUser(user) {\n    this.user = user;\n  }\n\n  initPlugins(options = {}) {\n    this.pluginManager.initializePlugin(options);\n  }\n\n  themeValue(key, defaultValue = '') {\n    return theme[this.config.get('editor.theme')][key] || defaultValue;\n  }\n\n  changeMode(mode = EDIT_MODE_SELECTION) {\n    this.mode = mode;   // add or selection  \n  }\n\n  isMode(mode) {\n    return this.mode === mode;\n  }\n\n  isAddMode() {\n    return this.isMode(EDIT_MODE_ADD)\n  }\n\n  // 팝업의 zindex 를 계속 높여 주어 \n  // 최근에 열린 팝업이 밑으로 가지 않게 한다. \n  get zIndex() {\n    return this.popupZIndex++\n  }\n\n  /**\n   * 현재 Mouse Up 상태인지 체크 \n   * \n   * @returns {boolean}\n   */\n  get isPointerUp() {\n    const e = this.config.get('bodyEvent');\n    if (!e) return true;\n    \n    if (e.type === 'pointerup' ) return true; \n    else if (e.type === 'pointermove' &&  e.buttons === 0) return true; \n\n    return false; \n  }\n\n  get isPointerDown () {\n    return !this.isPointerUp\n  }\n\n  get isPointerMove() {\n    if (!this.config.get('bodyEvent')) return false;\n    return this.config.get('bodyEvent').type === 'pointermove'\n  }\n\n  getFile(url) {\n    return this.images[url] || url;\n  }\n\n  setStore(store) {\n    this.store = store;\n  }\n\n\n  /**\n   * 메세지를 실행한다. \n   * 나 자신은 제외하고 실행한다. \n   * \n   * FIXME: command 는 자신과 동일한 command 를 재귀적으로 날릴 수 없다. (구현해야할듯 )\n   **/\n  emit(...args) {\n    this.store.source = this.EDITOR_ID;\n    this.store.emit(...args);\n  }\n\n  on(...args) {\n    const [name, callback, ...rest] = args;\n    return this.store.on(name, callback, this, ...rest);\n  }\n\n  off(...args) {\n    this.store.off(...args);\n  }\n\n  offAll(...args) {\n    this.store.offAll(...args);\n  }\n\n  debug(...args) {\n    // if (this.config.get('debug')) {\n    //   console.log(...args);\n    // }\n  }\n\n  command(command, message, ...args) {\n\n    if (this.isPointerUp) {\n      return this.store.emit(`history.${command}`, message, ...args);\n    } else {\n      return this.store.emit(command, ...args);\n    }\n  }\n\n  /**\n   * store 의 nextTick 을 실행한다. \n   * \n   * @param {Function} callback \n   */\n  nextTick(callback) {\n    if (this.store) {\n      this.store.nextTick(callback);\n    }\n  }\n\n  /**\n   * get model by id\n   *\n   * @param {string} id\n   */\n  get(id) {\n    return this.modelManager.get(id);\n  }\n\n  replaceLocalUrltoRealUrl(str) {\n\n    var project = this.selection.currentProject;\n    var images = {}\n\n    project.images.forEach(a => {\n      if (str.indexOf(a.local) > -1) {\n        images[a.local] = a.original\n      }\n    })\n\n    Object.keys(images).forEach(local => {\n      if (str.indexOf(local) > -1) {\n        str = str.replace(new RegExp(local, 'g'), images[local])\n      }\n    })\n\n    return str;\n  }\n\n  /**\n   * itemObject (객체)를 가지고 itemType 에 따른  실제 Component 객체를 생성해준다. \n   * \n   * @param {object} itemObject \n   * @param {Boolean} isRecoverPosition \n   */\n  createModel(itemObject, isRegister = true) {\n    return this.modelManager.createModel(itemObject, isRegister);\n  }\n\n  /**\n   * id 로 객체를 탐색한다. \n   * 모든 프로젝트를 탐색하도록 한다. \n   * \n   * @param {string} id \n   * @returns {Item} \n   */\n  searchItem(id) {\n    return this.modelManager.searchItem(id);\n  }\n\n  get storeKey() {\n    return `__els__.${this.config.get('store.key')}`;\n  }\n\n  saveItem(key, value) {\n    window.localStorage.setItem(`${this.storeKey}.${key}`, JSON.stringify(value));\n  }\n\n  loadItem(key) {\n    return JSON.parse(window.localStorage.getItem(`${this.storeKey}.${key}`) || JSON.stringify(\"\"))\n  }\n\n  /**\n   * register UIElement \n   * \n   * @param {UIElement} obj \n   */\n  registerElement(obj) {\n    registElement(obj);\n  }\n\n  /**\n   * register alias\n   * \n   * @param {KeyValue} obj \n   */\n  registerAlias(obj) {\n    Object.entries(obj).forEach(([key, value]) => {\n      registAlias(key, value);\n    })\n  }\n\n  registerMenuItem(target, obj) {\n    this.injectManager.registerMenuItem(target, obj);\n    this.registerElement(obj);\n  }\n\n  registerComponent(name, component) {\n    this.components.registerComponent(name, component)\n  }\n\n  registerItem(name, item) {\n    this.registerComponent(name, item);\n  }\n\n  registerInspector(name, inspectorCallback) {\n    this.components.registerInspector(name, inspectorCallback);\n  }\n\n  registerRenderer(rendererType, name, rendererInstance) {\n    this.renderers.registerRenderer(rendererType, name, rendererInstance)\n  }\n\n  registerRendererType(rendererType, rendererTypeInstance) {\n    this.renderers.registerRendererType(rendererType, rendererTypeInstance)\n  }\n\n  getRendererInstance(rendererType, itemType) {\n    return this.renderers.getRendererInstance(rendererType, itemType);\n  }\n\n  renderer(rendererType) {\n    return this.renderers.getRenderer(rendererType);\n  }\n\n  get html () {\n    return this.renderer('html');\n  }\n\n  get svg () {\n    return this.renderer('svg');\n  }\n  \n  get json () {\n    return this.renderer('json');\n  }  \n\n  /**\n   * \n   * @param {object|function} commandObject\n   * @return {function} dispose function \n   */  \n  registerCommand(commandObject) {\n    return this.commands.registerCommand(commandObject);\n  }\n\n  /**\n   * 단축키(shortcut)을 등록한다.  \n   */ \n  registerShortCut(shortcut) {\n    this.shortcuts.registerShortCut(shortcut);\n  }\n\n  /**\n   * 플러그인을 등록한다. \n   * \n   * @param {Function} createPluginFunction  \n   */\n  registerPlugin(createPluginFunction) {\n    this.pluginManager.registerPlugin(createPluginFunction);\n  }\n\n  registerPluginList(plugins = []) {\n    plugins.forEach(p => this.registerPlugin(p));\n  }\n\n  /**\n   * 에디터에 맞는 config 를 등록한다. \n   * \n   * @param {object} config\n   */ \n  registerConfig(config) {\n    this.config.registerConfig(config);\n  }\n\n  registerI18nMessage(locale, messages) {\n    this.i18n.registerI18nMessage(locale, messages);\n  }\n\n  registerI18nMessageWithLocale(messages) {\n    Object.entries(messages).forEach(([locale, messages]) => {\n      this.registerI18nMessage(locale, messages);\n    });\n  }  \n}\n","import { AFTER } from \"el/sapa/Event\";\n\n/** Custom Global Event Functions */ \n\nexport const ADD_BODY_FIRST_MOUSEMOVE = 'add/body/first/mousemove'\nexport const ADD_BODY_MOUSEMOVE = 'add/body/mousemove'\nexport const ADD_BODY_MOUSEUP = 'add/body/mouseup'\n\nexport const FIRSTMOVE = (method = \"move\") => {\n    return AFTER(`bodyMouseFirstMove ${method}`);\n};\n\nexport const MOVE = (method = \"move\") => {\n    return AFTER(`bodyMouseMove ${method}`);\n};\n\nexport const END = (method = \"end\") => {\n    return AFTER(`bodyMouseUp ${method}`);\n};","import BaseStore from \"./BaseStore\";\nimport { CHECK_SAPARATOR, CHECK_SUBSCRIBE_PATTERN, SAPARATOR, SUBSCRIBE_SAPARATOR } from \"./Event\";\nimport EventMachine from \"./EventMachine\";\nimport { isFunction, splitMethodByKeyword } from \"./functions/func\";\nimport { uuidShort } from \"./functions/uuid\";\n\n/**\n * UI 를 만드는 기본 단위 \n * \n * dom handler, \n * bind handler, \n * store handler 를 가진다. \n * \n * @property {Editor} $editor \n */\nclass UIElement extends EventMachine {\n  constructor(opt, props = {}) {\n    super(opt, props);\n\n    // messaging store 설정 \n    if (props.store) {\n      this.__storeInstance = props.store;\n    } else {\n      this.__storeInstance = new BaseStore()      \n    }\n\n    this.created();\n\n    this.initialize();\n\n    this.initializeStoreEvent();\n\n  }\n\n\n  setStore (storeInstance) {\n    this.__storeInstance = storeInstance;\n  }\n\n  /**\n   * 메세징 루트를 재정의 할 수 있음. \n   * \n   * @override\n   */\n  get $store() {\n    return this.__storeInstance || this.parent.$store;\n  }    \n\n  /**\n   * UIElement 가 생성될 때 호출되는 메소드 \n   * @protected\n   */\n  created() {}\n\n  getRealEventName(e, s = MULTI_PREFIX) {\n    var startIndex = e.indexOf(s);\n    return e.substr(startIndex < 0 ? 0 : startIndex + s.length);\n  }\n\n  splitMethod (arr, keyword, defaultValue = 0) {\n    var [methods, params] = splitMethodByKeyword(arr, keyword);\n\n    return [\n      methods.length ? +params[0].target : defaultValue,\n      methods, \n      params\n    ]\n  }\n\n  createLocalCallback(event, callback) {\n    var newCallback = callback.bind(this);\n    newCallback.displayName = `${this.sourceName}.${event}`;\n    newCallback.source = this.source;\n\n    return newCallback;\n  }\n\n  /**\n   * initialize store event\n   *\n   * you can define '@xxx' method(event) in UIElement\n   *\n   * Store Event 를 초기화 한다. \n   *\n   */\n  initializeStoreEvent() {\n    this.filterProps(CHECK_SUBSCRIBE_PATTERN).forEach(key => {\n      const events = this.getRealEventName(key, SUBSCRIBE_SAPARATOR);\n      // context 에 속한 변수나 메소드 리스트 체크\n      const [method, ...methodLine] = events.split(CHECK_SAPARATOR);\n      const checkMethodList = methodLine.map(it => it.trim()).filter(code => this[code]).map(target => ({target}));\n\n      // support deboounce for store event    \n      const [debounceSecond, debounceMethods] = this.splitMethod(methodLine, 'debounce');\n      const [throttleSecond, throttleMethods] = this.splitMethod(methodLine, 'throttle');      \n      const [allTrigger, allTriggerMethods] = this.splitMethod(methodLine, 'allTrigger');   \n      const [selfTrigger, selfTriggerMethods] = this.splitMethod(methodLine, 'selfTrigger');            \n\n      events\n        .split(CHECK_SAPARATOR)\n        .filter(it => {\n          return (\n              checkMethodList.indexOf(it) === -1 &&             \n              debounceMethods.indexOf(it) === -1 && \n              allTriggerMethods.indexOf(it) === -1 &&               \n              selfTriggerMethods.indexOf(it) === -1 &&                             \n              throttleMethods.indexOf(it) === -1\n          )\n        })\n        .map(it => it.trim())\n        .filter(Boolean)\n        .forEach(e => {\n\n          if (isFunction(this[key])) {\n            var callback = this.createLocalCallback(e, this[key] )\n            this.$store.on(e, callback, this, debounceSecond, throttleSecond, allTriggerMethods.length, selfTriggerMethods.length, checkMethodList);\n          }\n\n      });\n    });\n  }\n\n  /**\n   * 현재 UIElement 와 연결된 모든 메세지를 해제한다. \n   */\n  destoryStoreSUBSCRIBE() {\n    this.$store.offAll(this);\n  }\n\n  destroy () {\n    super.destroy()\n\n    this.destoryStoreSUBSCRIBE();\n  }\n\n  /**\n   * UIElement 를 다시 그린다. \n   * \n   * template 정의 부터  메세지 이벤트 정의까지 모두 다시 한다. \n   */\n  rerender() {\n    super.rerender();\n\n    this.initialize();\n\n    this.initializeStoreEvent();\n  }\n\n  /**\n   * UIElement 기반으로 메세지를 호출 한다. \n   * 나 이외의 객체들에게 메세지를 전달한다. \n   * \n   * @param {string} messageName\n   * @param {any[]} args \n   */\n  emit(messageName, ...args) {\n    this.$store.source = this.source;\n    this.$store.sourceContext = this; \n    this.$store.emit(messageName, ...args);\n  }\n\n  /**\n   * MicroTask 를 수행한다. \n   * \n   * @param {Function} callback \n   * @param {number} [delay=0]  callback 이 실행될 딜레이 시간 설정 \n   */\n  nextTick (callback, delay = 0) {\n\n    setTimeout(() => {\n      this.$store.nextTick(callback);\n    }, delay);\n\n  }\n\n  /**\n   * \n   * UIElement 자신의 메세지를 수행한다. \n   * emit 은 나외의 객체에게 메세지를 보내고 \n   * \n   * @param {string} messageName \n   * @param {any[]} args \n   */\n  trigger(messageName, ...args) {\n    this.$store.source = this.source;\n    this.$store.trigger(messageName, ...args);\n  }\n\n  /**\n   * 자식 객체에게만 호출되는 메세지를 수행한다.\n   * \n   * @param {string} messageName\n   * @param {any[]} args\n   */ \n  broadcast(messageName, ...args) {\n    Object.keys(this.children).forEach(key => {\n      this.children[key].trigger(messageName, ...args);\n    })\n  }\n\n  /**\n   * message 이벤트에 주어진 callack 을 등록 \n   * 동일한 메세지 명으로 callback 은 list 화 되어서 관리 됩니다. \n   * \n   * @param {string} message 이벤트 메세지 이름 \n   * @param {Function} callback 메세지 지정시 실행될 함수\n   */ \n  on (message, callback, debounceDelay = 0, throttleDelay = 0, enableAllTrigger = false, enableSelfTrigger = false) {\n    this.$store.on(message, callback, this.source, debounceDelay, throttleDelay, enableAllTrigger, enableSelfTrigger);\n  }\n\n  off (message, callback) {\n    this.$store.off(message, callback, this.source);\n  }\n\n  /**\n   * 동적으로 subscribe 함수를 지정합니다. \n   * \n   * template 안에서 동적으로 수행할 수 있습니다. \n   * \n   * 이렇게 생성된 subscribe 함수는 외부에서는 실행 할수가 없는 SUBSCRIBE_SELF 로 생성됩니다. \n   * \n   * 함수 내부에서 context 를 유지하기 때문에 this 로 instance 에 접근 할 수 있습니다. \n   * \n   * @example\n   * \n   * ```js\n   * html`\n   *     <div onClick=${this.subscribe(() => { \n   *        console.log('click is fired'); \n   *        console.log(this.source);\n   *     })}>\n   *        눌러주세요.\n   *     </div>\n   * `\n   * ```\n   * \n   * @param {Function} callback subscribe 함수로 지정할 callback \n   * @param {number} [debounceSecond=0] debounce 시간(ms)\n   * @param {number} [throttleSecond=0] throttle 시간(ms)\n   * @returns {string} function id \n   */ \n  subscribe(callback, debounceSecond = 0, throttleSecond = 0) {\n    const id = `subscribe.${uuidShort()}`;\n\n    const newCallback = this.createLocalCallback(id, callback);\n\n    this.$store.on(id, newCallback, this, debounceSecond, throttleSecond, false, /*self trigger*/true);    \n\n    return id; \n  }\n}\n\nexport default UIElement;\n","\nimport UIElement from \"el/sapa/UIElement\";\nimport { ConfigManager } from \"el/editor/manager/ConfigManager\";\nimport { InjectManager } from \"el/editor/manager/InjectManager\";\nimport { SelectionManager } from \"el/editor/manager/SelectionManager\";\nimport { ViewportManager } from \"el/editor/manager/ViewportManager\";\nimport { ADD_BODY_FIRST_MOUSEMOVE, ADD_BODY_MOUSEMOVE, ADD_BODY_MOUSEUP } from \"el/editor/types/event\";\nimport { ModelManager } from \"el/editor/manager/ModelManager\";\nimport { ShortCutManager } from \"el/editor/manager/ShortCutManager\";\nimport { ModeViewManager } from \"el/editor/manager/ModeViewManager\";\nimport { CommandManager } from \"el/editor/manager/CommandManager\";\nimport { SnapManager } from \"el/editor/manager/SnapManager\";\nimport { PathKitManager } from \"el/editor/manager/PathKitManager\";\nimport { VisibleManager } from \"el/editor/manager/VisibleManager\";\n\nexport class EditorElement extends UIElement {\n\n\n    initialize() {\n        super.initialize();\n    \n        // EditorElement 내부에서 i18n 을 바로 설정 할 수 있도록 셋팅한다.  \n        this.$editor.registerI18nMessageWithLocale(this.initializeI18nMessage());\n    }\n\n    /**\n     * i18n 메세지 로드 \n     * \n     * @example \n     * \n     * ```json\n     * {\n     *     en_US: {\n     *         \"toolbar.add.rect.name\": \"add Rectangle\"\n     *     }\n     * }\n     * \n     * ```\n     * ```js\n     * console.log(this.i18n(\"toolbar.add.rect.name\"));\n     * ```\n     * \n     * @override\n     */ \n    initializeI18nMessage() {\n        return {}\n    }\n\n    /**\n     * Editor 루트를 재정의 해서 사용\n     * \n     * @override\n     */\n    get $editor() {\n\n        if (!this.__cacheParentEditor) {\n            this.__cacheParentEditor = this.parent.$editor;\n        }\n\n        return this.__cacheParentEditor;\n    }\n\n    /**\n     * 메세징 루트를 재정의 할 수 있음. \n     * \n     * @override\n     */\n    get $store() {\n        return this.$editor.store || this.parent.$store;\n    }\n\n    // editor utility \n\n    /**\n     * i18n 텍스트를 리턴한다. \n     * \n     * @param {string} key \n     * @returns {string} i18n 텍스트 \n     */\n    $i18n(key, params = {}, locale) {\n        return this.$editor.getI18nMessage(key, params, locale);\n    }\n\n    $initI18n(key) {\n        return this.$editor.initI18nMessage(key);\n    }\n\n    /**\n     * @type {ConfigManager}\n     */ \n    get $config() {\n        return this.$editor.config;\n    }\n\n    /**\n     * @type {SelectionManager}\n     */\n    get $selection() {\n        return this.$editor.selection;\n    }\n\n    get $segmentSelection() {\n        return this.$editor.segmentSelection;\n    }\n\n    /**\n     * @type {CommandManager}\n     */\n    get $commands () {\n        return this.$editor.commands;\n    }\n\n    /**\n     * @type {ViewportManager} $viewport\n     */\n    get $viewport() {\n        return this.$editor.viewport;\n    }\n\n    /**\n     * @type {SnapManager} $snapManager\n     */\n    get $snapManager() {\n        return this.$editor.snapManager;\n    }\n\n    get $timeline() {\n        return this.$editor.timeline;\n    }\n\n    get $history() {\n        return this.$editor.history;\n    }\n\n    /**\n     * @type {ShortCutManager} $shortcuts\n     */\n    get $shortcuts() {\n        return this.$editor.shortcuts;\n    }\n\n    /**\n     * @type {KeyBoardManager} $keyboardManager\n     */\n    get $keyboardManager() {\n        return this.$editor.keyboardManager;\n    }\n\n    /**\n     * @type {StorageManager} $storageManager\n     */\n    get $storageManager() {\n        return this.$editor.storageManager;\n    }\n\n    /**\n     * @type {InjectManager}\n     */ \n    get $injectManager() {\n        return this.$editor.injectManager;\n    }\n\n    /**\n     * 하위 호환성을 위해서 이름을 유지함 \n     * \n     * @type {InjectManager}\n     */ \n     get $menuManager() {\n        return this.$injectManager\n    }    \n\n\n    /**\n     * 모델 관리하는 Manager 객체 \n     * \n     * @type {ModelManager}\n     * \n     */\n    get $model() {\n        return this.$editor.modelManager;\n    }\n\n    get $lockManager() {\n        return this.$editor.lockManager;\n    }\n\n    /**\n     * @type {VisibleManager}\n     */\n    get $visibleManager() {\n        return this.$editor.visibleManager;\n    }\n\n    /**\n     * 현재 에디팅 모드를 관리하는 Manager 객체 \n     * \n     * @type {ModeViewManager}\n     */\n    get $modeView() {\n        return this.$editor.modeViewManager;\n    }\n\n    /**\n     * \n     * @type {PathKitManager}\n     */\n    get $pathkit() {\n        return this.$editor.pathKitManager;\n    }\n\n    /**\n     * history 가 필요한 커맨드는 command 함수를 사용하자. \n     * 마우스 업 상태에 따라서 자동으로 history 커맨드로 분기해준다. \n     * 기존 emit 과 거의 동일하게 사용할 수 있다.   \n     * \n     * @param {string} command \n     * @param {string} description \n     * @param {any[]} args \n     */\n    command(command, description, ...args) {\n        if (this.$editor.isPointerUp) {\n            return this.emit(`history.${command}`, description, ...args);\n        } else {\n            return this.emit(command, ...args);\n        }\n\n    }\n\n    $theme(key) {\n        return this.$editor.themeValue(key);\n    }\n\n    bodyMouseFirstMove(e, methodName) {\n        if (this[methodName]) {\n            this.emit(ADD_BODY_FIRST_MOUSEMOVE, this[methodName], this, e.xy);\n        }\n    }\n\n\n    bodyMouseMove(e, methodName) {\n        if (this[methodName]) {\n            this.emit(ADD_BODY_MOUSEMOVE, this[methodName], this, e.xy);\n        }\n    }\n\n    bodyMouseUp(e, methodName) {\n        if (this[methodName]) {\n            this.emit(ADD_BODY_MOUSEUP, this[methodName], this, e.xy);\n        }\n    }\n\n}","\nimport { CONFIG, DEBOUNCE, POINTEREND, POINTERMOVE, POINTERSTART, RESIZE, SUBSCRIBE, SUBSCRIBE_ALL } from \"el/sapa/Event\";\nimport { debounce, isObject } from \"el/sapa/functions/func\";\nimport { getDist } from \"el/utils/math\";\nimport { Editor } from \"el/editor/manager/Editor\";\nimport { ADD_BODY_FIRST_MOUSEMOVE, ADD_BODY_MOUSEMOVE, ADD_BODY_MOUSEUP } from \"el/editor/types/event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nconst EMPTY_POS = { x: 0, y: 0 };\nconst DEFAULT_POS = { x: Number.MAX_SAFE_INTEGER, y: Number.MAX_SAFE_INTEGER };\nconst MOVE_CHECK_MS = 0;\n\n\n\nexport default class BaseLayout extends EditorElement {\n\n  created() {\n    // register local plugins \n    this.$editor.registerPluginList(this.getPlugins());\n\n    // register other plugins     \n    if (Array.isArray(this.opt.plugins)) {\n      this.$editor.registerPluginList(this.opt.plugins);\n    }\n\n    // initialize plugin list \n    this.$editor.initPlugins();\n\n    // load saved config\n    this.$config.load();\n\n    // register other configs \n    // 플러그인이 모두 로드 된 다음 커스텀 config 를 설정합니다.     \n    if (isObject(this.opt.config)) {\n      this.$config.setAll(this.opt.config || {});\n    }\n\n\n\n  }\n\n  /**\n   * @type {Editor}\n   */\n  get $editor () {\n\n    if (!this.__editorInstance) {\n      this.__editorInstance = new Editor()\n    }\n\n    return this.__editorInstance;\n  }\n\n  afterRender() {\n    super.afterRender();\n\n    this.$el.attr('data-theme', this.$config.get('editor.theme'));\n    this.$el.addClass(navigator.userAgent.includes('Windows') ? 'ua-window' : 'ua-default')\n\n    this.trigger(\"initialize\")\n  }\n\n  initialize() {\n    super.initialize();\n\n    // initialize root event \n    this.__initBodyMoves();\n\n    // load default data \n    this.emit('load.json', this.opt.data);\n  }\n\n  [CONFIG('editor.theme')] () {\n    this.$el.attr('data-theme', this.$config.get('editor.theme'));\n  }\n\n  /**\n   * 로컬에서 등록될 플러그인 리스트 \n   * \n   * 이걸 하는 이유는 target 별 용량을 줄이기 위한 것이다. \n   * 예를 들어 editor 는 전체 용량을 다 차지해도 되지만 player 는 렌더링 부분만 필요하기 때문에 그렇다. \n   * \n   * @override\n   * @returns \n   */\n  getPlugins() {\n    return [];\n  }\n\n  __initBodyMoves() {\n    this.__firstMove = new Set();    \n    this.__moves = new Set();\n    this.__ends = new Set();\n\n    this.__modifyBodyMoveSecond(MOVE_CHECK_MS);\n  }\n\n  __modifyBodyMoveSecond(ms = MOVE_CHECK_MS) {\n    this.$config.set(\"body.move.ms\", ms);\n\n    const callback = ms === 0\n      ? this.__loopBodyMoves.bind(this)\n      : debounce(this.__loopBodyMoves.bind(this), this.$config.get(\"body.move.ms\"));\n\n\n    this.__funcBodyMoves = callback;\n  }\n\n  __loopBodyMoves() {\n    var pos = this.pos;\n    var e = this.$config.get('bodyEvent');\n    var lastPos = this.lastPos || DEFAULT_POS;\n    var isNotEqualLastPos = !(lastPos.x === pos.x && lastPos.y === pos.y);\n\n    if (isNotEqualLastPos && this.__firstMove.size) {\n\n      let i = 0;\n      this.__firstMove.forEach(v => {\n\n        const dist = getDist(pos.x, pos.y, v.xy.x, v.xy.y);\n\n        if (Math.abs(dist) > 0) {\n\n          var dx = pos.x - v.xy.x;\n          var dy = pos.y - v.xy.y;\n\n          v.func.call(v.context, dx, dy, 'move', e.pressure);\n          i++;\n        }\n      });\n\n      if (i > 0) {\n        this.__firstMove.clear();\n      }\n\n    }\n\n    if (isNotEqualLastPos && this.__moves.size) {\n      this.__moves.forEach(v => {\n\n        const dist = getDist(pos.x, pos.y, v.xy.x, v.xy.y);\n\n        if (Math.abs(dist) > 0.5) {\n\n          var dx = pos.x - v.xy.x;\n          var dy = pos.y - v.xy.y;\n\n          v.func.call(v.context, dx, dy, 'move', e.pressure);\n        }\n      });\n      this.lastPos = pos;\n    }\n    requestAnimationFrame(this.__funcBodyMoves);\n  }\n\n  __removeBodyMoves() {\n    var pos = this.lastPos;\n    var e = this.$config.get(\"bodyEvent\");\n    if (pos) {\n      this.__ends.forEach(v => {\n        v.func.call(v.context, pos.x - v.xy.x, pos.y - v.xy.y, 'end', e.pressure);\n      });\n    }\n\n    this.__firstMove.clear();\n    this.__moves.clear();\n    this.__ends.clear();\n  }\n\n  [SUBSCRIBE_ALL(ADD_BODY_FIRST_MOUSEMOVE)](func, context, xy) {\n    this.__firstMove.add({ func, context, xy });\n  }\n\n  [SUBSCRIBE_ALL(ADD_BODY_MOUSEMOVE)](func, context, xy) {\n    this.__moves.add({ func, context, xy });\n  }\n\n  [SUBSCRIBE_ALL(ADD_BODY_MOUSEUP)](func, context, xy) {\n    this.__ends.add({ func, context, xy });\n  }\n\n  [POINTERSTART()](e) {\n    var newPos = e.xy || EMPTY_POS;\n\n    this.$config.init(\"bodyEvent\", e);\n    this.pos = newPos;\n  }\n\n  [POINTERMOVE()](e) {\n    var newPos = e.xy || EMPTY_POS;\n\n    this.$config.init(\"bodyEvent\", e);\n    this.pos = newPos;\n\n    if (!this.__requestId) {\n      this.__requestId = requestAnimationFrame(this.__funcBodyMoves);\n    }\n  }\n\n  [POINTEREND()](e) {\n\n    // var newPos = e.xy || EMPTY_POS;\n    this.$config.set(\"bodyEvent\", e);\n    this.__removeBodyMoves();\n    cancelAnimationFrame(this.__requestId);\n    this.__requestId = null;\n  }\n\n  [RESIZE('window') + DEBOUNCE(100)]() {\n    this.emit('resize.window');\n  }\n\n  [SUBSCRIBE('refreshAll')] () {\n    this.emit('refreshProjectList');\n    this.trigger('refreshAllSelectProject');\n  }\n\n  [SUBSCRIBE('refreshAllSelectProject')] () {      \n    this.emit('refreshArtboard')\n  }\n\n  [SUBSCRIBE('changed.locale')] () {\n    this.rerender()\n  }\n\n}","import { DEBOUNCE, DOMDIFF, LOAD, SUBSCRIBE, THROTTLE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './HorizontalRuler.scss';\n\nlet pathString = []\n\nexport default class HorizontalRuler extends EditorElement {\n    template () {\n        return /*html*/`\n            <div class=\"elf--horizontal-ruler\">\n                <div class='horizontal-ruler-container' ref='$layerRuler'></div>                            \n                <div class='horizontal-ruler-container' ref='$ruler'></div>\n            </div>\n        `\n    }\n\n    afterRender() {\n        this.refreshCanvasSize();\n    }\n\n    refreshCanvasSize () {\n        this.state.rect = this.$el.rect();\n    }    \n\n    makeLine (pathString,  baseNumber, minX, maxX, realWidth, width, epsilon = 3, lineWidth = 30, expect = 10) {\n        let startX = minX - (minX % baseNumber); \n        let endX = maxX + (maxX % baseNumber); \n\n        // if (width / realWidth < 1) return;\n\n        const firstX = ((startX - minX)/realWidth) * width; \n        const secondX = ((startX + baseNumber - minX)/realWidth) * width; \n\n        if (Math.abs(secondX - firstX) < epsilon) return;\n\n        for(var i = startX; i < endX; i += baseNumber) {\n\n            if (i != 0 && i % expect === 0) continue;\n\n            const x = Math.floor(((i - minX)/realWidth) * width);\n\n            pathString[pathString.length] = `M ${x} ${30 - lineWidth} L ${x} 30 `;\n        }\n\n    }     \n    \n    makeLineText (baseNumber, minX, maxX, realWidth, width, epsilon = 3) {\n        const text = [];\n        let startX = minX - (minX % baseNumber); \n        let endX = maxX + (maxX % baseNumber); \n\n        // if (width / realWidth < 1) return;\n\n        const firstX = ((startX - minX)/realWidth) * width; \n        const secondX = ((startX + baseNumber - minX)/realWidth) * width; \n\n        if (Math.abs(secondX - firstX) < epsilon) return;\n\n        for(var i = startX; i < endX; i += baseNumber) {\n\n            const x = Math.floor(((i - minX)/realWidth) * width);\n\n            text[text.length] = `<text x=\"${x}\" y=\"${0}\" dx=\"0\" dy=\"8\" text-anchor=\"middle\" alignment-baseline=\"bottom\" >${i}</text>`\n        }\n\n        return text.join('');\n    }         \n\n    makeRulerForCurrentArtboard () {\n        const current = this.$selection.current;\n\n        if (!current) return '';\n\n        const currentArtboard = current.artboard;\n\n        if (!currentArtboard) return '';\n\n        const verties = currentArtboard.verties;\n\n        const {minX, maxX, width: realWidth} = this.$viewport;\n        const width = this.state.rect.width;\n\n        const firstX = ((verties[0][0] - minX)/realWidth) * width; \n        const secondX = ((verties[2][0] - minX)/realWidth) * width; \n\n        return `\n            M ${firstX} 20 \n            L ${firstX} 30 \n            L ${secondX} 30 \n            L ${secondX} 20 \n            Z\n        `\n    }\n\n    makeRulerForCurrent () {\n        const current = this.$selection.current;\n\n        if (!current) return '';\n\n\n        // current\n        const verties = this.$selection.verties;\n        const xList = verties.map(it => it[0]);\n        const currentMinX = Math.min.apply(Math, xList);\n        const currentMaxX = Math.max.apply(Math, xList);\n\n        // viewport \n        const {minX, width: realWidth} = this.$viewport;\n        const width = this.state.rect.width;\n\n        const firstX = ((currentMinX - minX)/realWidth) * width; \n        const secondX = ((currentMaxX - minX)/realWidth) * width; \n\n        return `\n            M ${firstX} 15 \n            L ${firstX} 20 \n            L ${secondX} 20 \n            L ${secondX} 15 \n            Z\n        `\n    }\n\n    makeRuler () {\n\n        const {minX,maxX, width: realWidth} = this.$viewport;\n        const width = this.state.rect.width;\n\n        pathString = []\n    \n        this.makeLine(pathString, 200, minX, maxX, realWidth, width, 10, 20, 10000);        \n        this.makeLine(pathString, 100, minX, maxX, realWidth,width, 10, 20, 200);\n        this.makeLine(pathString, 50, minX, maxX, realWidth,width, 10, 20, 100);\n        this.makeLine(pathString, 10, minX, maxX, realWidth,width, 10, 18, 50);\n        this.makeLine(pathString, 5, minX, maxX, realWidth,width, 10, 15, 10);\n        this.makeLine(pathString, 1, minX, maxX, realWidth,width, 10, 13, 5);        \n\n        return pathString.join('');\n    }    \n\n\n    makeRulerText () {\n\n        const {minX,maxX, width: realWidth} = this.$viewport;\n        const width = this.state.rect.width;\n\n        const dist = Math.abs(maxX - minX);\n\n\n\n        return [\n            dist > 3000 ? this.makeLineText(500, minX, maxX, realWidth, width, 20) : '',\n            (1000 < dist && dist < 3000) ? this.makeLineText(100, minX, maxX, realWidth,width, 20) : '',\n            (800 < dist && dist < 1000) ? this.makeLineText(100, minX, maxX, realWidth,width, 20) : '',\n            (500 < dist && dist < 800) ? this.makeLineText(100, minX, maxX, realWidth,width, 20) : '',\n            (500 < dist && dist < 800) ? this.makeLineText(50, minX, maxX, realWidth,width, 20) : '',\n            (200 < dist && dist < 500) ? this.makeLineText(50, minX, maxX, realWidth,width, 20) : '',\n            (50 < dist && dist < 200) ? this.makeLineText(10, minX, maxX, realWidth,width, 20) : '',            \n            (15 < dist && dist < 50) ? this.makeLineText(5, minX, maxX, realWidth,width, 20) : '',                        \n            (0 < dist && dist < 15) ? this.makeLineText(1, minX, maxX, realWidth,width, 20) : '',                                    \n        ].join('');\n    }    \n\n    [LOAD('$ruler') + DOMDIFF] () { \n\n        if (!this.state.rect || this.state.rect.width == 0) {\n            this.state.rect = this.$el.rect();\n        }\n\n        return /*html*/`\n            <svg width=\"100%\" width=\"100%\" overflow=\"hidden\">\n                <path d=\"${this.makeRuler()}\" fill=\"transparent\" stroke-width=\"0.5\" stroke=\"white\" transform=\"translate(0.5, 0)\" />\n                ${this.makeRulerText()}                \n            </svg>\n        `\n    }\n\n    [LOAD('$layerRuler') + DOMDIFF] () { \n\n        if (!this.state.rect || this.state.rect.width == 0) {\n            this.state.rect = this.$el.rect();\n        }\n\n        return /*html*/`\n            <svg width=\"100%\" width=\"100%\" overflow=\"hidden\">\n                <path d=\"${this.makeRulerForCurrent()}\" fill=\"rgba(100, 255, 255, 0.5)\" />\n            </svg>\n        `\n    }  \n    \n    refresh() {\n\n        if (this.$config.get('show.ruler')) {\n            this.load();\n        }\n\n    }\n\n    [SUBSCRIBE('updateViewport', 'refreshSelection')] () {\n        this.refresh();      \n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView') + THROTTLE(10)] () {\n        if (this.$selection.current) {\n            const current = this.$selection.current;\n\n            if (current.hasChangedField('x', 'y', 'width', 'height', 'transform', 'rotateZ', 'rotate')) {\n                this.refresh();\n            }\n\n        }\n    }\n\n    [SUBSCRIBE('resize.window', 'resizeCanvas')] () {\n        this.refreshCanvasSize();\n    }    \n}","import { LOAD, DOMDIFF, SUBSCRIBE, DEBOUNCE, THROTTLE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './VerticalRuler.scss';\n\nlet pathString = []\n\nexport default class VerticalRuler extends EditorElement {\n    template () {\n        return /*html*/`\n            <div class=\"elf--vertical-ruler\">\n                <div class='vertical-ruler-container' ref='$layerRuler'></div>                                        \n                <div class='vertical-ruler-container' ref='$body'></div>\n            </div>\n        `\n    }\n\n    afterRender() {\n        this.refreshCanvasSize();\n    }\n\n    refreshCanvasSize () {\n        this.state.rect = this.$el.rect();\n    }    \n\n    makeLine (pathString,  baseNumber, minY, maxY, realHeight, height, epsilon = 3, lineWidth = 30, expect = 10) {\n        let startY = minY - (minY % baseNumber); \n        let endY = maxY + (maxY % baseNumber); \n\n        // if (height / realHeight < 1) return;\n\n        const firstY = ((startY - minY)/realHeight) * height; \n        const secondY = ((startY + baseNumber - minY)/realHeight) * height; \n\n        if (Math.abs(secondY - firstY) < epsilon) return;\n\n        for(var i = startY; i < endY; i += baseNumber) {\n\n            if (i != 0 && i % expect === 0) continue;\n\n            const y = Math.floor(((i - minY)/realHeight) * height);\n\n            pathString[pathString.length] = `M ${30 - lineWidth} ${y} L 30 ${y}`;\n        }\n\n    }    \n    \n    makeLineText (baseNumber, minY, maxY, realHeight, height, epsilon = 3) {\n        const text = [];\n        let startY = minY - (minY % baseNumber); \n        let endY = maxY + (maxY % baseNumber); \n\n        // if (height / realHeight < 1) return;\n\n        const firstY = ((startY - minY)/realHeight) * height; \n        const secondY = ((startY + baseNumber - minY)/realHeight) * height; \n\n        if (Math.abs(secondY - firstY) < epsilon) return;\n\n        for(var i = startY; i < endY; i += baseNumber) {\n\n            const y = Math.floor(((i - minY)/realHeight) * height);\n\n            text[text.length] = `<text x=\"${1}\" y=\"${y}\" dy=\"6\" dominant-baseline=\"central\" transform=\"rotate(-90, 1, ${y})\">${i}</text>`\n        }\n\n        return text.join('');\n    }        \n\n    makeRulerForCurrentArtboard () {\n        const current = this.$selection.current;\n\n        if (!current) return '';\n\n        const currentArtboard = current.artboard;\n\n        if (!currentArtboard) return '';\n\n        const verties = currentArtboard.verties;\n\n        const {minY,maxY, height: realHeight} = this.$viewport;\n        const height = this.state.rect.height;\n\n        const firstY = ((verties[0][1] - minY)/realHeight) * height; \n        const secondY = ((verties[2][1] - minY)/realHeight) * height; \n\n        return `\n            M 20 ${firstY}\n            L 30 ${firstY}\n            L 30 ${secondY}\n            L 20 ${secondY}\n            Z\n        `\n    }\n\n    makeRulerForCurrent () {\n        const current = this.$selection.current;\n\n        if (!current) return '';\n\n        // viewport \n        const {minY, height: realHeight} = this.$viewport;\n        const height = this.state.rect.height;\n\n        // current\n        const verties = this.$selection.verties;\n        const yList = verties.map(it => it[1]);\n        const currentMinY = Math.min.apply(Math, yList);\n        const currentMaxY = Math.max.apply(Math, yList);\n\n        const firstY = ((currentMinY - minY)/realHeight) * height; \n        const secondY = ((currentMaxY - minY)/realHeight) * height; \n\n        return `\n            M 15 ${firstY}\n            L 20 ${firstY}\n            L 20 ${secondY}\n            L 15 ${secondY}\n            Z\n        `\n    }\n\n    makeRuler () {\n\n        const {minY,maxY, height: realHeight} = this.$viewport;\n        const height = this.state.rect.height;\n\n        pathString = []\n    \n        this.makeLine(pathString, 200, minY, maxY, realHeight, height, 10, 18, 10000);        \n        this.makeLine(pathString, 100, minY, maxY, realHeight,height, 10, 18, 200);\n        this.makeLine(pathString, 50, minY, maxY, realHeight,height, 10, 18, 100);\n        this.makeLine(pathString, 10, minY, maxY, realHeight,height, 10, 18, 50);\n        this.makeLine(pathString, 5, minY, maxY, realHeight,height, 10, 15, 10);\n        this.makeLine(pathString, 1, minY, maxY, realHeight,height, 10, 14, 5);        \n\n        return pathString.join('');\n    }    \n\n    makeRulerText () {\n\n        const {minY,maxY, height: realHeight} = this.$viewport;\n        const height = this.state.rect.height;\n\n        const dist = Math.abs(maxY - minY);\n\n        return [\n            dist > 3000 ? this.makeLineText(500, minY, maxY, realHeight, height, 20) : '',\n            (1000 < dist && dist < 3000) ? this.makeLineText(100, minY, maxY, realHeight,height, 20) : '',\n            (800 < dist && dist < 1000) ? this.makeLineText(100, minY, maxY, realHeight,height, 20) : '',\n            (500 < dist && dist < 800) ? this.makeLineText(100, minY, maxY, realHeight,height, 20) : '',\n            (500 < dist && dist < 800) ? this.makeLineText(50, minY, maxY, realHeight,height, 20) : '',\n            (200 < dist && dist < 500) ? this.makeLineText(50, minY, maxY, realHeight,height, 20) : '',\n            (50 < dist && dist < 200) ? this.makeLineText(10, minY, maxY, realHeight,height, 20) : '',            \n            (15 < dist && dist < 50) ? this.makeLineText(5, minY, maxY, realHeight,height, 20) : '',                        \n            (0 < dist && dist < 15) ? this.makeLineText(1, minY, maxY, realHeight,height, 20) : '',                                    \n        ].join('');\n    }\n\n    [LOAD('$body') + DOMDIFF] () { \n\n        if (!this.state.rect || this.state.rect.width == 0) {\n            this.state.rect = this.$el.rect();\n        }\n\n        return /*html*/`\n            <svg width=\"100%\" height=\"100%\" overflow=\"hidden\">\n                <path d=\"${this.makeRuler()}\" fill=\"transparent\" stroke-width=\"0.5\" stroke=\"white\" transform=\"translate(0, 0.5)\" />\n                ${this.makeRulerText()}\n            </svg>\n        `\n    }\n\n    [LOAD('$layerRuler') + DOMDIFF] () { \n\n        if (!this.state.rect || this.state.rect.width == 0) {\n            this.state.rect = this.$el.rect();\n        }\n\n        return /*html*/`\n            <svg width=\"100%\" height=\"100%\" overflow=\"hidden\">\n                <path d=\"${this.makeRulerForCurrent()}\" fill=\"rgba(100, 255, 255, 0.5)\" />\n            </svg>\n        `\n    }    \n\n    refresh() {\n        if (this.$config.get('show.ruler')) {\n            this.load();\n        }\n\n    }    \n\n    [SUBSCRIBE('updateViewport')] () {\n        this.refresh();\n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView') + THROTTLE(10)] () {\n        const current = this.$selection.current;        \n\n        if (current && current.hasChangedField('x', 'y', 'width', 'height', 'transform', 'rotateZ', 'rotate')) {\n            this.refresh();\n        }\n\n    }\n\n    [SUBSCRIBE('refreshSelection')] () {\n        this.load('$layerRuler');      \n    }    \n\n    [SUBSCRIBE('resize.window', 'resizeCanvas')] () {\n        this.refreshCanvasSize();\n    }        \n}","export default class Resource {\n    static getAllDropItems (e) {\n        var items = []\n        \n        if (e.dataTransfer ) {\n            items = [...e.dataTransfer.types].map((type, index) => {\n\n                if (type.includes('text')) {\n                    return {\n                        kind: 'string', \n                        type,\n                        data: e.dataTransfer.getData(type)\n                    }\n                }\n            }).filter(it => it);\n        }\n    \n        var files = [] \n        \n        if (e.dataTransfer) {\n            files = [...e.dataTransfer.files]\n        }\n\n        return  [...items, ...files]\n    }\n}\n\n\nexport const filter_list = [\n    \"blur\",\n    \"grayscale\",\n    \"hue-rotate\",\n    \"invert\",\n    \"brightness\",\n    \"contrast\",\n    \"drop-shadow\",\n    \"opacity\",\n    \"saturate\",\n    \"sepia\",\n    'svg',\n  ];\n\n\n\n\nconst SVG_PROPERTY_LIST = {\n    'text': true, \n    'points': true,\n    'textLength': true, \n    'startOffset': true,\n    'lengthAdjust': true \n}\n\nconst SVG_PATH_PROPERTY_LIST = {\n    'd': true\n}\n\nconst CSS_PROPERTY_LIST = {\n    'position': true,\n    'x': true,\n    'y': true,\n    'right': true,\n    'bottom': true,\n    'width': true,\n    'height': true,\n    'rootVariable': true,\n    'variable': true,\n    'transform': true,\n    'filter': true,\n    'backdrop-filter': true,\n    'background-color': true,      \n    'background-clip': true,\n    'background-image': true,      \n    'border-radius': true,      \n    'box-shadow': true,\n    'text-shadow': true,\n    'text-clip': true,      \n    'clip-path': true,\n    'color': true,\n    'font-size': true,\n    'font-stretch': true,\n    'line-height': true,\n    'text-align': true,\n    'text-transform': true,\n    'text-decoration': true,\n    'letter-spacing': true, \n    'word-spacing': true, \n    'text-indent': true,      \n    'perspective-origin': true,\n    'transform-origin': true,\n    'transform-style': true,\n    'perspective': true,\n    'mix-blend-mode': true,\n    'opacity': true,\n    'rotate': true,    \n    'text-fill-color': true,\n    'text-stroke-color': true,\n    'text-stroke-width': true,  \n    'offset-path': true,\n    'offset-distance': true,\n    border: true,\n    outline: true,\n    borderRadius: true,\n    // borderImage: true,\n    animations: true,\n    transitions: true,\n    'fill': true,\n    'fill-opacity': true, \n    'stroke': true,\n    'stroke-width': true,\n    'stroke-dasharray': true,\n    'stroke-dashoffset': true,\n    'fill-rule': true,\n    'stroke-linecap': true,\n    'stroke-linejoin': true    \n}\n\nexport const hasSVGProperty = (property) => {\n    return SVG_PROPERTY_LIST[property] || false \n}\n\nexport const hasSVGPathProperty = (property) => {\n    return SVG_PATH_PROPERTY_LIST[property] || false \n}\n\nexport const hasCSSProperty = (property) => {\n    return CSS_PROPERTY_LIST[property] || false \n}\n\nexport const hasCustomProperty = (property) => {\n    return hasSVGProperty(property) === false && hasCSSProperty(property) === false\n}\n\n","\n\nimport { BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { Project } from \"plugins/default-items/layers/Project\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { isString } from \"el/sapa/functions/func\";\n\n\n\nconst TEMP_DIV = Dom.create('div')     \n\nexport default class StyleView extends EditorElement {\n\n  template() {\n    return /*html*/`\n    <div class='style-view' style='pointer-events: none; position: absolute;display:inline-block;left:-1000px;'>\n      <div ref='$svgArea'></div>\n      <style ref=\"$innerStyleView\" type=\"text/css\"></style>\n    </div>\n    `;\n  }\n\n  initialize() {\n    super.initialize()\n\n    this.refs.$styleView = Dom.create(document.head)\n  }\n\n  makeStyle (item) {\n    return this.$editor.html.toStyle(item);\n  }\n\n  refreshStyleHead () {\n    var project = this.$selection.currentProject || new Project()\n    this.refs.$styleView.$$(`style[data-renderer-type=\"html\"]`).forEach($style => $style.remove())\n\n    // project setting \n    this.changeStyleHead(project)\n\n    // artboard setting \n    project.layers.forEach(item => this.changeStyleHead(item))\n  }\n\n  changeStyleHead (item) {\n    var $temp = Dom.create('div')        \n\n    const styleTag = this.makeStyle(item)\n\n    $temp.html(styleTag).children().forEach($item => {\n      this.refs.$styleView.append($item);\n    })\n\n  }\n\n  refreshStyleHeadOne (item, isOnlyOne = false) {\n    var list = [item]\n    if (!isOnlyOne) {\n      list = item.allLayers\n    }\n\n    var selector = list.map(it => {\n      return `style[data-renderer-type=\"html\"][data-id=\"${it.id}\"]`\n    }).join(',');\n\n    let isChanged = false; \n    this.refs.$styleView.$$(selector).forEach(it => {\n      if (item.isChanged(it.attr('data-timestamp'))) {\n        isChanged = true;       \n        it.remove();\n      }\n    })\n\n    if (isChanged) {\n      this.changeStyleHead(item)\n    }\n\n  }\n\n  // [LOAD('$svgArea') + DOMDIFF] () {\n  //   var project = this.$selection.currentProject || {  }\n\n  //   return this.$editor.html.renderSVG(project);\n  // }   \n\n  // timeline 에서 테스트 할 때 이걸 활용할 수 있다. \n  // 움직이기 원하는 객체가 타임라인 전체라 \n  // 전체를 리프레쉬 하는걸로 한다. \n  // 애니메이션이 진행되는 동안 임의의 객체는 없는 것으로 하자. \n  [SUBSCRIBE('refreshStyleView', 'moveTimeline', 'playTimeline')] (current,  isOnlyOne = false) {   \n    if (current) {\n      this.load();\n      this.refreshStyleHeadOne(current, isOnlyOne);\n    } else {\n      this.refresh()\n    }\n  }\n\n  [SUBSCRIBE('refreshSVGArea')] () {\n    this.load('$svgArea');\n  }\n\n  /**\n   * \n   * @param {String|Object|Array<string>|Array<object>} obj  ,  id 리스트를 만들기 위한 객체, 없으면 selection에 있는 객체 전체\n   */\n  [SUBSCRIBE('refreshSelectionStyleView')] (obj = null) {\n    var ids = obj; \n\n    if (Array.isArray(obj)) {\n      ids = obj\n    } else if (obj !== null) {\n      ids = [obj]\n    }\n\n    let items = [] \n\n    if (!ids) {\n      items = this.$selection.items\n    } else if (isString(ids[0])) {\n      items = this.$selection.itemsByIds(ids);\n    } else {\n      items = ids; \n    }\n\n    const styleTags = [] \n    const removeStyleSelector = []\n\n\n    for(let i = 0, len = items.length; i < len; i++) {\n      const item = items[i];\n      var selector = item.allLayers.map(it => {\n        return `style[data-renderer-type=\"html\"][data-id=\"${it.id}\"]`\n      }).join(',');\n\n      removeStyleSelector.push(selector);\n      styleTags.push(this.makeStyle(item))\n    }\n\n    if (removeStyleSelector.length) {\n      this.refs.$styleView.$$(removeStyleSelector).forEach(it => {\n        it.remove();\n      })  \n    }\n\n   \n\n    var $fragment = TEMP_DIV.html(styleTags.join('')).createChildrenFragment()\n\n    this.refs.$styleView.append($fragment);\n  }  \n\n  refresh() {\n    this.load();\n    this.refreshStyleHead();\n  }\n\n  [BIND('$innerStyleView')] () {\n    return {\n      html: `${this.$visibleManager.list.map(id => {\n        return `[data-id=\"${id}\"]`\n      }).join(',')} { \n        display: none;\n      }`\n    }\n  }\n\n  [SUBSCRIBE('refreshVisibleView')] () {\n    this.bindData('$innerStyleView');\n  }\n}","import { vec3 } from \"gl-matrix\";\n\nimport { BIND, POINTERSTART, IF, KEYUP, DOUBLECLICK, FOCUSOUT, SUBSCRIBE, CONFIG } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { isFunction } from \"el/sapa/functions/func\";\nimport { KEY_CODE } from \"el/editor/types/key\";\nimport { END, FIRSTMOVE, MOVE } from \"el/editor/types/event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport StyleView from \"./StyleView\";\n\nimport './HTMLRenderView.scss';\n\nexport default class HTMLRenderView extends EditorElement {\n\n    components() {\n        return {\n            StyleView,\n        }\n    }\n\n    initState() {\n        return {\n            mode: 'selection',\n            x: Length.z(),\n            y: Length.z(),\n            width: Length.px(10000),\n            height: Length.px(10000),\n            cachedCurrentElement: {},\n        }\n    }\n\n    template() {\n        return /*html*/`\n            <div class='elf--element-view' ref='$body'>\n                <object refClass='StyleView' ref='$styleView' />\n                <div class='canvas-view' \n                        data-renderer-id='${this.$editor.EDITOR_ID}' \n                        ref='$view' \n                        data-outline=\"${this.$config.get('show.outline')}\"\n                ></div>\n                ${this.$injectManager.generate(\"render.view\")}\n            </div>\n        `\n    }\n\n    [CONFIG('show.outline')] () {\n        this.refs.$view.attr('data-outline', this.$config.get('show.outline'));\n    }\n\n    [SUBSCRIBE('refElement')](id, callback) {\n        isFunction(callback) && callback(this.getElement(id))\n    }\n\n    /**\n     * 캐쉬된 element 를 모두 삭제함 \n     * 캐쉬된 element 는  몇 가지 용도에 의해서 update 할 때 실제 객체를 넘겨주게 되어 있음. \n     * \n     * 1. HTMLRenderView 는 html element 로 렌더링을 하기 때문에 렌더링 주체를 가지고 있어야 함. \n     * 2. svg 관련 객체의 경우 element 를 가지고 내부의 path 를 조회해서 좌표가 존재하는지 체크할 수 있어야 함. \n     */\n    clearElementAll() {\n        this.state.cachedCurrentElement = {};\n    }\n\n    clearElement(id) {\n        this.state.cachedCurrentElement[id] = undefined\n    }\n\n    getElement(id) {\n\n        if (!this.state.cachedCurrentElement[id]) {\n            this.state.cachedCurrentElement[id] = this.refs.$view.$(`[data-id=\"${id}\"]`);\n        }\n\n        return this.state.cachedCurrentElement[id];\n    }\n\n    // text 의 경우 doubleclick 을 해야 포커스를 줄 수 있고 \n    // 그 이후에 편집이 가능하다. \n    [DOUBLECLICK('$view .element-item.text .text-content')](e) {\n        e.$dt.addClass('focused');\n        e.$dt.attr('contenteditable', 'true');\n        e.$dt.focus();\n        e.$dt.select();\n    }\n\n    [FOCUSOUT('$view .element-item.text .text-content')](e) {\n        e.$dt.removeAttr('contenteditable');\n        e.$dt.removeClass('focused');\n    }\n\n    [KEYUP('$view .element-item.text .text-content')](e) {\n\n        var content = e.$dt.html()\n        var text = e.$dt.text();\n        var id = e.$dt.parent().attr('data-id');\n        //FIXME: matrix에 기반한 좌표 연산이 필요하다. \n\n        var arr = []\n        this.$selection.items.filter(it => it.id === id).forEach(it => {\n            it.reset({\n                content,\n                text,\n            })\n            arr.push({ id: it.id, content, text })\n        })\n\n        this.emit('refreshContent', arr);\n\n        this.emit('refreshSelectionTool', false);\n    }\n\n    /**\n     * 레이어를 움직이기 위한 이벤트 실행 여부 체크 \n     * \n     * @param {PointerEvent} e \n     */\n    checkEditMode(e) {\n        // hand tool 이 on 되어 있으면 드래그 하지 않는다. \n        if (this.$config.get('set.tool.hand')) {\n            return false;\n        }\n\n        // space 키가 눌러져있을 때는 실행하지 않는다. \n        const code = this.$shortcuts.getGeneratedKeyCode(KEY_CODE.space);\n        if (this.$keyboardManager.check(code)) {\n            return false;\n        }\n\n        // 전체 캔버스 영역을 클릭하면 selection 하지 않는다. \n        const $target = Dom.create(e.target);\n        if ($target.hasClass('canvas-view')) {\n            return false;\n        }\n\n        if (!e.shiftKey) {\n            const mousePoint = this.$viewport.getWorldPosition(e);\n            if (this.$selection.hasPoint(mousePoint)) {\n    \n                // selection 영역과 hover item 이 겹치면  hover item 을 선택한걸로 한다. \n                if (this.$selection.hasHoverItem()) {\n                    // selection 영역이 동일하고 \n                    // hover 된 id 가 부모가 아니면 \n                    // hover 된 아이템을 선택하게 된다. \n                    if (this.$selection.hasParent(/*parentId*/this.$selection.hoverId) === false) {\n                        this.$selection.selectHoverItem();\n                    }\n    \n                }\n    \n                return true;\n            }\n\n            // hover item 이 있으면 클릭 대상이 있다고 간주한다. \n            if (this.$selection.hasHoverItem()) { \n                this.$selection.selectHoverItem();\n                return true;\n            }\n        }\n\n\n        const $element = $target.closest('element-item');\n\n        if ($element) {\n            // text 에 focus 가 가있는 경우는 움직이지 않는다. \n            if ($element.hasClass('focused')) {\n                return false;\n            }\n\n            var id = $element.attr('data-id')\n\n            // altKey 눌러서 copy 하지 않고 드랙그만 하게 되면  \n            if (e.altKey === false) {\n                const item = this.$model.get(id);\n\n                // artboard 가 자식이 있으면 움직이지 않음 \n                if (item.is('artboard') && item.hasChildren()) {\n                    this.$config.set('set.dragarea.mode', true);\n                    return true;\n                }\n\n            }\n\n        } else {\n            // 움직일 수 있는 영역이 아니기 때문에 false 리턴해서 드래그를 막는다. \n            return false;\n        }\n\n\n        return true;\n    }\n\n    [DOUBLECLICK('$view')](e) {\n\n        const $item = Dom.create(e.target).closest('element-item');\n\n        if ($item) {\n            const id = $item.attr('data-id');\n\n            this.nextTick(() => {\n                this.emit('doubleclick.item', e, id);\n            }, 100)\n    \n        }\n    }\n\n    /**\n     * 드래그 해서 객체 옮기기 \n     *\n     * ctrl + pointerstart 하는  시점에 카피해보자.  \n     * \n     * @param {PointerEvent} e \n     */\n    [POINTERSTART('$view') + IF('checkEditMode')\n        + MOVE('calculateMovedElement')\n        + END('calculateEndedElement')\n    ](e) {\n        this.initMousePoint = this.$viewport.getWorldPosition(e);\n\n        if (this.$config.get('set.dragarea.mode')) {\n            this.emit('startDragAreaView');    \n\n            return;\n        }\n\n\n\n        let isInSelectedArea = this.$selection.hasPoint(this.initMousePoint)\n        const $target = Dom.create(e.target);\n\n        if ($target.hasClass('canvas-view')) {\n            this.$selection.select();\n            this.initializeDragSelection();\n            this.emit('history.refreshSelection');\n\n            return false;\n        }\n\n        const $element = $target.closest('element-item');\n\n        var id = $element && $element.attr('data-id');\n\n        // alt(option) + pointerstart 시점에 Layer 카피하기         \n        if (e.altKey) {\n\n            if (isInSelectedArea) {\n                // 이미 selection 영역안에 있으면 그대로 드래그 할 수 있도록 맞춘다. \n            } else {\n                if (this.$selection.check({ id }) === false) {\n                    // 선택된게 없으면 id 로 선택 \n                    this.$selection.selectByGroup(id);\n                }\n            }\n\n            if (this.$selection.isEmpty === false) {\n                // 선택된 모든 객체 카피하기 \n                this.$selection.selectAfterCopy();\n                this.trigger('refreshAllCanvas')\n                this.emit('refreshLayerTreeView')\n\n                this.initializeDragSelection();\n                this.emit('history.refreshSelection');\n            }\n\n        } else {\n            if (isInSelectedArea) {\n                // 이미 selection 영역안에 있으면 그대로 드래그 할 수 있도록 맞춘다. \n            } else {\n                // shift key 는 selection 을 토글한다. \n                if (e.shiftKey) {\n                    this.$selection.toggleById(id);\n                } else {\n                    // 선택이 안되어 있으면 선택 \n                    if (this.$selection.check({ id }) === false) {\n\n                        const current = this.$model.get(id);\n\n                        if (current && current.is('artboard') && current.hasChildren()) {\n                            // NOOP\n                        } else if (current.hasChildren()) {\n                            // 자식이 있으면 그대로 드래그 할 수 있도록 맞춘다.\n                            this.$selection.selectByGroup(id);\n                        } else {\n                            // group 선택을 한다. \n                            // group 선택은 현재 선택된 객체가 속한 그룹의 최상의 부모를 선택하게 한다. \n                            // 이 때 artboard 가 최상위이면 현재 객체를 그대로 선택한다. \n                            this.$selection.selectByGroup(id);\n                        }\n\n                    }\n                }\n\n            }\n\n            this.initializeDragSelection();\n            this.emit('history.refreshSelection');\n        }\n\n    }\n\n    initializeDragSelection() {\n        this.$selection.reselect();\n        this.$snapManager.clear();\n\n        this.emit('refreshSelectionTool', true);\n    }\n\n    calculateMovedElement() {\n\n        if (this.$config.get('set.dragarea.mode')) {\n            this.emit('moveDragAreaView');            \n            return;    \n        }\n\n        // layout item 은 움직이지 않고 layout 이 좌표를 그리도록 한다. \n        if (this.$selection.isLayoutItem) {\n            return;\n        }\n\n        const targetMousePoint = this.$viewport.getWorldPosition();\n\n        const newDist = vec3.floor([], vec3.subtract([], targetMousePoint, this.initMousePoint));\n\n        this.moveTo(newDist);\n\n        // 최종 위치에서 ArtBoard 변경하기 \n        if (this.$selection.changeArtBoard()) {\n            this.initMousePoint = targetMousePoint;\n            this.$selection.reselect();\n            this.$snapManager.clear();\n            this.clearElementAll();\n\n            this.trigger('refreshAllCanvas')\n\n            // ArtBoard 변경 이후에 LayerTreeView 업데이트\n            this.emit('refreshLayerTreeView')\n        }\n\n        this.emit('setAttributeForMulti', this.$selection.pack('x', 'y'));\n        this.emit('refreshSelectionTool', true);\n\n    }\n\n    /**\n     * 선택된 레이어 이동하기 \n     * \n     * 1. 마우스 포인트로 이동한 거리 생성 \n     * 2. world 포인트로 이동한 거리 생성 \n     * 3. world 포인트로 snap 체크 \n     * 4. snap 만큼 이동 \n     * 5. 캐쉬된 개별 레어이의 verties 에 localDist 더함 \n     * 6. 처음 포인트와 새로운 포인트를 부모의 Matrix 의 역을 곱함 \n     * 7. 둘 사이의 차이를 구해서 실질적으로 움직인 dist 를 찾아냄 \n     * \n     * @param {vec3} dist \n     */\n    moveTo(dist) {\n\n        //////  snap 체크 하기 \n        const snap = this.$snapManager.check(this.$selection.cachedRectVerties.map(v => {\n            return vec3.add([], v, dist)\n        }), 3);\n\n        const localDist = vec3.add([], snap, dist);\n\n        const result = {}\n        this.$selection.cachedItemMatrices.forEach(it => {\n\n            // newVerties 에 실제 움직인 좌표로 넣고 \n            const newVerties = it.verties.map(v => {\n                return vec3.add([], v, localDist)\n            })\n\n            // 첫번째 좌표 it.rectVerties[0] 과 \n            // 마지막 좌표 newVerties[0] 를 \n            // parentMatrixInverse 기준으로 다시 원복하고 거리를 잰다 \n            // 그게 실제적인 distance 이다. \n            const newDist = vec3.subtract(\n                [], \n                vec3.transformMat4([], newVerties[0], it.parentMatrixInverse), \n                vec3.transformMat4([], it.verties[0], it.parentMatrixInverse)\n            )\n\n            result[it.id] = {\n                x: Length.px(Math.floor(it.x + newDist[0])),          // 1px 단위로 위치 설정 \n                y: Length.px(Math.floor(it.y + newDist[1])),\n            }\n        })\n\n        this.$selection.reset(result);\n    }\n\n    [SUBSCRIBE('selectionToolView.moveTo')](newDist) {\n        this.moveTo(newDist);\n        this.emit('refreshSelectionTool', true);\n    }\n\n    calculateEndedElement(dx, dy) {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const newDist = vec3.dist(targetMousePoint, this.initMousePoint);\n\n        if (this.$config.get('set.dragarea.mode')) {\n            this.emit('endDragAreaView');\n            this.$config.set('set.dragarea.mode', false)\n            return; \n        }\n\n        if (newDist < 1) {\n            // NOOP \n            // 마우스를 움직이지 않은 상태 \n        } else {\n            this.$selection.reselect();\n            this.$snapManager.clear();\n            // this.emit('removeGuideLine');\n            this.command(\n                'setAttributeForMulti',\n                \"move item\",\n                this.$selection.pack('x', 'y')\n            );\n        }\n\n        this.emit('refreshSelectionTool', true);\n    }\n\n    [BIND('$body')]() {\n        const { canvasWidth, canvasHeight } = this.$editor;\n\n        var width = Length.px(canvasWidth);\n        var height = Length.px(canvasHeight);\n\n        return {\n            'tabIndex': -1,\n            style: {\n                width,\n                height,\n            }\n        }\n    }\n\n    [BIND('$view')]() {\n\n        const { translate, transformOrigin: origin, scale } = this.$viewport;\n\n        const transform = `translate(${translate[0]}px, ${translate[1]}px) scale(${scale || 1})`;\n        const transformOrigin = `${origin[0]}px ${origin[1]}px`\n\n        return {\n            style: {\n                'transform-origin': transformOrigin,\n                transform\n            }\n        }\n    }\n\n\n\n    // 객체를 부분 업데이트 하기 위한 메소드 \n    [SUBSCRIBE('refreshSelectionStyleView')](obj) {\n        var items = obj ? [obj] : this.$selection.items;\n\n        items.forEach(current => {\n            this.updateElement(current);\n        })\n    }\n\n    updateElement(item) {\n        if (item) {\n            this.$editor.html.update(item, this.getElement(item.id), this.$editor)\n        }\n\n    }\n\n    // 타임라인에서 객체를 업데이트 할 때 발생함. \n    updateTimelineElement(item) {\n        if (item) {\n            this.$editor.html.update(item, this.getElement(item.id), this.$editor)\n        }\n\n    }\n\n    [SUBSCRIBE('playTimeline', 'moveTimeline')]() {\n\n        const project = this.$selection.currentProject;\n        var timeline = project.getSelectedTimeline();\n\n        if (timeline) {\n            timeline.animations.map(it => this.$model.get(it.id)).forEach(current => {\n                this.updateTimelineElement(current, true, false);\n            })\n        }\n\n    }\n\n    /**\n     * canvas 전체 다시 그리기 \n     */\n    [SUBSCRIBE('refreshAllCanvas')]() {\n\n        this.clearElementAll();\n\n        const project = this.$selection.currentProject\n\n        const html = this.$editor.html.render(project, null, this.$editor) || '';\n\n        this.refs.$view.updateDiff(html, undefined, {\n            checkPassed: (oldEl, newEl) => {\n                // data-id 가 동일하면 dom diff 를 하지 않고 넘겨버린다. \n                const isPassed =  oldEl.getAttribute(\"data-id\") === newEl.getAttribute(\"data-id\")\n                return isPassed\n            }\n        })\n\n        this.bindData('$view');\n\n        // 최초 전체 객체를 돌면서 update 함수를 실행해줄 트리거가 필요하다. \n        this.trigger('updateAllCanvas', project);\n    }\n\n    [SUBSCRIBE('updateAllCanvas')](parentLayer) {\n        parentLayer.layers.forEach(item => {\n            this.updateElement(item, this.getElement(item.id));\n            this.trigger('updateAllCanvas', item);\n        })\n    }\n\n    [SUBSCRIBE('refreshAllElementBoundSize')]() {\n\n        var selectionList = this.$selection.items.map(it => it.is('artboard') ? it : it.parent)\n\n        var list = [...new Set(selectionList)];\n        list.forEach(it => {\n            this.trigger('refreshElementBoundSize', it);\n        })\n    }\n\n    [SUBSCRIBE('refreshElementBoundSize')](parentObj) {\n        if (parentObj) {\n\n            const hasChangedDimension = parentObj.changedBoxModel || parentObj.hasChangedField('box-model', 'width', 'height', 'layout', 'flex-layout', 'grid-layout');\n            \n            parentObj.layers.forEach(it => {\n                // if (it.isLayoutItem()) {\n                var $el = this.getElement(it.id);\n\n                if ($el && hasChangedDimension) {\n                    const { x, y, width, height } = $el.offsetRect();\n\n                    it.reset({\n                        x: Length.px(x),\n                        y: Length.px(y),\n                        width: Length.px(width),\n                        height: Length.px(height)\n                    })\n\n                    this.updateElement(it, $el);\n                    this.trigger('refreshSelectionStyleView', it, true);\n                }\n                // }\n\n                this.trigger('refreshElementBoundSize', it);\n            })\n        }\n    }\n\n    [SUBSCRIBE('updateViewport')]() {\n        this.bindData('$view');\n    }\n\n    /**\n     * 기본 커서 제어 \n     */\n    [CONFIG('bodyEvent')]() {\n\n        // TODO: 커서를 제어하는 element 가 아니면 기본 커서로 지정해야할 듯 \n        const number = Dom.create(this.$config.get('bodyEvent').target).data('number')\n\n        if (!number) {\n            this.emit('recoverCursor')\n        }\n    }\n\n}","\n\nimport { CLICK, PREVENT, STOP, SUBSCRIBE, CONFIG, LOAD, DOMDIFF } from \"el/sapa/Event\";\nimport { OBJECT_TO_CLASS } from \"el/utils/func\";\n\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './PageTools.scss';\nimport PathParser from 'el/editor/parser/PathParser';\n\nexport default class PageTools extends EditorElement {\n\n  template() {\n    return /*html*/`     \n      <div class='elf--page-tools'>\n        <button type='button' ref='$minus'>${iconUse(\"remove2\")}</button>\n        <div class='select'>\n          <object \n            refClass=\"NumberInputEditor\" \n            ref='$scale' \n            min='10' \n            max='240' \n            step=\"1\" \n            key=\"scale\" \n            value=\"${this.$viewport.scale * 100}\" \n            onchange=${this.subscribe((key, scale) => {\n      this.$viewport.setScale(scale / 100);\n      this.emit('updateViewport');\n      this.trigger('updateViewport');\n    }, 1000)}\n        />\n        </div>\n        <label>%</label>\n        <button type='button' ref='$plus'>${iconUse(\"add\")}</button>        \n        <button type='button' ref='$center' data-tooltip=\"Move to Center\" data-direction=\"top\">${iconUse(\"gps_fixed\")}</button>    \n        <button type='button' ref='$ruler' data-tooltip=\"Toggle Ruler\" data-direction=\"top\">${iconUse(\"straighten\")}</button>    \n        <button type='button' ref='$fullscreen' data-tooltip=\"FullScreen Canvas\" data-direction=\"top\">${iconUse(\"fullscreen\")}</button>                        \n        <button type='button' ref='$pantool' class=\"${OBJECT_TO_CLASS({\n      on: this.$config.get('set.tool.hand')\n    })}\" data-tooltip=\"Hand | H\" data-direction=\"top\">${iconUse(\"pantool\")}</button>   \n        <span class=\"divider\">|</span>\n        <button type=\"button\" ref=\"$selectedCount\" style=\"color:var(--elf--selected-color);font-weight: bold;text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.1)\"></button>\n        <span ref=\"$buttons\"></span>\n        ${this.$injectManager.generate('page.tools')}                             \n      </div>\n\n    `;\n  }\n\n\n  [SUBSCRIBE('updateViewport')]() {\n    const scale = Math.floor(this.$viewport.scale * 100)\n\n    if (this.children.$scale) {\n      this.children.$scale.setValue(scale);\n    }\n\n  }\n\n  [CLICK('$plus') + PREVENT + STOP]() {\n    const oldScale = this.$viewport.scale\n    this.$viewport.setScale(oldScale + 0.01);\n    this.emit('updateViewport');\n    this.trigger('updateViewport');\n  }\n\n  [CLICK('$minus') + PREVENT + STOP]() {\n    const oldScale = this.$viewport.scale\n    this.$viewport.setScale(oldScale - 0.01);\n    this.emit('updateViewport');\n    this.trigger('updateViewport');\n  }\n\n  [CLICK('$center') + PREVENT + STOP]() {\n    this.emit('moveSelectionToCenter');\n  }\n\n  [CLICK('$pantool') + PREVENT + STOP]() {\n    this.$config.toggle('set.tool.hand');\n  }\n\n  [CLICK('$ruler') + PREVENT + STOP]() {\n    this.$config.toggle('show.ruler');\n  }\n\n  [CLICK('$fullscreen') + PREVENT + STOP]() {\n    this.emit('bodypanel.toggle.fullscreen');\n  }\n\n  [CLICK('$buttons button') + PREVENT + STOP](e) {\n    const itemId = e.$dt.data('item-id');\n    const pathIndex = e.$dt.data('path-index');\n\n    const current = this.$selection.get(itemId);\n\n    if (current.editablePath) {\n      this.emit('open.editor', current);\n    } else {\n\n      const pathList = PathParser.fromSVGString(current.accumulatedPath().d).toPathList()\n\n      this.emit('showPathEditor', 'modify', {\n        box: 'canvas',\n        current,\n        matrix: current.matrix,\n        d: pathList[pathIndex].d,\n        changeEvent: (data) => {\n  \n          pathList[pathIndex].reset(data.d);\n  \n          const newPathD = current.invertPath(PathParser.joinPathList(pathList).d).d;\n  \n          this.command(\"setAttributeForMulti\", \"modify sub path\", {\n            [itemId]: current.updatePath(newPathD)\n          });\n        }\n      })\n    }\n\n    this.emit('hideSelectionToolView');\n  }\n\n  [CONFIG('set.tool.hand')]() {\n    this.refs.$pantool.toggleClass('on', this.$config.get('set.tool.hand'));\n  }\n\n  [SUBSCRIBE('refreshSelection')]() {\n    this.refs.$selectedCount.html(this.$selection.length + \"\");\n\n    this.load('$buttons')\n  }\n\n  [LOAD('$buttons') + DOMDIFF]() {\n\n    if (this.$selection.isEmpty) return \"\";\n\n\n    const buttons = [];\n\n    this.$selection.items.forEach(item => {\n\n      const list = PathParser.fromSVGString(item.accumulatedPath().d).toPathList()\n\n      list.forEach((path, index) => {\n        buttons.push({\n          item,\n          index,\n          path\n        })\n      })\n\n    })\n\n    return buttons.map((it) => {\n      const { item, index, path } = it;\n      return /*html*/`\n        <button type=\"button\" data-item-id=\"${item.id}\" data-path-index=\"${index}\">\n          <svg width=\"16\" height=\"16\" overflow=\"visible\">\n            <path d=\"${path.scaleWith(16, 16).d}\" style=\"fill:${item.fill};stroke:currentColor\" stroke-width=\"1\" />\n          </svg>\n        </button>\n      `\n    })\n  }\n}","\nimport { POINTERSTART, BIND, KEYUP, IF, ESCAPE, ENTER, PREVENT, STOP, POINTERMOVE, CHANGE, SUBSCRIBE, KEYDOWN } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport PathStringManager from \"el/editor/parser/PathStringManager\";\nimport { rectToVerties, vertiesToRectangle } from \"el/utils/collision\";\nimport { vec3 } from \"gl-matrix\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport \"./LayerAppendView.scss\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport PathParser from 'el/editor/parser/PathParser';\n\nexport default class LayerAppendView extends EditorElement {\n\n    template() {\n        return /*html*/`\n        <div class='elf--layer-append-view'>\n            <div class='area' ref='$area'></div>\n            <div class='area-rect' ref='$areaRect'></div>\n            <div class='area-pointer' ref='$mousePointer'></div>\n            <div class='area-pointer-view' ref='$mousePointerView'></div>            \n            <input type='file' accept='image/*' multiple=\"true\" ref='$file' class='embed-file-input'/>\n            <input type='file' accept='video/*' multiple=\"true\" ref='$video' class='embed-video-input'/>            \n        </div>\n        `\n    }\n\n    initState() {\n        return {\n            dragStart: false,\n            width: 0,\n            height: 0,\n            color: 'black',\n            fontSize: 30,\n            showRectInfo: false,\n            areaVerties: rectToVerties(0, 0, 0, 0),\n            content: 'Insert a text',\n            pathManager: new PathStringManager(),\n            rect: {},\n            options: {},\n            containerItem: undefined,\n            patternInfo: {}\n        }\n    }\n\n    get scale() {\n        return this.$viewport.scale;\n    }\n\n    checkNotDragStart() {\n        return Boolean(this.state.dragStart) === false;\n    }\n\n    [POINTERMOVE('$el') + IF('checkNotDragStart')](e) {\n\n        const vertex = this.$viewport.getWorldPosition(e);\n\n        // 영역 드래그 하면서 snap 하기 \n        const newVertex = this.$snapManager.checkPoint(vertex);\n\n        if (vec3.equals(newVertex, vertex) === false) {\n            this.state.target = newVertex;\n            this.state.targetVertex = this.$viewport.applyVertex(this.state.target);\n            this.state.targetPositionVertex = vec3.clone(this.state.target);\n            this.state.targetGuides = this.$snapManager.findGuideOne([this.state.target]);\n        } else {\n            this.state.target = vec3.floor([], vertex);\n            this.state.targetVertex = vec3.floor([], this.$viewport.applyVertex(this.state.target));\n            this.state.targetGuides = [];\n            this.state.targetPositionVertex = null;\n        }\n\n        this.bindData('$mousePointer')\n        this.bindData('$mousePointerView');\n    }\n\n    [POINTERSTART('$el') + MOVE() + END() + PREVENT + STOP](e) {\n\n        this.initMousePoint = this.state.targetPositionVertex ? this.state.targetPositionVertex : this.$viewport.getWorldPosition(e);\n\n        this.state.dragStart = true;\n        this.state.color = '#C4C4C4'; //Color.random()\n        this.state.text = '';\n\n        const minX = this.initMousePoint[0];\n        const minY = this.initMousePoint[1];\n\n        const verties = rectToVerties(minX, minY, 0, 0);\n        this.state.areaVerties = this.$viewport.applyVerties(verties);\n\n        this.bindData('$area');\n        this.bindData('$areaRect');\n\n    }\n\n    createLayerTemplate(width, height) {\n        const { type, text, color, inlineStyle } = this.state;\n\n        switch (type) {\n            case 'artboard':\n                return /*html*/`<div class='draw-item' style='background-color: white; ${inlineStyle}'></div>`;\n            case 'rect':\n                return /*html*/`<div class='draw-item' style='background-color: ${color}; ${inlineStyle}'></div>`\n            case 'circle':\n                return /*html*/`<div class='draw-item' style='background-color: ${color}; border-radius: 100%; ${inlineStyle}'></div>`\n            case 'text':\n            case 'svg-text':\n                return /*html*/`\n                <div \n                    class='draw-item' \n                    \n                    style='font-size: 30px;outline: 1px solid blue;white-space:nowrap'\n                >\n                    <p contenteditable=\"true\" style=\"margin:0px;display: inline-block;outline:none;\" ></p>\n                </div>`\n            case 'svg-rect':\n                return /*html*/`\n            <div class='draw-item'>\n                <svg width=\"${width}\" height=\"${height}\" style=\"width:100%; height:100%;\" overflow=\"visible\">\n                    <path d=\"${PathParser.makeRect(0, 0, width, height).d}\" stroke-width=\"1\" stroke=\"black\" fill=\"transparent\" />\n                </svg>\n            </div>\n            `\n            case 'svg-circle':\n                return /*html*/`\n            <div class='draw-item'>\n                <svg width=\"${width}\" height=\"${height}\" style=\"width:100%; height:100%;\" overflow=\"visible\">\n                    <path d=\"${PathParser.makeCircle(0, 0, width, height).d}\" stroke-width=\"1\" stroke=\"black\" fill=\"transparent\" />\n                </svg>\n            </div>\n            `\n            case 'svg-path':\n                const newD = this.state.d.clone().scale(width / this.state.bboxRect.width, height / this.state.bboxRect.height).d;\n                const options = this.state.options;\n                return /*html*/`\n            <div class='draw-item'>\n                <svg width=\"${width}\" height=\"${height}\" style=\"width:100%; height:100%;\" overflow=\"visible\">\n                    <path   d=\"${newD}\" \n                            stroke-width=\"${options['stroke-width'] || 1}\" \n                            stroke=\"${options['stroke'] || \"black\"}\" \n                            fill=\"${options['fill'] || 'transparent'}\" \n                    />\n                </svg>\n            </div>\n            `\n            case 'polygon':\n                const options2 = this.state.options;\n                return /*html*/`\n                <div class='draw-item'>\n                    <svg width=\"${width}\" height=\"${height}\" style=\"width:100%; height:100%;\" overflow=\"visible\">\n                        <path   d=\"${PathParser.makePolygon(width, height, options2.count).d}\" \n                                stroke-width=\"${options2['stroke-width'] || 1}\" \n                                stroke=\"${options2['stroke'] || \"black\"}\" \n                                fill=\"${options2['fill'] || 'transparent'}\" \n                        />\n                    </svg>\n                </div>\n                `\n            case 'star':\n                const options3 = this.state.options;\n                return /*html*/`\n                    <div class='draw-item'>\n                        <svg width=\"${width}\" height=\"${height}\" style=\"width:100%; height:100%;\" overflow=\"visible\">\n                            <path   d=\"${PathParser.makeStar(width, height, options3.count, options3.radius, options3.tension).d}\" \n                                    stroke-width=\"${options3['stroke-width'] || 1}\" \n                                    stroke=\"${options3['stroke'] || \"black\"}\" \n                                    fill=\"${options3['fill'] || 'transparent'}\" \n                            />\n                        </svg>\n                    </div>\n                    `\n            case 'svg-textpath':\n                return /*html*/`\n            <div class='draw-item' style='outline: 1px solid blue;'>\n                <svg width=\"${width}\" height=\"${height}\" style=\"width:100%; height:100%;font-size: ${height}px;\" overflow=\"visible\">\n                    <defs>\n                        <path id='layer-add-path' d=\"${PathStringManager.makeLine(0, height, width, height)}\" />\n                    </defs>\n                    <text>\n                        <textPath \n                          xlink:href=\"#layer-add-path\"\n                          textLength=\"100%\"\n                          lengthAdjust=\"spacingAndGlyphs\"\n                          startOffset=\"0em\"\n                        >${text}</textPath>\n                    </text>\n                </svg>\n            </div>\n            `\n            default:\n                return /*html*/`<div class='draw-item' style='outline: 1px solid blue; ${inlineStyle}'></div>`\n        }\n    }\n\n    [BIND('$area')]() {\n\n        const { areaVerties } = this.state;\n\n        const { left, top, width, height } = vertiesToRectangle(areaVerties);\n\n        return {\n            style: { left, top, width, height },\n            innerHTML: this.createLayerTemplate(width.value, height.value)\n        }\n    }\n\n    [BIND('$areaRect')]() {\n\n        const { areaVerties, showRectInfo } = this.state;\n\n        const newVerties = this.$viewport.applyVertiesInverse(areaVerties);\n\n        const { width, height } = vertiesToRectangle(newVerties);\n\n        return {\n            style: {\n                display: showRectInfo ? 'inline-block' : 'none',\n                left: Length.px(areaVerties[2][0]),\n                top: Length.px(areaVerties[2][1]),\n            },\n            innerHTML: `x: ${Math.round(newVerties[0][0])}, y: ${Math.round(newVerties[0][1])}, ${width.value} x ${height.value}`\n        }\n    }\n\n    [BIND('$mousePointerView')]() {\n\n        const { areaVerties, showRectInfo } = this.state;\n        const { target = vec3.create(), targetVertex = vec3.create() } = this.state;\n\n        return {\n            style: {\n                display: !showRectInfo ? 'inline-block' : 'none',\n                left: Length.px(targetVertex[0] || -10000),\n                top: Length.px(targetVertex[1] || -10000),\n            },\n            innerHTML: `x: ${Math.round(target[0])}, y: ${Math.round(target[1])}`\n        }\n    }\n\n    makeMousePointer() {\n\n        if (this.state.dragStart) return '';\n\n        const { target, targetVertex } = this.state;\n\n        if (!target) return '';\n\n        const guides = (this.state.targetGuides || []).filter(Boolean);\n\n        // if (guides.length === 0) return; \n\n        return /*html*/`\n        <svg width=\"100%\" height=\"100%\">\n            ${guides.map(guide => {\n            this.state.pathManager.reset();\n\n            guide = this.$viewport.applyVerties([guide[0], guide[1]])\n\n            return this.state.pathManager\n                .M({ x: guide[0][0], y: guide[0][1] })\n                .L({ x: guide[1][0], y: guide[1][1] })\n                .X({ x: guide[0][0], y: guide[0][1] })\n                .X({ x: guide[1][0], y: guide[1][1] })\n                .toString('layer-add-snap-pointer')\n        }).join('\\n')}\n        </svg>\n    `\n    }\n\n    [BIND('$mousePointer')]() {\n\n        const html = this.makeMousePointer()\n\n        // if (html === '') return;\n\n        return {\n            innerHTML: html\n        }\n    }\n\n    move() {\n        const e = this.$config.get('bodyEvent');\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const newMousePoint = this.$snapManager.checkPoint(targetMousePoint);\n\n        if (vec3.equals(newMousePoint, targetMousePoint) === false) {\n            this.state.target = newMousePoint;\n            this.state.targetVertex = this.$viewport.applyVertex(newMousePoint);\n            this.state.targetGuides = this.$snapManager.findGuideOne([newMousePoint]).filter(Boolean);\n        } else {\n            this.state.target = undefined;\n            this.state.targetGuides = [];\n        }\n\n        const isShiftKey = e.shiftKey;\n\n        const minX = Math.min(newMousePoint[0], this.initMousePoint[0]);\n        const minY = Math.min(newMousePoint[1], this.initMousePoint[1]);\n\n        const maxX = Math.max(newMousePoint[0], this.initMousePoint[0]);\n        const maxY = Math.max(newMousePoint[1], this.initMousePoint[1]);\n\n        let dx = maxX - minX;\n        let dy = maxY - minY;\n\n        if (isShiftKey) {\n            dy = dx;\n        }\n\n        // 영역 드래그 하면서 snap 하기 \n        const verties = rectToVerties(minX, minY, dx, dy);\n        this.state.areaVerties = this.$viewport.applyVerties(verties);\n\n        this.state.showRectInfo = true;\n\n\n        this.bindData('$area');\n        this.bindData('$areaRect');\n        this.bindData('$mousePointer')\n        this.bindData('$mousePointerView');\n\n    }\n\n    end(dx, dy) {\n        const isAltKey = this.$config.get('bodyEvent').altKey;\n        let { color, content, fontSize, areaVerties, patternInfo } = this.state;\n\n        // viewport 좌표를 world 좌표로 변환 \n        const rectVerties = this.$viewport.applyVertiesInverse(areaVerties);\n\n        // artboard 가 아닐 때만 parentArtBoard 가 존재 \n        const parentArtBoard = this.$selection.getArtboardByPoint(rectVerties[0]);\n\n        let { x, y, width, height } = vertiesToRectangle(rectVerties);\n        let hasArea = true;\n        if (width.value === 0 && height.value === 0) {\n\n            switch (this.state.type) {\n                case \"text\":\n                    content = '';\n                    height.set(this.state.fontSize);\n                    hasArea = false;\n                    break;\n                default:\n                    width = Length.px(100)\n                    height = Length.px(100)\n                    break;\n            }\n        }\n\n        var rect = {\n            x, y, width, height,\n            'background-color': color,\n            'content': content,\n            'font-size': fontSize,\n            ...patternInfo.attrs,\n            ...this.state.options\n        }\n\n        switch (this.state.type) {\n            case 'text':\n            case 'svg-text':\n            case 'svg-textpath':\n                delete rect['background-color'];\n                break;\n            case \"svg-path\":\n                rect['d'] = this.state.d.clone().scale(width / this.state.bboxRect.width, height / this.state.bboxRect.height).d;\n                break;\n            default:\n                delete rect['content'];\n                break;\n        }\n\n        switch (this.state.type) {\n            case 'image': this.trigger('openImage', rect, parentArtBoard); break;\n            case 'video': this.trigger('openVideo', rect, parentArtBoard); break;\n            case 'audio': this.trigger('openAudio', rect, parentArtBoard); break;\n            case 'text':\n\n                if (hasArea) {\n                    // NOOP\n                    // newComponent 를 그대로 실행한다. \n                    rect['font-size'] = Length.px(this.state.fontSize / this.$viewport.scale);\n                } else {\n                    const scaledFontSize = this.state.fontSize / this.$viewport.scale;\n                    const $drawItem = this.refs.$area.$(\".draw-item > p\");\n                    $drawItem.parent().css('height', `${scaledFontSize}px`);\n                    $drawItem.parent().css('font-size', `${scaledFontSize}px`);\n                    $drawItem.select();\n                    $drawItem.focus();\n                    return;\n                }\n\n            default: this.emit('newComponent', this.state.type, rect, /* isSelected */ true, parentArtBoard); break;\n        }\n\n\n        if (!isAltKey) {\n            this.trigger('hideLayerAppendView')\n        }\n\n        this.state.dragStart = false;\n        this.state.showRectInfo = false;\n        this.state.target = undefined;\n        this.bindData('$areaRect');\n    }\n\n    /**\n     * 그려지는 layer type 을 지정합시다. \n     * \n     * @param {string} type \n     * @param {object} options \n     */\n    [SUBSCRIBE('showLayerAppendView')](type, options = {}) {\n        this.state.type = type;\n        this.state.options = options;\n        this.state.isShow = true;\n        this.refs.$area.empty()\n        this.$el.show();\n        this.$el.focus();\n        this.$snapManager.clear();\n        this.state.inlineStyle = CSS_TO_STRING(this.$editor.html.toCSS(this.$model.createModel({\n            itemType: type,\n            ...options\n        }, false), {\n            top: true,\n            left: true,\n            width: true,\n            height: true,\n            transform: true,\n            \"transform-origin\": true,\n        }))\n\n        if (options.d) {\n            this.state.d = new PathParser(options.d);\n            this.state.bboxRect = this.state.d.rect();\n        }\n\n        this.emit('push.mode.view', 'LayerAppendView');\n    }\n\n    [SUBSCRIBE('hideLayerAppendView')]() {\n\n        if (this.$el.isShow()) {\n            this.state.isShow = false;\n            // this.refs.$area.empty()\n            this.$el.hide();\n            this.emit('pop.mode.view', 'LayerAppendView');\n        }\n\n    }\n\n    [SUBSCRIBE('hideAddViewLayer')]() {\n        this.state.isShow = false;\n        this.$el.hide();\n    }\n\n\n    isShow() {\n        return this.state.isShow\n    }\n\n    [KEYDOWN('document') + IF('isShow') + ESCAPE + ENTER + PREVENT + STOP](e) {\n        // NOOP\n    }\n    [KEYUP('document') + IF('isShow') + ESCAPE + ENTER + PREVENT + STOP](e) {\n\n        switch (this.state.type) {\n            case \"text\":\n                const $t = Dom.create(e.target);\n\n                let { fontSize, areaVerties } = this.state;\n\n                // viewport 좌표를 world 좌표로 변환 \n                const rectVerties = this.$viewport.applyVertiesInverse(areaVerties);\n                const { x, y } = vertiesToRectangle(rectVerties);\n                const { width, height } = $t.rect();\n                const text = $t.text();\n\n                if (text.length === 0) {\n                    break;\n                }\n\n                const [\n                    [newWidth, newHeight, newFontSize]\n                ] = this.$viewport.applyScaleVertiesInverse([\n                    [width, height, fontSize]\n                ])\n\n\n                const rect = {\n                    x,\n                    y,\n                    width: Length.px(newWidth),\n                    height: Length.px(newHeight),\n                    'content': text.trim(),\n                    'font-size': Length.px(newFontSize),\n                }\n\n                // artboard 가 아닐 때만 parentArtBoard 가 존재 \n                const parentArtBoard = this.$selection.getArtboardByPoint(rectVerties[0]);\n\n                this.emit('newComponent', this.state.type, rect, /* isSelected */ true, parentArtBoard);\n                break;\n        }\n\n\n        this.state.dragStart = false;\n        this.state.showRectInfo = false;\n        this.state.target = null;\n        this.bindData('$areaRect');\n        this.trigger('hideLayerAppendView')\n    }\n\n    [KEYUP('$el') + IF('isShow')](e) {\n        switch (this.state.type) {\n            case \"text\":\n                const $t = Dom.create(e.target);\n                const { width, height } = $t.rect();\n\n\n                break;\n        }\n    }\n\n    [CHANGE('$file')](e) {\n        this.refs.$file.files.forEach(item => {\n            this.emit('updateImage', item, this.state.rect, this.state.containerItem);\n        })\n    }\n    [CHANGE('$video')](e) {\n        this.refs.$video.files.forEach(item => {\n            this.emit('updateVideo', item, this.state.rect, this.state.containerItem);\n        })\n    }\n\n    [SUBSCRIBE('openImage')](rect, containerItem) {\n        this.state.rect = rect;\n        this.state.containerItem = containerItem;\n        this.refs.$file.click();\n    }\n\n    [SUBSCRIBE('openVideo')](rect, containerItem) {\n        this.state.rect = rect;\n        this.state.containerItem = containerItem;\n        this.refs.$video.click();\n    }\n\n    [SUBSCRIBE('setPatternInfo')](patternInfo) {\n        this.state.patternInfo = patternInfo;\n    }\n\n    [SUBSCRIBE('updateViewport')]() {\n        this.$snapManager.clear();\n        this.bindData('$mousePointer')\n        this.bindData('$mousePointerView');\n    }\n}","import { getDist } from \"el/utils/math\";\n\nexport default class SegmentManager {\n\n    /**\n     * \n     * @param {ViewportManager} viewport \n     */\n    constructor(viewport) {\n        this.viewport = viewport\n        this.segmentList = []\n    }\n\n    reset() {\n        this.segmentList = []\n        return this;\n    }\n\n    checkInViewport(point) {\n        const vertext = this.viewport.applyVertexInverse([point.x, point.y, 0]);\n\n        return this.viewport.checkInViewport(vertext);\n    }\n\n\n    addLine(a, b) {\n\n        if (getDist(a.x, a.y, b.x, b.y) < 1) return this;        \n\n        if (this.checkInViewport(a) || this.checkInViewport(b)) {\n\n            this.segmentList.push({\n                line: true,\n                x1: a.x,\n                y1: a.y,\n                x2: b.x,\n                y2: b.y\n            })\n\n        }\n        return this;\n    }\n\n    addGuideLine(a, b) {\n\n        if (getDist(a.x, a.y, b.x, b.y) < 1) return this;\n\n        if (this.checkInViewport(a) || this.checkInViewport(b)) {        \n            this.segmentList.push({\n                line: true,\n                guide: true,\n                x1: a.x,\n                y1: a.y,\n                x2: b.x,\n                y2: b.y\n            })\n        }\n        return this;\n    }\n\n\n    addDistanceLine(a, b) {\n\n        if (getDist(a.x, a.y, b.x, b.y) < 1) return this;\n\n        this.segmentList.push({\n            line: true,\n            distance: true,\n            x1: a.x,\n            y1: a.y,\n            x2: b.x,\n            y2: b.y\n        })\n        return this;\n    }\n\n    addDistanceAngle(center, rx, ry, degree, last, line) {\n        this.segmentList.push({\n            angle: true,\n            rx,\n            ry,\n            line,\n            degree,\n            center,\n            last\n        })\n        return this;\n    }\n\n    addPoint(obj, point, index, segment, selected = false) {\n\n        if (this.checkInViewport(point)) {\n\n            this.segmentList.push({\n                ...obj,\n                cx: point.x,\n                cy: point.y,\n                selected,\n                index,\n                segment,\n                isFirst: point.isFirst,\n                isLast: point.isLast,\n                isSecond: point.isSecond\n\n            })\n        }\n\n\n        return this;\n    }\n\n\n    addStartPoint(obj, point) {\n        if (this.checkInViewport(point)) {\n\n            this.segmentList.push({\n                ...obj,\n                cx: point.x,\n                cy: point.y,\n                start: true\n            })\n\n        }\n\n        return this;\n    }\n\n    addCurvePoint(point, index, segment, selected = false) {\n\n        if (this.checkInViewport(point)) {\n\n\n            this.segmentList.push({\n                curve: true,\n                cx: point.x,\n                cy: point.y,\n                index,\n                selected,\n                segment,\n                isFirst: point.isFirst,\n                isLast: point.isLast,\n                isSecond: point.isSecond\n            })\n        }\n\n        return this;\n    }\n\n    addText(point, text) {\n        this.segmentList.push({\n            type: 'text',\n            cx: point.x,\n            cy: point.y,\n            text: text + \"\"\n        })\n\n        return this;\n    }\n\n    toString() {\n\n        this.segmentList.sort((a, b) => {\n            if (a.line && !b.line) {\n                return -1;\n            } else if (!a.line && b.line) {\n                return 1;\n            }\n            return 0;\n        })\n\n        return this.segmentList.map(it => {\n\n            if (it.angle) {\n                return  /*html*/`\n                <path stroke-width='1' \n                    data-distance='true'\n                    fill=\"rgba(0,0,0,0.5)\"\n                    d=\"M ${it.center.x},${it.center.y} A ${it.rx} ${it.ry},${it.degree},0,0,${it.last.x} ${it.last.y} L${it.line.x} ${it.line.y} Z\"\n                />`\n            } else if (it.line) {\n                return  /*html*/`\n                <line stroke-width='1' \n                    data-segment=\"true\"\n                    data-is-last=\"${it.isLast}\"                \n                    data-guide='${it.guide}'\n                    data-distance='${it.distance}'\n                    x1='${it.x1}' x2='${it.x2}' y1='${it.y1}' y2='${it.y2}' \n                />`\n            } else if (it.text) {\n                return '';\n                // return /*html*/ `\n                // <text x=\"${it.cx}\" y=\"${it.cy}\" dx=\"5\" dy=\"-5\" text-anchor=\"start\">${it.text}</text>\n                // `                              \n            } else if (it.curve && it.segment !== \"startPoint\") {\n                return /*html*/`\n                <path stroke-width='1'\n                    class='curve' \n                    ${it.selected && `data-selected=\"true\"`}\n                    ${it.isLast && `data-is-last=\"true\"`}\n                    ${it.isFirst && `data-is-first=\"true\"`}\n                    ${it.isSecond && `data-is-second=\"true\"`}\n                    title=\"${it.segment} curve\"  \n                    data-index='${it.index}'\n                    data-segment-point='${it.segment}'\n                    data-segment=\"true\" \n                    d=\"M ${it.cx} ${it.cy - 4}L ${it.cx + 4} ${it.cy} L ${it.cx} ${it.cy + 4} L ${it.cx - 4} ${it.cy} Z\"\n                />`\n            } else if (it.start) {\n                return /*html*/`\n                <circle \n                    cx='${it.cx}' \n                    cy='${it.cy}' \n                    r='4'                    \n                    class='segment'\n                    data-selected='${it.selected}'\n                    title=\"Center\"\n                    data-start=\"true\" \n                />`\n            } else {\n                return /*html*/`\n                <circle \n                    cx='${it.cx}' \n                    cy='${it.cy}' \n                    r='4'                    \n                    class='segment'\n                    data-selected='${it.selected}'\n                    title=\"${it.segment}\"\n                    data-is-last=\"${it.isLast}\"\n                    data-is-first=\"${it.isFirst}\"\n                    data-is-second=\"${it.isSecond}\"\n                    data-index='${it.index}' \n                    data-segment-point='${it.segment}' \n                    data-segment=\"true\" \n                />`\n            }\n\n        }).join('');\n    }\n\n}\n\n","import SegmentManager from \"./SegmentManager\";\nimport { getDist, getXYInCircle, calculateAngle360 } from \"el/utils/math\";\nimport Point from \"./Point\";\nimport PathStringManager from \"./PathStringManager\";\nimport { mat4, vec3 } from \"gl-matrix\";\nimport { clone, isNotUndefined } from \"el/sapa/functions/func\";\nimport PathParser from './PathParser';\nimport { toRectVerties } from \"el/utils/collision\";\n\nconst SEGMENT_DIRECTION = ['startPoint', 'endPoint', 'reversePoint']\n\n\nfunction calculateSnapPoint(points, sourceKey, target, distanceValue, dist) {\n    var checkedPointList = points.filter(p => {\n        if (!p) return false;\n        return Math.abs(p[sourceKey] - target) <= dist\n    }).map(p => {\n        return { dist: Math.abs(p[sourceKey] - target), point: p }\n    })\n\n    // 점과의 거래가 작은게 우선순위가 높다 \n    checkedPointList.sort((a, b) => {\n        return a.dist < b.dist ? -1 : 1;\n    })\n\n    var point = null;\n\n    if (checkedPointList.length) {\n        point = checkedPointList[0].point\n        distanceValue += point[sourceKey] - target\n    }\n\n    return { point, distanceValue };\n}\n\n\nfunction calculateMovePointSnap(points, moveXY, dist = 1) {\n    var snapPointX = calculatePointDist(points, 'x', moveXY.x, dist)\n    var snapPointY = calculatePointDist(points, 'y', moveXY.y, dist)\n\n    var snapEndPoint = { ...moveXY }\n    if (snapPointX) { snapEndPoint.x = snapPointX.x; }\n    if (snapPointY) { snapEndPoint.y = snapPointY.y; }\n\n    var snapPointList = []\n\n    if (snapPointX) { snapPointList.push({ startPoint: snapPointX, endPoint: snapEndPoint }) }\n    if (snapPointY) { snapPointList.push({ startPoint: snapPointY, endPoint: snapEndPoint }) }\n\n    return { snapPointList, moveXY: snapEndPoint }\n}\n\n\n\nfunction calculatePointDist(points, sourceKey, target, dist) {\n    var checkedPointList = []\n    var arr = SEGMENT_DIRECTION\n    points.filter(p => p).forEach(p => {\n\n        arr.filter(key => p[key]).forEach(key => {\n            var point = p[key];\n            var tempDist = Math.abs(point[sourceKey] - target)\n            if (tempDist <= dist) {\n                checkedPointList.push({ dist: tempDist, point })\n            }\n        })\n    })\n\n    checkedPointList.sort((a, b) => {\n        return a.dist > b.dist ? 1 : -1;\n    })\n\n    return (checkedPointList.length) ? checkedPointList[0].point : null\n}\n\n\n\nfunction toPath(points, minX, minY, scale = 1) {\n    var d = [];\n\n    for (var index = 0, len = points.length; index < len; index++) {\n        var currentIndex = index;\n        var current = points[currentIndex];\n\n        if (!current) continue;\n\n        if (current.command === 'M') {\n            d.push({ command: 'M', values: [current.startPoint] });\n        } else {\n            var prevPoint = Point.getPrevPoint(points, index);\n            if (current.curve === false) {  // 1번이 점이면 \n                // 꼭지점\n                if (prevPoint.curve === false) {\n                    d.push({ command: 'L', values: [current.startPoint] });\n                } else {\n                    // 이전이 drag이고  지금이 점일 때  한쪽만 segment 가 있으므로 2차 Curve                         \n                    d.push({ command: 'Q', values: [prevPoint.endPoint, current.startPoint] });\n                }\n            } else {\n                // 이전은 점이고 현재가 드래그 일 때 , 한쪽만 segment 가 있으므로 2차 Curve \n                if (prevPoint.curve === false) {\n\n                    if (Point.isEqual(current.reversePoint, current.startPoint)) {\n                        d.push({ command: 'L', values: [current.startPoint] })\n                    } else {\n                        d.push({ command: 'Q', values: [current.reversePoint, current.startPoint] });\n                    }\n\n                } else {\n                    d.push({ command: 'C', values: [prevPoint.endPoint, current.reversePoint, current.startPoint] });\n                }\n            }\n        }\n\n        if (current.close) {\n            d.push({ command: 'Z' });\n        }\n    }\n\n    var dString = d.map(segment => {\n        return calculateRelativePosition(minX, minY, segment, scale);\n    }).join(' ')\n\n    return {\n        d: dString\n    };\n}\n\n\nfunction calculateRelativePosition(minX, minY, segment, scale = 1) {\n\n    var { command, values } = segment;\n\n    switch (command) {\n        case 'Z':\n            return 'Z';\n        default:\n            var str = values.map(v => {\n                var tx = (v.x - minX) === 0 ? 0 : (v.x - minX) / scale;\n                var ty = (v.y - minY) === 0 ? 0 : (v.y - minY) / scale;\n                return `${tx} ${ty}`\n            }).join(' ')\n\n            return `${command} ${str}`\n    }\n}\n\nfunction checkInArea(area, point) {\n\n    if (area.x2.value < point.x) { return false; }\n    if (area.y2.value < point.y) { return false; }\n    if (area.x.value > point.x) { return false; }\n    if (area.y.value > point.y) { return false; }\n\n    return true;\n}\n\n\nexport default class PathGenerator {\n\n    static generatorPathString(points, minX = 0, minY = 0, scale = 1) {\n        return toPath(points, minX, minY, scale).d;\n    }\n\n    constructor(pathEditor) {\n\n        this.pathEditor = pathEditor;\n        this.pathStringManager = new PathStringManager();\n        this.guideLineManager = new PathStringManager();\n        this.segmentManager = new SegmentManager(this.pathEditor.$viewport);\n        this.points = [];\n        this.cachedSegmentKeys = {}\n\n        this.initialize()\n        this.initializeSelect();\n    }\n\n    initialize() {\n        this.splitLines = []\n        // this.points = [];\n        this.guideLineManager.reset();\n        this.segmentManager.reset();\n        this.pathStringManager.reset();\n\n    }\n\n    initializeSelect(initPointList = []) {\n        this.selectedPointKeys = {}\n        this.selectedPointList = [];\n\n        // 초기화 하면서 선택된 포인트를 저장한다.\n        if (initPointList.length) {\n            this.select(...initPointList.map(p => {\n                const checkedPoint = this.points[p.index][p.key];\n                if (!checkedPoint) return undefined;\n\n                return { x: checkedPoint.x, y: checkedPoint.y, key: p.key, index: checkedPoint.index }\n            }).filter(Boolean))\n        }\n    }\n\n    get state() {\n        return this.pathEditor.state;\n    }\n\n    get clonePoints() {\n        return [...this.points]\n    }\n\n    get length() {\n        return this.points.length;\n    }\n\n    setPoints(points = []) {\n        this.points = points;\n\n        this.snapPointList = [];\n\n        if (this.points.length === 0) {\n            this.select();\n            this.selectGroup(-1);\n        }\n    }\n\n    selectInBox(box, isToggle = false) {\n        var list = []\n\n        this.points.forEach((point, index) => {\n\n            SEGMENT_DIRECTION.forEach(key => {\n                const p = point[key]\n                if (checkInArea(box, p)) {\n                    list.push({ x: p.x, y: p.y, key, index })\n                }\n            })\n\n        })\n\n        // toggle 옵션이 있을 때는 기존에 선택된 것을 제외하고 선택한다.\n        if (isToggle) {\n\n            // 선택된 포인트는 해제, 다른 포인트는 추가 \n            list = list.map(it => {\n                const selectedKey = this.makeSegmentKey(it)\n                return { ...it, included: Boolean(this.selectedPointKeys[selectedKey]) }\n            })\n\n            // included list 는 삭제             \n            const includedList = list.filter(it => it.included)\n\n            // not included list 는 추가            \n            const notIncludedList = list.filter(it => !it.included)\n\n            let uniqueList = [...this.selectedPointList]\n\n            // 선택된 포인트는 해제\n            if (includedList.length) {\n                uniqueList = this.selectedPointList.filter(it => {\n                    const oldKey = this.makeSegmentKey(it)\n\n                    return Boolean(\n                        includedList.find(includeNode => {\n                            return oldKey === this.makeSegmentKey(includeNode)\n                        })\n                    ) === false\n                })\n\n            }\n\n            this.select(...uniqueList, ...notIncludedList)\n\n        } else {\n            this.select(...list);\n        }\n\n\n    }\n\n    makeSegmentKey(p) {\n        return `${p.key}_${p.index}`\n    }\n\n    select(...list) {\n        this.selectedPointKeys = {}\n        this.selectedPointList = list.map(({ x, y, key, index }) => ({\n            x, y, key, index: +index\n        }));\n        list.forEach(it => {\n            var key = this.makeSegmentKey(it)\n            this.selectedPointKeys[key] = true;\n        })\n    }\n\n    convertPointsToSelectionList(points) {\n\n        var list = []\n\n        points.forEach((point) => {\n\n            SEGMENT_DIRECTION.forEach(key => {\n                const {x, y} = point[key]\n\n                list.push({ x, y, key, index: point.index })\n            })\n\n        })\n\n        return list;\n    }\n\n    selectGroup(groupIndex) {\n        const group = this.splitedGroupList[groupIndex]\n\n        if (group) {\n            this.select(...this.convertPointsToSelectionList(group.points));\n        } else {\n            this.select();\n        }\n\n    }\n\n    getCacheSegmentKey(segmentKey, index) {\n\n        if (!this.cachedSegmentKeys[segmentKey]) {\n            this.cachedSegmentKeys[segmentKey] = {}\n        }\n\n        if (!this.cachedSegmentKeys[segmentKey][index]) {\n            this.cachedSegmentKeys[segmentKey][index] = this.makeSegmentKey({ key: segmentKey, index })\n        }\n\n        return this.cachedSegmentKeys[segmentKey][index];\n    }\n\n    /**\n     * \n     * @param {*} point \n     */\n    toggleSelect(key, index) {\n\n        if (this.points[index]) {\n            var point = this.points[index][key];\n\n            // 선택된게 아니면 추가 \n            if (point && !this.isSelectedSegment(key, index)) {\n                this.select(...this.selectedPointList, { x: point.x, y: point.y, key, index })\n            } else {\n                // 이미 선택되어 있다면 해제 \n                this.select(...this.selectedPointList.filter(it => {\n                    return it.key !== key || it.index !== index\n                }))\n            }\n        }\n    }\n\n    selectKeyIndex(key, index) {\n        if (this.points[index]) {\n            var point = this.points[index][key];\n            if (point && !this.isSelectedSegment(key, index)) {\n                this.select({ x: point.x, y: point.y, key, index })\n            }\n        }\n\n    }\n\n    /**\n     * index, key 정보를 기반으로 다시 select 를 수행한다. \n     * \n     * 이때 기존에 가지고 있던 x, y 는 사용하지 않는다. \n     * \n     * 최초 선택된 지점이랑 마지막 지점에서 위치는 바뀔 수 있기 때문에 index ,key 정보를 기준으로 x, y 를 다시 맞춰서 \n     * \n     * select 를 구성한다. \n     * \n     */\n    reselect() {\n        this.selectedPointList.filter(Boolean).forEach(it => {\n            var point = this.points[it.index]?.[it.key];\n            if (point) {\n                it.x = point.x;\n                it.y = point.y;\n            }\n        });\n    }\n\n    isSelectedSegment(segment, index) {\n        var key = this.getCacheSegmentKey(segment, index);\n        return this.selectedPointKeys[key]\n    }\n\n    commitTransformMatrix(point, transformMatrix) {\n        var result = vec3.transformMat4([], [point.x, point.y, 0], transformMatrix)\n\n        return { x: result[0], y: result[1] }\n    }\n\n    transformMat4(transformMatrix) {\n\n        this.transformPoints.forEach((p, index) => {\n            var realPoint = this.points[index];\n\n            Object.assign(realPoint.startPoint, this.commitTransformMatrix(p.startPoint, transformMatrix));\n            Object.assign(realPoint.endPoint, this.commitTransformMatrix(p.endPoint, transformMatrix));\n            Object.assign(realPoint.reversePoint, this.commitTransformMatrix(p.reversePoint, transformMatrix));\n        })\n    }\n\n\n    transform(type, dx = 0, dy = 0) {\n\n        var { x, y, width, height } = this.transformRect;\n\n        var view = mat4.create()\n        mat4.translate(view, view, [x, y, 0]);          // 4. 다시 원래 위치로 옮긴다. \n\n        switch (type) {\n            case 'flipX':           // 내부 패스 변환 구현을 해야함 ,  순서를 안 맞추면 전혀 엉뚱한 결과값이 나오니 순서를 잘 맞춰줘요 \n                mat4.scale(view, view, [-1, 1, 1]);             // 3. x 축 반전 시키고 \n                mat4.translate(view, view, [-width, 0, 0]);     // 2. width 만큼 옮기고        \n                break;\n            case 'flipY':\n                mat4.scale(view, view, [1, -1, 1]);             // 3. y 축 반전 시키고 \n                mat4.translate(view, view, [0, -height, 0]);     // 2. height 만큼 옮기고        \n                break;\n            case 'flip':\n                mat4.scale(view, view, [-1, -1, 1]);             // 3. x, y 축 반전 시키고 \n                mat4.translate(view, view, [-width, -height, 0]);     // 2. width, height 만큼 옮기고        \n                break;\n        }\n\n        mat4.translate(view, view, [-x, -y, 0]);        // 1. 원점으로 맞추고 \n        this.transformMat4(view);\n    }\n\n    initTransform(rect) {\n        this.transformRect = clone(rect);\n        this.transformPoints = this.clonePoints.map(p => {\n\n            return {\n                startPoint: clone(p.startPoint),\n                endPoint: clone(p.endPoint),\n                reversePoint: clone(p.reversePoint)\n            }\n        });\n    }\n\n    setConnectedPoint(dx, dy) {\n        var state = this.state\n        var x = state.dragXY.x + dx // / editor.scale;\n        var y = state.dragXY.y + dy //  / editor.scale;\n\n        var endPoint = { x, y }\n        var reversePoint = { x, y }\n\n        if (state.dragPoints) {\n            state.reversePoint = Point.getReversePoint(state.startPoint, endPoint);\n        }\n\n        var point = {\n            startPoint: state.startPoint,\n            endPoint: endPoint,\n            curve: !!state.dragPoints,\n            reversePoint: reversePoint,\n            connected: true,\n            close: true\n        }\n\n        this.points.push(point);\n    }\n\n    setLastPoint(startPoint) {\n        var endPoint = clone(startPoint)\n        var reversePoint = clone(startPoint)\n\n        var point = {\n            startPoint: startPoint,\n            endPoint: endPoint,\n            curve: false,\n            reversePoint: reversePoint,\n            connected: false,\n            close: false\n        }\n\n        this.points.push(point);\n    }\n\n    getPrevPoint(index) {\n        return Point.getPrevPoint(this.points, index)\n    }\n\n    getIndexPoint(index) {\n        return Point.getIndexPoint(this.points, index)\n    }\n\n    getNextPoint(index) {\n        return Point.getNextPoint(this.points, index)\n    }\n\n    getConnectedPointList(index) {\n        return Point.getConnectedPointList(this.points, index)\n    }\n\n    isFirst(segment) {\n        return Point.isFirst(segment);\n    }\n\n    getLastPoint(index) {\n        return Point.getLastPoint(this.points, index)\n    }\n\n    /**\n     * 패스의 segment 를 드래그 하기 전에 snap 이 될 좌표를 캐쉬한다. \n     * \n     * @param {number} index \n     * @param {string} segmentKey \n     * @param {vec3[]} verties \n     */\n    setCachePoint(index, segmentKey, verties = []) {\n\n        var state = this.state;\n\n        this.snapPointList = []     // 객체 처음 움직일 때 snap line 은 초기화 \n        this.selectedIndex = index;\n        state.connectedPoint = this.getPrevPoint(index)\n        state.connectedPointList = clone(Point.getConnectedPointList(this.points, this.selectedIndex))\n\n        if (state.connectedPoint && !state.connectedPoint.connected) {\n            state.connectedPoint = null;\n        }\n\n        state.segment = this.getIndexPoint(index)\n\n        // 연결된 포인트인 경우 , 처음 지점 포인트를 가지고 온다. \n        if (state.segment.connected) {\n            state.connectedPoint = this.getNextPoint(index);\n        }\n\n        var isFirstSegment = this.isFirst(state.segment)\n\n        if (isFirstSegment) {\n            var lastPoint = this.getLastPoint(index);\n\n            if (lastPoint.connected) {\n                state.connectedPoint = lastPoint;\n            }\n        }\n\n        state.segmentKey = segmentKey\n        state.isCurveSegment = state.segment.curve && state.segmentKey != 'startPoint'\n        state.originalSegment = clone(state.segment);\n\n        if (state.connectedPoint) {\n            state.originalConnectedPoint = clone(state.connectedPoint);\n        }\n\n        state.cachedPoints = []\n        this.points.filter(p => p && p != state.segment).forEach(p => {\n            state.cachedPoints.push(p.startPoint, p.reversePoint, p.endPoint)\n        })\n    }\n\n    moveSegment(segmentKey, dx, dy, originSegment = undefined) {\n\n        if (originSegment) {\n            const segment = this.points[originSegment.index][segmentKey]\n            segment.x = originSegment[segmentKey].x + dx;\n            segment.y = originSegment[segmentKey].y + dy;\n        } else {\n            var state = this.state;\n            var originPoint = state.originalSegment[segmentKey]\n            var targetPoint = state.segment[segmentKey]\n\n            if (originPoint) {\n                targetPoint.x = originPoint.x + dx;\n                targetPoint.y = originPoint.y + dy;\n            }\n        }\n\n    }\n\n    calculateToCurve(point, nextPoint, prevPoint) {\n\n        var centerX = (nextPoint.startPoint.x + prevPoint.startPoint.x) / 2;\n        var centerY = (nextPoint.startPoint.y + prevPoint.startPoint.y) / 2;\n\n        var dx = (nextPoint.startPoint.x - centerX) / 2\n        var dy = (nextPoint.startPoint.y - centerY) / 2\n\n        point.endPoint = {\n            x: point.startPoint.x + dx,\n            y: point.startPoint.y + dy\n        }\n\n        point.reversePoint = {\n            x: point.startPoint.x - dx,\n            y: point.startPoint.y - dy\n        }\n\n        return { dx, dy }\n    }\n\n    convertToCurve(index) {\n\n        var point = this.points[index];\n\n        if (point.curve) {\n            // curve 가 직선으로 \n            point.curve = false;\n            point.reversePoint = clone(point.startPoint);\n            point.endPoint = clone(point.startPoint);\n\n            if (point.command === 'M') {\n                var lastPoint = Point.getPrevPoint(points, point.index)\n\n                if (lastPoint.connected) {\n                    lastPoint.curve = false;\n                    lastPoint.reversePoint = clone(lastPoint.startPoint);\n                    lastPoint.endPoint = clone(lastPoint.startPoint);\n                }\n            } else {\n\n                var nextPoint = this.getNextPoint(index);\n\n                if (nextPoint && nextPoint.command === 'M') {\n                    // 다음이 처음일 때 \n                    var firstPoint = nextPoint;\n\n                    firstPoint.curve = false;\n                    firstPoint.reversePoint = clone(firstPoint.startPoint);\n                    firstPoint.endPoint = clone(firstPoint.startPoint);\n                }\n            }\n\n\n\n        } else {\n            point.curve = true;\n\n            var prevPoint = this.getPrevPoint(index);\n            var nextPoint = this.getNextPoint(index);\n\n            if (nextPoint && nextPoint.index < index && nextPoint.command === 'M') {\n                // 현재 포인트가 마지막 일 때 connected 상태를 보고 \n                // firstPoint 랑 맞춘다. \n\n                var firstPoint = nextPoint;\n\n                nextPoint = this.getNextPoint(firstPoint.index);\n\n                this.calculateToCurve(point, nextPoint, prevPoint)\n\n                // 처음도 같이 변경해주기 \n                firstPoint.curve = true;\n                firstPoint.endPoint = clone(point.endPoint)\n                firstPoint.reversePoint = clone(point.reversePoint)\n\n            } else if (nextPoint && nextPoint.index > index && nextPoint.command !== 'M') {\n\n                this.calculateToCurve(point, nextPoint, prevPoint)\n            } else if (!nextPoint && prevPoint) {\n\n                // 이전 점만 있고 다음 점이 없다면 \n                var centerX = (point.startPoint.x - prevPoint.startPoint.x) / 3;\n                var centerY = (point.startPoint.y - prevPoint.startPoint.y) / 3;\n\n                point.endPoint = { x: point.startPoint.x + centerX, y: point.startPoint.y + centerY }\n                point.reversePoint = Point.getReversePoint(point.startPoint, point.endPoint)\n            } else if (!prevPoint && nextPoint) {\n                var centerX = (point.startPoint.x - nextPoint.startPoint.x) / 3;\n                var centerY = (point.startPoint.y - nextPoint.startPoint.y) / 3;\n\n                point.endPoint = { x: point.startPoint.x + centerX, y: point.startPoint.y + centerY }\n                point.reverse = Point.getReversePoint(point.startPoint, point.endPoint)\n            }\n\n        }\n    }\n\n\n    moveCurveSegment(segmentKey, dx, dy) {\n        var state = this.state;\n        this.moveSegment(segmentKey, dx, dy);\n\n        var targetSegmentKey = segmentKey === 'endPoint' ? 'reversePoint' : 'endPoint'\n\n        state.segment[targetSegmentKey] = Point.getReversePoint(state.segment.startPoint, state.segment[segmentKey]);\n    }\n\n    rotateSegmentTarget(segmentKey, target) {\n        var state = this.state;\n        if (state.originalSegment && state.segment) {\n            var { x: cx, y: cy } = state.originalSegment.startPoint;\n            var { x: rx, y: ry } = state.segment[segmentKey];\n            var { x: tx, y: ty } = state.originalSegment[target]\n\n            var { x, y } = getXYInCircle(\n                calculateAngle360(rx - cx, ry - cy),\n                getDist(tx, ty, cx, cy),\n                cx,\n                cy\n            );\n\n            state.segment[target] = { x, y }\n        }\n\n    }\n\n    rotateSegment(segmentKey) {\n        this.rotateSegmentTarget(segmentKey, segmentKey === 'endPoint' ? 'reversePoint' : 'endPoint');\n    }\n\n    calculateSnap(segmentKey, dx, dy, dist = 1) {\n        var state = this.state;\n        var cachedPoints = state.cachedPoints\n\n        var original = state.originalSegment[segmentKey]\n\n        if (!segmentKey) {\n            return { dx, dy, snapPointList: [] }\n        }\n\n        var realX = original.x + dx;\n        var realY = original.y + dy;\n\n        var { point: snapPointX, distanceValue: dx } = calculateSnapPoint(cachedPoints, 'x', realX, dx, dist);\n        var { point: snapPointY, distanceValue: dy } = calculateSnapPoint(cachedPoints, 'y', realY, dy, dist);\n\n        var snapEndPoint = {\n            x: original.x + dx,\n            y: original.y + dy\n        }\n\n        var snapPointList = []\n        if (snapPointX) { snapPointList.push({ startPoint: snapPointX, endPoint: snapEndPoint }) }\n        if (snapPointY) { snapPointList.push({ startPoint: snapPointY, endPoint: snapEndPoint }) }\n\n        return { dx, dy, snapPointList }\n    }\n\n    copySegment(from, to) {\n        to.startPoint = clone(from.startPoint)\n        to.endPoint = clone(from.endPoint)\n        to.reversePoint = clone(from.reversePoint)\n    }\n\n    get selectedLength() {\n        return this.selectedPointList.length;\n    }\n\n    moveSelectedSegment(dx, dy) {\n\n        // 선택된 포인터를 옮길 때 \n        // curve 에 연결된 endPoint와 reversePoint 를 같이 책임 질 것인가? \n        this.selectedPointList.forEach(it => {\n            var target = this.points[it.index][it.key]\n            target.x = it.x + dx;\n            target.y = it.y + dy;\n        })\n    }\n\n    get splitedGroupList() {\n        return Point.getSplitedGroupList(this.points);\n    }\n\n    /**\n     * group list 리턴 \n     * \n     * @returns {{point: any, index : number, groupIndex: number}}\n     */\n    get groupList() {\n        return Point.getGroupList(this.points);\n    }\n\n    getGroup(groupList, pointIndex) {\n        return Point.getGroup(groupList, pointIndex);\n    }\n\n    /** \n     * 선택된 segment 의 group index list 구하기 \n     * \n     * @returns {number[]}\n     */\n    get selectedGroupIndexList() {\n        const groupIndexList = new Set();\n        const groupList = this.groupList;\n\n\n        if (this.selectedPointList.length === 0) {\n            return groupList.map(group => group.groupIndex);\n        }\n\n        const points = this.selectedPointList;\n\n        points.forEach(it => {\n\n            const group = this.getGroup(groupList, it.index);\n\n            if (group) {\n                groupIndexList.add(group.groupIndex);\n            }\n\n        })\n\n        return [...groupIndexList];\n    }\n\n    removeSelectedSegment() {\n\n        // 선택된 포인터를 옮길 때 \n        // curve 에 연결된 endPoint와 reversePoint 를 같이 책임 질 것인가? \n        this.selectedPointList.forEach(it => {\n            var target = this.points[it.index][it.key]\n            target.removed = true;\n        })\n\n        const pointGroup = Point.splitPoints(this.points)\n\n        // console.log(pointGroup)\n\n        const newPoints = Point.recoverPoints(pointGroup.map(points => {\n            return points.filter(p => !p.startPoint.removed).map(p => {\n\n                if (p.endPoint.removed) { p.endPoint = clone(p.startPoint) }\n                if (p.reversePoint.removed) { p.reversePoint = clone(p.startPoint) }\n\n                if (Point.isEqual(p.endPoint, p.startPoint, p.reversePoint)) {\n                    p.command = 'L';\n                    p.curve = false;\n                }\n\n                return p\n            })\n        }))\n\n        // console.log(Point.splitPoints(newPoints));\n\n        this.points = newPoints;\n        // \n        this.select();\n    }\n\n    move(dx, dy, e) {\n        var state = this.state;\n        var { isCurveSegment, segmentKey, connectedPoint } = state\n\n        if (this.selectedPointList.length > 1) {\n            // 여러개가 동시에 선택된 상태에서는 \n            this.moveSelectedSegment(dx, dy);\n        }  else {\n            var { dx, dy, snapPointList } = this.calculateSnap(segmentKey, dx, dy, 3);\n\n            this.snapPointList = snapPointList || []\n                \n            if (isCurveSegment) {\n                if (e.shiftKey) {\n                    // 해당 segment 먼저 움직이고                 \n                    // 상대편 길이 동일하게 curve 움직이기                 \n                    this.moveSegment(segmentKey, dx, dy);\n                    var targetSegmentKey = segmentKey === 'endPoint' ? 'reversePoint' : 'endPoint'\n                    state.segment[targetSegmentKey] = Point.getReversePoint(state.segment.startPoint, state.segment[segmentKey]);\n\n                } else if (e.altKey) {\n                    // 나는 그대로 움직이고 상대편 벡터는 방향만 바꿔주기 \n                    // 방향만 만들어주기 \n                    this.moveSegment(segmentKey, dx, dy);\n\n                    // 상대편 rotate 하는데 \n                    this.rotateSegment(segmentKey);\n                } else {    // Curve 만 움직이기 \n                    this.moveSegment(segmentKey, dx, dy);\n                }\n            } else {\n                this.moveSegment('startPoint', dx, dy);\n                this.moveSegment('endPoint', dx, dy);\n                this.moveSegment('reversePoint', dx, dy);\n\n                // altKey 가 눌러지지 않은 상태에서는 같은 연결 포인트들은 같이 움직인다. \n                if (!e.altKey) {\n                    // move 할 때 연결된 포인트도 움직이기\n                    state.connectedPointList.forEach(it => {\n                        this.moveSegment('startPoint', dx, dy, it);\n                        this.moveSegment('endPoint', dx, dy, it);\n                        this.moveSegment('reversePoint', dx, dy, it);\n                    });\n                }\n            }\n\n            connectedPoint && this.copySegment(state.segment, state.connectedPoint)\n\n        }\n    }\n\n    moveEnd(dx, dy) {\n        var state = this.state;\n        var points = this.points;\n        var x = state.dragXY.x + dx // / editor.scale;\n        var y = state.dragXY.y + dy //  / editor.scale;\n\n        var endPoint = { x, y }\n        var reversePoint = { x, y }\n\n        if (state.dragPoints) { // drag 상태 일 때 \n            reversePoint = Point.getReversePoint(state.startPoint, endPoint);\n        }\n\n        points.push({\n            command: state.clickCount === 0 ? 'M' : '',\n            startPoint: state.startPoint,\n            endPoint: endPoint,\n            curve: !!state.dragPoints,\n            reversePoint: reversePoint\n        })\n\n        state.startPoint = null\n        state.dragPoints = false;\n        state.moveXY = null;\n    }\n\n    setPoint(obj) {\n\n        var p0 = obj.first[0]\n        var p1 = obj.second[obj.second.length - 1]\n\n        var allPoints = this.clonePoints\n\n        var firstItem = Point.getPoint(allPoints, p0)\n        var secondItem = Point.getPoint(allPoints, p1)\n\n        var newPoints = [\n            { ...firstItem, endPoint: obj.first[1] },\n            { startPoint: obj.first[3], reversePoint: obj.first[2], curve: true, endPoint: obj.second[1] },\n            { ...secondItem, reversePoint: obj.second[2] }\n        ]\n\n        var firstIndex = Point.getIndex(allPoints, p0);\n\n        allPoints.splice(firstIndex, 2, ...newPoints);\n\n        this.points = allPoints;\n\n        return firstIndex + 1;\n    }\n\n    setPointQuard(obj) {\n\n        var p0 = obj.first[0]\n        var p1 = obj.second[obj.second.length - 1]\n\n        var allPoints = this.clonePoints\n\n        var firstItem = Point.getPoint(allPoints, p0)\n        var secondItem = Point.getPoint(allPoints, p1)\n\n        // console.log(firstItem, secondItem);\n\n        // var fx = firstItem.startPoint.x + (firstItem.endPoint.x - firstItem.startPoint.x) / 3 \n        // var fy = firstItem.startPoint.y + (firstItem.endPoint.y - firstItem.startPoint.y) / 3 \n\n        if (firstItem.curve && secondItem.curve === false) {\n\n            var newPoints = [\n                { ...firstItem, endPoint: firstItem.startPoint },\n                { startPoint: obj.first[2], reversePoint: obj.first[1], curve: true, endPoint: obj.second[1] },\n            ]\n\n            var firstIndex = Point.getIndex(allPoints, p0);\n\n            allPoints.splice(firstIndex, 1, ...newPoints);\n\n\n        } else {\n            var newPoints = [\n                { ...firstItem },\n                { startPoint: obj.first[2], reversePoint: obj.first[1], curve: true, endPoint: obj.second[1] },\n                { ...secondItem, reversePoint: obj.second[1], curve: true },\n            ]\n\n            var firstIndex = Point.getIndex(allPoints, p0);\n\n            allPoints.splice(firstIndex, 2, ...newPoints);\n        }\n\n        this.points = allPoints;\n\n        return firstIndex + 1;\n\n    }\n\n\n    setPointLine(obj) {\n\n        var p0 = obj.first[0]\n\n        var allPoints = this.clonePoints\n\n        var newPoints = [\n            { command: 'L', startPoint: obj.first[1], curve: false, endPoint: obj.first[1], reversePoint: obj.first[1] },\n        ]\n\n        var firstIndex = Point.getIndex(allPoints, p0);\n\n        allPoints.splice(firstIndex + 1, 0, ...newPoints);\n\n        this.points = allPoints;\n\n        return firstIndex + 1;\n\n    }\n\n    toPath(minX = 0, minY = 0, scale = 1) {\n        return toPath(this.clonePoints, minX, minY, scale)\n    }\n\n    makeSVGPath() {\n\n        this.initialize();\n\n        this.makePointGuide(this.points)\n\n        this.makeMovePositionGuide();\n\n        return this.toSVGString()\n    }\n\n    makeTriangleDistancePointGuide(first, second) {\n\n        var minX = Math.min(first.startPoint.x, second.startPoint.x);\n        var maxX = Math.max(first.startPoint.x, second.startPoint.x);\n\n        var minY = Math.min(first.startPoint.y, second.startPoint.y);\n        var maxY = Math.max(first.startPoint.y, second.startPoint.y);\n\n        // right bottom \n        if (first.startPoint.x < second.startPoint.x && first.startPoint.y < second.startPoint.y) {\n            this.segmentManager\n                .addDistanceLine({ x: minX, y: minY }, { x: maxX, y: minY })\n                .addDistanceLine({ x: maxX, y: minY }, { x: maxX, y: maxY })\n\n\n            var centerX = minX\n            var centerY = minY\n            var angle = calculateAngle360(maxX - minX, maxY - minY) - 180\n            var dist = 20;\n            var { x, y } = getXYInCircle(\n                0,\n                dist,\n                centerX,\n                centerY\n            );\n            var { x: tx, y: ty } = getXYInCircle(\n                angle / 2,\n                dist,\n                centerX,\n                centerY\n            );\n\n            var last = getXYInCircle(\n                angle,\n                dist,\n                centerX,\n                centerY\n            );\n\n            this.segmentManager\n                .addDistanceAngle(last, dist, dist, angle, { x, y }, { x: x - dist, y })\n            // .addText({x: tx-5, y: ty+15}, angle)\n        } else if (first.startPoint.x < second.startPoint.x && first.startPoint.y > second.startPoint.y) {\n            // right top  \n            this.segmentManager\n                .addDistanceLine({ x: minX, y: maxY }, { x: maxX, y: maxY })\n                .addDistanceLine({ x: maxX, y: minY }, { x: maxX, y: maxY })\n        } else if (first.startPoint.x > second.startPoint.x && first.startPoint.y > second.startPoint.y) {\n            // left top \n            this.segmentManager\n                .addDistanceLine({ x: minX, y: minY }, { x: minX, y: maxY })\n                .addDistanceLine({ x: minX, y: maxY }, { x: maxX, y: maxY })\n        } else if (first.startPoint.x > second.startPoint.x && first.startPoint.y < second.startPoint.y) {\n            // left bottom \n            this.segmentManager\n                .addDistanceLine({ x: minX, y: maxY }, { x: maxX, y: maxY })\n                .addDistanceLine({ x: maxX, y: minY }, { x: maxX, y: maxY })\n        }\n\n    }\n\n    makeDistancePointGuide(prevPoint, current, nextPoint, index) {\n\n        if (current.selected) {\n\n            if (prevPoint) {\n                this.makeTriangleDistancePointGuide(prevPoint, current);\n            }\n\n            if (nextPoint) {\n                this.makeTriangleDistancePointGuide(current, nextPoint);\n            }\n\n        }\n    }\n\n    makeStartPointGuide(prevPoint, current, nextPoint, index) {\n        current.startPoint.isFirst = true;\n\n        // this.pathStringManager.M(current.startPoint)        \n\n        if (current.curve === false) {\n            this.segmentManager\n                .addPoint({}, current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n\n            // if (!current.startPoint.isLast) {\n            //     this.segmentManager.addText(current.startPoint, index+1);\n            // }\n\n\n        } else {\n            this.segmentManager\n                .addPoint({}, current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n                .addGuideLine(current.startPoint, current.endPoint)\n\n\n            if (Point.isEqual(current.startPoint, current.endPoint) === false) {\n                this.segmentManager.addCurvePoint(current.endPoint, index, 'endPoint', this.isSelectedSegment('endPoint', index))\n            }\n\n        }\n\n\n    }\n\n    makeMiddlePointGuideSegment(prevPoint, current, nextPoint, index, isSiblingSelected) {\n        var mng = this.segmentManager;\n\n        if (current.curve === false) {\n            // 꼭지점\n            if (prevPoint.curve === false) {\n                mng.addPoint({}, current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n            } else {\n\n                if (isSiblingSelected === false) {\n                    mng\n                        .addCurvePoint(current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n                } else {\n\n                    mng\n                        .addGuideLine(prevPoint.startPoint, prevPoint.endPoint)\n                        .addCurvePoint(current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n\n\n                    if (Point.isEqual(prevPoint.startPoint, prevPoint.endPoint) === false) {\n                        mng.addCurvePoint(prevPoint.endPoint, prevPoint.index, 'endPoint', this.isSelectedSegment('endPoint', prevPoint.index));\n                    }\n                }\n\n            }\n\n\n        } else {    // 현재가 curve 일 때 \n            if (prevPoint.curve === false) {\n\n\n                if (isSiblingSelected === false) {\n                    if (Point.isEqual(current.reversePoint, current.startPoint)) {\n                        mng.addPoint({}, current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n                    } else {\n                        mng\n                            .addCurvePoint(current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n                    }\n\n                } else {\n                    if (Point.isEqual(current.reversePoint, current.startPoint)) {\n                        mng.addPoint({}, current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n                    } else {\n                        mng\n                            .addGuideLine(current.startPoint, current.reversePoint)\n                            .addCurvePoint(current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n\n                        if (Point.isEqual(current.startPoint, current.reversePoint) === false) {\n                            mng.addCurvePoint(current.reversePoint, index, 'reversePoint', this.isSelectedSegment('reversePoint', index));\n                        }\n                    }\n\n                }\n\n\n\n            } else {\n\n                if (current.connected) {\n\n\n                    if (isSiblingSelected === false) {\n                        // NOOP\n                    } else {\n                        mng\n                            .addGuideLine(prevPoint.startPoint, prevPoint.endPoint)\n                            .addGuideLine(current.startPoint, current.reversePoint)\n\n                        if (Point.isEqual(prevPoint.startPoint, prevPoint.endPoint) === false) {\n                            mng.addCurvePoint(prevPoint.endPoint, prevPoint.index, 'endPoint', this.isSelectedSegment('endPoint', prevPoint.index))\n                        }\n\n                        if (Point.isEqual(current.startPoint, current.reversePoint) === false) {\n                            mng.addCurvePoint(current.reversePoint, index, 'reversePoint', this.isSelectedSegment('reversePoint', index));\n                        }\n                    }\n\n\n                } else {\n\n\n                    if (isSiblingSelected === false) {\n                        mng\n                            .addCurvePoint(current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n\n                    } else {\n                        mng\n                            .addGuideLine(prevPoint.startPoint, prevPoint.endPoint)\n                            .addGuideLine(current.startPoint, current.reversePoint)\n                            .addCurvePoint(current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n\n                        if (Point.isEqual(prevPoint.startPoint, prevPoint.endPoint) === false) {\n                            mng.addCurvePoint(prevPoint.endPoint, prevPoint.index, 'endPoint', this.isSelectedSegment('endPoint', prevPoint.index))\n                        }\n\n                        if (Point.isEqual(current.startPoint, current.reversePoint) === false) {\n                            mng.addCurvePoint(current.reversePoint, index, 'reversePoint', this.isSelectedSegment('reversePoint', index));\n                        }\n\n                    }\n\n\n                }\n            }\n        }\n    }\n\n    // makeMiddlePointGuideRealPath (prevPoint, current, nextPoint, index) {\n    //     return;\n    //     var mng = this.pathStringManager;\n    //     if (current.curve === false) { \n    //         // 꼭지점\n    //         if (prevPoint.curve === false) {\n    //             mng.L(current.startPoint)\n    //         } else {\n    //             mng.Q(prevPoint.endPoint, current.startPoint)        \n    //         }\n    //     } else {    // 현재가 curve 일 때 \n    //         if (prevPoint.curve === false) { \n    //             if (Point.isEqual(current.reversePoint, current.startPoint)) {\n    //                 mng.L( current.startPoint);\n    //             } else {\n    //                 mng.Q( current.reversePoint, current.startPoint);\n    //             }\n    //         } else {\n    //             mng.C(prevPoint.endPoint, current.reversePoint, current.startPoint)\n    //         }\n    //     }\n    // }\n\n    checkInViewport(point) {\n        const vertext = this.pathEditor.$viewport.applyVertexInverse([point.x, point.y, 0]);\n        return this.pathEditor.$viewport.checkInViewport(vertext);\n    }\n\n\n    makeMiddlePointGuideSplitLine(prevPoint, current, nextPoint, index, isSiblingSelected) {\n        const selected = isSiblingSelected ? 'selected' : '';\n\n        if (current.curve === false) {\n            // 꼭지점\n            if (prevPoint.curve === false) {\n\n                if ((this.checkInViewport(prevPoint.startPoint) || this.checkInViewport(current.startPoint)) === false) {\n                    return;\n                }\n\n\n                this.splitLines.push(\n                    new PathStringManager()\n                        .M(prevPoint.startPoint)\n                        .L(current.startPoint)\n                        .toString(`split-path ${selected}`)\n                )\n            } else {\n\n                if ((this.checkInViewport(prevPoint.startPoint) || this.checkInViewport(prevPoint.endPoint) || this.checkInViewport(current.startPoint)) === false) {\n                    return;\n                }\n\n                this.splitLines.push(\n                    new PathStringManager()\n                        .M(prevPoint.startPoint)\n                        .Q(prevPoint.endPoint, current.startPoint)\n                        .toString(`split-path ${selected}`)\n                )\n            }\n        } else {    // 현재가 curve 일 때 \n            if (prevPoint.curve === false) {\n\n\n                if (Point.isEqual(current.reversePoint, current.startPoint)) {\n\n                    if ((this.checkInViewport(prevPoint.startPoint) || this.checkInViewport(current.startPoint)) === false) {\n                        return;\n                    }\n\n                    this.splitLines.push(\n                        new PathStringManager()\n                            .M(prevPoint.startPoint)\n                            .L(current.startPoint)\n                            .toString(`split-path ${selected}`)\n                    )\n                } else {\n\n                    if ((this.checkInViewport(prevPoint.startPoint) || this.checkInViewport(current.reversePoint) || this.checkInViewport(current.startPoint)) === false) {\n                        return;\n                    }\n\n                    this.splitLines.push(\n                        new PathStringManager()\n                            .M(prevPoint.startPoint)\n                            .Q(current.reversePoint, current.startPoint)\n                            .toString(`split-path ${selected}`)\n                    )\n                }\n\n\n            } else {\n\n                if ((\n                    this.checkInViewport(prevPoint.startPoint)\n                    || this.checkInViewport(prevPoint.endPoint)\n                    || this.checkInViewport(current.reversePoint)\n                    || this.checkInViewport(current.startPoint)\n                ) === false) {\n                    return;\n                }\n\n                this.splitLines.push(\n                    new PathStringManager()\n                        .M(prevPoint.startPoint)\n                        .C(prevPoint.endPoint, current.reversePoint, current.startPoint)\n                        .toString(`split-path ${selected}`)\n                )\n            }\n        }\n    }\n\n    makePointGuide(points) {\n        for (var index = 0, len = points.length; index < len; index++) {\n            var currentIndex = index;\n            var current = points[currentIndex];\n\n            if (!current) continue;\n\n            var nextPoint = Point.getNextPoint(points, index);\n            var prevPoint = Point.getPrevPoint(points, index);\n\n            if (prevPoint && prevPoint.command === 'M') {\n                if (current.startPoint) {\n                    current.startPoint.isSecond = true;\n                }\n\n            }\n            if (current.startPoint) {\n                if (nextPoint) {\n                    current.startPoint.isLast = nextPoint.command === 'M';\n                } else {\n                    current.startPoint.isLast = index === len - 1;\n                }\n\n            }\n\n            current.selected = this.selectedIndex === index;\n\n            // 각도를 표시 해준다. \n            // 쓸 곳이 없다. \n            // this.makeDistancePointGuide(prevPoint, current, nextPoint, index);\n\n            if (current.command === 'M') {\n                this.makeStartPointGuide(prevPoint, current, nextPoint, index);\n            } else {\n\n                var isSiblingSelected = Boolean(this.isSelectedSegment('endPoint', prevPoint?.index) ||\n                    this.isSelectedSegment('startPoint', prevPoint?.index) ||\n                    this.isSelectedSegment('reversePoint', prevPoint?.index) ||\n                    this.isSelectedSegment('endPoint', nextPoint?.index) ||\n                    this.isSelectedSegment('startPoint', nextPoint?.index) ||\n                    this.isSelectedSegment('reversePoint', nextPoint?.index) ||\n                    this.isSelectedSegment('endPoint', current?.index) ||\n                    this.isSelectedSegment('startPoint', current?.index) ||\n                    this.isSelectedSegment('reversePoint', current?.index))\n\n                // this.makeMiddlePointGuideRealPath(prevPoint, current, nextPoint, index);\n                this.makeMiddlePointGuideSplitLine(prevPoint, current, nextPoint, index, isSiblingSelected);\n                this.makeMiddlePointGuideSegment(prevPoint, current, nextPoint, index, isSiblingSelected);\n            }\n\n            if (current.close) {\n                this.pathStringManager.Z();\n            }\n\n        }\n\n    }\n\n    makeMovePositionGuide() {\n        var state = this.state;\n        var { startPoint, moveXY, dragPoints, altKey, snapPointList, isGroupSegment } = state;\n        var points = this.points;\n        if (moveXY) {\n\n            /* moveXY 에도 snap 을 적용한다. */\n            snapPointList = snapPointList || []\n\n            var {\n                snapPointList: movePointSnapPointList,\n                moveXY: newMoveXY\n            } = calculateMovePointSnap(points, moveXY, 3);\n            snapPointList.push.apply(snapPointList, movePointSnapPointList);\n\n            state.moveXY = newMoveXY;\n            moveXY = newMoveXY\n            this.snapPointList = snapPointList;\n\n            var prev = points[points.length - 1];\n\n            if (dragPoints && !isGroupSegment) {\n\n                if (!prev) {\n                    var { x, y } = Point.getReversePoint(startPoint, moveXY);\n                    this.guideLineManager\n                        .M(moveXY)\n                        .L(startPoint)\n                        .L({ x, y })\n\n                    this.segmentManager\n                        .addCurvePoint(startPoint)\n                        .addCurvePoint(moveXY)\n                        .addCurvePoint({ x, y })\n\n                } else if (prev.curve) {\n                    // 이전 것이 곡선이면 C 로 대응 \n                    var { x, y } = Point.getReversePoint(startPoint, moveXY);\n\n                    this.guideLineManager\n                        .M(prev.startPoint)\n                        .C(prev.endPoint, { x, y }, startPoint);\n\n                    this.segmentManager\n                        .addGuideLine(prev.startPoint, prev.endPoint)\n                        .addGuideLine(startPoint, { x, y })\n                        .addGuideLine(startPoint, moveXY)\n                        .addCurvePoint(prev.endPoint)\n                        .addCurvePoint({ x, y })\n                        .addCurvePoint(moveXY)\n                        .addPoint(false, startPoint);\n\n                } else if (prev.curve === false) {\n                    // 이전 것이 점이면 Q 로 대응 \n                    // 내가 드래그 중이므로  내 좌표랑 start 좌표랑 비교 해서 이전 좌표를 구하기 \n                    var { x, y } = Point.getReversePoint(startPoint, moveXY);\n\n                    this.guideLineManager\n                        .M(prev.startPoint)\n                        .Q({ x, y }, startPoint);\n\n                    this.segmentManager\n                        .addGuideLine(moveXY, { x, y })\n                        .addPoint(false, startPoint)\n                        .addCurvePoint({ x, y })\n                        .addCurvePoint(moveXY);\n                }\n\n            } else {\n\n                if (!prev) {\n\n                } else if (prev.curve) {\n                    // 이전에 드래그 한 point 가 있을 경우 Q 로 \n                    this.guideLineManager\n                        .M(prev.startPoint)\n                        .Q(prev.endPoint, moveXY);\n\n                    this.segmentManager\n                        .addGuideLine(prev.endPoint, prev.startPoint)\n                        .addCurvePoint(prev.endPoint);\n                } else {\n                    // 이전에 점이고 지금도 점이면  직선 \n                    if (!prev.close) {\n                        this.guideLineManager.M(prev.startPoint).L(moveXY);\n\n                        this.segmentManager.addPoint(false, prev.startPoint);\n                    }\n                }\n            }\n\n        }\n    }\n\n    makeSnapLines() {\n\n        var snapLines = []\n        // snapPoint 를 그려준다. \n        if (this.snapPointList) {\n            var snapPath = new PathStringManager()\n            snapLines = this.snapPointList.map(snapPoint => {\n                snapPath.reset();\n                return snapPath\n                    .M(snapPoint.startPoint)\n                    .L(snapPoint.endPoint)\n                    .X(snapPoint.startPoint)\n                    .toString('snap-path');\n            })\n        }\n\n        return snapLines.join('');\n    }\n\n    /**\n     * isGroupSegment 이 true 일 경우\n     * 해당 선택한 영역을 stripe 형태로 보여줌 \n     * @returns \n     */\n    makePathArea() {\n        const pathList = this.splitedGroupList.map(({ startPointIndex, points }, groupIndex) => {\n\n            \n            const d = PathGenerator.generatorPathString(points)\n            const verties = toRectVerties(PathParser.fromSVGString(d).getBBox());\n\n            return {\n                points,\n                startPointIndex,\n                groupIndex,\n                center: verties[4],\n                d\n            };\n        })\n        const pathCount = pathList.length;\n        return /*html*/`\n            <g>\n               ${pathList.map(it => {\n                   const {center} = it; \n                   const [x, y] = center;\n                   const selected = this.state.selectedGroupIndex === it.groupIndex;\n                   return /*html*/`\n                        <path class=\"path-area ${selected ? 'selected' : ''}\" \n                            d=\"${it.d}\" \n                            data-point-index=\"${it.startPointIndex}\" \n                            data-group-index=\"${it.groupIndex}\" \n                        />\n\n                        ${pathCount > 1 && /*html*/`\n                            <text class=\"path-area-text\" x=\"${x}\" y=\"${y}\" >${(it.groupIndex + 1)}</text>\n                        `}\n                    `\n               }).join('')}\n            </g>\n        `;\n    }\n\n    toSVGString() {\n        return /*html*/`\n        <svg width=\"100%\" height=\"100%\" class='svg-editor-canvas'>\n            ${this.guideLineManager.toString('guide')}\n            ${this.splitLines.join('')}\n            ${this.makeSnapLines()}\n            ${this.makePathArea()}\n            ${this.segmentManager.toString()}\n        </svg>\n        `\n    }\n\n}","import { Gradient } from \"./Gradient\";\n\nexport class SVGGradient extends Gradient {\n  toString() {  // 이건 데이타로서의 문자열 , 기본적으로  css gradient 와 유사 \n    return ''\n  }\n\n  toSVGString (id) {    // 이건 def 에 들어갈 태그 \n    return ''\n  }\n\n  toFillValue (id) {    // 이건 실제 fill, stroke 에 적용될 속성 값  형식 \n    return '' \n  }\n}\n","import { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { ColorStep } from \"./ColorStep\";\nimport { SVGGradient } from \"./SVGGradient\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport class SVGLinearGradient extends SVGGradient {\n  getDefaultObject(obj) {\n    return super.getDefaultObject({\n      type: \"linear-gradient\",\n      x1: '0%',\n      y1: '0%',\n      x2: '100%',      \n      y2: '0%',\n      spreadMethod: 'pad',\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('x1', 'y1', 'x2', 'y2', 'spreadMethod')\n    }\n  }\n\n  toString() {\n\n    // linear-gradient(x1 y1 x2 y2 spreadMethod, ....colors)\n\n    if(this.colorsteps.length === 0) return '';    \n\n    var colorString = this.getColorString();\n\n    var {x1, y1, x2, y2, spreadMethod} = this.json;\n    var opt = [x1, y1, x2, y2, spreadMethod].join(' ');\n\n    var result = `${this.json.type}(${opt}, ${colorString})`;\n\n    return result;\n  }\n\n  toSVGString(id) {\n      var {x1, y1, x2, y2, spreadMethod} = this.json;    \n\n      return /*html*/`\n        <linearGradient \n            id=\"${id}\"\n            x1=\"${x1}\"\n            x2=\"${x2}\"\n            y1=\"${y1}\"\n            y2=\"${y2}\"\n            spreadMethod=\"${spreadMethod}\"\n          >\n          ${this.colorsteps.map(it => {\n            return /*html*/`<stop offset=\"${it.percent}%\"  stop-color=\"${it.color}\" ></stop>`\n          }).join('\\n')}\n        </linearGradient>\n      `\n  }\n\n  toFillValue (id) {\n      return `url(#${id})`;\n  }  \n\n  static toLinearGradient(colorsteps) {\n    if (colorsteps.length === 0) {\n      return \"none\";\n    }\n\n    var gradient = new LinearGradient({\n      angle: \"to right\",\n      colorsteps\n    });\n\n    return gradient + \"\";\n  }\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var opt = {};\n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n\n          newValue = reverseMatches(newValue, results.matches);\n\n          colorsteps.push.apply(colorsteps, ColorStep.parse(newValue));\n        } else {\n\n          var [x1, y1, x2, y2, spreadMethod] = newValue.split(' ')\n\n          opt.x1 = Length.parse(x1);\n          opt.y1 = Length.parse(y1);\n          opt.x2 = Length.parse(x2);\n          opt.y2 = Length.parse(y2);\n          opt.spreadMethod = spreadMethod || 'pad'\n        }\n      });\n\n    return new SVGLinearGradient({ ...opt, colorsteps });\n  }\n}\n","import { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { ColorStep } from \"./ColorStep\";\nimport { SVGGradient } from \"./SVGGradient\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class SVGRadialGradient extends SVGGradient {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"radial-gradient\",\n      cx: '50%',\n      cy: '50%',\n      r: '50%',\n      fx: '50%',\n      fy: '50%',\n      fr: '0%',\n      spreadMethod: 'pad',\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('cx', 'cy', 'r', 'fx', 'fy', 'fr','spreadMethod')\n      \n    }\n  }\n\n\n  toString() {\n\n    if(this.colorsteps.length === 0) return '';    \n\n    var colorString = this.getColorString();\n\n    var {cx, cy, r, fx, fy, fr,spreadMethod} = this.json;\n    var opt = [cx, cy, r, fx, fy, fr,spreadMethod].join(' ');\n\n    var result = `${this.json.type}(${opt}, ${colorString})`;\n\n    return result;\n  }\n\n  toSVGString(id) {\n      var {cx, cy, r, fx, fy, fr,spreadMethod} = this.json;    \n      return /*html*/`\n<radialGradient ${OBJECT_TO_PROPERTY({ id, cx, cy, r, fx, fy, fr,spreadMethod })} >\n  ${this.colorsteps.map(it => {\n    return /*html*/`<stop offset=\"${it.percent}%\"  stop-color=\"${it.color}\" />`\n  }).join('\\n')}\n</radialGradient>\n`\n  }\n\n  toFillValue (id) {\n      return `url(#${id})`;\n  }  \n\n\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var opt = {} \n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n          // color 복원\n          newValue = reverseMatches(newValue, results.matches);\n\n          colorsteps.push.apply(colorsteps, ColorStep.parse(newValue));\n        } else {\n\n          var [cx, cy, r, fx, fy, fr,spreadMethod] = newValue.split(' ');        \n\n          opt.cx = cx;\n          opt.cy = cy;\n          opt.r = r;\n          opt.fx = fx;\n          opt.fy = fy;\n          opt.fr = fr;\n          opt.spreadMethod = spreadMethod || 'pad'\n        }\n      });\n\n    return new SVGRadialGradient({ ...opt, colorsteps });\n  }\n}\n","import { ColorStep } from \"./ColorStep\";\nimport { SVGGradient } from \"./SVGGradient\";\n\nexport class SVGStaticGradient extends SVGGradient {\n    getDefaultObject() {\n        return super.getDefaultObject({  \n            type: 'static-gradient', \n            static: true, \n            colorsteps: [\n                new ColorStep({color: 'red', percent: 0, index: 0 }),\n                new ColorStep({color: 'red', percent: 100, index: 1 }),\n            ]\n        }) \n    }\n\n    toCloneObject() {\n        return {\n            ...super.toCloneObject(),\n            static: true \n        }\n    }\n\n    static create (color = 'transparent') {\n        return new SVGStaticGradient({\n            colorsteps: [\n                new ColorStep({color, percent: 0, index: 0 }),\n                new ColorStep({color, percent: 100, index: 0 }),\n            ]\n        })\n    }\n\n    setColor (color) {\n        this.colorsteps.forEach(it => {\n            it.color = color; \n        })\n    }\n\n    toString () {\n        var color = this.json.colorsteps[0].color;\n        return color\n    }\n\n    toSVGString() {\n        return '' \n    }\n\n    toFillValue () {\n        return this.toString();\n    }\n\n    isStatic () { return true; }\n}\n","import { ImageResource } from \"./ImageResource\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nconst IMAGE_LIST = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"svg\"];\n\n// refer to https://github.com/graingert/datauritoblob/blob/master/dataURItoBlob.js\n// MIT License\nfunction dataURItoBlob(dataURI) {\n  // convert base64 to raw binary data held in a string\n  // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n  var byteString = atob(dataURI.split(\",\")[1]);\n  // separate out the mime component\n  var mimeString = dataURI\n    .split(\",\")[0]\n    .split(\":\")[1]\n    .split(\";\")[0];\n  // write the bytes of the string to an ArrayBuffer\n  var ab = new ArrayBuffer(byteString.length);\n  var dw = new DataView(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    dw.setUint8(i, byteString.charCodeAt(i));\n  }\n  // write the ArrayBuffer to a blob, and you're done\n  return new Blob([ab], { type: mimeString });\n}\n\nexport class SVGImageResource extends ImageResource {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"url\",\n      url: \"\",\n      datauri: \"\",\n      patternUnits: 'userSpaceOnUse', \n      patternWidth: '100%', \n      patternHeight: '100%',\n      imageX: \"0%\",\n      imageY: '0%',\n      imageWidth: \"100%\",\n      imageHeight: '100%',\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'url',\n        'datauri',\n        'patternUnits',\n        'patternWidth',\n        'patternHeight',\n        'imageX',\n        'imageY',\n        'imageWidth',\n        'imageHeight',\n      )\n\n    }\n  }\n\n  static parse(str) {\n\n    var content = str.split('(')[1].split(')')[0]\n\n    var [url,  props] = content.trim().split('#')\n\n    if (!props) {\n      return new SVGImageResource({ url });\n    }\n\n    var [ patternUnits, patternWidth, patternHeight, imageX, imageY, imageWidth, imageHeight] = props.split(',');\n\n    return new SVGImageResource({ patternUnits, patternWidth, patternHeight, imageX, imageY, imageWidth, imageHeight, url })\n  }\n\n  isUrl() {\n    return true;\n  }\n\n  static isImageFile(fileExt) {\n    return IMAGE_LIST.includes(fileExt);\n  }\n\n\n  toString() {\n    var json = this.json;\n    var {\n      patternUnits, \n      patternWidth, \n      patternHeight,\n      imageX,\n      imageY,\n      imageWidth,\n      imageHeight,\n      url\n    } = json;       \n\n    var string = [\n      patternUnits, \n      patternWidth, \n      patternHeight,\n      imageX,\n      imageY,\n      imageWidth,\n      imageHeight\n    ].join(',').trim();\n\n    return `url(${url}#${string})`;\n  }\n\n  toSVGString(id) {\n      var {\n        patternUnits, \n        patternWidth: width, \n        patternHeight: height,\n        imageX,\n        imageY,\n        imageWidth,\n        imageHeight\n      } = this.json;    \n\n      return /*html*/`\n  <pattern ${OBJECT_TO_PROPERTY({ id, patternUnits, width, height })} >\n    <image xlink:href=\"${this.json.url}\" ${OBJECT_TO_PROPERTY({\n      x: imageX, y: imageY, width: imageWidth, height: imageHeight, preserveAspectRatio: \"none\"\n    })} />\n  </pattern>\n      `\n  }\n\n  toFillValue (id) {\n      return `url(#${id})`;\n  }    \n}\n","import { PropertyItem } from \"el/editor/items/PropertyItem\"\nimport { convertMatches, reverseMatches } from \"el/utils/parser\";\nimport { SVGLinearGradient } from \"./image-resource/SVGLinearGradient\";\nimport { SVGRadialGradient } from \"./image-resource/SVGRadialGradient\";\nimport { SVGStaticGradient } from \"./image-resource/SVGStaticGradient\";\nimport { SVGImageResource } from \"./image-resource/SVGImageResource\";\n\n\nconst reg = /((linear\\-gradient|radial\\-gradient|url)\\(([^\\)]*)\\))/gi;\n\nexport class SVGFill extends PropertyItem {\n  addImageResource(imageResource) {\n    this.clear(\"image-resource\");\n    return this.addItem(\"image-resource\", imageResource);\n  }\n\n  addGradient(gradient) {\n    return this.addImageResource(gradient);\n  }\n\n  setImageUrl(data) {\n    if (!data.images) return;\n    if (!data.images.length) return;\n    this.reset({ \n      type: \"image\", \n      image: SVGFill.createImage(data.images[0]) \n    });\n  }\n\n  static createImage(url) {\n    return new SVGLImageResource({ url });\n  }\n\n  setGradient(data) {\n    this.reset({\n      type: data.type,\n      image: SVGFill.createGradient(data, this.json.image)\n    });\n  }\n\n  static createGradient(data, gradient) {\n    const colorsteps = data.colorsteps || gradient.colorsteps;\n\n    let json = gradient.toJSON();\n    delete json.itemType;\n    delete json.type;\n\n    switch (data.type) {\n      case \"linear-gradient\":\n        return new SVGLinearGradient({ ...json, colorsteps });\n      case \"radial-gradient\":\n        return new SVGRadialGradient({ ...json, colorsteps });\n      default:\n        return new SVGStaticGradient({ ...json, colorsteps });\n    }\n  }\n\n  get image() {\n    return this.json.image;\n  }\n\n  set image(image) {\n    this.json.image = image;\n  }\n\n  static parse(obj) {\n    return new SVGFill(obj);\n  }\n\n  static parseImage (str) {\n    var results = convertMatches(str);\n    let image = null;\n\n    var matchResult = results.str.match(reg)\n\n    if (!matchResult) {\n      return SVGStaticGradient.create(str || 'transparent'); \n    }\n\n    matchResult.forEach((value, index) => {\n\n      value = reverseMatches(value, results.matches);\n      if (value.includes(\"linear\")) {\n        image = SVGLinearGradient.parse(value);\n      } else if (value.includes(\"radial\")) {\n        image = SVGRadialGradient.parse(value);\n      } else if (value.includes(\"url\")) {\n        image = SVGImageResource.parse(value);\n      } else {\n        image = SVGStaticGradient.parse(value);\n      }\n    });\n\n    return image\n  }\n\n  static changeImageType (options) {\n\n    switch  (options.type) {\n    case 'linear-gradient': \n      return new SVGLinearGradient(options);     \n    case 'radial-gradient': \n      return new SVGRadialGradient(options);\n    case 'image-resource':\n    case 'url':\n      return new SVGImageResource(options);\n    default: \n      return new SVGStaticGradient(options);\n    }\n  }\n}\n","\nimport { POINTERSTART,BIND, KEYUP, IF, ESCAPE, ENTER, PREVENT, STOP, SUBSCRIBE} from \"el/sapa/Event\";\nimport PathParser from \"el/editor/parser/PathParser\";\n\nimport { Length } from \"el/editor/unit/Length\";\nimport PathStringManager from \"el/editor/parser/PathStringManager\";\nimport PathGenerator from \"el/editor/parser/PathGenerator\";\nimport Point from \"el/editor/parser/Point\";\nimport { SVGFill } from \"el/editor/property-parser/SVGFill\";\nimport { vec3 } from \"gl-matrix\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './PathDrawView.scss';\n\nconst FIELDS = ['fill', 'fill-opacity', 'stroke', 'stroke-width', 'stroke-linecap', 'stroke-linejoin']\n\nexport default class PathDrawView extends EditorElement {\n\n    initialize() {\n        super.initialize();\n\n        this.pathParser = new PathParser();\n    }\n\n    initState() {\n        return {\n            points: [],\n            $target: null, \n            fill: 'transparent',\n            stroke: 'black',\n            'fill-opacity': null,\n            'stroke-width': 2,\n            'stroke-linecap': 'round',\n            'stroke-linejoin': 'round',\n            tolerance: 1,\n            screenX: Length.z(),\n            screenY: Length.z(),\n            screenWidth: Length.z(),\n            screenHeight: Length.z()\n        }\n    }\n\n\n    [SUBSCRIBE('changeDrawManager')] (obj) {\n        this.setState({ ...obj }, false);\n    }\n\n\n    get scale () {\n        return this.$viewport.scale; \n    }\n\n    template() {\n        return /*html*/`\n        <div class='elf--path-draw-view' tabIndex=\"-1\">\n            <div class='path-draw-container' ref='$view'></div>\n        </div>`\n    }\n\n    initRect (isForce  = false) {\n        if (!this.state.rect || isForce) {\n            this.state.rect = this.$el.rect();\n        }\n    }\n\n    [KEYUP('document') + IF('isShow') + ESCAPE + ENTER + PREVENT + STOP] () {\n        this.trigger('hidePathDrawEditor');        \n    }\n\n\n    [SUBSCRIBE(\"DrawEditorDone\")] () {\n        this.trigger('hidePathDrawEditor');        \n    }\n\n\n    get totalPathLength () {\n        if (!this.refs.$view) return 0 \n        var $obj = this.refs.$view.$('path.object');\n        if (!$obj) return 0; \n\n        return $obj.totalLength\n    }\n\n    makePathLayer (pathRect) {\n        var layer; \n        // 점 개수 줄이기 \n        const newPath = PathParser.makePathByPoints(this.state.points)\n                                    .simplify(this.state.tolerance)\n                                    .smooth(30);\n\n\n        newPath.transformMat4(this.$viewport.matrixInverse);\n        const bbox = newPath.getBBox();\n\n        const newWidth = vec3.distance(bbox[1], bbox[0]);\n        const newHeight = vec3.distance(bbox[3], bbox[0]);\n\n        newPath.translate(-bbox[0][0], -bbox[0][1])\n\n        const pathItem = {\n            itemType: 'svg-path',\n            x: Length.px(bbox[0][0]),\n            y: Length.px(bbox[0][1]),\n            width: Length.px(newWidth),\n            height: Length.px(newHeight),\n            d: newPath.d,\n            totalLength: this.totalPathLength\n        }\n\n        FIELDS.forEach(key => {\n            if (this.state[key]) Object.assign(pathItem, {[key]: this.state[key] })    \n        });            \n\n        const containerItem = this.$selection.currentProject;\n\n        layer = containerItem.appendChild(this.$editor.createModel(pathItem));        \n\n        return layer; \n    }\n\n    addPathLayer() {\n        var pathRect = this.getPathRect()\n\n        if (pathRect.width !==  0 && pathRect.height !== 0) {\n\n            var layer = this.makePathLayer(pathRect)\n            if (layer) {\n                // this.$selection.select(layer);\n                // this.trigger('hidePathDrawEditor')\n                this.emit('refreshAll')\n            }\n        }\n        \n    }\n\n    changeMode (obj) {       \n        this.setState({\n            ...this.initState(),\n            ...obj\n        }, false)    \n    }\n\n    getCurrentObject () {\n        var current = this.state.current; \n\n        if (!current) {\n            return null;\n        }\n\n        return {\n            current,\n            d: current.d,\n            screenX: current.screenX,\n            screenY: current.screenY,\n            screenWidth: current.screenWidth,\n            screenHeight: current.screenHeight,\n        }\n    }\n\n    [SUBSCRIBE('showPathDrawEditor')] (obj = {}) {\n\n        this.changeMode(obj);\n\n        this.$el.show();\n        this.$el.focus();\n\n        this.emit('showDrawManager', {\n            instance: this,\n            fill: this.state.fill,\n            stroke: this.state.stroke,\n            'fill-opacity': this.state['fill-opacity'],\n            'stroke-width': this.state['stroke-width'],\n            'stroke-linecap': this.state['stroke-linecap'],\n            'stroke-linejoin': this.state['stroke-linejoin'],            \n        });        \n\n        this.emit('hidePathEditor');\n        this.emit('push.mode.view', 'PathDrawView');\n    }\n\n    [SUBSCRIBE('initPathDrawEditor')] () {\n        this.pathParser.reset('');\n        this.refs.$view.empty()\n    }\n\n    [SUBSCRIBE('hidePathDrawEditor')] () {\n\n        if (this.$el.isShow()) {\n            this.trigger('initPathDrawEditor')\n            this.$el.hide();\n            // this.emit('finishPathEdit')\n            this.emit('hideDrawManager');\n            this.emit('pop.mode.view', 'PathDrawView');\n        }\n\n    }\n\n    [SUBSCRIBE('hideAddViewLayer')] () {   \n        this.$el.hide();\n        this.emit('hideDrawManager');        \n    }\n\n\n    getInnerId(postfix = '') {\n        return 'draw-manager-' + postfix;\n    }   \n    \n\n    get toFillSVG () {\n        return SVGFill.parseImage(this.state.fill || 'transparent').toSVGString(this.fillId);\n    }\n\n    get toStrokeSVG () {\n        return SVGFill.parseImage(this.state.stroke || 'black').toSVGString(this.strokeId);\n    }  \n\n    get toDefInnerString () {\n        return /*html*/`\n            ${this.toFillSVG}\n            ${this.toStrokeSVG}\n        `\n    }\n    \n    get toDefString () {\n\n        var str = this.toDefInnerString.trim();\n\n        // if (!str) return ''; \n\n        return /*html*/`\n            <defs>\n            ${str}\n            </defs>\n        `\n    }    \n\n    get fillId () {\n        return this.getInnerId('fill')\n    }\n    \n    get strokeId () {\n        return this.getInnerId('stroke')\n    }\n\n    get toFillValue () {\n        return  SVGFill.parseImage(this.state.fill || 'transparent').toFillValue(this.fillId);\n    }\n    \n    get toStrokeValue () {\n        return  SVGFill.parseImage(this.state.stroke || 'black').toFillValue(this.strokeId);\n    }      \n\n    [BIND('$view')] () {\n\n        // 부드럽게 만들기\n        const newPath = PathParser.makePathByPoints(this.state.points)\n                                    .simplify(this.state.tolerance)\n                                    // .smooth(30);\n\n        return {\n            innerHTML: /*html*/`\n            <svg width=\"100%\" height=\"100%\" class='svg-editor-canvas'>\n                ${this.toDefString}\n                <path \n                    class='object' \n                    fill=\"${this.toFillValue}\"\n                    stroke=\"${this.toStrokeValue}\"\n                    fill-opacity=\"${this.state['fill-opacity']}\"\n                    stroke-width=\"${this.state['stroke-width']}\"\n                    stroke-linecap=\"${this.state['stroke-linecap']}\"\n                    stroke-linejoin=\"${this.state['stroke-linejoin']}\"\n                    d=\"${newPath.d}\" \n                />\n            </svg>\n            ` \n        }\n    }\n\n    renderPath () {\n        this.bindData('$view');\n    }\n\n    [SUBSCRIBE('resizeEditor')] () {\n        this.initRect(true);\n    }\n\n    getPathRect () {\n        this.initRect(true);\n\n        var $obj = this.refs.$view.$('path.object')\n\n        var pathRect = {x: Length.z(), y: Length.z(),  width: Length.z(), height: Length.z()}\n        if ($obj) {\n\n            pathRect = $obj.rect()\n            pathRect.x -= this.state.rect.x;\n            pathRect.y -= this.state.rect.y;\n        }\n\n        return pathRect;\n    }\n\n    [POINTERSTART('$view') + MOVE() + END()] (e) {\n        this.initRect();\n\n        this.state.altKey = false; \n\n        this.state.startXY = {\n            x: e.xy.x - this.state.rect.x, \n            y: e.xy.y - this.state.rect.y\n        }\n\n        this.state.points = [this.state.startXY]; \n    }\n\n    move (dx, dy, eventType, pressure) {\n\n        this.state.points.push({\n            x: this.state.startXY.x + dx,\n            y: this.state.startXY.y + dy,\n            pressure\n        })\n\n        this.renderPath();\n    }\n\n    end (dx, dy) {\n        this.addPathLayer(); \n        this.trigger('initPathDrawEditor') \n    }   \n\n} ","\nimport { POINTERSTART, BIND, POINTERMOVE, PREVENT, KEYUP, IF, STOP, DOUBLECLICK, ENTER, ESCAPE, DOUBLETAB, DELAY, SUBSCRIBE, THROTTLE } from \"el/sapa/Event\";\nimport PathGenerator from \"el/editor/parser/PathGenerator\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport PathParser from \"el/editor/parser/PathParser\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { getBezierPoints, recoverBezier, recoverBezierQuard, getBezierPointsQuard, recoverBezierLine, getBezierPointsLine } from \"el/utils/bezier\";\nimport { isFunction } from \"el/sapa/functions/func\";\nimport { vec3 } from \"gl-matrix\";\nimport { getDist } from \"el/utils/math\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './PathEditorView.scss';\nimport { vertiesToRectangle } from \"el/utils/collision\";\nimport { MeshTransform } from \"el/editor/parser/MeshTransform\";\n\n/**\n * convert array[x, y] to object{x, y} \n * \n * @param {array} param0 \n */\nfunction xy([x, y]) {\n    return { x, y }\n}\n\nconst SegmentConvertor = class extends EditorElement {\n\n\n    convertToCurve(index) {\n\n        this.pathGenerator.convertToCurve(index);\n\n        this.renderPath()\n\n        this.refreshPathLayer()\n    }\n\n    isEditableSegment () {\n        return this.state.disableCurve === false;\n    }\n\n    [DOUBLECLICK('$view [data-segment]') + IF('isEditableSegment') + PREVENT](e) {\n        var index = +e.$dt.attr('data-index')\n\n        this.convertToCurve(index);\n    }\n\n    /**\n     * Touch 용 에디팅을 위한 이벤트 \n     * \n     * @param {TouchEvent} e \n     */\n    [DOUBLETAB('$view [data-segment]') + PREVENT + DELAY(300)](e) {\n        var index = +e.$dt.attr('data-index')\n        this.convertToCurve(index);\n    }\n}\n\nconst PathCutter = class extends SegmentConvertor {\n\n    /**\n     * \n     * stroke 위의 점을 선택 할 수 있는지 체크 \n     * \n     * @param {string} d \n     * @param {{x: number, y: number}} clickPosition \n     * @returns \n     */\n    calculatePointOnLine(d, clickPosition) {\n        var parser = new PathParser(d);\n\n        return parser.getClosedPoint(clickPosition);\n    }\n\n    [POINTERSTART('$view .split-path') + MOVE() + END()](e) {\n        this.initRect()\n        var parser = new PathParser(e.$dt.attr('d'));\n        var clickPosition = {\n            x: e.xy.x - this.state.rect.x,\n            y: e.xy.y - this.state.rect.y\n        };\n        var selectedSegmentIndex = -1;\n\n        if (this.state.mode === 'path') {\n\n            // this.changeMode('modify');\n            this.state.dragXY = {\n                x: e.xy.x - this.state.rect.x,\n                y: e.xy.y - this.state.rect.y\n            };\n            this.state.startPoint = this.state.dragXY;\n            this.pathGenerator.setLastPoint(this.state.startPoint);\n            this.state.isSplitPath = true;\n\n            this.renderPath()\n\n            if (this.state.current) {\n                this.refreshPathLayer();\n            } else {\n                this.addPathLayer();\n                this.trigger('initPathEditorView')\n            }\n\n            return;\n        } else {\n            // split-path 를 클릭 하면 바로 패스를 분리시킨다. \n            if (parser.segments[1].command === 'C') {\n                var points = [\n                    xy(parser.segments[0].values),\n                    xy(parser.segments[1].values.slice(0, 2)),\n                    xy(parser.segments[1].values.slice(2, 4)),\n                    xy(parser.segments[1].values.slice(4, 6))\n                ]\n\n                var curve = recoverBezier(...points, 20)\n                var t = curve(clickPosition.x, clickPosition.y);\n\n                selectedSegmentIndex = this.pathGenerator.setPoint(getBezierPoints(points, t))\n\n            } else if (parser.segments[1].command === 'Q') {\n                var points = [\n                    xy(parser.segments[0].values),\n                    xy(parser.segments[1].values.slice(0, 2)),\n                    xy(parser.segments[1].values.slice(2, 4))\n                ]\n\n                var curve = recoverBezierQuard(...points, 20)\n                var t = curve(clickPosition.x, clickPosition.y);\n\n                selectedSegmentIndex = this.pathGenerator.setPointQuard(getBezierPointsQuard(points, t))\n            } else if (parser.segments[1].command === 'L') {\n                var points = [\n                    xy(parser.segments[0].values),\n                    xy(parser.segments[1].values.slice(0, 2))\n                ]\n\n                var curve = recoverBezierLine(...points, 20)\n                var t = curve(clickPosition.x, clickPosition.y);\n\n                selectedSegmentIndex = this.pathGenerator.setPointLine(getBezierPointsLine(points, t))\n            }\n\n\n            this.renderPath()\n\n            this.refreshPathLayer();\n\n            // segment 모드로 변경 \n            this.changeMode('segment-move');\n\n            // segment 캐쉬 \n            this.pathGenerator.setCachePoint(selectedSegmentIndex, 'startPoint');\n\n            // segment 선택 하기 \n            this.pathGenerator.selectKeyIndex('startPoint', selectedSegmentIndex)\n        }\n\n\n    }\n}\n\nconst PathTransformEditor = class extends PathCutter {\n\n    [SUBSCRIBE('changePathTransform')](transformMoveType) {\n        this.resetTransformZone()\n\n        var { width, height } = this.state.transformZoneRect;\n        this.pathGenerator.initTransform(this.state.transformZoneRect);\n\n        switch (transformMoveType) {\n            case 'flipX':\n                this.pathGenerator.transform('flipX', width, 0)     // rect 가운데를 기준으로 뒤집기 \n                break;\n            case 'flipY':\n                this.pathGenerator.transform('flipY', 0, height)\n                break;\n            case 'flip':\n                this.pathGenerator.transform('flip', width, height)\n        }\n\n\n        this.renderPath()\n\n        this.refreshPathLayer();\n    }\n\n\n    [SUBSCRIBE('changePathUtil')](utilType) {\n        switch (utilType) {\n            case 'reverse':\n                // 이전 scale 로 복구 한 다음 새로운 path 를 설정한다. \n                const { d } = this.pathGenerator.toPath()\n\n                const pathParser = new PathParser(d);\n                pathParser.reverse(...this.pathGenerator.selectedGroupIndexList);\n                pathParser.transformMat4(this.state.cachedMatrixInverse)\n\n                this.refreshEditorView({ d: pathParser.d })\n                this.updatePathLayer();\n                break;\n        }\n    }\n\n\n    [SUBSCRIBE('divideSegmentsByCount')](count) {\n        const { d } = this.pathGenerator.toPath()\n\n        const pathParser = new PathParser(d);\n        const newPath = pathParser.divideSegmentByCount(count);\n        newPath.transformMat4(this.state.cachedMatrixInverse)\n\n        this.refreshEditorView({ d: newPath.d })\n    }\n}\n\nconst FIELDS = ['fill', 'fill-opacity', 'stroke', 'stroke-width']\n\n/**\n * @property {PathGenerator} pathGenerator\n * @property {PathParser} pathParser\n */\nexport default class PathEditorView extends PathTransformEditor {\n\n\n    initialize() {\n        super.initialize();\n\n        this.pathParser = new PathParser();\n        this.pathGenerator = new PathGenerator(this)\n    }\n\n    initState() {\n        return {\n            changeEvent: 'updatePathItem',\n            isShow: false,\n            isControl: false,\n            disableCurve: false,\n            points: [],\n            mode: 'path',\n            clickCount: 0,\n            isSegment: false,\n            isFirstSegment: false,\n            current: null,\n        }\n    }\n\n    get scale() {\n        return this.$viewport.scale;\n    }\n\n    template() {\n        return /*html*/`\n        <div class='elf--path-editor-view' tabIndex=\"-1\">\n            <style type=\"text/css\" ref=\"$styleView\"></style>\n            <svg id='patternId' width='100%' height='100%' xmlns='http://www.w3.org/2000/svg'>\n                <defs>\n                    <pattern id='stripe' patternUnits='userSpaceOnUse' width='20' height='33' patternTransform='scale(1) rotate(135)'>\n                        <path d='M0 8h20z'   stroke-width='1' stroke='#07A3FB' fill='none'/>\n                        <path d='M0 16h20z'   stroke-width='1' stroke='#07A3FB' fill='none'/>\n                        <path d='M0 24h20z'   stroke-width='1' stroke='#07A3FB' fill='none'/>\n                        <path d='M0 32h20z'   stroke-width='1' stroke='#07A3FB' fill='none'/>\n                    </pattern>\n                </defs>    \n            </svg>\n            <div class='path-container' ref='$view'></div>\n            <div class='path-container split-panel'>\n                <svg width=\"100%\" height=\"100%\">\n                    <circle ref='$splitCircle' class='split-circle' />\n                </svg>\n            </div>\n            <div class='segment-box' ref='$segmentBox'></div>\n        </div>`\n    }\n    isShow() {\n        return this.state.isShow\n    }\n\n    initRect(isForce = false) {\n        if (!this.state.rect || isForce) {\n            this.state.rect = this.$el.rect();\n        }\n    }\n\n    [SUBSCRIBE(\"PathEditorDone\")]() {\n        if (this.state.current) {\n            this.refreshPathLayer();\n            this.trigger('hidePathEditor');\n        } else {\n            this.addPathLayer();\n        }\n\n        if (!this.state.current && this.pathGenerator.length) {\n            this.trigger('initPathEditorView');\n        } else {\n            this.trigger('hidePathEditor');\n        }\n \n    }\n\n    [KEYUP('document') + IF('isShow') + ENTER + PREVENT + STOP]() {\n        this.trigger(\"PathEditorDone\")\n    }\n\n    [KEYUP('document') + IF('isShow') + ESCAPE + PREVENT + STOP]() {\n        if (this.state.current) {\n            this.refreshPathLayer();\n        } else {\n            this.addPathLayer();\n        }\n\n        this.trigger('hidePathEditor');\n    }\n\n    // get totalPathLength() {\n    //     if (!this.refs.$view) return 0\n    //     var $obj = this.refs.$view.$('path.object');\n    //     if (!$obj) return 0;\n\n    //     return $obj.totalLength\n    // }\n\n    makePathLayer() {\n        var layer;\n        const newPath = new PathParser(this.pathGenerator.toPath().d);\n        newPath.transformMat4(this.$viewport.matrixInverse);\n        const bbox = newPath.getBBox();\n\n        const newWidth = vec3.distance(bbox[1], bbox[0]);\n        const newHeight = vec3.distance(bbox[3], bbox[0]);\n\n        newPath.translate(-bbox[0][0], -bbox[0][1])\n\n        const pathItem = {\n            itemType: 'svg-path',\n            x: Length.px(bbox[0][0]),\n            y: Length.px(bbox[0][1]),\n            width: Length.px(newWidth),\n            height: Length.px(newHeight),\n            d: newPath.d,\n            // totalLength: this.totalPathLength,\n            fill: newPath.closed ? `#C4C4C4` : 'transparent'\n        }\n\n        FIELDS.forEach(key => {\n            if (this.state[key]) {\n                pathItem[key] = this.state[key];\n            }\n        });\n\n        const containerItem = this.$selection.getArtboardByPoint(bbox[0]) || this.$selection.currentProject;\n\n\n        layer = containerItem.appendChild(this.$editor.createModel(pathItem));\n\n        return layer;\n    }\n\n    updatePathLayer() {\n        var { d } = this.pathGenerator.toPath();\n\n        var parser = new PathParser(d);\n        parser.transformMat4(this.$viewport.matrixInverse)\n\n        this.emit(this.state.changeEvent, {\n            d: parser.d,\n            matrix: this.state.matrix,\n            box: this.state.box,\n            // totalLength: this.totalPathLength,\n        })\n\n    }\n\n    /**\n     * ArtBoard 에 path layer 추가하기 \n     * \n     * @param {number} dx \n     * @param {number} dy \n     */\n    addPathLayer() {\n        this.changeMode('modify');\n\n        var layer = this.makePathLayer()\n        console.log(layer);        \n        if (layer) {\n\n\n\n            this.$selection.select(layer);\n            this.trigger('hidePathEditor')\n            this.emit('refreshAll')\n        }\n\n\n    }\n\n    changeMode(mode, obj) {\n        this.setState({\n            mode,\n            clickCount: 0,\n            moveXY: null,\n            ...obj\n        }, false)\n\n        if (obj?.points) {\n            this.pathGenerator.setPoints(obj.points || []);\n        }\n\n\n        this.emit('changePathManager', this.state.mode);\n    }\n\n    [SUBSCRIBE('changePathManager')](obj) {\n        this.setState({ ...obj, clickCount: 0 }, false);\n\n        this.renderPath()\n    }\n\n    isMode(mode) {\n        return this.state.mode === mode;\n    }\n\n    afterRender() {\n        this.$el.hide();\n    }\n\n    [SUBSCRIBE('updateViewport')]() {\n\n        if (this.$el.isShow()) {\n            const { d } = this.pathGenerator.toPath()\n\n            const pathParser = new PathParser(d);\n            pathParser.transformMat4(this.state.cachedMatrixInverse)\n\n            this.refreshEditorView({ d: pathParser.d })\n        }\n    }\n\n    /**\n     * Path 에디터 다시 그리기 \n     * \n     * viewport 의 matrixInverse 를 적용하고 다시 정리한다. \n     * \n     * @param {{d: string}} obj \n     */\n    refreshEditorView(obj, removeCache = false) {\n\n        let selectedPointList = [];\n        if (obj && obj.d) {\n            this.pathParser.reset(obj.d)\n            this.pathParser.transformMat4(this.$viewport.matrix);\n            this.state.cachedMatrixInverse = this.$viewport.matrixInverse;\n\n            selectedPointList = (removeCache ? [] : this.pathGenerator.selectedPointList);\n\n            this.pathGenerator.setPoints(this.pathParser.convertGenerator())\n        }\n\n        // this.pathGenerator.initializeSelect(selectedPointList);\n        this.renderPath()\n\n    }\n\n    [SUBSCRIBE('showPathEditor')](mode = 'path', obj = {}) {\n        this.state.isShow = true;\n        this.transformMode = mode;\n\n        if (mode === 'move') {\n            obj.current = null;\n            obj.points = []\n        }\n\n        obj.box = obj.box || 'canvas'\n\n        this.changeMode(mode, obj);\n\n        this.refreshEditorView(obj, true);\n\n\n        this.$el.show();\n        this.$el.focus();\n\n        this.emit('showPathManager', { mode: this.state.mode });\n        this.emit('hidePathDrawEditor');\n        this.emit('push.mode.view', 'PathEditorView');\n    }\n\n    [SUBSCRIBE('hidePathEditor')]() {\n\n        if (this.$el.isShow()) {\n            this.pathParser.reset('');\n            this.pathGenerator.setPoints([]);\n            this.setState(this.initState(), false)\n            this.refs.$view.empty()\n            this.$el.hide();\n            // this.emit('finishPathEdit')\n            this.emit('hidePathManager');\n            this.emit('pop.mode.view', 'PathEditorView');\n            this.emit('refreshSelectionTool');\n        }\n\n    }\n\n\n    [SUBSCRIBE('hideAddViewLayer')]() {\n        this.state.isShow = false;\n        this.state.isControl = false;\n        this.pathParser.reset('');\n        this.setState(this.initState(), false)\n        this.refs.$view.empty()\n        this.$el.hide();\n        this.emit('hidePathManager');\n    }\n\n    [BIND('$view')]() {\n\n        const path = this.state.isShow ? this.pathGenerator.makeSVGPath() : ''\n\n        const strokeWidth = Length.parse(this.state.current?.['stroke-width']).value || 0;\n        return {\n            class: {\n                'path': this.state.mode === 'path',\n                'modify': this.state.mode === 'modify',           \n                'transform': this.state.mode === 'transform',\n                'box': this.state.box === 'box',\n                'canvas': this.state.box === 'canvas',\n                'segment-move': this.state.mode === 'segment-move',\n                'is-control': this.state.isControl,\n                'has-one-stroke-width': strokeWidth === 1,\n            },\n\n            // 성능을 위해서 diff 알고리즘 사용 \n            // diff 를 하지 않으면 이벤트가 종료 되기 때문에 diff 로 부분만 변경해줘야 함 \n            htmlDiff: path\n        }\n    }\n\n    [BIND('$splitCircle')]() {\n        if (this.state.splitXY) {\n            return {\n                cx: this.state.splitXY.x,\n                cy: this.state.splitXY.y,\n                r: 5\n            }\n        } else {\n            return {\n                r: 0\n            }\n        }\n\n    }\n\n    refreshPathLayer() {\n        this.updatePathLayer();\n    }\n\n    renderPath() {\n        this.bindData('$view');\n\n    }\n\n    getPathRect() {\n        this.initRect(true);\n\n        const { d } = this.pathGenerator.toPath();\n\n        return vertiesToRectangle(PathParser.fromSVGString(d).getBBox(), false);\n    }\n\n    resetTransformZone() {\n        var rect = this.getPathRect();\n\n        this.state.transformZoneRect = rect;\n    }\n\n    [POINTERMOVE('$view') + PREVENT](e) {\n        this.initRect()\n        if (this.isMode('path') && this.state.rect) {\n            this.state.moveXY = {\n                x: e.xy.x - this.state.rect.x,\n                y: e.xy.y - this.state.rect.y\n            };\n\n            this.state.altKey = e.altKey\n            this.renderPath()\n        } else {\n\n            var $target = Dom.create(e.target)\n            var isSplitPath = $target.hasClass('split-path')\n            if (isSplitPath) {\n                this.state.splitXY = this.calculatePointOnLine($target.attr('d'), {\n                    x: e.xy.x - this.state.rect.x,\n                    y: e.xy.y - this.state.rect.y\n                });\n            } else {\n                this.state.splitXY = null;\n            }\n\n            this.bindData('$splitCircle');\n\n            this.state.altKey = false;\n        }\n\n\n    }\n\n    [POINTERSTART('$view :not(.split-path)') + PREVENT + STOP + MOVE() + END()](e) {\n        this.initRect();\n\n        this.state.altKey = false;\n        var isPathMode = this.isMode('path');\n        this.$config.set('set.move.control.point', true);                \n\n        this.state.dragXY = {\n            x: e.xy.x - this.state.rect.x,\n            y: e.xy.y - this.state.rect.y\n        };\n\n        // canvas 클릭 여부 \n        this.$config.set('set.drag.path.area', false);             \n\n        var $target = Dom.create(e.target);\n        if ($target.hasClass('svg-editor-canvas') && !isPathMode) {\n            // canvas 를 클릭했을 때 설정 , drag 를 할준비를 한다. \n            this.$config.set('set.drag.path.area', true);    \n            this.state.isGroupSegment = false;\n            this.state.selectedGroupIndex = \"\";\n            this.state.selectedPointIndex = \"\";\n\n        } else {\n\n            // path 를 클릭했을 때 설정\n            this.pathGenerator.reselect()\n\n            // segment 인지 체크 \n            this.state.isSegment = $target.attr('data-segment') === 'true';\n\n            // first segment 인지 체크 \n            this.state.isFirstSegment = this.state.isSegment && $target.attr('data-is-first') === 'true';\n\n            this.state.isGroupSegment = $target.hasClass('path-area');\n\n            if (this.state.isGroupSegment) {\n                this.state.selectedGroupIndex = +$target.data('group-index');\n                this.state.selectedPointIndex = +$target.data('point-index');                \n            } else {\n                this.state.selectedGroupIndex = \"\";\n                this.state.selectedPointIndex = \"\";\n            }\n\n\n            // segment 를 클릭 했을 때 같은 위치에 있는 점을 같이 움직여야 한다. \n            // 이건 기본적으로 합쳐지면 같이 움직이고 특수한 키를 누르면 다르게 움직인다. \n            // 모드가 좀 다양해야 하는구나. \n            // mode : samepointer, default\n        }\n\n        if (isPathMode) {\n\n            if (this.state.isFirstSegment) {\n                // 마지막 지점을 연결할 예정이기 때문에 \n                // startPoint 는  M 이었던 startPoint 로 정리된다. \n                var index = +$target.attr('data-index')\n                this.state.startPoint = this.pathGenerator.points[index].startPoint;\n            } else {\n                this.state.startPoint = this.state.dragXY;\n            }\n            this.state.dragPoints = false\n            this.state.endPoint = null;\n\n\n        } else {\n            if (this.state.isSegment) {\n                this.changeMode('segment-move');\n                var [index, segmentKey] = $target.attrs('data-index', 'data-segment-point')\n                const localIndex = +index;\n\n                if (e.shiftKey) {\n                    // 선택된 segment 를 토글한다. \n                    this.pathGenerator.toggleSelect(segmentKey, localIndex)\n                } else {\n                    // 포인트에 대한 캐쉬를 설정한다.\n                    this.pathGenerator.setCachePoint(localIndex, segmentKey);\n\n                    // segment key 를 선택한다. \n                    this.pathGenerator.selectKeyIndex(segmentKey, localIndex)    \n                }\n\n                this.renderPath();\n            } else if (this.state.isGroupSegment) {\n                this.changeMode('segment-move');                \n                this.pathGenerator.selectGroup(this.state.selectedGroupIndex);\n\n                this.renderPath();                \n            }\n        }\n\n    }\n\n    move(dx, dy) {\n        var e = this.$config.get('bodyEvent')\n\n        if (this.$config.true('set.drag.path.area')) {\n            // 드래그 상자 만들기 \n            this.renderSelectBox(this.state.dragXY, dx, dy);\n\n        } else if (this.isMode('segment-move')) {\n\n            this.pathGenerator.move(dx, dy, e);\n\n            this.renderPath()\n\n            this.updatePathLayer();\n\n        } else if (this.isMode('path')) {\n            const dist = getDist(dx, dy, 0, 0);\n\n            if (dist >= 2) {\n                this.state.dragPoints = e.altKey ? false : true;\n            }\n        }\n    }\n\n    renderSegment(callback) {\n        if (this.pathGenerator.selectedLength) {\n            // reselect 로 이전 점들의 위치를 초기화 해줘야 한다. 꼭 \n            this.pathGenerator.reselect()\n            // reselect 로 이전 점들의 위치를 초기화 해줘야 한다. 꼭 \n\n            if (isFunction(callback)) callback();\n\n            this.renderPath();\n\n            this.updatePathLayer();\n        }\n    }\n\n\n    end(dx, dy) {\n        var e = this.$config.get('bodyEvent')        \n        this.$config.set('set.move.control.point', false);        \n        \n        // group 일 때는 드래그가 끝난 이후에 selection 을 초기화한다. 그래야 segment 를 선택할 수 있다. \n        if (this.state.isGroupSegment) {\n            this.pathGenerator.select();\n        }\n\n        if (this.$config.true('set.drag.path.area')) {\n            if (dx === 0 && dy === 0) {    // 아무것도 움직인게 없으면 편집 종료 \n                this.changeMode('modify');\n                this.trigger('hidePathEditor')\n            } else {\n                // select box 에 있는 선택된 점들을 저장해둔다.\n                // mode -> segment-move \n                this.changeMode('segment-move');\n                this.pathGenerator.selectInBox(this.getSelectBox(), e.shiftKey)\n                this.renderPath()\n                this.hideSelectBox();\n            }\n\n        } else if (this.isMode('modify')) {\n            // NOOP\n            this.pathGenerator.reselect()\n            // 마지막 선택 지점을 다시 select 한다. \n        } else if (this.isMode('segment-move')) {\n\n            this.changeMode('modify');\n\n            this.pathGenerator.reselect();            \n\n            this.renderPath()      \n            this.updatePathLayer();  \n\n        } else if (this.isMode('path')) {\n\n            // isFirstSegment 말고\n            // segment 에 지정되면 종료하는걸로 해야할 듯 하다. \n            // connectedPointList 를 자 구성해서 해보자. \n            // connected 속성은 어떻게 적용되어야 할지  생각을 해보자. \n            if (this.state.isFirstSegment) {\n                this.changeMode('modify');\n                this.pathGenerator.setConnectedPoint(dx, dy);\n\n                this.renderPath()\n\n                if (this.state.current) {\n                    this.refreshPathLayer();\n                } else {\n                    this.addPathLayer();\n                    this.trigger('initPathEditorView')\n                }\n            } else {\n                if (this.state.isSplitPath) {\n                    // NOOP \n                } else {\n                    this.pathGenerator.moveEnd(dx, dy);\n                    this.state.clickCount++;\n\n                    this.renderPath()\n                    this.pathGenerator.reselect();\n                }\n            }\n            this.state.isSplitPath = false;\n        }\n\n    }\n\n\n    hideSelectBox() {\n        this.refs.$segmentBox.css({\n            left: Length.px(-100000)\n        })\n    }\n\n    renderSelectBox(startXY = null, dx = 0, dy = 0) {\n\n        var obj = {\n            left: Length.px(startXY.x + (dx < 0 ? dx : 0)),\n            top: Length.px(startXY.y + (dy < 0 ? dy : 0)),\n            width: Length.px(Math.abs(dx)),\n            height: Length.px(Math.abs(dy))\n        }\n\n        this.refs.$segmentBox.css(obj)\n\n\n    }\n\n    getSelectBox() {\n\n        var [x, y, width, height] = this.refs.$segmentBox\n            .styles('left', 'top', 'width', 'height')\n            .map(it => Length.parse(it))\n\n        var rect = {\n            x,\n            y,\n            width,\n            height\n        }\n\n        rect.x2 = Length.px(rect.x.value + rect.width.value);\n        rect.y2 = Length.px(rect.y.value + rect.height.value);\n\n        return rect;\n    }\n\n\n    [SUBSCRIBE('deleteSegment')]() {\n        this.pathGenerator.reselect()\n\n        this.pathGenerator.removeSelectedSegment();\n\n        this.renderPath();\n        this.updatePathLayer();\n\n    }\n\n    [SUBSCRIBE('moveSegment')](dx, dy) {\n        // path 를 클릭했을 때 설정\n        this.pathGenerator.reselect()\n\n        this.pathGenerator.moveSelectedSegment(dx, dy);\n\n        this.renderPath();\n        this.updatePathLayer();\n\n    }\n\n\n    [SUBSCRIBE('initPathEditorView')]() {\n        this.pathParser.reset('');\n        this.setState(this.initState(), false)\n        this.state.isShow = true;\n        this.refs.$view.empty()\n        this.$el.focus();\n    }\n\n\n}","import { CONFIG, SUBSCRIBE, IF } from \"el/sapa/Event\";\nimport Dom from 'el/sapa/functions/Dom';\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport \"./HoverView.scss\";\n\n\nexport default class HoverView extends EditorElement {\n\n    template() {\n        return /*html*/`\n            <div class='elf--hover-view'>\n                <div class='elf--hover-rect' ref='$hoverRect'></div>            \n            </div>\n        `\n    }\n\n    checkModeView () {\n\n        const e = this.$config.get('bodyEvent');\n\n        // viewport 영역에 있을 때만 이벤트 발생 \n        if (!this.$viewport.checkInViewport(this.$viewport.getWorldPosition(e))) {\n            return false; \n        }\n\n        return this.$modeView.isCurrentMode('CanvasView');\n    }\n\n    /**\n     * CanvasView 모드일 때만  HoverView 동작하도록 설정 \n     * \n     * @returns \n     */\n    [CONFIG('bodyEvent') + IF('checkModeView')]() {\n\n        if (this.$config.true(\"set.move.control.point\")) {\n            this.$selection.setHoverId('');\n            this.renderHoverLayer()            \n            return;\n        }\n\n        const filteredList = this.$selection.filteredLayers;\n        const items = filteredList.filter(it => {\n            const point = this.$viewport.getWorldPosition(this.$config.get('bodyEvent'));\n\n            return it.hasPoint(point[0], point[1]);\n        }).filter(it => it.isNot('artboard'))\n\n        const id = items[0]?.id;\n\n        if (!id) {\n            this.$selection.setHoverId('');\n            this.renderHoverLayer()\n        } else {\n\n            if (this.$selection.setHoverId(id)) {\n                this.renderHoverLayer()\n            }\n        }\n    }\n\n    [SUBSCRIBE('refreshHoverView')](id) {\n        if (this.$selection.setHoverId(id)) {\n            this.renderHoverLayer()\n        }\n    }\n\n    [SUBSCRIBE('updateViewport')]() {\n        this.$selection.setHoverId('');\n        this.renderHoverLayer()\n    }\n\n\n    renderHoverLayer() {\n\n        const items = this.$selection.hoverItems;\n\n        if (items.length === 0) {\n            this.refs.$hoverRect.updateDiff('')\n            this.emit('removeGuideLine');\n        } else {\n\n            // refresh hover view \n            const verties = items[0].verties;\n            \n            const line = this.createPointerLine(this.$viewport.applyVerties(verties));\n\n            this.refs.$hoverRect.updateDiff(line)\n\n\n            this.emit('refreshGuideLineByTarget', [items[0].verties]);\n\n        }\n    }\n\n\n    createPointerLine(pointers) {\n        if (pointers.length === 0) return '';\n\n        const current = this.$selection.hoverItems[0];\n\n        return /*html*/`\n        <svg overflow=\"visible\">\n            <path \n                class='line' \n                d=\"\n                    M ${pointers[0][0]}, ${pointers[0][1]} \n                    L ${pointers[1][0]}, ${pointers[1][1]} \n                    L ${pointers[2][0]}, ${pointers[2][1]} \n                    L ${pointers[3][0]}, ${pointers[3][1]} \n                    L ${pointers[0][0]}, ${pointers[0][1]}\n                    Z\n                \" \n            />\n            <rect height=\"20\" width=\"${current.itemType.length * 8}\" x=\"${pointers[0][0]-1}\" y=\"${pointers[0][1] - 20}\"></rect>\n            <text x=\"${pointers[0][0]}\" y=\"${pointers[0][1]}\" dx=\"5\" dy=\"-5\">${current.itemType}</text>\n        </svg>`\n    }\n\n}\n","\nimport { BIND, DEBOUNCE, SUBSCRIBE } from \"el/sapa/Event\";\nimport { toRectVerties, vertiesToRectangle } from \"el/utils/collision\";\nimport { makeGuidePoint } from \"el/utils/math\";\nimport PathStringManager from \"el/editor/parser/PathStringManager\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { vec3 } from \"gl-matrix\";\n\nimport './GuideLineView.scss';\nimport PathParser from \"el/editor/parser/PathParser\";\n\nconst ARROW_SIZE = 4; \n\nconst line = (source, target, className = 'base-line') => {\n    return /*html*/`<line x1=\"${source[0]}\" y1=\"${source[1]}\" x2=\"${target[0]}\" y2=\"${target[1]}\" class='${className}' />`\n}\n\nconst text = (t, target, className = 'base-line') => {\n    const text = `${Math.floor(t)}`;\n    const unitWidth = 13;\n    const unitHeight = 16;\n    const width = text.length * unitWidth;\n    const height = unitHeight;\n\n    return /*html*/`\n    \n        <rect x=\"${target[0] - width / 4}\" y=\"${target[1] - unitHeight - 2}\" width=\"${width}\" height=\"${height}\" rx=\"2\" ry=\"2\" fill=\"#00a9f4\" />\n        <text x=\"${target[0]}\" y=\"${target[1]}\" dy=\"-5\" font-size=\"16\">${text}</text>\n    `\n}\n\n\nconst hLineByPoint = (target, source) => {\n    return line(target, source);\n}\n\nconst vLineByPoint = (target, source) => {\n    return line(target, source);\n}\n\nconst rect = (rectVerties) => {\n\n    return /*html*/`\n    <path \n        class=\"base-rect\"\n        fill=\"none\"\n        stroke-width=\"1\"\n        stroke=\"red\"\n        stroke-dasharray=\"2 2\"\n        d=\"${PathParser.makeRect(\n            rectVerties[0][0],\n            rectVerties[0][1],\n            vec3.dist(rectVerties[0], rectVerties[1]),\n            vec3.dist(rectVerties[0], rectVerties[3]),\n        ).d}\n        \" \n    />\n`;    \n}\n\nconst point = (target, dist = 3, direction = 'left') => {\n\n    if (direction === 'left') {\n\n        return /*html*/`\n        <path \n            class=\"arrow\"\n            d=\"\n                M ${target[0] + dist} ${target[1] - dist}\n                L ${target[0]} ${target[1]}\n                L ${target[0] + dist} ${target[1] + dist}\n            \" \n        />\n    `;\n    }\n\n    if (direction === 'right') {\n\n        return /*html*/`\n        <path \n            class=\"arrow\"\n            d=\"\n                M ${target[0] - dist} ${target[1] - dist}\n                L ${target[0]} ${target[1]}\n                L ${target[0] - dist} ${target[1] + dist}\n            \" \n        />\n    `;\n    }\n\n    if (direction === 'up') {\n\n        return /*html*/`\n        <path \n            class=\"arrow\"\n            d=\"\n                M ${target[0] - dist} ${target[1] + dist}\n                L ${target[0]} ${target[1]}\n                L ${target[0] + dist} ${target[1] + dist}\n            \" \n        />\n    `;\n    } \n    \n\n    if (direction === 'down') {\n\n        return /*html*/`\n        <path \n            class=\"arrow\"\n            d=\"\n                M ${target[0] - dist} ${target[1] - dist}\n                L ${target[0]} ${target[1]}\n                L ${target[0] + dist} ${target[1] - dist}\n            \" \n        />\n    `;\n    }     \n\n    return /*html*/`\n        <path \n            stroke-width=\"1\"\n            d=\"\n                M ${target[0] - dist} ${target[1] - dist}\n                L ${target[0] + dist} ${target[1] + dist}\n                M ${target[0] - dist} ${target[1] + dist}\n                L ${target[0] + dist} ${target[1] - dist}\n            \" \n        />\n    `;\n}\n\n/**\n * 객체와의 거리의 가이드 라인을 그려주는 컴포넌트\n */\nexport default class GuideLineView extends EditorElement {\n\n    template() {\n        return /*html*/`\n            <svg class='elf--guide-line-view' ref=\"$guide\" width=\"100%\" height=\"100%\" ></svg>\n            `\n\n    }\n\n    initState() {\n        return {\n            list: []\n        }\n    }\n\n    [BIND('$guide')]() {\n        return {\n            svgDiff: /*html*/`<g>${this.createGuideLine(this.state.list)}</g>`\n        }\n    }\n\n    createGuideLine(list) {\n\n        var images = []\n        var texts = []\n        list = list.filter(Boolean);\n        for (var i = 0, len = list.length; i < len; i++) {\n\n            const [source, target, axis, dist, newTarget, sourceVerties, targetVerties, isInvert] = list[i];\n            const localDist = Math.floor(dist);            \n\n            // 시작점 기준으로 맞출때가 필요하면 localSourceVertex 를 활용하자. 아직은 없음. \n            const localSourceVertex = this.$viewport.applyVertex(source);\n            const localTargetVertex = this.$viewport.applyVertex(target);\n            \n            let localNewTargetVertex\n\n            if (newTarget) {\n                localNewTargetVertex = this.$viewport.applyVerties([newTarget])[0];\n            }\n\n\n            if (axis === 'x') {\n                if (localDist > 0) {\n                    images.push(line(localSourceVertex, localTargetVertex, 'dash-line'))      \n                }\n\n                if (localNewTargetVertex) {\n                    images.push(line(localTargetVertex, localNewTargetVertex, 'dash-line'))\n                }\n\n                if (localDist > 0) {\n                    texts.push(\n                        text(\n                            localDist,\n                            vec3.lerp([], localSourceVertex, localTargetVertex, 0.5)\n                        )\n                    );\n                }\n\n            }\n\n            if (axis === 'y') {\n                if (localDist > 0) {\n                    images.push(line(localSourceVertex, localTargetVertex, 'dash-line'))                                   \n                }\n\n                if (localNewTargetVertex) {\n                    images.push(line(localTargetVertex, localNewTargetVertex, 'dash-line'))\n\n                }\n\n                if (localDist > 0) {\n                    texts.push(\n                        text(\n                            localDist,\n                            vec3.add([], vec3.lerp([], localSourceVertex, localTargetVertex, 0.5), [20, 0, 0]),\n                        )\n                    );\n                }\n            }\n\n\n            if (axis === 'x') {\n                images.push(hLineByPoint(localTargetVertex, localSourceVertex))\n            }            \n\n            if (axis === 'y') {\n                images.push(vLineByPoint(localTargetVertex, localSourceVertex))\n            }\n\n            if (this.state.hasVerties) {\n                images.push(point(localSourceVertex,3, 'vertex'))\n                images.push(point(localTargetVertex,3, 'vertex'))                \n            }            \n\n            if (sourceVerties) {\n                if ((this.$selection.isOne && this.$editor.isPointerDown) || (this.$selection.isMany && !this.$editor.isPointerMove)) {\n                    images.push(rect(this.$viewport.applyVerties(sourceVerties)))\n                }\n            }\n\n            if (targetVerties) {\n                images.push(rect(this.$viewport.applyVerties(targetVerties)))\n            }\n        }\n\n\n\n        return [...images, ...texts].join('');\n    }\n\n    removeGuideLine() {\n        this.setState({\n            list: []\n        })\n    }\n\n    setGuideLine(list, hasVerties = false) {\n        this.setState({\n            list,\n            hasVerties\n        })\n    }\n\n    [SUBSCRIBE('removeGuideLine', 'refreshSelection')]() {\n        this.removeGuideLine()\n    }\n\n    [SUBSCRIBE('refreshGuideLineByTarget')](targetVertiesList = []) {\n        return this.refreshSmartGuides(targetVertiesList);\n    }\n\n    [SUBSCRIBE('updateViewport')]() {\n        this.refresh();\n    }\n\n\n    refreshSmartGuides (targetVertiesList) {\n\n        if (this.$selection.isEmpty) return;\n\n        const sourceVerties = toRectVerties(this.$selection.verties); \n        let targetList;\n        if (targetVertiesList) {\n            targetList = targetVertiesList.map(it => toRectVerties(it));\n        } else {\n            const targets = this.$selection.snapTargetLayers.map(target => {\n                const rectVerties = toRectVerties(target.verties);\n                return {targetVerties: rectVerties, dist: vec3.dist(rectVerties[4], sourceVerties[4])};\n            })\n    \n            targets.sort((a, b) => {\n                return a.dist - b.dist\n            })\n\n            targetList = targets.map(target => target.targetVerties);\n        }\n\n\n        // 스마트 가이드는 총 3가지 기능에 대한 것을 함 \n        // 1. A가 B의 완전 포함 관계에 있을 때, A의 각 변은 B 의 각 변에 대응, 즉 4가지 상태에 대한 길이만 정리해주면 됨 \n        // 2. A가 B의 특정 부분에 포함 되어 있을 때 , A 와 B의 충돌지점을 찾아서  전체영역에 대비스 4가지 상태의 대한 길이를 정해해주면 됨  \n        // 3. A와 B가 충돌되지 않았을 때는 원래 하던대로 표시 \n\n        // x축 가이드 설정하기 \n        const xList = targetList.map(targetVerties => makeGuidePoint(sourceVerties, targetVerties));\n\n        xList.sort((a, b) => {\n            return a[3] - b[3];\n        });\n\n        const list = [xList[0], xList[1]].filter(Boolean);\n\n        this.setGuideLine(list);             \n\n    }\n\n    refreshSmartGuidesForVerties() {\n        const guides = this.$snapManager.findGuide(this.$selection.verties);\n\n        this.setGuideLine(guides, true);             \n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView')]() {\n\n        if (this.$selection.isMany) return;\n\n        const expect = this.$selection.hasChangedField('d', 'clip-path')\n\n        if (!expect && this.$selection.hasChangedField('x', 'y', 'width', 'height', 'transform', 'transform-origin')) {\n            this.refreshSmartGuidesForVerties();\n        }\n    }\n}","\n\nimport { DOMDIFF, LEFT_BUTTON, LOAD, POINTERSTART, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { vec3 } from \"gl-matrix\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './SelectionInfoView.scss';\nimport { Length } from 'el/editor/unit/Length';\nimport { calculateAngle360 } from 'el/utils/math';\n\nexport default class SelectionInfoView extends EditorElement {\n\n    initialize() {\n        super.initialize();\n\n        this.notEventRedefine = true;\n    }\n\n    template() {\n        return /*html*/`<div class='elf--selection-info-view'></div>`\n    }\n\n    /**\n     * 드래그 해서 객체 옮기기 \n     *\n     * ctrl + pointerstart 하는  시점에 카피해보자.  \n     * \n     * @param {PointerEvent} e \n     */\n     [POINTERSTART('$el [data-artboard-title-id]') + LEFT_BUTTON + MOVE('calculateMovedElement') + END('calculateEndedElement')] (e) {\n        this.startXY = e.xy ; \n        this.initMousePoint = this.$viewport.getWorldPosition(e);\n        const id = e.$dt.attr('data-artboard-title-id');        \n        this.$selection.select(id);            \n\n        // alt(option) + pointerstart 시점에 Layer 카피하기         \n        if (e.altKey) {\n            // 선택된 모든 객체 카피하기 \n            this.$selection.selectAfterCopy();\n            this.emit('refreshAllCanvas')         \n            this.emit('refreshLayerTreeView')          \n        }\n\n        this.initializeDragSelection();\n        this.emit('history.refreshSelection');        \n        this.$config.set(\"set.move.control.point\", true);\n  \n    }\n\n    initializeDragSelection() {\n        this.$selection.reselect();\n        this.$snapManager.clear();\n\n        this.emit('refreshSelectionTool');\n    }\n\n\n    moveTo(dist) {\n\n        //////  snap 체크 하기 \n        const snap = this.$snapManager.check(this.$selection.cachedRectVerties.map(v => {\n            return vec3.add([], v, dist)\n        }), 3);\n\n        const localDist = vec3.add([], snap, dist);\n\n        const result = {}\n        this.$selection.cachedItemMatrices.forEach(it => {\n\n            // newVerties 에 실제 움직인 좌표로 넣고 \n            const newVerties = it.verties.map(v => {\n                return vec3.add([], v, localDist)\n            })\n\n            // 첫번째 좌표 it.rectVerties[0] 과 \n            // 마지막 좌표 newVerties[0] 를 \n            // parentMatrixInverse 기준으로 다시 원복하고 거리를 잰다 \n            // 그게 실제적인 distance 이다. \n            const newDist = vec3.subtract(\n                [], \n                vec3.transformMat4([], newVerties[0], it.parentMatrixInverse), \n                vec3.transformMat4([], it.verties[0], it.parentMatrixInverse)\n            )\n\n            result[it.id] = {\n                x: Length.px(it.x + newDist[0]).floor(),          // 1px 단위로 위치 설정 \n                y: Length.px(it.y + newDist[1]).floor(),\n            }\n        })\n        this.$selection.reset(result);\n    }    \n\n\n    calculateMovedElement () {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n\n        const newDist = vec3.floor([], vec3.subtract([], targetMousePoint, this.initMousePoint));\n\n        this.moveTo(newDist);\n\n        this.emit('setAttributeForMulti', this.$selection.pack('x', 'y'));\n        this.emit('refreshSelectionStyleView');\n        this.emit('refreshSelectionTool', false);       \n        // this.emit('refreshRect'); \n        this.refresh();            \n\n    }\n\n    /**\n     * ArtBoard title 변경하기 \n     * @param {string} id \n     * @param {string} title \n     */\n    [SUBSCRIBE('refreshItemName')] (id, title) {\n        this.emit(\n            'setAttributeForMulti',\n            {\n                [id]: { name: title }\n            }\n        );  \n        this.$el.$(`[data-artboard-title-id='${id}']`)?.text(title);\n    }\n\n    calculateEndedElement (dx, dy) {\n        this.command(\n            'setAttributeForMulti',\n            \"move item\",                    \n            this.$selection.pack('x', 'y')\n        );  \n        this.emit('refreshSelectionTool', true);\n        this.$config.set(\"set.move.control.point\", false);        \n    }\n\n    [SUBSCRIBE('updateViewport')] () {\n        this.refresh();\n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView')] () {\n        if (this.$selection.current) {\n            if (this.$selection.current.is('artboard')) {\n                if (this.$selection.hasChangedField('x', 'y', 'width', 'height', 'transform', 'transform-origin')) {\n                    this.refresh();\n                }\n\n            }\n        }\n\n    }\n\n\n    [LOAD('$el') + DOMDIFF] () {\n        return this.$selection.currentProject.artboards.map(it => {\n            return { title: it.name, id: it.id, pointers: this.$viewport.applyVerties(it.verties) }\n        }).map(it => this.makeArtboardTitleArea(it))\n\n    }\n\n    createSize (pointers, artboardItem) {\n        const newPointer  = pointers[0];\n        const diff = vec3.subtract([], pointers[0], pointers[3]);\n        const angle = calculateAngle360(diff[0], diff[1]) - 90;\n\n        return /*html*/`\n            <div \n                class=\"artboard-title is-not-drag-area\" \n                data-artboard-title-id=\"${artboardItem.id}\" \n                style=\"transform-origin: 0% 0%; transform: translate3d( calc(${newPointer[0]}px), calc(${newPointer[1]}px), 0px) rotateZ(${angle}deg)\" >\n                    <div style=\"transform: translateY(-100%);\">${artboardItem.title}</div>\n            </div>\n        `\n    }\n\n    makeArtboardTitleArea (it) {\n        return this.createSize(it.pointers, it);\n    }    \n\n    [SUBSCRIBE('refreshAll')] () {\n        this.refresh();\n    }\n} ","\nimport { LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\n\n/**\n * 그리드 레이아웃 가이드 라인 표시 컴포넌트\n */\nexport default class GridLayoutLineView extends EditorElement {\n\n    template() {\n        return /*html*/`<div class='grid-layout-line-view' style='width:100%;height:100%;pointer-events:none;'></div>`\n    }\n\n    [LOAD('$el')] () {\n\n        var len = this.$selection.length;\n\n        if (len !== 1) {\n            return /*html*/''; \n        }\n\n        var current = this.$selection.current;\n\n        if (current.isInGrid()) {\n            var layoutContainer = current.parent; \n            var left = layoutContainer.screenX\n            var top = layoutContainer.screenY\n            var width = layoutContainer.width\n            var height = layoutContainer.height\n\n            var grid = this.$editor.html.toGridLayoutCSS(layoutContainer)\n\n            return /*html*/`<div style='${CSS_TO_STRING({ position: 'absolute', left, top, width, height, border: '1px solid black', ...grid})}'>\n                ${layoutContainer.layers.map(it => {\n                    var layoutItemCSS = this.$editor.html.toLayoutItemCSS(it);\n                    return /*html*/`<div style='${CSS_TO_STRING({...layoutItemCSS, 'border': '1px solid dashed'})}'></div>`\n                }).join('')}\n            </div>`\n        }\n\n        return /*html*/`<div></div>`\n    }\n    \n\n    [SUBSCRIBE('refreshGridLayoutLine', 'refreshSelectionTool', 'refreshSelection')] () {        \n        this.refresh(); \n    }\n\n    [SUBSCRIBE('updateViewport')] () {\n        // this.refresh();\n    }\n} ","import { POINTERSTART, IF, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { KEY_CODE } from \"el/editor/types/key\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './DragAreaView.scss';\nimport { vec3 } from \"gl-matrix\";\n\nexport default class DragAreaView extends EditorElement {\n\n    initState() {\n        return {\n            mode: 'selection',\n            x: Length.z(),\n            y: Length.z(),\n            width: Length.px(10000),\n            height: Length.px(10000),\n            cachedCurrentElement: {},\n            html: '',\n        }\n    }\n\n    template() {\n        return /*html*/`\n            <div class=\"elf--drag-area-view\" ref=\"$dragAreaView\"></div>            \n        `\n    }\n\n\n    checkSelectionArea(e) {\n        const mousePoint = this.$viewport.getWorldPosition(e);\n\n        // select된 객체에 포지션이 있으면  움직일 수 있도록 한다. \n        if (this.$selection.hasPoint(mousePoint)) {\n            return true;\n        }\n    }\n\n\n    /**\n     * 레이어를 움직이기 위한 이벤트 실행 여부 체크 \n     * \n     * @param {PointerEvent} e \n     */\n    checkEditMode(e) {\n\n        // hand tool 이 on 되어 있으면 드래그 하지 않는다. \n        if (this.$config.get('set.tool.hand')) {\n            return false;\n        }\n\n        // space 키가 눌러져있을 때는 실행하지 않는다. \n        const code = this.$shortcuts.getGeneratedKeyCode(KEY_CODE.space);\n        if (this.$keyboardManager.check(code)) {\n            return false;\n        }\n\n\n        // selection 영역에 속할 때 \n        const mousePoint = this.$viewport.getWorldPosition(e);\n        this.inSelection = false;\n        if (this.$selection.hasPoint(mousePoint)) {\n            this.inSelection = true;\n\n            // 선택한 영역이 artboard 이고, 하위 레이어가 있다면 움직이지 않는다. \n            if (this.$selection.current.is('artboard')) {\n                if (this.$selection.current.hasChildren()) {\n                    // drag 모드로 변신 \n                    this.$config.set('set.dragarea.mode', true);\n                    this.$config.set('set.move.mode', false);\n\n                    return true;\n                } else {\n                    // 움직임 \n                    this.$config.set('set.dragarea.mode', false);\n                    this.$config.set('set.move.mode', true);\n\n                    return true;\n                }\n            } else {\n                // 움직임 \n                this.$config.set('set.dragarea.mode', false);\n                this.$config.set('set.move.mode', true);\n                return true;\n            }\n        }\n\n        this.mouseOverItem = this.$selection.filteredLayers[0];\n\n        if (this.mouseOverItem) {\n            // move 모드로 변신 \n            this.$config.set('set.dragarea.mode', false);\n            this.$config.set('set.move.mode', true);\n\n        } else {\n            // drag 모드로 변신 \n            this.$config.set('set.dragarea.mode', true);\n            this.$config.set('set.move.mode', false);\n\n        }\n\n        return true;\n    }\n\n    [POINTERSTART('$dragAreaView') + IF('checkEditMode') + MOVE('movePointer') + END('moveEndPointer')](e) {\n\n        if (this.$config.get('set.dragarea.mode')) {\n            this.emit('startDragAreaView');\n        } else if (this.$config.get('set.move.mode')) {\n\n\n            // 움직임 처리 \n            this.initMousePoint = this.$viewport.getWorldPosition();\n\n            this.mouseOverItem = this.$selection.filteredLayers[0];\n\n            // mouse point 기준으로 item 찾기 구현 필요 \n            // shift key 를 누른 상태로 선택 안되어 있는 객체나, 선택 되어 있는 객체를 체크 해야함 \n\n            // alt(option) + pointerstart 시점에 Layer 카피하기         \n            if (e.altKey) {\n\n                if (this.$selection.isEmpty === false && this.$selection.hasPoint(this.initMousePoint)) {\n                    // 선택된 모든 객체 카피하기 \n                    this.$selection.selectAfterCopy();\n                    this.trigger('refreshAllCanvas')\n                    this.emit('refreshLayerTreeView')\n\n                    // this.selectCurrent(...this.$selection.items)\n                    this.initializeDragSelection();\n                    this.emit('history.refreshSelection');\n                }\n\n            } else {\n                // mouse over item 이 있을 때 \n                if (this.mouseOverItem) {\n                    const id = this.mouseOverItem.id;\n\n                    // shift key 는 selection 을 토글한다. \n                    if (e.shiftKey) {\n                        this.$selection.toggleById(id);\n                    } else {\n                        // 선택이 안되어 있으면 선택 \n                        if (this.$selection.check({ id }) === false) {\n\n                            const current = this.$model.get(id);\n                            if (current && current.is('artboard') && current.hasChildren()) {\n                                // NOOP\n                                // artboard 인데 자식이 있으면 선택을 하지 않는다. \n                            } else {\n                                this.$selection.selectByGroup(id);\n                            }\n\n                        }\n                    }\n\n                }\n\n\n                this.initializeDragSelection();\n                this.emit('history.refreshSelection');\n            }\n\n        }\n\n    }\n\n    initializeDragSelection() {\n        this.$selection.reselect();\n        this.$snapManager.clear();\n\n        this.emit('refreshSelectionTool', true);\n    }\n\n\n\n    movePointer(dx, dy) {\n        if (this.$config.get('set.dragarea.mode')) {\n            this.emit('moveDragAreaView');\n        } else if (this.$config.get('set.move.mode')) {\n            // 움직임 처리 \n\n            // layout item 은 움직이지 않고 layout 이 좌표를 그리도록 한다. \n            if (this.$selection.isLayoutItem) {\n                return;\n            }\n\n            const targetMousePoint = this.$viewport.getWorldPosition();\n\n            const newDist = vec3.floor([], vec3.subtract([], targetMousePoint, this.initMousePoint));\n\n            this.moveTo(newDist);\n\n            // 최종 위치에서 ArtBoard 변경하기 \n            if (this.$selection.changeArtBoard()) {\n                this.initMousePoint = targetMousePoint;\n                this.$selection.reselect();\n                this.$snapManager.clear();\n\n                this.emit('refreshAllCanvas')\n\n                // ArtBoard 변경 이후에 LayerTreeView 업데이트\n                this.emit('refreshLayerTreeView')\n            }\n\n            this.emit('setAttributeForMulti', this.$selection.pack('x', 'y'));\n            this.emit('refreshSelectionTool', true);\n        }\n\n    }\n\n\n    moveTo(distVector) {\n\n        distVector = vec3.floor([], distVector);\n\n\n\n        //////  snap 체크 하기 \n        const snap = this.$snapManager.check(this.$selection.cachedRectVerties.map(v => {\n            return vec3.add([], v, distVector)\n        }), 3);\n\n        // dist 거리 계산 \n        const localDist = vec3.add([], snap, distVector);\n\n\n        const result = {}\n        this.$selection.cachedItemMatrices.forEach(it => {\n\n            // newVerties 에 실제 움직인 좌표로 넣고 \n            const newVerties = it.verties.map(v => {\n                return vec3.add([], v, localDist)\n            })\n\n            // 첫번째 좌표 it.rectVerties[0] 과 \n            // 마지막 좌표 newVerties[0] 를 \n            // parentMatrixInverse 기준으로 다시 원복하고 거리를 잰다 \n            // 그게 실제적인 distance 이다. \n            const newDist = vec3.subtract(\n                [], \n                vec3.transformMat4([], newVerties[0], it.parentMatrixInverse), \n                vec3.transformMat4([], it.verties[0], it.parentMatrixInverse)\n            )\n\n            result[it.id] = {\n                x: Length.px(it.x + newDist[0]).round(1000),          // 1px 단위로 위치 설정 \n                y: Length.px(it.y + newDist[1]).round(1000),\n            }\n        });\n\n        this.$selection.reset(result);\n    }\n\n    [SUBSCRIBE('selectionToolView.moveTo')](newDist) {\n        this.moveTo(newDist);\n        this.emit('refreshSelectionTool', true);\n    }\n\n    moveEndPointer() {\n\n        if (this.$config.get('set.dragarea.mode')) {\n            this.emit('endDragAreaView');\n        } else if (this.$config.get('set.move.mode')) {\n\n            const targetMousePoint = this.$viewport.getWorldPosition();\n            const newDist = vec3.floor([], vec3.subtract([], targetMousePoint, this.initMousePoint));\n\n\n\n            if (newDist < 1) {\n                if (this.$selection.current.isSVG()) {\n                    this.emit('open.editor');\n                    this.emit('removeGuideLine');\n                    return;\n                }\n            } else {\n                this.$selection.reselect();\n                this.$snapManager.clear();\n                // this.emit('removeGuideLine');\n                this.command(\n                    'setAttributeForMulti',\n                    \"move item\",\n                    this.$selection.pack('x', 'y')\n                );\n            }\n\n            this.emit('refreshSelectionTool', true);\n        }\n        this.$config.set('set.dragarea.mode', false)\n        this.$config.set('set.move.mode', false)\n\n    }\n}","import { vec3 } from \"gl-matrix\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\nimport { toRectVerties, toRectVertiesWithoutTransformOrigin } from \"el/utils/collision\";\n\n\nimport './DragAreaView.scss';\n\n\nexport default class DragAreaRectView extends EditorElement {\n\n    initState() {\n        return {\n            mode: 'selection',\n            x: Length.z(),\n            y: Length.z(),\n            width: Length.px(10000),\n            height: Length.px(10000),\n            cachedCurrentElement: {},\n            html: '',\n        }\n    }\n\n    template() {\n        return /*html*/`\n            <div class=\"elf--drag-area-view\" ref=\"$dragAreaView\" style=\"pointer-events:none;\">\n                <div class='drag-area-rect' ref='$dragAreaRect'></div>\n            </div>            \n        `\n    }\n\n    [SUBSCRIBE('drawAreaView')](style) {\n        this.refs.$dragAreaRect.css(style);\n    }\n\n    [SUBSCRIBE('initDrawAreaView')]() {\n        this.refs.$dragAreaRect.css({\n            left: Length.px(-10000),\n            top: Length.z(),\n            width: Length.z(),\n            height: Length.z()\n        });\n    }\n\n    [SUBSCRIBE('startDragAreaView')]() {\n        this.initMousePoint = this.$viewport.getWorldPosition();\n        this.$config.init(\"set.move.control.point\", true);\n\n        this.dragRect = {\n            left: Length.px(this.initMousePoint[0]),\n            top: Length.px(this.initMousePoint[1]),\n            width: Length.z(),\n            height: Length.z()\n        }\n\n        this.trigger('drawAreaView', this.dragRect);\n\n    }\n\n\n\n    getSelectedItems (rect, areaVerties) {\n        var project = this.$selection.currentProject;\n        let items = []\n        let selectedArtboard = []        \n        if (project) {    \n\n            if (rect.width === 0 && rect.height === 0) {\n                items = [] \n            } else {\n                // 프로젝트 내에 있는 모든 객체 검색    \n                project.layers.forEach(layer => {\n\n                    if (layer.is('artboard') && layer.isIncludeByArea(areaVerties)) {        \n                        selectedArtboard.push(layer);\n                    } else if (layer.is('artboard') && layer.checkInArea(areaVerties) && layer.hasChildren() === false) {        \n                        items.push(layer);                            \n                    } else {\n                        items.push.apply(items, layer.checkInAreaForAll(areaVerties))\n\n                    }\n                })\n\n                if (items.length > 1) {\n                    items = items.filter(it => it.is('artboard') === false);\n                }\n            }   \n        }\n\n        const selectedItems = selectedArtboard.length ? selectedArtboard : items; \n\n        return selectedItems;\n    }    \n\n    /**\n     * \n     * \n     * @public \n     */ \n    [SUBSCRIBE('moveDragAreaView')]() {\n        const e = this.$config.get('bodyEvent');\n        const targetMousePoint = this.$viewport.getWorldPosition();\n\n        const newDist = vec3.floor([], vec3.subtract([], targetMousePoint, this.initMousePoint));\n\n        if (e.shiftKey) {\n            newDist[1] = newDist[0];\n        }\n\n        const startVertex = vec3.floor([], this.initMousePoint);\n        const endVertex = vec3.floor([], vec3.add([], this.initMousePoint, newDist));\n\n        const start = this.$viewport.applyVertex(startVertex);\n        const end = this.$viewport.applyVertex(endVertex);\n\n        const locaRect = toRectVerties([start, end]);\n\n        this.dragRect = {\n            left: Length.px(locaRect[0][0]),\n            top: Length.px(locaRect[0][1]),\n            width: Length.px(Math.abs(locaRect[1][0] - locaRect[0][0])),\n            height: Length.px(Math.abs(locaRect[3][1] - locaRect[0][1]))\n        }\n\n        this.trigger('drawAreaView', this.dragRect);\n\n        var { left: x, top: y, width, height } = this.dragRect\n        var rect = {\n            x: x.value,\n            y: y.value,\n            width: width.value,\n            height: height.value\n        }\n\n        const selectedItems = this.getSelectedItems(rect, toRectVertiesWithoutTransformOrigin([startVertex, endVertex]))\n\n        if (this.$selection.selectByGroup(...selectedItems)) {\n            this.emit('refreshSelection')\n            this.emit('refreshSelectionTool', true);\n        }\n    }\n\n    [SUBSCRIBE('endDragAreaView')] () {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const newDist = vec3.floor([], vec3.subtract([], targetMousePoint, this.initMousePoint));        \n        this.$config.init(\"set.move.control.point\", false);\n    \n        if (newDist[0] === 0 && newDist[1] === 0) {\n            this.$selection.empty();\n        }\n\n        this.trigger('initDrawAreaView')\n\n\n        this.$selection.reselect();\n        this.emit('history.refreshSelection')\n        this.emit('refreshSelectionTool', true);            \n\n        this.emit('removeGuideLine')\n    }\n\n}","\nimport { POINTERSTART, POINTEROVER, POINTEROUT, IF, PREVENT, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { clone} from \"el/sapa/functions/func\";\nimport { mat4, vec3 } from \"gl-matrix\";\nimport { Transform } from \"el/editor/property-parser/Transform\";\nimport { TransformOrigin } from \"el/editor/property-parser/TransformOrigin\";\nimport { calculateAngle360, calculateAngleForVec3, calculateMatrix, calculateMatrixInverse, makeGuidePoint, round } from \"el/utils/math\";\nimport { getRotatePointer } from \"el/utils/collision\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './SelectionView.scss';\n\nvar directionType = {\n    1: 'to top left',\n    2: 'to top right',\n    3: 'to bottom right',\n    4: 'to bottom left',\n    11: 'to top',\n    12: 'to right',\n    13: 'to bottom',\n    14: 'to left',\n}\n\nconst SelectionToolEvent = class  extends EditorElement {\n\n    [SUBSCRIBE('refreshSelectionTool')] (isShow = true) { \n        this.initSelectionTool(isShow);\n    }\n\n    [SUBSCRIBE('updateViewport')] () { \n        if (this.$selection.isOne && this.$modeView.isCurrentMode('CanvasView')) {        \n            this.initSelectionTool();\n        }\n    }    \n}\n\n/**\n * 원보 아이템의 크기를 가지고 scale 이랑 조합해서 world 의 크기를 구하는게 기본 컨셉 \n */\nexport default class SelectionToolView extends SelectionToolEvent {\n\n    template() {\n        return /*html*/`\n            <div class='elf--selection-view one-selection-view' ref='$selectionView' style='display:none' >\n                <div class='pointer-rect' ref='$pointerRect'></div>\n            </div>\n        `\n    }\n\n    toggleEditingPath (isEditingPath) {\n        this.$el.toggleClass('editing-path', isEditingPath);\n    }\n    \n    [POINTERSTART('$pointerRect .rotate-pointer') + MOVE('rotateVertex') + END('rotateEndVertex')] (e) {\n        this.state.moveType = 'rotate'; \n        this.initMousePoint = this.$viewport.getWorldPosition(e);        \n\n        // this.$selection.doCache();\n\n        this.$selection.reselect();            \n        this.verties = clone(this.$selection.verties);\n        this.$snapManager.clear();\n        this.rotateTargetNumber = (+e.$dt.attr('data-number'));       \n        this.refreshRotatePointerIcon()  \n        this.state.dragging = true;  \n        this.state.isRotate = true;       \n        this.$config.set('set.move.control.point', true);                \n    }\n\n    rotateVertex () {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const distVector = vec3.subtract([], targetMousePoint, this.initMousePoint);\n\n        const targetRotatePointer = this.rotateTargetNumber === 4 ?  getRotatePointer(this.verties, 34) : this.verties[this.rotateTargetNumber];\n\n        var distAngle = Math.floor(calculateAngleForVec3(\n            targetRotatePointer, \n            this.verties[4], \n            distVector\n        ));\n\n        // 캐쉬된 matrix 중에 current 에 해당하는 것만 실행을 한다. \n        // 나머지는 부모의 좌표가 변경 됐기 때문에 자식의 좌표를 자동으로 변경한다. \n        let currentMatrix = this.$selection.cachedCurrentItemMatrix;\n        const instance = this.$selection.current;\n\n        if (instance) {\n\n            let newTransform = Transform.addTransform(currentMatrix.transform, `rotateZ(${Length.deg(distAngle).round(1000)})`)\n\n            if (this.$config.get('bodyEvent').shiftKey) {\n                const newRotateX = Transform.get(newTransform, 'rotateZ');\n\n                if (newRotateX[0]) {\n                    const angle = newRotateX[0].value - newRotateX[0].value % this.$config.get('fixed.angle');\n\n                    newTransform = Transform.rotateZ(newTransform, Length.deg(angle));\n                }\n\n            }\n\n            instance.reset({\n                transform: newTransform \n            })\n        }\n\n        this.state.dragging = true;\n        this.command('setAttributeForMulti', 'change rotate', this.$selection.pack('transform'));                \n    }\n\n    rotateEndVertex () {\n        this.state.dragging = false;     \n        this.state.isRotate = false;           \n        this.emit('recoverCursor');\n        this.$config.set('set.move.control.point', false);        \n        // 마지막 변경 시점 업데이트 \n        this.verties = null;\n\n        this.nextTick(() => {\n            this.command(\n                'setAttributeForMulti', \n                'change rotate',\n                this.$selection.pack('transform')\n            );  \n        })        \n    }\n\n    refreshRotatePointerIcon (e) {\n        this.emit('refreshCursor', 'rotate')\n    }\n\n\n    refreshPointerIcon (e) {\n\n        const dataPointer = e.$dt.data('pointer');\n\n        if (dataPointer) {\n\n            const pointer = dataPointer.split(',').map(it => Number(it))\n\n            const diff = vec3.subtract([], pointer, this.state.renderPointerList[0][4]);\n            const angle = calculateAngle360(diff[0], diff[1]);\n            let iconAngle = Math.floor(angle)  - 135;\n            this.emit('refreshCursor', 'open_in_full', `rotate(${iconAngle} 12 12)`)\n        } else {\n            this.emit('recoverCursor');\n        }\n\n    }\n\n    checkPointerIsNotMoved (e) {\n        return Boolean(this.state.dragging) === false;\n    }\n\n    [POINTEROVER('$pointerRect .rotate-pointer') + IF('checkPointerIsNotMoved')] (e) {\n        this.refreshRotatePointerIcon(e);\n    }\n\n    [POINTEROVER('$pointerRect .pointer') + IF('checkPointerIsNotMoved')] (e) {\n        this.refreshPointerIcon(e);\n    }\n\n    [POINTEROUT('$pointerRect .pointer,.rotate-pointer') + IF('checkPointerIsNotMoved')] (e) {\n        this.emit('recoverCursor');\n    }\n\n    [POINTERSTART('$pointerRect .pointer') + MOVE('moveVertex') + END('moveEndVertex')] (e) {\n        this.refreshPointerIcon(e);\n        this.state.dragging = true; \n\n        const num = +e.$dt.attr('data-number')\n        const direction =  directionType[`${num}`];\n\n        this.initMousePoint = this.$viewport.getWorldPosition(e);        \n        this.state.moveType = direction; \n        this.state.moveTarget = num; \n\n        this.$selection.reselect();        \n        this.$snapManager.clear();            \n        this.verties = this.$selection.verties;\n\n        const rotateZ = Transform.get(this.$selection.current.transform, 'rotateZ');\n        this.hasRotate = rotateZ && rotateZ.length && rotateZ[0].value != 0\n\n        this.$config.set('set.move.control.point', true);\n\n    }\n\n    calculateNewOffsetMatrixInverse (vertexOffset, width, height, origin, itemMatrix) {\n\n        const center = vec3.subtract(\n            [], \n            TransformOrigin.scale(origin,width, height), \n            vertexOffset\n        );\n\n        return calculateMatrixInverse(\n            mat4.fromTranslation([], vertexOffset),\n            mat4.fromTranslation([], center),\n            itemMatrix,\n            mat4.fromTranslation([], vec3.negate([], center)),\n        );        \n    }\n\n    calculateDistance (vertex, distVector, reverseMatrix) {\n\n        // 1. 움직이는 vertex 를 구한다. \n        const currentVertex = vec3.clone(vertex);\n\n        // 2. dx, dy 만큼 옮긴 vertex 를 구한다.        \n        // - dx, dy 를 계산하기 전에 먼저 snap 을 실행한 다음 최종 dx, dy 를 구한다      \n        const snap = this.$snapManager.check([\n            vec3.add([], currentVertex, distVector)\n        ]);\n\n        const nextVertex = vec3.add([], currentVertex, vec3.add([], distVector, snap ));\n\n        // 3. invert matrix 를 실행해서  기본 좌표로 복귀한다.             \n        var currentResult = vec3.transformMat4([], currentVertex, reverseMatrix); \n        var nextResult = vec3.transformMat4([], nextVertex, reverseMatrix); \n\n        // 4. 복귀한 좌표에서 차이점을 구한다. \n        const realDist = vec3.add([], nextResult, vec3.negate([], currentResult))\n\n        return realDist\n    }\n\n    calculateRealDist (item, vertexIndex, distVector) {\n        return this.calculateDistance(\n            item.verties[vertexIndex],    // top center \n            distVector, \n            item.accumulatedMatrixInverse\n        );\n    }\n\n    moveItem (instance, lastStartVertex, newWidth, newHeight) {\n\n        if (instance) {\n\n            const data = {\n                x: Length.px(lastStartVertex[0] + (newWidth < 0 ? newWidth : 0)),\n                y: Length.px(lastStartVertex[1] + (newHeight < 0 ? newHeight : 0)),\n                width: Length.px(Math.abs(newWidth)),\n                height: Length.px(Math.abs(newHeight)),\n            }\n\n            if (this.hasRotate) {\n                // noop \n            } else {\n                data.x = data.x.floor();\n                data.y = data.y.floor();\n                data.width = data.width.floor();\n                data.height = data.height.floor();\n            }\n\n            instance.reset(data)    \n        }\n\n    }\n\n    moveDirectionVertex (item, newWidth, newHeight, direction, directionNewVector) {\n\n        // 마지막 offset x, y 를 구해보자. \n        const view = calculateMatrix(\n            item.directionMatrix[direction],\n            this.calculateNewOffsetMatrixInverse (\n                directionNewVector, \n                newWidth, newHeight, \n                item.originalTransformOrigin, \n                item.itemMatrix\n            )\n        );\n\n        const lastStartVertex = mat4.getTranslation([], view);\n\n        this.moveItem (this.$model.get(item.id), lastStartVertex, newWidth, newHeight);\n    }\n\n    moveBottomRightVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n\n            let [realDx, realDy] = this.calculateRealDist(item, 2, distVector)\n\n            if (this.$config.get('bodyEvent').shiftKey) {\n                realDy = realDx * item.height/item.width;\n            }                \n\n            // 변형되는 넓이 높이 구하기 \n            const newWidth = item.width + realDx;\n            const newHeight = item.height + realDy;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to top left', [0, 0, 0])\n\n        }\n    }\n\n\n    moveTopRightVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n\n            let [realDx, realDy] = this.calculateRealDist(item, 1, distVector)\n\n            if (this.$config.get('bodyEvent').shiftKey) {\n                realDy = -(realDx * item.height/item.width);\n            }\n\n            // 변형되는 넓이 높이 구하기 \n            const newWidth = item.width + realDx;\n            const newHeight = item.height - realDy;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to bottom left', [0, newHeight, 0])       \n        }\n    }\n\n\n    moveTopLeftVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n            let [realDx, realDy] = this.calculateRealDist(item, 0, distVector)\n\n            if (this.$config.get('bodyEvent').shiftKey) {\n                realDy = realDx * item.height/item.width;\n            }\n\n            // 변형되는 넓이 높이 구하기 \n            const newWidth = item.width - realDx;\n            const newHeight = item.height - realDy;            \n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to bottom right', [newWidth, newHeight, 0])            \n        }\n    }\n\n\n    moveTopVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n\n            const [realDx, realDy] = this.calculateRealDist(item, 0, distVector)\n\n            // 변형되는 넓이 높이 구하기 \n            const newWidth = item.width;\n            const newHeight = item.height - realDy;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to bottom', [newWidth/2, newHeight, 0]);  \n        }\n    }    \n\n\n\n    moveBottomVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n            const [realDx, realDy] = this.calculateRealDist(item, 3, distVector)\n\n            // 변형되는 넓이 높이 구하기 \n            const newWidth = item.width;\n            const newHeight = item.height + realDy;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to top', [newWidth/2, 0, 0]);\n        }\n    }    \n\n\n    moveRightVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n\n            const [realDx, realDy] = this.calculateRealDist(item, 1, distVector)\n\n            // 변형되는 넓이 높이 구하기 \n            const newWidth = item.width + realDx;\n            const newHeight = item.height;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to left', [0, newHeight/2, 0]);            \n        }\n    }       \n    \n    moveLeftVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n\n            const [realDx, realDy] = this.calculateRealDist(item, 0, distVector)\n\n            // 변형되는 넓이 높이 구하기 \n            const newWidth = item.width - realDx;\n            const newHeight = item.height;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to right', [newWidth, newHeight/2, 0]);\n        }\n    }           \n\n\n    moveBottomLeftVertex (distVector) {\n        const item = this.$selection.cachedCurrentItemMatrix\n        if (item) {\n\n            let [realDx, realDy] = this.calculateRealDist(item, 3, distVector)\n\n            if (this.$config.get('bodyEvent').shiftKey) {\n                realDy = -(realDx * item.height/item.width);\n            }            \n\n            // 변형되는 넓이 높이 구하기 \n            const newWidth = item.width - realDx;\n            const newHeight = item.height + realDy;\n\n            this.moveDirectionVertex(item, newWidth, newHeight, 'to top right', [newWidth, 0, 0]);\n        }\n    }\n\n\n    moveVertex () {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const distVector = vec3.subtract([], targetMousePoint, this.initMousePoint);\n\n        if (this.state.moveType === 'to top left') {                // 1\n            this.moveTopLeftVertex(distVector);        \n        } else if (this.state.moveType === 'to top') {              // 11\n            this.moveTopVertex(distVector);    \n        } else if (this.state.moveType === 'to right') {           // 12\n            this.moveRightVertex(distVector);                                    \n        } else if (this.state.moveType === 'to bottom') {           // 13\n            this.moveBottomVertex(distVector);                        \n        } else if (this.state.moveType === 'to left') {           // 14\n            this.moveLeftVertex(distVector);                                                \n        } else if (this.state.moveType === 'to top right') {        // 2\n            this.moveTopRightVertex(distVector);\n        } else if (this.state.moveType === 'to bottom right') {     // 3\n            this.moveBottomRightVertex(distVector);\n        } else if (this.state.moveType === 'to bottom left') {      // 4 \n            this.moveBottomLeftVertex(distVector);                                \n        }    \n\n        this.emit('setAttributeForMulti', this.$selection.pack('x', 'y', 'width', 'height'));\n\n        this.state.dragging = true; \n    }\n\n    moveEndVertex () {\n        this.state.dragging = false;         \n        this.emit('recoverCursor');\n        this.$selection.reselect();\n        this.$config.set('set.move.control.point', false);        \n\n        this.nextTick(() => {\n            this.command(\n                'setAttributeForMulti', \n                'move selection pointer',\n                this.$selection.pack('x', 'y', 'width', 'height')\n            );  \n        })      \n    }\n\n    initSelectionTool(isShow = true) {\n        if (this.$el.isShow() && this.$selection.isOne === false) {\n             this.$el.hide();\n        } else if (this.$el.isHide() && this.$selection.isOne) {\n            this.$el.show();\n        }\n\n        this.makeSelectionTool();                    \n\n    }      \n\n    makeSelectionTool() {\n        this.renderPointers();\n    }\n\n\n    /**\n     * 선택영역 컴포넌트 그리기 \n     */\n    renderPointers () {\n\n        if (!this.$selection.cachedCurrentItemMatrix) {\n            return ;\n        }\n\n        if (this.$selection.isEmpty) {\n            return ;\n        }\n\n        const verties = this.$selection.verties;\n        const selectionVerties = this.$selection.selectionVerties;              \n        const parentVerties = this.$selection.current.parent.verties || [];              \n        this.state.renderPointerList = [\n            this.$viewport.applyVerties(verties),\n            this.$viewport.applyVerties(selectionVerties),\n            this.$viewport.applyVerties(parentVerties),\n        ]\n\n\n        const pointers = this.createRenderPointers(...this.state.renderPointerList);\n\n        if (pointers) {\n            const {line, parentRect, point, size} = pointers;\n            this.refs.$pointerRect.updateDiff(line + parentRect + point + size)\n        }\n\n\n    }\n\n\n    createPointer (pointer, number, rotate) {\n        return /*html*/`\n        <div class='pointer' data-number=\"${number}\" data-pointer=\"${pointer}\" style=\"transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px) rotateZ(${rotate||'0deg'})\" ></div>\n        `\n    }\n\n    createPointerSide (pointer, number, rotate, width, height) {\n        return /*html*/`\n        <div class='pointer' data-number=\"${number}\" data-pointer=\"${pointer}\" style=\"width: ${width}px; height: ${height}px;transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px) rotateZ(${rotate||'0deg'})\" ></div>\n        `\n    }\n\n\n    createRotatePointer (pointer, number, direction) {\n        if (pointer.length === 0) return '';        \n\n        if (number < 4) {\n            return /*html*/`\n            <div class='rotate-pointer no-fill' data-number=\"${number}\" style=\"transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px) scale(1.8);\" ></div>\n            `            \n        }                \n\n        return /*html*/`\n        <div class='rotate-pointer' data-number=\"${number}\" style=\"transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px)\" ></div>\n        `\n    }    \n\n    createPointerRect (pointers, rotatePointer, parentVector) {\n        if (pointers.length === 0) return '';\n\n        const current = this.$selection.current;         \n        const isArtBoard = current && current.is('artboard');\n        let line = '';\n        if (!isArtBoard) {\n            const centerPointer = vec3.lerp([], pointers[0], pointers[1], 0.5);            \n            line += `\n                M ${centerPointer[0]},${centerPointer[1]} \n                L ${rotatePointer[0]},${rotatePointer[1]} \n            `\n        }\n\n\n        return /*html*/`\n        <svg class='line' overflow=\"visible\">\n            <path \n                d=\"\n                    M ${pointers[0][0]}, ${pointers[0][1]} \n                    L ${pointers[1][0]}, ${pointers[1][1]} \n                    L ${pointers[2][0]}, ${pointers[2][1]} \n                    L ${pointers[3][0]}, ${pointers[3][1]} \n                    L ${pointers[0][0]}, ${pointers[0][1]}\n                    ${line}\n                    Z\n                \" />\n        </svg>`\n    }    \n\n    createParentRect(pointers = []) {\n        if (pointers.length === 0) return '';\n\n        return /*html*/`\n        <svg class='line' overflow=\"visible\">\n            <path \n                d=\"\n                    M ${pointers[0][0]}, ${pointers[0][1]} \n                    L ${pointers[1][0]}, ${pointers[1][1]} \n                    L ${pointers[2][0]}, ${pointers[2][1]} \n                    L ${pointers[3][0]}, ${pointers[3][1]} \n                    L ${pointers[0][0]}, ${pointers[0][1]}\n                    Z\n                \" \n                stroke=\"red\"\n                />\n        </svg>`\n    }\n\n    createSize (pointers) {\n        const top = vec3.lerp([], pointers[0], pointers[1], 0.5);\n        const right = vec3.lerp([], pointers[1], pointers[2], 0.5);\n        const bottom = vec3.lerp([], pointers[2], pointers[3], 0.5);\n        const left = vec3.lerp([], pointers[3], pointers[0], 0.5);\n\n        const list = [\n            { start: top, end: bottom}, \n            { start: right, end: left },\n            { start: bottom, end: top }, \n            { start: left, end: right }\n        ].map((it, index) => { \n            return { index, data: it }\n        })\n\n        list.sort((a, b) => {\n            return a.data.start[1] > b.data.start[1] ? -1 : 1; \n        })\n\n        const item = list[0];\n\n        const newPointer  = vec3.lerp([], item.data.end, item.data.start, 1 + 16/vec3.dist(item.data.start, item.data.end))\n        const width = this.$selection.current.width.value\n        const height = this.$selection.current.height.value\n        const diff = vec3.subtract([], item.data.start, item.data.end);\n        const angle = calculateAngle360(diff[0], diff[1]) + 90;\n\n        let text = `${round(width, 100)} x ${round(height, 100)}`;\n\n        if (this.state.isRotate) {\n            const rotateZ = Transform.get(this.$selection.current.transform, 'rotateZ')\n\n            if (rotateZ) {\n                text = `${round(rotateZ[0].value, 1000)}°`\n            }\n        }\n\n        return /*html*/`\n            <div \n                data-layout=\"${this.$selection.current.layout}\"\n                class='size-pointer' \n                style=\"transform: translate3d( calc(${newPointer[0]}px - 50%), calc(${newPointer[1]}px - 50%), 0px) rotateZ(${angle}deg)\" >\n               ${text}\n            </div>\n        `\n    }\n\n    createRenderPointers(pointers, selectionPointers, parentPointers) {\n\n        const current = this.$selection.current; \n\n        if (current && current.is(\"text\")) {\n            if (current.width.value === 0 && current.height.value === 0) {\n                return;\n            }\n        }\n\n        const isArtBoard = current && current.is('artboard');\n\n        const diff = vec3.subtract(\n            [], \n            vec3.lerp([], pointers[0], pointers[1], 0.5), \n            vec3.lerp([], pointers[0], pointers[2], 0.5), \n        );\n\n        //TODO: 여기서는 법선벡터를 구하게 되면 식이 훨씬 간단해진다. \n        const rotate = Length.deg(calculateAngle360(diff[0], diff[1]) + 90).round(1000);\n\n        const rotatePointer = getRotatePointer(pointers, 34)\n        const dist = vec3.dist(pointers[0], pointers[2]);\n        const width = vec3.dist(pointers[0], pointers[1]);\n        const height = vec3.dist(pointers[0], pointers[3]);\n\n        return {\n            line: this.createPointerRect(pointers, rotatePointer), \n            size: this.createSize(pointers),\n            parentRect: this.createParentRect(parentPointers),\n            point: [\n                // 4 모서리에서도 rotate 가 가능하도록 맞춤 \n                // this.createRotatePointer (selectionPointers[0], 0),\n                // this.createRotatePointer (selectionPointers[1], 1),\n                // this.createRotatePointer (selectionPointers[2], 2),\n                // this.createRotatePointer (selectionPointers[3], 3),\n                isArtBoard ? undefined : this.createRotatePointer (rotatePointer, 4, 'center center'),\n\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[0], pointers[1], 0.5), 11, rotate, width, 5),\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[1], pointers[2], 0.5), 12, rotate, 5, height),\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[2], pointers[3], 0.5), 13, rotate, width, 5),\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[3], pointers[0], 0.5), 14, rotate, 5, height),\n                this.createPointer (pointers[0], 1, rotate),\n                this.createPointer (pointers[1], 2, rotate),\n                this.createPointer (pointers[2], 3, rotate),\n                this.createPointer (pointers[3], 4, rotate),\n\n                // center position \n                this.createPointer (pointers[4], 5, rotate),                \n            ].join('')\n        }\n    }\n\n    checkShow() {\n        if (this.$selection.isOne) {\n            if (this.$selection.hasChangedField('x', 'y', 'width', 'height', 'transform', 'transform-origin', 'perspective', 'perspective-origin')) {            \n                return true; \n            }\n        }\n\n        return false; \n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView') + IF('checkShow')] () {\n        this.renderPointers()\n    }\n\n    [SUBSCRIBE('hideSelectionToolView')] () {\n        this.$el.hide();\n    }\n\n} ","\nimport { POINTERSTART, POINTEROUT, POINTEROVER, IF, PREVENT, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { clone } from \"el/sapa/functions/func\";\nimport { mat4, vec3 } from \"gl-matrix\";\nimport { Transform } from \"el/editor/property-parser/Transform\";\nimport { TransformOrigin } from \"el/editor/property-parser/TransformOrigin\";\nimport { calculateAngle, calculateAngle360, calculateAngleForVec3, calculateMatrix, calculateMatrixInverse, calculateRotationOriginMat4, round, vertiesMap } from \"el/utils/math\";\nimport { getRotatePointer, rectToVerties } from \"el/utils/collision\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './SelectionView.scss';\n\n\nvar directionType = {\n    1: 'to top left',\n    2: 'to top right',\n    3: 'to bottom right',\n    4: 'to bottom left',\n    11: 'to top',\n    12: 'to right',\n    13: 'to bottom',\n    14: 'to left',    \n}\n\nconst SelectionToolEvent = class  extends EditorElement {\n\n    [SUBSCRIBE('refreshSelectionTool')] (isInitializeMatrix = true) { \n        this.initSelectionTool(isInitializeMatrix);\n    }\n\n    [SUBSCRIBE('updateViewport')] (isInitializeMatrix = true) {\n        if (this.$selection.isMany) {        \n            this.initSelectionTool(isInitializeMatrix);\n        }\n    }\n\n}\n\n/**\n * 원보 아이템의 크기를 가지고 scale 이랑 조합해서 world 의 크기를 구하는게 기본 컨셉 \n */\nexport default class GroupSelectionToolView extends SelectionToolEvent {\n\n    template() {\n        return /*html*/`\n            <div class='elf--selection-view group-selection-view' ref='$selectionView'  style='display:none' >\n                <div class='pointer-rect' ref='$pointerRect'></div>        \n            </div>\n        `\n    }\n\n    toggleEditingPath (isEditingPath) {\n        this.refs.$selectionView.toggleClass('editing-path', isEditingPath);\n    }\n    \n    [POINTERSTART('$pointerRect .rotate-pointer') + MOVE('rotateVertex') + END('rotateEndVertex')] (e) {\n        this.state.moveType = 'rotate'; \n        this.initMousePoint = this.$viewport.getWorldPosition(e);        \n\n        // cache matrix \n        // this.$selection.reselect();        \n        this.verties = this.groupItem.verties;        \n        this.rotateTargetNumber = (+e.$dt.attr('data-number')); \n\n        this.refreshRotatePointerIcon()\n        this.state.dragging = true;    \n        this.state.isRotate = true; \n        this.$config.set('set.move.control.point', true);                \n    }\n\n    rotateVertex () {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const distVector = vec3.subtract([], targetMousePoint, this.initMousePoint);\n\n        const targetRotatePointer = this.rotateTargetNumber === 4 ?  getRotatePointer(this.verties, 34) : this.verties[this.rotateTargetNumber];        \n\n        var distAngle = Math.floor(calculateAngleForVec3(\n            targetRotatePointer, \n            this.verties[4], \n            distVector\n        ));\n\n        if (this.$config.get('bodyEvent').shiftKey) {\n            distAngle = distAngle - distAngle % this.$config.get('fixed.angle');\n        }\n\n        // 실제 움직인 angle \n        this.localAngle = this.angle + distAngle;\n\n        this.groupItem.reset({\n            transform: Transform.rotateZ(this.groupItem.transform, Length.deg(this.localAngle) ) \n        })\n\n        const selectionMatrix = calculateRotationOriginMat4(distAngle, this.verties[4])\n\n        // angle 을 움직였으니 어떻게 움직이지 ?  \n        let cachedItemMatrices = this.$selection.cachedItemMatrices;\n\n        // 그룹이긴 하나 실제로 하나의 선택만 있을 때는 회전할 때 자식을 같이 회전하지 않도록 한다. \n        if (this.$selection.length === 1) {\n            cachedItemMatrices = cachedItemMatrices.filter(it => it.id === this.$selection.current.id) \n        }\n\n        cachedItemMatrices.forEach(item => {\n            const newVerties = vertiesMap(\n                item.verties, \n                mat4.multiply(\n                    [], \n                    item.parentMatrixInverse, \n                    selectionMatrix\n                )\n            );      // 아이템을 먼저 그룹으로 회전을 하고 \n    \n            const rotatePointer = getRotatePointer(newVerties, 34)\n\n            var lastAngle = calculateAngle(\n                rotatePointer[0] - newVerties[4][0],\n                rotatePointer[1] - newVerties[4][1],\n            ) - 270\n            \n            const newTranslate = vec3.transformMat4(\n                [], \n                newVerties[0], \n                calculateRotationOriginMat4(-lastAngle, newVerties[4])\n            );\n\n            const instance = this.$model.get(item.id)\n\n            if (instance) {\n                instance.reset({\n                    x: Length.px(newTranslate[0]), \n                    y: Length.px(newTranslate[1]),\n                    transform: Transform.rotateZ(item.transform, Length.deg(lastAngle) ) \n                })\n            }\n\n        })\n\n        this.state.dragging = true;        \n\n        this.emit(\n            'setAttributeForMulti', \n            this.$selection.pack('x', 'y', 'width', 'height', 'transform')\n        );                    \n    }\n\n    rotateEndVertex () {\n\n        this.state.dragging = false;        \n        this.state.isRotate = false;         \n        this.emit('recoverCursor');\n        this.$config.set('set.move.control.point', false);                \n\n        // 개별 verties 의 캐쉬를 다시 한다. \n        this.$selection.reselect();   \n        this.initMatrix(true);\n        this.nextTick(() => {\n            this.command(\n                'setAttributeForMulti', \n                'rotate selection pointer',\n                this.$selection.pack('x', 'y', 'width', 'height', 'transform')\n            );  \n        })                \n    }\n\n\n    refreshRotatePointerIcon (e) {\n        this.emit('refreshCursor', 'rotate')\n    }\n\n    refreshPointerIcon (e) {\n\n        const dataPointer = e.$dt.data('pointer');\n\n        if (dataPointer) {\n\n            const pointer = dataPointer.split(',').map(it => Number(it))\n\n            const diff = vec3.subtract([], pointer, this.state.renderPointerList[0][4]);\n            const angle = calculateAngle360(diff[0], diff[1]);\n            let iconAngle = Math.floor(angle)  - 135\n            this.emit('refreshCursor', 'open_in_full', `rotate(${iconAngle} 12 12)`)\n        } else {\n            this.emit('recoverCursor');\n        }\n\n    }\n\n    checkPointerIsNotMoved (e) {\n        return Boolean(this.state.dragging) === false;\n    }\n\n    [POINTEROVER('$pointerRect .rotate-pointer') + IF('checkPointerIsNotMoved') + PREVENT] (e) {\n        this.refreshRotatePointerIcon(e);\n    }\n\n    [POINTEROVER('$pointerRect .pointer') + IF('checkPointerIsNotMoved') + PREVENT] (e) {\n        this.refreshPointerIcon(e);            \n    }\n\n    [POINTEROUT('$pointerRect .pointer,.rotate-pointer') + IF('checkPointerIsNotMoved') + PREVENT] (e) {\n        this.emit('recoverCursor');\n    }    \n\n\n    [POINTERSTART('$pointerRect .pointer') + PREVENT + MOVE('moveVertex') + END('moveEndVertex')] (e) {\n        this.refreshPointerIcon(e);\n        this.state.dragging = true; \n        const num = +e.$dt.attr('data-number')\n        this.state.moveType = directionType[`${num}`]; \n        this.initMousePoint = this.$viewport.getWorldPosition(e);        \n\n        // cache matrix \n        // this.$selection.doCache();\n        this.$selection.reselect();\n        this.initMatrix(true);\n        this.cachedGroupItem = this.groupItem.matrix;\n        this.$config.set('set.move.control.point', true);                \n    }\n\n    calculateNewOffsetMatrixInverse (vertextOffset, width, height, origin, itemMatrix) {\n\n        const center = vec3.add(\n            [], \n            TransformOrigin.scale(origin,width, height), \n            vec3.negate([], vertextOffset)\n        );\n\n        return calculateMatrixInverse(\n            mat4.fromTranslation([], vertextOffset),\n            mat4.fromTranslation([], center),\n            itemMatrix,\n            mat4.fromTranslation([], vec3.negate([], center)),\n        );\n    }\n\n    calculateDistance (vertext, distVector, reverseMatrix) {\n        // 1. 움직이는 vertext 를 구한다. \n        const currentVertex = vec3.clone(vertext);\n\n        // 2. dx, dy 만큼 옮긴 vertext 를 구한다.        \n        // - dx, dy 를 계산하기 전에 먼저 snap 을 실행한 다음 최종 dx, dy 를 구한다      \n        const snap = this.$snapManager.check([\n            vec3.add([], currentVertex, distVector)\n        ]);\n\n        const nextVertex = vec3.add([], currentVertex, vec3.add([], distVector, snap ));\n\n        // 3. invert matrix 를 실행해서  기본 좌표로 복귀한다.             \n        var currentResult = vec3.transformMat4([], currentVertex, reverseMatrix); \n        var nextResult = vec3.transformMat4([], nextVertex, reverseMatrix); \n\n        // 4. 복귀한 좌표에서 차이점을 구한다. \n        const realDist = vec3.floor([], vec3.add([], nextResult, vec3.negate([], currentResult)))\n\n        return realDist\n    }\n\n   \n    calculateRealDist (item, vertextIndex, distVector) {\n        return this.calculateDistance(\n            item.verties[vertextIndex],    // top center \n            distVector, \n            item.accumulatedMatrixInverse\n        );\n    } \n\n    moveGroupItem (lastStartVertex, newWidth, newHeight) {\n\n        this.groupItem.reset({\n            x: Length.px(lastStartVertex[0] + (newWidth < 0 ? newWidth : 0)).round(1000),\n            y: Length.px(lastStartVertex[1] + (newHeight < 0 ? newHeight : 0)).round(1000),\n            width: Length.px(Math.abs(newWidth)).round(1000),\n            height: Length.px(Math.abs(newHeight)).round(1000),\n        })    \n    }   \n    \n    moveItemForGroup (it, newVerties, realDx = 0, realDy = 0) {\n\n        const transformViewInverse = calculateMatrixInverse(\n            mat4.fromTranslation([], newVerties[4]),\n            it.itemMatrix,\n            mat4.fromTranslation([], vec3.negate([], newVerties[4])),\n        );\n\n        const [newX, newY] = vec3.transformMat4([], newVerties[0], transformViewInverse);\n        const newWidth = vec3.distance(newVerties[0], newVerties[1])\n        const newHeight = vec3.distance(newVerties[0], newVerties[3])\n\n        const instance = this.$model.get(it.id)\n\n        if (instance) {\n            instance.reset({\n                x: Length.px(newX + realDx), \n                y: Length.px(newY + realDy),\n                width: Length.px(newWidth),\n                height: Length.px(newHeight)\n            })\n            // instance.recover();              \n        }            \n    }\n\n    recoverItemForGroup (groupItem, scaleX, scaleY, realDx = 0, realDy = 0) {\n\n        const accumulatedMatrix = groupItem.accumulatedMatrix;\n        const accumulatedMatrixInverse = groupItem.accumulatedMatrixInverse;\n\n        this.$selection.cachedItemMatrices.forEach(it => {\n\n            const localView = calculateMatrix(\n                it.parentMatrixInverse,         // 5. 해당 객체의 parent 를 기준으로 좌표를 만들면 된다. \n                accumulatedMatrix,    // 4. 원래의 좌표로 다시 만들고 \n                mat4.fromTranslation([], [realDx, realDy, 0]),      // 3. dx, dy 가 - 일 경우 실제로 움직이고\n                mat4.fromScaling([], [scaleX, scaleY, 1]),  // 2. scale 을 먼저 실행한다음 \n                accumulatedMatrixInverse          // 1. 기본 좌표로 돌리고 \n            )\n\n            const newVerties = vertiesMap(it.verties, localView);\n\n            this.moveItemForGroup(it, newVerties);\n        })\n\n    }\n\n\n    moveBottomRightVertex (distVector) {\n\n        const groupItem = this.cachedGroupItem;\n\n        let [realDx, realDy] = this.calculateRealDist(groupItem, 2, distVector);\n\n        if (this.$config.get('bodyEvent').shiftKey) {\n            realDy = realDx * groupItem.height/groupItem.width;\n        }                \n\n        // 변형되는 넓이 높이 구하기 \n        const newWidth = groupItem.width + realDx;\n        const newHeight = groupItem.height + realDy;\n\n        this.moveDirectionVertex(groupItem, 0, 0, newWidth, newHeight, 'to top left', [0, 0, 0])                \n    }\n\n\n    moveTopRightVertex (distVector) {\n        const groupItem = this.cachedGroupItem;\n\n        let [realDx, realDy] = this.calculateRealDist(groupItem, 1, distVector);\n\n        if (this.$config.get('bodyEvent').shiftKey) {\n            realDy = -(realDx * groupItem.height/groupItem.width);\n        }                \n \n        // 변형되는 넓이 높이 구하기 \n        const newWidth = groupItem.width + realDx;\n        const newHeight = groupItem.height - realDy;\n\n        this.moveDirectionVertex(groupItem, 0, realDy, newWidth, newHeight, 'to bottom left', [0, newHeight, 0])        \n    }\n\n\n    moveDirectionVertex(groupItem, realDx, realDy, newWidth, newHeight, direction, directionNewVector) {\n\n        const scaleX = newWidth / groupItem.width;\n        const scaleY = newHeight / groupItem.height;\n\n        if (scaleX >= 0 && scaleY >= 0) {\n            // 마지막 offset x, y 를 구해보자. \n            const view = calculateMatrix(\n                groupItem.directionMatrix[direction],\n                this.calculateNewOffsetMatrixInverse (\n                    directionNewVector, \n                    newWidth, newHeight, \n                    groupItem.originalTransformOrigin, \n                    groupItem.itemMatrix\n                )\n            );        \n\n\n            const lastStartVertex = mat4.getTranslation([], view);\n\n            this.moveGroupItem (lastStartVertex, newWidth, newHeight);\n\n            this.recoverItemForGroup(groupItem, scaleX, scaleY, realDx, realDy);\n        }\n    }\n\n    moveTopVertex (distVector) {\n        const groupItem = this.cachedGroupItem;\n\n        const [realDx, realDy] = this.calculateRealDist(groupItem, 0, distVector);\n\n        // 변형되는 넓이 높이 구하기 \n        const newWidth = groupItem.width;\n        const newHeight = groupItem.height - realDy;\n\n        this.moveDirectionVertex(groupItem, 0, realDy, newWidth, newHeight, 'to bottom', [newWidth/2, newHeight, 0])\n    }    \n\n\n    moveBottomVertex (distVector) {\n        const groupItem = this.cachedGroupItem;\n\n        const [realDx, realDy] = this.calculateRealDist(groupItem, 2, distVector);\n\n        // 변형되는 넓이 높이 구하기 \n        const newWidth = groupItem.width;\n        const newHeight = groupItem.height + realDy;\n\n        this.moveDirectionVertex(groupItem, 0, 0, newWidth, newHeight, 'to top', [newWidth/2, 0, 0])        \n    }        \n\n    moveTopLeftVertex (distVector) {\n\n        const groupItem = this.cachedGroupItem;\n\n        let [realDx, realDy] = this.calculateRealDist(groupItem, 0, distVector);\n\n        if (this.$config.get('bodyEvent').shiftKey) {\n            realDy = realDx * groupItem.height/groupItem.width;\n        }\n\n        // 변형되는 넓이 높이 구하기 \n        const newWidth = groupItem.width - realDx;\n        const newHeight = groupItem.height - realDy;\n\n        this.moveDirectionVertex(groupItem, realDx, realDy, newWidth, newHeight, 'to bottom right', [newWidth, newHeight, 0])                        \n    }\n\n\n    moveLeftVertex (distVector) {\n\n        const groupItem = this.cachedGroupItem;\n\n        const [realDx, realDy] = this.calculateRealDist(groupItem, 0, distVector);\n\n        // 변형되는 넓이 높이 구하기 \n        const newWidth = groupItem.width - realDx;\n        const newHeight = groupItem.height;\n\n        this.moveDirectionVertex(groupItem, realDx, 0, newWidth, newHeight, 'to right', [newWidth, newHeight/2, 0])\n    }   \n    \n\n    moveRightVertex (distVector) {\n\n        const groupItem = this.cachedGroupItem;\n\n        const [realDx, realDy] = this.calculateRealDist(groupItem, 2, distVector);\n\n        // 변형되는 넓이 높이 구하기 \n        const newWidth = groupItem.width + realDx;\n        const newHeight = groupItem.height;\n\n\n        this.moveDirectionVertex(groupItem, 0, 0, newWidth, newHeight, 'to left', [0, newHeight/2, 0])        \n    }       \n\n    moveBottomLeftVertex (distVector) {\n\n\n        const groupItem = this.cachedGroupItem;\n\n        let [realDx, realDy] = this.calculateRealDist(groupItem, 3, distVector);\n\n        if (this.$config.get('bodyEvent').shiftKey) {\n            realDy = -(realDx * groupItem.height/groupItem.width);\n        }          \n\n        // 변형되는 넓이 높이 구하기 \n        const newWidth = groupItem.width - realDx;\n        const newHeight = groupItem.height + realDy;\n\n        this.moveDirectionVertex(groupItem, realDx, 0, newWidth, newHeight, 'to top right', [newWidth, 0, 0])\n    }\n\n\n    moveVertex () {\n        const targetMousePoint = this.$viewport.getWorldPosition();\n        const distVector = vec3.subtract([], targetMousePoint, this.initMousePoint);        \n\n        if (this.state.moveType === 'to bottom right') {        // 2\n            this.moveBottomRightVertex(distVector);\n        } else if (this.state.moveType === 'to top right') {\n            this.moveTopRightVertex(distVector);\n        } else if (this.state.moveType === 'to top left') {\n            this.moveTopLeftVertex(distVector);\n        } else if (this.state.moveType === 'to bottom left') {\n            this.moveBottomLeftVertex(distVector); \n        } else if (this.state.moveType === 'to top') {\n            this.moveTopVertex(distVector);\n        } else if (this.state.moveType === 'to left') {\n            this.moveLeftVertex(distVector);\n        } else if (this.state.moveType === 'to right') {\n            this.moveRightVertex(distVector);\n        } else if (this.state.moveType === 'to bottom') {\n            this.moveBottomVertex(distVector);\n        }    \n\n        this.emit(\n            'setAttributeForMulti', \n            this.$selection.pack('x', 'y', 'width', 'height', 'transform')\n        );          \n\n        this.state.dragging = true; \n    }\n\n    moveEndVertex (dx, dy) {        \n        this.state.dragging = false;         \n        this.emit('recoverCursor');   \n        this.$config.set('set.move.control.point', false);                \n        this.$selection.reselect();\n        this.state.dragging = false;               \n        this.initMatrix(true);\n        this.nextTick(() => {\n            this.command(\n                'setAttributeForMulti', \n                'move selection pointer',\n                this.$selection.pack('x', 'y', 'width', 'height', 'transform')\n            );  \n        })        \n    }\n\n    initSelectionTool(isInitializeMatrix = false) {\n\n        if (this.$el.isHide() && this.$selection.isMany) {\n            this.$el.show();\n        } else {\n            if (this.$el.isShow() && this.$selection.isMany === false) this.$el.hide();\n        }\n\n        this.initMatrix(isInitializeMatrix);\n\n        this.makeSelectionTool();\n\n\n    }      \n\n    get item () {\n        const verties = this.verties || rectToVerties(0, 0, 0, 0);\n\n        if (!this.state.newArtBoard) {\n            this.state.newArtBoard = this.$editor.createModel({ itemType: 'artboard' }, false);\n        } \n\n        this.state.newArtBoard.reset({\n            parentId: this.$selection.currentProject.id,\n            x: Length.px(verties[0][0]),\n            y: Length.px(verties[0][1]),\n            width: Length.px(vec3.dist(verties[0], verties[1])),\n            height: Length.px(vec3.dist(verties[0], verties[3])),\n            transform: '', // 새로운 그룹을 지정할 때는 transform 은 항상 초기화 된다. \n        })\n\n        return this.state.newArtBoard; \n    }\n\n    initMatrix(isInitializeMatrix = false) {\n        if (isInitializeMatrix && this.$selection.isMany) {\n            // matrix 초기화 \n            this.verties = clone(this.$selection.verties);\n            this.angle = 0;\n            this.localAngle = this.angle;\n            this.groupItem = this.item;     \n            this.cachedGroupItem = this.item.matrix;     \n        } else {\n            // 초기화 옵션이 없으면 아무것도 변경하지 않는다. \n            // matrix 초기화 \n            // this.verties = clone(this.$selection.verties);\n            // this.angle = 0;\n            // this.localAngle = this.angle;\n            // this.groupItem = this.item;     \n            // this.cachedGroupItem = this.item.matrix;     \n        }\n\n    }\n\n    makeSelectionTool() {\n\n        this.renderPointers();\n\n    }\n\n    /**\n     * 선택영역 컴포넌트 그리기 \n     */\n    renderPointers () {\n\n        if (!this.groupItem) return;\n\n        const verties = (this.state.dragging) ? this.groupItem.verties : this.$selection.verties;\n        const selectionVerties = this.groupItem.selectionVerties();\n\n        if (verties.length === 0) return;\n\n        this.state.renderPointerList = [\n            this.$viewport.applyVerties(verties),\n            this.$viewport.applyVerties(selectionVerties),\n        ]\n\n        const {line, point, size, elementLine} = this.createRenderPointers(this.state.renderPointerList[0], this.state.renderPointerList[1]);\n\n        this.refs.$pointerRect.updateDiff(line + elementLine + point + size)\n    }\n\n\n    createPointer (pointer, number, rotate) {\n        return /*html*/`\n        <div    \n            class='pointer' \n            data-number=\"${number}\" \n            data-pointer=\"${pointer}\" \n            style=\"transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px) rotateZ(${rotate || '0deg'})\" \n        ></div>\n        `\n    }\n\n\n    createPointerSide (pointer, number, rotate, width, height) {\n        return /*html*/`\n        <div class='pointer' data-number=\"${number}\" data-pointer=\"${pointer}\" style=\"width: ${width}px; height: ${height}px;transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px) rotateZ(${rotate||'0deg'})\" ></div>\n        `\n    }    \n\n    createRotatePointer (pointer, number, direction = 'center center') {\n\n        if (pointer.length === 0) return '';        \n\n        if (number < 4) {\n            return /*html*/`\n            <div class='rotate-pointer no-fill' data-number=\"${number}\" style=\"transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px) scale(1.8);\" ></div>\n            `            \n        }        \n\n        return /*html*/`\n        <div class='rotate-pointer' data-number=\"${number}\" style=\"transform: translate3d( calc(${pointer[0]}px - 50%), calc(${pointer[1]}px - 50%), 0px)\" ></div>\n        `\n    }    \n\n    createPointerRect (pointers, rotatePointer) {\n        if (pointers.length === 0) return '';\n\n        const centerPointer = vec3.lerp([], pointers[0], pointers[1], 0.5);            \n        const line = `\n            M ${centerPointer[0]},${centerPointer[1]} \n            L ${rotatePointer[0]}, ${rotatePointer[1]} \n        `\n\n        return /*html*/`\n        <svg class='line' overflow=\"visible\">\n            <path \n                d=\"\n                    M ${pointers[0][0]}, ${pointers[0][1]} \n                    L ${pointers[1][0]}, ${pointers[1][1]} \n                    L ${pointers[2][0]}, ${pointers[2][1]} \n                    L ${pointers[3][0]}, ${pointers[3][1]} \n                    L ${pointers[0][0]}, ${pointers[0][1]}\n                    ${line}\n                    Z\n                \" />\n        </svg>`        \n    }    \n\n    /**\n     * 연결된 path 를 그리기 위한 함수 \n     * \n     * @param {vec3[]} pointers \n     * @returns \n     */\n    createLine (pointers) {\n        return /*html*/`\n            M ${pointers[0][0]}, ${pointers[0][1]} \n            L ${pointers[1][0]}, ${pointers[1][1]} \n            L ${pointers[2][0]}, ${pointers[2][1]} \n            L ${pointers[3][0]}, ${pointers[3][1]} \n            L ${pointers[0][0]}, ${pointers[0][1]}\n            Z\n        `        \n    }\n\n\n    createSize (pointers) {\n        const top = vec3.lerp([], pointers[0], pointers[1], 0.5);\n        const right = vec3.lerp([], pointers[1], pointers[2], 0.5);\n        const bottom = vec3.lerp([], pointers[2], pointers[3], 0.5);\n        const left = vec3.lerp([], pointers[3], pointers[0], 0.5);\n\n        const list = [\n            { start: top, end: bottom}, \n            { start: right, end: left },\n            { start: bottom, end: top }, \n            { start: left, end: right }\n        ].map((it, index) => { \n            return { index, data: it }\n        })\n\n        list.sort((a, b) => {\n            return a.data.start[1] > b.data.start[1] ? -1 : 1; \n        })\n\n        const item = list[0];\n\n        const newPointer  = vec3.lerp([], item.data.end, item.data.start, 1 + 16/vec3.dist(item.data.start, item.data.end))\n        const width = this.groupItem.width.value\n        const height = this.groupItem.height.value\n        const diff = vec3.subtract([], item.data.start, item.data.end);\n        const angle = calculateAngle360(diff[0], diff[1]) + 90;\n\n        let text = `${round(width, 100)} x ${round(height, 100)}`;\n\n        if (this.state.isRotate) {\n            const rotateZ = Transform.get(this.groupItem.transform, 'rotateZ')\n\n            if (rotateZ) {\n                text = `${rotateZ[0].value}°`\n            }\n        }\n\n        return /*html*/`\n            <div \n                class='size-pointer' \n                style=\"transform: translate3d( calc(${newPointer[0]}px - 50%), calc(${newPointer[1]}px - 50%), 0px) rotateZ(${angle}deg)\" >\n               ${text}\n            </div>\n        `\n    }    \n\n    createRenderPointers(pointers, selectionPointers) {\n        const isPointerMove = this.$editor.isPointerMove;\n        const diff = vec3.subtract(\n            [], \n            vec3.lerp([], pointers[0], pointers[1], 0.5), \n            vec3.lerp([], pointers[0], pointers[2], 0.5), \n        );\n\n        //TODO: 여기서는 법선벡터를 구하게 되면 식이 훨씬 간단해진다. \n        const rotate = Length.deg(calculateAngle360(diff[0], diff[1]) - 90).round(1000);\n\n        const rotatePointer = getRotatePointer(pointers, 30)\n        const dist = vec3.dist(pointers[0], pointers[2]);   \n        const width = vec3.dist(pointers[0], pointers[1]);   \n        const height = vec3.dist(pointers[0], pointers[3]);   \n\n        return {\n            line: this.createPointerRect(pointers, rotatePointer), \n            elementLine: `\n                <svg class='line' overflow=\"visible\">\n                    <path \n                        d=\"${this.$selection.items.map((it, index) => {\n                                return this.createLine(this.$viewport.applyVerties(it.originVerties));\n                            }).join(\"\")}\n                        \" />\n                </svg>\n            `,\n            size: this.createSize(pointers),\n            point: [\n                // 모서리 영역은 사용하지 않음 , 클릭하는 시점에 다른 도구가 selection 되지 않는 문제가 있어서 \n                // 추후 UI 를 다르게 만들어야할 듯 \n                // 4모서리에서도 rotate 할 수 있도록 맞춤 \n                // this.createRotatePointer (selectionPointers[0], 0, 'bottom right'),\n                // this.createRotatePointer (selectionPointers[1], 1, 'bottom left'),\n                // this.createRotatePointer (selectionPointers[2], 2, 'top left'),\n                // this.createRotatePointer (selectionPointers[3], 3, 'top right'),\n                this.createRotatePointer (rotatePointer, 4, 'center center'),                \n                \n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[0], pointers[1], 0.5), 11, rotate, width, 5),\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[1], pointers[2], 0.5), 12, rotate, 5, height),\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[2], pointers[3], 0.5), 13, rotate, width, 5),\n                dist < 20 ? undefined : this.createPointerSide (vec3.lerp([], pointers[3], pointers[0], 0.5), 14, rotate, 5, height),\n\n                this.createPointer (pointers[0], 1, rotate),\n                this.createPointer (pointers[1], 2, rotate),\n                this.createPointer (pointers[2], 3, rotate),\n                this.createPointer (pointers[3], 4, rotate),                \n            ].join('')\n        }\n    }\n\n\n\n    checkShow() {\n        if (this.$selection.isMany) {\n            if (this.$selection.hasChangedField('x', 'y', 'width', 'height', 'transform', 'transform-origin', 'perspective', 'perspective-origin')) {            \n                return true; \n            }\n        }\n\n        return false; \n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView') + IF('checkShow')] () {\n        this.renderPointers()\n    }\n\n    [SUBSCRIBE('hideSelectionToolView')] () {\n        this.$el.hide();\n    }\n} ","\nimport { BIND, CONFIG, DRAGOVER, DROP, IF, normalizeWheelEvent, POINTERSTART, PREVENT, SUBSCRIBE, WHEEL } from \"el/sapa/Event\";\nimport { vec3 } from \"gl-matrix\";\nimport { KEY_CODE } from \"el/editor/types/key\";\nimport Resource from \"el/editor/util/Resource\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport HTMLRenderView from \"./render-view/html-render-view/HTMLRenderView\";\nimport PageTools from \"./render-view/util-panels/PageTools\";\n\nimport LayerAppendView from \"./render-view/draw-panels/LayerAppendView\";\nimport PathDrawView from \"./render-view/draw-panels/PathDrawView\";\nimport PathEditorView from \"./render-view/draw-panels/PathEditorView\";\nimport HoverView from \"./render-view/draw-panels/HoverView\";\nimport GuideLineView from \"./render-view/draw-panels/GuideLineView\";\nimport SelectionInfoView from \"./render-view/draw-panels/SelectionInfoView\";\nimport GridLayoutLineView from \"./render-view/draw-panels/GridLayoutLineView\";\nimport DragAreaView from \"./render-view/draw-panels/DragAreaView\";\nimport DragAreaRectView from \"./render-view/draw-panels/DragAreaRectView\";\nimport SelectionToolView from \"./render-view/draw-panels/SelectionToolView\";\nimport GroupSelectionToolView from \"./render-view/draw-panels/GroupSelectionToolView\";\n\n\nimport './CanvasView.scss';\n\n\nexport default class CanvasView extends EditorElement {\n\n  components() {\n    return {\n      SelectionToolView,\n      GroupSelectionToolView,\n      PageTools,\n      GridLayoutLineView,\n      DragAreaRectView,\n      HTMLRenderView,\n      SelectionInfoView,\n      LayerAppendView,\n      PathEditorView,\n      PathDrawView,\n      HoverView,\n      GuideLineView,\n      DragAreaView\n    }\n  }\n\n  initState() {\n    return {\n      cursor: 'auto',\n      cursorArgs: []\n    }\n  }\n\n  afterRender() {\n    this.nextTick(() => {\n      this.trigger('resizeCanvas');\n      this.emit('moveSelectionToCenter', false);\n      this.refreshCursor();\n    })\n  }\n  template() {\n    return/*html*/`\n      <div class='elf--page-container' tabIndex=\"-1\" ref='$container'>\n        <div class='page-view' ref=\"$pageView\">\n          <div class='page-lock scrollbar' ref='$lock'>            \n\n            <!-- 선택 영역 이벤트 설정  -->\n            <object refClass=\"DragAreaView\" ref=\"$dragAreaView\" />               \n\n            <!-- HTML 렌더링 영역  --> \n            <object refClass='HTMLRenderView' ref='$elementView' />                                        \n\n            <!--  One Selection Tool --> \n            <object refClass='SelectionToolView' ref='$selectionTool' />\n\n            <!-- Group Selection Tool --> \n            <object refClass='GroupSelectionToolView' ref='$groupSelectionTool' />\n\n            <!-- 드래그 영역 그려주는 뷰 --> \n            <object refClass=\"DragAreaRectView\" ref=\"$dragAreaRectView\" />                  \n\n            <!-- Grid Layout 에서 사용되는 영역 그려주는 뷰 --> \n            <object refClass='GridLayoutLineView' ref='$gridLayoutLineView' />            \n\n            <!-- ArtBoard 의 title 부분 그려주는 뷰  -->\n            <object refClass='SelectionInfoView' ref='$selectionInfoView' />                                                            \n\n            <!-- 스마트 가이드 라인 그려주는 뷰  -->\n            <object refClass='GuideLineView' ref='$guideLineView' />            \n\n            <!-- Hover 된 레이어 영역을 그려주는 뷰 -->\n            <object refClass='HoverView' ref='$hoverView' />     \n\n            <!-- 레이어를 추가 하기 위해서 드래그 하는 영역 뷰 -->\n            <object refClass='LayerAppendView' ref='$objectAddView' />       \n\n            <!-- 패스 편집 에디터 뷰  -->\n            <object refClass='PathEditorView' ref='$pathEditorView' />                 \n\n            <!-- 패스 드로잉 에디터 뷰 -->\n            <object refClass='PathDrawView' ref='$pathDrawView' />            \n\n            <!-- 캔버스 영역에 그리기 도와주는 뷰 -->\n            ${this.$injectManager.generate('canvas.view')}              \n\n          </div>\n        </div>\n        <object refClass='PageTools' />\n      </div>\n    `;\n  }\n\n  [BIND('$pageView')]() {\n    return {\n      style: {\n        '--elf--canvas-background-color': this.$config.get('style.canvas.background.color')\n      }\n    }\n  }\n\n\n  /**\n   * @debug \n   */\n  makeViewportConsole() {\n\n    if (!this.$viewport.verties) return '';\n    const mouse = this.$viewport.pos;\n\n    return /*html*/`\n      <div style='background-color: rgba(0, 0, 0, 0.5); color: white;position:absolute;left:0px;top:0px;bottom:0px;right:0px;pointer-events:none;'>\n        <div style='position:absolute;width:1px;height:100%;top:0px;left:50%;transform:translateX(-50%);background-color:black;'></div>  \n        <div style='position:absolute;height:1px;width:100%;top:50%;transform:translateY(-50%);background-color:black;'></div>                \n        <div style='position:absolute;display:inline-block;left:0px;top:50%;transform:translateY(-50%);'>${Math.floor(this.$viewport.minX)}</div>\n        <div style='position:absolute;display:inline-block;right:0px;top:50%;transform:translateY(-50%);'>${Math.floor(this.$viewport.maxX)}</div>\n        <div style='position:absolute;display:inline-block;left:50%;top:0px;transform:translateX(-50%)'>${Math.floor(this.$viewport.minY)}</div>\n        <div style='position:absolute;display:inline-block;left:50%;bottom:0px;transform:translateX(-50%)'>${Math.floor(this.$viewport.maxY)}</div>\n        <div style='position:absolute;top:50%;left:50%;display:inline-block;'>${this.$viewport.transformOrigin.map(it => Math.floor(it)).join(', ')}</div>\n        <div style='position:absolute;left:${mouse[0]}%;top:${mouse[1]}%;display:inline-block;'>\n          mouse: ${this.$viewport.mouse.map(it => Math.floor(it)).join(', ')} <br />\n          translate: ${this.$viewport.translate.join(', ')} <br />          \n          zoom : ${this.$viewport.zoomFactor} <br />\n        </div>                  \n\n      </div>\n    `\n  }\n\n  // space 키가 눌러져 있을 때만 실행한다. \n  checkSpace(e) {\n    // hand 툴이 on 되어 있으면 항상 드래그 모드가 된다. \n    if (this.$config.get('set.tool.hand')) {\n      return true;\n    }\n\n    return this.$keyboardManager.check(this.$shortcuts.getGeneratedKeyCode(KEY_CODE.space))\n  }\n\n  [POINTERSTART('$lock') + IF('checkSpace') + MOVE('movePan') + END('moveEndPan')](e) {\n    this.startMovePan();\n  }\n\n  [CONFIG('set.tool.hand')](value) {\n    if (value) {\n      this.startMovePan();\n\n      this.emit('refreshCursor', 'grab');\n    } else {\n      this.emit('recoverCursor', 'auto')\n      this.emit('addStatusBarMessage', '');\n    }\n\n\n  }\n\n  startMovePan() {\n    this.lastDist = vec3.create()\n    this.emit('addStatusBarMessage', this.$i18n('viewport.panning.enable'));\n  }\n\n  movePan(dx, dy) {\n    this.emit('refreshCursor', 'grabbing');\n    const currentDist = vec3.fromValues(dx, dy, 0);\n    this.$viewport.pan(...vec3.transformMat4(\n      [],\n      vec3.subtract([], this.lastDist, currentDist),\n      this.$viewport.scaleMatrixInverse\n    ))\n    this.lastDist = currentDist\n  }\n\n  refreshCursor() {\n    if (this.$config.get('set.tool.hand') === false) {\n      this.emit('refreshCursor', 'auto');\n      this.emit('addStatusBarMessage', '');\n    } else {\n      this.emit('refreshCursor', 'grab');\n    }\n  }\n\n  moveEndPan() {\n    this.refreshCursor();\n\n  }\n\n  async [BIND('$container')]() {\n    const cursor = await this.$editor.cursorManager.load(this.state.cursor, ...(this.state.cursorArgs || []))\n    return {\n      style: {\n        cursor\n      }\n    }\n  }\n\n\n  [DRAGOVER('$lock') + PREVENT]() { }\n  [DROP('$lock') + PREVENT](e) {\n    const newCenter = this.$viewport.getWorldPosition(e);\n\n    if (e.dataTransfer.getData('text/asset')) {\n\n      this.emit('drop.asset', {\n        asset: { id: e.dataTransfer.getData('text/asset'), center: newCenter }\n      })\n\n    } else {\n      const files = Resource.getAllDropItems(e)\n      const id = Dom.create(e.target).attr('data-id');\n\n      if (id) {\n        this.emit('drop.asset', {\n          gradient: e.dataTransfer.getData('text/gradient'),\n          pattern: e.dataTransfer.getData('text/pattern'),\n          color: e.dataTransfer.getData('text/color'),\n          imageUrl: e.dataTransfer.getData('image/info'),\n        }, id)\n      } else {\n        const imageUrl = e.dataTransfer.getData('image/info')\n        this.emit('dropImageUrl', imageUrl)\n      }\n    }\n\n  }\n\n  /**\n   * wheel 은 제어 할 수 있다. \n   *  내 위치를 나타낼려면 wheel 로 제어해야한다. \n   * transform-origin 을 현재 보고 있는 시점의 좌표로 맞출 수 있어야 한다. \n   * 그런 다음 scale 을 한다. \n   * // 내 마우스 위치를 \n   * \n   * @param {*} e \n   */\n  [WHEEL('$lock') + PREVENT](e) {\n\n    const [dx, dy] = normalizeWheelEvent(e);\n\n    if (!this.state.gesture) {\n\n      if (e.ctrlKey) {\n\n        this.$viewport.setMousePoint(e.clientX, e.clientY)\n      }\n\n      this.emit('startGesture');\n      this.state.gesture = true;\n    } else {\n\n      if (e.ctrlKey) {\n\n        const zoomFactor = 1 - (2.5 * dy) / 100;\n\n        this.$viewport.zoom(zoomFactor);\n\n      } else {\n\n        const newDx = - 2.5 * dx;\n        const newDy = - 2.5 * dy;\n\n        this.$viewport.pan(-newDx / this.$viewport.scale, -newDy / this.$viewport.scale, 0);\n      }\n    }\n\n    clearTimeout(this.state.timer);\n    this.state.timer = setTimeout(() => {\n      this.state.gesture = undefined;\n      this.emit('endGesture');\n    }, 200)\n  }\n\n  refreshCanvasSize() {\n    this.$viewport.refreshCanvasSize(this.refs.$lock.rect());\n  }\n\n  [SUBSCRIBE('resize.window', 'resizeCanvas')]() {\n    this.refreshCanvasSize();\n  }\n\n  [SUBSCRIBE('changeIconView')](cursor, ...args) {\n\n    if (`${this.state.cursor} ${this.state.cursorArgs}` === `${cursor} ${args}`) {\n      return;\n    }\n\n    this.state.cursor = cursor;\n    this.state.cursorArgs = args;\n    this.bindData('$container')\n  }\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport { CLICK, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './DrawManager.scss';\nimport { variable } from \"el/sapa/functions/registElement\";\n\nexport default class DrawManager extends EditorElement {\n\n  initState() {\n      return {\n          tolerance: 1,\n          stroke: 'black',\n          'stroke-width': 2,\n          'stroke-linecap': 'round',\n          'stroke-linejoin': 'round',\n          msg: this.$i18n('path.manager.msg')\n      }\n  }\n\n\n  [SUBSCRIBE('refreshSelection')]() {\n\n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$stroke.setValue(current['stroke'] || 'rgba(0, 0, 0, 1)')\n      this.children.$strokeWidth.setValue(current['stroke-width'] || Length.number(1))\n    }\n\n  }  \n\n  [SUBSCRIBE('setColorAsset')] ({ color }) {\n\n    if (this.$el.isShow()) {\n      this.setState({\n        stroke: color\n      }, false)\n      this.children.$stroke.setValue(color);\n      this.updateData({\n        stroke: color\n      })    \n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class='elf--draw-manager'>\n        <div class=\"tools left\" ref=\"$left\">\n            <button type=\"button\" class=\"primary\" data-value='DrawEditorDone' title='${this.$i18n('draw.manager.mode.modify')}' >Done</button>\n        </div>      \n        <div class='tools'>   \n          <div >        \n            <label data-tooltip=\"${this.$i18n('draw.manager.tolerance')}\">T</label>            \n            <object refClass=\"NumberInputEditor\"  \n              ref='$tolerance' \n              key='tolerance' \n              value=\"1\" \n              min=\"0\"\n              max=\"100\"\n              step=\"0.01\"\n              unit=\"number\" \n              onchange=\"changeValue\" \n            />\n          </div>              \n          <div >\n            <label>${this.$i18n('svg.item.property.stroke')}</label>          \n            <object refClass=\"FillSingleEditor\" \n              ref='$stroke' \n              simple=\"true\" \n              value=\"${this.state.stroke}\" \n              key='stroke' \n              onchange=\"changeValue\" \n            />\n          </div>\n\n          <div >\n            <label>${this.$i18n('svg.item.property.strokeWidth')}</label>          \n            <object refClass=\"NumberInputEditor\"  \n              ref='$strokeWidth' \n              key=\"stroke-width\" \n              value=\"${this.state['stroke-width']}\"              \n              onchange=\"changeValue\" />\n          </div>      \n          \n\n          <div>\n            <label data-tooltip=\"${this.$i18n('svg.item.property.lineCap')}\">Cap</label>          \n            <object refClass=\"SelectEditor\" \n              ref='$strokeLineCap' \n              key=\"stroke-linecap\" \n              value=\"${this.state['stroke-linecap']}\"                   \n              options=${variable([\"butt\",\"round\",\"square\"])} \n              onchange=\"changeValue\" \n            />\n          </div> \n          <div>\n            <label data-tooltip=\"${this.$i18n('svg.item.property.lineJoin')}\">Join</label>          \n            <object refClass=\"SelectEditor\"  \n              ref='$strokeLineJoin' \n              key=\"stroke-linejoin\" \n              value=\"${this.state['stroke-linejoin']}\"                                 \n              options=${variable([\"miter\",\"bevel\",\"round\" ])}\n              onchange=\"changeValue\" \n            />\n          </div>\n        </div>\n      </div>    \n    `;\n  }\n\n  [SUBSCRIBE_SELF('changeValue')] (key, value, params) {\n    this.updateData({\n      [key]: value\n    })\n  }  \n\n  updateData(obj = {}) {\n    this.setState(obj, false)\n    this.state.instance.trigger(this.state.changeEvent, obj);\n  }\n\n  [SUBSCRIBE('changePathManager')] (mode) {\n    this.setState({ mode })\n  }\n\n  [SUBSCRIBE('showDrawManager')] (obj = {}) {\n      obj.changeEvent = obj.changeEvent || 'changeDrawManager';\n      this.setState(obj)\n      this.$el.show();\n\n      this.emit('addStatusBarMessage', this.state.msg)\n      this.emit('hidePathManager');\n  }\n\n  [SUBSCRIBE('hideDrawManager')] () {\n      this.$el.hide();\n  }\n\n\n  [CLICK('$left button')] (e) {\n    var message = e.$dt.attr('data-value');\n\n    this.emit(message);  \n  }    \n\n}","\nimport { CLICK, BIND, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './PathManager.scss';\n\nconst MODES = {\n  'segment-move': 'modify',\n  'modify': 'modify',\n  'path': 'path',\n  'transform': \"transform\",\n  'warp': 'warp'\n\n} \n\n\nexport default class PathManager extends EditorElement {\n\n  initState() {\n      return {\n          mode: 'move',\n          fill: null,\n          stroke: null,\n          'fill-opacity': null,\n          'stroke-width': null,\n          msg: this.$i18n('path.manager.msg')\n      }\n  }\n\n  template() {\n    return /*html*/`\n      <div class='elf--path-manager'>\n        <div class=\"tools left\" ref=\"$left\">\n            <button type=\"button\" class=\"primary\" data-value='PathEditorDone' title='${this.$i18n('path.manager.mode.modify')}' >Done</button>\n        </div>\n        <div class='tools' ref='$mode' data-selected-value='${this.state.mode}'>\n            <button type=\"button\" data-value='modify' data-tooltip='${this.$i18n('path.manager.mode.modify')}' > ${iconUse(\"device_hub\")}</button>\n            <button type=\"button\" data-value='path' data-tooltip='${this.$i18n('path.manager.mode.path')}' > ${iconUse(\"control_point\")}</button>\n            <button type=\"button\" data-value='transform' data-tooltip='${this.$i18n('path.manager.mode.transform')}' > ${iconUse(\"transform\")}</button>             \n        </div>\n        <div class=\"split\"></div>        \n        <div class='tools' ref='$util'>\n            <button type=\"button\" data-value='reverse' data-tooltip='${this.$i18n('path.manager.mode.reverse')}' >${iconUse(\"sync\")}</button>\n        </div>                        \n        <div class='tools' ref='$flip'>\n            <button type=\"button\" data-value='flipX' data-tooltip='${this.$i18n('path.manager.mode.flipX')}'>${iconUse(\"flip\")}</button>\n            <button type=\"button\" data-value='flipY' data-tooltip='${this.$i18n('path.manager.mode.flipY')}'>${iconUse(\"flip\", \"rotate(90 12 12)\")}</button>\n            <button type=\"button\" data-value='flip' data-tooltip='${this.$i18n('path.manager.mode.flipOrigin')}'>${iconUse(\"flip\", \"rotate(45 12 12)\")}</button>\n            <div class=\"split\"></div>            \n            <button type=\"button\" data-value='2x' data-tooltip=\"divide segment by 2 times\">2x</button>\n            <button type=\"button\" data-value='3x' data-tooltip=\"divide segment by 3 times\">3x</button>            \n        </div>\n      </div>    \n    `;\n  }\n\n  [BIND('$mode')] () {\n    return {\n      'data-selected-value' : MODES[this.state.mode]\n    }\n  }\n\n  refresh() {\n    this.bindData('$mode')\n  }\n\n  [CLICK('$flip button')] (e) {\n    var transformType = e.$dt.attr('data-value');\n\n    if (transformType === '2x') {\n      this.emit('divideSegmentsByCount', 2);  \n    } else if (transformType === '3x') {\n        this.emit('divideSegmentsByCount', 3);        \n    } else {\n      this.emit('changePathTransform', transformType);    \n    }\n  }\n\n  [CLICK('$util button')] (e) {\n    var utilType = e.$dt.attr('data-value');\n\n    this.emit('changePathUtil', utilType);    \n  }  \n\n  [CLICK('$mode button')] (e) {\n    var mode = e.$dt.attr('data-value');\n\n    this.updateData({\n        mode \n    })\n\n    this.refresh();\n  }\n\n  [CLICK('$left button')] (e) {\n    var message = e.$dt.attr('data-value');\n\n    this.emit(message);  \n  }  \n\n  updateData(obj = {}) {\n\n    this.setState(obj, false)\n    this.emit(this.state.changeEvent, obj);\n  }\n\n  [SUBSCRIBE('changePathManager')] (mode) {\n    this.setState({ mode })\n  }\n\n  [SUBSCRIBE('showPathManager')] (obj = {}) {\n      obj.changeEvent = obj.changeEvent || 'changePathManager';\n      this.setState(obj)\n      this.$el.show();\n\n      this.emit('addStatusBarMessage', this.state.msg)\n  }\n\n  [SUBSCRIBE('hidePathManager')] () {\n      this.$el.hide();       \n  }\n\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport DrawManager from \"./page-sub-editor/DrawManager\";\nimport PathManager from \"./page-sub-editor/PathManager\";\n\nimport './PageSubEditor.scss';\n\n\nexport default class PageSubEditor extends EditorElement {\n\n  components() {\n    return {\n      PathManager,\n      DrawManager\n    }\n  }\n\n  template() {\n    return/*html*/`\n      <div class='elf--page-subeditor'>\n        <object refClass='PathManager' />\n        <object refClass='DrawManager' />\n      </div>\n    `;\n  }\n}\n","import { BIND, CONFIG, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport HorizontalRuler from \"./body-panel/HorizontalRuler\";\nimport VerticalRuler from \"./body-panel/VerticalRuler\";\nimport CanvasView from \"./body-panel/CanvasView\";\n\nimport './BodyPanel.scss';\nimport PageSubEditor from './body-panel/PageSubEditor';\n\nexport default class BodyPanel extends EditorElement {\n\n  components() {\n    return {\n      CanvasView,\n      VerticalRuler,\n      HorizontalRuler,\n      PageSubEditor\n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class=\"elf--body-panel\">\n        <div class=\"submenu-area\">\n          <object refClass=\"PageSubEditor\" />\n        </div>\n        <div class='editing-area'>\n          <object refClass='HorizontalRuler' />\n          <object refClass='VerticalRuler' />\n          <object refClass='CanvasView' />        \n        </div>\n      </div>\n    `;\n  }\n\n  [BIND('$el')] () { \n    return {\n        class: `elf--body-panel ${this.$config.get('show.ruler') ? 'ruler' : ''}`\n    }\n  }  \n\n  [CONFIG('show.ruler')] () {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('bodypanel.toggle.fullscreen')] () {\n    this.refs.$el.toggleFullscreen();\n  }\n}","\nimport { CLICK } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { EditorElement } from \"../common/EditorElement\";\n\nimport './BaseWindow.scss';\n\nexport default class BaseWindow extends EditorElement {\n\n  template() {\n    return /*html*/`\n      <div class='elf--window-background'>\n        <div class='window ${this.getClassName()}'>\n            <div class='window-title' ref=\"$title\">\n                <label>${this.getTitle()}</label>\n                <span class=\"tools\">\n                  ${this.getTools()}\n                  <button type='button' class='close' ref='$close'>${iconUse(\"close\")}</button>\n                </span>\n            </div>\n            <div class='window-body'>${this.getBody()}</div>\n        </div>\n      </div>\n        `;\n  }\n\n  getClassName() {\n    return '';\n  }\n  getTitle() {\n    return '';\n  }\n  getTools() {\n    return '';\n  }\n  getBody() {\n    return '';\n  }\n\n  [CLICK('$close')] () {\n    this.$el.hide();\n  }\n\n\n  show (width = 200) {\n    this.$el.show(\"block\");\n  }\n\n  hide () {\n    this.$el.hide();\n  }\n}\n","import BaseWindow from \"./BaseWindow\";\n\nimport { CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { registElement } from \"el/sapa/functions/registElement\";\n\nimport './ExportWindow.scss';\n\nexport default class ExportWindow extends BaseWindow {\n\n    getClassName() {\n        return 'elf--export-window'\n    }\n\n    getTitle() {\n        return 'Export'\n    }\n\n    initState() {\n        return {\n            selectedIndex: 1\n        }\n    }\n\n    getBody() {\n        return /*html*/`\n        <div class=\"tab\" ref=\"$tab\">\n            <div class=\"tab-header full\" ref=\"$header\">\n                <div class=\"tab-item selected\" data-value=\"1\">\n                    <label>HTML</label>\n                </div>\n                <div class=\"tab-item\" data-value=\"2\">\n                    <label>CSS</label>\n                </div>                \n                <div class=\"tab-item\" data-value=\"6\">\n                    <label>SVG Image</label>\n                </div>     \n            </div>\n            <div class=\"tab-body\" ref=\"$body\">\n                <div class=\"tab-content selected\" data-value=\"1\" ref=\"$html\">\n                </div>\n                <div class='tab-content' data-value='2' ref=\"$css\">\n                </div>                        \n                <div class=\"tab-content\" data-value=\"6\" ref=\"$svgimage\">\n                </div>                                                                       \n            </div>\n      </div>\n        `\n    }\n\n    [SUBSCRIBE('showExportWindow')] () {\n        this.show();\n        this.refresh();\n    }\n\n    refresh() {\n        var project = this.$selection.currentProject || { layers : [] }\n\n        // css code\n        var css = `\n${this.makeStyle(project)}\n${project.layers.map(item => this.makeStyle(item)).join('\\n')}\n`\n\n        // html code \n        var html = `\n${this.$editor.html.renderSVG(project)}\n${this.$editor.html.render(project)}\n        `\n\n        // export svg image \n        var svgData = project.layers.map( item => {\n            return this.$editor.svg.render(item);\n        })\n\n        if (shiki) {\n            shiki\n            .getHighlighter({\n                theme: 'light-plus'\n            })\n            .then(highlighter => {\n\n                if (html_beautify) {\n                    html = html_beautify(html, {indent: 2})\n\n                    const changedHtml = highlighter.codeToHtml(html, 'html')\n                    this.refs.$html.html(changedHtml);      \n\n                    css = html_beautify(css, {indent: 2})\n\n                    const changedCss = highlighter.codeToHtml(css, 'html')\n                    this.refs.$css.html(changedCss);            \n                    \n                    svgData = html_beautify(svgData.join(\"\"), {indent: 2})\n\n                    const changedSvgData = highlighter.codeToHtml(svgData, 'html')\n                    this.refs.$svgimage.html(changedSvgData);            \n\n                }\n            })\n        }\n\n    }\n\n    makeStyle (item) {\n        return this.$editor.html.toExportStyle(item, null);\n    }\n\n    makeHTML (item) {\n        return this.$editor.html.render(item);\n    }\n\n\n    [CLICK(\"$header .tab-item\")](e) {\n\n        var selectedIndex = +e.$dt.attr('data-value')\n        if (this.state.selectedIndex === selectedIndex) {\n          return; \n        }\n    \n        this.$el.$$(`[data-value=\"${this.state.selectedIndex}\"]`).forEach(it => it.removeClass('selected'))\n        this.$el.$$(`[data-value=\"${selectedIndex}\"]`).forEach(it => it.addClass('selected'))\n        this.setState({ selectedIndex }, false);\n    } \n}\n\nregistElement({ ExportWindow })","import BaseWindow from \"./BaseWindow\";\nimport shortcuts from \"../../shortcuts\";\nimport { os } from \"el/utils/detect\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n\nimport './ShortcutWindow.scss';\n\nconst categories = new Set();\n\nshortcuts.forEach(it => {\n    categories.add(it.category)\n})\n\nconst keys = {}\n\ncategories.forEach(it => {\n    shortcuts.filter(item => item.category === it).forEach(item => {\n        if (!keys[item.category]) {\n            keys[item.category] = []\n        }\n\n        keys[item.category].push(item);\n    })  \n})\n\nconst keyAlias = {\n    'ARROWRIGHT': '→',\n    'ARROWLEFT': '←',\n    'ARROWUP': '↑',\n    'ARROWDOWN': '→',\n    'BACKSPACE': '⌫',\n    'CMD': '⌘',\n}\n\nconst OSName = os()\n\nexport default class ShortcutWindow extends BaseWindow {\n\n    getClassName() {\n        return 'elf--shortcut-window'\n    }\n\n    getTitle() {\n        return 'ShortCuts'\n    }\n\n    getKeyString (os, item) {\n        return (item[os] || item.key).split('+').map(it => it.trim()).map(it => {\n            const keyString = it.toUpperCase();\n            return /*html*/`<span>${keyAlias[keyString] || keyString}</span>`\n        }).join(' + ')\n    }\n\n    getTemplateForShortcutItem (item) {\n        return /*html*/`\n            <div class='shortcut-view-item'>\n                <div class='title'>${item.description}</div>\n                <div class='os-item'>${this.getKeyString(OSName, item)}</div>\n            </div>                        \n        `\n    }\n\n    getTemplateForCategory (category, list = []) {\n        return /*html*/`\n            <div class='item'>\n                <h2>${category}</h2>\n                <div>\n                    ${list.map(it => this.getTemplateForShortcutItem(it)).join('')}\n                </div>\n            </div>\n        `\n    }\n\n    getTemplateForLayer () {\n        return /*html*/`\n            <div class='item'>\n                <h2>Layer</h2>\n                <div>\n                    <div class='shortcut-view-item'>\n                        <div class='title'>\n                            Add Rect\n                            <span class='description'>fdsafdsfdf</span>\n                        </div>\n\n                        <div class='os-item mac'><span>CTRL</span>+<span>R</span></div>\n                        <div class='os-item win'>R</div>\n                        <div class='os-item linux'>R</div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n    getBody() {\n        return /*html*/`\n        <div class=\"list\">\n            ${Object.keys(keys).map(category => {\n                return this.getTemplateForCategory(category, keys[category])\n            }).join('')}\n        </div>\n        `\n    }\n\n    [SUBSCRIBE('showShortcutWindow')] () {\n        this.show();\n    }\n\n}\n\nregistElement({ ShortcutWindow })","import BaseWindow from \"./BaseWindow\";\n\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\n\nimport './ProjectWindow.scss';\n\nexport default class ProjectWindow extends BaseWindow {\n\n    getClassName() {\n        return 'elf--project-window'\n    }\n\n    getTitle() {\n        return 'Project Manager'\n    }\n\n    initState() {\n        return {\n            selectedIndex: 1\n        }\n    }\n\n    getBody() {\n        return /*html*/`\n        <div class=\"project-container\">\n            <div class=\"project-menu left\">\n                Project Menu\n            </div>\n            <div class=\"project-list right\">\n                Project List\n            </div>\n        </div>\n        `\n    }\n\n    [SUBSCRIBE('open.projects')] () {\n        this.show();\n        this.refresh();\n    }\n\n    refresh() {\n        var project = this.$selection.currentProject || { layers : [] }\n\n    }\n}\n\nregistElement({ ProjectWindow })","import Dom from \"./functions/Dom\";\nimport UIElement from \"./UIElement\";\n\n/**\n * UIElement 렌더링 하기 \n * \n * @param {UIElement} ElementClass\n * @returns {UIElement}\n */ \nexport const start = (ElementClass, opt) => {\n\n  const $container = Dom.create(opt.container || document.body);\n\n  const app = new ElementClass(opt, opt);\n\n  app.render($container);\n\n  return app; \n};","import BaseWindow from \"./BaseWindow\";\n\nimport { CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { registElement } from \"el/sapa/functions/registElement\";\n\nimport './ExportWindow.scss';\nimport { start } from \"el/sapa/App\";\nimport App from \"../../../../editor-layouts/designeditor\";\n\nexport default class EmbedEditorWindow extends BaseWindow {\n\n    getClassName() {\n        return 'elf--export-window'\n    }\n\n    getTitle() {\n        return 'Mini Editor'\n    }\n\n    initState() {\n        return {\n            selectedIndex: 1\n        }\n    }\n\n    refresh() {\n\n        if (this.$el.isShow()) {\n            App.createDesignEditor({\n                container: this.refs.$body.el,\n                config: {\n                    'editor.design.mode': 'item',\n                }\n            })\n        }\n    }\n\n    getBody() {\n        return /*html*/`\n        <div class=\"test\" ref=\"$body\">\n\n      </div>\n        `\n    }\n\n    [SUBSCRIBE('showEmbedEditorWindow')] () {\n        this.show();\n        this.refresh();\n    }\n\n}\n\nregistElement({ EmbedEditorWindow })","\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { TRANSITIONEND, CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"../common/EditorElement\";\n\nimport './NotificationView.scss'\n\nexport default class NotificationView extends EditorElement {\n\n    template() {\n        return /*html*/`\n            <div class='elf--notification-view'>\n            </div>\n        `\n    }\n\n    [TRANSITIONEND('$el')] (e) {\n        Dom.create(e.target).remove();\n    }\n\n    [CLICK('$el .item > .icon')] (e) {\n        e.$dt.parent().remove();\n    }\n\n    getMessageTemplate (type, title, description, duration = 1000) {\n        return /*html*/`\n        <div class='item ${type}' style='transition-duration: ${duration}ms;'>\n            <div class='title'>${title}</div> \n            <div class='description'>${description}</div>\n            <span class='icon'>${iconUse(\"close\")}</span>\n        </div>\n    `\n    }\n\n    [SUBSCRIBE('notify')] (type, title, description, duration = 1000) {\n        const $dom = Dom.createByHTML(this.getMessageTemplate(type, title, description, 1000))\n    \n        this.$el.prepend($dom)\n\n        setTimeout(($dom) => {\n            $dom.css('opacity', 0);\n        }, duration, $dom)\n\n    }\n}","import \"el/editor/ui/window-list\";\n\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport NotificationView from \"el/editor/ui/view/NotificationView\";\n\n\nexport default class PopupManager extends EditorElement {\n\n  components(){\n    return {\n      NotificationView\n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class=\"popup-manger\">\n        <object refClass='ExportWindow' />\n        <object refClass='EmbedEditorWindow' />\n        <object refClass='ProjectWindow' />\n        <object refClass='ShortcutWindow' />\n        <!-- LoginWindow / -->\n        <!-- SignWindow / -->\n        <!-- ImageFileView / -->\n        <object refClass='NotificationView' />\n        ${this.$injectManager.generate('popup')}\n      </div>\n    `;\n  }\n}","import Dom from \"el/sapa/functions/Dom\";\n\nimport { KEYDOWN, KEYUP, IF, PREVENT } from \"el/sapa/Event\";\n\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nconst formElements = ['TEXTAREA', 'INPUT', 'SELECT']\n\nexport default class KeyboardManager extends EditorElement {\n  template() {\n    return /*html*/`\n      <div class=\"keyboard-manager\"></div>\n    `;\n  }\n\n  isNotFormElement(e) {\n    var tagName = e.target.tagName;\n\n    if (formElements.includes(tagName)) return false; \n    else if (Dom.create(e.target).attr('contenteditable') === 'true') return false; \n\n    return true;\n  }  \n\n  [KEYDOWN('document') + IF('isNotFormElement')] (e) {\n    this.emit('keymap.keydown', e);\n  }\n\n  [KEYUP('document') + IF('isNotFormElement')] (e) {\n    this.emit('keymap.keyup', e);\n  }\n}","\nimport { EditorElement } from '../common/EditorElement';\n\nexport class TabPanel extends EditorElement {\n\n    initState() {\n  \n      const selected = this.props.selected === 'true' ? true : false;\n  \n      return {\n        value: this.props.value || '',\n      }\n    }\n  \n    template() {\n      const {content} = this.props;\n      const {value} = this.state;\n      return /*html*/`\n        <div class=\"tab-content scrollbar\" data-value=\"${value}\">\n          ${content}\n        </div>\n      `\n    }\n  }\n  \n  ","import { CLICK, LOAD } from 'el/sapa/Event';\nimport { EditorElement } from '../common/EditorElement';\nimport { TabPanel } from './TabPanel';\n\nimport './Tabs.scss';\n\nexport class Tabs extends EditorElement {\n    components() {\n      return {\n        TabPanel\n      }\n    }\n  \n    afterRender() {\n      setTimeout(() => {\n        this.setValue(this.state.selectedValue);\n      }, 0)\n  \n    }\n  \n    initState() {\n      return {\n        type: this.props.type || 'number',\n        selectedValue: this.props.selectedValue || '',\n      }\n    }\n  \n    template() {\n      return /*html*/`\n        <div class=\"tab\" ref=\"$tab\"></div>\n      `\n    }\n  \n    [LOAD('$tab')]() {\n      const { content } = this.props;\n      const contentChildren = this.parseContent(content)\n  \n      const children = contentChildren.filter(it => it.refClass === 'TabPanel');\n  \n      return /*html*/`\n        <div class=\"tab-header\" ref=\"$header\">\n          ${children.map(it => {\n            return /*html*/`\n              <div class=\"tab-item\" data-value=\"${it.props.value}\" title='${it.props.title}'>\n                <label class=\"title\">${it.props.title}</label>\n              </div>         \n            `\n          }).join('')}\n        </div>    \n  \n        <div class=\"tab-body\" ref=\"$body\">\n          ${content}\n        </div>\n      `\n    }\n  \n    [CLICK(\"$header .tab-item:not(.empty-item)\")](e) {\n  \n      var selectedValue = e.$dt.attr('data-value')\n  \n      this.setValue(selectedValue);\n    }\n\n    updateData(data) {\n      this.setState(data, false);\n      this.parent.trigger(this.props.onchange, this.getValue());\n    }\n\n    getValue() {\n      return this.state.selectedValue;\n    }\n  \n    setValue(selectedValue) {\n      this.$el.$(`* > .tab-item[data-value=\"${selectedValue}\"]`)?.onlyOneClass('selected');\n      this.$el.$(`* > .tab-content[data-value=\"${selectedValue}\"]`)?.onlyOneClass('selected');\n\n      this.updateData({ selectedValue })\n    }\n  \n  }","\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Tabs } from \"el/editor/ui/view/Tabs\";\nimport { BIND } from \"el/sapa/Event\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class Inspector extends EditorElement {\n\n  components() {\n    return {\n      Tabs\n    }\n  }\n\n\n  afterRender() {\n    this.$el.toggle(this.$config.get('editor.design.mode') === 'design');\n  }\n\n  [BIND('$el')] () {\n    return {\n      style: {\n        display: this.$config.get('editor.design.mode') === 'design' ? 'block' : 'none'\n      }\n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class=\"feature-control inspector\">\n        <div>\n          <object refClass=\"Tabs\" \n            ref=\"$tab\" \n            ${variable({\n              selectedValue: 'style',\n              onchange: (value) => {\n                this.$config.set(\"inspector.selectedValue\", value);\n              }\n            })}\n          >\n            <object refClass=\"TabPanel\" value=\"style\" title=\"${this.$i18n('inspector.tab.title.style')}\">\n              <object refClass=\"AlignmentProperty\" />            \n              <object refClass=\"DepthProperty\" />\n              <object refClass=\"PathToolProperty\" />              \n\n              <!-- Default Property --> \n              <object refClass=\"PositionProperty\" />\n              <object refClass=\"AppearanceProperty\" />                                   \n\n              ${this.$injectManager.generate('inspector.tab.style')}                             \n              <div class='empty'></div>\n            </object>\n\n            <object refClass=\"TabPanel\" value=\"transition\" title=\"${this.$i18n('inspector.tab.title.transition')}\">\n              ${this.$injectManager.generate('inspector.tab.transition')}              \n              <div class='empty'></div>                \n            </object>            \n\n            <object refClass=\"TabPanel\" value=\"code\" title=\"${this.$i18n('inspector.tab.title.code')}\">\n              ${this.$injectManager.generate('inspector.tab.code')}              \n              <div class='empty'></div>                \n            </object>    \n            \n            ${this.$injectManager.getTargetMenuItems('inspector.tab').map(it => {\n              const { value, title, loadElements } = it.class;\n\n              return /*html*/`\n                <object refClass=\"TabPanel\" value=\"${value}\" title=\"${title}\" icon=${variable(it.icon)}>\n                  ${loadElements.map(element => {\n                    return /*html*/`<object refClass=\"${element}\" />`\n                  })}\n                  ${this.$injectManager.generate('inspector.tab.' + it.value)}              \n                  <div class='empty'></div>                \n                </object> \n              `   \n            })}\n          </object>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n}","import { SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { variable } from \"el/sapa/functions/registElement\";\n\n\nexport default class LanguageSelector extends EditorElement {\n\n    get locales () {\n        return Object.keys(this.$editor.i18n.locales);\n    }\n\n    template () {\n\n        var languages = this.locales.map(lang => {\n            var label = this.$i18n(`app.lang.${lang}`)\n            return {text: label, value: lang}\n        });\n\n        return /*html*/`\n            <div class='status-selector'>\n                <label>${this.$i18n('app.label.lang')}</label>\n                <div class='item'>\n                    <object refClass=\"SelectEditor\"  \n                        ref='$locale' \n                        options=${variable(languages)}\n                        value=\"${this.$editor.locale}\" \n                        onchange=\"changeLocale\"\n                    /> \n                </div>\n            </div>\n        `\n\n    }\n\n    [SUBSCRIBE_SELF('changeLocale')] (key, locale) {\n        this.emit('setLocale', locale);\n    }\n}","import { SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { variable } from \"el/sapa/functions/registElement\";\n\nexport default class LayoutSelector extends EditorElement {\n\n    template () {\n\n        var layouts = ['all', 'css', 'svg'].map(layout => {\n            var label = this.$i18n(`app.layout.${layout}`)\n            return { value: layout, text: label }\n        });\n\n\n        return /*html*/`\n            <div class='status-selector'>\n                <label>${this.$i18n('app.label.layout')}</label>\n                <div class='item'>\n                    <object refClass=\"SelectEditor\"  \n                        ref='$locale' \n                        options=${variable(layouts)}\n                        value=\"${this.$editor.layout}\" \n                        onchange=\"changeEditorLayoutValue\"\n                    /> \n                </div>\n            </div>\n        `\n\n    }\n\n    [SUBSCRIBE_SELF('changeEditorLayoutValue')] (key, layout) {\n        this.$config.set('editor.layout.mode', layout);\n    }\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\"\n\nexport default class VersionView extends EditorElement {\n\n    initState() {\n        return {\n            version: `@@VERSION@@`\n        }\n    }\n\n    template () {\n        return `<div class=\"version-view\">v${this.state.version}</div>`\n    }\n}","import { CLICK } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './SwitchLeftPanel.scss';\n\nexport default class SwitchLeftPanel extends EditorElement {\n\n    template () {\n        return /*html*/`\n        <button class=\"elf--switch-left-panel\" data-tooltip=\"Toggle left panel\" data-direction=\"top left\">${iconUse(\"left_hide\")}</button>\n        `\n    }\n\n    [CLICK()] () {\n        this.$config.toggle('show.left.panel');\n    }\n}","import { CLICK } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './SwitchRightPanel.scss';\n\nexport default class SwitchRightPanel extends EditorElement {\n\n    template () {\n        return /*html*/`\n            <button class=\"elf--switch-right-panel\" data-tooltip=\"Toggle right panel\" data-direction=\"top right\">${iconUse(\"right_hide\")}</button>\n        `\n    }\n\n    [CLICK()] () {\n        this.$config.toggle('show.right.panel');\n    }\n}","\nimport { BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport LanguageSelector from \"./status-bar/LanguageSelector\";\nimport LayoutSelector from \"./status-bar/LayoutSelector\";\nimport VersionView from \"./status-bar/VersionView\";\nimport SwitchLeftPanel from \"./status-bar/SwitchLeftPanel\";\nimport SwitchRightPanel from \"./status-bar/SwitchRightPanel\";\n\nimport './StatusBar.scss';\n\n\nexport default class StatusBar extends EditorElement {\n\n    components() {\n        return {\n            LanguageSelector,\n            LayoutSelector,\n            VersionView,\n            SwitchLeftPanel,\n            SwitchRightPanel,\n        }\n    }\n    template() {\n        return /*html*/`\n            <div class='elf--status-bar'>\n                <div class='tool-view left' ref='$leftTool'>\n                    <object refClass=\"SwitchLeftPanel\" />\n                    ${this.$injectManager.generate('statusbar.left')}                    \n                </div>            \n                <div class='message-view' ref='$msg'></div>\n                <div class='tool-view' ref='$rightTool'>\n                    ${this.$injectManager.generate('statusbar.right')}\n                    <object refClass=\"LayoutSelector\" />\n                    <object refClass=\"LanguageSelector\" />\n                    <object refClass=\"VersionView\" />\n                    <object refClass=\"SwitchRightPanel\" />                    \n                </div>\n            </div>\n        `\n\n    }\n\n\n    initState() {\n        return {\n            msg: ''\n        }\n    }\n\n    [BIND('$msg')]() {\n        return {\n            text: this.state.msg\n        }\n    }\n\n    [SUBSCRIBE('addStatusBarMessage')](msg) {\n        this.setState({ msg })\n    }\n}","\nimport { CLICK } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"../common/EditorElement\";\n\n\nconst DEFAULT_TITLE = '';\nconst DEFAULT_ICON = '';\nconst DEFAULT_CHECKED = false;\n\nexport default class MenuItem extends EditorElement {\n    template() {\n        return /*html*/`\n        <button \n            type=\"button\" \n            class='elf--menu-item ${this.getClassName()}' \n            data-no-title=\"${this.isHideTitle()}\" \n            ${this.isHideTitle() ? `data-tooltip=\"${this.getTitle()}\"` : ''} \n            checked=\"${this.getChecked() ? 'checked' : ''}\"\n            ${this.isDisabled() ? 'disabled' : ''}\n            data-direction=\"${this.getDirection()}\"\n        >\n            <div class=\"icon ${this.getIcon()}\">${icon[this.getIconString()] || this.getIconString() || ''}</div>\n            <div class=\"title\">${this.getTitle()}</div>\n        </button>\n        `\n    }\n\n    getClassName() {\n        return \"\"\n    }\n\n    clickButton(e) { }\n\n    getChecked() {\n        return DEFAULT_CHECKED;\n    }\n\n    isDisabled() {\n        return false;\n    }\n\n    setSelected(isSelected) {\n        this.$el.toggleClass('selected', isSelected)\n    }\n\n    getTitle() {\n        return DEFAULT_TITLE;\n    }\n\n    getIcon() {\n        return DEFAULT_ICON;\n    }\n\n    getIconString() {\n        return DEFAULT_ICON;\n    }\n\n    isHideTitle() {\n        return false;\n    }\n\n    [CLICK()](e) {\n        this.clickButton(e);\n    }\n\n    getDirection() {\n        return this.props.direction || \"\";\n    }\n\n    static createMenuItem(opt = {}) {\n        return class extends MenuItem {\n            getIconString() {\n                return opt.iconString || 'add_box';\n            }\n\n            getTitle() {\n                return opt.title || \"New Item\";\n            }\n\n            isHideTitle() {\n                return opt.isHideTitle || true;\n            }\n\n            clickButton(e) {\n                opt.clickButton(e);\n            }\n\n            getDirection() {\n                return opt.direction;\n            }\n        }\n    }\n}","import MenuItem from \"./MenuItem\";\n\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n \nexport default class SelectTool extends MenuItem {\n\n  afterRender() {\n    this.$el.$('.icon').css('transform', 'rotate(-30deg)');\n  }\n\n  getIconString() {\n    return 'navigation';\n  }\n  \n  getTitle() {\n    return this.props.title || \"Select\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'select');\n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'select');\n  }\n\n  [SUBSCRIBE('refreshSelection')] () {\n    this.setSelected(this.$selection.isEmpty);\n  }  \n\n  isHideTitle() {\n    return true;\n  }\n}","import MenuItem from \"./MenuItem\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n \nexport default class AddArtboard extends MenuItem {\n  getIconString() {\n    return 'artboard';\n  }\n  getTitle() {\n    return this.props.title || \"ArtBoard\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'artboard');\n  }\n\n  isHideTitle() {\n    return true; \n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'artboard');\n  }  \n}\n\nregistElement({ AddArtboard })","import MenuItem from \"./MenuItem\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n \nexport default class AddRect extends MenuItem {\n  getIconString() {\n    return 'rect';\n  }\n  getTitle() {\n    return this.props.title || \"Rect\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'rect');\n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'rect');\n  }\n\n  isHideTitle() {\n    return true;\n  }\n}\n\nregistElement({ AddRect })","import MenuItem from \"./MenuItem\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n   \nexport default class AddCircle extends MenuItem {\n  getIconString() {\n    return 'lens'\n  }\n  getTitle() {\n    return this.props.title || \"Circle\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'circle');    \n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'circle');\n  }  \n\n  isHideTitle() {\n    return true;\n  }\n\n}\n\nregistElement({ AddCircle })","import MenuItem from \"./MenuItem\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n \nexport default class AddText extends MenuItem {\n  getIconString() {\n    return 'title';\n  }\n  getTitle() { \n    return this.props.title || \"Text\";\n  }\n\n  getClassName() {\n    return 'text'\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'text');\n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'text');\n  }    \n\n  isHideTitle() {\n    return true; \n  }\n\n}\n\nregistElement({ AddText })\n","import { registElement } from \"el/sapa/functions/registElement\";\nimport MenuItem from \"./MenuItem\";\n \nexport default class AddImage extends MenuItem {\n\n  getIconString() {\n    return 'photo';\n  }\n\n  getTitle() {\n    return this.props.title || \"Image\";\n  }\n\n  clickButton() {\n    this.emit('addLayerView', 'image');\n  }\n\n  isHideTitle() {\n    return true;\n  }\n\n}\n\nregistElement({ AddImage })","import { registElement } from \"el/sapa/functions/registElement\";\nimport MenuItem from \"./MenuItem\";\n \nexport default class AddDrawPath extends MenuItem {\n  getIconString() {\n    return 'draw';\n  }\n  getTitle() {\n    return this.props.title || \"Draw\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'brush')\n  }\n\n  isHideTitle() {\n     return true;\n  }\n\n}\n\nregistElement({ AddDrawPath })","import MenuItem from \"./MenuItem\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n \nexport default class AddPath extends MenuItem {\n  getIconString() {\n    return 'pentool';\n  }\n  getTitle() {\n    return this.props.title || \"Path\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'path')\n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'path');\n  }    \n\n  isHideTitle() {\n    return true;\n  }\n}\n\nregistElement({ AddPath })","import { registElement } from \"el/sapa/functions/registElement\";\nimport MenuItem from \"./MenuItem\";\n \nexport default class AddSVGRect extends MenuItem {\n  getIconString() {\n    return 'outline_rect';\n  }\n  getTitle() {\n    return this.props.title || \"RectPath\";\n  }\n \n\n  clickButton(e) {\n    this.emit('addLayerView', 'svg-rect');\n  }\n\n  isHideTitle() {\n    return true;\n  }\n\n}\n\nregistElement({ AddSVGRect })\n","import { registElement } from \"el/sapa/functions/registElement\";\nimport MenuItem from \"./MenuItem\";\n \nexport default class AddSVGCircle extends MenuItem {\n  getIconString() {\n    return 'outline_circle';\n  }\n  getTitle() {\n    return this.props.title || \"CirclePath\";\n  }\n \n\n  clickButton(e) {\n    this.emit('addLayerView', 'svg-circle');\n  }\n\n  isHideTitle() {\n    return true;\n  }\n\n}\n\n\nregistElement({ AddSVGCircle })","import MenuItem from \"./MenuItem\";\n \nexport default class AddSVGTextPath extends MenuItem {\n  getIconString() {\n    return 'text_rotate';\n  }\n  getTitle() {\n    return this.props.title || \"TextPath\";\n  }\n \n  clickButton(e) {\n    this.emit('addLayerView', 'svg-textpath');\n  }\n\n  isHideTitle() {\n    return true;\n  }\n\n}","import MenuItem from \"./MenuItem\";\n\nimport { registElement } from \"el/sapa/functions/registElement\";\nimport { SUBSCRIBE } from \"el/sapa/Event\";\n \nexport default class AddBlankRect extends MenuItem {\n  getIconString() {\n    return 'rect';\n  }\n  getTitle() {\n    return this.props.title || \"Rect\";\n  }\n\n  clickButton(e) {\n    this.emit('addLayerView', 'rect', {\n      'background-color': 'transparent'\n    });\n  }\n\n  [SUBSCRIBE('addLayerView')] (type) {\n    this.setSelected(type === 'rect');\n  }\n\n  isHideTitle() {\n    return true;\n  }\n}\n\nregistElement({ AddBlankRect })","import { registElement } from \"el/sapa/functions/registElement\";\nimport MenuItem from \"./MenuItem\";\n \nexport default class AddSVGPolygon extends MenuItem {\n  getIconString() {\n    return 'polygon';\n  }\n  getTitle() {\n    return this.props.title || \"Polygon\";\n  }\n \n\n  clickButton(e) {\n    this.emit('addLayerView', 'polygon', {\n      'background-color': 'transparent'\n    });\n  }\n\n  isHideTitle() {\n    return true;\n  }\n\n}\n\nregistElement({ AddSVGPolygon })\n","import { registElement } from \"el/sapa/functions/registElement\";\nimport MenuItem from \"./MenuItem\";\n \nexport default class AddSVGStar extends MenuItem {\n  getIconString() {\n    return 'star';\n  }\n  getTitle() {\n    return this.props.title || \"Star\";\n  }\n \n\n  clickButton(e) {\n    this.emit('addLayerView', 'star', {\n      'background-color': 'transparent'\n    });\n  }\n\n  isHideTitle() {\n    return true;\n  }\n\n}\n\nregistElement({ AddSVGStar })\n","import { registElement } from \"el/sapa/functions/registElement\";\nimport MenuItem from \"./MenuItem\";\n \nexport default class AddSpline extends MenuItem {\n  getIconString() {\n    return 'smooth';\n  }\n  getTitle() {\n    return this.props.title || \"Spline\";\n  }\n \n\n  clickButton(e) {\n    this.emit('addLayerView', 'spline', {\n      'background-color': 'transparent'\n    });\n  }\n\n  isHideTitle() {\n    return true;\n  }\n\n}\n\nregistElement({ AddSpline })\n","import { CLICK, CONFIG, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport SelectTool from \"el/editor/ui/menu-items/SelectTool\";\nimport AddArtboard from \"el/editor/ui/menu-items/AddArtboard\";\nimport AddRect from \"el/editor/ui/menu-items/AddRect\";\nimport AddCircle from \"el/editor/ui/menu-items/AddCircle\";\nimport AddText from \"el/editor/ui/menu-items/AddText\";\nimport AddImage from \"el/editor/ui/menu-items/AddImage\";\n// import AddVideo from \"el/editor/ui/menu-items/AddVideo\";\nimport AddDrawPath from \"el/editor/ui/menu-items/AddDrawPath\";\nimport AddPath from \"el/editor/ui/menu-items/AddPath\";\nimport AddSVGRect from \"el/editor/ui/menu-items/AddSVGRect\";\nimport AddSVGCircle from \"el/editor/ui/menu-items/AddSVGCircle\";\nimport AddSVGTextPath from \"el/editor/ui/menu-items/AddSVGTextPath\";\n\nimport './ToolMenu.scss'; \nimport AddBlankRect from \"el/editor/ui/menu-items/AddBlankRect\";\nimport AddSVGPolygon from 'el/editor/ui/menu-items/AddSVGPolygon';\nimport AddSVGStar from 'el/editor/ui/menu-items/AddSVGStar';\nimport AddSpline from \"el/editor/ui/menu-items/AddSpline\";\n\n \nexport default class ToolMenu extends EditorElement {\n\n\n  components() {\n    return {\n      SelectTool,\n      AddArtboard,\n      AddRect,\n      AddBlankRect,\n      AddCircle,\n      AddText,\n      AddImage,\n      // AddVideo,\n      AddDrawPath,\n      AddPath,\n      AddSVGRect,\n      AddSVGPolygon,\n      AddSVGStar,\n      AddSpline,\n      AddSVGCircle,\n      AddSVGTextPath,\n    }\n  }\n  \n\n  template() {\n    return /*html*/`\n      <div class='elf--tool-menu center'>\n        <div class='items'>\n          <div class='draw-items' ref='$items' data-selected-value=\"${this.$config.get('editor.layout.mode')}\">\n\n            <object refClass='SelectTool' />\n            <object refClass='AddArtboard' />            \n            <span data-item='css'>\n              <object refClass='AddRect' />            \n              <object refClass='AddCircle' />         \n              <object refClass='AddText' />\n              <object refClass='AddImage' />\n              <!--object refClass='AddVideo' /-->\n              ${this.$injectManager.generate('tool.menu.css')}\n            </span>            \n            <span data-item='svg'>\n              <div class='divider'></div>\n              <object refClass='AddBlankRect' />              \n              <object refClass='AddDrawPath' />\n              <object refClass='AddPath' />\n              <object refClass='AddSVGRect' />\n              <object refClass='AddSVGCircle' />            \n              <!-- <AddSVGText /> -->\n              <object refClass='AddSVGTextPath' />\n              <object refClass='AddSVGPolygon' />\n              <object refClass='AddSVGStar' />\n              <object refClass='AddSpline' />              \n              ${this.$injectManager.generate('tool.menu.svg')}              \n            </span>\n          </div>\n        </div>\n\n      </div>\n    `;\n  }\n\n  [CONFIG('editor.layout.mode')] () {\n    this.refs.$items.attr('data-selected-value', this.$config.get('editor.layout.mode'))\n  }\n\n  [SUBSCRIBE('noneSelectMenu')] () {\n    var $selected = this.refs.$items.$('.selected');\n    if ($selected) {\n      $selected.removeClass('selected');\n    }\n  }\n\n  [CLICK('$items button')] (e) {\n    e.$dt.onlyOneClass('selected');\n  }\n}","import MenuItem from \"./MenuItem\";\n\nexport default class Projects extends MenuItem {\n  getIconString() {\n    return 'note';\n  }\n  getTitle() {\n    return this.$i18n('menu.item.projects.title');\n  }\n\n  isHideTitle() {\n    return true; \n  }\n\n  clickButton(e) {\n    this.emit('open.projects')\n  }\n}","import { CLICK } from 'el/sapa/Event';\nimport { EditorElement } from '../common/EditorElement';\n\nimport './DropdownMenu.scss';\nimport { isFunction } from 'el/sapa/functions/func';\nimport { initializeGroupVariables, variable } from 'el/sapa/functions/registElement';\nimport icon, { iconUse } from 'el/editor/icon/icon';\nimport { LOAD } from 'el/sapa/Event';\nimport { DOMDIFF } from 'el/sapa/Event';\nimport { SUBSCRIBE_SELF } from 'el/sapa/Event';\n\nexport class DropdownMenu extends EditorElement {\n\n    initState() {\n      return {\n        direction: this.props.direction || \"left\",\n        opened: this.props.opened || false,\n        items: [\n          { title: 'menu.item.fullscreen.title', command: 'toggle.fullscreen', shortcut: \"ALT+/\" },\n          { title: 'menu.item.shortcuts.title', command: 'showShortcutWindow' },\n          '-',\n          { title: 'menu.item.export.title', command: 'showExportView' },\n          { title: 'menu.item.export.title', command: 'showEmbedEditorWindow' },\n          { title: 'menu.item.download.title', command: 'downloadJSON' },\n          { title: 'menu.item.save.title', command: 'saveJSON', nextTick: () => {\n            this.emit('notify',  'alert', 'Save', 'Save the content on localStorage', 2000);    \n          } },\n          '-',\n          { title: 'EasyLogic Studio', items: [\n            { type: 'link', title: 'Github', href: 'https://github.com/easylogic/editor' },\n            { type: 'link', title: 'Learn', href: 'https://www.easylogic.studio' }\n          ]}\n        ]\n      }\n    }\n\n    makeMenuItem(it) {\n      if (it === '-' || it.type === 'divider') {\n        return `<li class=\"divider\"></li>`\n      }\n\n      if (it.type === 'link') {\n        return /*html*/`\n          <li><a href=\"${it.href}\" target=\"${it.target || \"_blank\"}\">${this.$i18n(it.title)}</a></li>\n        `\n      }\n\n      if (Array.isArray(it.items)) {\n        return /*html*/`\n          <li>\n              <span class=\"icon\">${it.icon ? it.icon : ''}</span>\n              <label>${this.$i18n(it.title)}</label> \n              <span>${iconUse(\"arrowRight\")}</span>\n              <ul>\n                  ${it.items.map(child => this.makeMenuItem(child)).join('')}\n              </ul>\n          </li>\n        `\n      }\n\n      return /*html*/`\n        <li data-command=\"${it.command}\" \n          ${it.disabled && 'disabled'} \n          ${it.shortcut && 'shortcut'}\n          ${it.nextTick && `data-next-tick=${variable(it.nextTick, this.groupId)}`} \n          ${it.args && `data-args=${variable(it.args, this.groupId)}`} \n        >\n            <span class=\"icon\">${it.icon || ''}</span>\n            <label>${this.$i18n(it.title)}</label>\n            <kbd class=\"shortcut\">${it.shortcut || ''}</kbd>\n        </li>\n      `\n    }\n\n    template() {\n      const { content } = this.props;\n      const { direction, opened, items } = this.state;\n\n      const openedClass = opened ? 'opened' : '';\n\n      return /*html*/`\n        <div class=\"dropdown-menu ${openedClass}\" data-direction=\"${direction}\">\n          ${content}\n          <ul ref=\"$list\"></ul>\n          <div class=\"dropdown-menu-arrow\">\n              <svg>\n                <path d=\"M0,6 L3.5,0 L7,6 \"></path>\n              </svg>\n          </div>\n      </div>\n      `\n    }\n\n    get groupId() {\n      return this.id + '$list';\n    }\n\n    [LOAD('$list') + DOMDIFF] () {\n      initializeGroupVariables(this.groupId);      \n      return this.state.items.map(it => this.makeMenuItem(it));\n    }\n\n    [CLICK('$el li[data-command]')] (e) {\n      const command = e.$dt.data('command');\n      const args = e.$dt.data('args') || [];\n      const nextTick = e.$dt.data('next-tick');\n\n      // command 를 실행하고 \n      if (command) {\n        this.emit(command, ...args);\n      }\n\n      // nextTick 은 액션처럼 실행하고 \n      if (nextTick && isFunction(nextTick)) {\n        this.nextTick(nextTick)\n      }\n    }\n\n    [SUBSCRIBE_SELF(\"updateMenuItems\")] (items) {\n      this.setState({ items });\n    }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class Undo extends MenuItem {\n  getIconString() {\n    return 'undo';\n  }\n  getTitle() {\n    return \"Undo\";\n  }\n\n  clickButton(e) {\n    this.emit('history.undo');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class Redo extends MenuItem {\n  getIconString() {\n    return 'redo';\n  }\n  getTitle() {\n    return \"Redo\";\n  }\n\n  clickButton(e) {\n    this.emit('history.redo');\n  }\n}","import MenuItem from \"./MenuItem\";\n\nexport default class ExportView extends MenuItem {\n  getIconString() {\n    return 'launch';\n  }\n  getTitle() {\n    return this.$i18n('menu.item.export.title');\n  }\n\n  clickButton(e) {\n    this.emit('showExportView')\n  }\n\n}","import MenuItem from \"./MenuItem\";\n\nexport default class Download extends MenuItem {\n  getIconString() {\n    return 'source';\n  }\n  getTitle() {\n    return this.$i18n('menu.item.download.title');\n  }\n\n  clickButton(e) {\n    this.emit('downloadJSON')\n  }\n}","import MenuItem from \"./MenuItem\";\n\nexport default class Save extends MenuItem {\n  getIconString() {\n    return 'storage';\n  }\n  getTitle() {\n    return this.$i18n('menu.item.save.title');\n  }\n\n  clickButton(e) {\n    this.emit('saveJSON')\n    this.nextTick(() => {\n      this.emit('notify',  'alert', 'Save', 'Save the content on localStorage', 2000);    \n    });\n  }\n}","import { DEBOUNCE, SUBSCRIBE } from \"el/sapa/Event\";\nimport MenuItem from \"./MenuItem\";\n   \nexport default class OpenPathEditor extends MenuItem {\n  getIconString() {\n    return 'shape';\n  }\n  getTitle() {\n    return \"Edit\";\n  }\n\n  isHideTitle() {\n    return true; \n  }\n\n  clickButton(e) {\n    this.emit('open.editor');\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)] () {\n    const enablePathEditing = this.$selection.is(\"svg-path\", \"svg-textpath\") || this.$selection.current?.cacheClipPathObject?.type === 'path';\n\n    if (enablePathEditing) {\n      this.$el.show('inline-block');       \n    } else {\n      this.$el.hide();       \n    }\n\n  }\n}","import { CONFIG } from \"el/sapa/Event\";\nimport MenuItem from \"./MenuItem\";\n   \nexport default class Outline extends MenuItem {\n  getIconString() {\n    return 'outline';\n  }\n  getTitle() {\n    return \"Outline\";\n  }\n\n  clickButton(e) {\n    this.$config.toggle('show.outline');\n  }\n\n  [CONFIG('show.outline')] (isShow) {\n    this.setSelected(isShow);\n  }\n\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class ThemeChanger extends MenuItem {\n  getIconString() {\n    return 'dark';\n  }\n  getTitle() {\n    return \"Theme\";\n  }\n\n  isHideTitle() {\n    return true;\n  }\n\n  clickButton(e) {\n    if (this.$config.get('editor.theme') === 'dark') {\n      this.$config.set('editor.theme', 'light');\n    } else {\n      this.$config.set('editor.theme', 'dark');\n    }\n  }\n\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport ToolMenu from \"./tool-bar/ToolMenu\";\nimport Projects from \"el/editor/ui/menu-items/Projects\";\n\nimport './ToolBar.scss';\nimport { DropdownMenu } from \"el/editor/ui/view/DropdownMenu\";\nimport Undo from \"el/editor/ui/menu-items/Undo\";\nimport Redo from \"el/editor/ui/menu-items/Redo\";\nimport ExportView from 'el/editor/ui/menu-items/ExportView';\nimport Download from 'el/editor/ui/menu-items/Download';\nimport Save from 'el/editor/ui/menu-items/Save';\nimport OpenPathEditor from \"el/editor/ui/menu-items/OpenPathEditor\";\nimport Outline from \"el/editor/ui/menu-items/Outline\";\nimport ThemeChanger from \"el/editor/ui/menu-items/ThemeChanger\";\n\n\nexport default class ToolBar extends EditorElement {\n\n    components() {\n        return {\n            ThemeChanger,\n            Outline,\n            OpenPathEditor,\n            ExportView,\n            Download,\n            Save,\n            Undo,\n            Redo,\n            DropdownMenu,\n            Projects,\n            ToolMenu\n        }\n    }\n    template() {\n        return /*html*/`\n            <div class='elf--tool-bar'>\n                <div class='logo-item'>\n                    <object refClass=\"DropdownMenu\" ref=\"$menu\">\n                        <label class='logo'></label>\n                    </object>\n                </div>                 \n                <div class='left'>\n                    <div class='elf--tool-menu'>\n                        <div class='items'>\n                            <div class='draw-items'>\n                                <object refClass=\"Undo\" />\n                                <object refClass=\"Redo\" />\n                                <object refClass=\"Outline\" />                                \n                                <object refClass=\"OpenPathEditor\" />\n                                ${this.$injectManager.generate('toolbar.left')}\n                            </div>\n                        </div>\n                    </div>                    \n                </div>\n                <div class='center'>\n                    <object refClass=\"ToolMenu\" />\n                </div>\n                <div class='right'>\n                    <div class='elf--tool-menu'>\n                        <div class='items'>\n                            <div class='draw-items'>      \n                                <object refClass=\"ThemeChanger\" />                            \n                                ${this.$injectManager.generate('toolbar.right')}                             \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class BottomAlign extends MenuItem {\n  getIconString() {\n    return 'align_vertical_bottom';\n  }\n  getTitle() {\n    return \"Bottom\";\n  }\n\n  isHideTitle () {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('sort.bottom');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class CenterAlign extends MenuItem {\n  getIconString() {\n    return 'align_horizontal_center';\n  }\n  getTitle() {\n    return \"Center\";\n  }\n \n  isHideTitle () {\n    return true; \n  } \n\n  clickButton(e) {\n    this.emit('sort.center');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class LeftAlign extends MenuItem {\n  getIconString() {\n    return 'align_horizontal_left';\n  }\n  getTitle() {\n    return \"Left\";\n  }\n\n  isHideTitle () {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('sort.left');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class MiddleAlign extends MenuItem {\n  getIconString() {\n    return 'align_vertical_center';\n  }\n  getTitle() {\n    return \"middle\";\n  }\n\n  isHideTitle () {\n    return true; \n  }\n\n  clickButton(e) {\n    this.emit('sort.middle');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class RightAlign extends MenuItem {\n  getIconString() {\n    return 'align_horizontal_right';\n  }\n  getTitle() {\n    return \"Right\";\n  }\n\n  isHideTitle () {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('sort.right');\n  }\n}\n","import MenuItem from \"./MenuItem\";\n   \nexport default class SameHeight extends MenuItem {\n  getIconString() {\n    return 'vertical_distribute';\n  }\n\n  getTitle() {\n    return \"height\";\n  }\n\n  isHideTitle () {\n    return true; \n  }\n\n  clickButton(e) {\n    this.emit('same.height');\n  }\n}\n","import MenuItem from \"./MenuItem\";\n   \nexport default class SameWidth extends MenuItem {\n  getIconString() {\n    return 'horizontal_distribute';\n  }\n  getTitle() {\n    return \"width\";\n  }\n\n  isHideTitle () {\n    return true; \n  }\n\n  clickButton(e) {\n    this.emit('same.width');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class TopAlign extends MenuItem {\n  getIconString() {\n    return 'align_vertical_top';\n  }\n  getTitle() {\n    return \"Top\";\n  }\n\n  isHideTitle () {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('sort.top');\n  }\n}","import { CLICK, PREVENT, STOP } from \"el/sapa/Event\";\nimport { isFunction } from \"el/sapa/functions/func\";\n\nimport { EditorElement } from \"../common/EditorElement\";\n\nimport './BaseProperty.scss';\n\nexport default class BaseProperty extends EditorElement {\n\n  onToggleShow() {}\n\n  template() {\n    return /*html*/`\n        <div class='elf--property ${this.isHideHeader() ? 'no-title' : ''} ${this.getClassName()} ${this.isFirstShow() ?  'show' : '' }'>\n            ${this.isHideHeader() ? ''\n            : /*html*/`\n            <div class='property-title ${this.getTitleClassName()}' ref=\"$title\">\n                <label class=\"${this.hasKeyframe() ? 'has-keyframe': ''}\"> \n                  ${\n                    this.hasKeyframe() ? \n                    /*html*/`\n                      <span class='add-timeline-property' data-property='${this.getKeyframeProperty()}'></span>\n                    `\n\n                    : ''\n                  } \n                  <span ref='$propertyTitle'>${this.getTitle()}</span>\n                </label>\n                <span class=\"tools\">${this.getTools()}</span>\n            </div>`\n            }\n            <div class='property-body ${this.getBodyClassName()}'>${this.getBody()}</div>\n            ${ this.getFooter() ? `<div class='property-footer'>${this.getFooter()}</div>` : ''}\n        </div>\n        `;\n  }\n\n  setTitle (title) {\n    this.refs.$propertyTitle.html(title);\n  }\n\n  hasKeyframe () {\n    return false;\n  }\n    \n  isHideHeader() {\n    return false;\n  }\n\n  isFirstShow () {\n    return true\n  }\n\n  getClassName() {\n    return '';\n  }\n\n  getTitleClassName() {\n    return '';\n  }\n\n  getBodyClassName() {\n    return '';\n  }\n\n  getKeyframeProperty() {\n    return \"\";\n  }\n\n  getTitle() {\n    return '';\n  }\n  getTools() {\n    return '';\n  }\n  getBody() {\n    return '';\n  }\n\n  getFooter() {\n    return ''; \n  }\n\n  // [CLICK(\"$title label\")](e) {\n  //   var $dom = e.$dt.parent();\n\n  //   var isAddProperty = Dom.create(e.target).hasClass('add-timeline-property')\n\n  //   if ($dom.hasClass(\"property-title\") && isAddProperty === false) {\n  //     this.$el.toggleClass(\"show\");\n  //     this.onToggleShow();\n  //   }\n  // }\n\n  // [CLICK(\"$title .icon\")](e) {\n  //   var $dom = e.$dt.parent();\n\n  //   if ($dom.hasClass(\"property-title\")) {\n  //     this.$el.toggleClass(\"show\");\n  //     this.onToggleShow();\n  //   }\n  // }\n\n  // [CLICK('$el .property-body .add-timeline-property') + PREVENT + STOP] (e) {\n  //   var property = e.$dt.attr('data-property')\n  //   var editor = e.$dt.attr('data-editor')\n\n  //   this.emit('addTimelineCurrentProperty', { property, editor })\n  // }\n\n  // [CLICK('$el .property-title .add-timeline-property') + PREVENT + STOP] (e) {\n  //   var property = e.$dt.attr('data-property')\n  //   var editor = e.$dt.attr('data-editor')\n\n  //   this.emit('addTimelineCurrentProperty', { property, editor })\n  // }  \n\n  isPropertyShow() {\n    return this.$el.hasClass(\"show\");\n  }\n\n  toggle(isShow) {\n    this.$el.toggle(isShow);\n  }\n\n  hide() {\n    this.$el.hide();\n  }\n\n  show() {\n    this.$el.show();\n  }\n\n  onShowTitle(isShow) {\n\n  }\n\n  refreshShowIsNot (type = '', isRefresh = true ) {\n\n    var current = this.$selection.current;\n    if (current) {\n      if (type.includes(current.itemType)) {\n        this.hide();\n      } else {\n        this.show();\n\n        if (isRefresh) this.refresh();\n      }\n    } else {\n      // this.show();\n    }\n  }\n\n  refreshShow (type, isRefresh = true) {\n\n    var current = this.$selection.current;\n    if (current) {\n\n      if  (isFunction(type) && type()) {\n        this.show();\n        if (isRefresh) this.refresh();\n      } else {\n        if (!isFunction(type) && type.includes(current.itemType)) {\n          this.show();\n          if (isRefresh) this.refresh();\n        } else {\n          this.hide();\n        }\n      } \n    }  else {\n      this.hide();\n    }\n  }\n\n\n  startInputEditing (input) {\n    if (!input) return; \n    input.attr('contenteditable', true);\n\n    input.css({\n      'background-color': 'white',\n      'outline': '1px auto black',\n      'color': 'black',\n    })\n\n    input.focus();\n  }\n\n  endInputEditing (input, callback) {\n    if (!input) return;     \n    input.attr('contenteditable', false);\n    input.css({\n      'background-color': null,\n      'outline': null,\n      'color': null,\n    })\n\n    var index = input.attr('data-index');\n\n    callback && callback (index, input.text().trim())\n\n    input.blur();\n  }\n\n  get editableProperty() {\n    return '';\n  }\n\n  checkShow() {\n\n    if (!this.$selection.current) {\n      this.hide();\n      return false; \n    }\n\n    if (this.$selection.current.editable(this.editableProperty)) {\n      this.show();\n      return true; \n    } else {\n      this.hide();\n      return false; \n    }\n  }\n}\n","import BottomAlign from \"el/editor/ui/menu-items/BottomAlign\";\nimport CenterAlign from \"el/editor/ui/menu-items/CenterAlign\";\nimport LeftAlign from \"el/editor/ui/menu-items/LeftAlign\";\nimport MiddleAlign from \"el/editor/ui/menu-items/MiddleAlign\";\nimport RightAlign from \"el/editor/ui/menu-items/RightAlign\";\nimport SameHeight from \"el/editor/ui/menu-items/SameHeight\";\nimport SameWidth from \"el/editor/ui/menu-items/SameWidth\";\nimport TopAlign from \"el/editor/ui/menu-items/TopAlign\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './AlignmentProperty.scss';\n\nexport default class AlignmentProperty extends BaseProperty {\n\n  components() {\n    return {\n      LeftAlign,\n      CenterAlign,\n      RightAlign,\n      TopAlign,\n      MiddleAlign,\n      BottomAlign,\n      SameWidth,\n      SameHeight\n    }\n  }\n\n  getTitle() {\n    return this.$i18n('alignment.property.title');\n  }\n\n  isHideHeader() {\n    return true;\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--alignment-item\">\n        <object refClass=\"LeftAlign\" />\n        <object refClass=\"CenterAlign\" />\n        <object refClass=\"RightAlign\" />\n\n        <object refClass=\"TopAlign\" />\n        <object refClass=\"MiddleAlign\" />\n        <object refClass=\"BottomAlign\" />  \n\n        <object refClass=\"SameWidth\" direction=\"bottom\" />\n        <object refClass=\"SameHeight\" />\n      </div>\n    `;\n  }\n}","export function getCustomParseIndexString(it, prefix = '@' ) {\n    return `${prefix}${it.startIndex}`.padEnd(10, '0');\n}\n\nexport function customParseMatches (str, regexp) {\n    const matches = str.match(regexp);\n    let result = [];\n\n    if (!matches) {\n        return result;\n    }\n\n    for (var i = 0, len = matches.length; i < len; i++) {\n        result.push({ parsedString: matches[i] });\n    }\n\n    var pos = { next: 0 }\n    result.forEach(item => {\n        const startIndex = str.indexOf(item.parsedString, pos.next);\n\n        item.startIndex = startIndex;\n        item.endIndex = startIndex + item.parsedString.length;\n\n        pos.next = item.endIndex;\n    });\n\n    return result;\n}\n\nexport function customParseConvertMatches (str, regexp) {\n    const m = customParseMatches(str, regexp); \n\n    m.forEach(it => {\n        str = str.replace(it.parsedString, getCustomParseIndexString(it))\n    })\n\n    return { str, matches: m }\n}\n\nexport function customParseReverseMatches (str, matches) {\n    matches.forEach(it => {\n        str = str.replace(getCustomParseIndexString(it), it.parsedString)\n    })\n\n    return str;\n}\n","import { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { customParseConvertMatches, customParseReverseMatches } from \"el/utils/customParser\";\n\nconst ANIMATION_TIMING_REG = /((cubic-bezier|steps)\\(([^\\)]*)\\))/gi;\n\nexport class Animation extends PropertyItem {\n  static parse(obj) {\n    return new Animation(obj);\n  }\n\n  getDefaultObject() {\n    return {\n      itemType: \"animation\",\n      checked: true, \n      name: 'none',\n      direction: 'normal',\n      duration: Length.second(0),\n      timingFunction: 'linear',\n      delay: Length.second(0),\n      iterationCount: Length.string('infinite'),\n      playState: 'running',\n      fillMode: 'none'\n    };\n  }\n\n  convert(json) {\n    json = super.convert(json)\n\n    json.duration = Length.parse(json.duration);\n    json.iterationCount = Length.parse(json.iterationCount);\n    return json \n  }\n\n  toCloneObject() {\n    return {\n      ...this.attrs(\n        'name',\n        'direction',\n        'duration',\n        'timingFunction',\n        'delay',\n        'iterationCount',\n        'playState',\n        'fillMode'\n      )\n\n    }\n  }\n\n  togglePlayState (forcedValue) {\n\n    if (forcedValue) {\n      this.reset({ playState: forcedValue === 'running' ? 'running' : 'paused' })\n    } else {\n      if (this.json.playState === 'paused') {\n        this.reset({ playState: 'running' })\n      } else {\n        this.reset({ playState: 'paused' })\n      }\n    }\n\n  }\n\n  toCSS() {\n    if (!this.json.name) return {}\n    return {\n      \"animation\": this.toString()\n    };\n  }\n\n  toString() {\n    var json = this.json;\n\n    return [\n      json.duration,\n      json.timingFunction,\n      json.delay,\n      json.iterationCount,\n      json.direction,\n      json.fillMode,\n      json.playState,\n      json.name\n    ].join(' ')\n  }\n\n  static join (list) {\n    return list.map(it => new Animation(it).toString()).join(',')\n  }\n\n  static add (animation, item = {}) {\n    const list = Animation.parseStyle(animation);\n    list.push(Animation.parse(item))\n\n    return Animation.join(list); \n  }\n\n  static remove (animation, removeIndex) {\n    return Animation.filter(animation, (it, index) => {\n        return removeIndex != index; \n    })\n  }\n\n  static filter (animation, filterFunction) {\n    return Animation.join(Animation.parseStyle(animation).filter(it => filterFunction(it)))\n  }\n\n  static replace (animation, replaceIndex, valueObject) {\n\n    var list = Animation.parseStyle(animation)\n\n    if (list[replaceIndex]) {\n      list[replaceIndex] = valueObject;\n    } else {\n      list.push(valueObject);\n    }\n\n    return Animation.join(list);\n  }\n\n  static get (animation, index) {\n    var arr = Animation.parseStyle(animation)\n\n    return arr[index];\n  }   \n\n\n  static parseStyle (animation) {\n\n    var list = [];\n\n    if (!animation) return list;\n\n\n    const result = customParseConvertMatches(animation, ANIMATION_TIMING_REG)\n    list = result.str.split(',').map(it => {\n\n      const fields = it.split(' ').filter(Boolean);\n\n      if (fields.length >= 7 ) {\n          /* @keyframes duration | timing-function | delay | \n          iteration-count | direction | fill-mode | play-state | name */\n          //animation: 3s ease-in 1s 2 reverse both paused slidein;        \n        return {\n          duration: Length.parse(fields[0]),          \n          timingFunction: customParseReverseMatches(fields[1], result.matches),          \n          delay: Length.parse(fields[2]),          \n          iterationCount: fields[3] === 'infinite' ? Length.string('infinite') : Length.parse(fields[3]),          \n          direction: fields[4],\n          fillMode: fields[5],\n          playState: fields[6],\n          name: fields[7]\n        }\n      } else if (fields.length >= 3) {\n        /* @keyframes duration | timing-function | delay | name */\n        //animation: 3s linear 1s slidein;        \n        return {\n          duration: Length.parse(fields[0]),          \n          timingFunction: customParseReverseMatches(fields[1], result.matches),\n          delay: Length.parse(fields[2]),          \n          name: fields[3]\n        }\n      } else if (fields.length >= 1) {\n        /* @keyframes duration | name */\n        //animation: 3s slidein;        \n        return {\n          duration: Length.parse(fields[0]),          \n          name: fields[1]\n        }\n      } else {\n        return {}\n      }\n    })\n\n    return list.map(it => Animation.parse(it));\n  }  \n\n}\n","\nimport {\n  LOAD,\n  CLICK,\n  DEBOUNCE,\n  DOMDIFF,\n  SUBSCRIBE\n} from \"el/sapa/Event\";\n\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { Animation } from \"el/editor/property-parser/Animation\";\nimport { curveToPath } from \"el/utils/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './AnimationProperty.scss';\n\nexport default class AnimationProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('animation.property.title');\n  }\n  getBody() {\n    return /*html*/`<div class='animation-list' ref='$animationList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n        <button type=\"button\" ref=\"$add\" title=\"add Fill\">${iconUse(\"add\")}</button>\n    `;\n  }\n\n  isFirstShow() {\n    return true;\n  }\n\n\n  [LOAD(\"$animationList\") + DOMDIFF]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    return Animation.parseStyle(current.animation).map((it, index) => {\n\n      const selectedClass = this.state.selectedIndex === index ? \"selected\" : \"\";\n      const path = curveToPath(it.timingFunction, 30, 30)\n\n      return /*html*/`\n      <div class='animation-group-item'>\n        <div class='animation-item ${selectedClass}' \n             data-index='${index}' \n             ref=\"animationIndex${index}\" \n          >\n            <div class='timing preview' data-index='${index}' ref='$preview${index}'>\n              <svg class='item-canvas' width=\"30\" height=\"30\" viewBox=\"0 0 30 30\">\n                <path d=\"${path}\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n              </svg>\n            </div>\n            <div class='name'>\n              <div class='title' ref=\"animationName${index}\">\n                ${it.name ? it.name : `&lt; ${this.$i18n('animation.property.select a keyframe')} &gt;`}\n              </div>\n              <div class='labels'>\n                <label class='count' title='${this.$i18n('animation.property.iteration.count')}'><small>${it.iterationCount}</small></label>\n                <label class='delay' title='${this.$i18n('animation.property.delay')}'><small>${it.delay}</small></label>\n                <label class='duration' title='${this.$i18n('animation.property.duration')}'><small>${it.duration}</small></label>\n                <label class='direction' title='${this.$i18n('animation.property.direction')}'><small>${it.direction}</small></label>\n                <label class='fill-mode' title='${this.$i18n('animation.property.fill.mode')}'><small>${it.fillMode}</small></label>\n                <label class='play-state' title='${this.$i18n('animation.property.play.state')}' data-index='${index}' data-play-state-selected-value=\"${it.playState}\">\n                  <small data-play-state-value='running'>${iconUse(\"play\")}</small>\n                  <small data-play-state-value='paused'>${iconUse(\"pause\")}</small>\n                </label>\n              </div>\n            </div>\n            <div class='tools'>\n                <button type=\"button\" class=\"del\" data-index=\"${index}\">\n                  ${iconUse(\"remove2\")}\n                </button>\n            </div>\n        </div>\n      </div>        \n      `;\n    });\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    const current = this.$selection.current;\n    if (current && current.hasChangedField('animation')) {\n      this.refresh();\n    }\n    this.emit(\"hideAnimationPropertyPopup\");\n  }\n\n  [CLICK(\"$add\")](e) {\n    var current = this.$selection.current;\n\n    if (current) {\n\n      this.command(\"setAttributeForMulti\", \"add animation property\", this.$selection.packByValue({ \n        animation: (item) => Animation.add(item.animation, { name: null })\n      }))\n\n      this.nextTick(() => {\n        setTimeout(() => {\n          this.refresh();\n        }, 100)\n      })\n\n    } else {\n      alert('Select a layer')\n    }\n\n  }\n\n  [CLICK(\"$animationList .tools .del\")](e) {\n    var removeIndex = e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.reset({\n      animation: Animation.remove(current.animation, removeIndex)\n    })  \n\n    this.emit(\"refreshElement\", current);\n\n    this.refresh();\n  \n  }\n\n  [CLICK('$animationList .play-state')] (e) {\n    var index = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return; \n\n    const list = Animation.parseStyle(current.animation);\n    var animation = list[index]\n    if (animation) {\n      animation.togglePlayState();\n\n      e.$dt.attr('data-play-state-selected-value', animation.playState)\n\n      current.reset({\n        animation: Animation.join(list)\n      })\n\n      this.emit(\"refreshElement\", current);\n    }\n  }\n\n  \n  selectItem(selectedIndex, isSelected = true) {\n    if (isSelected) {\n      this.refs[`animationIndex${selectedIndex}`].addClass(\"selected\");\n    } else {\n      this.refs[`animationIndex${selectedIndex}`].removeClass(\"selected\");\n    }\n  }\n\n  viewAnimationPicker($preview) {\n    if (typeof this.selectedIndex === \"number\") {\n      this.selectItem(this.selectedIndex, false);\n    }\n\n    this.selectedIndex = +$preview.attr(\"data-index\");\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentAnimation = Animation.get(this.current.animation, this.selectedIndex);\n\n    this.viewAnimationPropertyPopup();\n  }\n\n  viewAnimationPropertyPopup() {\n    if (!this.currentAnimation) return;\n\n    const animation = this.currentAnimation;\n    this.emit(\"showAnimationPropertyPopup\", {\n      changeEvent: 'changeAnimationPropertyPopup',\n      data: animation.toCloneObject(),\n      instance: this  \n    });\n  }\n\n  [CLICK(\"$animationList .preview\")](e) {\n    this.viewAnimationPicker(e.$dt);\n  }\n\n  getRef(...args) {\n    return this.refs[args.join(\"\")];\n  }\n\n  [SUBSCRIBE(\"changeAnimationPropertyPopup\")](data) {\n\n    if (this.currentAnimation) {\n\n      this.currentAnimation.reset({ ...data });\n\n      if (this.current) {\n\n        this.command(\"setAttributeForMulti\", \"change animation property\", this.$selection.packByValue({ \n          animation: (item) => Animation.replace(item.animation, this.selectedIndex, this.currentAnimation)\n        }))\n\n        this.refresh();\n      }\n    }\n  }\n}","\nimport { POINTERSTART, CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { EditorElement } from \"../common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './BasePopup.scss';\n\nexport default class BasePopup extends EditorElement {\n\n  template() {\n    return /*html*/`\n        <div class='elf--popup ${this.getClassName()}'>\n            <div class='popup-title' ref=\"$title\">\n                <label>${this.getTitle()}</label>\n                <span class=\"tools\">\n                  ${this.getTools()}\n                  <button type='button' class='close' ref='$close'>${iconUse(\"close\")}</button>\n                </span>\n            </div>\n            <div class='popup-body'>${this.getBody()}</div>\n            <!--<div class='popup-resizer' ref='$resizer'></div> -->\n        </div>\n        `;\n  }\n\n  getClassName() {\n    return '';\n  }\n  getTitle() {\n    return '';\n  }\n  getTools() {\n    return '';\n  }\n  getBody() {\n    return '';\n  }\n\n  [CLICK('$close')] () {\n    this.$el.hide();\n  }\n\n  setTitle (title) {\n    this.refs.$title.$('label').text(title)\n  }\n\n  [POINTERSTART('$title') + MOVE('movePopupTitle') + END('endPopupTitle')] () {\n    this.x = Length.parse(this.$el.css('left'))\n    this.y = Length.parse(this.$el.css('top'))\n\n  }\n\n  movePopupTitle (dx, dy) {\n    var left = Length.px(this.x.value + dx)\n    var top = Length.px(this.y.value + dy)\n\n    this.$el.css({ left, top, right: 'auto', bottom: 'auto' })\n  }\n\n  show (width = 200) {\n\n    var popupPadding = 28;\n    var rightPosition = 320; \n\n    var top = this.$el.css('top')\n    var left = this.$el.css('left')\n\n    var realTop = top !== 'auto' ? Length.parse(top) : Length.px(110)\n    var realLeft = left !== 'auto' ? Length.parse(left) : Length.px(document.body.clientWidth - rightPosition - popupPadding - width)\n\n    this.$el\n      .css({\n        top: realTop,\n        left: realLeft,\n        'z-index': this.$editor.zIndex\n      })\n      .show(\"inline-block\");\n  }\n\n  showByRect (rect) {\n    this.$el\n      .css({\n        top: Length.px(rect.top),\n        left: Length.px(rect.left),\n        width: Length.px(rect.width),\n        height: Length.px(rect.height),\n        'z-index': this.$editor.zIndex\n      })\n      .show(\"inline-block\");\n  }\n\n  hide () {\n    this.$el.hide();\n  }\n\n  [SUBSCRIBE( \"hidePropertyPopup\")]() {\n    this.hide();\n  }\n\n  [POINTERSTART('$resizer') + MOVE('moveResizer')] (e) {\n    this.width = Length.parse(this.$el.css('width'));\n    this.height = Length.parse(this.$el.css('height'));\n  }\n\n  moveResizer (dx, dy) {\n    this.$el.css({\n      width: Length.px(Math.min(this.width.value + dx, 1000)),\n      height: Length.px(Math.min(this.height.value + dy, 700)),\n    })\n  }\n\n\n}\n","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, CHANGE, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './AnimationPropertyPopup.scss';\n\nexport default class AnimationPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('animation.property.popup.title')\n  }\n\n  initState() {\n    return {\n      changeEvent: '', \n      instance: {}, \n      data: {} \n    };\n  }\n\n  updateData(opt) {\n    this.state.data = {...this.state.data, ...opt} \n    if (this.state.instance) {\n      this.state.instance.trigger(this.state.changeEvent, this.state.data);\n    }\n  }\n\n  getBody() {\n    return /*html*/`<div class='elf--animation-property-popup' ref='$popup'></div>`;\n  }\n\n  [LOAD('$popup')] () {\n    return /*html*/`\n      <div class=\"box\">\n        ${this.templateForKeyframe()}\n        ${this.templateForTimingFunction()}\n        ${this.templateForIterationCount()}\n        ${this.templateForDelay()}\n        ${this.templateForDuration()}\n        ${this.templateForDirection()}\n        ${this.templateForFillMode()}\n        ${this.templateForPlayState()}\n      </div>\n    `;\n  }\n\n  templateForTimingFunction () {\n    return /*html*/`\n    <div class='timing-function'>\n      <label>${this.$i18n('animation.property.popup.timing.function')}</label>\n      <object refClass=\"CubicBezierEditor\" ref='$cubicBezierEditor' key=\"timingFunction\" value=\"${this.state.data.timingFunction || 'linear'}\" onChange='changeCubicBezier' />\n    </div>\n    `\n  }\n\n  templateForKeyframe() {\n   \n    return /*html*/`\n      <div class='name'>\n        <label>${this.$i18n('animation.property.popup.keyframe')}</label>\n        <div class='input grid-1'>\n          <select ref='$name'></select>\n        </div>\n      </div>\n    `\n  }\n\n  [LOAD('$name')] () {\n    var current = this.$selection.currentProject;\n    var names = []\n    if (current && current.keyframes) {\n      names = current.keyframes.map(it => {\n        return {key: it.name, value: it.name}\n      });\n    }\n\n    names.unshift({key: 'Select a keyframe', value : ''});\n\n    return names.map(it => {\n      var selected = it.value === this.name ? 'selected' : '';\n      var label = this.$i18n(it.key);\n      return `<option value='${it.value}' ${selected}>${label}</option>`\n    })\n  }\n\n  [CHANGE('$name')] () {\n    this.updateData({name: this.refs.$name.value })\n  }\n\n  templateForDirection() {\n\n    var options = 'normal,reverse,alternate,alternate-reverse'.split(',').map(it => {\n      return `${it}:${this.$i18n(it)}`\n    }).join(',')\n\n    return /*html*/`\n      <div class='direction'>\n        <object refClass=\"SelectEditor\"  \n            label='${this.$i18n('animation.property.popup.direction')}'\n            ref='$direction' \n            key='direction' \n            value=\"${this.state.data.direction}\"\n            options='${options}'\n            onChange='changeSelect'\n        /> \n      </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n    this.updateData({ [key]: value })\n  }\n\n  templateForPlayState() {\n    return /*html*/`\n    <div class='play-state'>\n      <object refClass=\"SelectEditor\"  \n          label='${this.$i18n('animation.property.popup.play.state')}'\n          ref='$playState' \n          key='playState' \n          value=\"${this.state.data.playState}\"\n          options='${['paused', 'running']}'\n          onChange='changeSelect'\n      /> \n    </div>\n  `\n  }  \n\n  templateForFillMode() {\n\n    var options = 'none,forwards,backwards,both'.split(',').map(it=>{\n      return `${it}:${this.$i18n(it)}`\n    }).join(',');\n\n    return /*html*/`\n    <div class='fill-mode'>\n      <object refClass=\"SelectEditor\"  \n          label='${this.$i18n('animation.property.popup.fill.mode')}'\n          ref='$fillMode' \n          key='fillMode' \n          value=\"${this.state.data.fillMode}\"\n          options='${options}'\n          onChange='changeSelect'\n      /> \n    </div>\n  `\n  }\n\n  templateForDelay () {\n    return /*html*/`\n    <div class='delay'>\n      <object refClass=\"RangeEditor\"  \n        ref='$delay' \n        label='${this.$i18n('animation.property.popup.delay')}' \n        calc='false' \n        key='delay' \n        value='${this.state.data.delay}' \n        units='s,ms' \n        onChange=\"changeRangeEditor\" />\n    </div>\n    `\n  }\n\n  templateForDuration () {\n    return /*html*/`\n    <div class='duration'>\n      <object refClass=\"RangeEditor\"  \n        ref='$duration' \n        label='${this.$i18n('animation.property.popup.duration')}'  \n        key='duration' \n        value='${this.state.data.duration}' \n        units='s,ms' \n        onChange=\"changeRangeEditor\" />\n    </div>\n    `\n  }\n\n  templateForIterationCount () {\n    return /*html*/`\n      <div class='iteration-count'>\n        <object refClass=\"IterationCountEditor\"\n          ref='$iterationCount' \n          label='${this.$i18n('animation.property.popup.iteration')}' \n          key='iterationCount' \n          value='${this.state.iterationCount || '0'}' \n          units='normal,infinite' \n          onChange=\"changeRangeEditor\" \n        />\n      </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n\n    if (key === 'iterationCount') {\n      if (value.unit === 'normal') {\n        value = Length.number(value.value)\n      } else {\n        value = Length.string(value.unit)\n      }\n    }\n    this.updateData({ [key]: value })\n  }\n\n  [SUBSCRIBE_SELF('changeCubicBezier')] (key, value) {\n    this.updateData({ [key]: value })\n  }\n\n  [SUBSCRIBE(\"showAnimationPropertyPopup\")](data) {\n    this.setState(data);\n\n    this.show(250)\n\n    this.children.$cubicBezierEditor.trigger('showCubicBezierEditor', data.data.timingFunction)        \n  }\n\n  [SUBSCRIBE(\"hideAnimationPropertyPopup\")]() {\n    this.$el.hide();\n  }\n}","import { IF, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from \"el/sapa/functions/registElement\";\n\nconst overflow_list = [\n  'visible',\n  'hidden',\n  'scroll',\n  'auto'\n]\n\nexport default class AppearanceProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('background.color.property.title');\n  }\n\n  getOverflowList () {\n    return variable(overflow_list.map(it => {\n      return {value: it, text: this.$i18n(`background.color.property.overflow.${it}`) }\n    }));\n  }  \n\n  getBody() {\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='background-color'></span>\n        </div>\n        <object refClass=\"ColorViewEditor\" \n          ref='$color' \n          label=\"${this.$i18n('background.color.property.color')}\" \n          key='background-color' \n          onchange=\"changeColor\" \n        />\n      </div>   \n        <div class='property-item animation-property-item' style='display:none;'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='z-index'></span>\n          </div>\n          <object refClass=\"NumberRangeEditor\"  \n            ref='$zIndex' \n            key='z-index' \n            label='${this.$i18n('background.color.property.zindex')}'\n            min=\"-1000\"\n            max=\"1000\"\n            step=\"1\"\n            onchange=\"changeSelect\" />\n        </div>\n        \n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='mix-blend-mode'></span>\n          </div>\n          <object refClass=\"BlendSelectEditor\" \n            label='${this.$i18n('background.color.property.blend')}'\n            ref='$mixBlend' \n            removable='true'\n            key='mix-blend-mode' \n            icon=\"true\" \n            tabIndex=\"1\"\n            onchange=\"changeSelect\" />\n        </div>        \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='overflow'></span>\n          </div>\n          <object refClass=\"SelectEditor\"  \n            label='${this.$i18n('background.color.property.overflow')}'\n            ref='$overflow' \n            removable='true'\n            key='overflow' \n            icon=\"true\" \n            tabIndex=\"1\"\n            options=${this.getOverflowList()}\n            onchange=\"changeSelect\" />\n        </div>                \n      `;\n  }  \n\n  [SUBSCRIBE_SELF('changeColor')] (key, color) {\n    this.command('setAttributeForMulti', 'change background color', this.$selection.packByValue({ \n      [key]: color\n    }))\n  }  \n\n\n  refresh () {\n    var current = this.$selection.current; \n\n    if (current) {\n      this.children.$zIndex.setValue(current['z-index'] || 0)\n      this.children.$mixBlend.setValue(current['mix-blend-mode'])\n      this.children.$overflow.setValue(current['overflow']);\n      this.children.$color.setValue(current['background-color'] || 'rgba(0, 0, 0, 1)')\n\n    }\n  }\n\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n    this.command(\"setAttributeForMulti\", `change attribute : ${key}`, this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n  get editableProperty() {\n    return \"appearance\";\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n}","export default [\n    {\n      category: 'Web', \n      groups: [\n        { group: 'Landscape', devices: [\n          { device: 'Web Small', size: '1024x600' },\n          { device: 'Web Medium', size: '1280x800' },\n          { device: 'Web Large', size: '1440x900' },\n          { device: 'Web X Large', size: '1920x1200' },\n        ]},\n        {\n          group: 'Portrait', devices: [\n            { device: 'Web Small', size: '600x1024' },\n            { device: 'Web Medium', size: '800x1280' },\n            { device: 'Web Large', size: '900x1440' },\n            { device: 'Web X Large', size: '1200x1920' },\n        ]}\n      ]\n    },               \n    {\n      category: 'Apple Devices', \n      groups: [\n        { group: 'iphone', devices: [\n          { device: 'iPhone 8', size: '375x667' },\n          { device: 'iPhone 8 Plus', size: '414x736' },\n          { device: 'iPhone SE', size: '320x568' },\n          { device: 'iPhone XS', size: '375x812' },\n          { device: 'iPhone XR', size: '414x896' },\n          { device: 'iPhone XS Max', size: '414x896' }\n        ]},\n        { group: 'ipad', devices: [\n          { device: 'iPad', size: '768x1024' },\n          { device: 'iPad Pro', size: '1024x1366' }\n        ]},\n        { group: 'apple watch', devices: [\n          { device: 'Apple Watch 38nm', size: '272x340' },\n          { device: 'Apple Watch 40nm', size: '326x394' },\n          { device: 'Apple Watch 42nm', size: '313x390' },\n          { device: 'Apple Watch 44nm', size: '368x448' }\n        ]},\n        { group: 'apple tv', devices: [\n          { device: 'Apple TV', size: '1920x1080' }\n        ]},\n        { group: 'MAC', devices: [\n          { device: 'Touch Bar', size: '1085x30' },\n        ]}                        \n      ]\n    },\n    {\n      category: 'Android Devices', \n      groups: [\n        { group: 'android mobile', devices: [\n          { device: 'Android Mobile', size: '360x640' }\n        ]},\n        { group: 'android tablet', devices: [\n          { device: 'Android Tablet', size: '768x1024' }\n        ]}\n      ]\n    }\n  ]","import { LOAD, DOMDIFF, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\n\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport artboardSize from \"./preset/artboard.size\";\nimport './ArtBoardSizeProperty.scss';\nimport { variable } from \"el/sapa/functions/registElement\";\n\nexport default class ArtBoardSizeProperty extends BaseProperty {\n\n  getClassName() {\n    return 'elf--artboard-size-list'\n  }\n\n  get editableProperty() {\n    return 'artboard-size';\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')] () {\n    this.refresh();\n  }\n\n  initState() {\n    return {\n      selectedIndex: 0,\n    }\n  }\n\n  getTitle() {\n    return \"ArtBoard Preset\";\n  }\n\n  getTools() {\n\n    var categories = artboardSize.map((it,index) => {\n      return {category: it.category, index}\n     })\n\n    return /*html*/`\n      <object refClass=\"SelectEditor\"  \n        ref='$select' \n        value=\"${categories[0].category}\" \n        options=${variable(categories.map(it => it.category))} \n        onchange='changeSizeIndex'\n      />\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeSizeIndex')] (key, value) {\n    var selectedIndex = this.state.selectedIndex;\n    artboardSize.forEach((it, index) => {\n      if (it.category === value) {\n        selectedIndex = index; \n      }\n    })\n\n    this.state.selectedIndex = selectedIndex;\n\n    this.refresh();\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='artboard-size-item' ref='$list'></div>\n    `;\n  }\n\n  makeDevice (device) {\n    return /*html*/`\n      <div class='device-item' data-size='${device.size}'>\n        <div class='title'>${device.device}</div>\n        <div class='size'>${device.size}</div>\n      </div>\n    `\n  }\n\n  [CLICK('$list .device-item')] (e) {\n    var size = e.$dt.attr('data-size');\n\n    this.emit('resizeArtBoard', size);\n  }\n\n  makeGroup (group) {\n    return /*html*/`\n      <div class='group-item'>\n        <div class='title'>${group.group}</div>\n      </div>\n      <div class='devices'>\n        ${group.devices.map(device => this.makeDevice(device)).join('')}\n      </div>\n    `\n  }\n\n  makeCategory (category) {\n    return /*html*/`\n      <div class='category'>\n        <div class='title'>${category.category}</div>\n      </div>\n      <div class='groups'>\n        ${category.groups.map(group => this.makeGroup(group)).join('')}\n      </div>\n    `\n  }\n\n  [LOAD('$list') + DOMDIFF] () {\n    var category = artboardSize[this.state.selectedIndex]\n    return category.groups.map(group => this.makeGroup(group))\n  }\n}","\nexport const filter_list = [\n    \"blur\",\n    \"grayscale\",\n    \"hue-rotate\",\n    \"invert\",\n    \"brightness\",\n    \"contrast\",\n    \"drop-shadow\",\n    \"opacity\",\n    \"saturate\",\n    \"sepia\",\n    'svg',\n  ];","\nimport {\n  LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, IF, DEBOUNCE\n} from \"el/sapa/Event\";\n\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { filter_list } from \"./util\";\nexport default class BackdropFilterProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('backdrop.filter.property.title');\n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n\n  getTitleClassName() {\n    return 'filter'\n  }\n\n\n  getKeyframeProperty () {\n    return 'backdrop-filter';\n  }\n\n  getBodyClassName() {\n    return 'no-padding';\n  }\n\n\n\n  getBody() {\n    return /*html*/`<div class='full filter-property' ref='$body'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$filterSelect\"></select>\n      <button type=\"button\" ref=\"$add\" title=\"add Filter\">${iconUse(\"add\")}</button>\n    `\n  }\n  \n\n  [CLICK(\"$add\")]() {\n    var filterType = this.refs.$filterSelect.value;\n\n    this.children.$filterEditor.trigger('add', filterType)\n  }\n\n  [LOAD('$filterSelect')] () {\n    var list = filter_list.map(it => { \n      return {title: this.$i18n(`filter.property.${it}`), value: it}\n    })\n\n    var svgFilterList = this.getSVGFilterList()\n\n    var totalList = []\n\n    if (svgFilterList.length) {\n      totalList = [\n        ...list,\n        { title: '-------' , value: ''},\n        ...svgFilterList\n      ]\n    } else {\n      totalList = [\n        ...list\n      ]\n    }\n\n    return totalList.map(it => {\n      var {title, value} = it;\n      \n      return `<option value='${value}'>${title}</option>`\n    })\n  }\n\n\n  getSVGFilterList () {\n     \n    var current = this.$selection.currentProject;\n    var arr = [] \n\n    if (current) {\n      arr = current.svgfilters\n        .map(it => {\n          return {\n            title : `svg - #${it.id}`,\n            value: it.id\n          }\n        })\n    }\n\n    return arr\n  }  \n\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {} \n    var value = current['backdrop-filter'];\n\n    return /*html*/`\n      <div>\n        <object refClass=\"FilterEditor\" ref='$filterEditor' key=\"backdrop-filter\" value='${value}' hide-label=\"true\" onchange='changeFilterEditor' />\n      </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeFilterEditor')] (key, filter) {\n\n    this.command(\"setAttributeForMulti\", \"change backdrop filter\", this.$selection.packByValue({\n      [key]: filter\n    }))  \n\n  }\n\n  get editableProperty() {\n    return \"backdrop-filter\";\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow') + DEBOUNCE(1000)] () {\n    this.refresh();\n  }\n}","import { LOAD, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from \"el/sapa/functions/registElement\";\n\nexport default class BackgroundClipProperty extends BaseProperty {\n  \n  getTitle() {\n    return \"Background Clip\";\n  }\n\n  isFirstShow() {\n    return false; \n  }\n\n  getTools() {\n    return /*html*/`<div ref='$backgroundClip' style='padding-top: 3px;'></div>`;\n  }  \n\n  [LOAD(\"$backgroundClip\")]() {\n    var current = this.$selection.current || {};\n\n    var clip = current['background-clip'] || ''\n    return /*html*/`\n      <object refClass=\"SelectEditor\"  \n          ref='$1' \n          key='background-clip' \n          icon=\"true\" \n          value=\"${clip}\" \n          options=${variable([\"\",\"paddinb-box\",\"border-box\",\"content-box\",\"text\"])} \n          onchange=\"changeSelect\" \n      />`;\n  }\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n      this.command('setAttributeForMulti', \"change background clip\", this.$selection.packByValue({\n        [key]: value\n      }))\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(['rect', 'circle', 'text']);\n  }  \n}","\nimport { BackgroundImage } from \"el/editor/property-parser/BackgroundImage\";\nimport { LOAD, CLICK, DRAGSTART, DRAGOVER, DROP, PREVENT, DEBOUNCE, SUBSCRIBE, DOMDIFF, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\nimport { LinearGradient } from \"el/editor/property-parser/image-resource/LinearGradient\";\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './BackgroundImageEditor.scss';\n\nconst names = {\n    'image-resource': \"Image\",\n    'url': \"Image\",\n    image: \"Image\",\n    \"static-gradient\": \"Static\",\n    \"linear-gradient\": \"Linear\",\n    \"repeating-linear-gradient\": `${icon.repeat} Linear`,\n    \"radial-gradient\": \"Radial\",\n    \"repeating-radial-gradient\": `${icon.repeat} Radial`,\n    \"conic-gradient\": \"Conic\",\n    \"repeating-conic-gradient\": `${icon.repeat} Conic`\n  };\n  \n  const types = {\n    image: \"image\",\n    'image-resource': \"image\",    \n    'url': 'image',\n\n    \"static-gradient\": \"gradient\",\n    \"linear-gradient\": \"gradient\",\n    \"repeating-linear-gradient\": \"gradient\",\n    \"radial-gradient\": \"gradient\",\n    \"repeating-radial-gradient\": \"gradient\",\n    \"conic-gradient\": \"gradient\",\n    \"repeating-conic-gradient\": \"gradient\"\n  };\n\nexport default class BackgroundImageEditor extends EditorElement {\n\n    initState() {\n        return {\n            hideLabel: this.props['hide-label'] === 'true' ? true: false,\n            value: this.props.value, \n            images : this.parseBackgroundImage(this.props.value)\n        }\n    }\n\n    parseBackgroundImage(str) {\n        if (str === '') return [];\n        return BackgroundImage.parseStyle(STRING_TO_CSS(str));\n    }\n\n    setValue (value) {\n        this.setState({\n            value, \n            images : this.parseBackgroundImage(value)\n        })\n    }\n\n    template () {\n        var labelClass = this.state.hideLabel ? 'hide' : '';\n        return /*html*/`\n            <div class='elf--background-image-editor' >\n                <div class='label ${labelClass}'>\n                    <label>${this.props.title||''}</label>\n                    <div class='tools'>\n                        <button type=\"button\" ref='$add'>${icon.add} ${this.props.title ? '' : 'Add'}</button>\n                    </div>\n                </div>\n                <div class='fill-list' ref='$fillList'></div>\n            </div>\n        `\n    }\n\n    templateForBlendMode(index, blendMode) {\n        return /*html*/`\n        <div class='popup-item'>\n          <object refClass=\"BlendSelectEditor\" \n                ref='$blend_${index}' \n                key='blendMode' \n                value=\"${blendMode}\" \n                params=\"${index}\" \n                onchange=\"changeRangeEditor\" \n            />\n        </div>\n        `;\n    }    \n    \n\n    [LOAD('$fillList') + DOMDIFF] () {\n\n        const current = this.$selection.current || {color: 'black'};\n\n\n        return this.state.images.map((it, index) => {\n            var image = it.image;\n\n            var backgroundType = types[image.type];\n            var backgroundTypeName = names[image.type];\n\n            const selectedClass = it.selected ? \"selected\" : \"\";\n      \n            if (it.selected) {\n              this.selectedIndex = index;\n            }\n      \n            return /*html*/`\n            <div class='fill-item ${selectedClass}' data-index='${index}' ref=\"fillIndex${index}\"  draggable='true' data-fill-type=\"${backgroundType}\" >\n                <object refClass=\"BackgroundPositionEditor\" \n                    key=\"background-position\"\n                    index=\"${index}\"\n                    ref=\"$bp${index}\"\n                    x=\"${it.x}\"\n                    y=\"${it.y}\"\n                    width=\"${it.width}\"\n                    height=\"${it.height}\"\n                    repeat=\"${it.repeat}\"\n                    size=\"${it.size}\"\n                    blendMode=\"${it.blendMode}\"     \n                    onchange='changePattern' />\n                <object refClass=\"GradientSingleEditor\" \n                    index=\"${index}\"\n                    ref=\"$gse${index}\"\n                    image=\"${it.image}\"\n                    color=\"${current.color}\"\n                    key=\"background-image\"\n                    onchange='changePattern'\n\n                />\n                <div class='fill-info'>\n                  <div class='gradient-info'>\n                    <div class='fill-title' ref=\"fillTitle${index}\">${backgroundTypeName}</div>\n                    <div class='blend'>\n                      ${this.templateForBlendMode(index, it.blendMode)}\n                    </div>\n                    <div class='tools'>\n                      <button type=\"button\" class='remove' data-index='${index}'>${icon.remove2}</button>\n                    </div>\n                  </div>\n                </div>\n            </div>\n            `;\n        });\n    }\n\n    modifyBackgroundImage () {\n        var value = CSS_TO_STRING(BackgroundImage.toPropertyCSS(this.state.images));\n\n        this.parent.trigger(this.props.onchange, this.props.key, value)\n    }\n\n    [SUBSCRIBE('add')] () {\n\n        this.state.images.push(new BackgroundImage({\n\n            image: new LinearGradient({\n                angle: 90,\n                colorsteps: [\n                    new ColorStep({ percent: 0, color: 'white', index: 0}),\n                    new ColorStep({ percent: 100, color: 'black', index: 1})\n                ]\n            })\n        }));\n\n        this.refresh();\n\n        this.modifyBackgroundImage();        \n    }\n\n    [CLICK('$add')] () {\n\n        this.trigger('add')\n    }\n\n\n    [DRAGSTART(\"$fillList .fill-item\")](e) {\n        this.startIndex = +e.$dt.attr(\"data-index\");\n    }\n\n    [DRAGOVER(\"$fillList .fill-item\") + PREVENT](e) {}\n\n\n    sortItem(arr, startIndex, targetIndex) {\n        arr.splice(\n          targetIndex + (startIndex < targetIndex ? -1 : 0),\n          0,\n          ...arr.splice(startIndex, 1)\n        );\n    }\n\n    sortBackgroundImage(startIndex, targetIndex) {\n        this.sortItem(this.state.images, startIndex, targetIndex);\n    }\n\n    [DROP(\"$fillList .fill-item\") + PREVENT](e) {\n        var targetIndex = +e.$dt.attr(\"data-index\");\n\n\n        this.selectItem(this.startIndex, true);\n\n        this.sortBackgroundImage(this.startIndex, targetIndex);\n\n        this.refresh();\n\n        // this.viewFillPopup(this.getRef(\"preview\", this.selectedIndex));\n\n        this.modifyBackgroundImage()\n\n    }\n\n    getCurrentBackgroundImage() {\n        return this.state.images[this.selectedIndex];\n    }\n\n    [CLICK(\"$fillList .tools .remove\")](e) {\n        var removeIndex = +e.$dt.attr(\"data-index\");\n\n        this.state.images.splice(removeIndex, 1);\n\n        this.refresh();\n\n        this.modifyBackgroundImage()\n    }\n\n    selectItem(selectedIndex, isSelected = true) {\n        if (isSelected) {\n            this.refs[`fillIndex${selectedIndex}`].addClass(\"selected\");\n        } else {\n            this.refs[`fillIndex${selectedIndex}`].removeClass(\"selected\");\n        }\n\n        \n        this.state.images.forEach((it, index) => {\n            it.selected = index === selectedIndex;\n        });\n        \n    }\n\n    [SUBSCRIBE(\"selectFillPopupTab\")](type, data) {\n        var typeName = types[type];\n        var $fillItem = this.refs[`fillIndex${this.selectedIndex}`];\n        $fillItem.attr(\"data-fill-type\", typeName);\n    }\n\n    [SUBSCRIBE_SELF('changeRangeEditor')] (key, value, params) {\n        this.trigger('changePattern', key, {[key]: value}, params);\n    }\n\n    [SUBSCRIBE_SELF('changePattern')] (key, value, params) {\n        var index = +params;\n        var image = this.state.images[index];\n\n        image.reset(value);\n\n        this.modifyBackgroundImage();\n        this.refresh();\n    }\n}","\nimport { CLICK, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport { Length } from \"el/editor/unit/Length\";\n\nimport './BackgroundImagePositionPopup.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class BackgroundImagePositionPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('background.image.position.popup.title')\n  }\n\n  initState() {\n\n    return {\n      size: this.props.size || 'auto',\n      repeat: this.props.repeat || 'repeat',\n      x: this.props.x || Length.z(),\n      y: this.props.y || Length.z(),\n      width: this.props.width || Length.z(),\n      height: this.props.height || Length.z(),\n      blendMode: this.props.blendMode,\n    }\n  }\n\n  updateData(opt = {}) {\n    this.setState(opt, false);\n\n    this.emit(this.state.changeEvent, opt, this.state.params);\n  }\n\n \n  templateForSize() {\n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"SelectEditor\"  \n          label=\"${this.$i18n('background.image.position.popup.size')}\" \n          ref='$size' \n          key='size' \n          value=\"${this.state.size}\" \n          options=${variable([\"contain\",\"cover\",\"auto\" ])}\n          onchange=\"changeRangeEditor\" />      \n      </div>\n    `;\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    this.updateData({ [key]: value });\n  }\n\n  templateForX() {\n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"RangeEditor\"  \n            label=\"X\"\n            calc=\"false\"            \n            ref=\"$x\" \n            key=\"x\"\n            value=\"${this.state.x}\"\n            min=\"-1000\" max=\"1000\" step=\"1\"\n            onchange=\"changeRangeEditor\"\n        />\n      </div>\n    `;\n  }\n\n  templateForY() {\n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"RangeEditor\"  \n            label=\"Y\" \n            calc=\"false\"       \n            ref=\"$y\" \n            key=\"y\"\n            value=\"${this.state.y}\"            \n            min=\"-1000\" max=\"1000\" step=\"1\"\n            onchange=\"changeRangeEditor\"\n        />\n      </div>\n    `;\n  }\n\n  templateForWidth() {\n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"RangeEditor\"  \n          label=\"${this.$i18n('background.image.position.popup.width')}\"   \n          calc=\"false\"             \n          ref=\"$width\" \n          key=\"width\"\n          value=\"${this.state.width}\"          \n          min=\"0\" max=\"500\" step=\"1\" \n          onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }\n\n  templateForHeight() {\n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"RangeEditor\"  \n          label=\"${this.$i18n('background.image.position.popup.height')}\"\n          calc=\"false\"          \n          ref=\"$height\" \n          key=\"height\"\n          value=\"${this.state.height}\"          \n          min=\"0\" max=\"500\" step=\"1\" onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }\n\n  templateForRepeat() {\n    return /*html*/`\n    <div class='popup-item grid-2'>\n      <label>${this.$i18n('background.image.position.popup.repeat')}</label>\n      <div class='repeat-list' ref=\"$repeat\" data-value='${this.state.repeat}'>\n          <button type=\"button\" value='no-repeat' title=\"${this.$i18n('background.image.position.popup.type.no-repeat')}\"></button>\n          <button type=\"button\" value='repeat' title=\"${this.$i18n('background.image.position.popup.type.repeat')}\"></button>\n          <button type=\"button\" value='repeat-x' title=\"${this.$i18n('background.image.position.popup.type.repeat-x')}\"></button>\n          <button type=\"button\" value='repeat-y' title=\"${this.$i18n('background.image.position.popup.type.repeat-y')}\"></button>\n          <button type=\"button\" value='space' title=\"${this.$i18n('background.image.position.popup.type.space')}\"></button>\n          <button type=\"button\" value='round' title=\"${this.$i18n('background.image.position.popup.type.round')}\"></button>\n      </div>\n    </div>\n    `;\n  }\n\n  [CLICK(\"$repeat button\")]({ $dt: $t }) {\n    this.refs.$repeat.attr(\"data-value\", $t.value);\n    this.updateData({ repeat: $t.value });\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--background-image-position-picker\" ref='$picker'></div>\n    `;\n  }\n\n  [LOAD('$picker')] () {\n    return /*html*/`\n      \n      <div class='box'>\n\n        <div class='background-property'>\n          ${this.templateForSize()}        \n          ${this.templateForX()}\n          ${this.templateForY()}\n          ${this.templateForWidth()}\n          ${this.templateForHeight()}\n          ${this.templateForRepeat()}\n        </div>\n      </div>\n    `\n  }\n\n\n  [SUBSCRIBE(\"showBackgroundImagePositionPopup\")](data, params) {\n    this.state.changeEvent = data.changeEvent || 'changeFillPopup'\n    this.state.params = params; \n\n    this.setState(data.data);\n\n    this.show(460);\n  }\n\n\n}","\nimport {\n  LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, IF\n} from \"el/sapa/Event\";\n\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\n\n\nexport default class BackgroundImageProperty extends BaseProperty {\n\n  \n  getTitle() {\n    return this.$i18n('background.image.property.title');\n  }\n\n  hasKeyframe () {\n    return true; \n  }\n\n  afterRender () {\n    this.show();\n  }\n\n  getKeyframeProperty () {\n    return 'background-image';\n  }\n\n  getClassName() {\n    return 'background-image'\n  }\n\n  getBodyClassName() {\n    return 'no-padding';\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='full' ref='$property'></div>               \n    `;\n  }\n\n\n  getTools() {\n    return `<button type=\"button\" ref='$add'>${iconUse(\"add\")}</button>`\n  }\n\n  [CLICK('$add')] () {\n    this.children.$backgroundImageEditor.trigger('add');\n  }  \n\n  [LOAD('$property')] () {\n    var current = this.$selection.current || {}; \n    var value = current['background-image'] || ''\n\n    return /*html*/`<object refClass=\"BackgroundImageEditor\" \n              ref='$backgroundImageEditor' \n              key='background-image'\n              value='${value}' \n              hide-label=\"true\"\n              onchange='changeBackgroundImage' \n            />`\n  }\n\n  get editableProperty() {\n    return 'background-image';\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n  [SUBSCRIBE_SELF('changeBackgroundImage')] (key, value) {\n    this.command('setAttributeForMulti', 'change background image', this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n}","import { CLICK, BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './BackgroundPositionEditor.scss'\nexport default class BackgroundPositionEditor extends EditorElement {\n\n    initState() { \n        return {\n            index: this.props.index,\n            x: this.props.x,\n            y: this.props.y,\n            width: this.props.width,\n            height: this.props.height,\n            repeat: this.props.repeat,\n            size: this.props.size,\n            blendMode: this.props.blendMode,\n            color: 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyValue(opt);\n    }\n\n    modifyValue(value) {\n        this.parent.trigger(this.props.onchange, this.props.key, value, this.state.index);\n    }\n\n    setValue (obj) {\n        this.setState({\n            ...obj \n        })\n    }\n\n    [BIND('$miniView')] () {\n        return {\n            style: {\n                'background-image': 'linear-gradient(to top right, black, white)',\n                'background-repeat': this.state.repeat,\n                'background-size': '7px 7px'\n            }\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='elf--background-position-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ${this.state.color}\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewBackgroundPositionPopup();\n    }\n\n    viewBackgroundPositionPopup() {\n        this.emit(\"showBackgroundImagePositionPopup\", {\n            changeEvent: 'changeBackgroundPositionPattern',\n            data: this.state \n        }, {\n            id: this.id\n        });\n    }\n\n\n    [SUBSCRIBE(\"changeBackgroundPositionPattern\")](pattern, params) {\n        if (params.id === this.id) {\n            // this.refs.$miniView.cssText(`background-color: ${color}`);\n            this.updateData({ ...pattern })\n        }\n    }    \n}","import { LOAD, CLICK } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { isFunction, isArray, isString } from \"el/sapa/functions/func\";\n\nimport './Button.scss';\n\nexport default class BaseUI extends EditorElement {\n\n    getValue() {\n        return this.props.defaultValue;\n    }\n\n    sendEvent() {\n\n        const key = this.props.key;\n        const value = this.getValue();\n        const params = this.props.params;\n\n        // onClick 이벤트가 있으면 실행\n        if (isFunction(this.props.onClick)) {\n            this.props.onClick(key, value, params);\n        } \n        // action 이 있으면 emit 을  실행 \n        else if (isString(this.props.action)) {\n            this.emit(this.props.action, key, value, params);\n        } \n        // action 이 array 일 때 emit 을 실행 \n        else if (isArray(this.props.action)) {\n            this.emit(...this.props.action, key, value, params);\n        } \n        // 아무것도 없을 때는 선택할 수 있는 버튼 처럼 동작한다. \n        // key, value 를 던질 수 있도록 한다. \n        else {\n            this.parent.trigger(this.props.onchange, key, value, params);\n        }\n    }\n  \n}","import { LOAD, CLICK } from \"el/sapa/Event\";\nimport BaseUI from './BaseUI';\nimport './Button.scss';\n\n\nexport default class Button extends BaseUI {\n\n\n    initialize() {\n        super.initialize();\n    \n        this.notEventRedefine = true;\n    }    \n\n    initState() {\n        return {\n            label: this.props.label || '',\n            text: this.props.text || '',\n            params: this.props.params || '',\n        }\n    }\n\n    template () {\n        return `<div class='small-editor button' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { label, text } = this.state\n\n        var hasLabel = !!label ? 'has-label' : ''\n        \n        return /*html*/`\n        <div class='elf--button ${hasLabel}'>\n            ${label ? `<label title=\"${label}\">${label}</label>` : '' }\n            <div class='area'>\n                <button type=\"button\" >${text || label}</button>\n            </div>\n        </div>\n    `\n    }\n\n    getValue() {\n        return this.props.defaultValue;\n    }\n\n    [CLICK('$el button')] () {\n        this.sendEvent();\n    }\n  \n}","import { LOAD, CLICK, SUBSCRIBE_SELF, BIND } from \"el/sapa/Event\";\nimport BaseUI from './BaseUI';\nimport './ToggleCheckBox.scss';\n\n\nconst DEFAULT_LABELS = ['True', 'False']\n\nexport default class CheckBox extends BaseUI {\n\n\n    initialize() {\n        super.initialize();\n    \n        this.notEventRedefine = true;\n    }    \n\n    initState() {\n        return {\n            label: this.props.label || '',\n            checked: this.props.checked || false,\n            toggleLabels: this.props.toggleLabels || DEFAULT_LABELS\n        }\n    }\n\n    template () {\n        return `<div class='small-editor button' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { label, checked } = this.state\n\n        var hasLabel = !!label ? 'has-label' : ''\n        var isChecked = checked ? 'true' : 'false'\n        var [first, second] = this.state.toggleLabels;\n        return /*html*/`\n        <div class='elf--toggle-checkbox ${hasLabel}'>\n            ${label ? `<label title=\"${label}\">${label}</label>` : '' }\n            <div class='area' ref=\"$area\" data-checked=\"${isChecked}\">\n                <div><button type=\"button\" value=\"true\">${first}</button></div>\n                <div><button type=\"button\" value=\"false\">${second}</button></div>\n            </div>\n        </div>\n    `\n    }\n\n    [BIND('$area')] () {\n        return {\n            'data-checked': this.state.checked ? 'true' : 'false'\n        }\n    }\n\n    setValue(checked, isTrigger = true) {\n        this.setState({\n            checked,\n        }, false)\n\n        this.bindData('$area');   \n        \n        if (isTrigger) {\n            this.trigger('change');\n        }\n    }\n\n    getValue() {\n        return this.state.checked;\n    }\n\n    [CLICK('$el button')] (e) {\n        this.setValue(e.$dt.value === 'true', true);\n    }\n\n    [SUBSCRIBE_SELF('change')] () {\n        this.sendEvent();\n    }\n}","import BottomAlign from \"el/editor/ui/menu-items/BottomAlign\";\nimport CenterAlign from \"el/editor/ui/menu-items/CenterAlign\";\nimport LeftAlign from \"el/editor/ui/menu-items/LeftAlign\";\nimport MiddleAlign from \"el/editor/ui/menu-items/MiddleAlign\";\nimport RightAlign from \"el/editor/ui/menu-items/RightAlign\";\nimport SameHeight from \"el/editor/ui/menu-items/SameHeight\";\nimport SameWidth from \"el/editor/ui/menu-items/SameWidth\";\nimport TopAlign from \"el/editor/ui/menu-items/TopAlign\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { CLICK, SUBSCRIBE } from \"el/sapa/Event\";\n\nimport './PathToolProperty.scss';\nimport PathParser from '../../el/editor/parser/PathParser';\nimport { Length } from 'el/editor/unit/Length';\nimport { iconUse } from 'el/editor/icon/icon';\n\nexport default class PathToolProperty extends BaseProperty {\n\n  components() {\n    return {\n      LeftAlign,\n      CenterAlign,\n      RightAlign,\n      TopAlign,\n      MiddleAlign,\n      BottomAlign,\n      SameWidth,\n      SameHeight\n    }\n  }\n\n  getTitle() {\n    return this.$i18n('alignment.property.title');\n  }\n\n  isHideHeader() {\n    return true;\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--boolean-item\" ref=\"$buttons\">\n        <div>\n          <button type=\"button\" data-value=\"union\">${iconUse(\"boolean_union\", \"\", {width: 30, height: 30})} Union</button>        \n          <button type=\"button\" data-value=\"intersection\">${iconUse(\"boolean_intersection\", \"\", {width: 30, height: 30})} Intersection</button>        \n        </div>\n        <div>\n          <button type=\"button\" data-value=\"difference\">${iconUse(\"boolean_difference\", \"\", {width: 30, height: 30})} Difference</button>        \n          <button type=\"button\" data-value=\"xor\">${iconUse(\"boolean_xor\", \"\", {width: 30, height: 30})} Exclude</button>        \n        </div>\n        <div>\n          <button type=\"button\" data-value=\"simplify\">${iconUse('grid3x3', \"\", {width: 24, height: 24})} Self Intersection</button>        \n          <button type=\"button\" data-value=\"flatten\">${iconUse('flatten', \"\", {width: 24, height: 24})} Flatten</button>                  \n        </div>\n        <div>\n          <button type=\"button\" data-value=\"smooth\">${iconUse('smooth', \"\", {width: 24, height: 24})} Smooth Path</button>                \n          <button type=\"button\" data-value=\"stroke\">${iconUse('stroke_to_path', \"\", {width: 24, height: 24})} Stroke to path</button> \n        </div>        \n        <div>\n          <button type=\"button\" data-value=\"polygonal\">${iconUse('highlight_at', \"\", {width: 24, height: 24})} Polygonal</button>                \n          <button type=\"button\" data-value=\"normalize\">${iconUse('stroke_to_path', \"\", {width: 24, height: 24})} Curve</button> \n        </div>                \n      </div>\n    `;\n  }\n\n  [CLICK('$buttons button')] (e) {\n    const current = this.$selection.current;\n    const command = e.$dt.data('value');\n\n    if (command === 'stroke') {\n\n      const attrs = current.attrs('d', 'stroke-width', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linejoin', 'stroke-linecap');\n      const pathAttrs = current.convertStrokeToPath()\n\n      const newD = this.$pathkit.stroke(current.d || attrs.d, {\n        'stroke-width': Length.parse(attrs['stroke-width']).value,\n        'stroke-linejoin': attrs['stroke-linejoin'],\n        'stroke-linecap': attrs['stroke-linecap'],\n        'stroke-dasharray': attrs['stroke-dasharray'],\n        'stroke-dashoffset': attrs['stroke-dashoffset'],        \n        'fill-rule': 'nonezero',\n      });\n\n      pathAttrs['fill-rule'] = 'nonzero';\n\n\n      this.command('addLayer', `add layer - path`, this.$editor.createModel({\n        ...pathAttrs,\n        ...current.updatePath(newD),        \n      }), true, current.parent)      \n\n    } else if (command === 'transform') {\n      this.command(\"setAttributeForMulti\", \"change path string\", this.$selection.packByValue(\n        current.updatePath(\n          PathParser\n            .fromSVGString(current.d)\n            .divideSegmentByCount(4)\n            .transform(([x, y, z]) => [x + y * Math.sin(y / 16), y + 4 * Math.sin(x / 16), z])\n            .d\n          )\n      ))\n    } else if (command === 'simplify') {\n      this.command(\"setAttributeForMulti\", \"change path string\", this.$selection.packByValue(\n        current.updatePath(this.$pathkit.simplify(current.d))\n      ))\n    } else if (command === 'normalize') {\n      this.command(\"setAttributeForMulti\", \"smooth path string\", this.$selection.packByValue(\n        current.updatePath(\n          PathParser\n            .fromSVGString(current.d)\n            .normalize()\n            .d\n          )\n      ))  \n    } else if (command === 'smooth') {\n      this.command(\"setAttributeForMulti\", \"smooth path string\", this.$selection.packByValue(\n        current.updatePath(\n          PathParser\n            .fromSVGString(current.d)\n            .divideSegmentByCount(5)\n            .simplify(0.1)\n            .cardinalSplines()\n            .d\n          )\n      ))  \n    } else if (command === 'polygonal') {\n      this.command(\"setAttributeForMulti\", \"polygonal path string\", this.$selection.packByValue(\n        current.updatePath(\n          PathParser\n            .fromSVGString(current.d)\n            .polygonal()\n            .d\n          )\n      ))        \n    } else if (command === 'flatten') {\n\n      let newPath = PathParser.fromSVGString();\n      this.$selection.each((item) => {\n        newPath.addPath(item.accumulatedPath());\n      });\n\n      newPath = current.invertPath(newPath.d);\n\n      const newLayerAttrs = current.toCloneObject();\n      delete newLayerAttrs.id;\n\n      this.command('addLayer', `add layer - path`, this.$editor.createModel({\n        ...newLayerAttrs,\n        ...current.updatePath(newPath.d),\n      }), true, current.parent)\n    } else {\n\n      this.command(\"setAttributeForMulti\", \"change boolean operation\", this.$selection.packByValue({\n        \"boolean-operation\": command\n      }))\n  \n    }\n\n    this.nextTick(() => {\n      this.$selection.reselect();\n      this.emit(\"refreshSelection\");\n      this.emit(\"refreshSelectionTool\");\n    });    \n\n  }\n\n  [SUBSCRIBE('refreshSelection')] () {\n    this.refreshShow(() => {\n      return this.$selection.is('svg-path', 'polygon', 'star');\n    })\n  }\n}","import { STRING_TO_CSS } from \"el/utils/func\";\nimport Color from \"el/utils/Color\";\n\nvar BorderStyles = {\n    \"none\": true,\n    \"hidden\": true,\n    \"dotted\": true,\n    \"dashed\": true,\n    \"solid\": true,\n    \"double\": true,\n    \"groove\": true,\n    \"ridge\": true,\n    \"inset\": true,\n    \"outset\": true\n}\n\nexport class Border {\n    static parseStyle (str) {\n        return STRING_TO_CSS(str);\n    }\n\n    static parseValue (str = '') {\n        var style = ''; \n        var width = ''; \n        var color = ''; \n\n        str.split(' ').filter(it => it.trim()).forEach(value => {\n            if (BorderStyles[value]) {\n                style = value; \n            } else if (Color.isColor(value)) {\n                color = value; \n            } else {\n                width = value; \n            }\n        });\n\n        return {\n            style, color, width \n        }\n    }\n\n    static joinValue (obj) {\n        return `${obj.width} ${obj.style || 'solid'} ${obj.color}`\n    }\n\n    static join (obj) {\n\n        var arr = [\n            obj['border'] ? `border: ${obj['border']}` : '',\n            obj['border-top'] ? `border-top: ${obj['border-top']}` : '',\n            obj['border-left'] ? `border-left: ${obj['border-left']}` : '',\n            obj['border-right'] ? `border-right: ${obj['border-right']}` : '',\n            obj['border-bottom'] ? `border-bottom: ${obj['border-bottom']}` : '',\n        ].filter(it => it);\n\n        return arr.join(';');\n    }\n}","import { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { Border } from \"el/editor/property-parser/Border\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './BorderEditor.scss';\n\nconst borderTypeList = [\n  \"border\", \n  // \"border-top\", \n  // \"border-right\", \n  // \"border-bottom\", \n  // \"border-left\"\n]\nconst borderTypeTitle = {\n  \"border\":  'all', \n  \"border-top\": 'top', \n  \"border-right\": 'right', \n  \"border-bottom\": 'bottom', \n  \"border-left\": 'left'\n}\n\n\nexport default class BorderEditor extends EditorElement {\n\n  initState() {\n\n    var borders = Border.parseStyle(this.props.value)\n    var direction = Object.keys(borders)[0] || 'border'\n\n    return {\n      direction,\n      borders\n    }\n  }\n\n  updateData(obj) {\n    this.setState(obj, false);\n    this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);  \n  }\n\n  getValue() {\n    return Border.join(this.state.borders)\n  }\n\n  setValue(value) {\n    this.state.borders = Border.parseStyle(value);\n    this.refresh();\n  }\n\n  refresh () {\n    this.load();\n\n  }\n\n\n  [LOAD('$editorArea')] () {\n    return borderTypeList.map(type => {\n      var label = borderTypeTitle[type] || type; \n\n      label = this.$i18n('border.editor.' + label);\n      return /*html*/`\n      <div>\n        <object refClass='BorderValueEditor' ref='$${type}' label='${label}' key=\"${type}\" value=\"${this.state.borders[type]}\" onchange=\"changeKeyValue\" />\n      </div>\n      `\n    })\n  }\n\n  template() {\n    return /*html*/`\n      <div class=\"elf--border-editor\">\n        <div class='header'>\n          <div></div>\n          <label>${this.$i18n('border.editor.width')}</label>\n          <label>${this.$i18n('border.editor.style')}</label>\n          <label>${this.$i18n('border.editor.color')}</label>\n        </div>\n        <div class='editor-area' ref='$editorArea'>\n\n        </div>\n      </div>\n    `;\n  }\n\n\n  [SUBSCRIBE_SELF('changeKeyValue')] (key, value) {\n    var borders = this.state.borders;\n    borders[key] = value; \n\n    this.updateData({ borders })\n  }\n\n}","\nimport { LOAD, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './BorderProperty.scss';\n\nexport default class BorderProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('border.property.title');  \n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'border'\n  }\n\n  getBody() {\n    return /*html*/`<div class=\"property-item full border-item\" ref='$body'></div>`;\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {}; \n    var value = current['border'] || ''\n\n    return /*html*/`\n      <object refClass='BorderEditor' ref='$1' key='border' value='${value}' onchange='changeKeyValue' />\n    `\n  }\n\n  get editableProperty() {\n    return 'border';\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')]() {\n    this.refresh();\n  }  \n\n  [SUBSCRIBE_SELF('changeKeyValue')] (key, value) {\n    this.command(\"setAttributeForMulti\", 'change border', this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport { Border } from \"el/editor/property-parser/Border\";\nimport { SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './BorderValueEditor.scss';\n\nconst borderStyleList = [\n  \"none\",\n  \"hidden\",\n  \"dotted\",\n  \"dashed\",\n  \"solid\",\n  \"double\",\n  \"groove\",\n  \"ridge\",\n  \"inset\",\n  \"outset\"\n].join(',');\n\n\n\nexport default class BorderValueEditor extends EditorElement {\n\n  initState() {\n\n    return {\n      value: Border.parseValue(this.props.value)\n    }\n  }\n\n  updateData(obj) {\n    this.setState(obj, false);\n    this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);  \n  }\n\n  getValue() {\n    return Border.joinValue(this.state.value)\n  }\n\n  setValue(value) {\n    this.state.value = Border.parseValue(value);\n    this.refresh();\n  }\n\n  refresh () {\n\n    this.children.$width.setValue(this.state.value.width || Length.z())\n    this.children.$style.setValue(this.state.value.style || 'solid')\n    this.children.$color.setValue(this.state.value.color || 'rgba(0, 0, 0, 1)')\n  }\n   \n\n  template() {\n    var {width, style, color} = this.state.value; \n    return /*html*/`\n      <div class=\"elf--border-value-editor\">\n        <div class='editor-area'>\n          <object refClass=\"RangeEditor\" ref='$width' min=\"0\" max=\"100\" step=\"1\" key='width' value=\"${width}\" onchange='changeKeyValue' />\n        </div>\n        <div class='editor-area'>\n          <object refClass=\"SelectEditor\"  ref='$style' key='style' options='${borderStyleList}' value=\"${style || 'solid'}\" onchange=\"changeKeyValue\" />\n        </div>\n        <div class='editor-area'>\n          <object refClass=\"ColorSingleEditor\" ref='$color' key='color' value=\"${color|| 'rgba(0, 0, 0, 1)'}\"  onchange=\"changeKeyValue\" />\n        </div>\n\n      </div>\n    `;\n  }\n\n\n  [SUBSCRIBE_SELF('changeKeyValue')] (key, v) {\n    var value = this.state.value;\n    value[key] = v; \n\n    this.updateData({ value })\n  }\n\n}","\nimport { CLICK, CHANGE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { Position } from \"el/editor/unit/Length\";\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nconst typeList = [\n  { key: \"top\", title: \"Top\" },\n  { key: \"bottom\", title: \"Bottom\" },\n  { key: \"left\", title: \"Left\" },\n  { key: \"right\", title: \"Right\" }\n];\n\nconst keyList = typeList.map(it => it.key);\n\n\nconst names = {\n  image: \"Image\",\n  \"static-gradient\": \"Static\",\n  \"linear-gradient\": \"Linear\",\n  \"repeating-linear-gradient\": `${icon.repeat} Linear`,\n  \"radial-gradient\": \"Radial\",\n  \"repeating-radial-gradient\": `${icon.repeat} Radial`,\n  \"conic-gradient\": \"Conic\",\n  \"repeating-conic-gradient\": `${icon.repeat} Conic`\n};\n\nconst types = {\n  image: \"image\",\n  \"static-gradient\": \"gradient\",\n  \"linear-gradient\": \"gradient\",\n  \"repeating-linear-gradient\": \"gradient\",\n  \"radial-gradient\": \"gradient\",\n  \"repeating-radial-gradient\": \"gradient\",\n  \"conic-gradient\": \"gradient\",\n  \"repeating-conic-gradient\": \"gradient\"\n};\n\n\n\nexport default class BorderImageProperty extends BaseProperty {\n\n  getTitle() {\n    return \"Border Image\";\n  }\n\n  [SUBSCRIBE('refreshSelection', )] () {\n    this.refresh()\n  }\n\n  getTools() {\n    var current = this.$selection.current || {} \n\n    var appliedBorderImage = current.appliedBorderImage || false \n\n    return `\n      <label><input type='checkbox' ${appliedBorderImage ? 'checked' : ''} ref='$apply' /> Apply</label>\n    `\n  }\n\n  [CLICK('$apply')] () {\n    var current = this.$selection.current;\n    if (!current) return;\n\n    var applyBorderImage = this.refs.$apply.checked()\n\n    current.reset({applyBorderImage});\n\n    this.emit(\"refreshElement\", current);\n\n  }\n\n\n  getColorStepList(image) {\n    switch (image.type) {\n      case \"static-gradient\":\n      case \"linear-gradient\":\n      case \"repeating-linear-gradient\":\n      case \"radial-gradient\":\n      case \"repeating-radial-gradient\":\n      case \"conic-gradient\":\n      case \"repeating-conic-gradient\":\n        return this.getColorStepString(image.colorsteps);\n    }\n\n    return '';\n  }\n\n  getColorStepString(colorsteps) {\n    return colorsteps\n      .map(step => {\n        return `<div class='step' data-colorstep-id=\"${\n          step.id\n        }\" data-selected='${step.selected}' style='background-color:${step.color};'></div>`;\n      })\n      .join('');\n  }\n\n  [LOAD('$borderImageView')] () {\n    var current  = this.$selection.current || {borderImage: { image: {}}} ;\n    var borderImage = current.borderImage;\n    \n    var backgroundTypeName = borderImage.type ?  names[borderImage.type] : '';\n\n    const imageCSS = `background-image: ${borderImage.image.toString()}; background-size: cover;`;    \n    return ` \n      <div class='preview' ref=\"$preview\">\n        <div class='mini-view'>\n          <div class='color-view'  style=\"${imageCSS}\" ref=\"$miniView\"></div>\n        </div>\n      </div> \n      <div class='fill-info'>\n        <div class='gradient-info'>\n          <div class='fill-title' ref=\"$fillTitle\">${backgroundTypeName}</div>\n          <div class='colorsteps' ref=\"$colorsteps\">\n            ${this.getColorStepList(borderImage.image)}\n          </div>\n        </div>\n      </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeBorderImage')] (key, value) {\n\n    if (key === 'border-image-slice') {\n      keyList.forEach(type => {\n        this.children[`$${type}Slice`].setValue(value)\n      });\n    }\n\n    this.setBorderImageProperty()\n  }\n\n  getBody() {\n\n    return /*html*/`\n      <div class=\"property-item border-image-item\" ref='$borderImageView'></div>    \n      <div class=\"property-item border-slice-item\">\n        <div class=\"slice-selector\" data-selected-value=\"all\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"slice-value\">\n          <object refClass=\"RangeEditor\"  ref='$allSlice' key='border-image-slice' onchange='changeBorderImage' />\n        </div>\n      </div>\n      <div\n        class=\"property-item border-slice-item full has-list\"\n        ref=\"$partitialSetting\"\n        style=\"display: none;\"\n      >\n        <div class=\"slice-setting-box\" ref=\"$sliceSettingBox\">\n          ${typeList.map(it => {\n            return `\n              <div>\n                <label class='title'>${it.title}</label>\n              </div>\n              <div>\n                <object refClass=\"RangeEditor\"  ref='$${it.key}Slice' label='Slice' key='border-image-slice-${it.key}' onchange='changeBorderImage' /> \n              </div>  \n              <div>\n                <object refClass=\"RangeEditor\"  ref='$${it.key}Width' label='Width' key='border-image-width-${it.key}' onchange='changeBorderImage' /> \n              </div>                \n            `;\n          }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n\n  [CHANGE(\"$sliceSettingBox select\")](e) {\n    this.setBorderImageProperty();\n  }\n\n  [CLICK('$borderImageView .preview')] () {\n    this.viewFillPopup(this.refs.$preview, '');\n  }\n\n  [CLICK(\"$borderImageView .colorsteps .step\")](e) {\n\n    this.refs.$colorsteps.$(`[data-selected=\"true\"]`).removeAttr('data-selected')\n    var selectColorStepId = e.$dt.attr(\"data-colorstep-id\");\n    e.$dt.attr('data-selected', true);\n    var $preview = e.$dt.closest(\"border-image-item\").$(\".preview\");\n    this.viewFillPopup($preview, selectColorStepId);\n  }\n\n\n  getFillData(borderImage) {\n    let data = {\n      type: borderImage.type\n    };\n\n    switch (data.type) {\n      case \"image\":\n        data.url = borderImage.image ? borderImage.image.url : \"\";\n        break;\n      default:\n        if (borderImage.image) {\n          const image = borderImage.image;\n\n          data.type = image.type;\n          data.colorsteps = [...image.colorsteps];\n          data.angle = image.angle;\n          data.radialType = image.radialType || \"ellipse\";\n          data.radialPosition = image.radialPosition || Position.CENTER;\n        } else {\n          data.colorsteps = [];\n          data.angle = 0;\n          data.radialType = \"ellipse\";\n          data.radialPosition = Position.CENTER;\n        }\n\n        break;\n    }\n\n    return data;\n  }\n\n\n  viewFillPopup($preview, selectColorStepId) {\n\n    var current = this.$selection.current;\n\n    if (!current) return;\n\n    this.emit(\"showFillPopup\", {\n      changeEvent: 'changeBorderImageFillPopup',\n      ...this.getFillData(current.borderImage),\n      selectColorStepId,\n      refresh: true\n    });\n  }\n\n  viewChangeImage(data) {\n    var current = this.$selection.current;\n    if (!current) return; \n\n    var borderImage = current.borderImage;\n\n    if (!borderImage) return;\n    var $el = this.getRef(\"$miniView\");\n    if ($el && borderImage.image) {\n      $el.css({\n        'background-image': borderImage.image.toString(),\n        \"background-size\": \"cover\"\n      });\n    }\n\n    var $el = this.getRef(\"$fillTitle\");\n    if ($el) {\n      $el.html(names[\"image\"]);\n    }\n\n    var $el = this.getRef(\"$colorsteps\", this.selectedIndex);\n    if ($el) {\n      $el.empty();\n    }\n  }\n\n  setImage(data) {\n\n    var current = this.$selection.current;\n    if (!current) return; \n\n    current.borderImage.setImageUrl(data);\n\n    this.viewChangeImage(data);\n\n    this.emit(\"refreshElement\", current);\n  }\n\n  viewChangeGradient(data) {\n    var current = this.$selection.current;\n    if (!current) return; \n\n    var borderImage = current.borderImage;\n\n    if (!borderImage) return;\n    var $el = this.getRef(\"$miniView\");\n    if ($el) {\n      $el.css({\n        'background-image': borderImage.image.toString(),\n        \"background-size\": \"cover\"\n      });      \n    }\n\n    var $el = this.getRef(\"$fillTitle\");\n    if ($el) {\n      $el.html(names[data.type]);\n    }\n\n    var $el = this.getRef(\"$colorsteps\", this.selectedIndex);\n    if ($el) {\n      $el.html(this.getColorStepString(data.colorsteps));\n    }\n  }\n\n\n  setGradient(data) {\n\n    var current = this.$selection.current;\n    if (!current) return; \n  \n\n    current.borderImage.setGradient(data);   \n\n    this.viewChangeGradient(data);\n\n    this.emit(\"refreshElement\", current);\n\n  }\n\n  [SUBSCRIBE(\"changeBorderImageFillPopup\")](data) {\n    switch (data.type) {\n      case \"image\":\n        this.setImage(data);\n        break;\n      default:\n        this.setGradient(data);\n        break;\n    }\n  }\n\n  setBorderImageProperty() {\n    var current = this.$selection.current;\n    if (!current) return;\n    var borderImage = current.borderImage;\n\n    var type = this.refs.$selector.attr(\"data-selected-value\");\n\n    if (type === \"all\") {\n      var len = this.children.$allSlice.getValue()\n      borderImage.reset({\n        slice: {\n          top: len.clone(),\n          right: len.clone(),\n          bottom: len.clone(),\n          left: len.clone()\n        }\n      })\n\n    } else {\n      keyList.forEach(type => {\n        borderImage.slice[type] = this.children[`$${type}Slice`].getValue()\n        borderImage.width[type] = this.children[`$${type}Width`].getValue()\n      });\n    }\n\n    this.emit(\"refreshElement\", current);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.setBorderImageProperty();\n  }\n\n}","import { CLICK, INPUT, CHANGE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport BorderRadius from \"el/editor/property-parser/BorderRadius\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './BorderRadiusEditor.scss';\n\nconst typeList = [\n  { key: \"border-top-left-radius\", title: \"topLeft\" },\n  { key: \"border-top-right-radius\", title: \"topRight\" },\n  { key: \"border-bottom-right-radius\", title: \"bottomRight\" },\n  { key: \"border-bottom-left-radius\", title: \"bottomLeft\" }  \n];\n\nconst keyList = typeList.map(it => it.key);\n\nexport default class BorderRadiusEditor extends EditorElement {\n\n  initState() {\n    return BorderRadius.parseStyle(this.props.value)\n  }\n\n  template() {\n    return `<div class='elf--border-radius-editor' ref='$body'></div>`\n  }\n\n  [SUBSCRIBE_SELF('changeBorderRadius')] (key, value) {\n\n    if (key === 'border-radius') {\n      keyList.forEach(type => {\n        this.children[`$${type}`].setValue(value.clone())\n      });\n    }\n\n    this.setBorderRadius()\n  }\n\n  [LOAD('$body')] () {\n\n    var selectedValue = this.state.isAll ? 'all' : 'partitial'\n    var borderRadius = this.state['border-radius'];\n\n    return /*html*/`\n      <div class=\"property-item border-radius-item\">\n        <div class=\"radius-selector\" data-selected-value=\"${selectedValue}\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <object refClass=\"RangeEditor\"  ref='$all' key='border-radius' value=\"${borderRadius}\" onchange='changeBorderRadius' />\n        </div>\n      </div>\n      <div\n        class=\"property-item full border-radius-item\"\n        ref=\"$partitialSetting\"\n        style=\"display: none;\"\n      >\n        <div class=\"radius-setting-box\" ref=\"$radiusSettingBox\">\n          ${typeList.map(it => {\n            var value = this.state[it.key]\n            var label = this.$i18n('border.radius.editor.' + it.title);\n            return /*html*/`\n              <div>\n                  <object refClass=\"RangeEditor\"  ref='$${it.key}' label='${label}' key='${it.key}' value='${value}' onchange='changeBorderRadius' />\n              </div>  \n            `;\n          }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n  [INPUT(\"$radiusSettingBox input\")](e) {\n    this.setBorderRadius();\n  }\n\n  [CHANGE(\"$radiusSettingBox select\")](e) {\n    this.setBorderRadius();\n  }\n\n  setBorderRadius() {\n    var type = this.refs.$selector.attr(\"data-selected-value\");\n\n    if (type === \"all\") {\n      this.state.isAll = true; \n      this.state['border-radius'] = this.children[`$all`].getValue();\n    } else {\n\n      this.state.isAll = false; \n      keyList.forEach(key => {\n        this.state[key] = this.children[`$${key}`].getValue();\n      });\n    }\n\n    this.modifyBorderRadius();\n  }\n\n  modifyBorderRadius () {\n    var value = '';\n\n    if (this.state.isAll) {\n      value = this.state['border-radius'] + ''\n    } else {\n      value = keyList.map(key => `${this.state[key]}`).join(' ')\n    }\n\n    this.parent.trigger(this.props.onchange, value);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.setBorderRadius();\n  }\n\n\n}","import { DEBOUNCE, IF, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nexport default class BorderRadiusProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('border.radius.property.title');  \n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'border-radius'\n  }\n\n  getBody() {\n    return /*html*/`<div class=\"property-item full border-radius-item\" ref='$body'></div>`;\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {}; \n    var value = current['border-radius'] || ''\n\n    return /*html*/`\n      <object refClass=\"BorderRadiusEditor\" ref='$1' value='${value}' onchange='changeBorderRadius' />\n    `\n  }\n\n  get editableProperty() {\n    return 'border-radius';\n  }\n\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')]() {\n    this.refresh();\n  }  \n\n  [SUBSCRIBE_SELF('changeBorderRadius')] (value) {\n\n    this.command(\"setAttributeForMulti\", 'change border radius', this.$selection.packByValue({ \n      'border-radius': value \n    }))\n  }\n\n}","import { DEBOUNCE, IF, INPUT, LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport './BoxModelProperty.scss';\n\n\nconst fields = [\"margin\", \"padding\"];\nlet styleKeys = [];\nfields.forEach(field => {\n  styleKeys.push.apply(styleKeys, [\"-top\", \"-bottom\", \"-left\", \"-right\"].map(it => field + it));\n});\n\n\nexport default class BoxModelProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('box.model.property.title');\n  }\n\n  get editableProperty() {\n    return 'box-model';\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')]() {\n    this.refresh();\n  }\n\n  getBody() {\n    return /*html*/`<div class=\"property-item elf--box-model-item\" ref=\"$boxModelItem\"></div>`;\n  }\n\n  templateInput(key, current) {\n\n    var value = Length.parse(current[key] || Length.z())\n\n    return /*html*/`<input type=\"number\" ref=\"$${key}\" value=\"${value.value}\" tabIndex=\"1\" />`;\n  }\n\n  [LOAD(\"$boxModelItem\")]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    return /*html*/`\n      <div>\n        <div class=\"margin\" data-title=\"${this.$i18n('box.model.property.margin')}\">\n          <div data-value=\"top\">\n            ${this.templateInput(\"margin-top\", current)}\n          </div>\n          <div data-value=\"bottom\">\n            ${this.templateInput(\"margin-bottom\", current)}\n          </div>\n          <div data-value=\"left\">\n            ${this.templateInput(\"margin-left\", current)}\n          </div>\n          <div data-value=\"right\">\n            ${this.templateInput(\"margin-right\", current)}\n          </div>\n        </div>\n        <div class=\"padding\" data-title=\"${this.$i18n('box.model.property.padding')}\">\n          <div data-value=\"top\">\n            ${this.templateInput(\"padding-top\", current)}\n          </div>\n          <div data-value=\"bottom\">\n            ${this.templateInput(\"padding-bottom\", current)}\n          </div>\n          <div data-value=\"left\">\n            ${this.templateInput(\"padding-left\", current)}\n          </div>\n          <div data-value=\"right\">\n            ${this.templateInput(\"padding-right\", current)}\n          </div>\n        </div>\n        <div class='content' title='Content'>\n        \n        </div>\n      </div>\n    `;\n  }\n\n  [INPUT(\"$boxModelItem input\")](e) {\n    this.resetBoxModel();\n  }\n\n  resetBoxModel() {\n    var data = {};\n\n    styleKeys.forEach(key => {\n      data[key] = Length.px(this.refs[\"$\" + key].value);\n    });\n\n    this.command(\"setAttributeForMulti\", 'change padding or margin', this.$selection.packByValue(data))    \n  }\n}","import { CLICK, LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { BoxShadow } from \"el/editor/property-parser/BoxShadow\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport './BoxShadowEditor.scss';\n\nexport default class BoxShadowEditor extends EditorElement {\n\n  initState() {\n    return {\n      hideLabel: this.props['hide-label'] === 'true' ? true : false,\n      boxShadows: BoxShadow.parseStyle(this.props.value || '')\n    }\n  }\n\n  template() {\n    var labelClass = this.state.hideLabel ? 'hide' : '';\n    return /*html*/`\n      <div class=\"elf--box-shadow-editor\" >\n        <div class='label ${labelClass}' >\n            <label>${this.props.title||''}</label>\n            <div class='tools'>\n              <button type=\"button\" ref=\"$add\" title=\"add Box Shadow\">${icon.add}</button> ${this.props.title ? '': 'Add'}\n            </div>\n        </div>\n        <div class='box-shadow-list' ref='$shadowList'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$shadowList\")]() {\n    var arr = this.state.boxShadows.map((shadow, index) => {\n      return /*html*/`\n        <div class=\"shadow-item real\" data-index=\"${index}\">\n          <div class=\"color\">\n            <div class='color-view' style=\"background-color: ${shadow.color}\">\n            </div>\n          </div>\n          <div class=\"inset\" data-value=\"${shadow.inset}\">${icon.check}</div>\n          <div class=\"offset-x\">${shadow.offsetX}</div>\n          <div class=\"offset-y\">${shadow.offsetY}</div>\n          <div class=\"blur-radius\">${shadow.blurRadius}</div>\n          <div class=\"spread-radius\">${shadow.spreadRadius}</div>\n          <div class=\"tools\">\n            <button type=\"button\" class=\"remove\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n      `;\n    });\n\n    if (arr.length) {\n      arr.push(/*html*/`\n      <div class=\"shadow-item desc\">\n        <div class=\"color\"></div>      \n        <div class=\"inset\" >Inset</div>\n\n        <div class=\"offset-x\">X</div>\n        <div class=\"offset-y\">Y</div>\n        <div class=\"blur-radius\">${this.$i18n('boxshadow.editor.blur')}</div>\n        <div class=\"spread-radius\">${this.$i18n('boxshadow.editor.spread')}</div>\n        <div class=\"tools\">\n        </div>\n      </div>\n      `);\n    }\n\n\n    return arr.join('');\n  }\n\n  modifyBoxShadow () {\n    var value = this.state.boxShadows.join(', ');\n\n    this.parent.trigger(this.props.onchange, value)\n  }\n\n  [SUBSCRIBE('add')] () {\n    this.state.boxShadows.push(new BoxShadow({\n      offsetX: Length.px(2),\n      offsetY: Length.px(2),\n      blurRadius: Length.px(3),\n      spreadRadius: Length.px(1)\n    }))\n\n    this.refresh();\n\n    this.modifyBoxShadow()\n  }\n\n  [CLICK(\"$add\")]() {\n    this.trigger('add');\n  }\n\n  [CLICK(\"$shadowList .remove\")](e) {\n    var index = +e.$dt.attr(\"data-index\");\n\n    this.state.boxShadows.splice(index, 1);\n\n    this.refresh();\n\n    this.modifyBoxShadow()\n\n    this.emit('hideBoxShadowPropertyPopup')\n  }\n\n\n  [CLICK(\"$shadowList .shadow-item.real > div:not(.tools)\")](e) {\n    var index = +e.$dt.closest('shadow-item').attr(\"data-index\");\n\n    var shadow = this.state.boxShadows[index]\n\n    this.viewShadowPopup(shadow, index);\n  }\n\n  viewShadowPopup(shadow, index) {\n    this.selectedIndex = index;\n\n    this.viewBoxShadowPropertyPopup(shadow);\n  }\n\n  viewBoxShadowPropertyPopup(shadow) {\n    this.emit(\"showBoxShadowPropertyPopup\", {\n      changeEvent: (data, params) => {\n        var shadow = this.state.boxShadows[this.selectedIndex]\n        if (shadow) {\n          shadow.reset(data)\n          this.refresh();\n    \n          this.modifyBoxShadow();      \n        }\n      },\n      color: shadow.color,\n      inset: shadow.inset,\n      offsetX: shadow.offsetX,\n      offsetY: shadow.offsetY,\n      blurRadius: shadow.blurRadius,\n      spreadRadius: shadow.spreadRadius\n    }, { id: this.id });\n\n  }\n}","import { CLICK, DEBOUNCE, IF, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\n\nexport default class BoxShadowProperty extends BaseProperty {\n\n  getTitle () {\n    return this.$i18n('boxshadow.property.title');\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"full box-shadow-item\" ref=\"$shadowList\"></div>\n    `;\n  }\n\n  hasKeyframe() {\n    return true; \n  }\n\n  [LOAD(\"$shadowList\")]() {\n    var current = this.$selection.current || {};\n    return /*html*/`\n      <object refClass=\"BoxShadowEditor\" ref='$boxshadow' value=\"${current['box-shadow'] || ''}\" hide-label=\"true\" onChange=\"changeBoxShadow\" />\n    `\n  }\n\n\n  getTools() {\n    return /*html*/`<button type=\"button\" ref='$add'>${icon.add}</button>`\n  }\n\n  [CLICK('$add')] () {\n    this.children.$boxshadow.trigger('add');\n  }\n\n  get editableProperty() {\n    return 'box-shadow';\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')]() {\n    this.refresh();\n\n  }\n\n  [SUBSCRIBE_SELF(\"changeBoxShadow\")](boxshadow) {\n\n    this.command('setAttributeForMulti', 'change box shadow', this.$selection.packByValue({ \n      'box-shadow': boxshadow\n    }))\n\n  }\n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, CLICK, POINTERSTART, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './BoxShadowPropertyPopup.scss';\n\nexport default class BoxShadowPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return 'Box Shadow Editor'\n  }\n\n  initState() {\n    return {\n      color: 'rgba(0, 0, 0, 1)',\n      inset: false,\n      offsetX: Length.z(),\n      offsetY: Length.z(),\n      blurRadius: Length.z(),\n      spreadRadius: Length.z()\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.changeEvent, opt, this.state.params);\n  }\n\n  getBody() {\n    return /*html*/`<div class='elf--box-shadow-property-popup' ref='$popup'></div>`;\n  }\n\n  [LOAD(\"$popup\")]() {\n    return /*html*/`\n      <div class=\"box\">\n        <div class=\"type\">\n          <label>Type</label>\n          <div\n            class=\"select\"\n            data-selected-value=\"${this.state.inset ? \"inset\" : \"outset\"}\"\n            ref=\"$type\"\n          >\n            <button type=\"button\" data-value=\"outset\">Outset</button>\n            <button type=\"button\" data-value=\"inset\">Inset</button>\n          </div>\n        </div>\n        <div class=\"drag-board\" ref=\"$dragBoard\">\n          <div\n            class=\"pointer\"\n            ref=\"$pointer\"\n            style=\"left: ${this.state.offsetX};top: ${this.state.offsetY}\"\n          ></div>\n        </div>        \n        <div class=\"popup-item offset-x\">\n          <object refClass=\"RangeEditor\" ref='$offsetX' label='X' key='offsetX' value=\"${this.state.offsetX}\" onchange='changeRangeEditor' />\n        </div>\n        <div class=\"popup-item offset-y\">\n          <object refClass=\"RangeEditor\" ref='$offsetY' label='Y' key='offsetY' value=\"${this.state.offsetY}\" onchange='changeRangeEditor' />        \n        </div>\n        <div class=\"popup-item blur-radius\">\n          <object refClass=\"RangeEditor\" ref='$blurRadius' label='Blur' key='blurRadius' value=\"${this.state.blurRadius}\" onchange='changeRangeEditor' />        \n        </div>\n        <div class=\"popup-item spread-radius\">\n          <object refClass=\"RangeEditor\" \n              ref='$spreadRadius' \n              label='Spread' \n              key='spreadRadius' \n              value=\"${this.state.spreadRadius}\" \n              onchange='changeRangeEditor' \n            />        \n        </div>\n        <div class='popup-item'>\n          <object refClass=\"ColorViewEditor\" \n              ref='$foreColor' \n              label=\"color\" \n              key='color' \n              value=\"${this.state.color}\"\n              onchange=\"changeRangeEditor\" />\n        </div>        \n      </div>\n    `;\n  }\n\n\n  [CLICK(\"$popup .select button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n\n    this.getRef(\"$type\").attr(\"data-selected-value\", type);\n\n    this.updateData({\n      inset: type === \"inset\"\n    });\n  }\n\n  [POINTERSTART(\"$popup .drag-board\") + MOVE(\"movePointer\")](e) {\n    this.offsetX = e.offsetX;\n    this.offsetY = e.offsetY;\n\n    var rect = this.getRef(\"$dragBoard\").rect();\n    this.boardWidth = rect.width;\n    this.boardHeight = rect.height;\n  }\n\n  refreshPointer() {\n    this.getRef(\"$pointer\").css({\n      left: this.state.offsetX,\n      top: this.state.offsetY\n    });\n\n  }\n\n  movePointer(dx, dy) {\n    var realX = this.offsetX + dx;\n    var realY = this.offsetY + dy;\n\n    var halfWidth = this.boardWidth / 2;\n    var halfHeight = this.boardHeight / 2;\n\n    var x = realX - halfWidth;\n    var y = realY - halfHeight;\n\n    if (x < -halfWidth) {\n      x = -halfWidth;\n    } else if (x > halfWidth) {\n      x = halfWidth;\n    }\n\n    if (y < -halfHeight) {\n      y = -halfHeight;\n    } else if (y > halfHeight) {\n      y = halfHeight;\n    }\n\n    x = Math.floor(x);\n    y = Math.floor(y);\n\n    this.getRef(\"$offsetX\").val(x);\n    this.getRef(\"$offsetY\").val(y);\n\n    this.updateData({\n      offsetX: Length.px(x),\n      offsetY: Length.px(y)\n    });\n\n    this.refreshPointer();\n\n    this.children.$offsetX.setValue(this.state.offsetX)\n    this.children.$offsetY.setValue(this.state.offsetY)    \n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    this.updateData({\n      [key]: value\n    })\n\n    if (key === 'offsetX' || key === 'offsetY') {\n      this.refreshPointer()\n    }\n  }\n\n  [SUBSCRIBE(\"showBoxShadowPropertyPopup\")](data, params) {\n\n    this.changeEvent = data.changeEvent || \"changeBoxShadowPropertyPopup\"\n\n    this.setState({...data, params});\n    this.refresh();\n\n    this.show(432);\n\n  }\n\n  [SUBSCRIBE( \"hideBoxShadowPropertyPopup\" )]() {\n    this.hide();\n  }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { POINTERSTART, BIND, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { isUndefined } from \"el/sapa/functions/func\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nexport default class CircleEditor extends EditorElement {\n\n    parseValue (str = '50%') {\n        var radius = new Length('', 'closest-side'), position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        return {\n            radius, x, y\n        }\n    }\n\n    initState() {\n        return this.parseValue(this.props.value)\n    }\n\n    template() {\n        return /*html*/`\n        <div class='clip-path-editor circle-editor'>\n            <object refClass=\"RangeEditor\"  \n                ref='$range' \n                label='Radius' \n                key='radius' \n                value='${this.state.radius}' \n                min=\"0\" \n                max=\"100\" \n                step=\"0.1\" \n                units=\"%,closest-side,farthest-side\" \n                onchange='changeRangeEditor' \n            />\n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' ref='$pointer' style='left: ${this.state.x};top: ${this.state.y};'></div>\n                <div class='clip-area circle' ref='$clipArea'></div>\n            </div>\n        </div>\n    `\n    }\n\n\n    [BIND('$clipArea')] () {\n        return {\n            style : {\n                'clip-path' : `${this.props.key}(${this.toClipPathValueString()})`\n            }\n        }\n    }    \n\n    [POINTERSTART('$area') + MOVE() + END()] (e) {\n\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n    }\n\n    move (dx, dy) {\n        var x = this.startXY.x + dx;\n        var y = this.startXY.y + dy;  \n\n        if (this.areaRect.x > x) {\n            x = this.areaRect.x; \n        } else if (this.areaRect.right < x) {\n            x = this.areaRect.right; \n        }\n\n        if (this.areaRect.y > y) {\n            y = this.areaRect.y; \n        } else if (this.areaRect.bottom < y) {\n            y = this.areaRect.bottom; \n        }        \n\n        var left = Length.percent((x - this.areaRect.x) / this.areaRect.width * 100).round(1)\n        var top = Length.percent((y - this.areaRect.y) / this.areaRect.height * 100).round(1)\n\n        this.refs.$pointer.css({\n            left, top \n        })\n\n        this.updateData({\n            x: left,\n            y: top\n        })\n\n\n        this.bindData('$clipArea')\n    }\n\n    toClipPathValueString () {\n\n        var {x,y,radius} = this.state;\n\n        var results = `${x} ${y}`\n\n        var radiusString = radius + '';\n\n        if (radiusString.includes('closest-side')) {\n            radiusString = 'closest-side'\n        } else if (radiusString.includes('farthest-side')) {\n            radiusString = 'farthest-side'\n        }\n\n        return radius ? `${radiusString} at ${results}` :  `${results}`;\n    }\n\n    updateData (data) {\n        this.setState(data)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n    [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n\n        if (key === 'radius') {\n            var radius = value; \n            var tempValue = value.unit + '';\n\n            if (tempValue.includes('closest-side')) {\n                radius = new Length('', 'closest-side')\n            }  else if (tempValue.includes('farthest-side')) {\n                radius = new Length('', 'farthest-side')\n            }\n\n            this.updateData({\n                radius\n            })\n        }\n    }\n}","\n\nimport { Length } from \"el/editor/unit/Length\";\nimport { POINTERSTART, LOAD, CLICK, BIND, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { DirectionLength } from \"el/editor/unit/DirectionLength\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { MOVE } from \"el/editor/types/event\";\n\n\nexport default class InsetEditor extends EditorElement {\n\n    parseValue (str = '') {\n        var [inset, round] = str.split('round')\n\n        var [_count, top, right, bottom, left] = DirectionLength.parse(inset);\n\n        if (round) {\n\n            var [_roundCount, topRadius, rightRadius, bottomRadius, leftRadius] = DirectionLength.parse(round);\n\n        }\n\n        return {\n            isAll: _count === 1,\n            top, \n            right, \n            bottom, \n            left ,\n            round,\n            isAllRadius: _roundCount === 1,\n            topRadius,\n            rightRadius,\n            bottomRadius,\n            leftRadius\n        }\n    }\n\n    initState() {\n        return this.parseValue(this.props.value)\n    }\n\n    template() {\n\n        var { top, right, bottom, left, round} = this.state; \n\n        var maxWidth = 220;\n        var maxHeight = 220; \n\n        var topX =  Length.percent( Math.abs((left.value - (100 - right.value))/2) ).toPx(maxWidth)\n        var topY = top.toPx(maxHeight);\n\n        var bottomX = topX.clone()\n        var bottomY = Length.percent(100 - bottom.value).toPx(maxHeight);\n\n        var rightX = Length.percent(100 - right.value).toPx(maxWidth);\n        var rightY = Length.percent( Math.abs((top.value - (100 - bottom.value))/2) ).toPx(maxHeight)\n\n        var leftX = left.toPx(maxWidth)\n        var leftY = Length.percent( Math.abs((top.value - (100 - bottom.value))/2) ).toPx(maxHeight)\n\n        var roundCheckStatus = round ? 'checked' : '';\n\n        return /*html*/`\n        <div class='clip-path-editor inset-editor'>\n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' data-type='top' ref='$top' style='left: ${topX};top: ${topY};'></div>\n                <div class='drag-pointer' data-type='right' ref='$right' style='left: ${rightX};top: ${rightY};'></div>\n                <div class='drag-pointer' data-type='bottom' ref='$bottom' style='left: ${bottomX};top: ${bottomY};'></div>\n                <div class='drag-pointer' data-type='left' ref='$left' style='left: ${leftX};top: ${leftY};'></div>\n                <div class='clip-area inset' ref='$clipAreaView' style='pointer-events: none;'></div>\n                <div class='clip-area-handle' ref='$clipArea' style='left: ${leftX};top: ${topY};width: ${Length.px(rightX.value - left.value)};height: ${Length.px(bottomY.value - topY.value)};'></div>\n            </div>\n            <div class='round-area'>\n                <label><input type=\"checkbox\" ${roundCheckStatus} ref='$hasRound' /> Round </label>\n                <div ref='$round'></div>\n            </div>\n        </div>\n    `\n    }\n\n   \n\n    [BIND('$clipAreaView')] () {\n        return {\n            style : {\n                'clip-path' : `${this.props.key}(${this.toClipPathValueString()})`\n            }\n        }\n    }   \n\n    [CLICK('$hasRound')] (e) {\n       this.updateData({\n           round: this.refs.$hasRound.checked()\n       }) \n\n       this.bindData('$clipAreaView')\n    }\n\n\n    [LOAD('$round')] () {\n        var {topRadius, rightRadius, bottomRadius, leftRadius} = this.state\n\n        var value = [topRadius, rightRadius, bottomRadius, leftRadius].join(' ')\n\n        return /*html*/`<object refClass=\"DirectionEditor\" ref='$borderRadius' value='${value}' onchange='changeBorderRadius' />`\n    }\n\n    [SUBSCRIBE_SELF('changeBorderRadius')] ([_count, topRadius, rightRadius, bottomRadius, leftRadius]) {\n\n        this.updateData({ \n            isAllRadius: _count === 1,\n            topRadius, \n            rightRadius, \n            bottomRadius, \n            leftRadius\n        })\n\n        this.bindData('$clipAreaView')        \n\n    }\n\n    refreshPointer () {\n        var { top, right, bottom, left} = this.state; \n\n        var maxWidth = 220;\n        var maxHeight = 220; \n\n        var halfWidth = Math.abs((left.value + (100 - right.value))/2);\n        var halfHeight = Math.abs((top.value + (100 - bottom.value))/2);\n\n        var topX =  Length.percent( halfWidth ).toPx(maxWidth)\n        var topY = top.toPx(maxHeight);\n\n        var bottomX = Length.percent( halfWidth ).toPx(maxWidth)\n        var bottomY = Length.percent(100 - bottom.value).toPx(maxHeight);\n\n        var rightX = Length.percent(100 - right.value).toPx(maxWidth);\n        var rightY = Length.percent( halfHeight ).toPx(maxHeight)\n\n        var leftX = left.toPx(maxWidth)\n        var leftY = Length.percent( halfHeight ).toPx(maxHeight)\n\n        this.refs.$top.css({ left: topX, top: topY })\n        this.refs.$right.css({ left: rightX, top: rightY })\n        this.refs.$bottom.css({ left: bottomX, top: bottomY })\n        this.refs.$left.css({ left: leftX, top: leftY })\n\n        this.refs.$clipArea.css({\n            left: leftX,\n            top: topY,\n            width: Length.px(rightX.value - leftX.value),\n            height: Length.px(bottomY.value - topY.value)\n        })\n\n        this.bindData('$clipAreaView')\n    }\n\n    [POINTERSTART('$area .clip-area-handle') + MOVE('moveClipArea')] (e) {\n\n        this.type = e.$dt.attr('data-type');\n        this.$target = e.$dt;\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n\n        this.clipRect = {\n            left: Length.parse(this.$target.css('left')),\n            top: Length.parse(this.$target.css('top')),\n            width: Length.parse(this.$target.css('width')),\n            height: Length.parse(this.$target.css('height')),\n        }\n\n    }\n\n   \n    moveClipArea (dx, dy) {\n\n        var clipWidth = this.clipRect.width.value;\n        var clipHeight = this.clipRect.height.value;\n        var x = this.clipRect.left.value + dx;\n        var y = this.clipRect.top.value + dy;\n\n        if (0 > x) {\n            x = 0; \n        } else if (this.areaRect.width < x + clipWidth) {\n            x = this.areaRect.width - clipWidth; \n        }\n\n        if (0 > y) {\n            y = 0; \n        } else if (this.areaRect.height < y + clipHeight) {\n            y = this.areaRect.height - clipHeight; \n        }        \n\n        var left = Length.px(x)\n        var top = Length.px(y)\n\n        this.updateData({ \n            top : top.toPercent(this.areaRect.height).round(100),\n            bottom : Length.px(this.areaRect.height -  (y + clipHeight) ).toPercent(this.areaRect.height).round(100),\n            right : Length.px(this.areaRect.width - (x + clipWidth)).toPercent(this.areaRect.width).round(100),\n            left : left.toPercent(this.areaRect.width).round(100) \n        })\n\n\n        this.refreshPointer();\n\n    } \n\n\n    [POINTERSTART('$area .drag-pointer') + MOVE()] (e) {\n\n        this.type = e.$dt.attr('data-type');\n        this.$target = e.$dt;\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n    }\n\n    move (dx, dy) {\n        var x = this.startXY.x + dx;\n        var y = this.startXY.y + dy;  \n\n        if (this.areaRect.x > x) {\n            x = this.areaRect.x; \n        } else if (this.areaRect.right < x) {\n            x = this.areaRect.right; \n        }\n\n        if (this.areaRect.y > y) {\n            y = this.areaRect.y; \n        } else if (this.areaRect.bottom < y) {\n            y = this.areaRect.bottom; \n        }        \n\n        var left = Length.px(x - this.areaRect.x)\n        var top = Length.px(y - this.areaRect.y)\n\n        if (this.type === 'top') {\n            this.updateData({ \n                top : top.toPercent(this.areaRect.height).round(100) \n            })            \n        } else if (this.type === 'bottom') {\n            this.updateData({ \n                bottom : Length.px(this.areaRect.height -  top.value).toPercent(this.areaRect.height).round(100) \n            })\n        } else if (this.type === 'right') {\n            this.updateData({ \n                right : Length.px(this.areaRect.width - left.value).toPercent(this.areaRect.width).round(100) \n            })                                    \n        } else if (this.type === 'left') {\n            this.updateData({ \n                left : left.toPercent(this.areaRect.width).round(100) \n            })\n        }\n\n        this.refreshPointer();\n\n    }\n\n    toClipPathValueString () {\n\n        var {top, right, left, bottom, round, topRadius, leftRadius, bottomRadius, rightRadius} = this.state;\n\n        var position = [top, right, bottom, left].join(' ')\n        var radius = [topRadius, rightRadius, bottomRadius, leftRadius].join(' ')\n\n        var results = `${position} ${(round && radius.trim()) ? `round ${radius}` : ''}`\n\n        return results;\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport { POINTERSTART, LOAD, CLICK, BIND, PREVENT, ALT } from \"el/sapa/Event\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { MOVE } from \"el/editor/types/event\";\n\n\nexport default class PolygonEditor extends EditorElement {\n\n    parseValue (str = '') {\n\n        var maxWidth = 220;\n        var maxHeight = 220;\n\n        return str.split(',').filter(it => it.trim()).map(it => {\n           var [x, y] = it.trim().split(' ')\n\n           return { \n               x: Length.parse(x).toPx(maxWidth), \n               y: Length.parse(y).toPx(maxHeight) \n            }\n        })\n    }\n\n    initState() {\n        return {\n            value: this.parseValue(this.props.value)\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n        <div class='clip-path-editor polygon-editor'>\n            <div class='drag-area' ref='$area'>\n                <div class='pointer-list' ref='$list'></div>\n                <div class='clip-area polygon' ref='$clipArea'></div>            \n            </div>\n            <div class='pointer-input' ref='$inputList'></div>\n        </div>\n    `\n    }\n    \n    [LOAD('$inputList')] () {\n        return this.state.value.map( (it, index) => {\n            return /*html*/`\n            <div class='pointer-item' data-index=\"${index}\">\n                <div class='input-item'>\n                    <label>X</label><input type='number' class='x' value=\"${it.x.value.toString()}\" /><span>%</span>\n                </div>\n                <div class='input-item'>\n                    <label>Y</label><input type='number' class='y' value=\"${it.y.value.toString()}\" /><span>%</span>\n                </div>\n                <div class='tools'>\n                    <button type=\"button\" class='copy' data-index=\"${index}\">${icon.copy}</button>\n                    <button type=\"button\" class='remove' data-index=\"${index}\">${icon.remove2}</button>\n                </div>\n            </div>\n            `\n        })\n    }\n\n    [CLICK('$area') + PREVENT] (e) {\n\n        if (Dom.create(e.target).is(this.refs.$area)) {\n\n            this.areaRect = this.refs.$area.rect(); \n            var {x, y}  = e.xy; \n    \n            this.appendValue({\n                x: Length.px(x - this.areaRect.left),\n                y: Length.px(y - this.areaRect.top)\n            })\n    \n            this.refresh();\n        }\n\n    }\n\n    [CLICK('$inputList .pointer-item .remove')] (e) {\n        var index = +e.$dt.attr('data-index')\n\n        this.removeValue(index);\n\n        this.refresh()\n    }\n\n    [CLICK('$inputList .pointer-item .copy')] (e) {\n        var index = +e.$dt.attr('data-index')\n\n        this.copyValue(index);\n\n        this.refresh()\n    }    \n\n    [BIND('$clipArea')] () {\n        return {\n            style : {\n                'clip-path' : `polygon(${this.toClipPathValueString()})`\n            }\n        }\n    }\n\n\n    [LOAD('$list')] () {\n\n        return this.state.value.map( (it, index) => {\n            var className = [\n                index === 0? 'first' : '',\n                index === this.state.value.length-1 ? 'last' : ''\n            ].filter(it => it).join(' ')\n            return `<div class='drag-pointer ${className}' data-index=\"${index.toString()}\" style='left: ${it.x};top: ${it.y};'></div>`\n        })\n    }\n\n    [CLICK('$area .drag-pointer') + ALT + PREVENT] (e) {\n        var index = +e.$dt.attr('data-index');\n\n        this.removeValue(index);\n\n        this.refresh();\n    }\n\n    [POINTERSTART('$area .drag-pointer') + MOVE()] (e) {\n\n        this.selectedIndex = +e.$dt.attr('data-index');\n        this.$target = e.$dt;\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n        \n        this.$value = this.state.value[this.selectedIndex]\n\n        var $inputList = this.refs.$inputList;\n        this.$x = $inputList.$(`.pointer-item[data-index=\"${this.selectedIndex}\"] input.x`)\n        this.$y = $inputList.$(`.pointer-item[data-index=\"${this.selectedIndex}\"] input.y`)\n    }\n\n    move (dx, dy) {\n        var x = this.startXY.x + dx;\n        var y = this.startXY.y + dy;  \n\n        if (this.areaRect.x > x) {\n            x = this.areaRect.x; \n        } else if (this.areaRect.right < x) {\n            x = this.areaRect.right; \n        }\n\n        if (this.areaRect.y > y) {\n            y = this.areaRect.y; \n        } else if (this.areaRect.bottom < y) {\n            y = this.areaRect.bottom; \n        }        \n\n        var left = Length.px(x - this.areaRect.x)\n        var top = Length.px(y - this.areaRect.y)\n\n        this.$target.css({\n            left, top \n        })\n\n        this.updateValue(this.selectedIndex, {\n            x: left,\n            y: top\n        })\n\n\n        var maxWidth = 220;\n        var maxHeight = 220;\n\n        this.$x.val(left.toPercent(maxWidth).round(10).value)\n        this.$y.val(top.toPercent(maxHeight).round(10).value)\n\n        this.bindData('$clipArea')\n    }\n\n    toClipPathValueString () {\n\n        var maxWidth = 220;\n        var maxHeight = 220;\n\n        return this.state.value.map(it => {\n            return `${it.x.toPercent(maxWidth).round(10)} ${it.y.toPercent(maxHeight).round(10)}`\n        }).join(',');\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n    appendValue(data) {\n        this.state.value.push(data);\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)        \n    }\n\n    removeValue(index) {\n        this.state.value.splice(index, 1);\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)        \n    }    \n\n    copyValue(index) {\n\n        var {x, y}= this.state.value[index]\n\n        this.state.value.splice(index+1, 0, {\n            x: Length.px(x.value + 10),\n            y: Length.px(y.value + 10)\n        });\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)        \n    }    \n\n    updateValue (index, data) {\n        this.state.value[index] = {...this.state.value[index], ...data}\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport { POINTERSTART, BIND, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { isUndefined } from \"el/sapa/functions/func\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nexport default class EllipseEditor extends EditorElement {\n\n    parseValue (str = '50% 50%') {\n        var radius = `50% 50%`, position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        var [radiusX, radiusY] = radius.split(' ');\n\n        if (isUndefined(radiusY)) {\n            radiusY = radiusX;\n        }\n\n        radiusX = Length.parse(radiusX)\n        radiusY = Length.parse(radiusY)\n\n        return {\n            radiusX,\n            radiusY, \n            x, \n            y\n        }\n    }\n\n    initState() {\n        return this.parseValue(this.props.value)\n    }\n\n    template() {\n        return `\n        <div class='clip-path-editor circle-editor'>\n            <div>\n                <object refClass=\"RangeEditor\"  \n                    ref='$rangeX' \n                    label='Radius X' \n                    key='radiusX' \n                    value='${this.state.radiusX}' \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"0.1\" \n                    units=\"%\" \n                    onchange='changeRangeEditor' \n                />\n            </div>\n            <div>\n                <object refClass=\"RangeEditor\"  \n                    ref='$rangeY' \n                    label='Radius Y' \n                    key='radiusY' \n                    value='${this.state.radiusY}' \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"0.1\" \n                    units=\"%\" \n                    onchange='changeRangeEditor' \n                />\n            </div>            \n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' ref='$pointer' style='left: ${this.state.x};top: ${this.state.y};'></div>\n                <div class='clip-area circle' ref='$clipArea'></div>\n            </div>\n        </div>\n    `\n    }\n\n\n    [BIND('$clipArea')] () {\n        return {\n            style : {\n                'clip-path' : `${this.props.key}(${this.toClipPathValueString()})`\n            }\n        }\n    }    \n\n    [POINTERSTART('$area') + MOVE() + END()] (e) {\n\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n    }\n\n    move (dx, dy) {\n        var x = this.startXY.x + dx;\n        var y = this.startXY.y + dy;  \n\n        if (this.areaRect.x > x) {\n            x = this.areaRect.x; \n        } else if (this.areaRect.right < x) {\n            x = this.areaRect.right; \n        }\n\n        if (this.areaRect.y > y) {\n            y = this.areaRect.y; \n        } else if (this.areaRect.bottom < y) {\n            y = this.areaRect.bottom; \n        }        \n\n        var left = Length.percent((x - this.areaRect.x) / this.areaRect.width * 100).round(1)\n        var top = Length.percent((y - this.areaRect.y) / this.areaRect.height * 100).round(1)\n\n        this.refs.$pointer.css({\n            left, top \n        })\n\n        this.updateData({\n            x: left,\n            y: top\n        })\n\n\n        this.bindData('$clipArea')\n    }\n\n    toClipPathValueString () {\n\n        var {x,y,radiusX, radiusY} = this.state;\n\n        var results = `${x} ${y}`\n\n        var radiusString = `${radiusX} ${radiusY}`;\n\n        return `${radiusString} at ${results}`;\n    }\n\n    updateData (data) {\n        this.setState(data)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n    [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n\n        this.updateData({\n            [key]: value.clone()\n        })\n    }\n}","\nimport { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { ClipPath } from \"el/editor/property-parser/ClipPath\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport CircleEditor from \"./editor/CircleEditor\";\nimport InsetEditor from \"./editor/InsetEditor\";\nimport PolygonEditor from \"./editor/PolygonEditor\";\nimport EllipseEditor from \"./editor/EllipseEditor\";\n\n\nimport './ClipPathPopup.scss';\n\n\n\n\nexport default class ClipPathPopup extends BasePopup {\n\n  components() {\n    return {\n      CircleEditor,\n      InsetEditor,\n      PolygonEditor,\n      EllipseEditor\n    }\n  }\n\n  getTitle() {\n    return 'ClipPath'\n  }\n\n  initState() {\n    return {\n      type: 'none',\n      value: ''\n    };\n  }\n\n  toClipPathCSS () {\n    return ClipPath.toCSS(this.state);\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.state.changeEvent || \"changeClipPathPopup\", this.toClipPathCSS());\n  }\n\n  getBody() {\n    return /*html*/`\n    <div class='elf--clippath-popup' ref='$popup'>\n      <div class=\"box\">\n        <div class='clip-path-editor clip-path-type' ref='$clippathType'></div>\n        <div class='clip-path-editor' ref='$clippath'></div>\n      </div>\n    </div>`;\n  }\n\n  [LOAD('$clippathType')] () {\n    return /*html*/`\n      <div>${this.state.type} Editor</div>\n    `\n  }\n\n  [LOAD('$clippath')] () {\n    switch(this.state.type) {\n    case 'circle':\n      return /*html*/`<object refClass=\"CircleEditor\" ref='$circle' key='circle' value='${this.state.value}' onchange='changeClipPath' />`\n    case 'ellipse':\n      return /*html*/`<object refClass=\"EllipseEditor\" ref='$ellipse' key='ellipse' value='${this.state.value}' onchange='changeClipPath' />`\n    case 'inset':\n      return /*html*/`<object refClass=\"InsetEditor\" ref='$inset' key='inset' value='${this.state.value}' onchange='changeClipPath' />`      \n    case 'polygon':\n      return /*html*/`<object refClass=\"PolygonEditor\" ref='$polygon' key='polygon' value='${this.state.value}' onchange='changeClipPath' />`            \n    case 'path':\n      return /*html*/`<object refClass=\"PathEditor\" ref='$path' key='path' value='${this.state.value}' onchange='changeClipPath' />`\n    case 'svg':\n\n        var current = this.$selection.currentProject || {svg: []} \n\n        var options = current.svg.filter(it => it.type === 'clip-path').map(it => it.name).join(',')\n        \n        if (options.length) {\n          options = ',' + options\n        }\n\n        return /*html*/`<object refClass=\"SelectEditor\"  ref='$svg' key='svg' value='${this.state.value}' options='${options}' onchange='changeClipPath' />`\n    default: \n      return /*html*/`<div class='type none'></div>`\n    }\n    \n  }\n\n  [SUBSCRIBE_SELF('changeClipPath')] (type, value) {\n    this.updateData({\n      type, \n      value\n    });\n  }\n\n  [SUBSCRIBE(\"showClipPathPopup\")](data) {\n    this.state.changeEvent = data.changeEvent;\n    this.setState(ClipPath.parseStyle(data['clip-path']));\n\n    this.refresh();\n\n    this.show(220);\n  }\n\n  [SUBSCRIBE(\"hideClipPathPopup\")]() {\n    this.hide();\n  }\n}","import { CLICK, LOAD, PREVENT, SUBSCRIBE, IF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { ClipPath } from \"el/editor/property-parser/ClipPath\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './ClipPathProperty.scss';\nimport PathParser from \"el/editor/parser/PathParser\";\nimport { vertiesToRectangle } from \"el/utils/collision\";\n\nvar clipPathList = [\n  'circle',\n  'ellipse',\n  'inset',\n  'polygon',\n  'path',\n  'svg'\n];\n\nexport default class ClipPathProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('clippath.property.title');\n  }\n\n  hasKeyframe() {\n    return true;\n  }\n\n  getKeyframeProperty() {\n    return 'clip-path';\n  }\n\n\n  getClassName() {\n    return 'clip-path-property'\n  }\n\n  getBody() {\n    return /*html*/`<div class='elf--clip-path-list' ref='$clippathList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$clipPathSelect\">      \n        ${clipPathList.map(it => {\n      return `<option value='${it}'>${it}</option>`\n    }).join('')}\n      </select>\n      <button type=\"button\" ref=\"$add\" title=\"add Clip Path\">${icon.add}</button>\n    `;\n  }\n\n  makeClipPathTemplate(clippath, func) {\n\n    const isPath =  clippath === 'path';\n    let newPathString = '';\n    if (isPath) {\n      const pathString = func.split('(')[1].split(')')[0];\n\n      let pathObject = PathParser.fromSVGString(pathString);\n      const bbox = pathObject.getBBox();\n      const rectangle = vertiesToRectangle(bbox)\n\n      const rate = 260 / rectangle.width;\n      const hRate = 150 / rectangle.height;\n\n      const lastRate = Math.min(rate, hRate);\n\n      pathObject = pathObject.translate(-bbox[0][0], -bbox[0][1]).scale(lastRate, lastRate);\n      \n      const newBBox = pathObject.getBBox();\n      const newRectangle = vertiesToRectangle(newBBox);\n      \n      newPathString = pathObject.translate(260/2 - newRectangle.width/2, 0).d;\n    }\n\n    return /*html*/`\n      <div>\n        <div class='clippath-item'>\n          <div class='title'>\n            <div class='name'>${clippath}</div>\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class=\"del\">${icon.remove2}</button>\n          </div>        \n        </div>\n        ${isPath ? `<svg><path d=\"${newPathString}\" fill=\"transparent\" stroke=\"currentColor\" /></svg>` : ''}\n      </div>\n\n    `\n  }\n\n  [CLICK('$clippathList .clippath-item .title')](e) {\n    var current = this.$selection.current;\n    if (!current) return;\n\n\n    this.viewClipPathPicker();\n\n  }\n\n  [CLICK('$clippathList .del') + PREVENT](e) {\n    var current = this.$selection.current;\n    if (!current) return;\n\n    this.command('setAttributeForMulti', 'delete clip-path', this.$selection.packByValue({\n      'clip-path': ''\n    }));\n    this.emit('hideClipPathPopup');\n\n    setTimeout(() => {\n      this.refresh();\n    }, 100)\n  }\n\n  get editableProperty() {\n    return \"clip-path\";\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n\n  [LOAD(\"$clippathList\")]() {\n    var current = this.$selection.current;\n    if (!current) return '';\n    if (!current['clip-path']) return ''\n\n    return this.makeClipPathTemplate(current['clip-path'].split('(')[0], current['clip-path']);\n  }\n\n  [CLICK(\"$add\")]() {\n\n    var current = this.$selection.current;\n\n    if (!current) return;\n    if (current['clip-path']) {\n      alert('clip-path is already exists.');\n      return;\n    }\n\n    if (current) {\n      current['clip-path'] = this.refs.$clipPathSelect.value;\n\n\n      this.command(\"setAttributeForMulti\", 'change clip-path', this.$selection.packByValue({\n        'clip-path': this.refs.$clipPathSelect.value\n      }));\n    }\n\n    this.refresh();\n  }\n\n  viewClipPathPicker() {\n    var current = this.$selection.current;\n    if (!current) return;\n\n    var obj = ClipPath.parseStyle(current['clip-path'])\n\n    switch (obj.type) {\n      case 'path':\n        var d = current.accumulatedPath(current.clipPathString).d\n        var mode = d ? 'modify' : 'path'\n\n        this.emit('showPathEditor', mode, {\n          changeEvent: (data) => {\n            data.d = current.invertPath(data.d).d;\n\n            this.updatePathInfo({\n              'clip-path': `path(${data.d})`\n            });\n          },\n          current,\n          d,\n        })\n        break;\n      case 'svg':\n        // TODO: clip art 선택하기 \n        break;\n      default:\n        this.emit(\"showClipPathPopup\", {\n          'clip-path': current['clip-path'],\n          changeEvent: (data) => {\n            this.updatePathInfo(data);\n          }\n        });\n        break;\n    }\n  }\n\n\n  updatePathInfo(data) {\n    if (!data) return;\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.reset(data);\n\n    this.refresh();\n    this.command('setAttributeForMulti', 'change clip-path', this.$selection.packByValue(data));\n  }\n\n}","import { CONFIG, LOAD, DOMDIFF, SUBSCRIBE, IF, DEBOUNCE } from \"el/sapa/Event\";\n\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './CodeViewProperty.scss';\n\nexport default class CodeViewProperty extends BaseProperty {\n\n\n  initialize() {\n    super.initialize();\n\n    this.notEventRedefine = true;\n  }\n\n  getTitle() {\n    return this.$i18n('code.view.property.title');\n  }\n\n  checkConfig() {\n    return this.$config.is(\"inspector.selectedValue\", 'code');\n  }\n\n  [CONFIG('inspector.selectedValue')] () {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshSelectionStyleView', 'refreshSelection') + IF('checkConfig') + DEBOUNCE(100)]() {\n    this.refresh();\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"property-item elf--code-view-item\" ref='$body'>\n        <div class=\"elf--code-view-item-code\" ref='$code'></div>\n        <div class=\"elf--code-view-item-svg\" ref='$svg'></div>\n      </div>\n    `;\n  }\n\n  [LOAD('$code') + DOMDIFF] () {\n    return [\n      this.$editor.html.codeview(this.$selection.current)\n    ]\n  }\n\n  [LOAD('$svg') + DOMDIFF] () {\n    return [\n      this.$editor.svg.codeview(this.$selection.current)\n    ]\n  }\n}\n","import { BIND, POINTERSTART } from 'el/sapa/Event';\nimport { EditorElement } from 'el/editor/ui/common/EditorElement';\nimport { Length } from 'el/editor/unit/Length';\nimport { END, MOVE } from 'el/editor/types/event';\n\nexport default class Hue extends EditorElement {\n\n    initState() {\n        return {\n            hue: 0,\n            minValue: 0,\n            maxValue: 360\n        }\n    }\n\n    template () {\n        return /*html*/`\n            <div class=\"hue\">\n                <div ref=\"$container\" class=\"hue-container\">\n                    <div ref=\"$bar\" class=\"drag-bar\"></div>\n                </div>\n            </div>\n        `\n    }\n\n    [BIND('$bar')] () {\n\n        const hue = this.state.hue\n\n        return {\n            style: {\n                left: Length.percent(hue/360*100),\n            },\n            class: {\n                first: hue <= this.state.minValue,\n                last: hue >= this.state.maxValue\n            }\n        }\n    }\n\n    [POINTERSTART('$container') + MOVE('movePointer') + END('moveEndPointer')] (e) {\n        this.rect = this.refs.$container.rect();\n\n        this.refreshColorUI();\n    }\n\n    movePointer() {\n        this.refreshColorUI();\n    }\n\n    refreshColorUI () {\n        const minX = this.rect.left;\n        const maxX = this.rect.right; \n\n        const currentX = Math.max(Math.min(maxX, this.$config.get('bodyEvent').clientX), minX); \n        const rate = (currentX - minX) / (maxX - minX);\n\n        this.parent.changeColor({\n            h: rate * this.state.maxValue,\n            type: 'hsv'\n        })\n\n    }\n\n    setValue (hue) {\n        this.setState({\n            hue\n        })\n    }\n}\n","\n\n\nimport Color from 'el/utils/Color'\nimport { BIND, POINTERSTART } from 'el/sapa/Event';\nimport { clone } from 'el/sapa/functions/func';\nimport { EditorElement } from 'el/editor/ui/common/EditorElement';\nimport { Length } from 'el/editor/unit/Length';\nimport { END, MOVE } from 'el/editor/types/event';\n\nexport default class Opacity extends EditorElement {\n\n    initState() {\n        return {\n            colorbar: Color.parse('rgba(0, 0, 0, 1)'),\n            opacity: 0,\n            minValue: 0,\n            maxValue: 100\n        }\n    }\n\n    template () {\n        return /*html*/`\n        <div class=\"opacity\">\n            <div ref=\"$container\" class=\"opacity-container\">\n                <div ref=\"$colorbar\" class=\"color-bar\"></div>\n                <div ref=\"$bar\" class=\"drag-bar2\"></div>\n            </div>\n        </div>\n        `\n    }\n\n    [BIND('$colorbar')] () {\n        const rgb = clone(this.state.colorbar);\n    \n        rgb.a = 0;\n        const start = Color.format(rgb, 'rgb');\n    \n        rgb.a = 1;\n        const end = Color.format(rgb, 'rgb');\n    \n        return {\n            style: {\n                background:  `linear-gradient(to right, ${start}, ${end})`\n            }\n        }\n    }\n\n    [BIND('$bar')] () {\n\n        const opacity = this.state.opacity * 100\n\n        return {\n            style: {\n                left: Length.percent(opacity),\n            },\n            class: {\n                first: opacity <= this.state.minValue,\n                last: opacity >= this.state.maxValue\n            }\n        }\n    }\n\n    [POINTERSTART('$container') + MOVE('movePointer') + END('moveEndPointer')] (e) {\n        this.rect = this.refs.$container.rect();\n\n        this.refreshColorUI();\n    }\n\n    movePointer() {\n        this.refreshColorUI();\n    }\n\n    refreshColorUI () {\n        const minX = this.rect.left;\n        const maxX = this.rect.right; \n\n        const currentX = Math.max(Math.min(maxX, this.$config.get('bodyEvent').clientX), minX); \n        const rate = (currentX - minX) / (maxX - minX);\n\n        this.parent.changeColor({\n            a: (rate).toFixed(2),\n        })\n    }\n\n    setValue (colorbar, opacity) {\n        this.setState({ \n            opacity,\n            colorbar \n        })\n    }\n\n}\n","import { BIND } from 'el/sapa/Event';\nimport { EditorElement } from 'el/editor/ui/common/EditorElement';\n\nexport default class ColorView extends EditorElement {\n\n    initState() {\n        return {\n            value: 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    template() {\n        return /*html*/`<div class='color'></div>`\n    }\n\n    [BIND('$el')] () {\n        return {\n            style: {\n                'background-color': this.state.value\n            }\n        }\n    } \n\n    setValue (value) {\n        this.setState({\n            value\n        })\n    }\n}\n ","import { CLICK, KEYUP, INPUT, IF, PASTE } from 'el/sapa/Event'\nimport { EditorElement } from 'el/editor/ui/common/EditorElement';\n\nexport default class ColorInformation extends EditorElement {\n\n    template () {\n        return /*html*/`\n        <div class=\"information hex\">\n            <div ref=\"$informationChange\" class=\"information-change\">\n                <button ref=\"$formatChangeButton\" type=\"button\" class=\"format-change-button arrow-button\"></button>\n            </div>\n            <div class=\"information-item hex\">\n                <div class=\"input-field hex\">\n                    <input ref=\"$hexCode\" class=\"input\" type=\"text\" />\n                    <div class=\"title\">HEX</div>\n                </div>\n            </div>\n            <div class=\"information-item rgb\">\n                <div class=\"input-field rgb-r\">\n                    <input ref=\"$rgb_r\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"255\" />\n                    <div class=\"title\">R</div>\n                </div>\n                <div class=\"input-field rgb-g\">\n                    <input ref=\"$rgb_g\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"255\" />\n                    <div class=\"title\">G</div>\n                </div>\n                <div class=\"input-field rgb-b\">\n                    <input ref=\"$rgb_b\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"255\" />\n                    <div class=\"title\">B</div>\n                </div>          \n                <div class=\"input-field rgb-a\">\n                    <input ref=\"$rgb_a\" class=\"input\" type=\"number\" step=\"0.01\" min=\"0\" max=\"1\" />\n                    <div class=\"title\">A</div>\n                </div>                                                            \n            </div>\n            <div class=\"information-item hsl\">\n                <div class=\"input-field hsl-h\">\n                    <input ref=\"$hsl_h\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"360\" />\n                    <div class=\"title\">H</div>\n                </div>\n                <div class=\"input-field hsl-s\">\n                    <input ref=\"$hsl_s\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"100\" />\n                    <div class=\"postfix\">%</div>\n                    <div class=\"title\">S</div>\n                </div>\n                <div class=\"input-field hsl-l\">\n                    <input ref=\"$hsl_l\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"100\" />\n                    <div class=\"postfix\">%</div>                        \n                    <div class=\"title\">L</div>\n                </div>\n                <div class=\"input-field hsl-a\">\n                    <input ref=\"$hsl_a\" class=\"input\" type=\"number\" step=\"0.01\" min=\"0\" max=\"1\" />\n                    <div class=\"title\">A</div>\n                </div>\n            </div>\n        </div>\n        `\n    }\n\n    get manager () {\n        return this.parent.manager;\n    }\n    \n    setCurrentFormat (format) {\n        this.format = format\n\n        this.initFormat();\n    }\n    \n    initFormat () {\n        var current_format = this.format || 'hex';\n    \n        ['hex', 'rgb', 'hsl'].filter(it => it !== current_format).forEach(formatString => {\n            this.$el.removeClass(formatString);\n        })\n\n        this.$el.addClass(current_format);\n    }\n    \n    nextFormat() {\n        var current_format = this.format || 'hex';\n\n        var next_format = 'hex';\n        if (current_format == 'hex') {\n            next_format = 'rgb';\n        } else if (current_format == 'rgb') {\n            next_format = 'hsl';\n        } else if (current_format == 'hsl') {\n            if (this.parent.alpha == 1) {\n                next_format = 'hex';\n            } else {\n                next_format = 'rgb';\n            }\n        }\n\n        this.format = next_format;\n\n        this.initFormat();\n\n        this.parent.changeFormat(this.format)\n    }\n\n    goToFormat(to_format) {\n        this.format = to_format;\n        if (to_format === 'rgb' || to_format === 'hsl') {\n            this.initFormat();\n        }\n\n        this.parent.changeFormat(this.format)        \n    }    \n    \n    getFormat () {\n        return this.format || 'hex';   \n    }\n\n    changeRgbColor () {\n        this.parent.lastUpdateColor({\n            type: 'rgb',\n            r : this.refs.$rgb_r.int(),\n            g : this.refs.$rgb_g.int(),\n            b : this.refs.$rgb_b.int(),\n            a : this.refs.$rgb_a.float()\n        })\n    }\n\n    changeHslColor () {\n        this.parent.lastUpdateColor({\n            type: 'hsl',\n            h : this.refs.$hsl_h.int(),\n            s : this.refs.$hsl_s.int(),\n            l : this.refs.$hsl_l.int(),\n            a : this.refs.$hsl_a.float()\n        })        \n    }    \n\n    hasValue(e) {\n        if (e.target.value === '') {\n            return false; \n        }\n\n        return true; \n    }\n\n    [INPUT('$rgb_r') + IF('hasValue')] (e) {  this.changeRgbColor(); }\n    [INPUT('$rgb_g') + IF('hasValue')] (e) {  this.changeRgbColor(); }\n    [INPUT('$rgb_b') + IF('hasValue')] (e) {  this.changeRgbColor(); }\n    [INPUT('$rgb_a') + IF('hasValue')] (e) {  this.changeRgbColor(); }  \n    \n    [INPUT('$hsl_h') + IF('hasValue')] (e) {  this.changeHslColor(); }\n    [INPUT('$hsl_s') + IF('hasValue')] (e) {  this.changeHslColor(); }\n    [INPUT('$hsl_l') + IF('hasValue')] (e) {  this.changeHslColor(); }\n    [INPUT('$hsl_a') + IF('hasValue')] (e) {  this.changeHslColor(); }      \n\n    [KEYUP('$hexCode') + IF('hasValue')] (e) {\n        var code = this.refs.$hexCode.val();\n    \n        if(code.charAt(0) == '#' && (code.length == 7 || code.length === 9)) {\n            this.parent.lastUpdateColor(code);\n        }\n    }\n\n    [PASTE('$hexCode') + IF('hasValue')] (e) {\n        var code = this.refs.$hexCode.val();\n\n        if(code.charAt(0) == '#' && (code.length == 7 || code.length === 9)) {\n            this.parent.lastUpdateColor(code);\n        }\n    }\n    \n    [CLICK('$formatChangeButton')] (e) {\n        this.nextFormat();        \n    }\n\n    [CLICK('$el .information-item.hex .input-field .title')] (e) {\n        this.goToFormat('hex');\n    }    \n\n    [CLICK('$el .information-item.rgb .input-field .title')] (e) {\n        this.goToFormat('hsl');\n    }    \n\n    [CLICK('$el .information-item.hsl .input-field .title')] (e) {\n        this.goToFormat('rgb');\n    }        \n\n    setRGBInput() {\n        this.refs.$rgb_r.val(this.manager.rgb.r);\n        this.refs.$rgb_g.val(this.manager.rgb.g);\n        this.refs.$rgb_b.val(this.manager.rgb.b);\n        this.refs.$rgb_a.val(this.manager.alpha);\n    }\n    \n    setHSLInput() {\n        this.refs.$hsl_h.val(this.manager.hsl.h);\n        this.refs.$hsl_s.val(this.manager.hsl.s);\n        this.refs.$hsl_l.val(this.manager.hsl.l);\n        this.refs.$hsl_a.val(this.manager.alpha);\n    }    \n\n    setHexInput () {\n        this.refs.$hexCode.val(this.manager.toString('hex'));\n    }\n\n    setValue () {\n        this.refresh();\n    }\n\n    refresh () {\n        this.setCurrentFormat(this.manager.format);\n        this.setRGBInput();\n        this.setHSLInput();\n        this.setHexInput();\n    }\n}\n","\nimport { POINTERSTART, BIND } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nexport default class ColorPalette extends EditorElement {\n\n  initState() {\n    return {\n      hueColor:'rgba(0, 0, 0, 1)',\n      s:0,\n      v:0\n    }\n  }\n\n  template() {\n    return /*html*/`\n        <div class=\"color-panel\">\n            <div ref=\"$saturation\" class=\"saturation\">\n                <div ref=\"$value\" class=\"value\">\n                    <div ref=\"$drag_pointer\" class=\"drag-pointer\"></div>\n                </div>\n            </div>        \n        </div>        \n        `;\n  }\n\n  afterRender() {\n    this.rect = this.$el.rect();\n  }\n\n  [BIND('$el')] () {\n    return {\n      style: {\n        'background-color': this.state.hueColor\n      }\n    }\n  }\n\n  [BIND('$drag_pointer')] () {\n\n    if (this.rect.width === 0) {\n      this.rect = this.$el.rect();\n    }\n\n    const x = this.rect.width * this.state.s;\n    const y = this.rect.height * (1 - this.state.v);\n\n    return {\n      style : {\n        left: Length.px(x),\n        top: Length.px(y),\n      }\n    }\n  }\n\n  [POINTERSTART('$el') + MOVE('movePointer') + END('moveEndPointer')] (e) {\n    this.rect = this.$el.rect();\n\n    this.refreshColorUI();\n  }\n\n  movePointer () {\n    this.refreshColorUI();\n  }\n\n  moveEndPointer () {\n    this.parent.changeEndColor()\n  }\n\n  refreshColorUI () {\n\n    const e = this.$config.get('bodyEvent') \n    const minX = this.rect.left;\n    const maxX = this.rect.right;\n    const minY = this.rect.top;\n    const maxY = this.rect.bottom;\n\n    const currentX = Math.min(maxX, Math.max(minX, e.clientX))\n    const currentY = Math.min(maxY, Math.max(minY, e.clientY))\n\n    const width = maxX- minX;\n    const height = maxY - minY; \n\n    var s = (currentX - minX) / width;\n    var v = (height - (currentY - minY)) / height;\n\n    this.parent.changeColor({\n      type: \"hsv\",\n      s,\n      v\n    });\n\n  }\n\n  setValue(s, v, hueColor) {\n    this.setState({\n      s, v, hueColor\n    })\n  }\n}\n","import Color from './Color';\n\nconst hue_color = [\n    { rgb : '#ff0000', start : .0 },\n    { rgb : '#ffff00', start : .17 },\n    { rgb : '#00ff00', start : .33 },\n    { rgb : '#00ffff', start : .50 },\n    { rgb : '#0000ff', start : .67 },\n    { rgb : '#ff00ff', start : .83 },\n    { rgb : '#ff0000', start : 1 }\n];\n\nfunction checkHueColor(p) {\n    var startColor, endColor;\n\n    for(var i = 0; i < hue_color.length;i++) {\n        if (hue_color[i].start >= p) {\n            startColor = hue_color[i-1];\n            endColor = hue_color[i];\n            break;\n        }\n    }\n\n    if (startColor && endColor) {\n        return Color.mix(startColor, endColor, (p - startColor.start)/(endColor.start - startColor.start));\n    }\n\n    return hue_color[0].rgb;\n}\n\n\nfunction initHueColors () {\n    for(var i = 0, len = hue_color.length; i < len; i++) {\n        var hue = hue_color[i];\n\n        var obj = Color.parse(hue.rgb);\n\n        hue.r = obj.r;\n        hue.g = obj.g;\n        hue.b = obj.b;\n    }\n}\n\ninitHueColors();\n\nexport default { \n    colors : hue_color,\n    checkHueColor\n};","import Color from \"../../el/utils/Color\";\nimport HueColor from \"../../el/utils/HueColor\";\n\nexport default class ColorManagerV2 {\n\n\n    constructor () {\n        this.initialize();\n\n    }\n\n    initialize () {\n\n        this.state = {\n            rgb: {},\n            hsl: {},\n            hsv: {},\n            alpha: 1, \n            format: 'hex',\n            // colorSetsList: [\n            //     {   name : \"Material\", \n            //         edit: true,\n            //         colors: [ \n            //             '#F44336', '#E91E63', '#9C27B0', '#673AB7', '#3F51B5', \n            //             '#2196F3', '#03A9F4', '#00BCD4',  '#009688', '#4CAF50', \n            //             '#8BC34A', '#CDDC39', '#FFEB3B', '#FFC107', '#FF9800', \n            //             '#FF5722',  '#795548', '#9E9E9E', '#607D8B' \n            //         ]\n            //     },\n            //     { name : \"Custom\", \"edit\" : true, \"colors\" : [ ] },\n            //     { name: \"Color Scale\", \"scale\" : ['red', 'yellow', 'black' ], count : 5 }\n            // ],\n            // userList: [],\n            // currentColorSets: {}    \n        }\n\n    }\n\n    get hsv () {return this.state.hsv; }\n\n    get rgb () {return this.state.rgb; }\n    \n    get hsl () {return this.state.hsl; }\n    \n    get hex () {return this.state.hex; }    \n\n    get alpha () { \n        if (typeof this.state.alpha === 'undefined') return 1;\n        return this.state.alpha; \n    }        \n\n    get format () { return this.state.format; }        \n\n    changeFormat (format) {\n        this.state.format = format\n    }\n\n    initColor (colorObj) {\n        this.changeColor(colorObj)\n    }\n\n    changeColor(colorObj) {\n        colorObj = colorObj || '#FF0000'\n\n        if (typeof colorObj === 'string') {\n            colorObj = Color.parse(colorObj);\n        }\n        \n        this.state.alpha = typeof colorObj.a !== 'undefined' ? colorObj.a : this.state.alpha; \n        this.state.format = colorObj.type != 'hsv' ? (colorObj.type || this.state.format) : this.state.format;\n\n        // if (this.state.format == 'hex' && this.state.alpha < 1) {\n        //     this.state.format = 'rgb';\n        // }\n\n        if (colorObj.type == 'hsl') {\n            this.state.hsl = {...this.state.hsl, ...colorObj}; \n            this.state.rgb = Color.HSLtoRGB(this.state.hsl);\n            this.state.hsv = Color.HSLtoHSV(colorObj);            \n        } else if (colorObj.type == 'hex') {\n            this.state.rgb = {...this.state.rgb, ...colorObj};\n            this.state.hsl = Color.RGBtoHSL(this.state.rgb);\n            this.state.hsv = Color.RGBtoHSV(colorObj);            \n        } else if (colorObj.type == 'rgb') {\n            this.state.rgb = {...this.state.rgb, ...colorObj};\n            this.state.hsl = Color.RGBtoHSL(this.state.rgb);            \n            this.state.hsv = Color.RGBtoHSV(colorObj);            \n        } else if (colorObj.type == 'hsv') {\n            this.state.hsv = {...this.state.hsv, ...colorObj};\n            this.state.rgb = Color.HSVtoRGB(this.state.hsv);\n            this.state.hsl = Color.HSVtoHSL(this.state.hsv);\n        }\n    }\n\n    getHueColor () {\n        return HueColor.checkHueColor(this.state.hsv.h/360);\n    }\n\n    toString(type) {\n        type = type || this.state.format\n        var colorObj = this.state[type] || this.state.rgb\n        return Color.format({...colorObj, a: this.state.alpha}, type);\n    }\n\n    toColor (type) {\n        type = (type || this.state.format).toLowerCase(); \n        return this.toString(type)\n    }\n\n\n    // /** manager for colorsets */\n\n\n    // setUserPalette(list) {\n    //     this.state.userList = list || []; \n\n    //     this.resetUserPalette();\n    //     this.setCurrentColorSets();\n    // }\n\n    // resetUserPalette () {\n\n    //     this.state.userList = this.state.userList.map( (element, index) => {\n\n    //         if (isFunction( element.colors )) {\n    //             const makeCallback = element.colors; \n\n    //             element.colors = makeCallback(this.state);\n    //             element._colors = makeCallback;\n    //         }\n\n    //         return { \n    //             name: `color-${index}`,\n    //             colors : [],\n    //             ...element\n    //         }\n    //     })\n\n    // }\n\n    // setCurrentColorSets(nameOrIndex) {\n\n    //     const _list = this.getUserList();\n\n    //     if (isUndefined(nameOrIndex)) {\n    //         this.state.currentColorSets = _list[0];\n    //     } else if (isNumber(nameOrIndex)) {\n    //         this.state.currentColorSets = _list[nameOrIndex];\n    //     } else {\n    //         this.state.currentColorSets = _list.filter(function (obj) {\n    //             return obj.name == nameOrIndex;\n    //         })[0];\n    //     }\n    // }\n\n    // getCurrentColorSets () {\n    //     return this.state.currentColorSets;\n    // }\n\n    // addCurrentColor (color) {\n    //     if (Array.isArray(this.state.currentColorSets.colors)) {\n    //         this.state.currentColorSets.colors.push(color);\n    //     } \n    // }\n\n    // setCurrentColorAll (colors = []) {\n    //     this.state.currentColorSets.colors = colors;\n    // }\n\n    // removeCurrentColor (index) {\n    //     if (this.state.currentColorSets.colors[index]) {\n    //         this.state.currentColorSets.colors.splice(index, 1);\n    //     }\n    // }\n\n    // removeCurrentColorToTheRight (index) {\n    //     if (this.state.currentColorSets.colors[index]) {\n    //         this.state.currentColorSets.colors.splice(index, Number.MAX_VALUE);\n    //     }\n    // }    \n\n    // clearPalette () {\n    //     if (this.state.currentColorSets.colors) {\n    //         this.state.currentColorSets.colors = [];\n    //     }\n    // }\n\n    // getUserList() {\n    //     return Array.isArray(this.state.userList) && this.state.userList.length ? this.state.userList : this.state.colorSetsList;\n    // }    \n\n    // getCurrentColors () {\n    //     return this.getColors(this.state.currentColorSets)\n    // }\n\n    // getColors (element) {\n    //     if (element.scale) {\n    //         return Color.scale(element.scale, element.count);\n    //     }\n        \n    //     return element.colors || []; \n    // }\n\n    // getColorSetsList () {\n    //     return this.getUserList().map(element => {\n    //        return {\n    //            name : element.name,\n    //            edit : element.edit,\n    //            colors : this.getColors(element)\n    //        } \n    //     });\n    // }\n\n}","import Hue from \"./colorpicker/control/Hue\";\nimport Opacity from \"./colorpicker/control/Opacity\";\nimport ColorView from \"./colorpicker/control/ColorView\";\nimport ColorInformation from \"./colorpicker/ColorInformation\";\nimport Palette from \"./colorpicker/ColorPalette\";\nimport ColorManagerV2 from \"plugins/color/ColorManagerV2\";\nimport { SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\n\nexport default class ColorPickerEditor extends EditorElement {\n\n    created ()  {\n        this.manager = new ColorManagerV2();\n    }\n\n    initState () {\n\n        const value = this.props.value || 'rgba(0, 0, 0, 1)'\n\n        this.manager.initColor(value);\n\n        return {\n            key: this.props.key,\n            value: this.manager.toString()\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyColorPicker();\n    }\n\n    modifyColorPicker() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params);\n    }\n\n    /**\n     * \n     * initialize color for colorpicker\n     * \n     * @param {String|Object} newColor \n     * @param {String} format  hex, rgb, hsl\n     */\n    initColor(newColor, format) {\n        this.manager.changeColor(newColor, format);\n\n        this.refresh();\n    }\n\n    changeColor(newColor, format) {\n        this.manager.changeColor(newColor, format);        \n\n        this.refresh();\n\n        this.updateData({\n            value: this.manager.toColor()\n        })\n    }    \n\n    [SUBSCRIBE_SELF('selectColorAssets')] (key, color) {\n        this.lastUpdateColor(color);\n    }\n\n    changeFormat (format) {        \n        this.manager.changeFormat(format)\n\n        this.setState({\n            value: this.manager.toColor()\n        }, false)        \n\n        this.modifyColorPicker();\n        this.changeEndColor();\n    }\n\n\n    lastUpdateColor(newColor, format) {\n        this.manager.changeColor(newColor, format);        \n\n        this.refresh();\n\n        this.setState({\n            value: this.manager.toColor()\n        }, false)\n\n        this.modifyColorPicker();        \n        this.changeEndColor();\n    }        \n\n    changeEndColor() {\n        this.parent.trigger(this.props.onchangeend, this.props.key, this.state.value, this.props.params);\n    }\n\n\n    refresh() {\n\n        const color = this.manager.toColor()\n\n        this.children.$palette.setValue(\n            this.manager.hsv.s, \n            this.manager.hsv.v,\n            this.manager.getHueColor()\n        );\n        this.children.$opacity.setValue(\n            this.manager.rgb, \n            this.manager.alpha\n        );\n        this.children.$hue.setValue(\n            this.manager.hsv.h\n        );\n        this.children.$colorview.setValue(\n            color\n        );\n\n        this.children.$information.setValue();\n    }\n\n\n    components () {\n        return {\n            Hue,\n            Opacity,\n            ColorView,\n            Palette,\n            ColorInformation,\n            // ColorAssetsEditor,\n            // CurrentColorSets,\n            // ColorSetsChooser,\n            // ContextMenu\n        }\n    }\n\n    template () {\n        return /*html*/`\n        <div class='colorpicker sketch inline'>\n            <div class='colorpicker-body'>\n                <object refClass=\"Palette\" ref='$palette' />\n                <div class=\"control\">\n                    <object refClass=\"Hue\" ref='$hue' />\n                    <object refClass=\"Opacity\" ref='$opacity' />\n                    <div class=\"empty\"></div>\n                    <object refClass=\"ColorView\" ref='$colorview' />\n                </div>\n                <object refClass=\"ColorInformation\" ref='$information' />\n                <object refClass=\"ColorAssetsEditor\" ref='$colorAsset' key=\"colorAssets\" onchange=\"selectColorAssets\" /> \n            </div>\n        </div>\n      `;\n    }\n\n}","import UIElement from \"el/sapa/UIElement\";\nimport { LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './ColorPickerPopup.scss';\nexport default class ColorPickerPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('colorpicker.popup.title')\n  }\n\n  getClassName() {\n    return 'compact elf--colorpicker-popup'\n  }\n\n  initState() {\n\n    return {\n      color: 'rgba(0, 0, 0, 1)'\n    }\n  }\n\n\n  updateData(opt = {}) {\n    this.setState(opt, false);\n\n    if (this.state.target) {\n      this.state.target.trigger(this.state.changeEvent, this.state.color, this.params);\n    }\n\n  }\n\n  updateEndData(opt = {}) {\n    this.setState(opt, false);\n\n    if (this.state.target) {\n      this.state.target.trigger(this.state.changeEndEvent, this.state.color, this.params);\n    }\n\n  }\n\n  getBody() {\n    return /*html*/`\n    <div>\n      <div class='box'>\n        <object \n          refClass=\"EmbedColorPicker\" \n          ref='$color' \n          value='${this.state.color}' \n          onchange=${this.subscribe((color) => this.updateData({ color }))} \n          onchangeend=${this.subscribe((color) => this.updateEndData({ color }))} />\n      </div>\n    </div>\n  `;\n  }\n\n  [LOAD('$projectColors')] () {\n    var project = this.$selection.currentProject || {colors: []};\n\n    var colors = project.colors\n\n    return colors.map(color => {\n      return /*html*/`\n      <div class='color-item' title='${color.name}'>\n        <div class='color-view' data-color='${color.color}' style='background-color: ${color.color}'></div>\n      </div>`\n    }) \n  }\n\n  [CLICK('$projectColors .color-view')] (e) {\n    this.updateData({\n      color: e.$dt.attr('data-color')\n    })\n    this.children.$color.setValue(this.state.color);\n  }\n\n  [SUBSCRIBE(\"showColorPickerPopup\")](data, params) {\n    data.changeEvent = data.changeEvent || 'changeFillPopup'\n\n    if (!(data.target instanceof UIElement)) {\n      throw new Error('ColorPicker needs data.target');\n    }\n\n    this.params = params;\n    this.setState(data, false);\n    this.children.$color.setValue(this.state.color);\n\n    this.show(232);\n  }\n\n  [SUBSCRIBE(\"hideColorPickerPopup\")]() {\n    this.hide();\n  }\n\n\n}","import { SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\n\nexport default class EmbedColorPicker extends EditorElement {\n\n    initState() {\n      return {\n        value: this.props.value || 'rgba(0, 0, 0, 1)'\n      }\n    }\n\n    template () {\n      return /*html*/`\n        <div class='embed-color-picker'>\n          <object refClass=\"ColorPickerEditor\" \n            ref='$colorpicker' \n            key=\"colorpicker\" \n            value=\"${this.state.value}\" \n            onchange='localChangeColor' \n            onchangeend='localLastUpdate' \n          />        \n        </div>\n      `\n    }\n\n    [SUBSCRIBE_SELF('localChangeColor')](key, color) {      \n      this.parent.trigger(this.props.onchange, color);\n    }\n\n    [SUBSCRIBE_SELF('localLastUpdate')](key, color) {\n      this.parent.trigger(this.props.onchangeend, color);\n    }  \n\n    setValue (color) {\n      this.state.value = color; \n      this.children.$colorpicker.initColor(color);\n    }\n\n    refresh() {\n      this.children.$colorpicker.initColor(this.props.value);\n    }\n\n}","import { DEBOUNCE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { isFunction, isString } from \"el/sapa/functions/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from \"el/sapa/functions/registElement\";\n\nimport './ComponentProperty.scss';\n\nexport default class ComponentProperty extends BaseProperty {\n\n  getClassName() {\n    return 'component-property';\n  }\n\n  getTitle() {\n    return \"Component\";\n  }\n\n  isShow () {\n    var current = this.$selection.current;\n    const inspector = this.$editor.components.createInspector(current);\n    if (current && (current.is('component') || inspector.length > 0)) {\n      return true; \n    }\n\n    return false; \n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n\n    this.refreshShow((type) => {\n      const current = this.$selection.current;\n      const inspector = this.$editor.components.createInspector(current);\n      return inspector.length > 0;\n    })\n\n  }\n\n  refresh() {\n    \n    var current = this.$selection.current;\n\n    if (current) {\n      this.setTitle(current.getDefaultTitle() || current.itemType || current.name);\n      this.load();\n    }    \n  }\n\n  getBody() {\n    return /*html*/`\n      <div ref='$body'></div>\n    `;\n  }\n\n  getPropertyEditor (index, key, value, selfEditor, selfEditorOptions) {\n    if (isString(selfEditor)) {\n      return /*html*/`\n        <div>  \n          <object \n            refClass=\"${selfEditor}\" \n            ${variable({\n              ...selfEditorOptions,\n              onchange: 'changeComponentProperty',\n              ref: `${key}${index}`,\n              key,\n              value\n            })} \n          />\n        </div>`\n    } else {\n      return Object.keys(selfEditor).map(selfEditorKey => {\n        return /*html*/`\n          <div>\n            <object refClass=\"${selfEditorKey}\" ${variable({\n              ...selfEditorOptions,\n              onchange: 'changeComponentProperty',\n              ref: `${key}${index}${selfEditorKey}`,\n              key,\n              value\n            })} />\n          </div>`\n      }).join('');\n    }\n  }\n\n  [LOAD('$body')] () {\n\n    var current = this.$selection.current;\n\n    if (!current) return ''; \n    \n    const inspector = this.$editor.components.createInspector(current);\n\n    var self = inspector.map((it, index)=> {\n      if (isString(it)) {\n        return /*html*/`\n          <div class='property-item is-label'> \n            <label class='label string-label'>${it}</label>\n          </div>`\n      } else {\n\n\n        let defaultValue = current[it.key] || it.defaultValue\n      \n        if (isFunction(it.convertDefaultValue)) {\n          defaultValue = it.convertDefaultValue(current, it.key)\n        }\n\n        return /*html*/`\n          <div class='property-item'> \n            ${this.getPropertyEditor(index, it.key, defaultValue, it.editor, it.editorOptions)}\n          </div>\n        `\n      }\n\n    })\n\n    return self; \n  }\n\n  [SUBSCRIBE_SELF('changeComponentProperty')] (key, value) {\n\n    const current = this.$selection.current;\n    const inspector = this.$editor.components.createInspector(current);    \n    const convert = inspector.find(it => it.key === key)?.convert;\n    const realValueObject = convert ? convert(current, key, value) : { [key] : value }\n\n    this.command(\"setAttributeForMulti\", 'change component : ' + key, this.$selection.packByValue(realValueObject))\n  }\n}","import { BIND, DEBOUNCE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { isFunction, isString } from \"el/sapa/functions/func\";\nimport { variable } from \"el/sapa/functions/registElement\";\nimport { Length } from 'el/editor/unit/Length';\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\nimport './ComponentPopup.scss';\n\n\n\nexport default class ComponentPopup extends BasePopup {\n\n  getClassName() {\n    return 'component-property';\n  }\n\n  getTitle() {\n    return \"Component\";\n  }\n\n  initState() {\n    return {\n      title: '',\n      inspector: []\n    };\n  }\n\n  refresh() {\n    this.setTitle(this.state.title || this.getTitle());\n    this.load();\n  }\n\n  getBody() {\n    return /*html*/`\n      <div ref='$body'></div>\n    `;\n  }\n\n  getPropertyEditor (index, inspectorItem) {\n    return /*html*/`\n        <object \n          refClass=\"${inspectorItem.editor}\" \n          ${variable({\n            onchange: 'changeComponent',\n            ref: `${inspectorItem.key}${index}`,\n            key: inspectorItem.key,\n            ...inspectorItem.editorOptions,            \n          })} \n        />\n      `\n  }\n\n  [BIND('$body')] () {\n    return {\n      style: {\n        width: Length.px(this.state.width || 250),\n      }\n    }\n  }\n\n  [LOAD('$body')] () {    \n    const inspector = this.state.inspector;\n\n    var self = inspector.map((it, index)=> {\n      if (isString(it)) {\n        return /*html*/`\n          <div class='popup-item is-label'> \n            <label class='label string-label'>${it}</label>\n          </div>`\n      } else {\n\n\n        return /*html*/`\n          <div class='popup-item'> \n            ${this.getPropertyEditor(index, it)}\n          </div>\n        `\n      }\n\n    })\n\n    return self; \n  }\n\n  [SUBSCRIBE_SELF('changeComponent')] (key, value) {\n\n    if (isFunction(this.state.changeEvent)) {\n      this.emit(this.state.changeEvent, key, value)\n    } \n\n  }\n\n\n  [SUBSCRIBE(\"showComponentPopup\")](data) {\n\n    this.setState(data, false);\n\n    this.refresh();\n\n    this.show(data.width)\n  }\n\n\n}","\nimport { INPUT, BIND, DEBOUNCE, SUBSCRIBE } from \"el/sapa/Event\";\n\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport './ContentProperty.scss';\nexport default class ContentProperty extends BaseProperty {\n  getTitle() {\n    return \"Content\";\n  }\n\n\n  [SUBSCRIBE('refreshSelection', 'refreshContent') + DEBOUNCE(100)]() {\n\n    this.refreshShow(['text'])\n\n  }  \n\n  getBody() {\n    return /*html*/`\n      <div class=\"property-item elf--content-item\">\n        <textarea ref=\"$contentItem\"></textarea>\n      </div>\n    `;\n  }\n\n  [BIND(\"$contentItem\")]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    return {\n      value: current.content || \"\"\n    };\n  }\n\n  [INPUT(\"$contentItem\")](e) {\n    this.setContent();\n  }\n\n  setContent() {\n    var current = this.$selection.current;\n    if (current) {\n      var data = {\n        content: this.refs.$contentItem.value\n      }\n      current.reset(data);\n      this.emit('refreshSelectionStyleView', current);\n    }\n  }\n}","import bodyMoveMs from \"./body.move.ms\";\nimport canvasHeight from \"./canvas.height\";\nimport canvasWidth from \"./canvas.width\";\nimport debugMode from \"./debug.mode\";\nimport fixedAngle from \"./fixed.angle\";\nimport showRuler from \"./show.ruler\";\nimport setToolHand from \"./set.tool.hand\";\nimport showLeftPanel from \"./show.left.panel\";\nimport showRightPanel from \"./show.right.panel\";\nimport snapDistance from \"./snap.distance\";\nimport historyDelayMs from \"./history.delay.ms\";\nimport snapGrid from './snap.grid';\nimport storeKey from './store.key';\nimport areaWidth from './area.width';\nimport styleCanvasBackgroundColor from \"./style.canvas.background.color\";\nimport setMoveControlPoint from \"./set.move.control.point\";\nimport setDragPathArea from \"./set.drag.path.area\";\nimport showOutline from \"./show.outline\";\nimport editorDesignMode from \"./editor.design.mode\";\nimport editorLayoutMode from \"./editor.layout.mode\";\nimport editorTheme from \"./editor.theme\";\n\nexport default [\n    editorLayoutMode,\n    editorDesignMode,\n    editorTheme,\n    showOutline,\n    setDragPathArea,\n    setMoveControlPoint,\n    styleCanvasBackgroundColor,\n    areaWidth,\n    storeKey,\n    setToolHand,\n    canvasWidth,\n    canvasHeight,\n    bodyMoveMs,\n    debugMode,\n    fixedAngle,\n    showRuler,\n    showLeftPanel,\n    showRightPanel,\n    snapDistance,\n    snapGrid,\n    historyDelayMs\n]","export default {\n    key: \"editor.layout.mode\",\n    defaultValue: \"all\",\n    title: \"Editor Layout Mode \",\n    description: \"Set editor's layout mode\",\n    type: \"string\"\n}","export default {\n    key: \"editor.design.mode\",\n    defaultValue: \"design\",\n    title: \"Editor Design Mode \",\n    description: \"Set editor's design mode\",\n    type: \"string\"\n}","export default {\n    key: \"editor.theme\",\n    defaultValue: \"light\",\n    title: \"Editor Theme \",\n    description: \"Set editor's theme\",\n    type: \"string\"\n}","export default {\n    key: \"show.outline\",\n    defaultValue: false,\n    title: \"Show outline\",\n    description: \"Set outline visibility to on\",\n    type: \"boolean\"\n}","export default {\n    key: \"set.drag.path.area\",\n    defaultValue: false,\n    title: \"Drag path area\",\n    description: \"Drag path area\",\n    type: \"boolean\",\n    storage: 'none'\n}","export default {\n    key: \"set.move.control.point\",\n    defaultValue: false,\n    title: \"Moving Control Point\",\n    description: \"Moving Control Point\",\n    type: \"boolean\",\n    storage: 'none'\n}","export default {\n    key: \"style.canvas.background.color\",\n    defaultValue: '#ececec',\n    title: \"Canvas Background Color\",\n    description: \"Set canvas background color\",\n    type: \"color\"\n}","export default {\n    key: \"area.width\",\n    defaultValue: 100,\n    title: \"Area Width to find layers fastly\",\n    description: \"Set area width/height\",\n    type: \"number\"\n}","export default {\n    key: \"store.key\",\n    defaultValue: \"easylogic.studio\",\n    title: \"Store Key\",\n    description: \"Set localStorage key\",\n    type: \"number\"\n}","export default {\n    key: \"set.tool.hand\",\n    defaultValue: false,\n    title: \"Hand tool\",\n    description: \"Hand tool is on\",\n    type: \"boolean\",\n    storage: 'none'\n}","export default {\n    key: \"canvas.width\",\n    defaultValue: 10000,\n    title: \"Default canvas width\",\n    description: \"Set default canvas width\",\n    type: \"number\"\n}","export default {\n    key: \"canvas.height\",\n    defaultValue: 10000,\n    title: \"Default canvas height\",\n    description: \"Set default canvas height\",\n    type: \"number\"\n}","export default {\n    key: \"body.move.ms\",\n    defaultValue: 30,\n    title: \"pointer move delay millisecond\",\n    description: \"Set delay millisecond to moving pointer in body  \",\n    type: \"number\"\n}","export default {\n    key: \"debug\",\n    defaultValue: false,\n    title: \"debug mode\",\n    description: \"Set debug mode to on \",\n    type: \"boolean\"\n}","export default {\n    key: \"fixed.angle\",\n    defaultValue: 15,\n    title: \"fixed angle count\",\n    description: \"Set fixed angle\",\n    type: \"number\"\n}","export default {\n    key: \"show.ruler\",\n    defaultValue: true,\n    title: \"Show ruler\",\n    description: \"Set ruler visibility to on\",\n    type: \"boolean\"\n}","export default {\n    key: \"show.left.panel\",\n    defaultValue: true,\n    title: \"Show left panel\",\n    description: \"Set left panel visibility to on\",\n    type: \"boolean\"\n}","export default {\n    key: \"show.right.panel\",\n    defaultValue: true,\n    title: \"Show right panel\",\n    description: \"Set right panel visibility to on\",\n    type: \"boolean\"\n}","export default {\n    key: \"snap.distance\",\n    defaultValue: 3,\n    title: \"Snap distance between objects\",\n    description: \"Set snap distance\",\n    type: \"number\"\n}","export default {\n    key: \"snap.grid\",\n    defaultValue: 50,\n    title: \"Snap grid size between objects\",\n    description: \"Set snap grid size\",\n    type: \"number\"\n}","export default {\n    key: \"history.delay.ms\",\n    defaultValue: 500,\n    title: \"history delay milliseconds\",\n    description: \"Set history delay time\",\n    type: \"number\"\n}","import { uuidShort } from \"el/utils/math\";\nimport { Keyframe } from \"../property-parser/Keyframe\";\nimport { BaseModel } from \"./BaseModel\";\n\nexport class BaseAssetModel extends BaseModel {\n\n  getDefaultObject(obj = {}) { \n    return super.getDefaultObject({\n      svgfilters: [],\n      keyframes: [],      \n      ...obj\n    });\n  }\n\n\n  addKeyframe(keyframe) {\n    this.json.keyframes.push(keyframe);\n    return keyframe;\n  }     \n\n\n  createKeyframe(data = {}) {\n    return this.addKeyframe(\n      new Keyframe({\n        checked: true,\n        ...data\n      })\n    );\n  }    \n  \n\n  removeKeyframe(removeIndex) {\n    this.removePropertyList(this.json.keyframes, removeIndex);\n  }    \n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  sortKeyframe(startIndex, targetIndex) {\n    this.sortItem(this.json.keyframes, startIndex, targetIndex);\n  }    \n\n\n  updateKeyframe(index, data = {}) {\n    this.json.keyframes[+index].reset(data);\n  }      \n\n\n/**\n   * `@keyframes` 문자열만 따로 생성 \n   */\n  toKeyframeString (isAnimate = false) {\n    return this.json.keyframes\n              .map(keyframe => keyframe.toString(isAnimate))\n              .join('\\n\\n')\n  }  \n\n\n  // 모든 Assets 은  JSON 포맷만가진다. 따로 문자열화 하지 않는다. \n  // {color, name, variable}\n  // {gradient,name,variable}\n  // {filters: [],id,name}\n  // {mimeType, original(data or url), local, name}\n\n  // 파싱은 \n  // var asset = AssetParser.parse(data);\n  // asset.color, name, variable \n\n\n  copyPropertyList(arr, index) {\n    var copyObject = {...arr[index]};\n    arr.splice(index, 0, copyObject);\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'svgfilters',\n        'keyframes',      \n      )\n\n    }\n  }\n\n  removePropertyList(arr, removeIndex) {\n    arr.splice(removeIndex, 1);\n  }  \n\n\n  /* svg filters  */\n\n  getSVGFilterIndex (id) {\n\n    var filter = this.json.svgfilters.map( (it, index) => {\n      return { id: it.id, index }\n    }).filter(it => {\n      return it.id === id \n    });\n\n    return filter.length ? filter?.[0]?.index : -1;\n  }\n\n  removeSVGFilter(removeIndex) {\n    this.removePropertyList(this.json.svgfilters, removeIndex);\n  }      \n\n\n  copySVGFilter(index) {\n    this.copyPropertyList(this.json.svgfilters, index);    \n  }        \n\n  sortSVGFilter(startIndex, targetIndex) {\n    this.sortItem(this.json.svgfilters, startIndex, targetIndex);\n  }    \n\n  setSVGFilterValue(index, value) {\n    this.json.svgfilters[index] = {...this.json.svgfilters[index], ...value}\n  }\n\n  addSVGFilter(obj = {}) {\n    this.json.svgfilters.push(obj)\n    var index = this.json.svgfilters.length - 1;\n    return index; \n  }\n\n  createSVGFilter(data = {}) {\n    return this.addSVGFilter({\n      id: uuidShort(),\n      ...data\n    })\n  }  \n\n}\n","import { Length } from \"el/editor/unit/Length\";\nimport { Transform } from \"../property-parser/Transform\";\nimport { TransformOrigin } from \"el/editor/property-parser/TransformOrigin\";\nimport { mat4, quat, vec3 } from \"gl-matrix\";\nimport { area, calculateMatrix, calculateMatrixInverse, radianToDegree, round, vertiesMap } from \"el/utils/math\";\nimport { isFunction, isUndefined } from \"el/sapa/functions/func\";\nimport PathParser from \"el/editor/parser/PathParser\";\nimport { itemsToRectVerties, polyPoint, polyPoly, rectToVerties, toRectVerties } from \"el/utils/collision\";\nimport { BaseAssetModel } from './BaseAssetModel';\n\n\n\nconst ZERO = Length.z()\nexport class MovableModel extends BaseAssetModel {\n\n\n    /**\n     * @returns {boolean} wheather item is absolute position \n     */\n    get isAbsolute  (){\n        return this.json.position === 'absolute'; \n    }\n\n    /**\n     * @returns {boolean} wheather item is relative position \n     */    \n    get isRelative  (){\n        return this.json.position === 'relative'; \n    }\n\n    /**\n     * @returns {boolean} wheather item is child \n     */    \n    get isChild() {\n        if (this.json.parent) {\n            var isParentDrawItem = this.json.parent.is('project') === false; \n\n            if (isParentDrawItem && this.isAbsolute) {\n                return true; \n            }\n        }\n\n        return false; \n    }\n\n    toCloneObject(isDeep = true) {\n        return {\n            ...super.toCloneObject(isDeep),\n            ...this.attrs('x', 'y', 'width', 'height', 'transform', 'rotate', 'rotateZ')\n        }\n    }\n\n    convert (json) {\n        json = super.convert(json);\n\n        json.x = Length.parse(json.x);\n        json.y = Length.parse(json.y);\n        json.width = Length.parse(json.width);\n        json.height = Length.parse(json.height);\n\n        return json; \n    }\n\n    reset(obj) {\n        const isChanged = super.reset(obj);\n        // transform 에 변경이 생기면 미리 캐슁해둔다. \n        if (this.hasChangedField('children', 'x', 'y', 'width', 'height', 'transform', 'rotateZ', 'rotate', 'transform-origin', 'perspective', 'perspective-origin')) {\n            this.refreshMatrixCache()\n        }\n\n        if (this.hasChangedField('width', 'height') && this.hasLayout()) {\n            this.applyLayout();\n        }\n\n        return isChanged;\n    }\n\n    applyLayout() {\n        if (this.hasLayout()) {\n            if (this.isLayout('default')) {\n                // 부모 크기가 변경될때 자식도 변경된다. \n                if (this.hasChangedField('width', 'height')) {\n                    \n                }\n            }\n        }\n    }\n\n    /**\n     * 부모가 변경되면 matrix 를 다시 캐쉬 한다. \n     * \n     * @param {BaseModel} otherParent \n     */\n    setParentId(otherParentId) {\n        super.setParentId(otherParentId);\n\n        this.refreshMatrixCache();\n    }\n\n    refreshMatrixCache() {\n        // this.modelManager.setChanged('refreshMatrixCache', this.id, { start: true })        \n\n        this.setCacheItemTransformMatrix();\n        this.setCacheLocalTransformMatrix();                                         \n        this.setCacheAccumulatedMatrix();   \n        this.setCacheLocalVerties();\n        this.setCacheVerties();\n        this.setCacheGuideVerties();\n        this.setCacheAreaPosition();\n\n        // 자식이 있을 때는 자식의 matrix 를 자동으로 변경해서 캐슁을 다시 한다. \n        // 이걸 자동으로 하게 되면 remote 로 데이타를 변경할 수가 없으니 각자 클라이언트가 하는걸로 해야할 듯 하다. \n        // 자식이 몇개가 될지 알수 없는 상태에서 불특정 다수의 데이타를 모두 보내기가 만만치 않을수도 있음. \n        this.layers.forEach(it => {\n            it.refreshMatrixCache();\n        })\n\n        // this.modelManager.setChanged('refreshMatrixCache', this.id, { end: true })                \n    }\n\n    setCacheItemTransformMatrix() {\n        this._cachedItemTransform = this.getItemTransformMatrix();\n        this._cachedItemTransformInverse = mat4.invert([], this._cachedItemTransform);\n    }\n\n    setCacheLocalTransformMatrix() {\n        this._cachedLocalTransform = this.getLocalTransformMatrix();\n        this._cachedLocalTransformInverse = mat4.invert([], this._cachedLocalTransform);\n\n        this._cachedTransformWithTranslate = this.getTransformWithTranslate(this);\n        this._cachedTransformWithTranslateInverse = mat4.invert([], this._cachedTransformWithTranslate);        \n        this._cachedTransformWithTranslateTranspose = mat4.transpose([], this._cachedTransformWithTranslate);        \n    }    \n\n    setCacheAccumulatedMatrix() {\n        this._cachedAccumulatedMatrix = this.getAccumulatedMatrix();\n        this._cachedAccumulatedMatrixInverse = mat4.invert([], this._cachedAccumulatedMatrix);\n    }        \n\n    setCacheVerties() {\n        this._cachedVerties = this.getVerties();\n        this._cachedVertiesWithoutTransformOrigin = this.rectVerties();\n    }\n\n    setCacheLocalVerties() {\n        this._cachedLocalVerties = this.getLocalVerties();\n    }    \n\n    setCacheGuideVerties() {\n        this._cachedGuideVerties = this.getGuideVerties();\n    }\n\n    setCacheAreaPosition() {\n        this._cachedAreaPosition = this.getAreaPosition(this._cachedAreaWidth);\n    }\n\n    setCacheAreaWidth(areaWidth) {\n\n        if (this._cachedAreaWidth !== areaWidth) {\n            this._cachedAreaWidth = areaWidth;\n\n            this.setCacheAreaPosition();\n        }\n    }\n\n    //////////////////////\n    //\n    // getters \n    //\n    ///////////////////////\n\n\n    get localMatrix() {\n        return this._cachedLocalTransform || this.getLocalTransformMatrix()\n    }\n\n    get localMatrixInverse() {\n        return this._cachedLocalTransformInverse || this.getLocalTransformMatrixInverse()\n    }    \n\n    get transformWithTranslate() {\n        return this._cachedTransformWithTranslate || this.getTransformWithTranslate(this)\n    }\n\n    get transformWithTranslateToTranspose() {\n        return this._cachedTransformWithTranslateTranspose || mat4.transpose([],  this.getTransformWithTranslate(this));\n    }    \n\n    get transformWithTranslateInverse() {\n        return this._cachedTransformWithTranslateInverse || mat4.invert([], this.getTransformWithTranslate(this));\n    }        \n\n    get itemMatrix() {\n        return this._cachedItemTransform || this.getItemTransformMatrix()\n    }\n\n    get itemMatrixInverse() {\n        return this._cachedItemTransformInverse || this.getItemTransformMatrixInverse()\n    }    \n\n    get accumulatedMatrix() {\n        return this._cachedAccumulatedMatrix || this.getAccumulatedMatrix()\n    }\n\n    get accumulatedMatrixInverse() {\n        return this._cachedAccumulatedMatrixInverse || this.getAccumulatedMatrixInverse()\n    }        \n\n    get verties() {\n        return this._cachedVerties || this.getVerties();\n    }\n\n    get originVerties() {\n        return this._cachedVertiesWithoutTransformOrigin || this.rectVerties();\n    }    \n\n    get localVerties() {\n        return this._cachedLocalVerties || this.getLocalVerties();\n    }    \n\n    get guideVerties() {\n        return this._cachedGuideVerties || this.getGuideVerties();\n    }    \n\n    get areaPosition() {\n        return this._cachedAreaPosition || this.getAreaPosition(this._cachedAreaWidth);\n    }\n\n    getAreaPosition(areaSize = 100) {\n        const rect = toRectVerties(this.getVerties());\n\n        const [startRow, startColumn] = area(rect[0][0], rect[0][1], areaSize);\n        const [endRow, endColumn] = area(rect[2][0], rect[2][1], areaSize);\n\n        return {\n            column: [ startColumn, endColumn ],\n            row: [ startRow, endRow ]\n        }\n    }\n\n\n    setScreenX(value) {\n        var absoluteX = 0;\n        if (this.isChild) {\n            absoluteX = this.json.parent.screenX.value; \n        }\n\n        this.json.x.set(value - absoluteX);\n        this.changed();\n    }\n    setScreenY(value) {\n        var absoluteY = 0;\n        if (this.isChild) {\n            absoluteY = this.json.parent.screenY.value; \n        }\n        this.json.y.set(value - absoluteY);\n        this.changed();        \n    }    \n\n    get screenX () { \n\n        if (this.isChild) {\n            return Length.px(this.json.parent.screenX.value + this.json.x.value); \n        }\n\n        return this.json.x || Length.z() \n    }\n    get screenY () { \n\n        if (this.isChild) {\n            return Length.px(this.json.parent.screenY.value + this.json.y.value); \n        }        \n        return this.json.y || Length.z() \n    }\n\n\n    get offsetX () { \n        if (!this.parent) {\n            return this.json.x || ZERO;\n        }        \n        return this.json.x.toPx(this.screenWidth.value);  \n    }\n\n    get offsetY () { \n        if (!this.parent) {\n            return this.json.y || ZERO;\n        }        \n        return this.json.y.toPx(this.screenHeight.value);  \n    }\n    \n    get screenWidth () { \n        if (this.is('project') || !this.parent) {\n            return ZERO;  \n        }\n\n        if (this.parent.is('project')) {\n            return this.json.width.toPx();  \n        }\n\n        if (this.is('artboard')) {\n            return this.json.width.toPx();  \n        }\n\n        return this.json.width.toPx(this.parent.screenWidth.value);  \n    }    \n\n    get screenHeight () { \n        if (this.is('project') || !this.parent) {\n            return ZERO;  \n        }\n\n        if (this.parent.is('project')) {\n            return this.json.height.toPx();  \n        }\n\n        if (this.is('artboard')) {\n            return this.json.height.toPx();  \n        }\n\n\n        return this.json.height.toPx(this.parent.screenHeight.value);  \n    }    \n\n    /**\n     * Item 이동하기 \n     *  \n     * @param {vec3} distVector \n     */\n    move (distVector = [0, 0, 0]) {\n        this.reset({\n            x: Length.px(this.offsetX.value + distVector[0]).round(),          // 1px 단위로 위치 설정 \n            y: Length.px(this.offsetY.value + distVector[1]).round(),\n        })\n    }\n\n    moveByCenter (newCenter = [0, 0, 0]) {\n        const matrix = this.matrix;\n\n        this.reset({\n            x: Length.px(newCenter[0] - matrix.width/2),\n            y: Length.px(newCenter[1] - matrix.height/2)\n        })\n    }\n\n    setAngle(angle = 0) {\n        this.reset({\n            transform: Transform.replaceAll(this.transform, `rotateZ(${Length.deg(angle)})`)\n        })\n    }\n\n    addAngle(angle = 0) {\n        this.reset({\n            transform: Transform.addTransform(this.transform, `rotateZ(${Length.deg(angle)})`)\n        })\n    }\n\n    /**\n     * 충돌 체크 \n     * \n     * polygon : ploygon 형태로 충돌 체크를 한다. \n     * 충돌 정확성을 위해서 item 의 개별 점이 areaVerties 에 속하는지 체크한다. \n     * \n     * @param {*} areaVerties \n     */\n    checkInArea (areaVerties) {\n        return  polyPoly(areaVerties, this.originVerties)\n    }\n\n    /**\n     * 월드 좌표 기준으로 특정 위치가 객체를 가리키고 있는데 체크한다. \n     * \n     * @param {number} x \n     * @param {number} y \n     */\n    hasPoint (x, y) {\n        return this.isPointInRect(x, y);\n    }\n\n    /**\n     * \n     * x, y 가 verties 영역안에 있는지 체크 \n     * \n     * @param {number} x \n     * @param {number} y \n     * @returns \n     */\n    isPointInRect(x, y) {\n        // console.log('rect', this.originVerties, x, y)\n        return polyPoint(this.originVerties, x, y)\n    }\n\n\n    /**\n     * areaVerties 안에 Layer 가 포함된 경우 \n     * \n     * @param {vec3[]} areaVerties \n     */\n    isIncludeByArea (areaVerties) {\n\n        return this.originVerties.map(vector => {\n            return polyPoint(areaVerties, ...vector);\n        }).filter(Boolean).length === 4;\n    }\n\n    getPerspectiveMatrix () {\n\n        const hasPerspective = this.json['perspective'] || Transform.get(this.json['transform'] || '', 'perspective')\n\n        if (!hasPerspective) {\n            return undefined;\n        }\n\n        let [\n            perspectiveOriginX = Length.percent(50), \n            perspectiveOriginY = Length.percent(50), \n        ] = TransformOrigin.parseStyle(this.json['perspective-origin'])\n\n        const width = this.screenWidth.value;\n        const height = this.screenHeight.value\n\n        perspectiveOriginX = perspectiveOriginX.toPx(width).value\n        perspectiveOriginY = perspectiveOriginY.toPx(height).value\n\n        // 1. Start with the identity matrix.\n        const view = mat4.create();\n\n        // 2. Translate by the computed X and Y values of perspective-origin     \n        mat4.translate(view, view, [perspectiveOriginX, perspectiveOriginY, 0]);        \n        \n\n        // 3. Multiply by the matrix that would be obtained from the perspective() transform function, \n        // where the length is provided by the value of the perspective property\n        const perspective = Transform.get(this.json['transform'], 'perspective')\n\n        if (perspective.length) {\n            mat4.multiply(view, view, mat4.fromValues(\n                1, 0, 0, 0,\n                0, 1, 0, 0,\n                0, 0, 1, 0,\n                0, 0, -1/perspective[0].value, 1 \n            ))\n        } else if (this.json['perspective'] && this.json['perspective'] != 'none' ) {\n            mat4.multiply(view, view, mat4.fromValues(\n                1, 0, 0, 0,\n                0, 1, 0, 0,\n                0, 0, 1, 0,\n                0, 0, -1/Length.parse(this.json['perspective']).value, 1 \n            ))            \n        } else {\n            return undefined;\n        }\n\n        // 4. Translate by the negated computed X and Y values of perspective-origin\n        mat4.translate(view, view, [-perspectiveOriginX, -perspectiveOriginY, 0]);                \n\n        return view; \n    }\n\n    getItemTransformMatrix () {\n        const list = Transform.parseStyle(this.json?.['transform']);\n        const width = this.screenWidth.value;\n        const height = this.screenHeight.value;\n\n        return Transform.createTransformMatrix(list, width, height);\n    }\n\n    getItemTransformMatrixInverse () {\n        return mat4.invert([], this.getItemTransformMatrix());\n    }\n\n    /**\n     * refer to https://www.w3.org/TR/css-transforms-2/\n     * \n     * 1. Start with the identity matrix.\n     * 2. Translate by the computed X, Y and Z of transform-origin\n     * 3. Multiply by each of the transform functions in transform property from left to right\n     * 4. Translate by the negated computed X, Y and Z values of transform-origin\n     */    \n    getLocalTransformMatrix (width, height) {\n        const origin = TransformOrigin.scale(\n            this.json['transform-origin'] || '50% 50% 0px', \n            isUndefined(width) ? this.screenWidth.value : width, \n            isUndefined(height) ? this.screenHeight.value : height\n        )\n\n        // start with the identity matrix \n        const view = mat4.create();\n\n        // 2. Translate by the computed X, Y and Z of transform-origin        \n        mat4.translate(view, view, origin);\n\n        // 3. Multiply by each of the transform functions in transform property from left to right        \n        mat4.multiply(view, view, this.itemMatrix)        \n\n        // 4. Translate by the negated computed X, Y and Z values of transform-origin        \n        mat4.translate(view, view, vec3.negate([], origin));\n\n        return view; \n    }      \n\n    getLocalTransformMatrixInverse (width, height) {\n        return mat4.invert([], this.getLocalTransformMatrix(width, height));\n    }\n\n    /**\n     * 방향에 따른 matrix 구하기 \n     * \n     * @param {ReadOnlyVec3} vertexOffset \n     * @param {ReadOnlyVec3} center \n     */\n    getDirectionTransformMatrix (vertexOffset, width, height) {\n        const x = this.offsetX.value;\n        const y = this.offsetY.value; \n\n        const center = vec3.add([], TransformOrigin.scale(\n            this.json['transform-origin'] || '50% 50% 0px', \n            width, \n            height\n        ), vec3.negate([], vertexOffset));\n\n        const view = mat4.create();\n        mat4.translate(view, view, [x, y, 0]);\n        mat4.translate(view, view, vertexOffset);            \n        mat4.translate(view, view, center)        \n        mat4.multiply(view, view, this.itemMatrix)        \n        mat4.translate(view, view, vec3.negate([], center))            \n\n        return view; \n    }\n\n    getDirectionTopLeftMatrix (width, height) {\n        return this.getDirectionTransformMatrix([0, 0, 0], width, height)\n    }\n\n    getDirectionLeftMatrix (width, height) {\n        return this.getDirectionTransformMatrix([0, height/2, 0], width, height)\n    }            \n \n\n    getDirectionTopMatrix (width, height) {\n        return this.getDirectionTransformMatrix([width/2, 0, 0], width, height)\n    }    \n\n    getDirectionBottomLeftMatrix (width, height) {\n        return this.getDirectionTransformMatrix([0, height, 0], width, height)\n    }    \n\n    getDirectionTopRightMatrix (width, height) {\n        return this.getDirectionTransformMatrix([width, 0, 0], width, height)\n    }        \n\n    getDirectionRightMatrix (width, height) {\n        return this.getDirectionTransformMatrix([width, height/2, 0], width, height)\n    }        \n\n    getDirectionBottomRightMatrix (width, height) {\n        return this.getDirectionTransformMatrix([width, height, 0], width, height)\n    }            \n\n    getDirectionBottomMatrix (width, height) {\n        return this.getDirectionTransformMatrix([width/2, height, 0], width, height)\n    }            \n\n    getAccumulatedMatrix () {\n        let transform = mat4.create();\n\n        if (this.parent) {\n            mat4.multiply(transform, transform, this.parent.accumulatedMatrix);\n\n            // multiply parent perspective \n            if (isFunction(this.parent.getPerspectiveMatrix)) {\n                const perspectiveMatrix = this.parent.getPerspectiveMatrix();\n                if (perspectiveMatrix) {\n                    mat4.multiply(transform, transform, perspectiveMatrix)\n                }\n            }       \n\n        }\n                    \n        const offsetX = this.offsetX.value;\n        const offsetY = this.offsetY.value; \n        // 5. Translate by offset x, y\n        mat4.translate(transform, transform, [offsetX, offsetY, 0]);                   \n                \n        mat4.multiply(transform, transform, this.localMatrix)             \n\n\n        // let path = this.path.filter(p => p.is('project') === false);\n\n        // for(let i = 0, len = path.length; i < len; i++) {\n\n        //     /**\n        //      * @type {MovableItem}\n        //      */\n        //     const current = path[i];\n\n        //     // multiply parent perspective \n        //     if (current.parent && isFunction(current.parent.getPerspectiveMatrix)) {\n        //         const perspectiveMatrix = current.parent.getPerspectiveMatrix();\n        //         if (perspectiveMatrix) {\n        //             mat4.multiply(transform, transform, perspectiveMatrix)\n        //         }\n        //     }       \n\n                        \n        //     const offsetX = current.offsetX.value;\n        //     const offsetY = current.offsetY.value; \n        //     // 5. Translate by offset x, y\n        //     mat4.translate(transform, transform, [offsetX, offsetY, 0]);                   \n                    \n        //     mat4.multiply(transform, transform, current.localMatrix)            \n        // }\n\n        return transform;\n    }\n\n    getTransformWithTranslate (item) {\n        item = item || this; \n        let view = mat4.create();\n\n        const offsetX = item.offsetX.value;\n        const offsetY = item.offsetY.value; \n        // 5. Translate by offset x, y\n        mat4.translate(view, view, [offsetX, offsetY, 0]);                   \n                \n        mat4.multiply(view, view, item.localMatrix)            \n\n        return view;\n    }\n\n    getAccumulatedMatrixInverse () {\n        return mat4.invert([], this.getAccumulatedMatrix());\n    }\n\n    getLocalVerties (width, height) {\n        let model = rectToVerties(0, 0, width || this.screenWidth.value, height || this.screenHeight.value, this.json['transform-origin']);\n\n        return model;\n    }\n\n    getVerties (width, height) {\n        let model = rectToVerties(0, 0, width || this.screenWidth.value, height || this.screenHeight.value, this.json['transform-origin']);\n\n        return vertiesMap(model, this.accumulatedMatrix)\n    }\n\n    selectionVerties () {\n        let selectionModel = rectToVerties(-6, -6, this.screenWidth.value+12, this.screenHeight.value+12, this.json['transform-origin']);\n        \n        return vertiesMap(selectionModel, this.accumulatedMatrix)\n    }    \n\n    rectVerties () {\n        return this.verties.filter((_, index) => index < 4)\n    }    \n\n    getGuideVerties () {\n\n        const verties = this.originVerties;\n\n        return [\n            ...verties,\n            vec3.lerp([], verties[0], verties[1], 0.5),\n            vec3.lerp([], verties[1], verties[2], 0.5),\n            vec3.lerp([], verties[2], verties[3], 0.5),\n            vec3.lerp([], verties[3], verties[0], 0.5),\n        ];\n    }        \n\n    get toRectVerties () {\n        return itemsToRectVerties([this]);\n    }\n\n    get matrix () {\n        const id = this.id; \n        const x =  this.offsetX.value;\n        const y = this.offsetY.value;\n        const width = this.screenWidth.value;\n        const height = this.screenHeight.value; \n        const originalTransform = this.json.transform;\n        const originalTransformOrigin = this.json['transform-origin'] || '50% 50% 0%';\n\n        // load cached matrix \n        const parentMatrix = this.parent.accumulatedMatrix;\n        const parentMatrixInverse = this.parent.accumulatedMatrixInverse;\n        const localMatrix = this.localMatrix\n        const localMatrixInverse = this.localMatrixInverse;\n        const itemMatrix = this.itemMatrix;\n        const itemMatrixInverse = this.itemMatrixInverse;\n        const accumulatedMatrix = this.accumulatedMatrix;\n        const accumulatedMatrixInverse = this.accumulatedMatrixInverse;\n\n        const directionMatrix = {\n            'to top left': this.getDirectionTopLeftMatrix(width, height),\n            'to top': this.getDirectionTopMatrix(width, height),            \n            'to top right': this.getDirectionTopRightMatrix(width, height),\n            'to right': this.getDirectionRightMatrix(width, height),                        \n            'to bottom left': this.getDirectionBottomLeftMatrix(width, height),\n            'to bottom': this.getDirectionBottomMatrix(width, height),                        \n            'to bottom right': this.getDirectionBottomRightMatrix(width, height),\n            'to left': this.getDirectionLeftMatrix(width, height),                        \n        }\n\n        const verties = this.verties;\n        const xList = verties.map(it => it[0])\n        const yList = verties.map(it => it[1])\n\n        return {\n            id, \n            x, \n            y, \n            width, \n            height,\n            transform: originalTransform,\n            originalTransformOrigin,      \n            /**\n             * 변환되는 모든 vertex 를 기록 \n             */\n            verties,\n            originVerties: this.originVerties,\n            xList,\n            yList,\n            directionMatrix,\n            parentMatrix,   // 부모의 matrix \n            parentMatrixInverse,\n            localMatrix,    // 자기 자신의 matrix with translate offset(x,y)\n            localMatrixInverse,    \n            itemMatrix,     // 자기 자신의 matrix without translate offset(x,y)\n            itemMatrixInverse,\n            accumulatedMatrix,  // parentMatrix * offset translate * localMatrix , 축적된 matrix \n            accumulatedMatrixInverse,\n        }\n    }\n\n    /**\n     * \n     * @returns {vec3[]} 패스의 verties \n     */\n    pathVerties () {\n        return this.accumulatedPath().verties; \n    }\n\n    /**\n     * 중첩된 matrix 적용한 path segment \n     * \n     * @returns {PathParser} \n     */\n    accumulatedPath (pathString = '') {\n\n        const d = pathString || this.d;\n\n        const pathParser = new PathParser(d)\n        pathParser.transformMat4(this.accumulatedMatrix);\n\n        return pathParser; \n    }    \n\n    // 전체 캔버스에 그려진 path 의 개별 verties 를 \n    // svg container 의 matrix 의 inverse matrix 를 곱해서 재계산 한다.     \n    invertPath (pathString = '') {\n        const path = new PathParser(pathString)\n        path.transformMat4(this.accumulatedMatrixInverse)    \n    \n        return path; \n    }\n\n    /**\n     * 주어진 Point 를 로컬 좌표로 변환\n     * \n     * @param {vec3} point \n     * @returns {vec3}\n     */\n    invertPoint (point) {\n        return vec3.transformMat4([], point, this.accumulatedMatrixInverse);\n    }\n\n    /**\n     * pathString 의 좌표를 기준 좌표로 돌린다. \n     * \n     * @param {string} pathString   svg path string \n     */\n    invertPathString (pathString = '') {\n        return this.invertPath(pathString).d;\n    }\n\n    updatePath(d) {\n        const matrix = this.matrix;\n        const newPath = new PathParser(d);\n\n        // 2. 로컬 좌표로 bbox 구하기 \n        let bbox = newPath.getBBox();\n\n        // 3. newWidth, newHeight 구하기 \n        const newWidth = vec3.distance(bbox[1], bbox[0]);\n        const newHeight = vec3.distance(bbox[3], bbox[0]);\n\n        // 4. bbxo 를 월드 좌표로 변환 \n        let oldBBox = vertiesMap(\n            rectToVerties(bbox[0][0], bbox[0][1], newWidth, newHeight), \n            matrix.accumulatedMatrix\n        );\n\n        // 5. 월드 좌표에서 로컬 transform 의 역행렬을 적용, 월드 좌표에서 translate 를 구함 \n        //    이 때 translate 를 모르기 때문에 origin 을 bbox를 중심으로 새로 구해서 적용 \n        let newBBox = vertiesMap(oldBBox, calculateMatrixInverse(\n            mat4.fromTranslation([], oldBBox[4]),\n            Transform.createTransformMatrix(\n                Transform.parseStyle(matrix.transform), \n                newWidth, \n                newHeight\n            ),\n            mat4.fromTranslation([], vec3.negate([], oldBBox[4])),\n        ));\n\n        // 6. 월드 좌표로 변환된 bbox 의 중심으로 새로운 matrix 를 구함\n        const worldMatrix = calculateMatrix(\n            mat4.fromTranslation([], newBBox[0]),                      \n            this.getLocalTransformMatrix(newWidth, newHeight),\n        );\n\n\n        // 7. 월드 좌표에서 부모의 상대 좌표로 변환 \n        const realXY = mat4.getTranslation([], calculateMatrix(\n            matrix.parentMatrixInverse,                    \n            worldMatrix,                    \n            mat4.invert([], this.getLocalTransformMatrix(newWidth, newHeight)),\n        ));\n\n        return {\n            d: newPath.translate(-bbox[0][0], -bbox[0][1]).d,\n            x: Length.px(realXY[0]),\n            y: Length.px(realXY[1]),\n            width: Length.px(newWidth),\n            height: Length.px(newHeight)\n        }\n    }\n\n    /**\n     * 나를 포함한 모든 layer 에 대해서 체크한다. \n     * \n     * project, artboard 를 제외 \n     * \n     * @param {vec3[]} areaVerties \n     */\n    checkInAreaForAll (areaVerties) {\n        const items = [...this.checkInAreaForLayers(areaVerties)];\n\n        if (this.is('artboard')) return items;\n        if (this.is('project')) return items;\n\n        if (this.checkInArea(areaVerties)) {\n            // ref 를 넘겨야 proxy 기능을 그대로 사용 할 수 있다. \n            // 그렇지 않으면 일반적인 객체에 접근 하는 것 밖에 안된다. 즉, json 을 사용할 수가 없다. \n            items.push(this.ref);       \n        }\n\n        return items; \n    }\n\n    /**\n     * area 에 속하는지 충돌 체크, \n     * \n     * @param {vec3[]} areaVerties \n     * @returns {Item[]}  충돌 체크된 선택된 객체 리스트 \n     */\n    checkInAreaForLayers(areaVerties) {\n        var items = [] \n        this.layers.forEach(layer => {\n\n            items.push.apply(items, layer.checkInAreaForLayers(areaVerties));\n\n            if (layer.checkInArea(areaVerties)) {\n                items.push(layer);\n            }\n        })\n\n        return items; \n    }\n\n    getTransformOriginMatrix () {\n        return mat4.fromTranslation([], TransformOrigin.scale(\n            this.json['transform-origin'] || '50% 50% 0px', \n            this.screenWidth.value, \n            this.screenHeight.value\n        ))\n    }\n\n    getTransformOriginMatrixInverse () {\n        return mat4.invert([], this.getTransformOriginMatrix())\n    }    \n\n    /**\n     * 새로운 부모를 기준으로 childItem 의 transform 을 맞춘다. \n     * \n     * 1. childItem 의 accumulatedMatrix 를 구한다. \n     * 2. 새로운 부모를 기준으로 좌표를 다시 맞춘다.   parentItem.accumulatedMatrixInverse \n     * \n     * childItem 의 좌표를 새로운 parent 로 맞출 때는  \n     * itemMatrix (rotateZ) 를 먼저 구하고 offset 을 다시 구하는 순서로 간다. \n     * \n     * @param {Item} childItem \n     */\n    resetMatrix (childItem) {\n\n        this.modelManager.setChanged('resetMatrix', this.id, { start: true, childItemId: childItem?.id })\n\n        // 새로운 offset 좌표는 아래와 같이 구한다. \n        // [newParentMatrix] * [newTranslate] * [newItemTransform] = [newAccumulatedMatrix]\n\n        // [newTranslate] * [newItemTransform] = [newParentMatrix * -1] * [newAccumulatedMatrix]\n        const matrix = calculateMatrix(\n            this.accumulatedMatrixInverse,\n            childItem.accumulatedMatrix,\n        )\n\n        // scale 구하기 \n        const newScaleTransform = Transform.fromScale(mat4.getScaling([], matrix).map(it => round(it, 1000)));\n\n        // 회전 영역 먼저 구하기 \n        const q = mat4.getRotation([], matrix);\n\n        const axis = []\n        const rad = quat.getAxisAngle(axis, q)\n\n        const newRotateTransform = [\n            { angle : axis[0] ? radianToDegree(rad * axis[0]) : 0, type: 'rotateX' },\n            { angle : axis[1] ? radianToDegree(rad * axis[1]) : 0, type: 'rotateY' },\n            { angle : axis[2] ? radianToDegree(rad * axis[2]) : 0, type: 'rotateZ' },\n        ]\n        .filter(it => it.angle !== 0)\n        .map(it => `${it.type}(${Length.deg(it.angle % 360)})`).join(' ');\n\n        // 새로 변환될 item transform 정의 \n        const newChildItemTransform = Transform.replaceAll(childItem.transform, `${newScaleTransform} ${newRotateTransform}`)\n\n        const list = Transform.parseStyle(newChildItemTransform);\n        const width = childItem.screenWidth.value;\n        const height = childItem.screenHeight.value;\n\n        const newTransformMatrix = Transform.createTransformMatrix(list, width, height);\n\n        // 새로 변환될 item transform 정의 \n        // [newLocalMatrix] * [\n        //     [origin] * [newTransformMatrix] * [origin * -1]\n        //      * -1 \n        // ]\n        // \n        const [x, y, z] = mat4.getTranslation([], calculateMatrix(\n            matrix,\n            calculateMatrixInverse(\n                childItem.getTransformOriginMatrix(),\n                newTransformMatrix,\n                childItem.getTransformOriginMatrixInverse(),\n            )\n        ));\n\n\n        childItem.reset({\n            x: Length.px(x),\n            y: Length.px(y),\n            transform: newChildItemTransform\n        })\n\n        childItem.refreshMatrixCache();\n\n        this.modelManager.setChanged('resetMatrix', this.id, { end: true, childItemId: childItem?.id })        \n\n    }\n\n    /** order by  */\n\n    getIndex () {\n        var parentLayers = this.parent.layers;    \n        var startIndex = -1; \n        for(var i = 0, len = parentLayers.length; i < len; i++) {\n            if (parentLayers[i] === this.ref) {\n                startIndex = i; \n                break;\n            }\n        }\n\n        return startIndex;\n    }\n\n    setOrder (targetIndex) {\n        var parent = this.parent; \n\n        var startIndex = this.getIndex()\n\n        if (startIndex > -1) {\n            parent.children[startIndex] = parent.children[targetIndex]\n            parent.children[targetIndex] = this.id; \n\n            this.modelManager.setChanged('setOrder', this.id, {targetIndex, startIndex, parentId: parent.id})\n        }\n    }\n\n    // get next sibiling item \n    next () {\n        if (this.isLast()) {\n            return this.ref; \n        }\n\n        const index = this.getIndex();\n\n        return this.parent.layers[index+1];\n    }\n\n    // get prev sibiling item   \n    prev () {\n        if (this.isFirst()) {\n            return this.ref; \n        }\n\n        const index = this.getIndex();\n\n        return this.parent.layers[index-1];    \n    }\n\n    /**\n     * 레이어를 현재의 다음으로 보낸다. \n     * 즉, 화면상에 렌더링 영역에서 올라온다. \n     */\n    orderNext() {   \n\n        if (this.isLast()) {\n\n            if (this.parent.next) {\n                let next = this.parent.next();\n\n\n                if (next.enableHasChildren()) {\n                    next.appendChild(this);          \n                } else {\n                    next.appendAfter(this);\n                }\n    \n            }\n\n            return; \n        }\n\n        var startIndex = this.getIndex();\n        if (startIndex > -1) {\n            this.setOrder(startIndex + 1);\n        }\n    }\n\n    isFirst () {\n        return this.getIndex() === 0;\n    }\n\n    isLast () {\n        return this.getIndex() === this.parent.children.length - 1\n    }\n\n    /**\n     * 레이어를 현재의 이전으로 보낸다. \n     * 즉, 화면상에 렌더링 영역에서 내려간다.\n     */  \n    orderPrev () {\n        if (this.isFirst()) {\n            const prev = this.parent.prev();\n            \n            if (prev) {\n                prev.appendBefore(this);\n            }\n\n            return; \n        }\n\n        var startIndex = this.getIndex();\n        if (startIndex > 0) {\n            this.setOrder(startIndex - 1);\n        }\n    }\n\n    // 부모의 처음으로 보내기 \n    orderFirst () {\n        this.setOrder(0)\n    }\n\n    // 부모의 마지막으로 보내기 \n    orderLast () {\n        this.setOrder(this.parent.childrenLength - 1)\n    }\n\n    //TODO: 전체중에 처음으로 보내기 \n    orderTop() {}\n    //TODO: 전체중에 마지막으로 보내기 \n    orderBottom () {}\n}","import { MovableModel } from \"./MovableModel\";\n\nconst layout_list  = ['flex', 'grid']\n\nexport class GroupModel extends MovableModel {   \n\n    isLayoutItem () {\n        return this.parent.hasLayout();\n    }\n\n    /**\n     * \n     * 레이아웃을 가지고 있는 container 인지 판별\n     * \n     * @returns {boolean}\n     */\n    hasLayout () {\n        const layout = this.json.layout || \"default\";\n        return layout !== \"default\";\n    }\n\n    /**\n     * layout 체크 \n     * \n     * @param {default|flex|grid} layout \n     * @returns {boolean}\n     */\n    isLayout(layout) {\n        const localLayout = this.json.layout || \"default\";        \n        return localLayout === layout;\n    }\n\n    isInDefault () {\n        if  (!this.isLayoutItem()) return false; \n\n        const parentLayout = this.parent.layout || 'default';\n                \n        return 'default' === parentLayout; \n    }\n\n    isInGrid () {\n        if  (!this.isLayoutItem()) return false; \n                \n        return 'grid' === this.parent.layout; \n    }\n\n    isInFlex () {\n        if  (!this.isLayoutItem()) return false; \n\n        return 'flex' === this.parent.layout \n    }\n\n}","import { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { clone } from \"el/sapa/functions/func\";\n\nexport class Selector extends PropertyItem {\n  static parse(obj) {\n    return new Selector(obj);\n  }\n\n\n  getDefaultObject(obj) {\n    return super.getDefaultObject({\n      itemType: \"selector\",\n      selector: '',\n      properties: [],\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('selector', 'properties')\n    }\n  }\n\n  isMultiStyle (key) {\n    switch (key) {\n    case 'background-image': \n    case 'var':\n      return true;\n    }\n\n    return false;\n  }\n\n  getMultiStyleString (p) {\n    switch(p.key) {\n      case 'background-image': \n        return p.value.toString() + ';';\n    }\n\n    return p.value.toString() + ' !important;'; \n  }\n\n  toPropertyString () {\n    return this.json.properties.map(p => {\n      if (this.isMultiStyle(p.key)) {\n        return this.getMultiStyleString(p)\n      } else {\n        var value = p.value.toString();\n\n        if (value) {\n\n          var key = p.key \n\n          if (key === 'x') key = 'left';\n          else if (key === 'y') key = 'top';\n\n          return `${key}: ${value} !important;`\n        } else {\n          return '';\n        }\n      }\n    }).join('\\n')\n  }\n\n  toCSSText (prefix = '') {\n  \n    return `${prefix}${this.json.selector} {\n    ${this.toPropertyString()}\n}`\n  }\n\n  toCSS() {\n    return {};\n  }\n\n  toString(prefix = '') {\n    return this.toCSSText(prefix)\n  }\n}\n","\nimport { Length } from \"el/editor/unit/Length\";\nimport { GroupModel } from \"./GroupModel\";\nimport { Selector } from \"../property-parser/Selector\";\nimport { ClipPath } from \"el/editor/property-parser/ClipPath\";\nimport PathParser from \"el/editor/parser/PathParser\";\nimport { Pattern } from 'el/editor/property-parser/Pattern';\nimport { BackgroundImage } from 'el/editor/property-parser/BackgroundImage';\nimport { STRING_TO_CSS } from \"el/utils/func\";\n\n\nconst editableList = [\n  'appearance',\n  'position',\n  'right',\n  'bottom',\n  'rootVariable',\n  'variable',\n  'transform',\n  'filter',\n  'backdrop-filter',\n  'background-color',\n  'background-image',\n  'border-radius',\n  'border',\n  'box-shadow',\n  'clip-path',\n  'color',\n  'perspective-origin',\n  'transform-origin',\n  'transform-style',\n  'perspective',\n  'mix-blend-mode',\n  'overflow',\n  'opacity',\n  'box-model',\n  'layout',\n  'flex-layout',\n  'grid-layout',\n  'animation',\n  'transition',\n  'pattern',\n  'boolean-operation'\n]\n\nconst editableKeys = {}\neditableList.forEach(function (key) {\n  editableKeys[key] = true\n})\n\nexport class DomModel extends GroupModel {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      'position': 'absolute',\n      'x': Length.z(),\n      'y': Length.z(),\n      'rootVariable': '',\n      'variable': '',\n      'width': Length.px(300),\n      'height': Length.px(300),\n      'color': \"black\",\n      // 'font-size': Length.px(13),\n      'overflow': 'visible',\n      'opacity': 1,\n      'z-index': Length.auto,\n      'transform-style': 'preserve-3d',\n      'layout': 'default',\n      'flex-layout': 'display:flex;',\n      'grid-layout': 'display:grid;',\n      // 'keyframe': 'sample 0% --aaa 100px | sample 100% width 200px | sample2 0.5% background-image background-image:linear-gradient(to right, black, yellow 100%)',\n      // keyframes: [],\n      \"boolean-operation\": 'none',\n      \"boolean-path\": \"\",\n      selectors: [],\n      svg: [],\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n\n    var json = this.json;\n\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'position',\n        'rootVariable',\n        'variable',\n        'transform',\n        'filter',\n        'backdrop-filter',\n        'background-color',\n        'background-image',\n        'text-clip',\n        'border-radius',\n        'border',\n        'box-shadow',\n        'text-shadow',\n        'clip-path',\n        'color',\n        'font-size',\n        'font-stretch',\n        'line-height',\n        'text-align',\n        'text-transform',\n        'text-decoration',\n        'letter-spacing',\n        'word-spacing',\n        'text-indent',\n        'perspective-origin',\n        'transform-origin',\n        'transform-style',\n        'perspective',\n        'mix-blend-mode',\n        'overflow',\n        'opacity',\n        'flex-layout',\n        'grid-layout',\n        'animation',\n        'transition',\n        'margin-top',\n        'margin-left',\n        'margin-right',\n        'margin-bottom',\n        'padding-top',\n        'padding-right',\n        'padding-left',\n        'padding-bottom',\n        'boolean-operation'\n      ),\n\n      // 'keyframe': 'sample 0% --aaa 100px | sample 100% width 200px | sample2 0.5% background-image background-image:linear-gradient(to right, black, yellow 100%)',\n      // keyframes: json.keyframes.map(keyframe => keyframe.clone()),\n      selectors: json.selectors.map(selector => selector.clone()),\n      svg: json.svg.map(svg => svg.clone())\n    }\n  }\n\n  editable(editablePropertyName) {\n\n    if (editablePropertyName == 'border' && this.hasChildren()) {\n      return false\n    }\n\n    switch (editablePropertyName) {\n      case 'svg-item':\n      // case 'box-model':\n      // case 'transform':\n      case 'transform-origin':\n      case 'perspective':\n      case 'perspective-origin':\n        return false;\n    }\n\n    return Boolean(editableKeys[editablePropertyName])\n  }\n\n  get changedBoxModel() {\n    return this.hasChangedField(\n      'margin-top', 'margin-left', 'margin-bottom', 'margin-right', \n      'padding-top', 'padding-left', 'padding-right', 'padding-bottom'\n    )\n  }\n\n\n  addSelector(selector) {\n    this.json.selectors.push(selector);\n    return selector;\n  }\n\n  createSelector(data = {}) {\n    return this.addSelector(\n      new Selector({\n        checked: true,\n        ...data\n      })\n    );\n  }\n\n  removePropertyList(arr, removeIndex) {\n    arr.splice(removeIndex, 1);\n  }\n\n  removeSelector(removeIndex) {\n    this.removePropertyList(this.json.selectors, removeIndex);\n  }\n\n  enableHasChildren() {\n    return true;\n  }\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  updateSelector(index, data = {}) {\n    this.json.selectors[+index].reset(data);\n  }\n\n\n  traverse(item, results, hasLayoutItem) {\n    // var parentItemType = item.parent().itemType;\n    if (item.isAttribute()) return;\n    // if (parentItemType == 'layer') return;\n    if (!hasLayoutItem && item.isLayoutItem() && !item.isRootItem()) return;\n\n    results.push(item);\n\n    item.children.forEach(child => {\n      this.traverse(child, results);\n    });\n  }\n\n  tree(hasLayoutItem) {\n    var results = [];\n\n    this.children.forEach(item => {\n      this.traverse(item, results, hasLayoutItem);\n    });\n\n    return results;\n  }\n\n  reset(obj) {\n    const isChanged = super.reset(obj);\n\n    // transform 에 변경이 생기면 미리 캐슁해둔다. \n    if (this.hasChangedField('clip-path')) {\n      this.setClipPathCache()\n    } else if (this.hasChangedField('width', 'height')) {\n\n      if (this.cacheClipPath) {\n        const d = this.cacheClipPath.clone().scale(this.json.width.value / this.cacheClipPathWidth, this.json.height.value / this.cacheClipPathHeight).d;\n        this.json['clip-path'] = `path(${d})`;\n\n        this.modelManager.setChanged('reset', this.id, { 'clip-path' : this.json['clip-path'] });\n      }\n\n    } else if (this.hasChangedField('background-image', 'pattern')) {\n      this.setBackgroundImageCache()\n    } else if (this.hasChangedField('changedChildren', 'boolean-operation') || !this.json['boolean-path']) {\n      if (this.json.children?.length === 2) {\n\n        if (this.modelManager.editor.pathKitManager.has()) {\n          const paths = this.layers.filter(it => it.is('svg-path'))\n  \n          if (paths.length === 2) {\n            const newPath = this['boolean-operation'] != 'none' ?  this.booleanOperation() : \"\";\n    \n            this.json['boolean-path'] = newPath;\n          }\n        }\n  \n      }\n  \n    }\n\n\n    \n\n    return isChanged;\n  }\n\n  setBackgroundImageCache() {\n\n    let list = [];\n\n    if (this.json.pattern) {\n\n      const patternList = this.computed('pattern', (pattern) => {\n        return Pattern.parseStyle(pattern).map(it => {\n          return BackgroundImage.parseStyle(STRING_TO_CSS(it.toCSS()))\n        });\n      })\n\n      for(var i = 0, len = patternList.length; i < len; i++)   {\n        list.push.apply(list, patternList[i]);\n      }\n    }\n\n    if (this.json['background-image']) {\n      const backgroundList = this.computed('background-image', (backgroundImage) => {\n        return BackgroundImage.parseStyle(STRING_TO_CSS(backgroundImage))\n      })\n\n      list.push.apply(list, backgroundList);\n    }\n\n    if (list.length) {\n      this.cacheBackgroundImage = BackgroundImage.joinCSS(list);\n    } else {\n      this.cacheBackgroundImage = {}\n    }\n  }\n\n  setClipPathCache() {\n    var obj = ClipPath.parseStyle(this.json['clip-path'])\n\n    this.cacheClipPathObject = obj;    \n    if (obj.type === 'path') {\n      this.cacheClipPath = new PathParser(obj.value.trim())\n      this.cacheClipPathWidth = this.json.width.value;\n      this.cacheClipPathHeight = this.json.height.value;\n    }\n  }\n\n  setCache() {\n    super.setCache();\n\n    this.setClipPathCache();\n  }\n\n  get clipPathString() {\n\n    if (!this.cacheClipPath) {\n      this.setClipPathCache();\n    }\n\n    if (this.cacheClipPath) {\n      return this.cacheClipPath.clone().scale(this.json.width.value / this.cacheClipPathWidth, this.json.height.value / this.cacheClipPathHeight).d;\n    }\n\n  }\n\n  booleanOperation() {\n    const op = this.json['boolean-operation']\n    switch(op) {\n    case \"intersection\": return this.intersection();\n    case \"union\": return this.union();\n    case \"difference\": return this.difference();\n    case \"reverse-difference\": return this.reverseDifference();\n    case \"xor\": return this.xor();\n    }\n\n    return \"\";\n  }\n\n  intersection() {\n    const layers = this.layers; \n\n    const newPath = this.modelManager.editor.pathKitManager.intersection(\n      layers[0].accumulatedPath().d,\n      layers[1].accumulatedPath().d\n    ) \n\n    return this.invertPath(newPath).d;\n  }\n\n  union() {\n    const layers = this.layers; \n\n    const newPath = this.modelManager.editor.pathKitManager.union(\n      layers[0].accumulatedPath().d,\n      layers[1].accumulatedPath().d\n    ) \n\n    return this.invertPath(newPath).d;\n  }\n\n  difference() {\n    const layers = this.layers; \n\n    const newPath = this.modelManager.editor.pathKitManager.difference(\n      layers[0].accumulatedPath().d,\n      layers[1].accumulatedPath().d\n    ) \n\n    return this.invertPath(newPath).d;\n  }\n\n  reverseDifference() {\n    const layers = this.layers; \n\n    const newPath = this.modelManager.editor.pathKitManager.reverseDifference(\n      layers[0].accumulatedPath().d,\n      layers[1].accumulatedPath().d\n    ) \n\n    return this.invertPath(newPath).d;\n  }  \n\n  xor() {\n    const layers = this.layers; \n\n    const newPath = this.modelManager.editor.pathKitManager.xor(\n      layers[0].accumulatedPath().d,\n      layers[1].accumulatedPath().d\n    ) \n\n    return this.invertPath(newPath).d;\n  }\n\n}\n","import { DomModel } from \"./DomModel\";\nimport icon from \"el/editor/icon/icon\";\n\nexport class LayerModel extends DomModel {\n\n  static getIcon () {\n    return icon.rect;\n  }\n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: \"layer\",\n      name: \"New Layer\",\n      tagName: 'div',\n      ...obj\n    });\n  }\n\n  getDefaultTitle() {\n    return \"Layer\";\n  } \n\n  getIcon() {\n    return icon.rect;\n  }\n\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('tagName'),\n    }\n  }\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport icon from \"el/editor/icon/icon\";\nimport { LayerModel } from \"el/editor/model/LayerModel\";\n\nexport class ArtBoard extends LayerModel {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: \"artboard\",\n      name: \"New ArtBoard\",\n      width: Length.px(1000),\n      height: Length.px(1000),\n      'background-color': 'white',\n      'transform-style': 'flat',\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('name'),\n    }\n  }  \n\n  getDefaultTitle() {\n    return \"ArtBoard\";\n  }\n\n  getIcon() {\n    return icon.artboard;\n  }\n\n  editable(editablePropertyName) {\n\n    switch (editablePropertyName) {\n    case 'border':\n    case 'border-radius':\n    case 'backdrop-filter':\n    case 'box-shadow':\n    case 'clip-path':\n      return false;\n    case 'artboard-size':\n    case 'layout':\n      return true;\n    }\n\n    return super.editable(editablePropertyName);\n  }\n\n\n}","\nimport icon from \"el/editor/icon/icon\";\nimport { LayerModel } from \"el/editor/model/LayerModel\";\n\n\nexport class CircleLayer extends LayerModel {\n\n  getIcon () {\n    return icon.lens;\n  }  \n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'circle',\n      name: 'New Circle',      \n      'border-radius': '100%',\n      ...obj\n    });\n  }\n\n  getDefaultTitle() {\n    return \"Circle\";\n  } \n}","import icon from \"el/editor/icon/icon\";\nimport { LayerModel } from \"el/editor/model/LayerModel\";\n\nexport class ImageLayer extends LayerModel {\n\n  getIcon () {\n    return icon.image;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'image',\n      name: \"New Image\",\n      elementType: 'image',\n      src: '',\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n  getDefaultTitle() {\n    return \"Image\";\n  }\n\n  getIcon() {\n    return icon.image;\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('src'),\n    }\n  }\n\n  resize() {\n    this.reset({\n      width: this.json.naturalWidth.clone(),\n      height: this.json.naturalHeight.clone()\n    })\n\n  }\n}","import icon from \"el/editor/icon/icon\";\nimport { LayerModel } from \"el/editor/model/LayerModel\";\n\nexport class RectLayer extends LayerModel {\n\n  getIcon () {\n    return icon.rect;\n  }  \n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'rect',\n      name: 'New Rect',\n      ...obj\n    });\n  }\n\n  getDefaultTitle() {\n    return \"Rect\";\n  } \n\n\n}","import { LayerModel } from \"el/editor/model/LayerModel\";\nimport { Length } from 'el/editor/unit/Length';\nimport Color from \"el/utils/Color\";\n\n\nconst expectedProperties = [\n  'appearance',\n  'border',\n  'border-radius',\n  'background-image',\n  'backdrop-filter',\n  'clip-path',\n  'pattern',\n  'box-shadow',\n  'layout',\n  'transform',\n  'transform-origin',\n  'perspective',\n  'perspective-origin',\n  'backdrop-filter',\n  'box-model',\n]\n\nconst expectedPropertiesKeys = {}\n\nexpectedProperties.forEach(key => {\n  expectedPropertiesKeys[key] = true\n})\n\nexport class SVGItem extends LayerModel {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg',\n      name: \"New SVG\",\n      elementType: 'svg',\n      overflow: 'visible',         \n      stroke: 'black',\n      'stroke-width': 1,\n      'svgfilter': '',\n      fill: 'transparent',\n      'fill-rule': '',\n      'fill-opacity': '',\n      'stroke-linecap': '',\n      'stroke-linejoin': '',      \n      'stroke-dashoffset': 0, \n      'stroke-dasharray': ' ',\n      'text-anchor': 'start',\n      ...obj\n    });\n  }\n\n  editable(editablePropertyName) {\n\n    if (expectedPropertiesKeys[editablePropertyName]) {\n      return false;\n    }\n\n    switch(editablePropertyName) {\n    case 'svg-item':\n      return true; \n    }\n\n    return super.editable(editablePropertyName);\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'overflow',\n        'stroke',\n        'stroke-width',\n        'svgfilter',\n        'fill',\n        'fill-rule',\n        'fill-opacity',\n        'stroke-linecap',\n        'stroke-linejoin',\n        'stroke-dashoffset',\n        'stroke-dasharray',\n        'text-anchor',\n      )\n\n    }\n  }\n\n  getDefaultTitle() {\n    return \"SVG\";\n  }\n\n  isSVG() {\n    return true; \n  }\n\n\n  /**\n   * \n   * 특정 포인트가 현재 path 의 stroke, fill 에 속하는지 확인한다.\n   * \n   * @param {number} x \n   * @param {number} y \n   * @returns \n   */\n   hasPoint (x, y) {\n\n    const fill = this.json.fill;\n    const fillOpacity = this.json['fill-opacity'];\n    const strokeWidth = this.json['stroke-width'];\n\n    const isTransparent = fill === 'transparent' || fillOpacity === 0 || Color.parse(fill).a === 0;\n    const isZeroStroke = strokeWidth === 0;\n\n\n    if (isTransparent) {\n      return this.isPointInStroke(x, y);\n    } else if (!isTransparent && !isZeroStroke) {\n      return this.isPointInStroke(x, y) || this.isPointInFill(x, y);\n    } else if (!isTransparent && isZeroStroke) {\n      return this.isPointInFill(x, y);\n    }\n\n    // svg item 쪽에서는 결과가 없으면 그냥 false 를 리턴해서 체크가 안되도록 해야한다. \n    return false;\n  }  \n\n\n  /**\n   * fill 속에 점(Point)이 있는지 확인한다.\n   * \n   * @param {*} x \n   * @param {*} y \n   * @returns \n   */\n  isPointInFill(x, y) {\n    const svgEl = this.getCache(\"svgElement\")\n    const pathEl = this.getCache(\"pathElement\")\n\n    if (pathEl) {\n      const [localX, localY] = this.invertPoint([x, y, 0])\n\n      const point = svgEl.createSVGPoint();\n      Object.assign(point, {x: localX, y: localY});\n\n      return pathEl.isPointInFill(point);\n    }\n\n    return false;\n  }\n\n  isPointInStroke(x, y) {\n    const svgEl = this.getCache(\"svgElement\")\n    const pathEl = this.getCache(\"pathElement\")\n\n    if (pathEl) {\n      const [localX, localY] = this.invertPoint([x, y, 0])\n\n      const point = svgEl.createSVGPoint();\n      Object.assign(point, {x: localX, y: localY});\n\n      return pathEl.isPointInStroke(point);\n    }\n\n    return false;\n  }\n\n  convertStrokeToPath(distX = 10, distY = 10) {\n\n    const attrs = this.attrs('width', 'parentId', 'height', 'x', 'y', 'transform');        \n    const localFill = this.json.stroke\n\n    return {\n      itemType: 'svg-path',\n      name: this.json.name,\n      fill: localFill,\n      'fill-rule': 'evenodd',\n      // 'stroke': 'transparent',\n      ...attrs,\n      x: Length.parse(attrs.x).add(distX),\n      y: Length.parse(attrs.y).add(distY)      \n    }\n  }  \n\n\n  toSVGPath() {\n    const attrs = this.toCloneObject();\n\n    delete attrs.id;\n    delete attrs.itemType;\n\n    return {\n      ...attrs,\n      d: this.d,\n    };\n  }  \n}\n","import PathParser from \"el/editor/parser/PathParser\";\nimport icon from \"el/editor/icon/icon\";\nimport { SVGItem } from \"./SVGItem\";\nimport { vec3 } from \"gl-matrix\";\n\n\nexport class SVGPathItem extends SVGItem {\n\n  getIcon () {\n    return icon.edit;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg-path',\n      name: \"New Path\",   \n      'stroke-width': 1,\n      d: '',        // 이건 최종 결과물로만 쓰고 나머지는 모두 segments 로만 사용한다. \n      totalLength: 0,\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n  reset(json) {\n    const isChanged = super.reset(json);\n\n    if (this.hasChangedField('d')) {\n      // d 속성이 변경 될 때 성능을 위해서 PathParser 로 미리 객체를 생성해준다. \n      // 이때 width, height 를 같이 해둬야 한다. \n      this.cachePath = new PathParser(this.json.d);\n      this.cacheWidth = this.json.width.value;\n      this.cacheHeight = this.json.height.value;\n\n      // this.modelManager.setChanged('resetCache', this.id, { path: this.cachePath, width: this.cacheWidth, height: this.cacheHeight });\n    }\n\n    return isChanged;\n  }\n\n  refreshMatrixCache() {\n    super.refreshMatrixCache();\n\n    if (this.hasChangedField('d')) {\n      this.cachePath = new PathParser(this.json.d);\n      this.cacheWidth = this.json.width.value;\n      this.cacheHeight = this.json.height.value;\n    } else if (this.hasChangedField('width', 'height')) {\n      this.json.d = this.cachePath.clone().scale(this.json.width.value/this.cacheWidth, this.json.height.value/this.cacheHeight).d;\n      this.modelManager.setChanged('reset', this.id, { d : this.json.d });\n    }\n\n    // this.modelManager.setChanged('refreshMatrixCache', this.id, { start: true, redefined: true })                \n  }\n\n  setCache () {\n    super.setCache();\n\n    this.cachePath = new PathParser(this.json.d);\n    this.cacheWidth = this.json.width.value;\n    this.cacheHeight = this.json.height.value;    \n  }\n\n  get d() {\n\n    if (!this.json.d) {\n      return null;\n    }\n\n    if (!this.cachePath) {\n      this.cachePath = new PathParser(this.json.d);\n      this.cacheWidth = this.json.width.value;\n      this.cacheHeight = this.json.height.value;          \n    }\n\n    return this.cachePath.clone().scale(this.json.width.value/this.cacheWidth, this.json.height.value/this.cacheHeight).d;\n  }\n \n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      d: this.json.d\n    }\n  }\n\n  getDefaultTitle() {\n    return \"Path\";\n  }\n}","import { SVGItem } from \"./SVGItem\";\nimport { hasSVGProperty, hasCSSProperty} from \"el/editor/util/Resource\";\nimport { Length } from \"el/editor/unit/Length\";\nimport icon from \"el/editor/icon/icon\";\n\nexport class SVGTextItem extends SVGItem {\n\n  getIcon () {\n    return icon.title;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg-text',\n      name: \"New Text\",   \n      totalLength: 0,\n      fill: 'rgba(0, 0, 0, 1)',\n      text: 'Insert a text', \n      'font-weight': Length.number(100),\n      textLength: Length.em(0),\n      lengthAdjust: 'spacingAndGlyphs',      \n      'shape-inside': '',\n      'shape-subtract': '',\n      'shape-margin': '',\n      'shape-padding': '',\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n  convert(json) {\n    json = super.convert(json);\n\n    json.textLength = Length.parse(json.textLength);\n\n    return json;\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'totalLength',\n        'text', \n        'textLength',\n        'lengthAdjust',      \n        'shape-inside'\n      )\n    }\n  }\n\n  getDefaultTitle() {\n    return \"Text\";\n  }\n}","import PathParser from \"el/editor/parser/PathParser\";\nimport { SVGItem } from \"./SVGItem\";\nimport { hasSVGProperty, hasCSSProperty, hasSVGPathProperty } from \"el/editor/util/Resource\";\nimport { Length } from \"el/editor/unit/Length\";\nimport icon from \"el/editor/icon/icon\";\n\nexport class SVGTextPathItem extends SVGItem {\n\n  getIcon () {\n    return icon.text_rotate;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg-textpath',\n      name: \"New TextPath\",   \n      d: '',\n      // segments: [],\n      totalLength: 0,\n      fill: 'rgba(0, 0, 0, 1)',\n      text: 'Insert a text', \n      textLength: Length.em(0),\n      lengthAdjust: 'spacingAndGlyphs',\n      startOffset: Length.em(0),\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n \n  refreshMatrixCache() {\n    super.refreshMatrixCache();\n\n    if (this.hasChangedField('d')) {\n      this.cachePath = new PathParser(this.json.d);\n      this.cacheWidth = this.json.width.value;\n      this.cacheHeight = this.json.height.value;      \n    } else if (this.hasChangedField('width', 'height')) {\n      this.json.d = this.cachePath.clone().scale(this.json.width.value/this.cacheWidth, this.json.height.value/this.cacheHeight).d;\n      this.modelManager.setChanged('reset', this.id, { d: this.json.d })\n    }\n\n    // this.modelManager.setChanged('refreshMatrixCache', this.id, { start: true, redefined: true })            \n  }\n\n\n\n  get d() {\n\n    if (!this.json.d) {\n      return null;\n    }\n    \n    if (!this.cachePath) {\n      this.cachePath = new PathParser(this.json.d);\n      this.cacheWidth = this.json.width.value;\n      this.cacheHeight = this.json.height.value;          \n    }\n\n    return this.cachePath.clone().scale(this.json.width.value/this.cacheWidth, this.json.height.value/this.cacheHeight).d;\n  }  \n\n  convert(json) {\n    json = super.convert(json);\n\n    json.textLength = Length.parse(json.textLength);\n    json.startOffset = Length.parse(json.startOffset);\n\n    return json;\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'totalLength',\n        'd',\n        'text', \n        'textLength',\n        'lengthAdjust',\n        'startOffset'        \n      )\n    }\n  }\n\n  getDefaultTitle() {\n    return \"TextPath\";\n  }\n\n}","import { LayerModel } from \"./LayerModel\";\nimport icon from \"../icon/icon\";\n\n\n/**\n * Complex Component with children \n */\nexport class Component extends LayerModel {\n\n    is(...itemType) {\n        if (itemType.includes('component')) {\n            return true;\n        }\n\n        return super.is(...itemType)\n    }\n\n    getProps() {\n        return []\n    }\n\n    static createComponent({ iconString, title = 'Unknown Title', attrs = {}, enableHasChildren = false}) {\n        return class extends Component {\n\n            getIcon() {\n                return iconString || iconUse(\"add\");\n            }\n\n            getDefaultObject() {\n                return super.getDefaultObject({\n                    itemType: 'NewComponent',\n                    name: \"New Component\",\n                    ...attrs\n                });\n            }\n\n            toCloneObject() {\n\n                return {\n                    ...super.toCloneObject(),\n                    ...this.attrs(...Object.keys(attrs)),\n                }\n            }\n\n            enableHasChildren() {\n                return enableHasChildren || false;\n            }\n\n            getDefaultTitle() {\n                return title;\n            }\n\n        }\n    }\n}","import icon from \"el/editor/icon/icon\";\nimport { Component } from 'el/editor/model/Component';\n\n\nconst DEFAULT_TEMPLATE = `\n  <svg>\n    <rect width=\"100%\" height=\"100%\" fill=\"black\" />\n  </svg>\n`\n\nexport class TemplateLayer extends Component {\n\n  getIcon () {\n    return icon.auto_awesome;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'template',\n      name: \"New Template\",\n      engine: 'dom',\n      template: DEFAULT_TEMPLATE,\n      params: [],\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n  getDefaultTitle() {\n    return \"Template\";\n  }\n\n  getIcon() {\n    return icon.auto_awesome;\n  }\n\n\n  editable(editablePropertyName) {\n\n    switch (editablePropertyName) {\n      case \"font\":\n        return true;\n    }\n\n    return super.editable(editablePropertyName);\n  }  \n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('template'),\n    }\n  }\n\n}","\nimport icon from \"el/editor/icon/icon\";\nimport { LayerModel } from \"el/editor/model/LayerModel\";\n\nexport class TextLayer extends LayerModel {\n\n  getIcon () {\n    return icon.title;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'text',\n      name: \"New Text\",\n      elementType: 'p',\n      content: '',\n      ...obj\n    });\n  }\n  enableHasChildren() {\n    return false; \n  }\n\n  getDefaultTitle() {\n    return \"Text\";\n  } \n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('content'),\n    }\n  }\n\n\n  editable(editablePropertyName) {\n\n    switch (editablePropertyName) {\n      case \"font\":\n      case \"font-spacing\":\n      case \"text-style\":\n      case \"text-shadow\":\n      case \"text-fill\":\n      case 'text-clip':\n      case 'background-image':\n      case 'box-model':\n        return true;\n      case 'svg-item':\n      case 'border':\n      case 'border-radius':\n      case 'backdrop-filter':\n      case 'background-image':\n      case 'pattern':\n      case 'box-shadow':\n      case 'transform':\n      case 'transform-origin':\n      case 'perspective':\n      case 'perspective-origin':\n        return false;\n    }\n\n    return super.editable(editablePropertyName);\n  }\n}","import PathParser from \"el/editor/parser/PathParser\";\nimport icon from \"el/editor/icon/icon\";\nimport { SVGItem } from \"./SVGItem\";\nimport { vec3 } from \"gl-matrix\";\n\n\nexport class SVGPolygonItem extends SVGItem {\n\n  getIcon () {\n    return icon.edit;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'polygon',\n      name: \"New Polygon\",   \n      'stroke-width': 1,\n      count: 3,     // 기본 변의 개수는 3개 , 삼각형 \n      ...obj\n    });\n  }\n\n\n  convert(json) {\n    json = super.convert(json);\n\n    if (json.count) json.count = +(json.count);\n\n    return json;\n  }  \n\n  enableHasChildren() {\n    return false; \n  }\n\n  get d() {\n    const {width, height, count} = this.json;\n\n    return PathParser.makePolygon(width.value, height.value, count).d;\n  }\n \n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('count')\n    }\n  }\n\n  getDefaultTitle() {\n    return \"Polygon\";\n  }\n\n  isPointInPath (point) {\n\n    const localPoint = vec3.transformMat4([], point, this.accumulatedMatrixInverse);\n\n    return this.cachePath.isPointInPath({ x: localPoint[0], y: localPoint[1] }, this.json['stroke-width'] || 0);\n  }  \n\n}","import PathParser from \"el/editor/parser/PathParser\";\nimport icon from \"el/editor/icon/icon\";\nimport { SVGItem } from \"./SVGItem\";\nimport { vec3 } from \"gl-matrix\";\n\n\nexport class SVGStarItem extends SVGItem {\n\n  getIcon () {\n    return icon.star;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'star',\n      name: \"New Star\",   \n      'stroke-width': 1,\n      d: '',        // 이건 최종 결과물로만 쓰고 나머지는 모두 segments 로만 사용한다. \n      isCurve: false,\n      count: 5,     // outer radius\n      radius: 0.5,  // inner radius rate \n      tension: 0.5,   // 각도 간격\n      ...obj\n    });\n  }\n\n  convert(json) {\n    json = super.convert(json);\n\n    if (json.count) json.count = +(json.count);\n    if (json.radius) json.radius = +(json.radius);\n    if (json.tension) json.tension = +(json.tension);\n\n    return json;\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n  get d() {\n    const {width, height, count, radius, tension, isCurve} = this.json;\n\n    let newPath = \"\";\n    if (isCurve) {\n      newPath = PathParser.makeCurvedStar(width.value, height.value, count, radius, tension).d;\n    } else {\n      newPath = PathParser.makeStar(width.value, height.value, count, radius).d;\n    }\n\n    return newPath;\n  }\n \n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('count', 'radius', 'tension', 'isCurve')\n    }\n  }\n\n  getDefaultTitle() {\n    return \"Star\";\n  }\n\n}","import PathParser from \"el/editor/parser/PathParser\";\nimport icon from \"el/editor/icon/icon\";\nimport { SVGItem } from \"./SVGItem\";\nimport { vec3 } from \"gl-matrix\";\nimport nurbs from 'nurbs';\n\nexport class SplineItem extends SVGItem {\n\n  getIcon () {\n    return icon.star;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'spline',\n      name: \"New Spline\",   \n      'stroke-width': 1,\n      points: [],\n      traceCount: 100,\n      degree: 2,\n      boundary: 'clamped',\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n  refreshMatrixCache() {\n    super.refreshMatrixCache();\n\n    if (this.hasChangedField('points', 'boundary')) {\n      this.setCache();\n    } else if (this.hasChangedField('width', 'height')) {\n\n      if(!this.cachePath) {\n        this.setCache();\n      }\n\n      this.json.points = this.cachePath.clone().scale(this.json.width.value/this.cacheWidth, this.json.height.value/this.cacheHeight).verties;\n      this.modelManager.setChanged('reset', this.id, { points : this.json.points });\n    }\n  }\n\n\n  setCache () {\n    super.setCache();\n\n    this.cachePath = PathParser.makePathByVerties(this.json.points);\n    this.cacheWidth = this.json.width.value;\n    this.cacheHeight = this.json.height.value;    \n  }  \n\n\n  get editablePath() {\n\n    let {width, height, points } = this.json;\n\n    if (!points || points.length  == 0) {\n      points = [ [0, height.value], [0, 0], [width.value, 0], [width.value, height.value] ];\n    } \n\n    return this.accumulatedPath(PathParser.makePathByVerties(points).d).d;\n  }\n\n  recoverEditablePath(d) {\n\n    const points = this.invertPath(d).verties\n    const pathData = this.updatePath(this.getPath(points))\n    delete pathData.d;\n\n    return {\n      points,\n      ...pathData\n    }\n  }\n\n  get d() {\n    return this.getPath(this.json.points, this.json.boundary);\n  }\n\n  getPath(points, boundary) {\n    let {width, height } = this.json;\n\n    if (!points) { points = this.json.points }\n    if (!boundary) { boundary = this.json.boundary }\n\n    if (!points || points.length  == 0) {\n      points = [ [0, height.value], [0, 0], [width.value, 0], [width.value, height.value] ];\n    } \n\n    const curve = nurbs({\n      points,\n      degree: points.length - 2,\n      boundary\n    });\n    const pt = [];\n    const verties = [];\n    const traceCount = (points.length - 1) * 100;\n    const unit = 1/traceCount;\n    const d0 = curve.domain[0][0];\n    const d1 = curve.domain[0][1];\n\n    for (var t = 0; t <= 1; t += unit) {\n      curve.evaluate(pt, d0 + (d1 - d0) * t);\n\n      verties.push(vec3.clone(pt));\n    }\n\n    return PathParser.makePathByVerties(verties, false).d;\n  }\n \n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('points', 'degree', 'boundary')\n    }\n  }\n\n  getDefaultTitle() {\n    return \"BSpline\";\n  }\n\n}","import en_US from \"./en_US\";\nimport ko_KR from \"./ko_KR\";\nimport fr_FR from \"./fr_FR\";\n\nexport default {\n    en_US,\n    fr_FR,\n    ko_KR\n}","export default {\n\n    'app.title': 'EASYLOGIC',\n    'app.sample': (a, b, c) => {\n        return `${a}-${b}-${c}`\n    },\n    'app.lang.en_US': 'English',\n    'app.lang.ko_KR': '한국어',\n    'app.lang.fr_FR': 'Français',\n    'app.label.lang': 'Language',\n\n    'app.layout.all': 'All',\n    'app.layout.css': 'CSS',\n    'app.layout.svg': 'SVG',\n    'app.label.layout': 'Menu Layout',\n\n\n    'app.theme.dark': 'Dark',\n    'app.theme.light': 'Light',\n    'app.theme.toon': 'Toon',\n    'app.theme.gray': 'Gray',\n    'app.label.theme': 'Theme',    \n\n\n    'app.tab.title.projects': 'Projects',\n    'app.tab.title.layers': 'Layers',\n    'app.tab.title.libraries': 'Library',\n    'app.tab.title.components': 'Component',\n    'app.tab.title.artboards': 'Artboard',    \n    'app.tab.title.assets': 'Assets',       \n    'app.tab.title.keyMap': 'KeyMap',       \n    \n    'app.confirm.message.artboard.items.removeArtboard' : 'Do you remove an artboard preview really?',\n    'app.confirm.message.custom-component.items.removeCustomComponent' : 'Do you remove a custom component preview really?',\n\n    'menu.item.download.title': 'Source',\n    'menu.item.save.title': 'Save',\n    'menu.item.export.title': 'Export',\n    'menu.item.codepen.title': 'CodePen',\n    'menu.item.fullscreen.title': 'Full Screen',\n    'menu.item.shortcuts.title': 'ShortCuts',\n    'menu.item.github.title': 'Github',\n    'menu.item.learn.title': 'Learn',       \n    'menu.item.projects.title': 'Projects',\n\n    'project.property.title' : 'Project',\n    'project.information.property.title': 'Project information',   \n    'project.information.property.name': 'Name',    \n    'project.information.property.description': 'Description',    \n\n    'artboard.property.title': 'ArtBoards',   \n    'artboard.property.layout.title.flex': 'Flex',\n    'artboard.property.layout.title.grid': 'Grid',\n\n    'layer.tree.property.title': 'Layers',\n    'layer.tree.property.layout.title.flex': 'Flex',\n    'layer.tree.property.layout.title.grid': 'Grid',     \n\n    'alignment.property.title': 'Alignment',\n    'position.property.title': 'Position',\n    'position.property.X': 'X',\n    'position.property.Y': 'Y',\n    'size.property.title': 'Size',\n    'position.property.width': 'W',\n    'position.property.height': 'H',\n    'position.property.opacity': 'Opacity',\n    'position.property.rotate': 'Rotate',        \n\n    'background.color.property.title': 'Appearance',\n    'background.color.property.color': 'Color',\n    'background.color.property.zindex': 'z-index',    \n    'background.color.property.blend': 'Blend',\n    'background.color.property.overflow': 'Overflow',\n    'background.color.property.overflow.visible': 'Visible',\n    'background.color.property.overflow.hidden': 'Hidden',\n    'background.color.property.overflow.scroll': 'Scroll',\n    'background.color.property.overflow.auto': 'Auto',\n\n    'blend.normal': 'normal',\n    'blend.multiply': 'multiply',\n    'blend.screen': 'screen',\n    'blend.overlay': 'overlay',\n    'blend.darken': 'darken',\n    'blend.lighten': 'lighten',\n    'blend.color-dodge': 'color-dodge',\n    'blend.color-burn': 'color-burn',\n    'blend.hard-light': 'hard-light',\n    'blend.soft-light': 'soft-light',\n    'blend.difference': 'difference',\n    'blend.exclusion': 'exclusion',\n    'blend.hue': 'hue',\n    'blend.saturation': 'saturation',\n    'blend.color': 'color',\n    'blend.luminosity': 'luminosity',\n\n    'background.image.property.title': 'Fill',\n\n    'border.property.title': 'Border',    \n    'border.radius.property.title': 'Border Radius',    \n    'boxshadow.property.title': 'Box Shadows',    \n\n    'filter.property.title': 'Filter',\n    'filter.property.blur': 'Blur',\n    'filter.property.grayscale': 'GrayScale',\n    'filter.property.hue-rotate': 'Hue Rotate',\n    'filter.property.invert': 'Invert',\n    'filter.property.brightness': 'Brightness',\n    'filter.property.contrast': 'Contrast',\n    'filter.property.drop-shadow': 'Drop Shadow',\n    'filter.property.drop-shadow.color': 'Color',\n    'filter.property.drop-shadow.offsetX': 'Offset X',\n    'filter.property.drop-shadow.offsetY': 'Offset Y',\n    'filter.property.drop-shadow.blurRadius': 'Blur',\n    'filter.property.opacity': 'Opacity',\n    'filter.property.saturate': 'Saturate',\n    'filter.property.sepia': 'Sepia',\n    'filter.property.svg': 'SVG',\n\n    'font.property.title': 'Font',\n    'font.property.color': 'Color',\n    'font.property.size': 'Size',\n    'font.property.stretch': 'Stretch',\n    'font.property.weight': 'Weight',\n    'font.property.style': 'Style',\n    'font.property.family': 'Family',\n\n    'font.spacing.property.title': 'Font spacing',\n    'font.spacing.property.lineHeight': 'Line height',\n    'font.spacing.property.letterSpacing': 'Letter spacing',\n    'font.spacing.property.wordSpacing': 'Word spacing',\n    'font.spacing.property.indent': 'Indent',\n\n    'backdrop.filter.property.title': 'Backdrop Filter',        \n    'clippath.property.title': 'Clip Path',\n\n    'export.property.title': 'Export',    \n    'export.property.download': 'Download',    \n\n    'iframe.property.title': 'IFrame',\n\n    'image.property.title': 'Image',\n    'image.property.origin': 'Origin',    \n    'image.property.size': 'Size',    \n    'image.property.width': 'Width',    \n    'image.property.height': 'height',    \n\n    'video.property.title': 'Video',\n    'video.property.play': 'Play',    \n    'video.property.pause': 'Pause',    \n    'video.property.volume': 'Volume',    \n    'video.property.playbackRate': 'Playback Rate',        \n    'video.property.currentTime': 'Current Time',  \n    'video.property.playTime': 'Play Time Distance',               \n\n    'motion.property.title': 'Motion',\n\n    'text.property.title': 'Text Style',\n    'text.property.align': 'Align',\n    'text.property.transform': 'Transform',\n    'text.property.decoration': 'Decoration',\n\n    'text.clip.property.title': 'Text Clip',    \n\n    'text.shadow.property.title': 'Text Shadows',\n    \n    'text.fill.property.title':  'Text Fill',\n    'text.fill.property.fill':  'Fill',\n    'text.fill.property.stroke':  'Stroke',\n    'text.fill.property.strokeWidth':  'Width',\n\n    \n\n    'transform.property.title': 'Transform',\n    'transform.origin.property.title': 'Transform Origin',    \n\n    'transition.property.title': 'CSS Transition',\n\n    'keyframe.property.title': 'CSS Keyframe',      \n    'selector.property.title': 'Selector',\n    'selector.property.none': 'None selector',    \n\n    'path.data.property.title': 'Path Information',\n    'polygon.data.property.title': 'Polygon Information',    \n\n    'perspective.property.title': 'Perspective',            \n    'perspective.origin.property.title': 'Perspective Origin',       \n\n\n    'svg.item.property.title': 'Appearance',\n    'svg.item.property.isMotionPath': 'Motion Path',    \n    'svg.item.property.fill': 'Fill',\n    'svg.item.property.fillOpacity': 'Opacity',\n    'svg.item.property.path': 'Path',\n    'svg.item.property.polygon': 'Polygon',\n    'svg.item.property.totalLength': 'Total Length',\n    'svg.item.property.fillRule': 'Fill Rule',\n    'svg.item.property.stroke': 'Stroke',\n    'svg.item.property.strokeWidth': 'Width',\n    'svg.item.property.dashArray': 'Dash Array',\n    'svg.item.property.dashOffset': 'Dash Offset',\n    'svg.item.property.lineCap': 'Line Cap',\n    'svg.item.property.lineJoin': 'Line Join',\n    'svg.item.property.filter': 'Filter',\n\n\n    'border.editor.all': 'All',     \n    'border.editor.width': 'Width',        \n    'border.editor.style': 'Style',        \n    'border.editor.color': 'C',                  \n    'border.editor.top': 'Top',        \n    'border.editor.left': 'Left',        \n    'border.editor.right': 'Right',        \n    'border.editor.bottom': 'Bottom',     \n\n    'border.radius.editor.topLeft': 'Top Left',\n    'border.radius.editor.topRight': 'Top Right',\n    'border.radius.editor.bottomLeft': 'Bottom Left',\n    'border.radius.editor.bottomRight': 'Bottom Right',\n\n    'boxshadow.editor.blur': 'Blur',\n    'boxshadow.editor.spread': 'Spread',\n\n    'css.property.editor.properties': 'Properties',\n\n    'offset.path.list.editor.path': 'Path',\n    'offset.path.list.editor.totalLength': 'Total Length',\n    'offset.path.list.editor.distance': 'Distance',\n    'offset.path.list.editor.direction': 'Direction',\n    'offset.path.list.editor.rotate': 'Rotate',\n    \n    'svgfilter.select.editor.message.create': 'Create new svg filter',\n    'svgfilter.select.editor.message.select': 'Select a filter',\n\n    'fill.editor.message.click.image': 'Click the preview area if you want to select a image',\n    'fill.editor.message.drag.position': 'Drag if you want to move center position',\n    'fill.editor.x1': 'Start X',\n    'fill.editor.x2': 'End X',\n    'fill.editor.y1': 'Start Y',\n    'fill.editor.y2': 'End Y',\n    'fill.editor.spread': 'Spread',    \n    'fill.editor.offset': 'Offset',    \n    'fill.editor.cx': 'Center X',\n    'fill.editor.cy': 'Center Y',    \n    'fill.editor.r': 'End radius',\n    'fill.editor.fx': 'Start X',\n    'fill.editor.fy': 'Start Y',\n    'fill.editor.fr': 'Start radius',\n\n    'perspective.origin.editor.originX': 'Origin X',\n    'perspective.origin.editor.originY': 'Origin Y',\n\n    'path.manager.msg':  'Keydown ESC or Enter key to close editing',\n    'path.manager.mode.done': 'Done',\n    'path.manager.mode.modify': 'Modify',\n    'path.manager.mode.path': 'Path',\n    'path.manager.mode.warp': 'Warp',      \n    'path.manager.mode.transform': 'Transform',  \n    'path.manager.mode.reverse': 'Reverse',               \n    'path.manager.mode.flipX': 'Flip X',    \n    'path.manager.mode.flipY': 'Flip Y',    \n    'path.manager.mode.flipOrigin': 'Flip Origin',    \n\n    'colorpicker.popup.title': 'ColorPicker',    \n\n    'selector.popup.title': 'Selector Property',\n    'selector.popup.selector': 'Selector',    \n\n    'background.image.position.popup.title': 'Background Pattern',\n    'background.image.position.popup.size': 'Size',\n    'background.image.position.popup.width': 'Width',\n    'background.image.position.popup.height': 'Height',\n    'background.image.position.popup.repeat': 'Repeat',\n    'background.image.position.popup.blend': 'Blend',    \n    'background.image.position.popup.type.repeat': 'repeat',\n    'background.image.position.popup.type.no-repeat': 'no repeat',\n    'background.image.position.popup.type.repeat-x': 'repeat-x', \n    'background.image.position.popup.type.repeat-y': 'repeat-y', \n    'background.image.position.popup.type.space': 'space', \n    'background.image.position.popup.type.round': 'round',     \n\n    'gradient.picker.popup.title': 'Gradient & Image Picker',    \n    'image.asset.property.title': 'Image',\n    'video.asset.property.title': 'Video',    \n    'color.asset.property.title': 'Color',\n    'gradient.asset.property.title': 'Gradient',\n    'pattern.asset.property.title': 'Pattern',\n    'svgfilter.asset.property.title': 'SVG Filter',\n\n\n    'inspector.tab.title.style': 'Style',\n    'inspector.tab.title.component': 'Component',\n    'inspector.tab.title.transition': 'Animation',\n    'inspector.tab.title.asset': 'Assets',\n    'inspector.tab.title.text': 'Text',\n    'inspector.tab.title.code': 'Code',\n    'inspector.tab.title.history': 'History',\n\n\n    'timeline.property.title': 'Timeline',\n    'timeline.property.resize': 'Drag if you want to resize timeline height.',    \n    'timeline.animation.property.title': 'Animations',    \n\n    'timeline.play.control.play': 'Play',\n    'timeline.play.control.pause': 'Pause',\n    'timeline.play.control.first': 'First',\n    'timeline.play.control.prev': 'Previous',\n    'timeline.play.control.next': 'Next',\n    'timeline.play.control.last': 'Last',\n    'timeline.play.control.direction': 'Direction',\n    'timeline.play.control.speed': 'Speed',\n    'timeline.play.control.repeat': 'Repeat',\n    'timeline.play.control.infinite': 'Infinite',\n    'timeline.play.control.normal': 'normal',\n    'timeline.play.control.alternate': 'alternate',\n    'timeline.play.control.reverse': 'reverse',\n    'timeline.play.control.alternate.reverse': 'alternate reverse',\n\n    'timeline.value.editor.value': 'Value',\n    'timeline.value.editor.time': 'Time',    \n    'timeline.value.editor.timing': 'Timing',\n    'timeline.value.editor.offset.message': 'Please input enter key to change time offset.',    \n\n    'svgfilter.popup.title': 'SVG Filter',\n\n\n    'css.item.rotate': 'Rotate',\n    'css.item.rotateX': 'Rotate X',\n    'css.item.rotateY': 'Rotate Y',\n    'css.item.rotateZ': 'Rotate Z',\n    'css.item.rotate3d': '3D Rotate',    \n    'css.item.skewX': 'Skew X',    \n    'css.item.skewY': 'Skew Y',   \n    'css.item.translate': 'Translate',\n    'css.item.translateX': 'Translate X',  \n    'css.item.translateY': 'Translate Y',\n    'css.item.translateZ': 'Translate Z',\n    'css.item.translate3d': '3D Translate',\n    'css.item.perspective': 'Perspective',    \n    'css.item.scale': 'Scale',\n    'css.item.scaleX': 'Scale X',\n    'css.item.scaleY': 'Scale Y',\n    'css.item.scaleZ': 'Scale Z',\n    'css.item.scale3d': '3D Scale',\n    'css.item.matrix': 'Matrix',\n    'css.item.matrix3d': '3D Matrix',  \n\n    'animation.property.title': 'CSS Animation',  \n    'animation.property.direction': 'Direction',\n    'animation.property.play.state': 'Play State',\n    'animation.property.fill.mode': 'Fill Mode',\n    'animation.property.delay': 'Delay',\n    'animation.property.duration': 'Duration',\n    'animation.property.iteration.count': 'Iteration Count',\n    'animation.property.Select a keyframe' : 'Select a keyframe',        \n\n    'animation.property.popup.title': 'Animation',\n    'animation.property.popup.timing.function': 'Timing Function',\n    'animation.property.popup.keyframe': 'Keyframe',\n    'animation.property.popup.direction': 'Direction',\n    'animation.property.popup.play.state': 'Play State',\n    'animation.property.popup.fill.mode': 'Fill Mode',\n    'animation.property.popup.delay': 'Delay',\n    'animation.property.popup.duration': 'Duration',\n    'animation.property.popup.iteration': 'Iteration',\n    'animation.property.popup.normal': 'normal',\n    'animation.property.popup.reverse': 'reverse',\n    'animation.property.popup.alternate': 'alternate',\n    'animation.property.popup.alternate-reverse': 'alternate-reverse',\n    'animation.property.popup.none': 'none',\n    'animation.property.popup.forwards': 'forwards',\n    'animation.property.popup.backwards': 'backwards',\n    'animation.property.popup.both' : 'both',\n    'animation.property.popup.Select a keyframe' : 'Select a keyframe',        \n\n    'keyframe.popup.title': 'Keyframe',\n    \n    'code.view.property.title': 'CodeView',\n\n    'svg.filter.editor.tab.filter': 'Filter',\n    'svg.filter.editor.tab.preset': 'Preset',\n    'svg.filter.editor.tab.asset': 'Assets',\n    'svg.filter.editor.GRAPHIC REFERENCES': 'GRAPHIC REFERENCES',\n    'svg.filter.editor.SOURCES': 'SOURCES',\n    'svg.filter.editor.MODIFIER': 'MODIFIER',\n    'svg.filter.editor.LIGHTING': 'LIGHTING',\n    'svg.filter.editor.COMBINERS': 'COMBINERS',\n    'svg.filter.editor.Template': 'Template',\n\n    'layout.property.title': 'Layout',\n    'layout.property.flex': 'Flex Box',\n    'layout.property.grid': 'Grid',\n    'layout.property.default': 'Default',\n\n    'flex.layout.editor.row': 'Row',\n    'flex.layout.editor.column': 'column',\n    'flex.layout.editor.row-reverse': 'Row Reverse',\n    'flex.layout.editor.column-reverse': 'Column Reverse',\n    'flex.layout.editor.nowrap': 'Nowrap',    \n    'flex.layout.editor.wrap': 'Wrap',    \n    'flex.layout.editor.wrap-reverse': 'Wrap Reverse',       \n    'flex.layout.editor.flex-start': 'Start',       \n    'flex.layout.editor.flex-end': 'End',       \n    'flex.layout.editor.center': 'Center',        \n    'flex.layout.editor.space-between': 'Between',       \n    'flex.layout.editor.space-around': 'Around',      \n    'flex.layout.editor.baseline': 'BaseLine',      \n    'flex.layout.editor.stretch': 'Stretch',\n    'flex.layout.editor.direction': 'Direction',\n    'flex.layout.editor.justify-content': 'Justify Content',\n    'flex.layout.editor.align-items': 'Align Items',\n    'flex.layout.editor.align-content': 'Align Content',    \n\n    'flex.layout.item.property.title': 'Layout Item Detail',\n    'flex.layout.item.property.grow': 'Flex Grow',\n    'flex.layout.item.property.shrink': 'Flex Shrink',\n    'flex.layout.item.property.basis': 'Flex Basis',\n    'flex.layout.item.property.none': 'none',\n    'flex.layout.item.property.auto': 'auto',\n    'flex.layout.item.property.value': 'value',    \n\n    'grid.layout.editor.template.columns': 'Columns',\n    'grid.layout.editor.column.gap': 'Column Gap',\n    'grid.layout.editor.template.rows': 'Rows',\n    'grid.layout.editor.row.gap': 'Row Gap',\n\n    'grid.box.editor.box.title': 'Box',\n    'grid.box.editor.type': 'Type',\n    'grid.box.editor.repeat': 'Repeat',\n    'grid.box.editor.length': 'Length',\n    'grid.box.editor.none': 'None',\n    'grid.box.editor.auto': 'Auto',   \n    'grid.box.editor.count': 'Count',\n    'grid.box.editor.value': 'Size',\n\n\n    'grid.layout.item.property.title': 'Layout Item Detail',\n    'grid.layout.item.property.column': 'Column',\n    'grid.layout.item.property.row': 'Row',\n    'grid.layout.item.property.start': 'Start',\n    'grid.layout.item.property.end': 'End',\n    'grid.layout.item.property.none': 'none',\n    'grid.layout.item.property.value': 'value',        \n\n    'box.model.property.title': 'Box Model',\n    'box.model.property.margin': 'Margin',\n    'box.model.property.padding': 'Padding',\n\n    'component.items.canvas': 'Canvas',\n    'component.items.layer': 'Layer',\n    'component.items.3dlayer': '3D Layer',\n    'component.items.drawing': 'Drawing',\n    'component.items.custom': 'Custom Component',  \n    'component.items.chart': 'Chart',        \n    'component.items.plugin': 'Plugin',            \n\n    'svg.text.property.title': \"SVG Text Style\",\n    'svg.text.property.textarea': \"Text Area\",\n    'svg.text.property.size': \"Font Size\",\n    'svg.text.property.weight': \"Font Weight\",\n    'svg.text.property.style': \"Font Style\",\n    'svg.text.property.anchor': \"Text Anchor\",\n    'svg.text.property.family': \"Font Family\",\n    'svg.text.property.length.adjust': \"Length Adjust\",\n    'svg.text.property.text.length': \"Text Length\",\n    'svg.text.property.start.offset': \"Start Offset\",\n\n    'fill.picker.popup.title': 'SVG Fragment picker',\n\n    'gradient.editor.drag.message': 'Drag if you want to move center pointer.',\n\n    'draw.manager.tolerance': 'Tolerance',\n\n    'pattern.property.title': 'Pattern',\n\n    'pattern.info.popup.title': 'Pattern Info',\n    'pattern.info.popup.width': 'Width',\n    'pattern.info.popup.height': 'Height',\n    'pattern.info.popup.lineWidth': 'Line Width',\n    'pattern.info.popup.lineHeight': 'Line Height',\n    'pattern.info.popup.rotate': 'Rotate',\n    'pattern.info.popup.blend': 'Blend Mode',\n    'pattern.info.popup.foreColor': 'Fore',    \n    'pattern.info.popup.backColor': 'Back',      \n    \n    'stroke.dasharray.editor.add': 'Add Dash',\n\n    'viewport.panning.enable': 'You can move the area by holding down space key and dragging the screen.',    \n}","export default {\n\n    'app.title': 'EASYLOGIC',\n    'app.sample': (a, b, c) => {\n        return `${a}-${b}-${c}`\n    },\n    'app.lang.en_US': 'English',\n    'app.lang.ko_KR': '한국어',\n    'app.lang.fr_FR': 'Français',\n    'app.label.lang': 'Langue',\n\n    'app.layout.all': 'All',\n    'app.layout.css': 'CSS',\n    'app.layout.svg': 'SVG',\n    'app.label.layout': 'Menu Layout',\n\n    'app.theme.dark': 'Sombre',\n    'app.theme.light': 'Clair',\n    'app.theme.gray': 'Gris',\n    'app.label.theme': 'Thème',    \n\n\n    'app.tab.title.projects': 'Projets',\n    'app.tab.title.layers': 'Objets',\n    'app.tab.title.libraries': 'Librarie',\n    'app.tab.title.components': 'Objet',\n    'app.tab.title.artboards': 'Artboard',        \n    'app.tab.title.assets': 'Elements',       \n    'app.tab.title.keyMap': 'Clavier',        \n    \n    'app.confirm.message.artboard.items.removeArtboard' : 'Do you remove an artboard preview really?',    \n    'app.confirm.message.custom-component.items.removeCustomComponent' : 'Do you remove a custom component preview really?',    \n\n    'menu.item.download.title': 'Télécharger',\n    'menu.item.save.title': 'Enregistrer',\n    'menu.item.export.title': 'Exporter',\n    'menu.item.codepen.title': 'CodePen',\n    'menu.item.fullscreen.title': 'Ecran',\n    'menu.item.shortcuts.title': 'ShortCuts',    \n    'menu.item.github.title': 'Github',\n    'menu.item.learn.title': 'Docs',     \n    'menu.item.projects.title': 'Projects',  \n\n    'project.property.title' : 'Projet',\n    'project.information.property.title': 'Information',   \n    'project.information.property.name': 'Nom',    \n    'project.information.property.description': 'Description',    \n\n    'artboard.property.title': 'Planche',   \n    'artboard.property.layout.title.flex': 'Flex',\n    'artboard.property.layout.title.grid': 'Grille',\n\n    'layer.tree.property.title': 'Objets',\n    'layer.tree.property.layout.title.flex': 'Flex',\n    'layer.tree.property.layout.title.grid': 'Grille',     \n\n    'alignment.property.title': 'Alignment',\n    'position.property.title': 'Position',\n    'position.property.X': 'X',\n    'position.property.Y': 'Y',\n    'size.property.title': 'Taille',\n    'position.property.width': 'Largeur',\n    'position.property.height': 'Hauteur',\n    'position.property.opacity': 'Opacity',\n    'position.property.rotate': 'Rotate',            \n\n    'background.color.property.title': 'Apparance',\n    'background.color.property.color': 'Couleur',\n    'background.color.property.zindex': 'z-index',\n    'background.color.property.opacity': 'Opacité',\n    'background.color.property.blend': 'Mélange',\n    'background.color.property.overflow': 'Débordement',\n    'background.color.property.overflow.visible': 'Visible',\n    'background.color.property.overflow.hidden': 'Caché',\n    'background.color.property.overflow.scroll': 'Scroll',\n    'background.color.property.overflow.auto': 'Auto',\n\n    'blend.normal': 'normal',\n    'blend.multiply': 'multiplie',\n    'blend.screen': 'écran',\n    'blend.overlay': 'couche',\n    'blend.darken': 'sombre',\n    'blend.lighten': 'clair',\n    'blend.color-dodge': 'dodge',\n    'blend.color-burn': 'brulé',\n    'blend.hard-light': 'dur',\n    'blend.soft-light': 'doux',\n    'blend.difference': 'diff\"rence',\n    'blend.exclusion': 'exclusion',\n    'blend.hue': 'teinte',\n    'blend.saturation': 'saturation',\n    'blend.color': 'couleur',\n    'blend.luminosity': 'luminosité',\n\n    'background.image.property.title': 'Remplissage',\n\n    'border.property.title': 'Bordure',    \n    'border.radius.property.title': 'Rayon de bordure',    \n    'boxshadow.property.title': 'Ombres',    \n\n    'filter.property.title': 'Filtre',\n    'filter.property.blur': 'Flou',\n    'filter.property.grayscale': 'Echelle de gris',\n    'filter.property.hue-rotate': 'Rotation teinte',\n    'filter.property.invert': 'Invertir',\n    'filter.property.brightness': 'Luminosité',\n    'filter.property.contrast': 'Contraste',\n    'filter.property.drop-shadow': 'Ombre portée',\n    'filter.property.drop-shadow.color': 'Couleur',\n    'filter.property.drop-shadow.offsetX': 'Décalage X',\n    'filter.property.drop-shadow.offsetY': 'Décalage Y',\n    'filter.property.drop-shadow.blurRadius': 'Flou',\n    'filter.property.opacity': 'Opacité',\n    'filter.property.saturate': 'Saturation',\n    'filter.property.sepia': 'Sépia',\n    'filter.property.svg': 'SVG',\n\n    'font.property.title': 'Police',\n    'font.property.color': 'Couleur',\n    'font.property.size': 'Taille',\n    'font.property.stretch': 'Etirement',\n    'font.property.weight': 'Poids',\n    'font.property.style': 'Style',\n    'font.property.family': 'Famille',\n\n    'font.spacing.property.title': 'Espaces du texte',\n    'font.spacing.property.lineHeight': 'Hauteur de ligne',\n    'font.spacing.property.letterSpacing': 'Espace inter-caractères',\n    'font.spacing.property.wordSpacing': 'Espace inter-mots',\n    'font.spacing.property.indent': 'Identation',\n\n    'backdrop.filter.property.title': 'Filtre Backdrop',        \n    'clippath.property.title': 'Chemin du Clip',\n\n    'export.property.title': 'Exporter',    \n    'export.property.download': 'Télécharger',    \n\n    'iframe.property.title': 'IFrame',\n\n    'image.property.title': 'Image',\n    'image.property.origin': 'Origine',    \n    'image.property.size': 'Taille',    \n    'image.property.width': 'Largeur',    \n    'image.property.height': 'Hauteur',    \n\n    'video.property.title': 'Video',\n    'video.property.play': 'Jouer',    \n    'video.property.pause': 'Pause',    \n    'video.property.volume': 'Volume',    \n    'video.property.playbackRate': 'Vitesse de lecture',        \n    'video.property.currentTime': 'Temps actuel',  \n    'video.property.playTime': 'Temps de lecture',               \n\n    'motion.property.title': 'Mouvement',\n\n    'text.property.title': 'Style Texte',\n    'text.property.align': 'Alignement',\n    'text.property.transform': 'Transformation',\n    'text.property.decoration': 'Décoration',\n\n    'text.clip.property.title': 'Clip Texte',    \n\n    'text.shadow.property.title': 'Ombres Texte',\n    \n    'text.fill.property.title':  'Remplissage Texte',\n    'text.fill.property.fill':  'Remplissage',\n    'text.fill.property.stroke':  'Trait',\n    'text.fill.property.strokeWidth':  'Largeur',\n\n    \n\n    'transform.property.title': 'Transformation',\n    'transform.origin.property.title': 'Origine Transformation',    \n\n    'transition.property.title': 'Transition CSS',\n\n    'keyframe.property.title': 'Image clé CSS',      \n    'selector.property.title': 'Sélécteur',\n    'selector.property.none': 'Aucun sélécteur',    \n\n    'path.data.property.title': 'Information Chemin',\n    'polygon.data.property.title': 'Information Polygone',    \n\n    'perspective.property.title': 'Perspective',            \n    'perspective.origin.property.title': 'Origine Perspective',       \n\n\n    'svg.item.property.title': 'Appearance',\n    'svg.item.property.isMotionPath': 'Chemin de mouvement',    \n    'svg.item.property.fill': 'Remplissage',\n    'svg.item.property.fillOpacity': 'Opacité',\n    'svg.item.property.path': 'Chemin',\n    'svg.item.property.polygon': 'Polygone',\n    'svg.item.property.totalLength': 'Longueur totale',\n    'svg.item.property.fillRule': 'Règle remplissage',\n    'svg.item.property.stroke': 'Trait',\n    'svg.item.property.strokeWidth': 'Largeur de trait',\n    'svg.item.property.dashArray': 'Suite tiret',\n    'svg.item.property.dashOffset': 'Décalage tiret',\n    'svg.item.property.lineCap': 'Chapeau Ligne',\n    'svg.item.property.lineJoin': 'Jonction ligne',\n    'svg.item.property.filter': 'Filtre',\n\n\n    'border.editor.all': 'Tout',     \n    'border.editor.width': 'Largeur',        \n    'border.editor.style': 'Style',        \n    'border.editor.color': 'Couleur',                  \n    'border.editor.top': 'Haut',        \n    'border.editor.left': 'Gauche',        \n    'border.editor.right': 'Droite',        \n    'border.editor.bottom': 'Bas',     \n\n    'border.radius.editor.topLeft': 'Haut gauche',\n    'border.radius.editor.topRight': 'Haut droite',\n    'border.radius.editor.bottomLeft': 'Bas gauche',\n    'border.radius.editor.bottomRight': 'Bas droite',\n\n    'boxshadow.editor.blur': 'Flou',\n    'boxshadow.editor.spread': 'Etalement',\n\n    'css.property.editor.properties': 'Propriétés',\n\n    'offset.path.list.editor.path': 'Chemin',\n    'offset.path.list.editor.totalLength': 'Longueur totale',\n    'offset.path.list.editor.distance': 'Distance',\n    'offset.path.list.editor.direction': 'Direction',\n    'offset.path.list.editor.rotate': 'Rotation',\n    \n    'svgfilter.select.editor.message.create': 'Créer un filtre svg',\n    'svgfilter.select.editor.message.select': 'Sélection filtre',\n\n    'fill.editor.message.click.image': 'Cliquez sur aperçu si vous souhaitez sélectionner une image',\n    'fill.editor.message.drag.position': 'Prendre pour changer la position centrale',\n    'fill.editor.x1': 'Début X',\n    'fill.editor.x2': 'Fin X',\n    'fill.editor.y1': 'Début Y',\n    'fill.editor.y2': 'Fin Y',\n    'fill.editor.spread': 'Etalement',    \n    'fill.editor.offset': 'Décalage',    \n    'fill.editor.cx': 'Centre X',\n    'fill.editor.cy': 'Centre Y',    \n    'fill.editor.r': 'Rayon de fin',\n    'fill.editor.fx': 'Départ X',\n    'fill.editor.fy': 'Départ Y',\n    'fill.editor.fr': 'Rayon de départ',\n\n    'perspective.origin.editor.originX': 'Origine X',\n    'perspective.origin.editor.originY': 'Origine Y',\n\n    'path.manager.msg':  'Appuyer ESC ou Entréz keypour fermer Edition',\n    'path.manager.mode.done': 'Done',    \n    'path.manager.mode.modify': 'Modifier',\n    'path.manager.mode.path': 'Chemin',\n    'path.manager.mode.warp': 'Warp',        \n    'path.manager.mode.transform': 'Transformer',   \n    'path.manager.mode.reverse': 'Reverse',         \n    'path.manager.mode.flipX': 'Retouner X',    \n    'path.manager.mode.flipY': 'Retouner Y',    \n    'path.manager.mode.flipOrigin': 'Retouner Origine',    \n\n    'colorpicker.popup.title': 'Pipette',    \n\n    'selector.popup.title': 'Propiété de Sélecteur',\n    'selector.popup.selector': 'Sélecteur',    \n\n    'background.image.position.popup.title': 'Motif de fond',\n    'background.image.position.popup.size': 'Taille',\n    'background.image.position.popup.width': 'Largeur',\n    'background.image.position.popup.height': 'Hauteur',\n    'background.image.position.popup.repeat': 'Repète',\n    'background.image.position.popup.blend': 'Mélange',    \n    'background.image.position.popup.type.repeat': 'repète',\n    'background.image.position.popup.type.no-repeat': 'sans repétition',\n    'background.image.position.popup.type.repeat-x': 'repète-x', \n    'background.image.position.popup.type.repeat-y': 'repète-y', \n    'background.image.position.popup.type.space': 'espace', \n    'background.image.position.popup.type.round': 'rond',     \n\n    'gradient.picker.popup.title': 'Sélection Gradient & Image',    \n    'image.asset.property.title': 'Image',\n    'video.asset.property.title': 'Vidéo',    \n    'color.asset.property.title': 'Couleur',\n    'gradient.asset.property.title': 'Gradient',\n    'pattern.asset.property.title': 'Motif',\n    'svgfilter.asset.property.title': 'Filtre SVG',\n\n\n    'inspector.tab.title.style': 'Style',\n    'inspector.tab.title.component': 'Composant',\n    'inspector.tab.title.transition': 'Animation',\n    'inspector.tab.title.asset': 'Eléments',\n    'inspector.tab.title.text': 'Texte',\n    'inspector.tab.title.code': 'Code',    \n    'inspector.tab.title.history': 'History','inspector.tab.title.history': 'History',\n\n\n    'timeline.property.title': 'Chronologie',\n    'timeline.property.resize': 'Drag if you want to resize timeline height.',        \n    'timeline.animation.property.title': 'Animations',    \n\n    'timeline.play.control.play': 'Jouer',\n    'timeline.play.control.pause': 'Pause',\n    'timeline.play.control.first': 'Premier',\n    'timeline.play.control.prev': 'Précédent',\n    'timeline.play.control.next': 'Suivant',\n    'timeline.play.control.last': 'Dernier',\n    'timeline.play.control.direction': 'Direction',\n    'timeline.play.control.speed': 'Vitesse',\n    'timeline.play.control.repeat': 'Répéter',\n    'timeline.play.control.infinite': 'Infini',\n    'timeline.play.control.normal': 'normal',\n    'timeline.play.control.alternate': 'alternatif',\n    'timeline.play.control.reverse': 'inverse',\n    'timeline.play.control.alternate.reverse': 'inverse alternatif',\n\n    'timeline.value.editor.value': 'Valeur',\n    'timeline.value.editor.time': 'Temps',    \n    'timeline.value.editor.timing': 'Calage temps',\n    'timeline.value.editor.offset.message': 'Please input enter key to change time offset.',        \n\n    'svgfilter.popup.title': 'Filtre SVG',\n\n\n    'css.item.rotate': 'Rotation',\n    'css.item.rotateX': 'Rotation X',\n    'css.item.rotateY': 'Rotation Y',\n    'css.item.rotateZ': 'Rotation Z',\n    'css.item.rotate3d': 'Rotation 3D',    \n    'css.item.skewX': 'Oblique X',    \n    'css.item.skewY': 'Oblique Y',   \n    'css.item.translate': 'Translation',\n    'css.item.translateX': 'Translation X',  \n    'css.item.translateY': 'Translation Y',\n    'css.item.translateZ': 'Translation Z',\n    'css.item.translate3d': 'Translation 3D',\n    'css.item.perspective': 'Perspéctive',    \n    'css.item.scale': 'Echelle',\n    'css.item.scaleX': 'Echelle X',\n    'css.item.scaleY': 'Echelle Y',\n    'css.item.scaleZ': 'Echelle Z',\n    'css.item.scale3d': 'Echelle 3D',\n    'css.item.matrix': 'Matrice',\n    'css.item.matrix3d': 'Matrice 3D',  \n\n    'animation.property.title': 'Animation CSS',  \n    'animation.property.direction': 'Direction',\n    'animation.property.play.state': 'Etat lecture',\n    'animation.property.fill.mode': 'Mode remplissage',\n    'animation.property.delay': 'Délais',\n    'animation.property.duration': 'Durée',\n    'animation.property.iteration.count': 'Nombre Itérations',\n    'animation.property.Select a keyframe' : 'Selectionner une image clé',        \n\n    'animation.property.popup.title': 'Animation',\n    'animation.property.popup.timing.function': 'Fonction temps',\n    'animation.property.popup.keyframe': 'image clé',\n    'animation.property.popup.direction': 'Direction',\n    'animation.property.popup.play.state': 'Etat lecture',\n    'animation.property.popup.fill.mode': 'Mode remplissage',\n    'animation.property.popup.delay': 'Délais',\n    'animation.property.popup.duration': 'Duréé',\n    'animation.property.popup.iteration': 'Itération',\n    'animation.property.popup.normal': 'normal',\n    'animation.property.popup.reverse': 'inverse',\n    'animation.property.popup.alternate': 'alternatif',\n    'animation.property.popup.alternate-reverse': 'inverse alternatif',\n    'animation.property.popup.none': 'Aucun',\n    'animation.property.popup.forwards': 'en avant',\n    'animation.property.popup.backwards': 'en arrière',\n    'animation.property.popup.both' : 'les deux',\n    'animation.property.popup.Select a keyframe' : 'Selectionner une image clé',        \n\n    'keyframe.popup.title': 'image clé',\n    \n    'code.view.property.title': 'Vue code',\n\n    'svg.filter.editor.tab.filter': 'Filtrer',\n    'svg.filter.editor.tab.preset': 'Pre-rempli',\n    'svg.filter.editor.tab.asset': 'Eléments',\n    'svg.filter.editor.GRAPHIC REFERENCES': 'REFERENCES GRAPHIQUES',\n    'svg.filter.editor.SOURCES': 'SOURCES',\n    'svg.filter.editor.MODIFIER': 'MODIFIER',\n    'svg.filter.editor.LIGHTING': 'ECLAIRAGE',\n    'svg.filter.editor.COMBINERS': 'COMBINER',\n    'svg.filter.editor.Template': 'Modèle',\n\n    'layout.property.title': 'Disposition',\n    'layout.property.flex': 'Boîte Flex',\n    'layout.property.grid': 'Grille',\n    'layout.property.default': 'Défaut',\n\n    'flex.layout.editor.row': 'Ligne',\n    'flex.layout.editor.column': 'Colonne',\n    'flex.layout.editor.row-reverse': 'Inverse ligne',\n    'flex.layout.editor.column-reverse': 'Inverse Colonne',\n    'flex.layout.editor.nowrap': 'Non-emballé',    \n    'flex.layout.editor.wrap': 'Emballé (wrap)',    \n    'flex.layout.editor.wrap-reverse': 'Inverse emballé',       \n    'flex.layout.editor.flex-start': 'Début',       \n    'flex.layout.editor.flex-end': 'Fin',       \n    'flex.layout.editor.center': 'Centrer',        \n    'flex.layout.editor.space-between': 'Entre',       \n    'flex.layout.editor.space-around': 'Autour',      \n    'flex.layout.editor.baseline': 'Base',      \n    'flex.layout.editor.stretch': 'Etirement',\n    'flex.layout.editor.direction': 'Direction',\n    'flex.layout.editor.justify-content': 'Justifier',\n    'flex.layout.editor.align-items': 'Aligner objets',\n    'flex.layout.editor.align-content': 'Aligner contenu',    \n\n    'flex.layout.item.property.title': 'Détail Disposition objet',\n    'flex.layout.item.property.grow': 'Augmenter Flex',\n    'flex.layout.item.property.shrink': 'Réduire Flex',\n    'flex.layout.item.property.basis': 'Base Flex',\n    'flex.layout.item.property.none': 'Aucun',\n    'flex.layout.item.property.auto': 'auto',\n    'flex.layout.item.property.value': 'valeur',    \n\n    'grid.layout.editor.template.columns': 'Colonne',\n    'grid.layout.editor.column.gap': 'Espace Colonne',\n    'grid.layout.editor.template.rows': 'Lignes',\n    'grid.layout.editor.row.gap': 'Espace lignes',\n\n    'grid.box.editor.box.title': 'Boîte',\n    'grid.box.editor.type': 'Type',\n    'grid.box.editor.repeat': 'Répéter',\n    'grid.box.editor.length': 'Longueur',\n    'grid.box.editor.none': 'Aucun',\n    'grid.box.editor.auto': 'Auto',   \n    'grid.box.editor.count': 'Compte',\n    'grid.box.editor.value': 'Taille',\n\n\n    'grid.layout.item.property.title': 'Détail disposition objets',\n    'grid.layout.item.property.column': 'Colonne',\n    'grid.layout.item.property.row': 'Ligne',\n    'grid.layout.item.property.start': 'Début',\n    'grid.layout.item.property.end': 'Fin',\n    'grid.layout.item.property.none': 'Aucun',\n    'grid.layout.item.property.value': 'valeur',        \n\n    'box.model.property.title': 'Modèle',\n    'box.model.property.margin': 'Marge',\n    'box.model.property.padding': 'Espace',\n\n    'component.items.canvas': 'Toile',\n    'component.items.layer': 'Objet',\n    'component.items.3dlayer': 'Objet 3D',\n    'component.items.drawing': 'Dessin',\n    'component.items.custom': 'Composant personnalisé', \n    'component.items.chart': 'Chart',      \n    'component.items.plugin': 'Plugin',                              \n\n    'svg.text.property.title': \"Style SVG Texte\",\n    'svg.text.property.textarea': \"Zone Texte\",\n    'svg.text.property.size': \"Taille\",\n    'svg.text.property.weight': \"Poids\",\n    'svg.text.property.style': \"Style\",\n    'svg.text.property.anchor': \"Ancre Texte\",\n    'svg.text.property.family': \"Famille\",\n    'svg.text.property.length.adjust': \"Ajusteement longueur\",\n    'svg.text.property.text.length': \"Ajusteement Texte\",\n    'svg.text.property.start.offset': \"Décallage départ\",\n\n    'fill.picker.popup.title': 'Sélection Fragment SVG',\n\n    'gradient.editor.drag.message': 'Glisser pour déplacer centre.',\n\n    'draw.manager.tolerance': 'Tolérance',\n\n    'pattern.property.title': 'Motif',\n\n    'pattern.info.popup.title': 'Info Motif',\n    'pattern.info.popup.width': 'Largeur',\n    'pattern.info.popup.height': 'Hauteur',\n    'pattern.info.popup.lineWidth': 'Largeur ligne',\n    'pattern.info.popup.lineHeight': 'Hauteur de ligne',\n    'pattern.info.popup.rotate': 'Rotatation',\n    'pattern.info.popup.blend': 'Mélange',\n    'pattern.info.popup.foreColor': 'Avant',    \n    'pattern.info.popup.backColor': 'Arrière',      \n    \n    'stroke.dasharray.editor.add': 'Ajout tiret',\n\n    'viewport.panning.enable': 'You can move the area by holding down space and dragging the screen.',        \n}","export default {\n\n    'app.title': 'EASYLOGIC',\n    'app.sample': (a, b, c) => {\n        return `${a}-${b}-${c}`\n    },\n    'app.lang.en_US': 'English',\n    'app.lang.ko_KR': '한국어',\n    'app.lang.fr_FR': 'Français',    \n    'app.label.lang': '언어',\n\n    'app.layout.all': '전체',\n    'app.layout.css': 'CSS',\n    'app.layout.svg': 'SVG',\n    'app.label.layout': '메뉴구성',    \n\n    'app.theme.dark': '어두운',\n    'app.theme.light': '밝은',\n    'app.theme.toon': '그리기',    \n    'app.theme.gray': '회색',    \n    'app.label.theme': '테마', \n\n    'app.tab.title.projects': '프로젝트',\n    'app.tab.title.layers': '레이어',\n    'app.tab.title.libraries': '라이브러리',\n    'app.tab.title.components': '컴포넌트',   \n    'app.tab.title.artboards': '아트보드',         \n    'app.tab.title.assets': '에셋',   \n    'app.tab.title.keyMap': '단축키',       \n    \n    'app.confirm.message.artboard.items.removeArtboard' : '아트보드 프리뷰를 삭제 하시겠습니까?',    \n    'app.confirm.message.custom-component.items.removeCustomComponent' : '컴포넌트 프리뷰를 삭제 하시겠습니까?',    \n\n    'menu.item.download.title': '다운로드',\n    'menu.item.save.title': '저장',\n    'menu.item.export.title': '내보내기',\n    'menu.item.fullscreen.title': '전체화면',\n    'menu.item.shortcuts.title': '단축키',    \n    'menu.item.github.title': 'Github',\n    'menu.item.learn.title': '배우기',    \n    'menu.item.projects.title': '프로젝트',     \n\n    'project.property.title' : '프로젝트',    \n    'project.information.property.title': '프로젝트 정보',\n    'project.information.property.name': '이름',    \n    'project.information.property.description': '설명',     \n    \n    'artboard.property.title': '아트보드',   \n    'artboard.property.layout.title.flex': '플렉스',\n    'artboard.property.layout.title.grid': '그리드',\n    'layer.tree.property.title': '레이어',\n    'layer.tree.property.layout.title.flex': '플렉스',\n    'layer.tree.property.layout.title.grid': '그리드',    \n\n\n    'alignment.property.title': '정렬',\n    \n    'position.property.title': '위치',\n    'position.property.X': 'X',\n    'position.property.Y': 'Y',\n\n    'size.property.title': '크기',\n    'position.property.width': '넓이',\n    'position.property.height': '높이',\n    'position.property.rotate': '회전',\n    'position.property.opacity': '투명',\n\n    'background.color.property.title': '표시',\n    'background.color.property.color': '배경색',\n    'background.color.property.zindex': 'z-index',\n\n    'background.color.property.blend': '블렌드모드',   \n    'background.color.property.overflow': '오버플로우',\n    'background.color.property.overflow.visible': '보이기',\n    'background.color.property.overflow.hidden': '숨기기',\n    'background.color.property.overflow.scroll': '스크롤',\n    'background.color.property.overflow.auto': '자동',     \n\n    'blend.normal': 'Normal(표준) 혼합모드',\n    'blend.multiply': 'Multiply(곱하기) 모드',\n    'blend.screen': 'Screen(스크린) 모드 ',\n    'blend.overlay': 'Overlay(오버레이) 모드',\n    'blend.darken': 'Darken(어둡기) 모드',\n    'blend.lighten': 'Lighten(밝기) 모드 ',\n    'blend.color-dodge': 'Color Dodge(컬러 닷지) 모드 ',\n    'blend.color-burn': 'Color Burn(컬러 번) 모드 ',\n    'blend.hard-light': 'Hard Light(하드 라이트) 모드 ',\n    'blend.soft-light': 'Soft Light(소프트 라이트) 모드 ',\n    'blend.difference': 'Difference(차이) 모드',\n    'blend.exclusion': 'Exclusion(제외) 모드',\n    'blend.hue': 'Hue(색조) 모드 ',\n    'blend.saturation': 'Saturation(채도) 모드',\n    'blend.color': 'Color(색상) 모드',\n    'blend.luminosity': 'Luminosity(광도) 모드 ',    \n\n    'background.image.property.title': '채우기',    \n\n    'border.property.title': '외곽선',    \n    'border.radius.property.title': '둥근 외곽선',    \n    'boxshadow.property.title': '그림자',\n    'filter.property.title': '필터',    \n    'filter.property.blur': '흐림(Blur)',\n    'filter.property.grayscale': '회색(GrayScale)',\n    'filter.property.hue-rotate': '색조(HueRotate)',\n    'filter.property.invert': '반전(Invert)',\n    'filter.property.brightness': '밝기(Brightness)',\n    'filter.property.contrast': '대\b조(Contrast)',\n    'filter.property.drop-shadow': '그림자(Drop Shadow)',\n    'filter.property.drop-shadow.color': '색',\n    'filter.property.drop-shadow.offsetX': 'X 간격',\n    'filter.property.drop-shadow.offsetY': 'Y 간격',\n    'filter.property.drop-shadow.blurRadius': '흐림',    \n    'filter.property.opacity': '투명도(Opacity)',\n    'filter.property.saturate': '채도(Saturate)',\n    'filter.property.sepia': '갈색톤(Sepia)',\n    'filter.property.svg': 'SVG',\n\n    'font.property.title': '폰트',\n    'font.property.color': '색',\n    'font.property.size': '크기',\n    'font.property.stretch': '뻗기',\n    'font.property.weight': '굵기',\n    'font.property.style': '스타일',\n    'font.property.family': '글꼴',\n\n    'font.spacing.property.title': '폰트 공간',\n    'font.spacing.property.lineHeight': '줄 높이',\n    'font.spacing.property.letterSpacing': '글자 간격',\n    'font.spacing.property.wordSpacing': '단어 간격',\n    'font.spacing.property.indent': '들여쓰기',\n\n\n\n    'backdrop.filter.property.title': '후면 필터',    \n    'clippath.property.title': '클립패스',    \n\n    'export.property.title': '내보내기',\n    'export.property.download': '다운로드',\n\n    'iframe.property.title': '아이프레임',\n\n    'image.property.title': '이미지',    \n    'image.property.origin': '원본',    \n    'image.property.size': '크기',    \n    'image.property.width': '넓이',    \n    'image.property.height': '높이',    \n\n    'video.property.title': '비디오',\n    'video.property.play': '시작',    \n    'video.property.pause': '멈춤',    \n    'video.property.volume': '볼륨',    \n    'video.property.playbackRate': '빠르기',        \n    'video.property.currentTime': '현재 시간',     \n    'video.property.playTime': '플레이 시간 간격',     \n\n    'motion.property.title': '모션',\n\n    'path.data.property.title': '패스 정보',\n    'polygon.data.property.title': '폴리곤 정보',\n\n    'text.property.title': '텍스트 스타일',\n    'text.property.align': '정렬',\n    'text.property.transform': '변형',\n    'text.property.decoration': '장식',\n\n    'text.clip.property.title': '텍스트 클립',\n\n   'text.shadow.property.title': '텍스트 그림자',\n\n    'text.fill.property.title':  '텍스트 채우기',\n    'text.fill.property.fill':  '채우기',\n    'text.fill.property.stroke':  '윤곽선',\n    'text.fill.property.strokeWidth':  '윤곽선 굵기',\n\n    'transform.property.title': '트랜스폼',\n    'transform.origin.property.title': '트랜스폼 Origin',    \n\n    'transition.property.title': 'CSS 트랜지션',\n\n    'keyframe.property.title': 'CSS 키프레임',\n    'selector.property.title': 'CSS 셀렉터', \n    'selector.property.none': '선택자 없음',\n\n    'perspective.property.title': '투영(perspective)',\n    'perspective.origin.property.title': '투영 중심점',                \n\n    'svg.item.property.title': '보이기',    \n    'svg.item.property.isMotionPath': '모션 패스',\n    'svg.item.property.fill': '채우기',\n    'svg.item.property.fillOpacity': '투명도',\n    'svg.item.property.path': '패스',\n    'svg.item.property.polygon': '폴리곤',\n    'svg.item.property.totalLength': '전체 길이',    \n    'svg.item.property.fillRule': '채우기 규칙',\n    'svg.item.property.stroke': '선',\n    'svg.item.property.strokeWidth': '선 굵기',\n    'svg.item.property.dashArray': '점선 길이',\n    'svg.item.property.dashOffset': '점선 위치',\n    'svg.item.property.lineCap': '선 모양',\n    'svg.item.property.lineJoin': '겹친 선',\n    'svg.item.property.filter': '필터',\n\n\n\n    'border.editor.all': '전체',      \n    'border.editor.width': '크기',        \n    'border.editor.style': '스타일',              \n    'border.editor.color': '색',              \n    'border.editor.top': '위',        \n    'border.editor.left': '왼쪽',        \n    'border.editor.right': '오른쪽',        \n    'border.editor.bottom': '아래',      \n\n\n    'border.radius.editor.topLeft': '왼쪽 위',\n    'border.radius.editor.topRight': '오른쪽 위',\n    'border.radius.editor.bottomLeft': '왼쪽 아래',\n    'border.radius.editor.bottomRight': '오른쪽 아래',    \n    \n    'boxshadow.editor.blur': '흐림',\n    'boxshadow.editor.spread': '길이',    \n\n    'css.property.editor.properties': '속성',    \n\n\n    'offset.path.list.editor.path': '패스',\n    'offset.path.list.editor.totalLength': '전체 길이',\n    'offset.path.list.editor.distance': '거리',\n    'offset.path.list.editor.direction': '방향',\n    'offset.path.list.editor.rotate': '회전',\n    \n\n\n    'svgfilter.select.editor.message.create': '새로운 SVG Filter 를 만드세요.',\n    'svgfilter.select.editor.message.select': '필터를 선택하세요.',\n\n    'fill.editor.message.click.image': '이미지를 선택하고 싶으면 프리뷰 영역을 클릭하세요.',\n    'fill.editor.message.drag.position': '가운데 위치를 드래그 해보세요.',\n    'fill.editor.x1': '시작 X',\n    'fill.editor.x2': '끝 X',\n    'fill.editor.y1': '시작 Y',\n    'fill.editor.y2': '끝 Y',    \n    'fill.editor.spread': '확산',    \n    'fill.editor.offset': '위치',\n    'fill.editor.cx': '중심점 X',\n    'fill.editor.cy': '중심점 Y',    \n    'fill.editor.r': '끝 반지름',\n    'fill.editor.fx': '시작 X',\n    'fill.editor.fy': '시작 Y',\n    'fill.editor.fr': '시작 반지름',    \n\n    'perspective.origin.editor.originX': '중심점 X',\n    'perspective.origin.editor.originY': '중심점 Y',    \n\n    'path.manager.msg': '편집을 종료할 때는 ESC 키나 Enter 키를 누르세요. 또는 화면을 클릭하시면 됩니다.',    \n    'path.manager.mode.done': '완료',    \n    'path.manager.mode.modify': '점 편집',\n    'path.manager.mode.path': '점 추가',\n    'path.manager.mode.warp': '워프',    \n    'path.manager.mode.transform': '변형',\n    'path.manager.mode.reverse': '순서변경',    \n    'path.manager.mode.flipX': 'X축 회전',    \n    'path.manager.mode.flipY': 'Y축 회전',    \n    'path.manager.mode.flipOrigin': '전체 회전',        \n\n    'colorpicker.popup.title': '색상 선택',\n\n    'selector.popup.title': '선택자 속성',\n    'selector.popup.selector': '선택자',\n\n    'background.image.position.popup.title': '배경 패턴',   \n    'background.image.position.popup.size': '크기',\n    'background.image.position.popup.width': '넓이',\n    'background.image.position.popup.height': '높이',\n    'background.image.position.popup.repeat': '반복',\n    'background.image.position.popup.blend': '블렌드',        \n    'background.image.position.popup.type.repeat': '반복',\n    'background.image.position.popup.type.no-repeat': '반복 안함',\n    'background.image.position.popup.type.repeat-x': 'x축 반복', \n    'background.image.position.popup.type.repeat-y': 'y축 반복', \n    'background.image.position.popup.type.space': '공백유지', \n    'background.image.position.popup.type.round': '반올림', \n\n    'gradient.picker.popup.title': '그라디언트와 이미지',\n\n    'image.asset.property.title': '이미지',\n    'video.asset.property.title': '비디오',    \n    'color.asset.property.title': '색',\n    'gradient.asset.property.title': '그라디언트', \n    'pattern.asset.property.title': '패턴', \n    'svgfilter.asset.property.title': 'SVG 필터',     \n    \n    'inspector.tab.title.style': '스타일',\n    'inspector.tab.title.component': '컴포넌트 속성',\n    'inspector.tab.title.transition': '애니메이션',\n    'inspector.tab.title.asset': '에셋 관리자',\n    'inspector.tab.title.text': '텍스트',    \n    'inspector.tab.title.code': '코드',    \n    'inspector.tab.title.history': '기록',\n\n    'timeline.property.title': '타임라인',\n    'timeline.property.resize': '타임라인 높이를 변경합니다. 드래그 해주세요.',        \n    'timeline.animation.property.title': '애니메이션',    \n\n\n    'timeline.play.control.play': '플레이',\n    'timeline.play.control.pause': '멈춤',\n    'timeline.play.control.first': '처음으로',\n    'timeline.play.control.prev': '이전으로',\n    'timeline.play.control.next': '다음으로',\n    'timeline.play.control.last': '마지막으로',\n    'timeline.play.control.direction': '방향',\n    'timeline.play.control.speed': '속력',\n    'timeline.play.control.repeat': '반복',\n    'timeline.play.control.infinite': '무한',\n    'timeline.play.control.normal': 'normal',\n    'timeline.play.control.alternate': 'alternate',\n    'timeline.play.control.reverse': 'reverse',\n    'timeline.play.control.alternate.reverse': 'alternate reverse',    \n\n    'timeline.value.editor.value': '값',\n    'timeline.value.editor.time': '시간',\n    'timeline.value.editor.timing': '타이밍 함수',    \n    'timeline.value.editor.offset.message': 'Enter키를 입력하면 적용됩니다.',    \n\n    'svgfilter.popup.title': 'SVG 필터',    \n\n\n    'css.item.rotate': '회전',\n    'css.item.rotateX': 'X축 회전',\n    'css.item.rotateY': 'Y축 회전',\n    'css.item.rotateZ': 'Z축 회전',\n    'css.item.rotate3d': '3D 회전',    \n    'css.item.skewX': 'X축 늘이기',    \n    'css.item.skewY': 'Y축 늘이기',   \n    'css.item.translate': '이동',\n    'css.item.translateX': 'X축 이동',  \n    'css.item.translateY': 'Y축 이동',\n    'css.item.translateZ': 'Z축 이동',\n    'css.item.translate3d': '3D 이동',\n    'css.item.perspective': '원근',    \n    'css.item.scale': '크기변경',\n    'css.item.scaleX': 'X축 크기변경',\n    'css.item.scaleY': 'Y축 크기변경',\n    'css.item.scaleZ': 'Z축 크기변경',\n    'css.item.scale3d': '3D 크기변경',\n    'css.item.matrix': '변환 행렬',\n    'css.item.matrix3d': '3D 변환 행렬',  \n    \n    'animation.property.title': 'CSS 애니메이션',    \n    'animation.property.direction': '방향',\n    'animation.property.play.state': '플레이 상태',\n    'animation.property.fill.mode': '채우기 모드',\n    'animation.property.delay': '대기시간',\n    'animation.property.duration': '시간',\n    'animation.property.iteration.count': '반복 횟수',\n    'animation.property.select a keyframe' : '키프레임을 선택해주세요',            \n\n    'animation.property.popup.title': 'CSS 애니메이션',\n    'animation.property.popup.timing.function': '타이밍 함수',\n    'animation.property.popup.keyframe': '키프레임',\n    'animation.property.popup.direction': '방향',\n    'animation.property.popup.play.state': '플레이 상태',\n    'animation.property.popup.fill.mode': '채우기 모드',\n    'animation.property.popup.delay': '대기시간',\n    'animation.property.popup.duration': '시간',\n    'animation.property.popup.iteration': '반복 횟수',\n    'animation.property.popup.normal': '시간순',\n    'animation.property.popup.reverse': '역시간순',\n    'animation.property.popup.alternate': '왕복 시간순',\n    'animation.property.popup.alternate-reverse': '왕복 역시간순',\n    'animation.property.popup.none': 'none',\n    'animation.property.popup.forwards': 'forwards',\n    'animation.property.popup.backwards': 'backwards',\n    'animation.property.popup.both' : 'both',  \n    'animation.property.popup.Select a keyframe' : '키프레임을 선택해주세요.',    \n\n    'keyframe.popup.title': '키프레임',\n    \n    'code.view.property.title': '코드뷰',    \n\n    'svg.filter.editor.tab.filter': '필터',\n    'svg.filter.editor.tab.preset': '프리셋',\n    'svg.filter.editor.tab.asset': '에셋',\n    'svg.filter.editor.GRAPHIC REFERENCES': '참조 그래픽',\n    'svg.filter.editor.SOURCES': '원본',\n    'svg.filter.editor.MODIFIER': '수정',\n    'svg.filter.editor.LIGHTING': '빛',\n    'svg.filter.editor.COMBINERS': '결합',\n    'svg.filter.editor.Template': '템플릿',     \n\n    'layout.property.title': '레이아웃',\n    'layout.property.flex': '플렉스 박스',\n    'layout.property.grid': '그리드',\n    'layout.property.default': '기본 좌표',    \n\n    'flex.layout.editor.row': '행',\n    'flex.layout.editor.column': '열',\n    'flex.layout.editor.row-reverse': '역방향 행',\n    'flex.layout.editor.column-reverse': '역방향 열',    \n    'flex.layout.editor.nowrap': '감싸지 않기',    \n    'flex.layout.editor.wrap': '감싸기',    \n    'flex.layout.editor.wrap-reverse': '역방향 감싸기',    \n    'flex.layout.editor.flex-start': '시작',       \n    'flex.layout.editor.flex-end': '끝',       \n    'flex.layout.editor.center': '중간',        \n    'flex.layout.editor.space-between': '공간 중간 채움',       \n    'flex.layout.editor.space-around': '공간 양끝 채움',      \n    'flex.layout.editor.baseline': '기본선',      \n    'flex.layout.editor.stretch': '펼치기',    \n    'flex.layout.editor.direction': '방향',\n    'flex.layout.editor.justify-content': '컨텐츠 조정',\n    'flex.layout.editor.align-items': '아이템 정렬',\n    'flex.layout.editor.align-content': '컨텐츠 정렬',\n\n    'flex.layout.item.property.title': '플렉스 아이템 설정',\n    'flex.layout.item.property.grow': '공간 비율',\n    'flex.layout.item.property.shrink': '축소 비율',\n    'flex.layout.item.property.basis': '초기 크기',\n    'flex.layout.item.property.none': '없음',\n    'flex.layout.item.property.auto': '자동',\n    'flex.layout.item.property.value': '값',\n\n    'grid.layout.editor.template.columns': '열',\n    'grid.layout.editor.column.gap': '열 간격',\n    'grid.layout.editor.template.rows': '행',\n    'grid.layout.editor.row.gap': '행 간격',\n\n\n    'grid.box.editor.box.title': '영역',\n    'grid.box.editor.type': '타입',\n    'grid.box.editor.repeat': '반복',\n    'grid.box.editor.length': '길이',\n    'grid.box.editor.none': '없음',\n    'grid.box.editor.auto': '자동',\n    'grid.box.editor.count': '개수',\n    'grid.box.editor.value': '크기',\n\n    'grid.layout.item.property.title': '그리드 아이템 설정',\n    'grid.layout.item.property.column': '열',\n    'grid.layout.item.property.row': '행',\n    'grid.layout.item.property.start': '시작',\n    'grid.layout.item.property.End': '끝',  \n    'grid.layout.item.property.none': '없음',\n    'grid.layout.item.property.value': '값',  \n    \n    'box.model.property.title': '박스 모델',\n    'box.model.property.margin': '마진',\n    'box.model.property.padding': '패딩',    \n\n    'component.items.canvas': '캔버스',\n    'component.items.layer': '레이어',\n    'component.items.3dlayer': '3D 레이어',\n    'component.items.drawing': '그리기',\n    'component.items.custom': '사용자 정의 컴포넌트',   \n    'component.items.chart': '차트',             \n    'component.items.plugin': '플러그인',                 \n\n    'svg.text.property.title': \"SVG Text 스타일\",\n    'svg.text.property.textarea': \"텍스트 입력\",\n    'svg.text.property.size': \"폰트 크기\",\n    'svg.text.property.weight': \"폰트 굵기\",\n    'svg.text.property.style': \"폰트 스타일\",\n    'svg.text.property.anchor': \"텍스트 위치\",\n    'svg.text.property.family': \"폰트 글꼴\",\n    'svg.text.property.length.adjust': \"길이 대응\",\n    'svg.text.property.text.length': \"텍스트 길이\",\n    'svg.text.property.start.offset': \"시작 지점\",\n\n    'fill.picker.popup.title': '색 채우기',    \n\n    'gradient.editor.drag.message': '드래그 하면 중심점을 옮길 수 있습니다.',\n\n    'draw.manager.tolerance': '포인트 허용 오차',\n\n    'pattern.property.title': '패턴',\n\n    'pattern.info.popup.title': '패턴 정보',    \n    'pattern.info.popup.width': '넓이',\n    'pattern.info.popup.height': '높이',\n    'pattern.info.popup.lineWidth': '선 넓이',\n    'pattern.info.popup.lineHeight': '선 높이',\n    'pattern.info.popup.rotate': '회전',\n    'pattern.info.popup.blend': '블렌드',    \n    'pattern.info.popup.foreColor': '패턴색',    \n    'pattern.info.popup.backColor': '배경색',    \n\n    'stroke.dasharray.editor.add': '점 추가',    \n\n    'viewport.panning.enable': 'space 를 누른채 화면을 드래그 하면 영역을 움직일 수 있습니다.',\n}","import { EditorElement } from 'el/editor/ui/common/EditorElement';\n\nimport './TextureView.scss';\nimport { Tabs } from 'el/editor/ui/view/Tabs';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class TextureView extends EditorElement {\n\n  components() {\n    return {\n      Tabs\n    }\n  }\n\n  template() {\n\n    const isItemMode = this.$config.get('editor.design.mode') === 'item';\n\n    return /*html*/`<div class='elf--texture'>\n      <object refClass=\"Tabs\" \n        ref=\"$tab\" \n        ${variable({\n          selectedValue: isItemMode ? 'svg' : 'css',\n          onchange: (value) => {\n            this.$config.set(\"inspector.selectedValue\", value);\n          }\n        })}\n      >\n\n        ${isItemMode ? '' : /*html*/`\n          <object refClass=\"TabPanel\" value=\"css\" title=\"CSS\">\n            <object refClass=\"CSSTextureView\" />\n          </object>\n        `}\n\n\n        <object refClass=\"TabPanel\" value=\"svg\" title=\"SVG\">\n          <object refClass=\"SVGTextureView\" />\n        </object>            \n      </object>\n    </div>`;\n  }\n\n}","import { CLICK, LOAD } from \"el/sapa/Event\";\nimport { EditorElement } from 'el/editor/ui/common/EditorElement';\n\nimport './TextureView.scss';\n\nconst cssPatterns = [\n  {\n    itemType: \"circle\", name: \"base\", attrs: {\n      \"background-color\": \"#ececec\"\n    }\n  },\n  {\n    itemType: \"circle\", name: \"base\", attrs: {\n      \"background-color\": \"black\"\n    }\n  },\n  {\n    itemType: \"circle\", name: \"base\", attrs: {\n      \"background-color\": \"red\"\n    }\n  },\n  {\n    itemType: \"circle\", name: \"base\", attrs: {\n      \"background-image\": `\n      background-image: linear-gradient(to right, #ececec, black 100%);\n    `\n    }\n  },\n  {\n    itemType: \"circle\", name: \"base\", attrs: {\n      \"background-image\": `\n      background-image: linear-gradient(to right, #ececec, black 100%);\n    `,\n      \"border\": `\n      border:10px solid black;\n    `\n    }\n  },\n]\n\n\nexport default class CSSTextureView extends EditorElement {\n\n\n  template() {\n    return /*html*/`\n      <div class=\"pattern-list css-pattern-list\" ref=\"$css-list\"></div>\n    `;\n  }\n\n  [LOAD('$css-list')]() {\n    return cssPatterns.map((it, index) => {\n      const svg = this.$editor.svg.render(this.$model.createModel({\n        itemType: it.itemType,\n        width: 70,\n        height: 70,\n        ...it.attrs\n      }, false))\n      return /*html*/`\n        <div class=\"pattern-item\" data-index=\"${index}\">\n          <div class=\"preview\">${svg}</div>\n        </div>\n      `;\n    });\n  }\n\n\n  [CLICK('$css-list .pattern-item')](e) {\n    const index = +e.$dt.data('index');\n    const pattern = cssPatterns[index];\n\n    e.$dt.onlyOneClass(\"selected\");\n\n    this.emit(\"addLayerView\", pattern.itemType, pattern.attrs);\n  }\n}","import { CLICK, LOAD } from \"el/sapa/Event\";\nimport { EditorElement } from 'el/editor/ui/common/EditorElement';\n\nimport './TextureView.scss';\nimport PathParser from 'el/editor/parser/PathParser';\nimport { repeat } from \"el/utils/func\";\n// import PathStringManager from \"el/editor/parser/PathStringManager\";\n// import math from \"./data/math\";\nimport { Length } from 'el/editor/unit/Length';\n\nconst svgPatterns = [\n  {\n    itemType: \"svg-path\", name: \"path\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      d: PathParser.makeRect(0, 0, 80, 80).d\n    }\n  },\n  {\n    itemType: \"svg-path\", name: \"line\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      d: PathParser.makeLine(0, 0, 80, 80).d\n    }\n  },  \n  {\n    itemType: \"svg-path\", name: \"line 2\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      fill: '#ececec',      \n      d: PathParser.makeLine(0, 80, 80, 0).d\n    }\n  },    \n  {\n    itemType: \"svg-path\", name: \"circle\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      fill: '#ececec',      \n      originWidth: 80,\n      originHeight: 80,      \n      d: PathParser.makeCircle(0, 0, 80, 80).d\n    }\n  },\n  {\n    itemType: \"polygon\", name: \"polygon - 3\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      fill: '#ececec',      \n      count: 3,\n      originWidth: 80,\n      originHeight: 80,      \n      d: PathParser.makePolygon(80, 80, 3).d\n    }\n  }, \n  {\n    itemType: \"polygon\", name: \"polygon - 4\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      fill: '#ececec',      \n      count: 4,      \n      originWidth: 80,\n      originHeight: 80,      \n      d: PathParser.makePolygon(80, 80, 4).d\n    }\n  }, \n  {\n    itemType: \"polygon\", name: \"polygon - 4\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      fill: '#ececec',      \n      count: 5,      \n      originWidth: 80,\n      originHeight: 80,      \n      d: PathParser.makePolygon(80, 80, 5).d\n    }\n  }, \n  \n  {\n    itemType: \"polygon\", name: \"polygon - 4\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      fill: '#ececec',      \n      count: 6,      \n      originWidth: 80,\n      originHeight: 80,      \n      d: PathParser.makePolygon(80, 80, 6).d\n    }\n  }, \n  \n  {\n    itemType: \"polygon\", name: \"polygon - 4\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      fill: '#ececec',      \n      count: 7,      \n      originWidth: 80,\n      originHeight: 80,\n      d: PathParser.makePolygon(80, 80, 7).d\n    }\n  },   \n\n  {\n    itemType: \"polygon\", name: \"polygon - 4\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      fill: '#ececec',      \n      count: 12,      \n      originWidth: 80,\n      originHeight: 80,\n      d: PathParser.makePolygon(80, 80, 12).d\n    }\n  },     \n  {\n    itemType: \"star\", name: \"star - 5\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      fill: '#ececec',      \n      originWidth: 80,\n      originHeight: 80,\n      count: 5,\n      radius: 0.5,\n      d: PathParser.makeStar(80, 80, 5, .5).d\n    }\n  },    \n  {\n    itemType: \"star\", name: \"curved star - 5\", attrs: {\n      'background-color': 'transparent',\n      stroke: 'black',\n      'stroke-width': 2,\n      fill: '#ececec',\n      originWidth: 80,\n      originHeight: 80,\n      count: 5,\n      radius: .5,\n      d: PathParser.makeCurvedStar(80, 80, 5, .5).d\n    }\n  },           \n  // ...Object.entries(math.data).map(([name, data]) => {\n  //   console.log(data);\n  //   return {\n  //     itemType: \"svg-path\", \n  //     name, \n  //     attrs: {\n  //       'background-color': 'transparent',\n  //       stroke: 'black',\n  //       'stroke-width': 2,\n  //       d: data\n  //     }\n  //   };\n  // })\n]\n\n\n\nexport default class SVGTextureView extends EditorElement {\n\n  template() {\n    return /*html*/`\n      <div class=\"pattern-list svg-pattern-list\" ref=\"$svg-list\"></div>\n    `;\n  }\n\n  [LOAD('$svg-list')]() {\n    return svgPatterns.map((it, index) => {\n\n      let d = it.attrs.d; \n\n      if (d) {\n        \n        const path = PathParser.fromSVGString(d);\n\n        if (it.attrs.originWidth) {\n          const rect = path.rect();\n          path.scale(60/it.attrs.originWidth, 60/it.attrs.originHeight)\n        } else {\n          const rect = path.rect();\n          path.scale(70/rect.width, 70/rect.height)\n        }\n\n        d = path.d; \n      }\n\n      const svg = this.$editor.svg.render(this.$model.createModel({\n        itemType: it.itemType,\n        width: Length.px(80), \n        height: Length.px(80),\n        ...it.attrs,\n        d\n      }, false))\n      return /*html*/`\n        <div class=\"pattern-item\" data-index=\"${index}\">\n          <div class=\"preview\">${svg}</div>\n        </div>\n      `;\n    });\n  }  \n\n  [CLICK('$svg-list .pattern-item')](e) {\n    const index = +e.$dt.data('index');\n    const pattern = svgPatterns[index];\n\n    e.$dt.onlyOneClass(\"selected\");\n\n    this.emit(\"addLayerView\", pattern.itemType, pattern.attrs);\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class OrderDown extends MenuItem {\n  getIconString() {\n    return 'to_back';\n  }\n\n  getTitle() {\n    return \"To Back\";\n  }\n\n  clickButton(e) {\n    this.emit('item.move.depth.down');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class OrderFirst extends MenuItem {\n  getIconString() {\n    return 'to_front';\n  }\n\n  getTitle() {\n    return \"To First\";\n  }\n\n  clickButton(e) {\n    this.emit('item.move.depth.first');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class OrderLast extends MenuItem {\n  getIconString() {\n    return 'to_back';\n  }\n\n  getTitle() {\n    return \"To Last\";\n  }\n\n  clickButton(e) {\n    this.emit('item.move.depth.last');\n  }\n}","import MenuItem from \"./MenuItem\";\n   \nexport default class OrderTop extends MenuItem {\n  getIconString() {\n    return 'to_front';\n  }\n\n  getTitle() {\n    return \"To Front\";\n  }\n\n  clickButton(e) {\n    this.emit('item.move.depth.up');\n  }\n}","import OrderDown from \"el/editor/ui/menu-items/OrderDown\";\nimport OrderFirst from \"el/editor/ui/menu-items/OrderFirst\";\nimport OrderLast from \"el/editor/ui/menu-items/OrderLast\";\nimport OrderTop from \"el/editor/ui/menu-items/OrderTop\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './DepthProperty.scss';\n\nexport default class DepthProperty extends BaseProperty {\n\n  components() {\n    return {\n      OrderTop,\n      OrderDown,\n      OrderFirst,\n      OrderLast,      \n      OrderTop,\n      OrderDown\n    }\n  }\n\n  getTitle() {\n    return this.$i18n('alignment.property.title');\n  }\n\n  isHideHeader() {\n    return true;\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--depth-item\">\n        <object refClass=\"OrderTop\" />\n        <object refClass=\"OrderDown\" />\n        <object refClass=\"OrderFirst\" />\n        <object refClass=\"OrderLast\" />        \n      </div>\n    `;\n  }\n}","\nimport { DEBOUNCE, CLICK, SUBSCRIBE } from \"el/sapa/Event\";\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport './ExportProperty.scss';\n\nexport default class ExportProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('export.property.title');\n  }\n\n  isFirstShow() {\n    return true;\n  }\n\n  getClassName() {\n    return 'elf--export-property'\n  }\n\n\n  getBody() {\n    return /*html*/`\n        <div class='export-item svg'>\n          <label>SVG</label>\n          <button ref='$svg'>${icon.archive} ${this.$i18n('export.property.download')}</button>\n        </div>\n        <div class='export-item png'>\n          <label>PNG</label>\n          <button ref='$png'>${icon.archive} ${this.$i18n('export.property.download')}</button>\n        </div> \n      `;\n  }  \n\n  [CLICK('$svg')] () {\n    this.emit('downloadSVG');\n  }\n\n  [CLICK('$png')] () {\n    this.emit('downloadPNG');\n  }  \n}","\nexport const filter_list = [\n    \"blur\",\n    \"grayscale\",\n    \"hue-rotate\",\n    \"invert\",\n    \"brightness\",\n    \"contrast\",\n    \"drop-shadow\",\n    \"opacity\",\n    \"saturate\",\n    \"sepia\",\n    'svg',\n  ];","\nimport {\n  LOAD, CLICK, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF, IF\n} from \"el/sapa/Event\";\n\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { filter_list } from \"./util\";\n\nexport default class FilterProperty extends BaseProperty {\n\n\n  initialize() {\n    super.initialize();\n\n    this.notEventRedefine = true;\n  }  \n\n  getTitle () {\n    return this.$i18n('filter.property.title');\n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n  isFirstShow() {\n    return true;\n  }\n\n  afterRender() {\n    this.show();\n  }\n\n  getKeyframeProperty () {\n    return 'filter';\n  }\n\n\n  getTitleClassName() {\n    return 'filter'\n  }\n\n  getBodyClassName() {\n    return 'no-padding';\n  }\n\n  getBody() {\n    return `<div class='full filter-property' ref='$body'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$filterSelect\">      \n      </select>\n      <button type=\"button\" ref=\"$add\" title=\"add Filter\">${icon.add}</button>\n    `\n  }\n  \n\n  [CLICK(\"$add\")]() {\n    var filterType = this.refs.$filterSelect.value;\n\n    this.children.$filterEditor.trigger('add', filterType)\n  }\n\n  [LOAD('$filterSelect')] () {\n    var list = filter_list.map(it => { \n      return {title: this.$i18n(`filter.property.${it}`), value: it}\n    })\n\n    var svgFilterList = this.getSVGFilterList()\n\n    var totalList = []\n\n    if (svgFilterList.length) {\n      totalList = [\n        ...list,\n        { title: '-------' , value: ''},\n        ...svgFilterList\n      ]\n    } else {\n      totalList = [\n        ...list\n      ]\n    }\n\n    return totalList.map(it => {\n      var {title, value} = it;\n      \n      return `<option value='${value}'>${title}</option>`\n    })\n  }\n\n\n  getSVGFilterList () {\n     \n    var current = this.$selection.currentProject;\n    var arr = [] \n\n    if (current) {\n      arr = current.svgfilters\n        .map(it => {\n          var id = it.id; \n          return {\n            title : `svg - #${id}`,\n            value: id\n          }\n        })\n    }\n\n    return arr\n  }  \n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {} \n    var value = current.filter;\n\n    return /*html*/`\n      <div>\n        <object refClass=\"FilterEditor\" ref='$filterEditor' key=\"filter\" value='${value}' hide-label='true' onchange='changeFilterEditor' />\n      </div>`\n  }\n\n  [SUBSCRIBE_SELF('changeFilterEditor')] (key, filter) {\n\n    this.command('setAttributeForMulti', 'change filter', this.$selection.packByValue({ \n      [key]: filter \n    }))\n  }\n\n  get editableProperty() {\n    return \"filter\";\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow') + DEBOUNCE(1000)] () {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshSVGArea') + DEBOUNCE(1000)] () {\n    this.load('$filterSelect');\n  }\n}","import { IF, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class FontProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('font.property.title');\n  }\n\n  getClassName() {\n    return 'item'\n  }\n\n  afterRender() {\n    this.show();\n  }\n\n  get editableProperty() {\n    return \"font\"\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n  refresh() {\n    \n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$color.setValue(current['color'] || 'rgba(0, 0, 0, 1)')\n      this.children.$size.setValue(current['font-size'])      \n      this.children.$stretch.setValue(current['font-stretch'] || '0%')      \n      this.children.$style.setValue(current['font-style'])\n      this.children.$family.setValue(current['font-family'])\n    }    \n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='color'></span>\n        </div>\n        <object refClass=\"ColorViewEditor\" ref='$color' label='${this.$i18n('font.property.color')}' key='color' onchange=\"changeColor\" />\n      </div>      \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-size'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  \n          ref='$size' \n          label='${this.$i18n('font.property.size')}' \n          key=\"font-size\" \n          \n          onchange=\"changeRangeEditor\" />\n      </div>\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-stretch'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  \n          ref='$stretch' \n          label='${this.$i18n('font.property.stretch')}' \n          key=\"font-stretch\" \n          \n          units='%',\n          onchange=\"changeRangeEditor\" />\n      </div>      \n \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-weight'></span>\n        </div>\n        <object refClass=\"NumberRangeEditor\"  \n          ref='$weightRange' \n          label='${this.$i18n('font.property.weight')}' \n          key='font-weight' \n         \n          value=\"400\" \n          min=\"100\"\n          max=\"900\"\n          step=\"1\"\n          calc=\"false\"\n          unit=\"number\" \n          onchange=\"changeRangeEditor\" \n          />\n      </div>              \n      <div class='property-item'>\n        <object refClass=\"SelectIconEditor\" \n          ref='$style' \n          label='${this.$i18n('font.property.style')}' \n          key=\"font-style\"\n          compact=\"true\"\n          options=${variable([\"normal\",\"italic\"])}\n          icons='title,italic'\n          onchange=\"changeRangeEditor\" />\n      </div>      \n\n      <div class='property-item'>\n        <object refClass=\"FontSelectEditor\"  \n          ref='$family' \n          icon=\"true\"\n          label='${this.$i18n('font.property.family')}' \n          key=\"font-family\" \n          onchange=\"changeRangeEditor\" \n        />\n      </div> \n         \n    `;\n  }\n\n\n  [SUBSCRIBE_SELF('changeColor')] (key, color) {\n    this.trigger('changeRangeEditor', key, color);\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n\n    this.command('setAttributeForMulti', 'change font attribute', this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nexport default class FontSpacingProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('font.spacing.property.title');\n  }\n\n  get editableProperty() {\n    return \"font-spacing\"\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n\n  refresh() {\n    \n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$lineHeight.setValue(current['line-height'] || Length.number(1))\n      this.children.$letter.setValue(current['letter-spacing'] || '0px')      \n      this.children.$word.setValue(current['word-spacing'] || '0px')\n      this.children.$indent.setValue(current['text-indent'] || '0px')\n    }\n  }\n\n  getBody() {\n    return /*html*/`\n\n    <div class='property-item animation-property-item'>\n      <div class='group'>\n        <span class='add-timeline-property' data-property='line-height'></span>\n      </div>\n      <object refClass=\"RangeEditor\"  \n        ref='$lineHeight' \n        label='${this.$i18n('font.spacing.property.lineHeight')}' \n        key=\"line-height\" \n        min=\"0\"\n        max=\"10\"\n        step=\"0.01\"\n        units=\",px,%,em\"\n        onchange=\"changeRangeEditor\" />\n    </div>       \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='letter-spacing'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  ref='$letter' label='${this.$i18n('font.spacing.property.letterSpacing')}' key=\"letter-spacing\" min=\"-100\" max=\"100\" onchange=\"changeRangeEditor\" />\n      </div>\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='word-spacing'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  ref='$word' label='${this.$i18n('font.spacing.property.wordSpacing')}' key=\"word-spacing\"  min=\"-100\" max=\"100\" onchange=\"changeRangeEditor\" />\n      </div>\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-indent'></span>\n        </div>      \n        <object refClass=\"RangeEditor\"  ref='$indent' label='${this.$i18n('font.spacing.property.indent')}' key=\"text-indent\"  min=\"-100\" max=\"100\" onchange=\"changeRangeEditor\" />\n      </div>      \n    `;\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n\n    if (value.unit === '') {\n      value = Length.number(value.value)\n    }\n\n    this.command('setAttributeForMulti', `change font spacing : ${key}`, this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n}","import { LOAD, CLICK, POINTERSTART, BIND, CHANGE, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport { Gradient } from \"el/editor/property-parser/image-resource/Gradient\";\nimport icon from \"el/editor/icon/icon\";\nimport { SVGFill } from \"el/editor/property-parser/SVGFill\";\nimport { SVGStaticGradient } from \"el/editor/property-parser/image-resource/SVGStaticGradient\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { isUndefined } from \"el/sapa/functions/func\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './FillEditor.scss';\n\n\nconst imageTypeList = [\n  'static-gradient',\n  'linear-gradient',\n  'radial-gradient',\n  'image-resource'\n]\n\nconst iconList = {\n  'image-resource': icon.photo\n}\n\n\nconst presetPosition = {\n  top: { x1: '0%', y1: '100%', x2: '0%', y2: '0%'},\n  'top left': { x1: '100%', y1: '100%', x2: '0%', y2: '0%'},\n  'top right': { x1: '0%', y1: '100%', x2: '100%', y2: '0%'},\n  left: { x1: '100%', y1: '0%', x2: '0%', y2: '0%'},\n  right: { x1: '0%', y1: '0%', x2: '100%', y2: '0%'},\n  bottom: { x1: '0%', y1: '0%', x2: '0%', y2: '100%'},\n  'bottom left': { x1: '100%', y1: '0%', x2: '0%', y2: '100%'},\n  'bottom right': { x1: '0%', y1: '0%', x2: '100%', y2: '100%'}\n}\n\nconst props = [\n  'x1', 'y1', 'x2', 'y2', \n  'cx', 'cy', 'r', \n  'fx', 'fy', 'fr', \n  'spreadMethod',  \n  'patternUnits', 'patternWidth', 'patternHeight',\n  'imageX', 'imageY', 'imageWidth', 'imageHeight'\n]\n\nconst rangeEditorList = [\n  'x1', 'y1', 'x2', 'y2', \n  'cx', 'cy', 'r', \n  'fx', 'fy', 'fr', \n  'patternWidth', 'patternHeight',\n  'imageX', 'imageY', 'imageWidth', 'imageHeight'\n]\n\nexport default class FillEditor extends EditorElement  {\n\n  initState() {\n    return {\n      cachedRect: null,\n      index: +(this.props.index || 0 ),\n      value: this.props.value, \n      image: SVGFill.parseImage(this.props.value || 'transparent') || SVGStaticGradient.create()\n    }\n  }\n\n  setValue (value) {\n    this.setState({\n      cachedRect: null,\n      image: SVGFill.parseImage(value)\n    }, false)\n\n    this.refresh();\n    this.parent.trigger('changeTabType', this.state.image.type);\n  }\n\n  template() {\n\n    var { image } = this.state; \n\n    image = image || {} \n\n    var type = image.type || 'static-gradient'\n    \n    if (type === 'url') type = 'image-resource'\n\n\n    return /*html*/`\n        <div class='elf--fill-editor' data-selected-editor='${type}'>\n            <div class='gradient-preview'>\n              <div class='gradient-view' ref='$gradientView'>\n                <div class='drag-pointer' ref='$dragPosition'></div>\n              </div>\n              <svg class='pointer-draw' ref='$pointerDrawArea'>\n                <line data-type='line' ref='$line' />\n                <circle r='5' data-type='start' ref='$startPoint' />\n                <circle r='5' data-type='end' ref='$endPoint' />\n                <circle r='5' data-type='center' ref='$centerPoint' />\n                <circle r='5' data-type='f' ref='$fPoint' />\n              </svg>              \n              <div class='preset-position'>\n                <div data-value='top' title='top'>${icon.chevron_right}</div>\n                <div data-value='right' title='right'>${icon.chevron_right}</div>\n                <div data-value='left' title='left'>${icon.chevron_right}</div>\n                <div data-value='bottom' title='bottom'>${icon.chevron_right}</div>\n                <div data-value='top left' title='top left'>${icon.chevron_right}</div>\n                <div data-value='top right' title='top right'>${icon.chevron_right}</div>\n                <div data-value='bottom left' title='bottom left'>${icon.chevron_right}</div>\n                <div data-value='bottom right' title='bottom right'>${icon.chevron_right}</div>                \n              </div>\n              <div data-editor='image-loader'>\n                <input type='file' accept=\"image/*\" ref='$file' />\n              </div>              \n            </div>\n            <div class=\"picker-tab\">\n              <div class=\"picker-tab-list\" ref=\"$tab\">\n                ${imageTypeList.map(it => {\n                  return `<span class='picker-tab-item ${it}' data-editor='${it}'><span class='icon'>${iconList[it] || ''}</span></span>`\n                }).join('')}\n              </div>\n            </div>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <object refClass=\"RangeEditor\"  label='${this.$i18n('fill.editor.offset')}' ref='$range' key='length' onchange='changeColorStepOffset' />\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n                <div data-editor='spreadMethod'>\n                  <object refClass=\"SelectIconEditor\" label='${this.$i18n('fill.editor.spread')}' ref='$spreadMethod' value=\"pad\" options='pad,reflect,repeat' key='spreadMethod' onchange='changeKeyValue' />\n                </div>  \n                <div data-editor='patternUnits'>\n                  <object refClass=\"SelectEditor\"  label='Pattern' ref='$patternUnits' options='userSpaceOnUse' key='patternUnits' onchange='changeKeyValue' />\n                </div>                  \n                ${rangeEditorList.map(field => {\n                  const label = this.$i18n('fill.editor.' + field)\n                  return /*html*/`\n                    <div data-editor='${field}'>\n                      <object refClass=\"RangeEditor\"  label='${label}' ref='$${field}' value=\"${this.getImageFieldValue(image, field)}\" key='${field}' onchange='changeKeyValue' />\n                    </div>\n                  `\n                }).join('')}\n                                                                                                                                \n            </div>            \n        </div>\n      `;\n  }\n\n  getImageFieldValue(image, field) {\n    var value = image[field]\n\n    if (isUndefined(value)) {\n      switch(field) {\n      case 'cx':\n      case 'cy':\n      case 'r':        \n      case 'fx':\n      case 'fy':        \n        return '50%'    \n      case 'x1':\n      case 'y1': \n      case 'y2': \n      case 'fr':\n      case 'imageX':\n      case 'imageY':\n        return '0%';\n      case 'x2':\n      case 'patternWidth':\n      case 'patternHeight':\n      case 'imageWidth':\n      case 'imageHeight':        \n        return '100%';    \n      }\n    }\n\n    return value; \n  }\n\n  [CHANGE('$file')] (e) {\n    var project = this.$selection.currentProject;\n    if (project) {\n      [...e.target.files].forEach(item => {\n        this.emit('updateImageAssetItem', item, (local) => {\n          this.trigger('setImageUrl', local);\n        });\n      })\n    }\n  }\n\n\n  [CLICK('$el .preset-position [data-value]')] (e) {\n    var type = e.$dt.attr('data-value')\n\n    if (presetPosition[type]) {\n      this.state.image.reset(presetPosition[type])\n      this.refresh();\n      this.refreshFieldValue();\n      this.updateData();\n    }\n\n  }\n\n  refreshFieldValue() {\n    this.children.$x1.setValue(this.state.image.x1)\n    this.children.$y1.setValue(this.state.image.y1)\n    this.children.$x2.setValue(this.state.image.x2)\n    this.children.$y2.setValue(this.state.image.y2)\n\n    this.children.$cx.setValue(this.state.image.cx)\n    this.children.$cy.setValue(this.state.image.cy)\n    this.children.$r.setValue(this.state.image.r)\n\n    this.children.$fx.setValue(this.state.image.fx)\n    this.children.$fy.setValue(this.state.image.fy)\n    this.children.$fr.setValue(this.state.image.fr)  \n    \n    this.children.$spreadMethod.setValue(this.state.image.spreadMethod);\n    this.children.$patternUnits.setValue(this.state.image.patternUnits);\n    this.children.$patternWidth.setValue(this.state.image.patternWidth);\n    this.children.$patternHeight.setValue(this.state.image.patternHeight);\n    this.children.$imageX.setValue(this.state.image.imageX);\n    this.children.$imageY.setValue(this.state.image.imageY);\n    this.children.$imageWidth.setValue(this.state.image.imageWidth);        \n    this.children.$imagenHeight.setValue(this.state.image.imageHeight);\n  }\n\n  getDrawAreaRect () {\n    // todo: rendering 되기 전에 크기를 알 수 있는 방법은 ?\n    return {width: 224, height: 150};\n  }\n\n  getFieldValue(field) {\n    return Length.parse(this.getImageFieldValue(this.state.image, field));\n  }\n\n  [BIND('$line')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var x1 = this.getFieldValue('x1').toPx(width)\n    var y1 = this.getFieldValue('y1').toPx(height)\n    var x2 = this.getFieldValue('x2').toPx(width)\n    var y2 = this.getFieldValue('y2').toPx(height)    \n\n    return { x1, y1, x2, y2 }\n  }\n\n\n  [BIND('$startPoint')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var cx = this.getFieldValue('x1').toPx(width)\n    var cy = this.getFieldValue('y1').toPx(height)\n\n    return { cx, cy }\n  }  \n\n  [BIND('$endPoint')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var cx = this.getFieldValue('x2').toPx(width)\n    var cy = this.getFieldValue('y2').toPx(height)\n\n    return { cx, cy }\n  }  \n\n  [BIND('$centerPoint')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var cx = this.getFieldValue('cx').toPx(width)\n    var cy = this.getFieldValue('cy').toPx(height)\n\n    return { cx, cy }\n  }  \n\n  [BIND('$fPoint')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var cx = this.getFieldValue('fx').toPx(width)\n    var cy = this.getFieldValue('fy').toPx(height)\n\n\n    return { cx, cy }\n  }    \n\n  [POINTERSTART('$pointerDrawArea circle[data-type]') + MOVE('moveDragPointer')]  (e) {\n    this.containerRect = this.refs.$pointerDrawArea.rect();\n    this.startXY = e.xy; \n    this.type = e.$dt.attr('data-type');\n    this.state.cachedRect = null; \n  }\n\n  getRectRate (rect, x, y) {\n\n    var {width, height, x:rx, y: ry } = rect\n\n    if (rx > x) {\n      x = rx; \n    } else if (rx + width < x) {\n      x = rx + width; \n    }\n\n    if (ry > y) {\n      y = ry; \n    } else if (ry + height < y) {\n      y = ry + height; \n    }    \n\n\n\n    var left = Length.percent((x - rx ) / width  * 100) \n    var top = Length.percent((y - ry ) / height  * 100) \n\n    return {left, top}\n  }\n\n  moveDragPointer (dx, dy) {\n    var x = this.startXY.x + dx; \n    var y = this.startXY.y + dy; \n\n    var {left, top } = this.getRectRate(this.containerRect, x, y);\n\n    if (this.type == 'start') {\n      this.state.image.reset({ x1: left, y1: top })\n      this.children.$x1.setValue(left)\n      this.children.$y1.setValue(top)            \n\n      this.bindData('$startPoint')\n      this.bindData('$line')\n\n    } else if (this.type == 'end') {\n      this.state.image.reset({ x2: left, y2: top })\n      this.children.$x2.setValue(left)\n      this.children.$y2.setValue(top)      \n      this.bindData('$endPoint')\n      this.bindData('$line')      \n    } else if (this.type == 'center') {\n      this.state.image.reset({ cx: left, cy: top })\n      this.children.$cx.setValue(left)\n      this.children.$cy.setValue(top)      \n      this.bindData('$centerPoint')\n    } else if (this.type == 'f') {\n      this.state.image.reset({ fx: left, fy: top })            \n      this.children.$fx.setValue(left)\n      this.children.$fy.setValue(top)      \n      this.bindData('$fPoint')      \n    }\n\n    this.bindData('$gradientView')    \n\n\n    this.updateData();\n  }\n\n  [CLICK('$tab .picker-tab-item')] (e) {\n    var type = e.$dt.attr('data-editor')\n    this.$el.attr('data-selected-editor', type);\n    this.parent.trigger('changeTabType', type);\n\n    var url = type === 'image-resource' ? this.state.image.url : this.state.url;\n    var opt = {}\n    \n    props.forEach(it => {\n      opt[it] = this.children[`$${it}`].getValue()\n    })\n\n    this.state.image = SVGFill.changeImageType({\n      type,\n      url,\n      colorsteps: this.state.image.colorsteps || [] ,   \n      ...opt\n    })\n    this.refresh();\n    this.updateData();\n    this.sendMessage();\n  }\n\n  sendMessage (type) {\n    var type = this.$el.attr('data-selected-editor');\n    if (type === 'linear-gradient') {\n      this.emit('addStatusBarMessage', '');\n    } else if (type === 'url' || type === 'image-resource') {\n      this.emit('addStatusBarMessage', this.$i18n('fill.editor.message.click.image'));\n    } else {\n      this.emit('addStatusBarMessage', this.$i18n('fill.editor.message.drag.position'));\n    }\n  }\n\n  [SUBSCRIBE_SELF('changeKeyValue')] (key, value) {\n\n    this.state.image.reset({\n      [key]: value\n    })\n\n    this.bindData('$gradientView')\n    this.bindData('$line')\n    this.bindData('$startPoint')\n    this.bindData('$endPoint')\n    this.bindData('$centerPoint')\n    this.bindData('$fPoint')\n\n    this.updateData();\n  }\n\n  [SUBSCRIBE('changeColorStepOffset')] (key, value) {\n    if (this.currentStep) {\n      this.currentStep.percent = value.value;\n      this.state.image.sortColorStep();\n      this.refresh()\n      this.updateData();      \n    }\n  }\n\n  [CLICK('$back')] (e) {\n    \n    var rect = this.refs.$stepList.rect();\n    \n    var minX = rect.x;\n    var maxX = rect.right;\n\n    var x = e.xy.x \n\n    if (x < minX)  x = minX\n    else if (x > maxX) x = maxX\n    var percent = (x - minX) / rect.width * 100;\n\n    this.state.image.insertColorStep(percent);\n    this.state.image.sortColorStep()\n\n    this.refresh();\n    this.updateData();\n  }\n\n  [BIND('$el')] () {\n    var type = this.state.image.type;\n    if (type === 'url') {\n      type = 'image-resource'\n    }\n    this.parent.trigger('changeTabType', type);\n    return {\n      \"data-selected-editor\": type\n    }\n  }\n\n  [BIND('$stepList')] () {\n    return {\n      'data-selected-index': this.state.index.toString(),\n      'style': {\n        'background-image' : this.getLinearGradient()\n      }\n    }\n  }\n\n  get fillId () {\n    return this.id + 'fill';\n  }\n\n  [BIND('$gradientView')] () {\n    return {\n      innerHTML : /*html*/`\n        <svg x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">\n          <defs>\n            ${this.state.image.toSVGString(this.fillId)}\n          </defs>\n          <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"${this.state.image.toFillValue(this.fillId)}\" />\n        </svg>\n      `\n    }\n  }\n\n  [LOAD('$stepList')] () {\n    var colorsteps = this.state.image.colorsteps || [] \n    return colorsteps.map( (it, index) => {\n\n      var selected = this.$selection.isSelectedColorStep(it.id) ? 'selected' : '';\n      return /*html*/`\n      <div class='step ${selected}' data-id='${it.id}' style='left: ${it.percent}%;'>\n        <div class='color-view' style=\"background-color: ${it.color}\"></div>\n        <div class='arrow' style=\"background-color: ${it.color}\"></div>\n      </div>`\n    })\n  }\n\n\n  removeStep(id) {\n\n    this.state.image.removeColorStep(id);\n\n    this.refresh();\n    this.updateData();          \n  }\n\n  selectStep(id) {\n    this.state.id = id; \n\n    this.$selection.selectColorStep(id);\n\n    if (this.state.image.colorsteps) {\n      this.currentStep = this.state.image.colorsteps.find( it => this.$selection.isSelectedColorStep(it.id))\n      this.children.$range.setValue(Length.percent(this.currentStep.percent));\n      this.parent.trigger('selectColorStep', this.currentStep.color)    \n  \n    }\n\n    this.refresh();\n\n  }\n\n  [POINTERSTART('$stepList .step') + MOVE()] (e) {\n    var id = e.$dt.attr('data-id')\n\n    if (e.altKey) {\n      this.removeStep(id);\n      return false; \n    } else {\n\n      this.selectStep(id);\n\n      this.startXY = e.xy;\n\n      this.cachedStepListRect = this.refs.$stepList.rect();\n    }\n\n  }\n\n  getStepListRect () {\n    return this.cachedStepListRect;\n  }\n\n  move (dx, dy) {\n\n    var rect = this.getStepListRect()\n    \n    var minX = rect.x;\n    var maxX = rect.right;\n\n    var x = this.startXY.x + dx \n\n    if (x < minX)  x = minX\n    else if (x > maxX) x = maxX\n    var percent = (x - minX) / rect.width * 100;\n\n\n    this.currentStep.percent = percent;\n\n    this.children.$range.setValue(Length.percent(percent));    \n    this.state.image.sortColorStep();\n    this.refresh()\n\n    this.updateData();    \n  }\n\n\n  refresh() {\n    this.load();\n  }\n\n  getLinearGradient () {\n\n    var { image } = this.state; \n\n    return `linear-gradient(to right, ${Gradient.toColorString(image.colorsteps)})`;\n\n  }\n\n  [SUBSCRIBE('setColorStepColor')] (color) {\n\n    if (this.state.image.type === 'static-gradient') {\n      this.state.image.setColor(color)\n      this.refresh()\n      this.updateData();      \n    } else {\n\n      if (this.currentStep) {\n        this.currentStep.color = color;\n        this.refresh()\n        this.updateData();\n      }\n    }\n\n  }\n\n\n  [SUBSCRIBE('setImageUrl')] (url) {\n\n    if (this.state.image) {\n      this.state.url = url; \n      this.state.image.reset({ url });\n      this.refresh();\n      this.updateData();\n    }\n  }\n\n  updateData(data = {}) {\n    this.setState(data, false);\n    this.parent.trigger(this.props.onchange, this.state.image.toString());\n  }\n\n}","\nimport { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { Gradient } from \"el/editor/property-parser/image-resource/Gradient\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './GradientPickerPopup.scss';\n\nexport default class GradientPickerPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('gradient.picker.popup.title')\n  }\n\n  initialize() {\n    super.initialize();\n\n    this.selectedTab = \"static-gradient\";\n  }\n\n  getClassName() {\n    return 'fill-picker-popup';\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--gradient-picker-popup\" ref='$body' data-selected-editor=''>\n        <div class='box'>\n          <div ref='$gradientEditor'></div>\n        </div>\n        <div class='box'>\n          <div class='colorpicker'>\n            <object refClass=\"EmbedColorPicker\" ref='$color' onchange='changeColor' />                    \n          </div>\n          <div class='assetpicker'>\n            <object refClass=\"ImageAssetPicker\" ref='$asset' onchange='changeImageUrl' />\n          </div>\n        </div>\n      </div>\n     \n    `;\n  }\n\n  [SUBSCRIBE('changeTabType')] (type) {\n    this.refs.$body.attr('data-selected-editor', type);\n  }\n\n  getColorString() {\n    var value = '' ;\n    if (this.state.image instanceof Gradient) {\n      value = this.state.image.getColorString()\n    }\n\n\n    return value; \n  }\n\n  getCurrentColor() {\n    return this.state.image.colorsteps[this.state.selectColorStepIndex || 0].color; \n  }\n\n  [LOAD('$gradientEditor')] () {\n    return /*html*/`<object refClass=\"GradientEditor\" \n      ref=\"$g\" \n      value=\"${this.state.image}\" \n      selectedIndex=\"${this.state.selectColorStepIndex}\" \n      onchange='changeGradientEditor'\n    />`\n  }\n\n  [SUBSCRIBE_SELF('changeGradientEditor')] (data) {\n\n    this.state.image = data;\n\n    this.updateData();\n  }\n\n  [SUBSCRIBE_SELF('changeColor')] (color) {\n    this.children.$g.trigger('setColorStepColor', color);\n  }\n\n  [SUBSCRIBE_SELF('changeImageUrl')] (url) {\n    this.children.$g.trigger('setImageUrl', url);\n  }\n\n  [SUBSCRIBE(\"showGradientPickerPopup\")](data, params) {    \n    data.changeEvent = data.changeEvent || 'changeFillPopup'\n    data.image = data.gradient\n    data.params = params;\n    this.setState(data);\n\n    this.show(432);\n  }\n\n  [SUBSCRIBE(\"selectColorStep\")](color) {\n    this.children.$color.setValue(color);\n  }\n\n\n  [SUBSCRIBE(\"changeColorStep\")](data = {}) {\n\n    this.state.image.reset({\n      ...data\n    })\n\n    this.updateData();\n  }\n\n\n  updateData() {\n    this.state.instance.trigger(this.state.changeEvent, this.state.image, this.state.params);\n  }\n\n}","\nimport { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { Gradient } from \"el/editor/property-parser/image-resource/Gradient\";\nimport { SVGStaticGradient } from \"el/editor/property-parser/image-resource/SVGStaticGradient\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './GradientPickerPopup';\n\nimport { html } from \"el/sapa/functions/func\";\n\nexport default class FillPickerPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('fill.picker.popup.title')\n  }\n\n  initState() {\n\n    return {\n      image: SVGStaticGradient.create()\n    }\n  }\n\n  initialize() {\n    super.initialize();\n\n    this.selectedTab = \"static-gradient\";\n  }\n\n  getClassName() {\n    return 'fill-picker-popup'\n  }\n\n  getBody() {\n    return html`\n      <div class=\"elf--gradient-picker-popup\" ref='$body' data-selected-editor=''>\n        <div class='box'>\n          <div ref='$gradientEditor'></div>\n        </div>\n        <div class='box'>\n          <div class='colorpicker'>\n            <object refClass=\"EmbedColorPicker\" ref='$color' onchange=${this.subscribe((color) => { \n              this.trigger('changeColor', color);\n            })} />                    \n          </div>\n          <div class='assetpicker'>\n            <object refClass=\"ImageAssetPicker\" ref='$asset' onchange='changeImageUrl' />\n          </div>\n        </div>\n      </div>\n     \n    `;\n  }\n\n  [SUBSCRIBE('changeTabType')] (type) {\n    this.refs.$body.attr('data-selected-editor', type);\n  }\n\n  getColorString() {\n    var value = '' ;\n    if (this.state.image instanceof Gradient) {\n      value = this.state.image.getColorString()\n    }\n\n\n    return value; \n  }\n\n  getCurrentColor() {\n    return this.state.image.colorsteps[this.state.selectColorStepIndex || 0].color; \n  }\n\n  [LOAD('$gradientEditor')] () {\n    return /*html*/`<object refClass=\"FillEditor\" \n      ref=\"$g\" \n      value=\"${this.state.image}\" \n      selectedIndex=\"${this.state.selectColorStepIndex}\" \n      onchange='changeFillEditor'\n    />`\n  }\n\n  [SUBSCRIBE_SELF('changeFillEditor')] (data) {\n\n    this.state.image = data;\n\n    this.updateData();\n  }\n\n  [SUBSCRIBE_SELF('changeColor')] (color) {\n    this.children.$g.trigger('setColorStepColor', color);\n  }\n\n  [SUBSCRIBE_SELF('changeImageUrl')] (url) {\n    this.children.$g.trigger('setImageUrl', url);\n  }\n\n  [SUBSCRIBE(\"showFillPickerPopup\")](data, params) {\n    this.show(240);\n\n    data.changeEvent = data.changeEvent || 'changeFillPopup'\n    // data.image = data.gradient\n    data.params = params;\n    this.trigger('selectColorStep', data.image.colorsteps[0].color);\n    this.setState(data);\n  }\n\n  [SUBSCRIBE(\"selectColorStep\")](color) {\n    this.children.$color.setValue(color);\n  }\n\n\n  [SUBSCRIBE(\"changeColorStep\")](data = {}) {\n\n    this.state.image.reset({\n      ...data\n    })\n\n    this.updateData();\n  }\n\n\n  updateData() {\n    this.state.instance.trigger(this.state.changeEvent, this.state.image, this.state.params);\n  }\n\n}","import { CLICK, BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { SVGFill } from \"el/editor/property-parser/SVGFill\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './FillSingleEditor.scss';\n\nexport default class FillSingleEditor extends EditorElement {\n\n\n    initialize() {\n        super.initialize();\n    \n        this.notEventRedefine = true;\n    }    \n\n    initState() { \n        return {\n            index: this.props.index,\n            label: this.props.label,      \n            simple: this.props.simple === 'true' ? true : false,       \n            image: SVGFill.parseImage(this.props.image || 'transparent')\n        }\n    }\n\n    get fillId () {\n        return this.id + 'fill';\n    }    \n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyValue(opt);\n    }\n\n    modifyValue(value) {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.state.index);\n    }\n\n    getValue () {\n        return this.state.image.toString()\n    }\n\n    setValue (value) {\n        this.setState({\n            image: SVGFill.parseImage(value) \n        })\n    }\n\n    [BIND('$fillView')] () {\n\n        var image = this.state.image; \n\n        if (!image) return {innerHTML: ''}; \n\n        return {\n            innerHTML: image.toSVGString(this.fillId)\n        }\n    }\n\n    [BIND('$fillColor')] () {\n\n        var image = this.state.image; \n\n        if (!image) return {fill: 'transparent'}; \n\n        return {\n            fill: image.toFillValue(this.fillId)\n        }\n    }\n\n    [BIND('$colors')] () {\n        var image = this.state.image; \n\n        if (!image) return {fill: 'transparent'}; \n\n        var colors = image.type != 'url' ?  `${image.colorsteps[0].color}` : 'transparent'\n\n        if (image.type.includes('linear') || image.type.includes('radial') ) {\n            colors = image.colorsteps.map(it => {\n                return /*html*/`<span class='color' style='background-color: ${it.color}' title='${it.color}'></span>`\n            }).join('')\n        }\n\n        return {\n            innerHTML: `<div> ${colors} </div>`\n        }\n    }\n\n    template() {\n        var { label, removable, simple } = this.state;\n        var hasLabel = !!label ? 'has-label' : ''\n\n        return /*html*/`\n            <div class='elf--fill-single-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }            \n                <div class=\"area\">\n                    <div class='preview' ref='$preview'>\n                        <div class='mini-view'>\n\n                            <svg class='color-view' ref='$miniView'>\n                                <defs ref='$fillView'></defs>\n                                <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" ref='$fillColor' fill='url(#${this.fillId})' />\n                            </svg>\n                        </div>\n                    </div>\n                    <div class='colors ${simple ? 'simple' : ''}' ref='$colors'></div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [CLICK()](e) {\n        this.viewGradientPopup();\n    }\n\n    viewGradientPopup() {\n\n        this.emit(\"showFillPickerPopup\", {\n            instance: this,\n            changeEvent: 'changeFillSingle',\n            image: this.state.image \n        });\n    }\n\n    [SUBSCRIBE('changeFillSingle')] (image, params) {\n        this.updateData({ image: SVGFill.parseImage(image) })\n\n        this.refresh();\n      }\n}","import { CLICK, BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './GradientSingleEditor.scss';\n\nexport default class GradientSingleEditor extends EditorElement {\n\n    initState() { \n        return {\n            index: this.props.index,\n            image: this.props.image,\n            color: 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyValue(opt);\n    }\n\n    modifyValue(value) {\n        this.parent.trigger(this.props.onchange, this.props.key, value, this.state.index);\n    }\n\n    setValue (obj) {\n        this.setState({\n            ...obj \n        })\n    }\n\n    [BIND('$miniView')] () {\n        return {\n            style: {\n                'background-image': this.state.image, \n                'background-size': 'cover',\n                'color': this.props.color,\n            }\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='elf--gradient-single-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ${this.state.color}\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewGradientPopup();\n    }\n\n    viewGradientPopup() {\n\n        this.emit(\"showGradientPickerPopup\", {\n            instance: this,\n            changeEvent: 'changeGradientSingle',\n            gradient: this.state.image \n        });\n    }\n\n    [SUBSCRIBE('changeGradientSingle')] (image, params) {\n        this.updateData({ image })\n\n        this.refresh();\n      }\n}","import { randomItem, repeat } from \"el/utils/func\";\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\n\nconst angle_list = ['0deg', '45deg', '90deg']\n\nexport default { \n    title: 'Linear', \n    key: 'linear', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            return { \n                gradient: `linear-gradient(${randomItem(...angle_list)}, ${ColorStep.createColorStep(2)})`\n            }\n        });\n    }\n}","import { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { randomItem, repeat } from \"el/utils/func\";\nconst angle_list = ['0deg', '45deg', '90deg']\nexport default { \n    title: 'Random Linear', \n    key: 'random-linear', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            return { \n                gradient: `linear-gradient(${randomItem(...angle_list)}, ${ColorStep.createColorStep(10)})`\n            }\n        });\n    }\n}","import { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { randomItem, repeat } from \"el/utils/func\";\n\nconst angle_list = ['0deg', '45deg', '90deg']\n\nexport default { \n    title: 'Repeat Linear', \n    key: 'repeat-linear', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            return { \n                gradient: `repeating-linear-gradient(${randomItem(...angle_list)}, ${ColorStep.createRepeatColorStep(2, '10px')})`\n            }\n        });\n    }\n}","import linear from \"./linear\";\nimport radial from \"./radial\";\nimport conic from \"./conic\";\nimport randomLinear from \"./random-linear\";\nimport randomRadial from \"./random-radial\";\nimport randomConic from \"./random-conic\";\nimport repeatLinear from \"./repeat-linear\";\nimport repeatRadial from \"./repeat-radial\";\nimport repeatConic from \"./repeat-conic\";\n\nexport default [\n    linear,\n    randomLinear,\n    repeatLinear,\n    radial,\n    randomRadial,\n    repeatRadial,\n    conic,\n    randomConic,\n    repeatConic,\n]","import { repeat } from \"el/utils/func\";\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\n\nexport default { \n    title: 'Radial', \n    key: 'radial', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            var shape = 'circle';\n\n            return { \n                gradient: `radial-gradient(${shape}, ${ColorStep.createColorStep(2)})`\n            }\n        });\n    }\n}","\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { randomItem, repeat } from \"el/utils/func\";\n\nexport default { \n    title: 'Random Radial', \n    key: 'random-radial', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            return { \n                gradient: `radial-gradient(circle, ${ColorStep.createColorStep(10)})`\n            }\n        });\n    }\n}","import { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { repeat } from \"el/utils/func\";\n\nexport default { \n    title: 'Repeat Radial', \n    key: 'repeat-radial', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            var shape = 'circle';\n\n            return { \n                gradient: `repeating-radial-gradient(${shape}, ${ColorStep.createRepeatColorStep(3, '6px')})`\n            }\n        });\n    }\n}","import { randomNumber } from \"el/utils/create\";\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { randomItem, repeat } from \"el/utils/func\";\n\nexport default { \n    title: 'Conic', \n    key: 'conic', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            var x = randomNumber(45, 55)\n            var y = randomNumber(45, 55)\n            var angle = randomNumber(0, 360)\n            return { \n                gradient: `conic-gradient(from ${angle}deg at ${x}% ${y}%, ${ColorStep.createColorStep(2, 360, 'deg')})`\n            }\n        });\n    }\n}","\nimport { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { repeat } from \"el/utils/func\";\n\nexport default { \n    title: 'Random Conic', \n    key: 'random-conic', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            return { \n                gradient: `conic-gradient(from 0deg at 50% 50%, ${ColorStep.createColorStep(10, 360, 'deg')})`\n            }\n        });\n    }\n}","import { ColorStep } from \"el/editor/property-parser/image-resource/ColorStep\";\nimport { repeat } from \"el/utils/func\";\n\nexport default { \n    title: 'Repeat Conic', \n    key: 'repeat-conic', \n    execute: function (count = 42) {\n        return repeat(count).map(it => {\n            return { \n                gradient: `repeating-conic-gradient(from 0deg at 0% 50%, ${ColorStep.createRepeatColorStep(10, '10deg')})`\n            }\n        });\n    }\n}","import { CLICK, DEBOUNCE, DRAGSTART, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport gradients from \"el/editor/preset/gradients\";\nimport { Gradient } from \"el/editor/property-parser/image-resource/Gradient\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport \"./GradientAssetsProperty.scss\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nconst options = gradients.map(it => {\n  return { value: it.key, text: it.title } \n});\n\n\nexport default class GradientAssetsProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('gradient.asset.property.title');\n  }\n\n  initState() {\n    return {\n      mode: 'grid',\n      preset: 'linear',\n    }\n  }\n\n  getTools() {\n    return /*html*/`<div ref=\"$tools\"></div>`\n  }\n\n  [LOAD('$tools')]() {\n    return /*html*/`\n      <object refClass=\"SelectEditor\"  key=\"preset\" value=\"${this.state.preset}\" options=${variable(options)} onchange=\"changePreset\"  />\n    `\n  }  \n\n  [SUBSCRIBE_SELF('changePreset')] (key, value) {\n\n    this.setState({\n      [key]: value\n    })\n  }\n\n  getClassName() {\n    return 'elf--gradient-assets-property'\n  }\n\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)] () {\n    this.show();\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item gradient-assets'>\n        <div class='gradient-list' ref='$gradientList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [DRAGSTART('$gradientList .gradient-item')] (e) {\n    const gradient = e.$dt.attr('data-gradient');\n    e.dataTransfer.effectAllowed = \"copy\";\n    e.dataTransfer.setData(\"text/gradient\", gradient);\n  }\n\n  [LOAD(\"$gradientList\")]() {\n    var preset = gradients.find(it => it.key === this.state.preset);\n\n    if (!preset) {\n      return '';\n    }\n\n    var results = preset.execute().map( (item, index) => { \n\n      return /*html*/`\n        <div class='gradient-item' data-index=\"${index}\" data-gradient='${item.gradient}' data-custom=\"${item.custom}\">\n          <div class='preview' title=\"${item.gradient}\" draggable=\"true\">\n            <div class='gradient-view' style='background-image: ${item.gradient};'></div>\n          </div>\n        </div>\n      `\n    })\n\n    if (preset.edit) {\n      results.push(/*html*/`<div class='add-gradient-item'><butto type=\"button\">${icon.add}</button></div>`)\n    }\n\n    return results\n  }\n\n \n  executeGradient (callback, isRefresh = true, isEmit = true ) {\n    var project = this.$selection.currentProject;\n\n    if(project) {\n\n      callback && callback (project) \n\n      if (isRefresh) this.refresh();\n      if (isEmit) this.emit('refreshGradientAssets');\n    } else {\n      alert('Please select a project.')\n    }\n  } \n  \n  [CLICK('$gradientList .add-gradient-item')] () {\n\n    this.executeGradient(project => {\n      project.createGradient({\n        gradient: Gradient.random(),\n        name: '',\n        variable: ''\n      })\n    })\n  }\n\n  [CLICK(\"$gradientList .preview\")](e) {\n    var $item = e.$dt.closest('gradient-item');    \n    var gradient = $item.attr('data-gradient')\n\n    this.emit('drop.asset', { gradient })    \n  }\n}","import { LOAD, DOMDIFF, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './HistoryProperty.scss';\n\nexport default class HistoryProperty extends BaseProperty {\n\n  afterRender() {\n    this.show();\n  }\n\n  getTitle() {\n    return 'History';\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--history-list-view\" ref='$body'></div>\n    `;\n  }\n\n  [LOAD('$body') + DOMDIFF] () {\n    return this.$editor.history.map((it, index) => {\n      if (it === '-') {\n        return /*html*/`<div class='divider'>-</div>`\n      }  \n      return /*html*/`\n        <div class='history-item'>\n          <span>${index === (this.$editor.history.currentIndex) ? icon.arrowRight : ''}</span>\n          <span>${it.message}</span>\n        </div>\n      `\n    })\n  }\n\n  [SUBSCRIBE('refreshHistory')] () {\n    this.refresh();\n  }\n}","import { Item } from \"el/editor/items/Item\";\n\nexport default class ItemRender {\n\n  /**\n   * id 기반 문자열 id 생성\n   * \n   * @param {Item} item\n   * @param {string} postfix \n   */\n  getInnerId(item, postfix = '') {\n    return item.id + postfix;\n  }\n}","import { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { uuidShort } from \"el/utils/math\";\nimport { SVGFilterClassName } from \"../SVGFilter\";\n\nconst  Primitive = 'SourceGraphic,SourceAlpha,BackgroundImage,BackgroundAlpha,FillPaint,StrokePaint'.split(',')\n\nconst DEFAULT_ATTRIBUTES = {\n  xChannelSelector: true,\n  yChannelSelector: true  \n}\n\nexport class BaseSVGFilter extends PropertyItem {\n\n  static parse (obj) {\n    var FilterClass = SVGFilterClassName[obj.type];\n  \n    return new FilterClass(obj);\n  }  \n\n  hasLight () {\n    return false; \n  }\n\n  isLight () {\n    return false; \n  }\n\n  isSource () {\n    return false; \n  }\n\n  getDefaultObject(obj = {}) {\n    var id  = uuidShort()\n    return super.getDefaultObject({ \n      itemType: \"svgfilter\", \n      id,\n      in: [],\n      bound: { x: 100, y: 100, targetX: 0, targetY: 0 },\n      connected: [],\n      ...obj \n    });\n  }\n\n  getInCount () {\n    return 0; \n  }\n\n  setIn  (index, target) {\n    this.json.in[index] = {id: target.id, type: target.type}; \n  }\n\n  setConnected (target ) {\n\n    var f = this.json.connected.filter(c => c.id === target.id);\n\n    if (f.length === 0) {\n      this.json.connected.push({id: target.id });\n    }\n\n  }  \n\n  convert(json) {\n\n\n    if (typeof json.in === 'string') {\n      json.in = JSON.parse(json.in);\n    }\n    if (typeof json.bound === 'string') {\n      json.bound = JSON.parse(json.bound);  \n    }\n\n    if (typeof json.connected === 'string') {\n      json.connected = JSON.parse(json.connected);  \n    }\n\n    \n    return json; \n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs('id', 'in', 'bound', 'connected')\n    }\n  }\n\n  getDefaultAttribute () {\n    var list = [] \n\n    if (this.json.connected.length) {\n      list.push(`result=\"${this.json.id}result\"`)\n    }\n\n    Object.keys(DEFAULT_ATTRIBUTES).filter(key => {\n      return !!this.json[key]\n    }).forEach(key => {\n      list.push(`${key}=\"${this.json[key]}\"`)\n    })\n\n    return list.join(' ') + ' ' + this.getSourceInAttribute();\n  }\n\n  hasInIndex () {\n    return false; \n  }\n\n  getSourceInAttribute (inList) {\n    return (inList || this.json.in).map((it, index) => {\n\n      if (!it) return '';\n\n      var indexString = index === 0 ? '' : (index + 1) + '' \n\n      if (!this.hasInIndex()) {\n        indexString = ''; \n      }\n\n      if (Primitive.includes(it.type)) {\n        return `in${indexString}=\"${it.type}\"`\n      }\n      return `in${indexString}=\"${it.id}result\"`\n    }).join(' ')\n  }\n\n\n  toString() {\n    var { type , value } = this.json; \n    return `<fe${type} value=\"${value}\" ${this.getDefaultAttribute()} />`;\n  }\n}\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class RotaMatrixSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"RotaMatrix\",\n      hueRotate: RotaMatrixSVGFilter.spec.hueRotate.defaultValue\n    });\n  }\n\n  convert(json) {\n    json.hueRotate = Length.parse(json.hueRotate);\n    return json \n  }\n\n  toString() {\n    var {id, hueRotate} = this.json \n    return /*html*/`\n      <feColorMatrix type=\"hueRotate\" result=\"romatrix-${id}\"  values=\"${hueRotate}\"/>\n      <feColorMatrix type=\"matrix\" in=\"romatrix-${id}\" in2=\"SourceGraphic\"  ${this.getDefaultAttribute()} values=\"-1 2 -3 0 -.5 2 1 0 0 0 0 3 1 0 0 0 0 1 1 0\"/>\n    `;\n  }\n}\n\n\nRotaMatrixSVGFilter.spec = {\n  hueRotate: {\n    title: \"hue-rotate\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 360,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\n\nexport class MergeSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Merge\"\n    });\n  }\n\n  getInCount() { return 3 }  \n\n\n  getDefaultAttribute () {\n    var list = [] \n\n    if (this.json.connected.length) {\n      list.push(`result=\"${this.json.id}result\"`)\n    }\n\n    return list.join(' ');\n  }  \n\n  toString() {\n    var { in: inList } = this.json; \n    return /*html*/`\n    <feMerge  ${this.getDefaultAttribute()} >\n      ${inList.map(it => {\n        return `<feMergeNode ${this.getSourceInAttribute([it])} />`\n      }).join('')}\n    </feMerge>`;\n  }\n}\n\n\nMergeSVGFilter.spec = {\n\n};\n\n\n","import {BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport class CompositeSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Composite\",\n      operator: CompositeSVGFilter.spec.operator.defaultValue,\n      k1: CompositeSVGFilter.spec.k1.defaultValue,\n      k2: CompositeSVGFilter.spec.k2.defaultValue,\n      k3: CompositeSVGFilter.spec.k3.defaultValue,\n      k4: CompositeSVGFilter.spec.k4.defaultValue\n    });\n  }\n\n  getInCount() { return 2 }  \n\n  toString() {\n    var { operator, k1, k2, k3, k4 } = this.json; \n\n    var kNumbers = '' \n\n    if (operator === 'arithmetic') {\n      kNumbers = ` k1=\"${k1}\" k2=\"${k2}\" k3=\"${k3}\" k4=\"${k4}\" `\n    }\n\n    return `<feComposite operator=\"${operator}\" ${kNumbers}  ${this.getDefaultAttribute()} />`;\n  }\n\n\n  hasInIndex () {\n    return true; \n  }\n}\n\n\nCompositeSVGFilter.spec = {  \n  operator: {\n    title: \"operator\",\n    inputType: \"select\",\n    options: \"over,in,out,atop,xor,arithmetic\",\n    defaultValue: \"over\"\n  },\n  k1: {\n    title: \"k1\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },    \n  k2: {\n    title: \"k2\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },    \n  \n  k3: {\n    title: \"k3\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },    \n  \n  k4: {\n    title: \"k4\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  }\n};\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport class MorphologySVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Morphology\",\n      operator: MorphologySVGFilter.spec.operator.defaultValue,\n      radius: MorphologySVGFilter.spec.radius.defaultValue\n    });\n  }\n  getInCount() { return 1 }    \n\n  toString() {\n    var { operator, radius } = this.json; \n    return `<feMorphology operator=\"${operator}\" radius=\"${radius}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\n\nMorphologySVGFilter.spec = {\n  operator: {\n    title: \"Operator\",\n    inputType: \"select\",\n    options: 'erode,dilate',\n    defaultValue: 'erode'\n  },\n  radius: {\n    title: \"Radius\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class TurbulenceSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Turbulence\",\n      filterType: TurbulenceSVGFilter.spec.filterType.defaultValue,\n      baseFrequency: TurbulenceSVGFilter.spec.baseFrequency.defaultValue,\n      numOctaves: TurbulenceSVGFilter.spec.numOctaves.defaultValue,\n      seed: TurbulenceSVGFilter.spec.seed.defaultValue\n    });\n  }\n\n  convert (obj) {\n    obj.baseFrequency = Length.parse(obj.baseFrequency)\n    obj.numOctaves = Length.parse(obj.numOctaves)\n    obj.seed = Length.parse(obj.seed)\n    return obj; \n  }\n\n  toString() {\n    var { filterType, baseFrequency, numOctaves, seed } = this.json; \n\n    return /*html*/`<feTurbulence ${OBJECT_TO_PROPERTY({\n      type: filterType,\n      baseFrequency,\n      numOctaves, \n      seed\n    })}   ${this.getDefaultAttribute()} />`;\n  }\n}\n\nTurbulenceSVGFilter.spec = {\n  filterType: {\n    title: \"Type\",\n    inputType: \"select\",\n    options: \"fractalNoise,turbulence\",\n    defaultValue: \"turbulence\"\n  },\n  baseFrequency: {\n    title: 'Frequency',\n    inputType: 'number-range',\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },\n  numOctaves: {\n    title: 'Octaves',\n    inputType: 'number-range',\n    min: 1,\n    max: 10,\n    step: 1,\n    defaultValue: Length.number(1)\n  },\n  seed: {\n    title: 'Seed',\n    inputType: 'number-range',\n    min: 0,\n    max: 10000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n  \n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class DisplacementMapSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"DisplacementMap\",\n      scale: DisplacementMapSVGFilter.spec.scale.defaultValue\n    });\n  }\n\n  getInCount() { return 2 }  \n\n  convert (obj) {\n    obj.scale = Length.parse(obj.scale)\n    return obj; \n  }  \n\n  toString() {\n    var { scale } = this.json; \n\n    var scaleOption = scale.value ? `scale=\"${scale}\"` : '';  \n\n    return `<feDisplacementMap ${scaleOption}  ${this.getDefaultAttribute()} />`;\n  }\n\n\n  hasInIndex () {\n    return true; \n  }\n}\n\nDisplacementMapSVGFilter.spec = {\n  scale: {\n    title: 'scale',\n    inputType: 'number-range',\n    min: 0,\n    max: 5000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\n\nexport class ColorMatrixSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"ColorMatrix\",\n      values: ColorMatrixSVGFilter.spec.values.defaultValue,\n    });\n  }\n\n\n  getInCount() { return 1 }\n  toString() {\n    var { values } = this.json; \n\n    var valueString = values.join(' ') \n\n    return /*html*/`<feColorMatrix type=\"matrix\" values=\"${valueString}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nColorMatrixSVGFilter.spec = {\n  values: {\n    title: 'values',\n    inputType: 'color-matrix',\n    column: 5,\n    defaultValue: [\n      1, 0, 0, 0, 0,\n      0, 1, 0, 0, 0,\n      0, 0, 1, 0, 0,\n      0, 0, 0, 1, 0\n    ]\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\n\n\nexport class ConvolveMatrixSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"ConvolveMatrix\",\n      kernelMatrix: ConvolveMatrixSVGFilter.spec.kernelMatrix.defaultValue,\n    });\n  }\n\n\n  getInCount() { return 1 }\n\n  toString() {\n    var { kernelMatrix } = this.json; \n\n    var valueString = kernelMatrix.join(' ')\n\n    return /*html*/`<feConvolveMatrix kernelMatrix=\"${valueString}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nConvolveMatrixSVGFilter.spec = {\n\n  kernelMatrix: {\n    title: 'kernelMatrix',\n    inputType: 'input-array',\n    column: 3,\n    defaultValue: [\n      1, 0, 0,\n      0, 1, 0,\n      0, 0, 1\n    ]\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class GaussianBlurSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"GaussianBlur\",\n      stdDeviationX: GaussianBlurSVGFilter.spec.stdDeviationX.defaultValue,\n      stdDeviationY: GaussianBlurSVGFilter.spec.stdDeviationY.defaultValue,\n      edgeMode: GaussianBlurSVGFilter.spec.edgeMode.defaultValue\n    });\n  }\n\n\n  getInCount() { return 1 }  \n\n\n  convert (obj) {\n    obj.stdDeviationX = Length.parse(obj.stdDeviationX)\n    obj.stdDeviationY = Length.parse(obj.stdDeviationY)\n    return obj; \n  }\n\n  toString() {\n    var { stdDeviationX, stdDeviationY, edgeMode } = this.json; \n\n    var stdDeviation = `${stdDeviationX} ${stdDeviationY}`\n    if (stdDeviationX === stdDeviationY) {\n      stdDeviation = stdDeviationX;\n    }     \n\n    return `<feGaussianBlur  stdDeviation=\"${stdDeviation}\" edgeMode=\"${edgeMode}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nGaussianBlurSVGFilter.spec = {\n  stdDeviationX: {\n    title: \"X\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  stdDeviationY: {\n    title: \"Y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  edgeMode: {\n    title: \"edge\",\n    inputType: \"select\",\n    options: \"none,duplicate,wrap\",\n    defaultValue: \"none\"\n  }\n};\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class FloodSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Flood\",\n      x: FloodSVGFilter.spec.x.defaultValue,\n      y: FloodSVGFilter.spec.y.defaultValue,\n      width: FloodSVGFilter.spec.width.defaultValue,\n      height: FloodSVGFilter.spec.height.defaultValue,\n      color: FloodSVGFilter.spec.color.defaultValue,\n      opacity: FloodSVGFilter.spec.opacity.defaultValue\n    });\n  }\n\n  convert (json) {\n\n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n    json.width = Length.parse(json.width);\n    json.height = Length.parse(json.height);\n\n    return json; \n  }\n\n  toString() {\n\n    const {opacity, color, x, y, width, height} = this.json;\n\n    return `<feFlood ${OBJECT_TO_PROPERTY({\n      x, y, width, height\n    })} flood-opacity=\"${opacity}\" flood-color=\"${color}\" ${this.getDefaultAttribute()} />`;\n  }\n}\n\nFloodSVGFilter.spec = {\n  \n  x: {\n    title: \"X\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  y: {\n    title: \"Y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  width: {\n    title: \"width\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  height: {\n    title: \"height\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },        \n  opacity: {\n    title: \"opacity\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },\n\n  color: {\n    title: \"color\",\n    inputType: \"color\",\n    defaultValue: 'rgba(0, 0, 0, 1)'\n  }\n};\n\n\n","import {BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class ComponentTransferSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"ComponentTransfer\",\n      r: ComponentTransferSVGFilter.spec.r.defaultValue,\n      g: ComponentTransferSVGFilter.spec.g.defaultValue,\n      b: ComponentTransferSVGFilter.spec.b.defaultValue,\n      a: ComponentTransferSVGFilter.spec.a.defaultValue,\n    });\n  }\n\n  getInCount() { return 1 }  \n\n  parse (value) {\n    var [type, ...values] = value.split(' ')\n\n    if (type === 'table' || type === 'discrete') {\n      return {type, tableValues: values.join(' ')}\n    } if (type === 'linear') {\n      var [slop, intercept] = values; \n      return {type, slop, intercept}\n    } else if (type === 'gamma') {\n      var [amplitude, exponent, offset] = values; \n      return {type, amplitude, exponent, offset}\n    }\n\n    return {type}\n}\n\n  toString() {\n    var { r, g, b, a } = this.json;\n    \n    r = this.parse(r);\n    g = this.parse(g);\n    b = this.parse(b);\n    a = this.parse(a);\n\n    return /*html*/`<feComponentTransfer ${this.getDefaultAttribute()} >\n      ${r && `<feFuncR ${OBJECT_TO_PROPERTY(r)} />`}\n      ${g && `<feFuncG ${OBJECT_TO_PROPERTY(g)} />`}\n      ${b && `<feFuncB ${OBJECT_TO_PROPERTY(b)} />`}\n      ${a && `<feFuncA ${OBJECT_TO_PROPERTY(a)} />`}\n    </feComponentTransfe>`;\n  }\n}\n\n\nComponentTransferSVGFilter.spec = {\n  r: {\n    title: \"R\",\n    inputType: \"FuncFilter\",\n    defaultValue: \"identity\"\n  },  \n  g: {\n    title: \"G\",\n    inputType: \"FuncFilter\",\n    defaultValue: \"identity\"\n  },  \n  b: {\n    title: \"B\",\n    inputType: \"FuncFilter\",\n    defaultValue: \"identity\"\n  },  \n  a: {\n    title: \"A\",\n    inputType: \"FuncFilter\",\n    defaultValue: \"identity\"\n  }\n};\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class DistantLightSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"DistantLight\",\n      azimuth: DistantLightSVGFilter.spec.azimuth.defaultValue,      \n      elevation: DistantLightSVGFilter.spec.elevation.defaultValue\n    });\n  }\n\n  isLight() {\n    return true; \n  }\n\n\n  // toString() {\n  //   var { azimuth, elevation } = this.json; \n\n  //   return /*html*/`<feDistantLight ${OBJECT_TO_PROPERTY({\n  //     azimuth, elevation\n  //   })}  ${this.getDefaultAttribute()} />`;\n  // }\n\n\n  toString() {\n    return '';\n  }\n\n  toLightString() {\n    var { azimuth, elevation } = this.json; \n\n    return /*html*/`<feDistantLight ${OBJECT_TO_PROPERTY({\n      azimuth, elevation\n    })} />`;\n  }\n}\n\nDistantLightSVGFilter.spec = {\n \n  azimuth: {\n    title: \"azimuth\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  elevation: {\n    title: \"elevation\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class PointLightSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"PointLight\",\n      x: PointLightSVGFilter.spec.x.defaultValue,      \n      y: PointLightSVGFilter.spec.y.defaultValue,      \n      z: PointLightSVGFilter.spec.z.defaultValue\n    });\n  }\n\n  isLight() {\n    return true; \n  }\n\n\n  // toString() {\n  //   var { x, y, z } = this.json; \n\n  //   return /*html*/`<fePointLight ${OBJECT_TO_PROPERTY({\n  //     x, y, z\n  //   })}  ${this.getDefaultAttribute()} />`;\n  // }\n\n\n  toString() {\n    return '';\n  }\n\n  toLightString() {\n    var { x, y, z } = this.json; \n\n    return /*html*/`<fePointLight ${OBJECT_TO_PROPERTY({\n      x, y, z\n    })} />`;\n  }\n}\n\nPointLightSVGFilter.spec = {\n  x: {\n    title: \"x\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  y: {\n    title: \"y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  z: {\n    title: \"z\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class SpotLightSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"SpotLight\",\n      x: SpotLightSVGFilter.spec.x.defaultValue,      \n      y: SpotLightSVGFilter.spec.x.defaultValue,      \n      z: SpotLightSVGFilter.spec.x.defaultValue,      \n      pointsAtX: SpotLightSVGFilter.spec.pointsAtX.defaultValue,      \n      pointsAtY: SpotLightSVGFilter.spec.pointsAtY.defaultValue,      \n      pointsAtZ: SpotLightSVGFilter.spec.pointsAtZ.defaultValue,      \n      specularExponent: SpotLightSVGFilter.spec.specularExponent.defaultValue,\n      limitingConeAngle: SpotLightSVGFilter.spec.limitingConeAngle.defaultValue\n    });\n  }\n\n\n  isLight() {\n    return true; \n  }\n\n  // toString() {\n  //   var { x, y, z, pointsAtX, pointsAtY, pointsAtZ, specularExponent, limitingConeAngle } = this.json; \n\n  //   return /*html*/`<feSpotLight ${OBJECT_TO_PROPERTY({\n  //     x, y, z, pointsAtX, pointsAtY, pointsAtZ, specularExponent, limitingConeAngle\n  //   })}  ${this.getDefaultAttribute()} />`;\n  // }\n\n  toString() { }\n\n  toLightString() {\n    var { x, y, z, pointsAtX, pointsAtY, pointsAtZ, specularExponent, limitingConeAngle } = this.json; \n\n    return /*html*/`<feSpotLight ${OBJECT_TO_PROPERTY({\n      x, y, z, pointsAtX, pointsAtY, pointsAtZ, specularExponent, limitingConeAngle\n    })} />`;\n  }  \n}\n\nSpotLightSVGFilter.spec = {\n \n  x: {\n    title: \"x\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  y: {\n    title: \"y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  z: {\n    title: \"z\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  pointsAtX: {\n    title: \"pointsAtX\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  pointsAtY: {\n    title: \"pointsAtY\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  pointsAtZ: {\n    title: \"pointsAtZ\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },    \n  specularExponent: {\n    title: \"specularExponent\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },      \n  limitingConeAngle: {\n    title: \"limitingConeAngle\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class DiffuseLightingSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"DiffuseLighting\",\n      surfaceScale: DiffuseLightingSVGFilter.spec.surfaceScale.defaultValue,      \n      lightingColor: DiffuseLightingSVGFilter.spec.lightingColor.defaultValue,      \n      diffuseConstant: DiffuseLightingSVGFilter.spec.diffuseConstant.defaultValue,\n      lightInfo: '' \n    });\n  }\n  toCloneObject () {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'surfaceScale',      \n        'lightingColor',      \n        'diffuseConstant',\n        'lightInfo',\n      )\n\n    }\n  }  \n\n  hasLight() {\n    return true; \n  }\n\n\n  getInCount() { return 1 }  \n\n\n  toString() {\n    var { surfaceScale, diffuseConstant, lightingColor } = this.json; \n\n    return /*html*/`<feDiffuseLighting ${OBJECT_TO_PROPERTY({\n      surfaceScale,\n      diffuseConstant,\n      'lighting-color': lightingColor\n    })}  ${this.getDefaultAttribute()} >\n      ${this.json.lightInfo}\n    </feDiffuseLighting>`;\n  }\n}\n\nDiffuseLightingSVGFilter.spec = {\n  surfaceScale: {\n    title: \"surfaceScale\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },\n  diffuseConstant: {\n    title: \"diffuseConstant\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },  \n \n  lightingColor: {\n    title: \"Lighting Color\",\n    inputType: \"color\",\n    defaultValue: 'rgba(0, 0, 0, 1)'\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class SpecularLightingSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"SpecularLighting\",\n      surfaceScale: SpecularLightingSVGFilter.spec.surfaceScale.defaultValue,      \n      lightingColor: SpecularLightingSVGFilter.spec.lightingColor.defaultValue,      \n      specularConstant: SpecularLightingSVGFilter.spec.specularConstant.defaultValue,      \n      specularExponent: SpecularLightingSVGFilter.spec.specularExponent.defaultValue,\n      lightInfo: ''\n    });\n  }\n  \n  toCloneObject () {\n    return {\n      ...super.toCloneObject(),\n      ...this.attrs(\n        'surfaceScale',      \n        'lightingColor',\n        'specularConstant',\n        'specularExponent',\n        'lightInfo'\n      )\n\n    }\n  }\n\n  hasLight() {\n    return true; \n  }\n\n  getInCount() { return 1 }  \n\n  toString() {\n    var { surfaceScale, specularConstant, specularExponent, lightingColor } = this.json; \n\n    return /*html*/`<feSpecularLighting ${OBJECT_TO_PROPERTY({\n      surfaceScale,\n      specularConstant, \n      specularExponent,\n      'lighting-color': lightingColor\n    })}  ${this.getDefaultAttribute()} >\n      ${this.json.lightInfo}\n    </feSpecularLighting>`;\n  }\n\n  getSourceInAttribute () {\n    return '';\n  }\n}\n\nSpecularLightingSVGFilter.spec = {\n  surfaceScale: {\n    title: \"surfaceScale\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },\n  specularConstant: {\n    title: \"Constant\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },  \n  specularExponent: {\n    title: 'Exponent',\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },  \n \n  lightingColor: {\n    title: \"Lighting Color\",\n    inputType: \"color\",\n    defaultValue: 'rgba(0, 0, 0, 1)'\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class OffsetSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Offset\",\n      dx: OffsetSVGFilter.spec.dx.defaultValue,\n      dy: OffsetSVGFilter.spec.dy.defaultValue\n    });\n  }\n\n  getInCount() { return 1 }    \n\n  toString() {\n    var {dx, dy } = this.json; \n    return /*html*/`<feOffset \n      ${OBJECT_TO_PROPERTY({\n        dx, dy \n      })}  ${this.getDefaultAttribute()} />`;\n  }\n}\n\n\nOffsetSVGFilter.spec = {\n  dx: {\n    title: \"dx\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  dy: {\n    title: \"dy\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n \nexport class BlendSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Blend\",\n      mode: BlendSVGFilter.spec.mode.defaultValue\n    });\n  }\n\n  getInCount() { return 2 }\n\n\n\n  toString() {\n    var { mode } = this.json; \n\n    return /*html*/`<feBlend ${OBJECT_TO_PROPERTY({\n      mode\n    })} ${this.getDefaultAttribute()} />`;\n  }\n\n  hasInIndex () {\n    return true; \n  }\n}\n\n\n\nBlendSVGFilter.spec = {\n  mode: {\n    title: 'mode',\n    inputType: 'blend',\n    defaultValue: 'normal'\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nexport class SourceSVGFilter extends BaseSVGFilter {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: 'Source',\n      ...obj\n    });\n  }\n  \n  isSource() {\n    return true; \n  }\n  toString() {\n    return '';\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class SourceGraphicSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'SourceGraphic'\n    });\n  }\n}","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class SourceAlphaSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'SourceAlpha'\n    });\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class BackgroundImageSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'BackgroundImage'\n    });\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class BackgroundAlphaSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'BackgroundAlpha'\n    });\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class FillPaintSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'FillPaint'\n    });\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class StrokePaintSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'StrokePaint'\n    });\n  }\n}\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nexport class DropShadowSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"DropShadow\",\n      dx: DropShadowSVGFilter.spec.dx.defaultValue,      \n      dy: DropShadowSVGFilter.spec.dy.defaultValue,\n      stdDeviation: DropShadowSVGFilter.spec.stdDeviation.defaultValue,\n      color: DropShadowSVGFilter.spec.color.defaultValue,\n      opacity: DropShadowSVGFilter.spec.opacity.defaultValue,\n    });\n  }\n\n  getInCount() {\n    return 1; \n  }\n\n  toString() {\n    var { dx, dy, stdDeviation, color, opacity } = this.json; \n\n    return /*html*/`<feDropShadow ${OBJECT_TO_PROPERTY({\n      dx, dy, stdDeviation, 'flood-color': color, 'flood-opacity': opacity\n    })}  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nDropShadowSVGFilter.spec = {\n \n  dx: {\n    title: \"dx\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  dy: {\n    title: \"dy\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },        \n  stdDeviation: {\n    title: \"stdDeviation\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 0.1,\n    defaultValue: Length.number(0)\n  },  \n  opacity: {\n    title: \"opacity\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(1)\n  },\n\n  color: {\n    title: \"color\",\n    inputType: \"color\",\n    defaultValue: 'rgba(0, 0, 0, 1)'\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport class SaturateSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Saturate\",\n      values: SaturateSVGFilter.spec.values.defaultValue,\n    });\n  }\n\n  getInCount() { return 1 }\n\n  toString() {\n    var { values } = this.json; \n\n    return /*html*/`<feColorMatrix type=\"saturate\" values=\"${values}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nSaturateSVGFilter.spec = {\n  values: {\n    title: \"values\",\n    inputType: \"number-range\",\n    min: -1,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport class HueRotateSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"HueRotate\",\n      values: HueRotateSVGFilter.spec.values.defaultValue,\n    });\n  }\n\n  getInCount() { return 1 }\n  \n  toString() {\n    var { values } = this.json;\n\n    return /*html*/`<feColorMatrix type=\"hueRotate\" values=\"${values}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nHueRotateSVGFilter.spec = {\n  values: {\n    title: \"values\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 360,\n    step: 0.1,\n    defaultValue: Length.number(0)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\n\nexport class LuminanceAlphaSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"LuminanceAlpha\"\n    });\n  }\n\n  getInCount() { return 1 }\n  \n  toString() {\n\n    return /*html*/`<feColorMatrix type=\"luminanceToAlpha\" ${this.getDefaultAttribute()} />`;\n  }\n}\n\nLuminanceAlphaSVGFilter.spec = {\n\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class TileSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Tile\",\n      x: TileSVGFilter.spec.x.defaultValue,\n      y: TileSVGFilter.spec.y.defaultValue,\n      width: TileSVGFilter.spec.width.defaultValue,\n      height: TileSVGFilter.spec.height.defaultValue\n    });\n  }\n\n  getInCount() {\n    return 1; \n  }\n\n  convert (json) {\n\n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n    json.width = Length.parse(json.width);\n    json.height = Length.parse(json.height);\n\n    return json; \n  }\n\n  toString() {\n\n    const {x, y, width, height} = this.json;\n\n    return `<feTile ${OBJECT_TO_PROPERTY({\n      x, y, width, height\n    })} ${this.getDefaultAttribute()} />`;\n  }\n}\n\nTileSVGFilter.spec = {\n  \n  x: {\n    title: \"X\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  y: {\n    title: \"Y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  width: {\n    title: \"width\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  height: {\n    title: \"height\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"el/utils/func\";\n\nexport class ImageSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Image\",\n      x: ImageSVGFilter.spec.x.defaultValue,\n      y: ImageSVGFilter.spec.y.defaultValue,\n      width: ImageSVGFilter.spec.width.defaultValue,\n      height: ImageSVGFilter.spec.height.defaultValue,\n      src: ImageSVGFilter.spec.src.defaultValue,\n      alignment: ImageSVGFilter.spec.alignment.defaultValue,\n      scaleing: ImageSVGFilter.spec.scaleing.defaultValue\n    });\n  }\n\n  convert (json) {\n\n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n    json.width = Length.parse(json.width);\n    json.height = Length.parse(json.height);\n\n    return json; \n  }\n\n  toString() {\n\n    const {src, x, y, width, height, alignment, scaleing} = this.json;\n\n    return `<feImage ${OBJECT_TO_PROPERTY({\n      x, y, width, height, \n      'xlink:href': src,\n      preserveAspectRatio:`${alignment} ${scaleing}`\n    })} ${this.getDefaultAttribute()} />`;\n  }\n}\n\nImageSVGFilter.spec = {\n  \n  x: {\n    title: \"X\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  y: {\n    title: \"Y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  width: {\n    title: \"width\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  height: {\n    title: \"height\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },        \n  alignment: {\n    title: \"alignment\",\n    inputType: \"select\",\n    options: \"xMinYMin,xMidYMin,xMaxYMin,xMinYMid,xMidYMid,xMaxYMid,xMinYMax,xMidYMax,xMaxYMax\",\n    defaultValue: \"xMidYMid\"\n  },\n  scaleing: {\n    title: \"scaleing\",\n    inputType: \"select\",\n    options: \"meet,slice\",\n    defaultValue: \"meet\"\n  },\n  src: {\n    title: \"Image\",\n    inputType: \"ImageSelectEditor\",\n    defaultValue: ''\n  }\n};\n\n\n","import { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { RotaMatrixSVGFilter } from \"./svg-filter/RotaMatrixSVGFilter\";\nimport { MergeSVGFilter } from \"./svg-filter/MergeSVGFilter\";\nimport { CompositeSVGFilter } from \"./svg-filter/CompositeSVGFilter\";\nimport { MorphologySVGFilter } from \"./svg-filter/MorphologySVGFilter\";\nimport { TurbulenceSVGFilter } from \"./svg-filter/TurbulenceSVGFilter\";\nimport { DisplacementMapSVGFilter } from \"./svg-filter/DisplacementMapSVGFilter\";\nimport { ColorMatrixSVGFilter } from \"./svg-filter/ColorMatrixSVGFilter\";\nimport { ConvolveMatrixSVGFilter } from \"./svg-filter/ConvolveMatrixSVGFilter\";\nimport { GaussianBlurSVGFilter } from \"./svg-filter/GaussianBlurSVGFilter\";\nimport { FloodSVGFilter } from \"./svg-filter/FloodSVGFilter\";\nimport { ComponentTransferSVGFilter } from \"./svg-filter/ComponentTransferSVGFilter\";\nimport { DistantLightSVGFilter } from \"./svg-filter/DistantLightSVGFilter\";\nimport { PointLightSVGFilter } from \"./svg-filter/PointLightSVGFilter\";\nimport { SpotLightSVGFilter } from \"./svg-filter/SpotLightSVGFilter\";\nimport { DiffuseLightingSVGFilter } from \"./svg-filter/DiffuseLightingSVGFilter\";\nimport { SpecularLightingSVGFilter } from \"./svg-filter/SpecularLightingSVGFilter\";\nimport { OffsetSVGFilter } from \"./svg-filter/OffsetSVGFilter\";\nimport { BlendSVGFilter } from \"./svg-filter/BlendSVGFilter\";\nimport { SourceGraphicSVGFilter } from \"./svg-filter/SourceGraphicSVGFilter\";\nimport { SourceAlphaSVGFilter } from \"./svg-filter/SourceAlphaSVGFilter\";\nimport { BackgroundImageSVGFilter } from \"./svg-filter/BackgroundImageSVGFilter\";\nimport { BackgroundAlphaSVGFilter } from \"./svg-filter/BackgroundAlphaSVGFilter\";\nimport { FillPaintSVGFilter } from \"./svg-filter/FillPaintSVGFilter\";\nimport { StrokePaintSVGFilter } from \"./svg-filter/StrokePaintSVGFilter\";\nimport { DropShadowSVGFilter } from \"./svg-filter/DropShadowSVGFilter\";\nimport { SaturateSVGFilter } from \"./svg-filter/SaturateSVGFilter\";\nimport { HueRotateSVGFilter } from \"./svg-filter/HueRotateSVGFilter\";\nimport { LuminanceAlphaSVGFilter } from \"./svg-filter/LuminanceAlphaSVGFilter\";\nimport { TileSVGFilter } from \"./svg-filter/TileSVGFilter\";\nimport { ImageSVGFilter } from \"./svg-filter/ImageSVGFilter\";\n\nconst SVG_FILTER_COMMON_ATTRIBUTES = [\n  'result'\n]\n\n\nexport class SVGFilter extends PropertyItem {\n\n  static parse (obj) {\n    var FilterClass = SVGFilterClassName[obj.type];\n  \n    return new FilterClass(obj);\n  }  \n\n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({ \n      itemType: \"svgfilter\", \n      result: '',\n      ...obj \n    });\n  }\n\n  getDefaultAttribute () {\n    return SVG_FILTER_COMMON_ATTRIBUTES.map(key => {\n      return `${key}=\"${this.json[key]}\"`\n    }).join(' ')\n  }\n\n  toString() {\n    var { type , value } = this.json; \n    return `<fe${type} value=\"${value}\" ${this.getDefaultAttribute()} />`;\n  }\n}\n\n\nexport const SVGFilterClassName = {\n  Image: ImageSVGFilter,\n  Tile: TileSVGFilter,\n  Saturate: SaturateSVGFilter,\n  HueRotate: HueRotateSVGFilter,\n  LuminanceAlpha: LuminanceAlphaSVGFilter,\n  DropShadow: DropShadowSVGFilter,\n  SourceGraphic: SourceGraphicSVGFilter,\n  SourceAlpha: SourceAlphaSVGFilter,\n  BackgroundImage: BackgroundImageSVGFilter,\n  BackgroundAlpha: BackgroundAlphaSVGFilter,\n  FillPaint: FillPaintSVGFilter,\n  StrokePaint: StrokePaintSVGFilter,\n  ComponentTransfer: ComponentTransferSVGFilter,\n  DistantLight: DistantLightSVGFilter,\n  PointLight: PointLightSVGFilter,\n  SpotLight: SpotLightSVGFilter,\n  DiffuseLighting: DiffuseLightingSVGFilter,\n  SpecularLighting: SpecularLightingSVGFilter,\n  Blend: BlendSVGFilter,\n  Offset: OffsetSVGFilter,\n  RotaMatrix: RotaMatrixSVGFilter,\n  GaussianBlur: GaussianBlurSVGFilter,\n  Flood: FloodSVGFilter,\n  Merge: MergeSVGFilter,\n  Composite: CompositeSVGFilter,\n  Morphology: MorphologySVGFilter,\n  Turbulence: TurbulenceSVGFilter,\n  DisplacementMap: DisplacementMapSVGFilter,\n  ColorMatrix: ColorMatrixSVGFilter,\n  ConvolveMatrix: ConvolveMatrixSVGFilter,\n};\n\nexport const SVGFilterSpecList = {\n  Image: ImageSVGFilter.spec,\n  Tile: TileSVGFilter.spec,\n  DropShadow: DropShadowSVGFilter.spec,\n  Saturate: SaturateSVGFilter.spec,\n  HueRotate: HueRotateSVGFilter.spec,\n  LuminanceAlpha: LuminanceAlphaSVGFilter.spec,  \n  Offset: OffsetSVGFilter.spec,\n  ComponentTransfer: ComponentTransferSVGFilter.spec,\n  SpecularLighting: SpecularLightingSVGFilter.spec,\n  SpotLight: SpotLightSVGFilter.spec,\n  PointLight: PointLightSVGFilter.spec,\n  DistantLight:DistantLightSVGFilter.spec,  \n  DiffuseLighting: DiffuseLightingSVGFilter.spec,\n  Blend: BlendSVGFilter.spec,\n  RotaMatrix: RotaMatrixSVGFilter.spec,\n  Merge: MergeSVGFilter.spec,\n  GaussianBlur: GaussianBlurSVGFilter.spec,\n  Flood: FloodSVGFilter.spec,\n  Morphology: MorphologySVGFilter.spec,\n  Composite: CompositeSVGFilter.spec,\n  Turbulence: TurbulenceSVGFilter.spec,\n  DisplacementMap: DisplacementMapSVGFilter.spec,\n  ColorMatrix: ColorMatrixSVGFilter.spec,\n  ConvolveMatrix: ConvolveMatrixSVGFilter.spec\n}; \n","import Dom from \"el/sapa/functions/Dom\";\nimport { isNotUndefined } from \"el/sapa/functions/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport { BackgroundImage } from \"el/editor/property-parser/BackgroundImage\";\nimport { ClipPath } from \"el/editor/property-parser/ClipPath\";\nimport { Pattern } from \"el/editor/property-parser/Pattern\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\nimport ItemRender from \"./ItemRender\";\nimport { SVGFilter } from 'el/editor/property-parser/SVGFilter';\n\nconst ZERO_CONFIG = {}\n\nconst WEBKIT_ATTRIBUTE_FOR_CSS = [\n  'text-fill-color', \n  'text-stroke-color', \n  'text-stroke-width', \n  'background-clip'\n]\n\nexport default class DomRender extends ItemRender {\n    \n\n  /**\n   * \n   * @param {Item} item \n   * @param {string} field \n   */\n  toStringPropertyCSS (item, field) {\n    return STRING_TO_CSS(item[field]);\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toBackgroundImageCSS(item) {\n\n    if (!item.cacheBackgroundImage) {\n      item.setBackgroundImageCache();\n    }\n\n    return item.cacheBackgroundImage; \n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toLayoutCSS (item) {\n\n    const layout = item.layout ;\n\n    if (item.hasLayout()) {\n      if (layout === 'flex') {\n        return this.toFlexLayoutCSS(item)\n      } else if  (layout === 'grid') {\n        return this.toGridLayoutCSS(item)\n      }\n    }\n\n    return {}\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toLayoutItemCSS(item) {\n    var parentLayout =  item.parent?.['layout'];\n    var obj = {}\n    if (parentLayout === 'flex') {\n      // 부모가  layout 이  지정 됐을 때 자식item 들은 position: relative 기준으로 동작한다. , left, top 은  속성에서 삭제 \n      obj = {\n        position: 'relative',\n        left: 'auto !important',\n        top: 'auto !important',\n      }\n    } else if (parentLayout === 'grid') {\n      // 부모가  layout 이  지정 됐을 때 자식item 들은 position: relative 기준으로 동작한다. , left, top 은  속성에서 삭제 \n      obj = {\n        position: 'relative',\n        left: 'auto !important',\n        top: 'auto !important',\n        width: 'auto !important',\n        height: 'auto !important',        \n      }\n\n    }\n\n    if (parentLayout === 'flex') {\n      obj = {\n        ...obj, \n        ...STRING_TO_CSS(item['flex-layout-item'])\n      }      \n    } else if (parentLayout  === 'grid') {\n      obj = {\n        ...obj, \n        ...STRING_TO_CSS(item['grid-layout-item'])\n      }\n    }\n\n    return obj;\n  }\n\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toFlexLayoutCSS(item) {\n    return {\n      display: 'flex',\n      ...this.toStringPropertyCSS(item, 'flex-layout')\n    }\n  }  \n\n  /**\n   * \n   * @param {Item} item \n   */\n  toGridLayoutCSS(item) {\n    return {\n      display: 'grid',\n      ...this.toStringPropertyCSS(item, 'grid-layout')\n    }\n  }  \n\n  /**\n   * \n   * @param {Item} item \n   */\n  toBorderCSS(item) {\n    if (item.hasChildren()) return {}; \n\n    return item.computed('border', (border) => {\n      return STRING_TO_CSS(border);\n    })\n  }\n\n  toKeyCSS (key) {\n    if (!item[key]) return {} \n    return {\n      [key] : item[key]\n    };\n  }\n\n\n  toBoxModelCSS(item) {\n    let obj = {};\n\n    if (item['margin-top']) obj[\"margin-top\"] = item['margin-top'];\n    if (item['margin-bottom']) obj[\"margin-bottom\"] = item['margin-bottom'];\n    if (item['margin-left']) obj[\"margin-left\"] = item['margin-left'];\n    if (item['margin-right']) obj[\"margin-right\"] = item['margin-right'];\n\n    if (item['padding-top']) obj[\"padding-top\"] = item['padding-top'];\n    if (item['padding-bottom']) obj[\"padding-bottom\"] = item['padding-bottom'];\n    if (item['padding-left']) obj[\"padding-left\"] = item['padding-left'];\n    if (item['padding-right']) obj[\"padding-right\"] = item['padding-right'];\n\n\n    return obj;\n  }  \n\n\n  /**\n   * \n   * @param {Item} item \n   * @param {string[]} parameters 표현될 속성 리스트   \n   */\n  toKeyListCSS (item, args = []) {\n    let obj = {};\n\n    args.filter(it => isNotUndefined(item.json[it])).forEach( it => {\n        obj[it] = item.json[it]\n    })\n\n    return obj;\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toDefaultCSS(item) {\n\n    let obj = {}\n\n    if (item.isAbsolute) {\n      if (item.x)  {\n        obj.left = item.x ;\n      }\n      if (item.y)  {\n        obj.top = item.y ;\n      }\n    }\n\n    let result = {}\n\n    result = Object.assign(result, obj);\n    result = Object.assign(result, this.toKeyListCSS(item, [\n      'position', \n\n      // 'right',\n      // 'bottom', \n      'width',\n      'height', \n      'overflow', \n      'z-index', \n      'box-sizing',\n      'background-color', \n      'color',  \n      'opacity', \n      'mix-blend-mode',\n      'transform-origin', \n      'transform-style', \n      'perspective', \n      'perspective-origin',\n      'font-size', \n      'font-stretch', \n      'line-height', \n      'font-weight', \n      'font-family', \n      'font-style',\n      'text-align', \n      'text-transform', \n      'text-decoration',\n      'letter-spacing', \n      'word-spacing', \n      'text-indent',\n      'border-radius',\n      'filter', \n      'backdrop-filter', \n      'box-shadow', \n      'text-shadow',\n      'offset-path', \n      'animation',  \n      'transition',\n    ]));\n    return result;\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toVariableCSS (item) {\n\n    const v = item.computed('variable', (v) => {\n      let obj = {}      \n      v.split(';').filter(it => it.trim()).forEach(it => {\n        const [key, value] = it.split(':')\n  \n        obj[`--${key}`] = value; \n      })      \n\n      return obj;\n    })\n\n    return v;\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toRootVariableCSS (item) {\n    let obj = {}\n    item.rootVariable.split(';').filter(it => it.trim()).forEach(it => {\n      const [key, value] = it.split(':')\n\n      obj[`--${key}`] = value; \n    })\n\n    return obj;\n  }\n\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toRootVariableString (item) {\n    return CSS_TO_STRING(this.toRootVariableCSS(item))\n  }\n\n  /**\n   * convert to only webket css property \n   * @param {*} item \n   */\n  toWebkitCSS(item) {\n    var results = {}\n    WEBKIT_ATTRIBUTE_FOR_CSS.forEach(key => {\n      results[`-webkit-${key}`] = item[key]; \n    })\n\n    return results;\n  }\n\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toTextClipCSS(item) {\n\n    let results = {} \n\n    if (item['text-clip'] === 'text') {\n      results['-webkit-background-clip'] = 'text'\n      results['-webkit-text-fill-color'] = 'transparent';   \n      results['color'] = 'transparent';\n    }\n\n    return results;\n  }  \n\n  /**\n   * \n   * @param {Item} item \n   */\n  toTransformCSS(item) {\n\n    // transform 이 없을 때는 공백 리턴 \n    if (item.transform === '') {\n      return ZERO_CONFIG;\n    }\n\n    const results = {\n      transform: item['transform']\n    } \n\n    if (results.transform === 'rotateZ(0deg)') {\n      delete results.transform;\n    }\n\n    return {\n      transform: results.transform\n    };\n  }     \n\n  \n\n  /**\n   * \n   * @param {Item} item \n   */\n  toDefInnerString (item) {\n    return /*html*/`\n      ${this.toClipPath(item)}\n      ${this.toSVGFilter(item)}\n    `.trim();\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toClipPath(item) {\n\n    if (item['clip-path'] === '') return '';\n\n    if (!item.cacheClipPathObject) {\n      item.setClipPathCache();\n    }\n\n    var obj = item.cacheClipPathObject;\n    var value = obj.value; \n\n    switch (obj.type) {\n    case 'path':\n      return /*html*/`<clipPath id=\"${this.clipPathId(item)}\"><path d=\"${item.clipPathString}\" /></clipPath>`\n    case 'svg': \n      return /*html*/`<clipPath id=\"${this.clipPathId(item)}\">${value}</clipPath>`\n    }\n\n    return ``\n  }\n\n\n  toClipPathCSS (item) {\n    let str = item['clip-path']\n\n    if (Boolean(str) === false) {\n      return null;\n    }\n\n    if (!item.cacheClipPathObject) {\n      item.setClipPathCache();\n    }\n\n    \n    var obj = item.cacheClipPathObject;\n\n    switch (obj.type) {\n    case 'path': \n      if (obj.value) {\n        str = `url(#${this.clipPathId(item)})`\n      }\n      break;\n    case 'svg': \n      str = `url(#${this.clipPathId(item)})`\n      break; \n    }\n\n    return {\n      'clip-path': str\n    }\n  }  \n\n  /**\n   * \n   * @param {Item} item \n   */\n  innerSVGId(item) {\n    return item.id + 'inner-svg'\n  }\n\n  booleanId(item) {\n    return item.id + 'boolean'\n  }\n\n\n  /**\n   * \n   * @param {Item} item \n   */\n  clipPathId (item) {\n    return item.id + 'clip-path'\n  }    \n\n  /**\n   * \n   * @param {Item} item \n   */\n  toDefString (item) {\n    var str = this.toDefInnerString(item)\n\n    return str ? /*html*/`\n    <svg class='inner-svg-element' style=\"display:block\" data-id=\"${this.innerSVGId(item)}\" width=\"0\" height=\"0\">\n      <defs>\n        ${str}\n      </defs>\n    </svg>\n    ` : ''\n  }\n\n  /**\n   * \n   * @param {DomItem} item \n   * @param {string} prefix \n   */\n  toSelectorString (item, prefix = '') {\n    return item.selectors\n              .map(selector => selector.toString(prefix))\n              .join('\\n\\n')\n  }\n\n  /**\n   * \n   * @param {Item} item \n   * @param {string} prefix \n   * @param {string} appendCSS \n   */\n  generateView (item, prefix = '', appendCSS = '') {\n\n        //1. 원본 객체의 css 를 생성 \n        //2. 원본이 하나의 객체가 아니라 복합 객체일때 중첩 CSS 를 자체 정의해서 생성 \n        //3. 이외에 selector 로 생성할 수 있는 css 를 생성 (:hover, :active 등등 )\n    var cssString = `\n  ${prefix} {  /* ${item.itemType} */\n      ${CSS_TO_STRING(this.toCSS(item), '\\n    ')}; \n      ${appendCSS}\n  }\n  ${this.toNestedCSS(item).map(it => {\n    return `${prefix} ${it.selector} { \n        ${it.cssText ? it.cssText : CSS_TO_STRING(it.css || {}, '\\n\\t\\t')}; \n    }`\n  }).join('\\n')}\n  ${this.toSelectorString(item, prefix)}\n    `  \n    return cssString;\n  }  \n\n\n  /**\n   * CSS 리턴 \n   * @param {Item} item \n   * @override\n   */\n  toCSS(item) {\n\n    return Object.assign(\n      {},\n      this.toVariableCSS(item),\n      this.toDefaultCSS(item),\n      this.toClipPathCSS(item),\n      this.toWebkitCSS(item), \n      this.toTextClipCSS(item),      \n      this.toBoxModelCSS(item),\n      this.toBorderCSS(item),\n      this.toBackgroundImageCSS(item),\n      this.toLayoutCSS(item),\n      this.toTransformCSS(item),                  \n      this.toLayoutItemCSS(item)\n    );\n  }\n\n  /**\n   * \n   * @param {Item} item \n   * @param {HtmlRenderer} renderer \n   */\n  toStyle (item, renderer) {\n    const cssString = this.generateView(item, `[data-renderer-id='${renderer.id}'] .element-item[data-id='${item.id}']`)\n    return /*html*/`\n<style type='text/css' data-renderer-type=\"html\" data-id='${item.id}' data-timestamp='${item.timestamp}'>\n${cssString}\n</style>\n    ` + item.layers.map(it => {\n      return renderer.toStyle(it, renderer);\n    }).join('')\n  }\n\n  /**\n   * \n   * @param {Item} item \n   * @param {HtmlRenderer} renderer \n   */\n   toExportStyle (item, renderer) {\n    const cssString = this.generateView(item, `.element-item[data-id='${item.id}']`)\n    return /*html*/`\n<style type='text/css' data-renderer-type=\"html\" data-id='${item.id}' data-timestamp='${item.timestamp}'>\n${cssString}\n</style>\n    ` + item.layers.map(it => {\n      return renderer.toExportStyle(it, renderer);\n    }).join('')\n  }  \n\n  /**\n   * 처음 렌더링 할 때 \n   * \n   * @param {Item} item \n   * @param {Renderer} renderer\n   * @override\n   */\n  render (item, renderer) {\n    var {elementType, id, name, itemType} = item;\n  \n    const tagName = elementType || 'div'\n  \n    return /*html*/`<${tagName} class=\"element-item ${itemType}\" data-id=\"${id}\" data-title=\"${name}\">\n  ${this.toDefString(item)}\n  ${item.layers.map(it => {\n    return renderer.render(it, renderer)\n  }).join('')}\n  ${this.renderVirtualArea(item, renderer)}\n</${tagName}>`\n  }\n\n  renderVirtualArea (item, renderer) {\n\n    if (item['boolean-path']) {\n      const layers = item.layers;\n      return /*html*/`\n        <svg data-id=\"${this.booleanId(item)}\" width=\"100%\" height=\"100%\" style=\"position:absolute;left:0px;top:0px;pointer-events:none;overflow: visible;\">\n          <path d=\"${item['boolean-path']}\" fill=\"yellow\" stroke=\"${layers[0].stroke}\" stroke-width=\"${layers[0]['stroke-width']}\" />\n        </svg>\n      `\n    }\n\n    return \"\";\n  }\n\n  toSVGFilter (item) {\n    var filterString = item.computedValue('svgfilters');\n\n    // 변경점이 svgfilters 일 때만 computed 로 다시 캐슁하기 \n    // 이전 캐쉬가 없다면 다시 캐쉬 하기 \n    if (item.hasChangedField('svgfilters') || !filterString) {\n\n      filterString = item.computed(\n        'svgfilters', \n        (svgfilters) => {\n          var filterString = svgfilters.map(svgfilter => {\n            return /*html*/`\n              <filter id='${svgfilter.id}'>\n                ${svgfilter.filters.map(filter => SVGFilter.parse(filter)).join('\\n')}\n              </filter>`  \n          }).join('')\n    \n          return filterString;\n        }, \n        true  // 캐쉬 강제로 생성하기 \n      )\n    }\n\n    return filterString\n }\n\n\n  renderSVG (item, renderer) {\n    \n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toNestedCSS(item) {\n    const result = [];\n\n    return result;\n  }\n\n  /**\n   * 초기 렌더링 이후 업데이트만 할 때 \n   * \n   * @param {Item} item \n   * @param {Dom} currentElement \n   * @override\n   */\n  update (item, currentElement) {\n    if (!currentElement) return; \n\n    let $svg = currentElement.el.$svg;\n    let $booleanSvg = currentElement.el.$booleanSvg;\n\n    if (!$svg) { \n      currentElement.el.$svg = currentElement.$(`[data-id=\"${this.innerSVGId(item)}\"]`);  \n      $svg = currentElement.el.$svg\n\n      currentElement.el.$booleanSvg = currentElement.$(`[data-id=\"${this.booleanId(item)}\"]`);\n      $booleanSvg = currentElement.el.$booleanSvg\n    }\n\n    if ($booleanSvg) {\n      const svgString = this.renderVirtualArea(item);\n\n      if (svgString) {\n        $booleanSvg.updateDiff(Dom.createByHTML(svgString).firstChild)\n      }      \n    } else {\n      const svgString = this.renderVirtualArea(item);\n\n      var a = Dom.createByHTML(svgString);\n\n      if (a) {\n        currentElement.append(a);\n      }\n\n    }\n\n    if ($svg) {\n\n      const defString = this.toDefInnerString(item)\n\n      if (defString) {\n        var $defs = $svg.$('defs');\n        $defs.updateSVGDiff(`<defs>${defString}</defs>`)\n      }\n\n    } else {\n      const defString = this.toDefString(item)\n\n      if (defString) {\n        var a = Dom.createByHTML(defString);\n        if (a) {\n          currentElement.prepend(a);\n        }\n      }\n    }\n\n  }    \n}","import DomRender from \"./DomRender\";\n\nexport default class LayerRender extends DomRender {\n    \n}","\nimport { LOAD, CLICK, BIND, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nconst image_size = [\n  '',\n  '100x100',\n  '200x200',\n  '300x300',\n  '400x300',\n  '900x600',\n  '1024x762'\n] \n\nexport default class ImageProperty extends BaseProperty {\n\n  getClassName() {\n    return 'item'\n  }\n\n  getTitle() {\n    return this.$i18n('image.property.title')\n  }\n\n  getBody() {\n    return `<div ref='$body' style='padding-top: 3px;'></div>`;\n  }  \n\n  getFooter() {\n    return /*html*/`\n      <div>\n        <label> ${this.$i18n('image.property.origin')} </label> \n        <span ref='$sizeInfo'></span> \n        <button type=\"button\" ref='$resize'>${icon.size}</button>\n      </div>\n      <div>\n        <object refClass=\"SelectEditor\"  ref='$select' label=\"${this.$i18n('image.property.size')}\" key='size' value='' options='${image_size.join(',')}' onchange='changeImageSize' />\n      </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeImageSize')] (key, value) {\n    var [width, height] = value.split('x').map(it => Length.px(it))\n\n    this.command('setAttributeForMulti', 'resize image', this.$selection.packByValue({ \n      width, height\n    }))\n  }\n\n  [CLICK('$resize')] () {\n    var current = this.$selection.current;\n\n    if (current) {\n      this.command('setAttributeForMulti', 'resize image', this.$selection.packByValue({\n        width: (item) => item.naturalWidth.clone(),\n        height: (item) => item.naturalHeight.clone()\n      }))\n    }\n\n  }\n\n  [BIND('$sizeInfo')] () {\n    var current = this.$selection.current || {};\n\n    return {\n      innerHTML: `${this.$i18n('image.property.width')}: ${current.naturalWidth}, ${this.$i18n('image.property.height')}: ${current.naturalHeight}`\n    }\n  }\n\n  [LOAD(\"$body\")]() { \n    var current = this.$selection.current || {};\n\n    var src = current.src || ''\n    return /*html*/`<object refClass=\"ImageSelectEditor\" \n              ref='$1' \n              key='src' \n              value=\"${src}\" \n              onchange=\"changeSelect\" />`;\n  }\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value, info) {\n    var current = this.$selection.current;\n\n    if (current) {\n      current.reset({\n        src: value,\n        ...info\n      })\n\n      this.bindData('$sizeInfo')\n\n      this.command('setAttributeForMulti', 'change image', this.$selection.packByValue({\n        src: value,\n        ...info\n      }));      \n    }\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n\n    this.refreshShow(['image'])\n\n  }\n}","import { LOAD, CLICK, CHANGE, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ImageSelectEditor.scss';\n\nexport default class ImageSelectEditor extends EditorElement {\n\n    initState() {\n        return {\n            value: this.props.value\n        }\n    }\n\n    template() {\n        return /*html*/`\n            <div class='elf--image-select-editor' ref='$body'></div>\n        `\n    }\n\n    getValue () {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.setState({ value })\n    }\n\n    [LOAD('$body')] () {\n\n        const project = this.$selection.currentProject;\n\n        if (!project) return;\n\n        return /*html*/`\n            <div class='preview-container'>\n                <img src=\"${project.getImageValueById(this.state.value) || this.state.value}\" />\n                <input type='file' ref='$file' accept=\"image/*\" />\n            </div>\n            <div class='select-container'>\n                <button type=\"button\" ref='$select'>Select a image</button>\n            <div>\n        `\n    }\n\n    [CHANGE('$file')] (e) {\n\n        var files = [...e.target.files];\n        \n        if (files.length) {\n            this.emit('updateImageAssetItem', files[0], imageId => {\n                this.trigger('changeImageSelectEditor', imageId);\n            });\n        }\n\n    }\n\n    [CLICK('$select')] () {\n        \n        this.emit('showImageSelectPopup', {\n            context: this, \n            changeEvent: 'changeImageSelectEditor',\n            value: this.state.value \n        })\n    }\n\n    [SUBSCRIBE('changeImageSelectEditor')] (value) {\n\n        this.updateData({ value })\n        this.refresh();\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","\n\nimport { LOAD, CLICK, DOMDIFF, SUBSCRIBE } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\nimport { Length } from \"el/editor/unit/Length\";\n\n\nimport './ImageSelectPopup.scss';\nexport default class ImageSelectPopup extends BasePopup {\n\n  getTitle() {\n    return 'Select a image'\n  }\n\n  getClassName() {\n    return 'compact'\n  }\n\n  initState() {\n\n    return {\n      value: ''\n    }\n  }\n\n\n  updateData(opt = {}) {\n    this.setState(opt, false);\n\n    this.state.context.trigger(this.state.changeEvent, this.state.value, {\n      width: this.state.width,\n      height: this.state.height,\n      naturalWidth: this.state.naturalWidth,\n      naturalHeight: this.state.naturalHeight      \n    });\n  }\n\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--image-select-popup\">\n        <div class='box' ref='$imageBox'>\n          \n        </div>\n      </div>\n    `;\n  }\n\n  [LOAD('$imageBox') + DOMDIFF] () {\n    var project = this.$selection.currentProject || { images: [] }\n\n    return project.images.map( (image, index) => {\n      return /*html*/`<div class='image-item' ><img src='${image.local}' data-id=\"${image.id}\" /></div>`\n    })\n  }\n\n  [CLICK('$imageBox .image-item')] (e) {\n    var $img = e.$dt.$('img');\n\n    this.updateData({\n      value: $img.attr('data-id'),\n      naturalWidth: Length.px($img.naturalWidth),\n      naturalHeight: Length.px($img.naturalHeight), \n      width: Length.px($img.naturalWidth),\n      height: Length.px($img.naturalHeight)\n    });\n\n    this.trigger('hideImageSelectPopup')\n  }\n\n  [SUBSCRIBE(\"showImageSelectPopup\")](data, params) {\n    this.setState({\n      context: data.context,\n      changeEvent: data.changeEvent,\n      value: data.value,\n      params\n    }, false);\n    this.refresh();\n\n    this.show(500);\n  }\n\n  [SUBSCRIBE(\"hideImageSelectPopup\")]() {\n    this.hide();\n  }\n\n\n}","import { INPUT, SUBSCRIBE } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './KeyframePopup.scss';\n\nexport default class KeyframePopup extends BasePopup {\n\n  getTitle () {\n    return this.$i18n('keyframe.popup.title')\n  }\n\n  initState() {\n    return {\n      name: 'none',\n      offsets: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(\"changeKeyframePopup\", this.state);\n  }\n\n  getBody() {\n    return /*html*/`\n    <div class='elf--keyframe-popup' ref='$popup'>\n      <div class=\"box\">\n        ${this.templateForName()}\n        ${this.templateForOffset()}\n      </div>\n    </div>`;\n  }\n\n  templateForOffset () {\n    return /*html*/`\n      <div>\n        <object refClass=\"OffsetEditor\" ref='$offsetEditor' />\n      </div>\n    `\n  }\n\n  templateForName() {\n    return /*html*/`\n      <div class='name'>\n        <label>Name</label>\n        <div class='input grid-1'>\n          <input type='text' value='${this.state.name}' ref='$name'/>\n        </div>\n      </div>\n    `\n  }\n\n  [INPUT('$name')] (e) {\n    if (this.refs.$name.value.match(/^[a-zA-Z0-9\\b]+$/)) {\n      this.updateData({name : this.refs.$name.value })\n    } else {\n      e.preventDefault()\n      e.stopPropagation()\n      return false;\n    }\n  }\n  \n  getOffsetData () {\n    var offsets = this.state.offsets.map(it => it)\n\n    return { offsets }\n  }\n\n  refresh() {\n\n    this.refs.$name.val(this.state.name);\n    this.emit('showOffsetEditor', this.getOffsetData())\n  }\n\n  [SUBSCRIBE('changeOffsetEditor')] (data) {\n    this.updateData(data);\n  }\n\n  [SUBSCRIBE(\"showKeyframePopup\")](data) {\n    this.setState(data);\n    this.refresh();\n\n    this.show(240);\n\n  }\n\n  [SUBSCRIBE(\"hideKeyframePopup\")]() {\n    this.$el.hide();\n  }\n}","\nimport icon from \"el/editor/icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  PREVENT,\n  DEBOUNCE,\n  SUBSCRIBE\n} from \"el/sapa/Event\";\n\n\n\nimport { Keyframe } from \"el/editor/property-parser/Keyframe\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './KeyframeProperty.scss';\n\nexport default class KeyframeProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('keyframe.property.title');\n  }\n  getBody() {\n    return `<div class='elf--keyframe-list' ref='$keyframeList'></div>`;\n  }\n\n  getTools() {\n    return `\n      <button type=\"button\" ref=\"$add\" title=\"add Filter\">${icon.add}</button>\n    `;\n  }\n\n  makeProperty (property) {\n    var key = property.key\n    if (key === 'x') key = 'left';\n    else if (key === 'y') key = 'top';\n\n    return /*html*/`\n      <div class='offset-property-item'>\n        <label>${key}:</label>\n        <div class='value'>${property.value}</div>\n      </div>\n    `\n  }\n\n  makeOffset (offset) {\n    return /*html*/`\n      <div class='offset'>\n        <label>${offset.offset}</label>\n        <div class='properties'>\n          ${offset.properties.map(p => {\n            return this.makeProperty (p);\n          }).join('')}\n        </div>        \n      </div>\n    `    \n  }\n\n  makeKeyframeTemplate (keyframe, index) {\n    index = index.toString()\n    return /*html*/`\n      <div class='keyframe-item' data-selected-value='${keyframe.selectedType}' ref='$keyframeIndex${index}' data-index='${index}'>\n        <div class='title'>\n          <div class='name'>${keyframe.name}</div>\n          <div class='tools'>\n            <div class='group'>\n              <button type=\"button\" data-type='list'>${icon.list}</button>\n              <button type=\"button\" data-type='code'>${icon.code}</button>\n            </div>\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">${icon.remove2}</button>\n          </div>\n        </div>\n        <div class='offset-list'>\n          <div class='container'>\n            ${keyframe.offsets.map(o => {\n              return /*html*/`\n              <div class='offset' style='left: ${o.offset}; background-color: ${o.color}'></div>\n              `\n            }).join('')}\n          </div>\n        </div>\n        <div class='keyframe-code' data-type='list'>\n          ${keyframe.offsets.map(offset => {\n            return this.makeOffset(offset);\n          }).join('')}\n        </div>\n        <div class='keyframe-code' data-type='code'>\n          <pre>${keyframe.toString().trim()}</pre>\n        </div>        \n      </div>\n    `\n  }\n\n  [CLICK('$keyframeList .keyframe-item .title .group button[data-type]')] (e) {\n    var $keyframeItem = e.$dt.closest('keyframe-item');\n    var index  = +$keyframeItem.attr('data-index');\n    var type = e.$dt.attr('data-type');\n\n    var current = this.$selection.currentProject;\n    if (!current) return;\n\n    var currentKeyframe = current.keyframes[index];\n\n    if (currentKeyframe) {\n      currentKeyframe.reset({\n        selectedType: type\n      });\n    }\n\n    $keyframeItem.attr('data-selected-value', type)\n\n  }\n\n  [CLICK('$keyframeList .keyframe-item .offset-list')] (e) {\n    var index  = +e.$dt.closest('keyframe-item').attr('data-index');\n\n    var current = this.$selection.currentProject;\n    if (!current) return;\n\n\n    this.viewKeyframePicker(index);\n\n  }\n\n  [CLICK('$keyframeList .del') + PREVENT] (e) {\n    var removeIndex = e.$dt.attr(\"data-index\");\n    var current = this.$selection.currentProject;\n    if (!current) return;\n\n    current.removeKeyframe(removeIndex);\n\n    // project 는 항상 최상위이기 때문에  true 옵션을 줘서 혼자서 갱신 해야함 \n    this.emit('refreshProject', current)\n\n    this.refresh();\n  }\n\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    const current = this.$selection.current;\n    if (current && current.hasChangedField('keyframes')) {\n      this.refresh();\n    }\n  }\n\n\n  [LOAD(\"$keyframeList\")]() {\n    var current = this.$selection.currentProject;\n\n    if (!current) return '';\n\n    var keyframes = current.keyframe ? Keyframe.parseStyle(current) : current.keyframes;\n\n    current.keyframe = ''\n    current.keyframes = keyframes;\n\n    return keyframes.map((keyframe, index) => {\n      return this.makeKeyframeTemplate(keyframe, index);\n    });\n  }\n\n  [CLICK(\"$add\")]() {\n\n    var current = this.$selection.currentProject;\n    if (current) {\n      current.createKeyframe();\n      this.refresh();\n      this.emit('refreshProject', current)\n    } else {\n      alert('Please select a project.')\n    }\n\n  }\n\n  viewKeyframePicker(index) {\n    if (typeof this.selectedIndex === \"number\") {\n      this.selectItem(this.selectedIndex, false);\n    }\n\n    this.selectedIndex = +index;\n    this.selectItem(this.selectedIndex, true);\n    this.current = this.$selection.currentProject;\n\n    if (!this.current) return;\n    this.currentKeyframe = this.current.keyframes[\n      this.selectedIndex\n    ];\n\n    this.viewKeyframePropertyPopup();\n  }\n\n\n  \n  selectItem(selectedIndex, isSelected = true) {\n    if (isSelected) {\n      this.getRef('$keyframeIndex', selectedIndex).addClass(\"selected\");\n    } else {\n      this.getRef('$keyframeIndex', selectedIndex).removeClass(\"selected\");\n    }\n\n    if (this.current) {\n      this.current.keyframes.forEach((it, index) => {\n        it.selected = index === selectedIndex;\n      });\n    }\n  }  \n\n  viewKeyframePropertyPopup(position) {\n    this.current = this.$selection.currentProject;\n\n    if (!this.current) return;\n    this.currentKeyframe = this.current.keyframes[\n      this.selectedIndex\n    ];\n\n    const back = this.currentKeyframe;\n\n    const name = back.name\n    const offsets = back.offsets\n\n    this.emit(\"showKeyframePopup\", {\n      position,\n      name, \n      offsets\n    });\n  }\n\n  [SUBSCRIBE('changeKeyframePopup')] (data) {\n    var project = this.$selection.currentProject;\n\n    if (!project) return;\n    this.currentKeyframe = project.keyframes[\n      this.selectedIndex\n    ];\n\n    if (this.currentKeyframe) {\n      this.currentKeyframe.reset(data);\n    }\n\n    this.refresh();\n\n    // todo: add history \n    this.emit('refreshProject', project)\n  }\n\n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, POINTERSTART, CLICK, IF, PREVENT, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Offset } from \"el/editor/property-parser/Offset\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { isUndefined } from \"el/sapa/functions/func\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nexport default class OffsetEditor extends EditorElement {\n\n  initState() {\n    return {\n      offsets: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.modifyOffset();\n  }\n\n  modifyOffset () {\n    this.emit(\"changeOffsetEditor\", this.state);  \n  }\n\n  template() {\n    return /*html*/`\n    <div class='editor offset-editor' ref='$editor'>\n        ${this.templateForOffset()}\n        ${this.templateForOffsetInput()}\n        ${this.templateForProperty()}        \n    </div>`;\n  }\n\n\n\n  templateForOffsetInput () {\n    return /*html*/`\n      <div class='offset-input' >\n        <div class='title'>\n          <label>Offset</label>\n          <div class='tools'>\n            <object refClass=\"InputRangeEditor\" \n              key='offset' \n              min='0' \n              max='100' \n              step=\"0.01\" \n              value=\"${Length.percent(0)}\" \n              ref='$offsetInput' \n              units=\"%\" \n              onchange='changeRangeEditor' \n            />\n          </div>\n        </div>\n      </div>\n    `\n  }\n\n  [SUBSCRIBE('changeRangeEditor')] (key, value) {\n    var offset = this.state.offsets[this.selectedIndex];\n    if (offset) {\n      offset.offset = value.clone()\n      this.refresh();      \n      this.modifyOffset();      \n    }\n  }\n\n  templateForProperty() {\n    return /*html*/`<object refClass=\"CSSPropertyEditor\" ref='$offsetPropertyEditor' hide-refresh=\"true\" onchange='changeCSSPropertyEditor' />`\n  }  \n\n  templateForOffset () {\n    return `<div class='offset' ref='$offset' data-selected-value=\"-1\"></div>`\n  }\n\n  makeOffset (offset, index) {\n    return `<div class='offset-item' style='left: ${offset.offset};' data-offset-index='${index.toString()}'></div>`\n  }\n\n\n  \n  selectItem(selectedIndex, isSelected = true) {\n    \n    if (isUndefined(selectedIndex)) {\n      selectedIndex = -1; \n      for(var i = 0, len = this.state.offsets.length; i < len; i++) {\n        if (this.state.offsets[i].selected) {\n          selectedIndex = i;\n          break; \n        }\n      }\n\n      if (selectedIndex === -1) {\n        selectedIndex = 0;\n      }  \n    }\n\n    this.getRef('$offset').attr('data-selected-value', selectedIndex);\n    this.selectedIndex = selectedIndex;\n\n    this.state.offsets.forEach( (it, index) => {\n      it.selected = index === selectedIndex;\n    });\n\n    var selectedList = this.state.offsets.filter(it => it.selected);\n    this.selectedOffsetItem = (selectedList.length) ? selectedList[0] : {} \n\n    this.refreshOffsetInput()\n  }  \n\n  refreshOffsetInput() {\n    var offset = this.state.offsets[this.selectedIndex];\n\n    if (offset) {\n      this.children.$offsetInput.setValue(offset.offset);\n    }\n  }\n\n  [LOAD('$offset')] () {\n    return this.state.offsets.map( (it, index) => {\n      return this.makeOffset(it, index);\n    })\n  }\n\n  isNotOffsetItem (e) {\n    return ! (Dom.create (e.target).hasClass('offset-item')) && !this.currentOffset\n  }\n\n  [CLICK('$offset') + IF('isNotOffsetItem') + PREVENT] (e) {\n    this.baseOffsetWidth = this.refs.$offset.width();\n    this.baseOffsetArea = this.refs.$offset.offset();\n    var currentX = e.xy.x;  \n\n    var newOffset = Length.percent((currentX - this.baseOffsetArea.left) / this.baseOffsetWidth * 100).round(100)\n\n    this.state.offsets.push(new Offset({\n      offset: newOffset\n    }))\n\n    this.selectItem(this.state.offsets.length-1, true)    \n    this.refresh();    \n    this.modifyOffset();\n\n  }\n\n\n\n  refreshOffsetProperty() {\n    this.emit('showCSSPropertyEditor', this.selectedOffsetItem.properties)\n  }\n  \n  [POINTERSTART('$offset .offset-item') + MOVE('moveOffset') + END('endOffset')] (e) {\n    this.baseOffsetWidth = this.refs.$offset.width();\n    this.baseOffsetArea = this.refs.$offset.offset();\n    this.currentOffsetleft =  Length.parse(e.$dt.css('left'))\n\n    this.currentOffset = e.$dt;\n    this.currentOffsetIndex = +e.$dt.attr('data-offset-index')\n    this.currentOffsetXY = e.xy;\n    this.baseOffsetMin = this.baseOffsetArea.left;\n    this.baseOffsetMax = this.baseOffsetArea.left + this.baseOffsetWidth;\n    this.isRemoveOffset = false; \n\n    if (e.altKey) {\n      this.isRemoveOffset = true; \n    } else {\n\n      this.selectItem(this.currentOffsetIndex, true)    \n      this.refreshOffsetInput()\n    }\n\n  }\n\n  moveOffset(dx, dy) {\n\n    if (this.isRemoveOffset) return; \n\n    var currentX = this.currentOffsetXY.x + dx \n\n    if (currentX < this.baseOffsetMin) {\n      currentX = this.baseOffsetMin;\n    } \n\n    if (currentX > this.baseOffsetMax) {\n      currentX = this.baseOffsetMax;\n    }\n\n    var newOffset = Length.percent((currentX - this.baseOffsetMin) / this.baseOffsetWidth * 100).round(100);\n\n\n    this.state.offsets[this.currentOffsetIndex].offset.set(newOffset.value)\n    this.currentOffset.css('left', newOffset)\n    this.refreshOffsetInput()\n    this.modifyOffset();\n  }\n\n  removeOffset (index) {\n    this.state.offsets.splice(index, 1);\n    this.selectItem(0);\n    this.refresh();    \n    this.modifyOffset();    \n  }\n\n  endOffset (dx, dy) {\n\n\n    if (this.isRemoveOffset) {\n      setTimeout( () => {\n        this.currentOffset = null; \n        this.removeOffset(this.currentOffsetIndex)\n      }, 10);\n\n    } else {\n\n      setTimeout(() => {\n        this.currentOffset = null;         \n        this.refreshOffsetInput();\n        this.refreshOffsetProperty();\n        this.modifyOffset();\n      }, 10);\n    }\n\n\n  }\n\n  refresh() {\n    this.load();\n    this.refreshOffsetProperty();\n\n  }\n\n  [SUBSCRIBE(\"showOffsetEditor\")](data) {\n    this.setState(data);\n    this.selectItem()            \n    this.refresh();\n\n  }\n\n  [SUBSCRIBE('changeCSSPropertyEditor')] (properties = []) {\n    var offset = this.state.offsets[this.selectedIndex];\n    if (offset) {\n      offset.properties = [...properties];\n    }\n    this.modifyOffset()\n  }\n}\n","import {\n  LOAD, CLICK, DOUBLECLICK, PREVENT, STOP,\n  FOCUSOUT, DOMDIFF, DRAGSTART, KEYDOWN,\n  DRAGOVER, DROP, BIND, DRAGEND,\n  SUBSCRIBE, SUBSCRIBE_SELF, THROTTLE, CONFIG\n} from \"el/sapa/Event\";\nimport { iconUse } from \"el/editor/icon/icon\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { KEY_CODE } from \"el/editor/types/key\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './LayerTreeProperty.scss';\nimport Dom from 'el/sapa/functions/Dom';\n\nconst DRAG_START_CLASS = 'drag-start'\n\nexport default class LayerTreeProperty extends BaseProperty {\n\n  initialize() {\n    super.initialize();\n\n    this.notEventRedefine = true;\n  }\n\n  getTitle() {\n    return this.$i18n('layer.tree.property.title')\n  }\n\n  getClassName() {\n    return 'full'\n  }\n\n  initState() {\n    return {\n      hideDragPointer: true,\n      lastDragOverPosition: 0,\n      lastDragOverOffset: 0,\n      rootRect: { top: 0 },\n      itemRect: { height: 0 }\n    }\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--layer-list scrollbar\" ref=\"$layerList\"></div>\n      <div class='drag-point' ref='$dragPointer'></div>\n    `;\n  }\n\n  [BIND('$dragPointer')]() {\n\n\n    var offset = this.state.lastDragOverOffset\n    var dist = this.state.itemRect.height / 3;\n    var bound = {}\n\n    if (this.state.lastDragOverOffset < dist) {\n      offset = 0;\n\n      var top = this.state.lastDragOverPosition + offset - this.state.rootRect.top\n\n      bound = {\n        top: Length.px(top),\n        height: '1px',\n        width: '100%',\n        left: '0px'\n      }\n\n      this.state.lastDragOverItemDirection = 'before';\n    } else if (this.state.lastDragOverOffset > this.state.itemRect.height - dist) {\n      offset = this.state.itemRect.height;\n\n      var top = this.state.lastDragOverPosition + offset - this.state.rootRect.top\n\n      bound = {\n        top: Length.px(top),\n        height: '1px',\n        width: '100%',\n        left: '0px'\n      }\n      this.state.lastDragOverItemDirection = 'after';\n    } else {\n      const targetItem = this.$model.get(this.state.lastDragOverItemId)\n      // 자식을 가지지 못하는 컴포넌트는 예외처리 \n      if (targetItem?.enableHasChildren()) {\n\n        offset = 0;\n\n        var top = this.state.lastDragOverPosition + offset - this.state.rootRect.top\n\n        bound = {\n          top: Length.px(top),\n          height: Length.px(this.state.itemRect.height),\n          width: '100%',\n          left: '0px'\n        }\n        this.state.lastDragOverItemDirection = 'self';\n      }\n\n    }\n\n    bound.display = this.state.hideDragPointer ? 'none' : 'block';\n\n    return {\n      style: bound\n    }\n  }\n\n  //FIXME: 개별 객체가 아이콘을 리턴 할 수 있도록 구조를 맞춰보자. \n  getIcon(item) {\n    // return '';\n\n    if (item.hasChildren() && item.is('artboard') === false) {\n\n      if (item['boolean-operation'] !== 'none' && item['boolean-path']) {\n        return iconUse('dark')\n      }\n\n      if (item.isLayout('flex')) {\n        return iconUse(\"flex\");\n      } else if (item.isLayout('grid')) {\n        return iconUse(\"grid\");\n      }\n\n      return iconUse(\"margin\");\n    }\n\n    switch (item.itemType) {\n      case 'artboard':\n        return iconUse('artboard');\n      case 'circle':\n        return iconUse('lens');\n      case 'image':\n        return iconUse('image');\n      case 'text':\n      case 'svg-text':\n        return iconUse('title');\n      case 'svg-textpath':\n        return iconUse('text_rotate');\n      case 'svg-path':\n        return iconUse('pentool');\n      case 'polygon':\n        return iconUse('polygon');        \n      case 'star':\n        return iconUse('star');        \n      case 'spline':\n        return iconUse('smooth');        \n      default:\n        return iconUse('rect');\n    }\n  }\n\n  makeLayerList(parentObject, depth = 0) {\n    if (!parentObject.layers) return '';\n\n    const layers = parentObject.layers\n    const data = []\n\n    for (var last = layers.length - 1; last > -1; last--) {\n      var layer = layers[last];\n\n      var selectedPathClass = this.$selection.hasPathOf(layer) ? 'selected-path' : '';\n      var selectedClass = this.$selection.check(layer) ? 'selected' : '';\n      var hovered = this.$selection.checkHover(layer) ? 'hovered' : '';\n      var name = layer.name;\n\n      if (layer.is('text')) {\n        name = layer.text || layer.name\n      }\n      var title = '';\n\n      if (layer.hasLayout()) {\n        title = this.$i18n('layer.tree.property.layout.title.' + layer.layout)\n      }\n\n      const isHide = layer.isTreeItemHide()\n      const depthPadding = Length.px(depth * 20);\n      const hasChildren = layer.hasChildren()\n      const lock = this.$lockManager.get(layer.id);\n      const visible = this.$visibleManager.get(layer.id);\n\n      data[data.length] = /*html*/`        \n        <div class='layer-item ${selectedClass} ${selectedPathClass} ${hovered}' data-is-group=\"${hasChildren}\" data-depth=\"${depth}\" data-layout='${layer.layout}' data-layer-id='${layer.id}' data-is-hide=\"${isHide}\"  draggable=\"true\">\n          <div class='detail'>\n            <label data-layout-title='${title}' style='padding-left: ${depthPadding}' > \n              <div class='folder ${layer.collapsed ? 'collapsed' : ''}'>${hasChildren ? iconUse('arrow_right') : ''}</div>\n              <span class='icon' data-item-type=\"${layer.itemType}\">${this.getIcon(layer)}</span> \n              <span class='name'>${name}</span>\n            </label>\n            <div class=\"tools\">\n              <button type=\"button\" class=\"lock\" data-lock=\"${lock}\" title='Lock'>${lock ? iconUse('lock') : iconUse('lock_open')}</button>\n              <button type=\"button\" class=\"visible\" data-visible=\"${visible}\" title='Visible'>${iconUse('visible')}</button>\n              <button type=\"button\" class=\"remove\" title='Remove'>${iconUse('remove2')}</button>                          \n            </div>\n          </div>\n        </div>\n\n        ${this.makeLayerList(layer, depth + 1)}\n      `;\n    }\n\n    return data.join(' ');\n  }\n\n  [SUBSCRIBE('refreshContent')](arr) {\n    this.refresh();\n  }\n\n  [LOAD(\"$layerList\") + DOMDIFF]() {\n\n    var project = this.$selection.currentProject;\n    if (!project) return ''\n\n    return [\n      this.makeLayerList(project, 0), \n      /*html*/`\n        <div class='layer-item ' data-depth=\"0\" data-is-last=\"true\">\n        </div>\n      `\n    ]\n  }\n\n  [DRAGSTART('$layerList .layer-item')](e) {\n    var layerId = e.$dt.attr('data-layer-id');\n    e.$dt.addClass(DRAG_START_CLASS);\n    e.dataTransfer.setData('layer/id', layerId);\n    this.state.rootRect = this.refs.$layerList.rect()\n    this.state.itemRect = e.$dt.rect();\n    this.setState({\n      hideDragPointer: false\n    }, false)\n\n    this.bindData('$dragPointer');\n  }\n\n  [DRAGEND('$layerList .layer-item')](e) {\n    this.setState({\n      hideDragPointer: true\n    }, false)\n\n    this.bindData('$dragPointer');\n\n    this.refs.$layerList.$$(`.${DRAG_START_CLASS}`).forEach(it => {\n      it.removeClass(DRAG_START_CLASS);\n    })\n  }\n\n  [DRAGOVER(`$layerList .layer-item:not(.${DRAG_START_CLASS})`) + PREVENT](e) {\n    var targetLayerId = e.$dt.attr('data-layer-id')\n    // console.log({targetLayerId, x: e.offsetX, y: e.offsetY});\n\n    this.state.lastDragOverItemId = targetLayerId;\n    this.state.lastDragOverPosition = e.$dt.rect().top;\n    this.state.lastDragOverOffset = e.offsetY;\n\n    this.bindData('$dragPointer')\n\n  }\n  [DROP(`$layerList .layer-item:not(.${DRAG_START_CLASS})`)](e) {\n    var targetLayerId = e.$dt.attr('data-layer-id')\n    var sourceLayerId = e.dataTransfer.getData('layer/id');\n\n    if (targetLayerId === sourceLayerId) return;\n\n    var targetItem = this.$model.get(targetLayerId);\n    var sourceItem = this.$model.get(sourceLayerId);\n\n    // 자식을 가지지 못하는 컴포넌트는 예외처리 \n    if (targetItem?.enableHasChildren() === false) return;\n    if (targetItem && targetItem.hasParent(sourceItem.id)) return;\n\n    switch (this.state.lastDragOverItemDirection) {\n      case 'self':\n        targetItem.appendChild(sourceItem);\n        break;\n      case 'before':\n        targetItem.appendBefore(sourceItem);\n        break;\n      case 'after':\n        targetItem.appendAfter(sourceItem);\n        break;\n    }\n\n    this.$selection.select(sourceItem);\n\n    this.setState({\n      hideDragPointer: true\n    })\n\n    this.emit('refreshAll')\n  }\n\n  [DOUBLECLICK('$layerList .layer-item')](e) {\n    this.startInputEditing(e.$dt.$('.name'))\n  }\n\n\n\n  modifyDoneInputEditing(input, event) {\n    if (KEY_CODE.enter === event.keyCode) {\n      this.endInputEditing(input, () => {\n        var id = input.closest('layer-item').attr('data-layer-id');\n        var text = input.text();\n\n        this.emit('refreshItemName', id, text)\n      });\n    } else {\n      var id = input.closest('layer-item').attr('data-layer-id');\n      var text = input.text();\n\n      this.emit('refreshItemName', id, text)\n    }\n\n  }\n\n  [KEYDOWN('$layerList .layer-item .name') + STOP](e) {\n    this.modifyDoneInputEditing(e.$dt, e);\n  }\n\n  [FOCUSOUT('$layerList .layer-item .name') + PREVENT + STOP](e) {\n    this.modifyDoneInputEditing(e.$dt, { keyCode: KEY_CODE.enter });\n  }\n\n  selectLayer(layer) {\n\n    if (layer) {\n      this.$selection.select(layer)\n    }\n\n    this.refresh()\n    this.emit('refreshSelection');\n  }\n\n  addLayer(layer) {\n    if (layer) {\n      this.$selection.select(layer);\n\n      this.emit('refreshArtboard')\n    }\n  }\n\n  [CLICK('$add')](e) {\n\n    this.emit('newComponent', 'rect', {\n      'background-color': '#ececec',\n      width: Length.px(200),\n      height: Length.px(100)\n    });\n  }\n\n  [CLICK('$layerList .layer-item label .name')](e) {\n\n    var $item = e.$dt.closest('layer-item')\n    $item.onlyOneClass('selected');\n\n    var id = $item.attr('data-layer-id');\n    this.$selection.select(id)\n\n    this.command('refreshSelection');\n  }\n\n  [CLICK('$layerList .layer-item label .folder')](e) {\n    var $item = e.$dt.closest('layer-item')\n    var id = $item.attr('data-layer-id');\n    var item = this.$model.get(id);\n\n    item.reset({\n      collapsed: !item.collapsed\n    })\n\n    this.refresh();\n\n  }\n\n  [CLICK('$layerList .layer-item .visible')](e) {\n    var $item = e.$dt.closest('layer-item')\n    var id = $item.attr('data-layer-id');\n\n    this.$visibleManager.toggle(id);\n\n    var visible = this.$visibleManager.get(id);\n    e.$dt.attr('data-visible', visible);\n\n    this.emit('refreshVisibleView');\n\n  }\n\n  [CLICK('$layerList .layer-item .remove')](e) {\n    var $item = e.$dt.closest('layer-item')\n    var id = $item.attr('data-layer-id');\n\n    this.command('removeLayer', 'remove a layer', [id]);\n\n    this.nextTick(() => {\n      this.refresh();\n    }, 1000)\n\n\n    // this.emit('refreshArtboard');\n  }\n\n\n  [CLICK('$layerList .layer-item .lock')](e) {\n    var $item = e.$dt.closest('layer-item')\n    var id = $item.attr('data-layer-id');\n\n    this.$lockManager.toggle(id);\n    var lastLock = this.$lockManager.get(id);\n    e.$dt.attr('data-lock', lastLock);\n\n    // 클릭한게 lock 이고, selection 에 포함 되어 있으면 selection 영역에서 제외한다. \n    if (lastLock) {\n      this.$selection.removeById(id);\n      this.emit('refreshSelection');\n    }\n  }\n\n\n  [SUBSCRIBE('changeHoverItem')]() {\n    this.refs.$layerList.$$('.hovered').forEach(it => {\n      it.removeClass('hovered')\n    })\n\n\n    if (this.$selection.hoverItems.length) {\n      var selector = this.$selection.hoverItems.map(it => {\n        return `[data-layer-id=\"${it.id}\"]`\n      }).join(',')\n      this.refs.$layerList.$$(selector).forEach(it => {\n        it.addClass('hovered')\n      })\n    }\n  }\n\n\n  [SUBSCRIBE_SELF('changeSelection')](isSelection = false) {\n    if (isSelection && this.refs.$layerList) {\n      this.refs.$layerList.$$('.selected').forEach(it => {\n        it.removeClass('selected')\n      })\n\n      this.refs.$layerList.$$('.selected-path').forEach(it => {\n        it.removeClass('selected-path')\n      })\n\n      var selector = this.$selection.items.map(it => {\n        return `[data-layer-id=\"${it.id}\"]`\n      }).join(',')\n\n      if (selector) {\n        this.refs.$layerList.$$(selector).forEach(it => {\n\n          it.addClass('selected')\n\n          var item = this.$selection.itemKeys[it.attr('data-layer-id')]\n          if (item.is('svg-path', 'svg-polygon')) {\n            it.$('.icon').html(this.getIcon(item));\n          }\n\n\n\n        })\n      }\n    }\n  }\n\n  [SUBSCRIBE('refreshSelection')]() {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshStylePosition')]() {\n    this.trigger('changeSelection')\n  }\n\n  [SUBSCRIBE('refreshLayerTreeView') + THROTTLE(100)]() {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('changeItemLayout')]() {\n    this.refresh();\n  }\n\n  [CONFIG('bodyEvent')]() {\n    const $target = Dom.create(this.$config.get('bodyEvent').target);\n    const $layerItem = $target.closest('layer-item');\n\n    if ($layerItem) {\n      this.emit('refreshHoverView', $layerItem.data('layer-id'));\n    }\n  }\n\n\n}\n","import { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class FlexLayoutEditor extends EditorElement {\n\n\n    getDirectionOptions () {\n        return this.makeOptionsFunction('row,column,row-reverse,column-reverse')\n    } \n    \n    getWrapOptions () {\n        return this.makeOptionsFunction('nowrap,wrap,wrap-reverse')\n    }\n\n    getJustifyContentOptions () {\n        return this.makeOptionsFunction('flex-start,flex-end,center,space-between,space-around')\n    }\n\n    getAlignItemsOptions() {\n        return this.makeOptionsFunction('flex-start,flex-end,center,baseline,stretch')\n    }\n\n    getAlignContentOptions() {\n        return this.makeOptionsFunction('flex-start,flex-end,center,space-between,space-around,stretch')\n    }\n\n    makeOptionsFunction (options) {\n        return variable(options.split(',').map(it => {\n            return { value: it, text: this.$i18n('flex.layout.editor.' + it) }\n        }));\n    }\n\n    initState() {\n        return {\n            ...STRING_TO_CSS(this.props.value),\n        }\n    }\n\n    setValue (value) {\n        this.setState({\n            ...STRING_TO_CSS(value),\n        })\n    }\n\n    getValue () {\n        return CSS_TO_STRING(this.state)\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n    [LOAD('$body')] () {\n        return /*html*/`\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.editor.direction')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='flex-direction'\n                    value=\"${this.state['flex-direction'] || 'row'}\"\n                    options=\"${this.getDirectionOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.editor.wrap')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='flex-wrap'\n                    value=\"${this.state['flex-wrap'] || 'wrap'}\"\n                    options=\"${this.getWrapOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.editor.justify-content')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='justify-content'\n                    value=\"${this.state['justify-content'] || 'flex-start'}\"\n                    options=\"${this.getJustifyContentOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.editor.align-items')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='align-items'\n                    value=\"${this.state['align-items'] || 'flex-start'}\"\n                    options=\"${this.getAlignItemsOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.editor.align-content')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='align-content'\n                    value=\"${this.state['align-content'] || 'flex-start'}\"\n                    options=\"${this.getAlignContentOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        `\n    }\n\n    template () {\n        return /*html*/`\n            <div class='flex-layout-editor' ref='$body' ></div>\n        `\n    }\n\n\n    [SUBSCRIBE_SELF('changeKeyValue')] (key, value, params) {\n\n        this.setState({\n            [key]: value\n        }, false)\n\n        this.modifyData();\n    }\n}","import { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\n\nexport default class FlexLayoutItemEditor extends EditorElement {\n\n\n    initState() {\n        return {\n            ...STRING_TO_CSS(this.props.value),\n        }\n    }\n\n    setValue (value) {\n        this.setState(STRING_TO_CSS(value))\n    }\n\n    getValue () {\n        return CSS_TO_STRING(this.state)\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n    [LOAD('$body')] () {\n        return /*html*/`\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.item.editor.direction')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='flex-direction'\n                    value=\"${this.state['flex-direction'] || 'row'}\"\n                    options=\"${getDirectionOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.item.editor.wrap')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='flex-wrap'\n                    value=\"${this.state['flex-wrap'] || 'wrap'}\"\n                    options=\"${getWrapOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.item.editor.justify-content')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='justify-content'\n                    value=\"${this.state['justify-content']}\"\n                    options=\"${getJustifyContentOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.item.editor.align-items')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='align-items'\n                    value=\"${this.state['align-items']}\"\n                    options=\"${getAlignItemsOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>${this.$i18n('flex.layout.item.editor.align-content')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='align-content'\n                    value=\"${this.state['align-content']}\"\n                    options=\"${getAlignContentOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        `\n    }\n\n    template () {\n        return /*html*/`\n            <div class='flex-layout-editor' ref='$body' ></div>\n        `\n    }\n\n\n    [SUBSCRIBE_SELF('changeKeyValue')] (key, value, params) {\n\n        this.setState({\n            [key]: value\n        }, false)\n\n        this.modifyData();\n    }\n}","\nimport { DEBOUNCE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './FlexLayoutItemProperty.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class FlexLayoutItemProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('flex.layout.item.property.title');\n  }\n\n  getClassName() {\n    return 'elf--flex-layout-item-property';\n  }\n\n  getLayoutOptions () {\n    return variable(['none', 'auto', 'value'].map(it => {\n        return {value: it, text: this.$i18n(`flex.layout.item.property.${it}`) }\n    }));\n  }\n\n  getBody() {\n    return /*html*/`\n        <div class='property-item' ref='$body'></div>\n      `;\n  }  \n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || { 'flex-layout-item' : 'none' }\n\n    var valueType = current['flex-layout-item'] || 'none';\n\n    var arr = [] \n    if (['none', 'auto'].includes(valueType) === false) {\n      arr  = valueType.split(' ');\n    }\n\n    if (arr.length > 0) {\n      valueType = 'value'\n    }\n\n    return /*html*/`\n      <div class='layout-select'>\n        <object refClass=\"SelectIconEditor\" \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"${valueType}\"\n        options=\"${this.getLayoutOptions()}\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='${current.layout}'>\n        <div data-value='none'></div>\n        <div data-value='auto'></div>\n        <div data-value='value'>\n          <div class='value-item'>\n            <object refClass=\"RangeEditor\"  ref='$grow' label='${this.$i18n('flex.layout.item.property.grow')}' key=\"flex-grow\" value=\"${arr[0]}\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeFlexItem' />\n          </div>\n          <div class='value-item'>\n            <object refClass=\"RangeEditor\"  ref='$shrink' label='${this.$i18n('flex.layout.item.property.shrink')}' key=\"flex-shrink\" value=\"${arr[1]}\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeFlexItem' />\n          </div>\n          <div class='value-item'>\n            <object refClass=\"RangeEditor\"  ref='$basis' label='${this.$i18n('flex.layout.item.property.basis')}' key=\"flex-basis\" value=\"${arr[2]}\" min='0' units=\"px,em,%,auto\" onchange='changeFlexItem' />\n          </div>                    \n        </div>\n      </div>\n    `\n  }\n\n  getFlexItemValue  (value) {\n    return value.unit === 'auto' ? 'auto' : value + \"\";\n  }\n\n  getFlexValue () {\n\n    var grow = this.children.$grow.getValue();\n    var shrink = this.children.$shrink.getValue();\n    var basis = this.children.$basis.getValue();\n\n    grow = this.getFlexItemValue(grow);\n    shrink = this.getFlexItemValue(shrink);\n    basis = this.getFlexItemValue(basis);\n\n    return CSS_TO_STRING({\n      flex: `${grow} ${shrink} ${basis}`\n    })\n  }\n\n  [SUBSCRIBE_SELF('changeFlexItem')] (key, value) {\n\n    this.command('setAttributeForMulti', 'change flex layout', this.$selection.packByValue({ \n      'flex-layout-item': this.getFlexValue()\n    }))\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')    \n    })\n  }\n\n  [SUBSCRIBE_SELF('changeLayoutType')] (key, value) {\n\n    var valueType = this.children.$layout.getValue()\n    var value = valueType;\n\n    if (valueType === 'value') {\n      value = this.getFlexValue()\n    }\n\n    this.command('setAttributeForMulti', 'change flex layout', this.$selection.packByValue({ \n      'flex-layout-item': value\n    }))\n\n    // 타입 변화에 따른 하위 아이템들의 설정을 바꿔야 한다. \n    this.refs.$layoutList.attr('data-selected-value', valueType);\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')    \n    })\n\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(() => {\n      var current = this.$selection.current; \n      return  current && current.isInFlex()\n    });\n  }\n}","\nimport { LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { variable } from 'el/sapa/functions/registElement';\nimport './GridBoxEditor.scss';\nimport { clone } from 'el/sapa/functions/func';\n\n\nconst REG_CSS_UNIT = /(auto)|(repeat\\([^\\)]*\\))|(([\\d.]+)(px|pt|fr|r?em|deg|vh|vw|%))/gi;\n\n\nexport default class GridBoxEditor extends EditorElement {\n\n\n    getLayoutItemOptions () {\n        return variable('none,auto,repeat,length'.split(',').map(it => {\n            return {value: it, text: this.$i18n(`grid.box.editor.${it}`) }\n        }));\n    }\n\n    initState() {\n        return {\n            label: this.props.label,\n            list: this.parseValue(this.props.value)\n        }\n    }\n\n    setValue (value) {\n        this.setState({\n            list: this.parseValue(value)\n        })\n    }\n\n    parseValue (value) {\n        let arr = null; \n\n        var target = [] \n\n        while ((arr = REG_CSS_UNIT.exec(value)) !== null) {\n            var text = arr[0];\n            if (text === 'auto') {\n                target.push({ type: 'auto', count:  0, value: '0px' })\n            } else  if (text.includes('repeat'))  { \n                var tempArray = text.split('repeat(')[1].split(')')\n                tempArray.pop();\n\n                let [count, ...size] = tempArray.join('').split(',');\n\n                target.push({ type: 'repeat', count, value: size.join(', ')  })\n            } else {\n                target.push({ type: 'length', count: 1, value: text })\n            }\n        }\n\n        return target; \n    }\n\n    getValue () {\n        return this.state.list.map(it => {\n            if (it.type === 'repeat') {\n                return `repeat(${it.count}, ${it.value})`\n            } else if (it.type === 'auto' || it.type === 'none') {\n                return it.type;\n            } else {\n                return it.value\n            }\n\n        }).join(' ');\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n    makeItem (it, index) {\n        return /*html*/`\n            <div class='item' data-repeat-type='${it.type}' data-index='${index}' >\n                <div class='repeat'>\n                    <object refClass=\"SelectEditor\" \n                        ref='$${index}-type' \n                        options=\"${this.getLayoutItemOptions()}\" \n                        key=\"type\" \n                        value=\"${it.type || 'auto'}\" \n                        params=\"${index}\" \n                        onchange=\"changeKeyValue\" />\n                </div>\n                <div class='count'>\n                    <object refClass=\"NumberInputEditor\" \n                        ref='$${index}-count' \n                        key=\"count\" \n                        value=\"${it.count}\" \n                        params=\"${index}\" \n                        max='1000'\n                        onchange=\"changeKeyValue\" />\n                </div>                \n                <div class='value'>\n                    <object refClass=\"InputRangeEditor\" \n                        ref='$${index}-value' \n                        key=\"value\" \n                        value=\"${it.value}\" \n                        params=\"${index}\" \n                        units='auto,fr,px,em,%'\n                        onchange=\"changeKeyValue\" />\n                </div>\n                <div class='tools'>\n                    <button type=\"button\" class='copy'>${icon.copy}</button>                \n                    <button type=\"button\" class='remove'>${icon.remove2}</button>\n                </div>\n            </div>\n        `\n    }\n\n    [LOAD('$list')] () {\n        return this.state.list.map( (it, index) => {\n            return this.makeItem(it, index);\n        })\n    }\n\n    template () {\n        return /*html*/`\n            <div class='elf--grid-box-editor' ref='$body' >\n                <div class='grid-box-editor-item'>\n                    <div class='item header'>\n                        <div class='repeat'>\n                            <label>${this.state.label} </label>\n                            <button type='button' ref='$add'>${icon.add}</button>\n                        </div>\n                        <div class='count'>${this.$i18n('grid.box.editor.count')}</div>\n                        <div class='value'>${this.$i18n('grid.box.editor.value')}</div>\n                        <div class='tools'></div>\n                    </div>\n                    <div ref='$list'></div>\n                </div>\n            </div>\n        `\n    }\n\n    [CLICK('$list .remove')] (e) {\n        var index = +e.$dt.closest('item').attr('data-index')\n        this.state.list.splice(index, 1);\n\n        this.refresh();\n\n        this.modifyData()        \n    }\n\n    [CLICK('$list .copy')] (e) {\n        var index = +e.$dt.closest('item').attr('data-index')\n\n        var newObj = clone(this.state.list[index]);\n        this.state.list.splice(index, 0, newObj);\n\n        this.refresh();\n\n        this.modifyData()        \n    }    \n\n    [CLICK('$add')] () {\n        this.trigger('add');\n    }\n\n    [SUBSCRIBE('add')] () {\n        this.state.list.push({ type: 'auto', count: 0, value: '0px'}) \n        this.refresh();\n        \n        this.modifyData()                \n    }\n\n\n    [SUBSCRIBE_SELF('changeKeyValue')] (key, value, params) {\n\n        var index = +params\n\n        var item = this.state.list[index]\n\n        if (item) {\n            if (key ===  'type') {\n                this.refs.$list.$(`[data-index=\"${index}\"]`).attr('data-repeat-type', value)\n            }\n            item[key] = value; \n        }\n\n        this.modifyData();\n    }\n}","\nimport { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Length } from \"el/editor/unit/Length\";\n\nexport default class GridGapEditor extends EditorElement {\n\n    initState() {\n        return {\n            label: this.props.label,\n            value: this.parseValue(this.props.value)\n        }\n    }\n\n    setValue (value) {\n        this.setState({\n            list: this.parseValue(value)\n        })\n    }\n\n    parseValue (value) {\n        return Length.parse(value);\n    }\n\n    getValue () {\n        return this.state.value\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n    makeItem () {\n        return /*html*/`\n            <div class='item'>\n                <div class='value'>\n                    <object refClass=\"RangeEditor\" \n                        label='${this.state.label}' \n                        ref='$value' \n                        key=\"value\" \n                        value=\"${this.state.value}\" \n                        units='px,em,%'\n                        onchange=\"changeKeyValue\" />\n                </div>\n            </div>\n        `\n    }\n\n    [LOAD('$list')] () {\n        return this.makeItem();\n    }\n\n    template () {\n        return /*html*/`\n            <div class='grid-gap-editor' ref='$body' >\n                <div class='grid-gap-editor-item'>\n                    <div ref='$list'></div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [SUBSCRIBE_SELF('changeKeyValue')] (key, value) {\n\n        this.state.value = value;\n\n        this.modifyData();\n    }\n}","\nimport { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './GridLayoutEditor.scss';\n\nexport default class GridLayoutEditor extends EditorElement {\n\n    initState() {\n        return {\n            ...STRING_TO_CSS(this.props.value),\n        }\n    }\n\n    setValue (value) {\n        this.setState({\n            ...STRING_TO_CSS(value),\n        })\n    }\n\n    getValue () {\n        return CSS_TO_STRING(this.state)\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n\n    template () {\n        return /*html*/`\n            <div class='elf--grid-layout-editor' ref='$body' ></div>\n        `\n    }    \n\n    [LOAD('$body')] () {\n        return /*html*/`\n            <div class='grid-layout-item'>\n                <object refClass=\"GridBoxEditor\" \n                    label='${this.$i18n('grid.layout.editor.template.columns')}'\n                    ref='$columnBox'\n                    key='grid-template-columns'\n                    value=\"${this.state['grid-template-columns'] || ''}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <object refClass=\"GridGapEditor\" \n                    label='${this.$i18n('grid.layout.editor.column.gap')}'\n                    key='grid-column-gap'\n                    value=\"${this.state['grid-column-gap'] || ''}\"\n                    onchange='changeKeyValue'\n                />\n            </div>            \n            <div class='grid-layout-item'>\n                <object refClass=\"GridBoxEditor\" \n                    label='${this.$i18n('grid.layout.editor.template.rows')}'\n                    ref='$rowBox'\n                    key='grid-template-rows'\n                    value=\"${this.state['grid-template-rows'] || ''}\"\n                    onchange='changeKeyValue'\n                />\n            </div>            \n            <div class='grid-layout-item'>\n                <object refClass=\"GridGapEditor\" \n                    label='${this.$i18n('grid.layout.editor.row.gap')}'                \n                    key='grid-row-gap'\n                    value=\"${this.state['grid-row-gap'] || ''}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n        `\n    }\n\n\n\n    [SUBSCRIBE_SELF('changeKeyValue')] (key, value, params) {\n\n        this.setState({\n            [key]: value\n        }, false)\n\n        this.modifyData();\n    }\n}","\nimport { LOAD, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\n\nexport default class GridLayoutItemEditor extends EditorElement {\n\n    initState() {\n        return {\n            ...STRING_TO_CSS(this.props.value),\n        }\n    }\n\n    setValue (value) {\n        this.setState(STRING_TO_CSS(value))\n    }\n\n    getValue () {\n        return CSS_TO_STRING(this.state)\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n    [LOAD('$body')] () {\n        return /*html*/`\n            <div class='grid-layout-item'>\n                <div class='label'><label>${this.$i18n('grid.layout.item.editor.direction')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='grid-direction'\n                    value=\"${this.state['grid-direction'] || 'row'}\"\n                    options=\"${getDirectionOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>${this.$i18n('grid.layout.item.editor.wrap')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='grid-wrap'\n                    value=\"${this.state['grid-wrap'] || 'wrap'}\"\n                    options=\"${getWrapOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>${this.$i18n('grid.layout.item.editor.justify-content')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='justify-content'\n                    value=\"${this.state['justify-content']}\"\n                    options=\"${getJustifyContentOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>${this.$i18n('grid.layout.item.editor.align-items')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='align-items'\n                    value=\"${this.state['align-items']}\"\n                    options=\"${getAlignItemsOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>${this.$i18n('grid.layout.item.editor.align-content')}</label></div>\n                <object refClass=\"SelectIconEditor\" \n                    key='align-content'\n                    value=\"${this.state['align-content']}\"\n                    options=\"${getAlignContentOptions()}\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        `\n    }\n\n    template () {\n        return /*html*/`\n            <div class='grid-layout-editor' ref='$body' ></div>\n        `\n    }\n\n\n    [SUBSCRIBE_SELF('changeKeyValue')] (key, value, params) {\n\n        this.setState({\n            [key]: value\n        }, false)\n\n        this.modifyData();\n    }\n}","import { DEBOUNCE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"el/utils/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './GridLayoutItemProperty.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class GridLayoutItemProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('grid.layout.item.property.title');\n  }\n\n\n  getLayoutOptions () {\n    return variable(['none', 'value'].map(it => {\n        return {value: it, text: this.$i18n(`grid.layout.item.property.${it}`) }\n    }));\n  }\n\n  getClassName() {\n    return 'elf--grid-layout-item-property';\n  }\n\n  getBody() {\n    return /*html*/`\n        <div class='property-item' ref='$body'></div>\n      `;\n  }  \n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || { 'grid-layout-item' : 'none' }\n\n    var valueType = current['grid-layout-item'] || 'none';\n\n    var obj = {}\n    if (['none'].includes(valueType) === false) {\n      obj  = STRING_TO_CSS(current['grid-layout-item'])\n    }\n\n    if (Object.keys(obj).length > 0) {\n      valueType = 'value'\n    }\n\n    return /*html*/`\n      <div class='layout-select'>\n        <object refClass=\"SelectIconEditor\" \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"${valueType}\"\n        options=\"${this.getLayoutOptions()}\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='${valueType}'>\n        <div data-value='none'></div>\n        <div data-value='value'>\n          <div class='value-item'>\n            <label></label>\n            <div>${this.$i18n('grid.layout.item.property.start')}</div>\n            <div>${this.$i18n('grid.layout.item.property.end')}</div>\n          </div>\n          <div class='value-item'>\n            <label>${this.$i18n('grid.layout.item.property.column')}</label>\n            <div>\n              <object refClass=\"NumberInputEditor\"  ref='$columnStart' key=\"grid-column-start\" value=\"${obj['grid-column-start'] || '0'}\" min='0' onchange='changeGridItem' />\n            </div>\n            <div>\n              <object refClass=\"NumberInputEditor\"  ref='$columnEnd' key=\"grid-column-end\" value=\"${obj['grid-column-end'] || '0'}\" min='0' onchange='changeGridItem' />\n            </div>            \n          </div>\n          <div class='value-item'>\n            <label>${this.$i18n('grid.layout.item.property.row')}</label>\n            <div>\n              <object refClass=\"NumberInputEditor\"  ref='$rowStart' key=\"grid-row-start\" value=\"${obj['grid-row-start'] || '0'}\" min='0' onchange='changeGridItem' />\n            </div>\n            <div>\n              <object refClass=\"NumberInputEditor\"  ref='$rowEnd' key=\"grid-row-end\" value=\"${obj['grid-row-end'] || '0'}\" min='0' onchange='changeGridItem' />\n            </div>            \n          </div>          \n        </div>\n      </div>\n    `\n  }\n\n  getGridValue () {    \n\n    var obj = {\n      'grid-column-start': this.children.$columnStart.getValue(),\n      'grid-column-end': this.children.$columnEnd.getValue(),\n      'grid-row-start': this.children.$rowStart.getValue(),\n      'grid-row-end': this.children.$rowEnd.getValue(),\n    }\n\n\n\n    return CSS_TO_STRING(obj)\n  }\n\n  [SUBSCRIBE_SELF('changeGridItem')] (key, value) {\n\n    this.command('setAttributeForMulti', 'change grid layout item', this.$selection.packByValue({ \n      'grid-layout-item': this.getGridValue()\n    }))\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')\n    })\n\n  }\n\n  [SUBSCRIBE_SELF('changeLayoutType')] (key, value) {\n\n    var valueType = this.children.$layout.getValue()\n    var value = valueType;\n\n    if (valueType === 'value') {\n      value = this.getGridValue()\n    }\n\n    this.command('setAttributeForMulti', 'change grid layout item', this.$selection.packByValue({ \n      'grid-layout-item': value\n    }))\n\n    // 타입 변화에 따른 하위 아이템들의 설정을 바꿔야 한다. \n    this.refs.$layoutList.attr('data-selected-value', valueType);\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')    \n    })\n\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(() => {\n      var current = this.$selection.current; \n      return  current && current.isInGrid()\n    });\n  }\n}","\nimport { IF, LOAD, SUBSCRIBE, SUBSCRIBE_SELF} from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './LayoutProperty.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class LayoutProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('layout.property.title');\n  }\n\n  getLayoutOptions () {\n    return variable(['default', 'flex', 'grid'].map(it => {\n        return { value: it, text: this.$i18n(`layout.property.${it}`) }\n    }));\n  }\n\n  getClassName() {\n    return 'elf--layout-property';\n  }\n\n  getBody() {\n    return /*html*/`\n        <div class='property-item' ref='$layoutType'></div>\n      `;\n  }  \n\n  [LOAD('$layoutType')] () {\n    var current = this.$selection.current || { layout : 'default' }\n    return /*html*/`\n      <div class='layout-select'>\n        <object refClass=\"SelectIconEditor\" \n          ref='$layout' \n          key='layout' \n          icon=\"true\" \n          value=\"${current.layout}\"\n          options=\"${this.getLayoutOptions()}\"  \n          colors=\",green,red\"\n          onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList'>\n        <div data-value='default' class='${current.layout === 'default' ? 'selected': ''}'></div>\n        <div data-value='flex' class='${current.layout === 'flex' ? 'selected': ''}'>\n          <object refClass=\"FlexLayoutEditor\" ref='$flex' key='flex-layout' value=\"${current['flex-layout'] || ''}\" onchange='changeLayoutInfo' />\n        </div>\n        <div data-value='grid' class='${current.layout === 'grid' ? 'selected': ''}'>\n          <object refClass=\"GridLayoutEditor\" ref='$grid' key='grid-layout' value=\"${current['grid-layout'] || ''}\" onchange='changeLayoutInfo' />\n        </div>\n      </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeLayoutInfo')] (key, value) {\n    this.command('setAttributeForMulti', 'change layout info', this.$selection.packByValue({ \n      [key]: value\n    }))\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize');    \n    })\n\n  }\n\n  [SUBSCRIBE_SELF('changeLayoutType')] (key, value) {\n\n    this.$selection.reset(this.$selection.packByValue({ \n      [key]: value\n    }))\n\n    this.command('setAttributeForMulti', 'change layout type', this.$selection.packByValue({ \n      [key]: value\n    }))\n\n    this.nextTick(() => {\n      this.refresh();\n      this.emit('refreshAllElementBoundSize');\n      this.emit('changeItemLayout')\n    })\n\n  }\n\n  get editableProperty() {\n    return 'layout'\n  }\n\n  hasChildren() {\n    return this.$selection.current.hasChildren();\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow') + IF(\"hasChildren\")]() {\n    this.refresh();\n  }\n}","\nimport { DEBOUNCE, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './DefaultLayoutItemProperty.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class DefaultLayoutItemProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('flex.layout.item.property.title');\n  }\n\n  getClassName() {\n    return 'elf--flex-layout-item-property';\n  }\n\n  getLayoutOptions () {\n    return variable(['none', 'auto', 'value'].map(it => {\n        return {value: it, text: this.$i18n(`flex.layout.item.property.${it}`) }\n    }));\n  }\n\n  getBody() {\n    return /*html*/`\n        <div class='property-item' ref='$body'></div>\n      `;\n  }  \n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || { 'flex-layout-item' : 'none' }\n\n    var valueType = current['flex-layout-item'] || 'none';\n\n    var arr = [] \n    if (['none', 'auto'].includes(valueType) === false) {\n      arr  = valueType.split(' ');\n    }\n\n    if (arr.length > 0) {\n      valueType = 'value'\n    }\n\n    return /*html*/`\n      <div class='layout-select'>\n        <object refClass=\"SelectIconEditor\" \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"${valueType}\"\n        options=\"${this.getLayoutOptions()}\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='${current.layout}'>\n        <div data-value='none'></div>\n        <div data-value='auto'></div>\n        <div data-value='value'>\n          <div class='value-item'>\n            <object refClass=\"RangeEditor\"  ref='$grow' label='${this.$i18n('flex.layout.item.property.grow')}' key=\"flex-grow\" value=\"${arr[0]}\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeDefaultItem' />\n          </div>\n          <div class='value-item'>\n            <object refClass=\"RangeEditor\"  ref='$shrink' label='${this.$i18n('flex.layout.item.property.shrink')}' key=\"flex-shrink\" value=\"${arr[1]}\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeDefaultItem' />\n          </div>\n          <div class='value-item'>\n            <object refClass=\"RangeEditor\"  ref='$basis' label='${this.$i18n('flex.layout.item.property.basis')}' key=\"flex-basis\" value=\"${arr[2]}\" min='0' units=\"px,em,%,auto\" onchange='changeDefaultItem' />\n          </div>                    \n        </div>\n      </div>\n    `\n  }\n\n  getDefaultItemValue  (value) {\n    return value.unit === 'auto' ? 'auto' : value + \"\";\n  }\n\n  getDefaultValue () {\n\n    var grow = this.children.$grow.getValue();\n    var shrink = this.children.$shrink.getValue();\n    var basis = this.children.$basis.getValue();\n\n    grow = this.getDefaultItemValue(grow);\n    shrink = this.getDefaultItemValue(shrink);\n    basis = this.getDefaultItemValue(basis);\n\n    return CSS_TO_STRING({\n      flex: `${grow} ${shrink} ${basis}`\n    })\n  }\n\n  [SUBSCRIBE_SELF('changeDefaultItem')] (key, value) {\n\n    this.command('setAttributeForMulti', 'change flex layout', this.$selection.packByValue({ \n      'flex-layout-item': this.getDefaultValue()\n    }))\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')    \n    })\n  }\n\n  [SUBSCRIBE_SELF('changeLayoutType')] (key, value) {\n\n    var valueType = this.children.$layout.getValue()\n    var value = valueType;\n\n    if (valueType === 'value') {\n      value = this.getDefaultValue()\n    }\n\n    this.command('setAttributeForMulti', 'change flex layout', this.$selection.packByValue({ \n      'flex-layout-item': value\n    }))\n\n    // 타입 변화에 따른 하위 아이템들의 설정을 바꿔야 한다. \n    this.refs.$layoutList.attr('data-selected-value', valueType);\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')    \n    })\n\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(() => {\n      var current = this.$selection.current; \n      return  current && current.isInDefault()\n    });\n  }\n}","import check from \"./check\";\nimport grid from \"./grid\";\nimport dot from \"./dot\";\nimport crossdot from \"./cross-dot\";\nimport diagonalLine from \"./diagonal-line\";\nimport verticalLine from \"./vertical-line\";\nimport horizontalLine from \"./horizontal-line\";\n\n\n\nexport default [\n    check,\n    grid,\n    dot,\n    crossdot,\n    diagonalLine,\n    verticalLine,\n    horizontalLine\n]","export default { \n    key: 'check', \n    title: 'Check',\n    execute: function () {\n        return [\n            { pattern: `check(20px 20px, 10px 10px, black, transparent)` },\n            { pattern: `check(40px 40px, 20px 20px, black, transparent)` },\n            { pattern: `check(60px 60px, 30px 30px, #DDB104, rgba(254,240,188,0))` },\n            { pattern: `check(80px 80px, 40px 40px, #DDB104, rgba(254,240,188,0))` },\n            { pattern: `check(100px 100px, 50px 50px, #DCF3DC, transparent)` },\n            { pattern: `check(200px 200px, 100px 100px, #102C45, transparent)` },\n        ]\n    }\n}","export default { \n    key: 'grid', \n    title: 'Grid',\n    execute: function () {\n        return [\n            { pattern: `grid(20px 20px, 10px 10px, black, transparent)` },\n            { pattern: `grid(40px 40px, 20px 20px, black, transparent)` },\n            { pattern: `grid(60px 60px, 30px 30px, #DDB104, rgba(254,240,188,0))` },\n            { pattern: `grid(80px 80px, 40px 40px, #DDB104, rgba(254,240,188,0))` },\n            { pattern: `grid(100px 100px, 50px 50px, #DCF3DC, transparent)` },\n            { pattern: `grid(200px 200px, 100px 100px, #102C45, transparent)` },\n        ]\n    }\n}","export default { \n    key: 'dot', \n    title: 'Dot',\n    execute: function () {\n        return [\n            { pattern: `dot(20px 20px, 10px 10px, #B7C4CD, white, normal, 1px)` },\n            { pattern: `dot(40px 40px, 20px 20px, #E7393F, #FEF0BC, normal, 2px)` },\n            { pattern: `dot(60px 60px, 30px 30px, #E7393F, black, normal, 3px)` },\n            { pattern: `dot(80px 80px, 40px 40px, #B7C4CD, white, normal, 4px)` },\n        ]\n    }\n}","export default { \n    key: 'cross-dot', \n    title: 'Cross Dot',\n    execute: function () {\n        return [\n            { pattern: `cross-dot(20px 20px, 10px 10px, #B7C4CD, white, normal, 1px)` },\n            { pattern: `cross-dot(40px 40px, 20px 20px, #DDB104, #FEF0BC, normal, 4px)` },\n            { pattern: `cross-dot(60px 60px, 30px 30px, #35DB92, #DCF9EC, normal, 6px)` },\n        ]\n    }\n}","export default { \n    key: 'diagonal-line', \n    title: 'Diagonal Line',\n    execute: function () {\n        return [\n            { pattern: `diagonal-line(10px 10px, 45deg, #B7C4CD, white, normal, 1px)` },\n            { pattern: `diagonal-line(25px 25px, 90deg, #DDB104, #FEF0BC, normal, 2px)` },\n            { pattern: `diagonal-line(50px 50px, 135deg, #35DB92, #DCF9EC, normal, 3px)` },\n        ]\n    }\n}","export default { \n    key: 'vertical-line', \n    title: 'Vertical Line',\n    execute: function () {\n        return [\n            { pattern: `vertical-line(10px 10px, 0, #B7C4CD, white, normal, 1px)` },\n            { pattern: `vertical-line(25px 25px, 0, #DDB104, #FEF0BC, normal, 2px)` },\n            { pattern: `vertical-line(50px 50px, 0, black, rgba(231,57,63,0.9), normal, 1px)` },\n        ]\n    }\n}","export default { \n    key: 'horizontal-line', \n    title: 'Horizontal Line',\n    execute: function () {\n        return [\n            { pattern: `horizontal-line(10px 10px, 0, #B7C4CD, white, normal, 1px)` },\n            { pattern: `horizontal-line(25px 25px, 0, #DDB104, #FEF0BC, normal, 2px)` },\n            { pattern: `horizontal-line(50px 50px, 0, #35DB92, #DCF9EC, normal, 3px)` },\n        ]\n    }\n}","\nimport { LOAD, DEBOUNCE, DRAGSTART, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\n\nimport patterns from \"el/editor/preset/patterns\";\nimport { Pattern } from \"el/editor/property-parser/Pattern\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './PatternAssetsProperty.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class PatternAssetsProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('pattern.asset.property.title');\n  }\n\n  initState() {\n    return {\n      mode: 'grid',\n      preset: 'check'      \n    }\n  }\n\n\n  getTools() {\n\n    const options = variable(patterns.map(it => {\n      return { value: it.key, text: it.title } \n    }));\n\n    return /*html*/`\n      <object refClass=\"SelectEditor\"  key=\"preset\" value=\"${this.state.preset}\" options=\"${options}\" onchange=\"changePreset\"  />\n    `\n  }  \n\n\n  [SUBSCRIBE_SELF('changePreset')] (key, value) {\n\n    this.setState({\n      [key]: value\n    })\n  }\n\n  getClassName() {\n    return 'elf--pattern-assets-property'\n  }\n\n  get editableProperty() {\n    return \"pattern\";\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')] () {\n    \n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item pattern-assets'>\n        <div class='pattern-list' ref='$patternList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [DRAGSTART('$patternList .pattern-item')] (e) {\n    const pattern = e.$dt.attr('data-pattern');\n    e.dataTransfer.effectAllowed = \"copy\";\n    e.dataTransfer.setData(\"text/pattern\", pattern);\n  }\n\n  [LOAD(\"$patternList\")]() {\n    var preset = patterns.find(it => it.key === this.state.preset);\n\n    if (!preset) {\n      return '';\n    }\n\n    var results = preset.execute().map( (item, index) => { \n      const cssText = CSS_TO_STRING(Pattern.toCSS(item.pattern));\n\n      return /*html*/`\n        <div class='pattern-item' data-index=\"${index}\" data-pattern=\"${item.pattern}\">\n          <div class='preview' title=\"${item.title}\" draggable=\"true\">\n            <div class='pattern-view' style='${cssText}'></div>\n          </div>\n        </div>\n      `\n    })\n\n    return results\n  }\n\n\n  [CLICK(\"$patternList .pattern-item\")](e) {\n\n    const pattern = e.$dt.attr('data-pattern')\n\n    // view 에 따라 다른 속성을 가진다. \n    if (this.$modeView.isCurrentMode('CanvasView')) { \n      this.emit('addBackgroundImagePattern', pattern);\n    } else {\n      this.emit('setPatternAsset', pattern)\n    }\n  }  \n\n}","\nimport { LOAD, CLICK, DRAGSTART, DRAGOVER, DROP, PREVENT, DEBOUNCE, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { Pattern } from \"el/editor/property-parser/Pattern\";\nimport patterns from \"el/editor/preset/patterns\";\n\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './PatternEditor.scss';\n\nexport default class PatternEditor extends EditorElement {\n\n    initState() {\n        return {\n            hideLabel: this.props['hide-label'] === 'true' ? true: false,\n            value: this.props.value, \n            patterns : this.parsePattern(this.props.value)\n        }\n    }\n\n    parsePattern(str) {\n        return Pattern.parseStyle(str);\n    }\n\n    setValue (value) {\n        this.setState({\n            value, \n            patterns : this.parsePattern(value)\n        })\n    }\n\n    template () {\n        var labelClass = this.state.hideLabel ? 'hide' : '';\n        return /*html*/`\n            <div class='elf--pattern-editor' >\n                <div class='label ${labelClass}'>\n                    <label>${this.props.title||''}</label>\n                    <div class='tools'>\n                        <button type=\"button\" ref='$add'>${icon.add} ${this.props.title ? '' : 'Add'}</button>\n                    </div>\n                </div>\n                <div class='pattern-list' ref='$patternList'></div>\n            </div>\n        `\n    }\n\n\n    [LOAD('$patternList')] () {\n\n        return this.state.patterns.map((it, index) => {\n\n            const selectedClass = it.selected ? \"selected\" : \"\";\n      \n            if (it.selected) {\n              this.selectedIndex = index;\n            }\n\n            return /*html*/`\n            <div class='pattern-item ${selectedClass}' data-index='${index}' ref=\"fillIndex${index}\"  draggable='true'>\n                <object refClass=\"PatternSizeEditor\" \n                    key=\"pattern-size\"\n                    ref=\"$bp${index}\"\n                    type=\"${it.type}\"\n                    x=\"${it.x}\"\n                    y=\"${it.y}\"\n                    width=\"${it.width}\"\n                    height=\"${it.height}\"\n                    index=\"${index}\"\n                    foreColor=\"${it.foreColor}\"\n                    backColor=\"${it.backColor}\"\n                    blendMode=\"${it.blendMode}\"\n                    lineWidth=\"${it.lineWidth}\"\n                    lineHeight=\"${it.lineHeight}\"\n                    onchange='changePatternSizeInfo' />\n                <div class='tools'>\n                    <button type=\"button\" class='remove' title='Remove a pattern' data-index='${index}'>${icon.remove}</button>\n                </div>\n            </div>\n            `;\n        });\n    }\n\n    modifyPattern () {\n        var value = Pattern.join(this.state.patterns);\n\n        this.parent.trigger(this.props.onchange, this.props.key, value)\n    }\n\n    [SUBSCRIBE('add')] (type = 'check') {\n\n        var pattern = patterns.find(it => it.key === type)\n\n        if (pattern) {\n\n            this.state.patterns.push.apply(this.state.patterns, Pattern.parseStyle(pattern.execute()[0].pattern));\n\n            this.refresh();\n    \n            this.modifyPattern();        \n        }\n\n    }\n\n    [CLICK('$add')] () {\n        this.trigger('add')\n    }\n\n\n    [DRAGSTART(\"$patternList .pattern-item\")](e) {\n        this.startIndex = +e.$dt.attr(\"data-index\");\n    }\n\n    [DRAGOVER(\"$patternList .pattern-item\") + PREVENT](e) {}\n\n\n    sortItem(arr, startIndex, targetIndex) {\n        arr.splice(\n          targetIndex + (startIndex < targetIndex ? -1 : 0),\n          0,\n          ...arr.splice(startIndex, 1)\n        );\n    }\n\n    sortPattern(startIndex, targetIndex) {\n        this.sortItem(this.state.patterns, startIndex, targetIndex);\n    }\n\n    [DROP(\"$patternList .pattern-item\") + PREVENT](e) {\n        var targetIndex = +e.$dt.attr(\"data-index\");\n\n\n        this.selectItem(this.startIndex, true);\n\n        this.sortPattern(this.startIndex, targetIndex);\n\n        this.modifyPattern()\n\n        this.refresh();\n\n\n    }\n\n\n\n    getCurrentPattern() {\n        return this.state.patterns[this.selectedIndex];\n    }\n\n\n    [CLICK(\"$patternList .tools .remove\")](e) {\n        var removeIndex = +e.$dt.attr(\"data-index\");\n\n        this.state.patterns.splice(removeIndex, 1);\n        this.modifyPattern()\n        this.refresh();\n\n    }\n\n    selectItem(selectedIndex, isSelected = true) {\n        if (isSelected) {\n            this.refs[`fillIndex${selectedIndex}`].addClass(\"selected\");\n        } else {\n            this.refs[`fillIndex${selectedIndex}`].removeClass(\"selected\");\n        }\n\n        \n        this.state.patterns.forEach((it, index) => {\n            it.selected = index === selectedIndex;\n        });\n        \n    }\n\n    [SUBSCRIBE('changePatternSizeInfo') + DEBOUNCE(10)] (key, value, index) {\n        var pattern = this.state.patterns[index];\n\n        pattern.reset(value)\n        this.modifyPattern();\n        this.refresh();\n    }\n}","\nimport { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { Length } from \"el/editor/unit/Length\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\n\nexport default class PatternInfoPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('pattern.info.popup.title')\n  }\n\n  initState() {\n\n    return {\n      type: this.props.type || 'grid',\n      x: this.props.x || Length.z(),\n      y: this.props.y || Length.z(),\n      width: this.props.width || Length.z(),\n      height: this.props.height || Length.z(),\n      lineWidth: this.props.lineWidth || Length.px(1),\n      lineHeight: this.props.lineHeight || Length.px(1),\n      foreColor: this.props.foreColor || 'black',\n      backColor: this.props.backColor || 'transparent',\n      blendMode: this.props.blendMode || 'normal'\n    }\n  }\n\n  updateData(opt = {}) {\n    this.setState(opt, false);\n\n    const { x, y, width, height, foreColor, backColor, blendMode, lineWidth, lineHeight} = this.state; \n\n    this.state.instance.trigger(this.state.changeEvent, {\n      x, y, width, height, foreColor, backColor, blendMode, lineWidth, lineHeight\n    }, this.state.params);\n  }\n\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    this.updateData({ [key]: value });\n  }\n\n  templateForX() {\n    if (this.hasNotX()) return '';      \n    \n    let label = 'X'\n    let units = ''; \n\n    if (this.state.type === 'diagonal-line') {\n      label = this.$i18n('pattern.info.popup.rotate')\n      units = 'deg' \n    }\n\n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"RangeEditor\"  \n            label=\"${label}\"\n            calc=\"false\"            \n            ref=\"$x\" \n            key=\"x\"\n            value=\"${this.state.x}\"\n            min=\"0\" max=\"1000\" step=\"1\"\n            units=\"${units}\"\n            onchange=\"changeRangeEditor\"\n        />\n      </div>\n    `;\n  }\n\n  templateForY() {\n    if (this.hasNotY()) return '';            \n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"RangeEditor\"  \n            label=\"Y\" \n            calc=\"false\"       \n            ref=\"$y\" \n            key=\"y\"\n            value=\"${this.state.y}\"            \n            min=\"0\" max=\"1000\" step=\"1\"\n            onchange=\"changeRangeEditor\"\n        />\n      </div>\n    `;\n  }\n\n  templateForWidth() {\n\n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"RangeEditor\"  \n          label=\"${this.$i18n('pattern.info.popup.width')}\"   \n          calc=\"false\"             \n          ref=\"$width\" \n          key=\"width\"\n          value=\"${this.state.width}\"          \n          min=\"0\" max=\"500\" step=\"1\" \n          onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }\n\n  templateForHeight() {\n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"RangeEditor\"  \n          label=\"${this.$i18n('pattern.info.popup.height')}\"\n          calc=\"false\"          \n          ref=\"$height\" \n          key=\"height\"\n          value=\"${this.state.height}\"          \n          min=\"0\" max=\"500\" step=\"1\" onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }\n\n  hasNotLineWidth () {\n    return ['check'].includes(this.state.type);\n  }\n\n  hasNotLineHeight () {\n    return ['cross-dot', 'dot', 'check','diagonal-line', 'horizontal-line'].includes(this.state.type);\n  }  \n\n  hasNotX () {\n    return ['grid', 'dot', 'horizontal-line'].includes(this.state.type);\n  }    \n\n  hasNotY () {\n    return ['grid', 'dot', 'diagonal-line', 'vertical-line'].includes(this.state.type);\n  }      \n\n  templateForLineWidth() {\n\n    if (this.hasNotLineWidth()) return '';    \n\n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"RangeEditor\"  \n          label=\"${this.$i18n('pattern.info.popup.lineWidth')}\"   \n          calc=\"false\"             \n          ref=\"$lineWidth\" \n          key=\"lineWidth\"\n          value=\"${this.state.lineWidth}\"          \n          min=\"0\" max=\"500\" step=\"1\" \n          onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }\n\n  templateForLineHeight() {\n    if (this.hasNotLineHeight()) return '';        \n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"RangeEditor\"  \n          label=\"${this.$i18n('pattern.info.popup.lineHeight')}\"\n          calc=\"false\"          \n          ref=\"$lineHeight\" \n          key=\"lineHeight\"\n          value=\"${this.state.lineHeight}\"          \n          min=\"0\" max=\"500\" step=\"1\" onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }  \n\n  templateForForeColor() {\n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"ColorViewEditor\" \n            ref='$foreColor' \n            label=\"${this.$i18n('pattern.info.popup.foreColor')}\" \n            key='foreColor' \n            value=\"${this.state.foreColor}\"\n            onchange=\"changeRangeEditor\" />\n      </div>\n    `\n  }\n\n  templateForBackColor() {\n    return /*html*/`\n      <div class='popup-item'>\n        <object refClass=\"ColorViewEditor\" \n            ref='$backColor' \n            label=\"${this.$i18n('pattern.info.popup.backColor')}\" \n            key='backColor' \n            value=\"${this.state.backColor}\"\n            onchange=\"changeRangeEditor\" />\n      </div>\n    `\n  }\n\n\n  templateForBlendMode() {\n\n    return /*html*/`\n    <div class='popup-item'>\n      <object refClass=\"BlendSelectEditor\" \n            ref='$blend' \n            key='blendMode' \n            label=\"${this.$i18n('pattern.info.popup.blend')}\"\n            value=\"${this.state.blendMode}\" \n            onchange=\"changeRangeEditor\" \n        />\n    </div>\n    `;\n}    \n\n  getBody() {\n    return /*html*/`\n      <div class=\"background-image-position-picker\" ref='$picker'></div>\n    `;\n  }\n\n  [LOAD('$picker')] () {\n    return /*html*/`\n      \n      <div class='box'>\n\n        <div class='background-property'>      \n          ${this.templateForWidth()}\n          ${this.templateForHeight()}        \n          ${this.templateForLineWidth()}\n          ${this.templateForLineHeight()}                  \n          ${this.templateForX()}\n          ${this.templateForY()}\n          ${this.templateForForeColor()}\n          ${this.templateForBackColor()}\n          ${this.templateForBlendMode()}\n        </div>\n      </div>\n    `\n  }\n\n\n  [SUBSCRIBE(\"showPatternInfoPopup\")](data, params) {\n    this.state.changeEvent = data.changeEvent || 'changePatternInfoPopup'\n    this.state.params = params; \n    this.state.instance = data.instance; \n\n    this.setState(data.data);\n\n    this.show(460);\n  }\n\n\n}","\n  export const pattern_list = [\n    'check',\n    'grid',\n    'dot',\n    'cross-dot',\n    'diagonal-line',\n    'vertical-line',\n    'horizontal-line',\n  ];  ","\nimport {\n  LOAD, CLICK, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF, IF \n} from \"el/sapa/Event\";\n\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { pattern_list } from \"./util\";\n\n\nexport default class PatternProperty extends BaseProperty {\n\n  getTitle () {\n    return this.$i18n('pattern.property.title');\n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'pattern';\n  }\n\n\n  getTitleClassName() {\n    return 'pattern'\n  }\n\n  getBody() {\n    return `<div class='full pattern-property' ref='$body'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$patternSelect\">      \n      </select>\n      <button type=\"button\" ref=\"$add\" title=\"add Pattern\">${icon.add}</button>\n    `\n  }\n  \n\n  [CLICK(\"$add\")]() {\n    var patternType = this.refs.$patternSelect.value;\n\n    this.children.$patternEditor.trigger('add', patternType)\n  }\n\n  [LOAD('$patternSelect')] () {\n    var list = pattern_list.map(it => { \n      return {title: this.$i18n(`pattern.property.${it}`), value: it}\n    })\n\n    const totalList = [\n      ...list\n    ]\n\n    return totalList.map(it => {\n      var {title, value} = it;\n      \n      return `<option value='${value}'>${title}</option>`\n    })\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {} \n    var value = current.pattern;\n\n    return /*html*/`<object refClass=\"PatternEditor\" ref='$patternEditor' value='${value}' hide-label='true' onchange='changePatternEditor' />`\n  }\n\n  [SUBSCRIBE_SELF('changePatternEditor')] (key, pattern) {\n\n    this.command('setAttributeForMulti', 'change pattern', this.$selection.packByValue({ \n      pattern \n    }))\n  }\n\n  get editableProperty () {\n    return 'pattern';\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')] () {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshSVGArea') + DEBOUNCE(1000)] () {\n    this.load('$patternSelect');\n  }\n}","\nimport { CLICK, BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Pattern } from \"el/editor/property-parser/Pattern\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport './PatternSizeEditor.scss';\n\nexport default class PatternSizeEditor extends EditorElement {\n\n    initState() { \n        return {\n            index: this.props.index,\n            x: Length.parse(this.props.x),\n            y: Length.parse(this.props.y),\n            width: Length.parse(this.props.width),\n            height: Length.parse(this.props.height),\n            lineWidth: Length.parse(this.props.linewidth),\n            lineHeight: Length.parse(this.props.lineheight),            \n            backColor: this.props.backcolor,\n            foreColor: this.props.forecolor,\n            blendMode: this.props.blendmode,\n            type: this.props.type,\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyValue(opt);\n    }\n\n    modifyValue(value) {\n        this.parent.trigger(this.props.onchange, this.props.key, value, this.state.index);\n    }\n\n    setValue (obj) {\n        this.setState({\n            ...obj \n        })\n    }\n\n    [BIND('$miniView')] () {\n\n        let obj = {\n            ...this.state,\n        }        \n\n        if (this.state.width.value > 80) {\n            obj.width = Length.px(80);\n            obj.x = Length.px(obj.x.value / this.state.width.value/80)\n        }\n\n        if (this.state.height.value > 80) {\n            obj.height = Length.px(80);\n            obj.y = Length.px(this.state.y.value / this.state.height.value/80)\n        }        \n\n\n        const pattern = Pattern.parse(obj);\n\n        return {\n            cssText: pattern.toCSS()\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='elf--pattern-size-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ${this.state.color}\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewBackgroundPositionPopup();\n    }\n\n    viewBackgroundPositionPopup() {\n        this.emit(\"showPatternInfoPopup\", {\n            changeEvent: (pattern) => {\n                this.updateData({ ...pattern })                \n            },\n            data: this.state,\n            instance: this\n        });\n    }\n}","import { LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, DEBOUNCE, IF } from \"el/sapa/Event\";\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nexport default class PerspectiveProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('perspective.property.title')\n  }\n\n  getKeyframeProperty () {\n    return 'perspective'\n  }\n\n  getTools() {\n    return /*html*/`\n        <button type=\"button\" class=\"remove\" ref='$remove'>${icon.remove}</button>\n    `\n  }\n\n\n  [CLICK('$remove')] () {\n    this.trigger('changePerspective', 'perspective', '');\n  }  \n\n\n  getBody() {\n    return `<div class='property-item' ref='$perspective'></div>`;\n  }  \n\n  [LOAD(\"$perspective\")]() {\n    var current = this.$selection.current || {};\n\n    var perspective = current['perspective'] || ''\n    return /*html*/`\n        <object refClass=\"RangeEditor\"  ref='$1' key='perspective' value=\"${perspective}\" max=\"2000px\" onchange=\"changePerspective\" />\n    `;\n  }\n\n  [SUBSCRIBE_SELF('changePerspective')] (key, value) {\n\n    this.command('setAttributeForMulti', 'change perspective', this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n  get editableProperty() {\n    return 'perspective';\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')]() {\n    this.refresh();\n  }\n}","import { CLICK, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './PerspectiveOriginEditor.scss';\n\nconst typeList = [\n  { key: \"perspective-origin-x\", title: \"X\" },\n  { key: \"perspective-origin-y\", title: \"Y\" },\n];\n\nconst keyList = typeList.map(it => it.key);\n\nconst origin = {\n  top: '50% 0%',\n  'top left': '0% 0%' ,\n  'top right': '100% 0%' ,\n  left: '0% 50%' ,\n  center: '50% 50%',\n  right: '100% 50%' ,\n  bottom: '50% 100%' ,\n  'bottom left': '0% 100%' ,\n  'bottom right': '100% 100%'\n}\nexport default class PerspectiveOriginEditor extends EditorElement {\n\n  initState() {\n\n    var arr = this.props.value.split(' ');\n\n    var obj = {\n      isAll: true,\n      'perspective-origin': Length.z(),\n      'perspective-origin-x': Length.z(),\n      'perspective-origin-y': Length.z()      \n    }\n\n    if (this.props.value) {\n\n      if (arr.length === 1) {\n        obj['isAll'] = true; \n        obj['perspective-origin'] = Length.parse(arr[0]);\n        obj['perspective-origin-x'] = Length.parse(arr[0]);\n        obj['perspective-origin-y'] = Length.parse(arr[0]);\n      } else if (arr.length == 2) {\n        obj['isAll'] = false;       \n        obj['perspective-origin-x'] = Length.parse(arr[0]);\n        obj['perspective-origin-y'] = Length.parse(arr[1]);\n      }\n    }\n\n\n    return obj\n  }\n\n  template() {\n    return /*html*/`\n      <div class='elf--perspective-origin-editor' ref='$body'>\n        <div class='direction' ref='$direction'>\n          <div class='pos' data-value='top'></div>\n          <div class='pos' data-value='top left'></div>\n          <div class='pos' data-value='top right'></div>\n          <div class='pos' data-value='bottom'></div>\n          <div class='pos' data-value='bottom left'></div>\n          <div class='pos' data-value='bottom right'></div>\n          <div class='pos' data-value='left'></div>\n          <div class='pos' data-value='right'></div>\n          <div class='pos' data-value='center'></div>\n        </div>\n        <div ref='$body'></div>\n      </div>\n    `\n  }\n\n\n  [CLICK('$direction .pos')] (e) {\n    var direct = e.$dt.attr('data-value');\n    \n    this.state.isAll = false; \n    var [x, y] = origin[direct].split(' ')\n    this.state['perspective-origin-x'] = Length.parse(x);\n    this.state['perspective-origin-y'] = Length.parse(y);\n    this.refresh();\n    this.modifyPerspectiveOrigin();\n  }  \n\n  [SUBSCRIBE_SELF('changePerspectiveOrigin')] (key, value) {\n\n    if (key === 'perspective-origin') {\n      keyList.forEach(type => {\n        this.children[`$${type}`].setValue(value.toString())\n      });\n    }\n\n    this.setPerspectiveOrigin()\n  }\n\n  [LOAD('$body')] () {\n\n    var selectedValue = this.state.isAll ? 'all' : 'partitial'\n    var perspectiveOrigin = this.state['perspective-origin'];\n\n    return /*html*/`\n      <div class=\"property-item perspective-origin-item\">\n        <div class=\"radius-selector\" data-selected-value=\"${selectedValue}\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <object refClass=\"RangeEditor\"  ref='$all' key='perspective-origin' value=\"${perspectiveOrigin}\" onchange='changePerspectiveOrigin' />\n        </div>\n      </div>\n      <div\n        class=\"property-item full perspective-origin-item\"\n        ref=\"$partitialSetting\"\n        style=\"display: none;\"\n      >\n        <div class=\"radius-setting-box\" ref=\"$radiusSettingBox\">\n          ${typeList.map(it => {\n\n            var label = this.$i18n(it.title)\n\n            return /*html*/`\n              <div>\n                  <object refClass=\"RangeEditor\"  ref='$${it.key}' label='${label}' key='${it.key}' value=\"${this.state[it.key]}\" onchange='changePerspectiveOrigin' />\n              </div>  \n            `;\n          }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n  setPerspectiveOrigin() {\n    var type = this.refs.$selector.attr(\"data-selected-value\");\n\n    if (type === \"all\") {\n      this.state.isAll = true; \n      this.state['perspective-origin'] = this.children[`$all`].getValue();\n    } else {\n      this.state.isAll = false; \n      keyList.forEach(key => {\n        this.state[key] = this.children[`$${key}`].getValue();\n      });\n    }\n\n    this.modifyPerspectiveOrigin();\n  }\n\n  modifyPerspectiveOrigin () {\n    var value = '';\n\n    if (this.state.isAll) {\n      value = `${this.state['perspective-origin']}`\n    } else {\n      value = `${this.state['perspective-origin-x']} ${this.state['perspective-origin-y']}`\n    }\n\n    this.parent.trigger(this.props.onchange, value);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.setPerspectiveOrigin();\n  }\n\n\n}","\nimport { LOAD, CLICK, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\n\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\n\nexport default class PerspectiveOriginProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('perspective.origin.property.title')\n  }\n\n  getKeyframeProperty () {\n    return 'perspective-origin'\n  }\n\n  getTools() {\n    return /*html*/`\n        <button type=\"button\" class=\"remove\" ref='$remove'>${icon.remove}</button>\n    `\n  }\n\n  [CLICK('$remove')] () {\n    this.trigger('changePerspectiveOrigin', '');\n  }  \n\n  getBody() {\n    return /*html*/`\n      <div class=\"property-item full perspective-origin-item\" ref='$body'></div>\n    `;\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {}; \n    var value = current['perspective-origin'] || ''\n\n    return /*html*/`<object refClass=\"PerspectiveOriginEditor\" \n              ref='$1' \n              value='${value}' \n              onchange='changePerspectiveOrigin' \n            />`\n  }\n\n  get editableProperty() {\n    return 'perspective-origin';\n  }\n\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100) + IF('checkShow')]() {\n    this.refresh();\n  }\n\n  [SUBSCRIBE_SELF('changePerspectiveOrigin')] (value) {\n\n    this.command('setAttributeForMulti',  'change perspective origin', this.$selection.packByValue({ \n      'perspective-origin': value \n    }))\n  }\n\n}","import { IF, SUBSCRIBE, SUBSCRIBE_SELF, THROTTLE } from \"el/sapa/Event\";\nimport { Transform } from \"el/editor/property-parser/Transform\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { Length } from \"el/editor/unit/Length\";\n\nconst DEFAULT_SIZE = Length.z();\n\nexport default class PositionProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('position.property.title');\n  }\n\n  afterRender() {\n    this.show();\n  }\n\n  [SUBSCRIBE('refreshSelection')]() {\n    this.refreshShowIsNot(['project'])\n  }\n\n  checkChangedValue() {\n    var current = this.$selection.current;\n    if (!current) return false;\n\n    return current.hasChangedField(\n      'x', \n      'y', \n      'width', \n      'height', \n      'transform', \n      'rotateZ', \n      'rotate', \n      'opacity'\n    );\n  }\n\n  [SUBSCRIBE('refreshSelectionStyleView') + IF('checkChangedValue') + THROTTLE(10)]() {\n    var current = this.$selection.current;\n    if (!current) return '';\n\n    this.children.$x.setValue(current.x || DEFAULT_SIZE);\n    this.children.$y.setValue(current.y || DEFAULT_SIZE);\n    this.children.$width.setValue(current.width || DEFAULT_SIZE);\n    this.children.$height.setValue(current.height || DEFAULT_SIZE);\n    this.children.$opacity.setValue(current['opacity'] || '1')\n    const rotateZ = Transform.get(current.transform, 'rotateZ')\n    if (rotateZ) {\n      this.children.$rotate.setValue(rotateZ[0]);\n    } else {\n      this.children.$rotate.setValue(Length.deg(0));\n    }\n\n  }\n\n  isHideHeader() {\n    return true;\n  }\n\n  getBodyClassName() {\n    return 'no-padding';\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"position-item\" ref=\"$positionItem\" style='padding: 5px 10px;'>\n        <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px;'>\n          <div class='property-item animation-property-item' style='padding: 0px;'>\n            <div class='group'>\n              <span class='add-timeline-property' data-property='x'></span>\n            </div>\n            <object refClass='InputRangeEditor' ref='$x' compact=\"true\" label=\"X\" key='x' min=\"-100000\" max='100000' onchange='changRangeEditor' />\n          </div>\n          <div class='property-item animation-property-item' style='padding: 0px;'>\n            <div class='group'>\n              <span class='add-timeline-property' data-property='y'></span>\n            </div>\n            <object refClass='InputRangeEditor' ref='$y' compact=\"true\"  label=\"Y\" key='y' min=\"-10000\" max='10000' onchange='changRangeEditor' />\n          </div>\n        </div>\n        <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; padding-top: 10px;'>\n          <div class='property-item animation-property-item' style='padding:0px'>\n            <div class='group'>\n              <span class='add-timeline-property' data-property='width'></span>\n            </div>\n            <object refClass='InputRangeEditor' ref='$width' compact=\"true\"  label=\"${this.$i18n('position.property.width')}\" key='width' min=\"0\" max='3000' onchange='changRangeEditor' />\n          </div>\n          <div class='property-item animation-property-item' style='padding:0px'>\n            <div class='group'>\n              <span class='add-timeline-property' data-property='height'></span>      \n            </div>\n            <object refClass='InputRangeEditor' ref='$height' compact=\"true\"  label=\"${this.$i18n('position.property.height')}\" key='height' min=\"0\" max='3000' onchange='changRangeEditor' />\n          </div>      \n        </div> \n        <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; padding-top: 10px;'>\n          <div class='property-item animation-property-item'>\n            <div class='group'>\n              <span class='add-timeline-property' data-property='rotate'></span>\n            </div>\n            <object refClass='InputRangeEditor' \n              ref='$rotate' \n              key='rotateZ' \n              compact=\"true\" \n              label='rotate_left'\n              min=\"-360\"\n              max=\"360\"\n              step=\"1\"\n              units=\"deg\"\n              onchange=\"changeRotate\" />\n          </div>        \n\n          <div class='property-item animation-property-item'>\n            <div class='group'>\n              <span class='add-timeline-property' data-property='opacity'></span>\n            </div>\n            <object refClass=\"NumberInputEditor\"\n              ref='$opacity' \n              key='opacity' \n              compact=\"true\" \n              label='opacity'\n              min=\"0\"\n              max=\"1\"\n              step=\"0.01\"\n              onchange=\"changeSelect\" />\n          </div>        \n        </div>                \n      </div>\n    `;\n  }\n\n  refresh() {\n    const current = this.$selection.current;\n    if (current) {\n      this.children.$x.setValue(current.x);\n      this.children.$y.setValue(current.y);\n      this.children.$width.setValue(current.width);\n      this.children.$height.setValue(current.height);\n      this.children.$opacity.setValue(current['opacity'] || '1')\n      const rotateZ = Transform.get(current.transform, 'rotateZ')\n      if (rotateZ) {\n        this.children.$rotate.setValue(rotateZ[0]);\n      }      \n    }\n\n  }\n\n\n  [SUBSCRIBE_SELF('changRangeEditor')](key, value) {\n\n    this.command('setAttributeForMulti', 'change position or size', this.$selection.packByValue({\n      [key]: value\n    }))\n\n    this.nextTick(() => {\n      this.emit('refreshAllElementBoundSize')\n    })\n\n  }\n\n  [SUBSCRIBE_SELF('changeRotate')](key, rotate) {\n    this.command('setAttributeForMulti', \"change rotate\", this.$selection.packByValue({\n      transform: (item) => Transform.rotateZ(item.transform, rotate)\n    }))\n  }\n\n  [SUBSCRIBE_SELF('changeSelect')](key, value) {\n    this.command(\"setAttributeForMulti\", `change ${key}`, this.$selection.packByValue({\n      [key]: value\n    }))\n  }\n\n\n\n}\n","import BaseProperty from \"../../el/editor/ui/property/BaseProperty\";\nimport { LOAD, CLICK, PREVENT, STOP, FOCUSOUT, DOUBLECLICK, DOMDIFF, KEYDOWN, ENTER, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\n\nimport './ProjectProperty.scss';\n\nexport default class ProjectProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('project.property.title');\n  }\n\n  getClassName() {\n    return 'full';\n  }\n\n  getTools() {\n    return /*html*/`\n      <button type='button' ref='$add' data-tooltip=\"Add a project\" data-direction=\"bottom right\">${icon.add}</button>\n    `\n  }\n\n  [CLICK('$add')] () {\n    this.emit('addProject');\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"elf--project-list scrollbar\" ref=\"$projectList\"></div>\n    `;\n  }\n\n  [LOAD(\"$projectList\") + DOMDIFF]() {\n    var projects = this.$model.projects || [];\n    \n\n    return projects.map( (projectId, index) => {\n      var selected = projectId === this.$selection.currentProject.id ? 'selected' : '';\n      const project = this.$model.get(projectId);\n      return /*html*/`\n        <div class='project-item ${selected}'>\n          <div class='detail'>\n            <label data-id='${projectId}'>${project.name || 'New Project'}</label>\n            <div class=\"tools\">\n              <button type=\"button\" class=\"remove\" data-id=\"${projectId}\" title='Remove'>${icon.remove2}</button>\n            </div>\n          </div>\n        </div>\n      `\n    })\n  }\n\n\n  [DOUBLECLICK('$projectList .project-item')] (e) {\n    this.startInputEditing(e.$dt.$('label'))\n  }\n\n  modifyDoneInputEditing (input) {\n    this.endInputEditing(input, (index, text) => {\n\n      var project = this.$editor.projects[index]\n      if (project) {\n        project.reset({\n          name: text\n        })\n      }\n    });    \n  }\n\n  [KEYDOWN('$projectList .project-item label') + ENTER + PREVENT + STOP] (e) {\n    this.modifyDoneInputEditing(e.$dt);\n    return false;\n  }\n\n  [FOCUSOUT('$projectList .project-item label') + PREVENT  + STOP ] (e) {\n    this.modifyDoneInputEditing(e.$dt);\n  }\n\n\n  [CLICK('$projectList .project-item label')] (e) {\n    var id = e.$dt.attr('data-id')\n\n    this.command('refreshSelectionPorject', \"change project\", id);\n\n    this.nextTick(() => {\n      this.refresh();\n    })\n  }\n\n\n  [CLICK('$projectList .project-item .remove')] (e) {\n    var id = e.$dt.attr('data-id')\n\n    this.command('removeProject', 'remove project', id);\n\n    this.nextTick(() => {\n      this.refresh();\n    })\n  }\n\n  [SUBSCRIBE('refreshProjectList', 'refreshAll')] () {\n    this.refresh();\n  }\n\n}","import { LOAD, CHANGE, BIND } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './SelectEditor.scss';\nexport default class SelectEditor extends EditorElement {\n\n    initialize() {\n        super.initialize();\n    \n        this.notEventRedefine = true;\n    }\n\n    initState() {\n        var splitChar = this.props.split || ',';\n\n        var options = Array.isArray(this.props.options)\n            ? this.props.options.map(it => {\n                if (typeof (it) === 'string') {\n                    return { value: it }\n                }\n                return it;\n            })\n            : (this.props.options || '').split(splitChar).map(it => it.trim()).map(it => {\n                const [value, text] = it.split(':');\n                return { value, text }\n            });\n\n        var value = this.props.value;\n        var tabIndex = this.props.tabindex;\n\n        return {\n            splitChar,\n            label: this.props.label || '',\n            options,\n            value,\n            tabIndex\n        }\n    }\n\n    template() {\n        var { label, tabIndex } = this.state;\n        var hasLabel = !!label ? 'has-label' : ''\n        var hasTabIndex = !!tabIndex ? 'tabIndex=\"1\"' : ''\n        return /*html*/`\n            <div class='elf--select-editor ${hasLabel}'>\n                ${label ? `<label title=\"${label}\">${label}</label>` : ''}\n                <select ref='$options' ${hasTabIndex}></select>\n            </div>\n        `\n    }\n\n    getValue() {\n        return this.refs.$options.value;\n    }\n\n    setValue(value) {\n        this.state.value = value + '';\n        this.refs.$options.val(this.state.value);\n        this.refresh()\n    }\n\n    refresh(reload = false) {\n        this.load();\n    }\n\n    [BIND('$options')]() {\n        return {\n            'data-count': this.state.options.length.toString()\n        }\n    }\n\n    [LOAD('$options')]() {\n\n        var arr = this.state.options.map(it => {\n\n            var value = it.value;\n            var label = it.text || it.value;\n\n            if (label === '') {\n                label = this.props['none-value'] ? this.props['none-value'] : ''\n            } else if (label === '-') {\n                label = '----------'\n                value = '';\n            }\n            var selected = value === this.state.value ? 'selected' : ''\n            return `<option ${selected} value=\"${value}\">${label}</option>`\n        })\n\n        return arr;\n    }\n\n    [CHANGE('$options')]() {\n        this.updateData({\n            value: this.refs.$options.value\n        })\n    }\n\n\n    updateData(data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","import SelectEditor from \"./SelectEditor\";\n\nexport const blend_list = [\n    \"normal\",\n    \"multiply\",\n    \"screen\",\n    \"overlay\",\n    \"darken\",\n    \"lighten\",\n    \"color-dodge\",\n    \"color-burn\",\n    \"hard-light\",\n    \"soft-light\",\n    \"difference\",\n    \"exclusion\",\n    \"hue\",\n    \"saturation\",\n    \"color\",\n    \"luminosity\"\n  ];\n\nexport default class BlendSelectEditor extends SelectEditor {\n\n    getBlendList () {\n        return blend_list.map(it => {\n            return {value: it, text: this.$i18n(`blend.${it}`)};\n        });\n        \n    }\n\n    initState() {\n        return {\n            ...super.initState(),\n            options: this.getBlendList()\n        }\n    }\n}","import { CLICK, LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ClipPathEditor.scss';\n\nexport default class ClipPathEditor extends EditorElement {\n\n    initState() {\n        return {\n            clippath: this.props.value\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt);\n        this.modifyClipPath();\n    }\n\n    getValue () {\n        return this.state.clippath; \n    }\n\n    setValue (clippath) {\n        this.setState({clippath})\n    }\n\n    modifyClipPath() {\n        this.parent.trigger(this.props.onchange, this.state.clippath, this.props.params);\n    }\n\n    template() {\n        return /*html*/`\n            <div class='elf--clip-path-editor'></div>\n        `\n    }\n\n    [LOAD()] () {\n        var clippath = this.state.clippath\n        return `\n        <div class='clippath-item'>\n            <div class='name'>${clippath}</div>\n        </div>\n        `\n    }\n\n    [CLICK()](e) {\n        this.viewClipPathPicker();\n    }\n\n\n    viewClipPathPicker() {\n        this.emit(\"showClipPathPopup\", {\n            changeEvent: (data) => {\n                this.updateData({\n                    clippath: data['clip-path']\n                })            \n            },\n            'clip-path': this.state.clippath\n        });\n    }\n}","import Color from \"el/utils/Color\";\n\nexport default { \n    title: 'random', \n    key: 'random', \n    execute: function (count = 42) {\n        const colorList = Color.randomByCount(count).map(color => {\n            return { color }\n        });\n\n        colorList.sort((a, b) => {\n\n            const localA = Color.parse(a.color)\n            const localB = Color.parse(b.color);\n\n            return localA.h > localB.h ? 1 : -1;\n        })\n\n        return colorList;\n    } \n}","const colors = [\n    '#ffebee',\n    '#ffcdd2',\n    '#ef9a9a',\n    '#e57373',\n    '#ef5350',\n    '#f44336',\n    '#e53935',\n    '#d32f2f',\n    '#c62828',\n    '#b71c1c',\n    '#f44336',\n    '#ff8a80',\n    '#ff5252',\n    '#ff1744',\n    '#d50000',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material red', \n    key: 'material-red', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#fce4ec',\n    '#f8bbd0',\n    '#f48fb1',\n    '#f06292',\n    '#ec407a',\n    '#e91e63',\n    '#d81b60',\n    '#c2185b',\n    '#ad1457',\n    '#880e4f',\n    '#e91e63',\n    '#ff80ab',\n    '#ff4081',\n    '#f50057',\n    '#c51162',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material pink', \n    key: 'material-pink', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#f3e5f5',\n    '#e1bee7',\n    '#ce93d8',\n    '#ba68c8',\n    '#ab47bc',\n    '#9c27b0',\n    '#8e24aa',\n    '#7b1fa2',\n    '#6a1b9a',\n    '#4a148c',\n    '#9c27b0',\n    '#ea80fc',\n    '#e040fb',\n    '#d500f9',\n    '#aa00ff',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material purple', \n    key: 'material-purple', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#ede7f6',\n    '#d1c4e9',\n    '#b39ddb',\n    '#9575cd',\n    '#7e57c2',\n    '#673ab7',\n    '#5e35b1',\n    '#512da8',\n    '#4527a0',\n    '#311b92',\n    '#673ab7',\n    '#b388ff',\n    '#7c4dff',\n    '#651fff',\n    '#6200ea',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material deep purple', \n    key: 'material-deeppurple', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#e8eaf6',\n    '#c5cae9',\n    '#9fa8da',\n    '#7986cb',\n    '#5c6bc0',\n    '#3f51b5',\n    '#3949ab',\n    '#303f9f',\n    '#283593',\n    '#1a237e',\n    '#3f51b5',\n    '#8c9eff',\n    '#536dfe',\n    '#3d5afe',\n    '#304ffe',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material indigo', \n    key: 'material-indigo', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#e3f2fd',\n    '#bbdefb',\n    '#90caf9',\n    '#64b5f6',\n    '#42a5f5',\n    '#2196f3',\n    '#1e88e5',\n    '#1976d2',\n    '#1565c0',\n    '#0d47a1',\n    '#2196f3',\n    '#82b1ff',\n    '#448aff',\n    '#2979ff',\n    '#2962ff',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material blue', \n    key: 'material-blue', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#e1f5fe',\n    '#b3e5fc',\n    '#81d4fa',\n    '#4fc3f7',\n    '#29b6f6',\n    '#03a9f4',\n    '#039be5',\n    '#0288d1',\n    '#0277bd',\n    '#01579b',\n    '#03a9f4',\n    '#80d8ff',\n    '#40c4ff',\n    '#00b0ff',\n    '#0091ea',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material light blue', \n    key: 'material-lightblue', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#e0f7fa',\n    '#b2ebf2',\n    '#80deea',\n    '#4dd0e1',\n    '#26c6da',\n    '#00bcd4',\n    '#00acc1',\n    '#0097a7',\n    '#00838f',\n    '#006064',\n    '#00bcd4',\n    '#84ffff',\n    '#18ffff',\n    '#00e5ff',\n    '#00b8d4',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material cyan', \n    key: 'material-cyan', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n\n    '#e0f2f1',\n    '#b2dfdb',\n    '#80cbc4',\n    '#4db6ac',\n    '#26a69a',\n    '#009688',\n    '#00897b',\n    '#00796b',\n    '#00695c',\n    '#004d40',\n    '#009688',\n    '#a7ffeb',\n    '#64ffda',\n    '#1de9b6',\n    '#00bfa5',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material teal', \n    key: 'material-teal', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#E8F5E9',\n'#C8E6C9',\n'#A5D6A7',\n'#81C784',\n'#66BB6A',\n'#4CAF50',\n'#43A047',\n'#388E3C',\n'#2E7D32',\n'#1B5E20',\n'#B9F6CA',\n'#69F0AE',\n'#00E676',\n'#00C853',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material green', \n    key: 'material-green', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#F1F8E9',\n    '#DCEDC8',\n    '#C5E1A5',\n    '#AED581',\n    '#9CCC65',\n    '#8BC34A',\n    '#7CB342',\n    '#689F38',\n    '#558B2F',\n    '#33691E',\n    '#CCFF90',\n    '#B2FF59',\n    '#76FF03',\n    '#64DD17',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material lightgreen', \n    key: 'material-lightgreen', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#F9FBE7',\n'#F0F4C3',\n'#E6EE9C',\n'#DCE775',\n'#D4E157',\n'#CDDC39',\n'#C0CA33',\n'#AFB42B',\n'#9E9D24',\n'#827717',\n'#F4FF81',\n'#EEFF41',\n'#C6FF00',\n'#AEEA00',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material lime', \n    key: 'material-lime', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#FFFDE7',\n'#FFF9C4',\n'#FFF59D',\n'#FFF176',\n'#FFEE58',\n'#FFEB3B',\n'#FDD835',\n'#FBC02D',\n'#F9A825',\n'#F57F17',\n'#FFFF8D',\n'#FFFF00',\n'#FFEA00',\n'#FFD600',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material yellow', \n    key: 'material-yellow', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#FFF8E1',\n    '#FFECB3',\n    '#FFE082',\n    '#FFD54F',\n    '#FFCA28',\n    '#FFC107',\n    '#FFB300',\n    '#FFA000',\n    '#FF8F00',\n    '#FF6F00',\n    '#FFE57F',\n    '#FFD740',\n    '#FFC400',\n    '#FFAB00',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material amber', \n    key: 'material-amber', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n    '#FFF3E0',\n    '#FFE0B2',\n    '#FFCC80',\n    '#FFB74D',\n    '#FFA726',\n    '#FF9800',\n    '#FB8C00',\n    '#F57C00',\n    '#EF6C00',\n    '#E65100',\n    '#FFD180',\n    '#FFAB40',\n    '#FF9100',\n    '#FF6D00',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material orange', \n    key: 'material-orange', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#FBE9E7',\n'#FFCCBC',\n'#FFAB91',\n'#FF8A65',\n'#FF7043',\n'#FF5722',\n'#F4511E',\n'#E64A19',\n'#D84315',\n'#BF360C',\n'#FF9E80',\n'#FF6E40',\n'#FF3D00',\n'#DD2C00',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material deep orange', \n    key: 'material-deeporange', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n\n'#EFEBE9',\n'#D7CCC8',\n'#BCAAA4',\n'#A1887F',\n'#8D6E63',\n'#795548',\n'#6D4C41',\n'#5D4037',\n'#4E342E',\n'#3E2723',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material brown', \n    key: 'material-brown', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#FAFAFA',\n'#F5F5F5',\n'#EEEEEE',\n'#E0E0E0',\n'#BDBDBD',\n'#9E9E9E',\n'#757575',\n'#616161',\n'#424242',\n'#212121',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material gray', \n    key: 'material-gray', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#ECEFF1',\n'#CFD8DC',\n'#B0BEC5',\n'#90A4AE',\n'#78909C',\n'#607D8B',\n'#546E7A',\n'#455A64',\n'#37474F',\n'#263238',\n].map(color => {\n    return {color}\n})\n\n\nexport default { \n    title: 'material bluegray', \n    key: 'material-bluegray', \n    execute: function () {\n        return colors;\n    }\n}","const colors = [\n'#f8f9fa',\n'#f1f3f5',\n'#e9ecef',\n'#dee2e6',\n'#ced4da',\n'#adb5bd',\n'#868e96',\n'#495057',\n'#343a40',\n'#212529',\n    \n].map(color => {\n    return {color}\n})\n\nexport default { \n    title: 'opencolor gray', \n    resource: 'https://yeun.github.io/open-color/',\n    key: 'opencolor-gray', \n    execute: function () {\n        return colors;\n    }\n}","import random from \"./random\"\nimport materialRed from \"./material-red\"\nimport materialPink from \"./material-pink\"\nimport materialPurple from \"./material-purple\"\nimport materialDeeppurple from \"./material-deeppurple\"\nimport materialIndigo from \"./material-indigo\"\nimport materialBlue from \"./material-blue\"\nimport materialLightblue from \"./material-lightblue\"\nimport materialCyan from \"./material-cyan\"\nimport materialTeal from \"./material-teal\"\nimport materialGreen from \"./material-green\"\nimport materialLightgreen from \"./material-lightgreen\"\nimport materialLime from \"./material-lime\"\nimport materialYellow from \"./material-yellow\"\nimport materialAmber from \"./material-amber\"\nimport materialOrange from \"./material-orange\"\nimport materialDeeporange from \"./material-deeporange\"\nimport materialBrown from \"./material-brown\"\nimport materialGray from \"./material-gray\"\nimport materialBluegray from \"./material-bluegray\"\nimport opencolorGray from \"./opencolor-gray\"\n\nexport default [\n    random,\n    opencolorGray,\n    materialRed,\n    materialPink,\n    materialPurple,\n    materialDeeppurple,\n    materialIndigo,\n    materialBlue,\n    materialLightblue,\n    materialCyan,\n    materialTeal,\n    materialGreen,\n    materialLightgreen,\n    materialLime,\n    materialYellow,\n    materialAmber,\n    materialOrange,\n    materialDeeporange,\n    materialBrown,\n    materialGray,\n    materialBluegray\n]","import { LOAD, CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport colors from \"el/editor/preset/colors\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ColorAssetsEditor.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class ColorAssetsEditor extends EditorElement {\n\n  initState() {\n    return {\n      mode: 'grid',\n      preset: 'random',\n      isLoaded : false, \n      colors\n    }\n  }\n\n\n  getTools() {\n    return /*html*/`<div ref=\"$tools\"></div>`\n  }\n\n  [LOAD('$tools')] () {\n    const options = variable(this.state.colors.map(it => {\n      return { value: it.key, text: it.title } \n    }));\n\n    return /*html*/`\n      <object refClass=\"SelectEditor\"  key=\"preset\" value=\"${this.state.preset}\" options=\"${options}\" onchange=\"changePreset\"  />\n    `\n  }\n\n  [SUBSCRIBE('changePreset')] (key, value) {\n    this.setState({\n      [key]: value\n    })\n  }\n\n  template() {\n    return /*html*/`\n      <div class='elf--color-assets-editor'>\n        <div class='color-assets-head'>\n          <label>${this.$i18n('color.asset.property.title')}</label>\n          <div class='tools'>${this.getTools()}</div>\n        </div>\n        <div class='color-list' ref='$colorList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$colorList\")]() {\n    var preset = this.state.colors.find(it => it.key === this.state.preset);\n\n    if (!preset) {\n      return '';\n    }\n\n    var results = preset.execute().map( (item, index) => {\n\n      return /*html*/`\n        <div class='color-item' data-index=\"${index}\" data-color=\"${item.color}\">\n          <div class='preview' title=\"${item.color}\" data-index=\"${index}\">\n            <div class='color-view' style='background-color: ${item.color};'></div>\n          </div>\n        </div>\n      `\n    })\n\n    return results\n  }\n\n  executeColor (callback, isRefresh = true, isEmit = true ) {\n    var project = this.$selection.currentProject;\n\n    if(project) {\n\n      callback && callback (project) \n\n      if (isRefresh) this.refresh();\n      if (isEmit) this.emit('refreshColorAssets');\n    } else{\n      alert('Please select a project.')\n    }\n  }\n\n  [CLICK(\"$colorList .preview\")](e) {\n\n    const color = e.$dt.$('.color-view').css('background-color');\n\n    this.modifyColorPicker(color);\n  }\n\n  modifyColorPicker(color) {\n    this.parent.trigger(this.props.onchange, this.props.key, color, this.props.params);\n  }\n}","import { CLICK, BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ColorSingleEditor.scss';\n\nexport default class ColorSingleEditor extends EditorElement {\n\n    initState() { \n        return {\n            params: this.props.params,\n            color: this.props.color || 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyColor();\n    }\n\n    modifyColor() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.color, this.state.params);\n    }\n\n    changeColor (color) {\n        this.setState({ color })\n    }\n\n    setValue (color) {\n        this.changeColor(color);\n    }\n\n    [BIND('$miniView')] () {\n        return {\n            style: {\n                'background-color': this.state.color\n            }\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='elf--color-single-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ${this.state.color}\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewColorPicker();\n    }\n\n    viewColorPicker() {\n        this.emit(\"showColorPickerPopup\", {\n            target: this,\n            changeEvent: (color) => {\n                this.refs.$miniView.cssText(`background-color: ${color}`);\n                this.updateData({ color })                \n            },\n            color: this.state.color\n        });\n    }\n}","import { CLICK, INPUT, BIND, FOCUS, BLUR } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ColorViewEditor.scss';\n\nexport default class ColorViewEditor extends EditorElement {\n\n    initState() {\n\n        return {\n            label: this.props.label,\n            value: this.props.value || 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt);\n        this.modifyColor();\n    }\n\n    updateEndData(opt = {}) {\n        this.setState(opt);\n        this.modifyEndColor();\n    }    \n\n    getValue () {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.changeColor(value)\n    }\n\n    modifyColor() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params);\n    }\n\n    modifyEndColor() {\n        this.parent.trigger(this.props.onchangeend, this.props.key, this.state.value, this.props.params);\n    }\n\n\n    changeColor (value) {\n        this.setState({ value })\n    }\n\n    refresh () {\n        this.refs.$miniView.cssText(`background-color: ${this.state.value}`);\n        this.refs.$colorCode.val(this.state.value);\n    }\n\n    template() {\n        var { label } = this.state;\n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='elf--color-view-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }            \n                <div class='color-code' ref=\"$container\">\n                    <div class='preview' ref='$preview'>\n                        <div class='mini-view'>\n                            <div class='color-view' style=\"background-color: ${this.state.value}\" ref='$miniView'></div>\n                        </div>\n                    </div>                \n                    <input type=\"text\" ref='$colorCode' value='${this.state.value}' tabIndex=\"1\" />\n                </div>\n            </div>\n        ` \n    }\n\n    [BIND('$miniView')] () {\n        return {\n            style: {\n                'background-color': this.state.value\n            }\n        }\n    }\n\n    [BIND('$colorCode')] () {\n        return {\n            value: this.state.value\n        }\n    }\n\n    [FOCUS('$colorCode')] (e) {\n        this.refs.$container.addClass('focused');\n    }\n\n    [BLUR('$colorCode')] (e) {\n        this.refs.$container.removeClass('focused');\n    }\n\n    [CLICK(\"$preview\")](e) {\n        this.viewColorPicker();\n    }\n\n    viewColorPicker() {\n        this.emit(\"showColorPickerPopup\", {\n            target: this, \n            changeEvent: (color) => {\n                this.updateData({ value: color })\n            },\n            changeEndEvent: (color) => {\n                this.updateEndData({ value: color })\n            },\n            color: this.state.value\n        });\n    }\n\n\n    [CLICK('$remove')] (e) {\n        this.updateData({ value: ''})\n    }    \n\n    [INPUT(\"$el .color-code input\")](e) {\n        var color = e.$dt.value;\n        this.refs.$miniView.cssText(`background-color: ${color}`);\n\n        this.updateData({ value: color })\n    }\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport { LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { OBJECT_TO_CLASS } from \"el/utils/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './CSSPropertyEditor.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class CSSPropertyEditor extends EditorElement {\n\n  initState() {\n    return {\n      hideTitle: this.props['hide-title'] === 'true',\n      hideRefresh: this.props['hide-refresh'] === 'true',\n      properties: [] \n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.modifyProperty();\n  }\n\n  modifyProperty () {\n\n    this.parent.trigger(this.props.onchange, this.state.properties);\n  }\n\n\n  template() {\n    return /*html*/`\n      <div class='elf--css-property-editor ${OBJECT_TO_CLASS({ \n        'hide-title': this.state.hideTitle, \n        'hide-refresh': this.state.hideRefresh \n      })}'>\n        <div class='title'>\n          <label>${this.$i18n('css.property.editor.properties')}</label>\n          <div class='tools'>\n            ${this.makePropertySelect()}\n            <button type=\"button\" ref='$addProperty'>${icon.add}</button>\n          </div>\n        </div>\n        <div class='input grid-1 css-property-list' ref='$property'></div>\n      </div>\n    `\n  }  \n\n  getPropertyDefaultValue (key) {\n\n      switch(key) {\n        case 'animation-timing-function':\n        case 'box-shadow':\n        case 'text-shadow':\n        case 'color':\n        case 'background-image':\n        case 'background-color':\n        case 'text-fill-color':\n        case 'text-stroke-color':\n        case 'filter':      \n        case 'backdrop-filter':      \n        case 'var':\n        case 'transform':          \n        case 'transform-origin':\n        case 'perspective-origin':\n        case 'playTime':\n          return Length.string('');          \n        case 'offset-distance': \n          return Length.percent(0);\n        case 'rotate':\n          return Length.deg(0);\n        case 'mix-blend-mode': \n          return 'normal';\n        case 'clip-path':\n          return '';\n        case 'opacity':\n          return 1; \n        default: \n          return Length.z();\n      }\n  }\n\n  [CLICK('$addProperty')] (e) {\n    var key = this.getRef('$propertySelect').value;\n\n\n    var searchItem = this.state.properties.find((it) => {\n      return it.key === key \n    })\n\n    if (searchItem) {\n      alert(`${key} is already added.`)\n      return; \n    }\n\n    var value = this.getPropertyDefaultValue(key)\n\n    var current = this.$selection.current;  \n\n    if (current) {\n      value = current[key]\n    }\n\n    this.state.properties.push({ key, value })\n\n    this.refresh();\n    this.modifyProperty();\n\n  }\n\n\n  makeIndivisualPropertyColorEditor (property, index) {\n\n    var key = property.key.split('-').join('');\n    return /*html*/`\n      <div class='property-editor'>\n        <object refClass=\"ColorViewEditor\" ref='$${key}${index}' value=\"${property.value}\" key=\"${property.key}\" onChange=\"changeColorProperty\" />\n      </div>\n    `\n  }\n\n  makeCustomePropertyEditor (property, index) {\n    return /*html*/`\n      <div class='property-editor'>\n        <${property.editor} \n          onchange=\"changeSelect\"\n          ref=\"$customProperty${index}\"\n          key=\"${property.key}\"\n          value=\"${property.value}\"\n        />\n      </div>\n    `\n  }\n\n  makeIndivisualPropertyEditor (property, index) {\n\n    if (property.key === 'background-image') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"BackgroundImageEditor\" ref='$backgroundImage${index}' key=\"${property.key}\" hide-title=\"${this.state.hideTitle}\" value=\"${property.value}\" onChange=\"changeKeyValue\" />\n        </div>\n      `\n    } else if (property.key === 'filter') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"FilterEditor\" ref='$filter${index}' key=\"${property.key}\" value=\"${property.value}\" onChange=\"changeKeyValue\" />\n        </div>\n      `\n    } else if (property.key === 'backdrop-filter') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"FilterEditor\" ref='$backdropFilter${index}' key=\"${property.key}\" value=\"${property.value}\" onChange=\"changeKeyValue\" />\n        </div>\n      `      \n    } else if (property.key === 'box-shadow') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"BoxShadowEditor\" ref='$boxshadow${index}' value=\"${property.value}\" hide-label=\"false\" onChange=\"changeBoxShadowProperty\" />\n        </div>\n      `      \n    } else if (property.key === 'text-shadow') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"TextShadowEditor\" ref='$textshadow${index}' value=\"${property.value}\" hide-label=\"false\" onChange=\"changeTextShadowProperty\" />\n        </div>\n      `            \n    } else if (property.key === 'var') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"VarEditor\" ref='$var${index}' value=\"${property.value}\" onChange=\"changeVar\" />\n        </div>\n      `       \n    } else if (property.key === 'transform') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"TransformEditor\" ref='$transform${index}' value=\"${property.value}\" onChange=\"changeTransform\" />\n        </div>\n      `                  \n    } else if (property.key === 'transform-origin') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"TransformOriginEditor\" ref='$transformOrigin${index}' value=\"${property.value}\" onChange=\"changeTransformOrigin\" />\n        </div>\n      `                  \n    } else if (property.key === 'perspective-origin') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"PerspectiveOriginEditor\" ref='$perspectiveOrigin${index}' value=\"${property.value}\" onChange=\"changePerspectiveOrigin\" />\n        </div>\n      `               \n    } else if (property.key === 'fill-rule') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"SelectEditor\"  \n          ref='$fillRule${index}' \n          key='fill-rule' \n          icon=\"true\" \n          options=${variable([\"nonzero\",\"evenodd\" ])}\n          value=\"${property.value}\"\n          onchange=\"changeSelect\" />\n        </div>\n      `       \n    } else if (property.key === 'stroke-linecap') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"SelectEditor\"  \n          ref='$strokeLinecap${index}' \n          key='stroke-linecap' \n          icon=\"true\" \n          options=${variable([\"butt\",\"round\",\"square\" ])}          \n          value=\"${property.value}\"\n          onchange=\"changeSelect\" />\n        </div>\n      `       \n      \n    } else if (property.key === 'stroke-linejoin') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"SelectEditor\"  \n          ref='$strokeLinejoin${index}' \n          key='stroke-linejoin' \n          icon=\"true\" \n          options=${variable([\"miter\",\"arcs\",\"bevel\",\"miter-clip\",\"round\" ])}                    \n          value=\"${property.value}\"\n          onchange=\"changeSelect\" />\n        </div>\n      `             \n    } else if (property.key === 'mix-blend-mode') {\n      return /*html*/`\n        <div class='property-editor'>\n          <object refClass=\"BlendSelectEditor\" \n          ref='$mixBlendMode${index}' \n          key='mix-blend-mode' \n          icon=\"true\" \n          value=\"${property.value}\"\n          onchange=\"changeSelect\" />\n        </div>\n      `   \n    } else if (property.key === 'stroke-dasharray') {\n      return /*html*/`\n        <object refClass=\"StrokeDashArrayEditor\" \n          ref='$strokeDashArray${index}' \n          key='stroke-dasharray'\n          value='${property.value}' \n          onchange='changeSelect' \n        />\n      `      \n    } else if (property.key === 'border-radius') {\n      return /*html*/`\n        <object refClass=\"BorderRadiusEditor\"\n          ref='$borderRadius${index}' \n          key='border-radius'\n          value='${property.value}' \n          onchange='changeBorderRadius' \n        />\n      `\n    } else if (property.key === 'border') {\n      return /*html*/`\n        <object refClass=\"BorderEditor\"\n          ref='$border${index}' \n          key='border'\n          value='${property.value}' \n          onchange='changeKeyValue' \n        />\n      `      \n    } else if (property.key === 'clip-path') {\n      return /*html*/`\n        <object refClass=\"ClipPathEditor\"\n          ref='$clipPath${index}' \n          key='clip-path'\n          value='${property.value}' \n          onchange='changeClipPath' \n        />\n      `      \n    } else if (property.key === 'd') {\n      return /*html*/`\n        <object refClass=\"PathDataEditor\" ref='$pathData${index}' key='d' value='${property.value}' onchange='changeSelect' />\n      `            \n    } else if (property.key === 'points') {\n      return /*html*/`\n        <object refClass=\"PolygonDataEditor\" ref='$polygonData${index}' key='points' value='${property.value}' onchange='changeSelect' />\n      `    \n    } else if (property.key === 'playTime') {\n      return /*html*/`\n        <object refClass=\"MediaProgressEditor\" ref='$playTime${index}'  key='playTime' value=\"${property.value}\" onchange=\"changeSelect\" />      \n      `                   \n    }\n\n    return /*html*/`\n      <div class='property-editor'>\n        ???\n\n      </div>\n    `\n\n  }\n\n  [SUBSCRIBE_SELF('changeKeyValue')] (key, value) {\n    this.modifyPropertyValue(key, value);\n  }\n\n\n  [SUBSCRIBE_SELF('changeBorderRadius')] (value) {\n    this.modifyPropertyValue('border-radius', value);\n  }\n\n  [SUBSCRIBE_SELF('changeClipPath')] (value) {\n    this.modifyPropertyValue('clip-path', value);\n  }  \n\n  [SUBSCRIBE_SELF('changeColorProperty')] (key, color) {\n    this.modifyPropertyValue(key, color);\n  }  \n\n  [SUBSCRIBE_SELF('changeBackgroundImageProperty')] (key, backgroundImage) {\n    this.modifyPropertyValue(key, backgroundImage);\n  }  \n\n  [SUBSCRIBE_SELF('changeFilterProperty')] (filter) {\n    this.modifyPropertyValue('filter', filter);\n  }    \n\n  [SUBSCRIBE_SELF('changeBackdropFilterProperty')] (filter) {\n    this.modifyPropertyValue('backdrop-filter', filter);\n  }      \n\n  [SUBSCRIBE_SELF('changeBoxShadowProperty')] (boxshadow) {\n    this.modifyPropertyValue('box-shadow', boxshadow);\n  }   \n  [SUBSCRIBE_SELF('changeTextShadowProperty')] (textShadow) {\n    this.modifyPropertyValue('text-shadow', textShadow);\n  }     \n  \n  [SUBSCRIBE_SELF('changeVar')] (value) {\n    this.modifyPropertyValue('var', value);\n  }     \n\n  [SUBSCRIBE_SELF('changeTransform')] (value) {\n    this.modifyPropertyValue('transform', value);\n  }       \n\n  [SUBSCRIBE_SELF('changeTransformOrigin')] (value) {\n    this.modifyPropertyValue('transform-origin', value);\n  }         \n\n  [SUBSCRIBE_SELF('changePerspectiveOrigin')] (value) {\n    this.modifyPropertyValue('perspective-origin', value);\n  }         \n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n    this.modifyPropertyValue(key, value);\n  }\n\n\n  makePropertyEditor (property, index) {\n\n    if (property.editor) {\n      return this.makeCustomePropertyEditor(property, index);\n    }\n\n    switch(property.key) {\n\n      case 'animation-timing-function':\n      case 'box-shadow':\n      case 'text-shadow':\n      case 'background-image':\n      case 'filter':\n      case 'backdrop-filter':\n      case 'var':\n      case 'transform':\n      case 'transform-origin':\n      case 'perspective-origin':\n      case 'mix-blend-mode':  \n      case 'border':\n      case 'border-radius':   \n      case 'clip-path':   \n      case 'fill-rule':\n      case 'stroke-linecap':\n      case 'stroke-linejoin':\n      case 'stroke-dasharray':\n      case 'd':\n      case 'points':\n      case 'offset-path':\n      case 'playTime':\n        return this.makeIndivisualPropertyEditor(property, index);\n      case 'color':\n      case 'background-color':\n      case 'text-fill-color':\n      case 'text-stroke-color':\n      case 'stroke':\n      case 'fill':\n        return this.makeIndivisualPropertyColorEditor(property, index);\n      case 'opacity':\n      case 'fill-opacity':        \n      case 'stroke-dashoffset':\n      case 'offset-distance':\n\n        let min = 0;\n        let max = 1; \n        let step = 0.01; \n\n        return /*html*/`\n          <div class='property-editor'>\n            <object refClass=\"NumberRangeEditor\"  \n              ref='$opacity${index}' \n              key='${property.key}' \n              min=\"${min}\"\n              max=\"${max}\"\n              step=\"${step}\"\n              value=\"${property.value || 1}\"\n              selected-unit='number'\n              removable=\"true\"\n              onchange=\"changeRangeEditor\" />\n          </div>\n        `\n      case 'rotate':\n        return /*html*/`\n          <div class='property-editor'>\n            <object refClass=\"RangeEditor\"  \n              ref='rangeEditor${index}' \n              key='${property.key}' \n              value='${property.value}'  \n              min=\"-2000\"\n              max=\"2000\"\n              units=\"deg\" \n              onChange=\"changeRangeEditor\" />\n          </div>\n        `\n      case 'left': \n      case 'margin-top': \n      case 'margin-bottom': \n      case 'margin-left': \n      case 'margin-right': \n      case 'padding-top': \n      case 'padding-bottom': \n      case 'padding-left': \n      case 'padding-right': \n\n      case 'font-size': \n      case 'font-stretch': \n      case 'width': \n      case 'height':   \n      case 'perspective':  \n      case 'offset-distance':\n      case 'text-stroke-width':\n      default: \n        return /*html*/`\n          <div class='property-editor'>\n            <object refClass=\"RangeEditor\"  ref='rangeEditor${index}' key='${property.key}' value='${property.value}' max=\"1000\" onChange=\"changeRangeEditor\" />\n          </div>\n        `\n    }\n\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    this.modifyPropertyValue(key, value + \"\");\n  }\n\n  searchKey (key, callback) {\n    this.state.properties.filter(it => it.key === key).forEach(callback)\n  }\n\n  modifyPropertyValue (key, value) {\n\n    this.searchKey(key, (it) => {\n      it.value = value; \n    })\n    this.modifyProperty()    \n\n  }\n\n\n  makePropertySelect() {\n    return /*html*/`\n      <select class='property-select' ref='$propertySelect'>\n        <optgroup label='Position'>\n          <option value='x'>x</option>\n          <option value='y'>y</option>        \n        </optgroup>\n        <optgroup label='Size'>\n          <option value='width'>width</option>\n          <option value='height'>height</option>\n        </optgroup>      \n        <optgroup label='Box Model'>\n          <option value='margin-left'>margin-left</option>\n          <option value='margin-right'>margin-right</option>\n          <option value='margin-bottom'>margin-bottom</option>\n          <option value='margin-top'>margin-top</option>\n          <option value='padding-left'>padding-left</option>\n          <option value='padding-right'>padding-right</option>\n          <option value='padding-bottom'>padding-bottom</option>\n          <option value='padding-top'>padding-top</option>       \n        </optgroup>\n        <optgroup label='Border'>\n          <option value='border'>border</option>\n          <option value='border-radius'>border-radius</option>\n        </optgroup>        \n        <optgroup label='Style'>\n          <option value='background-color'>background-color</option>\n          <option value='background-image'>background-image</option>\n          <option value='box-shadow'>box-shadow</option>\n          <option value='text-shadow'>text-shadow</option>\n          <option value='filter'>filter</option>      \n          <option value='backdrop-filter'>backdrop-filter</option>\n          <option value='mix-blend-mode'>mix-blend-mode</option>\n        </optgroup>            \n        <optgroup label='Transform'>\n          <option value='transform'>transform</option>\n          <option value='transform-origin'>transform-origin</option>\n          <option value='perspective'>perspective</option>\n          <option value='perspective-origin'>perspective-origin</option>\n        </optgroup>\n        <optgroup label='Font'>\n          <option value='font-size'>font-size</option>\n          <option value='font-weight'>font-weight</option>          \n          <option value='font-stretch'>font-stretch</option>\n        </optgroup>\n        <optgroup label='Animation'>\n          <option value='animation-timing-function'>timing-function</option>\n        </optgroup>        \n      </select>\n    `\n  }\n\n  [LOAD('$property')] () {\n    return this.state.properties.map( (it, index) => {\n      return /*html*/`\n        <div class='css-property-item'>\n          <div class='title'>\n            <label>${it.key}</label>\n            <div class='tools'>\n              <button type=\"button\" class='remove' data-index=\"${index}\">${icon.remove2}</button>\n            </div>\n          </div>\n          <div class='title-2'>\n            <div class='tools'>\n              <label><button type=\"button\" class='refresh' data-index=\"${index}\">${icon.refresh}</button> Refresh</label>\n            </div>\n          </div>\n          <div class='value-editor'>\n            ${this.makePropertyEditor(it, index)}\n          </div>\n        </div>\n      `\n    })\n  }\n\n  [SUBSCRIBE(\"showCSSPropertyEditor\")](properties = []) {\n    this.setState({ properties });\n    this.refresh();\n  }\n\n  [CLICK('$property .remove')] (e) {\n    var index = +e.$dt.attr('data-index')\n\n    this.state.properties.splice(index, 1);\n    this.refresh();\n    this.modifyProperty();\n  }\n\n  [CLICK('$property .refresh')] (e) {\n    this.parent.trigger('refreshPropertyValue');\n  }  \n}","\nimport icon from \"el/editor/icon/icon\";\nimport { CLICK, POINTERSTART, BIND, SUBSCRIBE } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { formatCubicBezier, createBezierForPattern, bezierList, getPredefinedCubicBezier } from \"el/utils/bezier\";\nimport { div } from \"el/utils/math\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './CubicBezierEditor.scss';\nimport { curveToPath, curveToPointLine } from \"el/utils/func\";\n\nexport default class CubicBezierEditor extends EditorElement {\n\n    initState() {\n        return {\n            key: this.props.key,\n            currentBezier: getPredefinedCubicBezier( this.props.value || 'linear'),\n            currentBezierIndex: 0,\n            selectedColor: '#609de2',\n            animatedColor: '#609de266',\n            curveColor: '#609de2',\n            baseLineColor: 'rgba(117, 117, 117, 0.46)'\n        }\n    }\n\n    template () {\n\n        const linearCurve = curveToPath(this.state.currentBezier, 150, 150)\n        const linearCurvePoint = curveToPointLine(this.state.currentBezier, 150, 150)\n        const easeCurve = curveToPath('ease', 30, 30)\n        const easeCurvePoint = curveToPointLine('ease', 30, 30)\n        const easeInCurve = curveToPath('ease-in', 30, 30)\n        const easeInCurvePoint = curveToPointLine('ease-in', 30, 30)\n        const easeOutCurve = curveToPath('ease-out', 30, 30)\n        const easeOutCurvePoint = curveToPointLine('ease-out', 30, 30)\n\n        return /*html*/`\n            <div class='elf--cubic-bezier-editor'>\n                <div class='predefined'>\n                    <div class='left' ref='$left'>${icon.chevron_left}</div>\n                    <div class='predefined-text' ref='$text'></div>\n                    <div class='right' ref='$right'>${icon.chevron_right}</div>\n                </div>\n                <div class='animation'>\n                    <canvas \n                        class='animation-canvas' \n                        ref='$animationCanvas' \n                        title='Click and Replay point animation' \n                        width='230px' \n                        height='20px'\n                    ></canvas>\n                </div>\n                <div class='item-list' ref='$itemList' data-selected-value=''>\n                    <div class='item' data-bezier='ease' title='ease'>\n                        <svg class='item-canvas' width=\"30\" height=\"30\" viewBox=\"0 0 30 30\">\n                            <path d=\"${easeCurve}\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n                            <path d=\"${easeCurvePoint}\" stroke=\"gray\" stroke-width=\"1\" fill='none' />\n                        </svg>\n                    </div>\n                    <div class='item' data-bezier='ease-in' title='ease-in'>\n                        <svg class='item-canvas' width=\"30\" height=\"30\" viewBox=\"0 0 30 30\">\n                            <path d=\"${easeInCurve}\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n                            <path d=\"${easeInCurvePoint}\" stroke=\"gray\" stroke-width=\"1\" fill='none' /> \n                        </svg>\n                    </div>\n                    <div class='item' data-bezier='ease-out' title='ease-out'>\n                        <svg class='item-canvas' width=\"30\" height=\"30\" viewBox=\"0 0 30 30\">\n                            <path d=\"${easeOutCurve}\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n                            <path d=\"${easeOutCurvePoint}\" stroke=\"gray\" stroke-width=\"1\" fill='none' />\n                        </svg>\n                    </div>\n                </div>\n                <div class='bezier'>\n                    <svg class='bezier-canvas' width=\"150\" height=\"150\" viewBox=\"0 0 150 150\" overflow=\"visible\">\n                        <path d=\"${linearCurve}\" stroke=\"white\" stroke-width=\"1\" fill='none' ref='$bezierCanvas' />\n                        <path d=\"${linearCurvePoint}\" stroke=\"gray\" stroke-width=\"1\" fill='none' ref='$bezierCanvasPoint' />\n                    </svg>                \n                    <div class='control' ref='$control'>\n                        <div class='pointer1' ref='$pointer1'></div>\n                        <div class='pointer2' ref='$pointer2'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n    [BIND('$bezierCanvas')] () {\n        return {\n            d: curveToPath(this.state.currentBezier, 150, 150)\n        }\n    }\n\n    [BIND('$bezierCanvasPoint')] () {\n        return {\n            d: curveToPointLine(this.state.currentBezier, 150, 150)\n        }\n    }    \n\n    updateData(opt = {}) {\n        this.setState(opt);\n        this.modifyCubicBezier();\n    }\n\n    modifyCubicBezier () {\n        this.parent.trigger(this.props.onchange, this.state.key, formatCubicBezier(this.state.currentBezier))\n    }\n\n    [CLICK('$left')] () {\n        var { currentBezier, currentBezierIndex} = this.state;\n\n        if (currentBezierIndex == 0) {\n            currentBezierIndex = bezierList.length - 1;\n        }  else {\n            --currentBezierIndex;\n        }\n\n        var currentBezier = bezierList[currentBezierIndex]\n\n        this.updateData({ currentBezierIndex, currentBezier })\n\n        this.refresh();\n    }\n\n    [CLICK('$right')] (){\n        var { currentBezier, currentBezierIndex} = this.state;\n\n        currentBezierIndex = (++currentBezierIndex) % bezierList.length;\n        currentBezier = bezierList[currentBezierIndex];\n\n        this.updateData({ currentBezierIndex, currentBezier })\n\n        this.refresh();\n    }\n\n    [CLICK('$text')] () {\n        var currentBezier =  [...bezierList[this.state.currentBezierIndex]]\n\n        this.updateData({ currentBezier });\n        this.refresh();\n    }\n\n    [CLICK('$itemList .item')] (e) {\n        var bezierString = e.$dt.attr('data-bezier');\n        this.refs.$itemList.attr('data-selected-value', bezierString)\n\n        var currentBezier = getPredefinedCubicBezier(bezierString)\n        this.updateData({\n            currentBezier\n        })\n\n        this.refresh();\n    }\n\n    refresh() {\n        this.refreshEasingText();\n        this.refreshBezierCanvas();\n    }\n\n    refreshBezierCanvas () {\n\n        this.bindData('$bezierCanvas');\n        this.bindData('$bezierCanvasPoint');\n        this.refreshPointer();\n        this.drawPoint()\n    }\n\n    refreshEasingText() {\n        this.refs.$text.html(this.state.currentBezier[4] || 'ease');\n    }\n\n    refreshPointer () {\n        var currentBezier = getPredefinedCubicBezier(this.state.currentBezier)\n        var width = this.refs.$control.width();\n        var height = this.refs.$control.height();\n\n        var left = currentBezier[0] * width;\n        var top = (1 - currentBezier[1]) * height;\n\n        this.refs.$pointer1.css({\n            left: Length.px(left).round(),\n            top : Length.px(top).round()\n        });\n\n        left = currentBezier[2] * width ;\n        top = (1 - currentBezier[3]) * height;\n\n        this.refs.$pointer2.css({\n            left: Length.px(left).round(),\n            top : Length.px(top).round()\n        })\n    }\n\n    drawPoint () {\n\n        if (this.timer) clearTimeout(this.timer);\n        if (this.animationTimer) clearTimeout(this.animationTimer);\n\n        this.timer = setTimeout(() =>{\n            this.animationPoint ();\n        }, 100);\n    }\n\n\n    start (i) {\n\n        var pos = this.animationCanvasData.func(i);\n        var x = 10 + (this.animationCanvasData.width - 20) * pos.y;       \n        var y = 10\n        var context = this.animationCanvasData.context;\n\n\n\n        context.beginPath();\n        context.arc(x, y, 5, 0, 2 * Math.PI);\n        context.fill();\n        context.stroke();\n        context.closePath();\n\n        if (i >= 1) {\n            return;\n        }\n\n        this.animationTimer = setTimeout(() => { \n            this.start(i + 0.05); \n        }, 50);\n    }\n\n    animationPoint () {\n        const currentBezier = getPredefinedCubicBezier(this.state.currentBezier);\n        var func = createBezierForPattern(formatCubicBezier(currentBezier));    \n\n        this.refs.$animationCanvas.clear();\n        var width = this.refs.$animationCanvas.width();\n        var height = this.refs.$animationCanvas.height();\n\n        var context = this.refs.$animationCanvas.context();\n        context.fillStyle = this.state.animatedColor;\n        context.strokeStyle = this.state.selectedColor;\n        context.lineWidth = 1;\n\n        this.animationCanvasData = {\n            func, \n            width, \n            height,\n            context\n        }\n\n\n        this.start(0);\n\n\n    }\n\n\n    setPosition(e) {\n        var width = this.refs.$control.width();\n        var height = this.refs.$control.height();\n\n        var minX = this.refs.$control.offset().left;\n        var minY = this.refs.$control.offset().top;\n\n        var p = e;\n\n        var x = p.x;\n        if (0 > x) {\n            x = 0;\n        } else if (p.x > document.body.clientWidth) {\n            x = document.body.clientWidth;            \n        }\n\n        x -= minX;\n\n        if (x < 0) {\n            x = 0; \n        }\n\n        if (width < x) {\n            x = width; \n        }\n\n        var y = p.y;\n\n        y -= minY;\n\n        // $pointer.css({\n        //     left: x + 'px',\n        //     top : y + 'px'\n        // });\n\n        return { \n            x : div(x, width), \n            y : (y == height ) ? 0 : div((height - y), height)\n        };\n    }\n\n    [POINTERSTART('$pointer1') + MOVE('movePointer1') + END('drawPoint')] (e) {\n        this.clientX = e.clientX\n        this.clientY = e.clientY\n    }\n\n    movePointer1 (dx, dy) {\n        var pos = this.setPosition({\n            x: this.clientX + dx,\n            y: this.clientY + dy \n        });\n\n        this.state.currentBezier[0] = pos.x;\n        this.state.currentBezier[1] = pos.y;\n\n        this.refreshBezierCanvas();\n\n        this.modifyCubicBezier();\n    }\n\n    [POINTERSTART('$pointer2') + MOVE('movePointer2') + END('drawPoint')] (e) {\n        this.clientX = e.clientX\n        this.clientY = e.clientY\n    }\n    movePointer2(dx, dy) {\n\n        var pos = this.setPosition({\n            x: this.clientX + dx,\n            y: this.clientY + dy \n        });\n\n        this.state.currentBezier[2] = pos.x;\n        this.state.currentBezier[3] = pos.y;\n\n        this.refreshBezierCanvas();\n\n        this.modifyCubicBezier();\n\n    }\n\n    [SUBSCRIBE('showCubicBezierEditor')] (timingFunction) {\n        var currentBezier = getPredefinedCubicBezier(timingFunction || this.state.currentBezier)\n        this.setState({ currentBezier })\n        this.refresh();\n    }\n}","import { CLICK, LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { DirectionLength } from \"el/editor/unit/DirectionLength\";\nimport './DirectionEditor.scss';\nconst typeList = [\n  { key: \"top\", title: \"Top\" },\n  { key: \"right\", title: \"Right\" },\n  { key: \"bottom\", title: \"Bottom\" },\n  { key: \"left\", title: \"Left\" }\n];\n\nexport default class DirectionEditor extends EditorElement {\n\n  initState() {\n\n    var [count, top, right, bottom, left] = DirectionLength.parse(this.props.value)\n\n    return {\n      isAll: count === 1,\n      all: top.clone(),\n      top: top.clone(),\n      right: right.clone(),\n      bottom: bottom.clone(),\n      left: left.clone()\n    }\n  }\n\n  template() {\n    return `<div class='elf--direction-editor' ref='$body'></div>`\n  }\n\n  [SUBSCRIBE('changeBorderRadius')] (key, value) {\n\n    if (key === 'all') {\n      typeList.forEach(it => {\n        this.state[it.key] = value.clone();\n        this.children[`$${it.key}`].setValue(value.clone())\n      })\n    }\n\n    this.updateData({\n      [key]: value\n    })\n  }\n\n  [LOAD('$body')] () {\n\n    var selectedValue = this.state.isAll ? 'all' : 'partitial'\n    var direction = this.state.all;\n    var display = selectedValue === 'all' ? 'display:none' : 'display:block';\n\n    return /*html*/`\n      <div class=\"property-item direction-item\">\n        <div class=\"radius-selector\" data-selected-value=\"${selectedValue}\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <object refClass=\"RangeEditor\"  ref='$all' key='all' value=\"${direction}\" onchange='changeBorderRadius' />\n        </div>\n      </div>\n      <div\n        class=\"property-item full direction-item\"\n        ref=\"$partitialSetting\"\n        style=\"${display}\"\n      >\n        <div class=\"radius-setting-box\">\n          ${typeList.map(it => {\n            var value = this.state[it.key]\n            return /*html*/`\n              <div>\n                  <object refClass=\"RangeEditor\"  ref='$${it.key}' label='${it.title}' key='${it.key}' value=\"${value}\" onchange='changeBorderRadius' />\n              </div>  \n            `;\n          }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n  updateData (opt = {}) {\n    this.setState(opt, false);\n\n    var value = [];\n\n    if (this.state.isAll) {\n      value = [1, this.state.all,this.state.all,this.state.all,this.state.all]\n    } else {\n      value = [4, this.state.top,this.state.right,this.state.bottom,this.state.left]\n    }\n\n    this.parent.trigger(this.props.onchange, value);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.updateData({\n      isAll: type === 'all'\n    });\n  }\n\n\n}","import icon from \"el/editor/icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  DRAGSTART,\n  DRAGOVER,\n  DROP,\n  PREVENT,\n  DEBOUNCE,\n  SUBSCRIBE,\n  SUBSCRIBE_SELF\n} from \"el/sapa/Event\";\n\nimport {\n  BlurFilter,\n  GrayscaleFilter,\n  HueRotateFilter,\n  InvertFilter,\n  BrightnessFilter,\n  ContrastFilter,\n  DropshadowFilter,\n  OpacityFilter,\n  SaturateFilter,\n  SepiaFilter,\n  Filter,\n  URLSvgFilter\n} from \"el/editor/property-parser/Filter\";\nimport { filter_list } from \"el/editor/util/Resource\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './FilterEditor.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nvar specList = {\n  blur: BlurFilter.spec,\n  grayscale: GrayscaleFilter.spec,\n  \"hue-rotate\": HueRotateFilter.spec,\n  invert: InvertFilter.spec,\n  brightness: BrightnessFilter.spec,\n  contrast: ContrastFilter.spec,\n  \"drop-shadow\": DropshadowFilter.spec,\n  opacity: OpacityFilter.spec,\n  saturate: SaturateFilter.spec,\n  sepia: SepiaFilter.spec,\n  svg: URLSvgFilter.spec\n};\n\nexport default class FilterEditor extends EditorElement {\n\n  initialize() {\n    super.initialize();\n\n    this.notEventRedefine = true;\n  }\n\n  initState() {\n    return {\n      hideLabel: this.props['hide-label'] === 'true' ? true : false, \n      filters: Filter.parseStyle(this.props.value)\n    }\n  }\n\n  template() {\n    var labelClass = this.state.hideLabel ? 'hide' : '';\n    return /*html*/`\n      <div class='elf--filter-editor filter-list'>\n          <div class='label ${labelClass}' >\n              <label>${this.props.title || ''}</label>\n              <div class='tools'>\n                <select ref=\"$filterSelect\"></select>\n                <button type=\"button\" ref=\"$add\" title=\"add Filter\">${icon.add}</button>\n              </div>\n          </div>\n          <div class='filter-list' ref='$filterList'></div>\n      </div>`;\n  }\n\n  [LOAD('$filterSelect')] () {\n    var list = filter_list.map(it => { \n      return {title: it, value: it}\n    })\n\n    var svgFilterList = this.getSVGFilterList()\n\n    var totalList = []\n\n    if (svgFilterList.length) {\n      totalList = [\n        ...list,\n        { title: '-------' , value: ''},\n        ...svgFilterList\n      ]\n    } else {\n      totalList = [\n        ...list\n      ]\n    }\n\n    return totalList.map(it => {\n      var {title, value} = it;\n      \n      return `<option value='${value}'>${title}</option>`\n    })\n  }\n\n  getSpec(filterType) {\n    return specList[filterType];\n  }\n\n  makeDropShadowFilterTemplate(spec, filter, index) {\n    return /*html*/`\n      <div class=\"filter-item\">\n        <div class=\"title drop-shadow\" draggable=\"true\" data-index=\"${index}\">\n          <label>${this.$i18n('filter.property.drop-shadow')}</label>\n          <div class=\"filter-menu\">\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n\n        <div class=\"filter-ui drop-shadow-color\">\n          <object refClass=\"ColorViewEditor\" \n            label=\"${this.$i18n(`filter.property.drop-shadow.color`)}\" \n            ref='$dropShadowColorView${index}' \n            params=\"${index}\" \n            value=\"${filter.color}\" \n            on-change-value=\"changeDropShadowColor\" />\n        </div>\n\n        ${[\"offsetX\", \"offsetY\", \"blurRadius\"].map(key => {\n          return /*html*/`        \n            <div class=\"filter-ui drop-shadow\">\n                <object refClass=\"RangeEditor\"  \n                  ref='$${key}${index}' \n                  label=\"${this.$i18n(`filter.property.drop-shadow.${key}`)}\"\n                  key=\"${index}\" \n                  min=\"${spec[key].min}\"\n                  min=\"${spec[key].max}\"\n                  params=\"${key}\" \n                  value=\"${filter[key].value}\" units=\"${spec[key].units.join(',')}\" onchange=\"changeRangeEditor\" />\n            </div>`;\n        }).join('')}\n      </div>\n    `;\n  }\n\n  getSVGFilterList () {\n     \n    var current = this.$selection.current;\n    var arr = [] \n\n    if (current) {\n      arr = current.svgfilters\n        .map(it => {\n          return {\n            title : `svg - #${it.id}`,\n            value: it.id\n          }\n        })\n    }\n\n    return arr\n  }\n\n  makeOneFilterEditor (index, filter, spec) {\n\n    if (filter.type === 'svg') {\n\n      var options = ''\n      \n      var current = this.$selection.current;\n\n      if (current) {\n        options = current.svgfilters.map(it => {\n          return { value: it.id }\n        })\n      }\n\n      return /*html*/`\n      <object refClass=\"SelectEditor\"  \n        ref='$select${index}' \n        key=\"${index}\" \n        label=\"SVG Filter\"\n        value=\"${filter.value}\" \n        options=${variable(['', ...options])}\n        onchange=\"changeRangeEditor\"  />`\n    }\n\n    return /*html*/`\n      <object refClass=\"RangeEditor\"  \n        ref='$range${index}_${filter.type}' \n        key=\"${index}\" \n        min='${spec.min}'\n        max='${spec.max}'\n        value=\"${filter.value}\" \n        units=\"${spec.units.join(',')}\"   \n        onchange=\"changeRangeEditor\" />\n      `\n  }\n\n  makeOneFilterTemplate(spec, filter, index) {\n\n    var isSVG = filter.type === 'svg'\n    var title = `${this.$i18n('filter.property.' + filter.type)}`\n\n    return /*html*/`\n      <div class=\"filter-item\" data-index=\"${index}\">\n        <div class=\"title\" >\n          <label draggable=\"true\" data-index=\"${index}\" title=\"${isSVG ? '' : title}\">${title}</label>\n          ${filter.type != 'svg' ? /*html*/`\n          <div class=\"filter-ui\">\n            ${this.makeOneFilterEditor(index, filter, spec)}\n          </div>\n        `: /*html*/`\n          <div>\n            <span class='svg-filter-edit' data-index=\"${index}\">${filter.value}</span>\n          </div>\n        `}          \n          <div class=\"filter-menu\">\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  makeFilterTemplate(filter, index) {\n    if (filter.type === \"drop-shadow\") {\n      return this.makeDropShadowFilterTemplate(\n        this.getSpec(filter.type),\n        filter,\n        index\n      );\n    } else {\n      return this.makeOneFilterTemplate(\n        this.getSpec(filter.type),\n        filter,\n        index\n      );\n    }\n  }\n\n  [LOAD(\"$filterList\")]() {\n    return this.state.filters.map((filter, index) => {\n      return this.makeFilterTemplate(filter, index.toString());\n    });\n  }\n\n\n  [DRAGSTART(\"$filterList .filter-item .title label\")](e) {\n    this.startIndex = +e.$dt.attr(\"data-index\");\n  }\n\n\n  [DRAGOVER(\"$filterList .filter-item .title label\") + PREVENT](e) {}\n\n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  sortFilter(startIndex, targetIndex) {\n      this.sortItem(this.state.filters, startIndex, targetIndex);\n  }\n\n  [DROP(\"$filterList .filter-item\") + PREVENT](e) {\n    var targetIndex = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    this.sortFilter(this.startIndex, targetIndex);\n\n    this.refresh();\n\n    this.modifyFilter()\n  }\n\n  modifyFilter () {\n    var value = this.state.filters.join(' ');\n\n    this.parent.trigger(this.props.onchange, this.props.key, value, this.props.params);\n  }\n\n  makeFilter(type, opt = {}) {\n    return Filter.parse({ ...opt, type });\n  }\n\n  [CLICK('$filterList .svg-filter-edit')] (e) {\n    var index = +e.$dt.attr('data-index');\n\n    var filter = this.state.filters[index];\n\n    var current = this.$selection.current; \n    \n    if (current) {\n      var svgfilterIndex = current.getSVGFilterIndex(filter.value?.value?.replace('#', ''));\n      this.trigger('openSVGFilterPopup', svgfilterIndex);\n\n    }\n  }\n\n\n  [SUBSCRIBE('openSVGFilterPopup')](index) {\n    const current = this.$selection.current || { svgfilters: [] } \n    const svgfilter = current.svgfilters[index];\n\n    this.emit(\"showSVGFilterPopup\", {\n        changeEvent: (params) => {\n          var current = this.$selection.current;\n\n          if (current) {\n            current.setSVGFilterValue(params.index, {\n              filters: params.filters\n            });\n\n            this.command(\"setAttributeForMulti\", 'change filter', this.$selection.pack('svgfilters', 'filter'));\n          }          \n        },\n        index,\n        preview: false,\n        filters: svgfilter.filters \n    });\n  }\n\n  [SUBSCRIBE(\"add\")](filterType) {\n\n    if (filterType === 'svg') {\n\n\n      // 비어있는 필터를 하나 생성하고 \n      const index = this.$selection.current.createSVGFilter({ \n        filters: []\n      })\n\n      // 필터 객체를 구한 다음에 \n      const filter = this.$selection.current.svgfilters[index];\n\n      // 내부 리스트를 업데이트 해주고 \n      this.state.filters.push(this.makeFilter(filterType, {\n        value: filter.id\n      }))\n\n      // 화면 다시 그리고 \n      this.refresh();\n  \n      // 필터 리스트 수정하고 \n      this.modifyFilter()\n\n      // 편집기를 열게된다. \n      this.trigger('openSVGFilterPopup', index);\n\n    } else {\n\n      this.state.filters.push(this.makeFilter(filterType))\n\n      this.refresh();\n  \n      this.modifyFilter()\n    }\n\n  }  \n\n  [CLICK(\"$add\")]() {\n    var filterType = this.refs.$filterSelect.value;\n\n    this.trigger('add', filterType)\n  }\n\n  [CLICK(\"$filterList .filter-menu .del\")](e) {\n    var index = +e.$dt.attr(\"data-index\");\n    this.state.filters.splice(index, 1);\n\n    this.refresh();\n\n    this.modifyFilter()\n  }\n\n  [SUBSCRIBE_SELF(\"changeDropShadowColor\")](key, color, params) {\n    var index = +params;\n\n    this.state.filters[index].reset({\n      color\n    });\n\n    this.modifyFilter();\n\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value, params) {\n    if (params) {\n      this.state.filters[+key].reset({ \n        [params]: value \n      });\n    } else {\n      this.state.filters[+key].reset({ \n        value \n      });\n    }\n    \n\n    this.modifyFilter();\n  }\n\n  // [SUBSCRIBE('refreshSVGArea') + DEBOUNCE(1000)] () {\n  //   this.load('$filterSelect');\n  //   this.load('$filterList');\n  // }\n}","import SelectEditor from \"./SelectEditor\";\n\n\nexport const font_list = [\n    '',\n    'Arial',\n    'Arial Black',\n    'Times New Roman',\n    'Times',\n    'Courier New',\n    'Courier',\n    'Verdana',\n    'Georgia',\n    'Palatino',\n    'Garamond',\n    'Bookman',\n    'Tahoma',\n    'Trebuchet MS',\n    'Impact',\n    'Comic Sans MS',\n    'serif',\n    'sans-serif',\n    'monospace',\n    'cursive',\n    'fantasy',\n    'system-ui'\n]\n\n\n// todo: it needs fontManager\nexport default class FontSelectEditor extends SelectEditor {\n\n    getFontList () {\n        return font_list.map(it => {\n            return { value: it }\n        })\n    }\n\n    initState() {\n        return {\n            ...super.initState(),\n            options: this.getFontList()\n        }\n    }\n}","\nimport { LOAD, CLICK, POINTERSTART,  BIND, PREVENT, DOUBLECLICK, CHANGE, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { BackgroundImage } from \"el/editor/property-parser/BackgroundImage\";\nimport { Gradient } from \"el/editor/property-parser/image-resource/Gradient\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { clone } from \"el/sapa/functions/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './GradientEditor.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nvar radialTypeList = [\n  'circle',\n  'circle closest-side',\n  'circle closest-corner',\n  'circle farthest-side',\n  'circle farthest-corner',\n  'ellipse',\n  'ellipse closest-side',\n  'ellipse closest-corner',\n  'ellipse farthest-side',\n  'ellipse farthest-corner'\n]\n\nvar imageTypeList = [\n  'static-gradient',\n  'linear-gradient',\n  'repeating-linear-gradient',\n  'radial-gradient',\n  'repeating-radial-gradient',\n  'conic-gradient',\n  'repeating-conic-gradient',\n  'image-resource'\n]\n\nvar iconList = {\n  'image-resource': iconUse(\"photo\")\n}\n\nvar hasRadialPosition = {\n  'radial-gradient': true,\n  'repeating-radial-gradient': true,\n  'conic-gradient': true,\n  'repeating-conic-gradient': true\n}\n\nvar presetPosition = {\n  top: [ '50%', '0%' ],\n  'top left': [ '0%', '0%' ],\n  'top right': [ '100%', '0%' ],\n  left: [ '0%', '50%' ],\n  right: [ '100%', '50%' ],\n  bottom: [ '50%', '100%' ],\n  'bottom left': [ '0%', '100%' ],\n  'bottom right': [ '100%', '100%' ]\n}\n\nexport default class GradientEditor extends EditorElement  {\n\n  initState() {\n\n    return {\n      index: +(this.props.index || 0 ),\n      value: this.props.value, \n      image: BackgroundImage.parseImage(this.props.value || '') || { type: '', colorsteps: [] } \n    }\n  }\n\n  setValue (value) {\n    this.setState({\n      image: BackgroundImage.parseImage(value)\n    }, false)\n\n    this.refresh();\n    this.parent.trigger('changeTabType', this.state.image.type);\n  }\n\n  template() {\n\n    var { image } = this.state; \n\n    image = image || {} \n\n    var type = image.type || 'static-gradient'\n    \n    if (type === 'url') type = 'image-resource'\n\n\n    return /*html*/`\n        <div class='elf--gradient-editor' data-selected-editor='${type}'>\n            <div class='gradient-preview'>\n              <div class='gradient-view' ref='$gradientView' title='${this.$i18n('gradient.editor.drag.message')}'></div>\n              <div class='drag-pointer' ref='$dragPosition'></div>\n              <div class='preset-position'>\n                <div data-value='top' title='top'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='right' title='right'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='left' title='left'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='bottom' title='bottom'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='top left' title='top left'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='top right' title='top right'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='bottom left' title='bottom left'>${iconUse(\"chevron_right\")}</div>\n                <div data-value='bottom right' title='bottom right'>${iconUse(\"chevron_right\")}</div>                \n              </div>\n              <div data-editor='image-loader'>\n                <input type='file' accept=\"image/*\" ref='$file' />\n              </div>              \n            </div>\n            <div class=\"picker-tab\">\n              <div class=\"picker-tab-list\" ref=\"$tab\">\n                ${imageTypeList.map(it => {\n                  return `<span class='picker-tab-item ${it}' data-editor='${it}'><span class='icon'>${iconList[it] || ''}</span></span>`\n                }).join('')}\n              </div>\n            </div>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <label>Offset</label>\n              <object refClass='InputRangeEditor' ref='$range' calc=\"false\" key='length' onchange='changeColorStepOffset' />\n            </div>\n            <div class='tools' data-editor='tools'>\n              <label for='gradientConnected${this.id}'>connected </label>\n              <input type='checkbox'  id='gradientConnected${this.id}' ref='$cut' checked />\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n              <div data-editor='angle'>\n                <object refClass=\"RangeEditor\" label='Angle' ref='$angle' calc=\"false\" units=\"deg\" min=\"-720\" max=\"720\" key='angle' onchange='changeKeyValue' />\n              </div>\n              <div data-editor='centerX'>\n                <object refClass=\"RangeEditor\" label='Center X' ref='$radialPositionX' calc=\"false\" value=\"50%\"  key='radialPositionX' onchange='changeKeyValue' />\n              </div>                \n              <div data-editor='centerY'>                      \n                <object refClass=\"RangeEditor\" label='Center Y' ref='$radialPositionY' calc=\"false\" value=\"50%\" key='radialPositionY' onchange='changeKeyValue' />\n              </div>                \n              <div data-editor='radialType'>              \n                <object refClass=\"SelectEditor\" label='Radial Type' ref='$radialType' value=\"\" options=\"${variable(radialTypeList)}\" key='radialType' onchange='changeKeyValue' />\n              </div>\n\n            </div>            \n        </div>\n      `;\n  }\n\n  [CHANGE('$file')] (e) {\n    var project = this.$selection.currentProject;\n    if (project) {\n      [...e.target.files].forEach(item => {\n        this.emit('updateImageAssetItem', item, (local) => {\n          this.trigger('setImageUrl', local);\n        });\n      })\n    }\n  }\n\n\n  [CLICK('$el .preset-position [data-value]')] (e) {\n    var type = e.$dt.attr('data-value')\n\n    if (presetPosition[type]) {\n      this.state.image.radialPosition = clone(presetPosition[type])\n      this.refresh();\n      this.updateData();\n    }\n\n  }\n\n  [DOUBLECLICK('$gradientView') + PREVENT] (e) {\n    this.state.image.radialPosition = ['50%', '50%']\n    this.refresh();\n    this.updateData();\n  }\n\n  [POINTERSTART('$gradientView') + MOVE('moveDragPosition') + END('moveEndDragPosition')]  (e) {\n    var parent = this.refs.$dragPosition.parent();\n    this.containerRect = parent.rect();\n    this.startXY = e.xy; \n    this.$config.set('set.move.control.point', true);\n  }\n\n  moveEndDragPosition(dx, dy) {\n    this.$config.set('set.move.control.point', false);\n  }\n\n  moveDragPosition (dx, dy) {\n    var x = this.startXY.x + dx; \n    var y = this.startXY.y + dy; \n\n    if (this.containerRect.x > x) {\n      x = this.containerRect.x; \n    } else if (this.containerRect.x + this.containerRect.width < x) {\n      x = this.containerRect.x + this.containerRect.width; \n    }\n\n    if (this.containerRect.y > y) {\n      y = this.containerRect.y; \n    } else if (this.containerRect.y + this.containerRect.height < y) {\n      y = this.containerRect.y + this.containerRect.height; \n    }    \n\n    var left = Length.percent((x - this.containerRect.x ) / this.containerRect.width  * 100) \n    var top = Length.percent((y - this.containerRect.y ) / this.containerRect.height  * 100) \n\n    this.state.image.radialPosition = [ left, top]\n\n    this.bindData('$dragPosition');\n    this.bindData('$gradientView')    \n    this.children.$radialPositionX.setValue(left)\n    this.children.$radialPositionY.setValue(top)\n\n    this.updateData();\n  }\n\n  [CLICK('$tab .picker-tab-item')] (e) {\n    var type = e.$dt.attr('data-editor')\n    this.$el.attr('data-selected-editor', type);\n    this.parent.trigger('changeTabType', type);\n\n    var url = type === 'image-resource' ? this.state.image.url : this.state.url;\n    this.state.image = BackgroundImage.changeImageType({\n      type,\n      url,\n      colorsteps: this.state.image.colorsteps || [] ,   \n      angle: Length.parse(this.children.$angle.getValue()).value,\n      radialType: this.children.$radialType.getValue(),\n      radialPosition: [ \n        this.children.$radialPositionX.getValue(), \n        this.children.$radialPositionY.getValue() \n      ] \n    })\n    this.refresh();\n    this.updateData();\n    this.sendMessage();\n  }\n\n  sendMessage (type) {\n    var type = this.$el.attr('data-selected-editor');\n    if (type === 'linear-gradient' || type === 'repeating-linear-gradient') {\n      this.emit('addStatusBarMessage', '');\n    } else {\n      this.emit('addStatusBarMessage', 'Drag if you want to move center position');\n    }\n  }\n\n  [SUBSCRIBE_SELF('changeKeyValue')] (key, value) {\n\n    if (key === 'angle') {\n      value = value.value; \n    } \n\n    this.state.image[key] = value;\n\n    if (key === 'radialPositionX' || key === 'radialPositionY') {\n      this.state.image['radialPosition'] = [\n        this.state.image.radialPositionX || '50%', \n        this.state.image.radialPositionY || '50%'\n      ] \n    }\n\n    this.bindData('$gradientView')\n\n    this.updateData();\n  }\n\n  [SUBSCRIBE('changeColorStepOffset')] (key, value) {\n    if (this.currentStep) {\n      this.currentStep.percent = value.value;\n      this.state.image.sortColorStep();\n      this.refresh()\n      this.updateData();      \n    }\n  }\n\n  [CLICK('$back')] (e) {\n    \n    var rect = this.refs.$stepList.rect();\n    \n    var minX = rect.x;\n    var maxX = rect.right;\n\n    var x = e.xy.x \n\n    if (x < minX)  x = minX\n    else if (x > maxX) x = maxX\n    var percent = (x - minX) / rect.width * 100;\n\n    this.state.image.insertColorStep(percent);\n    this.state.image.sortColorStep()\n\n    this.refresh();\n    this.updateData();\n  }\n\n  [BIND('$el')] () {\n    var type = this.state.image.type;\n    if (type === 'url') {\n      type = 'image-resource'\n    }\n    this.parent.trigger('changeTabType', type);\n    return {\n      \"data-selected-editor\": type\n    }\n  }\n\n  [BIND('$stepList')] () {\n    return {\n      'data-selected-index': this.state.index.toString(),\n      'style': {\n        'background-image' : this.getLinearGradient()\n      }\n      \n    }\n  }\n\n  [BIND('$gradientView')] () {\n\n    var type = this.state.image.type;\n    var size = 'auto';\n\n    if (type === 'url' || type === 'image-resource') {\n      size = 'cover'\n    }\n\n    return {\n      style: {\n        'background-image': this.state.image.toString(),\n        'background-size': size,\n        'background-repeat': 'no-repeat'\n      }\n    }\n  }\n\n  [BIND('$dragPosition')] () {\n    var left = '50%'\n    var top = '50%'\n\n    if (hasRadialPosition[this.state.image.type]) {\n      var [left, top] = this.state.image.radialPosition;\n    }\n\n    return {\n      style: {\n        left, top \n      }\n    }\n  }\n\n  [LOAD('$stepList')] () {\n    var colorsteps = this.state.image.colorsteps || [] \n    return colorsteps.map( (it, index) => {\n\n      var selected = this.$selection.isSelectedColorStep(it.id) ? 'selected' : '';\n\n      return /*html*/`\n      <div class='step ${selected}' data-id='${it.id}' data-cut='${it.cut}' style='left: ${it.toLength()};'>\n        <div class='color-view' style=\"background-color: ${it.color}\"></div>\n        <div class='arrow' style=\"background-color: ${it.color}\"></div>\n      </div>`\n    })\n  }\n\n  [CLICK('$cut')] () {\n    if (this.currentStep) {\n\n      this.currentStep.cut = this.refs.$cut.checked()\n\n      this.refresh()\n      this.updateData();      \n    } \n  }\n\n  removeStep(id) {\n\n    this.state.image.removeColorStep(id);\n\n    this.refresh();\n    this.updateData();          \n  }\n\n  selectStep(id) {\n    this.state.id = id; \n\n    this.$selection.selectColorStep(id);\n\n    if (this.state.image.colorsteps) {\n      this.currentStep = this.state.image.colorsteps.find( it => this.$selection.isSelectedColorStep(it.id))\n      this.refs.$cut.checked(this.currentStep.cut);\n      this.children.$range.setValue(Length.percent(this.currentStep.percent));\n      this.parent.trigger('selectColorStep', this.currentStep.color)    \n  \n    }\n\n    this.refresh();\n\n  }\n\n  [POINTERSTART('$stepList .step') + MOVE()] (e) {\n    var id = e.$dt.attr('data-id')\n\n    if (e.altKey) {\n      this.removeStep(id);\n      return false; \n    } else {\n\n      this.selectStep(id);\n\n      this.startXY = e.xy;\n\n      this.cachedStepListRect = this.refs.$stepList.rect();\n    }\n\n  }\n\n  getStepListRect () {\n    return this.cachedStepListRect;\n  }\n\n  move (dx, dy) {\n\n    var rect = this.getStepListRect()\n    \n    var minX = rect.x;\n    var maxX = rect.right;\n\n    var x = this.startXY.x + dx \n\n    if (x < minX)  x = minX\n    else if (x > maxX) x = maxX\n    var percent = (x - minX) / rect.width * 100;\n\n    this.currentStep.setValue(percent, rect.width)\n\n    this.children.$range.setValue(Length.percent(percent));    \n    this.state.image.sortColorStep();\n    this.refresh()\n\n    this.updateData();    \n  }\n\n\n  refresh() {\n    this.load();\n  }\n\n  getLinearGradient () {\n\n    var { image } = this.state; \n\n    return `linear-gradient(to right, ${Gradient.toColorString(image.colorsteps)})`;\n\n  }\n\n  [SUBSCRIBE('setColorStepColor')] (color) {\n\n    if (this.state.image.type === 'static-gradient') {\n      this.state.image.colorsteps[0].color = color; \n      this.refresh()\n      this.updateData();      \n    } else {\n\n      if (this.currentStep) {\n        this.currentStep.color = color;\n        this.refresh()\n        this.updateData();\n      }\n    }\n\n  }\n\n\n  [SUBSCRIBE('setImageUrl')] (url) {\n\n    if (this.state.image) {\n      this.state.url = url; \n      this.state.image.reset({ url });\n      this.refresh();\n      this.updateData();\n    }\n  }\n\n  updateData(data = {}) {\n    this.setState(data, false);\n    this.parent.trigger(this.props.onchange, this.state.image.toString());\n  }\n\n}","import { LOAD, BIND, CLICK } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './IconListViewEditor.scss';\n\nexport default class IconListViewEditor extends EditorElement {\n\n    initState() {\n        return {\n            value: this.props.value\n        }\n    }\n\n    template() {\n        return /*html*/`<div class='select-editor elf--list-view-editor' ref='$body'></div>`\n    }\n\n    [BIND('$body')] () {\n        return {\n            'data-column': this.props.column || 1  \n        }\n    }\n\n    [LOAD('$body')] () {\n        return Object.keys(icon).map(key => {\n            var html = icon[key]\n            var selected = key === this.state.value ? 'selected' : ''\n\n            return /*html*/`<div class='list-view-item ${selected}'  data-key='${key}'>${html}</div>`\n        })\n    }\n\n    getValue () {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.state.value = value; \n        this.refresh()\n    }\n\n    [CLICK('$body .list-view-item')] (e) {\n        var key = e.$dt.attr('data-key');\n\n        e.$dt.onlyOneClass('selected')\n\n        this.updateData({\n            value: key\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","import { LOAD, INPUT, BIND } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\n\nexport default class InputArrayEditor extends EditorElement {\n\n    initState() {\n        var values = this.props.values.split(' ').map(it => +it)\n        return {\n            values,\n            column: this.props.column\n        }\n    }\n\n    template () {\n        return /*html*/`<div class='small-editor input-array-editor' ref='$body' ></div>`\n    }\n\n    [BIND('$body')] () {\n        return {\n\n            cssText : `\n                display: grid;\n                grid-template-columns: repeat(${this.state.column}, 1fr);\n                grid-column-gap: 2px;\n                grid-row-gap: 2px;\n            `\n        }\n    }\n\n    [LOAD('$body')] () {\n\n        var { values } = this.state\n\n        \n        return values.map( (value, index) => {\n            return `\n                <div class='number-editor'>\n                    <input type=\"number\" value=\"${value}\" step=\"0.01\" data-index=\"${index}\" />\n                </div>\n            `\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.values, this.props.params)\n    }\n\n    [INPUT('$body input')] (e) {\n\n        var $el = e.$dt;\n        var index = +$el.attr('data-index')\n        var value = +$el.value\n\n        this.state.values[index] = value; \n\n        this.updateData();\n\n    }\n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, INPUT, CLICK, FOCUS, BLUR, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { OBJECT_TO_CLASS } from \"el/utils/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './InputRangeEditor.scss';\nexport default class InputRangeEditor extends EditorElement {\n\n    initState() {\n        var units =  this.props.units || 'px,em,%';\n        var value = Length.parse(this.props.value || Length.z());\n        let label = this.props.label || ''; \n\n        if (icon[label]) {\n            label = icon[label];\n        }\n\n        return {\n            removable: this.props.removable === 'true',\n            label,\n            compact: this.props.compact === 'true',\n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            layout: this.props.layout || '',\n            units,\n            value\n        }\n    }\n\n    template () {\n        return /*html*/`<div class='small-editor' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { min, max, step, label, compact, removable, layout } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var layoutClass = layout;\n\n        var realValue = (+value).toString();\n\n        return /*html*/`\n        <div \n            ref=\"$range\",\n            class=\"${OBJECT_TO_CLASS({\n                'elf--input-range-editor': true,\n                'has-label': !!label,\n                'compact': !!compact,\n                'is-removable': removable,\n                [layoutClass] : true \n            })}\"\n        >\n            ${label ? `<label>${label}</label>` : '' }\n            <div class='range--editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" tabIndex=\"1\" />\n                    \n                    <object refClass=\"SelectEditor\"  ref='$unit' key='unit' value=\"${this.state.selectedUnit || this.state.value.unit}\" options=\"${this.state.units}\" onchange='changeUnit' />\n                    \n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove' title='Remove'>${icon.remove}</button>\n        </div>\n    `\n    }\n\n    getValue() {\n        return this.state.value.clone(); \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        }, false)\n\n        this.refs.$propertyNumber.val(this.state.value.value); \n        this.refs.$unit.val(this.state.value.unit)\n    }\n\n    [FOCUS('$propertyNumber')] (e) {\n        this.refs.$range.addClass('focused');\n    }\n\n    [BLUR('$propertyNumber')] (e) {\n        this.refs.$range.removeClass('focused');\n    }\n\n\n    [CLICK('$remove')] (e) {\n        this.updateData({\n            value: ''\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n    initValue () {\n        if (this.state.value == '') {\n            this.state.value = new Length(0, this.children.$unit.getValue())\n        }   \n    }\n\n    [INPUT('$propertyNumber')] (e) {\n\n        var value = +this.getRef('$propertyNumber').value; \n        \n        this.initValue()\n\n        this.updateData({ \n            value: new Length(value, this.children.$unit.getValue())\n        });\n    }\n\n    [SUBSCRIBE_SELF('changeUnit')] (key, value) {\n\n        this.initValue();\n\n        this.updateData({\n            value: this.state.value.toUnit(value)\n        })\n    }\n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, INPUT, CLICK, FOCUS, BLUR, POINTERSTART, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { OBJECT_TO_CLASS } from \"el/utils/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './RangeEditor.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class RangeEditor extends EditorElement {\n\n\n    initialize() {\n        super.initialize();\n    \n        this.notEventRedefine = true;\n    }    \n\n    initState() {\n        var units = this.props.units || 'px,em,%';\n        var value = Length.parse(this.props.value || Length.z());\n\n        return {\n            removable: this.props.removable === 'true',\n            calc:  this.props.calc === 'true'  ? true : false,\n            compact:  this.props.compact === 'true'  ? true : false,            \n            label: this.props.label || '',\n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            layout: this.props.layout || '',\n            units,\n            value\n        }\n    }\n\n    template () {\n        return /*html*/`<div class='small-editor' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { min, max, step, label, removable, layout, compact } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var layoutClass = layout;\n\n        var realValue = (+value).toString();\n\n        var units = this.state.units.split(',').map(it => {\n            let description = it; \n            if (description === 'number')  {\n                description = '';\n            }\n            return {value: it, text: description }\n        });\n\n        return /*html*/`\n        <div \n            ref=\"$range\"\n            class=\"${OBJECT_TO_CLASS({\n                'elf--range--editor': true,\n                'has-label': !!label,\n                'compact': !!compact,\n                'is-removable': removable,\n                [layoutClass] : true \n            })}\"\n        >\n            ${label ? `<label title=\"${label}\">${label}</label>` : '' }\n            <div class='range--editor-type' data-type='range'>\n                <input type='range' ref='$property' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" /> \n                <div class='area' ref='$rangeArea'>\n                    <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" tabIndex=\"1\" />\n                    <object refClass=\"SelectEditor\"  ref='$unit' key='unit' value=\"${this.state.selectedUnit || this.state.value.unit}\" options=${variable(units)} onchange='changeUnit' />\n                </div>\n            </div>\n            <button type='button' class='remove thin' ref='$remove' title='Remove'>${icon.remove}</button>\n        </div>\n    `\n    }\n\n    getValue() {\n        return this.state.value.clone(); \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        })\n    }\n\n    [FOCUS('$body input[type=\"number\"]')] (e) {\n        this.refs.$rangeArea.addClass('focused');\n    }\n\n    [BLUR('$body input[type=\"number\"]')] (e) {\n        this.refs.$rangeArea.removeClass('focused');\n    }    \n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n    initValue () {\n        if (this.state.value == '') {\n            this.state.value = new Length(0, this.children.$unit.getValue())\n        }\n        \n    }\n\n    [INPUT('$body input[type=\"number\"]')] (e) {\n\n        var value = +this.refs.$propertyNumber.value; \n        this.getRef('$property').val(value);\n        \n        this.initValue()\n\n        this.updateData({ \n            value: new Length(value, this.children.$unit.getValue())\n        });\n\n    }\n\n    [INPUT('$body input[type=\"range\"]')] (e) {\n        this.trigger('changeRangeValue');\n    }\n\n    [POINTERSTART('$body input[type=\"range\"]') + END()] () {}\n\n    end() {\n        this.trigger('changeRangeValue');\n    }\n\n    [SUBSCRIBE_SELF('changeRangeValue')] () {\n        var value = +this.getRef('$property').value; \n        this.refs.$propertyNumber.val(value);\n\n        this.initValue();\n\n        this.updateData({ \n            value: new Length(value, this.children.$unit.getValue())\n        });\n    }\n\n    [SUBSCRIBE_SELF('changeUnit')] (key, value) {\n\n        this.initValue();\n\n        this.updateData({\n            value: this.state.value.toUnit(value)\n        })\n    }\n}","import { Length } from \"el/editor/unit/Length\";\nimport RangeEditor from \"./RangeEditor\";\n\nexport default class IterationCountEditor extends RangeEditor {\n\n    initState() {\n        var value = this.props.value\n\n        if (value === 'infinite') {\n            value = new Length(0, 'infinite')\n        } else {\n            value = Length.number(value.split('normal')[0])\n        }\n        var units = this.props.units || 'px,em,%';\n        \n        return {\n            ...super.initState(), \n            ...{\n                key: this.props.key,\n                params: this.props.params || '',\n                units,\n                value\n            }\n        }\n    }\n\n}\n","\nimport { POINTERSTART, BIND, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './MediaProgressEditor.scss';\n\nexport default class MediaProgressEditor extends EditorElement {\n\n\n    initState() {\n        const [start, end, duration] = (this.props.value || \"\").split(\":\");\n\n        return {\n            start: +(start || 0),\n            end: +(end || 1),\n            duration: +(duration || 1)\n        }\n    }\n\n    refresh() {\n        this.load();\n\n        this.children.$s.setValue(this.state.start * this.state.duration);\n        this.children.$e.setValue(this.state.end * this.state.duration);\n\n        this.children.$s.setMax(this.state.duration);\n        this.children.$e.setMax(this.state.duration);\n    }\n\n    template() {\n\n        const { start, end, duration } = this.state; \n\n        return /*html*/`\n            <div class='elf--media-progress-editor'>\n                <div class='drag-area'>\n                    <div class='progress-bar' ref='$progress'></div>\n                    <div class='bar' ref='$bar'></div>                \n                    <div class='drag-item start' ref='$start'></div>\n                    <div class='drag-item end' ref='$end'></div>\n                </div>\n                <div class='item'>\n                    <object refClass=\"NumberRangeEditor\"  \n                        ref='$s' \n                        label='Start' \n                        key='start' \n                        min=\"0\" \n                        max=\"${duration}\" \n                        step=\"0.001\" \n                        value=\"${start * duration}\" \n                        onchange=\"changeValue\" \n                    />\n                </div>\n                <div class='item'>\n                    <object refClass=\"NumberRangeEditor\"  \n                        ref='$e' \n                        label='End' \n                        key='end' \n                        min=\"0\" \n                        max=\"${duration}\" \n                        step=\"0.001\" \n                        value=\"${end * duration}\" \n                        onchange=\"changeValue\" \n                    />\n                </div>                \n            </div>\n        `\n    }\n\n    [SUBSCRIBE_SELF('changeValue')] (key, value) {\n        this.updateData({\n            [key]: value/this.state.duration\n        }, true);\n    }\n\n    [POINTERSTART('$start') + MOVE('moveStart')] (e) {\n        this.rect = this.refs.$progress.rect();\n        this.pos = Length.parse(this.refs.$start.css('left')).toPx(this.rect.width);\n        this.max = Length.parse(this.refs.$end.css('left')).toPx(this.rect.width);\n    }\n\n    moveStart (dx, dy) {\n        var realPos = Math.min(this.max.value, Math.max(0, this.pos.value + dx))\n        this.state.start = realPos / this.rect.width;\n        this.children.$s.setValue(this.state.start * this.state.duration);\n\n        this.refresh();\n        this.updateData();               \n    }\n\n    [BIND('$start')] () {\n\n        return {\n            'data-info': this.state.start,\n            style: {\n                left: Length.percent((this.state.start || 0) * 100)\n            }\n        }\n    }\n\n    [POINTERSTART('$end') + MOVE('moveStartForEnd')] (e) {\n        this.rect = this.refs.$progress.rect();\n        this.pos = Length.parse(this.refs.$end.css('left')).toPx(this.rect.width);\n        this.min = Length.parse(this.refs.$start.css('left')).toPx(this.rect.width);\n        this.max = Length.px(this.rect.width);\n    }\n\n    moveStartForEnd (dx, dy) {\n        var realPos = Math.max(this.min.value, Math.min(this.max.value, this.pos.value + dx))\n        this.state.end = realPos / this.rect.width;\n        this.children.$e.setValue(this.state.end * this.state.duration);        \n        this.refresh(); \n        this.updateData();       \n    }\n\n    [BIND('$end')] () {\n        return {\n            'data-info': this.state.end,\n            style: {\n                left: Length.percent((this.state.end || 1) * 100)\n            }\n        }\n    }\n\n    [BIND('$bar')] () {\n        const start = this.state.start || 0;\n        const end = this.state.end || 1;\n        return {\n            style: {\n                left: Length.percent(start * 100),\n                width: Length.percent((end - start) * 100)\n            }\n        }\n    }    \n\n    getValue () {\n        const { start, end, duration} = this.state; \n        return `${start}:${end}:${duration}`; \n    }\n\n    setValue (value) {\n        const [ start, end, duration ] = value.split(':');\n        this.setState({ \n            start: Number(start), \n            end: Number(end),\n            duration: Number(duration),\n        })\n    }\n\n    updateData (data = {}, isRefresh = false) {\n        this.setState(data, isRefresh)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params)\n    }\n}","import { Length } from \"el/editor/unit/Length\";\nimport { LOAD, INPUT, FOCUS, BLUR } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './NumberInputEditor.scss';\n\nexport default class NumberInputEditor extends EditorElement {\n\n    initState() {\n        var value = Length.parse(this.props.value || Length.number(0));\n\n        value = value.toUnit('number');\n        let label = this.props.label || ''; \n\n        if (icon[label]) {\n            label = icon[label];\n        }        \n        return {\n            label,\n            compact: this.props.compact === 'true',            \n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            layout: this.props.layout || '',\n            value\n        }\n    }\n\n    template () {\n        return `<div class='small-editor' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n        var { min, max, step, label, type, layout, compact } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var hasLabel = !!label ? 'has-label' : ''\n        var hasCompact = !!compact ? 'compact' : ''        \n        var layoutClass = layout;\n\n        var realValue = (+value).toString();\n        \n        return /*html*/`\n        <div class='elf--number-input-editor ${hasLabel} ${hasCompact} ${layoutClass}' \n            ref=\"$range\"\n            data-selected-type='${type}'>\n            ${label ? `<label>${label}</label>` : '' }\n            <div class='range--editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" />\n                </div>\n            </div>\n        </div>\n    `\n    }\n\n    getValue() {\n        return this.state.value || 0; \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        }, false)\n        this.refs.$propertyNumber.val(this.state.value.value)\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n\n    [FOCUS('$body input[type=number]')] (e) {\n        this.refs.$range.addClass('focused');\n    }\n\n    [BLUR('$body input[type=number]')] (e) {\n        this.refs.$range.removeClass('focused');\n    }    \n\n    [INPUT('$body input[type=number]')] (e) {\n        var value = +this.getRef('$propertyNumber').value; \n\n        this.updateData({ \n            value: this.state.value.set(value)\n        });\n\n    }\n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, INPUT, CLICK, FOCUS, BLUR, POINTERSTART, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport './NumberRangeEditor.scss';\n\nexport default class NumberRangeEditor extends EditorElement {\n\n\n    initialize() {\n        super.initialize();\n    \n        this.notEventRedefine = true;\n    }    \n\n    initState() {\n        var value = Length.parse(this.props.value || Length.number(0));\n        value = value.toUnit('number');\n        return {\n            removable: this.props.removable === 'true',\n            clamp: this.props.clamp === 'true',\n            label: this.props.label || '',\n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            layout: this.props.layout || '',\n            value\n        }\n    }\n\n    template () {\n        return `<div class='small-editor' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { min, max, step, label, type, removable, layout } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var hasLabel = !!label ? 'has-label' : ''\n        var isRemovable = removable ? 'is-removable' : '';\n        var layoutClass = layout;\n\n        var realValue = (+value).toString();\n        \n        return /*html*/`\n        <div class='elf--number-range-editor ${hasLabel} ${isRemovable} ${layoutClass}' data-selected-type='${type}'>\n            ${label ? `<label title=\"${label}\">${label}</label>` : '' }\n            <div class='range--editor-type' data-type='range'>\n                <div class='area'>\n                    <div>\n                        <input type='range' ref='$property' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" />\n                    </div>\n                    <div>\n                        <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" tabIndex=\"1\" />\n                    </div>\n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove' title='Remove'>${icon.remove}</button>\n        </div>\n    `\n    }\n\n    setMin (value) {\n        this.setState({\n            min: Length.parse(value)\n        })\n    }\n\n    setMax (value) {\n        this.setState({\n            max: Length.parse(value)\n        })\n    }    \n\n    getValue() {\n\n        if (this.state.clamp) {\n            return this.state.value.clamp(this.state.min, this.state.max);\n        }\n        \n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        })\n    }\n\n    [FOCUS('$body input[type=\"number\"]')] (e) {\n        this.refs.$propertyNumber.addClass('focused');\n    } \n\n    [BLUR('$body input[type=\"number\"]')] (e) {\n        this.refs.$propertyNumber.removeClass('focused');\n    }\n\n    [CLICK('$remove')] (e) {\n        this.updateData({\n            value: ''\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params)\n    }\n\n    [INPUT('$body input[type=\"number\"]')] (e) {\n\n        var value = +this.refs.$propertyNumber.value; \n        this.getRef('$property').val(value);\n\n        this.updateData({ \n            value: this.state.value.set(value)\n        });\n\n    }\n\n    [INPUT('$body input[type=\"range\"]')] () {\n        this.trigger('changeRangeValue');\n    }\n\n\n    [POINTERSTART('$body input[type=\"range\"]') + END()] () {\n\n    }\n\n    end () {\n        this.trigger('changeRangeValue');\n    }\n\n    [SUBSCRIBE_SELF('changeRangeValue')] () {\n        var value = +this.getRef('$property').value; \n        this.getRef('$propertyNumber').val(value);\n\n        if (this.state.value === '') {\n            this.state.value = Length.number(0)\n        }\n\n        this.updateData({ \n            value: this.state.value.set(value)\n        });\n    }    \n}","\nimport { LOAD, INPUT, DEBOUNCE, CLICK } from \"el/sapa/Event\";\nimport PathParser from \"el/editor/parser/PathParser\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './PathDataEditor.scss';\n\nexport default class PathDataEditor extends EditorElement {\n\n    initState() { \n        var parser = new PathParser(this.props.value || '')\n        return {\n            parser\n        }\n    }\n\n    makeSegments () {\n        return this.refs.$data.$$('.segment').map($segment => {\n            var $command = $segment.$('.command');\n            var command = $command.attr('data-command');\n            \n            if (command === 'Z' && $command.attr('data-toggle') === 'false') {\n                return null; \n            }\n\n            var values = $segment.$$('.values input[type=number]').map(it => {\n                return +it.value; \n            })\n\n            return {\n                command,\n                values\n            }\n        }).filter(it => it);\n    }\n\n    updateData() {\n        var segments = this.makeSegments()\n\n        this.state.parser.resetSegments(segments);\n\n        this.modifyPathData();\n    }\n\n    modifyPathData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);\n    }\n\n    setValue (value) {\n        this.setState({\n            parser: new PathParser(value)\n        })\n    }\n\n    getValue () {\n        return this.state.parser.joinPath();\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='elf--path-data-editor'>\n                <div class='data' ref='$data'></div>\n            </div>\n        `\n    }\n\n    [LOAD('$data')] () {\n\n        var  segments = []\n        \n        this.state.parser.segments.forEach((it, index) => {\n\n            var s = {...it}\n\n            segments.push(s);\n            var next = this.state.parser.segments[index+1]\n            if (next && next.command === 'M') {\n                if (s.command !== 'Z') {\n                    segments.push({command: 'Z', toggle: false, values: []})\n                } else {\n                    s.toggle = true; \n                } \n            }      \n\n        });\n\n        var last = this.state.parser.segments[this.state.parser.segments.length-1];\n        if (last && last.command !== 'Z') {\n            segments.push({command: 'Z', toggle: false, values: [] })\n        }\n\n        var arr = segments.map(it => {\n            var cls = it.command === 'M' ? 'm' : '';\n            return /*html*/`\n                <div class='segment ${cls}'>\n                    <div class='command' data-command='${it.command}' data-toggle=\"${it.toggle}\" title='Toggle'>${it.command}</div>\n                    <div class='values'>\n                        ${it.values.map(v => {\n                            return /*html*/`<input type=\"number\" value=\"${v}\" />`\n                        }).join('')}\n\n                        ${it.command === 'Z' ? (\n                            it.toggle === false ? \"opened\" : 'closed'\n                        ) : ''}\n                    </div>\n                </div>\n            `\n        })\n\n        arr.unshift(/*html*/`\n            <div class='segment-empty'>\n                <div class='command'></div>\n                <div class='values'>\n                    <span>X</span>\n                    <span>Y</span>\n                </div>\n            </div>\n        `)\n\n        return arr; \n    }\n\n    [INPUT('$data input[type=number]') + DEBOUNCE(300)] (e) {\n        this.updateData();\n    }\n\n    [CLICK('$data .command[data-toggle]')] (e) {\n        var [command, toggle] = e.$dt.attrs('data-command', 'data-toggle');\n        if (command === 'Z') {\n            if (toggle !== 'false') {\n                toggle = 'false'; \n            } else {\n                toggle = 'true'\n            }\n\n            e.$dt.attr('data-toggle', toggle);\n\n            this.updateData();\n        }\n    }\n}","import { LOAD, INPUT, DEBOUNCE } from \"el/sapa/Event\";\nimport PolygonParser from \"el/editor/parser/PolygonParser\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './PolygonDataEditor.scss';\n\nexport default class PolygonDataEditor extends EditorElement {\n\n    initState() { \n        var parser = new PolygonParser(this.props.value || '')\n        return {\n            parser\n        }\n    }\n\n    makeSegments () {\n        return this.refs.$data.$$('.segment').map($segment => {\n            var x = +$segment.$('[data-key=\"x\"]').value;\n            var y = +$segment.$('[data-key=\"y\"]').value;\n\n            return { x, y }\n        })\n    }\n\n    updateData() {\n        var segments = this.makeSegments()\n\n        this.state.parser.resetSegments(segments);\n\n        this.modifyPolygonData();\n    }\n\n    modifyPolygonData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);\n    }\n\n    setValue (value) {\n        this.setState({\n            parser: new PolygonParser(value || '')\n        })\n    }\n\n    getValue () {\n        return this.state.parser.joinPoints();\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='elf--polygon-data-editor'>\n                <div class='data' ref='$data'></div>\n            </div>\n        `\n    }\n\n    [LOAD('$data')] () {\n        return this.state.parser.segments.map(it => {\n            return /*html*/`\n                <div class='segment'>\n                    <div class='values'>\n                        <label>X <input type=\"number\" data-key=\"x\" value=\"${it.x}\" /></label>\n                        <label>Y <input type=\"number\" data-key=\"y\" value=\"${it.y}\" /></label>\n                    </div>\n                </div>\n            `\n        })\n    }\n\n    [INPUT('$data input[type=number]') + DEBOUNCE(300)] (e) {\n        this.updateData();\n    }\n}","\nimport { LOAD, CLICK, DOMDIFF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { isString } from \"el/sapa/functions/func\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './SelectIconEditor.scss';\nimport { CSS_TO_STRING } from \"el/utils/func\";\n\nexport default class SelectIconEditor extends EditorElement {\n\n    initialize() {\n        super.initialize();\n    \n        this.notEventRedefine = true;\n    }\n\n    initState() {\n        var splitChar = this.props.split || ',';\n        var options = Array.isArray(this.props.options) \n                        ? this.props.options.map(it => {\n                            if (isString(it)) {\n                                return { value: it }\n                            }\n                            return it;  \n                        })\n                        : (this.props.options  || '').split(splitChar).map(it => it.trim()).map(it => {\n                            const [value, text] = it.split(':');\n                            return { value, text }\n                        });\n\n        var icons = (this.props.icons || '').split(splitChar).map(it => it.trim());\n        var colors = (this.props.colors || '').split(splitChar).map(it => it.trim());\n\n        var value = this.props.value || '';\n\n        return {\n            label: this.props.label || '',\n            compact: this.props.compact === 'true',\n            options, \n            icons, \n            colors,\n            value\n        }\n    }\n\n    template() {\n        var { label, compact } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        var hasCompact = !!compact ? 'compact': '';\n        return /*html*/`\n            <div class='elf--select-icon-editor ${hasLabel}'>\n                ${label ? `<label title=\"${label}\">${label}</label>` : '' }\n                <div class='items ${hasCompact}' ref='$options'></div>\n            </div>\n        `\n    }\n\n    [CLICK('$close')] () {\n        this.updateData({\n            value: ''\n        })\n        this.refresh();\n    }\n\n    getValue () {\n        return this.state.value || ''; \n    }\n\n    setValue (value) {\n\n        this.setState({\n            value\n        })\n    }\n\n    [LOAD('$options') + DOMDIFF] () {\n        return this.state.options.map((it, index) => {\n\n\n            var value = it.value; \n            var label = it.text; \n            var title = it.text; \n            var iconClass = ''\n\n            var isSelected = value === this.state.value; \n            var selected = isSelected ? 'selected' : '' \n            if (it.value === '') {\n                var label = icon.close\n                title = 'close'\n            } else {\n                var iconKey = this.state.icons[index];\n\n                if (icon[iconKey]) {\n                    iconClass = 'icon' \n                }\n\n                title = label \n                label = icon[iconKey] || label || iconKey || it.text || it.value; \n            }\n\n            var color = this.state.colors[index]\n            var css = {}\n            if (isSelected && color) {\n                css['background-color'] = color; \n            }\n            \n            return /*html*/`<div class='select-icon-item ${selected} ${iconClass}' style='${CSS_TO_STRING(css)}' data-value=\"${value}\" title='${title}'>${label}</div>`\n        })\n    }\n\n    [CLICK('$options .select-icon-item')] (e) {\n\n        var value = e.$dt.attr('data-value')\n\n        this.updateData({\n            value\n        })\n\n        this.refresh();\n    }\n\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params)\n    }\n}","import { LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './StrokeDashArrayEditor.scss';\n\nexport default class StrokeDashArrayEditor extends EditorElement {\n\n\n  initialize() {\n    super.initialize();\n\n    this.notEventRedefine = true;\n  }  \n\n\n  initState() {\n\n    var value = this.generateValue(this.props.value || '')\n    \n    return {\n      label: this.props.label || '',\n      value,\n      count: 1,\n    }\n  }\n\n  template() {\n\n    const { label } = this.state; \n    const hasLabel = !!label\n\n    return /*html*/`\n      <div class='elf--stroke-dasharray-editor'>\n        <div class='tools ${hasLabel ? 'has-label': ''}'>\n          ${hasLabel ? `<label class='label'>${label}</label>` : ''}\n          <label ref='$add'>${icon.add} ${this.$i18n('stroke.dasharray.editor.add')}</label>\n        </div>      \n        <div ref='$body'></div>\n      </div>\n    `\n  }\n\n  toStringValue () {\n    return this.state.value.join(' ');\n  }\n\n  getValue () {\n    return this.toStringValue()\n  }\n\n  generateValue (value) {\n    return value.split(\" \").filter(Boolean).map(it => +it);\n  }\n\n  setValue (value) {\n\n    if (Array.isArray(value)) {\n\n    } else {\n      value = this.generateValue(value);\n    }\n\n    this.setState({\n      value\n    })\n\n  }\n\n  [LOAD('$body')] () {\n\n    this.state.count++;\n\n    return this.state.value.map( (value, index) =>  {\n      var num = index + 1; \n      return /*html*/`\n        <div class='dasharray-item'>\n          <object refClass=\"NumberRangeEditor\"  \n            ref='$dash-${this.state.count}-${num}' \n            label='${num}'\n            key='${index}' \n            value=\"${value}\" \n            min=\"0\"\n            max=\"100\"\n            step=\"1\"\n            onchange=\"changeRangeEditor\" \n          />\n          <button type=\"button\" data-index=\"${index}\" class='delete'>${icon.remove2}</button>\n        </div>\n      `\n    });\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    var index = +key\n    this.state.value[index] = value \n\n    this.modifyStrokeDashArray();\n  }\n\n  [CLICK('$add')] () {\n\n    this.setState({\n      value: [...this.state.value, 0]\n    })\n  }\n\n  [CLICK('$body .delete')] (e) {\n    const index = +e.$dt.attr('data-index');\n\n    this.state.value.splice(index, 1);\n\n    this.refresh();\n    this.modifyStrokeDashArray();    \n  }\n\n\n  modifyStrokeDashArray () {\n    this.parent.trigger(this.props.onchange, this.props.key,  this.toStringValue(), this.props.params);\n  }\n\n\n}","\nimport { BIND, INPUT } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport './TextAreaEditor.scss'\n\nexport default class TextAreaEditor extends EditorElement {\n\n    initState() {\n        var value = this.props.value;\n\n        return {\n            label: this.props.label || '',\n            height: Length.px(100),\n            value\n        }\n    }\n\n    template() {\n        var { label, height, value } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='elf--text-area-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }\n                <textarea ref='$text' style='height:${height}'>${value}</textarea>\n            </div>\n        `\n    }\n\n    getValue () {\n        return this.refs.$options.value; \n    }\n\n    setValue (value, height) {\n        this.setState({ value }, false)\n\n        if (height) {\n            this.setState({ height }, false)\n        }\n        this.refresh();        \n    }\n\n    [BIND('$text')] () {\n        return {\n            'text': this.state.value || '',\n            style: {\n                height: this.state.height \n            }\n        }\n    }\n\n    [INPUT('$text')] () {\n        this.updateData({\n            value: this.refs.$text.value \n        })\n    }\n\n\n    updateData (data) {\n        this.setState(data)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","import { BIND, INPUT } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './TextEditor.scss';\n\nexport default class TextEditor extends EditorElement {\n\n    initState() {\n        var value = this.props.value;\n        return {\n            label: this.props.label || '',\n            value\n        }\n    }\n\n    template() {\n        var { label, value } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='elf--text-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }\n                <div>\n                    <input type='text' ref='$text' value=\"${value}\" />\n                </div>\n            </div>\n        `\n    }\n\n    getValue () {\n        return this.refs.$text.value; \n    }\n\n    setValue (value) {\n        this.refs.$text.val(value);\n        this.setState({\n            value\n        }, false);\n    }\n\n    [BIND('$text')] () {\n        return {\n            'value': this.state.value\n        }\n    }\n\n    [INPUT('$text')] () {\n        this.updateData({\n            value: this.refs.$text.value\n        })\n    }\n\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params)\n    }\n}","import { INPUT, LOAD, CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './VarEditor.scss';\n\nexport default class VarEditor extends EditorElement {\n\n    initState() {\n        var values = this.props.value.split(';').filter(it => it.trim()).map(it => {\n            let [key, value] = it.split(':')\n            key = key.replace('--', '')\n            return {key, value}\n        });\n\n        return {\n            hideLabel: this.props['hide-label'] == 'true' ? true : false, \n            params: this.props.params || '',\n            values\n        }\n    }\n\n    template() {\n        var labelClass = this.state.hideLabel ? 'hide' : '';\n        return /*html*/`\n        <div class='elf--var-editor var-list'>\n            <div class='label ${labelClass}' >\n                <label>${this.props.title || ''}</label>\n                <div class='tools'>\n                    <button type=\"button\" ref=\"$add\" title=\"add Var\">${icon.add}</button>\n                </div>\n            </div>\n            <div class='var-list' ref='$varList'></div>\n        </div>`;\n    }\n\n    [SUBSCRIBE('add')] () {\n        this.state.values.push({\n            key: '',\n            value: '' \n        })\n\n        this.refresh();\n\n        this.updateData();\n    }\n\n    [CLICK('$add')] () {\n        this.trigger('add');\n    }\n\n    [LOAD('$varList')] () {\n        return this.state.values.map( (it, index) => {\n            return `\n                <div class='var-item' >\n                    <div>\n                        <input type=\"text\" data-type=\"key\" value=\"${it.key}\" data-index=\"${index}\"  placeholder=\"variable\" />\n                    </div>\n                    <div>\n                        <input type=\"text\" data-type=\"value\" value=\"${it.value}\" data-index=\"${index}\"  placeholder=\"value\" />\n                    </div>\n                    <div class=\"tools\">\n                        <button type=\"button\" class=\"del\" data-index=\"${index}\">\n                        ${icon.remove2}\n                        </button>\n                    </div>\n                </div>\n            `\n        })\n    }\n\n    [CLICK('$varList .del')] (e) {\n        var index = +e.$dt.attr('data-index')\n\n        this.state.values.splice(index, 1);\n\n        this.refresh();\n\n        this.updateData();\n    }\n\n    [INPUT('$varList input')] (e) {\n        var index = +e.$dt.attr('data-index')\n        var type = e.$dt.attr('data-type')\n\n        this.state.values[index][type] = e.$dt.value; \n\n        this.updateData()\n    }\n\n    updateData (data) {\n        var value = this.state.values.map(it => {\n            return `${it.key}:${it.value}`\n        }).join(';')\n\n        this.parent.trigger(this.props.onchange, value, this.props.params)\n    }\n\n}","import Dom from 'el/sapa/functions/Dom';\nimport { CSS_TO_STRING, TAG_TO_STRING } from 'el/utils/func';\nimport { Editor } from 'el/editor/manager/Editor';\nimport { isFunction } from 'el/sapa/functions/func';\n\nconst char_list = [\n    /\\(/gi,\n    /\\)/gi,\n]\n\nconst function_list = 'grayscale,matrix,rotateZ,blur,sepia,linear-gradient,radial-gradient,conic-gradient,circle,inset,polygon,rgb'.split(',').map(it => {\n    return new RegExp(it, \"gi\");\n});\nconst keyword_list = 'butt,miter,start,at,black,repeat,lighten,multiply,solid,border-box,visible,absolute,relative,auto'.split(',').map(it => {\n    return new RegExp(it, \"gi\");\n});\n\nfunction replaceKeyword(str) {\n\n    keyword_list.forEach(ke => {\n        str = str.replace(ke, (str) => {\n            return `<span class=\"keyword\">${str}</span>`;\n        });\n    });\n\n    function_list.forEach(ke => {\n        str = str.replace(ke, (str) => {\n            return `<span class=\"function\">${str}</span>`;\n        });\n    });    \n\n    char_list.forEach(ke => {\n        str = str.replace(ke, (str) => {\n            return `<span class=\"char\">${str}</span>`;\n        });\n    });\n\n    return str;\n}\n\nfunction filterKeyName (str, prefixPadding = '') {\n    return str.split(';').filter(it => it.trim()).map(it => {\n      it = it.trim();\n      var [key, value] = it.split(':').map(it => it.trim());\n\n      if (value === '') {\n        return '';\n      }\n\n      return /*html*/`<div class=\"block\"><strong>${key}</strong><span>:&nbsp;</span><span class=\"value\">${replaceKeyword(value)}</span><span>;</span></div>` \n    }).join('').trim()\n}\n\nfunction modifyNewLine (str) {\n    return str.replace(/;/gi, \";\\n\").trim()\n}\n\nexport default class HTMLRenderer {\n    /**\n     * \n     * @param {Editor} editor \n     */\n    constructor(editor) {\n        this.editor = editor;\n    }\n\n    get id() {\n        return this.editor.EDITOR_ID;\n    }\n\n    getDefaultRendererInstance () {\n        return this.editor.getRendererInstance('html', 'rect');\n    }\n\n    getRendererInstance (item) {\n        return this.editor.getRendererInstance('html', item.itemType) || this.getDefaultRendererInstance() || item;\n    }\n\n\n    /**\n     * \n     * @param {BaseModel} item \n     */\n    render (item, renderer) {\n        if (!item) return;\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return currentRenderer.render(item, renderer || this);\n        }\n    }\n\n    renderSVG (item, renderer) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (isFunction(currentRenderer.renderSVG)) {\n            return currentRenderer.renderSVG(item, renderer || this);\n        } \n\n        return this.getDefaultRendererInstance().renderSVG(item, renderer || this);\n    }\n\n    to(type, item) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (isFunction(currentRenderer[type])) {\n            return currentRenderer[type].call(currentRenderer, item);\n        }\n\n\n        const defaultInstance = this.getDefaultRendererInstance();\n\n        if (isFunction(defaultInstance[type])) {\n            return defaultInstance[type].call(defaultInstance, item);\n        }\n    }\n\n    /**\n     * css 속성을 리턴해준다.\n     * \n     * @param {BaseModel} item \n     * @param {object} [omit={}] 제거할 필드 적용 \n     */\n    toCSS (item, omit = {}) {\n        const css = this.to('toCSS', item); \n\n        Object.keys(omit).forEach(key => {\n            delete css[key];\n        })\n\n        return css;\n    }\n\n    /**\n     * \n     * @param {BaseModel} item \n     */\n    toNestedCSS (item) {\n        return this.to('toNestedCSS', item);       \n    }  \n\n    /**\n     * \n     * @param {BaseModel} item \n     */\n    toTransformCSS (item) {\n        return this.to('toTransformCSS', item);    \n    }   \n\n    toGridLayoutCSS (item) {\n        return this.to('toGridLayoutCSS', item);            \n    }     \n\n    toLayoutItemCSS (item) {\n        return this.to('toLayoutItemCSS', item);            \n    }         \n\n    toLayoutBaseModelCSS (item) {\n        return this.to('toLayoutBaseModelCSS', item);            \n    }    \n\n\n    /**\n     * \n     * 렌더링 될 style 태그를 리턴한다. \n     * \n     * @param {BaseModel} item \n     */\n    toStyle (item, renderer) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (isFunction(currentRenderer.toStyle)) {\n            return currentRenderer.toStyle(item, renderer || this);\n        }\n\n        return this.getDefaultRendererInstance().toStyle(item, renderer || this);        \n    }\n\n    /**\n     * \n     * 렌더링 될 style 태그를 리턴한다. \n     * \n     * @param {BaseModel} item \n     */\n     toExportStyle (item, renderer) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (isFunction(currentRenderer.toExportStyle)) {\n            return currentRenderer.toExportStyle(item, renderer || this);\n        }\n\n        return this.getDefaultRendererInstance().toExportStyle(item, renderer || this);        \n    }    \n\n    /**\n     * \n     * @param {BaseModel} item \n     * @param {Dom} currentElement\n     */\n    update (item, currentElement, editor) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (isFunction(currentRenderer.update)) {\n            return currentRenderer.update(item, currentElement, editor);\n        }\n\n        return this.getDefaultRendererInstance().update(item, currentElement, editor);\n    }\n\n    /**\n     * 코드 뷰용 HTML 코드를 렌더링 한다. \n     * @param {BaseModel} item \n     */\n    codeview (item) {\n\n        if (!item) {\n            return '';\n        }\n\n        const currentProject = item.top;\n        let keyframeCode = modifyNewLine(filterKeyName(currentProject ? currentProject.toKeyframeString() : ''))\n        let rootVariable = currentProject ? CSS_TO_STRING(currentProject.toRootVariableCSS()) : ''\n        // let svgCode = this.renderSVG(currentProject);\n        // svgCode = svgCode.replace(/\\</g, '&lt;').replace(/\\>/g, '&gt;') \n    \n        const current = item;\n        const cssCode = filterKeyName(current ? TAG_TO_STRING( CSS_TO_STRING( this.toCSS(current) ) ) : '')\n        const nestedCssCode = current ? this.toNestedCSS(current).map(it => {\n            var cssText = it.cssText ? it.cssText : CSS_TO_STRING(it.css)\n            return `${it.selector} { \n    ${filterKeyName(TAG_TO_STRING(cssText), '&nbsp;&nbsp;')}\n    }`\n        }) : []\n        const selectorCode = current ? current.selectors : [];\n    \n    \n        return /*html*/`\n<div class=''>\n\n${cssCode && /*html*/`<div><pre title='CSS'>${cssCode}</pre></div>`}\n\n${nestedCssCode.map(it => {\n    return /*html*/`<div><pre title='CSS'>${it}</pre></div>`\n}).join('')}\n\n${(selectorCode || []).length ? \n    /*html*/`<div>\n    ${selectorCode.map(selector => {\n        return `<pre title='${selector.selector}'>${selector.toPropertyString()}</pre>`\n    }).join('')}\n    \n    </div>` : ''\n}\n\n${keyframeCode && /*html*/`<div><pre title='Keyframe'>${keyframeCode}</pre></div>`}\n\n${rootVariable ? \n    /*html*/`<div>\n    <label>:root</label>\n    <pre>${rootVariable}</pre>\n    </div>` : ''\n}\n\n</div>\n        `\n    \n    }\n}","import DomRender from \"./DomRender\";\n\nexport default class ArtBoardRender extends DomRender {\n\n  /**\n   * Artboard 템플릿 설정 \n   * \n   * @param {Item} item \n   * @param {Renderer} renderer\n   * @override\n   */\n  render (item, renderer) {\n    var {elementType, id, name, itemType} = item;\n  \n    const tagName = elementType || 'div'\n  \n    return /*html*/`    \n      <${tagName} class=\"element-item artboard\" data-id=\"${id}\">\n        ${this.toDefString(item)}\n        ${item.layers.map(it => {\n          return renderer.render(it, renderer)\n        }).join('\\n\\t')}\n      </${tagName}>\n    `\n  }\n\n\n  /**\n   * \n   * artboard 는 border 를 표현하지 않는다. \n   * \n   * @param {Item} item \n   */\n   toBorderCSS(item) {\n    return {}; \n  }\n\n}","import LayerRender from \"./LayerRender\";\n\nexport default class CircleRender extends LayerRender {\n    \n\n}","import { CSS_TO_STRING } from \"el/utils/func\";\nimport LayerRender from \"./LayerRender\";\n\n\nconst faceKeys = [\n    'front', 'back', 'left', 'right', 'top','bottom'\n]\n  \nexport default class CubeRender extends LayerRender {\n    \n  /**\n   * \n   * @param {Item} item \n   */ \n  toDefaultCSS(item) {\n    let obj = {}\n\n    if (item.x)  obj.left = item.x ;\n    if (item.y)  obj.top = item.y ;    \n\n    obj.visibility = (item.visible) ? 'visible' : 'hidden';    \n\n    return {\n      ...obj,\n      ...this.toKeyListCSS(item, [\n        'position', \n        'right', \n        'bottom', \n        'width',\n        'height', \n        'transform-origin', \n        'transform', \n        'transform-style', \n        'perspective', \n        'perspective-origin',\n        'animation',  \n        'transition',\n        // 'filter',\n      ])\n    }\n\n  }   \n\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toCSS(item) {\n\n    return {\n      ...this.toVariableCSS(item),\n      ...this.toDefaultCSS(item),\n      ...this.toWebkitCSS(item),      \n      ...this.toBoxModelCSS(item),\n      ...this.toLayoutItemCSS(item),\n    };\n  }\n\n\n  /**\n   * \n   * @param {Item} item \n   */\n  toNestedCSS(item) {\n\n    var rate = item.rate.value; \n    var width = item.width; \n    var height = item.height; \n    var halfWidth = width.value/2\n    var halfHeight = height.value/2\n    var backfaceVisibility = item['backface-visibility']\n    var css = {\n      ...this.toKeyListCSS(item, [\n        'filter', \n        'mix-blend-mode', \n        'border-radius', \n        'background-color', \n        'opacity', \n        'color'\n      ]),      \n      ...this.toClipPathCSS(item),\n      ...this.toBackgroundImageCSS(item),\n      ...this.toBorderCSS(item)\n    }\n\n    return [\n      { selector: 'div', cssText: `\n          position: absolute;\n          left: 0px;\n          top: 0px;\n          bottom: 0px;\n          right: 0px;\n          opacity: 1;\n          pointer-events: none;\n          ${CSS_TO_STRING(css)}\n        `.trim()\n      },\n      {\n        selector: '.front', cssText: `\n          transform:rotateY(0deg) translateZ(${halfWidth * rate}px);\n          width: ${width};\n          height: ${height};     \n          backface-visibility: ${backfaceVisibility};          \n          ${item['front.color'] ? `background-color: ${item['front.color']};`: ''}\n          ${item['front.background'] ? `${item['front.background']};`: ''}\n\n        `.trim()\n      },\n      {\n        selector: '.back', cssText: `\n          transform: rotateY(180deg) translateZ(${halfWidth * rate}px);\n          width: ${width};\n          height: ${height};        \n          backface-visibility: ${backfaceVisibility};              \n          ${item['back.color'] ? `background-color: ${item['back.color']};`: ''}                  \n          ${item['back.background'] ? `${item['back.background']};`: ''}\n        `.trim()\n      },\n      {\n        selector: '.left', cssText:  `\n          transform: rotateY(-90deg) translateZ(${halfWidth * rate}px);\n          width: ${width};\n          height: ${height};    \n          backface-visibility: ${backfaceVisibility};          \n          ${item['left.color'] ? `background-color: ${item['left.color']};`: ''}                          \n          ${item['left.background'] ? `${item['left.background']};`: ''}\n        `.trim()\n      },\n      {\n        selector: '.right', cssText: `\n          transform: rotateY(90deg) translateZ(${halfWidth * rate}px);\n          width: ${width};\n          height: ${height};      \n          backface-visibility: ${backfaceVisibility};          \n          ${item['right.color'] ? `background-color: ${item['right.color']};`: ''}                        \n          ${item['right.background'] ? `${item['right.background']};`: ''}          \n        `.trim()\n      },\n      {\n        selector: '.top', cssText: `\n          transform: rotateX(90deg) translateZ(${halfHeight * rate}px);\n          top: ${halfHeight - halfWidth}px;\n          width: ${width};\n          height: ${width};\n          backface-visibility: ${backfaceVisibility};          \n          ${item['top.color'] ? `background-color: ${item['top.color']};`: ''}      \n          ${item['top.background'] ? `${item['top.background']};`: ''}              \n        `.trim()\n      },\n      {\n        selector: '.bottom', cssText: `\n          transform: rotateX(-90deg) translateZ(${halfHeight * rate}px);\n          top: ${halfHeight - halfWidth}px;          \n          width: ${width};\n          height: ${width};    \n          backface-visibility: ${backfaceVisibility};          \n          ${item['bottom.color'] ? `background-color: ${item['bottom.color']};`: ''}\n          ${item['bottom.background'] ? `${item['bottom.background']};`: ''}                          \n        `.trim()\n      }\n    ]\n  }\n\n  /**\n   * \n   * @param {Item} item \n   */\n  render (item) {\n    var {id} = item;\n\n    return /*html*/`\n      <div class='element-item cube' data-id=\"${id}\">\n        ${this.toDefString(item)}\n        ${faceKeys.map(key => {\n          return /*html*/`<div class='${key}'></div>`\n        }).join('')}\n      </div>`\n  }\n\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport LayerRender from \"./LayerRender\";\n\nexport default class ImageRender extends LayerRender {\n    \n\n    /**\n     * 중첩 CSS 정의 \n     * \n     * @param {Item} item\n     */\n    toNestedCSS(item) {\n        return [\n            { selector: 'img', cssText: `\n                width: 100%;\n                height: 100%;\n                pointer-events: none;\n                `.trim()\n            },\n        ]\n    }\n\n\n    /**\n     * \n     * @param {Item} item \n     */\n    getUrl (item) {\n        var {src} = item;     \n        var project = item.project;\n        \n        return project.getImageValueById(src) || src;\n    }\n\n    /**\n     * \n     * @param {*} item \n     */\n    render (item) {\n        var {id} = item;\n\n        return /*html*/`\n          <div class='element-item image' data-id=\"${id}\">\n            ${this.toDefString(item)}\n            <img src='${this.getUrl(item)}' />\n          </div>`\n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n    update(item, currentElement) {\n\n        const $image = currentElement.$('img')\n        if ($image) {\n            $image.attr('src', this.getUrl(item));\n        }\n\n        super.update(item, currentElement);\n    } \n}","import { CSS_TO_STRING } from \"el/utils/func\";\nimport { Project } from \"plugins/default-items/layers/Project\";\nimport DomRender from \"./DomRender\";\n\nexport default class ProjectRender extends DomRender {\n    \n\n    /**\n     * \n     * @param {Item} item \n     */\n    toRootVariableCSS (item) {\n        let obj = {}\n        item.rootVariable.split(';').filter(it => it.trim()).forEach(it => {\n        var [key, value] = it.split(':')\n\n        obj[`--${key}`] = value; \n        })\n\n        return obj;\n    }  \n\n    /**\n     * \n     * @param {Project} item \n     */\n    toCSS(item) {\n        return Object.assign(\n            {},\n            ...this.toRootVariableCSS(item)\n        )\n    }\n\n    /**\n     * \n     * @param {Project} item \n     */\n    toStyle (item) {\n        \n        const keyframeString = item.toKeyframeString();\n        const rootVariable = this.toRootVariableCSS(item);\n\n        return /*html*/`\n<style type='text/css' data-renderer-type=\"html\" data-id='${item.id}'>\n    :root {\n        ${CSS_TO_STRING(rootVariable)}\n    }\n    /* keyframe */\n    ${keyframeString}\n</style>\n        `\n    }\n\n    /**\n     * \n     * @param {Project} item \n     */\n     toExportStyle (item) {\n        \n        const keyframeString = item.toKeyframeString();\n        const rootVariable = this.toRootVariableCSS(item);\n\n        return /*html*/`\n<style type='text/css' data-renderer-type=\"html\" data-id='${item.id}'>\n    :root {\n        ${CSS_TO_STRING(rootVariable)}\n    }\n    /* keyframe */\n    ${keyframeString}\n</style>\n        `\n    }    \n\n    /**\n     * \n     * @param {Item} item \n     * @param {HTMLRenderer} renderer \n     */\n    render (item, renderer) {\n        return item.layers.map(it => {\n            return renderer.render(it)\n        }).join('');\n    }\n\n    /**\n     * 프로젝트에서 관리하는 SVG 객체를 출력한다. \n     * \n     * @param {Item} item \n     * @param {HTMLRenderer} renderer \n     */\n    renderSVG (item, renderer) {\n        return '';\n    }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class RectRender extends LayerRender {\n    \n\n}","import Color from \"el/utils/Color\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport { SVGFill } from \"el/editor/property-parser/SVGFill\";\nimport LayerRender from \"./LayerRender\";\n\nexport default class SVGItemRender extends LayerRender {\n\n    update (item, currentElement) {\n\n        // element 를 캐쉬 해두기 \n        if (item.getCache(\"element\") !== currentElement) {\n            item.addCache(\"element\", currentElement);\n            \n            const $path = currentElement.$('path');            \n            item.addCache(\"svgElement\", $path.parent().el)\n            item.addCache(\"pathElement\", $path.el);\n        }    \n  \n\n        super.update(item, currentElement);\n    }\n\n\n    /**\n     * Def 업데이트 하기 \n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n    updateDefString (item, currentElement) {\n\n        var $defs = currentElement.$('defs');\n        if ($defs) {\n            $defs.updateSVGDiff(`<defs>${this.toDefInnerString(item)}</defs>`)\n        } else {\n            var str = this.toDefString(item).trim();\n            currentElement.prepend(Dom.createByHTML(str));\n        }      \n    }  \n\n    /**\n     * \n     * @param {Item} item \n     */\n    toDefInnerString (item) {\n        return /*html*/`\n            ${this.toFillSVG(item)}\n            ${this.toStrokeSVG(item)}\n        `\n    }\n\n    fillId (item) {\n        return this.getInnerId(item, 'fill')\n    }\n\n    strokeId (item) {\n        return this.getInnerId(item, 'stroke')\n    }\n\n    cachedStroke(item) {\n\n        return item.computed('stroke', (value) => {\n            return SVGFill.parseImage(value || 'black')\n        });\n    }\n\n    cachedFill(item) {\n\n        return item.computed('fill', (value) => {\n            return SVGFill.parseImage(value || 'black')\n        });\n    }     \n\n    toFillSVG (item) {\n        const fillValue = this.cachedFill(item);\n        return fillValue?.toSVGString?.(this.fillId(item));\n    }\n\n    toStrokeSVG (item) { \n        const strokeValue = this.cachedStroke(item);\n        return strokeValue?.toSVGString?.(this.strokeId(item));\n    }  \n\n    toFillValue (item) {\n\n        const fillValue = this.cachedFill(item);\n\n        return  fillValue?.toFillValue?.(this.fillId(item)); \n    }\n\n    toFillOpacityValue (item) {\n        return  Color.parse(item.fill || 'transparent').a;\n    }  \n\n    toStrokeValue (item) {\n\n        const strokeValue = this.cachedStroke(item);\n\n        return strokeValue?.toFillValue?.(this.strokeId(item));\n    }  \n\n    toFilterValue (item) {\n\n        if (!item.svgfilter) {\n            return '';\n        }\n\n        return `url(#${item.svgfilter})`\n    }\n\n    /**\n     * @override\n     * @param {Item} item\n     */\n    toLayoutCSS(item) {\n        return {}\n    }\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toDefaultCSS(item) {\n        return {\n            ...super.toDefaultCSS(item),\n            ...this.toKeyListCSS(item, [\n                'stroke-width', 'stroke-linecap', 'stroke-linejoin', 'stroke-dasharray', 'stroke-dashoffset',\n                'fill-opacity', 'fill-rule', 'text-anchor'\n            ])\n        }\n    }\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toSVGAttribute (item) {\n        return this.toDefaultCSS(item);\n    }\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGPathRender extends SVGItemRender {\n    \n  /**\n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    if (!currentElement) return; \n\n    const $path = currentElement.$('path');\n\n    if ($path) {\n\n      if (item.hasChangedField('width', 'height', 'd')) {\n        $path.setAttrNS({\n          'd':  item.d,\n        })  \n      } \n      if (item.hasChangedField('fill')){\n        $path.setAttrNS({\n          'fill': this.toFillValue(item),\n        })  \n\n      } \n      \n      if (item.hasChangedField('stroke')){\n        $path.setAttrNS({\n          'stroke': this.toStrokeValue(item)\n        })  \n        \n      } \n      \n      if (item.hasChangedField('filter')){\n        $path.setAttrNS({\n          'filter': this.toFilterValue(item),\n        })          \n      }\n\n      if (item.hasChangedField('fill-rule')){\n        $path.setAttrNS({\n          'fill-rule': item['fill-rule'] || 'nonezero',\n        })          \n      }\n\n      if (item.hasChangedField('stroke-linejoin')){\n        $path.setAttrNS({\n          'stroke-linejoin': item['stroke-linejoin'],\n        })          \n      }\n\n      if (item.hasChangedField('stroke-linecap')){\n        $path.setAttrNS({\n          'stroke-linecap': item['stroke-linecap'],\n        })          \n      }\n    }\n\n    super.update(item, currentElement)\n\n  }    \n\n\n  render (item) {\n    var {id, name, itemType} = item;\n  \n    return /*html*/`    \n<div class=\"element-item ${itemType}\" data-id=\"${id}\" data-title=\"${name}\">\n  ${this.toDefString(item)}\n  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"view-path-item\" width=\"100%\" height=\"100%\" overflow=\"visible\">\n    <path \n      class=\"svg-path-item\"\n      d=\"${item.d}\"\n      fill-rule=\"${item['fill-rule']}\"\n      filter=\"${this.toFilterValue(item)}\"\n      fill=\"${this.toFillValue(item)}\"\n      stroke=\"${this.toStrokeValue(item)}\"\n      stroke-linejoin=\"${item['stroke-linejoin']}\"\n      stroke-linecap=\"${item['stroke-linecap']}\"\n    />\n  </svg>\n</div>\n    `\n  }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGPathRender from './SVGPathRender';\n\nexport default class SplineRender extends SVGPathRender {\n    \n  /**\n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    if (!currentElement) return; \n\n    var $path = currentElement.$('path');\n\n    if ($path) {\n      if (item.hasChangedField('points', 'boundary')) {\n        $path.setAttrNS({\n          'd':  item.d,\n        })  \n      } \n    }\n\n    super.update(item, currentElement)\n\n  }    \n}","import Dom from \"el/sapa/functions/Dom\";\nimport { OBJECT_TO_CLASS } from \"el/utils/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGPolygonRender extends SVGItemRender {\n    \n  /**\n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    if (!currentElement) return; \n\n    var $path = currentElement.$('path');\n\n    if ($path) {\n      if (item.hasChangedField('width', 'height', 'count')) {\n        $path.setAttrNS({\n          'd':  item.d,\n        })  \n      } \n      if (item.hasChangedField('fill')){\n        $path.setAttrNS({\n          'fill': this.toFillValue(item),\n        })  \n\n      } \n      \n      if (item.hasChangedField('stroke')){\n        $path.setAttrNS({\n          'stroke': this.toStrokeValue(item)\n        })  \n        \n      } \n      \n      if (item.hasChangedField('filter')){\n        $path.setAttrNS({\n          'filter': this.toFilterValue(item),\n        })          \n      }\n\n      if (item.hasChangedField('fill-rule')){\n        $path.setAttrNS({\n          'fill-rule': item['fill-rule'] || 'nonezero',\n        })          \n      }\n\n      if (item.hasChangedField('stroke-linejoin')){\n        $path.setAttrNS({\n          'stroke-linejoin': item['stroke-linejoin'],\n        })          \n      }\n\n      if (item.hasChangedField('stroke-linecap')){\n        $path.setAttrNS({\n          'stroke-linecap': item['stroke-linecap'],\n        })          \n      }\n    }\n\n    super.update(item, currentElement)\n\n  }    \n\n\n  render (item) {\n    var {id, name, itemType} = item;\n  \n    return /*html*/`    \n<div class=\"element-item ${itemType}\" data-id=\"${id}\" data-title=\"${name}\">\n  ${this.toDefString(item)}\n  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"view-path-item\" width=\"100%\" height=\"100%\" overflow=\"visible\">\n    <path \n      class=\"svg-path-item\"\n      d=\"${item.d}\"\n      fill-rule=\"${item['fill-rule']}\"\n      filter=\"${this.toFilterValue(item)}\"\n      fill=\"${this.toFillValue(item)}\"\n      stroke=\"${this.toStrokeValue(item)}\"\n      stroke-linejoin=\"${item['stroke-linejoin']}\"\n      stroke-linecap=\"${item['stroke-linecap']}\"\n    />\n  </svg>\n</div>\n    `\n  }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGStarRender extends SVGItemRender {\n    \n  /**\n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    if (!currentElement) return; \n\n    var $path = currentElement.$('path');\n\n    if ($path) {\n      if (item.hasChangedField('width', 'height', 'count', 'radius', 'isCurve', 'tension')) {\n        $path.setAttrNS({\n          'd':  item.d,\n        })  \n      } \n      if (item.hasChangedField('fill')){\n        $path.setAttrNS({\n          'fill': this.toFillValue(item),\n        })  \n\n      } \n      \n      if (item.hasChangedField('stroke')){\n        $path.setAttrNS({\n          'stroke': this.toStrokeValue(item)\n        })  \n        \n      } \n      \n      if (item.hasChangedField('filter')){\n        $path.setAttrNS({\n          'filter': this.toFilterValue(item),\n        })          \n      }\n\n      if (item.hasChangedField('fill-rule')){\n        $path.setAttrNS({\n          'fill-rule': item['fill-rule'] || 'nonezero',\n        })          \n      }\n\n      if (item.hasChangedField('stroke-linejoin')){\n        $path.setAttrNS({\n          'stroke-linejoin': item['stroke-linejoin'],\n        })          \n      }\n\n      if (item.hasChangedField('stroke-linecap')){\n        $path.setAttrNS({\n          'stroke-linecap': item['stroke-linecap'],\n        })          \n      }\n    }\n\n    super.update(item, currentElement)\n\n  }    \n\n\n  render (item) {\n    var {id, name, itemType} = item;\n  \n    return /*html*/`    \n<div class=\"element-item ${itemType}\" data-id=\"${id}\" data-title=\"${name}\">\n  ${this.toDefString(item)}\n  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"view-path-item\" width=\"100%\" height=\"100%\" overflow=\"visible\">\n    <path \n      class=\"svg-path-item\"\n      d=\"${item.d}\"\n      fill-rule=\"${item['fill-rule']}\"\n      filter=\"${this.toFilterValue(item)}\"\n      fill=\"${this.toFillValue(item)}\"\n      stroke=\"${this.toStrokeValue(item)}\"\n      stroke-linejoin=\"${item['stroke-linejoin']}\"\n      stroke-linecap=\"${item['stroke-linecap']}\"\n    />\n  </svg>\n</div>\n    `\n  }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGTextPathRender extends SVGItemRender {\n\n\n  /**\n   * \n   * @param {Item} item \n   * @param {Dom} currentElement \n   */\n  update(item, currentElement) {\n\n    var $path = currentElement.$('path.svg-path-item');\n\n    if ($path) {\n\n      if (item.hasChangedField('width', 'height', 'd')) {\n        $path.attr('d', item.d);\n      }\n\n    }\n\n    var $guidePath = currentElement.$('path.guide');\n    if ($guidePath) {\n      if (item.hasChangedField('width', 'height', 'd')) {\n        $guidePath.attr('d', item.d);\n      }\n    }\n\n    var $textPath = currentElement.$('textPath');\n    if ($textPath) {\n\n      if (item.hasChangedField('text')) {\n        $textPath.text(item.text)\n      }\n\n      if (item.hasChangedField('textLength', 'lengthAdjust', 'startOffset')) {\n        $textPath.setAttrNS({\n          textLength: item.textLength,\n          lengthAdjust: item.lengthAdjust,\n          startOffset: item.startOffset\n        })\n      }\n\n      if (item.hasChangedField('fill')) {\n        $textPath.setAttrNS({\n          fill: this.toFillValue(item),\n        })\n      }\n\n      if (item.hasChangedField('stroke')) {\n        $textPath.setAttrNS({\n          stroke: this.toStrokeValue(item),\n        })\n      }\n\n      if (item.hasChangedField('filter')) {\n        $textPath.setAttrNS({\n          filter: this.toFilterValue(item),\n        })\n      }\n\n    }\n\n    super.update(item, currentElement)\n\n    item.totalLength = $path.totalLength\n  }\n\n  toDefInnerString(item) {\n    return /*html*/`\n        ${this.toPathSVG(item)}\n        ${this.toFillSVG(item)}\n        ${this.toStrokeSVG(item)}\n    `\n  }\n\n  toPathId(item) {\n    return this.getInnerId(item, 'path')\n  }\n\n  toPathSVG(item) {\n    return /*html*/`\n    <path class=\"svg-path-item\" id=\"${this.toPathId(item)}\" d=\"${item.d}\" fill=\"none\" />\n    `\n  }\n\n  render(item) {\n    var { id, textLength, lengthAdjust, startOffset } = item;\n    const pathId = `#${this.toPathId(item)}`\n    return /*html*/`\n      <svg class='element-item textpath' data-id=\"${id}\">\n        ${this.toDefString(item)}\n        <text class=\"svg-textpath-item\">\n          <textPath \n            xlink:href=\"${pathId}\"\n            textLength=\"${textLength}\"\n            lengthAdjust=\"${lengthAdjust}\"\n            startOffset=\"${startOffset}\"\n          >${item.text}</textPath>\n          <use href=\"${pathId}\" stroke-width=\"1\" stroke=\"black\" />\n        </text>\n        <path class=\"guide\" d=\"${item.d}\" stroke=\"rgba(0, 0, 0, 0.5)\" fill=\"none\"/>\n      </svg>\n    `\n  }\n\n\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGTextRender extends SVGItemRender {\n\n  /**\n   * \n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update(item, currentElement) {\n    var $text = currentElement.$('text');\n    if ($text) {\n\n      if (item.hasChangedField('text')) {\n        $textPath.text(item.text)\n      }\n\n      if (item.hasChangedField('textLength', 'lengthAdjust', 'startOffset')) {\n        $textPath.setAttrNS({\n          textLength: item.textLength,\n          lengthAdjust: item.lengthAdjust,\n          startOffset: item.startOffset\n        })\n      }\n\n\n      if (item.hasChangedField('fill')) {\n        $textPath.setAttrNS({\n          fill: this.toFillValue(item),\n        })\n      }\n\n      if (item.hasChangedField('stroke')) {\n        $textPath.setAttrNS({\n          stroke: this.toStrokeValue(item),\n        })\n      }\n\n      if (item.hasChangedField('filter')) {\n        $textPath.setAttrNS({\n          filter: this.toFilterValue(item),\n        })\n      }\n    }\n\n    super.update(item, currentElement)\n\n  }\n\n  shapeInsideId(item) {\n    return this.getInnerId(item, 'shape-inside')\n  }\n\n  render(item) {\n    var { id, textLength, lengthAdjust } = item;\n\n    return /*html*/`\n  <svg class='element-item textpath' data-id=\"${id}\">\n    ${this.toDefString(item)}\n      <text class=\"svg-text-item\" textLength=\"${textLength}\" lengthAdjust=\"${lengthAdjust}\">${item.text}</text>\n  </svg>`\n  }\n\n\n\n}","import { DomTemplateEngine } from \"./DomTemplateEngine\";\n\nconst EngineList = {\n    'dom' : DomTemplateEngine,\n}\n\nexport class TemplateEngine {\n    static compile (engine, template, params = []) {\n\n        const currentEngine = EngineList[engine] || EngineList['dom'];\n\n        return currentEngine.compile(template, params);\n    }\n};","export class DomTemplateEngine {\n    static compile (template, params = []) {\n        return template;\n    }\n}","import LayerRender from \"./LayerRender\";\nimport { TemplateEngine } from \"./template-engine/TemplateEngine\";\n\nexport default class TemplateRender extends LayerRender {\n    \n\n  update (item, currentElement) {\n\n\n    if (item.hasChangedField('x', 'y', 'width', 'height') === false) {\n      const compiledTemplate = this.compile(item);\n      let $innerHTML = currentElement.$(\".inner-html\");\n  \n      // TODO: template, engine, params 가 변경 된 시점에  변경 상태를 기록한다. \n      // TODO: 그렇게 해서 변경이 없는 부분은 최대한 다시 그리지 않도록 한다. \n      if ($innerHTML) {\n        $innerHTML.updateDiff(compiledTemplate);\n      }\n  \n    }\n  \n    super.update(item, currentElement);\n  }    \n\n  compile (item) {\n    return TemplateEngine.compile('dom', item.template, item.params);\n  }\n\n\n  /**\n   * \n   * @param {Item} item \n   */\n   render (item) {\n    var {id} = item;\n\n    // 마지막으로 렌더링된 template 을 저장해둔다. \n    // 이후 업데이트 될 때  변경시점을 확인 할 수 있다. \n    const compiledTemplate = this.compile(item); \n\n    return /*html*/`\n      <div class='element-item template' data-id=\"${id}\">\n        ${this.toDefString(item)}\n        <style id=\"style-${id}\">\n          [data-id=\"${id}\"] .inner-html {\n            width: 100%; \n            height: 100%;\n            position:relative;\n            display:block;\n            pointer-events: none; \n          }\n\n          [data-id=\"${id}\"] .inner-html > * {\n            width: 100%; \n            height: 100%;\n          }          \n        </style>\n        <div class=\"inner-html\" data-domdiff-pass=\"true\">\n          ${compiledTemplate}\n        </div>\n      </div>`\n  }\n}","import Dom from \"el/sapa/functions/Dom\";\nimport LayerRender from \"./LayerRender\";\n\nexport default class TextRender extends LayerRender {\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toCSS(item) {\n\n        let css = super.toCSS(item)\n\n        css.margin = css.margin || '0px'\n\n        return css\n    }\n    \n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement\n     */\n     update (item, currentElement) {\n\n        const $textElement = currentElement.$(`.text-content`);\n        if ($textElement) {\n            var {content} = item;\n            $textElement.updateDiff(content);\n        }\n\n        super.update(item, currentElement);        \n    }    \n\n    /**\n     * \n     * @param {Item} item \n     */\n    render (item) {\n        var {id, content} = item;\n\n        return /*html*/`\n            <div class='element-item text' data-id=\"${id}\">\n                ${this.toDefString(item)}\n                <div class=\"text-content\" tabIndex=\"-1\" data-id=\"${id}\">${content}</div>\n            </div>\n        `\n    }\n\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport { Project } from \"plugins/default-items/layers/Project\";\nimport LayerRender from \"./LayerRender\";\n\nexport default class VideoRender extends LayerRender {\n    \n\n    /**\n     * \n     * @param {Item} item \n     */\n    toNestedCSS(item) {\n\n        return [\n            { selector: 'video', cssText: `\n                width: 100%;\n                height: 100%;\n                pointer-events: none;\n                `.trim()\n            },\n        ]\n    }\n\n\n    /**\n     * \n     * Resource URL 얻어오기\n     * \n     * @param {Project} item \n     */\n    getUrl (item) {\n        var {src} = item;     \n        var project = item.project;\n        \n        return project.getVideoValueById(src);\n    }\n\n    /**\n     * \n     * @param {Item} item \n     */\n    render (item) {\n        var {\n            id, \n            controls,\n            muted,\n            poster,\n            loop,\n            crossorigin,\n            autoplay\n        } = item;\n    \n        return /*html*/`\n        <div class='element-item video' data-id=\"${id}\">\n            ${this.toDefString(item)}\n            <video \n                controls=\"${controls}\"\n                src=\"${this.getUrl(item)}\n                muted=\"${muted}\"\n                poster=\"${poster}\"\n                loop=\"${loop}\"\n                crossorigin=\"${crossorigin}\"\n                autoplay=\"${autoplay}\"\n            >\n                Sorry, your browser doesn't support embedded videos.\n            </video>\n        </div>`\n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n    update(item, currentElement) {\n\n        const {currentTime, playbackRate, volume } = item;     \n\n        // select 하는 부분을 완전히 뺄 수 있을까? \n        const $video = currentElement.$('video')\n        if ($video) {\n          $video.setProp({\n            currentTime,\n            playbackRate,\n            volume\n          })\n        }\n    \n        super.update(item, currentElement);\n    } \n}","import { Item } from 'el/editor/items/Item';\n\nexport default class JSONRenderer {\n    constructor(editor) {\n        this.editor = editor;\n    }\n\n\n    getDefaultRendererInstance () {\n        return this.editor.getRendererInstance('json', 'rect');\n    }\n\n    getRendererInstance (item) {\n        return this.editor.getRendererInstance('json', item.itemType) || this.getDefaultRendererInstance() || item;\n    }    \n\n    /**\n     * \n     * @param {Item} item \n     */\n    async render (item, renderer) {\n        if (!item) return;\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return await currentRenderer.render(item, renderer || this);\n        }\n    }\n\n    async getResourceDataURI (item, renderer) {\n        \n    }\n\n}","import { uuid } from \"el/utils/math\";\n\nexport default class ItemRender {\n\n  async render (item, renderer) {\n    return await this.toCloneObject(item, renderer)\n  }\n\n  async toCloneObject (item, renderer) {\n    var json = item.attrs(\n      'itemType', \n      'name', \n      'elementType', \n      'type', \n      'visible', \n      'lock', \n      'selected'\n    )\n\n    json.referenceId = item.id; \n    json.newTargetId = uuid();\n\n    let layers = []\n\n    for(var i = 0, len = item.layers.length; i < len; i++) {\n      layers.push(await renderer.render(item.layers[i], renderer));\n    }\n\n    json.layers = layers;\n\n    return json; \n  }\n}","import MovableRender from \"./MovableRender\";\n\nexport default class DomRender extends MovableRender {\n  \n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs(\n        'position',\n        'right',\n        'bottom',\n        'rootVariable',\n        'variable',\n        'transform',\n        'filter',\n        'backdrop-filter',\n        'background-color',      \n        'background-image',      \n        'text-clip',\n        'border-radius',      \n        'border',\n        'box-shadow',\n        'text-shadow',\n        'clip-path',\n        'color',\n        'font-size',\n        'font-stretch',\n        'line-height',\n        'text-align',\n        'text-transform',\n        'text-decoration',\n        'letter-spacing',\n        'word-spacing',\n        'text-indent',      \n        'perspective-origin',\n        'transform-origin',\n        'transform-style',      \n        'perspective',\n        'mix-blend-mode',\n        'overflow',\n        'opacity',\n        'rotate',\n        'flex-layout',      \n        'grid-layout',         \n        'animation',      \n        'transition',  \n        'boolean-operation',\n        'boolean-path'\n      ),\n      selectors: item.selectors.map(selector => selector.clone()),\n      svg: item.svg.map(svg => svg.clone())\n    }\n  }\n\n}","import BaseAssetRender from './BaseAssetRender';\n\nexport default class MovableRender extends BaseAssetRender {\n  \n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs(\n        'x', 'y', 'width', 'height'\n      )\n    }\n  }\n\n}","import ItemRender from \"./ItemRender\";\n\nexport default class BaseAssetRender extends ItemRender {\n  \n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs(\n        'svgfilters', 'keyframes'\n      )\n    }\n  }\n\n}","import DomRender from \"./DomRender\";\n\nexport default class ArtBoardRender extends DomRender {\n\n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs('name'),\n    }\n  }\n}","import DomRender from \"./DomRender\";\n\nexport default class LayerRender extends DomRender {\n    async toCloneObject(item, renderer) {\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            ...item.attrs('tagName')\n        }\n    }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class CircleRender extends LayerRender {\n\n}","import LayerRender from \"./LayerRender\";\n\nexport default class IFrameRender extends LayerRender {\n    async toCloneObject(item, renderer) {\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            ...item.attrs('src')\n        }\n    }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class ImageRender extends LayerRender {\n    async toCloneObject(item, renderer) {\n        const project = item.project; \n\n        const image = project.imageKeys[item.src]\n        const src = image.original;\n\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            src\n        }\n    }\n}","import TimelineRender from \"./TimelineRender\";\n\nexport default class ProjectRender extends TimelineRender {\n\n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs('name', 'description', 'rootVariable')\n    }\n  }\n}","import AssetRender from \"./AssetRender\";\n\nexport default class TimelineRender extends AssetRender {\n\n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs(\n        'timeline',      \n      )\n    }\n  }\n}","import ItemRender from \"./ItemRender\";\n\nexport default class AssetRender extends ItemRender {\n\n  async toCloneObject (item, renderer) {\n    return {\n      ...(await super.toCloneObject(item, renderer)),\n      ...item.attrs(\n        'colors',\n        'gradients',\n        'svgfilters',\n        'svgimages',\n        'images',\n        'keyframes',      \n      )\n    }\n  }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class RectRender extends LayerRender {\n\n}","import LayerRender from \"./LayerRender\";\n\nexport default class SVGItemRender extends LayerRender {\n    async toCloneObject(item, renderer) {\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            ...item.attrs(\n              'overflow',\n              'stroke',\n              'stroke-width',\n              'svgfilter',\n              'fill',\n              'fill-rule',\n              'fill-opacity',\n              'stroke-linecap',\n              'stroke-linejoin',\n              'stroke-dashoffset',\n              'stroke-dasharray',\n              'text-anchor',\n            )\n      \n          }        \n    }\n}","import SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGPathRender extends SVGItemRender {\n    async toCloneObject(item, renderer) {\n      return {\n        ...(await super.toCloneObject(item, renderer)),\n        ...item.attrs('d')\n      }        \n    }\n}","import SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGTextPathRender extends SVGItemRender {\n    async toCloneObject(item, renderer) {\n      return {\n        ...(await super.toCloneObject(item, renderer)),\n        ...item.attrs(\n          'totalLength',\n          'd',\n          'text', \n          'textLength',\n          'lengthAdjust',\n          'startOffset'        \n        )\n      }        \n    }\n}","import SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGTextRender extends SVGItemRender {\n    async toCloneObject(item, renderer) {\n      return {\n        ...(await super.toCloneObject(item, renderer)),\n        ...item.attrs(\n          'totalLength',\n          'text', \n          'textLength',\n          'lengthAdjust',      \n          'shape-inside'\n        )\n      }        \n    }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class TemplateRender extends LayerRender {\n    async toCloneObject(item, renderer) {\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            ...item.attrs('engine', 'template', 'params')\n        }\n    }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class TextRender extends LayerRender {\n    async toCloneObject(item, renderer) {\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            ...item.attrs('content')\n        }\n    }\n}","import LayerRender from \"./LayerRender\";\n\nexport default class VideoRender extends LayerRender {\n    async toCloneObject(item, renderer) {\n        return {\n            ...(await super.toCloneObject(item, renderer)),\n            ...item.attrs('src')\n        }\n    }\n}","import SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGPolygonRender extends SVGItemRender {\n    async toCloneObject(item, renderer) {\n      return {\n        ...(await super.toCloneObject(item, renderer)),\n        ...item.attrs('count')\n      }        \n    }\n}","import SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGStarRender extends SVGItemRender {\n    async toCloneObject(item, renderer) {\n      return {\n        ...(await super.toCloneObject(item, renderer)),\n        ...item.attrs('count', 'radius')\n      }        \n    }\n}","import SVGItemRender from \"./SVGItemRender\";\n\nexport default class SplineRender extends SVGItemRender {\n    async toCloneObject(item, renderer) {\n      return {\n        ...(await super.toCloneObject(item, renderer)),\n        ...item.attrs('points', 'boundary')\n      }        \n    }\n}","import Dom from 'el/sapa/functions/Dom';\nimport { Item } from 'el/editor/items/Item';\n\nexport default class SVGRenderer {\n\n    constructor(editor) {\n        this.editor = editor;\n    }\n \n    getDefaultRendererInstance () {\n        return this.editor.getRendererInstance('svg', 'rect');\n    }\n\n    getRendererInstance (item) {\n        return this.editor.getRendererInstance('svg', item.itemType) || this.getDefaultRendererInstance() || item;\n    }    \n\n\n    /**\n     * \n     * @param {Item} item \n     */\n    render (item, renderer) {\n        if (!item) return '';\n\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return currentRenderer.render(item, renderer || this);\n        }\n    }\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toCSS (item) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return currentRenderer.toCSS(item);\n        }\n    }\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toTransformCSS (item) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return currentRenderer.toTransformCSS(item);\n        }\n    }    \n\n    /**\n     * \n     * 렌더링 될 style 태그를 리턴한다. \n     * \n     * @param {Item} item \n     */\n    toStyle (item, renderer) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return currentRenderer.toStyle(item, renderer || this);\n        }\n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement\n     */\n    update (item, currentElement) {\n        const currentRenderer = this.getRendererInstance(item);\n\n        if (currentRenderer) {\n            return currentRenderer.update(item, currentElement);\n        }\n    }    \n\n    /**\n     * 코드 뷰용 HTML 코드를 렌더링 한다. \n     * @param {Item} item \n     */\n    codeview (item) {\n\n        if (!item) {\n            return '';\n        }\n\n        let svgCode = this.render(item);\n        svgCode = svgCode.replace(/\\</g, '&lt;').replace(/\\>/g, '&gt;') \n    \n        return /*html*/`\n<div class='svg-code'>\n${svgCode && /*html*/`<div><pre title='SVG'>${svgCode}</pre></div>`}\n</div>\n        `\n    \n    }    \n}","import { isFunction } from \"el/sapa/functions/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport DomRender from \"plugins/renderer-html/HTMLRenderer/DomRender\";\n\n\nexport default class SVGRender extends DomRender {\n\n\n    toDefaultCSS(item) {\n        return {\n            overflow: 'visible',\n            ...this.toKeyListCSS(item, [\n                'font-size', \n                'font-stretch', \n                'line-height', \n                'font-weight', \n                'font-family', \n                'font-style',\n                'text-align', \n                'text-transform',  \n                'text-decoration',\n                'letter-spacing', \n                'word-spacing', \n                'text-indent',\n                'background-color', \n                'border-radius',\n                'transform-style',\n                'filter', \n                'filter', \n                'backdrop-filter', \n                'box-shadow', \n                'text-shadow',\n                'animation',  \n                'transition',                                \n            ])\n        }\n    \n    }\n    \n    /**\n     * SVG 가 CSS 로써 가질 수 있는 값들을 정의한다. \n     * \n     * @param {Item} item \n     */\n    toCSS(item) {\n\n        const css = Object.assign(\n            {},\n            this.toVariableCSS(item),\n            this.toDefaultCSS(item),\n            this.toClipPathCSS(item),\n            this.toWebkitCSS(item), \n            this.toTextClipCSS(item),      \n            this.toTransformCSS(item),            \n            this.toLayoutItemCSS(item),\n            this.toBorderCSS(item),            \n            this.toBackgroundImageCSS(item),\n            this.toLayoutCSS(item)\n        );\n\n        delete css.left;\n        delete css.top;\n        delete css.width;\n        delete css.height;\n        delete css.position;\n\n        return css; \n    }\n\n\n    /**\n     * css 속성 중에  svg attribute 로 전환되는 리스트를 객체로 리턴\n     * \n     * @param {Item} item \n     */\n    toSVGAttribute (item) {\n        return {\n            ...this.toDefaultCSS(item),\n            ...this.toKeyListCSS(item, [\n                'stroke-width', 'stroke-linecap', 'stroke-linejoin', 'stroke-dasharray', 'stroke-dashoffset',\n                'fill-opacity', 'fill-rule', 'text-anchor'\n            ])\n        }\n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Function} callback \n     */\n    wrappedRender (item, callback) {\n\n        const {id, x, y, width, height, itemType} = item;\n\n        return /*html*/`\n\n<svg class='svg-element-item ${itemType}'\n    xmlns=\"http://www.w3.org/2000/svg\"\n    data-id=\"${id}\"\n    x=\"${x.value}\"\n    y=\"${y.value}\"\n    width=\"${width.value}\"\n    height=\"${height.value}\"\n    viewBox=\"0 0 ${width.value} ${height.value}\"\n    overflow=\"visible\"\n>\n    ${this.toDefString(item)}\n    ${isFunction(callback) && callback()}\n</svg>\n        `       \n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {SVGRenderer} renderer \n     */\n    render (item, renderer) {\n\n        const {width, height, elementType} = item;\n        const tagName = elementType || 'div'\n        let css = this.toCSS(item);\n\n        return this.wrappedRender(item, ()=> {\n            return /*html*/`\n<foreignObject \n    width=\"${width.value}\"\n    height=\"${height.value}\"\n    overflow=\"visible\"\n>\n    <${tagName} xmlns=\"http://www.w3.org/1999/xhtml\" style=\"${CSS_TO_STRING(css)};width:100%;height:100%;\"></${tagName}>\n</foreignObject>    \n${item.layers.map(it => {\n    return renderer.render(it, renderer)\n}).join('')}\n            `            \n        })\n\n    }\n}","import { CSS_TO_STRING } from \"el/utils/func\";\nimport SVGRender from \"./SVGRender\";\n\nexport default class ArtBoardRender extends SVGRender {\n\n    toCSS(item) {\n\n        const css = Object.assign(\n            {},\n            this.toDefaultCSS(item),\n            this.toClipPathCSS(item),\n            this.toWebkitCSS(item), \n            this.toTextClipCSS(item),\n            this.toBackgroundImageCSS(item),            \n        );\n\n        delete css.left;\n        delete css.top;\n        delete css.width;\n        delete css.height;\n        delete css.position;\n\n        return css; \n    }\n    /**\n     * \n     * @param {Item} item \n     * @param {SVGRenderer} renderer \n     */\n    render(item, renderer, encoding = true) {\n\n        const {x, y, width, height} = item;\n\n        let css = this.toCSS(item);\n\n        return /*html*/`\n${encoding ? `<?xml version=\"1.0\"?>` : ''}\n<svg \n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"${width.value}\"\n    height=\"${height.value}\"\n    viewBox=\"0 0 ${width.value} ${height.value}\"\n    style=\"${CSS_TO_STRING(css)}\"\n>\n    ${this.toDefString(item)}\n    ${item.layers.map(it => {\n        return renderer.render(it, renderer)\n    }).join('')}\n</svg>      \n        `       \n\n    }\n}","import SVGRender from \"./SVGRender\";\n\nexport default class SVGLayerRender extends SVGRender {\n    \n}","import SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class CircleRender extends SVGLayerRender {\n    \n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class IFrameRender extends SVGLayerRender {\n    \n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n     update(item, currentElement) {\n      \n        let $iframe = currentElement.$(\"iframe\");\n    \n        if ($iframe) {\n          $iframe.attr('src', item.url || 'about:blank');    \n        }\n    \n        super.update(item, currentElement);\n    }     \n\n\n    /**\n     * \n     * @param {*} item \n     */\n    render (item) {\n\n        const {width, height, id, url =  'about:blank'} = item;\n        let css = this.toCSS(item);\n\n        return this.wrappedRender(item, () => {\n          return /*html*/`\n  <foreignObject\n      width=\"${width.value}\"\n      height=\"${height.value}\"\n  >\n      <iframe \n          xmlns=\"http://www.w3.org/1999/xhtml\"\n          width=\"100%\" \n          height=\"100%\" \n          style=\"border:0px;width:100%;height:100%;pointer-events:none; ${CSS_TO_STRING(css)}\" \n          src=\"${url}\"\n      ></iframe>\n  </foreignObject>              \n          `  \n        })      \n\n    }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class ImageRender extends SVGLayerRender {\n    \n\n    /**\n     * \n     * resource url 얻어오기 \n     * \n     * @param {Item} item \n     */\n    getUrl (item) {\n        var {src} = item;     \n        var project = item.project;\n        \n        return project.getImageValueById(src);\n    }\n\n\n    /**\n     * \n     * @param {*} item \n     */\n    render (item) {\n\n        const {width, height} = item;\n        let css = this.toCSS(item);\n\n        return this.wrappedRender(item, () => {\n          return /*html*/`\n            <foreignObject\n                width=\"${width.value}\"\n                height=\"${height.value}\"\n            >\n                <div xmlns=\"http://www.w3.org/1999/xhtml\">\n                    <img src='${this.getUrl(item)}' style=\"width:100%;height:100%; ${CSS_TO_STRING(css)}\"  />\n                </div>\n            </foreignObject>              \n          `  \n            \n        })      \n\n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n    update(item, currentElement) {\n\n        const $image = currentElement.$('img')\n        if ($image) {\n            $image.attr('src', this.getUrl(item));\n        }\n\n        super.update(item, currentElement);\n    } \n}","import SVGRender from \"./SVGRender\";\n\nexport default class ProjectRender extends SVGRender {\n\n    /**\n     * \n     * @param {Item} item \n     * @param {HTMLRenderer} renderer \n     */\n    render (item, renderer) {\n        return item.artboards.map(it => {\n            return renderer.render(it, renderer)\n        });\n    }\n}","import SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class RectRender extends SVGLayerRender {\n    \n\n}","import Color from \"el/utils/Color\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport { Item } from \"el/editor/items/Item\";\nimport { SVGFill } from \"el/editor/property-parser/SVGFill\";\nimport SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class SVGItemRender extends SVGLayerRender {\n\n\n    /**\n     * Def 업데이트 하기 \n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n    updateDefString (item, currentElement) {\n\n        var $defs = currentElement.$('defs');\n        if ($defs) {\n            $defs.html(this.toDefInnerString(item))          \n        } else {\n            var str = this.toDefString(item).trim();\n            currentElement.prepend(Dom.createByHTML(str));\n        }      \n    }  \n\n    /**\n     * \n     * @param {Item} item \n     */\n    toDefInnerString (item) {\n        return /*html*/`\n            ${this.toFillSVG(item)}\n            ${this.toStrokeSVG(item)}\n        `\n    }\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toDefString (item) {\n\n        const str = this.toDefInnerString(item).trim();\n\n        return /*html*/`\n            <defs>\n            ${str}\n            </defs>\n        `\n    }\n\n    fillId (item) {\n        return this.getInnerId(item, 'fill')\n    }\n\n    strokeId (item) {\n        return this.getInnerId(item, 'stroke')\n    }\n\n    toFillSVG (item) {\n        return SVGFill.parseImage(item.fill || 'transparent').toSVGString(this.fillId(item));\n    }\n\n    toStrokeSVG (item) {\n        return SVGFill.parseImage(item.stroke || 'black').toSVGString(this.strokeId(item));\n    }  \n\n    toFillValue (item) {\n        return  SVGFill.parseImage(item.fill || 'transparent').toFillValue(this.fillId(item));\n    }\n\n    toFillOpacityValue (item) {\n        return  Color.parse(item.fill || 'transparent').a;\n    }  \n\n    toStrokeValue (item) {\n        return  SVGFill.parseImage(item.stroke || 'black').toFillValue(this.strokeId(item));\n    }  \n\n    toFilterValue (item) {\n\n        if (!item.svgfilter) {\n            return '';\n        }\n\n        return `url(#${item.svgfilter})`\n    }\n\n    /**\n     * @override\n     * @param {Item} item\n     */\n    toLayoutCSS(item) {\n        return {}\n    }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING, OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SplineRender extends SVGItemRender {\n    \n  /**\n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    if (!currentElement) return; \n\n    var $path = currentElement.$('path');\n\n    if ($path) {\n      $path.setAttr({\n        'd':  item.d,\n        'filter': this.toFilterValue(item),\n        'fill': this.toFillValue(item),\n        'stroke': this.toStrokeValue(item)\n      })  \n    }\n\n    this.updateDefString(item, currentElement)\n\n  }    \n\n\n  render (item) {\n    var {d} = item;\n\n    return this.wrappedRender(item, () => {\n      return /*html*/`\n<path ${OBJECT_TO_PROPERTY({\n  'class': 'spline-item', \n  d, \n  filter: this.toFilterValue(item),\n  fill: this.toFillValue(item),\n  stroke: this.toStrokeValue(item),\n  ...this.toSVGAttribute(item),\n  style: CSS_TO_STRING(this.toCSS(item))      \n})} />\n    `\n    }) \n  }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING, OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGPathRender extends SVGItemRender {\n    \n  /**\n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    if (!currentElement) return; \n\n    var $path = currentElement.$('path');\n\n    if ($path) {\n      $path.setAttr({\n        'd':  item.d,\n        'filter': this.toFilterValue(item),\n        'fill': this.toFillValue(item),\n        'stroke': this.toStrokeValue(item)\n      })  \n      item.totalLength = $path.totalLength\n    }\n\n    this.updateDefString(item, currentElement)\n\n  }    \n\n\n  render (item) {\n    var {d} = item;\n\n    return this.wrappedRender(item, () => {\n      return /*html*/`\n<path ${OBJECT_TO_PROPERTY({\n  'class': 'svg-path-item', \n  d, \n  filter: this.toFilterValue(item),\n  fill: this.toFillValue(item),\n  stroke: this.toStrokeValue(item),\n  ...this.toSVGAttribute(item),\n  style: CSS_TO_STRING(this.toCSS(item))      \n})} />\n    `\n    }) \n  }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING, OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGPolygonRender extends SVGItemRender {\n    \n  /**\n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    if (!currentElement) return; \n\n    var $path = currentElement.$('path');\n\n    if ($path) {\n      $path.setAttr({\n        'd':  item.d,\n        'filter': this.toFilterValue(item),\n        'fill': this.toFillValue(item),\n        'stroke': this.toStrokeValue(item)\n      })  \n    }\n\n    this.updateDefString(item, currentElement)\n\n  }    \n\n\n  render (item) {\n    var {d} = item;\n\n    return this.wrappedRender(item, () => {\n      return /*html*/`\n<path ${OBJECT_TO_PROPERTY({\n  'class': 'polygon-item', \n  d, \n  filter: this.toFilterValue(item),\n  fill: this.toFillValue(item),\n  stroke: this.toStrokeValue(item),\n  ...this.toSVGAttribute(item),\n  style: CSS_TO_STRING(this.toCSS(item))      \n})} />\n    `\n    }) \n  }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING, OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGStarRender extends SVGItemRender {\n    \n  /**\n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    if (!currentElement) return; \n\n    var $path = currentElement.$('path');\n\n    if ($path) {\n      $path.setAttr({\n        'd':  item.d,\n        'filter': this.toFilterValue(item),\n        'fill': this.toFillValue(item),\n        'stroke': this.toStrokeValue(item)\n      })  \n    }\n\n    this.updateDefString(item, currentElement)\n\n  }    \n\n\n  render (item) {\n    var {d} = item;\n\n    return this.wrappedRender(item, () => {\n      return /*html*/`\n<path ${OBJECT_TO_PROPERTY({\n  'class': 'star-item', \n  d, \n  filter: this.toFilterValue(item),\n  fill: this.toFillValue(item),\n  stroke: this.toStrokeValue(item),\n  ...this.toSVGAttribute(item),\n  style: CSS_TO_STRING(this.toCSS(item))      \n})} />\n    `\n    }) \n  }\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING, OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGTextPathRender extends SVGItemRender {\n    \n\n  /**\n   * \n   * @param {Item} item \n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n\n    var $path = currentElement.$('path');\n\n    if ($path) {\n      $path.attr('d', item.d);\n    }\n\n    var $textPath = currentElement.$('textPath'); \n    if ($textPath) {\n      $textPath.text(item.text)\n      $textPath.setAttr({\n        filter: this.toFilterValue(item),\n        fill: this.toFillValue(item),\n        stroke: this.toStrokeValue(item),\n        textLength: item.textLength,\n        lengthAdjust: item.lengthAdjust,\n        startOffset: item.startOffset\n      })\n  \n    }\n\n    this.updateDefString(item, currentElement)\n\n    item.totalLength = $path.totalLength\n  }    \n\n  toDefInnerString (item) {\n    return /*html*/`\n      ${this.toPathSVG(item)}\n      ${this.toFillSVG(item)}\n      ${this.toStrokeSVG(item)}\n    `\n  }\n\n  toPathId (item) {\n    return this.getInnerId(item, 'path')\n  }\n\n  toPathSVG (item) {\n    return /*html*/`\n      <path \n        class=\"svg-path-item\"\n        id=\"${this.toPathId(item)}\"\n        d=\"${item.d}\"\n        fill=\"none\"\n      />\n    `\n  }\n\n  render (item) {\n\n    return this.wrappedRender(item, () => {\n\n      const {textLength, lengthAdjust, startOffset} = item; \n\n      return /*html*/`\n        <textPath ${OBJECT_TO_PROPERTY({\n          'xlink:href' :`#${this.toPathId(item)}`,\n          textLength,\n          lengthAdjust,\n          startOffset,\n          filter: this.toFilterValue(item),\n          fill: this.toFillValue(item),\n          stroke: this.toStrokeValue(item),\n          ...this.toSVGAttribute(item),\n          style: CSS_TO_STRING(this.toCSS(item))   \n        })} >${item.text}</textPath>\n      `\n    })\n  }\n\n\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING, OBJECT_TO_PROPERTY } from \"el/utils/func\";\nimport { Item } from \"el/editor/items/Item\";\nimport SVGItemRender from \"./SVGItemRender\";\n\nexport default class SVGTextRender extends SVGItemRender {\n    \n  /**\n   * \n   * @param {Item} item\n   * @param {Dom} currentElement \n   */\n  update (item, currentElement) {\n    var $text = currentElement.$('text'); \n\n    if ($text) {\n      $text.text(item.text)\n      $text.setAttr({\n        filter: this.toFilterValue(item),\n        fill: this.toFillValue(item),\n        stroke: this.toStrokeValue(item),   \n        textLength: item.textLength,\n        lengthAdjust: item.lengthAdjust\n      })\n  \n    }\n\n    this.updateDefString(item, currentElement)\n\n  }    \n\n  shapeInsideId (item) {\n    return this.getInnerId(item, 'shape-inside')\n  }    \n\n  render (item) {\n    var {id, textLength, lengthAdjust} = item; \n\n    return this.wrappedRender(item, () => {\n      return /*html*/`\n        <text ${OBJECT_TO_PROPERTY({\n          'class': 'svg-text-item',\n          textLength,\n          lengthAdjust,\n          filter: this.toFilterValue(item),\n          fill: this.toFillValue(item),\n          stroke: this.toStrokeValue(item),\n          ...this.toSVGAttribute(item),\n          style: CSS_TO_STRING(this.toCSS(item))              \n        })} >${item.text}</text>\n      `\n      \n    })\n  }\n\n\n\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { TemplateEngine } from \"plugins/renderer-html/HTMLRenderer/template-engine/TemplateEngine\";\nimport SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class TemplateRender extends SVGLayerRender {\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement \n     */\n     update(item, currentElement) {\n\n        const compiledTemplate = this.compile(item);\n        let $innerHTML = currentElement.$(\".inner-html\");\n    \n        // TODO: template, engine, params 가 변경 된 시점에  변경 상태를 기록한다. \n        // TODO: 그렇게 해서 변경이 없는 부분은 최대한 다시 그리지 않도록 한다. \n        if ($innerHTML) {\n          $innerHTML.updateDiff(compiledTemplate);\n        }\n    \n\n        super.update(item, currentElement);\n    } \n\n\n    compile (item) {\n        return TemplateEngine.compile('dom', item.template, item.params);\n    }\n\n\n    /**\n     * \n     * @param {*} item \n     */\n    render (item) {\n\n        const {id, width, height } = item;\n        const compiledTemplate = this.compile(item); \n\n\n        return this.wrappedRender(item, () => {\n          return /*html*/`\n            <foreignObject\n                width=\"${width.value}\"\n                height=\"${height.value}\"\n            >\n                <div  xmlns=\"http://www.w3.org/1999/xhtml\" style=\"width: 100%;height:100%;\">\n                    <style id=\"style-${id}\">\n                    [data-id=\"${id}\"] .inner-html {\n                        width: 100%; \n                        height: 100%;\n                        position:relative;\n                        display:block;\n                        pointer-events: none; \n                    }\n\n                    [data-id=\"${id}\"] .inner-html > * {\n                        width: 100%; \n                        height: 100%;\n                    }          \n                    </style>\n                    <div class=\"inner-html\">\n                    ${compiledTemplate}\n                    </div>\n                </div>\n            </foreignObject>              \n          `  \n            \n        })      \n\n    }\n}","import Dom from \"el/sapa/functions/Dom\";\nimport { CSS_TO_STRING } from \"el/utils/func\";\nimport SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class TextRender extends SVGLayerRender {\n\n    /**\n     * \n     * @param {Item} item \n     */\n    toCSS(item) {\n\n        let css = super.toCSS(item)\n\n        css.margin = css.margin || '0px'\n\n        return css\n    }\n    \n\n    /**\n     * \n     * @param {Item} item \n     */\n    render (item) {\n        const {content, width, height} = item;\n        let css = this.toCSS(item);\n\n        return this.wrappedRender(item, () => {\n          return /*html*/`\n            <foreignObject width=\"${width.value}\" height=\"${height.value}\">\n                <p xmlns=\"http://www.w3.org/1999/xhtml\" style=\"${CSS_TO_STRING(css)}\">${content}</p>\n            </foreignObject>              \n          `  \n        })      \n\n        \n    }\n\n    /**\n     * \n     * @param {Item} item \n     * @param {Dom} currentElement\n     */\n    update (item, currentElement) {\n        var {content} = item;\n\n        currentElement.updateDiff(content);\n    }\n\n}","import { CSS_TO_STRING } from \"el/utils/func\";\nimport SVGLayerRender from \"./SVGLayerRender\";\n\nexport default class VideoRender extends SVGLayerRender {\n    \n\n    /**\n     * \n     * @param {Project} item \n     */\n    getUrl (item) {\n        var {src} = item;     \n        var project = item.project;\n        \n        return project.getVideoValueById(src);\n    }    \n\n    /**\n     * \n     * @param {Item} item \n     * @param {SVGRenderer} renderer \n     */\n    render (item, renderer) {\n        var {\n            width, height,\n            controls,\n            muted,\n            poster,\n            loop,\n            crossorigin,\n            autoplay\n        } = item;        \n        let css = this.toCSS(item);\n\n        return this.wrappedRender(item, ()=> {\n            return /*html*/`\n            <foreignObject \n                width=\"${width.value}\"\n                height=\"${height.value}\"\n                overflow=\"visible\"\n            >\n                <video \n                    xmlns=\"http://www.w3.org/1999/xhtml\"\n                    controls=\"${controls}\"\n                    src=\"${this.getUrl(item)}\"\n                    muted=\"${muted}\"\n                    poster=\"${poster}\"\n                    loop=\"${loop}\"\n                    crossorigin=\"${crossorigin}\"\n                    autoplay=\"${autoplay}\"\n                    style=\"${CSS_TO_STRING(css)};width:100%;height:100%;\"></video>\n            </foreignObject>    \n            `            \n        })\n\n    }\n}","\nimport { INPUT, SUBSCRIBE } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './SelectorPopup.scss';\n\nexport default class SelectorPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('selector.popup.title')\n  }\n\n  initState() {\n    return {\n      selector: '',\n      properties: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(\"changeSelectorPopup\", this.state);\n  }\n\n  getBody() {\n    return /*html*/`\n    <div class='elf--selector-popup' ref='$popup'>\n      <div class=\"box\">\n        ${this.templateForSelector()}\n        ${this.templateForProperty()}        \n      </div>\n    </div>`;\n  }\n\n\n  templateForProperty() {\n    return /*html*/`<object refClass=\"CSSPropertyEditor\" ref='$propertyEditor' onchange='changePropertyEditor' />`\n  }    \n\n\n  templateForSelector() {\n    return /*html*/`\n      <div class='name'>\n        <label>${this.$i18n('selector.popup.selector')}</label>\n        <div class='input grid-1'>\n          <input type='text' value='${this.state.selector}' ref='$selector'/>\n        </div>\n      </div>\n    `\n  }\n\n  [INPUT('$selector')] (e) {\n    if (this.refs.$selector.value.match(/^[a-zA-Z0-9\\:\\_\\-\\.\\b]+$/)) {\n      this.updateData({selector : this.refs.$selector.value })\n    } else {\n      e.preventDefault()\n      e.stopPropagation()\n      return false;\n    }\n  }\n  \n  refresh() {\n    super.refresh()\n\n    this.refs.$selector.val(this.state.selector);\n    this.children.$propertyEditor.trigger('showCSSPropertyEditor', this.state.properties);\n  }\n\n  [SUBSCRIBE('changePropertyEditor')] (properties) {\n    this.updateData({\n      properties\n    });\n  }\n\n  [SUBSCRIBE(\"showSelectorPopup\")](data) {\n    this.setState(data);\n    this.refresh()\n\n    this.show(250)\n  }\n}\n","import icon from \"el/editor/icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  DRAGSTART,\n  DRAGOVER,\n  DROP,\n  PREVENT,\n  DEBOUNCE,\n  STOP,\n  SUBSCRIBE\n} from \"el/sapa/Event\";\n\n\nimport { Selector } from \"el/editor/property-parser/Selector\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './SelectorProperty.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nconst selectorList = [\n  '',   // custom \n  ':hover',\n  ':active',\n  ':before',\n  ':after',\n  ':first-child',\n  ':last-child',\n  ':link',\n  ':active',\n  ':focus'\n].map(value => ({ value }));\n\n\n/**\n * 객체별 class, selector 를 줄 수 있는 개념을 다시 만들자. \n */\nexport default class SelectorProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('selector.property.title');\n  }\n  getBody() {\n    return `<div class='elf--selector-list' ref='$selectorList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <div style='display:inline-block;'>\n        <object refClass=\"SelectEditor\"  ref='$select' key='selector' icon=\"true\" none-value=\"selector\" options=${variable(selectorList)} />\n      </div>\n      <button type=\"button\" ref=\"$add\" title=\"add Selector\">${icon.add}</button>\n    `;\n  }\n\n  makeSelectorTemplate (selector, index) {\n    index = index.toString()\n    return /*html*/`\n      <div class='selector-item' draggable='true' ref='$selectorIndex${index}' data-index='${index}'>\n        <div class='title'>\n          <div class='name'>\n            <span>${selector.selector || `&lt;${this.$i18n('selector.property.none')}&gt;`}</span>\n          </div>\n          <div class='tools'>\n              <button type=\"button\" class=\"del\" data-index=\"${index}\">${icon.remove2}</button>\n          </div>\n        </div>\n      </div>\n    `\n  }\n\n  [CLICK('$selectorList .selector-item .name')] (e) {\n    var index  = +e.$dt.closest('selector-item').attr('data-index');\n\n    var current = this.$selection.current;\n    if (!current) return;\n\n\n    this.viewSelectorPicker(index);\n\n  }\n\n  [CLICK('$selectorList .selector-item .del') + PREVENT + STOP] (e) {\n    var removeIndex = e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.removeSelector(removeIndex);\n\n    this.emit('refreshElement', current);\n\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)] () {\n    this.refreshShowIsNot(['project', 'svg-path', 'svg-brush', 'svg-textpath', 'svg-text']);    \n  }\n\n\n  [LOAD(\"$selectorList\")]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    var selectors = current.selector ? Selector.parseStyle(current) : current.selectors;\n\n    current.selector = ''\n    current.selectors = selectors;\n\n    return (selectors || []).map((selector, index) => {\n      return this.makeSelectorTemplate(selector, index);\n    });\n  }\n\n  // selector-item 을 통째로  dragstart 를 걸어버리니깐\n  // 다른 ui 를 핸들링 할 수가 없어서\n  // title  에만 dragstart 거는 걸로 ok ?\n  [DRAGSTART(\"$selectorList .selector-item .title\")](e) {\n    this.startIndex = +e.$dt.attr(\"data-index\");\n  }\n\n  // drop 이벤트를 걸 때 dragover 가 같이 선언되어 있어야 한다.\n  [DRAGOVER(\"$selectorList .selector-item\") + PREVENT](e) {}\n\n  [DROP(\"$selectorList .selector-item\") + PREVENT](e) {\n    var targetIndex = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.sortSelector(this.startIndex, targetIndex);\n\n    this.emit('refreshElement', current);\n\n    this.refresh();\n  }\n\n  [CLICK(\"$add\")]() {\n\n    var current = this.$selection.current;\n    if (current) {\n\n      current.createSelector({\n        selector: this.children.$select.getValue()\n      });\n\n      this.emit('refreshElement', current);\n    }\n\n    this.refresh();\n  }\n\n  viewSelectorPicker(index) {\n    if (typeof this.selectedIndex === \"number\") {\n      this.selectItem(this.selectedIndex, false);\n    }\n\n    this.selectedIndex = +index;\n    this.selectItem(this.selectedIndex, true);\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentSelector = this.current.selectors[\n      this.selectedIndex\n    ];\n\n    this.viewSelectorPropertyPopup();\n  }\n\n\n  // 객체를 선택하는 괜찮은 패턴이 어딘가에 있을 텐데......\n  // 언제까지 selected 를 설정해야하는가?\n  selectItem(selectedIndex, isSelected = true) {\n    if (isSelected) {\n      this.getRef('$selectorIndex', selectedIndex).addClass(\"selected\");\n    } else {\n      this.getRef('$selectorIndex', selectedIndex).removeClass(\"selected\");\n    }\n\n    if (this.current) {\n      this.current.selectors.forEach((it, index) => {\n        it.selected = index === selectedIndex;\n      });\n    }\n  }  \n\n  viewSelectorPropertyPopup(position) {\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentSelector = this.current.selectors[\n      this.selectedIndex\n    ];\n\n    const back = this.currentSelector;\n\n    const selector = back.selector\n    const properties = back.properties\n\n    this.emit(\"showSelectorPopup\", {\n      position,\n      selector, \n      properties\n    });\n  }\n\n  [SUBSCRIBE('changeSelectorPopup')] (data) {\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentselector = this.current.selectors[\n      this.selectedIndex\n    ];\n\n    if (this.currentSelector) {\n      this.currentSelector.reset(data);\n    }\n\n    this.refresh();\n    this.emit('refreshElement', this.current);\n  }\n\n}","import { LOAD, CLICK, INPUT, DEBOUNCE, SUBSCRIBE } from \"el/sapa/Event\";\n\nimport icon from \"el/editor/icon/icon\";\nimport { SVGFilter } from \"el/editor/property-parser/SVGFilter\";\nimport { uuidShort } from \"el/utils/math\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './SVGFilterAssetsProperty.scss';\n\nexport default class SVGFilterAssetsProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('svgfilter.asset.property.title');\n  }\n\n  initState() {\n    return {\n      mode: 'grid'\n    }\n  }\n\n  getClassName() {\n    return 'elf--svgfilter-assets-property'\n  }\n\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)] () {\n    this.show();\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item svgfilter-assets'>\n        <div class='svgfilter-list' ref='$svgfilterList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$svgfilterList\")]() {\n    var current = this.$selection.currentProject || { svgfilters: [] }\n\n    var svgfilters = current.svgfilters;\n\n    var results = svgfilters.map( (svgfilter, index) => {\n\n      var filters = svgfilter.filters.map(filter => {\n        return SVGFilter.parse(filter);\n      })\n\n      return /*html*/`\n        <div class='svgfilter-item' data-index=\"${index}\">\n          <div class='preview' data-index=\"${index}\">\n            <svg width=\"0\" height=\"0\">\n              <filter id=\"svgfilter-${index}\">\n                ${filters.join('')} \n              </filter>\n            </svg>\n            <div class='svgfilter-view' style='filter: url(#svgfilter-${index});'></div>\n          </div>\n          <div class='title'>\n            <div>\n              <input type='text' class='id' data-key='id' value='${svgfilter.id}' placeholder=\"id\" />\n            </div>\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>${icon.copy}</button>          \n            <button type=\"button\" class='remove'>${icon.remove}</button>\n          </div>\n        </div>\n      `\n    })\n\n    results.push(`<div class='add-svgfilter-item'><button type=\"button\">${icon.add}</button></div>`)\n\n    return results\n  }\n\n \n  executeSVGFilter (callback, isRefresh = true, isEmit = true ) {\n    var project = this.$selection.currentProject;\n\n    if(project) {\n\n      callback && callback (project) \n\n      if (isRefresh) this.refresh();\n      if (isEmit) this.emit('refreshSVGFilterAssets');\n    } else {\n      alert('Please select a project.')\n    }\n  } \n  \n  [CLICK('$svgfilterList .add-svgfilter-item')] () {\n\n    this.executeSVGFilter(project => {\n      project.createSVGFilter({\n        id: uuidShort(),\n        filters: []\n      })\n    })\n  }\n\n  [CLICK('$svgfilterList .remove')] (e) {\n    var $item = e.$dt.closest('svgfilter-item');\n    var index = +$item.attr('data-index');\n\n    this.executeSVGFilter(project => {\n      project.removeSVGFilter(index);\n    })    \n\n  }\n\n\n  [CLICK('$svgfilterList .copy')] (e) {\n    var $item = e.$dt.closest('svgfilter-item');\n    var index = +$item.attr('data-index');\n\n    this.executeSVGFilter(project => {\n      project.copySVGFilter(index);\n    })    \n  }  \n\n  [INPUT('$svgfilterList input')] (e) {\n    var $item = e.$dt.closest('svgfilter-item');\n    var index = +$item.attr('data-index');\n    var obj = e.$dt.attrKeyValue('data-key');\n\n    this.executeSVGFilter(project => {\n      project.setSVGFilterValue(index, obj);      \n\n      this.emit('refreshSVGArea');      \n    }, false)        \n    \n  }\n\n  [CLICK(\"$svgfilterList .preview\")](e) {\n    var $item = e.$dt.closest('svgfilter-item');    \n    var index = +$item.attr('data-index')\n\n    this.state.$item = $item; \n    this.state.$el = e.$dt.$('.svgfilter-view');\n\n    var currentProject = this.$selection.currentProject || { svgfilters: [] } \n\n    var svgfilter = currentProject.svgfilters[index];\n\n    this.emit(\"showSVGFilterPopup\", {\n        changeEvent: 'changeSVGFilterAssets',\n        id: this.id,\n        index,\n        filters: svgfilter.filters \n    });\n  }\n\n\n  [SUBSCRIBE('updateSVGFilterAssets')] (params) {\n    this.executeSVGFilter(project => {\n      project.setSVGFilterValue(params.index, {\n        filters: params.filters\n      });\n\n      // preview 업데이트 해주세요. \n      this.state.$item.$('filter').html(params.filters.join('\\n'))\n\n      this.emit('refreshSVGArea');\n\n    }, false)              \n  }\n\n  [SUBSCRIBE('changeSVGFilterAssets')] (params) {\n    if (params.id === this.id) {\n      this.trigger('updateSVGFilterAssets', params);\n\n    }\n  }\n\n  [SUBSCRIBE('refreshSVGFilterAssets')] () {\n    this.refresh()\n  }\n}","import red from \"./red\";\nimport green from \"./green\";\nimport blue from \"./blue\";\nimport yellow from \"./yellow\";\nimport magenta from \"./magenta\";\nimport cyan from \"./cyan\";\nimport alpha from \"./alpha\";\nimport BlueMagenta2 from \"./BlueMagenta2\";\nimport BlueShadowMagentHightlight from \"./BlueShadowMagentHightlight\";\nimport darken from \"./darken\";\nimport ElimBlue from \"./ElimBlue\";\nimport GrayOnDark from \"./GrayOnDark\";\nimport GrayOnLight from \"./GrayOnLight\";\nimport GrayOnMid from \"./GrayOnMid\";\nimport HardGreen from \"./HardGreen\";\nimport HardYellow from \"./HardYellow\";\nimport IdenticalRedOverlay from \"./IdenticalRedOverlay\";\nimport lighten from \"./lighten\";\nimport lime from \"./lime\";\nimport NoGreenMagenta from \"./NoGreenMagenta\";\nimport NoGreenRed from \"./NoGreenRed\";\nimport peachy from \"./peachy\";\nimport RedOverlay from \"./RedOverlay\";\nimport YesGreenColorizedMagenta from \"./YesGreenColorizedMagenta\";\n\n\nexport default {\n    red,\n    green,\n    blue,\n    yellow,\n    magenta,\n    cyan,\n    alpha,\n    BlueMagenta2,\n    BlueShadowMagentHightlight,\n    darken,\n    ElimBlue,\n    GrayOnDark,\n    GrayOnLight,\n    GrayOnMid,\n    HardGreen,\n    HardYellow,\n    IdenticalRedOverlay,\n    lighten,\n    lime,\n    NoGreenMagenta,\n    NoGreenRed,\n    peachy,\n    RedOverlay,\n    YesGreenColorizedMagenta\n}","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   0   0   0\n0   0   0   1   0\n`","export default `\n0   0   0   0   0\n0   1   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n`","export default `\n0   0   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   1   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n0   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   0   .5  0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   1  .5   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   1   1   0\n0   0   0   1   0 \n`","export default `\n.5   0   0   0   0\n0  .5   0   0   0\n0   0  .5   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   -2   1   0 \n`","export  default `\n0   0   1   0   0\n0   0   1   0   0\n0   0   1   0   0\n0   0   0   1   0  \n`","export  default `\n1   0   0   0   0\n1   0   0   0   0\n1   0   0   0   0\n0   0   0   1   0 \n`","export  default `\n0   1   0   0   0\n0   1   0   0   0\n0   1   0   0   0\n0   0   0   1   0 \n`","export  default `\n1   0   0   0   0\n0   1   0   1   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export  default `\n1   0   0   1   0\n0   1   0   1   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n`","export default `\n1.5   0   0   0   0\n0   1.5   0   0   0\n0   0   1.5   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   2   0   0   0\n0   0   0  .5   0\n0   0   0   1   0 \n`","export default `\n1   1   0   0   0\n0   0   0   0   0\n0   1   1   0   0\n0   0   0   1   0 \n`","export default `\n1   1   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0  .5   0   0   0\n0   0   0  .5   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   1  -1   0\n0   0   0   1   0 \n`","export default `\n1   1   0   0   0\n0   1   0   0   0\n0   1   1   0   0\n0   0   0   1   0 \n`","\nimport { LOAD, INPUT, BIND, CLICK } from \"el/sapa/Event\";\nimport colormatrix from \"./colormatrix\";\nimport { normalize } from \"el/utils/math\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './ColorMatrixEditor.scss';\n\nconst COLUMN = 6; \n\nconst sampleList = Object.keys(colormatrix).map(it => {\n    return {title: it, values: colormatrix[it] }    \n})\n\nexport default class ColorMatrixEditor extends EditorElement {\n\n    initState() {\n        return {\n            values: normalize(this.props.values)\n        }\n    }\n\n    template () {\n        return /*html*/`\n            <div class='elf--color-matrix-editor' >\n                <div ref='$body'></div>\n                <div class='title'> Mix Color Template </div>\n                <div class='color-matrix-template' ref='$sample'></div>\n            </div>\n        `\n    }\n\n    [BIND('$body')] () {\n        return {\n\n            cssText : `\n                display: grid;\n                grid-template-columns: repeat(${COLUMN}, 1fr);\n                grid-column-gap: 2px;\n                grid-row-gap: 2px;\n                text-align: left; \n            `\n        }\n    }\n\n    [LOAD('$sample')] () {\n        return sampleList.map((it, index) =>  {\n            return  /*html*/`<div class='sample-item' title='${it.title}' data-index=\"${index}\">${it.title}</div>`\n        })\n    }\n\n    [CLICK('$sample .sample-item')] (e) {\n        var index = +e.$dt.attr('data-index')\n        var sample = sampleList[index]\n\n        this.updateData({\n            values: normalize(sample.values)\n        })\n\n        this.load('$body');\n    }\n\n    [LOAD('$body')] () {\n\n        var { values } = this.state\n\n        var text = [ 'R', 'G', 'B', 'A']\n\n        var a = values.map( (value, index) => {\n            var h = '' \n            if (index % (COLUMN - 1) === 0) {\n                h = `<div>${text[Math.floor(index/(COLUMN-1))]}</div>`\n            }\n            var result = /*html*/`\n                ${h}\n                <div class='number-editor'>\n                    <input type=\"number\" value=\"${value}\" step=\"0.01\" data-index=\"${index}\" />\n                </div>\n            `\n\n            return result; \n        })\n\n        var header = /*html*/`\n            <div></div>\n            <div>R</div>\n            <div>G</div>\n            <div>B</div>\n            <div>A</div>\n            <div>M</div>\n        `\n\n        return header + a;  \n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.values, this.props.params)\n    }\n\n    [INPUT('$body input')] (e) {\n\n        var $el = e.$dt;\n        var index = +$el.attr('data-index')\n        var value = +$el.value\n\n        this.state.values[index] = value; \n\n        this.updateData();\n\n    }\n}","import { LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './FuncFilterEditor.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class FuncFilterEditor extends EditorElement {\n\n    initState() {\n       \n        return {\n            label: this.props.label || '',\n            ...this.parse(this.props.value)\n        }\n    }\n\n    parse (value) {\n        var [type, ...values] = value.split(' ')\n\n        if (type === 'linear') {\n            var [slop, intercept] = values; \n        } else if (type === 'gamma') {\n            var [amplitude, exponent, offset] = values; \n        }\n\n        return {\n            type, \n            values,\n            slop,\n            intercept,\n            amplitude, \n            exponent, \n            offset\n        }\n    }\n\n    template () {\n        return /*html*/`<div class='small-editor func-filter' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { type,label } = this.state\n\n        var hasLabel = !!label ? 'has-label' : ''\n\n        return /*html*/`\n        <object refClass=\"SelectEditor\"  \n            label=\"${label}\" \n            key=\"type\" \n            value=\"${this.state.type}\" \n            options=${variable([\"identity\",\"table\",\"discrete\",\"linear\",\"gamma\"])} \n            onchange=\"changeType\" />\n        <div class='elf--func-filter-editor ${hasLabel}' ref='$container' data-selected-type='${type}'>\n            ${label ? `<label></label>` : '' }\n            <div data-type='identity'>\n            </div>\n            <div data-type='table'>\n                <object refClass=\"TextEditor\" \n                    label='tableValues' \n                    ref='$values' \n                    key='values' \n                    value=\"${this.state.values.join(' ')}\" \n                    onchange=${this.subscribe((key, value) => {\n                        this.updateData({\n                            [key]: value.split(' ') \n                        })\n                    })} />\n            </div>\n            <div data-type='linear'>\n                ${['slop', 'intercept'].map(it => {\n                    return /*html*/`\n                        <div>\n                            <object refClass=\"NumberRangeEditor\"  \n                                label='${it}' \n                                ref='$${it}' \n                                key='${it}' \n                                value=\"${this.state[it]}\" \n                                onchange=${this.subscribe((key, value) => {\n                                    this.updateData({\n                                        [key]: value\n                                    })\n                                })}\n                            />\n                        </div>                    \n                    `\n                }).join('')}\n            </div>\n            <div data-type='gamma'>\n                ${['amplitude', 'exponent', 'offset'].map(it => {\n                    return /*html*/`\n                        <div>\n                            <object refClass=\"NumberRangeEditor\"  \n                                label='${it}' \n                                ref='$${it}' \n                                key='${it}' \n                                value=\"${this.state[it]}\" \n                                onchange=${this.subscribe((key, value) => {\n                                    this.updateData({\n                                        [key]: value\n                                    })\n                                })}\n                                />\n                        </div>                    \n                    `\n                }).join('')}            \n            </div>                                                \n        </div>\n    `\n    }\n\n    [SUBSCRIBE('changeType')] (key, type) {\n        this.updateData({type});        \n        this.refresh();\n    }\n\n    getValue() {\n        switch(this.state.type) {\n        case 'table':\n        case 'discrete':\n            return [this.state.type, ...this.state.values].join(' ')\n        case 'linear':\n            return [this.state.type, this.state.slop, this.state.intercept].join(' ')\n        case 'gamma':\n            return [this.state.type, this.state.amplitude, this.state.exponent, this.state.offset].join(' ')\n        }\n\n        return 'identity'\n    }\n\n    setValue (value) {\n        this.setState({\n            ...this.parse(value)\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params)\n    }\n}","import grayscale from \"./grayscale\";\nimport shadow from \"./shadow\";\nimport innerShadow from \"./inner-shadow\";\nimport stroke from \"./stroke\";\nimport dancingStroke from \"./dancing-stroke\";\n\nexport default {\n    dancingStroke,\n    stroke,\n    grayscale,\n    shadow,\n    innerShadow\n}","export default [\n\n    { \n        type: 'SourceAlpha', \n        id: 'strokeSource', \n        bound: { x: 100, y : 100 }, \n        connected: [{\n            id: 'morphology'\n        }]\n    },\n\n\n    {\n        type: 'Morphology',\n        id: 'morphology',\n        operator: 'dilate',\n        radius: '3 3',\n        bound: { x: 100, y: 200},\n        in: [\n            {id: 'strokeSource' }\n        ],\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n\n    {\n        type: 'Flood',\n        id: 'flood',\n        bound: { x: 100, y: 200},\n        color: '#30597E',\n        opacity: 1,\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n\n    {\n        type: 'Composite',\n        id: 'composite',\n        bound: { x: 400, y: 150 },\n        in: [ \n            {id: 'flood'}, \n            {id: 'morphology'} \n        ] ,\n        operator: 'in',\n        connected: [{\n            id: 'composite2'\n        }]        \n    },\n\n\n    { \n        type: 'SourceAlpha', \n        id: 'strokeSourceAlpha2', \n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'composite2'\n        }]\n    },    \n\n    {\n        type: 'Composite',\n        id: 'composite2',\n        bound: { x: 400, y: 150 },\n        in: [ \n            {id: 'composite'}, \n            {id: 'strokeSourceAlpha2'} \n        ] ,\n        operator: 'out',\n        connected: [{\n            id: 'displacementMap'\n        }]        \n    },    \n\n\n\n    { \n        type: 'Turbulence', \n        id: 'turbulence', \n        filterType: 'fractalNoise',\n        baseFrequency: '0.01 0.02',\n        numOctaves: 1, \n        seed: 0,\n        stitchTiles: 'stitch',\n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'displacementMap'\n        }]\n    },\n\n\n    { \n        type: 'DisplacementMap', \n        id: 'displacementMap', \n        scale: 17,\n        xChannelSelector: 'A',\n        yChannelSelector: 'A',\n        bound: { x: 400, y : 200 }, \n        in: [\n            {id: 'composite2'},\n            {id: 'turbulence'}\n        ],\n        connected: [{\n            id: 'merge'\n        }]\n    },\n\n    { \n        type: 'SourceGraphic', \n        id: 'strokeSourceGraphic', \n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'merge'\n        }]\n    },\n\n    {\n        type: 'Merge',\n        id: 'merge',\n        bound: { x: 500, y: 150 },\n        in: [ {id: 'strokeSourceGraphic'}, {id: 'displacementMap'}]\n    }\n\n]","export default [\n\n    { \n        type: 'SourceAlpha', \n        id: 'strokeSource', \n        bound: { x: 100, y : 100 }, \n        connected: [{\n            id: 'morphology'\n        }]\n    },\n\n\n    {\n        type: 'Morphology',\n        id: 'morphology',\n        operator: 'dilate',\n        radius: '3 3',\n        bound: { x: 100, y: 200},\n        in: [\n            {id: 'strokeSource' }\n        ],\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n\n    {\n        type: 'Flood',\n        id: 'flood',\n        bound: { x: 100, y: 200},\n        color: '#30597E',\n        opacity: 1,\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n\n    {\n        type: 'Composite',\n        id: 'composite',\n        bound: { x: 400, y: 150 },\n        in: [ \n            {id: 'flood'}, \n            {id: 'morphology'} \n        ] ,\n        operator: 'in',\n        connected: [{\n            id: 'merge'\n        }]        \n    },\n\n    { \n        type: 'SourceGraphic', \n        id: 'strokeSourceGraphic', \n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'merge'\n        }]\n    },\n\n    {\n        type: 'Merge',\n        id: 'merge',\n        bound: { x: 500, y: 150 },\n        in: [ {id: 'composite'}, {id: 'strokeSourceGraphic'}]\n    }\n\n]","export default [{\n    type: 'Saturate',\n    values: '0'\n}]","export default [\n\n    { \n        type: 'SourceAlpha', \n        id: 'shadowSource', \n        bound: { x: 100, y : 100 }, \n        connected: [{\n            id: 'offset'\n        }]\n    },\n\n    {\n        type: 'Offset', \n        id: 'offset', \n        bound: { x: 200, y : 100 }, \n        dx: 10, \n        dy: 10, \n        in: [{id: 'shadowSource'} ],\n        connected: [\n            {id: 'blur'}\n        ]\n    },\n\n    {\n        type: 'GaussianBlur',\n        id: 'blur',\n        bound: { x: 300, y: 100 },\n        stdDeviationX: 5,\n        stdDeviationY: 5, \n        in: [{id: 'offset'}],\n        connected: [{\n            id: 'composite'\n        }]\n    },\n\n    {\n        type: 'Flood',\n        id: 'flood',\n        bound: { x: 100, y: 200},\n        color: 'black',\n        opacity: 0.7,\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n    {\n        type: 'Composite',\n        id: 'composite',\n        bound: { x: 400, y: 150 },\n        in: [ \n            {id: 'flood'}, \n            {id: 'blur'} \n        ] ,\n        operator: 'in',\n        connected: [{\n            id: 'merge'\n        }]        \n    },\n\n\n    { \n        type: 'SourceAlpha', \n        id: 'shadowSource2', \n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'merge'\n        }]\n    },\n\n    {\n        type: 'Merge',\n        id: 'merge',\n        bound: { x: 500, y: 150 },\n        in: [ {id: 'composite'}, {id: 'shadowSource2'}]\n    }\n\n]","export default [\n\n    {\n        type: 'Flood',\n        id: 'flood',\n        bound: { x: 100, y: 200},\n        color: 'black',\n        opacity: 1,\n        connected: [\n            {id: 'composite1'}\n        ]\n    },\n\n\n    { \n        type: 'SourceAlpha', \n        id: 'shadowSource', \n        bound: { x: 100, y : 100 }, \n        connected: [{\n            id: 'composite1'\n        }]\n    },\n\n    {\n        type: 'Composite',\n        id: 'composite1',\n        bound: { x: 200, y: 150 },\n        in: [ \n            {id: 'flood'}, \n            {id: 'shadowSource'}\n        ] ,\n        operator: 'out',\n        connected: [{\n            id: 'offset'\n        }]        \n    },\n\n    {\n        type: 'Offset', \n        id: 'offset', \n        bound: { x: 300, y : 150 }, \n        dx: 4, \n        dy: 4, \n        in: [\n            {id: 'composite1'}\n        ],\n        connected: [\n            {id: 'blur'}\n        ]\n    },\n\n\n    {\n        type: 'GaussianBlur',\n        id: 'blur',\n        bound: { x: 400, y: 150 },\n        stdDeviationX: 4,\n        stdDeviationY: 4, \n        edge: 'none',\n        in: [\n            {id: 'offset'} \n        ],\n        connected: [{\n            id: 'composite2'\n        }]\n    },\n\n\n\n    { \n        type: 'SourceAlpha', \n        id: 'shadowSource2', \n        bound: { x: 400, y : 250 }, \n        connected: [{\n            id: 'composite2'\n        }]\n    },\n\n\n    {\n        type: 'Composite',\n        id: 'composite2',\n        bound: { x: 500, y: 150 },\n        in: [ \n            {id: 'blur'}, \n            {id: 'shadowSource2'}\n        ] ,\n        operator: 'out',\n        connected: [{\n            id: 'merge'\n        }]        \n    },    \n\n\n\n    { \n        type: 'SourceGraphic', \n        id: 'shadowSource3', \n        bound: { x: 500, y : 250 }, \n        connected: [{\n            id: 'merge'\n        }]\n    },    \n\n    {\n        type: 'Merge',\n        id: 'merge',\n        bound: { x: 600, y: 150 },\n        in: [ \n            {id: 'composite2'}, \n            {id: 'shadowSource3'}\n        ]\n    }\n\n]","import icon, { iconUse } from \"el/editor/icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  POINTERSTART,\n  DRAGOVER,\n  PREVENT,\n  DROP,\n  DRAGSTART,\n  SUBSCRIBE,\n  SUBSCRIBE_SELF\n} from \"el/sapa/Event\";\n\nimport { SVGFilter, SVGFilterSpecList } from \"el/editor/property-parser/SVGFilter\";\nimport { Length } from \"el/editor/unit/Length\";\nimport Dom from \"el/sapa/functions/Dom\";\nimport PathStringManager from \"el/editor/parser/PathStringManager\";\nimport svgFilterPreset from \"./editor/svg-filter-preset\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport './SVGFilterEditor.scss';\nimport { mapjoin, OBJECT_TO_CLASS, repeat } from \"el/utils/func\";\nimport { clone, isFunction, keyMapJoin } from \"el/sapa/functions/func\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nconst filterTypes = [\n  {label: 'GRAPHIC REFERENCES', items : [\n    {label: 'Source Graphic', value:\"SourceGraphic\"},\n    {label: 'Source Alpha', value:\"SourceAlpha\"},\n    {label: 'Background Image', value:\"BackgroundImage\"},\n    {label: 'Background Alpha', value:\"BackgroundAlpha\"},\n    {label: 'Fill Paint', value:\"FillPaint\"},                \n    {label: 'Stroke Paint', value:\"StrokePaint\"},\n  ]},\n  {label: 'SOURCES', items : [\n    {label: 'Flood', value:\"Flood\"},\n    {label: 'Turbulence', value:\"Turbulence\"},\n    {label: 'Image', value:\"Image\"}\n  ]},  \n  {label: 'MODIFIER', items : [\n    {label: 'Color Matrix', value:\"ColorMatrix\"},\n    {label: 'Saturate', value:\"Saturate\"},\n    {label: 'HueRotate', value:\"HueRotate\"},\n    {label: 'LuminanceToAlpha', value:\"LuminanceAlpha\"},\n    {label: 'Drop Shadow', value:\"DropShadow\"},\n    {label: 'Morphology', value:\"Morphology\"},\n    {label: 'Convolve Matrix', value:\"ConvolveMatrix\"},\n    {label: 'Offset', value:\"Offset\"},\n    {label: 'Gaussian Blur', value:\"GaussianBlur\"},\n    {label: 'Tile', value:\"Tile\"}\n  ]},    \n  {label: 'LIGHTING', items : [\n    {label: 'Specular Lighting', value:\"SpecularLighting\"},\n    {label: 'Diffuse Lighting', value:\"DiffuseLighting\"},\n    {label: 'Point Light', value:\"PointLight\"},\n    {label: 'Spot Light', value:\"SpotLight\"},\n    {label: 'Distant Light', value:\"DistantLight\"}\n  ]},     \n  {label: 'COMBINERS', items : [\n    {label: 'Blend', value:\"Blend\"},\n    {label: 'Composite', value:\"Composite\"},\n    {label: 'Merge', value:\"Merge\"},\n    {label: 'DisplacementMap', value:\"DisplacementMap\"}\n  ]},        \n]\n\nconst SVGFilterTemplateList = [\n  {\n    label: 'Template', items : [\n      {label: 'Grayscale', value: 'grayscale'},\n      {label: 'Shadow', value: 'shadow'},\n      {label: 'Inner Shadow', value: 'innerShadow'},      \n      {label: 'Stroke', value: 'stroke'},\n      {label: 'Dancing Stroke', value: 'dancingStroke'}\n    ]\n  }\n];\n\nfunction getIcon(type) {\n  switch(type) {\n  case 'SpecularLighting': return iconUse(\"specular\");\n  case 'DiffuseLighting': return iconUse(\"diffuse\");\n  case 'SourceGraphic': \n  case 'SourceAlpha': \n    return iconUse(\"image\");\n  case 'BackgroundImage':\n  case 'BackgroundAlpha':\n    return iconUse(\"outline_image\");\n  case 'Flood': return iconUse(\"palette\");\n  case 'Image': return iconUse(\"landscape\");\n  case 'GaussianBlur': return iconUse(\"blur\");\n  case 'ColorMatrix': return iconUse(\"blur_linear\");\n  case 'Turbulence': return iconUse(\"waves\");\n  case 'Saturate': return iconUse(\"vintage\");\n  case 'HueRotate': return iconUse(\"looks\");\n  case 'LuminanceAlpha': return iconUse(\"opacity\");\n  case 'DropShadow': return iconUse(\"shadow\");\n  case 'Morphology': return iconUse(\"broken_image\");\n  case 'ConvolveMatrix': return iconUse(\"camera_roll\");\n  case 'Offset': return iconUse(\"transform\");\n  case 'Tile': return iconUse(\"view_comfy\");\n  case 'Blend': return iconUse(\"gradient\");\n  case 'Composite': return iconUse(\"merge\");\n  case 'Merge': return iconUse(\"settings_input_component\");\n  case 'DisplacementMap': return iconUse(\"texture\");\n  }\n\n  return ''; \n}\n\n\nfunction getSourceTypeString(type) {\n  switch(type) {\n  case 'SourceGraphic': \n  case 'SourceAlpha': \n  case 'BackgroundImage':\n  case 'BackgroundAlpha':\n  case 'FillPaint':\n  case 'StrokePaint':\n    return 'graphic';    \n\n  case 'Flood': \n  case 'Turbulence':   \n  case 'Image': \n    return 'source';\n  case 'GaussianBlur': \n  case 'ColorMatrix': \n  case 'Saturate': \n  case 'HueRotate': \n  case 'LuminanceAlpha': \n  case 'DropShadow': \n  case 'Morphology': \n  case 'ConvolveMatrix': \n  case 'Offset': \n  case 'Tile': \n    return 'modifier';    \n  case 'SpecularLighting':\n  case 'DiffuseLighting':\n  case 'SpotLight':\n  case 'PointLight':\n  case 'DistantLight':\n    return 'lighting';            \n  case 'Blend': \n  case 'Composite': \n  case 'Merge': \n  case 'DisplacementMap': \n    return 'combiner';\n  }\n\n  return ''; \n}\n\n\nconst width = 40; \nconst half_height = 20; \n\nconst connectedXAxis = {\n  \"1\" : [ width + 5 ]\n}\n\nconst connectedYAxis = {\n  \"1\" : [ half_height ]\n}\n\nconst inXAxis = {\n  \"1\": [ -7 ] ,\n  \"2\": [ -7] ,\n  \"3\": [ -7] ,  \n  \"4\": [ -7] ,    \n  \"5\": [ -7]  \n}\n\nlet inYAxis = {\n  \"1\": [0] ,\n  \"2\": [-7, 7] ,\n  \"3\": [-14, 0, 14] ,  \n  \"4\": [-21, -7, 7, 21] ,    \n  \"5\": [-28, -14, 0, 14, 28]\n}\n\nObject.keys(inYAxis).forEach(len => {\n  inYAxis[len] = inYAxis[len].map(it => it + half_height)\n})\n\nexport default class SVGFilterEditor extends EditorElement {\n\n  makeFilterSelect () {\n    return /*html*/`\n  \n    <div class='filter-item-list' ref=\"$filterSelect\">\n  \n      ${mapjoin(filterTypes, f => {\n        return /*html*/`\n          <div class='group' label=\"${this.$i18n(f.label)}\">\n            ${mapjoin(f.items, i => {\n              return /*html*/ `\n                <div class='item' draggable=\"true\" value=\"${i.value}\">\n                  <span class='icon'>${getIcon(i.value)}</span>\n                  ${this.$i18n(i.label)}\n                </div>\n                `\n            })}\n          </div>\n        `\n      })}\n    </div>\n    `\n  }\n  \n  \n  makeFilterTemplateSelect () {\n    return /*html*/`\n  \n    <div class='filter-item-list' ref=\"$filterTemplateSelect\">\n  \n      ${mapjoin(SVGFilterTemplateList, f => {\n        return /*html*/`\n          <div class='group' label=\"${this.$i18n(f.label)}\">\n            ${mapjoin(f.items, i => {\n              return /*html*/ ` <div class='item' draggable=\"true\" value=\"${i.value}\">${this.$i18n(i.label)}</div>`\n            })}\n          </div>\n        `\n      })}\n    </div>\n    `\n  }\n  \n\n  initState() {\n    var filters = this.parseFilter(this.props.value || [])\n\n    return {\n      filters,\n      selectedTabIndex: 1,\n      selectedIndex: -1,\n      selectedFilter: null\n    }\n  }\n\n\n\n  template() {\n    return /*html*/`\n      <div class='elf--svg-filter-editor filter-list'>\n        <div class='left'>\n          <div class=\"tab number-tab\" ref=\"$tab\">\n            <div class=\"tab-header full\" ref=\"$header\">\n              <div class=\"tab-item selected\" data-value=\"1\" title='Item'>\n                <label class='icon'>${this.$i18n('svg.filter.editor.tab.filter')}</label>\n              </div>\n              <div class=\"tab-item\" data-value=\"2\" title=\"Preset\">\n                <label class='icon'>${this.$i18n('svg.filter.editor.tab.preset')}</label>\n              </div>\n              <div class=\"tab-item\" data-value=\"3\" title=\"Asset\">\n                <label class='icon'>${this.$i18n('svg.filter.editor.tab.asset')}</label>\n              </div>\n            </div>\n            <div class=\"tab-body\">\n              <div class=\"tab-content scrollbar selected\" data-value=\"1\">\n                ${this.makeFilterSelect()}\n              </div>\n              <div class=\"tab-content  scrollbar\" data-value=\"2\">\n                ${this.makeFilterTemplateSelect()}\n              </div>\n                     \n            </div>\n          </div>\n        </div>\n        <div  class='center'>\n          <div class='graph'>\n            <div class='drag-line-panel' ref='$dragLinePanel'></div>          \n            <div class='connected-line-panel' ref='$connectedLinePanel'></div>\n            <div class='graph-panel' ref='$graphPanel' droppable=\"true\"></div>\n          </div>\n        </div>\n        <div class='right'>\n          <div class='filter-list' ref='$filterList'></div>\n        </div>\n      </div>`;\n  }\n\n\n  [CLICK(\"$header .tab-item:not(.empty-item)\")](e) {\n    var selectedTabIndex = +e.$dt.attr('data-value')\n    if (this.state.selectedTabIndex === selectedTabIndex) {\n      return; \n    }\n\n    this.$el.$$(`[data-value=\"${this.state.selectedTabIndex}\"]`).forEach(it => it.removeClass('selected'))\n    this.$el.$$(`[data-value=\"${selectedTabIndex}\"]`).forEach(it => it.addClass('selected'))\n    this.setState({ selectedTabIndex }, false);\n  }  \n\n  [DRAGSTART('$filterSelect .item')] (e) {\n    var filter = e.$dt.attr('value');\n\n    e.dataTransfer.setData('filter/type', filter);\n  }\n\n  [DRAGOVER('$connectedLinePanel') + PREVENT] () {}\n  [DROP('$connectedLinePanel') + PREVENT] (e) {\n\n    var offset  = {x: e.offsetX, y: e.offsetY  }\n\n    var filterType = e.dataTransfer.getData('filter/type')\n\n    this.makeFilterNode(filterType, { bound: offset })\n  }\n\n  makeFilterNode  (filterType, opt = {}) {\n    this.state.filters.push(this.makeFilter(filterType, opt))\n    this.state.selectedIndex = this.state.filters.length - 1; \n    this.state.selectedFilter = this.state.filters[this.state.selectedIndex]; \n\n    this.refresh();\n\n    this.modifyFilter()    \n  }\n\n  applyTemplate  (templateType) {\n\n    var template = svgFilterPreset[templateType]\n\n    if (template) {\n      this.setState({\n        selectedIndex: -1,\n        selectedFilter: null,\n        filters: this.parseFilter(template)\n      }, false)\n\n      this.refresh()\n\n      this.modifyFilter()    \n    }\n\n  }\n\n  getSpec(filterType) {\n    return SVGFilterSpecList[filterType];\n  }\n\n  makeFilterEditorTemplate (s, filter, key) {\n\n    var objectId = `${filter.type}${key}${this.state.selectedIndex}${Date.now()}`\n\n\n    if (s.inputType === 'color-matrix') {\n      return /*html*/`\n        <div>\n          <object refClass=\"ColorMatrixEditor\" \n            ref='$colorMatrix${objectId}' \n            label=\"${s.title}\"\n            key=\"${key}\"       \n            column='${s.column}' \n            values='${filter[key].join(' ')}' \n            onchange=\"changeRangeEditor\"\n          />\n        </div>\n        `\n    } else if (s.inputType === 'input-array') {\n      return /*html*/`\n        <div>\n          <object refClass=\"InputArrayEditor\" \n            ref='$inputArray${objectId}' \n            label=\"${s.title}\"\n            key=\"${key}\"       \n            column-label=\"R,G,B,A,M\",\n            row-label=\"R,G,B,A\",\n            column='${s.column}' \n            values='${filter[key].join(' ')}' \n            onchange=\"changeRangeEditor\"\n          />\n        </div>\n        `\n\n    } else if (s.inputType === 'blend') {\n\n      return /*html*/`\n        <div>\n          <object refClass=\"BlendSelectEditor\" \n            ref='$blend${objectId}' \n            label=\"${s.title}\"\n            key=\"${key}\"\n            value='${filter[key].toString()}' \n            onchange=\"changeRangeEditor\"             \n          />\n        </div>\n        `\n\n    } else if (s.inputType === 'select') {\n\n        var options = s.options\n  \n        if (isFunction(s.options)){\n          options = s.options(this.state.filters)\n        }\n  \n        return /*html*/`\n          <div>\n            <object refClass=\"SelectEditor\"  \n              ref='$select${objectId}' \n              label=\"${s.title}\"\n              options='${options}' \n              key=\"${key}\"\n              value='${filter[key].toString()}' \n              onchange=\"changeRangeEditor\"             \n            />\n          </div>\n          `        \n    } else if (s.inputType === 'text') {\n      return /*html*/`\n        <div>\n          <object refClass=\"TextEditor\" \n            ref='$text${objectId}' \n            label=\"${s.title}\"\n            key=\"${key}\"\n            value='${filter[key].toString()}' \n            onchange=\"changeTextEditor\"\n          />\n        </div>\n        `\n    } else if (s.inputType === 'number-range') {  \n      return /*html*/` \n        <div>\n          <object refClass=\"NumberRangeEditor\"  \n            ref='$numberrange${objectId}' \n            label=\"${s.title}\" \n            layout='block'             \n            min=\"${s.min}\"\n            max=\"${s.max}\"\n            step=\"${s.step}\"\n            key=\"${key}\" \n            value=\"${filter[key].toString()}\" \n            onchange=\"changeRangeEditor\" \n          />\n        </div>\n      `\n    } else if (s.inputType === 'color') {\n      return /*html*/`\n        <div>\n          <object refClass=\"ColorViewEditor\" \n            ref='$colorview${objectId}' \n            label=\"${s.title}\" \n            key=\"${key}\"\n            value=\"${filter[key].toString()}\" \n            onchange=${this.subscribe((key, color, params) => {\n              this.trigger('changeRangeEditor', key, color, params)\n            })}\n          />\n        </div>\n      `\n    } else if (s.inputType === 'FuncFilter') {\n      return /*html*/`\n        <div>\n          <object refClass=\"FuncFilterEditor\" \n            ref='$funcFilter${objectId}' \n            label=\"${s.title}\" \n            key=\"${key}\"\n            value=\"${filter[key].toString()}\" \n            onchange=\"changeFuncFilterEditor\" \n          />\n        </div>\n      `  \n    } else if (s.inputType === 'ImageSelectEditor') {\n      return /*html*/`\n        <div>\n          <object refClass=\"ImageSelectEditor\" \n            ref='$imageSelect${objectId}' \n            label=\"${s.title}\" \n            key=\"${key}\"\n            value=\"${filter[key].toString()}\" \n            onchange=\"changeRangeEditor\" \n          />\n        </div>\n      `            \n    }\n\n    return /*html*/`\n      <div>\n        <object refClass=\"RangeEditor\"  \n          ref='$range${objectId}' \n          layout='block' \n          calc='false' \n          label=\"${s.title}\" \n          min=\"${s.min}\"\n          max=\"${s.max}\"\n          step=\"${s.step}\"\n          key=\"${key}\" \n          value=\"${filter[key].toString()}\" \n          units=\"${s.units.join(',')}\" \n          onchange=\"changeRangeEditor\" \n        />\n      </div>\n    `\n  }\n\n  makeOneFilterTemplate(spec, filter) {\n  return /*html*/`\n    <div class=\"filter-item\">\n      <div class=\"title\">\n        <label>${filter.type}</label>\n        <div class=\"filter-menu\">\n          <button type=\"button\" class=\"del\">${iconUse(\"remove\")}</button>\n        </div>\n      </div>\n      <div class=\"filter-ui\">\n        ${keyMapJoin(spec, (key, value) => {\n          return this.makeFilterEditorTemplate(value, filter, key);\n        })}\n\n      </div>\n    </div>\n  `;\n  }\n\n  makeFilterTemplate(filter) {\n    return this.makeOneFilterTemplate(\n      this.getSpec(filter.type),\n      filter\n    );\n  }\n\n  [LOAD(\"$filterList\")]() {\n\n    if (this.state.selectedFilter  && this.state.selectedFilter.isSource() === false) {\n      return this.makeFilterTemplate(this.state.selectedFilter);\n    }\n\n    return '';\n  }\n\n  modifyFilter () {\n\n    this.state.filters.forEach(f => {\n      if (f.isLight() && f.connected.length) {\n        f.connected.forEach(c => {\n          this.state.filters.filter(s => s.id === c.id).forEach(lightManager => {\n            lightManager.reset({\n              lightInfo: f.toLightString()\n            })\n          })\n        })\n      }\n    })\n\n    this.parent.trigger(this.props.onchange, this.props.key, this.state.filters)\n  }\n\n  parseFilter (list = []) {\n    return list.map(it => SVGFilter.parse(it))\n  }\n\n  makeFilter(type, opt = {}) {\n    return SVGFilter.parse({ ...opt, type });\n  }\n\n\n  [CLICK(\"$filterSelect .item[value]\")](e) {\n    var filterType = e.$dt.attr('value');\n\n    this.makeFilterNode(filterType);\n  }\n\n  [CLICK(\"$filterTemplateSelect .item[value]\")](e) {\n    var templateType = e.$dt.attr('value');\n\n    this.applyTemplate(templateType);\n  }\n\n\n  [CLICK(\"$filterList .filter-menu .del\")](e) {\n    this.removeFilter(this.state.selectedFilter.id);\n  }\n\n  [LOAD('$graphPanel')] () {\n    return this.makeGraphPanel();\n  }\n\n  selectFilter (index) {\n    this.setState({\n      selectedIndex: index,\n      selectedFilter: this.state.filters[index]\n    }, false)\n    this.load('$filterList')\n  }\n\n  [POINTERSTART('$graphPanel .filter-node') + MOVE()  + END()] (e) {\n    this.$target = e.$dt;\n    this.$point = null; \n    this.pointType = 'object';\n    this.pointIndex = 0; \n    var rect = this.refs.$graphPanel.rect();\n    this.rect = rect;  \n\n    var index = +this.$target.attr('data-index');    \n    this.selectFilter(index);\n    this.$target.onlyOneClass('selected');\n\n    var  pointer = Dom.create(e.target);\n\n    if (pointer.hasClass('out')) {\n      this.$point = pointer;\n      this.pointType = 'out';\n      this.pointIndex = 0; \n    } else if (pointer.hasClass('in')) {\n      this.$point = pointer;\n      this.pointType = 'in'; \n      this.pointIndex = +pointer.attr('data-index');      \n    } else {\n      var filter = this.state.selectedFilter\n      this.startXY = clone(filter.bound);\n    }\n\n    if (this.pointType === 'in' || this.pointType === 'out') {\n      var inRect = pointer.rect()\n      var x = inRect.x - rect.x;\n      var y = inRect.y - rect.y;\n\n      var centerX = x + inRect.width/2;\n      var centerY = y + inRect.height/2;\n\n      this.startXY = {x: centerX, y: centerY };\n    }\n\n    this.startXY.dx = 0\n    this.startXY.dy = 0; \n\n    this.load('$dragLinePanel');\n\n  }\n\n  [LOAD('$dragLinePanel')] () {\n    if (this.pointType === 'in' || this.pointType === 'out') {\n      var {x, y, dx, dy } = this.startXY;\n      return /*html*/`\n      <svg>\n        <path \n          class=\"drag-line\"\n          fill=\"transparent\"\n          stroke-width=\"1\"\n          d=\"\n            M${x},${y}\n            L${x + dx},${y + dy} \n            Z\n          \"\n        />\n      </svg>\n      `\n    } else {\n      return ''; \n    }\n  }\n\n  makeConnectedPath (points) {\n\n    var manager = new PathStringManager();\n\n    var first = points[0];\n    var last = points[points.length-1]\n\n    if (!first) return '';\n    if (!last) return '';\n\n    var dist = Math.abs(first.x - last.x)/2;\n\n    manager\n    .M(first)\n    .C({x: first.x + dist, y: first.y}, {x: last.x - dist, y: last.y}, last)\n\n    return manager.d;\n  }\n\n  createPath (sourceItem, connectedInfo) {\n    \n    if (connectedInfo.path) {\n      return connectedInfo.path; \n    }\n\n    var sourceX = sourceItem.bound.x + connectedXAxis['1'][0]; \n    var sourceY = sourceItem.bound.y + connectedYAxis['1'][0]; \n\n    var target = this.state.filters.map((it, index) => {\n      return {it, index}\n    }).find(it => {\n      if (!it) return false; \n      if (!it.it) return false;       \n      return it && it.it.id === connectedInfo.id\n    });\n\n\n    var len = `${target.it.getInCount()}`;\n    var source = target.it.in.map((it, index) => {\n      return { it, index}\n    }) .find((it) => {\n      if (!it) return false; \n      if (!it.it) return false; \n      return it.it.id === sourceItem.id\n    });\n    \n    if (!source) {\n      return [] \n    }\n\n    var index = source.index;\n    var targetX = target.it.bound.x + inXAxis[len][0];\n    var targetY = target.it.bound.y + inYAxis[len][index];    \n\n    return [{x: sourceX, y: sourceY}, {x: targetX, y: targetY}]\n  }\n\n  [LOAD('$connectedLinePanel')] () {\n\n    return /*html*/`\n      <svg>\n        ${this.state.filters.map(it => {\n          return it.connected.map(connectedItem => {\n\n            var path = this.createPath(it, connectedItem);\n            var sourceType = getSourceTypeString(it.type);\n\n            return /*html*/`\n              <path \n                class=\"connected-line\"\n                data-source-type=\"${sourceType}\"\n                d=\"${this.makeConnectedPath(path)}\"\n              />\n\n              ${path.length && /*html*/`\n                <circle \n                  data-source-type=\"${sourceType}\"\n                  data-target-id=\"${connectedItem.id}\"\n                  data-source-id=\"${it.id}\"\n                  class=\"connected-remove-circle\"\n                  cx=\"${(path[0].x + path[1].x) / 2}\"\n                  cy=\"${(path[0].y + path[1].y) / 2}\"\n                />\n              `}\n              \n            `\n          }).join('');\n        }).join('')}\n      </svg>\n    `\n  }\n\n  [CLICK('$connectedLinePanel .connected-remove-circle')] (e) {\n    var  [tid, sid] = e.$dt.attrs('data-target-id', 'data-source-id');\n\n    var filters = this.state.filters; \n    filters.filter(it => it.id === sid).forEach(it => {\n      it.connected = it.connected.filter(c => c.id != tid);\n    });\n\n    filters.filter(it => it.id === tid).forEach(it => {\n      it.in = it.in.map(inObject => {\n        if (inObject && inObject.id ==  sid) {\n          return null; \n        }\n\n        return inObject; \n      })\n    });\n\n    this.refresh();\n\n    this.modifyFilter();    \n  }\n\n  getCenterXY ($target) {\n    var inRect = $target.rect()\n    var x = inRect.x - this.rect.x;\n    var y = inRect.y - this.rect.y;\n\n    var centerX = x + inRect.width/2;\n    var centerY = y + inRect.height/2;\n\n    return {x: centerX, y: centerY}\n  }\n\n  end (dx, dy) {\n\n    if (this.pointType === 'in'|| this.pointType === 'out') {\n\n      this.startXY.dx = dx; \n      this.startXY.dy = dy; \n      var filter = this.state.selectedFilter;\n\n      var e = this.$config.get('bodyEvent')      \n\n      var $target = Dom.create(e.target);\n      var $targetNode = $target.closest('filter-node');\n      \n      if (this.pointType === 'out') {\n\n        if ($target.hasClass('in')) {\n          var targetFilter = this.state.filters[+$targetNode.attr('data-index')]\n          if (targetFilter) {\n\n            if (!targetFilter.hasLight() && filter.isLight()) {\n              // light 계열은 lighting 에만 갈 수 있음.  \n            } else {\n              var targetIndex = +$target.attr('data-index');\n              if (!targetFilter.in[targetIndex]) {\n                targetFilter.setIn(targetIndex, filter);\n                filter.setConnected(targetFilter)\n              }\n\n            }\n\n          }\n        }\n      } else if (this.pointType === 'in') {\n        if ($target.hasClass('out'))  {        \n          var targetFilter = this.state.filters[+$targetNode.attr('data-index')]\n          if (targetFilter) {\n\n            if (filter.hasLight() && !targetFilter.isLight()) {\n              // lighting  는 light 와  연결된다. \n            } else {\n              if (!filter.in[this.pointIndex]) {\n                filter.setIn(this.pointIndex, targetFilter);\n                targetFilter.setConnected(filter)\n              }\n\n            }\n                      \n          }\n        }\n      }\n\n      this.pointType = '';\n  \n    }\n\n    this.load('$dragLinePanel');\n    this.load('$connectedLinePanel');\n\n    this.modifyFilter();    \n  }\n\n  move (dx, dy) {\n\n\n    var filter = this.state.selectedFilter;\n    if (filter) {\n      this.startXY.dx = dx; \n      this.startXY.dy = dy; \n\n      if (this.pointType === 'in') {\n        this.load('$dragLinePanel')\n      } else if (this.pointType === 'out') {\n        this.load('$dragLinePanel')\n      } else {\n\n        filter.reset({\n          bound: { x: this.startXY.x + dx, y : this.startXY.y + dy }\n        })\n  \n        this.$target.css({\n          left: Length.px(filter.bound.x),\n          top: Length.px(filter.bound.y),\n        })\n        \n        this.load('$connectedLinePanel');\n      }\n\n    }\n\n  }\n\n  makeGraphPanel() {\n\n    return this.state.filters.map((it, index) => {\n\n      return /*html*/`\n        <div class='filter-node ${OBJECT_TO_CLASS({\n          'selected': index ===  this.state.selectedIndex\n        })}' data-type=\"${it.type}\" data-index=\"${index}\" data-filter-id=\"${it.id}\" style='left: ${it.bound.x}px;top: ${it.bound.y}px;'>\n          <div class='label'>${this.$i18n(it.type)}</div>\n          <div class='remove'>${iconUse(\"close\")}</div>\n          <div class='preview' data-source-type=\"${getSourceTypeString(it.type)}\" data-filter-type='${it.type}'>${getIcon(it.type)}</div>\n          <div class='in-list'>\n            ${repeat(it.getInCount()).map((itIn, inIndex) => {\n              return /*html*/`<div class='in' data-index='${inIndex}'></div>`\n            }).join('')}\n          </div>\n          \n          <div class='out' data-index=\"0\">${iconUse(\"chevron_right\")}</div>\n          ${it.hasLight() ? /*html*/`<div class='light'  data-index=\"0\"></div>` : ''}\n        </div>\n      `\n    })\n  }\n\n\n  [SUBSCRIBE_SELF('changeFuncFilterEditor')] (key, value) {\n    var filter =  this.state.selectedFilter;\n    if (filter) {\n      filter.reset({\n        [key]: value\n      })\n    }\n  \n    this.modifyFilter();\n  }    \n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    var filter =  this.state.selectedFilter;\n    if (filter) {\n      filter.reset({\n        [key]: value\n      })\n    }\n  \n    this.modifyFilter();\n  }  \n\n  [SUBSCRIBE_SELF('changeTextEditor')] (key, value) {\n    var filter =  this.state.selectedFilter;\n    if (filter) {\n      filter.reset({\n        [key]: value\n      })\n    }\n  \n    this.modifyFilter();\n  }\n\n  removeFilter (id) {\n\n    var filters  = this.state.filters.filter(it => it.id != id);\n    filters.forEach(it => {\n      it.connected = it.connected.filter(c => c.id != id);\n      it.in = it.in.filter(c => c.id != id);\n    })\n\n    if (this.state.selectedFilter.id === id) {\n      this.state.selectedFilter = null; \n      this.state.selectedIndex = -1; \n    }\n\n    this.setState({\n      filters\n    })\n\n    this.modifyFilter();\n  }\n\n  [CLICK('$graphPanel .filter-node .remove')] (e) {\n    var $target = e.$dt.closest('filter-node');\n    var index = +$target.attr('data-index');\n    var f = this.state.filters[index]\n\n    this.removeFilter(f.id);\n  }\n}","\nimport { LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport { SVGFilter } from \"el/editor/property-parser/SVGFilter\";\nimport { isNotUndefined } from \"el/sapa/functions/func\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './SVGFilterPopup.scss';\nimport { variable } from \"el/sapa/functions/registElement\";\n\nexport default class SVGFilterPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('svgfilter.popup.title');\n  }\n\n\n  getClassName() {\n    return 'transparent'\n  }\n\n  initState() {\n    return {\n      changeEvent: 'changeSVGFilterPopup',\n      id: '',\n      preview: true, \n      filters: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.state.changeEvent, this.state);\n  }\n\n  getBody() {\n    return /*html*/`\n    <div class='elf--svg-filter-popup' ref='$popup'>\n      <div class=\"box\">\n        <div class='editor' ref='$editor'></div>\n      </div>\n    </div>`;\n  }\n\n  [LOAD('$editor')] () {\n\n    return /*html*/`\n      <object refClass=\"SVGFilterEditor\" \n        ref='$filter' \n        title='Filter Type' \n        key=\"filter\" \n        value=\"${variable(this.state.filters)}\"\n        onchange=${this.subscribe((key, filters) => {\n            this.updateData({\n              filters\n            })\n          })\n        } \n      />\n    `\n\n  }\n  \n  [SUBSCRIBE(\"showSVGFilterPopup\")](data) {\n    data.filters = data.filters.map( it => {\n      return SVGFilter.parse(it);\n    })\n\n    data.preview = isNotUndefined(data.preview) ? data.preview : true; \n\n    this.setState(data);\n\n    this.show(1000);\n  }\n\n  [SUBSCRIBE(\"hideSVGFilterPopup\")]() {\n    this.$el.hide();\n  }\n}","import { LOAD, CHANGE, BIND, DEBOUNCE, CLICK, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './SVGFilterSelectEditor.scss';\n\nexport default class SVGFilterSelectEditor extends EditorElement {\n\n    initState() {\n        var value = this.props.value;\n\n        return {\n            options: [],\n            label: this.props.label || '',\n            value\n        }\n    }\n\n    template() {\n        var { label } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='elf--svg-filter-select-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }\n                <select ref='$options'></select>\n                <button type='button' class='open thin' ref='$open' title='Open SVG Filter Editor'>${icon.fullscreen}</button>\n                <button type='button' class='remove thin' ref='$remove' title='Remove'>${icon.remove}</button>\n            </div>\n        `\n    }\n\n\n    [CLICK('$remove')] (e) {\n        this.updateData({\n            value: ''\n        })\n    }\n\n    [CLICK('$open')] (e) {\n        var value = this.state.value;\n\n        if (value.includes('id')) {\n            var currentProject = this.$selection.currentProject\n            var index = currentProject.getSVGFilterIndex(value)\n\n            if (index > -1) {\n                this.trigger('openSVGFilterPopup', index);\n            }\n        }\n    }\n\n    getValue () {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.setState({ value })\n    }\n\n    refresh(reload = false) {\n        this.load();\n    }\n\n    [BIND('$options')] () {\n        return {\n            'data-count': this.state.options.length.toString()\n        }\n    }\n\n    [LOAD('$options')] () {\n\n\n\n        var current = this.$selection.currentProject;\n        var options = '' \n        \n        if (current) {\n          options = current.svgfilters.map(it => it.id)\n          options = options.length ? ',' + options.join(',') : '';\n        }\n\n        options += ',-,new';\n\n        options = options.split(',');\n\n        var arr = options.map(it => {\n\n\n            var value = it; \n            var label = it; \n\n            if (value.includes(\":\")) {\n                var [value, label] = value.split(':')\n            }\n\n            if (label === '') {\n                label = this.props['none-value'] ? this.props['none-value'] : ''\n            } else if (label === '-') {\n                label = '----------'\n                value = ''; \n            }\n            var selected = value === this.state.value ? 'selected' : '' \n            return `<option ${selected} value=\"${value}\">${label}</option>`\n        })\n\n        return arr; \n    }\n\n    setOptions (options = '') {\n        this.setState({ \n            options: options.split(this.state.splitChar).map(it => it.trim()) \n        })\n    }\n\n    sendMessage (type) {\n        if (type === 'new') {\n            this.emit('addStatusBarMessage', this.$i18n('svgfilter.select.editor.message.create'));\n        } else if (type === '-') {\n            this.emit('addStatusBarMessage', this.$i18n('svgfilter.select.editor.message.select'));\n        } else {\n            this.emit('addStatusBarMessage', '');\n        }\n    }\n\n    [CHANGE('$options')] () {\n\n        var value = this.refs.$options.value \n\n        if (value == 'new') {\n\n            this.emit('addSVGFilterAssetItem', (index, id) => {\n                this.updateData({ value: id })\n        \n                this.refresh();\n        \n                this.trigger('openSVGFilterPopup', index);\n        \n              })\n        } else if (value === '-') {\n            \n        } else {\n            this.updateData({ value })\n        }\n \n    }\n\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n    [SUBSCRIBE('refreshSVGArea') + DEBOUNCE(1000)] () {\n        this.load('$options')\n    }\n\n\n    [SUBSCRIBE('openSVGFilterPopup')](index) {\n        this.emit('refreshSVGFilterAssets');\n        this.emit('refreshSVGArea');\n        var currentProject = this.$selection.currentProject || { svgfilters: [] } \n    \n        var svgfilter = currentProject.svgfilters[index];\n    \n        this.emit(\"showSVGFilterPopup\", {\n            changeEvent: 'changeSVGFilterEditorRealUpdate',\n            preview: false,\n            index,\n            filters: svgfilter.filters \n        });\n    }\n    \n    \n    [SUBSCRIBE('changeSVGFilterEditorRealUpdate')] (params) {\n        var project = this.$selection.currentProject\n    \n        if (project) {\n            project.setSVGFilterValue(params.index, {\n                filters: params.filters\n            });\n        \n            this.emit('refreshSVGFilterAssets');\n            this.emit('refreshSVGArea');\n        }\n    }    \n}","import { Length } from \"el/editor/unit/Length\";\nimport { IF, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class SVGItemProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('svg.item.property.title');\n  }\n\n  getClassName() {\n    return \"item\"\n  }\n\n  get editableProperty() {\n    return 'svg-item';\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n\n    var current = this.$selection.current;\n\n    if (current) {\n\n      this.children.$fill.setValue(current['fill'] || 'rgba(0, 0, 0, 0)')\n      this.children.$stroke.setValue(current['stroke'] || 'rgba(0, 0, 0, 1)')\n      this.children.$fillOpacity.setValue(current['fill-opacity'] || Length.number(1))\n      this.children.$strokeWidth.setValue(current['stroke-width'] || Length.number(0))\n      this.children.$fillRule.setValue(current['fill-rule'])\n      this.children.$strokeDashOffset.setValue(current['stroke-dashoffset'] || 0)\n      this.children.$strokeDashArray.setValue(current['stroke-dasharray'] || ' ')\n      this.children.$strokeLineCap.setValue(current['stroke-linecap'] || 'butt')\n      this.children.$strokeLineJoin.setValue(current['stroke-linejoin'] || 'miter')\n      this.children.$mixBlend.setValue(current['mix-blend-mode'])      \n    }\n\n  }\n\n  refresh() {\n    // update 를 어떻게 할지 고민 \n  }\n\n  getBody() {\n    var current = this.$selection.current || {};\n\n    return /*html*/`\n      <div ref='$svgProperty'>\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill'></span>\n          </div>\n          <object refClass=\"FillSingleEditor\" ref='$fill' label='${this.$i18n('svg.item.property.fill')}' key='fill' onchange=\"changeValue\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill-opacity'></span>\n          </div>            \n          <object refClass=\"NumberRangeEditor\"  \n            ref='$fillOpacity' \n            label='${this.$i18n('svg.item.property.fillOpacity')}' \n            key='fill-opacity' \n            value=\"1\" \n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            onchange=\"changeValue\" \n            />\n        </div>   \n\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill-rule'></span>\n          </div>\n          <object refClass=\"SelectIconEditor\" \n            ref='$fillRule' \n            label='${this.$i18n('svg.item.property.fillRule')}' \n            key=\"fill-rule\" \n            options=${variable([\"nonzero\",\"evenodd\" ])}\n            onchange=\"changeValue\" />\n        </div>            \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke'></span>\n          </div>\n          <object refClass=\"FillSingleEditor\" ref='$stroke' label='${this.$i18n('svg.item.property.stroke')}' key='stroke' onchange=\"changeValue\" />\n        </div>      \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-width'></span>\n          </div>\n          <object refClass=\"RangeEditor\"  \n            ref='$strokeWidth' \n            label='${this.$i18n('svg.item.property.strokeWidth')}' \n            key=\"stroke-width\" \n            onchange=\"changeValue\" />\n        </div>\n        <!--<div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-dasharray'></span>      \n          </div>          \n          <label>${this.$i18n('svg.item.property.dashArray')}</label>\n        </div>-->\n        <div class='property-item'>\n          <object refClass=\"StrokeDashArrayEditor\" label=\"${this.$i18n('svg.item.property.dashArray')}\" ref='$strokeDashArray' key='stroke-dasharray' onchange=\"changeValue\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-dashoffset'></span>      \n          </div>          \n          <object refClass=\"NumberRangeEditor\"  \n            ref='$strokeDashOffset' \n            key='stroke-dashoffset' \n            label='${this.$i18n('svg.item.property.dashOffset')}'\n            value=\"0\" \n            min=\"-1000\"\n            max=\"1000\"\n            step=\"1\"\n            onchange=\"changeValue\" \n            />\n        </div>         \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-linecap'></span>      \n          </div>          \n          <object refClass=\"SelectIconEditor\" \n            ref='$strokeLineCap' \n            label='${this.$i18n('svg.item.property.lineCap')}' \n            key=\"stroke-linecap\" \n            options=${variable([\"butt\",\"round\",\"square\"])} \n            onchange=\"changeValue\" \n          />\n        </div> \n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-linejoin'></span>      \n          </div>          \n          <object refClass=\"SelectIconEditor\" \n            ref='$strokeLineJoin' \n            label='${this.$i18n('svg.item.property.lineJoin')}'             \n            key=\"stroke-linejoin\" \n            options=${variable([\"miter\",\"bevel\",\"round\"])} \n            onchange=\"changeValue\" \n          />\n        </div>       \n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='mix-blend-mode'></span>\n          </div>\n          <object refClass=\"BlendSelectEditor\" \n            label='${this.$i18n('background.color.property.blend')}'\n            ref='$mixBlend' \n            removable='true'\n            key='mix-blend-mode' \n            icon=\"true\" \n            tabIndex=\"1\"\n            onchange=\"changeSelect\" />\n        </div>                 \n        <!--div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='svgfilter'></span>      \n          </div>\n          <object refClass=\"SVGFilterSelectEditor\" \n            ref='$svgFilter' \n            label='${this.$i18n('svg.item.property.filter')}' \n            key=\"svgfilter\" \n            onchange=\"changeValue\" \n          />\n        </div-->         \n      </div>\n   \n    `;\n  }\n\n  [SUBSCRIBE_SELF('changeValue')] (key, value, params) {\n    this.command('setAttributeForMulti', `change svg item property : ${key}`, this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n    this.command(\"setAttributeForMulti\", `change attribute : ${key}`, this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n}","import { SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class SVGTextProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('svg.text.property.title');\n  }\n\n  [SUBSCRIBE('refreshSelection')]() {\n    this.refreshShow(['svg-textpath', 'svg-text', 'svg-tspan']);\n  }\n\n  refresh() {\n    var current = this.$selection.current;\n    if (current) {\n\n      this.setAllValue([\n        'lengthAdjust',\n        'textLength',\n        'startOffset',\n        'text-anchor',\n        'text'\n      ])   \n    }\n\n  }\n\n  setAllValue(list = []) {\n    var current = this.$selection.current;\n    if (!current) return; \n\n    list.forEach(key => {\n      this.children[`$${key}`].setValue(current[key])          \n    })\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text'></span>\n        </div>\n        <object refClass=\"TextAreaEditor\" \n          ref='$text' \n          label='${this.$i18n('svg.text.property.textarea')}' \n          key=\"text\"\n          onchange=\"changeTextValue\" />\n      </div>        \n      <div class='property-item'>\n        <object refClass=\"SelectIconEditor\" \n          ref='$text-anchor' \n          label='${this.$i18n('svg.text.property.anchor')}' \n          key=\"text-anchor\" \n          options=${variable([\"start\",\"middle\",\"end\"])} \n          onchange=\"changeTextValue\" />\n      </div>            \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='lengthAdjust'></span>\n        </div>\n        <object refClass=\"SelectEditor\"  \n          ref='$lengthAdjust' \n          label='${this.$i18n('svg.text.property.length.adjust')}' \n          key='lengthAdjust' \n          value='spacing' \n          options=${variable([\"spacing\",\"spacingAndGlyphs\"])} \n          onchange='changeTextValue' />        \n      </div>        \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='textLength'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  \n          ref='$textLength' \n          label='${this.$i18n('svg.text.property.text.length')}' \n          key='textLength'\n          min=\"0\"\n          max='1000'\n          step=\"0.1\"\n          onchange='changeTextValue' />                \n      </div>        \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='startOffset'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  \n          ref='$startOffset' \n          label='${this.$i18n('svg.text.property.start.offset')}' \n          key='startOffset' \n          min=\"0\"\n          max='1000'\n          step=\"0.1\"          \n          onchange='changeTextValue' />        \n      </div>                    \n    `\n  }\n\n  [SUBSCRIBE_SELF('changeTextValue')] (key, value) {\n\n    this.command('setAttributeForMulti', `change svg text property: ${key}`, this.$selection.packByValue({ \n      [key]: value\n    }))\n  }\n\n}","import { SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from 'el/sapa/functions/registElement';\n\n\nconst textTransformOptions = \"none,uppercase:AG,lowercase:ag,capitalize:Ag\".split(',').map(it => {\n  const [value, text] = it.split(':');\n\n  return {\n    value, text\n  }\n});\n\n\nconst textDecorationOptions = \"none,underline,overline:O,line-through\".split(',').map(it => {\n  const [value, text] = it.split(':');\n\n  return {\n    value, text\n  }\n});\n\n\n\nexport default class TextProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('text.property.title');\n  }\n\n  get editableProperty() {\n    return \"text-style\"\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n\n  refresh() {\n   // TODO: 데이타 로드를 어떻게 해야할까? \n    var current = this.$selection.current;\n    if (current) {\n      this.children.$align.setValue(current['text-align']);\n      this.children.$transform.setValue(current['text-transform']);\n      this.children.$decoration.setValue(current['text-decoration']);            \n    }\n\n  }\n\n  getBody() {\n\n    return /*html*/`\n      <div class=\"property-item\">\n        <object refClass=\"SelectIconEditor\" \n          ref='$align' \n          label='${this.$i18n('text.property.align')}' \n          key='text-align' \n          value='left' \n          options=${variable([\"left\",\"center\",\"right\",\"justify\"])} \n          icons=\"align_left,align_center,align_right,align_justify\" \n          onchange='changeTextValue' />        \n      </div>        \n      <div class=\"property-item\">\n        <object refClass=\"SelectIconEditor\" \n          ref='$transform' \n          label='${this.$i18n('text.property.transform')}' \n          key='text-transform' \n          options=${variable(textTransformOptions)}\n          icons=\"horizontal_rule\"\n          onchange='changeTextValue' />                \n      </div>        \n      <div class=\"property-item\">\n        <object refClass=\"SelectIconEditor\" \n          ref='$decoration' \n          label='${this.$i18n('text.property.decoration')}' \n          key='text-decoration' \n          options=${variable(textDecorationOptions)}\n          icons=\"horizontal_rule,underline,O,strikethrough\"\n          onchange='changeTextValue' />        \n      </div>                    \n    `\n  }\n\n  [SUBSCRIBE_SELF('changeTextValue')] (key, value) {\n    this.command('setAttributeForMulti', `change text property : ${key}`, this.$selection.packByValue({ [key]: value }));        \n  }\n\n}","import { LOAD, DEBOUNCE, SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from 'el/sapa/functions/registElement';\n\nexport default class TextClipProperty extends BaseProperty {\n  \n  getTitle() {\n    return this.$i18n('text.clip.property.title');\n  }\n\n  isFirstShow() {\n    return false; \n  }\n\n  getClassName() {\n    return 'item'\n  }\n\n  getTools() {\n    return `<div ref='$textClip'></div>`;\n  }  \n\n  [LOAD(\"$textClip\")]() {\n    var current = this.$selection.current || {};\n\n    var clip = current['text-clip'] || ''\n    return /*html*/`\n      <object refClass=\"SelectEditor\"  ref='$1' key='text-clip' icon=\"true\" value=\"${clip}\" options=${variable(['', 'text'])} onchange=\"changeSelect\" />\n    `;\n  }\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n    this.emit('setAttributeForMulti', this.$selection.packByValue({ [key]: value }));        \n  }\n\n  get editableProperty() {\n    return \"text-clip\"\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n}","import { SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nexport default class TextFillProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('text.fill.property.title');\n  }\n\n  get editableProperty() {\n    return \"text-fill\"\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }\n\n\n  refresh() {\n    // update 를 어떻게 할지 고민 \n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$fillColor.setValue(current['text-fill-color'] || 'rgba(0, 0, 0, 1)')      \n      this.children.$strokeColor.setValue(current['text-stroke-color'] || 'rgba(0, 0, 0, 1)')      \n      this.children.$width.setValue(current['text-stroke-width'] || '0px')      \n    }\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-fill-color'></span>\n        </div>\n        <object refClass=\"ColorViewEditor\" ref='$fillColor' label='${this.$i18n('text.fill.property.fill')}' key='text-fill-color' onchange=\"changeColor\" />\n      </div>           \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-stroke-color'></span>\n        </div>\n        <object refClass=\"ColorViewEditor\" ref='$strokeColor' label='${this.$i18n('text.fill.property.stroke')}' key='text-stroke-color' onchange=\"changeColor\" />\n      </div>                 \n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-stroke-width'></span>\n        </div>\n        <object refClass=\"RangeEditor\"  \n          ref='$width' \n          label='${this.$i18n('text.fill.property.strokeWidth')}' \n          key=\"text-stroke-width\" \n          \n          max=\"50\"\n          onchange=\"changeRangeEditor\" />\n      </div>\n    \n    `;\n  }\n\n  [SUBSCRIBE_SELF('changeColor')] (key, color, params) {\n    this.trigger('changeRangeEditor', key, color);\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    this.command('setAttributeForMulti', 'change text fill', this.$selection.packByValue({ [key]: value }))\n  }\n}","import { CLICK, LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon from \"el/editor/icon/icon\";\nimport { TextShadow } from \"el/editor/property-parser/TextShadow\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './TextShadowEditor.scss';\n\nexport default class TextShadowEditor extends EditorElement {\n\n  initState() {\n\n    return {\n      hideLabel: this.props['hide-label'] === 'true' ? true : false, \n      selectedIndex: -1,\n      textShadows: this.props.value\n    }\n  }\n\n  template() {\n\n    var labelClass = this.state.hideLabel ? 'hide' : ''; \n\n    return /*html*/`\n      <div class=\"elf--text-shadow-editor\" >\n        <div class='label ${labelClass}' >\n            <label>${this.props.title||''}</label>        \n            <div class='tools'>\n              <button type=\"button\" ref=\"$add\" title=\"add Text Shadow\">${icon.add}</button>\n            </div>\n        </div>\n        <div class='text-shadow-list' ref='$shadowList'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$shadowList\")]() {\n  \n    var arr = this.state.textShadows.map((shadow, index) => {\n      return /*html*/`\n        <div class=\"shadow-item real\" data-index=\"${index}\">\n          <div class=\"color\">\n            <div class='color-view' style=\"background-color: ${shadow.color}\">\n            </div>\n          </div>\n          <div class=\"offset-x\">${shadow.offsetX}</div>\n          <div class=\"offset-y\">${shadow.offsetY}</div>\n          <div class=\"blur-radius\">${shadow.blurRadius}</div>\n          <div class=\"tools\">\n            <button type=\"button\" class=\"remove\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n      `;\n    });\n\n    if (arr.length) {\n      arr.push(/*html*/`\n      <div class=\"shadow-item desc\">\n            <div class=\"color\"></div>\n            <div class=\"offset-x\">X</div>\n            <div class=\"offset-y\">Y</div>\n            <div class=\"blur-radius\">Blur</div>\n            <div class=\"tools\">\n            </div>\n          </div>\n      `);\n    }\n\n\n    return arr.join('');\n  }\n\n  modifyTextShadow () {\n    var value = this.state.textShadows.join(', ');\n\n    this.parent.trigger(this.props.onchange, value)\n  }\n\n\n  [SUBSCRIBE('add')] () {\n    this.state.textShadows.push(new TextShadow())\n\n    this.refresh();\n\n    this.modifyTextShadow()\n  }\n\n  [CLICK(\"$add\")]() {\n    this.trigger('add');\n  }\n\n  [CLICK(\"$shadowList .remove\")](e) {\n    var index = +e.$dt.attr(\"data-index\");\n\n    this.state.textShadows.splice(index, 1);\n\n    this.refresh();\n\n    this.modifyTextShadow()\n  }\n\n  [CLICK(\"$shadowList .shadow-item.real > div:not(.tools)\")](e) {\n    var index = +e.$dt.closest('shadow-item').attr(\"data-index\");\n\n    var shadow = this.state.textShadows[index]\n\n   this.viewShadowPopup(shadow, index)\n  }\n\n  viewShadowPopup(shadow, index) {\n    this.setState({\n      selectedIndex: index\n    }, false)\n\n    this.viewTextShadowPropertyPopup(shadow);\n  }\n\n  viewTextShadowPropertyPopup(shadow) {\n    this.emit(\"showTextShadowPropertyPopup\", {\n      changeEvent: 'changeTextShadowEditorPopup',\n      color: shadow.color,\n      offsetX: shadow.offsetX,\n      offsetY: shadow.offsetY,\n      blurRadius: shadow.blurRadius\n    }, {\n      id: this.id\n    });\n    \n  }\n\n  [SUBSCRIBE(\"changeTextShadowEditorPopup\")](data, params) {\n    if (params.id === this.id) {\n      var shadow = this.state.textShadows[this.state.selectedIndex]\n\n      shadow.reset(data)\n  \n      this.refresh();\n  \n      this.modifyTextShadow();\n    }\n\n  }\n}","import { LOAD, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, IF } from \"el/sapa/Event\";\n\nimport icon from \"el/editor/icon/icon\";\nimport { TextShadow } from \"el/editor/property-parser/TextShadow\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport { variable } from 'el/sapa/functions/registElement';\n\n\nexport default class TextShadowProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('text.shadow.property.title')\n  }\n\n  getBody() {\n    return `\n      <div class=\"full text-shadow-item\" ref=\"$shadowList\"></div>\n    `;\n  }\n\n  hasKeyframe() {\n    return true\n  }\n\n  getKeyframeProperty () {\n    return 'text-shadow'\n  }\n\n  getTools() {\n    return `<button type=\"button\" ref='$add'>${icon.add}</button>`\n  }\n\n  [CLICK('$add')] () {\n    this.children.$textshadow.trigger('add');\n  }  \n  \n  [LOAD(\"$shadowList\")]() {\n    var current = this.$selection.current || {};\n    return /*html*/`\n      <object refClass=\"TextShadowEditor\" \n        ref='$textshadow' \n        value=\"${variable(TextShadow.parseStyle(current['text-shadow']))}\" \n        hide-label=\"true\" \n        onChange=${this.subscribe((textshadow) => {\n          this.command('setAttributeForMulti', 'change text shadow', this.$selection.packByValue({ \n            'text-shadow': textshadow\n          }))\n        })}\n      />\n    `\n  }\n\n  get editableProperty() {\n    return 'text-shadow';\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')]() {\n    this.refresh();\n  }  \n}","\nimport { Length } from \"el/editor/unit/Length\";\nimport { LOAD, POINTERSTART, SUBSCRIBE } from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\nimport { MOVE } from \"el/editor/types/event\";\nimport './TextShadowPropertyPopup.scss';\n\nexport default class TextShadowPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return 'Text Shadow Editor'\n  }\n\n  initState() {\n    return {\n      color: 'rgba(0, 0, 0, 1)',  \n      offsetX: Length.z(),\n      offsetY: Length.z(),\n      blurRadius: Length.z()\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.changeEvent, opt, this.params);\n  }\n\n  getBody() {\n    return /*html*/`<div class='elf--text-shadow-property-popup' ref='$popup'></div>`;\n  }\n\n  [LOAD(\"$popup\")]() {\n    return /*html*/`\n      <div class='box'>\n        <div class=\"drag-board\" ref=\"$dragBoard\">\n          <div\n            class=\"pointer\"\n            ref=\"$pointer\"\n            style=\"left: ${this.state.offsetX};top: ${this.state.offsetY}\"\n          ></div>\n        </div>\n        <div class='popup-item'>\n          <object refClass=\"RangeEditor\"  ref='$offsetX' label='Offset X' key='offsetX' min=\"-100\" max='100' value='${this.state.offsetX}' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <object refClass=\"RangeEditor\"  ref='$offsetY' label=\"Offset Y\" key='offsetY' min=\"-100\" max='100' value='${this.state.offsetY}' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <object refClass=\"RangeEditor\"  ref='$blurRadius' label=\"Blur Radius\" key='blurRadius' value='${this.state.blurRadius}' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <object refClass=\"ColorViewEditor\" \n              ref='$foreColor' \n              label=\"color\" \n              key='color' \n              value=\"${this.state.color}\"\n              onchange=\"changeShadow\" />\n        </div>        \n      </div>\n    `;\n  }\n\n  [SUBSCRIBE('changeShadow')] (key, value) {\n    this.updateData({\n      [key]: value\n    });\n\n    if (key === 'offsetX' || key === 'offsetY') {\n      this.refreshPointer();\n    }\n\n  }\n\n  [POINTERSTART(\"$popup .drag-board\") + MOVE(\"movePointer\")](e) {\n    this.offsetX = e.offsetX;\n    this.offsetY = e.offsetY;\n\n    var rect = this.getRef(\"$dragBoard\").rect();\n    this.boardWidth = rect.width;\n    this.boardHeight = rect.height;\n  }\n\n  refreshPointer() {\n    this.getRef(\"$pointer\").css({\n      left: this.state.offsetX,\n      top: this.state.offsetY\n    });\n  }\n\n  movePointer(dx, dy) {\n    var realX = this.offsetX + dx;\n    var realY = this.offsetY + dy;\n\n    var halfWidth = this.boardWidth / 2;\n    var halfHeight = this.boardHeight / 2;\n\n    var x = realX - halfWidth;\n    var y = realY - halfHeight;\n\n    if (x < -halfWidth) {\n      x = -halfWidth;\n    } else if (x > halfWidth) {\n      x = halfWidth;\n    }\n\n    if (y < -halfHeight) {\n      y = -halfHeight;\n    } else if (y > halfHeight) {\n      y = halfHeight;\n    }\n\n    x = Math.floor(x);\n    y = Math.floor(y);\n\n    this.updateData({\n      offsetX: Length.px(x),\n      offsetY: Length.px(y)\n    });\n\n    this.children.$offsetX.setValue(this.state.offsetX);\n    this.children.$offsetY.setValue(this.state.offsetY);\n\n    this.refreshPointer();\n  }\n\n  [SUBSCRIBE(\"showTextShadowPropertyPopup\")](data, params) {\n\n    this.changeEvent = data.changeEvent || \"changeTextShadowPropertyPopup\"\n    this.params = params;\n\n    this.setState(data, false);\n    this.refresh();\n\n    this.show(432);\n  }\n\n  [SUBSCRIBE(\"hideTextShadowPropertyPopup\")]() {\n    this.hide()\n  }\n}","\nimport { POINTERSTART, DOUBLECLICK, BIND, CLICK, SUBSCRIBE, IF } from \"el/sapa/Event\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { Transform } from \"el/editor/property-parser/Transform\";\nimport { calculateAnglePointDistance } from \"el/utils/math\";\nimport icon from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { END, MOVE } from \"el/editor/types/event\";\n\nimport './RotateEditorView.scss';\n\nconst directions = [\n    'top-left',\n    'top',\n    'top-right',\n    'left',\n    'right',\n    'bottom-left',\n    'bottom',\n    'bottom-right'\n]\n\n\nconst DEFINED_ANGLES = {\n    \"top\": \"0\",\n    \"top-right\": \"45\",\n    \"right\": \"90\",\n    \"bottom-right\": \"135\",\n    \"bottom\": \"180\",\n    \"bottom-left\": \"225\",\n    \"left\": \"270\",\n    \"top-left\": \"315\"\n  };\n\nexport default class RotateEditorView extends EditorElement {\n\n    initialize() {\n        super.initialize();\n\n        this.notEventRedefine = true;\n    }\n\n    template() {\n        return /*html*/`\n            <div class='elf--rotate-editor-view'>            \n                <div class='rotate-area' ref='$rotateArea'>\n                    <div class='rotate-container' ref='$rotateContainer'>\n                        <div class='rotate-item rotate-x'></div>\n                        <div class='rotate-item rotate-y'></div>\n                    </div>\n                </div>\n                <div class='direction-area' ref='$directionArea'>\n                    ${directions.map(it => {\n                        return /*html*/`<div class='direction' data-value='${it}'></div>`\n                    }).join('')}\n                </div>                \n                <div class='rotate-z' ref='$rotateZ'>\n                    <div class='handle-line'></div>                \n                    <div class='handle icon' ref='$handle'>${icon.gps_fixed}</div>\n                </div>                \n            </div>\n        `\n    }\n\n    [CLICK('$directionArea .direction')] (e) {\n        var direction = e.$dt.attr('data-value');\n        var value = Length.deg(DEFINED_ANGLES[direction] || 0)\n        this.$selection.each(item => {\n            const transform = Transform.replace(item.transform, {  type: 'rotateZ', value: [value]})\n            item.reset({ transform})\n        })\n                 \n        this.bindData('$rotateZ')\n        this.command('setAttributeForMulti', 'change direction', this.$selection.pack('transform'));\n        this.emit('refreshSelectionTool', false);\n\n    }\n\n    [BIND('$rotateContainer')] () {\n\n        var current = this.$selection.current || {transform: ''};\n\n        var transform = Transform.filter(current.transform || '', it => {\n            return it.type === 'rotateX' || it.type === 'rotateY'; \n        });\n\n        return {\n            style: {\n                transform\n            }\n        }\n    }\n\n    [BIND('$rotateZ')] () {\n\n        var current = this.$selection.current || {transform: ''};\n\n        var transform = Transform.filter(current.transform || '', it => {\n            return it.type === 'rotate' || it.type === 'rotateZ'; \n        });\n\n\n        return {\n            style: {\n                transform\n            }\n        }\n    }\n\n    [DOUBLECLICK('$rotateArea')] () {        \n        this.$selection.reset(this.$selection.packByValue({\n            transform: (item) => {\n                return Transform.remove(item.transform, ['rotateX', 'rotateY'])\n            }\n        }));\n        // this.$selection.reselect();\n        this.command('setAttributeForMulti', 'change direction', this.$selection.pack('transform'));\n        this.emit('refreshSelectionTool');       \n        this.bindData('$rotateContainer');   \n    }\n\n    [POINTERSTART('$rotateArea') + MOVE('moveRotateXY') + END('moveEndRotateXY')] () {\n        this.state.rotateCache = this.$selection.map(item => {\n\n            const rotateX = Transform.get(item['transform'], 'rotateX')\n            const rotateY = Transform.get(item['transform'], 'rotateY')\n\n            return {\n                item,\n                rotateX: rotateX ? rotateX[0] : Length.deg(0),\n                rotateY: rotateY ? rotateY[0] : Length.deg(0),\n            }\n        })\n    }\n\n    moveRotateXY (dx, dy) {\n        var rx = Length.deg(-dy)\n        var ry = Length.deg(dx)\n\n        // todo: selection 말고 실제 값이 바뀔 수 있도록 구조화 해야함 \n        this.state.rotateCache.forEach(cache => {\n\n            let transform = cache.item.transform\n            transform = Transform.rotateX(transform, Length.deg(cache.rotateX.value + rx.value)) \n            transform = Transform.rotateY(transform, Length.deg(cache.rotateY.value + ry.value)) \n\n            cache.item.reset({\n                transform\n            });\n        })\n\n        this.bindData('$rotateContainer');\n\n        this.command('setAttributeForMulti', 'change rotate', this.$selection.pack('transform'));\n        this.emit('refreshSelectionTool');        \n\n    }\n\n    moveEndRotateXY (dx, dy) {    \n        this.command('setAttributeForMulti', 'change rotate', this.$selection.pack('transform'));              \n        this.emit('refreshSelectionTool');        \n    }\n\n    [DOUBLECLICK('$handle')] () {\n        this.$selection.reset(this.$selection.packByValue({\n            transform: (item) => {\n                return Transform.remove(item.transform, ['rotateZ', 'rotate'])\n            }\n        }));\n        // this.$selection.reselect();\n        this.bindData('$rotateZ');                   \n        this.command('setAttributeForMulti', 'change rotate handle', this.$selection.pack('transform'));    \n        this.emit('refreshSelectionTool');       \n    }\n\n    [POINTERSTART('$handle') + MOVE() + END()] () {\n        var pointerRect = this.refs.$handle.rect();\n        var targetRect = this.refs.$rotateZ.rect();\n        this.rotateZCenter = {\n            x: targetRect.x + targetRect.width/2, \n            y: targetRect.y + targetRect.height/2\n        }\n        this.rotateZStart = {\n            x: pointerRect.x + pointerRect.width/2, \n            y: pointerRect.y + pointerRect.height/2 \n        }        \n        this.state.rotateCache = this.$selection.map(item => {\n            const rotateZ = Transform.get(item['transform'], 'rotateZ')\n            return {\n                item,\n                rotateZ: rotateZ ? rotateZ[0] : Length.deg(0),\n            }\n        })\n    }\n\n    move (dx, dy) {\n        this.modifyRotateZ(dx, dy);\n\n        this.bindData('$rotateZ');        \n        this.command('setAttributeForMulti', 'change rotate handle', this.$selection.pack('transform'));\n        this.emit('refreshSelectionTool');        \n    }\n\n    end () {\n        this.command('setAttributeForMulti', 'change rotate handle', this.$selection.pack('transform'));\n        this.emit('refreshSelectionTool');\n    }\n\n\n    modifyRotateZ(dx, dy) {\n        var e = this.$config.get('bodyEvent');\n        var distAngle = Length.deg(Math.floor(calculateAnglePointDistance(\n            this.rotateZStart,\n            this.rotateZCenter,\n            {dx, dy}\n        )));\n\n        this.state.rotateCache.forEach(cache => {\n\n            let transform = cache.item.transform\n            transform = Transform.rotateZ(transform, Length.deg(cache.rotateZ.value + distAngle.value)) \n\n            cache.item.transform = transform;\n        })\n\n    }\n\n    [SUBSCRIBE('refreshSelection')] () {\n        this.refresh();\n    }\n\n    checkShow() {\n        return this.$selection.isOne;\n    }\n\n    [SUBSCRIBE('refreshSelectionStyleView') + IF('checkShow')] () {\n        if (this.$selection.hasChangedField('transform')) {\n            this.refresh();\n        }\n    }\n}","import icon, { iconUse } from \"el/editor/icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  DRAGSTART,\n  DRAGOVER,\n  DROP,\n  PREVENT,\n  SUBSCRIBE,\n  SUBSCRIBE_SELF,\n  DOMDIFF\n} from \"el/sapa/Event\";\n\nimport { Transform } from \"el/editor/property-parser/Transform\";\nimport { Length } from \"el/editor/unit/Length\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './TransformEditor.scss';\nimport { isNotUndefined } from \"el/sapa/functions/func\";\n\nvar transformList = [\n  'perspective',  \n  'rotate',\n  'rotateX',\n  'rotateY',\n  'rotateZ',\n  'rotate3d',    \n  'skew',\n  'skewX',    \n  'skewY',   \n  'translate',\n  'translateX',  \n  'translateY',\n  'translateZ',\n  'translate3d',\n  'scale',\n  'scaleX',\n  'scaleY',\n  'scaleZ',\n  'scale3d',\n  'matrix',\n  'matrix3d',  \n];\n\nconst labels = {\n  'scale': [ 'X', 'Y'] ,\n  'skew': [ 'X', 'Y'] ,  \n  'translate' : ['X', 'Y'], \n  'translate3d': ['tx','ty', 'tz'],\n  'matrix': ['a','b','c','d','tx','ty'],\n  'matrix3d': [\n    'a1', 'b1', 'c1', 'd1', \n    'a2', 'b2', 'c2', 'd2', \n    'a3', 'b3', 'c3', 'd3', \n    'a4', 'b4', 'c4', 'd4'\n  ]\n}\n\nexport default class TransformEditor extends EditorElement {\n\n  initState() {\n    return {\n      hideLabel: this.props['hide-label'] === 'true' ? true: false, \n      transforms: Transform.parseStyle(this.props.value)\n    }\n  }\n\n  template() {\n    var labelClass = this.state.hideLabel ? 'hide' : '' \n    return /*html*/`\n      <div class='elf--transform-editor transform-list'>\n          <div class='label ${labelClass}' >\n              <label>Transform</label>\n              <div class='tools'>\n                <select ref=\"$transformSelect\">\n                  ${transformList.map(transform => {\n                    var label = this.$i18n('css.item.' + transform)\n                    return `<option value='${transform}'>${label}</option>`;\n                  }).join('')}\n                </select>\n                <button type=\"button\" ref=\"$add\" title=\"add Transform\">${icon.add}</button>\n              </div>\n          </div>\n          <div class='transform-list' ref='$transformList'></div>\n      </div>`;\n  }\n\n  getLabel(type, index) {\n    switch(type) {\n      case 'scale':\n      case 'translate':\n      case 'translate3d':        \n      case 'matrix':\n      case 'matrix3d': \n      case 'skew':\n        return labels[type][index];\n      }\n    return ''\n  }\n\n  isMultiValue (type) {\n    switch(type) {\n      case 'translate3d':        \n      case 'matrix':\n      case 'matrix3d': \n      case 'skew':\n        return true;\n      }\n    return false; \n  }\n\n  getRange(type) {\n\n    switch(type) {\n      case 'translateX': \n      case 'translateY': \n      case 'translateZ': \n      case 'translate':      \n      case 'translate3d':            \n        return { min: -100, max : 100, step: 1, units: 'px,%,em'}\n      case 'matrix':\n      case 'matrix3d':     \n        return { min: -100, max : 100, step: 0.01,units: 'number'}\n      case 'rotateX': \n      case 'rotateY': \n      case 'rotateZ': \n      case 'rotate':  \n      case 'skew':      \n      case 'skewY':\n      case 'skewX':            \n        return { min: -360, max : 360, step: 0.1, units: 'deg,turn,rad', editorType: 'RangeEditor'}\n      case 'perspective':\n          return { min: 0, max : 10000, step: 1, units: 'px,%,em'}\n      case 'scale': \n      case 'scaleX': \n      case 'scaleY': \n        return { min: 0, max : 10, step: 0.1,units: 'number'}           \n    }\n\n\n    return { min: 0, max : 100, step : 1,units: 'px,%,em' }\n  }\n\n  makeOneTransformTemplate(type, transform, index) {\n    return /*html*/`\n      <div class=\"transform-item\" data-index=\"${index}\">\n        <div class=\"title\" data-index=\"${index}\">\n          <label draggable=\"true\" >${this.$i18n('css.item.' + type)}</label>\n          <div class=\"transform-menu\">\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">\n              ${iconUse(\"remove2\")}\n            </button>\n          </div>\n        </div>\n        <div class=\"transform-ui ${type}\">\n        ${transform.value.map( (it, tindex) => {\n\n          var label = this.getLabel(type, tindex);\n          var {min, max, step, units} = this.getRange(type);\n\n          return /*html*/`\n            <div>\n              <object refClass=\"RangeEditor\"  \n                    ref='$range_${type}_${index}_${tindex}' \n                    min=\"${min}\" \n                    max=\"${max}\" \n                    step=\"${step}\" \n                    label=\"${label}\"\n                    key=\"${index}\" \n                    params='${tindex}' \n                    value=\"${it}\" \n                    units=\"${units}\" \n                    onchange=\"changeRangeEditor\" />\n            </div>`\n          }).join('')}      \n      </div>        \n\n      </div>\n    `;\n  }\n\n\n\n  makeMultiTransformTemplate(type, transform, index) {\n    return /*html*/`\n      <div class=\"transform-item\" data-index=\"${index}\">\n        <div class=\"title\" data-index=\"${index}\">\n          <label draggable=\"true\" >${this.$i18n('css.item.' + type)}</label>\n          <div></div>\n          <div class=\"transform-menu\">\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">\n              ${iconUse(\"remove2\")}\n            </button>\n          </div>\n        </div>\n        <div class=\"transform-ui ${type}\">\n\n          ${type === 'translate3d' ? `\n            <pre>\n  1 | 0 | 0 | tx\n  0 | 1 | 0 | ty\t\n  0 | 0 | 1 | tz\t\n  0 | 0 | 0 | 1</pre>\n          `: ''}\n\n          ${type === 'matrix' ? `\n            <pre>\n  a | c | tx\t\n  b | d | ty\t\n  0 | 0 | 1</pre>\n          `: ''}    \n          \n          ${type === 'matrix3d' ? `\n            <pre>\n  a1 | a2 | a3 | a4\t\n  b1 | b2 | b3 | b4\t\n  c1 | c2 | c3 | c4\t\n  d1 | d2 | d3 | d4</pre>\n          `: ''}     \n          \n          <div class='${type}'>\n          ${transform.value.map( (it, tindex) => {\n\n            var label = this.getLabel(type, tindex);\n            var {min, max, step, units, editorType = 'NumberInputEditor'} = this.getRange(type);\n\n            return /*html*/`\n              <div>\n                <object refClass=\"${editorType}\"  \n                      ref='$range_${type}_${index}_${tindex}' \n                      min=\"${min}\" \n                      max=\"${max}\" \n                      step=\"${step}\" \n                      label=\"${label}\"\n                      key=\"${index}\" \n                      params='${tindex}' \n                      value=\"${it}\" \n                      units=\"${units}\" \n                      onchange=\"changeRangeEditor\" />\n              </div>`\n          }).join('')}   \n          </div>       \n        </div>\n      </div>\n    `;\n  }\n\n  makeTransformTemplate(transform, index) {\n    if (this.isMultiValue(transform.type)) {\n\n      return this.makeMultiTransformTemplate(\n        transform.type,\n        transform,\n        index\n      );\n    } else {\n\n      return this.makeOneTransformTemplate(\n        transform.type,\n        transform,\n        index\n      );\n    }\n\n  }\n\n  [LOAD(\"$transformList\") + DOMDIFF]() {\n    return this.state.transforms.map((transform, index) => {\n      return this.makeTransformTemplate(transform, index.toString());\n    });\n  }\n\n  setValue(transform) {\n    this.setState({\n      transforms: Transform.parseStyle(transform)\n    });\n  }\n\n  [DRAGSTART(\"$transformList .transform-item .title label\")](e) {\n    this.startIndex = +e.$dt.parent().attr(\"data-index\");\n  }\n\n  [DRAGOVER(\"$transformList .transform-item\") + PREVENT](e) {}\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  sortTransform(startIndex, targetIndex) {\n      this.sortItem(this.state.transforms, startIndex, targetIndex);\n  }\n\n  [DROP(\"$transformList .transform-item\") + PREVENT](e) {\n    var targetIndex = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    this.sortTransform(this.startIndex, targetIndex);\n\n    this.refresh();\n\n    this.modifyTransform()\n  }\n\n  modifyTransform () {\n    var value = this.state.transforms.join(' ');\n\n    this.parent.trigger(this.props.onchange, value)\n  }\n\n  getDefaultValue (type) {\n\n    switch(type) {\n      case 'translateX': \n      case 'translateY': \n      case 'translateZ': \n        return [Length.z()]            \n      case 'rotateX': \n      case 'rotateY': \n      case 'rotateZ': \n      case 'rotate':  \n      case 'skewY':\n      case 'skewX':\n      case 'perspective':\n        return [Length.deg(0)]            \n      case 'translate': \n        return [Length.z(),Length.z()]\n      case 'translate3d': \n        return [Length.z(),Length.z(), Length.z()]        \n      case 'scale': \n        return [Length.number(1),Length.number(1)]\n      case 'skew': \n        return [Length.deg(0),Length.deg(0)]\n      case 'scaleX': \n      case 'scaleY': \n        return [Length.number(1)]\n      case 'matrix':\n        return [\n          Length.number(1),\n          Length.number(0),\n          Length.number(0),\n          Length.number(1),\n          Length.number(0),\n          Length.number(0)          \n        ]\n      case 'matrix3d':\n        return [\n          Length.number(1),\n          Length.number(0),\n          Length.number(0),\n          Length.number(0),\n\n          Length.number(0),\n          Length.number(1),\n          Length.number(0),\n          Length.number(0),\n\n          Length.number(0),\n          Length.number(0),\n          Length.number(1),\n          Length.number(0),\n          \n          Length.number(0),\n          Length.number(0),\n          Length.number(0), \n          Length.number(1)                   \n        ]        \n    }\n\n\n    return [Length.number(0)]\n  }\n\n  makeTransform(type, opt = {}) {\n\n    var value = this.getDefaultValue(type)\n\n    return Transform.parse({ ...opt, type, value });\n  }\n\n  [SUBSCRIBE_SELF('add')] (transformType) { \n    this.state.transforms.push(this.makeTransform(transformType))\n\n    this.refresh();\n\n    this.modifyTransform()\n  }\n\n  [CLICK(\"$add\")]() {\n    var transformType = this.refs.$transformSelect.value;\n\n    this.trigger('add', transformType)\n  }\n\n  [CLICK(\"$transformList .transform-menu .del\")](e) {\n    var index = +e.$dt.attr(\"data-index\");\n    this.state.transforms.splice(index, 1);\n\n    this.refresh();\n\n    this.modifyTransform()\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value, params) {\n    if (isNotUndefined(params)) {\n      this.state.transforms[+key].value[+params] = value; \n    } else {\n      this.state.transforms[+key].reset({ \n        value \n      });\n    }\n    \n\n    this.modifyTransform();\n  }\n}","\nimport {\n  LOAD, DEBOUNCE, CLICK, SUBSCRIBE, SUBSCRIBE_SELF, DOMDIFF, IF,\n} from \"el/sapa/Event\";\n\n\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nvar transformList = [\n\n  'rotate',\n  'rotateX',\n  'rotateY',\n  'rotateZ',\n  'rotate3d',    \n  'skew',      \n  'skewX',    \n  'skewY',   \n  'translate',\n  'translateX',  \n  'translateY',\n  'translateZ',\n  'translate3d',\n  'perspective',    \n  'scale',\n  'scaleX',\n  'scaleY',\n  'scaleZ',\n  'scale3d',\n  'matrix',\n  'matrix3d',  \n];\n\n\nexport default class TransformProperty extends BaseProperty {\n\n  isFirstShow() {\n    return true; \n  }\n\n  getTitle() {\n    return this.$i18n('transform.property.title')\n  }\n\n  getBody() {\n    return /*html*/`\n      <object refClass=\"RotateEditorView\" />\n      <div class='full transform-property' ref='$body'></div>\n    `;\n  }\n\n  hasKeyframe() {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'transform'\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$transformSelect\">\n      ${transformList.map(transform => {\n        var label = this.$i18n('css.item.' + transform)\n        return `<option value='${transform}'>${label}</option>`;\n      }).join('')}\n      </select>\n      <button type=\"button\" ref=\"$add\" title=\"add Filter\">${iconUse('add')}</button>\n    `\n  }\n  \n\n  [CLICK(\"$add\")]() {\n    var transformType = this.refs.$transformSelect.value;\n\n    this.children.$transformEditor.trigger('add', transformType)\n  }\n\n  [LOAD('$body') + DOMDIFF] () {\n    var current = this.$selection.current || {} \n    var value = current.transform;\n\n    return /*html*/`\n      <object refClass=\"TransformEditor\" ref='$transformEditor' value='${value}' hide-label=\"true\" onchange='changeTransformEditor' />\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeTransformEditor')] (transform) {\n    this.command('setAttributeForMulti', 'change transform property', this.$selection.packByValue({ \n      transform\n    }))\n\n    this.nextTick(() => {\n      this.emit('refreshSelectionTool', false);\n    })\n  }\n\n  refresh () {\n    this.children.$transformEditor.setValue(this.$selection.current.transform);\n  }\n\n  get editableProperty() {\n    return 'transform';\n  }\n\n  [SUBSCRIBE('refreshSelection') + IF('checkShow')] () {\n    this.refresh();\n  }\n\n  [SUBSCRIBE('refreshSelectionStyleView') + DEBOUNCE(100)] () {\n\n    const current = this.$selection.current\n\n    if (current) {\n\n      if (current.hasChangedField('transform')) {\n        this.refresh();\n      }\n\n    }\n\n  }\n\n}","import { CLICK, LOAD, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Length } from \"el/editor/unit/Length\";\n\nimport './TransformOriginEditor.scss';\n\nconst typeList = [\n  { key: \"transform-origin-x\", title: \"X\" },\n  { key: \"transform-origin-y\", title: \"Y\" },\n  { key: \"transform-origin-z\", title: \"Z\" },\n];\n\nconst keyList = typeList.map(it => it.key);\n\nconst origin = {\n  top: '50% 0%',\n  'top left': '0% 0%',\n  'top right': '100% 0%',\n  left: '0% 50%',\n  center: '50% 50%',\n  right: '100% 50%',\n  bottom: '50% 100%',\n  'bottom left': '0% 100%',\n  'bottom right': '100% 100%'\n}\n\nexport default class TransformOriginEditor extends EditorElement {\n  initState() {\n\n    var arr = this.props.value.split(' ');\n\n    var obj = {\n      isAll: false,\n      'transform-origin': Length.percent(50),\n      'transform-origin-x': Length.percent(50),\n      'transform-origin-y': Length.percent(50)\n    }\n\n    if (this.props.value) {\n\n      if (arr.length === 1) {\n        obj['isAll'] = true;\n        obj['transform-origin'] = Length.parse(arr[0]);\n        obj['transform-origin-x'] = Length.parse(arr[0]);\n        obj['transform-origin-y'] = Length.parse(arr[0]);\n      } else if (arr.length == 2) {\n        obj['isAll'] = false;\n        obj['transform-origin-x'] = Length.parse(arr[0]);\n        obj['transform-origin-y'] = Length.parse(arr[1]);\n      }\n    }\n\n\n    return obj\n  }\n\n  template() {\n    return /*html*/`\n      <div class='elf--transform-origin-editor'>\n        <div class='direction' ref='$direction'>\n          <div class='pos' data-value='top left'></div>        \n          <div class='pos' data-value='top'></div>\n          <div class='pos' data-value='top right'></div>\n          <div class='pos' data-value='left'></div>\n          <div class='pos' data-value='center'></div>\n          <div class='pos' data-value='right'></div>\n          <div class='pos' data-value='bottom left'></div>                   \n          <div class='pos' data-value='bottom'></div>\n          <div class='pos' data-value='bottom right'></div>\n        </div>\n        <div ref='$body'></div>\n      </div>\n    `\n  }\n\n  [CLICK('$direction .pos')](e) {\n    var direct = e.$dt.attr('data-value');\n\n\n    this.state.isAll = false;\n    var [x, y] = origin[direct].split(' ')\n    this.state['transform-origin-x'] = Length.parse(x);\n    this.state['transform-origin-y'] = Length.parse(y);\n    this.refresh();\n    this.modifyTransformOrigin();\n  }\n\n  [SUBSCRIBE_SELF('changeTransformOrigin')](key, value) {\n\n    if (key === 'transform-origin') {\n      keyList.forEach(type => {\n        this.children[`$${type}`].setValue(value.toString())\n      });\n    }\n\n    if (key === 'transform-origin-z') {\n      this.state[key] = value;\n    }\n\n    this.setTransformOrigin()\n  }\n\n  [LOAD('$body')]() {\n\n    return /*html*/`\n      <div class=\"full transform-origin-item\" ref=\"$partitialSetting\" >\n        <div class=\"radius-setting-box\" ref=\"$radiusSettingBox\">\n          ${typeList.map(it => {\n      return /*html*/`\n              <div>\n                  <object refClass=\"RangeEditor\"  ref='$${it.key}' compact=\"true\" label='${it.title}' key='${it.key}' value=\"${this.state[it.key]}\" onchange='changeTransformOrigin' />\n              </div>  \n            `;\n    }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n  setTransformOrigin() {\n    var type = this.refs.$selector.attr(\"data-selected-value\");\n\n    if (type === \"all\") {\n      this.state.isAll = true;\n      this.state['transform-origin'] = this.children[`$all`].getValue();\n    } else {\n      this.state.isAll = false;\n      keyList.forEach(key => {\n        this.state[key] = this.children[`$${key}`].getValue();\n      });\n    }\n\n    this.modifyTransformOrigin();\n  }\n\n  modifyTransformOrigin() {\n\n    var value = `${this.state['transform-origin-x']} ${this.state['transform-origin-y']} ${this.state['transform-origin-z'] || '0px'}`\n\n    this.parent.trigger(this.props.onchange, this.props.key, value);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.setTransformOrigin();\n  }\n\n\n}","import { Length } from \"el/editor/unit/Length\";\nimport { PropertyItem } from \"el/editor/items/PropertyItem\";\nimport { customParseConvertMatches, customParseReverseMatches } from \"el/utils/customParser\";\n\nconst TRANSITION_TIMING_REG = /((cubic-bezier|steps)\\(([^\\)]*)\\))/gi;\n\nexport class Transition extends PropertyItem {\n  static parse(obj) {\n    return new Transition(obj);\n  }\n\n  getDefaultObject() {\n    return {\n      name: 'all',\n      duration: Length.second(0),\n      timingFunction: 'linear',\n      delay: Length.second(0)\n    }\n  }\n\n  toCloneObject() {\n    return {\n      name: this.json.name,\n      duration: this.json.duration + \"\",\n      timingFunction: this.json.timingFunction,\n      delay: this.json.delay + ''\n    }\n  }\n\n  toCSS() {\n    return {\n      \"transition\": this.toString()\n    };\n  }\n\n  toString() {\n    var json = this.json;\n\n    return [\n      json.name,\n      json.duration,\n      json.timingFunction,\n      json.delay\n    ].join(' ')\n  }\n\n\n  static join (list) {\n    return list.map(it => new Transition(it).toString()).join(',')\n  }\n\n  static add (transition, item = {}) {\n    const list = Transition.parseStyle(transition);\n    list.push(Transition.parse(item))\n\n    return Transition.join(list); \n  }\n\n  static remove (transition, removeIndex) {\n    return Transition.filter(transition, (it, index) => {\n        return removeIndex != index; \n    })\n  }\n\n  static filter (transition, filterFunction) {\n    return Transition.join(Transition.parseStyle(transition).filter(it => filterFunction(it)))\n  }\n\n  static replace (transition, replaceIndex, valueObject) {\n\n    var list = Transition.parseStyle(transition)\n\n    if (list[replaceIndex]) {\n      list[replaceIndex] = valueObject;\n    } else {\n      list.push(valueObject);\n    }\n\n    return Transition.join(list);\n  }\n\n  static get (transition, index) {\n    var arr = Transition.parseStyle(transition)\n\n    return arr[index];\n  }   \n\n\n  static parseStyle (transition) {\n\n    var list = [];\n\n    if (!transition) return list;\n\n\n    const result = customParseConvertMatches(transition, TRANSITION_TIMING_REG)\n    list = result.str.split(',').map(it => {\n\n      const fields = it.split(' ').filter(Boolean);\n\n      if (fields.length >= 4 ) {\n          /* @keyframes duration | timing-function | delay | \n          iteration-count | direction | fill-mode | play-state | name */\n          //animation: 3s ease-in 1s 2 reverse both paused slidein;        \n        return {\n          name: fields[0],\n          duration: Length.parse(fields[1]),          \n          timingFunction: customParseReverseMatches(fields[2], result.matches),          \n          delay: Length.parse(fields[3]),          \n        }\n      } else if (fields.length >= 3) {\n        /* @keyframes duration | timing-function | delay | name */\n        //animation: 3s linear 1s slidein;        \n        return {\n          name: fields[0],\n          duration: Length.parse(fields[1]),          \n          delay: Length.parse(fields[2]),          \n        }\n      } else if (fields.length >= 1) {\n        /* @keyframes duration | name */\n        //animation: 3s slidein;        \n        return {\n          name: fields[0],\n          duration: Length.parse(fields[1]),          \n        }\n      } else {\n        return {}\n      }\n    })\n\n    return list.map(it => Transition.parse(it));\n  }    \n}\n","\nimport {\n  LOAD,\n  CLICK,\n  DOMDIFF,\n  SUBSCRIBE,\n} from \"el/sapa/Event\";\n\n\n\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { Transition } from \"el/editor/property-parser/Transition\";\nimport { curveToPath } from \"el/utils/func\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './TransitionProperty.scss';\n\nexport default class TransitionProperty extends BaseProperty {\n\n\n  initialize() {\n    super.initialize();\n\n    this.notEventRedefine = true;\n  }  \n\n  getTitle() {\n    return this.$i18n('transition.property.title');\n  }\n\n  getBody() {\n    return /*html*/`<div class='elf--transition-list' ref='$transitionList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n        <button type=\"button\" ref=\"$add\" title=\"add Transition\">${iconUse(\"add\")}</button>\n    `;\n  }\n\n  isFirstShow() {\n    return true;\n  }\n\n  [LOAD(\"$transitionList\") + DOMDIFF]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    return Transition.parseStyle(current.transition).map((it, index) => {\n\n      const selectedClass = this.state.selectedIndex === index ? \"selected\" : \"\";\n      const path = curveToPath(it.timingFunction, 30, 30)\n\n      return /*html*/`\n      <div class='transition-group-item'>\n        <div class='transition-item ${selectedClass}' data-index='${index}' ref=\"transitionIndex${index}\">\n            <div class='timing preview' data-index='${index}' ref='$preview${index}'>\n              <svg class='item-canvas' width=\"30\" height=\"30\" viewBox=\"0 0 30 30\">\n                <path d=\"${path}\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n              </svg>\n            </div>\n            <div class='name'>\n              <div class='labels'>\n                <span class='property-name' title='Property'>${it.name}</span>\n                <span class='duration' title='Duration'><small>Duration: ${it.duration}</small></span>\n                <span class='delay' title='Delay'><small>Delay: ${it.delay}</small></span>\n              </div>\n            </div>\n            <div class='tools'>\n                <button type=\"button\" class=\"del\" data-index=\"${index}\">\n                  ${iconUse(\"remove2\")}\n                </button>\n            </div>\n        </div>\n      </div>        \n      `;\n    });\n  }\n\n  [SUBSCRIBE('refreshSelection')]() {\n    this.refreshShowIsNot([]);\n  }\n\n\n  [CLICK(\"$add\")](e) {\n    var current = this.$selection.current;\n\n    if (current) {\n\n      this.command('setAttributeForMulti', 'add transition', this.$selection.packByValue({\n        transition: (item) => Transition.add(item.transition)\n      }))\n\n      this.nextTick(() => {\n        setTimeout(() => {\n          this.refresh();\n        }, 100)\n      })\n    } else {\n      alert('Select a layer');\n    }\n\n  }\n\n\n  getCurrentTransition() {\n    return this.current.transitions[this.selectedIndex];\n  }\n\n  [CLICK(\"$transitionList .tools .del\")](e) {\n    var removeIndex = e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.reset({\n      transition: Transition.remove(current.transition, removeIndex)\n    })  \n\n    this.emit(\"refreshElement\", current);\n\n    this.refresh();    \n  \n  }\n\n  // 객체를 선택하는 괜찮은 패턴이 어딘가에 있을 텐데......\n  // 언제까지 selected 를 설정해야하는가?\n  selectItem(selectedIndex, isSelected = true) {\n    if (isSelected) {\n      this.refs[`transitionIndex${selectedIndex}`].addClass(\"selected\");\n    } else {\n      this.refs[`transitionIndex${selectedIndex}`].removeClass(\"selected\");\n    }\n  }\n\n  viewTransitionPicker($preview) {\n    if (typeof this.selectedIndex === \"number\") {\n      this.selectItem(this.selectedIndex, false);\n    }\n\n\n\n    this.selectedIndex = +$preview.attr(\"data-index\");\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentTransition = Transition.get(this.current.transition, this.selectedIndex);\n\n    this.viewTransitionPropertyPopup();\n  }\n\n  viewTransitionPropertyPopup() {\n    if (!this.currentTransition) return;\n\n    const transition = this.currentTransition;\n    this.emit(\"showTransitionPropertyPopup\", {\n      changeEvent: 'changeTransitionPropertyPopup',\n      data: transition.toCloneObject(),\n      instance: this  \n    });\n  }\n\n  [CLICK(\"$transitionList .preview\")](e) {\n    this.viewTransitionPicker(e.$dt);\n  }\n\n  getRef(...args) {\n    return this.refs[args.join(\"\")];\n  }\n\n  [SUBSCRIBE(\"changeTransitionPropertyPopup\")](data) {\n\n    if (this.currentTransition) {\n\n      this.currentTransition.reset({ ...data });\n\n      if (this.current) {\n\n        this.current.reset({\n          transition: Transition.replace(this.current.transition, this.selectedIndex, this.currentTransition)\n        })\n\n        this.emit(\"refreshElement\", this.current);        \n        this.refresh();\n      }\n    }\n  }\n}","import { LOAD, SUBSCRIBE, SUBSCRIBE_SELF} from \"el/sapa/Event\";\nimport BasePopup from \"el/editor/ui/popup/BasePopup\";\n\nimport './TransitionPropertyPopup.scss';\nimport { variable } from 'el/sapa/functions/registElement';\n\nconst property_list = [\n  'none',\n  'all',\n  'background-color',\n  'background-position',\n  'background-size',\n  'border',\n  'border-color',\n  'border-width',\n  'border-bottom',\n  'border-bottom-color',\n  'border-bottom-left-radius',\n  'border-bottom-right-radius',\n  'border-bottom-width',\n  'border-left',\n  'border-left-color',\n  'border-left-width',\n  'border-radius', \n  'border-right',\n  'border-right-color',\n  'border-right-width',\n  'border-spacing',\n  'border-top',\n  'border-top-color',\n  'border-top-left-radius',\n  'border-top-right-radius',\n  'border-top-width',\n  'bottom',\n  'box-shadow',\n  'color',\n  'filter',\t\t\n\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-weight',\n  'height',\n  'left',\n  'letter-spacing',\n  'line-height',\n  'margin',\n  'margin-bottom',\n  'margin-left',\n  'margin-right',\n  'margin-top',\n  'max-height',\n  'max-width',\n  'min-height',\n  'min-width',\n  'opacity',\n  \n  'padding',\n  'padding-bottom',\n  'padding-left',\n  'padding-right',\n  'padding-top',\n  'perspective',\n  'perspective-origin',\n  'right',\n  'text-decoration',\n  'text-decoration-color',\n  'text-indent',\n  'text-shadow',\n  'top',\n  'transform',\n  'vertical-align',\n  'visibility',\n  'width',\n  'word-spacing',\n  'z-index'\n].map(it => ({\n  value: it,\n  text: it,\n}));\n\n\nexport default class TransitionPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return 'Transition'\n  }\n\n  initState() {\n    return {\n      changeEvent: '', \n      instance: {}, \n      data: {\n        timingFunction: 'linear',\n        duration: '0s',\n        delay: '0s',\n        name: 'all'\n      } \n    };\n  }\n\n\n  updateData(opt) {\n    this.state.data = {...this.state.data, ...opt} \n    if (this.state.instance) {\n      this.state.instance.trigger(this.state.changeEvent, this.state.data);\n    }\n  }\n\n  getBody() {\n    return /*html*/`<div class='elf--transition-property-popup' ref='$popup'></div>`;\n  }\n\n  [LOAD('$popup')] () {\n    return /*html*/`\n      <div class=\"box\">\n        ${this.templateForProperty()}\n        ${this.templateForTimingFunction()}\n        ${this.templateForDelay()}\n        ${this.templateForDuration()}\n      </div>\n    `;\n  }\n\n  templateForTimingFunction () {\n    return /*html*/`\n    <div class='timing-function'>\n      <label>Timing function</label>\n      <object refClass=\"CubicBezierEditor\" ref='$cubicBezierEditor' key=\"timingFunction\" value=\"${this.state.data.timingFunction || 'linear'}\" onChange='changeCubicBezier' />\n    </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeTransition')] (key, value) {\n    this.updateData({\n      [key]: value\n    })\n  }\n\n  templateForProperty() {\n   \n    return /*html*/`\n      <div class='name'>\n        <object refClass=\"SelectEditor\"  \n          ref='$property' \n          icon=\"true\" \n          label=\"Property\" \n          key='name' \n          value=\"${this.state.data.name}\" \n          options=${variable(property_list)} \n          onChange='changeTransition' \n        /> \n      </div>\n    `\n  }\n  \n\n  templateForDelay () {\n    return /*html*/`\n    <div class='delay'>\n      <object refClass=\"RangeEditor\"  ref='$delay' label='Delay' calc='false' key='delay' value='${this.state.data.delay}' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    `\n  }\n\n  templateForDuration () {\n    return /*html*/`\n    <div class='duration'>\n      <object refClass=\"RangeEditor\"  ref='$duration' label='Duration'  calc='false' key='duration' value='${this.state.data.duration}' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    `\n  }\n\n  [SUBSCRIBE_SELF('changeRangeEditor')] (key, value) {\n    this.updateData({ [key]: value })\n  }\n\n  [SUBSCRIBE_SELF('changeCubicBezier')] (key, value) {\n    this.updateData({ [key]: value })\n  }\n\n  [SUBSCRIBE(\"showTransitionPropertyPopup\")](data) {\n    this.setState(data);\n\n    this.show(250)\n\n    this.children.$cubicBezierEditor.trigger('showCubicBezierEditor', data.data.timingFunction)        \n  }\n\n  [SUBSCRIBE(\"hideTransitionPropertyPopup\")]() {\n    this.$el.hide();\n  }\n}","\nimport { LOAD, CLICK, BIND, DEBOUNCE, CHANGEINPUT, SUBSCRIBE, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport icon from \"el/editor/icon/icon\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\n\nimport './VideoProperty.scss';\n\nconst video_dom_property = [\n  // 'audioTracks',\n  // 'autoplay',\n  // 'buffered',\n  // 'controller',\n  // 'controls',\n  // 'controlsList',\n  // 'crossOrigin',\n  // 'currentSrc',\n  // 'currentTime',\n  // 'defaultMuted',\n  // 'defaultPlaybackRate',\n  'duration',\n  // 'ended',\n  // 'error',\n  // 'initialTime',\n  // 'loop',\n  // 'mediaGroup',\n  // 'muted',\n  // 'networkState',\n  // 'onerror',\n  // 'paused',\n  // 'playbackRate',\n  // 'readyState',\n  // 'seekable',\n  // 'sinkId',\n  // 'src',\n  // 'srcObject',\n  // 'textTracks',\n  // 'videoTracks',\n  'volume'\n]\n\nexport default class VideoProperty extends BaseProperty {\n\n  getClassName() {\n    return 'item elf--video-property'\n  }\n\n  getTitle() {\n    return this.$i18n('video.property.title')\n  }\n\n  initState() {\n    return {\n      $video: {el: {}},\n      status: 'play',\n      volume: 1\n    }\n  }\n\n  getBody() {\n    return /*html*/`<div ref='$body' style='padding-top: 3px;'></div>`;\n  }  \n\n  get video () {\n    return this.state.$video.el;\n  }\n\n  get volumeStatus () {\n    if (this.state.volume === 0) return 'muted'\n    if (this.state.volume > 0.5) return 'up'\n\n    return 'down'\n  }\n\n  play () {\n    if (this.video) this.video.play();\n  }\n\n  pause () {\n    if (this.video) this.video.pause();\n  }  \n\n  [LOAD(\"$body\")]() { \n    var current = this.$selection.current || {playTime: \"0:1:1\"};\n    var currentTime = current.currentTime || 0;\n    var duration = (current.playTime || '0:1:1').split(\":\").pop()\n    return /*html*/`\n        <div ref='$tools' class='play-control' data-selected-value=\"${this.state.status}\">\n          <button type=\"button\" data-value=\"play\" >${icon.play} ${this.$i18n('video.property.play')}</button>\n          <button type=\"button\" data-value=\"pause\">${icon.pause}  ${this.$i18n('video.property.pause')}</button>      \n          <div>\n            <object refClass=\"NumberRangeEditor\"  ref='$currentTime' min=\"0\" max=\"${duration}\" value=\"${currentTime}\" step=\"0.001\" onchange=\"changeCurrentTime\" />\n          </div>\n        </div>    \n        <div class='property-item animation-property-item has-label'>        \n          <div class='group'>\n            <span class='add-timeline-property' data-property='volume'></span>\n            ${this.$i18n('video.property.volume')}\n          </div>\n          <div ref='$volume_control' class='volume-control' data-selected-value='${this.volumeStatus}'>\n            <span data-value='muted'>${icon.volume_off}</span>\n            <span data-value='down'>${icon.volume_down}</span>\n            <span data-value='up'>${icon.volume_up}</span>\n            <input type=\"range\" ref='$volume' min=\"0\" max=\"1\" step=\"0.001\" value=\"${this.state.volume}\" />\n          </div>          \n        </div>\n        <div class='property-item animation-property-item has-label'>        \n          <div class='group'>\n            <span class='add-timeline-property' data-property='playbackRate'></span>\n            ${this.$i18n('video.property.playbackRate')}\n          </div>\n          <div>\n            <object refClass=\"NumberRangeEditor\"  ref='$playbackRate' min=\"0.1\" max=\"10\" clamp=\"true\" value=\"${this.state.playbackRate}\" step=\"0.001\" onchange=\"changePlaybackRate\" />\n          </div>\n        </div>        \n        <div class='property-item animation-property-item full'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='playTime'></span>\n            ${this.$i18n('video.property.playTime')}\n          </div>\n          <object refClass=\"MediaProgressEditor\" ref='$progress'  key='playTime' value=\"${current.playTime}\" onchange=\"changeSelect\" />\n        </div>\n      `;\n  }\n\n  [SUBSCRIBE('changeCurrentTime')] (key, currentTime) {\n    this.setState({ currentTime}, false)\n    this.command('setAttributeForMulti', 'change video property', this.$selection.packByValue({ currentTime }));\n  }\n\n  [SUBSCRIBE('changePlaybackRate')] (key, playbackRate) {\n    this.setState({ playbackRate}, false)\n    // this.video.playbackRate = playbackRate;\n    this.command('setAttributeForMulti', 'change video property', this.$selection.packByValue({ playbackRate }));\n  }\n\n  [CHANGEINPUT('$volume')] (e) {\n    const volume = Number(this.refs.$volume.value)\n    this.setState({ volume }, false)\n    this.bindData('$volume_control')\n    this.command('setAttributeForMulti', 'change video property', this.$selection.packByValue({ volume }));\n  }\n\n  [BIND('$volume_control')] () {\n    return {\n      'data-selected-value': this.volumeStatus\n    }\n  }\n\n  [BIND('$tools')] () {\n    return {\n      'data-selected-value': this.state.status\n    }\n  }\n\n  [CLICK('$tools button')] (e) {\n    var playType = e.$dt.attr('data-value');\n\n    switch(playType) {\n    case 'play': \n      this.setState({ status: 'pause' }, false)\n      this.play();\n      break; \n    case 'pause': \n      this.setState({ status: 'play' }, false)\n      this.pause();\n      break; \n    }\n\n    this.bindData('$tools')\n  }\n\n  [SUBSCRIBE_SELF('changeValue') + DEBOUNCE(100)] (key, value) {\n    if (!this.state.$video) return;\n\n    this.command('setAttributeForMulti', 'change video property', this.$selection.packByValue({ [key]: value }));    \n  }\n\n  [SUBSCRIBE_SELF('changeSelect')] (key, value) {\n    this.command('setAttributeForMulti', 'change video property', this.$selection.packByValue({ [key]: value }));    \n  }\n\n  [SUBSCRIBE_SELF('updateVideoEvent')] (e) {\n    if (this.video.paused) {\n      this.setState({ \n        status: 'play',\n        currentTime: this.video.currentTime\n      }, false)\n      this.bindData('$tools');\n    }\n\n    this.children.$currentTime.setValue(this.video.currentTime)\n  }\n\n  [SUBSCRIBE('refreshSelection') + DEBOUNCE(100)]() {\n    const current = this.$selection.current;\n    this.refreshShow(['video'])\n\n    if (current && current.is('video')) {\n      this.emit('refElement', current.id, ($el) => {\n        const $video = $el.$('video');\n\n        this.state.$video = $video; \n\n        this.setState({\n          volume: current.volume,\n          currentTime: current.currentTime,\n          playbackRate: current.playbackRate\n        }, false)\n\n        this.video.ontimeupdate = (e) => {\n          this.trigger('updateVideoEvent', e);\n        }\n\n        this.video.onprogress = (e) => {\n          this.trigger('updateVideoEvent', e);\n        }\n        \n        this.load('$body');\n      })\n  \n    }\n\n  }\n}","import alignment from \"./alignment\"\nimport animation from \"./animation\"\nimport appearance from \"./appearance\"\nimport artboard from \"./artboard\"\nimport backdropFilter from \"./backdrop-filter\"\nimport backgroundClip from \"./background-clip\"\nimport backgroundImage from \"./background-image\"\nimport baseEditor from \"./base-editor\"\nimport pathTool from \"./path-tool\"\nimport border from \"./border\"\nimport borderImage from \"./border-image\"\nimport borderRadius from \"./border-radius\"\nimport boxModel from \"./box-model\"\nimport boxShadow from \"./box-shadow\"\nimport clipPath from \"./clip-path\"\nimport codeview from \"./codeview\"\nimport color from \"./color\"\nimport component from \"./component\"\nimport content from \"./content\"\nimport defaultConfigs from \"./default-configs\"\nimport defaultItems from \"./default-items\"\nimport defaultMessages from \"./default-messages\"\nimport defaultPatterns from \"./default-patterns\"\nimport depth from \"./depth\"\n\nimport exportResource from \"./export-resource\"\nimport filter from \"./filter\"\nimport font from \"./font\"\nimport fontSpacing from \"./font-spacing\"\nimport gradient from \"./gradient\"\nimport gradientAsset from \"./gradient-asset\"\nimport history from \"./history\"\nimport iframe from \"./iframe\"\nimport image from \"./image\"\nimport keyframe from \"./keyframe\"\nimport layerTree from \"./layer-tree\"\nimport layout from \"./layout\"\nimport patternAsset from \"./pattern-asset\"\nimport perspective from \"./perspective\"\nimport perspectiveOrigin from \"./perspective-origin\"\nimport position from \"./position\"\nimport project from \"./project\"\nimport propertyEditor from \"./property-editor\"\nimport rendererHtml from \"./renderer-html\"\nimport rendererJson from \"./renderer-json\"\nimport rendererSvg from \"./renderer-svg\"\nimport selector from \"./selector\"\nimport svgFilterAsset from \"./svg-filter-asset\"\nimport svgItem from \"./svg-item\"\nimport svgText from \"./svg-text\"\nimport text from \"./text\"\nimport textClip from \"./text-clip\"\nimport textFill from \"./text-fill\"\nimport textShadow from \"./text-shadow\"\n// import timeline from \"./timeline\"\nimport transform from \"./transform\"\nimport transformOrigin from \"./transform-origin\"\nimport transition from \"./transition\"\nimport video from \"./video\"\n\n\nexport default [\n\n    defaultConfigs,\n    defaultMessages,\n    defaultItems,\n    defaultPatterns,\n\n    rendererHtml,\n    rendererJson,\n    rendererSvg,\n\n    // common editor \n    baseEditor,\n    propertyEditor,\n    color,\n    gradient,\n\n    // inspector.tab.style    \n    depth,\n    alignment,\n    pathTool,\n    artboard,\n\n    // layout \n    boxModel,\n    position,    \n    layout,    \n    transform,\n    // transformOrigin,    \n    appearance,\n    perspective,\n    perspectiveOrigin,\n\n    // iframe,\n    component,\n    backgroundImage,\n    // border \n    border,\n    borderRadius,\n\n    svgText,\n    font,\n    text,\n    textShadow,\n    fontSpacing,\n    content,\n    textFill,\n    textClip,     \n\n\n    // resource    \n    video,\n    image,\n\n\n    patternAsset,\n    svgFilterAsset,\n\n    svgItem,\n    layerTree,\n    backgroundClip,\n    borderImage,\n\n    filter,\n    backdropFilter,\n    boxShadow,\n    clipPath,\n    gradientAsset,\n\n    exportResource,\n\n\n\n    // animation \n    transition,\n    keyframe,\n    animation,\n    selector,\n\n    // codeview \n    codeview,\n\n    // history\n    history,\n\n    // todo: timeline,\n    //timeline\n    project,\n]","import { Editor } from \"el/editor/manager/Editor\";\nimport configs from \"./configs\";\n\n\n\n/**\n * register i18n default messages \n * \n * @param {Editor} editor\n */\nexport default function (editor) {\n\n    configs.forEach(config => {\n        editor.registerConfig(config);\n    });\n\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport locales from \"./locales\";\n\n/**\n * register i18n default messages \n * \n * @param {Editor} editor\n */\nexport default function (editor) {\n\n    Object.keys(locales).forEach(function (locale) {\n        editor.registerI18nMessage(locale, locales[locale]);\n    });\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport { ArtBoard } from \"./layers/ArtBoard\";\nimport { CircleLayer } from \"./layers/CircleLayer\";\n// import { CubeLayer } from \"./layers/CubeLayer\";\n// import { CylinderLayer } from \"./layers/CylinderLayer\";\nimport { ImageLayer } from \"./layers/ImageLayer\";\nimport { Project } from \"./layers/Project\";\nimport { RectLayer } from \"./layers/RectLayer\";\nimport { SVGPathItem } from \"./layers/SVGPathItem\";\nimport { SVGTextItem } from \"./layers/SVGTextItem\";\nimport { SVGTextPathItem } from \"./layers/SVGTextPathItem\";\nimport { TemplateLayer } from \"./layers/TemplateLayer\";\nimport { TextLayer } from \"./layers/TextLayer\";\n// import { VideoLayer } from \"./layers/VideoLayer\";\nimport { SVGPolygonItem } from './layers/SVGPolygonItem';\nimport { SVGStarItem } from \"./layers/SVGStarItem\";\nimport { SplineItem } from \"./layers/SplineItem\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerItem(\"project\", Project);        \n    editor.registerItem(\"artboard\", ArtBoard);\n    editor.registerItem(\"rect\", RectLayer);\n    editor.registerItem(\"circle\", CircleLayer);\n    // editor.registerItem(\"cube\", CubeLayer);\n    // editor.registerItem(\"cylinder\", CylinderLayer);\n    editor.registerItem(\"image\", ImageLayer);\n    editor.registerItem(\"text\", TextLayer);\n    editor.registerItem(\"svg-path\", SVGPathItem);\n    editor.registerItem(\"svg-text\", SVGTextItem);\n    editor.registerItem(\"svg-textpath\", SVGTextPathItem);\n    editor.registerItem(\"template\", TemplateLayer);\n    // editor.registerItem(\"video\", VideoLayer);\n    editor.registerItem(\"polygon\", SVGPolygonItem)\n    editor.registerItem(\"star\", SVGStarItem)\n    editor.registerItem(\"spline\", SplineItem)\n}","import texture from './icons/texture';\nimport TextureView from './views/TextureView';\nimport { Editor } from 'el/editor/manager/Editor';\nimport CSSTextureView from './views/CSSTextureView';\nimport SVGTextureView from './views/SVGTextureView';\n\n/**\n * \n * @param {Editor} editor \n */\n export default function (editor) {\n\n    editor.registerElement({\n        TextureView,\n        CSSTextureView,\n        SVGTextureView\n    });    \n\n    editor.registerMenuItem('leftbar.tab', {\n        TextureView: { \n            value: \"texture\",\n            title: \"Texture\",\n            icon: texture,\n            designMode: [\"design\", \"item\"]\n        }\n    })\n\n    editor.registerMenuItem('leftbar.tab.texture', {\n        TextureView\n    })\n\n\n}","export default `\n<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#000000\">\n    <path d=\"M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z\"/>\n</svg>\n`","import { Editor } from \"el/editor/manager/Editor\";\nimport HTMLRenderer from \"./HTMLRenderer\";\nimport ArtBoardRender from \"./HTMLRenderer/ArtBoardRender\";\nimport CircleRender from \"./HTMLRenderer/CircleRender\";\nimport CubeRender from \"./HTMLRenderer/CubeRender\";\nimport ImageRender from \"./HTMLRenderer/ImageRender\";\nimport ProjectRender from \"./HTMLRenderer/ProjectRender\";\nimport RectRender from \"./HTMLRenderer/RectRender\";\nimport SplineRender from \"./HTMLRenderer/SplineRender\";\nimport SVGPathRender from \"./HTMLRenderer/SVGPathRender\";\nimport SVGPolygonRender from \"./HTMLRenderer/SVGPolygonRender\";\nimport SVGStarRender from \"./HTMLRenderer/SVGStarRender\";\nimport SVGTextPathRender from \"./HTMLRenderer/SVGTextPathRender\";\nimport SVGTextRender from \"./HTMLRenderer/SVGTextRender\";\nimport TemplateRender from \"./HTMLRenderer/TemplateRender\";\nimport TextRender from \"./HTMLRenderer/TextRender\";\nimport VideoRender from \"./HTMLRenderer/VideoRender\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    // html renderer \n    editor.registerRendererType('html', new HTMLRenderer(editor))\n\n    // html renderer item \n    editor.registerRenderer('html', 'project', new ProjectRender());\n    editor.registerRenderer('html', 'artboard', new ArtBoardRender());\n    editor.registerRenderer('html', 'rect', new RectRender());\n    editor.registerRenderer('html', 'circle', new CircleRender());\n    editor.registerRenderer('html', 'image', new ImageRender());\n    editor.registerRenderer('html', 'text', new TextRender());\n    editor.registerRenderer('html', 'video', new VideoRender());\n    editor.registerRenderer('html', 'svg-path', new SVGPathRender());\n    editor.registerRenderer('html', 'polygon', new SVGPolygonRender());\n    editor.registerRenderer('html', 'star', new SVGStarRender());\n    editor.registerRenderer('html', 'spline', new SplineRender());\n    editor.registerRenderer('html', 'svg-text', new SVGTextRender());\n    editor.registerRenderer('html', 'svg-textpath', new SVGTextPathRender());\n    editor.registerRenderer('html', 'cube', new CubeRender());\n    editor.registerRenderer('html', 'template', new TemplateRender());\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport JSONRenderer from \"./JSONRenderer\";\nimport ArtBoardRender from \"./JSONRenderer/ArtBoardRender\";\nimport CircleRender from \"./JSONRenderer/CircleRender\";\nimport IFrameRender from \"./JSONRenderer/IFrameRender\";\nimport ImageRender from \"./JSONRenderer/ImageRender\";\nimport ProjectRender from \"./JSONRenderer/ProjectRender\";\nimport RectRender from \"./JSONRenderer/RectRender\";\nimport SVGPathRender from \"./JSONRenderer/SVGPathRender\";\nimport SVGTextPathRender from \"./JSONRenderer/SVGTextPathRender\";\nimport SVGTextRender from \"./JSONRenderer/SVGTextRender\";\nimport TemplateRender from \"./JSONRenderer/TemplateRender\";\nimport TextRender from \"./JSONRenderer/TextRender\";\nimport VideoRender from \"./JSONRenderer/VideoRender\";\nimport SVGPolygonRender from './JSONRenderer/SVGPolygonRender';\nimport SVGStarRender from \"./JSONRenderer/SVGStarRender\";\nimport SplineRender from \"./JSONRenderer/SplineRender\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    // json renderer     \n    editor.registerRendererType('json', new JSONRenderer(editor))\n\n    // json renderer item \n    editor.registerRenderer('json', 'project', new ProjectRender());\n    editor.registerRenderer('json', 'artboard', new ArtBoardRender());\n    editor.registerRenderer('json', 'rect', new RectRender());\n    editor.registerRenderer('json', 'circle', new CircleRender());\n    editor.registerRenderer('json', 'image', new ImageRender());\n    editor.registerRenderer('json', 'template', new TemplateRender());\n    editor.registerRenderer('json', 'iframe', new IFrameRender());\n    editor.registerRenderer('json', 'text', new TextRender());\n    editor.registerRenderer('json', 'video', new VideoRender());\n    editor.registerRenderer('json', 'svg-path', new SVGPathRender());\n    editor.registerRenderer('json', 'polygon', new SVGPolygonRender());\n    editor.registerRenderer('json', 'star', new SVGStarRender());\n    editor.registerRenderer('json', 'spline', new SplineRender());\n    editor.registerRenderer('json', 'svg-text', new SVGTextRender());\n    editor.registerRenderer('json', 'svg-textpath', new SVGTextPathRender());\n\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport SVGRenderer from \"./SVGRenderer\";\nimport ArtBoardRender from \"./SVGRenderer/ArtBoardRender\";\nimport CircleRender from \"./SVGRenderer/CircleRender\";\nimport IFrameRender from \"./SVGRenderer/IFrameRender\";\nimport ImageRender from \"./SVGRenderer/ImageRender\";\nimport ProjectRender from \"./SVGRenderer/ProjectRender\";\nimport RectRender from \"./SVGRenderer/RectRender\";\nimport SplineRender from \"./SVGRenderer/SplineRender\";\nimport SVGPathRender from \"./SVGRenderer/SVGPathRender\";\nimport SVGPolygonRender from \"./SVGRenderer/SVGPolygonRender\";\nimport SVGStarRender from \"./SVGRenderer/SVGStarRender\";\nimport SVGTextPathRender from \"./SVGRenderer/SVGTextPathRender\";\nimport SVGTextRender from \"./SVGRenderer/SVGTextRender\";\nimport TemplateRender from \"./SVGRenderer/TemplateRender\";\nimport TextRender from \"./SVGRenderer/TextRender\";\nimport VideoRender from \"./SVGRenderer/VideoRender\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    // svg renderer     \n    editor.registerRendererType('svg', new SVGRenderer(editor))\n\n    // svg renderer item \n    editor.registerRenderer('svg', 'project', new ProjectRender());\n    editor.registerRenderer('svg', 'artboard', new ArtBoardRender());\n    editor.registerRenderer('svg', 'rect', new RectRender());\n    editor.registerRenderer('svg', 'circle', new CircleRender());\n    editor.registerRenderer('svg', 'image', new ImageRender());\n    editor.registerRenderer('svg', 'template', new TemplateRender());\n    editor.registerRenderer('svg', 'iframe', new IFrameRender());\n    editor.registerRenderer('svg', 'video', new VideoRender());\n    editor.registerRenderer('svg', 'text', new TextRender());\n    editor.registerRenderer('svg', 'svg-path', new SVGPathRender());\n    editor.registerRenderer('svg', 'polygon', new SVGPolygonRender());\n    editor.registerRenderer('svg', 'star', new SVGStarRender());\n    editor.registerRenderer('svg', 'spline', new SplineRender());\n    editor.registerRenderer('svg', 'svg-text', new SVGTextRender());\n    editor.registerRenderer('svg', 'svg-textpath', new SVGTextPathRender());\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport Button from './Button';\nimport ToggleCheckBox from './ToggleCheckBox';\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        ToggleCheckBox,\n        Button,\n    });\n\n    editor.registerAlias({\n        'toggle-checkbox': 'ToggleCheckBox',\n        'button': 'Button',\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BlendSelectEditor from \"./BlendSelectEditor\";\nimport ClipPathEditor from \"./ClipPathEditor\";\nimport ColorAssetsEditor from \"./ColorAssetsEditor\";\nimport ColorSingleEditor from \"./ColorSingleEditor\";\nimport ColorViewEditor from \"./ColorViewEditor\";\nimport CSSPropertyEditor from \"./CSSPropertyEditor\";\nimport CubicBezierEditor from \"./CubicBezierEditor\";\nimport DirectionEditor from \"./DirectionEditor\";\nimport FilterEditor from \"./FilterEditor\";\nimport FontSelectEditor from \"./FontSelectEditor\";\nimport GradientEditor from \"./GradientEditor\";\nimport IconListViewEditor from \"./IconListViewEditor\";\nimport InputArrayEditor from \"./InputArrayEditor\";\nimport InputRangeEditor from \"./InputRangeEditor\";\nimport IterationCountEditor from \"./IterationCountEditor\";\nimport MediaProgressEditor from \"./MediaProgressEditor\";\nimport NumberInputEditor from \"./NumberInputEditor\";\nimport NumberRangeEditor from \"./NumberRangeEditor\";\nimport PathDataEditor from \"./PathDataEditor\";\nimport PolygonDataEditor from \"./PolygonDataEditor\";\nimport RangeEditor from \"./RangeEditor\";\nimport SelectEditor from \"./SelectEditor\";\nimport SelectIconEditor from \"./SelectIconEditor\";\nimport StrokeDashArrayEditor from \"./StrokeDashArrayEditor\";\nimport TextAreaEditor from \"./TextAreaEditor\";\nimport TextEditor from \"./TextEditor\";\nimport VarEditor from \"./VarEditor\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        IconListViewEditor,\n        TextAreaEditor,\n        TextEditor,\n        ColorSingleEditor,\n        CubicBezierEditor,\n        ClipPathEditor,\n        ColorViewEditor,\n        VarEditor,\n        PathDataEditor,\n        PolygonDataEditor,\n        InputArrayEditor,\n        StrokeDashArrayEditor,\n        NumberInputEditor,\n        NumberRangeEditor,\n        MediaProgressEditor,\n        SelectIconEditor,\n        CSSPropertyEditor,\n        DirectionEditor,\n        IterationCountEditor,\n        GradientEditor,\n        FilterEditor,\n        SelectEditor,\n        BlendSelectEditor,\n        RangeEditor,\n        InputRangeEditor,\n        ColorAssetsEditor,\n        FontSelectEditor\n    });\n\n    editor.registerAlias({\n        \"icon-list-view\": \"IconListViewEditor\",\n        \"text-area\": \"TextAreaEditor\",\n        \"text\": \"TextEditor\",\n        \"color-single\": \"ColorSingleEditor\",\n        \"cubic-bezier\": \"CubicBezierEditor\",\n        \"clip-path\": \"ClipPathEditor\",\n        \"color-view\": \"ColorViewEditor\",\n        \"var\": \"VarEditor\",\n        \"path-data\": \"PathDataEditor\",\n        \"polygon-data\": \"PolygonDataEditor\",\n        \"input-array\": \"InputArrayEditor\",\n        \"stroke-dash-array\": \"StrokeDashArrayEditor\",\n        \"number-input\": \"NumberInputEditor\",\n        \"number-range\": \"NumberRangeEditor\",\n        \"media-progress\": \"MediaProgressEditor\",\n        \"select-icon\": \"SelectIconEditor\",\n        \"css-property\": \"CSSPropertyEditor\",\n        \"direction\": \"DirectionEditor\",\n        \"iteration-count\": \"IterationCountEditor\",\n        \"gradient\": \"GradientEditor\",\n        \"filter\": \"FilterEditor\",\n        \"select\": \"SelectEditor\",\n        \"blend-select\": \"BlendSelectEditor\",\n        \"range\": \"RangeEditor\",\n        \"input-range\": \"InputRangeEditor\",\n        \"color-assets\": \"ColorAssetsEditor\",\n        \"font-select\": \"FontSelectEditor\"\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ColorPickerEditor from \"./ColorPickerEditor\";\nimport ColorPickerPopup from \"./ColorPickerPopup\";\nimport EmbedColorPicker from \"./EmbedColorPicker\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        ColorPickerEditor,\n        EmbedColorPicker\n    })\n    editor.registerMenuItem('popup', {\n        ColorPickerPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport FillEditor from \"./FillEditor\";\nimport FillPickerPopup from \"./FillPickerPopup\";\nimport FillSingleEditor from \"./FillSingleEditor\";\nimport GradientPickerPopup from \"./GradientPickerPopup\";\nimport GradientSingleEditor from \"./GradientSingleEditor\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        FillSingleEditor,\n        FillEditor,\n        GradientSingleEditor,\n    })\n    editor.registerMenuItem('popup', {\n        FillPickerPopup,\n        GradientPickerPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport DepthProperty from \"./DepthProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        DepthProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport AlignmentProperty from \"./AlignmentProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        AlignmentProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport PathToolProperty from \"./PathToolProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        PathToolProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ArtBoardSizeProperty from \"./ArtBoardSizeProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        ArtBoardSizeProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BoxModelProperty from \"./BoxModelProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        BoxModelProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport PositionProperty from \"./PositionProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        PositionProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport FlexLayoutEditor from \"./FlexLayoutEditor\";\nimport FlexLayoutItemEditor from \"./FlexLayoutItemEditor\";\nimport FlexLayoutItemProperty from \"./FlexLayoutItemProperty\";\nimport GridBoxEditor from \"./GridBoxEditor\";\nimport GridGapEditor from \"./GridGapEditor\";\nimport GridLayoutEditor from \"./GridLayoutEditor\";\nimport GridLayoutItemEditor from \"./GridLayoutItemEditor\";\nimport GridLayoutItemProperty from \"./GridLayoutItemProperty\";\nimport LayoutProperty from \"./LayoutProperty\";\nimport DefaultLayoutItemProperty from './DefaultLayoutItemProperty';\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        FlexLayoutEditor,\n        FlexLayoutItemEditor,\n        GridLayoutEditor,\n        GridLayoutItemEditor,\n        GridBoxEditor,\n        GridGapEditor\n    })\n\n    editor.registerMenuItem('inspector.tab.style', {\n        LayoutProperty,        \n        DefaultLayoutItemProperty,\n        GridLayoutItemProperty,\n        FlexLayoutItemProperty,\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport RotateEditorView from \"./RotateEditorView\";\nimport TransformEditor from \"./TransformEditor\";\nimport TransformProperty from \"./TransformProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    editor.registerElement({\n        RotateEditorView,\n        TransformEditor\n    })\n\n    editor.registerMenuItem('inspector.tab.style', {\n        TransformProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport AppearanceProperty from \"./AppearanceProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        AppearanceProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport PerspectiveProperty from \"./PerspectiveProperty\";\n\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        PerspectiveProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport PerspectiveOriginEditor from \"./PerspectiveOriginEditor\";\nimport PerspectiveOriginProperty from \"./PerspectiveOriginProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        PerspectiveOriginEditor,\n    });\n\n    editor.registerMenuItem('inspector.tab.style', {\n        PerspectiveOriginProperty\n    });\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ComponentProperty from \"./ComponentProperty\";\nimport ComponentPopup from './ComponentPopup';\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        ComponentProperty,\n    })\n\n    editor.registerMenuItem('popup', {\n        ComponentPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BackgroundImageEditor from \"./BackgroundImageEditor\";\nimport BackgroundImagePositionPopup from \"./BackgroundImagePositionPopup\";\nimport BackgroundImageProperty from \"./BackgroundImageProperty\";\nimport BackgroundPositionEditor from \"./BackgroundPositionEditor\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        BackgroundImageEditor,\n        BackgroundPositionEditor,\n    })\n\n    editor.registerMenuItem('inspector.tab.style', {\n        BackgroundImageProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        BackgroundImagePositionPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BorderEditor from \"./BorderEditor\";\nimport BorderProperty from \"./BorderProperty\";\nimport BorderValueEditor from \"./BorderValueEditor\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        BorderEditor,\n        BorderValueEditor\n    })\n    editor.registerMenuItem('inspector.tab.style', {\n        BorderProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BorderRadiusEditor from \"./BorderRadiusEditor\";\nimport BorderRadiusProperty from \"./BorderRadiusProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        BorderRadiusEditor,\n    });\n\n    editor.registerMenuItem('inspector.tab.style', {\n        BorderRadiusProperty\n    });\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport SVGTextProperty from \"./SVGTextProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        SVGTextProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport FontProperty from \"./FontProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        FontProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport TextProperty from \"./TextProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        TextProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport TextShadowEditor from \"./TextShadowEditor\";\nimport TextShadowProperty from \"./TextShadowProperty\";\nimport TextShadowPropertyPopup from \"./TextShadowPropertyPopup\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    editor.registerElement({\n        TextShadowEditor\n    })\n\n    editor.registerMenuItem('inspector.tab.style', {\n        TextShadowProperty        \n    })\n\n    editor.registerMenuItem('popup', {\n        TextShadowPropertyPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport FontSpacingProperty from \"./FontSpacingProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        FontSpacingProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ContentProperty from \"./ContentProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    editor.registerElement({\n        ContentProperty\n    })\n    \n}","import { Editor } from \"el/editor/manager/Editor\";\nimport TextFillProperty from \"./TextFillProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        TextFillProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport TextClipProperty from \"./TextClipProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        TextClipProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport VideoProperty from \"./VideoProperty\";\n\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        VideoProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ImageProperty from \"./ImageProperty\";\nimport ImageSelectEditor from \"./ImageSelectEditor\";\nimport ImageSelectPopup from \"./ImageSelectPopup\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        ImageSelectEditor\n    })\n    editor.registerMenuItem('inspector.tab.style', {\n        ImageProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        ImageSelectPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport PatternAssetsProperty from \"./PatternAssetsProperty\";\nimport PatternEditor from \"./PatternEditor\";\nimport PatternInfoPopup from \"./PatternInfoPopup\";\nimport PatternProperty from \"./PatternProperty\";\nimport PatternSizeEditor from \"./PatternSizeEditor\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        PatternEditor,\n        PatternSizeEditor,\n        PatternAssetsProperty\n    })\n\n\n    editor.registerMenuItem('inspector.tab.style', {\n        PatternProperty,\n    })\n\n    editor.registerMenuItem('popup', {\n        PatternInfoPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport SVGFilterAssetsProperty from \"./SVGFilterAssetsProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        SVGFilterAssetsProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ColorMatrixEditor from \"./editor/ColorMatrixEditor\";\nimport FuncFilterEditor from \"./editor/FuncFilterEditor\";\nimport SVGFilterEditor from \"./SVGFilterEditor\";\nimport SVGFilterPopup from \"./SVGFilterPopup\";\nimport SVGFilterSelectEditor from \"./SVGFilterSelectEditor\";\nimport SVGItemProperty from \"./SVGItemProperty\";\n\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    editor.registerElement({\n        ColorMatrixEditor,\n        FuncFilterEditor,\n        SVGFilterSelectEditor,\n        SVGFilterEditor\n    })\n\n\n    editor.registerMenuItem('inspector.tab.style', {\n        SVGItemProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        SVGFilterPopup\n    })\n\n    editor.registerInspector('polygon', (item) => {\n        return [\n            {\n                key: 'count',\n                editor: 'NumberRangeEditor',\n                editorOptions: {\n                    label: 'Count',\n                    min: 3,\n                    max: 100,\n                    step: 1\n                }, \n                defaultValue: item.count\n            },\n            {\n                key: 'button',\n                editor: 'Button',\n                editorOptions: {\n                    label: 'Copy ',\n                    text: 'as path',\n                    action: \"copy.path\"\n                }\n            }\n        ]\n    })\n\n    editor.registerInspector('spline', (item) => {\n        return [ \n            {\n                key: 'boundary',\n                editor: 'SelectIconEditor',\n                editorOptions: {\n                    label: 'Boundary',\n                    options: [\"clamped\", \"open\", \"closed\" ]\n                }\n            },\n            {\n                key: 'button',\n                editor: 'Button',\n                editorOptions: {\n                    label: 'Copy ',\n                    text: 'as path',\n                    action: \"copy.path\"\n                }\n            }\n        ]\n    })\n\n    editor.registerInspector('star', (item) => {\n        return [         \n            {\n                key: 'isCurve',\n                editor: 'ToggleCheckBox',\n                editorOptions: {\n                    label: 'Curve',\n                    // toggleLabels: ['Curve', 'Not Curve'],\n                    defaultValue: item.isCurve,\n                }\n            },\n            {\n                key: 'count',\n                editor: 'NumberRangeEditor',\n                editorOptions: {\n                    label: 'Count',\n                    min: 1,\n                    max: 100,\n                    step: 1\n                }\n            },\n            {\n                key: 'radius',\n                editor: 'NumberRangeEditor',\n                editorOptions: {\n                    label: 'Inner Radius',\n                    min: -1,\n                    max: 1,\n                    step: 0.01\n                }\n            },\n            {\n                key: 'tension',\n                editor: 'NumberRangeEditor',\n                editorOptions: {\n                    label: 'Tension',\n                    min: 0,\n                    max: 1,\n                    step: 0.01\n                }\n            },\n            {\n                key: 'button',\n                editor: 'Button',\n                editorOptions: {\n                    label: 'Copy ',\n                    text: 'as path',\n                    action: \"copy.path\"\n                }\n            }       \n\n        ]\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport LayerTreeProperty from \"./LayerTreeProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        LayerTreeProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BackgroundClipProperty from \"./BackgroundClipProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        BackgroundClipProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BorderImageProperty from \"./BorderImageProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        BorderImageProperty        \n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport FilterProperty from \"./FilterProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        FilterProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BackdropFilterProperty from \"./BackdropFilterProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        BackdropFilterProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport BoxShadowEditor from \"./BoxShadowEditor\";\nimport BoxShadowProperty from \"./BoxShadowProperty\";\nimport BoxShadowPropertyPopup from \"./BoxShadowPropertyPopup\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        BoxShadowEditor\n    })\n\n    editor.registerMenuItem('inspector.tab.style', {\n        BoxShadowProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        BoxShadowPropertyPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ClipPathPopup from \"./ClipPathPopup\";\nimport ClipPathProperty from \"./ClipPathProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        ClipPathProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        ClipPathPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport GradientAssetsProperty from \"./GradientAssetsProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n\n    editor.registerElement({\n        GradientAssetsProperty\n    })\n    \n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ExportProperty from \"./ExportProperty\";\n\n\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.style', {\n        ExportProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport TransitionProperty from \"./TransitionProperty\";\nimport TransitionPropertyPopup from \"./TransitionPropertyPopup\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.transition', {\n        TransitionProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        TransitionPropertyPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport KeyframePopup from \"./KeyframePopup\";\nimport KeyframeProperty from \"./KeyframeProperty\";\nimport OffsetEditor from \"./OffsetEditor\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        OffsetEditor\n    })\n\n    editor.registerMenuItem('inspector.tab.transition', {\n        KeyframeProperty\n    })\n\n    editor.registerMenuItem('popup', {\n        KeyframePopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport AnimationProperty from \"./AnimationProperty\";\nimport AnimationPropertyPopup from \"./AnimationPropertyPopup\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.transition', {\n        AnimationProperty\n    });\n\n    editor.registerMenuItem('popup', {\n        AnimationPropertyPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport SelectorPopup from \"./SelectorPopup\";\nimport SelectorProperty from \"./SelectorProperty\";\n\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.transition', {\n        SelectorProperty   \n    })\n\n    editor.registerMenuItem('popup', {\n        SelectorPopup\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport CodeViewProperty from \"./CodeViewProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.code', {\n        CodeViewProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport HistoryProperty from \"./HistoryProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerMenuItem('inspector.tab.history', {\n        HistoryProperty\n    })\n}","import { Editor } from \"el/editor/manager/Editor\";\nimport ProjectProperty from \"./ProjectProperty\";\n\n/**\n * \n * @param {Editor} editor \n */\nexport default function (editor) {\n    editor.registerElement({\n        ProjectProperty\n    })\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ObjectItems.scss';\n\nexport default class ObjectItems extends EditorElement {\n  template() {\n    return /*html*/`\n        <div class=\"object-items\">\n          <div>\n            <object refClass=\"ProjectProperty\" />\n          </div>\n          <div>\n            <object refClass=\"LayerTreeProperty\" />\n          </div>\n        </div>\n    `;\n  }\n\n}","\nimport { CLICK, DRAGSTART, LOAD, SUBSCRIBE } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './CustomAssets.scss';\n\nexport default class CustomAssets extends EditorElement {\n  template() {\n\n    return /*html*/`\n      <div class='elf--custom-assets'>\n        <div class='custom-assets-tools'>\n          <div class='title'><label>Custom Assets</label></div>\n          <div class='tools'>\n            <button type=\"button\" ref='$addCustomAsset'>${iconUse('add')}</button>\n          </div>\n        </div>\n        <div class='elf--asset-list' ref='$list'></div>\n      </div>\n    `;\n  }\n\n  async [LOAD('$list')] () {\n    const data = await this.$storageManager.getCustomAssetList()\n    return data.map(it => {\n      return /*html*/`\n        <div class='asset-preview' draggable=\"true\" data-preview-id=\"${it.id}\">\n          <div class='thumbnail'><img src='${it.preview}' /></div>\n          <div class='tools'>\n            <div class='title'>${it.component.name}</div>\n            <div class='buttons'>\n              <button type=\"button\" class='remove-asset-preview' data-tooltip=\"remove asset\" data-preview-id=\"${it.id}\">${iconUse('remove')}</button>\n            </div>\n          </div>\n        </div>\n      `\n    })\n  }\n\n  async [CLICK('$list .remove-asset-preview')] (e) {\n\n    if (confirm(this.$i18n('app.confirm.message.artboard.items.removeCustomAsset'))) {\n\n      const id = e.$dt.data('preview-id');\n\n      await this.$storageManager.removeCustomAsset(id);\n      this.refresh();\n    }\n\n  }\n\n  [DRAGSTART('$list .asset-preview')] (e) {\n    const id = e.$dt.data('preview-id');\n    e.dataTransfer.effectAllowed = \"copy\";\n    e.dataTransfer.setData(\"text/asset\", id);\n  }\n\n  [CLICK('$addCustomAsset')] (e) {\n    this.emit('savePNG', async (datauri) => {\n      await this.$storageManager.saveCustomAsset(datauri);\n      this.refresh();\n    })\n  }\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './LibraryItems.scss';\n\nexport default class LibraryItems extends EditorElement {\n\n  template() {\n    return /*html*/`\n      <div class='elf--library-items'>\n        <div>\n          <object label=\"Search\" refClass=\"TextEditor\" key=\"search\" onchange=${this.subscribe((key, value) => {\n            this.broadcast('search', value);\n          }, 300)} />\n        </div>\n        ${this.$injectManager.generate('library')}\n      </div>\n    `;\n  }\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nexport default class AssetItems extends EditorElement {\n\n  template() {\n    return /*html*/`\n      <div class='asset-items'>\n        ${this.$injectManager.generate('asset')}\n      </div>\n    `;\n  }\n\n}","import { BIND, CLICK } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\n\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport ObjectItems from \"./object-list/ObjectItems\";\nimport CustomAssets from \"./object-list/CustomAssets\";\nimport LibraryItems from \"./object-list/LibraryItems\";\nimport AssetItems from \"./object-list/AssetItems\";\n\n\n\nexport default class LayerTab extends EditorElement {\n\n  components() {\n    return {\n      AssetItems,\n      LibraryItems,\n      CustomAssets,\n      ObjectItems,\n    }\n  }\n\n  initState() {\n    return {\n      selectedIndexValue: 2\n    }\n  }\n  afterRender() {\n    this.$el.toggle(this.$config.get('editor.design.mode') === 'design');\n  }\n\n  [BIND('$el')] () {\n    return {\n      style: {\n        display: this.$config.get('editor.design.mode') === 'design' ? 'block' : 'none'\n      }\n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class='layer-tab'>\n        <div class=\"tab number-tab side-tab side-tab-left\" data-selected-value=\"2\" ref=\"$tab\">\n          <div class=\"tab-header\" ref=\"$header\">   \n            <div class=\"tab-item selected\" data-value=\"2\" data-direction=\"right\" data-tooltip=\"${this.$i18n('app.tab.title.layers')}\">\n              <label>${iconUse('layers')}</label>\n            </div>            \n            <div class='tab-item' data-value='3' data-direction=\"right\"  data-tooltip=\"${this.$i18n('app.tab.title.libraries')}\">\n              <label>${iconUse(\"auto_awesome\")}</label>\n            </div>                     \n            <div class='tab-item' data-value='5' data-direction=\"right\"  data-tooltip=\"${this.$i18n('app.tab.title.assets')}\">\n              <label>${iconUse(\"apps\")}</label>\n            </div>   \n            <div class='tab-item' data-value='6' data-direction=\"right\"  data-tooltip=\"${this.$i18n('app.tab.title.components')}\">\n              <label>${iconUse(\"plugin\")}</label>\n            </div>            \n\n            ${this.$injectManager.getTargetMenuItems('leftbar.tab').map(it => {\n              const { value, title} = it.class;   \n              \n              let iconString = it.class.icon;\n              if (icon[it.class.icon]) {\n                iconString = iconUse(it.class.icon);\n              }\n              return /*html*/`\n                <div class='tab-item' data-value='${value}' data-direction=\"right\"  data-tooltip=\"${title}\">\n                  <label>${iconString || title}</label>\n                </div>\n              `\n            })}\n\n          </div>\n          <div class=\"tab-body\" ref=\"$body\">\n            <div class=\"tab-content selected\" data-value=\"2\">\n              <object refClass=\"ObjectItems\" />\n            </div>\n            <div class='tab-content' data-value='3'>\n              <object refClass=\"LibraryItems\" />\n            </div>            \n            <div class='tab-content' data-value='5'>\n              <object refClass=\"AssetItems\" />            \n              <div class='assets'>\n                <object refClass=\"GradientAssetsProperty\" />    \n                <object refClass=\"PatternAssetsProperty\" />    \n                <object refClass=\"ImageAssetsProperty\" />      \n                <object refClass=\"VideoAssetsProperty\" />       \n                <object refClass=\"SVGFilterAssetsProperty\" />                \n              </div>\n            </div>\n            <div class='tab-content' data-value='6'>\n              <object refClass=\"CustomAssets\" />\n            </div>\n            ${this.$injectManager.getTargetMenuItems('leftbar.tab').map(it => {\n              const { value } = it.class;\n              return /*html*/`\n                <div class='tab-content' data-value='${value}'>\n                  ${this.$injectManager.generate(`leftbar.tab.${value}`)}\n                </div>\n              `\n            })}\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  [CLICK(\"$header .tab-item:not(.extra-item)\")](e) {\n\n    var selectedIndexValue = e.$dt.attr('data-value')\n    if (this.state.selectedIndexValue === selectedIndexValue) {\n      return; \n    }\n\n    this.$el.$$(`[data-value=\"${this.state.selectedIndexValue}\"]`).forEach(it => it.removeClass('selected'))\n    this.$el.$$(`[data-value=\"${selectedIndexValue}\"]`).forEach(it => it.addClass('selected'))\n    this.setState({ selectedIndexValue }, false);\n  }\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { LOAD } from 'el/sapa/Event';\nimport icon from 'el/editor/icon/icon';\nimport { isString } from 'el/sapa/functions/func';\n\n\nexport default class IconManager extends EditorElement {\n\n  template() {\n    return /*html*/`\n      <svg viewBox=\"0 0 30 10\" xmlns=\"http://www.w3.org/2000/svg\" ref=\"$list\" style=\"display:none;\">\n      </svg>\n    `;\n  }\n\n  [LOAD('$list')] () {\n    return Object.entries(icon).map(([key, value]) => {\n      if (isString(value) === false ) return '';\n      return value.replace(/\\<svg/g, `<svg id=\"icon-${key}\"`);\n    })\n  }\n}","import { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport './ObjectItems.scss';\n\nexport default class SingleObjectItems extends EditorElement {\n  template() {\n    return /*html*/`\n        <div class=\"object-items single\">\n          <div>\n            <object refClass=\"LayerTreeProperty\" />\n          </div>\n        </div>\n    `;\n  }\n\n}","import { BIND, CLICK } from \"el/sapa/Event\";\nimport icon, { iconUse } from \"el/editor/icon/icon\";\n\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\n\nimport CustomAssets from \"./object-list/CustomAssets\";\nimport LibraryItems from \"./object-list/LibraryItems\";\nimport AssetItems from \"./object-list/AssetItems\";\nimport SingleObjectItems from './object-list/SingleObjectItems';\n\n\n\nexport default class ItemLayerTab extends EditorElement {\n\n  components() {\n    return {\n      AssetItems,\n      LibraryItems,\n      CustomAssets,\n      SingleObjectItems,\n    }\n  }\n\n  initState() {\n    return {\n      selectedIndexValue: 2\n    }\n  }\n\n  afterRender() {\n    this.$el.toggle(this.$config.get('editor.design.mode') === 'item');\n  }\n\n  [BIND('$el')] () {\n    return {\n      style: {\n        display: this.$config.get('editor.design.mode') === 'item' ? 'block' : 'none'\n      }\n    }\n  }\n\n  template() {\n\n    return /*html*/`\n      <div class='layer-tab'>\n        <div class=\"tab number-tab side-tab side-tab-left\" data-selected-value=\"2\" ref=\"$tab\">\n          <div class=\"tab-header\" ref=\"$header\">   \n            <div class=\"tab-item selected\" data-value=\"2\" data-direction=\"right\" data-tooltip=\"${this.$i18n('app.tab.title.layers')}\">\n              <label>${iconUse('layers')}</label>\n            </div>            \n            <div class='tab-item' data-value='6' data-direction=\"right\"  data-tooltip=\"${this.$i18n('app.tab.title.components')}\">\n              <label>${iconUse(\"plugin\")}</label>\n            </div>            \n\n            ${this.$injectManager.getTargetMenuItems('leftbar.tab').filter(it => {\n              return it.class.designMode && it.class.designMode.includes('item');\n            }).map(it => {\n              const { value, title} = it.class;   \n              \n              let iconString = it.class.icon;\n              if (icon[it.class.icon]) {\n                iconString = iconUse(it.class.icon);\n              }\n              return /*html*/`\n                <div class='tab-item' data-value='${value}' data-direction=\"right\"  data-tooltip=\"${title}\">\n                  <label>${iconString || title}</label>\n                </div>\n              `\n            })}\n\n          </div>\n          <div class=\"tab-body\" ref=\"$body\">\n            <div class=\"tab-content selected\" data-value=\"2\">\n              <object refClass=\"SingleObjectItems\" />\n            </div>\n            <div class='tab-content' data-value='6'>\n              <object refClass=\"CustomAssets\" />\n            </div>\n            ${this.$injectManager.getTargetMenuItems('leftbar.tab').filter(it => {\n              return it.class.designMode && it.class.designMode.includes('item');\n            }).map(it => {\n              const { value } = it.class;\n              return /*html*/`\n                <div class='tab-content' data-value='${value}'>\n                  ${this.$injectManager.generate(`leftbar.tab.${value}`)}\n                </div>\n              `\n            })}\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  [CLICK(\"$header .tab-item:not(.extra-item)\")](e) {\n\n    var selectedIndexValue = e.$dt.attr('data-value')\n    if (this.state.selectedIndexValue === selectedIndexValue) {\n      return; \n    }\n\n    this.$el.$$(`[data-value=\"${this.state.selectedIndexValue}\"]`).forEach(it => it.removeClass('selected'))\n    this.$el.$$(`[data-value=\"${selectedIndexValue}\"]`).forEach(it => it.addClass('selected'))\n    this.setState({ selectedIndexValue }, false);\n  }\n}","\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { BIND } from \"el/sapa/Event\";\n\nexport default class SingleInspector extends EditorElement {\n\n  afterRender() {\n    this.$el.toggle(this.$config.get('editor.design.mode') === 'item');\n  }\n\n  [BIND('$el')] () {\n    return {\n      style: {\n        display: this.$config.get('editor.design.mode') === 'item' ? 'block' : 'none'\n      }\n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class=\"feature-control inspector\">\n        <div>\n              <object refClass=\"AlignmentProperty\" />\n              <object refClass=\"DepthProperty\" />              \n              <object refClass=\"PathToolProperty\" />              \n\n              <!-- Default Property --> \n              <object refClass=\"PositionProperty\" />\n              <object refClass=\"AppearanceProperty\" />                                   \n\n              ${this.$injectManager.generate('inspector.tab.style')}                             \n              <div class='empty'></div>\n        </div>\n      </div>\n    `;\n  }\n}","import { DRAGOVER, DROP, PREVENT, TRANSITIONEND, POINTERSTART, BIND, SUBSCRIBE, CONFIG, SUBSCRIBE_SELF } from \"el/sapa/Event\";\n\nimport { Length } from \"el/editor/unit/Length\";\n\nimport BaseLayout from \"../common/BaseLayout\"; \nimport BodyPanel from \"../common/BodyPanel\";\nimport PopupManager from \"../common/PopupManager\";\nimport KeyboardManager from \"../common/KeyboardManager\";\n\nimport Inspector from \"./area/Inspector\";\nimport StatusBar from './area/StatusBar';\nimport ToolBar from \"./area/ToolBar\";\n\nimport designEditorPlugins from \"plugins/design-editor-plugins\";\nimport LayerTab from \"./area/LayerTab\";\nimport { END, MOVE } from \"el/editor/types/event\";\nimport { isFunction } from 'el/sapa/functions/func';\nimport IconManager from '../common/IconManager';\nimport PathKitInit from \"pathkit-wasm/bin/pathkit.js\";\nimport ItemLayerTab from \"./area/ItemLayerTab\";\nimport SingleInspector from './area/SingleInspector';\n\n// import './web-component/MyElement';\n\nexport default class DesignEditor extends BaseLayout {\n\n  initialize() {\n    super.initialize();\n\n    (async () => {\n      this.$pathkit.registerPathKit(await PathKitInit());\n    })()\n  }\n\n  components() {\n    return {\n      LayerTab,\n      ItemLayerTab,\n      ToolBar,\n      StatusBar,\n      Inspector,\n      SingleInspector,\n      BodyPanel,\n      PopupManager,\n      KeyboardManager,\n      IconManager\n    }\n  }\n\n  getPlugins() {\n    return designEditorPlugins\n  }\n\n  initState() {\n    return {\n      leftSize: 340,\n      rightSize: 280,\n      bottomSize: 0,\n      lastBottomSize: 150\n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class=\"designeditor\">\n        <div class=\"layout-main\">\n          <div class='layout-top' ref='$top'>\n            <object refClass=\"ToolBar\" />\n          </div>\n          <div class=\"layout-middle\" ref='$middle'>      \n            <div class=\"layout-body\" ref='$bodyPanel'>\n              <object refClass=\"BodyPanel\" ref=\"$bodyPanelView\" />\n            </div>                           \n            <div class='layout-left' ref='$leftPanel'>\n              <object refClass='LayerTab' />\n              <object refClass='ItemLayerTab' />\n            </div>\n            <div class=\"layout-right\" ref='$rightPanel'>\n              <object refClass='Inspector' />\n              <object refClass=\"SingleInspector\" />\n            </div>\n\n            <div class='layout-footer' ref='$footerPanel'>\n              <div class='footer-splitter' ref='$footerSplitter' title=\"${this.$i18n('timeline.property.resize')}\"></div>\n              <object refClass='TimelineProperty' />\n            </div>   \n            <div class='splitter' ref='$splitter'></div>\n          </div>\n          <object refClass='StatusBar' />\n          <object refClass=\"KeyboardManager\" />                \n        </div>\n        <object refClass=\"PopupManager\" />\n        <object refClass=\"IconManager\" />        \n      </div>\n    `;\n  }\n\n  [BIND('$el')] () {\n    return {\n      'data-design-mode': this.$config.get('editor.design.mode')\n    }\n  }\n\n  [BIND('$splitter')] () {\n    let left = `${this.state.leftSize}px`    \n    if (this.$config.false('show.left.panel')) {\n      left = `0px`\n    }\n\n    return {\n      style: { left }\n    }\n  }\n\n  [BIND('$leftPanel')] () {\n    let left = `0px`    \n    let width = Length.px(this.state.leftSize);\n    let bottom = Length.px(this.state.bottomSize);\n    if (this.$config.false('show.left.panel')) {\n      left = `-${this.state.leftSize}px`    \n    }\n\n    return {\n      style: { left, width, bottom }\n    }\n  }  \n\n  [BIND('$rightPanel')] () {\n    let right = `0px`    \n    let bottom = Length.px(this.state.bottomSize);    \n    if (this.$config.false('show.right.panel')) {\n      right = `-${this.state.rightSize}px`    \n    }\n\n    return {\n      style: { right, bottom }\n    }\n  }    \n\n  [BIND('$bodyPanel')] () {\n   \n    let left = `${this.state.leftSize}px`\n    let right = `${this.state.rightSize}px`\n    let bottom = `${this.state.bottomSize}px`\n\n    if (this.$config.false('show.left.panel')) {\n      left = `0px`\n    }\n\n    if (this.$config.false('show.right.panel')) {\n      right = `0px`\n    }\n\n    return {\n      style: { left, right, bottom }\n    }\n  }  \n  \n\n  [BIND('$footerPanel')] () {\n   \n    let height = Length.px(this.state.bottomSize);\n \n    return {\n      style: { height }\n    }\n  }    \n\n  [POINTERSTART('$splitter') + MOVE('moveSplitter') + END('moveEndSplitter')] () {\n\n    this.minSize = this.$theme('left_size');\n    this.maxSize = this.$theme('left_max_size');\n    this.leftSize = Length.parse(this.refs.$splitter.css('left')).value;\n    this.refs.$splitter.addClass('selected');\n  }\n\n  moveSplitter (dx) {\n    this.setState({\n      leftSize: Math.max(Math.min(this.leftSize + dx, this.maxSize), this.minSize)\n    })\n\n  }\n\n\n\n  moveEndSplitter () {\n    this.refs.$splitter.removeClass('selected');\n  }\n\n  [POINTERSTART('$footerSplitter') + MOVE('moveFooterSplitter')] () {\n\n    this.minFooterSize = this.$theme('bottom_size');\n    this.maxFooterSize = this.$theme('bottom_max_size');\n    this.bottomSize = Length.parse(this.refs.$footerPanel.css('height')).value;\n  }\n\n  moveFooterSplitter (_, dy) {\n    const bottomSize = Math.max(Math.min(this.bottomSize - dy , this.maxFooterSize), this.minFooterSize)\n    this.setState({\n      bottomSize,\n      lastBottomSize: bottomSize      \n    })\n\n    // this.trigger('changeTimelineHeight');\n  }  \n\n  // [SUBSCRIBE('changeTimelineHeight') + THROTTLE(100)] () {\n  //   this.emit('refreshTimeline')\n  // }\n\n  refresh () {\n\n    this.bindData('$el');\n    this.bindData('$splitter');\n    this.bindData('$headerPanel');    \n    this.bindData('$leftPanel');\n    this.bindData('$rightPanel');\n    this.bindData('$toggleRightButton');\n    this.bindData('$toggleLeftButton');            \n    this.bindData('$bodyPanel');  \n    this.bindData('$footerPanel');        \n    \n    this.emit('resizeEditor');    \n  }\n\n  [CONFIG('show.left.panel')]() {\n    this.refresh();\n    this.nextTick(() => {\n      this.emit('resizeCanvas');\n    })\n  }\n\n  [CONFIG('show.right.panel')]() {\n    this.refresh();\n    this.nextTick(() => {\n      this.emit('resizeCanvas');\n    })\n  }  \n\n  [CONFIG('editor.design.mode')] () {\n    this.bindData('$el');\n  }\n\n\n  [SUBSCRIBE('toggleFooter')] (isShow) {\n    this.$el.toggleClass('show-footer', isShow);\n\n    if (this.$el.hasClass('show-footer')) {\n      if (this.state.bottomSize === 30) {\n        this.state.bottomSize = this.state.lastBottomSize || this.$theme('bottom_size');\n      }\n    } else {\n      this.state.bottomSize = 30\n    }\n\n    this.refresh();\n\n  }\n\n  [TRANSITIONEND('$el .layout-footer')] (e) {\n    this.emit('toggleFooterEnd');\n\n  }\n\n  /** 드랍존 설정을 위해서 남겨놔야함 */\n  [DRAGOVER('$middle') + PREVENT] (e) {}\n  [DROP('$middle') + PREVENT] (e) {}\n  /** 드랍존 설정을 위해서 남겨놔야함 */  \n\n  [SUBSCRIBE('toggle.fullscreen')] () {\n    this.$el.toggleFullscreen();\n  }\n\n  [SUBSCRIBE('getLayoutElement')] (callback) {\n    if (isFunction(callback)) {\n      callback(this.refs);\n    }\n  }\n}","import MenuItem from \"el/editor/ui/menu-items/MenuItem\";\nimport HTMLLayerRender from 'plugins/renderer-html/HTMLRenderer/LayerRender';\nimport * as Event from \"el/sapa/Event\";\nimport { EditorElement } from \"el/editor/ui/common/EditorElement\";\nimport { Editor } from \"el/editor/manager/Editor\";\nimport { Length } from \"el/editor/unit/Length\";\nimport BaseProperty from \"el/editor/ui/property/BaseProperty\";\nimport icon from \"el/editor/icon/icon\";\nimport { Component } from 'el/editor/model/Component';\nimport PathParser from \"el/editor/parser/PathParser\";\nimport { Segment } from \"el/editor/parser/Segment\";\nimport Point from \"el/editor/parser/Point\";\n\n\nexport default {\n    EditorInstance: Editor,\n    Length,\n    EditorElement,\n    HTMLLayerRender,\n    Component,\n    MenuItem,\n    BaseProperty,\n    PathParser,\n    Segment,\n    Point,\n    icon,\n    ...Event\n}","import \"../../scss/index.scss\";\nimport \"./layout.scss\"\nimport DesignEditor from \"./DesignEditor\";\nimport * as App from 'el/sapa/App'\nimport exportLibrary from \"export-library/\";\n\nexport default {\n  createDesignEditor(opts = { type: \"white\" }) {\n\n    return App.start(DesignEditor, {\n      ...opts\n    });\n  },\n  ...exportLibrary\n};\n"],"sourceRoot":""}