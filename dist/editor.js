!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.EasylogicStudio=e():t.EasylogicStudio=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"randomNumber",(function(){return b})),n.d(r,"randomByCount",(function(){return m})),n.d(r,"random",(function(){return g})),n.d(r,"randomRGBA",(function(){return w}));var o={};n.r(o),n.d(o,"round",(function(){return I})),n.d(o,"degreeToRadian",(function(){return L})),n.d(o,"div",(function(){return M})),n.d(o,"radianToDegree",(function(){return z})),n.d(o,"getXInCircle",(function(){return B})),n.d(o,"getYInCircle",(function(){return F})),n.d(o,"getXYInCircle",(function(){return H})),n.d(o,"getDist",(function(){return G})),n.d(o,"calculateAngle",(function(){return Y})),n.d(o,"calculateAngleByPoints",(function(){return X})),n.d(o,"calculateAnglePointDistance",(function(){return N})),n.d(o,"calculateAngle360",(function(){return K})),n.d(o,"uuid",(function(){return U})),n.d(o,"uuidShort",(function(){return Z})),n.d(o,"cubicBezier",(function(){return tt})),n.d(o,"getGradientLine",(function(){return et})),n.d(o,"CCW",(function(){return nt})),n.d(o,"incircle",(function(){return rt})),n.d(o,"initPolygon",(function(){return ot})),n.d(o,"Deluanay",(function(){return at})),n.d(o,"generate_sample_points",(function(){return ct})),n.d(o,"getCenterInTriangle",(function(){return ut})),n.d(o,"normalize",(function(){return lt}));var i={};n.r(i),n.d(i,"collectProps",(function(){return Xt})),n.d(i,"debounce",(function(){return Nt})),n.d(i,"throttle",(function(){return Kt})),n.d(i,"keyEach",(function(){return Wt})),n.d(i,"keyMap",(function(){return Ut})),n.d(i,"keyMapJoin",(function(){return Zt})),n.d(i,"get",(function(){return qt})),n.d(i,"defaultValue",(function(){return Jt})),n.d(i,"isUndefined",(function(){return Qt})),n.d(i,"isNotUndefined",(function(){return te})),n.d(i,"isArray",(function(){return ee})),n.d(i,"isBoolean",(function(){return ne})),n.d(i,"isString",(function(){return re})),n.d(i,"isNotString",(function(){return oe})),n.d(i,"isObject",(function(){return ie})),n.d(i,"isFunction",(function(){return ae})),n.d(i,"isNumber",(function(){return ce})),n.d(i,"clone",(function(){return ue})),n.d(i,"cleanObject",(function(){return se})),n.d(i,"combineKeyArray",(function(){return le})),n.d(i,"repeat",(function(){return fe})),n.d(i,"randomItem",(function(){return pe})),n.d(i,"html",(function(){return he})),n.d(i,"CSS_TO_STRING",(function(){return de})),n.d(i,"STRING_TO_CSS",(function(){return ve})),n.d(i,"OBJECT_TO_PROPERTY",(function(){return be})),n.d(i,"OBJECT_TO_CLASS",(function(){return me})),n.d(i,"TAG_TO_STRING",(function(){return ge})),n.d(i,"mapjoin",(function(){return we})),n.d(i,"isArrayEquals",(function(){return Oe})),n.d(i,"splitMethodByKeyword",(function(){return ke})),n.d(i,"curveToPath",(function(){return je})),n.d(i,"curveToPointLine",(function(){return Se}));var a={};n.r(a),n.d(a,"format",(function(){return Pe})),n.d(a,"hex",(function(){return xe})),n.d(a,"rgb",(function(){return _e})),n.d(a,"hsl",(function(){return Ee}));var c={};n.r(c),n.d(c,"ReverseXyz",(function(){return $e})),n.d(c,"ReverseRGB",(function(){return Ce})),n.d(c,"XYZtoRGB",(function(){return Te})),n.d(c,"LABtoXYZ",(function(){return Re})),n.d(c,"PivotXyz",(function(){return De})),n.d(c,"XYZtoLAB",(function(){return Ve})),n.d(c,"LABtoRGB",(function(){return Ae}));var u={};n.r(u),n.d(u,"RGBtoHSV",(function(){return Ie})),n.d(u,"RGBtoCMYK",(function(){return Le})),n.d(u,"RGBtoHSL",(function(){return Me})),n.d(u,"c",(function(){return ze})),n.d(u,"gray",(function(){return Be})),n.d(u,"RGBtoSimpleGray",(function(){return Fe})),n.d(u,"RGBtoGray",(function(){return He})),n.d(u,"brightness",(function(){return Ge})),n.d(u,"RGBtoYCrCb",(function(){return Ye})),n.d(u,"PivotRGB",(function(){return Xe})),n.d(u,"RGBtoXYZ",(function(){return Ne})),n.d(u,"RGBtoLAB",(function(){return Ke}));var s={};n.r(s),n.d(s,"CMYKtoRGB",(function(){return We}));var l={};n.r(l),n.d(l,"HSVtoRGB",(function(){return Ue})),n.d(l,"HSVtoHSL",(function(){return Ze}));var f={};n.r(f),n.d(f,"HUEtoRGB",(function(){return qe})),n.d(f,"HSLtoHSV",(function(){return Je})),n.d(f,"HSLtoRGB",(function(){return Qe}));var p={};n.r(p),n.d(p,"YCrCbtoRGB",(function(){return tn}));var h={};n.r(h),n.d(h,"getColorIndexString",(function(){return sn})),n.d(h,"isColor",(function(){return ln})),n.d(h,"matches",(function(){return fn})),n.d(h,"convertMatches",(function(){return pn})),n.d(h,"convertMatchesArray",(function(){return yn})),n.d(h,"reverseMatches",(function(){return hn})),n.d(h,"trim",(function(){return vn})),n.d(h,"parse",(function(){return bn})),n.d(h,"parseGradient",(function(){return mn}));var d={};n.r(d),n.d(d,"interpolateRGB",(function(){return gn})),n.d(d,"interpolateRGBObject",(function(){return wn})),n.d(d,"scale",(function(){return On})),n.d(d,"blend",(function(){return kn})),n.d(d,"mix",(function(){return jn})),n.d(d,"contrast",(function(){return Sn})),n.d(d,"contrastColor",(function(){return Pn})),n.d(d,"gradient",(function(){return xn})),n.d(d,"scaleHSV",(function(){return _n})),n.d(d,"scaleH",(function(){return En})),n.d(d,"scaleS",(function(){return $n})),n.d(d,"scaleV",(function(){return Cn}));var v={};n.r(v),n.d(v,"start",(function(){return fd}));n(0);function b(t,e){return Math.floor(Math.random()*(e-t+1))+t}function m(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[],n=0;n<t;n++)e[e.length]=g();return e}function g(){return _e({r:b(0,255),g:b(0,255),b:b(0,255)})}function w(){return _e({r:b(0,255),g:b(0,255),b:b(0,255),a:b(0,1e3)/1e3})}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var j={center:50,top:0,left:0,right:100,bottom:100},S=function t(){k(this,t)};S.CENTER="center",S.TOP="top",S.RIGHT="right",S.LEFT="left",S.BOTTOM="bottom";var P=/([\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi,_=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(k(this,t),this.value=e,ce(this.value)&&isNaN(this.value))throw new Error("NaN is not able to set");this.unit=n}var e,n,r;return e=t,n=[{key:Symbol.toPrimitive,value:function(t){return"number"==t?this.value:this.toString()}},{key:"toString",value:function(){switch(this.unit){case"string":case"number":return this.value+"";case"var":return"var(--".concat(this.value,")");case"calc":return"calc(".concat(this.value,")");default:return this.value+this.unit}}},{key:"isUnitType",value:function(t){return this.unit===t}},{key:"isCalc",value:function(){return this.isUnitType("calc")}},{key:"isFr",value:function(){return this.isUnitType("fr")}},{key:"isPercent",value:function(){return this.isUnitType("%")}},{key:"isPx",value:function(){return this.isUnitType("px")}},{key:"isEm",value:function(){return this.isUnitType("em")}},{key:"isDeg",value:function(){return this.isUnitType("deg")}},{key:"isRad",value:function(){return this.isUnitType("rad")}},{key:"isTurn",value:function(){return this.isUnitType("turn")}},{key:"isSecond",value:function(){return this.isUnitType("s")}},{key:"isMs",value:function(){return this.isUnitType("ms")}},{key:"isNumber",value:function(){return this.isUnitType("number")}},{key:"isString",value:function(){return this.isUnitType("")}},{key:"isVar",value:function(){return this.isUnitType("--")}},{key:"isNaN",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return ce(this.value)&&isNaN(this.value)}))},{key:"set",value:function(t){return this.value=t,this}},{key:"add",value:function(t){return this.value+=+t,this}},{key:"sub",value:function(t){return this.add(-1*t)}},{key:"mul",value:function(t){return this.value*=+t,this}},{key:"div",value:function(t){return this.value/=+t,this}},{key:"mod",value:function(t){return this.value%=+t,this}},{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"getUnitName",value:function(){return"%"===this.unit?"percent":this.unit}},{key:"toJSON",value:function(){return this.toString()}},{key:"rate",value:function(t){return t/this.value}},{key:"stringToPercent",value:function(){return te(j[this.value])?t.percent(j[this.value]):t.percent(0)}},{key:"stringToEm",value:function(t){return this.stringToPercent().toEm(t)}},{key:"stringToPx",value:function(t){return this.stringToPercent().toPx(t)}},{key:"toPercent",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?this.clone():this.isPx()?t.percent(100*this.value/e):this.isEm()?t.percent(this.value*n*100/e):this.isString()?this.stringToPercent(e):this.isDeg()?t.percent(this.value/360*100):void 0}},{key:"toEm",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?t.em(this.value/100*e/n):this.isPx()?t.em(this.value/n):this.isEm()?this.clone():this.isString()?this.stringToEm(e):void 0}},{key:"toPx",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.isPercent()?t.px(this.value/100*e):this.isPx()?this.clone():this.isEm()?t.px(this.value/100*e/16):this.isString()?this.stringToPx(e):void 0}},{key:"toDeg",value:function(){return this.isDeg()?this.clone():this.isTurn()?t.deg(360*this.value):this.isRad()?t.deg(this.value*(180/Math.PI)):void 0}},{key:"toTurn",value:function(){return this.isTurn()?this.clone():this.isDeg()?t.turn(this.value/360):void 0}},{key:"toSecond",value:function(){return this.isSecond()?this:this.isMs()?t.second(this.value/1e3):void 0}},{key:"toMs",value:function(){return this.isSecond()?t.ms(1e3*this.value):this.isMs()?this:void 0}},{key:"to",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return"px"===t?this.toPx(e,n):"%"===t||"percent"===t?this.toPercent(e,n):"em"===t?this.toEm(e,n):"deg"===t?this.toDeg():"turn"===t?this.toTurn():void 0}},{key:"toUnit",value:function(e){return new t(this.value,e)}},{key:"calculate",value:function(t,e){var n=this[t];return n?n.call(this,e):this}},{key:"includes",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.includes(this.value)}},{key:"round",value:function(e){return new t(I(this.value,e),this.unit)}},{key:"floor",value:function(){return new t(Math.floor(this.value),this.unit)}},{key:"equals",value:function(t){return this.is(t.value)&&this.isUnitType(t.unit)}},{key:"is",value:function(t){return this.value===t}},{key:"clamp",value:function(e,n){return new t(Math.max(e,Math.min(n,this.value)),this.unit)}}],r=[{key:"min",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=0,i=e.length;o<i;o++)r.value>e[o].value&&(r=e[o]);return r}},{key:"max",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=0,i=e.length;o<i;o++)r.value<e[o].value&&(r=e[o]);return r}},{key:"string",value:function(e){return new t(e+"","")}},{key:"number",value:function(e){return new t(+e,"number")}},{key:"px",value:function(e){return new t(+e,"px")}},{key:"em",value:function(e){return new t(+e,"em")}},{key:"percent",value:function(e){return new t(+e,"%")}},{key:"deg",value:function(e){return new t(+e,"deg")}},{key:"rad",value:function(e){return new t(+e,"rad")}},{key:"turn",value:function(e){return new t(+e,"turn")}},{key:"fr",value:function(e){return new t(+e,"fr")}},{key:"second",value:function(e){return new t(+e,"s")}},{key:"ms",value:function(e){return new t(+e,"ms")}},{key:"var",value:function(e){return new t(e+"","--")}},{key:"z",value:function(){return t.px(0)}},{key:"calc",value:function(e){return new t(e,"calc")}},{key:"parse",value:function(e){if(re(e=e||t.number(0))){var n=(e=e.trim()).replace(P,"$1 $2").split(" ");return+n[0]==n[0]?new t(+n[0],n[1]):new t(n[0])}if(e instanceof t)return e;if(e.unit){if("%"==e.unit||"percent"==e.unit){var r=0;return te(e.percent)?r=e.percent:te(e.value)&&(r=e.value),t.percent(r)}if("px"==e.unit)return r=0,te(e.px)?r=e.px:te(e.value)&&(r=e.value),t.px(r);if("em"==e.unit)return r=0,te(e.em)?r=e.em:te(e.value)&&(r=e.value),t.em(r);if("deg"==e.unit)return r=0,te(e.deg)?r=e.deg:te(e.value)&&(r=e.value),t.deg(r);if("turn"==e.unit)return r=0,te(e.deg)?r=e.turn:te(e.value)&&(r=e.value),t.turn(r);if("s"==e.unit)return r=0,te(e.second)?r=e.second:te(e.value)&&(r=e.value),t.second(r);if("ms"==e.unit)return r=0,te(e.ms)?r=e.ms:te(e.value)&&(r=e.value),t.ms(r);if("number"==e.unit)return r=0,te(e.value)&&(r=e.value),t.number(r);if("--"==e.unit)return r=0,te(e.value)&&(r=e.value),t.var(r);if(""===e.unit||"string"===e.unit)return r="",te(e.str)?r=e.str:te(e.value)&&(r=e.value),t.string(r)}return t.string(e)}}],n&&O(e.prototype,n),r&&O(e,r),t}();function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}_.auto=_.string("auto");var $={create:function(t,e,n){return{x:t||0,y:e||0,z:n||0}},add:function(t,e){return{x:t.x+e.x,y:t.y+e.y,z:t.z+e.z}},sub:function(t,e){return{x:t.x-e.x,y:t.y-e.y,z:t.z-e.z}},mul:function(t,e){return{x:t.x*e.x,y:t.y*e.y,z:t.z*e.z}},div:function(t,e){return{x:t.x/e.x,y:t.y/e.y,z:t.z/e.z}},muls:function(t,e){return{x:t.x*e,y:t.y*e,z:t.z*e}},divs:function(t,e){return{x:t.x/e,y:t.y/e,z:t.z/e}},len:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},dot:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},cross2d:function(t,e){return t.x*e.y-t.y*e.x},cross:function(t,e){return{x:t.y*e.z-t.z*e.y,y:t.z*e.x-t.x*e.z,z:t.x*e.y-t.y*e.x}},normalize:function(t){return $.divs(t,$.len(t))},ang:function(t,e){return Math.acos($.dot(t,e)/($.len(t)*$.len(e)))},copy:function(t){return{x:t.x,y:t.y,z:t.z}},equal:function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z},rotate:function(t,e){var n=t.x,r=t.y,o=t.z,i=e.x/2,a=e.y/2,c=e.z/2,u=Math.cos(i),s=Math.cos(a),l=Math.cos(c),f=Math.sin(i),p=Math.sin(a),y=Math.sin(c),h=u*s*l+-f*p*y,d=f*s*l- -u*p*y,v=u*p*l+f*s*-y,b=u*s*y- -f*p*l;return{x:n*(1-2*(v*v+b*b))+r*(2*(d*v-b*h))+o*(2*(d*b+v*h)),y:n*(2*(d*v+b*h))+r*(1-2*(d*d+b*b))+o*(2*(v*b-d*h)),z:n*(2*(d*b-v*h))+r*(2*(b*v+d*h))+o*(1-2*(d*d+v*v))}}};function C(t,e){var n=t.m11,r=t.m21,o=t.m31,i=t.m41,a=t.m12,c=t.m22,u=t.m32,s=t.m42,l=t.m13,f=t.m23,p=t.m33,y=t.m43,h=t.m14,d=t.m24,v=t.m34,b=t.m44,m=e[0],g=e[1],w=e[2],O=e[3];return[m*n+g*a+w*l+O*h,m*r+g*c+w*f+O*d,m*o+g*u+w*p+O*v,m*i+g*s+w*y+O*b]}var T=function(t,e){return $.add(t,e)},R=function(t){var e=E(t,3);return{x:e[0],y:e[1],z:e[2]}};function D(t,e){for(var n=V(t),r=n.origin[0].toPx(t.offsetWidth).value,o=n.origin[1].toPx(t.offsetHeight).value,i={a:{x:-r,y:-o,z:0},b:{x:r,y:-o,z:0},c:{x:r,y:o,z:0},d:{x:-r,y:o,z:0}},a=[],c={x:0,y:0};1===t.nodeType;){var u=V(t);if(a.unshift({elem:t,matrix:u.matrix}),c.x+=u.position.x,c.y+=u.position.y,(t=t.parentNode)===e)break}console.log(n);var s=function(t){if(0===t.length)return{m11:1,m21:0,m31:0,m41:0,m12:0,m22:1,m32:0,m42:0,m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1};for(var e,n,r,o,i,a,c,u,s,l,f=t[0],p=1,y=t.length;p<y;p++)e=f,n=t[p],r=void 0,o=void 0,i=void 0,a=void 0,c=void 0,u=void 0,s=void 0,l=void 0,r=[n.m11,n.m21,n.m31,n.m41],o=[n.m12,n.m22,n.m32,n.m42],i=[n.m13,n.m23,n.m33,n.m43],a=[n.m14,n.m24,n.m34,n.m44],c=C(e,r),u=C(e,o),s=C(e,i),l=C(e,a),f={m11:c[0],m21:c[1],m31:c[2],m41:c[3],m12:u[0],m22:u[1],m32:u[2],m42:u[3],m13:s[0],m23:s[1],m33:s[2],m43:s[3],m14:l[0],m24:l[1],m34:l[2],m44:l[3]};return f}(a.map((function(t){return t.matrix})));return console.log(s),i.a=R(C(s,[i.a.x,i.a.y,0,1])),i.b=R(C(s,[i.b.x,i.b.y,0,1])),i.c=R(C(s,[i.c.x,i.c.y,0,1])),i.d=R(C(s,[i.d.x,i.d.y,0,1])),i.a=T(i.a,{x:c.x+r,y:c.y+o,z:0}),i.b=T(i.b,{x:c.x+r,y:c.y+o,z:0}),i.c=T(i.c,{x:c.x+r,y:c.y+o,z:0}),i.d=T(i.d,{x:c.x+r,y:c.y+o,z:0}),i.center={x:(i.a.x+i.c.x)/2,y:(i.a.y+i.c.y)/2,z:0},console.log(JSON.stringify(i)),i}function V(t){var e,n,r=getComputedStyle(t,null),o=_.parse(r.left).value,i=_.parse(r.top).value,a=E(r["transform-origin"].split(" ").map((function(t){return _.parse(t)})),3),c=a[0],u=a[1],s=a[2],l=function(t){var e=t.split(/\s*[(),]\s*/).slice(1,-1);if(6===e.length)return{m11:+e[0],m21:+e[2],m31:0,m41:+e[4],m12:+e[1],m22:+e[3],m32:0,m42:+e[5],m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1};if(16===e.length)return{m11:+e[0],m21:+e[4],m31:+e[8],m41:+e[12],m12:+e[1],m22:+e[5],m32:+e[9],m42:+e[13],m13:+e[2],m23:+e[6],m33:+e[10],m43:+e[14],m14:+e[3],m24:+e[7],m34:+e[11],m44:+e[15]};return{m11:1,m21:0,m31:0,m41:0,m12:0,m22:1,m32:0,m42:0,m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1}}(r.transform),f=Math.asin(-l.m13);return 0!==Math.cos(f)?(e=Math.atan2(l.m23,l.m33),n=Math.atan2(l.m12,l.m11)):(e=Math.atan2(-l.m31,l.m22),n=0),{matrix:l,origin:[c,u,s],position:{x:o,y:i,z:0},rotate:{x:e,y:f,z:n},translate:{x:l.m41,y:l.m42,z:l.m43}}}var A={matrix2d:{multiply:function(t){return function(e,n){var r=+e[n],o=+e[n+1];return[t[0][0]*r+t[0][1]*o+t[0][2],t[1][0]*r+t[1][1]*o+t[1][2],1]}},translate:function(t,e){return this.multiply([[1,0,t],[0,1,e],[0,0,1]])},rotate:function(t){return this.multiply([[Math.cos(t),Math.sin(t),0],[-Math.sin(t),Math.cos(t),0],[0,0,1]])},scale:function(t,e){return this.multiply([[t,0,0],[0,e,0],[0,0,1]])},skewX:function(t){return this.multiply([[1,Math.tan(t),0],[0,1,0],[0,0,1]])},skewY:function(t){return this.multiply([[1,0,0],[Math.tan(t),1,0],[0,0,1]])},flip:function(){return this.multiply([[-1,0,0],[0,-1,0],[0,0,1]])},flipX:function(){return this.multiply([[-1,0,0],[0,1,0],[0,0,1]])},flipY:function(){return this.multiply([[1,0,0],[0,-1,0],[0,0,1]])}},Vect3:$,addVector:T,rotateVector:function(t,e){return $.rotate(t,e)}};function I(t,e){return e=Qt(e)?1:e,Math.round(t*e)/e}function L(t){return t*Math.PI/180}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return 0===t?0:t/e}function z(t){var e=180*t/Math.PI;return e<0&&(e=360+e),e}function B(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n+e*Math.cos(L(t))}function F(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n+e*Math.sin(L(t))}function H(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:B(t,e,n),y:F(t,e,r)}}function G(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(r-e),2))}function Y(t,e){return z(Math.atan2(e,t))}function X(t,e){return Y(t.x,t.y)-Y(e.x,e.y)}function N(t,e,n){var r=Y(t.x-e.x,t.y-e.y);return Y(t.x+n.dx-e.x,t.y+n.dy-e.y)-r}function K(t,e){return(z(Math.atan2(e,t))+180)%360}var W=/[xy]/g;function U(){var t=(new Date).getTime();return"xxx12-xx-34xx".replace(W,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}function Z(){var t=(new Date).getTime();return"idxxxxxxx".replace(W,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}var q=function(t){return 3*t*t*(1-t)},J=function(t){return 3*t*(1-t)*(1-t)},Q=function(t){return(1-t)*(1-t)*(1-t)};function tt(t,e,n,r){var o=e,i=r;return function(t){return 1-(o*q(t)+i*J(t)+Q(t))}}function et(t,e){var n=Math.abs(e.width*Math.sin(t))+Math.abs(e.height*Math.cos(t)),r={x:e.x+e.width/2,y:e.y+e.height/2},o=Math.sin(t-Math.PI/2)*n/2,i=Math.cos(t-Math.PI/2)*n/2;return{length:n,center:r,start:{x:r.x-i,y:r.y-o},end:{x:r.x+i,y:r.y+o}}}function nt(t,e,n){return Qt(n)?$.cross2d(t,e):$.cross2d($.sub(e,t),$.sub(n,t))}function rt(t,e,n,r){var o=nt(t,e,n),i=t.x-r.x,a=t.y-r.y,c=e.x-r.x,u=e.y-r.y,s=n.x-r.x,l=n.y-r.y,f=(i*i+a*a)*(c*l-s*u)+(c*c+u*u)*(s*a-i*l)+(s*s+l*l)*(i*u-c*a);return o>0?f>=0:f<=0}function ot(t,e,n){for(var r=$.create(Math.min(e,n),Math.max(e,n)),o=-1,i=0,a=t.length;i<a;i++)if($.equal(t[i],r)){o=i;break}o>-1?t.splice(o,1):t.push(r)}function it(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function at(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.length;t[e]=$.create(-2e9,-2e9),t[e+1]=$.create(2e9,-2e9),t[e+2]=$.create(0,2e9);for(var n=[$.create(e,e+1,e+2)],r=0;r<e;r++){for(var o=[],i=new Array(n.length),a=0;a<n.length;a++){if(!i[a])if(f=n[a]){var c=t[f.x],u=t[f.y],s=t[f.z],l=t[r];rt(c,u,s,l)?(ot(o,f.x,f.y),ot(o,f.y,f.z),ot(o,f.z,f.x),it(i,a,n.length-1),it(n,a,n.length-1),n.pop(),a--):i[a]=!0}}o.forEach((function(e){0===nt(t[e.x],t[e.y],t[r])||n.push($.create(e.x,e.y,r))}))}for(r=0;r<n.length;r++){var f;((f=n[r]).x>=e||f.y>=e||f.z>=e)&&(it(n,r,n.length-1),n.pop(),r--)}return n.map((function(e){return{a:t[e.x],b:t[e.y],c:t[e.z]}}))}function ct(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){return Math.random()},c=[],u=-n,s=t+n,l=-r,f=e+r,p=u;p<s;p+=o)for(var y=l;y<f;y+=o){var h=Math.floor(p+o/2*(a()*i*2-i)),d=Math.floor(y+o/2*(a()*i*2-i));c[c.length]={x:h,y:d}}return c}function ut(t,e,n){return{x:(t.x+e.x+n.x)/3,y:(t.y+e.y+n.y)/3}}var st=/[\b\t \,\n]/g;function lt(t){return t.trim().split(st).filter((function(t){return t})).map((function(t){return+t}))}function ft(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var pt,yt={linear:!0,ease:!0,"ease-in":!0,"ease-out":!0,"ease-in-out":!0},ht={ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)"},dt=[[0,0,1,1,"linear",!0],[.25,.1,.25,1,"ease",!0],[.42,0,1,1,"ease-in",!0],[0,0,.58,1,"ease-out",!0],[.47,0,.745,.715,"ease-in-sine"],[.39,.575,.565,1,"ease-out-sine"],[.445,.05,.55,.95,"ease-in-out-sine"],[.55,.085,.68,.53,"ease-in-quad"],[.25,.46,.45,.94,"ease-out-quad"],[.455,.03,.515,.955,"ease-in-out-quad"],[.55,.055,.675,.19,"ease-in-cubic"],[.215,.61,.355,1,"ease-out-cubic"],[.645,.045,.355,1,"ease-in-out-cubic"],[.895,.03,.685,.22,"ease-in-quart"],[.165,.84,.44,1,"ease-out-quart"],[.77,0,.175,1,"ease-in-out-quart"],[.6,.04,.98,.335,"ease-in-circ"],[.075,.82,.165,1,"ease-out-circ"],[.785,.135,.15,.86,"ease-in-out-circ"],[.95,.05,.795,.035,"ease-in-expo"],[.19,1,.22,1,"ease-out-expo"],[1,0,0,1,"ease-in-out-expo"],[.755,.05,.855,.06,"ease-in-quint"],[.23,1,.32,1,"ease-out-quint"],[.86,0,.07,1,"ease-in-out-quint"],[.6,-.28,.735,.045,"ease-in-back"],[.175,.885,.32,1.275,"ease-out-back"],[.68,-.55,.265,1.55,"ease-in-out-back"]],vt=function(t){return ft(mt(ht[t]||t))},bt=function(t){t=t.map((function(t){return Math.floor(100*t)/100}));for(var e=0,n=dt.length;e<n;e++){var r=dt[e];if(r[0]==t[0]&&r[1]==t[1]&&r[2]==t[2]&&r[3]==t[3]&&r[5])return r[4]}return"cubic-bezier( ".concat(t.filter((function(t,e){return e<4})).join(",")," )")},mt=function(t){if("string"==typeof t){if(yt[t])return dt.filter((function(e){return e[4]===t}))[0];var e=t.replace("cubic-bezier","").replace("(","").replace(")","").split(",");return e=e.map((function(t){return parseFloat(t.trim())}))}return t},gt=function(t,e,n,r){var o=[t,e,n,r];return function(t){return Tt(o,t)}},wt=function(t,e,n){var r=[t,e,n];return function(t){return Rt(r,t)}},Ot=function(t,e){var n=[t,e];return function(t){return Dt(n,t)}},kt=function(t,e,n,r,o){var i=e(n),a=G(r,o,i.x,i.y);a<t.minDist&&(t.minDist=a,t.minT=n)},jt=function(t,e,n,r,o,i,a,c){for(var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1e3,s=gt({x:t,y:e},{x:n,y:r},{x:o,y:i},{x:a,y:c}),l=0,f=s(0),p=0;p<=u;p++){var y=p/u,h=s(y);l+=G(f.x,f.y,h.x,h.y),f=h}return l},St=function(t,e,n,r,o,i){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e3,c=wt({x:t,y:e},{x:n,y:r},{x:o,y:i}),u=0,s=c(0),l=0;l<=a;l++){var f=l/a,p=c(f);u+=G(s.x,s.y,p.x,p.y),s=p}return u},Pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n={minDist:1/0,minT:0};return function(r,o){for(var i=0;i<=e;i++)kt(n,t,i/e,r,o);var a=1/(2*e),c=n.minT;for(i=0;i<e;i++)kt(n,t,c-a,r,o),kt(n,t,c+a,r,o),a/=2;return n.minT}},xt=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;return Pt(gt(t,e,n,r),o)},_t=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return Pt(wt(t,e,n),r)},Et=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Pt(Ot(t,e),n)},$t=function(t){if("linear"===t)return Ot(n={x:0,y:0},r={x:1,y:1});var e=mt(t),n={x:0,y:0},r={x:e[0],y:e[1]},o={x:e[2],y:e[3]};return gt(n,r,o,{x:1,y:1})},Ct=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}},Tt=function(t,e){var n=Ct(t[0],t[1],e),r=Ct(t[1],t[2],e),o=Ct(t[2],t[3],e),i=Ct(n,r,e),a=Ct(r,o,e);return Ct(i,a,e)},Rt=function(t,e){var n=Ct(t[0],t[1],e),r=Ct(t[1],t[2],e);return Ct(n,r,e)},Dt=function(t,e){return Ct(t[0],t[1],e)},Vt=function(t,e){var n=Ct(t[0],t[1],e),r=Ct(t[1],t[2],e),o=Ct(t[2],t[3],e),i=Ct(n,r,e),a=Ct(r,o,e),c=Ct(i,a,e);return{first:[t[0],n,i,c],second:[c,a,o,t[3]]}},At=function(t,e){var n=Ct(t[0],t[1],e),r=Ct(t[1],t[2],e),o=Ct(n,r,e);return{first:[t[0],n,o],second:[o,r,t[2]]}},It=function(t,e){var n=Ct(t[0],t[1],e);return{first:[t[0],n],second:[n,t[1]]}};function Lt(t,e){return Bt(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||zt()}function Mt(t){return Bt(t)||Yt(t)||zt()}function zt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Bt(t){if(Array.isArray(t))return t}function Ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||Yt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Yt(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.__proto__,r=[];do{var o=n instanceof Object;if(!1===o)break;var i=Object.getOwnPropertyNames(n).filter((function(n){return t&&ae(t[n])&&!e[n]}));r.push.apply(r,Gt(i)),n=n.__proto__}while(n);return r}function Nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===e)return t;var n=void 0;return function(r,o,i,a,c){n&&clearTimeout(n),n=setTimeout((function(){t(r,o,i,a,c)}),e||300)}}function Kt(t,e){var n=void 0;return function(r,o,i,a,c){n||(n=setTimeout((function(){t(r,o,i,a,c),n=null}),e||300))}}function Wt(t,e){Object.keys(t).forEach((function(n,r){e(n,t[n],r)}))}function Ut(t,e){return Object.keys(t).map((function(n,r){return e(n,t[n],r)}))}function Zt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Ut(t,e).join(n)}function qt(t,e,n){var r=Jt(t[e],e);return ae(n)?n(r):r}function Jt(t,e){return void 0===t?e:t}function Qt(t){return null==t}function te(t){return!1===Qt(t)}function ee(t){return Array.isArray(t)}function ne(t){return"boolean"==typeof t}function re(t){return"string"==typeof t}function oe(t){return!1===re(t)}function ie(t){return"object"==Ht(t)&&!ee(t)&&!ce(t)&&!re(t)&&null!==t}function ae(t){return"function"==typeof t}function ce(t){return"number"==typeof t}function ue(t){return JSON.parse(JSON.stringify(t))}function se(t){var e={};return Object.keys(t).filter((function(e){return!!t[e]})).forEach((function(n){e[n]=t[n]})),e}function le(t){return Object.keys(t).forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].join(", "))})),t}function fe(t){return Gt(Array(t))}function pe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[b(0,e.length-1)]}var ye=(Ft(pt={image:!0,input:!0,br:!0,path:!0,line:!0,circle:!0,rect:!0},"path",!0),Ft(pt,"polygon",!0),Ft(pt,"polyline",!0),Ft(pt,"use",!0),pt),he=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=t.map((function(t,e){var r=n[e]||"";return ae(r)&&(r=r()),ee(r)||(r=[r]),t+(r=r.join(""))})).join("");return o=o.replace(/\<(\w*)([^\>]*)\/\>/gim,(function(t,e){return ye[e.toLowerCase()]?t:t.replace("/>","></".concat(e,">"))}))};function de(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t;return Object.keys(n).filter((function(t){return te(n[t])})).map((function(t){return"".concat(t,": ").concat(n[t])})).join(";"+e)}function ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":",r={};return""===(t+="")?r:(t.split(e).forEach((function(t){var e=Mt(t.split(n).map((function(t){return t.trim()}))),o=e[0],i=e.slice(1);""!=o&&(r[o]=i.join(n))})),r)}function be(t){return Object.keys(t).map((function(e){return"class"===e&&ie(t[e])?"".concat(e,'="').concat(me(t[e]),'"'):ne(t[e])||Qt(t[e])||"undefined"===t[e]?t[e]?e:"":"".concat(e,'="').concat(t[e],'"')})).join(" ")}function me(t){return Object.keys(t).filter((function(e){return t[e]})).map((function(t){return t})).join(" ")}function ge(t){return t.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}function we(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t.map(e).join(n)}function Oe(t,e){var n=new Set([].concat(Gt(t),Gt(e)));return n.size===t.length&&n.size===e.length}var ke=function(t,e){var n=t.filter((function(t){return t.indexOf("".concat(e,"("))>-1})),r=n.map((function(t){var n=Lt(t.split("".concat(e,"("))[1].split(")")[0].trim().split(" "),2);return{target:n[0],param:n[1]}}));return[n,r]},je=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,r=vt(t);return"\n        M0 ".concat(e," \n        C \n        ").concat(r[0]*e," ").concat(0==r[1]?n:(1-r[1])*n,",\n        ").concat(r[2]*e," ").concat(1==r[3]?0:(1-r[3])*n,",\n        ").concat(e," 0\n    ")},Se=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,r=vt(t);return"\n        M 0 ".concat(e," \n        L ").concat(r[0]*e," ").concat(0==r[1]?n:(1-r[1])*n,"\n        M ").concat(e," 0\n        L ").concat(r[2]*e," ").concat(1==r[3]?0:(1-r[3])*n,"\n    ")};function Pe(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(0, 0, 0, 0)";return Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),"hex"==e?xe(t):"rgb"==e?_e(t,n):"hsl"==e?Ee(t):t}function xe(t){Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]});var e=t.r.toString(16);t.r<16&&(e="0"+e);var n=t.g.toString(16);t.g<16&&(n="0"+n);var r=t.b.toString(16);return t.b<16&&(r="0"+r),"#".concat(e).concat(n).concat(r)}function _e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0, 0, 0, 0)";if(ee(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),!Qt(t))return 1==t.a||Qt(t.a)?isNaN(t.r)?e:"rgb(".concat(t.r,",").concat(t.g,",").concat(t.b,")"):"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")")}function Ee(t){return ee(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),1==t.a||Qt(t.a)?"hsl(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%)"):"hsla(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%,").concat(t.a,")")}function $e(t){return Math.pow(t,3)>.008856?Math.pow(t,3):(t-16/116)/7.787}function Ce(t){return t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t}function Te(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.x,e=r.y,n=r.z}var o=t/100,i=e/100,a=n/100,c=3.2406*o+-1.5372*i+-.4986*a,u=-.9689*o+1.8758*i+.0415*a,s=.0557*o+-.204*i+1.057*a;c=Ce(c),u=Ce(u),s=Ce(s);var l=I(255*c),f=I(255*u),p=I(255*s);return{r:l,g:f,b:p}}function Re(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,n=r.b}var o=(t+16)/116,i=e/500+o,a=o-n/200;o=$e(o);var c=95.047*(i=$e(i)),u=100*o,s=108.883*(a=$e(a));return{x:c,y:u,z:s}}function De(t){return t>.008856?Math.pow(t,1/3):(7.787*t+16)/116}function Ve(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.x,e=r.y,n=r.z}var o=t/95.047,i=e/100,a=n/108.883;o=De(o);var c=116*(i=De(i))-16,u=500*(o-i),s=200*(i-(a=De(a)));return{l:c,a:u,b:s}}function Ae(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,n=r.b}return Te(Re(t,e,n))}function Ie(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,c=Math.max(o,i,a),u=Math.min(o,i,a),s=c-u,l=0;0==s?l=0:c==o?l=(i-a)/s%6*60:c==i?l=60*((a-o)/s+2):c==a&&(l=60*((o-i)/s+4)),l<0&&(l=360+l);return{h:l,s:0==c?0:s/c,v:c}}function Le(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,c=1-Math.max(o,i,a),u=(1-o-c)/(1-c),s=(1-i-c)/(1-c),l=(1-a-c)/(1-c);return{c:u,m:s,y:l,k:c}}function Me(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}t/=255,e/=255,n/=255;var o,i,a=Math.max(t,e,n),c=Math.min(t,e,n),u=(a+c)/2;if(a==c)o=i=0;else{var s=a-c;switch(i=u>.5?s/(2-a-c):s/(a+c),a){case t:o=(e-n)/s+(e<n?6:0);break;case e:o=(n-t)/s+2;break;case n:o=(t-e)/s+4}o/=6}return{h:I(360*o),s:I(100*i),l:I(100*u)}}function ze(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return Be((t+e+n)/3>90?0:255)}function Be(t){return{r:t,g:t,b:t}}function Fe(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return Be(Math.ceil((t+e+n)/3))}function He(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return Be(Ye(t,e,n).y)}function Ge(t,e,n){return Math.ceil(.2126*t+.7152*e+.0722*n)}function Ye(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=Ge(t,e,n),i=.564*(n-o),a=.713*(t-o);return{y:o,cr:a,cb:i}}function Xe(t){return 100*(t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)}function Ne(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,c=.4124*(o=Xe(o))+.3576*(i=Xe(i))+.1805*(a=Xe(a)),u=.2126*o+.7152*i+.0722*a,s=.0193*o+.1192*i+.9505*a;return{x:c,y:u,z:s}}function Ke(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return Ve(Ne(t,e,n))}function We(t,e,n,r){if(1==arguments.length){var o=arguments[0];t=o.c,e=o.m,n=o.y,r=o.k}var i=255*(1-t)*(1-r),a=255*(1-e)*(1-r),c=255*(1-n)*(1-r);return{r:i,g:a,b:c}}function Ue(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.v}var o=t,i=e,a=n;o>=360&&(o=0);var c=i*a,u=c*(1-Math.abs(o/60%2-1)),s=a-c,l=[];return 0<=o&&o<60?l=[c,u,0]:60<=o&&o<120?l=[u,c,0]:120<=o&&o<180?l=[0,c,u]:180<=o&&o<240?l=[0,u,c]:240<=o&&o<300?l=[u,0,c]:300<=o&&o<360&&(l=[c,0,u]),{r:I(255*(l[0]+s)),g:I(255*(l[1]+s)),b:I(255*(l[2]+s))}}function Ze(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.v}var o=Ue(t,e,n);return Me(o.r,o.g,o.b)}function qe(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Je(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.l}var o=Qe(t,e,n);return Ie(o.r,o.g,o.b)}function Qe(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.l}var o,i,a;if(t/=360,n/=100,0==(e/=100))o=i=a=n;else{var c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;o=qe(u,c,t+1/3),i=qe(u,c,t),a=qe(u,c,t-1/3)}return{r:I(255*o),g:I(255*i),b:I(255*a)}}function tn(t,e,n,r){if(1==arguments.length){var o=arguments[0];t=o.y,e=o.cr,n=o.cb;r=(r=o.bit)||0}var i=t+1.402*(e-r),a=t-.344*(n-r)-.714*(e-r),c=t+1.772*(n-r);return{r:Math.ceil(i),g:Math.ceil(a),b:Math.ceil(c)}}var en={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)",currentColor:"currentColor"};var nn={isColorName:function(t){return!!en[t]},getColorByName:function(t){return en[t]}};function rn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function on(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?on(Object(n),!0).forEach((function(e){cn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var un=/(#(?:[\da-f]{3}){1,2}|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi;function sn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@";return"".concat(e).concat(t.startIndex).padEnd(10,"0")}function ln(t){return!!fn(t).length}function fn(t){var e=t.match(un),n=[];if(!e)return n;for(var r=0,o=e.length;r<o;r++)if(e[r].indexOf("#")>-1||e[r].indexOf("rgb")>-1||e[r].indexOf("hsl")>-1)n.push({color:e[r]});else{var i=nn.getColorByName(e[r]);i&&n.push({color:e[r],nameColor:i})}var a={next:0};return n.forEach((function(e){var n=t.indexOf(e.color,a.next);e.startIndex=n,e.endIndex=n+e.color.length,a.next=e.endIndex})),n}function pn(t){var e=fn(t);return e.forEach((function(e){t=t.replace(e.color,sn(e))})),{str:t,matches:e}}function yn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=pn(t);return n.str.split(e).map((function(t,e){return t=vn(t),n.matches[e]&&(t=t.replace(sn(n.matches[e]),n.matches[e].color)),t}))}function hn(t,e){return e.forEach((function(e){t=t.replace(sn(e),e.color)})),t}var dn=/^\s+|\s+$/g;function vn(t){return t.replace(dn,"")}function bn(t){if(re(t)){if(nn.isColorName(t)&&(t=nn.getColorByName(t)),t.indexOf("rgb(")>-1){for(var e=0,n=(r=t.replace("rgb(","").replace(")","").split(",")).length;e<n;e++)r[e]=parseInt(vn(r[e]),10);return i=an({},i={type:"rgb",r:r[0],g:r[1],b:r[2],a:1},{},Me(i))}if(t.indexOf("rgba(")>-1){for(e=0,n=(r=t.replace("rgba(","").replace(")","").split(",")).length;e<n;e++)r[e]=n-1==e?parseFloat(vn(r[e])):parseInt(vn(r[e]),10);return i=an({},i={type:"rgb",r:r[0],g:r[1],b:r[2],a:r[3]},{},Me(i))}if(t.indexOf("hsl(")>-1){for(e=0,n=(r=t.replace("hsl(","").replace(")","").split(",")).length;e<n;e++)r[e]=parseFloat(vn(r[e]));return i=an({},i={type:"hsl",h:r[0],s:r[1],l:r[2],a:1},{},Qe(i))}if(t.indexOf("hsla(")>-1){for(e=0,n=(r=t.replace("hsla(","").replace(")","").split(",")).length;e<n;e++)r[e]=n-1==e?parseFloat(vn(r[e])):parseInt(vn(r[e]),10);return i=an({},i={type:"hsl",h:r[0],s:r[1],l:r[2],a:r[3]},{},Qe(i))}if(0==t.indexOf("#")){var r=[];if(3==(t=t.replace("#","")).length)for(e=0,n=t.length;e<n;e++){var o=t.substr(e,1);r.push(parseInt(o+o,16))}else for(e=0,n=t.length;e<n;e+=2)r.push(parseInt(t.substr(e,2),16));return i=an({},i={type:"hex",r:r[0],g:r[1],b:r[2],a:1},{},Me(i))}}else if(ce(t)){var i;if(0<=t&&t<=16777215)return i=an({},i={type:"hex",r:(16711680&t)>>16,g:(65280&t)>>8,b:(255&t)>>0,a:1},{},Me(i));if(0<=t&&t<=4294967295)return i=an({},i={type:"hex",r:(4278190080&t)>>24,g:(16711680&t)>>16,b:(65280&t)>>8,a:(255&t)/255},{},Me(i))}return t}function mn(t){re(t)&&(t=yn(t));var e=(t=t.map((function(t){if(re(t)){var e=pn(t),n=vn(e.str).split(" ");return n[1]?n[1].indexOf("%")>-1?n[1]=parseFloat(n[1].replace(/%/,""))/100:n[1]=parseFloat(n[1]):n[1]="*",n[0]=hn(n[0],e.matches),n}if(Array.isArray(t))return t[1]?re(t[1])&&(t[1].indexOf("%")>-1?t[1]=parseFloat(t[1].replace(/%/,""))/100:t[1]=+t[1]):t[1]="*",rn(t)}))).filter((function(t){return"*"===t[1]})).length;if(e>0){var n=(1-t.filter((function(t){return"*"!=t[1]&&1!=t[1]})).map((function(t){return t[1]})).reduce((function(t,e){return t+e}),0))/e;t.forEach((function(e,r){"*"==e[1]&&r>0&&(t.length-1==r||(e[1]=n))}))}return t}function gn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=wn(t,e,n);return Pe(o,o.a<1?"rgb":r)}function wn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return{r:I(t.r+(e.r-t.r)*n),g:I(t.g+(e.g-t.g)*n),b:I(t.b+(e.b-t.b)*n),a:I(t.a+(e.a-t.a)*n,100)}}function On(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!t)return[];re(t)&&(t=yn(t));for(var n=(t=t||[]).length,r=[],o=0;o<n-1;o++)for(var i=0;i<e;i++)r.push(kn(t[o],t[o+1],i/e));return r}function kn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=bn(t),i=bn(e);return gn(o,i,n,r)}function jn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return kn(t,e,n,r)}function Sn(t){return t=bn(t),(Math.round(299*t.r)+Math.round(587*t.g)+Math.round(114*t.b))/1e3}function Pn(t){return Sn(t)>=128?"black":"white"}function xn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[],r=e-((t=mn(t)).length-1),o=r,i=1,a=t.length;i<a;i++){var c=t[i-1][0],u=t[i][0],s=1==i?t[i][1]:t[i][1]-t[i-1][1],l=i==t.length-1?o:Math.floor(s*r);n=n.concat(On([c,u],l),[u]),o-=l}return n}function _n(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,c=bn(t),u=Ie(c),s=(i-o)*a/n,l=[],f=1;f<=n;f++)u[e]=Math.abs((a-s*f)/a),l.push(Pe(Ue(u),r));return l}function En(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:360;return _n(t,"h",e,n,r,o,1)}function $n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return _n(t,"s",e,n,r,o,100)}function Cn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return _n(t,"v",e,n,r,o,100)}function Tn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}On.parula=function(t){return On(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],t)},On.jet=function(t){return On(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],t)},On.hsv=function(t){return On(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],t)},On.hot=function(t){return On(["#0b0000","#ff0000","#ffff00","#ffffff"],t)},On.pink=function(t){return On(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],t)},On.bone=function(t){return On(["#000000","#4a4a68","#a6c6c6","#ffffff"],t)},On.copper=function(t){return On(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],t)};var Dn=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tn(Object(n),!0).forEach((function(e){Rn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r,{},a,{},o,{},d,{},h,{},p,{},u,{},s,{},l,{},f,{},c,{},i),Vn=[{rgb:"#ff0000",start:0},{rgb:"#ffff00",start:.17},{rgb:"#00ff00",start:.33},{rgb:"#00ffff",start:.5},{rgb:"#0000ff",start:.67},{rgb:"#ff00ff",start:.83},{rgb:"#ff0000",start:1}];!function(){for(var t=0,e=Vn.length;t<e;t++){var n=Vn[t],r=Dn.parse(n.rgb);n.r=r.r,n.g=r.g,n.b=r.b}}();var An={colors:Vn,checkHueColor:function(t){for(var e,n,r=0;r<Vn.length;r++)if(Vn[r].start>=t){e=Vn[r-1],n=Vn[r];break}return e&&n?Dn.interpolateRGB(e,n,(t-e.start)/(n.start-e.start)):Vn[0].rgb}};function In(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?In(Object(n),!0).forEach((function(e){Mn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zn=function(t,e,n,r){n?r&&n===r||function(t,e,n){"boolean"==typeof n?function(t,e,n){n?(t.setAttribute(e,e),t[e]=n):(t.removeAttribute(e),t[e]=n)}(t,e,n):t.setAttribute(e,n)}(t,e,n):function(t,e,n){"boolean"==typeof n?function(t,e){t.removeAttribute(e),t[e]=!1}(t,e):e&&function(t,e){t.removeAttribute(e)}(t,e)}(t,e,r)};function Bn(t){var e={},n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;e[c.name]=c.value}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}function Fn(t,e,n,r){if(e)if(n){if(u=e,(c=n).nodeType===Node.TEXT_NODE&&c!==u||c.nodeName!==u.nodeName)t.replaceChild(n.cloneNode(!0),e);else if(n.nodeType!==Node.TEXT_NODE){!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ln({},e,{},n);Object.keys(r).forEach((function(r){zn(t,r,e[r],n[r])}))}(e,Bn(n.attributes),Bn(e.attributes));var o=Hn(e),i=Hn(n),a=Math.max(o.length,i.length);for(r=0;r<a;r++)Fn(e,o[r],i[r],r)}}else t.removeChild(e);else t.appendChild(n.cloneNode(!0));var c,u}var Hn=function(t){var e=t.firstChild;if(!e)return[];var n=[];do{n.push(e),e=e.nextSibling}while(e);return n};function Gn(t,e){t=t.el||t,e=e.el||e;for(var n=Hn(t),r=Hn(e),o=Math.max(n.length,r.length),i=0;i<o;i++)Fn(t,n[i],r[i],i)}function Yn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Kn,Wn=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),oe(e))this.el=e;else{var o=document.createElement(e);for(var i in n&&(o.className=n),r=r||{})o.setAttribute(i,r[i]);this.el=o}}var e,n,r;return e=t,n=[{key:"setAttr",value:function(t){var e=this;return Object.keys(t).forEach((function(n){e.attr(n,t[n])})),this}},{key:"setProp",value:function(t){var e=this;return Object.keys(t).forEach((function(n){e.el[n]!=t[n]&&(e.el[n]=t[n])})),this}},{key:"attr",value:function(t,e){return 1==arguments.length?this.el.getAttribute(t):(this.el.getAttribute(t)!=e&&this.el.setAttribute(t,e),this)}},{key:"attrKeyValue",value:function(t){return Xn({},this.el.getAttribute(t),this.val())}},{key:"attrs",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.el.getAttribute(e)}))}},{key:"styles",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.el.style[e]}))}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"removeStyle",value:function(t){return this.el.style.removeProperty(t),this}},{key:"is",value:function(t){return this.el===(t.el||t)}},{key:"isTag",value:function(t){return this.el.tagName.toLowerCase()===t.toLowerCase()}},{key:"closest",value:function(e){for(var n=this,r=!1;!(r=n.hasClass(e));){if(!n.el.parentNode)return null;n=t.create(n.el.parentNode)}return r?n:null}},{key:"parent",value:function(){return t.create(this.el.parentNode)}},{key:"hasParent",value:function(){return!!this.el.parentNode}},{key:"removeClass",value:function(){var t;return(t=this.el.classList).remove.apply(t,arguments),this}},{key:"hasClass",value:function(t){return!!this.el.classList&&this.el.classList.contains(t)}},{key:"addClass",value:function(){var t;return(t=this.el.classList).add.apply(t,arguments),this}},{key:"onlyOneClass",value:function(t){this.parent().children().forEach((function(e){e.removeClass(t)})),this.addClass(t)}},{key:"toggleClass",value:function(t,e){this.el.classList.toggle(t,e)}},{key:"html",value:function(t){return Qt(t)?this.el.innerHTML:(re(t)?this.el.innerHTML=t:this.empty().append(t),this)}},{key:"htmlDiff",value:function(t){Gn(this,t)}},{key:"updateDiff",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";Gn(this,t.create(n).html(e))}},{key:"updateSVGDiff",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";Gn(this,t.create(n).html("<svg>".concat(e,"</svg>")).firstChild)}},{key:"find",value:function(t){return this.el.querySelector(t)}},{key:"$",value:function(e){var n=this.find(e);return n?t.create(n):null}},{key:"findAll",value:function(t){return Yn(this.el.querySelectorAll(t))}},{key:"$$",value:function(e){return this.findAll(e).map((function(e){return t.create(e)}))}},{key:"empty",value:function(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);return this}},{key:"append",value:function(t){return re(t)?this.el.appendChild(document.createTextNode(t)):this.el.appendChild(t.el||t),this}},{key:"prepend",value:function(t){return re(t)?this.el.prepend(document.createTextNode(t)):this.el.prepend(t.el||t),this}},{key:"prependHTML",value:function(e){var n=t.create("div").html(e);return this.prepend(n.createChildrenFragment()),n}},{key:"appendHTML",value:function(e){var n=t.create("div").html(e);return this.append(n.createChildrenFragment()),n}},{key:"createChildrenFragment",value:function(){var t=this.children(),e=document.createDocumentFragment();return t.forEach((function(t){return e.appendChild(t.el)})),e}},{key:"appendTo",value:function(t){return(t.el?t.el:t).appendChild(this.el),this}},{key:"remove",value:function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}},{key:"removeChild",value:function(t){return this.el.removeChild(t.el||t),this}},{key:"text",value:function(e){if(Qt(e))return this.el.textContent;var n=e;return e instanceof t&&(n=e.text()),this.el.textContent!==n&&(this.el.textContent=n),this}},{key:"css",value:function(t,e){if(te(t)&&te(e))Object.assign(this.el.style,Xn({},t,e));else if(te(t)){if(re(t))return getComputedStyle(this.el)[t];Object.assign(this.el.style,t)}return this}},{key:"getComputedStyle",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){for(var t=getComputedStyle(this.el),e={},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.forEach((function(n){e[n]=t[n]})),e}))},{key:"getStyleList",value:function(){for(var t=this,e={},n=this.el.style.length,r=0;r<n;r++){var o=this.el.style[r];e[o]=this.el.style[o]}for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return a.forEach((function(n){e[n]=t.css(n)})),e}},{key:"cssText",value:function(t){return Qt(t)?this.el.style.cssText:(t!=this.el.tempCssText&&(this.el.style.cssText=t,this.el.tempCssText=t),this)}},{key:"cssArray",value:function(t){return t[0]&&(this.el.style[t[0]]=t[1]),t[2]&&(this.el.style[t[2]]=t[3]),t[4]&&(this.el.style[t[4]]=t[5]),t[6]&&(this.el.style[t[6]]=t[7]),t[8]&&(this.el.style[t[8]]=t[9]),this}},{key:"cssFloat",value:function(t){return parseFloat(this.css(t))}},{key:"cssInt",value:function(t){return parseInt(this.css(t))}},{key:"px",value:function(t,e){return this.css(t,_.px(e))}},{key:"rect",value:function(){return this.el.getBoundingClientRect()}},{key:"isSVG",value:function(){return"SVG"===this.el.tagName.toUpperCase()}},{key:"offsetRect",value:function(){if(this.isSVG()){var t=this.parent().rect(),e=this.rect();return{x:e.x-t.x,y:e.y-t.y,top:e.x-t.x,left:e.y-t.y,width:e.width,height:e.height}}return{x:this.el.offsetLeft,y:this.el.offsetTop,top:this.el.offsetTop,left:this.el.offsetLeft,width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:"offset",value:function(){var e=this.rect(),n=t.getScrollTop(),r=t.getScrollLeft();return{top:e.top+n,left:e.left+r}}},{key:"offsetLeft",value:function(){return this.offset().left}},{key:"offsetTop",value:function(){return this.offset().top}},{key:"position",value:function(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.rect()}},{key:"size",value:function(){return[this.width(),this.height()]}},{key:"width",value:function(){return this.el.offsetWidth||this.rect().width}},{key:"contentWidth",value:function(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}},{key:"height",value:function(){return this.el.offsetHeight||this.rect().height}},{key:"contentHeight",value:function(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}},{key:"val",value:function(e){if(Qt(e))return this.el.value;if(te(e)){var n=e;e instanceof t&&(n=e.val()),this.el.value=n}return this}},{key:"matches",value:function(t){return this.el&&this.el.matches?this.el.matches(t)?this:this.parent().matches(t):null}},{key:"realVal",value:function(){switch(this.el.nodeType){case"INPUT":var t=this.attr("type");if("checkbox"==t||"radio"==t)return this.checked();case"SELECT":case"TEXTAREA":return this.el.value}return""}},{key:"int",value:function(){return parseInt(this.val(),10)}},{key:"float",value:function(){return parseFloat(this.val())}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block";return this.css("display","none"!=t?t:"block")}},{key:"hide",value:function(){return this.css("display","none")}},{key:"isHide",value:function(){return"none"==this.css("display")}},{key:"isShow",value:function(){return!this.isHide()}},{key:"toggle",value:function(t){var e=this.isHide();return 1==arguments.length?t?this.show():this.hide():e?this.show():this.hide()}},{key:"scrollIntoView",value:function(){this.el.scrollIntoView()}},{key:"addScrollLeft",value:function(t){return this.el.scrollLeft+=t,this}},{key:"addScrollTop",value:function(t){return this.el.scrollTop+=t,this}},{key:"setScrollTop",value:function(t){return this.el.scrollTop=t,this}},{key:"setScrollLeft",value:function(t){return this.el.scrollLeft=t,this}},{key:"scrollTop",value:function(){return this.el===document.body?t.getScrollTop():this.el.scrollTop}},{key:"scrollLeft",value:function(){return this.el===document.body?t.getScrollLeft():this.el.scrollLeft}},{key:"scrollHeight",value:function(){return this.el.scrollHeight}},{key:"scrollWidth",value:function(){return this.el.scrollWidth}},{key:"on",value:function(t,e,n,r){return this.el.addEventListener(t,e,n,r),this}},{key:"off",value:function(t,e){return this.el.removeEventListener(t,e),this}},{key:"getElement",value:function(){return this.el}},{key:"createChild",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.create(e,n,r);return i.css(o),this.append(i),i}},{key:"children",value:function(){var e=this.el.firstElementChild;if(!e)return[];var n=[];do{n.push(t.create(e)),e=e.nextElementSibling}while(e);return n}},{key:"childLength",value:function(){return this.el.children.length}},{key:"replace",value:function(t){return this.el.parentNode&&this.el.parentNode.replaceChild(t.el||t,this.el),this}},{key:"replaceChild",value:function(t,e){return this.el.replaceChild(e.el||e,t.el||t),this}},{key:"checked",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return 0==arguments.length?!!this.el.checked:(this.el.checked=!!t,this)}},{key:"click",value:function(){return this.el.click(),this}},{key:"focus",value:function(){return this.el.focus(),this}},{key:"select",value:function(){return this.el.select(),this}},{key:"blur",value:function(){return this.el.blur(),this}},{key:"select",value:function(){return this.el.select(),this}},{key:"context",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2d";return this._initContext||(this._initContext=this.el.getContext(t)),this._initContext}},{key:"resize",value:function(t){var e=t.width,n=t.height;this._initContext=null;var r=this.context(),o=window.devicePixelRatio||1;this.px("width",+e),this.px("height",+n),this.el.width=e*o,this.el.height=n*o,r.scale(o,o)}},{key:"toDataURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.el.toDataURL(t,e)}},{key:"clear",value:function(){this.context().clearRect(0,0,this.el.width,this.el.height)}},{key:"update",value:function(t){this.clear(),t.call(this,this)}},{key:"drawImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.context(),o=window.devicePixelRatio||1;r.drawImage(t,e,n,t.width,t.height,0,0,this.el.width/o,this.el.height/o)}},{key:"drawOption",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.context();Object.assign(e,t)}},{key:"drawLine",value:function(t,e,n,r){var o=this.context();o.beginPath(),o.moveTo(t,e),o.lineTo(n,r),o.stroke(),o.closePath()}},{key:"drawPath",value:function(){var t=this.context();t.beginPath();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e,n){0==n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])})),t.stroke(),t.fill(),t.closePath()}},{key:"drawCircle",value:function(t,e,n){var r=this.context();r.beginPath(),r.arc(t,e,n,0,2*Math.PI),r.stroke(),r.fill()}},{key:"drawText",value:function(t,e,n){this.context().fillText(n,t,e)}},{key:"fullscreen",value:function(){var t=this.el;t.requestFullscreen?t.requestFullscreen():t.wekitRequestFullscreen&&t.wekitRequestFullscreen()}},{key:"value",get:function(){return this.el.value}},{key:"naturalWidth",get:function(){return this.el.naturalWidth}},{key:"naturalHeight",get:function(){return this.el.naturalHeight}},{key:"files",get:function(){return this.el.files?Yn(this.el.files):[]}},{key:"totalLength",get:function(){return this.el.getTotalLength()}},{key:"firstChild",get:function(){return t.create(this.el.firstElementChild)}}],r=[{key:"create",value:function(e,n,r){return new t(e,n,r)}},{key:"createByHTML",value:function(e){var n=t.create("div").html(e).children();return n.length?t.create(n[0].el):null}},{key:"getScrollTop",value:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getScrollLeft",value:function(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}},{key:"parse",value:function(t){return DOMParser().parseFromString(t,"text/htmll")}},{key:"body",value:function(){return t.create(document.body)}}],n&&Nn(e.prototype,n),r&&Nn(e,r),t}(),Un=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qn;return" ".concat(e," ").concat(t)},Zn=/^dom (.*)/gi,qn=/^load (.*)/gi,Jn=/^bind (.*)/gi,Qn="|",tr={},er=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.join(":");return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"dom "+[r].concat(e).join(" ")}},nr=er,rr=er("click"),or=er("dblclick"),ir=(er("mousedown"),er("mouseup")),ar=(er("mousemove"),er("mouseover"),er("mouseout"),er("mouseenter"),er("mouseleave"),er("touchstart"),er("touchmove"),er("touchend"),er("keydown")),cr=er("keyup"),ur=(er("keypress"),er("drag"),er("dragstart")),sr=er("drop"),lr=er("dragover"),fr=(er("dragenter"),er("dragleave"),er("dragexit"),er("dragout"),er("dragend")),pr=er("contextmenu"),yr=er("change"),hr=er("input"),dr=er("focus"),vr=er("focusin"),br=er("focusout"),mr=er("blur"),gr=(er("paste"),er("resize")),wr=er("scroll"),Or=er("submit"),kr=nr("pointerdown"),jr=nr("pointermove"),Sr=nr("pointerup"),Pr=nr("change","input"),xr=(nr("wheel","mousewheel","DOMMouseScroll"),er("animationstart"),er("animationend"),er("animationiteration"),er("transitionstart"),er("transitionend")),_r=(er("transitionrun"),er("transitioncancel"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qn;return Un(t,e)}),Er=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qn;return Un("after(".concat(t,")"),e)},$r=_r,Cr=_r,Tr=(_r("ArrowUp"),_r("ArrowDown"),_r("ArrowLeft"),_r("ArrowRight"),_r("Enter")),Rr=(_r("Space"),_r("Escape")),Dr=_r("isAltKey"),Vr=(_r("isShiftKey"),_r("isMetaKey"),_r("isCtrlKey"),_r("self"),_r("fit"),_r("passive"),_r("vdom")),Ar=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return _r("debounce(".concat(t,")"))},Ir=(Ar(1e3),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return _r("throttle(".concat(t,")"))}),Lr=(_r("capture()"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"move";return Er("bodyMouseMove ".concat(t))}),Mr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"end";return Er("bodyMouseUp ".concat(t))},zr=Er("preventDefault"),Br=Er("stopPropagation"),Fr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$el";return"load "+t},Hr=function(t){if(""===t)return"";var e=U();return tr[e]=t,e},Gr=function(t){return function(){return this.prevState[t]!=this.state[t]}},Yr=function(){return!0},Xr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$el",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"bind "+t+(e?Qn+Hr(e):"")},Nr={addEvent:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t&&t.addEventListener(e,n,r)},removeEvent:function(t,e,n){t&&t.removeEventListener(e,n)},pos:function(t){return t.touches&&t.touches[0]?t.touches[0]:t},posXY:function(t){var e=this.pos(t);return{x:e.pageX,y:e.pageY}}};function Kr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wr={en_US:{"app.title":"EASYLOGIC","app.sample":function(t,e,n){return"".concat(t,"-").concat(e,"-").concat(n)},"app.lang.en_US":"English","app.lang.ko_KR":"","app.lang.fr_FR":"Franais","app.label.lang":"Language","app.layout.all":"All","app.layout.css":"CSS","app.layout.svg":"SVG","app.label.layout":"Menu Layout","app.theme.dark":"Dark","app.theme.light":"Light","app.theme.toon":"Toon","app.theme.gray":"Gray","app.label.theme":"Theme","app.tab.title.projects":"Projects","app.tab.title.layers":"Layers","app.tab.title.libraries":"Library","app.tab.title.components":"Object","app.tab.title.assets":"Assets","app.tab.title.keyMap":"KeyMap","menu.item.download.title":"Download","menu.item.save.title":"Save","menu.item.export.title":"Export","menu.item.codepen.title":"CodePen","menu.item.fullscreen.title":"Screen","menu.item.shortcuts.title":"ShortCuts","menu.item.github.title":"Github","menu.item.learn.title":"Learn","project.property.title":"Project","project.information.property.title":"Project information","project.information.property.name":"Name","project.information.property.description":"Description","artboard.property.title":"ArtBoards","artboard.property.layout.title.flex":"Flex","artboard.property.layout.title.grid":"Grid","layer.tree.property.title":"Layers","layer.tree.property.layout.title.flex":"Flex","layer.tree.property.layout.title.grid":"Grid","alignment.property.title":"Alignment","position.property.title":"Position","position.property.X":"X","position.property.Y":"Y","size.property.title":"Size","size.property.width":"Width","size.property.height":"Height","background.color.property.title":"Appearance","background.color.property.color":"Color","background.color.property.zindex":"z-index","background.color.property.opacity":"Opacity","background.color.property.blend":"Blend","background.color.property.overflow":"Overflow","background.color.property.overflow.visible":"Visible","background.color.property.overflow.hidden":"Hidden","background.color.property.overflow.scroll":"Scroll","background.color.property.overflow.auto":"Auto","blend.normal":"normal","blend.multiply":"multiply","blend.screen":"screen","blend.overlay":"overlay","blend.darken":"darken","blend.lighten":"lighten","blend.color-dodge":"color-dodge","blend.color-burn":"color-burn","blend.hard-light":"hard-light","blend.soft-light":"soft-light","blend.difference":"difference","blend.exclusion":"exclusion","blend.hue":"hue","blend.saturation":"saturation","blend.color":"color","blend.luminosity":"luminosity","background.image.property.title":"Fill","border.property.title":"Border","border.radius.property.title":"Border Radius","boxshadow.property.title":"Box Shadows","filter.property.title":"Filter","filter.property.blur":"Blur","filter.property.grayscale":"GrayScale","filter.property.hue-rotate":"Hue Rotate","filter.property.invert":"Invert","filter.property.brightness":"Brightness","filter.property.contrast":"Contrast","filter.property.drop-shadow":"Drop Shadow","filter.property.drop-shadow.color":"Color","filter.property.drop-shadow.offsetX":"Offset X","filter.property.drop-shadow.offsetY":"Offset Y","filter.property.drop-shadow.blurRadius":"Blur","filter.property.opacity":"Opacity","filter.property.saturate":"Saturate","filter.property.sepia":"Sepia","filter.property.svg":"SVG","font.property.title":"Font","font.property.color":"Color","font.property.size":"Size","font.property.stretch":"Stretch","font.property.weight":"Weight","font.property.style":"Style","font.property.family":"Family","font.spacing.property.title":"Font spacing","font.spacing.property.lineHeight":"Line height","font.spacing.property.letterSpacing":"Letter spacing","font.spacing.property.wordSpacing":"Word spacing","font.spacing.property.indent":"Indent","backdrop.filter.property.title":"Backdrop Filter","clippath.property.title":"Clip Path","export.property.title":"Export","export.property.download":"Download","image.property.title":"Image","image.property.origin":"Origin","image.property.size":"Size","image.property.width":"Width","image.property.height":"height","video.property.title":"Video","video.property.play":"Play","video.property.pause":"Pause","video.property.volume":"Volume","video.property.playbackRate":"Playback Rate","video.property.currentTime":"Current Time","video.property.playTime":"Play Time Distance","motion.property.title":"Motion","text.property.title":"Text Style","text.property.align":"Align","text.property.transform":"Transform","text.property.decoration":"Decoration","text.clip.property.title":"Text Clip","text.shadow.property.title":"Text Shadows","text.fill.property.title":"Text Fill","text.fill.property.fill":"Fill","text.fill.property.stroke":"Stroke","text.fill.property.strokeWidth":"Width","transform.property.title":"Transform","transform.origin.property.title":"Transform Origin","transition.property.title":"CSS Transition","keyframe.property.title":"CSS Keyframe","selector.property.title":"Selector","selector.property.none":"None selector","path.data.property.title":"Path Information","polygon.data.property.title":"Polygon Information","perspective.property.title":"Perspective","perspective.origin.property.title":"Perspective Origin","svg.item.property.title":"SVG","svg.item.property.isMotionPath":"Motion Path","svg.item.property.fill":"Fill","svg.item.property.fillOpacity":"Opacity","svg.item.property.path":"Path","svg.item.property.polygon":"Polygon","svg.item.property.totalLength":"Total Length","svg.item.property.fillRule":"Fill Rule","svg.item.property.stroke":"Stroke","svg.item.property.strokeWidth":"Width","svg.item.property.dashArray":"Dash Array","svg.item.property.dashOffset":"Dash Offset","svg.item.property.lineCap":"Line Cap","svg.item.property.lineJoin":"Line Join","svg.item.property.filter":"Filter","border.editor.all":"All","border.editor.width":"Width","border.editor.style":"Style","border.editor.color":"C","border.editor.top":"Top","border.editor.left":"Left","border.editor.right":"Right","border.editor.bottom":"Bottom","border.radius.editor.topLeft":"Top Left","border.radius.editor.topRight":"Top Right","border.radius.editor.bottomLeft":"Bottom Left","border.radius.editor.bottomRight":"Bottom Right","boxshadow.editor.blur":"Blur","boxshadow.editor.spread":"Spread","css.property.editor.properties":"Properties","offset.path.list.editor.path":"Path","offset.path.list.editor.totalLength":"Total Length","offset.path.list.editor.distance":"Distance","offset.path.list.editor.direction":"Direction","offset.path.list.editor.rotate":"Rotate","svgfilter.select.editor.message.create":"Create new svg filter","svgfilter.select.editor.message.select":"Select a filter","fill.editor.message.click.image":"Click the preview area if you want to select a image","fill.editor.message.drag.position":"Drag if you want to move center position","fill.editor.x1":"Start X","fill.editor.x2":"End X","fill.editor.y1":"Start Y","fill.editor.y2":"End Y","fill.editor.spread":"Spread","fill.editor.offset":"Offset","fill.editor.cx":"Center X","fill.editor.cy":"Center Y","fill.editor.r":"End radius","fill.editor.fx":"Start X","fill.editor.fy":"Start Y","fill.editor.fr":"Start radius","perspective.origin.editor.originX":"Origin X","perspective.origin.editor.originY":"Origin Y","path.manager.msg":"Keydown ESC or Enter key to close editing","path.manager.mode.modify":"Modify","path.manager.mode.path":"Path","path.manager.mode.transform":"Transform","path.manager.mode.flipX":"Flip X","path.manager.mode.flipY":"Flip Y","path.manager.mode.flipOrigin":"Flip Origin","colorpicker.popup.title":"ColorPicker","selector.popup.title":"Selector Property","selector.popup.selector":"Selector","background.image.position.popup.title":"Background Pattern","background.image.position.popup.size":"Size","background.image.position.popup.width":"Width","background.image.position.popup.height":"Height","background.image.position.popup.repeat":"Repeat","background.image.position.popup.blend":"Blend","background.image.position.popup.type.repeat":"repeat","background.image.position.popup.type.no-repeat":"no repeat","background.image.position.popup.type.repeat-x":"repeat-x","background.image.position.popup.type.repeat-y":"repeat-y","background.image.position.popup.type.space":"space","background.image.position.popup.type.round":"round","gradient.picker.popup.title":"Gradient & Image Picker","image.asset.property.title":"Image","video.asset.property.title":"Video","color.asset.property.title":"Color","gradient.asset.property.title":"Gradient","pattern.asset.property.title":"Pattern","svgfilter.asset.property.title":"SVG Filter","inspector.tab.title.style":"Style","inspector.tab.title.component":"Component","inspector.tab.title.transition":"Transition & Animation","inspector.tab.title.asset":"Assets","inspector.tab.title.text":"Text","inspector.tab.title.code":"Code","inspector.tab.title.history":"History","timeline.property.title":"Timeline","timeline.property.resize":"Drag if you want to resize timeline height.","timeline.animation.property.title":"Animations","timeline.play.control.play":"Play","timeline.play.control.pause":"Pause","timeline.play.control.first":"First","timeline.play.control.prev":"Previous","timeline.play.control.next":"Next","timeline.play.control.last":"Last","timeline.play.control.direction":"Direction","timeline.play.control.speed":"Speed","timeline.play.control.repeat":"Repeat","timeline.play.control.infinite":"Infinite","timeline.play.control.normal":"normal","timeline.play.control.alternate":"alternate","timeline.play.control.reverse":"reverse","timeline.play.control.alternate.reverse":"alternate reverse","timeline.value.editor.value":"Value","timeline.value.editor.time":"Time","timeline.value.editor.timing":"Timing","timeline.value.editor.offset.message":"Please input enter key to change time offset.","svgfilter.popup.title":"SVG Filter","css.item.rotate":"Rotate","css.item.rotateX":"Rotate X","css.item.rotateY":"Rotate Y","css.item.rotateZ":"Rotate Z","css.item.rotate3d":"3D Rotate","css.item.skewX":"Skew X","css.item.skewY":"Skew Y","css.item.translate":"Translate","css.item.translateX":"Translate X","css.item.translateY":"Translate Y","css.item.translateZ":"Translate Z","css.item.translate3d":"3D Translate","css.item.perspective":"Perspective","css.item.scale":"Scale","css.item.scaleX":"Scale X","css.item.scaleY":"Scale Y","css.item.scaleZ":"Scale Z","css.item.scale3d":"3D Scale","css.item.matrix":"Matrix","css.item.matrix3d":"3D Matrix","animation.property.title":"CSS Animation","animation.property.direction":"Direction","animation.property.play.state":"Play State","animation.property.fill.mode":"Fill Mode","animation.property.delay":"Delay","animation.property.duration":"Duration","animation.property.iteration.count":"Iteration Count","animation.property.Select a keyframe":"Select a keyframe","animation.property.popup.title":"Animation","animation.property.popup.timing.function":"Timing Function","animation.property.popup.keyframe":"Keyframe","animation.property.popup.direction":"Direction","animation.property.popup.play.state":"Play State","animation.property.popup.fill.mode":"Fill Mode","animation.property.popup.delay":"Delay","animation.property.popup.duration":"Duration","animation.property.popup.iteration":"Iteration","animation.property.popup.normal":"normal","animation.property.popup.reverse":"reverse","animation.property.popup.alternate":"alternate","animation.property.popup.alternate-reverse":"alternate-reverse","animation.property.popup.none":"none","animation.property.popup.forwards":"forwards","animation.property.popup.backwards":"backwards","animation.property.popup.both":"both","animation.property.popup.Select a keyframe":"Select a keyframe","keyframe.popup.title":"Keyframe","code.view.property.title":"CodeView","svg.filter.editor.tab.filter":"Filter","svg.filter.editor.tab.preset":"Preset","svg.filter.editor.tab.asset":"Assets","svg.filter.editor.GRAPHIC REFERENCES":"GRAPHIC REFERENCES","svg.filter.editor.SOURCES":"SOURCES","svg.filter.editor.MODIFIER":"MODIFIER","svg.filter.editor.LIGHTING":"LIGHTING","svg.filter.editor.COMBINERS":"COMBINERS","svg.filter.editor.Template":"Template","layout.property.title":"Layout","layout.property.flex":"Flex Box","layout.property.grid":"Grid","layout.property.default":"Default","flex.layout.editor.row":"Row","flex.layout.editor.column":"column","flex.layout.editor.row-reverse":"Row Reverse","flex.layout.editor.column-reverse":"Column Reverse","flex.layout.editor.nowrap":"Nowrap","flex.layout.editor.wrap":"Wrap","flex.layout.editor.wrap-reverse":"Wrap Reverse","flex.layout.editor.flex-start":"Start","flex.layout.editor.flex-end":"End","flex.layout.editor.center":"Center","flex.layout.editor.space-between":"Between","flex.layout.editor.space-around":"Around","flex.layout.editor.baseline":"BaseLine","flex.layout.editor.stretch":"Stretch","flex.layout.editor.direction":"Direction","flex.layout.editor.justify-content":"Justify Content","flex.layout.editor.align-items":"Align Items","flex.layout.editor.align-content":"Align Content","flex.layout.item.property.title":"Layout Item Detail","flex.layout.item.property.grow":"Flex Grow","flex.layout.item.property.shrink":"Flex Shrink","flex.layout.item.property.basis":"Flex Basis","flex.layout.item.property.none":"none","flex.layout.item.property.auto":"auto","flex.layout.item.property.value":"value","grid.layout.editor.template.columns":"Columns","grid.layout.editor.column.gap":"Column Gap","grid.layout.editor.template.rows":"Rows","grid.layout.editor.row.gap":"Row Gap","grid.box.editor.box.title":"Box","grid.box.editor.type":"Type","grid.box.editor.repeat":"Repeat","grid.box.editor.length":"Length","grid.box.editor.none":"None","grid.box.editor.auto":"Auto","grid.box.editor.count":"Count","grid.box.editor.value":"Size","grid.layout.item.property.title":"Layout Item Detail","grid.layout.item.property.column":"Column","grid.layout.item.property.row":"Row","grid.layout.item.property.start":"Start","grid.layout.item.property.end":"End","grid.layout.item.property.none":"none","grid.layout.item.property.value":"value","box.model.property.title":"Box Model","box.model.property.margin":"Margin","box.model.property.padding":"Padding","component.items.canvas":"Canvas","component.items.layer":"Layer","component.items.3dlayer":"3D Layer","component.items.drawing":"Drawing","component.items.custom":"Custom Component","svg.text.property.title":"SVG Text Style","svg.text.property.textarea":"Text Area","svg.text.property.size":"Font Size","svg.text.property.weight":"Font Weight","svg.text.property.style":"Font Style","svg.text.property.anchor":"Text Anchor","svg.text.property.family":"Font Family","svg.text.property.length.adjust":"Length Adjust","svg.text.property.text.length":"Text Length","svg.text.property.start.offset":"Start Offset","fill.picker.popup.title":"SVG Fragment picker","gradient.editor.drag.message":"Drag if you want to move center pointer.","draw.manager.tolerance":"Tolerance","pattern.property.title":"Pattern","pattern.info.popup.title":"Pattern Info","pattern.info.popup.width":"Width","pattern.info.popup.height":"Height","pattern.info.popup.lineWidth":"Line Width","pattern.info.popup.lineHeight":"Line Height","pattern.info.popup.rotate":"Rotate","pattern.info.popup.blend":"Blend Mode","pattern.info.popup.foreColor":"Fore","pattern.info.popup.backColor":"Back","stroke.dasharray.editor.add":"Add Dash"},fr_FR:(Kr(Kn={"app.title":"EASYLOGIC","app.sample":function(t,e,n){return"".concat(t,"-").concat(e,"-").concat(n)},"app.lang.en_US":"English","app.lang.ko_KR":"","app.lang.fr_FR":"Franais","app.label.lang":"Langue","app.layout.all":"All","app.layout.css":"CSS","app.layout.svg":"SVG","app.label.layout":"Menu Layout","app.theme.dark":"Sombre","app.theme.light":"Clair","app.theme.gray":"Gris","app.label.theme":"Thme","app.tab.title.projects":"Projets","app.tab.title.layers":"Objets","app.tab.title.libraries":"Librarie","app.tab.title.components":"Objet","app.tab.title.assets":"Elements","app.tab.title.keyMap":"Clavier","menu.item.download.title":"Tlcharger","menu.item.save.title":"Enregistrer","menu.item.export.title":"Exporter","menu.item.codepen.title":"CodePen","menu.item.fullscreen.title":"Ecran","menu.item.shortcuts.title":"ShortCuts","menu.item.github.title":"Github","menu.item.learn.title":"Docs","project.property.title":"Projet","project.information.property.title":"Information","project.information.property.name":"Nom","project.information.property.description":"Description","artboard.property.title":"Planche","artboard.property.layout.title.flex":"Flex","artboard.property.layout.title.grid":"Grille","layer.tree.property.title":"Objets","layer.tree.property.layout.title.flex":"Flex","layer.tree.property.layout.title.grid":"Grille","alignment.property.title":"Alignment","position.property.title":"Position","position.property.X":"X","position.property.Y":"Y","size.property.title":"Taille","size.property.width":"Largeur","size.property.height":"Hauteur","background.color.property.title":"Apparance","background.color.property.color":"Couleur","background.color.property.zindex":"z-index","background.color.property.opacity":"Opacit","background.color.property.blend":"Mlange","background.color.property.overflow":"Dbordement","background.color.property.overflow.visible":"Visible","background.color.property.overflow.hidden":"Cach","background.color.property.overflow.scroll":"Scroll","background.color.property.overflow.auto":"Auto","blend.normal":"normal","blend.multiply":"multiplie","blend.screen":"cran","blend.overlay":"couche","blend.darken":"sombre","blend.lighten":"clair","blend.color-dodge":"dodge","blend.color-burn":"brul","blend.hard-light":"dur","blend.soft-light":"doux","blend.difference":'diff"rence',"blend.exclusion":"exclusion","blend.hue":"teinte","blend.saturation":"saturation","blend.color":"couleur","blend.luminosity":"luminosit","background.image.property.title":"Remplissage","border.property.title":"Bordure","border.radius.property.title":"Rayon de bordure","boxshadow.property.title":"Ombres","filter.property.title":"Filtre","filter.property.blur":"Flou","filter.property.grayscale":"Echelle de gris","filter.property.hue-rotate":"Rotation teinte","filter.property.invert":"Invertir","filter.property.brightness":"Luminosit","filter.property.contrast":"Contraste","filter.property.drop-shadow":"Ombre porte","filter.property.drop-shadow.color":"Couleur","filter.property.drop-shadow.offsetX":"Dcalage X","filter.property.drop-shadow.offsetY":"Dcalage Y","filter.property.drop-shadow.blurRadius":"Flou","filter.property.opacity":"Opacit","filter.property.saturate":"Saturation","filter.property.sepia":"Spia","filter.property.svg":"SVG","font.property.title":"Police","font.property.color":"Couleur","font.property.size":"Taille","font.property.stretch":"Etirement","font.property.weight":"Poids","font.property.style":"Style","font.property.family":"Famille","font.spacing.property.title":"Espaces du texte","font.spacing.property.lineHeight":"Hauteur de ligne","font.spacing.property.letterSpacing":"Espace inter-caractres","font.spacing.property.wordSpacing":"Espace inter-mots","font.spacing.property.indent":"Identation","backdrop.filter.property.title":"Filtre Backdrop","clippath.property.title":"Chemin du Clip","export.property.title":"Exporter","export.property.download":"Tlcharger","image.property.title":"Image","image.property.origin":"Origine","image.property.size":"Taille","image.property.width":"Largeur","image.property.height":"Hauteur","video.property.title":"Video","video.property.play":"Jouer","video.property.pause":"Pause","video.property.volume":"Volume","video.property.playbackRate":"Vitesse de lecture","video.property.currentTime":"Temps actuel","video.property.playTime":"Temps de lecture","motion.property.title":"Mouvement","text.property.title":"Style Texte","text.property.align":"Alignement","text.property.transform":"Transformation","text.property.decoration":"Dcoration","text.clip.property.title":"Clip Texte","text.shadow.property.title":"Ombres Texte","text.fill.property.title":"Remplissage Texte","text.fill.property.fill":"Remplissage","text.fill.property.stroke":"Trait","text.fill.property.strokeWidth":"Largeur","transform.property.title":"Transformation","transform.origin.property.title":"Origine Transformation","transition.property.title":"Transition CSS","keyframe.property.title":"Image cl CSS","selector.property.title":"Slcteur","selector.property.none":"Aucun slcteur","path.data.property.title":"Information Chemin","polygon.data.property.title":"Information Polygone","perspective.property.title":"Perspective","perspective.origin.property.title":"Origine Perspective","svg.item.property.title":"SVG","svg.item.property.isMotionPath":"Chemin de mouvement","svg.item.property.fill":"Remplissage","svg.item.property.fillOpacity":"Opacit","svg.item.property.path":"Chemin","svg.item.property.polygon":"Polygone","svg.item.property.totalLength":"Longueur totale","svg.item.property.fillRule":"Rgle remplissage","svg.item.property.stroke":"Trait","svg.item.property.strokeWidth":"Largeur de trait","svg.item.property.dashArray":"Suite tiret","svg.item.property.dashOffset":"Dcalage tiret","svg.item.property.lineCap":"Chapeau Ligne","svg.item.property.lineJoin":"Jonction ligne","svg.item.property.filter":"Filtre","border.editor.all":"Tout","border.editor.width":"Largeur","border.editor.style":"Style","border.editor.color":"Couleur","border.editor.top":"Haut","border.editor.left":"Gauche","border.editor.right":"Droite","border.editor.bottom":"Bas","border.radius.editor.topLeft":"Haut gauche","border.radius.editor.topRight":"Haut droite","border.radius.editor.bottomLeft":"Bas gauche","border.radius.editor.bottomRight":"Bas droite","boxshadow.editor.blur":"Flou","boxshadow.editor.spread":"Etalement","css.property.editor.properties":"Proprits","offset.path.list.editor.path":"Chemin","offset.path.list.editor.totalLength":"Longueur totale","offset.path.list.editor.distance":"Distance","offset.path.list.editor.direction":"Direction","offset.path.list.editor.rotate":"Rotation","svgfilter.select.editor.message.create":"Crer un filtre svg","svgfilter.select.editor.message.select":"Slection filtre","fill.editor.message.click.image":"Cliquez sur aperu si vous souhaitez slectionner une image","fill.editor.message.drag.position":"Prendre pour changer la position centrale","fill.editor.x1":"Dbut X","fill.editor.x2":"Fin X","fill.editor.y1":"Dbut Y","fill.editor.y2":"Fin Y","fill.editor.spread":"Etalement","fill.editor.offset":"Dcalage","fill.editor.cx":"Centre X","fill.editor.cy":"Centre Y","fill.editor.r":"Rayon de fin","fill.editor.fx":"Dpart X","fill.editor.fy":"Dpart Y","fill.editor.fr":"Rayon de dpart","perspective.origin.editor.originX":"Origine X","perspective.origin.editor.originY":"Origine Y","path.manager.msg":"Appuyer ESC ou Entrz keypour fermer Edition","path.manager.mode.modify":"Modifier","path.manager.mode.path":"Chemin","path.manager.mode.transform":"Transformer","path.manager.mode.flipX":"Retouner X","path.manager.mode.flipY":"Retouner Y","path.manager.mode.flipOrigin":"Retouner Origine","colorpicker.popup.title":"Pipette","selector.popup.title":"Propit de Slecteur","selector.popup.selector":"Slecteur","background.image.position.popup.title":"Motif de fond","background.image.position.popup.size":"Taille","background.image.position.popup.width":"Largeur","background.image.position.popup.height":"Hauteur","background.image.position.popup.repeat":"Repte","background.image.position.popup.blend":"Mlange","background.image.position.popup.type.repeat":"repte","background.image.position.popup.type.no-repeat":"sans reptition","background.image.position.popup.type.repeat-x":"repte-x","background.image.position.popup.type.repeat-y":"repte-y","background.image.position.popup.type.space":"espace","background.image.position.popup.type.round":"rond","gradient.picker.popup.title":"Slection Gradient & Image","image.asset.property.title":"Image","video.asset.property.title":"Vido","color.asset.property.title":"Couleur","gradient.asset.property.title":"Gradient","pattern.asset.property.title":"Motif","svgfilter.asset.property.title":"Filtre SVG","inspector.tab.title.style":"Style","inspector.tab.title.component":"Composant","inspector.tab.title.transition":"Transition & Animation","inspector.tab.title.asset":"Elments","inspector.tab.title.text":"Texte","inspector.tab.title.code":"Code","inspector.tab.title.history":"History"},"inspector.tab.title.history","History"),Kr(Kn,"timeline.property.title","Chronologie"),Kr(Kn,"timeline.property.resize","Drag if you want to resize timeline height."),Kr(Kn,"timeline.animation.property.title","Animations"),Kr(Kn,"timeline.play.control.play","Jouer"),Kr(Kn,"timeline.play.control.pause","Pause"),Kr(Kn,"timeline.play.control.first","Premier"),Kr(Kn,"timeline.play.control.prev","Prcdent"),Kr(Kn,"timeline.play.control.next","Suivant"),Kr(Kn,"timeline.play.control.last","Dernier"),Kr(Kn,"timeline.play.control.direction","Direction"),Kr(Kn,"timeline.play.control.speed","Vitesse"),Kr(Kn,"timeline.play.control.repeat","Rpter"),Kr(Kn,"timeline.play.control.infinite","Infini"),Kr(Kn,"timeline.play.control.normal","normal"),Kr(Kn,"timeline.play.control.alternate","alternatif"),Kr(Kn,"timeline.play.control.reverse","inverse"),Kr(Kn,"timeline.play.control.alternate.reverse","inverse alternatif"),Kr(Kn,"timeline.value.editor.value","Valeur"),Kr(Kn,"timeline.value.editor.time","Temps"),Kr(Kn,"timeline.value.editor.timing","Calage temps"),Kr(Kn,"timeline.value.editor.offset.message","Please input enter key to change time offset."),Kr(Kn,"svgfilter.popup.title","Filtre SVG"),Kr(Kn,"css.item.rotate","Rotation"),Kr(Kn,"css.item.rotateX","Rotation X"),Kr(Kn,"css.item.rotateY","Rotation Y"),Kr(Kn,"css.item.rotateZ","Rotation Z"),Kr(Kn,"css.item.rotate3d","Rotation 3D"),Kr(Kn,"css.item.skewX","Oblique X"),Kr(Kn,"css.item.skewY","Oblique Y"),Kr(Kn,"css.item.translate","Translation"),Kr(Kn,"css.item.translateX","Translation X"),Kr(Kn,"css.item.translateY","Translation Y"),Kr(Kn,"css.item.translateZ","Translation Z"),Kr(Kn,"css.item.translate3d","Translation 3D"),Kr(Kn,"css.item.perspective","Perspctive"),Kr(Kn,"css.item.scale","Echelle"),Kr(Kn,"css.item.scaleX","Echelle X"),Kr(Kn,"css.item.scaleY","Echelle Y"),Kr(Kn,"css.item.scaleZ","Echelle Z"),Kr(Kn,"css.item.scale3d","Echelle 3D"),Kr(Kn,"css.item.matrix","Matrice"),Kr(Kn,"css.item.matrix3d","Matrice 3D"),Kr(Kn,"animation.property.title","Animation CSS"),Kr(Kn,"animation.property.direction","Direction"),Kr(Kn,"animation.property.play.state","Etat lecture"),Kr(Kn,"animation.property.fill.mode","Mode remplissage"),Kr(Kn,"animation.property.delay","Dlais"),Kr(Kn,"animation.property.duration","Dure"),Kr(Kn,"animation.property.iteration.count","Nombre Itrations"),Kr(Kn,"animation.property.Select a keyframe","Selectionner une image cl"),Kr(Kn,"animation.property.popup.title","Animation"),Kr(Kn,"animation.property.popup.timing.function","Fonction temps"),Kr(Kn,"animation.property.popup.keyframe","image cl"),Kr(Kn,"animation.property.popup.direction","Direction"),Kr(Kn,"animation.property.popup.play.state","Etat lecture"),Kr(Kn,"animation.property.popup.fill.mode","Mode remplissage"),Kr(Kn,"animation.property.popup.delay","Dlais"),Kr(Kn,"animation.property.popup.duration","Dur"),Kr(Kn,"animation.property.popup.iteration","Itration"),Kr(Kn,"animation.property.popup.normal","normal"),Kr(Kn,"animation.property.popup.reverse","inverse"),Kr(Kn,"animation.property.popup.alternate","alternatif"),Kr(Kn,"animation.property.popup.alternate-reverse","inverse alternatif"),Kr(Kn,"animation.property.popup.none","Aucun"),Kr(Kn,"animation.property.popup.forwards","en avant"),Kr(Kn,"animation.property.popup.backwards","en arrire"),Kr(Kn,"animation.property.popup.both","les deux"),Kr(Kn,"animation.property.popup.Select a keyframe","Selectionner une image cl"),Kr(Kn,"keyframe.popup.title","image cl"),Kr(Kn,"code.view.property.title","Vue code"),Kr(Kn,"svg.filter.editor.tab.filter","Filtrer"),Kr(Kn,"svg.filter.editor.tab.preset","Pre-rempli"),Kr(Kn,"svg.filter.editor.tab.asset","Elments"),Kr(Kn,"svg.filter.editor.GRAPHIC REFERENCES","REFERENCES GRAPHIQUES"),Kr(Kn,"svg.filter.editor.SOURCES","SOURCES"),Kr(Kn,"svg.filter.editor.MODIFIER","MODIFIER"),Kr(Kn,"svg.filter.editor.LIGHTING","ECLAIRAGE"),Kr(Kn,"svg.filter.editor.COMBINERS","COMBINER"),Kr(Kn,"svg.filter.editor.Template","Modle"),Kr(Kn,"layout.property.title","Disposition"),Kr(Kn,"layout.property.flex","Bote Flex"),Kr(Kn,"layout.property.grid","Grille"),Kr(Kn,"layout.property.default","Dfaut"),Kr(Kn,"flex.layout.editor.row","Ligne"),Kr(Kn,"flex.layout.editor.column","Colonne"),Kr(Kn,"flex.layout.editor.row-reverse","Inverse ligne"),Kr(Kn,"flex.layout.editor.column-reverse","Inverse Colonne"),Kr(Kn,"flex.layout.editor.nowrap","Non-emball"),Kr(Kn,"flex.layout.editor.wrap","Emball (wrap)"),Kr(Kn,"flex.layout.editor.wrap-reverse","Inverse emball"),Kr(Kn,"flex.layout.editor.flex-start","Dbut"),Kr(Kn,"flex.layout.editor.flex-end","Fin"),Kr(Kn,"flex.layout.editor.center","Centrer"),Kr(Kn,"flex.layout.editor.space-between","Entre"),Kr(Kn,"flex.layout.editor.space-around","Autour"),Kr(Kn,"flex.layout.editor.baseline","Base"),Kr(Kn,"flex.layout.editor.stretch","Etirement"),Kr(Kn,"flex.layout.editor.direction","Direction"),Kr(Kn,"flex.layout.editor.justify-content","Justifier"),Kr(Kn,"flex.layout.editor.align-items","Aligner objets"),Kr(Kn,"flex.layout.editor.align-content","Aligner contenu"),Kr(Kn,"flex.layout.item.property.title","Dtail Disposition objet"),Kr(Kn,"flex.layout.item.property.grow","Augmenter Flex"),Kr(Kn,"flex.layout.item.property.shrink","Rduire Flex"),Kr(Kn,"flex.layout.item.property.basis","Base Flex"),Kr(Kn,"flex.layout.item.property.none","Aucun"),Kr(Kn,"flex.layout.item.property.auto","auto"),Kr(Kn,"flex.layout.item.property.value","valeur"),Kr(Kn,"grid.layout.editor.template.columns","Colonne"),Kr(Kn,"grid.layout.editor.column.gap","Espace Colonne"),Kr(Kn,"grid.layout.editor.template.rows","Lignes"),Kr(Kn,"grid.layout.editor.row.gap","Espace lignes"),Kr(Kn,"grid.box.editor.box.title","Bote"),Kr(Kn,"grid.box.editor.type","Type"),Kr(Kn,"grid.box.editor.repeat","Rpter"),Kr(Kn,"grid.box.editor.length","Longueur"),Kr(Kn,"grid.box.editor.none","Aucun"),Kr(Kn,"grid.box.editor.auto","Auto"),Kr(Kn,"grid.box.editor.count","Compte"),Kr(Kn,"grid.box.editor.value","Taille"),Kr(Kn,"grid.layout.item.property.title","Dtail disposition objets"),Kr(Kn,"grid.layout.item.property.column","Colonne"),Kr(Kn,"grid.layout.item.property.row","Ligne"),Kr(Kn,"grid.layout.item.property.start","Dbut"),Kr(Kn,"grid.layout.item.property.end","Fin"),Kr(Kn,"grid.layout.item.property.none","Aucun"),Kr(Kn,"grid.layout.item.property.value","valeur"),Kr(Kn,"box.model.property.title","Modle"),Kr(Kn,"box.model.property.margin","Marge"),Kr(Kn,"box.model.property.padding","Espace"),Kr(Kn,"component.items.canvas","Toile"),Kr(Kn,"component.items.layer","Objet"),Kr(Kn,"component.items.3dlayer","Objet 3D"),Kr(Kn,"component.items.drawing","Dessin"),Kr(Kn,"component.items.custom","Composant personnalis"),Kr(Kn,"svg.text.property.title","Style SVG Texte"),Kr(Kn,"svg.text.property.textarea","Zone Texte"),Kr(Kn,"svg.text.property.size","Taille"),Kr(Kn,"svg.text.property.weight","Poids"),Kr(Kn,"svg.text.property.style","Style"),Kr(Kn,"svg.text.property.anchor","Ancre Texte"),Kr(Kn,"svg.text.property.family","Famille"),Kr(Kn,"svg.text.property.length.adjust","Ajusteement longueur"),Kr(Kn,"svg.text.property.text.length","Ajusteement Texte"),Kr(Kn,"svg.text.property.start.offset","Dcallage dpart"),Kr(Kn,"fill.picker.popup.title","Slection Fragment SVG"),Kr(Kn,"gradient.editor.drag.message","Glisser pour dplacer centre."),Kr(Kn,"draw.manager.tolerance","Tolrance"),Kr(Kn,"pattern.property.title","Motif"),Kr(Kn,"pattern.info.popup.title","Info Motif"),Kr(Kn,"pattern.info.popup.width","Largeur"),Kr(Kn,"pattern.info.popup.height","Hauteur"),Kr(Kn,"pattern.info.popup.lineWidth","Largeur ligne"),Kr(Kn,"pattern.info.popup.lineHeight","Hauteur de ligne"),Kr(Kn,"pattern.info.popup.rotate","Rotatation"),Kr(Kn,"pattern.info.popup.blend","Mlange"),Kr(Kn,"pattern.info.popup.foreColor","Avant"),Kr(Kn,"pattern.info.popup.backColor","Arrire"),Kr(Kn,"stroke.dasharray.editor.add","Ajout tiret"),Kn),ko_KR:{"app.title":"EASYLOGIC","app.sample":function(t,e,n){return"".concat(t,"-").concat(e,"-").concat(n)},"app.lang.en_US":"English","app.lang.ko_KR":"","app.lang.fr_FR":"Franais","app.label.lang":"","app.layout.all":"","app.layout.css":"CSS","app.layout.svg":"SVG","app.label.layout":"","app.theme.dark":"","app.theme.light":"","app.theme.toon":"","app.theme.gray":"","app.label.theme":"","app.tab.title.projects":"","app.tab.title.layers":"","app.tab.title.libraries":"","app.tab.title.components":"","app.tab.title.assets":"","app.tab.title.keyMap":"","menu.item.download.title":"","menu.item.save.title":"","menu.item.export.title":"","menu.item.codepen.title":"CodePen","menu.item.fullscreen.title":"","menu.item.shortcuts.title":"","menu.item.github.title":"Github","menu.item.learn.title":"","project.property.title":"","project.information.property.title":" ","project.information.property.name":"","project.information.property.description":"","artboard.property.title":"","artboard.property.layout.title.flex":"","artboard.property.layout.title.grid":"","layer.tree.property.title":"","layer.tree.property.layout.title.flex":"","layer.tree.property.layout.title.grid":"","alignment.property.title":"","position.property.title":"","position.property.X":"X","position.property.Y":"Y","size.property.title":"","size.property.width":"","size.property.height":"","background.color.property.title":"","background.color.property.color":"","background.color.property.zindex":"z-index","background.color.property.opacity":"","background.color.property.blend":"","background.color.property.overflow":"","background.color.property.overflow.visible":"","background.color.property.overflow.hidden":"","background.color.property.overflow.scroll":"","background.color.property.overflow.auto":"","blend.normal":"Normal() ","blend.multiply":"Multiply() ","blend.screen":"Screen()  ","blend.overlay":"Overlay() ","blend.darken":"Darken() ","blend.lighten":"Lighten()  ","blend.color-dodge":"Color Dodge( )  ","blend.color-burn":"Color Burn( )  ","blend.hard-light":"Hard Light( )  ","blend.soft-light":"Soft Light( )  ","blend.difference":"Difference() ","blend.exclusion":"Exclusion() ","blend.hue":"Hue()  ","blend.saturation":"Saturation() ","blend.color":"Color() ","blend.luminosity":"Luminosity()  ","background.image.property.title":"()","border.property.title":"","border.radius.property.title":" ","boxshadow.property.title":"","filter.property.title":"","filter.property.blur":"(Blur)","filter.property.grayscale":"(GrayScale)","filter.property.hue-rotate":"(HueRotate)","filter.property.invert":"(Invert)","filter.property.brightness":"(Brightness)","filter.property.contrast":"\b(Contrast)","filter.property.drop-shadow":"(Drop Shadow)","filter.property.drop-shadow.color":"","filter.property.drop-shadow.offsetX":"X ","filter.property.drop-shadow.offsetY":"Y ","filter.property.drop-shadow.blurRadius":"","filter.property.opacity":"(Opacity)","filter.property.saturate":"(Saturate)","filter.property.sepia":"(Sepia)","filter.property.svg":"SVG","font.property.title":"","font.property.color":"","font.property.size":"","font.property.stretch":"","font.property.weight":"","font.property.style":"","font.property.family":"","font.spacing.property.title":" ","font.spacing.property.lineHeight":" ","font.spacing.property.letterSpacing":" ","font.spacing.property.wordSpacing":" ","font.spacing.property.indent":"","backdrop.filter.property.title":" ","clippath.property.title":"","export.property.title":"","export.property.download":"","image.property.title":"","image.property.origin":"","image.property.size":"","image.property.width":"","image.property.height":"","video.property.title":"","video.property.play":"","video.property.pause":"","video.property.volume":"","video.property.playbackRate":"","video.property.currentTime":" ","video.property.playTime":"  ","motion.property.title":"","path.data.property.title":" ","polygon.data.property.title":" ","text.property.title":" ","text.property.align":"","text.property.transform":"","text.property.decoration":"","text.clip.property.title":" ","text.shadow.property.title":" ","text.fill.property.title":" ","text.fill.property.fill":"","text.fill.property.stroke":"","text.fill.property.strokeWidth":" ","transform.property.title":"","transform.origin.property.title":" Origin","transition.property.title":"CSS ","keyframe.property.title":"CSS ","selector.property.title":"CSS ","selector.property.none":" ","perspective.property.title":"(perspective)","perspective.origin.property.title":" ","svg.item.property.title":"SVG","svg.item.property.isMotionPath":" ","svg.item.property.fill":"","svg.item.property.fillOpacity":"","svg.item.property.path":"","svg.item.property.polygon":"","svg.item.property.totalLength":" ","svg.item.property.fillRule":" ","svg.item.property.stroke":"","svg.item.property.strokeWidth":" ","svg.item.property.dashArray":" ","svg.item.property.dashOffset":" ","svg.item.property.lineCap":" ","svg.item.property.lineJoin":" ","svg.item.property.filter":"","border.editor.all":"","border.editor.width":"","border.editor.style":"","border.editor.color":"","border.editor.top":"","border.editor.left":"","border.editor.right":"","border.editor.bottom":"","border.radius.editor.topLeft":" ","border.radius.editor.topRight":" ","border.radius.editor.bottomLeft":" ","border.radius.editor.bottomRight":" ","boxshadow.editor.blur":"","boxshadow.editor.spread":"","css.property.editor.properties":"","offset.path.list.editor.path":"","offset.path.list.editor.totalLength":" ","offset.path.list.editor.distance":"","offset.path.list.editor.direction":"","offset.path.list.editor.rotate":"","svgfilter.select.editor.message.create":" SVG Filter  .","svgfilter.select.editor.message.select":" .","fill.editor.message.click.image":"     .","fill.editor.message.drag.position":"   .","fill.editor.x1":" X","fill.editor.x2":" X","fill.editor.y1":" Y","fill.editor.y2":" Y","fill.editor.spread":"","fill.editor.offset":"","fill.editor.cx":" X","fill.editor.cy":" Y","fill.editor.r":" ","fill.editor.fx":" X","fill.editor.fy":" Y","fill.editor.fr":" ","perspective.origin.editor.originX":" X","perspective.origin.editor.originY":" Y","path.manager.msg":"   ESC  Enter  .    .","path.manager.mode.modify":" ","path.manager.mode.path":" ","path.manager.mode.transform":"","path.manager.mode.flipX":"X ","path.manager.mode.flipY":"Y ","path.manager.mode.flipOrigin":" ","colorpicker.popup.title":" ","selector.popup.title":" ","selector.popup.selector":"","background.image.position.popup.title":" ","background.image.position.popup.size":"","background.image.position.popup.width":"","background.image.position.popup.height":"","background.image.position.popup.repeat":"","background.image.position.popup.blend":"","background.image.position.popup.type.repeat":"","background.image.position.popup.type.no-repeat":" ","background.image.position.popup.type.repeat-x":"x ","background.image.position.popup.type.repeat-y":"y ","background.image.position.popup.type.space":"","background.image.position.popup.type.round":"","gradient.picker.popup.title":" ","image.asset.property.title":"","video.asset.property.title":"","color.asset.property.title":"","gradient.asset.property.title":"","pattern.asset.property.title":"","svgfilter.asset.property.title":"SVG ","inspector.tab.title.style":" ","inspector.tab.title.component":" ","inspector.tab.title.transition":"  ","inspector.tab.title.asset":" ","inspector.tab.title.text":"","inspector.tab.title.code":"","inspector.tab.title.history":"","timeline.property.title":"","timeline.property.resize":"  .  .","timeline.animation.property.title":"","timeline.play.control.play":"","timeline.play.control.pause":"","timeline.play.control.first":"","timeline.play.control.prev":"","timeline.play.control.next":"","timeline.play.control.last":"","timeline.play.control.direction":"","timeline.play.control.speed":"","timeline.play.control.repeat":"","timeline.play.control.infinite":"","timeline.play.control.normal":"normal","timeline.play.control.alternate":"alternate","timeline.play.control.reverse":"reverse","timeline.play.control.alternate.reverse":"alternate reverse","timeline.value.editor.value":"","timeline.value.editor.time":"","timeline.value.editor.timing":" ","timeline.value.editor.offset.message":"Enter  .","svgfilter.popup.title":"SVG ","css.item.rotate":"","css.item.rotateX":"X ","css.item.rotateY":"Y ","css.item.rotateZ":"Z ","css.item.rotate3d":"3D ","css.item.skewX":"X ","css.item.skewY":"Y ","css.item.translate":"","css.item.translateX":"X ","css.item.translateY":"Y ","css.item.translateZ":"Z ","css.item.translate3d":"3D ","css.item.perspective":"","css.item.scale":"","css.item.scaleX":"X ","css.item.scaleY":"Y ","css.item.scaleZ":"Z ","css.item.scale3d":"3D ","css.item.matrix":" ","css.item.matrix3d":"3D  ","animation.property.title":"CSS ","animation.property.direction":"","animation.property.play.state":" ","animation.property.fill.mode":" ","animation.property.delay":"","animation.property.duration":"","animation.property.iteration.count":" ","animation.property.select a keyframe":" ","animation.property.popup.title":"CSS ","animation.property.popup.timing.function":" ","animation.property.popup.keyframe":"","animation.property.popup.direction":"","animation.property.popup.play.state":" ","animation.property.popup.fill.mode":" ","animation.property.popup.delay":"","animation.property.popup.duration":"","animation.property.popup.iteration":" ","animation.property.popup.normal":"","animation.property.popup.reverse":"","animation.property.popup.alternate":" ","animation.property.popup.alternate-reverse":" ","animation.property.popup.none":"none","animation.property.popup.forwards":"forwards","animation.property.popup.backwards":"backwards","animation.property.popup.both":"both","animation.property.popup.Select a keyframe":" .","keyframe.popup.title":"","code.view.property.title":"","svg.filter.editor.tab.filter":"","svg.filter.editor.tab.preset":"","svg.filter.editor.tab.asset":"","svg.filter.editor.GRAPHIC REFERENCES":" ","svg.filter.editor.SOURCES":"","svg.filter.editor.MODIFIER":"","svg.filter.editor.LIGHTING":"","svg.filter.editor.COMBINERS":"","svg.filter.editor.Template":"","layout.property.title":"","layout.property.flex":" ","layout.property.grid":"","layout.property.default":" ","flex.layout.editor.row":"","flex.layout.editor.column":"","flex.layout.editor.row-reverse":" ","flex.layout.editor.column-reverse":" ","flex.layout.editor.nowrap":" ","flex.layout.editor.wrap":"","flex.layout.editor.wrap-reverse":" ","flex.layout.editor.flex-start":"","flex.layout.editor.flex-end":"","flex.layout.editor.center":"","flex.layout.editor.space-between":"  ","flex.layout.editor.space-around":"  ","flex.layout.editor.baseline":"","flex.layout.editor.stretch":"","flex.layout.editor.direction":"","flex.layout.editor.justify-content":" ","flex.layout.editor.align-items":" ","flex.layout.editor.align-content":" ","flex.layout.item.property.title":"  ","flex.layout.item.property.grow":" ","flex.layout.item.property.shrink":" ","flex.layout.item.property.basis":" ","flex.layout.item.property.none":"","flex.layout.item.property.auto":"","flex.layout.item.property.value":"","grid.layout.editor.template.columns":"","grid.layout.editor.column.gap":" ","grid.layout.editor.template.rows":"","grid.layout.editor.row.gap":" ","grid.box.editor.box.title":"","grid.box.editor.type":"","grid.box.editor.repeat":"","grid.box.editor.length":"","grid.box.editor.none":"","grid.box.editor.auto":"","grid.box.editor.count":"","grid.box.editor.value":"","grid.layout.item.property.title":"  ","grid.layout.item.property.column":"","grid.layout.item.property.row":"","grid.layout.item.property.start":"","grid.layout.item.property.End":"","grid.layout.item.property.none":"","grid.layout.item.property.value":"","box.model.property.title":" ","box.model.property.margin":"","box.model.property.padding":"","component.items.canvas":"","component.items.layer":"","component.items.3dlayer":"3D ","component.items.drawing":"","component.items.custom":"  ","svg.text.property.title":"SVG Text ","svg.text.property.textarea":" ","svg.text.property.size":" ","svg.text.property.weight":" ","svg.text.property.style":" ","svg.text.property.anchor":" ","svg.text.property.family":" ","svg.text.property.length.adjust":" ","svg.text.property.text.length":" ","svg.text.property.start.offset":" ","fill.picker.popup.title":" ","gradient.editor.drag.message":"     .","draw.manager.tolerance":"  ","pattern.property.title":"","pattern.info.popup.title":" ","pattern.info.popup.width":"","pattern.info.popup.height":"","pattern.info.popup.lineWidth":" ","pattern.info.popup.lineHeight":" ","pattern.info.popup.rotate":"","pattern.info.popup.blend":"","pattern.info.popup.foreColor":"","pattern.info.popup.backColor":"","stroke.dasharray.editor.add":" "}},Ur={locales:Wr,get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en_US",r=Wr[n][t]||Wr.en_US[t]||t||void 0;if(ae(r))return r(e);var o=r;return t===o?t.split(".").pop():(Wt(e,(function(t,e){o=o.replace(new RegExp("{".concat(t,"}"),"ig"),e)})),o)},hasKey:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US";return!(!Wr[e][t]&&!Wr.en_US[t])}},Zr={dark:{left_size:250,left_max_size:400,bottom_size:150,bottom_max_size:500,timeline_grid_font_color:"#ececec",timeline_line_color:"red",timeline_timeview_bottom_color:"black"},light:{left_size:250,left_max_size:400,bottom_size:150,bottom_max_size:500,timeline_grid_font_color:"black",timeline_line_color:"#4778d4",timeline_timeview_bottom_color:"#ececec"},toon:{left_size:250,left_max_size:400,bottom_size:150,bottom_max_size:500,timeline_grid_font_color:"black",timeline_line_color:"#4778d4",timeline_timeview_bottom_color:"#ececec"}};function qr(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Jr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function to(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var eo=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.items=[],this.itemKeys={}}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.items=[],this.itemKeys={}}},{key:"currentProject",value:function(t){var e=this.$editor.selection.currentProject;e&&t&&t(e)}},{key:"empty",value:function(){this.select()}},{key:"each",value:function(t){this.items.forEach((function(e,n){t&&t(e,n)}))}},{key:"refreshCache",value:function(t){var e=this;this.items=t,this.itemKeys={},this.items.forEach((function(t){e.itemKeys[t.id]=t}))}},{key:"cachedList",value:function(){return this.items.map((function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jr(Object(n),!0).forEach((function(e){Qr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)}))}},{key:"checked",value:function(t){return!!this.itemKeys[t]}},{key:"selectLayer",value:function(t){var e=this;this.currentProject((function(n){var r=n.getKeyframeListReturnArray().filter((function(e){return e.layerId===t}));e.refreshCache(r)}))}},{key:"toggleLayerContainer",value:function(t){this.currentProject((function(e){e.getSelectedTimeline().animations.filter((function(e){return e.id===t})).forEach((function(t){t.collapsed=!t.collapsed}))}))}},{key:"selectProperty",value:function(t,e){var n=this;this.currentProject((function(r){var o=r.getKeyframeListReturnArray().filter((function(n){return n.layerId===t&&n.property===e}));n.refreshCache(o)}))}},{key:"select",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.refreshCache(e)}},{key:"selectBySearch",value:function(t,e,n){var r=this;this.currentProject((function(o){var i=[];t.forEach((function(t){var r=[];if(t.property){var a=o.getTimelineProperty(t.layerId,t.property);r=a.keyframes.filter((function(t){return e<=t.time&&t.time<=n}))}else(a=o.getTimelineObject(t.layerId)).properties.filter((function(e){return e.property===t.property})).forEach((function(t){var o;(o=r).push.apply(o,qr(t.keyframes.filter((function(t){return e<=t.time&&t.time<=n}))))}));i.push.apply(i,qr(r))}));var a={};i.forEach((function(t){a[t.id]=t})),r.select.apply(r,qr(Object.values(a)))}))}},{key:"checkLayer",value:function(t){var e=this;return Object.keys(this.itemKeys).some((function(n){return e.itemKeys[n].layerId===t}))}},{key:"checkProperty",value:function(t,e){var n=this;return Object.keys(this.itemKeys).some((function(r){return n.itemKeys[r].layerId===t&&n.itemKeys[r].property===e}))}}])&&to(e.prototype,n),r&&to(e,r),t}();function no(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?no(Object(n),!0).forEach((function(e){oo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function io(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function co(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var uo=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return io(this,t),this.ref=new Proxy(this,{get:function(t,e){var n=t[e];return ae(n)?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(t,r)}:n||t.json[e]},set:function(t,n,r){if(!e.checkField(n,r))throw new Error("".concat(r," is invalid as ").concat(n," property value."));var o=t.json[n]!=r;return t.json[n]=r,o&&e.changed(),!0}}),n instanceof t&&(n=n.toJSON()),this.json=this.convert(Object.assign(this.getDefaultObject(),n)),this.ref}var e,n,r;return e=t,(n=[{key:"getDefaultTitle",value:function(){return"Item"}},{key:"getIcon",value:function(){return""}},{key:"isAttribute",value:function(){return!1}},{key:"isChanged",value:function(t){return this.json.timestamp!=Number(t)}},{key:"changed",value:function(){this.json.timestamp=this.json._timestamp+performance.now()}},{key:"getInnerId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.json.id+t}},{key:"recover",value:function(){}},{key:"setCache",value:function(){}},{key:"is",value:function(){if(!this.json)return!1;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.indexOf(this.json.itemType)>-1}},{key:"isNot",value:function(){return!1===this.is.apply(this,arguments)}},{key:"generateListNumber",value:function(){this.layers.forEach((function(t,e){t.no=e,t.generateListNumber()}))}},{key:"convert",value:function(t){var e=this;return t.layers&&t.layers.forEach((function(t){t.parent=e.ref})),t}},{key:"checkField",value:function(t,e){return!0}},{key:"toCloneObject",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e={itemType:this.json.itemType,elementType:this.json.elementType,type:this.json.type,visible:this.json.visible,lock:this.json.lock,selected:this.json.selected};return t&&(e.layers=this.json.layers.map((function(e){return e.clone(t)}))),e}},{key:"clone",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.constructor,n=new e(this.toCloneObject(t));return n.parent=this.json.parent,n}},{key:"reset",value:function(e){e instanceof t&&(e=e.toJSON()),this.json=this.convert(Object.assign(this.json,e)),this.changed()}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Z();return ro({id:e,_timestamp:Date.now(),_time:performance.now(),visible:!0,lock:!1,selected:!1,layers:[]},t)}},{key:"add",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self",r={};if(t.parent&&(r=t.screenRect,t.remove()),"self"===n)t.parent=this.ref,this.json.layers.push(t);else if("before"===n){t.parent=this.parent.ref;var o=[];this.parent.layers.forEach((function(n){n===e.ref&&o.push(t),o.push(n)})),this.parent.layers=o}else"after"===n&&(t.parent=this.parent.ref,o=[],this.parent.layers.forEach((function(n){o.push(n),n===e.ref&&o.push(t)})),this.parent.layers=o);return r.left&&t.setScreenX(r.left.value),r.top&&t.setScreenY(r.top.value),t}},{key:"setPositionInPlace",value:function(t,e){this.layers.splice(t,0,e)}},{key:"toggle",value:function(t,e){Qt(e)?this.json[t]=!this.json[t]:this.json[t]=!!e}},{key:"isTreeItemHide",value:function(){var t=this.parent,e=[];do{if(t.is("project"))break;if(t.is("artboard"))break;e.push(Boolean(t.collapsed)),t=t.parent}while(t);return Boolean(e.filter(Boolean).length)}},{key:"expectJSON",value:function(t){return"parent"!==t&&!Qt(this.json[t])}},{key:"toJSON",value:function(){var t=this,e=this.json,n={};return Object.keys(e).filter((function(e){return t.expectJSON(e)})).forEach((function(t){n[t]=e[t]})),n}},{key:"resize",value:function(){}},{key:"copy",value:function(){return this.json.parent.copyItem(this.ref)}},{key:"copyItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=t.clone();n.x.add(e),n.y.add(e);for(var r=this.json.layers,o=-1,i=0,a=r.length;i<a;i++)if(r[i]===t){o=i;break}return o>-1&&this.json.layers.splice(o+1,0,n),n}},{key:"remove",value:function(){this.json.parent.removeItem(this.ref)}},{key:"removeItem",value:function(t){for(var e=this.json.layers,n=0,r=e.length;n<r;n++)if(e[n]===t){e[n]=void 0;break}this.json.layers=this.json.layers.filter((function(t){return te(t)}))}},{key:"hasParent",value:function(t){var e=this.json.parent.id===t;return e||!1!==this.json.parent.is("project")?e:this.json.parent.hasParent(t)}},{key:"searchById",value:function(t){if(this.id===t)return this.ref;for(var e=0,n=this.layers.length;e<n;e++){var r=this.layers[e];if(r.id===t)return r;var o=r.searchById(t);if(o)return o}return null}},{key:"title",get:function(){return this.json.name||this.getDefaultTitle()}},{key:"allLayers",get:function(){return co(function t(e){var n=[];return e.layers.length&&e.layers.forEach((function(e){n.push.apply(n,co(t(e)))})),n.push(e),n}(this.ref))}},{key:"id",get:function(){return this.json.id}},{key:"layers",get:function(){return this.json.layers}},{key:"parent",get:function(){return this.json.parent}},{key:"depth",get:function(){return this.parent?this.parent.depth+1:1}},{key:"top",get:function(){if(!this.parent)return this.ref;var t=this.parent;do{if(!t.parent)return t;t=t.parent}while(t)}},{key:"path",get:function(){return this.parent?[].concat(co(this.parent.path),[this.id]):[this.id]}},{key:"positionInParent",get:function(){if(!this.parent)return-1;for(var t=this.parent.layers,e=-1,n=0,r=t.length;n<r;n++)if(t[n]===this.ref){e=n;break}return e}}])&&ao(e.prototype,n),r&&ao(e,r),t}();function so(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lo(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var fo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _.px(t).round(e)};function po(t,e){var n=[];return t.layers.length&&t.layers.forEach((function(t){n.push.apply(n,lo(po(t,e)))})),e.id?n.push(t):e.includes(t.id)&&n.push(t),n}var yo=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.project=null,this.artboard=null,this.items=[],this.itemKeys={},this.ids=[],this.idsString="",this.colorsteps=[]}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.colorsteps=[],this.items=[],this.itemKeys={},this.ids=[],this.idsString=""}},{key:"snapshot",value:function(){var e=new t(this.$editor);e.select(this.cachedItems),this.$editor.history.add("selection","selection",{selection:e})}},{key:"getRootItem",value:function(t){var e=t||this.currentArtboard;return t&&(t.is("artboard")?e=t:t.parent&&(e=t.parent)),e}},{key:"selectColorStep",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.colorsteps=e}},{key:"isSelectedColorStep",value:function(t){return this.colorsteps.includes(t)}},{key:"selectProject",value:function(t){this.project=t,this.artboard=null,this.project.artboards.length&&this.selectArtboard(this.project.artboards[0])}},{key:"selectArtboard",value:function(t){this.artboard=t,this.items=[],this.artboard.layers.length&&this.select(this.artboard.layers[0])}},{key:"hasDifference",value:function(t){if(t.length!=this.items.length)return!0;var e=t.map((function(t){return t.id}));return e.sort(),e.join(",")!=this.idsString}},{key:"select",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=(n||[]).filter((function(t){return!t.lock&&t.isAbsolute}));return!1!==this.hasDifference(o)&&(this.items=o,this.itemKeys={},this.items.forEach((function(e){t.itemKeys[e.id]=e})),this.ids=Object.keys(this.itemKeys),this.ids.sort(),this.idsString=this.ids.join(","),this.setRectCache(),!0)}},{key:"reselect",value:function(){this.setRectCache()}},{key:"check",value:function(t){return this.itemKeys[t.id]}},{key:"get",value:function(t){return this.itemKeys[t]}},{key:"isArtBoard",value:function(){return!!this.items.length&&this.current.is("artboard")}},{key:"empty",value:function(){this.select()}},{key:"itemsByIds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ee(t)?po(this.project,t):re(t)||ie(t)?po(this.project,[t]):this.items}},{key:"makeItemMap",value:function(t){var e={};return this.ids.forEach((function(n){e[n]=ue(t)})),e}},{key:"selectById",value:function(t){this.select.apply(this,lo(po(this.project,t)))}},{key:"addById",value:function(t){this.itemKeys[t]||this.select.apply(this,lo(this.items).concat(lo(po(this.project,t))))}},{key:"removeById",value:function(t){this.select.apply(this,lo(this.items.filter((function(e){return e.id!=t}))))}},{key:"toggleById",value:function(t){this.itemKeys[t]?this.removeById(t):this.addById(t)}},{key:"doCache",value:function(){this.items.forEach((function(t){t.setCache()}))}},{key:"setRectCache",value:function(){this.cachedItems=this.items.map((function(t){return t.toCloneObject()})),this.setAllRectCache()}},{key:"toCloneObject",value:function(){var t={};return this.each((function(e){t[e.id]=e.toCloneObject(!1)})),t}},{key:"cloneValue",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r={};return this.each((function(t){r[t.id]={},e.forEach((function(e){r[t.id][e]=t[e]}))})),r}},{key:"setAllRectCache",value:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;this.cachedItems.forEach((function(o){t=Math.min(o.screenX.value,t),e=Math.min(o.screenY.value,e),n=Math.max(o.screenX.value+o.screenWidth.value,n),r=Math.max(o.screenY.value+o.screenHeight.value,r)})),t===Number.MAX_SAFE_INTEGER&&(t=0),e===Number.MAX_SAFE_INTEGER&&(e=0),n===Number.MIN_SAFE_INTEGER&&(n=0),r===Number.MIN_SAFE_INTEGER&&(r=0),this.allRect={x:t,y:e,width:n-t,height:r-e}}},{key:"each",value:function(t){var e=this;ae(t)&&this.items.forEach((function(n,r){t(n,e.cachedItems[r])}))}},{key:"map",value:function(t){var e=this;return ae(t)?this.items.map((function(n,r){return t(n,e.cachedItems[r])})):this.items}},{key:"reset",value:function(t){this.each((function(e){return e.reset(t)}))}},{key:"resetCallback",value:function(t){this.each((function(e){return e.reset(t(e))}))}},{key:"resize",value:function(){this.each((function(t){return t.resize()}))}},{key:"remove",value:function(){this.each((function(t){return t.remove()})),this.empty()}},{key:"copy",value:function(){this.copyItems=this.items.map((function(t){return t}))}},{key:"paste",value:function(){this.select.apply(this,lo(this.copyItems.map((function(t){return t.copy()})))),this.copy()}},{key:"isInParent",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t,r=n.parent,o=!n.is("artboard")&&e.includes(r);!o&&!Qt(r);)n=r,r=r.parent,o=!n.is("artboard")&&e.includes(r);return o}},{key:"move",value:function(t,e){var n=this;this.each((function(r,o){n.isInParent(r,n.items)||r.move(fo(o.x.value+t),fo(o.y.value+e))})),this.reselect()}},{key:"current",get:function(){return this.items[0]}},{key:"currentProject",get:function(){return this.project}},{key:"currentArtboard",get:function(){return this.artboard}},{key:"isEmpty",get:function(){return!this.length}},{key:"length",get:function(){return this.items.length}},{key:"isRelative",get:function(){return"relative"===(this.items[0]||{}).position}}])&&so(e.prototype,n),r&&so(e,r),t}();function ho(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var bo=new(function(){function t(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];ho(this,t),this.components={}}var e,n,r;return e=t,(n=[{key:"registerComponent",value:function(t,e){this.components[t]=e}},{key:"getComponentClass",value:function(t){return this.components[t]||this.components.rect}},{key:"createComponent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getComponentClass(t);if(!n)throw new Error("".concat(t," type is not valid."));return new n(e)}}])&&vo(e.prototype,n),r&&vo(e,r),t}());function mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var go={command:"setAttribute",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.selection.itemsByIds(n).forEach((function(n){Object.keys(e).forEach((function(t){var r=e[t];ae(r)&&(r=r(n)),n.reset(mo({},t,r))})),n.setCache(),t.emit("refreshElement",n)}))}};function wo(t){t.emit("noneSelectMenu"),t.emit("refreshAll"),t.nextTick((function(){t.emit("refreshSelectionTool")}))}function Oo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ko(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var So=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isEqual",value:function(e,n,r){return 2===arguments.length?e.x===n.x&&e.y===n.y:3===arguments.length?t.isEqual(e,n)&&t.isEqual(n,r):void 0}},{key:"isFirst",value:function(t){return t&&"M"==t.command}},{key:"DouglasPeuker",value:function(e,n,r,o){if(!(o<=r+1)){for(var i=0,a=r,c=e*e,u=n[r],s=n[o],l=r+1;l<o;l++){var f=t.segmentDistance2(n[l].x,n[l].y,u,s);f<=i||(a=l,i=f)}i>c&&(n[a].mark=!0,t.DouglasPeuker(e,n,r,a),t.DouglasPeuker(e,n,a,o))}}},{key:"simply",value:function(e,n){return e.length<=2?e:((e=ue(e))[0].mark=!0,e[e.length-1].mark=!0,t.DouglasPeuker(n,e,0,e.length-1),e.filter((function(t){return Boolean(t.mark)})))}},{key:"segmentDistance2",value:function(t,e,n,r){var o=r.x-n.x,i=r.y-n.y,a=o*o+i*i,c=t-n.x,u=e-n.y,s=o*c+i*u;if(0===a)return c*c+u*u;if(s<=0)return c*c+u*u;if(s>=a)return(c=t-r.x)*c+(u=e-r.y)*u;var l=c*i-u*o;return l*l/a}},{key:"isInLine",value:function(t,e,n){return t.x===n.x?e.x===n.x:t.y===n.y?e.y===n.y:(t.x-n.x)*(t.y-n.y)==(n.x-e.x)*(n.y-e.y)}},{key:"isLine",value:function(e){return t.isInLine(e.endPoint,e.startPoint,e,reversePoint)}},{key:"getReversePoint",value:function(t,e){var n=t.x-e.x,r=t.y-e.y;return{x:t.x+n,y:t.y+r}}},{key:"getIndexPoint",value:function(t,e){return t[e]}},{key:"getPoint",value:function(e,n){return e.filter((function(e){return t.isEqual(e.startPoint,n)}))[0]}},{key:"getIndex",value:function(e,n){for(var r=-1,o=0,i=e.length;o<i;o++){var a=e[o];if(t.isEqual(a.startPoint,n)){r=o;break}}return r}},{key:"getPointIndex",value:function(e,n){for(var r=-1,o=0,i=e.length;o<i;o++){var a=e[o];if(t.isEqual(a,n)){r=o;break}}return r}},{key:"getLastPoint",value:function(t,e){if(!t.length)return null;for(var n=-1,r=e+1,o=t.length;r<o;r++)if("M"===t[r].command){n=r-1;break}-1==n&&(n=t.length-1),t[n]&&"Z"===t[n].command&&(n-=1);var i=t[n];return i&&(i.index=n),i}},{key:"getFirstPoint",value:function(t,e){for(var n=-1,r=e-1;r>0;r--)if("M"===t[r].command){n=r;break}-1===n&&(n=0);var o=t[n];return o&&(o.index=n),o}},{key:"getPrevPoint",value:function(e,n){var r=n-1;if(r<0)return t.getLastPoint(e,n);var o=e[r];return o&&(o.index=r),o}},{key:"getNextPoint",value:function(e,n){var r=e[n],o=e[n+1];return o&&(o.index=n+1),r.connected&&(o=t.getFirstPoint(e,n)),o}},{key:"removePoint",value:function(t,e,n){if("startPoint"===n)return t.filter((function(t,n){return n!==e}))}},{key:"splitPoints",value:function(e){var n=[],r=[];return e.forEach((function(e){t.isFirst(e)?(r=[e],n.push(r)):r.push(e)})),n}},{key:"recoverPoints",value:function(t){var e=[];return t.forEach((function(t){t.forEach((function(t,e){0===e&&(t.command="M",t.originalCommand="M")})),e.push.apply(e,ko(t))})),e.forEach((function(t,e){t.index=e})),e}}],(n=null)&&jo(e.prototype,n),r&&jo(e,r),t}();function Po(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function xo(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $o=/([mMlLvVhHcCsSqQtTaAzZ]([^mMlLvVhHcCsSqQtTaAzZ]*))/g,Co=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,To={multiply:function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=+e[n],o=+e[n+1];return[t[0][0]*r+t[0][1]*o+t[0][2],t[1][0]*r+t[1][1]*o+t[1][2],1]}},toPercent:function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=+n[r],i=+n[r+1];return[o/t,i/e,1]}},toPixel:function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=+n[r],i=+n[r+1];return[o*t,i*e,1]}},translate:function(t,e){return this.multiply([[1,0,t],[0,1,e],[0,0,1]])},rotate:function(t){return this.multiply([[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]])},rotateCenter:function(t,e,n){return this.multiply([[Math.cos(t),-Math.sin(t),-e*Math.cos(t)+n*Math.sin(t)+e],[Math.sin(t),Math.cos(t),-e*Math.sin(t)-n*Math.cos(t)+n],[0,0,1]])},scale:function(t,e){return this.multiply([[t,0,0],[0,e,0],[0,0,1]])},skewX:function(t){return this.multiply([[1,t,0],[0,1,0],[0,0,1]])},skewY:function(t){return this.multiply([[1,0,0],[t,1,0],[0,0,1]])},reflectionOrigin:function(){return this.multiply([[-1,0,0],[0,-1,0],[0,0,1]])},flipX:function(){return this.multiply([[1,0,0],[0,-1,0],[0,0,1]])},flipY:function(){return this.multiply([[-1,0,0],[0,1,0],[0,0,1]])}},Ro=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_o(this,t),this.reset(e)}var e,n,r;return e=t,(n=[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.pathString=t,this.parse()}},{key:"resetSegments",value:function(t){this.segments=t||[],this.pathString=this.joinPath()}},{key:"trim",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.match(Co)||[];return e.filter((function(t){return""!=t}))}},{key:"parse",value:function(){var t=this,e=this.pathString.match($o)||[];this.segments=e.map((function(e){var n=e[0];return{command:n,values:t.trim(e.replace(n,"")).map((function(t){return+t}))}})),this.segments=this.segments.map((function(e,n){switch(e.command){case"c":case"m":case"l":case"q":case"s":case"t":case"v":case"h":for(var r=t.segments[n-1],o=r.values[r.values.length-2],i=r.values[r.values.length-1],a=0,c=e.values.length;a<c;a+=2)e.values[a]+=o,e.values[a+1]+=i;return{command:e.command.toUpperCase(),values:xo(e.values)};default:return e}}))}},{key:"convertGenerator",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var r=this.segments[e],o=this.segments[e+1],i=r.command,a=r.values;if("M"===i){var c=Po(a,2),u=c[0],s=c[1];t.push({command:i,originalCommand:i,startPoint:{x:u,y:s},endPoint:{x:u,y:s},reversePoint:{x:u,y:s},curve:!1})}else if("L"===i)if((k=So.getPrevPoint(t,t.length)).curve){var l=Po(a,2);u=l[0],s=l[1],t.push({command:i,originalCommand:i,startPoint:{x:u,y:s},endPoint:{x:u,y:s},reversePoint:ue(k.endPoint),curve:!0})}else{var f=Po(a,2);u=f[0],s=f[1],t.push({command:i,originalCommand:i,startPoint:{x:u,y:s},endPoint:{x:u,y:s},reversePoint:{x:u,y:s},curve:!1})}else if("Q"===i){var p=Po(a,4),y=p[0],h=p[1];if(u=p[2],s=p[3],(k=So.getPrevPoint(t,t.length)).curve){var d={x:u,y:s},v={x:u,y:s},b={x:u,y:s};t.push({command:"L",originalCommand:i,startPoint:d,endPoint:v,reversePoint:b,curve:!1}),k.endPoint={x:y,y:h}}else o&&"L"===o.command?(k.curve=!0,k.endPoint={x:y,y:h},d={x:u,y:s},b={x:u,y:s},v={x:u,y:s},t.push({command:"L",originalCommand:i,curve:!1,startPoint:d,endPoint:v,reversePoint:b})):(d={x:u,y:s},b={x:y,y:h},v={x:u,y:s},t.push({command:i,originalCommand:i,curve:!0,startPoint:d,endPoint:v,reversePoint:b}))}else if("T"===i){var m=Po(a,2);if(u=m[0],s=m[1],(x=segments[e-1])&&"Q"===x.command){var g=Po(x.values,4),w=(y=g[0],h=g[1],g[2]),O=g[3];(k=So.getPrevPoint(t,t.length)).endPoint=So.getReversePoint({x:w,y:O},{x:y,y:h}),d={x:u,y:s},v={x:u,y:s},b={x:u,y:s},t.push({command:"L",originalCommand:i,startPoint:d,endPoint:v,reversePoint:b,curve:!1})}}else if("C"===i){var k=So.getPrevPoint(t,t.length),j=Po(a,6),S=(y=j[0],h=j[1],j[2]),P=j[3];d={x:u=j[4],y:s=j[5]},b={x:S,y:P},v={x:u,y:s},t.push({command:i,originalCommand:i,curve:!0,startPoint:d,endPoint:v,reversePoint:b}),k&&(k.curve=!0,k.endPoint={x:y,y:h})}else if("S"===i){var x,_=Po(a,2);if(u=_[0],s=_[1],(x=segments[e-1])&&"C"===x.command){var E=Po(x.values,4);S=E[0],P=E[1],w=E[2],O=E[3],(k=So.getPrevPoint(t,t.length)).endPoint=So.getReversePoint(k.startPoint,k.reversePoint),d={x:u,y:s},v={x:u,y:s},b={x:S,y:P},t.push({command:"Q",originalCommand:i,startPoint:d,endPoint:v,reversePoint:b,curve:!1})}}else if("Z"===i){k=So.getPrevPoint(t,t.length);var $=So.getFirstPoint(t,t.length);So.isEqual(k.startPoint,$.startPoint)&&(k.connected=!0,k.endPoint=ue($.endPoint),$.reversePoint=ue(k.reversePoint)),k.close=!0}}return t=t.filter((function(t){return!!t}))}},{key:"length",value:function(){return this.segments.length}},{key:"setSegments",value:function(t,e){this.segments[t]=e}},{key:"getSegments",value:function(t){return te(t)?this.segments[t]:this.segments}},{key:"joinPath",value:function(t){return(t||this.segments).map((function(t){return"".concat(t.command," ").concat(t.values.length?t.values.join(" "):"")})).join("")}},{key:"each",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.segments.map((function(n){return t.call(e,n)}));if(n)return r;this.segments=r}},{key:"_loop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(e){var n=e.values;switch(e.command){case"M":case"L":var r=t(n,0);e.values=[r[0],r[1]];break;case"V":r=t([+n[0],0]),e.values=[r[0]];break;case"H":r=t([0,+n[0]]),e.values=[r[1]];break;case"C":case"S":case"T":case"Q":for(var o=0,i=n.length;o<i;o+=2)r=t(n,o),e.values[o]=r[0],e.values[o+1]=r[1]}return e}),e)}},{key:"clone",value:function(){return new t(this.joinPath())}},{key:"toPercent",value:function(t,e){return this._loop(To.toPercent(t,e)),this}},{key:"toPixel",value:function(t,e){return this._loop(To.toPixel(t,e)),this}},{key:"translate",value:function(t,e){return this._loop(To.translate(t,e)),this}},{key:"translateTo",value:function(t,e){return this.joinPath(this._loop(To.translate(t,e),!0))}},{key:"scale",value:function(t,e){return this._loop(To.scale(t,e)),this}},{key:"scaleTo",value:function(t,e){return this.joinPath(this._loop(To.scale(t,e),!0))}},{key:"rotate",value:function(t,e,n){return te(e)&&te(n)?this._loop(To.rotateCenter(t,e,n)):this._loop(To.rotate(t)),this}},{key:"rotateTo",value:function(t){return this.joinPath(this._loop(To.rotate(t),!0))}},{key:"reflectionOrigin",value:function(t){return this._loop(To.reflectionOrigin(t)),this}},{key:"reflectionOriginTo",value:function(t){return this.joinPath(this._loop(To.reflectionOrigin(t),!0))}},{key:"flipX",value:function(t){return this._loop(To.flipX(t)),this}},{key:"flipXTo",value:function(t){return this.joinPath(this._loop(To.flipX(t),!0))}},{key:"flipY",value:function(t){return this._loop(To.flipY(t)),this}},{key:"flipYTo",value:function(t){return this.joinPath(this._loop(To.flipY(t),!0))}},{key:"skewX",value:function(t){return this._loop(To.skewX(t)),this}},{key:"skewXTo",value:function(t){return this.joinPath(this._loop(To.skewX(t),!0))}},{key:"skewY",value:function(t){return this._loop(To.skewY(t)),this}},{key:"skewYTo",value:function(t){return this.joinPath(this._loop(To.skewY(t),!0))}},{key:"toString",value:function(){return this.joinPath()}},{key:"d",get:function(){return this.toString()}}])&&Eo(e.prototype,n),r&&Eo(e,r),t}();function Do(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Do(Object(n),!0).forEach((function(e){Ao(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ao(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Io(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Io(Object(n),!0).forEach((function(e){Mo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Bo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pathArray=[]}var e,n,r;return e=t,r=[{key:"makeRect",value:function(e,n,r,o){return(new t).M({x:e,y:n}).L({x:e+r,y:n}).L({x:e+r,y:n+o}).L({x:e,y:n+o}).L({x:e,y:n}).Z().d}},{key:"makeLine",value:function(e,n,r,o){return(new t).M({x:e,y:n}).L({x:r,y:o}).d}},{key:"makeCircle",value:function(e,n,r,o){var i=(new t).M({x:0,y:-1}).C({x:.552284749831,y:-1},{x:1,y:-.552284749831},{x:1,y:0}).C({x:1,y:.552284749831},{x:.552284749831,y:1},{x:0,y:1}).C({x:-.552284749831,y:1},{x:-1,y:.552284749831},{x:-1,y:0}).C({x:-1,y:-.552284749831},{x:-.552284749831,y:-1},{x:0,y:-1}).Z().d,a=new Ro(i);return a.translate(1,1).scale(r/2,o/2).translate(e,n),a.toString()}},{key:"makePathByPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=new t,r=0,o=e.length;r<o;r++){var i=e[r];0===r?n.M(i):n.L(i)}return n.d}}],(n=[{key:"reset",value:function(){this.pathArray=[]}},{key:"getPointString",value:function(t){return t.map((function(t){return"".concat(t.x," ").concat(t.y)})).join(" ")}},{key:"makeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.pathArray.push("".concat(t," ").concat(this.getPointString(e))),this}},{key:"M",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("M",e)}},{key:"L",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("L",e)}},{key:"Q",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("Q",e)}},{key:"C",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("C",e)}},{key:"Z",value:function(){return this.makeString("Z")}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"object";return('<path d="'.concat(this.d,"\" class='").concat(t,"'/>"))}},{key:"d",get:function(){return this.pathArray.join(" ").trim()}}])&&zo(e.prototype,n),r&&zo(e,r),t}();function Fo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fo(Object(n),!0).forEach((function(e){Go(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Go(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yo={command:"fileDropItems",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.emit("updateResource",e)}},Xo={command:"updateImage",execute:function(t,e,n){var r=new FileReader;r.onload=function(r){var o=r.target.result,i=URL.createObjectURL(e);t.emit("addImageAssetItem",{id:Z(),type:e.type,name:e.name,original:o,local:i},n)},r.readAsDataURL(e)}},No={command:"updateVideo",execute:function(t,e,n){var r=new FileReader;r.onload=function(r){var o=r.target.result,i=URL.createObjectURL(e);t.emit("addVideoAssetItem",{id:Z(),type:e.type,name:e.name,original:o,local:i},n)},r.readAsDataURL(e)}};function Ko(t,e){var n=new Image;n.onload=function(){var r={id:t.id,local:t.local,naturalWidth:_.px(n.naturalWidth),naturalHeight:_.px(n.naturalHeight),width:_.px(n.naturalWidth),height:_.px(n.naturalHeight)};e&&e(r,n)},n.onerror=function(t){console.log(t,t.message)},n.src=t.local}function Wo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wo(Object(n),!0).forEach((function(e){Zo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qo={command:"addImageAssetItem",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.selection.currentProject;r&&(r.createImage(e),t.emit("addImageAsset"),Ko(e,(function(r){t.emit("addImage",Uo({src:e.id},r,{},n)),t.changeMode(Qy),t.emit("afterChangeMode")})))}};function Jo(t,e){var n=document.createElement("video");n.onloadeddata=function(){var r={local:t.local,naturalWidth:_.px(n.videoWidth),naturalHeight:_.px(n.videoHeight),width:_.px(n.videoWidth),height:_.px(n.videoHeight),duration:n.duration,playTime:"0:1:".concat(n.duration),volume:n.volume,muted:n.muted,placebackRate:n.playbackRate};e&&e(r,n)},n.src=t.local}function Qo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ti(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qo(Object(n),!0).forEach((function(e){ei(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ei(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ni={command:"addVideoAssetItem",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.selection.currentProject;r&&(r.createVideo(e),t.emit("addVideoAsset"),Jo(e,(function(r){t.emit("addVideo",ti({src:e.id},r,{},n)),t.changeMode(Qy),t.emit("afterChangeMode")})))}};function ri(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ii={command:"dropImageUrl",execute:function(t,e){Ko({local:e},(function(e){t.emit("addImage",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ri(Object(n),!0).forEach((function(e){oi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({src:e.local},e)),t.changeMode(Qy),t.emit("afterChangeMode")}))}},ai={command:"addSVGFilterAssetItem",execute:function(t,e){var n=t.selection.currentProject;if(n){var r=Z(),o=n.createSVGFilter({id:r,filters:[]});e&&e(o,r)}}},ci={command:"updateImageAssetItem",execute:function(t,e,n){var r=new FileReader;r.onload=function(r){var o=r.target.result,i=URL.createObjectURL(e),a=t.selection.currentProject;a&&(a.createImage({id:Z(),type:e.type,name:e.name,original:o,local:i}),t.emit("addImageAsset"),ae(n)&&n(i))},r.readAsDataURL(e)}},ui={command:"updateVideoAssetItem",execute:function(t,e,n){var r=new FileReader;r.onload=function(r){var o=r.target.result,i=URL.createObjectURL(e),a=t.selection.currentProject;a&&(a.createVideo({id:Z(),type:e.type,name:e.name,original:o,local:i}),t.emit("addVideoAsset"),ae(n)&&n(i))},r.readAsDataURL(e)}};function si(t){return pi(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||fi()}function li(t,e){return pi(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||fi()}function fi(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function pi(t){if(Array.isArray(t))return t}function yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var hi=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parse",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.split("data:"),o=li(r,2),i=(o[0],o[1]),a=i.split(","),c=si(a),u=c[0],s=c.slice(1),l=u.split(";"),f=li(l,2),p=f[0],y=f[1];return s=s.join(","),{mimeType:p,local:n&&t.getLink(p,y,s)}}},{key:"getLink",value:function(t,e,n){if("base64"===e){for(var r=atob(n),o=r.length,i=new Uint8Array(o),a=0;a<o;a++)i[a]=r.charCodeAt(a);var c=new Blob([i],{type:t});return URL.createObjectURL(c)}return""}}],(n=null)&&yi(e.prototype,n),r&&yi(e,r),t}(),di={command:"updateUriList",execute:function(t,e){var n=e.data;if(n.indexOf("data:")>-1){var r=hi.parse(n,!0);switch(r.mimeType){case"image/png":case"image/gif":case"image/jpg":case"image/jpeg":t.emit("addImageAssetItem",{id:Z(),type:r.mimeType,name:"",original:n,local:r.local})}}else{var o=e.data.split(".").pop(),i=e.data.split("/").pop();switch(o){case"png":case"jpg":case"gif":case"svg":t.emit("addImageAssetItem",{id:Z(),type:"image/"+o,name:i,original:e.data,local:e.data})}}}};function vi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"easylogic.json",n=document.createElement("a");n.href=t,n.download=e,n.click()}var bi={command:"downloadJSON",execute:function(t,e){var n=JSON.stringify(t.projects);vi("data:application/json;base64,"+window.btoa(n),e||"easylogic.json")}};function mi(t){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gi(Object(n),!0).forEach((function(e){Oi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Oi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ki(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ji(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Si(t,e){return!e||"object"!==mi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xi(t,e){return(xi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _i=function(t){function e(){return ki(this,e),Si(this,Pi(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xi(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wi({selected:!1,layers:[]},t)}},{key:"isAttribute",value:function(){return!0}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){return de(this.toCSS())}}])&&ji(n.prototype,r),o&&ji(n,o),e}(uo);function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ci(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$i(Object(n),!0).forEach((function(e){Ti(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ti(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ri(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vi(t,e){return!e||"object"!==Ei(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ai(t,e,n){return(Ai="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ii(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ii(t){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Li(t,e){return(Li=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mi=function(t){function e(){return Ri(this,e),Vi(this,Ii(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Li(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ai(Ii(e.prototype),"getDefaultObject",this).call(this,Ci({itemType:"image-resource",type:"image"},t))}},{key:"isGradient",value:function(){return!1}},{key:"isLinear",value:function(){return!1}},{key:"isRadial",value:function(){return!1}},{key:"isConic",value:function(){return!1}},{key:"isStatic",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"hasAngle",value:function(){return!1}},{key:"isUrl",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isAttribute",value:function(){return!0}},{key:"toString",value:function(){return"none"}}])&&Di(n.prototype,r),o&&Di(n,o),e}(_i);function zi(t){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bi(Object(n),!0).forEach((function(e){Hi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xi(t,e){return!e||"object"!==zi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ni(t,e,n){return(Ni="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ki(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ki(t){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wi(t,e){return(Wi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ui=1e10;var Zi=function(t){function e(){return Gi(this,e),Xi(this,Ki(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wi(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=[],r=pn(t),o=r.str.split(" ").filter((function(t){return t.trim()})),i=+o[0].replace("@",""),a=r.matches[i].color;if(1===o.length)n.push(new e({color:a,unit:"%",percent:0,hasNotUnit:!0}));else if(2===o.length){var c=_.parse(o[1]),u={unit:c.unit};c.isPercent()?u.percent=c.value:c.isPx()?u.px=c.value:c.isEm()&&(u.em=c.value),n.push(new e(Fi({color:a},u)))}else if(3===o.length){var s=_.parse(o[2]),l={unit:s.unit};s.isPercent()?l.percent=s.value:s.isPx()?l.px=s.value:s.isEm()&&(l.em=s.value),n.push(new e(Fi({color:a,cut:!0},l)))}return n}},{key:"createColorStep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"%",r=b(2,t),o=e/r,i=fe(r).map((function(t,e){return"".concat(Dn.random()," ").concat(e*o).concat(n)})).join(",");return i}},{key:"createRepeatColorStep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.px(1),n=b(2,t),r=fe(n).map((function(t,n){return"".concat(Dn.random()," ").concat(_.parse(e).mul(n+1))})).join(",");return r}}],(r=[{key:"getDefaultObject",value:function(){return{id:"c"+Ui++,cut:!1,percent:0,unit:"%",px:0,em:0,color:"rgba(0, 0, 0, 0)",prevColorStep:null}}},{key:"toCloneObject",value:function(){return Fi({},Ni(Ki(e.prototype),"toCloneObject",this).call(this),{cut:this.json.cut,percent:this.json.percent,unit:this.json.unit,px:this.json.px,em:this.json.em,color:this.json.color})}},{key:"on",value:function(){this.json.cut=!0}},{key:"off",value:function(){this.json.cut=!1}},{key:"toggle",value:function(){this.json.cut=!this.json.cut}},{key:"getUnit",value:function(){return"%"==this.json.unit?"percent":this.json.unit}},{key:"add",value:function(t){var e=this.getUnit();return this.json[e]+=+t,this}},{key:"sub",value:function(t){var e=this.getUnit();return this.json[e]-=+t,this}},{key:"mul",value:function(t){var e=this.getUnit();return this.json[e]*=+t,this}},{key:"div",value:function(t){var e=this.getUnit();return this.json[e]/=+t,this}},{key:"mod",value:function(t){var e=this.getUnit();return this.json[e]%=+t,this}},{key:"toLength",value:function(t){return _.parse(this.json)}},{key:"getPrevLength",value:function(){return this.json.prevColorStep?this.json.prevColorStep.toLength():""}},{key:"toString",value:function(){var t=this.json.cut?this.getPrevLength():"",e=this.json.color||"transparent";return"".concat(e," ").concat(t," ").concat(this.toLength())}},{key:"reset",value:function(t){Ni(Ki(e.prototype),"reset",this).call(this,t),this.parent&&this.parent.sortColorStep()}},{key:"isPx",get:function(){return"px"==this.json.unit}},{key:"isPercent",get:function(){return"%"==this.json.unit||"percent"===this.json.unit}},{key:"isEm",get:function(){return"em"==this.json.unit}}])&&Yi(n.prototype,r),o&&Yi(n,o),e}(uo);function qi(t){return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ji(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ji(Object(n),!0).forEach((function(e){ta(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ta(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function na(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ra(t,e){return!e||"object"!==qi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oa(t,e,n){return(oa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ia(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ia(t){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aa(t,e){return(aa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ca={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},ua=function(t){function e(){return ea(this,e),ra(this,ia(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aa(t,e)}(e,t),n=e,o=[{key:"toColorString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return"";var e=t.map((function(e,n){return e.prevColorStep=e.cut&&n>0?t[n-1]:null,e}));return 1===e.length&&e.push(new Zi({color:e[0].color||"transparent",percent:100})),e.map((function(t){return"".concat(t)})).join(",")}}],(r=[{key:"isGradient",value:function(){return!0}},{key:"toString",value:function(){return"none"}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return oa(ia(e.prototype),"getDefaultObject",this).call(this,Qi({type:"gradient",colorsteps:[]},t))}},{key:"toCloneObject",value:function(){return Qi({},oa(ia(e.prototype),"toCloneObject",this).call(this),{colorsteps:this.json.colorsteps.map((function(t){return t.clone()}))})}},{key:"convert",value:function(t){return t.colorsteps=t.colorsteps.map((function(t){return new Zi(t)})),t}},{key:"calculateAngle",value:function(){var t=this.json.angle;return Qt(ca[t])?t:ca[t]||0}},{key:"addColorStep",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.json.colorsteps.push(t),e&&this.sortColorStep(),t}},{key:"insertColorStep",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(216,216,216,0)",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(216,216,216,1)",r=this.colorsteps;if(r.length){if(t<r[0].percent)return r[0].index=1,void this.addColorStep(new Zi({index:0,color:r[0].color,percent:t}));var o=r.length-1;if(r[o].percent<t){var i=r[o].color,a=r[o].index+1;this.addColorStep(new Zi({index:a,color:i,percent:t}))}else for(var c=0,u=r.length-1;c<u;c++){var s=r[c],l=r[c+1];if(s.percent<=t&&t<=l.percent)return i=Dn.mix(s.color,l.color,(t-s.percent)/(l.percent-s.percent),"rgb"),void this.addColorStep(new Zi({index:s.index+1,color:i,percent:t}))}}else this.addColorStepList([new Zi({color:e,percent:t,index:0}),new Zi({color:n,percent:100,index:100})])}},{key:"sortColorStep",value:function(){var t=this.colorsteps;t.sort((function(t,e){return t.percent>e.percent?1:t.percent<e.percent?-1:t.percent==e.percent?t.index===e.index?0:t.index>e.index?1:-1:void 0})),t.forEach((function(t,e){t.index=100*e}))}},{key:"addColorStepList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){t.addColorStep(e,!1)})),this.sortColorStep()}},{key:"getColorStep",value:function(t){return this.json.colorsteps.filter((function(e){return e.id==t}))[0]}},{key:"clear",value:function(){arguments.length?this.json.colorsteps.splice(+(arguments.length<=0?void 0:arguments[0]),1):this.json.colorsteps=[]}},{key:"removeColorStep",value:function(t){this.json.colorsteps=this.json.colorsteps.filter((function(e){return e.id!=t}))}},{key:"getColorString",value:function(){var t=this.colorsteps;return e.toColorString(t)}},{key:"colorsteps",get:function(){return this.json.colorsteps}}])&&na(n.prototype,r),o&&na(n,o),e}(Mi);function sa(t){return(sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function la(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ya(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ha(t,e){return!e||"object"!==sa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function da(t,e,n){return(da="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=va(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function va(t){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ba(t,e){return(ba=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ma=function(t){function e(){return pa(this,e),ha(this,va(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ba(t,e)}(e,t),n=e,o=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";return new e({colorsteps:[new Zi({color:t,percent:0,index:0}),new Zi({color:t,percent:100,index:1})]})}}],(r=[{key:"getDefaultObject",value:function(){return da(va(e.prototype),"getDefaultObject",this).call(this,{type:"static-gradient",static:!0,colorsteps:[new Zi({color:"red",percent:0,index:0}),new Zi({color:"red",percent:100,index:0})]})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?la(Object(n),!0).forEach((function(e){fa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},da(va(e.prototype),"toCloneObject",this).call(this),{static:!0})}},{key:"toString",value:function(){var t=this.json.colorsteps[0].color;return"linear-gradient(to right, ".concat(t," 0%, ").concat(t," 100%)")}},{key:"isStatic",value:function(){return!0}}])&&ya(n.prototype,r),o&&ya(n,o),e}(ua);function ga(t){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wa(Object(n),!0).forEach((function(e){ka(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ka(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ja(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pa(t,e,n){return e&&Sa(t.prototype,e),n&&Sa(t,n),t}function xa(t,e){return!e||"object"!==ga(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _a(t,e,n){return(_a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ea(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ea(t){return(Ea=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ca(t,e)}function Ca(t,e){return(Ca=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ta=["jpg","jpeg","png","gif","svg"];var Ra=function(t){function e(){return ja(this,e),xa(this,Ea(e).apply(this,arguments))}return $a(e,t),Pa(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _a(Ea(e.prototype),"getDefaultObject",this).call(this,Oa({type:"url",url:"",datauri:""},t))}},{key:"toCloneObject",value:function(){return Oa({},_a(Ea(e.prototype),"toCloneObject",this).call(this),{url:this.json.url,datauri:this.json.datauri})}},{key:"isUrl",value:function(){return!0}},{key:"toString",value:function(){var t=this.json;return"url(".concat(t.url,")")}}],[{key:"parse",value:function(t){return new e({url:t.split("(")[1].split(")")[0]})}},{key:"isImageFile",value:function(t){return Ta.includes(t)}}]),e}(Mi);function Da(t){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Va(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Aa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ia(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Aa(Object(n),!0).forEach((function(e){La(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function La(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ma(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ba(t,e){return!e||"object"!==Da(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fa(t,e,n){return(Fa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ha(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ha(t){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ga(t,e){return(Ga=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ya={0:"to top",45:"to top right",90:"to right",135:"to bottom right",180:"to bottom",225:"to bottom left",270:"to left",315:"to top left"},Xa={"to top":"0","to top right":"45","to right":"90","to bottom right":"135","to bottom":"180","to bottom left":"225","to left":"270","to top left":"315"},Na=function(t){function e(){return Ma(this,e),Ba(this,Ha(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ga(t,e)}(e,t),n=e,o=[{key:"toLinearGradient",value:function(t){return 0===t.length?"none":new e({angle:"to right",colorsteps:t})+""}},{key:"parse",value:function(t){var n=pn(t),r=0,o=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){t.includes("@")?(t=hn(t,n.matches),o.push.apply(o,Va(Zi.parse(t)))):r=Qt(Xa[t])?_.parse(t):_.deg(+Xa[t])})),new e({angle:r.value,colorsteps:o})}}],(r=[{key:"getDefaultObject",value:function(t){return Fa(Ha(e.prototype),"getDefaultObject",this).call(this,Ia({type:"linear-gradient",angle:0},t))}},{key:"toCloneObject",value:function(){return Ia({},Fa(Ha(e.prototype),"toCloneObject",this).call(this),{angle:this.json.angle})}},{key:"isLinear",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t=this.getColorString(),e="";return ce(e=this.json.angle||0)&&(e=Ya["".concat(e)]||e),ce(e)&&(e="".concat(e=e>360?e%360:e,"deg")),"".concat(this.json.type,"(").concat(e,", ").concat(t,")")}}])&&za(n.prototype,r),o&&za(n,o),e}(ua);function Ka(t){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Za(t,e){return!e||"object"!==Ka(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qa(t,e,n){return(qa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ja(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ja(t){return(Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qa(t,e){return(Qa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tc,ec=function(t){function e(){return Wa(this,e),Za(this,Ja(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qa(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=Na.parse(t);return new e({angle:n.angle,colorsteps:n.colorsteps})}}],(r=[{key:"getDefaultObject",value:function(){return qa(Ja(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-linear-gradient",angle:0})}}])&&Ua(n.prototype,r),o&&Ua(n,o),e}(Na);function nc(t){return(nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function oc(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ic(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ac(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ic(Object(n),!0).forEach((function(e){yc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sc(t,e){return!e||"object"!==nc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lc(t,e,n){return(lc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function fc(t){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pc(t,e){return(pc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hc=(yc(tc={},"center",!0),yc(tc,"top",!0),yc(tc,"left",!0),yc(tc,"right",!0),yc(tc,"bottom",!0),tc),dc=function(t){function e(){return cc(this,e),sc(this,fc(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pc(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=pn(t),r="ellipse",o=[S.CENTER,S.CENTER],i=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=hn(t,n.matches),i.push.apply(i,oc(Zi.parse(t)));else{if(t.includes("at")){var a=rc(t.split("at").map((function(t){return t.trim()})),2);r=a[0],o=a[1]}else r=t;if(re(o)){var c=o.split(" ");if(1===c.length){var u=_.parse(c[0]);o=u.isString()?[u.value,u.value]:[u.clone(),u.clone()]}else 2===c.length&&(o=c.map((function(t){var e=_.parse(t);return e.isString()?e.value:e.clone()})))}}})),new e({radialType:r,radialPosition:o,colorsteps:i})}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lc(fc(e.prototype),"getDefaultObject",this).call(this,ac({type:"radial-gradient",radialType:"ellipse",radialPosition:[S.CENTER,S.CENTER]},t))}},{key:"toCloneObject",value:function(){return ac({},lc(fc(e.prototype),"toCloneObject",this).call(this),{radialType:this.json.radialType,radialPosition:ue(this.json.radialPosition)})}},{key:"isRadial",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t,e=this.getColorString(),n=this.json,r=n.radialType,o=n.radialPosition||["center","center"];return t=(o=hc[o]?o:o.join(" "))?"".concat(r," at ").concat(o):r,"".concat(n.type||"radial-gradient","(").concat(t,", ").concat(e,")")}}])&&uc(n.prototype,r),o&&uc(n,o),e}(ua);function vc(t){return(vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gc(t,e){return!e||"object"!==vc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wc(t,e,n){return(wc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Oc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Oc(t){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kc(t,e){return(kc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jc,Sc=function(t){function e(){return bc(this,e),gc(this,Oc(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kc(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=dc.parse(t);return new e({radialType:n.radialType,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}],(r=[{key:"getDefaultObject",value:function(){return wc(Oc(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-radial-gradient"})}}])&&mc(n.prototype,r),o&&mc(n,o),e}(dc);function Pc(t){return(Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ec(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ec(Object(n),!0).forEach((function(e){Ic(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rc(t,e){return!e||"object"!==Pc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dc(t,e,n){return(Dc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Vc(t){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ac(t,e){return(Ac=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ic(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lc=(Ic(jc={},"center",!0),Ic(jc,"top",!0),Ic(jc,"left",!0),Ic(jc,"right",!0),Ic(jc,"bottom",!0),jc),Mc={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},zc=function(t){function e(){return Cc(this,e),Rc(this,Vc(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ac(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=pn(t),r="0deg",o=[S.CENTER,S.CENTER],i=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=hn(t=t.split(" ").map((function(t){return t.trim()})).map((function(t){return t.includes("deg")?_.parse(t).toPercent():t})).join(" "),n.matches),i.push.apply(i,_c(Zi.parse(t)));else{if(t.includes("at")){var a=xc(t.split("at").map((function(t){return t.trim()})),2);r=a[0],o=a[1]}else r=t;if(re(o)){var c=o.split(" ");if(1===c.length){var u=_.parse(c[0]);o=u.isString()?[u.value,u.value]:[u.clone(),u.clone()]}else 2===c.length&&(o=c.map((function(t){var e=_.parse(t);return e.isString()?e.value:e})))}re(r)&&r.includes("from")&&(r=r.split("from")[1],r=Qt(Mc[r])?_.parse(r):_.deg(+Mc[r]))}})),new e({angle:r.value,radialPosition:o,colorsteps:i})}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Dc(Vc(e.prototype),"getDefaultObject",this).call(this,$c({type:"conic-gradient",angle:0,radialPosition:[S.CENTER,S.CENTER]},t))}},{key:"toCloneObject",value:function(){return $c({},Dc(Vc(e.prototype),"toCloneObject",this).call(this),{angle:this.json.angle,radialPosition:ue(this.json.radialPosition)})}},{key:"isConic",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"getColorString",value:function(){if(0===this.colorsteps.length)return"";var t=this.colorsteps;return t?(t.sort((function(t,e){return t.percent==e.percent?0:t.percent>e.percent?1:-1})),t.map((function(e,n){return e.prevColorStep=e.cut&&n>0?t[n-1]:null,e})).map((function(t){var e=Math.floor(3.6*t.percent),n="";if(t.cut&&t.prevColorStep){var r=Math.floor(3.6*t.prevColorStep.percent);n="".concat(r,"deg")}return"".concat(t.color," ").concat(n," ").concat(e,"deg")})).join(",")):""}},{key:"toString",value:function(){var t=this.getColorString(),e=[],n=this.json,r=n.angle,o=n.radialPosition||S.CENTER;o=Lc[o]?o:o.join(" "),te(r)&&(r=+(Mc[r]||r),e.push("from ".concat(r,"deg"))),o&&e.push("at ".concat(o));var i=e.length?e.join(" ")+",":"";return"".concat(n.type,"(").concat(i," ").concat(t,")")}}])&&Tc(n.prototype,r),o&&Tc(n,o),e}(ua);function Bc(t){return(Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gc(t,e){return!e||"object"!==Bc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yc(t,e,n){return(Yc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Xc(t){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nc(t,e){return(Nc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kc=function(t){function e(){return Fc(this,e),Gc(this,Xc(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nc(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=zc.parse(t);return new e({angle:n.angle,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}],(r=[{key:"getDefaultObject",value:function(){return Yc(Xc(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-conic-gradient",angle:0,radialPosition:[S.CENTER,S.CENTER]})}}])&&Hc(n.prototype,r),o&&Hc(n,o),e}(zc);function Wc(t){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Zc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zc(Object(n),!0).forEach((function(e){Jc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eu(t,e){return!e||"object"!==Wc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nu(t,e,n){return(nu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ru(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ru(t){return(ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ou(t,e){return(ou=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var iu=["repeat","no-repeat","repeat-x","repeat-y","round","space"],au=/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi,cu=function(t){function e(){return Qc(this,e),eu(this,ru(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ou(t,e)}(e,t),n=e,o=[{key:"createImage",value:function(t){return new Ra({url:t})}},{key:"createGradient",value:function(t,e){var n=t.colorsteps||e.colorsteps,r=t.angle||e.angle,o=t.radialType||e.radialType,i=t.radialPosition||e.radialPosition,a=e.toJSON();switch(delete a.itemType,delete a.type,t.type){case"static-gradient":return new ma(qc({},a,{colorsteps:n}));case"linear-gradient":return new Na(qc({},a,{colorsteps:n,angle:r}));case"repeating-linear-gradient":return new ec(qc({},a,{colorsteps:n,angle:r}));case"radial-gradient":return new dc(qc({},a,{colorsteps:n,radialType:o,radialPosition:i}));case"repeating-radial-gradient":return new Sc(qc({},a,{colorsteps:n,radialType:o,radialPosition:i}));case"conic-gradient":return new zc(qc({},a,{colorsteps:n,angle:r,radialPosition:i}));case"repeating-conic-gradient":return new Kc(qc({},a,{colorsteps:n,angle:r,radialPosition:i}))}return new ua}},{key:"parse",value:function(t){return new e(t)}},{key:"parseImage",value:function(t){var e=pn(t),n=null,r=e.str.match(au);return r?(r.forEach((function(t,r){(t=hn(t,e.matches)).includes("repeating-linear-gradient")?n=ec.parse(t):t.includes("linear-gradient")?n=Na.parse(t):t.includes("repeating-radial-gradient")?n=Sc.parse(t):t.includes("radial-gradient")?n=dc.parse(t):t.includes("repeating-conic-gradient")?n=Kc.parse(t):t.includes("conic-gradient")?n=zc.parse(t):t.includes("url")&&(n=Ra.parse(t))})),n):n}},{key:"changeImageType",value:function(t){switch(t.type){case"static-gradient":return new ma(t);case"linear-gradient":return new Na(t);case"repeating-linear-gradient":return new ec(t);case"radial-gradient":return new dc(t);case"repeating-radial-gradient":return new Sc(t);case"conic-gradient":return new zc(t);case"repeating-conic-gradient":return new Kc(t);case"image-resource":case"url":return new Ra(t)}}},{key:"parseStyle",value:function(t){var n=[];if(t["background-image"]){var r=pn(t["background-image"]);r.str.match(au).forEach((function(t,o){var i=null;(t=hn(t,r.matches)).includes("repeating-linear-gradient")?i=ec.parse(t):t.includes("linear-gradient")?i=Na.parse(t):t.includes("repeating-radial-gradient")?i=Sc.parse(t):t.includes("radial-gradient")?i=dc.parse(t):t.includes("repeating-conic-gradient")?i=Kc.parse(t):t.includes("conic-gradient")?i=zc.parse(t):t.includes("url")&&(i=Ra.parse(t)),n[o]=new e({type:i.type,image:i})}))}return t["background-repeat"]&&t["background-repeat"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){n[e]&&(n[e].repeat=t)})),t["background-blend-mode"]&&t["background-blend-mode"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){n[e]&&(n[e].blendMode=t)})),t["background-size"]&&t["background-size"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(n[e])if("cover"==t||"contain"===t||"auto"===t)n[e].size=t;else{n[e].size="auto";var r=Uc(t.split(" "),2),o=r[0],i=r[1];n[e].width=_.parse(o),n[e].height=_.parse(i)}})),t["background-position"]&&t["background-position"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(n[e]){var r=Uc(t.split(" "),2),o=r[0],i=r[1];n[e].x=_.parse(o),n[e].y=_.parse(i)}})),n}},{key:"toPropertyCSS",value:function(t){var e={};return t.forEach((function(t){Wt(t.toCSS(),(function(t,n){e[t]||(e[t]=[]),e[t].push(n)}))})),le(e)}},{key:"join",value:function(t){return de(e.toPropertyCSS(t.map((function(t){return e.parse(t)}))))}},{key:"joinCSS",value:function(t){return e.toPropertyCSS(t.map((function(t){return e.parse(t)})))}}],(r=[{key:"addImageResource",value:function(t){return this.clear("image-resource"),this.addItem("image-resource",t)}},{key:"addGradient",value:function(t){return this.addImageResource(t)}},{key:"setImageUrl",value:function(t){t.images&&t.images.length&&this.reset({type:"image",image:e.createImage(t.images[0])})}},{key:"setGradient",value:function(t){this.reset({type:t.type,image:e.createGradient(t,this.json.image)})}},{key:"getDefaultObject",value:function(){return nu(ru(e.prototype),"getDefaultObject",this).call(this,{itemType:"background-image",checked:!1,blendMode:"normal",size:"auto",repeat:"repeat",width:_.percent(100),height:_.percent(100),x:_.percent(0),y:_.percent(0),image:new ma})}},{key:"toCloneObject",value:function(){var t=this.json;return qc({},nu(ru(e.prototype),"toCloneObject",this).call(this),{checked:t.checked,blendMode:t.blendMode,size:t.size,repeat:t.repeat,width:t.width+"",height:t.height+"",x:t.x+"",y:t.y+"",image:t.image.clone()})}},{key:"convert",value:function(t){return t.x=_.parse(t.x),t.y=_.parse(t.y),t.width&&(t.width=_.parse(t.width)),t.height&&(t.height=_.parse(t.height)),re(t.image)&&(t.image=e.parseImage(t.image)),t}},{key:"checkField",value:function(t,n){return"repeat"===t?iu.includes(n):nu(ru(e.prototype),"checkField",this).call(this,t,n)}},{key:"toBackgroundImageCSS",value:function(){return this.json.image?{"background-image":this.json.image.toString()}:{}}},{key:"toBackgroundPositionCSS",value:function(){var t=this.json;return{"background-position":"".concat(t.x," ").concat(t.y)}}},{key:"toBackgroundSizeCSS",value:function(){var t=this.json,e="auto";return"contain"==t.size||"cover"==t.size?e=t.size:t.width.isPercent()&&t.width.isPercent()&&100==+t.width&&100==+t.height||(e="".concat(t.width," ").concat(t.height)),{"background-size":e}}},{key:"toBackgroundRepeatCSS",value:function(){return{"background-repeat":this.json.repeat}}},{key:"toBackgroundBlendCSS",value:function(){return{"background-blend-mode":this.json.blendMode}}},{key:"toCSS",value:function(){return qc({},this.toBackgroundImageCSS(),{},this.toBackgroundPositionCSS(),{},this.toBackgroundSizeCSS(),{},this.toBackgroundRepeatCSS(),{},this.toBackgroundBlendCSS())}},{key:"toString",value:function(){return Ut(this.toCSS(),(function(t,e){return"".concat(t,": ").concat(e)})).join(";")}},{key:"toBackgroundCSS",value:function(){var t=this.toCSS();return{background:"".concat(t["background-image"]," ")}}},{key:"image",get:function(){return this.json.image},set:function(t){this.json.image=t}}])&&tu(n.prototype,r),o&&tu(n,o),e}(_i);function uu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var su=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parse",value:function(t){var e=t.split(" ").filter((function(t){return t.trim()})).map((function(t){return _.parse(t)})),n=_.percent(0),r=_.percent(0),o=_.percent(0),i=_.percent(0);return 1===e.length?(n=e[0].clone(),r=e[0].clone(),o=e[0].clone(),i=e[0].clone()):2===e.length?(n=e[0].clone(),r=e[1].clone(),o=e[0].clone(),i=e[1].clone()):3===e.length?(n=e[0].clone(),r=e[1].clone(),o=e[2].clone(),i=e[1].clone()):4===e.length&&(n=e[0].clone(),r=e[1].clone(),o=e[2].clone(),i=e[3].clone()),[e.length,n,r,o,i]}}],(n=null)&&uu(e.prototype,n),r&&uu(e,r),t}();function lu(t){return(lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function pu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pu(Object(n),!0).forEach((function(e){hu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function du(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bu(t,e){return!e||"object"!==lu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mu(t,e,n){return(mu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function gu(t){return(gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wu(t,e){return(wu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ou=/(content\-box|padding\-box|border\-box|margin\-box|view\-box|stroke\-box|fill\-box|none|(inset|circle|ellipse|polygon|path|svg|url)(\(([^\)]*)\))?)/gi,ku=function(t){function e(){return du(this,e),bu(this,gu(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wu(t,e)}(e,t),n=e,o=[{key:"toCSS",value:function(t){return new e(t).toCSS()}},{key:"toString",value:function(t){return e.toCSS(t)["clip-path"]}},{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var e={};return t?((t.match(Ou)||[]).forEach((function(t,n){if(t.includes("-box"))e.box=t;else{var r=fu(t.split("("),2),o=r[0],i=r[1];i=i||"",i="none"===o?"":i.split(")")[0],e.type=o,e.value=i}})),e):{}}},{key:"parseStyleForCircle",value:function(t){var e=new _("","closest-side"),n="";if((t=t||"50%").includes("at")){var r=fu(t.split("at").map((function(t){return t.trim()})),2);e=r[0],n=r[1]}else n=t.trim();var o=fu(n.split(" "),2),i=o[0],a=o[1];return Qt(a)&&(a=i),{radius:e,x:i=_.parse(i),y:a=_.parse(a)}}},{key:"parseStyleForEllipse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50% 50%",e="50% 50%",n="";if((t=t||"50%").includes("at")){var r=t.split("at").map((function(t){return t.trim()})),o=fu(r,2);e=o[0],n=o[1]}else n=t.trim();var i=n.split(" "),a=fu(i,2),c=a[0],u=a[1];Qt(u)&&(u=c),c=_.parse(c),u=_.parse(u);var s=e.split(" "),l=fu(s,2),f=l[0],p=l[1];return Qt(p)&&(p=f),{radiusX:f=_.parse(f),radiusY:p=_.parse(p),x:c,y:u}}},{key:"parseStyleForInset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("round"),n=fu(e,2),r=n[0],o=n[1],i=su.parse(r),a=fu(i,5),c=a[0],u=a[1],s=a[2],l=a[3],f=a[4];if(o)var p=su.parse(o),y=fu(p,5),h=y[0],d=y[1],v=y[2],b=y[3],m=y[4];return{isAll:1===c,top:u,right:s,bottom:l,left:f,round:o,isAllRadius:1===h,topRadius:d,rightRadius:v,bottomRadius:b,leftRadius:m}}},{key:"parseStyleForPolygon",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split(",").filter((function(t){return t.trim()})).map((function(t){var e=fu(t.trim().split(" "),2),n=e[0],r=e[1];return{x:_.parse(n),y:_.parse(r)}}))}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mu(gu(e.prototype),"getDefaultObject",this).call(this,yu({itemType:"clip-path",type:"none",value:""},t))}},{key:"toCloneObject",value:function(){return yu({},mu(gu(e.prototype),"toCloneObject",this).call(this),{value:this.json.value})}},{key:"toString",value:function(){var t=this.json.type,e=this.json.value,n=this.json.box,r="";switch(t){case"circle":case"inset":case"ellipse":case"polygon":case"path":r="".concat(t,"(").concat(e,")");break;case"svg":r="url(#".concat(e,")");break;default:r="none"}return n?"".concat(n," ").concat(r):r}},{key:"toCSS",value:function(){return{"clip-path":this.toString()}}}])&&vu(n.prototype,r),o&&vu(n,o),e}(_i);function ju(t){return(ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Su(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Pu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function xu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xu(Object(n),!0).forEach((function(e){Eu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Eu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tu(t,e,n){return e&&Cu(t.prototype,e),n&&Cu(t,n),t}function Ru(t,e){return!e||"object"!==ju(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Du(t,e,n){return(Du="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Vu(t){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Au(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iu(t,e)}function Iu(t,e){return(Iu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lu=/((check|grid|dot|cross\-dot|diagonal\-line|vertical\-line|horizontal\-line|)\(([^\)]*)\))/gi,Mu=function(t){function e(){return $u(this,e),Ru(this,Vu(e).apply(this,arguments))}return Au(e,t),Tu(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Du(Vu(e.prototype),"getDefaultObject",this).call(this,_u({itemType:"pattern"},t))}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value||"",")")}}],[{key:"parse",value:function(t){var e=Ku[t.type];if(e)return new e(t)}},{key:"parseStyle",value:function(t){var n=[];if(!t)return n;var r=pn(t);return(r.str.match(Lu)||[]).forEach((function(t,o){var i=Pu(t.split("("),2),a=i[0],c=i[1],u=Pu((c=c.split(")")[0]).split(",").map((function(t){return t.trim()})),6),s=u[0],l=u[1],f=u[2],p=u[3],y=u[4],h=u[5],d=Pu(s.split(" "),2),v=d[0],b=d[1],m=Pu(l.split(" "),2),g=m[0],w=m[1],O=Pu((h||"").split(" "),2),k=O[0],j=O[1];n[o]=e.parse({type:a,x:_.parse(g),y:_.parse(w),width:_.parse(v),height:_.parse(b),foreColor:hn(f,r.matches),backColor:hn(p,r.matches),blendMode:y||"normal",lineWidth:_.parse(k||"1px"),lineHeight:_.parse(j||"1px")})})),n}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(" ")}},{key:"toCSS",value:function(t){var n=[];return e.parseStyle(t).forEach((function(t){n.push.apply(n,Su(cu.parseStyle(ve(t.toCSS()))))})),cu.joinCSS(n)}}]),e}(_i),zu=function(t){function e(){return $u(this,e),Ru(this,Vu(e).apply(this,arguments))}return Au(e,t),Tu(e,[{key:"getDefaultObject",value:function(){return Du(Vu(e.prototype),"getDefaultObject",this).call(this,{type:"base",x:_.z(),y:_.z(),width:_.px(20),height:_.px(20),lineWidth:_.px(1),lineHeight:_.px(1),foreColor:"black",backColor:"white",blendMode:"normal"})}},{key:"convert",value:function(t){return(t=Du(Vu(e.prototype),"convert",this).call(this,t)).width=_.parse(t.width),t.height=_.parse(t.height),t.lineWidth=_.parse(t.lineWidth),t.lineHeight=_.parse(t.lineHeight),t.x=_.parse(t.x),t.y=_.parse(t.y),t}},{key:"toString",value:function(){var t=this.json,e=t.type,n=t.width,r=t.height,o=t.x,i=t.y,a=t.foreColor,c=t.backColor,u=t.blendMode,s=t.lineWidth,l=t.lineHeight;return"".concat(e,"(").concat(n," ").concat(r,", ").concat(o," ").concat(i,", ").concat(a,", ").concat(c,", ").concat(u,", ").concat(s," ").concat(l,")")}}]),e}(Mu),Bu=function(t){function e(){return $u(this,e),Ru(this,Vu(e).apply(this,arguments))}return Au(e,t),Tu(e,[{key:"getDefaultObject",value:function(){return Du(Vu(e.prototype),"getDefaultObject",this).call(this,{type:"check"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y,i=t.backColor,a=t.foreColor,c=t.blendMode;return i=i||"transparent","\n      background-image: repeating-linear-gradient(45deg, ".concat(a=a||"black"," 25%, ").concat(i," 25%, ").concat(i," 75%, ").concat(a," 75%, ").concat(a," 100%),repeating-linear-gradient(45deg, ").concat(a," 25%, ").concat(i," 25%, ").concat(i," 75%, ").concat(a," 75%, ").concat(a," 100%);\n      background-position: 0px 0px, ").concat(r," ").concat(o,";\n      background-size: ").concat(e," ").concat(n,", ").concat(e," ").concat(n,";\n      background-blend-mode: ").concat(c,", ").concat(c,";\n    ")}}]),e}(zu),Fu=function(t){function e(){return $u(this,e),Ru(this,Vu(e).apply(this,arguments))}return Au(e,t),Tu(e,[{key:"getDefaultObject",value:function(){return Du(Vu(e.prototype),"getDefaultObject",this).call(this,{type:"grid"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.lineWidth,o=t.lineHeight,i=t.backColor,a=t.foreColor,c=t.blendMode;return i=i||"transparent","\n      background-image: linear-gradient(".concat(a=a||"black"," ").concat(o,", ").concat(i," ").concat(o,"),linear-gradient(to right, ").concat(a," ").concat(r,", ").concat(i," ").concat(r,");\n      background-size: ").concat(e.value/2,"px ").concat(n.value/2,"px, ").concat(e.value/2,"px ").concat(n.value/2,"px;      \n      background-blend-mode: ").concat(c,", ").concat(c,";      \n    ")}}]),e}(zu),Hu=function(t){function e(){return $u(this,e),Ru(this,Vu(e).apply(this,arguments))}return Au(e,t),Tu(e,[{key:"getDefaultObject",value:function(){return Du(Vu(e.prototype),"getDefaultObject",this).call(this,{type:"dot"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.lineWidth,o=(t.lineHeight,t.backColor),i=t.foreColor,a=t.blendMode;return o=o||"transparent","\n      background-image: radial-gradient(".concat(i=i||"black"," ").concat(r,", ").concat(o," ").concat(r,");\n      background-size: ").concat(e.value/2,"px ").concat(n.value/2,"px;          \n      background-blend-mode: ").concat(a,";      \n    ")}}]),e}(zu),Gu=function(t){function e(){return $u(this,e),Ru(this,Vu(e).apply(this,arguments))}return Au(e,t),Tu(e,[{key:"getDefaultObject",value:function(){return Du(Vu(e.prototype),"getDefaultObject",this).call(this,{type:"cross-dot"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y,i=t.lineWidth,a=(t.lineHeight,t.backColor),c=t.foreColor,u=t.blendMode;return a=a||"transparent","\n      background-image: radial-gradient(".concat(c=c||"black"," ").concat(i,", ").concat(a," ").concat(i,"),radial-gradient(").concat(c," ").concat(i,", ").concat(a," ").concat(i,");\n      background-size: ").concat(e," ").concat(n,",").concat(e," ").concat(n,";\n      background-position: 0px 0px, ").concat(r," ").concat(o,";      \n      background-blend-mode: multiply, ").concat(u,";\n    ")}}]),e}(zu),Yu=function(t){function e(){return $u(this,e),Ru(this,Vu(e).apply(this,arguments))}return Au(e,t),Tu(e,[{key:"getDefaultObject",value:function(){return Du(Vu(e.prototype),"getDefaultObject",this).call(this,{type:"diagonal-line"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.lineWidth,i=t.backColor,a=t.foreColor,c=t.blendMode;return i=i||"transparent",a=a||"black","\n      background-image: repeating-linear-gradient(".concat(r,", ").concat(a," 0, ").concat(a," ").concat(o,", ").concat(i," 0, ").concat(i," 50%);\n      background-size: ").concat(e," ").concat(n,";      \n      background-blend-mode: ").concat(c,";\n    ")}}]),e}(zu),Xu=function(t){function e(){return $u(this,e),Ru(this,Vu(e).apply(this,arguments))}return Au(e,t),Tu(e,[{key:"getDefaultObject",value:function(){return Du(Vu(e.prototype),"getDefaultObject",this).call(this,{type:"vertical-line"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y,i=t.lineWidth,a=t.backColor,c=t.foreColor,u=t.blendMode;return a=a||"transparent","\n      background-image: repeating-linear-gradient(to right, ".concat(c=c||"black"," 0px, ").concat(c," ").concat(i,", ").concat(a," ").concat(i,", ").concat(a," 100%);\n      background-size: ").concat(e," ").concat(n,"; \n      background-position: ").concat(r," ").concat(o,";        \n      background-blend-mode: ").concat(u,";\n    ")}}]),e}(zu),Nu=function(t){function e(){return $u(this,e),Ru(this,Vu(e).apply(this,arguments))}return Au(e,t),Tu(e,[{key:"getDefaultObject",value:function(){return Du(Vu(e.prototype),"getDefaultObject",this).call(this,{type:"horizontal-line"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y,i=t.lineWidth,a=t.backColor,c=t.foreColor,u=t.blendMode;return a=a||"transparent","\n      background-image: repeating-linear-gradient(0deg, ".concat(c=c||"black"," 0px, ").concat(c," ").concat(i,", ").concat(a," ").concat(i,", ").concat(a," 100%);    \n      background-position: ").concat(r," ").concat(o,";\n      background-size: ").concat(e," ").concat(n,";   \n      background-blend-mode: ").concat(u,";\n    ")}}]),e}(zu),Ku={check:Bu,grid:Fu,dot:Hu,"cross-dot":Gu,"diagonal-line":Yu,"vertical-line":Xu,"horizontal-line":Nu},Wu={CheckPattern:Bu,GridPattern:Fu,DotPattern:Hu,CrossDotPattern:Gu,DiagonalLinePattern:Yu,VerticalLinePattern:Xu,HorizontalLinePattern:Nu};function Uu(t){return(Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qu(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ju(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ju(Object(n),!0).forEach((function(e){ts(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ju(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ts(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function es(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ns(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rs(t,e){return!e||"object"!==Uu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function os(t,e,n){return(os="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=is(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function is(t){return(is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function as(t,e){return(as=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cs=/((matrix|translate(X|Y|Z|3d)?|scale(X|Y|Z|3d)?|rotate(X|Y|Z|3d)?|skew(X|Y)|matrix(3d)?|perspective)\(([^\)]*)\))/gi,us=function(t){function e(){return es(this,e),rs(this,is(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&as(t,e)}(e,t),n=e,o=[{key:"join",value:function(t){var n=t.filter((function(t){return"perspective"===t.type})),r=t.filter((function(t){return"matrix3d"===t.type})),o=t.filter((function(t){return"perspective"!==t.type&&"matrix3d"!==t.type}));return[].concat(qu(n),qu(o),qu(r)).map((function(t){return new e(t).toString()})).join(" ")}},{key:"parse",value:function(t){return new e(t)}},{key:"remove",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return re(n)&&(n=[n]),e.filter(t,(function(t){return!1===n.includes(t.type)}))}},{key:"filter",value:function(t,n){return e.join(e.parseStyle(t).filter((function(t){return n(t)})))}},{key:"replace",value:function(t,n){var r=e.parseStyle(t),o=r.find((function(t){return t.type===n.type}));return o?o.value=n.value:r.push(n),e.join(r)}},{key:"replaceAll",value:function(t,n){for(var r=e.parseStyle(t),o=e.parseStyle(n),i=0,a=o.length;i<a;i++){var c=o[i],u=r.find((function(t){return t.type===c.type}));u?u.value=c.value:r.push(c)}return e.join(r)}},{key:"addTransform",value:function(t,n){for(var r=e.parseStyle(t),o=e.parseStyle(n),i=0,a=o.length;i<a;i++){var c=o[i],u=r.find((function(t){return t.type===c.type}));u?c.value.forEach((function(t,e){u.value[e].value+=t.value})):r.push(c)}return e.join(r)}},{key:"get",value:function(t,n){var r=e.parseStyle(t);return(r=ae(n)?r.find(n):r.find((function(t){return t.type===n})))?r.value:[]}},{key:"rotate",value:function(t,n){return e.replace(t,{type:"rotate",value:[n]})}},{key:"parseStyle",value:function(t){var n=[];return t?((t.match(cs)||[]).forEach((function(t,r){var o=Zu(t.split("("),2),i=o[0],a=o[1],c=(a=a.split(")")[0]).split(",");c=a.includes("matrix")||a.includes("scale")?c.map((function(t){return _.number(t.trim())})):c.map((function(t){return _.parse(t.trim())})),n[r]=e.parse({type:i,value:c})})),n):n}},{key:"getTransform",value:function(t,e){var n=Zu(t[0][(x1,y1)]=t[1][(x2,y2)]=t[2][(x3,y3)]=t[3][(u0,v0)]=e[0][(u1,v1)]=e[1][(u2,v2)]=e[2][(u3,v3)]=e[3],2);x0=n[0],y0=n[1];for(var r=[[x0,y0,1,0,0,0,-u0*x0,-u0*y0],[0,0,0,x0,y0,1,-v0*x0,-v0*y0],[x1,y1,1,0,0,0,-u1*x1,-u1*y1],[0,0,0,x1,y1,1,-v1*x1,-v1*y1],[x2,y2,1,0,0,0,-u2*x2,-u2*y2],[0,0,0,x2,y2,1,-v2*x2,-v2*y2],[x3,y3,1,0,0,0,-u3*x3,-u3*y3],[0,0,0,x3,y3,1,-v3*x3,-v3*y3]],o=[u0,v0,u1,v1,u2,v2,u3,v3],i=[],a=0;a<8;a++){var c=r[0];i.push(c[0]*o[0]+c[1]*o[1]+c[2]*o[2]+c[3]*o[3]+c[4]*o[4]+c[5]*o[5]+c[6]*o[6]+c[7]*o[7])}return[[i[0],i[1],0,i[2]],[i[3],i[4],0,i[5]],[0,0,1,0],[i[6],i[7],0,1]]}},{key:"makeTransform3d",value:function(t,n){var r=[],o=[];t.forEach((function(e){var n=Zu(e,2),o=n[0],i=n[1];r.push(o-t[0][0],i-t[0][1])})),n.forEach((function(e){var n=Zu(e,2),r=n[0],i=n[1];o.push(r-t[0][0],i-t[0][1])}));var i=e.getTransform(r,o),a=[];i.forEach((function(t){t.forEach((function(t){a.push(t)}))}));var c=a.join(", ");return"matrix3d(".concat(c,")")}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return os(is(e.prototype),"getDefaultObject",this).call(this,Qu({itemType:"transform",type:"",value:[]},t))}},{key:"toCloneObject",value:function(){return Qu({},os(is(e.prototype),"toCloneObject",this).call(this),{value:JSON.parse(JSON.stringify(this.json.value))})}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value.join(", ")||"",")")}},{key:"convert",value:function(t){return(t=os(is(e.prototype),"convert",this).call(this,t)).type.includes("matrix")||t.type.includes("scale")?t.value=t.value.map((function(t){return _.number(t)})):t.value=t.value.map((function(t){return _.parse(t)})),t}},{key:"hasNumberValue",value:function(){var t=this.json.type;return t.includes("matrix")||t.includes("scale")}}])&&ns(n.prototype,r),o&&ns(n,o),e}(_i);function ss(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ls(t){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ps(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ys(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ps(Object(n),!0).forEach((function(e){hs(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ds(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function vs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ms(t,e){return!e||"object"!==ls(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gs(t){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ws(t,e){return(ws=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Os=function(t){function e(){return vs(this,e),ms(this,gs(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ws(t,e)}(e,t),n=e,(r=[{key:"toStringPropertyCSS",value:function(t,e){return ve(t[e])}},{key:"toBackgroundImageCSS",value:function(t){var e=[];return Mu.parseStyle(t.pattern).forEach((function(t){e.push.apply(e,ds(cu.parseStyle(ve(t.toCSS()))))})),e.push.apply(e,ds(cu.parseStyle(ve(t["background-image"])))),cu.joinCSS(e)}},{key:"toLayoutCSS",value:function(t){var e=t.layout;if(t.hasLayout()){if("flex"===e)return this.toFlexLayoutCSS(t);if("grid"===e)return this.toGridLayoutCSS(t)}return{}}},{key:"toLayoutItemCSS",value:function(t){var e=t.parent.layout,n={};return"flex"===e?n={position:"relative",left:"auto !important",top:"auto !important"}:"grid"===e&&(n={position:"relative",left:"auto !important",top:"auto !important",width:"auto !important",height:"auto !important"}),"flex"===e?n=ys({},n,{},ve(t["flex-layout-item"])):"grid"===e&&(n=ys({},n,{},ve(t["grid-layout-item"]))),n}},{key:"toFlexLayoutCSS",value:function(t){return ys({display:"flex"},this.toStringPropertyCSS(t,"flex-layout"))}},{key:"toGridLayoutCSS",value:function(t){return ys({display:"grid"},this.toStringPropertyCSS(t,"grid-layout"))}},{key:"toBorderCSS",value:function(t){return this.toStringPropertyCSS(t,"border")}},{key:"toKeyCSS",value:function(t){return item[t]?hs({},t,item[t]):{}}},{key:"toBoxModelCSS",value:function(t){var e={};return t["margin-top"]&&(e["margin-top"]=t["margin-top"]),t["margin-bottom"]&&(e["margin-bottom"]=t["margin-bottom"]),t["margin-left"]&&(e["margin-left"]=t["margin-left"]),t["margin-right"]&&(e["margin-right"]=t["margin-right"]),t["padding-top"]&&(e["padding-top"]=t["padding-top"]),t["padding-bottom"]&&(e["padding-bottom"]=t["padding-bottom"]),t["padding-left"]&&(e["padding-left"]=t["padding-left"]),t["padding-right"]&&(e["padding-right"]=t["padding-right"]),e}},{key:"toKeyListCSS",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return e.filter((function(e){return te(t[e])})).forEach((function(e){n[e]=t[e]})),n}},{key:"toDefaultCSS",value:function(t){var e={};return t.isAbsolute&&(t.x&&(e.left=t.x),t.y&&(e.top=t.y)),e.visibility=t.visible?"visible":"hidden",ys({},e,{},this.toKeyListCSS(t,["position","width","height","overflow","z-index","box-sizing","background-color","color","opacity","mix-blend-mode","transform-origin","transform-style","perspective","perspective-origin","font-size","font-stretch","line-height","font-weight","font-family","font-style","text-align","text-transform","text-decoration","letter-spacing","word-spacing","text-indent","border-radius","filter","backdrop-filter","box-shadow","text-shadow","offset-path","animation","transition"]))}},{key:"toVariableCSS",value:function(t){var e={};return t.variable.split(";").filter((function(t){return t.trim()})).forEach((function(t){var n=fs(t.split(":"),2),r=n[0],o=n[1];e["--".concat(r)]=o})),e}},{key:"toRootVariableCSS",value:function(t){var e={};return t.rootVariable.split(";").filter((function(t){return t.trim()})).forEach((function(t){var n=fs(t.split(":"),2),r=n[0],o=n[1];e["--".concat(r)]=o})),e}},{key:"toRootVariableString",value:function(t){return de(this.toRootVariableCSS(t))}},{key:"toWebkitCSS",value:function(t){var e=this.toKeyListCSS(t,["text-fill-color","text-stroke-color","text-stroke-width","background-clip"]),n={};return Wt(e,(function(t,e){n["-webkit-".concat(t)]=e})),n}},{key:"toTextClipCSS",value:function(t){var e={};return"text"===t["text-clip"]&&(e["-webkit-background-clip"]="text",e["-webkit-text-fill-color"]="transparent",e.color="transparent"),e}},{key:"toTransformCSS",value:function(t){var e=[t.transform,t.rotate].join(":::");e!=this._transformCacheKey&&(this._transformCache=us.rotate(t.transform,t.rotate),this._transformCacheKey=e);var n={transform:this._transformCache};return"rotate(0deg)"===n.transform&&delete n.transform,n}},{key:"toDefInnerString",value:function(t){return"\n      ".concat(this.toClipPath(t),"\n    ").trim()}},{key:"toClipPath",value:function(t){var e=ku.parseStyle(t["clip-path"]),n=e.value;switch(e.type){case"path":return'<clipPath id="'.concat(this.clipPathId(t),'"><path d="').concat(n,'" /></clipPath>');case"svg":return'<clipPath id="'.concat(this.clipPathId(t),'">').concat(n,"</clipPath>")}return""}},{key:"toClipPathCSS",value:function(t){var e=t["clip-path"];switch(ku.parseStyle(e).type){case"path":case"svg":e="url(#".concat(this.clipPathId(t),")")}return{"clip-path":e}}},{key:"innerSVGId",value:function(t){return t.id+"inner-svg"}},{key:"clipPathId",value:function(t){return t.id+"clip-path"}},{key:"toDefString",value:function(t){var e=this.toDefInnerString(t);return e?"\n    <svg class='inner-svg-element' data-id=\"".concat(this.innerSVGId(t),'" width="0" height="0">\n      <defs>\n        ').concat(e,"\n      </defs>\n    </svg>\n    "):""}},{key:"toSelectorString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.selectors.map((function(t){return t.toString(e)})).join("\n\n")}},{key:"generateView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="\n  ".concat(e," {  /* ").concat(t.itemType," */\n      ").concat(de(this.toCSS(t),"\n    "),"; \n      ").concat(n,"\n  }\n  ").concat(this.toNestedCSS(t).map((function(t){return"".concat(e," ").concat(t.selector," { \n        ").concat(t.cssText?t.cssText:de(t.css||{},"\n\t\t"),"; \n    }")})).join("\n"),"\n  ").concat(this.toSelectorString(t,e),"\n    ");return r}},{key:"toCSS",value:function(t){return Object.assign({},this.toVariableCSS(t),this.toDefaultCSS(t),this.toClipPathCSS(t),this.toWebkitCSS(t),this.toTextClipCSS(t),this.toBoxModelCSS(t),this.toBorderCSS(t),this.toBackgroundImageCSS(t),this.toLayoutCSS(t),this.toTransformCSS(t),this.toLayoutItemCSS(t))}},{key:"toStyle",value:function(t,e){var n=this.generateView(t,".element-item[data-id='".concat(t.id,"']"));return("\n        <style type='text/css' data-id='".concat(t.id,"' data-timestamp='").concat(t.timestamp,"'>").concat(n,"</style>\n    ")+t.layers.map((function(t){return e.toStyle(t,e)})).join(""))}},{key:"render",value:function(t,e){var n=t.elementType,r=t.id,o=t.name,i=t.itemType,a=n||"div";return"    \n      <".concat(a,' class="').concat(me(hs({"element-item":!0},i,!0)),'" ').concat(be({"data-id":r,"data-title":o}),">\n        ").concat(this.toDefString(t),"\n        ").concat(t.layers.map((function(t){return e.render(t,e)})).join("\n\t"),"\n      </").concat(a,">\n    ")}},{key:"renderSVG",value:function(t,e){}},{key:"toNestedCSS",value:function(t){return[]}},{key:"update",value:function(t,e){var n=e.el.$svg;if(n||(e.el.$svg=e.$('[data-id="'.concat(this.innerSVGId(t),'"]')),n=e.el.$svg),n){var r=this.toDefInnerString(t);r&&n.$("defs").html(r)}else{var o=this.toDefString(t);if(o){var i=Wn.createByHTML(o);i&&e.prepend(i)}}}}])&&bs(n.prototype,r),o&&bs(n,o),e}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"getInnerId",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.id+e}}])&&ss(e.prototype,n),r&&ss(e,r),t}());function ks(t){return(ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function js(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ss(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?js(Object(n),!0).forEach((function(e){Ps(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):js(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ps(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Es(t,e){return!e||"object"!==ks(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $s(t){return($s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cs(t,e){return(Cs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ts=function(t){function e(){return xs(this,e),Es(this,$s(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cs(t,e)}(e,t),n=e,(r=[{key:"toDefaultCSS",value:function(t){return Ss({overflow:"visible"},this.toKeyListCSS(t,["font-size","font-stretch","line-height","font-weight","font-family","font-style","text-align","text-transform","text-decoration","letter-spacing","word-spacing","text-indent","background-color","border-radius"]))}},{key:"toCSS",value:function(t){var e=Object.assign({},this.toVariableCSS(t),this.toDefaultCSS(t),this.toClipPathCSS(t),this.toWebkitCSS(t),this.toTextClipCSS(t),this.toTransformCSS(t),this.toLayoutItemCSS(t),this.toBackgroundImageCSS(t));return delete e.left,delete e.top,delete e.width,delete e.height,delete e.position,e}},{key:"toSVGAttribute",value:function(t){return Ss({},this.toDefaultCSS(t),{},this.toKeyListCSS(t,["stroke-width","stroke-linecap","stroke-linejoin","stroke-dasharray","stroke-dashoffset","fill-opacity","fill-rule","text-anchor"]))}},{key:"wrappedRender",value:function(t,e){var n=t.id,r=t.x,o=t.y,i=t.width,a=t.height,c=t.itemType;return("\n\n            <svg class='svg-element-item ".concat(c,"'  ").concat(be({xmlns:"http://www.w3.org/2000/svg","data-id":n,x:r.value,y:o.value,width:i.value,height:a.value,overflow:"visible"}),">\n                ").concat(this.toDefString(t),"\n                ").concat(ae(e)&&e(),"\n            </svg>\n        "))}},{key:"render",value:function(t,e){var n=t.width,r=t.height,o=t.elementType||"div",i=this.toCSS(t);return this.wrappedRender(t,(function(){return"\n                <foreignObject ".concat(be({width:n.value,height:r.value,overflow:"visible"}),">\n                    <").concat(o,' xmlns="http://www.w3.org/1999/xhtml" style="').concat(de(i),';width:100%;height:100%;"></').concat(o,">\n                </foreignObject>    \n                ").concat(t.layers.map((function(t){return e.render(t,e)})).join(""),"\n            ")}))}}])&&_s(n.prototype,r),o&&_s(n,o),e}(Os);function Rs(t){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ds(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function As(t,e){return!e||"object"!==Rs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Is(t){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ls(t,e){return(Ls=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ms=function(t){function e(){return Ds(this,e),As(this,Is(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ls(t,e)}(e,t),n=e,(r=[{key:"toCSS",value:function(t){var e=Object.assign({},this.toDefaultCSS(t),this.toClipPathCSS(t),this.toWebkitCSS(t),this.toTextClipCSS(t),this.toBackgroundImageCSS(t));return delete e.left,delete e.top,delete e.width,delete e.height,delete e.position,e}},{key:"render",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(t.x,t.y,t.width),o=t.height,i=this.toCSS(t);return"\n".concat(n?'<?xml version="1.0"?>':"","\n<svg ").concat(be({xmlns:"http://www.w3.org/2000/svg",width:r.value,height:o.value,viewBox:"0 0 ".concat(r.value," ").concat(o.value),style:de(i)}),">\n    ").concat(this.toDefString(t),"\n    ").concat(t.layers.map((function(t){return e.render(t,e)})).join(""),"\n</svg>      \n        ")}}])&&Vs(n.prototype,r),o&&Vs(n,o),e}(Ts);function zs(t){return(zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fs(t,e){return!e||"object"!==zs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hs(t){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gs(t,e){return(Gs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ys=function(t){function e(){return Bs(this,e),Fs(this,Hs(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gs(t,e)}(e,t),e}(Ts);function Xs(t){return(Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ns(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ks(t,e){return!e||"object"!==Xs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ws(t){return(Ws=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Us(t,e){return(Us=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zs=function(t){function e(){return Ns(this,e),Ks(this,Ws(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Us(t,e)}(e,t),e}(Ys);function qs(t){return(qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Js(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tl(t,e){return!e||"object"!==qs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function el(t,e,n){return(el="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function nl(t){return(nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rl(t,e){return(rl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ol=function(t){function e(){return Js(this,e),tl(this,nl(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rl(t,e)}(e,t),n=e,(r=[{key:"getUrl",value:function(t){var e=t.src;return t.top.getImageValueById(e)}},{key:"render",value:function(t){var e=this,n=t.width,r=t.height,o=this.toCSS(t);return this.wrappedRender(t,(function(){return"\n            <foreignObject ".concat(OBJECT_TO_PROPERTY({width:n.value,height:r.value}),'>\n                <div xmlns="http://www.w3.org/1999/xhtml">\n                    <img src=\'').concat(e.getUrl(t),"' style=\"width:100%;height:100%; ").concat(de(o),'"  />\n                </div>\n            </foreignObject>              \n          ')}))}},{key:"update",value:function(t,n){var r=n.$("img");r&&r.attr("src",this.getUrl(t)),el(nl(e.prototype),"update",this).call(this,t,n)}}])&&Qs(n.prototype,r),o&&Qs(n,o),e}(Ys);function il(t){return(il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function al(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ul(t,e){return!e||"object"!==il(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sl(t){return(sl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ll(t,e){return(ll=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fl=function(t){function e(){return al(this,e),ul(this,sl(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ll(t,e)}(e,t),n=e,(r=[{key:"render",value:function(t,e){return t.artboards.map((function(t){return e.render(t,e)}))}}])&&cl(n.prototype,r),o&&cl(n,o),e}(Ts);function pl(t){return(pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hl(t,e){return!e||"object"!==pl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dl(t){return(dl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vl(t,e){return(vl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bl=function(t){function e(){return yl(this,e),hl(this,dl(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vl(t,e)}(e,t),e}(Ys);function ml(t){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ol(t,e){return!e||"object"!==ml(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kl(t){return(kl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jl(t,e){return(jl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Sl=function(t){function e(){return gl(this,e),Ol(this,kl(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jl(t,e)}(e,t),n=e,(r=[{key:"toString",value:function(){return""}},{key:"toSVGString",value:function(t){return""}},{key:"toFillValue",value:function(t){return""}}])&&wl(n.prototype,r),o&&wl(n,o),e}(ua);function Pl(t){return(Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _l(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function El(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?El(Object(n),!0).forEach((function(e){Cl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):El(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dl(t,e){return!e||"object"!==Pl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vl(t,e,n){return(Vl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Al(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Al(t){return(Al=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Il(t,e){return(Il=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ll=function(t){function e(){return Tl(this,e),Dl(this,Al(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Il(t,e)}(e,t),n=e,o=[{key:"toLinearGradient",value:function(t){return 0===t.length?"none":new LinearGradient({angle:"to right",colorsteps:t})+""}},{key:"parse",value:function(t){var n=pn(t),r={},o=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=hn(t,n.matches),o.push.apply(o,_l(Zi.parse(t)));else{var i=xl(t.split(" "),5),a=i[0],c=i[1],u=i[2],s=i[3],l=i[4];r.x1=_.parse(a),r.y1=_.parse(c),r.x2=_.parse(u),r.y2=_.parse(s),r.spreadMethod=l||"pad"}})),new e($l({},r,{colorsteps:o}))}}],(r=[{key:"getDefaultObject",value:function(t){return Vl(Al(e.prototype),"getDefaultObject",this).call(this,$l({type:"linear-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",spreadMethod:"pad"},t))}},{key:"toCloneObject",value:function(){return $l({},Vl(Al(e.prototype),"toCloneObject",this).call(this),{x1:this.json.x1,y1:this.json.y1,x2:this.json.x2,y2:this.json.y2,spreadMethod:this.json.spreadMethod})}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t=this.getColorString(),e=this.json,n=[e.x1,e.y1,e.x2,e.y2,e.spreadMethod].join(" ");return"".concat(this.json.type,"(").concat(n,", ").concat(t,")")}},{key:"toSVGString",value:function(t){var e=this.json,n=e.x1,r=e.y1,o=e.x2,i=e.y2,a=e.spreadMethod;return("\n<linearGradient ".concat(be({id:t,x1:n,x2:o,y1:r,y2:i,spreadMethod:a})," >\n  ").concat(this.colorsteps.map((function(t){return'<stop offset="'.concat(t.percent,'%"  stop-color="').concat(t.color,'" ></stop>')})).join("\n"),"\n</linearGradient>\n      "))}},{key:"toFillValue",value:function(t){return"url(#".concat(t,")")}}])&&Rl(n.prototype,r),o&&Rl(n,o),e}(Sl);function Ml(t){return(Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Bl(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Fl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fl(Object(n),!0).forEach((function(e){Gl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nl(t,e){return!e||"object"!==Ml(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kl(t,e,n){return(Kl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Wl(t){return(Wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ul(t,e){return(Ul=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zl=function(t){function e(){return Yl(this,e),Nl(this,Wl(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ul(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=pn(t),r={},o=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=hn(t,n.matches),o.push.apply(o,Bl(Zi.parse(t)));else{var i=zl(t.split(" "),7),a=i[0],c=i[1],u=i[2],s=i[3],l=i[4],f=i[5],p=i[6];r.cx=a,r.cy=c,r.r=u,r.fx=s,r.fy=l,r.fr=f,r.spreadMethod=p||"pad"}})),new e(Hl({},r,{colorsteps:o}))}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Kl(Wl(e.prototype),"getDefaultObject",this).call(this,Hl({type:"radial-gradient",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",fr:"0%",spreadMethod:"pad"},t))}},{key:"toCloneObject",value:function(){var t=this.json,n=t.cx,r=t.cy,o=t.r,i=t.fx,a=t.fy,c=t.fr,u=t.spreadMethod;return Hl({},Kl(Wl(e.prototype),"toCloneObject",this).call(this),{cx:n,cy:r,r:o,fx:i,fy:a,fr:c,spreadMethod:u})}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t=this.getColorString(),e=this.json,n=[e.cx,e.cy,e.r,e.fx,e.fy,e.fr,e.spreadMethod].join(" ");return"".concat(this.json.type,"(").concat(n,", ").concat(t,")")}},{key:"toSVGString",value:function(t){var e=this.json,n=e.cx,r=e.cy,o=e.r,i=e.fx,a=e.fy,c=e.fr,u=e.spreadMethod;return("\n<radialGradient ".concat(be({id:t,cx:n,cy:r,r:o,fx:i,fy:a,fr:c,spreadMethod:u})," >\n  ").concat(this.colorsteps.map((function(t){return'<stop offset="'.concat(t.percent,'%"  stop-color="').concat(t.color,'" />')})).join("\n"),"\n</radialGradient>\n"))}},{key:"toFillValue",value:function(t){return"url(#".concat(t,")")}}])&&Xl(n.prototype,r),o&&Xl(n,o),e}(Sl);function ql(t){return(ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ef(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nf(t,e){return!e||"object"!==ql(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rf(t,e,n){return(rf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=of(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function of(t){return(of=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function af(t,e){return(af=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cf=function(t){function e(){return tf(this,e),nf(this,of(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&af(t,e)}(e,t),n=e,o=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";return new e({colorsteps:[new Zi({color:t,percent:0,index:0}),new Zi({color:t,percent:100,index:0})]})}}],(r=[{key:"getDefaultObject",value:function(){return rf(of(e.prototype),"getDefaultObject",this).call(this,{type:"static-gradient",static:!0,colorsteps:[new Zi({color:"red",percent:0,index:0}),new Zi({color:"red",percent:100,index:1})]})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jl(Object(n),!0).forEach((function(e){Ql(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},rf(of(e.prototype),"toCloneObject",this).call(this),{static:!0})}},{key:"setColor",value:function(t){this.colorsteps.forEach((function(e){e.color=t}))}},{key:"toString",value:function(){return this.json.colorsteps[0].color}},{key:"toSVGString",value:function(){return""}},{key:"toFillValue",value:function(){return this.toString()}},{key:"isStatic",value:function(){return!0}}])&&ef(n.prototype,r),o&&ef(n,o),e}(Sl);function uf(t){return(uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function lf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ff(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lf(Object(n),!0).forEach((function(e){pf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function df(t,e){return!e||"object"!==uf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vf(t,e,n){return(vf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function bf(t){return(bf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mf(t,e){return(mf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gf=["jpg","jpeg","png","gif","svg"];var wf=function(t){function e(){return yf(this,e),df(this,bf(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mf(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=sf(t.split("(")[1].split(")")[0].trim().split("#"),2),r=n[0],o=n[1];if(!o)return new e({url:r});var i=sf(o.split(","),7);return new e({patternUnits:i[0],patternWidth:i[1],patternHeight:i[2],imageX:i[3],imageY:i[4],imageWidth:i[5],imageHeight:i[6],url:r})}},{key:"isImageFile",value:function(t){return gf.includes(t)}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vf(bf(e.prototype),"getDefaultObject",this).call(this,ff({type:"url",url:"",datauri:"",patternUnits:"userSpaceOnUse",patternWidth:"100%",patternHeight:"100%",imageX:"0%",imageY:"0%",imageWidth:"100%",imageHeight:"100%"},t))}},{key:"toCloneObject",value:function(){return ff({},vf(bf(e.prototype),"toCloneObject",this).call(this),{url:this.json.url,datauri:this.json.datauri,patternUnits:this.json.patternUnits,patternWidth:this.json.patternWidth,patternHeight:this.json.patternHeight,imageX:this.json.imageX,imageY:this.json.imageY,imageWidth:this.json.imageWidth,imageHeight:this.json.imageHeight})}},{key:"isUrl",value:function(){return!0}},{key:"toString",value:function(){var t=this.json,e=t.patternUnits,n=t.patternWidth,r=t.patternHeight,o=t.imageX,i=t.imageY,a=t.imageWidth,c=t.imageHeight,u=t.url,s=[e,n,r,o,i,a,c].join(",").trim();return"url(".concat(u,"#").concat(s,")")}},{key:"toSVGString",value:function(t){var e=this.json,n=e.patternUnits,r=e.patternWidth,o=e.patternHeight,i=e.imageX,a=e.imageY,c=e.imageWidth,u=e.imageHeight;return("\n  <pattern ".concat(be({id:t,patternUnits:n,width:r,height:o}),' >\n    <image xlink:href="').concat(this.json.url,'" ').concat(be({x:i,y:a,width:c,height:u,preserveAspectRatio:"none"})," />\n  </pattern>\n      "))}},{key:"toFillValue",value:function(t){return"url(#".concat(t,")")}}])&&hf(n.prototype,r),o&&hf(n,o),e}(Mi);function Of(t){return(Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kf(Object(n),!0).forEach((function(e){Sf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _f(t,e){return!e||"object"!==Of(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ef(t){return(Ef=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $f(t,e){return($f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Cf=/((linear\-gradient|radial\-gradient|url)\(([^\)]*)\))/gi,Tf=function(t){function e(){return Pf(this,e),_f(this,Ef(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$f(t,e)}(e,t),n=e,o=[{key:"createImage",value:function(t){return new SVGLImageResource({url:t})}},{key:"createGradient",value:function(t,e){var n=t.colorsteps||e.colorsteps,r=e.toJSON();switch(delete r.itemType,delete r.type,t.type){case"linear-gradient":return new Ll(jf({},r,{colorsteps:n}));case"radial-gradient":return new Zl(jf({},r,{colorsteps:n}));default:return new cf(jf({},r,{colorsteps:n}))}}},{key:"parse",value:function(t){return new e(t)}},{key:"parseImage",value:function(t){var e=pn(t),n=null,r=e.str.match(Cf);return r?(r.forEach((function(t,r){t=hn(t,e.matches),n=t.includes("linear")?Ll.parse(t):t.includes("radial")?Zl.parse(t):t.includes("url")?wf.parse(t):cf.parse(t)})),n):cf.create(t||"transparent")}},{key:"changeImageType",value:function(t){switch(t.type){case"linear-gradient":return new Ll(t);case"radial-gradient":return new Zl(t);case"image-resource":case"url":return new wf(t);default:return new cf(t)}}}],(r=[{key:"addImageResource",value:function(t){return this.clear("image-resource"),this.addItem("image-resource",t)}},{key:"addGradient",value:function(t){return this.addImageResource(t)}},{key:"setImageUrl",value:function(t){t.images&&t.images.length&&this.reset({type:"image",image:e.createImage(t.images[0])})}},{key:"setGradient",value:function(t){this.reset({type:t.type,image:e.createGradient(t,this.json.image)})}},{key:"image",get:function(){return this.json.image},set:function(t){this.json.image=t}}])&&xf(n.prototype,r),o&&xf(n,o),e}(_i);function Rf(t){return(Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Df(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Af(t,e){return!e||"object"!==Rf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function If(t){return(If=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lf(t,e){return(Lf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mf=function(t){function e(){return Df(this,e),Af(this,If(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lf(t,e)}(e,t),n=e,(r=[{key:"updateDefString",value:function(t,e){var n=e.$("defs");if(n)n.html(this.toDefInnerString(t));else{var r=this.toDefString(t).trim();e.prepend(Wn.createByHTML(r))}}},{key:"toDefInnerString",value:function(t){return"\n            ".concat(this.toFillSVG(t),"\n            ").concat(this.toStrokeSVG(t),"\n        ")}},{key:"toDefString",value:function(t){var e=this.toDefInnerString(t).trim();return("\n            <defs>\n            ".concat(e,"\n            </defs>\n        "))}},{key:"fillId",value:function(t){return this.getInnerId(t,"fill")}},{key:"strokeId",value:function(t){return this.getInnerId(t,"stroke")}},{key:"toFillSVG",value:function(t){return Tf.parseImage(t.fill||"transparent").toSVGString(this.fillId(t))}},{key:"toStrokeSVG",value:function(t){return Tf.parseImage(t.stroke||"black").toSVGString(this.strokeId(t))}},{key:"toFillValue",value:function(t){return Tf.parseImage(t.fill||"transparent").toFillValue(this.fillId(t))}},{key:"toFillOpacityValue",value:function(t){return Dn.parse(t.fill||"transparent").a}},{key:"toStrokeValue",value:function(t){return Tf.parseImage(t.stroke||"black").toFillValue(this.strokeId(t))}},{key:"toFilterValue",value:function(t){return t.svgfilter?"url(#".concat(t.svgfilter,")"):""}},{key:"toLayoutCSS",value:function(t){return{}}}])&&Vf(n.prototype,r),o&&Vf(n,o),e}(Ys);function zf(t){return(zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ff(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yf(t,e){return!e||"object"!==zf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xf(t){return(Xf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nf(t,e){return(Nf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kf=function(t){function e(){return Hf(this,e),Yf(this,Xf(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nf(t,e)}(e,t),n=e,(r=[{key:"update",value:function(t,e){if(e){var n=e.$("path");n&&(n.setAttr({d:t.d,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)}),t.totalLength=n.totalLength),this.updateDefString(t,e)}}},{key:"render",value:function(t){var e=this,n=t.d;return this.wrappedRender(t,(function(){return"\n        <path ".concat(be(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bf(Object(n),!0).forEach((function(e){Ff(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({class:"svg-path-item","motion-based":t["motion-based"],d:n,filter:e.toFilterValue(t),fill:e.toFillValue(t),stroke:e.toStrokeValue(t)},e.toSVGAttribute(t),{style:de(e.toCSS(t))}))," />\n    ")}))}}])&&Gf(n.prototype,r),o&&Gf(n,o),e}(Mf);function Wf(t){return(Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qf(t,e){return!e||"object"!==Wf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tp(t){return(tp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ep(t,e){return(ep=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var np=function(t){function e(){return qf(this,e),Qf(this,tp(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ep(t,e)}(e,t),n=e,(r=[{key:"update",value:function(t,e){var n=e.$("path");n&&n.attr("d",t.d);var r=e.$("textPath");r&&(r.text(t.text),r.setAttr({filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t),textLength:t.textLength,lengthAdjust:t.lengthAdjust,startOffset:t.startOffset})),this.updateDefString(t,e),t.totalLength=n.totalLength}},{key:"toDefInnerString",value:function(t){return"\n      ".concat(this.toPathSVG(t),"\n      ").concat(this.toFillSVG(t),"\n      ").concat(this.toStrokeSVG(t),"\n    ")}},{key:"toPathId",value:function(t){return this.getInnerId(t,"path")}},{key:"toPathSVG",value:function(t){return"\n      <path ".concat(be({class:"svg-path-item",id:this.toPathId(t),d:t.d,fill:"none"})," />\n    ")}},{key:"render",value:function(t){var e=this;return this.wrappedRender(t,(function(){return"\n        <textPath ".concat(be(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Uf(Object(n),!0).forEach((function(e){Zf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({"xlink:href":"#".concat(e.toPathId(t)),textLength:textLength,lengthAdjust:lengthAdjust,startOffset:startOffset,filter:e.toFilterValue(t),fill:e.toFillValue(t),stroke:e.toStrokeValue(t)},e.toSVGAttribute(t),{style:de(e.toCSS(t))}))," >").concat(t.text,"</textPath>\n      ")}))}}])&&Jf(n.prototype,r),o&&Jf(n,o),e}(Mf);function rp(t){return(rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function op(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ip(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ap(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function up(t,e){return!e||"object"!==rp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sp(t){return(sp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lp(t,e){return(lp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fp=function(t){function e(){return ap(this,e),up(this,sp(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lp(t,e)}(e,t),n=e,(r=[{key:"update",value:function(t,e){var n=e.$("text");n&&(n.text(t.text),n.setAttr({filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t),textLength:t.textLength,lengthAdjust:t.lengthAdjust})),this.updateDefString(t,e)}},{key:"shapeInsideId",value:function(t){return this.getInnerId(t,"shape-inside")}},{key:"render",value:function(t){var e=this,n=(t.id,t.textLength),r=t.lengthAdjust;return this.wrappedRender(t,(function(){return"\n        <text ".concat(be(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?op(Object(n),!0).forEach((function(e){ip(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):op(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({class:"svg-text-item",textLength:n,lengthAdjust:r,filter:e.toFilterValue(t),fill:e.toFillValue(t),stroke:e.toStrokeValue(t)},e.toSVGAttribute(t),{style:de(e.toCSS(t))}))," >").concat(t.text,"</text>\n      ")}))}}])&&cp(n.prototype,r),o&&cp(n,o),e}(Mf);function pp(t){return(pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dp(t,e){return!e||"object"!==pp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vp(t,e,n){return(vp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function bp(t){return(bp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mp(t,e){return(mp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gp=function(t){function e(){return yp(this,e),dp(this,bp(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mp(t,e)}(e,t),n=e,(r=[{key:"toCSS",value:function(t){var n=vp(bp(e.prototype),"toCSS",this).call(this,t);return n.margin=n.margin||"0px",n}},{key:"render",value:function(t){var e=t.content,n=t.width,r=t.height,o=this.toCSS(t);return this.wrappedRender(t,(function(){return"\n            <foreignObject ".concat(OBJECT_TO_PROPERTY({width:n.value,height:r.value}),'>\n                <p xmlns="http://www.w3.org/1999/xhtml" style="').concat(CSS_TO_STRING(o),'">').concat(e,"</p>\n            </foreignObject>              \n          ")}))}},{key:"update",value:function(t,e){var n=t.content;e.updateDiff(n)}}])&&hp(n.prototype,r),o&&hp(n,o),e}(Ys);function wp(t){return(wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Op(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jp(t,e){return!e||"object"!==wp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sp(t){return(Sp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pp(t,e){return(Pp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xp=function(t){function e(){return Op(this,e),jp(this,Sp(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pp(t,e)}(e,t),n=e,(r=[{key:"getUrl",value:function(t){var e=t.src;return t.top.getVideoValueById(e)}},{key:"render",value:function(t,e){var n=this,r=t.width,o=t.height,i=t.controls,a=t.muted,c=t.poster,u=t.loop,s=t.crossorigin,l=t.autoplay,f=this.toCSS(t);return this.wrappedRender(t,(function(){return"\n            <foreignObject ".concat(be({width:r.value,height:o.value,overflow:"visible"}),'>\n                <video xmlns="http://www.w3.org/1999/xhtml" ').concat(be({controls:i,src:n.getUrl(t),muted:a,poster:c,loop:u,crossorigin:s,autoplay:l}),' style="').concat(de(f),';width:100%;height:100%;"></video>\n            </foreignObject>    \n            ')}))}}])&&kp(n.prototype,r),o&&kp(n,o),e}(Ys),_p={project:new fl,artboard:new Ms,rect:new bl,circle:new Zs,image:new ol,video:new xp,text:new gp,"svg-path":new Kf,"svg-text":new fp,"svg-textpath":new np},Ep={render:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_p[t.itemType];if(r)return r.render(t,e||this,n)},toCSS:function(t){var e=_p[t.itemType];if(e)return e.toCSS(t)},toTransformCSS:function(t){var e=_p[t.itemType];if(e)return e.toTransformCSS(t)},toStyle:function(t,e){var n=_p[t.itemType];if(n)return n.toStyle(t,e||this)},update:function(t,e){var n=_p[t.itemType];if(n)return n.update(t,e)},codeview:function(t){if(!t)return"";var e=this.render(t);return e=e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;"),"\n          <div class='svg-code'>\n            ".concat(e&&"<div><pre title='SVG'>".concat(e,"</pre></div>"),"\n          </div>\n        ")}};function $p(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Cp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Tp=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.project=e,this.artboard=n}var e,n,r;return e=t,(n=[{key:"generateCode",value:function(){var t=this,e=this.project.getSelectedTimelineLastTime(),n=this.project.getSelectedTimeline(),r=[],o={};return n&&(n.animations.forEach((function(e){var n,o=t.project.searchById(e.id),i=e.properties.map((function(t){var e=t.property;switch(e){case"x":e="left";break;case"y":e="top"}return{property:e,keyframes:t.keyframes.map((function(t){return{time:1e3*t.time,value:t.value,timing:t.timing}}))}}));(n=r).push.apply(n,$p(o.toAnimationKeyframes(i).filter((function(t){return t.properties.length}))))})),o={duration:1e3*e,iterationCount:n.iterationCount,fps:n.fps,speed:n.speed,direction:n.direction}),r=JSON.stringify(r,null,4),o=JSON.stringify(o,null,4),"\nvar player = new anipa.Player(".concat(r,", ").concat(o,");\nplayer.play();\n")}}])&&Cp(e.prototype,n),r&&Cp(e,r),t}(),Rp=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"anipa";switch(n){case"anipa":return new Tp(t,e).generateCode()}return""},Dp={makeProjectStyle:function(t){var e=t.toKeyframeString(),n=t.toRootVariableCSS();return"\n      :root {\n        ".concat(de(n),"\n      }\n      /* keyframe */\n      ").concat(e,"\n    ")},makeStyle:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t.is("project"))return this.makeProjectStyle(t);var r=t.generateView("[data-id='".concat(t.id,"']"),n);return"\n    ".concat(r,"\n    ")+t.layers.map((function(t){return e.makeStyle(t)})).join("")},makeSvg:function(t){var e=t.toSVGString?t.toSVGString():"";return"\n      ".concat(e?'<svg width="0" height="0">'.concat(e,"</svg>"):"","\n    ")},generate:function(t){var e=t.selection.currentProject,n=t.selection.currentArtboard,r="\n".concat(this.makeStyle(e),"\n").concat(this.makeStyle(n,"\n  left: 0px;\n  top: 0px;\n")),o="\n".concat(n.html,"\n").concat(this.makeSvg(e),"\n    "),i=Rp(e,n,"anipa");return{html:o=t.replaceLocalUrltoRealUrl(o),css:r=t.replaceLocalUrltoRealUrl(r),js:i=t.replaceLocalUrltoRealUrl(i)}},generateSVG:function(t,e){return t.replaceLocalUrltoRealUrl(Ep.render(e,null,!0))}},Vp={command:"downloadSVG",execute:function(t){var e=t.selection.current||t.$selection.currentArtboard,n=Dp.generateSVG(t,e).trim();vi("data:image/svg+xml;base64,"+window.btoa(n),e.id)}};var Ap={command:"downloadPNG",execute:function(t){console.log("aaaa");var e=t.selection.current||t.selection.currentArtboard,n=Dp.generateSVG(t,e).trim(),r="data:image/svg+xml;base64,"+window.btoa(n),o=e.id;console.log("aaaa",r),Ko({local:r},(function(t,e){console.log(r),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",r=Wn.create("canvas"),o=t.width,i=t.height;r.resize({width:o,height:i}),r.drawImage(t),e&&e(r.toDataURL(n))}(e,(function(t){vi(t,o)}))}))}},Ip={command:"load.json",execute:function(t,e){0===(e=e||t.loadResource("projects",[])).length&&(e=[{itemType:"project",layers:[{itemType:"artboard",name:"New ArtBoard",x:"300px",y:"200px",width:"375px",height:"667px","background-color":"white",layer:[]}]}]);var n=e.map((function(e){return t.createItem(e)}));if(n.forEach((function(t){t.selectTimeline()})),n.length){var r=n[0];if(t.selection.selectProject(r),r.artboards.length){var o=r.artboards[0];t.selection.selectArtboard(o),o.layers.length?t.selection.select(o.layers[0]):t.selection.select(o)}t.load(n),wo(t)}else t.emit("addArtBoard")}};function Lp(t,e){var n=t.selection.currentProject;if(n){var r=n.getSelectedTimeline();e&&e(n,r)}}var Mp={command:"addTimelineProperty",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{timing:"linear"};Lp(t,(function(r,o){var i;!1===ee(e)&&(e=[e]);var a=[];e.forEach((function(t){var e={layerId:t,property:n.property,value:n.value+"",timing:n.timing,editor:n.editor},o=r.addTimelineKeyframe(e);o&&a.push(o)})),(i=t.timeline).select.apply(i,a),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},zp={command:"setTimelineOffset",debounce:100,execute:function(t,e){Lp(t,(function(n,r){n.setTimelineKeyframeOffsetValue(e.layerId,e.property,e.id,e.value,e.timing,e.time),t.emit("refreshTimeline")}))}},Bp={command:"addTimelineCurrentProperty",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timing:"linear"};Lp(t,(function(n,r){var o,i=[];t.selection.each((function(t){var r={layerId:t.id,property:e.property,value:t[e.property]+"",timing:e.timing,editor:e.editor},o=n.addTimelineKeyframe(r);o&&i.push(o)})),(o=t.timeline).select.apply(o,i),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},Fp={command:"removeTimelineProperty",execute:function(t,e,n){Lp(t,(function(r,o){r.removeTimelineProperty(e,n),t.timeline.empty(),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},Hp={command:"deleteTimelineKeyframe",execute:function(t){Lp(t,(function(e,n){t.timeline.each((function(t){e.deleteTimelineKeyframe(t.layerId,t.property,t.id)})),t.timeline.empty(),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},Gp={command:"selectTimelineItem",execute:function(t,e){Lp(t,(function(n,r){n.selectTimeline(e),t.emit("refreshTimeline"),t.emit("selectTimeline")}))}},Yp={command:"removeTimeline",execute:function(t,e){Lp(t,(function(n,r){n.removeTimeline(e),t.timeline.empty(),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},Xp={command:"removeAnimationItem",execute:function(t,e){Lp(t,(function(n,r){n.removeAnimation(e),t.timeline.empty(),t.emit("refreshTimeline"),t.emit("removeAnimation")}))}},Np={command:"addTimelineKeyframe",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timing:"linear"};Lp(t,(function(n,r){var o=n.searchById(e.layerId),i={layerId:e.layerId,property:e.property,time:e.time,value:o[e.property]+"",timing:e.timing,editor:e.editor},a=n.addTimelineKeyframe(i);t.timeline.select(a),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},Kp={command:"copyTimelineProperty",execute:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Lp(t,(function(o,i){o.copyTimelineKeyframe(e,n,r),t.emit("refreshTimeline")}))}};function Wp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Up(t,e){if(re(e)){var n=Wp(e.split(":"),4),r=n[0],o=n[1],i=n[2],a=n[3];return 3600*(r=parseInt(r,10))+60*(o=parseInt(o,10))+(i=parseInt(i,10))+(a=parseInt(a,10))*(1/t)}return ce(e)?e/t:0}function Zp(t,e){var n=Math.floor(e/3600),r=Math.floor(e/60%60),o=Math.floor(e%60),i=Math.round((e-Math.floor(e))*t);return i===t&&(i=0,60===(o+=1)&&60===(r+=1)&&(n+=1)),[n,r,o,i].map((function(t){return(t+"").padStart(2,"0")})).join(":")}function qp(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Zp(t,Up(t,e)-Up(t,n))}function Jp(t){var e={id:0,start:0,speed:t.speed||1,elapsed:t.elapsed||0,duration:t.duration||0,iterationStartCount:1,iterationCount:t.iterationCount||Number.MAX_SAFE_INTEGER,direction:t.direction||"normal",log:[],logIndex:0,tick:t.tick||function(){},startCallback:t.start||function(){},endCallback:t.end||function(){},firstCallback:t.first||function(){},lastCallback:t.last||function(){}},n=function(t){return"normal"===e.direction||"reverse"!==e.direction&&("alternate"===e.direction?e.iterationStartCount%2==1:"alternate-reverse"===e.direction?e.iterationStartCount%2==0:void 0)?t:1-t},r=function(t){var r=!1;null===e.start&&(e.start=t,r=!0);var a=t-e.start;e.elapsed+=a*e.speed,e.start=t,e.elapsed>e.duration&&(e.elapsed=e.duration);var c=n(e.elapsed/e.duration)*e.duration;r&&e.startCallback(c,e),e.log[e.logIndex++]={elapsed:c,dt:e.lastTime-c},e.lastTime=c,e.tick(c,e),e.elapsed===e.duration?i():o()},o=function(){e.id=requestAnimationFrame(r)},i=function(){e.endCallback(e.elapsed,e),e.iterationStartCount++,e.iterationStartCount>e.iterationCount?(e.lastCallback(e.elapsed,e),cancelAnimationFrame(e.id)):(e.start=null,e.elapsed=0,o())},a=function(t){e.elapsed=t,e.tick(e.elapsed,e)};return{play:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.start=null,e.iterationStartCount=1,e.log=[],e.lastTime=0,e.logIndex=0,ce(t.elapsed)&&(e.elapsed=t.elapsed),ce(t.speed)&&(e.speed=t.speed),ce(t.duration)&&(e.duration=t.duration),ce(t.iterationCount)&&(e.iterationCount=t.iterationCount||Number.MAX_SAFE_INTEGER),re(t.direction)&&(e.direction=t.direction),ae(t.tick)&&(e.tick=t.tick),ae(t.start)&&(e.startCallback=t.start),ae(t.end)&&(e.endCallback=t.end),ae(t.first)&&(e.firstCallback=t.first),ae(t.last)&&(e.lastCallback=t.last),ae(t.stop)&&(e.stopCallback=t.stop),e.firstCallback(e.elapsed,e),o()},stop:function(){e.stopCallback(e.elapsed,e),cancelAnimationFrame(e.id)},tick:r,first:function(t){a(0)},last:function(t){a(e.duration)},seek:a,timer:e}}var Qp={command:"playTimelineItem",description:"Play button action",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"normal";t.selection.empty(),t.emit("refreshSelection"),t.changeMode("play"),t.emit("afterChangeMode"),Lp(t,(function(o,i){var a=o.getSelectedTimelineLastTime();t.timer?t.timer.stop():t.timer=Jp({elapsed:1e3*i.currentTime,speed:e,duration:1e3*a,iterationCount:n,direction:r}),t.timer.play({duration:1e3*a,elapsed:1e3*i.currentTime,speed:e,iterationCount:n,direction:r,tick:function(e,n){o.seek(Zp(i.fps,e/1e3)),t.emit("playTimeline")},last:function(e,n){o.seek(Zp(i.fps,e/1e3)),t.emit("playTimeline"),t.nextTick((function(){t.emit("stopTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))},stop:function(e,n){o.stop(Zp(i.fps,e/1e3)),t.emit("stopTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}})}))}},ty={command:"prevTimelineItem",execute:function(t){Lp(t,(function(e,n){var r=e.getSelectedTimelinePrevTime();e.setTimelineCurrentTime(Zp(n.fps,r)),e.seek(),t.emit("playTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))}},ey={command:"firstTimelineItem",execute:function(t){Lp(t,(function(e,n){var r=e.getSelectedTimelineFirstTime();e.setTimelineCurrentTime(Zp(n.fps,r)),e.seek(),t.emit("playTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))}},ny={command:"nextTimelineItem",execute:function(t){Lp(t,(function(e,n){var r=e.getSelectedTimelineNextTime();e.setTimelineCurrentTime(Zp(n.fps,r)),e.seek(),t.emit("playTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))}},ry={command:"lastTimelineItem",execute:function(t){Lp(t,(function(e,n){var r=e.getSelectedTimelineLastTime();e.setTimelineCurrentTime(Zp(n.fps,r)),e.seek(),t.emit("playTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))}},oy={command:"addTimelineItem",execute:function(t,e){Lp(t,(function(n,r){e?n.addTimelineLayer(e):n.addTimeline(),t.emit("refreshTimeline"),t.emit("addTimeline")}))}},iy={command:"drop.asset",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.color?t.emit("addBackgroundColor",e.color,n):e.gradient?t.emit("addBackgroundImageGradient",e.gradient,n):e.imageUrl&&t.emit("addBackgroundImageAsset",e.imageUrl,n),wo(t)}},ay={command:"addBackgroundImageGradient",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.itemsByIds(n),o={};r.forEach((function(t){var n=cu.parseStyle(ve(t["background-image"]));n.unshift(new cu({image:cu.parseImage(e)})),o[t.id]={"background-image":cu.join(n)}})),t.emit("history.setAttributeForMulti","add gradient",o)}},cy={command:"addBackgroundImageAsset",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.itemsByIds(n),o={};r.forEach((function(t){var n=cu.parseStyle(ve(t["background-image"]));n.unshift(new cu({image:new Ra({url:e})})),o[t.id]={"background-image":cu.join(n)}})),t.emit("history.setAttributeForMulti","add background image",o)}},uy={command:"removeLayer",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t.selection.itemsByIds(e||t.selection.ids).forEach((function(t){t.remove()})),t.selection.empty(),t.nextTick((function(){t.emit("refreshAll")}))}},sy={command:"change.mode.view",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CanvasView";t.changeModeView(e)}},ly={command:"segment.move.down",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dy:1},n=+e.dy;t.emit("moveSegment",0,n)}},fy={command:"segment.move.up",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dy:1},n=+e.dy;t.emit("moveSegment",0,-1*n)}},py={command:"segment.move.right",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dx:1},n=+e.dx;t.emit("moveSegment",n,0)}},yy={command:"segment.move.left",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dx:1},n=+e.dx;t.emit("moveSegment",-1*n,0)}},hy={command:"toggle.fullscreen",execute:function(t,e){Wn.body().fullscreen()}};function dy(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var vy={command:"addBackgroundImagePattern",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.itemsByIds(n),o={};r.forEach((function(t){o[t.id]={pattern:Mu.join([].concat(dy(Mu.parseStyle(e)),dy(Mu.parseStyle(t.pattern))))}})),t.emit("history.setAttributeForMulti","add pattern",o)}},by={command:"addBackgroundColor",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.itemsByIds(n),o={};r.forEach((function(t){o[t.id]={"background-color":e}})),t.emit("history.setAttributeForMulti","add background color",o)}};function my(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gy=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getContainer",value:function(t){return 1===t.selection.items.length?t.selection.currentArtboard:t.selection.allRect}}],(n=null)&&my(e.prototype,n),r&&my(e,r),t}(),wy={command:"sort.bottom",execute:function(t){var e=gy.getContainer(t).screenY2.value;t.selection.each((function(t){t.setScreenY2(e)})),t.emit("resetSelection")}},Oy={command:"sort.top",execute:function(t){var e=gy.getContainer(t).screenY.value;t.selection.each((function(t){t.setScreenY(e)})),t.emit("resetSelection")}},ky={command:"sort.right",execute:function(t){var e=gy.getContainer(t).screenX2.value;t.selection.each((function(t){t.setScreenX2(e)})),t.emit("resetSelection")}};function jy(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Sy(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Py(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xy(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _y(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ey(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter((function(e){var n=0;return e.path.forEach((function(e){n+=t.filter((function(t){return t.id===e})).length?1:0})),1===n}))}var $y,Cy={command:"updatePathItem",description:"Update path string for selected svg path item",execute:function(t,e){t.emit("setAttribute",{d:e.d,totalLength:e.totalLength,path:new Ro(e.d)})}};function Ty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ry=(Ty($y={historyAddLayer:{command:"history.addLayer",description:"add layer in history ",execute:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.emit("addLayer",n,o,i),t.nextTick((function(){t.history.add(e,r,{currentValues:[n,{},i,n.parent],undoValues:[n.id]})})),t.nextTick((function(){t.history.saveSelection()}))},redo:function(t,e){var n=e.currentValues;t.emit.apply(t,["addLayer"].concat(_y(n))),t.nextTick((function(){t.emit("refreshAll")}))},undo:function(t,e){var n=e.undoValues;t.selection.itemsByIds(n).forEach((function(t){t&&t.remove()})),t.nextTick((function(){t.emit("refreshAll")}))}},historyRemoveLayer:{command:"history.removeLayer",description:"remove layer",execute:function(t,e,n){var r=t.selection.itemsByIds(n||t.selection.ids),o=(r=Ey(r)).map((function(t){return t.id})),i=t.serialize(r);r.forEach((function(t){return t.remove()})),t.history.add(e,this,{currentValues:[o],undoValues:i}),t.nextTick((function(){t.emit("refreshAll"),t.nextTick((function(){t.history.saveSelection()}))}))},redo:function(t,e){var n=e.currentValues[0],r=t.selection.itemsByIds(n||t.selection.ids);(r=Ey(r)).forEach((function(t){return t.remove()})),t.nextTick((function(){t.emit("refreshAll")}))},undo:function(t,e){var n=e.undoValues;t.deserialize(n,!0),t.nextTick((function(){t.emit("refreshAll")}))}},historySetAttribute:{command:"history.setAttribute",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t.emit("setAttribute",n,r),t.history.add(e,this,{currentValues:[n,r],undoValues:t.history.getUndoValues(n)}),t.nextTick((function(){t.history.saveSelection()}))},redo:function(t,e){var n=e.currentValues;t.emit.apply(t,["setAttribute"].concat(Sy(n))),t.nextTick((function(){t.emit("refreshAll")}))},undo:function(t,e){var n=e.undoValues,r=Object.keys(n);t.selection.itemsByIds(r).forEach((function(t){t.reset(n[t.id])})),t.nextTick((function(){t.emit("refreshAll")}))}},historySetAttributeForMulti:{command:"history.setAttributeForMulti",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.emit("setAttributeForMulti",n),t.history.add(e,this,{currentValues:[n],undoValues:t.history.getUndoValuesForMulti(n)}),t.nextTick((function(){t.history.saveSelection()}))},redo:function(t,e){var n=e.currentValues;t.emit.apply(t,["setAttributeForMulti"].concat(xy(n))),t.nextTick((function(){t.selection.reselect(),t.emit("refreshAll")}))},undo:function(t,e){var n=e.undoValues,r=Object.keys(n);t.selection.itemsByIds(r).forEach((function(t){t.reset(n[t.id])})),t.selection.reselect(),t.nextTick((function(){t.emit("refreshAll")}))}},historyRefreshSelection:{command:"history.refreshSelection",description:"save selection in history ",description_ko:"Selection   History  ",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"selection",n=t.selection.ids,r=t.history.selectedIds;Oe(n,r)||(t.history.add(e,this,{currentValues:n,undoValues:r}),this.nextAction(t))},nextAction:function(t){t.nextTick((function(){t.history.saveSelection(),t.emit("refreshSelection"),t.nextTick((function(){t.emit("refreshSelectionTool")}))}))},redo:function(t,e){var n=e.currentValues;t.selection.selectById(n),this.nextAction(t)},undo:function(t,e){var n=e.undoValues;t.selection.selectById(n),this.nextAction(t)}},historyRedo:{command:"history.redo",execute:function(t){t.history.redo()}},historyUndo:{command:"history.undo",execute:function(t){t.history.undo()}},moveLayer:{command:"moveLayer",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r={};t.selection.each((function(t){r[t.id]={x:_.px(t.x.toPx().value+e),y:_.px(t.y.toPx().value+n)}})),t.emit("history.setAttributeForMulti","item move down",r),t.nextTick((function(){t.emit("refreshAll")}))}},groupItem:{command:"group.item",execute:function(t){if(0!==t.selection.length){var e=t.selection.currentArtboard;if(e){e.generateListNumber();var n=t.selection.map((function(t){return{depth:t.depth,item:t}}));n.sort((function(t,e){return t.depth===e.depth?t.no>e.no?-1:1:t.depth>e.depth?1:-1}));var r=t.selection.allRect,o=t.createItem({itemType:"rect",x:r.x,y:r.y,width:r.width,height:r.height});n[0].item.add(o,"after"),r.x&&o.setScreenX(r.x.value),r.y&&o.setScreenY(r.y.value),n.forEach((function(t){var e=t.item;o.add(e)})),t.selection.select(o),t.emit("refreshArtboard")}}}},ungroupItem:{command:"ungroup.item",execute:function(t){if(0!==t.selection.length){var e=t.selection.current;if(e){for(var n=e;;){if(n.is("artboard")){n=void 0;break}if(n.isGroup)break;n=n.parent}var r=n;jy(n.layers).forEach((function(t){r.add(t,"after"),r=t})),n.remove(),t.selection.empty(),t.emit("refreshArtboard")}}}},setEditorLayout:{command:"setEditorLayout",execute:function(t,e){t.setLayout(e),t.emit("changedEditorlayout")}},refreshSelection:{command:"refreshSelection",execute:function(t){}},refreshArtboard:function(t){t.emit("refreshLayerTreeView"),t.emit("refreshAllCanvas"),t.emit("refreshStyleView"),t.emit("refreshAllElementBoundSize"),t.emit("refreshSelection"),t.nextTick((function(){t.emit("refreshSelectionTool")}))},resetSelection:function(t){t.emit("setAttribute"),t.nextTick((function(){t.emit("refreshSelectionTool")}))},addBackgroundColor:by,addBackgroundImagePattern:vy,toggleFullscreen:hy,segmentDelete:{command:"segment.delete",execute:function(t,e){t.emit("deleteSegment")}},segmentMoveDown:ly,segmentMoveUp:fy,segmentMoveRight:py,segmentMoveLeft:yy,changeModeView:sy,removeLayer:uy,itemMoveDepthDown:{command:"item.move.depth.down",execute:function(t){var e=t.selection.current;e&&e.orderPrev(),wo(t)}},itemMoveDepthUp:{command:"item.move.depth.up",execute:function(t){var e=t.selection.current;e&&e.orderNext(),wo(t)}},keymapKeydown:{command:"keymap.keydown",execute:function(t,e){t.shortcuts.execute(e,"keydown")}},keymapKeyup:{command:"keymap.keyup",execute:function(t,e){t.shortcuts.execute(e,"keyup")}},scaleMinus:{command:"scale.minus",execute:function(t){t.emit("changeScaleValue",t.scale-.25)}},scalePlus:{command:"scale.plus",execute:function(t){t.emit("changeScaleValue",t.scale+.25)}},dropAsset:iy,addBackgroundImageAsset:cy,addBackgroundImageGradient:ay,addTimelineItem:oy,pauseTimelineItem:{command:"pauseTimelineItem",execute:function(t){t.timer&&t.timer.stop()}},lastTimelineItem:ry,nextTimelineItem:ny,firstTimelineItem:ey,prevTimelineItem:ty,playTimelineItem:Qp,copyTimelineProperty:Kp,addTimelineKeyframe:Np,removeAnimationItem:Xp,removeTimeline:Yp,selectTimelineItem:Gp,deleteTimelineKeyframe:Hp,removeTimelineProperty:Fp,addTimelineCurrentProperty:Bp,setTimelineOffset:zp,refreshSelectedOffset:{command:"refreshSelectedOffset",execute:function(t){var e=t.timeline.items[0];e&&t.emit("refreshOffsetValue",e)}},addTimelineProperty:Mp,setLocale:{command:"setLocale",execute:function(t,e){t.setLocale(e),t.emit("changed.locale")}},loadJSON:Ip,saveJSON:{command:"saveJSON",execute:function(t){t.saveResource("projects",t.projects),t.emit("notify","alert","Save","Save the content on localStorage",5e3)}},downloadPNG:Ap,downloadSVG:Vp,downloadJSON:bi,updateUriList:di,updateImageAssetItem:ci,updateVideoAssetItem:ui,addSVGFilterAssetItem:ai,dropImageUrl:ii,addImageAssetItem:qo,addVideoAssetItem:ni,updateImage:Xo,updateVideo:No,updateResource:{command:"updateResource",execute:function(t,e){e.forEach((function(e){switch(e.type){case"image/svg+xml":case"image/png":case"image/gif":case"image/jpg":case"image/jpeg":t.emit("updateImage",e);break;case"text/plain":case"text/html":t.emit("addText",{content:e.data});break;case"text/uri-list":t.emit("updateUriList",e)}}))}},fileDropItems:Yo,updateScale:{command:"updateScale",execute:function(t,e){t.scale=e,t.emit("changeScale")}},showExportView:{command:"showExportView",execute:function(t){t.emit("showExportWindow")}},switchTheme:{command:"switchTheme",execute:function(t,e){t.changeTheme(e),t.emit("changeTheme")}},clipboardPaste:{command:"clipboard.paste",execute:function(t,e){t.selection.length&&(t.selection.paste(),t.emit("refreshAll"))}},clipboardCopy:{command:"clipboard.copy",title:"Copy",description:"Copy",execute:function(t,e){t.selection.copy()}},addComponentType:function(t,e){t.changeAddType(e),t.emit("afterChangeMode"),t.emit("addStatusBarMessage","Drag if you want to create ".concat(e," layer"))},addArtBoard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.selection.currentProject;n||(n=t.add(t.createItem({itemType:"project"})),t.selection.selectProject(n));var r=n.add(t.createItem(Vo({itemType:"artboard",x:_.px(300),y:_.px(200),width:_.px(375),height:_.px(667)},e)));t.selection.selectArtboard(r),t.selection.select(r),wo(t)},addImage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.emit("newComponent","image",e,e)},addVideo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.emit("newComponent","video",e,e)},addLayer:function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0;i||(i=e.selection.current||e.selection.currentArtboard),i?(i.enableHasChildren()||(i=i.parent),i.add(n),r.x&&n.setScreenX(r.x.value),r.y&&n.setScreenY(r.y.value),o&&e.selection.select(n),wo(e)):(e.emit("addArtBoard"),e.nextTick((function(){t(e,n,r)})))},addLayerView:function(t,e){t.selection.empty(),t.emit("refreshSelectionTool"),t.emit("hideAddViewLayer"),"select"===e||("brush"===e?t.emit("showPathDrawEditor"):"path"===e?t.emit("showPathEditor","path"):t.emit("showLayerAppendView",e))},addProject:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.add(t.createItem(Lo({itemType:"project"},e)));t.selection.selectProject(n),wo(t)},convertPath:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.current;if(r)if(r.is("svg-path","svg-brush","svg-textpath")){var o=e;if(n)(i=new Ro(e)).scale(r.width.value/n.width,r.height.value/n.height),o=i.d;t.command("setAttribute","set attribute -d",{d:o},r)}else if(r["clip-path"].includes("path")){var i;o=e;if(n)(i=new Ro(e)).scale(r.width.value/n.width,r.height.value/n.height),o=i.d;t.command("setAttribute","change clip path",{"clip-path":"path(".concat(o,")")},r)}},newComponent:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.includes("text")||n["background-color"]||(n["background-color"]=Dn.random()),"svg-textpath"===e?n=Ho({},n,{text:"Insert a newText","font-size":_.parse(n.height),textLength:"100%",d:Bo.makeLine(0,n.height.value,n.width.value,n.height.value)}):"svg-circle"===e?(e="svg-path",n=Ho({},n,{"background-color":void 0,d:Bo.makeCircle(0,0,n.width.value,n.height.value)})):"svg-rect"===e?(e="svg-path",n=Ho({},n,{"background-color":void 0,d:Bo.makeRect(0,0,n.width.value,n.height.value)})):"text"===e&&(n=Ho({width:_.px(300),height:_.px(50)},n,{content:"Insert a text","font-size":_.px(30)})),t.command("addLayer","add layer - ".concat(e),t.createItem(Ho({itemType:e},n)),n,r),t.changeMode(Qy),t.emit("afterChangeMode")},refreshElement:function(t,e){t.emit("refreshSelectionStyleView",e),t.emit("refreshElementBoundSize",t.selection.getRootItem(e))},refreshProject:function(t,e){t.emit("refreshStyleView",e,!0)},resizeArtBoard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.selection.currentArtboard;if(n&&n.is("artboard")){if(!e.trim())return;var r=e.split("x"),o=Oo(r,2),i=o[0],a=o[1];i=_.px(i),a=_.px(a),n.reset({width:i,height:a}),t.selection.select(n),wo(t)}},selectArtboard:function(t,e){e?ee(e)&&0===e.length&&(e=t.selection.currentArtboard):e=t.selection.currentArtboard,e&&(t.selection.selectArtboard(e),t.selection.select(e),t.emit("refreshArtboard"),t.emit("resetSelection"))},setAttribute:go,setAttributeForMulti:{command:"setAttributeForMulti",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(n){var r=e[n];t.selection.itemsByIds(n).forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t];ae(n)&&(n=n(e)),e.reset(Py({},t,n))})),e.setCache(),t.emit("refreshElement",e)}))}))}},sortBottom:wy,sortCenter:{command:"sort.center",execute:function(t){var e=gy.getContainer(t),n=e.screenX.value+e.width.value/2;t.selection.each((function(t){t.setScreenXCenter(n)})),t.emit("resetSelection")}},sortLeft:{command:"sort.left",execute:function(t){var e=gy.getContainer(t).screenX.value;t.selection.each((function(t){t.setScreenX(e)})),t.emit("resetSelection")}},sortMiddle:{command:"sort.middle",execute:function(t){var e=gy.getContainer(t),n=e.screenY.value+e.height.value/2;t.selection.each((function(t){t.setScreenYMiddle(n)})),t.emit("resetSelection")}}},"sortBottom",wy),Ty($y,"sortTop",Oy),Ty($y,"sortRight",ky),Ty($y,"sameWidth",{command:"same.width",execute:function(t){var e=t.selection.items.length;if(1==e);else if(e>1){var n=t.selection.allRect;t.selection.each((function(t){t.setScreenX(n.x.value),t.width.set(n.width.value)}))}t.emit("resetSelection")}}),Ty($y,"sameHeight",{command:"same.width",execute:function(t){var e=t.selection.items.length;if(1==e);else if(e>1){var n=t.selection.allRect;t.selection.each((function(t){t.setScreenY(n.y.value),t.height.set(n.height.value)}))}t.emit("resetSelection")}}),Ty($y,"updatePathItem",Cy),Ty($y,"updateClipPath",{command:"updateClipPath",description:"update clip-path property ",execute:function(t,e){t.command("setAttribute","change clip-path",{"clip-path":"path(".concat(e.d,")")})}}),$y);function Dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Vy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.loadCommands()}var e,n,r;return e=t,(n=[{key:"loadCommands",value:function(){var t=this;Object.keys(Ry).forEach((function(e){ae(Ry[e])?t.registerCommand(e,Ry[e]):t.registerCommand(Ry[e])}))}},{key:"registerCommand",value:function(t,e){var n=this;if(2===arguments.length){var r=function(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e.call.apply(e,[n,n.$editor].concat(o)),(t=n.$editor).debug.apply(t,["command execute",n].concat(o))};r.source=t,this.$editor.on(t,r,this,0)}else if(ie(t)){var o=function(){for(var e,r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];(e=t.execute).call.apply(e,[t,n.$editor].concat(i)),(r=n.$editor).debug.apply(r,["command execute",t].concat(i))};o.source=t.command,this.$editor.on(t.command,o,this,t.debounce||0)}}}])&&Dy(e.prototype,n),r&&Dy(e,r),t}(),Ay={name:void 0};function Iy(){return void 0===Ay.name&&(-1!=navigator.appVersion.indexOf("Win")?Ay.name="win":-1!=navigator.appVersion.indexOf("Mac")?Ay.name="mac":-1!=navigator.appVersion.indexOf("X11")?Ay.name="linux":Ay.name=""),Ay.name}var Ly=[{category:"History",key:"cmd+z",win:"ctrl+z",command:"history.undo",description:"undoing in history",when:"CanvasView"},{category:"History",key:"cmd+shift+z",win:"ctrl+shift+z",command:"history.redo",description:"redoing in history",when:"CanvasView"},{category:"Tool",key:"v",command:"addLayerView",args:"select",description:"Selection"},{category:"Tool",key:"r",command:"addLayerView",args:["rect"],description:"Add rect layer"},{category:"Tool",key:"m",command:"addLayerView",args:["rect"],description:"Add rect layer"},{category:"Tool",key:"o",command:"addLayerView",args:["circle"],description:"Add circle layer"},{category:"Tool",key:"l",command:"addLayerView",args:["circle"],description:"Add circle layer"},{category:"Tool",key:"t",command:"addLayerView",args:["text"],description:"Add text layer"},{category:"Tool",key:"p",command:"addLayerView",args:["path"],description:"Add SVG Path layer"},{category:"Tool",key:"b",command:"addLayerView",args:["brush"],description:"Draw SVG Path"},{category:"Group",key:"cmd+g",win:"ctrl+g",command:"group.item",description:"Grouping selected items",when:"CanvasView"},{category:"Group",key:"shift+cmd+g",win:"shift+ctrl+g",command:"ungroup.item",description:"Ungrouping selected group layer",when:"CanvasView"},{category:"Path",key:"ArrowDown",command:"segment.move.down",description:"move 1px to down",args:[{dy:1}],when:"PathEditorView"},{category:"Path",key:"ArrowUp",command:"segment.move.up",description:"move 1px to up",args:[{dy:1}],when:"PathEditorView"},{category:"Path",key:"ArrowRight",command:"segment.move.right",description:"move 1px to right",args:[{dx:1}],when:"PathEditorView"},{category:"Path",key:"ArrowLeft",command:"segment.move.left",description:"move 1px to left",args:[{dx:1}],when:"PathEditorView"},{category:"Path",key:"Shift+ArrowDown",command:"segment.move.down",description:"move 10px to down",args:[{dy:10}],when:"PathEditorView"},{category:"Path",key:"Shift+ArrowUp",command:"segment.move.up",description:"move 10px to up",args:[{dy:10}],when:"PathEditorView"},{category:"Path",key:"Shift+ArrowLeft",command:"segment.move.left",description:"move 10px to left",args:[{dx:10}],when:"PathEditorView"},{category:"Path",key:"Shift+ArrowRight",command:"segment.move.right",description:"move 10px to right",args:[{dx:10}],when:"PathEditorView"},{category:"Path",key:"Alt+ArrowDown",command:"segment.move.down",description:"move 5px to down",args:[{dy:5}],when:"PathEditorView"},{category:"Path",key:"Alt+ArrowUp",command:"segment.move.up",description:"move 5px to up ",args:[{dy:5}],when:"PathEditorView"},{category:"Path",key:"Alt+ArrowLeft",command:"segment.move.left",description:"move 5px to left",args:[{dx:5}],when:"PathEditorView"},{category:"Path",key:"Alt+ArrowRight",command:"segment.move.right",description:"move 5px to right",args:[{dx:5}],when:"PathEditorView"},{category:"Path",key:"Backspace",command:"segment.delete",description:"Delete selected segment",when:"PathEditorView"},{category:"Layer",key:"ArrowLeft",command:"moveLayer",description:"move 1px to left",args:[-1,0],when:"CanvasView"},{category:"Layer",key:"ArrowRight",command:"moveLayer",description:"move 1px to right",args:[1,0],when:"CanvasView"},{category:"Layer",key:"ArrowDown",command:"moveLayer",description:"move 1px to down",args:[0,1],when:"CanvasView"},{category:"Layer",key:"ArrowUp",command:"moveLayer",description:"move 1px to up",args:[0,-1],when:"CanvasView"},{category:"Layer",key:"Shift+ArrowDown",command:"moveLayer",description:"move 10px to down",args:[0,10],when:"CanvasView"},{category:"Layer",key:"Shift+ArrowRight",command:"moveLayer",description:"move 10px to right",args:[10,0],when:"CanvasView"},{category:"Layer",key:"Shift+ArrowUp",command:"moveLayer",description:"move 10px to up",args:[0,-10],when:"CanvasView"},{category:"Layer",key:"Shift+ArrowLeft",command:"moveLayer",description:"move 10px to left",args:[-10,0],when:"CanvasView"},{category:"Layer",key:"Alt+ArrowLeft",command:"moveLayer",description:"move 5px to left",args:[-5,0],when:"CanvasView"},{category:"Layer",key:"Alt+ArrowDown",command:"moveLayer",description:"move 5px to down",args:[0,5],when:"CanvasView"},{category:"Layer",key:"Alt+ArrowRight",command:"moveLayer",description:"move 5px to right",args:[5,0],when:"CanvasView"},{category:"Layer",key:"Alt+ArrowUp",command:"moveLayer",description:"move 5px to up",args:[0,-5],when:"CanvasView"},{category:"Layer",key:"ctrl+]",command:"item.move.depth.up",description:"move layer to above",when:"CanvasView"},{category:"Layer",key:"ctrl+[",command:"item.move.depth.down",description:"move layer to below",when:"CanvasView"},{category:"Layer",key:"Backspace",command:"history.removeLayer",description:"Delete selected items",args:["Delete selected items"],when:"CanvasView"},{category:"Layer",key:"Shift+Backspace",command:"history.removeLayer",description:"Delete selected items",args:["Delete selected items"],when:"CanvasView"},{category:"Tool",key:"Minus",command:"scale.minus",description:"Minus scale",when:"CanvasView"},{category:"Tool",key:"Equal",command:"scale.plus",description:"Plus scale",when:"CanvasView"},{category:"Edit",key:"cmd+c",command:"clipboard.copy",description:"Copy objects",when:"CanvasView"},{category:"Edit",key:"cmd+v",command:"clipboard.paste",description:"Paste selected objects",when:"CanvasView"}];function My(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function zy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function By(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Hy={backspace:8,tab:9,enter:13,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,semicolon:59,equals:61,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,multiply:106,add:107,subtract:109,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,comma:188,",":188,period:190,".":190,slash:191,"/":191,backquote:192,"`":192,openbracket:219,"[":219,backslash:220,"\\":220,closebracket:221,"]":221,quote:222,"'":222,altgr:225};function Gy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join("+")}var Yy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.loadShortCuts()}var e,n,r;return e=t,(n=[{key:"loadShortCuts",value:function(){var t=this;this.list=[],this.commands={},Ly.forEach((function(e){t.registerShortCut(e)})),this.sort()}},{key:"registerShortCut",value:function(t){var e=Iy();this.list.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zy(Object(n),!0).forEach((function(e){By(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({key:"",command:"",args:[],eventType:"keydown"},t,{checkKeyString:this.splitShortCut(t[e]||t.key),whenFunction:this.makeWhenFunction(t.command,t.when||"true")}))}},{key:"makeWhenFunction",value:function(t,e){return new Function("editor","\n            /////////////////////////////////\n            ////////Custom Function///////////\n\n            return function () {\n                const CanvasView = editor.modeView === 'CanvasView';\n                const PathEditorView = editor.modeView === 'PathEditorView';                \n\n                return (".concat(e,");\n            }\n            ////////Custom Function///////////\n            /////////////////////////////////\n        "))(this.$editor)}},{key:"sort",value:function(){var t=this;this.list.forEach((function(e){!1===ee(t.commands[e.checkKeyString])&&(t.commands[e.checkKeyString]=[]),t.commands[e.checkKeyString].push(e)}))}},{key:"splitShortCut",value:function(t){var e,n=t.toUpperCase().split("+").map((function(t){return t.trim()})).filter(Boolean),r=!1,o=!1,i=!1,a=!1,c=[];return n.forEach((function(t){t.includes("ALT")?r=!0:t.includes("CTRL")?o=!0:t.includes("SHIFT")?i=!0:t.includes("CMD")||t.includes("WIN")||t.includes("META")?a=!0:c.push(t)})),Gy(r?"ALT":"",o?"CTRL":"",i?"SHIFT":"",a?"META":"",(e=c.join(""),Hy["".concat(e).toLowerCase()]||e))}},{key:"makeKeyString",value:function(t){return Gy(t.altKey?"ALT":"",t.ctrlKey?"CTRL":"",t.shiftKey?"SHIFT":"",t.metaKey?"META":"",t.key.toUpperCase())}},{key:"makeCodeString",value:function(t){return Gy(t.altKey?"ALT":"",t.ctrlKey?"CTRL":"",t.shiftKey?"SHIFT":"",t.metaKey?"META":"",t.code.toUpperCase())}},{key:"makeKeyCodeString",value:function(t){return Gy(t.altKey?"ALT":"",t.ctrlKey?"CTRL":"",t.shiftKey?"SHIFT":"",t.metaKey?"META":"",t.keyCode)}},{key:"checkShortCut",value:function(t,e,n){return this.commands[t]||this.commands[e]||this.commands[n]}},{key:"checkWhen",value:function(t){return t.whenFunction()}},{key:"execute",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keydown",r=this.checkShortCut(this.makeKeyCodeString(t),this.makeKeyString(t),this.makeCodeString(t));if(r){var o=r.filter((function(t){return t.eventType===n})).filter((function(t){return e.checkWhen(t)}));o.length&&t.preventDefault(),o.forEach((function(t){var n;(n=e.$editor).emit.apply(n,[t.command].concat(My(t.args)))}))}}}])&&Fy(e.prototype,n),r&&Fy(e,r),t}();function Xy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ny=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.config=new Map,this.initialize()}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.set("canvas.width",1e4),this.set("canvas.height",1e4),this.set("body.move.ms",30),this.set("grid.preview.position",[]),this.set("debug",!1)}},{key:"get",value:function(t){return this.config[t]}},{key:"set",value:function(t,e){this.config[t]=e}},{key:"remove",value:function(t){delete this.config[t]}}])&&Xy(e.prototype,n),r&&Xy(e,r),t}();function Ky(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Wy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Uy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.currentIndex=-1,this.undoHistories=[],this.redoHistories=[],this.selection={}}var e,n,r;return e=t,(n=[{key:"createCommand",value:function(t){return this.$editor.isPointerUp?"history.".concat(t):t}},{key:"saveSelection",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.selection=this.$editor.selection.toCloneObject()}},{key:"getUndoValues",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return Object.keys(this.selection).forEach((function(r){n[r]={},Object.keys(e).forEach((function(e){n[r][e]=t.selection[r][e]}))})),n}},{key:"getUndoValuesForMulti",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return Object.keys(e).forEach((function(r){n[r]={};var o=t.selection[r]||t.$editor.selection.itemsByIds(r)[0],i=e[r];Object.keys(i).forEach((function(t){n[r][t]=o[t]}))})),n}},{key:"add",value:function(t,e,n){var r={message:t,command:e,data:n};return this.undoHistories.push(r),this.currentIndex++,this.undoHistories.length=this.currentIndex+1,this.$editor.emit("refreshHistory"),r}},{key:"map",value:function(t){return[].concat(Ky(this.undoHistories.map(t)),["-"],Ky(this.redoHistories.map(t))).reverse()}},{key:"undo",value:function(){var t=this;if(!(this.currentIndex<-1)){this.currentIndex--;var e=this.undoHistories.pop();e&&e.command&&e.command.undo(this.$editor,e.data),this.$editor.nextTick((function(){t.$editor.emit("refreshHistory")}))}}},{key:"redo",value:function(){var t=this;if(!(this.currentIndex>this.length)){this.currentIndex<0&&this.currentIndex++;var e=this.undoHistories[this.currentIndex];e&&e.command&&(e.command.redo(this.$editor,e.data),this.$editor.debug(e)),this.$editor.nextTick((function(){t.$editor.emit("refreshHistory")}))}}},{key:"length",get:function(){return this.undoHistories.length}},{key:"selectedIds",get:function(){return Object.keys(this.selection)}}])&&Wy(e.prototype,n),r&&Wy(e,r),t}();function Zy(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qy="SELECTION",th=function(){function t(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];qy(this,t),this.EDITOR_ID=U(),this.projects=[],this.popupZIndex=1e4,this.canvasWidth=1e5,this.canvasHeight=1e5,this.scale=1,this.symbols={},this.images={},this.openRightPanel=!0,this.mode=Qy,this.modeView="CanvasView",this.addComponentType="",this.locale=this.loadItem("locale")||"en_US",this.layout=this.loadItem("layout")||"all",this.loadManagers()}var e,n,r;return e=t,(n=[{key:"loadManagers",value:function(){this.store=new nh(this),this.config=new Ny(this),this.commands=new Vy(this),this.shortcuts=new Yy(this),this.selection=new yo(this),this.timeline=new eo(this),this.history=new Uy(this),this.components=bo,this.initTheme()}},{key:"i18n",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Ur.get(t,e,n||this.locale)}},{key:"hasI18nkey",value:function(t,e){return Ur.hasKey(t,e||this.locale)}},{key:"initI18n",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i="".concat(e,".").concat(n);return t.hasI18nkey(i,o)?t.$i18n("".concat(e,".").concat(n),r,o):t.$i18n("".concat(n),r,o)}}},{key:"setLocale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US";this.locale=t,this.saveItem("locale",this.locale)}},{key:"setLayout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";this.layout=t,this.saveItem("layout",this.layout)}},{key:"setUser",value:function(t){this.user=t}},{key:"initTheme",value:function(){var t="dark";window.localStorage&&(t=window.localStorage.getItem("easylogic.studio.theme"),t=["dark","light","toon"].includes(t)?t:"dark"),this.theme=t||"dark",window.localStorage.setItem("easylogic.studio.theme",this.theme)}},{key:"themeValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Zr[this.theme][t]||e}},{key:"changeMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qy;this.mode=t}},{key:"changeModeView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CanvasView";this.modeView=t}},{key:"isMode",value:function(t){return this.mode===t}},{key:"isAddMode",value:function(){return this.isMode("ADD")}},{key:"isSelectionMode",value:function(){return this.isMode(Qy)}},{key:"changeAddType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.changeMode("ADD"),this.addComponentType=t,this.isComponent=e}},{key:"changeTheme",value:function(t){t=["light","toon"].includes(t)?t:"dark",this.theme=t,window.localStorage.setItem("easylogic.studio.theme",t)}},{key:"getFile",value:function(t){return this.images[t]||t}},{key:"setStore",value:function(t){this.store=t}},{key:"emit",value:function(){var t;this.store.source="EDITOR_ID",(t=this.store).emit.apply(t,arguments)}},{key:"on",value:function(){var t;(t=this.store).on.apply(t,arguments)}},{key:"off",value:function(){var t;(t=this.store).off.apply(t,arguments)}},{key:"offAll",value:function(){var t;(t=this.store).offAll.apply(t,arguments)}},{key:"debug",value:function(){var t;this.config.get("debug")&&(t=console).log.apply(t,arguments)}},{key:"command",value:function(t,e,n,r,o,i){return this.isPointerUp?this.store.emit("history.".concat(t),e,n,r,o,i):this.store.emit(t,n,r,o,i)}},{key:"nextTick",value:function(t){this.store&&this.store.nextTick(t)}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.projects=t}},{key:"add",value:function(t){return this.projects.push(t),t}},{key:"remove",value:function(t){this.projects.splice(t,1)}},{key:"clear",value:function(){this.projects=[]}},{key:"get",value:function(t){return this.projects[t]}},{key:"replaceLocalUrltoRealUrl",value:function(t){var e=this.selection.currentProject,n={};return e.images.forEach((function(e){t.indexOf(e.local)>-1&&(n[e.local]=e.original)})),Object.keys(n).forEach((function(e){t.indexOf(e)>-1&&(t=t.replace(new RegExp(e,"g"),n[e]))})),t}},{key:"replaceLocalUrltoId",value:function(t){var e=this.projects,n={};return e.forEach((function(e){e.images.forEach((function(e){t.indexOf(e.local)>-1&&(n[e.local]="#"+e.id)}))})),Object.keys(n).forEach((function(e){t.indexOf(e)>-1&&(t=t.replace(new RegExp(e,"g"),n[e]))})),t}},{key:"makeResource",value:function(t){var e=JSON.stringify(t);return e=this.replaceLocalUrltoId(e)}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];return t.forEach((function(t){var n=t.toJSON();n._parentId=t.parent?t.parent.id:void 0,n._positionInParent=t.positionInParent,e.push(n)})),JSON.stringify(e)}},{key:"createItem",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t._parentId&&(t.parent=this.searchItem(t._parentId),delete t._parentId),t.layers=(t.layers||[]).map((function(t){return e.createItem(t)}));var r=this.components.createComponent(t.itemType,t);return n&&r.parent.setPositionInPlace(t._positionInParent,r),r}},{key:"searchItem",value:function(t){var e=[];re(t)?e.push(t):ee(t)&&(e=Zy(t));var n=[];return this.projects.forEach((function(t){e.forEach((function(e){n.push(t.searchById(e))}))})),n.filter(Boolean),n[0]}},{key:"deserialize",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=JSON.parse(t)||[];return r.map((function(t){return e.createItem(t,n)}))}},{key:"saveResource",value:function(t,e){window.localStorage.setItem("easylogic.studio.".concat(t),this.makeResource(e))}},{key:"saveItem",value:function(t,e){window.localStorage.setItem("easylogic.studio.".concat(t),JSON.stringify(e))}},{key:"revokeResource",value:function(t){var e=this,n=JSON.parse(t||"[]"),r={};return n.forEach((function(t){t.images.forEach((function(t){r["#".concat(t.id)]=t}))})),Object.keys(r).map((function(t){var e=r[t],n=hi.parse(e.original,!0);e.local=n.local})),n.forEach((function(t){t.layers=e.applyAsset(t.layers,r)})),n}},{key:"applyAsset",value:function(t,e){var n=this;return ee(t)?t=t.map((function(t){return n.applyAsset(t,e)})):ie(t)?Object.keys(t).forEach((function(r){t[r]=n.applyAsset(t[r],e)})):re(t)&&Object.keys(e).forEach((function(n){var r=e[n];t.indexOf("#".concat(r.id))>-1&&(t=t.replace(new RegExp("#".concat(r.id),"g"),r.local))})),t}},{key:"loadResource",value:function(t){return this.revokeResource(window.localStorage.getItem("easylogic.studio.".concat(t)))}},{key:"loadItem",value:function(t){return JSON.parse(window.localStorage.getItem("easylogic.studio.".concat(t))||JSON.stringify(""))}},{key:"zIndex",get:function(){return this.popupZIndex++}},{key:"isPointerUp",get:function(){return!!this.config.get("bodyEvent")&&"pointerup"===this.config.get("bodyEvent").type}}])&&Jy(e.prototype,n),r&&Jy(e,r),t}();function eh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var nh=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cachedCallback={},this.callbacks={},this.commandes=[],this.editor=e}var e,n,r;return e=t,(n=[{key:"getCallbacks",value:function(t){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t]}},{key:"setCallbacks",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.callbacks[t]=e}},{key:"debug",value:function(){var t;this.editor&&this.editor.config.get("debug")&&(t=console).log.apply(t,arguments)}},{key:"on",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e;r>0?i=Nt(e,r):o>0&&(i=Kt(e,o)),this.getCallbacks(t).push({event:t,callback:i,context:n,originalCallback:e}),this.debug("add message event",t,n.sourceName)}},{key:"off",value:function(t,e){this.debug("off message event",t),1==arguments.length?this.setCallbacks(t):2==arguments.length&&this.setCallbacks(t,this.getCallbacks(t).filter((function(t){return t.originalCallback!==e})))}},{key:"offAll",value:function(t){var e=this;Object.keys(this.callbacks).forEach((function(n){e.setCallbacks(n,e.getCallbacks(n).filter((function(e){return e.context!==t})))})),this.debug("off all message",t.sourceName)}},{key:"getCachedCallbacks",value:function(t){return this.getCallbacks(t)}},{key:"sendMessage",value:function(t,e,n,r,o,i){var a=this;Promise.resolve().then((function(){var c=a.getCachedCallbacks(e);c&&c.filter((function(e){return e.originalCallback.source!==t})).forEach((function(t){t.callback(n,r,o,i)}))}))}},{key:"nextSendMessage",value:function(t,e,n,r,o,i){Promise.resolve().then((function(){e(n,r,o,i)}))}},{key:"triggerMessage",value:function(t,e,n,r,o,i){var a=this;Promise.resolve().then((function(){var c=a.getCachedCallbacks(e);c?c.filter((function(e){return e.originalCallback.source===t})).forEach((function(t){t.callback(n,r,o,i)})):console.warn(e," is not valid event")}))}},{key:"emit",value:function(t,e,n,r,o){this.sendMessage(this.source,t,e,n,r,o)}},{key:"nextTick",value:function(t){this.nextSendMessage(this.source,t)}},{key:"trigger",value:function(t,e,n,r,o){this.triggerMessage(this.source,t,e,n,r,o)}},{key:"execute",value:function(t,e,n,r,o){this.runCommand(this.source,t,e,n,r,o)}}])&&eh(e.prototype,n),r&&eh(e,r),t}();function rh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ih=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rh(this,t),this.context=e,this.options=n}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){}},{key:"load",value:function(){}},{key:"refresh",value:function(){}},{key:"render",value:function(){}},{key:"getRef",value:function(t){return this.context.getRef(t)}},{key:"run",value:function(){}},{key:"destroy",value:function(){}}])&&oh(e.prototype,n),r&&oh(e,r),t}();function ah(t){return(ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ch(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||uh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function uh(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function sh(t,e){return fh(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||lh()}function lh(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function fh(t){if(Array.isArray(t))return t}function ph(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hh(t,e){return!e||"object"!==ah(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dh(t){return(dh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vh(t,e){return(vh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bh={touchstart:!0,touchmove:!0,mousedown:!0,mouseup:!0,mousemove:!0,wheel:!0,mousewheel:!0},mh=function(t){function e(){return ph(this,e),hh(this,dh(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vh(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){var t=this;this.destroy(),this._domEvents||(this._domEvents=this.context.filterProps(Zn)),this._domEvents.forEach((function(e){return t.parseEvent(e)}))}},{key:"destroy",value:function(){this.removeEventAll()}},{key:"removeEventAll",value:function(){var t=this;this.getBindings().forEach((function(e){t.removeEvent(e)})),this.initBindings()}},{key:"removeEvent",value:function(t){var e=t.eventName,n=t.dom,r=t.callback;Nr.removeEvent(n,e,r)}},{key:"getBindings",value:function(){return this._bindings||this.initBindings(),this._bindings}},{key:"addBinding",value:function(t){this.getBindings().push(t)}},{key:"initBindings",value:function(){this._bindings=[]}},{key:"matchPath",value:function(t,e){return t?t.matches(e)?t:this.matchPath(t.parentElement,e):null}},{key:"hasDelegate",value:function(t,e){return this.matchPath(t.target||t.srcElement,e.delegate)}},{key:"makeCallback",value:function(t,e){return t.delegate?this.makeDelegateCallback(t,e):this.makeDefaultCallback(t,e)}},{key:"makeDefaultCallback",value:function(t,e){var n=this;return function(r){var o=n.runEventCallback(r,t,e);if(te(o))return o}}},{key:"makeDelegateCallback",value:function(t,e){var n=this;return function(r){var o=n.hasDelegate(r,t);if(o){r.$dt=Wn.create(o);var i=n.runEventCallback(r,t,e);if(te(i))return i}}}},{key:"runEventCallback",value:function(t,e,n){var r=this.context;if(t.xy=Nr.posXY(t),e.beforeMethods.length&&e.beforeMethods.every((function(e){return r[e.target].call(r,t,e.param)})),this.checkEventType(t,e)){var o=n(t,t.$dt,t.xy);return!1!==o&&e.afterMethods.length&&e.afterMethods.forEach((function(e){return r[e.target].call(r,t,e.param)})),o}}},{key:"checkEventType",value:function(t,e){var n=this.context,r=!0;e.codes.length&&(r=!!t.code&&e.codes.indexOf(t.code.toLowerCase())>-1||!!t.key&&e.codes.indexOf(t.key.toLowerCase())>-1);var o=!0;return e.checkMethodList.length&&(o=e.checkMethodList.every((function(e){var r=n[e];return ae(r)&&r?r.call(n,t):!te(r)||!!r}))),r&&o}},{key:"getDefaultDomElement",value:function(t){var e,n=this.context;return(e=t?n.refs[t]||n[t]||window[t]:n.el||n.$el||n.$root)instanceof Wn?e.getElement():e}},{key:"getDefaultEventObject",value:function(t,e){var n=this.context,r=e,o=r.filter((function(t){return!!n[t]})),i=sh(ke(r,"after"),2),a=i[0],c=i[1],u=sh(ke(r,"before"),2),s=u[0],l=u[1],f=sh(ke(r,"debounce"),2),p=f[0],y=f[1],h=sh(ke(r,"throttle"),2),d=h[0],v=h[1],b=sh(ke(r,"capture"),1)[0],m=[].concat(ch(o),ch(a),ch(s),ch(p),ch(d),ch(b));return{eventName:t,codes:r.filter((function(t){return-1===m.indexOf(t)})).map((function(t){return t.toLowerCase()})),captures:b,afterMethods:c,beforeMethods:l,debounceMethods:y,throttleMethods:v,checkMethodList:o}}},{key:"addEvent",value:function(t,e){t.callback=this.makeCallback(t,e),this.addBinding(t);var n=!!t.captures.length;bh[t.eventName]&&(n={passive:!0,capture:n}),Nr.addEvent(t.dom,t.eventName,t.callback,n)}},{key:"bindingEvent",value:function(t,e,n){var r,o=fh(r=t)||uh(r)||lh(),i=o[0],a=o[1],c=o.slice(2),u=(this.context,this.getDefaultEventObject(i,e));u.dom=this.getDefaultDomElement(a),u.delegate=c.join(" "),u.debounceMethods.length?n=Nt(n,+u.debounceMethods[0].target):u.throttleMethods.length&&(n=Kt(n,+u.throttleMethods[0].target)),this.addEvent(u,n)}},{key:"getEventNames",value:function(t){var e=[];return t.split(":").forEach((function(t){var n=t.split(":");e.push.apply(e,ch(n))})),e}},{key:"parseEvent",value:function(t){var e=this,n=this.context,r=t.split(Qn).map((function(t){return t.trim()})),o=r.shift().split("dom ")[1].split(" "),i=this.getEventNames(o[0]),a=n[t].bind(n);i.forEach((function(t){o[0]=t,e.bindingEvent(o,r,a)}))}}])&&yh(n.prototype,r),o&&yh(n,o),e}(ih);function gh(t){return(gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Oh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jh(t,e){return!e||"object"!==gh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sh(t){return(Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ph(t,e){return(Ph=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xh(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _h,Eh=function(t,e,n){"cssText"!==e?"style"!==e?"class"!==e?Qt(n)?t.removeAttr(e):"TEXTAREA"===t.el.nodeName&&"value"===e?t.text(n):"text"===e||"textContent"===e?t.text(n):"innerHTML"===e||"html"===e?t.html(n):"value"===e?t.val(n):t.attr(e,n):ee(n)?t.addClass.apply(t,xh(n)):ie(n)?Wt(n,(function(e,n){return t.toggleClass(e,n)})):t.addClass(n):oe(n)&&t.css(n):t.cssText(n)},$h=function(t){function e(){return Oh(this,e),jh(this,Sh(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ph(t,e)}(e,t),n=e,(r=[{key:"load",value:function(){this.bindData.apply(this,arguments)}},{key:"bindData",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._bindMethods||(this._bindMethods=this.context.filterProps(Jn)),this._bindMethods.filter((function(t){if(!n.length)return!0;var e=wh(t.split(Qn),2),r=e[0],o=(e[1],wh(r.split(" "),2)),i=(o[0],o[1]);return n.indexOf(i)>-1})).forEach((function(e){var r=t.context[e],o=wh(e.split(Qn),2),i=(e=o[0],o[1]),a=t.getRef(i),c=Yr;""!=a&&re(a)?c=Gr(a):ae(a)&&(c=a);var u=e.split("bind ")[1],s=t.context.refs[u],l=ae(c)&&c.call(t.context);if(s&&l){var f=r.call.apply(r,[t.context].concat(n));if(!f)return;Wt(f,(function(t,e){Eh(s,t,e)}))}}))}},{key:"destroy",value:function(){this._bindMethods=void 0}}])&&kh(n.prototype,r),o&&kh(n,o),e}(ih);function Ch(){var t=Ih(["",""]);return Ch=function(){return t},t}function Th(t){return Vh(t)||Mh(t)||Dh()}function Rh(t,e){return Vh(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Dh()}function Dh(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Vh(t){if(Array.isArray(t))return t}function Ah(){var t=Ih(["\n        ","\n      "]);return Ah=function(){return t},t}function Ih(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Lh(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||Mh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Mh(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function zh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fh=Wn.create("div"),Hh="[".concat("ref","]"),Gh=(Bh(_h={constructor:!0,initState:!0,refresh:!0,updateData:!0},"constructor",!0),Bh(_h,"initializeProperty",!0),Bh(_h,"created",!0),Bh(_h,"getRealEventName",!0),Bh(_h,"initializeStoreEvent",!0),Bh(_h,"destoryStoreEvent",!0),Bh(_h,"destroy",!0),Bh(_h,"emit",!0),Bh(_h,"trigger",!0),Bh(_h,"on",!0),Bh(_h,"off",!0),Bh(_h,"setState",!0),Bh(_h,"_reload",!0),Bh(_h,"render",!0),Bh(_h,"initialize",!0),Bh(_h,"afterRender",!0),Bh(_h,"components",!0),Bh(_h,"getRef",!0),Bh(_h,"parseTemplate",!0),Bh(_h,"childrenIds",!0),Bh(_h,"exists",!0),Bh(_h,"parseProperty",!0),Bh(_h,"parseSourceName",!0),Bh(_h,"parseComponent",!0),Bh(_h,"clean",!0),Bh(_h,"refresh",!0),Bh(_h,"loadTemplate",!0),Bh(_h,"load",!0),Bh(_h,"bindData",!0),Bh(_h,"template",!0),Bh(_h,"eachChildren",!0),Bh(_h,"destroy",!0),Bh(_h,"collectProps",!0),Bh(_h,"filterProps",!0),Bh(_h,"self",!0),Bh(_h,"isAltKey",!0),Bh(_h,"isCtrlKey",!0),Bh(_h,"isShiftKey",!0),Bh(_h,"isMetaKey",!0),Bh(_h,"preventDefault",!0),Bh(_h,"stopPropagation",!0),Bh(_h,"bodyMouseMove",!0),Bh(_h,"bodyMouseUp",!0),_h),Yh=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={},this.prevState={},this.refs={},this.children={},this._bindings=[],this.id=U(),this.handlers=this.initializeHandler(),this.initializeProperty(e,n),this.initComponents()}var e,n,r;return e=t,(n=[{key:"initComponents",value:function(){var t=this;this.childComponents=this.components(),this.childComponentKeys=Object.keys(this.childComponents),this.childComponentSet=new Map,this.childComponentKeys.forEach((function(e){t.childComponentSet.set(e.toLowerCase(),e)})),this.childComponentKeysString=Lh(this.childComponentSet.keys()).join(",")}},{key:"initializeHandler",value:function(){return[new $h(this),new mh(this)]}},{key:"initState",value:function(){return{}}},{key:"setState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.prevState=this.state,this.state=Object.assign({},this.state,t),e&&this.load()}},{key:"toggleState",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState(Bh({},t,!this.state[t]),e)}},{key:"_reload",value:function(t){this.props=t,this.state={},this.setState(this.initState(),!1),this.refresh(!0)}},{key:"render",value:function(t){this.$el=this.parseTemplate(he(Ah(),this.template())),this.refs.$el=this.$el,t&&t.append(this.$el),this.load(),this.afterRender()}},{key:"initialize",value:function(){this.state=this.initState()}},{key:"afterRender",value:function(){}},{key:"components",value:function(){return{}}},{key:"getRef",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.join("");return this.refs[r]}},{key:"parseTemplate",value:function(t,e){var n=this;ee(t)&&(t=t.join("")),t=t.trim();var r=Fh.html(t).children();return r.forEach((function(t){var e=t.attr("ref");e&&(n.refs[e]=t);var r=t.$$(Hh),o={};r.forEach((function(t){var r=t.attr("ref");o[r]?console.warn("".concat(e," is duplicated. - ").concat(n.sourceName),n):o[r]=!0,n.refs[r]=t}))})),e?Fh.createChildrenFragment():r[0]}},{key:"childrenIds",value:function(){return Ut(this.children,(function(t,e){return e.id}))}},{key:"exists",value:function(){return!this.parent||!ae(this.parent.childrenIds)||this.parent.childrenIds().indexOf(this.id)>-1}},{key:"parseProperty",value:function(t){var e={},n=!0,r=!1,o=void 0;try{for(var i,a=t.el.attributes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;e[c.nodeName]=c.nodeValue}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t.$$("property").forEach((function(t){var n=Rh(t.attrs("name","value","type"),3),r=n[0],o=n[1],i=n[2],a=o||t.text();"json"===i&&(a=JSON.parse(a)),e[r]=a})),e}},{key:"parseSourceName",value:function(t){return t.parent?[t.sourceName].concat(Lh(this.parseSourceName(t.parent))):[t.sourceName]}},{key:"parseComponent",value:function(){var t=this,e=this.$el,n=[];this.childComponentKeysString&&(n=e.$$(this.childComponentKeysString)),n.forEach((function(e){var n=e.el.tagName.toLowerCase(),r=t.childComponentSet.get(n),o=t.childComponents[r],i=t.parseProperty(e),a=e.attr("ref"),c=null;t.children[a]?(c=t.children[a])._reload(i):(c=new o(t,i),t.children[a||c.id]=c,c.render()),e.replace(c.$el)})),Wt(this.children,(function(e,n){n&&n.clean()&&delete t.children[e]}))}},{key:"clean",value:function(){if(this.$el&&!this.$el.hasParent())return Wt(this.children,(function(t,e){e.clean()})),this.destroy(),this.$el=null,!0}},{key:"refresh",value:function(){this.load()}},{key:"loadTemplate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this[Fr(e.join(""))].call(this)}},{key:"load",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._loadMethods||(this._loadMethods=this.filterProps(qn)),this._loadMethods.filter((function(t){var e=t.split("load ")[1].split(Qn).map((function(t){return t.trim()}))[0];return!n.length||n.indexOf(e)>-1})).forEach((function(e){var r=Th(e.split("load ")[1].split(Qn).map((function(t){return t.trim()}))),o=r[0],i=r.slice(1);i=i.map((function(t){return t.trim()}));var a=Boolean(i.filter((function(t){return Vr.includes(t)})).length);if(t.refs[o]){var c,u=(c=t[e]).call.apply(c,[t].concat(n));ee(u)&&(u=u.join(""));var s=t.parseTemplate(he(Ch(),u),!0);a?t.refs[o].htmlDiff(s):t.refs[o].html(s)}})),this.runHandlers("initialize"),this.bindData(),this.parseComponent()}},{key:"runHandlers",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"run",e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.handlers.forEach((function(e){return e[t].apply(e,n)}))}},{key:"bindData",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.runHandlers.apply(this,["load"].concat(e))}},{key:"template",value:function(){return"<div></div>"}},{key:"eachChildren",value:function(t){ae(t)&&Wt(this.children,(function(e,n){t(n)}))}},{key:"rerender",value:function(){var t=this.$el.parent();this.destroy(),this.render(t)}},{key:"destroy",value:function(){this.eachChildren((function(t){t.destroy()})),this.runHandlers("destroy"),this.$el.remove(),this.$el=null,this.refs={},this.children={}}},{key:"collectProps",value:function(){return Xt(this,Gh)}},{key:"filterProps",value:function(t){return this.collectProps().filter((function(e){return e.match(t)}))}},{key:"self",value:function(t){return t&&t.$dt&&t.$dt.is(t.target)}},{key:"isAltKey",value:function(t){return t.altKey}},{key:"isCtrlKey",value:function(t){return t.ctrlKey}},{key:"isShiftKey",value:function(t){return t.shiftKey}},{key:"isMetaKey",value:function(t){return t.metaKey||"Meta"==t.key||t.code.indexOf("Meta")>-1}},{key:"preventDefault",value:function(t){return t.preventDefault(),!0}},{key:"stopPropagation",value:function(t){return t.stopPropagation(),!0}},{key:"bodyMouseMove",value:function(t,e){this[e]&&this.emit("add/body/mousemove",this[e],this,t.xy)}},{key:"bodyMouseUp",value:function(t,e){this[e]&&this.emit("add/body/mouseup",this[e],this,t.xy)}}])&&zh(e.prototype,n),r&&zh(e,r),t}();function Xh(t){return(Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Kh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uh(t,e){return!e||"object"!==Xh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zh(t,e,n){return(Zh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qh(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function qh(t){return(qh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jh(t,e){return(Jh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qh=/^ME@/,td=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join("|")},ed=function(){return"ME@"+td.apply(void 0,arguments)},nd=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Kh(this,e),(n=Uh(this,qh(e).call(this,t,r))).created(),n.initialize(),n.initializeStoreEvent(),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jh(t,e)}(e,t),n=e,(r=[{key:"initializeProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.opt=t||{},this.parent=this.opt,this.props=e,this.source=U(),this.sourceName=this.constructor.name,t&&t.$store&&(this.$store=t.$store),t&&t.$editor&&(this.$editor=t.$editor)}},{key:"created",value:function(){}},{key:"getRealEventName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ME@",n=t.indexOf(e);return t.substr(n<0?0:n+e.length)}},{key:"splitMethod",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=ke(t.split("|"),e),o=Nh(r,2),i=o[0],a=o[1];return[i.length?+a[0].target:n,i,a]}},{key:"initializeStoreEvent",value:function(){var t=this;this.filterProps(Qh).forEach((function(e){var n=t.getRealEventName(e,"ME@"),r=Nh(t.splitMethod(n,"debounce"),2),o=r[0],i=r[1],a=Nh(t.splitMethod(n,"throttle"),2),c=a[0],u=a[1];n.split("|").filter((function(t){return-1===i.indexOf(t)&&-1===u.indexOf(t)})).map((function(t){return t.trim()})).forEach((function(n){var r=t[e].bind(t);r.displayName="".concat(t.sourceName,".").concat(n),r.source=t.source,t.$store.on(n,r,t,o,c)}))}))}},{key:"destoryStoreEvent",value:function(){this.$store.offAll(this)}},{key:"destroy",value:function(){Zh(qh(e.prototype),"destroy",this).call(this),this.destoryStoreEvent()}},{key:"rerender",value:function(){Zh(qh(e.prototype),"rerender",this).call(this),this.initialize(),this.initializeStoreEvent()}},{key:"emit",value:function(t){var e;this.$store.source=this.source,this.$store.sourceContext=this;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=this.$store).emit.apply(e,[t].concat(r))}},{key:"nextTick",value:function(t){this.$store.nextTick(t)}},{key:"trigger",value:function(t){var e;this.$store.source=this.source;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=this.$store).trigger.apply(e,[t].concat(r))}},{key:"on",value:function(t,e){this.$store.on(t,e)}},{key:"off",value:function(t,e){this.$store.off(t,e)}},{key:"$i18n",value:function(t){return this.$editor.i18n(t)}},{key:"$initI18n",value:function(t){return this.$editor.initI18n(t)}},{key:"command",value:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return this.$editor.isPointerUp?this.emit.apply(this,["history.".concat(t),e].concat(r)):this.emit.apply(this,[t].concat(r))}},{key:"$theme",value:function(t){return this.$editor.themeValue(t)}},{key:"$config",get:function(){return this.$editor.config}},{key:"$selection",get:function(){return this.$editor.selection}},{key:"$timeline",get:function(){return this.$editor.timeline}},{key:"$history",get:function(){return this.$editor.history}}])&&Wh(n.prototype,r),o&&Wh(n,o),e}(Yh);function rd(t){return(rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function od(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function id(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ad(t,e){return!e||"object"!==rd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cd(t){return(cd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ud(t,e){return(ud=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sd={x:0,y:0},ld={x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},fd=function(t){return new(function(e){function n(){return od(this,n),ad(this,cd(n).apply(this,arguments))}var r,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ud(t,e)}(n,e),r=n,(o=[{key:"initialize",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.$editor=new th,this.$store=this.$editor.store,this.$container=Wn.create(this.getContainer()),this.$container.addClass(this.getClassName()),this.render(this.$container),this.initBodyMoves()}},{key:"initBodyMoves",value:function(){this.moves=new Set,this.ends=new Set,this.modifyBodyMoveSecond(0)}},{key:"modifyBodyMoveSecond",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$config.set("body.move.ms",t),this.funcBodyMoves=Nt(this.loopBodyMoves.bind(this),this.$config.get("body.move.ms"))}},{key:"loopBodyMoves",value:function(){var t=this.$config.get("pos"),e=this.$config.get("bodyEvent"),n=this.$config.get("lastPos")||ld;!(n.x===t.x&&n.y===t.y)&&this.moves.size&&(this.moves.forEach((function(n){var r=Math.floor(t.x-n.xy.x),o=Math.floor(t.y-n.xy.y);0==r&&0==o||n.func.call(n.context,r,o,"move",e.pressure)})),this.$config.set("lastPos",t)),requestAnimationFrame(this.funcBodyMoves)}},{key:"removeBodyMoves",value:function(){var t=this.$config.get("pos"),e=this.$config.get("bodyEvent");t&&this.ends.forEach((function(n){n.func.call(n.context,t.x-n.xy.x,t.y-n.xy.y,"end",e.pressure)})),this.moves.clear(),this.ends.clear()}},{key:ed("add/body/mousemove"),value:function(t,e,n){this.moves.add({func:t,context:e,xy:n})}},{key:ed("add/body/mouseup"),value:function(t,e,n){this.ends.add({func:t,context:e,xy:n})}},{key:"getClassName",value:function(){return t.className||"csseditor"}},{key:"getContainer",value:function(){return t.container||document.body}},{key:"template",value:function(){return t.template||"<div></div>"}},{key:"components",value:function(){return t.components||{}}},{key:jr("document"),value:function(t){var e=t.xy||sd;this.$config.set("bodyEvent",t),this.$config.set("pos",e),this.requestId||(this.requestId=requestAnimationFrame(this.funcBodyMoves))}},{key:Sr("document"),value:function(t){this.$config.set("bodyEvent",t),this.removeBodyMoves(),this.requestId=null}},{key:gr("window")+Ar(100),value:function(){this.emit("resize.window")}},{key:"commands",get:function(){return this.$editor.commands}},{key:"shortcuts",get:function(){return this.$editor.shortcuts}}])&&id(r.prototype,o),i&&id(r,i),n}(nd))(t)},pd={App:v,Color:Dn,HueColor:An,ColorNames:nn,Dom:Wn,EventMachine:Yh,UIElement:nd};function yd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yd(Object(n),!0).forEach((function(e){dd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var bd=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$store=e,this.initialize()}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.state={rgb:{},hsl:{},hsv:{},alpha:1,format:"hex",colorSetsList:[{name:"Material",edit:!0,colors:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"]},{name:"Custom",edit:!0,colors:[]},{name:"Color Scale",scale:["red","yellow","black"],count:5}],userList:[],currentColorSets:{}}}},{key:"changeFormat",value:function(t){this.state.format=t,this.$store.emit("changeFormat")}},{key:"initColor",value:function(t){this.changeColor(t)}},{key:"changeColor",value:function(t){re(t=t||"#FF0000")&&(t=Dn.parse(t)),this.state.alpha=Qt(t.a)?this.state.alpha:t.a,this.state.format="hsv"!=t.type&&t.type||this.state.format,"hex"==this.state.format&&this.state.alpha<1&&(this.state.format="rgb"),"hsl"==t.type?(this.state.hsl=hd({},this.state.hsl,{},t),this.state.rgb=Dn.HSLtoRGB(this.state.hsl),this.state.hsv=Dn.HSLtoHSV(t)):"hex"==t.type?(this.state.rgb=hd({},this.state.rgb,{},t),this.state.hsl=Dn.RGBtoHSL(this.state.rgb),this.state.hsv=Dn.RGBtoHSV(t)):"rgb"==t.type?(this.state.rgb=hd({},this.state.rgb,{},t),this.state.hsl=Dn.RGBtoHSL(this.state.rgb),this.state.hsv=Dn.RGBtoHSV(t)):"hsv"==t.type&&(this.state.hsv=hd({},this.state.hsv,{},t),this.state.rgb=Dn.HSVtoRGB(this.state.hsv),this.state.hsl=Dn.HSVtoHSL(this.state.hsv))}},{key:"getHueColor",value:function(){return An.checkHueColor(this.state.hsv.h/360)}},{key:"toString",value:function(t){t=t||this.state.format;var e=this.state[t]||this.state.rgb;return Dn.format(hd({},e,{a:this.state.alpha}),t)}},{key:"toColor",value:function(t){return t=(t||this.state.format).toLowerCase(),this.toString(t)}},{key:"setUserPalette",value:function(t){this.state.userList=t||[],this.resetUserPalette(),this.setCurrentColorSets()}},{key:"resetUserPalette",value:function(){var t=this;this.state.userList=this.state.userList.map((function(e,n){if(ae(e.colors)){var r=e.colors;e.colors=r(t.state),e._colors=r}return hd({name:"color-".concat(n),colors:[]},e)}))}},{key:"setCurrentColorSets",value:function(t){var e=this.getUserList();Qt(t)?this.state.currentColorSets=e[0]:ce(t)?this.state.currentColorSets=e[t]:this.state.currentColorSets=e.filter((function(e){return e.name==t}))[0],this.$store.emit("changeCurrentColorSets")}},{key:"getCurrentColorSets",value:function(){return this.state.currentColorSets}},{key:"addCurrentColor",value:function(t){Array.isArray(this.state.currentColorSets.colors)&&(this.state.currentColorSets.colors.push(t),this.$store.emit("changeCurrentColorSets"))}},{key:"setCurrentColorAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.state.currentColorSets.colors=t,this.$store.emit("changeCurrentColorSets")}},{key:"removeCurrentColor",value:function(t){this.state.currentColorSets.colors[t]&&(this.state.currentColorSets.colors.splice(t,1),this.$store.emit("changeCurrentColorSets"))}},{key:"removeCurrentColorToTheRight",value:function(t){this.state.currentColorSets.colors[t]&&(this.state.currentColorSets.colors.splice(t,Number.MAX_VALUE),this.$store.emit("changeCurrentColorSets"))}},{key:"clearPalette",value:function(){this.state.currentColorSets.colors&&(this.state.currentColorSets.colors=[],this.$store.emit("changeCurrentColorSets"))}},{key:"getUserList",value:function(){return Array.isArray(this.state.userList)&&this.state.userList.length?this.state.userList:this.state.colorSetsList}},{key:"getCurrentColors",value:function(){return this.getColors(this.state.currentColorSets)}},{key:"getColors",value:function(t){return t.scale?Dn.scale(t.scale,t.count):t.colors||[]}},{key:"getColorSetsList",value:function(){var t=this;return this.getUserList().map((function(e){return{name:e.name,edit:e.edit,colors:t.getColors(e)}}))}},{key:"hsv",get:function(){return this.state.hsv}},{key:"rgb",get:function(){return this.state.rgb}},{key:"hsl",get:function(){return this.state.hsl}},{key:"hex",get:function(){return this.state.hex}},{key:"alpha",get:function(){return this.state.alpha}},{key:"format",get:function(){return this.state.format}}])&&vd(e.prototype,n),r&&vd(e,r),t}();function md(t){return(md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Od(t,e){return!e||"object"!==md(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kd(t,e,n){return(kd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jd(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function jd(t){return(jd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sd(t,e){return(Sd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pd=function(t){function e(){return gd(this,e),Od(this,jd(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sd(t,e)}(e,t),n=e,(r=[{key:"created",value:function(){this.manager=new bd(this),this.isColorPickerShow=!1,this.isShortCut=!1,this.hideDelay=+Jt(this.opt.hideDeplay,2e3),this.timerCloseColorPicker,this.autoHide=this.opt.autoHide||!0,this.outputFormat=this.opt.outputFormat,this.$checkColorPickerClass=this.checkColorPickerClass.bind(this)}},{key:"initialize",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.$body=null,this.$root=null,this.$store=new nh,this.callbackChange=function(){t.callbackChangeValue()},this.callbackLastUpdate=function(){t.callbackLastUpdateColorValue()},this.colorpickerShowCallback=function(){},this.colorpickerHideCallback=function(){},this.colorpickerLastUpdateCallback=function(){},this.$body=Wn.create(this.getContainer()),this.$root=Wn.create("div","colorpicker"),"inline"==this.opt.position&&this.$body.append(this.$root),this.opt.type&&this.$root.addClass(this.opt.type),this.opt.hideInformation&&this.$root.addClass("hide-information"),this.opt.hideColorsets&&this.$root.addClass("hide-colorsets"),this.opt.width&&this.$root.css("width",this.opt.width),this.$arrow=Wn.create("div","arrow"),this.$root.append(this.$arrow),this.manager.setUserPalette(this.opt.colorSets),this.render(this.$root),this.initColorWithoutChangeEvent(this.opt.color)}},{key:"initColorWithoutChangeEvent",value:function(t){this.manager.initColor(t),this.emit("initColor")}},{key:"show",value:function(t,e,n,r,o){this.colorpickerShowCallback=n,this.colorpickerHideCallback=r,this.colorpickerLastUpdateCallback=o,this.$root.css(this.getInitalizePosition()).show(),this.definePosition(t),this.isColorPickerShow=!0,this.isShortCut=t.isShortCut||!1,this.outputFormat=t.outputFormat,this.hideDelay=+Jt(t.hideDelay,2e3),this.hideDelay>0&&this.setHideDelay(this.hideDelay),this.$root.appendTo(this.$body),this.initColorWithoutChangeEvent(e)}},{key:"initColor",value:function(t,e){this.manager.changeColor(t,e),this.emit("changeColor")}},{key:"changeColor",value:function(t,e){this.manager.changeColor(t,e),this.emit("changeColor")}},{key:"hide",value:function(){this.isColorPickerShow&&(this.$root.hide(),this.$root.remove(),this.isColorPickerShow=!1,this.callbackHideValue())}},{key:"setColorsInPalette",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.manager.setCurrentColorAll(t)}},{key:"setUserPalette",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.manager.setUserPalette(t)}},{key:"getOption",value:function(t){return this.opt[t]}},{key:"setOption",value:function(t,e){this.opt[t]=e}},{key:"getContainer",value:function(){return this.opt.container||document.body}},{key:"getColor",value:function(t){return this.manager.toColor(t)}},{key:"definePositionForArrow",value:function(t,e,n){}},{key:"definePosition",value:function(t){var e=this.$root.width(),n=this.$root.height(),r=t.left-this.$body.scrollLeft();e+r>window.innerWidth&&(r-=e+r-window.innerWidth),r<0&&(r=0);var o=t.top-this.$body.scrollTop();n+o>window.innerHeight&&(o-=n+o-window.innerHeight),o<0&&(o=0),this.$root.css({left:_.px(r),top:_.px(o)})}},{key:"getInitalizePosition",value:function(){return"inline"==this.opt.position?{position:"relative",left:"auto",top:"auto",display:"inline-block"}:{position:"absolute"==this.opt.position?"absolute":"fixed",left:_.px(-1e4),top:_.px(-1e4)}}},{key:"setHideDelay",value:function(t){var e=this;t=t||0;var n=this.hide.bind(this);this.$root.off("mouseenter"),this.$root.off("mouseleave"),this.$root.on("mouseenter",(function(){clearTimeout(e.timerCloseColorPicker)})),this.$root.on("mouseleave",(function(){clearTimeout(e.timerCloseColorPicker),e.timerCloseColorPicker=setTimeout(n,t)})),clearTimeout(this.timerCloseColorPicker)}},{key:"callbackChangeValue",value:function(t){t=t||this.getCurrentColor(),ae(this.opt.onChange)&&this.opt.onChange.call(this,t),ae(this.colorpickerShowCallback)&&this.colorpickerShowCallback(t)}},{key:"callbackLastUpdateColorValue",value:function(t){t=t||this.getCurrentColor(),ae(this.opt.onLastUpdate)&&this.opt.onLastUpdate.call(this,t),ae(this.colorpickerLastUpdateCallback)&&this.colorpickerLastUpdateCallback(t)}},{key:"callbackHideValue",value:function(t){t=t||this.getCurrentColor(),ae(this.opt.onHide)&&this.opt.onHide.call(this,t),ae(this.colorpickerHideCallback)&&this.colorpickerHideCallback(t)}},{key:"getCurrentColor",value:function(){return this.manager.toColor(this.outputFormat)}},{key:"checkColorPickerClass",value:function(t){var e=Wn.create(t),n=e.closest("codemirror-colorview"),r=e.closest("colorpicker"),o=e.closest("CodeMirror");return t.nodeName,!!(r||n||o)}},{key:"checkInHtml",value:function(t){return"HTML"==t.nodeName}},{key:"lastUpdateColor",value:function(){this.callbackLastUpdate()}},{key:"initializeStoreEvent",value:function(){kd(jd(e.prototype),"initializeStoreEvent",this).call(this),this.$store.on("changeColor",this.callbackChange,this),this.$store.on("changeFormat",this.callbackChange,this)}},{key:"destroy",value:function(){kd(jd(e.prototype),"destroy",this).call(this),this.$store.off("changeColor",this.callbackChange),this.$store.off("changeFormat",this.callbackChange),this.callbackChange=void 0,this.colorpickerShowCallback=void 0,this.colorpickerHideCallback=void 0}},{key:ir("document"),value:function(t){this.checkInHtml(t.target)||0==this.checkColorPickerClass(t.target)&&this.hide()}},{key:"hsv",get:function(){return this.manager.hsv}},{key:"rgb",get:function(){return this.manager.rgb}},{key:"hsl",get:function(){return this.manager.hsl}},{key:"hex",get:function(){return this.manager.hex}},{key:"alpha",get:function(){return this.manager.alpha}},{key:"format",get:function(){return this.manager.format}}])&&wd(n.prototype,r),o&&wd(n,o),e}(nd);function xd(t){return(xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ed(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $d(t,e){return!e||"object"!==xd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cd(t){return(Cd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Td(t,e){return(Td=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rd(t){return(Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ad(t,e){return!e||"object"!==Rd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Id(t){return(Id=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ld(t,e){return(Ld=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Md=function(t){function e(){return Dd(this,e),Ad(this,Id(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ld(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{minValue:0,maxValue:1,maxDist:null,minPosition:null}}},{key:"getMinMaxPosition",value:function(){var t=this.getMinPosition(),e=this.getMaxDist();return{min:t,max:t+e,width:e}}},{key:"getCurrent",value:function(t){return min+this.getMaxDist()*t}},{key:"getMinPosition",value:function(){return this.state.minPosition||(this.state.minPosition=this.refs.$container.offset().left),this.state.minPosition}},{key:"getMaxDist",value:function(){return this.state.maxDist||(this.state.maxDist=this.refs.$container.width()),this.state.maxDist}},{key:"getDist",value:function(t){var e=this.getMinMaxPosition(),n=e.min,r=e.max;return t<n?0:t>r?100:(t-n)/(r-n)*100}},{key:"getCalculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.state.maxValue);return this.getDist(e)}},{key:"getDefaultValue",value:function(){return 0}},{key:"setMousePosition",value:function(t){this.refs.$bar.css({left:_.px(t)})}},{key:"getMousePosition",value:function(t){return Nr.pos(t).pageX}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(t){(t=t||this.getDefaultValue())<=this.state.minValue?this.refs.$bar.addClass("first").removeClass("last"):t>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first"),this.setMousePosition(this.getMaxDist()*((t||0)/this.state.maxValue))}}])&&Vd(n.prototype,r),o&&Vd(n,o),e}(function(t){function e(){return _d(this,e),$d(this,Cd(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Td(t,e)}(e,t),n=e,(r=[{key:"refresh",value:function(){}},{key:"refreshColorUI",value:function(t){}},{key:"changeColor",value:function(t){this.parent.changeColor(t||{}),this.emit("changeColor")}},{key:Sr("document"),value:function(t){this.onDragEnd(t)}},{key:jr("document"),value:function(t){this.onDragMove(t)}},{key:kr("$bar"),value:function(t){this.isDown=!0}},{key:kr("$container"),value:function(t){this.isDown=!0,this.onDragStart(t)}},{key:"onDragStart",value:function(t){this.isDown=!0,this.refreshColorUI(t)}},{key:"onDragMove",value:function(t){this.isDown&&this.refreshColorUI(t)}},{key:"onDragEnd",value:function(t){this.emit("lastUpdateColor"),this.isDown=!1}},{key:ed("changeColor","initColor"),value:function(){this.refresh()}}])&&Ed(n.prototype,r),o&&Ed(n,o),e}(nd));function zd(t){return(zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hd(t,e){return!e||"object"!==zd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gd(t){return(Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yd(t,e){return(Yd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xd=function(t){function e(){return Bd(this,e),Hd(this,Gd(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yd(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n            <div class="value">\n                <div ref="$container" class="value-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:Xr("$container"),value:function(){return{style:{"background-color":this.parent.manager.toString("rgb")}}}},{key:"getDefaultValue",value:function(){return this.parent.hsv.v}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.state.maxValue),this.changeColor({type:"hsv",v:e/100*this.state.maxValue})}}])&&Fd(n.prototype,r),o&&Fd(n,o),e}(Md);function Nd(t){return(Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ud(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qd(t,e){return!e||"object"!==Nd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jd(t,e,n){return(Jd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qd(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Qd(t){return(Qd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tv(t,e){return(tv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ev=function(t){function e(){return Ud(this,e),qd(this,Qd(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tv(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){Jd(Qd(e.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kd(Object(n),!0).forEach((function(e){Wd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.parent.rgb);t.a=0;var e=Dn.format(t,"rgb");t.a=1;var n=Dn.format(t,"rgb");this.refs.$colorbar.css("background","linear-gradient(to right, "+e+", "+n+")")}},{key:"getDefaultValue",value:function(){return this.parent.alpha}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.state.maxValue),this.changeColor({a:Math.floor(e)/100*this.state.maxValue})}}])&&Zd(n.prototype,r),o&&Zd(n,o),e}(Md);function nv(t){return(nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ov(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iv(t,e){return!e||"object"!==nv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function av(t){return(av=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cv(t,e){return(cv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var uv=function(t){function e(){return rv(this,e),iv(this,av(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cv(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"<div class='color'></div>"}},{key:Xr("$el"),value:function(){return{style:{"background-color":this.parent.manager.toString("rgb")}}}},{key:ed("changeColor","initColor"),value:function(){this.refresh()}}])&&ov(n.prototype,r),o&&ov(n,o),e}(nd);function sv(t){return(sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function fv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yv(t,e){return!e||"object"!==sv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hv(t,e,n){return(hv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function dv(t){return(dv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vv(t,e){return(vv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bv=function(t){function e(){return fv(this,e),yv(this,dv(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vv(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){hv(dv(e.prototype),"initialize",this).call(this),this.width=214,this.height=214,this.thinkness=0,this.half_thinkness=0}},{key:"template",value:function(){return'\n        <div class="wheel">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="wheel-canvas" ref="$valuewheel" ></div>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>\n        '}},{key:"refresh",value:function(t){this.setColorUI(t)}},{key:"setColorUI",value:function(t){this.renderCanvas(),this.renderValue(),this.setHueColor(null,t)}},{key:"renderValue",value:function(){var t=1-this.parent.hsv.v;this.refs.$valuewheel.css("background-color","rgba(0, 0, 0, ".concat(t,")"))}},{key:"renderWheel",value:function(t,e){this.width&&!t&&(t=this.width),this.height&&!e&&(e=this.height);var n=Wn.create("canvas"),r=n.el.getContext("2d");n.el.width=t,n.el.height=e,n.px("width",t),n.px("height",e);for(var o=r.getImageData(0,0,t,e),i=o.data,a=Math.floor(t/2),c=Math.floor(e/2),u=t>e?c:a,s=a,l=c,f=0;f<e;f++)for(var p=0;p<t;p++){var y=p-s+1,h=f-l+1,d=y*y+h*h,v=Y(y,h),b=Dn.HSVtoRGB(v,Math.min(Math.sqrt(d)/u,1),1),m=4*(f*t+p);i[m]=b.r,i[m+1]=b.g,i[m+2]=b.b,i[m+3]=255}return r.putImageData(o,0,0),this.thinkness>0&&(r.globalCompositeOperation="destination-out",r.fillStyle="black",r.beginPath(),r.arc(s,l,u-this.thinkness,0,2*Math.PI),r.closePath(),r.fill()),n}},{key:"renderCanvas",value:function(){if(!this.parent.createdWheelCanvas){var t=this.refs.$colorwheel,e=t.el.getContext("2d"),n=lv(t.size(),2),r=n[0],o=n[1];this.width&&!r&&(r=this.width),this.height&&!o&&(o=this.height),t.el.width=r,t.el.height=o,t.px("width",r),t.px("height",o);var i=this.renderWheel(r,o);e.drawImage(i.el,0,0),this.parent.createdWheelCanvas=!0}}},{key:"getDefaultValue",value:function(){return this.parent.hsv.h}},{key:"getDefaultSaturation",value:function(){return this.parent.hsv.s}},{key:"getCurrentXY",value:function(t,e,n,r,o){return t?t.xy:H(e,n,r,o)}},{key:"getRectangle",value:function(){var t=this.$el.width(),e=this.$el.height(),n=this.refs.$colorwheel.width()/2,r=this.$el.offsetLeft(),o=r+t/2,i=this.$el.offsetTop();return{minX:r,minY:i,width:t,height:e,radius:n,centerX:o,centerY:i+e/2}}},{key:"setHueColor",value:function(t,e){var n=this.getRectangle(),r=n.minX,o=n.minY,i=n.radius,a=n.centerX,c=n.centerY,u=this.getCurrentXY(t,this.getDefaultValue(),this.getDefaultSaturation()*i,a,c),s=(h=u.x)-a,l=(d=u.y)-c,f=s*s+l*l,p=Y(s,l);if(f>i*i)var y=this.getCurrentXY(null,p,i,a,c),h=y.x,d=y.y;var v=Math.min(Math.sqrt(f)/i,1);this.refs.$drag_pointer.px("left",h-r),this.refs.$drag_pointer.px("top",d-o),e||this.changeColor({type:"hsv",h:p,s:v})}},{key:"changeColor",value:function(t){this.parent.manager.changeColor(t||{})}},{key:ed("changeColor"),value:function(){this.refresh(!0)}},{key:ed("initColor"),value:function(){this.refresh(!0)}},{key:Sr("document"),value:function(t){this.isDown=!1}},{key:jr("document"),value:function(t){this.isDown&&this.setHueColor(t)}},{key:kr("$drag_pointer"),value:function(t){this.isDown=!0}},{key:kr(),value:function(t){this.isDown=!0,this.setHueColor(t)}}])&&pv(n.prototype,r),o&&pv(n,o),e}(nd);function mv(t){return(mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ov(t,e){return!e||"object"!==mv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kv(t){return(kv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jv(t,e){return(jv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Sv=function(t){function e(){return gv(this,e),Ov(this,kv(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jv(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n        <div class="information hex">\n            <div ref="$informationChange" class="information-change">\n                <button ref="$formatChangeButton" type="button" class="format-change-button arrow-button"></button>\n            </div>\n            <div class="information-item hex">\n                <div class="input-field hex">\n                    <input ref="$hexCode" class="input" type="text" />\n                    <div class="title">HEX</div>\n                </div>\n            </div>\n            <div class="information-item rgb">\n                <div class="input-field rgb-r">\n                    <input ref="$rgb_r" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">R</div>\n                </div>\n                <div class="input-field rgb-g">\n                    <input ref="$rgb_g" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">G</div>\n                </div>\n                <div class="input-field rgb-b">\n                    <input ref="$rgb_b" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">B</div>\n                </div>          \n                <div class="input-field rgb-a">\n                    <input ref="$rgb_a" class="input" type="number" step="0.01" min="0" max="1" />\n                    <div class="title">A</div>\n                </div>                                                            \n            </div>\n            <div class="information-item hsl">\n                <div class="input-field hsl-h">\n                    <input ref="$hsl_h" class="input" type="number" step="1" min="0" max="360" />\n                    <div class="title">H</div>\n                </div>\n                <div class="input-field hsl-s">\n                    <input ref="$hsl_s" class="input" type="number" step="1" min="0" max="100" />\n                    <div class="postfix">%</div>\n                    <div class="title">S</div>\n                </div>\n                <div class="input-field hsl-l">\n                    <input ref="$hsl_l" class="input" type="number" step="1" min="0" max="100" />\n                    <div class="postfix">%</div>                        \n                    <div class="title">L</div>\n                </div>\n                <div class="input-field hsl-a">\n                    <input ref="$hsl_a" class="input" type="number" step="0.01" min="0" max="1" />\n                    <div class="title">A</div>\n                </div>\n            </div>\n        </div>\n        '}},{key:"setCurrentFormat",value:function(t){this.format=t,this.initFormat()}},{key:"initFormat",value:function(){var t=this,e=this.format||"hex";["hex","rgb","hsl"].filter((function(t){return t!==e})).forEach((function(e){t.$el.removeClass(e)})),this.$el.addClass(e)}},{key:"nextFormat",value:function(){var t=this.format||"hex",e="hex";"hex"==t?e="rgb":"rgb"==t?e="hsl":"hsl"==t&&(e=1==this.parent.alpha?"hex":"rgb"),this.format=e,this.initFormat(),this.parent.manager.changeFormat(this.format),this.emit("lastUpdateColor")}},{key:"goToFormat",value:function(t){this.format=t,"rgb"!==t&&"hsl"!==t||this.initFormat(),this.parent.manager.changeFormat(this.format)}},{key:"getFormat",value:function(){return this.format||"hex"}},{key:"changeRgbColor",value:function(){this.parent.changeColor({type:"rgb",r:this.refs.$rgb_r.int(),g:this.refs.$rgb_g.int(),b:this.refs.$rgb_b.int(),a:this.refs.$rgb_a.float()}),this.emit("lastUpdateColor")}},{key:"changeHslColor",value:function(){this.parent.changeColor({type:"hsl",h:this.refs.$hsl_h.int(),s:this.refs.$hsl_s.int(),l:this.refs.$hsl_l.int(),a:this.refs.$hsl_a.float()}),this.emit("lastUpdateColor")}},{key:ed("changeColor","initColor"),value:function(){this.refresh()}},{key:hr("$rgb_r"),value:function(t){this.changeRgbColor()}},{key:hr("$rgb_g"),value:function(t){this.changeRgbColor()}},{key:hr("$rgb_b"),value:function(t){this.changeRgbColor()}},{key:hr("$rgb_a"),value:function(t){this.changeRgbColor()}},{key:hr("$hsl_h"),value:function(t){this.changeHslColor()}},{key:hr("$hsl_s"),value:function(t){this.changeHslColor()}},{key:hr("$hsl_l"),value:function(t){this.changeHslColor()}},{key:hr("$hsl_a"),value:function(t){this.changeHslColor()}},{key:cr("$hexCode"),value:function(t){var e=this.refs.$hexCode.val();"#"!=e.charAt(0)||7!=e.length&&9!==e.length||(this.parent.initColor(e),this.emit("lastUpdateColor"))}},{key:rr("$formatChangeButton"),value:function(t){this.nextFormat()}},{key:rr("$el .information-item.hex .input-field .title"),value:function(t){this.goToFormat("hex")}},{key:rr("$el .information-item.rgb .input-field .title"),value:function(t){this.goToFormat("hsl")}},{key:rr("$el .information-item.hsl .input-field .title"),value:function(t){this.goToFormat("rgb")}},{key:"setRGBInput",value:function(){this.refs.$rgb_r.val(this.parent.rgb.r),this.refs.$rgb_g.val(this.parent.rgb.g),this.refs.$rgb_b.val(this.parent.rgb.b),this.refs.$rgb_a.val(this.parent.alpha)}},{key:"setHSLInput",value:function(){this.refs.$hsl_h.val(this.parent.hsl.h),this.refs.$hsl_s.val(this.parent.hsl.s),this.refs.$hsl_l.val(this.parent.hsl.l),this.refs.$hsl_a.val(this.parent.alpha)}},{key:"setHexInput",value:function(){this.refs.$hexCode.val(this.parent.manager.toString("hex"))}},{key:"refresh",value:function(){this.setCurrentFormat(this.parent.format),this.setRGBInput(),this.setHSLInput(),this.setHexInput()}}])&&wv(n.prototype,r),o&&wv(n,o),e}(nd);function Pv(t){return(Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ev(t,e){return!e||"object"!==Pv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $v(t,e,n){return($v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Cv(t){return(Cv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tv(t,e){return(Tv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rv=function(t){function e(){return xv(this,e),Ev(this,Cv(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tv(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'<div class="color-chooser">\n            <div class="color-chooser-container">\n                <div class="colorsets-item colorsets-item-header">\n                    <h1 class="title">Color Palettes</h1>\n                    <span ref="$toggleButton" class="items">&times;</span>\n                </div>\n                <div ref="$colorsetsList" class="colorsets-list"></div>\n            </div>\n        </div>'}},{key:ed("changeCurrentColorSets"),value:function(){this.refresh()}},{key:ed("toggleColorChooser"),value:function(){this.toggle()}},{key:Fr("$colorsetsList"),value:function(){var t=this.parent.manager.getColorSetsList();return"\n            <div>\n                ".concat(t.map((function(t,e){return'\n                        <div class="colorsets-item" data-colorsets-index="'.concat(e,'" >\n                            <h1 class="title">').concat(t.name,'</h1>\n                            <div class="items">\n                                <div>\n                                    ').concat(t.colors.filter((function(t,e){return e<5})).map((function(t){return'<div class="color-item" title="'.concat(t=t||"rgba(255, 255, 255, 1)",'">\n                                                <div class="color-view" style="background-color: ').concat(t,'"></div>\n                                            </div>')})).join(""),"\n                                </div>\n                            </div>\n                        </div>")})).join(""),"\n            </div>\n        ")}},{key:"show",value:function(){this.$el.addClass("open")}},{key:"hide",value:function(){this.$el.removeClass("open")}},{key:"toggle",value:function(){this.$el.toggleClass("open")}},{key:rr("$toggleButton"),value:function(t){this.toggle()}},{key:rr("$colorsetsList .colorsets-item"),value:function(t,e){if(e){var n=parseInt(e.attr("data-colorsets-index"));this.parent.manager.setCurrentColorSets(n),this.hide()}}},{key:"destroy",value:function(){$v(Cv(e.prototype),"destroy",this).call(this),this.hide()}}])&&_v(n.prototype,r),o&&_v(n,o),e}(nd);function Dv(t){return(Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Av(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iv(t,e){return!e||"object"!==Dv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lv(t){return(Lv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mv(t,e){return(Mv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zv=function(t){function e(){return Vv(this,e),Iv(this,Lv(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mv(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n            <div class="colorsets">\n                <div class="menu" title="Open Color Palettes">\n                    <button ref="$colorSetsChooseButton" type="button" class="color-sets-choose-btn arrow-button"></button>\n                </div>\n                <div ref="$colorSetsColorList" class="color-list"></div>\n            </div>\n        '}},{key:Fr("$colorSetsColorList"),value:function(){var t=this.parent.manager.getCurrentColorSets(),e=this.parent.manager.getCurrentColors();return'<div class="current-color-sets">\n            '.concat(e.map((function(t,e){return'<div class="color-item" title="'.concat(t,'" data-index="').concat(e,'" data-color="').concat(t,'">\n                    <div class="empty"></div>\n                    <div class="color-view" style="background-color: ').concat(t,'"></div>\n                </div>')})).join(""),"   \n            ").concat(t.edit?'<div class="add-color-item">+</div>':"","         \n            </div>")}},{key:"addColor",value:function(t){this.parent.manager.addCurrentColor(t),this.refresh()}},{key:ed("changeCurrentColorSets"),value:function(){this.refresh()}},{key:ed("initColor"),value:function(){this.refresh()}},{key:rr("$colorSetsChooseButton"),value:function(t){this.emit("toggleColorChooser")}},{key:pr("$colorSetsColorList"),value:function(t){if(t.preventDefault(),this.parent.manager.getCurrentColorSets().edit){var e=Wn.create(t.target).closest("color-item");if(e){var n=parseInt(e.attr("data-index"));this.emit("showContextMenu",t,n)}else this.emit("showContextMenu",t)}}},{key:rr("$colorSetsColorList .add-color-item"),value:function(t){this.addColor(this.parent.getColor())}},{key:rr("$colorSetsColorList .color-item"),value:function(t,e){this.parent.initColor(e.attr("data-color")),this.parent.lastUpdateColor()}}])&&Av(n.prototype,r),o&&Av(n,o),e}(nd);function Bv(t){return(Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gv(t,e){return!e||"object"!==Bv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yv(t){return(Yv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xv(t,e){return(Xv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nv=function(t){function e(){return Fv(this,e),Gv(this,Yv(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xv(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n            <ul class="colorsets-contextmenu">\n                <li class="menu-item small-hide" data-type="remove-color">Remove color</li>\n                <li class="menu-item small-hide" data-type="remove-all-to-the-right">Remove all to the right</li>\n                <li class="menu-item" data-type="clear-palette">Clear palette</li>\n            </ul>\n        '}},{key:"show",value:function(t,e){var n=Nr.pos(t);this.$el.px("top",n.clientY-10),this.$el.px("left",n.clientX),this.$el.addClass("show"),this.selectedColorIndex=e,Qt(this.selectedColorIndex)?this.$el.addClass("small"):this.$el.removeClass("small")}},{key:"hide",value:function(){this.$el.removeClass("show")}},{key:"runCommand",value:function(t){switch(t){case"remove-color":this.parent.manager.removeCurrentColor(this.selectedColorIndex);break;case"remove-all-to-the-right":this.parent.manager.removeCurrentColorToTheRight(this.selectedColorIndex);break;case"clear-palette":this.parent.manager.clearPalette()}}},{key:ed("showContextMenu"),value:function(t,e){this.show(t,e)}},{key:rr("$el .menu-item"),value:function(t,e){t.preventDefault(),this.runCommand(e.attr("data-type")),this.hide()}}])&&Hv(n.prototype,r),o&&Hv(n,o),e}(nd);function Kv(t){return(Kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zv(t,e){return!e||"object"!==Kv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qv(t){return(qv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jv(t,e){return(Jv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qv=function(t){function e(){return Wv(this,e),Zv(this,qv(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jv(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <ColorWheel />\n                <div class="control">\n                    <Value />\n                    <Opacity />\n                    <div class="empty"></div>\n                    <ColorView />\n                </div>\n                <Information />\n                <CurrentColorSets />\n                <ColorSetsChooser >\n                <ContextMenu />\n            </div> \n        '}},{key:"components",value:function(){return{Value:Xd,Opacity:ev,ColorView:uv,ColorWheel:bv,Information:Sv,CurrentColorSets:zv,ColorSetsChooser:Rv,ContextMenu:Nv}}}])&&Uv(n.prototype,r),o&&Uv(n,o),e}(Pd);function tb(t){return(tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rb(t,e){return!e||"object"!==tb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ob(t){return(ob=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ib(t,e){return(ib=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ab=function(t){function e(){return eb(this,e),rb(this,ob(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ib(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{minValue:0,maxValue:360}}},{key:"template",value:function(){return'\n            <div class="hue">\n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.parent.hsv.h}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.state.maxValue),this.changeColor({h:e/100*this.state.maxValue,type:"hsv"})}}])&&nb(n.prototype,r),o&&nb(n,o),e}(Md);function cb(t){return(cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ub(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lb(t,e){return!e||"object"!==cb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fb(t){return(fb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pb(t,e){return(pb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yb=function(t){function e(){return ub(this,e),lb(this,fb(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pb(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n        <div class="color-panel">\n            <div ref="$saturation" class="saturation">\n                <div ref="$value" class="value">\n                    <div ref="$drag_pointer" class="drag-pointer"></div>\n                </div>\n            </div>        \n        </div>        \n        '}},{key:"setBackgroundColor",value:function(t){this.$el.css("background-color",t)}},{key:"refresh",value:function(){this.setColorUI()}},{key:"calculateSV",value:function(){var t=this.drag_pointer_pos||{x:0,y:0},e=this.$el.width(),n=this.$el.height(),r=t.x/e,o=(n-t.y)/n;this.parent.initColor({type:"hsv",s:r,v:o})}},{key:"setColorUI",value:function(){var t=this.$el.width()*this.parent.hsv.s,e=this.$el.height()*(1-this.parent.hsv.v);this.refs.$drag_pointer.px("left",t),this.refs.$drag_pointer.px("top",e),this.drag_pointer_pos={x:t,y:e},this.setBackgroundColor(this.parent.manager.getHueColor())}},{key:"setMainColor",value:function(t){var e=this.$el.offset(),n=this.$el.contentWidth(),r=this.$el.contentHeight(),o=Nr.pos(t).pageX-e.left,i=Nr.pos(t).pageY-e.top;o<0?o=0:o>n&&(o=n),i<0?i=0:i>r&&(i=r),this.refs.$drag_pointer.px("left",o),this.refs.$drag_pointer.px("top",i),this.drag_pointer_pos={x:o,y:i},this.calculateSV()}},{key:ed("changeColor","initColor"),value:function(){this.refresh()}},{key:Sr("document"),value:function(t){this.isDown&&(this.isDown=!1,this.setMainColor(t))}},{key:jr("document"),value:function(t){this.isDown&&this.setMainColor(t)}},{key:kr(),value:function(t){this.isDown=!0}}])&&sb(n.prototype,r),o&&sb(n,o),e}(nd);function hb(t){return(hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function db(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bb(t,e){return!e||"object"!==hb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mb(t){return(mb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gb(t,e){return(gb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wb=function(t){function e(){return db(this,e),bb(this,mb(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gb(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n      <div class=\'colorpicker-body\'>\n        <Palette />\n        <div class="control">\n            <Hue />\n            <Opacity />\n            <div class="empty"></div>\n            <ColorView />\n        </div>\n        <Information />\n        <CurrentColorSets />\n        <ColorSetsChooser />\n        <ContextMenu />\n      </div>\n    '}},{key:"components",value:function(){return{Hue:ab,Opacity:ev,ColorView:uv,Palette:yb,Information:Sv,CurrentColorSets:zv,ColorSetsChooser:Rv,ContextMenu:Nv}}}])&&vb(n.prototype,r),o&&vb(n,o),e}(Pd);function Ob(t){return(Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sb(t,e){return!e||"object"!==Ob(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pb(t){return(Pb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xb(t,e){return(xb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _b=function(t){function e(){return kb(this,e),Sb(this,Pb(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xb(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <Palette />\n                <div class=\"control\">\n                    <Hue />\n                    <Opacity />\n                </div>\n            </div>\n        "}},{key:"components",value:function(){return{Hue:ab,Opacity:ev,Palette:yb}}}])&&jb(n.prototype,r),o&&jb(n,o),e}(Pd);function Eb(t){return(Eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tb(t,e){return!e||"object"!==Eb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rb(t){return(Rb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Db(t,e){return(Db=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vb=function(t){function e(){return $b(this,e),Tb(this,Rb(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Db(t,e)}(e,t),n=e,(r=[{key:"getMaxDist",value:function(){return this.refs.$container.height()}},{key:"setMousePosition",value:function(t){this.refs.$bar.px("top",t)}},{key:"getMousePosition",value:function(t){return Nr.pos(t).pageY}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().top}},{key:"getCalculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.state.maxValue);return 100-this.getDist(e)}},{key:"setColorUI",value:function(t){(t=t||this.getDefaultValue())<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):t>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first");var e=1-(t||0)/this.state.maxValue;this.setMousePosition(this.getMaxDist()*e)}}])&&Cb(n.prototype,r),o&&Cb(n,o),e}(Md);function Ab(t){return(Ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ib(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mb(t,e){return!e||"object"!==Ab(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zb(t,e,n){return(zb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bb(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Bb(t){return(Bb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fb(t,e){return(Fb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Hb=function(t){function e(){return Ib(this,e),Mb(this,Bb(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fb(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){zb(Bb(e.prototype),"initialize",this).call(this),this.minValue=0,this.maxValue=360}},{key:"template",value:function(){return'\n            <div class="hue">\n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.parent.hsv.h}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({h:e/100*this.maxValue,type:"hsv"})}}])&&Lb(n.prototype,r),o&&Lb(n,o),e}(Vb);function Gb(t){return(Gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wb(t,e){return!e||"object"!==Gb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ub(t,e,n){return(Ub="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zb(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Zb(t){return(Zb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qb(t,e){return(qb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jb=function(t){function e(){return Nb(this,e),Wb(this,Zb(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qb(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){Ub(Zb(e.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yb(Object(n),!0).forEach((function(e){Xb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.parent.rgb);t.a=0;var e=Dn.format(t,"rgb");t.a=1;var n=Dn.format(t,"rgb");this.refs.$colorbar.css("background","linear-gradient(to top, "+e+", "+n+")")}},{key:"getDefaultValue",value:function(){return this.parent.alpha}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({a:Math.floor(e)/100*this.maxValue})}}])&&Kb(n.prototype,r),o&&Kb(n,o),e}(Vb);function Qb(t){return(Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function em(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nm(t,e){return!e||"object"!==Qb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rm(t){return(rm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function om(t,e){return(om=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var im=function(t){function e(){return tm(this,e),nm(this,rm(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&om(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <Palette /><div class=\"control\"><Hue /><Opacity /></div>\n            </div>\n        "}},{key:"components",value:function(){return{Hue:Hb,Opacity:Jb,Palette:yb}}}])&&em(n.prototype,r),o&&em(n,o),e}(Pd);function am(t){return(am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function um(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sm(t,e){return!e||"object"!==am(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lm(t,e,n){return(lm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fm(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function fm(t){return(fm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pm(t,e){return(pm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ym=function(t){function e(){return cm(this,e),sm(this,fm(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pm(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){lm(fm(e.prototype),"initialize",this).call(this),this.width=214,this.height=214,this.thinkness=16,this.half_thinkness=this.thinkness/2}},{key:"template",value:function(){return'<div class="wheel" data-type="ring">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>'}},{key:"setColorUI",value:function(t){this.renderCanvas(),this.setHueColor(null,t)}},{key:"getDefaultValue",value:function(){return this.parent.hsv.h}},{key:"setHueColor",value:function(t,e){var n=this.getRectangle(),r=n.minX,o=n.minY,i=n.radius,a=n.centerX,c=n.centerY,u=this.getCurrentXY(t,this.getDefaultValue(),i,a,c),s=Y((f=u.x)-a,(p=u.y)-c),l=this.getCurrentXY(null,s,i-this.half_thinkness,a,c),f=l.x,p=l.y;this.refs.$drag_pointer.px("left",f-r),this.refs.$drag_pointer.px("top",p-o),e||(this.changeColor({type:"hsv",h:s}),this.emit("changeColor"))}}])&&um(n.prototype,r),o&&um(n,o),e}(bv);function hm(t){return(hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bm(t,e){return!e||"object"!==hm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mm(t){return(mm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gm(t,e){return(gm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wm=function(t){function e(){return dm(this,e),bm(this,mm(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gm(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <ColorRing />\n                <Palette />\n                <div class="control">\n                    <Value />\n                    <Opacity />\n                    <div class="empty"></div>\n                    <ColorView />\n                </div>\n                <Information />\n                <CurrentColorSets />\n                <ColorSetsChooser />\n                <ContextMenu />\n            </div>\n        '}},{key:"components",value:function(){return{Value:Xd,Opacity:ev,ColorView:uv,ColorRing:ym,Palette:yb,Information:Sv,CurrentColorSets:zv,ColorSetsChooser:Rv,ContextMenu:Nv}}}])&&vm(n.prototype,r),o&&vm(n,o),e}(Pd);function Om(t){return(Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function km(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sm(t,e){return!e||"object"!==Om(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pm(t){return(Pm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xm(t,e){return(xm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _m=function(t){function e(){return km(this,e),Sm(this,Pm(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xm(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <palette />\n                <div class=\"control\">\n                    <Hue />\n                    <Opacity />\n                </div>\n                <information />\n                <currentColorSets />\n                <colorSetsChooser />\n                <contextMenu />\n            </div>\n        "}},{key:"components",value:function(){return{Hue:Hb,Opacity:Jb,Palette:yb,Information:Sv,CurrentColorSets:zv,ColorSetsChooser:Rv,ContextMenu:Nv}}}])&&jm(n.prototype,r),o&&jm(n,o),e}(Pd);function Em(t){return(Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tm(t,e){return!e||"object"!==Em(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rm(t){return(Rm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dm(t,e){return(Dm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vm=function(t){function e(){return $m(this,e),Tm(this,Rm(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dm(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <div class='color-tab' ref=\"$tab\">\n                    <div class='color-tab-header' ref=\"$tabHeader\">\n                        <div class='color-tab-item active' item-id=\"color\"><span >".concat(this.opt.tabTitle,'</span> Color</div>\n                        <div class=\'color-tab-item\' item-id="swatch">Swatch</div>\n                        <div class=\'color-tab-item\' item-id="colorset">Color Set</div>\n                    </div>\n                    <div class=\'color-tab-body\' ref="$tabBody">\n                        <div class=\'color-tab-content active\'  item-id="color">\n                            <ColorRing />\n                            <Palette />\n                            <div class="control">\n                                <Value />\n                                <Opacity />\n                                <div class="empty"></div>\n                                <ColorView />\n                            </div>\n                            <Information />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="swatch">\n                            <CurrentColorSets />\n                            <ContextMenu />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="colorset">\n                            <ColorSetsChooser />\n                        </div>                        \n                    </div>\n            </div>\n        ')}},{key:rr("$tabHeader .color-tab-item"),value:function(t,e){if(!e.hasClass("active")){var n;(n=this.refs.$tabHeader.$(".active"))&&n.removeClass("active"),e.addClass("active"),(n=this.refs.$tabBody.$(".active"))&&n.removeClass("active");var r=this.refs.$tabBody.$("[item-id='".concat(e.attr("item-id"),"']"));r&&r.addClass("active")}}},{key:"components",value:function(){return{Value:Xd,Opacity:ev,ColorView:uv,ColorRing:ym,Palette:yb,Information:Sv,CurrentColorSets:zv,ColorSetsChooser:Rv,ContextMenu:Nv}}}])&&Cm(n.prototype,r),o&&Cm(n,o),e}(Pd);function Am(t){return(Am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Im(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mm(t,e){return!e||"object"!==Am(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zm(t){return(zm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bm(t,e){return(Bm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Fm=function(t){function e(){return Im(this,e),Mm(this,zm(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bm(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <div class='color-tab xd' ref=\"$tab\">\n                    <div class='color-tab-header' ref=\"$tabHeader\">\n                        <div class='color-tab-item active' item-id=\"color\"><span >".concat(this.opt.tabTitle,'</span> Color</div>\n                        <div class=\'color-tab-item\' item-id="swatch">Swatch</div>\n                        <div class=\'color-tab-item\' item-id="colorset">Color Set</div>\n                    </div>\n                    <div class=\'color-tab-body\' ref="$tabBody">\n                        <div class=\'color-tab-content active\'  item-id="color">\n                            <palette />\n                            <div class="control">\n                                <Hue />\n                                <Opacity />\n                            </div>\n                            <information />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="swatch">\n                            <CurrentColorSets />\n                            <ContextMenu />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="colorset">\n                            <ColorSetsChooser />\n                        </div>                        \n                    </div>\n\n            </div>\n        ')}},{key:rr("$tabHeader .color-tab-item"),value:function(t,e){if(!e.hasClass("active")){var n;(n=this.refs.$tabHeader.$(".active"))&&n.removeClass("active"),e.addClass("active"),(n=this.refs.$tabBody.$(".active"))&&n.removeClass("active");var r=this.refs.$tabBody.$("[item-id='".concat(e.attr("item-id"),"']"));r&&r.addClass("active")}}},{key:"components",value:function(){return{Hue:Hb,Opacity:Jb,Palette:yb,Information:Sv,CurrentColorSets:zv,ColorSetsChooser:Rv,ContextMenu:Nv}}}])&&Lm(n.prototype,r),o&&Lm(n,o),e}(Pd),Hm={create:function(t){switch(t.type){case"macos":return new Qv(t);case"xd":return new _m(t);case"xd-tab":return new Fm(t);case"ring":return new wm(t);case"ring-tab":return new Vm(t);case"mini":return new _b(t);case"mini-vertical":return new im(t);case"sketch":case"palette":default:return new wb(t)}},ColorPicker:wb,ChromeDevToolColorPicker:wb,MacOSColorPicker:Qv,RingColorPicker:wm,MiniColorPicker:_b,MiniVerticalColorPicker:im,XDColorPicker:_m};function Gm(t){return(Gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ym(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Xm(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Nm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Km(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nm(Object(n),!0).forEach((function(e){Wm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Um(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qm(t,e){return!e||"object"!==Gm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jm(t,e,n){return(Jm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qm(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Qm(t){return(Qm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tg(t,e){return(tg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eg(t){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ng(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function og(t,e){return!e||"object"!==eg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ig(t){return(ig=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ag(t,e){return(ag=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cg=["flex","grid"],ug=function(t){function e(){return ng(this,e),og(this,ig(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ag(t,e)}(e,t),n=e,(r=[{key:"isLayoutItem",value:function(){return cg.includes(this.parent.layout)}},{key:"hasLayout",value:function(){return cg.includes(this.json.layout)}},{key:"isInGrid",value:function(){return!!this.isLayoutItem()&&"grid"===this.parent.layout}},{key:"isInFlex",value:function(){return!!this.isLayoutItem()&&"flex"===this.parent.layout}},{key:"isGroup",get:function(){return Boolean(this.layers.length)}}])&&rg(n.prototype,r),o&&rg(n,o),e}(function(t){function e(){return Um(this,e),qm(this,Qm(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tg(t,e)}(e,t),n=e,(r=[{key:"toCloneObject",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Km({},Jm(Qm(e.prototype),"toCloneObject",this).call(this,t),{x:this.json.x+"",y:this.json.y+"",width:this.json.width+"",height:this.json.height+"",screenX:this.screenX,screenY:this.screenY,screenWidth:this.screenWidth,screenHeight:this.screenHeight})}},{key:"convert",value:function(t){return(t=Jm(Qm(e.prototype),"convert",this).call(this,t)).x=_.parse(t.x),t.y=_.parse(t.y),t.width=_.parse(t.width),t.height=_.parse(t.height),t}},{key:"setScreenX",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenX.value),this.json.x.set(t-e),this.changed()}},{key:"setScreenX2",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenX.value),this.json.x.set(t-this.json.width.value-e+1),this.changed()}},{key:"setScreenY2",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenY.value),this.json.y.set(t-this.json.height.value-e+1),this.changed()}},{key:"setScreenXCenter",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenX.value),this.json.x.set(t-this.json.width.value/2-e+1),this.changed()}},{key:"setScreenYMiddle",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenY.value),this.json.y.set(t-this.json.height.value/2-e+1),this.changed()}},{key:"setScreenY",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenY.value),this.json.y.set(t-e),this.changed()}},{key:"checkInArea",value:function(t){return!(t.x2.value<this.screenX.value||t.y2.value<this.screenY.value||t.x.value>this.screenX2.value||t.y.value>this.screenY2.value)}},{key:"toBoundCSS",value:function(){var t=this.json,e=t.x;return{top:t.y,left:e,width:t.width,height:t.height,transform:t.transform,"transform-origin":t["transform-origin"]}}},{key:"move",value:function(t,e){return this.reset({x:t,y:e}),this}},{key:"moveX",value:function(t){return this.reset({x:t}),this}},{key:"moveY",value:function(t){return this.reset({y:t}),this}},{key:"resize",value:function(t,e){return t.value>=0&&e.value>=0&&this.reset({width:t,height:e}),this}},{key:"resizeWidth",value:function(t){return t.value>=0&&this.reset({width:t}),this}},{key:"resizeHeight",value:function(t){return t.value>=0&&this.reset({height:t}),this}},{key:"getTransform",value:function(t){var e=us.parseStyle(Wn.create(t).css("transform")),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];if(!e.length)return{rotate:{x:0,y:0,z:0},translate:{x:0,y:0,z:0}};var r,o,i=(n=e[0].value.map((function(t){return+t})))[0],a=(n[1],n[2]),c=(n[3],n[4]),u=n[5],s=(n[6],n[7],n[8]),l=n[9],f=n[10],p=(n[11],n[12]),y=n[13],h=n[14],d=(n[15],Math.asin(-s));return 0!==Math.cos(d)?(r=Math.atan2(l,f),o=Math.atan2(c,i)):(r=Math.atan2(a,u),o=0),{rotate:{x:r,y:d,z:o},translate:{x:p,y:y,z:h}}}},{key:"verties",value:function(t,e){for(var n=t.offsetRect(),r=n.height,o=n.width/2,i=r/2,a={a:{x:-o,y:-i,z:0},b:{x:o,y:-i,z:0},c:{x:o,y:i,z:0},d:{x:-o,y:i,z:0}},c=this.getTransform(t.el);t.el&&(c=this.getTransform(t.el),a.a=A.addVector(A.rotateVector(a.a,c.rotate),c.translate),a.b=A.addVector(A.rotateVector(a.b,c.rotate),c.translate),a.c=A.addVector(A.rotateVector(a.c,c.rotate),c.translate),a.d=A.addVector(A.rotateVector(a.d,c.rotate),c.translate),(t=t.parent()).el!==e););return a}},{key:"checkInAreaForLayers",value:function(t){var e=[];return this.layers.forEach((function(n){e.push.apply(e,Xm(n.checkInAreaForLayers(t))),n.checkInArea(t)&&e.push(n)})),e}},{key:"getIndex",value:function(){for(var t=this.json.parent.layers,e=-1,n=0,r=t.length;n<r;n++)if(t[n]===this.ref){e=n;break}return e}},{key:"setOrder",value:function(t){var e=this.json.parent,n=this.getIndex();n>-1&&(e.layers[n]=e.layers[t],e.layers[t]=this.ref)}},{key:"next",value:function(){if(this.isLast())return this.ref;var t=this.getIndex();return this.json.parent.layers[t+1]}},{key:"prev",value:function(){if(this.isFirst())return this.ref;var t=this.getIndex();return this.json.parent.layers[t-1]}},{key:"orderNext",value:function(){if(this.isLast()){if(this.json.parent.is("artboard"))return;this.json.parent.next().add(this,"prepend")}else{var t=this.getIndex();t>-1&&this.setOrder(t+1)}}},{key:"isFirst",value:function(){return 0===this.getIndex()}},{key:"isLast",value:function(){return this.getIndex()===this.json.parent.layers.length-1}},{key:"orderPrev",value:function(){if(this.isFirst()){if(this.json.parent.is("artboard"))return;this.json.parent.prev().add(this)}else{var t=this.getIndex();t>0&&this.setOrder(t-1)}}},{key:"orderFirst",value:function(){this.setOrder(0)}},{key:"orderLast",value:function(){this.setOrder(this.json.parent.layers.length-1)}},{key:"orderTop",value:function(){}},{key:"orderBottom",value:function(){}},{key:"isAbsolute",get:function(){return"absolute"===this.json.position}},{key:"isRelative",get:function(){return"relative"===this.json.position}},{key:"isChild",get:function(){return!(!this.json.parent||!1!==this.json.parent.is("project")||!this.isAbsolute)}},{key:"screenX",get:function(){return this.isChild?_.px(this.json.parent.screenX.value+this.json.x.value):this.json.x||_.z()}},{key:"screenY",get:function(){return this.isChild?_.px(this.json.parent.screenY.value+this.json.y.value):this.json.y||_.z()}},{key:"screenX2",get:function(){return _.px(this.screenX.value+this.json.width.value)}},{key:"screenY2",get:function(){return _.px(this.screenY.value+this.json.height.value)}},{key:"screenWidth",get:function(){return this.json.width}},{key:"screenHeight",get:function(){return this.json.height}},{key:"screenRect",get:function(){return{left:this.screenX,top:this.screenY,width:this.screenWidth,height:this.screenHeight}}},{key:"centerX",get:function(){var t=0;return 0!=this.json.width.value&&(t=Math.floor(this.json.width.value/2)),_.px(this.screenX.value+t)}},{key:"centerY",get:function(){var t=0;return 0!=this.json.height.value&&(t=Math.floor(this.json.height.value/2)),_.px(this.screenY.value+t)}},{key:"transformOrigin",get:function(){var t=Ym((this.json["transform-origin"]||"50% 50%").split(" ").map((function(t){return _.parse(t||"50%")})),2),e=t[0],n=t[1];return{left:e=e.toPx(this.screenWidth.value),top:n=n.toPx(this.screenHeight.value)}}},{key:"screenTransform",get:function(){return us.addTransform(this.json.parent.screenTransform,this.json.transform)}}])&&Zm(n.prototype,r),o&&Zm(n,o),e}(uo));function sg(t){return(sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lg(Object(n),!0).forEach((function(e){pg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dg(t,e){return!e||"object"!==sg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vg(t,e,n){return(vg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bg(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function bg(t){return(bg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mg(t,e){return(mg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gg=function(t){function e(){return yg(this,e),dg(this,bg(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mg(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}}],(r=[{key:"getDefaultObject",value:function(t){return vg(bg(e.prototype),"getDefaultObject",this).call(this,fg({itemType:"selector",selector:"",properties:[]},t))}},{key:"toCloneObject",value:function(){return fg({},vg(bg(e.prototype),"toCloneObject",this).call(this),{selector:this.json.selector,properties:this.json.properties.map((function(t){return ue(t)}))})}},{key:"isMultiStyle",value:function(t){switch(t){case"background-image":case"var":return!0}return!1}},{key:"getMultiStyleString",value:function(t){switch(t.key){case"background-image":return t.value.toString()+";"}return t.value.toString()+" !important;"}},{key:"toPropertyString",value:function(){var t=this;return this.json.properties.map((function(e){if(t.isMultiStyle(e.key))return t.getMultiStyleString(e);var n=e.value.toString();if(n){var r=e.key;return"x"===r?r="left":"y"===r&&(r="top"),"".concat(r,": ").concat(n," !important;")}return""})).join("\n")}},{key:"toCSSText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(t).concat(this.json.selector," {\n    ").concat(this.toPropertyString(),"\n}")}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.toCSSText(t)}}])&&hg(n.prototype,r),o&&hg(n,o),e}(_i);function wg(t){return(wg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Og(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function kg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kg(Object(n),!0).forEach((function(e){Sg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _g(t,e){return!e||"object"!==wg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Eg(t,e,n){return(Eg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $g(t){return($g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cg(t,e){return(Cg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tg=function(t){function e(){return Pg(this,e),_g(this,$g(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cg(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Eg($g(e.prototype),"getDefaultObject",this).call(this,jg({position:"absolute",x:_.z(),y:_.z(),right:"",bottom:"",rootVariable:"",variable:"",width:_.px(300),height:_.px(300),color:"black","font-size":_.px(13),overflow:"visible",rotate:_.deg(0),opacity:1,"z-index":_.auto,layout:"default","flex-layout":"display:flex;","grid-layout":"display:grid;",selectors:[],svg:[]},t))}},{key:"toCloneObject",value:function(){var t=this.json;return jg({},Eg($g(e.prototype),"toCloneObject",this).call(this),{position:t.position,right:t.right+"",bottom:t.bottom+"",rootVariable:t.rootVariable,variable:t.variable,transform:t.transform,filter:t.filter,"backdrop-filter":t["backdrop-filter"],"background-color":t["background-color"],"background-image":t["background-image"],"text-clip":t["text-clip"],"border-radius":t["border-radius"],border:t.border,"box-shadow":t["box-shadow"],"text-shadow":t["text-shadow"],"clip-path":t["clip-path"],color:t.color,"font-size":t["font-size"]+"","font-stretch":t["font-stretch"]+"","line-height":t["line-height"]+"","text-align":t["text-align"]+"","text-transform":t["text-transform"]+"","text-decoration":t["text-decoration"]+"","letter-spacing":t["letter-spacing"]+"","word-spacing":t["word-spacing"]+"","text-indent":t["text-indent"]+"","perspective-origin":t["perspective-origin"],"transform-origin":t["transform-origin"],"transform-style":t["transform-style"],perspective:t.perspective+"","mix-blend-mode":t["mix-blend-mode"],overflow:t.overflow,opacity:t.opacity||1,rotate:t.rotate,"flex-layout":t["flex-layout"],"grid-layout":t["grid-layout"],animation:t.animation,transition:t.transition,selectors:t.selectors.map((function(t){return t.clone()})),svg:t.svg.map((function(t){return t.clone()}))})}},{key:"convert",value:function(t){return t=Eg($g(e.prototype),"convert",this).call(this,t)}},{key:"addSelector",value:function(t){return this.json.selectors.push(t),t}},{key:"createSelector",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addSelector(new gg(jg({checked:!0},t)))}},{key:"removePropertyList",value:function(t,e){t.splice(e,1)}},{key:"removeSelector",value:function(t){this.removePropertyList(this.json.selectors,t)}},{key:"enableHasChildren",value:function(){return!0}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(Og(t.splice(e,1))))}},{key:"updateSelector",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.selectors[+t].reset(e)}},{key:"traverse",value:function(t,e,n){var r=this;t.isAttribute()||(n||!t.isLayoutItem()||t.isRootItem())&&(e.push(t),t.children.forEach((function(t){r.traverse(t,e)})))}},{key:"tree",value:function(t){var e=this,n=[];return this.children.forEach((function(r){e.traverse(r,n,t)})),n}},{key:"toAnimationKeyframes",value:function(t){return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:t}]}},{key:"toBound",value:function(){var t={x:this.json.x?this.json.x.clone():_.z(),y:this.json.y?this.json.y.clone():_.z(),width:this.json.width.clone(),height:this.json.height.clone()};return t.x2=_.px(t.x.value+t.width.value),t.y2=_.px(t.y.value+t.height.value),t}}])&&xg(n.prototype,r),o&&xg(n,o),e}(ug),Rg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 5v3c0 .55.45 1 1 1s1-.45 1-1V6c0-.55.45-1 1-1h2c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2zm1 10c-.55 0-1 .45-1 1v3c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1-.45-1-1v-2c0-.55-.45-1-1-1zm15 3c0 .55-.45 1-1 1h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v2zm0-15h-3c-.55 0-1 .45-1 1s.45 1 1 1h2c.55 0 1 .45 1 1v2c0 .55.45 1 1 1s1-.45 1-1V5c0-1.1-.9-2-2-2z"/></svg>';function Dg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ag=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dg(Object(n),!0).forEach((function(e){Vg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},{fullscreen:Rg},{arrow_right:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M10 17l5-5-5-5v10z"/>\n    </svg>\n',group:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>\n    </svg>\n',volume_down:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"/>\n    </svg>\n',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M14 7l-5 5 5 5V7z"/></svg>',volume_up:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>\n</svg>',volume_off:'\n<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>\n</svg>\n',pentool:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <g transform="translate(4.000003875248012, 4.000001937624006)">\n        <path stroke="currentColor" d="M 7.501491970838878 -0.0000015572448855733659Q 14.336036333057622 7.389304433496911 15.674208571053226 11.025537025755131Q 17.012380809048864 14.661769618013372 12.854180922821438 14.544928811787997L 12.854180922821438 16.99999278410904L 3.2146550430021494 16.99999278410904L 3.2146550430021494 14.544928811787997Q -0.8480130988910353 14.661769618013372 0.22369613306813782 11.025537025755131Q 1.295405365027311 7.389304433496911 7.501491970838878 -0.0000015572448855733659Z M 7.501491970838878 -0.0000015572448855733659M 7.043097362212707 10.615180199186797L 7.043097362212707 2.029497238417552Q 2.4235653311211847 7.389304433496911 1.2143202542326725 11.099378313047254Q 0.22369613306813782 14.380813978493594 4.269842778971384 13.709709450113499L 4.269842778971384 16.233605781316655L 11.751764459057853 16.233605781316655L 11.751764459057853 13.709709450113499Q 15.84146041516868 14.140123940309786 14.670231046646997 10.775846698306177Q 14.195747591990225 9.593976493057127 8.077664264490855 2.029497238417552L 8.077664264490855 10.615180199186797L 7.043097362212707 10.615180199186797Z"/>\n    </g>\n</svg>',launch:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>\n    </svg>',apps:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"/></svg>',outline_rect:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n    </svg>\n',outline_circle:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>\n    </svg>\n',keyboard:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"/></svg>',local_movie:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"/></svg>',same_height:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M4,4 L20,4Z M4,20 L20,20Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />\n</svg>\n',same_width:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M20,4 L20,20Z M2,4 L2,20Z M6,10 L16,10 L16,14 L6,14Z" stroke-width="1" />\n</svg>\n',middle:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M4,12 L20,12Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />\n</svg>\n',bottom:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M4,20 L20,20Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />\n</svg>\n',top:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M4,4 L20,4Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />\n</svg>\n',right:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M20,4 L20,20Z M6,10 L16,10 L16,14 L6,14Z" stroke-width="1" />\n</svg>\n',center:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M12,4 L12,20Z M6,10 L18,10 L18,14 L6,14Z" stroke-width="1" />\n</svg>\n',left:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M2,4 L2,20Z M6,10 L16,10 L16,14 L6,14Z" stroke-width="1" />\n</svg>\n',flag:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"/></svg>',lens:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>',local_library:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"/></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"/></svg>',strikethrough:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><path id="a" d="M0 0h24v24H0V0z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path clip-path="url(#b)" d="M7.24 8.75c-.26-.48-.39-1.03-.39-1.67 0-.61.13-1.16.4-1.67.26-.5.63-.93 1.11-1.29.48-.35 1.05-.63 1.7-.83.66-.19 1.39-.29 2.18-.29.81 0 1.54.11 2.21.34.66.22 1.23.54 1.69.94.47.4.83.88 1.08 1.43.25.55.38 1.15.38 1.81h-3.01c0-.31-.05-.59-.15-.85-.09-.27-.24-.49-.44-.68-.2-.19-.45-.33-.75-.44-.3-.1-.66-.16-1.06-.16-.39 0-.74.04-1.03.13-.29.09-.53.21-.72.36-.19.16-.34.34-.44.55-.1.21-.15.43-.15.66 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.05-.08-.11-.17-.15-.25zM21 12v-2H3v2h9.62c.18.07.4.14.55.2.37.17.66.34.87.51.21.17.35.36.43.57.07.2.11.43.11.69 0 .23-.05.45-.14.66-.09.2-.23.38-.42.53-.19.15-.42.26-.71.35-.29.08-.63.13-1.01.13-.43 0-.83-.04-1.18-.13s-.66-.23-.91-.42c-.25-.19-.45-.44-.59-.75-.14-.31-.25-.76-.25-1.21H6.4c0 .55.08 1.13.24 1.58.16.45.37.85.65 1.21.28.35.6.66.98.92.37.26.78.48 1.22.65.44.17.9.3 1.38.39.48.08.96.13 1.44.13.8 0 1.53-.09 2.18-.28s1.21-.45 1.67-.79c.46-.34.82-.77 1.07-1.27s.38-1.07.38-1.71c0-.6-.1-1.14-.31-1.61-.05-.11-.11-.23-.17-.33H21z"/></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/></svg>',cylinder:'\n<svg width="24" height="24" viewBox="0 0 24 24" version="1.1" style=\'transform:scale(0.8)\'>\n<g class="cylinder">\n<path d="M 12 0 C 7.636719 0 3 1.226562 3 3.5 L 3 20.5 C 3 22.773438 7.636719 24 12 24 C 16.363281 24 21 22.773438 21 20.5 L 21 3.5 C 21 1.226562 16.363281 0 12 0 Z M 20 19.121094 C 19.921875 19.140625 19.84375 19.171875 19.78125 19.230469 C 19.574219 19.414062 19.554688 19.726562 19.738281 19.933594 C 19.914062 20.128906 20 20.320312 20 20.5 C 20 21.542969 16.957031 23 12 23 C 7.042969 23 4 21.542969 4 20.5 C 4 20.320312 4.085938 20.128906 4.261719 19.933594 C 4.445312 19.726562 4.425781 19.410156 4.21875 19.226562 C 4.15625 19.171875 4.078125 19.140625 4 19.121094 L 4 5.160156 C 5.59375 6.363281 8.863281 7 12 7 C 15.136719 7 18.40625 6.363281 20 5.160156 Z M 12 6 C 7.042969 6 4 4.542969 4 3.5 C 4 2.457031 7.042969 1 12 1 C 16.957031 1 20 2.457031 20 3.5 C 20 4.542969 16.957031 6 12 6 Z M 12 6 "/>\n</g>\n</svg>\n',text_rotate:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12.75 3h-1.5L6.5 14h2.1l.9-2.2h5l.9 2.2h2.1L12.75 3zm-2.62 7L12 4.98 13.87 10h-3.74zm10.37 8l-3-3v2H5v2h12.5v2l3-3z"/></svg>',device_hub:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"/></svg>',control_point:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>',flip_camera:'\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"\n\t height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">\n    <path d="M9,12c0,1.66,1.34,3,3,3s3-1.34,3-3s-1.34-3-3-3S9,10.34,9,12z"/>\n    <path d="M8,10V8H5.09C6.47,5.61,9.05,4,12,4c3.72,0,6.85,2.56,7.74,6h2.06c-0.93-4.56-4.96-8-9.8-8C8.73,2,5.82,3.58,4,6.01V4H2v6\n        H8z"/>\n    <path d="M16,14v2h2.91c-1.38,2.39-3.96,4-6.91,4c-3.72,0-6.85-2.56-7.74-6H2.2c0.93,4.56,4.96,8,9.8,8c3.27,0,6.18-1.58,8-4.01V20\n        h2v-6H16z"/>\n</svg>\n',flipY:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"/></svg>',flip:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"/></svg>',account_tree:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"/></svg>',format_shapes:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z"/></svg>',merge:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z"/></svg>',texture:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z"/></svg>',settings_input_component:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"/></svg>',view_comfy:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z"/></svg>',camera_roll:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14 5c0-1.1-.9-2-2-2h-1V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2h8V5h-8zm-2 13h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2z"/></svg>',broken_image:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z"/></svg>',shadow:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"/></svg>',opacity:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"/></svg>',looks:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 10c-3.86 0-7 3.14-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.86-3.14-7-7-7zm0-4C5.93 6 1 10.93 1 17h2c0-4.96 4.04-9 9-9s9 4.04 9 9h2c0-6.07-4.93-11-11-11z"/></svg>',vintage:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/></svg>',waves:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z"/></svg>',blur_linear:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 17.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM3 21h18v-2H3v2zM5 9.5c.83 0 1.5-.67 1.5-1.5S5.83 6.5 5 6.5 3.5 7.17 3.5 8 4.17 9.5 5 9.5zm0 4c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 17c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8-.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM3 3v2h18V3H3zm14 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm0 4c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM13 9c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z"/></svg>',blur:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"/></svg>',landscape:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"/></svg>',palette:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>',diffuse:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 14.5h14v-6H5v6zM11 .55V3.5h2V.55h-2zm8.04 2.5l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM13 22.45V19.5h-2v2.95h2zm7.45-3.91l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM3.55 4.46l1.79 1.79 1.41-1.41-1.79-1.79-1.41 1.41zm1.41 15.49l1.79-1.8-1.41-1.41-1.79 1.79 1.41 1.42z"/></svg>',specular:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z"/></svg>',photo:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>',near_me:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 3L3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z"/></svg>',view_list:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"/></svg>',flash_on:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 2v11h3v9l7-12h-4l4-8z"/></svg>',doc:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/></svg>',storage:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"/></svg>',archive:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"/></svg>',file_copy:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"/></svg>',gps_fixed:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>',refresh:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>',cat:'\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="864px" height="864px" viewBox="0 0 864 864" enable-background="new 0 0 864 864">\n<path d="M712.4846,631.2673c-8.3777-59.9758-44.6997-121.2822-117.7703-198.7816\n\tc-51.7295-54.8649-72.0865-105.7791-55.8514-139.6883c12.4393-25.9817,42.587-35.8935,65.343-34.1103\n\tc26.3435,2.0661,37.3148,18.5905,41.88,32.0888c6.5847,19.471,2.7829,43.5175-8.4753,53.6029\n\tc-2.4382,2.1843-19.5444,15.6083-31.617,2.486c-16.0995-17.4994,1.3123-34.1181,1.3123-34.1181s25.7198-19.4211,11.5477-34.6431\n\tc-14.1721-15.2219-81.6211,4.7241-73.1766,62.9098c2.102,14.4833,9.8525,35.0453,41.7667,49.9105\n\tc31.3411,14.5985,62.0806,11.5356,84.3365-8.4017c26.8387-24.0431,36.221-68.5172,22.8163-108.1526\n\tc-13.0433-38.5685-45.3375-63.5167-86.387-66.7359c-22.4584-1.7602-45.9053,2.9182-66.0231,13.1776\n\tc-22.1882,11.3155-39.3094,28.5606-49.5124,49.8713c-15.207,31.7608-27.0118,99.5788,64.7797,196.9337\n\tc64.4428,68.3486,97.5892,122.6011,104.3126,170.7358c6.1263,43.8577-32.9753,141.2908-59.1734,141.8642\n\tc-18.2653,0.3997-13.0681-28.0174-11.1219-46.1832c3.4623-32.3166,9.02-64.4668,7.8147-96.946\n\tc-1.7692-47.6774-16.0649-83.7216-38.2463-125.1911c-20.1995-37.7643-37.8974-60.6029-92.5699-111.4463\n\tc-13.4884-12.5438-27.4699-22.5866-44.7675-38.1754c-17.5431-15.8101-21.9685-33.5474-24.195-48.6835\n\tc-4.6472-31.5926,5.266-35.0392,22.933-61.1816c7.51,6.1134,15.132,13.1576,22.5878,21.2593\n\tc0.8908,0.9678,2.1063,1.4586,3.3257,1.4586c1.0938,0,2.1906-0.3947,3.059-1.1939c1.8362-1.6895,1.9548-4.548,0.2647-6.3846\n\tc-8.043-8.7399-16.2394-16.2892-24.29-22.8068c1.0196-1.6815,1.9806-3.3693,2.913-5.06\n\tc11.2809,3.873,22.4781,8.5857,32.8744,14.3263c0.6923,0.3824,1.4415,0.5638,2.1804,0.5638c1.592,0,3.1354-0.8433,3.9596-2.3353\n\tc1.2061-2.1848,0.4133-4.9333-1.7714-6.14c-10.5501-5.8255-21.7927-10.625-33.0861-14.5846\n\tc1.7051-3.6655,3.2152-7.3481,4.5178-11.0449c9.9095,1.0547,20.2559,2.6507,30.8756,4.9542\n\tc2.4407,0.5281,4.8451-1.0193,5.3736-3.4585c0.5285-2.4387-1.0193-4.8446-3.4586-5.3736\n\tc-10.3543-2.2456-20.4231-3.8448-30.0823-4.9431c6.761-25.5357,4.0583-51.5754-8.0207-76.8648\n\tC448.2098,115.8869,474.731,76.8288,466.0513,18c-68.8775,17.9071-87.2624,54.1776-94.1043,50.875\n\tc-7.9472-3.8361-40.5018-11.036-62.952-10.6586c-37.278,0.6267-61.382,7.0395-61.382,7.0395\n\tc-11.2537-14.6686-35.9431-36.6889-90.105-41.2683c2.9433,47.1602,13.4346,82.2557,28.5291,102.9373l-0.7433,2.377\n\tc-11.7879,32.4393-13.5817,62.8858-3.8016,89.6451c-9.0883,1.1019-18.5685,2.7173-28.321,4.9987\n\tc-2.4299,0.5687-3.939,2.9991-3.3708,5.429c0.5687,2.4294,2.9972,3.939,5.429,3.3708c10.3087-2.4115,20.3424-4.0428,29.9266-5.0891\n\tc1.4184,2.9763,2.9836,5.904,4.7147,8.7755c-11.2262,4.119-22.4456,9.1879-32.9296,15.4312\n\tc-2.1445,1.2767-2.8476,4.0498-1.5704,6.1939c0.8453,1.4199,2.3461,2.2073,3.8866,2.2073c0.7859,0,1.5827-0.2054,2.3073-0.6369\n\tc10.5541-6.2849,22.0078-11.3381,33.4798-15.4008c3.3157,4.5403,7.0729,8.9251,11.2576,13.1527\n\tc-5.6694,5.3088-11.3757,11.2216-17,17.8125c-1.6199,1.8979-1.3944,4.7505,0.504,6.3699c0.8507,0.7266,1.8935,1.0816,2.931,1.0816\n\tc1.2767,0,2.5456-0.5383,3.4389-1.5856c5.5062-6.4525,11.1144-12.2327,16.692-17.4078c5.7832,5.4212,11.3758,11.1287,15.514,17.8627\n\tc7.8208,12.7265,8.3216,25.8196,6.7598,40.6753c-3.119,29.6671-13.4278,58.0414-20.0391,87.1301\n\tc-16.8163,73.989-9.0635,132.7513,20.7169,202.5388c8.0053,18.7598,17.5698,36.9144,23.7843,56.341\n\tc10.5081,32.8488,7.8436,88.3559,8.2697,122.8419v2.9318c0,0-19.9931,0.1384-28.4717,6.0748\n\tc-8.2555,5.7802-10.3883,21.931-4.3929,28.6906c6.6872,7.5395,21.6739,10.6397,31.6837,11.8093\n\tc119.664,13.9824,293.6021-2.6707,341.7446-8.3345C701.2023,821.2982,721.1432,693.2562,712.4846,631.2673z M437.2106,66.5267\n\tc-0.1946,33.6617-23.5064,50.7886-23.5064,50.7886c-6.2684-17.19-21.1558-25.3943-21.1558-25.3943\n\tC408.2194,68.8708,437.2106,66.5267,437.2106,66.5267z M201.6607,103.3024c0,0-19.8527-14.6264-20.0184-43.3732\n\tc0,0,24.6894,2.0019,38.035,21.6866C219.6773,81.6158,206.999,88.6223,201.6607,103.3024z M215.969,158.6876\n\tc15.0275-4.1452,27.2506-3.8264,37.1033-1.1182c-15.9193,16.5729-7.4137,31.0502-3.2583,36.286\n\tC221.2402,186.9178,215.969,158.6876,215.969,158.6876z M252.8369,194.4974c13.6546-17.1619,7.1357-30.6827,3.4758-35.9226\n\tc24.8589,8.5877,33.2057,32.5095,33.2057,32.5095C274.4792,195.6167,262.4471,196.221,252.8369,194.4974z M308.1766,232.8661\n\tc-4.1644,0.2111-22.0216-7.8084-21.8634-21.8635c0.1244-11.0539,40.2451-7.8568,42.1652,0\n\tC330.8523,220.7164,312.3411,232.655,308.1766,232.8661z M327.2252,191.0843c0,0,8.7972-25.2037,35.2186-33.1565\n\tc-12.424,19.1432-1.5466,31.7233,3.55,36.1478C356.055,196.2867,343.3752,195.9514,327.2252,191.0843z M369.7458,193.0825\n\tc10.0879-20.4091-1.0878-32.4358-4.9794-35.7968c9.66-2.4378,21.5306-2.5917,36.0081,1.4018\n\tC400.7746,158.6876,395.8536,185.0439,369.7458,193.0825z"/>\n</svg>\n\n',shuffle:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"/></svg>',replay:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><path id="a" d="M0 0h24v24H0V0z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z" clip-path="url(#b)"/></svg>',speed:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"/></svg>',alternate_reverse:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z" /></svg>',alternate:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/></svg>',note:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z"/></svg>',rect:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>',circle:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>',color_lens:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>',cube:'<svg width="24" height="24" style="transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M21 16.5a1 1 0 0 1-.527.881l-7.907 4.443a.996.996 0 0 1-1.132 0l-7.907-4.443A1 1 0 0 1 3 16.5v-9a1 1 0 0 1 .527-.881l7.907-4.443a.995.995 0 0 1 1.132 0l7.907 4.443A1 1 0 0 1 21 7.5v9zM12 4.15L6.042 7.5l5.96 3.35 5.958-3.35-5.958-3.35zM5 15.916l6 3.372V12.58L5 9.209v6.706zm14 0V9.209l-6 3.372v6.707l6-3.373z" /></svg>',polygon:'<svg width="24" height="24" viewBox="0 0 24 24"><path d="M17,15.7V13H19V17L10,21L3,14L7,5H11V7H8.3L5.4,13.6L10.4,18.6L17,15.7M22,5V7H19V10H17V7H14V5H17V2H19V5H22Z" /></svg>',star:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/></svg>',dahaze:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z"/></svg>',brush:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"/></svg>',expand:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>',list:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"/></svg>',grid:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z"/></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/></svg>',color:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>',size:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z"/></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>',outline_image:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"/></svg>',ballot:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><clipPath><use xlink:href="#a" overflow="visible"/></clipPath><path fill-rule="evenodd" clip-rule="evenodd" d="M13 9.5h5v-2h-5v2zm0 7h5v-2h-5v2zm6 4.5H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2zM6 11h5V6H6v5zm1-4h3v3H7V7zM6 18h5v-5H6v5zm1-4h3v3H7v-3z"/></svg>',shape:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z"/></svg>',scatter:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="#010101"><circle cx="7" cy="14" r="3"/><circle cx="11" cy="6" r="3"/><circle cx="16.6" cy="17.6" r="3"/></g></svg>',transform:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2h4zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6v2z"/></svg>',gradient:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',build:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/></svg>',code:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>',autorenew:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>',skip_next:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>',skip_prev:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>',fast_forward:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/></svg>',fast_rewind:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"/></svg>',filter:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/></svg>',input:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"/></svg>',timer:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>',title:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 4v3h5.5v12h3V7H19V4z"/></svg>',paint:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4h-3z"/></svg>',border_all:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1z"/></svg>',border_inner:Rg,check:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>',video:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/>\n    </svg>\n',arrowRight:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M10 17l5-5-5-5v10z"/></svg>\n',screen:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>',repeat:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/></svg>',remove2:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2z"/></svg>',setting:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"/></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>',artboard:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/></svg>',folder:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/></svg>',publish:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"/></svg>',add_note:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"/></svg>',add:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>',save:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/><path fill="none" d="M0 0h24v24H0z"/></svg>',export:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"/></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/></svg>',lock:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/></svg>',lock_open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"/></svg>',remove:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>',copy:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"/></svg>',visible:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>',add_box:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></svg>',add_circle:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></svg>',create_folder:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M22 6H12l-2-2H2v16h20V6zm-3 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"/>\n</svg>',chevron_right:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/>\n</svg>',chevron_left:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>'});function Ig(t){return(Ig="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lg(Object(n),!0).forEach((function(e){zg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hg(t,e){return!e||"object"!==Ig(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gg(t,e,n){return(Gg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yg(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Yg(t){return(Yg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xg(t,e){return(Xg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ng=function(t){function e(){return Bg(this,e),Hg(this,Yg(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xg(t,e)}(e,t),n=e,o=[{key:"getIcon",value:function(){return Ag.rect}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Gg(Yg(e.prototype),"getDefaultObject",this).call(this,Mg({itemType:"layer",name:"New Layer",tagName:"div"},t))}},{key:"getDefaultTitle",value:function(){return"Layer"}},{key:"getIcon",value:function(){return Ag.rect}},{key:"toCloneObject",value:function(){return Mg({},Gg(Yg(e.prototype),"toCloneObject",this).call(this),{tagName:this.json.tagName})}},{key:"screenX",get:function(){return this.json.parent?_.px(this.json.parent.screenX.value+(this.json.x||zero).value):this.json.x||_.z()}},{key:"screenY",get:function(){return this.json.parent?_.px(this.json.parent.screenY.value+(this.json.y||zero).value):this.json.y||_.z()}}])&&Fg(n.prototype,r),o&&Fg(n,o),e}(Tg);function Kg(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return function(t,e){var i=0;return i=0===e?n:1===e?r:n+(r-n)*t,o?i+o:i}}function Wg(t,e,n){return function(t,e){return n}}function Ug(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"width",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"parent",i=null;return"parent"===o?i=t[o][r]:"self"===o&&(i=t[r]),i?n.toPx(i.value):n}function Zg(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent",a=null;return"parent"===i?a=t[i][o]:"self"===i&&(a=t[o]),a?n.to(r,a.value):n}function qg(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent",a=_.parse(n),c=_.parse(r);return a.unit===c.unit?Kg(t,e,a.value,c.value,a.unit):a.equals(c)?Wg(0,0,a):function(n,r){var u=Ug(t,e,a,o,i),s=Ug(t,e,c,o,i);return 0===r?u:1===r?s:Zg(t,e,_.px(u.value+(s.value-u.value)*n),a.unit,o,i)}}function Jg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qg=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parseStyle",value:function(t){var e={isAll:!0,"border-radius":_.z(),"border-top-left-radius":_.z(),"border-top-right-radius":_.z(),"border-bottom-right-radius":_.z(),"border-bottom-left-radius":_.z()},n=t.split(" ").filter((function(t){return _.parse(t)}));return 1===n.length?(e.isAll=!0,e["border-radius"]=n[0]):(e.isAll=!1,e["border-top-left-radius"]=n[0],e["border-top-right-radius"]=n[1],e["border-bottom-right-radius"]=n[2],e["border-bottom-left-radius"]=n[3]),e}}],(n=null)&&Jg(e.prototype,n),r&&Jg(e,r),t}(),tw=function(t){return t.isAll?[t["border-radius"]||"0px",t["border-radius"]||"0px",t["border-radius"]||"0px",t["border-radius"]||"0px"]:[t["border-top-left-radius"]||"0px",t["border-top-right-radius"]||"0px",t["border-bottom-right-radius"]||"0px",t["border-bottom-left-radius"]||"0px"]};function ew(t,e,n,r){for(var o=tw(Qg.parseStyle(n)),i=tw(Qg.parseStyle(r)),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++)c[u]=qg(t,e,o[u],i[u]);return function(t,e){return c.map((function(n){return n(t,e)})).join(" ")}}function nw(t){return(nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ow(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cw(t,e){return!e||"object"!==nw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uw(t,e,n){return(uw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sw(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function sw(t){return(sw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lw(t,e){return(lw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fw=function(t){function e(){return iw(this,e),cw(this,sw(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lw(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var n=[];if(!t)return n;var r=pn(t);return n=r.str.split(",").filter((function(t){return t.trim()})).map((function(t){var n=t.split(" "),o=n.filter((function(t){return"inset"===t})),i=n.filter((function(t){return t.includes("@")})).map((function(t){return hn(t,r.matches)})),a=n.filter((function(t){return"inset"!==t&&!t.includes("@")}));return e.parse({inset:!!o.length,color:i[0]||"rgba(0, 0, 0, 1)",offsetX:_.parse(a[0]||"0px"),offsetY:_.parse(a[1]||"0px"),blurRadius:_.parse(a[2]||"0px"),spreadRadius:_.parse(a[3]||"0px")})}))}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(", ")}}],(r=[{key:"getDefaultObject",value:function(){return uw(sw(e.prototype),"getDefaultObject",this).call(this,{itemType:"box-shadow",inset:!1,offsetX:_.z(),offsetY:_.z(),blurRadius:_.z(),spreadRadius:_.z(),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){var t=this.json;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rw(Object(n),!0).forEach((function(e){ow(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},uw(sw(e.prototype),"toCloneObject",this).call(this),{inset:t.inset,offsetX:t.offsetX+"",offsetY:t.offsetY+"",blurRadius:t.blurRadius+"",spreadRadius:t.spreadRadius+"",color:t.color})}},{key:"convert",value:function(t){return(t=uw(sw(e.prototype),"convert",this).call(this,t)).offsetX=_.parse(t.offsetX),t.offsetY=_.parse(t.offsetY),t.blurRadius=_.parse(t.blurRadius),t.spreadRadius=_.parse(t.spreadRadius),t}},{key:"toCSS",value:function(){return{"box-shadow":this.toString()}}},{key:"toString",value:function(){var t=this.json;return"".concat(t.inset?"inset ":"").concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.spreadRadius," ").concat(t.color)}}])&&aw(n.prototype,r),o&&aw(n,o),e}(_i);function pw(t,e,n,r){return function(t,e){return 1===e?r:n}}function yw(t,e,n,r){var o=Dn.parse(n||"rgba(0, 0, 0, 1)"),i=Dn.parse(r||"rgba(0, 0, 0, 1)");return function(t,e){return 0===e?n:1===e?r:gn(o,i,t,"rgb")}}function hw(t,e,n,r){for(var o=fw.parseStyle(n),i=fw.parseStyle(r),a=Math.max(o.length,i.length),c=[],u=0,s=a;u<s;u++){var l=o[u]||fw.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[u]||fw.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0];c.push({inset:pw(0,0,l.inset,f.inset),offsetX:qg(t,e,l.offsetX,f.offsetX),offsetY:qg(t,e,l.offsetY,f.offsetY),blurRadius:qg(t,e,l.blurRadius,f.blurRadius),spreadRadius:qg(t,e,l.spreadRadius,f.spreadRadius),color:yw(0,0,l.color,f.color)})}return function(t,e){return fw.join(c.map((function(n){return{inset:n.inset(t,e),offsetX:n.offsetX(t,e),offsetY:n.offsetY(t,e),blurRadius:n.blurRadius(t,e),spreadRadius:n.spreadRadius(t,e),color:n.color(t,e)}})))}}function dw(t,e,n,r){return pw(0,0,n,r)}var vw=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return t=+t,function(n){var r=1/t;return"start"==e?r*Math.ceil(n/r):"end"==e?r*Math.floor(n/r):void 0}};function bw(){return vw(1,"start")}function mw(){return vw(1,"end")}var gw=function(){return function(t){return Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1}},ww={step:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return vw(t,e)},"step-start":bw,"step-end":mw,stepStart:bw,stepEnd:mw,"ease-out-elastic":gw,easeOutElastic:gw};function Ow(t,e,n,r){var o=_.parse(n),i=_.parse(r);return function(t,e){var n=o.value,r=i.value;return 0===e?_.deg(n):1===e?_.deg(r):_.deg(n+(r-n)*t).to(o.unit)}}function kw(t){return(kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _w(t,e){return!e||"object"!==kw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ew(t,e,n){return(Ew="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$w(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $w(t){return($w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cw(t,e){return(Cw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tw,Rw=function(t){function e(){return Pw(this,e),_w(this,$w(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cw(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var n=pn(t);return n.str.split(",").filter((function(t){return t.trim()})).map((function(t){var r=t.split(" "),o=r.filter((function(t){return t.includes("@")})).map((function(t){return n.matches[+t.replace("@","")].color})),i=r.filter((function(t){return!t.includes("@")}));return e.parse({color:o[0]||"rgba(0, 0, 0, 1)",offsetX:_.parse(i[0]||"0px"),offsetY:_.parse(i[1]||"0px"),blurRadius:_.parse(i[2]||"0px")})}))}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(", ")}}],(r=[{key:"getDefaultObject",value:function(){return Ew($w(e.prototype),"getDefaultObject",this).call(this,{itemType:"text-shadow",offsetX:_.z(),offsetY:_.z(),blurRadius:_.z(),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jw(Object(n),!0).forEach((function(e){Sw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Ew($w(e.prototype),"toCloneObject",this).call(this),{offsetX:this.json.offsetX+"",offsetY:this.json.offsetY+"",blurRadius:this.json.blurRadius+"",color:this.json.color})}},{key:"convert",value:function(t){return(t=Ew($w(e.prototype),"convert",this).call(this,t)).offsetX=_.parse(t.offsetX),t.offsetY=_.parse(t.offsetY),t.blurRadius=_.parse(t.blurRadius),t}},{key:"toCSS",value:function(){return{"text-shadow":this.toString()}}},{key:"toString",value:function(){var t=this.json;return"".concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.color)}}])&&xw(n.prototype,r),o&&xw(n,o),e}(_i);function Dw(t,e,n,r){for(var o=Rw.parseStyle(n),i=Rw.parseStyle(r),a=Math.max(o.length,i.length),c=[],u=0,s=a;u<s;u++){var l=o[u]||Rw.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[u]||Rw.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0];c.push({offsetX:qg(t,e,l.offsetX,f.offsetX,"width","self"),offsetY:qg(t,e,l.offsetY,f.offsetY,"height","self"),blurRadius:qg(t,e,l.blurRadius,f.blurRadius,"radius"),color:yw(0,0,l.color,f.color)})}return function(t,e){return Rw.join(c.map((function(n){return{offsetX:n.offsetX(t,e),offsetY:n.offsetY(t,e),blurRadius:n.blurRadius(t,e),color:n.color(t,e)}})))}}function Vw(t,e,n,r){var o={cut:pw(0,0,n.cut,r.cut),percent:Kg(t,e,n.percent,r.percent),px:Kg(t,e,n.px,r.px),em:Kg(t,e,n.em,r.em),unit:dw(0,0,n.unit,r.unit),color:yw(0,0,n.color,r.color)};return function(t,e){return new Zi({cut:o.cut(t,e),percent:o.percent(t,e),px:o.px(t,e),em:o.em(t,e),unit:o.unit(t,e),color:o.color(t,e)})}}function Aw(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=Math.max(n.length,r.length),i=[],a=0;a<o;a++){var c=n[a],u=r[a];i[a]=c&&u?Vw(t,e,c,u):pw(0,0,c,u)}return function(t,e){return i.map((function(n){return n(t,e)}))}}function Iw(t,e,n,r){var o={angle:Kg(t,e,n.angle,r.angle),colorsteps:Aw(t,e,n.colorsteps,r.colorsteps)};return function(t,e){var n=o.colorsteps(t,e);return new Na({angle:o.angle(t,e),colorsteps:n})}}function Lw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Lw(Tw={},"center",!0),Lw(Tw,"top",!0),Lw(Tw,"left",!0),Lw(Tw,"right",!0),Lw(Tw,"bottom",!0);function Mw(t,e){switch(e){case"width":if("center"===t)return"50%";if("left"===t)return"0%";if("right"===t)return"100%";break;case"height":if("center"===t)return"50%";if("top"===t)return"0%";if("bottom"===t)return"100%"}return t}function zw(t,e,n,r){n.radialPosition[0]=Mw(n.radialPosition[0],"width"),n.radialPosition[1]=Mw(n.radialPosition[1],"height"),r.radialPosition[0]=Mw(r.radialPosition[0],"width"),r.radialPosition[1]=Mw(r.radialPosition[1],"height");var o={radialType:dw(0,0,n.radialType,r.radialType),radialPositionX:qg(t,e,n.radialPosition[0],r.radialPosition[0],"width","self"),radialPositionY:qg(t,e,n.radialPosition[1],r.radialPosition[1],"height","self"),colorsteps:Aw(t,e,n.colorsteps,r.colorsteps)};return function(t,e){return new dc({radialType:o.radialType(t,e),radialPosition:[o.radialPositionX(t,e),o.radialPositionY(t,e)],colorsteps:o.colorsteps(t,e)})}}function Bw(t,e,n,r){var o={angle:Kg(t,e,n.angle,r.angle),radialPositionX:qg(t,e,n.radialPosition[0],r.radialPosition[0],"width","self"),radialPositionY:qg(t,e,n.radialPosition[1],r.radialPosition[1],"height","self"),colorsteps:Aw(t,e,n.colorsteps,r.colorsteps)};return function(t,e){return new zc({angle:o.angle(t,e),radialPosition:[o.radialPositionX(t,e),o.radialPositionY(t,e)],colorsteps:o.colorsteps(t,e)})}}function Fw(t,e,n,r){var o={image:function(t,e){return e}};if("url"===n.type||"url"===r.type)o.image=pw(0,0,n,r);else if(n.type!=r.type)o.image=pw(0,0,n,r);else switch(n.type){case"linear-gradient":o.image=Iw(t,e,n,r);break;case"repeating-linear-gradient":o.image=function(t,e,n,r){var o=Iw(t,e,n,r);return function(t,e){var n=o(t,e);return new ec({angle:n.angle,colorsteps:n.colorsteps})}}(t,e,n,r);break;case"radial-gradient":o.image=zw(t,e,n,r);break;case"repeating-radial-gradient":o.image=function(t,e,n,r){var o=zw(t,e,n,r);return function(t,e){var n=o(t,e);return new Sc({radialType:n.radialType,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}(t,e,n,r);break;case"conic-gradient":o.image=Bw(t,e,n,r);break;case"repeating-conic-gradient":o.image=function(t,e,n,r){var o=Bw(t,e,n,r);return function(t,e){var n=o(t,e);return new Kc({angle:n.angle,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}(t,e,n,r)}return function(t,e){return o.image(t,e)}}function Hw(t,e,n,r){for(var o=cu.parseStyle(ve(n)),i=cu.parseStyle(ve(r)),a=Math.max(o.length,i.length),c=[],u=0,s=a;u<s;u++){var l=o[u]||null,f=i[u]||null;l&&!f?c.push({image:Wg(0,0,l.image),size:Wg(0,0,l.size),width:Wg(0,0,l.width),height:Wg(0,0,l.height),x:Wg(0,0,l.x),y:Wg(0,0,l.y),blendMode:Wg(0,0,l.blendMode),repeat:Wg(0,0,l.repeat)}):!l&&f?c.push({image:Wg(0,0,f.image),size:Wg(0,0,f.size),width:Wg(0,0,f.width),height:Wg(0,0,f.height),x:Wg(0,0,f.x),y:Wg(0,0,f.y),blendMode:Wg(0,0,f.blendMode),repeat:Wg(0,0,f.repeat)}):l&&f&&c.push({image:Fw(t,e,l.image,f.image),size:dw(0,0,l.size,f.size),width:qg(t,e,l.width,f.width,"width","self"),height:qg(t,e,l.height,f.height,"height","self"),x:qg(t,e,l.x,f.x,"width","self"),y:qg(t,e,l.y,f.y,"height","self"),blendMode:dw(0,0,l.blendMode,f.blendMode),repeat:dw(0,0,l.repeat,f.repeat)})}return function(t,e){return cu.join(c.map((function(n){return{image:n.image(t,e),size:n.size(t,e),x:n.x(t,e),y:n.y(t,e),width:n.width(t,e),height:n.height(t,e),blendMode:n.blendMode(t,e),repeat:n.repeat(t,e)}})))}}function Gw(t){return(Gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Xw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xw(Object(n),!0).forEach((function(e){Kw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ww(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zw(t,e,n){return e&&Uw(t.prototype,e),n&&Uw(t,n),t}function qw(t,e){return!e||"object"!==Gw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jw(t,e,n){return(Jw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qw(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Qw(t){return(Qw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tO(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eO(t,e)}function eO(t,e){return(eO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nO=/((blur|drop\-shadow|hue\-rotate|invert|brightness|contrast|opacity|saturate|sepia)\(([^\)]*)\))/gi,rO=function(t){function e(){return Ww(this,e),qw(this,Qw(e).apply(this,arguments))}return tO(e,t),Zw(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,Nw({itemType:"filter"},t))}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value||"",")")}}],[{key:"parse",value:function(t){var e=dO[t.type];return e?new e(t):new iO({value:t.type})}},{key:"parseStyle",value:function(t){var n=[];if(!t)return n;var r=pn(t);return(r.str.match(nO)||[]).forEach((function(t,o){var i=Yw(t.split("("),2),a=i[0],c=i[1];if(c=c.split(")")[0],"drop-shadow"===a){var u=c.split(" "),s=u.filter((function(t){return t.includes("@")})).map((function(t){return r.matches[+t.replace("@","")].color})),l=u.filter((function(t){return!t.includes("@")}));n[o]=e.parse({type:a,offsetX:_.parse(l[0]),offsetY:_.parse(l[1]),blurRadius:_.parse(l[2]),color:s[0]||"rgba(0, 0, 0, 1)"})}else n[o]=e.parse({type:a,value:_.parse(c)})})),n}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(" ")}}]),e}(_i),oO=function(t){function e(){return Ww(this,e),qw(this,Qw(e).apply(this,arguments))}return tO(e,t),Zw(e,[{key:"getDefaultObject",value:function(){return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,{type:"blur",value:e.spec.defaultValue})}},{key:"toCloneObject",value:function(){return Nw({},Jw(Qw(e.prototype),"toCloneObject",this).call(this),{value:_.parse(this.json.value)})}}]),e}(rO);oO.spec={inputType:"range",min:0,max:100,step:1,unit:"px",units:["px","em"],defaultValue:_.z()};var iO=function(t){function e(){return Ww(this,e),qw(this,Qw(e).apply(this,arguments))}return tO(e,t),Zw(e,[{key:"getDefaultObject",value:function(){return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,{type:"svg",value:e.spec.defaultValue})}},{key:"toCloneObject",value:function(){return Nw({},Jw(Qw(e.prototype),"toCloneObject",this).call(this),{value:_.parse(this.json.value)})}},{key:"toString",value:function(){return"url(#".concat(this.json.value||"",")")}}]),e}(rO);iO.spec={inputType:"select",defaultValue:""};var aO=function(t){function e(){return Ww(this,e),qw(this,Qw(e).apply(this,arguments))}return tO(e,t),Zw(e,[{key:"getDefaultObject",value:function(){return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,{type:"grayscale",value:e.spec.defaultValue})}},{key:"toCloneObject",value:function(){return Nw({},Jw(Qw(e.prototype),"toCloneObject",this).call(this),{value:_.parse(this.json.value)})}}]),e}(rO);aO.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:_.percent(0)};var cO=function(t){function e(){return Ww(this,e),qw(this,Qw(e).apply(this,arguments))}return tO(e,t),Zw(e,[{key:"getDefaultObject",value:function(){return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,{type:"hue-rotate",value:e.spec.defaultValue})}}]),e}(rO);cO.spec={inputType:"range",min:0,max:360,step:1,unit:"deg",units:["deg"],defaultValue:_.deg(0)};var uO=function(t){function e(){return Ww(this,e),qw(this,Qw(e).apply(this,arguments))}return tO(e,t),Zw(e,[{key:"getDefaultObject",value:function(){return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,{type:"invert",value:e.spec.defaultValue})}}]),e}(rO);uO.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:_.percent(0)};var sO=function(t){function e(){return Ww(this,e),qw(this,Qw(e).apply(this,arguments))}return tO(e,t),Zw(e,[{key:"getDefaultObject",value:function(){return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,{type:"brightness",value:e.spec.defaultValue})}}]),e}(rO);sO.spec={inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:_.percent(100)};var lO=function(t){function e(){return Ww(this,e),qw(this,Qw(e).apply(this,arguments))}return tO(e,t),Zw(e,[{key:"getDefaultObject",value:function(){return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,{type:"contrast",value:e.spec.defaultValue})}}]),e}(rO);lO.spec={inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:_.percent(100)};var fO=function(t){function e(){return Ww(this,e),qw(this,Qw(e).apply(this,arguments))}return tO(e,t),Zw(e,[{key:"getDefaultObject",value:function(){return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,{type:"opacity",value:e.spec.defaultValue})}}]),e}(rO);fO.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:_.percent(100)};var pO=function(t){function e(){return Ww(this,e),qw(this,Qw(e).apply(this,arguments))}return tO(e,t),Zw(e,[{key:"getDefaultObject",value:function(){return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,{type:"saturate",value:e.spec.defaultValue})}}]),e}(rO);pO.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:_.percent(100)};var yO=function(t){function e(){return Ww(this,e),qw(this,Qw(e).apply(this,arguments))}return tO(e,t),Zw(e,[{key:"getDefaultObject",value:function(){return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,{type:"sepia",value:e.spec.defaultValue})}}]),e}(rO);yO.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:_.percent(0)};var hO=function(t){function e(){return Ww(this,e),qw(this,Qw(e).apply(this,arguments))}return tO(e,t),Zw(e,[{key:"getDefaultObject",value:function(){return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,{type:"drop-shadow",multi:!0,offsetX:e.spec.offsetX.defaultValue,offsetY:e.spec.offsetY.defaultValue,blurRadius:e.spec.blurRadius.defaultValue,color:e.spec.color.defaultValue})}},{key:"toString",value:function(){var t=this.json;return"drop-shadow(".concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.color,")")}}]),e}(rO);hO.spec={offsetX:{title:"Offset X",inputType:"range",min:-100,max:100,step:1,defaultValue:_.z(),unit:"px",units:["px","em"]},offsetY:{title:"Offset Y",inputType:"range",min:-100,max:100,step:1,defaultValue:_.z(),unit:"px",units:["px","em"]},blurRadius:{title:"Blur Radius",inputType:"range",min:0,max:100,step:1,defaultValue:_.z(),unit:"px",units:["px","em","%"]},color:{title:"Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)",unit:"color"}};var dO={blur:oO,grayscale:aO,"hue-rotate":cO,invert:uO,brightness:sO,contrast:lO,opacity:fO,saturate:pO,sepia:yO,"drop-shadow":hO,svg:iO},vO={BlurFilter:oO,GrayscaleFilter:aO,HueRotateFilter:cO,InvertFilter:uO,BrightnessFilter:sO,ContrastFilter:lO,OpacityFilter:fO,SaturateFilter:pO,SepiaFilter:yO,DropshadowFilter:hO,URLSvgFilter:iO};function bO(t,e,n,r){var o={type:dw(0,0,n.type,r.type),value:pw(0,0,n.value,r.value)};switch(n.type){case"blur":o.value=qg(t,e,n.value,r.value);break;case"grayscale":case"invert":case"brightness":case"contrast":case"opacity":case"saturate":case"sepia":case"hue-rotate":o.value=Kg(t,e,n.value.value,r.value.value,n.value.unit);break;case"drop-shadow":o.offsetX=qg(t,e,n.offsetX,r.offsetX,"width","self"),o.offsetY=qg(t,e,n.offsetY,r.offsetY,"height","self"),o.blurRadius=qg(t,e,n.blurRadius,r.blurRadius,"width","self"),o.spreadRadius=qg(t,e,n.spreadRadius,r.spreadRadius,"width","self"),o.color=yw(0,0,n.color,r.color)}return function(t,e){return"drop-shadow"===o.type(t,e)?{type:o.type(t,e),offsetX:o.offsetX(t,e),offsetY:o.offsetY(t,e),blurRadius:o.blurRadius(t,e),spreadRadius:o.spreadRadius(t,e),color:o.color(t,e)}:{type:o.type(t,e),value:o.value(t,e)}}}function mO(t,e,n,r){for(var o=rO.parseStyle(n),i=rO.parseStyle(r),a=Math.max(o.length,i.length),c=[],u=0,s=a;u<s;u++){var l=o[u],f=i[u];l&&!f?c.push(Wg(0,0,l)):!l&&f?c.push(Wg(0,0,f)):l.type!=f.type||"svg"===l.type||"svg"===f.type?c.push(pw(0,0,l,f)):c.push(bO(t,e,l,f))}return function(t,e){return rO.join(c.map((function(n){return n(t,e)})))}}function gO(t,e,n,r){var o=ku.parseStyle(n),i=ku.parseStyle(r),a={type:pw(0,0,o.type,o.type),value:pw(0,0,n,r)};if(o.type==i.type&&"none"!=o)switch(o.type){case"circle":o.value=ku.parseStyleForCircle(o.value),i.value=ku.parseStyleForCircle(i.value),a.value=function(t,e,n,r){var o={};return"closest-side"===n.radius||"farthest-side"===n.radius||"closest-side"===r.radius||"farthest-side"===r.radius?o.radius=pw(0,0,n.radius,r.radius):n.radius.unit===r.radius.unit?o.radius=makeInterpolateNumber(t,e,n.radius.value,r.radius.value,n.radius.unit):o.radius=qg(t,e,n.radius,r.radius,"width","self"),o.x=qg(t,e,n.x,r.x,"width","self"),o.y=qg(t,e,n.y,r.y,"height","self"),function(t,e){var n=o.radius(t,e),r=o.x(t,e),i=o.y(t,e),a="".concat(r," ").concat(i),c=n+"";return c.includes("closest-side")?c="closest-side":c.includes("farthest-side")&&(c="farthest-side"),n?"".concat(c," at ").concat(a):"".concat(a)}}(t,e,o.value,i.value);break;case"ellipse":o.value=ku.parseStyleForEllipse(o.value),i.value=ku.parseStyleForEllipse(i.value),a.value=function(t,e,n,r){var o={radiusX:qg(t,e,n.radiusX,r.radiusX,"width","self"),radiusY:qg(t,e,n.radiusY,r.radiusY,"height","self"),x:qg(t,e,n.x,r.x,"width","self"),y:qg(t,e,n.y,r.y,"height","self")};return function(t,e){var n=o.radiusX(t,e),r=o.radiusY(t,e),i=o.x(t,e),a=o.y(t,e);return"".concat(n," ").concat(r," at ").concat(i," ").concat(a)}}(t,e,o.value,i.value);break;case"inset":o.value=ku.parseStyleForInset(o.value),i.value=ku.parseStyleForInset(i.value),a.value=function(t,e,n,r){var o={top:Kg(t,e,n.top.value,r.top.value,n.top.unit),left:Kg(t,e,n.left.value,r.left.value,n.left.unit),right:Kg(t,e,n.right.value,r.right.value,n.right.unit),bottom:Kg(t,e,n.bottom.value,r.bottom.value,n.bottom.unit),round:pw(0,0,n.round,r.round),topRadius:Kg(t,e,n.topRadius.value,r.topRadius.value,n.topRadius.unit),leftRadius:Kg(t,e,n.leftRadius.value,r.leftRadius.value,n.leftRadius.unit),rightRadius:Kg(t,e,n.rightRadius.value,r.rightRadius.value,n.rightRadius.unit),bottomRadius:Kg(t,e,n.bottomRadius.value,r.bottomRadius.value,n.bottomRadius.unit)};return function(t,e){var n=o.top(t,e),r=o.right(t,e),i=o.bottom(t,e),a=o.left(t,e),c=o.round(t,e),u=o.topRadius(t,e),s=o.leftRadius(t,e),l=o.bottomRadius(t,e),f=o.rightRadius(t,e),p=[n,r,i,a].join(" "),y=[u,f,l,s].join(" ");return"".concat(p," ").concat(c&&y.trim()?"round ".concat(y):"")}}(t,e,o.value,i.value);break;case"polygon":o.value=ku.parseStyleForPolygon(o.value),i.value=ku.parseStyleForPolygon(i.value),a.value=function(t,e,n,r){for(var o=Math.max(n.length,r.length),i=[],a=0;a<o;a++){var c=n[a],u=r[a];c&&!u?i.push({x:Wg(0,0,c.x),y:Wg(0,0,c.y)}):!c&&u?i.push({x:Wg(0,0,u.x),y:Wg(0,0,u.y)}):i.push({x:qg(t,e,c.x,u.x,"width","self"),y:qg(t,e,c.y,u.y,"height","self")})}return function(t,e){return i.map((function(n){return"".concat(n.x(t,e)," ").concat(n.y(t,e))})).join(",")}}(t,e,o.value,i.value);break;case"path":o.value=ku.parseStyleForPath(o.value),i.value=ku.parseStyleForPath(i.value),a.value=makeInterpolateClipPathPath(t,e,o.value,i.value)}return function(t,e){var n=a.type(t,e),r=a.value(t,e);return"none"===n?n:"".concat(n,"(").concat(r,")")}}function wO(t,e,n,r){for(var o={type:pw(0,0,n.type,r.type)},i=[],a=Math.max(n.value.length,r.value.length),c=0;c<a;c++){var u=n.value[c],s=r.value[c];u&&s?i.push(qg(t,e,u,s,n.type)):i.push(qg(t,e,n.value[c]||n.value[c-1]||n.value[c-2],r.value[c]||r.value[c-1]||r.value[c-2],n.type))}return o.value=i,function(t,e){return{type:o.type(t,e),value:o.value.map((function(n){return n(t,e)}))}}}function OO(t,e,n,r){for(var o={type:pw(0,0,n.type,r.type)},i=[],a=Math.max(n.value.length,r.value.length),c=0;c<a;c++){var u=n.value[c],s=r.value[c];if(u&&s)i.push(Kg(t,e,u.value,s.value));else{var l=n.value[c].value||n.value[c-1].value||n.value[c-2].value,f=r.value[c].value||r.value[c-1].value||n.value[c-2].value;i.push(Kg(t,e,l,f))}}return o.value=i,function(t,e){var n=o.value.map((function(n){return n(t,e)})),r=o.type(t,e);return(r.includes("matrix")||r.includes("scale"))&&(n=n.map((function(t){return _.number(t)}))),{type:r,value:n}}}function kO(t,e,n,r){for(var o={type:pw(0,0,n.type,r.type)},i=[],a=Math.max(n.value.length,r.value.length),c=0;c<a;c++){var u=n.value[c],s=r.value[c];u&&s?i.push(Ow(0,0,u,s)):i.push(Ow(0,0,n.value[c]||n.value[c-1]||n.value[c-2],r.value[c]||r.value[c-1]||n.value[c-2]))}return o.value=i,function(t,e){return{type:o.type(t,e),value:o.value.map((function(n){return n(t,e)}))}}}function jO(t,e,n,r){for(var o=us.parseStyle(n.trim()),i=us.parseStyle(r.trim()),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++){var s=o[u],l=i[u];if(s&&!l)c.push(Wg(0,0,s));else if(!s&&l)c.push(Wg(0,0,l));else if(s.type!=l.type)c.push(pw(0,0,s,l));else switch(s.type){case"skewX":case"skewY":case"translate":case"translateX":case"translateY":case"translateZ":case"translate3d":case"perspective":c.push(wO(t,e,s,l));break;case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"rotate3d":c.push(kO(0,0,s,l));break;case"scale":case"scaleX":case"scaleY":case"scaleZ":case"scale3d":case"matrix":case"matrix3d":c.push(OO(t,e,s,l))}}return function(t,e){return us.join(c.map((function(n){return n(t,e)})))}}function SO(t,e,n,r){for(var o=n.split(" ").map((function(t){return _.parse(t)})),i=r.split(" ").map((function(t){return _.parse(t)})),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++){var s=o[u],l=i[u];c.push(qg(t,e,s,l,"transform-origin"))}return function(t,e){return c.map((function(n){return n(t,e)})).join(" ")}}function PO(t,e,n,r){for(var o=n.split(" ").map((function(t){return _.parse(t)})),i=r.split(" ").map((function(t){return _.parse(t)})),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++){var s=o[u],l=i[u];c.push(qg(t,e,s,l,"perspective-origin"))}return function(t,e){return c.map((function(n){return n(t,e)})).join(" ")}}function xO(t,e,n,r){for(var o=n.split(" ").map((function(t){return+t})),i=r.split(" ").map((function(t){return+t})),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++){var s=o[u],l=i[u];c.push(Kg(t,e,s,l))}return function(t,e){return c.map((function(n){return n(t,e)})).join(" ")}}function _O(t,e,n,r){for(var o=Math.max(n.length,r.length),i=[],a=n[n.length-1],c=r[r.length-1],u=0;u<o;u++){var s=n[u],l=r[u];s&&!l?i.push(Kg(t,e,s,c)):!s&&l?i.push(Kg(t,e,a,l)):i.push(Kg(t,e,s,l))}return function(t,e){return i.map((function(n){return n(t,e)}))}}function EO(t,e,n,r){for(var o=new Ro,i=new Ro(n),a=new Ro(r),c=Math.max(i.segments.length,a.segments.length),u=[],s=0;s<c;s++){var l=i.segments[s],f=a.segments[s];l.command===f.command?l.values.length===f.values.length?u.push({command:Wg(0,0,l.command),values:_O(t,e,l.values,f.values)}):u.push({command:Wg(0,0,l.command),values:Wg(0,0,l.values)}):u.push({command:pw(0,0,l.command,f.command),values:pw(0,0,l.values,f.values)})}return function(t,e){var n=u.map((function(n){return{command:n.command(t,e),values:n.values(t,e)}}));return o.joinPath(n)}}function $O(t){return($O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function CO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function TO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DO(t,e){return!e||"object"!==$O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VO(t){return(VO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function AO(t,e){return(AO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var IO=/[\b\t \,]/g,LO=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return TO(this,e),DO(this,VO(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AO(t,e)}(e,t),n=e,(r=[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.points=t,this.parse()}},{key:"resetSegments",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.segments=t,this.points=this.joinPoints()}},{key:"parse",value:function(){var t=this.points;ee(t)&&(t=t.join(" "));for(var e=t.trim().split(IO).filter((function(t){return t})),n=[],r=0,o=e.length;r<o;r+=2)n.push({x:+e[r],y:+e[r+1]});this.segments=n}},{key:"convertGenerator",value:function(){return this.segments}},{key:"length",value:function(){return this.segments.length}},{key:"toPathString",value:function(){for(var t=new Bo,e=0,n=this.segments.length;e<n;e++){var r=this.segments[e];0===e?t.M(r):e===n-1?t.L(r).L(this.segments[0]).Z():t.L(r)}return t.d}},{key:"joinPath",value:function(t){return this.joinPoints(t)}},{key:"joinPoints",value:function(t){return(t||this.segments).map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"each",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.segments.map((function(n){return t.call(e,n)}));if(n)return r;this.segments=r}},{key:"_loop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(e){var n=CO(t([e.x,e.y],0),2),r=n[0],o=n[1];return e.x=r,e.y=o,e}),e)}},{key:"clone",value:function(){return new e(this.joinPoints())}},{key:"toString",value:function(){return this.joinPoints()}}])&&RO(n.prototype,r),o&&RO(n,o),e}(Ro);function MO(t,e,n,r){for(var o=new LO,i=new LO(n),a=new LO(r),c=Math.max(i.segments.length,a.segments.length),u=[],s=i.segments[i.segments.length-1].x,l=i.segments[i.segments.length-1].y,f=a.segments[a.segments.length-1].x,p=a.segments[a.segments.length-1].y,y=0;y<c;y++){var h=i.segments[y],d=a.segments[y];h&&!d?u.push({x:Kg(t,e,h.x,f),y:Kg(t,e,h.y,p)}):!h&&d?u.push({x:Kg(t,e,s,d.x),y:Kg(t,e,l,d.y)}):u.push({x:Kg(t,e,h.x,d.x),y:Kg(t,e,h.y,d.y)})}return function(t,e){return o.joinPoints(u.map((function(n){return{x:n.x(t,e),y:n.y(t,e)}})))}}function zO(t,e,n,r){var o={x:Kg("","",t,n),y:Kg("","",e,r)};return function(t,e){return{x:o.x(t,e),y:o.y(t,e)}}}function BO(t,e,n,r,o,i){var a=[{x:t,y:e},{x:n,y:r},{x:o,y:i}];return function(t,e){return Rt(a,e)}}function FO(t,e,n,r,o,i,a,c){var u=[{x:t,y:e},{x:n,y:r},{x:o,y:i},{x:a,y:c}];return function(t,e){return Tt(u,e)}}function HO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function GO(t){var e=[],n=[];t.forEach((function(t,r){switch(t.command){case"M":var o=HO(t.values,2),i=o[0],a=o[1];n=[i,a];break;case"m":var c=HO(n,2),u=c[0],s=c[1],l=HO(t.values,2);i=l[0],a=l[1];n=[i+=u,a+=s];break;case"L":var f=HO(n,2),p=(u=f[0],s=f[1],HO(t.values,2));i=p[0],a=p[1];e.push({command:t.command,values:[u,s,i,a],length:G(u,s,i,a),interpolate:zO(u,s,i,a)}),n=[i,a];break;case"l":var y=HO(n,2),h=(u=y[0],s=y[1],HO(t.values,2));i=h[0],a=h[1];i+=u,a+=s,e.push({command:t.command,values:[u,s,i,a],length:G(u,s,i,a),interpolate:zO(u,s,i,a)}),n=[i,a];break;case"C":var d=HO(n,2),v=(u=d[0],s=d[1],HO(t.values,6)),b=v[0],m=v[1],g=v[2],w=v[3];i=v[4],a=v[5];e.push({command:t.command,values:[u,s,b,m,g,w,i,a],length:jt(u,s,b,m,g,w,i,a),interpolate:FO(u,s,b,m,g,w,i,a)}),n=[i,a];break;case"c":var O=HO(n,2),k=(u=O[0],s=O[1],HO(t.values,6));b=k[0],m=k[1],g=k[2],w=k[3],i=k[4],a=k[5];b+=u,g+=u,i+=u,m+=s,w+=s,a+=s,e.push({command:t.command,values:[u,s,b,m,g,w,i,a],length:jt(u,s,b,m,g,w,i,a),interpolate:FO(u,s,b,m,g,w,i,a)}),n=[i,a];break;case"Q":var j=HO(n,2),S=(u=j[0],s=j[1],HO(t.values,4));b=S[0],m=S[1],i=S[2],a=S[3];e.push({command:t.command,values:[u,s,b,m,i,a],length:St(u,s,b,m,i,a),interpolate:BO(u,s,b,m,i,a)}),n=[i,a];break;case"q":var P=HO(n,2),x=(u=P[0],s=P[1],HO(t.values,4));b=x[0],m=x[1],i=x[2],a=x[3];b+=u,i+=u,m+=s,a+=s,e.push({command:t.command,values:[u,s,b,m,i,a],length:St(u,s,b,m,i,a),interpolate:BO(u,s,b,m,i,a)}),n=[i,a];break;case"S":var _=HO(n,2),E=(u=_[0],s=_[1],HO(t.values,4)),$=(g=E[0],w=E[1],i=E[2],a=E[3],e[e.length-1]);if(["C","c","S","s"].includes($.command)){var C=HO($.values,8),T=(C[0],C[1],C[2],C[3],C[4]),R=C[5],D=C[6],V=C[7],A=So.getReversePoint({x:D,y:V},{x:T,preC1y:R});b=A.x,m=A.y;e.push({command:t.command,values:[u,s,b,m,g,w,i,a],length:getCubicDist(u,s,b,m,g,w,i,a),interpolate:FO(u,s,b,m,g,w,i,a)}),n=[i,a];break}case"s":var I=HO(n,2),L=(u=I[0],s=I[1],HO(t.values,4));g=L[0],w=L[1],i=L[2],a=L[3];g+=u,i+=u,w+=s,a+=s;$=e[e.length-1];if(["C","c","S","s"].includes($.command)){var M=HO($.values,8),z=(M[0],M[1],M[2],M[3],T=M[4],R=M[5],D=M[6],V=M[7],So.getReversePoint({x:D,y:V},{x:T,preC1y:R}));b=z.x,m=z.y;e.push({command:t.command,values:[u,s,b,m,g,w,i,a],length:getCubicDist(u,s,b,m,g,w,i,a),interpolate:FO(u,s,b,m,g,w,i,a)}),n=[i,a];break}case"T":var B=HO(n,2),F=(u=B[0],s=B[1],HO(t.values,2));i=F[0],a=F[1],$=e[e.length-1];if(["Q","q","T","t"].includes($.command)){var H=HO($.values,6),Y=(H[0],H[1],T=H[2],R=H[3],D=H[4],V=H[5],So.getReversePoint({x:D,y:V},{x:T,preC1y:R}));b=Y.x,m=Y.y;e.push({command:t.command,values:[u,s,b,m,i,a],length:St(u,s,b,m,i,a),interpolate:BO(u,s,b,m,i,a)}),n=[i,a]}break;case"t":var X=HO(n,2),N=(u=X[0],s=X[1],HO(t.values,2));i=N[0],a=N[1];i+=u,a+=s;$=e[e.length-1];if(["Q","q","T","t"].includes($.command)){var K=HO($.values,6),W=(K[0],K[1],T=K[2],R=K[3],D=K[4],V=K[5],So.getReversePoint({x:D,y:V},{x:T,preC1y:R}));b=W.x,m=W.y;e.push({command:t.command,values:[u,s,b,m,i,a],length:St(u,s,b,m,i,a),interpolate:BO(u,s,b,m,i,a)}),n=[i,a]}}}));var r=0;e.forEach((function(t){r+=t.length}));var o=0;return e.forEach((function(t){t.startT=o/r,t.endT=(o+t.length)/r,t.totalLength=r,o+=t.length})),{totalLength:r,interpolateList:e}}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function XO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function KO(t,e,n,r,o){var i=NO(n.split(",").map((function(t){return t.trim()})),4),a=i[0],c=i[1],u=i[2],s=i[3],l={id:a,distance:_.parse(c||"0%"),rotateStatus:u||"auto",rotate:_.parse(s||"0deg")},f=function(t,e){return{x:x,y:y}},p=0,h=0;if(o){var d=o.searchById(l.id);d&&(p=d.screenX.value,h=d.screenY.value),f=function(t,e,n){var r=GO(new Ro(d.d||"").segments),o=r.totalLength,i=r.interpolateList,a=l.distance.toPx(o);(e+=a/o)>1&&(e-=1);var c=i[0];0===e?c=i[0]:1===e&&(c=i[i.length-1]);var u=i.find((function(t){return t.startT<=e&&e<t.endT}));u&&(c=u);var s=(e-c.startT)/(c.endT-c.startT),f=n(s);return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?YO(Object(n),!0).forEach((function(e){XO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},c.interpolate(f,s,n),{totalLength:c.totalLength})}}return function(e,n,r){var o=(t["transform-origin"]||"50% 50%").split(" ").map((function(t){return _.parse(t)})),i=o[0].toPx(t.width.value),a=o[1].toPx(t.height.value),c=f(e,n,r),u={x:c.x+p-i.value,y:c.y+h-a.value};if(t.setScreenX(u.x),t.setScreenY(u.y),"element"===l.rotateStatus);else{var s=c,y=0;n<1&&(y=1/c.totalLength);var d=f(e+y,n+y,r),v=Y(d.x-s.x,d.y-s.y),b=_.deg(function(t,e){var n=0;switch(t){case"angle":n=l.rotate.value;break;case"auto angle":n=e+l.rotate.value;break;case"reverse":n=e+180;break;case"auto":n=e}return n}(l.rotateStatus,v));t.reset({transform:us.rotate(t.transform,b)})}return u}}function WO(t,e,n,r){arguments.length>4&&void 0!==arguments[4]&&arguments[4];var o=r.length-1,i=0;return function(t,e){return 0===e?"":1===e?r:r.substring(i,Math.floor((o-i)*e))}}function UO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ZO(t,e,n,r,o,i){var a=i.$("video").el,c=UO(n.split(":"),3),u=c[0],s=(c[1],+(u||0)*+(c[2]||1));return function(e,n){0===n?(a.currentTime=s,a.paused&&a.play()):1===n?(t.reset({currentTime:a.currentTime}),a.pause()):a.paused&&a.play()}}function qO(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function JO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var QO=function(){return function(t,e){}};function tk(t,e,n,r,o,i,a){var c=o||e;switch(c){case"width":case"x":return qg(t,e,n,r,"width");case"height":case"y":return qg(t,e,n,r,"height");case"perspective":case"font-size":case"font-stretch":case"font-weight":case"text-stroke-width":case"RangeEditor":case"textLength":case"startOffset":return qg(t,e,n,r,e);case"fill-opacity":case"opacity":case"stroke-dashoffset":case"currentTime":case"NumberRangeEditor":return Kg(t,e,+n,+r);case"background-color":case"color":case"text-fill-color":case"text-stroke-color":case"fill":case"stroke":case"ColorViewEditor":return yw(0,0,n,r);case"mix-blend-mode":case"fill-rule":case"stroke-linecap":case"stroke-linejoin":case"SelectEditor":case"lengthAdjust":return dw(0,0,n,r);case"rotate":return Ow(0,0,n,r)}var u=function(t){switch(t){case"border-radius":return ew;case"border":return makeInterpolateBorder;case"box-shadow":return hw;case"text-shadow":return Dw;case"background-image":case"BackgroundImageEditor":return Hw;case"filter":case"backdrop-filter":return mO;case"clip-path":return gO;case"transform":return jO;case"transform-origin":return SO;case"perspective-origin":return PO;case"stroke-dasharray":return xO;case"d":return EO;case"points":return MO;case"offset-path":return KO;case"text":return WO;case"playTime":return ZO}}(c);return u?u(t,e,n,r,i,a):QO}function ek(t,e,n,r,o,i,a){return tk(t,e,n,r,o,i,a)}function nk(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"linear",e=t.split("(").map((function(t){return t.trim()})),n=JO(e,2),r=n[0],o=n[1];o=(o||"").split(")")[0].trim();var i=ww[r];if(i){var a=t.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()}));return i.apply(void 0,qO(a))}return rk(t)}function rk(t){var e=$t(t);return function(t){return e(t).y}}function ok(t){return(ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ik(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ck(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ak(Object(n),!0).forEach((function(e){uk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function uk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fk(t,e){return!e||"object"!==ok(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pk(t,e,n){return(pk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function yk(t){return(yk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hk(t,e){return(hk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dk=function(t){function e(){return sk(this,e),fk(this,yk(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hk(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}}],(r=[{key:"getDefaultObject",value:function(){return pk(yk(e.prototype),"getDefaultObject",this).call(this,{itemType:"offset",offset:_.percent(0),color:"rgba(255, 255, 255, 1)",properties:[]})}},{key:"toCloneObject",value:function(){return ck({},pk(yk(e.prototype),"toCloneObject",this).call(this),{offset:this.json.offset+"",color:this.json.color,properties:this.json.properties.map((function(t){return ue(t)}))})}},{key:"convert",value:function(t){return(t=pk(yk(e.prototype),"convert",this).call(this,t)).offset=_.parse(t.offset),t}},{key:"toCSSText",value:function(){return"".concat(this.json.offset," ").concat(de(this.toCSS()))}},{key:"createProperty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addProperty(ck({checked:!0,value:_.z()},t))}},{key:"addProperty",value:function(t){this.json.properties.push(t)}},{key:"removeProperty",value:function(t){this.json.properties.splice(t,1)}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(ik(t.splice(e,1))))}},{key:"sortProperty",value:function(t,e){this.sortItem(this.json.properties,t,e)}},{key:"updateProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(this.json.properties[+t],ck({},e))}},{key:"updatePropertyByKey",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.json.properties,r=-1,o=0,i=n.length;o<i;o++)if(this.json.properties[o].key===t){r=o;break}Object.assign(this.json.properties[+r],ck({},e))}},{key:"toCSS",value:function(){var t={};return this.json.properties.forEach((function(e){t=ck({},t,{},e.toCSS())})),t}},{key:"toString",value:function(){return this.toCSSText()}}])&&lk(n.prototype,r),o&&lk(n,o),e}(_i);function vk(t){return(vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bk(t){return function(t){if(Array.isArray(t))return t}(t)||gk(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mk(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||gk(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function gk(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ok(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wk(Object(n),!0).forEach((function(e){kk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pk(t,e){return!e||"object"!==vk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xk(t,e,n){return(xk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_k(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _k(t){return(_k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ek(t,e){return(Ek=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $k=function(t){function e(){return jk(this,e),Pk(this,_k(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ek(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var n=[],r={};if(t.keyframe){var o=pn(t.keyframe);o.str.split("|").map((function(t){return t.trim()})).forEach((function(t,i){var a=bk(t.split(" ")),c=a[0],u=a[1],s=a[2],l=a.slice(3).join(" ");r[c]||(r[c]=new e({name:c}),n[i]=c);var f=r[c].offsets.filter((function(t){return t.offset.equals(_.parse(u))})),p=null;f.length?p=f[0]:(p=new dk({offset:_.parse(u)}),r[c].offsets.push(p)),p.addProperty({key:s,value:hn(l,o.matches)})}))}return n.map((function(t){return r[t].offsets.forEach((function(t){var e=[],n=[];t.properties.forEach((function(t){t.key.includes("--")?e.push(t):n.push(t)}));var r=e.map((function(t){return"".concat(t.key,":").concat(t.value)})).join(";");e.length&&n.push({key:"var",value:r}),t.properties=n})),r[t]}))}}],(r=[{key:"getDefaultObject",value:function(){return xk(_k(e.prototype),"getDefaultObject",this).call(this,{itemType:"keyframe",name:"sample",selectedType:"list",offsets:[]})}},{key:"toCloneObject",value:function(){var t=this.json,n=t.name,r=t.selectedType,o=t.offsets;return Ok({},xk(_k(e.prototype),"toCloneObject",this).call(this),{name:n,selectedType:r,offsets:o.map((function(t){return t.clone()}))})}},{key:"isMultiStyle",value:function(t){switch(t){case"background-image":case"var":return!0}return!1}},{key:"getMultiStyleString",value:function(t){switch(t.key){case"background-image":return t.value.toString()+";";case"var":return(t.value+"").split(";").map((function(t){return"--"+t})).join(";")+";"}return t.value.toString()+";"}},{key:"toOffsetString",value:function(t){var e=this;return"".concat(t.offset.toString()," {\n").concat("      ").concat(t.properties.map((function(t){if(e.isMultiStyle(t.key))return e.getMultiStyleString(t);var n=(t.value||"").toString();if(n){var r=t.key;return"x"===r?r="left":"y"===r&&(r="top"),"".concat(r,": ").concat(n,";")}return""})).join("").replace(/\;/g,";\n      ").trim(),"\n  }")}},{key:"toOffsetText",value:function(){var t=this,e=this.json.offsets.map((function(t){return t}));return e.sort((function(t,e){return t.offset.value>e.offset.value?1:-1})),e.map((function(e){return 0===e.properties.length?"":t.toOffsetString(e)})).join("\n")}},{key:"toCSSText",value:function(){return this.json.offsets.map((function(t){return t})).sort((function(t,e){return t.offset.value>e.offset.value?1:-1})),"\n@keyframes ".concat(this.json.name," {\n\n  ").concat(this.toOffsetText(),"\n\n}\n")}},{key:"createOffset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addOffset(new dk(Ok({checked:!0},t)))}},{key:"addOffset",value:function(t){this.json.offsets.push(t)}},{key:"removeOffset",value:function(t){this.json.offsets.splice(t,1)}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(mk(t.splice(e,1))))}},{key:"sortOffset",value:function(t,e){this.sortItem(this.json.offsets,t,e)}},{key:"updateOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.offsets[+t].reset(e)}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){return this.toCSSText()}}])&&Sk(n.prototype,r),o&&Sk(n,o),e}(_i);function Ck(t){return(Ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tk(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rk(Object(n),!0).forEach((function(e){Vk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ak(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ik(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lk(t,e){return!e||"object"!==Ck(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mk(t,e,n){return(Mk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function zk(t){return(zk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bk(t,e){return(Bk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fk(t){return(Fk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hk(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gk(Object(n),!0).forEach((function(e){Xk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wk(t,e){return!e||"object"!==Fk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Uk(t,e,n){return(Uk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Zk(t){return(Zk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qk(t,e){return(qk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jk=function(t){function e(){return Nk(this,e),Wk(this,Zk(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qk(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Uk(Zk(e.prototype),"getDefaultObject",this).call(this,Yk({timeline:[],compiledTimeline:{}},t))}},{key:"expectJSON",value:function(t){return"compiledTimeline"!==t&&Uk(Zk(e.prototype),"expectJSON",this).call(this,t)}},{key:"setTimelineInfo",value:function(t){var e=this.getSelectedTimeline();e&&["speed","iterationCount","direction"].forEach((function(n){te(t[n])&&(e[n]=t[n])}))}},{key:"compileAll",value:function(){var t=this,e=this.getSelectedTimeline();this.json.compiledTimeline={},e&&e.animations.forEach((function(e){e.properties.forEach((function(n){t.compiledTimingFunction(e.id,n.property)}))}))}},{key:"searchTimelineOffset",value:function(t){var e=this,n=this.getSelectedTimeline(),r=[];return n&&n.animations.forEach((function(n){n.properties.forEach((function(o){var i=e.getCompiledTimingFunction(n.id,o.property);r.push(i.find((function(e){return!!(e.isOnlyTime&&e.startTime<=t)||e.startTime<=t&&t<e.endTime})))}))})),r.filter((function(t){return t}))}},{key:"getCompiledTimingFunction",value:function(t,e){return this.json.compiledTimeline["".concat(t,".").concat(e)]}},{key:"compiledTimingFunction",value:function(t,e){var n=this,r=this,o=this.getTimelineProperty(t,e),i=this.searchById(t),a="".concat(t,".").concat(e);if(1!==o.keyframes.length){var c=Wn.body().$('[data-id="'.concat(t,'"]')),u=o.keyframes.map((function(t){return t.editor}))[0];this.json.compiledTimeline[a]=o.keyframes.map((function(t,e){var a=t,s=o.keyframes[e+1];t.editor=u,s||(s={time:t.time,value:t.value});var l={layer:i,layerElement:c,property:o.property,isOnlyTime:a.time===s.time,startTime:t.time,endTime:s.time,startValue:t.value,endValue:s.value,timing:t.timing,interpolateFunction:ek(i,o.property,t.value,s.value,t.editor,r,c),timingFunction:nk(t.timing)};return l.func=n.makeTimingFunction(l),l})).filter((function(t){return t}))}else this.json.compiledTimeline[a]=[]}},{key:"makeTimingFunction",value:function(t){return function(e){var n=t.endTime-t.startTime,r=1;return 0!==n&&(r=(e-t.startTime)/n),t.interpolateFunction(t.timingFunction(r),r,n,t.timingFunction)}}},{key:"stop",value:function(t){var e=this.getSelectedTimeline();if(e){var n=e.currentTime;this.searchTimelineOffset(n).forEach((function(t){if("playTime"===t.property){var e=t.layerElement.$("video");e&&e.el.pause()}}))}}},{key:"seek",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=this.getSelectedTimeline();if(n){te(t)&&this.setTimelineCurrentTime(t);var r=n.currentTime;this.searchTimelineOffset(r).filter(e).forEach((function(t){"offset-path"===t.property||"playTime"===t.property?t.func(r):t.layer&&t.layer.reset(Xk({},t.property,t.func(r)))}))}}},{key:"getSelectedTimeline",value:function(){var t=this.json.timeline,e=t.filter((function(t){return t.selected}));return(e.length?e[0]:t[0])||null}},{key:"getKeyframeListReturnArray",value:function(){var t=this.getSelectedTimeline(),e=[];return t&&t.animations.forEach((function(t){t.properties.forEach((function(t){e.push.apply(e,Hk(t.keyframes))}))})),e}},{key:"getKeyframeList",value:function(t){var e=this.getSelectedTimeline();e&&e.animations.forEach((function(n){n.properties.forEach((function(n){n.keyframes.forEach((function(n){t&&t(e,n)}))}))}))}},{key:"getSelectedTimelineLastTime",value:function(){var t=0;return this.getKeyframeList((function(e,n){t=Math.max(n.time,t)})),t}},{key:"getSelectedTimelineFirstTime",value:function(){var t=Number.MAX_SAFE_INTEGER;return this.getKeyframeList((function(e,n){t=Math.min(n.time,t)})),t}},{key:"getSelectedTimelinePrevTime",value:function(){var t=this.getSelectedTimelineFirstTime();return this.getKeyframeList((function(e,n){Zp(e.fps,n.time)<e.currentTimecode&&(t=Math.max(n.time,t))})),t}},{key:"getSelectedTimelineNextTime",value:function(){var t=this.getSelectedTimelineLastTime();return this.getKeyframeList((function(e,n){Zp(e.fps,n.time)>e.currentTimecode&&(t=Math.min(n.time,t))})),t}},{key:"setTimelineTitle",value:function(t,e){var n=this.json.timeline.find((function(e){return e.id===t}));n&&(n.title=e)}},{key:"selectTimeline",value:function(t){t?this.json.timeline.forEach((function(e){e.selected=e.id===t})):this.json.timeline.filter((function(t){return t.selected})).length||this.json.timeline.length&&(this.json.timeline.selected=!0),this.compileAll()}},{key:"removeAnimation",value:function(t){this.json.timeline=this.json.timeline.filter((function(e){return e.id!==t})),this.json.timeline.length&&(this.json.timeline[0].selected=!0),this.compileAll()}},{key:"addTimeline",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00:00:10:00",n=Z(),r=Yk({id:n,title:"sample"},this.getTimelineLayerInfo(t,e),{animations:[]});return this.json.timeline.push(r),this.selectTimeline(n),r}},{key:"addTimelineLayer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"00:00:10:00",r=this.getSelectedTimeline();if(r||(r=this.addTimeline(e,n)),r.selected=!0,t){var o=r.animations.filter((function(e){return e.id===t}));o[0]||r.animations.push({id:t,properties:[]})}}},{key:"getTimelineLayerInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00:00:10:00",n=Up(t,e);return{fps:t,speed:1,direction:"normal",iterationCount:1,currentTimecode:Zp(t,0),totalTimecode:Zp(t,n),currentTime:0,totalTime:n,displayStartTime:0,displayEndTime:n}}},{key:"setTimelineCurrentTime",value:function(t){var e=this.getSelectedTimeline(),n=e.fps,r=e.totalTimecode;if(e){var o=t,i=t;+o+""===o&&(i=qp(n,o=+o)),i>r&&(i=r);var a=Up(n,i);e.currentTime=a,e.currentTimecode=Zp(n,a)}}},{key:"setDisplayTimeDxRate",value:function(t,e,n){var r=this.getSelectedTimeline();if(r){var o=t*r.totalTime,i=e+o,a=n+o;i=Math.max(i,0),0===(i=Math.min(i,a))&&(a=n-e),a=Math.max(a,i),(a=Math.min(a,r.totalTime))===r.totalTime&&(i=r.totalTime-(n-e)),r.displayStartTime=i,r.displayEndTime=a}}},{key:"setDisplayStartTimeRate",value:function(t){var e=this.getSelectedTimeline();e&&(e.displayStartTime=t*e.totalTime)}},{key:"setDisplayEndTimeRate",value:function(t){var e=this.getSelectedTimeline();e&&(e.displayEndTime=t*e.totalTime)}},{key:"setTimelineCurrentTimeRate",value:function(t){var e=this.getSelectedTimeline();if(e){var n=e.displayStartTime,r=e.displayEndTime,o=e.fps,i=n+(r-n)*t;this.setTimelineCurrentTime(Zp(o,i))}}},{key:"setTimelineTotalTime",value:function(t){var e=this.getSelectedTimeline();if(e){var n=t,r=t;+n+""===n&&(n=+n,r=qp(e.fps,n)),Up(e.fps,r)<e.displayEndTime&&(e.displayEndTime=Up(e.fps,r),e.displayStartTime=0),e.totalTimecode=r,e.totalTime=Up(e.fps,r)}}},{key:"getTimelineObject",value:function(t){var e=this.getSelectedTimeline();if(e)return e.animations.find((function(e){return e.id===t}))}},{key:"addTimelineProperty",value:function(t,e){this.addTimelineLayer(t);var n=this.getTimelineObject(t);n&&(n.properties.filter((function(t){return t.property===e})).length||(n.properties.push({property:e,keyframes:[]}),this.compiledTimingFunction(t,e)))}},{key:"getTimelineProperty",value:function(t,e){var n=this.getSelectedTimeline();if(n){t=t||n.selectedLayerId,e=e||n.selectedProperty;var r=this.getTimelineObject(t);if(r)return r.properties.find((function(t){return t.property===e}))}}},{key:"setSelectedOffset",value:function(t,e,n){var r=this.getSelectedTimeline();r&&(r.selectedLayerId=t,r.selectedProperty=e,r.selectedOffsetTime=n,this.getTimelineProperty().keyframes.forEach((function(t){t.selected=t.time===n})))}},{key:"deleteTimelineKeyframe",value:function(t,e,n){var r=this.getTimelineProperty(t,e);r&&(r.keyframes=r.keyframes.filter((function(t){return t.id!=n})))}},{key:"removeTimelineProperty",value:function(t,e){var n=this.getTimelineObject(t);n&&(n.properties=n.properties.filter((function(t){return t.property!=e})))}},{key:"removeTimeline",value:function(t){var e=this.getSelectedTimeline();e&&(e.animations=e.animations.filter((function(e){return e.id!=t})))}},{key:"setTimelineKeyframeOffsetTime",value:function(t,e,n,r){var o=this.getTimelineKeyframeById(t,e,n);o&&(o.time=r,this.compiledTimingFunction(t,e))}},{key:"setTimelineKeyframeOffsetValue",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.getTimelineKeyframeById(t,e,n);a&&(te(i)&&(a.time=i),te(r)&&(a.value=r),te(o)&&(a.timing=o),this.compiledTimingFunction(t,e))}},{key:"addTimelineKeyframe",value:function(t){var e=t.layerId,n=t.property,r=t.value,o=t.timing,i=t.time,a=t.editor;this.addTimelineProperty(e,n);var c=this.getSelectedTimeline(),u=this.getTimelineProperty(e,n);if(u){var s=i||c.currentTime;if(!u.keyframes.filter((function(t){return t.time===s})).length){r=Qt(r)||""===r?this.getDefaultPropertyValue(n):r;var l={id:Z(),layerId:e,property:n,time:s,value:r,timing:o||"linear",editor:a};return u.keyframes.push(l),u.keyframes.sort((function(t,e){return t.time>e.time?1:-1})),this.compiledTimingFunction(e,n),l}}}},{key:"getDefaultPropertyValue",value:function(t){switch(t){case"mix-blend-mode":return"normal";case"rotate":return"0deg";case"box-shadow":return"0px 0px 0px 0px rgba(0, 0, 0, 1)";case"text-shadow":return"0px 0px 0px rgba(0, 0, 0, 1)";case"opacity":return 1;default:return""}}},{key:"copyTimelineKeyframe",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getTimelineProperty(t,e);if(r){var o=this.getSelectedTimeline(),i=n||o.currentTime,a=r.keyframes.filter((function(t){return t.time<i})),c=this.getDefaultPropertyValue(e),u="linear",s="";a.length&&(a.sort((function(t,e){return t.time>e.time?-1:1})),c=a[0].value+"",u=a[0].timing+"",s=a[0].editor),this.addTimelineKeyframe({layerId:t,property:e,value:c,timing:u,editor:s})}}},{key:"getTimelineKeyframe",value:function(t,e,n){var r=this.getTimelineProperty(t,e);if(r)return r.keyframes.find((function(t){return t.time===n}))}},{key:"getTimelineKeyframeById",value:function(t,e,n){var r=this.getTimelineProperty(t,e);if(r)return r.keyframes.find((function(t){return t.id===n}))}},{key:"sortTimelineKeyframe",value:function(t,e){var n=this.getTimelineProperty(t,e);n&&(n.keyframes.sort((function(t,e){return t.time>e.time?1:-1})),this.compiledTimingFunction(t,e))}},{key:"setFps",value:function(t){var e=this.getSelectedTimeline();e&&(e.fps=t,e.currentTimecode=Zp(t,e.currentTime),e.totalTimecode=Zp(t,e.totalTime))}},{key:"toCloneObject",value:function(){return Yk({},Uk(Zk(e.prototype),"toCloneObject",this).call(this),{timeline:ue(this.json.timeline)})}}])&&Kk(n.prototype,r),o&&Kk(n,o),e}(function(t){function e(){return Ak(this,e),Lk(this,zk(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bk(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mk(zk(e.prototype),"getDefaultObject",this).call(this,Dk({colors:[],gradients:[],svgfilters:[],svgimages:[],keyframes:[],images:[],imageKeys:[],videos:[],videoKeys:[],audios:[]},t))}},{key:"addKeyframe",value:function(t){return this.json.keyframes.push(t),t}},{key:"createKeyframe",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addKeyframe(new $k(Dk({checked:!0},t)))}},{key:"removeKeyframe",value:function(t){this.removePropertyList(this.json.keyframes,t)}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(Tk(t.splice(e,1))))}},{key:"sortKeyframe",value:function(t,e){this.sortItem(this.json.keyframes,t,e)}},{key:"updateKeyframe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.keyframes[+t].reset(e)}},{key:"toKeyframeString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.json.keyframes.map((function(e){return e.toString(t)})).join("\n\n")}},{key:"copyPropertyList",value:function(t,e){var n=Dk({},t[e]);t.splice(e,0,n)}},{key:"toCloneObject",value:function(){var t=this.json;return Dk({},Mk(zk(e.prototype),"toCloneObject",this).call(this),{colors:ue(t.colors),gradients:ue(t.gradients),svgfilters:ue(t.svgfilters),svgimages:ue(t.svgimages),images:ue(t.images),keyframes:t.keyframes.map((function(t){return t.clone()}))})}},{key:"removePropertyList",value:function(t,e){t.splice(e,1)}},{key:"removeColor",value:function(t){this.removePropertyList(this.json.colors,t)}},{key:"copyColor",value:function(t){this.copyPropertyList(this.json.colors,t)}},{key:"sortColor",value:function(t,e){this.sortItem(this.json.colors,t,e)}},{key:"setColorValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.colors[t]=Dk({},this.json.colors[t],{},e)}},{key:"getColorIndex",value:function(t){return this.json.colors[t]}},{key:"getColor",value:function(t){return this.json.colors.filter((function(e){return e.name===t}))[0]}},{key:"addColor",value:function(t){return this.json.colors.push(t),t}},{key:"createColor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addColor(t)}},{key:"removeImage",value:function(t){this.removePropertyList(this.json.images,t),this.refreshImageKeys()}},{key:"copyImage",value:function(t){this.copyPropertyList(this.json.images,t),this.refreshImageKeys()}},{key:"sortImage",value:function(t,e){this.sortItem(this.json.images,t,e)}},{key:"setImageValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.images[t]=Dk({},this.json.images[t],{},e),this.refreshImageKeys()}},{key:"getImageValueById",value:function(t){var e=this.json.imageKeys[t];if(e)return e.local}},{key:"refreshImageKeys",value:function(){var t={};this.json.images.forEach((function(e){t[e.id]=e})),this.reset({imageKeys:t})}},{key:"addImage",value:function(t){return this.json.images.push(t),this.refreshImageKeys(),t}},{key:"createImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addImage(t)}},{key:"removeVideo",value:function(t){this.removePropertyList(this.json.videos,t),this.refreshVideoKeys()}},{key:"copyVideo",value:function(t){this.copyPropertyList(this.json.videos,t),this.refreshVideoKeys()}},{key:"sortVideo",value:function(t,e){this.sortItem(this.json.videos,t,e)}},{key:"setVideoValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.videos[t]=Dk({},this.json.videos[t],{},e)}},{key:"getVideoValueById",value:function(t){var e=this.json.videoKeys[t];if(e)return e.local}},{key:"refreshVideoKeys",value:function(){var t={};this.json.videos.forEach((function(e){t[e.id]=e})),this.reset({videoKeys:t})}},{key:"addVideo",value:function(t){return this.json.videos.push(t),this.refreshVideoKeys(),t}},{key:"createVideo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addVideo(t)}},{key:"removeGradient",value:function(t){this.removePropertyList(this.json.gradients,t)}},{key:"copyGradient",value:function(t){this.copyPropertyList(this.json.gradients,t)}},{key:"sortGradient",value:function(t,e){this.sortItem(this.json.gradients,t,e)}},{key:"setGradientValue",value:function(t,e){this.json.gradients[t]=Dk({},this.json.gradients[t],{},e)}},{key:"getGradientIndex",value:function(t){return this.json.gradients[t]}},{key:"getGradient",value:function(t){return this.json.gradients.filter((function(e){return e.name===t}))[0]}},{key:"addGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.json.gradients.push(t),t}},{key:"createGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addGradient(t)}},{key:"getSVGFilterIndex",value:function(t){var e=this.json.svgfilters.map((function(t,e){return{id:t.id,index:e}})).filter((function(e){return e.id===t}))[0];return e?e.index:-1}},{key:"removeSVGFilter",value:function(t){this.removePropertyList(this.json.svgfilters,t)}},{key:"copySVGFilter",value:function(t){this.copyPropertyList(this.json.svgfilters,t)}},{key:"sortSVGFilter",value:function(t,e){this.sortItem(this.json.svgfilters,t,e)}},{key:"setSVGFilterValue",value:function(t,e){this.json.svgfilters[t]=Dk({},this.json.svgfilters[t],{},e)}},{key:"addSVGFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.json.svgfilters.push(t);var e=this.json.svgfilters.length-1;return e}},{key:"createSVGFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addSVGFilter(t)}},{key:"getSVGImageIndex",value:function(t){var e=this.json.svgimages.map((function(t,e){return{id:t.id,index:e}})).filter((function(e){return e.id===t}))[0];return e?e.index:-1}},{key:"removeSVGImage",value:function(t){this.removePropertyList(this.json.svgimages,t)}},{key:"copySVGImage",value:function(t){this.copyPropertyList(this.json.svgimages,t)}},{key:"sortSVGImage",value:function(t,e){this.sortItem(this.json.svgimages,t,e)}},{key:"setSVGImageValue",value:function(t,e){this.json.svgimages[t]=Dk({},this.json.svgimages[t],{},e)}},{key:"addSVGImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.json.svgimages.push(t);var e=this.json.svgimages.length-1;return e}},{key:"createSVGImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addSVGImage(t)}}])&&Ik(n.prototype,r),o&&Ik(n,o),e}(uo));function Qk(t){return(Qk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ej(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tj(Object(n),!0).forEach((function(e){nj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ij(t,e){return!e||"object"!==Qk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function aj(t,e,n){return(aj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function cj(t){return(cj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uj(t,e){return(uj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sj="SourceGraphic,SourceAlpha,BackgroundImage,BackgroundAlpha,FillPaint,StrokePaint".split(","),lj={xChannelSelector:!0,yChannelSelector:!0},fj=function(t){function e(){return rj(this,e),ij(this,cj(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uj(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new(0,yE[t.type])(t)}}],(r=[{key:"hasLight",value:function(){return!1}},{key:"isLight",value:function(){return!1}},{key:"isSource",value:function(){return!1}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Z();return aj(cj(e.prototype),"getDefaultObject",this).call(this,ej({itemType:"svgfilter",id:n,in:[],bound:{x:100,y:100,targetX:0,targetY:0},connected:[]},t))}},{key:"getInCount",value:function(){return 0}},{key:"setIn",value:function(t,e){this.json.in[t]={id:e.id,type:e.type}}},{key:"setConnected",value:function(t){0===this.json.connected.filter((function(e){return e.id===t.id})).length&&this.json.connected.push({id:t.id})}},{key:"convert",value:function(t){return re(t.in)&&(t.in=JSON.parse(t.in)),re(t.bound)&&(t.bound=JSON.parse(t.bound)),re(t.connected)&&(t.connected=JSON.parse(t.connected)),t}},{key:"toCloneObject",value:function(){return ej({},aj(cj(e.prototype),"toCloneObject",this).call(this),{id:this.json.id,in:ue(this.json.in),bound:ue(this.json.bound),connected:ue(this.json.connected)})}},{key:"getDefaultAttribute",value:function(){var t=this,e=[];return this.json.connected.length&&e.push('result="'.concat(this.json.id,'result"')),Object.keys(lj).filter((function(e){return!!t.json[e]})).forEach((function(n){e.push("".concat(n,'="').concat(t.json[n],'"'))})),e.join(" ")+" "+this.getSourceInAttribute()}},{key:"hasInIndex",value:function(){return!1}},{key:"getSourceInAttribute",value:function(t){var e=this;return(t||this.json.in).map((function(t,n){if(!t)return"";var r=0===n?"":n+1+"";return e.hasInIndex()||(r=""),sj.includes(t.type)?"in".concat(r,'="').concat(t.type,'"'):"in".concat(r,'="').concat(t.id,'result"')})).join(" ")}},{key:"toString",value:function(){var t=this.json,e=t.type,n=t.value;return"<fe".concat(e,' value="').concat(n,'" ').concat(this.getDefaultAttribute()," />")}}])&&oj(n.prototype,r),o&&oj(n,o),e}(_i);function pj(t){return(pj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dj(t,e){return!e||"object"!==pj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vj(t,e,n){return(vj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function bj(t){return(bj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mj(t,e){return(mj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gj=function(t){function e(){return yj(this,e),dj(this,bj(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mj(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return vj(bj(e.prototype),"getDefaultObject",this).call(this,{type:"RotaMatrix",hueRotate:e.spec.hueRotate.defaultValue})}},{key:"convert",value:function(t){return t.hueRotate=_.parse(t.hueRotate),t}},{key:"toString",value:function(){var t=this.json,e=t.id,n=t.hueRotate;return('\n      <feColorMatrix type="hueRotate" result="romatrix-'.concat(e,'"  values="').concat(n,'"/>\n      <feColorMatrix type="matrix" in="romatrix-').concat(e,'" in2="SourceGraphic"  ').concat(this.getDefaultAttribute(),' values="-1 2 -3 0 -.5 2 1 0 0 0 0 3 1 0 0 0 0 1 1 0"/>\n    '))}}])&&hj(n.prototype,r),o&&hj(n,o),e}(fj);function wj(t){return(wj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jj(t,e){return!e||"object"!==wj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sj(t,e,n){return(Sj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Pj(t){return(Pj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xj(t,e){return(xj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gj.spec={hueRotate:{title:"hue-rotate",inputType:"number-range",min:0,max:360,step:1,defaultValue:_.number(0)}};var _j=function(t){function e(){return Oj(this,e),jj(this,Pj(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xj(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Sj(Pj(e.prototype),"getDefaultObject",this).call(this,{type:"Merge"})}},{key:"getInCount",value:function(){return 3}},{key:"getDefaultAttribute",value:function(){var t=[];return this.json.connected.length&&t.push('result="'.concat(this.json.id,'result"')),t.join(" ")}},{key:"toString",value:function(){var t=this,e=this.json.in;return"\n    <feMerge  ".concat(this.getDefaultAttribute()," >\n      ").concat(e.map((function(e){return"<feMergeNode ".concat(t.getSourceInAttribute([e])," />")})).join(""),"\n    </feMerge>")}}])&&kj(n.prototype,r),o&&kj(n,o),e}(fj);function Ej(t){return(Ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tj(t,e){return!e||"object"!==Ej(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rj(t,e,n){return(Rj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Dj(t){return(Dj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vj(t,e){return(Vj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}_j.spec={};var Aj=function(t){function e(){return $j(this,e),Tj(this,Dj(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vj(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Rj(Dj(e.prototype),"getDefaultObject",this).call(this,{type:"Composite",operator:e.spec.operator.defaultValue,k1:e.spec.k1.defaultValue,k2:e.spec.k2.defaultValue,k3:e.spec.k3.defaultValue,k4:e.spec.k4.defaultValue})}},{key:"getInCount",value:function(){return 2}},{key:"toString",value:function(){var t=this.json,e=t.operator,n=t.k1,r=t.k2,o=t.k3,i=t.k4,a="";return"arithmetic"===e&&(a=' k1="'.concat(n,'" k2="').concat(r,'" k3="').concat(o,'" k4="').concat(i,'" ')),'<feComposite operator="'.concat(e,'" ').concat(a,"  ").concat(this.getDefaultAttribute()," />")}},{key:"hasInIndex",value:function(){return!0}}])&&Cj(n.prototype,r),o&&Cj(n,o),e}(fj);function Ij(t){return(Ij="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zj(t,e){return!e||"object"!==Ij(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bj(t,e,n){return(Bj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Fj(t){return(Fj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hj(t,e){return(Hj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Aj.spec={operator:{title:"operator",inputType:"select",options:"over,in,out,atop,xor,arithmetic",defaultValue:"over"},k1:{title:"k1",inputType:"number-range",min:0,max:1,step:.01,defaultValue:_.number(0)},k2:{title:"k2",inputType:"number-range",min:0,max:1,step:.01,defaultValue:_.number(0)},k3:{title:"k3",inputType:"number-range",min:0,max:1,step:.01,defaultValue:_.number(0)},k4:{title:"k4",inputType:"number-range",min:0,max:1,step:.01,defaultValue:_.number(0)}};var Gj=function(t){function e(){return Lj(this,e),zj(this,Fj(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hj(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Bj(Fj(e.prototype),"getDefaultObject",this).call(this,{type:"Morphology",operator:e.spec.operator.defaultValue,radius:e.spec.radius.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.operator,n=t.radius;return'<feMorphology operator="'.concat(e,'" radius="').concat(n,'"  ').concat(this.getDefaultAttribute()," />")}}])&&Mj(n.prototype,r),o&&Mj(n,o),e}(fj);function Yj(t){return(Yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kj(t,e){return!e||"object"!==Yj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wj(t,e,n){return(Wj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Uj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Uj(t){return(Uj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zj(t,e){return(Zj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Gj.spec={operator:{title:"Operator",inputType:"select",options:"erode,dilate",defaultValue:"erode"},radius:{title:"Radius",inputType:"number-range",min:0,max:100,step:1,defaultValue:_.number(0)}};var qj=function(t){function e(){return Xj(this,e),Kj(this,Uj(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zj(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Wj(Uj(e.prototype),"getDefaultObject",this).call(this,{type:"Turbulence",filterType:e.spec.filterType.defaultValue,baseFrequency:e.spec.baseFrequency.defaultValue,numOctaves:e.spec.numOctaves.defaultValue,seed:e.spec.seed.defaultValue})}},{key:"convert",value:function(t){return t.baseFrequency=_.parse(t.baseFrequency),t.numOctaves=_.parse(t.numOctaves),t.seed=_.parse(t.seed),t}},{key:"toString",value:function(){var t=this.json,e=t.filterType,n=t.baseFrequency,r=t.numOctaves,o=t.seed;return("<feTurbulence ".concat(be({type:e,baseFrequency:n,numOctaves:r,seed:o}),"   ").concat(this.getDefaultAttribute()," />"))}}])&&Nj(n.prototype,r),o&&Nj(n,o),e}(fj);function Jj(t){return(Jj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eS(t,e){return!e||"object"!==Jj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nS(t,e,n){return(nS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function rS(t){return(rS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oS(t,e){return(oS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}qj.spec={filterType:{title:"Type",inputType:"select",options:"fractalNoise,turbulence",defaultValue:"turbulence"},baseFrequency:{title:"Frequency",inputType:"number-range",min:0,max:1,step:.01,defaultValue:_.number(0)},numOctaves:{title:"Octaves",inputType:"number-range",min:1,max:10,step:1,defaultValue:_.number(1)},seed:{title:"Seed",inputType:"number-range",min:0,max:1e4,step:1,defaultValue:_.number(0)}};var iS=function(t){function e(){return Qj(this,e),eS(this,rS(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oS(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return nS(rS(e.prototype),"getDefaultObject",this).call(this,{type:"DisplacementMap",scale:e.spec.scale.defaultValue})}},{key:"getInCount",value:function(){return 2}},{key:"convert",value:function(t){return t.scale=_.parse(t.scale),t}},{key:"toString",value:function(){var t=this.json.scale,e=t.value?'scale="'.concat(t,'"'):"";return"<feDisplacementMap ".concat(e,"  ").concat(this.getDefaultAttribute()," />")}},{key:"hasInIndex",value:function(){return!0}}])&&tS(n.prototype,r),o&&tS(n,o),e}(fj);function aS(t){return(aS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sS(t,e){return!e||"object"!==aS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lS(t,e,n){return(lS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function fS(t){return(fS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pS(t,e){return(pS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}iS.spec={scale:{title:"scale",inputType:"number-range",min:0,max:5e3,step:1,defaultValue:_.number(0)}};var yS=function(t){function e(){return cS(this,e),sS(this,fS(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pS(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return lS(fS(e.prototype),"getDefaultObject",this).call(this,{type:"ColorMatrix",values:e.spec.values.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json.values.join(" ");return'<feColorMatrix type="matrix" values="'.concat(t,'"  ').concat(this.getDefaultAttribute()," />")}}])&&uS(n.prototype,r),o&&uS(n,o),e}(fj);function hS(t){return(hS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bS(t,e){return!e||"object"!==hS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mS(t,e,n){return(mS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function gS(t){return(gS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wS(t,e){return(wS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}yS.spec={values:{title:"values",inputType:"color-matrix",column:5,defaultValue:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}};var OS=function(t){function e(){return dS(this,e),bS(this,gS(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wS(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return mS(gS(e.prototype),"getDefaultObject",this).call(this,{type:"ConvolveMatrix",kernelMatrix:e.spec.kernelMatrix.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json.kernelMatrix.join(" ");return'<feConvolveMatrix kernelMatrix="'.concat(t,'"  ').concat(this.getDefaultAttribute()," />")}}])&&vS(n.prototype,r),o&&vS(n,o),e}(fj);function kS(t){return(kS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PS(t,e){return!e||"object"!==kS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xS(t,e,n){return(xS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_S(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _S(t){return(_S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ES(t,e){return(ES=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}OS.spec={kernelMatrix:{title:"kernelMatrix",inputType:"input-array",column:3,defaultValue:[1,0,0,0,1,0,0,0,1]}};var $S=function(t){function e(){return jS(this,e),PS(this,_S(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ES(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return xS(_S(e.prototype),"getDefaultObject",this).call(this,{type:"GaussianBlur",stdDeviationX:e.spec.stdDeviationX.defaultValue,stdDeviationY:e.spec.stdDeviationY.defaultValue,edgeMode:e.spec.edgeMode.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"convert",value:function(t){return t.stdDeviationX=_.parse(t.stdDeviationX),t.stdDeviationY=_.parse(t.stdDeviationY),t}},{key:"toString",value:function(){var t=this.json,e=t.stdDeviationX,n=t.stdDeviationY,r=t.edgeMode,o="".concat(e," ").concat(n);return e===n&&(o=e),'<feGaussianBlur  stdDeviation="'.concat(o,'" edgeMode="').concat(r,'"  ').concat(this.getDefaultAttribute()," />")}}])&&SS(n.prototype,r),o&&SS(n,o),e}(fj);function CS(t){return(CS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DS(t,e){return!e||"object"!==CS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VS(t,e,n){return(VS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=AS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function AS(t){return(AS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function IS(t,e){return(IS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}$S.spec={stdDeviationX:{title:"X",inputType:"number-range",min:0,max:100,step:1,defaultValue:_.number(0)},stdDeviationY:{title:"Y",inputType:"number-range",min:0,max:100,step:1,defaultValue:_.number(0)},edgeMode:{title:"edge",inputType:"select",options:"none,duplicate,wrap",defaultValue:"none"}};var LS=function(t){function e(){return TS(this,e),DS(this,AS(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IS(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return VS(AS(e.prototype),"getDefaultObject",this).call(this,{type:"Flood",x:e.spec.x.defaultValue,y:e.spec.y.defaultValue,width:e.spec.width.defaultValue,height:e.spec.height.defaultValue,color:e.spec.color.defaultValue,opacity:e.spec.opacity.defaultValue})}},{key:"convert",value:function(t){return t.x=_.parse(t.x),t.y=_.parse(t.y),t.width=_.parse(t.width),t.height=_.parse(t.height),t}},{key:"toString",value:function(){var t=this.json,e=t.opacity,n=t.color,r=t.x,o=t.y,i=t.width,a=t.height;return"<feFlood ".concat(be({x:r,y:o,width:i,height:a}),' flood-opacity="').concat(e,'" flood-color="').concat(n,'" ').concat(this.getDefaultAttribute()," />")}}])&&RS(n.prototype,r),o&&RS(n,o),e}(fj);function MS(t){return(MS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zS(t,e){return HS(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||FS()}function BS(t){return HS(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||FS()}function FS(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function HS(t){if(Array.isArray(t))return t}function GS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XS(t,e){return!e||"object"!==MS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function NS(t,e,n){return(NS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=KS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function KS(t){return(KS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function WS(t,e){return(WS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}LS.spec={x:{title:"X",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},y:{title:"Y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},width:{title:"width",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},height:{title:"height",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},opacity:{title:"opacity",inputType:"number-range",min:0,max:1,step:.01,defaultValue:_.number(0)},color:{title:"color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};var US=function(t){function e(){return GS(this,e),XS(this,KS(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WS(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return NS(KS(e.prototype),"getDefaultObject",this).call(this,{type:"ComponentTransfer",r:e.spec.r.defaultValue,g:e.spec.g.defaultValue,b:e.spec.b.defaultValue,a:e.spec.a.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"parse",value:function(t){var e=BS(t.split(" ")),n=e[0],r=e.slice(1);if("table"===n||"discrete"===n)return{type:n,tableValues:r.join(" ")};if("linear"===n){var o=zS(r,2);return{type:n,slop:o[0],intercept:o[1]}}if("gamma"===n){var i=zS(r,3);return{type:n,amplitude:i[0],exponent:i[1],offset:i[2]}}return{type:n}}},{key:"toString",value:function(){var t=this.json,e=t.r,n=t.g,r=t.b,o=t.a;return e=this.parse(e),n=this.parse(n),r=this.parse(r),o=this.parse(o),"<feComponentTransfer ".concat(this.getDefaultAttribute()," >\n      ").concat(e&&"<feFuncR ".concat(be(e)," />"),"\n      ").concat(n&&"<feFuncG ".concat(be(n)," />"),"\n      ").concat(r&&"<feFuncB ".concat(be(r)," />"),"\n      ").concat(o&&"<feFuncA ".concat(be(o)," />"),"\n    </feComponentTransfe>")}}])&&YS(n.prototype,r),o&&YS(n,o),e}(fj);function ZS(t){return(ZS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QS(t,e){return!e||"object"!==ZS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tP(t,e,n){return(tP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=eP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function eP(t){return(eP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nP(t,e){return(nP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}US.spec={r:{title:"R",inputType:"FuncFilter",defaultValue:"identity"},g:{title:"G",inputType:"FuncFilter",defaultValue:"identity"},b:{title:"B",inputType:"FuncFilter",defaultValue:"identity"},a:{title:"A",inputType:"FuncFilter",defaultValue:"identity"}};var rP=function(t){function e(){return qS(this,e),QS(this,eP(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nP(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return tP(eP(e.prototype),"getDefaultObject",this).call(this,{type:"DistantLight",azimuth:e.spec.azimuth.defaultValue,elevation:e.spec.elevation.defaultValue})}},{key:"isLight",value:function(){return!0}},{key:"toString",value:function(){return""}},{key:"toLightString",value:function(){var t=this.json,e=t.azimuth,n=t.elevation;return("<feDistantLight ".concat(be({azimuth:e,elevation:n})," />"))}}])&&JS(n.prototype,r),o&&JS(n,o),e}(fj);function oP(t){return(oP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cP(t,e){return!e||"object"!==oP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uP(t,e,n){return(uP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function sP(t){return(sP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lP(t,e){return(lP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}rP.spec={azimuth:{title:"azimuth",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},elevation:{title:"elevation",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)}};var fP=function(t){function e(){return iP(this,e),cP(this,sP(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lP(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return uP(sP(e.prototype),"getDefaultObject",this).call(this,{type:"PointLight",x:e.spec.x.defaultValue,y:e.spec.y.defaultValue,z:e.spec.z.defaultValue})}},{key:"isLight",value:function(){return!0}},{key:"toString",value:function(){return""}},{key:"toLightString",value:function(){var t=this.json,e=t.x,n=t.y,r=t.z;return("<fePointLight ".concat(be({x:e,y:n,z:r})," />"))}}])&&aP(n.prototype,r),o&&aP(n,o),e}(fj);function pP(t){return(pP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dP(t,e){return!e||"object"!==pP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vP(t,e,n){return(vP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function bP(t){return(bP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mP(t,e){return(mP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}fP.spec={x:{title:"x",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},y:{title:"y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},z:{title:"z",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)}};var gP=function(t){function e(){return yP(this,e),dP(this,bP(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mP(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return vP(bP(e.prototype),"getDefaultObject",this).call(this,{type:"SpotLight",x:e.spec.x.defaultValue,y:e.spec.x.defaultValue,z:e.spec.x.defaultValue,pointsAtX:e.spec.pointsAtX.defaultValue,pointsAtY:e.spec.pointsAtY.defaultValue,pointsAtZ:e.spec.pointsAtZ.defaultValue,specularExponent:e.spec.specularExponent.defaultValue,limitingConeAngle:e.spec.limitingConeAngle.defaultValue})}},{key:"isLight",value:function(){return!0}},{key:"toString",value:function(){}},{key:"toLightString",value:function(){var t=this.json,e=t.x,n=t.y,r=t.z,o=t.pointsAtX,i=t.pointsAtY,a=t.pointsAtZ,c=t.specularExponent,u=t.limitingConeAngle;return("<feSpotLight ".concat(be({x:e,y:n,z:r,pointsAtX:o,pointsAtY:i,pointsAtZ:a,specularExponent:c,limitingConeAngle:u})," />"))}}])&&hP(n.prototype,r),o&&hP(n,o),e}(fj);function wP(t){return(wP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PP(t,e){return!e||"object"!==wP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xP(t,e,n){return(xP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_P(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _P(t){return(_P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function EP(t,e){return(EP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gP.spec={x:{title:"x",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},y:{title:"y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},z:{title:"z",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},pointsAtX:{title:"pointsAtX",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},pointsAtY:{title:"pointsAtY",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},pointsAtZ:{title:"pointsAtZ",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},specularExponent:{title:"specularExponent",inputType:"number-range",min:0,max:100,step:1,defaultValue:_.number(1)},limitingConeAngle:{title:"limitingConeAngle",inputType:"number-range",min:0,max:100,step:1,defaultValue:_.number(1)}};var $P=function(t){function e(){return jP(this,e),PP(this,_P(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EP(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return xP(_P(e.prototype),"getDefaultObject",this).call(this,{type:"DiffuseLighting",surfaceScale:e.spec.surfaceScale.defaultValue,lightingColor:e.spec.lightingColor.defaultValue,diffuseConstant:e.spec.diffuseConstant.defaultValue,lightInfo:""})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?OP(Object(n),!0).forEach((function(e){kP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},xP(_P(e.prototype),"toCloneObject",this).call(this),{surfaceScale:this.json.surfaceScale,lightingColor:this.json.lightingColor,diffuseConstant:this.json.diffuseConstant,lightInfo:this.json.lightInfo})}},{key:"hasLight",value:function(){return!0}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.surfaceScale,n=t.diffuseConstant,r=t.lightingColor;return("<feDiffuseLighting ".concat(be({surfaceScale:e,diffuseConstant:n,"lighting-color":r}),"  ").concat(this.getDefaultAttribute()," >\n      ").concat(this.json.lightInfo,"\n    </feDiffuseLighting>"))}}])&&SP(n.prototype,r),o&&SP(n,o),e}(fj);function CP(t){return(CP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function RP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AP(t,e){return!e||"object"!==CP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function IP(t,e,n){return(IP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=LP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function LP(t){return(LP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function MP(t,e){return(MP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}$P.spec={surfaceScale:{title:"surfaceScale",inputType:"number-range",min:0,max:100,step:1,defaultValue:_.number(1)},diffuseConstant:{title:"diffuseConstant",inputType:"number-range",min:0,max:100,step:1,defaultValue:_.number(1)},lightingColor:{title:"Lighting Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};var zP=function(t){function e(){return DP(this,e),AP(this,LP(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&MP(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return IP(LP(e.prototype),"getDefaultObject",this).call(this,{type:"SpecularLighting",surfaceScale:e.spec.surfaceScale.defaultValue,lightingColor:e.spec.lightingColor.defaultValue,specularConstant:e.spec.specularConstant.defaultValue,specularExponent:e.spec.specularExponent.defaultValue,lightInfo:""})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?TP(Object(n),!0).forEach((function(e){RP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},IP(LP(e.prototype),"toCloneObject",this).call(this),{surfaceScale:this.json.surfaceScale,lightingColor:this.json.lightingColor,specularConstant:this.json.specularConstant,specularExponent:this.json.specularExponent,lightInfo:""})}},{key:"hasLight",value:function(){return!0}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.surfaceScale,n=t.specularConstant,r=t.specularExponent,o=t.lightingColor;return("<feSpecularLighting ".concat(be({surfaceScale:e,specularConstant:n,specularExponent:r,"lighting-color":o}),"  ").concat(this.getDefaultAttribute()," >\n      ").concat(this.json.lightInfo,"\n    </feSpecularLighting>"))}},{key:"getSourceInAttribute",value:function(){return""}}])&&VP(n.prototype,r),o&&VP(n,o),e}(fj);function BP(t){return(BP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GP(t,e){return!e||"object"!==BP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YP(t,e,n){return(YP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=XP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function XP(t){return(XP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function NP(t,e){return(NP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}zP.spec={surfaceScale:{title:"surfaceScale",inputType:"number-range",min:0,max:100,step:1,defaultValue:_.number(1)},specularConstant:{title:"Constant",inputType:"number-range",min:0,max:100,step:1,defaultValue:_.number(1)},specularExponent:{title:"Exponent",inputType:"number-range",min:0,max:100,step:1,defaultValue:_.number(1)},lightingColor:{title:"Lighting Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};var KP=function(t){function e(){return FP(this,e),GP(this,XP(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NP(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return YP(XP(e.prototype),"getDefaultObject",this).call(this,{type:"Offset",dx:e.spec.dx.defaultValue,dy:e.spec.dy.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.dx,n=t.dy;return("<feOffset \n      ".concat(be({dx:e,dy:n}),"  ").concat(this.getDefaultAttribute()," />"))}}])&&HP(n.prototype,r),o&&HP(n,o),e}(fj);function WP(t){return(WP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function UP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qP(t,e){return!e||"object"!==WP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JP(t,e,n){return(JP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=QP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function QP(t){return(QP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tx(t,e){return(tx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}KP.spec={dx:{title:"dx",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},dy:{title:"dy",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)}};var ex=function(t){function e(){return UP(this,e),qP(this,QP(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tx(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return JP(QP(e.prototype),"getDefaultObject",this).call(this,{type:"Blend",mode:e.spec.mode.defaultValue})}},{key:"getInCount",value:function(){return 2}},{key:"toString",value:function(){var t=this.json.mode;return("<feBlend ".concat(be({mode:t})," ").concat(this.getDefaultAttribute()," />"))}},{key:"hasInIndex",value:function(){return!0}}])&&ZP(n.prototype,r),o&&ZP(n,o),e}(fj);function nx(t){return(nx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ox(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rx(Object(n),!0).forEach((function(e){ix(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ix(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ax(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ux(t,e){return!e||"object"!==nx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sx(t,e,n){return(sx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function lx(t){return(lx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fx(t,e){return(fx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}ex.spec={mode:{title:"mode",inputType:"blend",defaultValue:"normal"}};var px=function(t){function e(){return ax(this,e),ux(this,lx(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fx(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sx(lx(e.prototype),"getDefaultObject",this).call(this,ox({type:"Source"},t))}},{key:"isSource",value:function(){return!0}},{key:"toString",value:function(){return""}}])&&cx(n.prototype,r),o&&cx(n,o),e}(fj);function yx(t){return(yx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vx(t,e){return!e||"object"!==yx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bx(t,e,n){return(bx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function mx(t){return(mx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gx(t,e){return(gx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wx=function(t){function e(){return hx(this,e),vx(this,mx(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gx(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return bx(mx(e.prototype),"getDefaultObject",this).call(this,{type:"SourceGraphic"})}}])&&dx(n.prototype,r),o&&dx(n,o),e}(px);function Ox(t){return(Ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sx(t,e){return!e||"object"!==Ox(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Px(t,e,n){return(Px="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function xx(t){return(xx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _x(t,e){return(_x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ex=function(t){function e(){return kx(this,e),Sx(this,xx(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_x(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Px(xx(e.prototype),"getDefaultObject",this).call(this,{type:"SourceAlpha"})}}])&&jx(n.prototype,r),o&&jx(n,o),e}(px);function $x(t){return($x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rx(t,e){return!e||"object"!==$x(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dx(t,e,n){return(Dx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Vx(t){return(Vx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ax(t,e){return(Ax=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ix=function(t){function e(){return Cx(this,e),Rx(this,Vx(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ax(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Dx(Vx(e.prototype),"getDefaultObject",this).call(this,{type:"BackgroundImage"})}}])&&Tx(n.prototype,r),o&&Tx(n,o),e}(px);function Lx(t){return(Lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bx(t,e){return!e||"object"!==Lx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fx(t,e,n){return(Fx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Hx(t){return(Hx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gx(t,e){return(Gx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yx=function(t){function e(){return Mx(this,e),Bx(this,Hx(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gx(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Fx(Hx(e.prototype),"getDefaultObject",this).call(this,{type:"BackgroundAlpha"})}}])&&zx(n.prototype,r),o&&zx(n,o),e}(px);function Xx(t){return(Xx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wx(t,e){return!e||"object"!==Xx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ux(t,e,n){return(Ux="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Zx(t){return(Zx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qx(t,e){return(qx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jx=function(t){function e(){return Nx(this,e),Wx(this,Zx(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qx(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Ux(Zx(e.prototype),"getDefaultObject",this).call(this,{type:"FillPaint"})}}])&&Kx(n.prototype,r),o&&Kx(n,o),e}(px);function Qx(t){return(Qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n_(t,e){return!e||"object"!==Qx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r_(t,e,n){return(r_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function o_(t){return(o_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i_(t,e){return(i_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a_=function(t){function e(){return t_(this,e),n_(this,o_(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i_(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return r_(o_(e.prototype),"getDefaultObject",this).call(this,{type:"StrokePaint"})}}])&&e_(n.prototype,r),o&&e_(n,o),e}(px);function c_(t){return(c_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l_(t,e){return!e||"object"!==c_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f_(t,e,n){return(f_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function p_(t){return(p_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y_(t,e){return(y_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h_=function(t){function e(){return u_(this,e),l_(this,p_(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y_(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return f_(p_(e.prototype),"getDefaultObject",this).call(this,{type:"DropShadow",dx:e.spec.dx.defaultValue,dy:e.spec.dy.defaultValue,stdDeviation:e.spec.stdDeviation.defaultValue,color:e.spec.color.defaultValue,opacity:e.spec.opacity.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.dx,n=t.dy,r=t.stdDeviation,o=t.color,i=t.opacity;return("<feDropShadow ".concat(be({dx:e,dy:n,stdDeviation:r,"flood-color":o,"flood-opacity":i}),"  ").concat(this.getDefaultAttribute()," />"))}}])&&s_(n.prototype,r),o&&s_(n,o),e}(fj);function d_(t){return(d_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m_(t,e){return!e||"object"!==d_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g_(t,e,n){return(g_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function w_(t){return(w_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O_(t,e){return(O_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}h_.spec={dx:{title:"dx",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},dy:{title:"dy",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},stdDeviation:{title:"stdDeviation",inputType:"number-range",min:0,max:1e3,step:.1,defaultValue:_.number(0)},opacity:{title:"opacity",inputType:"number-range",min:0,max:1,step:.01,defaultValue:_.number(1)},color:{title:"color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};var k_=function(t){function e(){return v_(this,e),m_(this,w_(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O_(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return g_(w_(e.prototype),"getDefaultObject",this).call(this,{type:"Saturate",values:e.spec.values.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json.values;return('<feColorMatrix type="saturate" values="'.concat(t,'"  ').concat(this.getDefaultAttribute()," />"))}}])&&b_(n.prototype,r),o&&b_(n,o),e}(fj);function j_(t){return(j_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x_(t,e){return!e||"object"!==j_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function __(t,e,n){return(__="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function E_(t){return(E_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $_(t,e){return($_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}k_.spec={values:{title:"values",inputType:"number-range",min:-1,max:1,step:.01,defaultValue:_.number(0)}};var C_=function(t){function e(){return S_(this,e),x_(this,E_(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$_(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return __(E_(e.prototype),"getDefaultObject",this).call(this,{type:"HueRotate",values:e.spec.values.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json.values;return('<feColorMatrix type="hueRotate" values="'.concat(t,'"  ').concat(this.getDefaultAttribute()," />"))}}])&&P_(n.prototype,r),o&&P_(n,o),e}(fj);function T_(t){return(T_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V_(t,e){return!e||"object"!==T_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A_(t,e,n){return(A_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function I_(t){return(I_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L_(t,e){return(L_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}C_.spec={values:{title:"values",inputType:"number-range",min:0,max:360,step:.1,defaultValue:_.number(0)}};var M_=function(t){function e(){return R_(this,e),V_(this,I_(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L_(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return A_(I_(e.prototype),"getDefaultObject",this).call(this,{type:"LuminanceAlpha"})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){return'<feColorMatrix type="luminanceToAlpha" '.concat(this.getDefaultAttribute()," />")}}])&&D_(n.prototype,r),o&&D_(n,o),e}(fj);function z_(t){return(z_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H_(t,e){return!e||"object"!==z_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G_(t,e,n){return(G_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Y_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Y_(t){return(Y_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X_(t,e){return(X_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}M_.spec={};var N_=function(t){function e(){return B_(this,e),H_(this,Y_(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X_(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return G_(Y_(e.prototype),"getDefaultObject",this).call(this,{type:"Tile",x:e.spec.x.defaultValue,y:e.spec.y.defaultValue,width:e.spec.width.defaultValue,height:e.spec.height.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"convert",value:function(t){return t.x=_.parse(t.x),t.y=_.parse(t.y),t.width=_.parse(t.width),t.height=_.parse(t.height),t}},{key:"toString",value:function(){var t=this.json,e=t.x,n=t.y,r=t.width,o=t.height;return"<feTile ".concat(be({x:e,y:n,width:r,height:o})," ").concat(this.getDefaultAttribute()," />")}}])&&F_(n.prototype,r),o&&F_(n,o),e}(fj);function K_(t){return(K_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z_(t,e){return!e||"object"!==K_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q_(t,e,n){return(q_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function J_(t){return(J_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q_(t,e){return(Q_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}N_.spec={x:{title:"X",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},y:{title:"Y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},width:{title:"width",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},height:{title:"height",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)}};var tE=function(t){function e(){return W_(this,e),Z_(this,J_(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q_(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return q_(J_(e.prototype),"getDefaultObject",this).call(this,{type:"Image",x:e.spec.x.defaultValue,y:e.spec.y.defaultValue,width:e.spec.width.defaultValue,height:e.spec.height.defaultValue,src:e.spec.src.defaultValue,alignment:e.spec.alignment.defaultValue,scaleing:e.spec.scaleing.defaultValue})}},{key:"convert",value:function(t){return t.x=_.parse(t.x),t.y=_.parse(t.y),t.width=_.parse(t.width),t.height=_.parse(t.height),t}},{key:"toString",value:function(){var t=this.json,e=t.src,n=t.x,r=t.y,o=t.width,i=t.height,a=t.alignment,c=t.scaleing;return"<feImage ".concat(be({x:n,y:r,width:o,height:i,"xlink:href":e,preserveAspectRatio:"".concat(a," ").concat(c)})," ").concat(this.getDefaultAttribute()," />")}}])&&U_(n.prototype,r),o&&U_(n,o),e}(fj);function eE(t){return(eE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nE(Object(n),!0).forEach((function(e){oE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cE(t,e){return!e||"object"!==eE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uE(t,e,n){return(uE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sE(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function sE(t){return(sE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lE(t,e){return(lE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}tE.spec={x:{title:"X",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},y:{title:"Y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},width:{title:"width",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},height:{title:"height",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:_.number(0)},alignment:{title:"alignment",inputType:"select",options:"xMinYMin,xMidYMin,xMaxYMin,xMinYMid,xMidYMid,xMaxYMid,xMinYMax,xMidYMax,xMaxYMax",defaultValue:"xMidYMid"},scaleing:{title:"scaleing",inputType:"select",options:"meet,slice",defaultValue:"meet"},src:{title:"Image",inputType:"ImageSelectEditor",defaultValue:""}};var fE=["result"],pE=function(t){function e(){return iE(this,e),cE(this,sE(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lE(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new(0,yE[t.type])(t)}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return uE(sE(e.prototype),"getDefaultObject",this).call(this,rE({itemType:"svgfilter",result:""},t))}},{key:"getDefaultAttribute",value:function(){var t=this;return fE.map((function(e){return"".concat(e,'="').concat(t.json[e],'"')})).join(" ")}},{key:"toString",value:function(){var t=this.json,e=t.type,n=t.value;return"<fe".concat(e,' value="').concat(n,'" ').concat(this.getDefaultAttribute()," />")}}])&&aE(n.prototype,r),o&&aE(n,o),e}(_i),yE={Image:tE,Tile:N_,Saturate:k_,HueRotate:C_,LuminanceAlpha:M_,DropShadow:h_,SourceGraphic:wx,SourceAlpha:Ex,BackgroundImage:Ix,BackgroundAlpha:Yx,FillPaint:Jx,StrokePaint:a_,ComponentTransfer:US,DistantLight:rP,PointLight:fP,SpotLight:gP,DiffuseLighting:$P,SpecularLighting:zP,Blend:ex,Offset:KP,RotaMatrix:gj,GaussianBlur:$S,Flood:LS,Merge:_j,Composite:Aj,Morphology:Gj,Turbulence:qj,DisplacementMap:iS,ColorMatrix:yS,ConvolveMatrix:OS},hE={Image:tE.spec,Tile:N_.spec,DropShadow:h_.spec,Saturate:k_.spec,HueRotate:C_.spec,LuminanceAlpha:M_.spec,Offset:KP.spec,ComponentTransfer:US.spec,SpecularLighting:zP.spec,SpotLight:gP.spec,PointLight:fP.spec,DistantLight:rP.spec,DiffuseLighting:$P.spec,Blend:ex.spec,RotaMatrix:gj.spec,Merge:_j.spec,GaussianBlur:$S.spec,Flood:LS.spec,Morphology:Gj.spec,Composite:Aj.spec,Turbulence:qj.spec,DisplacementMap:iS.spec,ColorMatrix:yS.spec,ConvolveMatrix:OS.spec};function dE(t){return(dE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vE(Object(n),!0).forEach((function(e){mE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function wE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kE(t,e){return!e||"object"!==dE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jE(t,e,n){return(jE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=SE(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function SE(t){return(SE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function PE(t,e){return(PE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xE=function(t){function e(){return wE(this,e),kE(this,SE(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PE(t,e)}(e,t),n=e,(r=[{key:"getDefaultTitle",value:function(){return"New Project"}},{key:"toRootVariableCSS",value:function(){var t={};return this.json.rootVariable.split(";").filter((function(t){return t.trim()})).forEach((function(e){var n=gE(e.split(":"),2),r=n[0],o=n[1];t["--".concat(r)]=o})),t}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jE(SE(e.prototype),"getDefaultObject",this).call(this,bE({itemType:"project",name:"new Project",description:"",rootVariable:""},t))}},{key:"toCloneObject",value:function(){var t=this.json,n=t.name,r=t.description,o=t.rootVariable;return bE({},jE(SE(e.prototype),"toCloneObject",this).call(this),{name:n,description:r,rootVariable:o})}},{key:"isAbsolute",get:function(){return!1}},{key:"parent",get:function(){return null}},{key:"artboards",get:function(){return this.json.layers||[]}}])&&OE(n.prototype,r),o&&OE(n,o),e}(Jk);function _E(t){return(_E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CE(t,e){return!e||"object"!==_E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TE(t,e,n){return(TE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=RE(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function RE(t){return(RE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function DE(t,e){return(DE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bo.registerComponent("project",xE);var VE=function(t){function e(){return EE(this,e),CE(this,RE(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DE(t,e)}(e,t),n=e,(r=[{key:"is",value:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return!!r.includes("component")||(t=TE(RE(e.prototype),"is",this)).call.apply(t,[this].concat(r))}},{key:"getProps",value:function(){return[]}}])&&$E(n.prototype,r),o&&$E(n,o),e}(Ng);function AE(t){return(AE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function IE(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ME(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?LE(Object(n),!0).forEach((function(e){zE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HE(t,e){return!e||"object"!==AE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function GE(t,e,n){return(GE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=YE(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function YE(t){return(YE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function XE(t,e){return(XE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bo.registerComponent("component",VE);var NE=["front","back","left","right","top","bottom"],KE={"front.color":".front","back.color":".back","left.color":".left","right.color":".right","top.color":".top","bottom.color":".bottom","front.background":".front","back.background":".back","left.background":".left","right.background":".right","top.background":".top","bottom.background":".bottom"},WE={position:!0,left:!0,top:!0,right:!0,bottom:!0,width:!0,height:!0,opacity:!0,"text-fill-color":!0,"text-stroke-color":!0,"text-stroke-width":!0,"background-clip":!0,"clip-path":!0,animation:!0,transition:!0,transform:!0,"transform-origin":!0,"transform-style":!0,perspective:!0,"perspective-origin":!0,"offset-path":!0},UE={filter:!0,"mix-blend-mode":!0,"background-image":!0,"border-radius":!0,border:!0},ZE=function(t){function e(){return BE(this,e),HE(this,YE(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XE(t,e)}(e,t),n=e,o=[{key:"getIcon",value:function(){return Ag.cube}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return GE(YE(e.prototype),"getDefaultObject",this).call(this,ME({itemType:"cube",name:"New Cube","transform-style":"preserve-3d","backface-visibility":"visible",rate:_.number(1),transform:"rotateX(10deg) rotateY(30deg)",border:"border:1px solid black"},t))}},{key:"getProps",value:function(){return[{key:"rate",editor:"NumberRangeEditor",editorOptions:{label:"radius",min:0,max:10,step:.1},refresh:!0,defaultValue:this.json.rate.value},{key:"backface-visibility",editor:"SelectIconEditor",editorOptions:{label:"visibility",options:"visible,hidden"},refresh:!0,defaultValue:this.json["backface-visibility"]},"Background Color"].concat(IE(NE.map((function(t){return{key:"".concat(t,".color"),editor:"ColorViewEditor",editorOptions:{label:t,params:"".concat(t,".color")},defaultValue:"rgba(0, 0, 0, 1)"}}))),["Background Image"],IE(NE.map((function(t){return{key:"".concat(t,".background"),editor:"BackgroundImageEditor",editorOptions:{title:t},defaultValue:""}}))))}},{key:"setCustomKeyframes",value:function(t,e){e.property.includes(".color")&&t.push({selector:'[data-id="'.concat(this.json.id,'"] ').concat(KE[e.property]),properties:[ME({},e,{property:"background-color"})]}),e.property.includes(".background")&&t.push({selector:'[data-id="'.concat(this.json.id,'"] ').concat(KE[e.property]),properties:[ME({},e,{property:"background-image"})]})}},{key:"toAnimationKeyframes",value:function(t){var e=this,n=[],r=[],o=[];t.forEach((function(t){t.property.includes(".color")||t.property.includes(".background")?n.push(t):WE[t.property]?r.push(t):UE[t.property]&&o.push(t)}));var i=[];return r.length&&i.push({selector:'[data-id="'.concat(this.json.id,'"]'),properties:r}),o.length&&i.push({selector:'[data-id="'.concat(this.json.id,'"] div'),properties:o}),n.length&&n.forEach((function(t){e.setCustomKeyframes(i,t)})),i}},{key:"convert",value:function(t){return(t=GE(YE(e.prototype),"convert",this).call(this,t)).rate=_.parse(t.rate),t}},{key:"toCloneObject",value:function(){var t=this,n={};return NE.forEach((function(e){n["".concat(e,".color")]=t.json["".concat(e,".color")],n["".concat(e,".background")]=t.json["".concat(e,".background")]})),ME({},GE(YE(e.prototype),"toCloneObject",this).call(this),{rate:this.json.rate.clone()},n)}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Cube"}},{key:"getIcon",value:function(){return Ag.cube}},{key:"toDefaultCSS",value:function(){var t={};return this.json.x&&(t.left=this.json.x),this.json.y&&(t.top=this.json.y),t.visibility=this.json.visible?"visible":"hidden",ME({},t,{},this.toKeyListCSS("position","right","bottom","width","height","transform-origin","transform","transform-style","perspective","perspective-origin"))}},{key:"toCSS",value:function(){return ME({},this.toVariableCSS(),{},this.toDefaultCSS(),{},this.toWebkitCSS(),{},this.toBoxModelCSS(),{},this.toAnimationCSS(),{},this.toTransitionCSS(),{},this.toLayoutItemCSS())}},{key:"toNestedCSS",value:function(){var t=this.json,e=t.rate.value,n=t.width,r=t.height,o=n.value/2,i=r.value/2,a=t["backface-visibility"],c=ME({},this.toKeyListCSS("filter","mix-blend-mode","border-radius","background-color","opacity","color"),{},this.toClipPathCSS(),{},this.toBackgroundImageCSS(),{},this.toBorderCSS());return[{selector:"div",cssText:"\n          position: absolute;\n          left: 0px;\n          top: 0px;\n          bottom: 0px;\n          right: 0px;\n          opacity: 1;\n          pointer-events: none;\n          ".concat(de(c),"\n        ").trim()},{selector:".front",cssText:"\n          transform:rotateY(0deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";     \n          backface-visibility: ").concat(a,";          \n          ").concat(t["front.color"]?"background-color: ".concat(t["front.color"],";"):"","\n          ").concat(t["front.background"]?"".concat(t["front.background"],";"):"","\n\n        ").trim()},{selector:".back",cssText:"\n          transform: rotateY(180deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";        \n          backface-visibility: ").concat(a,";              \n          ").concat(t["back.color"]?"background-color: ".concat(t["back.color"],";"):"","                  \n          ").concat(t["back.background"]?"".concat(t["back.background"],";"):"","\n        ").trim()},{selector:".left",cssText:"\n          transform: rotateY(-90deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";    \n          backface-visibility: ").concat(a,";          \n          ").concat(t["left.color"]?"background-color: ".concat(t["left.color"],";"):"","                          \n          ").concat(t["left.background"]?"".concat(t["left.background"],";"):"","\n        ").trim()},{selector:".right",cssText:"\n          transform: rotateY(90deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";      \n          backface-visibility: ").concat(a,";          \n          ").concat(t["right.color"]?"background-color: ".concat(t["right.color"],";"):"","                        \n          ").concat(t["right.background"]?"".concat(t["right.background"],";"):"","          \n        ").trim()},{selector:".top",cssText:"\n          transform: rotateX(90deg) translateZ(".concat(i*e,"px);\n          top: ").concat(i-o,"px;\n          width: ").concat(n,";\n          height: ").concat(n,";\n          backface-visibility: ").concat(a,";          \n          ").concat(t["top.color"]?"background-color: ".concat(t["top.color"],";"):"","      \n          ").concat(t["top.background"]?"".concat(t["top.background"],";"):"","              \n        ").trim()},{selector:".bottom",cssText:"\n          transform: rotateX(-90deg) translateZ(".concat(i*e,"px);\n          top: ").concat(i-o,"px;          \n          width: ").concat(n,";\n          height: ").concat(n,";    \n          backface-visibility: ").concat(a,";          \n          ").concat(t["bottom.color"]?"background-color: ".concat(t["bottom.color"],";"):"","\n          ").concat(t["bottom.background"]?"".concat(t["bottom.background"],";"):"","                          \n        ").trim()}]}},{key:"toSVG",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.json,o=r.width,i=r.height,a=this.toCSS(),c=this.toNestedCSS(),u={},s=c.find((function(t){return"div"===t.selector}))||{cssText:""};return s=s.cssText.replace(/\n/g,""),NE.forEach((function(t){u[t]=c.find((function(e){return e.selector==="."+t}))||{cssText:""},u[t]=u[t].cssText.replace(/\n/g,"")})),n?(delete a.left,delete a.top,"absolute"===a.position&&delete a.position,this.wrapperRootSVG(t,e,o,i,"\n        <foreignObject ".concat(be({width:o.value,height:i.value,overflow:"visible"}),'>\n          <div xmlns="http://www.w3.org/1999/xhtml">\n            <div style="').concat(de(a),'">\n            ').concat(NE.map((function(t){return'<div style="'.concat(s,";").concat(u[t],'"></div>')})).join(""),"          \n          </div>   \n          </div>\n        </foreignObject>          \n\n      "))):"\n        ".concat(this.toDefString,"\n        <foreignObject ").concat(be({width:o.value,height:i.value,overflow:"visible"}),'>\n          <div xmlns="http://www.w3.org/1999/xhtml">\n            <div style="').concat(de(a),'">\n              ').concat(NE.map((function(t){return'<div style="'.concat(s,";").concat(u[t],'"></div>')})).join(""),"          \n            </div>   \n          </div>\n        </foreignObject>          \n      ")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.itemType;return("\n      <div class='element-item ".concat(n,"' data-id=\"").concat(e,'">\n        ').concat(this.toDefString,"\n        ").concat(NE.map((function(t){return"<div class='".concat(t,"'></div>")})).join(""),"\n      </div>"))}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&FE(n.prototype,r),o&&FE(n,o),e}(VE);function qE(t){return(qE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function QE(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function t$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?t$(Object(n),!0).forEach((function(e){n$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function n$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i$(t,e){return!e||"object"!==qE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a$(t,e,n){return(a$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c$(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c$(t){return(c$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u$(t,e){return(u$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bo.registerComponent("cube",ZE);var s$={count:!0,rate:!0,face:!0},l$={position:!0,left:!0,top:!0,right:!0,bottom:!0,width:!0,height:!0,opacity:!0,"text-fill-color":!0,"text-stroke-color":!0,"text-stroke-width":!0,"background-clip":!0,"clip-path":!0,animation:!0,transition:!0,transform:!0,"transform-origin":!0,"transform-style":!0,perspective:!0,"perspective-origin":!0,"offset-path":!0},f$={filter:!0,"mix-blend-mode":!0,"background-image":!0,"background-color":!0,"border-radius":!0,border:!0},p$=function(t){function e(){return r$(this,e),i$(this,c$(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u$(t,e)}(e,t),n=e,o=[{key:"getIcon",value:function(){return Ag.cylinder}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a$(c$(e.prototype),"getDefaultObject",this).call(this,e$({itemType:"cylinder",name:"New Cylinder","transform-style":"preserve-3d","backface-visibility":"visible",transform:"rotateX(10deg) rotateY(30deg)",count:_.number(40),rate:_.number(1),border:"border-top: 1px solid black;border-bottom: 1px solid black;"},t))}},{key:"getProps",value:function(){var t=this.json.count.value;return["Side",{key:"count",editor:"NumberRangeEditor",editorOptions:{label:"Count",min:3,max:100,step:1},refresh:!0,defaultValue:t},{key:"rate",editor:"NumberRangeEditor",editorOptions:{label:"radius",min:0,max:10,step:.1},refresh:!0,defaultValue:this.json.rate.value},{key:"backface-visibility",editor:"SelectIconEditor",editorOptions:{label:"visibility",options:"visible,hidden"},refresh:!0,defaultValue:this.json["backface-visibility"]},"Color"].concat(QE(fe(t).map((function(t,e){return{key:"face.".concat(e,".color"),editor:"ColorViewEditor",editorOptions:{label:"face ".concat(e),params:"face.".concat(e,".color")},defaultValue:"rgba(0, 0, 0, 1)"}}))),["Background"],QE(fe(t).map((function(t,e){return{key:"face.".concat(e,".background"),editor:"BackgroundImageEditor",editorOptions:{title:"face ".concat(e)},defaultValue:""}}))))}},{key:"setCustomKeyframes",value:function(t,e){var n=this;if("rate"===e.property){var r=this.json.width,o=this.json.count.value,i=r.value/2,a=360/o,c=fe(o).map((function(t,r){var o=r*a;return{selector:'[data-id="'.concat(n.json.id,'"] .face[data-index="').concat(r,'"]'),properties:[{keyframes:e.keyframes.map((function(t){var e=t.time,n=t.value,r=t.timing;return{time:e,value:"rotateY(".concat(o,"deg) translateZ(").concat(i*n,"px)"),timing:r}})),property:"transform"}]}}));t.push.apply(t,QE(c))}if(e.property.includes(".color")){var u=JE(e.property.split("."),3),s=(u[0],u[1]);u[2],t.push({selector:'[data-id="'.concat(this.json.id,'"] .face[data-index="').concat(s,'"]'),properties:[e$({},e,{property:"background-color"})]})}if(e.property.includes(".background")){var l=JE(e.property.split("."),3);l[0],s=l[1],l[2],t.push({selector:'[data-id="'.concat(this.json.id,'"] .face[data-index="').concat(s,'"]'),properties:[e$({},e,{property:"background-image"})]})}}},{key:"toAnimationKeyframes",value:function(t){var e=this,n=[],r=[],o=[];t.forEach((function(t){t.property.includes("face")||s$[t.property]?n.push(t):l$[t.property]?r.push(t):f$[t.property]&&o.push(t)}));var i=[];return r.length&&i.push({selector:'[data-id="'.concat(this.json.id,'"]'),properties:r}),o.length&&i.push({selector:'[data-id="'.concat(this.json.id,'"] div'),properties:o}),n.length&&n.forEach((function(t){e.setCustomKeyframes(i,t)})),i}},{key:"convert",value:function(t){return(t=a$(c$(e.prototype),"convert",this).call(this,t)).count=_.parse(t.count),t.rate=_.parse(t.rate),t}},{key:"toCloneObject",value:function(){var t=this,n={};return fe(this.json.count.value).forEach((function(e,r){n["face.".concat(r,".color")]=t.json["face.".concat(r,".color")],n["face.".concat(r,".background")]=t.json["face.".concat(r,".background")]})),e$({},a$(c$(e.prototype),"toCloneObject",this).call(this),{count:this.json.count.clone(),rate:this.json.rate.clone()},n)}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Cylinder"}},{key:"getIcon",value:function(){return Ag.cylinder}},{key:"toDefaultCSS",value:function(){var t={};return this.json.x&&(t.left=this.json.x),this.json.y&&(t.top=this.json.y),e$({},t,{},this.toKeyListCSS("position","right","bottom","width","height","transform-origin","transform","transform-style","perspective","perspective-origin"))}},{key:"toCSS",value:function(){return e$({},this.toVariableCSS(),{},this.toDefaultCSS(),{},this.toWebkitCSS(),{},this.toBoxModelCSS(),{},this.toAnimationCSS(),{},this.toTransitionCSS())}},{key:"toNestedCSS",value:function(){var t=this.json,e=t.count.value,n=t.width,r=t["backface-visibility"],o=t.rate.value,i=this.cylinderInfo,a=i.angle,c=i.r,u=i.faceWidth,s=e$({},this.toKeyListCSS("filter","mix-blend-mode","border-radius","opacity","background-color"),{},this.toBackgroundImageCSS(),{},this.toBorderCSS(),{},this.toClipPathCSS()),l=fe(e).map((function(e,n){var r=n*a,i="face.".concat(n,".color"),u="face.".concat(n,".background");return{selector:'.face[data-index="'.concat(n,'"]'),cssText:"\n          transform:rotateY(".concat(r,"deg) translateZ(").concat(c*o,"px);\n          ").concat(t[i]?"background-color: ".concat(t[i],";"):"","\n          ").concat(t[u]?"".concat(t[u],";"):"","\n        ").trim()}}));return[{selector:".face",cssText:"\n          position: absolute;\n          left: ".concat(n.value/2-u/2,"px;\n          top: 0px;\n          bottom: 0px;\n          right: 0px;\n          width: ").concat(u,"px;\n          backface-visibility: ").concat(r,";\n          opacity: 1;\n          pointer-events: none;\n          ").concat(de(s),"\n        ").trim()}].concat(QE(l))}},{key:"updateFunction",value:function(t){if(a$(c$(e.prototype),"updateFunction",this).call(this,t),+t.attr("data-count")!==this.json.count.value){t.$$(".face").forEach((function(t){return t.remove()}));var n=fe(this.json.count.value).map((function(t,e){return"<div class='face' data-index=\"".concat(e,'"></div>')})).join("");t.appendHTML(n),t.attr("data-count",this.json.count)}}},{key:"cylinderInfo",get:function(){var t=this.json.width.value,e={x:a=t/2,y:t/2},n=[],r=this.json.count.value;r<3&&(r=3);for(var o=360/r,i=0;i<360;i+=o)n.push(H(i,a,e.x,e.y));var a,c=G(n[0].x,n[0].y,n[1].x,n[1].y),u={x:(n[0].x+n[1].x)/2,y:(n[0].y+n[1].y)/2};return{polygon:n,faceWidth:c,angle:o,r:a=G(u.x,u.y,e.x,e.y)}}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.itemType,r=this.json.count.value;return"\n      <div class='element-item ".concat(n,"' data-id=\"").concat(e,'" data-count="').concat(r,'">\n        ').concat(this.toDefString,"\n        ").concat(fe(r).map((function(t,e){return"<div class='face' data-index=\"".concat(e,'"></div>')})).join(""),"\n      </div>")}},{key:"svg",get:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y;r=r.value,o=o.value;var i=this.toCSS(),a=this.toNestedCSS(),c=this.json.count.value,u=a.find((function(t){return".face"===t.selector}))||{cssText:""};u=u.cssText.replace(/\n/g,"");var s=fe(c).map((function(t,e){return a[e+1].cssText.replace(/\n/g,"")}));return delete i.left,delete i.top,"absolute"===i.position&&delete i.position,'\n    <g transform="translate('.concat(r,", ").concat(o,')">\n    ').concat(this.toDefString,"\n      <foreignObject ").concat(be({width:e.value,height:n.value,overflow:"visible"}),'>\n        <div xmlns="http://www.w3.org/1999/xhtml">\n          <div style="').concat(de(i),'">\n            ').concat(fe(c).map((function(t,e){return"<div class='face' data-index=\"".concat(e,"\" style='").concat(u,";").concat(s[e],";'></div>")})).join(""),"\n          </div>\n        </div>\n      </foreignObject>    \n    </g>\n")}}])&&o$(n.prototype,r),o&&o$(n,o),e}(VE);function y$(t){return(y$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h$(Object(n),!0).forEach((function(e){v$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g$(t,e){return!e||"object"!==y$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w$(t,e,n){return(w$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O$(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function O$(t){return(O$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k$(t,e){return(k$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bo.registerComponent("cylinder",p$);var j$=function(t){function e(){return b$(this,e),g$(this,O$(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k$(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w$(O$(e.prototype),"getDefaultObject",this).call(this,d$({itemType:"artboard",name:"New ArtBoard",width:_.px(1e3),height:_.px(1e3),"background-color":"white"},t))}},{key:"toCloneObject",value:function(){return d$({},w$(O$(e.prototype),"toCloneObject",this).call(this),{name:this.json.name})}},{key:"getDefaultTitle",value:function(){return"ArtBoard"}},{key:"getIcon",value:function(){return Ag.artboard}}])&&m$(n.prototype,r),o&&m$(n,o),e}(Tg);function S$(t){return(S$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P$(Object(n),!0).forEach((function(e){_$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C$(t,e){return!e||"object"!==S$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T$(t,e,n){return(T$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R$(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function R$(t){return(R$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D$(t,e){return(D$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bo.registerComponent("artboard",j$);var V$=function(t){function e(){return E$(this,e),C$(this,R$(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D$(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return Ag.image}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return T$(R$(e.prototype),"getDefaultObject",this).call(this,x$({itemType:"image",name:"New Image",elementType:"image",src:""},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Image"}},{key:"getIcon",value:function(){return Ag.image}},{key:"toCloneObject",value:function(){return x$({},T$(R$(e.prototype),"toCloneObject",this).call(this),{src:this.json.src+""})}},{key:"resize",value:function(){this.reset({width:this.json.naturalWidth.clone(),height:this.json.naturalHeight.clone()})}}])&&$$(n.prototype,r),o&&$$(n,o),e}(Ng);function A$(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}bo.registerComponent("image",V$);var L$=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getAllDropItems",value:function(t){var e=[];t.dataTransfer&&(e=A$(t.dataTransfer.types).map((function(e,n){if(e.includes("text"))return{kind:"string",type:e,data:t.dataTransfer.getData(e)}})).filter((function(t){return t})));var n=[];return t.dataTransfer&&(n=A$(t.dataTransfer.files)),[].concat(A$(e),A$(n))}}],(n=null)&&I$(e.prototype,n),r&&I$(e,r),t}(),M$=["blur","grayscale","hue-rotate","invert","brightness","contrast","drop-shadow","opacity","saturate","sepia","svg"],z$=["check","grid","dot","cross-dot","diagonal-line","vertical-line","horizontal-line"],B$=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"].join(","),F$={text:!0,points:!0,textLength:!0,startOffset:!0,lengthAdjust:!0},H$={d:!0},G$={position:!0,x:!0,y:!0,right:!0,bottom:!0,width:!0,height:!0,rootVariable:!0,variable:!0,transform:!0,filter:!0,"backdrop-filter":!0,"background-color":!0,"background-clip":!0,"background-image":!0,"border-radius":!0,"box-shadow":!0,"text-shadow":!0,"text-clip":!0,"clip-path":!0,color:!0,"font-size":!0,"font-stretch":!0,"line-height":!0,"text-align":!0,"text-transform":!0,"text-decoration":!0,"letter-spacing":!0,"word-spacing":!0,"text-indent":!0,"perspective-origin":!0,"transform-origin":!0,"transform-style":!0,perspective:!0,"mix-blend-mode":!0,opacity:!0,rotate:!0,"text-fill-color":!0,"text-stroke-color":!0,"text-stroke-width":!0,"offset-path":!0,"offset-distance":!0,border:!0,outline:!0,borderRadius:!0,animations:!0,transitions:!0,fill:!0,"fill-opacity":!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"fill-rule":!0,"stroke-linecap":!0,"stroke-linejoin":!0},Y$=function(t){return F$[t]||!1},X$=function(t){return H$[t]||!1},N$=function(t){return G$[t]||!1};function K$(t){return(K$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W$(Object(n),!0).forEach((function(e){Z$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Z$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q$(t,e){return!e||"object"!==K$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tC(t,e,n){return(tC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=eC(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function eC(t){return(eC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nC(t,e){return(nC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rC=function(t){function e(){return q$(this,e),Q$(this,eC(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nC(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tC(eC(e.prototype),"getDefaultObject",this).call(this,U$({itemType:"svg",name:"New SVG",elementType:"svg",overflow:"visible",stroke:"black","stroke-width":1,svgfilter:"",fill:"transparent","fill-rule":"","fill-opacity":"","stroke-linecap":"","stroke-linejoin":"","stroke-dashoffset":0,"stroke-dasharray":" ","text-anchor":"start","motion-based":!1},t))}},{key:"toCloneObject",value:function(){var t=this.json;return U$({},tC(eC(e.prototype),"toCloneObject",this).call(this),{overflow:t.overflow,stroke:t.stroke,"stroke-width":t["stroke-width"],svgfilter:t.svgfilter,fill:t.fill,"fill-rule":t["fill-rule"],"fill-opacity":t["fill-opacity"],"stroke-linecap":t["stroke-linecap"],"stroke-linejoin":t["stroke-linejoin"],"stroke-dashoffset":t["stroke-dashoffset"],"stroke-dasharray":t["stroke-dasharray"],"text-anchor":t["text-anchor"],"motion-based":t["motion-based"]})}},{key:"getDefaultTitle",value:function(){return"SVG"}}])&&J$(n.prototype,r),o&&J$(n,o),e}(Ng);function oC(t){return(oC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function aC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iC(Object(n),!0).forEach((function(e){cC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lC(t,e){return!e||"object"!==oC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fC(t,e,n){return(fC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pC(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function pC(t){return(pC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yC(t,e){return(yC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hC=function(t){function e(){return uC(this,e),lC(this,pC(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yC(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return Ag.edit}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fC(pC(e.prototype),"getDefaultObject",this).call(this,aC({itemType:"svg-path",name:"New Path","stroke-width":5,d:"",segments:[],totalLength:0},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"setCache",value:function(){this.rect={width:this.json.width.clone(),height:this.json.height.clone()},this.json.path||(this.json.path=new Ro(this.json.d)),this.cachePath?this.json.path.d!==this.cachePath.d&&(this.cachePath=this.json.path.clone()):this.cachePath=this.json.path.clone()}},{key:"recover",value:function(){this.rect||this.setCache();var t=this.rect.width.value;0===t&&(t=1);var e=this.rect.height.value;0===e&&(e=1);var n=this.json.width.value/t,r=this.json.height.value/e;this.scale(n,r)}},{key:"scale",value:function(t,e){this.json.d=this.cachePath.clone().scaleTo(t,e),this.json.path.reset(this.json.d)}},{key:"convert",value:function(t){return(t=fC(pC(e.prototype),"convert",this).call(this,t)).d&&(t.path=new Ro(t.d)),t}},{key:"toCloneObject",value:function(){var t=this.json;return aC({},fC(pC(e.prototype),"toCloneObject",this).call(this),{totalLength:t.totalLength,d:t.d,segments:ue(this.json.segments)})}},{key:"getDefaultTitle",value:function(){return"Path"}},{key:"toAnimationKeyframes",value:function(t){var e=t.filter((function(t){return Y$(t.property)&&X$(t.property)})),n=t.filter((function(t){return N$(t.property)}));return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:n},{selector:'[data-id="'.concat(this.json.id,'"] path'),properties:e}]}}])&&sC(n.prototype,r),o&&sC(n,o),e}(rC);function dC(t){return(dC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vC(Object(n),!0).forEach((function(e){mC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OC(t,e){return!e||"object"!==dC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kC(t,e,n){return(kC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jC(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function jC(t){return(jC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function SC(t,e){return(SC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bo.registerComponent("svg-path",hC);var PC=function(t){function e(){return gC(this,e),OC(this,jC(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SC(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return Ag.title}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kC(jC(e.prototype),"getDefaultObject",this).call(this,bC({itemType:"svg-text",name:"New Text",totalLength:0,fill:"rgba(0, 0, 0, 1)",text:"Insert a text","font-weight":_.number(100),textLength:_.em(0),lengthAdjust:"spacingAndGlyphs","shape-inside":"","shape-subtract":"","shape-margin":"","shape-padding":""},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"setCache",value:function(){this.rect=this.clone(!1)}},{key:"convert",value:function(t){return(t=kC(jC(e.prototype),"convert",this).call(this,t)).textLength=_.parse(t.textLength),t}},{key:"toCloneObject",value:function(){var t=this.json;return bC({},kC(jC(e.prototype),"toCloneObject",this).call(this),{totalLength:t.totalLength,text:t.text,textLength:"".concat(t.textLength),lengthAdjust:t.lengthAdjust,"shape-inside":t["shape-inside"]})}},{key:"getDefaultTitle",value:function(){return"Text"}},{key:"toAnimationKeyframes",value:function(t){var e=t.filter((function(t){return Y$(t.property)})),n=t.filter((function(t){return N$(t.property)}));return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:n},{selector:'[data-id="'.concat(this.json.id,'"] text'),properties:e}]}}])&&wC(n.prototype,r),o&&wC(n,o),e}(rC);function xC(t){return(xC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function EC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_C(Object(n),!0).forEach((function(e){$C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RC(t,e){return!e||"object"!==xC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DC(t,e,n){return(DC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=VC(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function VC(t){return(VC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function AC(t,e){return(AC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bo.registerComponent("svgtext",PC);var IC=function(t){function e(){return CC(this,e),RC(this,VC(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AC(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return Ag.text_rotate}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return DC(VC(e.prototype),"getDefaultObject",this).call(this,EC({itemType:"svg-textpath",name:"New TextPath",d:"",totalLength:0,fill:"rgba(0, 0, 0, 1)",text:"Insert a text",textLength:_.em(0),lengthAdjust:"spacingAndGlyphs",startOffset:_.em(0)},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"setCache",value:function(){this.rect=this.clone(!1),this.json.path||(this.json.path=new Ro(this.json.d)),this.cachePath=this.json.path.clone()}},{key:"recover",value:function(){this.rect||this.setCache();var t=this.json.width.value/this.rect.width.value,e=this.json.height.value/this.rect.height.value;this.scale(t,e)}},{key:"scale",value:function(t,e){this.json.d=this.cachePath.clone().scaleTo(t,e),this.json.path.reset(this.json.d)}},{key:"convert",value:function(t){return(t=DC(VC(e.prototype),"convert",this).call(this,t)).path=new Ro(t.d),t.textLength=_.parse(t.textLength),t.startOffset=_.parse(t.startOffset),t}},{key:"toCloneObject",value:function(){var t=this.json;return EC({},DC(VC(e.prototype),"toCloneObject",this).call(this),{totalLength:t.totalLength,d:t.d,text:t.text,textLength:"".concat(t.textLength),lengthAdjust:t.lengthAdjust,startOffset:"".concat(t.startOffset)})}},{key:"getDefaultTitle",value:function(){return"TextPath"}},{key:"toAnimationKeyframes",value:function(t){var e=t.filter((function(t){return Y$(t.property)})),n=t.filter((function(t){return X$(t.property)})),r=t.filter((function(t){return N$(t.property)}));return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:r},{selector:'[data-id="'.concat(this.json.id,'"] textPath'),properties:e},{selector:'[data-id="'.concat(this.json.id,'"] path'),properties:n}]}}])&&TC(n.prototype,r),o&&TC(n,o),e}(rC);function LC(t){return(LC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?MC(Object(n),!0).forEach((function(e){BC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function BC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GC(t,e){return!e||"object"!==LC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YC(t,e,n){return(YC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=XC(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function XC(t){return(XC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function NC(t,e){return(NC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bo.registerComponent("svg-textpath",IC);var KC=function(t){function e(){return FC(this,e),GC(this,XC(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NC(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return Ag.title}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return YC(XC(e.prototype),"getDefaultObject",this).call(this,zC({itemType:"text",name:"New Text",elementType:"p",content:""},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Text"}},{key:"toCloneObject",value:function(){return zC({},YC(XC(e.prototype),"toCloneObject",this).call(this),{content:this.json.content})}}])&&HC(n.prototype,r),o&&HC(n,o),e}(Ng);function WC(t){return(WC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ZC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?UC(Object(n),!0).forEach((function(e){qC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tT(t,e){return!e||"object"!==WC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eT(t,e,n){return(eT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nT(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function nT(t){return(nT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rT(t,e){return(rT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bo.registerComponent("text",KC);var oT=function(t){function e(){return JC(this,e),tT(this,nT(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rT(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return Ag.rect}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return eT(nT(e.prototype),"getDefaultObject",this).call(this,ZC({itemType:"rect",name:"New Rect"},t))}},{key:"getDefaultTitle",value:function(){return"Rect"}}])&&QC(n.prototype,r),o&&QC(n,o),e}(Ng);function iT(t){return(iT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?aT(Object(n),!0).forEach((function(e){uT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function uT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fT(t,e){return!e||"object"!==iT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pT(t,e,n){return(pT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yT(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function yT(t){return(yT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hT(t,e){return(hT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bo.registerComponent("rect",oT);var dT=function(t){function e(){return sT(this,e),fT(this,yT(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hT(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return Ag.lens}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pT(yT(e.prototype),"getDefaultObject",this).call(this,cT({itemType:"circle",name:"New Circle","border-radius":"100%"},t))}},{key:"getDefaultTitle",value:function(){return"Circle"}}])&&lT(n.prototype,r),o&&lT(n,o),e}(Ng);function vT(t){return(vT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bT(Object(n),!0).forEach((function(e){gT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kT(t,e){return!e||"object"!==vT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jT(t,e,n){return(jT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ST(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ST(t){return(ST=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function PT(t,e){return(PT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bo.registerComponent("circle",dT);var xT=function(t){function e(){return wT(this,e),kT(this,ST(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PT(t,e)}(e,t),n=e,o=[{key:"getIcon",value:function(){return Ag.video}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jT(ST(e.prototype),"getDefaultObject",this).call(this,mT({itemType:"video",name:"New Video",elementType:"video",src:"",srcType:"video/mp4",controls:!1,preload:"auto",poster:"",autoplay:!1,buffered:!1,crossorigin:"anonymous",loop:!1,muted:!1,played:!1,currentTime:0,playbackRate:1,playTime:"0:1:1"},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Video"}},{key:"getIcon",value:function(){return Ag.video}},{key:"toCloneObject",value:function(){return mT({},jT(ST(e.prototype),"toCloneObject",this).call(this),{src:this.json.src+""})}},{key:"resize",value:function(){this.reset({width:this.json.naturalWidth.clone(),height:this.json.naturalHeight.clone()})}}])&&OT(n.prototype,r),o&&OT(n,o),e}(Ng);bo.registerComponent("video",xT);var _T={Project:xE,ArtBoard:j$,Layer:Ng,RectLayer:oT,CircleLayer:dT,ImageLayer:V$,TextLayer:KC,VideoLayer:xT,SVGPathItem:hC,SVGTextItem:PC,SVGTextPathItem:IC,Component:VE,CubeLayer:ZE,CylinderLayer:p$};function ET(t){return(ET="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $T(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function CT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RT(t,e){return!e||"object"!==ET(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DT(t){return(DT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function VT(t,e){return(VT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var AT={"image-resource":"Image",url:"Image",image:"Image","static-gradient":"Static","linear-gradient":"Linear","repeating-linear-gradient":"".concat(Ag.repeat," Linear"),"radial-gradient":"Radial","repeating-radial-gradient":"".concat(Ag.repeat," Radial"),"conic-gradient":"Conic","repeating-conic-gradient":"".concat(Ag.repeat," Conic")},IT={image:"image","image-resource":"image",url:"image","static-gradient":"gradient","linear-gradient":"gradient","repeating-linear-gradient":"gradient","radial-gradient":"gradient","repeating-radial-gradient":"gradient","conic-gradient":"gradient","repeating-conic-gradient":"gradient"},LT=function(t){function e(){return CT(this,e),RT(this,DT(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VT(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return NB}},{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],value:this.props.value,images:this.parseBackgroundImage(this.props.value)}}},{key:"parseBackgroundImage",value:function(t){return cu.parseStyle(ve(t))}},{key:"setValue",value:function(t){this.setState({value:t,images:this.parseBackgroundImage(t)})}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return("\n            <div class='background-image-editor' >\n                <div class='label ".concat(t,"'>\n                    <label>").concat(this.props.title||"","</label>\n                    <div class='tools'>\n                        <button type=\"button\" ref='$add'>").concat(Ag.add," ").concat(this.props.title?"":"Add","</button>\n                    </div>\n                </div>\n                <div class='fill-list' ref='$fillList'></div>\n            </div>\n        "))}},{key:"templateForBlendMode",value:function(t,e){return"\n        <div class='popup-item'>\n          <BlendSelectEditor \n                ref='$blend_".concat(t,"' \n                key='blendMode' \n                value=\"").concat(e,'" \n                params="').concat(t,'" \n                onchange="changeRangeEditor" \n            />\n        </div>\n        ')}},{key:Fr("$fillList"),value:function(){var t=this,e=this.$selection.current||{color:"black"};return this.state.images.map((function(n,r){var o=n.image,i=IT[o.type],a=AT[o.type],c=n.selected?"selected":"";return n.selected&&(t.selectedIndex=r),"\n            <div class='fill-item ".concat(c,"' data-index='").concat(r,"' ref=\"fillIndex").concat(r,"\"  draggable='true' data-fill-type=\"").concat(i,'" >\n                <BackgroundPositionEditor ').concat(be({key:"background-position",index:r,ref:"$bp".concat(r),x:n.x,y:n.y,width:n.width,height:n.height,repeat:n.repeat,size:n.size,blendMode:n.blendMode})," onchange='changePattern' />\n                <GradientSingleEditor ").concat(be({index:r,ref:"$gse".concat(r),image:n.image,color:e.color,key:"background-image"})," onchange='changePattern'\n\n                />\n                <div class='fill-info'>\n                  <div class='gradient-info'>\n                    <div class='fill-title' ref=\"fillTitle").concat(r,'">').concat(a,"</div>\n                    <div class='blend'>\n                      ").concat(t.templateForBlendMode(r,n.blendMode),"\n                    </div>\n                    <div class='tools'>\n                      <button type=\"button\" class='remove' data-index='").concat(r,"'>").concat(Ag.remove2,"</button>\n                    </div>\n                  </div>\n                </div>\n            </div>\n            ")}))}},{key:"modifyBackgroundImage",value:function(){var t=de(cu.toPropertyCSS(this.state.images));this.parent.trigger(this.props.onchange,this.props.key,t)}},{key:ed("add"),value:function(){this.state.images.push(new cu({image:new Na({angle:90,colorsteps:[new Zi({percent:0,color:"white",index:0}),new Zi({percent:100,color:"black",index:1})]})})),this.refresh(),this.modifyBackgroundImage()}},{key:rr("$add"),value:function(){this.trigger("add")}},{key:ur("$fillList .fill-item"),value:function(t){this.startIndex=+t.$dt.attr("data-index")}},{key:lr("$fillList .fill-item")+zr,value:function(t){}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat($T(t.splice(e,1))))}},{key:"sortBackgroundImage",value:function(t,e){this.sortItem(this.state.images,t,e)}},{key:sr("$fillList .fill-item")+zr,value:function(t){var e=+t.$dt.attr("data-index");this.selectItem(this.startIndex,!0),this.sortBackgroundImage(this.startIndex,e),this.refresh(),this.modifyBackgroundImage()}},{key:"getCurrentBackgroundImage",value:function(){return this.state.images[this.selectedIndex]}},{key:rr("$fillList .tools .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.images.splice(e,1),this.refresh(),this.modifyBackgroundImage()}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.refs["fillIndex".concat(t)].addClass("selected"):this.refs["fillIndex".concat(t)].removeClass("selected"),this.state.images.forEach((function(e,n){e.selected=n===t}))}},{key:ed("selectFillPopupTab"),value:function(t,e){var n=IT[t];this.refs["fillIndex".concat(this.selectedIndex)].attr("data-fill-type",n)}},{key:ed("changeRangeEditor"),value:function(t,e,n){this.trigger("changePattern",t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e),n)}},{key:ed("changePattern")+Ar(10),value:function(t,e,n){var r=+n;this.state.images[r].reset(e),console.log(this.$config.get("bodyEvent")),this.modifyBackgroundImage(),this.refresh()}}])&&TT(n.prototype,r),o&&TT(n,o),e}(nd);function MT(t){return(MT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FT(t,e){return!e||"object"!==MT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function HT(t){return(HT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function GT(t,e){return(GT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var YT=function(t){function e(){return zT(this,e),FT(this,HT(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GT(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],boxShadows:fw.parseStyle(this.props.value||"")}}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return('\n      <div class="box-shadow-editor" >\n        <div class=\'label '.concat(t,"' >\n            <label>").concat(this.props.title||"",'</label>\n            <div class=\'tools\'>\n              <button type="button" ref="$add" title="add Box Shadow">').concat(Ag.add,"</button> ").concat(this.props.title?"":"Add","\n            </div>\n        </div>\n        <div class='box-shadow-list' ref='$shadowList'></div>\n      </div>\n    "))}},{key:Fr("$shadowList"),value:function(){var t=this.state.boxShadows.map((function(t,e){return'\n        <div class="shadow-item real" data-index="'.concat(e,'">\n          <div class="color">\n            <div class=\'color-view\' style="background-color: ').concat(t.color,'">\n            </div>\n          </div>\n          <div class="inset" data-value="').concat(t.inset,'">').concat(Ag.check,'</div>\n          <div class="offset-x">').concat(t.offsetX,'</div>\n          <div class="offset-y">').concat(t.offsetY,'</div>\n          <div class="blur-radius">').concat(t.blurRadius,'</div>\n          <div class="spread-radius">').concat(t.spreadRadius,'</div>\n          <div class="tools">\n            <button type="button" class="remove" data-index="').concat(e,'">\n              ').concat(Ag.remove2,"\n            </button>\n          </div>\n        </div>\n      ")}));return t.length&&t.push('\n      <div class="shadow-item desc">\n        <div class="color"></div>      \n        <div class="inset" >Inset</div>\n\n        <div class="offset-x">X</div>\n        <div class="offset-y">Y</div>\n        <div class="blur-radius">'.concat(this.$i18n("boxshadow.editor.blur"),'</div>\n        <div class="spread-radius">').concat(this.$i18n("boxshadow.editor.spread"),'</div>\n        <div class="tools">\n        </div>\n      </div>\n      ')),t.join("")}},{key:ed("refreshSelection"),value:function(){this.refresh()}},{key:"modifyBoxShadow",value:function(){var t=this.state.boxShadows.join(", ");this.parent.trigger(this.props.onchange,t)}},{key:ed("add"),value:function(){this.state.boxShadows.push(new fw({offsetX:_.px(2),offsetY:_.px(2),blurRadius:_.px(3),spreadRadius:_.px(1)})),this.refresh(),this.modifyBoxShadow()}},{key:rr("$add"),value:function(){this.trigger("add")}},{key:rr("$shadowList .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.boxShadows.splice(e,1),this.refresh(),this.modifyBoxShadow(),this.emit("hideBoxShadowPropertyPopup")}},{key:rr("$shadowList .shadow-item.real > div:not(.tools)"),value:function(t){var e=+t.$dt.closest("shadow-item").attr("data-index"),n=this.state.boxShadows[e];this.viewShadowPopup(n,e)}},{key:"viewShadowPopup",value:function(t,e){this.selectedIndex=e,this.viewBoxShadowPropertyPopup(t)}},{key:"viewBoxShadowPropertyPopup",value:function(t){this.emit("showBoxShadowPropertyPopup",{changeEvent:"changeBoxShadowEditorPopup",color:t.color,inset:t.inset,offsetX:t.offsetX,offsetY:t.offsetY,blurRadius:t.blurRadius,spreadRadius:t.spreadRadius},{id:this.id})}},{key:ed("changeBoxShadowEditorColor"),value:function(t){this.trigger("changeBoxShadowEditorPopup",{color:t})}},{key:ed("changeBoxShadowEditorPopup"),value:function(t,e){if(e.id===this.id){var n=this.state.boxShadows[this.selectedIndex];n&&(n.reset(t),this.refresh(),this.modifyBoxShadow())}}}])&&BT(n.prototype,r),o&&BT(n,o),e}(nd);function XT(t){return(XT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NT(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function KT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UT(t,e){return!e||"object"!==XT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZT(t){return(ZT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qT(t,e){return(qT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var JT=function(t){function e(){return KT(this,e),UT(this,ZT(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qT(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props["key-value-char"]||":",e=this.props.split||",",n=(this.props.options||"").split(e).map((function(t){return t.trim()})),r=this.props.value,o=this.props.tabindex;return{keyValueChar:t,splitChar:e,label:this.props.label||"",options:n,value:r,tabIndex:o}}},{key:"template",value:function(){var t=this.state,e=t.label,n=t.tabIndex?'tabIndex="1"':"";return"\n            <div class='select-editor ".concat(e?"has-label":"","'>\n                ").concat(e?'<label title="'.concat(e,'">').concat(e,"</label>"):"","\n                <select ref='$options' ").concat(n,"></select>\n            </div>\n        ")}},{key:"getValue",value:function(){return this.refs.$options.value}},{key:"setValue",value:function(t){this.state.value=t+"",this.refs.$options.val(this.state.value),this.refresh()}},{key:"refresh",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.load()}},{key:Xr("$options"),value:function(){return{"data-count":this.state.options.length.toString()}}},{key:Fr("$options"),value:function(){var t=this;return this.state.options.map((function(e){var n=e;if((o=e).includes(t.state.keyValueChar)){var r=NT(o.split(t.state.keyValueChar),2),o=r[0];n=r[1]}""===n?n=t.props["none-value"]?t.props["none-value"]:"":"-"===n&&(n="----------",o="");var i=o===t.state.value?"selected":"";return"<option ".concat(i,' value="').concat(o,'">').concat(n,"</option>")}))}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({options:t.split(this.state.splitChar).map((function(t){return t.trim()}))})}},{key:yr("$options"),value:function(){this.updateData({value:this.refs.$options.value})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&WT(n.prototype,r),o&&WT(n,o),e}(nd);function QT(t){return(QT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rR(t,e){return!e||"object"!==QT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oR(t){return(oR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function iR(t,e){return(iR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var aR=function(t){function e(){return eR(this,e),rR(this,oR(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iR(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:JT}}},{key:"initState",value:function(){var t=this.props.units||"px,em,%",e=_.parse(this.props.value||_.z());return{removable:"true"===this.props.removable,calc:"true"===this.props.calc,label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",units:t,value:e}}},{key:"template",value:function(){return"<div class='small-editor' ref='$body'></div>"}},{key:"refresh",value:function(){this.load()}},{key:Fr("$body"),value:function(){var t=this.state,e=t.min,n=t.max,r=t.step,o=t.label,i=t.removable,a=t.layout,c=+this.state.value.value.toString();isNaN(c)&&(c=0);var u=a,s=(+c).toString(),l=this.state.units.split(",").map((function(t){var e=t;return"number"===e&&(e=""),"".concat(t,":").concat(e)})).join(",");return"\n        <div ".concat(be({ref:"$range",class:me(tR({"range-editor":!0,"has-label":!!o,"is-removable":i},u,!0))}),">\n            ").concat(o?'<label title="'.concat(o,'">').concat(o,"</label>"):"","\n            <div class='range-editor-type' data-type='range'>\n                <input type='range' ref='$property' value=\"").concat(s,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" /> \n                <div class='area' ref='$rangeArea'>\n                    <input type='number' ref='$propertyNumber' value=\"").concat(s,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" tabIndex=\"1\" />\n                    <SelectEditor ref='$unit' key='unit' value=\"").concat(this.state.selectedUnit||this.state.value.unit,'" options="').concat(l,"\" onchange='changeUnit' />\n                </div>\n            </div>\n            <button type='button' class='remove thin' ref='$remove' title='Remove'>").concat(Ag.remove,"</button>\n        </div>\n    ")}},{key:"getValue",value:function(){return this.state.value.clone()}},{key:"setValue",value:function(t){this.setState({value:_.parse(t)})}},{key:dr("$propertyNumber"),value:function(t){this.refs.$rangeArea.addClass("focused")}},{key:mr("$propertyNumber"),value:function(t){this.refs.$rangeArea.removeClass("focused")}},{key:rr("$remove"),value:function(t){this.updateData({value:""})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:"initValue",value:function(){""==this.state.value&&(this.state.value=new _(0,this.children.$unit.getValue()))}},{key:hr("$propertyNumber"),value:function(t){var e=+this.getRef("$propertyNumber").value;this.getRef("$property").val(e),this.initValue(),this.updateData({value:new _(e,this.children.$unit.getValue())})}},{key:kr("$property")+Lr("moveRange")+Mr("moveRange"),value:function(){}},{key:"moveRange",value:function(){this.trigger("changeValue")}},{key:ed("changeValue")+Ir(100),value:function(){var t=+this.getRef("$property").value;this.refs.$propertyNumber.val(t),this.initValue(),this.updateData({value:new _(t,this.children.$unit.getValue())})}},{key:ed("changeUnit"),value:function(t,e){this.initValue(),this.updateData({value:this.state.value.toUnit(e)})}}])&&nR(n.prototype,r),o&&nR(n,o),e}(nd);function cR(t){return(cR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lR(t,e){return!e||"object"!==cR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fR(t){return(fR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pR(t,e){return(pR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yR=[{key:"border-top-left-radius",title:"topLeft"},{key:"border-top-right-radius",title:"topRight"},{key:"border-bottom-right-radius",title:"bottomRight"},{key:"border-bottom-left-radius",title:"bottomLeft"}],hR=yR.map((function(t){return t.key})),dR=function(t){function e(){return uR(this,e),lR(this,fR(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pR(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:aR}}},{key:"initState",value:function(){return Qg.parseStyle(this.props.value)}},{key:"template",value:function(){return"<div class='border-radius-editor' ref='$body'></div>"}},{key:ed("changeBorderRadius"),value:function(t,e){var n=this;"border-radius"===t&&hR.forEach((function(t){n.children["$".concat(t)].setValue(e.clone())})),this.setBorderRadius()}},{key:Fr("$body"),value:function(){var t=this,e=this.state.isAll?"all":"partitial",n=this.state["border-radius"];return'\n      <div class="property-item border-radius-item">\n        <div class="radius-selector" data-selected-value="'.concat(e,'" ref="$selector">\n          <button type="button" data-value="all">').concat(Ag.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(Ag.border_inner,"\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='border-radius' value=\"").concat(n,'" onchange=\'changeBorderRadius\' />\n        </div>\n      </div>\n      <div\n        class="property-item full border-radius-item"\n        ref="$partitialSetting"\n        style="display: none;"\n      >\n        <div class="radius-setting-box" ref="$radiusSettingBox">\n          ').concat(yR.map((function(e){var n=t.state[e.key],r=t.$i18n("border.radius.editor."+e.title);return"\n              <div>\n                  <RangeEditor ref='$".concat(e.key,"' label='").concat(r,"' key='").concat(e.key,"' value='").concat(n,"' onchange='changeBorderRadius' />\n              </div>  \n            ")})).join(""),"\n        </div>\n      </div>\n    ")}},{key:hr("$radiusSettingBox input"),value:function(t){this.setBorderRadius()}},{key:yr("$radiusSettingBox select"),value:function(t){this.setBorderRadius()}},{key:"setBorderRadius",value:function(){var t=this;"all"===this.refs.$selector.attr("data-selected-value")?(this.state.isAll=!0,this.state["border-radius"]=this.children.$all.getValue()):(this.state.isAll=!1,hR.forEach((function(e){t.state[e]=t.children["$".concat(e)].getValue()}))),this.modifyBorderRadius()}},{key:"modifyBorderRadius",value:function(){var t=this,e="";e=this.state.isAll?this.state["border-radius"]+"":hR.map((function(e){return"".concat(t.state[e])})).join(" "),this.parent.trigger(this.props.onchange,e)}},{key:rr("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setBorderRadius()}}])&&sR(n.prototype,r),o&&sR(n,o),e}(nd);function vR(t){return(vR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gR(t,e){return!e||"object"!==vR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wR(t){return(wR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function OR(t,e){return(OR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kR=function(t){function e(){return bR(this,e),gR(this,wR(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OR(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{params:this.props.params,color:this.props.color||"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyColor()}},{key:"modifyColor",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.state.color,this.state.params)}},{key:"changeColor",value:function(t){this.setState({color:t})}},{key:"setValue",value:function(t){this.changeColor(t)}},{key:Xr("$miniView"),value:function(){return{style:{"background-color":this.state.color}}}},{key:"template",value:function(){return"\n            <div class='color-single-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ".concat(this.state.color,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:rr("$preview"),value:function(t){this.viewColorPicker()}},{key:"viewColorPicker",value:function(){this.emit("showColorPickerPopup",{target:this,changeEvent:"changeColorSingleEditor",color:this.state.color})}},{key:ed("changeColorSingleEditor"),value:function(t,e){this.refs.$miniView.cssText("background-color: ".concat(t)),this.updateData({color:t})}}])&&mR(n.prototype,r),o&&mR(n,o),e}(nd);function jR(t){return(jR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xR(t,e){return!e||"object"!==jR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _R(t){return(_R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ER(t,e){return(ER=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $R=function(t){function e(){return SR(this,e),xR(this,_R(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ER(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{label:this.props.label,value:this.props.value||"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyColor()}},{key:"updateEndData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyEndColor()}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.changeColor(t)}},{key:"modifyColor",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:"modifyEndColor",value:function(){this.parent.trigger(this.props.onchangeend,this.props.key,this.state.value,this.props.params)}},{key:"changeColor",value:function(t){this.setState({value:t})}},{key:"refresh",value:function(){this.refs.$miniView.cssText("background-color: ".concat(this.state.value)),this.refs.$colorCode.val(this.state.value)}},{key:"template",value:function(){var t=this.state.label;return"\n            <div class='color-view-editor ".concat(t?"has-label":"","'>\n                ").concat(t?"<label>".concat(t,"</label>"):"","            \n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ").concat(this.state.value,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n                <div class='color-code'>\n                    <input type=\"text\" ref='$colorCode' value='").concat(this.state.value,'\' tabIndex="1" />\n                </div>\n            </div>\n        ')}},{key:Xr("$miniView"),value:function(){return{style:{"background-color":this.state.value}}}},{key:Xr("$colorCode"),value:function(){return{value:this.state.value}}},{key:dr("$colorCode"),value:function(t){this.refs.$colorCode.addClass("focused")}},{key:mr("$colorCode"),value:function(t){this.refs.$colorCode.removeClass("focused")}},{key:rr("$preview"),value:function(t){this.viewColorPicker()}},{key:"viewColorPicker",value:function(){this.emit("showColorPickerPopup",{target:this,changeEvent:"changeColorViewEditor",changeEndEvent:"changeEndColorViewEditor",color:this.state.value})}},{key:rr("$remove"),value:function(t){this.updateData({value:""})}},{key:hr("$el .color-code input"),value:function(t){var e=t.$dt.value;this.refs.$miniView.cssText("background-color: ".concat(e)),this.updateData({value:e})}},{key:ed("changeColorViewEditor"),value:function(t){this.updateData({value:t})}},{key:ed("changeEndColorViewEditor"),value:function(t){this.updateEndData({value:t})}}])&&PR(n.prototype,r),o&&PR(n,o),e}(nd);function CR(t){return(CR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TR(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function RR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VR(t,e){return!e||"object"!==CR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AR(t){return(AR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function IR(t,e){return(IR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var LR=function(t){function e(){return RR(this,e),VR(this,AR(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IR(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{key:this.props.key,currentBezier:vt(this.props.value||"linear"),currentBezierIndex:0,selectedColor:"#609de2",animatedColor:"#609de266",curveColor:"#609de2",baseLineColor:"rgba(117, 117, 117, 0.46)"}}},{key:"template",value:function(){var t=je(this.state.currentBezier,150,150),e=Se(this.state.currentBezier,150,150),n=je("ease",30,30),r=Se("ease",30,30),o=je("ease-in",30,30),i=Se("ease-in",30,30),a=je("ease-out",30,30),c=Se("ease-out",30,30);return"\n            <div class='cubic-bezier-editor'>\n                <div class='predefined'>\n                    <div class='left' ref='$left'>".concat(Ag.chevron_left,"</div>\n                    <div class='predefined-text' ref='$text'></div>\n                    <div class='right' ref='$right'>").concat(Ag.chevron_right,"</div>\n                </div>\n                <div class='animation'>\n                    <canvas \n                        class='animation-canvas' \n                        ref='$animationCanvas' \n                        title='Click and Replay point animation' \n                        width='230px' \n                        height='20px'\n                    ></canvas>\n                </div>\n                <div class='item-list' ref='$itemList' data-selected-value=''>\n                    <div class='item' data-bezier='ease' title='ease'>\n                        <svg class='item-canvas' width=\"30\" height=\"30\" viewBox=\"0 0 30 30\">\n                            <path d=\"").concat(n,'" stroke="white" stroke-width="1" fill=\'none\' />\n                            <path d="').concat(r,'" stroke="gray" stroke-width="1" fill=\'none\' />\n                        </svg>\n                    </div>\n                    <div class=\'item\' data-bezier=\'ease-in\' title=\'ease-in\'>\n                        <svg class=\'item-canvas\' width="30" height="30" viewBox="0 0 30 30">\n                            <path d="').concat(o,'" stroke="white" stroke-width="1" fill=\'none\' />\n                            <path d="').concat(i,'" stroke="gray" stroke-width="1" fill=\'none\' /> \n                        </svg>\n                    </div>\n                    <div class=\'item\' data-bezier=\'ease-out\' title=\'ease-out\'>\n                        <svg class=\'item-canvas\' width="30" height="30" viewBox="0 0 30 30">\n                            <path d="').concat(a,'" stroke="white" stroke-width="1" fill=\'none\' />\n                            <path d="').concat(c,'" stroke="gray" stroke-width="1" fill=\'none\' />\n                        </svg>\n                    </div>\n                </div>\n                <div class=\'bezier\'>\n                    <svg class=\'bezier-canvas\' width="150" height="150" viewBox="0 0 150 150" overflow="visible">\n                        <path d="').concat(t,'" stroke="white" stroke-width="1" fill=\'none\' ref=\'$bezierCanvas\' />\n                        <path d="').concat(e,"\" stroke=\"gray\" stroke-width=\"1\" fill='none' ref='$bezierCanvasPoint' />\n                    </svg>                \n                    <canvas class='bezier-canvas' ref='$canvas' width='200px' height=\"200px\"></canvas>\n                    <div class='control' ref='$control'>\n                        <div class='pointer1' ref='$pointer1'></div>\n                        <div class='pointer2' ref='$pointer2'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:Xr("$bezierCanvas"),value:function(){return{d:je(this.state.currentBezier,150,150)}}},{key:Xr("$bezierCanvasPoint"),value:function(){return{d:Se(this.state.currentBezier,150,150)}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyCubicBezier()}},{key:"modifyCubicBezier",value:function(){this.parent.trigger(this.props.onchange,this.state.key,bt(this.state.currentBezier))}},{key:rr("$left"),value:function(){var t=this.state,e=t.currentBezier,n=t.currentBezierIndex;0==n?n=dt.length-1:--n,e=dt[n],this.updateData({currentBezierIndex:n,currentBezier:e}),this.refresh()}},{key:rr("$right"),value:function(){var t=this.state,e=t.currentBezier,n=t.currentBezierIndex;n=++n%dt.length,e=dt[n],this.updateData({currentBezierIndex:n,currentBezier:e}),this.refresh()}},{key:rr("$text"),value:function(){var t=TR(dt[this.state.currentBezierIndex]);this.updateData({currentBezier:t}),this.refresh()}},{key:rr("$itemList .item"),value:function(t){var e=t.$dt.attr("data-bezier");this.refs.$itemList.attr("data-selected-value",e);var n=vt(e);this.updateData({currentBezier:n}),this.refresh()}},{key:"refresh",value:function(){this.refreshEasingText(),this.refreshBezierCanvas()}},{key:"refreshBezierCanvas",value:function(){this.bindData("$bezierCanvas"),this.bindData("$bezierCanvasPoint"),this.refreshPointer(),this.drawPoint()}},{key:"refreshEasingText",value:function(){this.refs.$text.html(this.state.currentBezier[4]||"ease")}},{key:"refreshPointer",value:function(){var t=vt(this.state.currentBezier),e=this.refs.$control.width(),n=this.refs.$control.height(),r=t[0]*e,o=(1-t[1])*n;this.refs.$pointer1.css({left:_.px(r).round(),top:_.px(o).round()}),r=t[2]*e,o=(1-t[3])*n,this.refs.$pointer2.css({left:_.px(r).round(),top:_.px(o).round()})}},{key:"drawPoint",value:function(){var t=this;this.timer&&clearTimeout(this.timer),this.animationTimer&&clearTimeout(this.animationTimer),this.timer=setTimeout((function(){t.animationPoint()}),100)}},{key:"start",value:function(t){var e=this,n=this.animationCanvasData.func(t),r=10+(this.animationCanvasData.width-20)*n.y,o=this.animationCanvasData.context;o.beginPath(),o.arc(r,10,5,0,2*Math.PI),o.fill(),o.stroke(),o.closePath(),t>=1||(this.animationTimer=setTimeout((function(){e.start(t+.05)}),50))}},{key:"animationPoint",value:function(){var t=vt(this.state.currentBezier),e=$t(bt(t));this.refs.$animationCanvas.clear();var n=this.refs.$animationCanvas.width(),r=this.refs.$animationCanvas.height(),o=this.refs.$animationCanvas.context();o.fillStyle=this.state.animatedColor,o.strokeStyle=this.state.selectedColor,o.lineWidth=1,this.animationCanvasData={func:e,width:n,height:r,context:o},this.start(0)}},{key:"setPosition",value:function(t){var e=this.refs.$control.width(),n=this.refs.$control.height(),r=this.refs.$control.offset().left,o=this.refs.$control.offset().top,i=t,a=i.x;0>a?a=0:i.x>document.body.clientWidth&&(a=document.body.clientWidth),(a-=r)<0&&(a=0),e<a&&(a=e);var c=i.y;return 0>c?c=0:i.y>document.body.clientHeight&&(c=document.body.clientHeight),c-=o,{x:M(a,e),y:c==n?0:(n-c)/n}}},{key:kr("$pointer1")+Lr("movePointer1")+Mr("drawPoint"),value:function(t){this.clientX=t.clientX,this.clientY=t.clientY}},{key:"movePointer1",value:function(t,e){var n=this.setPosition({x:this.clientX+t,y:this.clientY+e});this.state.currentBezier[0]=n.x,this.state.currentBezier[1]=n.y,this.refreshBezierCanvas(),this.modifyCubicBezier()}},{key:kr("$pointer2")+Lr("movePointer2")+Mr("drawPoint"),value:function(t){this.clientX=t.clientX,this.clientY=t.clientY}},{key:"movePointer2",value:function(t,e){var n=this.setPosition({x:this.clientX+t,y:this.clientY+e});this.state.currentBezier[2]=n.x,this.state.currentBezier[3]=n.y,this.refreshBezierCanvas(),this.modifyCubicBezier()}},{key:ed("showCubicBezierEditor"),value:function(t){var e=vt(t||this.state.currentBezier);this.setState({currentBezier:e}),this.refresh()}}])&&DR(n.prototype,r),o&&DR(n,o),e}(nd);function MR(t){return(MR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function BR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zR(Object(n),!0).forEach((function(e){FR(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function FR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HR(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function GR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XR(t,e){return!e||"object"!==MR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function NR(t){return(NR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function KR(t,e){return(KR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var WR={blur:oO.spec,grayscale:aO.spec,"hue-rotate":cO.spec,invert:uO.spec,brightness:sO.spec,contrast:lO.spec,"drop-shadow":hO.spec,opacity:fO.spec,saturate:pO.spec,sepia:yO.spec,svg:iO.spec},UR=function(t){function e(){return GR(this,e),XR(this,NR(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KR(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:JT,RangeEditor:aR,ColorViewEditor:$R}}},{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],filters:rO.parseStyle(this.props.value)}}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return("\n      <div class='filter-editor filter-list'>\n          <div class='label ".concat(t,"' >\n              <label>").concat(this.props.title||"",'</label>\n              <div class=\'tools\'>\n                <select ref="$filterSelect"></select>\n                <button type="button" ref="$add" title="add Filter">').concat(Ag.add,"</button>\n              </div>\n          </div>\n          <div class='filter-list' ref='$filterList'></div>\n      </div>"))}},{key:Fr("$filterSelect"),value:function(){var t=M$.map((function(t){return{title:t,value:t}})),e=this.getSVGFilterList();return(e.length?[].concat(HR(t),[{title:"-------",value:""}],HR(e)):HR(t)).map((function(t){var e=t.title,n=t.value;return"<option value='".concat(n,"'>").concat(e,"</option>")}))}},{key:"getSpec",value:function(t){return WR[t]}},{key:"makeDropShadowFilterTemplate",value:function(t,e,n){var r=this;return('\n      <div class="filter-item">\n        <div class="title drop-shadow" draggable="true" data-index="'.concat(n,'">\n          <label>').concat(this.$i18n("filter.property.drop-shadow"),'</label>\n          <div class="filter-menu">\n            <button type="button" class="del" data-index="').concat(n,'">\n              ').concat(Ag.remove2,'\n            </button>\n          </div>\n        </div>\n\n        <div class="filter-ui drop-shadow-color">\n          <ColorViewEditor \n            label="').concat(this.$i18n("filter.property.drop-shadow.color"),"\" \n            ref='$dropShadowColorView").concat(n,"' \n            params=\"").concat(n,'" \n            value="').concat(e.color,'" \n            onChange="changeDropShadowColor" />\n        </div>\n\n        ').concat(["offsetX","offsetY","blurRadius"].map((function(o){return'        \n            <div class="filter-ui drop-shadow">\n                <RangeEditor \n                  ref=\'$'.concat(o).concat(n,"' \n                  label=\"").concat(r.$i18n("filter.property.drop-shadow.".concat(o)),'"\n                  key="').concat(n,'" \n                  min="').concat(t[o].min,'"\n                  min="').concat(t[o].max,'"\n                  params="').concat(o,'" \n                  value="').concat(e[o].value,'" units="').concat(t[o].units.join(","),'" onchange="changeRangeEditor" />\n            </div>')})).join(""),"\n      </div>\n    "))}},{key:"getSVGFilterList",value:function(){var t=this.$selection.currentProject,e=[];return t&&(e=t.svgfilters.map((function(t){return{title:"svg - #".concat(t.id),value:t.id}}))),e}},{key:"makeOneFilterEditor",value:function(t,e,n){if("svg"===e.type){var r="",o=this.$selection.currentProject;return o&&(r=(r=o.svgfilters.map((function(t){return t.id}))).length?","+r.join(","):""),"\n      <SelectEditor \n        ref='$select".concat(t,"' \n        key=\"").concat(t,'" \n        label="SVG Filter"\n        value="').concat(e.value,'" \n        options="').concat(r,'"\n        onchange="changeRangeEditor"  />')}return("\n      <RangeEditor \n        ref='$range".concat(t,"_").concat(e.type,"' \n        key=\"").concat(t,"\" \n        min='").concat(n.min,"'\n        max='").concat(n.max,"'\n        value=\"").concat(e.value,'" \n        units="').concat(n.units.join(","),'"   \n        onchange="changeRangeEditor" />\n      '))}},{key:"makeOneFilterTemplate",value:function(t,e,n){var r="svg"===e.type,o="".concat(this.$i18n("filter.property."+e.type));return'\n      <div class="filter-item" data-index="'.concat(n,'">\n        <div class="title" >\n          <label draggable="true" data-index="').concat(n,'" title="').concat(r?"":o,'">').concat(o,"</label>\n          ").concat("svg"!=e.type?'\n          <div class="filter-ui">\n            '.concat(this.makeOneFilterEditor(n,e,t),"\n          </div>\n        "):"\n          <div>\n            <span class='svg-filter-edit' data-index=\"".concat(n,'">').concat(e.value,"</span>\n          </div>\n        "),'          \n          <div class="filter-menu">\n            <button type="button" class="del" data-index="').concat(n,'">\n              ').concat(Ag.remove2,"\n            </button>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"makeFilterTemplate",value:function(t,e){return"drop-shadow"===t.type?this.makeDropShadowFilterTemplate(this.getSpec(t.type),t,e):this.makeOneFilterTemplate(this.getSpec(t.type),t,e)}},{key:Fr("$filterList"),value:function(){var t=this;return this.state.filters.map((function(e,n){return t.makeFilterTemplate(e,n.toString())}))}},{key:ur("$filterList .filter-item .title label"),value:function(t){this.startIndex=+t.$dt.attr("data-index")}},{key:lr("$filterList .filter-item .title label")+zr,value:function(t){}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(HR(t.splice(e,1))))}},{key:"sortFilter",value:function(t,e){this.sortItem(this.state.filters,t,e)}},{key:sr("$filterList .filter-item")+zr,value:function(t){var e=+t.$dt.attr("data-index");this.$selection.current&&(this.sortFilter(this.startIndex,e),this.refresh(),this.modifyFilter())}},{key:"modifyFilter",value:function(){var t=this.state.filters.join(" ");this.parent.trigger(this.props.onchange,t)}},{key:"makeFilter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rO.parse(BR({},e,{type:t}))}},{key:rr("$filterList .svg-filter-edit"),value:function(t){var e=+t.$dt.attr("data-index"),n=this.state.filters[e],r=this.$selection.currentProject;if(r){var o=r.getSVGFilterIndex(n.value);this.trigger("openSVGFilterPopup",o)}}},{key:ed("openSVGFilterPopup"),value:function(t){var e=(this.$selection.currentProject||{svgfilters:[]}).svgfilters[t];this.emit("showSVGFilterPopup",{changeEvent:"changeSVGFilterRealUpdate",index:t,preview:!1,filters:e.filters})}},{key:ed("changeSVGFilterRealUpdate"),value:function(t){var e=this.$selection.currentProject;e&&(e.setSVGFilterValue(t.index,{filters:t.filters}),this.emit("refreshSVGFilterAssets"),this.emit("refreshSVGArea"))}},{key:ed("add"),value:function(t){var e=this;"svg"===t?this.emit("addSVGFilterAssetItem",(function(n,r){e.state.filters.push(e.makeFilter(t,{value:r})),e.refresh(),e.modifyFilter(),e.trigger("openSVGFilterPopup",n)})):(this.state.filters.push(this.makeFilter(t)),this.refresh(),this.modifyFilter())}},{key:rr("$add"),value:function(){var t=this.refs.$filterSelect.value;this.trigger("add",t)}},{key:rr("$filterList .filter-menu .del"),value:function(t){var e=+t.$dt.attr("data-index");this.state.filters.splice(e,1),this.refresh(),this.modifyFilter()}},{key:ed("changeDropShadowColor"),value:function(t,e,n){var r=+n;this.state.filters[r].reset({color:e}),this.modifyFilter()}},{key:ed("changeRangeEditor"),value:function(t,e,n){n?this.state.filters[+t].reset(FR({},n,e)):this.state.filters[+t].reset({value:e}),this.modifyFilter()}},{key:ed("refreshSVGArea")+Ar(1e3),value:function(){this.load("$filterSelect"),this.load("$filterList")}}])&&YR(n.prototype,r),o&&YR(n,o),e}(nd);function ZR(t){return(ZR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tD(t,e){return!e||"object"!==ZR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eD(t){return(eD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nD(t,e){return(nD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rD=function(t){function e(){return JR(this,e),tD(this,eD(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nD(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:JT}}},{key:"initState",value:function(){var t=this.props.units||"px,em,%",e=_.parse(this.props.value||_.z());return{removable:"true"===this.props.removable,label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",units:t,value:e}}},{key:"template",value:function(){return"<div class='small-editor' ref='$body'></div>"}},{key:Fr("$body"),value:function(){var t=this.state,e=t.min,n=t.max,r=t.step,o=t.label,i=t.removable,a=t.layout,c=+this.state.value.value.toString();isNaN(c)&&(c=0);var u=a,s=(+c).toString();return"\n        <div ".concat(be({ref:"$range",class:me(qR({"input-range-editor":!0,"has-label":!!o,"is-removable":i},u,!0))}),">\n            ").concat(o?'<label title="'.concat(o,'">').concat(o,"</label>"):"","\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='number' ref='$propertyNumber' value=\"").concat(s,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" tabIndex=\"1\" />\n                    \n                    <SelectEditor ref='$unit' key='unit' value=\"").concat(this.state.selectedUnit||this.state.value.unit,'" options="').concat(this.state.units,"\" onchange='changeUnit' />\n                    \n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove' title='Remove'>").concat(Ag.remove,"</button>\n        </div>\n    ")}},{key:"getValue",value:function(){return this.state.value.clone()}},{key:"setValue",value:function(t){this.setState({value:_.parse(t)},!1),this.refs.$propertyNumber.val(this.state.value.value),this.refs.$unit.val(this.state.value.unit)}},{key:dr("$propertyNumber"),value:function(t){this.refs.$range.addClass("focused")}},{key:mr("$propertyNumber"),value:function(t){this.refs.$range.removeClass("focused")}},{key:rr("$remove"),value:function(t){this.updateData({value:""})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:"initValue",value:function(){""==this.state.value&&(this.state.value=new _(0,this.children.$unit.getValue()))}},{key:hr("$propertyNumber"),value:function(t){var e=+this.getRef("$propertyNumber").value;this.initValue(),this.updateData({value:new _(e,this.children.$unit.getValue())})}},{key:ed("changeUnit"),value:function(t,e){this.initValue(),this.updateData({value:this.state.value.toUnit(e)})}},{key:ed("changeVarType"),value:function(t,e){this.updateData({value:new _(this.refs.$calc.value,e)})}}])&&QR(n.prototype,r),o&&QR(n,o),e}(nd);function oD(t){return(oD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iD(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function aD(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function cD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sD(t,e){return!e||"object"!==oD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lD(t){return(lD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fD(t,e){return(fD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pD=["circle","circle closest-side","circle closest-corner","circle farthest-side","circle farthest-corner","ellipse","ellipse closest-side","ellipse closest-corner","ellipse farthest-side","ellipse farthest-corner"],yD=["static-gradient","linear-gradient","repeating-linear-gradient","radial-gradient","repeating-radial-gradient","conic-gradient","repeating-conic-gradient","image-resource"],hD={"image-resource":Ag.photo},dD={"radial-gradient":!0,"repeating-radial-gradient":!0,"conic-gradient":!0,"repeating-conic-gradient":!0},vD={top:["50%","0%"],"top left":["0%","0%"],"top right":["100%","0%"],left:["0%","50%"],right:["100%","50%"],bottom:["50%","100%"],"bottom left":["0%","100%"],"bottom right":["100%","100%"]},bD=function(t){function e(){return cD(this,e),sD(this,lD(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fD(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{InputRangeEditor:rD,RangeEditor:aR,SelectEditor:JT}}},{key:"initState",value:function(){return{index:+(this.props.index||0),value:this.props.value,image:cu.parseImage(this.props.value||"")||{type:"",colorsteps:[]}}}},{key:"setValue",value:function(t){this.setState({image:cu.parseImage(t)},!1),this.refresh(),this.parent.trigger("changeTabType",this.state.image.type)}},{key:"template",value:function(){var t=this.state.image,e=(t=t||{}).type||"static-gradient";return"url"===e&&(e="image-resource"),"\n        <div class='gradient-editor' data-selected-editor='".concat(e,"'>\n            <div class='gradient-preview'>\n              <div class='gradient-view' ref='$gradientView' title='").concat(this.$i18n("gradient.editor.drag.message"),"'></div>\n              <div class='drag-pointer' ref='$dragPosition'></div>\n              <div class='preset-position'>\n                <div data-value='top' title='top'>").concat(Ag.chevron_right,"</div>\n                <div data-value='right' title='right'>").concat(Ag.chevron_right,"</div>\n                <div data-value='left' title='left'>").concat(Ag.chevron_right,"</div>\n                <div data-value='bottom' title='bottom'>").concat(Ag.chevron_right,"</div>\n                <div data-value='top left' title='top left'>").concat(Ag.chevron_right,"</div>\n                <div data-value='top right' title='top right'>").concat(Ag.chevron_right,"</div>\n                <div data-value='bottom left' title='bottom left'>").concat(Ag.chevron_right,"</div>\n                <div data-value='bottom right' title='bottom right'>").concat(Ag.chevron_right,'</div>                \n              </div>\n              <div data-editor=\'image-loader\'>\n                <input type=\'file\' accept="image/*" ref=\'$file\' />\n              </div>              \n            </div>\n            <div class="picker-tab">\n              <div class="picker-tab-list" ref="$tab">\n                ').concat(yD.map((function(t){return"<span class='picker-tab-item ".concat(t,"' data-editor='").concat(t,"'><span class='icon'>").concat(hD[t]||"","</span></span>")})).join(""),"\n              </div>\n            </div>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <label>Offset <input type='checkbox' ref='$cut' checked />  connected</label>\n              <InputRangeEditor ref='$range' calc=\"false\" key='length' onchange='changeColorStepOffset' />\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n              <div data-editor='angle'>\n                <RangeEditor label='Angle' ref='$angle' calc=\"false\" units=\"deg\" min=\"-720\" max=\"720\" key='angle' onchange='changeKeyValue' />\n              </div>\n              <div data-editor='centerX'>\n                <RangeEditor label='Center X' ref='$radialPositionX' calc=\"false\" value=\"50%\"  key='radialPositionX' onchange='changeKeyValue' />\n              </div>                \n              <div data-editor='centerY'>                      \n                <RangeEditor label='Center Y' ref='$radialPositionY' calc=\"false\" value=\"50%\" key='radialPositionY' onchange='changeKeyValue' />\n              </div>                \n              <div data-editor='radialType'>              \n                <SelectEditor label='Radial Type' ref='$radialType' value=\"\" options=\"").concat(pD.join(","),"\" key='radialType' onchange='changeKeyValue' />\n              </div>\n\n            </div>            \n        </div>\n      ")}},{key:yr("$file"),value:function(t){var e=this;this.$selection.currentProject&&aD(t.target.files).forEach((function(t){e.emit("updateImageAssetItem",t,(function(t){e.trigger("setImageUrl",t)}))}))}},{key:rr("$el .preset-position [data-value]"),value:function(t){var e=t.$dt.attr("data-value");vD[e]&&(this.state.image.radialPosition=ue(vD[e]),this.refresh(),this.updateData())}},{key:or("$gradientView")+zr,value:function(t){this.state.image.radialPosition=["50%","50%"],this.refresh(),this.updateData()}},{key:kr("$gradientView")+Lr("moveDragPosition"),value:function(t){var e=this.refs.$dragPosition.parent();this.containerRect=e.rect(),this.startXY=t.xy}},{key:"moveDragPosition",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.containerRect.x>n?n=this.containerRect.x:this.containerRect.x+this.containerRect.width<n&&(n=this.containerRect.x+this.containerRect.width),this.containerRect.y>r?r=this.containerRect.y:this.containerRect.y+this.containerRect.height<r&&(r=this.containerRect.y+this.containerRect.height);var o=_.percent((n-this.containerRect.x)/this.containerRect.width*100),i=_.percent((r-this.containerRect.y)/this.containerRect.height*100);this.state.image.radialPosition=[o,i],this.bindData("$dragPosition"),this.bindData("$gradientView"),this.children.$radialPositionX.setValue(o),this.children.$radialPositionY.setValue(i),this.updateData()}},{key:rr("$tab .picker-tab-item"),value:function(t){var e=t.$dt.attr("data-editor");this.$el.attr("data-selected-editor",e),this.parent.trigger("changeTabType",e);var n="image-resource"===e?this.state.image.url:this.state.url;this.state.image=cu.changeImageType({type:e,url:n,colorsteps:this.state.image.colorsteps||[],angle:_.parse(this.children.$angle.getValue()).value,radialType:this.children.$radialType.getValue(),radialPosition:[this.children.$radialPositionX.getValue(),this.children.$radialPositionY.getValue()]}),this.refresh(),this.updateData(),this.sendMessage()}},{key:"sendMessage",value:function(t){"linear-gradient"===(t=this.$el.attr("data-selected-editor"))||"repeating-linear-gradient"===t?this.emit("addStatusBarMessage",""):this.emit("addStatusBarMessage","Drag if you want to move center position")}},{key:ed("changeKeyValue"),value:function(t,e){"angle"===t&&(e=e.value),this.state.image[t]=e,"radialPositionX"!==t&&"radialPositionY"!==t||(this.state.image.radialPosition=[this.state.image.radialPositionX||"50%",this.state.image.radialPositionY||"50%"]),this.bindData("$gradientView"),this.updateData()}},{key:ed("changeColorStepOffset"),value:function(t,e){this.currentStep&&(this.currentStep.percent=e.value,this.state.image.sortColorStep(),this.refresh(),this.updateData())}},{key:rr("$back"),value:function(t){var e=this.refs.$stepList.rect(),n=e.x,r=e.right,o=t.xy.x;o<n?o=n:o>r&&(o=r);var i=(o-n)/e.width*100;this.state.image.insertColorStep(i),this.state.image.sortColorStep(),this.refresh(),this.updateData()}},{key:Xr("$el"),value:function(){var t=this.state.image.type;return"url"===t&&(t="image-resource"),this.parent.trigger("changeTabType",t),{"data-selected-editor":t}}},{key:Xr("$stepList"),value:function(){return{"data-selected-index":this.state.index.toString(),style:{"background-image":this.getLinearGradient()}}}},{key:Xr("$gradientView"),value:function(){var t=this.state.image.type,e="auto";return"url"!==t&&"image-resource"!==t||(e="cover"),{style:{"background-image":this.state.image.toString(),"background-size":e,"background-repeat":"no-repeat"}}}},{key:Xr("$dragPosition"),value:function(){var t="50%",e="50%";if(dD[this.state.image.type]){var n=iD(this.state.image.radialPosition,2);t=n[0],e=n[1]}return{style:{left:t,top:e}}}},{key:Fr("$stepList"),value:function(){var t=this;return(this.state.image.colorsteps||[]).map((function(e,n){var r=t.$selection.isSelectedColorStep(e.id)?"selected":"";return("\n      <div class='step ".concat(r,"' data-id='").concat(e.id,"' data-cut='").concat(e.cut,"' style='left: ").concat(e.percent,"%;'>\n        <div class='color-view' style=\"background-color: ").concat(e.color,"\"></div>\n        <div class='arrow' style=\"background-color: ").concat(e.color,'"></div>\n      </div>'))}))}},{key:rr("$cut"),value:function(){this.currentStep&&(this.currentStep.cut=this.refs.$cut.checked(),this.refresh(),this.updateData())}},{key:"removeStep",value:function(t){this.state.image.removeColorStep(t),this.refresh(),this.updateData()}},{key:"selectStep",value:function(t){var e=this;this.state.id=t,this.$selection.selectColorStep(t),this.state.image.colorsteps&&(this.currentStep=this.state.image.colorsteps.find((function(t){return e.$selection.isSelectedColorStep(t.id)})),this.refs.$cut.checked(this.currentStep.cut),this.children.$range.setValue(_.percent(this.currentStep.percent)),this.parent.trigger("selectColorStep",this.currentStep.color)),this.refresh()}},{key:kr("$stepList .step")+Lr(),value:function(t){var e=t.$dt.attr("data-id");if(t.altKey)return this.removeStep(e),!1;this.selectStep(e),this.startXY=t.xy,this.cachedStepListRect=this.refs.$stepList.rect()}},{key:"getStepListRect",value:function(){return this.cachedStepListRect}},{key:"move",value:function(t,e){var n=this.getStepListRect(),r=n.x,o=n.right,i=this.startXY.x+t;i<r?i=r:i>o&&(i=o);var a=(i-r)/n.width*100;this.currentStep.percent=a,this.children.$range.setValue(_.percent(a)),this.state.image.sortColorStep(),this.refresh(),this.updateData()}},{key:"refresh",value:function(){this.load()}},{key:"getLinearGradient",value:function(){var t=this.state.image;return"linear-gradient(to right, ".concat(ua.toColorString(t.colorsteps),")")}},{key:ed("setColorStepColor"),value:function(t){"static-gradient"===this.state.image.type?(this.state.image.colorsteps[0].color=t,this.refresh(),this.updateData()):this.currentStep&&(this.currentStep.color=t,this.refresh(),this.updateData())}},{key:ed("setImageUrl"),value:function(t){this.state.image&&(this.state.url=t,this.state.image.reset({url:t}),this.refresh(),this.updateData())}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.parent.trigger(this.props.onchange,this.state.image.toString())}}])&&uD(n.prototype,r),o&&uD(n,o),e}(nd);function mD(t){return(mD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jD(t,e){return!e||"object"!==mD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function SD(t,e,n){return(SD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=PD(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function PD(t){return(PD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xD(t,e){return(xD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _D=function(t){function e(){return OD(this,e),jD(this,PD(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xD(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props.value;t="infinite"===t?new _(0,"infinite"):_.number(t.split("normal")[0]);var n=this.props.units||"px,em,%";return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gD(Object(n),!0).forEach((function(e){wD(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},SD(PD(e.prototype),"initState",this).call(this),{},{key:this.props.key,params:this.props.params||"",units:n,value:t})}}])&&kD(n.prototype,r),o&&kD(n,o),e}(aR);function ED(t){return(ED="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function CD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RD(t,e){return!e||"object"!==ED(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DD(t){return(DD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function VD(t,e){return(VD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var AD=function(t){function e(){return CD(this,e),RD(this,DD(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VD(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props.value.split(";").filter((function(t){return t.trim()})).map((function(t){var e=$D(t.split(":"),2),n=e[0],r=e[1];return{key:n=n.replace("--",""),value:r}}));return{hideLabel:"true"==this.props["hide-label"],params:this.props.params||"",values:t}}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return("\n        <div class='var-editor var-list'>\n            <div class='label ".concat(t,"' >\n                <label>").concat(this.props.title||"",'</label>\n                <div class=\'tools\'>\n                    <button type="button" ref="$add" title="add Var">').concat(Ag.add,"</button>\n                </div>\n            </div>\n            <div class='var-list' ref='$varList'></div>\n        </div>"))}},{key:ed("add"),value:function(){this.state.values.push({key:"",value:""}),this.refresh(),this.updateData()}},{key:rr("$add"),value:function(){this.trigger("add")}},{key:Fr("$varList"),value:function(){return this.state.values.map((function(t,e){return'\n                <div class=\'var-item\' >\n                    <div>\n                        <input type="text" data-type="key" value="'.concat(t.key,'" data-index="').concat(e,'"  placeholder="variable" />\n                    </div>\n                    <div>\n                        <input type="text" data-type="value" value="').concat(t.value,'" data-index="').concat(e,'"  placeholder="value" />\n                    </div>\n                    <div class="tools">\n                        <button type="button" class="del" data-index="').concat(e,'">\n                        ').concat(Ag.remove2,"\n                        </button>\n                    </div>\n                </div>\n            ")}))}},{key:rr("$varList .del"),value:function(t){var e=+t.$dt.attr("data-index");this.state.values.splice(e,1),this.refresh(),this.updateData()}},{key:hr("$varList input"),value:function(t){var e=+t.$dt.attr("data-index"),n=t.$dt.attr("data-type");this.state.values[e][n]=t.$dt.value,this.updateData()}},{key:"updateData",value:function(t){var e=this.state.values.map((function(t){return"".concat(t.key,":").concat(t.value)})).join(";");this.parent.trigger(this.props.onchange,e,this.props.params)}}])&&TD(n.prototype,r),o&&TD(n,o),e}(nd);function ID(t){return(ID="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zD(t,e){return!e||"object"!==ID(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BD(t){return(BD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function FD(t,e){return(FD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var HD=function(t){function e(){return LD(this,e),zD(this,BD(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FD(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=_.parse(this.props.value||_.number(0));return t=t.toUnit("number"),{label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",value:t}}},{key:"template",value:function(){return"<div class='small-editor' ref='$body'></div>"}},{key:Fr("$body"),value:function(){var t=this.state,e=t.min,n=t.max,r=t.step,o=t.label,i=t.type,a=t.layout,c=+this.state.value.value.toString();isNaN(c)&&(c=0);var u=o?"has-label":"",s=a,l=(+c).toString();return"\n        <div class='number-input-editor ".concat(u," ").concat(s,"' data-selected-type='").concat(i,"'>\n            ").concat(o?"<label>".concat(o,"</label>"):"","\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='number' ref='$propertyNumber' value=\"").concat(l,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,'" />\n                </div>\n            </div>\n        </div>\n    ')}},{key:"getValue",value:function(){return this.state.value||0}},{key:"setValue",value:function(t){this.setState({value:_.parse(t)})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:hr("$propertyNumber"),value:function(t){var e=+this.getRef("$propertyNumber").value;this.updateData({value:this.state.value.set(e)})}}])&&MD(n.prototype,r),o&&MD(n,o),e}(nd);function GD(t){return(GD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function XD(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?YD(Object(n),!0).forEach((function(e){ND(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ND(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KD(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function WD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZD(t,e){return!e||"object"!==GD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qD(t){return(qD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function JD(t,e){return(JD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var QD=["perspective","rotate","rotateX","rotateY","rotateZ","rotate3d","skewX","skewY","translate","translateX","translateY","translateZ","translate3d","scale","scaleX","scaleY","scaleZ","scale3d","matrix","matrix3d"],tV={scale:["X","Y"],translate:["X","Y"],translate3d:["tx","ty","tz"],matrix:["a","b","c","d","tx","ty"],matrix3d:["a1","b1","c1","d1","a2","b2","c2","d2","a3","b3","c3","d3","a4","b4","c4","d4"]},eV=function(t){function e(){return WD(this,e),ZD(this,qD(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&JD(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{NumberInputEditor:HD,RangeEditor:aR}}},{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],transforms:us.parseStyle(this.props.value)}}},{key:"template",value:function(){var t=this,e=this.state.hideLabel?"hide":"";return"\n      <div class='transform-editor transform-list'>\n          <div class='label ".concat(e,"' >\n              <label>Transform</label>\n              <div class='tools'>\n                <select ref=\"$transformSelect\">\n                  ").concat(QD.map((function(e){var n=t.$i18n("css.item."+e);return"<option value='".concat(e,"'>").concat(n,"</option>")})).join(""),'\n                </select>\n                <button type="button" ref="$add" title="add Transform">').concat(Ag.add,"</button>\n              </div>\n          </div>\n          <div class='transform-list' ref='$transformList'></div>\n      </div>")}},{key:"getLabel",value:function(t,e){switch(t){case"scale":case"translate":case"translate3d":case"matrix":case"matrix3d":return tV[t][e]}return""}},{key:"isMultiValue",value:function(t){switch(t){case"translate3d":case"matrix":case"matrix3d":return!0}return!1}},{key:"getRange",value:function(t){switch(t){case"translateX":case"translateY":case"translateZ":case"translate":case"translate3d":return{min:-1e3,max:1e3,step:1,units:"px,%,em"};case"matrix":case"matrix3d":return{min:-100,max:100,step:.01,units:"number"};case"rotateX":case"rotateY":case"rotateZ":case"rotate":case"skewY":case"skewX":return{min:-360,max:360,step:.1,units:"deg,turn,rad"};case"perspective":return{min:0,max:1e4,step:1,units:"px,%,em"};case"scale":case"scaleX":case"scaleY":return{min:0,max:10,step:.1,units:"number"}}return{min:0,max:100,step:1,units:"px,%,em"}}},{key:"makeOneTransformTemplate",value:function(t,e,n){var r=this;return('\n      <div class="transform-item" data-index="'.concat(n,'">\n        <div class="title" data-index="').concat(n,'">\n          <label draggable="true" >').concat(this.$i18n("css.item."+t),'</label>\n          <div class="transform-ui">\n\n          </div>\n          <div class="transform-menu">\n            <button type="button" class="del" data-index="').concat(n,'">\n              ').concat(Ag.remove2,'\n            </button>\n          </div>\n        </div>\n        <div class="transform-ui ').concat(t,'">\n          ').concat(e.value.map((function(e,o){var i=r.getLabel(t,o),a=r.getRange(t),c=a.min,u=a.max,s=a.step,l=a.units;return"\n              <div>\n                <RangeEditor \n                      ref='$range_".concat(t,"_").concat(n,"_").concat(o,"' \n                      min=\"").concat(c,'" \n                      max="').concat(u,'" \n                      step="').concat(s,'" \n                      label="').concat(i,'"\n                      key="').concat(n,"\" \n                      params='").concat(o,"' \n                      value=\"").concat(e,'" \n                      units="').concat(l,'" \n                      onchange="changeRangeEditor" />\n              </div>')})).join(""),"      \n        </div>\n      </div>\n    "))}},{key:"makeMultiTransformTemplate",value:function(t,e,n){var r=this;return('\n      <div class="transform-item" data-index="'.concat(n,'">\n        <div class="title" data-index="').concat(n,'">\n          <label draggable="true" >').concat(this.$i18n("css.item."+t),'</label>\n          <div></div>\n          <div class="transform-menu">\n            <button type="button" class="del" data-index="').concat(n,'">\n              ').concat(Ag.remove2,'\n            </button>\n          </div>\n        </div>\n        <div class="transform-ui ').concat(t,'">\n\n          ').concat("translate3d"===t?"\n            <pre>\n  1 | 0 | 0 | tx\n  0 | 1 | 0 | ty\t\n  0 | 0 | 1 | tz\t\n  0 | 0 | 0 | 1</pre>\n          ":"","\n\n          ").concat("matrix"===t?"\n            <pre>\n  a | c | tx\t\n  b | d | ty\t\n  0 | 0 | 1</pre>\n          ":"","    \n          \n          ").concat("matrix3d"===t?"\n            <pre>\n  a1 | a2 | a3 | a4\t\n  b1 | b2 | b3 | b4\t\n  c1 | c2 | c3 | c4\t\n  d1 | d2 | d3 | d4</pre>\n          ":"","     \n          \n          <div class='").concat(t,"'>\n          ").concat(e.value.map((function(e,o){var i=r.getLabel(t,o),a=r.getRange(t),c=a.min,u=a.max,s=a.step,l=a.units;return"\n              <div>\n                <NumberInputEditor \n                      ref='$range_".concat(t,"_").concat(n,"_").concat(o,"' \n                      min=\"").concat(c,'" \n                      max="').concat(u,'" \n                      step="').concat(s,'" \n                      label="').concat(i,'"\n                      key="').concat(n,"\" \n                      params='").concat(o,"' \n                      value=\"").concat(e,'" \n                      units="').concat(l,'" \n                      onchange="changeRangeEditor" />\n              </div>')})).join(""),"   \n          </div>       \n        </div>\n      </div>\n    "))}},{key:"makeTransformTemplate",value:function(t,e){return this.isMultiValue(t.type)?this.makeMultiTransformTemplate(t.type,t,e):this.makeOneTransformTemplate(t.type,t,e)}},{key:Fr("$transformList"),value:function(){var t=this;return this.state.transforms.map((function(e,n){return t.makeTransformTemplate(e,n.toString())}))}},{key:ur("$transformList .transform-item .title label"),value:function(t){this.startIndex=+t.$dt.parent().attr("data-index")}},{key:lr("$transformList .transform-item")+zr,value:function(t){}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(KD(t.splice(e,1))))}},{key:"sortTransform",value:function(t,e){this.sortItem(this.state.transforms,t,e)}},{key:sr("$transformList .transform-item")+zr,value:function(t){var e=+t.$dt.attr("data-index");this.$selection.current&&(this.sortTransform(this.startIndex,e),this.refresh(),this.modifyTransform())}},{key:"modifyTransform",value:function(){var t=this.state.transforms.join(" ");this.parent.trigger(this.props.onchange,t)}},{key:"getDefaultValue",value:function(t){switch(t){case"translateX":case"translateY":case"translateZ":return[_.z()];case"rotateX":case"rotateY":case"rotateZ":case"rotate":case"skewY":case"skewX":case"perspective":return[_.deg(0)];case"translate":return[_.z(),_.z()];case"translate3d":return[_.z(),_.z(),_.z()];case"scale":return[_.number(1),_.number(1)];case"scaleX":case"scaleY":return[_.number(1)];case"matrix":return[_.number(1),_.number(0),_.number(0),_.number(1),_.number(0),_.number(0)];case"matrix3d":return[_.number(1),_.number(0),_.number(0),_.number(0),_.number(0),_.number(1),_.number(0),_.number(0),_.number(0),_.number(0),_.number(1),_.number(0),_.number(0),_.number(0),_.number(0),_.number(1)]}return[_.number(0)]}},{key:"makeTransform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getDefaultValue(t);return us.parse(XD({},e,{type:t,value:n}))}},{key:ed("add"),value:function(t){this.state.transforms.push(this.makeTransform(t)),this.refresh(),this.modifyTransform()}},{key:rr("$add"),value:function(){var t=this.refs.$transformSelect.value;this.trigger("add",t)}},{key:rr("$transformList .transform-menu .del"),value:function(t){var e=+t.$dt.attr("data-index");this.state.transforms.splice(e,1),this.refresh(),this.modifyTransform()}},{key:ed("changeRangeEditor"),value:function(t,e,n){n?this.state.transforms[+t].value[+n]=e:this.state.transforms[+t].reset({value:e}),this.modifyTransform()}}])&&UD(n.prototype,r),o&&UD(n,o),e}(nd);function nV(t){return(nV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rV(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function oV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aV(t,e){return!e||"object"!==nV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cV(t){return(cV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uV(t,e){return(uV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sV=[{key:"transform-origin-x",title:"X"},{key:"transform-origin-y",title:"Y"}],lV=sV.map((function(t){return t.key})),fV={top:"50% 0%","top left":"0% 0%","top right":"100% 0%",left:"0% 50%",center:"50% 50%",right:"100% 50%",bottom:"50% 100%","bottom left":"0% 100%","bottom right":"100% 100%"},pV=function(t){function e(){return oV(this,e),aV(this,cV(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uV(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:aR}}},{key:"initState",value:function(){var t=this.props.value.split(" "),e={isAll:!1,"transform-origin":_.percent(50),"transform-origin-x":_.percent(50),"transform-origin-y":_.percent(50)};return this.props.value&&(1===t.length?(e.isAll=!0,e["transform-origin"]=_.parse(t[0]),e["transform-origin-x"]=_.parse(t[0]),e["transform-origin-y"]=_.parse(t[0])):2==t.length&&(e.isAll=!1,e["transform-origin-x"]=_.parse(t[0]),e["transform-origin-y"]=_.parse(t[1]))),e}},{key:"template",value:function(){return"\n      <div class='transform-origin-editor'>\n        <div class='direction' ref='$direction'>\n          <div class='pos' data-value='top'></div>\n          <div class='pos' data-value='top left'></div>\n          <div class='pos' data-value='top right'></div>\n          <div class='pos' data-value='bottom'></div>\n          <div class='pos' data-value='bottom left'></div>\n          <div class='pos' data-value='bottom right'></div>\n          <div class='pos' data-value='left'></div>\n          <div class='pos' data-value='right'></div>\n          <div class='pos' data-value='center'></div>\n        </div>\n        <div ref='$body'></div>\n      </div>\n    "}},{key:rr("$direction .pos"),value:function(t){var e=t.$dt.attr("data-value");this.state.isAll=!1;var n=rV(fV[e].split(" "),2),r=n[0],o=n[1];this.state["transform-origin-x"]=_.parse(r),this.state["transform-origin-y"]=_.parse(o),this.refresh(),this.modifyTransformOrigin()}},{key:ed("changeTransformOrigin"),value:function(t,e){var n=this;"transform-origin"===t&&lV.forEach((function(t){n.children["$".concat(t)].setValue(e.toString())})),"transform-origin-z"===t&&(this.state[t]=e),this.setTransformOrigin()}},{key:Fr("$body"),value:function(){var t=this,e=this.state.isAll?"all":"partitial",n=this.state["transform-origin"];return'\n      <div class="transform-origin-item">\n        <div class="radius-selector" data-selected-value="'.concat(e,'" ref="$selector">\n          <button type="button" data-value="all">').concat(Ag.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(Ag.border_inner,"\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='transform-origin' value=\"").concat(n,'" onchange=\'changeTransformOrigin\' />\n        </div>\n      </div>\n      <div class="full transform-origin-item" ref="$partitialSetting" >\n        <div class="radius-setting-box" ref="$radiusSettingBox">\n          ').concat(sV.map((function(e){return"\n              <div>\n                  <RangeEditor ref='$".concat(e.key,"' label='").concat(e.title,"' key='").concat(e.key,"' value=\"").concat(t.state[e.key],"\" onchange='changeTransformOrigin' />\n              </div>  \n            ")})).join(""),"\n\n          <div>\n            <RangeEditor ref='$transform-origin-z' label='Z' key='transform-origin-z' value=\"").concat(this.state["transform-origin-z"]||"","\" onchange='changeTransformOrigin' />\n          </div>  \n        </div>\n      </div>\n    ")}},{key:"setTransformOrigin",value:function(){var t=this;"all"===this.refs.$selector.attr("data-selected-value")?(this.state.isAll=!0,this.state["transform-origin"]=this.children.$all.getValue()):(this.state.isAll=!1,lV.forEach((function(e){t.state[e]=t.children["$".concat(e)].getValue()}))),this.modifyTransformOrigin()}},{key:"modifyTransformOrigin",value:function(){var t="";this.state.isAll?t="".concat(this.state["transform-origin"]):(t="".concat(this.state["transform-origin-x"]," ").concat(this.state["transform-origin-y"]),this.state["transform-origin-z"]&&(t="".concat(t," ").concat(this.state["transform-origin-z"]))),this.parent.trigger(this.props.onchange,t)}},{key:rr("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setTransformOrigin()}}])&&iV(n.prototype,r),o&&iV(n,o),e}(nd);function yV(t){return(yV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hV(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bV(t,e){return!e||"object"!==yV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mV(t){return(mV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gV(t,e){return(gV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wV=[{key:"perspective-origin-x",title:"X"},{key:"perspective-origin-y",title:"Y"}],OV=wV.map((function(t){return t.key})),kV={top:"50% 0%","top left":"0% 0%","top right":"100% 0%",left:"0% 50%",center:"50% 50%",right:"100% 50%",bottom:"50% 100%","bottom left":"0% 100%","bottom right":"100% 100%"},jV=function(t){function e(){return dV(this,e),bV(this,mV(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gV(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:aR}}},{key:"initState",value:function(){var t=this.props.value.split(" "),e={isAll:!0,"perspective-origin":_.z(),"perspective-origin-x":_.z(),"perspective-origin-y":_.z()};return this.props.value&&(1===t.length?(e.isAll=!0,e["perspective-origin"]=_.parse(t[0]),e["perspective-origin-x"]=_.parse(t[0]),e["perspective-origin-y"]=_.parse(t[0])):2==t.length&&(e.isAll=!1,e["perspective-origin-x"]=_.parse(t[0]),e["perspective-origin-y"]=_.parse(t[1]))),e}},{key:"template",value:function(){return"\n      <div class='perspective-origin-editor' ref='$body'>\n        <div class='direction' ref='$direction'>\n          <div class='pos' data-value='top'></div>\n          <div class='pos' data-value='top left'></div>\n          <div class='pos' data-value='top right'></div>\n          <div class='pos' data-value='bottom'></div>\n          <div class='pos' data-value='bottom left'></div>\n          <div class='pos' data-value='bottom right'></div>\n          <div class='pos' data-value='left'></div>\n          <div class='pos' data-value='right'></div>\n          <div class='pos' data-value='center'></div>\n        </div>\n        <div ref='$body'></div>\n      </div>\n    "}},{key:rr("$direction .pos"),value:function(t){var e=t.$dt.attr("data-value");this.state.isAll=!1;var n=hV(kV[e].split(" "),2),r=n[0],o=n[1];this.state["perspective-origin-x"]=_.parse(r),this.state["perspective-origin-y"]=_.parse(o),this.refresh(),this.modifyPerspectiveOrigin()}},{key:ed("changePerspectiveOrigin"),value:function(t,e){var n=this;"perspective-origin"===t&&OV.forEach((function(t){n.children["$".concat(t)].setValue(e.toString())})),this.setPerspectiveOrigin()}},{key:Fr("$body"),value:function(){var t=this,e=this.state.isAll?"all":"partitial",n=this.state["perspective-origin"];return'\n      <div class="property-item perspective-origin-item">\n        <div class="radius-selector" data-selected-value="'.concat(e,'" ref="$selector">\n          <button type="button" data-value="all">').concat(Ag.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(Ag.border_inner,"\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='perspective-origin' value=\"").concat(n,'" onchange=\'changePerspectiveOrigin\' />\n        </div>\n      </div>\n      <div\n        class="property-item full perspective-origin-item"\n        ref="$partitialSetting"\n        style="display: none;"\n      >\n        <div class="radius-setting-box" ref="$radiusSettingBox">\n          ').concat(wV.map((function(e){var n=t.$i18n(e.title);return("\n              <div>\n                  <RangeEditor ref='$".concat(e.key,"' label='").concat(n,"' key='").concat(e.key,"' value=\"").concat(t.state[e.key],"\" onchange='changePerspectiveOrigin' />\n              </div>  \n            "))})).join(""),"\n        </div>\n      </div>\n    ")}},{key:"setPerspectiveOrigin",value:function(){var t=this;"all"===this.refs.$selector.attr("data-selected-value")?(this.state.isAll=!0,this.state["perspective-origin"]=this.children.$all.getValue()):(this.state.isAll=!1,OV.forEach((function(e){t.state[e]=t.children["$".concat(e)].getValue()}))),this.modifyPerspectiveOrigin()}},{key:"modifyPerspectiveOrigin",value:function(){var t="";t=this.state.isAll?"".concat(this.state["perspective-origin"]):"".concat(this.state["perspective-origin-x"]," ").concat(this.state["perspective-origin-y"]),this.parent.trigger(this.props.onchange,t)}},{key:rr("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setPerspectiveOrigin()}}])&&vV(n.prototype,r),o&&vV(n,o),e}(nd);function SV(t){return(SV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _V(t,e){return!e||"object"!==SV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function EV(t){return(EV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $V(t,e){return($V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var CV=function(t){function e(){return PV(this,e),_V(this,EV(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$V(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=_.parse(this.props.value||_.number(0));return t=t.toUnit("number"),{removable:"true"===this.props.removable,clamp:"true"===this.props.clamp,label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",value:t}}},{key:"template",value:function(){return"<div class='small-editor' ref='$body'></div>"}},{key:Fr("$body"),value:function(){var t=this.state,e=t.min,n=t.max,r=t.step,o=t.label,i=t.type,a=t.removable,c=t.layout,u=+this.state.value.value.toString();isNaN(u)&&(u=0);var s=o?"has-label":"",l=a?"is-removable":"",f=c,p=(+u).toString();return"\n        <div class='number-range-editor ".concat(s," ").concat(l," ").concat(f,"' data-selected-type='").concat(i,"'>\n            ").concat(o?'<label title="'.concat(o,'">').concat(o,"</label>"):"","\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='range' ref='$property' value=\"").concat(p,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" />\n                    <input type='number' ref='$propertyNumber' value=\"").concat(p,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" tabIndex=\"1\" />\n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove' title='Remove'>").concat(Ag.remove,"</button>\n        </div>\n    ")}},{key:"setMin",value:function(t){this.setState({min:_.parse(t)})}},{key:"setMax",value:function(t){this.setState({max:_.parse(t)})}},{key:"getValue",value:function(){return this.state.clamp?this.state.value.clamp(this.state.min,this.state.max):this.state.value}},{key:"setValue",value:function(t){this.setState({value:_.parse(t)})}},{key:dr("$propertyNumber"),value:function(t){this.refs.$propertyNumber.addClass("focused")}},{key:mr("$propertyNumber"),value:function(t){this.refs.$propertyNumber.removeClass("focused")}},{key:rr("$remove"),value:function(t){this.updateData({value:""})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:hr("$propertyNumber"),value:function(t){var e=+this.getRef("$propertyNumber").value;this.getRef("$property").val(e),this.updateData({value:this.state.value.set(e)})}},{key:kr("$property")+Lr("moveRange")+Mr("moveRange"),value:function(){}},{key:"moveRange",value:function(){this.trigger("changeValue")}},{key:ed("changeValue")+Ir(100),value:function(){var t=+this.getRef("$property").value;this.getRef("$propertyNumber").val(t),""===this.state.value&&(this.state.value=_.number(0)),this.updateData({value:this.state.value.set(t)})}}])&&xV(n.prototype,r),o&&xV(n,o),e}(nd);function TV(t){return(TV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VV(t,e){return!e||"object"!==TV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AV(t){return(AV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function IV(t,e){return(IV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var LV=function(t){function e(){return RV(this,e),VV(this,AV(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IV(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{clippath:this.props.value}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyClipPath()}},{key:"getValue",value:function(){return this.state.clippath}},{key:"setValue",value:function(t){this.setState({clippath:t})}},{key:"modifyClipPath",value:function(){this.parent.trigger(this.props.onchange,this.state.clippath,this.props.params)}},{key:"template",value:function(){return"\n            <div class='clip-path-editor'></div>\n        "}},{key:Fr(),value:function(){var t=this.state.clippath;return"\n        <div class='clippath-item'>\n            <div class='name'>".concat(t,"</div>\n        </div>\n        ")}},{key:rr(),value:function(t){this.viewClipPathPicker()}},{key:"viewClipPathPicker",value:function(){this.emit("showClipPathPopup",{changeEvent:"changeClipPathEditor","clip-path":this.state.clippath})}},{key:ed("changeClipPathEditor"),value:function(t){this.updateData({clippath:t["clip-path"]})}}])&&DV(n.prototype,r),o&&DV(n,o),e}(nd);function MV(t){return(MV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FV(t,e){return!e||"object"!==MV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function HV(t){return(HV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function GV(t,e){return(GV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var YV=function(t){function e(){return zV(this,e),FV(this,HV(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GV(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],selectedIndex:-1,textShadows:Rw.parseStyle(this.props.value)}}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return('\n      <div class="text-shadow-editor" >\n        <div class=\'label '.concat(t,"' >\n            <label>").concat(this.props.title||"",'</label>        \n            <div class=\'tools\'>\n              <button type="button" ref="$add" title="add Text Shadow">').concat(Ag.add,"</button>\n            </div>\n        </div>\n        <div class='text-shadow-list' ref='$shadowList'></div>\n      </div>\n    "))}},{key:Fr("$shadowList"),value:function(){var t=this.state.textShadows.map((function(t,e){return'\n        <div class="shadow-item real" data-index="'.concat(e,'">\n          <div class="color">\n            <div class=\'color-view\' style="background-color: ').concat(t.color,'">\n            </div>\n          </div>\n          <div class="offset-x">').concat(t.offsetX,'</div>\n          <div class="offset-y">').concat(t.offsetY,'</div>\n          <div class="blur-radius">').concat(t.blurRadius,'</div>\n          <div class="tools">\n            <button type="button" class="remove" data-index="').concat(e,'">\n              ').concat(Ag.remove2,"\n            </button>\n          </div>\n        </div>\n      ")}));return t.length&&t.push('\n      <div class="shadow-item desc">\n            <div class="color"></div>\n            <div class="offset-x">X</div>\n            <div class="offset-y">Y</div>\n            <div class="blur-radius">Blur</div>\n            <div class="tools">\n            </div>\n          </div>\n      '),t.join("")}},{key:"modifyTextShadow",value:function(){var t=this.state.textShadows.join(", ");this.parent.trigger(this.props.onchange,t)}},{key:ed("add"),value:function(){this.state.textShadows.push(new Rw),this.refresh(),this.modifyTextShadow()}},{key:rr("$add"),value:function(){this.trigger("add")}},{key:rr("$shadowList .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.textShadows.splice(e,1),this.refresh(),this.modifyTextShadow()}},{key:rr("$shadowList .shadow-item.real > div:not(.tools)"),value:function(t){var e=+t.$dt.closest("shadow-item").attr("data-index"),n=this.state.textShadows[e];this.viewShadowPopup(n,e)}},{key:"viewShadowPopup",value:function(t,e){this.setState({selectedIndex:e},!1),this.viewTextShadowPropertyPopup(t)}},{key:"viewTextShadowPropertyPopup",value:function(t){this.emit("showTextShadowPropertyPopup",{changeEvent:"changeTextShadowEditorPopup",color:t.color,offsetX:t.offsetX,offsetY:t.offsetY,blurRadius:t.blurRadius},{id:this.id})}},{key:ed("changeTextShadowEditorPopup"),value:function(t,e){e.id===this.id&&(this.state.textShadows[this.state.selectedIndex].reset(t),this.refresh(),this.modifyTextShadow())}}])&&BV(n.prototype,r),o&&BV(n,o),e}(nd);function XV(t){return(XV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WV(t,e){return!e||"object"!==XV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function UV(t){return(UV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ZV(t,e){return(ZV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qV=function(t){function e(){return NV(this,e),WV(this,UV(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZV(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{NumberRangeEditor:CV}}},{key:"initState",value:function(){return{value:this.generateValue(this.props.value||"")}}},{key:"template",value:function(){return"\n      <div class='stroke-dasharray-editor'>\n        <div ref='$body'></div>\n        <div class='tools'>\n          <label ref='$add'>".concat(Ag.add," ").concat(this.$i18n("stroke.dasharray.editor.add"),"</label>\n        </div>\n      </div>\n    ")}},{key:"toStringValue",value:function(){return this.state.value.join(" ")}},{key:"getValue",value:function(){return this.toStringValue()}},{key:"generateValue",value:function(t){return t.split(" ").filter(Boolean).map((function(t){return+t}))}},{key:"setValue",value:function(t){ee(t)||(t=this.generateValue(t)),this.setState({value:t})}},{key:Fr("$body"),value:function(){return this.state.value.map((function(t,e){var n=e+1;return("\n        <div class='dasharray-item'>\n          <NumberRangeEditor \n            ref='$".concat(n,"' \n            label='").concat(n,"'\n            key='").concat(e,'\' \n            value="0" \n            min="0"\n            max="1000"\n            step="1"\n            onchange="changeRangeEditor" \n          />\n          <button type="button" data-index="').concat(e,"\" class='delete'>").concat(Ag.remove2,"</button>\n        </div>\n      "))}))}},{key:ed("changeRangeEditor"),value:function(t,e){var n=+t;this.state.value[n]=e,this.modifyStrokeDashArray()}},{key:rr("$add"),value:function(){this.state.value.push(0),this.refresh()}},{key:rr("$body .delete"),value:function(t){var e=+t.$dt.attr("data-index");this.state.value.splice(e,1),this.refresh(),this.modifyStrokeDashArray()}},{key:"modifyStrokeDashArray",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.toStringValue(),this.props.params)}}])&&KV(n.prototype,r),o&&KV(n,o),e}(nd);function JV(t){return(JV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function QV(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function tA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oA(t,e){return!e||"object"!==JV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iA(t){return(iA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aA(t,e){return(aA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cA=function(t){function e(){return nA(this,e),oA(this,iA(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aA(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{parser:new Ro(this.props.value||"")}}},{key:"makeSegments",value:function(){return this.refs.$data.$$(".segment").map((function(t){var e=t.$(".command"),n=e.attr("data-command");return"Z"===n&&"false"===e.attr("data-toggle")?null:{command:n,values:t.$$(".values input[type=number]").map((function(t){return+t.value}))}})).filter((function(t){return t}))}},{key:"updateData",value:function(){var t=this.makeSegments();this.state.parser.resetSegments(t),this.modifyPathData()}},{key:"modifyPathData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"setValue",value:function(t){this.setState({parser:new Ro(t)})}},{key:"getValue",value:function(){return this.state.parser.joinPath()}},{key:"template",value:function(){return"\n            <div class='path-data-editor'>\n                <div class='data' ref='$data'></div>\n            </div>\n        "}},{key:Fr("$data"),value:function(){var t=this,e=[];this.state.parser.segments.forEach((function(n,r){var o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tA(Object(n),!0).forEach((function(e){eA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n);e.push(o);var i=t.state.parser.segments[r+1];i&&"M"===i.command&&("Z"!==o.command?e.push({command:"Z",toggle:!1,values:[]}):o.toggle=!0)}));var n=this.state.parser.segments[this.state.parser.segments.length-1];n&&"Z"!==n.command&&e.push({command:"Z",toggle:!1,values:[]});var r=e.map((function(t){var e="M"===t.command?"m":"";return("\n                <div class='segment ".concat(e,"'>\n                    <div class='command' data-command='").concat(t.command,"' data-toggle=\"").concat(t.toggle,"\" title='Toggle'>").concat(t.command,"</div>\n                    <div class='values'>\n                        ").concat(t.values.map((function(t){return'<input type="number" value="'.concat(t,'" />')})).join(""),"\n\n                        ").concat("Z"===t.command?!1===t.toggle?"opened":"closed":"","\n                    </div>\n                </div>\n            "))}));return r.unshift("\n            <div class='segment-empty'>\n                <div class='command'></div>\n                <div class='values'>\n                    <span>X</span>\n                    <span>Y</span>\n                </div>\n            </div>\n        "),r}},{key:hr("$data input[type=number]")+Ar(300),value:function(t){this.updateData()}},{key:rr("$data .command[data-toggle]"),value:function(t){var e=QV(t.$dt.attrs("data-command","data-toggle"),2),n=e[0],r=e[1];"Z"===n&&(r="false"!==r?"false":"true",t.$dt.attr("data-toggle",r),this.updateData())}}])&&rA(n.prototype,r),o&&rA(n,o),e}(nd);function uA(t){return(uA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fA(t,e){return!e||"object"!==uA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pA(t){return(pA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yA(t,e){return(yA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hA=function(t){function e(){return sA(this,e),fA(this,pA(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yA(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{parser:new LO(this.props.value||"")}}},{key:"makeSegments",value:function(){return this.refs.$data.$$(".segment").map((function(t){return{x:+t.$('[data-key="x"]').value,y:+t.$('[data-key="y"]').value}}))}},{key:"updateData",value:function(){var t=this.makeSegments();this.state.parser.resetSegments(t),this.modifyPolygonData()}},{key:"modifyPolygonData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"setValue",value:function(t){this.setState({parser:new LO(t||"")})}},{key:"getValue",value:function(){return this.state.parser.joinPoints()}},{key:"template",value:function(){return"\n            <div class='polygon-data-editor'>\n                <div class='data' ref='$data'></div>\n            </div>\n        "}},{key:Fr("$data"),value:function(){return this.state.parser.segments.map((function(t){return'\n                <div class=\'segment\'>\n                    <div class=\'values\'>\n                        <label>X <input type="number" data-key="x" value="'.concat(t.x,'" /></label>\n                        <label>Y <input type="number" data-key="y" value="').concat(t.y,'" /></label>\n                    </div>\n                </div>\n            ')}))}},{key:hr("$data input[type=number]")+Ar(300),value:function(t){this.updateData()}}])&&lA(n.prototype,r),o&&lA(n,o),e}(nd);function dA(t){return(dA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vA(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gA(t,e){return!e||"object"!==dA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wA(t){return(wA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function OA(t,e){return(OA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kA=function(t){function e(){return bA(this,e),gA(this,wA(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OA(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:aR,SelectEditor:JT}}},{key:"initState",value:function(){var t=vA((this.props.value||"").split(",").map((function(t){return t.trim()})),4);return{id:t[0],distance:t[1]||"0%",rotateStatus:t[2]||"auto",rotate:t[3]||"0deg"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyOffsetPath()}},{key:"getValue",value:function(){var t=this;return Object.keys(this.state).map((function(e){return t.state[e]})).join(",")}},{key:"refresh",value:function(){this.load()}},{key:"setValue",value:function(t){var e=vA((t||"").split(",").map((function(t){return t.trim()})),4),n=e[0],r=e[1],o=e[2],i=e[3];this.setState({id:n,distance:r,rotateStatus:o,rotate:i},!1),this.refresh()}},{key:"modifyOffsetPath",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"template",value:function(){return"\n            <div class='offset-path-editor'></div>\n        "}},{key:"getOptions",value:function(){var t=this.$selection.currentArtboard,e={};return t&&t.allLayers.filter((function(t){return t.is("svg-path","svg-polygon")})).filter((function(t){return t["motion-based"]})).forEach((function(t){e[t.id]=t})),{options:Object.keys(e).map((function(t){return"".concat(t,":").concat(e[t].name)})).join(","),paths:e}}},{key:Fr(),value:function(){var t=this.getOptions(),e=","+t.options,n=t.paths||{},r=this.state,o=r.id,i=r.rotateStatus,a=r.rotate,c=r.distance;return"\n        <div>\n            <div class='offset-path-item'>\n                <SelectEditor ref='$path' label='".concat(this.$i18n("offset.path.list.editor.path"),'\' key="id" value="').concat(o,'" options="').concat(e,"\" onchange='changeRangeEditor' />\n            </div>\n            <div class='offset-path-item'>\n                <div>").concat(this.$i18n("offset.path.list.editor.totalLength"),": <span ref='$totalLength'>").concat(n[o]&&n[o].totalLength||0,"</span></div>\n            </div>\n            <div class='offset-path-item'>\n                <RangeEditor ref='$distance' label='").concat(this.$i18n("offset.path.list.editor.distance"),'\' min="0" max="100" value="').concat(c||"0%","\" key='distance' unit=\"%,px\" onchange='changeRangeEditor' /> \n            </div>\n            <div class='offset-path-item'>\n                <SelectEditor ref='$status' label='").concat(this.$i18n("offset.path.list.editor.direction"),"' key='rotateStatus' value=\"").concat(i,"\" options=\"auto,auto angle,angle,reverse,element\" onchange='changeRangeEditor' /> \n            </div>\n            <div class='offset-path-item'>\n                <RangeEditor ref='$rotate' label='").concat(this.$i18n("offset.path.list.editor.rotate"),"' min=\"0\" max=\"2000\" key='rotate' value='").concat(a||"0deg","' units=\"deg,turn\" onchange='changeRangeEditor' /> \n            </div>     \n        </div>           \n        ")}},{key:Xr("$totalLength"),value:function(){var t=this.state.id,e=(this.getOptions().paths[t]||{totalLength:0}).totalLength||0;return{innerHTML:"<span>".concat(e,"</span>")}}},{key:ed("changeRangeEditor"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),this.bindData("$totalLength")}}])&&mA(n.prototype,r),o&&mA(n,o),e}(nd);function jA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var SA={none:!0,hidden:!0,dotted:!0,dashed:!0,solid:!0,double:!0,groove:!0,ridge:!0,inset:!0,outset:!0},PA=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parseStyle",value:function(t){return ve(t)}},{key:"parseValue",value:function(t){var e="",n="",r="";return t.split(" ").filter((function(t){return t.trim()})).forEach((function(t){SA[t]?e=t:Dn.isColor(t)?r=t:n=t})),{style:e,color:r,width:n}}},{key:"joinValue",value:function(t){return"".concat(t.width," ").concat(t.style," ").concat(t.color)}},{key:"join",value:function(t){return[t.border?"border: ".concat(t.border):"",t["border-top"]?"border-top: ".concat(t["border-top"]):"",t["border-left"]?"border-left: ".concat(t["border-left"]):"",t["border-right"]?"border-right: ".concat(t["border-right"]):"",t["border-bottom"]?"border-bottom: ".concat(t["border-bottom"]):""].filter((function(t){return t})).join(";")}}],(n=null)&&jA(e.prototype,n),r&&jA(e,r),t}();function xA(t){return(xA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $A(t,e){return!e||"object"!==xA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CA(t){return(CA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function TA(t,e){return(TA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var RA=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"].join(","),DA=function(t){function e(){return _A(this,e),$A(this,CA(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&TA(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{InputRangeEditor:rD,RangeEditor:aR,SelectEditor:JT,ColorViewEditor:$R,ColorSingleEditor:kR}}},{key:"initState",value:function(){return{value:PA.parseValue(this.props.value)}}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"getValue",value:function(){return PA.joinValue(this.state.value)}},{key:"setValue",value:function(t){this.state.value=PA.parseValue(t),this.refresh()}},{key:"refresh",value:function(){this.children.$width.setValue(this.state.value.width||_.z()),this.children.$style.setValue(this.state.value.style||"none"),this.children.$color.setValue(this.state.value.color||"rgba(0, 0, 0, 1)")}},{key:"template",value:function(){var t=this.state.value,e=t.width,n=t.style,r=t.color;return('\n      <div class="border-value-editor">\n        <label>'.concat(this.props.label,'</label>\n        <div class=\'editor-area\'>\n          <InputRangeEditor ref=\'$width\' min="0" max="100" step="1" key=\'width\' value="').concat(e,"\" onchange='changeKeyValue' />\n        </div>\n        <div class='editor-area'>\n          <SelectEditor ref='$style' key='style' options='").concat(RA,"' value=\"").concat(n,"\" onchange=\"changeKeyValue\" />\n        </div>\n        <div class='editor-area'>\n          <ColorSingleEditor ref='$color' key='color' value=\"").concat(r||"rgba(0, 0, 0, 1)",'"  onchange="changeKeyValue" />\n        </div>\n\n      </div>\n    '))}},{key:ed("changeKeyValue"),value:function(t,e){var n=this.state.value;n[t]=e,this.updateData({value:n})}}])&&EA(n.prototype,r),o&&EA(n,o),e}(nd);function VA(t){return(VA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LA(t,e){return!e||"object"!==VA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function MA(t){return(MA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zA(t,e){return(zA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var BA=["border","border-top","border-right","border-bottom","border-left"],FA={border:"all","border-top":"top","border-right":"right","border-bottom":"bottom","border-left":"left"},HA=function(t){function e(){return AA(this,e),LA(this,MA(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zA(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{BorderValueEditor:DA}}},{key:"initState",value:function(){var t=PA.parseStyle(this.props.value);return{direction:Object.keys(t)[0]||"border",borders:t}}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"getValue",value:function(){return PA.join(this.state.borders)}},{key:"setValue",value:function(t){this.state.borders=PA.parseStyle(t),this.refresh()}},{key:"refresh",value:function(){this.load()}},{key:Fr("$editorArea"),value:function(){var t=this;return BA.map((function(e){var n=FA[e]||e;return n=t.$i18n("border.editor."+n),"\n      <div>\n        <BorderValueEditor ref='$".concat(e,"' label='").concat(n,"' key=\"").concat(e,'" value="').concat(t.state.borders[e],'" onchange="changeKeyValue" />\n      </div>\n      ')}))}},{key:"template",value:function(){return"\n      <div class=\"border-editor\">\n        <div class='header'>\n          <div></div>\n          <label>".concat(this.$i18n("border.editor.width"),"</label>\n          <label>").concat(this.$i18n("border.editor.style"),"</label>\n          <label>").concat(this.$i18n("border.editor.color"),"</label>\n        </div>\n        <div class='editor-area' ref='$editorArea'>\n\n        </div>\n      </div>\n    ")}},{key:ed("changeKeyValue"),value:function(t,e){var n=this.state.borders;n[t]=e,this.updateData({borders:n})}}])&&IA(n.prototype,r),o&&IA(n,o),e}(nd);function GA(t){return(GA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YA(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function XA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KA(t,e){return!e||"object"!==GA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function WA(t){return(WA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function UA(t,e){return(UA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ZA=function(t){function e(){return XA(this,e),KA(this,WA(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UA(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{NumberRangeEditor:CV}}},{key:"initState",value:function(){var t=YA((this.props.value||"").split(":"),3);return{start:+(t[0]||0),end:+(t[1]||1),duration:+(t[2]||1)}}},{key:"refresh",value:function(){this.load(),this.children.$s.setValue(this.state.start*this.state.duration),this.children.$e.setValue(this.state.end*this.state.duration),this.children.$s.setMax(this.state.duration),this.children.$e.setMax(this.state.duration)}},{key:"template",value:function(){var t=this.state,e=t.start,n=t.end,r=t.duration;return("\n            <div class='media-progress-editor'>\n                <div class='drag-area'>\n                    <div class='progress-bar' ref='$progress'></div>\n                    <div class='bar' ref='$bar'></div>                \n                    <div class='drag-item start' ref='$start'></div>\n                    <div class='drag-item end' ref='$end'></div>\n                </div>\n                <div class='item'>\n                    <NumberRangeEditor \n                        ref='$s' \n                        label='Start' \n                        key='start' \n                        min=\"0\" \n                        max=\"".concat(r,'" \n                        step="0.001" \n                        value="').concat(e*r,"\" \n                        onchange=\"changeValue\" \n                    />\n                </div>\n                <div class='item'>\n                    <NumberRangeEditor \n                        ref='$e' \n                        label='End' \n                        key='end' \n                        min=\"0\" \n                        max=\"").concat(r,'" \n                        step="0.001" \n                        value="').concat(n*r,'" \n                        onchange="changeValue" \n                    />\n                </div>                \n            </div>\n        '))}},{key:ed("changeValue"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e/this.state.duration),!0)}},{key:kr("$start")+Lr("moveStart"),value:function(t){this.rect=this.refs.$progress.rect(),this.pos=_.parse(this.refs.$start.css("left")).toPx(this.rect.width),this.max=_.parse(this.refs.$end.css("left")).toPx(this.rect.width)}},{key:"moveStart",value:function(t,e){var n=Math.min(this.max.value,Math.max(0,this.pos.value+t));this.state.start=n/this.rect.width,this.children.$s.setValue(this.state.start*this.state.duration),this.refresh(),this.updateData()}},{key:Xr("$start"),value:function(){return{"data-info":this.state.start,style:{left:_.percent(100*(this.state.start||0))}}}},{key:kr("$end")+Lr("moveStartForEnd"),value:function(t){this.rect=this.refs.$progress.rect(),this.pos=_.parse(this.refs.$end.css("left")).toPx(this.rect.width),this.min=_.parse(this.refs.$start.css("left")).toPx(this.rect.width),this.max=_.px(this.rect.width)}},{key:"moveStartForEnd",value:function(t,e){var n=Math.max(this.min.value,Math.min(this.max.value,this.pos.value+t));this.state.end=n/this.rect.width,this.children.$e.setValue(this.state.end*this.state.duration),this.refresh(),this.updateData()}},{key:Xr("$end"),value:function(){return{"data-info":this.state.end,style:{left:_.percent(100*(this.state.end||1))}}}},{key:Xr("$bar"),value:function(){var t=this.state.start||0,e=this.state.end||1;return{style:{left:_.percent(100*t),width:_.percent(100*(e-t))}}}},{key:"getValue",value:function(){var t=this.state,e=t.start,n=t.end,r=t.duration;return"".concat(e,":").concat(n,":").concat(r)}},{key:"setValue",value:function(t){var e=YA(t.split(":"),3),n=e[0],r=e[1],o=e[2];this.setState({start:Number(n),end:Number(r),duration:Number(o)})}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState(t,e),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}])&&NA(n.prototype,r),o&&NA(n,o),e}(nd);function qA(t){return(qA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tI(t,e){return!e||"object"!==qA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eI(t){return(eI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nI(t,e){return(nI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rI=function(t){function e(){return JA(this,e),tI(this,eI(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nI(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{BorderEditor:HA,NumberRangeEditor:CV,SelectEditor:JT,TextShadowEditor:YV,BoxShadowEditor:YT,FilterEditor:UR,ColorViewEditor:$R,RangeEditor:aR,StrokeDashArrayEditor:qV,BackgroundImageEditor:LT,TransformEditor:eV,TransformOriginEditor:pV,PerspectiveOriginEditor:jV,VarEditor:AD,BorderRadiusEditor:dR,ClipPathEditor:LV,PathDataEditor:cA,PolygonDataEditor:hA,OffsetPathListEditor:kA,MediaProgressEditor:ZA}}},{key:"initState",value:function(){return{hideTitle:"true"===this.props["hide-title"],hideRefresh:"true"===this.props["hide-refresh"],properties:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.modifyProperty()}},{key:"modifyProperty",value:function(){this.parent.trigger(this.props.onchange,this.state.properties)}},{key:"template",value:function(){return"\n      <div class='css-property-editor ".concat(me({"hide-title":this.state.hideTitle,"hide-refresh":this.state.hideRefresh}),"'>\n        <div class='title'>\n          <label>").concat(this.$i18n("css.property.editor.properties"),"</label>\n          <div class='tools'>\n            ").concat(this.makePropertySelect(),"\n            <button type=\"button\" ref='$addProperty'>").concat(Ag.add,"</button>\n          </div>\n        </div>\n        <div class='input grid-1 css-property-list' ref='$property'></div>\n      </div>\n    ")}},{key:"getPropertyDefaultValue",value:function(t){switch(t){case"animation-timing-function":case"box-shadow":case"text-shadow":case"color":case"background-image":case"background-color":case"text-fill-color":case"text-stroke-color":case"filter":case"backdrop-filter":case"var":case"transform":case"transform-origin":case"perspective-origin":case"playTime":return _.string("");case"offset-distance":return _.percent(0);case"rotate":return _.deg(0);case"mix-blend-mode":return"normal";case"clip-path":return"";case"opacity":return 1;default:return _.z()}}},{key:rr("$addProperty"),value:function(t){var e=this.getRef("$propertySelect").value;if(this.state.properties.find((function(t){return t.key===e})))alert("".concat(e," is already added."));else{var n=this.getPropertyDefaultValue(e),r=this.$selection.current;r&&(n=r[e]),this.state.properties.push({key:e,value:n}),this.refresh(),this.modifyProperty()}}},{key:"makeIndivisualPropertyColorEditor",value:function(t,e){var n=t.key.split("-").join("");return("\n      <div class='property-editor'>\n        <ColorViewEditor ref='$".concat(n).concat(e,"' value=\"").concat(t.value,'" key="').concat(t.key,'" onChange="changeColorProperty" />\n      </div>\n    '))}},{key:"makeCustomePropertyEditor",value:function(t,e){return"\n      <div class='property-editor'>\n        <".concat(t.editor," ").concat(be({onchange:"changeSelect",ref:"$customProperty".concat(e),key:t.key,value:t.value})," />\n      </div>\n    ")}},{key:"makeIndivisualPropertyEditor",value:function(t,e){return"background-image"===t.key?"\n        <div class='property-editor'>\n          <BackgroundImageEditor ref='$backgroundImage".concat(e,"' key=\"").concat(t.key,'" hide-title="').concat(this.state.hideTitle,'" value="').concat(t.value,'" onChange="changeBackgroundImageProperty" />\n        </div>\n      '):"filter"===t.key?"\n        <div class='property-editor'>\n          <FilterEditor ref='$filter".concat(e,"' value=\"").concat(t.value,'" onChange="changeFilterProperty" />\n        </div>\n      '):"backdrop-filter"===t.key?"\n        <div class='property-editor'>\n          <FilterEditor ref='$backdropFilter".concat(e,"' value=\"").concat(t.value,'" onChange="changeBackdropFilterProperty" />\n        </div>\n      '):"box-shadow"===t.key?"\n        <div class='property-editor'>\n          <BoxShadowEditor ref='$boxshadow".concat(e,"' value=\"").concat(t.value,'" hide-label="false" onChange="changeBoxShadowProperty" />\n        </div>\n      '):"text-shadow"===t.key?"\n        <div class='property-editor'>\n          <TextShadowEditor ref='$textshadow".concat(e,"' value=\"").concat(t.value,'" hide-label="false" onChange="changeTextShadowProperty" />\n        </div>\n      '):"var"===t.key?"\n        <div class='property-editor'>\n          <VarEditor ref='$var".concat(e,"' value=\"").concat(t.value,'" onChange="changeVar" />\n        </div>\n      '):"transform"===t.key?"\n        <div class='property-editor'>\n          <TransformEditor ref='$transform".concat(e,"' value=\"").concat(t.value,'" onChange="changeTransform" />\n        </div>\n      '):"transform-origin"===t.key?"\n        <div class='property-editor'>\n          <TransformOriginEditor ref='$transformOrigin".concat(e,"' value=\"").concat(t.value,'" onChange="changeTransformOrigin" />\n        </div>\n      '):"perspective-origin"===t.key?"\n        <div class='property-editor'>\n          <PerspectiveOriginEditor ref='$perspectiveOrigin".concat(e,"' value=\"").concat(t.value,'" onChange="changePerspectiveOrigin" />\n        </div>\n      '):"fill-rule"===t.key?"\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$fillRule".concat(e,'\' \n          key=\'fill-rule\' \n          icon="true" \n          options="nonzero,evenodd" \n          value="').concat(t.value,'"\n          onchange="changeSelect" />\n        </div>\n      '):"stroke-linecap"===t.key?"\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$strokeLinecap".concat(e,'\' \n          key=\'stroke-linecap\' \n          icon="true" \n          options="butt,round,square" \n          value="').concat(t.value,'"\n          onchange="changeSelect" />\n        </div>\n      '):"stroke-linejoin"===t.key?"\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$strokeLinejoin".concat(e,'\' \n          key=\'stroke-linejoin\' \n          icon="true" \n          options="miter,arcs,bevel,miter-clip,round" \n          value="').concat(t.value,'"\n          onchange="changeSelect" />\n        </div>\n      '):"mix-blend-mode"===t.key?"\n        <div class='property-editor'>\n          <BlendSelectEditor \n          ref='$mixBlendMode".concat(e,"' \n          key='mix-blend-mode' \n          icon=\"true\" \n          value=\"").concat(t.value,'"\n          onchange="changeSelect" />\n        </div>\n      '):"stroke-dasharray"===t.key?"\n        <StrokeDashArrayEditor \n          ref='$strokeDashArray".concat(e,"' \n          key='stroke-dasharray'\n          value='").concat(t.value,"' \n          onchange='changeSelect' \n        />\n      "):"border-radius"===t.key?"\n        <BorderRadiusEditor \n          ref='$borderRadius".concat(e,"' \n          key='border-radius'\n          value='").concat(t.value,"' \n          onchange='changeBorderRadius' \n        />\n      "):"border"===t.key?"\n        <BorderEditor \n          ref='$border".concat(e,"' \n          key='border'\n          value='").concat(t.value,"' \n          onchange='changeKeyValue' \n        />\n      "):"clip-path"===t.key?"\n        <ClipPathEditor \n          ref='$clipPath".concat(e,"' \n          key='clip-path'\n          value='").concat(t.value,"' \n          onchange='changeClipPath' \n        />\n      "):"d"===t.key?"\n        <PathDataEditor ref='$pathData".concat(e,"' key='d' value='").concat(t.value,"' onchange='changeSelect' />\n      "):"points"===t.key?"\n        <PolygonDataEditor ref='$polygonData".concat(e,"' key='points' value='").concat(t.value,"' onchange='changeSelect' />\n      "):"offset-path"===t.key?"\n        <OffsetPathListEditor ref='$offsetPathList".concat(e,"' key='offset-path' value='").concat(t.value,"' onchange='changeSelect' />\n      "):"playTime"===t.key?"\n        <MediaProgressEditor ref='$playTime".concat(e,"'  key='playTime' value=\"").concat(t.value,'" onchange="changeSelect" />      \n      '):"\n      <div class='property-editor'>\n        ???\n\n      </div>\n    "}},{key:ed("changeKeyValue"),value:function(t,e){this.modifyPropertyValue(t,e)}},{key:ed("changeBorderRadius"),value:function(t){this.modifyPropertyValue("border-radius",t)}},{key:ed("changeClipPath"),value:function(t){this.modifyPropertyValue("clip-path",t)}},{key:ed("changeColorProperty"),value:function(t,e){this.modifyPropertyValue(t,e)}},{key:ed("changeBackgroundImageProperty"),value:function(t,e){this.modifyPropertyValue(t,e)}},{key:ed("changeFilterProperty"),value:function(t){this.modifyPropertyValue("filter",t)}},{key:ed("changeBackdropFilterProperty"),value:function(t){this.modifyPropertyValue("backdrop-filter",t)}},{key:ed("changeBoxShadowProperty"),value:function(t){this.modifyPropertyValue("box-shadow",t)}},{key:ed("changeTextShadowProperty"),value:function(t){this.modifyPropertyValue("text-shadow",t)}},{key:ed("changeVar"),value:function(t){this.modifyPropertyValue("var",t)}},{key:ed("changeTransform"),value:function(t){this.modifyPropertyValue("transform",t)}},{key:ed("changeTransformOrigin"),value:function(t){this.modifyPropertyValue("transform-origin",t)}},{key:ed("changePerspectiveOrigin"),value:function(t){this.modifyPropertyValue("perspective-origin",t)}},{key:ed("changeSelect"),value:function(t,e){this.modifyPropertyValue(t,e)}},{key:"makePropertyEditor",value:function(t,e){if(t.editor)return this.makeCustomePropertyEditor(t,e);switch(t.key){case"animation-timing-function":case"box-shadow":case"text-shadow":case"background-image":case"filter":case"backdrop-filter":case"var":case"transform":case"transform-origin":case"perspective-origin":case"mix-blend-mode":case"border":case"border-radius":case"clip-path":case"fill-rule":case"stroke-linecap":case"stroke-linejoin":case"stroke-dasharray":case"d":case"points":case"offset-path":case"playTime":return this.makeIndivisualPropertyEditor(t,e);case"color":case"background-color":case"text-fill-color":case"text-stroke-color":case"stroke":case"fill":return this.makeIndivisualPropertyColorEditor(t,e);case"opacity":case"fill-opacity":case"stroke-dashoffset":case"offset-distance":return"\n          <div class='property-editor'>\n            <NumberRangeEditor \n              ref='$opacity".concat(e,"' \n              key='").concat(t.key,"' \n              min=\"").concat(0,'"\n              max="').concat(1,'"\n              step="').concat(.01,'"\n              value="').concat(t.value||1,'"\n              selected-unit=\'number\'\n              removable="true"\n              onchange="changeRangeEditor" />\n          </div>\n        ');case"rotate":return"\n          <div class='property-editor'>\n            <RangeEditor \n              ref='rangeEditor".concat(e,"' \n              key='").concat(t.key,"' \n              value='").concat(t.value,'\'  \n              min="-2000"\n              max="2000"\n              units="deg" \n              onChange="changeRangeEditor" />\n          </div>\n        ');case"left":case"margin-top":case"margin-bottom":case"margin-left":case"margin-right":case"padding-top":case"padding-bottom":case"padding-left":case"padding-right":case"font-size":case"font-stretch":case"width":case"height":case"perspective":case"offset-distance":case"text-stroke-width":default:return"\n          <div class='property-editor'>\n            <RangeEditor ref='rangeEditor".concat(e,"' key='").concat(t.key,"' value='").concat(t.value,'\' max="1000" onChange="changeRangeEditor" />\n          </div>\n        ')}}},{key:ed("changeRangeEditor"),value:function(t,e){this.modifyPropertyValue(t,e+"")}},{key:"searchKey",value:function(t,e){this.state.properties.filter((function(e){return e.key===t})).forEach(e)}},{key:"modifyPropertyValue",value:function(t,e){this.searchKey(t,(function(t){t.value=e})),this.modifyProperty()}},{key:"makePropertySelect",value:function(){return"\n      <select class='property-select' ref='$propertySelect'>\n        <optgroup label='Position'>\n          <option value='x'>x</option>\n          <option value='y'>y</option>        \n        </optgroup>\n        <optgroup label='Size'>\n          <option value='width'>width</option>\n          <option value='height'>height</option>\n        </optgroup>      \n        <optgroup label='Box Model'>\n          <option value='margin-left'>margin-left</option>\n          <option value='margin-right'>margin-right</option>\n          <option value='margin-bottom'>margin-bottom</option>\n          <option value='margin-top'>margin-top</option>\n          <option value='padding-left'>padding-left</option>\n          <option value='padding-right'>padding-right</option>\n          <option value='padding-bottom'>padding-bottom</option>\n          <option value='padding-top'>padding-top</option>       \n        </optgroup>\n        <optgroup label='Border'>\n          <option value='border'>border</option>\n          <option value='border-radius'>border-radius</option>\n        </optgroup>        \n        <optgroup label='Style'>\n          <option value='background-color'>background-color</option>\n          <option value='background-image'>background-image</option>\n          <option value='box-shadow'>box-shadow</option>\n          <option value='text-shadow'>text-shadow</option>\n          <option value='filter'>filter</option>      \n          <option value='backdrop-filter'>backdrop-filter</option>\n          <option value='mix-blend-mode'>mix-blend-mode</option>\n        </optgroup>            \n        <optgroup label='Transform'>\n          <option value='transform'>transform</option>\n          <option value='transform-origin'>transform-origin</option>\n          <option value='perspective'>perspective</option>\n          <option value='perspective-origin'>perspective-origin</option>\n        </optgroup>\n        <optgroup label='Font'>\n          <option value='font-size'>font-size</option>\n          <option value='font-weight'>font-weight</option>          \n          <option value='font-stretch'>font-stretch</option>\n        </optgroup>\n        <optgroup label='Animation'>\n          <option value='animation-timing-function'>timing-function</option>\n        </optgroup>        \n      </select>\n    "}},{key:Fr("$property"),value:function(){var t=this;return this.state.properties.map((function(e,n){return"\n        <div class='css-property-item'>\n          <div class='title'>\n            <label>".concat(e.key,"</label>\n            <div class='tools'>\n              <button type=\"button\" class='remove' data-index=\"").concat(n,'">').concat(Ag.remove2,"</button>\n            </div>\n          </div>\n          <div class='title-2'>\n            <div class='tools'>\n              <label><button type=\"button\" class='refresh' data-index=\"").concat(n,'">').concat(Ag.refresh,"</button> Refresh</label>\n            </div>\n          </div>\n          <div class='value-editor'>\n            ").concat(t.makePropertyEditor(e,n),"\n          </div>\n        </div>\n      ")}))}},{key:ed("showCSSPropertyEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({properties:t}),this.refresh()}},{key:rr("$property .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.properties.splice(e,1),this.refresh(),this.modifyProperty()}},{key:rr("$property .refresh"),value:function(t){this.parent.trigger("refreshPropertyValue")}}])&&QA(n.prototype,r),o&&QA(n,o),e}(nd);function oI(t){return(oI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iI(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function aI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uI(t,e){return!e||"object"!==oI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sI(t){return(sI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lI(t,e){return(lI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fI=function(t){function e(){return aI(this,e),uI(this,sI(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lI(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{InputRangeEditor:rD,RangeEditor:aR,CSSPropertyEditor:rI}}},{key:"initState",value:function(){return{offsets:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.modifyOffset()}},{key:"modifyOffset",value:function(){this.emit("changeOffsetEditor",this.state)}},{key:"template",value:function(){return"\n    <div class='editor offset-editor' ref='$editor'>\n        ".concat(this.templateForOffset(),"\n        ").concat(this.templateForOffsetInput(),"\n        ").concat(this.templateForProperty(),"        \n    </div>")}},{key:"templateForOffsetInput",value:function(){return"\n      <div class='offset-input' >\n        <div class='title'>\n          <label>Offset</label>\n          <div class='tools'>\n            <InputRangeEditor \n              key='offset' \n              min='0' \n              max='100' \n              step=\"0.01\" \n              value=\"".concat(_.percent(0),"\" \n              ref='$offsetInput' \n              units=\"%\" \n              onchange='changeRangeEditor' \n            />\n          </div>\n        </div>\n      </div>\n    ")}},{key:ed("changeRangeEditor"),value:function(t,e){var n=this.state.offsets[this.selectedIndex];n&&(n.offset=e.clone(),this.refresh(),this.modifyOffset())}},{key:"templateForProperty",value:function(){return"<CSSPropertyEditor ref='$offsetPropertyEditor' hide-refresh=\"true\" onchange='changeCSSPropertyEditor' />"}},{key:"templateForOffset",value:function(){return"<div class='offset' ref='$offset' data-selected-value=\"-1\"></div>"}},{key:"makeOffset",value:function(t,e){return"<div class='offset-item' style='left: ".concat(t.offset,";' data-offset-index='").concat(e.toString(),"'></div>")}},{key:"selectItem",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Qt(t)){t=-1;for(var e=0,n=this.state.offsets.length;e<n;e++)if(this.state.offsets[e].selected){t=e;break}-1===t&&(t=0)}this.getRef("$offset").attr("data-selected-value",t),this.selectedIndex=t,this.state.offsets.forEach((function(e,n){e.selected=n===t}));var r=this.state.offsets.filter((function(t){return t.selected}));this.selectedOffsetItem=r.length?r[0]:{},this.refreshOffsetInput()}},{key:"refreshOffsetInput",value:function(){var t=this.state.offsets[this.selectedIndex];t&&this.children.$offsetInput.setValue(t.offset)}},{key:Fr("$offset"),value:function(){var t=this;return this.state.offsets.map((function(e,n){return t.makeOffset(e,n)}))}},{key:"isNotOffsetItem",value:function(t){return!Wn.create(t.target).hasClass("offset-item")&&!this.currentOffset}},{key:rr("$offset")+$r("isNotOffsetItem")+zr,value:function(t){this.baseOffsetWidth=this.refs.$offset.width(),this.baseOffsetArea=this.refs.$offset.offset();var e=t.xy.x,n=_.percent((e-this.baseOffsetArea.left)/this.baseOffsetWidth*100).round(100);this.state.offsets.push(new dk({offset:n})),this.selectItem(this.state.offsets.length-1,!0),this.refresh(),this.modifyOffset()}},{key:"refreshOffsetProperty",value:function(){this.emit("showCSSPropertyEditor",this.selectedOffsetItem.properties)}},{key:kr("$offset .offset-item")+Lr("moveOffset")+Mr("endOffset"),value:function(t){this.baseOffsetWidth=this.refs.$offset.width(),this.baseOffsetArea=this.refs.$offset.offset(),this.currentOffsetleft=_.parse(t.$dt.css("left")),this.currentOffset=t.$dt,this.currentOffsetIndex=+t.$dt.attr("data-offset-index"),this.currentOffsetXY=t.xy,this.baseOffsetMin=this.baseOffsetArea.left,this.baseOffsetMax=this.baseOffsetArea.left+this.baseOffsetWidth,this.isRemoveOffset=!1,t.altKey?this.isRemoveOffset=!0:(this.selectItem(this.currentOffsetIndex,!0),this.refreshOffsetInput())}},{key:"moveOffset",value:function(t,e){if(!this.isRemoveOffset){var n=this.currentOffsetXY.x+t;n<this.baseOffsetMin&&(n=this.baseOffsetMin),n>this.baseOffsetMax&&(n=this.baseOffsetMax);var r=_.percent((n-this.baseOffsetMin)/this.baseOffsetWidth*100).round(100);this.state.offsets[this.currentOffsetIndex].offset.set(r.value),this.currentOffset.css("left",r),this.refreshOffsetInput(),this.modifyOffset()}}},{key:"removeOffset",value:function(t){this.state.offsets.splice(t,1),this.selectItem(0),this.refresh(),this.modifyOffset()}},{key:"endOffset",value:function(t,e){var n=this;this.isRemoveOffset?setTimeout((function(){n.currentOffset=null,n.removeOffset(n.currentOffsetIndex)}),10):setTimeout((function(){n.currentOffset=null,n.refreshOffsetInput(),n.refreshOffsetProperty(),n.modifyOffset()}),10)}},{key:"refresh",value:function(){this.load(),this.refreshOffsetProperty()}},{key:ed("showOffsetEditor"),value:function(t){this.setState(t),this.selectItem(),this.refresh()}},{key:ed("changeCSSPropertyEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.state.offsets[this.selectedIndex];e&&(e.properties=iI(t)),this.modifyOffset()}}])&&cI(n.prototype,r),o&&cI(n,o),e}(nd);function pI(t){return(pI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yI(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function hI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vI(t,e){return!e||"object"!==pI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bI(t){return(bI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mI(t,e){return(mI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gI=function(t){function e(){return hI(this,e),vI(this,bI(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mI(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:aR}}},{key:"parseValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50%",e=new _("","closest-side"),n="";if((t=t||"50%").includes("at")){var r=t.split("at").map((function(t){return t.trim()})),o=yI(r,2);e=o[0],n=o[1]}else n=t.trim();var i=n.split(" "),a=yI(i,2),c=a[0],u=a[1];return Qt(u)&&(u=c),{radius:e,x:c=_.parse(c),y:u=_.parse(u)}}},{key:"initState",value:function(){return this.parseValue(this.props.value)}},{key:"template",value:function(){return"\n        <div class='clip-path-editor circle-editor'>\n            <RangeEditor \n                ref='$range' \n                label='Radius' \n                key='radius' \n                value='".concat(this.state.radius,"' \n                min=\"0\" \n                max=\"100\" \n                step=\"0.1\" \n                units=\"%,closest-side,farthest-side\" \n                onchange='changeRangeEditor' \n            />\n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' ref='$pointer' style='left: ").concat(this.state.x,";top: ").concat(this.state.y,";'></div>\n                <div class='clip-area circle' ref='$clipArea'></div>\n            </div>\n        </div>\n    ")}},{key:Xr("$clipArea"),value:function(){return{style:{"clip-path":"".concat(this.props.key,"(").concat(this.toClipPathValueString(),")")}}}},{key:kr("$area")+Lr()+Mr(),value:function(t){this.areaRect=this.refs.$area.rect(),this.startXY=t.xy}},{key:"move",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.areaRect.x>n?n=this.areaRect.x:this.areaRect.right<n&&(n=this.areaRect.right),this.areaRect.y>r?r=this.areaRect.y:this.areaRect.bottom<r&&(r=this.areaRect.bottom);var o=_.percent((n-this.areaRect.x)/this.areaRect.width*100).round(1),i=_.percent((r-this.areaRect.y)/this.areaRect.height*100).round(1);this.refs.$pointer.css({left:o,top:i}),this.updateData({x:o,y:i}),this.bindData("$clipArea")}},{key:"toClipPathValueString",value:function(){var t=this.state,e=t.x,n=t.y,r=t.radius,o="".concat(e," ").concat(n),i=r+"";return i.includes("closest-side")?i="closest-side":i.includes("farthest-side")&&(i="farthest-side"),r?"".concat(i," at ").concat(o):"".concat(o)}},{key:"updateData",value:function(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:ed("changeRangeEditor"),value:function(t,e){if("radius"===t){var n=e,r=e.unit+"";r.includes("closest-side")?n=new _("","closest-side"):r.includes("farthest-side")&&(n=new _("","farthest-side")),this.updateData({radius:n})}}}])&&dI(n.prototype,r),o&&dI(n,o),e}(nd);function wI(t){return(wI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jI(t,e){return!e||"object"!==wI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function SI(t){return(SI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function PI(t,e){return(PI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xI=function(t){function e(){return OI(this,e),jI(this,SI(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PI(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props.value;return{label:this.props.label||"",value:t}}},{key:"template",value:function(){var t=this.state.label;return"\n            <div class='text-editor ".concat(t?"has-label":"","'>\n                ").concat(t?"<label>".concat(t,"</label>"):"","\n                <input type='text' ref='$text' />\n            </div>\n        ")}},{key:"getValue",value:function(){return this.refs.$options.value}},{key:Xr("$text"),value:function(){return{value:this.state.value}}},{key:hr("$text"),value:function(){this.updateData({value:this.refs.$text.value})}},{key:"updateData",value:function(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&kI(n.prototype,r),o&&kI(n,o),e}(nd);function _I(t){return(_I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CI(t,e){return!e||"object"!==_I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TI(t){return(TI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function RI(t,e){return(RI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var DI=function(t){function e(){return EI(this,e),CI(this,TI(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RI(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{values:this.props.values.split(" ").map((function(t){return+t})),column:this.props.column}}},{key:"template",value:function(){return"<div class='small-editor input-array-editor' ref='$body' ></div>"}},{key:Xr("$body"),value:function(){return{cssText:"\n                display: grid;\n                grid-template-columns: repeat(".concat(this.state.column,", 1fr);\n                grid-column-gap: 2px;\n                grid-row-gap: 2px;\n            ")}}},{key:Fr("$body"),value:function(){return this.state.values.map((function(t,e){return'\n                <div class=\'number-editor\'>\n                    <input type="number" value="'.concat(t,'" step="0.01" data-index="').concat(e,'" />\n                </div>\n            ')}))}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.values,this.props.params)}},{key:hr("$body input"),value:function(t){var e=t.$dt,n=+e.attr("data-index"),r=+e.value;this.state.values[n]=r,this.updateData()}}])&&$I(n.prototype,r),o&&$I(n,o),e}(nd);function VI(t){return(VI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AI(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||MI(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function II(t,e){return zI(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||LI()}function LI(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function MI(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function zI(t){if(Array.isArray(t))return t}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function FI(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?BI(Object(n),!0).forEach((function(e){HI(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function HI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XI(t,e){return!e||"object"!==VI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function NI(t){return(NI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function KI(t,e){return(KI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var WI=function(t){function e(){return GI(this,e),XI(this,NI(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KI(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{TextEditor:xI,NumberRangeEditor:CV,SelectEditor:JT}}},{key:"initState",value:function(){return FI({label:this.props.label||""},this.parse(this.props.value))}},{key:"parse",value:function(t){var e,n=t.split(" "),r=zI(e=n)||MI(e)||LI(),o=r[0],i=r.slice(1);if("linear"===o)var a=II(i,2),c=a[0],u=a[1];else if("gamma"===o)var s=II(i,3),l=s[0],f=s[1],p=s[2];return{type:o,values:i,slop:c,intercept:u,amplitude:l,exponent:f,offset:p}}},{key:"template",value:function(){return"<div class='small-editor func-filter' ref='$body'></div>"}},{key:Fr("$body"),value:function(){var t=this,e=this.state,n=e.type,r=e.label,o=r?"has-label":"";return'\n        <SelectEditor label="'.concat(r,'" key="type" value="').concat(this.state.type,'" options="identity,table,discrete,linear,gamma" onchange="changeType" />\n        <div class=\'func-filter-editor ').concat(o,"' ref='$container' data-selected-type='").concat(n,"'>\n            ").concat(r?"<label></label>":"","\n            <div data-type='identity'>\n            </div>\n            <div data-type='table'>\n                <TextEditor label='tableValues' ref='$values' key='values' value=\"").concat(this.state.values.join(" "),'" onchange="changeValues" />\n            </div>\n            <div data-type=\'linear\'>\n                ').concat(["slop","intercept"].map((function(e){return"\n                        <div>\n                            <NumberRangeEditor label='".concat(e,"' ref='$").concat(e,"' key='").concat(e,"' value=\"").concat(t.state[e],'" onchange="changeLinear" />\n                        </div>                    \n                    ')})).join(""),"\n            </div>\n            <div data-type='gamma'>\n                ").concat(["amplitude","exponent","offset"].map((function(e){return"\n                        <div>\n                            <NumberRangeEditor label='".concat(e,"' ref='$").concat(e,"' key='").concat(e,"' value=\"").concat(t.state[e],'" onchange="changeGamma" />\n                        </div>                    \n                    ')})).join(""),"            \n            </div>                                                \n        </div>\n    ")}},{key:ed("changeType"),value:function(t,e){this.updateData({type:e}),this.refresh()}},{key:"getValue",value:function(){switch(this.state.type){case"table":case"discrete":return[this.state.type].concat(AI(this.state.values)).join(" ");case"linear":return[this.state.type,this.state.slop,this.state.intercept].join(" ");case"gamma":return[this.state.type,this.state.amplitude,this.state.exponent,this.state.offset].join(" ")}return"identity"}},{key:"setValue",value:function(t){this.setState(FI({},this.parse(t)))}},{key:ed("changeValues"),value:function(t,e){this.updateData(HI({},t,e.split(" ")))}},{key:ed("changeLinear"),value:function(t,e){this.updateData(HI({},t,e))}},{key:ed("changeGamma"),value:function(t,e){this.updateData(HI({},t,e))}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}])&&YI(n.prototype,r),o&&YI(n,o),e}(nd),UI={red:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   0   0   0\n0   0   0   1   0\n",green:"\n0   0   0   0   0\n0   1   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n",blue:"\n0   0   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n",yellow:"\n1   0   0   0   0\n0   1   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n",magenta:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n",cyan:"\n0   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n",alpha:"\n1   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   0   .5  0 \n",BlueMagenta2:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   1  .5   0\n0   0   0   1   0 \n",BlueShadowMagentHightlight:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   1   1   0\n0   0   0   1   0 \n",darken:"\n.5   0   0   0   0\n0  .5   0   0   0\n0   0  .5   0   0\n0   0   0   1   0 \n",ElimBlue:"\n1   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   -2   1   0 \n",GrayOnDark:"\n0   0   1   0   0\n0   0   1   0   0\n0   0   1   0   0\n0   0   0   1   0  \n",GrayOnLight:"\n1   0   0   0   0\n1   0   0   0   0\n1   0   0   0   0\n0   0   0   1   0 \n",GrayOnMid:"\n0   1   0   0   0\n0   1   0   0   0\n0   1   0   0   0\n0   0   0   1   0 \n",HardGreen:"\n1   0   0   0   0\n0   1   0   1   0\n0   0   1   0   0\n0   0   0   1   0 \n",HardYellow:"\n1   0   0   1   0\n0   1   0   1   0\n0   0   1   0   0\n0   0   0   1   0 \n",IdenticalRedOverlay:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n",lighten:"\n1.5   0   0   0   0\n0   1.5   0   0   0\n0   0   1.5   0   0\n0   0   0   1   0 \n",lime:"\n1   0   0   0   0\n0   2   0   0   0\n0   0   0  .5   0\n0   0   0   1   0 \n",NoGreenMagenta:"\n1   1   0   0   0\n0   0   0   0   0\n0   1   1   0   0\n0   0   0   1   0 \n",NoGreenRed:"\n1   1   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n",peachy:"\n1   0   0   0   0\n0  .5   0   0   0\n0   0   0  .5   0\n0   0   0   1   0 \n",RedOverlay:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   1  -1   0\n0   0   0   1   0 \n",YesGreenColorizedMagenta:"\n1   1   0   0   0\n0   1   0   0   0\n0   1   1   0   0\n0   0   0   1   0 \n"};function ZI(t){return(ZI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QI(t,e){return!e||"object"!==ZI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tL(t){return(tL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function eL(t,e){return(eL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nL=Object.keys(UI).map((function(t){return{title:t,values:UI[t]}})),rL=function(t){function e(){return qI(this,e),QI(this,tL(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eL(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{values:lt(this.props.values)}}},{key:"template",value:function(){return"\n            <div class='small-editor color-matrix-editor' >\n                <div ref='$body'></div>\n                <div class='title'> Mix Color Template </div>\n                <div class='color-matrix-template' ref='$sample'></div>\n            </div>\n        "}},{key:Xr("$body"),value:function(){return{cssText:"\n                display: grid;\n                grid-template-columns: repeat(".concat(6,", 1fr);\n                grid-column-gap: 2px;\n                grid-row-gap: 2px;\n                text-align: left; \n            ")}}},{key:Fr("$sample"),value:function(){return nL.map((function(t,e){return"<div class='sample-item' title='".concat(t.title,"' data-index=\"").concat(e,'">').concat(t.title,"</div>")}))}},{key:rr("$sample .sample-item"),value:function(t){var e=+t.$dt.attr("data-index"),n=nL[e];this.updateData({values:lt(n.values)}),this.load("$body")}},{key:Fr("$body"),value:function(){var t=this.state.values,e=["R","G","B","A"];return"\n            <div></div>\n            <div>R</div>\n            <div>G</div>\n            <div>B</div>\n            <div>A</div>\n            <div>M</div>\n        "+t.map((function(t,n){var r="";return n%5==0&&(r="<div>".concat(e[Math.floor(n/5)],"</div>")),"\n                ".concat(r,'\n                <div class=\'number-editor\'>\n                    <input type="number" value="').concat(t,'" step="0.01" data-index="').concat(n,'" />\n                </div>\n            ')}))}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.values,this.props.params)}},{key:hr("$body input"),value:function(t){var e=t.$dt,n=+e.attr("data-index"),r=+e.value;this.state.values[n]=r,this.updateData()}}])&&JI(n.prototype,r),o&&JI(n,o),e}(nd),oL={dancingStroke:[{type:"SourceAlpha",id:"strokeSource",bound:{x:100,y:100},connected:[{id:"morphology"}]},{type:"Morphology",id:"morphology",operator:"dilate",radius:"3 3",bound:{x:100,y:200},in:[{id:"strokeSource"}],connected:[{id:"composite"}]},{type:"Flood",id:"flood",bound:{x:100,y:200},color:"#30597E",opacity:1,connected:[{id:"composite"}]},{type:"Composite",id:"composite",bound:{x:400,y:150},in:[{id:"flood"},{id:"morphology"}],operator:"in",connected:[{id:"composite2"}]},{type:"SourceAlpha",id:"strokeSourceAlpha2",bound:{x:400,y:200},connected:[{id:"composite2"}]},{type:"Composite",id:"composite2",bound:{x:400,y:150},in:[{id:"composite"},{id:"strokeSourceAlpha2"}],operator:"out",connected:[{id:"displacementMap"}]},{type:"Turbulence",id:"turbulence",filterType:"fractalNoise",baseFrequency:"0.01 0.02",numOctaves:1,seed:0,stitchTiles:"stitch",bound:{x:400,y:200},connected:[{id:"displacementMap"}]},{type:"DisplacementMap",id:"displacementMap",scale:17,xChannelSelector:"A",yChannelSelector:"A",bound:{x:400,y:200},in:[{id:"composite2"},{id:"turbulence"}],connected:[{id:"merge"}]},{type:"SourceGraphic",id:"strokeSourceGraphic",bound:{x:400,y:200},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:500,y:150},in:[{id:"strokeSourceGraphic"},{id:"displacementMap"}]}],stroke:[{type:"SourceAlpha",id:"strokeSource",bound:{x:100,y:100},connected:[{id:"morphology"}]},{type:"Morphology",id:"morphology",operator:"dilate",radius:"3 3",bound:{x:100,y:200},in:[{id:"strokeSource"}],connected:[{id:"composite"}]},{type:"Flood",id:"flood",bound:{x:100,y:200},color:"#30597E",opacity:1,connected:[{id:"composite"}]},{type:"Composite",id:"composite",bound:{x:400,y:150},in:[{id:"flood"},{id:"morphology"}],operator:"in",connected:[{id:"merge"}]},{type:"SourceGraphic",id:"strokeSourceGraphic",bound:{x:400,y:200},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:500,y:150},in:[{id:"composite"},{id:"strokeSourceGraphic"}]}],grayscale:[{type:"Saturate",values:"0"}],shadow:[{type:"SourceAlpha",id:"shadowSource",bound:{x:100,y:100},connected:[{id:"offset"}]},{type:"Offset",id:"offset",bound:{x:200,y:100},dx:10,dy:10,in:[{id:"shadowSource"}],connected:[{id:"blur"}]},{type:"GaussianBlur",id:"blur",bound:{x:300,y:100},stdDeviationX:5,stdDeviationY:5,in:[{id:"offset"}],connected:[{id:"composite"}]},{type:"Flood",id:"flood",bound:{x:100,y:200},color:"black",opacity:.7,connected:[{id:"composite"}]},{type:"Composite",id:"composite",bound:{x:400,y:150},in:[{id:"flood"},{id:"blur"}],operator:"in",connected:[{id:"merge"}]},{type:"SourceAlpha",id:"shadowSource2",bound:{x:400,y:200},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:500,y:150},in:[{id:"composite"},{id:"shadowSource2"}]}],innerShadow:[{type:"Flood",id:"flood",bound:{x:100,y:200},color:"black",opacity:1,connected:[{id:"composite1"}]},{type:"SourceAlpha",id:"shadowSource",bound:{x:100,y:100},connected:[{id:"composite1"}]},{type:"Composite",id:"composite1",bound:{x:200,y:150},in:[{id:"flood"},{id:"shadowSource"}],operator:"out",connected:[{id:"offset"}]},{type:"Offset",id:"offset",bound:{x:300,y:150},dx:4,dy:4,in:[{id:"composite1"}],connected:[{id:"blur"}]},{type:"GaussianBlur",id:"blur",bound:{x:400,y:150},stdDeviationX:4,stdDeviationY:4,edge:"none",in:[{id:"offset"}],connected:[{id:"composite2"}]},{type:"SourceAlpha",id:"shadowSource2",bound:{x:400,y:250},connected:[{id:"composite2"}]},{type:"Composite",id:"composite2",bound:{x:500,y:150},in:[{id:"blur"},{id:"shadowSource2"}],operator:"out",connected:[{id:"merge"}]},{type:"SourceGraphic",id:"shadowSource3",bound:{x:500,y:250},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:600,y:150},in:[{id:"composite2"},{id:"shadowSource3"}]}]};function iL(t){return(iL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aL(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function cL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sL(t,e){return!e||"object"!==iL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lL(t){return(lL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fL(t,e){return(fL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pL=function(t){function e(){return cL(this,e),sL(this,lL(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fL(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{value:this.props.value}}},{key:"template",value:function(){return"\n            <div class='image-select-editor' ref='$body'></div>\n        "}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.setState({value:t})}},{key:Fr("$body"),value:function(){return"\n            <div class='preview-container'>\n                <img src=\"".concat(this.state.value,"\" />\n                <input type='file' ref='$file' accept=\"image/*\" />\n            </div>\n            <div class='select-container'>\n                <button type=\"button\" ref='$select'>Select a image</button>\n            <div>\n        ")}},{key:yr("$file"),value:function(t){var e=this,n=aL(t.target.files);n.length&&this.emit("updateImageAssetItem",n[0],(function(t){e.trigger("changeImageSelectEditor",t)}))}},{key:rr("$select"),value:function(){this.emit("showImageSelectPopup",{context:this,changeEvent:"changeImageSelectEditor",value:this.state.value})}},{key:ed("changeImageSelectEditor"),value:function(t){this.updateData({value:t}),this.refresh()}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&uL(n.prototype,r),o&&uL(n,o),e}(nd);function yL(t){return(yL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mL(t,e){return!e||"object"!==yL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gL(t,e,n){return(gL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wL(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function wL(t){return(wL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function OL(t,e){return(OL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kL=function(t){function e(){return vL(this,e),mL(this,wL(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OL(t,e)}(e,t),n=e,(r=[{key:"getBlendList",value:function(){var t=this;return B$.split(",").map((function(e){return"".concat(e,":").concat(t.$i18n("blend.".concat(e)))}))}},{key:"initState",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hL(Object(n),!0).forEach((function(e){dL(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},gL(wL(e.prototype),"initState",this).call(this),{options:this.getBlendList()})}}])&&bL(n.prototype,r),o&&bL(n,o),e}(JT);function jL(t){return(jL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SL(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xL(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?PL(Object(n),!0).forEach((function(e){_L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CL(t,e){return!e||"object"!==jL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TL(t){return(TL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function RL(t,e){return(RL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var DL=[{label:"GRAPHIC REFERENCES",items:[{label:"Source Graphic",value:"SourceGraphic"},{label:"Source Alpha",value:"SourceAlpha"},{label:"Background Image",value:"BackgroundImage"},{label:"Background Alpha",value:"BackgroundAlpha"},{label:"Fill Paint",value:"FillPaint"},{label:"Stroke Paint",value:"StrokePaint"}]},{label:"SOURCES",items:[{label:"Flood",value:"Flood"},{label:"Turbulence",value:"Turbulence"},{label:"Image",value:"Image"}]},{label:"MODIFIER",items:[{label:"Color Matrix",value:"ColorMatrix"},{label:"Saturate",value:"Saturate"},{label:"HueRotate",value:"HueRotate"},{label:"LuminanceToAlpha",value:"LuminanceAlpha"},{label:"Drop Shadow",value:"DropShadow"},{label:"Morphology",value:"Morphology"},{label:"Convolve Matrix",value:"ConvolveMatrix"},{label:"Offset",value:"Offset"},{label:"Gaussian Blur",value:"GaussianBlur"},{label:"Tile",value:"Tile"}]},{label:"LIGHTING",items:[{label:"Specular Lighting",value:"SpecularLighting"},{label:"Diffuse Lighting",value:"DiffuseLighting"},{label:"Point Light",value:"PointLight"},{label:"Spot Light",value:"SpotLight"},{label:"Distant Light",value:"DistantLight"}]},{label:"COMBINERS",items:[{label:"Blend",value:"Blend"},{label:"Composite",value:"Composite"},{label:"Merge",value:"Merge"},{label:"DisplacementMap",value:"DisplacementMap"}]}],VL=[{label:"Template",items:[{label:"Grayscale",value:"grayscale"},{label:"Shadow",value:"shadow"},{label:"Inner Shadow",value:"innerShadow"},{label:"Stroke",value:"stroke"},{label:"Dancing Stroke",value:"dancingStroke"}]}];function AL(t){switch(t){case"SpecularLighting":return Ag.specular;case"DiffuseLighting":return Ag.diffuse;case"SourceGraphic":case"SourceAlpha":return Ag.image;case"BackgroundImage":case"BackgroundAlpha":return Ag.outline_image;case"Flood":return Ag.palette;case"Image":return Ag.landscape;case"GaussianBlur":return Ag.blur;case"ColorMatrix":return Ag.blur_linear;case"Turbulence":return Ag.waves;case"Saturate":return Ag.vintage;case"HueRotate":return Ag.looks;case"LuminanceAlpha":return Ag.opacity;case"DropShadow":return Ag.shadow;case"Morphology":return Ag.broken_image;case"ConvolveMatrix":return Ag.camera_roll;case"Offset":return Ag.transform;case"Tile":return Ag.view_comfy;case"Blend":return Ag.gradient;case"Composite":return Ag.merge;case"Merge":return Ag.settings_input_component;case"DisplacementMap":return Ag.texture}return""}function IL(t){switch(t){case"SourceGraphic":case"SourceAlpha":case"BackgroundImage":case"BackgroundAlpha":case"FillPaint":case"StrokePaint":return"graphic";case"Flood":case"Turbulence":case"Image":return"source";case"GaussianBlur":case"ColorMatrix":case"Saturate":case"HueRotate":case"LuminanceAlpha":case"DropShadow":case"Morphology":case"ConvolveMatrix":case"Offset":case"Tile":return"modifier";case"SpecularLighting":case"DiffuseLighting":case"SpotLight":case"PointLight":case"DistantLight":return"lighting";case"Blend":case"Composite":case"Merge":case"DisplacementMap":return"combiner"}return""}var LL=[45],ML=[20],zL={1:[-7],2:[-7],3:[-7],4:[-7],5:[-7]},BL={1:[0],2:[-7,7],3:[-14,0,14],4:[-21,-7,7,21],5:[-28,-14,0,14,28]};Object.keys(BL).forEach((function(t){BL[t]=BL[t].map((function(t){return t+20}))}));var FL=function(t){function e(){return EL(this,e),CL(this,TL(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RL(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{BlendSelectEditor:kL,ColorMatrixEditor:rL,InputArrayEditor:DI,NumberRangeEditor:CV,RangeEditor:aR,ColorViewEditor:$R,SelectEditor:JT,TextEditor:xI,FuncFilterEditor:WI,ImageSelectEditor:pL}}},{key:"makeFilterSelect",value:function(){var t=this;return("\n  \n    <div class='filter-item-list' ref=\"$filterSelect\">\n  \n      ".concat(we(DL,(function(e){return"\n          <div class='group' label=\"".concat(t.$i18n(e.label),'">\n            ').concat(we(e.items,(function(e){return'\n                <div class=\'item\' draggable="true" value="'.concat(e.value,"\">\n                  <span class='icon'>").concat(AL(e.value),"</span>\n                  ").concat(t.$i18n(e.label),"\n                </div>\n                ")})),"\n          </div>\n        ")})),"\n    </div>\n    "))}},{key:"makeFilterTemplateSelect",value:function(){var t=this;return("\n  \n    <div class='filter-item-list' ref=\"$filterTemplateSelect\">\n  \n      ".concat(we(VL,(function(e){return"\n          <div class='group' label=\"".concat(t.$i18n(e.label),'">\n            ').concat(we(e.items,(function(e){return' <div class=\'item\' draggable="true" value="'.concat(e.value,'">').concat(t.$i18n(e.label),"</div>")})),"\n          </div>\n        ")})),"\n    </div>\n    "))}},{key:"initState",value:function(){return{filters:this.parseFilter(this.props.value||[]),selectedTabIndex:1,selectedIndex:-1,selectedFilter:null}}},{key:"template",value:function(){return'\n      <div class=\'svg-filter-editor filter-list\'>\n        <div class=\'left\'>\n          <div class="tab number-tab" ref="$tab">\n            <div class="tab-header full" ref="$header">\n              <div class="tab-item selected" data-value="1" title=\'Item\'>\n                <label class=\'icon\'>'.concat(this.$i18n("svg.filter.editor.tab.filter"),'</label>\n              </div>\n              <div class="tab-item" data-value="2" title="Preset">\n                <label class=\'icon\'>').concat(this.$i18n("svg.filter.editor.tab.preset"),'</label>\n              </div>\n              <div class="tab-item" data-value="3" title="Asset">\n                <label class=\'icon\'>').concat(this.$i18n("svg.filter.editor.tab.asset"),'</label>\n              </div>\n            </div>\n            <div class="tab-body">\n              <div class="tab-content selected" data-value="1">\n                ').concat(this.makeFilterSelect(),'\n              </div>\n              <div class="tab-content" data-value="2">\n                ').concat(this.makeFilterTemplateSelect(),"\n              </div>\n                     \n            </div>\n          </div>\n        </div>\n        <div  class='center'>\n          <div class='graph'>\n            <div class='drag-line-panel' ref='$dragLinePanel'></div>          \n            <div class='connected-line-panel' ref='$connectedLinePanel'></div>\n            <div class='graph-panel' ref='$graphPanel' droppable=\"true\"></div>\n          </div>\n        </div>\n        <div class='right'>\n          <div class='filter-list' ref='$filterList'></div>\n        </div>\n      </div>")}},{key:rr("$header .tab-item:not(.empty-item)"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedTabIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedTabIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedTabIndex:e},!1))}},{key:ur("$filterSelect .item"),value:function(t){var e=t.$dt.attr("value");t.dataTransfer.setData("filter/type",e)}},{key:lr("$connectedLinePanel")+zr,value:function(){}},{key:sr("$connectedLinePanel")+zr,value:function(t){var e={x:t.offsetX,y:t.offsetY},n=t.dataTransfer.getData("filter/type");this.makeFilterNode(n,{bound:e})}},{key:"makeFilterNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.filters.push(this.makeFilter(t,e)),this.state.selectedIndex=this.state.filters.length-1,this.state.selectedFilter=this.state.filters[this.state.selectedIndex],this.refresh(),this.modifyFilter()}},{key:"applyTemplate",value:function(t){var e=oL[t];e&&(this.setState({selectedIndex:-1,selectedFilter:null,filters:this.parseFilter(e)},!1),this.refresh(),this.modifyFilter())}},{key:"getSpec",value:function(t){return hE[t]}},{key:"makeFilterEditorTemplate",value:function(t,e,n){var r="".concat(e.type).concat(n).concat(this.state.selectedIndex).concat(Date.now());if("color-matrix"===t.inputType)return"\n        <div>\n          <ColorMatrixEditor \n            ref='$colorMatrix".concat(r,"' \n            label=\"").concat(t.title,'"\n            key="').concat(n,"\"       \n            column='").concat(t.column,"' \n            values='").concat(e[n].join(" "),'\' \n            onchange="changeRangeEditor"\n          />\n        </div>\n        ');if("input-array"===t.inputType)return"\n        <div>\n          <InputArrayEditor \n            ref='$inputArray".concat(r,"' \n            label=\"").concat(t.title,'"\n            key="').concat(n,'"       \n            column-label="R,G,B,A,M",\n            row-label="R,G,B,A",\n            column=\'').concat(t.column,"' \n            values='").concat(e[n].join(" "),'\' \n            onchange="changeRangeEditor"\n          />\n        </div>\n        ');if("blend"===t.inputType)return"\n        <div>\n          <BlendSelectEditor \n            ref='$blend".concat(r,"' \n            label=\"").concat(t.title,'"\n            key="').concat(n,"\"\n            value='").concat(e[n].toString(),'\' \n            onchange="changeRangeEditor"             \n          />\n        </div>\n        ');if("select"===t.inputType){var o=t.options;return ae(t.options)&&(o=t.options(this.state.filters)),"\n          <div>\n            <SelectEditor \n              ref='$select".concat(r,"' \n              label=\"").concat(t.title,"\"\n              options='").concat(o,"' \n              key=\"").concat(n,"\"\n              value='").concat(e[n].toString(),'\' \n              onchange="changeRangeEditor"             \n            />\n          </div>\n          ')}return"text"===t.inputType?"\n        <div>\n          <TextEditor \n            ref='$text".concat(r,"' \n            label=\"").concat(t.title,'"\n            key="').concat(n,"\"\n            value='").concat(e[n].toString(),'\' \n            onchange="changeTextEditor"\n          />\n        </div>\n        '):"number-range"===t.inputType?" \n        <div>\n          <NumberRangeEditor \n            ref='$numberrange".concat(r,"' \n            label=\"").concat(t.title,"\" \n            layout='block'             \n            min=\"").concat(t.min,'"\n            max="').concat(t.max,'"\n            step="').concat(t.step,'"\n            key="').concat(n,'" \n            value="').concat(e[n].toString(),'" \n            onchange="changeRangeEditor" \n          />\n        </div>\n      '):"color"===t.inputType?"\n        <div>\n          <ColorViewEditor \n            ref='$colorview".concat(r,"' \n            label=\"").concat(t.title,'" \n            key="').concat(n,'"\n            value="').concat(e[n].toString(),'" \n            onchange="changeSVGFilterColorViewEditor" \n          />\n        </div>\n      '):"FuncFilter"===t.inputType?"\n        <div>\n          <FuncFilterEditor \n            ref='$funcFilter".concat(r,"' \n            label=\"").concat(t.title,'" \n            key="').concat(n,'"\n            value="').concat(e[n].toString(),'" \n            onchange="changeFuncFilterEditor" \n          />\n        </div>\n      '):"ImageSelectEditor"===t.inputType?"\n        <div>\n          <ImageSelectEditor \n            ref='$imageSelect".concat(r,"' \n            label=\"").concat(t.title,'" \n            key="').concat(n,'"\n            value="').concat(e[n].toString(),'" \n            onchange="changeRangeEditor" \n          />\n        </div>\n      '):"\n      <div>\n        <RangeEditor \n          ref='$range".concat(r,"' \n          layout='block' \n          calc='false' \n          label=\"").concat(t.title,'" \n          min="').concat(t.min,'"\n          max="').concat(t.max,'"\n          step="').concat(t.step,'"\n          key="').concat(n,'" \n          value="').concat(e[n].toString(),'" \n          units="').concat(t.units.join(","),'" \n          onchange="changeRangeEditor" \n        />\n      </div>\n    ')}},{key:"makeOneFilterTemplate",value:function(t,e){var n=this;return('\n    <div class="filter-item">\n      <div class="title">\n        <label>'.concat(e.type,'</label>\n        <div class="filter-menu">\n          <button type="button" class="del">').concat(Ag.remove,'</button>\n        </div>\n      </div>\n      <div class="filter-ui">\n        ').concat(Zt(t,(function(t,r){return n.makeFilterEditorTemplate(r,e,t)})),"\n\n      </div>\n    </div>\n  "))}},{key:"makeFilterTemplate",value:function(t){return this.makeOneFilterTemplate(this.getSpec(t.type),t)}},{key:Fr("$filterList"),value:function(){return this.state.selectedFilter&&!1===this.state.selectedFilter.isSource()?this.makeFilterTemplate(this.state.selectedFilter):""}},{key:"modifyFilter",value:function(){var t=this;this.state.filters.forEach((function(e){e.isLight()&&e.connected.length&&e.connected.forEach((function(n){t.state.filters.filter((function(t){return t.id===n.id})).forEach((function(t){t.reset({lightInfo:e.toLightString()})}))}))})),this.parent.trigger(this.props.onchange,this.props.key,this.state.filters)}},{key:"parseFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){return pE.parse(t)}))}},{key:"makeFilter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return pE.parse(xL({},e,{type:t}))}},{key:rr("$filterSelect .item[value]"),value:function(t){var e=t.$dt.attr("value");this.makeFilterNode(e)}},{key:rr("$filterTemplateSelect .item[value]"),value:function(t){var e=t.$dt.attr("value");this.applyTemplate(e)}},{key:rr("$filterList .filter-menu .del"),value:function(t){this.removeFilter(this.state.selectedFilter.id)}},{key:Fr("$graphPanel"),value:function(){return this.makeGraphPanel()}},{key:"selectFilter",value:function(t){this.setState({selectedIndex:t,selectedFilter:this.state.filters[t]},!1),this.load("$filterList")}},{key:kr("$graphPanel .filter-node")+Lr()+Mr(),value:function(t){this.$target=t.$dt,this.$point=null,this.pointType="object",this.pointIndex=0;var e=this.refs.$graphPanel.rect();this.rect=e;var n=+this.$target.attr("data-index");this.selectFilter(n),this.$target.onlyOneClass("selected");var r=Wn.create(t.target);if(r.hasClass("out"))this.$point=r,this.pointType="out",this.pointIndex=0;else if(r.hasClass("in"))this.$point=r,this.pointType="in",this.pointIndex=+r.attr("data-index");else{var o=this.state.selectedFilter;this.startXY=ue(o.bound)}if("in"===this.pointType||"out"===this.pointType){var i=r.rect(),a=i.x-e.x,c=i.y-e.y,u=a+i.width/2,s=c+i.height/2;this.startXY={x:u,y:s}}this.startXY.dx=0,this.startXY.dy=0,this.load("$dragLinePanel")}},{key:Fr("$dragLinePanel"),value:function(){if("in"===this.pointType||"out"===this.pointType){var t=this.startXY,e=t.x,n=t.y,r=t.dx,o=t.dy;return("\n      <svg>\n        <path ".concat(be({class:"drag-line",fill:"transparent","stroke-width":1,d:"M".concat(e,",").concat(n,"L").concat(e+r,",").concat(n+o,"Z")})," />\n      </svg>\n      "))}return""}},{key:"makeConnectedPath",value:function(t){var e=new Bo,n=t[0],r=t[t.length-1];if(!n)return"";if(!r)return"";var o=Math.abs(n.x-r.x)/2;return e.M(n).C({x:n.x+o,y:n.y},{x:r.x-o,y:r.y},r),e.d}},{key:"createPath",value:function(t,e){if(e.path)return e.path;var n=t.bound.x+LL[0],r=t.bound.y+ML[0],o=this.state.filters.map((function(t,e){return{it:t,index:e}})).find((function(t){return!!t&&!!t.it&&t&&t.it.id===e.id})),i="".concat(o.it.getInCount()),a=o.it.in.map((function(t,e){return{it:t,index:e}})).find((function(e){return!!e&&!!e.it&&e.it.id===t.id}));if(!a)return[];var c=a.index;return[{x:n,y:r},{x:o.it.bound.x+zL[i][0],y:o.it.bound.y+BL[i][c]}]}},{key:Fr("$connectedLinePanel"),value:function(){var t=this;return("\n      <svg>\n        ".concat(this.state.filters.map((function(e){return e.connected.map((function(n){var r=t.createPath(e,n),o=IL(e.type);return"\n              <path ".concat(be({class:"connected-line","data-source-type":o,d:t.makeConnectedPath(r)})," />\n\n              ").concat(r.length&&"\n                <circle ".concat(be({"data-source-type":o,"data-target-id":n.id,"data-source-id":e.id,class:"connected-remove-circle",cx:(r[0].x+r[1].x)/2,cy:(r[0].y+r[1].y)/2})," />\n              "),"\n              \n            ")})).join("")})).join(""),"\n      </svg>\n    "))}},{key:rr("$connectedLinePanel .connected-remove-circle"),value:function(t){var e=SL(t.$dt.attrs("data-target-id","data-source-id"),2),n=e[0],r=e[1],o=this.state.filters;o.filter((function(t){return t.id===r})).forEach((function(t){t.connected=t.connected.filter((function(t){return t.id!=n}))})),o.filter((function(t){return t.id===n})).forEach((function(t){t.in=t.in.map((function(t){return t&&t.id==r?null:t}))})),this.refresh(),this.modifyFilter()}},{key:"getCenterXY",value:function(t){var e=t.rect(),n=e.x-this.rect.x,r=e.y-this.rect.y;return{x:n+e.width/2,y:r+e.height/2}}},{key:"end",value:function(t,e){if("in"===this.pointType||"out"===this.pointType){this.startXY.dx=t,this.startXY.dy=e;var n=this.state.selectedFilter,r=this.$config.get("bodyEvent"),o=Wn.create(r.target),i=o.closest("filter-node");if("out"===this.pointType){if(o.hasClass("in")&&(c=this.state.filters[+i.attr("data-index")]))if(!c.hasLight()&&n.isLight());else{var a=+o.attr("data-index");c.in[a]||(c.setIn(a,n),n.setConnected(c))}}else if("in"===this.pointType){var c;o.hasClass("out")&&(c=this.state.filters[+i.attr("data-index")])&&(n.hasLight()&&!c.isLight()||n.in[this.pointIndex]||(n.setIn(this.pointIndex,c),c.setConnected(n)))}this.pointType=""}this.load("$dragLinePanel"),this.load("$connectedLinePanel"),this.modifyFilter()}},{key:"move",value:function(t,e){var n=this.state.selectedFilter;n&&(this.startXY.dx=t,this.startXY.dy=e,"in"===this.pointType?this.load("$dragLinePanel"):"out"===this.pointType?this.load("$dragLinePanel"):(n.reset({bound:{x:this.startXY.x+t,y:this.startXY.y+e}}),this.$target.css({left:_.px(n.bound.x),top:_.px(n.bound.y)}),this.load("$connectedLinePanel")))}},{key:"makeGraphPanel",value:function(){var t=this;return this.state.filters.map((function(e,n){return"\n        <div class='filter-node ".concat(me({selected:n===t.state.selectedIndex}),"' data-type=\"").concat(e.type,'" data-index="').concat(n,'" data-filter-id="').concat(e.id,"\" style='left: ").concat(e.bound.x,"px;top: ").concat(e.bound.y,"px;'>\n          <div class='label'>").concat(t.$i18n(e.type),"</div>\n          <div class='remove'>").concat(Ag.close,"</div>\n          <div class='preview' data-source-type=\"").concat(IL(e.type),"\" data-filter-type='").concat(e.type,"'>").concat(AL(e.type),"</div>\n          <div class='in-list'>\n            ").concat(fe(e.getInCount()).map((function(t,e){return"<div class='in' data-index='".concat(e,"'></div>")})).join(""),"\n          </div>\n          \n          <div class='out' data-index=\"0\">").concat(Ag.chevron_right,"</div>\n          ").concat(e.hasLight()?"<div class='light'  data-index=\"0\"></div>":"","\n        </div>\n      ")}))}},{key:ed("changeSVGFilterColorViewEditor"),value:function(t,e,n){this.trigger("changeRangeEditor",t,e,n)}},{key:ed("changeFuncFilterEditor"),value:function(t,e){var n=this.state.selectedFilter;n&&n.reset(_L({},t,e)),this.modifyFilter()}},{key:ed("changeRangeEditor"),value:function(t,e){var n=this.state.selectedFilter;n&&n.reset(_L({},t,e)),this.modifyFilter()}},{key:ed("changeTextEditor"),value:function(t,e){var n=this.state.selectedFilter;n&&n.reset(_L({},t,e)),this.modifyFilter()}},{key:"removeFilter",value:function(t){var e=this.state.filters.filter((function(e){return e.id!=t}));e.forEach((function(e){e.connected=e.connected.filter((function(e){return e.id!=t})),e.in=e.in.filter((function(e){return e.id!=t}))})),this.state.selectedFilter.id===t&&(this.state.selectedFilter=null,this.state.selectedIndex=-1),this.setState({filters:e}),this.modifyFilter()}},{key:rr("$graphPanel .filter-node .remove"),value:function(t){var e=+t.$dt.closest("filter-node").attr("data-index"),n=this.state.filters[e];this.removeFilter(n.id)}}])&&$L(n.prototype,r),o&&$L(n,o),e}(nd);function HL(t){return(HL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function GL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XL(t,e){return!e||"object"!==HL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function NL(t){return(NL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function KL(t,e){return(KL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var WL=function(t){function e(){return GL(this,e),XL(this,NL(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KL(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{value:this.props.value}}},{key:"template",value:function(){return"<div class='select-editor list-view-editor' ref='$body'></div>"}},{key:Xr("$body"),value:function(){return{"data-column":this.props.column||1}}},{key:Fr("$body"),value:function(){var t=this;return Object.keys(Ag).map((function(e){var n=Ag[e],r=e===t.state.value?"selected":"";return"<div class='list-view-item ".concat(r,"'  data-key='").concat(e,"'>").concat(n,"</div>")}))}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.state.value=t,this.refresh()}},{key:rr("$body .list-view-item"),value:function(t){var e=t.$dt.attr("data-key");t.$dt.onlyOneClass("selected"),this.updateData({value:e})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&YL(n.prototype,r),o&&YL(n,o),e}(nd);function UL(t){return(UL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JL(t,e){return!e||"object"!==UL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function QL(t){return(QL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tM(t,e){return(tM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var eM=function(t){function e(){return ZL(this,e),JL(this,QL(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tM(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{IconListViewEditor:WL}}},{key:"initState",value:function(){return{fit:!!this.props.value.fit,icon:this.props.value.icon||""}}},{key:"template",value:function(){var t=this.state.fit?'checked="checked"':"";return"\n      <div class='svg-clip-path-editor clippath-list'>\n          <div class='label' >\n              <label>".concat(this.props.title||"","</label>\n              <div class='tools'>\n              </div>\n          </div>\n          <div>\n            <label>Fit to size <input type='checkbox' ref='$fit' ").concat(t,"  /> </label>\n          </div>\n          <div>\n            <IconListViewEditor ref='$svg' key='svg' value=\"").concat(this.state.icon,'" column="6" onchange=\'changeClipPath\' />\n          </div>\n      </div>')}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyClipPath()}},{key:rr("$fit"),value:function(){this.updateData({fit:this.refs.$fit.checked()})}},{key:ed("changeClipPath"),value:function(t,e){this.updateData({icon:e})}},{key:"modifyClipPath",value:function(){var t=this.state,e=t.icon,n=t.fit;this.parent.trigger(this.props.onchange,this.props.key,{icon:e,fit:n})}}])&&qL(n.prototype,r),o&&qL(n,o),e}(nd);function nM(t){return(nM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function oM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aM(t,e){return!e||"object"!==nM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cM(t){return(cM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uM(t,e){return(uM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sM=[{key:"top",title:"Top"},{key:"right",title:"Right"},{key:"bottom",title:"Bottom"},{key:"left",title:"Left"}],lM=function(t){function e(){return oM(this,e),aM(this,cM(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uM(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:aR}}},{key:"initState",value:function(){var t=rM(su.parse(this.props.value),5),e=t[0],n=t[1],r=t[2],o=t[3],i=t[4];return{isAll:1===e,all:n.clone(),top:n.clone(),right:r.clone(),bottom:o.clone(),left:i.clone()}}},{key:"template",value:function(){return"<div class='direction-editor' ref='$body'></div>"}},{key:ed("changeBorderRadius"),value:function(t,e){var n=this;"all"===t&&sM.forEach((function(t){n.state[t.key]=e.clone(),n.children["$".concat(t.key)].setValue(e.clone())})),this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:Fr("$body"),value:function(){var t=this,e=this.state.isAll?"all":"partitial",n=this.state.all,r="all"===e?"display:none":"display:block";return'\n      <div class="property-item direction-item">\n        <div class="radius-selector" data-selected-value="'.concat(e,'" ref="$selector">\n          <button type="button" data-value="all">').concat(Ag.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(Ag.border_inner,"\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='all' value=\"").concat(n,'" onchange=\'changeBorderRadius\' />\n        </div>\n      </div>\n      <div\n        class="property-item full direction-item"\n        ref="$partitialSetting"\n        style="').concat(r,'"\n      >\n        <div class="radius-setting-box">\n          ').concat(sM.map((function(e){var n=t.state[e.key];return("\n              <div>\n                  <RangeEditor ref='$".concat(e.key,"' label='").concat(e.title,"' key='").concat(e.key,"' value=\"").concat(n,"\" onchange='changeBorderRadius' />\n              </div>  \n            "))})).join(""),"\n        </div>\n      </div>\n    ")}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1);var e=[];e=this.state.isAll?[1,this.state.all,this.state.all,this.state.all,this.state.all]:[4,this.state.top,this.state.right,this.state.bottom,this.state.left],this.parent.trigger(this.props.onchange,e)}},{key:rr("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.updateData({isAll:"all"===e})}}])&&iM(n.prototype,r),o&&iM(n,o),e}(nd);function fM(t){return(fM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hM(t,e){return!e||"object"!==fM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dM(t){return(dM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vM(t,e){return(vM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bM=function(t){function e(){return pM(this,e),hM(this,dM(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vM(t,e)}(e,t),n=e,(r=[{key:"afterRender",value:function(){var t=this;this.colorPicker=Hm.create({$editor:this.$editor,type:"sketch",position:"inline",container:this.refs.$color.el,color:this.props.value||"rgba(0, 0, 0, 1)",onChange:function(e){t.changeColor(e)},onLastUpdate:function(e){t.changeEndColor(e)}})}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)"}}},{key:"template",value:function(){return'\n      <div ref="$color"></div>\n    '}},{key:"changeColor",value:function(t){this.parent.trigger(this.props.onchange,t)}},{key:"changeEndColor",value:function(t){this.parent.trigger(this.props.onchangeend,t)}},{key:"setValue",value:function(t){this.colorPicker.initColorWithoutChangeEvent(t)}},{key:"refresh",value:function(){this.colorPicker.initColorWithoutChangeEvent(this.state.color)}}])&&yM(n.prototype,r),o&&yM(n,o),e}(nd);function mM(t){return(mM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function wM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kM(t,e){return!e||"object"!==mM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jM(t){return(jM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function SM(t,e){return(SM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var PM=function(t){function e(){return wM(this,e),kM(this,jM(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SM(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props["key-value-char"]||":",e=this.props.split||",",n=(this.props.options||"").split(e).map((function(t){return t.trim()})),r=(this.props.icons||"").split(e).map((function(t){return t.trim()})),o=(this.props.colors||"").split(e).map((function(t){return t.trim()})),i=this.props.value||"";return{keyValueChar:t,label:this.props.label||"",options:n,icons:r,colors:o,value:i}}},{key:"template",value:function(){var t=this.state.label;return"\n            <div class='select-icon-editor ".concat(t?"has-label":"","'>\n                ").concat(t?'<label title="'.concat(t,'">').concat(t,"</label>"):"","\n                <div class='items' ref='$options'></div>\n            </div>\n        ")}},{key:rr("$close"),value:function(){this.updateData({value:""}),this.refresh()}},{key:"getValue",value:function(){return this.state.value||""}},{key:"setValue",value:function(t){this.setState({value:t})}},{key:Fr("$options")+Vr,value:function(){var t=this;return this.state.options.map((function(e,n){var r=e,o=e,i="";if((c=e).includes(t.state.keyValueChar)){var a=gM(c.split(t.state.keyValueChar),2),c=a[0];r=a[1]}var u=c===t.state.value,s=u?"selected":"";if(""===e)r=Ag.close,o="close";else{var l=t.state.icons[n];Ag[l]&&(i="icon"),o=r,r=Ag[l]||r||l||e}var f=t.state.colors[n],p={};return u&&f&&(p["background-color"]=f),"<div class='select-icon-item ".concat(s," ").concat(i,"' style='").concat(de(p),"' data-value=\"").concat(c,"\" title='").concat(o,"'>").concat(r,"</div>")}))}},{key:rr("$options .select-icon-item"),value:function(t){var e=t.$dt.attr("data-value");this.updateData({value:e}),this.refresh()}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}])&&OM(n.prototype,r),o&&OM(n,o),e}(nd);function xM(t){return(xM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function EM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_M(Object(n),!0).forEach((function(e){$M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RM(t,e){return!e||"object"!==xM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DM(t){return(DM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function VM(t,e){return(VM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var AM=function(t){function e(){return CM(this,e),RM(this,DM(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VM(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{index:this.props.index,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,repeat:this.props.repeat,size:this.props.size,blendMode:this.props.blendMode,color:"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyValue(t)}},{key:"modifyValue",value:function(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.state.index)}},{key:"setValue",value:function(t){this.setState(EM({},t))}},{key:Xr("$miniView"),value:function(){return{style:{"background-image":"linear-gradient(to top right, black, white)","background-repeat":this.state.repeat,"background-size":"7px 7px"}}}},{key:"template",value:function(){return"\n            <div class='background-position-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ".concat(this.state.color,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:rr("$preview"),value:function(t){this.viewBackgroundPositionPopup()}},{key:"viewBackgroundPositionPopup",value:function(){this.emit("showBackgroundImagePositionPopup",{changeEvent:"changeBackgroundPositionPattern",data:this.state},{id:this.id})}},{key:ed("changeBackgroundPositionPattern"),value:function(t,e){e.id===this.id&&this.updateData(EM({},t))}}])&&TM(n.prototype,r),o&&TM(n,o),e}(nd);function IM(t){return(IM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function MM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FM(t,e){return!e||"object"!==IM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function HM(t){return(HM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function GM(t,e){return(GM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var YM=function(t){function e(){return zM(this,e),FM(this,HM(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GM(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{index:this.props.index,image:this.props.image,color:"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyValue(t)}},{key:"modifyValue",value:function(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.state.index)}},{key:"setValue",value:function(t){this.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?LM(Object(n),!0).forEach((function(e){MM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t))}},{key:Xr("$miniView"),value:function(){return{style:{"background-image":this.state.image,"background-size":"cover",color:this.props.color}}}},{key:"template",value:function(){return"\n            <div class='gradient-single-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ".concat(this.state.color,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:rr("$preview"),value:function(t){this.viewGradientPopup()}},{key:"viewGradientPopup",value:function(){this.emit("showGradientPickerPopup",{instance:this,changeEvent:"changeGradientSingle",gradient:this.state.image})}},{key:ed("changeGradientSingle"),value:function(t,e){this.updateData({image:t}),this.refresh()}}])&&BM(n.prototype,r),o&&BM(n,o),e}(nd);function XM(t){return(XM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WM(t,e){return!e||"object"!==XM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function UM(t){return(UM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ZM(t,e){return(ZM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qM=function(t){function e(){return NM(this,e),WM(this,UM(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZM(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{index:this.props.index,label:this.props.label,simple:"true"===this.props.simple,image:Tf.parseImage(this.props.image||"transparent")}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyValue(t)}},{key:"modifyValue",value:function(t){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.state.index)}},{key:"getValue",value:function(){return this.state.image.toString()}},{key:"setValue",value:function(t){this.setState({image:Tf.parseImage(t)})}},{key:Xr("$fillView"),value:function(){var t=this.state.image;return t?{innerHTML:t.toSVGString(this.fillId)}:{innerHTML:""}}},{key:Xr("$fillColor"),value:function(){var t=this.state.image;return t?{fill:t.toFillValue(this.fillId)}:{fill:"transparent"}}},{key:Xr("$colors"),value:function(){var t=this.state.image;if(!t)return{fill:"transparent"};var e="url"!=t.type?"".concat(t.colorsteps[0].color):"transparent";return(t.type.includes("linear")||t.type.includes("radial"))&&(e=t.colorsteps.map((function(t){return"<span class='color' style='background-color: ".concat(t.color,"' title='").concat(t.color,"'></span>")})).join("")),{innerHTML:"<div> ".concat(e," </div>")}}},{key:"template",value:function(){var t=this.state,e=t.label,n=(t.removable,t.simple);return"\n            <div class='fill-single-editor ".concat(e?"has-label":"","'>\n                ").concat(e?"<label>".concat(e,"</label>"):"","            \n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n\n                        <svg class='color-view' ref='$miniView'>\n                            <defs ref='$fillView'></defs>\n                            <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" ref='$fillColor' fill='url(#").concat(this.fillId,")' />\n                        </svg>\n                    </div>\n                </div>\n                <div class='colors ").concat(n?"simple":"","' ref='$colors'></div>\n            </div>\n        ")}},{key:rr("$preview"),value:function(t){this.viewGradientPopup()}},{key:"viewGradientPopup",value:function(){this.emit("showFillPickerPopup",{instance:this,changeEvent:"changeFillSingle",image:this.state.image})}},{key:ed("changeFillSingle"),value:function(t,e){this.updateData({image:Tf.parseImage(t)}),this.refresh()}},{key:"fillId",get:function(){return this.id+"fill"}}])&&KM(n.prototype,r),o&&KM(n,o),e}(nd);function JM(t){return(JM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ez(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function nz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oz(t,e){return!e||"object"!==JM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iz(t){return(iz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function az(t,e){return(az=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cz=["static-gradient","linear-gradient","radial-gradient","image-resource"],uz={"image-resource":Ag.photo},sz={top:{x1:"0%",y1:"100%",x2:"0%",y2:"0%"},"top left":{x1:"100%",y1:"100%",x2:"0%",y2:"0%"},"top right":{x1:"0%",y1:"100%",x2:"100%",y2:"0%"},left:{x1:"100%",y1:"0%",x2:"0%",y2:"0%"},right:{x1:"0%",y1:"0%",x2:"100%",y2:"0%"},bottom:{x1:"0%",y1:"0%",x2:"0%",y2:"100%"},"bottom left":{x1:"100%",y1:"0%",x2:"0%",y2:"100%"},"bottom right":{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}},lz=["x1","y1","x2","y2","cx","cy","r","fx","fy","fr","spreadMethod","patternUnits","patternWidth","patternHeight","imageX","imageY","imageWidth","imageHeight"],fz=["x1","y1","x2","y2","cx","cy","r","fx","fy","fr","patternWidth","patternHeight","imageX","imageY","imageWidth","imageHeight"],pz=function(t){function e(){return nz(this,e),oz(this,iz(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&az(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{InputRangeEditor:rD,RangeEditor:aR,SelectIconEditor:PM,SelectEditor:JT}}},{key:"initState",value:function(){return{cachedRect:null,index:+(this.props.index||0),value:this.props.value,image:Tf.parseImage(this.props.value||"transparent")||cf.create()}}},{key:"setValue",value:function(t){this.setState({cachedRect:null,image:Tf.parseImage(t)},!1),this.refresh(),this.parent.trigger("changeTabType",this.state.image.type)}},{key:"template",value:function(){var t=this,e=this.state.image,n=(e=e||{}).type||"static-gradient";return"url"===n&&(n="image-resource"),"\n        <div class='fill-editor' data-selected-editor='".concat(n,"'>\n            <div class='gradient-preview'>\n              <div class='gradient-view' ref='$gradientView'>\n                <div class='drag-pointer' ref='$dragPosition'></div>\n              </div>\n              <svg class='pointer-draw' ref='$pointerDrawArea'>\n                <line data-type='line' ref='$line' />\n                <circle r='5' data-type='start' ref='$startPoint' />\n                <circle r='5' data-type='end' ref='$endPoint' />\n                <circle r='5' data-type='center' ref='$centerPoint' />\n                <circle r='5' data-type='f' ref='$fPoint' />\n              </svg>              \n              <div class='preset-position'>\n                <div data-value='top' title='top'>").concat(Ag.chevron_right,"</div>\n                <div data-value='right' title='right'>").concat(Ag.chevron_right,"</div>\n                <div data-value='left' title='left'>").concat(Ag.chevron_right,"</div>\n                <div data-value='bottom' title='bottom'>").concat(Ag.chevron_right,"</div>\n                <div data-value='top left' title='top left'>").concat(Ag.chevron_right,"</div>\n                <div data-value='top right' title='top right'>").concat(Ag.chevron_right,"</div>\n                <div data-value='bottom left' title='bottom left'>").concat(Ag.chevron_right,"</div>\n                <div data-value='bottom right' title='bottom right'>").concat(Ag.chevron_right,'</div>                \n              </div>\n              <div data-editor=\'image-loader\'>\n                <input type=\'file\' accept="image/*" ref=\'$file\' />\n              </div>              \n            </div>\n            <div class="picker-tab">\n              <div class="picker-tab-list" ref="$tab">\n                ').concat(cz.map((function(t){return"<span class='picker-tab-item ".concat(t,"' data-editor='").concat(t,"'><span class='icon'>").concat(uz[t]||"","</span></span>")})).join(""),"\n              </div>\n            </div>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <RangeEditor label='").concat(this.$i18n("fill.editor.offset"),"' ref='$range' key='length' onchange='changeColorStepOffset' />\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n                <div data-editor='spreadMethod'>\n                  <SelectIconEditor label='").concat(this.$i18n("fill.editor.spread"),"' ref='$spreadMethod' value=\"pad\" options='pad,reflect,repeat' key='spreadMethod' onchange='changeKeyValue' />\n                </div>  \n                <div data-editor='patternUnits'>\n                  <SelectEditor label='Pattern' ref='$patternUnits' options='userSpaceOnUse' key='patternUnits' onchange='changeKeyValue' />\n                </div>                  \n                ").concat(fz.map((function(n){var r=t.$i18n("fill.editor."+n);return("\n                    <div data-editor='".concat(n,"'>\n                      <RangeEditor label='").concat(r,"' ref='$").concat(n,"' value=\"").concat(t.getImageFieldValue(e,n),"\" key='").concat(n,"' onchange='changeKeyValue' />\n                    </div>\n                  "))})).join(""),"\n                                                                                                                                \n            </div>            \n        </div>\n      ")}},{key:"getImageFieldValue",value:function(t,e){var n=t[e];if(Qt(n))switch(e){case"cx":case"cy":case"r":case"fx":case"fy":return"50%";case"x1":case"y1":case"y2":case"fr":case"imageX":case"imageY":return"0%";case"x2":case"patternWidth":case"patternHeight":case"imageWidth":case"imageHeight":return"100%"}return n}},{key:yr("$file"),value:function(t){var e=this;this.$selection.currentProject&&ez(t.target.files).forEach((function(t){e.emit("updateImageAssetItem",t,(function(t){e.trigger("setImageUrl",t)}))}))}},{key:rr("$el .preset-position [data-value]"),value:function(t){var e=t.$dt.attr("data-value");sz[e]&&(this.state.image.reset(sz[e]),this.refresh(),this.refreshFieldValue(),this.updateData())}},{key:"refreshFieldValue",value:function(){this.children.$x1.setValue(this.state.image.x1),this.children.$y1.setValue(this.state.image.y1),this.children.$x2.setValue(this.state.image.x2),this.children.$y2.setValue(this.state.image.y2),this.children.$cx.setValue(this.state.image.cx),this.children.$cy.setValue(this.state.image.cy),this.children.$r.setValue(this.state.image.r),this.children.$fx.setValue(this.state.image.fx),this.children.$fy.setValue(this.state.image.fy),this.children.$fr.setValue(this.state.image.fr),this.children.$spreadMethod.setValue(this.state.image.spreadMethod),this.children.$patternUnits.setValue(this.state.image.patternUnits),this.children.$patternWidth.setValue(this.state.image.patternWidth),this.children.$patternHeight.setValue(this.state.image.patternHeight),this.children.$imageX.setValue(this.state.image.imageX),this.children.$imageY.setValue(this.state.image.imageY),this.children.$imageWidth.setValue(this.state.image.imageWidth),this.children.$imagenHeight.setValue(this.state.image.imageHeight)}},{key:"getDrawAreaRect",value:function(){return{width:198,height:150}}},{key:"getFieldValue",value:function(t){return _.parse(this.getImageFieldValue(this.state.image,t))}},{key:Xr("$line"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{x1:this.getFieldValue("x1").toPx(e),y1:this.getFieldValue("y1").toPx(n),x2:this.getFieldValue("x2").toPx(e),y2:this.getFieldValue("y2").toPx(n)}}},{key:Xr("$startPoint"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{cx:this.getFieldValue("x1").toPx(e),cy:this.getFieldValue("y1").toPx(n)}}},{key:Xr("$endPoint"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{cx:this.getFieldValue("x2").toPx(e),cy:this.getFieldValue("y2").toPx(n)}}},{key:Xr("$centerPoint"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{cx:this.getFieldValue("cx").toPx(e),cy:this.getFieldValue("cy").toPx(n)}}},{key:Xr("$fPoint"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{cx:this.getFieldValue("fx").toPx(e),cy:this.getFieldValue("fy").toPx(n)}}},{key:kr("$pointerDrawArea circle[data-type]")+Lr("moveDragPointer"),value:function(t){this.containerRect=this.refs.$pointerDrawArea.rect(),this.startXY=t.xy,this.type=t.$dt.attr("data-type"),this.state.cachedRect=null}},{key:"getRectRate",value:function(t,e,n){var r=t.width,o=t.height,i=t.x,a=t.y;return i>e?e=i:i+r<e&&(e=i+r),a>n?n=a:a+o<n&&(n=a+o),{left:_.percent((e-i)/r*100),top:_.percent((n-a)/o*100)}}},{key:"moveDragPointer",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e,o=this.getRectRate(this.containerRect,n,r),i=o.left,a=o.top;"start"==this.type?(this.state.image.reset({x1:i,y1:a}),this.children.$x1.setValue(i),this.children.$y1.setValue(a),this.bindData("$startPoint"),this.bindData("$line")):"end"==this.type?(this.state.image.reset({x2:i,y2:a}),this.children.$x2.setValue(i),this.children.$y2.setValue(a),this.bindData("$endPoint"),this.bindData("$line")):"center"==this.type?(this.state.image.reset({cx:i,cy:a}),this.children.$cx.setValue(i),this.children.$cy.setValue(a),this.bindData("$centerPoint")):"f"==this.type&&(this.state.image.reset({fx:i,fy:a}),this.children.$fx.setValue(i),this.children.$fy.setValue(a),this.bindData("$fPoint")),this.bindData("$gradientView"),this.updateData()}},{key:rr("$tab .picker-tab-item"),value:function(t){var e=this,n=t.$dt.attr("data-editor");this.$el.attr("data-selected-editor",n),this.parent.trigger("changeTabType",n);var r="image-resource"===n?this.state.image.url:this.state.url,o={};lz.forEach((function(t){o[t]=e.children["$".concat(t)].getValue()})),this.state.image=Tf.changeImageType(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?QM(Object(n),!0).forEach((function(e){tz(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:n,url:r,colorsteps:this.state.image.colorsteps||[]},o)),this.refresh(),this.updateData(),this.sendMessage()}},{key:"sendMessage",value:function(t){"linear-gradient"===(t=this.$el.attr("data-selected-editor"))?this.emit("addStatusBarMessage",""):"url"===t||"image-resource"===t?this.emit("addStatusBarMessage",this.$i18n("fill.editor.message.click.image")):this.emit("addStatusBarMessage",this.$i18n("fill.editor.message.drag.position"))}},{key:ed("changeKeyValue"),value:function(t,e){this.state.image.reset(tz({},t,e)),this.bindData("$gradientView"),this.bindData("$line"),this.bindData("$startPoint"),this.bindData("$endPoint"),this.bindData("$centerPoint"),this.bindData("$fPoint"),this.updateData()}},{key:ed("changeColorStepOffset"),value:function(t,e){this.currentStep&&(this.currentStep.percent=e.value,this.state.image.sortColorStep(),this.refresh(),this.updateData())}},{key:rr("$back"),value:function(t){var e=this.refs.$stepList.rect(),n=e.x,r=e.right,o=t.xy.x;o<n?o=n:o>r&&(o=r);var i=(o-n)/e.width*100;this.state.image.insertColorStep(i),this.state.image.sortColorStep(),this.refresh(),this.updateData()}},{key:Xr("$el"),value:function(){var t=this.state.image.type;return"url"===t&&(t="image-resource"),this.parent.trigger("changeTabType",t),{"data-selected-editor":t}}},{key:Xr("$stepList"),value:function(){return{"data-selected-index":this.state.index.toString(),style:{"background-image":this.getLinearGradient()}}}},{key:Xr("$gradientView"),value:function(){return{innerHTML:'\n        <svg x="0" y="0" width="100%" height="100%">\n          <defs>\n            '.concat(this.state.image.toSVGString(this.fillId),'\n          </defs>\n          <rect x="0" y="0" width="100%" height="100%" fill="').concat(this.state.image.toFillValue(this.fillId),'" />\n        </svg>\n      ')}}},{key:Fr("$stepList"),value:function(){var t=this;return(this.state.image.colorsteps||[]).map((function(e,n){var r=t.$selection.isSelectedColorStep(e.id)?"selected":"";return("\n      <div class='step ".concat(r,"' data-id='").concat(e.id,"' style='left: ").concat(e.percent,"%;'>\n        <div class='color-view' style=\"background-color: ").concat(e.color,"\"></div>\n        <div class='arrow' style=\"background-color: ").concat(e.color,'"></div>\n      </div>'))}))}},{key:"removeStep",value:function(t){this.state.image.removeColorStep(t),this.refresh(),this.updateData()}},{key:"selectStep",value:function(t){var e=this;this.state.id=t,this.$selection.selectColorStep(t),this.state.image.colorsteps&&(this.currentStep=this.state.image.colorsteps.find((function(t){return e.$selection.isSelectedColorStep(t.id)})),this.children.$range.setValue(_.percent(this.currentStep.percent)),this.parent.trigger("selectColorStep",this.currentStep.color)),this.refresh()}},{key:kr("$stepList .step")+Lr(),value:function(t){var e=t.$dt.attr("data-id");if(t.altKey)return this.removeStep(e),!1;this.selectStep(e),this.startXY=t.xy,this.cachedStepListRect=this.refs.$stepList.rect()}},{key:"getStepListRect",value:function(){return this.cachedStepListRect}},{key:"move",value:function(t,e){var n=this.getStepListRect(),r=n.x,o=n.right,i=this.startXY.x+t;i<r?i=r:i>o&&(i=o);var a=(i-r)/n.width*100;this.currentStep.percent=a,this.children.$range.setValue(_.percent(a)),this.state.image.sortColorStep(),this.refresh(),this.updateData()}},{key:"refresh",value:function(){this.load()}},{key:"getLinearGradient",value:function(){var t=this.state.image;return"linear-gradient(to right, ".concat(ua.toColorString(t.colorsteps),")")}},{key:ed("setColorStepColor"),value:function(t){"static-gradient"===this.state.image.type?(this.state.image.setColor(t),this.refresh(),this.updateData()):this.currentStep&&(this.currentStep.color=t,this.refresh(),this.updateData())}},{key:ed("setImageUrl"),value:function(t){this.state.image&&(this.state.url=t,this.state.image.reset({url:t}),this.refresh(),this.updateData())}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.parent.trigger(this.props.onchange,this.state.image.toString())}},{key:"fillId",get:function(){return this.id+"fill"}}])&&rz(n.prototype,r),o&&rz(n,o),e}(nd);function yz(t){return(yz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hz(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bz(t,e){return!e||"object"!==yz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mz(t){return(mz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gz(t,e){return(gz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wz=function(t){function e(){return dz(this,e),bz(this,mz(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gz(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props.value;return{options:[],label:this.props.label||"",value:t}}},{key:"template",value:function(){var t=this.state.label;return"\n            <div class='svg-filter-select-editor ".concat(t?"has-label":"","'>\n                ").concat(t?"<label>".concat(t,"</label>"):"","\n                <select ref='$options'></select>\n                <button type='button' class='open thin' ref='$open' title='Open SVG Filter Editor'>").concat(Ag.fullscreen,"</button>\n                <button type='button' class='remove thin' ref='$remove' title='Remove'>").concat(Ag.remove,"</button>\n            </div>\n        ")}},{key:rr("$remove"),value:function(t){this.updateData({value:""})}},{key:rr("$open"),value:function(t){var e=this.state.value;if(e.includes("id")){var n=this.$selection.currentProject.getSVGFilterIndex(e);n>-1&&this.trigger("openSVGFilterPopup",n)}}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.setState({value:t})}},{key:"refresh",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.load()}},{key:Xr("$options"),value:function(){return{"data-count":this.state.options.length.toString()}}},{key:Fr("$options"),value:function(){var t=this,e=this.$selection.currentProject,n="";return e&&(n=(n=e.svgfilters.map((function(t){return t.id}))).length?","+n.join(","):""),(n=(n+=",-,new").split(",")).map((function(e){var n=e;if((o=e).includes(":")){var r=hz(o.split(":"),2),o=r[0];n=r[1]}""===n?n=t.props["none-value"]?t.props["none-value"]:"":"-"===n&&(n="----------",o="");var i=o===t.state.value?"selected":"";return"<option ".concat(i,' value="').concat(o,'">').concat(n,"</option>")}))}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({options:t.split(this.state.splitChar).map((function(t){return t.trim()}))})}},{key:"sendMessage",value:function(t){"new"===t?this.emit("addStatusBarMessage",this.$i18n("svgfilter.select.editor.message.create")):"-"===t?this.emit("addStatusBarMessage",this.$i18n("svgfilter.select.editor.message.select")):this.emit("addStatusBarMessage","")}},{key:yr("$options"),value:function(){var t=this,e=this.refs.$options.value;"new"==e?this.emit("addSVGFilterAssetItem",(function(e,n){t.updateData({value:n}),t.refresh(),t.trigger("openSVGFilterPopup",e)})):"-"===e||this.updateData({value:e})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:ed("refreshSVGArea")+Ar(1e3),value:function(){this.load("$options")}},{key:ed("openSVGFilterPopup"),value:function(t){this.emit("refreshSVGFilterAssets"),this.emit("refreshSVGArea");var e=(this.$selection.currentProject||{svgfilters:[]}).svgfilters[t];this.emit("showSVGFilterPopup",{changeEvent:"changeSVGFilterEditorRealUpdate",preview:!1,index:t,filters:e.filters})}},{key:ed("changeSVGFilterEditorRealUpdate"),value:function(t){var e=this.$selection.currentProject;e&&(e.setSVGFilterValue(t.index,{filters:t.filters}),this.emit("refreshSVGFilterAssets"),this.emit("refreshSVGArea"))}}])&&vz(n.prototype,r),o&&vz(n,o),e}(nd);function Oz(t){return(Oz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sz(t,e){return!e||"object"!==Oz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pz(t){return(Pz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xz(t,e){return(xz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _z=function(t){function e(){return kz(this,e),Sz(this,Pz(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xz(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props.value;return{label:this.props.label||"",height:_.px(100),value:t}}},{key:"template",value:function(){var t=this.state,e=t.label,n=t.height,r=t.value;return"\n            <div class='text-editor ".concat(e?"has-label":"","'>\n                ").concat(e?"<label>".concat(e,"</label>"):"","\n                <textarea ref='$text' style='height:").concat(n,"'>").concat(r,"</textarea>\n            </div>\n        ")}},{key:"getValue",value:function(){return this.refs.$options.value}},{key:"setValue",value:function(t,e){this.setState({value:t},!1),e&&this.setState({height:e},!1),this.refresh()}},{key:Xr("$text"),value:function(){return{text:this.state.value||"",style:{height:this.state.height}}}},{key:hr("$text"),value:function(){this.updateData({value:this.refs.$text.value})}},{key:"updateData",value:function(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&jz(n.prototype,r),o&&jz(n,o),e}(nd);function Ez(t){return(Ez="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cz(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$z(Object(n),!0).forEach((function(e){Tz(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vz(t,e){return!e||"object"!==Ez(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Az(t){return(Az=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Iz(t,e){return(Iz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lz=function(t){function e(){return Rz(this,e),Vz(this,Az(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iz(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectIconEditor:PM}}},{key:"getDirectionOptions",value:function(){return this.makeOptionsFunction("row,column,row-reverse,column-reverse")}},{key:"getWrapOptions",value:function(){return this.makeOptionsFunction("nowrap,wrap,wrap-reverse")}},{key:"getJustifyContentOptions",value:function(){return this.makeOptionsFunction("flex-start,flex-end,center,space-between,space-around")}},{key:"getAlignItemsOptions",value:function(){return this.makeOptionsFunction("flex-start,flex-end,center,baseline,stretch")}},{key:"getAlignContentOptions",value:function(){return this.makeOptionsFunction("flex-start,flex-end,center,space-between,space-around,stretch")}},{key:"makeOptionsFunction",value:function(t){var e=this;return t.split(",").map((function(t){return"".concat(t,":").concat(e.$i18n("flex.layout.editor."+t))})).join(",")}},{key:"initState",value:function(){return Cz({},ve(this.props.value))}},{key:"setValue",value:function(t){this.setState(Cz({},ve(t)))}},{key:"getValue",value:function(){return de(this.state)}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:Fr("$body"),value:function(){return"\n            <div class='flex-layout-item'>\n                <div class='label'><label>".concat(this.$i18n("flex.layout.editor.direction"),"</label></div>\n                <SelectIconEditor \n                    key='flex-direction'\n                    value=\"").concat(this.state["flex-direction"]||"row",'"\n                    options="').concat(this.getDirectionOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.editor.wrap"),"</label></div>\n                <SelectIconEditor \n                    key='flex-wrap'\n                    value=\"").concat(this.state["flex-wrap"]||"wrap",'"\n                    options="').concat(this.getWrapOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.editor.justify-content"),"</label></div>\n                <SelectIconEditor \n                    key='justify-content'\n                    value=\"").concat(this.state["justify-content"]||"flex-start",'"\n                    options="').concat(this.getJustifyContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.editor.align-items"),"</label></div>\n                <SelectIconEditor \n                    key='align-items'\n                    value=\"").concat(this.state["align-items"]||"flex-start",'"\n                    options="').concat(this.getAlignItemsOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.editor.align-content"),"</label></div>\n                <SelectIconEditor \n                    key='align-content'\n                    value=\"").concat(this.state["align-content"]||"flex-start",'"\n                    options="').concat(this.getAlignContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        ")}},{key:"template",value:function(){return"\n            <div class='flex-layout-editor' ref='$body' ></div>\n        "}},{key:ed("changeKeyValue"),value:function(t,e,n){this.setState(Tz({},t,e),!1),this.modifyData()}}])&&Dz(n.prototype,r),o&&Dz(n,o),e}(nd);function Mz(t){return(Mz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zz(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Bz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hz(t,e){return!e||"object"!==Mz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gz(t){return(Gz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yz(t,e){return(Yz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xz=/(auto)|(repeat\([^\)]*\))|(([\d.]+)(px|pt|fr|r?em|deg|vh|vw|%))/gi,Nz=function(t){function e(){return Bz(this,e),Hz(this,Gz(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yz(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:JT,NumberInputEditor:HD,InputRangeEditor:rD}}},{key:"getLayoutItemOptions",value:function(){var t=this;return"none,auto,repeat,length".split(",").map((function(e){return"".concat(e,":").concat(t.$i18n("grid.box.editor.".concat(e)))})).join(",")}},{key:"initState",value:function(){return{label:this.props.label,list:this.parseValue(this.props.value)}}},{key:"setValue",value:function(t){this.setState({list:this.parseValue(t)})}},{key:"parseValue",value:function(t){for(var e=null,n=[];null!==(e=Xz.exec(t));){var r=e[0];if("auto"===r)n.push({type:"auto",count:0,value:"0px"});else if(r.includes("repeat")){var o=r.split("repeat(")[1].split(")");o.pop();var i=zz(o.join("").split(",")),a=i[0],c=i.slice(1);n.push({type:"repeat",count:a,value:c.join(", ")})}else n.push({type:"length",count:1,value:r})}return n}},{key:"getValue",value:function(){return this.state.list.map((function(t){return"repeat"===t.type?"repeat(".concat(t.count,", ").concat(t.value,")"):"auto"===t.type||"none"===t.type?t.type:t.value})).join(" ")}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:"makeItem",value:function(t,e){return"\n            <div class='item' data-repeat-type='".concat(t.type,"' data-index='").concat(e,"' >\n                <div class='repeat'>\n                    <SelectEditor \n                        ref='$").concat(e,"-type' \n                        options=\"").concat(this.getLayoutItemOptions(),'" \n                        key="type" \n                        value="').concat(t.type||"auto",'" \n                        params="').concat(e,"\" \n                        onchange=\"changeKeyValue\" />\n                </div>\n                <div class='count'>\n                    <NumberInputEditor \n                        ref='$").concat(e,'-count\' \n                        key="count" \n                        value="').concat(t.count,'" \n                        params="').concat(e,"\" \n                        max='1000'\n                        onchange=\"changeKeyValue\" />\n                </div>                \n                <div class='value'>\n                    <InputRangeEditor \n                        ref='$").concat(e,'-value\' \n                        key="value" \n                        value="').concat(t.value,'" \n                        params="').concat(e,"\" \n                        units='auto,fr,px,em,%'\n                        onchange=\"changeKeyValue\" />\n                </div>\n                <div class='tools'>\n                    <button type=\"button\" class='copy'>").concat(Ag.copy,"</button>                \n                    <button type=\"button\" class='remove'>").concat(Ag.remove2,"</button>\n                </div>\n            </div>\n        ")}},{key:Fr("$list"),value:function(){var t=this;return this.state.list.map((function(e,n){return t.makeItem(e,n)}))}},{key:"template",value:function(){return"\n            <div class='grid-box-editor' ref='$body' >\n                <div class='grid-box-editor-item'>\n                    <div class='item header'>\n                        <div class='repeat'>\n                            <label>".concat(this.state.label," </label>\n                            <button type='button' ref='$add'>").concat(Ag.add,"</button>\n                        </div>\n                        <div class='count'>").concat(this.$i18n("grid.box.editor.count"),"</div>\n                        <div class='value'>").concat(this.$i18n("grid.box.editor.value"),"</div>\n                        <div class='tools'></div>\n                    </div>\n                    <div ref='$list'></div>\n                </div>\n            </div>\n        ")}},{key:rr("$list .remove"),value:function(t){var e=+t.$dt.closest("item").attr("data-index");this.state.list.splice(e,1),this.refresh(),this.modifyData()}},{key:rr("$list .copy"),value:function(t){var e=+t.$dt.closest("item").attr("data-index"),n=clone(this.state.list[e]);this.state.list.splice(e,0,n),this.refresh(),this.modifyData()}},{key:rr("$add"),value:function(){this.trigger("add")}},{key:ed("add"),value:function(){this.state.list.push({type:"auto",count:0,value:"0px"}),this.refresh(),this.modifyData()}},{key:ed("changeKeyValue"),value:function(t,e,n){var r=+n,o=this.state.list[r];o&&("type"===t&&this.refs.$list.$('[data-index="'.concat(r,'"]')).attr("data-repeat-type",e),o[t]=e),this.modifyData()}}])&&Fz(n.prototype,r),o&&Fz(n,o),e}(nd);function Kz(t){return(Kz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zz(t,e){return!e||"object"!==Kz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qz(t){return(qz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jz(t,e){return(Jz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qz=function(t){function e(){return Wz(this,e),Zz(this,qz(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jz(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:aR}}},{key:"initState",value:function(){return{label:this.props.label,value:this.parseValue(this.props.value)}}},{key:"setValue",value:function(t){this.setState({list:this.parseValue(t)})}},{key:"parseValue",value:function(t){return _.parse(t)}},{key:"getValue",value:function(){return this.state.value}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:"makeItem",value:function(){return"\n            <div class='item'>\n                <div class='value'>\n                    <RangeEditor\n                        label='".concat(this.state.label,"' \n                        ref='$value' \n                        key=\"value\" \n                        value=\"").concat(this.state.value,'" \n                        units=\'px,em,%\'\n                        onchange="changeKeyValue" />\n                </div>\n            </div>\n        ')}},{key:Fr("$list"),value:function(){return this.makeItem()}},{key:"template",value:function(){return"\n            <div class='grid-gap-editor' ref='$body' >\n                <div class='grid-gap-editor-item'>\n                    <div ref='$list'></div>\n                </div>\n            </div>\n        "}},{key:ed("changeKeyValue"),value:function(t,e){this.state.value=e,this.modifyData()}}])&&Uz(n.prototype,r),o&&Uz(n,o),e}(nd);function tB(t){return(tB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eB(Object(n),!0).forEach((function(e){rB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aB(t,e){return!e||"object"!==tB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cB(t){return(cB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uB(t,e){return(uB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sB=function(t){function e(){return oB(this,e),aB(this,cB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uB(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectIconEditor:PM,GridBoxEditor:Nz,GridGapEditor:Qz}}},{key:"initState",value:function(){return nB({},ve(this.props.value))}},{key:"setValue",value:function(t){this.setState(nB({},ve(t)))}},{key:"getValue",value:function(){return de(this.state)}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:Fr("$body"),value:function(){return"\n            <div class='grid-layout-item'>\n                <GridBoxEditor \n                    label='".concat(this.$i18n("grid.layout.editor.template.columns"),"'\n                    ref='$columnBox'\n                    key='grid-template-columns'\n                    value=\"").concat(this.state["grid-template-columns"]||"","\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <GridGapEditor \n                    label='").concat(this.$i18n("grid.layout.editor.column.gap"),"'\n                    key='grid-column-gap'\n                    value=\"").concat(this.state["grid-column-gap"]||"","\"\n                    onchange='changeKeyValue'\n                />\n            </div>            \n            <div class='grid-layout-item'>\n                <GridBoxEditor \n                    label='").concat(this.$i18n("grid.layout.editor.template.rows"),"'\n                    ref='$rowBox'\n                    key='grid-template-rows'\n                    value=\"").concat(this.state["grid-template-rows"]||"","\"\n                    onchange='changeKeyValue'\n                />\n            </div>            \n            <div class='grid-layout-item'>\n                <GridGapEditor \n                    label='").concat(this.$i18n("grid.layout.editor.row.gap"),"'                \n                    key='grid-row-gap'\n                    value=\"").concat(this.state["grid-row-gap"]||"","\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n        ")}},{key:"template",value:function(){return"\n            <div class='grid-layout-editor' ref='$body' ></div>\n        "}},{key:ed("changeKeyValue"),value:function(t,e,n){this.setState(rB({},t,e),!1),this.modifyData()}}])&&iB(n.prototype,r),o&&iB(n,o),e}(nd);function lB(t){return(lB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dB(t,e){return!e||"object"!==lB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vB(t){return(vB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bB(t,e){return(bB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mB=function(t){function e(){return yB(this,e),dB(this,vB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bB(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectIconEditor:PM}}},{key:"initState",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fB(Object(n),!0).forEach((function(e){pB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ve(this.props.value))}},{key:"setValue",value:function(t){this.setState(ve(t))}},{key:"getValue",value:function(){return de(this.state)}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:Fr("$body"),value:function(){return"\n            <div class='flex-layout-item'>\n                <div class='label'><label>".concat(this.$i18n("flex.layout.item.editor.direction"),"</label></div>\n                <SelectIconEditor \n                    key='flex-direction'\n                    value=\"").concat(this.state["flex-direction"]||"row",'"\n                    options="').concat(getDirectionOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.item.editor.wrap"),"</label></div>\n                <SelectIconEditor \n                    key='flex-wrap'\n                    value=\"").concat(this.state["flex-wrap"]||"wrap",'"\n                    options="').concat(getWrapOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.item.editor.justify-content"),"</label></div>\n                <SelectIconEditor \n                    key='justify-content'\n                    value=\"").concat(this.state["justify-content"],'"\n                    options="').concat(getJustifyContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.item.editor.align-items"),"</label></div>\n                <SelectIconEditor \n                    key='align-items'\n                    value=\"").concat(this.state["align-items"],'"\n                    options="').concat(getAlignItemsOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.item.editor.align-content"),"</label></div>\n                <SelectIconEditor \n                    key='align-content'\n                    value=\"").concat(this.state["align-content"],'"\n                    options="').concat(getAlignContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        ")}},{key:"template",value:function(){return"\n            <div class='flex-layout-editor' ref='$body' ></div>\n        "}},{key:ed("changeKeyValue"),value:function(t,e,n){this.setState(pB({},t,e),!1),this.modifyData()}}])&&hB(n.prototype,r),o&&hB(n,o),e}(nd);function gB(t){return(gB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function OB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SB(t,e){return!e||"object"!==gB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function PB(t){return(PB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xB(t,e){return(xB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _B=function(t){function e(){return kB(this,e),SB(this,PB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xB(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectIconEditor:PM}}},{key:"initState",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wB(Object(n),!0).forEach((function(e){OB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ve(this.props.value))}},{key:"setValue",value:function(t){this.setState(ve(t))}},{key:"getValue",value:function(){return de(this.state)}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:Fr("$body"),value:function(){return"\n            <div class='grid-layout-item'>\n                <div class='label'><label>".concat(this.$i18n("grid.layout.item.editor.direction"),"</label></div>\n                <SelectIconEditor \n                    key='grid-direction'\n                    value=\"").concat(this.state["grid-direction"]||"row",'"\n                    options="').concat(getDirectionOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("grid.layout.item.editor.wrap"),"</label></div>\n                <SelectIconEditor \n                    key='grid-wrap'\n                    value=\"").concat(this.state["grid-wrap"]||"wrap",'"\n                    options="').concat(getWrapOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("grid.layout.item.editor.justify-content"),"</label></div>\n                <SelectIconEditor \n                    key='justify-content'\n                    value=\"").concat(this.state["justify-content"],'"\n                    options="').concat(getJustifyContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("grid.layout.item.editor.align-items"),"</label></div>\n                <SelectIconEditor \n                    key='align-items'\n                    value=\"").concat(this.state["align-items"],'"\n                    options="').concat(getAlignItemsOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("grid.layout.item.editor.align-content"),"</label></div>\n                <SelectIconEditor \n                    key='align-content'\n                    value=\"").concat(this.state["align-content"],'"\n                    options="').concat(getAlignContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        ")}},{key:"template",value:function(){return"\n            <div class='grid-layout-editor' ref='$body' ></div>\n        "}},{key:ed("changeKeyValue"),value:function(t,e,n){this.setState(OB({},t,e),!1),this.modifyData()}}])&&jB(n.prototype,r),o&&jB(n,o),e}(nd);function EB(t){return(EB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function CB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$B(Object(n),!0).forEach((function(e){TB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function TB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VB(t,e){return!e||"object"!==EB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AB(t){return(AB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function IB(t,e){return(IB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var LB=function(t){function e(){return RB(this,e),VB(this,AB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IB(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{index:this.props.index,x:_.parse(this.props.x),y:_.parse(this.props.y),width:_.parse(this.props.width),height:_.parse(this.props.height),lineWidth:_.parse(this.props.linewidth),lineHeight:_.parse(this.props.lineheight),backColor:this.props.backcolor,foreColor:this.props.forecolor,blendMode:this.props.blendmode,type:this.props.type}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyValue(t)}},{key:"modifyValue",value:function(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.state.index)}},{key:"setValue",value:function(t){this.setState(CB({},t))}},{key:Xr("$miniView"),value:function(){var t=CB({},this.state);return this.state.width.value>80&&(t.width=_.px(80),t.x=_.px(t.x.value/this.state.width.value/80)),this.state.height.value>80&&(t.height=_.px(80),t.y=_.px(this.state.y.value/this.state.height.value/80)),{cssText:Mu.parse(t).toCSS()}}},{key:"template",value:function(){return"\n            <div class='pattern-size-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ".concat(this.state.color,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:rr("$preview"),value:function(t){this.viewBackgroundPositionPopup()}},{key:"viewBackgroundPositionPopup",value:function(){this.emit("showPatternInfoPopup",{changeEvent:"changePatternInfo",data:this.state,instance:this})}},{key:ed("changePatternInfo"),value:function(t){this.updateData(CB({},t))}}])&&DB(n.prototype,r),o&&DB(n,o),e}(nd),MB=[{key:"check",title:"Check",execute:function(){return[{pattern:"check(20px 20px, 10px 10px, black, transparent)"},{pattern:"check(40px 40px, 20px 20px, black, transparent)"},{pattern:"check(60px 60px, 30px 30px, #DDB104, rgba(254,240,188,0))"},{pattern:"check(80px 80px, 40px 40px, #DDB104, rgba(254,240,188,0))"},{pattern:"check(100px 100px, 50px 50px, #DCF3DC, transparent)"},{pattern:"check(200px 200px, 100px 100px, #102C45, transparent)"}]}},{key:"grid",title:"Grid",execute:function(){return[{pattern:"grid(20px 20px, 10px 10px, black, transparent)"},{pattern:"grid(40px 40px, 20px 20px, black, transparent)"},{pattern:"grid(60px 60px, 30px 30px, #DDB104, rgba(254,240,188,0))"},{pattern:"grid(80px 80px, 40px 40px, #DDB104, rgba(254,240,188,0))"},{pattern:"grid(100px 100px, 50px 50px, #DCF3DC, transparent)"},{pattern:"grid(200px 200px, 100px 100px, #102C45, transparent)"}]}},{key:"dot",title:"Dot",execute:function(){return[{pattern:"dot(20px 20px, 10px 10px, #B7C4CD, white, normal, 1px)"},{pattern:"dot(40px 40px, 20px 20px, #E7393F, #FEF0BC, normal, 2px)"},{pattern:"dot(60px 60px, 30px 30px, #E7393F, black, normal, 3px)"},{pattern:"dot(80px 80px, 40px 40px, #B7C4CD, white, normal, 4px)"}]}},{key:"cross-dot",title:"Cross Dot",execute:function(){return[{pattern:"cross-dot(20px 20px, 10px 10px, #B7C4CD, white, normal, 1px)"},{pattern:"cross-dot(40px 40px, 20px 20px, #DDB104, #FEF0BC, normal, 4px)"},{pattern:"cross-dot(60px 60px, 30px 30px, #35DB92, #DCF9EC, normal, 6px)"}]}},{key:"diagonal-line",title:"Diagonal Line",execute:function(){return[{pattern:"diagonal-line(10px 10px, 45deg, #B7C4CD, white, normal, 1px)"},{pattern:"diagonal-line(25px 25px, 90deg, #DDB104, #FEF0BC, normal, 2px)"},{pattern:"diagonal-line(50px 50px, 135deg, #35DB92, #DCF9EC, normal, 3px)"}]}},{key:"vertical-line",title:"Vertical Line",execute:function(){return[{pattern:"vertical-line(10px 10px, 0, #B7C4CD, white, normal, 1px)"},{pattern:"vertical-line(25px 25px, 0, #DDB104, #FEF0BC, normal, 2px)"},{pattern:"vertical-line(50px 50px, 0, black, rgba(231,57,63,0.9), normal, 1px)"}]}},{key:"horizontal-line",title:"Horizontal Line",execute:function(){return[{pattern:"horizontal-line(10px 10px, 0, #B7C4CD, white, normal, 1px)"},{pattern:"horizontal-line(25px 25px, 0, #DDB104, #FEF0BC, normal, 2px)"},{pattern:"horizontal-line(50px 50px, 0, #35DB92, #DCF9EC, normal, 3px)"}]}}];function zB(t){return(zB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BB(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function FB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GB(t,e){return!e||"object"!==zB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YB(t){return(YB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function XB(t,e){return(XB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var NB={MediaProgressEditor:ZA,BlendSelectEditor:kL,PatternEditor:function(t){function e(){return FB(this,e),GB(this,YB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XB(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:JT,ColorSingleEditor:kR,PatternSizeEditor:LB}}},{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],value:this.props.value,patterns:this.parsePattern(this.props.value)}}},{key:"parsePattern",value:function(t){return Mu.parseStyle(t)}},{key:"setValue",value:function(t){this.setState({value:t,patterns:this.parsePattern(t)})}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return("\n            <div class='pattern-editor' >\n                <div class='label ".concat(t,"'>\n                    <label>").concat(this.props.title||"","</label>\n                    <div class='tools'>\n                        <button type=\"button\" ref='$add'>").concat(Ag.add," ").concat(this.props.title?"":"Add","</button>\n                    </div>\n                </div>\n                <div class='pattern-list' ref='$patternList'></div>\n            </div>\n        "))}},{key:Fr("$patternList"),value:function(){var t=this;return this.state.patterns.map((function(e,n){var r=e.selected?"selected":"";return e.selected&&(t.selectedIndex=n),"\n            <div class='pattern-item ".concat(r,"' data-index='").concat(n,"' ref=\"fillIndex").concat(n,"\"  draggable='true'>\n                <PatternSizeEditor ").concat(be({key:"pattern-size",ref:"$bp".concat(n),type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,index:n,foreColor:e.foreColor,backColor:e.backColor,blendMode:e.blendMode,lineWidth:e.lineWidth,lineHeight:e.lineHeight})," onchange='changePatternSizeInfo' />\n                <div class='tools'>\n                    <button type=\"button\" class='remove' title='Remove a pattern' data-index='").concat(n,"'>").concat(Ag.remove,"</button>\n                </div>\n            </div>\n            ")}))}},{key:"modifyPattern",value:function(){var t=Mu.join(this.state.patterns);this.parent.trigger(this.props.onchange,this.props.key,t)}},{key:ed("add"),value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"check",n=MB.find((function(t){return t.key===e}));n&&((t=this.state.patterns).push.apply(t,BB(Mu.parseStyle(n.execute()[0].pattern))),this.refresh(),this.modifyPattern())}},{key:rr("$add"),value:function(){this.trigger("add")}},{key:ur("$patternList .pattern-item"),value:function(t){this.startIndex=+t.$dt.attr("data-index")}},{key:lr("$patternList .pattern-item")+zr,value:function(t){}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(BB(t.splice(e,1))))}},{key:"sortPattern",value:function(t,e){this.sortItem(this.state.patterns,t,e)}},{key:sr("$patternList .pattern-item")+zr,value:function(t){var e=+t.$dt.attr("data-index");this.selectItem(this.startIndex,!0),this.sortPattern(this.startIndex,e),this.modifyPattern(),this.refresh()}},{key:"getCurrentPattern",value:function(){return this.state.patterns[this.selectedIndex]}},{key:rr("$patternList .tools .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.patterns.splice(e,1),this.modifyPattern(),this.refresh()}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.refs["fillIndex".concat(t)].addClass("selected"):this.refs["fillIndex".concat(t)].removeClass("selected"),this.state.patterns.forEach((function(e,n){e.selected=n===t}))}},{key:ed("changePatternSizeInfo")+Ar(10),value:function(t,e,n){this.state.patterns[n].reset(e),this.modifyPattern(),this.refresh()}}])&&HB(n.prototype,r),o&&HB(n,o),e}(nd),PatternSizeEditor:LB,GridGapEditor:Qz,NumberInputEditor:HD,GridLayoutItemEditor:_B,GridBoxEditor:Nz,FlexLayoutItemEditor:mB,GridLayoutEditor:sB,FlexLayoutEditor:Lz,TextAreaEditor:_z,ColorMatrixEditor:rL,FuncFilterEditor:WI,SVGFilterSelectEditor:wz,FillEditor:pz,FillSingleEditor:qM,BorderEditor:HA,BorderValueEditor:DA,GradientSingleEditor:YM,BackgroundPositionEditor:AM,OffsetPathListEditor:kA,PolygonDataEditor:hA,PathDataEditor:cA,StrokeDashArrayEditor:qV,InputRangeEditor:rD,SelectIconEditor:PM,ImageSelectEditor:pL,EmbedColorPicker:bM,IconListViewEditor:WL,InputArrayEditor:DI,DirectionEditor:lM,SVGClipPathEditor:eM,NumberRangeEditor:CV,TextEditor:xI,SVGFilterEditor:FL,CircleEditor:gI,BackgroundImageEditor:LT,BoxShadowEditor:YT,BorderRadiusEditor:dR,ColorSingleEditor:kR,ColorViewEditor:$R,CubicBezierEditor:LR,FilterEditor:UR,GradientEditor:bD,IterationCountEditor:_D,OffsetEditor:fI,CSSPropertyEditor:rI,PerspectiveOriginEditor:jV,RangeEditor:aR,SelectEditor:JT,TextShadowEditor:YV,TransformEditor:eV,TransformOriginEditor:pV,VarEditor:AD};function KB(t){return(KB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZB(t,e){return!e||"object"!==KB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qB(t){return(qB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function JB(t,e){return(JB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var QB=function(t){function e(){return WB(this,e),ZB(this,qB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&JB(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return NB}},{key:"onToggleShow",value:function(){}},{key:"template",value:function(){return"\n        <div class='property ".concat(this.isHideHeader()?"no-title":""," ").concat(this.getClassName()," ").concat(this.isFirstShow()?"show":"","'>\n            ").concat(this.isHideHeader()?"":"\n            <div class='property-title ".concat(this.getTitleClassName(),'\' ref="$title">\n                <label class="').concat(this.hasKeyframe()?"has-keyframe":"",'"> \n                  ').concat(this.hasKeyframe()?"\n                      <span class='add-timeline-property' data-property='".concat(this.getKeyframeProperty(),"'></span>\n                    "):""," \n                  <span ref='$propertyTitle'>").concat(this.getTitle(),"</span>\n                  <span class='icon'>").concat(Ag.chevron_right,'</span>\n                </label>\n                <span class="tools">').concat(this.getTools(),"</span>\n            </div>"),"\n            <div class='property-body'>").concat(this.getBody(),"</div>\n            ").concat(this.getFooter()?"<div class='property-footer'>".concat(this.getFooter(),"</div>"):"","\n        </div>\n        ")}},{key:"setTitle",value:function(t){this.refs.$propertyTitle.text(t)}},{key:"hasKeyframe",value:function(){return!1}},{key:"isHideHeader",value:function(){return!1}},{key:"isFirstShow",value:function(){return!0}},{key:"getClassName",value:function(){return""}},{key:"getTitleClassName",value:function(){return""}},{key:"getTitle",value:function(){return""}},{key:"getTools",value:function(){return""}},{key:"getBody",value:function(){return""}},{key:"getFooter",value:function(){return""}},{key:rr("$title label"),value:function(t){var e=t.$dt.parent(),n=Wn.create(t.target).hasClass("add-timeline-property");e.hasClass("property-title")&&!1===n&&(this.$el.toggleClass("show"),this.onToggleShow())}},{key:rr("$title .icon"),value:function(t){t.$dt.parent().hasClass("property-title")&&(this.$el.toggleClass("show"),this.onToggleShow())}},{key:rr("$el .property-body .add-timeline-property")+zr+Br,value:function(t){var e=t.$dt.attr("data-property"),n=t.$dt.attr("data-editor");this.emit("addTimelineCurrentProperty",{property:e,editor:n})}},{key:rr("$el .property-title .add-timeline-property")+zr+Br,value:function(t){var e=t.$dt.attr("data-property"),n=t.$dt.attr("data-editor");this.emit("addTimelineCurrentProperty",{property:e,editor:n})}},{key:"isPropertyShow",value:function(){return this.$el.hasClass("show")}},{key:"toggle",value:function(t){this.$el.toggle(t)}},{key:"hide",value:function(){this.$el.hide()}},{key:"show",value:function(){this.$el.show()}},{key:"onShowTitle",value:function(t){}},{key:"refreshShowIsNot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.$selection.current;n&&(t.includes(n.itemType)?this.hide():(this.show(),e&&this.refresh()))}},{key:"refreshShow",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.$selection.current;n?ae(t)&&t()?(this.show(),e&&this.refresh()):!ae(t)&&t.includes(n.itemType)?(this.show(),e&&this.refresh()):this.hide():this.hide()}},{key:"startInputEditing",value:function(t){t&&(t.attr("contenteditable",!0),t.css({"background-color":"white",outline:"1px auto black",color:"black"}),t.focus())}},{key:"endInputEditing",value:function(t,e){if(t){t.attr("contenteditable",!1),t.css({"background-color":null,outline:null,color:null});var n=t.attr("data-index");e&&e(n,t.text().trim()),t.blur()}}}])&&UB(n.prototype,r),o&&UB(n,o),e}(nd);function tF(t){return(tF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function nF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oF(t,e){return!e||"object"!==tF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iF(t){return(iF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aF(t,e){return(aF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cF={"stroke-dasharray":"Stroke Dash Array","stroke-dashoffset":"Stroke Dash Offset","stroke-linejoin":"Stroke Line Join"},uF=function(t){function e(){return nF(this,e),oF(this,iF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aF(t,e)}(e,t),n=e,(r=[{key:ed("refreshCanvas","refreshSelection")+Ar(1e3),value:function(){this.refresh()}},{key:"makeTimelineObjectRow",value:function(t){var e=this,n=this.$selection.currentProject,r=n.searchById(t.id);if(r){var o=this.$timeline.checkLayer(r.id),i=n.searchById(r.id);return"\n        <div class='timeline-object' data-timeline-animation-id=\"".concat(r.id,"\">\n            <div class='timeline-object-row layer' data-selected='").concat(o,"' data-layer-id='").concat(r.id,"' data-property=''>\n                <div class='icon'>").concat(Ag.chevron_right,"</div>\n                <div class='title'> ").concat(r.name,"</div>\n                <div class='tools'>\n                    <button type=\"button\" class='remove-timeline' data-layer-id='").concat(r.id,"'>").concat(Ag.remove,"</button>\n                    <button type=\"button\" class='empty'></button>                    \n                </div>\n            </div>\n\n            ").concat(t.properties.map((function(t){var n=e.$timeline.checkProperty(r.id,t.property);return("\n                <div class='timeline-object-row layer-property' data-selected='".concat(n,"' data-layer-id='").concat(r.id,"' data-property='").concat(t.property,"'>\n                  <div class='icon'></div>                    \n                    <div class='title'>").concat(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return cF[t]||e||t}(t.property),"</div>\n                    <div class='current-value'>\n                      ").concat("d"===t.property?i.totalLength:"","\n                      ").concat("points"===t.property?i.totalLength:"","\n                    </div>\n                    <div class='tools'>\n                        <button type=\"button\" class='remove' data-layer-id='").concat(r.id,"' data-property='").concat(t.property,"'>").concat(Ag.remove,"</button>\n                        <button type=\"button\" class='add' data-layer-id='").concat(r.id,"' data-property='").concat(t.property,"'></button>\n                    </div>\n                </div>"))})).join(""),"                                                      \n        </div>\n        ")}}},{key:"template",value:function(){return"\n            <div class='timeline-object-list'></div>\n        "}},{key:Fr()+Vr,value:function(){var t=this,e=this.$selection.currentProject;if(!e)return"";var n=e.getSelectedTimeline();return n?n.animations.map((function(e){return t.makeTimelineObjectRow(e)})):""}},{key:"refreshSelection",value:function(){var t=this;this.$el.$$('[data-selected="true"]').forEach((function(t){t.attr("data-selected","false")})),this.$timeline.each((function(e){var n=t.$el.$('[data-layer-id="'.concat(e.layerId,'"][data-property="').concat(e.property,'"]'));n&&n.attr("data-selected","true")}))}},{key:rr("$el .timeline-object-row.layer .title"),value:function(t){var e=t.$dt.closest("timeline-object");e.toggleClass("collapsed");var n=t.$dt.closest("timeline-object-row").attr("data-layer-id");this.$timeline.selectLayer(n),this.$timeline.toggleLayerContainer(e.attr("data-timeline-animation-id")),this.refreshSelection(),this.emit("toggleTimelineObjectRow",n,e.hasClass("collapsed"))}},{key:rr("$el .timeline-object-row.layer .add-property"),value:function(t){var e=t.$dt.closest("timeline-object-row").$(".property-select").val(),n=t.$dt.attr("data-layer-id");if(e){var r=this.$selection.current;this.emit("addTimelineProperty",{layerId:n,property:e,value:r[e]})}}},{key:rr("$el .timeline-object-row.layer .remove-timeline"),value:function(t){var e=t.$dt.attr("data-layer-id");e&&this.emit("removeTimeline",e)}},{key:rr("$el .timeline-object-row.layer-property .add"),value:function(t){var e=t.$dt.attr("data-layer-id"),n=t.$dt.attr("data-property");n&&this.emit("copyTimelineProperty",e,n)}},{key:rr("$el .timeline-object-row.layer-property .remove"),value:function(t){var e=t.$dt.attr("data-layer-id"),n=t.$dt.attr("data-property");n&&this.emit("removeTimelineProperty",e,n)}},{key:rr("$el .timeline-object-row.layer-property .title"),value:function(t){var e=eF(t.$dt.closest("timeline-object-row").attrs("data-layer-id","data-property"),2),n=e[0],r=e[1];this.$timeline.selectProperty(n,r),this.refreshSelection(),this.emit("refreshTimeline")}},{key:ed("refreshTimeline"),value:function(){this.refresh()}}])&&rF(n.prototype,r),o&&rF(n,o),e}(nd);function sF(t){return(sF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function yF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dF(t,e){return!e||"object"!==sF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vF(t){return(vF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bF(t,e){return(bF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mF=function(t){function e(){return yF(this,e),dF(this,vF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bF(t,e)}(e,t),n=e,(r=[{key:"config",value:function(t){return this.parent.state[t]}},{key:"calculateTimeToPosition",value:function(t,e,n){var r=(t-e)/(n-e);return _.px(this.rect.totalWidth*r+10)}},{key:"makeSubOffset",value:function(t,e){var n=[];if("offset-path"===t){var r=pF(e.split(",").map((function(t){return t.trim()})),1)[0],o=this.$selection.currentProject.searchById(r);o&&(e=o.d)}else e=null;if(e){var i=GO(new Ro(e).segments),a=i.totalLength,c=i.interpolateList,u=0;(n=c.map((function(t){var e={totalLength:a,length:t.length+u};return u+=t.length,e}))).pop()}return n}},{key:"makeKeyframe",value:function(t,e,n){var r=this,o=n.keyframes.filter((function(t){return e.displayStartTime<=t.time&&t.time<=e.displayEndTime})).map((function(t,o){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lF(Object(n),!0).forEach((function(e){fF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({left:r.calculateTimeToPosition(t.time,e.displayStartTime,e.displayEndTime)},t,{subOffset:r.makeSubOffset(n.property,t.value),index:o})}));return"\n        <div class='keyframe-back'".concat(be({"data-layer-id":t,"data-property":n.property}),">\n\n            ").concat(o.map((function(e,i){var a=o[i+1];if(!a)return"";var c=_.px(e.left.value),u=_.px(a.left.value-e.left.value),s=r.$timeline.checked(e.id)&&r.$timeline.checked(a.id);return"\n                    <div ".concat(be({"data-selected":"".concat(s),class:{"offset-line":!0}})," style='left: ").concat(c,"; width: ").concat(u,"'} ></div>\n\n                    ").concat(e.subOffset.map((function(r,o){var i=_.px(e.left.value+r.length/r.totalLength*u.value);return("\n                        <div class='".concat(me({"sub-offset":!0}),"' style='left: ").concat(i,"' ").concat(be({"data-offset-id":e.id,"data-layer-id":t,"data-property":n.property,"data-suboffset-index":o})," ></div>\n        \n                        "))})).join(""),"\n                ")})).join(""),"\n        </div>\n        <div class='keyframe'>\n\n            ").concat(o.map((function(e){var o=r.$timeline.checked(e.id);return("<div class='offset' style='left: ".concat(e.left,"' ").concat(be({"data-selected":"".concat(o),"data-offset-id":e.id,"data-layer-id":t,"data-property":n.property,"data-offset-index":e.index})," ></div>\n\n                "))})).join(""),"\n        </div>")}},{key:"makeTimelineKeyframeRow",value:function(t,e){var n=this,r=this.$selection.currentProject.searchById(e.id);if(r){var o={};e.properties.map((function(t){return t.keyframes.map((function(t){return t.time}))})).forEach((function(t){t.forEach((function(t){return o[t]=!0}))}));var i=Object.keys(o).map((function(t){return+t}));return("\n        <div class='timeline-keyframe ".concat(me({collapsed:e.collapsed}),"' data-timeline-layer-id=\"").concat(r.id,"\">\n            <div class='timeline-keyframe-row layer'  ").concat(be({"data-row-index":this.state.rowIndex++,"data-layer-id":r.id})," >\n                <div class='keyframe-shadow'>\n                ").concat(i.map((function(e){var r=n.calculateTimeToPosition(e,t.displayStartTime,t.displayEndTime);return("<div class='offset' style='left: ".concat(r,"'></div>"))})).join(""),"\n                </div>\n            </div>\n\n            ").concat(e.properties.map((function(e){return"\n                <div class='timeline-keyframe-row layer-property' ".concat(be({"data-row-index":n.state.rowIndex++,"data-property":e.property,"data-layer-id":r.id})," >\n                    ").concat(e.keyframes.length?n.makeKeyframe(r.id,t,e):"","\n                </div>")})).join(""),"                                                      \n        </div>\n        "))}}},{key:"template",value:function(){return"\n            <div class='timeline-keyframe-container' tabIndex=\"-1\">\n                <div ref='$keyframeList' class='timeline-keyframe-list'></div>\n                <div class='drag-area' ref='$dragArea'></div>\n            </div>\n        "}},{key:"hasDragPlace",value:function(t){var e=Wn.create(t.target);return!1===e.hasClass("offset")&&!1===e.hasClass("offset-line")}},{key:"getRowIndex",value:function(t){return t=Qt(t)?this.state.rowIndex:+t}},{key:cr("$el")+Cr("Backspace"),value:function(t){this.emit("deleteTimelineKeyframe")}},{key:"isNotMoved",value:function(t,e){return 0===t&&0===e}},{key:kr("$el")+$r("hasDragPlace")+Lr("moveDragArea")+Mr("moveEndDragArea"),value:function(t){this.dragXY=this.getRealPosition(t),this.startRowIndex=this.getRowIndex(Wn.create(t.target).attr("data-row-index")),this.left=null,this.width=null}},{key:"moveDragArea",value:function(t,e){if(!this.isNotMoved(t,e)){var n=t<0?_.px(this.dragXY.x+t):_.px(this.dragXY.x),r=e<0?_.px(this.dragXY.y+e):_.px(this.dragXY.y),o=_.px(Math.abs(t)),i=_.px(Math.abs(e));this.refs.$dragArea.css({left:n,top:r,width:o,height:i}),this.left=n,this.width=o}}},{key:"getLayerList",value:function(){for(var t=this.getRowIndex(Wn.create(this.$config.get("bodyEvent").target).attr("data-row-index")),e=Math.min(t,this.startRowIndex),n=Math.max(t,this.startRowIndex),r=[],o=e;o<=n;o++)r.push('[data-row-index="'.concat(o,'"]'));return this.refs.$keyframeList.$$(r.join(",")).map((function(t){var e=pF(t.attrs("data-layer-id","data-property"),2);return{layerId:e[0],property:e[1]}}))}},{key:"getTime",value:function(t,e,n){return t+(e-t)*n}},{key:"moveEndDragArea",value:function(t,e){if(!this.isNotMoved(t,e))if(this.left){this.refs.$dragArea.css({left:null,top:null,width:null,height:null});var n=this.$el.width(),r=this.getTimeRateByPosition(this.left.value/n),o=this.getTimeRateByPosition((this.left.value+this.width.value)/n);this.$timeline.selectBySearch(this.getLayerList(),r,o),this.refresh(),this.startRowIndex=null}else this.doubleClicked?this.doubleClicked=!1:(this.$timeline.empty(),this.refresh())}},{key:Fr("$keyframeList")+Vr,value:function(){var t=this,e=this.$selection.currentProject;if(!e)return"";var n=e.getSelectedTimeline();if(!n)return"";var r=this.$el.rect().width-20;return this.rect={totalWidth:r,startX:10},this.state.rowIndex=0,n.animations.map((function(e){return t.makeTimelineKeyframeRow(n,e)}))}},{key:rr("$el .timeline-keyframe-row.layer .title"),value:function(t){t.$dt.closest("timeline-keyframe").toggleClass("collapsed")}},{key:"hasCurrentTimeline",value:function(){return!!this.currentTimeline}},{key:"getRealPosition",value:function(t){var e=this.$el.rect(),n={x:t.xy.x-e.left,width:e.width,y:t.xy.y-e.top,height:e.height},r=n.width-10;return n.x<10&&(n.x=10),n.x>r&&(n.x=r),n.rate=(n.x-10)/(r-10),n}},{key:"getTimeRateByPosition",value:function(t){var e=this.currentTimeline;if(e){var n=e.displayStartTime,r=e.displayEndTime;return this.getTime(n,r,t)}return 0}},{key:or("$el .layer-property"),value:function(t){var e=pF(t.$dt.attrs("data-layer-id","data-property"),2),n=e[0],r=e[1],o=this.getTimeRateByPosition(this.getRealPosition(t).rate);this.emit("addTimelineKeyframe",{layerId:n,property:r,time:o}),this.doubleClicked=!0,this.refresh()}},{key:kr("$el .layer-property .offset")+$r("hasCurrentTimeline")+Lr("moveOffset")+Mr("moveEndOffset"),value:function(t){var e=this;this.$offset=t.$dt;var n=this.$offset.attr("data-offset-id"),r=this.$offset.attr("data-property"),o=this.$offset.attr("data-layer-id");this.$keyframeBack=this.$offset.closest("timeline-keyframe-row").$(".keyframe-back");var i=this.$el.rect().width-20;this.rect={totalWidth:i,startX:10};var a=this.$selection.currentProject;a&&(this.offset=a.getTimelineKeyframeById(o,r,n),this.layerId=o,this.property=r,this.cachedOffsetTime=this.offset.time),this.timeline=this.currentTimeline,this.$timeline.checked(n)||this.$timeline.select(this.offset),this.cachedOffsetList={},this.$timeline.cachedList().forEach((function(t){e.cachedOffsetList[t.id]=t.time})),this.emit("refreshOffsetValue",this.offset)}},{key:"moveOffset",value:function(t,e){var n=this;if(!this.isNotMoved(t,e)){var r=this.timeline,o=r.displayStartTime,i=r.displayEndTime,a=r.fps,c=t<0?-1:1,u=Math.abs(t)/this.rect.totalWidth*(i-o);this.$timeline.each((function(t){var e=n.cachedOffsetList[t.id]+u*c;e=Math.max(e,o),e=Math.min(e,i);var r=Zp(a,e);e=Up(a,r),t.time=e})),this.refresh(),this.emit("refreshOffsetValue",this.offset)}}},{key:ed("toggleTimelineObjectRow"),value:function(t,e){this.$el.$('.timeline-keyframe[data-timeline-layer-id="'.concat(t,'"]')).toggleClass("collapsed",e)}},{key:"moveEndOffset",value:function(t,e){if(this.isNotMoved(t,e))return this.refresh(),void this.emit("refreshOffsetValue",this.offset);var n=this.$selection.currentProject;n&&(this.$timeline.each((function(t){n.sortTimelineKeyframe(t.layerId,t.property)})),this.refresh())}},{key:ed("addTimeline","moveTimeline")+Ar(100),value:function(){this.refresh()}},{key:ed("refreshTimeline","toggleFooterEnd"),value:function(){this.refresh()}},{key:ed("resize.window")+Ar(100),value:function(){this.refresh()}},{key:"currentTimeline",get:function(){var t=this.$selection.currentProject;if(t)return t.getSelectedTimeline()}}])&&hF(n.prototype,r),o&&hF(n,o),e}(nd);function gF(t){return(gF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kF(t,e){return!e||"object"!==gF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jF(t){return(jF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function SF(t,e){return(SF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var PF=function(t){function e(){return wF(this,e),kF(this,jF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SF(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n        <div class='keyframe-time-control'>\n            <div class='time-manager'>\n                <button type=\"button\" ref='$timer'>".concat(Ag.timer,'</button>\n                <label>\n                    <input type="text" ref=\'$currentTime\' />\n                </label>\n                <label>FPS <input type="number" ref=\'$fps\' min="0" max="999" /></label>\n                <label>\n                    <input type="text" ref=\'$duration\' />\n                </label>\n            </div>\n        </div>')}},{key:"refresh",value:function(){this.refreshTimeInfo()}},{key:"hasCurrentTimeline",value:function(){return!!this.currentTimeline}},{key:"refreshTimeInfo",value:function(){var t=this.currentTimeline;t&&(this.refs.$currentTime.val(t.currentTimecode),this.refs.$duration.val(t.totalTimecode),this.refs.$fps.val(t.fps))}},{key:"refreshCurrentTime",value:function(){var t=this.currentTimeline;t&&this.refs.$currentTime.val(t.currentTimecode)}},{key:ed("playTimeline"),value:function(){this.refreshCurrentTime()}},{key:ed("refreshTimeline"),value:function(){this.refresh()}},{key:ed("moveTimeline","refreshSelection")+Ir(10),value:function(){this.refresh()}},{key:cr("$fps")+Tr,value:function(t){var e=+this.refs.$fps.val(),n=this.$selection.currentProject;n&&(n.setFps(e),this.emit("moveTimeline"))}},{key:"checkNumberOrTimecode",value:function(t){var e=t.target.value.trim();return+e+""===e||!!e.match(/^[0-9:]+$/)}},{key:"checkKey",value:function(t){return!!t.key.match(/^[0-9:]+$/)||"Backspace"===t.code||"ArrowRight"===t.code||"ArrowLeft"===t.code}},{key:rr("$timer"),value:function(){var t=this.$selection.currentProject;t&&(t.seek(this.refs.$currentTime.value,(function(t){return!0})),this.emit("playTimeline"))}},{key:ar("$currentTime"),value:function(t){if(!this.checkKey(t))return t.preventDefault(),t.stopPropagation(),!1}},{key:cr("$currentTime")+Tr+$r("checkNumberOrTimecode")+$r("hasCurrentTimeline")+zr,value:function(t){var e=this.refs.$currentTime.value,n=this.$selection.currentProject;n&&n.setTimelineCurrentTime(e),this.refresh(),this.emit("moveTimeline")}},{key:ar("$duration"),value:function(t){if(!this.checkKey(t))return t.preventDefault(),t.stopPropagation(),!1}},{key:cr("$duration")+Tr+$r("checkNumberOrTimecode")+$r("hasCurrentTimeline")+zr,value:function(t){var e=this.refs.$duration.value,n=this.$selection.currentProject;n&&n.setTimelineTotalTime(e),this.refresh(),this.emit("moveTimeline")}},{key:"currentTimeline",get:function(){var t=this.$selection.currentProject;return t?t.getSelectedTimeline():null}}])&&OF(n.prototype,r),o&&OF(n,o),e}(nd);function xF(t){return(xF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $F(t,e){return!e||"object"!==xF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CF(t){return(CF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function TF(t,e){return(TF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var RF=function(t){function e(){return _F(this,e),$F(this,CF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&TF(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{KeyframeTimeControl:PF}}},{key:"template",value:function(){return"\n            <div class='timeline-top-toolbar'>\n                <KeyframeTimeControl />\n            </div>\n        "}}])&&EF(n.prototype,r),o&&EF(n,o),e}(nd);function DF(t){return(DF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function AF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MF(t,e){return!e||"object"!==DF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zF(t){return(zF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function BF(t,e){return(BF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var FF=function(t){function e(){return IF(this,e),MF(this,zF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BF(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n        <div class='keyframe-time-view'>\n            <div class='time-duration'>\n                <div class='duration-handle-left'></div>\n                <div class='duration-handle-right'></div>\n                <div class='duration-slider' ref='$slider'>\n                    <div class='gauge' ref='$gauge'></div>\n                    <div class='start' ref='$start'></div>\n                    <div class='end' ref='$end'></div>\n                </div>\n            </div>\n            <canvas ref=\"$canvas\"></canvas>\n        </div>"}},{key:"refresh",value:function(){this.refreshTimeDisplay(),this.refreshCanvas()}},{key:"hasCurrentTimeline",value:function(){return!!this.currentTimeline}},{key:"refreshTimeDisplay",value:function(){var t=this.currentTimeline;if(t){var e=_.percent(t.displayStartTime/t.totalTime*100),n=_.percent(t.displayEndTime/t.totalTime*100);this.refs.$start.css("left",e),this.refs.$end.css("left",n),this.refs.$gauge.css({left:e,width:_.percent(n.value-e.value)})}}},{key:kr("$start")+$r("hasCurrentTimeline")+Lr("moveStartButton"),value:function(t){this.sliderRect=this.refs.$slider.rect(),this.endX=_.parse(this.refs.$end.css("left")).toPx(this.sliderRect.width)}},{key:"moveStartButton",value:function(){var t=this.$config.get("pos").x-this.sliderRect.x,e=this.endX;t=Math.max(t,0);var n=(t=Math.min(t,e))/this.sliderRect.width;this.$selection.currentProject.setDisplayStartTimeRate(n),this.refreshTimeDisplay(),this.refreshCanvas(),this.emit("moveTimeline")}},{key:kr("$end")+$r("hasCurrentTimeline")+Lr("moveEndButton"),value:function(t){this.sliderRect=this.refs.$slider.rect(),this.startX=_.parse(this.refs.$start.css("left")).toPx(this.sliderRect.width)}},{key:"moveEndButton",value:function(){var t=this.$config.get("pos").x-this.sliderRect.x,e=this.startX,n=this.sliderRect.width;t=Math.max(t,e);var r=(t=Math.min(t,n))/this.sliderRect.width;this.$selection.currentProject.setDisplayEndTimeRate(r),this.refreshTimeDisplay(),this.refreshCanvas(),this.emit("moveTimeline")}},{key:kr("$gauge")+$r("hasCurrentTimeline")+Lr("moveGaugeButton"),value:function(t){this.sliderRect=this.refs.$slider.rect();var e=this.currentTimeline,n=e.displayStartTime,r=e.displayEndTime;this.timelineStartTime=n,this.timelineEndTime=r}},{key:"moveGaugeButton",value:function(t,e){var n=t/this.sliderRect.width;this.$selection.currentProject.setDisplayTimeDxRate(n,this.timelineStartTime,this.timelineEndTime),this.refreshTimeDisplay(),this.refreshCanvas(),this.emit("moveTimeline")}},{key:"config",value:function(t){return this.parent.state[t]}},{key:"setConfig",value:function(t,e){this.parent.setState(AF({},t,e),!1)}},{key:"refreshCanvas",value:function(){var t=this.$theme("timeline_grid_font_color"),e=this.$theme("timeline_timeview_bottom_color"),n=this.$theme("timeline_line_color"),r=this.currentTimeline;if(r){var o=this.$el.rect(),i=o.width,a=(o.height,r.displayStartTime),c=r.displayEndTime,u=r.fps,s=r.currentTime,l=Math.floor(a*u),f=Math.floor(c*u),p=(i=o.width,f-l),y=5;p<100?y=10:p<1e3?y=100:p<1e4?y=1e3:p<1e5&&(y=1e4),l%y!=0&&(l+=y-l%y);var h={textAlign:"center",textBaseline:"middle",font:"10px sans-serif"};this.refs.$canvas.resize({width:i,height:24}),this.refs.$canvas.update((function(){var r=this.rect(),o=i-20;for(this.drawOption(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VF(Object(n),!0).forEach((function(e){AF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({strokeStyle:"rgba(204, 204, 204, 0.3)",lineWidth:.5},h));l<f;l+=y){var p=(Up(u,l)-a)/(c-a)*o;this.drawOption({fillStyle:t}),this.drawText(p+10,7,qp(u,l).replace(/00\:/g,"")+"f")}this.drawOption({strokeStyle:e,lineWidth:1}),this.drawLine(0,r.height-.5,r.width,r.height);var d=(s-a)/(c-a)*o;this.drawOption({strokeStyle:n,fillStyle:n,lineWidth:1}),this.drawPath([d-4+10,r.height-10],[d+4+10,r.height-10],[d+4+10,r.height-4],[d+10,r.height],[d-4+10,r.height-4],[d-4+10,r.height-10])}))}}},{key:kr("$canvas")+$r("hasCurrentTimeline")+Lr()+Mr("moveEndCurrentTime"),value:function(t){this.selectedCanvasOffset=this.refs.$canvas.offset(),this.originalRect=this.$el.rect(),this.width=this.originalRect.width-20,this.emit("hideSelectionToolView"),this.$selection.empty(),this.emit("refreshSelection")}},{key:"move",value:function(){var t=this.width,e=t,n=this.$config.get("pos").x-this.selectedCanvasOffset.left;n=Math.max(n,0),n=Math.min(n,e),this.$selection.currentProject.setTimelineCurrentTimeRate(n/t),this.refresh(),this.$selection.currentProject.seek(),this.emit("moveTimeline")}},{key:"moveEndCurrentTime",value:function(){this.emit("resetSelection")}},{key:ed("resize.window")+Ar(100),value:function(){this.refresh()}},{key:ed("refreshTimeline","playTimeline","toggleFooterEnd"),value:function(){this.refresh()}},{key:ed("moveTimeline","refreshSelection")+Ir(10),value:function(){this.refresh()}},{key:"currentTimeline",get:function(){var t=this.$selection.currentProject;return t?t.getSelectedTimeline():null}}])&&LF(n.prototype,r),o&&LF(n,o),e}(nd);function HF(t){return(HF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function GF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XF(t,e){return!e||"object"!==HF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function NF(t){return(NF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function KF(t,e){return(KF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var WF=function(t){function e(){return GF(this,e),XF(this,NF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KF(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='keyframe-time-grid-view'>\n                <canvas ref=\"$canvas\"></canvas>\n            </div>\n        "}},{key:"refresh",value:function(){this.refreshCanvas()}},{key:"currentTimeline",value:function(){var t=this.$selection.currentProject;if(t)return t.getSelectedTimeline()}},{key:"hasCurrentTimeline",value:function(){return!!this.currentTimeline()}},{key:"refreshCanvas",value:function(){var t=this.$theme("timeline_line_color"),e=this.currentTimeline();if(e){var n=this.$el.rect().width,r=e.currentTime,o=e.displayStartTime,i=e.displayEndTime;this.refs.$canvas.resize(this.$el.rect()),this.refs.$canvas.update((function(){var e=this.rect(),a=(r-o)/(i-o)*(n-20);this.drawOption({strokeStyle:t,lineWidth:1}),this.drawLine(a+10,0,a+10,e.height)}))}}},{key:ed("resize.window")+Ar(100),value:function(){this.refresh()}},{key:ed("refreshTimeline","playTimeline","toggleFooterEnd"),value:function(){this.refresh()}},{key:ed("moveTimeline","refreshSelection")+Ir(50),value:function(){this.refresh()}}])&&YF(n.prototype,r),o&&YF(n,o),e}(nd);function UF(t){return(UF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tH(t,e){return!e||"object"!==UF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eH(t){return(eH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nH(t,e){return(nH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rH=function(t){function e(){return JF(this,e),tH(this,eH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nH(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{CSSPropertyEditor:rI,CubicBezierEditor:LR}}},{key:"initState",value:function(){return{time:0,timing:"linear",selectedIndex:1}}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.state)}},{key:"getProperties",value:function(){return[{key:this.state.property,value:Qt(this.state.value)?"10px":this.state.value,editor:this.state.editor}].filter((function(t){return t.key}))}},{key:"refresh",value:function(){var t=this.$selection.currentProject,e="00:00:00:00";if(t){var n=t.getSelectedTimeline();n&&(e=Zp(n.fps,this.state.time))}this.refs.$offsetTime.val(e),this.children.$propertyEditor.trigger("showCSSPropertyEditor",this.getProperties()),this.children.$cubicBezierEditor.trigger("showCubicBezierEditor",this.state.timing)}},{key:"template",value:function(){return'\n    <div class=\'timeline-value-editor\'>\n        <div class="tab number-tab" ref="$tab">\n            <div class="tab-header full" ref="$header">\n                <div class="tab-item selected" data-value="1">\n                    <label>'.concat(this.$i18n("timeline.value.editor.value"),'</label>\n                </div>          \n                <div class="tab-item" data-value="2">\n                    <label>').concat(this.$i18n("timeline.value.editor.timing"),'</label> \n                </div>                            \n            </div>\n            <div class="tab-body" ref="$body">\n                <div class="tab-content selected padding-zero" data-value="1">\n                    ').concat(this.templateForOffset(),"  \n                    ").concat(this.templateForProperty(),'  \n                </div>\n                <div class="tab-content" data-value="2">\n                    ').concat(this.templateForTimingFunction(),"\n                </div>\n            </div>\n        </div>\n    </div>\n    ")}},{key:rr("$header .tab-item"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedIndex:e},!1),this.refresh())}},{key:"checkNumberOrTimecode",value:function(t){var e=t.target.value.trim();return+e+""===e||!!e.match(/^[0-9:]+$/)}},{key:"checkKey",value:function(t){return!!t.key.match(/^[0-9:]+$/)||"Backspace"===t.code||"ArrowRight"===t.code||"ArrowLeft"===t.code}},{key:ar("$offsetTime"),value:function(t){if(!this.checkKey(t))return t.preventDefault(),t.stopPropagation(),!1}},{key:cr("$offsetTime")+Tr+$r("checkNumberOrTimecode")+zr,value:function(t){var e=this.refs.$offsetTime.value,n=this.$selection.currentProject;if(n){var r=n.getSelectedTimeline();this.updateData({time:Up(r.fps,e)})}}},{key:"templateForOffset",value:function(){return"\n      <div class='offset-input'>\n        <label>".concat(this.$i18n("timeline.value.editor.time"),"</label>\n        <div class='input-area'>\n          <input type=\"text\" ref='$offsetTime' title=\"").concat(this.$i18n("timeline.value.editor.offset.message"),"\" />\n        </div>\n        <button type=\"button\" ref='$seek' title='Seek timeline'>").concat(Ag.gps_fixed,"</button>\n      </div>\n    ")}},{key:rr("$seek"),value:function(){var t=this,e=this.$selection.currentProject;e&&(e.seek(this.refs.$offsetTime.value,(function(e){return e.layer.id===t.state.layerId&&e.property===t.state.property})),this.emit("playTimeline"))}},{key:"templateForProperty",value:function(){return"\n      <CSSPropertyEditor ref='$propertyEditor' hide-title='true' onchange='changePropertyEditor' />\n    "}},{key:"templateForTimingFunction",value:function(){return"\n    <div class='timing-function'>\n      <CubicBezierEditor ref='$cubicBezierEditor' key=\"timing\" value=\"".concat(this.state.timingFunction||"linear","\" onChange='changeCubicBezier' />\n    </div>\n    ")}},{key:ed("refreshPropertyValue"),value:function(){var t=this.$selection.currentProject;if(t){var e=t.searchById(this.state.layerId);if(e){var n=e[this.state.property]+"";this.trigger("refreshOffsetValue",{value:n}),this.updateData({value:n})}}}},{key:ed("refreshOffsetValue"),value:function(t){this.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ZF(Object(n),!0).forEach((function(e){qF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),!1),this.refresh()}},{key:ed("changeCubicBezier"),value:function(t,e){this.updateData(qF({},t,e+""))}},{key:ed("changePropertyEditor"),value:function(t){if(t.length){var e=t[0];this.updateData({value:e.value+""})}}}])&&QF(n.prototype,r),o&&QF(n,o),e}(nd);function oH(t){return(oH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cH(t,e){return!e||"object"!==oH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uH(t){return(uH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sH(t,e){return(sH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lH=function(t){function e(){return iH(this,e),cH(this,uH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sH(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='timeline-play-control' >\n                <div class='row'>\n                    <div class='play-buttons' ref='$playButtons' data-status='".concat(this.state.status,"'>\n                        <button type=\"button\" data-value='play' class='play' title='").concat(this.$i18n("timeline.play.control.play"),"'>").concat(Ag.play,"</button>\n                        <button type=\"button\" data-value='pause' class='pause' title='").concat(this.$i18n("timeline.play.control.pause"),"'>").concat(Ag.pause,"</button>                \n                        <button type=\"button\" data-value='first' class='first' title='").concat(this.$i18n("timeline.play.control.first"),"'>").concat(Ag.skip_prev,"</button>\n                        <button type=\"button\" data-value='prev' class='prev' title='").concat(this.$i18n("timeline.play.control.prev"),"'>").concat(Ag.fast_rewind,"</button>                    \n                        <button type=\"button\" data-value='next' class='next' title='").concat(this.$i18n("timeline.play.control.next"),"'>").concat(Ag.fast_forward,"</button>\n                        <button type=\"button\" data-value='last' class='last' title='").concat(this.$i18n("timeline.play.control.last"),"'>").concat(Ag.skip_next,"</button>\n                    </div>\n                </div>\n                <div class='row'>            \n                    <label title='Speed'>").concat(this.$i18n("timeline.play.control.speed"),"</label>\n                    <div class='input speed-number' >\n                        <input type='number' min=\"0.1\" max=\"10\" step=\"0.1\" ref='$speed' value='").concat(this.state.speed,"' />\n                    </div>\n                </div>                \n                <div class='row'>            \n                    <label><span ref='$repeatStatus'>").concat(this.$i18n("timeline.play.control.repeat"),"</span></label>\n                    <div class='input' >\n                        <input type='number' min=\"0\" max=\"100\" step=\"1\" ref='$iteration' value='").concat(this.state.iterationCount,"' />\n                    </div> \n                </div>\n                <div class='row'>\n                    <label> ").concat(this.$i18n("timeline.play.control.direction"),"</label>\n                    <div class='direction-buttons' ref='$direction' data-selected-direction='").concat(this.state.direction,"'>\n                        <button type=\"button\" data-value='normal' title='").concat(this.$i18n("timeline.play.control.normal"),"'>").concat(Ag.arrowRight,"</button>\n                        <button type=\"button\" data-value='alternate' title='").concat(this.$i18n("timeline.play.control.alternate"),"'>").concat(Ag.alternate,"</button>\n                        <button type=\"button\" data-value='reverse' title='").concat(this.$i18n("timeline.play.control.reverse"),"' style='transform: rotateY(180deg)'>").concat(Ag.arrowRight,"</button>\n                        <button type=\"button\" data-value='alternate-reverse' title='").concat(this.$i18n("timeline.play.control.alternate.reverse"),"' style='transform: rotateY(180deg)'>").concat(Ag.alternate_reverse,"</button>\n                    </div>\n                </div>                                \n            </div>\n        ")}},{key:"initState",value:function(){var t=1,e=1,n="normal",r=this.getSelectedTimeline();return r&&(t=r.speed,e=r.iterationCount,n=r.direction),{status:"pause",speed:t,iterationCount:e,direction:n}}},{key:"getSelectedTimeline",value:function(){var t=this.$selection.currentProject;if(t)return t.getSelectedTimeline()}},{key:"updateData",value:function(t){this.setState(t,!1);var e=this.$selection.currentProject;e&&e.setTimelineInfo(t)}},{key:rr("$playButtons button"),value:function(t){var e=t.$dt.attr("data-value");this.setState({status:e}),"play"===e?this.play():"pause"===e?this.pause():"first"===e?this.first():"prev"===e?this.prev():"next"===e?this.next():"last"===e&&this.last()}},{key:"first",value:function(){this.emit("firstTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:"prev",value:function(){this.emit("prevTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:"next",value:function(){this.emit("nextTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:"last",value:function(){this.emit("lastTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:"play",value:function(){this.emit("playTimelineItem",this.state.speed,this.state.iterationCount,this.state.direction)}},{key:"pause",value:function(){this.emit("pauseTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:ed("stopTimeline"),value:function(){this.updateData({status:"pause"})}},{key:rr("$direction button"),value:function(t){this.updateData({direction:t.$dt.attr("data-value")}),this.refresh()}},{key:rr("$repeatStatus"),value:function(t){var e=0;0===this.refs.$iteration.value&&(e=1),this.updateData({iterationCount:e}),this.refs.$iteration.val(e),this.bindData("$repeatStatus")}},{key:hr("$iteration"),value:function(t){this.updateData({iterationCount:+this.refs.$iteration.value}),this.bindData("$repeatStatus")}},{key:hr("$speed"),value:function(t){this.updateData({speed:+this.refs.$speed.value})}},{key:Xr("$repeatStatus"),value:function(){return{text:0===this.state.iterationCount?this.$i18n("timeline.play.control.infinite"):this.$i18n("timeline.play.control.repeat")}}},{key:Xr("$playButtons"),value:function(){return{"data-status":this.state.status}}},{key:Xr("$direction"),value:function(){return{"data-selected-direction":this.state.direction}}},{key:ed("selectTimeline"),value:function(){this.refresh()}}])&&aH(n.prototype,r),o&&aH(n,o),e}(nd);function fH(t){return(fH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hH(t,e){return!e||"object"!==fH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dH(t){return(dH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vH(t,e){return(vH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bH=function(t){function e(){return pH(this,e),hH(this,dH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vH(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("timeline.animation.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"getTools",value:function(){return"\n      <button type='button' ref='$add' title=\"Add an animation\">".concat(Ag.add,"</button>\n    ")}},{key:"getBody",value:function(){return'\n      <div class="timeline-animation-list" ref="$timelineAnimationList"></div>\n    '}},{key:Fr("$timelineAnimationList")+Vr,value:function(){var t=this.$selection.currentProject;return t?t.timeline.map((function(t,e){var n=t.selected?"selected":"";return("\n        <div class='timeline-animation-item ".concat(n,"'>\n          <div class='preview icon'>\n            ").concat(Ag.local_movie,"\n          </div>\n          <div class='detail'>\n            <label data-id='").concat(t.id,"'>").concat(t.title,'</label>\n            <div class="tools">\n              <button type="button" class="remove" data-id="').concat(t.id,"\" title='Remove'>").concat(Ag.remove2,"</button>\n            </div>\n          </div>\n        </div>\n      "))})):""}},{key:or("$timelineAnimationList .timeline-animation-item"),value:function(t){this.startInputEditing(t.$dt.$("label"))}},{key:"modifyDoneInputEditing",value:function(t){var e=this;this.endInputEditing(t,(function(n,r){var o=t.attr("data-id"),i=e.$selection.currentProject;i&&i.setTimelineTitle(o,r)}))}},{key:ar("$timelineAnimationList .timeline-animation-item label")+Tr+zr+Br,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:br("$timelineAnimationList .timeline-animation-item label")+zr+Br,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:rr("$add"),value:function(t){this.emit("addTimelineItem")}},{key:rr("$timelineAnimationList .timeline-animation-item .remove"),value:function(t){var e=t.$dt.attr("data-id");this.emit("removeAnimationItem",e)}},{key:rr("$timelineAnimationList .timeline-animation-item label"),value:function(t){var e=t.$dt.attr("data-id"),n=this.$selection.currentProject;n&&(n.selectTimeline(e),t.$dt.closest("timeline-animation-item").onlyOneClass("selected"),this.emit("refreshTimeline"),this.emit("selectTimeline"))}},{key:ed("addTimeline","removeTimeline","removeAnimation"),value:function(){this.refresh()}},{key:ed("refreshTimeline","refreshSelection","refreshArtboard")+Ar(100),value:function(){this.refresh()}}])&&yH(n.prototype,r),o&&yH(n,o),e}(QB);function mH(t){return(mH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OH(t,e){return!e||"object"!==mH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kH(t){return(kH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jH(t,e){return(jH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var SH=function(t){function e(){return gH(this,e),OH(this,kH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jH(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{TimelineAnimationProperty:bH,TimelinePlayControl:lH,TimelineValueEditor:rH,KeyframeTimeView:FF,TimelineKeyframeList:mF,TimelineObjectList:uF,TimelineTopToolbar:RF,KeyframeTimeGridView:WF}}},{key:"isFirstShow",value:function(){return!1}},{key:"getTitle",value:function(){return this.$i18n("timeline.property.title")}},{key:"getTools",value:function(){return"\n      <TimelinePlayControl />\n      \n    "}},{key:"getClassName",value:function(){return"timeline full managed-tool"}},{key:"getBody",value:function(){return"\n      <div class='timeline-animation-area'>\n        <TimelineAnimationProperty />\n      </div>\n      <div class='timeline-area'>\n        <div class='timeline-header'>\n          <div class='timeline-object-toolbar'>\n            <TimelineTopToolbar />\n          </div>\n          <div class='timeline-keyframe-toolbar' ref='$keyframeToolBar'>\n            <KeyframeTimeView ref='$keyframeTimeView' /> \n          </div>\n        </div>\n        <div class='timeline-body'>\n          <div class='timeline-object-area' ref='$area'>\n            <TimelineObjectList />\n          </div>\n          <div class='timeline-keyframe-area' ref='$keyframeArea'>\n            <TimelineKeyframeList ref='$keyframeList' />          \n          </div>\n          <KeyframeTimeGridView ref='$keyframeTimeGridView' />            \n        </div>\n      </div>\n      <div class='timeline-value-area'>\n        <TimelineValueEditor ref='$valueEditor' onchange='changeKeyframeValue' />\n      </div>\n    "}},{key:wr("$keyframeArea"),value:function(t){this.refs.$area.setScrollTop(this.refs.$keyframeArea.scrollTop())}},{key:wr("$area"),value:function(t){this.refs.$keyframeArea.setScrollTop(this.refs.$area.scrollTop())}},{key:ed("refreshValueEditor")+Ar(100),value:function(){this.children.$valueEditor.refresh()}},{key:"afterRender",value:function(){this.trigger("refreshValueEditor")}},{key:ed("changeKeyframeValue"),value:function(t){this.emit("setTimelineOffset",t)}},{key:lr("$area")+zr,value:function(t){}},{key:sr("$area")+zr,value:function(t){this.emit("addTimelineItem",t.dataTransfer.getData("layer/id"))}},{key:"onToggleShow",value:function(){this.emit("toggleFooter",this.isPropertyShow())}}])&&wH(n.prototype,r),o&&wH(n,o),e}(QB);function PH(t){return(PH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EH(t,e){return!e||"object"!==PH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $H(t){return($H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function CH(t,e){return(CH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var TH=["visible","hidden","scroll","auto"],RH=function(t){function e(){return xH(this,e),EH(this,$H(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CH(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("background.color.property.title")}},{key:"isHideHeader",value:function(){return!0}},{key:"getOverflowList",value:function(){var t=this;return TH.map((function(e){return"".concat(e,":").concat(t.$i18n("background.color.property.overflow.".concat(e)))})).join(",")}},{key:"getBody",value:function(){return"\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='rotate'></span>\n        </div>\n        <RangeEditor \n          ref='$rotate' \n          key='rotate' \n          label='".concat(this.$i18n("background.color.property.rotate"),"'\n          min=\"0\"\n          max=\"360\"\n          step=\"0.01\"\n          units=\"deg\"\n          onchange=\"changeRotate\" />\n      </div>        \n\n\n        <div class='property-item animation-property-item' style='display:none;'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='z-index'></span>\n          </div>\n          <NumberRangeEditor \n            ref='$zIndex' \n            key='z-index' \n            label='").concat(this.$i18n("background.color.property.zindex"),"'\n            min=\"-1000\"\n            max=\"1000\"\n            step=\"1\"\n            onchange=\"changeSelect\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='opacity'></span>\n          </div>\n          <NumberRangeEditor \n            ref='$opacity' \n            key='opacity' \n            label='").concat(this.$i18n("background.color.property.opacity"),"'\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            onchange=\"changeSelect\" />\n        </div>        \n        \n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='mix-blend-mode'></span>\n          </div>\n          <BlendSelectEditor \n            label='").concat(this.$i18n("background.color.property.blend"),"'\n            ref='$mixBlend' \n            removable='true'\n            key='mix-blend-mode' \n            icon=\"true\" \n            tabIndex=\"1\"\n            onchange=\"changeSelect\" />\n        </div>        \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='overflow'></span>\n          </div>\n          <SelectEditor \n            label='").concat(this.$i18n("background.color.property.overflow"),"'\n            ref='$overflow' \n            removable='true'\n            key='overflow' \n            icon=\"true\" \n            tabIndex=\"1\"\n            options=\"").concat(this.getOverflowList(),'" \n            onchange="changeSelect" />\n        </div>                \n      ')}},{key:ed("refreshRect")+Ar(100),value:function(){var t=this.$selection.current;if(t){var e=t.rotate;e&&this.children.$rotate.setValue(e)}}},{key:ed("changeRotate"),value:function(t,e){this.$selection.current&&this.command("setAttribute","change rotate",{rotate:e},!0,!0)}},{key:"refresh",value:function(){var t=this.$selection.current;if(t){this.children.$zIndex.setValue(t["z-index"]||0),this.children.$opacity.setValue(t.opacity||"1"),this.children.$mixBlend.setValue(t["mix-blend-mode"]),this.children.$overflow.setValue(t.overflow);var e=t.rotate;e&&this.children.$rotate.setValue(e)}}},{key:ed("changeSelect"),value:function(t,e){this.command("setAttribute","change attribute : ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"afterRender",value:function(){this.show()}},{key:ed("refreshSelection"),value:function(){this.refresh()}}])&&_H(n.prototype,r),o&&_H(n,o),e}(QB);function DH(t){return(DH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IH(t,e){return!e||"object"!==DH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function LH(t){return(LH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function MH(t,e){return(MH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zH=function(t){function e(){return VH(this,e),IH(this,LH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&MH(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("border.radius.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"border-radius"}},{key:"getBody",value:function(){return"<div class=\"property-item full border-radius-item\" ref='$body'></div>"}},{key:Fr("$body"),value:function(){var t=(this.$selection.current||{})["border-radius"]||"";return"\n      <BorderRadiusEditor ref='$1' value='".concat(t,"' onchange='changeBorderRadius' />\n    ")}},{key:ed("refreshSelection")+Ar(100),value:function(){this.refreshShow(["rect","circle","text","cube","cylinder"])}},{key:ed("changeBorderRadius"),value:function(t){this.command("setAttribute","change border radius",{"border-radius":t})}}])&&AH(n.prototype,r),o&&AH(n,o),e}(QB);function BH(t){return(BH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GH(t,e){return!e||"object"!==BH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YH(t){return(YH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function XH(t,e){return(XH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var NH=function(t){function e(){return FH(this,e),GH(this,YH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XH(t,e)}(e,t),n=e,(r=[{key:"isHideHeader",value:function(){return!0}},{key:"getTitle",value:function(){return this.$i18n("size.property.title")}},{key:ed("refreshSelection"),value:function(){this.refreshShowIsNot("project")}},{key:ed("refreshRect")+Ir(100),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$width.setValue(t.width),this.children.$height.setValue(t.height))}},{key:"getBody",value:function(){return"\n      <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; padding-top: 10px;'>\n        <div class='property-item animation-property-item' style='padding:0px'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='width'></span>\n          </div>\n          <InputRangeEditor ref='$width' key='width' min=\"0\" max='3000' onchange='changRangeEditor' />\n        </div>\n        <div class='property-item animation-property-item' style='padding:0px'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='height'></span>      \n          </div>\n          <InputRangeEditor ref='$height' key='height' min=\"0\" max='3000' onchange='changRangeEditor' />\n        </div>      \n      </div>\n      <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; text-align: center;padding: 4px 0px;'>\n        <span>".concat(this.$i18n("size.property.width"),"</span>\n        <span>").concat(this.$i18n("size.property.height"),"</span>\n      </div>\n    ")}},{key:ed("changRangeEditor"),value:function(t,e){this.$selection.reset(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),this.emit("resetSelection")}}])&&HH(n.prototype,r),o&&HH(n,o),e}(QB);function KH(t){return(KH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZH(t,e){return!e||"object"!==KH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qH(t){return(qH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function JH(t,e){return(JH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var QH=function(t){function e(){return WH(this,e),ZH(this,qH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&JH(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("boxshadow.property.title")}},{key:"getBody",value:function(){return'\n      <div class="full box-shadow-item" ref="$shadowList"></div>\n    '}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"box-shadow"}},{key:Fr("$shadowList"),value:function(){var t=this.$selection.current||{};return("\n      <BoxShadowEditor ref='$boxshadow' value=\"".concat(t["box-shadow"]||"",'" hide-label="true" onChange="changeBoxShadow" />\n    '))}},{key:"getTools",value:function(){return"<button type=\"button\" ref='$add'>".concat(Ag.add,"</button>")}},{key:rr("$add"),value:function(){this.children.$boxshadow.trigger("add")}},{key:ed("refreshSelection")+Ar(100),value:function(){this.refreshShow(["artboard","rect","circle","text"])}},{key:ed("changeBoxShadow"),value:function(t){this.command("setAttribute","change box shadow",{"box-shadow":t})}}])&&UH(n.prototype,r),o&&UH(n,o),e}(QB);function tG(t){return(tG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rG(t,e){return!e||"object"!==tG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oG(t){return(oG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function iG(t,e){return(iG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function aG(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var cG=[];["margin","padding"].forEach((function(t){cG.push.apply(cG,aG(["-top","-bottom","-left","-right"].map((function(e){return t+e}))))}));var uG=function(t){function e(){return eG(this,e),rG(this,oG(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iG(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("box.model.property.title")}},{key:ed("refreshSelection")+Ar(100),value:function(){this.refreshShow(["artboard","rect","circle","text"])}},{key:"getBody",value:function(){return'<div class="property-item box-model-item" ref="$boxModelItem"></div>'}},{key:"templateInput",value:function(t,e){var n=e[t]||_.z();return('<input type="number" ref="$'.concat(t,'" value="').concat(n.value,'" tabIndex="1" />'))}},{key:Fr("$boxModelItem"),value:function(){var t=this.$selection.current;return t?'\n      <div>\n        <div class="margin" data-title="'.concat(this.$i18n("box.model.property.margin"),'">\n          <div data-value="top">\n            ').concat(this.templateInput("margin-top",t),'\n          </div>\n          <div data-value="bottom">\n            ').concat(this.templateInput("margin-bottom",t),'\n          </div>\n          <div data-value="left">\n            ').concat(this.templateInput("margin-left",t),'\n          </div>\n          <div data-value="right">\n            ').concat(this.templateInput("margin-right",t),'\n          </div>\n        </div>\n        <div class="padding" data-title="').concat(this.$i18n("box.model.property.padding"),'">\n          <div data-value="top">\n            ').concat(this.templateInput("padding-top",t),'\n          </div>\n          <div data-value="bottom">\n            ').concat(this.templateInput("padding-bottom",t),'\n          </div>\n          <div data-value="left">\n            ').concat(this.templateInput("padding-left",t),'\n          </div>\n          <div data-value="right">\n            ').concat(this.templateInput("padding-right",t),"\n          </div>\n        </div>\n        <div class='content' title='Content'>\n        \n        </div>\n      </div>\n    "):""}},{key:hr("$boxModelItem input"),value:function(t){this.resetBoxModel()}},{key:"resetBoxModel",value:function(){var t=this,e={};cG.forEach((function(n){e[n]=_.px(t.getRef("$",n).value)})),this.command("setAttribute","change padding or margin",e)}}])&&nG(n.prototype,r),o&&nG(n,o),e}(QB);function sG(t){return(sG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pG(t,e){return!e||"object"!==sG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yG(t){return(yG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hG(t,e){return(hG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dG=function(t){function e(){return lG(this,e),pG(this,yG(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hG(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Content"}},{key:ed("refreshSelection","refreshContent")+Ar(100),value:function(){this.refreshShow(["text"])}},{key:"getBody",value:function(){return'\n      <div class="property-item content-item">\n        <textarea ref="$contentItem"></textarea>\n      </div>\n    '}},{key:Xr("$contentItem"),value:function(){var t=this.$selection.current;return t?{value:t.content||""}:""}},{key:hr("$contentItem"),value:function(t){this.setContent()}},{key:"setContent",value:function(){var t=this.$selection.current;if(t){var e={content:this.refs.$contentItem.value};t.reset(e),this.emit("refreshCanvasForPartial",t)}}}])&&fG(n.prototype,r),o&&fG(n,o),e}(QB);function vG(t){return(vG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gG(t,e){return!e||"object"!==vG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wG(t){return(wG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function OG(t,e){return(OG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kG=function(t){function e(){return bG(this,e),gG(this,wG(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OG(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("font.property.title")}},{key:"getClassName",value:function(){return"item"}},{key:"afterRender",value:function(){this.show()}},{key:ed("refreshSelection"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$color.setValue(t.color||"rgba(0, 0, 0, 1)"),this.children.$size.setValue(t["font-size"]),this.children.$stretch.setValue(t["font-stretch"]||"0%"),this.children.$style.setValue(t["font-style"]),this.children.$family.setValue(t["font-family"]))}},{key:"getBody",value:function(){return"\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='color'></span>\n        </div>\n        <ColorViewEditor ref='$color' label='".concat(this.$i18n("font.property.color"),"' key='color' onchange=\"changeColor\" />\n      </div>      \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-size'></span>\n        </div>\n        <RangeEditor \n          ref='$size' \n          label='").concat(this.$i18n("font.property.size"),"' \n          key=\"font-size\" \n          \n          onchange=\"changeRangeEditor\" />\n      </div>\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-stretch'></span>\n        </div>\n        <RangeEditor \n          ref='$stretch' \n          label='").concat(this.$i18n("font.property.stretch"),"' \n          key=\"font-stretch\" \n          \n          units='%',\n          onchange=\"changeRangeEditor\" />\n      </div>      \n \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-weight'></span>\n        </div>\n        <NumberRangeEditor \n          ref='$weightRange' \n          label='").concat(this.$i18n("font.property.weight"),'\' \n          key=\'font-weight\' \n         \n          value="400" \n          min="100"\n          max="900"\n          step="1"\n          calc="false"\n          unit="number" \n          onchange="changeRangeEditor" \n          />\n      </div>              \n      <div class=\'property-item\'>\n        <SelectIconEditor \n          ref=\'$style\' \n          label=\'').concat(this.$i18n("font.property.style"),"' \n          key=\"font-style\" \n          options=\"normal:I,italic\" \n          icons='I,italic'\n          onchange=\"changeRangeEditor\" />\n      </div>      \n\n      <div class='property-item'>\n        <SelectEditor \n          ref='$family' \n          icon=\"true\"\n          label='").concat(this.$i18n("font.property.family"),'\' \n          key="font-family" \n          options=",serif,sans-serif,monospace,cursive,fantasy,system-ui" \n          onchange="changeRangeEditor" \n        />\n      </div> \n         \n    ')}},{key:ed("changeColor"),value:function(t,e){this.trigger("changeRangeEditor",t,e)}},{key:ed("changeRangeEditor"),value:function(t,e){this.command("setAttribute","change font attribute",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&mG(n.prototype,r),o&&mG(n,o),e}(QB);function jG(t){return(jG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xG(t,e){return!e||"object"!==jG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _G(t){return(_G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function EG(t,e){return(EG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $G=function(t){function e(){return SG(this,e),xG(this,_G(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EG(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("text.shadow.property.title")}},{key:"getBody",value:function(){return'\n      <div class="full text-shadow-item" ref="$shadowList"></div>\n    '}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"text-shadow"}},{key:"getTools",value:function(){return"<button type=\"button\" ref='$add'>".concat(Ag.add,"</button>")}},{key:rr("$add"),value:function(){this.children.$textshadow.trigger("add")}},{key:Fr("$shadowList"),value:function(){var t=this.$selection.current||{};return("\n      <TextShadowEditor ref='$textshadow' value=\"".concat(t["text-shadow"]||"",'" hide-label="true" onChange="changeTextShadow" />\n    '))}},{key:"afterRender",value:function(){this.show()}},{key:ed("refreshSelection"),value:function(){this.refresh()}},{key:ed("changeTextShadow"),value:function(t){this.command("setAttribute","change text shadow",{"text-shadow":t})}}])&&PG(n.prototype,r),o&&PG(n,o),e}(QB);function CG(t){return(CG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DG(t,e){return!e||"object"!==CG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VG(t){return(VG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function AG(t,e){return(AG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var IG=function(t){function e(){return TG(this,e),DG(this,VG(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AG(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("text.property.title")}},{key:"afterRender",value:function(){this.show()}},{key:ed("refreshSelection"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$align.setValue(t["text-align"]),this.children.$transform.setValue(t["text-transform"]),this.children.$decoration.setValue(t["text-decoration"]))}},{key:"getBody",value:function(){return"\n      <div class=\"property-item\">\n        <SelectIconEditor \n          ref='$align' \n          label='".concat(this.$i18n("text.property.align"),"' \n          key='text-align' \n          value='left' \n          options=\"left,center,right,justify\" \n          icons=\"align_left,align_center,align_right,align_justify\" \n          onchange='changeTextValue' />        \n      </div>        \n      <div class=\"property-item\">\n        <SelectIconEditor \n          ref='$transform' \n          label='").concat(this.$i18n("text.property.transform"),"' \n          key='text-transform' \n          options=\"none,uppercase:A,lowercase:a,capitalize:Aa\"\n          onchange='changeTextValue' />                \n      </div>        \n      <div class=\"property-item\">\n        <SelectIconEditor \n          ref='$decoration' \n          label='").concat(this.$i18n("text.property.decoration"),"' \n          key='text-decoration' \n          options=\"none,underline,overline:O,line-through\" \n          icons=\"A,underline,O,strikethrough\"\n          onchange='changeTextValue' />        \n      </div>                    \n    ")}},{key:ed("changeTextValue"),value:function(t,e){this.command("setAttribute","change text property : ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&RG(n.prototype,r),o&&RG(n,o),e}(QB);function LG(t){return(LG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function MG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BG(t,e){return!e||"object"!==LG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function FG(t){return(FG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function HG(t,e){return(HG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var GG=function(t){function e(){return MG(this,e),BG(this,FG(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HG(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("font.spacing.property.title")}},{key:"afterRender",value:function(){this.show()}},{key:ed("refreshSelection"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$lineHeight.setValue(t["line-height"]||_.number(1)),this.children.$letter.setValue(t["letter-spacing"]||"0px"),this.children.$word.setValue(t["word-spacing"]||"0px"),this.children.$indent.setValue(t["text-indent"]||"0px"))}},{key:"getBody",value:function(){return"\n\n    <div class='property-item animation-property-item'>\n      <div class='group'>\n        <span class='add-timeline-property' data-property='line-height'></span>\n      </div>\n      <RangeEditor \n        ref='$lineHeight' \n        label='".concat(this.$i18n("font.spacing.property.lineHeight"),"' \n        key=\"line-height\" \n        units=\",px,%,em\"\n        onchange=\"changeRangeEditor\" />\n    </div>       \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='letter-spacing'></span>\n        </div>\n        <RangeEditor ref='$letter' label='").concat(this.$i18n("font.spacing.property.letterSpacing"),"' key=\"letter-spacing\" min=\"-100\" max=\"100\" onchange=\"changeRangeEditor\" />\n      </div>\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='word-spacing'></span>\n        </div>\n        <RangeEditor ref='$word' label='").concat(this.$i18n("font.spacing.property.wordSpacing"),"' key=\"word-spacing\"  min=\"-100\" max=\"100\" onchange=\"changeRangeEditor\" />\n      </div>\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-indent'></span>\n        </div>      \n        <RangeEditor ref='$indent' label='").concat(this.$i18n("font.spacing.property.indent"),'\' key="text-indent"  min="-100" max="100" onchange="changeRangeEditor" />\n      </div>      \n    ')}},{key:ed("changeRangeEditor"),value:function(t,e){""===e.unit&&(e=_.number(e.value)),this.command("setAttribute","change font attribute: ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&zG(n.prototype,r),o&&zG(n,o),e}(QB);function YG(t){return(YG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function NG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KG(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function WG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZG(t,e){return!e||"object"!==YG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qG(t){return(qG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function JG(t,e){return(JG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var QG=[{key:"top",title:"Top"},{key:"bottom",title:"Bottom"},{key:"left",title:"Left"},{key:"right",title:"Right"}],tY=QG.map((function(t){return t.key})),eY={image:"Image","static-gradient":"Static","linear-gradient":"Linear","repeating-linear-gradient":"".concat(Ag.repeat," Linear"),"radial-gradient":"Radial","repeating-radial-gradient":"".concat(Ag.repeat," Radial"),"conic-gradient":"Conic","repeating-conic-gradient":"".concat(Ag.repeat," Conic")},nY=function(t){function e(){return WG(this,e),ZG(this,qG(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&JG(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Border Image"}},{key:ed("refreshSelection"),value:function(){this.refresh()}},{key:"getTools",value:function(){var t=(this.$selection.current||{}).appliedBorderImage||!1;return"\n      <label><input type='checkbox' ".concat(t?"checked":""," ref='$apply' /> Apply</label>\n    ")}},{key:rr("$apply"),value:function(){var t=this.$selection.current;if(t){var e=this.refs.$apply.checked();t.reset({applyBorderImage:e}),this.emit("refreshElement",t)}}},{key:"getColorStepList",value:function(t){switch(t.type){case"static-gradient":case"linear-gradient":case"repeating-linear-gradient":case"radial-gradient":case"repeating-radial-gradient":case"conic-gradient":case"repeating-conic-gradient":return this.getColorStepString(t.colorsteps)}return""}},{key:"getColorStepString",value:function(t){return t.map((function(t){return"<div class='step' data-colorstep-id=\"".concat(t.id,"\" data-selected='").concat(t.selected,"' style='background-color:").concat(t.color,";'></div>")})).join("")}},{key:Fr("$borderImageView"),value:function(){var t=(this.$selection.current||{borderImage:{image:{}}}).borderImage,e=t.type?eY[t.type]:"",n="background-image: ".concat(t.image.toString(),"; background-size: cover;");return" \n      <div class='preview' ref=\"$preview\">\n        <div class='mini-view'>\n          <div class='color-view'  style=\"".concat(n,"\" ref=\"$miniView\"></div>\n        </div>\n      </div> \n      <div class='fill-info'>\n        <div class='gradient-info'>\n          <div class='fill-title' ref=\"$fillTitle\">").concat(e,"</div>\n          <div class='colorsteps' ref=\"$colorsteps\">\n            ").concat(this.getColorStepList(t.image),"\n          </div>\n        </div>\n      </div>\n    ")}},{key:ed("changeBorderImage"),value:function(t,e){var n=this;"border-image-slice"===t&&tY.forEach((function(t){n.children["$".concat(t,"Slice")].setValue(e)})),this.setBorderImageProperty()}},{key:"getBody",value:function(){return this.$selection.current,'\n      <div class="property-item border-image-item" ref=\'$borderImageView\'></div>    \n      <div class="property-item border-slice-item">\n        <div class="slice-selector" data-selected-value="all" ref="$selector">\n          <button type="button" data-value="all">'.concat(Ag.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(Ag.border_inner,'\n          </button>\n        </div>\n        <div class="slice-value">\n          <RangeEditor ref=\'$allSlice\' key=\'border-image-slice\' onchange=\'changeBorderImage\' />\n        </div>\n      </div>\n      <div\n        class="property-item border-slice-item full has-list"\n        ref="$partitialSetting"\n        style="display: none;"\n      >\n        <div class="slice-setting-box" ref="$sliceSettingBox">\n          ').concat(QG.map((function(t){return"\n              <div>\n                <label class='title'>".concat(t.title,"</label>\n              </div>\n              <div>\n                <RangeEditor ref='$").concat(t.key,"Slice' label='Slice' key='border-image-slice-").concat(t.key,"' onchange='changeBorderImage' /> \n              </div>  \n              <div>\n                <RangeEditor ref='$").concat(t.key,"Width' label='Width' key='border-image-width-").concat(t.key,"' onchange='changeBorderImage' /> \n              </div>                \n            ")})).join(""),"\n        </div>\n      </div>\n    ")}},{key:yr("$sliceSettingBox select"),value:function(t){this.setBorderImageProperty()}},{key:rr("$borderImageView .preview"),value:function(){this.viewFillPopup(this.refs.$preview,"")}},{key:rr("$borderImageView .colorsteps .step"),value:function(t){this.refs.$colorsteps.$('[data-selected="true"]').removeAttr("data-selected");var e=t.$dt.attr("data-colorstep-id");t.$dt.attr("data-selected",!0);var n=t.$dt.closest("border-image-item").$(".preview");this.viewFillPopup(n,e)}},{key:"getFillData",value:function(t){var e={type:t.type};switch(e.type){case"image":e.url=t.image?t.image.url:"";break;default:if(t.image){var n=t.image;e.type=n.type,e.colorsteps=KG(n.colorsteps),e.angle=n.angle,e.radialType=n.radialType||"ellipse",e.radialPosition=n.radialPosition||S.CENTER}else e.colorsteps=[],e.angle=0,e.radialType="ellipse",e.radialPosition=S.CENTER}return e}},{key:"viewFillPopup",value:function(t,e){var n=this.$selection.current;n&&this.emit("showFillPopup",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?XG(Object(n),!0).forEach((function(e){NG(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XG(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({changeEvent:"changeBorderImageFillPopup"},this.getFillData(n.borderImage),{selectColorStepId:e,refresh:!0}))}},{key:"viewChangeImage",value:function(t){var e=this.$selection.current;if(e){var n,r=e.borderImage;r&&((n=this.getRef("$miniView"))&&r.image&&n.css({"background-image":r.image.toString(),"background-size":"cover"}),(n=this.getRef("$fillTitle"))&&n.html(eY.image),(n=this.getRef("$colorsteps",this.selectedIndex))&&n.empty())}}},{key:"setImage",value:function(t){var e=this.$selection.current;e&&(e.borderImage.setImageUrl(t),this.viewChangeImage(t),this.emit("refreshElement",e))}},{key:"viewChangeGradient",value:function(t){var e=this.$selection.current;if(e){var n,r=e.borderImage;r&&((n=this.getRef("$miniView"))&&n.css({"background-image":r.image.toString(),"background-size":"cover"}),(n=this.getRef("$fillTitle"))&&n.html(eY[t.type]),(n=this.getRef("$colorsteps",this.selectedIndex))&&n.html(this.getColorStepString(t.colorsteps)))}}},{key:"setGradient",value:function(t){var e=this.$selection.current;e&&(e.borderImage.setGradient(t),this.viewChangeGradient(t),this.emit("refreshElement",e))}},{key:ed("changeBorderImageFillPopup"),value:function(t){switch(t.type){case"image":this.setImage(t);break;default:this.setGradient(t)}}},{key:"setBorderImageProperty",value:function(){var t=this,e=this.$selection.current;if(e){var n=e.borderImage;if("all"===this.refs.$selector.attr("data-selected-value")){var r=this.children.$allSlice.getValue();n.reset({slice:{top:r.clone(),right:r.clone(),bottom:r.clone(),left:r.clone()}})}else tY.forEach((function(e){n.slice[e]=t.children["$".concat(e,"Slice")].getValue(),n.width[e]=t.children["$".concat(e,"Width")].getValue()}));this.emit("refreshElement",e)}}},{key:rr("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setBorderImageProperty()}}])&&UG(n.prototype,r),o&&UG(n,o),e}(QB);function rY(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@";return"".concat(e).concat(t.startIndex).padEnd(10,"0")}function oY(t,e){var n=function(t,e){var n=t.match(e),r=[];if(!n)return r;for(var o=0,i=n.length;o<i;o++)r.push({parsedString:n[o]});var a={next:0};return r.forEach((function(e){var n=t.indexOf(e.parsedString,a.next);e.startIndex=n,e.endIndex=n+e.parsedString.length,a.next=e.endIndex})),r}(t,e);return n.forEach((function(e){t=t.replace(e.parsedString,rY(e))})),{str:t,matches:n}}function iY(t,e){return e.forEach((function(e){t=t.replace(rY(e),e.parsedString)})),t}function aY(t){return(aY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sY(t,e){return!e||"object"!==aY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lY(t,e,n){return(lY="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fY(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function fY(t){return(fY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pY(t,e){return(pY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yY=/((cubic-bezier|steps)\(([^\)]*)\))/gi,hY=function(t){function e(){return cY(this,e),sY(this,fY(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pY(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"join",value:function(t){return t.map((function(t){return new e(t).toString()})).join(",")}},{key:"add",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.parseStyle(t);return r.push(e.parse(n)),e.join(r)}},{key:"remove",value:function(t,n){return e.filter(t,(function(t,e){return n!=e}))}},{key:"filter",value:function(t,n){return e.join(e.parseStyle(t).filter((function(t){return n(t)})))}},{key:"replace",value:function(t,n,r){var o=e.parseStyle(t);return o[n]?o[n]=r:o.push(r),e.join(o)}},{key:"get",value:function(t,n){return e.parseStyle(t)[n]}},{key:"parseStyle",value:function(t){var n=[];if(!t)return n;var r=oY(t,yY);return(n=r.str.split(",").map((function(t){var e=t.split(" ").filter(Boolean);return e.length>=7?{duration:_.parse(e[0]),timingFunction:iY(e[1],r.matches),delay:_.parse(e[2]),iterationCount:"infinite"===e[3]?_.string("infinite"):_.parse(e[3]),direction:e[4],fillMode:e[5],playState:e[6],name:e[7]}:e.length>=3?{duration:_.parse(e[0]),timingFunction:iY(e[1],r.matches),delay:_.parse(e[2]),name:e[3]}:e.length>=1?{duration:_.parse(e[0]),name:e[1]}:{}}))).map((function(t){return e.parse(t)}))}}],(r=[{key:"getDefaultObject",value:function(){return{itemType:"animation",checked:!0,name:"none",direction:"normal",duration:_.second(0),timingFunction:"linear",delay:_.second(0),iterationCount:_.string("infinite"),playState:"running",fillMode:"none"}}},{key:"convert",value:function(t){return(t=lY(fY(e.prototype),"convert",this).call(this,t)).duration=_.parse(t.duration),t.iterationCount=_.parse(t.iterationCount),t}},{key:"toCloneObject",value:function(){var t=this.json;return{name:t.name,direction:t.direction,duration:t.duration+"",timingFunction:t.timingFunction,delay:t.delay,iterationCount:t.iterationCount+"",playState:t.playState,fillMode:t.fillMode}}},{key:"togglePlayState",value:function(t){t?this.reset({playState:"running"===t?"running":"paused"}):"paused"===this.json.playState?this.reset({playState:"running"}):this.reset({playState:"paused"})}},{key:"toCSS",value:function(){return this.json.name?{animation:this.toString()}:{}}},{key:"toString",value:function(){var t=this.json;return[t.duration,t.timingFunction,t.delay,t.iterationCount,t.direction,t.fillMode,t.playState,t.name].join(" ")}}])&&uY(n.prototype,r),o&&uY(n,o),e}(_i);function dY(t){return(dY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wY(t,e){return!e||"object"!==dY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function OY(t){return(OY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kY(t,e){return(kY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jY=function(t){function e(){return mY(this,e),wY(this,OY(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kY(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("animation.property.title")}},{key:"getBody",value:function(){return"<div class='animation-list' ref='$animationList'></div>"}},{key:"getTools",value:function(){return'\n        <button type="button" ref="$add" title="add Fill">'.concat(Ag.add,"</button>\n    ")}},{key:Fr("$animationList")+Vr,value:function(){var t=this,e=this.$selection.current;return e?hY.parseStyle(e.animation).map((function(e,n){var r=t.state.selectedIndex===n?"selected":"",o=je(e.timingFunction,30,30);return"\n      <div class='animation-group-item'>\n        <div class='animation-item ".concat(r,"' \n             data-index='").concat(n,"' \n             ref=\"animationIndex").concat(n,"\" \n          >\n            <div class='timing preview' data-index='").concat(n,"' ref='$preview").concat(n,'\'>\n              <svg class=\'item-canvas\' width="30" height="30" viewBox="0 0 30 30">\n                <path d="').concat(o,"\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n              </svg>\n            </div>\n            <div class='name'>\n              <div class='title' ref=\"animationName").concat(n,'">\n                ').concat(e.name?e.name:"&lt; ".concat(t.$i18n("animation.property.select a keyframe")," &gt;"),"\n              </div>\n              <div class='labels'>\n                <label class='count' title='").concat(t.$i18n("animation.property.iteration.count"),"'><small>").concat(e.iterationCount,"</small></label>\n                <label class='delay' title='").concat(t.$i18n("animation.property.delay"),"'><small>").concat(e.delay,"</small></label>\n                <label class='duration' title='").concat(t.$i18n("animation.property.duration"),"'><small>").concat(e.duration,"</small></label>\n                <label class='direction' title='").concat(t.$i18n("animation.property.direction"),"'><small>").concat(e.direction,"</small></label>\n                <label class='fill-mode' title='").concat(t.$i18n("animation.property.fill.mode"),"'><small>").concat(e.fillMode,"</small></label>\n                <label class='play-state' title='").concat(t.$i18n("animation.property.play.state"),"' data-index='").concat(n,"' data-play-state-selected-value=\"").concat(e.playState,"\">\n                  <small data-play-state-value='running'>").concat(Ag.play,"</small>\n                  <small data-play-state-value='paused'>").concat(Ag.pause,'</small>\n                </label>\n              </div>\n            </div>\n            <div class=\'tools\'>\n                <button type="button" class="del" data-index="').concat(n,'">\n                  ').concat(Ag.remove2,"\n                </button>\n            </div>\n        </div>\n      </div>        \n      ")})):""}},{key:ed("refreshSelection")+Ar(100),value:function(){this.refreshShowIsNot("project"),this.emit("hideAnimationPropertyPopup")}},{key:rr("$add"),value:function(t){var e=this.$selection.current;e&&(e.reset({animation:hY.add(e.animation,{name:null})}),this.emit("refreshElement",e)),this.refresh()}},{key:rr("$animationList .tools .del"),value:function(t){var e=t.$dt.attr("data-index"),n=this.$selection.current;n&&(n.reset({animation:hY.remove(n.animation,e)}),this.emit("refreshElement",n),this.refresh())}},{key:rr("$animationList .play-state"),value:function(t){var e=+t.$dt.attr("data-index"),n=this.$selection.current;if(n){var r=hY.parseStyle(n.animation),o=r[e];o&&(o.togglePlayState(),t.$dt.attr("data-play-state-selected-value",o.playState),n.reset({animation:hY.join(r)}),this.emit("refreshElement",n))}}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.refs["animationIndex".concat(t)].addClass("selected"):this.refs["animationIndex".concat(t)].removeClass("selected")}},{key:"viewAnimationPicker",value:function(t){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t.attr("data-index"),this.current=this.$selection.current,this.current&&(this.currentAnimation=hY.get(this.current.animation,this.selectedIndex),this.viewAnimationPropertyPopup())}},{key:"viewAnimationPropertyPopup",value:function(){if(this.currentAnimation){var t=this.currentAnimation;this.emit("showAnimationPropertyPopup",{changeEvent:"changeAnimationPropertyPopup",data:t.toCloneObject(),instance:this})}}},{key:rr("$animationList .preview"),value:function(t){this.viewAnimationPicker(t.$dt)}},{key:"getRef",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.refs[e.join("")]}},{key:ed("changeAnimationPropertyPopup"),value:function(t){this.currentAnimation&&(this.currentAnimation.reset(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vY(Object(n),!0).forEach((function(e){bY(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vY(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)),this.current&&(this.current.reset({animation:hY.replace(this.current.animation,this.selectedIndex,this.currentAnimation)}),this.emit("refreshElement",this.current),this.refresh()))}}])&&gY(n.prototype,r),o&&gY(n,o),e}(QB);function SY(t){return(SY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _Y(t,e){return!e||"object"!==SY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function EY(t){return(EY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $Y(t,e){return($Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var CY=function(t){function e(){return PY(this,e),_Y(this,EY(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$Y(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("keyframe.property.title")}},{key:"getBody",value:function(){return"<div class='keyframe-list' ref='$keyframeList'></div>"}},{key:"getTools",value:function(){return'\n      <button type="button" ref="$add" title="add Filter">'.concat(Ag.add,"</button>\n    ")}},{key:"makeProperty",value:function(t){var e=t.key;return"x"===e?e="left":"y"===e&&(e="top"),"\n      <div class='offset-property-item'>\n        <label>".concat(e,":</label>\n        <div class='value'>").concat(t.value,"</div>\n      </div>\n    ")}},{key:"makeOffset",value:function(t){var e=this;return("\n      <div class='offset'>\n        <label>".concat(t.offset,"</label>\n        <div class='properties'>\n          ").concat(t.properties.map((function(t){return e.makeProperty(t)})).join(""),"\n        </div>        \n      </div>\n    "))}},{key:"makeKeyframeTemplate",value:function(t,e){var n=this;return e=e.toString(),"\n      <div class='keyframe-item' data-selected-value='".concat(t.selectedType,"' ref='$keyframeIndex").concat(e,"' data-index='").concat(e,"'>\n        <div class='title'>\n          <div class='name'>").concat(t.name,"</div>\n          <div class='tools'>\n            <div class='group'>\n              <button type=\"button\" data-type='list'>").concat(Ag.list,"</button>\n              <button type=\"button\" data-type='code'>").concat(Ag.code,'</button>\n            </div>\n            <button type="button" class="del" data-index="').concat(e,'">').concat(Ag.remove2,"</button>\n          </div>\n        </div>\n        <div class='offset-list'>\n          <div class='container'>\n            ").concat(t.offsets.map((function(t){return"\n              <div class='offset' style='left: ".concat(t.offset,"; background-color: ").concat(t.color,"'></div>\n              ")})).join(""),"\n          </div>\n        </div>\n        <div class='keyframe-code' data-type='list'>\n          ").concat(t.offsets.map((function(t){return n.makeOffset(t)})).join(""),"\n        </div>\n        <div class='keyframe-code' data-type='code'>\n          <pre>").concat(t.toString().trim(),"</pre>\n        </div>        \n      </div>\n    ")}},{key:rr("$keyframeList .keyframe-item .title .group button[data-type]"),value:function(t){var e=t.$dt.closest("keyframe-item"),n=+e.attr("data-index"),r=t.$dt.attr("data-type"),o=this.$selection.currentProject;if(o){var i=o.keyframes[n];i&&i.reset({selectedType:r}),e.attr("data-selected-value",r)}}},{key:rr("$keyframeList .keyframe-item .offset-list"),value:function(t){var e=+t.$dt.closest("keyframe-item").attr("data-index");this.$selection.currentProject&&this.viewKeyframePicker(e)}},{key:rr("$keyframeList .del")+zr,value:function(t){var e=t.$dt.attr("data-index"),n=this.$selection.currentProject;n&&(n.removeKeyframe(e),this.emit("refreshProject",n),this.refresh())}},{key:ed("refreshSelection")+Ar(100),value:function(){this.refreshShowIsNot("project")}},{key:Fr("$keyframeList"),value:function(){var t=this,e=this.$selection.currentProject;if(!e)return"";var n=e.keyframe?$k.parseStyle(e):e.keyframes;return e.keyframe="",e.keyframes=n,n.map((function(e,n){return t.makeKeyframeTemplate(e,n)}))}},{key:rr("$add"),value:function(){var t=this.$selection.currentProject;t?(t.createKeyframe(),this.refresh(),this.emit("refreshProject",t)):alert("Please select a project.")}},{key:"viewKeyframePicker",value:function(t){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t,this.selectItem(this.selectedIndex,!0),this.current=this.$selection.currentProject,this.current&&(this.currentKeyframe=this.current.keyframes[this.selectedIndex],this.viewKeyframePropertyPopup())}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.getRef("$keyframeIndex",t).addClass("selected"):this.getRef("$keyframeIndex",t).removeClass("selected"),this.current&&this.current.keyframes.forEach((function(e,n){e.selected=n===t}))}},{key:"viewKeyframePropertyPopup",value:function(t){if(this.current=this.$selection.currentProject,this.current){this.currentKeyframe=this.current.keyframes[this.selectedIndex];var e=this.currentKeyframe,n=e.name,r=e.offsets;this.emit("showKeyframePopup",{position:t,name:n,offsets:r})}}},{key:ed("changeKeyframePopup"),value:function(t){var e=this.$selection.currentProject;e&&(this.currentKeyframe=e.keyframes[this.selectedIndex],this.currentKeyframe&&this.currentKeyframe.reset(t),this.refresh(),this.emit("refreshProject",e))}}])&&xY(n.prototype,r),o&&xY(n,o),e}(QB);function TY(t){return(TY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AY(t,e){return!e||"object"!==TY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function IY(t){return(IY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function LY(t,e){return(LY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var MY=function(t){function e(){return DY(this,e),AY(this,IY(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LY(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("background.image.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"background-image"}},{key:"getClassName",value:function(){return"background-image"}},{key:"getBody",value:function(){return"\n      <div class='full' ref='$property'></div>      \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='background-color'></span>\n        </div>\n        <ColorViewEditor ref='$color' label=\"".concat(this.$i18n("background.color.property.color"),'" key=\'background-color\' onchange="changeColor" />\n      </div>            \n    ')}},{key:"getTools",value:function(){return"<button type=\"button\" ref='$add'>".concat(Ag.add,"</button>")}},{key:rr("$add"),value:function(){this.children.$backgroundImageEditor.trigger("add")}},{key:Fr("$property"),value:function(){var t=(this.$selection.current||{})["background-image"]||"";return"<BackgroundImageEditor \n              ref='$backgroundImageEditor' \n              key='background-image'\n              value='".concat(t,"' \n              hide-label=\"true\"\n              onchange='changeBackgroundImage' \n            />")}},{key:ed("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}},{key:"refresh",value:function(){this.load();var t=this.$selection.current;if(t){var e=t["background-color"]||"rgba(0, 0, 0, 1)";this.children.$color.setValue(t["background-color"]||"rgba(0, 0, 0, 1)"),this.state.backgroundColor=e}}},{key:ed("changeColor"),value:function(t,e){this.command("setAttribute","change background color",RY({},t,e))}},{key:ed("changeBackgroundImage")+Ar(10),value:function(t,e){this.command("setAttribute","change background image",RY({},t,e))}}])&&VY(n.prototype,r),o&&VY(n,o),e}(QB);function zY(t){return(zY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BY(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function FY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GY(t,e){return!e||"object"!==zY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YY(t){return(YY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function XY(t,e){return(XY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var NY=function(t){function e(){return FY(this,e),GY(this,YY(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XY(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("filter.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"filter"}},{key:"getTitleClassName",value:function(){return"filter"}},{key:"getBody",value:function(){return"<div class='full filter-property' ref='$body'></div>"}},{key:"getTools",value:function(){return'\n      <select ref="$filterSelect">      \n      </select>\n      <button type="button" ref="$add" title="add Filter">'.concat(Ag.add,"</button>\n    ")}},{key:rr("$add"),value:function(){var t=this.refs.$filterSelect.value;this.children.$filterEditor.trigger("add",t)}},{key:Fr("$filterSelect"),value:function(){var t=this,e=M$.map((function(e){return{title:t.$i18n("filter.property.".concat(e)),value:e}})),n=this.getSVGFilterList();return(n.length?[].concat(BY(e),[{title:"-------",value:""}],BY(n)):BY(e)).map((function(t){var e=t.title,n=t.value;return"<option value='".concat(n,"'>").concat(e,"</option>")}))}},{key:"getSVGFilterList",value:function(){var t=this.$selection.currentProject,e=[];return t&&(e=t.svgfilters.map((function(t){var e=t.id;return{title:"svg - #".concat(e),value:e}}))),e}},{key:Fr("$body"),value:function(){var t=(this.$selection.current||{}).filter;return"<FilterEditor ref='$filterEditor' value='".concat(t,"' hide-label='true' onchange='changeFilterEditor' />")}},{key:ed("changeFilterEditor"),value:function(t){this.command("setAttribute","change filter",{filter:t})}},{key:ed("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}},{key:ed("refreshSVGArea")+Ar(1e3),value:function(){this.load("$filterSelect")}}])&&HY(n.prototype,r),o&&HY(n,o),e}(QB);function KY(t){return(KY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UY(t,e){return!e||"object"!==KY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZY(t){return(ZY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qY(t,e){return(qY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var JY=function(t){function e(){return WY(this,e),UY(this,ZY(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qY(t,e)}(e,t),e}(Os);function QY(t){return(QY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eX(t,e){return!e||"object"!==QY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nX(t){return(nX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rX(t,e){return(rX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oX=function(t){function e(){return tX(this,e),eX(this,nX(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rX(t,e)}(e,t),e}(Os);function iX(t){return(iX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cX(t,e){return!e||"object"!==iX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uX(t){return(uX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sX(t,e){return(sX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lX=function(t){function e(){return aX(this,e),cX(this,uX(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sX(t,e)}(e,t),e}(oX);function fX(t){return(fX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yX(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pX(Object(n),!0).forEach((function(e){hX(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pX(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bX(t,e){return!e||"object"!==fX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mX(t){return(mX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gX(t,e){return(gX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wX=["front","back","left","right","top","bottom"],OX=function(t){function e(){return dX(this,e),bX(this,mX(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gX(t,e)}(e,t),n=e,(r=[{key:"toDefaultCSS",value:function(t){var e={};return t.x&&(e.left=t.x),t.y&&(e.top=t.y),e.visibility=t.visible?"visible":"hidden",yX({},e,{},this.toKeyListCSS(t,["position","right","bottom","width","height","transform-origin","transform","transform-style","perspective","perspective-origin","animation","transition"]))}},{key:"toCSS",value:function(t){return yX({},this.toVariableCSS(t),{},this.toDefaultCSS(t),{},this.toWebkitCSS(t),{},this.toBoxModelCSS(t),{},this.toLayoutItemCSS(t))}},{key:"toNestedCSS",value:function(t){var e=t.rate.value,n=t.width,r=t.height,o=n.value/2,i=r.value/2,a=t["backface-visibility"],c=yX({},this.toKeyListCSS(t,["filter","mix-blend-mode","border-radius","background-color","opacity","color"]),{},this.toClipPathCSS(t),{},this.toBackgroundImageCSS(t),{},this.toBorderCSS(t));return[{selector:"div",cssText:"\n          position: absolute;\n          left: 0px;\n          top: 0px;\n          bottom: 0px;\n          right: 0px;\n          opacity: 1;\n          pointer-events: none;\n          ".concat(de(c),"\n        ").trim()},{selector:".front",cssText:"\n          transform:rotateY(0deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";     \n          backface-visibility: ").concat(a,";          \n          ").concat(t["front.color"]?"background-color: ".concat(t["front.color"],";"):"","\n          ").concat(t["front.background"]?"".concat(t["front.background"],";"):"","\n\n        ").trim()},{selector:".back",cssText:"\n          transform: rotateY(180deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";        \n          backface-visibility: ").concat(a,";              \n          ").concat(t["back.color"]?"background-color: ".concat(t["back.color"],";"):"","                  \n          ").concat(t["back.background"]?"".concat(t["back.background"],";"):"","\n        ").trim()},{selector:".left",cssText:"\n          transform: rotateY(-90deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";    \n          backface-visibility: ").concat(a,";          \n          ").concat(t["left.color"]?"background-color: ".concat(t["left.color"],";"):"","                          \n          ").concat(t["left.background"]?"".concat(t["left.background"],";"):"","\n        ").trim()},{selector:".right",cssText:"\n          transform: rotateY(90deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";      \n          backface-visibility: ").concat(a,";          \n          ").concat(t["right.color"]?"background-color: ".concat(t["right.color"],";"):"","                        \n          ").concat(t["right.background"]?"".concat(t["right.background"],";"):"","          \n        ").trim()},{selector:".top",cssText:"\n          transform: rotateX(90deg) translateZ(".concat(i*e,"px);\n          top: ").concat(i-o,"px;\n          width: ").concat(n,";\n          height: ").concat(n,";\n          backface-visibility: ").concat(a,";          \n          ").concat(t["top.color"]?"background-color: ".concat(t["top.color"],";"):"","      \n          ").concat(t["top.background"]?"".concat(t["top.background"],";"):"","              \n        ").trim()},{selector:".bottom",cssText:"\n          transform: rotateX(-90deg) translateZ(".concat(i*e,"px);\n          top: ").concat(i-o,"px;          \n          width: ").concat(n,";\n          height: ").concat(n,";    \n          backface-visibility: ").concat(a,";          \n          ").concat(t["bottom.color"]?"background-color: ".concat(t["bottom.color"],";"):"","\n          ").concat(t["bottom.background"]?"".concat(t["bottom.background"],";"):"","                          \n        ").trim()}]}},{key:"render",value:function(t){var e=t.id;return("\n      <div class='element-item cube' data-id=\"".concat(e,'">\n        ').concat(this.toDefString(t),"\n        ").concat(wX.map((function(t){return"<div class='".concat(t,"'></div>")})).join(""),"\n      </div>"))}}])&&vX(n.prototype,r),o&&vX(n,o),e}(oX);function kX(t){return(kX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PX(t,e){return!e||"object"!==kX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xX(t,e,n){return(xX="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_X(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _X(t){return(_X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function EX(t,e){return(EX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $X=function(t){function e(){return jX(this,e),PX(this,_X(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EX(t,e)}(e,t),n=e,(r=[{key:"toNestedCSS",value:function(t){return[{selector:"img",cssText:"\n                width: 100%;\n                height: 100%;\n                pointer-events: none;\n                ".trim()}]}},{key:"getUrl",value:function(t){var e=t.src;return t.top.getImageValueById(e)}},{key:"render",value:function(t){var e=t.id;return("\n          <div class='element-item image' data-id=\"".concat(e,'">\n            ').concat(this.toDefString(t),"\n            <img src='").concat(this.getUrl(t),"' />\n          </div>"))}},{key:"update",value:function(t,n){var r=n.$("img");r&&r.attr("src",this.getUrl(t)),xX(_X(e.prototype),"update",this).call(this,t,n)}}])&&SX(n.prototype,r),o&&SX(n,o),e}(oX);function CX(t){return(CX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TX(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function RX(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function DX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AX(t,e){return!e||"object"!==CX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function IX(t){return(IX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function LX(t,e){return(LX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var MX=function(t){function e(){return DX(this,e),AX(this,IX(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LX(t,e)}(e,t),n=e,(r=[{key:"toRootVariableCSS",value:function(t){var e={};return t.rootVariable.split(";").filter((function(t){return t.trim()})).forEach((function(t){var n=RX(t.split(":"),2),r=n[0],o=n[1];e["--".concat(r)]=o})),e}},{key:"toCSS",value:function(t){return Object.assign.apply(Object,[{}].concat(TX(this.toRootVariableCSS(t))))}},{key:"toStyle",value:function(t){var e=t.toKeyframeString(),n=this.toRootVariableCSS(t);return"\n        <style type='text/css' data-id='".concat(t.id,"'>\n            :root {\n                ").concat(de(n),"\n            }\n            /* keyframe */\n            ").concat(e,"\n        </style>\n        ")}},{key:"render",value:function(t,e){return t.artboards.map((function(t){return e.render(t)}))}},{key:"renderSVGFilter",value:function(t){return t.svgfilters.map((function(t){var e=t.filters.map((function(t){return pE.parse(t)}));return("\n<filter id='".concat(t.id,"'>\n    ").concat(e.join("\n"),"\n</filter>\n    "))})).join("\n\n")}},{key:"renderSVG",value:function(t,e){var n=this.renderSVGFilter(t);return('\n<svg width="0" height="0">\n    <title>SVG Properties</title>\n    '.concat(n,"\n</svg>\n"))}}])&&VX(n.prototype,r),o&&VX(n,o),e}(Os);function zX(t){return(zX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FX(t,e){return!e||"object"!==zX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function HX(t){return(HX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function GX(t,e){return(GX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var YX=function(t){function e(){return BX(this,e),FX(this,HX(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GX(t,e)}(e,t),e}(oX);function XX(t){return(XX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function KX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZX(t,e){return!e||"object"!==XX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qX(t,e,n){return(qX="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=JX(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function JX(t){return(JX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function QX(t,e){return(QX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tN=function(t){function e(){return WX(this,e),ZX(this,JX(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QX(t,e)}(e,t),n=e,(r=[{key:"updateDefString",value:function(t,e){var n=e.$("defs");if(n)n.html(this.toDefInnerString(t));else{var r=this.toDefString(t).trim();e.prepend(Wn.createByHTML(r))}}},{key:"toDefInnerString",value:function(t){return"\n            ".concat(this.toFillSVG(t),"\n            ").concat(this.toStrokeSVG(t),"\n        ")}},{key:"toDefString",value:function(t){var e=this.toDefInnerString(t).trim();return("\n            <defs>\n            ".concat(e,"\n            </defs>\n        "))}},{key:"fillId",value:function(t){return this.getInnerId(t,"fill")}},{key:"strokeId",value:function(t){return this.getInnerId(t,"stroke")}},{key:"toFillSVG",value:function(t){return Tf.parseImage(t.fill||"transparent").toSVGString(this.fillId(t))}},{key:"toStrokeSVG",value:function(t){return Tf.parseImage(t.stroke||"black").toSVGString(this.strokeId(t))}},{key:"toFillValue",value:function(t){return Tf.parseImage(t.fill||"transparent").toFillValue(this.fillId(t))}},{key:"toFillOpacityValue",value:function(t){return Dn.parse(t.fill||"transparent").a}},{key:"toStrokeValue",value:function(t){return Tf.parseImage(t.stroke||"black").toFillValue(this.strokeId(t))}},{key:"toFilterValue",value:function(t){return t.svgfilter?"url(#".concat(t.svgfilter,")"):""}},{key:"toLayoutCSS",value:function(t){return{}}},{key:"toDefaultCSS",value:function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?NX(Object(n),!0).forEach((function(e){KX(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NX(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},qX(JX(e.prototype),"toDefaultCSS",this).call(this,t),{},this.toKeyListCSS(t,["stroke-width","stroke-linecap","stroke-linejoin","stroke-dasharray","stroke-dashoffset","fill-opacity","fill-rule","text-anchor"]))}},{key:"toSVGAttribute",value:function(t){return this.toDefaultCSS(t)}}])&&UX(n.prototype,r),o&&UX(n,o),e}(oX);function eN(t){return(eN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oN(t,e){return!e||"object"!==eN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iN(t){return(iN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aN(t,e){return(aN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cN=function(t){function e(){return nN(this,e),oN(this,iN(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aN(t,e)}(e,t),n=e,(r=[{key:"update",value:function(t,e){if(e){var n=e.$("path");n&&(n.setAttr({d:t.d,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)}),t.totalLength=n.totalLength),this.updateDefString(t,e)}}},{key:"render",value:function(t){var e={"motion-based":t["motion-based"]};return("\n        <svg class='element-item path ".concat(me(e),"'  ").concat(be({"motion-based":t["motion-based"],xmlns:"http://www.w3.org/2000/svg","data-id":t.id}),">\n            ").concat(this.toDefString(t),"\n            <path ").concat(be({class:"svg-path-item",d:t.d,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)})," />\n        </svg>\n    "))}}])&&rN(n.prototype,r),o&&rN(n,o),e}(tN);function uN(t){return(uN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fN(t,e){return!e||"object"!==uN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pN(t){return(pN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yN(t,e){return(yN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hN=function(t){function e(){return sN(this,e),fN(this,pN(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yN(t,e)}(e,t),n=e,(r=[{key:"update",value:function(t,e){var n=e.$("path");n&&n.attr("d",t.d);var r=e.$("textPath");r&&(r.text(t.text),r.setAttr({filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t),textLength:t.textLength,lengthAdjust:t.lengthAdjust,startOffset:t.startOffset})),this.updateDefString(t,e),t.totalLength=n.totalLength}},{key:"toDefInnerString",value:function(t){return"\n        ".concat(this.toPathSVG(t),"\n        ").concat(this.toFillSVG(t),"\n        ").concat(this.toStrokeSVG(t),"\n    ")}},{key:"toPathId",value:function(t){return this.getInnerId(t,"path")}},{key:"toPathSVG",value:function(t){return"\n    <path ".concat(be({class:"svg-path-item",id:this.toPathId(t),d:t.d,fill:"none"})," />\n    ")}},{key:"render",value:function(t){var e=t.id,n=t.textLength,r=t.lengthAdjust,o=t.startOffset;return("\n      <svg class='element-item textpath' data-id=\"".concat(e,'">\n        ').concat(this.toDefString(t),"\n          <text ").concat(be({class:"svg-textpath-item"})," >\n            <textPath ").concat(be({"xlink:href":"#".concat(this.toPathId(t)),textLength:n,lengthAdjust:r,startOffset:o})," >").concat(t.text,"</textPath>\n        </text>\n      </svg>\n    "))}}])&&lN(n.prototype,r),o&&lN(n,o),e}(tN);function dN(t){return(dN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mN(t,e){return!e||"object"!==dN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gN(t){return(gN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wN(t,e){return(wN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ON=function(t){function e(){return vN(this,e),mN(this,gN(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wN(t,e)}(e,t),n=e,(r=[{key:"update",value:function(t,e){var n=e.$("text");n&&(n.text(t.text),n.setAttr({filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t),textLength:t.textLength,lengthAdjust:t.lengthAdjust})),this.updateDefString(t,e)}},{key:"shapeInsideId",value:function(t){return this.getInnerId(t,"shape-inside")}},{key:"render",value:function(t){var e=t.id,n=t.textLength,r=t.lengthAdjust;return("\n  <svg class='element-item textpath' data-id=\"".concat(e,'">\n    ').concat(this.toDefString(t),"\n      <text ").concat(be({class:"svg-text-item",textLength:n,lengthAdjust:r})," >").concat(t.text,"</text>\n  </svg>"))}}])&&bN(n.prototype,r),o&&bN(n,o),e}(tN);function kN(t){return(kN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PN(t,e){return!e||"object"!==kN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xN(t,e,n){return(xN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_N(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _N(t){return(_N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function EN(t,e){return(EN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $N=function(t){function e(){return jN(this,e),PN(this,_N(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EN(t,e)}(e,t),n=e,(r=[{key:"toNestedCSS",value:function(t){return[{selector:"> *",cssText:"\n                    pointer-events: none;\n                "}]}},{key:"toCSS",value:function(t){var n=xN(_N(e.prototype),"toCSS",this).call(this,t);return n.margin=n.margin||"0px",n}},{key:"render",value:function(t){var e=t.id,n=t.content;return('<p class=\'element-item text\' contenteditable="true" tabIndex="-1" data-id="'.concat(e,'">').concat(n,"</p>"))}},{key:"update",value:function(t,e){var n=t.content;e.updateDiff(n)}}])&&SN(n.prototype,r),o&&SN(n,o),e}(oX);function CN(t){return(CN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DN(t,e){return!e||"object"!==CN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VN(t,e,n){return(VN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=AN(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function AN(t){return(AN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function IN(t,e){return(IN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var LN=function(t){function e(){return TN(this,e),DN(this,AN(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IN(t,e)}(e,t),n=e,(r=[{key:"toNestedCSS",value:function(t){return[{selector:"video",cssText:"\n                width: 100%;\n                height: 100%;\n                pointer-events: none;\n                ".trim()}]}},{key:"getUrl",value:function(t){var e=t.src;return t.top.getVideoValueById(e)}},{key:"render",value:function(t){var e=t.id,n=(t.src,t.controls),r=t.muted,o=t.poster,i=t.loop,a=t.crossorigin,c=t.autoplay;return("\n        <div class='element-item video' data-id=\"".concat(e,'">\n            ').concat(this.toDefString(t),"\n            <video ").concat(be({controls:n,src:this.getUrl(t),muted:r,poster:o,loop:i,crossorigin:a,autoplay:c}),">\n                Sorry, your browser doesn't support embedded videos.\n            </video>\n        </div>"))}},{key:"update",value:function(t,n){var r=t.currentTime,o=t.playbackRate,i=t.volume,a=n.$("video");a&&a.setProp({currentTime:r,playbackRate:o,volume:i}),VN(AN(e.prototype),"update",this).call(this,t,n)}}])&&RN(n.prototype,r),o&&RN(n,o),e}(oX);function MN(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function zN(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.split(";").filter((function(t){return t.trim()})).map((function(t){var n=MN((t=t.trim()).split(":"),2),r=n[0],o=n[1];return"".concat(e,"<strong>").concat(r,"</strong>:").concat(o,";\n")})).join("").trim()}var BN={project:new MX,artboard:new JY,rect:new YX,circle:new lX,image:new $X,text:new $N,video:new LN,"svg-path":new cN,"svg-text":new ON,"svg-textpath":new hN,cube:new OX},FN={render:function(t,e){var n=BN[t.itemType];if(n)return n.render(t,e||this)},renderSVG:function(t,e){var n=BN[t.itemType];if(n)return n.renderSVG(t,e||this)},toCSS:function(t){var e=BN[t.itemType];if(e)return e.toCSS(t)},toNestedCSS:function(t){var e=BN[t.itemType];if(e)return e.toNestedCSS(t)},toTransformCSS:function(t){var e=BN[t.itemType];if(e)return e.toTransformCSS(t)},toStyle:function(t,e){var n=BN[t.itemType];if(n)return n.toStyle(t,e||this)},update:function(t,e){var n=BN[t.itemType];if(n)return n.update(t,e)},codeview:function(t){if(!t)return"";var e=t.top,n=zN(e?e.toKeyframeString():"").replace(/;/gi,";\n").trim(),r=e?de(e.toRootVariableCSS()):"",o=this.renderSVG(e);o=o.replace(/\</g,"&lt;").replace(/\>/g,"&gt;");var i=t,a=zN(i?ge(de(this.toCSS(i))):""),c=i?this.toNestedCSS(i).map((function(t){var e=t.cssText?t.cssText:de(t.css);return"".concat(t.selector," { \n    ").concat(zN(ge(e),"&nbsp;&nbsp;"),"\n    }")})):[],u=i?i.selectors:[];return"\n          <div class=''>\n           \n            ".concat(a&&"<div><pre title='CSS'>".concat(a,"</pre></div>"),"\n            \n            ").concat(c.map((function(t){return"<div><pre title='CSS'>".concat(t,"</pre></div>")})).join(""),"\n    \n            ").concat(u.length?"<div>\n                ".concat(u.map((function(t){return"<pre title='".concat(t.selector,"'>").concat(t.toPropertyString(),"</pre>")})).join(""),"\n                \n              </div>"):"","\n    \n            ").concat(n&&"<div><pre title='".concat(this.$i18n("code.view.property.keyframe"),"'>").concat(n,"</pre></div>"),"\n\n            ").concat(r?"<div>\n              <label>:root</label>\n              <pre>".concat(r,"</pre>\n              </div>"):"","\n    \n          </div>\n        ")}};function HN(t){return(HN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function GN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XN(t,e){return!e||"object"!==HN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function NN(t){return(NN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function KN(t,e){return(KN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var WN=function(t){function e(){return GN(this,e),XN(this,NN(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KN(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("code.view.property.title")}},{key:ed("refreshSelectionStyleView","refreshStyleView","refreshSelection","refreshSVGArea")+Ar(100),value:function(){this.refreshShowIsNot()}},{key:"getBody",value:function(){return"\n      <div class=\"property-item code-view-item\" ref='$body'></div>\n    "}},{key:Fr("$body")+Vr,value:function(){return[FN.codeview(this.$selection.current),Ep.codeview(this.$selection.current)]}}])&&YN(n.prototype,r),o&&YN(n,o),e}(QB);function UN(t){return(UN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZN(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QN(t,e){return!e||"object"!==UN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tK(t){return(tK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function eK(t,e){return(eK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nK=function(t){function e(){return qN(this,e),QN(this,tK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eK(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("backdrop.filter.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getTitleClassName",value:function(){return"filter"}},{key:"getKeyframeProperty",value:function(){return"backdrop-filter"}},{key:"getBody",value:function(){return"<div class='full filter-property' ref='$body'></div>"}},{key:"getTools",value:function(){return'\n      <select ref="$filterSelect"></select>\n      <button type="button" ref="$add" title="add Filter">'.concat(Ag.add,"</button>\n    ")}},{key:rr("$add"),value:function(){var t=this.refs.$filterSelect.value;this.children.$filterEditor.trigger("add",t)}},{key:Fr("$filterSelect"),value:function(){var t=this,e=M$.map((function(e){return{title:t.$i18n("filter.property.".concat(e)),value:e}})),n=this.getSVGFilterList();return(n.length?[].concat(ZN(e),[{title:"-------",value:""}],ZN(n)):ZN(e)).map((function(t){var e=t.title,n=t.value;return"<option value='".concat(n,"'>").concat(e,"</option>")}))}},{key:"getSVGFilterList",value:function(){var t=this.$selection.currentProject,e=[];return t&&(e=t.svgfilters.map((function(t){return{title:"svg - #".concat(t.id),value:t.id}}))),e}},{key:Fr("$body"),value:function(){var t=(this.$selection.current||{})["backdrop-filter"];return"<FilterEditor ref='$filterEditor' value='".concat(t,"' hide-label=\"true\" onchange='changeFilterEditor' />")}},{key:ed("changeFilterEditor"),value:function(t){this.command("setAttribute","change backdrop filter",{"backdrop-filter":t})}},{key:ed("refreshSelection"),value:function(){this.refreshShowIsNot(["project","artboard"])}}])&&JN(n.prototype,r),o&&JN(n,o),e}(QB);function rK(t){return(rK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aK(t,e){return!e||"object"!==rK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cK(t){return(cK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uK(t,e){return(uK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sK=["top-left","top","top-right","left","right","bottom-left","bottom","bottom-right"],lK={top:"0","top-right":"45",right:"90","bottom-right":"135",bottom:"180","bottom-left":"225",left:"270","top-left":"315"},fK=function(t){function e(){return oK(this,e),aK(this,cK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uK(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='rotate-editor-view'>            \n                <div class='rotate-area' ref='$rotateArea'>\n                    <div class='rotate-container' ref='$rotateContainer'>\n                        <div class='rotate-item rotate-x'></div>\n                        <div class='rotate-item rotate-y'></div>\n                    </div>\n                </div>\n                <div class='direction-area' ref='$directionArea'>\n                    ".concat(sK.map((function(t){return"<div class='direction' data-value='".concat(t,"'></div>")})).join(""),"\n                </div>                \n                <div class='rotate-z' ref='$rotateZ'>\n                    <div class='handle-line'></div>                \n                    <div class='handle icon' ref='$handle'>").concat(Ag.gps_fixed,"</div>\n                </div>                \n            </div>\n        ")}},{key:rr("$directionArea .direction"),value:function(t){var e=t.$dt.attr("data-value"),n=_.deg(lK[e]||0);this.$selection.each((function(t){var e=us.replace(t.transform,{type:"rotateZ",value:[n]});t.reset({transform:e})})),this.bindData("$rotateZ"),this.emit("refreshSelectionStyleView",null,!1,!0),this.emit("refreshRect")}},{key:Xr("$rotateContainer"),value:function(){var t=this.$selection.current||{transform:""};return{style:{transform:us.filter(t.transform||"",(function(t){return"rotateX"===t.type||"rotateY"===t.type}))}}}},{key:Xr("$rotateZ"),value:function(){var t=this.$selection.current||{transform:""};return{style:{transform:us.filter(t.transform||"",(function(t){return"rotate"===t.type||"rotateZ"===t.type}))}}}},{key:or("$rotateArea"),value:function(){this.$selection.each((function(t){t.reset({transform:us.remove(t.transform,["rotateX","rotateY"])})})),this.bindData("$rotateContainer"),this.emit("refreshSelectionStyleView",null,!1,!0),this.emit("refreshRect")}},{key:kr("$rotateArea")+Lr("moveRotateXY")+Mr("moveEndRotateXY"),value:function(){this.setCacheRotateXY()}},{key:"setCacheRotateXY",value:function(){this.setCacheBaseTrasnform("rotateX","rotateY")}},{key:"moveRotateXY",value:function(t,e){this.modifyRotateXY(t,e),this.bindData("$rotateContainer"),this.emit("refreshSelectionStyleView",null,!1,!0),this.emit("refreshRect")}},{key:"moveEndRotateXY",value:function(t,e){this.emit("refreshSelectionStyleView"),this.emit("refreshRect")}},{key:"modifyCacheItem",value:function(t,e,n,r,o){e[r]&&n.set(e[r].value[0].value),n.add(o),this.setTransformValue(t,r,n)}},{key:"modifyRotateXY",value:function(t,e){var n=this,r=_.deg(-e/this.$editor.scale),o=_.deg(t/this.$editor.scale);this.$selection.each((function(t,e){n.modifyCacheItem(t,e,_.deg(0),"rotateX",r),n.modifyCacheItem(t,e,_.deg(0),"rotateY",o),t.transform=us.join(t.transformObj)}))}},{key:or("$handle"),value:function(){this.$selection.each((function(t){t.reset({transform:us.remove(t.transform,["rotateZ","rotate"])})})),this.bindData("$rotateZ"),this.emit("refreshSelectionStyleView",null,!1,!0),this.emit("refreshRect")}},{key:kr("$handle")+Lr()+Mr(),value:function(){this.setCacheRotateZ()}},{key:"move",value:function(t,e){this.modifyRotateZ(t,e),this.bindData("$rotateZ"),this.emit("refreshSelectionStyleView",null,!1,!0),this.emit("refreshRect")}},{key:"end",value:function(){this.emit("refreshSelectionStyleView"),this.emit("refreshRect")}},{key:"modifyRotateZ",value:function(t,e){var n=this,r=this.$config.get("bodyEvent"),o=_.deg(Math.floor(N(this.rotateZStart,this.rotateZCenter,{dx:t,dy:e})));this.$selection.each((function(t,e){var i=_.deg(0);e.rotateZ?i.set(e.rotateZ.value[0].value):e.rotate&&i.set(e.rotate.value[0].value),i.add(o.value),r.altKey&&i.add(-i.value%10),n.setTransformValue(t,"rotateZ",i),t.transform=us.join(t.transformObj)}))}},{key:"setTransformValue",value:function(t,e,n){var r=t.transformObj.filter((function(t){return t.type===e}))[0];r?r.value[0]=n.clone():t.transformObj.push({type:e,value:[n.clone()]})}},{key:"setCacheBaseTrasnform",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.$selection.each((function(t,n){t.transformObj=us.parseStyle(t.transform),n.transformObj=us.parseStyle(n.transform),e.forEach((function(t){n[t]=n.transformObj.filter((function(e){return e.type===t}))[0]}))}))}},{key:"setCacheRotateZ",value:function(){var t=this.refs.$handle.rect(),e=this.refs.$rotateZ.rect();this.rotateZCenter={x:e.x+e.width/2,y:e.y+e.height/2},this.rotateZStart={x:t.x+t.width/2,y:t.y+t.height/2},this.setCacheBaseTrasnform("rotateZ","rotate")}},{key:ed("refreshSelection"),value:function(){this.refresh()}}])&&iK(n.prototype,r),o&&iK(n,o),e}(nd);function pK(t){return(pK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bK(t,e){return!e||"object"!==pK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mK(t,e,n){return(mK="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gK(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function gK(t){return(gK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wK(t,e){return(wK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var OK=["rotate","rotateX","rotateY","rotateZ","rotate3d","skewX","skewY","translate","translateX","translateY","translateZ","translate3d","perspective","scale","scaleX","scaleY","scaleZ","scale3d","matrix","matrix3d"],kK=function(t){function e(){return dK(this,e),bK(this,gK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wK(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yK(Object(n),!0).forEach((function(e){hK(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yK(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},mK(gK(e.prototype),"components",this).call(this),{RotateEditorView:fK})}},{key:"getTitle",value:function(){return this.$i18n("transform.property.title")}},{key:"getBody",value:function(){return"\n      <RotateEditorView />\n      <div class='full transform-property' ref='$body'></div>\n    "}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"transform"}},{key:"getTools",value:function(){var t=this;return('\n      <select ref="$transformSelect">\n      '.concat(OK.map((function(e){var n=t.$i18n("css.item."+e);return"<option value='".concat(e,"'>").concat(n,"</option>")})).join(""),'\n      </select>\n      <button type="button" ref="$add" title="add Filter">').concat(Ag.add,"</button>\n    "))}},{key:rr("$add"),value:function(){var t=this.refs.$transformSelect.value;this.children.$transformEditor.trigger("add",t)}},{key:Fr("$body"),value:function(){var t=(this.$selection.current||{}).transform;return"\n      <TransformEditor ref='$transformEditor' value='".concat(t,"' hide-label=\"true\" onchange='changeTransformEditor' />\n    ")}},{key:ed("changeTransformEditor"),value:function(t){this.command("setAttribute","change transform property",{transform:function(e){return us.replaceAll(e.transform,t)}})}},{key:ed("refreshSelection"),value:function(){this.refreshShowIsNot(["project","artboard"])}},{key:ed("refreshRect")+Ar(100),value:function(){this.refresh()}}])&&vK(n.prototype,r),o&&vK(n,o),e}(QB);function jK(t){return(jK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xK(t,e){return!e||"object"!==jK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _K(t){return(_K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function EK(t,e){return(EK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $K=["circle","ellipse","inset","polygon","path","svg"],CK=function(t){function e(){return SK(this,e),xK(this,_K(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EK(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("clippath.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"clip-path"}},{key:"getClassName",value:function(){return"clip-path-property"}},{key:"getBody",value:function(){return"<div class='clip-path-list' ref='$clippathList'></div>"}},{key:"getTools",value:function(){return'\n      <select ref="$clipPathSelect">      \n        '.concat($K.map((function(t){return"<option value='".concat(t,"'>").concat(t,"</option>")})).join(""),'\n      </select>\n      <button type="button" ref="$add" title="add Clip Path">').concat(Ag.add,"</button>\n    ")}},{key:"makeClipPathTemplate",value:function(t){return"\n      <div class='clippath-item'>\n        <div class='title'>\n          <div class='name'>".concat(t,'</div>\n          <div class=\'tools\'>\n              <button type="button" class="del">\n                ').concat(Ag.remove2,"\n              </button>\n          </div>\n        </div>\n      </div>\n    ")}},{key:rr("$clippathList .clippath-item"),value:function(t){this.$selection.current&&this.viewClipPathPicker()}},{key:rr("$clippathList .del")+zr,value:function(t){var e=this.$selection.current;e&&(this.command("setAttribute","delete clip-path",{"clip-path":""},e.id),this.refresh(),this.emit("hideClipPathPopup"))}},{key:ed("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}},{key:Fr("$clippathList"),value:function(){var t=this.$selection.current;return t&&t["clip-path"]?this.makeClipPathTemplate(t["clip-path"]):""}},{key:rr("$add"),value:function(){var t=this.$selection.current;t&&(t["clip-path"]?alert("clip-path is already exists."):(t&&(t["clip-path"]=this.refs.$clipPathSelect.value,this.command("setAttribute","change clip-path",{"clip-path":this.refs.$clipPathSelect.value},t.id)),this.refresh()))}},{key:"viewClipPathPicker",value:function(){var t=this.$selection.current;if(t){var e=ku.parseStyle(t["clip-path"]);switch(e.type){case"path":var n=e.value.trim(),r=n?"modify":"path";this.emit("showPathEditor",r,{changeEvent:"updateClipPathString",current:t,d:n,box:"box",screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight});break;case"svg":break;default:this.emit("showClipPathPopup",{"clip-path":t["clip-path"]})}}}},{key:ed("updateClipPathString"),value:function(t){var e=this.$selection.current;e&&(e.reset({"clip-path":"path(".concat(t.d,")")}),this.refresh(),this.emit("updateClipPath",t))}},{key:ed("changeClipPathPopup"),value:function(t){var e=this.$selection.current;e&&(e.reset(t),this.refresh(),this.command("setAttribute","change clip-path",t,e.id))}}])&&PK(n.prototype,r),o&&PK(n,o),e}(QB);function TK(t){return(TK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VK(t,e){return!e||"object"!==TK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AK(t){return(AK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function IK(t,e){return(IK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var LK=/((cubic-bezier|steps)\(([^\)]*)\))/gi,MK=function(t){function e(){return RK(this,e),VK(this,AK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IK(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"join",value:function(t){return t.map((function(t){return new e(t).toString()})).join(",")}},{key:"add",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.parseStyle(t);return r.push(e.parse(n)),e.join(r)}},{key:"remove",value:function(t,n){return e.filter(t,(function(t,e){return n!=e}))}},{key:"filter",value:function(t,n){return e.join(e.parseStyle(t).filter((function(t){return n(t)})))}},{key:"replace",value:function(t,n,r){var o=e.parseStyle(t);return o[n]?o[n]=r:o.push(r),e.join(o)}},{key:"get",value:function(t,n){return e.parseStyle(t)[n]}},{key:"parseStyle",value:function(t){var n=[];if(!t)return n;var r=oY(t,LK);return(n=r.str.split(",").map((function(t){var e=t.split(" ").filter(Boolean);return e.length>=4?{name:e[0],duration:_.parse(e[1]),timingFunction:iY(e[2],r.matches),delay:_.parse(e[3])}:e.length>=3?{name:e[0],duration:_.parse(e[1]),delay:_.parse(e[2])}:e.length>=1?{name:e[0],duration:_.parse(e[1])}:{}}))).map((function(t){return e.parse(t)}))}}],(r=[{key:"getDefaultObject",value:function(){return{name:"all",duration:_.second(0),timingFunction:"linear",delay:_.second(0)}}},{key:"toCloneObject",value:function(){return{name:this.json.name,duration:this.json.duration+"",timingFunction:this.json.timingFunction,delay:this.json.delay+""}}},{key:"toCSS",value:function(){return{transition:this.toString()}}},{key:"toString",value:function(){var t=this.json;return[t.name,t.duration,t.timingFunction,t.delay].join(" ")}}])&&DK(n.prototype,r),o&&DK(n,o),e}(_i);function zK(t){return(zK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function FK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YK(t,e){return!e||"object"!==zK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function XK(t){return(XK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function NK(t,e){return(NK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var KK=function(t){function e(){return HK(this,e),YK(this,XK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NK(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("transition.property.title")}},{key:"getBody",value:function(){return"<div class='transition-list' ref='$transitionList'></div>"}},{key:"getTools",value:function(){return'\n        <button type="button" ref="$add" title="add Transition">'.concat(Ag.add,"</button>\n    ")}},{key:Fr("$transitionList")+Vr,value:function(){var t=this,e=this.$selection.current;return e?MK.parseStyle(e.transition).map((function(e,n){var r=t.state.selectedIndex===n?"selected":"",o=je(e.timingFunction,30,30);return"\n      <div class='transition-group-item'>\n        <div class='transition-item ".concat(r,"' data-index='").concat(n,"' ref=\"transitionIndex").concat(n,"\">\n            <div class='timing preview' data-index='").concat(n,"' ref='$preview").concat(n,'\'>\n              <svg class=\'item-canvas\' width="30" height="30" viewBox="0 0 30 30">\n                <path d="').concat(o,"\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n              </svg>\n            </div>\n            <div class='name'>\n              <div class='labels'>\n                <span class='property-name' title='Property'>").concat(e.name,"</span>\n                <span class='duration' title='Duration'><small>Duration: ").concat(e.duration,"</small></span>\n                <span class='delay' title='Delay'><small>Delay: ").concat(e.delay,'</small></span>\n              </div>\n            </div>\n            <div class=\'tools\'>\n                <button type="button" class="del" data-index="').concat(n,'">\n                  ').concat(Ag.remove2,"\n                </button>\n            </div>\n        </div>\n      </div>        \n      ")})):""}},{key:ed("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}},{key:rr("$add"),value:function(t){var e=this.$selection.current;e&&(e.reset({transition:MK.add(e.transition)}),this.emit("refreshElement",e)),this.refresh()}},{key:"getCurrentTransition",value:function(){return this.current.transitions[this.selectedIndex]}},{key:rr("$transitionList .tools .del"),value:function(t){var e=t.$dt.attr("data-index"),n=this.$selection.current;n&&(n.reset({transition:MK.remove(n.transition,e)}),this.emit("refreshElement",n),this.refresh())}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.refs["transitionIndex".concat(t)].addClass("selected"):this.refs["transitionIndex".concat(t)].removeClass("selected")}},{key:"viewTransitionPicker",value:function(t){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t.attr("data-index"),this.current=this.$selection.current,this.current&&(this.currentTransition=MK.get(this.current.transition,this.selectedIndex),this.viewTransitionPropertyPopup())}},{key:"viewTransitionPropertyPopup",value:function(){if(this.currentTransition){var t=this.currentTransition;this.emit("showTransitionPropertyPopup",{changeEvent:"changeTransitionPropertyPopup",data:t.toCloneObject(),instance:this})}}},{key:rr("$transitionList .preview"),value:function(t){this.viewTransitionPicker(t.$dt)}},{key:"getRef",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.refs[e.join("")]}},{key:ed("changeTransitionPropertyPopup"),value:function(t){this.currentTransition&&(this.currentTransition.reset(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?BK(Object(n),!0).forEach((function(e){FK(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BK(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)),this.current&&(this.current.reset({transition:MK.replace(this.current.transition,this.selectedIndex,this.currentTransition)}),this.emit("refreshElement",this.current),this.refresh()))}}])&&GK(n.prototype,r),o&&GK(n,o),e}(QB);function WK(t){return(WK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function UK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qK(t,e){return!e||"object"!==WK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JK(t){return(JK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function QK(t,e){return(QK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tW=function(t){function e(){return UK(this,e),qK(this,JK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QK(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("perspective.origin.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"isFirstShow",value:function(){return!1}},{key:"getKeyframeProperty",value:function(){return"perspective-origin"}},{key:"getTools",value:function(){return'\n        <button type="button" class="remove" ref=\'$remove\'>'.concat(Ag.remove,"</button>\n    ")}},{key:rr("$remove"),value:function(){this.trigger("changePerspectiveOrigin","")}},{key:"getBody",value:function(){return"\n      <div class=\"property-item full perspective-origin-item\" ref='$body'></div>\n    "}},{key:Fr("$body"),value:function(){var t=(this.$selection.current||{})["perspective-origin"]||"";return"<PerspectiveOriginEditor \n              ref='$1' \n              value='".concat(t,"' \n              onchange='changePerspectiveOrigin' \n            />")}},{key:ed("refreshSelection")+Ar(100),value:function(){this.refreshShowIsNot(["project"])}},{key:ed("changePerspectiveOrigin"),value:function(t){this.command("setAttribute","change perspective origin",{"perspective-origin":t})}}])&&ZK(n.prototype,r),o&&ZK(n,o),e}(QB);function eW(t){return(eW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oW(t,e){return!e||"object"!==eW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iW(t){return(iW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aW(t,e){return(aW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cW=function(t){function e(){return nW(this,e),oW(this,iW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aW(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("perspective.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"isFirstShow",value:function(){return!1}},{key:"getKeyframeProperty",value:function(){return"perspective"}},{key:"getTools",value:function(){return'\n        <button type="button" class="remove" ref=\'$remove\'>'.concat(Ag.remove,"</button>\n    ")}},{key:rr("$remove"),value:function(){this.trigger("changePerspective","perspective","")}},{key:"getBody",value:function(){return"<div class='property-item' ref='$perspective'></div>"}},{key:Fr("$perspective"),value:function(){var t=(this.$selection.current||{}).perspective||"";return"\n        <RangeEditor ref='$1' key='perspective' value=\"".concat(t,'" max="2000px" onchange="changePerspective" />\n    ')}},{key:ed("changePerspective"),value:function(t,e){this.command("setAttribute","change perspective",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:ed("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}}])&&rW(n.prototype,r),o&&rW(n,o),e}(QB);function uW(t){return(uW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fW(t,e){return!e||"object"!==uW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pW(t){return(pW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yW(t,e){return(yW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hW=function(t){function e(){return sW(this,e),fW(this,pW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yW(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("transform.origin.property.title")}},{key:"getTools",value:function(){return'\n        <button type="button" class="remove" ref=\'$remove\'>'.concat(Ag.remove,"</button>\n    ")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"transform-origin"}},{key:rr("$remove"),value:function(){this.trigger("changeTransformOrigin","")}},{key:"getBody",value:function(){return"\n      <div class=\"property-item full transform-origin-item\" ref='$body'></div>\n    "}},{key:Fr("$body"),value:function(){var t=(this.$selection.current||{})["transform-origin"]||"";return"<TransformOriginEditor ref='$1' value='".concat(t,"' onchange='changeTransformOrigin' />")}},{key:ed("refreshSelection","refreshRect")+Ar(100),value:function(){this.refreshShowIsNot(["project","artboard"])}},{key:ed("changeTransformOrigin"),value:function(t){this.command("setAttribute","change transform-origin",{"transform-origin":t})}}])&&lW(n.prototype,r),o&&lW(n,o),e}(QB);function dW(t){return(dW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mW(t,e){return!e||"object"!==dW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gW(t){return(gW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wW(t,e){return(wW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var OW=function(t){function e(){return vW(this,e),mW(this,gW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wW(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Background Clip"}},{key:"isFirstShow",value:function(){return!1}},{key:"getTools",value:function(){return"<div ref='$backgroundClip' style='padding-top: 3px;'></div>"}},{key:Fr("$backgroundClip"),value:function(){var t=(this.$selection.current||{})["background-clip"]||"";return"<SelectEditor ref='$1' key='background-clip' icon=\"true\" value=\"".concat(t,'" options=",paddinb-box,border-box,content-box,text" onchange="changeSelect" />')}},{key:ed("changeSelect"),value:function(t,e){this.command("setAttribute","change background clip",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:ed("refreshSelection")+Ar(100),value:function(){this.refreshShow(["rect","circle","text"])}}])&&bW(n.prototype,r),o&&bW(n,o),e}(QB);function kW(t){return(kW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PW(t,e){return!e||"object"!==kW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xW(t){return(xW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _W(t,e){return(_W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var EW=["",":hover",":active",":before",":after",":first-child",":last-child",":link",":active",":focus"].join(","),$W=function(t){function e(){return jW(this,e),PW(this,xW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_W(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("selector.property.title")}},{key:"getBody",value:function(){return"<div class='selector-list' ref='$selectorList'></div>"}},{key:"getTools",value:function(){return"\n      <div style='display:inline-block;'>\n        <SelectEditor ref='$select' key='selector' icon=\"true\" key-value-char=';' none-value=\"selector\" options=\"".concat(EW,'" />\n      </div>\n      <button type="button" ref="$add" title="add Selector">').concat(Ag.add,"</button>\n    ")}},{key:"makeSelectorTemplate",value:function(t,e){return e=e.toString(),"\n      <div class='selector-item' draggable='true' ref='$selectorIndex".concat(e,"' data-index='").concat(e,"'>\n        <div class='title'>\n          <div class='name'>\n            <span>").concat(t.selector||"&lt;".concat(this.$i18n("selector.property.none"),"&gt;"),'</span>\n          </div>\n          <div class=\'tools\'>\n              <button type="button" class="del" data-index="').concat(e,'">').concat(Ag.remove2,"</button>\n          </div>\n        </div>\n      </div>\n    ")}},{key:rr("$selectorList .selector-item .name"),value:function(t){var e=+t.$dt.closest("selector-item").attr("data-index");this.$selection.current&&this.viewSelectorPicker(e)}},{key:rr("$selectorList .selector-item .del")+zr+Br,value:function(t){var e=t.$dt.attr("data-index"),n=this.$selection.current;n&&(n.removeSelector(e),this.emit("refreshElement",n),this.refresh())}},{key:ed("refreshSelection")+Ar(100),value:function(){this.refreshShowIsNot(["project","svg-path","svg-brush","svg-textpath","svg-text"])}},{key:Fr("$selectorList"),value:function(){var t=this,e=this.$selection.current;if(!e)return"";var n=e.selector?gg.parseStyle(e):e.selectors;return e.selector="",e.selectors=n,n.map((function(e,n){return t.makeSelectorTemplate(e,n)}))}},{key:ur("$selectorList .selector-item .title"),value:function(t){this.startIndex=+t.$dt.attr("data-index")}},{key:lr("$selectorList .selector-item")+zr,value:function(t){}},{key:sr("$selectorList .selector-item")+zr,value:function(t){var e=+t.$dt.attr("data-index"),n=this.$selection.current;n&&(n.sortSelector(this.startIndex,e),this.emit("refreshElement",n),this.refresh())}},{key:rr("$add"),value:function(){var t=this.$selection.current;t&&(t.createSelector({selector:this.children.$select.getValue()}),this.emit("refreshElement",t)),this.refresh()}},{key:"viewSelectorPicker",value:function(t){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t,this.selectItem(this.selectedIndex,!0),this.current=this.$selection.current,this.current&&(this.currentSelector=this.current.selectors[this.selectedIndex],this.viewSelectorPropertyPopup())}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.getRef("$selectorIndex",t).addClass("selected"):this.getRef("$selectorIndex",t).removeClass("selected"),this.current&&this.current.selectors.forEach((function(e,n){e.selected=n===t}))}},{key:"viewSelectorPropertyPopup",value:function(t){if(this.current=this.$selection.current,this.current){this.currentSelector=this.current.selectors[this.selectedIndex];var e=this.currentSelector,n=e.selector,r=e.properties;this.emit("showSelectorPopup",{position:t,selector:n,properties:r})}}},{key:ed("changeSelectorPopup"),value:function(t){this.current=this.$selection.current,this.current&&(this.currentselector=this.current.selectors[this.selectedIndex],this.currentSelector&&this.currentSelector.reset(t),this.refresh(),this.emit("refreshElement",this.current))}}])&&SW(n.prototype,r),o&&SW(n,o),e}(QB);function CW(t){return(CW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DW(t,e){return!e||"object"!==CW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VW(t){return(VW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function AW(t,e){return(AW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var IW=function(t){function e(){return TW(this,e),DW(this,VW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AW(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("position.property.title")}},{key:ed("refreshSelection"),value:function(){this.refreshShowIsNot(["project","artboard"])}},{key:ed("refreshRect")+Ar(100),value:function(){var t=this.$selection.current;if(!t)return"";this.children.$x&&this.children.$x.setValue(t.x),this.children.$y&&this.children.$y.setValue(t.y)}},{key:"isHideHeader",value:function(){return!0}},{key:"getBody",value:function(){return'\n      <div class="position-item" ref="$positionItem"></div>\n    '}},{key:Fr("$positionItem"),value:function(){var t=this.$selection.current;return t?"\n      <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px;'>\n        <div class='property-item animation-property-item' style='padding: 0px;'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='x'></span>\n          </div>\n          <InputRangeEditor ref='$x' key='x' value='".concat(t.x,"' min=\"-1000\" max='1000' onchange='changRangeEditor' />\n        </div>\n        <div class='property-item animation-property-item' style='padding: 0px;'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='y'></span>\n          </div>\n          <InputRangeEditor ref='$y' key='y' value='").concat(t.y,"' min=\"-1000\" max='1000' onchange='changRangeEditor' />\n        </div>\n      </div>\n      <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; text-align: center;padding: 4px 0px;'>\n        <span>").concat(this.$i18n("position.property.X"),"</span>\n        <span>").concat(this.$i18n("position.property.Y"),"</span>\n      </div>      \n    "):""}},{key:ed("changRangeEditor"),value:function(t,e){this.command("setAttribute","change position",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),this.emit("refreshAllElementBoundSize")}}])&&RW(n.prototype,r),o&&RW(n,o),e}(QB);function LW(t){return(LW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function MW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BW(t,e){return!e||"object"!==LW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function FW(t){return(FW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function HW(t,e){return(HW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var GW=function(t){function e(){return MW(this,e),BW(this,FW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HW(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("project.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"getTools",value:function(){return"\n      <button type='button' ref='$add' title=\"Add a project\">".concat(Ag.add,"</button>\n    ")}},{key:rr("$add"),value:function(){this.emit("addProject")}},{key:"getBody",value:function(){return'\n      <div class="project-list scrollbar" ref="$projectList"></div>\n    '}},{key:Fr("$projectList")+Vr,value:function(){var t=this;return(this.$editor.projects||[]).map((function(e,n){var r=e===t.$selection.currentProject?"selected":"";return("\n        <div class='project-item ".concat(r,"'>\n          <div class='detail'>\n            <label data-index='").concat(n,"'>").concat(e.name||"New Project",'</label>\n            <div class="tools">\n              <button type="button" class="remove" data-index="').concat(n,"\" title='Remove'>").concat(Ag.remove2,"</button>\n            </div>\n          </div>\n        </div>\n      "))}))}},{key:or("$projectList .project-item"),value:function(t){this.startInputEditing(t.$dt.$("label"))}},{key:"modifyDoneInputEditing",value:function(t){var e=this;this.endInputEditing(t,(function(t,n){var r=e.$editor.projects[t];r&&r.reset({name:n})}))}},{key:ar("$projectList .project-item label")+Tr+zr+Br,value:function(t){return this.modifyDoneInputEditing(t.$dt),!1}},{key:br("$projectList .project-item label")+zr+Br,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:"selectProject",value:function(t){t&&(this.$selection.selectProject(t),t.artboards.length&&(this.$selection.selectArtboard(t.artboards[0]),this.$selection.select())),this.refresh(),this.emit("refreshAllSelectProject")}},{key:rr("$projectList .project-item label"),value:function(t){var e=+t.$dt.attr("data-index");this.selectProject(this.$editor.projects[e])}},{key:rr("$projectList .project-item .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.$editor.projects.splice(e);var n=this.$editor.projects[e]||this.$editor.projects[e-1];this.selectProject(n)}},{key:ed("refreshProjectList"),value:function(){this.refresh()}}])&&zW(n.prototype,r),o&&zW(n,o),e}(QB);function YW(t){return(YW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KW(t,e){return!e||"object"!==YW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function WW(t){return(WW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function UW(t,e){return(UW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ZW=function(t){function e(){return XW(this,e),KW(this,WW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UW(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("artboard.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"getTools",value:function(){return"\n      <button type='button' ref='$add' title=\"Add a artboard\">".concat(Ag.add,"</button>\n    ")}},{key:"getBody",value:function(){return'\n      <div class="artboard-list scrollbar" ref="$artboardList"></div>\n    '}},{key:Fr("$artboardList")+Vr,value:function(){var t=this,e=this.$selection.currentProject;return e?e.artboards.map((function(e,n){var r=e===t.$selection.currentArtboard?"selected":"",o="";return e&&e.hasLayout()&&(o=t.$i18n("artboard.property.layout.title."+e.layout)),"\n        <div class='artboard-item ".concat(r,"' data-layout=\"").concat(e.layout,"\" data-artboard-id='").concat(e.id,"'>\n          <div class='preview icon'>").concat(Ag.doc,"</div>\n          <div class='detail'>\n            <label data-index='").concat(n,"' data-layout-title='").concat(o,"' >").concat(e.name,'</label>\n            <div class="tools">\n              <button type="button" class="remove" data-index="').concat(n,"\" title='Remove'>").concat(Ag.remove2,"</button>\n            </div>\n          </div>\n        </div>\n      ")})):""}},{key:or("$artboardList .artboard-item"),value:function(t){this.startInputEditing(t.$dt.$("label"))}},{key:"modifyDoneInputEditing",value:function(t){var e=this;this.endInputEditing(t,(function(t,n){var r=e.$selection.currentProject;if(r){var o=r.artboards[t];o&&(o.reset({name:n}),e.emit("refreshArtBoardName",o.id,n))}}))}},{key:ar("$artboardList .artboard-item label")+Tr+zr+Br,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:br("$artboardList .artboard-item label")+zr+Br,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:rr("$add"),value:function(t){this.emit("addArtBoard")}},{key:rr("$artboardList .artboard-item .remove"),value:function(t){var e=this.$selection.currentProject;if(e){var n=+t.$dt.attr("data-index");e.artboards.splice(n);var r=e.artboards[n]||e.artboards[n-1];this.emit("selectArtboard",r)}}},{key:rr("$artboardList .artboard-item label"),value:function(t){var e=this.$selection.currentProject;if(e){t.$dt.closest("artboard-item").onlyOneClass("selected");var n=+t.$dt.attr("data-index"),r=e.artboards[n];r&&this.emit("selectArtboard",r)}}},{key:ed("refreshArtBoardList"),value:function(){this.refresh()}},{key:ed("changeItemLayout"),value:function(){this.refresh()}}])&&NW(n.prototype,r),o&&NW(n,o),e}(QB);function qW(t){return(qW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JW(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function QW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?QW(Object(n),!0).forEach((function(e){eU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QW(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oU(t,e){return!e||"object"!==qW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iU(t){return(iU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aU(t,e){return(aU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cU=function(t){function e(){return nU(this,e),oU(this,iU(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aU(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("layer.tree.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"initState",value:function(){return{hideDragPointer:!0,lastDragOverPosition:0,lastDragOverOffset:0,rootRect:{top:0},itemRect:{height:0}}}},{key:"getBody",value:function(){return"\n      <div class=\"layer-list scrollbar\" ref=\"$layerList\"></div>\n      <div class='drag-point' ref='$dragPointer'></div>\n    "}},{key:Xr("$dragPointer"),value:function(){var t=this.state.lastDragOverOffset,e=this.state.itemRect.height/3,n={};if(this.state.lastDragOverOffset<e){t=0;var r=this.state.lastDragOverPosition+t-this.state.rootRect.top;n={top:_.px(r),height:"1px",width:"100%",left:"0px"},this.state.lastDragOverItemDirection="before"}else this.state.lastDragOverOffset>this.state.itemRect.height-e?(t=this.state.itemRect.height,r=this.state.lastDragOverPosition+t-this.state.rootRect.top,n={top:_.px(r),height:"1px",width:"100%",left:"0px"},this.state.lastDragOverItemDirection="after"):(t=0,r=this.state.lastDragOverPosition+t-this.state.rootRect.top,n={top:_.px(r),height:_.px(this.state.itemRect.height),width:"100%",left:"0px"},this.state.lastDragOverItemDirection="self");return{style:tU({position:"absolute"},n,{display:this.state.hideDragPointer?"none":"block"})}}},{key:"getIcon",value:function(t){if(t.isGroup)return Ag.group;switch(t.itemType){case"circle":return Ag.lens;case"image":return Ag.image;case"text":case"svg-text":return Ag.title;case"svg-textpath":return Ag.text_rotate;case"svg-path":return Ag.pentool;case"cube":return Ag.cube;case"cylinder":return Ag.cylinder;default:return Ag.rect}}},{key:"makeLayerList",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.layers?JW(t.layers).reverse().map((function(t,r){var o=e.$selection.check(t)?"selected":"",i=t.name;t.is("text")&&(i=t.text||t.name);var a="";t.hasLayout()&&(a=e.$i18n("layer.tree.property.layout.title."+t.layout));var c=t.isTreeItemHide();return("        \n      <div class='layer-item ".concat(o,"' data-is-group=\"").concat(t.isGroup,'" data-depth="').concat(n,"\" data-layout='").concat(t.layout,"' data-layer-id='").concat(t.id,"' data-is-hide=\"").concat(c,"\"  draggable=\"true\">\n        <div class='detail'>\n          <label data-layout-title='").concat(a,"' > \n            <div class='folder ").concat(t.collapsed?"collapsed":"","'>").concat(Ag.arrow_right,"</div>\n            <span class='icon' data-item-type=\"").concat(t.itemType,'">').concat(e.getIcon(t),"</span> \n            <span class='name'>").concat(i,'</span>\n          </label>\n          <div class="tools">\n            <button type="button" class="lock" data-lock="').concat(t.lock,"\" title='Lock'>").concat(t.lock?Ag.lock:Ag.lock_open,'</button>\n            <button type="button" class="visible" data-visible="').concat(t.visible,"\" title='Visible'>").concat(Ag.visible,'</button>\n            <button type="button" class="remove" title=\'Remove\'>').concat(Ag.remove2,"</button>            \n          </div>\n        </div>\n      </div>\n\n      ").concat(e.makeLayerList(t,n+1),"\n    "))})).join(""):""}},{key:ed("refreshContent"),value:function(t){this.refresh()}},{key:Fr("$layerList")+Vr,value:function(){var t=this.$selection.currentArtboard;return t?this.makeLayerList(t,0)+'\n      <div class=\'layer-item \' data-depth="0" data-is-last="true">\n      </div>\n    ':""}},{key:ur("$layerList .layer-item"),value:function(t){var e=t.$dt.attr("data-layer-id");t.$dt.addClass("drag-start"),t.dataTransfer.setData("layer/id",e),this.state.rootRect=this.refs.$layerList.rect(),this.state.itemRect=t.$dt.rect(),this.setState({hideDragPointer:!1},!1),this.bindData("$dragPointer")}},{key:fr("$layerList .layer-item"),value:function(t){this.setState({hideDragPointer:!0},!1),this.bindData("$dragPointer"),this.refs.$layerList.$$(".".concat("drag-start")).forEach((function(t){t.removeClass("drag-start")}))}},{key:lr("$layerList .layer-item:not(.".concat("drag-start",")"))+zr,value:function(t){var e=t.$dt.attr("data-layer-id");this.state.lastDragOverItemId=e,this.state.lastDragOverPosition=t.$dt.rect().top,this.state.lastDragOverOffset=t.offsetY,this.bindData("$dragPointer")}},{key:sr("$layerList .layer-item:not(.".concat("drag-start",")")),value:function(t){var e=t.$dt.attr("data-layer-id"),n=t.dataTransfer.getData("layer/id");if(e!==n){var r=this.$selection.currentProject,o=r.searchById(e),i=r.searchById(n);o&&o.hasParent(i.id)||(o.add(i,this.state.lastDragOverItemDirection),this.$selection.select(i),this.setState({hideDragPointer:!0}),this.emit("refreshAll"))}}},{key:or("$layerList .layer-item"),value:function(t){this.startInputEditing(t.$dt.$(".name"))}},{key:"modifyDoneInputEditing",value:function(t){var e=this;this.endInputEditing(t,(function(n,r){var o=t.closest("layer-item").attr("data-layer-id"),i=e.$selection.currentProject.searchById(o);i&&i.reset({name:r})}))}},{key:ar("$layerList .layer-item .name")+Tr+zr+Br,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:br("$layerList .layer-item .name")+zr+Br,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:"selectLayer",value:function(t){t&&this.$selection.select(t),this.refresh(),this.emit("refreshSelection")}},{key:"addLayer",value:function(t){t&&(this.$selection.select(t),this.emit("refreshArtboard"))}},{key:rr("$add"),value:function(t){this.emit("newComponent","rect",{"background-color":Dn.random(),width:_.px(200),height:_.px(100)})}},{key:rr("$layerList .layer-item label .name"),value:function(t){var e=t.$dt.closest("layer-item");e.onlyOneClass("selected");var n=e.attr("data-layer-id"),r=this.$selection.currentProject.searchById(n);this.$selection.select(r),this.emit("history.refreshSelection")}},{key:rr("$layerList .layer-item label .folder"),value:function(t){var e=this.$selection.currentProject,n=t.$dt.closest("layer-item").attr("data-layer-id"),r=e.searchById(n);r.reset({collapsed:!r.collapsed}),this.refresh()}},{key:rr("$layerList .layer-item .visible"),value:function(t){var e=this.$selection.currentProject,n=t.$dt.closest("layer-item").attr("data-layer-id"),r=e.searchById(n);t.$dt.attr("data-visible",!r.visible),this.command("setAttribute","change visible for layer",{visible:!r.visible},r.id)}},{key:rr("$layerList .layer-item .remove"),value:function(t){var e=this.$selection.currentProject,n=t.$dt.closest("layer-item").attr("data-layer-id");this.$selection.removeById(n),e.searchById(n).remove(),this.refresh(),this.emit("refreshArtboard")}},{key:rr("$layerList .layer-item .lock"),value:function(t){var e=this.$selection.currentProject,n=t.$dt.closest("layer-item").attr("data-layer-id"),r=e.searchById(n),o=!r.lock;t.$dt.attr("data-lock",o),o&&(this.$selection.removeById(n),this.emit("history.refreshSelection")),this.command("setAttribute","change lock for layer",{lock:o},r.id)}},{key:ed("changeSelection"),value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&this.refs.$layerList){this.refs.$layerList.$$(".selected").forEach((function(t){t.removeClass("selected")}));var n=this.$selection.items.map((function(t){return'[data-layer-id="'.concat(t.id,'"]')})).join(",");n&&this.refs.$layerList.$$(n).forEach((function(e){e.addClass("selected");var n=t.$selection.itemKeys[e.attr("data-layer-id")];n.is("svg-path","svg-polygon")&&e.$(".icon").html(t.getIcon(n))}))}}},{key:ed("refreshSelection","history.refreshSelection"),value:function(){this.trigger("changeSelection",!0)}},{key:ed("refreshStylePosition"),value:function(){this.trigger("changeSelection")}},{key:ed("refreshLayerTreeView"),value:function(){this.refresh()}},{key:ed("changeItemLayout"),value:function(){this.refresh()}}])&&rU(n.prototype,r),o&&rU(n,o),e}(QB);function uU(t){return(uU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sU(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function lU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pU(t,e){return!e||"object"!==uU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yU(t){return(yU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hU(t,e){return(hU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dU=function(t){function e(){return lU(this,e),pU(this,yU(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hU(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"artboard-size-list"}},{key:ed("refreshSelection"),value:function(){this.refreshShow(["project","artboard"])}},{key:"initState",value:function(){return{selectedIndex:0,sizeList:[{category:"Web",groups:[{group:"Landscape",devices:[{device:"Web Small",size:"1024x600"},{device:"Web Medium",size:"1280x800"},{device:"Web Large",size:"1440x900"},{device:"Web X Large",size:"1920x1200"}]},{group:"Portrait",devices:[{device:"Web Small",size:"600x1024"},{device:"Web Medium",size:"800x1280"},{device:"Web Large",size:"900x1440"},{device:"Web X Large",size:"1200x1920"}]}]},{category:"Apple Devices",groups:[{group:"iphone",devices:[{device:"iPhone 8",size:"375x667"},{device:"iPhone 8 Plus",size:"414x736"},{device:"iPhone SE",size:"320x568"},{device:"iPhone XS",size:"375x812"},{device:"iPhone XR",size:"414x896"},{device:"iPhone XS Max",size:"414x896"}]},{group:"ipad",devices:[{device:"iPad",size:"768x1024"},{device:"iPad Pro",size:"1024x1366"}]},{group:"apple watch",devices:[{device:"Apple Watch 38nm",size:"272x340"},{device:"Apple Watch 40nm",size:"326x394"},{device:"Apple Watch 42nm",size:"313x390"},{device:"Apple Watch 44nm",size:"368x448"}]},{group:"apple tv",devices:[{device:"Apple TV",size:"1920x1080"}]},{group:"MAC",devices:[{device:"Touch Bar",size:"1085x30"}]}]},{category:"Android Devices",groups:[{group:"android mobile",devices:[{device:"Android Mobile",size:"360x640"}]},{group:"android tablet",devices:[{device:"Android Tablet",size:"768x1024"}]}]}]}}},{key:"getTitle",value:function(){return"Preset"}},{key:"getTools",value:function(){var t=this.state.sizeList.map((function(t,e){return{category:t.category,index:e}}));return("\n      <SelectEditor ref='$select' value=\"".concat(t[0].category,'" options="').concat(t.map((function(t){return t.category})).join(","),"\" onchange='changeSizeIndex'/>\n    "))}},{key:ed("changeSizeIndex"),value:function(t,e){var n=this.state.selectedIndex;this.state.sizeList.forEach((function(t,r){t.category===e&&(n=r)})),this.state.selectedIndex=n,this.refresh()}},{key:"getBody",value:function(){return"\n      <div class='artboard-size-item' ref='$list'></div>\n    "}},{key:"makeDevice",value:function(t){return"\n      <div class='device-item' data-size='".concat(t.size,"'>\n        <div class='title'>").concat(t.device,"</div>\n        <div class='size'>").concat(t.size,"</div>\n      </div>\n    ")}},{key:rr("$list .device-item"),value:function(t){var e=t.$dt.attr("data-size");this.emit("resizeArtBoard",e)}},{key:"makeGroup",value:function(t){var e=this;return("\n      <div class='group-item'>\n        <div class='title'>".concat(t.group,"</div>\n      </div>\n      <div class='devices'>\n        ").concat(t.devices.map((function(t){return e.makeDevice(t)})).join(""),"\n      </div>\n    "))}},{key:"makeCategory",value:function(t){var e=this;return("\n      <div class='category'>\n        <div class='title'>".concat(t.category,"</div>\n      </div>\n      <div class='groups'>\n        ").concat(t.groups.map((function(t){return e.makeGroup(t)})).join(""),"\n      </div>\n    "))}},{key:Fr("$list")+Vr,value:function(){var t=this;return this.state.sizeList[this.state.selectedIndex].groups.map((function(e){return t.makeGroup(e)}))}},{key:ed("changeBoardSize"),value:function(t,e){var n=this.$selection.currentArtboard;if(n&&n.is("artboard")){if(!e.trim())return;var r=sU(e.split("x"),2),o=r[0],i=r[1];o=_.px(o),i=_.px(i),this.command("setAttributeForMulti","resize artboard",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n.id,{width:o,height:i}))}}}])&&fU(n.prototype,r),o&&fU(n,o),e}(QB);function vU(t){return(vU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bU(Object(n),!0).forEach((function(e){gU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wU(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function OU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jU(t,e){return!e||"object"!==vU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function SU(t){return(SU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function PU(t,e){return(PU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xU=["","100x100","200x200","300x300","400x300","900x600","1024x762"],_U=function(t){function e(){return OU(this,e),jU(this,SU(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PU(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"item"}},{key:"getTitle",value:function(){return this.$i18n("image.property.title")}},{key:"getBody",value:function(){return"<div ref='$body' style='padding-top: 3px;'></div>"}},{key:"getFooter",value:function(){return"\n      <div>\n        <label> ".concat(this.$i18n("image.property.origin")," </label> <span ref='$sizeInfo'></span> <button type=\"button\" ref='$resize'>").concat(Ag.size,"</button>\n      </div>\n      <div>\n        <SelectEditor ref='$select' label=\"").concat(this.$i18n("image.property.size"),"\" key='size' value='' options='").concat(xU.join(","),"' onchange='changeImageSize' />\n      </div>\n    ")}},{key:ed("changeImageSize"),value:function(t,e){var n=wU(e.split("x").map((function(t){return _.px(t)})),2),r=n[0],o=n[1];this.command("setAttribute","resize image",{width:r,height:o})}},{key:rr("$resize"),value:function(){var t=this.$selection.current;if(t){var e={width:t.naturalWidth.clone(),height:t.naturalHeight.clone()};this.command("setAttribute","resize image",e)}}},{key:Xr("$sizeInfo"),value:function(){var t=this.$selection.current||{};return{innerHTML:"".concat(this.$i18n("image.property.width"),": ").concat(t.naturalWidth,", ").concat(this.$i18n("image.property.height"),": ").concat(t.naturalHeight)}}},{key:Fr("$body"),value:function(){var t=(this.$selection.current||{}).url||"";return"<ImageSelectEditor \n              ref='$1' \n              key='src' \n              value=\"".concat(t,'" \n              onchange="changeSelect" />')}},{key:ed("changeSelect"),value:function(t,e,n){var r=this.$selection.current;r&&(r.reset(mU({src:e},n)),this.bindData("$sizeInfo"),this.command("setAttribute","change image",mU({src:e},n),r.id))}},{key:ed("refreshSelection")+Ar(100),value:function(){this.refreshShow(["image"])}}])&&kU(n.prototype,r),o&&kU(n,o),e}(QB),EU={title:"random",key:"random",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return Dn.randomByCount(t).map((function(t){return{color:t}}))}},$U=["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#f44336","#ff8a80","#ff5252","#ff1744","#d50000"].map((function(t){return{color:t}})),CU={title:"material red",key:"material-red",execute:function(){return $U}},TU=["#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#e91e63","#ff80ab","#ff4081","#f50057","#c51162"].map((function(t){return{color:t}})),RU={title:"material pink",key:"material-pink",execute:function(){return TU}},DU=["#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#9c27b0","#ea80fc","#e040fb","#d500f9","#aa00ff"].map((function(t){return{color:t}})),VU={title:"material purple",key:"material-purple",execute:function(){return DU}},AU=["#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#673ab7","#b388ff","#7c4dff","#651fff","#6200ea"].map((function(t){return{color:t}})),IU={title:"material deep purple",key:"material-deeppurple",execute:function(){return AU}},LU=["#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#3f51b5","#8c9eff","#536dfe","#3d5afe","#304ffe"].map((function(t){return{color:t}})),MU={title:"material indigo",key:"material-indigo",execute:function(){return LU}},zU=["#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#2196f3","#82b1ff","#448aff","#2979ff","#2962ff"].map((function(t){return{color:t}})),BU={title:"material blue",key:"material-blue",execute:function(){return zU}},FU=["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#03a9f4","#80d8ff","#40c4ff","#00b0ff","#0091ea"].map((function(t){return{color:t}})),HU={title:"material light blue",key:"material-lightblue",execute:function(){return FU}},GU=["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#00bcd4","#84ffff","#18ffff","#00e5ff","#00b8d4"].map((function(t){return{color:t}})),YU={title:"material cyan",key:"material-cyan",execute:function(){return GU}},XU=["#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#009688","#a7ffeb","#64ffda","#1de9b6","#00bfa5"].map((function(t){return{color:t}})),NU={title:"material teal",key:"material-teal",execute:function(){return XU}},KU=["#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32","#1B5E20","#B9F6CA","#69F0AE","#00E676","#00C853"].map((function(t){return{color:t}})),WU={title:"material green",key:"material-green",execute:function(){return KU}},UU=["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E","#CCFF90","#B2FF59","#76FF03","#64DD17"].map((function(t){return{color:t}})),ZU={title:"material lightgreen",key:"material-lightgreen",execute:function(){return UU}},qU=["#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24","#827717","#F4FF81","#EEFF41","#C6FF00","#AEEA00"].map((function(t){return{color:t}})),JU={title:"material lime",key:"material-lime",execute:function(){return qU}},QU=["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17","#FFFF8D","#FFFF00","#FFEA00","#FFD600"].map((function(t){return{color:t}})),tZ={title:"material yellow",key:"material-yellow",execute:function(){return QU}},eZ=["#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00","#FF6F00","#FFE57F","#FFD740","#FFC400","#FFAB00"].map((function(t){return{color:t}})),nZ={title:"material amber",key:"material-amber",execute:function(){return eZ}},rZ=["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100","#FFD180","#FFAB40","#FF9100","#FF6D00"].map((function(t){return{color:t}})),oZ={title:"material orange",key:"material-orange",execute:function(){return rZ}},iZ=["#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315","#BF360C","#FF9E80","#FF6E40","#FF3D00","#DD2C00"].map((function(t){return{color:t}})),aZ={title:"material deep orange",key:"material-deeporange",execute:function(){return iZ}},cZ=["#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E","#3E2723"].map((function(t){return{color:t}})),uZ={title:"material brown",key:"material-brown",execute:function(){return cZ}},sZ=["#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#212121"].map((function(t){return{color:t}})),lZ={title:"material gray",key:"material-gray",execute:function(){return sZ}},fZ=["#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F","#263238"].map((function(t){return{color:t}})),pZ={title:"material bluegray",key:"material-bluegray",execute:function(){return fZ}},yZ=["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"].map((function(t){return{color:t}})),hZ=[EU,{title:"opencolor gray",resource:"https://yeun.github.io/open-color/",key:"opencolor-gray",execute:function(){return yZ}},CU,RU,VU,IU,MU,BU,HU,YU,NU,WU,ZU,JU,tZ,nZ,oZ,aZ,uZ,lZ,pZ];function dZ(t){return(dZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mZ(t,e){return!e||"object"!==dZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gZ(t){return(gZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wZ(t,e){return(wZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var OZ=function(t){function e(){return vZ(this,e),mZ(this,gZ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wZ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("color.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid",preset:"random"}}},{key:"getTools",value:function(){var t=hZ.map((function(t){return"".concat(t.key,":").concat(t.title)}));return('\n      <SelectEditor key="preset" value="'.concat(this.state.preset,'" options="').concat(t,'" onchange="changePreset"  />\n    '))}},{key:ed("changePreset"),value:function(t,e){this.setState(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"getClassName",value:function(){return"color-assets-property"}},{key:ed("refreshSelection")+Ar(100),value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item color-assets'>\n        <div class='color-list' ref='$colorList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:ur("$colorList .color-item"),value:function(t){var e=t.$dt.attr("data-color");t.dataTransfer.effectAllowed="copy",t.dataTransfer.setData("text/color",e)}},{key:Fr("$colorList"),value:function(){var t=this,e=hZ.find((function(e){return e.key===t.state.preset}));if(!e)return"";var n=e.execute().map((function(t,e){return"\n        <div class='color-item' data-index=\"".concat(e,'" data-color="').concat(t.color,'" data-custom="').concat(t.custom,"\">\n          <div class='preview' title=\"").concat(t.color,'" data-index="').concat(e,"\" draggable=\"true\"><div class='color-view' style='background-color: ").concat(t.color,";'></div></div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>").concat(Ag.copy,"</button>          \n            <button type=\"button\" class='remove'>").concat(Ag.remove,"</button>\n          </div>\n        </div>\n      ")}));return e.edit&&n.push("<div class='add-color-item'><butto type=\"button\">".concat(Ag.add,"</button></div>")),n}},{key:"executeColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshColorAssets")):alert("Please select a project.")}},{key:rr("$colorList .add-color-item"),value:function(){this.executeColor((function(t){t.createColor({color:Dn.random(),name:"",variable:""})}))}},{key:rr("$colorList .remove"),value:function(t){var e=+t.$dt.closest("color-item").attr("data-index");this.executeColor((function(t){t.removeColor(e)}))}},{key:rr("$colorList .copy"),value:function(t){var e=+t.$dt.closest("color-item").attr("data-index");this.executeColor((function(t){t.copyColor(e)}))}},{key:rr("$colorList .preview"),value:function(t){var e=t.$dt.$(".color-view").css("background-color");"CanvasView"===this.$editor.modeView?this.emit("addBackgroundColor",e):this.emit("setColorAsset",{color:e})}},{key:ed("changeColorAssets"),value:function(t,e){var n=this;this.executeColor((function(r){r.setColorValue(e.index,{color:t}),n.state.$el.css("background-color",t),n.state.$color.val(t)}),!1)}}])&&bZ(n.prototype,r),o&&bZ(n,o),e}(QB);function kZ(t){return(kZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PZ(t,e){return!e||"object"!==kZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xZ(t){return(xZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _Z(t,e){return(_Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var EZ=function(t){function e(){return jZ(this,e),PZ(this,xZ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_Z(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("text.fill.property.title")}},{key:"afterRender",value:function(){this.show()}},{key:ed("refreshSelection"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$fillColor.setValue(t["text-fill-color"]||"rgba(0, 0, 0, 1)"),this.children.$strokeColor.setValue(t["text-stroke-color"]||"rgba(0, 0, 0, 1)"),this.children.$width.setValue(t["text-stroke-width"]||"0px"))}},{key:"getBody",value:function(){return"\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-fill-color'></span>\n        </div>\n        <ColorViewEditor ref='$fillColor' label='".concat(this.$i18n("text.fill.property.fill"),"' key='text-fill-color' onchange=\"changeColor\" />\n      </div>           \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-stroke-color'></span>\n        </div>\n        <ColorViewEditor ref='$strokeColor' label='").concat(this.$i18n("text.fill.property.stroke"),"' key='text-stroke-color' onchange=\"changeColor\" />\n      </div>                 \n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-stroke-width'></span>\n        </div>\n        <RangeEditor \n          ref='$width' \n          label='").concat(this.$i18n("text.fill.property.strokeWidth"),'\' \n          key="text-stroke-width" \n          \n          max="50"\n          onchange="changeRangeEditor" />\n      </div>\n    \n    ')}},{key:ed("changeColor"),value:function(t,e,n){this.trigger("changeRangeEditor",t,e)}},{key:ed("changeRangeEditor"),value:function(t,e){this.command("setAttribute","change text fill",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&SZ(n.prototype,r),o&&SZ(n,o),e}(QB),$Z=["0deg","45deg","90deg"],CZ=["0deg","45deg","90deg"],TZ=["0deg","45deg","90deg"],RZ=[{title:"Linear",key:"linear",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"linear-gradient(".concat(pe.apply(void 0,$Z),", ").concat(Zi.createColorStep(2),")")}}))}},{title:"Random Linear",key:"random-linear",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"linear-gradient(".concat(pe.apply(void 0,CZ),", ").concat(Zi.createColorStep(10),")")}}))}},{title:"Repeat Linear",key:"repeat-linear",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"repeating-linear-gradient(".concat(pe.apply(void 0,TZ),", ").concat(Zi.createRepeatColorStep(2,"10px"),")")}}))}},{title:"Radial",key:"radial",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"radial-gradient(".concat("circle",", ").concat(Zi.createColorStep(2),")")}}))}},{title:"Random Radial",key:"random-radial",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"radial-gradient(circle, ".concat(Zi.createColorStep(10),")")}}))}},{title:"Repeat Radial",key:"repeat-radial",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"repeating-radial-gradient(".concat("circle",", ").concat(Zi.createRepeatColorStep(3,"6px"),")")}}))}},{title:"Conic",key:"conic",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){var e=b(45,55),n=b(45,55),r=b(0,360);return{gradient:"conic-gradient(from ".concat(r,"deg at ").concat(e,"% ").concat(n,"%, ").concat(Zi.createColorStep(2,360,"deg"),")")}}))}},{title:"Random Conic",key:"random-conic",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"conic-gradient(from 0deg at 50% 50%, ".concat(Zi.createColorStep(10,360,"deg"),")")}}))}},{title:"Repeat Conic",key:"repeat-conic",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"repeating-conic-gradient(from 0deg at 0% 50%, ".concat(Zi.createRepeatColorStep(10,"10deg"),")")}}))}}];function DZ(t){return(DZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IZ(t,e){return!e||"object"!==DZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function LZ(t){return(LZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function MZ(t,e){return(MZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zZ=function(t){function e(){return VZ(this,e),IZ(this,LZ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&MZ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("gradient.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid",preset:"linear"}}},{key:"getTools",value:function(){var t=RZ.map((function(t){return"".concat(t.key,":").concat(t.title)}));return('\n      <SelectEditor key="preset" value="'.concat(this.state.preset,'" options="').concat(t,'" onchange="changePreset"  />\n    '))}},{key:ed("changePreset"),value:function(t,e){this.setState(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"getClassName",value:function(){return"gradient-assets-property"}},{key:ed("refreshSelection")+Ar(100),value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item gradient-assets'>\n        <div class='gradient-list' ref='$gradientList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:ur("$gradientList .gradient-item"),value:function(t){var e=t.$dt.attr("data-gradient");t.dataTransfer.effectAllowed="copy",t.dataTransfer.setData("text/gradient",e)}},{key:Fr("$gradientList"),value:function(){var t=this,e=RZ.find((function(e){return e.key===t.state.preset}));if(!e)return"";var n=e.execute().map((function(t,e){return"\n        <div class='gradient-item' data-index=\"".concat(e,"\" data-gradient='").concat(t.gradient,"' data-custom=\"").concat(t.custom,"\">\n          <div class='preview' title=\"").concat(t.gradient,"\" draggable=\"true\">\n            <div class='gradient-view' style='background-image: ").concat(t.gradient,";'></div>\n          </div>\n        </div>\n      ")}));return e.edit&&n.push("<div class='add-gradient-item'><butto type=\"button\">".concat(Ag.add,"</button></div>")),n}},{key:"executeGradient",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshGradientAssets")):alert("Please select a project.")}},{key:rr("$gradientList .add-gradient-item"),value:function(){this.executeGradient((function(t){t.createGradient({gradient:ua.random(),name:"",variable:""})}))}},{key:rr("$gradientList .preview"),value:function(t){var e=t.$dt.closest("gradient-item").attr("data-gradient");this.emit("drop.asset",{gradient:e})}},{key:ed("changeGradientAssets"),value:function(t,e){var n=this;this.executeGradient((function(r){r.setGradientValue(e.index,{image:t}),n.state.$el.css("background-image",t),n.state.$item.attr("data-gradient",t)}),!1)}}])&&AZ(n.prototype,r),o&&AZ(n,o),e}(QB);function BZ(t){return(BZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GZ(t,e){return!e||"object"!==BZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YZ(t){return(YZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function XZ(t,e){return(XZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var NZ=function(t){function e(){return FZ(this,e),GZ(this,YZ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XZ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("svg.item.property.title")}},{key:"getClassName",value:function(){return"item"}},{key:"isSVGItem",value:function(t){return t.is("svg-path","svg-brush","svg-polygon","svg-textpath","svg-text")}},{key:ed("refreshStyleView","refreshRect","refreshCanvasForPartial","updatePathItem")+Ir(100),value:function(){var t=this.$selection.current;t&&this.isSVGItem(t)&&this.refs.$length.text(Math.floor(t.totalLength)||"")}},{key:ed("refreshSelection"),value:function(){var t=this.$selection.current;t&&this.isSVGItem(t)?(this.$el.isHide()&&this.$el.show(),this.refs.$length.text(t.totalLength||""),this.children.$fill.setValue(t.fill||"rgba(0, 0, 0, 0)"),this.children.$stroke.setValue(t.stroke||"rgba(0, 0, 0, 1)"),this.children.$fillOpacity.setValue(t["fill-opacity"]||_.number(1)),this.children.$strokeWidth.setValue(t["stroke-width"]||_.number(1)),this.children.$fillRule.setValue(t["fill-rule"]||"nonzero"),this.children.$strokeDashOffset.setValue(t["stroke-dashoffset"]||_.number(0)),this.children.$strokeDashArray.setValue(t["stroke-dasharray"]||" "),this.children.$strokeLineCap.setValue(t["stroke-linecap"]||"butt"),this.children.$strokeLineJoin.setValue(t["stroke-linejoin"]||"miter")):this.$el.hide()}},{key:"refresh",value:function(){}},{key:Xr("$svgProperty"),value:function(){return{style:{display:(this.$selection.current||{})["motion-based"]?"none":"block"}}}},{key:"getBody",value:function(){var t=this.$selection.current||{};return("\n\n      <div class='property-item'> \n        <label>\n          <input type='checkbox' ref='$motionBased' ".concat(be({checked:!!t["motion-based"]})," /> \n          ").concat(this.$i18n("svg.item.property.isMotionPath"),"\n        </label>\n      </div>      \n\n      <div ref='$svgProperty'>\n        <div class='property-item animation-property-item' ref='$path'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='d'></span>      \n          </div>            \n          <label>").concat(this.$i18n("svg.item.property.path")," - <span>").concat(this.$i18n("svg.item.property.totalLength"),"</span> <span ref='$length'></span> </label>\n        </div>      \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill'></span>\n          </div>\n          <FillSingleEditor ref='$fill' label='").concat(this.$i18n("svg.item.property.fill"),"' key='fill' onchange=\"changeValue\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill-opacity'></span>\n          </div>            \n          <NumberRangeEditor \n            ref='$fillOpacity' \n            label='").concat(this.$i18n("svg.item.property.fillOpacity"),"' \n            key='fill-opacity' \n            value=\"1\" \n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            onchange=\"changeValue\" \n            />\n        </div>   \n\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill-rule'></span>\n          </div>\n          <SelectIconEditor \n            ref='$fillRule' \n            label='").concat(this.$i18n("svg.item.property.fillRule"),"' \n            key=\"fill-rule\" \n            options=\"nonzero,evenodd\" \n            onchange=\"changeValue\" />\n        </div>            \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke'></span>\n          </div>\n          <FillSingleEditor ref='$stroke' label='").concat(this.$i18n("svg.item.property.stroke"),"' key='stroke' onchange=\"changeValue\" />\n        </div>      \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-width'></span>\n          </div>\n          <RangeEditor \n            ref='$strokeWidth' \n            label='").concat(this.$i18n("svg.item.property.strokeWidth"),"' \n            key=\"stroke-width\" \n            onchange=\"changeValue\" />\n        </div>\n              \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-dasharray'></span>      \n          </div>          \n          <label>").concat(this.$i18n("svg.item.property.dashArray"),"</label>\n        </div>\n        <div class='property-item'>\n          <StrokeDashArrayEditor ref='$strokeDashArray' key='stroke-dasharray' onchange=\"changeValue\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-dashoffset'></span>      \n          </div>          \n          <NumberRangeEditor \n            ref='$strokeDashOffset' \n            key='stroke-dashoffset' \n            label='").concat(this.$i18n("svg.item.property.dashOffset"),"'\n            value=\"0\" \n            min=\"-1000\"\n            max=\"1000\"\n            step=\"1\"\n            onchange=\"changeValue\" \n            />\n        </div>         \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-linecap'></span>      \n          </div>          \n          <SelectIconEditor \n            ref='$strokeLineCap' \n            label='").concat(this.$i18n("svg.item.property.lineCap"),"' \n            key=\"stroke-linecap\" \n            options=\"butt,round,square\" \n            onchange=\"changeValue\" \n          />\n        </div> \n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-linejoin'></span>      \n          </div>          \n          <SelectIconEditor \n            ref='$strokeLineJoin' \n            label='").concat(this.$i18n("svg.item.property.lineJoin"),"'             \n            key=\"stroke-linejoin\" \n            options=\"miter,bevel,round\" \n            onchange=\"changeValue\" \n          />\n        </div>        \n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='svgfilter'></span>      \n          </div>\n          <SVGFilterSelectEditor \n            ref='$svgFilter' \n            label='").concat(this.$i18n("svg.item.property.filter"),'\' \n            key="svgfilter" \n            onchange="changeValue" \n          />\n        </div>         \n      </div>\n   \n    '))}},{key:rr("$motionBased"),value:function(){this.command("setAttribute","set motion base",{"motion-based":this.refs.$motionBased.checked()})}},{key:ed("changeValue"),value:function(t,e,n){this.command("setAttribute","change svg item property : ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e),null,!0)}}])&&HZ(n.prototype,r),o&&HZ(n,o),e}(QB);function KZ(t){return(KZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZZ(t,e){return!e||"object"!==KZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qZ(t){return(qZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function JZ(t,e){return(JZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var QZ=function(t){function e(){return WZ(this,e),ZZ(this,qZ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&JZ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("text.clip.property.title")}},{key:"isFirstShow",value:function(){return!1}},{key:"getClassName",value:function(){return"item"}},{key:"getTools",value:function(){return"<div ref='$textClip'></div>"}},{key:Fr("$textClip"),value:function(){var t=(this.$selection.current||{})["text-clip"]||"";return"\n      <SelectEditor ref='$1' key='text-clip' icon=\"true\" value=\"".concat(t,'" options=",text" onchange="changeSelect" />\n    ')}},{key:ed("changeSelect"),value:function(t,e){this.emit("setAttribute",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:ed("refreshSelection")+Ar(100),value:function(){this.refreshShow(["text"])}}])&&UZ(n.prototype,r),o&&UZ(n,o),e}(QB);function tq(t){return(tq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rq(t,e){return!e||"object"!==tq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oq(t){return(oq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function iq(t,e){return(iq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var aq=function(t){function e(){return eq(this,e),rq(this,oq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iq(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("svgfilter.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid"}}},{key:"getClassName",value:function(){return"svgfilter-assets-property"}},{key:ed("refreshSelection")+Ar(100),value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item svgfilter-assets'>\n        <div class='svgfilter-list' ref='$svgfilterList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:Fr("$svgfilterList"),value:function(){var t=(this.$selection.currentProject||{svgfilters:[]}).svgfilters.map((function(t,e){var n=t.filters.map((function(t){return pE.parse(t)}));return("\n        <div class='svgfilter-item' data-index=\"".concat(e,"\">\n          <div class='preview' data-index=\"").concat(e,'">\n            <svg width="0" height="0">\n              <filter id="svgfilter-').concat(e,'">\n                ').concat(n.join("")," \n              </filter>\n            </svg>\n            <div class='svgfilter-view' style='filter: url(#svgfilter-").concat(e,");'></div>\n          </div>\n          <div class='title'>\n            <div>\n              <input type='text' class='id' data-key='id' value='").concat(t.id,"' placeholder=\"id\" />\n            </div>\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>").concat(Ag.copy,"</button>          \n            <button type=\"button\" class='remove'>").concat(Ag.remove,"</button>\n          </div>\n        </div>\n      "))}));return t.push("<div class='add-svgfilter-item'><button type=\"button\">".concat(Ag.add,"</button></div>")),t}},{key:"executeSVGFilter",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshSVGFilterAssets")):alert("Please select a project.")}},{key:rr("$svgfilterList .add-svgfilter-item"),value:function(){this.executeSVGFilter((function(t){t.createSVGFilter({id:Z(),filters:[]})}))}},{key:rr("$svgfilterList .remove"),value:function(t){var e=+t.$dt.closest("svgfilter-item").attr("data-index");this.executeSVGFilter((function(t){t.removeSVGFilter(e)}))}},{key:rr("$svgfilterList .copy"),value:function(t){var e=+t.$dt.closest("svgfilter-item").attr("data-index");this.executeSVGFilter((function(t){t.copySVGFilter(e)}))}},{key:hr("$svgfilterList input"),value:function(t){var e=this,n=+t.$dt.closest("svgfilter-item").attr("data-index"),r=t.$dt.attrKeyValue("data-key");this.executeSVGFilter((function(t){t.setSVGFilterValue(n,r),e.emit("refreshSVGArea")}),!1)}},{key:rr("$svgfilterList .preview"),value:function(t){var e=t.$dt.closest("svgfilter-item"),n=+e.attr("data-index");this.state.$item=e,this.state.$el=t.$dt.$(".svgfilter-view");var r=(this.$selection.currentProject||{svgfilters:[]}).svgfilters[n];this.emit("showSVGFilterPopup",{changeEvent:"changeSVGFilterAssets",id:this.id,index:n,filters:r.filters})}},{key:ed("updateSVGFilterAssets"),value:function(t){var e=this;this.executeSVGFilter((function(n){n.setSVGFilterValue(t.index,{filters:t.filters}),e.state.$item.$("filter").html(t.filters.join("\n")),e.emit("refreshSVGArea")}),!1)}},{key:ed("changeSVGFilterAssets"),value:function(t){t.id===this.id&&this.trigger("updateSVGFilterAssets",t)}},{key:ed("refreshSVGFilterAssets"),value:function(){this.refresh()}}])&&nq(n.prototype,r),o&&nq(n,o),e}(QB);function cq(t){return(cq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lq(t,e){return!e||"object"!==cq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fq(t){return(fq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pq(t,e){return(pq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yq=function(t){function e(){return uq(this,e),lq(this,fq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pq(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n        <button type="button" class=\'menu-item '.concat(this.getClassName(),"' data-no-title=\"").concat(this.isHideTitle(),'" ').concat(this.isHideTitle()?'title="'.concat(this.getTitle(),'"'):"",' checked="').concat(this.getChecked()?"checked":"",'">\n            <div class="icon ').concat(this.getIcon(),'">').concat(this.getIconString(),'</div>\n            <div class="title">').concat(this.getTitle(),"</div>\n        </button>\n        ")}},{key:"getClassName",value:function(){return""}},{key:"clickButton",value:function(t){}},{key:"getChecked",value:function(){return!1}},{key:"setSelected",value:function(t){this.$el.toggleClass("selected",t)}},{key:"getTitle",value:function(){return""}},{key:"getIcon",value:function(){return""}},{key:"getIconString",value:function(){return""}},{key:"isHideTitle",value:function(){return!1}},{key:rr(),value:function(t){this.clickButton(t)}}])&&sq(n.prototype,r),o&&sq(n,o),e}(nd);function hq(t){return(hq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bq(t,e){return!e||"object"!==hq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mq(t){return(mq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gq(t,e){return(gq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wq=function(t){function e(){return dq(this,e),bq(this,mq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gq(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return"github"}},{key:"getTitle",value:function(){return this.$i18n("menu.item.github.title")}},{key:"clickButton",value:function(t){window.open("https://github.com/easylogic/editor","github-window")}}])&&vq(n.prototype,r),o&&vq(n,o),e}(yq);function Oq(t){return(Oq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xq(t,e){return!e||"object"!==Oq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _q(t){return(_q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Eq(t,e){return(Eq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $q=function(t){function e(){return Sq(this,e),xq(this,_q(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eq(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n    <form class=\'codepen\' action="https://codepen.io/pen/define" method="POST" target="_code_pen">\n      <input type="hidden" name="data" ref="$codepen" value=\'\'>\n      <button type="submit">\n        <div class=\'icon codepen\'></div>\n        <div class=\'title\'>'.concat(this.$i18n("menu.item.codepen.title"),"</div>\n      </button>\n    </form>     \n    ")}},{key:Or(),value:function(){var t=Dp.generate(this.$editor);return this.refs.$codepen.val(JSON.stringify(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kq(Object(n),!0).forEach((function(e){jq(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kq(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({title:"sapa - editor.easylogic.studio",description:"https://editor.easylogic.studio",js_external:"https://cdn.jsdelivr.net/npm/@easylogic/anipa@0.0.11/dist/main.js"},t))),!1}}])&&Pq(n.prototype,r),o&&Pq(n,o),e}(nd);function Cq(t){return(Cq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dq(t,e){return!e||"object"!==Cq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vq(t){return(Vq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Aq(t,e){return(Aq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Iq=function(t){function e(){return Tq(this,e),Dq(this,Vq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Aq(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.rect}},{key:"getTitle",value:function(){return this.props.title||"Rect"}},{key:"clickButton",value:function(t){this.emit("addLayerView","rect")}},{key:ed("addLayerView"),value:function(t){this.setSelected("rect"===t)}}])&&Rq(n.prototype,r),o&&Rq(n,o),e}(yq);function Lq(t){return(Lq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bq(t,e){return!e||"object"!==Lq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fq(t){return(Fq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hq(t,e){return(Hq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Gq=function(t){function e(){return Mq(this,e),Bq(this,Fq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hq(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.lens}},{key:"getTitle",value:function(){return this.props.title||"Circle"}},{key:"clickButton",value:function(t){this.emit("addLayerView","circle")}},{key:ed("addLayerView"),value:function(t){this.setSelected("circle"===t)}}])&&zq(n.prototype,r),o&&zq(n,o),e}(yq);function Yq(t){return(Yq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kq(t,e){return!e||"object"!==Yq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wq(t){return(Wq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Uq(t,e){return(Uq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zq=function(t){function e(){return Xq(this,e),Kq(this,Wq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uq(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.left}},{key:"getTitle",value:function(){return"Left"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.left")}}])&&Nq(n.prototype,r),o&&Nq(n,o),e}(yq);function qq(t){return(qq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tJ(t,e){return!e||"object"!==qq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eJ(t){return(eJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nJ(t,e){return(nJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rJ=function(t){function e(){return Jq(this,e),tJ(this,eJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nJ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.right}},{key:"getTitle",value:function(){return"Right"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.right")}}])&&Qq(n.prototype,r),o&&Qq(n,o),e}(yq);function oJ(t){return(oJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cJ(t,e){return!e||"object"!==oJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uJ(t){return(uJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sJ(t,e){return(sJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lJ=function(t){function e(){return iJ(this,e),cJ(this,uJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sJ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.center}},{key:"getTitle",value:function(){return"Center"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.center")}}])&&aJ(n.prototype,r),o&&aJ(n,o),e}(yq);function fJ(t){return(fJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hJ(t,e){return!e||"object"!==fJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dJ(t){return(dJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vJ(t,e){return(vJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bJ=function(t){function e(){return pJ(this,e),hJ(this,dJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vJ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.top}},{key:"getTitle",value:function(){return"Top"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.top")}}])&&yJ(n.prototype,r),o&&yJ(n,o),e}(yq);function mJ(t){return(mJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OJ(t,e){return!e||"object"!==mJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kJ(t){return(kJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jJ(t,e){return(jJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var SJ=function(t){function e(){return gJ(this,e),OJ(this,kJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jJ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.bottom}},{key:"getTitle",value:function(){return"Bottom"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.bottom")}}])&&wJ(n.prototype,r),o&&wJ(n,o),e}(yq);function PJ(t){return(PJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EJ(t,e){return!e||"object"!==PJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $J(t){return($J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function CJ(t,e){return(CJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var TJ=function(t){function e(){return xJ(this,e),EJ(this,$J(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CJ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.middle}},{key:"getTitle",value:function(){return"middle"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.middle")}}])&&_J(n.prototype,r),o&&_J(n,o),e}(yq);function RJ(t){return(RJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function DJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AJ(t,e){return!e||"object"!==RJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function IJ(t){return(IJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function LJ(t,e){return(LJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var MJ=function(t){function e(){return DJ(this,e),AJ(this,IJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LJ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.same_height}},{key:"getTitle",value:function(){return"height"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("same.height")}}])&&VJ(n.prototype,r),o&&VJ(n,o),e}(yq);function zJ(t){return(zJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HJ(t,e){return!e||"object"!==zJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function GJ(t){return(GJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function YJ(t,e){return(YJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var XJ=function(t){function e(){return BJ(this,e),HJ(this,GJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YJ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.same_width}},{key:"getTitle",value:function(){return"width"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("same.width")}}])&&FJ(n.prototype,r),o&&FJ(n,o),e}(yq);function NJ(t){return(NJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function KJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UJ(t,e){return!e||"object"!==NJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZJ(t){return(ZJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qJ(t,e){return(qJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var JJ=function(t){function e(){return KJ(this,e),UJ(this,ZJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qJ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.title}},{key:"getTitle",value:function(){return this.props.title||"Text"}},{key:"getClassName",value:function(){return"text"}},{key:"clickButton",value:function(t){this.emit("addLayerView","text")}},{key:ed("addLayerView"),value:function(t){this.setSelected("text"===t)}}])&&WJ(n.prototype,r),o&&WJ(n,o),e}(yq);function QJ(t){return(QJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nQ(t,e){return!e||"object"!==QJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rQ(t){return(rQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oQ(t,e){return(oQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var iQ=function(t){function e(){return tQ(this,e),nQ(this,rQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oQ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.launch}},{key:"getTitle",value:function(){return this.$i18n("menu.item.export.title")}},{key:"clickButton",value:function(t){this.emit("showExportView")}}])&&eQ(n.prototype,r),o&&eQ(n,o),e}(yq);function aQ(t){return(aQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sQ(t,e){return!e||"object"!==aQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lQ(t){return(lQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fQ(t,e){return(fQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pQ=function(t){function e(){return cQ(this,e),sQ(this,lQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fQ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.note}},{key:"getTitle",value:function(){return this.$i18n("menu.item.learn.title")}},{key:"clickButton",value:function(t){window.open("https://www.easylogic.studio/docs/getting-started.html","learn-window")}}])&&uQ(n.prototype,r),o&&uQ(n,o),e}(yq);function yQ(t){return(yQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vQ(t,e){return!e||"object"!==yQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bQ(t){return(bQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mQ(t,e){return(mQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gQ=function(t){function e(){return hQ(this,e),vQ(this,bQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mQ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.cube}},{key:"getTitle",value:function(){return this.props.title||"Cube"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("addLayerView","cube")}}])&&dQ(n.prototype,r),o&&dQ(n,o),e}(yq);function wQ(t){return(wQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jQ(t,e){return!e||"object"!==wQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function SQ(t){return(SQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function PQ(t,e){return(PQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xQ=function(t){function e(){return OQ(this,e),jQ(this,SQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PQ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.photo}},{key:"getTitle",value:function(){return this.props.title||"Image"}},{key:"clickButton",value:function(){this.emit("addLayerView","image")}}])&&kQ(n.prototype,r),o&&kQ(n,o),e}(yq);function _Q(t){return(_Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CQ(t,e){return!e||"object"!==_Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TQ(t){return(TQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function RQ(t,e){return(RQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var DQ=function(t){function e(){return EQ(this,e),CQ(this,TQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RQ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.pentool}},{key:"getTitle",value:function(){return this.props.title||"Path"}},{key:"clickButton",value:function(t){this.emit("addLayerView","path")}},{key:ed("addLayerView"),value:function(t){this.setSelected("path"===t)}}])&&$Q(n.prototype,r),o&&$Q(n,o),e}(yq);function VQ(t){return(VQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LQ(t,e){return!e||"object"!==VQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function MQ(t){return(MQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zQ(t,e){return(zQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var BQ=function(t){function e(){return AQ(this,e),LQ(this,MQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zQ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.storage}},{key:"getTitle",value:function(){return this.$i18n("menu.item.save.title")}},{key:"clickButton",value:function(t){this.emit("saveJSON")}}])&&IQ(n.prototype,r),o&&IQ(n,o),e}(yq);function FQ(t){return(FQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function HQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YQ(t,e){return!e||"object"!==FQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function XQ(t){return(XQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function NQ(t,e){return(NQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var KQ=function(t){function e(){return HQ(this,e),YQ(this,XQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NQ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.archive}},{key:"getTitle",value:function(){return this.$i18n("menu.item.download.title")}},{key:"clickButton",value:function(t){this.emit("downloadJSON")}}])&&GQ(n.prototype,r),o&&GQ(n,o),e}(yq);function WQ(t){return(WQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function UQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qQ(t,e){return!e||"object"!==WQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JQ(t){return(JQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function QQ(t,e){return(QQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var t0=function(t){function e(){return UQ(this,e),qQ(this,JQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QQ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.near_me}},{key:"getIcon",value:function(){return"flipY"}},{key:"getTitle",value:function(){return this.props.title||"Select"}},{key:"clickButton",value:function(t){this.emit("addLayerView","select")}},{key:ed("addLayerView"),value:function(t){this.setSelected("select"===t)}}])&&ZQ(n.prototype,r),o&&ZQ(n,o),e}(yq);function e0(t){return(e0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o0(t,e){return!e||"object"!==e0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i0(t){return(i0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a0(t,e){return(a0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c0=function(t){function e(){return n0(this,e),o0(this,i0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a0(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.outline_rect}},{key:"getTitle",value:function(){return this.props.title||"Rect"}},{key:"clickButton",value:function(t){this.emit("addLayerView","svg-rect")}}])&&r0(n.prototype,r),o&&r0(n,o),e}(yq);function s0(t){return(s0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p0(t,e){return!e||"object"!==s0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h0(t){return(h0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d0(t,e){return(d0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b0=function(t){function e(){return l0(this,e),p0(this,h0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d0(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.outline_circle}},{key:"getTitle",value:function(){return this.props.title||"Circle"}},{key:"clickButton",value:function(t){this.emit("addLayerView","svg-circle")}}])&&f0(n.prototype,r),o&&f0(n,o),e}(yq);function m0(t){return(m0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O0(t,e){return!e||"object"!==m0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k0(t){return(k0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j0(t,e){return(j0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S0=function(t){function e(){return g0(this,e),O0(this,k0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j0(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.fullscreen}},{key:"getTitle",value:function(){return this.$i18n("menu.item.fullscreen.title")}},{key:"clickButton",value:function(t){this.emit("toggle.fullscreen")}}])&&w0(n.prototype,r),o&&w0(n,o),e}(yq);function P0(t){return(P0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $0(t,e){return!e||"object"!==P0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C0(t){return(C0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T0(t,e){return(T0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var R0=function(t){function e(){return _0(this,e),$0(this,C0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T0(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.text_rotate}},{key:"getTitle",value:function(){return this.props.title||"TextPath"}},{key:"clickButton",value:function(t){this.emit("addLayerView","svg-textpath")}}])&&E0(n.prototype,r),o&&E0(n,o),e}(yq);function D0(t){return(D0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I0(t,e){return!e||"object"!==D0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L0(t){return(L0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M0(t,e){return(M0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z0=function(t){function e(){return V0(this,e),I0(this,L0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M0(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.cylinder}},{key:"getTitle",value:function(){return this.props.title||"Cylinder"}},{key:"getClassName",value:function(){return"cylinder"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("addLayerView","cylinder")}}])&&A0(n.prototype,r),o&&A0(n,o),e}(yq);function B0(t){return(B0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G0(t,e){return!e||"object"!==B0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y0(t){return(Y0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X0(t,e){return(X0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var N0=function(t){function e(){return F0(this,e),G0(this,Y0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X0(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.title}},{key:"getTitle",value:function(){return this.props.title||"Text"}},{key:"clickButton",value:function(t){this.emit("addLayerView","svg-text")}}])&&H0(n.prototype,r),o&&H0(n,o),e}(yq);function K0(t){return(K0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z0(t,e){return!e||"object"!==K0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q0(t){return(q0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J0(t,e){return(J0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q0=function(t){function e(){return W0(this,e),Z0(this,q0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J0(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return"github"}},{key:"getTitle",value:function(){return"Login"}},{key:"clickButton",value:function(t){this.emit("showLoginWindow")}}])&&U0(n.prototype,r),o&&U0(n,o),e}(yq);function t1(t){return(t1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r1(t,e){return!e||"object"!==t1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o1(t){return(o1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i1(t,e){return(i1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a1=function(t){function e(){return e1(this,e),r1(this,o1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i1(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return"github"}},{key:"getTitle",value:function(){return"Sign"}},{key:"clickButton",value:function(t){this.emit("showSignWindow")}}])&&n1(n.prototype,r),o&&n1(n,o),e}(yq);function c1(t){return(c1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f1(t,e){return!e||"object"!==c1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p1(t){return(p1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h1(t,e){return(h1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d1=function(t){function e(){return s1(this,e),f1(this,p1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h1(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.artboard}},{key:"getTitle",value:function(){return this.props.title||"Artboard"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("addArtBoard")}}])&&l1(n.prototype,r),o&&l1(n,o),e}(yq);function b1(t){return(b1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w1(t,e){return!e||"object"!==b1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O1(t){return(O1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k1(t,e){return(k1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j1=function(t){function e(){return m1(this,e),w1(this,O1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k1(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.edit}},{key:"getTitle",value:function(){return this.props.title||"Draw"}},{key:"clickButton",value:function(t){this.emit("addLayerView","brush")}}])&&g1(n.prototype,r),o&&g1(n,o),e}(yq);function S1(t){return(S1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E1(t,e){return!e||"object"!==S1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $1(t){return($1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C1(t,e){return(C1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T1=function(t){function e(){return P1(this,e),E1(this,$1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C1(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.brush}},{key:"getTitle",value:function(){return this.props.title||"draw a brush"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("addLayerView","brush")}},{key:ed("addLayerView"),value:function(t){this.setSelected("brush"===t)}}])&&_1(n.prototype,r),o&&_1(n,o),e}(yq);function R1(t){return(R1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A1(t,e){return!e||"object"!==R1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I1(t){return(I1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L1(t,e){return(L1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var M1=function(t){function e(){return D1(this,e),A1(this,I1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L1(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.video}},{key:"getTitle",value:function(){return this.props.title||"Video"}},{key:"clickButton",value:function(){this.emit("addLayerView","video")}}])&&V1(n.prototype,r),o&&V1(n,o),e}(yq);function z1(t){return(z1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H1(t,e){return!e||"object"!==z1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G1(t){return(G1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y1(t,e){return(Y1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X1={KeyBoard:function(t){function e(){return B1(this,e),H1(this,G1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y1(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return Ag.keyboard}},{key:"getTitle",value:function(){return this.$i18n("menu.item.shortcuts.title")}},{key:"clickButton",value:function(t){this.emit("showShortcutWindow")}}])&&F1(n.prototype,r),o&&F1(n,o),e}(yq),AddVideo:M1,AddDrawBrush:T1,AddDrawPath:j1,AddArtboard:d1,SignButton:a1,LoginButton:Q0,AddSVGText:N0,AddCylinder:z0,AddSVGTextPath:R0,Fullscreen:S0,AddSVGCircle:b0,AddSVGRect:c0,SelectTool:t0,Download:KQ,Save:BQ,AddCube:gQ,AddImage:xQ,AddPath:DQ,Manual:pQ,ExportView:iQ,AddText:JJ,SameHeight:MJ,SameWidth:XJ,TopAlign:bJ,BottomAlign:SJ,MiddleAlign:TJ,CenterAlign:lJ,RightAlign:rJ,LeftAlign:Zq,AddCircle:Gq,AddRect:Iq,ExportCodePen:$q,Github:wq};function N1(t){return(N1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U1(t,e){return!e||"object"!==N1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z1(t){return(Z1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q1(t,e){return(q1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var J1=function(t){function e(){return K1(this,e),U1(this,Z1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q1(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return X1}},{key:"afterRender",value:function(){this.show()}},{key:"getTitle",value:function(){return this.$i18n("alignment.property.title")}},{key:"isHideHeader",value:function(){return!0}},{key:"getBody",value:function(){return'\n      <div class="alignment-item" ref="$positionItem">\n        <LeftAlign />\n        <CenterAlign />\n        <RightAlign />\n\n        <TopAlign />\n        <MiddleAlign />\n        <BottomAlign />  \n\n        <SameWidth />\n        <SameHeight />\n      </div>\n    '}}])&&W1(n.prototype,r),o&&W1(n,o),e}(QB);function Q1(t){return(Q1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n2(t,e){return!e||"object"!==Q1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r2(t){return(r2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o2(t,e){return(o2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var i2=function(t){function e(){return t2(this,e),n2(this,r2(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o2(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{OffsetPathListEditor:kA}}},{key:"getTitle",value:function(){return this.$i18n("motion.property.title")}},{key:ed("refreshSelection","refreshRect")+Ar(100),value:function(){this.refreshShowIsNot(["project"])}},{key:"refresh",value:function(){var t=this.$selection.current;t&&this.children.$offsetPathList.setValue(t["offset-path"])}},{key:"getBody",value:function(){var t=this.$selection.current||{"offset-path":""};return("\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='offset-path'></span>\n        </div>\n        <OffsetPathListEditor ref=\"$offsetPathList\" key=\"offset-path\" value=\"".concat(t["offset-path"],'" onchange="changRangeEditor" />\n      </div>\n    '))}},{key:ed("changRangeEditor"),value:function(t,e){this.command("setAttribute","change motion attribute : ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&e2(n.prototype,r),o&&e2(n,o),e}(QB);function a2(t){URL.revokeObjectURL(t)}function c2(t){return(c2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s2(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p2(t,e){return!e||"object"!==c2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h2(t){return(h2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d2(t,e){return(d2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b2=function(t){function e(){return l2(this,e),p2(this,h2(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d2(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("image.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid"}}},{key:"getClassName",value:function(){return"image-assets-property"}},{key:"afterRender",value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item image-assets'>\n        <div class='image-list' ref='$imageList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:Fr("$imageList")+Vr,value:function(){var t=(this.$selection.currentProject||{images:[]}).images.map((function(t,e){return"\n        <div class='image-item' data-index=\"".concat(e,'">\n          <div class=\'preview\' draggable="true">\n            <img src="').concat(t.local,"\" />\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>").concat(Ag.copy,"</button>          \n            <button type=\"button\" class='remove'>").concat(Ag.remove,"</button>\n          </div>\n        </div>\n      ")}));return"\n      <div class='loaded-list'>\n        ".concat(t.join(""),"\n        <div class='add-image-item'>\n          <input type='file' accept='image/*' ref='$file' />\n          <button type=\"button\">").concat(Ag.add,"</button>\n        </div>        \n      </div>\n\n    ")}},{key:"executeImage",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshImageAssets")):alert("Please select a project.")}},{key:ur("$imageList .preview img"),value:function(t){var e=+t.$dt.closest("image-item").attr("data-index"),n=this.$selection.currentProject;if(n){var r=n.images[e];t.dataTransfer.setData("image/info",r.local)}}},{key:yr("$imageList .add-image-item input[type=file]"),value:function(t){var e=this;this.executeImage((function(n){s2(t.target.files).forEach((function(t){e.emit("updateImageAssetItem",t)}))}))}},{key:rr("$imageList .remove"),value:function(t){var e=t.$dt.closest("image-item"),n=+e.attr("data-index");this.executeImage((function(t){t.removeImage(n),a2(e.$(".preview img").attr("src"))}))}},{key:rr("$imageList .copy"),value:function(t){var e=+t.$dt.closest("image-item").attr("data-index");this.executeImage((function(t){t.copyImage(e)}))}},{key:ed("addImageAsset"),value:function(){this.refresh()}}])&&f2(n.prototype,r),o&&f2(n,o),e}(QB);function m2(t){return(m2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g2(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k2(t,e){return!e||"object"!==m2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j2(t){return(j2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S2(t,e){return(S2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P2=function(t){function e(){return w2(this,e),k2(this,j2(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S2(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("video.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid"}}},{key:"getClassName",value:function(){return"video-assets-property"}},{key:"afterRender",value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item video-assets'>\n        <div class='video-list' ref='$videoList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:Fr("$videoList")+Vr,value:function(){var t=(this.$selection.currentProject||{videos:[]}).videos.map((function(t,e){return"\n        <div class='video-item' data-index=\"".concat(e,'">\n          <div class=\'preview\' draggable="true">\n            <img src="').concat(t.local,"\" />\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>").concat(Ag.copy,"</button>          \n            <button type=\"button\" class='remove'>").concat(Ag.remove,"</button>\n          </div>\n        </div>\n      ")}));return"\n      <div class='loaded-list'>\n        ".concat(t.join(""),"\n        <div class='add-video-item'>\n          <input type='file' accept='video/*' ref='$file' />\n          <button type=\"button\">").concat(Ag.add,"</button>\n        </div>        \n      </div>\n\n    ")}},{key:"executeVideo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshVideoAssets")):alert("Please select a project.")}},{key:ur("$videoList .preview img"),value:function(t){var e=+t.$dt.closest("video-item").attr("data-index"),n=this.$selection.currentProject;if(n){var r=n.videos[e];t.dataTransfer.setData("video/info",r.local)}}},{key:yr("$videoList .add-video-item input[type=file]"),value:function(t){var e=this;this.executeVideo((function(n){g2(t.target.files).forEach((function(t){e.emit("updateVideoAssetItem",t)}))}))}},{key:rr("$videoList .remove"),value:function(t){var e=t.$dt.closest("video-item"),n=+e.attr("data-index");this.executeVideo((function(t){t.removeVideo(n),a2(e.$(".preview img").attr("src"))}))}},{key:rr("$videoList .copy"),value:function(t){var e=+t.$dt.closest("video-item").attr("data-index");this.executeVideo((function(t){t.copyVideo(e)}))}},{key:ed("addVideoAsset"),value:function(){this.refresh()}}])&&O2(n.prototype,r),o&&O2(n,o),e}(QB);function _2(t){return(_2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E2(Object(n),!0).forEach((function(e){C2(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D2(t,e){return!e||"object"!==_2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V2(t,e,n){return(V2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A2(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function A2(t){return(A2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I2(t,e){return(I2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var L2=function(t){function e(){return T2(this,e),D2(this,A2(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I2(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Component"}},{key:"isShow",value:function(){var t=this.$selection.current;return!(!t||!t.is("component"))}},{key:"initState",value:function(){return{components:{}}}},{key:"components",value:function(){return $2({},V2(A2(e.prototype),"components",this).call(this),{},this.state.components)}},{key:ed("refreshSelection")+Ar(100),value:function(){var t=this;this.refreshShow((function(e){var n=t.$selection.current;return n&&n.is("component")}))}},{key:"refresh",value:function(){var t=this,e=this.$selection.current;e&&e.is("component")&&(this.setTitle(e.getDefaultTitle()||e.itemType||e.name),this.load(),e.getProps().forEach((function(n){t.children[n.key]&&t.children[n.key].setValue(e[n.key]||n.defaultValue)})))}},{key:"getBody",value:function(){return"\n      <div ref='$body'></div>\n    "}},{key:"initComponents",value:function(){var t=this.$selection.current,n={};t&&t.is("component")&&t.getProps().forEach((function(t){re(t.editor)||(n=$2({},n,{},t.editor))})),this.setState({components:n},!1),V2(A2(e.prototype),"initComponents",this).call(this)}},{key:"getPropertyEditor",value:function(t,e,n,r){return re(n)?"<".concat(n," ").concat(be($2({},r,{onchange:"changeComponentProperty",ref:t,key:t,value:e}))," />"):Object.keys(n).map((function(n){return"<".concat(n," ").concat(be($2({},r,{onchange:"changeComponentProperty",ref:t,key:t,value:e}))," />")})).join("")}},{key:Fr("$body"),value:function(){var t=this,e=this.$selection.current;return e?e&&!e.is("component")?"":e.getProps().map((function(n){return re(n)?"\n          <div class='property-item'> \n            <label>".concat(n,"</label>\n          </div>"):"\n          <div class='property-item animation-property-item'> \n            <div class='group'>\n              <span class='add-timeline-property' data-property='".concat(n.key,"' data-type=\"").concat(e.itemType,'" data-editor="').concat(n.editor,'"></span>\n            </div>\n            ').concat(t.getPropertyEditor(n.key,e[n.key]||n.defaultVallue,n.editor,n.editorOptions),"\n          </div>\n        ")})):""}},{key:ed("changeComponentProperty"),value:function(t,e){this.command("setAttribute","change component",C2({},t,e),null,!0)}}])&&R2(n.prototype,r),o&&R2(n,o),e}(QB);function M2(t){return(M2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F2(t,e){return!e||"object"!==M2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H2(t){return(H2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G2(t,e){return(G2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y2=function(t){function e(){return z2(this,e),F2(this,H2(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G2(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{BorderEditor:HA}}},{key:"getTitle",value:function(){return this.$i18n("border.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"border"}},{key:"getBody",value:function(){return"<div class=\"property-item full border-item\" ref='$body'></div>"}},{key:Fr("$body"),value:function(){var t=(this.$selection.current||{}).border||"";return"\n      <BorderEditor ref='$1' key='border' value='".concat(t,"' onchange='changeKeyValue' />\n    ")}},{key:ed("refreshSelection")+Ar(100),value:function(){this.refreshShow(["rect","circle","text","cube","cylinder"])}},{key:ed("changeKeyValue"),value:function(t,e){this.command("setAttribute","change border",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&B2(n.prototype,r),o&&B2(n,o),e}(QB);function X2(t){return(X2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W2(t,e){return!e||"object"!==X2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U2(t){return(U2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z2(t,e){return(Z2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var q2=function(t){function e(){return N2(this,e),W2(this,U2(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z2(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("project.information.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"refresh",value:function(){var t=this.$selection.currentProject||{name:"",description:""};this.refs.$name.val(t.name),this.refs.$description.val(t.description)}},{key:"getBody",value:function(){var t=this.$selection.currentProject||{name:"",description:""};return('\n      <div class="project-info" ref="$info">\n        <div class=\'project-info-item\'>\n          <label>'.concat(this.$i18n("project.information.property.name"),"</label>\n          <div class='input'>\n            <input type='text' value='").concat(t.name,"' ref='$name' />\n          </div>\n        </div>\n        <div class='project-info-item'>\n          <label>").concat(this.$i18n("project.information.property.description"),"</label>\n          <div class='input'>\n            <textarea  value='").concat(t.description,"' ref='$description'></textarea>\n          </div>\n        </div>\n      </div>\n    "))}},{key:ed("refreshProjectList","refreshAllSelectProject"),value:function(){this.refresh()}},{key:Pr("$name"),value:function(){var t=this.$selection.currentProject;t&&(t.name=this.refs.$name.value)}},{key:Pr("$description"),value:function(){var t=this.$selection.currentProject;t&&(t.description=this.refs.$description.value)}}])&&K2(n.prototype,r),o&&K2(n,o),e}(QB);function J2(t){return(J2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e4(t,e){return!e||"object"!==J2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function n4(t){return(n4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r4(t,e){return(r4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o4=function(t){function e(){return Q2(this,e),e4(this,n4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("path.data.property.title")}},{key:"getClassName",value:function(){return"item path-data-property"}},{key:"isSVGItem",value:function(t){return t.is("svg-path","svg-brush","svg-textpath")}},{key:"components",value:function(){return{PathDataEditor:cA}}},{key:ed("refreshStyleView","refreshRect")+Ar(100),value:function(){this.refresh()}},{key:ed("refreshSelection"),value:function(){this.refreshShow(["svg-path","svg-brush","svg-textpath"])}},{key:"refresh",value:function(){var t=this.$selection.current||{};this.children.$pathData.setValue(t.d)}},{key:"getBody",value:function(){var t=this.$selection.current||{};return("\n      <div>\n        <PathDataEditor ref='$pathData' key='d' value='".concat(t.d,"' onchange='changeValue' />\n      </div>\n    "))}},{key:ed("changeValue"),value:function(t,e,n){this.emit("updatePathItem",this.$selection.current,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&t4(n.prototype,r),o&&t4(n,o),e}(QB);function i4(t){return(i4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u4(t,e){return!e||"object"!==i4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s4(t){return(s4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l4(t,e){return(l4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f4=function(t){function e(){return a4(this,e),u4(this,s4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("svg.text.property.title")}},{key:ed("refreshSelection"),value:function(){this.refreshShow(["svg-textpath","svg-text","svg-tspan"])}},{key:"refresh",value:function(){this.$selection.current&&this.setAllValue(["lengthAdjust","textLength","startOffset","text-anchor","text"])}},{key:"setAllValue",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.$selection.current;n&&e.forEach((function(e){t.children["$".concat(e)].setValue(n[e])}))}},{key:"getBody",value:function(){return"\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text'></span>\n        </div>\n        <TextAreaEditor \n          ref='$text' \n          label='".concat(this.$i18n("svg.text.property.textarea"),"' \n          key=\"text\"\n          onchange=\"changeTextValue\" />\n      </div>        \n      <div class='property-item'>\n        <SelectIconEditor \n          ref='$text-anchor' \n          label='").concat(this.$i18n("svg.text.property.anchor"),"' \n          key=\"text-anchor\" \n          options=\"start,middle,end\" \n          onchange=\"changeTextValue\" />\n      </div>            \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='lengthAdjust'></span>\n        </div>\n        <SelectEditor \n          ref='$lengthAdjust' \n          label='").concat(this.$i18n("svg.text.property.length.adjust"),"' \n          key='lengthAdjust' \n          value='spacing' \n          options=\"spacing,spacingAndGlyphs\" \n          onchange='changeTextValue' />        \n      </div>        \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='textLength'></span>\n        </div>\n        <RangeEditor \n          ref='$textLength' \n          label='").concat(this.$i18n("svg.text.property.text.length"),"' \n          key='textLength'\n          min=\"0\"\n          max='1000'\n          step=\"0.1\"\n          onchange='changeTextValue' />                \n      </div>        \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='startOffset'></span>\n        </div>\n        <RangeEditor \n          ref='$startOffset' \n          label='").concat(this.$i18n("svg.text.property.start.offset"),"' \n          key='startOffset' \n          min=\"0\"\n          max='1000'\n          step=\"0.1\"          \n          onchange='changeTextValue' />        \n      </div>                    \n    ")}},{key:ed("changeTextValue"),value:function(t,e){this.command("setAttribute","change svg text property: ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e),null,!0)}}])&&c4(n.prototype,r),o&&c4(n,o),e}(QB);function p4(t){return(p4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d4(t,e){return!e||"object"!==p4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v4(t){return(v4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b4(t,e){return(b4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m4=function(t){function e(){return y4(this,e),d4(this,v4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("export.property.title")}},{key:ed("refreshSelection","refreshContent")+Ar(100),value:function(){this.refreshShowIsNot("project")}},{key:"getClassName",value:function(){return"export-property"}},{key:"getBody",value:function(){return"\n        <div class='export-item svg'>\n          <label>SVG</label>\n          <button ref='$svg'>".concat(Ag.archive," ").concat(this.$i18n("export.property.download"),"</button>\n        </div>\n        <div class='export-item png'>\n          <label>PNG</label>\n          <button ref='$png'>").concat(Ag.archive," ").concat(this.$i18n("export.property.download"),"</button>\n        </div> \n      ")}},{key:rr("$svg"),value:function(){this.emit("downloadSVG")}},{key:rr("$png"),value:function(){this.emit("downloadPNG")}}])&&h4(n.prototype,r),o&&h4(n,o),e}(QB);function g4(t){return(g4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j4(t,e){return!e||"object"!==g4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S4(t){return(S4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P4(t,e){return(P4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x4=function(t){function e(){return O4(this,e),j4(this,S4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("layout.property.title")}},{key:"getLayoutOptions",value:function(){var t=this;return["default","flex","grid"].map((function(e){return"".concat(e,":").concat(t.$i18n("layout.property.".concat(e)))})).join(",")}},{key:"getClassName",value:function(){return"layout-property"}},{key:"getBody",value:function(){return"\n        <div class='property-item' ref='$layoutType'></div>\n      "}},{key:Fr("$layoutType"),value:function(){var t=this.$selection.current||{layout:"default"};return("\n      <div class='layout-select'>\n        <SelectIconEditor \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"".concat(t.layout,'"\n        options="').concat(this.getLayoutOptions(),"\"  \n        colors=\",green,red\"\n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList'>\n        <div data-value='default' class='").concat("default"===t.layout?"selected":"","'></div>\n        <div data-value='flex' class='").concat("flex"===t.layout?"selected":"","'>\n          <FlexLayoutEditor ref='$flex' key='flex-layout' value=\"").concat(t["flex-layout"]||"","\" onchange='changeLayoutInfo' />\n        </div>\n        <div data-value='grid' class='").concat("grid"===t.layout?"selected":"","'>\n          <GridLayoutEditor ref='$grid' key='grid-layout' value=\"").concat(t["grid-layout"]||"","\" onchange='changeLayoutInfo' />\n        </div>\n      </div>\n    "))}},{key:ed("changeLayoutInfo"),value:function(t,e){var n=this;this.command("setAttribute","change layout info",w4({},t,e),null,!1,!0),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:ed("changeLayoutType"),value:function(t,e){var n=this;this.$selection.reset(w4({},t,e)),this.command("setAttribute","change layout type",w4({},t,e),null,!1,!0),this.refresh(),this.nextTick((function(){n.emit("refreshAllElementBoundSize"),n.emit("changeItemLayout")}))}},{key:ed("refreshSelection"),value:function(){this.refreshShow(["rect","circle","artboard"],!0)}}])&&k4(n.prototype,r),o&&k4(n,o),e}(QB);function _4(t){return(_4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C4(t,e){return!e||"object"!==_4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T4(t){return(T4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R4(t,e){return(R4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var D4=function(t){function e(){return E4(this,e),C4(this,T4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("flex.layout.item.property.title")}},{key:"getClassName",value:function(){return"flex-layout-item-property"}},{key:"getLayoutOptions",value:function(){var t=this;return["none","auto","value"].map((function(e){return"".concat(e,":").concat(t.$i18n("flex.layout.item.property.".concat(e)))})).join(",")}},{key:"getBody",value:function(){return"\n        <div class='property-item' ref='$body'></div>\n      "}},{key:Fr("$body"),value:function(){var t=this.$selection.current||{"flex-layout-item":"none"},e=t["flex-layout-item"]||"none",n=[];return!1===["none","auto"].includes(e)&&(n=e.split(" ")),n.length>0&&(e="value"),"\n      <div class='layout-select'>\n        <SelectIconEditor \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"".concat(e,'"\n        options="').concat(this.getLayoutOptions(),"\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='").concat(t.layout,"'>\n        <div data-value='none'></div>\n        <div data-value='auto'></div>\n        <div data-value='value'>\n          <div class='value-item'>\n            <RangeEditor ref='$grow' label='").concat(this.$i18n("flex.layout.item.property.grow"),'\' key="flex-grow" value="').concat(n[0],"\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeFlexItem' />\n          </div>\n          <div class='value-item'>\n            <RangeEditor ref='$shrink' label='").concat(this.$i18n("flex.layout.item.property.shrink"),'\' key="flex-shrink" value="').concat(n[1],"\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeFlexItem' />\n          </div>\n          <div class='value-item'>\n            <RangeEditor ref='$basis' label='").concat(this.$i18n("flex.layout.item.property.basis"),'\' key="flex-basis" value="').concat(n[2],"\" min='0' units=\"px,em,%,auto\" onchange='changeFlexItem' />\n          </div>                    \n        </div>\n      </div>\n    ")}},{key:"getFlexItemValue",value:function(t){return"auto"===t.unit?"auto":t+""}},{key:"getFlexValue",value:function(){var t=this.children.$grow.getValue(),e=this.children.$shrink.getValue(),n=this.children.$basis.getValue();return t=this.getFlexItemValue(t),e=this.getFlexItemValue(e),n=this.getFlexItemValue(n),de({flex:"".concat(t," ").concat(e," ").concat(n)})}},{key:ed("changeFlexItem"),value:function(t,e){var n=this;this.command("setAttribute","change flex layout",{"flex-layout-item":this.getFlexValue()}),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:ed("changeLayoutType"),value:function(t,e){var n=this,r=this.children.$layout.getValue();e=r,"value"===r&&(e=this.getFlexValue()),this.command("setAttribute","change flex layout",{"flex-layout-item":e}),this.refs.$layoutList.attr("data-selected-value",r),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:ed("refreshSelection")+Ar(100),value:function(){var t=this;this.refreshShow((function(){var e=t.$selection.current;return e&&e.isInFlex()}))}}])&&$4(n.prototype,r),o&&$4(n,o),e}(QB);function V4(t){return(V4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L4(t,e){return!e||"object"!==V4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M4(t){return(M4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z4(t,e){return(z4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var B4=function(t){function e(){return A4(this,e),L4(this,M4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("grid.layout.item.property.title")}},{key:"getLayoutOptions",value:function(){var t=this;return["none","value"].map((function(e){return"".concat(e,":").concat(t.$i18n("grid.layout.item.property.".concat(e)))})).join(",")}},{key:"getClassName",value:function(){return"grid-layout-item-property"}},{key:"getBody",value:function(){return"\n        <div class='property-item' ref='$body'></div>\n      "}},{key:Fr("$body"),value:function(){var t=this.$selection.current||{"grid-layout-item":"none"},e=t["grid-layout-item"]||"none",n={};return!1===["none"].includes(e)&&(n=ve(t["grid-layout-item"])),Object.keys(n).length>0&&(e="value"),"\n      <div class='layout-select'>\n        <SelectIconEditor \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"".concat(e,'"\n        options="').concat(this.getLayoutOptions(),"\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='").concat(e,"'>\n        <div data-value='none'></div>\n        <div data-value='value'>\n          <div class='value-item'>\n            <label></label>\n            <div>").concat(this.$i18n("grid.layout.item.property.start"),"</div>\n            <div>").concat(this.$i18n("grid.layout.item.property.end"),"</div>\n          </div>\n          <div class='value-item'>\n            <label>").concat(this.$i18n("grid.layout.item.property.column"),'</label>\n            <div>\n              <NumberInputEditor ref=\'$columnStart\' key="grid-column-start" value="').concat(n["grid-column-start"]||"0","\" min='0' onchange='changeGridItem' />\n            </div>\n            <div>\n              <NumberInputEditor ref='$columnEnd' key=\"grid-column-end\" value=\"").concat(n["grid-column-end"]||"0","\" min='0' onchange='changeGridItem' />\n            </div>            \n          </div>\n          <div class='value-item'>\n            <label>").concat(this.$i18n("grid.layout.item.property.row"),'</label>\n            <div>\n              <NumberInputEditor ref=\'$rowStart\' key="grid-row-start" value="').concat(n["grid-row-start"]||"0","\" min='0' onchange='changeGridItem' />\n            </div>\n            <div>\n              <NumberInputEditor ref='$rowEnd' key=\"grid-row-end\" value=\"").concat(n["grid-row-end"]||"0","\" min='0' onchange='changeGridItem' />\n            </div>            \n          </div>          \n        </div>\n      </div>\n    ")}},{key:"getGridValue",value:function(){return de({"grid-column-start":this.children.$columnStart.getValue(),"grid-column-end":this.children.$columnEnd.getValue(),"grid-row-start":this.children.$rowStart.getValue(),"grid-row-end":this.children.$rowEnd.getValue()})}},{key:ed("changeGridItem"),value:function(t,e){var n=this;this.command("setAttribute","change grid layout item",{"grid-layout-item":this.getGridValue()}),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:ed("changeLayoutType"),value:function(t,e){var n=this,r=this.children.$layout.getValue();e=r,"value"===r&&(e=this.getGridValue()),this.command("setAttribute","change grid layout item",{"grid-layout-item":e}),this.refs.$layoutList.attr("data-selected-value",r),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:ed("refreshSelection")+Ar(100),value:function(){var t=this;this.refreshShow((function(){var e=t.$selection.current;return e&&e.isInGrid()}))}}])&&I4(n.prototype,r),o&&I4(n,o),e}(QB);function F4(t){return(F4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H4(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function G4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X4(t,e){return!e||"object"!==F4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N4(t){return(N4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K4(t,e){return(K4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W4=function(t){function e(){return G4(this,e),X4(this,N4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("pattern.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"pattern"}},{key:"getTitleClassName",value:function(){return"pattern"}},{key:"getBody",value:function(){return"<div class='full pattern-property' ref='$body'></div>"}},{key:"getTools",value:function(){return'\n      <select ref="$patternSelect">      \n      </select>\n      <button type="button" ref="$add" title="add Pattern">'.concat(Ag.add,"</button>\n    ")}},{key:rr("$add"),value:function(){var t=this.refs.$patternSelect.value;this.children.$patternEditor.trigger("add",t)}},{key:Fr("$patternSelect"),value:function(){var t=this;return H4(z$.map((function(e){return{title:t.$i18n("pattern.property.".concat(e)),value:e}}))).map((function(t){var e=t.title,n=t.value;return"<option value='".concat(n,"'>").concat(e,"</option>")}))}},{key:Fr("$body"),value:function(){var t=(this.$selection.current||{}).pattern;return"<PatternEditor ref='$patternEditor' value='".concat(t,"' hide-label='true' onchange='changePatternEditor' />")}},{key:ed("changePatternEditor"),value:function(t,e){this.command("setAttribute","change pattern",{pattern:e})}},{key:ed("refreshSelection"),value:function(){this.refreshShow(["artboard","rect","circle","text","cube","cylinder"])}},{key:ed("refreshSVGArea")+Ar(1e3),value:function(){this.load("$patternSelect")}}])&&Y4(n.prototype,r),o&&Y4(n,o),e}(QB);function U4(t){return(U4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q4(t,e){return!e||"object"!==U4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function t5(t){return(t5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function e5(t,e){return(e5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var n5=function(t){function e(){return q4(this,e),Q4(this,t5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&e5(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"item video-property"}},{key:"getTitle",value:function(){return this.$i18n("video.property.title")}},{key:"initState",value:function(){return{$video:{el:{}},status:"play",volume:1}}},{key:"getBody",value:function(){return"<div ref='$body' style='padding-top: 3px;'></div>"}},{key:"play",value:function(){this.video&&this.video.play()}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:Fr("$body"),value:function(){var t=this.$selection.current||{playTime:"0:1:1"},e=t.currentTime||0,n=(t.playTime||"0:1:1").split(":").pop();return"\n        <div ref='$tools' class='play-control' data-selected-value=\"".concat(this.state.status,'">\n          <button type="button" data-value="play" >').concat(Ag.play," ").concat(this.$i18n("video.property.play"),'</button>\n          <button type="button" data-value="pause">').concat(Ag.pause,"  ").concat(this.$i18n("video.property.pause"),'</button>      \n          <div>\n            <NumberRangeEditor ref=\'$currentTime\' min="0" max="').concat(n,'" value="').concat(e,"\" step=\"0.001\" onchange=\"changeCurrentTime\" />\n          </div>\n        </div>    \n        <div class='divider'></div>\n        <div class='property-item animation-property-item has-label'>        \n          <div class='group'>\n            <span class='add-timeline-property' data-property='volume'></span>\n            ").concat(this.$i18n("video.property.volume"),"\n          </div>\n          <div ref='$volume_control' class='volume-control' data-selected-value='").concat(this.volumeStatus,"'>\n            <span data-value='muted'>").concat(Ag.volume_off,"</span>\n            <span data-value='down'>").concat(Ag.volume_down,"</span>\n            <span data-value='up'>").concat(Ag.volume_up,'</span>\n            <input type="range" ref=\'$volume\' min="0" max="1" step="0.001" value="').concat(this.state.volume,"\" />\n          </div>          \n        </div>\n        <div class='property-item animation-property-item has-label'>        \n          <div class='group'>\n            <span class='add-timeline-property' data-property='playbackRate'></span>\n            ").concat(this.$i18n("video.property.playbackRate"),'\n          </div>\n          <div>\n            <NumberRangeEditor ref=\'$playbackRate\' min="0.1" max="10" clamp="true" value="').concat(this.state.playbackRate,"\" step=\"0.001\" onchange=\"changePlaybackRate\" />\n          </div>\n        </div>        \n        <div class='property-item animation-property-item full'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='playTime'></span>\n            ").concat(this.$i18n("video.property.playTime"),"\n          </div>\n          <MediaProgressEditor ref='$progress'  key='playTime' value=\"").concat(t.playTime,'" onchange="changeSelect" />\n        </div>\n      ')}},{key:ed("changeCurrentTime"),value:function(t,e){this.setState({currentTime:e},!1),this.command("setAttribute","change video property",{currentTime:e},null,!0)}},{key:ed("changePlaybackRate"),value:function(t,e){this.setState({playbackRate:e},!1),this.command("setAttribute","change video property",{playbackRate:e},null,!0)}},{key:Pr("$volume"),value:function(t){var e=Number(this.refs.$volume.value);this.setState({volume:e},!1),this.bindData("$volume_control"),this.command("setAttribute","change video property",{volume:e},null,!0)}},{key:Xr("$volume_control"),value:function(){return{"data-selected-value":this.volumeStatus}}},{key:Xr("$tools"),value:function(){return{"data-selected-value":this.state.status}}},{key:rr("$tools button"),value:function(t){switch(t.$dt.attr("data-value")){case"play":this.setState({status:"pause"},!1),this.play();break;case"pause":this.setState({status:"play"},!1),this.pause()}this.bindData("$tools")}},{key:ed("changeValue")+Ar(100),value:function(t,e){this.state.$video&&this.command("setAttribute","change video property",Z4({},t,e),null,!0)}},{key:ed("changeSelect"),value:function(t,e){this.command("setAttribute","change video property",Z4({},t,e))}},{key:ed("updateVideoEvent"),value:function(t){this.video.paused&&(this.setState({status:"play",currentTime:this.video.currentTime},!1),this.bindData("$tools")),this.children.$currentTime.setValue(this.video.currentTime)}},{key:ed("refreshSelection")+Ar(100),value:function(){var t=this,e=this.$selection.current;this.refreshShow(["video"]),e&&e.is("video")&&this.emit("refElement",e.id,(function(n){var r=n.$("video");t.state.$video=r,t.setState({volume:e.volume,currentTime:e.currentTime,playbackRate:e.playbackRate},!1),t.video.ontimeupdate=function(e){t.trigger("updateVideoEvent",e)},t.video.onprogress=function(e){t.trigger("updateVideoEvent",e)},t.load("$body")}))}},{key:"video",get:function(){return this.state.$video.el}},{key:"volumeStatus",get:function(){return 0===this.state.volume?"muted":this.state.volume>.5?"up":"down"}}])&&J4(n.prototype,r),o&&J4(n,o),e}(QB);function r5(t){return(r5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a5(t,e){return!e||"object"!==r5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c5(t){return(c5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u5(t,e){return(u5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s5,l5=function(t){function e(){return o5(this,e),a5(this,c5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u5(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("pattern.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid",preset:"check"}}},{key:"getTools",value:function(){var t=MB.map((function(t){return"".concat(t.key,":").concat(t.title)}));return('\n      <SelectEditor key="preset" value="'.concat(this.state.preset,'" options="').concat(t,'" onchange="changePreset"  />\n    '))}},{key:ed("changePreset"),value:function(t,e){this.setState(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"getClassName",value:function(){return"pattern-assets-property"}},{key:ed("refreshSelection")+Ar(100),value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item pattern-assets'>\n        <div class='pattern-list' ref='$patternList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:ur("$patternList .pattern-item"),value:function(t){var e=MB[+t.$dt.attr("data-index")].execute();t.dataTransfer.effectAllowed="copy",t.dataTransfer.setData("text/pattern",e)}},{key:Fr("$patternList"),value:function(){var t=this,e=MB.find((function(e){return e.key===t.state.preset}));return e?e.execute().map((function(t,e){var n=de(Mu.toCSS(t.pattern));return("\n        <div class='pattern-item' data-index=\"".concat(e,'" data-pattern="').concat(t.pattern,"\">\n          <div class='preview' title=\"").concat(t.title,"\" draggable=\"true\">\n            <div class='pattern-view' style='").concat(n,"'></div>\n          </div>\n        </div>\n      "))})):""}},{key:rr("$patternList .pattern-item"),value:function(t){var e=t.$dt.attr("data-pattern");"CanvasView"===this.$editor.modeView?this.emit("addBackgroundImagePattern",e):this.emit("setPatternAsset",e)}}])&&i5(n.prototype,r),o&&i5(n,o),e}(QB);function f5(t){return(f5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h5(t,e){return!e||"object"!==f5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d5(t){return(d5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v5(t,e){return(v5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b5(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m5=(b5(s5={HistoryProperty:function(t){function e(){return p5(this,e),h5(this,d5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v5(t,e)}(e,t),n=e,(r=[{key:"afterRender",value:function(){this.show()}},{key:"getTitle",value:function(){return"History"}},{key:"getBody",value:function(){return"\n      <div class=\"history-list-view\" ref='$body'></div>\n    "}},{key:Fr("$body")+Vr,value:function(){var t=this;return this.$editor.history.map((function(e,n){return"-"===e?"<div class='divider'>-</div>":"\n        <div class='history-item'>\n          <span>".concat(n===t.$editor.history.currentIndex?Ag.arrowRight:"","</span>\n          <span>").concat(e.message,"</span>\n        </div>\n      ")}))}},{key:ed("refreshHistory"),value:function(){this.refresh()}}])&&y5(n.prototype,r),o&&y5(n,o),e}(QB),PatternAssetsProperty:l5,VideoProperty:n5,PatternProperty:W4,GridLayoutItemProperty:B4,FlexLayoutItemProperty:D4,LayoutProperty:x4,ExportProperty:m4,SVGTextProperty:f4,PathDataProperty:o4,ProjectInformationProperty:q2,BorderNewProperty:Y2,TimelineAnimationProperty:bH,ComponentProperty:L2,ImageAssetsProperty:b2,VideoAssetsProperty:P2,MotionProperty:i2,AlignmentProperty:J1,SVGFilterAssetsProperty:aq,TextClipProperty:QZ,SVGItemProperty:NZ,GradientAssetsProperty:zZ,TextFillProperty:EZ,ColorAssetsProperty:OZ,ImageProperty:_U,ArtBoardSizeProperty:dU,LayerTreeProperty:cU,ProjectProperty:GW,ArtBoardProperty:ZW,PositionProperty:IW,SelectorProperty:$W,BackgroundClipProperty:OW,TransformOriginProperty:hW,PerspectiveProperty:cW,PerspectiveOriginProperty:tW,TransitionProperty:KK,ClipPathProperty:CK,TransformProperty:kK,BackdropFilterProperty:nK,CodeViewProperty:WN,FilterProperty:NY,BorderRadiusProperty:zH,BackgroundImageProperty:MY,KeyframeProperty:CY,AnimationProperty:jY,BorderImageProperty:nY,FontSpacingProperty:GG,TextProperty:IG,TextShadowProperty:$G,FontProperty:kG,ContentProperty:dG,BoxModelProperty:uG,BoxShadowProperty:QH,SizeProperty:NH},"BorderRadiusProperty",zH),b5(s5,"BackgroundColorProperty",RH),s5);function g5(t){return(g5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k5(t,e){return!e||"object"!==g5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j5(t){return(j5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S5(t,e){return(S5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P5=function(t){function e(){return w5(this,e),k5(this,j5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S5(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{selectedIndex:1}}},{key:"template",value:function(){return'\n      <div class="feature-control inspector">\n        <div>\n          <div class="tab number-tab" ref="$tab">\n            <div class="tab-header" ref="$header">\n              <div class="tab-item selected" data-value="1" title=\''.concat(this.$i18n("inspector.tab.title.style"),"'>\n                <label class='icon'>").concat(Ag.palette,'</label>\n              </div>\n              <div class="tab-item" data-value="2" title=\'').concat(this.$i18n("inspector.tab.title.text"),"'>\n                <label class='icon'>").concat(Ag.title,'</label>\n              </div>              \n              <div class="tab-item" data-value="3" title="').concat(this.$i18n("inspector.tab.title.transition"),'">\n                <label>').concat(Ag.flash_on,'</label>\n              </div>\n              <div class="tab-item" data-value="5" title=\'').concat(this.$i18n("inspector.tab.title.code"),"'>\n                <label class='icon'>").concat(Ag.code,'</label>\n              </div>       \n              <div class="tab-item" data-value="6" title=\'').concat(this.$i18n("inspector.tab.title.history"),"'>\n                <label class='icon'>").concat(Ag.expand,'</label>\n              </div>                                                   \n            </div>\n            <div class="tab-body" ref="$body">\n\n              <div class="tab-content selected scrollbar" data-value="1">\n                <AlignmentProperty />\n\n                \x3c!-- Default Property --\x3e \n                <PositionProperty />\n                <SizeProperty /> \n                <BackgroundColorProperty />\n                \n                \x3c!-- SVG Item --\x3e \n                <SVGItemProperty />              \n\n                \x3c!-- Image --\x3e \n                <ImageProperty />\n\n                \x3c!-- Video --\x3e \n                <VideoProperty />\n\n                \x3c!-- Component --\x3e\n                <ComponentProperty />                \n                \n                \x3c!-- Appearance --\x3e \n\n                <BackgroundImageProperty />                \n                <PatternProperty />\n                <BorderNewProperty />\n                <BorderRadiusProperty />\n\n                <BoxModelProperty />                \n                <LayoutProperty />\n                <FlexLayoutItemProperty />\n                <GridLayoutItemProperty />      \n\n                \x3c!-- effect --\x3e\n                <BoxShadowProperty />\n                <FilterProperty />\n                <BackdropFilterProperty />\n                <ClipPathProperty />       \n\n                \x3c!-- transform --\x3e \n                <TransformProperty />                  \n                <TransformOriginProperty /> \n                \x3c!-- <PerspectiveProperty /> --\x3e\n                \x3c!-- <PerspectiveOriginProperty /> --\x3e \n\n                \x3c!-- ArtBoard --\x3e \n                <ArtBoardSizeProperty />    \n                \n                \x3c!-- SVG --\x3e\n                <PathDataProperty />                \n\n                \x3c!-- tool --\x3e                \n                <ExportProperty />\n\n\n                <div class=\'empty\'></div>\n              </div>     \n              <div class="tab-content scrollbar" data-value="2">\n\n                \x3c!-- <ContentProperty /> --\x3e    \n                <SVGTextProperty />                        \n                <FontProperty />\n                <TextProperty />\n                <TextShadowProperty />\n                <TextFillProperty />\n                <FontSpacingProperty />\n                <TextClipProperty />  \n                <div class=\'empty\'></div>\n              </div>                   \n              <div class=\'tab-content scrollbar\' data-value=\'3\'>\n                <MotionProperty />\n                \x3c!-- SelectorProperty /> --\x3e \n                <TransitionProperty />                            \n                <AnimationProperty />\n                <KeyframeProperty />    \n                <SelectorProperty />                              \n                <div class=\'empty\'></div>                \n              </div>                        \n              <div class="tab-content" data-value="5">\n                <CodeViewProperty />\n                <div class=\'empty\'></div>                           \n              </div>       \n              \n              <div class="tab-content" data-value="6">\n                <HistoryProperty />\n                <div class=\'empty\'></div>                           \n              </div>                     \n            </div>\n          </div>\n        </div>\n      </div>\n    ')}},{key:"components",value:function(){return m5}},{key:rr("$header .tab-item:not(.empty-item)"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedIndex:e},!1))}}])&&O5(n.prototype,r),o&&O5(n,o),e}(nd);function x5(t){return(x5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $5(t,e){return!e||"object"!==x5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C5(t){return(C5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T5(t,e){return(T5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var R5=function(t){function e(){return _5(this,e),$5(this,C5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T5(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{ArtBoardProperty:ZW,LayerTreeProperty:cU}}},{key:"template",value:function(){return"\n      <div class='object-items'>\n        <div>\n          <ArtBoardProperty />          \n        </div>\n        <div>\n          <LayerTreeProperty />\n        </div>\n      </div>\n    "}}])&&E5(n.prototype,r),o&&E5(n,o),e}(nd),D5={heart:'<svg viewBox="0 0 20 20">\n<path d="M9.719,17.073l-6.562-6.51c-0.27-0.268-0.504-0.567-0.696-0.888C1.385,7.89,1.67,5.613,3.155,4.14c0.864-0.856,2.012-1.329,3.233-1.329c1.924,0,3.115,1.12,3.612,1.752c0.499-0.634,1.689-1.752,3.612-1.752c1.221,0,2.369,0.472,3.233,1.329c1.484,1.473,1.771,3.75,0.693,5.537c-0.19,0.32-0.425,0.618-0.695,0.887l-6.562,6.51C10.125,17.229,9.875,17.229,9.719,17.073 M6.388,3.61C5.379,3.61,4.431,4,3.717,4.707C2.495,5.92,2.259,7.794,3.145,9.265c0.158,0.265,0.351,0.51,0.574,0.731L10,16.228l6.281-6.232c0.224-0.221,0.416-0.466,0.573-0.729c0.887-1.472,0.651-3.346-0.571-4.56C15.57,4,14.621,3.61,13.612,3.61c-1.43,0-2.639,0.786-3.268,1.863c-0.154,0.264-0.536,0.264-0.69,0C9.029,4.397,7.82,3.61,6.388,3.61"></path>\n</svg>'};function V5(t){return(V5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A5(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M5(t,e){return!e||"object"!==V5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function z5(t){return(z5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B5(t,e){return(B5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var F5=function(t){function e(){return I5(this,e),M5(this,z5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B5(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{}}},{key:"template",value:function(){return"\n      <div class='library-items'>\n        <div class='group  path'>\n          <div class='title'><label>ClipArt</label></div>\n          <div class='list'>\n            ".concat(Object.keys(D5).map((function(t){return"<div class='path-item'>".concat(D5[t],"</div>")})).join(""),"\n          </div>\n        </div>\n      </div>\n    ")}},{key:rr("$el .path-item"),value:function(t){var e=t.$dt.$("svg"),n=e.$("path"),r=A5(e.attr("viewBox").split(" "),4),o=r[0],i=r[1],a=r[2],c=r[3],u=n.attr("d"),s={x:+o,y:+i,width:+a,height:+c};this.emit("convertPath",u,s)}}])&&L5(n.prototype,r),o&&L5(n,o),e}(nd);function H5(t){return(H5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X5(t,e){return!e||"object"!==H5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N5(t){return(N5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K5(t,e){return(K5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W5=function(t){function e(){return G5(this,e),X5(this,N5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K5(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return X1}},{key:"template",value:function(){return"\n      <div class='component-items'>\n        <div class='group'>\n          <label>".concat(this.$i18n("component.items.canvas"),"</label>\n          <div class='list'>\n            <SelectTool title='Select' />\n            <AddArtboard title='Artboard' />            \n          </div>\n        </div>              \n        <div class='group'>\n        <label>").concat(this.$i18n("component.items.layer"),"</label>\n          <div class='list'>\n            <AddRect title='Rect' />\n            <AddCircle title='Circle' />         \n            <AddText title='Text' />\n            <AddImage title='Image' />\n            <AddVideo title='Video' />\n          </div>\n        </div>\n        <div class='group'>\n         <label>").concat(this.$i18n("component.items.drawing"),"</label>\n          <div class='list'>            \n            \x3c!--<AddDrawBrush title='Brush' />--\x3e\n            <AddDrawPath title='Draw' />\n            <AddPath title='Path' />\n            <AddSVGRect title='Rect' />\n            <AddSVGCircle title='Circle' />\n            \x3c!-- <AddSVGText title='Text' /> --\x3e\n            <AddSVGTextPath title='Text Path' />\n          </div>          \n        </div>\n        <div class='group'>\n         <label>").concat(this.$i18n("component.items.custom"),"</label>\n          <div class='list'>            \n            <AddCube title='Cube' />\n            <AddCylinder title='Cylinder' />          \n          </div>          \n        </div>          \n      </div>\n    ")}},{key:rr("$el button"),value:function(t){var e=this.refs.$el.$(".selected");e&&e.removeClass("selected"),t.$dt.addClass("selected")}}])&&Y5(n.prototype,r),o&&Y5(n,o),e}(nd);function U5(t){return(U5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J5(t,e){return!e||"object"!==U5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q5(t){return(Q5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function t3(t,e){return(t3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var e3=function(t){function e(){return Z5(this,e),J5(this,Q5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&t3(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return X1}},{key:"template",value:function(){return"\n      <div class='preview-tool-menu'>\n        <div class='items'>\n          <KeyBoard />      \n          <Fullscreen />      \n          <ExportView />\n          <ExportCodePen />\n          <div class='divdier'></div>\n          <Download />\n          <Save />\n          <Github />\n          <Manual />          \n        </div>                \n      </div>\n    "}}])&&q5(n.prototype,r),o&&q5(n,o),e}(nd);function n3(t){return(n3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i3(t,e){return!e||"object"!==n3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a3(t){return(a3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c3(t,e){return(c3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s3={option:"",cmd:"",shift:"",alt:"",ctrl:"",enter:"",escape:"",arrowdown:"",arrowup:"",arrowleft:"",arrowright:"",backspace:"Delete",minus:"-",equal:"+"};var l3=function(t){function e(){return r3(this,e),i3(this,a3(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c3(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n      <div class='shortcut-items'></div>\n    "}},{key:Fr("$el"),value:function(){var t=Iy();return Ly.map((function(e){return"\n        <div class='shortcut-item'>\n          <div class='command'>\n            <label>".concat(e.description,"</label>\n            <span><kbd>").concat((n=e[t]||e.key,n.toLowerCase().split("+").map((function(t){return s3[t]||t})).join(" + ")),"</kbd></span>\n          </div>\n          <div class='when'>").concat(e.when,"</div>\n        </div>\n      ");var n}))}}])&&o3(n.prototype,r),o&&o3(n,o),e}(nd);function f3(t){return(f3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m3(t,e){return!e||"object"!==f3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g3(t){return(g3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w3(t,e){return(w3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O3=function(t){function e(){return d3(this,e),m3(this,g3(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w3(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p3(Object(n),!0).forEach((function(e){h3(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({ShortCutItems:l3},m5,{ObjectItems:R5,ComponentItems:W5,LibraryItems:F5,PreviewToolMenu:e3})}},{key:"initState",value:function(){return{selectedIndex:2}}},{key:"template",value:function(){return"\n      <div class='layer-tab'>\n        <div class=\"tab number-tab side-tab side-tab-left\" data-selected-value=\"2\" ref=\"$tab\">\n          <div class=\"tab-header full\" ref=\"$header\">\n            <div class='logo-item'>\n              <label class='logo' title='EasyLogic Studio'></label>\n            </div>                  \n            <div class='tab-item' data-value='4' title=\"".concat(this.$i18n("app.tab.title.components"),'">\n              <label>').concat(Ag.add,'</label>\n            </div>          \n            <div class="tab-item selected" data-value="2" title="').concat(this.$i18n("app.tab.title.layers"),'">\n              <label>').concat(Ag.account_tree,'</label>\n            </div>            \n            <div class="tab-item" data-value="1" title="').concat(this.$i18n("app.tab.title.projects"),'">\n              <label>').concat(Ag.note,"</label>\n            </div>         \n            <div class='tab-item' data-value='5' title=\"").concat(this.$i18n("app.tab.title.assets"),'">\n              <label>').concat(Ag.apps,"</label>\n            </div>   \n            <div class='tab-item extra-item' >\n              <PreviewToolMenu />\n            </div>               \n          </div>\n          <div class=\"tab-body\" ref=\"$body\">\n            <div class=\"tab-content project-content\" data-value=\"1\">\n              <ProjectProperty />\n              <ProjectInformationProperty />\n            </div>\n            <div class=\"tab-content selected\" data-value=\"2\">\n              <ObjectItems />\n            </div>\n            <div class='tab-content' data-value='3'>\n              <LibraryItems />\n            </div>\n            <div class='tab-content' data-value='4'>\n              <ComponentItems />\n            </div>    \n            <div class='tab-content' data-value='5'>\n              <div class='assets'>\n                <ColorAssetsProperty />\n                <GradientAssetsProperty />    \n                <PatternAssetsProperty />    \n                <ImageAssetsProperty />      \n                <VideoAssetsProperty />       \n                <SVGFilterAssetsProperty />                \n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}},{key:rr("$header .tab-item:not(.extra-item)"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedIndex:e},!1))}}])&&b3(n.prototype,r),o&&b3(n,o),e}(nd);function k3(t){return(k3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P3(t,e){return!e||"object"!==k3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _3(t){return(_3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E3(t,e){return(E3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $3=function(t){function e(){return j3(this,e),P3(this,_3(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E3(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{LayerTab:O3}}},{key:"template",value:function(){return'\n      <div class="feature-control object-list">\n        <LayerTab />\n      </div>\n    '}}])&&S3(n.prototype,r),o&&S3(n,o),e}(nd);function C3(t){return(C3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D3(t,e){return!e||"object"!==C3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V3(t){return(V3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A3(t,e){return(A3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I3=function(t){function e(){return T3(this,e),D3(this,V3(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A3(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return NB}},{key:"template",value:function(){return"\n        <div class='popup ".concat(this.getClassName(),"'>\n            <div class='popup-title' ref=\"$title\">\n                <label>").concat(this.getTitle(),'</label>\n                <span class="tools">\n                  ').concat(this.getTools(),"\n                  <button type='button' class='close' ref='$close'>").concat(Ag.close,"</button>\n                </span>\n            </div>\n            <div class='popup-body'>").concat(this.getBody(),"</div>\n        </div>\n        ")}},{key:"getClassName",value:function(){return""}},{key:"getTitle",value:function(){return""}},{key:"getTools",value:function(){return""}},{key:"getBody",value:function(){return""}},{key:rr("$close"),value:function(){this.$el.hide()}},{key:kr("$title")+Lr("movePopupTitle")+Mr("endPopupTitle"),value:function(){this.x=_.parse(this.$el.css("left")),this.y=_.parse(this.$el.css("top"))}},{key:"movePopupTitle",value:function(t,e){var n=_.px(this.x.value+t),r=_.px(this.y.value+e);this.$el.css({left:n,top:r,right:"auto",bottom:"auto"})}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=28,n=320,r=this.$el.css("top"),o=this.$el.css("left"),i="auto"!==r?_.parse(r):_.px(110),a="auto"!==o?_.parse(o):_.px(document.body.clientWidth-n-e-t);this.$el.css({top:i,left:a,"z-index":this.$editor.zIndex}).show("inline-block")}},{key:"hide",value:function(){this.$el.hide()}},{key:ed("hidePropertyPopup"),value:function(){this.hide()}}])&&R3(n.prototype,r),o&&R3(n,o),e}(nd);function L3(t){return(L3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H3(t,e){return!e||"object"!==L3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G3(t){return(G3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y3(t,e){return(Y3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X3=function(t){function e(){return B3(this,e),H3(this,G3(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y3(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Box Shadow Editor"}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)",inset:!1,offsetX:_.z(),offsetY:_.z(),blurRadius:_.z(),spreadRadius:_.z()}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.changeEvent,t,this.state.params)}},{key:"getBody",value:function(){return"<div class='box-shadow-property-popup' ref='$popup'></div>"}},{key:Fr("$popup"),value:function(){return'\n      <div class="box">\n        <div class="type">\n          <label>Type</label>\n          <div\n            class="select"\n            data-selected-value="'.concat(this.state.inset?"inset":"outset",'"\n            ref="$type"\n          >\n            <button type="button" data-value="outset">Outset</button>\n            <button type="button" data-value="inset">Inset</button>\n          </div>\n        </div>\n        <div class="drag-board" ref="$dragBoard">\n          <div\n            class="pointer"\n            ref="$pointer"\n            style="left: ').concat(this.state.offsetX,";top: ").concat(this.state.offsetY,"\"\n          ></div>\n        </div>        \n        <div class=\"popup-item offset-x\">\n          <RangeEditor ref='$offsetX' label='X' key='offsetX' value=\"").concat(this.state.offsetX,"\" onchange='changeRangeEditor' />\n        </div>\n        <div class=\"popup-item offset-y\">\n          <RangeEditor ref='$offsetY' label='Y' key='offsetY' value=\"").concat(this.state.offsetY,"\" onchange='changeRangeEditor' />        \n        </div>\n        <div class=\"popup-item blur-radius\">\n          <RangeEditor ref='$blurRadius' label='Blur' key='blurRadius' value=\"").concat(this.state.blurRadius,"\" onchange='changeRangeEditor' />        \n        </div>\n        <div class=\"popup-item spread-radius\">\n          <RangeEditor ref='$spreadRadius' label='Spread' key='spreadRadius' value=\"").concat(this.state.spreadRadius,"\" onchange='changeRangeEditor' />        \n        </div>\n        <div class='popup-item'>\n          <ColorViewEditor \n              ref='$foreColor' \n              label=\"color\" \n              key='color' \n              value=\"").concat(this.state.color,'"\n              onchange="changeRangeEditor" />\n        </div>        \n      </div>\n    ')}},{key:rr("$popup .select button"),value:function(t){var e=t.$dt.attr("data-value");this.getRef("$type").attr("data-selected-value",e),this.updateData({inset:"inset"===e})}},{key:kr("$popup .drag-board")+Lr("movePointer"),value:function(t){this.offsetX=t.offsetX,this.offsetY=t.offsetY;var e=this.getRef("$dragBoard").rect();this.boardWidth=e.width,this.boardHeight=e.height}},{key:"refreshPointer",value:function(){this.getRef("$pointer").css({left:this.state.offsetX,top:this.state.offsetY})}},{key:"movePointer",value:function(t,e){var n=this.offsetX+t,r=this.offsetY+e,o=this.boardWidth/2,i=this.boardHeight/2,a=n-o,c=r-i;a<-o?a=-o:a>o&&(a=o),c<-i?c=-i:c>i&&(c=i),a=Math.floor(a),c=Math.floor(c),this.getRef("$offsetX").val(a),this.getRef("$offsetY").val(c),this.updateData({offsetX:_.px(a),offsetY:_.px(c)}),this.refreshPointer(),this.children.$offsetX.setValue(this.state.offsetX),this.children.$offsetY.setValue(this.state.offsetY)}},{key:ed("changeRangeEditor"),value:function(t,e){this.updateData(z3({},t,e)),"offsetX"!==t&&"offsetY"!==t||this.refreshPointer()}},{key:ed("showBoxShadowPropertyPopup"),value:function(t,e){this.changeEvent=t.changeEvent||"changeBoxShadowPropertyPopup",this.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M3(Object(n),!0).forEach((function(e){z3(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{params:e})),this.refresh(),this.show(432)}},{key:ed("hideBoxShadowPropertyPopup"),value:function(){this.hide()}}])&&F3(n.prototype,r),o&&F3(n,o),e}(I3);function N3(t){return(N3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U3(t,e){return!e||"object"!==N3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z3(t){return(Z3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q3(t,e){return(q3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var J3=function(t){function e(){return K3(this,e),U3(this,Z3(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q3(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Text Shadow Editor"}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)",offsetX:_.z(),offsetY:_.z(),blurRadius:_.z()}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.changeEvent,t,this.params)}},{key:"getBody",value:function(){return"<div class='text-shadow-property-popup' ref='$popup'></div>"}},{key:Fr("$popup"),value:function(){return'\n      <div class=\'box\'>\n        <div class="drag-board" ref="$dragBoard">\n          <div\n            class="pointer"\n            ref="$pointer"\n            style="left: '.concat(this.state.offsetX,";top: ").concat(this.state.offsetY,"\"\n          ></div>\n        </div>\n        <div class='popup-item'>\n          <RangeEditor ref='$offsetX' label='Offset X' key='offsetX' min=\"-100\" max='100' value='").concat(this.state.offsetX,"' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <RangeEditor ref='$offsetY' label=\"Offset Y\" key='offsetY' min=\"-100\" max='100' value='").concat(this.state.offsetY,"' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <RangeEditor ref='$blurRadius' label=\"Blur Radius\" key='blurRadius' value='").concat(this.state.blurRadius,"' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <ColorViewEditor \n              ref='$foreColor' \n              label=\"color\" \n              key='color' \n              value=\"").concat(this.state.color,'"\n              onchange="changeShadow" />\n        </div>        \n      </div>\n    ')}},{key:ed("changeShadow"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),"offsetX"!==t&&"offsetY"!==t||this.refreshPointer()}},{key:kr("$popup .drag-board")+Lr("movePointer"),value:function(t){this.offsetX=t.offsetX,this.offsetY=t.offsetY;var e=this.getRef("$dragBoard").rect();this.boardWidth=e.width,this.boardHeight=e.height}},{key:"refreshPointer",value:function(){this.getRef("$pointer").css({left:this.state.offsetX,top:this.state.offsetY})}},{key:"movePointer",value:function(t,e){var n=this.offsetX+t,r=this.offsetY+e,o=this.boardWidth/2,i=this.boardHeight/2,a=n-o,c=r-i;a<-o?a=-o:a>o&&(a=o),c<-i?c=-i:c>i&&(c=i),a=Math.floor(a),c=Math.floor(c),this.updateData({offsetX:_.px(a),offsetY:_.px(c)}),this.children.$offsetX.setValue(this.state.offsetX),this.children.$offsetY.setValue(this.state.offsetY),this.refreshPointer()}},{key:ed("showTextShadowPropertyPopup"),value:function(t,e){this.changeEvent=t.changeEvent||"changeTextShadowPropertyPopup",this.params=e,this.setState(t,!1),this.refresh(),this.show(432)}},{key:ed("hideTextShadowPropertyPopup"),value:function(){this.hide()}}])&&W3(n.prototype,r),o&&W3(n,o),e}(I3);function Q3(t){return(Q3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o8(t,e){return!e||"object"!==Q3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i8(t){return(i8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a8(t,e){return(a8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c8=function(t){function e(){return n8(this,e),o8(this,i8(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a8(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("animation.property.popup.title")}},{key:"components",value:function(){return{SelectEditor:JT,CubicBezierEditor:LR,RangeEditor:aR,IterationCountEditor:_D}}},{key:"initState",value:function(){return{changeEvent:"",instance:{},data:{}}}},{key:"updateData",value:function(t){this.state.data=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?t8(Object(n),!0).forEach((function(e){e8(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.state.data,{},t),this.state.instance&&this.state.instance.trigger(this.state.changeEvent,this.state.data)}},{key:"getBody",value:function(){return"<div class='animation-property-popup' ref='$popup'></div>"}},{key:Fr("$popup"),value:function(){return'\n      <div class="box">\n        '.concat(this.templateForKeyframe(),"\n        ").concat(this.templateForTimingFunction(),"\n        ").concat(this.templateForIterationCount(),"\n        ").concat(this.templateForDelay(),"\n        ").concat(this.templateForDuration(),"\n        ").concat(this.templateForDirection(),"\n        ").concat(this.templateForFillMode(),"\n        ").concat(this.templateForPlayState(),"\n      </div>\n    ")}},{key:"templateForTimingFunction",value:function(){return"\n    <div class='timing-function'>\n      <label>".concat(this.$i18n("animation.property.popup.timing.function"),'</label>\n      <CubicBezierEditor ref=\'$cubicBezierEditor\' key="timingFunction" value="').concat(this.state.data.timingFunction||"linear","\" onChange='changeCubicBezier' />\n    </div>\n    ")}},{key:"templateForKeyframe",value:function(){return"\n      <div class='name'>\n        <label>".concat(this.$i18n("animation.property.popup.keyframe"),"</label>\n        <div class='input grid-1'>\n          <select ref='$name'></select>\n        </div>\n      </div>\n    ")}},{key:Fr("$name"),value:function(){var t=this,e=this.$selection.currentProject,n=[];return e&&e.keyframes&&(n=e.keyframes.map((function(t){return{key:t.name,value:t.name}}))),n.unshift({key:"Select a keyframe",value:""}),n.map((function(e){var n=e.value===t.name?"selected":"",r=t.$i18n(e.key);return"<option value='".concat(e.value,"' ").concat(n,">").concat(r,"</option>")}))}},{key:yr("$name"),value:function(){this.updateData({name:this.refs.$name.value})}},{key:"templateForDirection",value:function(){var t=this,e="normal,reverse,alternate,alternate-reverse".split(",").map((function(e){return"".concat(e,":").concat(t.$i18n(e))})).join(",");return"\n      <div class='direction'>\n        <SelectEditor \n            label='".concat(this.$i18n("animation.property.popup.direction"),"'\n            ref='$direction' \n            key='direction' \n            value=\"").concat(this.state.data.direction,"\"\n            options='").concat(e,"'\n            onChange='changeSelect'\n        /> \n      </div>\n    ")}},{key:ed("changeSelect"),value:function(t,e){this.updateData(e8({},t,e))}},{key:"templateForPlayState",value:function(){return"\n    <div class='play-state'>\n      <SelectEditor \n          label='".concat(this.$i18n("animation.property.popup.play.state"),"'\n          ref='$playState' \n          key='playState' \n          value=\"").concat(this.state.data.playState,"\"\n          options='").concat(["paused","running"],"'\n          onChange='changeSelect'\n      /> \n    </div>\n  ")}},{key:"templateForFillMode",value:function(){var t=this,e="none,forwards,backwards,both".split(",").map((function(e){return"".concat(e,":").concat(t.$i18n(e))})).join(",");return"\n    <div class='fill-mode'>\n      <SelectEditor \n          label='".concat(this.$i18n("animation.property.popup.fill.mode"),"'\n          ref='$fillMode' \n          key='fillMode' \n          value=\"").concat(this.state.data.fillMode,"\"\n          options='").concat(e,"'\n          onChange='changeSelect'\n      /> \n    </div>\n  ")}},{key:"templateForDelay",value:function(){return"\n    <div class='delay'>\n      <RangeEditor \n        ref='$delay' \n        label='".concat(this.$i18n("animation.property.popup.delay"),"' \n        calc='false' \n        key='delay' \n        value='").concat(this.state.data.delay,"' \n        units='s,ms' \n        onChange=\"changeRangeEditor\" />\n    </div>\n    ")}},{key:"templateForDuration",value:function(){return"\n    <div class='duration'>\n      <RangeEditor \n        ref='$duration' \n        label='".concat(this.$i18n("animation.property.popup.duration"),"'  \n        key='duration' \n        value='").concat(this.state.data.duration,"' \n        units='s,ms' \n        onChange=\"changeRangeEditor\" />\n    </div>\n    ")}},{key:"templateForIterationCount",value:function(){return"\n      <div class='iteration-count'>\n        <IterationCountEditor \n          ref='$iterationCount' \n          label='".concat(this.$i18n("animation.property.popup.iteration"),"' \n          key='iterationCount' \n          value='").concat(this.state.iterationCount||"0","' \n          units='normal,infinite' \n          onChange=\"changeRangeEditor\" \n        />\n      </div>\n    ")}},{key:ed("changeRangeEditor"),value:function(t,e){"iterationCount"===t&&(e="normal"===e.unit?_.number(e.value):_.string(e.unit)),this.updateData(e8({},t,e))}},{key:ed("changeCubicBezier"),value:function(t,e){this.updateData(e8({},t,e))}},{key:ed("showAnimationPropertyPopup"),value:function(t){this.setState(t),this.show(250),this.children.$cubicBezierEditor.trigger("showCubicBezierEditor",t.data.timingFunction)}},{key:ed("hideAnimationPropertyPopup"),value:function(){this.$el.hide()}}])&&r8(n.prototype,r),o&&r8(n,o),e}(I3);function u8(t){return(u8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f8(t,e){return!e||"object"!==u8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p8(t){return(p8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y8(t,e){return(y8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h8=function(t){function e(){return s8(this,e),f8(this,p8(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y8(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("keyframe.popup.title")}},{key:"components",value:function(){return{OffsetEditor:fI}}},{key:"initState",value:function(){return{name:"none",offsets:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit("changeKeyframePopup",this.state)}},{key:"getBody",value:function(){return"\n    <div class='keyframe-popup' ref='$popup'>\n      <div class=\"box\">\n        ".concat(this.templateForName(),"\n        ").concat(this.templateForOffset(),"\n      </div>\n    </div>")}},{key:"templateForOffset",value:function(){return"\n      <div>\n        <OffsetEditor ref='$offsetEditor' />\n      </div>\n    "}},{key:"templateForName",value:function(){return"\n      <div class='name'>\n        <label>Name</label>\n        <div class='input grid-1'>\n          <input type='text' value='".concat(this.state.name,"' ref='$name'/>\n        </div>\n      </div>\n    ")}},{key:hr("$name"),value:function(t){if(!this.refs.$name.value.match(/^[a-zA-Z0-9\b]+$/))return t.preventDefault(),t.stopPropagation(),!1;this.updateData({name:this.refs.$name.value})}},{key:"getOffsetData",value:function(){return{offsets:this.state.offsets.map((function(t){return t}))}}},{key:"refresh",value:function(){this.refs.$name.val(this.state.name),this.emit("showOffsetEditor",this.getOffsetData())}},{key:ed("changeOffsetEditor"),value:function(t){this.updateData(t)}},{key:ed("showKeyframePopup"),value:function(t){this.setState(t),this.refresh(),this.show(240)}},{key:ed("hideKeyframePopup"),value:function(){this.$el.hide()}}])&&l8(n.prototype,r),o&&l8(n,o),e}(I3);function d8(t){return(d8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v8(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g8(t,e){return!e||"object"!==d8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w8(t){return(w8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O8(t,e){return(O8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var k8=function(t){function e(){return b8(this,e),g8(this,w8(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O8(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{DirectionEditor:lM,RangeEditor:aR}}},{key:"parseValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("round"),n=v8(e,2),r=n[0],o=n[1],i=su.parse(r),a=v8(i,5),c=a[0],u=a[1],s=a[2],l=a[3],f=a[4];if(o)var p=su.parse(o),y=v8(p,5),h=y[0],d=y[1],v=y[2],b=y[3],m=y[4];return{isAll:1===c,top:u,right:s,bottom:l,left:f,round:o,isAllRadius:1===h,topRadius:d,rightRadius:v,bottomRadius:b,leftRadius:m}}},{key:"initState",value:function(){return this.parseValue(this.props.value)}},{key:"template",value:function(){var t=this.state,e=t.top,n=t.right,r=t.bottom,o=t.left,i=t.round,a=_.percent(Math.abs((o.value-(100-n.value))/2)).toPx(220),c=e.toPx(220),u=a.clone(),s=_.percent(100-r.value).toPx(220),l=_.percent(100-n.value).toPx(220),f=_.percent(Math.abs((e.value-(100-r.value))/2)).toPx(220),p=o.toPx(220),y=_.percent(Math.abs((e.value-(100-r.value))/2)).toPx(220),h=i?"checked":"";return"\n        <div class='clip-path-editor inset-editor'>\n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' data-type='top' ref='$top' style='left: ".concat(a,";top: ").concat(c,";'></div>\n                <div class='drag-pointer' data-type='right' ref='$right' style='left: ").concat(l,";top: ").concat(f,";'></div>\n                <div class='drag-pointer' data-type='bottom' ref='$bottom' style='left: ").concat(u,";top: ").concat(s,";'></div>\n                <div class='drag-pointer' data-type='left' ref='$left' style='left: ").concat(p,";top: ").concat(y,";'></div>\n                <div class='clip-area inset' ref='$clipAreaView' style='pointer-events: none;'></div>\n                <div class='clip-area-handle' ref='$clipArea' style='left: ").concat(p,";top: ").concat(c,";width: ").concat(_.px(l.value-o.value),";height: ").concat(_.px(s.value-c.value),";'></div>\n            </div>\n            <div class='round-area'>\n                <label><input type=\"checkbox\" ").concat(h," ref='$hasRound' /> Round </label>\n                <div ref='$round'></div>\n            </div>\n        </div>\n    ")}},{key:Xr("$clipAreaView"),value:function(){return{style:{"clip-path":"".concat(this.props.key,"(").concat(this.toClipPathValueString(),")")}}}},{key:rr("$hasRound"),value:function(t){this.updateData({round:this.refs.$hasRound.checked()}),this.bindData("$clipAreaView")}},{key:Fr("$round"),value:function(){var t=this.state,e=[t.topRadius,t.rightRadius,t.bottomRadius,t.leftRadius].join(" ");return"<DirectionEditor ref='$borderRadius' value='".concat(e,"' onchange='changeBorderRadius' />")}},{key:ed("changeBorderRadius"),value:function(t){var e=v8(t,5),n=e[0],r=e[1],o=e[2],i=e[3],a=e[4];this.updateData({isAllRadius:1===n,topRadius:r,rightRadius:o,bottomRadius:i,leftRadius:a}),this.bindData("$clipAreaView")}},{key:"refreshPointer",value:function(){var t=this.state,e=t.top,n=t.right,r=t.bottom,o=t.left,i=Math.abs((o.value+(100-n.value))/2),a=Math.abs((e.value+(100-r.value))/2),c=_.percent(i).toPx(220),u=e.toPx(220),s=_.percent(i).toPx(220),l=_.percent(100-r.value).toPx(220),f=_.percent(100-n.value).toPx(220),p=_.percent(a).toPx(220),y=o.toPx(220),h=_.percent(a).toPx(220);this.refs.$top.css({left:c,top:u}),this.refs.$right.css({left:f,top:p}),this.refs.$bottom.css({left:s,top:l}),this.refs.$left.css({left:y,top:h}),this.refs.$clipArea.css({left:y,top:u,width:_.px(f.value-y.value),height:_.px(l.value-u.value)}),this.bindData("$clipAreaView")}},{key:kr("$area .clip-area-handle")+Lr("moveClipArea"),value:function(t){this.type=t.$dt.attr("data-type"),this.$target=t.$dt,this.areaRect=this.refs.$area.rect(),this.startXY=t.xy,this.clipRect={left:_.parse(this.$target.css("left")),top:_.parse(this.$target.css("top")),width:_.parse(this.$target.css("width")),height:_.parse(this.$target.css("height"))}}},{key:"moveClipArea",value:function(t,e){var n=this.clipRect.width.value,r=this.clipRect.height.value,o=this.clipRect.left.value+t,i=this.clipRect.top.value+e;0>o?o=0:this.areaRect.width<o+n&&(o=this.areaRect.width-n),0>i?i=0:this.areaRect.height<i+r&&(i=this.areaRect.height-r);var a=_.px(o),c=_.px(i);this.updateData({top:c.toPercent(this.areaRect.height).round(100),bottom:_.px(this.areaRect.height-(i+r)).toPercent(this.areaRect.height).round(100),right:_.px(this.areaRect.width-(o+n)).toPercent(this.areaRect.width).round(100),left:a.toPercent(this.areaRect.width).round(100)}),this.refreshPointer()}},{key:kr("$area .drag-pointer")+Lr(),value:function(t){this.type=t.$dt.attr("data-type"),this.$target=t.$dt,this.areaRect=this.refs.$area.rect(),this.startXY=t.xy}},{key:"move",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.areaRect.x>n?n=this.areaRect.x:this.areaRect.right<n&&(n=this.areaRect.right),this.areaRect.y>r?r=this.areaRect.y:this.areaRect.bottom<r&&(r=this.areaRect.bottom);var o=_.px(n-this.areaRect.x),i=_.px(r-this.areaRect.y);"top"===this.type?this.updateData({top:i.toPercent(this.areaRect.height).round(100)}):"bottom"===this.type?this.updateData({bottom:_.px(this.areaRect.height-i.value).toPercent(this.areaRect.height).round(100)}):"right"===this.type?this.updateData({right:_.px(this.areaRect.width-o.value).toPercent(this.areaRect.width).round(100)}):"left"===this.type&&this.updateData({left:o.toPercent(this.areaRect.width).round(100)}),this.refreshPointer()}},{key:"toClipPathValueString",value:function(){var t=this.state,e=t.top,n=t.right,r=t.left,o=t.bottom,i=t.round,a=t.topRadius,c=t.leftRadius,u=t.bottomRadius,s=t.rightRadius,l=[e,n,o,r].join(" "),f=[a,s,u,c].join(" ");return"".concat(l," ").concat(i&&f.trim()?"round ".concat(f):"")}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}}])&&m8(n.prototype,r),o&&m8(n,o),e}(nd);function j8(t){return(j8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x8(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $8(t,e){return!e||"object"!==j8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C8(t){return(C8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T8(t,e){return(T8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var R8=function(t){function e(){return _8(this,e),$8(this,C8(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T8(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:aR}}},{key:"parseValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=220,n=220;return t.split(",").filter((function(t){return t.trim()})).map((function(t){var r=x8(t.trim().split(" "),2),o=r[0],i=r[1];return{x:_.parse(o).toPx(e),y:_.parse(i).toPx(n)}}))}},{key:"initState",value:function(){return{value:this.parseValue(this.props.value)}}},{key:"template",value:function(){return"\n        <div class='clip-path-editor polygon-editor'>\n            <div class='drag-area' ref='$area'>\n                <div class='pointer-list' ref='$list'></div>\n                <div class='clip-area polygon' ref='$clipArea'></div>            \n            </div>\n            <div class='pointer-input' ref='$inputList'></div>\n        </div>\n    "}},{key:Fr("$inputList"),value:function(){return this.state.value.map((function(t,e){return"\n            <div class='pointer-item' data-index=\"".concat(e,"\">\n                <div class='input-item'>\n                    <label>X</label><input type='number' class='x' value=\"").concat(t.x.value.toString(),"\" /><span>%</span>\n                </div>\n                <div class='input-item'>\n                    <label>Y</label><input type='number' class='y' value=\"").concat(t.y.value.toString(),"\" /><span>%</span>\n                </div>\n                <div class='tools'>\n                    <button type=\"button\" class='copy' data-index=\"").concat(e,'">').concat(Ag.copy,'</button>\n                    <button type="button" class=\'remove\' data-index="').concat(e,'">').concat(Ag.remove2,"</button>\n                </div>\n            </div>\n            ")}))}},{key:rr("$area")+zr,value:function(t){if(Wn.create(t.target).is(this.refs.$area)){this.areaRect=this.refs.$area.rect();var e=t.xy,n=e.x,r=e.y;this.appendValue({x:_.px(n-this.areaRect.left),y:_.px(r-this.areaRect.top)}),this.refresh()}}},{key:rr("$inputList .pointer-item .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.removeValue(e),this.refresh()}},{key:rr("$inputList .pointer-item .copy"),value:function(t){var e=+t.$dt.attr("data-index");this.copyValue(e),this.refresh()}},{key:Xr("$clipArea"),value:function(){return{style:{"clip-path":"polygon(".concat(this.toClipPathValueString(),")")}}}},{key:Fr("$list"),value:function(){var t=this;return this.state.value.map((function(e,n){var r=[0===n?"first":"",n===t.state.value.length-1?"last":""].filter((function(t){return t})).join(" ");return"<div class='drag-pointer ".concat(r,"' data-index=\"").concat(n.toString(),"\" style='left: ").concat(e.x,";top: ").concat(e.y,";'></div>")}))}},{key:rr("$area .drag-pointer")+Dr+zr,value:function(t){var e=+t.$dt.attr("data-index");this.removeValue(e),this.refresh()}},{key:kr("$area .drag-pointer")+Lr(),value:function(t){this.selectedIndex=+t.$dt.attr("data-index"),this.$target=t.$dt,this.areaRect=this.refs.$area.rect(),this.startXY=t.xy,this.$value=this.state.value[this.selectedIndex];var e=this.refs.$inputList;this.$x=e.$('.pointer-item[data-index="'.concat(this.selectedIndex,'"] input.x')),this.$y=e.$('.pointer-item[data-index="'.concat(this.selectedIndex,'"] input.y'))}},{key:"move",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.areaRect.x>n?n=this.areaRect.x:this.areaRect.right<n&&(n=this.areaRect.right),this.areaRect.y>r?r=this.areaRect.y:this.areaRect.bottom<r&&(r=this.areaRect.bottom);var o=_.px(n-this.areaRect.x),i=_.px(r-this.areaRect.y);this.$target.css({left:o,top:i}),this.updateValue(this.selectedIndex,{x:o,y:i}),this.$x.val(o.toPercent(220).round(10).value),this.$y.val(i.toPercent(220).round(10).value),this.bindData("$clipArea")}},{key:"toClipPathValueString",value:function(){return this.state.value.map((function(t){return"".concat(t.x.toPercent(220).round(10)," ").concat(t.y.toPercent(220).round(10))})).join(",")}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:"appendValue",value:function(t){this.state.value.push(t),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:"removeValue",value:function(t){this.state.value.splice(t,1),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:"copyValue",value:function(t){var e=this.state.value[t],n=e.x,r=e.y;this.state.value.splice(t+1,0,{x:_.px(n.value+10),y:_.px(r.value+10)}),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:"updateValue",value:function(t,e){this.state.value[t]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S8(Object(n),!0).forEach((function(e){P8(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S8(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.state.value[t],{},e),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}}])&&E8(n.prototype,r),o&&E8(n,o),e}(nd);function D8(t){return(D8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V8(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function A8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L8(t,e){return!e||"object"!==D8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M8(t){return(M8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z8(t,e){return(z8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var B8=function(t){function e(){return A8(this,e),L8(this,M8(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z8(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:aR}}},{key:"parseValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50% 50%",e="50% 50%",n="";if((t=t||"50%").includes("at")){var r=t.split("at").map((function(t){return t.trim()})),o=V8(r,2);e=o[0],n=o[1]}else n=t.trim();var i=n.split(" "),a=V8(i,2),c=a[0],u=a[1];Qt(u)&&(u=c),c=_.parse(c),u=_.parse(u);var s=e.split(" "),l=V8(s,2),f=l[0],p=l[1];return Qt(p)&&(p=f),{radiusX:f=_.parse(f),radiusY:p=_.parse(p),x:c,y:u}}},{key:"initState",value:function(){return this.parseValue(this.props.value)}},{key:"template",value:function(){return"\n        <div class='clip-path-editor circle-editor'>\n            <div>\n                <RangeEditor \n                    ref='$rangeX' \n                    label='Radius X' \n                    key='radiusX' \n                    value='".concat(this.state.radiusX,"' \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"0.1\" \n                    units=\"%\" \n                    onchange='changeRangeEditor' \n                />\n            </div>\n            <div>\n                <RangeEditor \n                    ref='$rangeY' \n                    label='Radius Y' \n                    key='radiusY' \n                    value='").concat(this.state.radiusY,"' \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"0.1\" \n                    units=\"%\" \n                    onchange='changeRangeEditor' \n                />\n            </div>            \n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' ref='$pointer' style='left: ").concat(this.state.x,";top: ").concat(this.state.y,";'></div>\n                <div class='clip-area circle' ref='$clipArea'></div>\n            </div>\n        </div>\n    ")}},{key:Xr("$clipArea"),value:function(){return{style:{"clip-path":"".concat(this.props.key,"(").concat(this.toClipPathValueString(),")")}}}},{key:kr("$area")+Lr()+Mr(),value:function(t){this.areaRect=this.refs.$area.rect(),this.startXY=t.xy}},{key:"move",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.areaRect.x>n?n=this.areaRect.x:this.areaRect.right<n&&(n=this.areaRect.right),this.areaRect.y>r?r=this.areaRect.y:this.areaRect.bottom<r&&(r=this.areaRect.bottom);var o=_.percent((n-this.areaRect.x)/this.areaRect.width*100).round(1),i=_.percent((r-this.areaRect.y)/this.areaRect.height*100).round(1);this.refs.$pointer.css({left:o,top:i}),this.updateData({x:o,y:i}),this.bindData("$clipArea")}},{key:"toClipPathValueString",value:function(){var t=this.state,e=t.x,n=t.y,r=t.radiusX,o=t.radiusY,i="".concat(e," ").concat(n),a="".concat(r," ").concat(o);return"".concat(a," at ").concat(i)}},{key:"updateData",value:function(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:ed("changeRangeEditor"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e.clone()))}}])&&I8(n.prototype,r),o&&I8(n,o),e}(nd);function F8(t){return(F8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y8(t,e){return!e||"object"!==F8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function X8(t){return(X8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N8(t,e){return(N8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var K8=function(t){function e(){return H8(this,e),Y8(this,X8(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N8(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"ClipPath"}},{key:"components",value:function(){return{EllipseEditor:B8,PolygonEditor:R8,InsetEditor:k8,SelectEditor:JT,CircleEditor:gI}}},{key:"initState",value:function(){return{type:"none",value:""}}},{key:"toClipPathCSS",value:function(){return ku.toCSS(this.state)}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.state.changeEvent||"changeClipPathPopup",this.toClipPathCSS())}},{key:"getBody",value:function(){return"\n    <div class='clippath-popup' ref='$popup'>\n      <div class=\"box\">\n        <div class='clip-path-editor clip-path-type' ref='$clippathType'></div>\n        <div class='clip-path-editor' ref='$clippath'></div>\n      </div>\n    </div>"}},{key:Fr("$clippathType"),value:function(){return"\n      <div>".concat(this.state.type," Editor</div>\n    ")}},{key:Fr("$clippath"),value:function(){switch(this.state.type){case"circle":return"<CircleEditor ref='$circle' key='circle' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"ellipse":return"<EllipseEditor ref='$ellipse' key='ellipse' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"inset":return"<InsetEditor ref='$inset' key='inset' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"polygon":return"<PolygonEditor ref='$polygon' key='polygon' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"path":return"<PathEditor ref='$path' key='path' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"svg":var t=(this.$selection.currentProject||{svg:[]}).svg.filter((function(t){return"clip-path"===t.type})).map((function(t){return t.name})).join(",");return t.length&&(t=","+t),"<SelectEditor ref='$svg' key='svg' value='".concat(this.state.value,"' options='").concat(t,"' onchange='changeClipPath' />");default:return"<div class='type none'></div>"}}},{key:ed("changeClipPath"),value:function(t,e){this.updateData({type:t,value:e})}},{key:ed("showClipPathPopup"),value:function(t){this.state.changeEvent=t.changeEvent,this.setState(ku.parseStyle(t["clip-path"])),this.refresh(),this.show(220)}},{key:ed("hideClipPathPopup"),value:function(){this.hide()}}])&&G8(n.prototype,r),o&&G8(n,o),e}(I3);function W8(t){return(W8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Z8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q8(t,e){return!e||"object"!==W8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function t6(t){return(t6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function e6(t,e){return(e6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var n6=["none","all","background-color","background-position","background-size","border","border-color","border-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-width","border-left","border-left-color","border-left-width","border-radius","border-right","border-right-color","border-right-width","border-spacing","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-width","bottom","box-shadow","color","filter","font-size","font-size-adjust","font-stretch","font-weight","height","left","letter-spacing","line-height","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","perspective","perspective-origin","right","text-decoration","text-decoration-color","text-indent","text-shadow","top","transform","vertical-align","visibility","width","word-spacing","z-index"],r6=function(t){function e(){return q8(this,e),Q8(this,t6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&e6(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Transition"}},{key:"components",value:function(){return{SelectEditor:JT,CubicBezierEditor:LR,RangeEditor:aR}}},{key:"initState",value:function(){return{changeEvent:"",instance:{},data:{timingFunction:"linear",duration:"0s",delay:"0s",name:"all"}}}},{key:"updateData",value:function(t){this.state.data=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U8(Object(n),!0).forEach((function(e){Z8(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.state.data,{},t),this.state.instance&&this.state.instance.trigger(this.state.changeEvent,this.state.data)}},{key:"getBody",value:function(){return"<div class='transition-property-popup' ref='$popup'></div>"}},{key:Fr("$popup"),value:function(){return'\n      <div class="box">\n        '.concat(this.templateForProperty(),"\n        ").concat(this.templateForTimingFunction(),"\n        ").concat(this.templateForDelay(),"\n        ").concat(this.templateForDuration(),"\n      </div>\n    ")}},{key:"templateForTimingFunction",value:function(){return"\n    <div class='timing-function'>\n      <label>Timing function</label>\n      <CubicBezierEditor ref='$cubicBezierEditor' key=\"timingFunction\" value=\"".concat(this.state.data.timingFunction||"linear","\" onChange='changeCubicBezier' />\n    </div>\n    ")}},{key:ed("changeTransition"),value:function(t,e){this.updateData(Z8({},t,e))}},{key:"templateForProperty",value:function(){return"\n      <div class='name'>\n        <SelectEditor ref='$property' icon=\"true\" label=\"Property\" key='name' value=\"".concat(this.state.data.name,'" options="').concat(n6.join(","),"\" onChange='changeTransition' /> \n      </div>\n    ")}},{key:"templateForDelay",value:function(){return"\n    <div class='delay'>\n      <RangeEditor ref='$delay' label='Delay' calc='false' key='delay' value='".concat(this.state.data.delay,"' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    ")}},{key:"templateForDuration",value:function(){return"\n    <div class='duration'>\n      <RangeEditor ref='$duration' label='Duration'  calc='false' key='duration' value='".concat(this.state.data.duration,"' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    ")}},{key:ed("changeRangeEditor"),value:function(t,e){this.updateData(Z8({},t,e))}},{key:ed("changeCubicBezier"),value:function(t,e){this.updateData(Z8({},t,e))}},{key:ed("showTransitionPropertyPopup"),value:function(t){this.setState(t),this.show(250),this.children.$cubicBezierEditor.trigger("showCubicBezierEditor",t.data.timingFunction)}},{key:ed("hideTransitionPropertyPopup"),value:function(){this.$el.hide()}}])&&J8(n.prototype,r),o&&J8(n,o),e}(I3);function o6(t){return(o6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c6(t,e){return!e||"object"!==o6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u6(t){return(u6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s6(t,e){return(s6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l6=function(t){function e(){return i6(this,e),c6(this,u6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s6(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"SVG Property"}},{key:"components",value:function(){return{SVGFilterEditor:FL,SVGClipPathEditor:eM}}},{key:"initState",value:function(){return{changeEvent:"changeSVGPropertyPopup",name:"",type:"",value:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.state.changeEvent,this.state)}},{key:"getBody",value:function(){return"\n    <div class='svg-property-editor-popup' ref='$popup'>\n      <div class=\"box\">\n        ".concat(this.templateForName(),"\n        <div class='editor' ref='$editor'></div>\n      </div>\n    </div>")}},{key:Fr("$editor"),value:function(){switch(this.state.type){case"filter":return'\n          <SVGFilterEditor ref=\'$filter\' title="SVG Filter" key="filter" onchange=\'changeFilterEditor\'>\n            <property name="value" type="json">'.concat(JSON.stringify(this.state.value),"</property>\n          </SVGFilterEditor>\n        ");case"clip-path":return"\n          <SVGClipPathEditor ref='$clippath' title=\"SVG Clip Path\" key=\"clip-path\" onchange='changeClipPathEditor'>\n            <property name=\"value\" type='json'>".concat(JSON.stringify(this.state.value),"</property>\n          </SVGClipPathEditor>\n        ")}return""}},{key:ed("changeFilterEditor"),value:function(t,e){this.updateData({value:e})}},{key:ed("changeClipPathEditor"),value:function(t,e){this.updateData({value:e})}},{key:"templateForName",value:function(){return"\n      <div class='name'>\n        <label>Name</label>\n        <div class='input grid-1'>\n          <input type='text' value='".concat(this.state.name,"' ref='$name'/>\n        </div>\n      </div>\n    ")}},{key:hr("$name"),value:function(t){if(!this.refs.$name.value.match(/^[a-zA-Z0-9\b]+$/))return t.preventDefault(),t.stopPropagation(),!1;this.updateData({name:this.refs.$name.value})}},{key:"refresh",value:function(){this.refs.$name.val(this.state.name),this.load()}},{key:ed("showSVGPropertyPopup"),value:function(t){this.setState(t),this.refresh(),this.show(250)}},{key:ed("hideSVGPropertyPopup"),value:function(){this.$el.hide()}}])&&a6(n.prototype,r),o&&a6(n,o),e}(I3);function f6(t){return(f6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h6(t,e){return!e||"object"!==f6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d6(t,e,n){return(d6="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v6(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function v6(t){return(v6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b6(t,e){return(b6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m6=function(t){function e(){return p6(this,e),h6(this,v6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b6(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("selector.popup.title")}},{key:"components",value:function(){return{CSSPropertyEditor:rI}}},{key:"initState",value:function(){return{selector:"",properties:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit("changeSelectorPopup",this.state)}},{key:"getBody",value:function(){return"\n    <div class='selector-popup' ref='$popup'>\n      <div class=\"box\">\n        ".concat(this.templateForSelector(),"\n        ").concat(this.templateForProperty(),"        \n      </div>\n    </div>")}},{key:"templateForProperty",value:function(){return"<CSSPropertyEditor ref='$propertyEditor' onchange='changePropertyEditor' />"}},{key:"templateForSelector",value:function(){return"\n      <div class='name'>\n        <label>".concat(this.$i18n("selector.popup.selector"),"</label>\n        <div class='input grid-1'>\n          <input type='text' value='").concat(this.state.selector,"' ref='$selector'/>\n        </div>\n      </div>\n    ")}},{key:hr("$selector"),value:function(t){if(!this.refs.$selector.value.match(/^[a-zA-Z0-9\:\_\-\.\b]+$/))return t.preventDefault(),t.stopPropagation(),!1;this.updateData({selector:this.refs.$selector.value})}},{key:"refresh",value:function(){d6(v6(e.prototype),"refresh",this).call(this),this.refs.$selector.val(this.state.selector),this.children.$propertyEditor.trigger("showCSSPropertyEditor",this.state.properties)}},{key:ed("changePropertyEditor"),value:function(t){this.updateData({properties:t})}},{key:ed("showSelectorPopup"),value:function(t){this.setState(t),this.refresh(),this.show(250)}}])&&y6(n.prototype,r),o&&y6(n,o),e}(I3);function g6(t){return(g6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k6(t,e){return!e||"object"!==g6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j6(t){return(j6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S6(t,e){return(S6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P6=function(t){function e(){return w6(this,e),k6(this,j6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S6(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("colorpicker.popup.title")}},{key:"getClassName",value:function(){return"compact"}},{key:"components",value:function(){return{EmbedColorPicker:bM}}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.target&&this.state.target.trigger(this.state.changeEvent,this.state.color,this.params)}},{key:"updateEndData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.target&&this.state.target.trigger(this.state.changeEndEvent,this.state.color,this.params)}},{key:"getBody",value:function(){return"\n      <div class=\"color-picker-popup\">\n        <div class='box'>\n          <EmbedColorPicker ref='$color' value='".concat(this.state.color,"' onchange='changeColor' onchangeend=\"changeEndColor\" />\n        </div>\n      </div>\n    ")}},{key:Fr("$projectColors"),value:function(){return(this.$selection.currentProject||{colors:[]}).colors.map((function(t){return"\n      <div class='color-item' title='".concat(t.name,"'>\n        <div class='color-view' data-color='").concat(t.color,"' style='background-color: ").concat(t.color,"'></div>\n      </div>")}))}},{key:rr("$projectColors .color-view"),value:function(t){this.updateData({color:t.$dt.attr("data-color")}),this.children.$color.setValue(this.state.color)}},{key:ed("changeColor"),value:function(t){this.updateData({color:t})}},{key:ed("changeEndColor"),value:function(t){this.updateEndData({color:t})}},{key:ed("showColorPickerPopup"),value:function(t,e){if(t.changeEvent=t.changeEvent||"changeFillPopup",!(t.target instanceof nd))throw new Error("ColorPicker needs data.target");this.params=e,this.setState(t,!1),this.children.$color.setValue(this.state.color),this.show(232)}},{key:ed("hideColorPickerPopup"),value:function(){this.hide()}}])&&O6(n.prototype,r),o&&O6(n,o),e}(I3);function x6(t){return(x6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $6(t,e){return!e||"object"!==x6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C6(t){return(C6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T6(t,e){return(T6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var R6=function(t){function e(){return _6(this,e),$6(this,C6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T6(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Select a image"}},{key:"getClassName",value:function(){return"compact"}},{key:"initState",value:function(){return{value:""}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.context.trigger(this.state.changeEvent,this.state.value,{width:this.state.width,height:this.state.height,naturalWidth:this.state.naturalWidth,naturalHeight:this.state.naturalHeight})}},{key:"getBody",value:function(){return"\n      <div class=\"image-select-popup\">\n        <div class='box' ref='$imageBox'>\n          \n        </div>\n      </div>\n    "}},{key:Fr("$imageBox")+Vr,value:function(){return(this.$selection.currentProject||{images:[]}).images.map((function(t,e){return"<div class='image-item' ><img src= '".concat(t.local,"' /></div>")}))}},{key:rr("$imageBox .image-item"),value:function(t){var e=t.$dt.$("img");this.updateData({value:e.attr("src"),naturalWidth:_.px(e.naturalWidth),naturalHeight:_.px(e.naturalHeight),width:_.px(e.naturalWidth),height:_.px(e.naturalHeight)}),this.trigger("hideImageSelectPopup")}},{key:ed("showImageSelectPopup"),value:function(t,e){this.setState({context:t.context,changeEvent:t.changeEvent,value:t.value,params:e},!1),this.refresh(),this.show(500)}},{key:ed("hideImageSelectPopup"),value:function(){this.hide()}}])&&E6(n.prototype,r),o&&E6(n,o),e}(I3);function D6(t){return(D6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I6(t,e){return!e||"object"!==D6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L6(t){return(L6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M6(t,e){return(M6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z6=function(t){function e(){return V6(this,e),I6(this,L6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M6(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{mode:"grid"}}},{key:"template",value:function(){return"\n      <div class='image-asset-picker'>\n        <div class='image-list' ref='$imageList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:Fr("$imageList")+Vr,value:function(){return(this.$selection.currentProject||{images:[]}).images.map((function(t){return"\n        <div class='image-item'>\n          <div class='preview'>\n            <img src=\"".concat(t.local,'" />\n          </div>\n        </div>\n      ')}))}},{key:rr("$imageList .image-item"),value:function(t){var e=t.$dt.$("img");this.updateData(e.attr("src"))}},{key:"updateData",value:function(t){this.parent.trigger(this.props.onchange,t)}},{key:ed("addImageAsset"),value:function(){this.refresh()}}])&&A6(n.prototype,r),o&&A6(n,o),e}(nd);function B6(t){return(B6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function H6(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F6(Object(n),!0).forEach((function(e){G6(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function G6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N6(t,e){return!e||"object"!==B6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K6(t,e,n){return(K6="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W6(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function W6(t){return(W6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U6(t,e){return(U6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Z6=function(t){function e(){return Y6(this,e),N6(this,W6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U6(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("gradient.picker.popup.title")}},{key:"components",value:function(){return{ImageAssetPicker:z6,EmbedColorPicker:bM,GradientEditor:bD}}},{key:"initState",value:function(){return{}}},{key:"initialize",value:function(){K6(W6(e.prototype),"initialize",this).call(this),this.selectedTab="static-gradient"}},{key:"getBody",value:function(){return"\n      <div class=\"gradient-picker\" ref='$body' data-selected-editor=''>\n        <div class='box'>\n          <div ref='$gradientEditor'></div>\n        </div>\n        <div class='box'>\n          <div class='colorpicker'>\n            <EmbedColorPicker ref='$color' onchange='changeColor' />                    \n          </div>\n          <div class='assetpicker'>\n            <ImageAssetPicker ref='$asset' onchange='changeImageUrl' />\n          </div>\n        </div>\n      </div>\n     \n    "}},{key:ed("changeTabType"),value:function(t){this.refs.$body.attr("data-selected-editor",t)}},{key:"getColorString",value:function(){var t="";return this.state.image instanceof ua&&(t=this.state.image.getColorString()),t}},{key:"getCurrentColor",value:function(){return this.state.image.colorsteps[this.state.selectColorStepIndex||0].color}},{key:Fr("$gradientEditor"),value:function(){return'<GradientEditor \n      ref="$g" \n      value="'.concat(this.state.image,'" \n      selectedIndex="').concat(this.state.selectColorStepIndex,"\" \n      onchange='changeGradientEditor'\n    />")}},{key:ed("changeGradientEditor"),value:function(t){this.state.image=t,this.updateData()}},{key:ed("changeColor"),value:function(t){this.children.$g.trigger("setColorStepColor",t)}},{key:ed("changeImageUrl"),value:function(t){this.children.$g.trigger("setImageUrl",t)}},{key:ed("showGradientPickerPopup"),value:function(t,e){t.changeEvent=t.changeEvent||"changeFillPopup",t.image=t.gradient,t.params=e,this.setState(t),this.show(432)}},{key:ed("selectColorStep"),value:function(t){this.children.$color.setValue(t)}},{key:ed("changeColorStep"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.image.reset(H6({},t)),this.updateData()}},{key:"updateData",value:function(){this.state.instance.trigger(this.state.changeEvent,this.state.image,this.state.params)}}])&&X6(n.prototype,r),o&&X6(n,o),e}(I3);function q6(t){return(q6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function t9(t,e){return!e||"object"!==q6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function e9(t){return(e9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function n9(t,e){return(n9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var r9=function(t){function e(){return J6(this,e),t9(this,e9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n9(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("svgfilter.popup.title")}},{key:"components",value:function(){return{SVGFilterEditor:FL}}},{key:"getClassName",value:function(){return"transparent"}},{key:"initState",value:function(){return{changeEvent:"changeSVGFilterPopup",id:"",preview:!0,filters:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.state.changeEvent,this.state)}},{key:"getBody",value:function(){return"\n    <div class='svg-property-editor-popup' ref='$popup'>\n      <div class=\"box\">\n        <div class='editor' ref='$editor'></div>\n      </div>\n    </div>"}},{key:Fr("$editor"),value:function(){return"\n      <SVGFilterEditor ref='$filter' title='Filter Type' key=\"filter\" onchange='changeFilterEditor'>\n        <property name=\"value\" type=\"json\">".concat(JSON.stringify(this.state.filters),"</property>\n      </SVGFilterEditor>\n    ")}},{key:ed("changeFilterEditor"),value:function(t,e){this.updateData({filters:e})}},{key:"refresh",value:function(){this.load()}},{key:ed("showSVGFilterPopup"),value:function(t){t.filters=t.filters.map((function(t){return pE.parse(t)})),t.preview=!te(t.preview)||t.preview,this.setState(t),this.show(500)}},{key:ed("hideSVGFilterPopup"),value:function(){this.$el.hide()}}])&&Q6(n.prototype,r),o&&Q6(n,o),e}(I3);function o9(t){return(o9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c9(t,e){return!e||"object"!==o9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u9(t){return(u9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s9(t,e){return(s9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l9=function(t){function e(){return i9(this,e),c9(this,u9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s9(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("background.image.position.popup.title")}},{key:"components",value:function(){return{EmbedColorPicker:bM,RangeEditor:aR,SelectEditor:JT,GradientEditor:bD}}},{key:"initState",value:function(){return{size:this.props.size||"auto",repeat:this.props.repeat||"repeat",x:this.props.x||_.z(),y:this.props.y||_.z(),width:this.props.width||_.z(),height:this.props.height||_.z(),blendMode:this.props.blendMode}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.emit(this.state.changeEvent,t,this.state.params)}},{key:"templateForSize",value:function(){return"\n      <div class='popup-item'>\n        <SelectEditor label=\"".concat(this.$i18n("background.image.position.popup.size"),"\" ref='$size' key='size' value=\"").concat(this.state.size,'" options="contain,cover,auto" onchange="changeRangeEditor" />      \n      </div>\n    ')}},{key:ed("changeRangeEditor"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"templateForX",value:function(){return'\n      <div class=\'popup-item\'>\n        <RangeEditor \n            label="X"\n            calc="false"            \n            ref="$x" \n            key="x"\n            value="'.concat(this.state.x,'"\n            min="-1000" max="1000" step="1"\n            onchange="changeRangeEditor"\n        />\n      </div>\n    ')}},{key:"templateForY",value:function(){return'\n      <div class=\'popup-item\'>\n        <RangeEditor \n            label="Y" \n            calc="false"       \n            ref="$y" \n            key="y"\n            value="'.concat(this.state.y,'"            \n            min="-1000" max="1000" step="1"\n            onchange="changeRangeEditor"\n        />\n      </div>\n    ')}},{key:"templateForWidth",value:function(){return"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("background.image.position.popup.width"),'"   \n          calc="false"             \n          ref="$width" \n          key="width"\n          value="').concat(this.state.width,'"          \n          min="0" max="500" step="1" \n          onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForHeight",value:function(){return"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("background.image.position.popup.height"),'"\n          calc="false"          \n          ref="$height" \n          key="height"\n          value="').concat(this.state.height,'"          \n          min="0" max="500" step="1" onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForRepeat",value:function(){return"\n    <div class='popup-item grid-2'>\n      <label>".concat(this.$i18n("background.image.position.popup.repeat"),"</label>\n      <div class='repeat-list' ref=\"$repeat\" data-value='").concat(this.state.repeat,"'>\n          <button type=\"button\" value='no-repeat' title=\"").concat(this.$i18n("background.image.position.popup.type.no-repeat"),'"></button>\n          <button type="button" value=\'repeat\' title="').concat(this.$i18n("background.image.position.popup.type.repeat"),'"></button>\n          <button type="button" value=\'repeat-x\' title="').concat(this.$i18n("background.image.position.popup.type.repeat-x"),'"></button>\n          <button type="button" value=\'repeat-y\' title="').concat(this.$i18n("background.image.position.popup.type.repeat-y"),'"></button>\n          <button type="button" value=\'space\' title="').concat(this.$i18n("background.image.position.popup.type.space"),'"></button>\n          <button type="button" value=\'round\' title="').concat(this.$i18n("background.image.position.popup.type.round"),'"></button>\n      </div>\n    </div>\n    ')}},{key:rr("$repeat button"),value:function(t){var e=t.$dt;this.refs.$repeat.attr("data-value",e.value),this.updateData({repeat:e.value})}},{key:"templateForBlendMode",value:function(){return"\n    <div class='popup-item'>\n      <SelectEditor label=\"".concat(this.$i18n("background.image.position.popup.blend"),"\" ref='$blend' key='blendMode' value=\"").concat(this.state.blendMode,'" options="').concat(B$,'" onchange="changeRangeEditor" />\n    </div>\n    ')}},{key:"getBody",value:function(){return"\n      <div class=\"background-image-position-picker\" ref='$picker'></div>\n    "}},{key:Fr("$picker"),value:function(){return"\n      \n      <div class='box'>\n\n        <div class='background-property'>\n          ".concat(this.templateForSize(),"        \n          ").concat(this.templateForX(),"\n          ").concat(this.templateForY(),"\n          ").concat(this.templateForWidth(),"\n          ").concat(this.templateForHeight(),"\n          ").concat(this.templateForRepeat(),"\n        </div>\n      </div>\n    ")}},{key:ed("showBackgroundImagePositionPopup"),value:function(t,e){this.state.changeEvent=t.changeEvent||"changeFillPopup",this.state.params=e,this.setState(t.data),this.show(460)}}])&&a9(n.prototype,r),o&&a9(n,o),e}(I3);function f9(t){return(f9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y9(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p9(Object(n),!0).forEach((function(e){h9(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p9(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b9(t,e){return!e||"object"!==f9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m9(t,e,n){return(m9="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g9(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function g9(t){return(g9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w9(t,e){return(w9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O9=function(t){function e(){return d9(this,e),b9(this,g9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w9(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("fill.picker.popup.title")}},{key:"components",value:function(){return{ImageAssetPicker:z6,EmbedColorPicker:bM,FillEditor:pz}}},{key:"initState",value:function(){return{image:cf.create()}}},{key:"initialize",value:function(){m9(g9(e.prototype),"initialize",this).call(this),this.selectedTab="static-gradient"}},{key:"getBody",value:function(){return"\n      <div class=\"gradient-picker\" ref='$body' data-selected-editor=''>\n        <div class='box'>\n          <div ref='$gradientEditor'></div>\n        </div>\n        <div class='box'>\n          <div class='colorpicker'>\n            <EmbedColorPicker ref='$color' onchange='changeColor' />                    \n          </div>\n          <div class='assetpicker'>\n            <ImageAssetPicker ref='$asset' onchange='changeImageUrl' />\n          </div>\n        </div>\n      </div>\n     \n    "}},{key:ed("changeTabType"),value:function(t){this.refs.$body.attr("data-selected-editor",t)}},{key:"getColorString",value:function(){var t="";return this.state.image instanceof ua&&(t=this.state.image.getColorString()),t}},{key:"getCurrentColor",value:function(){return this.state.image.colorsteps[this.state.selectColorStepIndex||0].color}},{key:Fr("$gradientEditor"),value:function(){return'<FillEditor \n      ref="$g" \n      value="'.concat(this.state.image,'" \n      selectedIndex="').concat(this.state.selectColorStepIndex,"\" \n      onchange='changeFillEditor'\n    />")}},{key:ed("changeFillEditor"),value:function(t){this.state.image=t,this.updateData()}},{key:ed("changeColor"),value:function(t){this.children.$g.trigger("setColorStepColor",t)}},{key:ed("changeImageUrl"),value:function(t){this.children.$g.trigger("setImageUrl",t)}},{key:ed("showFillPickerPopup"),value:function(t,e){this.show(432),t.changeEvent=t.changeEvent||"changeFillPopup",t.params=e,this.setState(t)}},{key:ed("selectColorStep"),value:function(t){this.children.$color.setValue(t)}},{key:ed("changeColorStep"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.image.reset(y9({},t)),this.updateData()}},{key:"updateData",value:function(){this.state.instance.trigger(this.state.changeEvent,this.state.image,this.state.params)}}])&&v9(n.prototype,r),o&&v9(n,o),e}(I3);function k9(t){return(k9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P9(t,e){return!e||"object"!==k9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x9(t){return(x9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _9(t,e){return(_9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E9={PatternInfoPopup:function(t){function e(){return j9(this,e),P9(this,x9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_9(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("pattern.info.popup.title")}},{key:"initState",value:function(){return{type:this.props.type||"grid",x:this.props.x||_.z(),y:this.props.y||_.z(),width:this.props.width||_.z(),height:this.props.height||_.z(),lineWidth:this.props.lineWidth||_.px(1),lineHeight:this.props.lineHeight||_.px(1),foreColor:this.props.foreColor||"black",backColor:this.props.backColor||"transparent",blendMode:this.props.blendMode||"normal"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1);var e=this.state,n=e.x,r=e.y,o=e.width,i=e.height,a=e.foreColor,c=e.backColor,u=e.blendMode,s=e.lineWidth,l=e.lineHeight;this.state.instance.trigger(this.state.changeEvent,{x:n,y:r,width:o,height:i,foreColor:a,backColor:c,blendMode:u,lineWidth:s,lineHeight:l},this.state.params)}},{key:ed("changeRangeEditor"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"templateForX",value:function(){if(this.hasNotX())return"";var t="X",e="";return"diagonal-line"===this.state.type&&(t=this.$i18n("pattern.info.popup.rotate"),e="deg"),"\n      <div class='popup-item'>\n        <RangeEditor \n            label=\"".concat(t,'"\n            calc="false"            \n            ref="$x" \n            key="x"\n            value="').concat(this.state.x,'"\n            min="0" max="1000" step="1"\n            units="').concat(e,'"\n            onchange="changeRangeEditor"\n        />\n      </div>\n    ')}},{key:"templateForY",value:function(){return this.hasNotY()?"":'\n      <div class=\'popup-item\'>\n        <RangeEditor \n            label="Y" \n            calc="false"       \n            ref="$y" \n            key="y"\n            value="'.concat(this.state.y,'"            \n            min="0" max="1000" step="1"\n            onchange="changeRangeEditor"\n        />\n      </div>\n    ')}},{key:"templateForWidth",value:function(){return"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("pattern.info.popup.width"),'"   \n          calc="false"             \n          ref="$width" \n          key="width"\n          value="').concat(this.state.width,'"          \n          min="0" max="500" step="1" \n          onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForHeight",value:function(){return"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("pattern.info.popup.height"),'"\n          calc="false"          \n          ref="$height" \n          key="height"\n          value="').concat(this.state.height,'"          \n          min="0" max="500" step="1" onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"hasNotLineWidth",value:function(){return["check"].includes(this.state.type)}},{key:"hasNotLineHeight",value:function(){return["cross-dot","dot","check","diagonal-line","horizontal-line"].includes(this.state.type)}},{key:"hasNotX",value:function(){return["grid","dot","horizontal-line"].includes(this.state.type)}},{key:"hasNotY",value:function(){return["grid","dot","diagonal-line","vertical-line"].includes(this.state.type)}},{key:"templateForLineWidth",value:function(){return this.hasNotLineWidth()?"":"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("pattern.info.popup.lineWidth"),'"   \n          calc="false"             \n          ref="$lineWidth" \n          key="lineWidth"\n          value="').concat(this.state.lineWidth,'"          \n          min="0" max="500" step="1" \n          onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForLineHeight",value:function(){return this.hasNotLineHeight()?"":"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("pattern.info.popup.lineHeight"),'"\n          calc="false"          \n          ref="$lineHeight" \n          key="lineHeight"\n          value="').concat(this.state.lineHeight,'"          \n          min="0" max="500" step="1" onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForForeColor",value:function(){return"\n      <div class='popup-item'>\n        <ColorViewEditor \n            ref='$foreColor' \n            label=\"".concat(this.$i18n("pattern.info.popup.foreColor"),"\" \n            key='foreColor' \n            value=\"").concat(this.state.foreColor,'"\n            onchange="changeRangeEditor" />\n      </div>\n    ')}},{key:"templateForBackColor",value:function(){return"\n      <div class='popup-item'>\n        <ColorViewEditor \n            ref='$backColor' \n            label=\"".concat(this.$i18n("pattern.info.popup.backColor"),"\" \n            key='backColor' \n            value=\"").concat(this.state.backColor,'"\n            onchange="changeRangeEditor" />\n      </div>\n    ')}},{key:"templateForBlendMode",value:function(){return"\n    <div class='popup-item'>\n      <BlendSelectEditor \n            ref='$blend' \n            key='blendMode' \n            label=\"".concat(this.$i18n("pattern.info.popup.blend"),'"\n            value="').concat(this.state.blendMode,'" \n            onchange="changeRangeEditor" \n        />\n    </div>\n    ')}},{key:"getBody",value:function(){return"\n      <div class=\"background-image-position-picker\" ref='$picker'></div>\n    "}},{key:Fr("$picker"),value:function(){return"\n      \n      <div class='box'>\n\n        <div class='background-property'>      \n          ".concat(this.templateForWidth(),"\n          ").concat(this.templateForHeight(),"        \n          ").concat(this.templateForLineWidth(),"\n          ").concat(this.templateForLineHeight(),"                  \n          ").concat(this.templateForX(),"\n          ").concat(this.templateForY(),"\n          ").concat(this.templateForForeColor(),"\n          ").concat(this.templateForBackColor(),"\n          ").concat(this.templateForBlendMode(),"\n        </div>\n      </div>\n    ")}},{key:ed("showPatternInfoPopup"),value:function(t,e){this.state.changeEvent=t.changeEvent||"changePatternInfoPopup",this.state.params=e,this.state.instance=t.instance,this.setState(t.data),this.show(460)}}])&&S9(n.prototype,r),o&&S9(n,o),e}(I3),FillPickerPopup:O9,BackgroundImagePositionPopup:l9,SVGFilterPopup:r9,GradientPickerPopup:Z6,ImageSelectPopup:R6,ColorPickerPopup:P6,SelectorPopup:m6,SVGPropertyPopup:l6,ClipPathPopup:K8,KeyframePopup:h8,AnimationPropertyPopup:c8,TransitionPropertyPopup:r6,TextShadowPropertyPopup:J3,BoxShadowPropertyPopup:X3};function $9(t){return($9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R9(t,e){return!e||"object"!==$9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D9(t,e,n){return(D9="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V9(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function V9(t){return(V9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A9(t,e){return(A9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I9,L9,M9,z9,B9,F9,H9=function(t){function e(){return C9(this,e),R9(this,V9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A9(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n    <div class=\'style-view\' style=\'pointer-events: none; position: absolute;display:inline-block;left:-1000px;\'>\n      <div ref=\'$svgArea\'></div>\n      <svg width="0" height="0">\n        <defs>\n          <marker id="start" markerWidth="8" markerHeight="8" refX="5" refY="5">\n              <circle cx="5" cy="5" r="3" style="stroke: none; fill:#000000;"/>\n          </marker>\n          <marker id="head" orient="auto" markerWidth="10" markerHeight="10" refX=".5" refY="3">\n            <path d="M0,0 V6 L5,3 Z" fill="red"></path>\n          </marker>\n        </defs>\n      </svg>\n    </div>\n    '}},{key:"initialize",value:function(){D9(V9(e.prototype),"initialize",this).call(this),this.refs.$head=Wn.create(document.head)}},{key:"makeStyle",value:function(t){return FN.toStyle(t)}},{key:"refreshStyleHead",value:function(){var t=this,e=this.$selection.currentProject||new xE;this.refs.$head.$$("style").forEach((function(t){return t.remove()})),this.changeStyleHead(e),e.artboards.forEach((function(e){return t.changeStyleHead(e)}))}},{key:"changeStyleHead",value:function(t){var e=this,n=Wn.create("div"),r=this.makeStyle(t);n.html(r).children().forEach((function(t){e.refs.$head.append(t)}))}},{key:"refreshStyleHeadOne",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[t];e||(n=t.allLayers);var r=n.map((function(t){return'style[data-id="'.concat(t.id,'"]')})).join(","),o=!1;this.refs.$head.$$(r).forEach((function(e){t.isChanged(e.attr("data-timestamp"))&&(o=!0,e.remove())})),o&&this.changeStyleHead(t)}},{key:Fr("$svgArea")+Vr,value:function(){var t=this.$selection.currentProject||{};return FN.renderSVG(t)}},{key:ed("refreshStyleView","moveTimeline","playTimeline"),value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(this.load(),this.refreshStyleHeadOne(t,e)):this.refresh()}},{key:ed("refreshSVGArea"),value:function(){this.load("$svgArea")}},{key:ed("refreshSelectionStyleView"),value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e;ee(e)?n=e:null!==e&&(n=[e]);var r=[];r=n?re(n[0])?this.$selection.itemsByIds(n):n:this.$selection.items;var o=[],i=[];r.forEach((function(e){var n=e.allLayers.map((function(t){return'style[data-id="'.concat(t.id,'"],style[data-id="').concat(t.id,'-drag"]')})).join(",");i.push(n),o.push(t.makeStyle(e))})),i.length&&this.refs.$head.$$(i).forEach((function(t){t.remove()}));var a=Wn.create("div"),c=a.html(o.join("")).createChildrenFragment();this.refs.$head.append(c)}},{key:"refresh",value:function(){this.load(),this.refreshStyleHead()}}])&&T9(n.prototype,r),o&&T9(n,o),e}(nd);function G9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X9=Y9({},"move",!0),N9=(Y9(I9={},"to right",!0),Y9(I9,"to top right",!0),Y9(I9,"to bottom right",!0),I9),K9=(Y9(L9={},"to left",!0),Y9(L9,"to top left",!0),Y9(L9,"to bottom left",!0),L9),W9=(Y9(M9={},"to top",!0),Y9(M9,"to top right",!0),Y9(M9,"to top left",!0),M9),U9=(Y9(z9={},"to bottom",!0),Y9(z9,"to bottom left",!0),Y9(z9,"to bottom right",!0),z9),Z9=(Y9(B9={},"to right",2),Y9(B9,"to top right",2),Y9(B9,"to bottom right",2),Y9(B9,"to left",0),Y9(B9,"to top left",0),Y9(B9,"to bottom left",0),B9),q9=(Y9(F9={},"to bottom",2),Y9(F9,"to bottom left",2),Y9(F9,"to bottom right",2),Y9(F9,"to top",0),Y9(F9,"to top left",0),Y9(F9,"to top right",0),F9),J9=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isMove",value:function(t){return X9[t]}},{key:"isTop",value:function(t){return W9[t]}},{key:"isRight",value:function(t){return N9[t]}},{key:"isBottom",value:function(t){return U9[t]}},{key:"isLeft",value:function(t){return K9[t]}},{key:"getXDirection",value:function(t){return Z9[t]}},{key:"getYDirection",value:function(t){return q9[t]}}],(n=null)&&G9(e.prototype,n),r&&G9(e,r),t}();function Q9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var t7=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.$selectionToolView=n}var e,n,r;return e=t,(n=[{key:"makeGuideCache",value:function(){var t=this,e=this.$selection.currentArtboard;return this.cachedExtraItems=[],e&&(this.$selection.isArtBoard()?this.cachedExtraItems=[]:this.cachedExtraItems=e.allLayers.filter((function(e){return!t.$selection.check(e)||e.is("artboard")&&t.$selection.currentArtboard!=e})).map((function(t){return{x:t.screenX.value,y:t.screenY.value,width:t.width.value,height:t.height.value}})),this.rect=this.$selection.allRect?ue(this.$selection.allRect):null),this.cachedPosition={},this.$selection.each((function(e){t.cachedPosition[e.id]={x:e.x.value,y:e.y.value,width:e.width.value,height:e.height.value,screenX:e.screenX.value,screenY:e.screenY.value}})),this.rect}},{key:"move",value:function(t,e,n){var r=this.$selection.allRect;this.pointerType=t,this.dx=e,this.dy=n,"move"===t?(this.rect.x=r.x+e,this.rect.y=r.y+n):(J9.isRight(t)?(this.rect.width=r.width+e,this.rect.width<0&&(this.rect.x=r.x+this.rect.width,this.rect.width=Math.abs(this.rect.width))):J9.isLeft(t)&&(this.rect.x=r.x+e,this.rect.width=r.width-e,this.rect.width<0&&(this.rect.x=r.x+r.width,this.rect.width=Math.abs(this.rect.width))),J9.isBottom(t)?(this.rect.height=r.height+n,this.rect.height<0&&(this.rect.y=r.y+this.rect.height,this.rect.height=Math.abs(this.rect.height))):J9.isTop(t)&&(this.rect.height=r.height-n,this.rect.y=r.y+n,this.rect.height<0&&(this.rect.y=r.y+r.height,this.rect.height=Math.abs(this.rect.height))))}},{key:"recover",value:function(t){if(this.rect){var e=this.$selection.allRect,n=this.rect.width/e.width,r=this.rect.height/e.height,o=this.cachedPosition[t.id],i=this.rect.x+this.rect.width*((o.screenX-e.x)/e.width),a=this.rect.y+this.rect.height*((o.screenY-e.y)/e.height);t.reset({x:_.px(o.x+(i-o.screenX)).round(),y:_.px(o.y+(a-o.screenY)).round(),width:_.px(o.width*n).round(),height:_.px(o.height*r).round()})}}},{key:"compareX",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=[t.x,Math.floor(t.x+t.width/2),t.x+t.width],o=[e.x,Math.floor(e.x+e.width/2),e.x+e.width],i=[];if(r.forEach((function(r,a){o.forEach((function(o,c){Math.abs(r-o)<=n&&i.push({A:t,B:e,source:a,target:c,ax:o,bx:o})}))})),i.length){var a=J9.getXDirection(this.pointerType),c=i.filter((function(t){return t.source==a}));return c.length?c:[i[0]]}return i}},{key:"compareY",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=[t.y,Math.floor(t.y+t.height/2),t.y+t.height],o=[e.y,Math.floor(e.y+e.height/2),e.y+e.height],i=[];if(r.forEach((function(r,a){o.forEach((function(o,c){Math.abs(r-o)<=n&&i.push({A:t,B:e,source:a,target:c,ay:o,by:o})}))})),i.length){var a=J9.getYDirection(this.pointerType),c=i.filter((function(t){return t.source==a}));return c.length?c:[i[0]]}return i}},{key:"compare",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=this.compareX(t,e,n),o=this.compareY(t,e,n);return{x:r,y:o}}},{key:"getLayers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=this.cachedExtraItems,r=[],o=[];return n.forEach((function(n){var i=t.compare(t.rect,n,e);r.push(i.x[0]),o.push(i.y[0])})),[r[0],o[0]].filter(te)}},{key:"calculate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=this.getLayers(e);return J9.isMove(this.pointerType)?n.forEach((function(e){return t.moveSnap(e)})):n.forEach((function(e){return t.sizeSnap(e)})),n}},{key:"sizeSnap",value:function(t){if(te(t.ax))switch(t.source){case 2:this.rect.width=t.bx-this.rect.x;break;case 0:this.rect.width=this.rect.x+this.rect.width-t.bx,this.rect.x=t.bx}else switch(t.source){case 2:this.rect.height=t.by-this.rect.y;break;case 0:this.rect.height=this.rect.y+this.rect.height-t.by,this.rect.y=t.by}}},{key:"moveSnap",value:function(t){if(te(t.ax)){var e=Math.round(this.rect.width/2*t.source),n=t.bx-e;this.rect.x=n}else if(te(t.ay)){var r=Math.round(this.rect.height/2*t.source),o=t.by-r;this.rect.y=o}}},{key:"recoverAll",value:function(){var t=this;J9.isMove(this.pointerType)?this.$selection.each((function(e){t.$selection.isInParent(e,t.$selection.items)||(t.recover(e),e.recover())})):this.$selection.each((function(e){t.recover(e),e.recover()}))}},{key:"$selection",get:function(){return this.$editor.selection}}])&&Q9(e.prototype,n),r&&Q9(e,r),t}();function e7(t){return(e7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n7(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r7(t,e,n){return(r7="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u7(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function o7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a7(t,e,n){return e&&i7(t.prototype,e),n&&i7(t,n),t}function c7(t,e){return!e||"object"!==e7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u7(t){return(u7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s7(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l7(t,e)}function l7(t,e){return(l7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f7={move:"move","to top":"move","to top right":"move","to top left":"move","to bottom":"move","to bottom right":"move","to bottom left":"move","to left":"move","to right":"move",translate:"transform","transform-origin":"transform",rotate3d:"transform"},p7={artboard:"artboard",rect:"rect",circle:"lens",text:"title",image:"image","svg-path":"edit","svg-textpath":"text_rotate","svg-text":"title"},y7=function(t){function e(){return o7(this,e),c7(this,u7(e).apply(this,arguments))}return s7(e,t),a7(e,[{key:"initialize",value:function(){r7(u7(e.prototype),"initialize",this).call(this),this.guideView=new t7(this.$editor,this)}},{key:"template",value:function(){return"\n    <div class='selection-view' ref='$selectionView' >\n        <div class='selection-tool' ref='$selectionTool' style='left:-100px;top:-100px;'>\n            <div class='selection-tool-item' data-position='move' ref='$selectionMove' title='move'>\n                <span class='icon' ref='$selectionIcon'>".concat(Ag.flag,"</span>\n                <span ref='$selectionTitle'></span>\n            </div>       \n            <div class='selection-tool-item' data-position='to top'></div>            \n            <div class='selection-tool-item' data-position='to bottom'></div>            \n            <div class='selection-tool-item' data-position='to left'></div>            \n            <div class='selection-tool-item' data-position='to right'></div>\n            <div class='selection-tool-item' data-position='to top right'></div>\n            <div class='selection-tool-item' data-position='to bottom right'></div>\n            <div class='selection-tool-item' data-position='to top left'></div>\n            <div class='selection-tool-item' data-position='to bottom left'></div>\n        </div>\n        <div class='selection-pointer' ref='$selectionPointer'></div>\n    </div>")}},{key:rr('$selectionTool .selection-tool-item[data-position="path"]'),value:function(t){this.trigger("openPathEditor")}},{key:"toggleEditingPath",value:function(t){this.refs.$selectionTool.toggleClass("editing-path",t)}},{key:"checkEditMode",value:function(){return this.$editor.isSelectionMode()}},{key:kr("$selectionView .selection-tool-item")+$r("checkEditMode")+Lr()+Mr(),value:function(t){var e;this.initMoveType(t.$dt),(e=this.parent).selectCurrent.apply(e,n7(this.$selection.items)),this.$selection.doCache(),this.initSelectionTool()}},{key:"initMoveType",value:function(t){this.$target=t||this.refs.$selectionTool.$('.selection-tool-item[data-position="move"]'),this.$target&&(this.pointerType=this.$target.attr("data-position"),this.refs.$selectionTool.attr("data-selected-position",this.pointerType),this.refs.$selectionTool.attr("data-selected-movetype",f7[this.pointerType]))}},{key:"move",value:function(t,e){this.$config.get("bodyEvent").shiftKey&&(e=t),this.refreshSelectionToolView(t,e),this.emit("refreshCanvasForPartial",null,!0)}},{key:"end",value:function(){var t=this;this.refs.$selectionTool.attr("data-selected-position",""),this.refs.$selectionTool.attr("data-selected-movetype",""),this.emit("refreshAllElementBoundSize"),this.emit("removeGuideLine"),this.nextTick((function(){t.command("setAttributeForMulti","move selection pointer",t.$selection.cloneValue("x","y","width","height"))}))}},{key:"refreshSelectionToolView",value:function(t,e,n){if(0===t&&0===e);else{this.guideView.move(n||this.pointerType,t/this.$editor.scale,e/this.$editor.scale);var r=this.guideView.calculate();this.emit("refreshGuideLine",this.calculateWorldPositionForGuideLine(r))}this.makeSelectionTool()}},{key:"getSelectedElements",value:function(){var t=this;return this.$selection.ids.map((function(e){return t.parent.state.cachedCurrentElement[e]}))}},{key:"getOriginalRect",value:function(){return this.originalRect||(this.originalRect=this.parent.$el.rect()),this.originalRect}},{key:"getOriginalArtboardRect",value:function(){return this.originalArtboardRect||(this.originalArtboardRect=this.parent.refs.$view.rect()),this.originalArtboardRect}},{key:"removeOriginalRect",value:function(){this.originalArtboardRect=null,this.originalRect=null}},{key:"initSelectionTool",value:function(){this.$selection.reselect(),this.removeOriginalRect(),this.guideView.makeGuideCache();var t=this.$selection.current;if(t){var e=t.is("svg-path","svg-brush","svg-textpath");this.refs.$selectionTool.toggleClass("path",e)}else this.refs.$selectionTool.toggleClass("path",!1);this.$editor.isSelectionMode()&&this.$el.isHide()&&this.$el.show(),this.bindData("$selectionTool"),this.makeSelectionTool()}},{key:"makeSelectionTool",value:function(){this.guideView.recoverAll();var t=0,e=0,n=0,r=0;if(this.guideView.rect){var o=this.calculateWorldPosition(this.guideView.rect);t=o.x,e=o.y,n=o.width,r=o.height}0===t&&0===e&&0===n&&0===r?(t=-1e4,e=-1e4):this.$selection.currentArtboard||(t=-1e4,e=-1e4),this.refs.$selectionTool.css({left:_.px(t),top:_.px(e),width:_.px(n),height:_.px(r)}),this.refreshPositionText(t,e,n,r)}},{key:"refreshPositionText",value:function(t,e,n,r){if(this.$selection.currentArtboard){var o=_.px(t-this.$selection.currentArtboard.x.value/this.$editor.scale).round(1),i=_.px(e-this.$selection.currentArtboard.y.value/this.$editor.scale).round(1),a=_.px(n/this.$editor.scale).round(1),c=_.px(r/this.$editor.scale).round(1),u="";switch(this.pointerType){case"move":u="X: ".concat(o,", Y: ").concat(i);break;case"to top":case"to bottom":u="Y: ".concat(i,", H: ").concat(c);break;case"to left":case"to right":u="X: ".concat(o,", W: ").concat(a);break;case"to top right":case"to top left":u="X: ".concat(o,", Y: ").concat(i,", W: ").concat(a,", H: ").concat(c);break;case"to bottom right":u="W: ".concat(a,", H: ").concat(c);break;case"to bottom left":u="X: ".concat(o,", Y: ").concat(i,", W: ").concat(a,", H: ").concat(c)}this.setPositionText(u);var s=this.$selection.length,l="";if(1===s){var f=this.$selection.current;l=f.title||f.getDefaultTitle();var p=Ag[p7[f.itemType]||p7.rect];this.refs.$selectionIcon.html(p)}else s>=2&&(l="multi : ".concat(s),this.refs.$selectionIcon.html(Ag.flag),this.refs.$selectionTool.toggleClass("path",!1));this.refs.$selectionTitle.text(l),this.refs.$selectionMove.attr("title",l)}}},{key:"setPositionText",value:function(t){this.$target&&(this.$selection.current&&this.$selection.current.is("artboard")&&(t=t.split(",").filter((function(t){return!t.includes("X:")&&!t.includes("Y:")})).join(",")),this.$target.attr("data-position-text",t))}},{key:"calculateWorldPositionForGuideLine",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var n,r,o,i,a=t.calculateWorldPosition(e.A),c=t.calculateWorldPosition(e.B);return te(e.ax)&&(n=e.ax*t.$editor.scale),te(e.bx)&&(r=e.bx*t.$editor.scale),te(e.ay)&&(o=e.ay*t.$editor.scale),te(e.by)&&(i=e.by*t.$editor.scale),{A:a,B:c,ax:n,bx:r,ay:o,by:i}}))}},{key:"calculateWorldPosition",value:function(t){return{x:t.x*this.$editor.scale,y:t.y*this.$editor.scale,width:t.width*this.$editor.scale,height:t.height*this.$editor.scale}}}]),e}(function(t){function e(){return o7(this,e),c7(this,u7(e).apply(this,arguments))}return s7(e,t),a7(e,[{key:Xr("$selectionTool"),value:function(){var t=this.$selection.current;return{"data-is-layout-item":t&&t.isLayoutItem(),"data-is-layout-container":t&&t.hasLayout(),"data-layout-container":t&&(t.layout||t.parent.layout),"data-selection-length":this.$selection.length}}}]),e}(function(t){function e(){return o7(this,e),c7(this,u7(e).apply(this,arguments))}return s7(e,t),a7(e,[{key:ed("hideSelectionToolView"),value:function(){this.refs.$selectionTool.css({left:"-10000px",top:"-10000px"})}},{key:ed("hideSubEditor"),value:function(t){this.toggleEditingPath(!1)}},{key:ed("openPathEditor"),value:function(){var t=this.$selection.current;t&&t.is("svg-path","svg-brush","svg-textpath")&&(this.toggleEditingPath(!0),this.emit("showPathEditor","modify",{current:t,d:t.d,box:"box",screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight}))}},{key:ed("finishPathEdit"),value:function(){this.toggleEditingPath(!1)}},{key:ed("refreshSelectionTool"),value:function(){this.initSelectionTool()}},{key:ed("makeSelectionTool"),value:function(t){t&&this.removeOriginalRect();var e=this.guideView.calculate();this.makeSelectionTool(),0===this.$selection.length&&(e=[]),this.emit("refreshGuideLine",this.calculateWorldPositionForGuideLine(e))}}]),e}(nd)));function h7(t){return(h7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b7(t,e){return!e||"object"!==h7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m7(t){return(m7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g7(t,e){return(g7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w7=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"base-line";return'<text x="'.concat(t,'" y="').concat(e,"\" class='").concat(r,"'>").concat(n,"</text>")},O7=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"base-line";return("<line ".concat(be({x1:t,y1:e,x2:n,y2:r})," class='").concat(o,"' />"))},k7=function(t,e){(function(t,e){return t.includes(e)})(t,e)||t.push(e)},j7=function(t,e,n,r){if(0!==Math.abs(n-r)){e=Math.floor(e),k7(t,O7(e-2,n,e+2,n)),k7(t,O7(e,n,e,r)),k7(t,O7(e-2,r,e+2,r));var o=(r+n)/2,i=Math.floor(Math.abs(r-n));k7(t,w7(e+2,o,i))}},S7=function(t,e,n,r){if(0!==Math.abs(n-r)){e=Math.floor(e),k7(t,O7(n,e-2,n,e+2)),k7(t,O7(n,e,r,e)),k7(t,O7(r,e-2,r,e+2));var o=(r+n)/2,i=Math.floor(Math.abs(r-n));k7(t,w7(o,e-2,i,"text-center"))}},P7=function(t){function e(){return d7(this,e),b7(this,m7(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g7(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'<svg class=\'guide-line-view\' width="100%" height="100%" ></svg>'}},{key:"initState",value:function(){return{list:[]}}},{key:Xr("$el"),value:function(){return{html:this.createGuideLine(this.state.list)}}},{key:"createGuideLine",value:function(t){var e=[];return(t=t.filter((function(t,e){return 0===e}))).forEach((function(t){var n=t.B;if(te(t.ax)){var r=Math.min(n.y,t.A.y),o=Math.max(n.y+n.height,t.A.y+t.A.height),i=t.bx;if(t.A.y>t.B.y+t.B.height?j7(e,i,t.B.y+t.B.height,t.A.y):j7(e,i,r,t.A.y),t.A.x-n.x>0&&t.A.y<=n.y+n.height&&t.A.y>=n.y){var a=t.A.y+t.A.height/2;S7(e,a,n.x,t.A.x)}n.x+n.width-(t.A.x+t.A.width)>0&&t.A.y<=t.B.y+t.B.height&&t.A.y>=t.B.y&&(a=t.A.y+t.A.height/2,S7(e,a,t.A.x+t.A.width,n.x+n.width)),t.A.y+t.A.height<t.B.y?j7(e,i,t.A.y+t.A.height,t.B.y):j7(e,i,t.A.y+t.A.height,o)}else{var c=Math.max(n.x+n.width,t.A.x+t.A.width),u=t.by;if(t.A.x>t.B.x+t.B.width?S7(e,u,t.B.x+t.B.width,t.A.x):S7(e,u,t.A.x,t.B.x),t.A.y-n.y>0&&t.A.x<=t.B.x+t.B.width&&t.A.x>=t.B.x){var s=(t.A.x+(t.A.x+t.A.width))/2;j7(e,s,t.B.y,t.A.y)}n.y+n.height-(t.A.y+t.A.height)>0&&t.A.x<=t.B.x+t.B.width&&t.A.x>=t.B.x&&(s=(t.A.x+(t.A.x+t.A.width))/2,j7(e,s,t.A.y+t.A.height,t.B.y+t.B.height)),t.A.x+t.A.width<t.B.x?S7(e,u,t.A.x+t.A.width,t.B.x):S7(e,u,t.A.x+t.A.width,c)}})),e.join("")}},{key:"removeGuideLine",value:function(){this.setState({list:[]})}},{key:"setGuideLine",value:function(t){this.setState({list:t})}},{key:ed("removeGuideLine"),value:function(){this.removeGuideLine()}},{key:ed("refreshGuideLine"),value:function(t){this.setGuideLine(t)}}])&&v7(n.prototype,r),o&&v7(n,o),e}(nd);function x7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _7(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x7(Object(n),!0).forEach((function(e){E7(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x7(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var C7=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.segmentList=[]}var e,n,r;return e=t,(n=[{key:"reset",value:function(){return this.segmentList=[],this}},{key:"addLine",value:function(t,e){return this.segmentList.push({line:!0,x1:t.x,y1:t.y,x2:e.x,y2:e.y}),this}},{key:"addGuideLine",value:function(t,e){return this.segmentList.push({line:!0,guide:!0,x1:t.x,y1:t.y,x2:e.x,y2:e.y}),this}},{key:"addDistanceLine",value:function(t,e){return this.segmentList.push({line:!0,distance:!0,x1:t.x,y1:t.y,x2:e.x,y2:e.y}),this}},{key:"addDistanceAngle",value:function(t,e,n,r,o,i){return this.segmentList.push({angle:!0,rx:e,ry:n,line:i,degree:r,center:t,last:o}),this}},{key:"addPoint",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.segmentList.push(_7({},t,{cx:e.x,cy:e.y,selected:o,index:n,segment:r,isFirst:e.isFirst,isLast:e.isLast,isSecond:e.isSecond})),this}},{key:"addStartPoint",value:function(t,e){return this.segmentList.push(_7({},t,{cx:e.x,cy:e.y,start:!0})),this}},{key:"addCurvePoint",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.segmentList.push({curve:!0,cx:t.x,cy:t.y,index:e,selected:r,segment:n,isFirst:t.isFirst,isLast:t.isLast,isSecond:t.isSecond}),this}},{key:"addText",value:function(t,e){return this.segmentList.push({type:"text",cx:t.x,cy:t.y,text:e+""}),this}},{key:"toString",value:function(){return this.segmentList.sort((function(t,e){return t.line&&!e.line?-1:!t.line&&e.line?1:0})),this.segmentList.map((function(t){return t.angle?"\n                <path stroke-width='1' \n                    data-distance='true'\n                    fill=\"rgba(0,0,0,0.5)\"\n                    d=\"M ".concat(t.center.x,",").concat(t.center.y," A ").concat(t.rx," ").concat(t.ry,",").concat(t.degree,",0,0,").concat(t.last.x," ").concat(t.last.y," L").concat(t.line.x," ").concat(t.line.y,' Z"\n                />'):t.line?'\n                <line stroke-width=\'1\' \n                    data-segment="true"\n                    data-is-last="'.concat(t.isLast,"\"                \n                    data-guide='").concat(t.guide,"'\n                    data-distance='").concat(t.distance,"'\n                    x1='").concat(t.x1,"' x2='").concat(t.x2,"' y1='").concat(t.y1,"' y2='").concat(t.y2,"' \n                />"):t.text?'\n                <text x="'.concat(t.cx,'" y="').concat(t.cy,'" dx="5" dy="-5" text-anchor="start">').concat(t.text,"</text>\n                "):t.curve?"\n                <circle \n                    cx='".concat(t.cx,"' \n                    cy='").concat(t.cy,"' \n                    r='4'                     \n                    class='curve' \n                    data-selected='").concat(t.selected,"'                    \n                    data-is-last=\"").concat(t.isLast,'"                \n                    data-is-first="').concat(t.isFirst,'"      \n                    data-is-second="').concat(t.isSecond,'"                                  \n                    title="').concat(t.segment," curve\"                \n                    data-index='").concat(t.index,"' \n                    data-segment-point='").concat(t.segment,'\' \n                    data-segment="true" \n                />'):t.start?"\n                <circle \n                    cx='".concat(t.cx,"' \n                    cy='").concat(t.cy,"' \n                    r='4'                    \n                    class='segment'\n                    data-selected='").concat(t.selected,'\'\n                    title="Center"\n                    data-start="true" \n                />'):"\n                <circle \n                    cx='".concat(t.cx,"' \n                    cy='").concat(t.cy,"' \n                    r='4'                    \n                    class='segment'\n                    data-selected='").concat(t.selected,"'\n                    title=\"").concat(t.segment,'"\n                    data-is-last="').concat(t.isLast,'"\n                    data-is-first="').concat(t.isFirst,'"\n                    data-is-second="').concat(t.isSecond,"\"\n                    data-index='").concat(t.index,"' \n                    data-segment-point='").concat(t.segment,'\' \n                    data-segment="true" \n                />')})).join("")}}])&&$7(e.prototype,n),r&&$7(e,r),t}();function T7(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function R7(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V7(t,e,n){return e&&D7(t.prototype,e),n&&D7(t,n),t}function A7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I7(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A7(Object(n),!0).forEach((function(e){L7(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A7(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function L7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M7=["startPoint","endPoint","reversePoint"];function z7(t,e,n,r,o){var i=t.filter((function(t){return!!t&&Math.abs(t[e]-n)<=o})).map((function(t){return{dist:Math.abs(t[e]-n),point:t}}));i.sort((function(t,e){return t.dist>e.dist?-1:1}));var a=null;return i.length&&(r+=(a=i[0].point)[e]-n),{point:a,distanceValue:r}}function B7(t,e,n,r){var o=[],i=M7;return t.filter((function(t){return t})).forEach((function(t){i.filter((function(e){return t[e]})).forEach((function(i){var a=t[i],c=Math.abs(a[e]-n);c<=r&&o.push({dist:c,point:a})}))})),o.sort((function(t,e){return t.dist>e.dist?1:-1})),o.length?o[0].point:null}function F7(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=[],i=0,a=t.length;i<a;i++){var c=i,u=t[c];if(u){if("M"===u.command)o.push({command:"M",values:[u.startPoint]});else{var s=So.getPrevPoint(t,i);!1===u.curve?!1===s.curve?o.push({command:"L",values:[u.startPoint]}):o.push({command:"Q",values:[s.endPoint,u.startPoint]}):!1===s.curve?So.isEqual(u.reversePoint,u.startPoint)?o.push({command:"L",values:[u.startPoint]}):o.push({command:"Q",values:[u.reversePoint,u.startPoint]}):o.push({command:"C",values:[s.endPoint,u.reversePoint,u.startPoint]})}u.close&&o.push({command:"Z"})}}var l=o.map((function(t){return H7(e,n,t,r)})).join(" ");return{d:l}}function H7(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=n.command,i=n.values;switch(o){case"Z":return"Z";default:var a=i.map((function(n){var o=n.x-t==0?0:(n.x-t)/r,i=n.y-e==0?0:(n.y-e)/r;return"".concat(o," ").concat(i)})).join(" ");return"".concat(o," ").concat(a)}}var G7=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pathEditor=e,this.pathStringManager=new Bo,this.guideLineManager=new Bo,this.segmentManager=new C7,this.initialize(),this.initializeSelect()}return V7(t,null,[{key:"generatorPathString",value:function(t,e,n,r){return F7(t,e,n,r).d}}]),V7(t,[{key:"initialize",value:function(){this.splitLines=[],this.guideLineManager.reset(),this.segmentManager.reset(),this.pathStringManager.reset()}},{key:"initializeSelect",value:function(){this.selectedPointKeys={},this.selectedPointList=[]}},{key:"selectInBox",value:function(t){var e=[],n=["startPoint","endPoint","reversePoint"];this.state.points.forEach((function(r,o){n.forEach((function(n){var i=r[n];(function(t,e){return!(t.x2.value<e.x)&&(!(t.y2.value<e.y)&&(!(t.x.value>e.x)&&!(t.y.value>e.y)))})(t,i)&&e.push({x:i.x,y:i.y,key:n,index:o})}))})),this.select.apply(this,e)}},{key:"select",value:function(){var t=this;this.selectedPointKeys={};for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.selectedPointList=n,n.forEach((function(e){var n="".concat(e.key,"_").concat(e.index);t.selectedPointKeys[n]=!0}))}},{key:"selectKeyIndex",value:function(t,e){if(this.state.points[e]){var n=this.state.points[e][t];n&&!this.isSelectedSegment(t,e)&&this.select({x:n.x,y:n.y,key:t,index:e})}}},{key:"reselect",value:function(){var t=this;this.selectedPointList.forEach((function(e){var n=t.state.points[e.index][e.key];e.x=n.x,e.y=n.y}))}},{key:"isSelectedSegment",value:function(t,e){var n="".concat(t,"_").concat(e);return this.selectedPointKeys[n]}},{key:"applyMatrix",value:function(t){for(var e=t.x,n=t.y,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.forEach((function(t){if(t){var r=R7(t([e,n],0),2);e=r[0],n=r[1]}})),{x:e,y:n}}},{key:"applyTransform",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=A.matrix2d.translate(-this.transformRect.x,-this.transformRect.y),i=A.matrix2d.translate(this.transformRect.x,this.transformRect.y);this.transformPoints.forEach((function(e,r){var a=t.state.points[r];Object.assign(a.startPoint,t.applyMatrix.apply(t,[e.startPoint,o].concat(n,[i]))),Object.assign(a.endPoint,t.applyMatrix.apply(t,[e.endPoint,o].concat(n,[i]))),Object.assign(a.reversePoint,t.applyMatrix.apply(t,[e.reversePoint,o].concat(n,[i])))}))}},{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.transformRect,o=r.x,i=r.y,a=r.width,c=r.height,u=a/2,s=c/2;switch(t){case"flipX":this.applyTransform(A.matrix2d.translate(-e,0),A.matrix2d.flipX());break;case"flipY":this.applyTransform(A.matrix2d.translate(0,-n),A.matrix2d.flipY());break;case"flip":this.applyTransform(A.matrix2d.translate(-e,-n),A.matrix2d.flip());break;case"to move":this.applyTransform(A.matrix2d.translate(e,n));break;case"to rotate":var l=N({x:o+u,y:i},{x:o+u,y:i+s},{dx:e,dy:n});this.applyTransform(A.matrix2d.translate(-u,-s),A.matrix2d.rotate(L(-l)),A.matrix2d.translate(u,s));break;case"to skewX":l=X({x:u,y:s},{x:u+e,y:s});this.applyTransform(A.matrix2d.skewX(L(l)));break;case"to skewY":l=X({x:u,y:s},{x:u,y:s+n});this.applyTransform(A.matrix2d.skewY(L(l)));break;case"to bottom right":var f=M(a+e,a),p=M(c+n,c);this.applyTransform(A.matrix2d.scale(f,p));break;case"to right":f=M(a+e,a);this.applyTransform(A.matrix2d.scale(f,1));break;case"to bottom":p=M(c+n,c);this.applyTransform(A.matrix2d.scale(1,p));break;case"to top right":f=M(a+e,a),p=M(c-n,c);this.applyTransform(A.matrix2d.scale(f,p),A.matrix2d.translate(0,n));break;case"to top left":f=M(a-e,a),p=M(c-n,c);this.applyTransform(A.matrix2d.scale(f,p),A.matrix2d.translate(e,n));break;case"to left":f=M(a-e,a);this.applyTransform(A.matrix2d.scale(f,1),A.matrix2d.translate(e,0));break;case"to top":p=M(c-n,c);this.applyTransform(A.matrix2d.scale(1,p),A.matrix2d.translate(0,n));break;case"to bottom left":f=M(a-e,a),p=M(c+n,c);this.applyTransform(A.matrix2d.scale(f,p),A.matrix2d.translate(e,0))}}},{key:"initTransform",value:function(t){this.transformRect=ue(t),this.transformPoints=this.clonePoints.map((function(t){return{startPoint:ue(t.startPoint),endPoint:ue(t.endPoint),reversePoint:ue(t.reversePoint)}}))}},{key:"setConnectedPoint",value:function(t,e){var n=this.state,r=n.dragXY.x+t,o=n.dragXY.y+e,i={x:r,y:o},a={x:r,y:o};n.dragPoints&&(n.reversePoint=So.getReversePoint(n.startPoint,i));var c={startPoint:n.startPoint,endPoint:i,curve:!!n.dragPoints,reversePoint:a,connected:!0,close:!0};n.points.push(c)}},{key:"setCachePoint",value:function(t,e){var n=this.state,r=n.points;if(this.snapPointList=[],n.selectedIndex=t,n.connectedPoint=So.getPrevPoint(r,t),n.connectedPoint&&!n.connectedPoint.connected&&(n.connectedPoint=null),n.segment=So.getIndexPoint(r,t),n.segment.connected&&(n.connectedPoint=So.getNextPoint(r,t)),So.isFirst(n.segment)){var o=So.getLastPoint(r,t);o.connected&&(n.connectedPoint=o)}n.segmentKey=e,n.isCurveSegment=n.segment.curve&&"startPoint"!=n.segmentKey,n.originalSegment=ue(n.segment),n.connectedPoint&&(n.originalConnectedPoint=ue(n.connectedPoint)),n.cachedPoints=[],r.filter((function(t){return t&&t!=n.segment})).forEach((function(t){n.cachedPoints.push(t.startPoint,t.reversePoint,t.endPoint)}))}},{key:"moveSegment",value:function(t,e,n){var r=this.state,o=r.originalSegment[t],i=r.segment[t];o&&(i.x=o.x+e,i.y=o.y+n)}},{key:"calculateToCurve",value:function(t,e,n){var r=(e.startPoint.x+n.startPoint.x)/2,o=(e.startPoint.y+n.startPoint.y)/2,i=(e.startPoint.x-r)/2,a=(e.startPoint.y-o)/2;return t.endPoint={x:t.startPoint.x+i,y:t.startPoint.y+a},t.reversePoint={x:t.startPoint.x-i,y:t.startPoint.y-a},{dx:i,dy:a}}},{key:"convertToCurve",value:function(t){var e=this.state.points,n=e[t];if(n.curve)if(n.curve=!1,n.reversePoint=ue(n.startPoint),n.endPoint=ue(n.startPoint),"M"===n.command){var r=So.getPrevPoint(e,n.index);r.connected&&(r.curve=!1,r.reversePoint=ue(r.startPoint),r.endPoint=ue(r.startPoint))}else{if((o=So.getNextPoint(e,t))&&"M"===o.command)(a=o).curve=!1,a.reversePoint=ue(a.startPoint),a.endPoint=ue(a.startPoint)}else{n.curve=!0;var o,i=So.getPrevPoint(e,t);if((o=So.getNextPoint(e,t))&&o.index<t&&"M"===o.command){var a=o;o=So.getNextPoint(e,a.index),this.calculateToCurve(n,o,i),a.curve=!0,a.endPoint=ue(n.endPoint),a.reversePoint=ue(n.reversePoint)}else if(o&&o.index>t&&"M"!==o.command)this.calculateToCurve(n,o,i);else if(!o&&i){var c=(n.startPoint.x-i.startPoint.x)/3,u=(n.startPoint.y-i.startPoint.y)/3;n.endPoint={x:n.startPoint.x+c,y:n.startPoint.y+u},n.reversePoint=So.getReversePoint(n.startPoint,n.endPoint)}else if(!i&&o){c=(n.startPoint.x-o.startPoint.x)/3,u=(n.startPoint.y-o.startPoint.y)/3;n.endPoint={x:n.startPoint.x+c,y:n.startPoint.y+u},n.reverse=So.getReversePoint(n.startPoint,n.endPoint)}}}},{key:"moveCurveSegment",value:function(t,e,n){var r=this.state;this.moveSegment(t,e,n);var o="endPoint"===t?"reversePoint":"endPoint";r.segment[o]=So.getReversePoint(r.segment.startPoint,r.segment[t])}},{key:"rotateSegmentTarget",value:function(t,e){var n=this.state;if(n.originalSegment&&n.segment){var r=n.originalSegment.startPoint,o=r.x,i=r.y,a=n.segment[t],c=a.x,u=a.y,s=n.originalSegment[e],l=s.x,f=s.y,p=H(K(c-o,u-i),G(l,f,o,i),o,i),y=p.x,h=p.y;n.segment[e]={x:y,y:h}}}},{key:"rotateSegment",value:function(t){this.rotateSegmentTarget(t,"endPoint"===t?"reversePoint":"endPoint")}},{key:"calculateSnap",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=this.state,i=o.cachedPoints,a=o.originalSegment[t];if(!t)return{dx:e,dy:n,snapPointList:[]};var c=a.x+e,u=a.y+n,s=z7(i,"x",c,e,r),l=s.point,f=(e=s.distanceValue,z7(i,"y",u,n,r)),p=f.point,y=(n=f.distanceValue,{x:a.x+e,y:a.y+n}),h=[];return l&&h.push({startPoint:l,endPoint:y}),p&&h.push({startPoint:p,endPoint:y}),{dx:e,dy:n,snapPointList:h}}},{key:"copySegment",value:function(t,e){e.startPoint=ue(t.startPoint),e.endPoint=ue(t.endPoint),e.reversePoint=ue(t.reversePoint)}},{key:"moveSelectedSegment",value:function(t,e){var n=this;this.selectedPointList.forEach((function(r){var o=n.state.points[r.index][r.key];o.x=r.x+t,o.y=r.y+e}))}},{key:"removeSelectedSegment",value:function(){var t=this;this.selectedPointList.forEach((function(e){t.state.points[e.index][e.key].removed=!0}));var e=So.splitPoints(this.state.points),n=So.recoverPoints(e.map((function(t){return t.filter((function(t){return!t.startPoint.removed})).map((function(t){return t.endPoint.removed&&(t.endPoint=ue(t.startPoint)),t.reversePoint.removed&&(t.reversePoint=ue(t.startPoint)),So.isEqual(t.endPoint,t.startPoint,t.reversePoint)&&(t.command="L",t.curve=!1),t}))})));this.state.points=n,this.select()}},{key:"move",value:function(t,e,n){var r=this.state,o=r.isCurveSegment,i=r.segmentKey,a=r.connectedPoint,c=this.calculateSnap(i,t,e,2),u=(t=c.dx,e=c.dy,c.snapPointList);if(this.snapPointList=u||[],this.selectedPointList.length>1)this.moveSelectedSegment(t,e);else if(o)if(n.shiftKey){this.moveSegment(i,t,e);var s="endPoint"===i?"reversePoint":"endPoint";r.segment[s]=So.getReversePoint(r.segment.startPoint,r.segment[i])}else n.altKey?(this.moveSegment(i,t,e),this.rotateSegment(i)):this.moveSegment(i,t,e);else this.moveSegment("startPoint",t,e),this.moveSegment("endPoint",t,e),this.moveSegment("reversePoint",t,e);a&&this.copySegment(r.segment,r.connectedPoint)}},{key:"moveEnd",value:function(t,e){var n=this.state,r=n.points,o=n.dragXY.x+t,i=n.dragXY.y+e,a={x:o,y:i},c={x:o,y:i};n.dragPoints&&(c=So.getReversePoint(n.startPoint,a)),r.push({command:0===n.clickCount?"M":"",startPoint:n.startPoint,endPoint:a,curve:!!n.dragPoints,reversePoint:c}),n.startPoint=null,n.dragPoints=!1,n.moveXY=null}},{key:"setPoint",value:function(t){var e=t.first[0],n=t.second[t.second.length-1],r=this.clonePoints,o=So.getPoint(r,e),i=So.getPoint(r,n),a=[I7({},o,{endPoint:t.first[1]}),{startPoint:t.first[3],reversePoint:t.first[2],curve:!0,endPoint:t.second[1]},I7({},i,{reversePoint:t.second[2]})],c=So.getIndex(r,e);r.splice.apply(r,[c,2].concat(a)),this.state.points=r}},{key:"setPointQuard",value:function(t){var e=t.first[0],n=(t.second[t.second.length-1],this.clonePoints),r=So.getPoint(n,e),o=[I7({},r,{endPoint:{x:r.startPoint.x+(r.endPoint.x-r.startPoint.x)/3,y:r.startPoint.y+(r.endPoint.y-r.startPoint.y)/3}}),{startPoint:t.first[2],reversePoint:t.first[1],curve:!0,endPoint:t.second[1]}],i=So.getIndex(n,e);n.splice.apply(n,[i,1].concat(o)),this.state.points=n}},{key:"setPointLine",value:function(t){var e=t.first[0],n=this.clonePoints,r=[{command:"L",startPoint:t.first[1],curve:!1,endPoint:t.first[1],reversePoint:t.first[1]}],o=So.getIndex(n,e);n.splice.apply(n,[o+1,0].concat(r)),this.state.points=n}},{key:"toPath",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return F7(this.clonePoints,t,e,n)}},{key:"changeScale",value:function(){this.pathEditor.scale}},{key:"makeSVGPath",value:function(){return this.initialize(),this.makePointGuide(this.clonePoints),this.makeMovePositionGuide(),this.toSVGString()}},{key:"makeTriangleDistancePointGuide",value:function(t,e){var n=Math.min(t.startPoint.x,e.startPoint.x),r=Math.max(t.startPoint.x,e.startPoint.x),o=Math.min(t.startPoint.y,e.startPoint.y),i=Math.max(t.startPoint.y,e.startPoint.y);if(t.startPoint.x<e.startPoint.x&&t.startPoint.y<e.startPoint.y){this.segmentManager.addDistanceLine({x:n,y:o},{x:r,y:o}).addDistanceLine({x:r,y:o},{x:r,y:i});var a=n,c=o,u=K(r-n,i-o)-180,s=H(0,20,a,c),l=s.x,f=s.y,p=H(u/2,20,a,c),y=p.x,h=p.y,d=H(u,20,a,c);this.segmentManager.addDistanceAngle(d,20,20,u,{x:l,y:f},{x:l-20,y:f}).addText({x:y-5,y:h+15},u)}else t.startPoint.x<e.startPoint.x&&t.startPoint.y>e.startPoint.y?this.segmentManager.addDistanceLine({x:n,y:i},{x:r,y:i}).addDistanceLine({x:r,y:o},{x:r,y:i}):t.startPoint.x>e.startPoint.x&&t.startPoint.y>e.startPoint.y?this.segmentManager.addDistanceLine({x:n,y:o},{x:n,y:i}).addDistanceLine({x:n,y:i},{x:r,y:i}):t.startPoint.x>e.startPoint.x&&t.startPoint.y<e.startPoint.y&&this.segmentManager.addDistanceLine({x:n,y:i},{x:r,y:i}).addDistanceLine({x:r,y:o},{x:r,y:i})}},{key:"makeDistancePointGuide",value:function(t,e,n,r){e.selected&&(t&&this.makeTriangleDistancePointGuide(t,e),n&&this.makeTriangleDistancePointGuide(e,n))}},{key:"makeStartPointGuide",value:function(t,e,n,r){e.startPoint.isFirst=!0,this.pathStringManager.M(e.startPoint),!1===e.curve?(this.segmentManager.addPoint({},e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),e.startPoint.isLast||this.segmentManager.addText(e.startPoint,r+1)):(this.segmentManager.addPoint({},e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)).addGuideLine(e.startPoint,e.endPoint),!1===So.isEqual(e.startPoint,e.endPoint)&&this.segmentManager.addCurvePoint(e.endPoint,r,"endPoint",this.isSelectedSegment("endPoint",r)))}},{key:"makeMiddlePointGuideSegment",value:function(t,e,n,r){var o=this.segmentManager;!1===e.curve?!1===t.curve?(o.addPoint({},e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),e.startPoint.isLast||o.addText(e.startPoint,r+1)):(o.addGuideLine(t.startPoint,t.endPoint).addCurvePoint(e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),!1===So.isEqual(t.startPoint,t.endPoint)&&o.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),e.startPoint.isLast||o.addText(e.startPoint,r+1)):!1===t.curve?So.isEqual(e.reversePoint,e.startPoint)?(o.addPoint({},e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),e.startPoint.isLast||o.addText(e.startPoint,r+1)):(o.addGuideLine(e.startPoint,e.reversePoint).addCurvePoint(e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),!1===So.isEqual(e.startPoint,e.reversePoint)&&o.addCurvePoint(e.reversePoint,r,"reversePoint",this.isSelectedSegment("reversePoint",r)),e.startPoint.isLast||o.addText(e.startPoint,r+1)):e.connected?(o.addGuideLine(t.startPoint,t.endPoint).addGuideLine(e.startPoint,e.reversePoint),!1===So.isEqual(t.startPoint,t.endPoint)&&o.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),!1===So.isEqual(e.startPoint,e.reversePoint)&&o.addCurvePoint(e.reversePoint,r,"reversePoint",this.isSelectedSegment("reversePoint",r))):(o.addGuideLine(t.startPoint,t.endPoint).addGuideLine(e.startPoint,e.reversePoint).addCurvePoint(e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),!1===So.isEqual(t.startPoint,t.endPoint)&&o.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),!1===So.isEqual(e.startPoint,e.reversePoint)&&o.addCurvePoint(e.reversePoint,r,"reversePoint",this.isSelectedSegment("reversePoint",r)),e.startPoint.isLast||o.addText(e.startPoint,r+1))}},{key:"makeMiddlePointGuideRealPath",value:function(t,e,n,r){var o=this.pathStringManager;!1===e.curve?!1===t.curve?o.L(e.startPoint):o.Q(t.endPoint,e.startPoint):!1===t.curve?So.isEqual(e.reversePoint,e.startPoint)?o.L(e.startPoint):o.Q(e.reversePoint,e.startPoint):o.C(t.endPoint,e.reversePoint,e.startPoint)}},{key:"makeMiddlePointGuideSplitLine",value:function(t,e,n,r){!1===e.curve?!1===t.curve?this.splitLines.push((new Bo).M(t.startPoint).L(e.startPoint).toString("split-path")):this.splitLines.push((new Bo).M(t.startPoint).Q(t.endPoint,e.startPoint).toString("split-path")):!1===t.curve?So.isEqual(e.reversePoint,e.startPoint)?this.splitLines.push((new Bo).M(t.startPoint).L(e.startPoint).toString("split-path")):this.splitLines.push((new Bo).M(t.startPoint).Q(e.reversePoint,e.startPoint).toString("split-path")):this.splitLines.push((new Bo).M(t.startPoint).C(t.endPoint,e.reversePoint,e.startPoint).toString("split-path"))}},{key:"makePointGuide",value:function(t){for(var e=this.state.selectedIndex,n=0,r=t.length;n<r;n++){var o=t[n];if(o){var i=So.getNextPoint(t,n),a=So.getPrevPoint(t,n);a&&"M"===a.command&&(o.startPoint.isSecond=!0),o.startPoint.isLast=i?"M"===i.command:n===r-1,o.selected=e===n,"M"===o.command?this.makeStartPointGuide(a,o,i,n):(this.makeMiddlePointGuideRealPath(a,o,i,n),this.makeMiddlePointGuideSplitLine(a,o,i,n),this.makeMiddlePointGuideSegment(a,o,i,n)),o.close&&this.pathStringManager.Z()}}}},{key:"makeMovePositionGuide",value:function(){var t=this.state,e=t.points,n=t.startPoint,r=t.moveXY,o=t.dragPoints,i=(t.altKey,t.snapPointList);if(r){var a;i=i||[];var c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=B7(t,"x",e.x,n),o=B7(t,"y",e.y,n),i=I7({},e);r&&(i.x=r.x),o&&(i.y=o.y);var a=[];return r&&a.push({startPoint:r,endPoint:i}),o&&a.push({startPoint:o,endPoint:i}),{snapPointList:a,moveXY:i}}(e,r,2),u=c.snapPointList,s=c.moveXY;(a=i).push.apply(a,T7(u)),t.moveXY=s,r=s,this.snapPointList=i;var l=e[e.length-1];if(o)if(l){if(l.curve){var f=So.getReversePoint(n,r);h=f.x,d=f.y;this.guideLineManager.M(l.startPoint).C(l.endPoint,{x:h,y:d},n),this.segmentManager.addGuideLine(l.startPoint,l.endPoint).addGuideLine(n,{x:h,y:d}).addGuideLine(n,r).addCurvePoint(l.endPoint).addCurvePoint({x:h,y:d}).addCurvePoint(r).addPoint(!1,n)}else if(!1===l.curve){var p=So.getReversePoint(n,r);h=p.x,d=p.y;this.guideLineManager.M(l.startPoint).Q({x:h,y:d},n),this.segmentManager.addGuideLine(r,{x:h,y:d}).addPoint(!1,n).addCurvePoint({x:h,y:d}).addCurvePoint(r)}}else{var y=So.getReversePoint(n,r),h=y.x,d=y.y;this.guideLineManager.M(r).L(n).L({x:h,y:d}),this.segmentManager.addCurvePoint(n).addCurvePoint(r).addCurvePoint({x:h,y:d})}else l&&(l.curve?(this.guideLineManager.M(l.startPoint).Q(l.endPoint,r),this.segmentManager.addGuideLine(l.endPoint,l.startPoint).addCurvePoint(l.endPoint)):l.close||(this.guideLineManager.M(l.startPoint).L(r),this.segmentManager.addPoint(!1,l.startPoint)))}}},{key:"makeSnapLines",value:function(){var t=[];if(this.snapPointList){var e=new Bo;t=this.snapPointList.map((function(t){return e.reset(),e.M(t.startPoint).L(t.endPoint).toString("snap-path")}))}return t.join("")}},{key:"makeSelectedSVGZone",value:function(){var t=this.state,e=t.screenX,n=t.screenY,r=t.screenWidth,o=t.screenHeight,i=this.pathEditor.scale,a=e.value*i,c=n.value*i,u=r.value*i,s=o.value*i;return"<rect class='svg-canvas' ".concat(be({x:a,y:c,width:u,height:s})," />")}},{key:"toSVGString",value:function(){return'\n        <svg width="100%" height="100%" class=\'svg-editor-canvas\'>\n            '.concat(this.makeSelectedSVGZone(),"\n            ").concat(this.guideLineManager.toString("guide",this.state.isPolygon),"\n            ").concat(this.pathStringManager.toString("object",this.state.isPolygon),"\n            ").concat(this.splitLines.join(""),"\n            ").concat(this.makeSnapLines(),"\n            ").concat(this.segmentManager.toString(),"\n        </svg>\n        ")}},{key:"state",get:function(){return this.pathEditor.state}},{key:"clonePoints",get:function(){return T7(this.state.points)}},{key:"selectedLength",get:function(){return this.selectedPointList.length}}]),t}();function Y7(t){return(Y7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N7(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X7(Object(n),!0).forEach((function(e){K7(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X7(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function K7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W7(t,e,n){return(W7="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ttt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function U7(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Z7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J7(t,e,n){return e&&q7(t.prototype,e),n&&q7(t,n),t}function Q7(t,e){return!e||"object"!==Y7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ttt(t){return(ttt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ett(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ntt(t,e)}function ntt(t,e){return(ntt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rtt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ott(t){var e=rtt(t,2);return{x:e[0],y:e[1]}}var itt=["fill","fill-opacity","stroke","stroke-width"],att=function(t){function e(){return Z7(this,e),Q7(this,ttt(e).apply(this,arguments))}return ett(e,t),J7(e,[{key:"initialize",value:function(){W7(ttt(e.prototype),"initialize",this).call(this),this.pathParser=new Ro,this.pathGenerator=new G7(this)}},{key:"initState",value:function(){return{changeEvent:"updatePathItem",isShow:!1,points:[],hasTransform:!1,mode:"path",$target:null,clickCount:0,isSegment:!1,isFirstSegment:!1,screenX:_.z(),screenY:_.z(),screenWidth:_.z(),screenHeight:_.z()}}},{key:"template",value:function(){return"\n        <div class='path-editor-view' tabIndex=\"-1\">\n            <div class='path-container' ref='$view'></div>\n            <div class='path-container split-panel'>\n                <svg width=\"100%\" height=\"100%\">\n                    <circle ref='$splitCircle' class='split-circle' />\n                </svg>\n            </div>\n            <div class='path-tool'>\n                <div class='transform-manager' ref='$tool'>\n                    <div class='transform-tool-item' data-position='to rotate'></div>                \n                    <div class='transform-tool-item' data-position='to move'></div>\n                    <div class='transform-tool-item' data-position='to top'></div>\n                    <div class='transform-tool-item' data-position='to right'></div>\n                    <div class='transform-tool-item' data-position='to bottom'></div>\n                    <div class='transform-tool-item' data-position='to left'></div>\n                    <div class='transform-tool-item' data-position='to top right'></div>\n                    <div class='transform-tool-item' data-position='to bottom right'></div>\n                    <div class='transform-tool-item' data-position='to top left'></div>\n                    <div class='transform-tool-item' data-position='to bottom left'></div>  \n                </div>\n            </div>\n            <div class='segment-box' ref='$segmentBox'></div>\n        </div>"}},{key:Xr("$tool"),value:function(){this.resetTransformZone();var t=this.state.transformZoneRect;return{"data-show":"transform"===this.state.mode,"data-position":this.transformMoveType,style:{left:_.px(t.x),top:_.px(t.y),width:_.px(t.width),height:_.px(t.height)}}}},{key:"renderTransformTool",value:function(){this.bindData("$tool")}},{key:"isShow",value:function(){return this.state.isShow}},{key:"initRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.rect&&!t||(this.state.rect=this.parent.refs.$body.rect())}},{key:cr("document")+$r("isShow")+Tr+zr+Br,value:function(){this.state.current?(this.refreshPathLayer(),this.trigger("hidePathEditor")):this.addPathLayer(),!this.state.current&&this.state.points.length?this.trigger("initPathEditorView"):this.trigger("hidePathEditor")}},{key:cr("document")+$r("isShow")+Rr+zr+Br,value:function(){this.state.current?this.refreshPathLayer():this.addPathLayer(),this.trigger("hidePathEditor")}},{key:"makePathLayer",value:function(t){var e,n=this,r=this.pathGenerator.toPath(t.x,t.y,this.scale).d,o=this.$selection.currentArtboard;if(o){var i=t.x/this.scale,a=t.y/this.scale,c=t.width/this.scale,u=t.height/this.scale;e=o.add(new hC({width:_.px(c),height:_.px(u),d:r,totalLength:this.totalPathLength})),itt.forEach((function(t){n.state[t]&&e.reset(K7({},t,n.state[t]))})),e.setScreenX(i),e.setScreenY(a)}return e}},{key:"updatePathLayer",value:function(){var t=this.getPathRect(),e=t.x,n=t.y,r=this.state.current;if(r&&this.isBoxMode)e=r.screenX.value/this.scale,n=r.screenY.value/this.scale;var o=this.pathGenerator.toPath(e,n,this.scale).d,i=new Ro(o);this.emit(this.state.changeEvent,{d:i.toString(),totalLength:this.totalPathLength,rect:{x:t.x/this.scale,y:t.y/this.scale,width:t.width/this.scale,height:t.height/this.scale}})}},{key:"addPathLayer",value:function(){var t=this.getPathRect();(this.changeMode("modify"),t.width>0&&t.height>0)&&(this.makePathLayer(t)&&this.emit("refreshAll"))}},{key:"changeMode",value:function(t,e){this.setState(N7({mode:t,clickCount:0,moveXY:null},e),!1),this.emit("changePathManager",this.state.mode)}},{key:ed("changePathManager"),value:function(t){this.setState(N7({},t,{clickCount:0}),!1),this.renderPath()}},{key:"isMode",value:function(t){return this.state.mode===t}},{key:ed("changeScale"),value:function(){this.refresh()}},{key:"getCurrentObject",value:function(){var t=this.state.current;return t?{current:t,d:t.d,screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight}:null}},{key:"refresh",value:function(t){if((t=t||this.getCurrentObject())&&t.d){this.pathParser.reset(t.d),this.pathParser.scale(this.scale,this.scale);var e=t.screenX.value*this.scale,n=t.screenY.value*this.scale;this.pathParser.translate(e,n),this.state.points=this.pathParser.convertGenerator(),this.state.hasTransform=!!t.current.transform}else this.state.hasTransform=!1;this.pathGenerator.initializeSelect(),this.renderPath()}},{key:ed("showPathEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"path",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"move"===t?(e.current=null,e.points=[]):e.current||(e.current=null),e.box=e.box||"canvas",this.changeMode(t,e),this.refresh(e),this.state.isShow=!0,this.$el.show(),this.$el.focus(),this.emit("showPathManager",{mode:this.state.mode}),this.emit("hidePathDrawEditor"),this.emit("change.mode.view","PathEditorView")}},{key:ed("hidePathEditor"),value:function(){this.$el.isShow()&&(this.pathParser.reset(""),this.setState(this.initState(),!1),this.refs.$view.empty(),this.$el.hide(),this.emit("finishPathEdit"),this.emit("hidePathManager"),this.emit("change.mode.view"))}},{key:ed("hideAddViewLayer"),value:function(){this.state.isShow=!1,this.pathParser.reset(""),this.setState(this.initState(),!1),this.refs.$view.empty(),this.$el.hide(),this.emit("hidePathManager")}},{key:Xr("$view"),value:function(){return{class:{path:"path"===this.state.mode,modify:"modify"===this.state.mode,transform:"transform"===this.state.mode,box:"box"===this.state.box,"has-transform":!!this.state.hasTransform,"segment-move":"segment-move"===this.state.mode},innerHTML:this.pathGenerator.makeSVGPath()}}},{key:Xr("$splitCircle"),value:function(){return this.state.splitXY?{cx:this.state.splitXY.x,cy:this.state.splitXY.y,r:5}:{r:0}}},{key:"refreshPathLayer",value:function(){this.updatePathLayer()}},{key:"renderPath",value:function(){this.bindData("$view"),this.renderTransformTool()}},{key:"getPathRect",value:function(){this.initRect(!0);var t=this.refs.$view.$("path.object"),e={x:0,y:0,width:0,height:0};return t&&((e=t.rect()).x-=this.state.rect.x,e.y-=this.state.rect.y),e}},{key:"resetTransformZone",value:function(){var t=this.getPathRect();this.state.transformZoneRect=t}},{key:jr("$view"),value:function(t){if(this.initRect(),this.isMode("path")&&this.state.rect)this.state.moveXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.altKey=t.altKey,this.renderPath();else{var e=Wn.create(t.target),n=e.hasClass("split-path");this.state.splitXY=n?this.calculatePointOnLine(e.attr("d"),{x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y}):null,this.bindData("$splitCircle"),this.state.altKey=!1}}},{key:kr("$view :not(.split-path)")+Lr()+Mr(),value:function(t){this.initRect(),this.state.altKey=!1;var e=this.isMode("path");this.state.dragXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.isOnCanvas=!1;var n=Wn.create(t.target);if(n.hasClass("svg-editor-canvas")&&!e?this.state.isOnCanvas=!0:(this.pathGenerator.reselect(),this.state.isSegment="true"===n.attr("data-segment"),this.state.isFirstSegment=this.state.isSegment&&"true"===n.attr("data-is-first")),e){if(this.state.isFirstSegment){var r=+n.attr("data-index");this.state.startPoint=this.state.points[r].startPoint}else this.state.startPoint=this.state.dragXY;this.state.dragPoints=!1,this.state.endPoint=null}else if(this.isOnCanvas)this.renderSelectBox(this.state.dragXY);else if(this.state.isSegment){this.changeMode("segment-move");var o=rtt(n.attrs("data-index","data-segment-point"),2),i=(r=o[0],o[1]);this.pathGenerator.setCachePoint(+r,i),this.pathGenerator.selectKeyIndex(i,r)}}},{key:"hideSelectBox",value:function(){this.refs.$segmentBox.css({left:_.px(-1e5)})}},{key:"renderSelectBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r={left:_.px(t.x+(e<0?e:0)),top:_.px(t.y+(n<0?n:0)),width:_.px(Math.abs(e)),height:_.px(Math.abs(n))};this.refs.$segmentBox.css(r)}},{key:"getSelectBox",value:function(){var t=rtt(this.refs.$segmentBox.styles("left","top","width","height").map((function(t){return _.parse(t)})),4),e={x:t[0],y:t[1],width:t[2],height:t[3]};return e.x2=_.px(e.x.value+e.width.value),e.y2=_.px(e.y.value+e.height.value),e}},{key:"move",value:function(t,e){if(this.state.isOnCanvas)this.renderSelectBox(this.state.dragXY,t,e);else if(this.isMode("segment-move")){var n=this.$config.get("bodyEvent");this.pathGenerator.move(t,e,n),this.renderPath(),this.updatePathLayer()}else if(this.isMode("path")){n=this.$config.get("bodyEvent");this.state.dragPoints=!n.altKey}}},{key:"renderSegment",value:function(t){this.pathGenerator.selectedLength&&(this.pathGenerator.reselect(),ae(t)&&t(),this.renderPath(),this.updatePathLayer())}},{key:ed("deleteSegment"),value:function(){var t=this;this.renderSegment((function(){t.pathGenerator.removeSelectedSegment()}))}},{key:ed("moveSegment"),value:function(t,e){var n=this;this.renderSegment((function(){n.pathGenerator.moveSelectedSegment(t,e)}))}},{key:ed("initPathEditorView"),value:function(){this.pathParser.reset(""),this.setState(this.initState(),!1),this.state.isShow=!0,this.refs.$view.empty(),this.$el.focus()}},{key:"end",value:function(t,e){this.state.isOnCanvas?0===t&&0===e?(this.changeMode("modify"),this.trigger("hidePathEditor")):(this.changeMode("segment-move"),this.pathGenerator.selectInBox(this.getSelectBox()),this.renderPath(),this.hideSelectBox()):this.isMode("modify")||(this.isMode("segment-move")?this.changeMode("modify"):this.isMode("path")&&(this.state.isFirstSegment?(this.changeMode("modify"),this.pathGenerator.setConnectedPoint(t,e),this.renderPath(),this.state.current?this.refreshPathLayer():(this.addPathLayer(),this.trigger("initPathEditorView"))):(this.pathGenerator.moveEnd(t,e),this.state.clickCount++,this.renderPath())))}},{key:"scale",get:function(){return this.$editor.scale}},{key:"totalPathLength",get:function(){if(!this.refs.$view)return 0;var t=this.refs.$view.$("path.object");return t?t.totalLength:0}},{key:"isBoxMode",get:function(){return"box"===this.state.box}}]),e}(function(t){function e(){return Z7(this,e),Q7(this,ttt(e).apply(this,arguments))}return ett(e,t),J7(e,[{key:ed("changePathTransform"),value:function(t){this.resetTransformZone();var e=this.state.transformZoneRect,n=e.width,r=e.height;switch(this.pathGenerator.initTransform(this.state.transformZoneRect),t){case"flipX":this.pathGenerator.transform("flipX",n,0);break;case"flipY":this.pathGenerator.transform("flipY",0,r);break;case"flip":this.pathGenerator.transform("flip",n,r)}this.renderPath(),this.refreshPathLayer()}},{key:kr("$tool .transform-tool-item")+Lr("moveTransformTool")+Mr("moveEndTransformTool"),value:function(t){this.transformMoveType=t.$dt.attr("data-position"),this.resetTransformZone(),this.pathGenerator.initTransform(this.state.transformZoneRect),this.startXY=t.xy}},{key:"moveTransformTool",value:function(t,e){this.pathGenerator.transform(this.transformMoveType,t,e),this.renderPath(),this.refreshPathLayer()}},{key:"moveEndTransformTool",value:function(t,e){this.transformMoveType="none",this.renderTransformTool()}}]),e}(function(t){function e(){return Z7(this,e),Q7(this,ttt(e).apply(this,arguments))}return ett(e,t),J7(e,[{key:"calculatePointOnLine",value:function(t,e){var n=new Ro(t);if("C"===n.segments[1].command){var r=[ott(n.segments[0].values),ott(n.segments[1].values.slice(0,2)),ott(n.segments[1].values.slice(2,4)),ott(n.segments[1].values.slice(4,6))],o=xt.apply(void 0,U7(r).concat([200]))(e.x,e.y);return Vt(r,o).first[3]}if("Q"===n.segments[1].command){r=[ott(n.segments[0].values),ott(n.segments[1].values.slice(0,2)),ott(n.segments[1].values.slice(2,4))],o=_t.apply(void 0,U7(r).concat([200]))(e.x,e.y);return At(r,o).first[2]}if("L"===n.segments[1].command){r=[ott(n.segments[0].values),ott(n.segments[1].values.slice(0,2))],o=Et.apply(void 0,U7(r).concat([200]))(e.x,e.y);return It(r,o).first[1]}return e}},{key:rr("$view .split-path"),value:function(t){this.initRect();var e=new Ro(t.$dt.attr("d")),n={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y};if("C"===e.segments[1].command){var r=[ott(e.segments[0].values),ott(e.segments[1].values.slice(0,2)),ott(e.segments[1].values.slice(2,4)),ott(e.segments[1].values.slice(4,6))],o=xt.apply(void 0,U7(r).concat([200]))(n.x,n.y);this.changeMode("modify"),this.pathGenerator.setPoint(Vt(r,o))}else if("Q"===e.segments[1].command){r=[ott(e.segments[0].values),ott(e.segments[1].values.slice(0,2)),ott(e.segments[1].values.slice(2,4))],o=_t.apply(void 0,U7(r).concat([200]))(n.x,n.y);this.changeMode("modify"),this.pathGenerator.setPointQuard(At(r,o))}else if("L"===e.segments[1].command){r=[ott(e.segments[0].values),ott(e.segments[1].values.slice(0,2))],o=Et.apply(void 0,U7(r).concat([200]))(n.x,n.y);this.changeMode("modify"),this.pathGenerator.setPointLine(It(r,o))}this.renderPath(),this.refreshPathLayer()}}]),e}(function(t){function e(){return Z7(this,e),Q7(this,ttt(e).apply(this,arguments))}return ett(e,t),J7(e,[{key:or("$view [data-segment]"),value:function(t){var e=+t.$dt.attr("data-index");this.pathGenerator.convertToCurve(e),this.renderPath(),this.refreshPathLayer()}}]),e}(nd))));function ctt(t){return(ctt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function utt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function stt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?utt(Object(n),!0).forEach((function(e){ltt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):utt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ltt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ftt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ptt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ytt(t,e){return!e||"object"!==ctt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function htt(t,e,n){return(htt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dtt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function dtt(t){return(dtt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vtt(t,e){return(vtt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var btt=["fill","fill-opacity","stroke","stroke-width","stroke-linecap","stroke-linejoin"],mtt=function(t){function e(){return ftt(this,e),ytt(this,dtt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vtt(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){htt(dtt(e.prototype),"initialize",this).call(this),this.pathParser=new Ro}},{key:"initState",value:function(){return{points:[],$target:null,fill:"transparent",stroke:"black","fill-opacity":null,"stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",tolerance:1,screenX:_.z(),screenY:_.z(),screenWidth:_.z(),screenHeight:_.z()}}},{key:ed("changeDrawManager"),value:function(t){this.setState(stt({},t),!1)}},{key:"template",value:function(){return"\n        <div class='path-draw-view' tabIndex=\"-1\">\n            <div class='path-draw-container' ref='$view'></div>\n        </div>"}},{key:"initRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.rect&&!t||(this.state.rect=this.parent.refs.$body.rect())}},{key:cr("document")+$r("isShow")+Rr+Tr+zr+Br,value:function(){this.trigger("hidePathDrawEditor")}},{key:"makePathLayer",value:function(t){var e,n=this,r=this.$selection.currentArtboard;if(r){var o=t.x/this.scale,i=t.y/this.scale,a=t.width/this.scale,c=t.height/this.scale,u=So.simply(this.state.points,this.state.tolerance),s=new Ro(Bo.makePathByPoints(u)),l=G7.generatorPathString(s.convertGenerator(),t.x,t.y,this.scale);e=r.add(new hC({width:_.px(a),height:_.px(c),d:l,totalLength:this.totalPathLength})),btt.forEach((function(t){n.state[t]&&e.reset(ltt({},t,n.state[t]))})),e.setScreenX(o),e.setScreenY(i)}return e}},{key:"addPathLayer",value:function(){var t=this.getPathRect();0!==t.width&&0!==t.height&&this.makePathLayer(t)&&this.emit("refreshAll")}},{key:"changeMode",value:function(t){this.setState(stt({},this.initState(),{},t),!1)}},{key:"getCurrentObject",value:function(){var t=this.state.current;return t?{current:t,d:t.d,screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight}:null}},{key:ed("showPathDrawEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.changeMode(t),this.$el.show(),this.$el.focus(),this.emit("showDrawManager",{instance:this,fill:this.state.fill,stroke:this.state.stroke,"fill-opacity":this.state["fill-opacity"],"stroke-width":this.state["stroke-width"],"stroke-linecap":this.state["stroke-linecap"],"stroke-linejoin":this.state["stroke-linejoin"]}),this.emit("hidePathEditor"),this.emit("change.mode.view","PathDrawView")}},{key:ed("initPathDrawEditor"),value:function(){this.pathParser.reset(""),this.refs.$view.empty()}},{key:ed("hidePathDrawEditor"),value:function(){this.$el.isShow()&&(this.trigger("initPathDrawEditor"),this.$el.hide(),this.emit("finishPathEdit"),this.emit("hideDrawManager"),this.emit("change.mode.view"))}},{key:ed("hideAddViewLayer"),value:function(){this.$el.hide(),this.emit("hideDrawManager")}},{key:"getInnerId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"draw-manager-"+t}},{key:Xr("$view"),value:function(){return{innerHTML:'\n            <svg width="100%" height="100%" class=\'svg-editor-canvas\'>\n                '.concat(this.toDefString,"\n                <path class='object' \n                    ").concat(be({fill:this.toFillValue,stroke:this.toStrokeValue,"fill-opacity":this.state["fill-opacity"],"stroke-width":this.state["stroke-width"],"stroke-linecap":this.state["stroke-linecap"],"stroke-linejoin":this.state["stroke-linejoin"]}),'\n                    d="').concat(Bo.makePathByPoints(this.state.points),'" />\n            </svg>\n            ')}}},{key:"renderPath",value:function(){this.bindData("$view")}},{key:ed("resizeEditor"),value:function(){this.initRect(!0)}},{key:"getPathRect",value:function(){this.initRect(!0);var t=this.refs.$view.$("path.object"),e={x:_.z(),y:_.z(),width:_.z(),height:_.z()};return t&&((e=t.rect()).x-=this.state.rect.x,e.y-=this.state.rect.y),e}},{key:kr("$view")+Lr()+Mr(),value:function(t){this.initRect(),this.state.altKey=!1,this.state.startXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.points=[this.state.startXY]}},{key:"move",value:function(t,e,n,r){this.state.points.push({x:this.state.startXY.x+t,y:this.state.startXY.y+e,pressure:r}),this.renderPath()}},{key:"end",value:function(t,e){this.addPathLayer(),this.trigger("initPathDrawEditor")}},{key:"scale",get:function(){return this.$editor.scale}},{key:"totalPathLength",get:function(){if(!this.refs.$view)return 0;var t=this.refs.$view.$("path.object");return t?t.totalLength:0}},{key:"toFillSVG",get:function(){return Tf.parseImage(this.state.fill||"transparent").toSVGString(this.fillId)}},{key:"toStrokeSVG",get:function(){return Tf.parseImage(this.state.stroke||"black").toSVGString(this.strokeId)}},{key:"toDefInnerString",get:function(){return"\n            ".concat(this.toFillSVG,"\n            ").concat(this.toStrokeSVG,"\n        ")}},{key:"toDefString",get:function(){var t=this.toDefInnerString.trim();return("\n            <defs>\n            ".concat(t,"\n            </defs>\n        "))}},{key:"fillId",get:function(){return this.getInnerId("fill")}},{key:"strokeId",get:function(){return this.getInnerId("stroke")}},{key:"toFillValue",get:function(){return Tf.parseImage(this.state.fill||"transparent").toFillValue(this.fillId)}},{key:"toStrokeValue",get:function(){return Tf.parseImage(this.state.stroke||"black").toFillValue(this.strokeId)}}])&&ptt(n.prototype,r),o&&ptt(n,o),e}(nd);function gtt(t){return(gtt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ott(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ktt(t,e){return!e||"object"!==gtt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jtt(t){return(jtt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Stt(t,e){return(Stt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ptt=function(t){function e(){return wtt(this,e),ktt(this,jtt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Stt(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n        <div class='layer-add-view'>\n            <div class='area' ref='$area'></div>\n            <div class='area-rect' ref='$areaRect'></div>\n        </div>\n        "}},{key:"initState",value:function(){return{dragXY:{x:-1e4,y:0},x:0,y:0,width:0,height:0,color:Dn.random(),fontSize:30,showRectInfo:!1,content:"Insert a text"}}},{key:kr("$el")+Lr()+Mr(),value:function(t){var e=t.xy,n=e.x,r=e.y,o=this.$el.rect();this.state.dragXY={x:Math.floor(n-o.x),y:Math.floor(r-o.y)},this.state.color=Dn.random(),this.state.text="Insert a text",this.state.x=this.state.dragXY.x,this.state.y=this.state.dragXY.y,this.state.width=0,this.state.height=0,this.bindData("$area"),this.bindData("$areaRect")}},{key:"createLayerTemplate",value:function(){var t=this.state,e=t.type,n=t.text,r=t.color,o=t.width,i=t.height;switch(e){case"rect":return"<div class='draw-item' style='background-color: ".concat(r,"'></div>");case"circle":return"<div class='draw-item' style='background-color: ".concat(r,"; border-radius: 100%;'></div>");case"video":case"audio":case"image":case"cube":case"cylinder":return"<div class='draw-item' style='outline: 1px solid blue;'></div>";case"text":case"svg-text":return"<div class='draw-item' style='font-size: 30px;outline: 1px solid blue;'>".concat(n,"</div>");case"svg-rect":return"\n            <div class='draw-item'>\n                <svg width=\"".concat(o,'" height="').concat(i,'" style="width:100%; height:100%;" overflow="visible">\n                    <path d="').concat(Bo.makeRect(0,0,o,i),'" stroke-width="5" stroke="black" fill="transparent" />\n                </svg>\n            </div>\n            ');case"svg-circle":return"\n            <div class='draw-item'>\n                <svg width=\"".concat(o,'" height="').concat(i,'" style="width:100%; height:100%;" overflow="visible">\n                    <path d="').concat(Bo.makeCircle(0,0,o,i),'" stroke-width="5" stroke="black" fill="transparent" />\n                </svg>\n            </div>\n            ');case"svg-textpath":return"\n            <div class='draw-item' style='outline: 1px solid blue;'>\n                <svg width=\"".concat(o,'" height="').concat(i,'" style="width:100%; height:100%;font-size: ').concat(i,'px;" overflow="visible">\n                    <defs>\n                        <path id=\'layer-add-path\' d="').concat(Bo.makeLine(0,i,o,i),'" />\n                    </defs>\n                    <text>\n                        <textPath ').concat(be({"xlink:href":"#layer-add-path",textLength:_.percent(100),lengthAdjust:"spacingAndGlyphs",startOffset:_.em(0)})," >").concat(n,"</textPath>\n                    </text>\n                </svg>\n            </div>\n            ")}}},{key:Xr("$area"),value:function(){return{style:{left:_.px(this.state.x),top:_.px(this.state.y),width:_.px(this.state.width),height:_.px(this.state.height)},innerHTML:this.createLayerTemplate()}}},{key:Xr("$areaRect"),value:function(){var t=this.state,e=t.x,n=t.y,r=t.width,o=t.height;return{style:{display:t.showRectInfo?"inline-block":"none",left:_.px(e+r),top:_.px(n+o)},innerHTML:"".concat(r," x ").concat(o)}}},{key:"move",value:function(t,e){this.$config.get("bodyEvent").shiftKey&&(e=t);var n={left:_.px(this.state.dragXY.x+(t<0?t:0)),top:_.px(this.state.dragXY.y+(e<0?e:0)),width:_.px(Math.abs(t)).floor(),height:_.px(Math.abs(e)).floor()};this.state.x=n.left.value,this.state.y=n.top.value,this.state.width=n.width.value,this.state.height=n.height.value,this.state.showRectInfo=!0,this.bindData("$area"),this.bindData("$areaRect")}},{key:"end",value:function(t,e){var n=this.$config.get("bodyEvent").altKey,r=this.state,o=r.x,i=r.y,a=r.width,c=r.height,u=r.color,s=r.text,l=r.fontSize,f={x:o=_.px(o).div(this.scale).floor(),y:i=_.px(i).div(this.scale).floor(),width:a=_.px(a).div(this.scale).floor(),height:c=_.px(c).div(this.scale).floor(),x2:_.px(o.value+a.value),y2:_.px(i.value+c.value),"background-color":u,content:s,"font-size":l};switch(this.state.type){case"text":case"svg-text":case"svg-textpath":0===f.width.value&&f.width.set(200),0===f.height.value&&f.height.set(50),f.x2=_.px(f.x.value+f.width.value),f.y2=_.px(f.y.value+f.height.value),delete f["background-color"];break;default:delete f.content}switch(this.state.type){case"image":this.emit("openImage",f);break;case"video":this.emit("openVideo",f);break;case"audio":this.emit("openAudio",f);break;default:this.emit("newComponent",this.state.type,f,!1)}n||this.trigger("hideLayerAppendView"),this.state.showRectInfo=!1,this.bindData("$areaRect")}},{key:ed("showLayerAppendView"),value:function(t){this.state.type=t,this.state.isShow=!0,this.refs.$area.empty(),this.$el.show(),this.$el.focus(),this.emit("change.mode.view","CanvasView")}},{key:ed("hideLayerAppendView"),value:function(){this.$el.isShow()&&(this.state.isShow=!1,this.$el.hide(),this.emit("change.mode.view"))}},{key:ed("hideAddViewLayer"),value:function(){this.state.isShow=!1,this.$el.hide()}},{key:"isShow",value:function(){return this.state.isShow}},{key:cr("document")+$r("isShow")+Rr+Tr+zr+Br,value:function(){this.trigger("hideLayerAppendView")}},{key:"scale",get:function(){return this.$editor.scale}}])&&Ott(n.prototype,r),o&&Ott(n,o),e}(nd);function xtt(t){return(xtt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ett(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_tt(Object(n),!0).forEach((function(e){$tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_tt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ctt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ttt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rtt(t,e){return!e||"object"!==xtt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dtt(t){return(Dtt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vtt(t,e){return(Vtt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Att=function(t){function e(){return Ctt(this,e),Rtt(this,Dtt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vtt(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"<div class='grid-layout-line-view' style='width:100%;height:100%;pointer-events:none;'></div>"}},{key:Fr("$el"),value:function(){if(1!==this.$selection.length)return"<div></div>";var t=this.$selection.current;if(t.isInGrid()){var e=t.parent,n=e.screenX,r=e.screenY,o=e.width,i=e.height,a=e.toGridLayoutCSS();return"<div style='".concat(de(Ett({position:"absolute",left:n,top:r,width:o,height:i,border:"1px solid black"},a)),"'>\n                ").concat(e.layers.map((function(t){var e=t.toLayoutItemCSS();return("<div style='".concat(de(Ett({},e,{border:"1px solid dashed"})),"'></div>"))})).join(""),"\n            </div>")}return("<div></div>")}},{key:ed("refreshGridLayoutLine","refreshSelectionTool","refreshSelection"),value:function(){this.refresh()}}])&&Ttt(n.prototype,r),o&&Ttt(n,o),e}(nd);function Itt(t){return(Itt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ltt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Mtt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ztt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Btt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ftt(t,e){return!e||"object"!==Itt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Htt(t){return(Htt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gtt(t,e){return(Gtt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ytt=function(t){function e(){return ztt(this,e),Ftt(this,Htt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gtt(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{StyleView:H9,SelectionToolView:y7,GuideLineView:P7,PathEditorView:att,PathDrawView:mtt,LayerAppendView:Ptt,GridLayoutLineView:Att}}},{key:"initState",value:function(){return{mode:"selection",left:_.z(),top:_.z(),width:_.px(1e4),height:_.px(1e4),cachedCurrentElement:{},html:""}}},{key:"template",value:function(){return"\n            <div class='element-view' ref='$body'>\n                <div class='canvas-view' ref='$view'></div>\n                <div class='drag-area-rect' ref='$dragAreaRect'></div>\n                <div class='pointer-rect' ref='$pointerRect' style='display:none'></div>\n                <StyleView ref='$styleView' />\n                <GuideLineView ref='$guideLineView' />\n                <GridLayoutLineView ref='$gridLayoutLineView' />\n                <SelectionToolView ref='$selectionTool' />\n                <LayerAppendView ref='$objectAddView' />\n                <PathEditorView ref='$pathEditorView' />\n                <PathDrawView ref='$pathDrawView' />\n            </div>\n        "}},{key:"getScrollXY",value:function(){return{width:this.refs.$body.scrollWidth(),height:this.refs.$body.scrollHeight(),left:this.refs.$body.scrollLeft(),top:this.refs.$body.scrollTop()}}},{key:ed("afterChangeMode"),value:function(){this.$el.attr("data-mode",this.$editor.mode)}},{key:ed("refElement"),value:function(t,e){ae(e)&&e(this.getElement(t))}},{key:"getElement",value:function(t){return this.state.cachedCurrentElement[t]||(this.state.cachedCurrentElement[t]=this.refs.$view.$('[data-id="'.concat(t,'"]'))),this.state.cachedCurrentElement[t]}},{key:"checkEmptyElement",value:function(t){var e=Wn.create(t.target);return"selection"===this.state.mode&&!1===e.hasClass("element-item")&&!1===e.hasClass("selection-tool-item")&&!1===e.hasClass("point")&&!1===e.hasClass("handle")&&!1===e.hasClass("perspective-handle")&&!1===e.hasClass("transform-tool-item")&&!1===e.hasClass("transform-tool")&&!1===e.isTag("svg")&&!1===e.isTag("path")&&!1===e.isTag("textPath")&&!1===e.isTag("polygon")&&!1===e.isTag("text")&&!1===e.isTag("img")&&"true"!==e.attr("data-segment")}},{key:kr("$view")+$r("checkEmptyElement")+Lr("movePointer")+Mr("moveEndPointer"),value:function(t){if(this.$target=Wn.create(t.target),this.dragXY={x:t.xy.x,y:t.xy.y},this.rect=this.refs.$body.rect(),this.canvasOffset=this.refs.$view.rect(),this.canvasPosition={x:this.canvasOffset.left-this.rect.x,y:this.canvasOffset.top-this.rect.y},this.dragXY.x-=this.rect.x,this.dragXY.y-=this.rect.y,this.$editor.isSelectionMode()){var e={left:_.px(this.dragXY.x),top:_.px(this.dragXY.y),width:_.z(),height:_.z()};this.refs.$dragAreaRect.css(e),this.state.cachedCurrentElement={},this.$el.$$(".selected").forEach((function(t){return t.removeClass("selected")}))}}},{key:"movePointer",value:function(t,e){var n=this;this.$config.get("bodyEvent").shiftKey&&(e=t);var r={left:_.px(this.dragXY.x+(t<0?t:0)),top:_.px(this.dragXY.y+(e<0?e:0)),width:_.px(Math.abs(t)),height:_.px(Math.abs(e))};if(this.refs.$dragAreaRect.css(r),this.$editor.isSelectionMode()){var o=r.left,i=r.top,a=r.width,c=r.height,u={x:_.px(o.value-this.canvasPosition.x),y:_.px(i.value-this.canvasPosition.y),width:a,height:c};u.x2=_.px(u.x.value+u.width.value),u.y2=_.px(u.y.value+u.height.value);var s=this.$selection.currentArtboard;if(s){var l;Object.keys(u).forEach((function(t){u[t].div(n.$editor.scale)}));var f=s.checkInAreaForLayers(u);0===u.width.value&&0===u.height.value&&(f=[]),(l=this.$selection).select.apply(l,Mtt(f))&&this.selectCurrentForBackgroundView.apply(this,Mtt(f))}}}},{key:"moveEndPointer",value:function(t,e){var n=this,r=Ltt(this.refs.$dragAreaRect.styles("left","top","width","height").map((function(t){return _.parse(t)})),4),o=r[0],i=r[1],a=r[2],c=r[3],u={x:_.px(o.value-this.canvasPosition.x),y:_.px(i.value-this.canvasPosition.y),width:a,height:c};if(u.x2=_.px(u.x.value+u.width.value),u.y2=_.px(u.y.value+u.height.value),this.refs.$dragAreaRect.css({left:_.px(-1e4),top:_.z(),width:_.z(),height:_.z()}),this.$editor.isSelectionMode()){var s,l=this.$selection.currentArtboard,f=[];l?(Object.keys(u).forEach((function(t){u[t].div(n.$editor.scale)})),f=l.checkInAreaForLayers(u),0===u.width.value&&0===u.height.value&&(f=[l]),0===f.length&&l.checkInArea(u)&&(f=[l]),(s=this.$selection).select.apply(s,Mtt(f))&&this.selectCurrentForBackgroundView.apply(this,Mtt(f)),f.length||this.$selection.select()):this.$selection.select(),this.emit("history.refreshSelection")}this.sendHelpMessage(),this.emit("removeGuideLine")}},{key:"sendHelpMessage",value:function(){1===this.$selection.length&&this.$selection.current.is("svg-path","svg-brush","svg-polygon","svg-textpath")&&this.emit("addStatusBarMessage","Please click if you want to edit to path ")}},{key:vr("$view .element-item.text"),value:function(t){t.$dt.css("height","auto")}},{key:mr("$view .element-item.text"),value:function(t){t.$dt.css("height",void 0)}},{key:cr("$view .element-item.text"),value:function(t){var e=t.$dt.html(),n=t.$dt.text().trim(),r=t.$dt.attr("data-id"),o=t.$dt.rect(),i=[];this.$selection.items.filter((function(t){return t.id===r})).forEach((function(t){t.reset({content:e,text:n,height:_.px(o.height)}),i.push({id:t.id,content:e,text:n})})),this.emit("refreshContent",i),this.children.$selectionTool.initMoveType(),this.emit("refreshSelectionTool")}},{key:"checkEditMode",value:function(){return this.$editor.isSelectionMode()}},{key:"getPointer",value:function(t,e){return"<div class='pointer' data-number=\"".concat(e,'" style="transform: translate3d( calc(').concat(t.x,"px - 10px), calc(").concat(t.y,'px - 10px), 0px)" ></div>')}},{key:"getPointerRect",value:function(t){var e=t.a,n=e.x,r=e.y;return'\n        <svg overflow="visible" style=\'position: absolute; transform: translate3d('.concat(n,"px, ").concat(r,'px, 0px)\'>\n            <path fill="transparent" stroke="black" stroke-width="3" d="M ').concat(t.a.x-n,", ").concat(t.a.y-r," L ").concat(t.b.x-n,", ").concat(t.b.y-r," L ").concat(t.c.x-n,", ").concat(t.c.y-r," L ").concat(t.d.x-n,", ").concat(t.d.y-r,' Z" />\n        </svg>')}},{key:"getRenderPointers",value:function(t){return console.log(t.center),[this.getPointer(t.a,1),this.getPointer(t.b,2),this.getPointer(t.c,3),this.getPointer(t.d,4),this.getPointer(t.center,5)].join("")+this.getPointerRect(t)}},{key:kr("$view .element-item")+$r("checkEditMode")+Lr("calculateMovedElement")+Mr("calculateEndedElement"),value:function(t){if(this.startXY=t.xy,this.$element=t.$dt,this.$element.hasClass("text")&&this.$element.hasClass("selected"))return!1;var e=this.$element.attr("data-id");this.hasSVG=!1,t.shiftKey?this.$selection.toggleById(e):this.$selection.check({id:e})?this.$selection.current.is("svg-path","svg-brush","svg-textpath","svg-polygon")&&(this.hasSVG=!0):this.$selection.selectById(e),this.selectCurrent.apply(this,Mtt(this.$selection.items)),this.children.$selectionTool.initMoveType(),this.emit("history.refreshSelection")}},{key:"renderPointers",value:function(){var t=this,e=this.refs.$view.findAll(".element-item").map((function(e){return t.getRenderPointers(D(e,t.refs.$view.el))})).join("");this.refs.$pointerRect.updateDiff(e)}},{key:"calculateMovedElement",value:function(t,e){this.children.$selectionTool.refreshSelectionToolView(t,e,"move"),this.updateRealPosition()}},{key:"updateRealPositionByItem",value:function(t){var e=t.toBound(),n=e.x,r=e.y,o=e.width,i=e.height,a=this.getElement(t.id);a&&a.cssText("\n                left: ".concat(n,";\n                top:").concat(r,";\n                width:").concat(o,";\n                height:").concat(i,"; \n                transform: ").concat(FN.toTransformCSS(t).transform,";\n            "))}},{key:"updateRealPosition",value:function(){var t=this;this.$selection.each((function(e){t.updateRealPositionByItem(e)})),this.emit("refreshRect")}},{key:ed("refreshArtBoardName"),value:function(t,e){this.$el.$("[data-id='".concat(t,"']")).attr("data-title",e)}},{key:"calculateEndedElement",value:function(t,e){var n=this;if(0===t&&0===e){if(this.hasSVG)return void this.emit("openPathEditor")}else this.emit("removeGuideLine"),this.nextTick((function(){n.command("setAttributeForMulti","move item",n.$selection.cloneValue("x","y","width","height"))}))}},{key:Xr("$body"),value:function(){var t=this.$editor,e=t.canvasWidth,n=t.canvasHeight;return{"data-mode":t.mode,style:{position:"relative",width:_.px(e),height:_.px(n)}}}},{key:"selectCurrent",value:function(){var t=this;this.state.cachedCurrentElement={};var e=this.$el.$$(".selected");e&&e.forEach((function(t){return t.removeClass("selected")}));for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(r.length){var i=r.map((function(t){return"[data-id='".concat(t.id,"']")})).join(","),a=this.$el.$$(i);a.forEach((function(e){t.state.cachedCurrentElement[e.attr("data-id")]=e,e.addClass("selected")}))}else this.$selection.select(this.$selection.currentArtboard);this.emit("refreshSelectionTool")}},{key:"selectCurrentForBackgroundView",value:function(){var t=this;this.state.cachedCurrentElement={};var e=this.$el.$$(".selected");e&&e.forEach((function(t){return t.removeClass("selected")}));for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(r.length){var i=r.map((function(t){return"[data-id='".concat(t.id,"']")})).join(","),a=this.$el.$$(i);a.forEach((function(e){t.state.cachedCurrentElement[e.attr("data-id")]=e,e.addClass("selected")}))}this.emit("refreshSelection"),this.emit("refreshSelectionTool")}},{key:"modifyScale",value:function(){this.refs.$view.css({transform:"scale(".concat(this.$editor.scale,")")}),this.emit("makeSelectionTool",!0)}},{key:ed("changeScale"),value:function(){this.modifyScale()}},{key:ed("refreshCanvasForPartial","refreshSelectionStyleView"),value:function(t){var e=this;(t?[t]:this.$selection.items).forEach((function(t){e.updateElement(t)}))}},{key:"updateElement",value:function(t){t&&(FN.update(t,this.getElement(t.id)),this.updateRealPositionByItem(t))}},{key:"updateTimelineElement",value:function(t){t&&(FN.update(t,this.getElement(t.id)),this.updateRealPositionByItem(t))}},{key:ed("playTimeline","moveTimeline"),value:function(){var t=this,e=this.$selection.currentProject;e.getSelectedTimeline().animations.map((function(t){return e.searchById(t.id)})).forEach((function(e){t.updateTimelineElement(e,!0,!1)}))}},{key:ed("refreshAllCanvas"),value:function(){var t=this.$selection.currentArtboard,e=FN.render(t)||"";this.setState({html:e},!1),this.refs.$view.updateDiff(e)}},{key:ed("refreshAllElementBoundSize"),value:function(){var t=this,e=this.$selection.items.map((function(t){return t.is("artboard")?t:t.parent}));Mtt(new Set(e)).forEach((function(e){t.trigger("refreshElementBoundSize",e)}))}},{key:ed("refreshElementBoundSize"),value:function(t){var e=this;t&&t.layers.forEach((function(t){if(t.isLayoutItem()){var n=e.getElement(t.id);if(n){var r=n.offsetRect(),o=r.x,i=r.y,a=r.width,c=r.height;t.reset({x:_.px(o),y:_.px(i),width:_.px(a),height:_.px(c)}),e.trigger("refreshSelectionStyleView",t,!0)}}e.trigger("refreshElementBoundSize",t)}))}},{key:lr("view")+zr,value:function(){}},{key:sr("$view")+zr,value:function(t){var e=Wn.create(t.target).attr("data-id");if(e)this.$selection.length?this.emit("drop.asset",{gradient:t.dataTransfer.getData("text/gradient"),color:t.dataTransfer.getData("text/color"),imageUrl:t.dataTransfer.getData("image/info")}):this.emit("drop.asset",{gradient:t.dataTransfer.getData("text/gradient"),color:t.dataTransfer.getData("text/color"),imageUrl:t.dataTransfer.getData("image/info")},e);else{var n=t.dataTransfer.getData("image/info");this.emit("dropImageUrl",n)}}}])&&Btt(n.prototype,r),o&&Btt(n,o),e}(nd);function Xtt(t){return(Xtt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ntt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ktt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wtt(t,e){return!e||"object"!==Xtt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Utt(t){return(Utt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ztt(t,e){return(Ztt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qtt=function(t){function e(){return Ntt(this,e),Wtt(this,Utt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ztt(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{NumberInputEditor:HD}}},{key:"template",value:function(){return"     \n      <div class='page-tools'>\n        <button type='button' ref='$minus'>".concat(Ag.remove2,"</button>\n        <div class='select'>\n          <NumberInputEditor ref='$scale' min='10' max='240' step=\"1\" key=\"scale\" value=\"").concat(100*this.$editor.scale,"\" onchange=\"changeRangeEditor\" />\n        </div>\n        <label>%</label>\n        <button type='button' ref='$plus'>").concat(Ag.add,"</button>        \n      </div>\n\n    ")}},{key:ed("changeScaleValue"),value:function(t){t<=0&&(t=.01),t=I(100*t,100),this.children.$scale.setValue(t),this.emit("updateScale",t/100)}},{key:ed("changeRangeEditor")+Ar(1e3),value:function(t,e){this.trigger("changeScaleValue",Math.floor(e/100))}},{key:rr("$plus")+zr+Br,value:function(){this.trigger("changeScaleValue",this.$editor.scale+.25)}},{key:rr("$minus")+zr+Br,value:function(){this.trigger("changeScaleValue",this.$editor.scale-.25)}}])&&Ktt(n.prototype,r),o&&Ktt(n,o),e}(nd);function Jtt(t){return(Jtt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qtt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function net(t,e){return!e||"object"!==Jtt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ret(t){return(ret=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oet(t,e){return(oet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var iet={"segment-move":"modify",modify:"modify",path:"path",transform:"transform"},aet=function(t){function e(){return tet(this,e),net(this,ret(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oet(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{mode:"move",fill:null,stroke:null,"fill-opacity":null,"stroke-width":null,msg:this.$i18n("path.manager.msg")}}},{key:"components",value:function(){return NB}},{key:ed("refreshSelection"),value:function(){var t=this.$selection.current;t&&(this.children.$fill.setValue(t.fill||"rgba(0, 0, 0, 0)"),this.children.$stroke.setValue(t.stroke||"rgba(0, 0, 0, 1)"),this.children.$fillOpacity.setValue(t["fill-opacity"]||_.number(1)),this.children.$strokeWidth.setValue(t["stroke-width"]||_.number(1)))}},{key:"template",value:function(){return this.$selection.current,"\n      <div class='path-manager'>\n        <div class='tools' ref='$mode' data-selected-value='".concat(this.state.mode,"'>\n            <button type=\"button\" data-value='modify' title='").concat(this.$i18n("path.manager.mode.modify"),"' > ").concat(Ag.device_hub,"</button>\n            <button type=\"button\" data-value='path' title='").concat(this.$i18n("path.manager.mode.path"),"' > ").concat(Ag.control_point,"</button>\n            <button type=\"button\" data-value='transform' title='").concat(this.$i18n("path.manager.mode.transform"),"' > ").concat(Ag.format_shapes,"</button>\n        </div>\n        <div class='tools' ref='$flip'>\n            <button type=\"button\" data-value='flipX' title='").concat(this.$i18n("path.manager.mode.flipX"),"'>").concat(Ag.flip,"</button>\n            <button type=\"button\" data-value='flipY' title='").concat(this.$i18n("path.manager.mode.flipY"),"'>").concat(Ag.flip,"</button>\n            <button type=\"button\" data-value='flip' title='").concat(this.$i18n("path.manager.mode.flipOrigin"),"'>").concat(Ag.flip,"</button>\n        </div>\n        <div class='tools'>      \n          <div >\n            <FillSingleEditor ref='$fill' simple=\"true\" label='").concat(this.$i18n("svg.item.property.fill"),"' key='fill' onchange=\"changeValue\" />\n          </div>\n\n\n          <div >\n            <FillSingleEditor ref='$stroke' simple=\"true\"  label='").concat(this.$i18n("svg.item.property.stroke"),"' key='stroke' onchange=\"changeValue\" />\n          </div>      \n\n          <div >\n            <NumberInputEditor \n              ref='$fillOpacity' \n              label='").concat(this.$i18n("svg.item.property.fillOpacity"),'\' \n              key=\'fill-opacity\' \n              value="1" \n              min="0"\n              max="1"\n              step="0.01"\n              calc="false"\n              unit="number" \n              onchange="changeValue" \n              />\n          </div>   \n\n          <div >\n            <NumberInputEditor \n              ref=\'$strokeWidth\' \n              label=\'').concat(this.$i18n("svg.item.property.strokeWidth"),'\' \n              key="stroke-width" \n              onchange="changeValue" />\n          </div>\n        </div>\n      </div>    \n    ')}},{key:ed("setColorAsset"),value:function(t){var e=t.color;this.$el.isShow()&&(this.setState({stroke:e},!1),this.children.$stroke.setValue(e),this.updateData({stroke:e}),this.command("setAttribute","change color assets",{stroke:e},null,!0))}},{key:ed("changeValue"),value:function(t,e,n){this.command("setAttribute","change path",Qtt({},t,e),null,!0),this.updateData(Qtt({},t,e))}},{key:Xr("$mode"),value:function(){return{"data-selected-value":iet[this.state.mode]}}},{key:"refresh",value:function(){this.bindData("$mode")}},{key:rr("$flip button"),value:function(t){var e=t.$dt.attr("data-value");this.emit("changePathTransform",e)}},{key:rr("$mode button"),value:function(t){var e=t.$dt.attr("data-value");this.updateData({mode:e}),this.refresh()}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.emit(this.state.changeEvent,t)}},{key:ed("changePathManager"),value:function(t){this.setState({mode:t})}},{key:ed("showPathManager"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.changeEvent=t.changeEvent||"changePathManager",this.setState(t),this.$el.show(),this.emit("addStatusBarMessage",this.state.msg),this.emit("change.mode.view","PathEditorView")}},{key:ed("hidePathManager"),value:function(){this.$el.hide()}}])&&eet(n.prototype,r),o&&eet(n,o),e}(nd);function cet(t){return(cet="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uet(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function set(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yet(t,e){return!e||"object"!==cet(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function het(t){return(het=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function det(t,e){return(det=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vet=function(t){function e(){return fet(this,e),yet(this,het(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&det(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{tolerance:1,stroke:"black","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",msg:this.$i18n("path.manager.msg")}}},{key:"components",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uet(Object(n),!0).forEach((function(e){set(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uet(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},NB)}},{key:ed("refreshSelection"),value:function(){var t=this.$selection.current;t&&(this.children.$stroke.setValue(t.stroke||"rgba(0, 0, 0, 1)"),this.children.$strokeWidth.setValue(t["stroke-width"]||_.number(1)))}},{key:ed("setColorAsset"),value:function(t){var e=t.color;this.$el.isShow()&&(this.setState({stroke:e},!1),this.children.$stroke.setValue(e),this.updateData({stroke:e}))}},{key:"template",value:function(){return"\n      <div class='draw-manager'>\n        <div class='tools'>   \n          <div >        \n            <label>".concat(this.$i18n("draw.manager.tolerance"),'</label>            \n            <NumberInputEditor \n              ref=\'$tolerance\' \n              key=\'tolerance\' \n              value="1" \n              min="0"\n              max="100"\n              step="0.01"\n              unit="number" \n              onchange="changeValue" \n            />\n          </div>              \n          <div >\n            <label>').concat(this.$i18n("svg.item.property.stroke"),'</label>          \n            <FillSingleEditor ref=\'$stroke\' simple="true" value="').concat(this.state.stroke,'" key=\'stroke\' onchange="changeValue" />\n          </div>                \n\n          <div >\n            <label>').concat(this.$i18n("svg.item.property.strokeWidth"),'</label>          \n            <NumberInputEditor \n              ref=\'$strokeWidth\' \n              key="stroke-width" \n              value="').concat(this.state["stroke-width"],'"              \n              onchange="changeValue" />\n          </div>      \n          \n\n          <div>\n            <label>').concat(this.$i18n("svg.item.property.lineCap"),'</label>          \n            <SelectEditor\n              ref=\'$strokeLineCap\' \n              key="stroke-linecap" \n              value="').concat(this.state["stroke-linecap"],'"                   \n              options="butt,round,square" \n              onchange="changeValue" \n            />\n          </div> \n          <div>\n            <label>').concat(this.$i18n("svg.item.property.lineJoin"),'</label>          \n            <SelectEditor \n              ref=\'$strokeLineJoin\' \n              key="stroke-linejoin" \n              value="').concat(this.state["stroke-linejoin"],'"                                 \n              options="miter,bevel,round" \n              onchange="changeValue" \n            />\n          </div>\n        </div>\n      </div>    \n    ')}},{key:ed("changeValue"),value:function(t,e,n){this.updateData(set({},t,e))}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.instance.trigger(this.state.changeEvent,t)}},{key:ed("changePathManager"),value:function(t){this.setState({mode:t})}},{key:ed("showDrawManager"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.changeEvent=t.changeEvent||"changeDrawManager",this.setState(t),this.$el.show(),this.emit("addStatusBarMessage",this.state.msg),this.emit("hidePathManager")}},{key:ed("hideDrawManager"),value:function(){this.$el.hide()}}])&&pet(n.prototype,r),o&&pet(n,o),e}(nd);function bet(t){return(bet="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function met(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function get(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wet(t,e){return!e||"object"!==bet(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oet(t){return(Oet=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ket(t,e){return(ket=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jet=function(t){function e(){return met(this,e),wet(this,Oet(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ket(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{PathManager:aet,DrawManager:vet}}},{key:"template",value:function(){return"\n      <div class='page-subeditor'>\n        <PathManager />\n        <DrawManager />\n        <SelectionManager />\n      </div>\n    "}}])&&get(n.prototype,r),o&&get(n,o),e}(nd);function Pet(t){return(Pet="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eet(t,e){return!e||"object"!==Pet(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $et(t){return($et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cet(t,e){return(Cet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tet=function(t){function e(){return xet(this,e),Eet(this,$et(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cet(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{PageTools:qtt,HTMLRenderView:Ytt,PageSubEditor:jet}}},{key:"afterRender",value:function(){this.emit("load.json")}},{key:"template",value:function(){return"\n      <div class='page-container' tabIndex=\"-1\">\n        <div class='page-view'>\n          <div class='page-lock scrollbar' ref='$lock'>\n            <HTMLRenderView ref='$elementView' />\n          </div>\n        </div>\n        \x3c!--<PageSubEditor /> --\x3e\n        <PageTools />\n      </div>\n    "}}])&&_et(n.prototype,r),o&&_et(n,o),e}(nd);function Ret(t){return(Ret="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Det(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Aet(t,e){return!e||"object"!==Ret(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Iet(t){return(Iet=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Let(t,e){return(Let=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Met=function(t){function e(){return Det(this,e),Aet(this,Iet(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Let(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return X1}},{key:"template",value:function(){return"\n      <div class='tool-menu center'>\n        <div class='items'>\n          <div class='draw-items' ref='$items' data-selected-value=\"".concat(this.$editor.layout,"\">\n\n            <SelectTool />\n            <span data-item='css'>\n              <AddRect />\n              <AddCircle />         \n              <AddText />\n              <AddImage />\n              <AddVideo />\n            </span>            \n            <span data-item='svg'>\n              <div class='divider'></div>\n              <AddDrawPath />\n              <AddPath />\n              <AddSVGRect />\n              <AddSVGCircle />            \n              \x3c!-- <AddSVGText /> --\x3e\n              <AddSVGTextPath />\n              <AddPolygon />\n            </span>\n          </div>\n        </div>\n\n      </div>\n    ")}},{key:ed("changedEditorlayout"),value:function(){this.refs.$items.attr("data-selected-value",this.$editor.layout)}},{key:ed("noneSelectMenu"),value:function(){var t=this.refs.$items.$(".selected");t&&t.removeClass("selected")}},{key:rr("$items button"),value:function(t){t.$dt.onlyOneClass("selected")}}])&&Vet(n.prototype,r),o&&Vet(n,o),e}(nd);function zet(t){return(zet="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Het(t,e){return!e||"object"!==zet(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Get(t){return(Get=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yet(t,e){return(Yet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xet=function(t){function e(){return Bet(this,e),Het(this,Get(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yet(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n      <div class='logo'>\n        <div class='text'>EASY</div>\n        <div class='extra-text'>LOGIC</div>\n        <div class='image'></div>\n      </div>    \n    "}}])&&Fet(n.prototype,r),o&&Fet(n,o),e}(nd);function Net(t){return(Net="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ket(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uet(t,e){return!e||"object"!==Net(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zet(t){return(Zet=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qet(t,e){return(qet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jet=function(t){function e(){return Ket(this,e),Uet(this,Zet(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qet(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return X1}},{key:"template",value:function(){return"\n      <div class='external-tool-menu  right'>\n        <div class='items'>\n          <Download />\n          <Save />\n          <Github />\n          <Manual />\n          \x3c!-- LoginButton /--\x3e\n          \x3c!-- SignButton /--\x3e\n        </div>                \n      </div>\n    "}}])&&Wet(n.prototype,r),o&&Wet(n,o),e}(nd);function Qet(t){return(Qet="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ent(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nnt(t,e){return!e||"object"!==Qet(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rnt(t){return(rnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ont(t,e){return(ont=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var int=function(t){function e(){return tnt(this,e),nnt(this,rnt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ont(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n        <div class='add-image-button'>\n            <input type='file' accept='image/*' multiple=\"true\" ref='$file' class='embed-file-input'/>\n            <input type='file' accept='video/*' multiple=\"true\" ref='$video' class='embed-video-input'/>\n        </div>\n        "}},{key:yr("$file"),value:function(t){var e=this;this.refs.$file.files.forEach((function(t){e.emit("updateImage",t,e.state.rect)}))}},{key:yr("$video"),value:function(t){var e=this;this.refs.$video.files.forEach((function(t){e.emit("updateVideo",t,e.state.rect)}))}},{key:ed("openImage"),value:function(t){this.state.rect=t,this.refs.$file.click()}},{key:ed("openVideo"),value:function(t){this.state.rect=t,this.refs.$video.click()}}])&&ent(n.prototype,r),o&&ent(n,o),e}(nd);function ant(t){return(ant="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function unt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function snt(t,e){return!e||"object"!==ant(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lnt(t){return(lnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fnt(t,e){return(fnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pnt=Object.keys(Wr),ynt=function(t){function e(){return cnt(this,e),snt(this,lnt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fnt(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:JT}}},{key:"template",value:function(){var t=this,e=pnt.map((function(e){var n=t.$i18n("app.lang.".concat(e));return"".concat(e,":").concat(n)}));return"\n            <div class='status-selector'>\n                <label>".concat(this.$i18n("app.label.lang"),"</label>\n                <div class='item'>\n                    <SelectEditor \n                        ref='$locale' \n                        options=\"").concat(e.join(","),'" \n                        value="').concat(this.$editor.locale,'" \n                        onchange="changeLocale"\n                    /> \n                </div>\n            </div>\n        ')}},{key:ed("changeLocale"),value:function(t,e){this.emit("setLocale",e)}}])&&unt(n.prototype,r),o&&unt(n,o),e}(nd);function hnt(t){return(hnt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bnt(t,e){return!e||"object"!==hnt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mnt(t){return(mnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gnt(t,e){return(gnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wnt=["dark","light","toon"],Ont=function(t){function e(){return dnt(this,e),bnt(this,mnt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gnt(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:JT}}},{key:"template",value:function(){var t=this,e=wnt.map((function(e){var n=t.$i18n("app.theme.".concat(e));return"".concat(e,":").concat(n)}));return"\n            <div class='status-selector'>\n                <label>".concat(this.$i18n("app.label.theme"),"</label>\n                <div class='item'>\n                    <SelectEditor \n                        ref='$locale' \n                        options=\"").concat(e.join(","),'" \n                        value="').concat(this.$editor.theme,'" \n                        onchange="changeItem"\n                    /> \n                </div>\n            </div>\n        ')}},{key:ed("changeItem"),value:function(t,e){this.emit("switchTheme",e)}}])&&vnt(n.prototype,r),o&&vnt(n,o),e}(nd);function knt(t){return(knt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Snt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pnt(t,e){return!e||"object"!==knt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xnt(t){return(xnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _nt(t,e){return(_nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ent=function(t){function e(){return jnt(this,e),Pnt(this,xnt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_nt(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:JT}}},{key:"template",value:function(){var t=this,e=["all","css","svg"].map((function(e){var n=t.$i18n("app.layout.".concat(e));return"".concat(e,":").concat(n)}));return"\n            <div class='status-selector'>\n                <label>".concat(this.$i18n("app.label.layout"),"</label>\n                <div class='item'>\n                    <SelectEditor \n                        ref='$locale' \n                        options=\"").concat(e,'" \n                        value="').concat(this.$editor.layout,'" \n                        onchange="changeEditorLayoutValue"\n                    /> \n                </div>\n            </div>\n        ')}},{key:ed("changeEditorLayoutValue"),value:function(t,e){this.emit("setEditorLayout",e)}}])&&Snt(n.prototype,r),o&&Snt(n,o),e}(nd);function $nt(t){return($nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rnt(t,e){return!e||"object"!==$nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dnt(t){return(Dnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vnt(t,e){return(Vnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ant=function(t){function e(){return Cnt(this,e),Rnt(this,Dnt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vnt(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{LayoutSelector:Ent,LanguageSelector:ynt,ThemeSwitcher:Ont}}},{key:"template",value:function(){return"\n            <div class='status-bar'>\n                <div class='message-view' ref='$msg'></div>\n                <div class='tool-view' ref='$tool'>\n                    <LayoutSelector />\n                    <ThemeSwitcher />\n                    <LanguageSelector />\n                </div>\n            </div>\n        "}},{key:"initState",value:function(){return{msg:""}}},{key:Xr("$msg"),value:function(){return{text:this.state.msg}}},{key:ed("addStatusBarMessage"),value:function(t){this.setState({msg:t})}}])&&Tnt(n.prototype,r),o&&Tnt(n,o),e}(nd);function Int(t){return(Int="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function znt(t,e){return!e||"object"!==Int(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bnt(t){return(Bnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fnt(t,e){return(Fnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Hnt=function(t){function e(){return Lnt(this,e),znt(this,Bnt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fnt(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='notification-view'>\n            </div>\n        "}},{key:xr("$el"),value:function(t){Wn.create(t.target).remove()}},{key:rr("$el .item > .icon"),value:function(t){t.$dt.parent().remove()}},{key:"getMessageTemplate",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return("\n        <div class='item ".concat(t,"' style='transition-duration: ").concat(r,"ms;'>\n            <div class='title'>").concat(e,"</div> \n            <div class='description'>").concat(n,"</div>\n            <span class='icon'>").concat(Ag.close,"</span>\n        </div>\n    "))}},{key:ed("notify"),value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3,o=Wn.createByHTML(this.getMessageTemplate(t,e,n,r));this.$el.prepend(o),setTimeout((function(t){t.css("opacity",0)}),100,o)}}])&&Mnt(n.prototype,r),o&&Mnt(n,o),e}(nd);function Gnt(t){return(Gnt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ynt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nnt(t,e){return!e||"object"!==Gnt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Knt(t){return(Knt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wnt(t,e){return(Wnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Unt=function(t){function e(){return Ynt(this,e),Nnt(this,Knt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wnt(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n      <div class='window-background'>\n        <div class='window ".concat(this.getClassName(),"'>\n            <div class='window-title' ref=\"$title\">\n                <label>").concat(this.getTitle(),'</label>\n                <span class="tools">\n                  ').concat(this.getTools(),"\n                  <button type='button' class='close' ref='$close'>").concat(Ag.close,"</button>\n                </span>\n            </div>\n            <div class='window-body'>").concat(this.getBody(),"</div>\n        </div>\n      </div>\n        ")}},{key:"getClassName",value:function(){return""}},{key:"getTitle",value:function(){return""}},{key:"getTools",value:function(){return""}},{key:"getBody",value:function(){return""}},{key:rr("$close"),value:function(){this.$el.hide()}},{key:"show",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.$el.show("block")}},{key:"hide",value:function(){this.$el.hide()}}])&&Xnt(n.prototype,r),o&&Xnt(n,o),e}(nd);function Znt(t){return(Znt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qnt(t,e){return!e||"object"!==Znt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function trt(t){return(trt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ert(t,e){return(ert=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nrt=function(t){function e(){return qnt(this,e),Qnt(this,trt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ert(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"export-window"}},{key:"getTitle",value:function(){return"Export"}},{key:"initState",value:function(){return{selectedIndex:1}}},{key:"getBody",value:function(){return'\n        <div class="tab number-tab" ref="$tab">\n            <div class="tab-header full" ref="$header">\n                <div class="tab-item selected" data-value="1">\n                    <label>HTML</label>\n                </div>\n                <div class="tab-item" data-value="2">\n                    <label>CSS</label>\n                </div>                \n                <div class="tab-item" data-value="4">\n                    <label>Assets</label>\n                </div>                                             \n                <div class="tab-item" data-value="6">\n                    <label>SVG Image</label>\n                </div>     \n                <div class="tab-item" data-value="7">\n                    <label>SVG Image Preview</label>\n                </div>                        \n            </div>\n            <div class="tab-body" ref="$body">\n                <div class="tab-content selected" data-value="1">\n                    <pre ref=\'$html\'></pre>\n                </div>\n                <div class=\'tab-content\' data-value=\'2\'>\n                    <pre ref=\'$css\'></pre>\n                </div>                        \n                <div class="tab-content" data-value="4">\n                    <pre ref=\'$assets\'></pre>\n                </div>\n                <div class="tab-content" data-value="6">\n                    <pre ref=\'$svgimage\'></pre>\n                </div>                                                                       \n                <div class="tab-content" data-value="7">\n                    <div ref=\'$svgimagePreview\'></div>\n                </div>                                                       \n            </div>\n      </div>\n        '}},{key:ed("showExportWindow"),value:function(){this.show(),this.refresh()}},{key:"refresh",value:function(){var t=this,e=this.$selection.currentProject||{layers:[]},n="\n".concat(this.makeStyle(e),"\n").concat(e.artboards.map((function(e){return t.makeStyle(e).replace(/\n/g,"\n\t")})).join("\n"),"\n");this.refs.$css.text(n);var r="\n".concat(FN.renderSVG(e),"\n").concat(FN.render(e),"\n        ");if(this.refs.$html.text(r),this.$selection.currentArtboard){var o=Ep.render(this.$selection.currentArtboard);this.refs.$svgimage.text(o),this.refs.$svgimagePreview.html(Wn.createByHTML(o))}else this.refs.$svgimage.empty(),this.refs.$svgimagePreview.empty()}},{key:"makeStyle",value:function(t){return FN.toStyle(t)}},{key:"makeHTML",value:function(t){return FN.render(t)}},{key:rr("$header .tab-item"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedIndex:e},!1))}}])&&Jnt(n.prototype,r),o&&Jnt(n,o),e}(Unt);function rrt(t){return(rrt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ort(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function irt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function art(t,e){return!e||"object"!==rrt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function crt(t){return(crt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function urt(t,e){return(urt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var srt=function(t){function e(){return ort(this,e),art(this,crt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&urt(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"login-window"}},{key:"getTitle",value:function(){return"Login"}},{key:"getBody",value:function(){return'\n            <div >\n                <label>email <input type="text" ref="$email" /></label>\n                <label>password <input type="text" ref="$password" /></label>\n                <button type="button" ref=\'$login\'>Login</button>\n            </div>\n        '}},{key:rr("$login"),value:function(t){var e=this,n=this.refs.$email.value,r=this.refs.$password.value;firebase.auth().signInWithEmailAndPassword(n,r).then((function(t){e.$editor.setUser(t),e.hide()})).catch((function(t){t.code,t.message,console.log(t)}))}},{key:ed("showLoginWindow"),value:function(){this.show()}}])&&irt(n.prototype,r),o&&irt(n,o),e}(Unt);function lrt(t){return(lrt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function frt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function prt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yrt(t,e){return!e||"object"!==lrt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hrt(t){return(hrt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function drt(t,e){return(drt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vrt=function(t){function e(){return frt(this,e),yrt(this,hrt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&drt(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"sign-window"}},{key:"getTitle",value:function(){return"Sign"}},{key:"getBody",value:function(){return'\n            <div >\n                <label>fullname <input type="text" ref="$fullname" /></label>\n                <label>email <input type="text" ref="$email" /></label>\n                <label>password <input type="text" ref="$password" /></label>\n                <button type="button" ref=\'$register\'>Register</button>\n            </div>\n        '}},{key:rr("$register"),value:function(){console.log(firebase);var t=this.refs.$email.value,e=this.refs.$password.value;firebase.auth().createUserWithEmailAndPassword(t,e).catch((function(t){t.code,t.message,console.log(t)}))}},{key:ed("showSignWindow"),value:function(){this.show()}}])&&prt(n.prototype,r),o&&prt(n,o),e}(Unt);function brt(t){return(brt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function grt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wrt(t,e){return!e||"object"!==brt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ort(t){return(Ort=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function krt(t,e){return(krt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jrt=new Set;Ly.forEach((function(t){jrt.add(t.category)}));var Srt={};jrt.forEach((function(t){Ly.filter((function(e){return e.category===t})).forEach((function(t){Srt[t.category]||(Srt[t.category]=[]),Srt[t.category].push(t)}))}));var Prt={ARROWRIGHT:"",ARROWLEFT:"",ARROWUP:"",ARROWDOWN:"",BACKSPACE:"",CMD:""},xrt=Iy(),_rt={ShortcutWindow:function(t){function e(){return mrt(this,e),wrt(this,Ort(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&krt(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"shortcut-window"}},{key:"getTitle",value:function(){return"ShortCuts"}},{key:"getKeyString",value:function(t,e){return(e[t]||e.key).split("+").map((function(t){return t.trim()})).map((function(t){var e=t.toUpperCase();return("<span>".concat(Prt[e]||e,"</span>"))})).join(" + ")}},{key:"getTemplateForShortcutItem",value:function(t){return"\n            <div class='shortcut-view-item'>\n                <div class='title'>".concat(t.description,"</div>\n                <div class='os-item'>").concat(this.getKeyString(xrt,t),"</div>\n            </div>                        \n        ")}},{key:"getTemplateForCategory",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"\n            <div class='item'>\n                <h2>".concat(t,"</h2>\n                <div>\n                    ").concat(n.map((function(t){return e.getTemplateForShortcutItem(t)})).join(""),"\n                </div>\n            </div>\n        ")}},{key:"getTemplateForLayer",value:function(){return"\n            <div class='item'>\n                <h2>Layer</h2>\n                <div>\n                    <div class='shortcut-view-item'>\n                        <div class='title'>\n                            Add Rect\n                            <span class='description'>fdsafdsfdf</span>\n                        </div>\n\n                        <div class='os-item mac'><span>CTRL</span>+<span>R</span></div>\n                        <div class='os-item win'>R</div>\n                        <div class='os-item linux'>R</div>\n                    </div>\n                </div>\n            </div>\n        "}},{key:"getBody",value:function(){var t=this;return('\n        <div class="list">\n            '.concat(Object.keys(Srt).map((function(e){return t.getTemplateForCategory(e,Srt[e])})).join(""),"\n        </div>\n        "))}},{key:ed("showShortcutWindow"),value:function(){this.show()}}])&&grt(n.prototype,r),o&&grt(n,o),e}(Unt),SignWindow:vrt,LoginWindow:srt,ExportWindow:nrt};function Ert(t){return(Ert="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Crt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Trt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rrt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Drt(t,e){return!e||"object"!==Ert(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vrt(t,e,n){return(Vrt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Art(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Art(t){return(Art=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Irt(t,e){return(Irt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lrt=["TEXTAREA","INPUT","SELECT"],Mrt=function(t){function e(){return Trt(this,e),Drt(this,Art(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Irt(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){Vrt(Art(e.prototype),"initialize",this).call(this);var t=Wn.body();t.attr("data-theme",this.$editor.theme),t.addClass(navigator.userAgent.includes("Windows")?"ua-window":"ua-default")}},{key:"initState",value:function(){return{hideLeftPanel:!1,hideRightPanel:!1,leftSize:340,rightSize:260,bottomSize:30,lastBottomSize:150}}},{key:ed("changed.locale"),value:function(){this.rerender()}},{key:"template",value:function(){return"\n      <div class=\"layout-main\">\n        <div class='layout-top' ref='$top'>\n\n        </div>\n        <div class=\"layout-middle\" ref='$middle'>\n          <div class=\"layout-header\" ref='$headerPanel'>\n              <ToolMenu />    \n              <PageSubEditor />      \n          </div>        \n          <div class=\"layout-body\" ref='$bodyPanel'>\n            <CanvasView />        \n          </div>                           \n          <div class='layout-left' ref='$leftPanel'>\n            <ObjectList />\n          </div>\n          <div class=\"layout-right\" ref='$rightPanel'>\n            <Inspector />\n          </div>\n\n          <div class='layout-footer' ref='$footerPanel'>\n            <div class='footer-splitter' ref='$footerSplitter' title=\"".concat(this.$i18n("timeline.property.resize"),"\"></div>\n            <TimelineProperty />\n          </div>   \n          <div class='splitter' ref='$splitter'></div>\n          <button type=\"button\" class='toggleLeft' ref='$toggleLeftButton'></button>\n          <button type=\"button\" class='toggleRight' ref='$toggleRightButton'></button>\n        </div>\n        \n        <StatusBar />\n\n        <FillPopup />\n        <ColorPickerPopup  />\n        <BoxShadowPropertyPopup />\n        <BackgroundImagePositionPopup />\n        <TextShadowPropertyPopup />\n        <AnimationPropertyPopup />\n        <TransitionPropertyPopup />\n        <KeyframePopup />\n        <ClipPathPopup />\n        <SVGPropertyPopup />\n        <SelectorPopup />\n        <ImageSelectPopup />\n        <GradientPickerPopup />\n        <FillPickerPopup />\n        <PatternInfoPopup />\n        <SVGFilterPopup />\n        <ExportWindow />\n        <ShortcutWindow />\n        \x3c!-- LoginWindow / --\x3e\n        \x3c!-- SignWindow / --\x3e\n        <ImageFileView />\n        <NotificationView />\n      </div>\n    ")}},{key:Xr("$headerPanel"),value:function(){var t="".concat(this.state.leftSize,"px"),e="".concat(this.state.rightSize,"px");return this.state.hideLeftPanel&&(t="0px"),this.state.hideRightPanel&&(e="0px"),{style:{left:t,right:e}}}},{key:Xr("$splitter"),value:function(){var t="".concat(this.state.leftSize,"px");return this.state.hideLeftPanel&&(t="0px"),{style:{left:t}}}},{key:Xr("$leftPanel"),value:function(){var t="0px",e=_.px(this.state.leftSize),n=_.px(this.state.bottomSize);return this.state.hideLeftPanel&&(t="-".concat(this.state.leftSize,"px")),{style:{left:t,width:e,bottom:n}}}},{key:Xr("$toggleLeftButton"),value:function(){var t="0px",e=Ag.arrowRight;return!1===this.state.hideLeftPanel&&(t="".concat(this.state.leftSize,"px"),e=Ag.arrowLeft),{style:{left:t},html:e}}},{key:Xr("$toggleRightButton"),value:function(){var t="0px",e=Ag.arrowLeft;return!1===this.state.hideRightPanel&&(t="".concat(this.state.rightSize,"px"),e=Ag.arrowRight),{style:{right:t},html:e}}},{key:Xr("$rightPanel"),value:function(){var t="0px",e=_.px(this.state.bottomSize);return this.state.hideRightPanel&&(t="-".concat(this.state.rightSize,"px")),{style:{right:t,bottom:e}}}},{key:Xr("$bodyPanel"),value:function(){var t="".concat(this.state.leftSize,"px"),e="".concat(this.state.rightSize,"px"),n="".concat(this.state.bottomSize,"px");return this.state.hideLeftPanel&&(t="0px"),this.state.hideRightPanel&&(e="0px"),{style:{left:t,right:e,bottom:n}}}},{key:Xr("$footerPanel"),value:function(){return{style:{height:_.px(this.state.bottomSize)}}}},{key:"components",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$rt(Object(n),!0).forEach((function(e){Crt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},_rt,{},E9,{ObjectList:$3,Inspector:P5,ToolMenu:Met,PageSubEditor:jet,CanvasView:Tet,LogoView:Xet,ExternalToolMenu:Jet,ImageFileView:int,StatusBar:Ant,TimelineProperty:SH,PreviewToolMenu:e3,NotificationView:Hnt})}},{key:kr("$splitter")+Lr("moveSplitter"),value:function(){this.minSize=this.$theme("left_size"),this.maxSize=this.$theme("left_max_size"),this.leftSize=_.parse(this.refs.$splitter.css("left")).value}},{key:"moveSplitter",value:function(t){this.setState({leftSize:Math.max(Math.min(this.leftSize+t,this.maxSize),this.minSize)})}},{key:kr("$footerSplitter")+Lr("moveFooterSplitter"),value:function(){this.minFooterSize=this.$theme("bottom_size"),this.maxFooterSize=this.$theme("bottom_max_size"),this.bottomSize=_.parse(this.refs.$footerPanel.css("height")).value}},{key:"moveFooterSplitter",value:function(t,e){var n=Math.max(Math.min(this.bottomSize-e,this.maxFooterSize),this.minFooterSize);this.setState({bottomSize:n,lastBottomSize:n}),this.trigger("changeTimelineHeight")}},{key:ed("changeTimelineHeight")+Ir(100),value:function(){this.emit("refreshTimeline")}},{key:"refresh",value:function(){this.bindData("$splitter"),this.bindData("$headerPanel"),this.bindData("$leftPanel"),this.bindData("$rightPanel"),this.bindData("$toggleRightButton"),this.bindData("$toggleLeftButton"),this.bindData("$bodyPanel"),this.bindData("$footerPanel"),this.emit("resizeEditor")}},{key:rr("$toggleRightButton"),value:function(){this.toggleState("hideRightPanel")}},{key:rr("$toggleLeftButton"),value:function(){this.toggleState("hideLeftPanel")}},{key:ed("changeTheme"),value:function(){Wn.body().attr("data-theme",this.$editor.theme)}},{key:ed("toggleFooter"),value:function(t){this.$el.toggleClass("show-footer",t),this.$el.hasClass("show-footer")?30===this.state.bottomSize&&(this.state.bottomSize=this.state.lastBottomSize||this.$theme("bottom_size")):this.state.bottomSize=30,this.refresh()}},{key:xr("$el .layout-footer"),value:function(t){this.emit("toggleFooterEnd")}},{key:ed("refreshAll"),value:function(){this.emit("refreshProjectList"),this.trigger("refreshAllSelectProject")}},{key:ed("refreshAllSelectProject"),value:function(){this.emit("refreshArtBoardList"),this.emit("refreshArtboard")}},{key:lr("$middle")+zr,value:function(t){}},{key:sr("$middle")+zr,value:function(t){this.emit("fileDropItems",L$.getAllDropItems(t))}},{key:"isNotFormElement",value:function(t){var e=t.target.tagName;return!Lrt.includes(e)&&"true"!==Wn.create(t.target).attr("contenteditable")}},{key:ar("document")+$r("isNotFormElement"),value:function(t){this.emit("keymap.keydown",t)}},{key:cr("document")+$r("isNotFormElement"),value:function(t){this.emit("keymap.keyup",t)}}])&&Rrt(n.prototype,r),o&&Rrt(n,o),e}(nd);function zrt(t){return(zrt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Brt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Frt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Brt(Object(n),!0).forEach((function(e){Hrt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Brt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hrt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Grt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yrt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xrt(t,e){return!e||"object"!==zrt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nrt(t,e,n){return(Nrt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Krt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Krt(t){return(Krt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wrt(t,e){return(Wrt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Urt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zrt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qrt=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Urt(Object(n),!0).forEach((function(e){Zrt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Urt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Wu,{},vO,{BackgroundImage:cu,BorderImage:function(t){function e(){return Grt(this,e),Xrt(this,Krt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wrt(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var n=null;if(t["border-image"]){var r=pn(t["border-image"]);r.str.match(/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi).forEach((function(o,i){var a=null;o=hn(o,r.matches);var c=t["border-image"].replace(o,"").split(" ").map((function(t){return _.parse(t)}));o.includes("repeating-linear-gradient")?a=ec.parse(o):o.includes("linear-gradient")?a=Na.parse(o):o.includes("repeating-radial-gradient")?a=Sc.parse(o):o.includes("radial")?a=dc.parse(o):o.includes("repeating-conic-gradient")?a=Kc.parse(o):o.includes("conic")?a=zc.parse(o):o.includes("url")&&(a=Ra.parse(o)),n=new e({type:a.type,image:a});var u=c.filter((function(t){return ce(t.value)}));1===u.length?n.reset({slice:{top:u[0].clone(),bottom:u[0].clone(),left:u[0].clone(),right:u[0].clone()}}):2===u.length?n.reset({slice:{top:u[0].clone(),bottom:u[0].clone(),left:u[1].clone(),right:u[1].clone()}}):3===u.length?n.reset({slice:{top:u[0].clone(),bottom:u[2].clone(),left:u[1].clone(),right:u[1].clone()}}):4===u.length&&n.reset({slice:{top:u[0].clone(),bottom:u[2].clone(),left:u[3].clone(),right:u[1].clone()}})}))}return n}}],(r=[{key:"addImageResource",value:function(t){return this.clear("image-resource"),this.addItem("image-resource",t)}},{key:"addGradient",value:function(t){return this.addImageResource(t)}},{key:"setImageUrl",value:function(t){t.images&&t.images.length&&this.reset({type:"image",image:this.createImage(t.images[0])})}},{key:"createImage",value:function(t){return new Ra({url:t})}},{key:"setGradient",value:function(t){this.reset({type:t.type,image:this.createGradient(t,this.json.image)})}},{key:"createGradient",value:function(t,e){var n=t.colorsteps,r=t.angle,o=t.radialType,i=t.radialPosition,a=e.toJSON();switch(delete a.itemType,delete a.type,t.type){case"static-gradient":return new ma(Frt({},a,{colorsteps:n}));case"linear-gradient":return new Na(Frt({},a,{colorsteps:n,angle:r}));case"repeating-linear-gradient":return new ec(Frt({},a,{colorsteps:n,angle:r}));case"radial-gradient":return new dc(Frt({},a,{colorsteps:n,radialType:o,radialPosition:i}));case"repeating-radial-gradient":return new Sc(Frt({},a,{colorsteps:n,radialType:o,radialPosition:i}));case"conic-gradient":return new zc(Frt({},a,{colorsteps:n,angle:r,radialPosition:i}));case"repeating-conic-gradient":return new Kc(Frt({},a,{colorsteps:n,angle:r,radialPosition:i}))}return new ua}},{key:"getDefaultObject",value:function(){return Nrt(Krt(e.prototype),"getDefaultObject",this).call(this,{itemType:"border-image",checked:!1,repeat:"stretch",slice:{},width:{},image:ma.create()})}},{key:"convert",value:function(t){return Object.keys(t.slice).forEach((function(e){t.slice[e]=_.parse(t.slice[e])})),t}},{key:"toBorderImageOffsetCSS",value:function(){var t=this;return Object.keys(this.json.offset).map((function(e){return t.json.offset[e].toString()})).join(" ")}},{key:"toBorderImageCSS",value:function(){if(!this.json.image)return{};var t=this.json.image.toString();return{"border-image-source":"".concat(t)}}},{key:"toBorderImageRepeatCSS",value:function(){return this.json.repeat?{"border-image-repeat":"".concat(this.json.repeat)}:{}}},{key:"toBorderImageWidthCSS",value:function(){var t=this;if(!this.json.width)return{};if(0===Object.keys(this.json.width).filter((function(e){return t.json.width[e].value>0})).length)return{};var e=Object.keys(this.json.width).map((function(e){return t.json.width[e].toString()})).join(" ");return{"border-image-width":"".concat(e)}}},{key:"toBorderImageSliceCSS",value:function(){var t=this;if(!this.json.slice)return{};var e=Object.keys(this.json.slice).map((function(e){var n=t.json.slice[e];return n.isPercent()?n.toString():n.value})).join(" ");return{"border-image-slice":"".concat(e)}}},{key:"toCSS",value:function(){return Frt({},this.toBorderImageCSS(),{},this.toBorderImageRepeatCSS(),{},this.toBorderImageSliceCSS(),{},this.toBorderImageWidthCSS())}},{key:"toString",value:function(){return Ut(this.toCSS(),(function(t,e){return"".concat(t,": ").concat(e)})).join(";")}},{key:"image",get:function(){return this.json.image},set:function(t){this.json.image=t}}])&&Yrt(n.prototype,r),o&&Yrt(n,o),e}(_i),BoxShadow:fw});function Jrt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qrt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jrt(Object(n),!0).forEach((function(e){tot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jrt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eot=Qrt({createCSSEditor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"white"};return fd(Qrt({components:{CSSEditor:Mrt},template:"<div><CSSEditor /></div>"},t))},CSSEditor:Mrt},qrt,{},{ColorStep:Zi,ConicGradient:zc,LinearGradient:Na,RadialGradient:dc,RepeatingConicGradient:Kc,RepeatingLinearGradient:ec,RepeatingRadialGradient:Sc,URLImageResource:Ra},{},_T,{},{AssetParser:hi,PathGenerator:G7,PathParser:Ro,PathStringManager:Bo,Point:So,SegmentManager:C7,PolygonParser:LO},{Length:_});function not(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oot(){return new eot.createCSSEditor}e.default=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?not(Object(n),!0).forEach((function(e){rot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):not(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({version:"0.10.0"},pd,{},Hm,{},eot,{startEditor:oot});window.EasylogicEditor=oot()}])}));