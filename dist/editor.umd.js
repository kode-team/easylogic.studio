var kA=Object.defineProperty,TA=Object.defineProperties;var MA=Object.getOwnPropertyDescriptors;var xp=Object.getOwnPropertySymbols;var IA=Object.prototype.hasOwnProperty,EA=Object.prototype.propertyIsEnumerable;var _p=(or,kt,ur)=>kt in or?kA(or,kt,{enumerable:!0,configurable:!0,writable:!0,value:ur}):or[kt]=ur,v=(or,kt)=>{for(var ur in kt||(kt={}))IA.call(kt,ur)&&_p(or,ur,kt[ur]);if(xp)for(var ur of xp(kt))EA.call(kt,ur)&&_p(or,ur,kt[ur]);return or},le=(or,kt)=>TA(or,MA(kt));(function(or,kt){typeof exports=="object"&&typeof module!="undefined"?module.exports=kt():typeof define=="function"&&define.amd?define(kt):(or=typeof globalThis!="undefined"?globalThis:or||self,or.EasyLogicEditor=kt())})(this,function(){"use strict";function or(a,t=()=>!0){let r=a,i=[];do{if(r instanceof Object===!1)break;const n=Object.getOwnPropertyNames(r).filter(t);i.push.apply(i,n)}while(r=Object.getPrototypeOf(r));return i}function kt(a,t=0){if(t===0)return a;var r=void 0;return function(i,s,n,o,l){r&&clearTimeout(r),r=setTimeout(function(){a(i,s,n,o,l)},t||300)}}function ur(a,t){var r=void 0;return function(i,s,n,o,l){r||(r=setTimeout(function(){a(i,s,n,o,l),r=null},t||300))}}function Sp(a,t,r){return(...i)=>{r.every(n=>t[n].apply(t,i))&&a.apply(t,i)}}function wp(a,t){return(...r)=>{requestAnimationFrame(()=>{a.apply(t,r)})}}function ra(a,t){Object.keys(a).forEach((r,i)=>{t(r,a[r],i)})}function gc(a,t){return Object.keys(a).map((r,i)=>t(r,a[r],i))}function Pp(a,t,r=""){return gc(a,t).join(r)}function xt(a){return typeof a=="undefined"}function Re(a){return!xt(a)}function Yr(a){return typeof a=="boolean"}function ht(a){return typeof a=="string"}function ai(a){return Array.isArray(a)}function Wr(a){return typeof a=="object"&&!Array.isArray(a)&&!ft(a)&&!ht(a)&&a!==null}function ye(a){return typeof a=="function"}function ft(a){return typeof a=="number"}function Cp(a){return a===0}function fc(a){return!Cp(a)}function ve(a){if(!xt(a))return JSON.parse(JSON.stringify(a))}function mc(a){return Object.keys(a).forEach(t=>{Array.isArray(a[t])&&(a[t]=a[t].join(", "))}),a}const kp=(a,t,r)=>{r?(a.setAttribute(t,t),a[t]=r):(a.removeAttribute(t),a[t]=r)},Tp=(a,t,r)=>{typeof r=="boolean"?kp(a,t,r):a.setAttribute(t,r)},Mp=(a,t)=>{a.removeAttribute(t),a[t]=!1},Ip=(a,t)=>{a.removeAttribute(t)},Ep=(a,t,r)=>{typeof r=="boolean"?Mp(a,t):t&&Ip(a,t)},Lp=(a,t,r,i)=>{r?(!i||r!==i)&&Tp(a,t,r):Ep(a,t,i)},Vp=(a,t={},r={})=>{const i=[];i.push.apply(i,Object.keys(t)),i.push.apply(i,Object.keys(r)),new Set(i).forEach(n=>{Lp(a,n,t[n],r[n])})};function Rp(a,t){return a.nodeType===Node.TEXT_NODE&&a.textContent!==t.textContent||a.nodeName!==t.nodeName}function vc(a){return(a==null?void 0:a.nodeType)===8?!0:a.nodeType!==Node.TEXT_NODE&&a.getAttribute("data-domdiff-pass")==="true"}function zp(a){return a.nodeType!==Node.TEXT_NODE&&a.getAttribute("refClass")}function yc(a){var t={};const r=a.length;for(let i=0;i<r;i++){const s=a[i];t[s.name]=s.value}return t}function bc(a,t,r,i,s={}){if(!t)a.appendChild(r.cloneNode(!0));else if(!r)a.removeChild(t);else if(!(vc(t)||vc(r))){if(Rp(r,t)||zp(r))a.replaceChild(r.cloneNode(!0),t);else if(r.nodeType!==Node.TEXT_NODE&&r.nodeType!==Node.COMMENT_NODE&&r.toString()!=="[object HTMLUnknownElement]"){s.checkPassed&&s.checkPassed(t,r)||Vp(t,yc(r.attributes),yc(t.attributes));for(var n=dn(t),o=dn(r),l=Math.max(n.length,o.length),i=0;i<l;i++)bc(t,n[i],o[i],i,s)}}}const dn=a=>{var t=a.firstChild;if(!t)return[];var r=[];do r.push(t),t=t.nextSibling;while(t);return r};function vo(a,t,r={}){r.checkPassed=ye(r.checkPassed)?r.checkPassed:void 0,r.removedElements=[],a=a.el||a,t=t.el||t;for(var i=dn(a),s=dn(t),n=Math.max(i.length,s.length),o=0;o<n;o++)bc(a,i[o],s[o],o,r)}const $c=/[xy]/g;function xc(){var a=new Date().getTime(),t="xxx12-xx-34xx".replace($c,function(r){var i=(a+Math.random()*16)%16|0;return a=Math.floor(a/16),(r=="x"?i:i&3|8).toString(16)});return t}function _c(){var a=new Date().getTime(),t="idxxxxxxx".replace($c,function(r){var i=(a+Math.random()*16)%16|0;return a=Math.floor(a/16),(r=="x"?i:i&3|8).toString(16)});return t}const yo={},Sc={},ni=new Map,ks=new Map;window.__tempVariables=ni;const jp="v:";function Fr(a,t=""){const r=`${jp}${_c()}`;return ni.set(r,a),t&&(ks.has(t)||ks.set(t,new Set),ks.get(t).add(r)),r}function Ap(a){ks.has(a)&&(ks.get(a).forEach(t=>{ni.delete(t)}),ks.delete(a))}function bo(a,t=!0){if(ht(a)===!1)return a;let r=a;return ni.has(a)&&(r=ni.get(a),t&&ni.delete(a)),r}function Ts(a){return ni.has(a)?ni.get(a):a}function Op(a){return ni.has(a)}function Dp(a){return Object.entries(a).map(([t,r])=>`${t}=${Fr(r)}`).join(" ")}function oi(a={}){Object.keys(a).forEach(t=>{yo[t]||(yo[t]=a[t])})}function Fp(a,t){Sc[a]=t}function Bp(a){return Sc[a]}function Np(a){return yo[Bp(a)||a]}class be{constructor(t,r,i){if(typeof t!="string")this.el=t;else{var s=document.createElement(t);r&&(s.className=r),i=i||{},Object.assign(s,i),this.el=s}}static create(t,r,i){return new be(t,r,i)}static createByHTML(t){var r=be.create("div"),i=r.html(t).children();return i.length?be.create(i[0].el):null}static getScrollTop(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}static getScrollLeft(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}static parse(t){var r=DOMParser();return r.parseFromString(t,"text/htmll")}static body(){return be.create(document.body)}setAttr(t){return Object.keys(t).forEach(r=>{this.attr(r,t[r])}),this}setAttrNS(t,r="http://www.w3.org/2000/svg"){return Object.keys(t).forEach(i=>{this.attr(i,t[i],r)}),this}setProp(t){return Object.keys(t).forEach(r=>{this.el[r]!=t[r]&&(this.el[r]=t[r])}),this}data(t,r){if(arguments.length===1){const i=this.attr("data-"+t);return bo(i,!1)}else if(arguments.length===2)return this.attr("data-"+t,r);return this}attr(t,r){return arguments.length==1?this.el.getAttribute&&this.el.getAttribute(t):(this.el.getAttribute(t)!=r&&this.el.setAttribute(t,r),this)}attrNS(t,r,i="http://www.w3.org/2000/svg"){return arguments.length==1?this.el.getAttributeNS(i,t):(this.el.getAttributeNS(i,t)!=r&&this.el.setAttributeNS(i,t,r),this)}attrKeyValue(t){return{[this.el.getAttribute(t)]:this.val()}}attrs(...t){return t.map(r=>this.el.getAttribute(r))}styles(...t){return t.map(r=>this.el.style[r])}removeAttr(t){return this.el.removeAttribute(t),this}removeStyle(t){return this.el.style.removeProperty(t),this}is(t){return t instanceof be?this.el===t.el:this.el===t}isTag(t){return this.el.tagName.toLowerCase()===t.toLowerCase()}closest(t){for(var r=this,i=!1;!(i=r.hasClass(t));)if(r.el.parentNode)r=be.create(r.el.parentNode);else return null;return i?r:null}path(){if(!this.el)return[];let t=[this],r=this.parent();if(!r.el)return t;for(;r&&(t.unshift(r),r=r.parent(),!!r.el););return t}get $parent(){return this.parent()}parent(){return be.create(this.el.parentNode)}hasParent(){return!!this.el.parentNode}removeClass(...t){return this.el.classList.remove(...t),this}replaceClass(t,r){return this.el.classList.replace(t,r),this}hasClass(t){return this.el.classList?this.el.classList.contains(t):!1}addClass(...t){return this.el.classList.add(...t),this}onlyOneClass(t){var r=this.parent();r.children().forEach(i=>{i.removeClass(t)}),this.addClass(t)}toggleClass(t,r){return this.el.classList.toggle(t,r),this}html(t){try{return typeof t=="undefined"?this.el.innerHTML:(typeof t=="string"?Object.assign(this.el,{innerHTML:t}):this.empty().append(t),this)}catch(r){return console.log(r,t),this}}htmlDiff(t){vo(this,t)}updateDiff(t,r="div",i={}){vo(this,be.create(r).html(t),i)}updateSVGDiff(t,r="div"){vo(this,be.create(r).html(`<svg>${t}</svg>`).firstChild.firstChild)}find(t){return this.el.querySelector(t)}$(t){var r=this.find(t);return r?be.create(r):null}findAll(t){return Array.from(this.el.querySelectorAll(t))}$$(t){var r=this.findAll(t);return r.map(i=>be.create(i))}empty(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);return this}append(t){return typeof t=="string"?this.el.appendChild(document.createTextNode(t)):this.el.appendChild(t.el||t),this}prepend(t){return typeof t=="string"?this.el.prepend(document.createTextNode(t)):this.el.prepend(t.el||t),this}prependHTML(t){var r=be.create("div").html(t);return this.prepend(r.createChildrenFragment()),r}appendHTML(t){var r=be.create("div").html(t);return this.append(r.createChildrenFragment()),r}createChildrenFragment(){const t=this.children();var r=document.createDocumentFragment();return t.forEach(i=>r.appendChild(i.el)),r}appendTo(t){var r=t.el?t.el:t;return r.appendChild(this.el),this}remove(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}removeChild(t){return this.el.removeChild(t.el||t),this}text(t){if(typeof t=="undefined")return this.el.textContent;var r=t;return t instanceof be&&(r=t.text()),this.el.textContent!==r&&(this.el.textContent=r),this}css(t,r){if(typeof t!="undefined"&&typeof r!="undefined")t.indexOf("--")===0&&typeof r!="undefined"?this.el.style.setProperty(t,r):this.el.style[t]=r;else if(typeof t!="undefined"){if(typeof t=="string")return getComputedStyle(this.el)[t];Object.entries(t).forEach(([i,s])=>{i.indexOf("--")===0&&typeof s!="undefined"?this.el.style.setProperty(i,s):this.el.style[i]=s})}return this}getComputedStyle(...t){var r=getComputedStyle(this.el),i={};return t.forEach(s=>{i[s]=r[s]}),i}getStyleList(...t){for(var r={},i=this.el.style.length,s=0;s<i;s++){var n=this.el.style[s];r[n]=this.el.style[n]}return t.forEach(o=>{r[o]=this.css(o)}),r}cssText(t){return typeof t=="undefined"?this.el.style.cssText:(t!=this.el.tempCssText&&(this.el.style.cssText=t,this.el.tempCssText=t),this)}cssArray(t){return t[0]&&(this.el.style[t[0]]=t[1]),t[2]&&(this.el.style[t[2]]=t[3]),t[4]&&(this.el.style[t[4]]=t[5]),t[6]&&(this.el.style[t[6]]=t[7]),t[8]&&(this.el.style[t[8]]=t[9]),this}cssFloat(t){return parseFloat(this.css(t))}cssInt(t){return parseInt(this.css(t))}px(t,r){return this.css(t,`${r}px`)}rect(){return this.el.getBoundingClientRect()}bbox(){return this.el.getBBox()}isSVG(){return this.el.tagName.toUpperCase()==="SVG"}offsetRect(){if(this.isSVG()){const t=this.parent().rect(),r=this.rect();return{x:r.x-t.x,y:r.y-t.y,width:r.width,height:r.height}}return{x:this.el.offsetLeft,y:this.el.offsetTop,width:this.el.offsetWidth,height:this.el.offsetHeight}}offset(){var t=this.rect(),r=be.getScrollTop(),i=be.getScrollLeft();return{top:t.top+r,left:t.left+i}}offsetLeft(){return this.offset().left}offsetTop(){return this.offset().top}position(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.rect()}size(){return[this.width(),this.height()]}width(){return this.el.offsetWidth||this.rect().width}contentWidth(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}height(){return this.el.offsetHeight||this.rect().height}contentHeight(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}val(t){if(typeof t=="undefined")return this.el.value;if(typeof t!="undefined"){var r=t;t instanceof be&&(r=t.val()),this.el.value=r}return this}matches(t){return this.el&&this.el.matches?this.el.matches(t)?this:this.parent().matches(t):null}get value(){return this.el.value}get naturalWidth(){return this.el.naturalWidth}get naturalHeight(){return this.el.naturalHeight}get files(){return this.el.files?[...this.el.files]:[]}realVal(){switch(this.el.nodeType){case"INPUT":var t=this.attr("type");if(t=="checkbox"||t=="radio")return this.checked();case"SELECT":case"TEXTAREA":return this.el.value}return""}int(){return parseInt(this.val(),10)}float(){return parseFloat(this.val())}show(t="block"){return this.el.style.display=t!="none"?t:"block",this}hide(){return this.el.style.display="none",this}isHide(){return this.el.style.display==="none"}isShow(){return!this.isHide()}toggle(t){var r=this.isHide();return arguments.length==1?t?this.show():this.hide():r?this.show():this.hide()}get totalLength(){return this.el.getTotalLength()}scrollIntoView(){this.el.scrollIntoView()}addScrollLeft(t){return this.el.scrollLeft+=t,this}addScrollTop(t){return this.el.scrollTop+=t,this}setScrollTop(t){return this.el.scrollTop=t,this}setScrollLeft(t){return this.el.scrollLeft=t,this}scrollTop(){return this.el===document.body?be.getScrollTop():this.el.scrollTop}scrollLeft(){return this.el===document.body?be.getScrollLeft():this.el.scrollLeft}scrollHeight(){return this.el.scrollHeight}scrollWidth(){return this.el.scrollWidth}on(t,r,i,s){return this.el.addEventListener(t,r,i,s),this}off(t,r){return this.el.removeEventListener(t,r),this}getElement(){return this.el}createChild(t,r="",i={},s={}){let n=be.create(t,r,i);return n.css(s),this.append(n),n}get firstChild(){return be.create(this.el.firstElementChild)}children(){var t=this.el.firstElementChild;if(!t)return[];var r=[];do r.push(be.create(t)),t=t.nextElementSibling;while(t);return r}childLength(){return this.el.children.length}replace(t){return this.el.parentNode&&this.el.parentNode.replaceChild(t.el||t,this.el),this}replaceChild(t,r){return this.el.replaceChild(r.el||r,t.el||t),this}checked(t=!1){return arguments.length==0?!!this.el.checked:(this.el.checked=!!t,this)}click(){return this.el.click(),this}focus(){return this.el.focus(),this}select(){if(this.attr("contenteditable")==="true"){var t=document.createRange();t.selectNodeContents(this.el);var r=window.getSelection();r.removeAllRanges(),r.addRange(t)}else this.el.select();return this}blur(){return this.el.blur(),this}context(t="2d"){return this._initContext||(this._initContext=this.el.getContext(t)),this._initContext}resize({width:t,height:r}){this._initContext=null;var i=this.context(),s=window.devicePixelRatio||1;this.px("width",+t),this.px("height",+r),this.el.width=t*s,this.el.height=r*s,i.scale(s,s)}toDataURL(t="image/png",r=1){return this.el.toDataURL(t,r)}clear(){this.context().clearRect(0,0,this.el.width,this.el.height)}update(t){this.clear(),t.call(this,this)}drawImage(t,r=0,i=0){var s=this.context(),n=window.devicePixelRatio||1;s.drawImage(t,r,i,t.width,t.height,0,0,this.el.width/n,this.el.height/n)}drawOption(t={}){var r=this.context();Object.assign(r,t)}drawLine(t,r,i,s){var n=this.context();n.beginPath(),n.moveTo(t,r),n.lineTo(i,s),n.stroke(),n.closePath()}drawPath(...t){var r=this.context();r.beginPath(),t.forEach((i,s)=>{s==0?r.moveTo(i[0],i[1]):r.lineTo(i[0],i[1])}),r.stroke(),r.fill(),r.closePath()}drawCircle(t,r,i){var s=this.context();s.beginPath(),s.arc(t,r,i,0,2*Math.PI),s.stroke(),s.fill()}drawText(t,r,i){this.context().fillText(i,t,r)}fullscreen(){var t=this.el;t.requestFullscreen?t.requestFullscreen():t.wekitRequestFullscreen&&t.wekitRequestFullscreen()}toggleFullscreen(){this.el===document.fullscreenElement?document.exitFullscreen():this.fullscreen()}}class $o{constructor(t,r={}){this.context=t,this.options=r}initialize(){}load(){}refresh(){}render(){}getRef(t){return this.context.getRef(t)}run(){}destroy(){}}const wc=/^@magic\:([a-zA-Z][a-zA-Z0-9]*)[\W]{1}(.*)*$/g,Pc="@magic:",Qi="|",Gp=/(([\$a-z_\-]+)\([^\(\)]*\)|([a-z_\-]+))/gi,Cc="(",Hp=")";class Ji{static make(t,...r){return`${Pc}${t} ${r.join(Qi)}`}static check(t){return t.match(wc)!==null}static parse(t){const r=t.match(wc);if(!r)return;const i=r[0].split(Pc)[1].split(Qi).map(d=>d.trim());let[s,...n]=i;const[o,...l]=s.split(" "),c=n.map(d=>this.parsePipe(d)).filter(d=>d.value),h={function:[],keyword:[],value:[]};return c.forEach(d=>{d.type==="function"?h.function.push(d):d.type==="keyword"?h.keyword.push(d):h.value.push(d)}),{originalMethod:t,method:o,args:l,pipes:c,keys:h}}static parsePipe(t){const r=t.match(Gp);if(!r)return{type:"value",value:t};const[i]=r;if(i.includes(Cc)){const[s,n]=i.split(Cc),[o]=n.split(Hp);return{type:"function",value:i,func:s,args:o.split(",").map(l=>l.trim()).filter(Boolean)}}return{type:"keyword",value:r[0]}}}const kc=(a,t=Qi)=>` ${t} ${a}`,Up="ME@",Tc=(...a)=>a.join(Qi),xo=(...a)=>Up+Tc(...a),Xp=xo,Yp=xo,un=":",Mc=" ",Wp={},Oe=(...a)=>{var t=a.join(un);return(...r)=>{const[i,...s]=r;return Ji.make("domevent",[t,i].join(" "),...s)}},pn=(...a)=>Ji.make("subscribe",...a),Kp=(...a)=>Ji.make("callback",...a),Ne=(a,t=Qi)=>kc(a,t),Ms=(a,t=Qi)=>Ne(`after(${a})`,t),Zp=(a,t=Qi)=>Ne(`before(${a})`,t),Se=Ne,qp=Ne,Qp=Ne("ArrowUp"),Jp=Ne("ArrowDown"),eg=Ne("ArrowLeft"),tg=Ne("ArrowRight"),Si=Ne("Enter"),rg=Ne("Space"),Is=Ne("Escape"),ig=Ne("Backspace"),Ic=Ne("Delete"),sg=Ne("Equal"),ag=Ne("Minus"),ng=Ne("BracketRight"),og=Ne("BracketLeft"),lg=Ne("isAltKey"),cg=Ne("isShiftKey"),hg=Ne("isMetaKey"),dg=Ne("isCtrlKey"),ug=Ne("hasMouse"),pg=Ne("hasTouch"),gg=Ne("hasPen"),fg=Ne("self"),Ut=Ne("isMouseLeftButton"),mg=Ne("isMouseRightButton"),vg=Ne("fit"),yg=Ne("passive"),st=Ne("domdiff"),Xe=(a=100)=>Ne(`debounce(${a})`),_o=(a=300)=>Ne(`delay(${a})`),bg=Xe(1e3),es=(a=100)=>Ne(`throttle(${a})`),Ec=Ne("allTrigger()"),Lc=Ne("selfTrigger()"),Vc=Ne("frame()"),$g=a=>Ne(`params(${Fr(a)})`),xg=Ne("capture()"),Pe=Ms("preventDefault"),Jt=Ms("stopPropagation"),I=pn,gn=(...a)=>pn(...a,Ec),Q=(...a)=>pn(...a,Lc),_t=(a,...t)=>pn(`config:${a}`,...t),Rc=Kp,_g=Rc("requestAnimationFrame"),Kr=Oe,F=Oe("click"),ts=Oe("dblclick"),Sg=Oe("mousedown"),wg=Oe("mouseup"),Pg=Oe("mousemove"),Cg=Oe("mouseover"),kg=Oe("mouseout"),Tg=Oe("mouseenter"),Mg=Oe("mouseleave"),Ig=Oe("touchstart"),Eg=Oe("touchmove"),Lg=Oe("touchend"),ia=Oe("keydown"),Xt=Oe("keyup"),Vg=Oe("keypress"),Rg=Oe("drag"),yr=Oe("dragstart"),wr=Oe("drop"),Pr=Oe("dragover"),zg=Oe("dragenter"),jg=Oe("dragleave"),Ag=Oe("dragexit"),Og=Oe("dragout"),zc=Oe("dragend"),Dg=Oe("contextmenu"),Cr=Oe("change"),ot=Oe("input"),So=Oe("focus"),sa=Oe("focusin"),wi=Oe("focusout"),wo=Oe("blur"),jc=Oe("paste"),Ac=Oe("resize"),Fg=Oe("scroll"),Bg=Oe("submit"),xe=(...a)=>Kr("pointerdown")(...a)+Ut,aa=Kr("pointerover"),Ng=Kr("pointerenter"),na=Kr("pointerout"),rs=Kr("pointermove"),Oc=Kr("pointerup"),Dc=Kr("change","input"),Fc=Kr("wheel","mousewheel","DOMMouseScroll"),Gg=Oe("animationstart"),Hg=Oe("animationend"),Ug=Oe("animationiteration"),Xg=Oe("transitionstart"),Bc=Oe("transitionend"),Yg=Oe("transitionrun"),Wg=Oe("transitioncancel"),Po=Kr("doubletab"),U=(a="$el")=>Ji.make("load",a),Kg=a=>Wp[a]||"",Nc=a=>function(){return this.prevState[a]!=this.state[a]},Gc=()=>!0,se=(a="$el")=>Ji.make("bind",a);function Hc(a){let t=a.deltaX,r=a.deltaY;return t===0&&a.shiftKey&&([r,t]=[t,r]),a.deltaMode===WheelEvent.DOM_DELTA_LINE?r*=8:a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(r*=24),[Uc(t,24),Uc(r,24),0]}function Uc(a,t){return Math.sign(a)*Math.min(t,Math.abs(a))}var fn={addDomEvent(a,t,r,i=!1){a&&a.addEventListener(t,r,i)},removeDomEvent(a,t,r){a&&a.removeEventListener(t,r)},pos(a){return a.touches&&a.touches[0]?a.touches[0]:a},posXY(a){var t=this.pos(a);return{x:t.pageX,y:t.pageY}}},Zg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",makeEventChecker:kc,PIPE:Tc,EVENT:xo,COMMAND:Xp,ON:Yp,NAME_SAPARATOR:un,SAPARATOR:Mc,CHECKER:Ne,AFTER:Ms,BEFORE:Zp,IF:Se,KEY:qp,ARROW_UP:Qp,ARROW_DOWN:Jp,ARROW_LEFT:eg,ARROW_RIGHT:tg,ENTER:Si,SPACE:rg,ESCAPE:Is,BACKSPACE:ig,DELETE:Ic,EQUAL:sg,MINUS:ag,BRACKET_RIGHT:ng,BRACKET_LEFT:og,ALT:lg,SHIFT:cg,META:hg,CONTROL:dg,MOUSE:ug,TOUCH:pg,PEN:gg,SELF:fg,LEFT_BUTTON:Ut,RIGHT_BUTTON:mg,FIT:vg,PASSIVE:yg,DOMDIFF:st,DEBOUNCE:Xe,DELAY:_o,D1000:bg,THROTTLE:es,ALL_TRIGGER:Ec,SELF_TRIGGER:Lc,FRAME:Vc,PARAMS:$g,CAPTURE:xg,PREVENT:Pe,STOP:Jt,SUBSCRIBE:I,SUBSCRIBE_ALL:gn,SUBSCRIBE_SELF:Q,CONFIG:_t,CALLBACK:Rc,RAF:_g,CUSTOM:Kr,CLICK:F,DOUBLECLICK:ts,MOUSEDOWN:Sg,MOUSEUP:wg,MOUSEMOVE:Pg,MOUSEOVER:Cg,MOUSEOUT:kg,MOUSEENTER:Tg,MOUSELEAVE:Mg,TOUCHSTART:Ig,TOUCHMOVE:Eg,TOUCHEND:Lg,KEYDOWN:ia,KEYUP:Xt,KEYPRESS:Vg,DRAG:Rg,DRAGSTART:yr,DROP:wr,DRAGOVER:Pr,DRAGENTER:zg,DRAGLEAVE:jg,DRAGEXIT:Ag,DRAGOUT:Og,DRAGEND:zc,CONTEXTMENU:Dg,CHANGE:Cr,INPUT:ot,FOCUS:So,FOCUSIN:sa,FOCUSOUT:wi,BLUR:wo,PASTE:jc,RESIZE:Ac,SCROLL:Fg,SUBMIT:Bg,POINTERSTART:xe,POINTEROVER:aa,POINTERENTER:Ng,POINTEROUT:na,POINTERMOVE:rs,POINTEREND:Oc,CHANGEINPUT:Dc,WHEEL:Fc,ANIMATIONSTART:Gg,ANIMATIONEND:Hg,ANIMATIONITERATION:Ug,TRANSITIONSTART:Xg,TRANSITIONEND:Bc,TRANSITIONRUN:Yg,TRANSITIONCANCEL:Wg,DOUBLETAB:Po,LOAD:U,getRef:Kg,BIND_CHECK_FUNCTION:Nc,BIND_CHECK_DEFAULT_FUNCTION:Gc,BIND:se,normalizeWheelEvent:Hc,default:fn});const qg={touchstart:!0,touchmove:!0,mousedown:!0,mouseup:!0,mousemove:!0},Qg={doubletab:"touchend"},Jg={doubletab:!0},ef={self(a){return a&&a.$dt&&a.$dt.is(a.target)},isAltKey(a){return a.altKey},isCtrlKey(a){return a.ctrlKey},isShiftKey(a){return a.shiftKey},isMetaKey(a){return a.metaKey||a.key=="Meta"||a.code.indexOf("Meta")>-1},isMouseLeftButton(a){return a.buttons===1},isMouseRightButton(a){return a.buttons===2},hasMouse(a){return a.pointerType==="mouse"},hasTouch(a){return a.pointerType==="touch"},hasPen(a){return a.pointerType==="pen"},preventDefault(a){return a.preventDefault(),!0},stopPropagation(a){return a.stopPropagation(),!0}};class tf extends $o{initialize(){this.destroy(),!(this._domEvents&&this.context.notEventRedefine)&&(this._domEvents||(this._domEvents=this.context.filterProps("domevent")),this._domEvents.forEach(t=>this.parseDomEvent(t)))}destroy(){this.context.notEventRedefine||this.removeEventAll()}getCallback(t){return this.context[t]||ef[t]}removeEventAll(){this.getBindings().forEach(t=>{this.removeDomEvent(t)}),this.initBindings()}removeDomEvent({eventName:t,dom:r,callback:i}){fn.removeDomEvent(r,t,i)}getBindings(){return this._bindings||this.initBindings(),this._bindings}addBinding(t){this.getBindings().push(t)}initBindings(){this._bindings=[]}matchPath(t,r){return t?t.matches(r)?t:this.matchPath(t.parentElement,r):null}hasDelegate(t,r){return this.matchPath(t.target||t.srcElement,r.delegate)}makeCallback(t,r,i){return t.delegate?this.makeDelegateCallback(t,r,i):this.makeDefaultCallback(t,r,i)}makeDefaultCallback(t,r,i){return s=>{var n=this.runEventCallback(s,t,r,i);if(Re(n))return n}}makeDelegateCallback(t,r,i){return s=>{const n=this.hasDelegate(s,t);if(n){s.$dt=be.create(n);var o=this.runEventCallback(s,t,r,i);if(Re(o))return o}}}runEventCallback(t,r,i,s){const n=this.context;if(t.xy=fn.posXY(t),r.beforeMethods.length&&r.beforeMethods.every(l=>this.getCallback(l.target).call(n,t,l.param)),this.checkEventType(t,r)){var o=s(t,t.$dt,t.xy);return o!==!1&&r.afterMethods.length&&r.afterMethods.forEach(l=>this.getCallback(l.target).call(n,t,l.param)),o}}checkEventType(t,r){const i=this.context;var s=!0;r.codes.length&&(s=(t.code?r.codes.indexOf(t.code.toLowerCase())>-1:!1)||(t.key?r.codes.indexOf(t.key.toLowerCase())>-1:!1));var n=!0;return r.checkMethodList.length&&(n=r.checkMethodList.every(o=>{var l=this.getCallback(o);return ye(l)&&l?l.call(i,t):Re(l)?!!l:!0})),s&&n}getDefaultDomElement(t){const r=this.context;let i;return t?i=r.refs[t]||r[t]||window[t]:i=r.el||r.$el||r.$root,i instanceof be?i.getElement():i}getRealEventName(t){return Qg[t]||t}getCustomEventName(t){return Jg[t]?t:""}getDefaultEventObject(t,r,i,s,n){const o={eventName:this.getRealEventName(t),customEventName:this.getCustomEventName(t),callback:n},[l,c,...h]=s.args;return o.dom=this.getDefaultDomElement(r),o.delegate=h.join(Mc),o.beforeMethods=[],o.afterMethods=[],o.codes=[],o.checkMethodList=[],s.pipes.forEach(d=>{var k,C;if(d.type==="function")switch(d.func){case"debounce":var p=+(((k=d.args)==null?void 0:k[0])||0);o.callback=kt(n,p);break;case"throttle":var u=+(((C=d.args)==null?void 0:C[0])||0);o.callback=ur(n,u);break;case"before":var m=d.args[0].split(" "),[$,S]=m;o.beforeMethods.push({target:$,param:S});break;case"after":var m=d.args[0].split(" "),[$,S]=m;o.afterMethods.push({target:$,param:S});break}else if(d.type==="keyword"){const z=`${d.value}`;this.getCallback(z)?o.checkMethodList.push(z):o.codes.push(z.toLowerCase())}}),o}addDomEvent(t,r,i){t.callback=this.makeCallback(t,r,i),this.addBinding(t);var s=!1;r.pipes.forEach(n=>{if(n.type==="keyword")switch(n.value){case"capture":s=!0;break}}),qg[t.eventName]&&(s={passive:!0,capture:s}),t.dom&&fn.addDomEvent(t.dom,t.eventName,t.callback,s)}makeCustomEventCallback(t,r,i){if(t.customEventName==="doubletab"){var s=300;return r.pipes.forEach(n=>{var o;if(n.type==="function")switch(n.func){case"delay":s=+(((o=n.args)==null?void 0:o[0])||0);break}}),(...n)=>{this.doubleTab?(performance.now()-this.doubleTab.time<s&&i(...n),this.doubleTab=null):this.doubleTab={time:performance.now()}}}return i}bindingDomEvent([t,r,...i],s,n){let o=this.getDefaultEventObject(t,r,i,s,n);o.callback=this.makeCustomEventCallback(o,s,o.callback),this.addDomEvent(o,s,o.callback)}getEventNames(t){let r=[];return t.split(un).forEach(i=>{var s=i.split(un);r.push.apply(r,s)}),r}parseDomEvent(t){const r=this.context;var i=t.args;if(i){var s=this.getEventNames(i[0]),n=r[t.originalMethod].bind(r);for(let o=0,l=s.length;o<l;o++)i[0]=s[o],this.bindingDomEvent(i,t,n)}}}const rf=(a,t)=>{if(ft(t))switch(a){case"width":case"height":case"top":case"left":case"right":case"bottom":return t+"px"}return t},Xc=(a,t,r)=>{if(t==="cssText"){a.cssText(r);return}else if(t==="style"){if(typeof r!="string"){const n={};Object.entries(r).forEach(([o,l])=>{n[o]=rf(o,l)}),a.css(n)}return}else if(t==="class"){if(Array.isArray(r))a.addClass(...r.filter(Boolean));else if(Wr(r)){const n=Object.keys(r);for(var i=0,s=n.length;i<s;i++){const o=n[i],l=r[o];a.toggleClass(o,l)}}else a.el.className=r;return}else if(t==="callback"&&typeof r=="function"){r();return}typeof r=="undefined"?a.removeAttr(t):a.el.nodeName==="TEXTAREA"&&t==="value"||t==="text"||t==="textContent"?a.text(r):t==="innerHTML"||t==="html"?a.html(r):t==="htmlDiff"?a.updateDiff(r):t==="svgDiff"?a.updateSVGDiff(r):t==="value"?a.val(r):a.attr(t,r)};class sf extends $o{load(...t){this.bindData(...t)}async bindLocalValue(t){let r=this.context.refBindVariables;t&&this.context.refBindVariables[t]&&(r={[t]:this.context.refBindVariables[t]}),Object.values(r).forEach(async i=>{const s=i.callback;let n=this.context.refs[i.ref];if(n){const c=await s.call(this.context);if(!c)return;const h=Object.keys(c);for(var o=0,l=h.length;o<l;o++){const d=h[o],p=c[d];Xc(n,d,p)}}})}async bindData(...t){var i;this._bindMethods||(this._bindMethods=this.context.filterProps("bind")),await this.bindLocalValue(...t);const r=(i=this._bindMethods)==null?void 0:i.filter(s=>t.length?t.indexOf(s.args[0])>-1:!0);await(r==null?void 0:r.forEach(async s=>{const n=this.context[s.originalMethod];let o=null;s.pipes.forEach(m=>{m.type==="keyword"&&(o=this.getRef(`${m.value}`))});let l=Gc;typeof o=="string"&&o!==""?l=Nc(o):typeof o=="function"&&(l=o);const c=s.args[0];let h=this.context.refs[c];const d=typeof l=="function"&&l.call(this.context);if(h&&d){const m=await n.call(this.context,...t);if(!m)return;const $=Object.keys(m);for(var p=0,u=$.length;p<u;p++){const S=$[p],k=m[S];Xc(h,S,k)}}}))}destroy(){this._bindMethods=void 0}}class af extends $o{initialize(){this.destroy(),this._callbacks||(this._callbacks=this.context.filterProps("callback")),this._callbacks.forEach(t=>this.parseCallback(t))}destroy(){this.context.notEventRedefine||this.removeCallbackAll()}getCallback(t){return this.context[t]}removeCallbackAll(){this.getBindings().forEach(t=>{this.removeCallback(t)}),this.initBindings()}removeCallback({requestId:t}){cancelAnimationFrame(t)}getBindings(){return this._bindings||this.initBindings(),this._bindings}addBinding(t){this.getBindings().push(t)}initBindings(){this._bindings=[]}makeCallback(t,r){const i=t.callback,s=n=>{i(n),t.requestId=requestAnimationFrame(s)};return()=>{t.requestId=requestAnimationFrame(s)}}addCallback(t,r){const i=this.makeCallback(t,r);this.addBinding(t),i()}bindingCallback(t,r){const i={eventName:t.args[0],callback:r};i.codes=[],i.checkMethodList=[],t.pipes.forEach(s=>{var l,c;if(s.type==="function")switch(s.func){case"debounce":var n=+(((l=s.args)==null?void 0:l[0])||0);i.callback=kt(r,n);break;case"throttle":var o=+(((c=s.args)==null?void 0:c[0])||0);i.callback=ur(r,o);break}else if(s.type==="keyword"){const h=`${s.value}`;this.getCallback(h)?i.checkMethodList.push(h):i.codes.push(h.toLowerCase())}}),this.addCallback(i,t)}parseCallback(t){const r=this.context;var i=t.args;if(i){var s=r[t.originalMethod].bind(r);this.bindingCallback(t,s)}}}const mn="ref",nf="bind",of="load",Yc=be.create("div"),lf=`[${mn}]`,Co="refclass",cf=`[${Co}]`;class hf{constructor(t,r){this.state={},this.prevState={},this.refs={},this.refLoadVariables={},this.refBindVariables={},this.children={},this._bindings=[],this.id=xc(),this.handlers=this.initializeHandler(),this._localTimestamp=0,this.initializeProperty(t,r),this.initComponents()}get _timestamp(){return this._localTimestamp++}get target(){return this.$el.el}initializeProperty(t,r={}){this.opt=t||{},this.parent=this.opt,this.props=r,this.source=xc(),this.sourceName=this.constructor.name}initComponents(){this.childComponents=this.components()}initializeHandler(){return[new sf(this),new tf(this),new af(this)]}initState(){return{}}setState(t={},r=!0){this.prevState=this.state,this.state=Object.assign({},this.state,t),r&&this.load()}toggleState(t,r=!0){this.setState({[t]:!this.state[t]},r)}apply(t){return Dp(t)}_reload(t,r=null){r&&this.render(r),this.props=t,this.state={},this.setState(this.initState(),!1),this.refresh(!0)}render(t){this.$el=this.parseTemplate(this.template()),this.refs.$el=this.$el,t&&t.append(this.$el),this.load(),this.afterRender()}initialize(){this.state=this.initState()}afterRender(){}components(){return{}}getRef(...t){const r=t.join("");return this.refs[r]}parseTemplate(t,r){Array.isArray(t)&&(t=t.join("")),t=t.trim();const i=Yc.html(t).children();for(var s=0,n=i.length;s<n;s++){const p=i[s];var o=p.attr(mn);o&&(this.refs[o]=p);for(var l=p.$$(lf),c={},h=0,d=l.length;h<d;h++){const u=l[h],m=u.attr(mn);c[m]?console.warn(`${o} is duplicated. - ${this.sourceName}`,this):c[m]=!0,this.refs[m]=u;const $=u.attr(of),S=Ts($),k=u.attr(nf),C=Ts(k);$&&ye(S)&&(this.refLoadVariables[m]={key:$,ref:m,callback:S}),k&&ye(C)&&(this.refBindVariables[m]={key:k,ref:m,callback:C})}}return r?Yc.createChildrenFragment():i[0]}parsePropertyInfo(t){let r={};for(var i of t.el.attributes)if(Op(i.nodeName)){const n=Ts(i.nodeName);Wr(n)?r=Object.assign(r,n):r[i.nodeName]=Ts(i.nodeValue)}else r[i.nodeName]=Ts(i.nodeValue);const s=t.html();return s&&(r.content=s,r.contentChildren=this.parseContent(r.content)),r}parseSourceName(t){return t.parent?[t.sourceName,...this.parseSourceName(t.parent)]:[t.sourceName]}getEventMachineComponent(t){var r=Np(t)||this.childComponents[t];return r}createInstanceForComponent(t,r,i){return t.__proto__.name==="ProxyComponent"?new t({target:r,props:i}):new t(this,i)}renderComponent({$dom:t,refName:r,component:i,props:s}){var o;var n=null;this.children[r]?(n=this.children[r],n.__timestamp=this._localTimestamp,n._reload(s)):(n=this.createInstanceForComponent(i,t.$parent.el,s),n.__timestamp=this._localTimestamp,this.children[r||n.id]=n,ye(n.render)&&n.render()),n.renderTarget?((o=n.$el)==null||o.appendTo(n.renderTarget),t.remove()):n.$el?t.replace(n.$el):t.remove()}parseContent(t,r=[]){return be.create("div").html(t).children().map(i=>this._getComponentInfo(i)).filter(i=>r.length===0?!0:r.includes(i.refClass))}_getComponentInfo(t){const r=t.attr(Co),i=this.getEventMachineComponent(r);if(i){let s=this.parsePropertyInfo(t),n=t.attr(mn);return{$dom:t,refClass:r,props:s,refName:n||s.ref,component:i}}else return{notUsed:!0,$dom:t}}getComponentInfoList(t){if(!t)return[];const r=[];return t.$$(cf).filter(s=>s.path().filter(n=>n.attr(Co)).length===1).forEach(s=>{r.push(this._getComponentInfo(s))}),r}parseComponent(){const t=this.$el;this.getComponentInfoList(t).forEach(i=>{i.notUsed?i.$dom.remove():this.renderComponent(i)}),ra(this.children,(i,s)=>{s.__timestamp!==this._localTimestamp&&s.clean()})}clean(){if(this.$el&&!this.$el.hasParent())return ra(this.children,(t,r)=>{ye(r==null?void 0:r.clean)&&r.clean()}),this.destroy(),this.$el=null,!0}refresh(){this.load()}_afterLoad(){this._timestamp,this.runHandlers("initialize"),this.bindData(),this.parseComponent()}async loadLocalValue(t){let r=this.refLoadVariables;t&&this.refLoadVariables[t]&&(r={[t]:this.refLoadVariables[t]}),Object.keys(r).forEach(async i=>{const s=this.refLoadVariables[i],n=s.domdiff;var o=await s.callback.call(this);Array.isArray(o)&&(o=o.join(""));const l=this.parseTemplate(o,!0);n?this.refs[s.ref].htmlDiff(l):this.refs[s.ref].html(l)})}async load(...t){this._loadMethods||(this._loadMethods=this.filterProps("load")),await this.loadLocalValue(...t),await this._loadMethods.filter(i=>t.length===0?!0:i.args[0]===t[0]).forEach(async i=>{const[s,...n]=i.args,o=!!i.keys.domdiff,l=this.refs[s];if(l){var c=await this[i.originalMethod].call(this,...n);Array.isArray(c)&&(c=c.join(""));const h=this.parseTemplate(c,!0);o?l.htmlDiff(h):l&&l.html(h)}}),this._afterLoad()}runHandlers(t="run",...r){this.handlers.forEach(i=>i[t](...r))}bindData(...t){this.runHandlers("load",...t)}template(){return null}eachChildren(t){!ye(t)||ra(this.children,(r,i)=>{t(i)})}rerender(){var t=this.$el.parent();this.destroy(),this.render(t)}destroy(){this.eachChildren(t=>{t.destroy()}),this.runHandlers("destroy"),this.$el&&this.$el.remove(),this.$el=null,this.refs={},this.children={},Object.values(this.refLoadVariables).forEach(t=>{bo(t.key,!0)}),Object.values(this.refBindVariables).forEach(t=>{bo(t.key,!0)}),this.refLoadVariables={},this.refBindVariables={}}collectProps(){return this.__cachedMethodList||(this.__cachedMethodList=or(this,t=>Ji.check(t)).map(t=>Ji.parse(t))),this.__cachedMethodList}filterProps(t){return this.collectProps().filter(r=>r.method===t)}}var li=1e-6,er=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var a=0,t=arguments.length;t--;)a+=arguments[t]*arguments[t];return Math.sqrt(a)});function Wc(){var a=new er(9);return er!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function ko(a,t,r){var i=t[0],s=t[1],n=t[2],o=t[3],l=t[4],c=t[5],h=t[6],d=t[7],p=t[8],u=r[0],m=r[1],$=r[2],S=r[3],k=r[4],C=r[5],z=r[6],L=r[7],R=r[8];return a[0]=u*i+m*o+$*h,a[1]=u*s+m*l+$*d,a[2]=u*n+m*c+$*p,a[3]=S*i+k*o+C*h,a[4]=S*s+k*l+C*d,a[5]=S*n+k*c+C*p,a[6]=z*i+L*o+R*h,a[7]=z*s+L*l+R*d,a[8]=z*n+L*c+R*p,a}function df(a,t){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=t[0],a[7]=t[1],a[8]=1,a}function uf(a,t){var r=Math.sin(t),i=Math.cos(t);return a[0]=i,a[1]=r,a[2]=0,a[3]=-r,a[4]=i,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a}function pf(a,t){return a[0]=t[0],a[1]=0,a[2]=0,a[3]=0,a[4]=t[1],a[5]=0,a[6]=0,a[7]=0,a[8]=1,a}function St(){var a=new er(16);return er!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a}function Pi(a,t,r,i,s,n,o,l,c,h,d,p,u,m,$,S){var k=new er(16);return k[0]=a,k[1]=t,k[2]=r,k[3]=i,k[4]=s,k[5]=n,k[6]=o,k[7]=l,k[8]=c,k[9]=h,k[10]=d,k[11]=p,k[12]=u,k[13]=m,k[14]=$,k[15]=S,k}function Kc(a,t){if(a===t){var r=t[1],i=t[2],s=t[3],n=t[6],o=t[7],l=t[11];a[1]=t[4],a[2]=t[8],a[3]=t[12],a[4]=r,a[6]=t[9],a[7]=t[13],a[8]=i,a[9]=n,a[11]=t[14],a[12]=s,a[13]=o,a[14]=l}else a[0]=t[0],a[1]=t[4],a[2]=t[8],a[3]=t[12],a[4]=t[1],a[5]=t[5],a[6]=t[9],a[7]=t[13],a[8]=t[2],a[9]=t[6],a[10]=t[10],a[11]=t[14],a[12]=t[3],a[13]=t[7],a[14]=t[11],a[15]=t[15];return a}function It(a,t){var r=t[0],i=t[1],s=t[2],n=t[3],o=t[4],l=t[5],c=t[6],h=t[7],d=t[8],p=t[9],u=t[10],m=t[11],$=t[12],S=t[13],k=t[14],C=t[15],z=r*l-i*o,L=r*c-s*o,R=r*h-n*o,j=i*c-s*l,X=i*h-n*l,Z=s*h-n*c,q=d*S-p*$,ue=d*k-u*$,de=d*C-m*$,me=p*k-u*S,fe=p*C-m*S,je=u*C-m*k,ee=z*je-L*fe+R*me+j*de-X*ue+Z*q;return ee?(ee=1/ee,a[0]=(l*je-c*fe+h*me)*ee,a[1]=(s*fe-i*je-n*me)*ee,a[2]=(S*Z-k*X+C*j)*ee,a[3]=(u*X-p*Z-m*j)*ee,a[4]=(c*de-o*je-h*ue)*ee,a[5]=(r*je-s*de+n*ue)*ee,a[6]=(k*R-$*Z-C*L)*ee,a[7]=(d*Z-u*R+m*L)*ee,a[8]=(o*fe-l*de+h*q)*ee,a[9]=(i*de-r*fe-n*q)*ee,a[10]=($*X-S*R+C*z)*ee,a[11]=(p*R-d*X-m*z)*ee,a[12]=(l*ue-o*me-c*q)*ee,a[13]=(r*me-i*ue+s*q)*ee,a[14]=(S*L-$*j-k*z)*ee,a[15]=(d*j-p*L+u*z)*ee,a):null}function Tt(a,t,r){var i=t[0],s=t[1],n=t[2],o=t[3],l=t[4],c=t[5],h=t[6],d=t[7],p=t[8],u=t[9],m=t[10],$=t[11],S=t[12],k=t[13],C=t[14],z=t[15],L=r[0],R=r[1],j=r[2],X=r[3];return a[0]=L*i+R*l+j*p+X*S,a[1]=L*s+R*c+j*u+X*k,a[2]=L*n+R*h+j*m+X*C,a[3]=L*o+R*d+j*$+X*z,L=r[4],R=r[5],j=r[6],X=r[7],a[4]=L*i+R*l+j*p+X*S,a[5]=L*s+R*c+j*u+X*k,a[6]=L*n+R*h+j*m+X*C,a[7]=L*o+R*d+j*$+X*z,L=r[8],R=r[9],j=r[10],X=r[11],a[8]=L*i+R*l+j*p+X*S,a[9]=L*s+R*c+j*u+X*k,a[10]=L*n+R*h+j*m+X*C,a[11]=L*o+R*d+j*$+X*z,L=r[12],R=r[13],j=r[14],X=r[15],a[12]=L*i+R*l+j*p+X*S,a[13]=L*s+R*c+j*u+X*k,a[14]=L*n+R*h+j*m+X*C,a[15]=L*o+R*d+j*$+X*z,a}function mt(a,t,r){var i=r[0],s=r[1],n=r[2],o,l,c,h,d,p,u,m,$,S,k,C;return t===a?(a[12]=t[0]*i+t[4]*s+t[8]*n+t[12],a[13]=t[1]*i+t[5]*s+t[9]*n+t[13],a[14]=t[2]*i+t[6]*s+t[10]*n+t[14],a[15]=t[3]*i+t[7]*s+t[11]*n+t[15]):(o=t[0],l=t[1],c=t[2],h=t[3],d=t[4],p=t[5],u=t[6],m=t[7],$=t[8],S=t[9],k=t[10],C=t[11],a[0]=o,a[1]=l,a[2]=c,a[3]=h,a[4]=d,a[5]=p,a[6]=u,a[7]=m,a[8]=$,a[9]=S,a[10]=k,a[11]=C,a[12]=o*i+d*s+$*n+t[12],a[13]=l*i+p*s+S*n+t[13],a[14]=c*i+u*s+k*n+t[14],a[15]=h*i+m*s+C*n+t[15]),a}function Br(a,t,r){var i=r[0],s=r[1],n=r[2];return a[0]=t[0]*i,a[1]=t[1]*i,a[2]=t[2]*i,a[3]=t[3]*i,a[4]=t[4]*s,a[5]=t[5]*s,a[6]=t[6]*s,a[7]=t[7]*s,a[8]=t[8]*n,a[9]=t[9]*n,a[10]=t[10]*n,a[11]=t[11]*n,a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a}function gf(a,t,r,i){var s=i[0],n=i[1],o=i[2],l=Math.hypot(s,n,o),c,h,d,p,u,m,$,S,k,C,z,L,R,j,X,Z,q,ue,de,me,fe,je,ee,Be;return l<li?null:(l=1/l,s*=l,n*=l,o*=l,c=Math.sin(r),h=Math.cos(r),d=1-h,p=t[0],u=t[1],m=t[2],$=t[3],S=t[4],k=t[5],C=t[6],z=t[7],L=t[8],R=t[9],j=t[10],X=t[11],Z=s*s*d+h,q=n*s*d+o*c,ue=o*s*d-n*c,de=s*n*d-o*c,me=n*n*d+h,fe=o*n*d+s*c,je=s*o*d+n*c,ee=n*o*d-s*c,Be=o*o*d+h,a[0]=p*Z+S*q+L*ue,a[1]=u*Z+k*q+R*ue,a[2]=m*Z+C*q+j*ue,a[3]=$*Z+z*q+X*ue,a[4]=p*de+S*me+L*fe,a[5]=u*de+k*me+R*fe,a[6]=m*de+C*me+j*fe,a[7]=$*de+z*me+X*fe,a[8]=p*je+S*ee+L*Be,a[9]=u*je+k*ee+R*Be,a[10]=m*je+C*ee+j*Be,a[11]=$*je+z*ee+X*Be,t!==a&&(a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a)}function ff(a,t,r){var i=Math.sin(r),s=Math.cos(r),n=t[4],o=t[5],l=t[6],c=t[7],h=t[8],d=t[9],p=t[10],u=t[11];return t!==a&&(a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a[4]=n*s+h*i,a[5]=o*s+d*i,a[6]=l*s+p*i,a[7]=c*s+u*i,a[8]=h*s-n*i,a[9]=d*s-o*i,a[10]=p*s-l*i,a[11]=u*s-c*i,a}function mf(a,t,r){var i=Math.sin(r),s=Math.cos(r),n=t[0],o=t[1],l=t[2],c=t[3],h=t[8],d=t[9],p=t[10],u=t[11];return t!==a&&(a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a[0]=n*s-h*i,a[1]=o*s-d*i,a[2]=l*s-p*i,a[3]=c*s-u*i,a[8]=n*i+h*s,a[9]=o*i+d*s,a[10]=l*i+p*s,a[11]=c*i+u*s,a}function Zc(a,t,r){var i=Math.sin(r),s=Math.cos(r),n=t[0],o=t[1],l=t[2],c=t[3],h=t[4],d=t[5],p=t[6],u=t[7];return t!==a&&(a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a[0]=n*s+h*i,a[1]=o*s+d*i,a[2]=l*s+p*i,a[3]=c*s+u*i,a[4]=h*s-n*i,a[5]=d*s-o*i,a[6]=p*s-l*i,a[7]=u*s-c*i,a}function ut(a,t){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=t[0],a[13]=t[1],a[14]=t[2],a[15]=1,a}function Nr(a,t){return a[0]=t[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=t[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=t[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function qc(a,t,r){var i=r[0],s=r[1],n=r[2],o=Math.hypot(i,s,n),l,c,h;return o<li?null:(o=1/o,i*=o,s*=o,n*=o,l=Math.sin(t),c=Math.cos(t),h=1-c,a[0]=i*i*h+c,a[1]=s*i*h+n*l,a[2]=n*i*h-s*l,a[3]=0,a[4]=i*s*h-n*l,a[5]=s*s*h+c,a[6]=n*s*h+i*l,a[7]=0,a[8]=i*n*h+s*l,a[9]=s*n*h-i*l,a[10]=n*n*h+c,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}function Qc(a,t){var r=Math.sin(t),i=Math.cos(t);return a[0]=i,a[1]=r,a[2]=0,a[3]=0,a[4]=-r,a[5]=i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Ci(a,t){return a[0]=t[12],a[1]=t[13],a[2]=t[14],a}function vf(a,t){var r=t[0],i=t[1],s=t[2],n=t[4],o=t[5],l=t[6],c=t[8],h=t[9],d=t[10];return a[0]=Math.hypot(r,i,s),a[1]=Math.hypot(n,o,l),a[2]=Math.hypot(c,h,d),a}function Jc(a,t){var r=new er(3);vf(r,t);var i=1/r[0],s=1/r[1],n=1/r[2],o=t[0]*i,l=t[1]*s,c=t[2]*n,h=t[4]*i,d=t[5]*s,p=t[6]*n,u=t[8]*i,m=t[9]*s,$=t[10]*n,S=o+d+$,k=0;return S>0?(k=Math.sqrt(S+1)*2,a[3]=.25*k,a[0]=(p-m)/k,a[1]=(u-c)/k,a[2]=(l-h)/k):o>d&&o>$?(k=Math.sqrt(1+o-d-$)*2,a[3]=(p-m)/k,a[0]=.25*k,a[1]=(l+h)/k,a[2]=(u+c)/k):d>$?(k=Math.sqrt(1+d-o-$)*2,a[3]=(u-c)/k,a[0]=(l+h)/k,a[1]=.25*k,a[2]=(p+m)/k):(k=Math.sqrt(1+$-o-d)*2,a[3]=(l-h)/k,a[0]=(u+c)/k,a[1]=(p+m)/k,a[2]=.25*k),a}function yf(a,t,r,i,s){var n=1/Math.tan(t/2),o;return a[0]=n/r,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=n,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,s!=null&&s!==1/0?(o=1/(i-s),a[10]=(s+i)*o,a[14]=2*s*i*o):(a[10]=-1,a[14]=-2*i),a}var bf=yf;function ci(){var a=new er(3);return er!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function Ft(a){var t=new er(3);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t}function $f(a){var t=a[0],r=a[1],i=a[2];return Math.hypot(t,r,i)}function Ee(a,t,r){var i=new er(3);return i[0]=a,i[1]=t,i[2]=r,i}function we(a,t,r){return a[0]=t[0]+r[0],a[1]=t[1]+r[1],a[2]=t[2]+r[2],a}function Te(a,t,r){return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],a}function ki(a,t,r){return a[0]=t[0]*r[0],a[1]=t[1]*r[1],a[2]=t[2]*r[2],a}function xf(a,t,r){return a[0]=t[0]/r[0],a[1]=t[1]/r[1],a[2]=t[2]/r[2],a}function Zr(a,t){return a[0]=Math.floor(t[0]),a[1]=Math.floor(t[1]),a[2]=Math.floor(t[2]),a}function Bt(a,t){var r=t[0]-a[0],i=t[1]-a[1],s=t[2]-a[2];return Math.hypot(r,i,s)}function At(a,t){return a[0]=-t[0],a[1]=-t[1],a[2]=-t[2],a}function _f(a,t){var r=t[0],i=t[1],s=t[2],n=r*r+i*i+s*s;return n>0&&(n=1/Math.sqrt(n)),a[0]=t[0]*n,a[1]=t[1]*n,a[2]=t[2]*n,a}function Sf(a,t){return a[0]*t[0]+a[1]*t[1]+a[2]*t[2]}function To(a,t,r){var i=t[0],s=t[1],n=t[2],o=r[0],l=r[1],c=r[2];return a[0]=s*c-n*l,a[1]=n*o-i*c,a[2]=i*l-s*o,a}function ne(a,t,r,i){var s=t[0],n=t[1],o=t[2];return a[0]=s+i*(r[0]-s),a[1]=n+i*(r[1]-n),a[2]=o+i*(r[2]-o),a}function Ye(a,t,r){var i=t[0],s=t[1],n=t[2],o=r[3]*i+r[7]*s+r[11]*n+r[15];return o=o||1,a[0]=(r[0]*i+r[4]*s+r[8]*n+r[12])/o,a[1]=(r[1]*i+r[5]*s+r[9]*n+r[13])/o,a[2]=(r[2]*i+r[6]*s+r[10]*n+r[14])/o,a}function Mo(a,t){var r=a[0],i=a[1],s=a[2],n=t[0],o=t[1],l=t[2];return Math.abs(r-n)<=li*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(i-o)<=li*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(s-l)<=li*Math.max(1,Math.abs(s),Math.abs(l))}var eh=xf,he=Bt,wf=$f;(function(){var a=ci();return function(t,r,i,s,n,o){var l,c;for(r||(r=3),i||(i=0),s?c=Math.min(s*r+i,t.length):c=t.length,l=i;l<c;l+=r)a[0]=t[l],a[1]=t[l+1],a[2]=t[l+2],n(a,a,o),t[l]=a[0],t[l+1]=a[1],t[l+2]=a[2];return t}})();function Pf(){var a=new er(4);return er!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0,a[3]=0),a}function Cf(a,t){var r=t[0],i=t[1],s=t[2],n=t[3],o=r*r+i*i+s*s+n*n;return o>0&&(o=1/Math.sqrt(o)),a[0]=r*o,a[1]=i*o,a[2]=s*o,a[3]=n*o,a}(function(){var a=Pf();return function(t,r,i,s,n,o){var l,c;for(r||(r=4),i||(i=0),s?c=Math.min(s*r+i,t.length):c=t.length,l=i;l<c;l+=r)a[0]=t[l],a[1]=t[l+1],a[2]=t[l+2],a[3]=t[l+3],n(a,a,o),t[l]=a[0],t[l+1]=a[1],t[l+2]=a[2],t[l+3]=a[3];return t}})();function Io(){var a=new er(4);return er!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a[3]=1,a}function kf(a,t,r){r=r*.5;var i=Math.sin(r);return a[0]=i*t[0],a[1]=i*t[1],a[2]=i*t[2],a[3]=Math.cos(r),a}function th(a,t){var r=Math.acos(t[3])*2,i=Math.sin(r/2);return i>li?(a[0]=t[0]/i,a[1]=t[1]/i,a[2]=t[2]/i):(a[0]=1,a[1]=0,a[2]=0),r}function Eo(a,t,r,i){var s=t[0],n=t[1],o=t[2],l=t[3],c=r[0],h=r[1],d=r[2],p=r[3],u,m,$,S,k;return m=s*c+n*h+o*d+l*p,m<0&&(m=-m,c=-c,h=-h,d=-d,p=-p),1-m>li?(u=Math.acos(m),$=Math.sin(u),S=Math.sin((1-i)*u)/$,k=Math.sin(i*u)/$):(S=1-i,k=i),a[0]=S*s+k*c,a[1]=S*n+k*h,a[2]=S*o+k*d,a[3]=S*l+k*p,a}function Tf(a,t){var r=t[0]+t[4]+t[8],i;if(r>0)i=Math.sqrt(r+1),a[3]=.5*i,i=.5/i,a[0]=(t[5]-t[7])*i,a[1]=(t[6]-t[2])*i,a[2]=(t[1]-t[3])*i;else{var s=0;t[4]>t[0]&&(s=1),t[8]>t[s*3+s]&&(s=2);var n=(s+1)%3,o=(s+2)%3;i=Math.sqrt(t[s*3+s]-t[n*3+n]-t[o*3+o]+1),a[s]=.5*i,i=.5/i,a[3]=(t[n*3+o]-t[o*3+n])*i,a[n]=(t[n*3+s]+t[s*3+n])*i,a[o]=(t[o*3+s]+t[s*3+o])*i}return a}function Mf(a,t,r,i){var s=.5*Math.PI/180;t*=s,r*=s,i*=s;var n=Math.sin(t),o=Math.cos(t),l=Math.sin(r),c=Math.cos(r),h=Math.sin(i),d=Math.cos(i);return a[0]=n*c*d-o*l*h,a[1]=o*l*d+n*c*h,a[2]=o*c*h-n*l*d,a[3]=o*c*d+n*l*h,a}var rh=Cf;(function(){var a=ci(),t=Ee(1,0,0),r=Ee(0,1,0);return function(i,s,n){var o=Sf(s,n);return o<-.999999?(To(a,t,s),wf(a)<1e-6&&To(a,r,s),_f(a,a),kf(i,a,Math.PI),i):o>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(To(a,s,n),i[0]=a[0],i[1]=a[1],i[2]=a[2],i[3]=1+o,rh(i,i))}})(),function(){var a=Io(),t=Io();return function(r,i,s,n,o,l){return Eo(a,i,o,l),Eo(t,s,n,l),Eo(r,a,t,2*l*(1-l)),r}}(),function(){var a=Wc();return function(t,r,i,s){return a[0]=i[0],a[3]=i[1],a[6]=i[2],a[1]=s[0],a[4]=s[1],a[7]=s[2],a[2]=-r[0],a[5]=-r[1],a[8]=-r[2],rh(t,Tf(t,a))}}();function If(){var a=new er(2);return er!=Float32Array&&(a[0]=0,a[1]=0),a}function Ef(a,t){var r=t[0]-a[0],i=t[1]-a[1];return Math.hypot(r,i)}function Lf(a,t){var r=a[0],i=a[1],s=t[0],n=t[1];return Math.abs(r-s)<=li*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-n)<=li*Math.max(1,Math.abs(i),Math.abs(n))}(function(){var a=If();return function(t,r,i,s,n,o){var l,c;for(r||(r=2),i||(i=0),s?c=Math.min(s*r+i,t.length):c=t.length,l=i;l<c;l+=r)a[0]=t[l],a[1]=t[l+1],n(a,a,o),t[l]=a[0],t[l+1]=a[1];return t}})();function We(a,t){return t=typeof t=="undefined"?1:t,Math.round(a*t)/t}function vn(a,t,r=100){const i=a<0?Math.floor(a/r):Math.ceil(a/r);return[t<0?Math.floor(t/r):Math.ceil(t/r),i]}function Ot(a){return a*(Math.PI/180)}function Lo(a,t=1){return a===0?0:a/t}function oa(a){var t=a*(180/Math.PI);return t<0&&(t=360+t),t}function ih(a,t,r=0){return r+t*Math.cos(Ot(a))}function sh(a,t,r=0){return r+t*Math.sin(Ot(a))}function is(a,t,r=0,i=0){return{x:ih(a,t,r),y:sh(a,t,i)}}function Yt(a,t,r=0,i=0){return Ef([a,t],[r,i])}function ah(a,t,r=0){return ne([],a,t,1+r/he(a,t))}function ce(a,t){return a.length===1?[Ye([],a[0],t)]:a.length===2?[Ye([],a[0],t),Ye([],a[1],t)]:a.length===3?[Ye([],a[0],t),Ye([],a[1],t),Ye([],a[2],t)]:a.length===4?[Ye([],a[0],t),Ye([],a[1],t),Ye([],a[2],t),Ye([],a[3],t)]:a.length===5?[Ye([],a[0],t),Ye([],a[1],t),Ye([],a[2],t),Ye([],a[3],t),Ye([],a[4],t)]:a.map(r=>Ye([],r,t))}function Vo(a,t,r,i){return[a,[t[0],a[1],t[2]],r,Math.abs(a[0]-t[0]),i]}function yn(a,t,r,i){return[[t[0],a[1],a[2]],t,r,Math.abs(a[1]-t[1]),i]}function Vf(a,t=!1){if(t===!1)return a;const[r,i,s,n,o,l,c]=a;return o?[[i[0],o[1],i[2]],[r[0],o[1],r[2]],s,n,[r[0],r[1],o[2]],l,c,t]:[i,r,s,n,o,l,c,t]}function nh(a,t){let r=a,i=t,s=!1;a[4][0]-t[4][0]>0&&(r=t,i=a,s=!0);const n=ne([],r[1],r[2],.5),o=ne([],i[0],i[3],.5);let l=[];return i[0][1]<=n[1]&&n[1]<=i[3][1]?l.push(Vo(n,o,"x",null)):i[0][1]<=r[1][1]?i[3][0]<=r[1][0]&&r[1][0]<=i[2][0]?l.push(yn(i[3],[i[3][0],r[1][1],r[1][2]],"y",null)):l.push(Vo(r[1],o,"x",i[3])):r[3][0]<=i[0][0]&&i[0][0]<=r[2][0]?l.push(yn(r[3],i[0],"y")):i[3][0]<=r[0][0]&&r[0][0]<=i[2][0]?l.push(yn([i[0][0],r[3][1],r[3][2]],i[0],"y")):i[3][0]<=r[1][0]&&r[1][0]<=i[2][0]?l.push(yn(i[3],[i[3][0],r[1][1],r[1][2]],"y")):l.push(Vo(r[2],o,"x",i[0])),l.sort((c,h)=>c[3]-h[3]),Vf([...l[0],a,t],s)}function la(a){let t=Number.MIN_SAFE_INTEGER;return a.forEach(r=>{t=Math.max(r[0],t)}),t}function ca(a){let t=Number.MIN_SAFE_INTEGER;return a.forEach(r=>{t=Math.max(r[1],t)}),t}function ha(a){let t=Number.MAX_SAFE_INTEGER;return a.forEach(r=>{t=Math.min(r[0],t)}),t}function da(a){let t=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return a.forEach(i=>{t=Math.min(i[0],t),r=Math.max(i[0],r)}),Math.round((t+r)/2)}function ua(a){let t=Number.MAX_SAFE_INTEGER;return a.forEach(r=>{t=Math.min(r[1],t)}),t}function pa(a){let t=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return a.forEach(i=>{t=Math.min(i[1],t),r=Math.max(i[1],r)}),Math.round((t+r)/2)}function ss(a,t){return oa(Math.atan2(t,a))}function bn(a,t,r){return oh({x:a[0],y:a[1]},{x:t[0],y:t[1]},{dx:r[0],dy:r[1]})}function Et(a,t){const r=St();return mt(r,r,t),Zc(r,r,Ot(a)),mt(r,r,At([],t)),r}function Rf(a,t){const r=St();return mt(r,r,t),Br(r,r,[a,a,a]),mt(r,r,At([],t)),r}function Wt(...a){const t=St();return a.forEach(r=>{Tt(t,t,r)}),t}function hi(...a){return It([],Wt(...a))}function oh(a,t,r){var i=a.x-t.x,s=a.y-t.y,n=ss(i,s),o=a.x+r.dx-t.x,l=a.y+r.dy-t.y,c=ss(o,l)-n;return c}function nt(a,t){return(ss(a,t)+180)%360}const lh=/[xy]/g;function as(){var a=new Date().getTime(),t="xxx12-xx-34xx".replace(lh,function(r){var i=(a+Math.random()*16)%16|0;return a=Math.floor(a/16),(r=="x"?i:i&3|8).toString(16)});return t}function tr(){var a=new Date().getTime(),t="idxxxxxxx".replace(lh,function(r){var i=(a+Math.random()*16)%16|0;return a=Math.floor(a/16),(r=="x"?i:i&3|8).toString(16)});return t}const Ro={B1:function(a){return a*a*a},B2:function(a){return 3*a*a*(1-a)},B3:function(a){return 3*a*(1-a)*(1-a)},B4:function(a){return(1-a)*(1-a)*(1-a)}};function zf(a,t,r,i){var s={x:a,y:t},n={x:r,y:i};return function(o){var l=s.y*Ro.B2(o)+n.y*Ro.B3(o)+Ro.B4(o);return 1-l}}function jf(a,t){let r=Math.abs(t.width*Math.sin(a))+Math.abs(t.height*Math.cos(a)),i={x:t.x+t.width/2,y:t.y+t.height/2},s=Math.sin(a-Math.PI/2)*r/2,n=Math.cos(a-Math.PI/2)*r/2;return{length:r,center:i,start:{x:i.x-n,y:i.y-s},end:{x:i.x+n,y:i.y+s}}}function Af(a,t,r){return{x:(a.x+t.x+r.x)/3,y:(a.y+t.y+r.y)/3}}const Of=/[\b\t \,\n]/g;function zo(a){return a.trim().split(Of).filter(t=>t).map(t=>+t)}var Df=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",round:We,area:vn,degreeToRadian:Ot,div:Lo,radianToDegree:oa,getXInCircle:ih,getYInCircle:sh,getXYInCircle:is,getDist:Yt,getPointBetweenVerties:ah,vertiesMap:ce,makeGuidePoint:nh,getVertiesMaxX:la,getVertiesMaxY:ca,getVertiesMinX:ha,getVertiesCenterX:da,getVertiesMinY:ua,getVertiesCenterY:pa,calculateAngle:ss,calculateAngleForVec3:bn,calculateRotationOriginMat4:Et,calculateScaleOriginMat4:Rf,calculateMatrix:Wt,calculateMatrixInverse:hi,calculateAnglePointDistance:oh,calculateAngle360:nt,uuid:as,uuidShort:tr,cubicBezier:zf,getGradientLine:jf,getCenterInTriangle:Af,normalize:zo});class ch{constructor(t){this.id=tr(),this.cachedCallback={},this.callbacks={},this.editor=t,this.promiseProxy=new Proxy(this,{get:(r,i)=>this.makePromiseEvent(i)})}getCallbacks(t){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t]}setCallbacks(t,r=[]){this.callbacks[t]=r}debug(...t){}on(t,r,i,s=0,n=0,o=!1,l=!1,c=[],h=!1){var d=r;return s>0?d=kt(r,s):n>0&&(d=ur(r,n)),c.length&&(d=Sp(d,i,c)),h&&(d=wp(d,i)),this.getCallbacks(t).push({event:t,callback:d,context:i,originalCallback:r,enableAllTrigger:o,enableSelfTrigger:l}),this.debug("add message event",t,i.sourceName),()=>{this.off(t,r)}}off(t,r){this.debug("off message event",t),arguments.length==1?this.setCallbacks(t):arguments.length==2&&this.setCallbacks(t,this.getCallbacks(t).filter(i=>i.originalCallback!==r))}offAll(t){Object.keys(this.callbacks).forEach(r=>{this.setCallbacks(r,this.getCallbacks(r).filter(i=>i.context!==t))}),this.debug("off all message",t.sourceName)}getCachedCallbacks(t){return this.getCallbacks(t)}get promise(){return this.promiseProxy}get p(){return this.promise}makePromiseEvent(t){var r=this.getCachedCallbacks(t);const i=this.source;return(...s)=>Promise.all(r.filter(n=>!n.enableSelfTrigger).filter(n=>n.enableAllTrigger||n.originalCallback.source!==i).map(n=>new Promise((o,l)=>{o(n.callback.apply(n.context,s))})))}sendMessage(t,r,...i){this.sendMessageList(t,[[r,...i]])}sendMessageList(t,r=[]){Promise.resolve().then(()=>{r.forEach(([i,...s])=>{var n=this.getCachedCallbacks(i);if(n&&n.length){const o=n.filter(l=>!l.enableSelfTrigger).filter(l=>l.enableAllTrigger||l.originalCallback.source!==t);for(const l of o){const c=l.callback.apply(l.context,s);if(Re(c)){if(c===!1)return;if(ye(c)){c();return}}}}})})}nextSendMessage(t,r,...i){Promise.resolve().then(()=>{r(...i)})}triggerMessage(t,r,...i){Promise.resolve().then(()=>{var s=this.getCachedCallbacks(r);s?s.filter(o=>o.originalCallback.source===t).forEach(o=>{o.callback.apply(o.context,i)}):console.warn(r," is not valid event")})}emit(t,...r){ye(t)?t(...r):ai(t)?this.sendMessageList(this.source,t):this.sendMessage(this.source,t,...r)}nextTick(t){this.nextSendMessage(this.source,t)}trigger(t,...r){ye(t)?t(...r):this.triggerMessage(this.source,t,...r)}}class hh extends hf{constructor(t,r={}){super(t,r);r.store?this.__storeInstance=r.store:this.__storeInstance=new ch,this.created(),this.initialize(),this.initializeStoreEvent()}createContext(){return{}}pushContext(){return this.contexts.push(this.createContext())}popContext(){return this.contexts.pop()}currentContext(){return this.contexts[this.contexts.length-1]}setStore(t){this.__storeInstance=t}get $store(){return this.__storeInstance||this.parent.$store}created(){}getRealEventName(t,r){var i=t.indexOf(r);return t.substr(i<0?0:i+r.length)}createLocalCallback(t,r){var i=r.bind(this);return i.displayName=`${this.sourceName}.${t}`,i.source=this.source,i}initializeStoreEvent(){this.filterProps("subscribe").forEach(t=>{const r=t.args.join(" "),i=[],s=[];let n=0,o=0,l=!1,c=!1,h=!1;t.pipes.forEach(p=>{var u,m,$;if(p.type==="function")switch(p.func){case"debounce":n=+(((u=p.args)==null?void 0:u[0])||0);break;case"throttle":o=+(((m=p.args)==null?void 0:m[0])||0);break;case"allTrigger":l=!0;break;case"selfTrigger":c=!0;break;case"frame":h=!0;break;case"params":const S=Ts(($=p.args)==null?void 0:$[0]);Re(S.debounce)&&(n=S.debounce),Re(S.throttle)&&(o=S.throttle),Re(S.frame)&&(h=S.frame);break}else if(p.type==="keyword"){const S=`${p.value}`;this[S]?i.push(S):s.push(S)}});const d=this[t.originalMethod];[...s,r].filter(Boolean).forEach(p=>{var u=this.createLocalCallback(p,d);this.$store.on(p,u,this,n,o,l,c,i,h)})})}destoryStoreSUBSCRIBE(){this.$store.offAll(this)}destroy(){super.destroy(),this.destoryStoreSUBSCRIBE()}rerender(){super.rerender(),this.initialize(),this.initializeStoreEvent()}emit(t,...r){this.$store.source=this.source,this.$store.sourceContext=this,this.$store.emit(t,...r)}nextTick(t,r=0){setTimeout(()=>{this.$store.nextTick(t)},r)}trigger(t,...r){this.$store.source=this.source,this.$store.trigger(t,...r)}broadcast(t,...r){Object.keys(this.children).forEach(i=>{this.children[i].trigger(t,...r),this.children[i].broadcast(t,...r)})}on(t,r,i=0,s=0,n=!1,o=!1,l=!1){this.$store.on(t,r,this.source,i,s,n,o,[],l)}off(t,r){this.$store.off(t,r,this.source)}subscribe(t,r=0,i=0){const s=`subscribe.${_c()}`,n=this.createLocalCallback(s,t);return this.$store.on(s,n,this,r,i,!1,!0),s}}const $n=(a,t)=>{const r=be.create(t.container||document.body),i=new a(t,t);return i.render(r),i};var LA="";const dh={center:50,top:0,left:0,right:100,bottom:100};class lr{}lr.CENTER="center",lr.TOP="top",lr.RIGHT="right",lr.LEFT="left",lr.BOTTOM="bottom";const Ff=/([\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi;class g{constructor(t="",r=""){this.value=t,ft(this.value)&&isNaN(this.value)&&(this.value=0),this.unit=r}[Symbol.toPrimitive](t){return t=="number"?this.value:this.toString()}static min(...t){for(var r=t.shift(),i=0,s=t.length;i<s;i++)r.value>t[i].value&&(r=t[i]);return r}static max(...t){for(var r=t.shift(),i=0,s=t.length;i<s;i++)r.value<t[i].value&&(r=t[i]);return r}static string(t){return new g(t+"","")}static number(t){return new g(+t,"number")}static px(t){return new g(+t,"px")}static em(t){return new g(+t,"em")}static percent(t){return new g(+t,"%")}static makePercent(t,r){return g.percent(t/r*100)}static deg(t){return new g(+t,"deg")}static rad(t){return new g(+t,"rad")}static turn(t){return new g(+t,"turn")}static fr(t){return new g(+t,"fr")}static second(t){return new g(+t,"s")}static ms(t){return new g(+t,"ms")}static var(t){return new g(t+"","--")}static z(){return 0}static calc(t){return new g(t,"calc")}static parse(t){if(t=t||g.number(0),ht(t)){t=t.trim();var r=t.replace(Ff,"$1 $2").split(" "),i=+r[0]==r[0];return i?new g(+r[0],r[1]):new g(r[0])}if(t instanceof g)return t;if(t.unit){if(t.unit=="%"||t.unit=="percent"){var s=0;return Re(t.percent)?s=t.percent:Re(t.value)&&(s=t.value),g.percent(s)}else if(t.unit=="px"){var s=0;return Re(t.px)?s=t.px:Re(t.value)&&(s=t.value),s}else if(t.unit=="em"){var s=0;return Re(t.em)?s=t.em:Re(t.value)&&(s=t.value),g.em(s)}else if(t.unit=="deg"){var s=0;return Re(t.deg)?s=t.deg:Re(t.value)&&(s=t.value),g.deg(s)}else if(t.unit=="turn"){var s=0;return Re(t.deg)?s=t.turn:Re(t.value)&&(s=t.value),g.turn(s)}else if(t.unit=="s"){var s=0;return Re(t.second)?s=t.second:Re(t.value)&&(s=t.value),g.second(s)}else if(t.unit=="ms"){var s=0;return Re(t.ms)?s=t.ms:Re(t.value)&&(s=t.value),g.ms(s)}else if(t.unit=="number"){var s=0;return Re(t.value)&&(s=t.value),g.number(s)}else if(t.unit=="--"){var s=0;return Re(t.value)&&(s=t.value),g.var(s)}else if(t.unit===""||t.unit==="string"){var s="";return Re(t.str)?s=t.str:Re(t.value)&&(s=t.value),g.string(s)}}return g.string(t)}toString(){return this.getUnitText()}getUnitText(){switch(this.unit){case"string":case"number":return this.value+"";case"var":return`var(--${this.value})`;case"calc":return`calc(${this.value})`;default:return this.value+this.unit}}isUnitType(t){return this.unit===t}isCalc(){return this.isUnitType("calc")}isFr(){return this.isUnitType("fr")}isPercent(){return this.isUnitType("%")}isPx(){return this.isUnitType("px")}isEm(){return this.isUnitType("em")}isDeg(){return this.isUnitType("deg")}isRad(){return this.isUnitType("rad")}isTurn(){return this.isUnitType("turn")}isSecond(){return this.isUnitType("s")}isMs(){return this.isUnitType("ms")}isNumber(){return this.isUnitType("number")}isString(){return this.isUnitType("")}isVar(){return this.isUnitType("--")}isNaN(){return ft(this.value)&&isNaN(this.value)}set(t){return this.value=t,this}add(t){return this.value+=+t,this}sub(t){return this.add(-1*t)}mul(t){return this.value*=+t,this}div(t){return this.value/=+t,this}mod(t){return this.value%=+t,this}clone(){return new g(this.value,this.unit)}getUnitName(){return this.unit==="%"?"percent":this.unit}get isAuto(){return this.value==="auto"||this.unit==="auto"}get isNotAuto(){return!this.isAuto}toJSON(){return this.toString()}rate(t=100){return this.value/t}stringToPercent(){return Re(dh[this.value])?g.percent(dh[this.value]):g.percent(0)}stringToEm(t){return this.stringToPercent().toEm(t)}stringToPx(t){return this.stringToPercent().toPx(t)}toPercent(t,r=16){if(this.isPercent())return this.clone();if(this.isPx())return g.percent(this.value*100/t);if(this.isEm())return g.percent(this.value*r*100/t);if(this.isString())return this.stringToPercent(t);if(this.isDeg())return g.percent(this.value/360*100)}toEm(t,r=16){if(this.isPercent())return g.em(this.value/100*t/r);if(this.isPx())return g.em(this.value/r);if(this.isEm())return this.clone();if(this.isString())return this.stringToEm(t)}toPx(t,r=16){if(this.isPercent())return xt(t)?this:g.px(this.value/100*t);if(this.isPx())return this.clone();if(this.isEm())return g.px(this.value/100*t/16);if(this.isString())return this.stringToPx(t);if(this.isNumber())return g.px(this.value).toPx(t)}toDeg(){if(this.isDeg())return this.clone();if(this.isTurn())return g.deg(this.value*360);if(this.isRad())return g.deg(oa(this.value))}toRad(){if(this.isRad())return this.clone();if(this.isTurn()){const t=this.toDeg();return g.rad(Ot(t.value))}else if(this.isDeg())return g.rad(Ot(this.value))}toTurn(){if(this.isTurn())return this.clone();if(this.isDeg())return g.turn(this.value/360)}toSecond(){if(this.isSecond())return this;if(this.isMs())return g.second(this.value/1e3)}toMs(){if(this.isSecond())return g.ms(this.value*1e3);if(this.isMs())return this}to(t,r,i=16){if(t==="px")return this.toPx(r,i);if(t==="%"||t==="percent")return this.toPercent(r,i);if(t==="em")return this.toEm(r,i);if(t==="deg")return this.toDeg();if(t==="turn")return this.toTurn()}toUnit(t){return new g(this.value,t)}calculate(t,r){var i=this[t];return i?i.call(this,r):this}includes(...t){return t.includes(this.value)}round(t){return new g(We(this.value,t),this.unit)}floor(){return new g(Math.floor(this.value),this.unit)}equals(t){return this.is(t.value)&&this.isUnitType(t.unit)}is(t){return this.value===t}clamp(t,r){return new g(Math.max(t,Math.min(r,this.value)),this.unit)}isZero(){return this.value===0}changeUnitValue(t,r){const i=this.unit;return g.px(t).to(i,r)}toObject(){return{value:this.value,unit:this.unit}}}g.auto=g.string("auto");const Bf=()=>!0;function jo(a,t=Bf){var r=[];let i=a.layers.length;for(let s=i;s--;){let n=a.layers[s];r.push(...jo(n.ref,t))}return t(a)&&r.push(a),r}class Ao{constructor(t={}){return this.ref=new Proxy(this,{get:(r,i)=>{var s=r[i];return ye(s)?(...n)=>s.apply(r,n):s||r.json[i]},set:(r,i,s)=>(r.json[i]!=s&&(r.json[i]=s,this.changed()),!0)}),t instanceof Ao&&(t=t.toJSON()),this.json=this.convert(Object.assign(this.getDefaultObject(),t)),this.lastChangedField={},this.lastChangedFieldKeys=[],this.cachedValue={},this.ref}getDefaultTitle(){return"Item"}getIcon(){return""}isAttribute(){return!1}isChanged(t){return this.json.timestamp!=Number(t)}changed(){this.json.timestamp=this.json._timestamp+performance.now()}get title(){return this.json.name||this.getDefaultTitle()}renameWithCount(){let t=this.json.name.split(" ");if(t.length<2)return;let r=t.pop(),i=+r;ft(i)&&isNaN(i)===!1?i++:i=r;const s=[...t,i].join(" ");this.reset({name:s})}get allLayers(){return jo(this.ref)}filteredAllLayers(t){return jo(this.ref,t)}get id(){return this.json.id}get layers(){return this.json.layers}get parent(){return this.json.parent}setParent(t){this.json.parent=t}get depth(){return this.parent?this.parent.depth+1:1}get top(){if(!this.parent)return this.ref;let t=this.parent;do{if(!t.parent)return t;t=t.parent}while(t)}get project(){return this.path.find(t=>t.is("project"))}get artboard(){return this.path.find(t=>t.is("artboard"))}get path(){if(!this.parent)return[this.ref];const t=this.parent.path;return t.push(this.ref),t}getInnerId(t=""){return this.json.id+t}is(t){return this.json?t===this.json.itemType:!1}isNot(t){return this.is(t)===!1}isSVG(){return!1}addCache(t,r){this.cachedValue[t]=r}getCache(t){return this.cachedValue[t]}computed(t,r){const s=`${`__cachedKey_${t}`}__parseValue`,n=this.json[t];return this.getCache(t)===n&&this.getCache(s)?this.getCache(s):(this.addCache(t,n),this.addCache(s,r(n,this.ref)),this.getCache(s))}editable(t){return!0}generateListNumber(){this.layers.forEach((t,r)=>{t.no=r,t.generateListNumber()})}convert(t){return t.layers&&t.layers.forEach(r=>{r.parent=this.ref}),t}setCache(){}toCloneObject(t=!0){var r=this.attrs("itemType","name","elementType","type","visible","lock","selected");return t&&(r.layers=this.json.layers.map(i=>i.clone(t))),r}clone(t=!0){var r=this.constructor,i=new r(this.toCloneObject(t));return i.setParent(this.json.parent),i}reset(t){return t.__changedId||(t.__changedId=as()),this.lastChangedField.__changedId!==t.__changedId&&(this.json=this.convert(Object.assign(this.json,t)),this.lastChangedField=t,this.lastChangedFieldKeys=Object.keys(t),this.changed()),!0}hasChangedField(...t){return t.some(r=>this.lastChangedFieldKeys.includes(r))}getDefaultObject(t={}){var r=tr();return v({id:r,_timestamp:Date.now(),_time:performance.now(),visible:!0,lock:!1,selected:!1,layers:[]},t)}attrs(...t){const r={};return t.forEach(i=>{r[i]=ve(this.json[i])}),r}hasChildren(){return this.layers.length>0}appendChild(t){return t.parent===this.ref||(this.resetMatrix(t),t.parent&&t.remove(),t.setParent(this.ref),this.json.layers.push(t),this.project.addIndexItem(t)),t}prependChildItem(t){return this.resetMatrix(t),t.parent&&t.remove(),t.setParent(this.ref),this.json.layers.unshift(t),this.project.addIndexItem(t),t}resetMatrix(t){}refreshMatrixCache(){}insertChild(t,r=0){return this.resetMatrix(t),t.parent&&t.remove(),t.setParent(this.ref),this.json.layers.splice(r,0,t),this.project.addIndexItem(t),t}appendAfter(t){const r=this.parent.findIndex(this);return this.parent.insertChild(t,r),this.project.addIndexItem(t),t}appendBefore(t){const r=this.parent.findIndex(this);return this.parent.insertChild(t,r-1),this.project.addIndexItem(t),t}setPositionInPlace(t,r){this.layers.splice(t,0,r)}toggle(t,r){xt(r)?this.json[t]=!this.json[t]:this.json[t]=!!r}isTreeItemHide(){let t=this.parent,r=[];do{if(t.is("project"))break;r.push(Boolean(t.collapsed)),t=t.parent}while(t);return Boolean(r.filter(Boolean).length)}expectJSON(t){return!(t==="parent"||xt(this.json[t]))}toJSON(){const t=this.json;let r={};return Object.keys(t).filter(i=>this.expectJSON(i)).forEach(i=>{r[i]=t[i]}),r}resize(){}copy(t=0){return this.json.parent.copyItem(this.ref,t)}findIndex(t){return this.json.layers.indexOf(t.ref)}copyItem(t,r=10){var i=t.clone();i.renameWithCount(),i.move([r,r,0]);var s=this.findIndex(t);return s>-1&&(this.json.layers.push(i),this.project.addIndexItem(i)),i}remove(){this.json.parent.removeChild(this.ref),this.project.removeIndexItem(this.ref)}removeChild(t){const r=this.findIndex(t);r>-1&&this.json.layers.splice(r,1)}hasParent(t){var r=this.json.parent.id===t;return!r&&this.json.parent.is("project")===!1?this.json.parent.hasParent(t):r}}var Nf={left_size:250,left_max_size:400,bottom_size:150,bottom_max_size:500,timeline_grid_font_color:"#ececec",timeline_line_color:"red",timeline_timeview_bottom_color:"black"},Gf={left_size:250,left_max_size:400,bottom_size:150,bottom_max_size:500,timeline_grid_font_color:"black",timeline_line_color:"#4778d4",timeline_timeview_bottom_color:"#ececec"},Hf={dark:Nf,light:Gf};class Uf{constructor(t){this.editor=t,this.configList=[],this.config=new Map}load(){const t=this.editor.loadItem("config")||{};Object.keys(t).forEach(r=>{this.config.set(r,t[r])})}get(t){var r;return this.config.has(t)===!1&&this.config.set(t,(r=this.configList.find(i=>i.key==t))==null?void 0:r.defaultValue),this.config.get(t)}set(t,r,i=!0){const s=this.config.get(t);s!==r&&(this.config.set(t,r),this.editor.emit("config:"+t,r,s),i&&this.save())}init(t,r){this.set(t,r,!1)}save(){const t={};this.configList.filter(r=>r.storage!=="none").forEach(r=>{t[r.key]=this.get(r.key)}),this.editor.saveItem("config",t)}setAll(t){Object.keys(t).forEach(r=>{this.set(r,t[r])})}getType(t){var r;return(r=this.configList.find(i=>i.key==t))==null?void 0:r.type}isType(t,r){return this.getType(t)===r}isBoolean(t){return this.isType(t,"boolean")}toggle(t){this.isBoolean(t)&&this.set(t,!this.get(t))}true(t){return this.get(t)===!0}false(t){return this.get(t)===!1}is(t,r){return this.get(t)===r}remove(t){this.config.delete(t),this.editor.emit("config:"+t)}registerConfig(t){this.config.set(t.key,t.defaultValue),this.configList.push(t)}}const Xf=1e3,ga=new Map;class Oo{static has(t){return ga.has(t)}static get(t){return ga.get(t)}static set(t,r){ga.size>Xf&&ga.clear(),ga.set(t,r)}}class kr{static parseStyle(t="50% 50% 0%"){if(Oo.has(t))return Oo.get(t);const r=t.trim().split(" ").filter(s=>s.trim());let i=null;return r.length===1?i=[r[0],r[0]].map(s=>g.parse(s)):i=r.map(s=>g.parse(s)),Oo.set(t,i),i}static scale(t,r,i){let s=kr.parseStyle(t);if(r===0&&i===0)return[0,0,0];const n=s[0].toPx(r).value,o=s[1].toPx(i).value,l=s[2].value;return[n,o,l]}static toPx(t,r,i,s=0){let[n,o,l]=kr.parseStyle(t);return n=n.toPx(r),o=o.toPx(i),l=l.toPx(s),`${n} ${o} ${l}`}}function fa(a,t,r,i,s,n,o=.1){const l=Math.hypot(s-a,n-t),c=Math.hypot(s-r,n-i),h=Math.hypot(a-r,t-i),d=l+c;return d>=h-o&&d<=h+o}function Yf(a,t,r,i,s,n,o,l,c=.1){if(fa(a,t,r,i,s,n))return!0;if(fa(a,t,r,i,o,l))return!0;if(fa(s,n,o,l,a,t))return[a,t];if(fa(s,n,o,l,r,i))return[r,i];let h=((o-s)*(t-n)-(l-n)*(a-s))/((l-n)*(r-a)-(o-s)*(i-t)),d=((r-a)*(t-n)-(i-t)*(a-s))/((l-n)*(r-a)-(o-s)*(i-t));return 0<=h&&h<=1&&0<=d&&d<=1}function ns(a=[],t,r){let i=!1;const s=a.length;for(let n=0;n<s;n++){const o=a[n],l=a[(n+1)%s];if(fa(o[0],o[1],l[0],l[1],t,r)){i=!0;break}}return i?!0:(a.forEach((n,o)=>{const[l,c]=n,[h,d]=a[(o+1)%s];(c>=r&&d<r||c<r&&d>=r)&&t<(h-l)*(r-c)/(d-c)+l&&(i=!i)}),i)}function Wf(a=[],t,r,i,s){const n=a.length;return a.some((o,l)=>{const[c,h]=o,[d,p]=a[(l+1)%n];return Yf(t,r,i,s,c,h,d,p)})}function Kf(a=[],t=[]){const r=a.length;return a.some((i,s)=>{const[n,o]=i,[l,c]=a[(s+1)%r];let h=Wf(t,n,o,l,c);return!!(h||(h=ns(a,t[0][0],t[0][1]),h))})}function wt(a,t,r,i,s="50% 50% 0px"){const n=kr.scale(s,r,i);return[[a,t,0],[a+r,t,0],[a+r,t+i,0],[a,t+i,0],[a+n[0],t+n[1],0]]}function ma(a,t=0){const r=ne([],a[0],a[1],.5),i=ne([],a[2],a[3],.5);return ah(i,r,t)}function Zf(a,t,r,i){return wt(a,t,r,i)}function va(a=[]){let t=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;const n=[],o=[];return a.forEach(l=>{l.originVerties.forEach(c=>{n.push(c[0]),o.push(c[1])})}),t=Math.min.apply(Math,n),i=Math.max.apply(Math,n),r=Math.min.apply(Math,o),s=Math.max.apply(Math,o),t===Number.MAX_SAFE_INTEGER&&(t=0),r===Number.MAX_SAFE_INTEGER&&(r=0),i===Number.MIN_SAFE_INTEGER&&(i=0),s===Number.MIN_SAFE_INTEGER&&(s=0),wt(t,r,i-t,s-r)}function qf(a=[]){let t=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;const n=[],o=[];return a.forEach(l=>{l.targetVerties.forEach(c=>{n.push(c[0]),o.push(c[1])})}),t=Math.min.apply(Math,n),i=Math.max.apply(Math,n),r=Math.min.apply(Math,o),s=Math.max.apply(Math,o),t===Number.MAX_SAFE_INTEGER&&(t=0),r===Number.MAX_SAFE_INTEGER&&(r=0),i===Number.MIN_SAFE_INTEGER&&(i=0),s===Number.MIN_SAFE_INTEGER&&(s=0),wt(t,r,i-t,s-r)}function rr(a){const t=a[0][0],r=a[0][1],i=he(a[0],a[1]),s=he(a[0],a[3]);return{x:t,left:t,y:r,top:r,width:i,height:s}}function os(a=[]){const t=[];for(var r=0;r<a.length;r++)r===0?t.push(`M ${a[r][0]} ${a[r][1]}`):t.push(`L ${a[r][0]} ${a[r][1]}`);return t.push("Z"),t.join(" ")}function uh(a){return Tr(a).filter((t,r)=>r<4)}function Tr(a){let t=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;const n=[],o=[];return a.forEach(l=>{n.push(l[0]),o.push(l[1])}),t=Math.min.apply(Math,n),i=Math.max.apply(Math,n),r=Math.min.apply(Math,o),s=Math.max.apply(Math,o),t===Number.MAX_SAFE_INTEGER&&(t=0),r===Number.MAX_SAFE_INTEGER&&(r=0),i===Number.MIN_SAFE_INTEGER&&(i=0),s===Number.MIN_SAFE_INTEGER&&(s=0),wt(t,r,i-t,s-r)}const Qf=3,Jf=Ee(0,0,0),em="x",tm="y";function rm(a,t){return Math.abs(a[0]-t[0])<1}function im(a,t){return Math.abs(a[1]-t[1])<1}class sm{constructor(t,r=Qf){this.editor=t,this.map=new Map,this.snapTargetLayers=[],this.snapDistance=r}get dist(){return this.editor.config.get("snap.distance")||this.snapDistance}get gridSize(){return this.editor.config.get("snap.grid")||50}clear(){this.snapTargetLayers=this.editor.selection.snapTargetLayers.map(t=>this.convertMatrix(t))}convertMatrix(t){const r=this.convertGuideAndPathMatrix(t),i=r.map(n=>n[0]),s=r.map(n=>n[1]);return{id:t.id,xList:i,yList:s,verties:r,rectVerties:uh(t.originVerties)}}convertGuideAndPathMatrix(t){return[...t.guideVerties]}getSnapPoints(){const t=[];return this.editor.selection.snapTargetLayersWithSelection.forEach(r=>{t.push.apply(t,this.convertGuideAndPathMatrix(r))}),t}checkX(t,r,i=0){const s=[];return t.forEach((n,o)=>{r.forEach((l,c)=>{const h=n-l,d=this.gridSize-Math.abs(l)%this.gridSize;Math.abs(h)<=i?s.push({targetX:n,sourceX:l,sourceIndex:c,targetIndex:o,dx:h}):Math.abs(d)<=i&&s.push({targetX:n,sourceX:l,sourceIndex:c,targetIndex:o,dx:d})})}),s}checkY(t,r,i=0){const s=[];return t.forEach((n,o)=>{r.forEach((l,c)=>{const h=n-l;Math.abs(h)<=i&&s.push({targetY:n,sourceY:l,sourceIndex:c,targetIndex:o,dy:h})})}),s}check(t){const r=[],i=this.dist,s=t.map(o=>o[0]),n=t.map(o=>o[1]);return this.snapTargetLayers.forEach(o=>{const l=this.checkX(o.xList,s,i)[0],c=this.checkY(o.yList,n,i)[0];r.push(Ee(l?l.dx:0,c?c.dy:0,0))}),r.find(o=>fc(o[0])||fc(o[1]))||Jf}checkPoint(t){const r=this.check([t]);return we([],t,r)}getGuidesByPointPoint(t,r){const i=[],s={};let n,o;for(let l=0,c=t.length;l<c;l++){n=t[l];const h=`${n[0]}_x`,d=`${n[1]}_y`;s[h]||(s[h]=[]),s[d]||(s[d]=[]);for(let p=0,u=r.length;p<u;p++)o=r[p],rm(n,o)&&s[h].push([n,o,em,he(n,o)]),im(n,o)&&s[d].push([n,o,tm,he(n,o)])}return Object.keys(s).forEach(l=>{if(s[l]&&s[l].length){const c=s[l].sort((u,m)=>u[3]-m[3]),[h,d,p]=c[0];i.push([h,d,p])}}),i}findGuide(t){const r=[];return this.snapTargetLayers.forEach(i=>{const s=this.getGuidesByPointPoint(t,i.verties);r.push.apply(r,s)}),r}findGuideOne(t){return[this.findGuide(t)[0]]}}function Mr(a,t){var r=a.selection.currentProject;if(r){var i=r.getSelectedTimeline();t&&t(r,i)}}var am=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Mr});function Ir(a){a.nextTick(()=>{a.emit("refreshAll")})}var nm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ir});function om(a,t={},r=null){var i=a.selection.currentProject;i||(i=a.add(a.createModel({itemType:"project"})),a.selection.selectProject(i));var s=i.appendChild(a.createModel(v({itemType:"artboard",x:300,y:200,width:375,height:667},t)));r&&(s.reset({x:0,y:0}),s.moveByCenter(r)),a.selection.select(s),Ir(a)}var lm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:om}),cm={command:"addBackgroundColor",execute:function(a,t,r=null){a.command("setAttributeForMulti","add background color",a.selection.packByValue({"background-color":t},r))}},hm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cm});const dm={linear:!0,ease:!0,"ease-in":!0,"ease-out":!0,"ease-in-out":!0},um={ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)"},Ti=[[0,0,1,1,"linear",!0],[.25,.1,.25,1,"ease",!0],[.42,0,1,1,"ease-in",!0],[0,0,.58,1,"ease-out",!0],[.47,0,.745,.715,"ease-in-sine"],[.39,.575,.565,1,"ease-out-sine"],[.445,.05,.55,.95,"ease-in-out-sine"],[.55,.085,.68,.53,"ease-in-quad"],[.25,.46,.45,.94,"ease-out-quad"],[.455,.03,.515,.955,"ease-in-out-quad"],[.55,.055,.675,.19,"ease-in-cubic"],[.215,.61,.355,1,"ease-out-cubic"],[.645,.045,.355,1,"ease-in-out-cubic"],[.895,.03,.685,.22,"ease-in-quart"],[.165,.84,.44,1,"ease-out-quart"],[.77,0,.175,1,"ease-in-out-quart"],[.6,.04,.98,.335,"ease-in-circ"],[.075,.82,.165,1,"ease-out-circ"],[.785,.135,.15,.86,"ease-in-out-circ"],[.95,.05,.795,.035,"ease-in-expo"],[.19,1,.22,1,"ease-out-expo"],[1,0,0,1,"ease-in-out-expo"],[.755,.05,.855,.06,"ease-in-quint"],[.23,1,.32,1,"ease-out-quint"],[.86,0,.07,1,"ease-in-out-quint"],[.6,-.28,.735,.045,"ease-in-back"],[.175,.885,.32,1.275,"ease-out-back"],[.68,-.55,.265,1.55,"ease-in-out-back"]],ls=a=>[...gh(um[a]||a)],ph=a=>{a=a.map(s=>Math.floor(s*100)/100);for(var t=0,r=Ti.length;t<r;t++){var i=Ti[t];if(i[0]==a[0]&&i[1]==a[1]&&i[2]==a[2]&&i[3]==a[3]&&i[5])return i[4]}return`cubic-bezier( ${a.filter((s,n)=>n<4).join(",")} )`},gh=a=>{if(typeof a=="string"){if(dm[a])return Ti.filter(r=>r[4]===a)[0];var t=a.replace("cubic-bezier","").replace("(","").replace(")","").split(",");return t=t.map(r=>parseFloat(r.trim())),t}return a},xn=(a,t,r,i)=>{var s=[a,t,r,i];return function(n){return _n(s,n)}},fh=(a,t,r)=>{var i=[a,t,r];return function(s){return yh(i,s)}},mh=(a,t)=>{var r=[a,t];return function(i){return gm(r,i)}},Do=(a,t,r,i,s)=>{var n=t(r),o=Yt(i,s,n.x,n.y);o<a.minDist&&(a.minDist=o,a.minT=r)},pm=(a=[])=>{let t=0;return a.length,a.forEach((r,i)=>{var s=a[i+1];if(!!s){var n=he(Ee(r.x,r.y,0),Ee(s.x,s.y,0));t+=n}}),t},ya=(a,t,r,i,s,n,o,l,c=1e3)=>{for(var h=xn({x:a,y:t},{x:r,y:i},{x:s,y:n},{x:o,y:l}),d=0,p=h(0),u=0;u<=c;u++){var m=u/c,$=h(m);d+=Yt(p.x,p.y,$.x,$.y),p=$}return d},Es=(a,t,r,i,s,n,o=1e3)=>{for(var l=fh({x:a,y:t},{x:r,y:i},{x:s,y:n}),c=0,h=l(0),d=0;d<=o;d++){var p=d/o,u=l(p);c+=Yt(h.x,h.y,u.x,u.y),h=u}return c},Fo=(a,t=10)=>{var r={minDist:1/0,minT:0};return function(i,s){for(var n=0;n<=t;n++)Do(r,a,n/t,i,s);for(var o=1/(t*2),l=r.minT,n=0;n<t;n++)Do(r,a,Math.max(0,l-o),i,s),Do(r,a,Math.min(1,l+o),i,s),o/=2;return r.minT}},Bo=(a,t,r,i,s=20)=>Fo(xn(a,t,r,i),s),No=(a,t,r,i=20)=>Fo(fh(a,t,r),i),Go=(a,t,r=20)=>Fo(mh(a,t),r),vh=a=>{if(a==="linear"){var r={x:0,y:0},i={x:1,y:1};return mh(r,i)}var t=gh(a),r={x:0,y:0},i={x:t[0],y:t[1]},s={x:t[2],y:t[3]},n={x:1,y:1};return xn(r,i,s,n)},Lt=(a,t,r)=>({x:a.x+(t.x-a.x)*r,y:a.y+(t.y-a.y)*r}),_n=(a,t)=>{var r=Lt(a[0],a[1],t),i=Lt(a[1],a[2],t),s=Lt(a[2],a[3],t),n=Lt(r,i,t),o=Lt(i,s,t);return Lt(n,o,t)},yh=(a,t)=>{var r=Lt(a[0],a[1],t),i=Lt(a[1],a[2],t);return Lt(r,i,t)},gm=(a,t)=>Lt(a[0],a[1],t),ba=(a,t)=>{var r=Lt(a[0],a[1],t),i=Lt(a[1],a[2],t),s=Lt(a[2],a[3],t),n=Lt(r,i,t),o=Lt(i,s,t),l=Lt(n,o,t);return{first:[a[0],r,n,l],second:[l,o,s,a[3]]}},$a=(a,t)=>{var r=Lt(a[0],a[1],t),i=Lt(a[1],a[2],t),s=Lt(r,i,t);return{first:[a[0],r,s],second:[s,i,a[2]]}},fm=(a,t=1)=>{for(var r=[];t>0;){const i=ba(a,1/t);r.push(i.first),a=i.second,t--}return r},mm=(a,t=1)=>{for(var r=[];t>0;){const i=$a(a,1/t);r.push(i.first),a=i.second,t--}return r},vm=(a,t=1)=>{var r=[];const i=1/t;for(;t>0;){const s=xa(a,i);r.push(s.first),a=s.second,t--}return r},xa=(a,t)=>{var r=Lt(a[0],a[1],t);return{first:[a[0],r],second:[r,a[1]]}},ym=a=>[Ft(a[0]),[a[0][0]+(a[1][0]-a[0][0])*.33,a[0][1]+(a[1][1]-a[0][1])*.33,0],[a[0][0]+(a[1][0]-a[0][0])*.66,a[0][1]+(a[1][1]-a[0][1])*.66,0],Ft(a[1])],Ho=a=>{const t=2/3;return[Ft(a[0]),Ee(a[0][0]+t*(a[1][0]-a[0][0]),a[0][1]+t*(a[1][1]-a[0][1]),0),Ee(a[2][0]+t*(a[1][0]-a[2][0]),a[2][1]+t*(a[1][1]-a[2][1]),0),Ft(a[2])]},bh=(a,t,r,i,s=1e3)=>{const n=ya(a[0],a[1],t[0],t[1],r[0],r[1],i[0],i[1],s);let o=10,l=n/o,c=0,h=[];const d=[a,t,r,i].map(p=>({x:p[0],y:p[1]}));do{h=[];let p=0;for(let u=0;u<=o;u++){const m=_n(d,p/n);h.push(m),p+=l}c=pm(h),o+=o*(n-c)/n,l=n/o}while(n-c>.25);return h.map(p=>Ee(p.x,p.y,0))},bm=a=>{const t=At([],a[0]),r=ki([],[3,3,3],a[1]),i=ki([],[-3,-3,-3],a[2]),s=a[3],n=we([],we([],t,r),we([],i,s));return ki([],[3,3,3],n)},$m=a=>{const t=a[0],r=ki([],[-2,-2,-2],a[1]),i=a[2],s=we([],we([],t,r),i);return ki([],[6,6,6],s)},xm=a=>{const t=we([],a[1],At([],a[0]));return ki([],[3,3,3],t)},_m=a=>{const t=bm(a),r=$m(a),i=xm(a),s=[],n=r[0]*r[0]-4*t[0]*i[0];if(!(n<0)){if(n===0){let l=-r[0]/(2*t[0]);isNaN(l)&&(l=0),0<=l&&l<=1&&s.push(l)}else if(n>0){const l=(-r[0]+Math.sqrt(n))/(2*t[0]),c=(-r[0]-Math.sqrt(n))/(2*t[0]);0<=l&&l<=1&&s.push(l),0<=c&&c<=1&&s.push(c)}}const o=r[1]*r[1]-4*t[1]*i[1];if(!(o<0)){if(o===0){let l=-r[1]/(2*t[1]);isNaN(l)&&(l=0),0<=l&&l<=1&&s.push(l)}else if(o>0){const l=(-r[1]+Math.sqrt(o))/(2*t[1]),c=(-r[1]-Math.sqrt(o))/(2*t[1]);0<=l&&l<=1&&s.push(l),0<=c&&c<=1&&s.push(c)}}return s},$h=a=>{const t=_m(a),r=a.map(i=>({x:i[0],y:i[1]}));return t.push(0,1),t.map(i=>{const{x:s,y:n}=_n(r,i);return[s,n,0]})};function Sn(a,t,r="rgba(0, 0, 0, 0)"){return Array.isArray(a)&&(a={r:a[0],g:a[1],b:a[2],a:a[3]}),t=="hex"?xh(a):t=="rgb"?wn(a,r):t=="hsl"?_h(a):a}function Sm(a,t,r="rgba(0, 0, 0, 0)"){const i=ve(a);return i.a=1,Sn(i,t,r)}function xh(a){Array.isArray(a)&&(a={r:a[0],g:a[1],b:a[2],a:a[3]});var t=a.r.toString(16);a.r<16&&(t="0"+t);var r=a.g.toString(16);a.g<16&&(r="0"+r);var i=a.b.toString(16);if(a.b<16&&(i="0"+i),a.a==1||typeof a.a=="undefined")return`#${t}${r}${i}`;{const n=Math.ceil(a.a*255);var s=n.toString(16);return n<16&&(s="0"+s),`#${t}${r}${i}${s}`}}function wn(a,t="rgba(0, 0, 0, 0)"){if(Array.isArray(a)&&(a={r:a[0],g:a[1],b:a[2],a:a[3]}),typeof a!="undefined")return a.a==1||typeof a.a=="undefined"?isNaN(a.r)?t:`rgb(${a.r},${a.g},${a.b})`:`rgba(${a.r},${a.g},${a.b},${a.a})`}function _h(a){return Array.isArray(a)&&(a={r:a[0],g:a[1],b:a[2],a:a[3]}),a.a==1||typeof a.a=="undefined"?`hsl(${a.h},${a.s}%,${a.l}%)`:`hsla(${a.h},${a.s}%,${a.l}%,${a.a})`}var wm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",format:Sn,formatWithoutAlpha:Sm,hex:xh,rgb:wn,hsl:_h});function pr(a,t){return Math.floor(Math.random()*(t-a+1))+a}function Pm(a=1){let t=[];for(var r=0;r<a;r++)t[t.length]=Sh();return t}function Sh(){return wn({r:pr(0,255),g:pr(0,255),b:pr(0,255)})}function Cm(){return wn({r:pr(0,255),g:pr(0,255),b:pr(0,255),a:pr(0,1e3)/1e3})}var km=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",randomNumber:pr,randomByCount:Pm,random:Sh,randomRGBA:Cm});function Pn(...a){return a[pr(0,a.length-1)]}function br(a){return[...Array(a)]}function Ge(a,t=""){var r=a||{};return Object.keys(r).filter(i=>Re(r[i])).map(i=>`${i}: ${r[i]}`).join(";"+t)}function Kt(a="",t=";",r=":"){a=a+"";var i={};return a===""||a.split(t).forEach(s=>{var[n,...o]=s.split(r).map(l=>l.trim());n!=""&&(i[n]=o.join(r))}),i}function pt(a){return Object.keys(a||{}).map(r=>r==="class"&&Wr(a[r])?`${r}="${cs(a[r])}"`:r==="style"&&Wr(a[r])?`${r}="${Ge(a[r])}"`:Yr(a[r])||xt(a[r])||a[r]==="undefined"?a[r]?r:"":`${r}="${a[r]}"`).join(" ")}function cs(a){return Object.keys(a).filter(t=>a[t]).map(t=>t).join(" ")}function Uo(a){return a.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}function _a(a,t,r=""){return a.map(t).join(r)}function Xo(a,t){const r=new Set([...a,...t]);return r.size===a.length&&r.size===t.length}const Mi=(a,t=30,r=30)=>{const i=ls(a);return`
        M0 ${t} 
        C 
        ${i[0]*t} ${i[1]==0?r:(1-i[1])*r},
        ${i[2]*t} ${i[3]==1?0:(1-i[3])*r},
        ${t} 0
    `},Ls=(a,t=30,r=30)=>{const i=ls(a);return`
        M 0 ${t} 
        L ${i[0]*t} ${i[1]==0?r:(1-i[1])*r}
        M ${t} 0
        L ${i[2]*t} ${i[3]==1?0:(1-i[3])*r}
    `},Tm=a=>a,Sa=(a,t=Tm)=>{const r=ve(a);return Object.keys(r).forEach(i=>{r[i]=t(r[i])}),r},wh=a=>Sa(a,Math.floor),Mm=a=>Sa(a,Math.ceil),Im=a=>Sa(a,Math.round),Em=(a,t)=>Sa(a,r=>Math.round(r/t)*t);var Lm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",randomItem:Pn,repeat:br,CSS_TO_STRING:Ge,STRING_TO_CSS:Kt,OBJECT_TO_PROPERTY:pt,OBJECT_TO_CLASS:cs,TAG_TO_STRING:Uo,mapjoin:_a,isArrayEquals:Xo,curveToPath:Mi,curveToPointLine:Ls,valueMap:Sa,objectFloor:wh,objectCeil:Mm,objectRound:Im,objectRoundTo:Em});class ir extends Ao{getDefaultObject(t={}){return v({selected:!1,layers:[]},t)}isAttribute(){return!0}toCSS(){return{}}toString(){return Ge(this.toCSS())}}class Yo extends ir{getDefaultObject(t={}){return v({itemType:"image-resource",type:"image"},t)}isGradient(){return!1}isLinear(){return!1}isImage(){return!1}hasAngle(){return!1}isUrl(){return!1}isFile(){return!1}isAttribute(){return!0}toString(){return"none"}}const Ph={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)",currentColor:"currentColor"};function Vm(a){return!!Ph[a]}function Rm(a){return Ph[a]}var Cn={isColorName:Vm,getColorByName:Rm};function kn(a){return Math.pow(a,3)>.008856?Math.pow(a,3):(a-16/116)/7.787}function Tn(a){return a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a}function Ch(a,t,r){if(arguments.length==1)var{x:a,y:t,z:r}=arguments[0];let i=a/100,s=t/100,n=r/100,o=i*3.2406+s*-1.5372+n*-.4986,l=i*-.9689+s*1.8758+n*.0415,c=i*.0557+s*-.204+n*1.057;o=Tn(o),l=Tn(l),c=Tn(c);const h=We(o*255),d=We(l*255),p=We(c*255);return{r:h,g:d,b:p}}function kh(a,t,r){if(arguments.length==1)var{l:a,a:t,b:r}=arguments[0];let i=(a+16)/116,s=t/500+i,n=i-r/200;i=kn(i),s=kn(s),n=kn(n);const o=s*95.047,l=i*100,c=n*108.883;return{x:o,y:l,z:c}}function Mn(a){return a>.008856?Math.pow(a,1/3):(7.787*a+16)/116}function Th(a,t,r){if(arguments.length==1)var{x:a,y:t,z:r}=arguments[0];let i=a/95.047,s=t/100,n=r/108.883;i=Mn(i),s=Mn(s),n=Mn(n);const o=116*s-16,l=500*(i-s),c=200*(s-n);return{l:o,a:l,b:c}}function zm(a,t,r){if(arguments.length==1)var{l:a,a:t,b:r}=arguments[0];return Ch(kh(a,t,r))}var jm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ReverseXyz:kn,ReverseRGB:Tn,XYZtoRGB:Ch,LABtoXYZ:kh,PivotXyz:Mn,XYZtoLAB:Th,LABtoRGB:zm});function Wo(a,t,r){if(arguments.length==1)var{r:a,g:t,b:r}=arguments[0];const i=a/255,s=t/255,n=r/255,o=Math.max(i,s,n),l=Math.min(i,s,n),c=o-l;var h=0;c==0?h=0:o==i?h=60*((s-n)/c%6):o==s?h=60*((n-i)/c+2):o==n&&(h=60*((i-s)/c+4)),h<0&&(h=360+h);var d=0;o==0?d=0:d=c/o;var p=o;return{h,s:d,v:p}}function Am(a,t,r){if(arguments.length==1)var{r:a,g:t,b:r}=arguments[0];const i=a/255,s=t/255,n=r/255,o=1-Math.max(i,s,n),l=(1-i-o)/(1-o),c=(1-s-o)/(1-o),h=(1-n-o)/(1-o);return{c:l,m:c,y:h,k:o}}function hs(a,t,r){if(arguments.length==1)var{r:a,g:t,b:r}=arguments[0];a/=255,t/=255,r/=255;var i=Math.max(a,t,r),s=Math.min(a,t,r),n,o,l=(i+s)/2;if(i==s)n=o=0;else{var c=i-s;switch(o=l>.5?c/(2-i-s):c/(i+s),i){case a:n=(t-r)/c+(t<r?6:0);break;case t:n=(r-a)/c+2;break;case r:n=(a-t)/c+4;break}n/=6}return{h:We(n*360),s:We(o*100),l:We(l*100)}}function Om(a,t,r){if(arguments.length==1)var{r:a,g:t,b:r}=arguments[0];return In((a+t+r)/3>90?0:255)}function In(a){return{r:a,g:a,b:a}}function Dm(a,t,r){if(arguments.length==1)var{r:a,g:t,b:r}=arguments[0];return In(Math.ceil((a+t+r)/3))}function Fm(a,t,r){if(arguments.length==1)var{r:a,g:t,b:r}=arguments[0];return In(Ih(a,t,r).y)}function Mh(a,t,r){return Math.ceil(a*.2126+t*.7152+r*.0722)}function Ih(a,t,r){if(arguments.length==1)var{r:a,g:t,b:r}=arguments[0];const i=Mh(a,t,r),s=.564*(r-i),n=.713*(a-i);return{y:i,cr:n,cb:s}}function En(a){return(a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92)*100}function Eh(a,t,r){if(arguments.length==1)var{r:a,g:t,b:r}=arguments[0];let i=a/255,s=t/255,n=r/255;i=En(i),s=En(s),n=En(n);const o=i*.4124+s*.3576+n*.1805,l=i*.2126+s*.7152+n*.0722,c=i*.0193+s*.1192+n*.9505;return{x:o,y:l,z:c}}function Bm(a,t,r){if(arguments.length==1)var{r:a,g:t,b:r}=arguments[0];return Th(Eh(a,t,r))}var Nm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",RGBtoHSV:Wo,RGBtoCMYK:Am,RGBtoHSL:hs,c:Om,gray:In,RGBtoSimpleGray:Dm,RGBtoGray:Fm,brightness:Mh,RGBtoYCrCb:Ih,PivotRGB:En,RGBtoXYZ:Eh,RGBtoLAB:Bm});function Ln(a,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?a+(t-a)*6*r:r<1/2?t:r<2/3?a+(t-a)*(2/3-r)*6:a}function Gm(a,t,r){if(arguments.length==1)var{h:a,s:t,l:r}=arguments[0];const i=Vn(a,t,r);return Wo(i.r,i.g,i.b)}function Vn(a,t,r){if(arguments.length==1)var{h:a,s:t,l:r}=arguments[0];var i,s,n;if(a/=360,t/=100,r/=100,t==0)i=s=n=r;else{var o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;i=Ln(l,o,a+1/3),s=Ln(l,o,a),n=Ln(l,o,a-1/3)}return{r:We(i*255),g:We(s*255),b:We(n*255)}}var Hm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",HUEtoRGB:Ln,HSLtoHSV:Gm,HSLtoRGB:Vn});const Um=/(#(?:[\da-f]{3}){1,2}|#(?:[\da-f]{8})|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi;function Rn(a,t="@"){return`${t}${a.startIndex}`.padEnd(10,"0")}function Xm(a){return!!Ko(a).length}function Ko(a){const t=a.match(Um);let r=[];if(!t)return r;for(var i=0,s=t.length;i<s;i++)if(t[i].indexOf("#")>-1||t[i].indexOf("rgb")>-1||t[i].indexOf("hsl")>-1)r.push({color:t[i]});else{var n=Cn.getColorByName(t[i]);n&&r.push({color:t[i],nameColor:n})}var o={next:0};return r.forEach(l=>{const c=a.indexOf(l.color,o.next);l.startIndex=c,l.endIndex=c+l.color.length,o.next=l.endIndex}),r}function Ii(a,t="@"){const r=Ko(a);return r.forEach(i=>{a=a.replace(i.color,Rn(i,t))}),{str:a,matches:r}}function Zo(a,t=","){const r=Ii(a);return r.str.split(t).map((i,s)=>(i=di(i),r.matches[s]&&(i=i.replace(Rn(r.matches[s]),r.matches[s].color)),i))}function Vs(a,t){return t.forEach(r=>{a=a.replace(Rn(r),r.color)}),a}const Ym=/^\s+|\s+$/g;function di(a){return a.replace(Ym,"")}function wa(a){if(ht(a)){if(Cn.isColorName(a)&&(a=Cn.getColorByName(a)),a.indexOf("rgb(")>-1){for(var t=a.replace("rgb(","").replace(")","").split(","),r=0,i=t.length;r<i;r++)t[r]=parseInt(di(t[r]),10);var s={type:"rgb",r:t[0],g:t[1],b:t[2],a:1};return s=v(v({},s),hs(s)),s}else if(a.indexOf("rgba(")>-1){for(var t=a.replace("rgba(","").replace(")","").split(","),r=0,i=t.length;r<i;r++)i-1==r?t[r]=parseFloat(di(t[r])):t[r]=parseInt(di(t[r]),10);var s={type:"rgb",r:t[0],g:t[1],b:t[2],a:t[3]};return s=v(v({},s),hs(s)),s}else if(a.indexOf("hsl(")>-1){for(var t=a.replace("hsl(","").replace(")","").split(","),r=0,i=t.length;r<i;r++)t[r]=parseFloat(di(t[r]));var s={type:"hsl",h:t[0],s:t[1],l:t[2],a:1};return s=v(v({},s),Vn(s)),s}else if(a.indexOf("hsla(")>-1){for(var t=a.replace("hsla(","").replace(")","").split(","),r=0,i=t.length;r<i;r++)i-1==r?t[r]=parseFloat(di(t[r])):t[r]=parseInt(di(t[r]),10);var s={type:"hsl",h:t[0],s:t[1],l:t[2],a:t[3]};return s=v(v({},s),Vn(s)),s}else if(a.indexOf("#")==0){a=a.replace("#","");var t=[],n=1;if(a.length==3)for(var r=0,i=a.length;r<i;r++){var o=a.substr(r,1);t.push(parseInt(o+o,16))}else if(a.length===8){for(var r=0,i=a.length;r<i;r+=2)t.push(parseInt(a.substr(r,2),16));n=t.pop()/255}else for(var r=0,i=a.length;r<i;r+=2)t.push(parseInt(a.substr(r,2),16));var s={type:"hex",r:t[0],g:t[1],b:t[2],a:n};return s=v(v({},s),hs(s)),s}}else if(ft(a)){if(0<=a&&a<=16777215){const l=(a&16711680)>>16,c=(a&65280)>>8,h=(a&255)>>0;var s={type:"hex",r:l,g:c,b:h,a:1};return s=v(v({},s),hs(s)),s}else if(0<=a&&a<=4294967295){const l=(a&4278190080)>>24,c=(a&16711680)>>16,h=(a&65280)>>8,d=(a&255)/255;var s={type:"hex",r:l,g:c,b:h,a:d};return s=v(v({},s),hs(s)),s}}return a}function Lh(a){ht(a)&&(a=Zo(a)),a=a.map(r=>{if(ht(r)){const i=Ii(r);let s=di(i.str).split(" ");return s[1]?s[1].indexOf("%")>-1?s[1]=parseFloat(s[1].replace(/%/,""))/100:s[1]=parseFloat(s[1]):s[1]="*",s[0]=Vs(s[0],i.matches),s}else if(Array.isArray(r))return r[1]?ht(r[1])&&(r[1].indexOf("%")>-1?r[1]=parseFloat(r[1].replace(/%/,""))/100:r[1]=+r[1]):r[1]="*",[...r]});const t=a.filter(r=>r[1]==="*").length;if(t>0){const r=a.filter(s=>s[1]!="*"&&s[1]!=1).map(s=>s[1]).reduce((s,n)=>s+n,0),i=(1-r)/t;a.forEach((s,n)=>{s[1]=="*"&&n>0&&(a.length-1==n||(s[1]=i))})}return a}var Wm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getColorIndexString:Rn,isColor:Xm,matches:Ko,convertMatches:Ii,convertMatchesArray:Zo,reverseMatches:Vs,trim:di,parse:wa,parseGradient:Lh});function Km(a,t,r,i){if(arguments.length==1)var{c:a,m:t,y:r,k:i}=arguments[0];const s=255*(1-a)*(1-i),n=255*(1-t)*(1-i),o=255*(1-r)*(1-i);return{r:s,g:n,b:o}}var Zm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CMYKtoRGB:Km});function qo(a,t,r){if(arguments.length==1)var{h:a,s:t,v:r}=arguments[0];var i=a,s=t,n=r;i>=360&&(i=0);const o=s*n,l=o*(1-Math.abs(i/60%2-1)),c=n-o;let h=[];return 0<=i&&i<60?h=[o,l,0]:60<=i&&i<120?h=[l,o,0]:120<=i&&i<180?h=[0,o,l]:180<=i&&i<240?h=[0,l,o]:240<=i&&i<300?h=[l,0,o]:300<=i&&i<360&&(h=[o,0,l]),{r:We((h[0]+c)*255),g:We((h[1]+c)*255),b:We((h[2]+c)*255)}}function qm(a,t,r){if(arguments.length==1)var{h:a,s:t,v:r}=arguments[0];const i=qo(a,t,r);return hs(i.r,i.g,i.b)}var Qm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",HSVtoRGB:qo,HSVtoHSL:qm});function Jm(a,t,r,i){if(arguments.length==1){var{y:a,cr:t,cb:r,bit:i}=arguments[0];i=i||0}const s=a+1.402*(t-i),n=a-.344*(r-i)-.714*(t-i),o=a+1.772*(r-i);return{r:Math.ceil(s),g:Math.ceil(n),b:Math.ceil(o)}}var ev=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",YCrCbtoRGB:Jm});function Qo(a,t,r=.5,i="hex"){var s=Vh(a,t,r);return Sn(s,i)}function Vh(a,t,r=.5){const i=typeof a.a=="undefined"?1:a.a,s=typeof t.a=="undefined"?1:t.a;return{r:We(a.r+(t.r-a.r)*r),g:We(a.g+(t.g-a.g)*r),b:We(a.b+(t.b-a.b)*r),a:We(i+(s-i)*r,100)}}function sr(a,t=5){if(!a)return[];typeof a=="string"&&(a=Zo(a)),a=a||[];for(var r=a.length,i=[],s=0;s<r-1;s++)for(var n=0;n<t;n++)i.push(Jo(a[s],a[s+1],n/t));return i}function Jo(a,t,r=.5,i="hex"){var s=wa(a),n=wa(t);return Qo(s,n,r,i)}function tv(a,t,r=.5,i="hex"){return Jo(a,t,r,i)}function Rh(a){return a=wa(a),(Math.round(a.r*299)+Math.round(a.g*587)+Math.round(a.b*114))/1e3}function rv(a){return Rh(a)>=128?"black":"white"}function iv(a,t=10){a=Lh(a);let r=[],i=t-(a.length-1),s=i;for(var n=1,o=a.length;n<o;n++){var l=a[n-1][0],c=a[n][0],h=n==1?a[n][1]:a[n][1]-a[n-1][1],d=n==a.length-1?s:Math.floor(h*i);r=r.concat(sr([l,c],d),[c]),s-=d}return r}function zn(a,t="h",r=9,i="rgb",s=0,n=1,o=100){for(var l=wa(a),c=Wo(l),h=(n-s)*o/r,d=[],p=1;p<=r;p++)c[t]=Math.abs((o-h*p)/o),d.push(Sn(qo(c),i));return d}function sv(a,t=9,r="rgb",i=0,s=360){return zn(a,"h",t,r,i,s,1)}function av(a,t=9,r="rgb",i=0,s=1){return zn(a,"s",t,r,i,s,100)}function nv(a,t=9,r="rgb",i=0,s=1){return zn(a,"v",t,r,i,s,100)}sr.parula=function(a){return sr(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],a)},sr.jet=function(a){return sr(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],a)},sr.hsv=function(a){return sr(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],a)},sr.hot=function(a){return sr(["#0b0000","#ff0000","#ffff00","#ffffff"],a)},sr.pink=function(a){return sr(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],a)},sr.bone=function(a){return sr(["#000000","#4a4a68","#a6c6c6","#ffffff"],a)},sr.copper=function(a){return sr(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],a)};var ov=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",interpolateRGB:Qo,interpolateRGBObject:Vh,scale:sr,blend:Jo,mix:tv,contrast:Rh,contrastColor:rv,gradient:iv,scaleHSV:zn,scaleH:sv,scaleS:av,scaleV:nv}),Le=v(v(v(v(v(v(v(v(v(v(v(v({},km),wm),Df),ov),Wm),ev),Nm),Zm),Qm),Hm),jm),Lm);const Er={HORIZONTAL:"constraints-horizontal",VERTICAL:"constraints-vertical"},ke={NONE:"none",MIN:"min",MAX:"max",STRETCH:"stretch",SCALE:"scale",CENTER:"center"},qr={DIFFERENCE:"difference",INTERSECTION:"intersection",UNION:"union",REVERSE_DIFFERENCE:"reverse-difference",XOR:"xor"},el={BUTT:"butt",ROUND:"round",SQUARE:"square"},Pa={MITER:"miter",ROUND:"round",BEVEL:"bevel"},Zt={NORMAL:"normal",MULTIPLY:"multiply",SCREEN:"screen",OVERLAY:"overlay",DARKEN:"darken",LIGHTEN:"lighten",COLOR_DODGE:"color-dodge",COLOR_BURN:"color-burn",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DIFFERENCE:"difference",EXCLUSION:"exclusion",HUE:"hue",SATURATION:"saturation",COLOR:"color",LUMINOSITY:"luminosity"},tl={NONE:"none",UNDERLINE:"underline",OVERLINE:"overline",LINE_THROUGH:"line-through",BLINK:"blink"},rl={NONE:"none",CAPITALIZE:"capitalize",UPPERCASE:"uppercase",LOWERCASE:"lowercase"},Ca={VISIBLE:"visible",HIDDEN:"hidden",SCROLL:"scroll",AUTO:"auto"},Qr={NONE:"none",HIDDEN:"hidden",DOTTED:"dotted",DASHED:"dashed",SOLID:"solid",DOUBLE:"double",GROOVE:"groove",RIDGE:"ridge",INSET:"inset",OUTSET:"outset"},bt={DEFAULT:"default",FLEX:"flex",GRID:"grid"},Nt={ROW:"row",ROW_REVERSE:"row-reverse",COLUMN:"column",COLUMN_REVERSE:"column-reverse"},Rs={FLEX_START:"flex-start",FLEX_END:"flex-end",CENTER:"center",SPACE_BETWEEN:"space-between",SPACE_AROUND:"space-around",SPACE_EVENLY:"space-evenly"},Ei={FLEX_START:"flex-start",FLEX_END:"flex-end",CENTER:"center",BASELINE:"baseline",STRETCH:"stretch"},zh={FLEX_START:"flex-start",FLEX_END:"flex-end",CENTER:"center",SPACE_BETWEEN:"space-between",SPACE_AROUND:"space-around",SPACE_EVENLY:"space-evenly"},jn={NOWRAP:"nowrap",WRAP:"wrap",WRAP_REVERSE:"wrap-reverse"},Ae={FIXED:"fixed",HUG_CONTENT:"hug-content",FILL_CONTAINER:"fill-container"},An={NONE:"none",TEXT:"text"},Gr={OUTSET:"outset",INSET:"inset"},N={STATIC:"static-gradient",LINEAR:"linear-gradient",RADIAL:"radial-gradient",CONIC:"conic-gradient",REPEATING_LINEAR:"repeating-linear-gradient",REPEATING_RADIAL:"repeating-radial-gradient",REPEATING_CONIC:"repeating-conic-gradient",IMAGE:"image",URL:"url"},Lr={CLOSEST_SIDE:"closest-side",CLOSEST_CORNER:"closest-corner",FARTHEST_SIDE:"farthest-side",FARTHEST_CORNER:"farthest-corner"},yt={CIRCLE:"circle",ELLIPSE:"ellipse"},qt={NONE:"none",CIRCLE:"circle",ELLIPSE:"ellipse",POLYGON:"polygon",INSET:"inset",PATH:"path",SVG:"svg"},Hr={VISIBLE:"visible",HIDDEN:"hidden"},ge={LINEAR:"linear",EASE:"ease",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",STEPS:"steps",CUBIC_BEZIER:"cubic-bezier",PATH:"path"},$r={PAD:"pad",REFLECT:"reflect",REPEAT:"repeat"},qe={COMMA:"comma",COLOR:"color",LENGTH:"length",GRADIENT:"gradient",TIMING:"timing",KEYWORD:"keyword",STRING:"string",NUMBER:"number",BOOLEAN:"boolean",FUNCTION:"function",PATH:"path",UNKNOWN:"unknown"},lv=/(([\-]?[\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)?)|#(?:[\da-f]{8})|(#(?:[\da-f]{3}){1,2}|([a-z_\-]+)\([^\(\)]+\)|([a-z_\-]+))|(\,)/gi,cv=/^[\-]?([\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)?$/gi,hv=/^[a-z_\-]+$/gi,jh=[N.STATIC,N.LINEAR,N.RADIAL,N.CONIC,N.REPEATING_CONIC,N.REPEATING_LINEAR,N.REPEATING_RADIAL],Ah=[ge.LINEAR,ge.EASE,ge.EASE_IN,ge.EASE_OUT,ge.EASE_IN_OUT],dv=a=>{if(a===",")return"comma";if(a.indexOf("#")===0)return"hex";if(Cn.isColorName(a))return"color";if(jh.includes(a)||Ah.includes(a))return a;if(a.match(cv))return"length";if(a.match(hv))return"keyword"},uv=(a,t,r="(",i=")")=>{const s=[];for(var n=t;n<a.length;n++){const o=a[n];if(o===r)s.push(r);else if(o===i&&(s.pop(),s.length===0))break}return s.length>0?-1:n+1},Oh=a=>jh.includes(a)?qe.GRADIENT:Ah.includes(a)?qe.TIMING:a==="color"||a==="hex"?qe.COLOR:a==="length"?qe.LENGTH:a==="comma"?qe.COMMA:a,cr=a=>(t,r,i="(",s=")",n=",")=>{const o=uv(r,t.startIndex,i,s);if(o===-1)return{convert:!0,funcType:Oh(a),matchedString:r,type:a,startIndex:t.startIndex,endIndex:t.startIndex+r.length};const l=r.substring(t.startIndex,o),c=l.indexOf(i)+i.length,h=r.substring(t.startIndex+c,t.startIndex+l.lastIndexOf(s)),d=t.startIndex,p=t.startIndex+l.length,u=ka(h).map(S=>le(v({},S),{fullTextStartIndex:t.startIndex+c+S.startIndex,fullTextEndIndex:t.startIndex+c+S.endIndex}));let m=[],$=0;return u.forEach((S,k)=>{S.func===qe.COMMA?$++:(m[$]||(m[$]=[]),m[$].push(S))}),{convert:!0,funcType:Oh(a),type:a,startIndex:d,endIndex:p,matchedString:l,args:h,parameters:m}},il={length:a=>g.parse(a.matchedString),hex:a=>v({funcType:qe.COLOR},Le.parse(a.matchedString)),rgb:a=>v({funcType:qe.COLOR},Le.parse(a.matchedString)),rgba:a=>v({funcType:qe.COLOR},Le.parse(a.matchedString)),hsl:a=>v({funcType:qe.COLOR},Le.parse(a.matchedString)),hsla:a=>v({funcType:qe.COLOR},Le.parse(a.matchedString)),color:a=>v({funcType:qe.COLOR},Le.parse(a.matchedString)),steps:a=>({funcType:qe.TIMING,name:ge.STEPS,count:+a.parameters[0],direction:a.parameters[1]}),path:a=>({funcType:qe.TIMING,name:ge.PATH,d:a.args}),"static-gradient":cr("static-gradient"),"linear-gradient":cr("linear-gradient"),"radial-gradient":cr("radial-gradient"),"conic-gradient":cr("conic-gradient"),"repeating-linear-gradient":cr("repeating-linear-gradient"),"repeating-radial-gradient":cr("repeating-radial-gradient"),"repeating-conic-gradient":cr("repeating-conic-gradient"),"cubic-bezier":a=>({funcType:qe.TIMING,name:ge.CUBIC_BEZIER,matchedString:a.matchedString,x1:+a.parameters[0],y1:+a.parameters[1],x2:+a.parameters[2],y2:+a.parameters[3]}),ease:a=>({funcType:qe.TIMING,name:ge.EASE,matchedString:a.matchedString,x1:.25,y1:.1,x2:.25,y2:1}),"ease-in":a=>({funcType:qe.TIMING,name:ge.EASE_IN,matchedString:a.matchedString,x1:.42,y1:0,x2:1,y2:1}),"ease-out":a=>({funcType:qe.TIMING,name:ge.EASE_OUT,matchedString:a.matchedString,x1:0,y1:0,x2:.58,y2:1}),"ease-in-out":a=>({funcType:qe.TIMING,name:ge.EASE_IN_OUT,matchedString:a.matchedString,x1:.42,y1:0,x2:.58,y2:1}),linear:a=>({funcType:qe.TIMING,name:ge.LINEAR,matchedString:a.matchedString,x1:0,y1:0,x2:1,y2:1})};function ka(a,{funcStartCharacter:t="(",funcEndCharacter:r=")",parameterSaparator:i=",",customFuncMap:s={}}={}){let n=a.match(lv),o=[];if(!n)return o;function l(p,u,m){return o.some($=>$.parsed&&ai($.parsed)?$.parsed.some(S=>S.startIndex===p&&S.endIndex===u&&m===S.matchedString):$.startIndex===p&&$.endIndex===u&&m===$.matchedString)}var c={next:0};n=n.map(p=>{const u=a.indexOf(p,c.next);return c.next=u+p.length,{index:u,matchedString:p}}),c.next=0;for(var h=0,d=n.length;h<d;h++){const{matchedString:p,index:u}=n[h];if(u<c.next)continue;let m=dv(p),$={matchedString:p};const S=a.indexOf($.matchedString,c.next);if(S<0||($.startIndex=S,$.endIndex=S+$.matchedString.length,l($.startIndex,$.endIndex,$.matchedString)))continue;if(m)$=le(v({},$),{func:m});else{const[z,L]=p.split(t),[R]=L.split(r);$=le(v({},$),{func:z,args:R,parameters:R.split(i).map(j=>j.trim())}),m=z}let C;if(il[m]?C=il[m]||il[$.matchedString]:(s[m]||s[$.matchedString])&&(C=s[m]||s[$.matchedString]),C){const z=C.call(null,$,a,t,r,i);(z==null?void 0:z.convert)?($=v(v({},$),z),delete $.convert):$=le(v({},$),{parsed:z})}o.push($),c.next=$.endIndex}return o}function Dt(a){return ka(a)[0]}function pv(a,t="temp"){var r;return(r=ka(`${t}(${a})`,{customFuncMap:{[t]:cr(t)}})[0])==null?void 0:r.parameters}class Qe{constructor(t={}){this.id=t.id||tr(),this.color=t.color||"transparent",this.cut=t.cut||!1,this.percent=t.percent||0,this.unit=t.unit||"%",this.px=t.px||0,this.em=t.em||0,this.prevColorStep=t.prevColorStep||null,this.timing=t.timing||ka("linear")[0].parsed,this.timingCount=t.timingCount||1}toCloneObject(){return{id:this.id,color:this.color,cut:this.cut,percent:this.percent,unit:this.unit,px:this.px,em:this.em,prevColorStep:this.prevColorStep,timing:this.timing,timingCount:this.timingCount}}on(){this.cut=!0}off(){this.cut=!1}toggle(){this.cut=!this.cut}toggleTiming(){switch(this.timing.name){case ge.LINEAR:this.timing=Dt("steps(1, start)").parsed;break;case ge.STEPS:this.timing=Dt("ease").parsed,this.timingCount=15;break;case ge.EASE:case ge.EASE_IN:case ge.EASE_IN_OUT:case ge.EASE_OUT:case ge.CUBIC_BEZIER:this.timing=Dt("path(M 0 0 C 0.25 0.25 0.75 0.75 1 1)").parsed,this.timingCount=15;break;default:this.timing=Dt("linear").parsed,this.timingCount=1;break}}getUnit(){return this.unit=="%"?"percent":this.unit}add(t){var r=this.getUnit();return this[r]+=+t,this}sub(t){var r=this.getUnit();return this[r]-=+t,this}mul(t){var r=this.getUnit();return this[r]*=+t,this}div(t){var r=this.getUnit();return this[r]/=+t,this}mod(t){var r=this.getUnit();return this[r]%=+t,this}get isPx(){return this.unit=="px"}get isPercent(){return this.unit=="%"||this.unit==="percent"}get isEm(){return this.unit=="em"}toLength(t){if(this.isPx)return g.px(this.px);if(this.isPercent)return g.percent(this.percent);if(this.isEm)return g.em(this.em)}getPrevLength(){return this.prevColorStep?this.prevColorStep.toLength():""}toString(){var t=this.cut?this.getPrevLength():"",r=this.color||"transparent";return`${r} ${t} ${this.toLength()}`}setValue(t,r){this.isPx?this.px=r*t/100:this.isPercent?this.percent=t:this.isEm&&(this.em=r*t/100/16),this.parent&&this.parent.sortColorStep()}static parse(t){let r=[];const i=Ii(t);var s=i.str.split(" ").filter(l=>l.trim());const n=+s[0].replace("@",""),o=i.matches[n].color;if(s.length===1)r.push(new Qe({color:o,unit:"%",percent:0,hasNotUnit:!0}));else if(s.length===2){const l=g.parse(s[1]);let c={unit:l.unit};l.isPercent()?c.percent=l.value:l.isPx()?c.px=l.value:l.isEm()&&(c.em=l.value),r.push(new Qe(v({color:o},c)))}else if(s.length===3){const l=g.parse(s[2]);let c={unit:l.unit};l.isPercent()?c.percent=l.value:l.isPx()?c.px=l.value:l.isEm()&&(c.em=l.value),r.push(new Qe(v({color:o,cut:!0},c)))}return r}static createColorStep(t=2,r=100,i="%"){var s=pr(2,t),n=r/s,o=br(s).map((l,c)=>`${Le.random()} ${c*n}${i}`).join(",");return o}static createRepeatColorStep(t=2,r=1){var i=pr(2,t),s=br(i).map((n,o)=>`${Le.random()} ${g.parse(r).mul(o+1)}`).join(",");return s}}const sl=(a=1,t="end")=>{var r=1/a;return function(i){let s=0;const n=We(i/r,1e7);if(t=="start")s=Math.ceil(n);else if(t=="end"){if(i===0)return 0;if(i===1)return 1;s=Math.ceil(n)-1}return Math.min(Math.max(r*s,0),1)}};function al(a=1,t="end"){return sl(a,t)}function Dh(){return sl(1,"start")}function Fh(){return sl(1,"end")}function Bh(){return a=>Math.pow(2,-10*a)*Math.sin((a-.1)*5*Math.PI)+1}var gv={step:al,"step-start":Dh,"step-end":Fh,stepStart:Dh,stepEnd:Fh,"ease-out-elastic":Bh,easeOutElastic:Bh};function nl(a="linear"){var[t,r]=a.split("(").map(n=>n.trim());r=(r||"").split(")")[0].trim();var i=gv[t];if(i){var s=a.split("(")[1].split(")")[0].split(",").map(n=>n.trim());return i(...s)}else return fv(a)}function fv(a){var t=vh(a);return r=>t(r).y}class Y{static isEqual(t,r,i){if(arguments.length===2)return t.x===r.x&&t.y===r.y;if(arguments.length===3)return Y.isEqual(t,r)&&Y.isEqual(r,i)}static isFirst(t){return t&&t.command=="M"}static DouglasPeuker(t,r,i,s){if(s<=i+1)return;let n=0,o=i;const l=t*t,c=r[i],h=r[s];for(var d=i+1;d<s;d++){const p=Y.segmentDistance2(r[d].x,r[d].y,c,h);p<=n||(o=d,n=p)}n>l&&(r[o].mark=!0,Y.DouglasPeuker(t,r,i,o),Y.DouglasPeuker(t,r,o,s))}static simply(t,r=10){return t.length<=2?t:(t=ve(t),t[0].mark=!0,t[t.length-1].mark=!0,Y.DouglasPeuker(r,t,0,t.length-1),t.filter(i=>Boolean(i.mark)))}static segmentDistance2(t,r,i,s){let n=s.x-i.x,o=s.y-i.y,l=n*n+o*o,c=t-i.x,h=r-i.y,d=n*c+o*h;if(l===0||d<=0)return c*c+h*h;if(d>=l)return c=t-s.x,h=r-s.y,c*c+h*h;{const p=c*o-h*n;return p*p/l}}static isInLine(t,r,i){return t.x===i.x?r.x===i.x:t.y===i.y?r.y===i.y:(t.x-i.x)*(t.y-i.y)==(i.x-r.x)*(i.y-r.y)}static isLine(t){return Y.isInLine(t.endPoint,t.startPoint,t,reversePoint)}static getReversePoint(t,r){const[i,s,n]=ne([],[r.x,r.y,0],[t.x,t.y,0],2);return{x:i,y:s}}static getIndexPoint(t,r){return t[r]}static getPoint(t,r){return t.filter(i=>Y.isEqual(i.startPoint,r))[0]}static getIndex(t,r){for(var i=-1,s=0,n=t.length;s<n;s++){var o=t[s];if(Y.isEqual(o.startPoint,r)){i=s;break}}return i}static getGroupList(t){const r=[];let i=0;return t.forEach((s,n)=>{s.command==="M"&&r.push({point:s,index:n,groupIndex:i++})}),r}static getSplitedGroupList(t){const r=ve(t),i=[];for(var s=0,n=-1,o=r.length;s<o;s++){const l=r[s];l.command==="M"&&(n++,i[n]={startPointIndex:s,point:l,points:[]}),i[n].points.push(l)}return i}static getGroup(t,r){return t.filter(s=>s.point.index<=r).pop()}static getGroupIndex(t,r){for(var i=-1,s=0,n=t.length;s<n;s++)if(t[s].command==="M"&&i++,t[s].index===r)return i}static getLastPoint(t,r){if(!t.length)return null;for(var i=-1,s=r+1,n=t.length;s<n;s++)if(t[s].command==="M"){i=s-1;break}i==-1&&(i=t.length-1),t[i]&&t[i].command==="Z"&&(i-=1);var o=t[i];return o&&(o.index=i),o}static getFirstPoint(t,r){for(var i=-1,s=r-1;s>0;s--)if(t[s].command==="M"){i=s;break}i===-1&&(i=0);var n=t[i];return n&&(n.index=i),n}static getConnectedPointList(t,r){const i=t[r];return t.filter((s,n)=>n!==r&&Y.isEqual(s.startPoint,i.startPoint))}static getPrevPoint(t,r){var i=r-1;if(i<0)return Y.getLastPoint(t,r);var s=t[i];return s&&(s.index=i),s}static getNextPoint(t,r){var i=t[r],s=t[r+1];return s&&(s.index=r+1),(i.connected||i.close)&&(s=Y.getFirstPoint(t,r)),s}static removePoint(t,r,i){if(i==="startPoint")return t.filter((s,n)=>n!==r)}static splitPoints(t){let r=[],i=[];return t.forEach(s=>{Y.isFirst(s)?(i=[s],r.push(i)):i.push(s)}),r}static recoverPoints(t){const r=[];return t.forEach(i=>{i.forEach((s,n)=>{n===0&&(s.command="M",s.originalCommand="M")}),r.push.apply(r,i)}),r.forEach((i,s)=>{i.index=s}),r}}class $e{static M(t,r){return{command:"M",values:[t,r]}}static L(t,r){return{command:"L",values:[t,r]}}static Q(t,r,i,s){return{command:"Q",values:[t,r,i,s]}}static C(t,r,i,s,n,o){return{command:"C",values:[t,r,i,s,n,o]}}static A(t,r,i,s,n,o,l){return{command:"A",values:[t,r,i,s,n,o,l]}}static Z(){return{command:"Z",values:[]}}}var Nh=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function mv(a){if(a.__esModule)return a;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(a).forEach(function(r){var i=Object.getOwnPropertyDescriptor(a,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return a[r]}})}),t}var Gh={exports:{}};(function(a,t){(function(r,i){i(a)})(Nh,function(r){function i(C,z){if(!(C instanceof z))throw new TypeError("Cannot call a class as a function")}/**
 *  @preserve  JavaScript implementation of
 *  Algorithm for Automatically Fitting Digitized Curves
 *  by Philip J. Schneider
 *  "Graphics Gems", Academic Press, 1990
 *
 *  The MIT License (MIT)
 *
 *  https://github.com/soswow/fit-curves
 */function s(C,z,L){if(!Array.isArray(C))throw new TypeError("First argument should be an array");if(C.forEach(function(Z){if(!Array.isArray(Z)||Z.some(function(q){return typeof q!="number"})||Z.length!==C[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),C=C.filter(function(Z,q){return q===0||!Z.every(function(ue,de){return ue===C[q-1][de]})}),C.length<2)return[];var R=C.length,j=$(C[1],C[0]),X=$(C[R-2],C[R-1]);return n(C,j,X,z,L)}function n(C,z,L,R,j){var X=20,Z,q,ue,de,me,fe,je,ee,Be,dt,He,Ze,Ce;if(C.length===2)return Ze=S.vectorLen(S.subtract(C[0],C[1]))/3,Z=[C[0],S.addArrays(C[0],S.mulItems(z,Ze)),S.addArrays(C[1],S.mulItems(L,Ze)),C[1]],[Z];q=d(C);var Me=o(C,q,q,z,L,j);if(Z=Me[0],de=Me[1],fe=Me[2],de===0||de<R)return[Z];if(de<R*R)for(ue=q,me=de,je=fe,Ce=0;Ce<X;Ce++){ue=c(Z,C,ue);var at=o(C,q,ue,z,L,j);if(Z=at[0],de=at[1],fe=at[2],de<R)return[Z];if(fe===je){var oe=de/me;if(oe>.9999&&oe<1.0001)break}me=de,je=fe}if(He=[],ee=S.subtract(C[fe-1],C[fe+1]),ee.every(function(ct){return ct===0})){ee=S.subtract(C[fe-1],C[fe]);var rt=[-ee[1],ee[0]];ee[0]=rt[0],ee[1]=rt[1]}return Be=S.normalize(ee),dt=S.mulItems(Be,-1),He=He.concat(n(C.slice(0,fe+1),z,Be,R,j)),He=He.concat(n(C.slice(fe),dt,L,R,j)),He}function o(C,z,L,R,j,X){var Z,q,ue;Z=l(C,L,R,j);var de=p(C,Z,z);return q=de[0],ue=de[1],X&&X({bez:Z,points:C,params:z,maxErr:q,maxPoint:ue}),[Z,q,ue]}function l(C,z,L,R){var j,X,Z,q,ue,de,me,fe,je,ee,Be,dt,He,Ze,Ce,Me,at,oe=C[0],rt=C[C.length-1];for(j=[oe,null,null,rt],X=S.zeros_Xx2x2(z.length),He=0,Ze=z.length;He<Ze;He++)Me=z[He],at=1-Me,Z=X[He],Z[0]=S.mulItems(L,3*Me*(at*at)),Z[1]=S.mulItems(R,3*at*(Me*Me));for(q=[[0,0],[0,0]],ue=[0,0],He=0,Ze=C.length;He<Ze;He++)Me=z[He],Z=X[He],q[0][0]+=S.dot(Z[0],Z[0]),q[0][1]+=S.dot(Z[0],Z[1]),q[1][0]+=S.dot(Z[0],Z[1]),q[1][1]+=S.dot(Z[1],Z[1]),Ce=S.subtract(C[He],k.q([oe,oe,rt,rt],Me)),ue[0]+=S.dot(Z[0],Ce),ue[1]+=S.dot(Z[1],Ce);return de=q[0][0]*q[1][1]-q[1][0]*q[0][1],me=q[0][0]*ue[1]-q[1][0]*ue[0],fe=ue[0]*q[1][1]-ue[1]*q[0][1],je=de===0?0:fe/de,ee=de===0?0:me/de,dt=S.vectorLen(S.subtract(oe,rt)),Be=1e-6*dt,je<Be||ee<Be?(j[1]=S.addArrays(oe,S.mulItems(L,dt/3)),j[2]=S.addArrays(rt,S.mulItems(R,dt/3))):(j[1]=S.addArrays(oe,S.mulItems(L,je)),j[2]=S.addArrays(rt,S.mulItems(R,ee))),j}function c(C,z,L){return L.map(function(R,j){return h(C,z[j],R)})}function h(C,z,L){var R=S.subtract(k.q(C,L),z),j=k.qprime(C,L),X=S.mulMatrix(R,j),Z=S.sum(S.squareItems(j))+2*S.mulMatrix(R,k.qprimeprime(C,L));return Z===0?L:L-X/Z}function d(C){var z=[],L,R,j;return C.forEach(function(X,Z){L=Z?R+S.vectorLen(S.subtract(X,j)):0,z.push(L),R=L,j=X}),z=z.map(function(X){return X/R}),z}function p(C,z,L){var R,j,X,Z,q,ue,de,me;j=0,X=Math.floor(C.length/2);var fe=u(z,10);for(q=0,ue=C.length;q<ue;q++)de=C[q],me=m(z,L[q],fe,10),Z=S.subtract(k.q(z,me),de),R=Z[0]*Z[0]+Z[1]*Z[1],R>j&&(j=R,X=q);return[j,X]}var u=function(z,L){for(var R,j=[0],X=z[0],Z=0,q=1;q<=L;q++)R=k.q(z,q/L),Z+=S.vectorLen(S.subtract(R,X)),j.push(Z),X=R;return j=j.map(function(ue){return ue/Z}),j};function m(C,z,L,R){if(z<0)return 0;if(z>1)return 1;for(var j,X,Z,q,ue,de=1;de<=R;de++)if(z<=L[de]){q=(de-1)/R,Z=de/R,X=L[de-1],j=L[de],ue=(z-X)/(j-X)*(Z-q)+q;break}return ue}function $(C,z){return S.normalize(S.subtract(C,z))}var S=function(){function C(){i(this,C)}return C.zeros_Xx2x2=function(L){for(var R=[];L--;)R.push([0,0]);return R},C.mulItems=function(L,R){return L.map(function(j){return j*R})},C.mulMatrix=function(L,R){return L.reduce(function(j,X,Z){return j+X*R[Z]},0)},C.subtract=function(L,R){return L.map(function(j,X){return j-R[X]})},C.addArrays=function(L,R){return L.map(function(j,X){return j+R[X]})},C.addItems=function(L,R){return L.map(function(j){return j+R})},C.sum=function(L){return L.reduce(function(R,j){return R+j})},C.dot=function(L,R){return C.mulMatrix(L,R)},C.vectorLen=function(L){return Math.hypot.apply(Math,L)},C.divItems=function(L,R){return L.map(function(j){return j/R})},C.squareItems=function(L){return L.map(function(R){return R*R})},C.normalize=function(L){return this.divItems(L,this.vectorLen(L))},C}(),k=function(){function C(){i(this,C)}return C.q=function(L,R){var j=1-R,X=S.mulItems(L[0],j*j*j),Z=S.mulItems(L[1],3*j*j*R),q=S.mulItems(L[2],3*j*R*R),ue=S.mulItems(L[3],R*R*R);return S.addArrays(S.addArrays(X,Z),S.addArrays(q,ue))},C.qprime=function(L,R){var j=1-R,X=S.mulItems(S.subtract(L[1],L[0]),3*j*j),Z=S.mulItems(S.subtract(L[2],L[1]),6*j*R),q=S.mulItems(S.subtract(L[3],L[2]),3*R*R);return S.addArrays(S.addArrays(X,Z),q)},C.qprimeprime=function(L,R){return S.addArrays(S.mulItems(S.addArrays(S.subtract(L[2],S.mulItems(L[1],2)),L[0]),6*(1-R)),S.mulItems(S.addArrays(S.subtract(L[3],S.mulItems(L[2],2)),L[1]),6*R))},C}();r.exports=s,r.exports.fitCubic=n,r.exports.createTangent=$})})(Gh);var vv=Gh.exports,yv=function(){function a(t,r){var i=[],s=!0,n=!1,o=void 0;try{for(var l=t[Symbol.iterator](),c;!(s=(c=l.next()).done)&&(i.push(c.value),!(r&&i.length===r));s=!0);}catch(h){n=!0,o=h}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}return i}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return a(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ta=Math.PI*2,ol=function(t,r,i,s,n,o,l){var c=t.x,h=t.y;c*=r,h*=i;var d=s*c-n*h,p=n*c+s*h;return{x:d+o,y:p+l}},bv=function(t,r){var i=r===1.5707963267948966?.551915024494:r===-1.5707963267948966?-.551915024494:4/3*Math.tan(r/4),s=Math.cos(t),n=Math.sin(t),o=Math.cos(t+r),l=Math.sin(t+r);return[{x:s-n*i,y:n+s*i},{x:o+l*i,y:l-o*i},{x:o,y:l}]},Hh=function(t,r,i,s){var n=t*s-r*i<0?-1:1,o=t*i+r*s;return o>1&&(o=1),o<-1&&(o=-1),n*Math.acos(o)},$v=function(t,r,i,s,n,o,l,c,h,d,p,u){var m=Math.pow(n,2),$=Math.pow(o,2),S=Math.pow(p,2),k=Math.pow(u,2),C=m*$-m*k-$*S;C<0&&(C=0),C/=m*k+$*S,C=Math.sqrt(C)*(l===c?-1:1);var z=C*n/o*u,L=C*-o/n*p,R=d*z-h*L+(t+i)/2,j=h*z+d*L+(r+s)/2,X=(p-z)/n,Z=(u-L)/o,q=(-p-z)/n,ue=(-u-L)/o,de=Hh(1,0,X,Z),me=Hh(X,Z,q,ue);return c===0&&me>0&&(me-=Ta),c===1&&me<0&&(me+=Ta),[R,j,de,me]},xv=function(t){var r=t.px,i=t.py,s=t.cx,n=t.cy,o=t.rx,l=t.ry,c=t.xAxisRotation,h=c===void 0?0:c,d=t.largeArcFlag,p=d===void 0?0:d,u=t.sweepFlag,m=u===void 0?0:u,$=[];if(o===0||l===0)return[];var S=Math.sin(h*Ta/360),k=Math.cos(h*Ta/360),C=k*(r-s)/2+S*(i-n)/2,z=-S*(r-s)/2+k*(i-n)/2;if(C===0&&z===0)return[];o=Math.abs(o),l=Math.abs(l);var L=Math.pow(C,2)/Math.pow(o,2)+Math.pow(z,2)/Math.pow(l,2);L>1&&(o*=Math.sqrt(L),l*=Math.sqrt(L));var R=$v(r,i,s,n,o,l,p,m,S,k,C,z),j=yv(R,4),X=j[0],Z=j[1],q=j[2],ue=j[3],de=Math.abs(ue)/(Ta/4);Math.abs(1-de)<1e-7&&(de=1);var me=Math.max(Math.ceil(de),1);ue/=me;for(var fe=0;fe<me;fe++)$.push(bv(q,ue)),q+=ue;return $.map(function(je){var ee=ol(je[0],o,l,k,S,X,Z),Be=ee.x,dt=ee.y,He=ol(je[1],o,l,k,S,X,Z),Ze=He.x,Ce=He.y,Me=ol(je[2],o,l,k,S,X,Z),at=Me.x,oe=Me.y;return{x1:Be,y1:dt,x2:Ze,y2:Ce,x:at,y:oe}})};const _v=/([mMlLvVhHcCsSqQtTaAzZ]([^mMlLvVhHcCsSqQtTaAzZ]*))/g;var Sv=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function On(a){return{x:a[0],y:a[1]}}class W{constructor(t=""){this.reset(t)}reset(t=""){return this.segments=[],this.pathString=t.trim(),this.parse(),this}resetSegments(t){return this.segments=t||[],this.pathString=this.joinPath(),this}addSegments(t,r){return this.resetSegments([...this.segments,...t])}addPath(t,r=St()){const i=t.clone();return i.transformMat4(r),this.addSegments(i.segments)}trim(t=""){var r=t.match(Sv)||[];return r.filter(i=>i!="")}parse(){var t=this.pathString.match(_v)||[];return this.segments=t.map(r=>{var i=r[0],s=this.trim(r.replace(i,"")).map(n=>+n);return{command:i,values:s}}),this.segments=this.segments.map((r,i)=>{switch(r.command){case"m":var s=this.segments[i-1];s&&(s.command=="z"||s.command=="Z")&&(s=this.segments[i-2]);for(var n=(s==null?void 0:s.values[s.values.length-2])||0,o=(s==null?void 0:s.values[s.values.length-1])||0,l=0,c=r.values.length;l<c;l+=2)r.values[l]+=n,r.values[l+1]+=o;return{command:r.command.toUpperCase(),values:[...r.values]};case"c":case"l":case"q":case"s":case"t":case"v":case"h":for(var s=this.segments[i-1],n=(s==null?void 0:s.values[s.values.length-2])||0,o=(s==null?void 0:s.values[s.values.length-1])||0,l=0,c=r.values.length;l<c;l+=2)r.values[l]+=n,r.values[l+1]+=o;return{command:r.command.toUpperCase(),values:[...r.values]};case"a":var s=this.segments[i-1],n=(s==null?void 0:s.values[s.values.length-2])||0,o=(s==null?void 0:s.values[s.values.length-1])||0;return r.values[5]+=n,r.values[6]+=o,{command:r.command.toUpperCase(),values:[...r.values]};case"z":return{command:r.command.toUpperCase(),values:[]};default:return r}}),this.segments.forEach((r,i)=>{const s=this.segments[i-1];if(r.command=="A"){const n=(s==null?void 0:s.values[s.values.length-2])||0,o=(s==null?void 0:s.values[s.values.length-1])||0,[l,c,h,d,p,u,m]=r.values;W.arcToCurve(n,o,l,c,h,d,p,u,m).segments.forEach(S=>{S.command!=="M"||S.command!=="Z"})}}),this}convertGenerator(){for(var t=[],r=0,i=this.segments.length;r<i;r++){var s=this.segments[r],n=this.segments[r+1];const{command:R,values:j}=s;if(R==="M"){var[o,l]=j;t.push({command:R,originalCommand:R,startPoint:{x:o,y:l},endPoint:{x:o,y:l},reversePoint:{x:o,y:l},curve:!1})}else if(R==="L"){var c=Y.getPrevPoint(t,t.length);if(c.curve){var[o,l]=j;t.push({command:R,originalCommand:R,startPoint:{x:o,y:l},endPoint:{x:o,y:l},reversePoint:ve(c.endPoint),curve:!0})}else{var[o,l]=j;t.push({command:R,originalCommand:R,startPoint:{x:o,y:l},endPoint:{x:o,y:l},reversePoint:{x:o,y:l},curve:!1})}}else if(R==="Q"){var[h,d,o,l]=j,c=Y.getPrevPoint(t,t.length);if(c.curve){var p={x:o,y:l},u={x:o,y:l},m={x:o,y:l};t.push({command:"L",originalCommand:R,startPoint:p,endPoint:u,reversePoint:m,curve:!1}),c.endPoint={x:h,y:d}}else if(n&&n.command==="L"){c.curve=!0,c.endPoint={x:h,y:d};var p={x:o,y:l},m={x:o,y:l},u={x:o,y:l};t.push({command:"L",originalCommand:R,curve:!1,startPoint:p,endPoint:u,reversePoint:m})}else{var p={x:o,y:l},m={x:h,y:d},u={x:o,y:l};t.push({command:R,originalCommand:R,curve:!0,startPoint:p,endPoint:u,reversePoint:m})}}else if(R==="T"){var[o,l]=j,$=segments[r-1];if($&&$.command==="Q"){var[h,d,S,k]=$.values,c=Y.getPrevPoint(t,t.length);c.endPoint=Y.getReversePoint({x:S,y:k},{x:h,y:d});var p={x:o,y:l},u={x:o,y:l},m={x:o,y:l};t.push({command:"L",originalCommand:R,startPoint:p,endPoint:u,reversePoint:m,curve:!1})}}else if(R==="C"){var c=Y.getPrevPoint(t,t.length),[h,d,C,z,o,l]=j,p={x:o,y:l},m={x:C,y:z},u={x:o,y:l};t.push({command:R,originalCommand:R,curve:!0,startPoint:p,endPoint:u,reversePoint:m}),c&&(c.curve=!0,c.endPoint={x:h,y:d})}else if(R==="S"){var[o,l]=j,$=segments[r-1];if($&&$.command==="C"){var[C,z,S,k]=$.values,c=Y.getPrevPoint(t,t.length);c.endPoint=Y.getReversePoint(c.startPoint,c.reversePoint);var p={x:o,y:l},u={x:o,y:l},m={x:C,y:z};t.push({command:"Q",originalCommand:R,startPoint:p,endPoint:u,reversePoint:m,curve:!1})}}else if(R==="Z"){var c=Y.getPrevPoint(t,t.length),L=Y.getFirstPoint(t,t.length);Y.isEqual(c.startPoint,L.startPoint)&&(c.connected=!0,c.endPoint=ve(L.endPoint),L.reversePoint=ve(c.reversePoint)),c.close=!0}}return t=t.filter(R=>!!R),t}setSegments(t,r){this.segments[t]=r}getSegments(t){return Re(t)?this.segments[t]:this.segments}joinPath(t,r=""){var i=t||this.segments;return i.map(s=>`${s.command} ${s.values.length?s.values.join(" "):""}`).join(r)}each(t,r=!1){var i=this.segments.map((s,n)=>t.call(this,s,n));return r?i:(this.segments=i,this)}_loop(t,r=!1){return this.each(function(i){var s=i.values,n=i.command;switch(n){case"M":case"L":var o=t(s,0);i.values=[o[0],o[1]];break;case"V":var o=t([+s[0],0]);i.values=[o[0]];break;case"H":var o=t([0,+s[0]]);i.values=[o[1]];break;case"C":case"S":case"T":case"Q":for(var l=0,c=s.length;l<c;l+=2){var o=t(s,l);i.values[l]=o[0],i.values[l+1]=o[1]}break}return i},r)}clone(){const t=new W;return t.resetSegments(this.segments.map(r=>({command:r.command,values:r.values.slice()}))),t}translate(t,r){return this.transformMat4(ut([],[t,r,0])),this}translateTo(t,r){return this.joinPath(this.transformMat4(ut([],[t,r,0]),!0))}scale(t,r){return this.transformMat4(Nr([],[t,r,1])),this}scaleTo(t,r){return this.joinPath(this.transformMat4(Nr([],[t,r,1]),!0))}scaleWith(t,r){const i=this.clone(),s=rr(i.getBBox());i.translate(-s.x,-s.y);const n=Math.min(t/s.width,r/s.height);return i.scale(n,n).translate(t/2-s.width/2*n,r/2-s.height/2*n)}scaleFunc(t=i=>i,r=i=>i){return this.each(function(i){var s=i.values,n=i.command;switch(n){case"M":case"L":i.values=[t(s[0]),r(s[1])];break;case"C":case"Q":for(var o=0,l=s.length;o<l;o+=2)i.values[o]=t(s[o]),i.values[o+1]=r(s[o+1]);break}return i})}rotate(t,r=0,i=0){const s=St();return Tt(s,s,ut([],[r,i,0])),Tt(s,s,Qc([],Ot(t))),Tt(s,s,ut([],At([],[r,i,0]))),this.transformMat4(s),this}rotateTo(t,r=0,i=0){const s=St();return Tt(s,s,ut([],[r,i,0])),Tt(s,s,Qc([],Ot(t))),Tt(s,s,ut([],At([],[r,i,0]))),this.joinPath(this.transformMat4(s,!0))}reflectionOrigin(){return this.transformMat4(Nr([],[-1,-1,0])),this}reflectionOriginTo(){return this.joinPath(this.transformMat4(Nr([],[-1,-1,0]),!0))}flipX(){return this.transformMat4(Nr([],[1,-1,0])),this}flipXTo(){return this.joinPath(this.transformMat4(Nr([],[1,-1,0]),!0))}flipY(){return this.transformMat4(Nr([],[-1,1,0])),this}flipYTo(){return this.joinPath(this.transformMat4(Nr([],[-1,1,0]),!0))}skewX(t){return this.transformMat4(Pi(1,Math.tan(Ot(t)),0,0,0,1,0,0,0,0,1,0,0,0,0,1)),this}skewXTo(t){return this.joinPath(this.transformMat4(Pi(1,Math.tan(Ot(t)),0,0,0,1,0,0,0,0,1,0,0,0,0,1),!0))}skewY(t){return this.transformMat4(Pi(1,0,0,0,Math.tan(Ot(t)),1,0,0,0,0,1,0,0,0,0,1)),this}skewYTo(t){return this.joinPath(this.transformMat4(Pi(1,0,0,0,Math.tan(Ot(t)),1,0,0,0,0,1,0,0,0,0,1),!0))}forEachGroup(t){const r=this.getGroup();for(let i=0,s=r.length;i<s;i++){const n=r[i];t(n,i,r)}}forEach(t){this.forEachGroup((r,i,s)=>{for(let n=0,o=r.length;n<o;n++){const l=r[n];t(l,n,r,s,i)}})}normalize(){const t=[];return this.getGroup().forEach(i=>{const s=[];i.segments.forEach(({segment:n},o)=>{var c;const l=(c=i.segments[o-1])==null?void 0:c.segment;if(n.command==="M"){s.push(n);return}else if(n.command==="L"){const h=ym([[l.values[l.values.length-2],l.values[l.values.length-1],0],[n.values[0],n.values[1],0]]);s.push({command:"C",values:[h[1][0],h[1][1],h[2][0],h[2][1],h[3][0],h[3][1]]});return}else if(n.command==="C")s.push(n);else if(n.command==="Q"){const h=Ho([[l.values[l.values.length-2],l.values[l.values.length-1],0],[n.values[0],n.values[1],0],[n.values[2],n.values[3],0]]);s.push({command:"C",values:[h[1][0],h[1][1],h[2][0],h[2][1],h[3][0],h[3][1]]})}else n.command==="Z"&&s.push(n)}),t.push(...s)}),W.fromSegments(t)}polygonal(){const t=this.toPathList();return t.forEach(r=>{const i=[];r.segments.forEach((s,n)=>{const o=r.segments[n-1];s.command==="M"||s.command==="L"?i.push(s):s.command==="C"?i.push(...bh([o.values[o.values.length-2],o.values[o.values.length-1],0],[s.values[0],s.values[1],0],[s.values[2],s.values[3],0],[s.values[4],s.values[5],0]).map(l=>({command:"L",values:[l[0],l[1],0]}))):s.command==="Q"?i.push(...bh(...Ho([[o.values[o.values.length-2],o.values[o.values.length-1],0],[s.values[0],s.values[1],0],[s.values[2],s.values[3],0]])).map(l=>({command:"L",values:[l[0],l[1],0]}))):s.command==="Z"&&i.push(s)}),r.resetSegments(i)}),W.joinPathList(t)}divideSegmentByLength(t=100){const r=new W;return this.getGroup().forEach(s=>{const n=[];s.segments.forEach(({segment:o},l)=>{var c;if((c=s.segments[l-1])==null||c.segment,o.command==="M"){n.push(o);return}else if(o.command==="L"){const h=divideLine(o,t);n.push(...h);return}else if(o.command==="C"){const h=divideCurve(o,t);n.push(...h)}else if(o.command==="Q"){const h=divideQuad(o,t);n.push(...h)}else o.command==="Z"&&n.push(o)}),r.addGroup(n)}),r}divideSegmentByCount(t=1){let r=[];return this.getGroup().forEach(s=>{const n=[];s.segments.forEach(({segment:o},l)=>{var h,d;const c=(h=s.segments[l-1])==null?void 0:h.segment;(d=s.segments[l+1])==null||d.segment,o.command==="M"?n.push(o):o.command==="L"?vm([{x:c.values[c.values.length-2],y:c.values[c.values.length-1]},{x:o.values[0],y:o.values[1]}],t).forEach(([u,m])=>{n.push($e.L(m.x,m.y))}):o.command==="Q"?mm([{x:c.values[c.values.length-2],y:c.values[c.values.length-1]},{x:o.values[0],y:o.values[1]},{x:o.values[2],y:o.values[3]}],t).forEach(([u,m,$])=>{n.push($e.Q(m.x,m.y,$.x,$.y))}):o.command==="C"?fm([{x:c.values[c.values.length-2],y:c.values[c.values.length-1]},{x:o.values[0],y:o.values[1]},{x:o.values[2],y:o.values[3]},{x:o.values[4],y:o.values[5]}],t).forEach(([u,m,$,S])=>{n.push($e.C(m.x,m.y,$.x,$.y,S.x,S.y))}):o.command==="Z"&&n.push(o)}),r=r.concat(n)}),W.fromSegments(r)}getBBox(){let t=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;return this.each(function(n,o){var l=n.values,c=n.command;const h=this.segments[o-1];switch(c){case"M":case"L":t=Math.min(t,l[0]),i=Math.max(i,l[0]),r=Math.min(r,l[1]),s=Math.max(s,l[1]);break;case"C":$h([[h.values[h.values.length-2],h.values[h.values.length-1],0],[l[0],l[1],0],[l[2],l[3],0],[l[4],l[5],0]]).forEach(p=>{t=Math.min(t,p[0]),i=Math.max(i,p[0]),r=Math.min(r,p[1]),s=Math.max(s,p[1])});break;case"Q":const d=Ho([[h.values[h.values.length-2],h.values[h.values.length-1],0],[l[0],l[1],0],[l[2],l[3],0]]);$h(d).forEach(p=>{t=Math.min(t,p[0]),i=Math.max(i,p[0]),r=Math.min(r,p[1]),s=Math.max(s,p[1])});break}return n}),[[t,r,0],[i,r,0],[i,s,0],[t,s,0]]}rect(){const t=this.getBBox();return{x:t[0][0],y:t[0][1],width:Bt(t[0],t[1]),height:Bt(t[0],t[3]),right:t[0][0]+Bt(t[0],t[1]),bottom:t[0][1]+Bt(t[0],t[3])}}getClosedPointInfo({x:t,y:r},i=20){let s=Number.MAX_SAFE_INTEGER,n={},o={};for(var l=1,c=this.segments.length;l<c;l++){const m=this.segments[l],$=this.segments[l-1].values,S=m.values,k=m.command,C={x:$[$.length-2],y:$[$.length-1]};if(k==="C"){var h=[C,{x:S[0],y:S[1]},{x:S[2],y:S[3]},{x:S[4],y:S[5]}],d=Bo(...h,i),p=d(t,r);o={segment:m,index:l,t:p,points:h,targetPoint:ba(h,p).first[3]}}else if(k==="Q"){var h=[C,{x:S[0],y:S[1]},{x:S[2],y:S[3]}],d=No(...h,i),p=d(t,r);o={segment:m,index:l,t:p,points:h,targetPoint:$a(h,p).first[2]}}else if(k==="L"){var h=[C,{x:S[0],y:S[1]}],d=Go(...h,i),p=d(t,r);o={segment:m,index:l,t:p,points:h,targetPoint:xa(h,p).first[1]}}if(o){var u=Math.sqrt(Math.pow(o.targetPoint.x-t,2)+Math.pow(o.targetPoint.y-r,2));u<s&&(s=u,n=o)}}return n}getClosedPoint({x:t,y:r},i=20){const s=this.getClosedPointInfo({x:t,y:r},i);return s.targetPoint?s.targetPoint:{x:t,y:r}}isPointInPath({x:t,y:r},i=1){const s=this.getClosedPointInfo({x:t,y:r},20);return!!(s.targetPoint&&he([s.targetPoint.x,s.targetPoint.y,0],[t,r,0])<=i)}toString(t=""){return this.joinPath(void 0,t)}toSVGString(){return this.d}transformMat4(t,r=!1){return this.each(function(i){var s=i.values,n=i.command;switch(n){case"M":case"L":var o=Ye([],[s[0],s[1],0],t);i.values=[o[0],o[1]];break;case"C":case"Q":for(var l=0,c=s.length;l<c;l+=2){var o=Ye([],[s[l],s[l+1],0],t);i.values[l]=o[0],i.values[l+1]=o[1]}break}return i},r)}transform(t=([r,i,s])=>[r,i,s]){const r=rr(this.getBBox());return this.each(function(i){var s=i.values,n=i.command;switch(n){case"M":case"L":case"C":case"Q":for(var o=0,l=s.length;o<l;o+=2){var c=t([s[o],s[o+1],0],{bbox:r});i.values[o]=c[0],i.values[o+1]=c[1]}break}return i})}invert(t){return this.transformMat4(It([],t)),this}round(t=1){return this.each(function(r){return r.values=r.values.map(i=>We(i,t)),r}),this}reverseSegments(t){const r=[];let i=t.length-1;for(var s=i;s>0;s--){const n=t[s],o=n.values,l=n.command,c=t[s-1],h=c.values[c.values.length-2],d=c.values[c.values.length-1];switch(l){case"L":s===i&&r.push($e.M(o[0],o[1])),r.push($e.L(h,d));break;case"C":s===i&&r.push($e.M(o[4],o[5])),r.push($e.C(o[2],o[3],o[0],o[1],h,d));break;case"Q":s===i&&r.push($e.M(o[2],o[3])),r.push($e.Q(o[0],o[1],h,d));break;case"Z":r.push(n),i=s-1;break}}return r[0].command==="Z"&&r.push(r.shift()),r}splitSegments(){const t=[];let r=[];return this.segments.forEach(i=>{i.command==="M"?(r=[i],t.push(r)):r.push(i)}),t}reverse(...t){const r=this.splitSegments(),i=[];return t.length===0?r.forEach((s,n)=>{i.push.apply(i,this.reverseSegments(s))}):r.forEach((s,n)=>{t.includes(n)?i.push.apply(i,this.reverseSegments(s)):i.push.apply(i,s)}),this.resetSegments(i)}reversePathStringByFunc(t){const r=this.toPathList().map((i,s)=>t(i,s)?i.reverse():i);return W.joinPathList(r).toSVGString()}getCenterPointers(){let t=[],r=[];return this.segments.forEach((i,s)=>{var n=i.values,o=i.command;switch(o){case"M":case"L":t.push({index:s,pointer:[...i.values,0]});break;case"V":t.push({index:s,pointer:[n[0],r.pop(),0]});break;case"H":r.pop(),t.push({index:s,pointer:[r.pop(),n[0],0]});break;case"C":case"S":case"T":case"Q":t.push({index:s,pointer:[n[n.length-2],n[n.length-1],0]});break}r=ve(n)}),t}get points(){return this.getCenterPointers()}getSamePointers(t,r=0){return this.getCenterPointers().filter(i=>{if(Bt(i.pointer,t)<=r)return!0})}getGroup(){const t=[];let r=[];return this.segments.forEach((i,s)=>{i.command==="M"?(r=[{index:s,segment:i}],t.push({index:s,groupIndex:t.length,segments:r})):r.push({index:s,segment:i})}),t}createGroupPath(t){var i,s;const r=new W;return r.resetSegments(((s=(i=this.getGroup()[t])==null?void 0:i.segments)==null?void 0:s.map(n=>n.segment))||[]),r}toPathList(){return this.getGroup().map(t=>W.fromSegments(t.segments.map(r=>r.segment)))}replaceSegment(t,...r){const i=[...this.segments];i.splice(t,1,...r),this.resetSegments(i)}splitSegmentByPoint(t,r=0){const i=this.getClosedPointInfo(t,r);if(i&&i.t>0&&i.t<1){switch(i.segment.command){case"C":var s=ba(i.points,i.t),n=s.first,o=$e.C(n[1].x,n[1].y,n[2].x,n[2].y,n[3].x,n[3].y),l=s.second,c=$e.C(l[1].x,l[1].y,l[2].x,l[2].y,l[3].x,l[3].y);this.replaceSegment(i.index,o,c);break;case"Q":var s=$a(i.points,i.t),n=s.first,o=$e.Q(n[1].x,n[1].y,n[2].x,n[2].y),l=s.second,c=$e.Q(l[1].x,l[1].y,l[2].x,l[2].y);this.replaceSegment(i.index,o,c);break;case"L":var s=xa(i.points,i.t),n=s.first,o=$e.L(n[1].x,n[1].y),l=s.second,c=$e.L(l[1].x,l[1].y);this.replaceSegment(i.index,o,c);break;default:return}return i}}toMultiSegmentPathList(){const t=[];return this.getGroup().forEach((i,s)=>{i.segments.forEach((n,o)=>{var u;const l=i.segments[o-1],c=((u=l==null?void 0:l.segment)==null?void 0:u.values)||[],h=c[c.length-2],d=c[c.length-1],p=n.segment.values;n.segment.command==="M"||(n.segment.command==="L"?t.push(new W(`M ${h} ${d}L ${p.join(" ")}`)):n.segment.command==="C"?t.push(new W(`M ${h} ${d}C ${p.join(" ")}`)):n.segment.command==="Q"&&t.push(new W(`M ${h} ${d}Q ${p.join(" ")}`)))})}),t}simplify(t=.1){const r=[];return this.getGroup().forEach((s,n)=>{const o=[...s.segments.filter(h=>h.segment.command.toLowerCase()!=="z").map(h=>({x:h.segment.values[0],y:h.segment.values[1]}))],l=Y.simply(o,t),c=[];l.forEach((h,d)=>{d===0?c.push($e.M(h.x,h.y)):c.push($e.L(h.x,h.y))}),r.push(...c)}),W.fromSegments(r)}smooth(t=50){let r=[];return this.getGroup().forEach((s,n)=>{const o=[...s.segments.filter(h=>h.segment.command.toLowerCase()!=="z").map(h=>[...h.segment.values,0])],l=vv(o,t),c=[];l.forEach((h,d)=>{d===0&&c.push($e.M(...h[0])),c.push($e.C(h[1][0],h[1][1],h[2][0],h[2][1],h[3][0],h[3][1]))}),s.segments[s.segments.length-1].segment.command.toLowerCase()==="z"&&c.push($e.Z()),r=r.concat(c)}),W.fromSegments(r)}cardinalSplines(t=.5){const r=[];this.getGroup().forEach((n,o)=>{const l=[...n.segments.filter(d=>d.segment.command.toLowerCase()!=="z").map(d=>[...d.segment.values,0])],c=[];l.forEach((d,p)=>{const u=l[p-1],m=l[p+1];if(p===0)c.push({point:d});else if(p===l.length-1){const $=l[0];if(Mo($,d)){const S=u,k=d,C=l[1],z=eh([],Te([],C,S),[2,2,1]),L=ki([],z,[1-t,1-t,1]),R=At([],L);c.push({reversePoint:we([],k,R),point:k,endPoint:we([],k,L)})}else c.push({point:d})}else{const $=u,S=d,C=eh([],Te([],m,$),[2,2,1]),z=ki([],C,[1-t,1-t,1]),L=At([],z);c.push({reversePoint:we([],S,L),point:S,endPoint:we([],S,z)})}});const h=[];c.forEach((d,p)=>{if(p===0)h.push($e.M(d.point[0],d.point[1]));else{const u=c[p-1]||c[c.length-1];if(u.endPoint)d.reversePoint?h.push($e.C(u.endPoint[0],u.endPoint[1],d.reversePoint[0],d.reversePoint[1],d.point[0],d.point[1])):h.push($e.Q(u.endPoint[0],u.endPoint[1],d.point[0],d.point[1]));else if(p===1){const m=c[c.length-1];m.endPoint?h.push($e.C(m.endPoint[0],m.endPoint[1],d.reversePoint[0],d.reversePoint[1],d.point[0],d.point[1])):h.push($e.Q(d.reversePoint[0],d.reversePoint[1],d.point[0],d.point[1]))}else h.push($e.Q(d.reversePoint[0],d.reversePoint[1],d.point[0],d.point[1]))}}),r.push(...h)});const s=new W;return s.resetSegments(r),s}Z(){return this.segments.push($e.Z()),this}M(t,r){return this.segments.push($e.M(t,r)),this}L(t,r){return this.segments.push($e.L(t,r)),this}C(t,r,i,s,n,o){return this.segments.push($e.C(t,r,i,s,n,o)),this}Q(t,r,i,s){return this.segments.push($e.Q(t,r,i,s)),this}drawRect(t,r,i,s){return this.segments.push($e.M(t,r),$e.L(t+i,r),$e.L(t+i,r+s),$e.L(t,r+s),$e.L(t,r),$e.Z()),this}drawLine(t,r,i,s){return this.segments.push($e.M(t,r),$e.L(i,s)),this}drawCircleWithRect(t,r,i,s=i){var n=.552284749831;const o=new W;return o.resetSegments([$e.M(0,-1),$e.C(n,-1,1,-n,1,0),$e.C(1,n,n,1,0,1),$e.C(-n,1,-1,n,-1,0),$e.C(-1,-n,-n,-1,0,-1),$e.Z()]),o.translate(1,1).scale(i/2,s/2).translate(t,r),this.addPath(o),this}drawCircle(t,r,i){return this.drawCircleWithRect(t-i,r-i,i*2,i*2)}drawArc(t,r,i,s,n,o,l){const[c,h]=this.lastPoint;return this.addPath(W.arcToCurve(c,h,t,r,i,s,n,o,l))}get verties(){let t=[],r=[];return this.each(function(i){var s=i.values,n=i.command;switch(n){case"M":case"L":t.push([...i.values,0]);break;case"V":t.push([s[0],r.pop(),0]);break;case"H":r.pop(),t.push([r.pop(),s[0],0]);break;case"C":case"S":case"T":case"Q":for(var o=0,l=s.length;o<l;o+=2)t.push([s[o],s[o+1],0]);break}r=s}),t}get pathVerties(){const t=[];return this.segments.forEach((r,i)=>{if(r.values.length>0){const o=r.values;for(var s=0,n=o.length;s<n;s+=2)t.push({segmentIndex:i,valueIndex:s,x:o[s],y:o[s+1]})}}),t}get d(){return this.toString().trim()}get closed(){return this.segments.some(t=>t.command==="Z")&&Lf(this.lastPoint,this.firstPoint)}get opened(){return!this.closed}get length(){let t=0;return this.getGroup().forEach((i,s)=>{i.segments.forEach((n,o)=>{var u;const l=i.segments[o-1],c=((u=l==null?void 0:l.segment)==null?void 0:u.values)||[],h=c[c.length-2],d=c[c.length-1],p=n.segment.values;n.segment.command==="M"||(n.segment.command==="L"?t+=Yt(h,d,p[0],p[1]):n.segment.command==="C"?t+=ya(h,d,p[0],p[1],p[2],p[3],p[4],p[5]):n.segment.command==="Q"&&(t+=Es(h,d,p[0],p[1],p[2],p[3])))})}),t}get lengthList(){let t=[];return this.getGroup().forEach((i,s)=>{i.segments.forEach((n,o)=>{var u;const l=i.segments[o-1],c=((u=l==null?void 0:l.segment)==null?void 0:u.values)||[],h=c[c.length-2],d=c[c.length-1],p=n.segment.values;n.segment.command==="M"||(n.segment.command==="L"?t.push({groupIndex:s,segmentIndex:o,length:Yt(h,d,p[0],p[1])}):n.segment.command==="C"?t.push({groupIndex:s,segmentIndex:o,length:ya(h,d,p[0],p[1],p[2],p[3],p[4],p[5])}):n.segment.command==="Q"&&t.push({groupIndex:s,segmentIndex:o,length:Es(h,d,p[0],p[1],p[2],p[3])}))})}),t}get lastSegment(){const t=this.segments[this.segments.length-1];return t.command!=="Z"?t:this.segments[this.segments.length-2]}get lastPoint(){const t=this.lastSegment.values;return[t[t.length-2],t[t.length-1]]}get firstSegment(){return this.segments[0]}get firstPoint(){const t=this.firstSegment.values;return[t[0],t[1]]}static joinPathList(t=[]){const r=W.fromSVGString();return t.forEach(i=>{r.addPath(i)}),r}static fromSegments(t){const r=new W;return r.resetSegments(t),r}static fromSVGString(t=""){return new W(t)}static makeRect(t,r,i,s){return W.fromSVGString().drawRect(t,r,i,s)}static makeLine(t,r,i,s){return W.fromSVGString().drawLine(t,r,i,s)}static makeCircle(t,r,i,s){return W.fromSVGString().drawCircleWithRect(t,r,i,s)}static makePathByPoints(t=[]){const r=t.map((i,s)=>s===0?$e.M(i.x,i.y):$e.L(i.x,i.y));return r.push($e.Z()),W.fromSegments(r)}static makePathByVerties(t=[],r=!0){const i=t.map((s,n)=>n===0?$e.M(s[0],s[1]):$e.L(s[0],s[1]));return r&&i.push($e.Z()),W.fromSegments(i)}static makePolygon(t,r,i=3){const s=[],n=1/2,o=1/2;for(var l=0;l<i;l++){var c=l/i*Math.PI*2-Math.PI/2,h=Math.cos(c)*n+n,d=Math.sin(c)*o+o;l===0?s.push($e.M(h,d)):s.push($e.L(h,d))}return s.push($e.L(s[0].values[0],s[0].values[1])),s.push($e.Z()),W.fromSegments(s).scale(t,r)}static makeStar(t,r,i=5,s=.5){const n=[],o=1/2,l=1/2,c=Math.min(o,l),h=c*s,d=i*2;let p,u=0;for(var m=0;m<d;m++){var $=m/d*Math.PI*2-Math.PI/2,s=m%2==0?c:h,S=Math.cos($)*s+o,k=Math.sin($)*s+l;m===0?(n.push($e.M(S,k)),p=S,u=k):n.push($e.L(S,k))}return n.push($e.L(p,u)),n.push($e.Z()),W.fromSegments(n).scale(t,r)}static makeCurvedStar(t,r,i=5,s=.5,n=.5){return W.makeStar(t,r,i,s).cardinalSplines(n)}static arcToCurve(t,r,i,s,n,o,l,c,h){const d=xv({px:t,py:r,cx:c,cy:h,rx:i,ry:s,xAxisRotation:n,largeArcFlag:o,sweepFlag:l}),p=new W;return p.M(t,r),d.forEach(u=>{p.C(u.x1,u.y1,u.x2,u.y2,u.x,u.y)}),p}toCurveList(){const t=[];return this.segments.forEach((r,i)=>{if(i>0){const s=this.segments[i-1],n=[s.values[s.values.length-2],s.values[s.values.length-1]],o=[On(n),On([r.values[0],r.values[1]]),On([r.values[2],r.values[3]]),On([r.values[4],r.values[5]])];t.push({points:o,curveFunction:xn(...o)})}}),t}toInterpolateFunction(){const t=this.normalize().toCurveList().map(r=>({points:r.points,curveFunction:r.curveFunction,start:r.points[0].x,end:r.points[r.points.length-1].x}));return r=>{const i=t.find(n=>n.start<=r&&r<=n.end);if(i)return i.curveFunction(r).y;if(r===0)return t[0].points[0].y;const s=t[t.length-1].points;return s[s.length-1].y}}}const Uh={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315};class gr extends Yo{isGradient(){return!0}toString(){return"none"}getDefaultObject(t={}){return v({itemType:"image-resource",type:"gradient",colorsteps:[]},t)}toCloneObject(){return le(v({},super.toCloneObject()),{colorsteps:this.json.colorsteps.map(t=>t.clone())})}convert(t){return t.colorsteps[0]instanceof Qe||(t.colorsteps=t.colorsteps.map(r=>new Qe(r))),t}calculateAngle(){var t=this.json.angle;return xt(Uh[t])?t:Uh[t]||0}addColorStep(t,r=!0){return this.json.colorsteps.push(t),r&&this.sortColorStep(),t}pickColorStep(t){var r=this.colorsteps;if(!r.length)return{percent:0,color:"rgba(0,0,0,0)"};if(t<r[0].percent)return{percent:t,color:r[0].color};var i=r.length-1;if(r[i].percent<t)return{percent:t,color:r[i].color};for(var s=0,n=r.length-1;s<n;s++){var o=r[s],l=r[s+1];if(o.percent<=t&&t<=l.percent){const d=l.timing;switch(d.name){case ge.STEPS:var c=al(d.count,d.direction);break;case ge.PATH:var c=W.fromSVGString(d.d).toInterpolateFunction();default:var c=nl(d.matchedString);break}var h=(t-o.percent)/(l.percent-o.percent);const p=Le.mix(o.color,l.color,c(h));return{percent:t,color:p}}}}insertColorStep(t,r="rgba(216,216,216,0)",i="rgba(216,216,216,1)"){var s=this.colorsteps;if(!s.length){this.addColorStepList([new Qe({color:r,percent:t,index:0}),new Qe({color:i,percent:100,index:100})]);return}if(t<s[0].percent)return s[0].index=1,this.addColorStep(new Qe({index:0,color:s[0].color,percent:t})),0;var n=s.length-1;if(s[n].percent<t){var o=s[n].color,l=s[n].index+1;return this.addColorStep(new Qe({index:l,color:o,percent:t})),l}for(var c=0,h=s.length-1;c<h;c++){var d=s[c],p=s[c+1];if(d.percent<=t&&t<=p.percent){var o=Le.mix(d.color,p.color,(t-d.percent)/(p.percent-d.percent),"rgb");return this.addColorStep(new Qe({index:d.index+1,color:o,percent:t})),c+1}}}sortColorStep(){var t=this.colorsteps;t.sort((r,i)=>{if(r.percent>i.percent)return 1;if(r.percent<i.percent)return-1;if(r.percent==i.percent)return r.index===i.index?0:r.index>i.index?1:-1}),t.forEach((r,i)=>{r.index=i*100})}sortToRight(){var t=this.colorsteps;const r=t.length,i=100/r;t.forEach((s,n)=>{s.percent=i*(n+1)}),this.sortColorStep()}sortToLeft(){var t=this.colorsteps;const r=t.length,i=100/r;t.forEach((s,n)=>{s.percent=i*n}),this.sortColorStep()}addColorStepList(t=[]){t.forEach(r=>{this.addColorStep(r,!1)}),this.sortColorStep()}getColorStep(t){return this.json.colorsteps.filter(r=>r.id==t)[0]}clear(...t){t.length?this.json.colorsteps.splice(+t[0],1):this.json.colorsteps=[]}removeColorStepByIndex(t){this.json.colorsteps.splice(t,1)}removeColorStep(t){this.json.colorsteps=this.json.colorsteps.filter(r=>r.id!=t)}get colorsteps(){return this.json.colorsteps}makeTimingString(t,r=1){switch(t.name){case ge.LINEAR:return"";case ge.EASE:case ge.EASE_IN:case ge.EASE_OUT:case ge.EASE_IN_OUT:return`${t.name} ${r}`;case ge.STEPS:return`steps(${t.count}, ${t.direction})`;case ge.PATH:return`path(${t.d}) ${r}`;default:return`cubic-bezier(${t.x1}, ${t.y1}, ${t.x2}, ${t.y2}) ${r}`}}getColorString(){return this.colorsteps.map((t,r)=>{const{color:i,percent:s,timing:n,timingCount:o}=t;return`${i} ${s}% ${this.makeTimingString(n,o)}`}).join(",")}static makeColorStepList(t){const r=[];return t.forEach((i,s)=>{const{color:n,percent:o,timing:l,timingCount:c}=i;var h=t[s-1];if(s===0)return r.push({color:n,percent:o}),r;switch(l.name){case ge.STEPS:for(var d=al(l.count,l.direction),p=[],u=0;u<=l.count;u++){var m=h.percent+(o-h.percent)*(u/l.count),$=Le.mix(h.color,n,d(u/l.count));p.push({percent:m,color:$})}p.forEach((S,k)=>{if(k===0)r.push({percent:h.percent,color:S.color}),r.push(S);else{const C=p[k-1];r.push({percent:C.percent,color:S.color}),r.push(S)}});break;case ge.PATH:for(var d=W.fromSVGString(l.d).toInterpolateFunction(),p=[],u=0;u<=c;u++){const k=h.percent+(o-h.percent)*(u/c),C=Le.mix(h.color,n,d(u/c));p.push({percent:k,color:C})}r.push(...p);break;default:for(var d=nl(l.matchedString),p=[],u=0;u<=c;u++){const k=h.percent+(o-h.percent)*(u/c),C=Le.mix(h.color,n,d(u/c));p.push({percent:k,color:C})}r.push(...p);break}}),r}static toCSSColorString(t=[],r="%",i=100){return gr.makeColorStepList(t).map(n=>{const{color:o,percent:l}=n,c=l/100*i;return`${o} ${c}${r}`}).join(",")}static parseColorSteps(t){return t.map((r,i)=>{var s,n,o;if(r.length===1){const l=((s=t[i-1])==null?void 0:s[1])||{parsed:{value:0}},c=((n=t[i+1])==null?void 0:n[1])||{parsed:{value:100}};let h=0;return t[i-1]?t[i+1]?h=l.parsed.value+(c.parsed.value-l.parsed.value)*.5:h=100:h=0,new Qe({color:r[0].matchedString,percent:h,unit:"%",timing:Dt("linear").parsed,timingCount:1})}if(r.length===2)return new Qe({color:r[0].matchedString,percent:r[1].parsed.value,unit:r[1].parsed.unit,timing:Dt("linear").parsed,timingCount:1});if(r.length===3)return r[2].parsed.funcType===qe.TIMING?new Qe({color:r[0].matchedString,percent:r[1].parsed.value,unit:r[1].parsed.unit,timing:r[2].parsed,timingCount:(o=r[3])==null?void 0:o.parsed.value}):new Qe({color:r[0].matchedString,percent:r[2].parsed.value,unit:r[2].parsed.unit,timing:Dt("steps(1, start)").parsed});if(r.length===4)return new Qe({color:r[0].matchedString,percent:r[1].parsed.value,unit:r[1].parsed.unit,timing:r[2].parsed,timingCount:r[3].parsed.value})})}}class Li extends gr{getDefaultObject(){return super.getDefaultObject({type:"static-gradient",static:!0,colorsteps:[new Qe({color:"red",percent:0,index:0}),new Qe({color:"red",percent:100,index:0})]})}toCloneObject(){return le(v({},super.toCloneObject()),{static:!0})}static parse(t){const r=Dt(t);var i=gr.parseColorSteps(r.parameters);return new Li({colorsteps:i})}static create(t="transparent"){return new Li({colorsteps:[new Qe({color:t,percent:0,index:0}),new Qe({color:t,percent:100,index:1})]})}toString(){var t=this.json.colorsteps[0].color;return`static-gradient(${t})`}toCSSString(){if(this.colorsteps.length===0)return"";const t=this.colorsteps[0].color||"black";return`linear-gradient(${t} 0%, ${t} 100%)`}}const wv=["jpg","jpeg","png","gif","svg"];class ds extends Yo{getDefaultObject(t={}){return super.getDefaultObject(v({type:N.URL,url:"",datauri:""},t))}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("url","datauri"))}static parse(t){var r=t.split("(")[1].split(")")[0];return new ds({url:r})}isUrl(){return!0}toString(t){return`url(${t||this.json.url})`}static isImageFile(t){return wv.includes(t)}}const Xh={"0":"to top","45":"to top right","90":"to right","135":"to bottom right","180":"to bottom","225":"to bottom left","270":"to left","315":"to top left"},Pv={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315};class Ur extends gr{getDefaultObject(t){return super.getDefaultObject(v({type:"linear-gradient",angle:0},t))}toCloneObject(){return le(v({},super.toCloneObject()),{angle:this.json.angle})}isLinear(){return!0}hasAngle(){return!0}getRealAngle(){return this.json.angle}get angle(){return this.getRealAngle()}toString(){if(this.colorsteps.length===0)return"";var t=this.getColorString(),r="",i=this.json.angle||0;r=i,ft(r)&&(r=Xh[`${r}`]||r),ft(r)&&(r=r>360?r%360:r,r=`${r}deg`);var s=`${this.json.type}(${r}, ${t})`;return s}toCSSString(){if(this.colorsteps.length===0)return"";var t=Ur.toCSSColorString(this.colorsteps),r="",i=this.json.angle||0;r=i,ft(r)&&(r=Xh[`${r}`]||r),ft(r)&&(r=r>360?r%360:r,r=`${r}deg`);var s=`${this.json.type}(${r}, ${t})`;return s}static parse(t){const r=Dt(t);var i={};let[s,...n]=r.parameters;const o=[],l=[];s[0].func!==qe.COLOR?s.forEach(d=>{d.func===qe.KEYWORD?l.push(d):o.push(d)}):n=r.parameters;let c=l.map(d=>d.matchedString).join(" ");c===""?[c]=o.map(d=>d.parsed.value):c=Pv[c],i=le(v({},i),{angle:c});const h=Ur.parseColorSteps(n);return new Ur(le(v({},i),{colorsteps:h}))}}class zs extends Ur{getDefaultObject(){return super.getDefaultObject({type:"repeating-linear-gradient",angle:0})}static parse(t){var r=Ur.parse(t);return new zs({angle:r.angle,colorsteps:r.colorsteps})}}const Yh={center:!0,top:!0,left:!0,right:!0,bottom:!0};class Jr extends gr{getDefaultObject(t={}){return super.getDefaultObject(v({type:"radial-gradient",radialType:"ellipse",radialSize:Lr.FARTHEST_CORNER,radialPosition:[lr.CENTER,lr.CENTER]},t))}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("radialType","radialSize","radialPosition"))}getConerDist(t){let r=t.backVerties[0],i=t.backVerties[1],s=t.backVerties[3],n=t.backVerties[2];const o=he(t.radialCenterPosition,r),l=he(t.radialCenterPosition,i),c=he(t.radialCenterPosition,s),h=he(t.radialCenterPosition,n),d=[["top-left",r,o],["top-right",i,l],["bottom-left",s,c],["bottom-right",n,h]];return d.sort((p,u)=>p[2]-u[2]),{cornerList:d,topLeftDist:o,topRightDist:l,bottomLeftDist:c,bottomRightDist:h}}EllipseRadiusToSide(t,r=!0){var i=Math.abs(t.radialCenterPoint[0]),s=Math.abs(t.radialCenterPoint[1]),n=Math.abs(t.radialCenterPoint[0]-t.backRect.width),o=Math.abs(t.radialCenterPoint[1]-t.backRect.height);if(r)var l=i<n?i:n,c=s<o?s:o;else var l=i>n?i:n,c=s>o?s:o;return{width:l,height:c}}EllipseRadius(t,r,i=!0){const{cornerList:s,topLeftDist:n,topRightDist:o,bottomRightDist:l,bottomLeftDist:c}=this.getConerDist(r),h=[n,o,c,l];var d=i?Math.min(...h):Math.max(...h),p=s.find(k=>k[2]===d)[1],u=t.width/t.height;if(u!==0){var m=Te([],p,r.radialCenterPosition),$=Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2)*Math.pow(u,2)),S=$/u;return{width:$,height:S}}}getStartEndPoint(t){let r,i,s;const n=this.json.radialType,o=this.json.radialSize;let[l,c]=this.json.radialPosition;const h=t.backRect,d=wt(h.x,h.y,h.width,h.height);l=="center"&&(l=g.percent(50)),c=="center"&&(c=g.percent(50));const p=l.toPx(h.width),u=c.toPx(h.height),m=[h.x+p.value,h.y+u.value,0];let $=[d[0][0],u.value,0],S=[d[1][0],u.value,0],k=[p.value,d[0][1],0],C=[p.value,d[3][1],0];const z=he(m,$),L=he(m,S),R=he(m,k),j=he(m,C),X=[["top",k,R],["left",$,z],["right",S,L],["bottom",C,j]];X.sort((rt,ct)=>rt[2]-ct[2]);let Z=d[0],q=d[1],ue=d[3],de=d[2];const me=he(m,Z),fe=he(m,q),je=he(m,ue),ee=he(m,de),Be=[["top-left",Z,me],["top-right",q,fe],["bottom-left",ue,je],["bottom-right",de,ee]];switch(Be.sort((rt,ct)=>rt[2]-ct[2]),r=Ft(m),n){case yt.CIRCLE:switch(o){case Lr.CLOSEST_SIDE:var[dt,He,Ze]=X[0];i=Ee(r[0]+Ze,r[1],r[2]),s=Ee(r[0],r[1]+Ze,r[2]);break;case Lr.CLOSEST_CORNER:var[dt,He,Ze]=Be[0];i=Ee(r[0]+Ze,r[1],r[2]),s=Ee(r[0],r[1]+Ze,r[2]);break;case Lr.FARTHEST_SIDE:var[dt,He,Ze]=X[X.length-1];i=Ee(r[0]+Ze,r[1],r[2]),s=Ee(r[0],r[1]+Ze,r[2]);break;case yt.CIRCLE:case Lr.FARTHEST_CORNER:var[dt,He,Ze]=Be[Be.length-1];i=Ee(r[0]+Ze,r[1],r[2]),s=Ee(r[0],r[1]+Ze,r[2]);break;default:var Ze=(o[0]||o).toPx(he(t.backVerties[1],t.backVerties[0])).value;i=Ee(r[0]+Ze,r[1],r[2]),s=Ee(r[0],r[1]+Ze,r[2]);break}break;case yt.ELLIPSE:switch(o){case Lr.CLOSEST_SIDE:var Ce=this.EllipseRadiusToSide(t,!0);i=Ee(r[0]+Ce.width,r[1],r[2]),s=Ee(r[0],r[1]+Ce.height,r[2]);break;case Lr.CLOSEST_CORNER:var Ce=this.EllipseRadiusToSide(t,!0),Me=this.EllipseRadius(Ce,t,!0);i=Ee(r[0]+Me.width,r[1],r[2]),s=Ee(r[0],r[1]+Me.height,r[2]);break;case Lr.FARTHEST_SIDE:var Ce=this.EllipseRadiusToSide(t,!1);i=Ee(r[0]+Ce.width,r[1],r[2]),s=Ee(r[0],r[1]+Ce.height,r[2]);break;case Lr.FARTHEST_CORNER:var Ce=this.EllipseRadiusToSide(t,!1),Me=this.EllipseRadius(Ce,t,!1);i=Ee(r[0]+Me.width,r[1],r[2]),s=Ee(r[0],r[1]+Me.height,r[2]);break;default:var at=o[0].toPx(he(t.backVerties[1],t.backVerties[0])).value,oe=o[1].toPx(he(t.backVerties[3],t.backVerties[0])).value;i=Ee(r[0]+at,r[1],r[2]),s=Ee(r[0],r[1]+oe,r[2]);break}break}return{startPoint:r,endPoint:i,shapePoint:s}}toString(){if(this.colorsteps.length===0)return"";var t=this.getColorString(),r=this.json,i="",s=r.radialType||yt.ELLIPSE,n=r.radialSize||Lr.FARTHEST_CORNER,o=r.radialPosition||["center","center"];return o=Yh[o]?o:o.join(" "),n=ai(n)?n.join(" "):n,i=o?`${s} ${n} at ${o}`:`${s} ${n}`,`${r.type||"radial-gradient"}(${i}, ${t})`}toCSSString(){if(this.colorsteps.length===0)return"";var t=Jr.toCSSColorString(this.colorsteps),r=this.json,i="",s=r.radialType||yt.ELLIPSE,n=r.radialSize||Lr.FARTHEST_CORNER,o=r.radialPosition||["center","center"];return o=Yh[o]?o:o.join(" "),n=ai(n)?n.join(" "):n,i=o?`${s} ${n} at ${o}`:`${s} ${n}`,`${r.type||"radial-gradient"}(${i}, ${t})`}static parse(t){const r=Dt(t);var i={radialType:yt.ELLIPSE,radialSize:Lr.FARTHEST_CORNER,radialPosition:["center","center"]};let[s,...n]=r.parameters;if(s[0].func!==qe.COLOR){let l=yt.ELLIPSE,c=!1,h=[],d=[];s.forEach(p=>{if(p.func===qe.KEYWORD&&p.matchedString==="at")c=!0;else if(c)h.push(p);else switch(p.matchedString){case yt.CIRCLE:case yt.ELLIPSE:l=p.matchedString;break;default:d.push(p);break}}),i.radialType=l,i.radialPosition=h.map(p=>{if(p.func===qe.KEYWORD)switch(p.matchedString){case"top":return g.percent(0);case"left":return g.percent(0);case"right":return g.percent(100);case"bottom":return g.percent(100);case"center":return g.percent(50)}return p.parsed}),i.radialSize=d.map(p=>p.func===qe.KEYWORD?p.matchedString:p.parsed),i.radialSize.length===1&&(i.radialSize=i.radialSize[0])}else n=r.parameters;const o=Jr.parseColorSteps(n);return new Jr(le(v({},i),{colorsteps:o}))}}class js extends Jr{getDefaultObject(){return super.getDefaultObject({type:"repeating-radial-gradient"})}static parse(t){var r=Jr.parse(t);return new js({radialType:r.radialType,radialSize:r.radialSize,radialPosition:r.radialPosition,colorsteps:r.colorsteps})}}const Wh={center:!0,top:!0,left:!0,right:!0,bottom:!0},Kh={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315};class ei extends gr{getDefaultObject(t={}){return super.getDefaultObject(v({type:"conic-gradient",angle:0,radialPosition:[lr.CENTER,lr.CENTER]},t))}toCloneObject(){return le(v({},super.toCloneObject()),{angle:this.json.angle,radialPosition:ve(this.json.radialPosition)})}hasAngle(){return!0}pickColorStep(t){return super.pickColorStep((t+100)%100)}getStartEndPoint(t){let r,i,s,[n,o]=this.json.radialPosition;const l=t.backRect,c=wt(l.x,l.y,l.width,l.height);n=="center"&&(n=g.percent(50)),o=="center"&&(o=g.percent(50));const h=n.toPx(l.width),d=o.toPx(l.height),p=[l.x+h.value,l.y+d.value,0];let u=c[0],m=c[1],$=c[3],S=c[2];const k=he(p,u),C=he(p,m),z=he(p,$),L=he(p,S);r=Ft(p);const R=Math.max(k,C,z,L);return i=Ee(r[0]+R,r[1],r[2]),s=Ee(r[0],r[1]-R,r[2]),{startPoint:r,endPoint:i,shapePoint:s}}toString(){var t=this.getColorString(),r=[],i=this.json,s=i.angle,n=i.radialPosition||lr.CENTER;n=Wh[n]?n:n.join(" "),Re(s)&&(s=+(Kh[s]||s),r.push(`from ${s}deg`)),n&&r.push(`at ${n}`);var o=r.length?r.join(" ")+",":"";return`${i.type}(${o} ${t})`}toCSSString(){if(this.colorsteps.length===0)return"";var t=ei.toCSSColorString(this.colorsteps,"deg",360),r=[],i=this.json,s=i.angle,n=i.radialPosition||lr.CENTER;n=Wh[n]?n:n.join(" "),Re(s)&&(s=+(Kh[s]||s),r.push(`from ${s}deg`)),n&&r.push(`at ${n}`);var o=r.length?r.join(" ")+",":"";return`${i.type}(${o} ${t})`}static parse(t){const r=Dt(t);var i={angle:0,radialPosition:["center","center"]};let[s,...n]=r.parameters;if(s[0].func!==qe.COLOR){let l=!1,c=!1,h=[],d=[];s.forEach(p=>{p.func===qe.KEYWORD&&p.matchedString==="from"?l=!0:p.func===qe.KEYWORD&&p.matchedString==="at"?c=!0:c?h.push(p):l&&d.push(p)}),i.radialPosition=h.map(p=>{if(p.func===qe.KEYWORD)switch(p.matchedString){case"top":return g.percent(0);case"left":return g.percent(0);case"right":return g.percent(100);case"bottom":return g.percent(100);case"center":return g.percent(50)}return p.parsed}),d.length&&(i.angle=d[0].parsed.value)}else n=r.parameters;const o=ei.parseColorSteps(n);return new ei(le(v({},i),{colorsteps:o}))}}class As extends ei{getDefaultObject(){return super.getDefaultObject({type:"repeating-conic-gradient",angle:0,radialPosition:[lr.CENTER,lr.CENTER]})}static parse(t){var r=ei.parse(t);return new As({angle:r.angle,radialPosition:r.radialPosition,colorsteps:r.colorsteps})}}const Cv=["repeat","no-repeat","repeat-x","repeat-y","round","space"];class Fe extends ir{addImageResource(t){return this.clear("image-resource"),this.addItem("image-resource",t)}addGradient(t){return this.addImageResource(t)}setImageUrl(t){!t.images||!t.images.length||this.reset({type:"image",image:Fe.createImage(t.images[0])})}static createImage(t){return new ds({url:t})}setGradient(t){this.reset({type:t.type,image:Fe.createGradient(t,this.json.image)})}static createGradient(t,r){const i=t.colorsteps||r.colorsteps,s=t.angle||r.angle,n=t.radialType||r.radialType,o=t.radialPosition||r.radialPosition;let l=r.toJSON();switch(delete l.itemType,delete l.type,t.type){case"static-gradient":return new Li(le(v({},l),{colorsteps:i}));case"linear-gradient":return new Ur(le(v({},l),{colorsteps:i,angle:s}));case"repeating-linear-gradient":return new zs(le(v({},l),{colorsteps:i,angle:s}));case"radial-gradient":return new Jr(le(v({},l),{colorsteps:i,radialType:n,radialPosition:o}));case"repeating-radial-gradient":return new js(le(v({},l),{colorsteps:i,radialType:n,radialPosition:o}));case"conic-gradient":return new ei(le(v({},l),{colorsteps:i,angle:s,radialPosition:o}));case"repeating-conic-gradient":return new As(le(v({},l),{colorsteps:i,angle:s,radialPosition:o}))}return new gr}getDefaultObject(){return super.getDefaultObject({itemType:"background-image",checked:!1,blendMode:"normal",size:"auto",repeat:"repeat",width:g.percent(100),height:g.percent(100),x:g.percent(0),y:g.percent(0)})}toCloneObject(){var t=this.json;return le(v(v({},super.toCloneObject()),this.attrs("checked","blendMode","size","repeat","width","height","x","y")),{image:t.image.clone()})}convert(t){return t.x=g.parse(t.x),t.y=g.parse(t.y),t.width&&(t.width=g.parse(t.width)),t.height&&(t.height=g.parse(t.height)),ht(t.image)&&(t.image=Fe.parseImage(t.image)),t}get image(){return this.json.image}set image(t){this.json.image=t}checkField(t,r){return t==="repeat"?Cv.includes(r):super.checkField(t,r)}recoverOffset(t,r,i,s=0,n=0,o={}){const{x:l,y:c,width:h,height:d}=this.json,p=Math.floor(h.toPx(i.width).value+s),u=o.shiftKey?p:Math.floor(d.toPx(i.height).value+n);t-=i.x,r-=i.y,p<0&&(t+=p),u<0&&(r+=u);let m=g.px(t),$=g.px(r);const S=2;return l.isPercent()&&(Math.abs(t)<S?m=g.percent(0):Math.abs(i.width-p-t)<S?m=g.percent(100):Math.abs((i.width-p)/2-t)<S?m=g.percent(50):m=g.makePercent(t,i.width-p)),c.isPercent()&&(Math.abs(r)<S?$=g.percent(0):Math.abs(i.height-u-r)<S?$=g.percent(100):Math.abs((i.height-u)/2-r)<S?$=g.percent(50):$=g.makePercent(r,i.height-u)),{x:m,y:$,width:g.px(Math.abs(p)).to(h.unit,i.width),height:g.px(Math.abs(u)).to(d.unit,i.height)}}getOffset(t){const{x:r,y:i,width:s,height:n}=this.json,o=s.toPx(t.width),l=n.toPx(t.height),c=r.toPx(t.width),h=i.toPx(t.height);return{x:t.x+(r.isPercent()?(t.width-o)*(r.value/100):c),y:t.y+(i.isPercent()?(t.height-l)*(i.value/100):h),width:o.value,height:l.value}}toBackgroundImageCSS(){return this.json.image?{"background-image":this.json.image.toCSSString()}:{}}toBackgroundImageProperty(){return this.json.image?{"background-image":this.json.image.toString()}:{}}toBackgroundPositionCSS(){var t=this.json;return{"background-position":`${t.x} ${t.y}`}}toBackgroundSizeCSS(){var t=this.json,r="auto";return t.size=="contain"||t.size=="cover"?r=t.size:t.width.isPercent()&&t.width.isPercent()?(+t.width!=100||+t.height!=100)&&(r=`${t.width} ${t.height}`):r=`${t.width} ${t.height}`,{"background-size":r}}toBackgroundRepeatCSS(){var t=this.json;return{"background-repeat":t.repeat}}toBackgroundBlendCSS(){var t=this.json;return{"background-blend-mode":t.blendMode}}toBackgroundVisibilityCSS(){var t=this.json;return{"background-visibility":t.visibility===Hr.HIDDEN?Hr.HIDDEN:Hr.VISIBLE}}toCSS(){return v(v(v(v(v(v({},this.toBackgroundImageCSS()),this.toBackgroundPositionCSS()),this.toBackgroundSizeCSS()),this.toBackgroundRepeatCSS()),this.toBackgroundBlendCSS()),this.toBackgroundVisibilityCSS())}toProperty(){return v(v(v(v(v(v({},this.toBackgroundImageProperty()),this.toBackgroundPositionCSS()),this.toBackgroundSizeCSS()),this.toBackgroundRepeatCSS()),this.toBackgroundBlendCSS()),this.toBackgroundVisibilityCSS())}toString(){return gc(this.toCSS(),(t,r)=>`${t}: ${r}`).join(";")}toBackgroundCSS(){var t=this.toCSS();return{background:`${t["background-image"]} `}}static parse(t){return new Fe(t)}static parseImage(t){const r=Dt(t);let i=null;if(!r||t==="undefined")return Li.create(t||"transparent");switch(r.func){case N.LINEAR:i=Ur.parse(r.matchedString);break;case N.REPEATING_LINEAR:i=zs.parse(r.matchedString);break;case N.RADIAL:i=Jr.parse(r.matchedString);break;case N.REPEATING_RADIAL:i=js.parse(r.matchedString);break;case N.CONIC:i=ei.parse(r.matchedString);break;case N.REPEATING_CONIC:i=As.parse(r.matchedString);break;case N.URL:i=ds.parse(r.matchedString);break;default:i=Li.parse(r.matchedString);break}return i}static changeImageType(t){switch(t.type){case N.STATIC:return new Li(t);case N.LINEAR:return new Ur(t);case N.REPEATING_LINEAR:return new zs(t);case N.RADIAL:return new Jr(t);case N.REPEATING_RADIAL:return new js(t);case N.CONIC:return new ei(t);case N.REPEATING_CONIC:return new As(t);case N.URL:return new ds(t)}}static parseStyle(t){var r=[];return t["background-image"]&&pv(t["background-image"],"background-image").forEach((s,n)=>{const o=s[0];let l;switch(o.func){case N.STATIC:l=Li.parse(o.matchedString);break;case N.LINEAR:l=Ur.parse(o.matchedString);break;case N.REPEATING_LINEAR:l=zs.parse(o.matchedString);break;case N.RADIAL:l=Jr.parse(o.matchedString);break;case N.REPEATING_RADIAL:l=js.parse(o.matchedString);break;case N.CONIC:l=ei.parse(o.matchedString);break;case N.REPEATING_CONIC:l=As.parse(o.matchedString);break;case N.URL:l=ds.parse(o.matchedString);break}r[n]=new Fe({type:l.type,image:l})}),t["background-repeat"]&&t["background-repeat"].split(",").map(i=>i.trim()).forEach((i,s)=>{r[s]&&(r[s].repeat=i)}),t["background-blend-mode"]&&t["background-blend-mode"].split(",").map(i=>i.trim()).forEach((i,s)=>{r[s]&&(r[s].blendMode=i)}),t["background-size"]&&t["background-size"].split(",").map(i=>i.trim()).forEach((i,s)=>{if(r[s])if(i=="cover"||i==="contain"||i==="auto")r[s].size=i;else{r[s].size="auto";let[n,o]=i.split(" ");r[s].width=g.parse(n),r[s].height=g.parse(o)}}),t["background-position"]&&t["background-position"].split(",").map(i=>i.trim()).forEach((i,s)=>{if(r[s]){let[n,o]=i.split(" ");r[s].x=g.parse(n),r[s].y=g.parse(o)}}),t["background-visibility"]&&t["background-visibility"].split(",").map(i=>i.trim()).forEach((i,s)=>{r[s]&&(r[s].visibility=i===Hr.HIDDEN?Hr.HIDDEN:Hr.VISIBLE)}),r}static toCSS(t){var r={};return t.forEach(i=>{ra(i.toCSS(),(s,n)=>{r[s]||(r[s]=[]),r[s].push(n)})}),mc(r)}static toProperty(t){var r={};return t.forEach(i=>{ra(i.toProperty(),(s,n)=>{r[s]||(r[s]=[]),r[s].push(n)})}),mc(r)}static join(t){return Ge(Fe.toProperty(t.map(r=>Fe.parse(r))))}static joinCSS(t){return Fe.toCSS(t.map(r=>Fe.parse(r)))}}var kv={command:"addBackgroundImageAsset",execute:function(a,t,r=null){var i=a.selection.itemsByIds(r);let s={};i.forEach(n=>{let o=Fe.parseStyle(Kt(n["background-image"]));o.unshift(new Fe({image:new ds({url:t})})),s[n.id]={"background-image":Fe.join(o)}}),a.emit("history.setAttributeForMulti","add background image",s)}},Tv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kv}),Mv={command:"addBackgroundImageGradient",execute:function(a,t,r=null){var i=a.selection.itemsByIds(r);let s={};i.forEach(n=>{let o=Fe.parseStyle(Kt(n["background-image"]));o.unshift(new Fe({image:Fe.parseImage(t)})),s[n.id]={"background-image":Fe.join(o)}}),a.emit("history.setAttributeForMulti","add gradient",s)}},Iv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Mv});const Ev=1e3,Ma=new Map;class ll{static has(t){return Ma.has(t)}static get(t){return Ma.get(t)}static set(t,r){Ma.size>Ev&&Ma.clear(),Ma.set(t,r)}}const Lv={check:cr("check"),grid:cr("grid"),dot:cr("dot"),"cross-dot":cr("cross-dot"),"diagonal-line":cr("diagonal-line"),"vertical-line":cr("vertical-line"),"horizontal-line":cr("horizontal-line")};class fr extends ir{getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"pattern"},t))}toString(){return`${this.json.type}(${this.json.value||""})`}static parse(t){var r=Fv[t.type];if(r)return new r(t)}static parseStyle(t){var r=[];return!t||t==="undefined"?r:(t=t.trim(),ll.has(t)?ll.get(t):(ka(t,{customFuncMap:Lv}).forEach((s,n)=>{const[o,l,c,h,d=[{matchedString:"normal"}],p=[{parsed:g.parse("1px")},{parsed:g.parse("1px")}]]=s.parameters;r[n]=fr.parse({type:s.type,x:l[0].parsed,y:l[1].parsed,width:o[0].parsed,height:o[1].parsed,foreColor:c[0].matchedString,backColor:h[0].matchedString,blendMode:d[0].matchedString,lineWidth:p[0].parsed,lineHeight:p[1].parsed})}),ll.set(t,r),r))}static join(t){return t.map(r=>fr.parse(r)).join(" ")}static toCSS(t){let r=[];return fr.parseStyle(t).forEach(i=>{r.push.apply(r,Fe.parseStyle(Kt(i.toCSS())))}),Fe.joinCSS(r)}}class us extends fr{getDefaultObject(){return super.getDefaultObject({type:"base",x:0,y:0,width:20,height:20,lineWidth:1,lineHeight:1,foreColor:"black",backColor:"white",blendMode:"normal"})}convert(t){return t=super.convert(t),t.width=g.parse(t.width),t.height=g.parse(t.height),t.lineWidth=g.parse(t.lineWidth),t.lineHeight=g.parse(t.lineHeight),t.x=g.parse(t.x),t.y=g.parse(t.y),t}toString(){var{type:t,width:r,height:i,x:s,y:n,foreColor:o,backColor:l,blendMode:c,lineWidth:h,lineHeight:d}=this.json;return`${t}(${r} ${i}, ${s} ${n}, ${o}, ${l}, ${c}, ${h} ${d})`}}class Vv extends us{getDefaultObject(){return super.getDefaultObject({type:"check"})}toCSS(){let{width:t,height:r,x:i,y:s,backColor:n,foreColor:o,blendMode:l}=this.json;return n=n||"transparent",o=o||"black",`
      background-image: repeating-linear-gradient(45deg, ${o} 25%, ${n} 25%, ${n} 75%, ${o} 75%, ${o} 100%),repeating-linear-gradient(45deg, ${o} 25%, ${n} 25%, ${n} 75%, ${o} 75%, ${o} 100%);
      background-position: 0px 0px, ${i} ${s};
      background-size: ${t} ${r}, ${t} ${r};
      background-blend-mode: ${l}, ${l};
    `}}class Rv extends us{getDefaultObject(){return super.getDefaultObject({type:"grid"})}toCSS(){let{width:t,height:r,lineWidth:i,lineHeight:s,backColor:n,foreColor:o,blendMode:l}=this.json;return n=n||"transparent",o=o||"black",`
      background-image: linear-gradient(to bottom,${o} ${s}, ${n} ${s}),linear-gradient(to right, ${o} ${i}, ${n} ${i});
      background-size: ${t/2}px ${r/2}px, ${t/2}px ${r/2}px;      
      background-blend-mode: ${l}, ${l};      
    `}}class zv extends us{getDefaultObject(){return super.getDefaultObject({type:"dot"})}toCSS(){let{width:t,height:r,lineWidth:i,lineHeight:s,backColor:n,foreColor:o,blendMode:l}=this.json;return n=n||"transparent",o=o||"black",`
      background-image: radial-gradient(${o} ${i}, ${n} ${i});
      background-size: ${t/2}px ${r/2}px;          
      background-blend-mode: ${l};      
    `}}class jv extends us{getDefaultObject(){return super.getDefaultObject({type:"cross-dot"})}toCSS(){let{width:t,height:r,x:i,y:s,lineWidth:n,lineHeight:o,backColor:l,foreColor:c,blendMode:h}=this.json;return l=l||"transparent",c=c||"black",`
      background-image: radial-gradient(${c} ${n}, ${l} ${n}),radial-gradient(${c} ${n}, ${l} ${n});
      background-size: ${t} ${r},${t} ${r};
      background-position: 0px 0px, ${i} ${s};      
      background-blend-mode: multiply, ${h};
    `}}class Av extends us{getDefaultObject(){return super.getDefaultObject({type:"diagonal-line"})}toCSS(){let{width:t,height:r,x:i,lineWidth:s,backColor:n,foreColor:o,blendMode:l}=this.json;return n=n||"transparent",o=o||"black",`
    background-image: repeating-linear-gradient(${i}, ${o} 0px, ${o} ${s}, ${n} 0px, ${n} 50%);
    background-size: ${t} ${r};      
    background-blend-mode: ${l};
  `}}class Ov extends us{getDefaultObject(){return super.getDefaultObject({type:"vertical-line"})}toCSS(){let{width:t,height:r,x:i,y:s,lineWidth:n,backColor:o,foreColor:l,blendMode:c}=this.json;return o=o||"transparent",l=l||"black",`
      background-image: repeating-linear-gradient(to right, ${l} 0px, ${l} ${n}, ${o} ${n}, ${o} 100%);
      background-size: ${t} ${r}; 
      background-position: ${i} ${s};        
      background-blend-mode: ${c};
    `}}class Dv extends us{getDefaultObject(){return super.getDefaultObject({type:"horizontal-line"})}toCSS(){let{width:t,height:r,x:i,y:s,lineWidth:n,backColor:o,foreColor:l,blendMode:c}=this.json;return o=o||"transparent",l=l||"black",`
      background-image: repeating-linear-gradient( to bottom, ${l} 0px, ${l} ${n}, ${o} ${n}, ${o} 100%);    
      background-position: ${i} ${s};
      background-size: ${t} ${r};   
      background-blend-mode: ${c};
    `}}const Fv={check:Vv,grid:Rv,dot:zv,"cross-dot":jv,"diagonal-line":Av,"vertical-line":Ov,"horizontal-line":Dv};var Bv={command:"addBackgroundImagePattern",execute:function(a,t,r=null){var i=a.selection.itemsByIds(r);let s={};i.forEach(n=>{s[n.id]={pattern:fr.join([...fr.parseStyle(t),...fr.parseStyle(n.pattern)])}}),a.emit("history.setAttributeForMulti","add pattern",s)}},Nv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bv});function Gv(a,t={},r=null){var i=a.selection.currentProject,s=i.appendChild(a.createModel(v({x:300,y:200,width:375,height:667},t)));r&&(s.reset({x:0,y:0}),s.moveByCenter(r)),a.selection.select(s),Ir(a)}var Hv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gv});function Uv(a,t={},r=void 0){a.emit("newComponent","image",t,!0,r)}var Xv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Uv});function Dn(a,t){var r=new Image;r.onload=()=>{var i={id:a.id,local:a.local,naturalWidth:r.naturalWidth,naturalHeight:r.naturalHeight,width:r.naturalWidth,height:r.naturalHeight};t&&t(i,r)},r.onerror=i=>{console.log(i,i.message)},r.src=a.local}var Yv={command:"addImageAssetItem",execute:function(a,t,r={},i=void 0){var s=a.selection.currentProject;s&&(s.createImage(t),a.emit("addImageAsset"),Dn(t,n=>{const o=r.width/n.width,l=r.width,c=n.height*o;a.emit("addImage",le(v(v({src:t.id},n),r),{width:l,height:c}),i),a.changeMode(Gs)}))}},Wv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Yv});function Kv(a,t,r=!0,i){i||(i=a.selection.current||a.selection.currentProject),i&&(i.isNot("project")&&!i.enableHasChildren()&&(i=i.parent),i.appendChild(t),r&&a.selection.select(t),Ir(a))}var Zv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Kv});const xr={EN:"en_US",FR:"fr_FR",KO:"ko_KR"},hr={SELECT:"select",APPEND:"append",DRAW:"draw",PATH:"path"},Zh={EDIT:"edit",PREVIEW:"preview",DESIGN:"design",ITEM:"item"};var qv={command:"addLayerView",execute:async function(a,t,r={}){a.selection.empty(),await a.emit("refreshSelectionTool"),await a.emit("hideAddViewLayer"),await a.emit("removeGuideLine"),t==="select"?a.config.set("editing.mode",hr.SELECT):t==="brush"?(a.config.set("editing.mode",hr.DRAW),await a.emit("showPathDrawEditor")):t==="path"?(a.config.set("editing.mode",hr.PATH),await a.emit("showPathEditor","path")):(a.config.set("editing.mode",hr.APPEND),a.config.set("editing.mode.itemType",t),await a.emit("showLayerAppendView",t,r))}},Qv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qv});function Jv(a,t={}){var r=a.createModel(v({itemType:"project"},t));a.selection.selectProject(r),Ir(a)}var e1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jv}),t1={command:"addSVGFilterAssetItem",execute:function(a,t){var r=a.selection.currentProject;if(r){var i=tr(),s=r.createSVGFilter({id:i,filters:[]});t&&t(s,i)}}},r1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:t1});function i1(a,t={}){a.emit("newComponent","text",v({content:"Insert a text",width:300,height:50,"font-size":30},t),t)}var s1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:i1}),a1={command:"addTimelineCurrentProperty",execute:function(a,t={timing:"linear"}){Mr(a,(r,i)=>{var s=[];a.selection.each(n=>{var o={layerId:n.id,property:t.property,value:n[t.property]+"",timing:t.timing,editor:t.editor},l=r.addTimelineKeyframe(o);l&&s.push(l)}),a.timeline.select(...s),a.emit("refreshTimeline"),a.emit("refreshSelectedOffset")})}},n1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:a1}),o1={command:"addTimelineItem",execute:function(a,t){Mr(a,(r,i)=>{t?r.addTimelineLayer(t):r.addTimeline(),a.emit("refreshTimeline"),a.emit("addTimeline")})}},l1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:o1}),c1={command:"addTimelineKeyframe",execute:function(a,t={timing:"linear"}){Mr(a,(r,i)=>{var s=a.modelManager.get(t.layerId),n={layerId:t.layerId,property:t.property,time:t.time,value:s[t.property]+"",timing:t.timing,editor:t.editor},o=r.addTimelineKeyframe(n);a.timeline.select(o),a.emit("refreshTimeline"),a.emit("refreshSelectedOffset")})}},h1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:c1}),d1={command:"addTimelineProperty",execute:function(a,t,r={timing:"linear"}){Mr(a,(i,s)=>{Array.isArray(t)===!1&&(t=[t]);var n=[];t.forEach(o=>{var l={layerId:o,property:r.property,value:r.value+"",timing:r.timing,editor:r.editor},c=i.addTimelineKeyframe(l);c&&n.push(c)}),a.timeline.select(...n),a.emit("refreshTimeline"),a.emit("refreshSelectedOffset")})}},u1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:d1});function p1(a,t={},r=void 0){a.emit("newComponent","video",t,!0,r)}var g1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:p1});function f1(a,t){var r=document.createElement("video");r.onloadeddata=()=>{var i={local:a.local,naturalWidth:r.videoWidth,naturalHeight:r.videoHeight,width:r.videoWidth,height:r.videoHeight,duration:r.duration,playTime:`0:1:${r.duration}`,volume:r.volume,muted:r.muted,placebackRate:r.playbackRate};t&&t(i,r)},r.src=a.local}var m1={command:"addVideoAssetItem",execute:function(a,t,r={},i=void 0){var s=a.selection.currentProject;s&&(s.createVideo(t),a.emit("addVideoAsset"),f1(t,n=>{a.emit("addVideo",v(v({src:t.id},n),r),i),a.changeMode(Gs)}))}},v1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:m1}),y1={command:"clipboard.copy",title:"Copy",description:"Copy",execute:function(a){a.clipboard.push({type:"copy",data:a.selection.ids})}},b1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:y1}),$1={command:"clipboard.paste",execute:async function(a,t){if(a.clipboard.isEmpty){var r=await navigator.clipboard.readText();r&&a.emit("convertPasteText",r)}else{const i=a.clipboard.pop();if(i.type=="copy"){const s=i.data,n=await a.json.renderAll(s.map(c=>a.get(c))),o=[],l=n.length;n.forEach(c=>{const h=c.referenceId,d=a.get(h),p=a.createModel(c);p.renameWithCount(),p.absoluteMove([10,10,0]),l===1?d.appendBefore(p):d.appendAfter(p),o.push(p.id)}),a.selection.select(...o),a.emit("refreshAll")}}}},x1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$1}),_1={command:"convert.flatten.path",description:"flatten selected multi path",execute:a=>{const t=a.selection.current;if(!t)return;let r;if(t.is("boolean-path")||t.isBooleanItem){let i=t;t.isBooleanItem&&(i=t.parent),r=i.absolutePath(i["boolean-path"]),r=i.invertPath(r.d);const s=i.layers[0].toCloneObject();delete s.id,delete s.parentId,delete s.transform,delete s["boolean-path"],delete s["boolean-operation"];const n=i.parent,o=i.updatePath(r.d);a.command("removeLayer","remove selected layers",[i.id]),a.nextTick(()=>{a.command("addLayer","add layer - path",a.createModel(v(v({},s),o)),!0,n)})}else{r=W.fromSVGString(),a.selection.each(o=>{r.addPath(o.absolutePath())}),r=t.invertPath(r.d);const i=t.parent,s=t.updatePath(r.d),n=t.toCloneObject();delete n.id,a.command("removeLayer","remove selected layers"),a.nextTick(()=>{a.command("addLayer","add layer - path",a.createModel(v(v({},n),s)),!0,i)})}}},S1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_1}),w1={command:"convert.no.transform.path",description:"remove transform(rotate, translate, scale) inforation in path layer",execute:a=>{const t=a.selection.current;if(!t)return;const r=t.parent,i=t.absolutePath();if(r.is("project")){const s=i.getBBox(),n=rr(s);a.command("setAttributeForMulti","remove transform for path",a.selection.packByValue(le(v({},n),{rotate:0,d:i.d})))}else{i.transformMat4(r.absoluteMatrixInverse);const s=r.updatePath(i.d);a.command("setAttributeForMulti","remove transform for path",a.selection.packByValue(le(v({},s),{rotate:0,d:i.d})))}}},P1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:w1}),C1={command:"convert.normalize.path",description:"convert segments to bezier curve",execute:a=>{const t=a.selection.current;!t||a.command("setAttributeForMulti","normalize path string",a.selection.packByValue(t.updatePath(W.fromSVGString(t.d).normalize().d)))}},k1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:C1}),T1={command:"convert.path.operation",description:"apply path boolean operation",execute:(a,t)=>{var n;const r=a.selection.current;if(!r)return;const i=o=>{a.command("setAttributeForMulti","change boolean operation",a.selection.packByValue({"boolean-operation":o})),s()},s=()=>{a.nextTick(()=>{a.emit("recoverBooleanPath"),a.nextTick(()=>{a.emit("refreshSelection")})})};if(r.is("boolean-path")||r.isBooleanItem){let o=r;r.isBooleanItem&&(o=r.parent),a.selection.select(o),i(t)}else((n=a.selection.current)==null?void 0:n.isNot("boolean-path"))&&a.emit("group.item",{itemType:"boolean-path",title:"Intersection"}),a.nextTick(()=>{var o;((o=a.selection.current)==null?void 0:o.is("boolean-path"))&&i(t)},10)}},M1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:T1}),I1={command:"convert.polygonal.path",description:"convert path to polygonal path",execute:a=>{const t=a.selection.current;!t||a.command("setAttributeForMulti","polygonal path string",a.selection.packByValue(t.updatePath(W.fromSVGString(t.d).polygonal().d)))}},E1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:I1}),L1={command:"convert.simplify.path",execute:a=>{const t=a.selection.current;!t||a.command("setAttributeForMulti","change path string",a.selection.packByValue(t.updatePath(a.pathKitManager.simplify(t.d))))}},V1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L1}),R1={command:"convert.smooth.path",description:"convert path to smooth",execute:(a,t=5,r=.1,i=.5)=>{const s=a.selection.current;if(!s)return;const n=W.fromSVGString(s.d).divideSegmentByCount(t).simplify(r).cardinalSplines(i).d;a.command("setAttributeForMulti","smooth path string",a.selection.packByValue(s.updatePath(n)))}},z1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R1}),j1={command:"convert.stroke.to.path",execute:async(a,t)=>{const r=a.selection.current;if(!r)return;const i=r.attrs("d","stroke-width","stroke-dasharray","stroke-dashoffset","stroke-linejoin","stroke-linecap"),s=r.convertStrokeToPath();let n=a.pathKitManager.stroke(r.d||i.d,{"stroke-width":g.parse(i["stroke-width"]).value,"stroke-linejoin":i["stroke-linejoin"],"stroke-linecap":i["stroke-linecap"],"stroke-dasharray":i["stroke-dasharray"],"stroke-dashoffset":i["stroke-dashoffset"],"fill-rule":"nonezero"});s["fill-rule"]="nonzero",n=W.fromSVGString(n).reversePathStringByFunc((o,l)=>l%2==0),a.command("addLayer","add layer - path",a.createModel(v(v({},s),r.updatePath(n))),!0,r.parent)}},A1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j1}),qh={exports:{}};(function(a,t){(function(r,i){a.exports=i()})(Nh,function(){function r(_){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(P){return typeof P}:r=function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},r(_)}var i=function(P){if(typeof P!="string")return{};P=P.split("+").join(" ");var V={},H=P.match(/(?:[?](?:[^=]+)=(?:[^&#]*)(?:[&](?:[^=]+)=(?:[^&#]*))*(?:[#].*)?)|(?:[#].*)/),pe;if(H===null)return{};pe=H[0].substr(1).split(/[&#=]/);for(var Ue=0;Ue<pe.length;Ue+=2)V[decodeURIComponent(pe[Ue])]=decodeURIComponent(pe[Ue+1]||"");return V},s=function(P,V){if(r(P)!=="object")return"";var H="",pe=0,Ue=Object.keys(P);if(Ue.length===0)return"";for(Ue.sort(),V||(H+="?"+Ue[0]+"="+P[Ue[0]],pe+=1);pe<Ue.length;pe+=1)H+="&"+Ue[pe]+"="+P[Ue[pe]];return H};function n(_){var P=0,V={s:1,m:1*60,h:1*60*60,d:1*60*60*24,w:1*60*60*24*7},H;_=_.replace(/([smhdw])/g," $1 ").trim(),H=_.split(" ");for(var pe=0;pe<H.length;pe+=2)P+=parseInt(H[pe],10)*V[H[pe+1]||"s"];return P}function o(_){for(var P=0,V=[1,1*60,1*60*60,1*60*60*24,1*60*60*24*7],H=_.split(":"),pe=0;pe<H.length;pe++)P+=parseInt(H[pe],10)*V[H.length-pe-1];return P}var l=function(P){return typeof P=="undefined"?0:P.match(/^(\d+[smhdw]?)+$/)?n(P):P.match(/^(\d+:?)+$/)?o(P):0},c={getQueryParams:i,combineParams:s,getTime:l},h=c.getQueryParams;function d(){for(var _=0,P=["parseProvider","parse","bind","create"];_<P.length;_++){var V=P[_];this[V]=this[V].bind(this)}this.plugins={}}var p=d;d.prototype.parseProvider=function(_){var P=_.match(/(?:(?:https?:)?\/\/)?(?:[^.]+\.)?(\w+)\./i);return P?P[1]:void 0},d.prototype.parse=function(_){if(typeof _!="undefined"){var P=this.parseProvider(_),V,H=this.plugins[P];if(!(!P||!H||!H.parse))return V=H.parse.call(H,_,h(_)),V&&(V=u(V),V.provider=H.provider),V}},d.prototype.bind=function(_){if(this.plugins[_.provider]=_,_.alternatives)for(var P=0;P<_.alternatives.length;P+=1)this.plugins[_.alternatives[P]]=_},d.prototype.create=function(_){if(!(r(_)!=="object"||r(_.videoInfo)!=="object")){var P=_.videoInfo,V=_.params,H=this.plugins[P.provider];if(V=V==="internal"?P.params:V||{},H&&(_.format=_.format||H.defaultFormat,H.formats.hasOwnProperty(_.format)))return H.formats[_.format].apply(H,[P,Object.assign({},V)])}};function u(_){return _.params&&Object.keys(_.params).length===0&&delete _.params,_}var m=new p,$=m,S=c.combineParams;function k(){this.provider="canalplus",this.defaultFormat="embed",this.formats={embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}k.prototype.parseParameters=function(_){return delete _.vid,_},k.prototype.parse=function(_,P){var V=this,H={mediaType:this.mediaTypes.VIDEO,id:P.vid};if(H.params=V.parseParameters(P),!!H.id)return H},k.prototype.createEmbedUrl=function(_,P){if(!(!_.id||_.mediaType!==this.mediaTypes.VIDEO)){var V="http://player.canalplus.fr/embed/";return P.vid=_.id,V+=S(P),V}},$.bind(new k);var C=c.combineParams;function z(){this.provider="coub",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}z.prototype.parseUrl=function(_){var P=_.match(/(?:embed|view)\/([a-zA-Z\d]+)/i);return P?P[1]:void 0},z.prototype.parse=function(_,P){var V={mediaType:this.mediaTypes.VIDEO,params:P,id:this.parseUrl(_)};if(!!V.id)return V},z.prototype.createUrl=function(_,P,V){if(!(!P.id||P.mediaType!==this.mediaTypes.VIDEO)){var H=_+P.id;return H+=C(V),H}},z.prototype.createLongUrl=function(_,P){return this.createUrl("https://coub.com/view/",_,P)},z.prototype.createEmbedUrl=function(_,P){return this.createUrl("//coub.com/embed/",_,P)},$.bind(new z);var L=c.combineParams,R=c.getTime;function j(){this.provider="dailymotion",this.alternatives=["dai"],this.defaultFormat="long",this.formats={short:this.createShortUrl,long:this.createLongUrl,embed:this.createEmbedUrl,image:this.createImageUrl},this.mediaTypes={VIDEO:"video"}}j.prototype.parseParameters=function(_){return this.parseTime(_)},j.prototype.parseTime=function(_){return _.start&&(_.start=R(_.start)),_},j.prototype.parseUrl=function(_){var P=_.match(/(?:\/video|ly)\/([A-Za-z0-9]+)/i);return P?P[1]:void 0},j.prototype.parse=function(_,P){var V=this,H={mediaType:this.mediaTypes.VIDEO,params:V.parseParameters(P),id:V.parseUrl(_)};return H.id?H:void 0},j.prototype.createUrl=function(_,P,V){if(!(!P.id||P.mediaType!==this.mediaTypes.VIDEO))return _+P.id+L(V)},j.prototype.createShortUrl=function(_,P){return this.createUrl("https://dai.ly/",_,P)},j.prototype.createLongUrl=function(_,P){return this.createUrl("https://dailymotion.com/video/",_,P)},j.prototype.createEmbedUrl=function(_,P){return this.createUrl("https://www.dailymotion.com/embed/video/",_,P)},j.prototype.createImageUrl=function(_,P){return delete P.start,this.createUrl("https://www.dailymotion.com/thumbnail/video/",_,P)},$.bind(new j);var X=c.combineParams,Z=c.getTime;function q(){this.provider="twitch",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video",STREAM:"stream",CLIP:"clip"}}q.prototype.seperateId=function(_){return{pre:_[0],id:_.substr(1)}},q.prototype.parseChannel=function(_,P){var V=P.channel||P.utm_content||_.channel;return delete P.utm_content,delete P.channel,V},q.prototype.parseUrl=function(_,P,V){var H;return H=_.match(/(clips\.)?twitch\.tv\/(?:(?:videos\/(\d+))|(\w+)(?:\/clip\/(\w+))?)/i),H&&H[2]?P.id="v"+H[2]:V.video?(P.id=V.video,delete V.video):V.clip?(P.id=V.clip,P.isClip=!0,delete V.clip):H&&H[1]&&H[3]?(P.id=H[3],P.isClip=!0):H&&H[3]&&H[4]?(P.channel=H[3],P.id=H[4],P.isClip=!0):H&&H[3]&&(P.channel=H[3]),P},q.prototype.parseMediaType=function(_){var P;return _.id?_.isClip?(P=this.mediaTypes.CLIP,delete _.isClip):P=this.mediaTypes.VIDEO:_.channel&&(P=this.mediaTypes.STREAM),P},q.prototype.parseParameters=function(_){return _.t&&(_.start=Z(_.t),delete _.t),_},q.prototype.parse=function(_,P){var V=this,H={};return H=V.parseUrl(_,H,P),H.channel=V.parseChannel(H,P),H.mediaType=V.parseMediaType(H),H.params=V.parseParameters(P),H.channel||H.id?H:void 0},q.prototype.createLongUrl=function(_,P){var V="";if(_.mediaType===this.mediaTypes.STREAM&&_.channel)V="https://twitch.tv/"+_.channel;else if(_.mediaType===this.mediaTypes.VIDEO&&_.id){var H=this.seperateId(_.id);V="https://twitch.tv/videos/"+H.id,P.start&&(P.t=P.start+"s",delete P.start)}else if(_.mediaType===this.mediaTypes.CLIP&&_.id)_.channel?V="https://www.twitch.tv/"+_.channel+"/clip/"+_.id:V="https://clips.twitch.tv/"+_.id;else return;return V+=X(P),V},q.prototype.createEmbedUrl=function(_,P){var V="https://player.twitch.tv/";if(_.mediaType===this.mediaTypes.STREAM&&_.channel)P.channel=_.channel;else if(_.mediaType===this.mediaTypes.VIDEO&&_.id)P.video=_.id,P.start&&(P.t=P.start+"s",delete P.start);else if(_.mediaType===this.mediaTypes.CLIP&&_.id)V="https://clips.twitch.tv/embed",P.clip=_.id;else return;return V+=X(P),V},$.bind(new q);var ue=c.combineParams,de=c.getTime;function me(){this.provider="vimeo",this.alternatives=["vimeopro"],this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}me.prototype.parseUrl=function(_){var P=_.match(/(?:\/(?:channels\/[\w]+|(?:(?:album\/\d+|groups\/[\w]+)\/)?videos?))?\/(\d+)/i);return P?P[1]:void 0},me.prototype.parseParameters=function(_){return this.parseTime(_)},me.prototype.parseTime=function(_){return _.t&&(_.start=de(_.t),delete _.t),_},me.prototype.parse=function(_,P){var V={mediaType:this.mediaTypes.VIDEO,params:this.parseParameters(P),id:this.parseUrl(_)};return V.id?V:void 0},me.prototype.createUrl=function(_,P,V){if(!(!P.id||P.mediaType!==this.mediaTypes.VIDEO)){var H=_+P.id,pe=V.start;return delete V.start,H+=ue(V),pe&&(H+="#t="+pe),H}},me.prototype.createLongUrl=function(_,P){return this.createUrl("https://vimeo.com/",_,P)},me.prototype.createEmbedUrl=function(_,P){return this.createUrl("//player.vimeo.com/video/",_,P)},$.bind(new me);var fe=c.combineParams,je=c.getTime;function ee(){this.provider="wistia",this.alternatives=[],this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl,embedjsonp:this.createEmbedJsonpUrl},this.mediaTypes={VIDEO:"video",EMBEDVIDEO:"embedvideo"}}ee.prototype.parseUrl=function(_){var P=_.match(/(?:(?:medias|iframe)\/|wvideo=)([\w-]+)/);return P?P[1]:void 0},ee.prototype.parseChannel=function(_){var P=_.match(/(?:(?:https?:)?\/\/)?([^.]*)\.wistia\./),V=P?P[1]:void 0;if(!(V==="fast"||V==="content"))return V},ee.prototype.parseParameters=function(_,P){return _.wtime&&(_.start=je(_.wtime),delete _.wtime),_.wvideo===P.id&&delete _.wvideo,_},ee.prototype.parseMediaType=function(_){return _.id&&_.channel?this.mediaTypes.VIDEO:_.id?(delete _.channel,this.mediaTypes.EMBEDVIDEO):void 0},ee.prototype.parse=function(_,P){var V={id:this.parseUrl(_),channel:this.parseChannel(_)};if(V.params=this.parseParameters(P,V),V.mediaType=this.parseMediaType(V),!!V.id)return V},ee.prototype.createUrl=function(_,P,V){return P.start&&(P.wtime=P.start,delete P.start),V+=fe(P),V},ee.prototype.createLongUrl=function(_,P){if(!(!_.id||_.mediaType!==this.mediaTypes.VIDEO)){var V="https://"+_.channel+".wistia.com/medias/"+_.id;return this.createUrl(_,P,V)}},ee.prototype.createEmbedUrl=function(_,P){if(!(!_.id||!(_.mediaType===this.mediaTypes.VIDEO||_.mediaType===this.mediaTypes.EMBEDVIDEO))){var V="https://fast.wistia.com/embed/iframe/"+_.id;return this.createUrl(_,P,V)}},ee.prototype.createEmbedJsonpUrl=function(_){if(!(!_.id||!(_.mediaType===this.mediaTypes.VIDEO||_.mediaType===this.mediaTypes.EMBEDVIDEO)))return"https://fast.wistia.com/embed/medias/"+_.id+".jsonp"},$.bind(new ee);var Be=c.combineParams;function dt(){this.provider="youku",this.defaultFormat="long",this.formats={embed:this.createEmbedUrl,long:this.createLongUrl,flash:this.createFlashUrl,static:this.createStaticUrl},this.mediaTypes={VIDEO:"video"}}dt.prototype.parseUrl=function(_){var P=_.match(/(?:(?:embed|sid)\/|v_show\/id_|VideoIDS=)([a-zA-Z0-9]+)/);return P?P[1]:void 0},dt.prototype.parseParameters=function(_){return _.VideoIDS&&delete _.VideoIDS,_},dt.prototype.parse=function(_,P){var V=this,H={mediaType:this.mediaTypes.VIDEO,id:V.parseUrl(_),params:V.parseParameters(P)};if(!!H.id)return H},dt.prototype.createUrl=function(_,P,V){if(!(!P.id||P.mediaType!==this.mediaTypes.VIDEO)){var H=_+P.id;return H+=Be(V),H}},dt.prototype.createEmbedUrl=function(_,P){return this.createUrl("http://player.youku.com/embed/",_,P)},dt.prototype.createLongUrl=function(_,P){return this.createUrl("http://v.youku.com/v_show/id_",_,P)},dt.prototype.createStaticUrl=function(_,P){return this.createUrl("http://static.youku.com/v1.0.0638/v/swf/loader.swf?VideoIDS=",_,P)},dt.prototype.createFlashUrl=function(_,P){if(!(!_.id||_.mediaType!==this.mediaTypes.VIDEO)){var V="http://player.youku.com/player.php/sid/"+_.id+"/v.swf";return V+=Be(P),V}},$.bind(new dt);var He=c.combineParams,Ze=c.getTime;function Ce(){this.provider="youtube",this.alternatives=["youtu","ytimg"],this.defaultFormat="long",this.formats={short:this.createShortUrl,long:this.createLongUrl,embed:this.createEmbedUrl,shortImage:this.createShortImageUrl,longImage:this.createLongImageUrl},this.imageQualities={"0":"0","1":"1","2":"2","3":"3",DEFAULT:"default",HQDEFAULT:"hqdefault",SDDEFAULT:"sddefault",MQDEFAULT:"mqdefault",MAXRESDEFAULT:"maxresdefault"},this.defaultImageQuality=this.imageQualities.HQDEFAULT,this.mediaTypes={VIDEO:"video",PLAYLIST:"playlist",SHARE:"share",CHANNEL:"channel"}}Ce.prototype.parseVideoUrl=function(_){var P=_.match(/(?:(?:v|vi|be|videos|embed)\/(?!videoseries)|(?:v|ci)=)([\w-]{11})/i);return P?P[1]:void 0},Ce.prototype.parseChannelUrl=function(_){var P=_.match(/\/channel\/([\w-]+)/);if(P)return{id:P[1],mediaType:this.mediaTypes.CHANNEL};if(P=_.match(/\/(?:c|user)\/([\w-]+)/),P)return{name:P[1],mediaType:this.mediaTypes.CHANNEL}},Ce.prototype.parseParameters=function(_,P){return(_.start||_.t)&&(_.start=Ze(_.start||_.t),delete _.t),_.v===P.id&&delete _.v,_.list===P.id&&delete _.list,_},Ce.prototype.parseMediaType=function(_){if(_.params.list&&(_.list=_.params.list,delete _.params.list),_.id&&!_.params.ci)_.mediaType=this.mediaTypes.VIDEO;else if(_.list)delete _.id,_.mediaType=this.mediaTypes.PLAYLIST;else if(_.params.ci)delete _.params.ci,_.mediaType=this.mediaTypes.SHARE;else return;return _},Ce.prototype.parse=function(_,P){var V=this.parseChannelUrl(_);if(V)return V;var H={params:P,id:this.parseVideoUrl(_)};return H.params=this.parseParameters(P,H),H=this.parseMediaType(H),H},Ce.prototype.createShortUrl=function(_,P){if(!(!_.id||_.mediaType!==this.mediaTypes.VIDEO)){var V="https://youtu.be/"+_.id;return P.start&&(V+="#t="+P.start),V}},Ce.prototype.createLongUrl=function(_,P){var V="",H=P.start;if(delete P.start,_.mediaType===this.mediaTypes.CHANNEL)if(_.id)V+="https://www.youtube.com/channel/"+_.id;else if(_.name)V+="https://www.youtube.com/c/"+_.name;else return;else if(_.mediaType===this.mediaTypes.PLAYLIST&&_.list)P.feature="share",V+="https://www.youtube.com/playlist";else if(_.mediaType===this.mediaTypes.VIDEO&&_.id)P.v=_.id,V+="https://www.youtube.com/watch";else if(_.mediaType===this.mediaTypes.SHARE&&_.id)P.ci=_.id,V+="https://www.youtube.com/shared";else return;return _.list&&(P.list=_.list),V+=He(P),_.mediaType!==this.mediaTypes.PLAYLIST&&H&&(V+="#t="+H),V},Ce.prototype.createEmbedUrl=function(_,P){var V="https://www.youtube.com/embed";if(_.mediaType===this.mediaTypes.PLAYLIST&&_.list)P.listType="playlist";else if(_.mediaType===this.mediaTypes.VIDEO&&_.id)V+="/"+_.id,P.loop==="1"&&(P.playlist=_.id);else return;return _.list&&(P.list=_.list),V+=He(P),V},Ce.prototype.createImageUrl=function(_,P,V){if(!(!P.id||P.mediaType!==this.mediaTypes.VIDEO)){var H=_+P.id+"/",pe=V.imageQuality||this.defaultImageQuality;return H+pe+".jpg"}},Ce.prototype.createShortImageUrl=function(_,P){return this.createImageUrl("https://i.ytimg.com/vi/",_,P)},Ce.prototype.createLongImageUrl=function(_,P){return this.createImageUrl("https://img.youtube.com/vi/",_,P)},$.bind(new Ce);var Me=c.combineParams,at=c.getTime;function oe(){this.provider="soundcloud",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={TRACK:"track",PLAYLIST:"playlist",APITRACK:"apitrack",APIPLAYLIST:"apiplaylist"}}oe.prototype.parseUrl=function(_,P){var V=_.match(/(?:m\.)?soundcloud\.com\/(?:([\w-]+)\/(sets\/)?)([\w-]+)/i);return V&&(P.channel=V[1],V[1]==="playlists"||V[2]?P.list=V[3]:P.id=V[3]),P},oe.prototype.parseParameters=function(_){return _.t&&(_.start=at(_.t),delete _.t),_},oe.prototype.parseMediaType=function(_){return _.id&&(_.channel==="tracks"?(delete _.channel,delete _.params.url,_.mediaType=this.mediaTypes.APITRACK):_.mediaType=this.mediaTypes.TRACK),_.list&&(_.channel==="playlists"?(delete _.channel,delete _.params.url,_.mediaType=this.mediaTypes.APIPLAYLIST):_.mediaType=this.mediaTypes.PLAYLIST),_},oe.prototype.parse=function(_,P){var V={};if(V=this.parseUrl(_,V),V.params=this.parseParameters(P),V=this.parseMediaType(V),!(!V.id&&!V.list))return V},oe.prototype.createLongUrl=function(_,P){var V="",H=P.start;if(delete P.start,_.mediaType===this.mediaTypes.TRACK&&_.id&&_.channel)V="https://soundcloud.com/"+_.channel+"/"+_.id;else if(_.mediaType===this.mediaTypes.PLAYLIST&&_.list&&_.channel)V="https://soundcloud.com/"+_.channel+"/sets/"+_.list;else if(_.mediaType===this.mediaTypes.APITRACK&&_.id)V="https://api.soundcloud.com/tracks/"+_.id;else if(_.mediaType===this.mediaTypes.APIPLAYLIST&&_.list)V="https://api.soundcloud.com/playlists/"+_.list;else return;return V+=Me(P),H&&(V+="#t="+H),V},oe.prototype.createEmbedUrl=function(_,P){var V="https://w.soundcloud.com/player/";if(delete P.start,_.mediaType===this.mediaTypes.APITRACK&&_.id)P.url="https%3A//api.soundcloud.com/tracks/"+_.id;else if(_.mediaType===this.mediaTypes.APIPLAYLIST&&_.list)P.url="https%3A//api.soundcloud.com/playlists/"+_.list;else return;return V+=Me(P),V},$.bind(new oe);var rt=c.combineParams;function ct(){this.provider="teachertube",this.alternatives=[],this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video",AUDIO:"audio",DOCUMENT:"document",CHANNEL:"channel",COLLECTION:"collection",GROUP:"group"}}ct.prototype.parse=function(_,P){var V={};V.list=this.parsePlaylist(P),V.params=P;var H=_.match(/\/(audio|video|document|user\/channel|collection|group)\/(?:[\w-]+-)?(\w+)/);if(!!H)return V.mediaType=this.parseMediaType(H[1]),V.id=H[2],V},ct.prototype.parsePlaylist=function(_){if(_["playlist-id"]){var P=_["playlist-id"];return delete _["playlist-id"],P}},ct.prototype.parseMediaType=function(_){switch(_){case"audio":return this.mediaTypes.AUDIO;case"video":return this.mediaTypes.VIDEO;case"document":return this.mediaTypes.DOCUMENT;case"user/channel":return this.mediaTypes.CHANNEL;case"collection":return this.mediaTypes.COLLECTION;case"group":return this.mediaTypes.GROUP}},ct.prototype.createLongUrl=function(_,P){if(!!_.id){var V="https://www.teachertube.com/";return _.list&&(P["playlist-id"]=_.list),_.mediaType===this.mediaTypes.CHANNEL?V+="user/channel/":V+=_.mediaType+"/",V+=_.id,V+=rt(P),V}},ct.prototype.createEmbedUrl=function(_,P){if(!!_.id){var V="https://www.teachertube.com/embed/";if(_.mediaType===this.mediaTypes.VIDEO||_.mediaType===this.mediaTypes.AUDIO)V+=_.mediaType+"/"+_.id;else return;return V+=rt(P),V}},$.bind(new ct);var nr=c.combineParams;function yi(){this.provider="tiktok",this.defaultFormat="long",this.formats={long:this.createLongUrl},this.mediaTypes={VIDEO:"video"}}yi.prototype.parse=function(_,P){var V={params:P,mediaType:this.mediaTypes.VIDEO},H=_.match(/@([^/]+)\/video\/(\d{19})/);if(!!H)return V.channel=H[1],V.id=H[2],V},yi.prototype.createLongUrl=function(_,P){var V="";if(_.mediaType===this.mediaTypes.VIDEO&&_.id&&_.channel)V+="https://www.tiktok.com/@".concat(_.channel,"/video/").concat(_.id);else return;return V+=nr(P),V},$.bind(new yi);var bi=c.combineParams;function mr(){this.provider="ted",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video",PLAYLIST:"playlist"}}mr.prototype.parseUrl=function(_,P){var V=_.match(/\/(talks|playlists\/(\d+))\/([\w-]+)/),H=V?V[1]:void 0;return H&&(P.channel=H.split("/")[0],P.id=V[3],P.channel==="playlists"&&(P.list=V[2])),P},mr.prototype.parseMediaType=function(_){return _.id&&_.channel==="playlists"&&(delete _.channel,_.mediaType=this.mediaTypes.PLAYLIST),_.id&&_.channel==="talks"&&(delete _.channel,_.mediaType=this.mediaTypes.VIDEO),_},mr.prototype.parse=function(_,P){var V={params:P};if(V=this.parseUrl(_,V),V=this.parseMediaType(V),!!V.id)return V},mr.prototype.createLongUrl=function(_,P){var V="";if(_.mediaType===this.mediaTypes.VIDEO&&_.id)V+="https://ted.com/talks/"+_.id;else if(_.mediaType===this.mediaTypes.PLAYLIST&&_.id)V+="https://ted.com/playlists/"+_.list+"/"+_.id;else return;return V+=bi(P),V},mr.prototype.createEmbedUrl=function(_,P){var V="https://embed.ted.com/";if(_.mediaType===this.mediaTypes.PLAYLIST&&_.id)V+="playlists/"+_.list+"/"+_.id;else if(_.mediaType===this.mediaTypes.VIDEO&&_.id)V+="talks/"+_.id;else return;return V+=bi(P),V},$.bind(new mr);var vr=$;return vr})})(qh);var Qh=qh.exports,O1={command:"convertPasteText",execute:async(a,t)=>{const r=Qh.create({videoInfo:Qh.parse(t),format:"embed",mediaType:"clip"});if(r){const i=a.viewport.center,s=300,n=200;a.emit("newComponent","iframe",{x:i[0]-s/2,y:i[1]-n/2,width:s,height:n,"background-color":"transparent",url:r})}}},D1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:O1});function F1(a,t,r=null){var i=a.selection.current;if(i){if(i.is("svg-path","svg-brush","svg-textpath")){var s=t;if(r){var n=new W(t);n.scale(i.width/r.width,i.height/r.height),s=n.d}a.command("setAttributeForMulti","set attribute -d",a.selection.packByValue({d:s},i.id))}else if(i["clip-path"].includes("path")){var s=t;if(r){var n=new W(t);n.scale(i.width/r.width,i.height/r.height),s=n.d}a.command("setAttributeForMulti","change clip path",a.selection.packByValue({"clip-path":`path(${s})`},i.id))}}}var B1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:F1}),N1={command:"copy.path",description:"copy as path for item with path string(d attribute)",execute:function(a){const t=a.selection.current;if(t){let r=W.fromSVGString(t.d);try{const i=t.toSVGPath();a.command("addLayer","copy path",a.createModel(v(v({itemType:"svg-path"},i),t.updatePath(r.d))),!0,t.parent)}catch(i){console.error(i)}}}},G1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:N1}),H1={command:"copyTimelineProperty",execute:function(a,t,r,i=null){Mr(a,(s,n)=>{s.copyTimelineKeyframe(t,r,i),a.emit("refreshTimeline")})}},U1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:H1}),X1={command:"deleteTimelineKeyframe",execute:function(a){Mr(a,(t,r)=>{a.timeline.each(i=>{t.deleteTimelineKeyframe(i.layerId,i.property,i.id)}),a.timeline.empty(),a.emit("refreshTimeline"),a.emit("refreshSelectedOffset")})}},Y1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X1}),W1={command:"doubleclick.item",execute:function(a,t,r){const i=a.get(r);a.selection.isOne&&i?(a.selection.checkChildren(i.id)&&(a.selection.select(i),a.emit("refreshSelection"),a.emit("refreshSelectionTool")),a.selection.check(i)?(a.emit("open.editor"),a.emit("removeGuideLine")):this.selectInWorldPosition(a,t,i)):this.selectInWorldPosition(a,t,i)},selectInWorldPosition:function(a,t,r){const i=a.viewport.getWorldPosition(t);(a.selection.hasPoint(i)||a.selection.hasChildrenPoint(i))&&(a.selection.select(r),a.snapManager.clear(),a.emit("refreshSelectionTool",!0),a.emit("history.refreshSelection"))}},K1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W1});function cl(a,t="easylogic.json"){var r=document.createElement("a");r.href=a,r.download=t,r.click()}var Z1={command:"downloadJSON",execute:function(a,t){var r=JSON.stringify(a.modelManager.toJSON()),i="data:application/json;base64,"+window.btoa(unescape(encodeURIComponent(r)));cl(i,t||"easylogic.json")}},q1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z1});function Jh(a,t,r="image/png"){var i=be.create("canvas"),{width:s,height:n}=a;i.resize({width:s,height:n}),i.drawImage(a),t&&t(i.toDataURL(r))}var hl={makeProjectStyle(a){const t=a.toKeyframeString(),r=a.toRootVariableCSS();return`
      :root {
        ${Ge(r)}
      }
      /* keyframe */
      ${t}
    `},makeStyle(a,t=""){return a.is("project")?this.makeProjectStyle(a):`
    ${a.generateView(`[data-id='${a.id}']`,t)}
    `+a.layers.map(i=>this.makeStyle(i)).join("")},makeSvg(a){const t=a.toSVGString?a.toSVGString():"";return`
      ${t?`<svg width="0" height="0">${t}</svg>`:""}
    `},generateSVG(a,t){return a.replaceLocalUrltoRealUrl(a.svg.render(t))}},Q1={command:"downloadPNG",execute:function(a,t=""){const r=a.selection.current;if(r){const i=hl.generateSVG(a,r).trim(),s="data:image/svg+xml;base64,"+window.btoa(i),n=r.id;Dn({local:s},(o,l)=>{Jh(l,c=>{cl(c,n),t&&a.emit(t,c)})})}}},J1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q1}),e0={command:"downloadSVG",execute:function(a){const t=a.selection.current;if(t){var r=hl.generateSVG(a,t).trim(),i="data:image/svg+xml;base64,"+window.btoa(r),s=t.id;cl(i,s)}}},t0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:e0}),r0={command:"drop.asset",execute:async function(a,t,r=null){if(t.color)a.emit("addBackgroundColor",t.color,r);else if(t.gradient)a.emit("addBackgroundImageGradient",t.gradient,r);else if(t.pattern)a.emit("addBackgroundImagePattern",t.pattern,r);else if(t.imageUrl)a.emit("addBackgroundImageAsset",t.imageUrl,r);else if(t.asset){const i=await a.storageManager.getCustomAsset(t.asset.id);i&&a.emit("addArtBoard",i,t.asset.center)}Ir(a)}},i0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:r0}),s0={command:"dropImageUrl",execute:function(a,t){Dn({local:t},r=>{a.emit("addImage",v({src:r.local},r)),a.changeMode(Gs)})}},a0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:s0}),n0={command:"config:bodyEvent",description:"fire when bodyEvent was set",execute:function(a){const t=be.create(a.config.get("bodyEvent").target);a.config.init("onMouseMovepageContainer",t)}},o0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:n0}),l0={command:"fileDropItems",execute:function(a,t=[]){a.emit("updateResource",t)}},c0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:l0});function ps(a,t){if(ht(t)){var[r,i,s,n]=t.split(":");return r=parseInt(r,10),i=parseInt(i,10),s=parseInt(s,10),n=parseInt(n,10),r*3600+i*60+s+n*(1/a)}else if(ft(t))return t/a;return 0}function ar(a,t){var r=Math.floor(t/3600),i=Math.floor(t/60%60),s=Math.floor(t%60),n=Math.round((t-Math.floor(t))*a);return n===a&&(n=0,s+=1,s===60&&(i+=1,i===60&&(r+=1))),[r,i,s,n].map(o=>(o+"").padStart(2,"0")).join(":")}function ed(a,t,r=null){return ar(a,ps(a,t)-ps(a,r))}function h0(a){var t={id:0,start:0,speed:a.speed||1,elapsed:a.elapsed||0,duration:a.duration||0,iterationStartCount:1,iterationCount:a.iterationCount||Number.MAX_SAFE_INTEGER,direction:a.direction||"normal",log:[],logIndex:0,tick:a.tick||(()=>{}),startCallback:a.start||(()=>{}),endCallback:a.end||(()=>{}),firstCallback:a.first||(()=>{}),lastCallback:a.last||(()=>{})};const r=()=>{if(t.direction==="normal")return!0;if(t.direction==="reverse")return!1;if(t.direction==="alternate")return t.iterationStartCount%2==1;if(t.direction==="alternate-reverse")return t.iterationStartCount%2==0},i=u=>r()?u:1-u,s=u=>{var m=!1;t.start===null&&(t.start=u,m=!0);const $=u-t.start;t.elapsed+=$*t.speed,t.start=u,t.elapsed>t.duration&&(t.elapsed=t.duration);var S=i(t.elapsed/t.duration)*t.duration;m&&t.startCallback(S,t),t.log[t.logIndex++]={elapsed:S,dt:t.lastTime-S},t.lastTime=S,t.tick(S,t),t.elapsed===t.duration?o():n()},n=()=>{t.id=requestAnimationFrame(s)},o=()=>{t.endCallback(t.elapsed,t),t.iterationStartCount++,t.iterationStartCount>t.iterationCount?(t.lastCallback(t.elapsed,t),cancelAnimationFrame(t.id)):(t.start=null,t.elapsed=0,n())},l=(u={})=>{t.start=null,t.iterationStartCount=1,t.log=[],t.lastTime=0,t.logIndex=0,ft(u.elapsed)&&(t.elapsed=u.elapsed),ft(u.speed)&&(t.speed=u.speed),ft(u.duration)&&(t.duration=u.duration),ft(u.iterationCount)&&(t.iterationCount=u.iterationCount||Number.MAX_SAFE_INTEGER),ht(u.direction)&&(t.direction=u.direction),ye(u.tick)&&(t.tick=u.tick),ye(u.start)&&(t.startCallback=u.start),ye(u.end)&&(t.endCallback=u.end),ye(u.first)&&(t.firstCallback=u.first),ye(u.last)&&(t.lastCallback=u.last),ye(u.stop)&&(t.stopCallback=u.stop),t.firstCallback(t.elapsed,t),n()},c=()=>{t.stopCallback(t.elapsed,t),cancelAnimationFrame(t.id)},h=u=>{t.elapsed=u,t.tick(t.elapsed,t)};return{play:l,stop:c,tick:s,first:u=>{h(0)},last:u=>{h(t.duration)},seek:h,timer:t}}var d0={command:"firstTimelineItem",execute:function(a){Mr(a,(t,r)=>{var i=t.getSelectedTimelineFirstTime();t.setTimelineCurrentTime(ar(r.fps,i)),t.seek(),a.emit("playTimeline"),a.changeMode("SELECTION"),a.emit("afterChangeMode")})}},u0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:d0}),p0={command:"group.item",execute:function(a,t={}){if(a.selection.length===0)return;const r=a.selection.currentProject;if(r){r.generateListNumber();const i=a.selection.map(n=>({depth:n.depth,item:n}));i.sort((n,o)=>n.depth===o.depth?n.no>o.no?-1:1:n.depth>o.depth?1:-1);const s=a.createModel(v(v({itemType:"rect"},a.selection.itemRect),t));i[0].item.appendAfter(s),i.forEach(({item:n})=>{s.appendChild(n)}),a.selection.select(s),a.emit("refreshAll")}}},g0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:p0}),f0={command:"history.addLayer",description:"add layer in history ",execute:function(a,t,r,i=!0,s){a.emit("addLayer",r,i,s),a.nextTick(()=>{a.history.add(t,this,{currentValues:[r,i,s],undoValues:[r.id]})}),a.nextTick(()=>{a.history.saveSelection()})},redo:function(a,{currentValues:t}){a.emit("addLayer",...t),a.nextTick(()=>{a.emit("refreshAll")})},undo:function(a,{undoValues:t}){const r=t;a.selection.itemsByIds(r).forEach(s=>{s&&s.remove()}),a.nextTick(()=>{a.selection.empty(),a.emit("refreshAll")})}},m0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:f0}),v0={command:"history.bring.forward",description:"bring forward",execute:function(a,t,r=a.selection.current){const i=a.get(r),s=i.hierarchy,n=i.parent,o={};let l=null;i.isLast()?(l=n.next,l.enableHasChildren()?(l.appendChild(i),o=i.hierarchy):(l.appendAfter(i),o=i.hierarchy)):(i.parent.bringForward(i.id),o=i.hierarchy),a.emit("setAttributeForMulti",v(v(v({},n.attrsWithId("children")),i.attrsWithId("x","y","angle")),i.parent.attrsWithId("children"))),a.nextTick(()=>{a.history.add(t,this,{currentValues:[o],undoValues:[s]}),a.emit("refreshAllCanvas")}),a.nextTick(()=>{a.history.saveSelection()})},redo:function(a,{currentValues:[t],undoValues:[r]}){const i=a.get(t.id),s=a.get(t.parentId),n=a.get(r.parentId);s.insertChild(i,t.index),i.reset(t.attrs),a.emit("setAttributeForMulti",v(v(v({},n.attrsWithId("children")),i.attrsWithId("x","y","angle")),s.attrsWithId("children"))),a.nextTick(()=>{a.emit("refreshAllCanvas")})},undo:function(a,{currentValues:[t],undoValues:[r]}){const i=r,s=a.get(i.id),n=a.get(i.parentId),o=a.get(t.parentId),l=i.index;n.insertChild(s,l),s.reset(r.attrs),a.emit("setAttributeForMulti",v(v(v({},s.attrsWithId("x","y","angle")),n.attrsWithId("children")),o.attrsWithId("children"))),a.nextTick(()=>{a.emit("refreshAllCanvas")})}},y0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:v0}),b0={command:"history.bring.front",description:"bring front",execute:function(a,t,r=a.selection.current){const i=a.get(r),s=i.hierachy,n=i.parent,o={};i.isLast()||(i.parent.bringFront(i.id),o=i.hierarchy,a.emit("setAttributeForMulti",v(v({},n.attrsWithId("children")),i.attrsWithId("x","y","angle"))),a.nextTick(()=>{a.history.add(t,this,{currentValues:[o],undoValues:[s]}),a.emit("refreshAllCanvas")}),a.nextTick(()=>{a.history.saveSelection()}))},redo:function(a,{currentValues:[t],undoValues:[r]}){const i=a.get(t.id),s=a.get(t.parentId);s.insertChild(i,t.index),i.reset(t.attrs),a.emit("setAttributeForMulti",v(v({},i.attrsWithId("x","y","angle")),s.attrsWithId("children"))),a.nextTick(()=>{a.emit("refreshAllCanvas")})},undo:function(a,{currentValues:[t],undoValues:[r]}){const i=r,s=a.get(i.id),n=a.get(i.parentId),o=i.index;n.insertChild(s,o),a.emit("setAttributeForMulti",v(v({},s.attrsWithId("x","y","angle")),n.attrsWithId("children"))),a.nextTick(()=>{a.emit("refreshAllCanvas")})}},$0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:b0}),x0={command:"history.group.item",description:"History Group Item",execute:function(a,t="selection"){var n;const r=a.selection.ids,i=(n=a.selection.currentProject)==null?void 0:n.id,s=a.history.selectedIds;isArrayEquals(r,s)||a.history.add(t,this,{currentValues:{ids:r,projectId:i},undoValues:{ids:s,projectId:i}})},redo:function(a,{currentValues:[t,r]}){},undo:function(a,{undoValues:[t,r]}){}},_0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:x0}),S0={command:"history.moveLayer",description:"move layer in world ",execute:function(a,t,r=[],i=[0,0,0]){ai(r)===!1&&(r=[r]);const s=a.selection.itemsByIds(r),n={},o={};s.forEach(l=>{const c=l.absoluteMove(i),h=l.attrs("x","y");n[l.id]=c,o[l.id]=h}),a.emit("setAttributeForMulti",o),a.nextTick(()=>{a.history.add(t,this,{currentValues:[r,i],undoValues:[n]})}),a.nextTick(()=>{a.history.saveSelection()})},redo:function(a,{currentValues:[t,r]}){const i=a.selection.itemsByIds(t),s={};i.forEach(n=>{n.absoluteMove(r);const o=n.attrs("x","y");s[n.id]=o}),a.emit("setAttributeForMulti",currentValues)},undo:function(a,{undoValues:[t]}){a.emit("setAttributeForMulti",t)}},w0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:S0}),P0={command:"history.moveLayerToTarget",description:"move layer to target in world ",execute:function(a,t,r,i,s=[0,0,0],n="appendChild"){const o=a.get(r),l=o.parent,c=a.get(i),h=o.hierachy;o.absoluteMove(s);let d={};n==="appendChild"?(c.appendChild(o),d=c.attrsWithId("children")):n==="appendBefore"?(c.appendBefore(o),d=c.parent.attrsWithId("children")):n==="appendAfter"&&(c.appendAfter(o),d=c.parent.attrsWithId("children")),a.emit("setAttributeForMulti",v(v(v({},o.attrsWithId("x","y","angle")),d),l&&l.isNot("project")?l.attrsWithId("children"):{})),a.nextTick(()=>{a.history.add(t,this,{currentValues:[o.hierachy],undoValues:[h,o.parentId]}),a.emit("refreshAllCanvas")}),a.nextTick(()=>{a.history.saveSelection()})},redo:function(a,{currentValues:[t]}){const r=a.get(t.id),i=a.get(t.parentId);i.insertChild(r,t.index),r.reset(t.attrs),a.emit("setAttributeForMulti",v(v({},r.attrsWithId("x","y","angle")),i.attrsWithId("children"))),a.nextTick(()=>{a.emit("refreshAllCanvas")})},undo:function(a,{undoValues:[t,r]}){const i=t,s=a.get(i.id),n=a.get(i.parentId),o=a.get(r),l=i.index;n.insertChild(s,l),s.reset(t.attrs),a.emit("setAttributeForMulti",v(v(v({},s.attrsWithId("x","y","angle")),n.attrsWithId("children")),o.attrsWithId("children"))),a.nextTick(()=>{a.emit("refreshAllCanvas")})}},C0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:P0}),k0={command:"history.redo",execute:function(a){a.history.redo()}},T0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:k0}),M0={command:"history.refreshSelection",description:"save selection in history ",description_ko:"Selection \uC815\uBCF4\uB97C \uAC31\uC2E0\uD558\uBA74\uC11C History \uC5D0 \uC800\uC7A5\uD55C\uB2E4",execute:function(a,t="selection"){var n;const r=a.selection.ids,i=(n=a.selection.currentProject)==null?void 0:n.id,s=a.history.selectedIds;Xo(r,s)||(a.history.add(t,this,{currentValues:[r,i],undoValues:[s,i]}),this.nextAction(a))},nextAction(a){a.nextTick(()=>{a.history.saveSelection(),a.emit("refreshSelection"),a.nextTick(()=>{a.emit("refreshSelectionTool")})})},redo:function(a,{currentValues:[t,r]}){a.selection.selectProject(r),a.selection.select(...t),this.nextAction(a)},undo:function(a,{undoValues:[t,r]}){a.selection.selectProject(r),a.selection.select(...t),this.nextAction(a)}},I0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:M0}),E0={command:"history.refreshSelectionPorject",description:"save project selection in history ",description_ko:"Project Selection \uC815\uBCF4\uB97C \uAC31\uC2E0\uD558\uBA74\uC11C History \uC5D0 \uC800\uC7A5\uD55C\uB2E4",execute:function(a,t="selection",r){var n;const i=[r],s=[(n=a.selection.currentProject)==null?void 0:n.id];Xo(i,s)||(a.selection.selectProject(r),a.history.add(t,this,{currentValues:i,undoValues:s}),this.nextAction(a))},nextAction(a){a.nextTick(()=>{a.emit("refreshAll"),a.emit("refreshProjectList")})},redo:function(a,{currentValues:[t]}){a.selection.selectProject(t),this.nextAction(a)},undo:function(a,{undoValues:[t]}){a.selection.selectProject(t),this.nextAction(a)}},L0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:E0});function td(a=[]){return a.filter(t=>{let r=0;return t.path.forEach(i=>{r+=a.filter(s=>s.id===i.id).length?1:0}),r===1})}var V0={command:"history.removeLayer",description:"remove layer",execute:function(a,t,r=void 0){let i=a.selection.itemsByIds(r||a.selection.ids);i=td(i);const s=i.map(o=>o.id);console.log(s),a.modelManager.markRemove(s);const n=i.map(o=>o.parentId);i.forEach(o=>o.remove()),a.history.add(t,this,{currentValues:[s,n],undoValues:s}),a.nextTick(()=>{a.selection.removeById(s);const o=a.createCommandMaker();o.emit("refreshAllElementBoundSize"),o.emit("refreshAll"),o.emit("removeGuideLine"),n.forEach(l=>{o.emit("update",l,{changedChildren:!0})}),o.run(),a.nextTick(()=>{a.history.saveSelection()})})},redo:function(a,{currentValues:t}){const r=t[0];let i=a.selection.itemsByIds(r||a.selection.ids);i=td(i),a.modelManager.markRemove(i.map(s=>s.id)),i.forEach(s=>s.remove()),a.nextTick(()=>{a.emit("refreshAll")})},undo:function(a,{undoValues:t}){a.modelManager.unmarkRemove(t),a.nextTick(()=>{a.emit("refreshAll")})}},R0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:V0}),z0={command:"history.removeProject",description:"remove project",execute:function(a,t,r){const i=a.modelManager.markRemoveProject(r);a.history.add(t,this,{currentValues:[r],undoValues:[r,i]}),a.nextTick(()=>{a.selection.selectProject(a.modelManager.projects[0]),a.emit("refreshAll"),a.emit("removeGuideLine"),a.nextTick(()=>{a.history.saveSelection()})})},redo:function(a,{currentValues:[t]}){a.modelManager.markRemoveProject(t),a.nextTick(()=>{a.emit("refreshAll")})},undo:function(a,{undoValues:[t,r]}){a.modelManager.unmarkRemoveProject(t,r),a.nextTick(()=>{a.selection.selectProject(t),a.emit("refreshAll")})}},j0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:z0}),A0={command:"history.send.back",description:"send back",execute:function(a,t,r=a.selection.current){const i=a.get(r),s=i.hierarchy,n=i.parent,o={};i.isFirst()||(i.parent.sendBack(i.id),o=i.hierarchy,a.emit("setAttributeForMulti",v(v({},n.attrsWithId("children")),i.attrsWithId("x","y","angle"))),a.nextTick(()=>{a.history.add(t,this,{currentValues:[o],undoValues:[s]}),a.emit("refreshAllCanvas")}),a.nextTick(()=>{a.history.saveSelection()}))},redo:function(a,{currentValues:[t],undoValues:[r]}){const i=a.get(t.id),s=a.get(t.parentId);s.insertChild(i,t.index),i.reset(t.attrs),a.emit("setAttributeForMulti",v(v({},i.attrsWithId("x","y","angle")),s.attrsWithId("children"))),a.nextTick(()=>{a.emit("refreshAllCanvas")})},undo:function(a,{currentValues:[t],undoValues:[r]}){const i=r,s=a.get(i.id),n=a.get(i.parentId),o=i.index;n.insertChild(s,o),a.emit("setAttributeForMulti",v(v({},s.attrsWithId("x","y","angle")),n.attrsWithId("children"))),a.nextTick(()=>{a.emit("refreshAllCanvas")})}},O0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:A0}),D0={command:"history.send.backward",description:"send backward",execute:function(a,t,r=a.selection.current){const i=a.get(r),s=i.hierarchy,n=i.parent,o={};let l=null;i.isFirst()?(l=n.prev,l.appendBefore(i),o=i.hierarchy):(i.parent.sendBackward(i.id),o=i.hierarchy),a.emit("setAttributeForMulti",v(v(v({},n.attrsWithId("children")),i.attrsWithId("x","y","angle")),i.parent.attrsWithId("children"))),a.nextTick(()=>{a.history.add(t,this,{currentValues:[o],undoValues:[s]}),a.emit("refreshAllCanvas")}),a.nextTick(()=>{a.history.saveSelection()})},redo:function(a,{currentValues:[t],undoValues:[r]}){const i=a.get(t.id),s=a.get(t.parentId),n=a.get(r.parentId);s.insertChild(i,t.index),i.reset(t.attrs),a.emit("setAttributeForMulti",v(v(v({},n.attrsWithId("children")),i.attrsWithId("x","y","angle")),s.attrsWithId("children"))),a.nextTick(()=>{a.emit("refreshAllCanvas")})},undo:function(a,{currentValues:[t],undoValues:[r]}){const i=r,s=a.get(i.id),n=a.get(i.parentId),o=a.get(t.parentId),l=i.index;n.insertChild(s,l),s.reset(r.attrs),a.emit("setAttributeForMulti",v(v(v({},s.attrsWithId("x","y","angle")),n.attrsWithId("children")),o.attrsWithId("children"))),a.nextTick(()=>{a.emit("refreshAllCanvas")})}},F0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:D0}),B0={command:"history.setAttributeForMulti",execute:function(a,t,r={},i={origin:"*"}){a.emit("setAttributeForMulti",r,i),a.history.add(t,this,{currentValues:[r],undoValues:a.history.getUndoValuesForMulti(r)}),a.nextTick(()=>{a.history.saveSelection()})},redo:function(a,{currentValues:t}){a.emit("setAttributeForMulti",...t),a.nextTick(()=>{a.selection.reselect(),a.emit("refreshAll")})},undo:function(a,{undoValues:t}){const r=Object.keys(t);a.selection.itemsByIds(r).forEach(s=>{s.reset(t[s.id])}),a.selection.reselect(),a.nextTick(()=>{a.emit("refreshAll")})}},N0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:B0}),G0={command:"history.undo",execute:function(a){a.history.undo()}},H0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:G0}),U0={command:"item.move.depth.down",execute:function(a){const t=a.selection.current;t&&t.orderPrev(),Ir(a)}},X0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U0}),Y0={command:"item.move.depth.first",execute:function(a){const t=a.selection.current;t&&t.orderFirst(),Ir(a)}},W0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Y0}),K0={command:"item.move.depth.last",execute:function(a){const t=a.selection.current;t&&t.orderLast(),Ir(a)}},Z0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:K0}),q0={command:"item.move.depth.up",execute:function(a){const t=a.selection.current;t&&t.orderNext(),Ir(a)}},Q0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:q0}),J0={command:"keymap.keydown",execute:function(a,t){a.keyboardManager.add(t.code,t.keyCode),a.shortcuts&&a.shortcuts.execute(t,"keydown")}},ey=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:J0}),ty={command:"keymap.keyup",execute:function(a,t){a.keyboardManager.remove(t.key,t.keyCode),a.shortcuts&&a.shortcuts.execute(t,"keyup")}},ry=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ty}),iy={command:"lastTimelineItem",execute:function(a){Mr(a,(t,r)=>{var i=t.getSelectedTimelineLastTime();t.setTimelineCurrentTime(ar(r.fps,i)),t.seek(),a.emit("playTimeline"),a.changeMode("SELECTION"),a.emit("afterChangeMode")})}},sy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:iy}),ay={command:"load.json",execute:function(a,t,r={origin:"*"}){a.modelManager.load(t,r),Ir(a)}},ny=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ay}),oy={command:"moveLayer",description:"move layer by keydown with matrix ",execute:function(a,t=0,r=0){const i=[t,r,0];a.selection.items.forEach(s=>{s.absoluteMove(i)}),a.command("setAttributeForMulti","item move down",a.selection.pack("x","y")),a.nextTick(()=>{a.selection.reselect()})}},ly=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oy}),cy={command:"moveLayerForItems",description:"mova layer by multi items ",execute:function(a,t=[]){const r={};t.forEach(i=>{i.item.absoluteMove(i.dist),r[i.item.id]=i.item.attrs("x","y")}),a.emit("history.setAttributeForMulti","item move",r),a.nextTick(()=>{a.selection.reselect()})}},hy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cy}),dy={command:"moveSelectionToCenter",description:"Move selection project or artboards to center on Viewport",execute:function(a,t=!0){let r=[];a.selection.isEmpty?a.selection.currentProject.layers.length>0?r=va(a.selection.currentProject.layers):r=wt(0,0,100,100):r=va(a.selection.items),a.emit("moveToCenter",r,t)}},uy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dy}),py={command:"moveToCenter",description:"Move Layer to Center on Viewport",execute:function(a,t,r=!1){t&&a.viewport.moveToCenter(t,r?-.2:0,r)}},gy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:py});function fy(a,t,r,i=!0,s=void 0){t==="svg-textpath"?r=le(v({},r),{"font-size":r.height,textLength:"100%",d:W.makeLine(0,r.height,r.width,r.height).d}):t==="svg-circle"?(t="svg-path",r=le(v({},r),{"background-color":void 0,fill:"#C4C4C4",d:W.makeCircle(0,0,r.width,r.height).d})):t==="svg-rect"?(t="svg-path",r=le(v({},r),{"background-color":void 0,fill:"#C4C4C4",d:W.makeRect(0,0,r.width,r.height).d})):t==="text"?r=v({width:300,height:50},r):t==="artboard"&&(r=le(v({},r),{"background-color":"white"}));const n=v({itemType:t},r);a.command("addLayer",`add layer - ${t}`,a.createModel(n),i,s),a.changeMode(Gs)}var my=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fy}),vy={command:"nextTimelineItem",execute:function(a){Mr(a,(t,r)=>{var i=t.getSelectedTimelineNextTime();t.setTimelineCurrentTime(ar(r.fps,i)),t.seek(),a.emit("playTimeline"),a.changeMode("SELECTION"),a.emit("afterChangeMode")})}},yy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vy});class dl{static parse(t){var r=t.split(" ").filter(l=>l.trim()).map(l=>g.parse(l)),i=g.percent(0),s=g.percent(0),n=g.percent(0),o=g.percent(0);return r.length===1?(i=r[0].clone(),s=r[0].clone(),n=r[0].clone(),o=r[0].clone()):r.length===2?(i=r[0].clone(),s=r[1].clone(),n=r[0].clone(),o=r[1].clone()):r.length===3?(i=r[0].clone(),s=r[1].clone(),n=r[2].clone(),o=r[1].clone()):r.length===4&&(i=r[0].clone(),s=r[1].clone(),n=r[2].clone(),o=r[3].clone()),[r.length,i,s,n,o]}}const by=/(content\-box|padding\-box|border\-box|margin\-box|view\-box|stroke\-box|fill\-box|none|(inset|circle|ellipse|polygon|path|svg|url)(\(([^\)]*)\))?)/gi;class _e extends ir{getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"clip-path",type:"none",value:""},t))}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("value"))}toString(){var t=this.json.type,r=this.json.value,i=this.json.box,s="";switch(t){case"circle":case"inset":case"ellipse":case"polygon":case"path":s=`${t}(${r})`;break;case"svg":s=`url(#${r})`;break;default:s="none";break}return i?`${i} ${s}`:s}toCSS(){return{"clip-path":this.toString()}}static toCSS(t){return new _e(t).toCSS()}static toString(t){return _e.toCSS(t)["clip-path"]}static parse(t){return new _e(t)}static parseStyle(t){var r={};if(!t)return{};var i=t.match(by)||[];return i.forEach((s,n)=>{if(s.includes("-box"))r.box=s;else{var[o,l]=s.split("(");l=l||"",o==="none"?l="":l=l.split(")")[0],r.type=o,r.value=l}}),r}static parseStyleForCircle(t="50% at 50% 50%"){var r=new g("","closest-side"),i="";t=t||"50% at 50% 50%",t.includes("at")?[r,i]=t.split("at").map(o=>o.trim()):i=t.trim();var[s,n]=i.split(" ");return xt(n)&&(n=s),r=g.parse(r),s=g.parse(s),n=g.parse(n),{radius:r,x:s,y:n}}static parseStyleForEllipse(t="50% 50%"){var r="50% 50%",i="";t=t||"50%",t.includes("at")?[r,i]=t.split("at").map(c=>c.trim()):i=t.trim();var[s,n]=i.split(" ");xt(n)&&(n=s),s=g.parse(s),n=g.parse(n);var[o,l]=r.split(" ");return xt(l)&&(l=o),o=g.parse(o),l=g.parse(l),{radiusX:o,radiusY:l,x:s,y:n}}static parseStyleForInset(t=""){var[r,i]=t.split("round"),[s,n,o,l,c]=dl.parse(r);if(i)var[h,d,p,u,m]=dl.parse(i);return{isAll:s===1,top:n,right:o,bottom:l,left:c,round:i,isAllRadius:h===1,topRadius:d,rightRadius:p,bottomRadius:u,leftRadius:m}}static parseStyleForPolygon(t=""){return t.split(",").filter(r=>r.trim()).map(r=>{var[i,s]=r.trim().split(" ");return{x:g.parse(i),y:g.parse(s)}})}}var $y={command:"open.editor",description:"Open custom editor for item  when doubleclick is fired",execute:function(a,t){if(!(!t&&a.selection.isOne===!1)&&(t=t||a.selection.current,t)){if(t.editablePath)a.emit("showPathEditor","modify",{box:"canvas",current:t,matrix:t.matrix,isControl:!0,disableCurve:!0,d:t.editablePath,changeEvent:n=>{a.command("setAttributeForMulti","change editable path",a.selection.packByValue(v({},t.recoverEditablePath(n.d)),[t.id])),a.nextTick(()=>{a.stateManager.isPointerUp&&a.emit("recoverBooleanPath")})}}),a.emit("hideSelectionToolView");else if(t.d)a.emit("showPathEditor","modify",{box:"canvas",current:t,matrix:t.matrix,d:t.absolutePath().d,changeEvent:n=>{const o=a.selection.current;if(o.isSVG()&&o.isNot("svg-path")){const l=o.toSVGPath(),c=a.createModel(v({itemType:"svg-path"},l));a.selection.select(c),o.appendAfter(c),a.nextTick(()=>{a.emit("removeLayer",[o.id]),a.emit("updatePathItem",n)})}else a.emit("updatePathItem",n),a.nextTick(()=>{a.stateManager.isPointerUp&&a.emit("recoverBooleanPath")})}}),a.emit("hideSelectionToolView");else if(t["clip-path"]){var r=_e.parseStyle(t["clip-path"]);if(r.type==="path"){var i=t.absolutePath(t.clipPathString).d,s=i?"modify":"path";a.emit("showPathEditor",s,{changeEvent:n=>{const o=t.invertPath(n.d).d;a.command("setAttributeForMulti","change clip-path",a.selection.packByValue({"clip-path":`path(${o})`}))},current:t,d:i}),a.emit("hideSelectionToolView")}else r.type==="svg"||a.emit("showClippathEditorView")}}}},xy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$y}),_y={command:"pauseTimelineItem",execute:function(a){a.timer&&a.timer.stop()}},Sy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_y}),wy={command:"playTimelineItem",description:"Play button action",execute:function(a,t=1,r=1,i="normal"){a.selection.empty(),a.emit("refreshSelection"),a.changeMode("play"),a.emit("afterChangeMode"),Mr(a,(s,n)=>{var o=s.getSelectedTimelineLastTime();a.timer?a.timer.stop():a.timer=h0({elapsed:n.currentTime*1e3,speed:t,duration:o*1e3,iterationCount:r,direction:i}),a.timer.play({duration:o*1e3,elapsed:n.currentTime*1e3,speed:t,iterationCount:r,direction:i,tick:(l,c)=>{s.seek(ar(n.fps,l/1e3)),a.emit("playTimeline")},last:(l,c)=>{s.seek(ar(n.fps,l/1e3)),a.emit("playTimeline"),a.nextTick(()=>{a.emit("stopTimeline"),a.changeMode("SELECTION"),a.emit("afterChangeMode")})},stop:(l,c)=>{s.stop(ar(n.fps,l/1e3)),a.emit("stopTimeline"),a.changeMode("SELECTION"),a.emit("afterChangeMode")}})})}},Py=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wy}),Cy={command:"pop.mode.view",execute:function(a,t=void 0){a.modeViewManager.popMode(t)}},ky=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Cy}),Ty={command:"prevTimelineItem",execute:function(a){Mr(a,(t,r)=>{var i=t.getSelectedTimelinePrevTime();t.setTimelineCurrentTime(ar(r.fps,i)),t.seek(),a.emit("playTimeline"),a.changeMode("SELECTION"),a.emit("afterChangeMode")})}},My=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ty}),Iy={command:"push.mode.view",execute:function(a,t="CanvasView"){a.modeViewManager.pushMode(t)}},Ey=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Iy}),Ly={command:"recoverBooleanPath",description:"recover box rectangle for boolean path result",execute:function(a){const t=a.selection.current;let r;if(t&&t.isBooleanItem?r=t.parent:t&&t.is("boolean-path")&&(r=t),r){const i=typeof t.isBooleanItem=="boolean"&&t.isBooleanItem,s=r.d;if(!s)return;const n=r.layers.map(h=>({item:h,matrix:h.matrix})),o=r.updatePath(s);delete o.d,r.reset(o),n.forEach(h=>{r.resetMatrix(h.item)});const l=[...n.map(h=>h.item.id),r.id],c=a.selection.packByIds(l,"x","y","width","height");a.command("setAttributeForMulti","fit boolean path",c,{origin:"*",doNotChildrenScale:i})}}},Vy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ly}),Ry={command:"recoverCursor",execute:function(a){a.emit("changeIconView","auto")}},zy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ry}),jy={command:"refreshArtboard",execute:function(a){const t=a.createCommandMaker();t.emit("refreshLayerTreeView"),t.emit("refreshAllCanvas"),t.emit("refreshStyleView"),t.emit("refreshSelectionStyleView"),t.emit("refreshAllElementBoundSize"),t.emit("refreshSelection"),t.run()}},Ay=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jy}),Oy={command:"refreshCursor",execute:function(a,t,...r){a.emit("changeIconView",t,...r)}},Dy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Oy}),Fy={command:"refreshElement",execute:function(a,t){a.emit("refreshSelectionStyleView",t),t&&t.is("project")?a.emit("refreshElementBoundSize",t):t&&(t.isLayoutItem()||t.parent.is("boolean-path"))?a.emit("refreshElementBoundSize",t.parent):a.emit("refreshElementBoundSize",t)}},By=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fy});function Ny(a){a.emit("saveJSON")}var Gy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ny});function Hy(a,t){a.emit("refreshStyleView",t,!0)}var Uy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hy}),Xy={command:"refreshSelectedOffset",execute:function(a){var t=a.timeline.items[0];t&&a.emit("refreshOffsetValue",t)}},Yy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xy}),Wy={command:"removeAnimationItem",execute:function(a,t){const r=a.selection.currentProject;r&&(r.removeAnimationItem(t),a.timeline.empty(),a.emit("refreshTimeline"),a.emit("removeAnimation"))}},Ky=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wy}),Zy={command:"removeLayer",execute:function(a,t=void 0){const r=t||a.selection.ids,i=[];a.selection.itemsByIds(r).forEach(s=>{i.push(s.id),s.remove()}),a.selection.removeById(i),a.nextTick(()=>{a.emit("refreshAll")})}},qy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zy}),Qy={command:"removeTimeline",execute:function(a,t){const r=a.selection.currentProject;r&&(r.removeTimeline(t),a.timeline.empty(),a.emit("refreshTimeline"),a.emit("refreshSelectedOffset"))}},Jy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qy}),eb={command:"removeTimelineProperty",execute:function(a,t,r){const i=a.selection.currentProject;i&&(i.removeTimelineProperty(t,r),a.timeline.empty(),a.emit("refreshTimeline"),a.emit("refreshSelectedOffset"))}},tb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eb});function rb(a){a.emit("refreshSelectionTool")}var ib=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rb});function sb(a,t=""){var r=a.selection.current;if(r&&r.is("artboard")){if(!t.trim())return;var[i,s]=t.split("x");i=+i,s=+s,r.reset({width:i,height:s}),a.selection.select(r),Ir(a)}}var ab=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sb});const nb=1e3,Ia=new Map;class gs{static has(t){return Ia.has(t)}static get(t){return Ia.get(t)}static set(t,r){Ia.size>nb&&Ia.clear(),Ia.set(t,r)}}const ob=/((matrix|translate(X|Y|Z|3d)?|scale(X|Y|Z|3d)?|rotate(X|Y|Z|3d)?|skew(X|Y)?|matrix(3d)?|perspective)\(([^\)]*)\))/gi;class Ke extends ir{getDefaultObject(){return{itemType:"transform",value:[]}}toCloneObject(){return v({},this.attrs("itemType","type","value"))}toString(){return`${this.json.type}(${this.json.value.join(", ")||""})`}static join(t){var r="perspective",i="matrix3d",s=t.filter(l=>l.type===r),n=t.filter(l=>l.type===i),o=t.filter(l=>l.type!==r&&l.type!==i);return[...s,...o,...n].map(l=>new Ke(l).toString()).join(" ")}hasNumberValue(){var t=this.json.type;return t.includes("matrix")||t.includes("scale")}static parse(t){return new Ke(t)}static remove(t,r=[]){return typeof r=="string"&&(r=[r]),Ke.filter(t,i=>r.includes(i.type)===!1)}static filter(t,r){return Ke.join(Ke.parseStyle(t,!1).filter(i=>r(i)))}static replace(t,r){var i=Ke.parseStyle(t,!1),s=i.find(n=>n.type===r.type);return s?s.value=r.value:i.push(r),Ke.join(i)}static replaceAll(t,r){for(var i=Ke.parseStyle(t,!1),s=Ke.parseStyle(r),n=0,o=s.length;n<o;n++){var l=s[n],c=i.find(h=>h.type===l.type);c?c.value=l.value:i.push(l)}return Ke.join(i)}static addTransform(t,r){for(var i=Ke.parseStyle(t,!1),s=Ke.parseStyle(r),n=0,o=s.length;n<o;n++){var l=s[n],c=i.find(h=>h.type===l.type);c?l.value.forEach((h,d)=>{c.value[d].value+=h.value}):i.push(l)}return Ke.join(i)}static get(t,r){var i=Ke.parseStyle(t,!0);if(typeof r=="function"?i=i.find(r):i=i.find(s=>s.type===r),i)return i.value}static createRotateKey(t,r,i){return`${t}:::${i}(${r})`}static rotate(t,r,i="rotate"){const s=Ke.createRotateKey(t,r,i);return gs.has(s)||gs.set(s,Ke.replace(t,{type:i,value:[r]})),gs.get(s)}static rotateZ(t,r){return Ke.rotate(t,r,"rotateZ")}static rotateX(t,r){return Ke.rotate(t,r,"rotateX")}static rotateY(t,r){return Ke.rotate(t,r,"rotateY")}static parseStyle(t,r=!0){var i=[];if(!t)return i;if(r&&gs.has(t))return gs.get(t);var s=t.match(ob)||[];return s.forEach((n,o)=>{var[l,c]=n.split("(");c=c.split(")")[0];var h=c.split(",");c.includes("matrix")||c.includes("scale")?h=h.map(d=>g.number(d.trim())):h=h.map(d=>g.parse(d.trim())),i[o]=Ke.parse({type:l,value:h})}),r&&gs.set(t,i),i}static createTransformMatrix(t,r,i){const s=St();for(let l=0,c=t.length;l<c;l++){const h=t[l];switch(h.type){case"translate":case"translateX":case"translateY":case"translateZ":var n=h.value;h.type==="translate"?n=[n[0].toPx(r).value,n[1].toPx(i).value,0]:h.type==="translateX"?n=[n[0].toPx(r).value,0,0]:h.type==="translateY"?n=[0,n[0].toPx(i).value,0]:h.type==="translateZ"&&(n=[0,0,n[0].toPx().value]),mt(s,s,n);break;case"rotate":case"rotateZ":Zc(s,s,Ot(h.value[0].value));break;case"rotateX":ff(s,s,Ot(h.value[0].value));break;case"rotateY":mf(s,s,Ot(h.value[0].value));break;case"rotate3d":var n=h.value;gf(s,s,Ot(h.value[3].value),[n[0].value,n[1].value,n[2].value]);break;case"scale":Br(s,s,[h.value[0].value,h.value[1].value,1]);break;case"scaleX":Br(s,s,[h.value[0].value,1,1]);break;case"scaleY":Br(s,s,[1,h.value[0].value,1]);break;case"scaleZ":Br(s,s,[1,1,h.value[0].value]);break;case"skewX":var o=h.value[0].toDeg().toRad();Tt(s,s,Pi(1,0,0,0,Math.tan(o.value),1,0,0,0,0,1,0,0,0,0,1));break;case"skewY":var o=h.value[0].toDeg().toRad();Tt(s,s,Pi(1,Math.tan(o.value),0,0,0,1,0,0,0,0,1,0,0,0,0,1));break;case"skew":const d=h.value[0].toDeg().toRad(),p=h.value.length>1?h.value[1].toDeg().toRad():d;Tt(s,s,Pi(1,Math.tan(p.value),0,0,Math.tan(d.value),1,0,0,0,0,1,0,0,0,0,1));break;case"matrix":var n=h.value;n=[n[0].value,n[1].value,0,0,n[2].value,n[3].value,0,0,0,0,1,0,n[4].value,n[5].value,0,1],Tt(s,s,n);break;case"matrix3d":var n=h.value.map(u=>u.value);Tt(s,s,n);break;case"perspective":var n=h.value;bf(s,Math.PI*.5,r/i,1,n[0].value);break}}return s}static fromScale(t){if(t[0]===1&&t[1]===1)return"";const r=[];return t[0]!=1&&r.push(`scaleX(${t[0]})`),t[1]!=1&&r.push(`scaleY(${t[1]})`),t[2]!=1&&r.push(`scaleZ(${t[2]})`),r.join(" ")}}var lb={command:"rotateLayer",description:"rotate layer by keydown with matrix ",execute:function(a,t=0){a.command("setAttributeForMulti","change rotate",a.selection.packByValue({transform:r=>Ke.addTransform(r.transform,`rotateZ(${g.deg(t).round(1e3)})`)})),a.nextTick(()=>{a.selection.reselect(),a.emit("refreshAll")})}},cb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lb}),hb={command:"same.height",description:"fit at the same height",execute:function(a){var t=a.selection.length;if(t!=1){if(t>1){const r=rr(a.selection.verties);a.command("setAttributeForMulti","fit at the same height",a.selection.packByValue({y:r.y,height:r.height}))}}}},db=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hb}),ub={command:"same.width",description:"fit at the same width",execute:function(a){if(a.selection.isMany){const t=rr(a.selection.verties);a.command("setAttributeForMulti","fit at the same width",a.selection.packByValue({x:t.x,width:t.width}))}}},pb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ub}),gb={command:"saveJSON",execute:function(a){a.saveItem("model",a.modelManager.toJSON())}},fb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gb}),mb={command:"savePNG",execute:function(a,t=""){const r=a.selection.current;if(r){const i=hl.generateSVG(a,r).trim(),s="data:image/svg+xml;base64,"+window.btoa(i);Dn({local:s},(n,o)=>{Jh(o,l=>{t&&a.emit(t,l)})})}}},vb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mb}),yb={command:"segment.delete",execute:function(a,t){a.emit("deleteSegment")}},bb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yb}),$b={command:"segment.move.down",execute:function(a,t={dy:1}){const r=+t.dy;a.emit("moveSegment",0,r)}},xb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$b}),_b={command:"segment.move.left",execute:function(a,t={dx:1}){const r=+t.dx;a.emit("moveSegment",-1*r,0)}},Sb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_b}),wb={command:"segment.move.right",execute:function(a,t={dx:1}){const r=+t.dx;a.emit("moveSegment",r,0)}},Pb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wb}),Cb={command:"segment.move.up",execute:function(a,t={dy:1}){const r=+t.dy;a.emit("moveSegment",0,-1*r)}},kb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Cb}),Tb={command:"select.all",execute:function(a){var t=a.selection.currentProject;t&&(a.selection.select(...t.layers),a.emit("history.refreshSelection"))}},Mb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Tb}),Ib={command:"selectTimelineItem",execute:function(a,t){const r=a.selection.currentProject;r&&(r.selectTimeline(t),a.emit("refreshTimeline"),a.emit("selectTimeline"))}},Eb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ib}),Lb={command:"setAttributeForMulti",execute:function(a,t={},r={origin:"*"}){const i=[];if(Object.entries(t).forEach(([n,o])=>{const l=a.get(n),c={};Object.entries(o).forEach(([h,d])=>{c[h]=ye(d)?d(l):d}),i.push({id:l.id,parentId:l.parentId,attrs:c})}),i.length==0)return;const s=a.createCommandMaker();i.forEach(n=>{s.emit("update",n.id,n.attrs,r);const o=a.get(n.id);if(o.is("project")||o.parent&&o.parent.is("project"))return;if(o.parent.is("boolean-path")){const c=a.get(n.parentId);n.parentId&&(c==null?void 0:c.isNot("project"))&&c.children.length>=1&&s.emit("update",n.parentId,{changedChildren:!0},r)}}),s.run()}},Vb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Lb}),Rb={command:"setLocale",execute:function(a,t){a.setLocale(t),a.emit("changed.locale")}},zb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rb}),jb={command:"setTimelineOffset",debounce:100,execute:function(a,t){const r=a.selection.currentProject;r&&(r.setTimelineKeyframeOffsetValue(t.layerId,t.property,t.id,t.value,t.timing,t.time),a.emit("refreshTimeline"))}},Ab=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jb}),Ob={command:"showExportView",execute:function(a){a.emit("showExportWindow")}},Db=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ob}),Fb={command:"sort.bottom",execute:function(a){if(a.selection.isOne){const t=a.selection.current;if(!t.parent.is("project")){const r=t.parent,i=ca(r.verties)-ca(a.selection.verties);a.emit("moveLayer",0,i)}}else if(a.selection.isMany){let t=ca(a.selection.verties);a.emit("moveLayerForItems",a.selection.map(r=>{let i=ca(r.verties);return{item:r,dist:[0,t-i,0,0]}}))}}},Bb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fb}),Nb={command:"sort.center",execute:function(a){if(a.selection.isOne){const t=a.selection.current;if(!t.parent.is("project")){if(t.artboard){const r=da(t.artboard.verties)-da(a.selection.verties);a.emit("moveLayer",r,0)}}}else if(a.selection.isMany){let t=da(a.selection.verties);a.emit("moveLayerForItems",a.selection.map(r=>{let i=da(r.verties);return{item:r,dist:[t-i,0,0]}}))}}},Gb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Nb}),Hb={command:"sort.left",execute:function(a){if(a.selection.isOne){const t=a.selection.current;if(!t.parent.is("project")){const r=t.parent,i=ha(r.verties)-ha(a.selection.verties);a.emit("moveLayer",i,0)}}else if(a.selection.isMany){let t=ha(a.selection.verties);a.emit("moveLayerForItems",a.selection.map(r=>{let i=ha(r.verties);return{item:r,dist:[t-i,0,0]}}))}}},Ub=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hb}),Xb={command:"sort.middle",execute:function(a){if(a.selection.isOne){const t=a.selection.current;if(!t.parent.is("project")){if(t.artboard){const r=pa(t.artboard.verties)-pa(a.selection.verties);a.emit("moveLayer",0,r)}}}else if(a.selection.isMany){let t=pa(a.selection.verties);a.emit("moveLayerForItems",a.selection.map(r=>{let i=pa(r.verties);return{item:r,dist:[0,t-i,0,0]}}))}}},Yb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xb}),Wb={command:"sort.right",execute:function(a){if(a.selection.isOne){const t=a.selection.current;if(!t.parent.is("project")){const r=t.parent,i=la(r.verties)-la(a.selection.verties);a.emit("moveLayer",i,0)}}else if(a.selection.isMany){let t=la(a.selection.verties);a.emit("moveLayerForItems",a.selection.map(r=>{let i=la(r.verties);return{item:r,dist:[t-i,0,0]}}))}}},Kb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wb}),Zb={command:"sort.top",execute:function(a){if(a.selection.isOne){const t=a.selection.current;if(!t.parent.is("project")){const r=t.parent,i=ua(r.verties)-ua(a.selection.verties);a.emit("moveLayer",0,i)}}else if(a.selection.isMany){let t=ua(a.selection.verties);a.emit("moveLayerForItems",a.selection.map(r=>{let i=ua(r.verties);return{item:r,dist:[0,t-i,0,0]}}))}}},qb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zb}),Qb={command:"switch.path",execute:async(a,t)=>{const r=a.selection.current;if(!!r&&(r.is("boolean-path")||r.isBooleanItem)){let i=r;r.isBooleanItem&&(i=r.parent),a.selection.select(i),a.command("setAttributeForMulti","change boolean operation",a.selection.packByValue({"boolean-operation":i["boolean-operation"],children:i.children.reverse()})),a.nextTick(()=>{a.emit("recoverBooleanPath"),a.selection.select(r),a.emit("refreshSelection")})}}},Jb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qb}),e2={command:"toggleToolHand",execute:function(a){a.config.toggle("set.tool.hand")}},t2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:e2}),r2={command:"ungroup.item",execute:function(a){if(a.selection.length===0)return;const t=a.selection.current;if(t){let r=t,i=[...r.layers];i.reverse(),i.forEach(s=>{r.appendBefore(s)}),a.selection.select(...i),a.emit("refreshAll")}}},i2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:r2}),s2={command:"updateClipPath",description:"update clip-path property ",execute:function(a,t){a.command("setAttributeForMulti","change clip-path",a.selection.packByValue({"clip-path":`path(${t.d})`}))}},a2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:s2}),n2={command:"updateImage",execute:function(a,t,r,i){var s=new FileReader;s.onload=n=>{var o=n.target.result,l=URL.createObjectURL(t);a.emit("addImageAssetItem",{id:tr(),type:t.type,name:t.name,original:o,local:l},r,i)},s.readAsDataURL(t)}},o2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:n2}),l2={command:"updateImageAssetItem",execute:function(a,t,r){var i=new FileReader;i.onload=s=>{var n=s.target.result,o=URL.createObjectURL(t),l=a.selection.currentProject;if(l){const c=l.createImage({id:tr(),type:t.type,name:t.name,original:n,local:o});a.emit("addImageAsset"),ye(r)&&r(c.id)}},i.readAsDataURL(t)}},c2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:l2}),h2={command:"updatePathItem",description:"Update path string for selected svg path item",execute:function(a,t){const r=a.selection.current;if(r)if(t.box==="box"){const i=r.invertPath(t.d);a.command("setAttributeForMulti","change local path",a.selection.packByValue({d:i.d}))}else{const i=new W(t.d);i.transformMat4(t.matrix.absoluteMatrixInverse);let s=i.getBBox();const n=Bt(s[1],s[0]),o=Bt(s[3],s[0]);let l=ce(wt(s[0][0],s[0][1],n,o),t.matrix.absoluteMatrix),c=ce(l,hi(ut([],l[4]),Ke.createTransformMatrix(Ke.parseStyle(t.matrix.transform),n,o),ut([],At([],l[4]))));const h=Wt(ut([],c[0]),r.getLocalTransformMatrix(n,o)),d=Ci([],Wt(t.matrix.parentMatrixInverse,h,It([],r.getLocalTransformMatrix(n,o))));a.command("setAttributeForMulti","change path",a.selection.packByValue({d:i.translate(-s[0][0],-s[0][1]).d,x:d[0],y:d[1],width:n,height:o}))}}},d2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:h2}),u2={command:"updateResource",execute:function(a,t){t.forEach(r=>{switch(r.type){case"image/svg+xml":case"image/png":case"image/gif":case"image/jpg":case"image/jpeg":a.emit("updateImage",r);break;case"text/plain":case"text/html":a.emit("addText",{content:r.data});break;case"text/uri-list":a.emit("updateUriList",r);break}})}},p2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:u2}),g2={command:"updateScale",execute:function(a,t){const r=a.viewport.scale;a.viewport.setScale(t),a.emit("updateViewport",t,r)}},f2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:g2});class Fn{static parse(t,r=!1){var[i,s]=t.split("data:"),[n,...o]=s.split(","),[l,c]=n.split(";");return o=o.join(","),{mimeType:l,local:r&&Fn.getLink(l,c,o)}}static getLink(t,r,i){if(r==="base64"){for(var s=atob(i),n=s.length,o=new Uint8Array(n),l=0;l<n;l++)o[l]=s.charCodeAt(l);var c=new Blob([o],{type:t});return URL.createObjectURL(c)}return""}}var m2={command:"updateUriList",execute:function(a,t){var r=t.data;if(r.indexOf("data:")>-1){var i=Fn.parse(r,!0);switch(i.mimeType){case"image/png":case"image/gif":case"image/jpg":case"image/jpeg":a.emit("addImageAssetItem",{id:tr(),type:i.mimeType,name:"",original:r,local:i.local});break}}else{var s=t.data.split(".").pop(),n=t.data.split("/").pop();switch(s){case"png":case"jpg":case"gif":case"svg":a.emit("addImageAssetItem",{id:tr(),type:"image/"+s,name:n,original:t.data,local:t.data});break}}}},v2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:m2}),y2={command:"updateVideo",execute:function(a,t,r,i=void 0){var s=new FileReader;s.onload=n=>{var o=n.target.result,l=URL.createObjectURL(t);a.emit("addVideoAssetItem",{id:tr(),type:t.type,name:t.name,original:o,local:l},r,i)},s.readAsDataURL(t)}},b2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:y2}),$2={command:"updateVideoAssetItem",execute:function(a,t,r){var i=new FileReader;i.onload=s=>{var n=s.target.result,o=URL.createObjectURL(t),l=a.selection.currentProject;l&&(l.createVideo({id:tr(),type:t.type,name:t.name,original:n,local:o}),a.emit("addVideoAsset"),ye(r)&&r(o))},i.readAsDataURL(t)}},x2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$2}),_2={command:"zoom.default",execute:function(a){a.viewport.zoomDefault()}},S2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_2}),w2={command:"zoom.in",execute:function(a){a.viewport.zoomIn(.02)}},P2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:w2}),C2={command:"zoom.out",execute:function(a){a.viewport.zoomOut(.02)}},k2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:C2}),T2={command:"update",description:"Update the model",execute:function(a,t=null,r={},i={origin:"*"}){const s=a.get(t);s&&s.reset(r,i)&&a.emit("refreshElement",s)}},M2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:T2});const I2={"./command_list/_currentProject.js":am,"./command_list/_doForceRefreshSelection.js":nm,"./command_list/addArtBoard.js":lm,"./command_list/addBackgroundColor.js":hm,"./command_list/addBackgroundImageAsset.js":Tv,"./command_list/addBackgroundImageGradient.js":Iv,"./command_list/addBackgroundImagePattern.js":Nv,"./command_list/addCustomComponent.js":Hv,"./command_list/addImage.js":Xv,"./command_list/addImageAssetItem.js":Wv,"./command_list/addLayer.js":Zv,"./command_list/addLayerView.js":Qv,"./command_list/addProject.js":e1,"./command_list/addSVGFilterAssetItem.js":r1,"./command_list/addText.js":s1,"./command_list/addTimelineCurrentProperty.js":n1,"./command_list/addTimelineItem.js":l1,"./command_list/addTimelineKeyframe.js":h1,"./command_list/addTimelineProperty.js":u1,"./command_list/addVideo.js":g1,"./command_list/addVideoAssetItem.js":v1,"./command_list/clipboard.copy.js":b1,"./command_list/clipboard.paste.js":x1,"./command_list/convert.flatten.path.js":S1,"./command_list/convert.no.transform.path.js":P1,"./command_list/convert.normalize.path.js":k1,"./command_list/convert.path.operation.js":M1,"./command_list/convert.polygonal.path.js":E1,"./command_list/convert.simplify.path.js":V1,"./command_list/convert.smooth.path.js":z1,"./command_list/convert.stroke.to.path.js":A1,"./command_list/convertPasteText.js":D1,"./command_list/convertPath.js":B1,"./command_list/copy.path.js":G1,"./command_list/copyTimelineProperty.js":U1,"./command_list/deleteTimelineKeyframe.js":Y1,"./command_list/doubleclick.item.js":K1,"./command_list/downloadJSON.js":q1,"./command_list/downloadPNG.js":J1,"./command_list/downloadSVG.js":t0,"./command_list/drop.asset.js":i0,"./command_list/dropImageUrl.js":a0,"./command_list/editor.config.body.event.js":o0,"./command_list/fileDropItems.js":c0,"./command_list/firstTimelineItem.js":u0,"./command_list/group.item.js":g0,"./command_list/history.addLayer.js":m0,"./command_list/history.bring.forward.js":y0,"./command_list/history.bring.front.js":$0,"./command_list/history.group.item.js":_0,"./command_list/history.moveLayer.js":w0,"./command_list/history.moveLayerToTarget.js":C0,"./command_list/history.redo.js":T0,"./command_list/history.refreshSelection.js":I0,"./command_list/history.refreshSelectionProject.js":L0,"./command_list/history.removeLayer.js":R0,"./command_list/history.removeProject.js":j0,"./command_list/history.send.back.js":O0,"./command_list/history.send.backward.js":F0,"./command_list/history.setAttributeForMulti.js":N0,"./command_list/history.undo.js":H0,"./command_list/item.move.depth.down.js":X0,"./command_list/item.move.depth.first.js":W0,"./command_list/item.move.depth.last.js":Z0,"./command_list/item.move.depth.up.js":Q0,"./command_list/keymap.keydown.js":ey,"./command_list/keymap.keyup.js":ry,"./command_list/lastTimelineItem.js":sy,"./command_list/load.json.js":ny,"./command_list/moveLayer.js":ly,"./command_list/moveLayerForItems.js":hy,"./command_list/moveSelectionToCenter.js":uy,"./command_list/moveToCenter.js":gy,"./command_list/newComponent.js":my,"./command_list/nextTimelineItem.js":yy,"./command_list/open.editor.js":xy,"./command_list/pauseTimelineItem.js":Sy,"./command_list/playTimelineItem.js":Py,"./command_list/pop.mode.view.js":ky,"./command_list/prevTimelineItem.js":My,"./command_list/push.mode.view.js":Ey,"./command_list/recoverBooleanPath.js":Vy,"./command_list/recoverCursor.js":zy,"./command_list/refreshArtboard.js":Ay,"./command_list/refreshCursor.js":Dy,"./command_list/refreshElement.js":By,"./command_list/refreshHistory.js":Gy,"./command_list/refreshProject.js":Uy,"./command_list/refreshSelectedOffset.js":Yy,"./command_list/removeAnimationItem.js":Ky,"./command_list/removeLayer.js":qy,"./command_list/removeTimeline.js":Jy,"./command_list/removeTimelineProperty.js":tb,"./command_list/resetSelection.js":ib,"./command_list/resizeArtBoard.js":ab,"./command_list/rotateLayer.js":cb,"./command_list/same.height.js":db,"./command_list/same.width.js":pb,"./command_list/saveJSON.js":fb,"./command_list/savePNG.js":vb,"./command_list/segment.delete.js":bb,"./command_list/segment.move.down.js":xb,"./command_list/segment.move.left.js":Sb,"./command_list/segment.move.right.js":Pb,"./command_list/segment.move.up.js":kb,"./command_list/select.all.js":Mb,"./command_list/selectTimelineItem.js":Eb,"./command_list/setAttributeForMulti.js":Vb,"./command_list/setLocale.js":zb,"./command_list/setTimelineOffset.js":Ab,"./command_list/showExportView.js":Db,"./command_list/sort.bottom.js":Bb,"./command_list/sort.center.js":Gb,"./command_list/sort.left.js":Ub,"./command_list/sort.middle.js":Yb,"./command_list/sort.right.js":Kb,"./command_list/sort.top.js":qb,"./command_list/switch.path.js":Jb,"./command_list/toggle.tool.hand.js":t2,"./command_list/ungroup.item.js":i2,"./command_list/updateClipPath.js":a2,"./command_list/updateImage.js":o2,"./command_list/updateImageAssetItem.js":c2,"./command_list/updatePathItem.js":d2,"./command_list/updateResource.js":p2,"./command_list/updateScale.js":f2,"./command_list/updateUriList.js":v2,"./command_list/updateVideo.js":b2,"./command_list/updateVideoAssetItem.js":x2,"./command_list/zoom.default.js":S2,"./command_list/zoom.in.js":P2,"./command_list/zoom.out.js":k2,"./command_list/model/update.js":M2},Ea={};Object.entries(I2).forEach(([a,t])=>{a=a.replace("./command_list/","").replace(".js",""),Ea[a]=t.default});class E2{constructor(t){return this.$editor=t,this.promiseProxy=this.localCommands={},this.loadCommands(),new Proxy(this,{get:(r,i)=>{var s=r[i];return ye(s)?(...n)=>s.apply(r,n):this.makePromiseEvent(i)}})}loadCommands(){Object.keys(Ea).forEach(t=>{ye(Ea[t])?this.registerCommand(t,Ea[t]):this.registerCommand(Ea[t])})}registerCommand(t,r){if(this.localCommands[t])throw new Error(`command ${t} is already registered`);if(arguments.length===2){const i=(...s)=>{const n=r.call(this,this.$editor,...s);return this.$editor.debug("command execute",this,...s),n};return i.source=t,this.localCommands[t]=i,this.$editor.on(t,i,this,0)}else if(Wr(t)){const i=(...s)=>{const n=t.execute.call(t,this.$editor,...s);return this.$editor.debug("command execute",t,...s),n};return i.source=t.command,this.localCommands[t.command]=i,this.$editor.on(t.command,i,t,t.debounce||0)}}getCallback(t){return this.localCommands[t]}makePromiseEvent(t){const r=this.getCallback(t);if(r)return(...i)=>new Promise(s=>{s(r(...i))})}}let Os={name:void 0};function ul(){return Os.name===void 0&&(navigator.appVersion.indexOf("Win")!=-1?Os.name="win":navigator.appVersion.indexOf("Mac")!=-1?Os.name="mac":navigator.appVersion.indexOf("X11")!=-1?Os.name="linux":Os.name=""),Os.name}const Ds={backspace:8,tab:9,enter:13,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,"0":48,"1":49,"2":50,"3":51,"4":52,"5":53,"6":54,"7":55,"8":56,"9":57,semicolon:59,equals:61,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,multiply:106,add:107,subtract:109,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,comma:188,",":188,period:190,".":190,slash:191,"/":191,backquote:192,"`":192,openbracket:219,"[":219,backslash:220,"\\":220,closebracket:221,"]":221,quote:222,"'":222,altgr:225},L2={ARROWRIGHT:"\u2192",ARROWLEFT:"\u2190",ARROWUP:"\u2191",ARROWDOWN:"\u2192",BACKSPACE:"\u232B",CMD:"\u2318",SHIFT:"\u21E7",CTRL:"\u2303",ALT:"\u2325",ENTER:"\u21B5",ESC:"\u238B",TAB:"\u21E5",SPACE:"\u2423",CAPSLOCK:"\u21EA",DELETE:"\u2326",INSERT:"\u2324",HOME:"\u21F1",END:"\u21F2",PAGEUP:"\u21DE",PAGEDOWN:"\u21DF",PRINTSCREEN:"\u2399",SCROLLLOCK:"\u21DE",PAUSE:"\u23CF",NUMLOCK:"\u21EA",META:"\u2318",WINDOWS:"\u2318",CONTEXTMENU:"\u2325",COMMAND:"\u2318"},V2=ul(),gt=(a,t=V2)=>(a[t]||a.key).split("+").map(r=>r.trim()).map(r=>{const i=r.toUpperCase();return L2[i]||i}).join(" ");var R2={category:"Tool",key:"a",command:"addLayerView",args:["artboard"],description:"Add ArtBoard",when:"CanvasView"},z2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R2}),j2={category:"Tool",key:"b",command:"addLayerView",args:["brush"],description:"Draw SVG Path",when:"CanvasView"},A2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j2}),O2={category:"Tool",key:"o",command:"addLayerView",args:["circle"],description:"Add circle layer",when:"CanvasView"},D2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:O2}),F2={category:"Tool",key:"l",command:"addLayerView",args:["circle"],description:"Add circle layer",when:"CanvasView"},B2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:F2}),N2={category:"Tool",key:"p",command:"addLayerView",args:["path"],description:"Add SVG Path layer",when:"CanvasView"},G2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:N2}),H2={category:"Tool",key:"r",command:"addLayerView",args:["rect"],description:"Add rect layer",when:"CanvasView"},U2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:H2}),X2={category:"Tool",key:"m",command:"addLayerView",args:["rect"],description:"Add rect layer",when:"CanvasView"},Y2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X2}),W2={category:"Tool",key:"t",command:"addLayerView",args:["text"],description:"Add text layer",when:"CanvasView"},K2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W2}),Z2={category:"Edit",key:"cmd+c",command:"clipboard.copy",description:"Copy objects",when:"CanvasView"},q2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z2}),Q2={category:"Edit",key:"cmd+v",win:"ctrl+v",command:"clipboard.paste",description:"Paste selected objects",when:"CanvasView"},J2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q2}),e$={category:"Group",key:"cmd+g",win:"ctrl+g",command:"group.item",description:"Grouping selected items",when:"CanvasView"},t$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:e$}),r$={category:"History",key:"cmd+shift+z",win:"ctrl+shift+z",command:"history.redo",description:"redoing in history",when:"CanvasView"},i$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:r$}),s$={category:"History",key:"cmd+z",win:"ctrl+z",command:"history.undo",description:"undoing in history",when:"CanvasView"},a$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:s$}),n$={category:"Layer",key:"Alt+ArrowDown",command:"moveLayer",description:"move 5px to down",args:[0,5],when:"CanvasView"},o$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:n$}),l$={category:"Layer",key:"Alt+ArrowLeft",command:"moveLayer",description:"move 5px to left",args:[-5,0],when:"CanvasView"},c$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:l$}),h$={category:"Layer",key:"Alt+ArrowRight",command:"moveLayer",description:"move 5px to right",args:[5,0],when:"CanvasView"},d$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:h$}),u$={category:"Layer",key:"Alt+ArrowUp",command:"moveLayer",description:"move 5px to up",args:[0,-5],when:"CanvasView"},p$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:u$}),g$={category:"Layer",key:"ctrl+[",command:"history.send.backward",description:"move layer to below",args:["send backward"],when:"CanvasView"},f$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:g$}),m$={category:"Layer",key:"ctrl+]",command:"history.bring.forward",description:"move layer to above",args:["bring forward"],when:"CanvasView"},v$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:m$}),y$={category:"Layer",key:"ArrowDown",command:"moveLayer",description:"move 1px to down",args:[0,1],when:"CanvasView"},b$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:y$}),$$={category:"Layer",key:"ArrowLeft",command:"moveLayer",description:"move 1px to left",args:[-1,0],when:"CanvasView"},x$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$$}),_$={category:"Layer",key:"ArrowRight",command:"moveLayer",description:"move 1px to right",args:[1,0],when:"CanvasView"},S$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_$}),w$={category:"Layer",key:"ArrowUp",command:"moveLayer",description:"move 1px to up",args:[0,-1],when:"CanvasView"},P$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:w$}),C$={category:"Layer",key:"Shift+ArrowDown",command:"moveLayer",description:"move 10px to down",args:[0,10],when:"CanvasView"},k$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:C$}),T$={category:"Layer",key:"Shift+ArrowLeft",command:"moveLayer",description:"move 10px to left",args:[-10,0],when:"CanvasView"},M$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:T$}),I$={category:"Layer",key:"Shift+ArrowRight",command:"moveLayer",description:"move 10px to right",args:[10,0],when:"CanvasView"},E$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:I$}),L$={category:"Layer",key:"Shift+ArrowUp",command:"moveLayer",description:"move 10px to up",args:[0,-10],when:"CanvasView"},V$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L$}),R$={category:"Layer",key:"Meta+ArrowLeft",command:"rotateLayer",description:"rotate to left",args:[-5],when:"CanvasView"},z$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R$}),j$={category:"Layer",key:"Meta+ArrowRight",command:"rotateLayer",description:"rotate to right",args:[5],when:"CanvasView"},A$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j$}),O$={category:"Layer",key:"Backspace",command:"history.removeLayer",description:"Delete selected items",args:["Delete selected items"],when:"CanvasView"},D$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:O$}),F$={category:"Layer",key:"Delete",command:"history.removeLayer",description:"Delete selected items",args:["Delete selected items"],when:"CanvasView"},B$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:F$}),N$={category:"Path",key:"Backspace",command:"segment.delete",description:"Delete selected segment",when:"PathEditorView"},G$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:N$}),H$={category:"Path",key:"Alt+ArrowDown",command:"segment.move.down",description:"move 5px to down",args:[{dy:5}],when:"PathEditorView"},U$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:H$}),X$={category:"Path",key:"Alt+ArrowLeft",command:"segment.move.left",description:"move 5px to left",args:[{dx:5}],when:"PathEditorView"},Y$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X$}),W$={category:"Path",key:"Alt+ArrowRight",command:"segment.move.right",description:"move 5px to right",args:[{dx:5}],when:"PathEditorView"},K$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W$}),Z$={category:"Path",key:"Alt+ArrowUp",command:"segment.move.up",description:"move 5px to up ",args:[{dy:5}],when:"PathEditorView"},q$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z$}),Q$={category:"Path",key:"ArrowDown",command:"segment.move.down",description:"move 1px to down",args:[{dy:1}],when:"PathEditorView"},J$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q$}),ex={category:"Path",key:"ArrowLeft",command:"segment.move.left",description:"move 1px to left",args:[{dx:1}],when:"PathEditorView"},tx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ex}),rx={category:"Path",key:"ArrowRight",command:"segment.move.right",description:"move 1px to right",args:[{dx:1}],when:"PathEditorView"},ix=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rx}),sx={category:"Path",key:"ArrowUp",command:"segment.move.up",description:"move 1px to up",args:[{dy:1}],when:"PathEditorView"},ax=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sx}),nx={category:"Path",key:"Shift+ArrowDown",command:"segment.move.down",description:"move 10px to down",args:[{dy:10}],when:"PathEditorView"},ox=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nx}),lx={category:"Path",key:"Shift+ArrowLeft",command:"segment.move.left",description:"move 10px to left",args:[{dx:10}],when:"PathEditorView"},cx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lx}),hx={category:"Path",key:"Shift+ArrowRight",command:"segment.move.right",description:"move 10px to right",args:[{dx:10}],when:"PathEditorView"},dx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hx}),ux={category:"Path",key:"Shift+ArrowUp",command:"segment.move.up",description:"move 10px to up",args:[{dy:10}],when:"PathEditorView"},px=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ux}),gx={category:"Tool",key:"CMD+A",win:"CTRL+A",command:"select.all",description:"Selection all layers"},fx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gx}),mx={category:"Tool",key:"v",command:"addLayerView",args:"select",description:"Selection"},vx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mx}),yx={category:"Tools",key:"h",command:"toggleToolHand",description:"set hand tool on",when:"CanvasView"},bx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yx}),$x={category:"Tool",key:"space",command:"showPan",description:"Show panning area",when:"CanvasView"},xx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$x}),_x={category:"Group",key:"shift+cmd+g",win:"shift+ctrl+g",command:"ungroup.item",description:"Ungrouping selected group layer",when:"CanvasView"},Sx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_x}),wx={category:"View",key:"0",command:"zoom.default",description:"zoom by scale 1",when:"CanvasView"},Px=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wx}),Cx={category:"View",key:"Equal",command:"zoom.in",description:"zoom in",when:"CanvasView"},kx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Cx}),Tx={category:"View",key:"minus",command:"zoom.out",description:"zoom Out",when:"CanvasView"},Mx=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Tx}),pl=Object.values({"./shortcuts_list/add.artboard.js":z2,"./shortcuts_list/add.brush.js":A2,"./shortcuts_list/add.circle.js":D2,"./shortcuts_list/add.circle.l.js":B2,"./shortcuts_list/add.path.js":G2,"./shortcuts_list/add.rect.js":U2,"./shortcuts_list/add.rect.m.js":Y2,"./shortcuts_list/add.text.js":K2,"./shortcuts_list/clipboard.copy.js":q2,"./shortcuts_list/clipboard.paste.js":J2,"./shortcuts_list/group.item.js":t$,"./shortcuts_list/history.redo.js":i$,"./shortcuts_list/history.undo.js":a$,"./shortcuts_list/item.move.alt.down.js":o$,"./shortcuts_list/item.move.alt.left.js":c$,"./shortcuts_list/item.move.alt.right.js":d$,"./shortcuts_list/item.move.alt.up.js":p$,"./shortcuts_list/item.move.depth.down.js":f$,"./shortcuts_list/item.move.depth.up.js":v$,"./shortcuts_list/item.move.key.down.js":b$,"./shortcuts_list/item.move.key.left.js":x$,"./shortcuts_list/item.move.key.right.js":S$,"./shortcuts_list/item.move.key.up.js":P$,"./shortcuts_list/item.move.shift.down.js":k$,"./shortcuts_list/item.move.shift.left.js":M$,"./shortcuts_list/item.move.shift.right.js":E$,"./shortcuts_list/item.move.shift.up.js":V$,"./shortcuts_list/item.rotate.meta.left.js":z$,"./shortcuts_list/item.rotate.meta.right.js":A$,"./shortcuts_list/removeLayer.js":D$,"./shortcuts_list/removeLayerByDeleteKey.js":B$,"./shortcuts_list/segment.delete.js":G$,"./shortcuts_list/segment.move.alt.down.js":U$,"./shortcuts_list/segment.move.alt.left.js":Y$,"./shortcuts_list/segment.move.alt.right.js":K$,"./shortcuts_list/segment.move.alt.up.js":q$,"./shortcuts_list/segment.move.key.down.js":J$,"./shortcuts_list/segment.move.key.left.js":tx,"./shortcuts_list/segment.move.key.right.js":ix,"./shortcuts_list/segment.move.key.up.js":ax,"./shortcuts_list/segment.move.shift.down.js":ox,"./shortcuts_list/segment.move.shift.left.js":cx,"./shortcuts_list/segment.move.shift.right.js":dx,"./shortcuts_list/segment.move.shift.up.js":px,"./shortcuts_list/select.all.js":fx,"./shortcuts_list/select.view.js":vx,"./shortcuts_list/set.tool.hand.js":bx,"./shortcuts_list/show.pan.js":xx,"./shortcuts_list/ungroup.item.js":Sx,"./shortcuts_list/zoom.default.js":Px,"./shortcuts_list/zoom.in.js":kx,"./shortcuts_list/zoom.out.js":Mx}).map(a=>a.default);function Bn(...a){return a.filter(Boolean).join("+")}function rd(a){return Ds[`${a}`.toLowerCase()]||a}class Ix{constructor(t){this.$editor=t,this.loadShortCuts()}getGeneratedKeyCode(t){return rd(t)}loadShortCuts(){this.list=[],this.commands={},pl.forEach(t=>{this.registerShortCut(t)}),this.sort()}registerShortCut(t){const r=ul();this.list.push(le(v({key:"",command:"",args:[],eventType:"keydown"},t),{checkKeyString:this.splitShortCut(t[r]||t.key),whenFunction:this.makeWhenFunction(t.command,t.when||!0)})),this.sort()}makeWhenFunction(t,r){if(Yr(r)&&r)return()=>!0;const i=this.$editor,s=r.split("|").map(n=>n.trim());return()=>s.some(n=>i.modeViewManager.isCurrentMode(n))}sort(){this.commands={},this.list.forEach(t=>{Array.isArray(this.commands[t.checkKeyString])===!1&&(this.commands[t.checkKeyString]=[]),this.commands[t.checkKeyString].push(t)})}splitShortCut(t){var r=t.toUpperCase().split("+").map(c=>c.trim()).filter(Boolean);let i=!1,s=!1,n=!1,o=!1,l=[];return r.forEach(c=>{c.includes("ALT")?i=!0:c.includes("CTRL")?s=!0:c.includes("SHIFT")?n=!0:c.includes("CMD")||c.includes("WIN")||c.includes("META")?o=!0:l.push(c)}),Bn(i?"ALT":"",s?"CTRL":"",n?"SHIFT":"",o?"META":"",rd(l.join("")))}makeKeyString(t){return Bn(t.altKey?"ALT":"",t.ctrlKey?"CTRL":"",t.shiftKey?"SHIFT":"",t.metaKey?"META":"",t.key.toUpperCase())}makeCodeString(t){return Bn(t.altKey?"ALT":"",t.ctrlKey?"CTRL":"",t.shiftKey?"SHIFT":"",t.metaKey?"META":"",t.code.toUpperCase())}makeKeyCodeString(t){return Bn(t.altKey?"ALT":"",t.ctrlKey?"CTRL":"",t.shiftKey?"SHIFT":"",t.metaKey?"META":"",t.keyCode)}checkShortCut(t,r,i){return this.commands[t]||this.commands[r]||this.commands[i]}checkWhen(t){return t.whenFunction()}execute(t,r="keydown"){let i=this.checkShortCut(this.makeKeyCodeString(t),this.makeKeyString(t),this.makeCodeString(t));if(i){const s=i.filter(n=>n.eventType===r).filter(n=>this.checkWhen(n));s.length&&(t.preventDefault(),s.forEach(n=>{this.$editor.emit(n.command,...n.args)}))}}}class La extends ir{static parse(t){return new La(t)}getDefaultObject(){return super.getDefaultObject({itemType:"offset",offset:g.percent(0),color:"rgba(255, 255, 255, 1)",properties:[]})}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("offset","color","properties"))}convert(t){return t=super.convert(t),t.offset=g.parse(t.offset),t}toCSSText(){return`${this.json.offset} ${Ge(this.toCSS())}`}createProperty(t={}){return this.addProperty(v({checked:!0,value:0},t))}addProperty(t){this.json.properties.push(t)}removeProperty(t){this.json.properties.splice(t,1)}sortItem(t,r,i){t.splice(i+(r<i?-1:0),0,...t.splice(r,1))}sortProperty(t,r){this.sortItem(this.json.properties,t,r)}updateProperty(t,r={}){Object.assign(this.json.properties[+t],v({},r))}updatePropertyByKey(t,r={}){for(var i=this.json.properties,s=-1,n=0,o=i.length;n<o;n++)if(this.json.properties[n].key===t){s=n;break}Object.assign(this.json.properties[+s],v({},r))}toCSS(){var t={};return this.json.properties.forEach(r=>{t=v(v({},t),r.toCSS())}),t}toString(){return this.toCSSText()}}class Fs extends ir{static parse(t){return new Fs(t)}static parseStyle(t){var r=[],i={};if(t.keyframe){var s=Ii(t.keyframe);s.str.split("|").map(n=>n.trim()).forEach((n,o)=>{var[l,c,h,...d]=n.split(" "),p=d.join(" ");i[l]||(i[l]=new Fs({name:l}),r[o]=l);var u=i[l].offsets.filter($=>$.offset.equals(g.parse(c))),m=null;u.length?m=u[0]:(m=new La({offset:g.parse(c)}),i[l].offsets.push(m)),m.addProperty({key:h,value:Vs(p,s.matches)})})}return r.map(n=>(i[n].offsets.forEach(o=>{var l=[],c=[];o.properties.forEach(d=>{d.key.includes("--")?l.push(d):c.push(d)});let h=l.map(d=>`${d.key}:${d.value}`).join(";");l.length&&c.push({key:"var",value:h}),o.properties=c}),i[n]))}getDefaultObject(){return super.getDefaultObject({itemType:"keyframe",name:"sample",selectedType:"list",offsets:[]})}toCloneObject(){var{name:t,selectedType:r,offsets:i}=this.json;return le(v(v({},super.toCloneObject()),this.attrs("name","selectedType")),{offsets:i.map(s=>s.clone())})}isMultiStyle(t){switch(t){case"background-image":case"var":return!0}return!1}getMultiStyleString(t){switch(t.key){case"background-image":return t.value.toString()+";";case"var":var r=(t.value+"").split(";").map(i=>"--"+i).join(";");return r+";"}return t.value.toString()+";"}toOffsetString(t){var r="      ";return`${t.offset.toString()} {
${r}${t.properties.map(i=>{if(this.isMultiStyle(i.key))return this.getMultiStyleString(i);var s=(i.value||"").toString();if(s){var n=i.key;return n==="x"?n="left":n==="y"&&(n="top"),`${n}: ${s};`}else return""}).join("").replace(/\;/g,`;
`+r).trim()}
  }`}toOffsetText(){var t=this.json.offsets.map(r=>r);return t.sort((r,i)=>r.offset.value>i.offset.value?1:-1),t.map(r=>r.properties.length===0?"":this.toOffsetString(r)).join(`
`)}toCSSText(){var t=this.json.offsets.map(r=>r);return t.sort((r,i)=>r.offset.value>i.offset.value?1:-1),`
@keyframes ${this.json.name} {

  ${this.toOffsetText()}

}
`}createOffset(t={}){return this.addOffset(new La(v({checked:!0},t)))}addOffset(t){this.json.offsets.push(t)}removeOffset(t){this.json.offsets.splice(t,1)}sortItem(t,r,i){t.splice(i+(r<i?-1:0),0,...t.splice(r,1))}sortOffset(t,r){this.sortItem(this.json.offsets,t,r)}updateOffset(t,r={}){this.json.offsets[+t].reset(r)}toCSS(){return{}}toString(){return this.toCSSText()}}class Ex{constructor(t){this.editor=t,this.components={},this.inspectors={}}registerComponent(t,r){if(this.components[t])throw new Error("It has duplicated item name. "+t);this.components[t]=r}registerInspector(t,r){if(this.inspectors[t])throw new Error("It has duplicated item name. "+t);this.inspectors[t]=r}getComponentClass(t){return this.components[t]||this.components.rect}getInspector(t){return this.inspectors[t]}createComponent(t,r={}){var i=this.getComponentClass(t);if(!i)throw new Error(`${t} type is not valid.`);return new i(r)}createInspector(t,r=""){const i=this.getInspector(r||t.itemType);return ye(i)?i(t)||[]:ye(t.getProps)?t.getProps()||[]:[]}}const Lx=()=>!0;class Vx{constructor(t){this.editor=t,this.version="0.0.0",this.name="",this.description="",this.items=new Map,this.projects=[]}load(t=void 0,r={origin:"*"}){var s;const i=t||this.editor.loadItem("model");this.items.clear(),this.version=i==null?void 0:i.version,this.name=i==null?void 0:i.name,this.description=i==null?void 0:i.description,(s=i==null?void 0:i.projects)==null||s.forEach(n=>{this.createModel(n)}),this.projects.length===0&&this.createProject()}createProject(){this.createModel({itemType:"project",name:"New Project"})}getProjectByIndex(t=0){return this.get(this.projects[t])}get(t){return this.items.get(t)}set(t,r){this.items.set(t,r),this.setChanged("set",t,r)}remove(t){const r=this.items.get(t),i=r.parent.children,s=i.indexOf(t);r.reset({removed:!0,removedIndex:s,removedLeftSibling:s>0?i[s-1]:null,removedRightSibling:s<i.length-1?i[s+1]:null}),this.setChanged("remove",t)}recover(t){const r=this.items.get(t),i=this.getParent(t);!r.removedLeftSibling&&r.removedRightSibling?i.children.splice(i.children.findIndex(s=>r.removedRightSibling)-1,0,t):r.removedLeftSibling&&!r.removedRightSibling?i.children.splice(i.children.findIndex(s=>r.removedLeftSibling)+1,0,t):i.children.splice(r.removedIndex,0,t),delete r.removed,delete r.removedLeftSibling,delete r.removedRightSibling,delete r.removedIndex,this.setChanged("recover",t)}clear(){this.items.clear()}toJSON(){return{version:this.version,name:this.name,description:this.description,projects:this.projects.map(t=>this.get(t).toJSON())}}setChanged(t,r,i){this.editor.emit("changed",t,r,i)}removeChild(t,r){const i=this.get(t);i.reset({children:i.children.filter(s=>s!==r)}),this.setChanged("removeChild",t,{childId:r})}hasParent(t,r){const i=this.get(t),s=i.parentId===r;return!s&&i.parent.is("project")===!1?this.hasParent(i.parentId,r):s}get components(){return this.editor.components}searchItem(t){return this.get(t)}searchLayers(t,r){const i=this.get(t);return this.get(i.children.find(s=>s===r))}searchItemsById(t){return t.map(r=>this.get(r))}hasPathOf(t,r){const i=this.getPath(r.id,r);return t.filter(s=>s.id!==r.id).some(s=>i.find(n=>n.id===s.id))}findGroupItem(t){const r=this.get(t);return r.hasChildren()||r.parent&&(r.parent.is("project")||r.parent.is("artboard")||r.isBooleanItem)?r:r.parent&&this.findGroupItem(r.parentId)}convertGroupItems(t){const r={};return t.forEach(i=>{const s=this.findGroupItem(i.id)||i;r[s.id]=s}),Object.values(r).filter(i=>i.isNot("project"))}searchLiveItemsById(t){return t.map(r=>this.get(r)).filter(r=>!r.removed)}markRemove(t=[]){t.forEach(r=>{this.remove(r)}),this.setChanged("markRemove",t,{isLayer:!0})}markRemoveProject(t){const r=this.projects.findIndex(i=>i===t);return this.projects.splice(r,1),this.get(t).removed=!0,this.setChanged("markRemoveProject",[t],{isProject:!0}),r}unmarkRemove(t=[]){t.forEach(r=>{this.recover(r)}),this.setChanged("unmarkRemove",t,{isLayer:!0})}unmarkRemoveProject(t,r){this.projects.splice(r,0,t),this.get(t).removed=!1,this.setChanged("unmarkRemoveProject",[t],{removed:!0,isProject:!0})}createModel(t,r=!0,i={origin:"*"}){const s=t.layers;delete t.layers;let n;this.get(t.id)?(n=this.get(t.id),n.reset(t)):(n=this.components.createComponent(t.itemType,v({},t)),n.setModelManager(this)),r&&(this.set(n.id,n),n.is("project")&&(this.projects=[...new Set([...this.projects,n.id])]));const o=(s||[]).map(l=>this.createModel(le(v({},l),{parentId:n.id}),!0,i));return n.reset({children:o.map(l=>l.id)},i),n}getAllLayers(t,r=Lx){var i=[];const s=this.get(t);let n=s.children.length;for(let o=n;o--;){let l=s.children[o];i.push(...this.getAllLayers(l,r))}return ye(r)&&r(s)&&i.push(s),i}getLayers(t,r=null){var s;const i=this.get(t)||r;return(s=i==null?void 0:i.children)==null?void 0:s.map(n=>this.get(n))}eachLayers(t,r){const i=this.get(t);let s=i.children.length;for(let n=s;n--;){let o=i.children[n];r(this.get(o))}}mapLayers(t,r){return this.get(t).children.map(s=>r(this.get(s)))}getParent(t){var r;return this.get((r=this.get(t))==null?void 0:r.parentId)}getDepth(t){const r=this.getParent(t);return r?this.getDepth(r.id)+1:1}getRoot(t){const r=this.get(t),i=this.getParent(t);if(!i)return r;let s=i;do{const n=this.getParent(s.id);if(!n)return s;s=n}while(s)}getPath(t,r=null){const i=this.get(t)||r,s=this.getParent(t);if(!s)return[i];const n=this.getPath(s.id);return n.push(i),n}getModelTypeInPath(t,r){return this.getPath(t).find(i=>i&&i.is(r))}getItemInPath(t,r){return this.getPath(t).find(i=>i&&i.id===r)}getProject(t){return this.getModelTypeInPath(t,"project")}getArtBoard(t){return this.getModelTypeInPath(t,"artboard")}is(t,r){const i=this.get(t);return r===i.itemType}isNot(t,r){return this.is(t,r)===!1}attrs(t,...r){const i=this.get(t),s={};return r.forEach(n=>{s[n]=ve(i[n])}),s}hasChildren(t){var r;return((r=this.get(t))==null?void 0:r.children.length)>0}clone(t,r=!0){const i=this.get(t),s=i.toCloneObject(r),n=this.createModel(s);return n.setParentId(i.parentId),n}reset(t,r){var i;return(i=this.get(t))==null?void 0:i.reset(r)}appendChild(t,r){this.get(t),this.get(r),this.json.children.push(layer.id),layer.offsetInParent=this.json.children[last-1].offset+.1}replaceByType(t,r){const i=this.get(t);if(i){const s=i.toCloneObject(!1);delete s.itemType;const n=this.components.createComponent(r,s);n.setModelManager(this),this.set(t,n)}}}class id{constructor(t={},r){this.modelManager=r;const i=this;return this.ref=new Proxy(i,{get(s,n){if(i.hasCache(n))return i.getCache(n);const o=i[n];return ye(o)?(i.hasCache(n)||i.addCache(n,(...l)=>o.apply(i,l)),i.getCache(n)):Re(o)?o:i.json[n]},set(s,n,o){return i.json[n]!=o&&i.reset({[n]:o}),!0},deleteProperty(s,n){i.reset({[n]:void 0})}}),this.json=this.convert(Object.assign(this.getDefaultObject(),t)),this.lastChangedField={},this.lastChangedFieldKeys=[],this.cachedValue={},this.timestamp=0,this.ref}setModelManager(t){this.modelManager=t}getDefaultTitle(){return"Item"}getIcon(){return""}isChanged(t){return this.timestamp!=Number(t)}changed(){this.timestamp+=Date.now()}get title(){return this.json.name||this.getDefaultTitle()}renameWithCount(){let t=this.json.name.split(" ");if(t.length<2)return;let r=t.pop(),i=+r;ft(i)&&isNaN(i)===!1?i++:i=r;const s=[...t,i].join(" ");this.reset({name:s})}get allLayers(){return this.modelManager.getAllLayers(this.id)}filteredAllLayers(t){return this.modelManager.getAllLayers(this.id,t)}get id(){return this.json.id}get layers(){return this.modelManager.getLayers(this.id,this.ref)}get parentId(){const t=this.json.parentId;if(t!==this.id)return t}get parent(){if(!!this.parentId)return this.modelManager.get(this.parentId)}setParentId(t){this.reset({parentId:t}),this.modelManager.setChanged("setParentId",this.id,{parentId:t})}get depth(){return this.modelManager.getDepth(this.id)}get top(){return this.modelManager.getRoot(this.id)}get project(){return this.modelManager.getProject(this.id)}get artboard(){return this.modelManager.getArtBoard(this.id)}get path(){return this.modelManager.getPath(this.id,this.ref)}get pathIds(){return this.path.map(t=>t.id)}get childrenLength(){return this.json.children.length}get index(){return this.parent.findIndex(this)}get isFirst(){return this.index===0}get isLast(){return this.index===this.parent.childrenLength-1}get first(){return this.parent.layers[0]}get last(){return this.parent.layers[this.parent.childrenLength-1]}get prev(){const t=this.index;return this.isFirst()?this.ref:this.parent.layers[t-1]}get next(){const t=this.index();return this.isLast()?this.ref:this.parent.layers[t+1]}get hierarchy(){return this.getInformationForHierarchy("x","y","angle")}getInformationForHierarchy(...t){const r=this.index;return{id:this.id,index:r,parentId:this.parentId,prev:r===0?void 0:this.parent.children[r-1],next:r===this.parent.childrenLength-1?void 0:this.parent.children[r+1],attrs:this.attrs(...t)}}getInnerId(t=""){return this.json.id+t}is(t){return this.json.itemType===t}isNot(t){return this.is(t)===!1}get(t){return this.json[t]}isSVG(){return!1}addCache(t,r){this.cachedValue[t]=r}getCache(t){return this.cachedValue[t]}hasCache(t){return Boolean(this.cachedValue[t])}computed(t,r,i=!1){const s=`__cachedKey_${t}`,n=`${s}__parseValue`,o=this.json[t];if(!i){if(this.getCache(s)===o&&this.getCache(n))return this.getCache(n)}return this.addCache(s,o),this.addCache(n,r(o,this.ref)),this.getCache(n)}computedValue(t){const i=`${`__cachedKey_${t}`}__parseValue`;return this.getCache(i)}editable(t){return!0}generateListNumber(){this.layers.forEach((t,r)=>{t.no=r,t.generateListNumber()})}convert(t={}){return t}setCache(){}toCloneObject(t=!0){var r=this.attrs("itemType","name","elementType","type","selected","parentId","children");return t&&(r.layers=this.json.children.map(i=>this.modelManager.clone(i,t))),r}clone(t=!0){return this.modelManager.clone(this.id,t)}isChangedValue(t){return Object.keys(t).some(r=>t[r]!==this.json[r])}reset(t,r={origin:"*"}){return this.isChangedValue(t)&&(this.json=this.convert(Object.assign(this.json,t)),this.lastChangedField=t,this.lastChangedFieldKeys=Object.keys(t),r.origin==="*"&&this.modelManager.setChanged("reset",this.id,t),this.changed()),!0}hasChangedField(...t){return t.some(r=>this.lastChangedField[r]!==void 0)}getDefaultObject(t={}){var r=t.id||as();return v({id:r,children:[],offsetInParent:1,parentId:""},t)}attrs(...t){const r={};return t.forEach(i=>{Re(this.get(i))&&(r[i]=ve(this.get(i)))}),r}attrsWithId(...t){return{[this.id]:this.attrs(...t)}}hasChildren(){return this.json.children.length>0}appendChild(t){if(t.parentId===this.id){const r=this.json.children.find(i=>i===t.id);return Boolean(r)===!1&&(this.json.children.push(t.id),this.modelManager.setChanged("appendChild",this.id,{child:t.id,oldParentId:t.parentId})),t}return this.resetMatrix(t),t.parent&&t.remove(),t.setParentId(this.id),this.json.children.push(t.id),t}resetMatrix(t){}refreshMatrixCache(){}insertChild(t,r=0){this.resetMatrix(t),t.parent&&t.remove(),t.setParentId(this.id);const i=this.json.children.map((s,n)=>({id:s,index:n}));return i.push({id:t.id,index:r-.5}),i.sort((s,n)=>s.index-n.index),this.json.children=i.map(s=>s.id),this.modelManager.setChanged("insertChild",this.id,{childId:t.id,index:0}),t}appendAfter(t){return this.parent.insertChild(t,this.index+1),t}appendBefore(t){return this.parent.insertChild(t,this.index),t}toggle(t,r){xt(r)?this.reset({[t]:!this.json[t]}):this.reset({[t]:!!r})}isTreeItemHide(){let t=this.parent,r=[];do{if(t.is("project"))break;r.push(Boolean(t.collapsed)),t=t.parent}while(t);return Boolean(r.filter(Boolean).length)}expectJSON(t){return!xt(this.json[t])}toJSON(){const t=this.json;let r={};return Object.keys(t).filter(i=>this.expectJSON(i)).forEach(i=>{r[i]=t[i]}),this.hasChildren()&&(r.layers=this.json.children.map(i=>{var s;return(s=this.modelManager.get(i))==null?void 0:s.toJSON()})),r}resize(){}copy(t=0){return this.parent.copyItem(this.id,t)}findIndex(t){return this.json.children.indexOf(t.id)}find(t){return this.modelManager.get(t)}copyItem(t,r=10){const i=this.modelManager.get(t);var s=i.clone();s.renameWithCount(),s.absoluteMove([r,r,0]);var n=this.findIndex(i);return n>-1&&this.json.children.push(s.id),s}remove(){this.parent.removeChild(this.id)}removeChild(t){return this.modelManager.removeChild(this.id,t)}hasParent(t){return this.modelManager.hasParent(this.id,t)}to(t){}sendBackward(t){const r=n,i={},s=-1;r.forEach((o,l)=>{i[o]={id:o,index:l},o===t&&(s=l)}),i[t].index=s-1.5;const n=Object.values(i).sort((o,l)=>o.index-l.index).map(o=>o.id);this.reset({children:n})}sendBack(t){const r=s,i={};r.forEach((n,o)=>{i[n]={id:n,index:o}}),i[t].index=-1;const s=Object.values(i).sort((n,o)=>n.index-o.index).map(n=>n.id);this.reset({children:s})}bringForward(t){const r=n,i={},s=-1;r.forEach((o,l)=>{i[o]={id:o,index:l},o===t&&(s=l)}),i[t].index=s+1.5;const n=Object.values(i).sort((o,l)=>o.index-l.index).map(o=>o.id);this.reset({children:n})}bringFront(t){const r=s,i={};r.forEach((n,o)=>{i[n]={id:n,index:o}}),i[t].index=Number.MAX_SAFE_INTEGER;const s=Object.values(i).sort((n,o)=>n.index-o.index).map(n=>n.id);this.reset({children:s})}}class Rx extends id{getDefaultObject(t={}){return super.getDefaultObject(v({comments:[],colors:[],gradients:[],svgfilters:[],svgimages:[],keyframes:[],images:[],imageKeys:[],videos:[],videoKeys:[],audios:[]},t))}addKeyframe(t){return this.json.keyframes.push(t),t}createKeyframe(t={}){return this.addKeyframe(new Fs(v({checked:!0},t)))}removeKeyframe(t){this.removePropertyList(this.json.keyframes,t)}sortItem(t,r,i){t.splice(i+(r<i?-1:0),0,...t.splice(r,1))}sortKeyframe(t,r){this.sortItem(this.json.keyframes,t,r)}updateKeyframe(t,r={}){this.json.keyframes[+t].reset(r)}toKeyframeString(t=!1){return this.json.keyframes.map(r=>r.toString(t)).join(`

`)}copyPropertyList(t,r){var i=v({},t[r]);t.splice(r,0,i)}toCloneObject(){return this.json,v(v({},super.toCloneObject()),this.attrs("colors","gradients","svgfilters","svgimages","images","keyframes"))}removePropertyList(t,r){t.splice(r,1)}removeColor(t){this.removePropertyList(this.json.colors,t)}copyColor(t){this.copyPropertyList(this.json.colors,t)}sortColor(t,r){this.sortItem(this.json.colors,t,r)}setColorValue(t,r={}){this.json.colors[t]=v(v({},this.json.colors[t]),r)}getColorIndex(t){return this.json.colors[t]}getColor(t){return this.json.colors.filter(r=>r.name===t)[0]}addColor(t){return this.json.colors.push(t),t}createColor(t={}){return this.addColor(t)}removeImage(t){this.removePropertyList(this.json.images,t),this.refreshImageKeys()}copyImage(t){this.copyPropertyList(this.json.images,t),this.refreshImageKeys()}sortImage(t,r){this.sortItem(this.json.images,t,r)}setImageValue(t,r={}){this.json.images[t]=v(v({},this.json.images[t]),r),this.refreshImageKeys()}getImageValueById(t,r=""){const i=this.json.imageKeys[t];return i?i.local:t||r}getImageDataURIById(t){const r=this.json.imageKeys[t];if(!!r)return r.original}refreshImageKeys(){let t={};this.json.images.forEach(r=>{t[r.id]=r}),this.reset({imageKeys:t})}addImage(t){return this.json.images.push(t),this.refreshImageKeys(),t}createImage(t={}){return this.addImage(t)}removeVideo(t){this.removePropertyList(this.json.videos,t),this.refreshVideoKeys()}copyVideo(t){this.copyPropertyList(this.json.videos,t),this.refreshVideoKeys()}sortVideo(t,r){this.sortItem(this.json.videos,t,r)}setVideoValue(t,r={}){this.json.videos[t]=v(v({},this.json.videos[t]),r)}getVideoValueById(t){const r=this.json.videoKeys[t];if(!!r)return r.local}refreshVideoKeys(){let t={};this.json.videos.forEach(r=>{t[r.id]=r}),this.reset({videoKeys:t})}addVideo(t){return this.json.videos.push(t),this.refreshVideoKeys(),t}createVideo(t={}){return this.addVideo(t)}removeGradient(t){this.removePropertyList(this.json.gradients,t)}copyGradient(t){this.copyPropertyList(this.json.gradients,t)}sortGradient(t,r){this.sortItem(this.json.gradients,t,r)}setGradientValue(t,r){this.json.gradients[t]=v(v({},this.json.gradients[t]),r)}getGradientIndex(t){return this.json.gradients[t]}getGradient(t){return this.json.gradients.filter(r=>r.name===t)[0]}addGradient(t={}){return this.json.gradients.push(t),t}createGradient(t={}){return this.addGradient(t)}getSVGFilterIndex(t){var i;var r=this.json.svgfilters.map((s,n)=>({id:s.id,index:n})).filter(s=>s.id===t);return r.length?(i=r==null?void 0:r[0])==null?void 0:i.index:-1}removeSVGFilter(t){this.removePropertyList(this.json.svgfilters,t)}copySVGFilter(t){this.copyPropertyList(this.json.svgfilters,t)}sortSVGFilter(t,r){this.sortItem(this.json.svgfilters,t,r)}setSVGFilterValue(t,r){this.json.svgfilters[t]=v(v({},this.json.svgfilters[t]),r)}addSVGFilter(t={}){this.json.svgfilters.push(t);var r=this.json.svgfilters.length-1;return r}createSVGFilter(t={}){return this.addSVGFilter(t)}getSVGImageIndex(t){var r=this.json.svgimages.map((i,s)=>({id:i.id,index:s})).filter(i=>i.id===t)[0];return r?r.index:-1}removeSVGImage(t){this.removePropertyList(this.json.svgimages,t)}copySVGImage(t){this.copyPropertyList(this.json.svgimages,t)}sortSVGImage(t,r){this.sortItem(this.json.svgimages,t,r)}setSVGImageValue(t,r){this.json.svgimages[t]=v(v({},this.json.svgimages[t]),r)}addSVGImage(t={}){this.json.svgimages.push(t);var r=this.json.svgimages.length-1;return r}createSVGImage(t={}){return this.addSVGImage(t)}}function lt(a,t,r,i,s=void 0){return(n,o)=>{var l=0;return o===0?l=r:o===1?l=i:l=r+(i-r)*n,s?l+s:l}}function Vr(a,t,r){return(i,s)=>r}function sd(a,t,r,i="width",s="parent"){var n=null;return s==="parent"?n=a[s][i]:s==="self"&&(n=a[i]),n?r.toPx(n.value):r}function zx(a,t,r,i,s="width",n="parent"){var o=null;return n==="parent"?o=a[n][s]:n==="self"&&(o=a[s]),o?r.to(i,o.value):r}function et(a,t,r,i,s="width",n="parent"){var o=g.parse(r),l=g.parse(i);return o.unit===l.unit?lt(a,t,o.value,l.value,o.unit):o.equals(l)?Vr(a,t,o):(c,h)=>{var d=sd(a,t,o,s,n),p=sd(a,t,l,s,n);return h===0?d:h===1?p:zx(a,t,d.value+(p.value-d.value)*c,o.unit,s,n)}}class gl{static parseStyle(t=""){var r={isAll:!0,"border-radius":0,"border-top-left-radius":0,"border-top-right-radius":0,"border-bottom-right-radius":0,"border-bottom-left-radius":0},i=t.split(" ").filter(s=>g.parse(s));return i.length===1?(r.isAll=!0,r["border-radius"]=i[0]):(r.isAll=!1,r["border-top-left-radius"]=i[0],r["border-top-right-radius"]=i[1],r["border-bottom-right-radius"]=i[2],r["border-bottom-left-radius"]=i[3]),r}}const ad=a=>{var t=[];return a.isAll?t=[a["border-radius"]||"0px",a["border-radius"]||"0px",a["border-radius"]||"0px",a["border-radius"]||"0px"]:t=[a["border-top-left-radius"]||"0px",a["border-top-right-radius"]||"0px",a["border-bottom-right-radius"]||"0px",a["border-bottom-left-radius"]||"0px"],t};function jx(a,t,r,i){for(var s=ad(gl.parseStyle(r)),n=ad(gl.parseStyle(i)),o=Math.max(s.length,n.length),l=[],c=0;c<o;c++)l[c]=et(a,t,s[c],n[c]);return(h,d)=>l.map(p=>p(h,d)).join(" ")}class Rr extends ir{static parse(t){return new Rr(t)}static parseStyle(t){var r=[];if(t=t.trim(),!t)return r;var i=Ii(t);return r=i.str.split(",").filter(s=>s.trim()).map(s=>{var n=s.trim().split(" "),o=n.filter(h=>h===Gr.INSET),l=n.filter(h=>h.includes("@")).map(h=>Vs(h,i.matches)),c=n.filter(h=>h!==Gr.INSET&&!h.includes("@"));return Rr.parse({inset:o.length?Gr.INSET:Gr.OUTSET,color:l[0]||"rgba(0, 0, 0, 1)",offsetX:g.parse(c[0]||"0px"),offsetY:g.parse(c[1]||"0px"),blurRadius:g.parse(c[2]||"0px"),spreadRadius:g.parse(c[3]||"0px")})}),r}static join(t){return t.map(r=>Rr.parse(r)).join(", ")}getDefaultObject(){return super.getDefaultObject({itemType:"box-shadow",inset:!1,offsetX:0,offsetY:0,blurRadius:0,spreadRadius:0,color:"rgba(0, 0, 0, 1)"})}toCloneObject(){return this.json,v(v({},super.toCloneObject()),this.attrs("inset","offsetX","offsetY","blurRadius","spreadRadius","color"))}convert(t){return t=super.convert(t),ft(t.offsetX)?t.offsetX=g.px(t.offsetX):t.offsetX&&(t.offsetX=g.parse(t.offsetX)),ft(t.offsetY)?t.offsetY=g.px(t.offsetY):t.offsetY&&(t.offsetY=g.parse(t.offsetY)),ft(t.blurRadius)?t.blurRadius=g.px(t.blurRadius):t.blurRadius&&(t.blurRadius=g.parse(t.blurRadius)),ft(t.spreadRadius)?t.spreadRadius=g.px(t.spreadRadius):t.spreadRadius&&(t.spreadRadius=g.parse(t.spreadRadius)),t}toCSS(){return{"box-shadow":this.toString()}}toString(){var t=this.json;return`${t.inset===Gr.INSET?"inset ":""}${t.offsetX} ${t.offsetY} ${t.blurRadius} ${t.spreadRadius} ${t.color}`}}function Gt(a,t,r,i){return(s,n)=>n===1?i:r}function Va(a,t,r,i){var s=Le.parse(r||"rgba(0, 0, 0, 1)"),n=Le.parse(i||"rgba(0, 0, 0, 1)");return(o,l)=>l===0?r:l===1?i:Qo(s,n,o,"rgb")}function Ax(a,t,r,i){for(var s=Rr.parseStyle(r),n=Rr.parseStyle(i),o=Math.max(s.length,n.length),l=[],c=0,h=o;c<h;c++){var d=s[c]||Rr.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0],p=n[c]||Rr.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0];l.push({inset:Gt(a,t,d.inset,p.inset),offsetX:et(a,t,d.offsetX,p.offsetX),offsetY:et(a,t,d.offsetY,p.offsetY),blurRadius:et(a,t,d.blurRadius,p.blurRadius),spreadRadius:et(a,t,d.spreadRadius,p.spreadRadius),color:Va(a,t,d.color,p.color)})}return(u,m)=>Rr.join(l.map($=>({inset:$.inset(u,m),offsetX:$.offsetX(u,m),offsetY:$.offsetY(u,m),blurRadius:$.blurRadius(u,m),spreadRadius:$.spreadRadius(u,m),color:$.color(u,m)})))}function Bs(a,t,r,i){return Gt(a,t,r,i)}function fl(a,t,r,i){var s=g.parse(r),n=g.parse(i);return(o,l)=>{var c=s.value,h=n.value;return l===0?g.deg(c):l===1?g.deg(h):g.deg(c+(h-c)*o).to(s.unit)}}class zr extends ir{static parse(t){return new zr(t)}static parseStyle(t=""){var r=Ii(t);t=t.trim();var i=r.str.split(",").filter(s=>s.trim()).map(s=>{var n=s.trim().split(" "),o=n.filter(c=>c.includes("@")).map(c=>Vs(c,r.matches)||"black"),l=n.filter(c=>!c.includes("@"));return zr.parse({color:o[0]||"rgba(0, 0, 0, 1)",offsetX:g.parse(l[0]||"0px"),offsetY:g.parse(l[1]||"0px"),blurRadius:g.parse(l[2]||"0px")})});return i}static join(t){return t.map(r=>zr.parse(r)).join(", ")}getDefaultObject(){return super.getDefaultObject({itemType:"text-shadow",offsetX:"0px",offsetY:"0px",blurRadius:"0px",color:"rgba(0, 0, 0, 1)"})}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("offsetX","offsetY","blurRadius","color"))}convert(t){return t=super.convert(t),ft(t.offsetX)?t.offsetX=g.px(t.offsetX):t.offsetX&&(t.offsetX=g.parse(t.offsetX)),ft(t.offsetY)?t.offsetY=g.px(t.offsetY):t.offsetY&&(t.offsetY=g.parse(t.offsetY)),ft(t.blurRadius)?t.blurRadius=g.px(t.blurRadius):t.blurRadius&&(t.blurRadius=g.parse(t.blurRadius)),t}toCSS(){return{"text-shadow":this.toString()}}toString(){var{offsetX:t,offsetY:r,blurRadius:i,color:s}=this.json;return ft(t)&&(t=g.px(t)),ft(r)&&(r=g.px(r)),ft(i)&&(i=g.px(i)),`${t} ${r} ${i} ${s}`}}function Ox(a,t,r,i){for(var s=zr.parseStyle(r),n=zr.parseStyle(i),o=Math.max(s.length,n.length),l=[],c=0,h=o;c<h;c++){var d=s[c]||zr.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0],p=n[c]||zr.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0];l.push({offsetX:et(a,t,d.offsetX,p.offsetX,"width","self"),offsetY:et(a,t,d.offsetY,p.offsetY,"height","self"),blurRadius:et(a,t,d.blurRadius,p.blurRadius,"radius"),color:Va(a,t,d.color,p.color)})}return(u,m)=>zr.join(l.map($=>({offsetX:$.offsetX(u,m),offsetY:$.offsetY(u,m),blurRadius:$.blurRadius(u,m),color:$.color(u,m)})))}function Dx(a,t,r,i){var s={cut:Gt(a,t,r.cut,i.cut),percent:lt(a,t,r.percent,i.percent),px:lt(a,t,r.px,i.px),em:lt(a,t,r.em,i.em),unit:Bs(a,t,r.unit,i.unit),color:Va(a,t,r.color,i.color)};return(n,o)=>new Qe({cut:s.cut(n,o),percent:s.percent(n,o),px:s.px(n,o),em:s.em(n,o),unit:s.unit(n,o),color:s.color(n,o)})}function Fx(a,t,r=[],i=[]){for(var s=Math.max(r.length,i.length),n=[],o=0;o<s;o++){var l=r[o],c=i[o];l&&c?n[o]=Dx(a,t,l,c):n[o]=Gt(a,t,l,c)}return(h,d)=>n.map(p=>p(h,d))}function Bx(a,t,r,i){var s={angle:lt(a,t,r.angle,i.angle),colorsteps:Fx(a,t,r.colorsteps,i.colorsteps)};return(n,o)=>{var l=s.colorsteps(n,o);return new Ur({angle:s.angle(n,o),colorsteps:l})}}function Nx(a,t,r,i){var s={image:(n,o)=>o};if(r.type==="url"||i.type==="url")s.image=Gt(a,t,r,i);else if(r.type!=i.type)s.image=Gt(a,t,r,i);else switch(r.type){case"linear-gradient":s.image=Bx(a,t,r,i);break;case"repeating-linear-gradient":s.image=makeInterpolateRepeatingLinearGradient(a,t,r,i);break;case"radial-gradient":s.image=makeInterpolateRadialGradient(a,t,r,i);break;case"repeating-radial-gradient":s.image=makeInterpolateRepeatingRadialGradient(a,t,r,i);break;case"conic-gradient":s.image=makeInterpolateConicGradient(a,t,r,i);break;case"repeating-conic-gradient":s.image=makeInterpolateRepeatingConicGradient(a,t,r,i);break}return(n,o)=>s.image(n,o)}function Gx(a,t,r,i){for(var s=Fe.parseStyle(Kt(r)),n=Fe.parseStyle(Kt(i)),o=Math.max(s.length,n.length),l=[],c=0,h=o;c<h;c++){var d=s[c]||null,p=n[c]||null;d&&!p?l.push({image:makeInterpolateIdentity(a,t,d.image),size:makeInterpolateIdentity(a,t,d.size),width:makeInterpolateIdentity(a,t,d.width),height:makeInterpolateIdentity(a,t,d.height),x:makeInterpolateIdentity(a,t,d.x),y:makeInterpolateIdentity(a,t,d.y),blendMode:makeInterpolateIdentity(a,t,d.blendMode),repeat:makeInterpolateIdentity(a,t,d.repeat)}):!d&&p?l.push({image:makeInterpolateIdentity(a,t,p.image),size:makeInterpolateIdentity(a,t,p.size),width:makeInterpolateIdentity(a,t,p.width),height:makeInterpolateIdentity(a,t,p.height),x:makeInterpolateIdentity(a,t,p.x),y:makeInterpolateIdentity(a,t,p.y),blendMode:makeInterpolateIdentity(a,t,p.blendMode),repeat:makeInterpolateIdentity(a,t,p.repeat)}):d&&p&&l.push({image:Nx(a,t,d.image,p.image),size:Bs(a,t,d.size,p.size),width:et(a,t,d.width,p.width,"width","self"),height:et(a,t,d.height,p.height,"height","self"),x:et(a,t,d.x,p.x,"width","self"),y:et(a,t,d.y,p.y,"height","self"),blendMode:Bs(a,t,d.blendMode,p.blendMode),repeat:Bs(a,t,d.repeat,p.repeat)})}return(u,m)=>Fe.join(l.map($=>{var S={image:$.image(u,m),size:$.size(u,m),x:$.x(u,m),y:$.y(u,m),width:$.width(u,m),height:$.height(u,m),blendMode:$.blendMode(u,m),repeat:$.repeat(u,m)};return S}))}const Hx=/((blur|grayscale|drop\-shadow|hue\-rotate|invert|brightness|contrast|opacity|saturate|sepia|url)\(([^\)]*)\))/gi;class Vt extends ir{getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"filter"},t))}toString(){return`${this.json.type}(${this.json.value||""})`}static parse(t){var r=Ux[t.type];return r?new r(t):new Ns({value:t.value})}static parseStyle(t){var r=[];if(!t)return r;var i=Ii(t),s=i.str.match(Hx)||[];return s.forEach((n,o)=>{var[l,c]=n.split("(");if(c=c.split(")")[0],l==="drop-shadow"){var h=c.split(" "),d=h.filter(u=>u.includes("@")).map(u=>Vs(u,i.matches)),p=h.filter(u=>!u.includes("@"));r[o]=Vt.parse({type:l,offsetX:g.parse(p[0]),offsetY:g.parse(p[1]),blurRadius:g.parse(p[2]),color:d[0]||"rgba(0, 0, 0, 1)"})}else r[o]=Vt.parse({type:l,value:g.parse(c)})}),r}static join(t){return t.map(r=>Vt.parse(r)).join(" ")}}class Ra extends Vt{getDefaultObject(){return super.getDefaultObject({type:"blur",value:Ra.spec.defaultValue})}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("value"))}}Ra.spec={inputType:"range",min:0,max:100,step:1,unit:"px",units:["px","em"],defaultValue:"0px"};class Ns extends Vt{getDefaultObject(){return super.getDefaultObject({type:"svg",value:Ns.spec.defaultValue})}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("value"))}toString(){return`url(#${this.json.value||""})`}}Ns.spec={inputType:"select",defaultValue:""};class za extends Vt{getDefaultObject(){return super.getDefaultObject({type:"grayscale",value:za.spec.defaultValue})}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("value"))}}za.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:g.percent(0)};class ja extends Vt{getDefaultObject(){return super.getDefaultObject({type:"hue-rotate",value:ja.spec.defaultValue})}}ja.spec={inputType:"range",min:0,max:360,step:1,unit:"deg",units:["deg"],defaultValue:g.deg(0)};class Aa extends Vt{getDefaultObject(){return super.getDefaultObject({type:"invert",value:Aa.spec.defaultValue})}}Aa.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:g.percent(0)};class Oa extends Vt{getDefaultObject(){return super.getDefaultObject({type:"brightness",value:Oa.spec.defaultValue})}}Oa.spec={inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:g.percent(100)};class Da extends Vt{getDefaultObject(){return super.getDefaultObject({type:"contrast",value:Da.spec.defaultValue})}}Da.spec={inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:g.percent(100)};class Fa extends Vt{getDefaultObject(){return super.getDefaultObject({type:"opacity",value:Fa.spec.defaultValue})}}Fa.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:g.percent(100)};class Ba extends Vt{getDefaultObject(){return super.getDefaultObject({type:"saturate",value:Ba.spec.defaultValue})}}Ba.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:g.percent(100)};class Na extends Vt{getDefaultObject(){return super.getDefaultObject({type:"sepia",value:Na.spec.defaultValue})}}Na.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:g.percent(0)};class Vi extends Vt{getDefaultObject(){return super.getDefaultObject({type:"drop-shadow",multi:!0,offsetX:Vi.spec.offsetX.defaultValue,offsetY:Vi.spec.offsetY.defaultValue,blurRadius:Vi.spec.blurRadius.defaultValue,color:Vi.spec.color.defaultValue})}toString(){var t=this.json;return`drop-shadow(${t.offsetX} ${t.offsetY} ${t.blurRadius} ${t.color})`}}Vi.spec={offsetX:{title:"Offset X",inputType:"range",min:-100,max:100,step:1,defaultValue:"0px",unit:"px",units:["px","em"]},offsetY:{title:"Offset Y",inputType:"range",min:-100,max:100,step:1,defaultValue:"0px",unit:"px",units:["px","em"]},blurRadius:{title:"Blur Radius",inputType:"range",min:0,max:100,step:1,defaultValue:"0px",unit:"px",units:["px","em","%"]},color:{title:"Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)",unit:"color"}};const Ux={blur:Ra,grayscale:za,"hue-rotate":ja,invert:Aa,brightness:Oa,contrast:Da,opacity:Fa,saturate:Ba,sepia:Na,"drop-shadow":Vi,svg:Ns};function Xx(a,t,r,i){var s={type:Bs(a,t,r.type,i.type),value:Gt(a,t,r.value,i.value)};switch(r.type){case"blur":s.value=et(a,t,r.value,i.value);break;case"grayscale":case"invert":case"brightness":case"contrast":case"opacity":case"saturate":case"sepia":case"hue-rotate":s.value=lt(a,t,r.value.value,i.value.value,r.value.unit);break;case"drop-shadow":s.offsetX=et(a,t,r.offsetX,i.offsetX,"width","self"),s.offsetY=et(a,t,r.offsetY,i.offsetY,"height","self"),s.blurRadius=et(a,t,r.blurRadius,i.blurRadius,"width","self"),s.spreadRadius=et(a,t,r.spreadRadius,i.spreadRadius,"width","self"),s.color=Va(a,t,r.color,i.color);break}return(n,o)=>{var l=s.type(n,o);return l==="drop-shadow"?{type:s.type(n,o),offsetX:s.offsetX(n,o),offsetY:s.offsetY(n,o),blurRadius:s.blurRadius(n,o),spreadRadius:s.spreadRadius(n,o),color:s.color(n,o)}:{type:s.type(n,o),value:s.value(n,o)}}}function Yx(a,t,r,i){for(var s=Vt.parseStyle(r),n=Vt.parseStyle(i),o=Math.max(s.length,n.length),l=[],c=0,h=o;c<h;c++){var d=s[c],p=n[c];d&&!p?l.push(Vr(a,t,d)):!d&&p?l.push(Vr(a,t,p)):d.type!=p.type||d.type==="svg"||p.type==="svg"?l.push(Gt(a,t,d,p)):l.push(Xx(a,t,d,p))}return(u,m)=>Vt.join(l.map($=>$(u,m)))}function Wx(a,t,r,i){var s={};return r.radius==="closest-side"||r.radius==="farthest-side"||i.radius==="closest-side"||i.radius==="farthest-side"?s.radius=Gt(a,t,r.radius,i.radius):r.radius.unit===i.radius.unit?s.radius=makeInterpolateNumber(a,t,r.radius.value,i.radius.value,r.radius.unit):s.radius=et(a,t,r.radius,i.radius,"width","self"),s.x=et(a,t,r.x,i.x,"width","self"),s.y=et(a,t,r.y,i.y,"height","self"),(n,o)=>{var l=s.radius(n,o),c=s.x(n,o),h=s.y(n,o),d=`${c} ${h}`,p=l+"";return p.includes("closest-side")?p="closest-side":p.includes("farthest-side")&&(p="farthest-side"),l?`${p} at ${d}`:`${d}`}}function Kx(a,t,r,i){var s={radiusX:et(a,t,r.radiusX,i.radiusX,"width","self"),radiusY:et(a,t,r.radiusY,i.radiusY,"height","self"),x:et(a,t,r.x,i.x,"width","self"),y:et(a,t,r.y,i.y,"height","self")};return(n,o)=>{var l=s.radiusX(n,o),c=s.radiusY(n,o),h=s.x(n,o),d=s.y(n,o);return`${l} ${c} at ${h} ${d}`}}function Zx(a,t,r,i){for(var s=Math.max(r.length,i.length),n=[],o=0;o<s;o++){var l=r[o],c=i[o];l&&!c?n.push({x:Vr(a,t,l.x),y:Vr(a,t,l.y)}):!l&&c?n.push({x:Vr(a,t,c.x),y:Vr(a,t,c.y)}):n.push({x:et(a,t,l.x,c.x,"width","self"),y:et(a,t,l.y,c.y,"height","self")})}return(h,d)=>n.map(p=>`${p.x(h,d)} ${p.y(h,d)}`).join(",")}function qx(a,t,r,i){var s={top:lt(a,t,r.top.value,i.top.value,r.top.unit),left:lt(a,t,r.left.value,i.left.value,r.left.unit),right:lt(a,t,r.right.value,i.right.value,r.right.unit),bottom:lt(a,t,r.bottom.value,i.bottom.value,r.bottom.unit),round:Gt(a,t,r.round,i.round),topRadius:lt(a,t,r.topRadius.value,i.topRadius.value,r.topRadius.unit),leftRadius:lt(a,t,r.leftRadius.value,i.leftRadius.value,r.leftRadius.unit),rightRadius:lt(a,t,r.rightRadius.value,i.rightRadius.value,r.rightRadius.unit),bottomRadius:lt(a,t,r.bottomRadius.value,i.bottomRadius.value,r.bottomRadius.unit)};return(n,o)=>{var l=s.top(n,o),c=s.right(n,o),h=s.bottom(n,o),d=s.left(n,o),p=s.round(n,o),u=s.topRadius(n,o),m=s.leftRadius(n,o),$=s.bottomRadius(n,o),S=s.rightRadius(n,o),k=[l,c,h,d].join(" "),C=[u,S,$,m].join(" "),z=`${k} ${p&&C.trim()?`round ${C}`:""}`;return z}}function Qx(a,t,r,i){var s=_e.parseStyle(r),n=_e.parseStyle(i),o={type:Gt(a,t,s.type,s.type),value:Gt(a,t,r,i)};if(s.type==n.type&&s!="none")switch(s.type){case"circle":s.value=_e.parseStyleForCircle(s.value),n.value=_e.parseStyleForCircle(n.value),o.value=Wx(a,t,s.value,n.value);break;case"ellipse":s.value=_e.parseStyleForEllipse(s.value),n.value=_e.parseStyleForEllipse(n.value),o.value=Kx(a,t,s.value,n.value);break;case"inset":s.value=_e.parseStyleForInset(s.value),n.value=_e.parseStyleForInset(n.value),o.value=qx(a,t,s.value,n.value);break;case"polygon":s.value=_e.parseStyleForPolygon(s.value),n.value=_e.parseStyleForPolygon(n.value),o.value=Zx(a,t,s.value,n.value);break;case"path":s.value=_e.parseStyleForPath(s.value),n.value=_e.parseStyleForPath(n.value),o.value=makeInterpolateClipPathPath(a,t,s.value,n.value);break}return(l,c)=>{var h=o.type(l,c),d=o.value(l,c);return h==="none"?h:`${h}(${d})`}}function Jx(a,t,r,i){for(var s={type:Gt(a,t,r.type,i.type)},n=[],o=Math.max(r.value.length,i.value.length),l=0;l<o;l++){var c=r.value[l],h=i.value[l];c&&h?n.push(et(a,t,c,h,r.type)):n.push(et(a,t,r.value[l]||r.value[l-1]||r.value[l-2],i.value[l]||i.value[l-1]||i.value[l-2],r.type))}return s.value=n,(d,p)=>({type:s.type(d,p),value:s.value.map(u=>u(d,p))})}function e_(a,t,r,i){for(var s={type:Gt(a,t,r.type,i.type)},n=[],o=Math.max(r.value.length,i.value.length),l=0;l<o;l++){var c=r.value[l],h=i.value[l];if(c&&h)n.push(lt(a,t,c.value,h.value));else{var d=r.value[l].value||r.value[l-1].value||r.value[l-2].value,p=i.value[l].value||i.value[l-1].value||r.value[l-2].value;n.push(lt(a,t,d,p))}}return s.value=n,(u,m)=>{var $=s.value.map(k=>k(u,m)),S=s.type(u,m);return(S.includes("matrix")||S.includes("scale"))&&($=$.map(k=>g.number(k))),{type:S,value:$}}}function t_(a,t,r,i){for(var s={type:Gt(a,t,r.type,i.type)},n=[],o=Math.max(r.value.length,i.value.length),l=0;l<o;l++){var c=r.value[l],h=i.value[l];c&&h?n.push(fl(a,t,c,h)):n.push(fl(a,t,r.value[l]||r.value[l-1]||r.value[l-2],i.value[l]||i.value[l-1]||r.value[l-2]))}return s.value=n,(d,p)=>{var u={type:s.type(d,p),value:s.value.map(m=>m(d,p))};return u}}function r_(a,t,r,i){for(var s=Ke.parseStyle(r.trim()),n=Ke.parseStyle(i.trim()),o=Math.max(s.length,n.length),l=[],c=0;c<o;c++){var h=s[c],d=n[c];if(h&&!d)l.push(Vr(a,t,h));else if(!h&&d)l.push(Vr(a,t,d));else if(h.type!=d.type)l.push(Gt(a,t,h,d));else switch(h.type){case"translate":case"translateX":case"translateY":case"translateZ":case"translate3d":case"perspective":l.push(Jx(a,t,h,d));break;case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"rotate3d":l.push(t_(a,t,h,d));break;case"scale":case"scaleX":case"scaleY":case"scaleZ":case"scale3d":case"matrix":case"matrix3d":l.push(e_(a,t,h,d));break}}return(p,u)=>{var m=Ke.join(l.map($=>$(p,u)));return m}}function i_(a,t,r,i){for(var s=r.split(" ").map(p=>g.parse(p)),n=i.split(" ").map(p=>g.parse(p)),o=Math.max(s.length,n.length),l=[],c=0;c<o;c++){var h=s[c],d=n[c];l.push(et(a,t,h,d,"transform-origin"))}return(p,u)=>{var m=l.map($=>$(p,u)).join(" ");return m}}function s_(a,t,r,i){for(var s=r.split(" ").map(p=>g.parse(p)),n=i.split(" ").map(p=>g.parse(p)),o=Math.max(s.length,n.length),l=[],c=0;c<o;c++){var h=s[c],d=n[c];l.push(et(a,t,h,d,"perspective-origin"))}return(p,u)=>{var m=l.map($=>$(p,u)).join(" ");return m}}function a_(a,t,r,i){for(var s=r.split(" ").map(p=>+p),n=i.split(" ").map(p=>+p),o=Math.max(s.length,n.length),l=[],c=0;c<o;c++){var h=s[c],d=n[c];l.push(lt(a,t,h,d))}return(p,u)=>{var m=l.map($=>$(p,u)).join(" ");return m}}function n_(a,t,r,i){for(var s=Math.max(r.length,i.length),n=[],o=r[r.length-1],l=i[i.length-1],c=0;c<s;c++){var h=r[c],d=i[c];h&&!d?n.push(lt(a,t,h,l)):!h&&d?n.push(lt(a,t,o,d)):n.push(lt(a,t,h,d))}return(p,u)=>n.map(m=>m(p,u))}function o_(a,t,r,i){for(var s=new W,n=new W(r),o=new W(i),l=Math.max(n.segments.length,o.segments.length),c=[],h=0;h<l;h++){var d=n.segments[h],p=o.segments[h];d.command===p.command?d.values.length===p.values.length?c.push({command:Vr(a,t,d.command),values:n_(a,t,d.values,p.values)}):c.push({command:Vr(a,t,d.command),values:Vr(a,t,d.values)}):c.push({command:Gt(a,t,d.command,p.command),values:Gt(a,t,d.values,p.values)})}return(u,m)=>{var $=c.map(k=>({command:k.command(u,m),values:k.values(u,m)})),S=s.joinPath($);return S}}class Rt{constructor(){this.pathArray=[]}reset(){this.pathArray=[]}getPointString(t){return t.map(r=>`${r.x} ${r.y}`).join(" ")}makeString(t,r=[]){return this.pathArray.push(`${t} ${this.getPointString(r)}`),this}M(...t){return this.makeString("M",t)}L(...t){return this.makeString("L",t)}X(...t){const r=3,i=t[0],s={x:i.x-r,y:i.y-r},n={x:i.x+r,y:i.y-r},o={x:i.x-r,y:i.y+r},l={x:i.x+r,y:i.y+r};return this.M(s).L(l).M(n).L(o)}Q(...t){return this.makeString("Q",t)}C(...t){return this.makeString("C",t)}Z(){return this.makeString("Z")}get d(){return this.pathArray.join(" ").trim()}toString(t="object"){return`<path d="${this.d}" class='${t}'/>`}}const l_=/[\b\t \,]/g;class fs extends W{constructor(t=""){super(t)}reset(t=""){this.segments=[],this.points=t,this.parse()}resetSegments(t=[]){this.segments=t,this.points=this.joinPoints()}parse(){var t=this.points;Array.isArray(t)&&(t=t.join(" "));for(var r=t.trim().split(l_).filter(o=>o),i=[],s=0,n=r.length;s<n;s+=2)i.push({x:+r[s],y:+r[s+1]});this.segments=i}convertGenerator(){return this.segments}length(){return this.segments.length}toPathString(){for(var t=new Rt,r=0,i=this.segments.length;r<i;r++){var s=this.segments[r];r===0?t.M(s):r===i-1?t.L(s).L(this.segments[0]).Z():t.L(s)}return t.d}joinPath(t){return this.joinPoints(t)}joinPoints(t){var r=t||this.segments;return r.map(i=>`${i.x},${i.y}`).join(" ")}each(t,r=!1){var i=this.segments.map(s=>t.call(this,s));if(r)return i;this.segments=i}_loop(t,r=!1){return this.each(function(i){var[s,n]=t([i.x,i.y],0);return i.x=s,i.y=n,i},r)}clone(){return new fs(this.joinPoints())}toString(){return this.joinPoints()}}function c_(a,t,r,i){for(var s=new fs,n=new fs(r),o=new fs(i),l=Math.max(n.segments.length,o.segments.length),c=[],h=n.segments[n.segments.length-1].x,d=n.segments[n.segments.length-1].y,p=o.segments[o.segments.length-1].x,u=o.segments[o.segments.length-1].y,m=0;m<l;m++){var $=n.segments[m],S=o.segments[m];$&&!S?c.push({x:lt(a,t,$.x,p),y:lt(a,t,$.y,u)}):!$&&S?c.push({x:lt(a,t,h,S.x),y:lt(a,t,d,S.y)}):c.push({x:lt(a,t,$.x,S.x),y:lt(a,t,$.y,S.y)})}return(k,C)=>{var z=s.joinPoints(c.map(L=>({x:L.x(k,C),y:L.y(k,C)})));return z}}function nd(a,t,r,i){var s={x:lt("","",a,r),y:lt("","",t,i)};return(n,o)=>{var l={x:s.x(n,o),y:s.y(n,o)};return l}}function Nn(a,t,r,i,s,n){var o=[{x:a,y:t},{x:r,y:i},{x:s,y:n}];return(l,c)=>yh(o,c)}function Gn(a,t,r,i,s,n,o,l){var c=[{x:a,y:t},{x:r,y:i},{x:s,y:n},{x:o,y:l}];return(h,d)=>_n(c,d)}function h_(a){var t=[],r=[];a.forEach((n,o)=>{switch(n.command){case"M":var[l,c]=n.values;r=[l,c];break;case"m":var[h,d]=r,[l,c]=n.values;l+=h,c+=d,r=[l,c];break;case"L":var[h,d]=r,[l,c]=n.values;t.push({command:n.command,values:[h,d,l,c],length:Yt(h,d,l,c),interpolate:nd(h,d,l,c)}),r=[l,c];break;case"l":var[h,d]=r,[l,c]=n.values;l+=h,c+=d,t.push({command:n.command,values:[h,d,l,c],length:Yt(h,d,l,c),interpolate:nd(h,d,l,c)}),r=[l,c];break;case"C":var[h,d]=r,[p,u,m,$,l,c]=n.values;t.push({command:n.command,values:[h,d,p,u,m,$,l,c],length:ya(h,d,p,u,m,$,l,c),interpolate:Gn(h,d,p,u,m,$,l,c)}),r=[l,c];break;case"c":var[h,d]=r,[p,u,m,$,l,c]=n.values;p+=h,m+=h,l+=h,u+=d,$+=d,c+=d,t.push({command:n.command,values:[h,d,p,u,m,$,l,c],length:ya(h,d,p,u,m,$,l,c),interpolate:Gn(h,d,p,u,m,$,l,c)}),r=[l,c];break;case"Q":var[h,d]=r,[p,u,l,c]=n.values;t.push({command:n.command,values:[h,d,p,u,l,c],length:Es(h,d,p,u,l,c),interpolate:Nn(h,d,p,u,l,c)}),r=[l,c];break;case"q":var[h,d]=r,[p,u,l,c]=n.values;p+=h,l+=h,u+=d,c+=d,t.push({command:n.command,values:[h,d,p,u,l,c],length:Es(h,d,p,u,l,c),interpolate:Nn(h,d,p,u,l,c)}),r=[l,c];break;case"S":var[h,d]=r,[m,$,l,c]=n.values,S=t[t.length-1];if(["C","c","S","s"].includes(S.command)){var[k,k,k,k,C,z,L,R]=S.values,{x:p,y:u}=Y.getReversePoint({x:L,y:R},{x:C,preC1y:z});t.push({command:n.command,values:[h,d,p,u,m,$,l,c],length:getCubicDist(h,d,p,u,m,$,l,c),interpolate:Gn(h,d,p,u,m,$,l,c)}),r=[l,c];break}case"s":var[h,d]=r,[m,$,l,c]=n.values;m+=h,l+=h,$+=d,c+=d;var S=t[t.length-1];if(["C","c","S","s"].includes(S.command)){var[k,k,k,k,C,z,L,R]=S.values,{x:p,y:u}=Y.getReversePoint({x:L,y:R},{x:C,preC1y:z});t.push({command:n.command,values:[h,d,p,u,m,$,l,c],length:getCubicDist(h,d,p,u,m,$,l,c),interpolate:Gn(h,d,p,u,m,$,l,c)}),r=[l,c];break}case"T":var[h,d]=r,[l,c]=n.values,S=t[t.length-1];if(["Q","q","T","t"].includes(S.command)){var[k,k,C,z,L,R]=S.values,{x:p,y:u}=Y.getReversePoint({x:L,y:R},{x:C,preC1y:z});t.push({command:n.command,values:[h,d,p,u,l,c],length:Es(h,d,p,u,l,c),interpolate:Nn(h,d,p,u,l,c)}),r=[l,c]}break;case"t":var[h,d]=r,[l,c]=n.values;l+=h,c+=d;var S=t[t.length-1];if(["Q","q","T","t"].includes(S.command)){var[k,k,C,z,L,R]=S.values,{x:p,y:u}=Y.getReversePoint({x:L,y:R},{x:C,preC1y:z});t.push({command:n.command,values:[h,d,p,u,l,c],length:Es(h,d,p,u,l,c),interpolate:Nn(h,d,p,u,l,c)}),r=[l,c]}break}});var i=0;t.forEach(n=>{i+=n.length});var s=0;return t.forEach(n=>{n.startT=s/i,n.endT=(s+n.length)/i,n.totalLength=i,s+=n.length}),{totalLength:i,interpolateList:t}}function d_(a,t,r,i,s){var[n,o,l,c]=r.split(",").map(S=>S.trim()),h={id:n,distance:g.parse(o||"0%"),rotateStatus:l||"auto",rotate:g.parse(c||"0deg")},d=(S,k)=>({x,y}),p=(S,k)=>{var C=0;switch(S){case"angle":C=h.rotate.value;break;case"auto angle":C=k+h.rotate.value;break;case"reverse":C=k+180;break;case"auto":C=k;break}return C},u=0,m=0;if(s){var $=s.searchById(h.id);$&&(u=$.screenX.value,m=$.screenY.value),d=(S,k,C)=>{var z=new W($.d||""),{totalLength:L,interpolateList:R}=h_(z.segments),j=h.distance.toPx(L),X=j/L;k=k+X,k>1&&(k-=1);var Z=R[0];k===0?Z=R[0]:k===1&&(Z=R[R.length-1]);var q=R.find(me=>me.startT<=k&&k<me.endT);q&&(Z=q);var ue=(k-Z.startT)/(Z.endT-Z.startT),de=C(ue);return le(v({},Z.interpolate(de,ue,C)),{totalLength:Z.totalLength})}}return(S,k,C)=>{var z=(a["transform-origin"]||"50% 50%").split(" ").map(fe=>g.parse(fe)),L=z[0].toPx(a.width),R=z[1].toPx(a.height),j=d(S,k,C),X={x:j.x+u-L.value,y:j.y+m-R.value};if(a.setScreenX(X.x),a.setScreenY(X.y),h.rotateStatus!=="element"){var Z=j,q=0;k<1&&(q=1/j.totalLength);var ue=d(S+q,k+q,C),de=ss(ue.x-Z.x,ue.y-Z.y),me=g.deg(p(h.rotateStatus,de));a.reset({transform:Ke.rotate(a.transform,me)})}return X}}function u_(a,t,r,i,s=void 0){var n=i.length-1,o=0;return(l,c)=>{var h=0;return c===0?h="":c===1?h=i:h=i.substring(o,Math.floor((n-o)*c)),h}}function p_(a,t,r,i,s,n){const o=n.$("video").el;let[l,c,h]=r.split(":");const d=+(h||1),p=+(l||0)*d;return(u,m)=>{m===0?(o.currentTime=p,o.paused&&o.play()):m===1?(a.reset({currentTime:o.currentTime}),o.pause()):o.paused&&o.play()}}const g_=()=>(a,t)=>{};function f_(a){switch(a){case"border-radius":return jx;case"border":return makeInterpolateBorder;case"box-shadow":return Ax;case"text-shadow":return Ox;case"background-image":case"BackgroundImageEditor":return Gx;case"filter":case"backdrop-filter":return Yx;case"clip-path":return Qx;case"transform":return r_;case"transform-origin":return i_;case"perspective-origin":return s_;case"stroke-dasharray":return a_;case"d":return o_;case"points":return c_;case"offset-path":return d_;case"text":return u_;case"playTime":return p_}}function m_(a,t,r,i,s,n,o){var l=s||t;switch(l){case"width":case"x":return et(a,t,r,i,"width");case"height":case"y":return et(a,t,r,i,"height");case"perspective":case"font-size":case"font-weight":case"text-stroke-width":case"RangeEditor":case"textLength":case"startOffset":return et(a,t,r,i,t);case"fill-opacity":case"opacity":case"stroke-dashoffset":case"currentTime":case"NumberRangeEditor":return lt(a,t,+r,+i);case"background-color":case"color":case"text-fill-color":case"text-stroke-color":case"fill":case"stroke":case"ColorViewEditor":return Va(a,t,r,i);case"mix-blend-mode":case"fill-rule":case"stroke-linecap":case"stroke-linejoin":case"SelectEditor":case"lengthAdjust":return Bs(a,t,r,i);case"rotate":return fl(a,t,r,i)}var c=f_(l);return c?c(a,t,r,i,n,o):g_}function v_(a,t,r,i,s,n,o){return m_(a,t,r,i,s,n,o)}class y_ extends Rx{getDefaultObject(t={}){return super.getDefaultObject(v({timeline:[],compiledTimeline:{}},t))}expectJSON(t){return t==="compiledTimeline"?!1:super.expectJSON(t)}setTimelineInfo(t){var r=this.getSelectedTimeline();!r||["speed","iterationCount","direction"].forEach(i=>{Re(t[i])&&(r[i]=t[i])})}compileAll(){var t=this.getSelectedTimeline();this.json.compiledTimeline={},t&&t.animations.forEach(r=>{r.properties.forEach(i=>{this.compiledTimingFunction(r.id,i.property)})})}searchTimelineOffset(t){var r=this.getSelectedTimeline(),i=[];return r&&r.animations.forEach(s=>{s.properties.forEach(n=>{var o=this.getCompiledTimingFunction(s.id,n.property);i.push(o.find(l=>l.isOnlyTime&&l.startTime<=t?!0:l.startTime<=t&&t<l.endTime))})}),i.filter(s=>s)}getCompiledTimingFunction(t,r){return this.json.compiledTimeline[`${t}.${r}`]}compiledTimingFunction(t,r){var i=this,s=this.getTimelineProperty(t,r),n=this.modelManager.get(t),o=`${t}.${r}`;if(s.keyframes.length===1){this.json.compiledTimeline[o]=[];return}let l=be.body().$(`[data-id="${t}"]`),c=s.keyframes.map(h=>h.editor)[0];this.json.compiledTimeline[o]=s.keyframes.map((h,d)=>{var p=h,u=s.keyframes[d+1];h.editor=c,u||(u={time:h.time,value:h.value});var m={layer:n,layerElement:l,property:s.property,isOnlyTime:p.time===u.time,startTime:h.time,endTime:u.time,startValue:h.value,endValue:u.value,timing:h.timing,interpolateFunction:v_(n,s.property,h.value,u.value,h.editor,i,l),timingFunction:nl(h.timing)};return m.func=this.makeTimingFunction(m),m}).filter(h=>h)}makeTimingFunction(t){return r=>{var i=t.endTime-t.startTime,s=1;return i!==0&&(s=(r-t.startTime)/i),t.interpolateFunction(t.timingFunction(s),s,i,t.timingFunction)}}stop(t){var r=this.getSelectedTimeline();if(r){var i=r.currentTime;this.searchTimelineOffset(i).forEach(s=>{if(s.property==="playTime"){const n=s.layerElement.$("video");n&&n.el.pause()}})}}seek(t,r=i=>i){var i=this.getSelectedTimeline();if(i){Re(t)&&this.setTimelineCurrentTime(t);var s=i.currentTime;this.searchTimelineOffset(s).filter(r).forEach(n=>{n.property==="offset-path"||n.property==="playTime"?n.func(s):n.layer&&n.layer.reset({[n.property]:n.func(s)})})}}getSelectedTimeline(){var t=this.json.timeline,r=t.filter(s=>s.selected),i=r.length?r[0]:t[0];return i||null}getKeyframeListReturnArray(){var t=this.getSelectedTimeline(),r=[];return t&&t.animations.forEach(i=>{i.properties.forEach(s=>{r.push.apply(r,s.keyframes)})}),r}getKeyframeList(t){var r=this.getSelectedTimeline();r&&r.animations.forEach(i=>{i.properties.forEach(s=>{s.keyframes.forEach(n=>{t&&t(r,n)})})})}getSelectedTimelineLastTime(){var t=0;return this.getKeyframeList((r,i)=>{t=Math.max(i.time,t)}),t}getSelectedTimelineFirstTime(){var t=Number.MAX_SAFE_INTEGER;return this.getKeyframeList((r,i)=>{t=Math.min(i.time,t)}),t}getSelectedTimelinePrevTime(){var t=this.getSelectedTimelineFirstTime();return this.getKeyframeList((r,i)=>{ar(r.fps,i.time)<r.currentTimecode&&(t=Math.max(i.time,t))}),t}getSelectedTimelineNextTime(){var t=this.getSelectedTimelineLastTime();return this.getKeyframeList((r,i)=>{ar(r.fps,i.time)>r.currentTimecode&&(t=Math.min(i.time,t))}),t}setTimelineTitle(t,r){var i=this.json.timeline.find(s=>s.id===t);i&&(i.title=r)}selectTimeline(t){if(t)this.json.timeline.forEach(i=>{i.selected=i.id===t});else{var r=this.json.timeline.filter(i=>i.selected);r.length||this.json.timeline.length&&(this.json.timeline.selected=!0)}this.compileAll()}removeAnimation(t){this.json.timeline=this.json.timeline.filter(r=>r.id!==t),this.json.timeline.length&&(this.json.timeline[0].selected=!0),this.compileAll()}addTimeline(t=60,r="00:00:10:00"){var i=tr(),s=le(v({id:i,title:"sample"},this.getTimelineLayerInfo(t,r)),{animations:[]});return this.json.timeline.push(s),this.selectTimeline(i),s}addTimelineLayer(t,r=60,i="00:00:10:00"){var s=this.getSelectedTimeline();if(s||(s=this.addTimeline(r,i)),s.selected=!0,t){var n=s.animations.filter(o=>o.id===t);n[0]||s.animations.push({id:t,properties:[]})}}getTimelineLayerInfo(t=60,r="00:00:10:00"){var i=ps(t,r);return{fps:t,speed:1,direction:"normal",iterationCount:1,currentTimecode:ar(t,0),totalTimecode:ar(t,i),currentTime:0,totalTime:i,displayStartTime:0,displayEndTime:i}}setTimelineCurrentTime(t){var r=this.getSelectedTimeline(),{fps:i,totalTimecode:s}=r;if(r){var n=t,o=t;+n+""===n&&(n=+n,o=ed(i,n)),o>s&&(o=s);var l=ps(i,o);r.currentTime=l,r.currentTimecode=ar(i,l)}}setDisplayTimeDxRate(t,r,i){var s=this.getSelectedTimeline();if(s){var n=t*s.totalTime,o=r+n,l=i+n;o=Math.max(o,0),o=Math.min(o,l),o===0&&(l=i-r),l=Math.max(l,o),l=Math.min(l,s.totalTime),l===s.totalTime&&(o=s.totalTime-(i-r)),s.displayStartTime=o,s.displayEndTime=l}}setDisplayStartTimeRate(t){var r=this.getSelectedTimeline();r&&(r.displayStartTime=t*r.totalTime)}setDisplayEndTimeRate(t){var r=this.getSelectedTimeline();r&&(r.displayEndTime=t*r.totalTime)}setTimelineCurrentTimeRate(t){var r=this.getSelectedTimeline();if(r){var{displayStartTime:i,displayEndTime:s,fps:n}=r,o=i+(s-i)*t;this.setTimelineCurrentTime(ar(n,o))}}setTimelineTotalTime(t){var r=this.getSelectedTimeline();if(r){var i=t,s=t;+i+""===i&&(i=+i,s=ed(r.fps,i)),ps(r.fps,s)<r.displayEndTime&&(r.displayEndTime=ps(r.fps,s),r.displayStartTime=0),r.totalTimecode=s,r.totalTime=ps(r.fps,s)}}getTimelineObject(t){var r=this.getSelectedTimeline();if(r)return r.animations.find(i=>i.id===t)}addTimelineProperty(t,r){this.addTimelineLayer(t);var i=this.getTimelineObject(t);if(i){var s=i.properties.filter(n=>n.property===r);s.length||(i.properties.push({property:r,keyframes:[]}),this.compiledTimingFunction(t,r))}}getTimelineProperty(t,r){var i=this.getSelectedTimeline();if(i){t=t||i.selectedLayerId,r=r||i.selectedProperty;var s=this.getTimelineObject(t);if(s)return s.properties.find(n=>n.property===r)}}setSelectedOffset(t,r,i){var s=this.getSelectedTimeline();if(s){s.selectedLayerId=t,s.selectedProperty=r,s.selectedOffsetTime=i;var n=this.getTimelineProperty();n.keyframes.forEach(o=>{o.selected=o.time===i})}}deleteTimelineKeyframe(t,r,i){var s=this.getTimelineProperty(t,r);s&&(s.keyframes=s.keyframes.filter(n=>n.id!=i))}removeTimelineProperty(t,r){var i=this.getTimelineObject(t);i&&(i.properties=i.properties.filter(s=>s.property!=r))}removeTimeline(t){var r=this.getSelectedTimeline();r&&(r.animations=r.animations.filter(i=>i.id!=t))}setTimelineKeyframeOffsetTime(t,r,i,s){var n=this.getTimelineKeyframeById(t,r,i);n&&(n.time=s,this.compiledTimingFunction(t,r))}setTimelineKeyframeOffsetValue(t,r,i,s=void 0,n=void 0,o=void 0){var l=this.getTimelineKeyframeById(t,r,i);l&&(Re(o)&&(l.time=o),Re(s)&&(l.value=s),Re(n)&&(l.timing=n),this.compiledTimingFunction(t,r))}addTimelineKeyframe({layerId:t,property:r,value:i,timing:s,time:n,editor:o}){this.addTimelineProperty(t,r);var l=this.getSelectedTimeline(),c=this.getTimelineProperty(t,r);if(c){var h=n||l.currentTime,d=c.keyframes.filter(u=>u.time===h);if(!d.length){i=xt(i)||i===""?this.getDefaultPropertyValue(r):i;var p={id:tr(),layerId:t,property:r,time:h,value:i,timing:s||"linear",editor:o};return c.keyframes.push(p),c.keyframes.sort((u,m)=>u.time>m.time?1:-1),this.compiledTimingFunction(t,r),p}}}getDefaultPropertyValue(t){switch(t){case"mix-blend-mode":return"normal";case"rotate":return"0deg";case"box-shadow":return"0px 0px 0px 0px rgba(0, 0, 0, 1)";case"text-shadow":return"0px 0px 0px rgba(0, 0, 0, 1)";case"opacity":return 1;default:return""}}copyTimelineKeyframe(t,r,i=null){var s=this.getTimelineProperty(t,r);if(s){var n=this.getSelectedTimeline(),o=i||n.currentTime,l=s.keyframes.filter(p=>p.time<o),c=this.getDefaultPropertyValue(r),h="linear",d="";l.length&&(l.sort((p,u)=>p.time>u.time?-1:1),c=l[0].value+"",h=l[0].timing+"",d=l[0].editor),this.addTimelineKeyframe({layerId:t,property:r,value:c,timing:h,editor:d})}}getTimelineKeyframe(t,r,i){var s=this.getTimelineProperty(t,r);if(s)return s.keyframes.find(n=>n.time===i)}getTimelineKeyframeById(t,r,i){var s=this.getTimelineProperty(t,r);if(s)return s.keyframes.find(n=>n.id===i)}sortTimelineKeyframe(t,r){var i=this.getTimelineProperty(t,r);i&&(i.keyframes.sort((s,n)=>s.time>n.time?1:-1),this.compiledTimingFunction(t,r))}setFps(t){var r=this.getSelectedTimeline();r&&(r.fps=t,r.currentTimecode=ar(t,r.currentTime),r.totalTimecode=ar(t,r.totalTime))}toCloneObject(){return le(v({},super.toCloneObject()),{timeline:ve(this.json.timeline)})}}const od=St();class ld extends y_{getDefaultTitle(){return"New Project"}get isAbsolute(){return!1}get parent(){return null}toRootVariableCSS(){var t={};return this.json.rootVariable.split(";").filter(r=>r.trim()).forEach(r=>{var[i,s]=r.split(":");t[`--${i}`]=s}),t}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"project",name:"new Project",description:"",rootVariable:""},t))}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("name","description","rootVariable"))}get artboards(){return(this.layers||[]).filter(t=>t.is("artboard"))}get offsetX(){return 0}get offsetY(){return 0}get screenWidth(){return 0}get screenHeight(){return 0}isLayoutItem(){return!1}hasLayout(){return!1}getAbsoluteMatrix(){return St()}getTransformMatrix(){return St()}resetMatrix(t){const[r,i]=Ci([],Wt(t.absoluteMatrix,t.localMatrixInverse));t.reset({x:r,y:i})}get rectVerties(){var t;return((t=this.layers)==null?void 0:t.length)?va(this.layers):null}get absoluteMatrix(){return od}get absoluteMatrixInverse(){return od}get contentBox(){return{left:0,top:0,width:0,height:0}}}class b_{constructor(t){this.$editor=t,this.project=null,this.itemKeys={},this.hoverId="",this.hoverItems=[],this.ids=[],this.colorsteps=[],this.ghosts=[],this.cachedItemMatrices=[],this.cachedArtBoardVerties=[],this.cachedVerties=wt(0,0,0,0,"50% 50% 0px"),this.$editor.on("config:bodyEvent",()=>{this.refreshMousePosition()})}refreshMousePosition(){const t=this.$editor.config.get("area.width"),r=this.$editor.viewport.getWorldPosition();this.pos=r;const[i,s]=vn(r[0],r[1],t);this.row=i,this.column=s}get modelManager(){return this.$editor.modelManager}get lockManager(){return this.$editor.lockManager}get items(){return this.modelManager.searchLiveItemsById(this.ids)}get current(){return this.modelManager.searchItem(this.ids[0])}get currentProject(){return this.project||(this.project=this.modelManager.getProjectByIndex()),this.project}get isEmpty(){return!this.length}get isOne(){return this.length===1&&this.current.is("artboard")?!0:this.length===1}get isMany(){return this.length>1}get length(){return this.ids.length}get isLayoutItem(){var t;return(t=this.current)==null?void 0:t.isLayoutItem()}get allLayers(){return this.currentProject.allLayers||[]}get filteredLayers(){const t=this.$editor.config.get("area.width");return this.currentProject.filteredAllLayers(r=>{if(r.is("project"))return!1;const i=r.getAreaPosition(t);if(!i)return!1;const{column:s,row:n}=i;return s[0]<=this.column&&this.column<=s[1]&&n[0]<=this.row&&this.row<=n[1]}).filter(r=>r.isPointInRect(this.pos[0],this.pos[1]))}get notSelectedLayers(){return this.filteredLayers.filter(t=>this.check(t)===!1)}get snapTargetLayers(){return this.currentProject?this.currentProject.allLayers.filter(t=>t.is("project")||this.check(t)?!1:t.verties.some(i=>this.$editor.viewport.checkInViewport(i))):[]}get snapTargetLayersWithSelection(){return this.currentProject?this.currentProject.allLayers.filter(t=>t.is("project")?!1:t.verties.some(i=>this.$editor.viewport.checkInViewport(i))):[]}get selectedArtboards(){return[...new Set(this.items.map(t=>t.artboard))]}hasChangedField(...t){return this.current?this.current.hasChangedField(...t):!1}getRootItem(t){var r=t;return t&&t.parentId&&(r=t.parent),r}selectColorStep(...t){this.colorsteps=t}isSelectedColorStep(t){return this.colorsteps.includes(t)}selectProject(t){ht(t)&&(t=this.modelManager.get(t)),this.project=t,this.select()}isSameIds(t){return this.ids.length!=t.length?!1:this.ids.filter(r=>t.includes(r)).length===this.ids.length}filterIds(t=[]){return t.map(r=>r.id||r).filter(Boolean)}selectByGroup(...t){var r=this.modelManager.searchItemsById(this.filterIds(t||[])).filter(s=>!this.lockManager.get(s.id));const i=this.modelManager.convertGroupItems(r);return this.select(...i.map(s=>s.id))}select(...t){var r=this.modelManager.searchItemsById(this.filterIds(t||[])).filter(n=>!n.lock&&n.isAbsolute);const i=r.filter(n=>n.path.filter(o=>r.includes(o)).length<2),s=i.map(n=>n.id);return this.isSameIds(s)?!1:(this.itemKeys={},i.forEach(n=>{this.itemKeys[n.id]=n}),this.ids=s,this.setRectCache(),!0)}reload(){return this.select(...this.ids)}reselect(){this.setRectCache()}check(t){return!!this.itemKeys[t.id]}hasPathOf(t){return this.modelManager.hasPathOf(this.items.filter(r=>r.isNot("artboard")),t)}hasParent(t){return this.items.some(r=>r.hasParent(t))}get(t){return this.itemKeys[t]}empty(){this.select()}itemsByIds(t=null){let r=[];return Array.isArray(t)?r=t:(ht(t)||Wr(t))&&(r=[t]),this.modelManager.searchItemsById(r)}selectById(t){this.select(t)}selectAfterCopy(){this.select(...this.items.map(t=>t.copy()))}addById(t){this.itemKeys[t]||this.select(...this.ids,t)}removeById(t){let r=t;ht(t)&&(r=[t]);const i=this.ids.filter(s=>r.includes(s)===!1);this.select(...i)}toggleById(t){this.itemKeys[t]?this.removeById(t):this.addById(t)}getArtboardByPoint(t){return this.currentProject.artboards.find(r=>ns(r.originVerties,...t))}changeInLayoutArea(t){let r=!1;return this.each(i=>{if(i.is("artboard")===!1){if(i.artboard){const n=i.artboard.originVerties;if(ns(n,this.pos[0],this.pos[1]))return!1}const s=this.cachedArtBoardVerties.find(n=>ns(n.matrix.originVerties,this.pos[0],this.pos[1]));s?s.item!==i.artboard&&s.item.hasLayout()===!1&&(s.item.appendChild(i),r=!0):i.artboard&&(this.currentProject.appendChild(i),r=!0)}}),r}setRectCache(){if(this.isEmpty){this.cachedVerties=[],this.cachedRectVerties=[],this.cachedItemMatrices=[],this.ghosts=[],this.cachedArtBoardVerties=this.currentProject.artboards.map(t=>({item:t,matrix:t.matrix}));return}this.cachedVerties=this.verties,this.cachedRectVerties=Tr(this.verties),this.cachedItemMatrices=[],this.cachedChildren=[],this.ghosts=[],this.items.forEach(t=>{if(t.is("artboard"))this.cachedItemMatrices.push(t.matrix);else if(t.hasChildren()){const r=this.modelManager.getAllLayers(t.id).map(i=>i.matrix);this.cachedChildren.push(...r.map(i=>i.id)),this.cachedItemMatrices.push(...r)}else this.cachedItemMatrices.push(t.matrix);this.ghosts.push(t.absoluteMatrix)}),this.cachedArtBoardVerties=this.currentProject.artboards.map(t=>({item:t,matrix:t.matrix})),this.cachedCurrentItemMatrix=this.current.matrix,this.cachedCurrentChildrenItemMatrices=this.modelManager.getAllLayers(this.current.id).map(t=>t.matrix)}startToCacheChildren(){this.items.forEach(t=>{t.startToCacheChildren()})}recoverChildren(){this.items.forEach(t=>{t.recoverChildren()})}get verties(){return this.isOne?this.current.verties:this.rectVerties}get targetVerties(){return this.isOne?this.current.originVerties:qf(this.items)}get originVerties(){return this.rectVerties.filter((t,r)=>r<4)}get rectVerties(){return this.isEmpty?[]:va(this.items)}get itemRect(){const t=this.verties;return{x:t[0][0],y:t[0][1],width:Bt(t[0],t[1]),height:Bt(t[0],t[3])}}toCloneObject(){let t={};return this.each(r=>{t[r.id]=r.toCloneObject(!1)}),t}pack(...t){let r={};return this.each(i=>{r[i.id]={},t.forEach(s=>{r[i.id][s]=i[s]})}),r}packByIds(t,...r){let i={},s=[];t===null?s=this.items:(ht(t)||Array.isArray(t))&&(s=this.itemsByIds(t));const n={};return r.forEach(o=>{n[o]=!0}),s.forEach(o=>{i[o.id]=o.attrs(...r)}),i}packByValue(t,r=null){let i={},s=[];return r===null?s=this.items:(ht(r)||Array.isArray(r))&&(s=this.itemsByIds(r)),s.forEach(n=>{i[n.id]={},Object.keys(t).forEach(o=>{i[n.id][o]=ye(t[o])?t[o].call(t,n):t[o]})}),i}each(t){ye(t)&&this.items.forEach((r,i)=>{t(r)})}map(t){return ye(t)?this.items.map((r,i)=>t(r,i)):this.items}reset(t){Object.entries(t).forEach(([r,i])=>{var s;(s=this.get(r))==null||s.reset(i)})}resetCallback(t){this.each(r=>r.reset(t(r)))}resize(){this.each(t=>t.resize())}remove(){this.each(t=>t.remove()),this.empty()}copy(){console.warn("copy is deprecated"),this.copyItems=this.items.map(t=>t)}paste(){console.warn("paste is deprecated. use copy and paste"),this.select(...this.copyItems.map(t=>t.copy(10))),this.copy()}hasPoint(t){var r;return this.isMany?ns(this.originVerties,t[0],t[1]):(r=this.current)==null?void 0:r.hasPoint(t[0],t[1])}hasChildrenPoint(t){return this.cachedChildren.some(r=>{var i;return(i=this.modelManager.get(r))==null?void 0:i.hasPoint(t[0],t[1])})}checkChildren(t){return this.cachedChildren.includes(t)}checkHover(t){return ht(t)?this.hoverId===t:this.hoverItems.findIndex(r=>r.id===t.id)>-1}hasHoverItem(){return this.hoverId!==""}selectHoverItem(){this.select(this.hoverId)}setHoverId(t){let r=!1;return!t||this.itemKeys[t]?(this.hoverId!=""&&(r=!0),this.hoverId="",this.hoverItems=[]):this.cachedArtBoardVerties.find(i=>i.item.id===t)?(this.hoverId!=""&&(r=!0),this.hoverId="",this.hoverItems=[]):(this.hoverId!=t&&(r=!0),this.hoverId=t,this.hoverItems=this.itemsByIds([t]).filter(i=>i.isNot("artboard")),this.hoverItems.length===0&&(this.hoverId="",r=!0)),r&&this.$editor.emit("changeHoverItem"),r}is(...t){var r;return t.includes((r=this.current)==null?void 0:r.itemType)}isAll(...t){return this.items.every(r=>t.includes(r.itemType))}}class $_{constructor(t){this.$editor=t,this.selectedPointKeys={},this.selectedPointList=[]}get length(){return this.selectedPointList.length}initialize(){this.selectedPointKeys={},this.selectedPointList=[]}makeSegmentKey(t,r){return`${t}_${r}`}select(...t){this.selectedPointKeys={},this.selectedPointList=t.map(({key:r,index:i})=>({key:r,index:+i||0})),t.forEach(r=>{var i=this.makeSegmentKey(r.index,r.key);this.selectedPointKeys[i]=r})}toggleSegment(t,r){this.isSelectedSegment(r,t)?this.select(...this.selectedPointList.filter(i=>i.key!==r||i.index!==t)):this.select(...this.selectedPointList,{key:r,index:t})}toggleSelect(...t){t=t.map(n=>le(v({},n),{included:this.isSelectedSegment(n.index,n.key)}));const r=t.filter(n=>n.included),i=t.filter(n=>!n.included);let s=[...this.selectedPointList];r.length&&(s=this.selectedPointList.filter(n=>{const o=this.makeSegmentKey(n);return Boolean(r.find(l=>o===this.makeSegmentKey(l)))===!1})),this.select(...s,...i)}selectKeyIndex(t,r){this.isSelectedSegment(t,r)||this.select({key:r,index:t})}isSelectedSegment(t,r){var r=this.makeSegmentKey(t,r);return!!this.selectedPointKeys[r]}}class x_{constructor(t){this.$editor=t,this.items=[],this.itemKeys={}}initialize(){this.items=[],this.itemKeys={}}currentProject(t){var r=this.$editor.selection.currentProject;r&&t&&t(r)}empty(){this.select()}each(t){this.items.forEach((r,i)=>{t&&t(r,i)})}refreshCache(t){this.items=t,this.itemKeys={},this.items.forEach(r=>{this.itemKeys[r.id]=r})}cachedList(){return this.items.map(t=>v({},t))}checked(t){return!!this.itemKeys[t]}selectLayer(t){this.currentProject(r=>{var i=r.getKeyframeListReturnArray().filter(s=>s.layerId===t);this.refreshCache(i)})}toggleLayerContainer(t){this.currentProject(r=>{r.getSelectedTimeline().animations.filter(i=>i.id===t).forEach(i=>{i.collapsed=!i.collapsed})})}selectProperty(t,r){this.currentProject(i=>{var s=i.getKeyframeListReturnArray().filter(n=>n.layerId===t&&n.property===r);this.refreshCache(s)})}select(...t){this.refreshCache(t)}selectBySearch(t,r,i){this.currentProject(s=>{var n=[];t.forEach(l=>{var c=[];if(l.property){var h=s.getTimelineProperty(l.layerId,l.property);c=h.keyframes.filter(d=>r<=d.time&&d.time<=i)}else{var h=s.getTimelineObject(l.layerId);h.properties.filter(p=>p.property===l.property).forEach(p=>{c.push.apply(c,p.keyframes.filter(u=>r<=u.time&&u.time<=i))})}n.push.apply(n,c)});var o={};n.forEach(l=>{o[l.id]=l}),this.select(...Object.values(o))})}checkLayer(t){return Object.keys(this.itemKeys).some(r=>this.itemKeys[r].layerId===t)}checkProperty(t,r){return Object.keys(this.itemKeys).some(i=>this.itemKeys[i].layerId===t&&this.itemKeys[i].property===r)}}class __{constructor(t){this.$editor=t,this.currentIndex=-1,this.undoHistories=[],this.redoHistories=[],this.selection={}}get length(){return this.undoHistories.length}get selectedIds(){return Object.keys(this.selection)}createCommand(t){return this.$editor.stateManager.isPointerUp?`history.${t}`:t}saveSelection(t={}){this.selection=this.$editor.selection.toCloneObject()}getUndoValues(t={}){let r={};return Object.keys(this.selection).forEach(i=>{r[i]={},Object.keys(t).forEach(s=>{r[i][s]=this.selection[i][s]})}),r}getUndoValuesForMulti(t={}){let r={};return Object.keys(t).forEach(i=>{r[i]={};const s=this.selection[i]||this.$editor.selection.itemsByIds(i)[0],n=t[i];Object.keys(n).forEach(o=>{r[i][o]=s[o]})}),r}add(t,r,i){const s=performance.now(),n=this.undoHistories[this.undoHistories.length-1],o={message:t,command:r,data:i,time:s};return n&&n.message===t&&s-n.time<this.$editor.config.get("history.delay.ms")?this.undoHistories[this.undoHistories.length-1]=o:(this.undoHistories.push(o),this.currentIndex++,this.undoHistories.length=this.currentIndex+1),this.$editor.emit("refreshHistory",r.command),o}map(t){return[...this.undoHistories.map(t),"-",...this.redoHistories.map(t)].reverse()}undo(){if(this.currentIndex<-1)return;this.currentIndex===this.length&&this.currentIndex--;const t=this.undoHistories[this.currentIndex];t&&t.command&&(t.command.undo(this.$editor,t.data),this.currentIndex--,this.$editor.nextTick(()=>{this.$editor.emit("refreshHistory",t.command)}))}redo(){if(this.currentIndex>this.length)return;this.currentIndex<0&&this.currentIndex++;const t=this.undoHistories[this.currentIndex];t&&t.command&&(this.currentIndex++,t.command.redo(this.$editor,t.data),this.$editor.debug(t),this.$editor.nextTick(()=>{this.$editor.emit("refreshHistory",t.command)}))}}class S_{constructor(t){this.editor=t,this.codeSet=new Set,this.keyCodeSet=new Set}add(t,r){this.codeSet.has(t)===!1&&this.codeSet.add(t),this.keyCodeSet.has(r)===!1&&this.keyCodeSet.add(r)}remove(t,r){this.codeSet.delete(t),this.keyCodeSet.delete(r)}hasKey(t){return this.codeSet.has(t)||this.keyCodeSet.has(t)}check(...t){return t.some(r=>this.hasKey(r))}}class w_{constructor(t){this.editor=t,this.canvasSize=null,this.cachedViewport=wt(0,0,0,0),this.mouse=ci(),this.scale=1,this.translate=ci(),this.transformOrigin=ci(),this.maxScale=250,this.minScale=.2,this.zoomFactor=1,this.resetWorldMatrix()}setTransformOrigin(t){this.transformOrigin=t,this.resetWorldMatrix()}setTransformOriginWithTranslate(t){const r=Ft(this.transformOrigin);this.setTransformOrigin(t),this.setTranslate(we([],this.translate,Te([],r,t)))}setScale(t){this.scale=Math.min(Math.max(this.minScale,t),this.maxScale),this.resetWorldMatrix()}setTranslate(t){this.translate=t,this.resetWorldMatrix()}resetWorldMatrix(){this.translate=this.translate.map(t=>+t.toFixed(4)),this.transformOrigin=this.transformOrigin.map(t=>+t.toFixed(4)),this.scale=+this.scale.toFixed(4),this.matrix=Wt(ut([],this.translate),ut([],this.transformOrigin),Nr([],[this.scale,this.scale,1]),ut([],At([],this.transformOrigin))),this.matrixInverse=It([],this.matrix),this.scaleMatrix=Wt(Nr([],[this.scale,this.scale,1])),this.scaleMatrixInverse=It([],this.scaleMatrix),this.refresh()}refreshCanvasSize(t){if(this.canvasSize){this.canvasSize=t,this.cachedViewport=wt(0,0,this.canvasSize.width,this.canvasSize.height);const r=Ye([],[this.canvasSize.width,this.canvasSize.height,0],this.scaleMatrixInverse),i=we([],this.verties[0],[r[0]/2,r[1]/2,0]),s=Ci([],Wt(this.matrix,hi(ut([],i),this.scaleMatrix,It([],ut([],i)))));this.setTranslate(s),this.setTransformOrigin(i)}else this.canvasSize=t,this.cachedViewport=wt(0,0,this.canvasSize.width,this.canvasSize.height),this.setTransformOrigin([this.canvasSize.width/2,this.canvasSize.height/2,0]);this.editor.emit("updateViewport")}refresh(){this.cachedViewport&&(this.verties=ce(this.cachedViewport,this.matrixInverse))}getWorldPosition(t){return t=t||this.editor.config.get("bodyEvent"),t?this.createWorldPosition(t.clientX,t.clientY):this.createWorldPosition(0,0)}createWorldPosition(t,r){if(!this.canvasSize)return ci();const i={x:t-this.canvasSize.x,y:r-this.canvasSize.y},s=this.verties[0][0]+(this.verties[2][0]-this.verties[0][0])*(i.x/this.canvasSize.width),n=this.verties[0][1]+(this.verties[2][1]-this.verties[0][1])*(i.y/this.canvasSize.height);return[s,n,0]}setMousePoint(t,r){this.mouse=this.createWorldPosition(t,r),this.setTransformOriginWithTranslate(ne([],this.verties[0],this.verties[2],.5)),this.editor.emit("updateViewport")}zoom(t){const r=this.scale,i=r*t;this.setScale(i);const s=this.scale/r;this.zoomFactor=s,s!==1&&(this.setTransformOriginWithTranslate(ne([],this.mouse,this.transformOrigin,1/t)),this.editor.emit("updateViewport"))}pan(t,r,i=0){this.setTransformOriginWithTranslate(we([],this.transformOrigin,[t,r,0])),this.editor.emit("updateViewport")}moveToCenter(t,r=-.2,i=!0){const s=ne([],t[0],t[2],.5),n=he(t[0],t[1]),o=he(t[0],t[3]),l=ne([],this.verties[0],this.verties[2],.5),c=he(this.verties[0],this.verties[1]),h=he(this.verties[0],this.verties[3]),d=i?Math.min(c/n,h/o)+r:1;this.setTranslate(we([],this.translate,Te([],l,s))),this.setTransformOrigin(s),this.setScale(this.scale*d),this.editor.emit("updateViewport")}get pos(){const t=(this.mouse[0]-this.verties[0][0])/(this.verties[2][0]-this.verties[0][0])*100,r=(this.mouse[1]-this.verties[0][1])/(this.verties[2][1]-this.verties[0][1])*100;return[t,r,0]}get minX(){return this.verties[0][0]}get maxX(){return this.verties[2][0]}get minY(){return this.verties[0][1]}get maxY(){return this.verties[2][1]}get center(){return this.verties[4]}get height(){return this.maxY-this.minY}get width(){return this.maxX-this.minX}checkInViewport(t){const r=this.minX<t[0]&&t[0]<this.maxX,i=this.minY<t[1]&&t[1]<this.maxY;return r&&i}applyVertex(t){return Ye([],t,this.matrix)}applyVertexInverse(t){return Ye([],t,this.matrixInverse)}applyScaleVertex(t){return Ye([],t,this.scaleMatrix)}applyScaleVertexInverse(t){return Ye([],t,this.scaleMatrixInverse)}applyVerties(t){return ce(t,this.matrix)}applyScaleVerties(t){return ce(t,this.scaleMatrix)}applyVertiesInverse(t){return ce(t,this.matrixInverse)}applyScaleVertiesInverse(t){return ce(t,this.scaleMatrixInverse)}createAreaVerties(t,r,i,s){return this.applyVertiesInverse(Zf(t,r,i,s))}zoomIn(t=.01){this.setScale(this.scale+t),this.editor.emit("updateViewport")}zoomOut(t=.01){this.zoomIn(-t)}zoomDefault(){this.setScale(1),this.editor.emit("updateViewport")}}function T(a,t){const r=Object.assign({width:24,height:24},t);return`
        <svg 
            xmlns="http://www.w3.org/2000/svg" 
            width="${r.width}" 
            height="${r.height}" 
            viewBox="0 0 ${r.viewBoxWidth||r.width} ${r.viewBoxHeight||r.height}">${a}</svg>`}var P_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:T}),C_=T('<path d="M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"/>'),k_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:C_}),T_=T('<path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>'),M_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:T_}),I_=T('<path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/>'),E_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:I_}),L_=T('<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/>'),V_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L_}),R_=T('<path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"/>'),z_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R_}),j_=T('<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>'),A_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j_}),O_=T('<polygon points="11,2 13,2 13,7 21,7 21,10 13,10 13,14 18,14 18,17 13,17 13,22 11,22 11,17 6,17 6,14 11,14 11,10 3,10 3,7 11,7"/>'),D_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:O_}),F_=T('<path d="M4,22H2V2h2V22z M22,7H6v3h16V7z M16,14H6v3h10V14z"/>'),B_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:F_}),N_=T('<path d="M20,2h2v20h-2V2z M2,10h16V7H2V10z M8,17h10v-3H8V17z"/>'),G_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:N_}),H_=T('<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>'),U_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:H_}),X_=T('<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>'),Y_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X_}),W_=T('<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>'),K_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W_}),Z_=T('<path d="M22,22H2v-2h20V22z M10,2H7v16h3V2z M17,8h-3v10h3V8z"/>'),q_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z_}),Q_=T('<polygon points="22,11 17,11 17,6 14,6 14,11 10,11 10,3 7,3 7,11 1.84,11 1.84,13 7,13 7,21 10,21 10,13 14,13 14,18 17,18 17,13 22,13"/>'),J_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q_}),eS=T('<path d="M22,2v2H2V2H22z M7,22h3V6H7V22z M14,16h3V6h-3V16z"/>'),tS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eS}),rS=T('<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/>'),iS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rS}),sS=T('<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z" />'),aS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sS}),nS=T('<path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"/>'),oS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nS}),lS=T('<path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"/>'),cS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lS}),hS=T('<path d="M14 7l-5 5 5 5V7z"/>'),dS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hS}),uS=T('<path d="M10 17l5-5-5-5v10z"/>'),pS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uS}),gS=T('<path d="M10 17l5-5-5-5v10z"/>'),fS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gS}),mS=T('<path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/>'),vS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mS}),yS=T('<path d="M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"/>'),bS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yS}),$S=T('<path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"/>'),xS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$S}),_S=T('<clipPath><use xlink:href="#a" overflow="visible"/></clipPath><path fill-rule="evenodd" clip-rule="evenodd" d="M13 9.5h5v-2h-5v2zm0 7h5v-2h-5v2zm6 4.5H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2zM6 11h5V6H6v5zm1-4h3v3H7V7zM6 18h5v-5H6v5zm1-4h3v3H7v-3z"/>'),SS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_S}),wS=T('<path d="M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z"/>'),PS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wS}),CS=T('<path d="M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"/>'),kS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:CS}),TS=T('<path d="M5 17.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM3 21h18v-2H3v2zM5 9.5c.83 0 1.5-.67 1.5-1.5S5.83 6.5 5 6.5 3.5 7.17 3.5 8 4.17 9.5 5 9.5zm0 4c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 17c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8-.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM3 3v2h18V3H3zm14 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm0 4c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM13 9c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z"/>'),MS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:TS}),IS=T('<path d="M 20 10L 30 10L 30 30L 10 30L 10 20L 20 20L 20 10Z M 0 0L 20 0L 20 20L 0 20L 0 0Z  M 2 2L 2 18L 18 18L 18 2L 2 2Z" />',{width:30,height:30}),ES=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IS}),LS=T(`<path d="
    M 10 10L 30 10L 30 30L 10 30L 10 10Z 
    M 20 12L 18 18L 12 18L 12 28L 28 28L 28 12L 12 12Z 
    M 0 0L 20 0L 20 20L 0 20L 0 0Z  
    M 2 2L 2 18L 18 18L 18 2L 2 2Z
" />`,{width:30,height:30}),VS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:LS}),RS=T('<path d="M 0 0L 20 0L 20 20L 0 20L 0 0Z M 10 10L 30 10L 30 30L 10 30L 10 10Z"/>',{width:30,height:30}),zS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RS}),jS=T(`<path d="
    M 10 10L 30 10L 30 30L 10 30L 10 10Z
    M 0 0L 20 0L 20 20L 0 20L 0 0Z 
" fill-rule="evenodd"/>`,{width:30,height:30}),AS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jS}),OS=T('<path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1z"/>'),DS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OS}),FS=T('<path d="M3 5v3c0 .55.45 1 1 1s1-.45 1-1V6c0-.55.45-1 1-1h2c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2zm1 10c-.55 0-1 .45-1 1v3c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1-.45-1-1v-2c0-.55-.45-1-1-1zm15 3c0 .55-.45 1-1 1h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v2zm0-15h-3c-.55 0-1 .45-1 1s.45 1 1 1h2c.55 0 1 .45 1 1v2c0 .55.45 1 1 1s1-.45 1-1V5c0-1.1-.9-2-2-2z"/>'),BS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FS}),NS=T('<path d="M15 21h2v-2h-2v2zm4 0h2v-2h-2v2zM7 21h2v-2H7v2zm4 0h2v-2h-2v2zm8-4h2v-2h-2v2zm0-4h2v-2h-2v2zM3 3v18h2V5h16V3H3zm16 6h2V7h-2v2z"/>'),GS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:NS}),HS=T('<path d="M4,20 L20,20Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />'),US=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:HS}),XS=T('<path d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z"/>'),YS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:XS}),WS=T('<path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"/>'),KS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:WS}),ZS=T('<path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>'),qS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ZS}),QS=T('<path d="M14 5c0-1.1-.9-2-2-2h-1V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2h8V5h-8zm-2 13h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2z"/>'),JS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:QS}),e5=T(`
<path d="M712.4846,631.2673c-8.3777-59.9758-44.6997-121.2822-117.7703-198.7816
	c-51.7295-54.8649-72.0865-105.7791-55.8514-139.6883c12.4393-25.9817,42.587-35.8935,65.343-34.1103
	c26.3435,2.0661,37.3148,18.5905,41.88,32.0888c6.5847,19.471,2.7829,43.5175-8.4753,53.6029
	c-2.4382,2.1843-19.5444,15.6083-31.617,2.486c-16.0995-17.4994,1.3123-34.1181,1.3123-34.1181s25.7198-19.4211,11.5477-34.6431
	c-14.1721-15.2219-81.6211,4.7241-73.1766,62.9098c2.102,14.4833,9.8525,35.0453,41.7667,49.9105
	c31.3411,14.5985,62.0806,11.5356,84.3365-8.4017c26.8387-24.0431,36.221-68.5172,22.8163-108.1526
	c-13.0433-38.5685-45.3375-63.5167-86.387-66.7359c-22.4584-1.7602-45.9053,2.9182-66.0231,13.1776
	c-22.1882,11.3155-39.3094,28.5606-49.5124,49.8713c-15.207,31.7608-27.0118,99.5788,64.7797,196.9337
	c64.4428,68.3486,97.5892,122.6011,104.3126,170.7358c6.1263,43.8577-32.9753,141.2908-59.1734,141.8642
	c-18.2653,0.3997-13.0681-28.0174-11.1219-46.1832c3.4623-32.3166,9.02-64.4668,7.8147-96.946
	c-1.7692-47.6774-16.0649-83.7216-38.2463-125.1911c-20.1995-37.7643-37.8974-60.6029-92.5699-111.4463
	c-13.4884-12.5438-27.4699-22.5866-44.7675-38.1754c-17.5431-15.8101-21.9685-33.5474-24.195-48.6835
	c-4.6472-31.5926,5.266-35.0392,22.933-61.1816c7.51,6.1134,15.132,13.1576,22.5878,21.2593
	c0.8908,0.9678,2.1063,1.4586,3.3257,1.4586c1.0938,0,2.1906-0.3947,3.059-1.1939c1.8362-1.6895,1.9548-4.548,0.2647-6.3846
	c-8.043-8.7399-16.2394-16.2892-24.29-22.8068c1.0196-1.6815,1.9806-3.3693,2.913-5.06
	c11.2809,3.873,22.4781,8.5857,32.8744,14.3263c0.6923,0.3824,1.4415,0.5638,2.1804,0.5638c1.592,0,3.1354-0.8433,3.9596-2.3353
	c1.2061-2.1848,0.4133-4.9333-1.7714-6.14c-10.5501-5.8255-21.7927-10.625-33.0861-14.5846
	c1.7051-3.6655,3.2152-7.3481,4.5178-11.0449c9.9095,1.0547,20.2559,2.6507,30.8756,4.9542
	c2.4407,0.5281,4.8451-1.0193,5.3736-3.4585c0.5285-2.4387-1.0193-4.8446-3.4586-5.3736
	c-10.3543-2.2456-20.4231-3.8448-30.0823-4.9431c6.761-25.5357,4.0583-51.5754-8.0207-76.8648
	C448.2098,115.8869,474.731,76.8288,466.0513,18c-68.8775,17.9071-87.2624,54.1776-94.1043,50.875
	c-7.9472-3.8361-40.5018-11.036-62.952-10.6586c-37.278,0.6267-61.382,7.0395-61.382,7.0395
	c-11.2537-14.6686-35.9431-36.6889-90.105-41.2683c2.9433,47.1602,13.4346,82.2557,28.5291,102.9373l-0.7433,2.377
	c-11.7879,32.4393-13.5817,62.8858-3.8016,89.6451c-9.0883,1.1019-18.5685,2.7173-28.321,4.9987
	c-2.4299,0.5687-3.939,2.9991-3.3708,5.429c0.5687,2.4294,2.9972,3.939,5.429,3.3708c10.3087-2.4115,20.3424-4.0428,29.9266-5.0891
	c1.4184,2.9763,2.9836,5.904,4.7147,8.7755c-11.2262,4.119-22.4456,9.1879-32.9296,15.4312
	c-2.1445,1.2767-2.8476,4.0498-1.5704,6.1939c0.8453,1.4199,2.3461,2.2073,3.8866,2.2073c0.7859,0,1.5827-0.2054,2.3073-0.6369
	c10.5541-6.2849,22.0078-11.3381,33.4798-15.4008c3.3157,4.5403,7.0729,8.9251,11.2576,13.1527
	c-5.6694,5.3088-11.3757,11.2216-17,17.8125c-1.6199,1.8979-1.3944,4.7505,0.504,6.3699c0.8507,0.7266,1.8935,1.0816,2.931,1.0816
	c1.2767,0,2.5456-0.5383,3.4389-1.5856c5.5062-6.4525,11.1144-12.2327,16.692-17.4078c5.7832,5.4212,11.3758,11.1287,15.514,17.8627
	c7.8208,12.7265,8.3216,25.8196,6.7598,40.6753c-3.119,29.6671-13.4278,58.0414-20.0391,87.1301
	c-16.8163,73.989-9.0635,132.7513,20.7169,202.5388c8.0053,18.7598,17.5698,36.9144,23.7843,56.341
	c10.5081,32.8488,7.8436,88.3559,8.2697,122.8419v2.9318c0,0-19.9931,0.1384-28.4717,6.0748
	c-8.2555,5.7802-10.3883,21.931-4.3929,28.6906c6.6872,7.5395,21.6739,10.6397,31.6837,11.8093
	c119.664,13.9824,293.6021-2.6707,341.7446-8.3345C701.2023,821.2982,721.1432,693.2562,712.4846,631.2673z M437.2106,66.5267
	c-0.1946,33.6617-23.5064,50.7886-23.5064,50.7886c-6.2684-17.19-21.1558-25.3943-21.1558-25.3943
	C408.2194,68.8708,437.2106,66.5267,437.2106,66.5267z M201.6607,103.3024c0,0-19.8527-14.6264-20.0184-43.3732
	c0,0,24.6894,2.0019,38.035,21.6866C219.6773,81.6158,206.999,88.6223,201.6607,103.3024z M215.969,158.6876
	c15.0275-4.1452,27.2506-3.8264,37.1033-1.1182c-15.9193,16.5729-7.4137,31.0502-3.2583,36.286
	C221.2402,186.9178,215.969,158.6876,215.969,158.6876z M252.8369,194.4974c13.6546-17.1619,7.1357-30.6827,3.4758-35.9226
	c24.8589,8.5877,33.2057,32.5095,33.2057,32.5095C274.4792,195.6167,262.4471,196.221,252.8369,194.4974z M308.1766,232.8661
	c-4.1644,0.2111-22.0216-7.8084-21.8634-21.8635c0.1244-11.0539,40.2451-7.8568,42.1652,0
	C330.8523,220.7164,312.3411,232.655,308.1766,232.8661z M327.2252,191.0843c0,0,8.7972-25.2037,35.2186-33.1565
	c-12.424,19.1432-1.5466,31.7233,3.55,36.1478C356.055,196.2867,343.3752,195.9514,327.2252,191.0843z M369.7458,193.0825
	c10.0879-20.4091-1.0878-32.4358-4.9794-35.7968c9.66-2.4378,21.5306-2.5917,36.0081,1.4018
	C400.7746,158.6876,395.8536,185.0439,369.7458,193.0825z"/>
`),t5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:e5}),r5=T(`
    <path d="M12,4 L12,20Z M6,10 L18,10 L18,14 L6,14Z" stroke-width="1" />
`),i5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:r5}),s5=T('<path d="M9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4zm2.5 2.1h-15V5h15v14.1zm0-16.1h-15c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>'),a5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:s5}),n5=T('<path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>'),o5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:n5}),l5=T('<path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>'),c5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:l5}),h5=T(`
    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/>
`),d5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:h5}),u5=T('<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>'),p5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:u5}),g5=T('<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>'),f5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:g5}),m5=T('<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>'),v5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:m5}),y5=T('<path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>'),b5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:y5}),$5=T('<path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>'),x5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$5}),_5=T('<path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>'),S5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_5}),w5=T('<path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"/>'),P5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:w5}),C5=T(`
    <path d="M22 6H12l-2-2H2v16h20V6zm-3 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"/>
`),k5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:C5}),T5=T('<path d="M21 16.5a1 1 0 0 1-.527.881l-7.907 4.443a.996.996 0 0 1-1.132 0l-7.907-4.443A1 1 0 0 1 3 16.5v-9a1 1 0 0 1 .527-.881l7.907-4.443a.995.995 0 0 1 1.132 0l7.907 4.443A1 1 0 0 1 21 7.5v9zM12 4.15L6.042 7.5l5.96 3.35 5.958-3.35-5.958-3.35zM5 15.916l6 3.372V12.58L5 9.209v6.706zm14 0V9.209l-6 3.372v6.707l6-3.373z" />'),M5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:T5}),I5=T(`
<g class="cylinder">
<path d="M 12 0 C 7.636719 0 3 1.226562 3 3.5 L 3 20.5 C 3 22.773438 7.636719 24 12 24 C 16.363281 24 21 22.773438 21 20.5 L 21 3.5 C 21 1.226562 16.363281 0 12 0 Z M 20 19.121094 C 19.921875 19.140625 19.84375 19.171875 19.78125 19.230469 C 19.574219 19.414062 19.554688 19.726562 19.738281 19.933594 C 19.914062 20.128906 20 20.320312 20 20.5 C 20 21.542969 16.957031 23 12 23 C 7.042969 23 4 21.542969 4 20.5 C 4 20.320312 4.085938 20.128906 4.261719 19.933594 C 4.445312 19.726562 4.425781 19.410156 4.21875 19.226562 C 4.15625 19.171875 4.078125 19.140625 4 19.121094 L 4 5.160156 C 5.59375 6.363281 8.863281 7 12 7 C 15.136719 7 18.40625 6.363281 20 5.160156 Z M 12 6 C 7.042969 6 4 4.542969 4 3.5 C 4 2.457031 7.042969 1 12 1 C 16.957031 1 20 2.457031 20 3.5 C 20 4.542969 16.957031 6 12 6 Z M 12 6 "/>
</g>
`),E5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:I5}),L5=T('<path d="M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z"/>'),V5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L5}),R5=T('<path d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/>'),z5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R5}),j5=T('<path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"/>'),A5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j5}),O5=T('<path d="M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"/>'),D5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:O5}),F5=T('<path d="M5 14.5h14v-6H5v6zM11 .55V3.5h2V.55h-2zm8.04 2.5l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM13 22.45V19.5h-2v2.95h2zm7.45-3.91l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM3.55 4.46l1.79 1.79 1.41-1.41-1.79-1.79-1.41 1.41zm1.41 15.49l1.79-1.8-1.41-1.41-1.79 1.79 1.41 1.42z"/>'),B5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:F5}),N5=T('<path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/>'),G5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:N5}),H5=T('<path d="M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>'),U5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:H5}),X5=T('<path d="M18.85,10.39l1.06-1.06c0.78-0.78,0.78-2.05,0-2.83L18.5,5.09c-0.78-0.78-2.05-0.78-2.83,0l-1.06,1.06L18.85,10.39z M14.61,11.81L7.41,19H6v-1.41l7.19-7.19L14.61,11.81z M13.19,7.56L4,16.76V21h4.24l9.19-9.19L13.19,7.56L13.19,7.56z M19,17.5 c0,2.19-2.54,3.5-5,3.5c-0.55,0-1-0.45-1-1s0.45-1,1-1c1.54,0,3-0.73,3-1.5c0-0.47-0.48-0.87-1.23-1.2l1.48-1.48 C18.32,15.45,19,16.29,19,17.5z M4.58,13.35C3.61,12.79,3,12.06,3,11c0-1.8,1.89-2.63,3.56-3.36C7.59,7.18,9,6.56,9,6 c0-0.41-0.78-1-2-1C5.74,5,5.2,5.61,5.17,5.64C4.82,6.05,4.19,6.1,3.77,5.76C3.36,5.42,3.28,4.81,3.62,4.38C3.73,4.24,4.76,3,7,3 c2.24,0,4,1.32,4,3c0,1.87-1.93,2.72-3.64,3.47C6.42,9.88,5,10.5,5,11c0,0.31,0.43,0.6,1.07,0.86L4.58,13.35z" />'),Y5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X5}),W5=T('<path d="M15,5l-1.41,1.41L18.17,11H2V13h16.17l-4.59,4.59L15,19l7-7L15,5z"/>'),K5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W5}),Z5=T('<path d="M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>'),q5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z5}),Q5=T('<path transform="translate(24,0) scale(-1, 1)" d="M14.59,7.41L18.17,11H6v2h12.17l-3.59,3.59L16,18l6-6l-6-6L14.59,7.41z M2,6v12h2V6H2z"/>'),J5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q5}),ew=T('<path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>'),tw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ew}),rw=T('<path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/>'),iw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rw}),sw=T('<path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"/>'),aw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sw}),nw=T('<path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"/>'),ow=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nw}),lw=T('<path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"/>'),cw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lw}),hw=T('<path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/>'),dw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hw}),uw=T('<path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"/>'),pw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uw}),gw=T('<path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"/>'),fw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gw}),mw=T('<path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/>'),vw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mw}),yw=T('<path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"/>'),bw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yw}),$w=T('<path d="M7 2v11h3v9l7-12h-4l4-8z"/>'),xw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$w}),_w=T('<path d="M4,9v2h16V9H4z M16,4l-1.41-1.41L13,4.17V1h-2v3.19L9.39,2.61L8,4l4,4L16,4z M4,14h16v-2H4V14z M8,19l1.39,1.39L11,18.81 V22h2v-3.17l1.59,1.59L16,19l-4-4L8,19z"/>'),Sw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_w}),ww=T('<path d="M3,5v14h18V5H3z M8.33,17H5V7h3.33V17z M13.67,17h-3.33V7h3.33V17z M19,17h-3.33V7H19V17z"/>'),Pw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ww}),Cw=T('<path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"/>'),kw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Cw}),Tw=T('<path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"/>'),Mw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Tw}),Iw=T(`
    <path d="M9,12c0,1.66,1.34,3,3,3s3-1.34,3-3s-1.34-3-3-3S9,10.34,9,12z"/>
    <path d="M8,10V8H5.09C6.47,5.61,9.05,4,12,4c3.72,0,6.85,2.56,7.74,6h2.06c-0.93-4.56-4.96-8-9.8-8C8.73,2,5.82,3.58,4,6.01V4H2v6
        H8z"/>
    <path d="M16,14v2h2.91c-1.38,2.39-3.96,4-6.91,4c-3.72,0-6.85-2.56-7.74-6H2.2c0.93,4.56,4.96,8,9.8,8c3.27,0,6.18-1.58,8-4.01V20
        h2v-6H16z"/>
`),Ew=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Iw}),Lw=T('<path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>'),Vw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Lw}),Rw=T('<path d="M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-4.05 16.5l-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13h-2.09z"/>'),zw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rw}),jw=T('<path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"/>'),Aw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jw}),Ow=T('<path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>'),Dw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ow}),Fw=T('<path d="M6 7h2.5L5 3.5 1.5 7H4v10H1.5L5 20.5 8.5 17H6V7zm4-2v2h12V5H10zm0 14h12v-2H10v2zm0-6h12v-2H10v2z"/>'),Bw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fw}),Nw=T('<path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z"/>'),Gw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Nw}),Hw=T('<path d="M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z"/>'),Uw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hw}),Xw=T('<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>'),Yw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xw}),Ww=T('<path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>'),Kw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ww}),Zw=T('<path d="M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"/>'),qw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zw}),Qw=T('<path d="M3,3v8h8V3H3z M9,9H5V5h4V9z M3,13v8h8v-8H3z M9,19H5v-4h4V19z M13,3v8h8V3H13z M19,9h-4V5h4V9z M13,13v8h8v-8H13z M19,19h-4v-4h4V19z"/>'),Jw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qw}),eP=T('<path d="M20,10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4H20z M14,14h-4v-4h4V14z"/>'),tP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eP}),rP=T(`
        <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>
    `),iP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rP}),sP=T('<polygon points="13,6.99 16,6.99 12,3 8,6.99 11,6.99 11,17.01 8,17.01 12,21 16,17.01 13,17.01"/>'),aP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sP}),nP=T('<path d="M17,5h-2V3h2V5z M15,15v6l2.29-2.29L19.59,21L21,19.59l-2.29-2.29L21,15H15z M19,9h2V7h-2V9z M19,13h2v-2h-2V13z M11,21h2 v-2h-2V21z M7,5h2V3H7V5z M3,17h2v-2H3V17z M5,21v-2H3C3,20.1,3.9,21,5,21z M19,3v2h2C21,3.9,20.1,3,19,3z M11,5h2V3h-2V5z M3,9h2 V7H3V9z M7,21h2v-2H7V21z M3,13h2v-2H3V13z M3,5h2V3C3.9,3,3,3.9,3,5z"/>'),oP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nP}),lP=T('<path d="M4,22H2V2h2V22z M22,2h-2v20h2V2z M13.5,7h-3v10h3V7z"/>'),cP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lP}),hP=T('<rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>'),dP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hP}),uP=T('<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>'),pP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uP}),gP=T('<path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"/>'),fP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gP}),mP=T('<path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"/>'),vP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mP}),yP=T(`
<g>
    <g>
        <ellipse cx="12" cy="12" rx="3" ry="5.74"/>
        <path d="M7.5,12c0-0.97,0.23-4.16,3.03-6.5C9.75,5.19,8.9,5,8,5c-3.86,0-7,3.14-7,7s3.14,7,7,7c0.9,0,1.75-0.19,2.53-0.5 C7.73,16.16,7.5,12.97,7.5,12z"/><path d="M16,5c-0.9,0-1.75,0.19-2.53,0.5c2.8,2.34,3.03,5.53,3.03,6.5c0,0.97-0.23,4.16-3.03,6.5C14.25,18.81,15.1,19,16,19 c3.86,0,7-3.14,7-7S19.86,5,16,5z"/>
    </g>
</g>
`),bP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yP}),$P=T(`
<ellipse cx="12" cy="12" rx="3" ry="5.74"/>
<path d="M16.5,12c0,0.97-0.23,4.16-3.03,6.5C14.25,18.81,15.1,19,16,19c3.86,0,7-3.14,7-7s-3.14-7-7-7c-0.9,0-1.75,0.19-2.53,0.5 C16.27,7.84,16.5,11.03,16.5,12z"/></g><g><path d="M8,19c0.9,0,1.75-0.19,2.53-0.5c-0.61-0.51-1.1-1.07-1.49-1.63C8.71,16.95,8.36,17,8,17c-2.76,0-5-2.24-5-5s2.24-5,5-5 c0.36,0,0.71,0.05,1.04,0.13c0.39-0.56,0.88-1.12,1.49-1.63C9.75,5.19,8.9,5,8,5c-3.86,0-7,3.14-7,7S4.14,19,8,19z"/>
`),xP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$P}),_P=T('<path d="M15,7v10H9V7H15z M21,5h-3v14h3V5z M17,5H7v14h10V5z M6,5H3v14h3V5z"/>'),SP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_P}),wP=T('<path d="M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"/>'),PP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wP}),CP=T('<path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>'),kP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:CP}),TP=T('<path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"/>'),MP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:TP}),IP=T('<path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>'),EP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IP}),LP=T('<path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"/>'),VP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:LP}),RP=T('<path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"/>'),zP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RP}),jP=T(`
        <path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>
    `),AP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jP}),OP=T('<path d="M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"/>'),DP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OP}),FP=T('<path d="M19 7h-8v6h8V7zm-2 4h-4V9h4v2zm4-8H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"/>'),BP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FP}),NP=T('<path d="M20,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M8,18H4V6h4V18z M14,18h-4V6h4V18z M20,18h-4V6h4V18z"/>'),GP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:NP}),HP=T('<path d="M3,3v8h8V3H3z M9,9H5V5h4V9z M3,13v8h8v-8H3z M9,19H5v-4h4V19z M13,3v8h8V3H13z M19,9h-4V5h4V9z M13,13v8h8v-8H13z M19,19h-4v-4h4V19z"/>'),UP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:HP}),XP=T('<path d="M2,4 L2,20Z M6,10 L16,10 L16,14 L6,14Z" stroke-width="1" />'),YP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:XP}),WP=T('<path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"/>'),KP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:WP}),ZP=T('<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/>'),qP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ZP}),QP=T('<path d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/>'),JP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:QP}),eC=T(`
        <rect class="base" width="13" height="12" x="3" y="2" fill="transparent" fill-rule="nonzero"></rect>
        <path fill="currentColor" fill-rule="nonzero" d="M3.5,6.06300874 C4.20280365,6.2438979 4.7561021,6.79719635 4.93699126,7.5 L16,7.5 L16,8.5 L4.93699126,8.5 C4.7561021,9.20280365 4.20280365,9.7561021 3.5,9.93699126 L3.5,13.5 L16,13.5 L16,14.5 L2.5,14.5 L2.5,9.93699126 C1.63738639,9.71496986 1,8.93191971 1,8 C1,7.06808029 1.63738639,6.28503014 2.5,6.06300874 L2.5,1.5 L16,1.5 L16,2.5 L3.5,2.5 L3.5,6.06300874 Z"></path>
    `,{width:18,height:16}),tC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eC}),rC=T(`
        <path class="base" fill="transparent" fill-rule="nonzero" d="M8,2 L16,2 L16,14 L8,14 C4.6862915,14 2,11.3137085 2,8 L2,8 C2,4.6862915 4.6862915,2 8,2 Z"></path>
        <path fill="currentColor" fill-rule="nonzero" d="M9.93699126,8.5 C9.71496986,9.36261361 8.93191971,10 8,10 C6.8954305,10 6,9.1045695 6,8 C6,6.8954305 6.8954305,6 8,6 C8.93191971,6 9.71496986,6.63738639 9.93699126,7.5 L16,7.5 L16,8.5 L9.93699126,8.5 Z M16,13.5 L16,14.5 L8,14.5 C4.41014913,14.5 1.5,11.5898509 1.5,8 C1.5,4.41014913 4.41014913,1.5 8,1.5 L16,1.5 L16,2.5 L8,2.5 C4.96243388,2.5 2.5,4.96243388 2.5,8 C2.5,11.0375661 4.96243388,13.5 8,13.5 L16,13.5 Z"></path>
    `,{width:18,height:16}),iC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rC}),sC=T(`
        <rect class="base" width="14" height="12" x="2" y="2" fill="transparent" fill-rule="nonzero"></rect>
        <path fill="currentColor" fill-rule="nonzero" d="M9.93699126,8.5 C9.71496986,9.36261361 8.93191971,10 8,10 C6.8954305,10 6,9.1045695 6,8 C6,6.8954305 6.8954305,6 8,6 C8.93191971,6 9.71496986,6.63738639 9.93699126,7.5 L16,7.5 L16,8.5 L9.93699126,8.5 Z M2.5,13.5 L16,13.5 L16,14.5 L1.5,14.5 L1.5,1.5 L16,1.5 L16,2.5 L2.5,2.5 L2.5,13.5 Z"></path>
    `,{width:18,height:16}),aC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sC}),nC=T('<path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"/>'),oC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nC}),lC=T('<g fill="none" fill-rule="evenodd"><polygon class="base" fill="transparent" fill-rule="nonzero" points="2 14.5 2 7.538 7.382 1.5 16 1.5 16 14.5"></polygon><path fill="currentColor" fill-rule="nonzero" d="M2.96551724,7.95245414 L2.96551724,14.5 L2,14.5 L2,7.53775146 L7.38172454,1.5 L16,1.5 L16,2.46 L7.76471206,2.46 L2.96551724,7.95245414 Z M10.9369913,9 C10.7561021,9.70280365 10.2028036,10.2561021 9.5,10.4369913 L9.5,14.5 L8.5,14.5 L8.5,10.4369913 C7.63738639,10.2149699 7,9.43191971 7,8.5 C7,7.3954305 7.8954305,6.5 9,6.5 C9.93191971,6.5 10.7149699,7.13738639 10.9369913,8 L16,8 L16,9 L10.9369913,9 Z"></path></g>',{width:18,height:16}),cC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lC}),hC=T('<g fill="none" fill-rule="evenodd"><rect class="base" width="14" height="13" x="2" y="1.5" fill="transparent" fill-rule="nonzero"></rect><path fill="currentColor" fill-rule="nonzero" d="M10.9369913,9 C10.7561021,9.70280365 10.2028036,10.2561021 9.5,10.4369913 L9.5,14.5 L8.5,14.5 L8.5,10.4369913 C7.63738639,10.2149699 7,9.43191971 7,8.5 C7,7.3954305 7.8954305,6.5 9,6.5 C9.93191971,6.5 10.7149699,7.13738639 10.9369913,8 L16,8 L16,9 L10.9369913,9 Z M3,2.5 L3,14.5 L2,14.5 L2,1.5 L16,1.5 L16,2.5 L3,2.5 Z"></path></g>',{width:18,height:16}),dC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hC}),uC=T('<g fill="none" fill-rule="evenodd"><path class="base" fill="transparent" fill-rule="nonzero" d="M9,1.5 L16,1.5 L16,14.5 L2,14.5 L2,8.5 C2,4.63400675 5.13400675,1.5 9,1.5 Z"></path><path fill="currentColor" fill-rule="nonzero" d="M2.96551724,14.5 L2,14.5 L2,7.74 C2,4.29374316 4.80979916,1.5 8.27586207,1.5 L16,1.5 L16,2.46 L8.27586207,2.46 C5.3430396,2.46 2.96551724,4.82393652 2.96551724,7.74 L2.96551724,14.5 Z M10.9369913,9 C10.7561021,9.70280365 10.2028036,10.2561021 9.5,10.4369913 L9.5,14.5 L8.5,14.5 L8.5,10.4369913 C7.63738639,10.2149699 7,9.43191971 7,8.5 C7,7.3954305 7.8954305,6.5 9,6.5 C9.93191971,6.5 10.7149699,7.13738639 10.9369913,8 L16,8 L16,9 L10.9369913,9 Z"></path></g>',{width:18,height:16}),pC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uC}),gC=T('<path d="M3 16h5v-2H3v2zm6.5 0h5v-2h-5v2zm6.5 0h5v-2h-5v2zM3 20h2v-2H3v2zm4 0h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM3 12h8v-2H3v2zm10 0h8v-2h-8v2zM3 4v4h18V4H3z"/>'),fC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gC}),mC=T('<path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z"/>'),vC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mC}),yC=T('<path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"/>'),bC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yC}),$C=T('<path d="M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"/>'),xC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$C}),_C=T('<path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"/>'),SC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_C}),wC=T('<path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>'),PC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wC}),CC=T('<path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"/>'),kC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:CC}),TC=T('<path d="M12 10c-3.86 0-7 3.14-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.86-3.14-7-7-7zm0-4C5.93 6 1 10.93 1 17h2c0-4.96 4.04-9 9-9s9 4.04 9 9h2c0-6.07-4.93-11-11-11z"/>'),MC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:TC}),IC=T('<path d="M3,3v18h18V3H3z M19,19H5V5h14V19z M11,7h2v2h-2V7z M7,7h2v2H7V7z M15,7h2v2h-2V7z M7,11h2v2H7V11z M11,11h2v2h-2V11z M15,11h2v2h-2V11z"/>'),EC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IC}),LC=T('<path d="M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z"/>'),VC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:LC}),RC=T('<path d="M4,12 L20,12Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />'),zC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RC}),jC=T('<path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z" transform="rotate(-30 12 12)" stroke-width="1" fill="transparent"/>'),AC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jC}),OC=T('<path d="M21 3L3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z"/>'),DC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OC}),FC=T('<path d="M5,9l1.41,1.41L11,5.83V22H13V5.83l4.59,4.59L19,9l-7-7L5,9z"/>'),BC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FC}),NC=T('<path d="M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z"/>'),GC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:NC}),HC=T('<path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"/>'),UC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:HC}),XC=T('<path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"/>'),YC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:XC});function WC(a=""){return T(`
        <g transform='${a}'><path fill='#fff' d='M2.6 5.6L0 8.3 2.6 11l1.2-1.2-.5-.5h9.4l-.5.5 1.2 1.2L16 8.3l-2.6-2.7-1.2 1.2.5.5H3.3l.5-.5-1.2-1.2z'/><path fill='#231f20' d='M5.1 279h-4v1h5v-5h-1zm5 0v5h-5v1h5v5h1v-5h5v-1h-5v-5z'/><path fill='#fff' d='M.6 278.5h4v-4h2v6h-6zm4.5.5h-4v1h5v-5h-1zm4.5-.5h2v5h5v2h-5v5h-2v-5h-5v-2h5zm.5 5.5h-5v1h5v5h1v-5h5v-1h-5v-5h-1z'/><path fill='#000' d='M2.6 6.3l-2 2 2 2 .6-.5-1-1H14l-1 1 .5.5 2-2-2-2-.5.5 1 1H2.1l1-1-.5-.5z'/></g>
    `,{width:24,height:24,viewBoxWidth:16,viewBoxHeight:16})}var KC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:WC}),ZC=T(`
    <path d="M19.77 4.93l1.4 1.4L8.43 19.07l-5.6-5.6 1.4-1.4 4.2 4.2L19.77 4.93m0-2.83L8.43 13.44l-4.2-4.2L0 13.47l8.43 8.43L24 6.33 19.77 2.1z"/>
`),qC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ZC}),QC=T('<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>'),JC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:QC}),ek=T('<path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"/>'),tk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ek}),rk=T('<path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>'),ik=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rk}),sk=T('<path d="M2 12C2 6.48 6.48 2 12 2s10 4.48 10 10-4.48 10-10 10S2 17.52 2 12zm10 6c3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6 2.69 6 6 6z"/>'),ak=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sk}),nk=T('<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>'),ok=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nk}),lk=T('<path d="M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4h-3z"/>'),ck=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lk}),hk=T('<path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>'),dk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hk}),uk=T('<path d="M18 24h-6.55c-1.08 0-2.14-.45-2.89-1.23l-7.3-7.61 2.07-1.83c.62-.55 1.53-.66 2.26-.27L8 14.34V4.79c0-1.38 1.12-2.5 2.5-2.5.17 0 .34.02.51.05.09-1.3 1.17-2.33 2.49-2.33.86 0 1.61.43 2.06 1.09.29-.12.61-.18.94-.18 1.38 0 2.5 1.12 2.5 2.5v.28c.16-.03.33-.05.5-.05 1.38 0 2.5 1.12 2.5 2.5V20c0 2.21-1.79 4-4 4zM4.14 15.28l5.86 6.1c.38.39.9.62 1.44.62H18c1.1 0 2-.9 2-2V6.15c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V3.42c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V2.51c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V4.79c0-.28-.22-.5-.5-.5s-.5.23-.5.5v12.87l-5.35-2.83-.51.45z"/>'),pk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uk}),gk=T('<path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"/>'),fk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gk}),mk=T('<path d="M6,13c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1S6.55,13,6,13z M6,17c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1 S6.55,17,6,17z M6,9c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1S6.55,9,6,9z M3,9.5c-0.28,0-0.5,0.22-0.5,0.5s0.22,0.5,0.5,0.5 s0.5-0.22,0.5-0.5S3.28,9.5,3,9.5z M6,5C5.45,5,5,5.45,5,6s0.45,1,1,1s1-0.45,1-1S6.55,5,6,5z M21,10.5c0.28,0,0.5-0.22,0.5-0.5 S21.28,9.5,21,9.5s-0.5,0.22-0.5,0.5S20.72,10.5,21,10.5z M14,7c0.55,0,1-0.45,1-1s-0.45-1-1-1s-1,0.45-1,1S13.45,7,14,7z M14,3.5 c0.28,0,0.5-0.22,0.5-0.5S14.28,2.5,14,2.5S13.5,2.72,13.5,3S13.72,3.5,14,3.5z M3,13.5c-0.28,0-0.5,0.22-0.5,0.5 s0.22,0.5,0.5,0.5s0.5-0.22,0.5-0.5S3.28,13.5,3,13.5z M10,20.5c-0.28,0-0.5,0.22-0.5,0.5s0.22,0.5,0.5,0.5s0.5-0.22,0.5-0.5 S10.28,20.5,10,20.5z M10,3.5c0.28,0,0.5-0.22,0.5-0.5S10.28,2.5,10,2.5S9.5,2.72,9.5,3S9.72,3.5,10,3.5z M10,7c0.55,0,1-0.45,1-1 s-0.45-1-1-1S9,5.45,9,6S9.45,7,10,7z M10,12.5c-0.83,0-1.5,0.67-1.5,1.5s0.67,1.5,1.5,1.5s1.5-0.67,1.5-1.5S10.83,12.5,10,12.5z M18,13c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1S18.55,13,18,13z M18,17c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1 S18.55,17,18,17z M18,9c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1S18.55,9,18,9z M18,5c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1 S18.55,5,18,5z M21,13.5c-0.28,0-0.5,0.22-0.5,0.5s0.22,0.5,0.5,0.5s0.5-0.22,0.5-0.5S21.28,13.5,21,13.5z M14,17 c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1S14.55,17,14,17z M14,20.5c-0.28,0-0.5,0.22-0.5,0.5s0.22,0.5,0.5,0.5s0.5-0.22,0.5-0.5 S14.28,20.5,14,20.5z M10,8.5c-0.83,0-1.5,0.67-1.5,1.5s0.67,1.5,1.5,1.5s1.5-0.67,1.5-1.5S10.83,8.5,10,8.5z M10,17 c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1S10.55,17,10,17z M14,12.5c-0.83,0-1.5,0.67-1.5,1.5s0.67,1.5,1.5,1.5s1.5-0.67,1.5-1.5 S14.83,12.5,14,12.5z M14,8.5c-0.83,0-1.5,0.67-1.5,1.5s0.67,1.5,1.5,1.5s1.5-0.67,1.5-1.5S14.83,8.5,14,8.5z"/>'),vk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mk}),yk=T('<path d="M6,13c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1S6.55,13,6,13z M6,17c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1 S6.55,17,6,17z M6,9c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1S6.55,9,6,9z M3,9.5c-0.28,0-0.5,0.22-0.5,0.5s0.22,0.5,0.5,0.5 s0.5-0.22,0.5-0.5S3.28,9.5,3,9.5z M6,5C5.45,5,5,5.45,5,6s0.45,1,1,1s1-0.45,1-1S6.55,5,6,5z M21,10.5c0.28,0,0.5-0.22,0.5-0.5 S21.28,9.5,21,9.5s-0.5,0.22-0.5,0.5S20.72,10.5,21,10.5z M14,7c0.55,0,1-0.45,1-1s-0.45-1-1-1s-1,0.45-1,1S13.45,7,14,7z M14,3.5 c0.28,0,0.5-0.22,0.5-0.5S14.28,2.5,14,2.5S13.5,2.72,13.5,3S13.72,3.5,14,3.5z M3,13.5c-0.28,0-0.5,0.22-0.5,0.5 s0.22,0.5,0.5,0.5s0.5-0.22,0.5-0.5S3.28,13.5,3,13.5z M10,20.5c-0.28,0-0.5,0.22-0.5,0.5s0.22,0.5,0.5,0.5s0.5-0.22,0.5-0.5 S10.28,20.5,10,20.5z M10,3.5c0.28,0,0.5-0.22,0.5-0.5S10.28,2.5,10,2.5S9.5,2.72,9.5,3S9.72,3.5,10,3.5z M10,7c0.55,0,1-0.45,1-1 s-0.45-1-1-1S9,5.45,9,6S9.45,7,10,7z M10,12.5c-0.83,0-1.5,0.67-1.5,1.5s0.67,1.5,1.5,1.5s1.5-0.67,1.5-1.5S10.83,12.5,10,12.5z M18,13c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1S18.55,13,18,13z M18,17c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1 S18.55,17,18,17z M18,9c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1S18.55,9,18,9z M18,5c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1 S18.55,5,18,5z M21,13.5c-0.28,0-0.5,0.22-0.5,0.5s0.22,0.5,0.5,0.5s0.5-0.22,0.5-0.5S21.28,13.5,21,13.5z M14,17 c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1S14.55,17,14,17z M14,20.5c-0.28,0-0.5,0.22-0.5,0.5s0.22,0.5,0.5,0.5s0.5-0.22,0.5-0.5 S14.28,20.5,14,20.5z M10,8.5c-0.83,0-1.5,0.67-1.5,1.5s0.67,1.5,1.5,1.5s1.5-0.67,1.5-1.5S10.83,8.5,10,8.5z M10,17 c-0.55,0-1,0.45-1,1s0.45,1,1,1s1-0.45,1-1S10.55,17,10,17z M14,12.5c-0.83,0-1.5,0.67-1.5,1.5s0.67,1.5,1.5,1.5s1.5-0.67,1.5-1.5 S14.83,12.5,14,12.5z M14,8.5c-0.83,0-1.5,0.67-1.5,1.5s0.67,1.5,1.5,1.5s1.5-0.67,1.5-1.5S14.83,8.5,14,8.5z"/>'),bk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yk}),$k=T('<path d="M22,7V5h-3V2h-2v3h-4V2h-2v3H7V2H5v3H2v2h3v4H2v2h3v4H2v2h3v3h2v-3h4v3h2v-3h4v3h2v-3h3v-2h-3v-4h3v-2h-3V7H22z M7,7h4v4 H7V7z M7,17v-4h4v4H7z M17,17h-4v-4h4V17z M17,11h-4V7h4V11z"/>'),xk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$k}),_k=T('<path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"/>'),Sk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_k}),wk=T('<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>'),Pk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wk}),Ck=T(`
    <g transform="translate(4.000003875248012, 4.000001937624006)">
        <path stroke="currentColor" d="M 7.501491970838878 -0.0000015572448855733659Q 14.336036333057622 7.389304433496911 15.674208571053226 11.025537025755131Q 17.012380809048864 14.661769618013372 12.854180922821438 14.544928811787997L 12.854180922821438 16.99999278410904L 3.2146550430021494 16.99999278410904L 3.2146550430021494 14.544928811787997Q -0.8480130988910353 14.661769618013372 0.22369613306813782 11.025537025755131Q 1.295405365027311 7.389304433496911 7.501491970838878 -0.0000015572448855733659Z M 7.501491970838878 -0.0000015572448855733659M 7.043097362212707 10.615180199186797L 7.043097362212707 2.029497238417552Q 2.4235653311211847 7.389304433496911 1.2143202542326725 11.099378313047254Q 0.22369613306813782 14.380813978493594 4.269842778971384 13.709709450113499L 4.269842778971384 16.233605781316655L 11.751764459057853 16.233605781316655L 11.751764459057853 13.709709450113499Q 15.84146041516868 14.140123940309786 14.670231046646997 10.775846698306177Q 14.195747591990225 9.593976493057127 8.077664264490855 2.029497238417552L 8.077664264490855 10.615180199186797L 7.043097362212707 10.615180199186797Z"/>
    </g>
`),kk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ck}),Tk=T('<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>'),Mk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Tk}),Ik=T('<path d="M8 5v14l11-7z"/>'),Ek=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ik}),Lk=T('<path d="M3 3h8v8H3zm10 0h8v8h-8zM3 13h8v8H3zm15 0h-2v3h-3v2h3v3h2v-3h3v-2h-3z"/>'),Vk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Lk}),Rk=T('<path d="M17.2,3H6.8l-5.2,9l5.2,9h10.4l5.2-9L17.2,3z M16.05,19H7.95l-4.04-7l4.04-7h8.09l4.04,7L16.05,19z"/>'),zk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rk}),jk=T('<path d="M2 9v2h19V9H2zm0 6h5v-2H2v2zm7 0h5v-2H9v2zm7 0h5v-2h-5v2z"/>'),Ak=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jk}),Ok=T('<path d="M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"/>'),Dk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ok}),Fk=T('<path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>'),Bk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fk}),Nk=T('<path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>'),Gk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Nk}),Hk=T('<path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>'),Uk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hk}),Xk=T('<path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>'),Yk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xk}),Wk=T('<path d="M19 13H5v-2h14v2z"/>'),Kk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wk}),Zk=T('<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/>'),qk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zk}),Qk=T('<defs><path id="a" d="M0 0h24v24H0V0z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z" clip-path="url(#b)"/>'),Jk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qk}),e3=T('<path d="M20,4 L20,20Z M6,10 L16,10 L16,14 L6,14Z" stroke-width="1" />'),t3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:e3}),r3=T('<path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"/>'),i3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:r3}),s3=T(`
        <path d="M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z" stroke='white' stroke-width="0.5" />
    `),a3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:s3}),n3=T('<path d="M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"/>'),o3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:n3}),l3=T('<path d="M19 19h2v2h-2v-2zm0-2h2v-2h-2v2zM3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm0-4h2V3H3v2zm4 0h2V3H7v2zm8 16h2v-2h-2v2zm-4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm-8 0h2v-2H7v2zm-4 0h2v-2H3v2zM21 8c0-2.76-2.24-5-5-5h-5v2h5c1.65 0 3 1.35 3 3v5h2V8z"/>'),c3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:l3}),h3=T(`
    <path d="M4,4 L20,4Z M4,20 L20,20Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />
`),d3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:h3}),u3=T(`
    <path d="M20,4 L20,20Z M2,4 L2,20Z M6,10 L16,10 L16,14 L6,14Z" stroke-width="1" />
`),p3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:u3}),g3=T('<path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/><path fill="none" d="M0 0h24v24H0z"/>'),f3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:g3}),m3=T('<g fill="#010101"><circle cx="7" cy="14" r="3"/><circle cx="11" cy="6" r="3"/><circle cx="16.6" cy="17.6" r="3"/></g>'),v3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:m3}),y3=T('<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>'),b3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:y3}),$3=T('<path d="M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"/>'),x3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$3}),_3=T('<path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"/>'),S3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_3}),w3=T('<path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"/>'),P3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:w3}),C3=T('<path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2z"/>'),k3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:C3}),T3=T('<path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"/>'),M3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:T3}),I3=T('<path d="M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z"/>'),E3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:I3}),L3=T('<path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/>'),V3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L3}),R3=T('<path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>'),z3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R3}),j3=T('<path d="M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z"/>'),A3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j3}),O3=T('<path d="M20,6h-8l-2-2H4C2.9,4,2.01,4.9,2.01,6L2,18c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8C22,6.9,21.1,6,20,6z M20,18L4,18V6h5.17 l2,2H20V18z M18,12H6v-2h12V12z M14,16H6v-2h8V16z"/>'),D3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:O3}),F3=T('<path d="M19,15l-1.41-1.41L13,18.17V2H11v16.17l-4.59-4.59L5,15l7,7L19,15z"/>'),B3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:F3}),N3=T('<path d="M18 9v4H6V9H4v6h16V9h-2z"/>'),G3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:N3}),H3=T('<path d="M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z"/>'),U3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:H3}),X3=T('<path d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"/>'),Y3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X3}),W3=T('<path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/>'),K3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W3}),Z3=T('<path d="M14.59,7.41L18.17,11H6v2h12.17l-3.59,3.59L16,18l6-6l-6-6L14.59,7.41z M2,6v12h2V6H2z"/>'),q3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z3}),Q3=T('<path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"/>'),J3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q3}),eT=T('<path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z"/>'),tT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eT}),rT=T('<defs><path id="a" d="M0 0h24v24H0V0z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path clip-path="url(#b)" d="M7.24 8.75c-.26-.48-.39-1.03-.39-1.67 0-.61.13-1.16.4-1.67.26-.5.63-.93 1.11-1.29.48-.35 1.05-.63 1.7-.83.66-.19 1.39-.29 2.18-.29.81 0 1.54.11 2.21.34.66.22 1.23.54 1.69.94.47.4.83.88 1.08 1.43.25.55.38 1.15.38 1.81h-3.01c0-.31-.05-.59-.15-.85-.09-.27-.24-.49-.44-.68-.2-.19-.45-.33-.75-.44-.3-.1-.66-.16-1.06-.16-.39 0-.74.04-1.03.13-.29.09-.53.21-.72.36-.19.16-.34.34-.44.55-.1.21-.15.43-.15.66 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.05-.08-.11-.17-.15-.25zM21 12v-2H3v2h9.62c.18.07.4.14.55.2.37.17.66.34.87.51.21.17.35.36.43.57.07.2.11.43.11.69 0 .23-.05.45-.14.66-.09.2-.23.38-.42.53-.19.15-.42.26-.71.35-.29.08-.63.13-1.01.13-.43 0-.83-.04-1.18-.13s-.66-.23-.91-.42c-.25-.19-.45-.44-.59-.75-.14-.31-.25-.76-.25-1.21H6.4c0 .55.08 1.13.24 1.58.16.45.37.85.65 1.21.28.35.6.66.98.92.37.26.78.48 1.22.65.44.17.9.3 1.38.39.48.08.96.13 1.44.13.8 0 1.53-.09 2.18-.28s1.21-.45 1.67-.79c.46-.34.82-.77 1.07-1.27s.38-1.07.38-1.71c0-.6-.1-1.14-.31-1.61-.05-.11-.11-.23-.17-.33H21z"/>'),iT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rT}),sT=T('<path d="M20 4h-4l-4-4-4 4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H4V6h4.52l3.52-3.5L15.52 6H20v14zM6 18h12V8H6v10zm2-8h8v6H8v-6z"/>'),aT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sT}),nT=T('<path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"/>'),oT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nT}),lT=T('<path d="M8.5,8.62v6.76L5.12,12L8.5,8.62 M10,5l-7,7l7,7V5L10,5z M14,5v14l7-7L14,5z"/>'),cT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lT}),hT=T('<path d="M15.5,15.38V8.62L18.88,12L15.5,15.38 M14,19l7-7l-7-7V19L14,19z M10,19V5l-7,7L10,19z"/>'),dT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hT}),uT=T('<path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>'),pT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uT}),gT=T('<path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,5v3H5V5H19z M19,10v4H5v-4H19z M5,19v-3h14v3H5z"/>'),fT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gT}),mT=T('<path d="M12.75 3h-1.5L6.5 14h2.1l.9-2.2h5l.9 2.2h2.1L12.75 3zm-2.62 7L12 4.98 13.87 10h-3.74zm10.37 8l-3-3v2H5v2h12.5v2l3-3z"/>'),vT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mT}),yT=T('<path d="M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z"/>'),bT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yT}),$T=T('<path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>'),xT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$T}),_T=T('<path d="M5 4v3h5.5v12h3V7H19V4z"/>'),ST=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_T}),wT=T('<path d="M 7 7L 22 7L 22 22L 7 22L 7 7Z" style="fill:white !important;"/><path d="M 0 0L 14 0L 14 14L 0 14L 0 0Z M 16 16L 30 16L 30 30L 16 30L 16 16Z"/>',{width:30,height:30}),PT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wT}),CT=T('<path d="M 0 0L 14 0L 14 14L 0 14L 0 0Z M 16 16L 30 16L 30 30L 16 30L 16 16Z"/><path d="M 7 7L 22 7L 22 22L 7 22L 7 7Z" style="fill:white !important;"/>',{width:30,height:30}),kT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:CT}),TT=T('<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93s3.05-7.44 7-7.93v15.86zm2-15.86c1.03.13 2 .45 2.87.93H13v-.93zM13 7h5.24c.25.31.48.65.68 1H13V7zm0 3h6.74c.08.33.15.66.19 1H13v-1zm0 9.93V19h2.87c-.87.48-1.84.8-2.87.93zM18.24 17H13v-1h5.92c-.2.35-.43.69-.68 1zm1.5-3H13v-1h6.93c-.04.34-.11.67-.19 1z"/>'),MT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:TT}),IT=T('<path d="M4,4 L20,4Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />'),ET=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IT}),LT=T('<path d="M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2h4zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6v2z"/>'),VT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:LT}),RT=T('<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>'),zT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RT}),jT=T('<path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>'),AT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jT}),OT=T('<path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"/>'),DT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OT}),FT=T('<path d="M16,18v2H8v-2H16z M11,7.99V16h2V7.99h3L12,4L8,7.99H11z"/>'),BT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FT}),NT=T('<path d="M16 13h-3V3h-2v10H8l4 4 4-4zM4 19v2h16v-2H4z"/>'),GT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:NT}),HT=T('<path d="M8 19h3v4h2v-4h3l-4-4-4 4zm8-14h-3V1h-2v4H8l4 4 4-4zM4 11v2h16v-2H4z"/>'),UT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:HT}),XT=T(`
    <path d="M19,13H5c-1.1,0-2,0.9-2,2v4c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2v-4C21,13.9,20.1,13,19,13z M19,19H5v-4h14V19z"/>
    <path d="M19,3H5C3.9,3,3,3.9,3,5v4c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,9H5V5h14V9z"/>
`),YT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:XT}),WT=T('<path d="M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"/>'),KT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:WT}),ZT=T('<path d="M22,2v2H2V2H22z M7,10.5v3h10v-3H7z M2,20v2h20v-2H2z"/>'),qT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ZT}),QT=T(`
        <path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/>
    `),JT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:QT}),e4=T('<path d="M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z"/>'),t4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:e4}),r4=T('<path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"/>'),i4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:r4}),s4=T('<path d="M20,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M8,18H4V6h4V18z M14,18h-4V6h4V18z M20,18h-4V6h4V18z"/>'),a4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:s4}),n4=T('<path d="M20,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M8,18H4V6h4V18z M14,18h-4V6h4V18z M20,18h-4V6h4V18z M0,12 L24,12"/>'),o4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:n4}),l4=T('<path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 15c-4.42 0-8-2.69-8-6s3.58-6 8-6 8 2.69 8 6-3.58 6-8 6z"/>'),c4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:l4}),h4=T('<path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/>'),d4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:h4}),u4=T('<path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>'),p4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:u4}),g4=T('<path d="M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5l2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13zm-3.4-3.4l1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53z"/>'),f4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:g4}),m4=T(`
        <path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"/>
    `),v4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:m4}),y4=T(`
    <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
`),b4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:y4}),$4=T(`
    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
`),x4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$4}),_4=T('<path d="M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z"/>'),S4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_4}),w4=T('<path d="M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z"/>'),P4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:w4}),C4=T('<path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"/>'),k4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:C4}),T4=T('<path d="M9,19l1.41-1.41L5.83,13H22V11H5.83l4.59-4.59L9,5l-7,7L9,19z"/>'),M4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:T4}),I4=T('<polygon transform="rotate(90 12 12)" points="13,6.99 16,6.99 12,3 8,6.99 11,6.99 11,17.01 8,17.01 12,21 16,17.01 13,17.01"/>'),E4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:I4}),L4=T('<path d="M11 9l1.42 1.42L8.83 14H18V4h2v12H8.83l3.59 3.58L11 21l-6-6 6-6z"/>'),V4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L4}),R4=T('<path d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3 3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"/>'),z4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R4});const j4={"./icon_list/_icon_template.js":P_,"./icon_list/account_tree.js":k_,"./icon_list/add.js":M_,"./icon_list/add_box.js":E_,"./icon_list/add_circle.js":V_,"./icon_list/add_note.js":z_,"./icon_list/align_center.js":A_,"./icon_list/align_horizontal_center.js":D_,"./icon_list/align_horizontal_left.js":B_,"./icon_list/align_horizontal_right.js":G_,"./icon_list/align_justify.js":U_,"./icon_list/align_left.js":Y_,"./icon_list/align_right.js":K_,"./icon_list/align_vertical_bottom.js":q_,"./icon_list/align_vertical_center.js":J_,"./icon_list/align_vertical_top.js":tS,"./icon_list/alternate.js":iS,"./icon_list/alternate_reverse.js":aS,"./icon_list/apps.js":oS,"./icon_list/archive.js":cS,"./icon_list/arrowLeft.js":dS,"./icon_list/arrowRight.js":pS,"./icon_list/arrow_right.js":fS,"./icon_list/artboard.js":vS,"./icon_list/auto_awesome.js":bS,"./icon_list/autorenew.js":xS,"./icon_list/ballot.js":SS,"./icon_list/bar_chart.js":PS,"./icon_list/blur.js":kS,"./icon_list/blur_linear.js":MS,"./icon_list/boolean_difference.js":ES,"./icon_list/boolean_intersection.js":VS,"./icon_list/boolean_union.js":zS,"./icon_list/boolean_xor.js":AS,"./icon_list/border_all.js":DS,"./icon_list/border_inner.js":BS,"./icon_list/border_style.js":GS,"./icon_list/bottom.js":US,"./icon_list/broken_image.js":YS,"./icon_list/brush.js":KS,"./icon_list/build.js":qS,"./icon_list/camera_roll.js":JS,"./icon_list/cat.js":t5,"./icon_list/center.js":i5,"./icon_list/chart.js":a5,"./icon_list/check.js":o5,"./icon_list/chevron_left.js":c5,"./icon_list/chevron_right.js":d5,"./icon_list/circle.js":p5,"./icon_list/close.js":f5,"./icon_list/code.js":v5,"./icon_list/color.js":b5,"./icon_list/color_lens.js":x5,"./icon_list/control_point.js":S5,"./icon_list/copy.js":P5,"./icon_list/create_folder.js":k5,"./icon_list/cube.js":M5,"./icon_list/cylinder.js":E5,"./icon_list/dahaze.js":V5,"./icon_list/dark.js":z5,"./icon_list/delete_forever.js":A5,"./icon_list/device_hub.js":D5,"./icon_list/diffuse.js":B5,"./icon_list/doc.js":G5,"./icon_list/drag_indicator.js":U5,"./icon_list/draw.js":Y5,"./icon_list/east.js":K5,"./icon_list/edit.js":q5,"./icon_list/end.js":J5,"./icon_list/exit_to_app.js":tw,"./icon_list/expand.js":iw,"./icon_list/expand_more.js":aw,"./icon_list/export.js":ow,"./icon_list/face.js":cw,"./icon_list/fast_forward.js":dw,"./icon_list/fast_rewind.js":pw,"./icon_list/file_copy.js":fw,"./icon_list/filter.js":vw,"./icon_list/flag.js":bw,"./icon_list/flash_on.js":xw,"./icon_list/flatten.js":Sw,"./icon_list/flex.js":Pw,"./icon_list/flip.js":kw,"./icon_list/flipY.js":Mw,"./icon_list/flip_camera.js":Ew,"./icon_list/folder.js":Vw,"./icon_list/font_download.js":zw,"./icon_list/format_bold.js":Aw,"./icon_list/format_indent.js":Dw,"./icon_list/format_line_spacing.js":Bw,"./icon_list/format_shapes.js":Gw,"./icon_list/format_size.js":Uw,"./icon_list/fullscreen.js":Yw,"./icon_list/gps_fixed.js":Kw,"./icon_list/gradient.js":qw,"./icon_list/grid.js":Jw,"./icon_list/grid3x3.js":tP,"./icon_list/group.js":iP,"./icon_list/height.js":aP,"./icon_list/highlight_at.js":oP,"./icon_list/horizontal_distribute.js":cP,"./icon_list/horizontal_rule.js":dP,"./icon_list/image.js":pP,"./icon_list/input.js":fP,"./icon_list/italic.js":vP,"./icon_list/join_full.js":bP,"./icon_list/join_right.js":xP,"./icon_list/justify_content_space_around.js":SP,"./icon_list/keyboard.js":PP,"./icon_list/keyboard_arrow_down.js":kP,"./icon_list/keyboard_arrow_left.js":MP,"./icon_list/keyboard_arrow_right.js":EP,"./icon_list/keyboard_arrow_up.js":VP,"./icon_list/landscape.js":zP,"./icon_list/launch.js":AP,"./icon_list/layers.js":DP,"./icon_list/layout_default.js":BP,"./icon_list/layout_flex.js":GP,"./icon_list/layout_grid.js":UP,"./icon_list/left.js":YP,"./icon_list/left_hide.js":KP,"./icon_list/lens.js":qP,"./icon_list/light.js":JP,"./icon_list/line_cap_butt.js":tC,"./icon_list/line_cap_round.js":iC,"./icon_list/line_cap_square.js":aC,"./icon_list/line_chart.js":oC,"./icon_list/line_join_bevel.js":cC,"./icon_list/line_join_miter.js":dC,"./icon_list/line_join_round.js":pC,"./icon_list/line_style.js":fC,"./icon_list/line_weight.js":vC,"./icon_list/list.js":bC,"./icon_list/local_library.js":xC,"./icon_list/local_movie.js":SC,"./icon_list/lock.js":PC,"./icon_list/lock_open.js":kC,"./icon_list/looks.js":MC,"./icon_list/margin.js":EC,"./icon_list/merge.js":VC,"./icon_list/middle.js":zC,"./icon_list/navigation.js":AC,"./icon_list/near_me.js":DC,"./icon_list/north.js":BC,"./icon_list/note.js":GC,"./icon_list/nowrap.js":UC,"./icon_list/opacity.js":YC,"./icon_list/open_in_full.js":KC,"./icon_list/outline.js":qC,"./icon_list/outline_circle.js":JC,"./icon_list/outline_image.js":tk,"./icon_list/outline_rect.js":ik,"./icon_list/outline_shape.js":ak,"./icon_list/padding.js":ok,"./icon_list/paint.js":ck,"./icon_list/palette.js":dk,"./icon_list/pantool.js":pk,"./icon_list/pattern_check.js":fk,"./icon_list/pattern_cross_dot.js":vk,"./icon_list/pattern_dot.js":bk,"./icon_list/pattern_grid.js":xk,"./icon_list/pattern_horizontal_line.js":Sk,"./icon_list/pause.js":Pk,"./icon_list/pentool.js":kk,"./icon_list/photo.js":Mk,"./icon_list/play.js":Ek,"./icon_list/plugin.js":Vk,"./icon_list/polygon.js":zk,"./icon_list/power_input.js":Ak,"./icon_list/publish.js":Dk,"./icon_list/rect.js":Bk,"./icon_list/redo.js":Gk,"./icon_list/refresh.js":Uk,"./icon_list/remove.js":Yk,"./icon_list/remove2.js":Kk,"./icon_list/repeat.js":qk,"./icon_list/replay.js":Jk,"./icon_list/right.js":t3,"./icon_list/right_hide.js":i3,"./icon_list/rotate.js":a3,"./icon_list/rotate_left.js":o3,"./icon_list/round.js":c3,"./icon_list/same_height.js":d3,"./icon_list/same_width.js":p3,"./icon_list/save.js":f3,"./icon_list/scatter.js":v3,"./icon_list/screen.js":b3,"./icon_list/setting.js":x3,"./icon_list/settings_input_component.js":S3,"./icon_list/shadow.js":P3,"./icon_list/shape.js":k3,"./icon_list/shuffle.js":M3,"./icon_list/size.js":E3,"./icon_list/skip_next.js":V3,"./icon_list/skip_prev.js":z3,"./icon_list/smooth.js":A3,"./icon_list/source.js":D3,"./icon_list/south.js":B3,"./icon_list/space.js":G3,"./icon_list/specular.js":U3,"./icon_list/speed.js":Y3,"./icon_list/star.js":K3,"./icon_list/start.js":q3,"./icon_list/storage.js":J3,"./icon_list/straighten.js":tT,"./icon_list/strikethrough.js":iT,"./icon_list/stroke_to_path.js":aT,"./icon_list/swap_horiz.js":oT,"./icon_list/switch_left.js":cT,"./icon_list/switch_right.js":dT,"./icon_list/sync.js":pT,"./icon_list/table_rows.js":fT,"./icon_list/text_rotate.js":vT,"./icon_list/texture.js":bT,"./icon_list/timer.js":xT,"./icon_list/title.js":ST,"./icon_list/to_back.js":PT,"./icon_list/to_front.js":kT,"./icon_list/tonality.js":MT,"./icon_list/top.js":ET,"./icon_list/transform.js":VT,"./icon_list/underline.js":zT,"./icon_list/undo.js":AT,"./icon_list/unfold.js":DT,"./icon_list/vertical_align_baseline.js":BT,"./icon_list/vertical_align_bottom.js":GT,"./icon_list/vertical_align_center.js":UT,"./icon_list/vertical_align_stretch.js":YT,"./icon_list/vertical_align_top.js":KT,"./icon_list/vertical_distribute.js":qT,"./icon_list/video.js":JT,"./icon_list/view_comfy.js":t4,"./icon_list/view_list.js":i4,"./icon_list/view_week.js":a4,"./icon_list/view_week_reverse.js":o4,"./icon_list/vignette.js":c4,"./icon_list/vintage.js":d4,"./icon_list/visible.js":p4,"./icon_list/visible_off.js":f4,"./icon_list/volume_down.js":v4,"./icon_list/volume_off.js":b4,"./icon_list/volume_up.js":x4,"./icon_list/wave.js":S4,"./icon_list/waves.js":P4,"./icon_list/web.js":k4,"./icon_list/west.js":M4,"./icon_list/width.js":E4,"./icon_list/wrap.js":V4,"./icon_list/wrap_text.js":z4},ae={};Object.entries(j4).forEach(([a,t])=>{a=a.replace("./icon_list/","").replace(".js",""),ae[a]=t.default});function O(a,t="",r={width:24,height:24}){return`<svg viewBox="0 0 ${r.width} ${r.height}" xmlns="http://www.w3.org/2000/svg">
  <use href="#icon-${a}" transform="${t||""}" width="${r.width}" height="${r.height}" /> 
</svg>`}function A4(a,t={width:24,height:24}){return`
    <svg viewBox="0 0 ${t.width} ${t.height}" xmlns="http://www.w3.org/2000/svg">
      <path d="${a}" style="fill:${t.fill||"transparent"};stroke:${t.stroke||"white"}" stroke-width="1" />
    </svg>
  `}function O4(a,t={width:24,height:24}){return`
    <svg viewBox="0 0 ${t.width} ${t.height}" xmlns="http://www.w3.org/2000/svg">
      ${a}
    </svg>
  `}function D4(){return O4('<path d="M0 0h24v24H0z" fill="none" fill-opacity="0"/>')}class F4{async load(t="default",...r){if(ae[t]){const i=ye(ae[t])?ae[t].call(ae[t],...r):ae[t],s=new Blob([i],{type:"image/svg+xml"});return new Promise((n,o)=>{const l=new FileReader;l.onload=c=>{const h=c.target.result;n(`url(${h}) 12 12, auto`)},l.readAsDataURL(s)})}else return t}}class B4{constructor(t){this.$editor=t}get project(){return this.$editor.selection.currentProject}revokeResource(t){var r=JSON.parse(t||"[]"),i={};return r.forEach(s=>{s.images.forEach(n=>{i[`#${n.id}`]=n})}),Object.keys(i).map(s=>{var n=i[s],o=Fn.parse(n.original,!0);n.local=o.local}),r.forEach(s=>{s.layers=this.applyAsset(s.layers,i)}),r}applyAsset(t,r){return Array.isArray(t)?t=t.map(i=>this.applyAsset(i,r)):Wr(t)?Object.keys(t).forEach(i=>{t[i]=this.applyAsset(t[i],r)}):ht(t)&&Object.keys(r).forEach(i=>{var s=r[i];t.indexOf(`#${s.id}`)>-1&&(t=t.replace(new RegExp(`#${s.id}`,"g"),s.local))}),t}}function N4(a,t=""){var r=a||{};return Object.keys(r).filter(i=>Re(r[i])).map(i=>`${i}: ${r[i]}`).join(";"+t)}function G4(a){return Object.keys(a||{}).map(r=>r==="class"&&Wr(a[r])?`${r}="${H4(a[r])}"`:r==="style"&&Wr(a[r])?`${r}="${N4(a[r])}"`:Yr(a[r])||xt(a[r])||a[r]==="undefined"?a[r]?r:"":`${r}="${a[r]}"`).join(" ")}function H4(a){return Object.keys(a).filter(t=>a[t]).map(t=>t).join(" ")}function E(a,t={},r=[]){r=r.flat(1/0).join("");const i=Object.keys(t).length?Fr(t):"";return`<object refClass="${a}" ${i}>${r}</object>`}function Hn(...a){return a.map(t=>{let r,i={},s=[];return ht(t)?r=t:ai(t)&&([r,i={},s=[]]=t),s.length?E(r,i,Hn(s)):E(r,i)}).join(`
`)}function cd(a,t,r=[]){return r=r.flat(1/0),`<${a} ${G4(t)}>${r.join(" ")}</${a}>`}function A(a,t={},...r){if(r=r.flat(1/0),a===Qt)return r;if(typeof a!="string"){const i=a.name;return oi({[i]:a}),E(i,t,r)}else return cd(a,t,r)}const Qt=new Object;class U4{constructor(t){this.editor=t,this.ui={}}registerUI(t,r={},i=1){this.ui[t]||(this.ui[t]=[]),Object.keys(r).forEach(s=>{this.ui[t].push({refClass:s,order:i,class:r[s]})})}getTargetUI(t){return this.ui[t]||[]}generate(t,r=!1){const i=this.getTargetUI(t);return i.sort((s,n)=>s.order===n.order?0:s.order>n.order?1:-1),i.map(s=>{const n={};return r&&(n.ref=`$${s.refClass}`),E(s.refClass,n)}).join(`
`)}}class X4{constructor(t){this.editor=t,this.plugins=[]}registerPlugin(t){this.plugins.push(t)}async initializePlugin(t={}){return await Promise.all(this.plugins.map(async r=>await r(this.editor,t)))}}class Y4{constructor(t){this.editor=t,this.renderers={},this.rendererTypes={}}getRenderType(t){return this.renderers[t]||(this.renderers[t]={}),this.renderers[t]}registerRenderer(t,r,i){const s=this.getRenderType(t);if(s[r])throw new Error("It has duplicated renderer name. "+r);s[r]=i}registerRendererType(t,r){if(this.rendererTypes[t])throw new Error("It has duplcated renderer type name. "+name);this.rendererTypes[t]=r}getRenderer(t){return this.rendererTypes[t]}getRendererInstance(t,r){return this.getRenderType(t)[r]}}class W4{constructor(t){this.editor=t,this.locales={},this.fallbackLang="en_US"}getLang(t=void 0){return t||this.fallbackLang}setFallbackLang(t){this.fallbackLang=t}get(t,r={},i=void 0){var o,l;const s=this.getLang(i),n=((o=this.locales[s])==null?void 0:o[t])||((l=this.locales[this.fallbackLang])==null?void 0:l[t])||t||void 0;if(ye(n))return n(r);{let c=n;return t===c?t.split(".").pop():(Object.entries(r).forEach(([h,d])=>{c=c.replace(new RegExp(`{${h}}`,"ig"),d)}),c)}}hasKey(t,r=void 0){const i=this.getLang(r);return!!(this.locales[i][t]||this.locales[this.fallbackLang][t])}registerI18nMessage(t,r){this.locales[t]||(this.locales[t]={}),Object.assign(this.locales[t],r)}}class K4{constructor(t){this.editor=t,this.modes=["CanvasView"]}pushMode(t){this.modes.push(t)}popMode(t=void 0){t?this.isCurrentMode(t)&&this.modes.pop():this.modes.pop()}currentMode(){return this.modes[this.modes.length-1]}isCurrentMode(t){return this.currentMode()===t}}class Z4{constructor(t){this.editor=t,this.pathkit=null}registerPathKit(t){this.pathkit=t,this.editor.emit("updatePathKit")}has(){return!!this.pathkit}booleanOperation(t,r,i){const s=this.pathkit;return s.MakeFromOp(s.FromSVGString(t),s.FromSVGString(r),i).toSVGString()}intersection(t,r){const i=this.pathkit;if(!!i)return this.reversePathString(this.booleanOperation(t,r,i.PathOp.INTERSECT))}union(t,r){const i=this.pathkit;if(!!i)return this.booleanOperation(t,r,i.PathOp.UNION)}difference(t,r){const i=this.pathkit;if(!!i)return this.reversePathString(this.booleanOperation(t,r,i.PathOp.DIFFERENCE))}reverseDifference(t,r){const i=this.pathkit;if(!!i)return this.reversePathString(this.booleanOperation(t,r,i.PathOp.REVERSE_DIFFERENCE))}xor(t,r){const i=this.pathkit;if(!!i)return this.reversePathString(this.booleanOperation(t,r,i.PathOp.XOR))}reversePathString(t){return W.fromSVGString(t).reversePathStringByFunc((r,i)=>i%2==0)}isValidPath(t){return this.pathkit.FromSVGString(t).isValid()}simplify(t){return this.pathkit.FromSVGString(t).simplify().toSVGString()}convertLineJoin(t){const r=this.pathkit;switch(t){case"miter":return r.StrokeJoin.MITER;case"round":return r.StrokeJoin.ROUND;case"bevel":return r.StrokeJoin.BEVEL}}convertLineCap(t){const r=this.pathkit;switch(t){case"butt":return r.StrokeCap.BUTT;case"round":return r.StrokeCap.ROUND;case"square":return r.StrokeCap.SQUARE}}stroke(t,r={width:1,miter_limit:4}){const i=this.pathkit,s=i.FromSVGString(t);if(ai(r["stroke-dasharray"])){const o=r["stroke-dasharray"];o.length>=2&&s.dash(o[0],o[1],+(r["stroke-dashoffset"]||0))}let n=s.stroke({width:+r["stroke-width"],join:this.convertLineJoin(r["stroke-linejoin"]),cap:this.convertLineCap(r["stroke-linecap"])});return n.setFillType(i.FillType.WINDING),n.simplify().toSVGString()}round(t,r={width:1,miter_limit:4}){return this.stroke(t,le(v({},r),{"stroke-linejoin":"round"}))}grow(t,r={width:1,miter_limit:4}){const i=this.pathkit,s=i.FromSVGString(t);return s.copy().stroke(r).op(s,i.PathOp.DIFFERENCE).toSVGString()}shrink(t,r={width:1,miter_limit:4}){const i=this.pathkit,s=i.FromSVGString(t),n=s.copy().simplify();return s.copy().stroke(r).op(n,i.PathOp.DIFFERENCE).toSVGString()}dash(t,r,i,s=1){return this.pathkit.FromSVGString(t).dash(r,i,s).toSVGString()}trim(t,r,i,s=!1){return this.pathkit.FromSVGString(t).trim(r,i,s).toSVGString()}}class q4{constructor(t){this.editor=t,this.hiddenList={}}get list(){return Object.keys(this.hiddenList)}get(t){return!this.hiddenList[t]}set(t,r){r?delete this.hiddenList[t]:this.hiddenList[t]=!0}toggle(t){this.get(t)?this.set(t,!1):this.set(t,!0)}}class Q4{constructor(t){this.editor=t,this.clipboard=[]}get length(){return this.clipboard.length}clear(){this.clipboard=[]}get isEmpty(){return this.clipboard.length==0}push(t){this.clipboard.push(t)}pop(){return this.clipboard.pop()}}class J4{constructor(t){this.editor=t,this.iconMap={}}get(t,r){const i=this.iconMap[t];return ye(i)?i(r):O(i||r.getIcon()||"rect")}set(t,r){this.iconMap[t]=r}registerIcon(t,r){this.set(t,r)}}class eM{constructor(t){this.editor=t}get config(){return this.editor.config}get zIndex(){return this.popupZIndex++}get isPointerUp(){const t=this.config.get("bodyEvent");return!t||t.type==="pointerup"?!0:t.type==="pointermove"&&t.buttons===0}get isPointerDown(){return!this.isPointerUp}get isPointerMove(){return this.config.get("bodyEvent")?this.config.get("bodyEvent").type==="pointermove":!1}}class tM{constructor(t){this.editor=t,this.customAssetKey="custom-assets"}async getCustomAssetList(){let t=!1;const r=(this.editor.loadItem(this.customAssetKey)||[]).map(i=>(i.id||(i.id=as(),t=!0),i));return t&&await this.setCustomAssetList(r),r}async setCustomAssetList(t){this.editor.saveItem(this.customAssetKey,t)}async getCustomAsset(t){const i=(await this.getCustomAssetList()).find(s=>s.id===t);return i&&i.component?i.component:null}async saveCustomAsset(t=""){const r=this.editor.selection.current;if(r){const i=await this.getCustomAssetList(),s=await this.editor.json.render(r);s.x="0px",s.y="0px",await this.setCustomAssetList([...i,{id:as(),preview:t,component:s}])}}async removeCustomAsset(t){const r=await this.getCustomAssetList();await this.setCustomAssetList(r.filter(i=>i.id!==t))}}class rM{constructor(t){this.editor=t,this.lockList={}}get(t){return this.lockList[t]}set(t,r){this.lockList[t]=!0}toggle(t){this.lockList[t]?delete this.lockList[t]:this.lockList[t]=!0}}class iM{constructor(t){this.editor=t,this.commands=[]}log(){console.log(this.commands)}emit(...t){this.commands.push(t)}run(){this.editor.emit(this.commands)}}const Gs="SELECTION",sM="ADD";class ml{constructor(t={}){this.EDITOR_ID=as(),this.projects=[],this.popupZIndex=1e4,this.canvasWidth=1e5,this.canvasHeight=1e5,this.symbols={},this.images={},this.openRightPanel=!0,this.mode=Gs,this.ignoreManagers=t.ignoreManagers||[],this.loadManagers()}loadManagers(){this.store=new ch(this),this.config=new Uf(this),this.snapManager=new sm(this),this.commands=new E2(this),this.ignoreManagers.includes("ShortCutManager")===!1&&(this.shortcuts=new Ix(this)),this.selection=new b_(this),this.segmentSelection=new $_(this),this.timeline=new x_(this),this.history=new __(this),this.keyboardManager=new S_(this),this.viewport=new w_(this),this.storageManager=new tM(this),this.cursorManager=new F4(this),this.assetManager=new B4(this),this.injectManager=new U4(this),this.components=new Ex(this),this.pluginManager=new X4(this),this.renderers=new Y4(this),this.i18n=new W4(this),this.modelManager=new Vx(this),this.modeViewManager=new K4(this),this.pathKitManager=new Z4(this),this.lockManager=new rM(this),this.visibleManager=new q4(this),this.clipboard=new Q4(this),this.iconManager=new J4(this),this.stateManager=new eM(this),this.initPlugins(),this.initStorage()}initStorage(){this.locale=this.loadItem("locale")||"en_US",this.layout=this.loadItem("layout")||"all"}createProject(){return this.createModel({itemType:"project"})}getI18nMessage(t,r={},i){return this.i18n.get(t,r,i||this.locale)}$i18n(t,r={},i){return this.getI18nMessage(t,r,i)}hasI18nkey(t,r){return this.i18n.hasKey(t,r||this.locale)}initI18nMessage(t=""){return(r,i={},s)=>{const n=`${t}.${r}`;return this.hasI18nkey(n,s)?this.i18n(`${t}.${r}`,i,s):this.i18n(`${r}`,i,s)}}setLocale(t="en_US"){this.locale=t,this.saveItem("locale",this.locale)}setUser(t){this.user=t}initPlugins(t={}){this.pluginManager.initializePlugin(t)}themeValue(t,r=""){return Hf[this.config.get("editor.theme")][t]||r}changeMode(t=Gs){this.mode=t}isMode(t){return this.mode===t}isAddMode(){return this.isMode(sM)}get zIndex(){return this.popupZIndex++}getFile(t){return this.images[t]||t}setStore(t){this.store=t}emit(...t){this.store.source=this.EDITOR_ID,this.store.emit(...t)}on(...t){const[r,i,s,...n]=t;return this.store.on(r,i,s||this,...n)}off(...t){this.store.off(...t)}offAll(...t){this.store.offAll(...t)}debug(...t){}command(t,r,...i){return this.stateManager.isPointerUp?this.store.emit(`history.${t}`,r,...i):this.store.emit(t,...i)}nextTick(t,r=0){this.store&&setTimeout(()=>{this.store.nextTick(t)},r)}get(t){return this.modelManager.get(t.id||t)}replaceLocalUrltoRealUrl(t){var r=this.selection.currentProject,i={};return r.images.forEach(s=>{t.indexOf(s.local)>-1&&(i[s.local]=s.original)}),Object.keys(i).forEach(s=>{t.indexOf(s)>-1&&(t=t.replace(new RegExp(s,"g"),i[s]))}),t}createModel(t,r=!0){return this.modelManager.createModel(t,r)}searchItem(t){return this.modelManager.searchItem(t)}get storeKey(){return`__els__.${this.config.get("store.key")}`}saveItem(t,r){window.localStorage.setItem(`${this.storeKey}.${t}`,JSON.stringify(r))}loadItem(t){return JSON.parse(window.localStorage.getItem(`${this.storeKey}.${t}`)||JSON.stringify(""))}createCommandMaker(){return new iM(this)}registerElement(t){oi(t)}registerAlias(t){Object.entries(t).forEach(([r,i])=>{Fp(r,i)})}registerUI(t,r={},i=1){this.injectManager.registerUI(t,r,i),this.registerElement(r)}registerComponent(t,r){this.components.registerComponent(t,r)}registerItem(t,r){this.registerComponent(t,r)}registerInspector(t,r){this.components.registerInspector(t,r)}registerRenderer(t,r,i){this.renderers.registerRenderer(t,r,i)}registerRendererType(t,r){this.renderers.registerRendererType(t,r)}getRendererInstance(t,r){return this.renderers.getRendererInstance(t,r)}renderer(t){return this.renderers.getRenderer(t)}get html(){return this.renderer("html")}get svg(){return this.renderer("svg")}get json(){return this.renderer("json")}registerCommand(t){return this.commands.registerCommand(t)}registerShortCut(t){this.shortcuts.registerShortCut(t)}registerPlugin(t){this.pluginManager.registerPlugin(t)}registerPluginList(t=[]){t.forEach(r=>this.registerPlugin(r))}registerConfig(t){this.config.registerConfig(t)}registerI18nMessage(t,r){this.i18n.registerI18nMessage(t,r)}registerI18nMessageWithLocale(t){Object.entries(t).forEach(([r,i])=>{this.registerI18nMessage(r,i)})}registerIcon(t,r){this.iconManager.registerIcon(t,r)}}const hd="add/body/first/mousemove",dd="add/body/mousemove",ud="add/body/mouseup",aM=(a="move")=>Ms(`bodyMouseFirstMove ${a}`),Ve=(a="move")=>Ms(`bodyMouseMove ${a}`),ze=(a="end")=>Ms(`bodyMouseUp ${a}`);class K extends hh{initialize(){super.initialize(),this.$editor.registerI18nMessageWithLocale(this.initializeI18nMessage())}initializeI18nMessage(){return{}}get notEventRedefine(){return!0}get $editor(){return this.__cacheParentEditor||(this.__cacheParentEditor=this.parent.$editor),this.__cacheParentEditor}get $store(){return this.$editor.store||this.parent.$store}$i18n(t,r={},i){return this.$editor.getI18nMessage(t,r,i)}$initI18n(t){return this.$editor.initI18nMessage(t)}get $config(){return this.$editor.config}get $selection(){return this.$editor.selection}get $segmentSelection(){return this.$editor.segmentSelection}get $commands(){return this.$editor.commands}get $viewport(){return this.$editor.viewport}get $snapManager(){return this.$editor.snapManager}get $timeline(){return this.$editor.timeline}get $history(){return this.$editor.history}get $shortcuts(){return this.$editor.shortcuts}get $keyboardManager(){return this.$editor.keyboardManager}get $storageManager(){return this.$editor.storageManager}get $injectManager(){return this.$editor.injectManager}get $model(){return this.$editor.modelManager}get $lockManager(){return this.$editor.lockManager}get $visibleManager(){return this.$editor.visibleManager}get $modeView(){return this.$editor.modeViewManager}get $pathkit(){return this.$editor.pathKitManager}get $icon(){return this.$editor.iconManager}get $stateManager(){return this.$editor.stateManager}command(t,r,...i){return this.$stateManager.isPointerUp?this.emit(`history.${t}`,r,...i):this.emit(t,...i)}$theme(t){return this.$editor.themeValue(t)}bodyMouseFirstMove(t,r){this[r]&&this.emit(hd,this[r],this,t.xy)}bodyMouseMove(t,r){this[r]&&this.emit(dd,this[r],this,t.xy)}bodyMouseUp(t,r){this[r]&&this.emit(ud,this[r],this,t.xy)}}const pd={x:0,y:0},nM={x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},gd=0;class vl extends K{created(){this.$editor.registerPluginList(this.getPlugins()),Array.isArray(this.opt.plugins)&&this.$editor.registerPluginList(this.opt.plugins),this.$editor.initPlugins(),this.$config.load(),Wr(this.opt.config)&&this.$config.setAll(this.opt.config||{})}get $editor(){return this.__editorInstance||(this.__editorInstance=this.createEditorInstance()),this.__editorInstance}createEditorInstance(){return new ml}afterRender(){super.afterRender(),this.$el.attr("data-theme",this.$config.get("editor.theme")),this.$el.addClass(navigator.userAgent.includes("Windows")?"ua-window":"ua-default"),this.trigger("initialize")}initialize(){super.initialize(),this.__initBodyMoves()}[_t("editor.theme")](){this.$el.attr("data-theme",this.$config.get("editor.theme"))}getPlugins(){return[]}__initBodyMoves(){this.__firstMove=new Set,this.__moves=new Set,this.__ends=new Set,this.__modifyBodyMoveSecond(gd)}__modifyBodyMoveSecond(t=gd){this.$config.set("body.move.ms",t);const r=t===0?this.__loopBodyMoves.bind(this):kt(this.__loopBodyMoves.bind(this),this.$config.get("body.move.ms"));this.__funcBodyMoves=r}__loopBodyMoves(){var t=this.pos,r=this.$config.get("bodyEvent"),i=this.lastPos||nM,s=!(i.x===t.x&&i.y===t.y);if(s&&this.__firstMove.size){let n=0;this.__firstMove.forEach(o=>{const l=Yt(t.x,t.y,o.xy.x,o.xy.y);if(Math.abs(l)>0){var c=t.x-o.xy.x,h=t.y-o.xy.y;o.func.call(o.context,c,h,"move",r.pressure),n++}}),n>0&&this.__firstMove.clear()}s&&this.__moves.size&&(this.__moves.forEach(n=>{const o=Yt(t.x,t.y,n.xy.x,n.xy.y);if(Math.abs(o)>.5){var l=t.x-n.xy.x,c=t.y-n.xy.y;n.func.call(n.context,l,c,"move",r.pressure)}}),this.lastPos=t),requestAnimationFrame(this.__funcBodyMoves)}__removeBodyMoves(){var t=this.lastPos,r=this.$config.get("bodyEvent");t&&this.__ends.forEach(i=>{i.func.call(i.context,t.x-i.xy.x,t.y-i.xy.y,"end",r.pressure)}),this.__firstMove.clear(),this.__moves.clear(),this.__ends.clear()}[gn(hd)](t,r,i){this.__firstMove.add({func:t,context:r,xy:i})}[gn(dd)](t,r,i){this.__moves.add({func:t,context:r,xy:i})}[gn(ud)](t,r,i){this.__ends.add({func:t,context:r,xy:i})}[xe()](t){var r=t.xy||pd;this.$config.init("bodyEvent",t),this.pos=r}[rs()](t){var r=t.xy||pd;this.$config.init("bodyEvent",t),this.pos=r,this.__requestId||(this.__requestId=requestAnimationFrame(this.__funcBodyMoves))}[Oc()](t){this.$config.set("bodyEvent",t),this.__removeBodyMoves(),cancelAnimationFrame(this.__requestId),this.__requestId=null}[Ac("window")+Xe(100)](){this.emit("resize.window")}[I("refreshAll")](){this.emit("refreshProjectList"),this.trigger("refreshAllSelectProject")}[I("refreshAllSelectProject")](){this.emit("refreshArtboard")}[I("changed.locale")](){this.rerender()}}var RA="";let Ri=[];class oM extends K{template(){return`
            <div class="elf--horizontal-ruler">
                <div class='horizontal-ruler-container' ref='$layerRuler'>
                    <svg class="lines" width="100%" width="100%" overflow="hidden">
                        <path ref="$rulerLines" d="" />
                    </svg>
                </div>                            
                <div class='horizontal-ruler-container' ref='$ruler'></div>
                <div class='horizontal-ruler-container'>
                    <div class="cursor" ref="$cursor"></div>
                </div>
            </div>
        `}afterRender(){this.refreshCanvasSize()}refreshCanvasSize(){this.state.rect=this.$el.rect()}initializeRect(){(!this.state.rect||this.state.rect.width==0)&&(this.state.rect=this.$el.rect())}makeLine(t,r,i,s,n,o,l=3,c=30,h=10){let d=i-i%r,p=s+s%r;const u=(d-i)/n*o,m=(d+r-i)/n*o;if(!(Math.abs(m-u)<l))for(var $=d;$<p;$+=r){if($!=0&&$%h==0)continue;const S=Math.floor(($-i)/n*o);t[t.length]=`M ${S} ${30-c} L ${S} 30 `}}makeLineText(t,r,i,s,n,o=3){const l=[];let c=r-r%t,h=i+i%t;const d=(c-r)/s*n,p=(c+t-r)/s*n;if(!(Math.abs(p-d)<o)){for(var u=c;u<h;u+=t){const m=Math.floor((u-r)/s*n);l[l.length]=`<text x="${m}" y="${0}" dx="0" dy="8" text-anchor="middle" alignment-baseline="bottom" >${u}</text>`}return l.join("")}}makeRulerForCurrentArtboard(){const t=this.$selection.current;if(!t)return"";const r=t.artboard;if(!r)return"";const i=r.verties,{minX:s,maxX:n,width:o}=this.$viewport,l=this.state.rect.width,c=(i[0][0]-s)/o*l,h=(i[2][0]-s)/o*l;return`
            M ${c} 20 
            L ${c} 30 
            L ${h} 30 
            L ${h} 20 
            Z
        `}makeRulerForCurrent(){if(!this.$selection.current)return"";const i=this.$selection.verties.map(p=>p[0]),s=Math.min.apply(Math,i),n=Math.max.apply(Math,i),{minX:o,width:l}=this.$viewport,c=this.state.rect.width,h=(s-o)/l*c,d=(n-o)/l*c;return`
            M ${h} 0 
            L ${h} 20 
            L ${d} 20 
            L ${d} 0 
            Z
        `}makeRuler(){const{minX:t,maxX:r,width:i}=this.$viewport,s=this.state.rect.width;return Ri=[],this.makeLine(Ri,200,t,r,i,s,10,20,1e4),this.makeLine(Ri,100,t,r,i,s,10,20,200),this.makeLine(Ri,50,t,r,i,s,10,20,100),this.makeLine(Ri,10,t,r,i,s,10,18,50),this.makeLine(Ri,5,t,r,i,s,10,15,10),this.makeLine(Ri,1,t,r,i,s,10,13,5),Ri.join("")}makeRulerText(){const{minX:t,maxX:r,width:i}=this.$viewport,s=this.state.rect.width,n=Math.abs(r-t);return[n>3e3?this.makeLineText(500,t,r,i,s,20):"",1e3<n&&n<3e3?this.makeLineText(100,t,r,i,s,20):"",800<n&&n<1e3?this.makeLineText(100,t,r,i,s,20):"",500<n&&n<800?this.makeLineText(100,t,r,i,s,20):"",500<n&&n<800?this.makeLineText(50,t,r,i,s,20):"",200<n&&n<500?this.makeLineText(50,t,r,i,s,20):"",50<n&&n<200?this.makeLineText(10,t,r,i,s,20):"",15<n&&n<50?this.makeLineText(5,t,r,i,s,20):"",0<n&&n<15?this.makeLineText(1,t,r,i,s,20):""].join("")}[U("$ruler")](){return this.initializeRect(),`
            <svg width="100%" width="100%" overflow="hidden">
                <path d="${this.makeRuler()}" fill="transparent" stroke-width="0.5" stroke="white" transform="translate(0.5, 0)" />
                ${this.makeRulerText()}                
            </svg>
        `}[se("$rulerLines")](){return{d:this.makeRulerForCurrent()}}makeRulerCursor(){const t=this.$viewport.getWorldPosition(),{minX:r,maxX:i,width:s}=this.$viewport;this.initializeRect();const n=this.state.rect.width,o=t[0]-r,l=o===0?0:o/s*n;return`M ${l-.5} 0 L ${l-.5} 20`}[se("$cursor")](){const t=this.$viewport.getWorldPosition(),{minX:r,maxX:i,width:s}=this.$viewport;this.initializeRect();const n=this.state.rect.width,o=t[0]-r;return{cssText:`
                --elf--horizontal-cursor-position: ${o===0?0:o/s*n}px;
            `}}refresh(){this.$config.get("show.ruler")&&this.load()}[I("updateViewport","refreshSelection")](){this.refresh()}[I("refreshSelectionStyleView")+es(10)](){this.$selection.current&&this.$selection.current.hasChangedField("x","y","width","height","transform","rotateZ","rotate")&&this.refresh()}[I("resize.window","resizeCanvas")](){this.refreshCanvasSize()}[_t("onMouseMovepageContainer")](){this.bindData("$cursor"),this.bindData("$rulerLines")}}var zA="";let zi=[];class lM extends K{template(){return`
            <div class="elf--vertical-ruler">
                <div class='vertical-ruler-container' ref='$layerRuler'>
                    <svg class="lines" width="100%" height="100%" overflow="hidden">
                        <path ref="$rulerLines" d=""/>
                    </svg>
                </div>                                        
                <div class='vertical-ruler-container' ref='$body'></div>
                <div class='vertical-ruler-container'>
                    <div class="cursor" ref="$cursor"></div>
                </div>                
            </div>
        `}afterRender(){this.refreshCanvasSize()}refreshCanvasSize(){this.state.rect=this.$el.rect()}initializeRect(){(!this.state.rect||this.state.rect.width==0)&&(this.state.rect=this.$el.rect())}makeLine(t,r,i,s,n,o,l=3,c=30,h=10){let d=i-i%r,p=s+s%r;const u=(d-i)/n*o,m=(d+r-i)/n*o;if(!(Math.abs(m-u)<l))for(var $=d;$<p;$+=r){if($!=0&&$%h==0)continue;const S=Math.floor(($-i)/n*o);t[t.length]=`M ${30-c} ${S} L 30 ${S}`}}makeLineText(t,r,i,s,n,o=3){const l=[];let c=r-r%t,h=i+i%t;const d=(c-r)/s*n,p=(c+t-r)/s*n;if(!(Math.abs(p-d)<o)){for(var u=c;u<h;u+=t){const m=Math.floor((u-r)/s*n);l[l.length]=`<text x="${1}" y="${m}" dy="6" dominant-baseline="central" transform="rotate(-90, 1, ${m})">${u}</text>`}return l.join("")}}makeRulerForCurrentArtboard(){const t=this.$selection.current;if(!t)return"";const r=t.artboard;if(!r)return"";const i=r.verties,{minY:s,maxY:n,height:o}=this.$viewport,l=this.state.rect.height,c=(i[0][1]-s)/o*l,h=(i[2][1]-s)/o*l;return`
            M 20 ${c}
            L 30 ${c}
            L 30 ${h}
            L 20 ${h}
            Z
        `}makeRulerForCurrent(){if(!this.$selection.current)return"";const{minY:r,height:i}=this.$viewport,s=this.state.rect.height,o=this.$selection.verties.map(p=>p[1]),l=Math.min.apply(Math,o),c=Math.max.apply(Math,o),h=(l-r)/i*s,d=(c-r)/i*s;return`
            M 0 ${h}
            L 20 ${h}
            L 20 ${d}
            L 0 ${d}
            Z
        `}makeRuler(){const{minY:t,maxY:r,height:i}=this.$viewport,s=this.state.rect.height;return zi=[],this.makeLine(zi,200,t,r,i,s,10,18,1e4),this.makeLine(zi,100,t,r,i,s,10,18,200),this.makeLine(zi,50,t,r,i,s,10,18,100),this.makeLine(zi,10,t,r,i,s,10,18,50),this.makeLine(zi,5,t,r,i,s,10,15,10),this.makeLine(zi,1,t,r,i,s,10,14,5),zi.join("")}makeRulerText(){const{minY:t,maxY:r,height:i}=this.$viewport,s=this.state.rect.height,n=Math.abs(r-t);return[n>3e3?this.makeLineText(500,t,r,i,s,20):"",1e3<n&&n<3e3?this.makeLineText(100,t,r,i,s,20):"",800<n&&n<1e3?this.makeLineText(100,t,r,i,s,20):"",500<n&&n<800?this.makeLineText(100,t,r,i,s,20):"",500<n&&n<800?this.makeLineText(50,t,r,i,s,20):"",200<n&&n<500?this.makeLineText(50,t,r,i,s,20):"",50<n&&n<200?this.makeLineText(10,t,r,i,s,20):"",15<n&&n<50?this.makeLineText(5,t,r,i,s,20):"",0<n&&n<15?this.makeLineText(1,t,r,i,s,20):""].join("")}[U("$body")](){return(!this.state.rect||this.state.rect.width==0)&&(this.state.rect=this.$el.rect()),`
            <svg width="100%" height="100%" overflow="hidden">
                <path d="${this.makeRuler()}" fill="transparent" stroke-width="0.5" stroke="white" transform="translate(0, 0.5)" />
                ${this.makeRulerText()}
            </svg>
        `}[se("$rulerLines")](){return{d:this.makeRulerForCurrent()}}[se("$cursor")](){const t=this.$viewport.getWorldPosition(),{minY:r,maxY:i,height:s}=this.$viewport;this.initializeRect();const n=this.state.rect.height,o=t[1]-r;return{cssText:`
                --elf--vertical-cursor-position: ${o===0?0:o/s*n}px;
            `}}refresh(){this.$config.get("show.ruler")&&this.load()}[I("refreshSelectionStyleView")+es(10)](){const t=this.$selection.current;t&&t.hasChangedField("x","y","width","height","transform","rotateZ","rotate")&&this.refresh()}[I("updateViewport","refreshSelection")](){this.refresh()}[I("resize.window","resizeCanvas")](){this.refreshCanvasSize()}[_t("onMouseMovepageContainer")](){this.bindData("$cursor"),this.bindData("$rulerLines")}}class cM{static getAllDropItems(t){var r=[];t.dataTransfer&&(r=[...t.dataTransfer.types].map((s,n)=>{if(s.includes("text"))return{kind:"string",type:s,data:t.dataTransfer.getData(s)}}).filter(s=>s));var i=[];return t.dataTransfer&&(i=[...t.dataTransfer.files]),[...r,...i]}}const hM=["blur","grayscale","hue-rotate","invert","brightness","contrast","drop-shadow","opacity","saturate","sepia","svg"],dM=be.create("div");class uM extends K{initState(){return{lastChangedList:{}}}template(){return`
    <div class='style-view' style='pointer-events: none; position: absolute;display:inline-block;left:-1000px;'>
      <div ref='$svgArea'></div>
      <style ref="$innerStyleView" type="text/css"></style>
    </div>
    `}initialize(){super.initialize(),this.refs.$styleView=be.create(document.head)}makeStyle(t){return this.$editor.html.toStyle(t)}refreshStyleHead(){var t=this.$selection.currentProject||new ld;this.refs.$styleView.$$('style[data-renderer-type="html"]').forEach(r=>r.remove()),this.changeStyleHead(t),t.layers.forEach(r=>this.changeStyleHead(r))}changeStyleHead(t){var r=be.create("div");const i=this.makeStyle(t);r.html(i).children().forEach(s=>{this.refs.$styleView.append(s)})}refreshStyleHeadOne(t,r=!1){var i=[t];r||(i=t.allLayers);var s=i.map(o=>`style[data-renderer-type="html"][data-id="${o.id}"]`).join(",");let n=!1;this.refs.$styleView.$$(s).forEach(o=>{const l=this.$model.get(o.data("id"));l.isChanged(this.state.lastChangedList[l.id])&&(n=!0,o.remove(),this.state.lastChangedList[l.id]=l.timestamp)}),n&&this.changeStyleHead(t)}[I("refreshStyleView","moveTimeline","playTimeline")](t,r=!1){t?(this.load(),this.refreshStyleHeadOne(t,r)):this.refresh()}[I("refreshSVGArea")](){this.load("$svgArea")}[I("refreshSelectionStyleView")](t=null){var r=t;Array.isArray(t)?r=t:t!==null&&(r=[t]);let i=[];r?ht(r[0])?i=this.$selection.itemsByIds(r):i=r:i=this.$selection.items;const s=[],n=[];for(let c=0,h=i.length;c<h;c++){const d=i[c];if(d.is("project"))var o=`style[data-renderer-type="html"][data-id="${d.id}"]`;else var o=d.allLayers.map(u=>`style[data-renderer-type="html"][data-id="${u.id}"]`).join(",");n.push(o),s.push(this.makeStyle(d))}n.length&&this.refs.$styleView.$$(n).forEach(c=>{c.remove()});var l=dM.html(s.join("")).createChildrenFragment();this.refs.$styleView.append(l)}refresh(){this.load(),this.refreshStyleHead()}[se("$innerStyleView")](){return{html:`${this.$visibleManager.list.map(t=>`[data-id="${t}"]`).join(",")} { 
        display: none;
      }`}}[I("refreshVisibleView")](){this.bindData("$innerStyleView")}}var jA="";class fd extends K{components(){return{StyleView:uM}}initState(){return{mode:"selection",x:0,y:0,width:1e4,height:1e4,cachedCurrentElement:{}}}template(){return`
            <div class='elf--element-view' ref='$body'>
                ${E("StyleView",{ref:"$styleView"})}
                <div class='canvas-view' 
                        data-renderer-id='${this.$editor.EDITOR_ID}' 
                        ref='$view' 
                        data-outline="${this.$config.get("show.outline")}"
                ></div>
                ${this.$injectManager.generate("render.view")}
            </div>
        `}[se("$body")](){const{canvasWidth:t,canvasHeight:r}=this.$editor;var i=t,s=r;return{tabIndex:-1,style:{width:i,height:s}}}[se("$view")](){const{translate:t,transformOrigin:r,scale:i}=this.$viewport,s=`translate(${t[0]}px, ${t[1]}px) scale(${i||1})`;return{style:{"transform-origin":`${r[0]}px ${r[1]}px`,transform:s}}}[_t("show.outline")](){this.refs.$view.attr("data-outline",this.$config.get("show.outline"))}[I("refElement")](t,r){ye(r)&&r(this.getElement(t))}[I("refreshSelectionStyleView")](t){this.refreshSelectionStyleView(t)}[I("updateViewport")](){this.bindData("$view")}[_t("bodyEvent")](){be.create(this.$config.get("bodyEvent").target).data("number")||this.emit("recoverCursor")}[I("refreshAllElementBoundSize")](){this.refreshAllElementBoundSize()}[I("refreshElementBoundSize")+Vc](t){this.refreshElementBoundSize(t)}[I("updateAllCanvas")](t){this.updateAllCanvas(t)}[I("refreshAllCanvas")](){this.refreshAllCanvas()}[I("playTimeline","moveTimeline")](){var r=this.$selection.currentProject.getSelectedTimeline();r&&r.animations.map(i=>this.$model.get(i.id)).forEach(i=>{this.updateTimelineElement(i,!0,!1)})}clearElementAll(){this.state.cachedCurrentElement={}}clearElement(t){this.state.cachedCurrentElement[t]=void 0}getElement(t){return this.state.cachedCurrentElement[t]||(this.state.cachedCurrentElement[t]=this.refs.$view.$(`[data-id="${t}"]`)),this.state.cachedCurrentElement[t]}[ts("$view .element-item.text .text-content")](t){t.$dt.addClass("focused"),t.$dt.attr("contenteditable","true"),t.$dt.focus(),t.$dt.select()}[wi("$view .element-item.text .text-content")](t){t.$dt.removeAttr("contenteditable"),t.$dt.removeClass("focused")}[Xt("$view .element-item.text .text-content")](t){var r=t.$dt.html(),i=t.$dt.text(),s=t.$dt.parent().attr("data-id"),n=[];this.$selection.items.filter(o=>o.id===s).forEach(o=>{o.reset({content:r,text:i}),n.push({id:o.id,content:r,text:i});var l=this.getElement(o.id);const{width:c,height:h}=l.offsetRect();o.reset({width:c,height:h}),this.emit("refreshSelectionStyleView",o)}),this.emit("refreshContent",n),this.emit("refreshSelectionTool",!1)}checkEditMode(t){if(this.$config.get("set.tool.hand"))return!1;const r=this.$shortcuts.getGeneratedKeyCode(Ds.space);if(this.$keyboardManager.check(r))return!1;const i=be.create(t.target);if(i.hasClass("canvas-view"))return!1;if(!t.shiftKey){const o=this.$viewport.getWorldPosition(t);if(this.$selection.hasPoint(o))return this.$selection.hasHoverItem()&&this.$selection.hasParent(this.$selection.hoverId)===!1&&this.$selection.selectHoverItem(),!0;if(this.$selection.hasHoverItem())return this.$selection.selectHoverItem(),!0}const s=i.closest("element-item");if(s){if(s.hasClass("focused"))return!1;var n=s.attr("data-id");if(t.altKey===!1){const o=this.$model.get(n);if(o.is("artboard")&&o.hasChildren())return this.$config.init("set.dragarea.mode",!0),!0}}else return!1;return!0}[ts("$view")](t){const r=be.create(t.target).closest("element-item");if(r){const i=r.attr("data-id");this.nextTick(()=>{this.emit("doubleclick.item",t,i)},100)}}[xe("$view")+Se("checkEditMode")+Ve("calculateMovedElement")+aM("calculateFirstMovedElement")+ze("calculateEndedElement")](t){if(this.initMousePoint=this.$viewport.getWorldPosition(t),this.$config.init("set.move.control.point",!0),this.$config.get("set.dragarea.mode")){this.emit("startDragAreaView");return}let r=this.$selection.hasPoint(this.initMousePoint);const i=be.create(t.target);if(i.hasClass("canvas-view"))return this.$selection.select(),this.initializeDragSelection(),this.emit("history.refreshSelection"),!1;const s=i.closest("element-item");var n=s&&s.attr("data-id");if(t.altKey)r||this.$selection.check({id:n})===!1&&this.$selection.selectByGroup(n),this.$selection.isEmpty===!1&&(this.$selection.selectAfterCopy(),this.refreshAllCanvas(),this.emit("refreshLayerTreeView"),this.initializeDragSelection(),this.emit("history.refreshSelection"));else{if(!r){if(t.shiftKey)this.$selection.toggleById(n);else if(this.$selection.check({id:n})===!1){const o=this.$model.get(n);o&&o.is("artboard")&&o.hasChildren()||(o.hasChildren()?this.$selection.selectByGroup(n):this.$selection.selectByGroup(n))}}this.initializeDragSelection(),this.emit("history.refreshSelection")}}initializeDragSelection(){this.$selection.reselect(),this.$snapManager.clear(),this.emit("startGhostToolView"),this.emit("refreshSelectionTool",!0)}calculateFirstMovedElement(){this.emit("hideSelectionToolView"),this.emit("moveFirstGhostToolView")}calculateMovedElement(){if(this.$config.get("set.dragarea.mode")){this.emit("moveDragAreaView");return}const t=this.$viewport.getWorldPosition();if(this.emit("moveGhostToolView"),this.$selection.isLayoutItem)return;const r=Zr([],Te([],t,this.initMousePoint));this.moveTo(r),this.$selection.changeInLayoutArea(this.$viewport.applyVertexInverse(t))&&(this.initMousePoint=t,this.$selection.reselect(),this.$snapManager.clear(),this.refreshAllCanvas(),this.emit("refreshLayerTreeView")),this.emit("setAttributeForMulti",this.$selection.pack("x","y"))}moveTo(t){const r=this.$snapManager.check(this.$selection.cachedRectVerties.map(n=>we([],n,t)),3),i=we([],r,t),s={};this.$selection.cachedItemMatrices.forEach(n=>{const o=n.verties[4],l=we([],o,i),c=Te([],Ye([],l,n.parentMatrixInverse),Ye([],o,n.parentMatrixInverse));s[n.id]={x:Math.floor(n.x+c[0]),y:Math.floor(n.y+c[1])}}),this.$selection.reset(s)}calculateEndedElement(t,r){const i=this.$viewport.getWorldPosition(),s=he(i,this.initMousePoint);if(this.$config.init("set.move.control.point",!1),this.emit("endGhostToolView"),this.$config.get("set.dragarea.mode")){this.emit("endDragAreaView"),this.$config.init("set.dragarea.mode",!1);return}s<1||(this.$selection.reselect(),this.$snapManager.clear(),this.command("setAttributeForMulti","move item",this.$selection.pack("x","y")),this.nextTick(()=>{this.emit("recoverBooleanPath")})),this.nextTick(()=>{this.emit("refreshSelection")},100)}refreshSelectionStyleView(t){t?this.updateElement(t):this.$selection.items.forEach(r=>{this.updateElement(r)})}updateElement(t){t&&this.$editor.html.update(t,this.getElement(t.id),this.$editor)}updateTimelineElement(t){t&&this.$editor.html.update(t,this.getElement(t.id),this.$editor)}refreshAllCanvas(){this.clearElementAll();const t=this.$selection.currentProject,r=this.$editor.html.render(t,null,this.$editor)||"";this.refs.$view.updateDiff(r,void 0,{checkPassed:(i,s)=>i.getAttribute("data-id")===s.getAttribute("data-id")}),this.bindData("$view"),this.updateAllCanvas(t)}updateAllCanvas(t){t.layers.forEach(r=>{this.updateElement(r,this.getElement(r.id)),this.updateAllCanvas(r)})}refreshAllElementBoundSize(){var t=this.$selection.items.map(i=>i.is("artboard")?i:i.parent),r=[...new Set(t)];r.length?r.forEach(i=>{this.refreshElementBoundSize(i)}):this.$selection.currentProject.artboards.forEach(i=>{this.refreshElementBoundSize(i)})}refreshElementBoundSize(t){if(t){if(t.hasChildren()===!1){if(t.hasChangedField("x","y","width","height","border","padding-top","padding-left","padding-right","padding-bottom","resizingHorizontal","resizingVertical")===!1)return;var r=this.getElement(t.id);const{x:s,y:n,width:o,height:l}=r.offsetRect();o>0&&l>0&&(t.reset({x:s,y:n,width:o,height:l}),this.refreshSelectionStyleView(t),this.$selection.check(t)&&this.emit("refreshSelectionTool"));return}const i=t.changedLayout||t.hasChangedField("children","box-model","width","height");t.layers.forEach(s=>{var n=this.getElement(s.id);if(n&&(i||s.isLayoutItem())){const{x:o,y:l,width:c,height:h}=n.offsetRect();if(c>0&&h>0){const d={x:o,y:l,width:c,height:h};s.isChangedValue(d)&&(s.reset(d),this.refreshSelectionStyleView(s),this.$selection.check(s)&&this.emit("refreshSelectionTool"))}}this.trigger("refreshElementBoundSize",s)})}}}var AA="";class pM extends K{template(){return`     
      <div class='elf--page-tools'>
        <button type='button' ref='$minus'>${O("remove2")}</button>
        <div class='select'>
          ${E("NumberInputEditor",{ref:"$scaleInput",min:10,max:240,step:1,key:"scale",value:this.$viewport.scale*100,onchange:this.subscribe((t,r)=>{this.$viewport.setScale(r/100),this.emit("updateViewport"),this.trigger("updateViewport")},1e3)})}
        </div>
        <label>%</label>
        <button type='button' ref='$plus'>${O("add")}</button>        
        <button type='button' ref='$center' data-tooltip="Move to Center" data-direction="top">${O("gps_fixed")}</button>    
        <button type='button' ref='$ruler' data-tooltip="Toggle Ruler" data-direction="top">${O("straighten")}</button>    
        <button type='button' ref='$fullscreen' data-tooltip="FullScreen Canvas" data-direction="top">${O("fullscreen")}</button>                        
        <button type='button' ref='$pantool' class="${cs({on:this.$config.get("set.tool.hand")})}" data-tooltip="Hand | H" data-direction="top">${O("pantool")}</button>   
        <span class="divider">|</span>
        <button type="button" ref="$selectedCount" style="color:var(--elf--selected-color);font-weight: bold;text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.1)"></button>
        <span ref="$buttons"></span>
        ${this.$injectManager.generate("page.tools")}                             
      </div>

    `}[I("updateViewport")](){const t=Math.floor(this.$viewport.scale*100);this.children.$scaleInput&&this.children.$scaleInput.setValue(t)}[F("$plus")+Pe+Jt](){const t=this.$viewport.scale;this.$viewport.setScale(t+.01),this.emit("updateViewport"),this.trigger("updateViewport")}[F("$minus")+Pe+Jt](){const t=this.$viewport.scale;this.$viewport.setScale(t-.01),this.emit("updateViewport"),this.trigger("updateViewport")}[F("$center")+Pe+Jt](){this.emit("moveSelectionToCenter")}[F("$pantool")+Pe+Jt](){this.$config.toggle("set.tool.hand")}[F("$ruler")+Pe+Jt](){this.$config.toggle("show.ruler")}[F("$fullscreen")+Pe+Jt](){this.emit("bodypanel.toggle.fullscreen")}[F("$buttons button")+Pe+Jt](t){const r=t.$dt.data("item-id"),i=t.$dt.data("path-index"),s=this.$editor.get(r);if(s.editablePath)this.emit("open.editor",s);else{const n=W.fromSVGString(s.absolutePath().d).toPathList();this.emit("showPathEditor","modify",{box:"canvas",current:s,matrix:s.matrix,d:n[i].d,changeEvent:o=>{n[i].reset(o.d);const l=s.invertPath(W.joinPathList(n).d).d;this.command("setAttributeForMulti","modify sub path",{[r]:s.updatePath(l)})}})}this.emit("hideSelectionToolView")}[_t("set.tool.hand")](){this.refs.$pantool.toggleClass("on",this.$config.get("set.tool.hand"))}[I("refreshSelection")](){this.refs.$selectedCount.html(this.$selection.length+""),this.load("$buttons")}[U("$buttons")+st](){if(this.$selection.isEmpty)return"";const t=[];return this.$selection.items.forEach(r=>{r.allLayers.forEach(i=>{i.isNot("boolean-path")&&W.fromSVGString(i.absolutePath().d).toPathList().forEach((n,o)=>{t.push({item:i,index:o,path:n})})})}),t.map(r=>{const{item:i,index:s,path:n}=r;return`
        <button type="button" data-item-id="${i.id}" data-path-index="${s}">
          <svg width="16" height="16" overflow="visible">
            <path d="${n.scaleWith(16,16).d}" style="fill:${i.fill};stroke:currentColor" stroke-width="1" />
          </svg>
        </button>
      `})}}var OA="";class md extends K{initState(){return{mode:"selection",x:0,y:0,width:1e4,height:1e4,cachedCurrentElement:{},html:""}}template(){return`
            <div class="elf--drag-area-view" ref="$dragAreaView"></div>            
        `}checkSelectionArea(t){const r=this.$viewport.getWorldPosition(t);if(this.$selection.hasPoint(r))return!0}checkEditMode(t){if(this.$config.get("set.tool.hand"))return!1;const r=this.$shortcuts.getGeneratedKeyCode(Ds.space);if(this.$keyboardManager.check(r))return!1;const i=this.$viewport.getWorldPosition(t);return this.inSelection=!1,this.$selection.hasPoint(i)?(this.inSelection=!0,this.$selection.current.is("artboard")?this.$selection.current.hasChildren()?(this.$config.init("set.dragarea.mode",!0),this.$config.init("set.move.mode",!1),!0):(this.$config.init("set.dragarea.mode",!1),this.$config.init("set.move.mode",!0),!0):(this.$config.init("set.dragarea.mode",!1),this.$config.init("set.move.mode",!0),!0)):(this.mouseOverItem=this.$selection.filteredLayers[0],this.mouseOverItem?(this.$config.init("set.dragarea.mode",!1),this.$config.init("set.move.mode",!0)):(this.$config.init("set.dragarea.mode",!0),this.$config.init("set.move.mode",!1)),!0)}[xe("$dragAreaView")+Se("checkEditMode")+Ve("movePointer")+ze("moveEndPointer")](t){this.$config.get("set.dragarea.mode")&&this.emit("startDragAreaView")}initializeDragSelection(){this.$selection.reselect(),this.$snapManager.clear(),this.emit("refreshSelectionTool",!0)}movePointer(t,r){this.$config.get("set.dragarea.mode")&&this.emit("moveDragAreaView")}moveEndPointer(){this.$config.get("set.dragarea.mode")&&this.emit("endDragAreaView"),this.$config.init("set.dragarea.mode",!1),this.$config.init("set.move.mode",!1)}}class vd extends K{initState(){return{mode:"selection",x:0,y:0,width:1e4,height:1e4,cachedCurrentElement:{},html:""}}template(){return`
            <div class="elf--drag-area-view" ref="$dragAreaView" style="pointer-events:none;">
                <div class='drag-area-rect' ref='$dragAreaRect'></div>
            </div>            
        `}[I("drawAreaView")](t){this.refs.$dragAreaRect.css(t)}[I("initDrawAreaView")](){this.trigger("drawAreaView",{left:g.px(-1e4),top:g.px(0),width:g.px(0),height:g.px(0)})}[I("startDragAreaView")](){this.initMousePoint=this.$viewport.getWorldPosition(),this.$config.init("set.move.control.point",!0),this.dragRect={left:g.px(this.initMousePoint[0]),top:g.px(this.initMousePoint[1]),width:g.px(0),height:g.px(0)},this.trigger("drawAreaView",this.dragRect)}getSelectedItems(t,r){var i=this.$selection.currentProject;let s=[],n=[];return i&&(t.width===0&&t.height===0?s=[]:(i.layers.forEach(l=>{l.is("artboard")&&l.isIncludeByArea(r)?n.push(l):l.is("artboard")&&l.checkInArea(r)&&l.hasChildren()===!1?s.push(l):s.push.apply(s,l.checkInAreaForAll(r))}),s=s.filter(l=>l.isDragSelectable),s.length>1&&(s=s.filter(l=>l.is("artboard")===!1)))),n.length?n:s}[I("moveDragAreaView")](){const t=this.$config.get("bodyEvent"),r=this.$viewport.getWorldPosition(),i=Zr([],Te([],r,this.initMousePoint));t.shiftKey&&(i[1]=i[0]);const s=Zr([],this.initMousePoint),n=Zr([],we([],this.initMousePoint,i)),o=this.$viewport.applyVertex(s),l=this.$viewport.applyVertex(n),c=Tr([o,l]);this.dragRect={left:c[0][0],top:c[0][1],width:Math.abs(c[1][0]-c[0][0]),height:Math.abs(c[3][1]-c[0][1])},this.trigger("drawAreaView",{left:g.px(this.dragRect.left),top:g.px(this.dragRect.top),width:g.px(this.dragRect.width),height:g.px(this.dragRect.height)});var{left:h,top:d,width:p,height:u}=this.dragRect,m={x:h,y:d,width:p,height:u};const $=this.getSelectedItems(m,uh([s,n]));this.$selection.selectByGroup(...$)&&(this.emit("refreshSelection"),this.emit("refreshSelectionTool",!0))}[I("endDragAreaView")](){const t=this.$viewport.getWorldPosition(),r=Zr([],Te([],t,this.initMousePoint));this.$config.init("set.move.control.point",!1),r[0]===0&&r[1]===0&&this.$selection.empty(),this.trigger("initDrawAreaView"),this.$selection.reselect(),this.emit("history.refreshSelection"),this.emit("refreshSelectionTool",!0),this.emit("removeGuideLine")}}var DA="";class gM extends K{components(){return{PageTools:pM,DragAreaRectView:vd,HTMLRenderView:fd,DragAreaView:md}}initState(){return{cursor:"auto",cursorArgs:[]}}afterRender(){this.nextTick(()=>{this.trigger("resizeCanvas"),this.emit("moveSelectionToCenter",!0),this.refreshCursor()},100)}template(){return A("div",{class:"elf--page-container",tabIndex:"-1",ref:"$container"},A("div",{class:"page-view",ref:"$pageView"},A("div",{class:"page-lock scrollbar",ref:"$lock"},A(md,{ref:"$dragArea"}),A(fd,{ref:"$htmlRenderView"}),A(vd,{ref:"$dragAreaRectView"}),this.$injectManager.generate("canvas.view"))),"$",E("PageTools"))}[se("$pageView")](){return{style:{"--elf--canvas-background-color":this.$config.get("style.canvas.background.color")}}}checkSpace(t){return this.$config.get("set.tool.hand")?!0:this.$keyboardManager.check(this.$shortcuts.getGeneratedKeyCode(Ds.space))}[xe("$lock")+Se("checkSpace")+Ve("movePan")+ze("moveEndPan")](t){this.startMovePan()}[_t("set.tool.hand")](t){t?(this.startMovePan(),this.emit("refreshCursor","grab")):this.emit("recoverCursor","auto")}startMovePan(){this.lastDist=ci()}movePan(t,r){this.emit("refreshCursor","grabbing");const i=Ee(t,r,0);this.$viewport.pan(...Ye([],Te([],this.lastDist,i),this.$viewport.scaleMatrixInverse)),this.lastDist=i}refreshCursor(){this.$config.get("set.tool.hand")===!1?this.emit("refreshCursor","auto"):this.emit("refreshCursor","grab")}moveEndPan(){this.refreshCursor()}async[se("$container")](){return{style:{cursor:await this.$editor.cursorManager.load(this.state.cursor,...this.state.cursorArgs||[])}}}[Pr("$lock")+Pe](){}[wr("$lock")+Pe](t){const r=this.$viewport.getWorldPosition(t);if(t.dataTransfer.getData("text/asset"))this.emit("drop.asset",{asset:{id:t.dataTransfer.getData("text/asset"),center:r}});else{cM.getAllDropItems(t);const i=be.create(t.target).attr("data-id");if(i)this.emit("drop.asset",{gradient:t.dataTransfer.getData("text/gradient"),pattern:t.dataTransfer.getData("text/pattern"),color:t.dataTransfer.getData("text/color"),imageUrl:t.dataTransfer.getData("image/info")},i);else{const s=t.dataTransfer.getData("image/info");this.emit("dropImageUrl",s)}}}[Fc("$lock")+Pe](t){const[r,i]=Hc(t);if(!this.state.gesture)t.ctrlKey&&this.$viewport.setMousePoint(t.clientX,t.clientY),this.emit("startGesture"),this.state.gesture=!0;else if(t.ctrlKey){const s=1-2.5*i/100;this.$viewport.zoom(s)}else{const s=-2.5*r,n=-2.5*i;this.$viewport.pan(-s/this.$viewport.scale,-n/this.$viewport.scale,0)}clearTimeout(this.state.timer),this.state.timer=setTimeout(()=>{this.state.gesture=void 0,this.emit("endGesture")},200)}refreshCanvasSize(){this.$viewport.refreshCanvasSize(this.refs.$lock.rect())}[I("resize.window","resizeCanvas")](){this.refreshCanvasSize()}[I("changeIconView")](t,...r){`${this.state.cursor} ${this.state.cursorArgs}`!=`${t} ${r}`&&(this.state.cursor=t,this.state.cursorArgs=r,this.bindData("$container"))}}var FA="",BA="";class fM extends K{template(){return`
      <div class='elf--page-subeditor'>
        ${this.$injectManager.generate("page.subeditor.view")}         
      </div>
    `}}class yd extends K{components(){return{CanvasView:gM,VerticalRuler:lM,HorizontalRuler:oM,PageSubEditor:fM}}template(){return`
      <div class="elf--body-panel">
        <div class="submenu-area">
          ${E("PageSubEditor")}
        </div>
        <div class='editing-area'>
          ${E("HorizontalRuler")}
          ${E("VerticalRuler")}
          <div class="canvas-layout">
            ${E("CanvasView")}
          </div>

        </div>
      </div>
    `}[se("$el")](){return{class:`elf--body-panel ${this.$config.get("show.ruler")?"ruler":""}`}}[_t("show.ruler")](){this.refresh()}[I("bodypanel.toggle.fullscreen")](){this.refs.$el.toggleFullscreen()}}var NA="";class Un extends K{template(){return`
      <div class='elf--window-background'>
        <div class='window ${this.getClassName()}'>
            <div class='window-title' ref="$title">
                <label>${this.getTitle()}</label>
                <span class="tools">
                  ${this.getTools()}
                  <button type='button' class='close' ref='$close'>${O("close")}</button>
                </span>
            </div>
            <div class='window-body'>${this.getBody()}</div>
        </div>
      </div>
        `}getClassName(){return""}getTitle(){return""}getTools(){return""}getBody(){return""}[F("$close")](){this.$el.hide()}show(t=200){this.$el.show("block")}hide(){this.$el.hide()}}var GA="";class mM extends Un{getClassName(){return"elf--export-window"}getTitle(){return"Export"}initState(){return{selectedIndex:1}}getBody(){return`
        <div class="tab" ref="$tab">
            <div class="tab-header full" ref="$header">
                <div class="tab-item selected" data-value="1">
                    <label>HTML</label>
                </div>
                <div class="tab-item" data-value="2">
                    <label>CSS</label>
                </div>                
                <div class="tab-item" data-value="6">
                    <label>SVG Image</label>
                </div>     
            </div>
            <div class="tab-body" ref="$body">
                <div class="tab-content selected" data-value="1" ref="$html">
                </div>
                <div class='tab-content' data-value='2' ref="$css">
                </div>                        
                <div class="tab-content" data-value="6" ref="$svgimage">
                </div>                                                                       
            </div>
      </div>
        `}[I("showExportWindow")](){this.show(),this.refresh()}refresh(){var t=this.$selection.currentProject||{layers:[]},r=`
${this.makeStyle(t)}
${t.layers.map(n=>this.makeStyle(n)).join(`
`)}
`,i=`
${this.$editor.html.renderSVG(t)}
${this.$editor.html.render(t)}
        `,s=t.layers.map(n=>this.$editor.svg.render(n));shiki&&shiki.getHighlighter({theme:"light-plus"}).then(n=>{if(html_beautify){i=html_beautify(i,{indent:2});const o=n.codeToHtml(i,"html");this.refs.$html.html(o),r=html_beautify(r,{indent:2});const l=n.codeToHtml(r,"html");this.refs.$css.html(l),s=html_beautify(s.join(""),{indent:2});const c=n.codeToHtml(s,"html");this.refs.$svgimage.html(c)}})}makeStyle(t){return this.$editor.html.toExportStyle(t,null)}makeHTML(t){return this.$editor.html.render(t)}[F("$header .tab-item")](t){var r=+t.$dt.attr("data-value");this.state.selectedIndex!==r&&(this.$el.$$(`[data-value="${this.state.selectedIndex}"]`).forEach(i=>i.removeClass("selected")),this.$el.$$(`[data-value="${r}"]`).forEach(i=>i.addClass("selected")),this.setState({selectedIndex:r},!1))}}oi({ExportWindow:mM});var HA="";const bd=new Set;pl.forEach(a=>{bd.add(a.category)});const Ga={};bd.forEach(a=>{pl.filter(t=>t.category===a).forEach(t=>{Ga[t.category]||(Ga[t.category]=[]),Ga[t.category].push(t)})});const vM={ARROWRIGHT:"\u2192",ARROWLEFT:"\u2190",ARROWUP:"\u2191",ARROWDOWN:"\u2192",BACKSPACE:"\u232B",CMD:"\u2318"},yM=ul();class bM extends Un{getClassName(){return"elf--shortcut-window"}getTitle(){return"ShortCuts"}getKeyString(t,r){return(r[t]||r.key).split("+").map(i=>i.trim()).map(i=>{const s=i.toUpperCase();return`<span>${vM[s]||s}</span>`}).join(" + ")}getTemplateForShortcutItem(t){return`
            <div class='shortcut-view-item'>
                <div class='title'>${t.description}</div>
                <div class='os-item'>${this.getKeyString(yM,t)}</div>
            </div>                        
        `}getTemplateForCategory(t,r=[]){return`
            <div class='item'>
                <h2>${t}</h2>
                <div>
                    ${r.map(i=>this.getTemplateForShortcutItem(i)).join("")}
                </div>
            </div>
        `}getTemplateForLayer(){return`
            <div class='item'>
                <h2>Layer</h2>
                <div>
                    <div class='shortcut-view-item'>
                        <div class='title'>
                            Add Rect
                            <span class='description'>fdsafdsfdf</span>
                        </div>

                        <div class='os-item mac'><span>CTRL</span>+<span>R</span></div>
                        <div class='os-item win'>R</div>
                        <div class='os-item linux'>R</div>
                    </div>
                </div>
            </div>
        `}getBody(){return`
        <div class="list">
            ${Object.keys(Ga).map(t=>this.getTemplateForCategory(t,Ga[t])).join("")}
        </div>
        `}[I("showShortcutWindow")](){this.show()}}oi({ShortcutWindow:bM});var UA="";class $M extends Un{getClassName(){return"elf--project-window"}getTitle(){return"Project Manager"}initState(){return{selectedIndex:1}}getBody(){return`
        <div class="project-container">
            <div class="project-menu left">
                Project Menu
            </div>
            <div class="project-list right">
                Project List
            </div>
        </div>
        `}[I("open.projects")](){this.show(),this.refresh()}refresh(){this.$selection.currentProject}}oi({ProjectWindow:$M});class xM extends Un{getClassName(){return"elf--export-window"}getTitle(){return"Mini Editor"}initState(){return{selectedIndex:1}}refresh(){this.$el.isShow()&&Ku.createDesignEditor({container:this.refs.$body.el,config:{"editor.design.mode":"item"}})}getBody(){return`
        <div class="test" ref="$body">

      </div>
        `}[I("showEmbedEditorWindow")](){this.show(),this.refresh()}}oi({EmbedEditorWindow:xM});var XA="";class _M extends K{template(){return`
            <div class='elf--notification-view'>
            </div>
        `}[Bc("$el")](t){be.create(t.target).remove()}[F("$el .item > .icon")](t){t.$dt.parent().remove()}getMessageTemplate(t,r,i,s=1e3){return`
        <div class='item ${t}' style='transition-duration: ${s}ms;'>
            <div class='title'>${r}</div> 
            <div class='description'>${i}</div>
            <span class='icon'>${O("close")}</span>
        </div>
    `}[I("notify")](t,r,i,s=1e3){const n=be.createByHTML(this.getMessageTemplate(t,r,i,1e3));this.$el.prepend(n),setTimeout(o=>{o.css("opacity",0)},s,n)}}class yl extends K{components(){return{NotificationView:_M}}template(){return A("div",{class:"popup-manger"},E("ExportWindow"),E("EmbedEditorWindow"),E("ProjectWindow"),E("ShortcutWindow"),E("NotificationView"),this.$injectManager.generate("popup"))}}const SM=["TEXTAREA","INPUT","SELECT"];class bl extends K{template(){return`
      <div class="keyboard-manager"></div>
    `}isNotFormElement(t){var r=t.target.tagName;return SM.includes(r)?!1:be.create(t.target).attr("contenteditable")!=="true"}[ia("document")+Se("isNotFormElement")](t){this.emit("keymap.keydown",t)}[Xt("document")+Se("isNotFormElement")](t){this.emit("keymap.keyup",t)}}class Ha extends K{initState(){return{value:this.props.value||""}}template(){const{content:t}=this.props,{value:r}=this.state;return A("div",{class:"tab-content scrollbar","data-value":r},t)}}var YA="";class $d extends K{afterRender(){setTimeout(()=>{this.setValue(this.state.selectedValue)},0)}initState(){return{type:this.props.type||"number",selectedValue:this.props.selectedValue||""}}template(){return`
        <div class="tab" ref="$tab"></div>
      `}[U("$tab")](){const{content:t,contentChildren:r}=this.props,i=r.filter(s=>s.component===Ha);return[A("div",{class:"tab-header",ref:"$header"},i.map(s=>A("div",{class:"tab-item","data-value":s.props.value,title:s.props.title},A("label",{class:"title"},s.props.title)))),A("div",{class:"tab-body",ref:"$body"},t)]}[F("$header .tab-item:not(.empty-item)")](t){var r=t.$dt.attr("data-value");this.setValue(r)}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.getValue())}getValue(){return this.state.selectedValue}setValue(t){var r,i;(r=this.$el.$(`* > .tab-item[data-value="${t}"]`))==null||r.onlyOneClass("selected"),(i=this.$el.$(`* > .tab-content[data-value="${t}"]`))==null||i.onlyOneClass("selected"),this.updateData({selectedValue:t})}}class wM extends K{afterRender(){this.$el.toggle(this.$config.is("editor.design.mode",Zh.DESIGN))}[se("$el")](){return{style:{display:this.$config.is("editor.design.mode",Zh.DESIGN)?"block":"none"}}}template(){return A("div",{class:"feature-control inspector"},A("div",null,A($d,{ref:"$tab",selectedValue:"style",onchange:t=>{this.$config.set("inspector.selectedValue",t)}},A(Ha,{value:"style",title:this.$i18n("inspector.tab.title.design")},A("div",{style:"display: flex; flex-direction: column;"},this.$injectManager.generate("inspector.tab.style"),A("div",{class:"empty",style:"order: 1000000;"}))),A(Ha,{value:"transition",title:this.$i18n("inspector.tab.title.transition")},A("div",{style:"display: flex; flex-direction: column;"},this.$injectManager.generate("inspector.tab.transition"),A("div",{class:"empty",style:"order: 1000000;"}))),A(Ha,{value:"code",title:this.$i18n("inspector.tab.title.code")},A("div",{style:"display: flex; flex-direction: column;"},this.$injectManager.generate("inspector.tab.code"),A("div",{class:"empty",style:"order: 1000000;"}))),this.$injectManager.getTargetUI("inspector.tab").map(t=>{const{value:r,title:i,loadElements:s}=t.class;return A(Ha,{value:r,title:i,icon:t.icon},A("div",{style:"display: flex: flex-direction: column;"},s.map(n=>craeteElement(n)),this.$injectManager.generate("inspector.tab."+t.value),A("div",{class:"empty",style:"order: 1000000;"})))}))))}}class xd extends K{get locales(){return Object.keys(this.$editor.i18n.locales)}template(){var t=this.locales.map(r=>{var i=this.$i18n(`app.lang.${r}`);return{text:i,value:r}});return`
            <div class='status-selector'>
                <div class='item'>
                    ${E("SelectEditor",{ref:"$locale",options:t,value:this.$editor.locale,onchange:"changeLocale"})}
                    /> 
                </div>
            </div>
        `}[Q("changeLocale")](t,r){this.emit("setLocale",r)}}class _d extends K{template(){var t=["all","css","svg"].map(r=>{var i=this.$i18n(`app.layout.${r}`);return{value:r,text:i}});return`
            <div class='status-selector'>
                <div class='item'>
                    ${E("SelectEditor",{ref:"$locale",options:t,value:this.$editor.layout,onchange:"changeEditorLayoutValue"})}
                        
                    /> 
                </div>
            </div>
        `}[Q("changeEditorLayoutValue")](t,r){this.$config.set("editor.layout.mode",r)}}class PM extends K{initState(){return{version:"@@VERSION@@"}}template(){return`<div class="version-view">v${this.state.version}</div>`}}var WA="";class CM extends K{components(){return{LanguageSelector:xd,LayoutSelector:_d,VersionView:PM}}template(){return`
            <div class='elf--status-bar'>
                <div class='tool-view left' ref='$leftTool'>
                    ${this.$injectManager.generate("statusbar.left")}                    
                </div>            
                <div class='message-view' ref='$msg'></div>
                <div class='tool-view right' ref='$rightTool'>
                    ${this.$injectManager.generate("statusbar.right")}
                    ${E("LayoutSelector")}
                    ${E("VersionView")}
                </div>
            </div>
        `}initState(){return{msg:""}}[se("$msg")](){return{text:this.state.msg}}[I("addStatusBarMessage")](t){this.setState({msg:t})}}const kM="",Sd="",TM=!1;class $t extends K{template(){return`
        <button 
            type="button" 
            class='elf--menu-item ${this.getClassName()}' 
            data-no-title="${this.isHideTitle()}" 
            ${this.isHideTitle()&&this.isHideTooltip()===!1?`data-tooltip="${this.getTitle()}"`:""} 
            checked="${this.getChecked()?"checked":""}"
            ${this.isDisabled()?"disabled":""}
            data-direction="${this.getDirection()}"
        >
            <div class="icon ${this.getIcon()}" ref="$icon">${ae[this.getIconString()]||this.getIconString()||""}</div>
            ${this.isHideTitle()?"":`<div class="title">${this.getTitle()}</div>`}
            
        </button>
        `}getClassName(){return""}clickButton(t){}getChecked(){return TM}isDisabled(){return!1}setSelected(t){this.$el.toggleClass("selected",t)}getTitle(){return kM}getIcon(){return Sd}setIcon(t){this.refs.$icon.html(ae[t]||t||"")}getIconString(){return Sd}isHideTitle(){return!1}isHideTooltip(){return!0}[F()](t){this.clickButton(t)}getDirection(){return this.props.direction||""}static createMenuItem(t={}){return class extends $t{getIconString(){return t.iconString||"add_box"}getTitle(){return t.title||"New Item"}isHideTitle(){return t.isHideTitle||!0}clickButton(r){t.clickButton(r)}getDirection(){return t.direction}}}}class MM extends $t{getIconString(){return"note"}getTitle(){return this.$i18n("menu.item.projects.title")}isHideTitle(){return!0}clickButton(t){this.emit("open.projects")}}var KA="",ZA="";class wd extends K{initialize(){super.initialize();const t=this.props.events||[];t.length&&t.forEach(r=>{this.on(r,()=>this.refresh())})}initState(){return{direction:this.props.direction||"left",opened:this.props.opened||!1,items:this.props.items||[],selectedKey:this.props.selectedKey,dy:this.props.dy||0}}makeMenuItem(t){var i;if(t==="-"||t.type==="divider")return'<li class="dropdown-divider"></li>';if(t.type==="link")return`
          <li><a href="${t.href}" target="${t.target||"_blank"}">${this.$i18n(t.title)}</a></li>
        `;if(Array.isArray(t.items))return`
          <li>
              <label>${this.$i18n(t.title)}</label> 
              <span>${O("arrowRight")}</span>              
              <ul>
                  ${t.items.map(s=>this.makeMenuItem(s)).join("")}
              </ul>
          </li>
        `;const r=ye(t.checked)?t.checked(this.$editor):"";return`
        <li data-command="${t.command}" data-has-children="${Boolean((i=t.items)==null?void 0:i.length)}"
          ${t.disabled&&"disabled"} 
          ${t.shortcut&&"shortcut"}
          ${r&&"checked"}
          ${t.nextTick&&`data-next-tick=${Fr(t.nextTick,this.groupId)}`} 
          ${t.args&&`data-args=${Fr(t.args,this.groupId)}`} 
          ${t.key&&`data-key=${t.key}`} 
        >
            <span class="icon">${r?O("check"):t.icon||""}</span>
            <div class='menu-item-text'>
              <label>${this.$i18n(t.title)}</label>
              <kbd class="shortcut">${t.shortcut||""}</kbd>
            </div>
        </li>
      `}template(){const{direction:t,opened:r,items:i}=this.state;return`
        <div class="dropdown-menu ${r?"opened":""}" data-direction="${t}">
          <span class='icon' ref="$icon"></span>
          <span class='dropdown-arrow' ref="$arrow">${O("keyboard_arrow_down")}</span>
          <ul class="dropdown-menu-item-list" ref="$list"></ul>
          <div class="dropdown-menu-arrow">
              <svg viewBox="0 0 12 6" width="12" height="6">
                <path d="M0,6 L6,0 L12,6 "></path>
              </svg>
          </div>
      </div>
      `}[U("$icon")](){return ye(this.props.icon)?this.props.icon(this.state):this.props.icon}[se("$el")](){return{"data-selected":ye(this.props.selected)?this.props.selected(this.state,this.$editor):!1,style:le(v({},this.props.style||{}),{"--elf--dropdown-menu-width":this.props.width,"--elf--dropdown-menu-dy":Re(this.props.dy)?g.px(this.props.dy):0})}}close(){this.setState({opened:!1},!1),this.$el.removeClass("opened")}toggle(){this.setState({opened:!this.state.opened},!1),this.$el.toggleClass("opened",this.state.opened),this.state.opened&&this.emit("hideDropdownMenu")}get groupId(){return this.id+"$list"}[U("$list")+st](){return Ap(this.groupId),this.state.items.map(t=>this.makeMenuItem(t))}checkDropdownOpen(t){return!be.create(t.target).closest("dropdown-menu-item-list")}[F("$arrow")+Se("checkDropdownOpen")](t){this.toggle()}[F("$icon")](t){if(this.state.selectedKey){const r=this.state.items.find(l=>l.key===this.state.selectedKey),i=r.command,s=r.args,n=r.nextTick,o=r.key;i&&this.emit(i,...s),n&&ye(n)&&this.nextTick(n),this.setState({selectedKey:o}),this.close()}}[F("$el [data-command]")](t){const r=t.$dt.data("command"),i=t.$dt.data("args")||[],s=t.$dt.data("next-tick"),n=t.$dt.data("key");r&&this.emit(r,...i),s&&ye(s)&&this.nextTick(s),this.setState({selectedKey:n}),this.close()}[Q("updateMenuItems")](t){this.setState({items:t})}[I("hideDropdownMenu")](){this.close()}[xe("document")](t){const i=be.create(t.target).closest("dropdown-menu");i?i.el!==this.$el.el&&this.close():this.close()}}class IM extends $t{getIconString(){return"undo"}getTitle(){return"Undo"}isHideTitle(){return!0}clickButton(t){this.emit("history.undo")}}class EM extends $t{getIconString(){return"redo"}getTitle(){return"Redo"}isHideTitle(){return!0}clickButton(t){this.emit("history.redo")}}class LM extends $t{getIconString(){return"launch"}getTitle(){return this.$i18n("menu.item.export.title")}clickButton(t){this.emit("showExportView")}}class VM extends $t{getIconString(){return"source"}getTitle(){return this.$i18n("menu.item.download.title")}clickButton(t){this.emit("downloadJSON")}}class RM extends $t{getIconString(){return"storage"}getTitle(){return this.$i18n("menu.item.save.title")}clickButton(t){this.emit("saveJSON"),this.nextTick(()=>{this.emit("notify","alert","Save","Save the content on localStorage",2e3)})}}class zM extends $t{getIconString(){return"outline"}getTitle(){return"Outline"}isHideTitle(){return!0}clickButton(t){this.$config.toggle("show.outline"),this.emit("addLayerView","select")}[_t("show.outline")](t){this.setSelected(t)}}class jM extends $t{afterRender(){this.$el.$(".icon").css("transform","rotate(-30deg)")}getIconString(){return"navigation"}getTitle(){return this.props.title||"Select"}clickButton(t){this.emit("addLayerView","select")}doSelect(){this.setSelected(this.$config.is("editing.mode",hr.SELECT))}[I("refreshSelection")](){this.doSelect()}isHideTitle(){return!0}[_t("editing.mode")](){this.doSelect()}}class AM extends $t{getIconString(){return this.$config.is("editor.theme","dark")?"dark":"light"}getTitle(){return"Theme"}isHideTitle(){return!0}clickButton(t){this.$config.get("editor.theme")==="dark"?(this.$config.set("editor.theme","light"),this.setIcon("light")):(this.$config.set("editor.theme","dark"),this.setIcon("dark"))}}class Pd extends $t{getIconString(){return"artboard"}getTitle(){return this.props.title||"ArtBoard"}clickButton(t){this.emit("addLayerView","artboard")}isHideTitle(){return!0}doSelect(){this.setSelected(this.$config.is("editing.mode",hr.APPEND)&&this.$config.is("editing.mode.itemType","artboard"))}[_t("editing.mode")](){this.doSelect()}[_t("editing.mode.itemType")](){this.doSelect()}}oi({AddArtboard:Pd}),O("rect"),gt({key:"R"}),O("lens"),gt({key:"O"}),O("title"),gt({key:"T"}),O("image"),gt({key:"I"}),O("video"),gt({key:"V"}),O("iframe"),gt({key:"F"}),O("rect"),gt({key:"F"}),O("outline_rect"),gt({key:"Shift+R"}),O("outline_circle"),gt({key:"Shift+O"}),O("polygon"),gt({key:"Shift+P"}),O("star"),gt({key:"Shift+S"}),O("smooth"),gt({key:"Shift+L"}),O("text_rotate"),gt({key:"Shift+T"});class Cd extends $t{getIconString(){return"rect"}getTitle(){return this.props.title||"Rect"}clickButton(t){this.emit("addLayerView","rect")}isHideTitle(){return!0}doSelect(){this.setSelected(this.$config.is("editing.mode",hr.APPEND)&&this.$config.is("editing.mode.itemType","rect"))}[_t("editing.mode")](){this.doSelect()}[_t("editing.mode.itemType")](){this.doSelect()}}oi({AddRect:Cd});class kd extends $t{getIconString(){return"outline_rect"}getTitle(){return this.props.title||"RectPath"}clickButton(t){this.emit("addLayerView","svg-rect")}isHideTitle(){return!0}}oi({AddSVGRect:kd});var OM=[{type:"dropdown",style:{"margin-left":"12px"},icon:`<div class="logo-item"><label class='logo'></label></div>`,items:[{title:"menu.item.fullscreen.title",command:"toggle.fullscreen",shortcut:"ALT+/"},{title:"menu.item.shortcuts.title",command:"showShortcutWindow"},"-",{title:"menu.item.export.title",command:"showExportView"},{title:"menu.item.export.title",command:"showEmbedEditorWindow"},{title:"menu.item.download.title",command:"downloadJSON"},{title:"menu.item.save.title",command:"saveJSON",nextTick:()=>{globalThis.emit("notify","alert","Save","Save the content on localStorage",2e3)}},{title:"menu.item.language.title",items:[{title:"English",command:"setLocale",args:[xr.EN],checked:a=>a.locale===xr.EN},{title:"Fran\xE7ais",command:"setLocale",args:[xr.FR],checked:a=>a.locale===xr.FR},{title:"Korean",command:"setLocale",args:[xr.KO],checked:a=>a.locale===xr.KO}]},"-",{title:"EasyLogic Studio",items:[{type:"link",title:"Github",href:"https://github.com/easylogic/editor"},{type:"link",title:"Learn",href:"https://www.easylogic.studio"}]}]},{type:"button",icon:"navigation",events:["config:editing.mode"],selected:a=>a.config.is("editing.mode",hr.SELECT),action:a=>{a.emit("addLayerView","select")}},{type:"button",icon:"artboard",events:["config:editing.mode","config:editing.mode.itemType"],selected:a=>a.config.is("editing.mode",hr.APPEND)&&a.config.is("editing.mode.itemType","artboard"),action:a=>{a.emit("addLayerView","artboard")}},{type:"dropdown",selectedKey:"rect",icon:a=>{switch(a.selectedKey){case"circle":return O("lens");case"text":return O("title");case"image":return O("image");case"video":return O("video");case"iframe":return O("iframe")}return O("rect")},items:[{icon:O("rect"),title:"Rect Layer",key:"rect",command:"addLayerView",args:["rect"],shortcut:gt({key:"R"})},{icon:O("lens"),title:"Circle Layer",key:"circle",command:"addLayerView",args:["circle"],shortcut:gt({key:"O"})},{icon:O("title"),title:"Text",key:"text",command:"addLayerView",args:["text"],shortcut:gt({key:"T"})},{icon:O("image"),title:"Image",key:"image",command:"addLayerView",args:["image"],shortcut:gt({key:"I"})},"-",{icon:O("video"),title:"Video",key:"video",command:"addLayerView",args:["video"],shortcut:gt({key:"V"})},{icon:O("iframe"),title:"IFrame",key:"iframe",command:"addLayerView",args:["iframe"],shortcut:gt({key:"F"})},{icon:O("rect"),title:"SampleLayer",key:"sample",command:"addLayerView",args:["sample"]}],events:["config:editing.mode","config:editing.mode.itemType"],selected:(a,t)=>t.config.is("editing.mode",hr.APPEND)&&(t.config.is("editing.mode.itemType","rect")||t.config.is("editing.mode.itemType","circle")||t.config.is("editing.mode.itemType","text")||t.config.is("editing.mode.itemType","image")||t.config.is("editing.mode.itemType","video")||t.config.is("editing.mode.itemType","iframe"))},{type:"dropdown",selectedKey:"path",icon:a=>{switch(a.selectedKey){case"brush":return O("brush")}return O("pentool")},items:[{icon:O("pentool"),title:"Pen",key:"path",command:"addLayerView",args:["path"],shortcut:gt({key:"P"})},{icon:O("brush"),title:"Pencil",key:"brush",command:"addLayerView",args:["brush"],shortcut:gt({key:"B"})}],events:["config:editing.mode","config:editing.mode.itemType"],selected:(a,t)=>(t.config.is("editing.mode",hr.PATH)||t.config.is("editing.mode",hr.DRAW))&&(a.selectedKey==="path"||a.selectedKey==="brush")},{type:"dropdown",selectedKey:"svg-rect",icon:a=>{switch(a.selectedKey){case"svg-circle":return O("outline_circle");case"polygon":return O("polygon");case"star":return O("star");case"spline":return O("smooth");case"svg-textpath":return O("text_rotate")}return O("outline_rect")},items:[{icon:O("outline_rect"),title:"Rectangle",key:"svg-rect",command:"addLayerView",args:["svg-rect"],shortcut:gt({key:"Shift+R"})},{icon:O("outline_circle"),title:"Circle",key:"svg-circle",command:"addLayerView",args:["svg-circle"],shortcut:gt({key:"Shift+O"})},{icon:O("polygon"),title:"Polygon",key:"svg-polygon",command:"addLayerView",args:["polygon",{"background-color":"transparent"}],shortcut:gt({key:"Shift+P"})},{icon:O("star"),title:"Star",key:"star",command:"addLayerView",args:["star",{"background-color":"transparent"}],shortcut:gt({key:"Shift+S"})},"-",{icon:O("smooth"),title:"Spline",key:"spline",command:"addLayerView",args:["spline",{"background-color":"transparent"}],shortcut:gt({key:"Shift+L"})},{icon:O("text_rotate"),title:"TextPath",key:"svg-texpath",command:"addLayerView",args:["svg-textpath",{"background-color":"transparent"}],shortcut:gt({key:"Shift+T"})}],events:["config:editing.mode","config:editing.mode.itemType"],selected:(a,t)=>t.config.is("editing.mode",hr.APPEND)&&(t.config.is("editing.mode.itemType","svg-rect")||t.config.is("editing.mode.itemType","svg-circle")||t.config.is("editing.mode.itemType","polygon")||t.config.is("editing.mode.itemType","star")||t.config.is("editing.mode.itemType","spline")||t.config.is("editing.mode.itemType","svg-textpath"))}],DM=[{type:"button",icon:a=>a.config.is("editor.theme","dark")?"dark":"light",action:a=>{a.config.get("editor.theme")==="dark"?a.config.set("editor.theme","light"):a.config.set("editor.theme","dark")}}],FM={left:()=>OM,center:()=>[],right:()=>DM},qA="";class BM extends K{initialize(){super.initialize();const t=this.props.events||[];t.length&&t.forEach(r=>{this.on(r,()=>this.refresh())})}template(){return`
        <button type="button"  class='elf--toolbar-menu-item' >
            <span class="icon" ref="$icon"></span>
        </button>
        `}[F("$el")](t){this.props.command?this.emit(this.props.command,...this.props.args):this.props.action&&this.props.action(this.$editor)}[U("$icon")+st](){return O(this.props.icon)}[se("$el")](){return{"data-selected":ye(this.props.selected)?this.props.selected(this.$editor):!1}}}class NM extends K{components(){return{DropdownMenu:wd,ToolbarMenuItem:BM}}template(){return'<div class="toolbar-renderer"></div>'}[U("$el")](){return this.props.items.map((t,r)=>this.renderMenuItem(t,r))}renderMenuItem(t,r){switch(t.type){case"link":return this.renderLink(t,r);case"menu":return this.renderMenu(t,r);case"button":return this.renderButton(t,r);case"dropdown":return this.renderDropdown(t,r);default:return this.renderButton(t,r)}}renderButton(t,r){return E("ToolbarMenuItem",{ref:"$button-"+r,title:t.title,icon:t.icon,command:t.command,shortcut:t.shortcut,args:t.args,nextTick:t.nextTick,disabled:t.disabled,selected:t.selected,selectedKey:t.selectedKey,action:t.action,events:t.events})}renderDropdown(t,r){return E("DropdownMenu",{ref:"$dropdown-"+r,items:t.items,icon:t.icon,events:t.events,selected:t.selected,selectedKey:t.selectedKey,action:t.action,style:t.style,dy:6},[t.content])}}class GM extends K{initState(){return{items:[{title:"menu.item.fullscreen.title",command:"toggle.fullscreen",shortcut:"ALT+/"},{title:"menu.item.shortcuts.title",command:"showShortcutWindow"},"-",{title:"menu.item.export.title",command:"showExportView"},{title:"menu.item.export.title",command:"showEmbedEditorWindow"},{title:"menu.item.download.title",command:"downloadJSON"},{title:"menu.item.save.title",command:"saveJSON",nextTick:()=>{this.emit("notify","alert","Save","Save the content on localStorage",2e3)}},{title:"menu.item.language.title",items:[{title:"English",command:"setLocale",args:[xr.EN],checked:()=>this.$editor.locale===xr.EN},{title:"Fran\xE7ais",command:"setLocale",args:[xr.FR],checked:()=>this.$editor.locale===xr.FR},{title:"Korean",command:"setLocale",args:[xr.KO],checked:()=>this.$editor.locale===xr.KO}]},"-",{title:"EasyLogic Studio",items:[{type:"link",title:"Github",href:"https://github.com/easylogic/editor"},{type:"link",title:"Learn",href:"https://www.easylogic.studio"}]}]}}components(){return{ToolBarRenderer:NM,LayoutSelector:_d,LanguageSelector:xd,ThemeChanger:AM,Outline:zM,SelectTool:jM,ExportView:LM,Download:VM,Save:RM,Undo:IM,Redo:EM,DropdownMenu:wd,Projects:MM,AddArtboard:Pd,AddRect:Cd,AddSVGRect:kd}}template(){return`
            <div class='elf--tool-bar'>
                ${E("ToolBarRenderer",{items:FM.left(this.$editor)})}
                <div class='center'>
                </div>
                <div class='right'>
                    ${this.$injectManager.generate("toolbar.right")}
                    ${E("ThemeChanger")}
                </div>
            </div>
        `}[U("$logo")](){return`
            <div class="logo-item">           
                ${E("DropdownMenu",{ref:"$menu",items:this.state.items,dy:6},[cd("label",{class:"logo"})])}
            </div>                                
        `}[_t("language.locale")](){this.refresh()}}class Td extends $t{getIconString(){return"align_vertical_bottom"}getTitle(){return"Bottom"}isHideTitle(){return!0}clickButton(t){this.emit("sort.bottom")}}class Md extends $t{getIconString(){return"align_horizontal_center"}getTitle(){return"Center"}isHideTitle(){return!0}clickButton(t){this.emit("sort.center")}}class Id extends $t{getIconString(){return"align_horizontal_left"}getTitle(){return"Left"}isHideTitle(){return!0}clickButton(t){this.emit("sort.left")}}class Ed extends $t{getIconString(){return"align_vertical_center"}getTitle(){return"middle"}isHideTitle(){return!0}clickButton(t){this.emit("sort.middle")}}class Ld extends $t{getIconString(){return"align_horizontal_right"}getTitle(){return"Right"}isHideTitle(){return!0}clickButton(t){this.emit("sort.right")}}class Vd extends $t{getIconString(){return"vertical_distribute"}getTitle(){return"height"}isHideTitle(){return!0}clickButton(t){this.emit("same.height")}}class Rd extends $t{getIconString(){return"horizontal_distribute"}getTitle(){return"width"}isHideTitle(){return!0}clickButton(t){this.emit("same.width")}}class zd extends $t{getIconString(){return"align_vertical_top"}getTitle(){return"Top"}isHideTitle(){return!0}clickButton(t){this.emit("sort.top")}}var QA="";class De extends K{onToggleShow(){}template(){return`
        <div class='elf--property ${this.isHideHeader()?"no-title":""} ${this.getClassName()} ${this.isFirstShow()?"show":""}'>
            ${this.isHideHeader()?"":`
            <div class='property-title ${this.getTitleClassName()}' ref="$title">
                <label class="${this.hasKeyframe()?"has-keyframe":""}"> 
                  ${this.hasKeyframe()?`
                      <span class='add-timeline-property' data-property='${this.getKeyframeProperty()}'></span>
                    `:""} 
                  <span ref='$propertyTitle'>${this.getTitle()}</span>
                </label>
                <span class="tools">${this.getTools()}</span>
            </div>`}
            <div class='property-body ${this.getBodyClassName()}'>${this.getBody()}</div>
            ${this.getFooter()?`<div class='property-footer'>${this.getFooter()}</div>`:""}
        </div>
        `}[se("$el")](){return{style:{"--property-order":this.order}}}setTitle(t){this.refs.$propertyTitle.html(t)}hasKeyframe(){return!1}isHideHeader(){return!1}isFirstShow(){return!0}getClassName(){return""}getTitleClassName(){return""}getBodyClassName(){return""}getKeyframeProperty(){return""}getTitle(){return""}getTools(){return""}getBody(){return""}getFooter(){return""}isPropertyShow(){return this.$el.hasClass("show")}toggle(t){this.$el.toggle(t)}hide(){this.$el.hide()}show(){this.$el.show()}onShowTitle(t){}refreshShowIsNot(t="",r=!0){var i=this.$selection.current;i&&(t.includes(i.itemType)?this.hide():(this.show(),r&&this.refresh()))}refreshShow(t,r=!0){var i=this.$selection.current;i?ye(t)&&t()?(this.show(),r&&this.refresh()):!ye(t)&&t.includes(i.itemType)?(this.show(),r&&this.refresh()):this.hide():this.hide()}startInputEditing(t){!t||(t.attr("contenteditable",!0),t.css({"background-color":"white",outline:"1px auto black",color:"black"}),t.focus())}endInputEditing(t,r){if(!!t){t.attr("contenteditable",!1),t.css({"background-color":null,outline:null,color:null});var i=t.attr("data-index");r&&r(i,t.text().trim()),t.blur()}}get editableProperty(){return""}get order(){return 1e3}checkShow(){return this.$selection.current?this.$selection.current.editable(this.editableProperty)?(this.show(),!0):(this.hide(),!1):(this.hide(),!1)}}var JA="";class HM extends De{components(){return{LeftAlign:Id,CenterAlign:Md,RightAlign:Ld,TopAlign:zd,MiddleAlign:Ed,BottomAlign:Td,SameWidth:Rd,SameHeight:Vd}}getTitle(){return this.$i18n("alignment.property.title")}isHideHeader(){return!0}getBody(){return`
      <div class="elf--alignment-item">
        ${Hn("LeftAlign","CenterAlign","RightAlign","TopAlign","MiddleAlign","BottomAlign",["SameWidth",{direction:"bottom"}],"SameHeight")}
      </div>
    `}}function UM(a){a.registerUI("inspector.tab.style",{AlignmentProperty:HM})}function jd(a,t="@"){return`${t}${a.startIndex}`.padEnd(10,"0")}function XM(a,t){const r=a.match(t);let i=[];if(!r)return i;for(var s=0,n=r.length;s<n;s++)i.push({parsedString:r[s]});var o={next:0};return i.forEach(l=>{const c=a.indexOf(l.parsedString,o.next);l.startIndex=c,l.endIndex=c+l.parsedString.length,o.next=l.endIndex}),i}function Ad(a,t){const r=XM(a,t);return r.forEach(i=>{a=a.replace(i.parsedString,jd(i))}),{str:a,matches:r}}function $l(a,t){return t.forEach(r=>{a=a.replace(jd(r),r.parsedString)}),a}const YM=/((cubic-bezier|steps)\(([^\)]*)\))/gi;class zt extends ir{static parse(t){return new zt(t)}getDefaultObject(){return{itemType:"animation",checked:!0,name:"none",direction:"normal",duration:g.second(0),timingFunction:"linear",delay:g.second(0),iterationCount:g.string("infinite"),playState:"running",fillMode:"none"}}convert(t){return t=super.convert(t),t.duration=g.parse(t.duration),t.iterationCount=g.parse(t.iterationCount),t}toCloneObject(){return v({},this.attrs("name","direction","duration","timingFunction","delay","iterationCount","playState","fillMode"))}togglePlayState(t){t?this.reset({playState:t==="running"?"running":"paused"}):this.json.playState==="paused"?this.reset({playState:"running"}):this.reset({playState:"paused"})}toCSS(){return this.json.name?{animation:this.toString()}:{}}toString(){var t=this.json;return[t.duration,t.timingFunction,t.delay,t.iterationCount,t.direction,t.fillMode,t.playState,t.name].join(" ")}static join(t){return t.map(r=>new zt(r).toString()).join(",")}static add(t,r={}){const i=zt.parseStyle(t);return i.push(zt.parse(r)),zt.join(i)}static remove(t,r){return zt.filter(t,(i,s)=>r!=s)}static filter(t,r){return zt.join(zt.parseStyle(t).filter(i=>r(i)))}static replace(t,r,i){var s=zt.parseStyle(t);return s[r]?s[r]=i:s.push(i),zt.join(s)}static get(t,r){var i=zt.parseStyle(t);return i[r]}static parseStyle(t){var r=[];if(!t)return r;const i=Ad(t,YM);return r=i.str.split(",").map(s=>{const n=s.split(" ").filter(Boolean);return n.length>=7?{duration:g.parse(n[0]),timingFunction:$l(n[1],i.matches),delay:g.parse(n[2]),iterationCount:n[3]==="infinite"?g.string("infinite"):g.parse(n[3]),direction:n[4],fillMode:n[5],playState:n[6],name:n[7]}:n.length>=3?{duration:g.parse(n[0]),timingFunction:$l(n[1],i.matches),delay:g.parse(n[2]),name:n[3]}:n.length>=1?{duration:g.parse(n[0]),name:n[1]}:{}}),r.map(s=>zt.parse(s))}}var e7="";class WM extends De{getTitle(){return this.$i18n("animation.property.title")}getBody(){return"<div class='animation-list' ref='$animationList'></div>"}getTools(){return`
        <button type="button" ref="$add" title="add Fill">${O("add")}</button>
    `}isFirstShow(){return!0}[U("$animationList")+st](){var t=this.$selection.current;return t?zt.parseStyle(t.animation).map((r,i)=>{const s=this.state.selectedIndex===i?"selected":"",n=Mi(r.timingFunction,30,30);return`
      <div class='animation-group-item'>
        <div class='animation-item ${s}' 
             data-index='${i}' 
             ref="animationIndex${i}" 
          >
            <div class='timing preview' data-index='${i}' ref='$preview${i}'>
              <svg class='item-canvas' width="30" height="30" viewBox="0 0 30 30">
                <path d="${n}" stroke="white" stroke-width="1" fill='none' />
              </svg>
            </div>
            <div class='name'>
              <div class='title' ref="animationName${i}">
                ${r.name?r.name:`&lt; ${this.$i18n("animation.property.select a keyframe")} &gt;`}
              </div>
              <div class='labels'>
                <label class='count' title='${this.$i18n("animation.property.iteration.count")}'><small>${r.iterationCount}</small></label>
                <label class='delay' title='${this.$i18n("animation.property.delay")}'><small>${r.delay}</small></label>
                <label class='duration' title='${this.$i18n("animation.property.duration")}'><small>${r.duration}</small></label>
                <label class='direction' title='${this.$i18n("animation.property.direction")}'><small>${r.direction}</small></label>
                <label class='fill-mode' title='${this.$i18n("animation.property.fill.mode")}'><small>${r.fillMode}</small></label>
                <label class='play-state' title='${this.$i18n("animation.property.play.state")}' data-index='${i}' data-play-state-selected-value="${r.playState}">
                  <small data-play-state-value='running'>${O("play")}</small>
                  <small data-play-state-value='paused'>${O("pause")}</small>
                </label>
              </div>
            </div>
            <div class='tools'>
                <button type="button" class="del" data-index="${i}">
                  ${O("remove2")}
                </button>
            </div>
        </div>
      </div>        
      `}):""}[I("refreshSelection")+Xe(100)](){const t=this.$selection.current;t&&t.hasChangedField("animation")&&this.refresh(),this.emit("hideAnimationPropertyPopup")}[F("$add")](t){var r=this.$selection.current;r?(this.command("setAttributeForMulti","add animation property",this.$selection.packByValue({animation:i=>zt.add(i.animation,{name:null})})),this.nextTick(()=>{setTimeout(()=>{this.refresh()},100)})):alert("Select a layer")}[F("$animationList .tools .del")](t){var r=t.$dt.attr("data-index"),i=this.$selection.current;!i||(i.reset({animation:zt.remove(i.animation,r)}),this.emit("refreshElement",i),this.refresh())}[F("$animationList .play-state")](t){var r=+t.$dt.attr("data-index"),i=this.$selection.current;if(!i)return;const s=zt.parseStyle(i.animation);var n=s[r];n&&(n.togglePlayState(),t.$dt.attr("data-play-state-selected-value",n.playState),i.reset({animation:zt.join(s)}),this.emit("refreshElement",i))}selectItem(t,r=!0){r?this.refs[`animationIndex${t}`].addClass("selected"):this.refs[`animationIndex${t}`].removeClass("selected")}viewAnimationPicker(t){typeof this.selectedIndex=="number"&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t.attr("data-index"),this.current=this.$selection.current,!!this.current&&(this.currentAnimation=zt.get(this.current.animation,this.selectedIndex),this.viewAnimationPropertyPopup())}viewAnimationPropertyPopup(){if(!this.currentAnimation)return;const t=this.currentAnimation;this.emit("showAnimationPropertyPopup",{changeEvent:"changeAnimationPropertyPopup",data:t.toCloneObject(),instance:this})}[F("$animationList .preview")](t){this.viewAnimationPicker(t.$dt)}getRef(...t){return this.refs[t.join("")]}[I("changeAnimationPropertyPopup")](t){this.currentAnimation&&(this.currentAnimation.reset(v({},t)),this.current&&(this.command("setAttributeForMulti","change animation property",this.$selection.packByValue({animation:r=>zt.replace(r.animation,this.selectedIndex,this.currentAnimation)})),this.refresh()))}}var t7="";class jr extends K{template(){return`
        <div class='elf--popup ${this.getClassName()}'>
            <div class='popup-title' ref="$title">
                <label>${this.getTitle()}</label>
                <span class="tools">
                  ${this.getTools()}
                  <button type='button' class='close' ref='$close'>${O("close")}</button>
                </span>
            </div>
            <div class='popup-body'>${this.getBody()}</div>
            <!--<div class='popup-resizer' ref='$resizer'></div> -->
        </div>
        `}getClassName(){return""}getTitle(){return""}getTools(){return""}getBody(){return""}onClose(){}[F("$close")](){this.$el.hide(),this.onClose()}setTitle(t){this.refs.$title.$("label").text(t)}[xe("$title")+Ve("movePopupTitle")+ze("endPopupTitle")](){this.x=g.parse(this.$el.css("left")),this.y=g.parse(this.$el.css("top"))}movePopupTitle(t,r){var i=g.px(this.x.value+t),s=g.px(this.y.value+r);this.$el.css({left:i,top:s,right:"auto",bottom:"auto"})}show(t=200){var r=28,i=320,s=this.$el.css("top"),n=this.$el.css("left"),o=s!=="auto"?g.parse(s):110,l=n!=="auto"?g.parse(n):document.body.clientWidth-i-r-t;this.$el.css({top:g.px(o),left:g.px(l),"z-index":this.$editor.zIndex}).show("inline-block")}makeRect(t,r,i){const n=this.$config.get("editor.layout.elements").$bodyPanel.rect();let o=n.left+n.width-t-10,l=i.top+r>n.top+n.height?n.top+n.height-r-10:i.top;return o-=n.left,l-=n.top,l<10&&(l=10),{top:l,left:o<i.left&&i.left<=o+t?o-(o+t-i.left)-10:o,width:t,height:r}}showByRect(t){this.$el.css({top:g.px(t.top),left:g.px(t.left),width:g.px(t.width),height:g.px(t.height),"z-index":this.$editor.zIndex}).show("inline-block")}hide(){this.$el.hide()}[I("hidePropertyPopup")](){this.hide()}[xe("$resizer")+Ve("moveResizer")](t){this.width=g.parse(this.$el.css("width")),this.height=g.parse(this.$el.css("height"))}moveResizer(t,r){this.$el.css({width:Math.min(this.width+t,1e3),height:Math.min(this.height+r,700)})}}var r7="";class KM extends jr{getTitle(){return this.$i18n("animation.property.popup.title")}initState(){return{changeEvent:"",instance:{},data:{}}}updateData(t){this.state.data=v(v({},this.state.data),t),this.state.instance&&this.state.instance.trigger(this.state.changeEvent,this.state.data)}getBody(){return"<div class='elf--animation-property-popup' ref='$popup'></div>"}[U("$popup")](){return`
      <div class="box">
        ${this.templateForKeyframe()}
        ${this.templateForTimingFunction()}
        ${this.templateForIterationCount()}
        ${this.templateForDelay()}
        ${this.templateForDuration()}
        ${this.templateForDirection()}
        ${this.templateForFillMode()}
        ${this.templateForPlayState()}
      </div>
    `}templateForTimingFunction(){return`
    <div class='timing-function'>
      <label>${this.$i18n("animation.property.popup.timing.function")}</label>
      ${E("CubicBezierEditor",{ref:"$cubicBezierEditor",key:"timingFunction",value:this.state.data.timingFunction||"linear",onChange:"changeCubicBezier"})}
    </div>
    `}templateForKeyframe(){return`
      <div class='name'>
        <label>${this.$i18n("animation.property.popup.keyframe")}</label>
        <div class='input grid-1'>
          <select ref='$name'></select>
        </div>
      </div>
    `}[U("$name")](){var t=this.$selection.currentProject,r=[];return t&&t.keyframes&&(r=t.keyframes.map(i=>({key:i.name,value:i.name}))),r.unshift({key:"Select a keyframe",value:""}),r.map(i=>{var s=i.value===this.name?"selected":"",n=this.$i18n(i.key);return`<option value='${i.value}' ${s}>${n}</option>`})}[Cr("$name")](){this.updateData({name:this.refs.$name.value})}templateForDirection(){var t="normal,reverse,alternate,alternate-reverse".split(",").map(r=>`${r}:${this.$i18n(r)}`).join(",");return`
      <div class='direction'>
        ${E("SelectEditor",{label:this.$i18n("animation.property.popup.direction"),ref:"$direction",key:"direction",value:this.state.data.direction,options:t,onChange:"changeSelect"})}
      </div>
    `}[Q("changeSelect")](t,r){this.updateData({[t]:r})}templateForPlayState(){return`
    <div class='play-state'>
      ${E("SelectEditor",{label:this.$i18n("animation.property.popup.play.state"),ref:"$playState",key:"playState",value:this.state.data.playState,options:["paused","running"],onChange:"changeSelect"})}
    </div>
  `}templateForFillMode(){var t="none,forwards,backwards,both".split(",").map(r=>`${r}:${this.$i18n(r)}`).join(",");return`
    <div class='fill-mode'>
      ${E("SelectEditor",{label:this.$i18n("animation.property.popup.fill.mode"),ref:"$fillMode",key:"fillMode",value:this.state.data.fillMode,options:t,onChange:"changeSelect"})}
    </div>
  `}templateForDelay(){return`
    <div class='delay'>
      ${E("RangeEditor",{ref:"$delay",label:this.$i18n("animation.property.popup.delay"),key:"delay",value:this.state.data.delay,units:["s","ms"],onChange:"changeRangeEditor"})} 
    </div>
    `}templateForDuration(){return`
    <div class='duration'>
      ${E("RangeEditor",{ref:"$duration",label:this.$i18n("animation.property.popup.duration"),key:"duration",value:this.state.data.duration,units:["s","ms"],onChange:"changeRangeEditor"})} 
    </div>
    `}templateForIterationCount(){return`
      <div class='iteration-count'>
        ${E("IterationCountEditor",{ref:"$iterationCount",label:this.$i18n("animation.property.popup.iteration"),key:"iterationCount",value:this.state.iterationCount||0,units:["normal","infinite"],onChange:"changeRangeEditor"})}
      </div>
    `}[Q("changeRangeEditor")](t,r){t==="iterationCount"&&(r.unit==="normal"?r=g.number(r.value):r=g.string(r.unit)),this.updateData({[t]:r})}[Q("changeCubicBezier")](t,r){this.updateData({[t]:r})}[I("showAnimationPropertyPopup")](t){this.setState(t),this.show(250),this.children.$cubicBezierEditor.trigger("showCubicBezierEditor",t.data.timingFunction)}[I("hideAnimationPropertyPopup")](){this.$el.hide()}}function ZM(a){a.registerUI("inspector.tab.transition",{AnimationProperty:WM}),a.registerUI("popup",{AnimationPropertyPopup:KM})}class Ua{static create(t){return class extends De{getTitle(){return t.title}getClassName(){return t.className||"item"}get editableProperty(){return t.editableProperty}get order(){return xt(t.order)?1e3:t.order}refresh(){const r=this.$selection.current;if(r){this.setTitle(t.title||r.getDefaultTitle()||r.itemType||r.name),this.load();const i=ye(t.inspector)?t.inspector(r):this.$editor.components.createInspector(r,t.editableProperty);this.children.$comp.setInspector(i)}}[I("refreshSelection")+Se("checkShow")](){t.preventUpdate?this.$stateManager.isPointerUp&&this.refresh():this.refresh()}[U("$body")](){var r=this.$selection.current;if(!r)return"";const i=ye(t.inspector)?t.inspector(r):this.$editor.components.createInspector(r,t.editableProperty);return E("ComponentEditor",{ref:"$comp",inspector:i,onchange:"changeComponentProperty"})}getBody(){var r=this.$selection.current||{};const i=ye(t.inspector)?t.inspector(r):this.$editor.components.createInspector(r,t.editableProperty);return E("ComponentEditor",{ref:"$comp",inspector:i,onchange:"changeComponentProperty"})}[Q("changeComponentProperty")](r,i){t.action?this.command(t.action,`change attribute : ${r}`,r,i):this.command("setAttributeForMulti",`change attribute : ${r}`,this.$selection.packByValue({[r]:i}))}}}}function qM(a){a.registerUI("inspector.tab.style",{AppearanceProperty:Ua.create({title:a.$i18n("background.color.property.title"),editableProperty:"appearance",preventUpdate:!0,inspector:t=>[{type:"column",size:[1,1],columns:[{key:"background-color",editor:"color-view",editorOptions:{compact:!0,format:!0},defaultValue:t["background-color"]},{key:"mix-blend-mode",editor:"blend-select",editorOptions:{label:"tonality",compact:!0},defaultValue:t["mix-blend-mode"]}]},{key:"overflow",editor:"select",editorOptions:{label:a.$i18n("background.color.property.overflow"),options:[Ca.VISIBLE,Ca.HIDDEN,Ca.SCROLL,Ca.AUTO].map(r=>({value:r,text:a.$i18n(`background.color.property.overflow.${r}`)}))},defaultValue:t.overflow}]})})}var xl=[{category:"Web",groups:[{group:"Landscape",devices:[{device:"Web Small",size:"1024x600"},{device:"Web Medium",size:"1280x800"},{device:"Web Large",size:"1440x900"},{device:"Web X Large",size:"1920x1200"}]},{group:"Portrait",devices:[{device:"Web Small",size:"600x1024"},{device:"Web Medium",size:"800x1280"},{device:"Web Large",size:"900x1440"},{device:"Web X Large",size:"1200x1920"}]}]},{category:"Apple Devices",groups:[{group:"iphone",devices:[{device:"iPhone 8",size:"375x667"},{device:"iPhone 8 Plus",size:"414x736"},{device:"iPhone SE",size:"320x568"},{device:"iPhone XS",size:"375x812"},{device:"iPhone XR",size:"414x896"},{device:"iPhone XS Max",size:"414x896"}]},{group:"ipad",devices:[{device:"iPad",size:"768x1024"},{device:"iPad Pro",size:"1024x1366"}]},{group:"apple watch",devices:[{device:"Apple Watch 38nm",size:"272x340"},{device:"Apple Watch 40nm",size:"326x394"},{device:"Apple Watch 42nm",size:"313x390"},{device:"Apple Watch 44nm",size:"368x448"}]},{group:"apple tv",devices:[{device:"Apple TV",size:"1920x1080"}]},{group:"MAC",devices:[{device:"Touch Bar",size:"1085x30"}]}]},{category:"Android Devices",groups:[{group:"android mobile",devices:[{device:"Android Mobile",size:"360x640"}]},{group:"android tablet",devices:[{device:"Android Tablet",size:"768x1024"}]}]}],i7="";class QM extends De{getClassName(){return"elf--artboard-size-list"}get editableProperty(){return"artboard-size"}[I("refreshSelection")+Se("checkShow")](){this.refresh()}initState(){return{selectedIndex:0}}getTitle(){return"ArtBoard Preset"}getTools(){var t=xl.map((r,i)=>({category:r.category,index:i}));return E("SelectEditor",{ref:"$select",value:t[0].category,options:t.map(r=>r.category),onchange:"changeSizeIndex"})}[Q("changeSizeIndex")](t,r){var i=this.state.selectedIndex;xl.forEach((s,n)=>{s.category===r&&(i=n)}),this.state.selectedIndex=i,this.refresh()}getBody(){return`
      <div class='artboard-size-item' ref='$list'></div>
    `}makeDevice(t){return`
      <div class='device-item' data-size='${t.size}'>
        <div class='title'>${t.device}</div>
        <div class='size'>${t.size}</div>
      </div>
    `}[F("$list .device-item")](t){var r=t.$dt.attr("data-size");this.emit("resizeArtBoard",r)}makeGroup(t){return`
      <div class='group-item'>
        <div class='title'>${t.group}</div>
      </div>
      <div class='devices'>
        ${t.devices.map(r=>this.makeDevice(r)).join("")}
      </div>
    `}makeCategory(t){return`
      <div class='category'>
        <div class='title'>${t.category}</div>
      </div>
      <div class='groups'>
        ${t.groups.map(r=>this.makeGroup(r)).join("")}
      </div>
    `}[U("$list")+st](){var t=xl[this.state.selectedIndex];return t.groups.map(r=>this.makeGroup(r))}}function JM(a){a.registerUI("inspector.tab.style",{ArtBoardSizeProperty:QM})}const eI=["blur","grayscale","hue-rotate","invert","brightness","contrast","drop-shadow","opacity","saturate","sepia","svg"];var s7="";class tI extends De{getTitle(){return this.$i18n("backdrop.filter.property.title")}getTitleClassName(){return"filter"}getBodyClassName(){return"no-padding"}getBody(){return"<div class='full filter-property' ref='$body'></div>"}getTools(){return`
      <select class="filter-select" ref="$filterSelect"></select>
      <button type="button" ref="$add" title="add Filter">${O("add")}</button>
    `}[F("$add")](){var t=this.refs.$filterSelect.value;this.children.$filterEditor.trigger("add",t)}[U("$filterSelect")](){var t=eI.map(s=>({title:this.$i18n(`filter.property.${s}`),value:s})),r=this.getSVGFilterList(),i=[];return r.length?i=[...t,{title:"-------",value:""},...r]:i=[...t],i.map(s=>{var{title:n,value:o}=s;return`<option value='${o}'>${n}</option>`})}getSVGFilterList(){var t=this.$selection.currentProject,r=[];return t&&(r=t.svgfilters.map(i=>({title:`svg - #${i.id}`,value:i.id}))),r}[U("$body")](){var t=this.$selection.current||{},r=t["backdrop-filter"];return`
      <div>
        ${E("FilterEditor",{ref:"$filterEditor",key:"backdrop-filter",value:r,hideLabel:!0,onchange:"changeFilterEditor"})}
      </div>
    `}[Q("changeFilterEditor")](t,r){this.command("setAttributeForMulti","change backdrop filter",this.$selection.packByValue({[t]:r}))}get editableProperty(){return"backdrop-filter"}[I("refreshSelection")+Se("checkShow")+Xe(1e3)](){this.refresh()}}function rI(a){a.registerUI("inspector.tab.style",{BackdropFilterProperty:tI})}class iI extends De{getTitle(){return"Background Clip"}isFirstShow(){return!1}getTools(){return"<div ref='$backgroundClip' style='padding-top: 3px;'></div>"}[U("$backgroundClip")](){var t=this.$selection.current||{},r=t["background-clip"]||"";return E("SelectEditor",{ref:"$1",key:"background-clip",icon:!0,value:r,options:["","paddinb-box","border-box","content-box","text"],onchange:"changeSelect"})}[Q("changeSelect")](t,r){this.command("setAttributeForMulti","change background clip",this.$selection.packByValue({[t]:r}))}[I("refreshSelection")+Xe(100)](){this.refreshShow(["rect","circle","text"])}}function sI(a){a.registerElement({BackgroundClipProperty:iI})}var a7="";const Od={image:"image","image-resource":"image",url:"image","static-gradient":"gradient","linear-gradient":"gradient","repeating-linear-gradient":"gradient","radial-gradient":"gradient","repeating-radial-gradient":"gradient","conic-gradient":"gradient","repeating-conic-gradient":"gradient"};class aI extends K{initState(){return{hideLabel:this.props.hideLabel||!1,value:this.props.value,images:this.parseBackgroundImage(this.props.value)}}parseBackgroundImage(t){return t===""?[]:Fe.parseStyle(Kt(t))}setValue(t){this.setState({value:t,images:this.parseBackgroundImage(t)})}template(){return`
            <div class='elf--background-image-editor' >
                <div class='fill-list' ref='$fillList'></div>
            </div>
        `}[U("$fillList")+st](){const t=this.$selection.current||{color:"black"};return this.state.images.map((r,i)=>{var s=r.image,n=Od[s.type];const o=r.selected?"selected":"";return r.selected&&(this.selectedIndex=i),`
            <div class='fill-item ${o}' data-index='${i}' ref="fillIndex${i}"  draggable='true' data-fill-type="${n}" >
                <label draggable="true" data-index="${i}">${O("drag_indicator")}</label>
                ${Hn(["BackgroundPositionEditor",{key:"background-position",index:i,ref:`$bp${i}`,x:r.x,y:r.y,width:r.width,height:r.height,repeat:r.repeat,size:r.size,blendMode:r.blendMode,onchange:"changePattern"}],["GradientSingleEditor",{index:i,ref:`$gse${i}`,image:r.image,color:t.color,key:"background-image",onchange:"changePattern"}])}
                <div class='fill-info'>
                  <div class='gradient-info'>
                    <div class='blend'>
                        ${E("BlendSelectEditor",{ref:`$blend_${i}`,key:"blendMode",value:r.blendMode,params:i,compact:!0,onchange:"changeRangeEditor"})}
                    </div>
                    <div class='tools'>
                      <button type="button" class='visibility' data-index='${i}' title="Visibility">${O(r.visibility===Hr.HIDDEN?"visible_off":"visible")}</button>
                    </div>                                       
                    <div class='tools'>
                      <button type="button" class='copy' data-index='${i}' title="Copy Item">${O("add")}</button>
                    </div>                    
                    <div class='tools'>
                      <button type="button" class='remove' data-index='${i}' title="Remove Item">${O("remove2")}</button>
                    </div>
                  </div>
                </div>
            </div>
            `})}modifyBackgroundImage(){var t=Ge(Fe.toProperty(this.state.images));this.parent.trigger(this.props.onchange,this.props.key,t)}makeGradient(t){switch(t){case"static-gradient":return"static-gradient(black)";case"linear-gradient":return"linear-gradient(90deg, white 0%, black 100%)";case"repeating-linear-gradient":return"repeating-linear-gradient(90deg, white 2%, black 4%)";case"radial-gradient":return"radial-gradient(circle, white 0%, black 100%)";case"repeating-radial-gradient":return"repeating-radial-gradient(circle, white 2%, black 4%)";case"conic-gradient":return"conic-gradient(white 0%, black 100%)";case"repeating-conic-gradient":return"repeating-conic-gradient(white 50%, black 100%)"}}[I("add")](t){this.state.images.unshift(new Fe({image:Fe.parseImage(this.makeGradient(t))})),this.refresh(),this.modifyBackgroundImage()}[F("$add")](){this.trigger("add")}[yr("$fillList .fill-item > label")](t){this.startIndex=+t.$dt.attr("data-index")}[Pr("$fillList .fill-item")+Pe](t){}sortItem(t,r,i){t.splice(i+(r<i?-1:0),0,...t.splice(r,1))}sortBackgroundImage(t,r){this.sortItem(this.state.images,t,r)}[wr("$fillList .fill-item")+Pe](t){var r=+t.$dt.attr("data-index");this.selectItem(this.startIndex,!0),this.sortBackgroundImage(this.startIndex,r),this.refresh(),this.modifyBackgroundImage()}getCurrentBackgroundImage(){return this.state.images[this.selectedIndex]}[F("$fillList .tools .remove")](t){var r=+t.$dt.attr("data-index");this.state.images.splice(r,1),this.refresh(),this.modifyBackgroundImage()}[F("$fillList .tools .visibility")](t){var r=+t.$dt.attr("data-index");this.state.images[r].visibility=this.state.images[r].visibility===Hr.HIDDEN?Hr.VISIBLE:Hr.HIDDEN,this.refresh(),this.modifyBackgroundImage()}[F("$fillList .tools .copy")](t){var r=+t.$dt.attr("data-index");const i=this.state.images[r];this.state.images.splice(r,0,i),this.refresh(),this.modifyBackgroundImage()}selectItem(t,r=!0){r?this.refs[`fillIndex${t}`].addClass("selected"):this.refs[`fillIndex${t}`].removeClass("selected"),this.state.images.forEach((i,s)=>{i.selected=s===t})}[I("selectFillPopupTab")](t,r){var i=Od[t],s=this.refs[`fillIndex${this.selectedIndex}`];s.attr("data-fill-type",i)}[Q("changeRangeEditor")](t,r,i){this.trigger("changePattern",t,{[t]:r},i)}[Q("changePattern")](t,r,i){var s=+i,n=this.state.images[s];n.reset(r),this.modifyBackgroundImage(),this.refresh()}}var n7="";class nI extends jr{getTitle(){return this.$i18n("background.image.position.popup.title")}initState(){return{size:this.props.size||"auto",repeat:this.props.repeat||"repeat",x:this.props.x||0,y:this.props.y||0,width:this.props.width||0,height:this.props.height||0,blendMode:this.props.blendMode}}updateData(t={}){this.setState(t,!1),this.emit(this.state.changeEvent,t,this.state.params)}templateForSize(){return`
      <div>
        ${E("SelectEditor",{label:this.$i18n("background.image.position.popup.size"),ref:"$size",key:"size",value:this.state.size,options:["contain","cover","auto"],onchange:"changeRangeEditor"})}
      </div>
    `}[Q("changeRangeEditor")](t,r){this.updateData({[t]:r})}templateForX(){return`
      <div>
        ${E("InputRangeEditor",{label:"X",compact:!0,ref:"$x",key:"x",value:this.state.x,min:-1e3,max:1e3,step:1,onchange:"changeRangeEditor"})}
      </div>
    `}templateForY(){return`
      <div >
      ${E("InputRangeEditor",{label:"Y",compact:!0,ref:"$y",key:"y",value:this.state.y,min:-1e3,max:1e3,step:1,onchange:"changeRangeEditor"})}      
      </div>
    `}templateForWidth(){return`
    <div >
    ${E("InputRangeEditor",{label:"W",compact:!0,ref:"$width",key:"width",value:this.state.width,min:0,max:500,step:1,onchange:"changeRangeEditor"})}          
    </div>
    `}templateForHeight(){return`
    <div >
    ${E("InputRangeEditor",{label:"H",compact:!0,ref:"$height",key:"height",value:this.state.height,min:0,max:500,step:1,onchange:"changeRangeEditor"})}              
      />
    </div>
    `}templateForRepeat(){return`
    <div class='grid'>
      <label>${this.$i18n("background.image.position.popup.repeat")}</label>
    </div>
    <div class='repeat-list' ref="$repeat" data-value='${this.state.repeat}'>
        <button type="button" value='no-repeat' title="${this.$i18n("background.image.position.popup.type.no-repeat")}"></button>
        <button type="button" value='repeat' title="${this.$i18n("background.image.position.popup.type.repeat")}"></button>
        <button type="button" value='repeat-x' title="${this.$i18n("background.image.position.popup.type.repeat-x")}"></button>
        <button type="button" value='repeat-y' title="${this.$i18n("background.image.position.popup.type.repeat-y")}"></button>
        <button type="button" value='space' title="${this.$i18n("background.image.position.popup.type.space")}"></button>
        <button type="button" value='round' title="${this.$i18n("background.image.position.popup.type.round")}"></button>
    </div>
    `}[F("$repeat button")]({$dt:t}){this.refs.$repeat.attr("data-value",t.value),this.updateData({repeat:t.value})}getBody(){return`
      <div class="elf--background-image-position-picker" ref='$picker'></div>
    `}[U("$picker")](){return`
      
      <div class='box'>

        <div class='background-property'>
          ${this.templateForSize()}      
          ${this.templateForX()}
          ${this.templateForY()}
          ${this.templateForWidth()}
          ${this.templateForHeight()}
          ${this.templateForRepeat()}
        </div>
      </div>
    `}[I("showBackgroundImagePositionPopup")](t,r,i){this.state.changeEvent=t.changeEvent||"changeFillPopup",this.state.params=r,this.setState(t.data),this.showByRect(this.makeRect(180,310,i))}}var o7="";class oI extends De{getTitle(){return this.$i18n("background.image.property.title")}afterRender(){this.show()}getClassName(){return"background-image"}getBodyClassName(){return"no-padding"}getBody(){return A("div",{class:"full",ref:"$property"})}getTools(){return A("div",{class:"fill-sample-list",ref:"$add"},A("button",{type:"button",class:"fill","data-value":"static-gradient"},O("add")))}[F("$add [data-value]")](t){this.children.$backgroundImageEditor.trigger("add",t.$dt.data("value"))}[U("$property")](){var t=this.$selection.current||{},r=t["background-image"]||"";return E("BackgroundImageEditor",{ref:"$backgroundImageEditor",key:"background-image",value:r,onchange:"changeBackgroundImage"})}get editableProperty(){return"background-image"}[I("refreshSelection")+Se("checkShow")](){this.refresh()}[I("refreshSelectionStyleView")](){this.$selection.current&&this.$selection.hasChangedField("background-image")&&this.refresh()}[Q("changeBackgroundImage")](t,r){this.nextTick(()=>{this.command("setAttributeForMulti","change background image",this.$selection.packByValue({[t]:r}))},10)}}var l7="";class lI extends K{initState(){return{index:this.props.index,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,repeat:this.props.repeat,size:this.props.size,blendMode:this.props.blendMode}}updateData(t={}){this.setState(t,!1),this.modifyValue(t)}modifyValue(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.state.index)}setValue(t){this.setState(v({},t))}[se("$miniView")](){return{style:{"background-image":"linear-gradient(to top right, black, white)","background-repeat":this.state.repeat,"background-size":"10px 10px"}}}template(){return`
            <div class='elf--background-position-editor'>
                <div class='preview' ref='$preview'>
                    <div class='mini-view'>
                        <div class='color-view' ref='$miniView'></div>
                    </div>
                </div>
            </div>
        `}[F("$preview")](t){this.viewBackgroundPositionPopup()}viewBackgroundPositionPopup(){this.emit("showBackgroundImagePositionPopup",{changeEvent:"changeBackgroundPositionPattern",data:this.state},{id:this.id},this.$el.rect())}[I("changeBackgroundPositionPattern")](t,r){r.id===this.id&&this.updateData(v({},t))}}function cI(a){a.registerElement({BackgroundImageEditor:aI,BackgroundPositionEditor:lI}),a.registerUI("inspector.tab.style",{BackgroundImageProperty:oI}),a.registerUI("popup",{BackgroundImagePositionPopup:nI})}var c7="";class _l extends K{getValue(){return this.props.defaultValue}sendEvent(){const t=this.props.key,r=this.getValue(),i=this.props.params;ye(this.props.onClick)?this.props.onClick(t,r,i):ht(this.props.action)?this.emit(this.props.action,t,r,i):ai(this.props.action)?this.emit(...this.props.action,t,r,i):this.parent.trigger(this.props.onchange,t,r,i)}}class hI extends _l{initState(){return{label:this.props.label||"",text:this.props.text||"",params:this.props.params||""}}template(){return"<div class='small-editor button' ref='$body'></div>"}[U("$body")](){var{label:t,text:r}=this.state,i=t?"has-label":"";return`
        <div class='elf--button ${i}'>
            ${t?`<label title="${t}">${t}</label>`:""}
            <div class='area'>
                <button type="button" >${r||t}</button>
            </div>
        </div>
    `}getValue(){return this.props.defaultValue}[F("$el button")](){this.sendEvent()}}var h7="";const dI=["True","False"];class uI extends _l{initState(){return{label:this.props.label||"",checked:this.props.value||"false",toggleLabels:this.props.toggleLabels||dI,toggleTitles:this.props.toggleTitles||[],toggleValues:this.props.toggleValues||["true","false"]}}template(){return"<div class='small-editor button' ref='$body'></div>"}[U("$body")](){var{label:t,checked:r}=this.state,i=t?"has-label":"";return`
        <div class='elf--toggle-checkbox ${i}'>
            ${t?`<label title="${t}">${t}</label>`:""}
            <div class='area' ref="$area">
                ${this.state.toggleValues.map((s,n)=>{let o=this.state.toggleLabels[n];return this.state.toggleTitles[n],ae[o]&&(o=O(o,"",{width:30,height:30})),A("div",null,A("button",{type:"button",class:`${s===r?"checked":""}`,"data-index":n,value:s,style:"--elf--toggle-checkbox-tooltip-top: -20%;"},o))}).join("")}
            </div>
        </div>
    `}[se("$area")](){const t=this.state.toggleValues.findIndex(i=>i===this.state.checked),r=100/this.state.toggleValues.length;return{"data-selected-index":t,cssText:`
                --unit-count: ${this.state.toggleValues.length};
                --button-font-size: ${13-this.state.toggleValues.length}px ;
                --selected-button-size: ${1/this.state.toggleValues.length*100}%;
                --selected-button-position: ${t*r}%;
            `}}setValue(t){this.setState({checked:t})}getValue(){return this.state.checked}[F("$el button")](t){this.setValue(t.$dt.value),this.trigger("change")}[Q("change")](){this.sendEvent()}}var d7="";const pI=["True","False"];class gI extends _l{initState(){return{checkedValue:this.props.checkedValue||this.props.value,checked:this.props.value||"false",toggleLabels:this.props.toggleLabels||pI,toggleTitles:this.props.toggleTitles||[],toggleValues:this.props.toggleValues||["true","false"]}}template(){return"<div class='small-editor button' ref='$body'></div>"}[U("$body")](){var{checked:t,checkedValue:r}=this.state;return`
        <div class='elf--toggle-button'>
            <div class='area' ref="$area">
                ${this.state.toggleValues.map((i,s)=>{let n=this.state.toggleLabels[s],o=this.state.toggleTitles[s]||n;return ae[n]&&(n=O(n,"",{width:30,height:30})),A("div",{class:`${i===t?"visible":""} ${i===r?"checked":""}`},A("button",{type:"button","data-index":s,class:i===r?"checked":"",value:i,title:o,style:"--elf--toggle-checkbox-tooltip-top: -20%;"},n))}).join("")}
            </div>
        </div>
    `}[se("$area")](){return{"data-selected-index":this.state.toggleValues.findIndex(r=>r===this.state.checked)}}setValue(t){this.setState({checked:t})}getValue(){return this.state.checked}[F("$el button")](t){const r=t.$dt.value,i=this.state.toggleValues.findIndex(n=>n===r),s=this.state.toggleValues[(i+1)%this.state.toggleValues.length];this.setValue(s),this.trigger("change")}[Q("change")](){this.sendEvent()}}function Dd(a){a.registerElement({ToggleCheckBox:uI,ToggleButton:gI,Button:hI}),a.registerAlias({"toggle-checkbox":"ToggleCheckBox","toggle-button":"ToggleButton",button:"Button"})}var u7="";class fI extends De{components(){return{LeftAlign:Id,CenterAlign:Md,RightAlign:Ld,TopAlign:zd,MiddleAlign:Ed,BottomAlign:Td,SameWidth:Rd,SameHeight:Vd}}getTitle(){return this.$i18n("alignment.property.title")}isHideHeader(){return!0}getBody(){return`
      <div class="elf--boolean-item" ref="$buttons">
        <div>
          <button type="button" data-command="convert.path.operation" data-args="union">${O("boolean_union","",{width:30,height:30})} Union</button>        
          <button type="button" data-command="convert.path.operation" data-args="intersection">${O("boolean_intersection","",{width:30,height:30})} Intersection</button>        
        </div>
        <div>
          <button type="button" data-command="convert.path.operation" data-args="difference">${O("boolean_difference","",{width:30,height:30})} Subtract</button>        
          <button type="button" data-command="convert.path.operation" data-args="xor">${O("boolean_xor","",{width:30,height:30})} Exclude</button>        
        </div>
        <div class="divider"></div>
        <!--div>
          <button type="button" data-command="convert.no.transform.path">${O("grid3x3","",{width:24,height:24})} No Transform</button>        
        </div-->
        <div>
          <button type="button" data-command="convert.simplify.path">${O("grid3x3","",{width:24,height:24})} Self Intersection</button>        
          <button type="button" data-command="convert.flatten.path">${O("flatten","",{width:24,height:24})} Flatten</button>                  
        </div>        
        <div>
          <!--<button type="button" data-command="convert.smooth.path">${O("smooth","",{width:24,height:24})} Smooth Path</button>-->                
          <button type="button" data-command="switch.path">${O("sync","",{width:30,height:30})} Switch path</button>                  
          <button type="button" data-command="convert.stroke.to.path">${O("outline_shape","",{width:24,height:24})} Outline Path</button> 
        </div>        
        <!--div>
          <button type="button" data-command="convert.polygonal.path">${O("highlight_at","",{width:24,height:24})} Polygonal</button>                
          <button type="button" data-command="convert.normalize.path">${O("stroke_to_path","",{width:24,height:24})} Normalize</button> 
        </div-->                
      </div>
    `}[F("$buttons button")](t){const r=t.$dt.data("command"),i=t.$dt.data("args");r==="convert.smooth.path"?this.emit(r):this.emit(r,i)}[I("refreshSelection")](){this.refreshShow(()=>this.$selection.length===1&&this.$selection.is("boolean-path")?!0:this.$selection.is("svg-path","polygon","star"))}}function mI(a){a.registerUI("inspector.tab.style",{PathToolProperty:fI})}var vI={none:!0,hidden:!0,dotted:!0,dashed:!0,solid:!0,double:!0,groove:!0,ridge:!0,inset:!0,outset:!0};class ji{static parseStyle(t){return Kt(t)}static parseValue(t=""){var r="",i="",s="";return t.split(" ").filter(n=>n.trim()).forEach(n=>{vI[n]?r=n:Le.isColor(n)?s=n:i=g.parse(n).value}),{style:r,color:s,width:i}}static joinValue(t){return`${t.width}px ${t.style||"solid"} ${t.color}`}static join(t){var r=[t.border?`border: ${t.border}`:"",t["border-top"]?`border-top: ${t["border-top"]}`:"",t["border-left"]?`border-left: ${t["border-left"]}`:"",t["border-right"]?`border-right: ${t["border-right"]}`:"",t["border-bottom"]?`border-bottom: ${t["border-bottom"]}`:""].filter(i=>i);return r.join(";")}}var p7="";const yI=["border"],bI={border:"all","border-top":"top","border-right":"right","border-bottom":"bottom","border-left":"left"};class $I extends K{initState(){var t=ji.parseStyle(this.props.value),r=Object.keys(t)[0]||"border";return{direction:r,borders:t}}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}getValue(){return ji.join(this.state.borders)}setValue(t){this.state.borders=ji.parseStyle(t),this.refresh()}[U("$editorArea")](){return yI.map(t=>{var r=bI[t]||t;return r=this.$i18n("border.editor."+r),`
      <div>
        ${E("BorderValueEditor",{ref:`$${t}`,label:r,key:t,value:this.state.borders[t],onchange:"changeKeyValue"})}
      </div>
      `})}template(){return`
      <div class="elf--border-editor">
        <div class='editor-area' ref='$editorArea'>

        </div>
      </div>
    `}[Q("changeKeyValue")](t,r){var i=this.state.borders;i[t]=r,this.updateData({borders:i})}}var g7="";class xI extends De{getTitle(){return this.$i18n("border.property.title")}getBody(){return`<div class="property-item full border-item" ref='$body'></div>`}[U("$body")](){var t=this.$selection.current||{},r=t.border||"";return E("BorderEditor",{ref:"$1",key:"border",value:r,onchange:"changeKeyValue"})}get editableProperty(){return"border"}[I("refreshSelection")+Xe(100)+Se("checkShow")](){this.refresh()}[Q("changeKeyValue")](t,r){this.command("setAttributeForMulti","change border",this.$selection.packByValue({[t]:r}))}}var f7="";const _I=[Qr.NONE,Qr.HIDDEN,Qr.SOLID,Qr.DASHED,Qr.DOTTED,Qr.DOUBLE,Qr.GROOVE,Qr.RIDGE,Qr.INSET,Qr.OUTSET].join(",");class SI extends K{initState(){return{value:ji.parseValue(this.props.value)}}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}getValue(){return ji.joinValue(this.state.value)}setValue(t){this.state.value=ji.parseValue(t),this.refresh()}refresh(){const t=g.parse(this.state.value.width==="undefined"?0:this.state.value.width);this.children.$width.setValue(t.value||0),this.children.$style.setValue(this.state.value.style||"solid"),this.children.$color.setValue(this.state.value.color||"rgba(0, 0, 0, 1)")}template(){var{width:t,style:r,color:i}=this.state.value;return`
      <div class="elf--border-value-editor">
        <div class='editor-area'>
          ${E("NumberInputEditor",{label:O("line_weight"),compact:!0,ref:"$width",min:0,max:100,step:1,key:"width",value:t,onchange:"changeKeyValue"})}
          ${E("SelectEditor",{ref:"$style",key:"style",label:O("line_style"),title:"Style",compact:!0,options:_I,value:r||"solid",onchange:"changeKeyValue"})}
          ${E("ColorViewEditor",{ref:"$color",key:"color",mini:!0,value:i||"rgba(0, 0, 0, 1)",onchange:"changeKeyValue"})}
        </div>
      </div>
    `}[Q("changeKeyValue")](t,r){var i=this.state.value;i[t]=r,this.updateData({value:i})}}function wI(a){a.registerElement({BorderEditor:$I,BorderValueEditor:SI}),a.registerUI("inspector.tab.style",{BorderProperty:xI})}const Fd=[{key:"top",title:"Top"},{key:"bottom",title:"Bottom"},{key:"left",title:"Left"},{key:"right",title:"Right"}],Bd=Fd.map(a=>a.key),Sl={image:"Image","static-gradient":"Static","linear-gradient":"Linear","repeating-linear-gradient":`${ae.repeat} Linear`,"radial-gradient":"Radial","repeating-radial-gradient":`${ae.repeat} Radial`,"conic-gradient":"Conic","repeating-conic-gradient":`${ae.repeat} Conic`};class PI extends De{getTitle(){return"Border Image"}[I("refreshSelection")](){this.refresh()}getTools(){var t=this.$selection.current||{},r=t.appliedBorderImage||!1;return`
      <label><input type='checkbox' ${r?"checked":""} ref='$apply' /> Apply</label>
    `}[F("$apply")](){var t=this.$selection.current;if(!!t){var r=this.refs.$apply.checked();t.reset({applyBorderImage:r}),this.emit("refreshElement",t)}}getColorStepList(t){switch(t.type){case"static-gradient":case"linear-gradient":case"repeating-linear-gradient":case"radial-gradient":case"repeating-radial-gradient":case"conic-gradient":case"repeating-conic-gradient":return this.getColorStepString(t.colorsteps)}return""}getColorStepString(t){return t.map(r=>`<div class='step' data-colorstep-id="${r.id}" data-selected='${r.selected}' style='background-color:${r.color};'></div>`).join("")}[U("$borderImageView")](){var t=this.$selection.current||{borderImage:{image:{}}},r=t.borderImage,i=r.type?Sl[r.type]:"";return` 
      <div class='preview' ref="$preview">
        <div class='mini-view'>
          <div class='color-view'  style="${`background-image: ${r.image.toString()}; background-size: cover;`}" ref="$miniView"></div>
        </div>
      </div> 
      <div class='fill-info'>
        <div class='gradient-info'>
          <div class='fill-title' ref="$fillTitle">${i}</div>
          <div class='colorsteps' ref="$colorsteps">
            ${this.getColorStepList(r.image)}
          </div>
        </div>
      </div>
    `}[Q("changeBorderImage")](t,r){t==="border-image-slice"&&Bd.forEach(i=>{this.children[`$${i}Slice`].setValue(r)}),this.setBorderImageProperty()}getBody(){return`
      <div class="property-item border-image-item" ref='$borderImageView'></div>    
      <div class="property-item border-slice-item">
        <div class="slice-selector" data-selected-value="all" ref="$selector">
          <button type="button" data-value="all">${ae.border_all}</button>
          <button type="button" data-value="partitial">
            ${ae.border_inner}
          </button>
        </div>
        <div class="slice-value">
          ${E("RangeEditor",{ref:"$allSlice",key:"border-image-slice",onchange:"changeBorderImage"})}
        </div>
      </div>
      <div
        class="property-item border-slice-item full has-list"
        ref="$partitialSetting"
        style="display: none;"
      >
        <div class="slice-setting-box" ref="$sliceSettingBox">
          ${Fd.map(t=>`
              <div>
                <label class='title'>${t.title}</label>
              </div>
              <div>
                ${E("RangeEditor",{ref:`$${t.key}Slice`,label:"Slice",key:`border-image-slice-${t.key}`,onchange:"changeBorderImage"})}
              </div>  
              <div>
                ${E("RangeEditor",{ref:`$${t.key}Width`,label:"Width",key:`border-image-width-${t.key}`,onchange:"changeBorderImage"})}              
              </div>                
            `).join("")}
        </div>
      </div>
    `}[Cr("$sliceSettingBox select")](t){this.setBorderImageProperty()}[F("$borderImageView .preview")](){this.viewFillPopup(this.refs.$preview,"")}[F("$borderImageView .colorsteps .step")](t){this.refs.$colorsteps.$('[data-selected="true"]').removeAttr("data-selected");var r=t.$dt.attr("data-colorstep-id");t.$dt.attr("data-selected",!0);var i=t.$dt.closest("border-image-item").$(".preview");this.viewFillPopup(i,r)}getFillData(t){let r={type:t.type};switch(r.type){case"image":r.url=t.image?t.image.url:"";break;default:if(t.image){const i=t.image;r.type=i.type,r.colorsteps=[...i.colorsteps],r.angle=i.angle,r.radialType=i.radialType||"ellipse",r.radialPosition=i.radialPosition||lr.CENTER}else r.colorsteps=[],r.angle=0,r.radialType="ellipse",r.radialPosition=lr.CENTER;break}return r}viewFillPopup(t,r){var i=this.$selection.current;!i||this.emit("showFillPopup",le(v({changeEvent:"changeBorderImageFillPopup"},this.getFillData(i.borderImage)),{selectColorStepId:r,refresh:!0}))}viewChangeImage(t){var r=this.$selection.current;if(!!r){var i=r.borderImage;if(!!i){var s=this.getRef("$miniView");s&&i.image&&s.css({"background-image":i.image.toString(),"background-size":"cover"});var s=this.getRef("$fillTitle");s&&s.html(Sl.image);var s=this.getRef("$colorsteps",this.selectedIndex);s&&s.empty()}}}setImage(t){var r=this.$selection.current;!r||(r.borderImage.setImageUrl(t),this.viewChangeImage(t),this.emit("refreshElement",r))}viewChangeGradient(t){var r=this.$selection.current;if(!!r){var i=r.borderImage;if(!!i){var s=this.getRef("$miniView");s&&s.css({"background-image":i.image.toString(),"background-size":"cover"});var s=this.getRef("$fillTitle");s&&s.html(Sl[t.type]);var s=this.getRef("$colorsteps",this.selectedIndex);s&&s.html(this.getColorStepString(t.colorsteps))}}}setGradient(t){var r=this.$selection.current;!r||(r.borderImage.setGradient(t),this.viewChangeGradient(t),this.emit("refreshElement",r))}[I("changeBorderImageFillPopup")](t){switch(t.type){case"image":this.setImage(t);break;default:this.setGradient(t);break}}setBorderImageProperty(){var t=this.$selection.current;if(!!t){var r=t.borderImage,i=this.refs.$selector.attr("data-selected-value");if(i==="all"){var s=this.children.$allSlice.getValue();r.reset({slice:{top:s.clone(),right:s.clone(),bottom:s.clone(),left:s.clone()}})}else Bd.forEach(n=>{r.slice[n]=this.children[`$${n}Slice`].getValue(),r.width[n]=this.children[`$${n}Width`].getValue()});this.emit("refreshElement",t)}}[F("$selector button")](t){var r=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",r),r==="all"?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setBorderImageProperty()}}function CI(a){a.registerElement({BorderImageProperty:PI})}var m7="";const Nd=[{key:"border-top-left-radius",title:"topLeft",label:"TL"},{key:"border-top-right-radius",title:"topRight",label:"TR"},{key:"border-bottom-left-radius",title:"bottomLeft",label:"BL"},{key:"border-bottom-right-radius",title:"bottomRight",label:"BR"}],wl=Nd.map(a=>a.key),ui={ALL:"all",PARTITIAL:"partial"};class kI extends K{initState(){return v({},gl.parseStyle(this.props.value))}template(){return"<div class='elf--border-radius-editor' ref='$body'></div>"}[Q("changeBorderRadius")](t,r){t==="border-radius"&&wl.forEach(i=>{this.children[`$${i}`].setValue(r.clone())}),this.setBorderRadius()}[U("$body")](){var t=this.state["border-radius"];return`
      <div class="border-radius-item">
        <div class="radius-value">
          ${E("InputRangeEditor",{label:O("outline_rect"),ref:"$all",compact:"true",key:"border-radius",value:t,min:0,onchange:"changeBorderRadius"})}
        </div>
        <div></div>

          ${E("ToggleButton",{compact:!0,ref:"$toggle",key:"border-all",checkedValue:ui.PARTITIAL,value:ui.ALL,toggleLabels:["border_inner","border_inner"],toggleValues:[ui.ALL,ui.PARTITIAL],onchange:"changeKeyValue"})}
      </div>
      <div
        class="full border-radius-item"
        ref="$partitialSetting"
        style="display: none;"
      >
        <div class="radius-setting-box" ref="$radiusSettingBox">
          <div>
            ${Nd.map(r=>{var i=this.state[r.key],s=this.$i18n("border.radius.editor."+r.title),n=r.label;return`
                <div>
                  ${E("InputRangeEditor",{compact:!0,ref:`$${r.key}`,label:n,title:s,key:r.key,value:i,min:0,step:1,onchange:"changeBorderRadius"})}
                </div>  
              `}).join("")}
          </div>
        </div>
      </div>
    `}[ot("$radiusSettingBox input")](t){this.setBorderRadius()}[Cr("$radiusSettingBox select")](t){this.setBorderRadius()}setBorderRadius(){var t=this.selectedValue;t===ui.ALL?this.state["border-radius"]=this.children.$all.getValue():wl.forEach(r=>{this.state[r]=this.children[`$${r}`].getValue()}),this.modifyBorderRadius()}modifyBorderRadius(){var t="";this.selectedValue===ui.ALL?t=this.state["border-radius"]+"":t=wl.map(r=>`${this.state[r]}`).join(" "),this.parent.trigger(this.props.onchange,t)}[Q("changeKeyValue")](t,r){r===ui.PARTITIAL?(this.selectedValue=ui.PARTITIAL,this.refs.$partitialSetting.show()):(this.selectedValue=ui.ALL,this.refs.$partitialSetting.hide()),this.setBorderRadius()}}class TI extends De{getTitle(){return this.$i18n("border.radius.property.title")}getBody(){return`<div class="property-item full border-radius-item" ref='$body'></div>`}[U("$body")](){var t=this.$selection.current||{},r=t["border-radius"]||"";return E("BorderRadiusEditor",{ref:"$1",value:r,onchange:"changeBorderRadius"})}get editableProperty(){return"border-radius"}[I("refreshSelection")+Xe(100)+Se("checkShow")](){this.refresh()}[Q("changeBorderRadius")](t){this.command("setAttributeForMulti","change border radius",this.$selection.packByValue({"border-radius":t}))}}function MI(a){a.registerElement({BorderRadiusEditor:kI}),a.registerUI("inspector.tab.style",{BorderRadiusProperty:TI})}var v7="";const II=["margin","padding"];let Pl=[];II.forEach(a=>{Pl.push.apply(Pl,["-top","-bottom","-left","-right"].map(t=>a+t))});class EI extends De{getTitle(){return this.$i18n("box.model.property.title")}get editableProperty(){return"box-model-block"}[I("refreshSelection")+Xe(100)+Se("checkShow")](){this.refresh()}[I("refreshSelectionStyleView")](){const t=this.$selection.current;(t==null?void 0:t.hasChangedField("padding-left","padding-right","padding-top","padding-bottom"))&&this.refresh()}getBody(){return'<div class="property-item elf--box-model-item" ref="$boxModelItem"></div>'}templateInput(t,r){var i=g.parse(r[t]||0);return`<input type="number" ref="$${t}" value="${i.value}" tabIndex="1" />`}[U("$boxModelItem")+st](){var t=this.$selection.current;return t?`
      <div>
        <div class="margin" data-title="${this.$i18n("box.model.property.margin")}">
          <div data-value="top">
            ${this.templateInput("margin-top",t)}
          </div>
          <div data-value="bottom">
            ${this.templateInput("margin-bottom",t)}
          </div>
          <div data-value="left">
            ${this.templateInput("margin-left",t)}
          </div>
          <div data-value="right">
            ${this.templateInput("margin-right",t)}
          </div>
        </div>
        <div class="padding" data-title="${this.$i18n("box.model.property.padding")}">
          <div data-value="top">
            ${this.templateInput("padding-top",t)}
          </div>
          <div data-value="bottom">
            ${this.templateInput("padding-bottom",t)}
          </div>
          <div data-value="left">
            ${this.templateInput("padding-left",t)}
          </div>
          <div data-value="right">
            ${this.templateInput("padding-right",t)}
          </div>
        </div>
        <div class='content' title='Content'>
        
        </div>
      </div>
    `:""}[ot("$boxModelItem input")](t){this.resetBoxModel()}resetBoxModel(){var t={};Pl.forEach(r=>{t[r]=this.refs["$"+r].value}),this.command("setAttributeForMulti","change padding or margin",this.$selection.packByValue(t))}}function LI(a){a.registerUI("inspector.tab.style",{BoxModelProperty:EI})}var Gd=[{name:"Box",shadow:"0px 3px 3px 0px rgba(0,0,0,0.2)"},{name:"Shadow-4",shadow:`
        0px 1px 1px 0px rgba(0,0,0,0.15), 
        0px 2px 2px 0px rgba(0,0,0,0.15), 
        0px 4px 4px 0px rgba(0,0,0,0.15), 
        0px 8px 8px 0px rgba(0,0,0,0.15)
    `},{name:"Shadow-5",shadow:`
        0px  1px 1px 0px rgba(0,0,0,0.12), 
        0px  2px 2px 0px rgba(0,0,0,0.12), 
        0px  4px 4px 0px rgba(0,0,0,0.12), 
        0px  8px 8px 0px rgba(0,0,0,0.12),
        0px  16px 16px 0px rgba(0,0,0,0.12)
    `},{name:"Shadow-6",shadow:`
        0px 1px 1px 0px rgba(0,0,0,0.11), 
        0px 2px 2px 0px rgba(0,0,0,0.11), 
        0px 4px 4px 0px rgba(0,0,0,0.11), 
        0px 8px 8px 0px rgba(0,0,0,0.11), 
        0px 16px 16px 0px rgba(0,0,0,0.11), 
        0px 32px 32px 0px rgba(0,0,0,0.11)
    `},{name:"Sharp",shadow:`
        0px 1px 1px 0px rgba(0,0,0,0.25), 
        0px 2px 2px 0px rgba(0,0,0,0.20), 
        0px 4px 4px 0px rgba(0,0,0,0.15), 
        0px 8px 8px 0px rgba(0,0,0,0.10),
        0px 16px 16px 0px rgba(0,0,0,0.05)
    `},{name:"Diffuse",shadow:`
        0px 1px 1px 0px rgba(0,0,0,0.08), 
        0px 2px 2px 0px rgba(0,0,0,0.12), 
        0px 4px 4px 0px rgba(0,0,0,0.16), 
        0px 8px 8px 0px rgba(0,0,0,0.20)
    `}],y7="";class VI extends De{getTitle(){return this.$i18n("boxshadow.property.title")}getBody(){return`
      <div class="full box-shadow-item" ref="$shadowList"></div>
    `}getTools(){return`
      <select class='box-shadow-samples' ref="$select">
      ${Gd.map((t,r)=>`
          <option value="${r}">${t.name}</option>
        `).join("")}
      </select>
      <button type="button" ref='$add'>${ae.add}</button>
    `}[F("$add")](){const t=+this.refs.$select.value;this.children.$boxshadow.trigger("add",Gd[t].shadow)}[U("$shadowList")](){var t=this.$selection.current||{};return E("BoxShadowEditor",{ref:"$boxshadow",key:"box-shadow",value:t["box-shadow"],onchange:(r,i)=>{this.command("setAttributeForMulti","change box shadow",this.$selection.packByValue({[r]:i}))}})}get editableProperty(){return"box-shadow"}[I("refreshSelection")+Xe(100)+Se("checkShow")](){this.refresh()}}function RI(a){a.registerUI("inspector.tab.style",{BoxShadowProperty:VI})}var b7="",zI={key:"polygon",title:"Polygon",execute:function(){return[{name:"Triangle",polygon:"50% 0%, 0% 100%, 100% 100%"},{name:"Trapezoid",polygon:"20% 0%, 80% 0%, 100% 100%, 0% 100%"},{name:"Parallelogram",polygon:"25% 0%, 100% 0%, 75% 100%, 0% 100%"},{name:"Rhombus",polygon:"50% 0%, 100% 50%, 50% 100%, 0% 50%"},{name:"Pentagon",polygon:"50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%"},{name:"Hexagon",polygon:"50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%"},{name:"Heptagon",polygon:"50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%"},{name:"Octagon",polygon:"30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%"}]}};const jI={[qt.CIRCLE]:"circle(50% at 50% 50%)",[qt.ELLIPSE]:"ellipse(50% 50% at 50% 50%)",[qt.INSET]:"inset(0% 0% 0% 0%)",[qt.POLYGON]:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",[qt.PATH]:"path()"};class AI extends De{getTitle(){return this.$i18n("clippath.property.title")}getClassName(){return"clip-path-property"}getBody(){return"<div class='elf--clip-path-list' ref='$clippathList'></div>"}getTools(){return`
      <div ref="$tools" class="add-tools">
        <button type="button" data-value='circle' data-tooltip="Circle">${O("outline_circle")}</button>
        <button type="button" data-value='ellipse' data-tooltip="Ellipse">${O("outline_circle","scale(1 0.7) translate(0 5)")}</button>
        <button type="button" data-value='inset' data-tooltip="Inset">${O("outline_rect")}</button>
        <button type="button" data-value='polygon' data-tooltip="Polygon">${O("polygon")}</button>
        <button type="button" data-value='path' data-tooltip="Path">${O("pentool")}</button>
        <button type="button" data-value='svg' data-tooltip="SVG">${O("image")}</button>
      </div>
    `}makeClipPathTemplate(t,r){const i=t==="path",s=t==="polygon";let n="";if(i){const l=r.split("(")[1].split(")")[0];let c=W.fromSVGString(l);const h=c.getBBox(),d=rr(h),p=260/d.width,u=150/d.height,m=Math.min(p,u);c=c.translate(-h[0][0],-h[0][1]).scale(m,m);const $=c.getBBox(),S=rr($);n=c.translate(260/2-S.width/2,0).d}let o="";if(s){const l=zI.execute();o=E("SelectEditor",{ref:"$polygonSelect",options:["",...l.map(c=>c.name)],onchange:(c,h)=>{const d=l.find(p=>p.name===h);d&&this.updatePathInfo({"clip-path":`polygon(${d.polygon})`})}})}return`
      <div>
        <div class='clippath-item'>
          <label>${O("drag_indicator")}</label>
          <div class='title'>
            <div class='name'>${t}</div>
            ${s?o:""}
          </div>
          <div class='tools'>
            <button type="button" class="del">${ae.remove2}</button>
          </div>        
        </div>
        ${i?`<svg><path d="${n}" fill="transparent" stroke="currentColor" /></svg>`:""}
      </div>

    `}[F("$clippathList .clippath-item .title .name")](t){var r=this.$selection.current;!r||this.viewClipPathPicker()}[F("$clippathList .del")+Pe](t){var r=this.$selection.current;!r||(this.command("setAttributeForMulti","delete clip-path",this.$selection.packByValue({"clip-path":""})),this.emit("hideClipPathPopup"),setTimeout(()=>{this.refresh()},100))}get editableProperty(){return"clip-path"}[I("refreshSelection")+Se("checkShow")](){this.refresh()}[U("$clippathList")](){var t=this.$selection.current;return!t||!t["clip-path"]?"":this.makeClipPathTemplate(t["clip-path"].split("(")[0],t["clip-path"])}[F("$tools [data-value]")](t){var r=this.$selection.current;if(!!r){if(r["clip-path"]){alert("clip-path is already exists.");return}r&&(r.reset({"clip-path":jI[t.$dt.data("value")]}),this.command("setAttributeForMulti","change clip-path",this.$selection.pack("clip-path"))),this.refresh()}}viewClipPathPicker(){var t=this.$selection.current;if(!!t){var r=_e.parseStyle(t["clip-path"]);switch(r.type){case"path":var i=t.absolutePath(t.clipPathString).d,s=i?"modify":"path";this.emit("showPathEditor",s,{changeEvent:n=>{n.d=t.invertPath(n.d).d,this.updatePathInfo({"clip-path":`path(${n.d})`})},current:t,d:i});break}}}updatePathInfo(t){if(!!t){var r=this.$selection.current;!r||(r.reset(t),this.refresh(),this.command("setAttributeForMulti","change clip-path",this.$selection.packByValue(t)))}}}function OI(a){a.registerUI("inspector.tab.style",{ClipPathProperty:AI})}var $7="";class DI extends De{getTitle(){return this.$i18n("code.view.property.title")}checkConfig(){return this.$config.is("inspector.selectedValue","code")}[_t("inspector.selectedValue")](){this.refresh()}[I("refreshSelectionStyleView","refreshSelection")+Se("checkConfig")+Xe(100)](){this.refresh()}getBody(){return`
      <div class="property-item elf--code-view-item" ref='$body'>
        <div class="elf--code-view-item-code" ref='$code'></div>
        <div class="elf--code-view-item-svg" ref='$svg'></div>
      </div>
    `}[U("$code")+st](){return[this.$editor.html.codeview(this.$selection.current)]}[U("$svg")+st](){return[this.$editor.svg.codeview(this.$selection.current)]}}function FI(a){a.registerUI("inspector.tab.code",{CodeViewProperty:DI})}class BI extends K{initState(){return{hue:0,minValue:0,maxValue:360}}template(){return`
            <div class="hue">
                <div ref="$container" class="hue-container">
                    <div ref="$bar" class="drag-bar"></div>
                </div>
            </div>
        `}[se("$bar")](){const t=this.state.hue;return{style:{left:g.makePercent(t,360)},class:{first:t<=this.state.minValue,last:t>=this.state.maxValue}}}[xe("$container")+Ve("movePointer")+ze("moveEndPointer")](t){this.rect=this.refs.$container.rect(),this.refreshColorUI()}movePointer(){this.refreshColorUI()}refreshColorUI(){const t=this.rect.left,r=this.rect.right,s=(Math.max(Math.min(r,this.$config.get("bodyEvent").clientX),t)-t)/(r-t);this.parent.changeColor({h:s*this.state.maxValue,type:"hsv"})}setValue(t){this.setState({hue:t})}}class NI extends K{initState(){return{colorbar:Le.parse("rgba(0, 0, 0, 1)"),opacity:0,minValue:0,maxValue:100}}template(){return`
        <div class="opacity">
            <div ref="$container" class="opacity-container">
                <div ref="$colorbar" class="color-bar"></div>
                <div ref="$bar" class="drag-bar2"></div>
            </div>
        </div>
        `}[se("$colorbar")](){const t=ve(this.state.colorbar);t.a=0;const r=Le.format(t,"rgb");t.a=1;const i=Le.format(t,"rgb");return{style:{background:`linear-gradient(to right, ${r}, ${i})`}}}[se("$bar")](){const t=this.state.opacity*100;return{style:{left:g.percent(t)},class:{first:t<=this.state.minValue,last:t>=this.state.maxValue}}}[xe("$container")+Ve("movePointer")+ze("moveEndPointer")](t){this.rect=this.refs.$container.rect(),this.refreshColorUI()}movePointer(){this.refreshColorUI()}refreshColorUI(){const t=this.rect.left,r=this.rect.right,s=(Math.max(Math.min(r,this.$config.get("bodyEvent").clientX),t)-t)/(r-t);this.parent.changeColor({a:s.toFixed(2)})}setValue(t,r){this.setState({opacity:r,colorbar:t})}}class GI extends K{initState(){return{value:"rgba(0, 0, 0, 1)"}}template(){return"<div class='color'></div>"}[se("$el")](){return{style:{"background-color":this.state.value}}}setValue(t){this.setState({value:t})}}class HI extends K{template(){return`
        <div class="information hex">
            <div ref="$informationChange" class="information-change">
                <button ref="$formatChangeButton" type="button" class="format-change-button">
                    ${O("unfold")}
                </button>
            </div>
            <div class="information-item hex">
                <div class="input-field hex">
                    <input ref="$hexCode" class="input" type="text" />
                    <div class="title">HEX</div>
                </div>
            </div>
            <div class="information-item rgb">
                <div class="input-field rgb-r">
                    <input ref="$rgb_r" class="input" type="number" step="1" min="0" max="255" />
                    <div class="title">R</div>
                </div>
                <div class="input-field rgb-g">
                    <input ref="$rgb_g" class="input" type="number" step="1" min="0" max="255" />
                    <div class="title">G</div>
                </div>
                <div class="input-field rgb-b">
                    <input ref="$rgb_b" class="input" type="number" step="1" min="0" max="255" />
                    <div class="title">B</div>
                </div>          
                <div class="input-field rgb-a">
                    <input ref="$rgb_a" class="input" type="number" step="0.01" min="0" max="1" />
                    <div class="title">A</div>
                </div>                                                            
            </div>
            <div class="information-item hsl">
                <div class="input-field hsl-h">
                    <input ref="$hsl_h" class="input" type="number" step="1" min="0" max="360" />
                    <div class="title">H</div>
                </div>
                <div class="input-field hsl-s">
                    <input ref="$hsl_s" class="input" type="number" step="1" min="0" max="100" />
                    <div class="postfix">%</div>
                    <div class="title">S</div>
                </div>
                <div class="input-field hsl-l">
                    <input ref="$hsl_l" class="input" type="number" step="1" min="0" max="100" />
                    <div class="postfix">%</div>                        
                    <div class="title">L</div>
                </div>
                <div class="input-field hsl-a">
                    <input ref="$hsl_a" class="input" type="number" step="0.01" min="0" max="1" />
                    <div class="title">A</div>
                </div>
            </div>
        </div>
        `}get manager(){return this.parent.manager}setCurrentFormat(t){this.format=t,this.initFormat()}initFormat(){var t=this.format||"hex";["hex","rgb","hsl"].filter(r=>r!==t).forEach(r=>{this.$el.removeClass(r)}),this.$el.addClass(t)}nextFormat(){var t=this.format||"hex",r="hex";t=="hex"?r="rgb":t=="rgb"?r="hsl":t=="hsl"&&(this.parent.alpha==1?r="hex":r="rgb"),this.format=r,this.initFormat(),this.parent.changeFormat(this.format)}goToFormat(t){this.format=t,(t==="rgb"||t==="hsl")&&this.initFormat(),this.parent.changeFormat(this.format)}getFormat(){return this.format||"hex"}changeRgbColor(){this.parent.lastUpdateColor({type:"rgb",r:this.refs.$rgb_r.int(),g:this.refs.$rgb_g.int(),b:this.refs.$rgb_b.int(),a:this.refs.$rgb_a.float()})}changeHslColor(){this.parent.lastUpdateColor({type:"hsl",h:this.refs.$hsl_h.int(),s:this.refs.$hsl_s.int(),l:this.refs.$hsl_l.int(),a:this.refs.$hsl_a.float()})}hasValue(t){return t.target.value!==""}[ot("$rgb_r")+Se("hasValue")](t){this.changeRgbColor()}[ot("$rgb_g")+Se("hasValue")](t){this.changeRgbColor()}[ot("$rgb_b")+Se("hasValue")](t){this.changeRgbColor()}[ot("$rgb_a")+Se("hasValue")](t){this.changeRgbColor()}[ot("$hsl_h")+Se("hasValue")](t){this.changeHslColor()}[ot("$hsl_s")+Se("hasValue")](t){this.changeHslColor()}[ot("$hsl_l")+Se("hasValue")](t){this.changeHslColor()}[ot("$hsl_a")+Se("hasValue")](t){this.changeHslColor()}[Xt("$hexCode")+Se("hasValue")](t){var r=this.refs.$hexCode.val();r.charAt(0)=="#"&&(r.length==7||r.length===9)&&this.parent.lastUpdateColor(r)}[jc("$hexCode")+Se("hasValue")](t){var r=this.refs.$hexCode.val();r.charAt(0)=="#"&&(r.length==7||r.length===9)&&this.parent.lastUpdateColor(r)}[F("$formatChangeButton")](t){this.nextFormat()}[F("$el .information-item.hex .input-field .title")](t){this.goToFormat("hex")}[F("$el .information-item.rgb .input-field .title")](t){this.goToFormat("hsl")}[F("$el .information-item.hsl .input-field .title")](t){this.goToFormat("rgb")}setRGBInput(){this.refs.$rgb_r.val(this.manager.rgb.r),this.refs.$rgb_g.val(this.manager.rgb.g),this.refs.$rgb_b.val(this.manager.rgb.b),this.refs.$rgb_a.val(this.manager.alpha)}setHSLInput(){this.refs.$hsl_h.val(this.manager.hsl.h),this.refs.$hsl_s.val(this.manager.hsl.s),this.refs.$hsl_l.val(this.manager.hsl.l),this.refs.$hsl_a.val(this.manager.alpha)}setHexInput(){this.refs.$hexCode.val(this.manager.toString("hex"))}setValue(){this.refresh()}refresh(){this.setCurrentFormat(this.manager.format),this.setRGBInput(),this.setHSLInput(),this.setHexInput()}}class UI extends K{initState(){return{hueColor:"rgba(0, 0, 0, 1)",s:0,v:0}}template(){return`
        <div class="color-panel">
            <div ref="$saturation" class="saturation">
                <div ref="$value" class="value">
                    <div ref="$drag_pointer" class="drag-pointer"></div>
                </div>
            </div>        
        </div>        
        `}afterRender(){this.rect=this.$el.rect()}[se("$el")](){return{style:{"background-color":this.state.hueColor}}}[se("$drag_pointer")](){this.rect.width===0&&(this.rect=this.$el.rect());const t=this.rect.width*this.state.s,r=this.rect.height*(1-this.state.v);return{style:{left:t,top:r}}}[xe("$el")+Ve("movePointer")+ze("moveEndPointer")](t){this.rect=this.$el.rect(),this.refreshColorUI()}movePointer(){this.refreshColorUI()}moveEndPointer(){this.parent.changeEndColor()}refreshColorUI(){const t=this.$config.get("bodyEvent"),r=this.rect.left,i=this.rect.right,s=this.rect.top,n=this.rect.bottom,o=Math.min(i,Math.max(r,t.clientX)),l=Math.min(n,Math.max(s,t.clientY)),c=i-r,h=n-s;var d=(o-r)/c,p=(h-(l-s))/h;this.parent.changeColor({type:"hsv",s:d,v:p})}setValue(t,r,i){this.setState({s:t,v:r,hueColor:i})}}const Ai=[{rgb:"#ff0000",start:0},{rgb:"#ffff00",start:.17},{rgb:"#00ff00",start:.33},{rgb:"#00ffff",start:.5},{rgb:"#0000ff",start:.67},{rgb:"#ff00ff",start:.83},{rgb:"#ff0000",start:1}];function XI(a){for(var t,r,i=0;i<Ai.length;i++)if(Ai[i].start>=a){t=Ai[i-1],r=Ai[i];break}return t&&r?Le.mix(t,r,(a-t.start)/(r.start-t.start)):Ai[0].rgb}function YI(){for(var a=0,t=Ai.length;a<t;a++){var r=Ai[a],i=Le.parse(r.rgb);r.r=i.r,r.g=i.g,r.b=i.b}}YI();var WI={colors:Ai,checkHueColor:XI};class KI{constructor(){this.initialize()}initialize(){this.state={rgb:{},hsl:{},hsv:{},alpha:1,format:"hex"}}get hsv(){return this.state.hsv}get rgb(){return this.state.rgb}get hsl(){return this.state.hsl}get hex(){return this.state.hex}get alpha(){return typeof this.state.alpha=="undefined"?1:this.state.alpha}get format(){return this.state.format}changeFormat(t){this.state.format=t}initColor(t){this.changeColor(t)}changeColor(t){t=t||"#FF0000",typeof t=="string"&&(t=Le.parse(t)),this.state.alpha=typeof t.a!="undefined"?t.a:this.state.alpha,this.state.format=t.type!="hsv"?t.type||this.state.format:this.state.format,t.type=="hsl"?(this.state.hsl=v(v({},this.state.hsl),t),this.state.rgb=Le.HSLtoRGB(this.state.hsl),this.state.hsv=Le.HSLtoHSV(t)):t.type=="hex"?(this.state.rgb=v(v({},this.state.rgb),t),this.state.hsl=Le.RGBtoHSL(this.state.rgb),this.state.hsv=Le.RGBtoHSV(t)):t.type=="rgb"?(this.state.rgb=v(v({},this.state.rgb),t),this.state.hsl=Le.RGBtoHSL(this.state.rgb),this.state.hsv=Le.RGBtoHSV(t)):t.type=="hsv"&&(this.state.hsv=v(v({},this.state.hsv),t),this.state.rgb=Le.HSVtoRGB(this.state.hsv),this.state.hsl=Le.HSVtoHSL(this.state.hsv))}getHueColor(){return WI.checkHueColor(this.state.hsv.h/360)}toString(t){t=t||this.state.format;var r=this.state[t]||this.state.rgb;return Le.format(le(v({},r),{a:this.state.alpha}),t)}toColor(t){return t=(t||this.state.format).toLowerCase(),this.toString(t)}}class ZI extends K{created(){this.manager=new KI}initState(){const t=this.props.value||"rgba(0, 0, 0, 1)";return this.manager.initColor(t),{key:this.props.key,value:this.manager.toString()}}updateData(t={}){this.setState(t,!1),this.modifyColorPicker()}modifyColorPicker(){this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}initColor(t,r){this.manager.changeColor(t,r),this.refresh()}changeColor(t,r){this.manager.changeColor(t,r),this.refresh(),this.updateData({value:this.manager.toColor()})}[Q("selectColorAssets")](t,r){this.lastUpdateColor(r)}changeFormat(t){this.manager.changeFormat(t),this.setState({value:this.manager.toColor()},!1),this.modifyColorPicker(),this.changeEndColor()}lastUpdateColor(t,r){this.manager.changeColor(t,r),this.refresh(),this.setState({value:this.manager.toColor()},!1),this.modifyColorPicker(),this.changeEndColor()}changeEndColor(){this.parent.trigger(this.props.onchangeend,this.props.key,this.state.value,this.props.params)}refresh(){const t=this.manager.toColor();this.children.$palette.setValue(this.manager.hsv.s,this.manager.hsv.v,this.manager.getHueColor()),this.children.$opacity.setValue(this.manager.rgb,this.manager.alpha),this.children.$hue.setValue(this.manager.hsv.h),this.children.$colorview.setValue(t),this.children.$information.setValue()}components(){return{Hue:BI,Opacity:NI,ColorView:GI,Palette:UI,ColorInformation:HI}}template(){return`
        <div class='colorpicker sketch inline'>
            <div class='colorpicker-body'>
                ${E("Palette",{ref:"$palette"})}
                <div class="control">
                    ${E("Hue",{ref:"$hue"})}
                    ${E("Opacity",{ref:"$opacity"})}
                    <div class="empty"></div>
                    ${E("ColorView",{ref:"$colorview"})}                    
                </div>
                ${E("ColorInformation",{ref:"$information"})}                
                ${E("ColorAssetsEditor",{ref:"$colorAsset",key:"colorAssets",onchange:"selectColorAssets"})}
            </div>
        </div>
      `}}var x7="";class qI extends jr{getTitle(){return this.$i18n("colorpicker.popup.title")}getClassName(){return"compact elf--colorpicker-popup"}initState(){return{color:"rgba(0, 0, 0, 1)"}}updateData(t={}){this.setState(t,!1),this.state.target&&this.state.target.trigger(this.state.changeEvent,this.state.color,this.params)}updateEndData(t={}){this.setState(t,!1),this.state.target&&this.state.target.trigger(this.state.changeEndEvent,this.state.color,this.params)}getBody(){return`
    <div>
      <div class='box'>
        ${E("EmbedColorPicker",{ref:"$color",value:this.state.color,onchange:t=>this.updateData({color:t}),onchangeend:t=>this.updateEndData({color:t})})}
    </div>
  `}[U("$projectColors")](){var t=this.$selection.currentProject||{colors:[]},r=t.colors;return r.map(i=>`
      <div class='color-item' title='${i.name}'>
        <div class='color-view' data-color='${i.color}' style='background-color: ${i.color}'></div>
      </div>`)}[F("$projectColors .color-view")](t){this.updateData({color:t.$dt.attr("data-color")}),this.children.$color.setValue(this.state.color)}[I("showColorPickerPopup")](t,r,i){if(t.changeEvent=t.changeEvent||"changeFillPopup",!(t.target instanceof hh))throw new Error("ColorPicker needs data.target");this.params=r,this.setState(t,!1),this.children.$color.setValue(this.state.color),this.showByRect(this.makeRect(245,500,i))}[I("hideColorPickerPopup")](){this.hide()}}class QI extends K{initState(){return{value:this.props.value||"rgba(0, 0, 0, 1)"}}template(){return`
        <div class='embed-color-picker'>
          ${E("ColorPickerEditor",{ref:"$colorpicker",key:"colorpicker",value:this.state.value,onchange:"localChangeColor",onchangeend:"localLastUpdate"})}
        </div>
      `}[Q("localChangeColor")](t,r){this.parent.trigger(this.props.onchange,r)}[Q("localLastUpdate")](t,r){this.parent.trigger(this.props.onchangeend,r)}setValue(t){this.state.value=t,this.children.$colorpicker.initColor(t)}refresh(){this.children.$colorpicker.initColor(this.props.value)}}function Hd(a){a.registerElement({ColorPickerEditor:ZI,EmbedColorPicker:QI}),a.registerUI("popup",{ColorPickerPopup:qI})}var _7="";class JI extends De{getClassName(){return"component-property"}getTitle(){return"Component"}isShow(){var t=this.$selection.current;const r=this.$editor.components.createInspector(t);return!!(t&&(t.is("component")||r.length>0))}[I("refreshSelection")+Xe(100)](){this.refreshShow(t=>{const r=this.$selection.current;return this.$editor.components.createInspector(r).length>0})}refresh(){var t=this.$selection.current;t&&(this.setTitle(t.getDefaultTitle()||t.itemType||t.name),this.load())}getBody(){return`
      <div ref='$body'></div>
    `}[U("$body")](){var t=this.$selection.current;if(!t)return"";const r=this.$editor.components.createInspector(t);return r.forEach(i=>{if(ht(i))return;let s=t[i.key]||i.defaultValue;ye(i.convertDefaultValue)&&(s=i.convertDefaultValue(t,i.key)),i.defaultValue=s}),E("ComponentEditor",{ref:"$comp",inspector:r,onchange:"changeComponentProperty"})}[Q("changeComponentProperty")](t,r){this.command("setAttributeForMulti","change component : "+t,this.$selection.packByValue({[t]:r}))}}var S7="";class eE extends jr{getClassName(){return"component-property w(800)"}getTitle(){return"Component"}initState(){return{title:"",inspector:[]}}refresh(){this.setTitle(this.state.title||this.getTitle()),this.load()}getBody(){return`
      <div ref='$body'></div>
    `}[se("$body")](){return{style:{width:this.state.width||250}}}[U("$body")](){const t=this.state.inspector;return E("ComponentEditor",{inspector:t,onchange:"changeComponent"})}[Q("changeComponent")](t,r){ye(this.state.changeEvent)&&this.emit(this.state.changeEvent,t,r)}[I("showComponentPopup")](t){this.setState(t,!1),this.refresh(),this.show(t.width)}}function tE(a){a.registerUI("inspector.tab.style",{ComponentProperty:JI}),a.registerUI("popup",{ComponentPopup:eE})}var w7="";class rE extends De{getTitle(){return"Content"}[I("refreshSelection","refreshContent")+Xe(100)](){this.refreshShow(["text"])}getBody(){return`
      <div class="property-item elf--content-item">
        <textarea ref="$contentItem"></textarea>
      </div>
    `}[se("$contentItem")](){var t=this.$selection.current;return t?{value:t.content||""}:""}[ot("$contentItem")](t){this.setContent()}setContent(){var t=this.$selection.current;if(t){var r={content:this.refs.$contentItem.value};t.reset(r),this.emit("refreshSelectionStyleView",t)}}}function iE(a){a.registerElement({ContentProperty:rE})}var sE={key:"area.width",defaultValue:100,title:"Area Width to find layers fastly",description:"Set area width/height",type:"number"},aE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sE}),nE={key:"body.move.ms",defaultValue:30,title:"pointer move delay millisecond",description:"Set delay millisecond to moving pointer in body  ",type:"number"},oE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nE}),lE={key:"canvas.height",defaultValue:1e4,title:"Default canvas height",description:"Set default canvas height",type:"number"},cE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lE}),hE={key:"canvas.width",defaultValue:1e4,title:"Default canvas width",description:"Set default canvas width",type:"number"},dE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hE}),uE={key:"debug",defaultValue:!1,title:"debug mode",description:"Set debug mode to on ",type:"boolean"},pE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uE}),gE={key:"editing.mode.itemType",defaultValue:"select",title:"set item type for  editing mode",description:"set item type for  editing mode",type:"string"},fE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gE}),mE={key:"editing.mode",defaultValue:hr.SELECT,title:"set editing mode for Editor",description:"set editing mode (select, append, draw, path)",type:"string"},vE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mE}),yE={key:"editor.design.mode",defaultValue:"design",title:"Editor Design Mode ",description:"Set editor's design mode",options:["design","item"],type:"select"},bE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yE}),$E={key:"editor.layout.mode",defaultValue:"all",title:"Editor Layout Mode ",description:"Set editor's layout mode",type:"string"},xE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$E}),_E={key:"editor.theme",defaultValue:"light",title:"Editor Theme ",description:"Set editor's theme",type:"string"},SE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_E}),wE={key:"fixed.angle",defaultValue:15,title:"fixed angle count",description:"Set fixed angle",type:"number"},PE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wE}),CE={key:"fixed.gradient.angle",defaultValue:1,title:"fixed gradient angle count",description:"Set fixed gradient angle",type:"number"},kE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:CE}),TE={key:"history.delay.ms",defaultValue:500,title:"history delay milliseconds",description:"Set history delay time",type:"number"},ME=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:TE}),IE={key:"language.locale",defaultValue:xr.EN,title:"set locale for editor",description:"set locale for editor",type:"string"},EE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IE}),LE={key:"set.drag.path.area",defaultValue:!1,title:"Drag path area",description:"Drag path area",type:"boolean",storage:"none"},VE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:LE}),RE={key:"set.move.control.point",defaultValue:!1,title:"Moving Control Point",description:"Moving Control Point",type:"boolean",storage:"none"},zE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RE}),jE={key:"set.tool.hand",defaultValue:!1,title:"Hand tool",description:"Hand tool is on",type:"boolean",storage:"none"},AE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jE}),OE={key:"show.left.panel",defaultValue:!0,title:"Show left panel",description:"Set left panel visibility to on",type:"boolean"},DE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OE}),FE={key:"show.outline",defaultValue:!1,title:"Show outline",description:"Set outline visibility to on",type:"boolean"},BE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FE}),NE={key:"show.right.panel",defaultValue:!0,title:"Show right panel",description:"Set right panel visibility to on",type:"boolean"},GE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:NE}),HE={key:"show.ruler",defaultValue:!0,title:"Show ruler",description:"Set ruler visibility to on",type:"boolean"},UE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:HE}),XE={key:"snap.distance",defaultValue:3,title:"Snap distance between objects",description:"Set snap distance",type:"number"},YE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:XE}),WE={key:"snap.grid",defaultValue:50,title:"Snap grid size between objects",description:"Set snap grid size",type:"number"},KE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:WE}),ZE={key:"store.key",defaultValue:"easylogic.studio",title:"Store Key",description:"Set localStorage key",type:"number"},qE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ZE}),QE={key:"style.canvas.background.color",defaultValue:"#ececec",title:"Canvas Background Color",description:"Set canvas background color",type:"color"},JE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:QE}),eL=Object.values({"./config_list/area.width.js":aE,"./config_list/body.move.ms.js":oE,"./config_list/canvas.height.js":cE,"./config_list/canvas.width.js":dE,"./config_list/debug.mode.js":pE,"./config_list/editing.mode.itemType.js":fE,"./config_list/editing.mode.js":vE,"./config_list/editor.design.mode.js":bE,"./config_list/editor.layout.mode.js":xE,"./config_list/editor.theme.js":SE,"./config_list/fixed.angle.js":PE,"./config_list/fixed.gradient.angle.js":kE,"./config_list/history.delay.ms.js":ME,"./config_list/language.locale.js":EE,"./config_list/set.drag.path.area.js":VE,"./config_list/set.move.control.point.js":zE,"./config_list/set.tool.hand.js":AE,"./config_list/show.left.panel.js":DE,"./config_list/show.outline.js":BE,"./config_list/show.right.panel.js":GE,"./config_list/show.ruler.js":UE,"./config_list/snap.distance.js":YE,"./config_list/snap.grid.js":KE,"./config_list/store.key.js":qE,"./config_list/style.canvas.background.color.js":JE}).map(a=>a.default);function Ud(a){eL.forEach(t=>{a.registerConfig(t)})}class tL extends id{getDefaultObject(t={}){return super.getDefaultObject(v({svgfilters:[],keyframes:[]},t))}addKeyframe(t){return this.json.keyframes.push(t),t}createKeyframe(t={}){return this.addKeyframe(new Fs(v({checked:!0},t)))}removeKeyframe(t){this.removePropertyList(this.json.keyframes,t)}sortItem(t,r,i){t.splice(i+(r<i?-1:0),0,...t.splice(r,1))}sortKeyframe(t,r){this.sortItem(this.json.keyframes,t,r)}updateKeyframe(t,r={}){this.json.keyframes[+t].reset(r)}toKeyframeString(t=!1){return this.json.keyframes.map(r=>r.toString(t)).join(`

`)}copyPropertyList(t,r){var i=v({},t[r]);t.splice(r,0,i)}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("svgfilters","keyframes"))}removePropertyList(t,r){t.splice(r,1)}getSVGFilterIndex(t){var i;var r=this.json.svgfilters.map((s,n)=>({id:s.id,index:n})).filter(s=>s.id===t);return r.length?(i=r==null?void 0:r[0])==null?void 0:i.index:-1}removeSVGFilter(t){this.removePropertyList(this.json.svgfilters,t)}copySVGFilter(t){this.copyPropertyList(this.json.svgfilters,t)}sortSVGFilter(t,r){this.sortItem(this.json.svgfilters,t,r)}setSVGFilterValue(t,r){this.json.svgfilters[t]=v(v({},this.json.svgfilters[t]),r)}addSVGFilter(t={}){this.json.svgfilters.push(t);var r=this.json.svgfilters.length-1;return r}createSVGFilter(t={}){return this.addSVGFilter(v({id:tr()},t))}}class rL extends tL{getDefaultObject(t={}){return super.getDefaultObject(v({angle:0,x:0,y:0,width:300,height:300},t))}get isAbsolute(){return this.json.position==="absolute"}get isDragSelectable(){return!0}get isBooleanItem(){}get resizableWitChildren(){return!1}get transform(){return`rotateZ(${g.deg(this.json.angle)})`}get localMatrix(){return this._cachedLocalTransform||this.getLocalTransformMatrix()}get localMatrixInverse(){return this._cachedLocalTransformInverse||this.getLocalTransformMatrixInverse()}get transformWithTranslate(){return this._cachedTransformWithTranslate||this.getTransformWithTranslate(this)}get transformWithTranslateToTranspose(){return this._cachedTransformWithTranslateTranspose||Kc([],this.getTransformWithTranslate(this))}get transformWithTranslateInverse(){return this._cachedTransformWithTranslateInverse||It([],this.getTransformWithTranslate(this))}get itemMatrix(){return this._cachedItemTransform||this.getItemTransformMatrix()}get itemMatrixInverse(){return this._cachedItemTransformInverse||this.getItemTransformMatrixInverse()}get absoluteMatrix(){return this._cachedAbsoluteMatrix||this.getAbsoluteMatrix()}get absoluteMatrixInverse(){return this._cachedAbsoluteMatrixInverse||this.getAbsoluteMatrixInverse()}get relativeMatrix(){return this._cachedRelativeMatrix||this.getRelativeMatrix()}get relativeMatrixInverse(){return this._cachedRelativeMatrixInverse||this.getRelativeMatrixInverse()}get verties(){return this._cachedVerties||this.getVerties()}get contentVerties(){return this._cachedContentVerties||this.getContentVerties()}get originVerties(){return this._cachedVertiesWithoutTransformOrigin||this.rectVerties()}get localVerties(){return this._cachedLocalVerties||this.getLocalVerties()}get guideVerties(){return this._cachedGuideVerties||this.getGuideVerties()}get areaPosition(){return this._cachedAreaPosition||this.getAreaPosition(this._cachedAreaWidth)}get offsetX(){return this.json.x}get offsetY(){return this.json.y}get screenWidth(){return this.json.width}get screenHeight(){return this.json.height}get y(){return this.json.y}get x(){return this.json.x}get width(){return this.json.width}get height(){return this.json.height}get angle(){return this.json.angle}get translate(){return[0,0,0]}get scale(){return[1,1,1]}get rotate(){return[0,0,degreeToRadian(angle)]}get origin(){return kr.scale(this.json["transform-origin"]||"50% 50% 0px",this.screenWidth,this.screenHeight)}get absoluteOrigin(){return ce([this.origin],this.absoluteMatrix)[0]}get quat(){return Mf(Io(),0,0,this.angle)}getAreaPosition(t=100){const r=this.getVerties(),i=Tr(r),[s,n]=vn(i[0][0],i[0][1],t),[o,l]=vn(i[2][0],i[2][1],t);return{column:[n,l],row:[s,o]}}toCloneObject(t=!0){return v(v({},super.toCloneObject(t)),this.attrs("x","y","right","bottom","width","height","angle"))}reset(t,r={origin:"*"}){const i=super.reset(t,r);return this.hasChangedField("children","x","y","width","height","angle","transform-origin","transform","perspective","perspective-origin")&&this.refreshMatrixCache(),i}setParentId(t){super.setParentId(t),this.refreshMatrixCache()}refreshMatrixCache(){this.setCacheItemTransformMatrix(),this.setCacheLocalTransformMatrix(),this.setCacheAbsoluteMatrix(),this.setCacheLocalVerties(),this.setCacheVerties(),this.setCacheGuideVerties(),this.setCacheAreaPosition(),this.layers.forEach(t=>{t.refreshMatrixCache()})}setCacheItemTransformMatrix(){this._cachedItemTransform=this.getItemTransformMatrix(),this._cachedItemTransformInverse=It([],this._cachedItemTransform)}setCacheLocalTransformMatrix(){this._cachedLocalTransform=this.getLocalTransformMatrix(),this._cachedLocalTransformInverse=It([],this._cachedLocalTransform),this._cachedTransformWithTranslate=this.getTransformWithTranslate(this),this._cachedTransformWithTranslateInverse=It([],this._cachedTransformWithTranslate),this._cachedTransformWithTranslateTranspose=Kc([],this._cachedTransformWithTranslate)}setCacheAbsoluteMatrix(){this._cachedAbsoluteMatrix=this.getAbsoluteMatrix(),this._cachedAbsoluteMatrixInverse=It([],this._cachedAbsoluteMatrix),this._cachedRelativeMatrix=this.getRelativeMatrix(),this._cachedRelativeMatrixInverse=It([],this._cachedRelativeMatrix)}setCacheVerties(){this._cachedVerties=this.getVerties(),this._cachedContentVerties=this.getContentVerties(),this._cachedVertiesWithoutTransformOrigin=this.rectVerties()}setCacheLocalVerties(){this._cachedLocalVerties=this.getLocalVerties()}setCacheGuideVerties(){this._cachedGuideVerties=this.getGuideVerties()}setCacheAreaPosition(){this._cachedAreaPosition=this.getAreaPosition(this._cachedAreaWidth||100)}setCacheAreaWidth(t){this._cachedAreaWidth!==t&&(this._cachedAreaWidth=t,this.setCacheAreaPosition())}move(t=[0,0,0]){this.reset({x:We(this.offsetX+t[0]),y:We(this.offsetY+t[1])})}moveByCenter(t=[0,0,0]){this.reset({x:t[0]-this.screenWidth/2,y:t[1]-this.screenHeight/2})}absoluteMove(t=[0,0,0]){const r=this.verties[4],i=we([],r,t),s=ce([r,i],this.parent.absoluteMatrixInverse),n=Te([],s[1],s[0]),o=this.attrs("x","y");return this.reset({x:this.offsetX+n[0],y:this.offsetY+n[1]}),o}startToCacheChildren(){}recoverChildren(){}resize(t,r){this.startToCacheChildren(),this.reset({width:t,height:r}),this.recoverChildren()}setAngle(t=0){this.reset({angle:t})}addAngle(t=0){this.setAngle(this.angle+t)}checkInArea(t){return Kf(t,this.originVerties)}hasPoint(t,r){return this.isPointInRect(t,r)}isPointInRect(t,r){return ns(this.originVerties,t,r)}isIncludeByArea(t){return this.originVerties.map(r=>ns(t,...r)).filter(Boolean).length===4}getPerspectiveMatrix(){if(!this.json.perspective)return;let[r=g.percent(50),i=g.percent(50)]=kr.parseStyle(this.json["perspective-origin"]);const s=this.screenWidth,n=this.screenHeight;r=r.toPx(s).value,i=i.toPx(n).value;const o=St();if(mt(o,o,[r,i,0]),this.json.perspective&&this.json.perspective!="none")Tt(o,o,Pi(1,0,0,0,0,1,0,0,0,0,1,0,0,0,-1/g.parse(this.json.perspective).value,1));else return;return mt(o,o,[-r,-i,0]),o}getItemTransformMatrix(){const t=Ke.parseStyle(this.transform),r=this.screenWidth,i=this.screenHeight;return Ke.createTransformMatrix(t,r,i)}getItemTransformMatrixInverse(){return It([],this.getItemTransformMatrix())}getLocalTransformMatrix(t,r){const i=kr.scale(this.json["transform-origin"]||"50% 50% 0px",xt(t)?this.screenWidth:t,xt(r)?this.screenHeight:r),s=St();return mt(s,s,i),Tt(s,s,this.itemMatrix),mt(s,s,At([],i)),s}getLocalTransformMatrixInverse(t,r){return It([],this.getLocalTransformMatrix(t,r))}getDirectionTransformMatrix(t,r,i){const s=this.offsetX,n=this.offsetY,o=we([],kr.scale(this.json["transform-origin"]||"50% 50% 0px",r,i),At([],t)),l=St();return mt(l,l,[s,n,0]),mt(l,l,t),mt(l,l,o),Tt(l,l,this.itemMatrix),mt(l,l,At([],o)),l}getDirectionTopLeftMatrix(t,r){return this.getDirectionTransformMatrix([0,0,0],t,r)}getDirectionLeftMatrix(t,r){return this.getDirectionTransformMatrix([0,r/2,0],t,r)}getDirectionTopMatrix(t,r){return this.getDirectionTransformMatrix([t/2,0,0],t,r)}getDirectionBottomLeftMatrix(t,r){return this.getDirectionTransformMatrix([0,r,0],t,r)}getDirectionTopRightMatrix(t,r){return this.getDirectionTransformMatrix([t,0,0],t,r)}getDirectionRightMatrix(t,r){return this.getDirectionTransformMatrix([t,r/2,0],t,r)}getDirectionBottomRightMatrix(t,r){return this.getDirectionTransformMatrix([t,r,0],t,r)}getDirectionBottomMatrix(t,r){return this.getDirectionTransformMatrix([t/2,r,0],t,r)}getAbsoluteMatrix(){let t=St();if(this.parent&&(Tt(t,t,this.parent.absoluteMatrix),ye(this.parent.getPerspectiveMatrix))){const r=this.parent.getPerspectiveMatrix();r&&Tt(t,t,r)}return Tt(t,t,this.getRelativeMatrix()),t.filter(r=>!isNaN(r)).length===0?St():t}getRelativeMatrix(){let t=St();const r=this.offsetX,i=this.offsetY;return mt(t,t,[r,i,0]),Tt(t,t,this.localMatrix),t}getRelativeMatrixInverse(){return It([],this.getRelativeMatrix())}getTransformWithTranslate(t){t=t||this;let r=St();const i=t.offsetX,s=t.offsetY;return mt(r,r,[i,s,0]),Tt(r,r,t.localMatrix),r}getAbsoluteMatrixInverse(){return It([],this.getAbsoluteMatrix())}getLocalVerties(t,r){return t=Re(t)?t:this.screenWidth,r=Re(r)?r:this.screenHeight,wt(0,0,t,r,this.json["transform-origin"])}getVerties(t,r){t=Re(t)?t:this.screenWidth,r=Re(r)?r:this.screenHeight;let i=wt(0,0,t,r,this.json["transform-origin"]);return ce(i,this.absoluteMatrix)}getContentVerties(t,r){t=Re(t)?t:this.screenWidth,r=Re(r)?r:this.screenHeight;const i=kr.scale(this.json["transform-origin"],t,r),s=this.json["padding-top"]||0,n=this.json["padding-right"]||0,o=this.json["padding-bottom"]||0,l=this.json["padding-left"]||0,c=wt(0+l,0+s,t-l-n,r-s-o,this.json["transform-origin"]);return c[4]=i,ce(c,this.absoluteMatrix)}rectVerties(){return this.verties.filter((t,r)=>r<4)}getGuideVerties(){const t=this.originVerties;return[...t,ne([],t[0],t[1],.5),ne([],t[1],t[2],.5),ne([],t[2],t[3],.5),ne([],t[3],t[0],.5)]}get toRectVerties(){return va([this])}get matrix(){const t=this.id,r=this.offsetX,i=this.offsetY,s=this.screenWidth,n=this.screenHeight,o=this.transform,l=this.json["transform-origin"]||"50% 50% 0%",c=this.getTransformOriginMatrix(),h=this.getTransformOriginMatrixInverse(),d=this.parent.absoluteMatrix,p=this.parent.absoluteMatrixInverse,u=this.localMatrix,m=this.localMatrixInverse,$=this.itemMatrix,S=this.itemMatrixInverse,k=this.absoluteMatrix,C=this.absoluteMatrixInverse,z=this.relativeMatrix,L=this.relativeMatrixInverse,R={"to top left":this.getDirectionTopLeftMatrix(s,n),"to top":this.getDirectionTopMatrix(s,n),"to top right":this.getDirectionTopRightMatrix(s,n),"to right":this.getDirectionRightMatrix(s,n),"to bottom left":this.getDirectionBottomLeftMatrix(s,n),"to bottom":this.getDirectionBottomMatrix(s,n),"to bottom right":this.getDirectionBottomRightMatrix(s,n),"to left":this.getDirectionLeftMatrix(s,n)},j=this.verties,X=j.map(q=>q[0]),Z=j.map(q=>q[1]);return{id:t,x:r,y:i,width:s,height:n,transform:o,originalTransformOrigin:l,verties:j,originVerties:this.originVerties,xList:X,yList:Z,directionMatrix:R,parentMatrix:d,parentMatrixInverse:p,localMatrix:u,localMatrixInverse:m,itemMatrix:$,itemMatrixInverse:S,absoluteMatrix:k,absoluteMatrixInverse:C,relativeMatrix:z,relativeMatrixInverse:L,transformOriginMatrix:c,transformOriginMatrixInverse:h}}absolutePath(t=""){const r=t||this.d,i=new W(r);return i.transformMat4(this.absoluteMatrix),i}invertPath(t=""){const r=new W(t);return r.transformMat4(this.absoluteMatrixInverse),r}invertPoint(t){return Ye([],t,this.absoluteMatrixInverse)}invertPathString(t=""){return this.invertPath(t).d}updatePath(t){const r=this.matrix,i=new W(t);let s=i.getBBox();const n=Bt(s[1],s[0]),o=Bt(s[3],s[0]);let l=ce(wt(s[0][0],s[0][1],n,o),r.absoluteMatrix),c=ce(l,hi(ut([],l[4]),Ke.createTransformMatrix(Ke.parseStyle(r.transform),n,o),ut([],At([],l[4]))));const h=Wt(ut([],c[0]),this.getLocalTransformMatrix(n,o)),d=Ci([],Wt(r.parentMatrixInverse,h,It([],this.getLocalTransformMatrix(n,o))));return{d:i.translate(-s[0][0],-s[0][1]).d,x:d[0],y:d[1],width:n,height:o}}checkInAreaForAll(t){const r=[...this.checkInAreaForLayers(t)];return this.is("artboard")||this.is("project")||this.checkInArea(t)&&r.push(this.ref),r}checkInAreaForLayers(t){var r=[];return this.layers.forEach(i=>{r.push.apply(r,i.checkInAreaForLayers(t)),i.checkInArea(t)&&r.push(i)}),r}getTransformOriginMatrix(){return ut([],kr.scale(this.json["transform-origin"]||"50% 50% 0px",this.screenWidth,this.screenHeight))}getTransformOriginMatrixInverse(){return It([],this.getTransformOriginMatrix())}recoverMatrix(t){const r=Wt(this.absoluteMatrixInverse,t.absoluteMatrix),i=Jc([],r),s=[],n=th(s,i),o=s[2]?oa(n*s[2]):0,l=St();qc(l,n,s);const[c,h,d]=Ci([],Wt(r,hi(t.transformOriginMatrix,l,t.transformOriginMatrixInverse)));return{x:c,y:h,angle:o}}resetMatrix(t){const r=Wt(this.absoluteMatrixInverse,t.absoluteMatrix),i=Jc([],r),s=[],n=th(s,i),o=s[2]?oa(n*s[2]):0,l=St();qc(l,n,s);const[c,h,d]=Ci([],Wt(r,hi(t.getTransformOriginMatrix(),l,t.getTransformOriginMatrixInverse())));t.reset({x:c,y:h,angle:o}),this.modelManager.setChanged("resetMatrix",this.id,{end:!0,childItemId:t==null?void 0:t.id})}getIndex(){for(var t=this.parent.layers,r=-1,i=0,s=t.length;i<s;i++)if(t[i]===this.ref){r=i;break}return r}setOrder(t){var r=this.parent,i=this.getIndex();i>-1&&(r.children[i]=r.children[t],r.children[t]=this.id,this.modelManager.setChanged("setOrder",this.id,{targetIndex:t,startIndex:i,parentId:r.id}))}next(){if(this.isLast())return this.ref;const t=this.getIndex();return this.parent.layers[t+1]}prev(){if(this.isFirst())return this.ref;const t=this.getIndex();return this.parent.layers[t-1]}orderNext(){if(this.isLast()){if(this.parent.next){let r=this.parent.next();r.enableHasChildren()?r.appendChild(this):r.appendAfter(this)}return}var t=this.getIndex();t>-1&&this.setOrder(t+1)}isFirst(){return this.getIndex()===0}isLast(){return this.getIndex()===this.parent.children.length-1}orderPrev(){if(this.isFirst()){const r=this.parent.prev();r&&r.appendBefore(this);return}var t=this.getIndex();t>0&&this.setOrder(t-1)}orderFirst(){this.setOrder(0)}orderLast(){this.setOrder(this.parent.childrenLength-1)}orderTop(){}orderBottom(){}}var iL={startCache(a){a.addCache("cachedSize",{width:a.width,height:a.height}),a.addCache("cachedLayerMatrix",a.layers.map(t=>(t.startToCacheChildren(),{id:t.id,matrix:t.attrs("x","y","width","height"),constraints:{horizontal:t[Er.HORIZONTAL],vertical:t[Er.VERTICAL]}})))},recover(a){const t={width:a.width,height:a.height},r=t.width,i=t.height,s=a.getCache("cachedSize"),n=s.width,o=s.height,l=r/n,c=i/o;a.getCache("cachedLayerMatrix").forEach(({id:d,matrix:p,constraints:u})=>{const m=a.find(d),{x:$,y:S,width:k,height:C}=p,z=$,L=n-$-k,R=S,j=o-S-C,X={};switch(u.horizontal){case ke.MIN:X.x=z;break;case ke.MAX:X.x=r-L-k;break;case ke.STRETCH:X.x=z,X.width=r-z-L;break;case ke.SCALE:X.x=z*l,X.width=k*l;break;case ke.CENTER:const Z=k/2,q=$+Z/n;X.x=q*r-Z*l;break}switch(u.vertical){case ke.MIN:X.y=R;break;case ke.MAX:X.y=i-j-C;break;case ke.STRETCH:X.y=R,X.width=i-R-j;break;case ke.SCALE:X.y=R*c,X.height=C*c;break;case ke.CENTER:const Z=C/2,q=S+Z/o;X.y=q*i-Z*c;break}m.reset(X),m.recoverChildren()})}};const Xd={[bt.DEFAULT]:iL};class sL extends rL{getDefaultObject(t={}){return super.getDefaultObject(v({layout:bt.DEFAULT,"constraints-horizontal":ke.NONE,"constraints-vertical":ke.NONE,"flex-direction":Nt.ROW,"flex-wrap":jn.NOWRAP,"justify-content":Rs.FLEX_START,"align-items":Ei.FLEX_START,"align-content":zh.FLEX_START,order:0,"flex-grow":0,"flex-shrink":0,"flex-basis":"auto",gap:0,resizingHorizontal:Ae.FIXED,resizingVertical:Ae.FIXED,"grid-template-rows":"auto","grid-template-columns":"auto","grid-template-areas":"","grid-auto-rows":"auto","grid-auto-columns":"auto","grid-auto-flow":"row"},t))}get layout(){return this.json.layout}isLayoutItem(){var t;return!!((t=this.parent)==null?void 0:t.hasLayout())}hasConstraints(){return this.isLayout(bt.DEFAULT)}hasLayout(){return!this.hasConstraints()||Boolean(this.json.layout)===!1}isLayout(t){return this.json.layout===t}isInDefault(){var r;const t=((r=this.parent)==null?void 0:r.layout)||"default";return bt.DEFAULT===t}isInGrid(){return this.isInLayout(bt.GRID)}isInFlex(){return this.isInLayout(bt.FLEX)}isInLayout(t){return this.isLayoutItem()?this.parent.layout===t:!1}reset(t){const r=super.reset(t);return this.hasChangedField(Er.VERTICAL,Er.HORIZONTAL)&&console.log("a"),r}changeConstraints(t,r){const i=this.json[t];let s=r;i===ke.MAX?(r===ke.MAX&&(s=ke.SCALE),e.shiftKey&&r===ke.MIN&&(s=ke.STRETCH)):i===ke.MIN?r===ke.MIN?s=ke.SCALE:e.shiftKey&&r===ke.MAX&&(s=ke.STRETCH):i===ke.STRETCH&&(r===ke.MIN?s=ke.MAX:r===ke.MAX&&(s=ke.MIN)),this.reset({[t]:s})}startToCacheChildren(){var t;(t=Xd[this.layout])==null||t.startCache(this)}recoverChildren(){var t;(t=Xd[this.layout])==null||t.recover(this)}}class Xn extends ir{static parse(t){return new Xn(t)}getDefaultObject(t){return super.getDefaultObject(v({itemType:"selector",selector:"",properties:[]},t))}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("selector","properties"))}isMultiStyle(t){switch(t){case"background-image":case"var":return!0}return!1}getMultiStyleString(t){switch(t.key){case"background-image":return t.value.toString()+";"}return t.value.toString()+" !important;"}toPropertyString(){return this.json.properties.map(t=>{if(this.isMultiStyle(t.key))return this.getMultiStyleString(t);var r=t.value.toString();if(r){var i=t.key;return i==="x"?i="left":i==="y"&&(i="top"),`${i}: ${r} !important;`}else return""}).join(`
`)}toCSSText(t=""){return`${t}${this.json.selector} {
    ${this.toPropertyString()}
}`}toCSS(){return{}}toString(t=""){return this.toCSSText(t)}}const aL=["appearance","position","right","bottom","rootVariable","variable","transform","filter","backdrop-filter","background-color","background-image","border-radius","border","box-shadow","clip-path","color","perspective-origin","transform-origin","transform-style","perspective","mix-blend-mode","overflow","opacity","box-model","layout","flex-layout","grid-layout","animation","transition","pattern","boolean-operation"],Yd={};aL.forEach(function(a){Yd[a]=!0});class nL extends sL{getDefaultObject(t={}){return super.getDefaultObject(v({position:"absolute",rootVariable:"",variable:"",color:"black",overflow:"visible",opacity:1,layout:bt.DEFAULT,"flex-layout":"display:flex;","grid-layout":"display:grid;","constraints-vertical":ke.MIN,"constraints-horizontal":ke.MIN,selectors:[],svg:[]},t))}toCloneObject(){var t=this.json;return le(v(v({},super.toCloneObject()),this.attrs("position","rootVariable","variable","transform","filter","backdrop-filter","background-color","background-image","text-clip","border-radius","border","border-top","border-left","border-right","border-bottom","box-shadow","text-shadow","clip-path","color","font-size","line-height","text-align","text-transform","text-decoration","letter-spacing","word-spacing","text-indent","perspective-origin","transform-origin","transform-style","perspective","mix-blend-mode","overflow","opacity","flex-layout","grid-layout","animation","transition","margin-top","margin-left","margin-right","margin-bottom","padding-top","padding-right","padding-left","padding-bottom","constraints-horizontal","constraints-vertical")),{selectors:t.selectors.map(r=>r.clone()),svg:t.svg.map(r=>r.clone())})}editable(t){if(t=="border"&&this.hasChildren())return!1;switch(t){case"svg-item":case"transform-origin":case"perspective":case"perspective-origin":return!1}return Boolean(Yd[t])}get changedBoxModel(){return this.hasChangedField("margin-top","margin-left","margin-bottom","margin-right","padding-top","padding-left","padding-right","padding-bottom")}get changedFlexLayout(){return this.hasChangedField("flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","flex-flow")}get changedGridLayout(){return this.hasChangedField("grid-template-rows","grid-template-columns","grid-template-areas","grid-auto-rows","grid-auto-columns","grid-auto-flow","grid-row-gap","grid-column-gap","grid-row-start","grid-row-end","grid-column-start","grid-column-end","grid-area")}get changedLayoutItem(){return this.hasChangedField("resizingHorizontal","resizingVertical")}get changedLayout(){return this.hasChangedField("layout")||this.changedBoxModel||this.changedFlexLayout||this.changedGridLayout||this.changedLayoutItem}addSelector(t){return this.json.selectors.push(t),t}createSelector(t={}){return this.addSelector(new Xn(v({checked:!0},t)))}removePropertyList(t,r){t.splice(r,1)}removeSelector(t){this.removePropertyList(this.json.selectors,t)}enableHasChildren(){return!0}sortItem(t,r,i){t.splice(i+(r<i?-1:0),0,...t.splice(r,1))}updateSelector(t,r={}){this.json.selectors[+t].reset(r)}traverse(t,r,i){t.isAttribute()||!i&&t.isLayoutItem()&&!t.isRootItem()||(r.push(t),t.children.forEach(s=>{this.traverse(s,r)}))}tree(t){var r=[];return this.children.forEach(i=>{this.traverse(i,r,t)}),r}reset(t,r={origin:"*"}){const i=super.reset(t,r);if(this.hasChangedField("clip-path"))this.setClipPathCache();else if(this.hasChangedField("width","height")){if(this.cacheClipPath){const s=this.cacheClipPath.clone().scale(this.json.width/this.cacheClipPathWidth,this.json.height/this.cacheClipPathHeight).d;this.json["clip-path"]=`path(${s})`,this.modelManager.setChanged("reset",this.id,{"clip-path":this.json["clip-path"]})}}else this.hasChangedField("background-image","pattern")&&this.setBackgroundImageCache();return i}setBackgroundImageCache(){let t=[];if(this.json.pattern){const s=this.computed("pattern",n=>fr.parseStyle(n).map(o=>Fe.parseStyle(Kt(o.toCSS()))));for(var r=0,i=s.length;r<i;r++)t.push.apply(t,s[r])}if(this.json["background-image"]){const s=this.computed("background-image",n=>Fe.parseStyle(Kt(n)));t.push.apply(t,s.filter(n=>n.visibility!==Hr.HIDDEN))}if(t.length){const s=this.top;this.cacheBackgroundImage=Fe.joinCSS(t);const n=t.filter(l=>l.type===N.URL).map(l=>l.image.url);let o=this.cacheBackgroundImage["background-image"];n.forEach(l=>{const c=s.getImageValueById(l);o=o.replace(l,`"${c}"`)}),this.cacheBackgroundImage["background-image"]=o}else this.cacheBackgroundImage={},this.cacheBackgroundImageOriginal=[]}setClipPathCache(){var t=_e.parseStyle(this.json["clip-path"]);this.cacheClipPathObject=t,t.type==="path"&&(this.cacheClipPath=new W(t.value.trim()),this.cacheClipPathWidth=this.json.width,this.cacheClipPathHeight=this.json.height)}setCache(){super.setCache(),this.setClipPathCache()}get clipPathString(){if(this.cacheClipPath||this.setClipPathCache(),this.cacheClipPath)return this.cacheClipPath.clone().scale(this.json.width/this.cacheClipPathWidth,this.json.height/this.cacheClipPathHeight).d}getBackgroundImage(t){return Fe.parseStyle(Kt(this.json["background-image"]))[t||0]}get borderWidth(){const t=ji.parseStyle(this.json.border),r=ji.parseValue(t.border);return(r==null?void 0:r.width)?{borderLeftWidth:r==null?void 0:r.width,borderRightWidth:r==null?void 0:r.width,borderTopWidth:r==null?void 0:r.width,borderBottomWidth:r==null?void 0:r.width}:{borderLeftWidth:0,borderRightWidth:0,borderTopWidth:0,borderBottomWidth:0}}get contentBox(){const t=0,r=0,i=this.screenWidth,s=this.screenHeight;{const n=this.borderWidth;return{x:t+n.borderLeftWidth,y:r+n.borderTopWidth,width:i-n.borderLeftWidth-n.borderRightWidth,height:s-n.borderTopWidth-n.borderBottomWidth}}}getGradientLineLength(t,r,i){return Math.abs(t*Math.sin(Ot(i)))+Math.abs(r*Math.cos(Ot(i)))}createBackgroundImageMatrix(t){const r=this.contentBox,i=this.getBackgroundImage(t),{image:s}=i,n=i.getOffset(r),o=ce(wt(n.x,n.y,n.width,n.height),this.absoluteMatrix),l={backRect:n,backVerties:o,absoluteMatrix:this.absoluteMatrix,backgroundImage:i};switch(s.type){case N.RADIAL:case N.REPEATING_RADIAL:case N.CONIC:case N.REPEATING_CONIC:let[c,h]=s.radialPosition;c=="center"&&(c=g.percent(50)),h=="center"&&(h=g.percent(50));const d=c.toPx(n.width),p=h.toPx(n.height),u=ce([[d.value+n.x,p.value+n.y,0],[d.value+n.x,p.value+n.y-1,0]],this.absoluteMatrix);if(l.radialCenterPosition=u[0],l.radialCenterStick=u[1],l.radialCenterPoint=[d.value,p.value,0],s.type===N.RADIAL||s.type===N.REPEATING_RADIAL){const{startPoint:j,endPoint:X,shapePoint:Z}=s.getStartEndPoint(l),[q,ue,de]=ce([j,X,Z],this.absoluteMatrix);l.radialCenterPosition=q,l.startPoint=q,l.endPoint=ue,l.shapePoint=de,l.colorsteps=s.colorsteps.map(me=>{const fe=me.toLength();return{id:me.id,cut:me.cut,color:me.color,timing:me.timing,timingCount:me.timingCount,pos:ne([],l.startPoint,l.endPoint,fe.value/100)}})}else if(s.type===N.CONIC||s.type===N.REPEATING_CONIC){const{startPoint:j,endPoint:X,shapePoint:Z}=s.getStartEndPoint(l),[q,ue,de]=ce([j,X,Z],this.absoluteMatrix);l.radialCenterPosition=q,l.startPoint=q,l.endPoint=ue,l.shapePoint=de,[l.startPoint,l.endPoint,l.shapePoint]=ce([l.startPoint,l.endPoint,l.shapePoint],Et(s.angle,l.radialCenterPosition));const me=l.shapePoint;l.colorsteps=s.colorsteps.map(fe=>{const je=fe.percent*3.6,[ee]=ce([me],Et(je,l.radialCenterPosition));return{id:fe.id,cut:fe.cut,color:fe.color,timing:fe.timing,timingCount:fe.timingCount,pos:ee}})}break;case N.LINEAR:case N.REPEATING_LINEAR:l.gradientLineLength=this.getGradientLineLength(n.width,n.height,s.angle),l.centerPosition=ne([],o[0],o[2],.5);const m=we([],l.centerPosition,[0,l.gradientLineLength/2,0]),$=Te([],l.centerPosition,[0,l.gradientLineLength/2,0]),S=Ft(m),k=Ft($),[C,z,L,R]=ce([m,$,S,k],Et(s.angle,l.centerPosition));l.endPoint=z,l.startPoint=C,l.areaStartPoint=L,l.areaEndPoint=R,l.colorsteps=s.colorsteps.map(j=>{const X=j.toLength();return{id:j.id,cut:j.cut,color:j.color,timing:j.timing,timingCount:j.timingCount,pos:ne([],l.startPoint,l.endPoint,X.value/100)}});break}return l}}class Oi extends nL{getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"layer",name:"New Layer",tagName:"div"},t))}getDefaultTitle(){return"Layer"}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("tagName"))}}class oL extends Oi{getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"artboard",name:"New ArtBoard",width:1e3,height:1e3,"background-color":"white","transform-style":"flat"},t))}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("name"))}getDefaultTitle(){return"ArtBoard"}getIcon(){return ae.artboard}editable(t){switch(t){case"border":case"border-radius":return!1;case"artboard-size":case"layout":return!0}return super.editable(t)}}class lL extends Oi{getIcon(){return ae.lens}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"circle",name:"New Circle","border-radius":"100%"},t))}getDefaultTitle(){return"Circle"}}class cL extends Oi{getIcon(){return ae.image}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"image",name:"New Image",elementType:"image",src:""},t))}enableHasChildren(){return!1}getDefaultTitle(){return"Image"}getIcon(){return ae.image}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("src"))}resize(){this.reset({width:this.json.naturalWidth.clone(),height:this.json.naturalHeight.clone()})}}class hL extends Oi{getIcon(){return ae.rect}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"rect",name:"New Rect"},t))}getDefaultTitle(){return"Rect"}}class Cl extends gr{toString(){return""}toSVGString(t){return""}toFillValue(t){return""}}const Wd=[$r.PAD,$r.REFLECT,$r.REPEAT];class ms extends Cl{convert(t){return t.spreadMethod=Wd.includes(t.spreadMethod)?t.spreadMethod:$r.PAD,t}getDefaultObject(t){return super.getDefaultObject(v({type:N.LINEAR,x1:g.parse("0%"),y1:g.parse("50%"),x2:g.parse("100%"),y2:g.parse("50%"),spreadMethod:$r.PAD},t))}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("x1","y1","x2","y2","spreadMethod"))}toString(){if(this.colorsteps.length===0)return"";var t=this.getColorString(),{x1:r,y1:i,x2:s,y2:n,spreadMethod:o}=this.json,l=[r,i,s,n,o].join(" "),c=`${this.json.type}(${l}, ${t})`;return c}toSVGString(t){var{x1:r,y1:i,x2:s,y2:n,spreadMethod:o}=this.json;return`
      <linearGradient 
        id="${t}"
        x1="${r}"
        x2="${s}"
        y1="${i}"
        y2="${n}"
        spreadMethod="${o}"
      >
        ${ms.makeColorStepList(this.colorsteps).map(l=>`
        <stop offset="${l.percent}%" stop-color="${l.color}"/>
      `).join("")}
      </linearGradient>
    `}toFillValue(t){return`url(#${t})`}static parse(t){const r=Dt(t);var i={};const[s,...n]=r.parameters,o=[];s.forEach(u=>{u.func===qe.KEYWORD?Wd.includes(u.matchedString)&&(i.spreadMethod=u.matchedString):o.push(u)});var[l=g.percent(0),c=g.percent(50),h=g.percent(100),d=g.percent(50)]=o.map(u=>u.parsed);i=le(v({},i),{x1:l,y1:c,x2:h,y2:d});const p=ms.parseColorSteps(n);return new ms(le(v({},i),{colorsteps:p}))}}const dL=[yt.CIRCLE,yt.ELLIPSE],Kd=[$r.PAD,$r.REFLECT,$r.REPEAT];class vs extends Cl{convert(t){return t.spreadMethod=Kd.includes(t.spreadMethod)?t.spreadMethod:$r.PAD,t}getDefaultObject(t={}){return super.getDefaultObject(v({type:N.RADIAL,radialType:yt.CIRCLE,x1:g.parse("50%"),y1:g.parse("50%"),x2:g.parse("100%"),y2:g.parse("50%"),x3:g.parse("50%"),y3:g.parse("100%"),spreadMethod:$r.PAD},t))}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("radialType","x1","y1","x2","y2","x3","y3","spreadMethod"))}toString(){if(this.colorsteps.length===0)return"";var t=this.getColorString(),{radialType:r,x1:i,y1:s,x2:n,y2:o,x3:l,y3:c,spreadMethod:h}=this.json,d=[r,i,s,n,o,l,c,h].join(" ").trim(),p=`${this.json.type}(${d}, ${t})`;return p}getGradientAngle(t={}){var{x1:r,y1:i,x2:s,y2:n}=this.json;const o=r.toPx(t.width),l=i.toPx(t.height),c=s.toPx(t.width),h=n.toPx(t.height);return(nt(c.value-o.value,h.value-l.value)+180)%360}toSVGString(t,r={}){var{x1:i,y1:s,x2:n,y2:o,x3:l,y3:c,spreadMethod:h,radialType:d}=this.json;const p=i.toPx(r.width),u=s.toPx(r.height),m=n.toPx(r.width),$=o.toPx(r.height);r.height/r.width;var S=he([p.value,u.value,0],[m.value,$.value,0]),k=this.getGradientAngle(r);const C=Wc();if(ko(C,C,df([],[p.value,u.value])),ko(C,C,uf([],Ot(k))),d===yt.ELLIPSE){const R=l.toPx(r.width),j=c.toPx(r.height);var z=he([p.value,u.value,0],[R.value,j.value,0]);ko(C,C,pf([],[1,z/S]))}const L=`matrix(${C[0]}, ${C[1]}, ${C[3]}, ${C[4]}, ${C[6]}, ${C[7]})`;return`
<radialGradient ${pt({id:t,cx:0,cy:0,r:S,spreadMethod:h,gradientUnits:"userSpaceOnUse",gradientTransform:L})} >
    ${vs.makeColorStepList(this.colorsteps).map(R=>`
      <stop offset="${R.percent}%" stop-color="${R.color}"/>
    `).join("")}
</radialGradient>
`}toFillValue(t){return`url(#${t})`}static parse(t){const r=Dt(t);var i={};const[s,...n]=r.parameters,o=[];s.forEach($=>{$.func===qe.KEYWORD?dL.includes($.matchedString)?i.radialType=$.matchedString:Kd.includes($.matchedString)&&(i.spreadMethod=$.matchedString):o.push($)});var[l=g.percent(50),c=g.percent(50),h=g.percent(100),d=g.percent(50),p=g.percent(50),u=g.percent(100)]=o.map($=>$.parsed);i=le(v({},i),{x1:l,y1:c,x2:h,y2:d,x3:p,y3:u});const m=vs.parseColorSteps(n);return new vs(le(v({},i),{colorsteps:m}))}}class Di extends Cl{getDefaultObject(){return super.getDefaultObject({type:"static-gradient",colorsteps:[new Qe({color:"red",percent:0,index:0}),new Qe({color:"red",percent:100,index:1})]})}toCloneObject(){return le(v({},super.toCloneObject()),{static:!0})}static create(t="transparent"){return new Di({colorsteps:[new Qe({color:t,percent:0,index:0}),new Qe({color:t,percent:100,index:0})]})}setColor(t){this.colorsteps.forEach(r=>{r.color=t})}toString(){var t=this.json.colorsteps[0].color;return t}toSVGString(){return""}toFillValue(){return this.toString()}}const uL=["jpg","jpeg","png","gif","svg"];class Xa extends Yo{getDefaultObject(t={}){return super.getDefaultObject(v({type:"url",url:"",datauri:"",patternUnits:"userSpaceOnUse",patternWidth:"100%",patternHeight:"100%",imageX:"0%",imageY:"0%",imageWidth:"100%",imageHeight:"100%"},t))}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("url","datauri","patternUnits","patternWidth","patternHeight","imageX","imageY","imageWidth","imageHeight"))}static parse(t){var r=t.split("(")[1].split(")")[0],[i,s]=r.trim().split("#");if(!s)return new Xa({url:i});var[n,o,l,c,h,d,p]=s.split(",");return new Xa({patternUnits:n,patternWidth:o,patternHeight:l,imageX:c,imageY:h,imageWidth:d,imageHeight:p,url:i})}isUrl(){return!0}static isImageFile(t){return uL.includes(t)}toString(){var t=this.json,{patternUnits:r,patternWidth:i,patternHeight:s,imageX:n,imageY:o,imageWidth:l,imageHeight:c,url:h}=t,d=[r,i,s,n,o,l,c].join(",").trim();return`url(${h}#${d})`}toSVGString(t,r={}){var{patternUnits:i,patternWidth:s,patternHeight:n,imageX:o,imageY:l,imageWidth:c,imageHeight:h}=this.json;const d=g.parse(s),p=g.parse(n),u=g.parse(o),m=g.parse(l),$=g.parse(c),S=g.parse(h),k=r.width?d.toPx(r.width).value:d,C=r.height?p.toPx(r.height).value:p;return`
  <pattern ${pt({id:t,patternUnits:i,width:k,height:C})} >
    <image xlink:href="${this.json.datauri||this.json.url}" ${pt({x:u.toPx(r.width).value,y:m.toPx(r.height).value,width:$.toPx(r.width).value,height:S.toPx(r.height).value,preserveAspectRatio:"none"})} />
  </pattern>
      `}toFillValue(t){return`url(#${t})`}}class tt extends ir{addImageResource(t){return this.clear("image-resource"),this.addItem("image-resource",t)}addGradient(t){return this.addImageResource(t)}setImageUrl(t){!t.images||!t.images.length||this.reset({type:"image",image:tt.createImage(t.images[0])})}static createImage(t){return new SVGLImageResource({url:t})}setGradient(t){this.reset({type:t.type,image:tt.createGradient(t,this.json.image)})}static createGradient(t,r){const i=t.colorsteps||r.colorsteps;let s=r.toJSON();switch(delete s.itemType,delete s.type,t.type){case N.LINEAR:return new ms(le(v({},s),{colorsteps:i}));case N.RADIAL:return new vs(le(v({},s),{colorsteps:i}));default:return new Di(le(v({},s),{colorsteps:i}))}}get image(){return this.json.image}set image(t){this.json.image=t}static parse(t){return new tt(t)}static parseImage(t=""){const r=Dt(t);let i=null;if(!r)return Di.create(t||"transparent");switch(r.func){case N.LINEAR:i=ms.parse(r.matchedString);break;case N.RADIAL:i=vs.parse(r.matchedString);break;case N.URL:i=Xa.parse(r.matchedString);break;default:i=Di.create(r.matchedString);break}return i}static changeImageType(t){switch(t.type){case N.LINEAR:return new ms(t);case N.RADIAL:return new vs(t);case"image-resource":case N.URL:return new Xa(t);default:return new Di(t)}}}const pL=["appearance","border","border-radius","background-image","backdrop-filter","clip-path","pattern","box-shadow","layout","transform","transform-origin","perspective","perspective-origin","backdrop-filter","box-model"],Zd={};pL.forEach(a=>{Zd[a]=!0});class Hs extends Oi{getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"svg",name:"New SVG",elementType:"svg",overflow:"visible",stroke:"black","stroke-width":1,fill:"transparent","fill-rule":"nonzero","text-anchor":"start","stroke-dasharray":[],"stroke-dashoffset":0},t))}get isDragSelectable(){return this.isBooleanItem===!1}get isBooleanItem(){return Boolean(this.parent.is("boolean-path"))}editable(t){if(Zd[t])return!1;switch(t){case"svg-item":return!0}return super.editable(t)}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("overflow","stroke","stroke-width","svgfilter","fill","fill-rule","fill-opacity","stroke-linecap","stroke-linejoin","stroke-dashoffset","stroke-dasharray","text-anchor"))}getDefaultTitle(){return"SVG"}isSVG(){return!0}hasPoint(t,r){const i=this.attrs("fill","stroke","fill-opacity","stroke-width"),s=i.fill,n=i["fill-opacity"],o=i["stroke-width"],l=s==="transparent"||n===0||Le.parse(s).a===0,c=o===0;return l?this.isPointInStroke(t,r):!l&&!c?this.isPointInStroke(t,r)||this.isPointInFill(t,r):!l&&c?this.isPointInFill(t,r):!1}isPointInFill(t,r){const i=this.getCache("svgElement"),s=this.getCache("pathElement");if(s){const[n,o]=this.invertPoint([t,r,0]),l=i.createSVGPoint();return Object.assign(l,{x:n,y:o}),s.isPointInFill(l)}return!1}isPointInStroke(t,r){const i=this.getCache("svgElement"),s=this.getCache("pathElement");if(s){const[n,o]=this.invertPoint([t,r,0]),l=i.createSVGPoint();return Object.assign(l,{x:n,y:o}),s.isPointInStroke(l)}return!1}convertStrokeToPath(t=10,r=10){const i=this.attrs("name","width","parentId","height","x","y","transform","stroke");return i.fill=i.stroke,delete i.stroke,le(v({itemType:"svg-path","fill-rule":"evenodd"},i),{x:g.parse(i.x).add(t),y:g.parse(i.y).add(r)})}toSVGPath(){const t=this.toCloneObject();return delete t.id,delete t.itemType,le(v({},t),{d:this.d})}createFragmentMatrix(t){const r=this.json[t],i=tt.parseImage(r),s={x:0,y:0,width:this.screenWidth,height:this.screenHeight},n=ce(wt(s.x,s.y,s.width,s.height),this.absoluteMatrix),o={backRect:s,backVerties:n,absoluteMatrix:this.absoluteMatrix,image:i};this.screenWidth/this.screenHeight;let l,c,h,d,p,u;switch(i.type){case N.RADIAL:l=i.x1.toPx(s.width),c=i.y1.toPx(s.height),h=i.x2.toPx(s.width),d=i.y2.toPx(s.height),p=i.x3.toPx(s.width),u=i.y3.toPx(s.height);const k=[l.value,c.value,0],C=[h.value,d.value,0],z=[p.value,u.value,0];var[m,$,S]=ce([k,C,z],this.absoluteMatrix);o.endPoint=$,o.startPoint=m,o.shapePoint=S,o.colorsteps=i.colorsteps.map(L=>{const R=L.toLength();return{id:L.id,cut:L.cut,color:L.color,timing:L.timing,timingCount:L.timingCount,pos:ne([],o.startPoint,o.endPoint,R.value/100)}});break;case N.LINEAR:l=i.x1.toPx(s.width),c=i.y1.toPx(s.height),h=i.x2.toPx(s.width),d=i.y2.toPx(s.height);var[m,$]=ce([[l.value,c.value,0],[h.value,d.value,0]],this.absoluteMatrix);o.endPoint=$,o.startPoint=m,o.areaStartPoint=Ft(m),o.areaEndPoint=Ft($),o.colorsteps=i.colorsteps.map(L=>{const R=L.toLength();return{id:L.id,cut:L.cut,color:L.color,timing:L.timing,timingCount:L.timingCount,pos:ne([],o.startPoint,o.endPoint,R.value/100)}});break}return o}}class qd extends Hs{getIcon(){return ae.edit}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"svg-path",name:"New Path","stroke-width":1,d:"",totalLength:0},t))}enableHasChildren(){return!1}reset(t,r={origin:"*"}){const i=super.reset(t,r);return this.hasChangedField("d")&&(this.cachePath=new W(this.json.d),this.cacheWidth=this.json.width,this.cacheHeight=this.json.height),i}refreshMatrixCache(){super.refreshMatrixCache(),this.hasChangedField("d")?(this.cachePath=new W(this.json.d),this.cacheWidth=this.json.width,this.cacheHeight=this.json.height):this.hasChangedField("width","height")&&(this.json.d=this.cachePath.clone().scale(this.json.width/this.cacheWidth,this.json.height/this.cacheHeight).d,this.modelManager.setChanged("reset",this.id,{d:this.json.d}))}setCache(){super.setCache(),this.cachePath=new W(this.json.d),this.cacheWidth=this.json.width,this.cacheHeight=this.json.height}get d(){return this.json.d?(this.cachePath||(this.cachePath=new W(this.json.d),this.cacheWidth=this.json.width,this.cacheHeight=this.json.height),this.cachePath.clone().scale(this.json.width/this.cacheWidth,this.json.height/this.cacheHeight).d):null}toCloneObject(){return le(v({},super.toCloneObject()),{d:this.json.d})}getDefaultTitle(){return"Path"}}class gL extends Hs{getIcon(){return ae.title}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"svg-text",name:"New Text",totalLength:0,fill:"rgba(0, 0, 0, 1)",text:"Insert a text","font-weight":g.number(100),textLength:g.em(0),lengthAdjust:"spacingAndGlyphs","shape-inside":"","shape-subtract":"","shape-margin":"","shape-padding":""},t))}enableHasChildren(){return!1}convert(t){return t=super.convert(t),t.textLength=g.parse(t.textLength),t}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("totalLength","text","textLength","lengthAdjust","shape-inside"))}getDefaultTitle(){return"Text"}}class fL extends Hs{getIcon(){return ae.text_rotate}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"svg-textpath",name:"New TextPath",d:"",totalLength:0,fill:"rgba(0, 0, 0, 1)",text:"Insert a text",textLength:g.em(0),lengthAdjust:"spacingAndGlyphs",startOffset:g.em(0)},t))}enableHasChildren(){return!1}refreshMatrixCache(){super.refreshMatrixCache(),this.hasChangedField("d")?(this.cachePath=new W(this.json.d),this.cacheWidth=this.json.width,this.cacheHeight=this.json.height):this.hasChangedField("width","height")&&(this.json.d=this.cachePath.clone().scale(this.json.width/this.cacheWidth,this.json.height/this.cacheHeight).d,this.modelManager.setChanged("reset",this.id,{d:this.json.d}))}get d(){return this.json.d?(this.cachePath||(this.cachePath=new W(this.json.d),this.cacheWidth=this.json.width,this.cacheHeight=this.json.height),this.cachePath.clone().scale(this.json.width/this.cacheWidth,this.json.height/this.cacheHeight).d):null}convert(t){return t=super.convert(t),t.textLength=g.parse(t.textLength),t.startOffset=g.parse(t.startOffset),t}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("totalLength","d","text","textLength","lengthAdjust","startOffset"))}getDefaultTitle(){return"TextPath"}}class Yn extends Oi{is(...t){return t.includes("component")?!0:super.is(...t)}getProps(){return[]}static createComponent({iconString:t,title:r="Unknown Title",attrs:i={},enableHasChildren:s=!1}){return class extends Yn{getIcon(){return t||iconUse("add")}getDefaultObject(){return super.getDefaultObject(v({itemType:"NewComponent",name:"New Component"},i))}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs(...Object.keys(i)))}enableHasChildren(){return s||!1}getDefaultTitle(){return r}}}}const mL=`
  <svg>
    <rect width="100%" height="100%" fill="black" />
  </svg>
`;class vL extends Yn{getIcon(){return ae.auto_awesome}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"template",name:"New Template",engine:"dom",template:mL,params:[]},t))}enableHasChildren(){return!1}getDefaultTitle(){return"Template"}getIcon(){return ae.auto_awesome}editable(t){switch(t){case"font":return!0}return super.editable(t)}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("template"))}}class yL extends Oi{getIcon(){return ae.title}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"text",name:"New Text",elementType:"p",content:""},t))}enableHasChildren(){return!1}getDefaultTitle(){return"Text"}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("content"))}editable(t){switch(t){case"svg-item":case"transform":case"transform-origin":case"perspective":case"perspective-origin":case"layout":return!1;case"font":case"font-spacing":case"text-style":case"text-shadow":case"text-fill":case"text-clip":case"background-image":case"box-model":case"border":case"border-radius":case"backdrop-filter":case"background-image":case"pattern":return!0}return super.editable(t)}}class bL extends Hs{getIcon(){return ae.edit}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"polygon",name:"New Polygon","stroke-width":1,count:3},t))}convert(t){return t=super.convert(t),t.count&&(t.count=+t.count),t}enableHasChildren(){return!1}get editablePath(){return!1}get d(){const{width:t,height:r,count:i}=this.json;return W.makePolygon(t,r,i).d}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("count"))}getDefaultTitle(){return"Polygon"}isPointInPath(t){const r=Ye([],t,this.absoluteMatrixInverse);return this.cachePath.isPointInPath({x:r[0],y:r[1]},this.json["stroke-width"]||0)}}class $L extends Hs{getIcon(){return ae.star}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"star",name:"New Star","stroke-width":1,d:"",isCurve:!1,count:5,radius:.5,tension:.5},t))}convert(t){return t=super.convert(t),t.count&&(t.count=+t.count),t.radius&&(t.radius=+t.radius),t.tension&&(t.tension=+t.tension),t}enableHasChildren(){return!1}get d(){const{width:t,height:r,count:i,radius:s,tension:n,isCurve:o}=this.json;let l="";return o?l=W.makeCurvedStar(t,r,i,s,n).d:l=W.makeStar(t,r,i,s).d,l}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("count","radius","tension","isCurve"))}getDefaultTitle(){return"Star"}}var Qd=function(a){if(!a||!a.dtype)return!1;var t=new RegExp("function View[0-9]+d(:?"+a.dtype+")+");return t.test(String(a.constructor))},kl=function(a){return a?a.data!==void 0&&Array.isArray(a.shape)&&a.offset!==void 0&&a.stride!==void 0:!1},Ya=function(t){return Array.isArray(t)||ArrayBuffer.isView(t)},xL=Qd,_L=kl,SL=Ya;function Fi(a){if(!!a){if(xL(a)||_L(a))return a.dtype==="generic"?Fi.GENERIC_NDARRAY:Fi.NDARRAY;if(SL(a))return Fi.ARRAY_OF_ARRAYS;throw new Error("Unhandled data type. Got type: "+typeof a)}}Fi.ARRAY_OF_ARRAYS="Arr",Fi.NDARRAY="Nd",Fi.GENERIC_NDARRAY="GenNd",Fi.PACKED="PackArr";var Wa=Fi,Jd=Ya;function wL(a){return a[0].toUpperCase()+a.slice(1)}var PL=function(a,t,r,i,s,n){var o,l=[],c=!1;for(o=0;o<a.splineDimension;o++){var h=Jd(a.knots)&&Jd(a.knots[o]);h&&(c=!0),l.push("Deg"+a.degree[o]+(h?"":"Uniform")+wL(a.boundary[o]))}var d=[[c?"NU":"",a.weights?"RBS":"BS"].join("")+a.dimension+"D",l.join("_")];return i&&d.push(i+"Pts"),s&&d.push(s+"Wts"),n&&d.push(n+"Kts"),t&&d.push("debug"),r&&d.push("chk"),d.join("_")},eu=function a(t,r){return function(i,s){i!==void 0&&!Array.isArray(i)&&(i=[i]);for(var n=[],o=0;o<i.length;o++)n.push(a.sum(i[o]));if(s)for(i=0;i<n.length;i++)s[i]!==void 0&&(n[i]="("+n[i]+" + "+s[i]+") % "+s[i]);return t+n.join("_")}};eu.sum=function(a){return a=Array.isArray(a)?a:[a],a=a.filter(function(t){return t!==void 0&&t!==0}),a.length===0&&a.push(0),a.join(" + ")};var Wn=eu,Ka=Wa,CL=Wn;function Tl(a){return function(t,r){t!==void 0&&!Array.isArray(t)&&(t=[t]);for(var i=[],s=0;s<t.length;s++)i.push(CL.sum(t[s]));if(r)for(t=0;t<i.length;t++)r[t]!==void 0&&(i[t]="("+i[t]+" + "+r[t]+") % "+r[t]);return a(i)}}function Ml(a,t){var r;if(!!t)switch(Ka(t)){case Ka.ARRAY_OF_ARRAYS:return Tl(function(i){return a+"["+i.join("][")+"]"});case Ka.GENERIC_NDARRAY:return Tl(function(i){return a+".get("+i.join(",")+")"});case Ka.NDARRAY:return Tl(function(i){var s=[a+"Offset"];for(r=0;r<i.length;r++)s.push(a+"Stride"+r+" * ("+i[r]+")");return a+"["+s.join(" + ")+"]"});case Ka.PACKED:default:return}}var kL=function(a){var t={},r;return r=Ml("x",a.points),r&&(t.point=r),r=Ml("w",a.weights),r&&(t.weight=r),r=Ml("k",a.knots),r&&(t.knot=r),t},pi=[],tu=[],TL=function(t,r,i){if(r!==1)throw new Error("Numerical derivative not implemented for order n = "+r+".");var s,n=arguments[this.splineDimension+3]===void 0?1e-4:arguments[this.splineDimension+3];for(pi.length=this.splineDimension,s=0;s<this.splineDimension;s++)pi[s+1]=arguments[s+3];var o=this.domain,l=o[i][0],c=o[i][1],h,d,p,u=pi[i+1],m=(c-l)*n;for(this.boundary[i]==="closed"?(p=c-l,h=l+(u-l-m+p)%p,d=l+(u-l+m+p)%p,m*=2):(h=Math.min(c,Math.max(l,u-m)),d=Math.min(c,Math.max(l,u+m)),m=d-h),pi[i+1]=h,pi[0]=tu,this.evaluate.apply(null,pi),pi[i+1]=d,pi[0]=t,this.evaluate.apply(null,pi),s=0;s<this.dimension;s++)t[s]=(t[s]-tu[s])/m;return t},ru=function(t,r){for(var i=1,s=0,n=[];s<t.length;s++)i*=Array.isArray(t[s])?t[s][1]-t[s][0]:t[s],n[s]=Array.isArray(t[s])?t[s][0]:0;for(var o=0;o<i;o++)for(r(n.slice()),s=t.length-1;s>=0;s--)if(n[s]===(Array.isArray(t[s])?t[s][1]:t[s])-1)n[s]=Array.isArray(t[s])?t[s][0]:0;else{n[s]++;break}},Il=Wa,El=function(a,t,r,i){var s,n=[];switch(Il(i)){case Il.NDARRAY:for(n.push("  var "+t+" = "+r+".data;"),n.push("  var "+t+"Offset = "+r+".offset;"),s=0;s<i.dimension;s++)n.push("  var "+t+"Stride"+s+" = "+r+".stride["+s+"];");break;case Il.ARRAY_OF_ARRAYS:n.push("  var "+t+" = "+r+";")}return n.join(`
`)},ML=kl,Ll=function(a,t,r){if(a){if(ML(a))return t+".shape["+r+"]";for(var i=t,s=0;s<r;s++)i+="[0]";return i+".length"}else return"this.size["+r+"]"},Kn=ru,ys=Wn,Vl=El,Rl=Wa,zl=Ya,IL=Ll,iu={},su={},EL=function(a,t,r,i,s,n,o){var l=t.splineDimension,c,h,d,p,u,m,$=t.points,S=t.degree,k=t.weights,C=k!==void 0,z=t.knots,L=t.dimension,R=t.boundary;if(o!=null){Array.isArray(o)||(o=[o]);var j=0;for(c=0;c<l;c++)o[c]===void 0&&(o[c]=0),j+=o[c];if(C&&j>1)throw new Error("Analytical derivative not implemented for rational b-splines with order n = "+j+".")}n&&(a="Basis"+a),o&&(a="Der"+o.join("_")+"_"+a);var X=iu[a];if(i)var Z=typeof i=="function"?i:console.log;if(X)return i&&Z(su[a]),X.bind(t);var q=[],ue="evaluate"+a,de=r.point;n&&(de=function(P,V){for(var H=[],pe=0;pe<P.length;pe++){for(var Ue=P[pe],Mt=[],_r=0;_r<Ue.length;_r++)Ue[_r]!==0&&Mt.push(Ue[_r]);Ue=Mt.join(" + "),V[pe]&&(Ue="("+Ue+" + "+V[pe]+") % "+V[pe]),H.push(Ue+" === "+dt(pe))}return"(("+H.join(" && ")+") ? 1 : 0)"});var me=r.weight,fe=r.knot,je=ys("k"),ee=ys("x"),Be=ys("w"),dt=ys("i"),He=ys("t"),Ze=i?"domain":"d",Ce=ys(i?"size":"s"),Me=ys(i?"knotIndex":"j"),at=!0;for(u=0;u<l;u++)zl(z)&&zl(z[u])&&(at=!1);function oe(P){q.push("  "+(P||""))}function rt(P){i&&oe(P)}if(n)var ct=[];var nr=[];for(c=0;c<l;c++)n&&ct.push(dt([c])),nr.push(He([c]));for(q.push("function "+ue+" ("+(n?"":"out, ")+nr.join(", ")+(n?", "+ct.join(", "):"")+") {"),oe("var h, m, a, b;"),s&&(oe("var "+Ze+" = this.domain;"),oe("for (var i = 0; i < this.splineDimension; i++) {"),oe("  a = arguments[i + 1];"),oe("  if (a < "+Ze+"[i][0] || a > "+Ze+"[i][1] || a === undefined || isNaN(a)) {"),oe("    throw new Error('Invalid Spline parameter in dimension '+i+'. Valid domain is ['+"+Ze+"[i][0]+', '+"+Ze+"[i][1]+']. but got t'+i+' = '+arguments[i + 1]+'.');"),oe("  }"),oe("}")),u=0;u<l;u++)oe("var "+Ce(u)+" = "+IL($,"this.points",u)+";");q.push(Vl(t,"x","this.points",$)),C&&q.push(Vl(t,"w","this.weights",k)),at||q.push(Vl(t,"k","this.knots",z));function yi(P,V,H){return"("+P+") ? ("+V+") : ("+H+")"}var bi=[];for(u=0;u<l;u++)switch(Rl(z)){case Rl.NDARRAY:bi[u]=!0;break;case Rl.ARRAY_OF_ARRAYS:bi[u]=zl(z[u]);break}for(u=0;u<l;u++)if(bi[u])for(rt(`
  // Bisect to locate the knot interval in dimension `+u+`
`),oe("var "+Me(u)+" = 0;"),oe("h = "+Ce(u)+";"),oe("while(h > "+Me(u)+" + 1) {"),oe("  m = 0.5 * (h + "+Me(u)+") | 0;"),oe("  if ("+fe([u,"m"])+" > "+He(u)+") h = m;"),oe("  else "+Me(u)+" = m;"),oe("}"),rt(`
  // Fetch knots for dimension `+u+`
`),c=-S[u]+1;c<=S[u];c++)R[u]==="closed"?c<0?oe("var "+je([u,c+S[u]-1])+" = "+yi(Me(u)+" < "+-c,fe([u,0])+" + "+fe([u,[Ce(u),Me(u),c]])+" - "+fe([u,[Ce(u)]]),fe([u,[Me(u),c]]))+";"):c>0?oe("var "+je([u,c+S[u]-1])+" = "+yi(Me(u)+" + "+c+" > "+Ce(u),fe([u,Ce(u)])+" + "+fe([u,c+" + "+Me(u)+" - "+Ce(u)])+" - "+fe([u,0]),fe([u,[Me(u),c]]))+";"):oe("var "+je([u,c+S[u]-1])+" = "+fe([u,[Me(u),c]])+";"):oe("var "+je([u,c+S[u]-1])+" = "+fe([u,[Me(u),c]])+";");else{for(rt(`
  // Directly compute knot interval for dimension `+u+`
`),R[u]==="closed"?oe(Me(u)+" = ("+He(u)+" | 0) % "+Ce(u)+";"):(oe(Me(u)+" = ("+He(u)+" | 0);"),oe("if ("+Me(u)+" < "+S[u]+") "+Me(u)+" = "+S[u]+";"),oe("if ("+Me(u)+" > "+Ce(u)+" - 1) "+Me(u)+" = "+Ce(u)+" - 1;")),rt(`
  // Compute and clamp knots for dimension `+u+`
`),c=-S[u]+1;c<=S[u];c++)m=je([u,c+S[u]-1]),oe("var "+m+" = "+Me(u)+" + "+c+";");if(R[u]==="clamped")for(c=-S[u]+1;c<=S[u];c++)m=je([u,c+S[u]-1]),c<0&&oe("if ("+m+" < "+S[u]+") "+m+" = "+S[u]+";"),c>0&&oe("if ("+m+" > "+Ce(u)+") "+m+" = "+Ce(u)+";");R[u]==="closed"&&(rt(`
  // Wrap the B-Spline parameter for closed boundary`),oe(He(u)+" %= "+Ce(u)+";"))}for(u=0,d=[];u<l;u++)d[u]=S[u]+1;for(C&&(rt(`
  // Fetch weights
`),Kn(d,function(P){for(var V=[],H=[],pe=0;pe<l;pe++)V[pe]=[Me(pe),P[pe]-S[pe]],R[pe]==="closed"&&P[pe]-S[pe]<0&&(H[pe]=Ce(pe));oe("var "+Be(P)+" = "+me(V,H)+";")})),i&&oe(C?`
  // Fetch points and project into homogeneous (weighted) coordinates
`:`
  // Fetch points
`),Kn(d,function(P){for(var V=[],H=[],pe=0;pe<l;pe++)V[pe]=[Me(pe),P[pe]-S[pe]],R[pe]==="closed"&&P[pe]-S[pe]<0&&(H[pe]=Ce(pe));if(n)oe(C?"var "+ee(P)+" = "+de(V,H)+" * "+Be(P)+";":"var "+ee(P)+" = "+de(V,H)+";");else for(pe=0;pe<L;pe++){var Ue=P.concat(pe);V[l]=pe,oe(C?"var "+ee(Ue)+" = "+de(V,H)+" * "+Be(P)+";":"var "+ee(Ue)+" = "+de(V,H)+";")}}),rt(`
`),rt("// Perform De Boor's algorithm"),u=d.length-1;u>=0;u--)for(d[u]=[S[u],S[u]+1],c=0;c<S[u];c++)for(rt(`
  // Degree `+S[u]+" evaluation in dimension "+u+", step "+(c+1)+`
`),h=S[u];h>c;h--){var mr=o&&S[u]-c-o[u]<=0;mr?(oe("m = 1 / ("+je([u,h-c+S[u]-1])+" - "+je([u,h-1])+");"),C&&(oe("a = ("+He(u)+" - "+je([u,h-1])+") * m;"),oe("b = 1 - a;"))):(oe("a = ("+He(u)+" - "+je([u,h-1])+") / ("+je([u,h-c+S[u]-1])+" - "+je([u,h-1])+");"),oe("b = 1 - a;")),C&&Kn(d,function(P){var V=P.slice(),H=P.slice();V[u]=h,H[u]=h-1,mr&&C&&oe("h = "+Be(V)+";"),oe(Be(V)+" = b * "+Be(H)+" + a * "+Be(V)+";")}),Kn(d,function(P){var V,H,pe,Ue=P.slice(),Mt=P.slice();if(Ue[u]=h,Mt[u]=h-1,mr){var _r=c+1;if(n)V=C?"h * "+Be(Mt)+" / "+Be(Ue)+" * ":"",H=ee(Ue)+(C?" / h":""),pe=ee(Mt)+(C?" / "+Be(Mt):""),oe(ee(Ue)+" = "+_r+" * "+V+"("+H+" - "+pe+") * m;");else{var ii=Ue.slice(),qs=Mt.slice();for(p=0;p<L;p++)ii[l]=qs[l]=p,V=C?"h * "+Be(Mt)+" / "+Be(Ue)+" * ":"",H=ee(ii)+(C?" / h":""),pe=ee(qs)+(C?" / "+Be(Mt):""),oe(ee(ii)+" = "+_r+" * "+V+"("+H+" - "+pe+") * m;")}}else if(n)oe(ee(Ue)+" = b * "+ee(Mt)+" + a * "+ee(Ue)+";");else for(p=0;p<L;p++)Ue[l]=Mt[l]=p,oe(ee(Ue)+" = b * "+ee(Mt)+" + a * "+ee(Ue)+";")}),rt(`
`)}if(i&&oe(C?`
  // Project back from homogeneous coordinates and return final output
`:`
  // Return final output
`),n)oe(C?"return "+ee(S)+" / "+Be(S)+";":"return "+ee(S)+";");else for(u=0;u<L;u++)oe(C?"out["+u+"] = "+ee(S.concat([u]))+" / "+Be(S)+";":"out["+u+"] = "+ee(S.concat([u]))+";");if(n||oe("return out;"),q.push("}"),i){var vr=q.join(`
`);Z(vr),su[a]=vr}var _=new Function([q.join(`
`),"; return ",ue].join(""))();return iu[a]=_,_.bind(t)},au={},LL=El,VL=Ll,RL=Wn,zL=function(t,r,i,s){var n,o,l,c,h,d,p,u,m=au[t];if(m)return m.bind(r);var $=[],S="transform"+t;$.push("function "+S+"(m) {"),$.push("var i, w;"),$.push(LL(r,"x","this.points",r.points));var k=RL(s?"size":"s");for(n=0;n<r.splineDimension;n++)$.push("var "+k(n)+" = "+VL(r.points,"this.points",n)+";");for(c=[],n=0;n<r.splineDimension;n++)l="i"+n,c.push(l),$.push("for ("+l+" = "+k(n)+"- 1; "+l+" >= 0; "+l+"--) {");for(n=0;n<r.dimension;n++)$.push("x"+n+" = "+i.point(c.concat([n])));for(h=[],n=0;n<r.dimension;n++)h.push("m["+((r.dimension+1)*(n+1)-1)+"] * x"+n);for(h.push("m["+((r.dimension+1)*(r.dimension+1)-1)+"]"),$.push("var w = ("+h.join(" + ")+") || 1.0;"),n=0;n<r.dimension;n++){for(h=[],d=r.dimension,o=0;o<d;o++)h.push("m["+(o*(d+1)+n)+"] * x"+o);h.push("m["+(o*(d+1)+n)+"]"),u=i.point(c.concat([n])),p="("+h.join(" + ")+") / w",$.push(u+" = "+p+";")}for(n=r.splineDimension-1;n>=0;n--)$.push("}");$.push("return this;"),$.push("}");var C=new Function([$.join(`
`),"; return ",S].join(""))();return s&&console.log($.join(`
`)),au[t]=C,C.bind(r)},jL=ru,jl=Wn,AL=El,Al=Wa,Ol=Ya,OL=Ll,nu={},DL=function(a,t,r,i,s){var n=nu[a];if(n)return n.bind(t);var o=t.degree,l=t.knots,c=t.splineDimension,h=t.boundary,d,p,u,m=[],$="support"+a,S=r.knot,k=jl("t"),C=i?"domain":"d",z=jl(i?"size":"s"),L=jl(i?"knotIndex":"i"),R=!0;for(u=0;u<c;u++)Ol(l)&&Ol(l[u])&&(R=!1);function j(me){m.push("  "+(me||""))}var X=[];for(d=0;d<c;d++)X.push(k([d]));m.push("function "+$+" (out, "+X.join(", ")+") {");var Z=0;function q(me,fe){j(fe===void 0?"out["+Z+++"] = "+me.join(" + ")+";":"out["+Z+++"] = ("+me.join(" + ")+" + "+fe+") % "+fe+";")}for(j("var h, m;"),j("var c = 0;"),s&&(j("var "+C+" = this.domain;"),j("for (var i = 0; i < this.splineDimension; i++) {"),j("  a = arguments[i + 1];"),j("  if (a < "+C+"[i][0] || a > "+C+"[i][1] || a === undefined || isNaN(a)) {"),j("    throw new Error('Invalid Spline parameter in dimension '+i+'. Valid domain is ['+"+C+"[i][0]+', '+"+C+"[i][1]+']. but got t'+i+' = '+arguments[i + 1]+'.');"),j("  }"),j("}")),u=0;u<c;u++)j("var "+z(u)+" = "+OL(t.points,"this.points",u)+";");R||m.push(AL(t,"k","this.knots",l));var ue=[];for(u=0;u<c;u++)switch(Al(l)){case Al.NDARRAY:ue[u]=!0;break;case Al.ARRAY_OF_ARRAYS:ue[u]=Ol(l[u]);break}for(u=0;u<c;u++)ue[u]?(j("var "+L(u)+" = 0;"),j("h = "+z(u)+";"),j("while(h > "+L(u)+" + 1) {"),j("  m = 0.5 * (h + "+L(u)+") | 0;"),j("  if ("+S([u,"m"])+" > "+k(u)+") h = m;"),j("  else "+L(u)+" = m;"),j("}")):h[u]==="closed"?j(L(u)+" = ("+k(u)+" | 0) % "+z(u)+";"):(j(L(u)+" = ("+k(u)+" | 0);"),j("if ("+L(u)+" < "+o[u]+") "+L(u)+" = "+o[u]+";"),j("if ("+L(u)+" > "+z(u)+" - 1) "+L(u)+" = "+z(u)+" - 1;"));for(u=0,p=[];u<c;u++)p[u]=o[u]+1;jL(p,function(me){for(var fe=[],je=[],ee=0;ee<c;ee++)fe[ee]=[L(ee),me[ee]-o[ee]],h[ee]==="closed"&&me[ee]-o[ee]<0&&(je[ee]=z(ee));for(ee=0;ee<c;ee++)q(fe[ee],je[ee])}),j("out.length = "+Z+";"),j("return out;"),m.push("}"),i&&console.log(m.join(`
`));var de=new Function([m.join(`
`),"; return ",$].join(""))();return nu[a]=de,de.bind(t)},Bi=Wa,FL=PL,BL=Qd,NL=kl,GL=kL,HL=TL,Ni=Ya,ou=EL,UL=zL,XL=DL,Zn={open:"open",closed:"closed",clamped:"clamped"};function qn(a){return a==null}function YL(a,t,r,i,s,n){var o,l;a&&!Ni(a)&&!BL(a)?(n=a,this.debug=a.debug,this.checkBounds=!!a.checkBounds,this.weights=a.weights,this.knots=a.knots,this.degree=a.degree,this.boundary=a.boundary,this.points=a.points,Object.defineProperty(this,"size",{value:n.size,writable:!0,configurable:!0})):(n=n||{},this.weights=i,this.knots=r,this.degree=t,this.points=a,this.boundary=s,this.debug=n.debug,this.checkBounds=!!n.checkBounds,Object.defineProperty(this,"size",{value:n.size,writable:!0,configurable:!0}));var c=Bi(this.points),h=Bi(this.weights),d=Bi(this.knots);if(this.points)switch(c){case Bi.GENERIC_NDARRAY:case Bi.NDARRAY:Object.defineProperties(this,{splineDimension:{value:this.points.shape.length-1,writable:!1,configurable:!0},dimension:{value:this.points.shape[this.points.shape.length-1],writable:!1,configurable:!0},size:{get:function(){return this.points.shape.slice(0,this.points.shape.length-1)},set:function(){throw new Error("Cannot assign to read only property 'size'")},configurable:!0}});break;case Bi.ARRAY_OF_ARRAYS:var p=0,u=this.size||[];u.length=0;for(var m=this.points;Ni(m[0]);m=m[0])p++,u.push(m.length);if(p===0)throw new Error("Expected an array of points");Object.defineProperties(this,{splineDimension:{value:p,writable:!1,configurable:!0},dimension:{value:m.length,writable:!1,configurable:!0},size:{get:function(){var L=[];L.length=0;for(var R=0,j=this.points;R<this.splineDimension;R++,j=j[0])L[R]=j.length;return L},set:function(){throw new Error("Cannot assign to read only property 'size'")},configurable:!0}});break;case Bi.PACKED:default:throw new Error("Expected either a packed array, array of arrays, or ndarray of points")}else{if(this.size===void 0||this.size===null)throw new Error("Either points or a control hull size must be provided.");if(Ni(this.size)||Object.defineProperty(this,"size",{value:[this.size],writable:!0,configurable:!0}),this.size.length===0)throw new Error("`size` must be a number or an array of length at least one.");Object.defineProperties(this,{splineDimension:{value:this.size.length,writable:!1,configurable:!0},dimension:{value:0,writable:!1,configurable:!0}})}if(Ni(this.degree)){for(o=0;o<this.splineDimension;o++)if(qn(this.degree[o]))throw new Error("Missing degree in dimension "+(o+1))}else{var $=!qn(this.degree),S=qn(this.degree)?2:this.degree;for(this.degree=[],o=0;o<this.splineDimension;o++)if(this.size[o]<=S){if($)throw new Error("Expected at least "+(S+1)+" points for degree "+S+" spline in dimension "+(o+1)+" but got only "+this.size[o]);this.degree[o]=this.size[o]-1}else this.degree[o]=S}if(l=typeof this.boundary!="string"?"open":this.boundary,!Zn[l])throw new Error("Boundary type must be one of "+Object.keys(Zn)+". Got "+l);for(this.boundary=Ni(this.boundary)?this.boundary:[],this.boundary.length=this.splineDimension,o=0;o<this.splineDimension;o++)if(this.boundary[o]=qn(this.boundary[o])?l:this.boundary[o],!Zn[l])throw new Error("Boundary type must be one of "+Object.keys(Zn)+". Got "+l+" for dimension "+(o+1));switch(d){case Bi.ARRAY_OF_ARRAYS:for(Ni(this.knots)&&this.knots.length>0&&!Ni(this.knots[0])&&(this.knots=[this.knots]),o=0;o<this.splineDimension;o++){if(this.size[o]<=this.degree[o])throw new Error("Expected at least "+(this.degree[o]+1)+" points in dimension "+(o+1)+" but got "+this.size[o]+".");if(Ni(this.knots[o])){if(this.boundary[o]!=="closed"&&this.knots[o].length!==this.degree[o]+this.size[o]+1)throw new Error("Expected "+(this.degree[o]+this.size[o]+1)+" knots in dimension "+(o+1)+" but got "+this.knots[o].length+".");if(this.boundary[o]==="closed"&&this.knots[o].length!==this.size[o]+1){var k=this.knots[o].length===this.size[o]+this.degree[o]+1;if(!k)throw new Error("Expected "+(this.size[o]+1)+" knots for closed spline in dimension "+(o+1)+" but got "+this.knots[o].length+".")}}}break}var C=FL(this,this.debug,this.checkBounds,c,h,d);if(C!==this.__cacheKey){this.__cacheKey=C;var z=GL(this);this.evaluate=ou(this.__cacheKey,this,z,this.debug,this.checkBounds,!1),this.transform=UL(this.__cacheKey,this,z,this.debug),this.support=XL(this.__cacheKey,this,z,this.debug,this.checkBounds),this.evaluator=function(L,R){return ou(this.__cacheKey,this,z,this.debug,this.checkBounds,R,L)}}return this.numericalDerivative=HL.bind(this),this}function WL(){var a,t=[],r=this.points;r?NL(r)&&(a=r.shape):a=this.size;for(var i=0;i<this.splineDimension;i++){var s=a?a[i]:r.length,n=this.degree[i],o=this.boundary[i]==="closed";if(this.knots&&this.knots[i]){var l=this.knots[i];t[i]=[l[o?0:n],l[s]]}else t[i]=[o?0:n,s];r&&(r=r[0])}return t}function KL(a,t,r,i,s,n){var o=function(c,h,d,p,u,m){return l(c,h,d,p,u,m),o},l=YL.bind(o);return Object.defineProperty(o,"domain",{get:WL}),l(a,t,r,i,s,n),o}var ZL=KL;class qL extends Hs{getIcon(){return ae.star}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"spline",name:"New Spline","stroke-width":1,points:[],traceCount:100,degree:2,boundary:"clamped"},t))}enableHasChildren(){return!1}refreshMatrixCache(){super.refreshMatrixCache(),this.hasChangedField("points","boundary")?this.setCache():this.hasChangedField("width","height")&&(this.cachePath||this.setCache(),this.json.points=this.cachePath.clone().scale(this.json.width/this.cacheWidth,this.json.height/this.cacheHeight).verties,this.modelManager.setChanged("reset",this.id,{points:this.json.points}))}setCache(){super.setCache(),this.cachePath=W.makePathByVerties(this.json.points),this.cacheWidth=this.json.width,this.cacheHeight=this.json.height}get editablePath(){let{width:t,height:r,points:i}=this.json;return(!i||i.length==0)&&(i=[[0,r],[0,0],[t,0],[t,r]]),this.absolutePath(W.makePathByVerties(i).d).d}recoverEditablePath(t){const r=this.invertPath(t).verties,i=this.updatePath(this.getPath(r));return delete i.d,v({points:r},i)}get d(){return this.getPath(this.json.points,this.json.boundary)}getPath(t,r){let{width:i,height:s}=this.json;t||(t=this.json.points),r||(r=this.json.boundary),(!t||t.length==0)&&(t=[[0,s],[0,0],[i,0],[i,s]]);const n=ZL({points:t,degree:t.length-2,boundary:r}),o=[],l=[],c=(t.length-1)*100,h=1/c,d=n.domain[0][0],p=n.domain[0][1];for(var u=0;u<=1;u+=h)n.evaluate(o,d+(p-d)*u),l.push(Ft(o));return W.makePathByVerties(l,!1).round(1e3).d}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("points","degree","boundary"))}getDefaultTitle(){return"BSpline"}}class QL extends qd{getIcon(){return ae.edit}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"boolean-path",name:"New Boolean Path","stroke-width":1,d:"","boolean-operation":"none"},t))}enableHasChildren(){return!0}reset(t,r={origin:"*"}){var s;const i=super.reset(t,r);if(this.cachePath||this.setCache(),this.hasChangedField("changedChildren","boolean-operation")){if(this.json.children.length===1){const n=this.layers[0].absolutePath().d;this.json.d=this.invertPath(n).d,this.setCache(),this.modelManager.setChanged("reset",this.id,{d:n})}else if(this.json["boolean-operation"]!=="none"&&((s=this.json.children)==null?void 0:s.length)>=2&&this.modelManager.editor.pathKitManager.has())if(this.layers.filter(o=>o.d).length>=2){const o=this.doBooleanOperation();this.json.d=o,this.setCache(),this.modelManager.setChanged("reset",this.id,{d:o})}else this.json.d=void 0,this.removeCache(),this.modelManager.setChanged("reset",this.id,{d:void 0})}return i}get resizableWitChildren(){return!0}startToCacheChildren(){this.cachedSize={width:this.json.width.clone(),height:this.json.height.clone()},this.cachedLayerMatrix=this.layers.map(t=>(t.startToCacheChildren(),{item:t,matrix:t.matrix}))}recoverChildren(){const t={width:this.json.width.clone(),height:this.json.height.clone()},r=t.width/this.cachedSize.width,i=t.height/this.cachedSize.height;this.cachedLayerMatrix.forEach(({item:s,matrix:n,constraints:o})=>{s.reset({x:s.x.changeUnitValue(n.x*r,t.width),y:s.y.changeUnitValue(n.y*i,t.height),width:s.width.changeUnitValue(n.width*r,t.width),height:s.height.changeUnitValue(n.height*i,t.height)}),s.recoverChildren()})}getFieldValueByBooleanOperation(t){const r=this.layers;if(r.length===0)return;if(r.length===1)return r[0][t];switch(this["boolean-operation"]){case qr.DIFFERENCE:return r[1][t]}return r[0][t]}get fill(){return this.getFieldValueByBooleanOperation("fill")}get stroke(){return this.getFieldValueByBooleanOperation("stroke")}setCache(){super.setCache(),this.cachePath=new W(this.json.d),this.cacheWidth=this.json.width,this.cacheHeight=this.json.height}removeCache(){super.removeCache(),this.cachePath=void 0,this.cacheWidth=void 0,this.cacheHeight=void 0}toCloneObject(){return le(v({},super.toCloneObject()),{d:this.json.d})}getDefaultTitle(){return"Path"}doBooleanOperation(){switch(this.json["boolean-operation"]){case qr.INTERSECTION:return this.intersection();case qr.UNION:return this.union();case qr.DIFFERENCE:return this.difference();case qr.REVERSE_DIFFERENCE:return this.reverseDifference();case qr.XOR:return this.xor()}return""}getPathList(){return this.layers.map(t=>t.absolutePath().d)}intersection(){const[t,...r]=this.getPathList(),i=r.reduce((s,n)=>this.modelManager.editor.pathKitManager.intersection(s,n),t);return this.invertPath(i).d}union(){const[t,...r]=this.getPathList(),i=r.reduce((s,n)=>this.modelManager.editor.pathKitManager.union(s,n),t);return this.invertPath(i).d}difference(){const[t,...r]=this.getPathList(),i=r.reduce((s,n)=>this.modelManager.editor.pathKitManager.difference(s,n),t);return this.invertPath(i).d}reverseDifference(){const[t,...r]=this.getPathList(),i=r.reduce((s,n)=>this.modelManager.editor.pathKitManager.reverseDifference(s,n),t);return this.invertPath(i).d}xor(){const[t,...r]=this.getPathList(),i=r.reduce((s,n)=>this.modelManager.editor.pathKitManager.xor(s,n),t);return this.invertPath(i).d}}function JL(a){a.registerItem("project",ld),a.registerItem("artboard",oL),a.registerItem("rect",hL),a.registerItem("circle",lL),a.registerItem("image",cL),a.registerItem("text",yL),a.registerItem("boolean-path",QL),a.registerItem("svg-path",qd),a.registerItem("svg-text",gL),a.registerItem("svg-textpath",fL),a.registerItem("template",vL),a.registerItem("polygon",bL),a.registerItem("star",$L),a.registerItem("spline",qL)}var eV={"app.title":"EASYLOGIC","app.sample":(a,t,r)=>`${a}-${t}-${r}`,"app.lang.en_US":"English","app.lang.ko_KR":"\uD55C\uAD6D\uC5B4","app.lang.fr_FR":"Fran\xE7ais","app.label.lang":"Language","app.layout.all":"Layout","app.layout.css":"CSS Mode","app.layout.svg":"SVG Mode","app.label.layout":"Menu Layout","app.theme.dark":"Dark","app.theme.light":"Light","app.theme.toon":"Toon","app.theme.gray":"Gray","app.label.theme":"Theme","app.tab.title.projects":"Projects","app.tab.title.layers":"Layers","app.tab.title.libraries":"Library","app.tab.title.components":"Component","app.tab.title.artboards":"Artboard","app.tab.title.assets":"Assets","app.tab.title.keyMap":"KeyMap","app.confirm.message.artboard.items.removeArtboard":"Do you remove an artboard preview really?","app.confirm.message.custom-component.items.removeCustomComponent":"Do you remove a custom component preview really?","menu.item.download.title":"Source","menu.item.save.title":"Save","menu.item.export.title":"Export","menu.item.codepen.title":"CodePen","menu.item.fullscreen.title":"Full Screen","menu.item.shortcuts.title":"ShortCuts","menu.item.github.title":"Github","menu.item.learn.title":"Learn","menu.item.projects.title":"Projects","menu.item.language.title":"Language","project.property.title":"Project","project.information.property.title":"Project information","project.information.property.name":"Name","project.information.property.description":"Description","artboard.property.title":"ArtBoards","artboard.property.layout.title.flex":"Flex","artboard.property.layout.title.grid":"Grid","layer.tree.property.title":"Layers","layer.tree.property.layout.title.flex":"Flex","layer.tree.property.layout.title.grid":"Grid","alignment.property.title":"Alignment","position.property.title":"Position","position.property.X":"X","position.property.Y":"Y","size.property.title":"Size","position.property.width":"W","position.property.height":"H","position.property.opacity":"Opacity","position.property.rotate":"Rotate","background.color.property.title":"Appearance","background.color.property.color":"Color","background.color.property.zindex":"z-index","background.color.property.blend":"Blend","background.color.property.overflow":"Overflow","background.color.property.overflow.visible":"Visible","background.color.property.overflow.hidden":"Hidden","background.color.property.overflow.scroll":"Scroll","background.color.property.overflow.auto":"Auto","blend.normal":"normal","blend.multiply":"multiply","blend.screen":"screen","blend.overlay":"overlay","blend.darken":"darken","blend.lighten":"lighten","blend.color-dodge":"color-dodge","blend.color-burn":"color-burn","blend.hard-light":"hard-light","blend.soft-light":"soft-light","blend.difference":"difference","blend.exclusion":"exclusion","blend.hue":"hue","blend.saturation":"saturation","blend.color":"color","blend.luminosity":"luminosity","background.image.property.title":"Fill","border.property.title":"Border","border.radius.property.title":"Border Radius","boxshadow.property.title":"Box Shadows","filter.property.title":"Filter","filter.property.blur":"Blur","filter.property.grayscale":"GrayScale","filter.property.hue-rotate":"Hue Rotate","filter.property.invert":"Invert","filter.property.brightness":"Brightness","filter.property.contrast":"Contrast","filter.property.drop-shadow":"Drop Shadow","filter.property.drop-shadow.color":"Color","filter.property.drop-shadow.offsetX":"Offset X","filter.property.drop-shadow.offsetY":"Offset Y","filter.property.drop-shadow.blurRadius":"Blur","filter.property.opacity":"Opacity","filter.property.saturate":"Saturate","filter.property.sepia":"Sepia","filter.property.svg":"SVG","font.property.title":"Font","font.property.color":"Color","font.property.size":"Size","font.property.stretch":"Stretch","font.property.weight":"Weight","font.property.style":"Style","font.property.family":"Family","font.spacing.property.title":"Font spacing","font.spacing.property.lineHeight":"Line height","font.spacing.property.letterSpacing":"Letter spacing","font.spacing.property.wordSpacing":"Word spacing","font.spacing.property.indent":"Indent","backdrop.filter.property.title":"Backdrop Filter","clippath.property.title":"Clip Path","export.property.title":"Export","export.property.download":"Download","iframe.property.title":"IFrame","image.property.title":"Image","image.property.origin":"Origin","image.property.size":"Size","image.property.width":"Width","image.property.height":"height","video.property.title":"Video","video.property.play":"Play","video.property.pause":"Pause","video.property.volume":"Volume","video.property.playbackRate":"Playback Rate","video.property.currentTime":"Current Time","video.property.playTime":"Play Time Distance","motion.property.title":"Motion","text.property.title":"Text Style","text.property.align":"Align","text.property.transform":"Transform","text.property.decoration":"Decoration","text.clip.property.title":"Text Clip","text.shadow.property.title":"Text Shadows","text.fill.property.title":"Text Fill","text.fill.property.fill":"Fill","text.fill.property.stroke":"Stroke","text.fill.property.strokeWidth":"Width","transform.property.title":"Transform","transform.origin.property.title":"Transform Origin","transition.property.title":"CSS Transition","keyframe.property.title":"CSS Keyframe","selector.property.title":"Selector","selector.property.none":"None selector","path.data.property.title":"Path Information","polygon.data.property.title":"Polygon Information","perspective.property.title":"Perspective","perspective.origin.property.title":"Perspective Origin","svg.item.property.title":"Appearance","svg.item.property.isMotionPath":"Motion Path","svg.item.property.fill":"Fill","svg.item.property.fillOpacity":"Opacity","svg.item.property.path":"Path","svg.item.property.polygon":"Polygon","svg.item.property.totalLength":"Total Length","svg.item.property.fillRule":"Fill Rule","svg.item.property.stroke":"Stroke","svg.item.property.strokeWidth":"Width","svg.item.property.dashArray":"Dash Array","svg.item.property.dashOffset":"Dash Offset","svg.item.property.lineCap":"Line Cap","svg.item.property.lineJoin":"Line Join","svg.item.property.filter":"Filter","svg.item.property.blend":"Blend Mode","border.editor.all":"All","border.editor.width":"Width","border.editor.style":"Style","border.editor.color":"C","border.editor.top":"Top","border.editor.left":"Left","border.editor.right":"Right","border.editor.bottom":"Bottom","border.radius.editor.topLeft":"Top Left","border.radius.editor.topRight":"Top Right","border.radius.editor.bottomLeft":"Bottom Left","border.radius.editor.bottomRight":"Bottom Right","boxshadow.editor.blur":"Blur","boxshadow.editor.spread":"Spread","css.property.editor.properties":"Properties","offset.path.list.editor.path":"Path","offset.path.list.editor.totalLength":"Total Length","offset.path.list.editor.distance":"Distance","offset.path.list.editor.direction":"Direction","offset.path.list.editor.rotate":"Rotate","svgfilter.select.editor.message.create":"Create new svg filter","svgfilter.select.editor.message.select":"Select a filter","fill.editor.message.click.image":"Click the preview area if you want to select a image","fill.editor.message.drag.position":"Drag if you want to move center position","fill.editor.x1":"Start X","fill.editor.x2":"End X","fill.editor.y1":"Start Y","fill.editor.y2":"End Y","fill.editor.spread":"Spread","fill.editor.offset":"Offset","fill.editor.cx":"Center X","fill.editor.cy":"Center Y","fill.editor.r":"End radius","fill.editor.fx":"Start X","fill.editor.fy":"Start Y","fill.editor.fr":"Start radius","perspective.origin.editor.originX":"Origin X","perspective.origin.editor.originY":"Origin Y","path.manager.msg":"Keydown ESC or Enter key to close editing","path.manager.mode.done":"Done","path.manager.mode.modify":"Modify","path.manager.mode.path":"Path","path.manager.mode.warp":"Warp","path.manager.mode.transform":"Transform","path.manager.mode.reverse":"Reverse","path.manager.mode.flipX":"Flip X","path.manager.mode.flipY":"Flip Y","path.manager.mode.flipOrigin":"Flip Origin","colorpicker.popup.title":"ColorPicker","selector.popup.title":"Selector Property","selector.popup.selector":"Selector","background.image.position.popup.title":"Background Pattern","background.image.position.popup.size":"Size","background.image.position.popup.width":"Width","background.image.position.popup.height":"Height","background.image.position.popup.repeat":"Repeat","background.image.position.popup.blend":"Blend","background.image.position.popup.type.repeat":"repeat","background.image.position.popup.type.no-repeat":"no repeat","background.image.position.popup.type.repeat-x":"repeat-x","background.image.position.popup.type.repeat-y":"repeat-y","background.image.position.popup.type.space":"space","background.image.position.popup.type.round":"round","gradient.picker.popup.title":"Gradient & Image Picker","gradient.picker.popup.static-gradient":"Static","gradient.picker.popup.linear-gradient":"Linear","gradient.picker.popup.repeating-linear-gradient":"Repeating Linear","gradient.picker.popup.radial-gradient":"Radial","gradient.picker.popup.repeating-radial-gradient":"Repeating Radial","gradient.picker.popup.conic-gradient":"Linear","gradient.picker.popup.repeating-conic-gradient":"Repeating Conic","image.asset.property.title":"Image","video.asset.property.title":"Video","color.asset.property.title":"Color","gradient.asset.property.title":"Gradient","pattern.asset.property.title":"Pattern","svgfilter.asset.property.title":"SVG Filter","inspector.tab.title.design":"Design","inspector.tab.title.component":"Component","inspector.tab.title.transition":"Animation","inspector.tab.title.asset":"Assets","inspector.tab.title.text":"Text","inspector.tab.title.code":"Code","inspector.tab.title.history":"History","timeline.property.title":"Timeline","timeline.property.resize":"Drag if you want to resize timeline height.","timeline.animation.property.title":"Animations","timeline.play.control.play":"Play","timeline.play.control.pause":"Pause","timeline.play.control.first":"First","timeline.play.control.prev":"Previous","timeline.play.control.next":"Next","timeline.play.control.last":"Last","timeline.play.control.direction":"Direction","timeline.play.control.speed":"Speed","timeline.play.control.repeat":"Repeat","timeline.play.control.infinite":"Infinite","timeline.play.control.normal":"normal","timeline.play.control.alternate":"alternate","timeline.play.control.reverse":"reverse","timeline.play.control.alternate.reverse":"alternate reverse","timeline.value.editor.value":"Value","timeline.value.editor.time":"Time","timeline.value.editor.timing":"Timing","timeline.value.editor.offset.message":"Please input enter key to change time offset.","svgfilter.popup.title":"SVG Filter","css.item.rotate":"Rotate","css.item.rotateX":"Rotate X","css.item.rotateY":"Rotate Y","css.item.rotateZ":"Rotate Z","css.item.rotate3d":"3D Rotate","css.item.skewX":"Skew X","css.item.skewY":"Skew Y","css.item.translate":"Translate","css.item.translateX":"Translate X","css.item.translateY":"Translate Y","css.item.translateZ":"Translate Z","css.item.translate3d":"3D Translate","css.item.perspective":"Perspective","css.item.scale":"Scale","css.item.scaleX":"Scale X","css.item.scaleY":"Scale Y","css.item.scaleZ":"Scale Z","css.item.scale3d":"3D Scale","css.item.matrix":"Matrix","css.item.matrix3d":"3D Matrix","animation.property.title":"CSS Animation","animation.property.direction":"Direction","animation.property.play.state":"Play State","animation.property.fill.mode":"Fill Mode","animation.property.delay":"Delay","animation.property.duration":"Duration","animation.property.iteration.count":"Iteration Count","animation.property.Select a keyframe":"Select a keyframe","animation.property.popup.title":"Animation","animation.property.popup.timing.function":"Timing Function","animation.property.popup.keyframe":"Keyframe","animation.property.popup.direction":"Direction","animation.property.popup.play.state":"Play State","animation.property.popup.fill.mode":"Fill Mode","animation.property.popup.delay":"Delay","animation.property.popup.duration":"Duration","animation.property.popup.iteration":"Iteration","animation.property.popup.normal":"normal","animation.property.popup.reverse":"reverse","animation.property.popup.alternate":"alternate","animation.property.popup.alternate-reverse":"alternate-reverse","animation.property.popup.none":"none","animation.property.popup.forwards":"forwards","animation.property.popup.backwards":"backwards","animation.property.popup.both":"both","animation.property.popup.Select a keyframe":"Select a keyframe","keyframe.popup.title":"Keyframe","code.view.property.title":"CodeView","svg.filter.editor.tab.filter":"Filter","svg.filter.editor.tab.preset":"Preset","svg.filter.editor.tab.asset":"Assets","svg.filter.editor.GRAPHIC REFERENCES":"GRAPHIC REFERENCES","svg.filter.editor.SOURCES":"SOURCES","svg.filter.editor.MODIFIER":"MODIFIER","svg.filter.editor.LIGHTING":"LIGHTING","svg.filter.editor.COMBINERS":"COMBINERS","svg.filter.editor.Template":"Template","layout.property.title":"Layout","layout.property.flex":"Flex Box","layout.property.grid":"Grid","layout.property.default":"Default","layout.property.resizing.title":"Resizing","layout.property.resizing.self.title":"Self Resizing","default.layout.item.property.title.constraints":"Constraints","flex.layout.editor.row":"Row","flex.layout.editor.column":"column","flex.layout.editor.row-reverse":"Row Reverse","flex.layout.editor.column-reverse":"Column Reverse","flex.layout.editor.nowrap":"Nowrap","flex.layout.editor.wrap":"Wrap","flex.layout.editor.wrap-reverse":"Wrap Reverse","flex.layout.editor.flex-start":"Start","flex.layout.editor.flex-end":"End","flex.layout.editor.center":"Center","flex.layout.editor.space-between":"Between","flex.layout.editor.space-around":"Around","flex.layout.editor.baseline":"BaseLine","flex.layout.editor.stretch":"Stretch","flex.layout.editor.direction":"Direction","flex.layout.editor.justify-content":"Justify Content","flex.layout.editor.align-items":"Align Items","flex.layout.editor.align-content":"Align Content","flex.layout.item.property.title":"Flex Item Detail","flex.layout.item.property.grow":"Flex Grow","flex.layout.item.property.shrink":"Flex Shrink","flex.layout.item.property.basis":"Flex Basis","flex.layout.item.property.none":"none","flex.layout.item.property.auto":"auto","flex.layout.item.property.value":"value","grid.layout.editor.template.columns":"Columns","grid.layout.editor.column.gap":"Column Gap","grid.layout.editor.template.rows":"Rows","grid.layout.editor.row.gap":"Row Gap","grid.box.editor.box.title":"Box","grid.box.editor.type":"Type","grid.box.editor.repeat":"Repeat","grid.box.editor.length":"Length","grid.box.editor.none":"None","grid.box.editor.auto":"Auto","grid.box.editor.count":"Count","grid.box.editor.value":"Size","grid.layout.item.property.title":"Layout Item Detail","grid.layout.item.property.column":"Column","grid.layout.item.property.row":"Row","grid.layout.item.property.start":"Start","grid.layout.item.property.end":"End","grid.layout.item.property.none":"none","grid.layout.item.property.value":"value","box.model.property.title":"Box Model","box.model.property.margin":"Margin","box.model.property.padding":"Padding","component.items.canvas":"Canvas","component.items.layer":"Layer","component.items.3dlayer":"3D Layer","component.items.drawing":"Drawing","component.items.custom":"Custom Component","component.items.chart":"Chart","component.items.plugin":"Plugin","svg.text.property.title":"SVG Text Style","svg.text.property.textarea":"Text Area","svg.text.property.size":"Font Size","svg.text.property.weight":"Font Weight","svg.text.property.style":"Font Style","svg.text.property.anchor":"Text Anchor","svg.text.property.family":"Font Family","svg.text.property.length.adjust":"Length Adjust","svg.text.property.text.length":"Text Length","svg.text.property.start.offset":"Start Offset","fill.picker.popup.title":"SVG Fragment picker","gradient.editor.drag.message":"Drag if you want to move center pointer.","draw.manager.tolerance":"Tolerance","pattern.property.title":"Pattern","pattern.info.popup.title":"Pattern Info","pattern.info.popup.width":"Width","pattern.info.popup.height":"Height","pattern.info.popup.lineWidth":"Line Width","pattern.info.popup.lineHeight":"Line Height","pattern.info.popup.rotate":"Rotate","pattern.info.popup.blend":"Blend Mode","pattern.info.popup.foreColor":"Fore","pattern.info.popup.backColor":"Back","stroke.dasharray.editor.add":"Add Dash","viewport.panning.enable":"You can move the area by holding down space key and dragging the screen.","image.select.editor.button":"Select Image"},tV={"app.title":"EASYLOGIC","app.sample":(a,t,r)=>`${a}-${t}-${r}`,"app.lang.en_US":"English","app.lang.ko_KR":"\uD55C\uAD6D\uC5B4","app.lang.fr_FR":"Fran\xE7ais","app.label.lang":"\uC5B8\uC5B4","app.layout.all":"\uB808\uC774\uC544\uC6C3","app.layout.css":"CSS \uBAA8\uB4DC","app.layout.svg":"SVG \uBAA8\uB4DC","app.label.layout":"\uBA54\uB274\uAD6C\uC131","app.theme.dark":"\uC5B4\uB450\uC6B4","app.theme.light":"\uBC1D\uC740","app.theme.toon":"\uADF8\uB9AC\uAE30","app.theme.gray":"\uD68C\uC0C9","app.label.theme":"\uD14C\uB9C8","app.tab.title.projects":"\uD504\uB85C\uC81D\uD2B8","app.tab.title.layers":"\uB808\uC774\uC5B4","app.tab.title.libraries":"\uB77C\uC774\uBE0C\uB7EC\uB9AC","app.tab.title.components":"\uCEF4\uD3EC\uB10C\uD2B8","app.tab.title.artboards":"\uC544\uD2B8\uBCF4\uB4DC","app.tab.title.assets":"\uC5D0\uC14B","app.tab.title.keyMap":"\uB2E8\uCD95\uD0A4","app.confirm.message.artboard.items.removeArtboard":"\uC544\uD2B8\uBCF4\uB4DC \uD504\uB9AC\uBDF0\uB97C \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?","app.confirm.message.custom-component.items.removeCustomComponent":"\uCEF4\uD3EC\uB10C\uD2B8 \uD504\uB9AC\uBDF0\uB97C \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?","menu.item.download.title":"\uB2E4\uC6B4\uB85C\uB4DC","menu.item.save.title":"\uC800\uC7A5","menu.item.export.title":"\uB0B4\uBCF4\uB0B4\uAE30","menu.item.fullscreen.title":"\uC804\uCCB4\uD654\uBA74","menu.item.shortcuts.title":"\uB2E8\uCD95\uD0A4","menu.item.github.title":"Github","menu.item.learn.title":"\uBC30\uC6B0\uAE30","menu.item.projects.title":"\uD504\uB85C\uC81D\uD2B8","project.property.title":"\uD504\uB85C\uC81D\uD2B8","project.information.property.title":"\uD504\uB85C\uC81D\uD2B8 \uC815\uBCF4","project.information.property.name":"\uC774\uB984","project.information.property.description":"\uC124\uBA85","artboard.property.title":"\uC544\uD2B8\uBCF4\uB4DC","artboard.property.layout.title.flex":"\uD50C\uB809\uC2A4","artboard.property.layout.title.grid":"\uADF8\uB9AC\uB4DC","layer.tree.property.title":"\uB808\uC774\uC5B4","layer.tree.property.layout.title.flex":"\uD50C\uB809\uC2A4","layer.tree.property.layout.title.grid":"\uADF8\uB9AC\uB4DC","alignment.property.title":"\uC815\uB82C","position.property.title":"\uC704\uCE58","position.property.X":"X","position.property.Y":"Y","size.property.title":"\uD06C\uAE30","position.property.width":"\uB113\uC774","position.property.height":"\uB192\uC774","position.property.rotate":"\uD68C\uC804","position.property.opacity":"\uD22C\uBA85","background.color.property.title":"\uD45C\uC2DC","background.color.property.color":"\uBC30\uACBD\uC0C9","background.color.property.zindex":"z-index","background.color.property.blend":"\uBE14\uB80C\uB4DC\uBAA8\uB4DC","background.color.property.overflow":"\uC624\uBC84\uD50C\uB85C\uC6B0","background.color.property.overflow.visible":"\uBCF4\uC774\uAE30","background.color.property.overflow.hidden":"\uC228\uAE30\uAE30","background.color.property.overflow.scroll":"\uC2A4\uD06C\uB864","background.color.property.overflow.auto":"\uC790\uB3D9","blend.normal":"Normal(\uD45C\uC900) \uD63C\uD569\uBAA8\uB4DC","blend.multiply":"Multiply(\uACF1\uD558\uAE30) \uBAA8\uB4DC","blend.screen":"Screen(\uC2A4\uD06C\uB9B0) \uBAA8\uB4DC ","blend.overlay":"Overlay(\uC624\uBC84\uB808\uC774) \uBAA8\uB4DC","blend.darken":"Darken(\uC5B4\uB461\uAE30) \uBAA8\uB4DC","blend.lighten":"Lighten(\uBC1D\uAE30) \uBAA8\uB4DC ","blend.color-dodge":"Color Dodge(\uCEEC\uB7EC \uB2F7\uC9C0) \uBAA8\uB4DC ","blend.color-burn":"Color Burn(\uCEEC\uB7EC \uBC88) \uBAA8\uB4DC ","blend.hard-light":"Hard Light(\uD558\uB4DC \uB77C\uC774\uD2B8) \uBAA8\uB4DC ","blend.soft-light":"Soft Light(\uC18C\uD504\uD2B8 \uB77C\uC774\uD2B8) \uBAA8\uB4DC ","blend.difference":"Difference(\uCC28\uC774) \uBAA8\uB4DC","blend.exclusion":"Exclusion(\uC81C\uC678) \uBAA8\uB4DC","blend.hue":"Hue(\uC0C9\uC870) \uBAA8\uB4DC ","blend.saturation":"Saturation(\uCC44\uB3C4) \uBAA8\uB4DC","blend.color":"Color(\uC0C9\uC0C1) \uBAA8\uB4DC","blend.luminosity":"Luminosity(\uAD11\uB3C4) \uBAA8\uB4DC ","background.image.property.title":"\uCC44\uC6B0\uAE30","border.property.title":"\uC678\uACFD\uC120","border.radius.property.title":"\uB465\uADFC \uC678\uACFD\uC120","boxshadow.property.title":"\uADF8\uB9BC\uC790","filter.property.title":"\uD544\uD130","filter.property.blur":"\uD750\uB9BC(Blur)","filter.property.grayscale":"\uD68C\uC0C9(GrayScale)","filter.property.hue-rotate":"\uC0C9\uC870(HueRotate)","filter.property.invert":"\uBC18\uC804(Invert)","filter.property.brightness":"\uBC1D\uAE30(Brightness)","filter.property.contrast":"\uB300\b\uC870(Contrast)","filter.property.drop-shadow":"\uADF8\uB9BC\uC790(Drop Shadow)","filter.property.drop-shadow.color":"\uC0C9","filter.property.drop-shadow.offsetX":"X","filter.property.drop-shadow.offsetY":"Y","filter.property.drop-shadow.blurRadius":"\uD750\uB9BC","filter.property.opacity":"\uD22C\uBA85\uB3C4(Opacity)","filter.property.saturate":"\uCC44\uB3C4(Saturate)","filter.property.sepia":"\uAC08\uC0C9\uD1A4(Sepia)","filter.property.svg":"SVG","font.property.title":"\uD3F0\uD2B8","font.property.color":"\uC0C9","font.property.size":"\uD06C\uAE30","font.property.stretch":"\uBED7\uAE30","font.property.weight":"\uAD75\uAE30","font.property.style":"\uC2A4\uD0C0\uC77C","font.property.family":"\uAE00\uAF34","font.spacing.property.title":"\uD3F0\uD2B8 \uACF5\uAC04","font.spacing.property.lineHeight":"\uC904 \uB192\uC774","font.spacing.property.letterSpacing":"\uAE00\uC790 \uAC04\uACA9","font.spacing.property.wordSpacing":"\uB2E8\uC5B4 \uAC04\uACA9","font.spacing.property.indent":"\uB4E4\uC5EC\uC4F0\uAE30","backdrop.filter.property.title":"\uD6C4\uBA74 \uD544\uD130","clippath.property.title":"\uD074\uB9BD\uD328\uC2A4","export.property.title":"\uB0B4\uBCF4\uB0B4\uAE30","export.property.download":"\uB2E4\uC6B4\uB85C\uB4DC","iframe.property.title":"\uC544\uC774\uD504\uB808\uC784","image.property.title":"\uC774\uBBF8\uC9C0","image.property.origin":"\uC6D0\uBCF8","image.property.size":"\uD06C\uAE30","image.property.width":"\uB113\uC774","image.property.height":"\uB192\uC774","video.property.title":"\uBE44\uB514\uC624","video.property.play":"\uC2DC\uC791","video.property.pause":"\uBA48\uCDA4","video.property.volume":"\uBCFC\uB968","video.property.playbackRate":"\uBE60\uB974\uAE30","video.property.currentTime":"\uD604\uC7AC \uC2DC\uAC04","video.property.playTime":"\uD50C\uB808\uC774 \uC2DC\uAC04 \uAC04\uACA9","motion.property.title":"\uBAA8\uC158","path.data.property.title":"\uD328\uC2A4 \uC815\uBCF4","polygon.data.property.title":"\uD3F4\uB9AC\uACE4 \uC815\uBCF4","text.property.title":"\uD14D\uC2A4\uD2B8 \uC2A4\uD0C0\uC77C","text.property.align":"\uC815\uB82C","text.property.transform":"\uBCC0\uD615","text.property.decoration":"\uC7A5\uC2DD","text.clip.property.title":"\uD14D\uC2A4\uD2B8 \uD074\uB9BD","text.shadow.property.title":"\uD14D\uC2A4\uD2B8 \uADF8\uB9BC\uC790","text.fill.property.title":"\uD14D\uC2A4\uD2B8 \uCC44\uC6B0\uAE30","text.fill.property.fill":"\uCC44\uC6B0\uAE30","text.fill.property.stroke":"\uC724\uACFD\uC120","text.fill.property.strokeWidth":"\uC724\uACFD\uC120 \uAD75\uAE30","transform.property.title":"\uD2B8\uB79C\uC2A4\uD3FC","transform.origin.property.title":"\uD2B8\uB79C\uC2A4\uD3FC Origin","transition.property.title":"CSS \uD2B8\uB79C\uC9C0\uC158","keyframe.property.title":"CSS \uD0A4\uD504\uB808\uC784","selector.property.title":"CSS \uC140\uB809\uD130","selector.property.none":"\uC120\uD0DD\uC790 \uC5C6\uC74C","perspective.property.title":"\uD22C\uC601(perspective)","perspective.origin.property.title":"\uD22C\uC601 \uC911\uC2EC\uC810","svg.item.property.title":"\uBCF4\uC774\uAE30","svg.item.property.isMotionPath":"\uBAA8\uC158 \uD328\uC2A4","svg.item.property.fill":"\uCC44\uC6B0\uAE30","svg.item.property.fillOpacity":"\uD22C\uBA85\uB3C4","svg.item.property.path":"\uD328\uC2A4","svg.item.property.polygon":"\uD3F4\uB9AC\uACE4","svg.item.property.totalLength":"\uC804\uCCB4 \uAE38\uC774","svg.item.property.fillRule":"\uCC44\uC6B0\uAE30 \uADDC\uCE59","svg.item.property.stroke":"\uC120","svg.item.property.strokeWidth":"\uC120 \uAD75\uAE30","svg.item.property.dashArray":"\uC810\uC120 \uAE38\uC774","svg.item.property.dashOffset":"\uC810\uC120 \uC704\uCE58","svg.item.property.lineCap":"\uC120 \uBAA8\uC591","svg.item.property.lineJoin":"\uACB9\uCE5C \uC120","svg.item.property.filter":"\uD544\uD130","svg.item.property.blend":"\uBE14\uB80C\uB4DC","border.editor.all":"\uC804\uCCB4","border.editor.width":"\uD06C\uAE30","border.editor.style":"\uC2A4\uD0C0\uC77C","border.editor.color":"\uC0C9","border.editor.top":"\uC704","border.editor.left":"\uC67C\uCABD","border.editor.right":"\uC624\uB978\uCABD","border.editor.bottom":"\uC544\uB798","border.radius.editor.topLeft":"\uC67C\uCABD \uC704","border.radius.editor.topRight":"\uC624\uB978\uCABD \uC704","border.radius.editor.bottomLeft":"\uC67C\uCABD \uC544\uB798","border.radius.editor.bottomRight":"\uC624\uB978\uCABD \uC544\uB798","boxshadow.editor.blur":"\uD750\uB9BC","boxshadow.editor.spread":"\uAE38\uC774","css.property.editor.properties":"\uC18D\uC131","offset.path.list.editor.path":"\uD328\uC2A4","offset.path.list.editor.totalLength":"\uC804\uCCB4 \uAE38\uC774","offset.path.list.editor.distance":"\uAC70\uB9AC","offset.path.list.editor.direction":"\uBC29\uD5A5","offset.path.list.editor.rotate":"\uD68C\uC804","svgfilter.select.editor.message.create":"\uC0C8\uB85C\uC6B4 SVG Filter \uB97C \uB9CC\uB4DC\uC138\uC694.","svgfilter.select.editor.message.select":"\uD544\uD130\uB97C \uC120\uD0DD\uD558\uC138\uC694.","fill.editor.message.click.image":"\uC774\uBBF8\uC9C0\uB97C \uC120\uD0DD\uD558\uACE0 \uC2F6\uC73C\uBA74 \uD504\uB9AC\uBDF0 \uC601\uC5ED\uC744 \uD074\uB9AD\uD558\uC138\uC694.","fill.editor.message.drag.position":"\uAC00\uC6B4\uB370 \uC704\uCE58\uB97C \uB4DC\uB798\uADF8 \uD574\uBCF4\uC138\uC694.","fill.editor.x1":"\uC2DC\uC791 X","fill.editor.x2":"\uB05D X","fill.editor.y1":"\uC2DC\uC791 Y","fill.editor.y2":"\uB05D Y","fill.editor.spread":"\uD655\uC0B0","fill.editor.offset":"\uC704\uCE58","fill.editor.cx":"\uC911\uC2EC\uC810 X","fill.editor.cy":"\uC911\uC2EC\uC810 Y","fill.editor.r":"\uB05D \uBC18\uC9C0\uB984","fill.editor.fx":"\uC2DC\uC791 X","fill.editor.fy":"\uC2DC\uC791 Y","fill.editor.fr":"\uC2DC\uC791 \uBC18\uC9C0\uB984","perspective.origin.editor.originX":"\uC911\uC2EC\uC810 X","perspective.origin.editor.originY":"\uC911\uC2EC\uC810 Y","path.manager.msg":"\uD3B8\uC9D1\uC744 \uC885\uB8CC\uD560 \uB54C\uB294 ESC \uD0A4\uB098 Enter \uD0A4\uB97C \uB204\uB974\uC138\uC694. \uB610\uB294 \uD654\uBA74\uC744 \uD074\uB9AD\uD558\uC2DC\uBA74 \uB429\uB2C8\uB2E4.","path.manager.mode.done":"\uC644\uB8CC","path.manager.mode.modify":"\uC810 \uD3B8\uC9D1","path.manager.mode.path":"\uC810 \uCD94\uAC00","path.manager.mode.warp":"\uC6CC\uD504","path.manager.mode.transform":"\uBCC0\uD615","path.manager.mode.reverse":"\uC21C\uC11C\uBCC0\uACBD","path.manager.mode.flipX":"X\uCD95 \uD68C\uC804","path.manager.mode.flipY":"Y\uCD95 \uD68C\uC804","path.manager.mode.flipOrigin":"\uC804\uCCB4 \uD68C\uC804","colorpicker.popup.title":"\uC0C9\uC0C1 \uC120\uD0DD","selector.popup.title":"\uC120\uD0DD\uC790 \uC18D\uC131","selector.popup.selector":"\uC120\uD0DD\uC790","background.image.position.popup.title":"\uBC30\uACBD \uD328\uD134","background.image.position.popup.size":"\uD06C\uAE30","background.image.position.popup.width":"\uB113\uC774","background.image.position.popup.height":"\uB192\uC774","background.image.position.popup.repeat":"\uBC18\uBCF5","background.image.position.popup.blend":"\uBE14\uB80C\uB4DC","background.image.position.popup.type.repeat":"\uBC18\uBCF5","background.image.position.popup.type.no-repeat":"\uBC18\uBCF5 \uC548\uD568","background.image.position.popup.type.repeat-x":"x\uCD95 \uBC18\uBCF5","background.image.position.popup.type.repeat-y":"y\uCD95 \uBC18\uBCF5","background.image.position.popup.type.space":"\uACF5\uBC31\uC720\uC9C0","background.image.position.popup.type.round":"\uBC18\uC62C\uB9BC","gradient.picker.popup.title":"\uADF8\uB77C\uB514\uC5B8\uD2B8\uC640 \uC774\uBBF8\uC9C0","image.asset.property.title":"\uC774\uBBF8\uC9C0","video.asset.property.title":"\uBE44\uB514\uC624","color.asset.property.title":"\uC0C9","gradient.asset.property.title":"\uADF8\uB77C\uB514\uC5B8\uD2B8","pattern.asset.property.title":"\uD328\uD134","svgfilter.asset.property.title":"SVG \uD544\uD130","inspector.tab.title.design":"\uB514\uC790\uC778","inspector.tab.title.component":"\uCEF4\uD3EC\uB10C\uD2B8 \uC18D\uC131","inspector.tab.title.transition":"\uC560\uB2C8\uBA54\uC774\uC158","inspector.tab.title.asset":"\uC5D0\uC14B \uAD00\uB9AC\uC790","inspector.tab.title.text":"\uD14D\uC2A4\uD2B8","inspector.tab.title.code":"\uCF54\uB4DC","inspector.tab.title.history":"\uAE30\uB85D","timeline.property.title":"\uD0C0\uC784\uB77C\uC778","timeline.property.resize":"\uD0C0\uC784\uB77C\uC778 \uB192\uC774\uB97C \uBCC0\uACBD\uD569\uB2C8\uB2E4. \uB4DC\uB798\uADF8 \uD574\uC8FC\uC138\uC694.","timeline.animation.property.title":"\uC560\uB2C8\uBA54\uC774\uC158","timeline.play.control.play":"\uD50C\uB808\uC774","timeline.play.control.pause":"\uBA48\uCDA4","timeline.play.control.first":"\uCC98\uC74C\uC73C\uB85C","timeline.play.control.prev":"\uC774\uC804\uC73C\uB85C","timeline.play.control.next":"\uB2E4\uC74C\uC73C\uB85C","timeline.play.control.last":"\uB9C8\uC9C0\uB9C9\uC73C\uB85C","timeline.play.control.direction":"\uBC29\uD5A5","timeline.play.control.speed":"\uC18D\uB825","timeline.play.control.repeat":"\uBC18\uBCF5","timeline.play.control.infinite":"\uBB34\uD55C","timeline.play.control.normal":"normal","timeline.play.control.alternate":"alternate","timeline.play.control.reverse":"reverse","timeline.play.control.alternate.reverse":"alternate reverse","timeline.value.editor.value":"\uAC12","timeline.value.editor.time":"\uC2DC\uAC04","timeline.value.editor.timing":"\uD0C0\uC774\uBC0D \uD568\uC218","timeline.value.editor.offset.message":"Enter\uD0A4\uB97C \uC785\uB825\uD558\uBA74 \uC801\uC6A9\uB429\uB2C8\uB2E4.","svgfilter.popup.title":"SVG \uD544\uD130","css.item.rotate":"\uD68C\uC804","css.item.rotateX":"X\uCD95 \uD68C\uC804","css.item.rotateY":"Y\uCD95 \uD68C\uC804","css.item.rotateZ":"Z\uCD95 \uD68C\uC804","css.item.rotate3d":"3D \uD68C\uC804","css.item.skewX":"X\uCD95 \uB298\uC774\uAE30","css.item.skewY":"Y\uCD95 \uB298\uC774\uAE30","css.item.translate":"\uC774\uB3D9","css.item.translateX":"X\uCD95 \uC774\uB3D9","css.item.translateY":"Y\uCD95 \uC774\uB3D9","css.item.translateZ":"Z\uCD95 \uC774\uB3D9","css.item.translate3d":"3D \uC774\uB3D9","css.item.perspective":"\uC6D0\uADFC","css.item.scale":"\uD06C\uAE30\uBCC0\uACBD","css.item.scaleX":"X\uCD95 \uD06C\uAE30\uBCC0\uACBD","css.item.scaleY":"Y\uCD95 \uD06C\uAE30\uBCC0\uACBD","css.item.scaleZ":"Z\uCD95 \uD06C\uAE30\uBCC0\uACBD","css.item.scale3d":"3D \uD06C\uAE30\uBCC0\uACBD","css.item.matrix":"\uBCC0\uD658 \uD589\uB82C","css.item.matrix3d":"3D \uBCC0\uD658 \uD589\uB82C","animation.property.title":"CSS \uC560\uB2C8\uBA54\uC774\uC158","animation.property.direction":"\uBC29\uD5A5","animation.property.play.state":"\uD50C\uB808\uC774 \uC0C1\uD0DC","animation.property.fill.mode":"\uCC44\uC6B0\uAE30 \uBAA8\uB4DC","animation.property.delay":"\uB300\uAE30\uC2DC\uAC04","animation.property.duration":"\uC2DC\uAC04","animation.property.iteration.count":"\uBC18\uBCF5 \uD69F\uC218","animation.property.select a keyframe":"\uD0A4\uD504\uB808\uC784\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694","animation.property.popup.title":"CSS \uC560\uB2C8\uBA54\uC774\uC158","animation.property.popup.timing.function":"\uD0C0\uC774\uBC0D \uD568\uC218","animation.property.popup.keyframe":"\uD0A4\uD504\uB808\uC784","animation.property.popup.direction":"\uBC29\uD5A5","animation.property.popup.play.state":"\uD50C\uB808\uC774 \uC0C1\uD0DC","animation.property.popup.fill.mode":"\uCC44\uC6B0\uAE30 \uBAA8\uB4DC","animation.property.popup.delay":"\uB300\uAE30\uC2DC\uAC04","animation.property.popup.duration":"\uC2DC\uAC04","animation.property.popup.iteration":"\uBC18\uBCF5 \uD69F\uC218","animation.property.popup.normal":"\uC2DC\uAC04\uC21C","animation.property.popup.reverse":"\uC5ED\uC2DC\uAC04\uC21C","animation.property.popup.alternate":"\uC655\uBCF5 \uC2DC\uAC04\uC21C","animation.property.popup.alternate-reverse":"\uC655\uBCF5 \uC5ED\uC2DC\uAC04\uC21C","animation.property.popup.none":"none","animation.property.popup.forwards":"forwards","animation.property.popup.backwards":"backwards","animation.property.popup.both":"both","animation.property.popup.Select a keyframe":"\uD0A4\uD504\uB808\uC784\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.","keyframe.popup.title":"\uD0A4\uD504\uB808\uC784","code.view.property.title":"\uCF54\uB4DC\uBDF0","svg.filter.editor.tab.filter":"\uD544\uD130","svg.filter.editor.tab.preset":"\uD504\uB9AC\uC14B","svg.filter.editor.tab.asset":"\uC5D0\uC14B","svg.filter.editor.GRAPHIC REFERENCES":"\uCC38\uC870 \uADF8\uB798\uD53D","svg.filter.editor.SOURCES":"\uC6D0\uBCF8","svg.filter.editor.MODIFIER":"\uC218\uC815","svg.filter.editor.LIGHTING":"\uBE5B","svg.filter.editor.COMBINERS":"\uACB0\uD569","svg.filter.editor.Template":"\uD15C\uD50C\uB9BF","layout.property.title":"\uB808\uC774\uC544\uC6C3","layout.property.flex":"\uD50C\uB809\uC2A4 \uBC15\uC2A4","layout.property.grid":"\uADF8\uB9AC\uB4DC","layout.property.default":"\uAE30\uBCF8 \uC88C\uD45C","layout.property.resizing.title":"\uC0AC\uC774\uC988 \uC870\uC808","layout.property.resizing.self.title":"\uC544\uC774\uD15C \uC0AC\uC774\uC988 \uC870\uC808","default.layout.item.property.title.constraints":"Constraints","flex.layout.editor.row":"\uD589","flex.layout.editor.column":"\uC5F4","flex.layout.editor.row-reverse":"\uC5ED\uBC29\uD5A5 \uD589","flex.layout.editor.column-reverse":"\uC5ED\uBC29\uD5A5 \uC5F4","flex.layout.editor.nowrap":"\uAC10\uC2F8\uC9C0 \uC54A\uAE30","flex.layout.editor.wrap":"\uAC10\uC2F8\uAE30","flex.layout.editor.wrap-reverse":"\uC5ED\uBC29\uD5A5 \uAC10\uC2F8\uAE30","flex.layout.editor.flex-start":"\uC2DC\uC791","flex.layout.editor.flex-end":"\uB05D","flex.layout.editor.center":"\uC911\uAC04","flex.layout.editor.space-between":"\uACF5\uAC04 \uC911\uAC04 \uCC44\uC6C0","flex.layout.editor.space-around":"\uACF5\uAC04 \uC591\uB05D \uCC44\uC6C0","flex.layout.editor.baseline":"\uAE30\uBCF8\uC120","flex.layout.editor.stretch":"\uD3BC\uCE58\uAE30","flex.layout.editor.direction":"\uBC29\uD5A5","flex.layout.editor.justify-content":"\uCEE8\uD150\uCE20 \uC870\uC815","flex.layout.editor.align-items":"\uC544\uC774\uD15C \uC815\uB82C","flex.layout.editor.align-content":"\uCEE8\uD150\uCE20 \uC815\uB82C","flex.layout.item.property.title":"\uD50C\uB809\uC2A4 \uC544\uC774\uD15C \uC124\uC815","flex.layout.item.property.grow":"\uACF5\uAC04 \uBE44\uC728","flex.layout.item.property.shrink":"\uCD95\uC18C \uBE44\uC728","flex.layout.item.property.basis":"\uCD08\uAE30 \uD06C\uAE30","flex.layout.item.property.none":"\uC5C6\uC74C","flex.layout.item.property.auto":"\uC790\uB3D9","flex.layout.item.property.value":"\uAC12","grid.layout.editor.template.columns":"\uC5F4","grid.layout.editor.column.gap":"\uC5F4 \uAC04\uACA9","grid.layout.editor.template.rows":"\uD589","grid.layout.editor.row.gap":"\uD589 \uAC04\uACA9","grid.box.editor.box.title":"\uC601\uC5ED","grid.box.editor.type":"\uD0C0\uC785","grid.box.editor.repeat":"\uBC18\uBCF5","grid.box.editor.length":"\uAE38\uC774","grid.box.editor.none":"\uC5C6\uC74C","grid.box.editor.auto":"\uC790\uB3D9","grid.box.editor.count":"\uAC1C\uC218","grid.box.editor.value":"\uD06C\uAE30","grid.layout.item.property.title":"\uADF8\uB9AC\uB4DC \uC544\uC774\uD15C \uC124\uC815","grid.layout.item.property.column":"\uC5F4","grid.layout.item.property.row":"\uD589","grid.layout.item.property.start":"\uC2DC\uC791","grid.layout.item.property.End":"\uB05D","grid.layout.item.property.none":"\uC5C6\uC74C","grid.layout.item.property.value":"\uAC12","box.model.property.title":"\uBC15\uC2A4 \uBAA8\uB378","box.model.property.margin":"\uB9C8\uC9C4","box.model.property.padding":"\uD328\uB529","component.items.canvas":"\uCE94\uBC84\uC2A4","component.items.layer":"\uB808\uC774\uC5B4","component.items.3dlayer":"3D \uB808\uC774\uC5B4","component.items.drawing":"\uADF8\uB9AC\uAE30","component.items.custom":"\uC0AC\uC6A9\uC790 \uC815\uC758 \uCEF4\uD3EC\uB10C\uD2B8","component.items.chart":"\uCC28\uD2B8","component.items.plugin":"\uD50C\uB7EC\uADF8\uC778","svg.text.property.title":"SVG Text \uC2A4\uD0C0\uC77C","svg.text.property.textarea":"\uD14D\uC2A4\uD2B8 \uC785\uB825","svg.text.property.size":"\uD3F0\uD2B8 \uD06C\uAE30","svg.text.property.weight":"\uD3F0\uD2B8 \uAD75\uAE30","svg.text.property.style":"\uD3F0\uD2B8 \uC2A4\uD0C0\uC77C","svg.text.property.anchor":"\uD14D\uC2A4\uD2B8 \uC704\uCE58","svg.text.property.family":"\uD3F0\uD2B8 \uAE00\uAF34","svg.text.property.length.adjust":"\uAE38\uC774 \uB300\uC751","svg.text.property.text.length":"\uD14D\uC2A4\uD2B8 \uAE38\uC774","svg.text.property.start.offset":"\uC2DC\uC791 \uC9C0\uC810","fill.picker.popup.title":"\uC0C9 \uCC44\uC6B0\uAE30","gradient.editor.drag.message":"\uB4DC\uB798\uADF8 \uD558\uBA74 \uC911\uC2EC\uC810\uC744 \uC62E\uAE38 \uC218 \uC788\uC2B5\uB2C8\uB2E4.","draw.manager.tolerance":"\uD3EC\uC778\uD2B8 \uD5C8\uC6A9 \uC624\uCC28","pattern.property.title":"\uD328\uD134","pattern.info.popup.title":"\uD328\uD134 \uC815\uBCF4","pattern.info.popup.width":"\uB113\uC774","pattern.info.popup.height":"\uB192\uC774","pattern.info.popup.lineWidth":"\uC120 \uB113\uC774","pattern.info.popup.lineHeight":"\uC120 \uB192\uC774","pattern.info.popup.rotate":"\uD68C\uC804","pattern.info.popup.blend":"\uBE14\uB80C\uB4DC","pattern.info.popup.foreColor":"\uD328\uD134\uC0C9","pattern.info.popup.backColor":"\uBC30\uACBD\uC0C9","stroke.dasharray.editor.add":"\uC810 \uCD94\uAC00","viewport.panning.enable":"space \uB97C \uB204\uB978\uCC44 \uD654\uBA74\uC744 \uB4DC\uB798\uADF8 \uD558\uBA74 \uC601\uC5ED\uC744 \uC6C0\uC9C1\uC77C \uC218 \uC788\uC2B5\uB2C8\uB2E4."},rV={"app.title":"EASYLOGIC","app.sample":(a,t,r)=>`${a}-${t}-${r}`,"app.lang.en_US":"English","app.lang.ko_KR":"\uD55C\uAD6D\uC5B4","app.lang.fr_FR":"Fran\xE7ais","app.label.lang":"Langue","app.layout.all":"Layout","app.layout.css":"CSS Mode","app.layout.svg":"SVG Mode","app.label.layout":"Menu Layout","app.theme.dark":"Sombre","app.theme.light":"Clair","app.theme.gray":"Gris","app.label.theme":"Th\xE8me","app.tab.title.projects":"Projets","app.tab.title.layers":"Objets","app.tab.title.libraries":"Librarie","app.tab.title.components":"Objet","app.tab.title.artboards":"Artboard","app.tab.title.assets":"Elements","app.tab.title.keyMap":"Clavier","app.confirm.message.artboard.items.removeArtboard":"Do you remove an artboard preview really?","app.confirm.message.custom-component.items.removeCustomComponent":"Do you remove a custom component preview really?","menu.item.download.title":"T\xE9l\xE9charger","menu.item.save.title":"Enregistrer","menu.item.export.title":"Exporter","menu.item.codepen.title":"CodePen","menu.item.fullscreen.title":"Ecran","menu.item.shortcuts.title":"ShortCuts","menu.item.github.title":"Github","menu.item.learn.title":"Docs","menu.item.projects.title":"Projects","project.property.title":"Projet","project.information.property.title":"Information","project.information.property.name":"Nom","project.information.property.description":"Description","artboard.property.title":"Planche","artboard.property.layout.title.flex":"Flex","artboard.property.layout.title.grid":"Grille","layer.tree.property.title":"Objets","layer.tree.property.layout.title.flex":"Flex","layer.tree.property.layout.title.grid":"Grille","alignment.property.title":"Alignment","position.property.title":"Position","position.property.X":"X","position.property.Y":"Y","size.property.title":"Taille","position.property.width":"Largeur","position.property.height":"Hauteur","position.property.opacity":"Opacity","position.property.rotate":"Rotate","background.color.property.title":"Apparance","background.color.property.color":"Couleur","background.color.property.zindex":"z-index","background.color.property.opacity":"Opacit\xE9","background.color.property.blend":"M\xE9lange","background.color.property.overflow":"D\xE9bordement","background.color.property.overflow.visible":"Visible","background.color.property.overflow.hidden":"Cach\xE9","background.color.property.overflow.scroll":"Scroll","background.color.property.overflow.auto":"Auto","blend.normal":"normal","blend.multiply":"multiplie","blend.screen":"\xE9cran","blend.overlay":"couche","blend.darken":"sombre","blend.lighten":"clair","blend.color-dodge":"dodge","blend.color-burn":"brul\xE9","blend.hard-light":"dur","blend.soft-light":"doux","blend.difference":'diff"rence',"blend.exclusion":"exclusion","blend.hue":"teinte","blend.saturation":"saturation","blend.color":"couleur","blend.luminosity":"luminosit\xE9","background.image.property.title":"Remplissage","border.property.title":"Bordure","border.radius.property.title":"Rayon de bordure","boxshadow.property.title":"Ombres","filter.property.title":"Filtre","filter.property.blur":"Flou","filter.property.grayscale":"Echelle de gris","filter.property.hue-rotate":"Rotation teinte","filter.property.invert":"Invertir","filter.property.brightness":"Luminosit\xE9","filter.property.contrast":"Contraste","filter.property.drop-shadow":"Ombre port\xE9e","filter.property.drop-shadow.color":"Couleur","filter.property.drop-shadow.offsetX":"D\xE9calage X","filter.property.drop-shadow.offsetY":"D\xE9calage Y","filter.property.drop-shadow.blurRadius":"Flou","filter.property.opacity":"Opacit\xE9","filter.property.saturate":"Saturation","filter.property.sepia":"S\xE9pia","filter.property.svg":"SVG","font.property.title":"Police","font.property.color":"Couleur","font.property.size":"Taille","font.property.stretch":"Etirement","font.property.weight":"Poids","font.property.style":"Style","font.property.family":"Famille","font.spacing.property.title":"Espaces du texte","font.spacing.property.lineHeight":"Hauteur de ligne","font.spacing.property.letterSpacing":"Espace inter-caract\xE8res","font.spacing.property.wordSpacing":"Espace inter-mots","font.spacing.property.indent":"Identation","backdrop.filter.property.title":"Filtre Backdrop","clippath.property.title":"Chemin du Clip","export.property.title":"Exporter","export.property.download":"T\xE9l\xE9charger","iframe.property.title":"IFrame","image.property.title":"Image","image.property.origin":"Origine","image.property.size":"Taille","image.property.width":"Largeur","image.property.height":"Hauteur","video.property.title":"Video","video.property.play":"Jouer","video.property.pause":"Pause","video.property.volume":"Volume","video.property.playbackRate":"Vitesse de lecture","video.property.currentTime":"Temps actuel","video.property.playTime":"Temps de lecture","motion.property.title":"Mouvement","text.property.title":"Style Texte","text.property.align":"Alignement","text.property.transform":"Transformation","text.property.decoration":"D\xE9coration","text.clip.property.title":"Clip Texte","text.shadow.property.title":"Ombres Texte","text.fill.property.title":"Remplissage Texte","text.fill.property.fill":"Remplissage","text.fill.property.stroke":"Trait","text.fill.property.strokeWidth":"Largeur","transform.property.title":"Transformation","transform.origin.property.title":"Origine Transformation","transition.property.title":"Transition CSS","keyframe.property.title":"Image cl\xE9 CSS","selector.property.title":"S\xE9l\xE9cteur","selector.property.none":"Aucun s\xE9l\xE9cteur","path.data.property.title":"Information Chemin","polygon.data.property.title":"Information Polygone","perspective.property.title":"Perspective","perspective.origin.property.title":"Origine Perspective","svg.item.property.title":"Appearance","svg.item.property.isMotionPath":"Chemin de mouvement","svg.item.property.fill":"Remplissage","svg.item.property.fillOpacity":"Opacit\xE9","svg.item.property.path":"Chemin","svg.item.property.polygon":"Polygone","svg.item.property.totalLength":"Longueur totale","svg.item.property.fillRule":"R\xE8gle remplissage","svg.item.property.stroke":"Trait","svg.item.property.strokeWidth":"Largeur de trait","svg.item.property.dashArray":"Suite tiret","svg.item.property.dashOffset":"D\xE9calage tiret","svg.item.property.lineCap":"Chapeau Ligne","svg.item.property.lineJoin":"Jonction ligne","svg.item.property.filter":"Filtre","svg.item.property.blend":"Blend Mode","border.editor.all":"Tout","border.editor.width":"Largeur","border.editor.style":"Style","border.editor.color":"Couleur","border.editor.top":"Haut","border.editor.left":"Gauche","border.editor.right":"Droite","border.editor.bottom":"Bas","border.radius.editor.topLeft":"Haut gauche","border.radius.editor.topRight":"Haut droite","border.radius.editor.bottomLeft":"Bas gauche","border.radius.editor.bottomRight":"Bas droite","boxshadow.editor.blur":"Flou","boxshadow.editor.spread":"Etalement","css.property.editor.properties":"Propri\xE9t\xE9s","offset.path.list.editor.path":"Chemin","offset.path.list.editor.totalLength":"Longueur totale","offset.path.list.editor.distance":"Distance","offset.path.list.editor.direction":"Direction","offset.path.list.editor.rotate":"Rotation","svgfilter.select.editor.message.create":"Cr\xE9er un filtre svg","svgfilter.select.editor.message.select":"S\xE9lection filtre","fill.editor.message.click.image":"Cliquez sur aper\xE7u si vous souhaitez s\xE9lectionner une image","fill.editor.message.drag.position":"Prendre pour changer la position centrale","fill.editor.x1":"D\xE9but X","fill.editor.x2":"Fin X","fill.editor.y1":"D\xE9but Y","fill.editor.y2":"Fin Y","fill.editor.spread":"Etalement","fill.editor.offset":"D\xE9calage","fill.editor.cx":"Centre X","fill.editor.cy":"Centre Y","fill.editor.r":"Rayon de fin","fill.editor.fx":"D\xE9part X","fill.editor.fy":"D\xE9part Y","fill.editor.fr":"Rayon de d\xE9part","perspective.origin.editor.originX":"Origine X","perspective.origin.editor.originY":"Origine Y","path.manager.msg":"Appuyer ESC ou Entr\xE9z keypour fermer Edition","path.manager.mode.done":"Done","path.manager.mode.modify":"Modifier","path.manager.mode.path":"Chemin","path.manager.mode.warp":"Warp","path.manager.mode.transform":"Transformer","path.manager.mode.reverse":"Reverse","path.manager.mode.flipX":"Retouner X","path.manager.mode.flipY":"Retouner Y","path.manager.mode.flipOrigin":"Retouner Origine","colorpicker.popup.title":"Pipette","selector.popup.title":"Propi\xE9t\xE9 de S\xE9lecteur","selector.popup.selector":"S\xE9lecteur","background.image.position.popup.title":"Motif de fond","background.image.position.popup.size":"Taille","background.image.position.popup.width":"Largeur","background.image.position.popup.height":"Hauteur","background.image.position.popup.repeat":"Rep\xE8te","background.image.position.popup.blend":"M\xE9lange","background.image.position.popup.type.repeat":"rep\xE8te","background.image.position.popup.type.no-repeat":"sans rep\xE9tition","background.image.position.popup.type.repeat-x":"rep\xE8te-x","background.image.position.popup.type.repeat-y":"rep\xE8te-y","background.image.position.popup.type.space":"espace","background.image.position.popup.type.round":"rond","gradient.picker.popup.title":"S\xE9lection Gradient & Image","image.asset.property.title":"Image","video.asset.property.title":"Vid\xE9o","color.asset.property.title":"Couleur","gradient.asset.property.title":"Gradient","pattern.asset.property.title":"Motif","svgfilter.asset.property.title":"Filtre SVG","inspector.tab.title.design":"Design","inspector.tab.title.component":"Composant","inspector.tab.title.transition":"Animation","inspector.tab.title.asset":"El\xE9ments","inspector.tab.title.text":"Texte","inspector.tab.title.code":"Code","inspector.tab.title.history":"History","inspector.tab.title.history":"History","timeline.property.title":"Chronologie","timeline.property.resize":"Drag if you want to resize timeline height.","timeline.animation.property.title":"Animations","timeline.play.control.play":"Jouer","timeline.play.control.pause":"Pause","timeline.play.control.first":"Premier","timeline.play.control.prev":"Pr\xE9c\xE9dent","timeline.play.control.next":"Suivant","timeline.play.control.last":"Dernier","timeline.play.control.direction":"Direction","timeline.play.control.speed":"Vitesse","timeline.play.control.repeat":"R\xE9p\xE9ter","timeline.play.control.infinite":"Infini","timeline.play.control.normal":"normal","timeline.play.control.alternate":"alternatif","timeline.play.control.reverse":"inverse","timeline.play.control.alternate.reverse":"inverse alternatif","timeline.value.editor.value":"Valeur","timeline.value.editor.time":"Temps","timeline.value.editor.timing":"Calage temps","timeline.value.editor.offset.message":"Please input enter key to change time offset.","svgfilter.popup.title":"Filtre SVG","css.item.rotate":"Rotation","css.item.rotateX":"Rotation X","css.item.rotateY":"Rotation Y","css.item.rotateZ":"Rotation Z","css.item.rotate3d":"Rotation 3D","css.item.skewX":"Oblique X","css.item.skewY":"Oblique Y","css.item.translate":"Translation","css.item.translateX":"Translation X","css.item.translateY":"Translation Y","css.item.translateZ":"Translation Z","css.item.translate3d":"Translation 3D","css.item.perspective":"Persp\xE9ctive","css.item.scale":"Echelle","css.item.scaleX":"Echelle X","css.item.scaleY":"Echelle Y","css.item.scaleZ":"Echelle Z","css.item.scale3d":"Echelle 3D","css.item.matrix":"Matrice","css.item.matrix3d":"Matrice 3D","animation.property.title":"Animation CSS","animation.property.direction":"Direction","animation.property.play.state":"Etat lecture","animation.property.fill.mode":"Mode remplissage","animation.property.delay":"D\xE9lais","animation.property.duration":"Dur\xE9e","animation.property.iteration.count":"Nombre It\xE9rations","animation.property.Select a keyframe":"Selectionner une image cl\xE9","animation.property.popup.title":"Animation","animation.property.popup.timing.function":"Fonction temps","animation.property.popup.keyframe":"image cl\xE9","animation.property.popup.direction":"Direction","animation.property.popup.play.state":"Etat lecture","animation.property.popup.fill.mode":"Mode remplissage","animation.property.popup.delay":"D\xE9lais","animation.property.popup.duration":"Dur\xE9\xE9","animation.property.popup.iteration":"It\xE9ration","animation.property.popup.normal":"normal","animation.property.popup.reverse":"inverse","animation.property.popup.alternate":"alternatif","animation.property.popup.alternate-reverse":"inverse alternatif","animation.property.popup.none":"Aucun","animation.property.popup.forwards":"en avant","animation.property.popup.backwards":"en arri\xE8re","animation.property.popup.both":"les deux","animation.property.popup.Select a keyframe":"Selectionner une image cl\xE9","keyframe.popup.title":"image cl\xE9","code.view.property.title":"Vue code","svg.filter.editor.tab.filter":"Filtrer","svg.filter.editor.tab.preset":"Pre-rempli","svg.filter.editor.tab.asset":"El\xE9ments","svg.filter.editor.GRAPHIC REFERENCES":"REFERENCES GRAPHIQUES","svg.filter.editor.SOURCES":"SOURCES","svg.filter.editor.MODIFIER":"MODIFIER","svg.filter.editor.LIGHTING":"ECLAIRAGE","svg.filter.editor.COMBINERS":"COMBINER","svg.filter.editor.Template":"Mod\xE8le","layout.property.title":"Disposition","layout.property.flex":"Bo\xEEte Flex","layout.property.grid":"Grille","layout.property.default":"D\xE9faut","layout.property.resizing.title":"Resizing","layout.property.resizing.self.title":"Self Resizing","default.layout.item.property.title.constraints":"Constraints","flex.layout.editor.row":"Ligne","flex.layout.editor.column":"Colonne","flex.layout.editor.row-reverse":"Inverse ligne","flex.layout.editor.column-reverse":"Inverse Colonne","flex.layout.editor.nowrap":"Non-emball\xE9","flex.layout.editor.wrap":"Emball\xE9 (wrap)","flex.layout.editor.wrap-reverse":"Inverse emball\xE9","flex.layout.editor.flex-start":"D\xE9but","flex.layout.editor.flex-end":"Fin","flex.layout.editor.center":"Centrer","flex.layout.editor.space-between":"Entre","flex.layout.editor.space-around":"Autour","flex.layout.editor.baseline":"Base","flex.layout.editor.stretch":"Etirement","flex.layout.editor.direction":"Direction","flex.layout.editor.justify-content":"Justifier","flex.layout.editor.align-items":"Aligner objets","flex.layout.editor.align-content":"Aligner contenu","flex.layout.item.property.title":"D\xE9tail Disposition objet","flex.layout.item.property.grow":"Augmenter Flex","flex.layout.item.property.shrink":"R\xE9duire Flex","flex.layout.item.property.basis":"Base Flex","flex.layout.item.property.none":"Aucun","flex.layout.item.property.auto":"auto","flex.layout.item.property.value":"valeur","grid.layout.editor.template.columns":"Colonne","grid.layout.editor.column.gap":"Espace Colonne","grid.layout.editor.template.rows":"Lignes","grid.layout.editor.row.gap":"Espace lignes","grid.box.editor.box.title":"Bo\xEEte","grid.box.editor.type":"Type","grid.box.editor.repeat":"R\xE9p\xE9ter","grid.box.editor.length":"Longueur","grid.box.editor.none":"Aucun","grid.box.editor.auto":"Auto","grid.box.editor.count":"Compte","grid.box.editor.value":"Taille","grid.layout.item.property.title":"D\xE9tail disposition objets","grid.layout.item.property.column":"Colonne","grid.layout.item.property.row":"Ligne","grid.layout.item.property.start":"D\xE9but","grid.layout.item.property.end":"Fin","grid.layout.item.property.none":"Aucun","grid.layout.item.property.value":"valeur","box.model.property.title":"Mod\xE8le","box.model.property.margin":"Marge","box.model.property.padding":"Espace","component.items.canvas":"Toile","component.items.layer":"Objet","component.items.3dlayer":"Objet 3D","component.items.drawing":"Dessin","component.items.custom":"Composant personnalis\xE9","component.items.chart":"Chart","component.items.plugin":"Plugin","svg.text.property.title":"Style SVG Texte","svg.text.property.textarea":"Zone Texte","svg.text.property.size":"Taille","svg.text.property.weight":"Poids","svg.text.property.style":"Style","svg.text.property.anchor":"Ancre Texte","svg.text.property.family":"Famille","svg.text.property.length.adjust":"Ajusteement longueur","svg.text.property.text.length":"Ajusteement Texte","svg.text.property.start.offset":"D\xE9callage d\xE9part","fill.picker.popup.title":"S\xE9lection Fragment SVG","gradient.editor.drag.message":"Glisser pour d\xE9placer centre.","draw.manager.tolerance":"Tol\xE9rance","pattern.property.title":"Motif","pattern.info.popup.title":"Info Motif","pattern.info.popup.width":"Largeur","pattern.info.popup.height":"Hauteur","pattern.info.popup.lineWidth":"Largeur ligne","pattern.info.popup.lineHeight":"Hauteur de ligne","pattern.info.popup.rotate":"Rotatation","pattern.info.popup.blend":"M\xE9lange","pattern.info.popup.foreColor":"Avant","pattern.info.popup.backColor":"Arri\xE8re","stroke.dasharray.editor.add":"Ajout tiret","viewport.panning.enable":"You can move the area by holding down space and dragging the screen."},lu={en_US:eV,fr_FR:rV,ko_KR:tV};function cu(a){Object.keys(lu).forEach(function(t){a.registerI18nMessage(t,lu[t])})}var iV=`
<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
    <path d="M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z"/>
</svg>
`,C7="";class hu extends K{components(){return{Tabs:$d}}template(){const t=this.$config.get("editor.design.mode")==="item";return A("div",{class:"elf--texture"},A("object",{refClass:"Tabs",ref:"$tab",selectedValue:t?"svg":"css",onchange:r=>{this.$config.set("inspector.selectedValue",r)}},t?"":A("object",{refClass:"TabPanel",value:"css",title:"CSS"},A("object",{refClass:"CSSTextureView"})),A("object",{refClass:"TabPanel",value:"svg",title:"SVG"},A("object",{refClass:"SVGTextureView"}))))}}const du=[{itemType:"circle",name:"base",attrs:{"background-color":"#ececec"}},{itemType:"circle",name:"base",attrs:{"background-color":"black"}},{itemType:"circle",name:"base",attrs:{"background-color":"red"}},{itemType:"circle",name:"base",attrs:{"background-image":`
      background-image: linear-gradient(to right, #ececec, black 100%);
    `}},{itemType:"circle",name:"base",attrs:{"background-image":`
      background-image: linear-gradient(to right, #ececec, black 100%);
    `,border:`
      border:10px solid black;
    `}}];class sV extends K{template(){return`
      <div class="pattern-list css-pattern-list" ref="$css-list"></div>
    `}[U("$css-list")](){return du.map((t,r)=>{const i=this.$editor.svg.render(this.$model.createModel(v({itemType:t.itemType,width:70,height:70},t.attrs),!1));return`
        <div class="pattern-item" data-index="${r}">
          <div class="preview">${i}</div>
        </div>
      `})}[F("$css-list .pattern-item")](t){const r=+t.$dt.data("index"),i=du[r];t.$dt.onlyOneClass("selected"),this.emit("addLayerView",i.itemType,i.attrs)}}const uu=[{itemType:"svg-path",name:"path",attrs:{"background-color":"transparent",stroke:"black","stroke-width":2,d:W.makeRect(0,0,80,80).d}},{itemType:"svg-path",name:"line",attrs:{"background-color":"transparent",stroke:"black","stroke-width":2,d:W.makeLine(0,0,80,80).d}},{itemType:"svg-path",name:"line 2",attrs:{"background-color":"transparent",stroke:"black","stroke-width":2,fill:"#ececec",d:W.makeLine(0,80,80,0).d}},{itemType:"svg-path",name:"circle",attrs:{"background-color":"transparent",stroke:"black","stroke-width":2,fill:"#ececec",originWidth:80,originHeight:80,d:W.makeCircle(0,0,80,80).d}},{itemType:"polygon",name:"polygon - 3",attrs:{"background-color":"transparent",stroke:"black","stroke-width":2,fill:"#ececec",count:3,originWidth:80,originHeight:80,d:W.makePolygon(80,80,3).d}},{itemType:"polygon",name:"polygon - 4",attrs:{"background-color":"transparent",stroke:"black","stroke-width":2,fill:"#ececec",count:4,originWidth:80,originHeight:80,d:W.makePolygon(80,80,4).d}},{itemType:"polygon",name:"polygon - 4",attrs:{"background-color":"transparent",stroke:"black","stroke-width":2,fill:"#ececec",count:5,originWidth:80,originHeight:80,d:W.makePolygon(80,80,5).d}},{itemType:"polygon",name:"polygon - 4",attrs:{"background-color":"transparent",stroke:"black","stroke-width":2,fill:"#ececec",count:6,originWidth:80,originHeight:80,d:W.makePolygon(80,80,6).d}},{itemType:"polygon",name:"polygon - 4",attrs:{"background-color":"transparent",stroke:"black","stroke-width":2,fill:"#ececec",count:7,originWidth:80,originHeight:80,d:W.makePolygon(80,80,7).d}},{itemType:"polygon",name:"polygon - 4",attrs:{"background-color":"transparent",stroke:"black","stroke-width":2,fill:"#ececec",count:12,originWidth:80,originHeight:80,d:W.makePolygon(80,80,12).d}},{itemType:"star",name:"star - 5",attrs:{"background-color":"transparent",stroke:"black","stroke-width":2,fill:"#ececec",originWidth:80,originHeight:80,count:5,radius:.5,d:W.makeStar(80,80,5,.5).d}},{itemType:"star",name:"curved star - 5",attrs:{"background-color":"transparent",stroke:"black","stroke-width":2,fill:"#ececec",originWidth:80,originHeight:80,count:5,radius:.5,d:W.makeCurvedStar(80,80,5,.5).d}}];class aV extends K{template(){return`
      <div class="pattern-list svg-pattern-list" ref="$svg-list"></div>
    `}[U("$svg-list")](){return uu.map((t,r)=>{let i=t.attrs.d;if(i){const n=W.fromSVGString(i);if(t.attrs.originWidth)n.rect(),n.scale(60/t.attrs.originWidth,60/t.attrs.originHeight);else{const o=n.rect();n.scale(70/o.width,70/o.height)}i=n.d}const s=this.$editor.svg.render(this.$model.createModel(le(v({itemType:t.itemType,width:80,height:80},t.attrs),{d:i}),!1));return`
        <div class="pattern-item" data-index="${r}">
          <div class="preview">${s}</div>
        </div>
      `})}[F("$svg-list .pattern-item")](t){const r=+t.$dt.data("index"),i=uu[r];t.$dt.onlyOneClass("selected"),this.emit("addLayerView",i.itemType,i.attrs)}}function nV(a){a.registerElement({TextureView:hu,CSSTextureView:sV,SVGTextureView:aV}),a.registerUI("leftbar.tab",{TextureView:{value:"texture",title:"Texture",icon:iV,designMode:["design","item"]}}),a.registerUI("leftbar.tab.texture",{TextureView:hu})}var k7="";class oV extends De{getTitle(){return this.$i18n("export.property.title")}isFirstShow(){return!0}getClassName(){return"elf--export-property"}getBody(){return`
        <div class='export-item svg'>
          <label>SVG</label>
          <button ref='$svg'>${O("archive")} ${this.$i18n("export.property.download")}</button>
        </div>
        <div class='export-item png'>
          <label>PNG</label>
          <button ref='$png'>${O("archive")} ${this.$i18n("export.property.download")}</button>
        </div> 
      `}[F("$svg")](){this.emit("downloadSVG")}[F("$png")](){this.emit("downloadPNG")}}function lV(a){a.registerUI("inspector.tab.style",{ExportProperty:oV})}const cV=["blur","grayscale","hue-rotate","invert","brightness","contrast","drop-shadow","opacity","saturate","sepia","svg"];var T7="";class hV extends De{getTitle(){return this.$i18n("filter.property.title")}hasKeyframe(){return!0}isFirstShow(){return!0}afterRender(){this.show()}getKeyframeProperty(){return"filter"}getTitleClassName(){return"filter"}getBodyClassName(){return"no-padding"}getBody(){return"<div class='full filter-property' ref='$body'></div>"}getTools(){return`
      <select class='filter-select' ref="$filterSelect">      
      </select>
      <button type="button" ref="$add" title="add Filter">${O("add")}</button>
    `}[F("$add")](){var t=this.refs.$filterSelect.value;this.children.$filterEditor.trigger("add",t)}[U("$filterSelect")](){var t=cV.map(s=>({title:this.$i18n(`filter.property.${s}`),value:s})),r=this.getSVGFilterList(),i=[];return r.length?i=[...t,{title:"-------",value:""},...r]:i=[...t],i.map(s=>{var{title:n,value:o}=s;return`<option value='${o}'>${n}</option>`})}getSVGFilterList(){var t=this.$selection.currentProject,r=[];return t&&(r=t.svgfilters.map(i=>{var s=i.id;return{title:`svg - #${s}`,value:s}})),r}[U("$body")](){var t=this.$selection.current||{},r=t.filter;return E("FilterEditor",{ref:"$filterEditor",key:"filter",value:r,onchange:"changeFilterEditor"})}[Q("changeFilterEditor")](t,r){this.command("setAttributeForMulti","change filter",this.$selection.packByValue({[t]:r}))}get editableProperty(){return"filter"}[I("refreshSelection")+Se("checkShow")+Xe(100)](){this.refresh()}[I("refreshSVGArea")+Xe(100)](){this.load("$filterSelect")}}function dV(a){a.registerUI("inspector.tab.style",{FilterProperty:hV})}function uV(a){a.registerUI("inspector.tab.style",{FontProperty:Ua.create({title:a.$i18n("font.property.title"),editableProperty:"font",preventUpdate:!0})}),a.registerInspector("font",t=>[{key:"font-family",editor:"SelectEditor",editorOptions:{compact:!0,label:"font_download",options:["","Arial","Arial Black","Times New Roman","Times","Courier New","Courier","Verdana","Georgia","Palatino","Garamond","Bookman","Tahoma","Trebuchet MS","Impact","Comic Sans MS","serif","sans-serif","monospace","cursive","fantasy","system-ui"]},defaultValue:t["font-family"]||""},{type:"column",size:[2,1,1],columns:[{key:"color",editor:"ColorViewEditor",editorOptions:{compact:!0},defaultValue:t.color||"#000"},{key:"font-size",editor:"NumberInputEditor",editorOptions:{label:"format_size",compact:!0,min:8,max:100,step:1},defaultValue:g.parse(t["font-size"]).value,convert:(r,i)=>g.px(i)},{key:"font-weight",editor:"NumberInputEditor",editorOptions:{label:"format_bold",compact:!0,min:100,max:900,step:100},defaultValue:t["font-weight"]||400}]},{type:"column",size:[1,1,1],gap:10,columns:[{key:"text-indent",editor:"NumberInputEditor",editorOptions:{label:"format_indent",min:-100,max:100,step:1,compact:!0},defaultValue:g.parse(t["text-indent"]).value,convert:(r,i)=>g.px(i)},{key:"line-height",editor:"NumberInputEditor",editorOptions:{label:"format_line_spacing",min:0,max:10,step:.01,compact:!0},defaultValue:t["line-height"]||1.2},{key:"letter-spacing",editor:"NumberInputEditor",editorOptions:{label:"space",min:-100,max:100,step:1,compact:!0},defaultValue:g.parse(t["letter-spacing"]).value,convert:(r,i)=>g.px(i)}]}])}var M7="";class pV extends K{initState(){var i;const t=tt.parseImage(this.props.value||"transparent")||Di.create(),r=(i=t.colorsteps[this.props.index])==null?void 0:i.id;return this.$selection.selectColorStep(r),r&&(this.currentStep=t.colorsteps.find(s=>this.$selection.isSelectedColorStep(s.id))),{cachedRect:null,index:+(this.props.index||0),value:this.props.value,image:t}}setValue(t){this.setState({cachedRect:null,image:tt.parseImage(t)},!1),this.refresh()}template(){return`
        <div class='elf--fill-editor'>
            <div class='gradient-steps' data-editor='gradient'>
                <div class="hue-container" ref="$back"></div>            
                <div class="hue" ref="$steps">
                    <div class='step-list' ref="$stepList" ></div>
                </div>
            </div>               
            <div class='sub-editor' ref='$subEditor'> 
                <div data-editor='patternUnits'>
                  ${E("SelectEditor",{label:"Pattern",ref:"$patternUnits",options:["userSpaceOnUse"],key:"patternUnits",onchange:"changeKeyValue"})}
                </div>                  
                                                                                                                                
            </div>            
        </div>
      `}getImageFieldValue(t,r){var i=t[r];if(xt(i))switch(r){case"cx":case"cy":case"r":case"fx":case"fy":return"50%";case"x1":case"y1":case"y2":case"fr":case"imageX":case"imageY":return"0%";case"x2":case"patternWidth":case"patternHeight":case"imageWidth":case"imageHeight":return"100%"}return i}[Cr("$file")](t){var r=this.$selection.currentProject;r&&[...t.target.files].forEach(i=>{this.emit("updateImageAssetItem",i,s=>{this.trigger("setImageUrl",s)})})}refreshFieldValue(){this.children.$cx.setValue(this.state.image.cx),this.children.$cy.setValue(this.state.image.cy),this.children.$r.setValue(this.state.image.r),this.children.$fx.setValue(this.state.image.fx),this.children.$fy.setValue(this.state.image.fy),this.children.$fr.setValue(this.state.image.fr),this.children.$patternUnits.setValue(this.state.image.patternUnits),this.children.$patternWidth.setValue(this.state.image.patternWidth),this.children.$patternHeight.setValue(this.state.image.patternHeight),this.children.$imageX.setValue(this.state.image.imageX),this.children.$imageY.setValue(this.state.image.imageY),this.children.$imageWidth.setValue(this.state.image.imageWidth),this.children.$imagenHeight.setValue(this.state.image.imageHeight)}getFieldValue(t){return g.parse(this.getImageFieldValue(this.state.image,t))}getRectRate(t,r,i){var{width:s,height:n,x:o,y:l}=t;o>r?r=o:o+s<r&&(r=o+s),l>i?i=l:l+n<i&&(i=l+n);var c=g.makePercent(r-o,s),h=g.makePercent(i-l,n);return{left:c,top:h}}[Q("changeTabType")](t){var n,o;const r=(n=this.state.image)==null?void 0:n.type,i=((o=this.state.image)==null?void 0:o.colorsteps)||[];i.length===1&&i.push(i[0]),r===N.STATIC&&(i.length===0?i.push(i[0],i[0]):i.length===1&&i.push(i[0]));var s=t==="image-resource"?this.state.image.url:this.state.url;this.state.image=tt.changeImageType({type:t,url:s,colorsteps:i,spreadMethod:this.state.image.spreadMethod}),this.refresh(),this.updateData()}[Q("changeKeyValue")](t,r){this.state.image.reset({[t]:r}),this.updateData()}[I("changeColorStepOffset")](t,r){this.currentStep&&(this.currentStep.percent=r.value,this.state.image.sortColorStep(),this.refresh(),this.updateData())}[F("$back")](t){var r=this.refs.$stepList.rect(),i=r.x,s=r.right,n=t.xy.x;n<i?n=i:n>s&&(n=s);var o=(n-i)/r.width*100;this.state.image.insertColorStep(o),this.state.image.sortColorStep(),this.refresh(),this.updateData()}[se("$el")](){var t=this.state.image.type;return t==="url"&&(t="image-resource"),{"data-selected-editor":t}}[se("$stepList")](){return{style:{"background-image":this.getLinearGradient()}}}[U("$stepList")](){var t=this.state.image.colorsteps||[];return t.map((r,i)=>{var s=this.$selection.isSelectedColorStep(r.id)?"selected":"";return`
      <div class='step ${s}' data-id='${r.id}' data-cut='${r.cut}' tabindex="-1" style='left: ${r.toLength()};'>
        <div class='color-view' style="background-color: ${r.color}">
          <span>${Math.floor(r.percent*10)/10}</span>
        </div>
        <div class='arrow'></div>
      </div>`})}removeStep(t){this.state.image.removeColorStep(t),this.refresh(),this.updateData()}selectStep(t){this.state.id=t,this.$selection.selectColorStep(t),this.state.image.colorsteps&&(this.currentStep=this.state.image.colorsteps.find(r=>this.$selection.isSelectedColorStep(r.id)),this.parent.trigger("selectColorStep",this.currentStep.color)),this.refresh()}[Xt("$el .step")](t){const r=t.$dt.data("id");switch(t.code){case"Delete":case"Backspace":this.removeStep(r);break;case"BracketRight":this.sortToRight(r);break;case"BracketLeft":this.sortToLeft(r);break;case"Equal":this.appendColorStep(r);break;case"Minus":this.prependColorStep(r);break}}sortToRight(t){this.state.image.sortToRight(),this.refresh(),this.updateData(),this.doFocus(t)}sortToLeft(t){this.state.image.sortToLeft(),this.refresh(),this.updateData(),this.doFocus(t)}appendColorStep(t){const r=this.state.image.colorsteps.findIndex(o=>o.id===t),i=r+1,s=this.state.image.colorsteps[r],n=this.state.image.colorsteps[i];n?this.state.image.insertColorStep(s.percent+(n.percent-s.percent)/2):s.percent!==100&&this.state.image.insertColorStep(s.percent+(100-s.percent)/2),this.refresh(),this.updateData(),this.doFocus(t)}doFocus(t){this.nextTick(()=>{this.refs.$stepList.$(".step[data-id='"+t+"']").focus()},100)}prependColorStep(t){const r=this.state.image.colorsteps.findIndex(o=>o.id===t),i=r-1,s=this.state.image.colorsteps[r],n=this.state.image.colorsteps[i];n?this.state.image.insertColorStep(n.percent+(s.percent-n.percent)/2):s.percent!==0&&this.state.image.insertColorStep(s.percent),this.refresh(),this.updateData(),this.doFocus(t)}[xe("$stepList .step")+Ve()+ze()](t){var r=t.$dt.attr("data-id");if(t.altKey)return this.removeStep(r),!1;t.$dt.focus(),this.isSelectedColorStep=this.$selection.isSelectedColorStep(r),this.selectStep(r),this.startXY=t.xy,this.cachedStepListRect=this.refs.$stepList.rect()}getStepListRect(){return this.cachedStepListRect}move(t,r){var i=this.getStepListRect(),s=i.x,n=i.right,o=this.startXY.x+t;o<s?o=s:o>n&&(o=n);var l=(o-s)/i.width*100;this.$config.get("bodyEvent").shiftKey&&(l=Math.floor(l)),this.currentStep.percent=l,this.state.image.sortColorStep(),this.refresh(),this.updateData()}end(t,r){t===0&&r===0&&this.isSelectedColorStep&&this.currentStep&&(this.currentStep.cut=!this.currentStep.cut,this.refresh(),this.updateData()),this.doFocus(this.state.id)}getLinearGradient(){var{image:t}=this.state;return`linear-gradient(to right, ${gr.toCSSColorString(t.colorsteps)})`}[Q("setColorStepColor")](t){this.state.image.type==="static-gradient"?(this.state.image.setColor(t),this.refresh(),this.updateData()):this.currentStep&&(this.currentStep.color=t,this.refresh(),this.updateData())}[I("setImageUrl")](t,r){this.state.image&&(this.state.url=t,this.state.image.reset({url:t,datauri:r}),this.refresh(),this.updateData())}updateData(t={}){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.state.image.toString())}}var I7="";class gV extends jr{getTitle(){var t;return E("SelectEditor",{ref:"$select",value:((t=this.state.image)==null?void 0:t.type)||N.STATIC,onchange:"changeTabType",options:[{value:N.STATIC,text:"Static"},{value:N.LINEAR,text:"Linear Gradient"},{value:N.RADIAL,text:"Radial Gradient"},{value:N.CONIC,text:"Conic Gradient"},{value:N.REPEATING_LINEAR,text:"Repeating Linear Gradient"},{value:N.REPEATING_RADIAL,text:"Repeating Radial Gradient"},{value:N.REPEATING_CONIC,text:"Repeating Conic Gradient"},{value:N.URL,text:"Image"}]})}initialize(){super.initialize(),this.selectedTab="static-gradient"}getClassName(){return"fill-picker-popup"}getBody(){var t,r;return`
      <div class="elf--gradient-picker-popup" ref='$body' data-selected-editor='${(t=this.state.image)==null?void 0:t.type}'>
        <div class='box'>
          <div ref='$gradientEditor'></div>
        </div>
        <div class='box'>
          <div class='colorpicker'>
            ${E("EmbedColorPicker",{ref:"$color",onchange:"changeColor"})}
          </div>
          <div class='assetpicker'>
            ${E("ImageSelectEditor",{ref:"$image",key:"image",value:(r=this.state.image)==null?void 0:r.url,onchange:"changeImageUrl"})}
            ${E("ImageAssetPicker",{ref:"$asset",onchange:"changeImageUrl"})}
          </div>
        </div>
      </div>
     
    `}getColorString(){var t="";return this.state.image instanceof gr&&(t=this.state.image.getColorString()),t}getCurrentColor(){return this.state.image.colorsteps[this.state.selectColorStepIndex||0].color}[se("$body")](){var t;return{"data-selected-editor":(t=this.state.image)==null?void 0:t.type}}[U("$gradientEditor")+st](){var t;return((t=this.state.image)==null?void 0:t.type)===N.URL?"":E("GradientEditor",{ref:"$g",value:`${this.state.image?this.state.image.toString():""}`,index:this.state.selectColorStepIndex,onchange:"changeGradientEditor"})}[I("updateGradientEditor")](t,r){this.state.image=ht(t)?Fe.parseImage(t):t,this.state.selectColorStepIndex=this.state.image.colorsteps.findIndex(i=>i.color===r.color&&i.percent===r.percent),this.children.$color.setValue(r.color),this.refresh()}[Q("changeGradientEditor")](t){this.state.image=ht(t)?Fe.parseImage(t):t,this.updateTitle(),this.updateData()}[Q("changeTabType")](t,r){this.children.$g.trigger("changeTabType",r),this.refs.$body.attr("data-selected-editor",r)}[Q("changeColor")](t){this.children.$g.trigger("setColorStepColor",t)}[Q("changeImageUrl")](t,r){this.state.image&&(this.state.image.reset({url:r}),this.trigger("changeGradientEditor",this.state.image))}updateTitle(){this.children.$select.setValue(this.state.image.type)}[I("showGradientPickerPopup")](t,r,i){t.changeEvent=t.changeEvent||"changeFillPopup",t.image=t.gradient,t.params=r,this.showByRect(this.makeRect(248,560,i)),this.setState(t),this.updateTitle(),this.emit("showGradientEditorView",{index:t.index})}[I("hideGradientickerPopup")](){this.hide(),this.emit("hideGradientEditorView")}onClose(){this.emit("hideGradientEditorView")}[I("selectColorStep")](t){this.children.$color.setValue(t)}[I("changeColorStep")](t={}){this.state.image.reset(v({},t)),this.updateData()}load(...t){this.$el.isShow()&&super.load(...t)}getValue(){return`${this.state.image}`}updateData(){this.state.instance.trigger(this.state.changeEvent,this.getValue(),this.state.params)}}class fV extends jr{getTitle(){var t;return E("SelectEditor",{ref:"$select",value:((t=this.state.image)==null?void 0:t.type)||N.STATIC,onchange:"changeTabType",options:[{value:N.STATIC,text:"Static"},{value:N.LINEAR,text:"Linear Gradient"},{value:N.RADIAL,text:"Radial Gradient"},{value:N.URL,text:"Image"}]})}initState(){return{image:Di.create()}}initialize(){super.initialize(),this.selectedTab="static-gradient"}getClassName(){return"fill-picker-popup"}getBody(){var t,r;return`
      <div class="elf--gradient-picker-popup" ref='$body' data-selected-editor='${(t=this.state.image)==null?void 0:t.type}'>
        <div class='box'>
          <div ref='$gradientEditor'></div>
        </div>
        <div class='box'>
          <div class='colorpicker'>
            ${E("EmbedColorPicker",{ref:"$color",onchange:"changeColor"})}    
          </div>
          <div class='assetpicker'>
            ${E("ImageSelectEditor",{ref:"$image",key:"image",value:(r=this.state.image)==null?void 0:r.url,onchange:"changeImageUrl"})}
            ${E("ImageAssetPicker",{ref:"$asset",onchange:"changeImageUrl"})}
          </div>
        </div>
      </div>
     
    `}[se("$body")](){var t;return{"data-selected-editor":(t=this.state.image)==null?void 0:t.type}}getColorString(){var t="";return this.state.image instanceof gr&&(t=this.state.image.getColorString()),t}getCurrentColor(){return this.state.image.colorsteps[this.state.selectColorStepIndex||0].color}[U("$gradientEditor")](){var t;return((t=this.state.image)==null?void 0:t.type)===N.URL?"":E("FillEditor",{ref:"$g",value:`${this.state.image}`,index:this.state.selectColorStepIndex,onchange:"changeFillEditor"})}[I("updateFillEditor")](t,r=void 0){this.state.image=ht(t)?tt.parseImage(t):t,r&&(this.state.selectColorStepIndex=this.state.image.colorsteps.findIndex(i=>i.color===r.color&&i.percent===r.percent),this.children.$color.setValue(r.color)),this.refresh()}[Q("changeFillEditor")](t){this.state.image=ht(t)?tt.parseImage(t):t,this.updateTitle(),this.updateData()}[Q("changeTabType")](t,r){this.children.$g.trigger("changeTabType",r),this.refs.$body.attr("data-selected-editor",r)}[Q("changeColor")](t){this.children.$g.trigger("setColorStepColor",t)}[Q("changeImageUrl")](t){this.state.image&&(this.state.image.reset({url:t}),this.trigger("changeFillEditor",this.state.image))}updateTitle(){this.children.$select.setValue(this.state.image.type)}[I("showFillPickerPopup")](t,r,i){t.changeEvent=t.changeEvent||"changeFillPopup",t.params=r,this.showByRect(this.makeRect(248,560,i)),this.setState(t),this.updateTitle(),t.image.isGradient()&&this.trigger("selectColorStep",t.image.colorsteps[0].color),this.emit("showFillEditorView",{key:t.key})}[I("hideFillPickerPopup")](){this.hide(),this.emit("hideFillEditorView")}onClose(){this.emit("hideFillEditorView")}[I("selectColorStep")](t){this.children.$color.setValue(t)}[I("changeColorStep")](t={}){this.state.image.reset(v({},t)),this.updateData()}load(...t){this.$el.isShow()&&super.load(...t)}getValue(){return`${this.state.image}`}updateData(){this.state.instance.trigger(this.state.changeEvent,this.getValue(),this.state.params)}}var E7="";class mV extends K{initState(){return{index:this.props.index,label:this.props.label,simple:this.props.simple==="true",image:tt.parseImage(this.props.value||this.props.image||"transparent")}}get fillId(){return this.id+"fill"}updateData(t={}){this.setState(t,!1),this.modifyValue(t)}modifyValue(t){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.state.index)}getValue(){return this.state.image.toString()}setValue(t){this.setState({image:tt.parseImage(t)})}[se("$fillView")](){var t=this.state.image;return t?{innerHTML:t.toSVGString(this.fillId,{width:20,height:20,sizeType:"percent"})}:{innerHTML:""}}[se("$fillColor")](){var t=this.state.image;return t?{fill:t.toFillValue(this.fillId)}:{fill:"transparent"}}[se("$colors")](){var t=this.state.image;if(!t)return{fill:"transparent"};var r=t.type!="url"?`${t.colorsteps[0].color}`:"transparent";return[N.LINEAR,N.RADIAL].includes(t.type)&&(r=t.colorsteps.map(i=>`<span class='color' style='background-color: ${i.color}' title='${i.color}'></span>`).join("")),{innerHTML:`<div> ${r} </div>`}}template(){var{label:t,removable:r,simple:i}=this.state,s=t?"has-label":"";return`
            <div class='elf--fill-single-editor ${s}'>
                ${t?`<label>${t}</label>`:""}            
                <div class="area">
                    <div class='preview' ref='$preview'>
                        <div class='mini-view'>

                            <svg class='color-view' ref='$miniView'>
                                <defs ref='$fillView'></defs>
                                <rect x="0" y="0" width="100%" height="100%" ref='$fillColor' fill='url(#${this.fillId})' />
                            </svg>
                        </div>
                    </div>
                    <div class='colors ${i?"simple":""}' ref='$colors'></div>
                </div>
            </div>
        `}[F()](t){this.viewGradientPopup()}viewGradientPopup(){this.emit("showFillPickerPopup",{instance:this,key:this.props.key,changeEvent:"changeFillSingle",image:this.state.image},null,this.$el.rect())}[I("changeFillSingle")](t,r){this.updateData({image:tt.parseImage(t)}),this.refresh()}}var L7="";class vV extends K{initState(){return{index:this.props.index,image:this.props.image,color:"rgba(0, 0, 0, 1)"}}updateData(t={}){this.setState(t,!1),this.modifyValue(t)}modifyValue(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.state.index)}setValue(t){this.setState(v({},t))}[se("$miniView")](){const t=this.$selection.currentProject;let r;if(this.state.image.type===N.URL){const i=t.getImageValueById(this.state.image.url);r=this.state.image.toString(i)}else r=this.state.image.toCSSString();return{style:{"background-image":r}}}template(){return`
            <div class='elf--gradient-single-editor'>
                <div class='preview' ref='$preview'>
                    <div class='mini-view'>
                        <div class='color-view' ref='$miniView'></div>
                    </div>
                </div>
            </div>
        `}[F("$preview")](t){this.viewGradientPopup()}viewGradientPopup(){this.emit("showGradientPickerPopup",{instance:this,changeEvent:"changeGradientSingle",index:this.state.index,gradient:this.state.image},null,this.$el.rect())}[I("changeGradientSingle")](t,r){var s;t=Fe.parseImage(t);const i=(s=this.$selection.current.getBackgroundImage(this.state.index))==null?void 0:s.image;switch(i.type){case N.RADIAL:case N.REPEATING_RADIAL:t.reset({radialPosition:i.radialPosition||["50%","50%"],radialType:i.radialType||yt.CIRCLE});break;case N.CONIC:case N.REPEATING_CONIC:t.reset({angle:i.angle||0,radialPosition:i.radialPosition||["50%","50%"]});break;case N.LINEAR:case N.REPEATING_LINEAR:case N.STATIC:t.reset({angle:i.angle||0});break}this.updateData({image:t}),this.refresh()}}function pu(a){a.registerElement({FillSingleEditor:mV,FillEditor:pV,GradientSingleEditor:vV}),a.registerAlias({"fill-single":"FillSingleEditor",fill:"FillEditor","gradient-single":"GradientSingleEditor"}),a.registerUI("popup",{FillPickerPopup:fV,GradientPickerPopup:gV})}const yV=["0deg","45deg","90deg"];var bV={title:"Linear",key:"linear",execute:function(a=42){return br(a).map(t=>({gradient:`linear-gradient(${Pn(...yV)}, ${Qe.createColorStep(2)})`}))}},$V={title:"Radial",key:"radial",execute:function(a=42){return br(a).map(t=>{var r="circle";return{gradient:`radial-gradient(${r}, ${Qe.createColorStep(2)})`}})}},xV={title:"Conic",key:"conic",execute:function(a=42){return br(a).map(t=>{var r=pr(45,55),i=pr(45,55),s=pr(0,360);return{gradient:`conic-gradient(from ${s}deg at ${r}% ${i}%, ${Qe.createColorStep(2,360,"deg")})`}})}};const _V=["0deg","45deg","90deg"];var SV={title:"Random Linear",key:"random-linear",execute:function(a=42){return br(a).map(t=>({gradient:`linear-gradient(${Pn(..._V)}, ${Qe.createColorStep(10)})`}))}},wV={title:"Random Radial",key:"random-radial",execute:function(a=42){return br(a).map(t=>({gradient:`radial-gradient(circle, ${Qe.createColorStep(10)})`}))}},PV={title:"Random Conic",key:"random-conic",execute:function(a=42){return br(a).map(t=>({gradient:`conic-gradient(from 0deg at 50% 50%, ${Qe.createColorStep(10,360,"deg")})`}))}};const CV=["0deg","45deg","90deg"];var kV={title:"Repeat Linear",key:"repeat-linear",execute:function(a=42){return br(a).map(t=>({gradient:`repeating-linear-gradient(${Pn(...CV)}, ${Qe.createRepeatColorStep(2,"10px")})`}))}},TV={title:"Repeat Radial",key:"repeat-radial",execute:function(a=42){return br(a).map(t=>{var r="circle";return{gradient:`repeating-radial-gradient(${r}, ${Qe.createRepeatColorStep(3,"6px")})`}})}},MV={title:"Repeat Conic",key:"repeat-conic",execute:function(a=42){return br(a).map(t=>({gradient:`repeating-conic-gradient(from 0deg at 0% 50%, ${Qe.createRepeatColorStep(10,"10deg")})`}))}},gu=[bV,SV,kV,$V,wV,TV,xV,PV,MV],V7="";const IV=gu.map(a=>({value:a.key,text:a.title}));class EV extends De{getTitle(){return this.$i18n("gradient.asset.property.title")}initState(){return{mode:"grid",preset:"linear"}}getTools(){return'<div ref="$tools"></div>'}[U("$tools")](){return E("SelectEditor",{ref:"$preset",key:"preset",value:this.state.preset,options:IV,onchange:"changePreset"})}[Q("changePreset")](t,r){this.setState({[t]:r})}getClassName(){return"elf--gradient-assets-property"}[I("refreshSelection")+Xe(100)](){this.show()}getBody(){return`
      <div class='property-item gradient-assets'>
        <div class='gradient-list' ref='$gradientList' data-view-mode='${this.state.mode}'></div>
      </div>
    `}[yr("$gradientList .gradient-item")](t){const r=t.$dt.attr("data-gradient");t.dataTransfer.effectAllowed="copy",t.dataTransfer.setData("text/gradient",r)}[U("$gradientList")](){var t=gu.find(i=>i.key===this.state.preset);if(!t)return"";var r=t.execute().map((i,s)=>`
        <div class='gradient-item' data-index="${s}" data-gradient='${i.gradient}' data-custom="${i.custom}">
          <div class='preview' title="${i.gradient}" draggable="true">
            <div class='gradient-view' style='background-image: ${i.gradient};'></div>
          </div>
        </div>
      `);return t.edit&&r.push(`<div class='add-gradient-item'><butto type="button">${O("add")}</button></div>`),r}executeGradient(t,r=!0,i=!0){var s=this.$selection.currentProject;s?(t&&t(s),r&&this.refresh(),i&&this.emit("refreshGradientAssets")):alert("Please select a project.")}[F("$gradientList .add-gradient-item")](){this.executeGradient(t=>{t.createGradient({gradient:gr.random(),name:"",variable:""})})}[F("$gradientList .preview")](t){var r=t.$dt.closest("gradient-item"),i=r.attr("data-gradient");this.emit("drop.asset",{gradient:i})}}function LV(a){a.registerElement({GradientAssetsProperty:EV})}var R7="";class VV extends De{afterRender(){this.show()}getTitle(){return"History"}getBody(){return`
      <div class="elf--history-list-view" ref='$body'></div>
    `}[U("$body")+st](){return this.$editor.history.map((t,r)=>t==="-"?"<div class='divider'>-</div>":`
        <div class='history-item'>
          <span>${r===this.$editor.history.currentIndex?ae.arrowRight:""}</span>
          <span>${t.message}</span>
        </div>
      `)}[I("refreshHistory")](){this.refresh()}}function RV(a){a.registerUI("inspector.tab.history",{HistoryProperty:VV})}const zV=["","100x100","200x200","300x300","400x300","900x600","1024x762"];class jV extends De{getClassName(){return"item"}getTitle(){return this.$i18n("image.property.title")}getBody(){return"<div ref='$body' style='padding-top: 3px;'></div>"}getFooter(){return`
      <div>
        <label> ${this.$i18n("image.property.origin")} </label> 
        <span ref='$sizeInfo'></span> 
        <button type="button" ref='$resize'>${O("size")}</button>
      </div>
      <div>
        ${E("SelectEditor",{ref:"$select",label:this.$i18n("image.property.size"),key:"size",value:"",options:zV,onchange:"changeImageSize"})}

      </div>
    `}[Q("changeImageSize")](t,r){var[i,s]=r.split("x").map(n=>n);this.command("setAttributeForMulti","resize image",this.$selection.packByValue({width:i,height:s}))}[F("$resize")](){var t=this.$selection.current;t&&this.command("setAttributeForMulti","resize image",this.$selection.packByValue({width:r=>r.naturalWidth.clone(),height:r=>r.naturalHeight.clone()}))}[se("$sizeInfo")](){var t=this.$selection.current||{};return{innerHTML:`${this.$i18n("image.property.width")}: ${t.naturalWidth}, ${this.$i18n("image.property.height")}: ${t.naturalHeight}`}}[U("$body")](){var t=this.$selection.current||{},r=t.src||"";return E("ImageSelectEditor",{ref:"$1",key:"src",value:r,onchange:"changeSelect"})}[Q("changeSelect")](t,r,i){var s=this.$selection.current;s&&(s.reset(v({src:r},i)),this.bindData("$sizeInfo"),this.command("setAttributeForMulti","change image",this.$selection.packByValue(v({src:r},i))))}[I("refreshSelection")+Xe(100)](){this.refreshShow(["image"])}}var z7="";class AV extends K{initState(){return{key:this.props.key,value:this.props.value}}template(){return A("div",{class:"elf--image-select-editor",ref:"$body"})}getValue(){return this.state.value}setValue(t){this.setState({value:t})}[U("$body")](){const t=this.$selection.currentProject;if(!t)return;const r=t.getImageValueById(this.state.value);return A(Qt,null,A("div",{class:"preview-container"},r?A("img",{src:r}):null,A("input",{type:"file",ref:"$file",accept:"image/*"})),A("div",{class:"select-container"},A("button",{type:"button",ref:"$select"},this.$i18n("image.select.editor.button"))))}[Cr("$file")](t){var r=[...t.target.files];r.length&&this.emit("updateImageAssetItem",r[0],i=>{this.trigger("changeImageSelectEditor",i)})}[F("$select")](){this.emit("showImageSelectPopup",{context:this,changeEvent:"changeImageSelectEditor",value:this.state.value})}[I("changeImageSelectEditor")](t){this.updateData({value:t}),this.refresh()}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}var j7="";class OV extends jr{getTitle(){return"Select a image"}getClassName(){return"compact"}initState(){return{value:""}}updateData(t={}){this.setState(t,!1),this.state.context.trigger(this.state.changeEvent,this.state.value,{width:this.state.width,height:this.state.height,naturalWidth:this.state.naturalWidth,naturalHeight:this.state.naturalHeight})}getBody(){return`
      <div class="elf--image-select-popup">
        <div class='box' ref='$imageBox'>
          
        </div>
      </div>
    `}[U("$imageBox")+st](){return this.$selection.currentProject,""}[F("$imageBox .image-item")](t){var r=t.$dt.$("img");this.updateData({value:r.attr("data-id"),naturalWidth:r.naturalWidth,naturalHeight:r.naturalHeight,width:r.naturalWidth,height:r.naturalHeight}),this.trigger("hideImageSelectPopup")}[I("showImageSelectPopup")](t,r){this.setState({context:t.context,changeEvent:t.changeEvent,value:t.value,params:r},!1),this.refresh(),this.show(500)}[I("hideImageSelectPopup")](){this.hide()}}function DV(a){a.registerElement({ImageSelectEditor:AV}),a.registerUI("inspector.tab.style",{ImageProperty:jV}),a.registerUI("popup",{ImageSelectPopup:OV})}var A7="";class FV extends jr{getTitle(){return this.$i18n("keyframe.popup.title")}initState(){return{name:"none",offsets:[]}}updateData(t){this.setState(t,!1),this.emit("changeKeyframePopup",this.state)}getBody(){return`
    <div class='elf--keyframe-popup' ref='$popup'>
      <div class="box">
        ${this.templateForName()}
        ${this.templateForOffset()}
      </div>
    </div>`}templateForOffset(){return`
      <div>
        ${E("OffsetEditor",{ref:"$offsetEditor"})}
      </div>
    `}templateForName(){return`
      <div class='name'>
        <label>Name</label>
        <div class='input grid-1'>
          <input type='text' value='${this.state.name}' ref='$name'/>
        </div>
      </div>
    `}[ot("$name")](t){if(this.refs.$name.value.match(/^[a-zA-Z0-9\b]+$/))this.updateData({name:this.refs.$name.value});else return t.preventDefault(),t.stopPropagation(),!1}getOffsetData(){var t=this.state.offsets.map(r=>r);return{offsets:t}}refresh(){this.refs.$name.val(this.state.name),this.emit("showOffsetEditor",this.getOffsetData())}[I("changeOffsetEditor")](t){this.updateData(t)}[I("showKeyframePopup")](t){this.setState(t),this.refresh(),this.show(240)}[I("hideKeyframePopup")](){this.$el.hide()}}var O7="";class BV extends De{getTitle(){return this.$i18n("keyframe.property.title")}getBody(){return"<div class='elf--keyframe-list' ref='$keyframeList'></div>"}getTools(){return`
      <button type="button" ref="$add" title="add Filter">${ae.add}</button>
    `}makeProperty(t){var r=t.key;return r==="x"?r="left":r==="y"&&(r="top"),`
      <div class='offset-property-item'>
        <label>${r}:</label>
        <div class='value'>${t.value}</div>
      </div>
    `}makeOffset(t){return`
      <div class='offset'>
        <label>${t.offset}</label>
        <div class='properties'>
          ${t.properties.map(r=>this.makeProperty(r)).join("")}
        </div>        
      </div>
    `}makeKeyframeTemplate(t,r){return r=r.toString(),`
      <div class='keyframe-item' data-selected-value='${t.selectedType}' ref='$keyframeIndex${r}' data-index='${r}'>
        <div class='title'>
          <div class='name'>${t.name}</div>
          <div class='tools'>
            <div class='group'>
              <button type="button" data-type='list'>${ae.list}</button>
              <button type="button" data-type='code'>${ae.code}</button>
            </div>
            <button type="button" class="del" data-index="${r}">${ae.remove2}</button>
          </div>
        </div>
        <div class='offset-list'>
          <div class='container'>
            ${t.offsets.map(i=>`
              <div class='offset' style='left: ${i.offset}; background-color: ${i.color}'></div>
              `).join("")}
          </div>
        </div>
        <div class='keyframe-code' data-type='list'>
          ${t.offsets.map(i=>this.makeOffset(i)).join("")}
        </div>
        <div class='keyframe-code' data-type='code'>
          <pre>${t.toString().trim()}</pre>
        </div>        
      </div>
    `}[F("$keyframeList .keyframe-item .title .group button[data-type]")](t){var r=t.$dt.closest("keyframe-item"),i=+r.attr("data-index"),s=t.$dt.attr("data-type"),n=this.$selection.currentProject;if(!!n){var o=n.keyframes[i];o&&o.reset({selectedType:s}),r.attr("data-selected-value",s)}}[F("$keyframeList .keyframe-item .offset-list")](t){var r=+t.$dt.closest("keyframe-item").attr("data-index"),i=this.$selection.currentProject;!i||this.viewKeyframePicker(r)}[F("$keyframeList .del")+Pe](t){var r=t.$dt.attr("data-index"),i=this.$selection.currentProject;!i||(i.removeKeyframe(r),this.emit("refreshProject",i),this.refresh())}[I("refreshSelection")+Xe(100)](){const t=this.$selection.current;t&&t.hasChangedField("keyframes")&&this.refresh()}[U("$keyframeList")](){var t=this.$selection.currentProject;if(!t)return"";var r=t.keyframe?Fs.parseStyle(t):t.keyframes;return t.keyframe="",t.keyframes=r,r.map((i,s)=>this.makeKeyframeTemplate(i,s))}[F("$add")](){var t=this.$selection.currentProject;t?(t.createKeyframe(),this.refresh(),this.emit("refreshProject",t)):alert("Please select a project.")}viewKeyframePicker(t){typeof this.selectedIndex=="number"&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t,this.selectItem(this.selectedIndex,!0),this.current=this.$selection.currentProject,!!this.current&&(this.currentKeyframe=this.current.keyframes[this.selectedIndex],this.viewKeyframePropertyPopup())}selectItem(t,r=!0){r?this.getRef("$keyframeIndex",t).addClass("selected"):this.getRef("$keyframeIndex",t).removeClass("selected"),this.current&&this.current.keyframes.forEach((i,s)=>{i.selected=s===t})}viewKeyframePropertyPopup(t){if(this.current=this.$selection.currentProject,!this.current)return;this.currentKeyframe=this.current.keyframes[this.selectedIndex];const r=this.currentKeyframe,i=r.name,s=r.offsets;this.emit("showKeyframePopup",{position:t,name:i,offsets:s})}[I("changeKeyframePopup")](t){var r=this.$selection.currentProject;!r||(this.currentKeyframe=r.keyframes[this.selectedIndex],this.currentKeyframe&&this.currentKeyframe.reset(t),this.refresh(),this.emit("refreshProject",r))}}class NV extends K{initState(){return{offsets:[]}}updateData(t){this.setState(t,!1),this.modifyOffset()}modifyOffset(){this.emit("changeOffsetEditor",this.state)}template(){return`
    <div class='editor offset-editor' ref='$editor'>
        ${this.templateForOffset()}
        ${this.templateForOffsetInput()}
        ${this.templateForProperty()}        
    </div>`}templateForOffsetInput(){return`
      <div class='offset-input' >
        <div class='title'>
          <label>Offset</label>
          <div class='tools'>
            ${E("InputRangeEditor",{key:"offset",min:0,max:100,step:.01,value:g.percent(0),ref:"$offsetInput",units:"%",onchange:"changeRangeEditor"})}
          </div>
        </div>
      </div>
    `}[I("changeRangeEditor")](t,r){var i=this.state.offsets[this.selectedIndex];i&&(i.offset=r.clone(),this.refresh(),this.modifyOffset())}templateForProperty(){return E("CSSPropertyEditor",{ref:"$offsetPropertyEditor","hide-refresh":!0,onchange:"changeCSSPropertyEditor"})}templateForOffset(){return`<div class='offset' ref='$offset' data-selected-value="-1"></div>`}makeOffset(t,r){return`<div class='offset-item' style='left: ${t.offset};' data-offset-index='${r.toString()}'></div>`}selectItem(t,r=!0){if(xt(t)){t=-1;for(var i=0,s=this.state.offsets.length;i<s;i++)if(this.state.offsets[i].selected){t=i;break}t===-1&&(t=0)}this.getRef("$offset").attr("data-selected-value",t),this.selectedIndex=t,this.state.offsets.forEach((o,l)=>{o.selected=l===t});var n=this.state.offsets.filter(o=>o.selected);this.selectedOffsetItem=n.length?n[0]:{},this.refreshOffsetInput()}refreshOffsetInput(){var t=this.state.offsets[this.selectedIndex];t&&this.children.$offsetInput.setValue(t.offset)}[U("$offset")](){return this.state.offsets.map((t,r)=>this.makeOffset(t,r))}isNotOffsetItem(t){return!be.create(t.target).hasClass("offset-item")&&!this.currentOffset}[F("$offset")+Se("isNotOffsetItem")+Pe](t){this.baseOffsetWidth=this.refs.$offset.width(),this.baseOffsetArea=this.refs.$offset.offset();var r=t.xy.x,i=g.percent((r-this.baseOffsetArea.left)/this.baseOffsetWidth*100).round(100);this.state.offsets.push(new La({offset:i})),this.selectItem(this.state.offsets.length-1,!0),this.refresh(),this.modifyOffset()}refreshOffsetProperty(){this.emit("showCSSPropertyEditor",this.selectedOffsetItem.properties)}[xe("$offset .offset-item")+Ve("moveOffset")+ze("endOffset")](t){this.baseOffsetWidth=this.refs.$offset.width(),this.baseOffsetArea=this.refs.$offset.offset(),this.currentOffsetleft=g.parse(t.$dt.css("left")),this.currentOffset=t.$dt,this.currentOffsetIndex=+t.$dt.attr("data-offset-index"),this.currentOffsetXY=t.xy,this.baseOffsetMin=this.baseOffsetArea.left,this.baseOffsetMax=this.baseOffsetArea.left+this.baseOffsetWidth,this.isRemoveOffset=!1,t.altKey?this.isRemoveOffset=!0:(this.selectItem(this.currentOffsetIndex,!0),this.refreshOffsetInput())}moveOffset(t,r){if(!this.isRemoveOffset){var i=this.currentOffsetXY.x+t;i<this.baseOffsetMin&&(i=this.baseOffsetMin),i>this.baseOffsetMax&&(i=this.baseOffsetMax);var s=g.percent((i-this.baseOffsetMin)/this.baseOffsetWidth*100).round(100);this.state.offsets[this.currentOffsetIndex].offset.set(s.value),this.currentOffset.css("left",s),this.refreshOffsetInput(),this.modifyOffset()}}removeOffset(t){this.state.offsets.splice(t,1),this.selectItem(0),this.refresh(),this.modifyOffset()}endOffset(t,r){this.isRemoveOffset?setTimeout(()=>{this.currentOffset=null,this.removeOffset(this.currentOffsetIndex)},10):setTimeout(()=>{this.currentOffset=null,this.refreshOffsetInput(),this.refreshOffsetProperty(),this.modifyOffset()},10)}refresh(){this.load(),this.refreshOffsetProperty()}[I("showOffsetEditor")](t){this.setState(t),this.selectItem(),this.refresh()}[I("changeCSSPropertyEditor")](t=[]){var r=this.state.offsets[this.selectedIndex];r&&(r.properties=[...t]),this.modifyOffset()}}function GV(a){a.registerElement({OffsetEditor:NV}),a.registerUI("inspector.tab.transition",{KeyframeProperty:BV}),a.registerUI("popup",{KeyframePopup:FV})}var D7="";const Za="drag-start";class HV extends De{getTitle(){return this.$i18n("layer.tree.property.title")}getClassName(){return"full"}initState(){return{hideDragPointer:!0,lastDragOverPosition:0,lastDragOverOffset:0,rootRect:{top:0},itemRect:{height:0}}}getBody(){return`
      <div class="elf--layer-list scrollbar" ref="$layerList"></div>
      <div class='drag-point' ref='$dragPointer'></div>
    `}[se("$dragPointer")](){var t=this.state.lastDragOverOffset,r=this.state.itemRect.height/3,i={};if(this.state.lastDragOverOffset<r){t=0;var s=this.state.lastDragOverPosition+t-this.state.rootRect.top;i={top:s,height:"1px",width:"100%",left:"0px"},this.state.lastDragOverItemDirection="before"}else if(this.state.lastDragOverOffset>this.state.itemRect.height-r){t=this.state.itemRect.height;var s=this.state.lastDragOverPosition+t-this.state.rootRect.top;i={top:s,height:"1px",width:"100%",left:"0px"},this.state.lastDragOverItemDirection="after"}else{const n=this.$model.get(this.state.lastDragOverItemId);if(n==null?void 0:n.enableHasChildren()){t=0;var s=this.state.lastDragOverPosition+t-this.state.rootRect.top;i={top:s,height:this.state.itemRect.height,width:"100%",left:"0px"},this.state.lastDragOverItemDirection="self"}}return i.display=this.state.hideDragPointer?"none":"block",{style:i}}getIcon(t){if(t.d){const r=W.fromSVGString(t.absolutePath().d);return A4(r.scaleWith(24,24).d,{width:24,height:24,fill:"currentColor",stroke:"currentColor"})}return t.hasLayout()||t.hasChildren()||t.is("artboard")?t.isLayout("flex")?O("layout_flex"):t.isLayout("grid")?O("layout_grid"):O("layout_default"):this.$icon.get(t.itemType,t)}makeLayerList(t,r=0){if(!t.layers)return"";const i=t.layers,s=[];for(var n=i.length-1;n>-1;n--){var o=i[n],l=this.$selection.hasPathOf(o)?"selected-path":"",c=this.$selection.check(o)?"selected":"",h=this.$selection.checkHover(o)?"hovered":"",d=o.is("boolean-path")?o["boolean-operation"]:o.name;o.is("text")&&(d=o.text||o.name);var p="";o.hasLayout()&&(p=this.$i18n("layer.tree.property.layout.title."+o.layout));const u=o.isTreeItemHide(),m=r*20,$=o.hasChildren(),S=this.$lockManager.get(o.id),k=this.$visibleManager.get(o.id);s[s.length]=`        
        <div class='layer-item ${c} ${l} ${h}' data-is-group="${$}" data-depth="${r}" data-layout='${o.layout}' data-layer-id='${o.id}' data-is-hide="${u}"  draggable="true">
          <div class='detail'>
            <label data-layout-title='${p}' style='padding-left: ${g.px(m)}' > 
              <div class='folder ${o.collapsed?"collapsed":""}'>${$?O("arrow_right"):""}</div>
              <span class='icon' data-item-type="${o.itemType}">${this.getIcon(o)}</span> 
              <span class='name'>${d}</span>
            </label>
            <div class="tools">
              <button type="button" class="lock" data-lock="${S}" title='Lock'>${O(S?"lock":"lock_open")}</button>
              <button type="button" class="visible" data-visible="${k}" title='Visible'>${O("visible")}</button>
              <button type="button" class="remove" title='Remove'>${O("remove2")}</button>                          
            </div>
          </div>
        </div>

        ${this.makeLayerList(o,r+1)}
      `}return s.join(" ")}[I("refreshContent")](t){this.refresh()}[U("$layerList")+st](){var t=this.$selection.currentProject;return t?[this.makeLayerList(t,0),`
        <div class='layer-item ' data-depth="0" data-is-last="true">
        </div>
      `]:""}[yr("$layerList .layer-item")](t){var r=t.$dt.attr("data-layer-id");t.$dt.addClass(Za),t.dataTransfer.setData("layer/id",r),this.state.rootRect=this.refs.$layerList.rect(),this.state.itemRect=t.$dt.rect(),this.setState({hideDragPointer:!1},!1),this.bindData("$dragPointer")}[zc("$layerList .layer-item")](t){this.setState({hideDragPointer:!0},!1),this.bindData("$dragPointer"),this.refs.$layerList.$$(`.${Za}`).forEach(r=>{r.removeClass(Za)})}[Pr(`$layerList .layer-item:not(.${Za})`)+Pe](t){var r=t.$dt.attr("data-layer-id");this.state.lastDragOverItemId=r,this.state.lastDragOverPosition=t.$dt.rect().top,this.state.lastDragOverOffset=t.offsetY,this.bindData("$dragPointer")}[wr(`$layerList .layer-item:not(.${Za})`)](t){var r=t.$dt.attr("data-layer-id"),i=t.dataTransfer.getData("layer/id");if(r!==i){var s=this.$model.get(r),n=this.$model.get(i);if((s==null?void 0:s.enableHasChildren())!==!1&&!(s&&s.hasParent(n.id))){switch(this.state.lastDragOverItemDirection){case"self":s.appendChild(n);break;case"before":s.appendBefore(n);break;case"after":s.appendAfter(n);break}this.$selection.select(n),this.setState({hideDragPointer:!0}),this.emit("refreshAll"),this.nextTick(()=>{this.emit("recoverBooleanPath")},10)}}}[ts("$layerList .layer-item")](t){this.startInputEditing(t.$dt.$(".name"))}modifyDoneInputEditing(t,r){if(Ds.enter===r.keyCode)this.endInputEditing(t,()=>{var n=t.closest("layer-item").attr("data-layer-id"),o=t.text();this.emit("refreshItemName",n,o)});else{var i=t.closest("layer-item").attr("data-layer-id"),s=t.text();this.emit("refreshItemName",i,s)}}[ia("$layerList .layer-item .name")+Jt](t){this.modifyDoneInputEditing(t.$dt,t)}[wi("$layerList .layer-item .name")+Pe+Jt](t){this.modifyDoneInputEditing(t.$dt,{keyCode:Ds.enter})}selectLayer(t){t&&this.$selection.select(t),this.refresh(),this.emit("refreshSelection")}addLayer(t){t&&(this.$selection.select(t),this.emit("refreshArtboard"))}[F("$add")](t){this.emit("newComponent","rect",{"background-color":"#ececec",width:200,height:100})}[F("$layerList .layer-item label .name")](t){var r=t.$dt.closest("layer-item");r.onlyOneClass("selected");var i=r.attr("data-layer-id");this.$selection.select(i),this.command("refreshSelection")}[F("$layerList .layer-item label .folder")](t){var r=t.$dt.closest("layer-item"),i=r.attr("data-layer-id"),s=this.$model.get(i);s.reset({collapsed:!s.collapsed}),this.refresh()}[F("$layerList .layer-item .visible")](t){var r=t.$dt.closest("layer-item"),i=r.attr("data-layer-id");this.$visibleManager.toggle(i);var s=this.$visibleManager.get(i);t.$dt.attr("data-visible",s),this.emit("refreshVisibleView")}[F("$layerList .layer-item .remove")](t){var r=t.$dt.closest("layer-item"),i=r.attr("data-layer-id");this.command("removeLayer","remove a layer",[i]),this.nextTick(()=>{this.refresh()},1e3)}[F("$layerList .layer-item .lock")](t){var r=t.$dt.closest("layer-item"),i=r.attr("data-layer-id");this.$lockManager.toggle(i);var s=this.$lockManager.get(i);t.$dt.attr("data-lock",s),s&&(this.$selection.removeById(i),this.emit("refreshSelection"))}[I("changeHoverItem")](){if(this.refs.$layerList.$$(".hovered").forEach(r=>{r.removeClass("hovered")}),this.$selection.hoverItems.length){var t=this.$selection.hoverItems.map(r=>`[data-layer-id="${r.id}"]`).join(",");this.refs.$layerList.$$(t).forEach(r=>{r.addClass("hovered")})}}[Q("changeSelection")](t=!1){if(t&&this.refs.$layerList){this.refs.$layerList.$$(".selected").forEach(i=>{i.removeClass("selected")}),this.refs.$layerList.$$(".selected-path").forEach(i=>{i.removeClass("selected-path")});var r=this.$selection.items.map(i=>`[data-layer-id="${i.id}"]`).join(",");r&&this.refs.$layerList.$$(r).forEach(i=>{i.addClass("selected");var s=this.$selection.itemKeys[i.attr("data-layer-id")];s.is("svg-path","svg-polygon")&&i.$(".icon").html(this.getIcon(s))})}}[I("refreshSelection")](){this.refresh()}[I("refreshStylePosition")](){this.trigger("changeSelection")}[I("refreshLayerTreeView")+es(100)](){this.refresh()}[I("changeItemLayout")](){this.refresh()}[_t("bodyEvent")](){const r=be.create(this.$config.get("bodyEvent").target).closest("layer-item");r&&this.emit("refreshHoverView",r.data("layer-id"))}}function UV(a){a.registerElement({LayerTreeProperty:HV})}var F7="";class XV extends K{getDirectionOptions(){return this.makeOptionsFunction("row,column")}getWrapOptions(){return this.makeOptionsFunction("nowrap,wrap")}getJustifyContentOptions(){return this.makeOptionsFunction("flex-start,flex-end,center,space-between,space-around")}getAlignItemsOptions(){return this.makeOptionsFunction("flex-start,flex-end,center,baseline,stretch")}getAlignContentOptions(){return this.makeOptionsFunction("flex-start,flex-end,center,space-between,space-around,stretch")}makeOptionsFunction(t){return t.split(",").map(r=>({value:r,text:this.$i18n("flex.layout.editor."+r)}))}initState(){return v({},this.props.value)}setValue(t){this.setState(v({},t))}getValue(){return this.state}modifyData(t,r){this.parent.trigger(this.props.onchange,t,r)}[U("$body")+st](){const t=this.$selection.current;if(!t)return"";const r=Math.min(t["padding-top"]||0,50),i=Math.min(t["padding-left"]||0,50),s=Math.min(t["padding-right"]||0,50),n=Math.min(t["padding-bottom"]||0,50),o=`padding-top:${r}px;padding-left: ${i}px;padding-right:${s}px;padding-bottom: ${n}px;`;return`
            <div class='flex-layout-item'>
                <div class="grid-2">
                    <div>
                        ${E("SelectIconEditor",{key:"flex-direction",ref:"$flexDirection",value:this.state["flex-direction"]||Nt.ROW,options:this.getDirectionOptions(),icons:["east","south"],onchange:"changeKeyValue"})}
                    </div>
                    <div>
                        ${E("NumberInputEditor",{compact:!0,ref:"$flex-gap",label:O("space"),key:"gap",value:this.state.gap,min:0,max:100,step:1,onchange:"changeKeyValue"})}
                    </div>
                    <div>
                        ${E("NumberInputEditor",{compact:!0,label:O("padding"),key:"padding",ref:"$padding",value:t["padding-top"],min:0,max:100,step:1,onchange:"changePadding"})}
                    </div>


                    <div>
                        ${E("ToggleButton",{compact:!0,key:"flex-wrap",ref:"$wrap",checkedValue:"wrap",value:this.state["flex-wrap"]||jn.NOWRAP,toggleLabels:["wrap","wrap"],toggleValues:[jn.NOWRAP,jn.WRAP],onchange:"changeKeyValue"})}
                    </div>
                </div>

            </div>

            <div class="select-flex-direction">
                <div>
                    <div class="flex-group-padding">            
                        <div class="padding-top" style="height: ${t["padding-top"]}px"></div>
                        <div class="padding-left" style="width: ${t["padding-left"]}px"></div>
                        <div class="padding-right" style="width: ${t["padding-right"]}px"></div>
                        <div class="padding-bottom" style="height: ${t["padding-bottom"]}px"></div>
                    </div>
                    <div class="flex-group" style="
                            --flex-group-gap: ${Math.floor(this.state.gap/10)}px;
                            --flex-group-padding: ${r}px;
                            ${o};
                            flex-direction: ${this.state["flex-direction"]};
                            flex-wrap: ${this.state["flex-wrap"]};
                            justify-content:${this.state["justify-content"]};
                            align-items: ${this.state["align-items"]};
                            align-content:${this.state["align-content"]};
                    ">
                        ${[1,2,3].map(l=>`
                                <div class="flex-direction" data-value="${this.state["flex-direction"]}" style="flex-direction: ${this.state["flex-direction"]};align-items: ${this.state["align-items"]};">
                                    <div class="flex-direction-item" data-index="1"></div>
                                    <div class="flex-direction-item" data-index="2"></div>
                                    <div class="flex-direction-item" data-index="3"></div>
                                </div>
                            `).join(`
`)}
                    </div>
                    <div class="flex-group-tool"  style="${o};">
                        <div class="tool-area"  
                            data-direction="${this.state["flex-direction"]}"  
                            data-justify-content="${this.state["justify-content"]}"
                            data-align-items="${this.state["align-items"]}"
                            data-align-content="${this.state["align-content"]}"                            
                            style="
                                --flex-group-gap: ${Math.floor(this.state.gap/10)}px;
                                --flex-group-padding: ${r}px;
                            "
                        >
                            <div class="tool-area-item" data-index="1" data-justify-content="flex-start" data-align-items="flex-start"></div>
                            <div class="tool-area-item" data-index="2"  data-justify-content="center" data-align-items="flex-start"></div>
                            <div class="tool-area-item" data-index="3"  data-justify-content="flex-end" data-align-items="flex-start"></div>
                            <div class="tool-area-item" data-index="4"  data-justify-content="flex-start" data-align-items="center"></div>
                            <div class="tool-area-item" data-index="5"  data-justify-content="center" data-align-items="center"></div>
                            <div class="tool-area-item" data-index="6"  data-justify-content="flex-end" data-align-items="center"></div>
                            <div class="tool-area-item" data-index="7"  data-justify-content="flex-start" data-align-items="flex-end"></div>
                            <div class="tool-area-item" data-index="8"  data-justify-content="center" data-align-items="flex-end"></div>
                            <div class="tool-area-item" data-index="9"  data-justify-content="flex-end" data-align-items="flex-end"></div>                            
                        </div>
                    </div>
                </div>
            </div>

            <div class='flex-layout-item'>
                <div class="title">${this.$i18n("flex.layout.editor.justify-content")}</div>
                ${E("SelectIconEditor",{key:"justify-content",ref:"$justify",value:this.state["justify-content"]||Rs.FLEX_START,options:this.getJustifyContentOptions(),icons:["start","end","center","horizontal_distribute","justify_content_space_around"],onchange:"changeKeyValue"})}
            </div>
            <div class='flex-layout-item'>
                <div class="title">${this.$i18n("flex.layout.editor.align-items")}</div>            
                ${E("SelectIconEditor",{key:"align-items",ref:"$alignItems",value:this.state["align-items"]||Ei.FLEX_START,options:this.getAlignItemsOptions(),icons:["vertical_align_top","vertical_align_bottom","vertical_align_center","vertical_align_baseline","vertical_align_stretch"],onchange:"changeKeyValue"})}
            </div>
            <div class='flex-layout-item'>
                <div class="title">${this.$i18n("flex.layout.editor.align-content")}</div>                        
                ${E("SelectIconEditor",{key:"align-content",ref:"$alignContent",value:this.state["align-content"]||zh.FLEX_START,options:this.getAlignContentOptions(),icons:["vertical_align_top","vertical_align_bottom","vertical_align_center","horizontal_distribute","justify_content_space_around","vertical_align_stretch"],onchange:"changeKeyValue"})}
            </div>    
        `}template(){return`
            <div class='flex-layout-editor' ref='$body' ></div>
        `}[Q("changeKeyValue")](t,r,i){this.setState({[t]:r},!1),this.modifyData(t,r),this.refresh()}[Q("changePadding")](t,r){this.setState({[t]:r},!1),this.modifyData(t,{"padding-top":r,"padding-left":r,"padding-right":r,"padding-bottom":r}),this.refresh()}[F("$body .tool-area-item")](t){const r=t.$dt,[i,s,n]=r.attrs("data-justify-content","data-align-items","data-align-content");this.state["justify-content"]===Rs.SPACE_BETWEEN?(this.setState({"align-items":s},!1),this.modifyData("align-item",s)):this.state["justify-content"]===Rs.SPACE_AROUND?(this.setState({"align-items":s},!1),this.modifyData("align-item",s)):(this.setState({"justify-content":i,"align-items":s},!1),this.modifyData("justify-content",i),this.modifyData("align-items",s)),this.refresh()}}var B7="";const YV=/(auto)|(repeat\([^\)]*\))|(([\d.]+)(px|pt|fr|r?em|deg|vh|vw|%))/gi;class WV extends K{getLayoutItemOptions(){return Fr("none,auto,repeat,length".split(",").map(t=>({value:t,text:this.$i18n(`grid.box.editor.${t}`)})))}initState(){return{label:this.props.label,list:this.parseValue(this.props.value)}}setValue(t){this.setState({list:this.parseValue(t)})}parseValue(t){let r=null;for(var i=[];(r=YV.exec(t))!==null;){var s=r[0];if(s==="auto")i.push({type:"auto",count:0,value:"0px"});else if(s.includes("repeat")){var n=s.split("repeat(")[1].split(")");n.pop();let[o,...l]=n.join("").split(",");i.push({type:"repeat",count:o,value:l.join(", ")})}else i.push({type:"length",count:1,value:s})}return i}getValue(){return this.state.list.map(t=>t.type==="repeat"?`repeat(${t.count}, ${t.value})`:t.type==="auto"||t.type==="none"?t.type:t.value).join(" ")}modifyData(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}makeItem(t,r){return`
            <div class='item' data-repeat-type='${t.type}' data-index='${r}' >
                <div class='repeat'>
                    ${E("SelectEditor",{ref:"$${index}-type",options:this.getLayoutItemOptions(),key:"type",value:t.type||"auto",params:r,onchange:"changeKeyValue"})}
                </div>
                <div class='count'>
                    ${E("NumberInputEditor",{ref:"$${index}-count",key:"count",value:t.count,params:r,max:1e3,onchange:"changeKeyValue"})}
                </div>                
                <div class='value'>
                    ${E("InputRangeEditor",{ref:"$${index}-value",key:"value",value:t.value,params:r,units:["auto","fr","px","em","%"],onchange:"changeKeyValue"})}
                </div>
                <div class='tools'>
                    <button type="button" class='copy'>${O("copy")}</button>                
                    <button type="button" class='remove'>${O("remove2")}</button>
                </div>
            </div>
        `}[U("$list")](){return this.state.list.map((t,r)=>this.makeItem(t,r))}template(){return`
            <div class='elf--grid-box-editor' ref='$body' >
                <div class='grid-box-editor-item'>
                    <div class='item header'>
                        <div class='repeat'>
                            <label>${this.state.label} </label>
                            <button type='button' ref='$add'>${ae.add}</button>
                        </div>
                        <div class='count'>${this.$i18n("grid.box.editor.count")}</div>
                        <div class='value'>${this.$i18n("grid.box.editor.value")}</div>
                        <div class='tools'></div>
                    </div>
                    <div ref='$list'></div>
                </div>
            </div>
        `}[F("$list .remove")](t){var r=+t.$dt.closest("item").attr("data-index");this.state.list.splice(r,1),this.refresh(),this.modifyData()}[F("$list .copy")](t){var r=+t.$dt.closest("item").attr("data-index"),i=ve(this.state.list[r]);this.state.list.splice(r,0,i),this.refresh(),this.modifyData()}[F("$add")](){this.trigger("add")}[I("add")](){this.state.list.push({type:"auto",count:0,value:"0px"}),this.refresh(),this.modifyData()}[Q("changeKeyValue")](t,r,i){var s=+i,n=this.state.list[s];n&&(t==="type"&&this.refs.$list.$(`[data-index="${s}"]`).attr("data-repeat-type",r),n[t]=r),this.modifyData()}}class KV extends K{initState(){return{label:this.props.label,value:this.parseValue(this.props.value)}}setValue(t){this.setState({list:this.parseValue(t)})}parseValue(t){return g.parse(t)}getValue(){return this.state.value}modifyData(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}makeItem(){return`
            <div class='item'>
                <div class='value'>
                    ${E("RangeEditor",{label:this.state.label,ref:"$value",key:"value",value:this.state.value,units:["px","em","%"],onchange:"changeKeyValue"})}
                </div>
            </div>
        `}[U("$list")](){return this.makeItem()}template(){return`
            <div class='grid-gap-editor' ref='$body' >
                <div class='grid-gap-editor-item'>
                    <div ref='$list'></div>
                </div>
            </div>
        `}[Q("changeKeyValue")](t,r){this.state.value=r,this.modifyData()}}var N7="";class ZV extends K{initState(){return v({},Kt(this.props.value))}setValue(t){this.setState(v({},Kt(t)))}getValue(){return Ge(this.state)}modifyData(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}template(){return`
            <div class='elf--grid-layout-editor' ref='$body' ></div>
        `}[U("$body")](){return`
            <div class='grid-layout-item'>
                ${E("GridBoxEditor",{label:this.$i18n("grid.layout.editor.template.columns"),ref:"$columnBox",key:"grid-template-columns",value:this.state["grid-template-columns"]||"",onchange:"changeKeyValue"})}
            </div>
            <div class='grid-layout-item'>
                ${E("GridGapEditor",{label:this.$i18n("grid.layout.editor.column.gap"),ref:"$columnGap",key:"grid-column-gap",value:this.state["grid-column-gap"]||"",onchange:"changeKeyValue"})}
            </div>            
            <div class='grid-layout-item'>
                ${E("GridBoxEditor",{label:this.$i18n("grid.layout.editor.template.rows"),ref:"$rowBox",key:"grid-template-rows",value:this.state["grid-template-rows"]||"",onchange:"changeKeyValue"})}
            </div>            
            <div class='grid-layout-item'>
                ${E("GridGapEditor",{label:this.$i18n("grid.layout.editor.row.gap"),ref:"$rowGap",key:"grid-row-gap",value:this.state["grid-row-gap"]||"",onchange:"changeKeyValue"})}
            </div>
        `}[Q("changeKeyValue")](t,r,i){this.setState({[t]:r},!1),this.modifyData()}}var G7="";class qV extends De{getTitle(){return this.$i18n("grid.layout.item.property.title")}getLayoutOptions(){return["none","value"].map(t=>({value:t,text:this.$i18n(`grid.layout.item.property.${t}`)}))}getClassName(){return"elf--grid-layout-item-property"}getBody(){return`
        <div class='property-item' ref='$body'></div>
      `}[U("$body")](){var t=this.$selection.current||{"grid-layout-item":"none"},r=t["grid-layout-item"]||"none",i={};return["none"].includes(r)===!1&&(i=Kt(t["grid-layout-item"])),Object.keys(i).length>0&&(r="value"),`
      <div class='layout-select'>
        ${E("SelectIconEditor",{ref:"$layout",key:"layout",icon:!0,value:r,options:this.getLayoutOptions(),onchange:"changeLayoutType"})}
      </div>
      <div class='layout-list' ref='$layoutList' data-selected-value='${r}'>
        <div data-value='none'></div>
        <div data-value='value'>
          <div class='value-item'>
            <label></label>
            <div>${this.$i18n("grid.layout.item.property.start")}</div>
            <div>${this.$i18n("grid.layout.item.property.end")}</div>
          </div>
          <div class='value-item'>
            <label>${this.$i18n("grid.layout.item.property.column")}</label>
            <div>
              ${E("NumberInputEditor",{ref:"$columnStart",key:"grid-column-start",value:i["grid-column-start"]||0,min:0,onchange:"changeGridItem"})}
            </div>
            <div>
              ${E("NumberInputEditor",{ref:"$columnEnd",key:"grid-column-end",value:i["grid-column-end"]||0,min:0,onchange:"changeGridItem"})}
              
            </div>            
          </div>
          <div class='value-item'>
            <label>${this.$i18n("grid.layout.item.property.row")}</label>
            <div>
              ${E("NumberInputEditor",{ref:"$rowStart",key:"grid-row-start",value:i["grid-row-start"]||0,min:0,onchange:"changeGridItem"})}

            </div>
            <div>
              ${E("NumberInputEditor",{ref:"$rowEnd",key:"grid-row-end",value:i["grid-row-end"]||0,min:0,onchange:"changeGridItem"})}

            </div>            
          </div>          
        </div>
      </div>
    `}getGridValue(){var t={"grid-column-start":this.children.$columnStart.getValue(),"grid-column-end":this.children.$columnEnd.getValue(),"grid-row-start":this.children.$rowStart.getValue(),"grid-row-end":this.children.$rowEnd.getValue()};return Ge(t)}[Q("changeGridItem")](t,r){this.command("setAttributeForMulti","change grid layout item",this.$selection.packByValue({"grid-layout-item":this.getGridValue()})),this.nextTick(()=>{this.emit("refreshAllElementBoundSize")})}[Q("changeLayoutType")](t,r){var i=this.children.$layout.getValue(),r=i;i==="value"&&(r=this.getGridValue()),this.command("setAttributeForMulti","change grid layout item",this.$selection.packByValue({"grid-layout-item":r})),this.refs.$layoutList.attr("data-selected-value",i),this.nextTick(()=>{this.emit("refreshAllElementBoundSize")})}[I("refreshSelection")+Xe(100)](){this.refreshShow(()=>{var t=this.$selection.current;return t&&t.isInGrid()})}}var H7="";class QV extends De{getTitle(){return this.$i18n("layout.property.title")}getClassName(){return"elf--layout-property"}getBody(){return`
        <div ref='$layoutProperty'></div>
      `}getTools(){return`
      <div ref='$layoutType'></div>
    `}[U("$layoutType")](){const t=this.$selection.current;return t?E("SelectIconEditor",{ref:"$layout",key:"layout",height:24,value:t.layout,options:["default","flex","grid"],icons:["layout_default","layout_flex","layout_grid"],onchange:"changeLayoutType"}):""}[U("$layoutProperty")](){var t=this.$selection.current||{layout:"default"};return`
      <div class='layout-list' ref='$layoutList'>
        <div data-value='default' class='${t.layout==="default"?"selected":""}'></div>
        <div data-value='flex' class='${t.layout==="flex"?"selected":""}'>
          ${E("FlexLayoutEditor",{ref:"$flex",key:"flex-layout",value:{"flex-direction":t["flex-direction"],"flex-wrap":t["flex-wrap"],"justify-content":t["justify-content"],"align-items":t["align-items"],"align-content":t["align-content"],gap:t.gap},onchange:"changeLayoutInfo"})}
        </div>
        <div data-value='grid' class='${t.layout==="grid"?"selected":""}'>
          ${E("GridLayoutEditor",{ref:"$grid",key:"grid-layout",value:t["grid-layout"]||"",onchange:"changeLayoutInfo"})}
        </div>
      </div>
    `}[Q("changeLayoutInfo")](t,r){t==="padding"?this.command("setAttributeForMulti","change padding",this.$selection.packByValue(r)):this.command("setAttributeForMulti","change layout info",this.$selection.packByValue({[t]:r})),this.nextTick(()=>{this.emit("refreshAllElementBoundSize")})}[Q("changeLayoutType")](t,r){this.$selection.reset(this.$selection.packByValue({[t]:r})),this.updateTitle(),this.command("setAttributeForMulti","change layout type",this.$selection.packByValue({[t]:r})),this.nextTick(()=>{this.refresh(),this.emit("refreshAllElementBoundSize"),this.emit("changeItemLayout"),this.emit("refreshSelection")})}get editableProperty(){return"layout"}enableHasChildren(){return this.$selection.current.enableHasChildren()}updateTitle(){this.setTitle(this.$selection.current.layout+" Layout")}[I("refreshSelection")+Se("checkShow")+Se("enableHasChildren")](){this.updateTitle(),this.refresh()}}var U7="";class JV extends De{getTitle(){return this.$i18n("default.layout.item.property.title.constraints")}getClassName(){return"elf--default-layout-item-property"}getBody(){return`
        <div class='property-item' ref='$body'>
          <div class="constraints">
            <div ref="$constraintsInfo"></div>
            <div ref="$constraintsInfoInput"></div>
          </div>
        </div>
      `}[U("$constraintsInfo")+st](){var t=this.$selection.current;t==null||t.hasLayout();const r=(t==null?void 0:t["constraints-horizontal"])||ke.MIN,i=(t==null?void 0:t["constraints-vertical"])||ke.MIN;return`
      <div class="constraints-box">

        <!-- Horizontal -->
        <div class='item' data-value='min' data-selected="${r===ke.MIN||r===ke.STRETCH}" data-key='${Er.HORIZONTAL}'></div>
        <div class='item' data-value='max' data-selected="${r===ke.MAX||r===ke.STRETCH}" data-key='${Er.HORIZONTAL}'></div>
        <div class='item' data-value='center' data-selected="${r===ke.CENTER}" data-key='${Er.HORIZONTAL}'></div>

        <!-- Vertical -->
        <div class='item' data-value='min' data-selected="${i===ke.MIN||i===ke.STRETCH}" data-key='${Er.VERTICAL}'></div>
        <div class='item' data-value='max' data-selected="${i===ke.MAX||i===ke.STRETCH}" data-key='${Er.VERTICAL}'></div>
        <div class='item' data-value='center' data-selected="${i===ke.CENTER}" data-key='${Er.VERTICAL}'></div>            
        <div class="rect"></div>
      </div>
    `}[U("$constraintsInfoInput")](){var t=this.$selection.current;const r=t==null?void 0:t.hasLayout();return(t==null?void 0:t["constraints-horizontal"])||ke.MIN,(t==null?void 0:t["constraints-vertical"])||ke.MIN,`
      <div>
        ${E("SelectEditor",{ref:"$constraintsHorizontal",key:"constraints-horizontal",value:(t==null?void 0:t["constraints-horizontal"])||"min",label:O("width"),compact:!0,options:[{value:"min",text:"Left"},{value:"max",text:"Right"},{value:"stretch",text:"Left and Right",disabled:r},{value:"center",text:"Center"},{value:"scale",text:"Scale",disabled:r}],onchange:"changeConstraints"})}
      </div>

      <div>
        ${E("SelectEditor",{ref:"$constraintsVertical",key:"constraints-vertical",value:(t==null?void 0:t["constraints-vertical"])||"min",label:O("height"),compact:!0,options:[{value:"min",text:"Top"},{value:"max",text:"Bottom"},{value:"stretch",text:"Top and Bottom",disabled:r},{value:"center",text:"Center"},{value:"scale",text:"Scale",disabled:r}],onchange:"changeConstraints"})}
      </div>
    `}[F("$constraintsInfo .item")](t){const[r,i]=t.$dt.attrs("data-value","data-key"),s=this.$selection.current;!s||(s.changeConstraints(i,r),this.trigger("changeConstraints",i,s[i]))}[Q("changeConstraints")](t,r){this.command("setAttributeForMulti","apply constraints",this.$selection.packByValue({[t]:r})),this.nextTick(()=>{this.refresh()},100)}[I("refreshSelection")+Xe(100)](){this.refreshShow(()=>{var t=this.$selection.current;return t&&t.isInDefault()&&t.parent.isNot("project")})}}var X7="";class e8 extends De{getTitle(){return this.$i18n("layout.property.resizing.title")}getClassName(){return"elf--resizing-property"}getBody(){return`
        <div ref='$body'>
          <div class="resizing-mode">
            <div class="resizing-box" ref="$resizingModeInfo"></div>
            <div ref="$resizingModeInfoInput"></div>
          </div>
        </div>
      `}[U("$resizingModeInfo")+st](){var t=this.$selection.current||{};const r=t.resizingHorizontal||Ae.FIXED,i=t.resizingVertical||Ae.FIXED;return`
      <div class="resizing-mode-box" data-horizontal="${r}" data-vertical="${i}">
        <div class="rect">
          <div class="vertical" data-key="resizingVertical">
            <div class="vertical-top">${O("keyboard_arrow_down")}</div>
            <div class="vertical-bottom">${O("keyboard_arrow_up")}</div>
          </div>
          <div class="horizontal" data-key="resizingHorizontal">
            <div class="horizontal-left">${O("keyboard_arrow_right")}</div>
            <div class="horizontal-right">${O("keyboard_arrow_left")}</div>
          </div>
          <div class="inner-rect"></div>
          <div class="inner-horizontal-rect"></div>
          <div class="inner-vertical-rect"></div>
        </div>
      </div>
    `}makeOptionsForHorizontal(){return[{value:Ae.FIXED,text:"Fixed Width"},{value:Ae.HUG_CONTENT,text:"Hug Content"}]}makeOptionsForVertical(){return[{value:Ae.FIXED,text:"Fixed Height"},{value:Ae.HUG_CONTENT,text:"Hug Content"}]}[U("$resizingModeInfoInput")](){var t=this.$selection.current||{};return t.resizingHorizontal,t.reisizngModeVertical,`
      <div class="has-label-grid">
        <label data-direction="horizontal"></label>
        ${E("SelectEditor",{ref:"$resizingHorizontal",key:"resizingHorizontal",value:(t==null?void 0:t.resizingHorizontal)||Ae.FIXED,options:this.makeOptionsForHorizontal(),onchange:"changeResizingMode"})}
      </div>

      <div class="has-label-grid">
      <label data-direction="vertical"></label>
        ${E("SelectEditor",{ref:"$resizingVertical",key:"resizingVertical",value:(t==null?void 0:t.resizingVertical)||Ae.FIXED,options:this.makeOptionsForVertical(),onchange:"changeResizingMode"})}
      </div>
    `}[F("$resizingModeInfo [data-key]")](t){const r=t.$dt.data("key");this.$selection.current[r]===Ae.FIXED?this.trigger("changeResizingMode",r,Ae.HUG_CONTENT):this.trigger("changeResizingMode",r,Ae.FIXED)}[Q("changeResizingMode")](t,r){this.command("setAttributeForMulti","apply constraints",this.$selection.packByValue({[t]:r})),this.nextTick(()=>{this.refresh()},100)}[I("refreshSelection")+Xe(100)](){this.refreshShow(()=>{var t=this.$selection.current;return t&&t.hasLayout()})}}var Y7="";class t8 extends De{getTitle(){return this.$i18n("layout.property.resizing.self.title")}getClassName(){return"elf--resizing-item-property"}getBody(){return`
        <div ref='$body'>
          <div class="resizing-mode">
            <div class="resizing-box" ref="$resizingModeInfo"></div>
            <div ref="$resizingModeInfoInput"></div>
          </div>
        </div>
      `}[U("$resizingModeInfo")+st](){var t=this.$selection.current||{};const r=t.resizingHorizontal||Ae.FIXED,i=t.resizingVertical||Ae.FIXED;return`
      <div class="resizing-mode-box" data-horizontal="${r}" data-vertical="${i}">
        <div class="rect">
          <div class="tool">
            <div class="vertical">
              <div class="vertical-top" data-key="resizingVertical">${O("keyboard_arrow_up")}</div>
              <div class="vertical-bottom" data-key="resizingVertical">${O("keyboard_arrow_down")}</div>
            </div>
            <div class="horizontal">
              <div class="horizontal-left" data-key="resizingHorizontal">${O("keyboard_arrow_left")}</div>
              <div class="horizontal-right" data-key="resizingHorizontal">${O("keyboard_arrow_right")}</div>
            </div>
          </div>         
          <div class="inner-rect"></div>
        </div>

      </div>
    `}makeOptionsForHorizontal(){return[{value:Ae.FIXED,text:"Fixed Width"},{value:Ae.FILL_CONTAINER,text:"Fill Container"}]}makeOptionsForVertical(){return[{value:Ae.FIXED,text:"Fixed Height"},{value:Ae.FILL_CONTAINER,text:"Fill Container"}]}[U("$resizingModeInfoInput")+st](){var t=this.$selection.current||{};return this.setState({resizingHorizontal:(t==null?void 0:t.resizingHorizontal)||Ae.FIXED,resizingVertical:(t==null?void 0:t.resizingVertical)||Ae.FIXED},!1),`
      <div class="has-label-grid">
        <label data-direction="horizontal"></label>
        ${E("SelectEditor",{ref:"$resizingHorizontal",key:"resizingHorizontal",value:this.state.resizingHorizontal,options:this.makeOptionsForHorizontal(),onchange:"changeResizingMode"})}
      </div>

      <div class="has-label-grid">
      <label data-direction="vertical"></label>
        ${E("SelectEditor",{ref:"$resizingVertical",key:"resizingVertical",value:this.state.resizingVertical,options:this.makeOptionsForVertical(),onchange:"changeResizingMode"})}
      </div>
    `}[F("$resizingModeInfo [data-key]")](t){const r=t.$dt.data("key");this.$selection.current[r]===Ae.FIXED?this.trigger("changeResizingMode",r,Ae.FILL_CONTAINER):this.trigger("changeResizingMode",r,Ae.FIXED)}[Q("changeResizingMode")](t,r){this.command("setAttributeForMulti","apply constraints",this.$selection.packByValue({[t]:r,"flex-grow":1})),this.nextTick(()=>{this.refresh()},100)}[I("refreshSelection")+Xe(100)](){this.refreshShow(()=>{var r;var t=this.$selection.current;return(r=t==null?void 0:t.parent)==null?void 0:r.hasLayout()})}[I("refreshSelectionStyleView")](){const t=this.$selection.current;t&&t.changedLayoutItem&&(t.resizingHorizontal!==this.state.resizingHorizontal||t.resizingVertical!==this.state.resizingVertical)&&this.refresh()}}var W7="";class r8 extends K{template(){return A("div",{class:"elf--flex-grow-tool-view"})}[U("$el")+st](){return this.$selection.map(t=>{const r=t.parent;if(!!r&&!r.is("project")&&r.isLayout(bt.FLEX)!==!1)return r.layers.map(i=>{const n=this.$viewport.applyVerties(i.verties)[4];let o=0,l=i.screenWidth||0;const c=r==null?void 0:r["flex-direction"];return c===Nt.ROW&&i.resizingHorizontal===Ae.FILL_CONTAINER?(o=i["flex-grow"]||1,l=i.screenWidth):c===Nt.COLUMN&&i.resizingVertical===Ae.FILL_CONTAINER&&(o=i["flex-grow"]||1,l=i.screenHeight),A("div",{class:"flex-grow-item",style:{left:g.px(n[0]),top:g.px(n[1])},"data-flex-item-id":i.id,"data-parent-direction":c,"data-flex-grow":o},l," | ",o||"none")}).join("")})}[xe("$el .flex-grow-item")+Ve()+ze()](t){const[r,i]=t.$dt.attrs("data-flex-item-id","data-flex-grow");this.state={id:r,grow:+i}}move(t,r){const{id:i,grow:s}=this.state,n=this.$editor.get(i);if(!n)return;const o=n.parent;if(!o)return;const l=o["flex-direction"];let c=s;l===Nt.ROW&&n.resizingHorizontal===Ae.FILL_CONTAINER?c=s+Math.floor(t/10):l===Nt.COLUMN&&n.resizingVertical===Ae.FILL_CONTAINER&&(c=s+Math.floor(r/10)),c=Math.max(1,c),this.emit("setAttributeForMulti",{[i]:{"flex-grow":c}})}end(){}[I("updateViewport")](){this.refresh()}[I("refreshSelection")+es(100)](){this.refresh()}[I("refreshSelectionStyleView")+es(1)](){this.refresh()}}function i8(a){a.registerElement({FlexLayoutEditor:XV,GridLayoutEditor:ZV,GridBoxEditor:WV,GridGapEditor:KV}),a.registerUI("inspector.tab.style",{LayoutProperty:QV,ResizingProperty:e8,ResizingItemProperty:t8,DefaultLayoutItemProperty:JV,GridLayoutItemProperty:qV}),a.registerUI("canvas.view",{FlexGrowToolView:r8},1e3)}var s8={key:"check",title:"Check",execute:function(){return[{pattern:"check(20px 20px, 10px 10px, black, transparent)"},{pattern:"check(40px 40px, 20px 20px, black, transparent)"},{pattern:"check(60px 60px, 30px 30px, #DDB104, rgba(254,240,188,0))"},{pattern:"check(80px 80px, 40px 40px, #DDB104, rgba(254,240,188,0))"},{pattern:"check(100px 100px, 50px 50px, #DCF3DC, transparent)"},{pattern:"check(200px 200px, 100px 100px, #102C45, transparent)"}]}},a8={key:"grid",title:"Grid",execute:function(){return[{pattern:"grid(20px 20px, 10px 10px, black, transparent)"},{pattern:"grid(40px 40px, 20px 20px, black, transparent)"},{pattern:"grid(60px 60px, 30px 30px, #DDB104, rgba(254,240,188,0))"},{pattern:"grid(80px 80px, 40px 40px, #DDB104, rgba(254,240,188,0))"},{pattern:"grid(100px 100px, 50px 50px, #DCF3DC, transparent)"},{pattern:"grid(200px 200px, 100px 100px, #102C45, transparent)"}]}},n8={key:"dot",title:"Dot",execute:function(){return[{pattern:"dot(20px 20px, 10px 10px, #B7C4CD, white, normal, 1px)"},{pattern:"dot(40px 40px, 20px 20px, #E7393F, #FEF0BC, normal, 2px)"},{pattern:"dot(60px 60px, 30px 30px, #E7393F, black, normal, 3px)"},{pattern:"dot(80px 80px, 40px 40px, #B7C4CD, white, normal, 4px)"}]}},o8={key:"cross-dot",title:"Cross Dot",execute:function(){return[{pattern:"cross-dot(20px 20px, 10px 10px, #B7C4CD, white, normal, 1px)"},{pattern:"cross-dot(40px 40px, 20px 20px, #DDB104, #FEF0BC, normal, 4px)"},{pattern:"cross-dot(60px 60px, 30px 30px, #35DB92, #DCF9EC, normal, 6px)"}]}},l8={key:"diagonal-line",title:"Diagonal Line",execute:function(){return[{pattern:"diagonal-line(10px 10px, 45deg, #B7C4CD, white, normal, 1px)"},{pattern:"diagonal-line(25px 25px, 90deg, #DDB104, #FEF0BC, normal, 2px)"},{pattern:"diagonal-line(50px 50px, 135deg, #35DB92, #DCF9EC, normal, 3px)"}]}},c8={key:"vertical-line",title:"Vertical Line",execute:function(){return[{pattern:"vertical-line(10px 10px, 0px, #B7C4CD, white, normal, 1px)"},{pattern:"vertical-line(25px 25px, 0px, #DDB104, #FEF0BC, normal, 2px)"},{pattern:"vertical-line(50px 50px, 0px, black, rgba(231,57,63,0.9), normal, 1px)"}]}},h8={key:"horizontal-line",title:"Horizontal Line",execute:function(){return[{pattern:"horizontal-line(10px 10px, 0, #B7C4CD, white, normal, 1px)"},{pattern:"horizontal-line(25px 25px, 0, #DDB104, #FEF0BC, normal, 2px)"},{pattern:"horizontal-line(50px 50px, 0, #35DB92, #DCF9EC, normal, 3px)"}]}},Dl=[s8,a8,n8,o8,l8,c8,h8],K7="";class d8 extends De{getTitle(){return this.$i18n("pattern.asset.property.title")}initState(){return{mode:"grid",preset:"check"}}getTools(){const t=Fr(Dl.map(r=>({value:r.key,text:r.title})));return E("SelectEditor",{ref:"$assets",key:"preset",value:this.state.preset,options:t,onchange:"changePreset"})}[Q("changePreset")](t,r){this.setState({[t]:r})}getClassName(){return"elf--pattern-assets-property"}get editableProperty(){return"pattern"}[I("refreshSelection")+Xe(100)+Se("checkShow")](){}getBody(){return`
      <div class='property-item pattern-assets'>
        <div class='pattern-list' ref='$patternList' data-view-mode='${this.state.mode}'></div>
      </div>
    `}[yr("$patternList .pattern-item")](t){const r=t.$dt.attr("data-pattern");t.dataTransfer.effectAllowed="copy",t.dataTransfer.setData("text/pattern",r)}[U("$patternList")](){var t=Dl.find(i=>i.key===this.state.preset);if(!t)return"";var r=t.execute().map((i,s)=>{const n=Ge(fr.toCSS(i.pattern));return`
        <div class='pattern-item' data-index="${s}" data-pattern="${i.pattern}">
          <div class='preview' title="${i.title}" draggable="true">
            <div class='pattern-view' style='${n}'></div>
          </div>
        </div>
      `});return r}[F("$patternList .pattern-item")](t){const r=t.$dt.attr("data-pattern");this.$modeView.isCurrentMode("CanvasView")?this.emit("addBackgroundImagePattern",r):this.emit("setPatternAsset",r)}}var Z7="";class u8 extends K{initState(){return{hideLabel:this.props.hideLabel,value:this.props.value,patterns:this.parsePattern(this.props.value)}}parsePattern(t){return t==="undefined"?[]:fr.parseStyle(t)}setValue(t){this.setState({value:t,patterns:this.parsePattern(t)})}template(){return this.state.hideLabel,`
            <div class='elf--pattern-editor' >
                <div class='pattern-list' ref='$patternList'></div>
            </div>
        `}[U("$patternList")](){return this.state.patterns.map((t,r)=>{const i=t.selected?"selected":"";return t.selected&&(this.selectedIndex=r),`
            <div class='pattern-item ${i}' data-index='${r}' ref="fillIndex${r}"  draggable='true'>
                ${E("PatternSizeEditor",{key:"pattern-size",ref:`$bp${r}`,type:t.type,x:t.x,y:t.y,width:t.width,height:t.height,index:r,foreColor:t.foreColor,backColor:t.backColor,blendMode:t.blendMode,lineWidth:t.lineWidth,lineHeight:t.lineHeight,onchange:"changePatternSizeInfo"})}
                <div class='tools'>
                    <button type="button" class='remove' title='Remove a pattern' data-index='${r}'>${O("remove")}</button>
                </div>
            </div>
            `})}modifyPattern(){var t=fr.join(this.state.patterns);this.parent.trigger(this.props.onchange,this.props.key,t)}[I("add")](t="check"){var r=Dl.find(i=>i.key===t);if(r){console.log(this,r.execute()[0]);const i=fr.parseStyle(r.execute()[0].pattern);this.state.patterns.push.apply(this.state.patterns,i),this.refresh(),this.modifyPattern()}}[F("$add")](){this.trigger("add")}[yr("$patternList .pattern-item")](t){this.startIndex=+t.$dt.attr("data-index")}[Pr("$patternList .pattern-item")+Pe](t){}sortItem(t,r,i){t.splice(i+(r<i?-1:0),0,...t.splice(r,1))}sortPattern(t,r){this.sortItem(this.state.patterns,t,r)}[wr("$patternList .pattern-item")+Pe](t){var r=+t.$dt.attr("data-index");this.selectItem(this.startIndex,!0),this.sortPattern(this.startIndex,r),this.modifyPattern(),this.refresh()}getCurrentPattern(){return this.state.patterns[this.selectedIndex]}[F("$patternList .tools .remove")](t){var r=+t.$dt.attr("data-index");this.state.patterns.splice(r,1),this.modifyPattern(),this.refresh()}selectItem(t,r=!0){r?this.refs[`fillIndex${t}`].addClass("selected"):this.refs[`fillIndex${t}`].removeClass("selected"),this.state.patterns.forEach((i,s)=>{i.selected=s===t})}[I("changePatternSizeInfo")+Xe(10)](t,r,i){var s=this.state.patterns[i];s.reset(r),this.modifyPattern(),this.refresh()}}var q7="";class p8 extends jr{getClassName(){return"pattern-info-popup"}getTitle(){return this.$i18n("pattern.info.popup.title")}initState(){return{type:this.props.type||"grid",x:this.props.x||0,y:this.props.y||0,width:this.props.width||0,height:this.props.height||0,lineWidth:this.props.lineWidth||1,lineHeight:this.props.lineHeight||1,foreColor:this.props.foreColor||"black",backColor:this.props.backColor||"transparent",blendMode:this.props.blendMode||"normal"}}updateData(t={}){this.setState(t,!1);const{x:r,y:i,width:s,height:n,foreColor:o,backColor:l,blendMode:c,lineWidth:h,lineHeight:d}=this.state;this.state.instance.trigger(this.state.changeEvent,{x:r,y:i,width:s,height:n,foreColor:o,backColor:l,blendMode:c,lineWidth:h,lineHeight:d})}[Q("changeRangeEditor")](t,r){this.updateData({[t]:r})}templateForX(){if(this.hasNotX())return"";let t="X",r="";return this.state.type==="diagonal-line"&&(t=this.$i18n("pattern.info.popup.rotate"),r=["deg"]),E("InputRangeEditor",{label:t,ref:"$x",key:"x",value:this.state.x,min:0,max:1e3,step:1,units:r,onchange:"changeRangeEditor"})}templateForY(){return this.hasNotY()?"<div></div>":E("InputRangeEditor",{label:"Y",ref:"$y",key:"y",value:this.state.y,min:0,max:1e3,step:1,onchange:"changeRangeEditor"})}templateForLabel(){return`<label>${this.state.type}</label>`}templateForWidth(){return E("InputRangeEditor",{label:this.$i18n("pattern.info.popup.width"),ref:"$width",key:"width",value:this.state.width,min:0,max:500,step:1,onchange:"changeRangeEditor"})}templateForHeight(){return E("InputRangeEditor",{label:this.$i18n("pattern.info.popup.height"),ref:"$height",key:"height",value:this.state.height,min:0,max:500,step:1,onchange:"changeRangeEditor"})}hasNotLineWidth(){return["check"].includes(this.state.type)}hasNotLineHeight(){return["cross-dot","dot","check","diagonal-line","horizontal-line"].includes(this.state.type)}hasNotX(){return["grid","dot","horizontal-line"].includes(this.state.type)}hasNotY(){return["grid","dot","diagonal-line","vertical-line"].includes(this.state.type)}templateForLineWidth(){return this.hasNotLineWidth()?"<div></div>":E("InputRangeEditor",{label:this.$i18n("pattern.info.popup.lineWidth"),ref:"$lineWidth",key:"lineWidth",value:this.state.lineWidth,min:0,max:500,step:1,onchange:"changeRangeEditor"})}templateForLineHeight(){return this.hasNotLineHeight()?"<div></div>":E("InputRangeEditor",{label:this.$i18n("pattern.info.popup.lineHeight"),ref:"$lineHeight",key:"lineHeight",value:this.state.lineHeight,min:0,max:500,step:1,onchange:"changeRangeEditor"})}templateForForeColor(){return E("ColorViewEditor",{ref:"$foreColor",label:this.$i18n("pattern.info.popup.foreColor"),key:"foreColor",value:this.state.foreColor,onchange:"changeRangeEditor"})}templateForBackColor(){return E("ColorViewEditor",{ref:"$backColor",label:this.$i18n("pattern.info.popup.backColor"),key:"backColor",value:this.state.backColor,onchange:"changeRangeEditor"})}templateForBlendMode(){return`
    <div class=''>
      ${E("BlendSelectEditor",{ref:"$blend",key:"blendMode",label:this.$i18n("pattern.info.popup.blend"),value:this.state.blendMode,onchange:"changeRangeEditor"})}
    </div>
    `}getBody(){return`
      <div class="background-image-position-picker" ref='$picker'></div>
    `}[U("$picker")](){return`
      
      <div class='box'>
          <div>
            ${this.templateForLabel()}
          </div>
          <div>
            ${this.templateForWidth()}
            ${this.templateForHeight()}        
          </div>
          <div>
            ${this.templateForLineWidth()}
            ${this.templateForLineHeight()}                  
          </div>
          <div>
            ${this.templateForX()}
            ${this.templateForY()}
          </div>
          <div>
            ${this.templateForForeColor()}
            ${this.templateForBackColor()}
          </div>
          <div>
            ${this.templateForBlendMode()}
          </div>
      </div>
    `}[I("showPatternInfoPopup")](t,r){this.state.changeEvent=t.changeEvent||"changePatternInfoPopup",this.state.instance=t.instance,this.setState(t.data),this.showByRect(r)}}var Q7="";class g8 extends De{getTitle(){return this.$i18n("pattern.property.title")}getClassName(){return"el--pattern-property"}getTitleClassName(){return"pattern"}getBody(){return"<div class='pattern-property' ref='$body'></div>"}getTools(){return`
      <div ref='$tools' class='add-tools'>
        <button type="button" data-pattern='check' data-tooltip="Check">${O("pattern_check")}</button>
        <button type="button" data-pattern='grid' data-tooltip="Grid">${O("pattern_grid")}</button>
        <button type="button" data-pattern='dot' data-tooltip="Dot">${O("pattern_dot")}</button>
        <button type="button" data-pattern='cross-dot' data-tooltip="Cross Dot">${O("pattern_cross_dot","rotate(45 12 12)")}</button>
        <button type="button" data-pattern='diagonal-line' data-tooltip="Diagonal Line">${O("texture")}</button>
        <button type="button" data-pattern='vertical-line' data-tooltip="Vertical Line" data-direction="bottom right">${O("pattern_horizontal_line","rotate(90 12 12)")}</button>
        <button type="button" data-pattern='horizontal-line' data-tooltip="Horizontal Line" data-direction="bottom right">${O("pattern_horizontal_line")}</button>
      </div>
    `}[F("$tools button")](t){var r=t.$dt.data("pattern");this.children.$patternEditor.trigger("add",r)}[U("$body")](){var t=this.$selection.current||{},r=t.pattern;return E("PatternEditor",{ref:"$patternEditor",value:r,"hide-label":!0,onchange:"changePatternEditor"})}[Q("changePatternEditor")](t,r){this.command("setAttributeForMulti","change pattern",this.$selection.packByValue({pattern:r}))}get editableProperty(){return"pattern"}[I("refreshSelection")+Se("checkShow")](){this.refresh()}[I("refreshSVGArea")+Xe(1e3)](){this.load("$patternSelect")}}var J7="";class f8 extends K{initState(){return{index:this.props.index,x:g.parse(this.props.x),y:g.parse(this.props.y),width:g.parse(this.props.width),height:g.parse(this.props.height),lineWidth:g.parse(this.props.lineWidth),lineHeight:g.parse(this.props.lineHeight),backColor:this.props.backColor,foreColor:this.props.foreColor,blendMode:this.props.blendMode,type:this.props.type}}updateData(t={}){this.setState(t,!1),this.modifyValue(t)}modifyValue(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.state.index)}setValue(t){this.setState(v({},t))}[se("$miniView")](){const{type:t,x:r,y:i,width:s,height:n,lineWidth:o,lineHeight:l,backColor:c,foreColor:h,blendMode:d}=this.state;let p={type:t,x:r,y:i,width:s,height:n,lineWidth:o,lineHeight:l,backColor:c,foreColor:h,blendMode:d};return this.state.width>80&&(p.width=80,p.x=p.x.value/this.state.width/80),this.state.height>80&&(p.height=80,p.y=this.state.y.value/this.state.height/80),{cssText:fr.parse(p).toCSS()}}template(){return`
            <div class='elf--pattern-size-editor'>
                <div class='preview' ref='$preview'>
                    <div class='mini-view'>
                        <div class='color-view' style="background-color: ${this.state.color}" ref='$miniView'></div>
                    </div>
                </div>
            </div>
        `}[F("$preview")](t){this.viewBackgroundPositionPopup()}viewBackgroundPositionPopup(){this.emit("getLayoutElement",t=>{const r=t.$bodyPanel.rect(),i=this.$el.rect(),s={left:r.left+r.width-240,top:i.top,width:240,height:300};this.emit("showPatternInfoPopup",{changeEvent:n=>{this.updateData(v({},n))},data:this.state,instance:this},s)})}}function m8(a){a.registerElement({PatternEditor:u8,PatternSizeEditor:f8,PatternAssetsProperty:d8}),a.registerUI("inspector.tab.style",{PatternProperty:g8}),a.registerUI("popup",{PatternInfoPopup:p8})}class v8 extends De{getTitle(){return this.$i18n("perspective.property.title")}getKeyframeProperty(){return"perspective"}getTools(){return`
        <button type="button" class="remove" ref='$remove'>${ae.remove}</button>
    `}[F("$remove")](){this.trigger("changePerspective","perspective","")}getBody(){return"<div class='property-item' ref='$perspective'></div>"}[U("$perspective")](){var t=this.$selection.current||{},r=t.perspective||"";return E("RangeEditor",{ref:"$1",key:"perspective",value:r,max:"2000px",onchange:"changePerspective"})}[Q("changePerspective")](t,r){this.command("setAttributeForMulti","change perspective",this.$selection.packByValue({[t]:r}))}get editableProperty(){return"perspective"}[I("refreshSelection")+Xe(100)+Se("checkShow")](){this.refresh()}}function y8(a){a.registerUI("inspector.tab.style",{PerspectiveProperty:v8})}var eO="";const fu=[{key:"perspective-origin-x",title:"X"},{key:"perspective-origin-y",title:"Y"}],mu=fu.map(a=>a.key),b8={top:"50% 0%","top left":"0% 0%","top right":"100% 0%",left:"0% 50%",center:"50% 50%",right:"100% 50%",bottom:"50% 100%","bottom left":"0% 100%","bottom right":"100% 100%"};class $8 extends K{initState(){var t=this.props.value.split(" "),r={isAll:!0,"perspective-origin":0,"perspective-origin-x":0,"perspective-origin-y":0};return this.props.value&&(t.length===1?(r.isAll=!0,r["perspective-origin"]=g.parse(t[0]),r["perspective-origin-x"]=g.parse(t[0]),r["perspective-origin-y"]=g.parse(t[0])):t.length==2&&(r.isAll=!1,r["perspective-origin-x"]=g.parse(t[0]),r["perspective-origin-y"]=g.parse(t[1]))),r}template(){return`
      <div class='elf--perspective-origin-editor' ref='$body'>
        <div class='direction' ref='$direction'>
          <div class='pos' data-value='top'></div>
          <div class='pos' data-value='top left'></div>
          <div class='pos' data-value='top right'></div>
          <div class='pos' data-value='bottom'></div>
          <div class='pos' data-value='bottom left'></div>
          <div class='pos' data-value='bottom right'></div>
          <div class='pos' data-value='left'></div>
          <div class='pos' data-value='right'></div>
          <div class='pos' data-value='center'></div>
        </div>
        <div ref='$body'></div>
      </div>
    `}[F("$direction .pos")](t){var r=t.$dt.attr("data-value");this.state.isAll=!1;var[i,s]=b8[r].split(" ");this.state["perspective-origin-x"]=g.parse(i),this.state["perspective-origin-y"]=g.parse(s),this.refresh(),this.modifyPerspectiveOrigin()}[Q("changePerspectiveOrigin")](t,r){t==="perspective-origin"&&mu.forEach(i=>{this.children[`$${i}`].setValue(r.toString())}),this.setPerspectiveOrigin()}[U("$body")](){var t=this.state.isAll?"all":"partitial",r=this.state["perspective-origin"];return`
      <div class="property-item perspective-origin-item">
        <div class="radius-selector" data-selected-value="${t}" ref="$selector">
          <button type="button" data-value="all">${ae.border_all}</button>
          <button type="button" data-value="partitial">
            ${ae.border_inner}
          </button>
        </div>
        <div class="radius-value">
          ${E("RangeEditor",{ref:"$all",key:"perspective-origin",value:r,onchange:"changePerspectiveOrigin"})}
          
        </div>
      </div>
      <div
        class="property-item full perspective-origin-item"
        ref="$partitialSetting"
        style="display: none;"
      >
        <div class="radius-setting-box" ref="$radiusSettingBox">
          ${fu.map(i=>{var s=this.$i18n(i.title);return`
              <div>
                ${E("RangeEditor",{ref:`$${i.key}`,label:s,key:i.key,value:this.state[i.key],onchange:"changePerspectiveOrigin"})}
              </div>  
            `}).join("")}
        </div>
      </div>
    `}setPerspectiveOrigin(){var t=this.refs.$selector.attr("data-selected-value");t==="all"?(this.state.isAll=!0,this.state["perspective-origin"]=this.children.$all.getValue()):(this.state.isAll=!1,mu.forEach(r=>{this.state[r]=this.children[`$${r}`].getValue()})),this.modifyPerspectiveOrigin()}modifyPerspectiveOrigin(){var t="";this.state.isAll?t=`${this.state["perspective-origin"]}`:t=`${this.state["perspective-origin-x"]} ${this.state["perspective-origin-y"]}`,this.parent.trigger(this.props.onchange,t)}[F("$selector button")](t){var r=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",r),r==="all"?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setPerspectiveOrigin()}}class x8 extends De{getTitle(){return this.$i18n("perspective.origin.property.title")}getKeyframeProperty(){return"perspective-origin"}getTools(){return`
        <button type="button" class="remove" ref='$remove'>${ae.remove}</button>
    `}[F("$remove")](){this.trigger("changePerspectiveOrigin","")}getBody(){return`
      <div class="property-item full perspective-origin-item" ref='$body'></div>
    `}[U("$body")](){var t=this.$selection.current||{},r=t["perspective-origin"]||"";return E("PerspectiveOriginEditor",{ref:"$1",value:r,onchange:"changePerspectiveOrigin"})}get editableProperty(){return"perspective-origin"}[I("refreshSelection")+Xe(100)+Se("checkShow")](){this.refresh()}[Q("changePerspectiveOrigin")](t){this.command("setAttributeForMulti","change perspective origin",this.$selection.packByValue({"perspective-origin":t}))}}function _8(a){a.registerElement({PerspectiveOriginEditor:$8}),a.registerUI("inspector.tab.style",{PerspectiveOriginProperty:x8})}var tO="";const Qn=0;class S8 extends De{getTitle(){return this.$i18n("position.property.title")}afterRender(){this.show()}[I("refreshSelection")](){this.refreshShowIsNot(["project"])}checkChangedValue(){var t=this.$selection.current;return t?t.hasChangedField("x","y","right","bottom","width","height","angle","transform","rotateZ","rotate","opacity","constraints-horizontal","constriants-vertical"):!1}[I("refreshSelectionStyleView")+Se("checkChangedValue")+es(10)](){var t=this.$selection.current;if(!t)return"";this.children.$x.setValue(t.offsetX||Qn),this.children.$y.setValue(t.offsetY||Qn),this.children.$width.setValue(t.width||Qn),this.children.$height.setValue(t.height||Qn),this.children.$opacity.setValue(t.opacity||"1");const r=Ke.get(t.transform,"rotateZ");r?this.children.$rotate.setValue(r[0]):this.children.$rotate.setValue(g.deg(0))}isHideHeader(){return!0}getBodyClassName(){return"no-padding"}getBody(){return`
      <div class="position-item" ref="$positionItem" style='padding: 5px 10px;'>
        <div class="grid-layout">
          ${E("NumberInputEditor",{ref:"$x",compact:!0,label:"X",key:"x",min:-1e5,max:1e5,trigger:"enter",onchange:"changRangeEditor"})}
          ${E("NumberInputEditor",{ref:"$y",compact:!0,trigger:"enter",label:"Y",key:"y",min:-1e4,max:1e4,onchange:"changRangeEditor"})}
        </div>
        <div class="grid-layout">          
          ${E("NumberInputEditor",{ref:"$width",compact:!0,trigger:"enter",label:"W",key:"width",min:0,max:3e3,onchange:"changRangeEditor"})}
          ${E("NumberInputEditor",{ref:"$height",compact:!0,trigger:"enter",label:"H",key:"height",min:0,max:3e3,onchange:"changRangeEditor"})}
        </div> 
        <div class="grid-layout">
          ${E("InputRangeEditor",{ref:"$rotate",key:"rotateZ",compact:!0,label:"rotate_left",min:-360,max:360,step:1,units:["deg"],onchange:"changeRotate"})}
          ${E("NumberInputEditor",{ref:"$opacity",key:"opacity",compact:!0,label:"opacity",min:0,max:1,step:.01,onchange:"changeSelect"})}
        </div>                
      </div>
    `}refresh(){const t=this.$selection.current;if(t){this.children.$x.setValue(t.offsetX),this.children.$y.setValue(t.offsetY),this.children.$width.setValue(t.width),this.children.$height.setValue(t.height),this.children.$opacity.setValue(t.opacity||"1");const r=Ke.get(t.transform,"rotateZ");r&&this.children.$rotate.setValue(r[0])}}[F("$positionItem button[data-command]")](t){const r=t.$dt.data("command");console.log(r)}[Q("changRangeEditor")](t,r){this.command("setAttributeForMulti","change position or size",this.$selection.packByValue({[t]:r}))}[Q("changeRotate")](t,r){this.command("setAttributeForMulti","change rotate",this.$selection.packByValue({angle:r.value}))}[Q("changeSelect")](t,r){this.command("setAttributeForMulti",`change ${t}`,this.$selection.packByValue({[t]:r}))}}function w8(a){a.registerUI("inspector.tab.style",{PositionProperty:S8})}var rO="";class P8 extends De{getTitle(){return this.$i18n("project.property.title")}getClassName(){return"full"}getTools(){return`
      <button type='button' ref='$add' data-tooltip="Add a project" data-direction="bottom right">${ae.add}</button>
    `}[F("$add")](){this.emit("addProject")}getBody(){return`
      <div class="elf--project-list scrollbar" ref="$projectList"></div>
    `}[U("$projectList")+st](){var t=this.$model.projects||[];return t.map((r,i)=>{var s=r===this.$selection.currentProject.id?"selected":"";const n=this.$model.get(r);return`
        <div class='project-item ${s}'>
          <div class='detail'>
            <label data-id='${r}'>${n.name||"New Project"}</label>
            <div class="tools">
              <button type="button" class="remove" data-id="${r}" title='Remove'>${ae.remove2}</button>
            </div>
          </div>
        </div>
      `})}[ts("$projectList .project-item")](t){this.startInputEditing(t.$dt.$("label"))}modifyDoneInputEditing(t){this.endInputEditing(t,(r,i)=>{var s=this.$editor.projects[r];s&&s.reset({name:i})})}[ia("$projectList .project-item label")+Si+Pe+Jt](t){return this.modifyDoneInputEditing(t.$dt),!1}[wi("$projectList .project-item label")+Pe+Jt](t){this.modifyDoneInputEditing(t.$dt)}[F("$projectList .project-item label")](t){var r=t.$dt.attr("data-id");this.command("refreshSelectionPorject","change project",r),this.nextTick(()=>{this.refresh()})}[F("$projectList .project-item .remove")](t){var r=t.$dt.attr("data-id");this.command("removeProject","remove project",r),this.nextTick(()=>{this.refresh()})}[I("refreshProjectList","refreshAll")](){this.refresh()}}function C8(a){a.registerElement({ProjectProperty:P8})}var iO="";class Fl extends K{initState(){var t=this.props.split||",",r=Array.isArray(this.props.options)?this.props.options.map(o=>typeof o=="string"?{value:o,text:o}:o):(this.props.options||"").split(t).map(o=>o.trim()).map(o=>{const[l,c]=o.split(":");return{value:l,text:c||l}}),i=this.props.value,s=this.props.tabindex,n=this.props.title;return{splitChar:t,label:this.props.label||"",title:n,options:r,value:i,tabIndex:s}}template(){var{label:t,title:r,tabIndex:i,value:s=Zt.NORMAL}=this.state,n=t?"has-label":"",o=i?'tabIndex="1"':"",l=this.props.compact?"compact":"";return ae[t]&&(t=O(t)),`
            <div class='elf--select-editor ${n} ${l}'>
                ${t?`<label title="${r}">${t}</label>`:""}
                <div class="editor-view">
                    <select ref='$options' ${o}></select>
                    <div class='selected-value'>
                        <span class='value' ref="$selectedValue">${s}</span>
                        <span class='expand' ref='$expand'>${O("expand_more")}</span>
                    </div>
                </div>
            </div>
        `}getValue(){return this.refs.$options.value}setValue(t){this.state.value=t+"",this.refs.$options.val(this.state.value),this.refresh()}[se("$options")](){return{"data-count":this.state.options.length.toString()}}[se("$selectedValue")](){var t;return{text:(t=this.state.options.find(r=>r.value===this.state.value))==null?void 0:t.text}}[U("$options")+st](){var t=this.state.options.map(r=>{var i=r.value,s=r.text||r.value;s===""?s=this.props["none-value"]?this.props["none-value"]:"":s==="-"&&(s="----------",i="");var n=i===this.state.value?"selected":"";const o=r.disabled?"disabled":"";return`<option ${n} value="${i}" ${o}>${s}</option>`});return t}[Cr("$options")](){this.updateData({value:this.refs.$options.value}),this.bindData("$selectedValue")}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}const k8=[Zt.NORMAL,Zt.MULTIPLY,Zt.SCREEN,Zt.OVERLAY,Zt.DARKEN,Zt.LIGHTEN,Zt.COLOR_DODGE,Zt.COLOR_BURN,Zt.HARD_LIGHT,Zt.SOFT_LIGHT,Zt.DIFFERENCE,Zt.EXCLUSION,Zt.HUE,Zt.SATURATION,Zt.COLOR,Zt.LUMINOSITY];class T8 extends Fl{getBlendList(){return k8.map(t=>({value:t,text:this.$i18n(`blend.${t}`)}))}initState(){return le(v({},super.initState()),{options:this.getBlendList()})}}const M8=["#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00","#FF6F00","#FFE57F","#FFD740","#FFC400","#FFAB00"].map(a=>({color:a}));var I8={title:"material amber",key:"material-amber",execute:function(){return M8}},E8=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:I8});const L8=["#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#2196f3","#82b1ff","#448aff","#2979ff","#2962ff"].map(a=>({color:a}));var V8={title:"material blue",key:"material-blue",execute:function(){return L8}},R8=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:V8});const z8=["#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F","#263238"].map(a=>({color:a}));var j8={title:"material bluegray",key:"material-bluegray",execute:function(){return z8}},A8=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j8});const O8=["#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E","#3E2723"].map(a=>({color:a}));var D8={title:"material brown",key:"material-brown",execute:function(){return O8}},F8=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:D8});const B8=["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#00bcd4","#84ffff","#18ffff","#00e5ff","#00b8d4"].map(a=>({color:a}));var N8={title:"material cyan",key:"material-cyan",execute:function(){return B8}},G8=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:N8});const H8=["#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315","#BF360C","#FF9E80","#FF6E40","#FF3D00","#DD2C00"].map(a=>({color:a}));var U8={title:"material deep orange",key:"material-deeporange",execute:function(){return H8}},X8=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U8});const Y8=["#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#673ab7","#b388ff","#7c4dff","#651fff","#6200ea"].map(a=>({color:a}));var W8={title:"material deep purple",key:"material-deeppurple",execute:function(){return Y8}},K8=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W8});const Z8=["#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#212121"].map(a=>({color:a}));var q8={title:"material gray",key:"material-gray",execute:function(){return Z8}},Q8=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:q8});const J8=["#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32","#1B5E20","#B9F6CA","#69F0AE","#00E676","#00C853"].map(a=>({color:a}));var e6={title:"material green",key:"material-green",execute:function(){return J8}},t6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:e6});const r6=["#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#3f51b5","#8c9eff","#536dfe","#3d5afe","#304ffe"].map(a=>({color:a}));var i6={title:"material indigo",key:"material-indigo",execute:function(){return r6}},s6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:i6});const a6=["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#03a9f4","#80d8ff","#40c4ff","#00b0ff","#0091ea"].map(a=>({color:a}));var n6={title:"material light blue",key:"material-lightblue",execute:function(){return a6}},o6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:n6});const l6=["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E","#CCFF90","#B2FF59","#76FF03","#64DD17"].map(a=>({color:a}));var c6={title:"material lightgreen",key:"material-lightgreen",execute:function(){return l6}},h6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:c6});const d6=["#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24","#827717","#F4FF81","#EEFF41","#C6FF00","#AEEA00"].map(a=>({color:a}));var u6={title:"material lime",key:"material-lime",execute:function(){return d6}},p6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:u6});const g6=["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100","#FFD180","#FFAB40","#FF9100","#FF6D00"].map(a=>({color:a}));var f6={title:"material orange",key:"material-orange",execute:function(){return g6}},m6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:f6});const v6=["#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#e91e63","#ff80ab","#ff4081","#f50057","#c51162"].map(a=>({color:a}));var y6={title:"material pink",key:"material-pink",execute:function(){return v6}},b6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:y6});const $6=["#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#9c27b0","#ea80fc","#e040fb","#d500f9","#aa00ff"].map(a=>({color:a}));var x6={title:"material purple",key:"material-purple",execute:function(){return $6}},_6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:x6});const S6=["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#f44336","#ff8a80","#ff5252","#ff1744","#d50000"].map(a=>({color:a}));var w6={title:"material red",key:"material-red",execute:function(){return S6}},P6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:w6});const C6=["#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#009688","#a7ffeb","#64ffda","#1de9b6","#00bfa5"].map(a=>({color:a}));var k6={title:"material teal",key:"material-teal",execute:function(){return C6}},T6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:k6});const M6=["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17","#FFFF8D","#FFFF00","#FFEA00","#FFD600"].map(a=>({color:a}));var I6={title:"material yellow",key:"material-yellow",execute:function(){return M6}},E6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:I6});const L6=["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"].map(a=>({color:a}));var V6={title:"opencolor gray",resource:"https://yeun.github.io/open-color/",key:"opencolor-gray",execute:function(){return L6}},R6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:V6}),z6={title:"random",key:"random",execute:function(a=42){const t=Le.randomByCount(a).map(r=>({color:r}));return t.sort((r,i)=>{const s=Le.parse(r.color),n=Le.parse(i.color);return s.h>n.h?1:-1}),t}},j6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:z6}),A6=Object.values({"./colors_list/material-amber.js":E8,"./colors_list/material-blue.js":R8,"./colors_list/material-bluegray.js":A8,"./colors_list/material-brown.js":F8,"./colors_list/material-cyan.js":G8,"./colors_list/material-deeporange.js":X8,"./colors_list/material-deeppurple.js":K8,"./colors_list/material-gray.js":Q8,"./colors_list/material-green.js":t6,"./colors_list/material-indigo.js":s6,"./colors_list/material-lightblue.js":o6,"./colors_list/material-lightgreen.js":h6,"./colors_list/material-lime.js":p6,"./colors_list/material-orange.js":m6,"./colors_list/material-pink.js":b6,"./colors_list/material-purple.js":_6,"./colors_list/material-red.js":P6,"./colors_list/material-teal.js":T6,"./colors_list/material-yellow.js":E6,"./colors_list/opencolor-gray.js":R6,"./colors_list/random.js":j6}).map(a=>a.default),aO="";class O6 extends K{initState(){return{mode:"grid",preset:"random",isLoaded:!1,colors:A6}}getTools(){return'<div ref="$tools"></div>'}[U("$tools")](){const t=Fr(this.state.colors.map(r=>({value:r.key,text:r.title})));return E("SelectEditor",{key:"preset",value:this.state.preset,options:t,onchange:"changePreset"})}[I("changePreset")](t,r){this.setState({[t]:r})}template(){return`
      <div class='elf--color-assets-editor'>
        <div class='color-assets-head'>
          <div class='tools'>${this.getTools()}</div>
        </div>
        <div class='color-list' ref='$colorList' data-view-mode='${this.state.mode}'></div>
      </div>
    `}[F("$title")](){this.$el.toggleClass("is-open")}[U("$colorList")](){var t=this.state.colors.find(i=>i.key===this.state.preset);if(!t)return"";var r=t.execute().map((i,s)=>`
        <div class='color-item' data-index="${s}" data-color="${i.color}">
          <div class='preview' title="${i.color}" data-index="${s}">
            <div class='color-view' style='background-color: ${i.color};'></div>
          </div>
        </div>
      `);return r}executeColor(t,r=!0,i=!0){var s=this.$selection.currentProject;s?(t&&t(s),r&&this.refresh(),i&&this.emit("refreshColorAssets")):alert("Please select a project.")}[F("$colorList .preview")](t){const r=t.$dt.$(".color-view").css("background-color");this.modifyColorPicker(r)}modifyColorPicker(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.props.params)}}var nO="";class D6 extends K{initState(){return{params:this.props.params,color:this.props.color||"rgba(0, 0, 0, 1)"}}updateData(t={}){this.setState(t,!1),this.modifyColor()}modifyColor(){this.parent.trigger(this.props.onchange,this.props.key,this.state.color,this.state.params)}changeColor(t){this.setState({color:t})}setValue(t){this.changeColor(t)}[se("$miniView")](){return{style:{"background-color":this.state.color}}}template(){return`
            <div class='elf--color-single-editor'>
                <div class='preview' ref='$preview'>
                    <div class='mini-view'>
                        <div class='color-view' style="background-color: ${this.state.color}" ref='$miniView'></div>
                    </div>
                </div>
            </div>
        `}[F("$preview")](t){this.viewColorPicker()}viewColorPicker(){this.emit("showColorPickerPopup",{target:this,changeEvent:t=>{this.refs.$miniView.cssText(`background-color: ${t}`),this.updateData({color:t})},color:this.state.color})}}var oO="";class F6 extends K{initState(){const t=this.props.value||"rgba(0, 0, 0, 1)",r=Yr(this.props.compact)?this.props.compact:this.props.compact==="true",i=Yr(this.props.mini)?this.props.mini:this.props.mini==="true";return{label:this.props.label,value:t,compact:r,mini:i,color:Le.parse(t),colorFocus:!1,opacityFocus:!1}}updateData(t={}){this.setState(t),this.modifyColor()}updateEndData(t={}){this.setState(t),this.modifyEndColor()}getValue(){return this.state.value}setValue(t){this.changeColor(t)}modifyColor(){this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}modifyEndColor(){this.parent.trigger(this.props.onchangeend,this.props.key,this.state.value,this.props.params)}changeColor(t){this.setState({value:t,color:Le.parse(t)})}get alpha(){return this.state.color.a*100}get hexColor(){return Le.formatWithoutAlpha(this.state.color,"hex")}get fullColor(){return Le.format(this.state.color,this.state.color.type)}refresh(){this.refreshColorView(),this.refs.$colorCode.val(this.state.value),this.refs.$opacityCode.val(this.alpha)}refreshColorView(){this.bindData("$miniView1"),this.bindData("$miniView2")}template(){var{label:t,compact:r,mini:i}=this.state,s=t?"has-label":"",n=r?"compact":"",o=i?"mini":"";return`
            <div class='elf--color-view-editor ${s} ${n} ${o}'>
                ${t?`<label>${t}</label>`:""}            
                <div class='color-code' ref="$container">
                    <div class='preview' ref='$preview'>
                        <div class='mini-view'>
                            <div class='color-view' ref='$miniView1'></div>
                            <div class='color-view' ref='$miniView2'></div>
                        </div>
                    </div>                
                    <div class="color-input">
                        <input type="text" ref='$colorCode' value='${this.state.value}' tabIndex="1" />
                    </div>
                    <div class="opacity-input">                    
                        <input type="number" ref='$opacityCode' value='${this.alpha}' tabIndex="2" max="100" min="0" step="0.1" />
                    </div>                    
                </div>
            </div>
        `}[se("$el")](){return{class:{focused:this.state.colorFocus||this.state.opacityFocus}}}[se("$miniView1")](){return{style:{"background-color":this.hexColor}}}[se("$miniView2")](){return{style:{"background-color":this.fullColor}}}[se("$colorCode")](){return{value:this.props.format?this.hexColor:this.state.value}}[se("$opacityCode")](){return{value:this.alpha}}[sa("$colorCode")](t){this.setState({colorFocus:!0}),this.refs.$colorCode.select()}[wi("$colorCode")](t){this.setState({colorFocus:!1})}[sa("$opacityCode")](t){this.setState({opacityFocus:!0}),this.refs.$opacityCode.select()}[wi("$opacityCode")](t){this.setState({opacityFocus:!1})}[F("$preview")](t){this.viewColorPicker()}viewColorPicker(){this.emit("showColorPickerPopup",{target:this,changeEvent:t=>{this.updateData({value:t,color:Le.parse(t)})},changeEndEvent:t=>{this.updateEndData({value:t,color:Le.parse(t)})},color:this.state.value},null,this.$el.rect())}[F("$remove")](t){this.updateData({value:""})}[ot("$el .color-input input")](t){var r=t.$dt.value;this.updateData({value:r,color:Le.parse(r)}),this.refreshColorView()}[ot("$el .opacity-input input")](t){var r=+t.$dt.value;r=Math.max(0,Math.min(100,r));const i=Le.parse(this.state.value);i.a=We(r/100,1e3);const s=Le.format(i,i.type);this.updateData({value:s,color:i}),this.refreshColorView()}}var lO="";class B6 extends K{initState(){return{hideTitle:this.props["hide-title"]==="true",hideRefresh:this.props["hide-refresh"]==="true",properties:[]}}updateData(t){this.setState(t,!1),this.modifyProperty()}modifyProperty(){this.parent.trigger(this.props.onchange,this.state.properties)}template(){const t=this.state.hideTitle?"hide-title":"",r=this.state.hideRefresh?"hide-refresh":"";return`
      <div class='elf--css-property-editor ${t} ${r}'>
        <div class='title'>
          <label>${this.$i18n("css.property.editor.properties")}</label>
          <div class='tools'>
            ${this.makePropertySelect()}
            <button type="button" ref='$addProperty'>${ae.add}</button>
          </div>
        </div>
        <div class='input grid-1 css-property-list' ref='$property'></div>
      </div>
    `}getPropertyDefaultValue(t){switch(t){case"animation-timing-function":case"box-shadow":case"text-shadow":case"color":case"background-image":case"background-color":case"text-fill-color":case"text-stroke-color":case"filter":case"backdrop-filter":case"var":case"transform":case"transform-origin":case"perspective-origin":case"playTime":return g.string("");case"offset-distance":return g.percent(0);case"rotate":return g.deg(0);case"mix-blend-mode":return"normal";case"clip-path":return"";case"opacity":return 1;default:return 0}}[F("$addProperty")](t){var r=this.getRef("$propertySelect").value,i=this.state.properties.find(o=>o.key===r);if(i){alert(`${r} is already added.`);return}var s=this.getPropertyDefaultValue(r),n=this.$selection.current;n&&(s=n[r]),this.state.properties.push({key:r,value:s}),this.refresh(),this.modifyProperty()}makeIndivisualPropertyColorEditor(t,r){var i=t.key.split("-").join("");return`
      <div class='property-editor'>
        <object refClass="ColorViewEditor" ref='$${i}${r}' value="${t.value}" key="${t.key}" onChange="changeColorProperty" />
      </div>
    `}makeCustomePropertyEditor(t,r){return`
      <div class='property-editor'>
        ${E(t.editor,{onchange:"changeSelect",ref:`$customProperty${r}`,key:t.key,value:t.value})}
      </div>
    `}makeIndivisualPropertyEditor(t,r){return t.key==="background-image"?`
        <div class='property-editor'>
          ${E("BackgroundImageEditor",{ref:`$backgroundImage${r}`,key:t.key,"hide-title":this.state.hideTitle,value:t.value,onchange:"changeKeyValue"})}
        </div>
      `:t.key==="filter"?`
        <div class='property-editor'>
          <object refClass="FilterEditor" ref='$filter${r}' key="${t.key}" value="${t.value}" onChange="changeKeyValue" />
        </div>
      `:t.key==="backdrop-filter"?`
        <div class='property-editor'>
          <object refClass="FilterEditor" ref='$backdropFilter${r}' key="${t.key}" value="${t.value}" onChange="changeKeyValue" />
        </div>
      `:t.key==="box-shadow"?`
        <div class='property-editor'>
          <object refClass="BoxShadowEditor" ref='$boxshadow${r}' value="${t.value}" hide-label="false" onChange="changeBoxShadowProperty" />
        </div>
      `:t.key==="text-shadow"?`
        <div class='property-editor'>
          <object refClass="TextShadowEditor" ref='$textshadow${r}' value="${t.value}" hide-label="false" onChange="changeTextShadowProperty" />
        </div>
      `:t.key==="var"?`
        <div class='property-editor'>
          <object refClass="VarEditor" ref='$var${r}' value="${t.value}" onChange="changeVar" />
        </div>
      `:t.key==="transform"?`
        <div class='property-editor'>
          <object refClass="TransformEditor" ref='$transform${r}' value="${t.value}" onChange="changeTransform" />
        </div>
      `:t.key==="transform-origin"?`
        <div class='property-editor'>
          <object refClass="TransformOriginEditor" ref='$transformOrigin${r}' value="${t.value}" onChange="changeTransformOrigin" />
        </div>
      `:t.key==="perspective-origin"?`
        <div class='property-editor'>
          <object refClass="PerspectiveOriginEditor" ref='$perspectiveOrigin${r}' value="${t.value}" onChange="changePerspectiveOrigin" />
        </div>
      `:t.key==="fill-rule"?`
        <div class='property-editor'>
          <object refClass="SelectEditor"  
          ref='$fillRule${r}' 
          key='fill-rule' 
          icon="true" 
          options=${Fr(["nonzero","evenodd"])}
          value="${t.value}"
          onchange="changeSelect" />
        </div>
      `:t.key==="stroke-linecap"?`
        <div class='property-editor'>
          <object refClass="SelectEditor"  
          ref='$strokeLinecap${r}' 
          key='stroke-linecap' 
          icon="true" 
          options=${Fr(["butt","round","square"])}          
          value="${t.value}"
          onchange="changeSelect" />
        </div>
      `:t.key==="stroke-linejoin"?`
        <div class='property-editor'>
          <object refClass="SelectEditor"  
          ref='$strokeLinejoin${r}' 
          key='stroke-linejoin' 
          icon="true" 
          options=${Fr(["miter","arcs","bevel","miter-clip","round"])}                    
          value="${t.value}"
          onchange="changeSelect" />
        </div>
      `:t.key==="mix-blend-mode"?`
        <div class='property-editor'>
          <object refClass="BlendSelectEditor" 
          ref='$mixBlendMode${r}' 
          key='mix-blend-mode' 
          icon="true" 
          value="${t.value}"
          onchange="changeSelect" />
        </div>
      `:t.key==="stroke-dasharray"?`
        <object refClass="StrokeDashArrayEditor" 
          ref='$strokeDashArray${r}' 
          key='stroke-dasharray'
          value='${t.value}' 
          onchange='changeSelect' 
        />
      `:t.key==="border-radius"?`
        <object refClass="BorderRadiusEditor"
          ref='$borderRadius${r}' 
          key='border-radius'
          value='${t.value}' 
          onchange='changeBorderRadius' 
        />
      `:t.key==="border"?`
        <object refClass="BorderEditor"
          ref='$border${r}' 
          key='border'
          value='${t.value}' 
          onchange='changeKeyValue' 
        />
      `:t.key==="clip-path"?`
        <object refClass="ClipPathEditor"
          ref='$clipPath${r}' 
          key='clip-path'
          value='${t.value}' 
          onchange='changeClipPath' 
        />
      `:t.key==="d"?`
        <object refClass="PathDataEditor" ref='$pathData${r}' key='d' value='${t.value}' onchange='changeSelect' />
      `:t.key==="points"?`
        <object refClass="PolygonDataEditor" ref='$polygonData${r}' key='points' value='${t.value}' onchange='changeSelect' />
      `:t.key==="playTime"?`
        <object refClass="MediaProgressEditor" ref='$playTime${r}'  key='playTime' value="${t.value}" onchange="changeSelect" />      
      `:`
      <div class='property-editor'>
        ???

      </div>
    `}[Q("changeKeyValue")](t,r){this.modifyPropertyValue(t,r)}[Q("changeBorderRadius")](t){this.modifyPropertyValue("border-radius",t)}[Q("changeClipPath")](t){this.modifyPropertyValue("clip-path",t)}[Q("changeColorProperty")](t,r){this.modifyPropertyValue(t,r)}[Q("changeBackgroundImageProperty")](t,r){this.modifyPropertyValue(t,r)}[Q("changeFilterProperty")](t){this.modifyPropertyValue("filter",t)}[Q("changeBackdropFilterProperty")](t){this.modifyPropertyValue("backdrop-filter",t)}[Q("changeBoxShadowProperty")](t){this.modifyPropertyValue("box-shadow",t)}[Q("changeTextShadowProperty")](t){this.modifyPropertyValue("text-shadow",t)}[Q("changeVar")](t){this.modifyPropertyValue("var",t)}[Q("changeTransform")](t){this.modifyPropertyValue("transform",t)}[Q("changeTransformOrigin")](t){this.modifyPropertyValue("transform-origin",t)}[Q("changePerspectiveOrigin")](t){this.modifyPropertyValue("perspective-origin",t)}[Q("changeSelect")](t,r){this.modifyPropertyValue(t,r)}makePropertyEditor(t,r){if(t.editor)return this.makeCustomePropertyEditor(t,r);switch(t.key){case"animation-timing-function":case"box-shadow":case"text-shadow":case"background-image":case"filter":case"backdrop-filter":case"var":case"transform":case"transform-origin":case"perspective-origin":case"mix-blend-mode":case"border":case"border-radius":case"clip-path":case"fill-rule":case"stroke-linecap":case"stroke-linejoin":case"stroke-dasharray":case"d":case"points":case"offset-path":case"playTime":return this.makeIndivisualPropertyEditor(t,r);case"color":case"background-color":case"text-fill-color":case"text-stroke-color":case"stroke":case"fill":return this.makeIndivisualPropertyColorEditor(t,r);case"opacity":case"fill-opacity":case"stroke-dashoffset":case"offset-distance":let i=0,s=1,n=.01;return`
          <div class='property-editor'>
            <object refClass="NumberRangeEditor"  
              ref='$opacity${r}' 
              key='${t.key}' 
              min="${i}"
              max="${s}"
              step="${n}"
              value="${t.value||1}"
              selected-unit='number'
              removable="true"
              onchange="changeRangeEditor" />
          </div>
        `;case"rotate":return`
          <div class='property-editor'>
            <object refClass="RangeEditor"  
              ref='rangeEditor${r}' 
              key='${t.key}' 
              value='${t.value}'  
              min="-2000"
              max="2000"
              units="deg" 
              onChange="changeRangeEditor" />
          </div>
        `;case"left":case"margin-top":case"margin-bottom":case"margin-left":case"margin-right":case"padding-top":case"padding-bottom":case"padding-left":case"padding-right":case"font-size":case"width":case"height":case"perspective":case"offset-distance":case"text-stroke-width":default:return`
          <div class='property-editor'>
            <object refClass="RangeEditor"  ref='rangeEditor${r}' key='${t.key}' value='${t.value}' max="1000" onChange="changeRangeEditor" />
          </div>
        `}}[Q("changeRangeEditor")](t,r){this.modifyPropertyValue(t,r+"")}searchKey(t,r){this.state.properties.filter(i=>i.key===t).forEach(r)}modifyPropertyValue(t,r){this.searchKey(t,i=>{i.value=r}),this.modifyProperty()}makePropertySelect(){return`
      <select class='property-select' ref='$propertySelect'>
        <optgroup label='Position'>
          <option value='x'>x</option>
          <option value='y'>y</option>        
        </optgroup>
        <optgroup label='Size'>
          <option value='width'>width</option>
          <option value='height'>height</option>
        </optgroup>      
        <optgroup label='Box Model'>
          <option value='margin-left'>margin-left</option>
          <option value='margin-right'>margin-right</option>
          <option value='margin-bottom'>margin-bottom</option>
          <option value='margin-top'>margin-top</option>
          <option value='padding-left'>padding-left</option>
          <option value='padding-right'>padding-right</option>
          <option value='padding-bottom'>padding-bottom</option>
          <option value='padding-top'>padding-top</option>       
        </optgroup>
        <optgroup label='Border'>
          <option value='border'>border</option>
          <option value='border-radius'>border-radius</option>
        </optgroup>        
        <optgroup label='Style'>
          <option value='background-color'>background-color</option>
          <option value='background-image'>background-image</option>
          <option value='box-shadow'>box-shadow</option>
          <option value='text-shadow'>text-shadow</option>
          <option value='filter'>filter</option>      
          <option value='backdrop-filter'>backdrop-filter</option>
          <option value='mix-blend-mode'>mix-blend-mode</option>
        </optgroup>            
        <optgroup label='Transform'>
          <option value='transform'>transform</option>
          <option value='transform-origin'>transform-origin</option>
          <option value='perspective'>perspective</option>
          <option value='perspective-origin'>perspective-origin</option>
        </optgroup>
        <optgroup label='Font'>
          <option value='font-size'>font-size</option>
          <option value='font-weight'>font-weight</option>          
        </optgroup>
        <optgroup label='Animation'>
          <option value='animation-timing-function'>timing-function</option>
        </optgroup>        
      </select>
    `}[U("$property")](){return this.state.properties.map((t,r)=>`
        <div class='css-property-item'>
          <div class='title'>
            <label>${t.key}</label>
            <div class='tools'>
              <button type="button" class='remove' data-index="${r}">${ae.remove2}</button>
            </div>
          </div>
          <div class='title-2'>
            <div class='tools'>
              <label><button type="button" class='refresh' data-index="${r}">${ae.refresh}</button> Refresh</label>
            </div>
          </div>
          <div class='value-editor'>
            ${this.makePropertyEditor(t,r)}
          </div>
        </div>
      `)}[I("showCSSPropertyEditor")](t=[]){this.setState({properties:t}),this.refresh()}[F("$property .remove")](t){var r=+t.$dt.attr("data-index");this.state.properties.splice(r,1),this.refresh(),this.modifyProperty()}[F("$property .refresh")](t){this.parent.trigger("refreshPropertyValue")}}var cO="";class N6 extends K{initState(){return{key:this.props.key,currentBezier:ls(this.props.value||"linear"),isAnimating:xt(this.props.isAnimating)?!0:Boolean(this.props.isAnimating),currentBezierIndex:0,selectedColor:"#609de2",animatedColor:"#609de266",curveColor:"#609de2",baseLineColor:"rgba(117, 117, 117, 0.46)"}}afterRender(){setTimeout(()=>{this.refresh()},10)}template(){const t=Mi(this.state.currentBezier,150,150),r=Ls(this.state.currentBezier,150,150),i=Mi("ease",30,30),s=Ls("ease",30,30),n=Mi("ease-in",30,30),o=Ls("ease-in",30,30),l=Mi("ease-out",30,30),c=Ls("ease-out",30,30);return`
            <div class='elf--cubic-bezier-editor'>
                <div class='predefined'>
                    <div class='left' ref='$left'>${ae.chevron_left}</div>
                    <div class='predefined-text' ref='$text'></div>
                    <div class='right' ref='$right'>${ae.chevron_right}</div>
                </div>
                <div class='animation' ref='$animationArea'>
                    <canvas 
                        class='animation-canvas' 
                        ref='$animationCanvas' 
                        title='Click and Replay point animation' 
                        width='230px' 
                        height='20px'
                    ></canvas>
                </div>
                <div class='item-list' ref='$itemList' data-selected-value=''>
                    <div class='item' data-bezier='ease' title='ease'>
                        <svg class='item-canvas' width="30" height="30" viewBox="0 0 30 30">
                            <path d="${i}" stroke="white" stroke-width="1" fill='none' />
                            <path d="${s}" stroke="gray" stroke-width="1" fill='none' />
                        </svg>
                    </div>
                    <div class='item' data-bezier='ease-in' title='ease-in'>
                        <svg class='item-canvas' width="30" height="30" viewBox="0 0 30 30">
                            <path d="${n}" stroke="white" stroke-width="1" fill='none' />
                            <path d="${o}" stroke="gray" stroke-width="1" fill='none' /> 
                        </svg>
                    </div>
                    <div class='item' data-bezier='ease-out' title='ease-out'>
                        <svg class='item-canvas' width="30" height="30" viewBox="0 0 30 30">
                            <path d="${l}" stroke="white" stroke-width="1" fill='none' />
                            <path d="${c}" stroke="gray" stroke-width="1" fill='none' />
                        </svg>
                    </div>
                </div>
                <div class='bezier'>
                    <svg class='bezier-canvas' width="150" height="150" viewBox="0 0 150 150" overflow="visible">
                        <path d="${t}" stroke="black" stroke-width="1" fill='none' ref='$bezierCanvas' />
                        <path d="${r}" stroke="gray" stroke-width="1" fill='none' ref='$bezierCanvasPoint' />
                    </svg>                
                    <div class='control' ref='$control'>
                        <div class='pointer1' ref='$pointer1'></div>
                        <div class='pointer2' ref='$pointer2'></div>
                    </div>
                </div>
            </div>
        `}[se("$animationArea")](){return{style:{display:this.state.isAnimating?"block":"none"}}}[se("$bezierCanvas")](){return{d:Mi(this.state.currentBezier,150,150)}}[se("$bezierCanvasPoint")](){return{d:Ls(this.state.currentBezier,150,150)}}updateData(t={}){this.setState(t),this.modifyCubicBezier()}modifyCubicBezier(){this.parent.trigger(this.props.onchange,this.state.key,ph(this.state.currentBezier))}[F("$left")](){var{currentBezier:t,currentBezierIndex:r}=this.state;r==0?r=Ti.length-1:--r;var t=Ti[r];this.updateData({currentBezierIndex:r,currentBezier:t}),this.refresh()}[F("$right")](){var{currentBezier:t,currentBezierIndex:r}=this.state;r=++r%Ti.length,t=Ti[r],this.updateData({currentBezierIndex:r,currentBezier:t}),this.refresh()}[F("$text")](){var t=[...Ti[this.state.currentBezierIndex]];this.updateData({currentBezier:t}),this.refresh()}[F("$itemList .item")](t){var r=t.$dt.attr("data-bezier");this.refs.$itemList.attr("data-selected-value",r);var i=ls(r);this.updateData({currentBezier:i}),this.refresh()}refresh(){this.refreshEasingText(),this.refreshBezierCanvas()}refreshBezierCanvas(){this.bindData("$bezierCanvas"),this.bindData("$bezierCanvasPoint"),this.refreshPointer(),this.drawPoint()}refreshEasingText(){this.refs.$text.html(this.state.currentBezier[4]||"ease")}refreshPointer(){var t=ls(this.state.currentBezier),r=this.refs.$control.width(),i=this.refs.$control.height(),s=t[0]*r,n=(1-t[1])*i;this.refs.$pointer1.css({left:g.px(s),top:g.px(n)}),s=t[2]*r,n=(1-t[3])*i,this.refs.$pointer2.css({left:g.px(s),top:g.px(n)})}drawPoint(){this.state.isAnimating!==!1&&(this.timer&&clearTimeout(this.timer),this.animationTimer&&clearTimeout(this.animationTimer),this.timer=setTimeout(()=>{this.animationPoint()},100))}start(t){var r=this.animationCanvasData.func(t),i=10+(this.animationCanvasData.width-20)*r.y,s=10,n=this.animationCanvasData.context;n.beginPath(),n.arc(i,s,5,0,2*Math.PI),n.fill(),n.stroke(),n.closePath(),!(t>=1)&&(this.animationTimer=setTimeout(()=>{this.start(t+.05)},50))}animationPoint(){const t=ls(this.state.currentBezier);var r=vh(ph(t));this.refs.$animationCanvas.clear();var i=this.refs.$animationCanvas.width(),s=this.refs.$animationCanvas.height(),n=this.refs.$animationCanvas.context();n.fillStyle=this.state.animatedColor,n.strokeStyle=this.state.selectedColor,n.lineWidth=1,this.animationCanvasData={func:r,width:i,height:s,context:n},this.start(0)}setPosition(t){var r=this.refs.$control.width(),i=this.refs.$control.height(),s=this.refs.$control.offset().left,n=this.refs.$control.offset().top,o=t,l=o.x;0>l?l=0:o.x>document.body.clientWidth&&(l=document.body.clientWidth),l-=s,l<0&&(l=0),r<l&&(l=r);var c=o.y;return c-=n,{x:Lo(l,r),y:c==i?0:Lo(i-c,i)}}[xe("$pointer1")+Ve("movePointer1")+ze("drawPoint")](t){this.clientX=t.clientX,this.clientY=t.clientY}movePointer1(t,r){var i=this.setPosition({x:this.clientX+t,y:this.clientY+r});this.state.currentBezier[0]=i.x,this.state.currentBezier[1]=i.y,this.refreshBezierCanvas(),this.modifyCubicBezier()}[xe("$pointer2")+Ve("movePointer2")+ze("drawPoint")](t){this.clientX=t.clientX,this.clientY=t.clientY}movePointer2(t,r){var i=this.setPosition({x:this.clientX+t,y:this.clientY+r});this.state.currentBezier[2]=i.x,this.state.currentBezier[3]=i.y,this.refreshBezierCanvas(),this.modifyCubicBezier()}[I("showCubicBezierEditor")](t){var r=ls(t||this.state.currentBezier);this.setState({currentBezier:r}),this.refresh()}}var hO="";const vu=[{key:"top",title:"Top"},{key:"right",title:"Right"},{key:"bottom",title:"Bottom"},{key:"left",title:"Left"}];class G6 extends K{initState(){var[t,r,i,s,n]=dl.parse(this.props.value);return{isAll:t===1,all:r.clone(),top:r.clone(),right:i.clone(),bottom:s.clone(),left:n.clone()}}template(){return"<div class='elf--direction-editor' ref='$body'></div>"}[I("changeBorderRadius")](t,r){t==="all"&&vu.forEach(i=>{this.state[i.key]=r.clone(),this.children[`$${i.key}`].setValue(r.clone())}),this.updateData({[t]:r})}[U("$body")](){var t=this.state.isAll?"all":"partitial",r=this.state.all,i=t==="all"?"display:none":"display:block";return`
      <div class="property-item direction-item">
        <div class="radius-selector" data-selected-value="${t}" ref="$selector">
          <button type="button" data-value="all">${ae.border_all}</button>
          <button type="button" data-value="partitial">
            ${ae.border_inner}
          </button>
        </div>
        <div class="radius-value">
          ${E("RangeEditor",{ref:"$all",key:"all",value:r,onchange:"changeBorderRadius"})}
        </div>
      </div>
      <div
        class="property-item full direction-item"
        ref="$partitialSetting"
        style="${i}"
      >
        <div class="radius-setting-box">
          ${vu.map(s=>{var n=this.state[s.key];return`
              <div>
                  ${E("RangeEditor",{ref:`$${s.key}`,label:s.title,key:s.key,value:n,onchange:"changeBorderRadius"})}
              </div>  
            `}).join("")}
        </div>
      </div>
    `}updateData(t={}){this.setState(t,!1);var r=[];this.state.isAll?r=[1,this.state.all,this.state.all,this.state.all,this.state.all]:r=[4,this.state.top,this.state.right,this.state.bottom,this.state.left],this.parent.trigger(this.props.onchange,r)}[F("$selector button")](t){var r=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",r),r==="all"?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.updateData({isAll:r==="all"})}}var dO="",H6={blur:Ra.spec,grayscale:za.spec,"hue-rotate":ja.spec,invert:Aa.spec,brightness:Oa.spec,contrast:Da.spec,"drop-shadow":Vi.spec,opacity:Fa.spec,saturate:Ba.spec,sepia:Na.spec,svg:Ns.spec};class U6 extends K{initState(){return{hideLabel:this.props.hideLabel==="true",filters:Vt.parseStyle(this.props.value)}}template(){return`
      <div class='elf--filter-editor filter-list'>
          <div class='filter-list' ref='$filterList'></div>
      </div>`}[U("$filterSelect")](){var t=hM.map(s=>({title:s,value:s})),r=this.getSVGFilterList(),i=[];return r.length?i=[...t,{title:"-------",value:""},...r]:i=[...t],i.map(s=>{var{title:n,value:o}=s;return`<option value='${o}'>${n}</option>`})}getSpec(t){return H6[t]}makeDropShadowFilterTemplate(t,r,i){return`
      <div class="filter-item">
        <div class="title drop-shadow">
          <label draggable="true"  data-index="${i}">${O("drag_indicator")}</label>
          <span class='sub-title'>${this.$i18n("filter.property.drop-shadow")}</span>
          <div class="filter-menu">
            <button type="button" class="del" data-index="${i}">${O("remove2")}</button>
          </div>
        </div>
        <div class="filter-ui-list">
          ${Hn(["ColorViewEditor",{ref:`$dropShadowColorView${i}`,params:i,compact:!0,value:r.color,onchange:"changeDropShadowColor"}],...["offsetX","offsetY","blurRadius"].map(s=>["InputRangeEditor",{ref:`$${s}${i}`,label:this.$i18n(`filter.property.drop-shadow.${s}`),key:i,min:t[s].min,max:t[s].max,step:t[s].step,params:s,value:r[s].value||t[s].defaultValue,units:t[s].units,onchange:"changeRangeEditor"}]))}
        </div>

      </div>
    `}getSVGFilterList(){var t=this.$selection.current,r=[];return t&&(r=t.svgfilters.map(i=>({title:`svg - #${i.id}`,value:i.id}))),r}makeOneFilterEditor(t,r,i){if(r.type==="svg"){var s="",n=this.$selection.current;return n&&(s=n.svgfilters.map(o=>({value:o.id}))),E("SelectEditor",{ref:`$select${t}`,key:t,label:"SVG Filter",value:r.value,options:["",...s],onchange:"changeRangeEditor"})}return E("InputRangeEditor",{ref:`$range${t}_${r.type}`,label:this.$i18n("filter.property."+r.type),key:t,min:i.min,max:i.max,value:r.value,units:i.units,onchange:"changeRangeEditor"})}makeOneFilterTemplate(t,r,i){return`
      <div class="filter-item" data-index="${i}">
        <div class="title" >
          <label draggable="true" data-index="${i}">${O("drag_indicator")}</label>
          ${r.type!="svg"?`
          <div class="filter-ui">
            ${this.makeOneFilterEditor(i,r,t)}
          </div>
        `:`
          <div>
            <span class='svg-filter-edit' data-index="${i}">${r.value}</span>
          </div>
        `}          
          <div class="filter-menu">
            <button type="button" class="del" data-index="${i}">
              ${O("remove2")}
            </button>
          </div>
        </div>
      </div>
    `}makeFilterTemplate(t,r){return t.type==="drop-shadow"?this.makeDropShadowFilterTemplate(this.getSpec(t.type),t,r):this.makeOneFilterTemplate(this.getSpec(t.type),t,r)}[U("$filterList")](){return this.state.filters.map((t,r)=>this.makeFilterTemplate(t,r.toString()))}[yr("$filterList .filter-item > .title > label")](t){this.startIndex=+t.$dt.attr("data-index")}[Pr("$filterList .filter-item > .title > label")+Pe](t){}sortItem(t,r,i){t.splice(i+(r<i?-1:0),0,...t.splice(r,1))}sortFilter(t,r){this.sortItem(this.state.filters,t,r)}[wr("$filterList .filter-item")+Pe](t){var r=+t.$dt.attr("data-index"),i=this.$selection.current;!i||(this.sortFilter(this.startIndex,r),this.refresh(),this.modifyFilter())}modifyFilter(){var t=this.state.filters.join(" ");this.parent.trigger(this.props.onchange,this.props.key,t,this.props.params)}makeFilter(t,r={}){return Vt.parse(le(v({},r),{type:t}))}[F("$filterList .svg-filter-edit")](t){var o,l;var r=+t.$dt.attr("data-index"),i=this.state.filters[r],s=this.$selection.current;if(s){var n=s.getSVGFilterIndex((l=(o=i.value)==null?void 0:o.value)==null?void 0:l.replace("#",""));this.trigger("openSVGFilterPopup",n)}}[I("openSVGFilterPopup")](t){const i=(this.$selection.current||{svgfilters:[]}).svgfilters[t];this.emit("showSVGFilterPopup",{changeEvent:s=>{var n=this.$selection.current;n&&(n.setSVGFilterValue(s.index,{filters:s.filters}),this.command("setAttributeForMulti","change filter",this.$selection.pack("svgfilters","filter")))},index:t,preview:!1,filters:i.filters})}[I("add")](t){if(t==="svg"){const r=this.$selection.current.createSVGFilter({filters:[]}),i=this.$selection.current.svgfilters[r];this.state.filters.push(this.makeFilter(t,{value:i.id})),this.refresh(),this.modifyFilter(),this.trigger("openSVGFilterPopup",r)}else this.state.filters.push(this.makeFilter(t)),this.refresh(),this.modifyFilter()}[F("$add")](){var t=this.refs.$filterSelect.value;this.trigger("add",t)}[F("$filterList .filter-menu .del")](t){var r=+t.$dt.attr("data-index");this.state.filters.splice(r,1),this.refresh(),this.modifyFilter()}[Q("changeDropShadowColor")](t,r,i){var s=+i;this.state.filters[s].reset({color:r}),this.modifyFilter()}[Q("changeRangeEditor")](t,r,i){i?this.state.filters[+t].reset({[i]:r}):this.state.filters[+t].reset({value:r}),this.modifyFilter()}}const X6=["","Arial","Arial Black","Times New Roman","Times","Courier New","Courier","Verdana","Georgia","Palatino","Garamond","Bookman","Tahoma","Trebuchet MS","Impact","Comic Sans MS","serif","sans-serif","monospace","cursive","fantasy","system-ui"];class Y6 extends Fl{getFontList(){return X6.map(t=>({value:t}))}initState(){return le(v({},super.initState()),{options:this.getFontList()})}}var uO="";class W6 extends K{initState(){var i;const t=Fe.parseImage(this.props.value||"static-gradient(#ececec)"),r=(i=t.colorsteps[this.props.index])==null?void 0:i.id;return this.$selection.selectColorStep(r),r&&(this.currentStep=t.colorsteps.find(s=>this.$selection.isSelectedColorStep(s.id))),{id:r,index:+(this.props.index||0),value:this.props.value,image:t}}setValue(t){this.setState({image:Fe.parseImage(t)},!1),this.refresh()}template(){return`
        <div class='elf--gradient-editor'>
            <div class='gradient-steps' data-editor='gradient'>
                <div class="hue-container" ref="$back"></div>            
                <div class="hue" ref="$steps">
                    <div class='step-list' ref="$stepList" ></div>
                </div>
            </div>
        </div>
      `}[Cr("$file")](t){var r=this.$selection.currentProject;r&&[...t.target.files].forEach(i=>{this.emit("updateImageAssetItem",i,s=>{this.trigger("setImageUrl",s)})})}[Q("changeTabType")](t){var n,o;const r=(n=this.state.image)==null?void 0:n.type,i=((o=this.state.image)==null?void 0:o.colorsteps)||[];r===N.STATIC&&(i.length===0||i.length===1)&&i.push(i[0],i[0]);var s=t==="image-resource"?this.state.image.url:this.state.url;this.state.image=Fe.changeImageType({type:t,url:s,colorsteps:i,angle:this.state.image.angle||0,radialType:this.state.image.radialType||yt.CIRCLE,radialPosition:this.state.image.radialPosition||["50%","50%"]}),this.refresh(),this.updateData()}[Q("changeColorStepOffset")](t,r){this.currentStep&&(this.currentStep.percent=r.value,this.state.image.sortColorStep(),this.refresh(),this.updateData())}[F("$back")](t){var r=this.refs.$stepList.rect(),i=r.x,s=r.right,n=t.xy.x;n<i?n=i:n>s&&(n=s);var o=(n-i)/r.width*100;this.state.image.insertColorStep(o),this.state.image.sortColorStep(),this.refresh(),this.updateData()}[se("$el")](){var t=this.state.image.type;return t==="url"&&(t="image-resource"),{"data-selected-editor":t}}[se("$stepList")](){return{style:{"background-image":this.getLinearGradient()}}}[U("$stepList")+st](){var r;var t=((r=this.state.image)==null?void 0:r.colorsteps)||[];return t.map((i,s)=>{var n=this.$selection.isSelectedColorStep(i.id)?"selected":"";return`
      <div class='step ${n}' data-id='${i.id}' data-cut='${i.cut}' tabindex="-1" style='left: ${i.toLength()};'>
        <div class='color-view' style="background-color: ${i.color}">
          <span>${Math.floor(i.percent*10)/10}</span>
        </div>      
        <div class='arrow'></div>      
      </div>`})}removeStep(t){this.state.image.removeColorStep(t),this.refresh(),this.updateData()}selectStep(t){this.state.id=t,this.$selection.selectColorStep(t),this.state.image.colorsteps&&(this.currentStep=this.state.image.colorsteps.find(r=>this.$selection.isSelectedColorStep(r.id)),this.parent.trigger("selectColorStep",this.currentStep.color)),this.refresh()}[Xt("$el .step")](t){const r=t.$dt.data("id");switch(t.code){case"Delete":case"Backspace":this.removeStep(r);break;case"BracketRight":this.sortToRight(r);break;case"BracketLeft":this.sortToLeft(r);break;case"Equal":this.appendColorStep(r);break;case"Minus":this.prependColorStep(r);break}}sortToRight(t){this.state.image.sortToRight(),this.refresh(),this.updateData(),this.doFocus(t)}sortToLeft(t){this.state.image.sortToLeft(),this.refresh(),this.updateData(),this.doFocus(t)}appendColorStep(t){const r=this.state.image.colorsteps.findIndex(o=>o.id===t),i=r+1,s=this.state.image.colorsteps[r],n=this.state.image.colorsteps[i];n?this.state.image.insertColorStep(s.percent+(n.percent-s.percent)/2):s.percent!==100&&this.state.image.insertColorStep(s.percent+(100-s.percent)/2),this.refresh(),this.updateData(),this.doFocus(t)}doFocus(t){this.nextTick(()=>{this.refs.$stepList.$(".step[data-id='"+t+"']").focus()},100)}prependColorStep(t){const r=this.state.image.colorsteps.findIndex(o=>o.id===t),i=r-1,s=this.state.image.colorsteps[r],n=this.state.image.colorsteps[i];n?this.state.image.insertColorStep(n.percent+(s.percent-n.percent)/2):s.percent!==0&&this.state.image.insertColorStep(s.percent),this.refresh(),this.updateData(),this.doFocus(t)}[xe("$stepList .step")+Ve()+ze()](t){var r=t.$dt.attr("data-id");if(t.altKey)return this.removeStep(r),!1;t.$dt.focus(),this.isSelectedColorStep=this.$selection.isSelectedColorStep(r),this.selectStep(r),this.startXY=t.xy,this.cachedStepListRect=this.refs.$stepList.rect()}getStepListRect(){return this.cachedStepListRect}move(t,r){var i=this.getStepListRect(),s=i.x,n=i.right,o=this.startXY.x+t;o<s?o=s:o>n&&(o=n);var l=(o-s)/i.width*100;this.$config.get("bodyEvent").shiftKey&&(l=Math.floor(l)),this.currentStep.setValue(l,i.width),this.state.image.sortColorStep(),this.refresh(),this.updateData()}end(t,r){t===0&&r===0&&this.isSelectedColorStep&&this.currentStep&&(this.currentStep.cut=!this.currentStep.cut,this.refresh(),this.updateData()),this.doFocus(this.state.id)}getLinearGradient(){var{image:t}=this.state;return`linear-gradient(to right, ${gr.toCSSColorString(t.colorsteps)})`}[Q("setColorStepColor")](t){this.state.image.type==="static-gradient"?(this.state.image.colorsteps[0].color=t,this.refresh(),this.updateData()):this.currentStep&&(this.currentStep.color=t,this.refresh(),this.updateData())}[I("setImageUrl")](t){this.state.image&&(this.state.url=t,this.state.image.reset({url:t}),this.refresh(),this.updateData())}updateData(t={}){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.state.image.toString())}}var pO="";class K6 extends K{initState(){return{value:this.props.value}}template(){return"<div class='select-editor elf--list-view-editor' ref='$body'></div>"}[se("$body")](){return{"data-column":this.props.column||1}}[U("$body")](){return Object.keys(ae).map(t=>{var r=ae[t],i=t===this.state.value?"selected":"";return`<div class='list-view-item ${i}'  data-key='${t}'>${r}</div>`})}getValue(){return this.state.value}setValue(t){this.state.value=t,this.refresh()}[F("$body .list-view-item")](t){var r=t.$dt.attr("data-key");t.$dt.onlyOneClass("selected"),this.updateData({value:r})}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}class Z6 extends K{initState(){var t=this.props.values.split(" ").map(r=>+r);return{values:t,column:this.props.column}}template(){return"<div class='small-editor input-array-editor' ref='$body' ></div>"}[se("$body")](){return{cssText:`
                display: grid;
                grid-template-columns: repeat(${this.state.column}, 1fr);
                grid-column-gap: 2px;
                grid-row-gap: 2px;
            `}}[U("$body")](){var{values:t}=this.state;return t.map((r,i)=>`
                <div class='number-editor'>
                    <input type="number" value="${r}" step="0.01" data-index="${i}" />
                </div>
            `)}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.values,this.props.params)}[ot("$body input")](t){var r=t.$dt,i=+r.attr("data-index"),s=+r.value;this.state.values[i]=s,this.updateData()}}var gO="";class q6 extends K{initState(){var t=this.props.units||["px","em","%","auto"],r=g.parse(this.props.value||"0px");let i=this.props.label||"";return ae[i]&&(i=ae[i]),{removable:this.props.removable,label:i,compact:this.props.compact,wide:this.props.wide,min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",disabled:this.props.disabled,title:this.props.title||"",units:t,value:r}}template(){return"<div class='small-editor' ref='$body'></div>"}[U("$body")](){var{min:t,max:r,step:i,label:s,title:n,compact:o,wide:l,removable:c,layout:h,disabled:d}=this.state,p=+this.state.value.value.toString();isNaN(p)&&(p=0);var u=h,m=(+p).toString();const $=this.state.units;return`
        <div 
            ref="$range",
            class="${cs({"elf--input-range-editor":!0,"has-label":!!s,compact:!!o,wide:!!l,"is-removable":c,disabled:d,[u]:!0})}"
        >
            ${s?`<label title="${n}">${s}</label>`:""}
            <div class='range--editor-type' data-type='range'>
                <div class='area'>
                    <input type='number' class='property-number' ref='$propertyNumber' value="${m}" min="${t}" max="${r}" step="${i}" tabIndex="1" />
                    
                    ${$.length===1?`<span class='unit'>${$[0]}</span>`:E("SelectEditor",{ref:"$unit",key:"unit",compact:!0,value:this.state.selectedUnit||this.state.value.unit,options:this.state.units,onchange:"changeUnit"})}
                    
                    
                </div>
            </div>
            <button type='button' class='remove' ref='$remove' title='Remove'>${ae.remove}</button>
        </div>
    `}getValue(){return this.state.value.clone()}setValue(t){var r;this.setState({value:g.parse(t)},!1),this.refs.$propertyNumber.val(this.state.value.value),(r=this.children.$unit)==null||r.setValue(this.state.value.unit)}disabled(){this.setState({disabled:!0})}enabled(){this.setState({disabled:!1})}[F("$remove")](t){this.updateData({value:""})}getUnit(){var t;return((t=this.children.$unit)==null?void 0:t.getValue())||this.state.value.unit}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}initValue(){this.state.value==""&&(this.state.value=new g(0,this.getUnit()))}[ot("$body .property-number")](t){var r=+t.$dt.value;this.initValue(),this.updateData({value:new g(r,this.getUnit())})}[Q("changeUnit")](t,r){this.initValue(),this.updateData({value:this.state.value.toUnit(r)})}[sa("$body input[type=number]")](t){this.refs.$range.addClass("focused"),t.$dt.select()}[wi("$body input[type=number]")](t){this.refs.$range.removeClass("focused")}[xe("$body .elf--input-range-editor label")+Ve("moveDrag")+ze("moveDragEnd")](t){this.refs.$range.addClass("drag"),this.initNumberValue=+this.refs.$propertyNumber.value,this.initUnit=this.state.value.unit,this.initUnits=this.state.units,this.refs.$propertyNumber.focus(),this.refs.$propertyNumber.select()}moveDrag(t,r){let i=Math.floor(We(this.initNumberValue+t*this.state.step,100));i=Math.min(this.state.max,Math.max(this.state.min,i)),this.updateData({value:new g(i,this.getUnit())}),this.refs.$propertyNumber.val(this.state.value.value)}moveDragEnd(){this.refs.$range.removeClass("drag")}}var fO="";class yu extends K{initState(){var t=this.props.units||["px","em","%"],r=g.parse(this.props.value||0);return{removable:this.props.removable==="true",calc:this.props.calc==="true",compact:this.props.compact==="true",label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",units:t,value:r}}template(){return"<div class='small-editor' ref='$body'></div>"}[U("$body")](){var{min:t,max:r,step:i,label:s,removable:n,layout:o,compact:l}=this.state,c=+this.state.value.value.toString();isNaN(c)&&(c=0);var h=o,d=(+c).toString();if(this.state.units==="%")throw new Error("%");var p=this.state.units.map(u=>{let m=u;return m==="number"&&(m=""),{value:u,text:m}});return`
        <div 
            ref="$range"
            class="${cs({"elf--range--editor":!0,"has-label":!!s,compact:!!l,"is-removable":n,[h]:!0})}"
        >
            ${s?`<label title="${s}">${s}</label>`:""}
            <div class='range--editor-type' data-type='range'>
                <input type='range' ref='$property' value="${d}" min="${t}" max="${r}" step="${i}" /> 
                <div class='area' ref='$rangeArea'>
                    <input type='number' ref='$propertyNumber' value="${d}" min="${t}" max="${r}" step="${i}" tabIndex="1" />
                    ${E("SelectEditor",{ref:"$unit",key:"unit",value:this.state.value.unit,options:p,onchange:"changeUnit"})}
                </div>
            </div>
            <button type='button' class='remove thin' ref='$remove' title='Remove'>${ae.remove}</button>
        </div>
    `}getValue(){return this.state.value.clone()}setValue(t){this.setState({value:g.parse(t)})}[So('$body input[type="number"]')](t){this.refs.$rangeArea.addClass("focused")}[wo('$body input[type="number"]')](t){this.refs.$rangeArea.removeClass("focused")}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}initValue(){this.state.value==""&&(this.state.value=new g(0,this.children.$unit.getValue()))}[ot('$body input[type="number"]')](t){var r=+this.refs.$propertyNumber.value;this.getRef("$property").val(r),this.initValue(),this.updateData({value:new g(r,this.children.$unit.getValue())})}[ot('$body input[type="range"]')](t){this.trigger("changeRangeValue")}[xe('$body input[type="range"]')+ze()](){}end(){this.trigger("changeRangeValue")}[Q("changeRangeValue")](){var t=+this.getRef("$property").value;this.refs.$propertyNumber.val(t),this.initValue(),this.updateData({value:new g(t,this.children.$unit.getValue())})}[Q("changeUnit")](t,r){this.initValue(),this.updateData({value:this.state.value.toUnit(r)})}}class Q6 extends yu{initState(){var t=this.props.value;t==="infinite"?t=new g(0,"infinite"):t=g.number(t);var r=this.props.units||["px","em","%"];return le(v({},super.initState()),{key:this.props.key,params:this.props.params||"",units:r,value:t})}}var mO="";class J6 extends K{initState(){const[t,r,i]=(this.props.value||"").split(":");return{start:+(t||0),end:+(r||1),duration:+(i||1)}}refresh(){this.load(),this.children.$s.setValue(this.state.start*this.state.duration),this.children.$e.setValue(this.state.end*this.state.duration),this.children.$s.setMax(this.state.duration),this.children.$e.setMax(this.state.duration)}template(){const{start:t,end:r,duration:i}=this.state;return`
            <div class='elf--media-progress-editor'>
                <div class='drag-area'>
                    <div class='progress-bar' ref='$progress'></div>
                    <div class='bar' ref='$bar'></div>                
                    <div class='drag-item start' ref='$start'></div>
                    <div class='drag-item end' ref='$end'></div>
                </div>
                <div class='item'>
                    ${E("NumberRangeEditor",{ref:"$s",label:"Start",key:"start",min:0,max:i,step:.001,value:t*i,onchange:"changeValue"})}
                </div>
                <div class='item'>
                    ${E("NumberRangeEditor",{ref:"$e",label:"End",key:"end",min:0,max:i,step:.001,value:r*i,onchange:"changeValue"})}
                </div>                
            </div>
        `}[Q("changeValue")](t,r){this.updateData({[t]:r/this.state.duration},!0)}[xe("$start")+Ve("moveStart")](t){this.rect=this.refs.$progress.rect(),this.pos=g.parse(this.refs.$start.css("left")).toPx(this.rect.width),this.max=g.parse(this.refs.$end.css("left")).toPx(this.rect.width)}moveStart(t,r){var i=Math.min(this.max.value,Math.max(0,this.pos.value+t));this.state.start=i/this.rect.width,this.children.$s.setValue(this.state.start*this.state.duration),this.refresh(),this.updateData()}[se("$start")](){return{"data-info":this.state.start,style:{left:g.percent((this.state.start||0)*100)}}}[xe("$end")+Ve("moveStartForEnd")](t){this.rect=this.refs.$progress.rect(),this.pos=g.parse(this.refs.$end.css("left")).toPx(this.rect.width),this.min=g.parse(this.refs.$start.css("left")).toPx(this.rect.width),this.max=this.rect.width}moveStartForEnd(t,r){var i=Math.max(this.min.value,Math.min(this.max.value,this.pos.value+t));this.state.end=i/this.rect.width,this.children.$e.setValue(this.state.end*this.state.duration),this.refresh(),this.updateData()}[se("$end")](){return{"data-info":this.state.end,style:{left:g.percent((this.state.end||1)*100)}}}[se("$bar")](){const t=this.state.start||0,r=this.state.end||1;return{style:{left:g.percent(t*100),width:g.percent((r-t)*100)}}}getValue(){const{start:t,end:r,duration:i}=this.state;return`${t}:${r}:${i}`}setValue(t){const[r,i,s]=t.split(":");this.setState({start:Number(r),end:Number(i),duration:Number(s)})}updateData(t={},r=!1){this.setState(t,r),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}var vO="";class e9 extends K{initState(){var t=+this.props.value;let r=this.props.label||"";ae[r]&&(r=ae[r]);const i=Yr(this.props.compact)?this.props.compact:this.props.compact==="true",s=Yr(this.props.wide)?this.props.wide:this.props.wide==="true",n=Yr(this.props.mini)?this.props.mini:this.props.mini==="true",o=this.props.trigger||"input";return{label:r,compact:i,wide:s,mini:n,trigger:o,min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",value:t}}template(){return"<div class='small-editor' ref='$body'></div>"}[U("$body")](){var{min:t,max:r,step:i,label:s,type:n,layout:o,mini:l,compact:c,wide:h,disabled:d,removable:p}=this.state,u=this.state.value;isNaN(u)&&(u=0);var m=o,$=(+u).toString();return`
        <div 
            class="${cs({"elf--number-input-editor":!0,"has-label":!!s,compact:!!c,wide:!!h,mini:!!l,"is-removable":p,disabled:d,[m]:!0})}"
            ref="$range"
            data-selected-type='${n}'>
            ${s?`<label>${s}</label>`:""}
            <div class='range--editor-type' data-type='range'>
                <div class='area'>
                    <input type='number' ref='$propertyNumber' value="${$}" min="${t}" max="${r}" step="${i}" />
                </div>
            </div>
        </div>
    `}getValue(){return this.state.value||0}setValue(t){this.setState({value:t},!1),this.refs.$propertyNumber.val(this.state.value)}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}[sa("$body input[type=number]")](t){this.refs.$range.addClass("focused"),t.$dt.select()}[wi("$body input[type=number]")](t){this.refs.$range.removeClass("focused")}updateValue(t){var r=+t.$dt.value;this.updateData({value:r})}isTriggerInput(){return this.state.trigger==="input"}isTriggerEnter(){return this.state.trigger==="enter"}[ot("$body input[type=number]")+Se("isTriggerInput")](t){this.updateValue(t)}[Xt("$body input[type=number]")+Se("isTriggerEnter")+Si](t){this.updateValue(t),t.$dt.select()}[xe("$body label")+Ve("moveDrag")+ze("moveDragEnd")](t){this.refs.$range.addClass("drag"),this.initValue=+this.refs.$propertyNumber.value}moveDrag(t,r){let i=We(this.initValue+t*this.state.step,1/this.state.step);i=Math.min(this.state.max,Math.max(this.state.min,i)),this.updateData({value:i}),this.refs.$propertyNumber.val(this.state.value)}moveDragEnd(){this.refs.$range.removeClass("drag")}}var yO="";class t9 extends K{initState(){var t=g.parse(this.props.value||g.number(0));return t=t.toUnit("number"),{removable:this.props.removable==="true",compact:this.props.compact==="true",wide:this.props.wide==="true",clamp:this.props.clamp==="true",label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",value:t}}template(){return"<div class='small-editor' ref='$body'></div>"}[U("$body")](){var{min:t,max:r,step:i,label:s,removable:n,layout:o,compact:l,wide:c,disabled:h}=this.state,d=+this.state.value.value.toString();isNaN(d)&&(d=0);var p=o,u=(+d).toString();return`
        <div 
            class="${cs({"elf--number-range-editor":!0,"has-label":!!s,compact:!!l,wide:!!c,"is-removable":n,disabled:h,[p]:!0})}"
        >
            ${s?`<label title="${s}">${s}</label>`:""}
            <div class='range--editor-type' data-type='range'>
                <div class='area'>
                    <div>
                        <input type='range' ref='$property' value="${u}" min="${t}" max="${r}" step="${i}" />
                    </div>
                    <div>
                        <input type='number' ref='$propertyNumber' value="${u}" min="${t}" max="${r}" step="${i}" tabIndex="1" />
                    </div>
                </div>
            </div>
            <button type='button' class='remove' ref='$remove' title='Remove'>${ae.remove}</button>
        </div>
    `}setMin(t){this.setState({min:g.parse(t)})}setMax(t){this.setState({max:g.parse(t)})}getValue(){return this.state.clamp?this.state.value.clamp(this.state.min,this.state.max):this.state.value}setValue(t){console.log(t),this.setState({value:g.parse(t)})}[So('$body input[type="number"]')](t){this.refs.$propertyNumber.addClass("focused")}[wo('$body input[type="number"]')](t){this.refs.$propertyNumber.removeClass("focused")}[F("$remove")](t){this.updateData({value:""})}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}[ot('$body input[type="number"]')](t){var r=+this.refs.$propertyNumber.value;this.getRef("$property").val(r),this.updateData({value:this.state.value.set(r)})}[ot('$body input[type="range"]')](){this.trigger("changeRangeValue")}[xe('$body input[type="range"]')+ze()](){}end(){this.trigger("changeRangeValue")}[Q("changeRangeValue")](){var t=+this.getRef("$property").value;this.getRef("$propertyNumber").val(t),this.state.value===""&&(this.state.value=g.number(0)),this.updateData({value:this.state.value.set(t)})}}var bO="";class r9 extends K{initState(){var t=new W(this.props.value||"");return{parser:t}}makeSegments(){return this.refs.$data.$$(".segment").map(t=>{var r=t.$(".command"),i=r.attr("data-command");if(i==="Z"&&r.attr("data-toggle")==="false")return null;var s=t.$$(".values input[type=number]").map(n=>+n.value);return{command:i,values:s}}).filter(t=>t)}updateData(){var t=this.makeSegments();this.state.parser.resetSegments(t),this.modifyPathData()}modifyPathData(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}setValue(t){this.setState({parser:new W(t)})}getValue(){return this.state.parser.joinPath()}template(){return`
            <div class='elf--path-data-editor'>
                <div class='data' ref='$data'></div>
            </div>
        `}[U("$data")](){var t=[];this.state.parser.segments.forEach((s,n)=>{var o=v({},s);t.push(o);var l=this.state.parser.segments[n+1];l&&l.command==="M"&&(o.command!=="Z"?t.push({command:"Z",toggle:!1,values:[]}):o.toggle=!0)});var r=this.state.parser.segments[this.state.parser.segments.length-1];r&&r.command!=="Z"&&t.push({command:"Z",toggle:!1,values:[]});var i=t.map(s=>{var n=s.command==="M"?"m":"";return`
                <div class='segment ${n}'>
                    <div class='command' data-command='${s.command}' data-toggle="${s.toggle}" title='Toggle'>${s.command}</div>
                    <div class='values'>
                        ${s.values.map(o=>`<input type="number" value="${o}" />`).join("")}

                        ${s.command==="Z"?s.toggle===!1?"opened":"closed":""}
                    </div>
                </div>
            `});return i.unshift(`
            <div class='segment-empty'>
                <div class='command'></div>
                <div class='values'>
                    <span>X</span>
                    <span>Y</span>
                </div>
            </div>
        `),i}[ot("$data input[type=number]")+Xe(300)](t){this.updateData()}[F("$data .command[data-toggle]")](t){var[r,i]=t.$dt.attrs("data-command","data-toggle");r==="Z"&&(i!=="false"?i="false":i="true",t.$dt.attr("data-toggle",i),this.updateData())}}var $O="";class i9 extends K{initState(){var t=new fs(this.props.value||"");return{parser:t}}makeSegments(){return this.refs.$data.$$(".segment").map(t=>{var r=+t.$('[data-key="x"]').value,i=+t.$('[data-key="y"]').value;return{x:r,y:i}})}updateData(){var t=this.makeSegments();this.state.parser.resetSegments(t),this.modifyPolygonData()}modifyPolygonData(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}setValue(t){this.setState({parser:new fs(t||"")})}getValue(){return this.state.parser.joinPoints()}template(){return`
            <div class='elf--polygon-data-editor'>
                <div class='data' ref='$data'></div>
            </div>
        `}[U("$data")](){return this.state.parser.segments.map(t=>`
                <div class='segment'>
                    <div class='values'>
                        <label>X <input type="number" data-key="x" value="${t.x}" /></label>
                        <label>Y <input type="number" data-key="y" value="${t.y}" /></label>
                    </div>
                </div>
            `)}[ot("$data input[type=number]")+Xe(300)](t){this.updateData()}}var xO="";class s9 extends K{initState(){var t=this.props.split||",",r=Array.isArray(this.props.options)?this.props.options.map(o=>ht(o)?{value:o,text:o}:o):(this.props.options||"").split(t).map(o=>o.trim()).map(o=>{const[l,c]=o.split(":");return{value:l,text:c}}),i=this.props.icons||[],s=this.props.colors||[],n=this.props.value||"";return{label:this.props.label||"",compact:Yr(this.props.compact)?this.props.compact:this.props.compact==="true",options:r,icons:i,colors:s,value:n,height:this.props.height}}template(){var{label:t,compact:r,height:i}=this.state,s=t?"has-label":"",n=r?"compact":"",o=i?`--elf--input-height: ${i}px;`:"";return`
            <div class='elf--select-icon-editor ${s}' style="${o}">
                ${t?`<label title="${t}">${t}</label>`:""}
                <div class='items ${n}' ref='$options'></div>
            </div>
        `}[F("$close")](){this.updateData({value:""}),this.refresh()}getValue(){return this.state.value||""}setValue(t){this.setState({value:t})}[U("$options")+st](){return this.state.options.map((t,r)=>{var i=t.value,s=t.text,n=t.text,o="",l=i===this.state.value,c=l?"selected":"";if(t.value===""){var s="";n="close",Re(this.state.icons[r])&&(o="icon",s=D4(),i="__blank__")}else{var h=this.state.icons[r];ae[h]&&(o="icon"),n=s,s=ae[h]||s||h||t.text||t.value}var d=this.state.colors[r],p={};return l&&d&&(p["background-color"]=d),`
                <div class='select-icon-item ${c} ${o}' 
                    style='${Ge(p)}' 
                    data-value="${i}" 
                    data-tooltip='${n}'
                >${s}</div>`})}[F("$options .select-icon-item")](t){var r=t.$dt.attr("data-value");!r||r==="__blank__"||(this.updateData({value:r}),this.refresh())}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}var _O="";const bu=[[10,5],[5,1],[1,5],[.9],[15,10,5],[15,10,5,10],[15,10,5,10,15],[5,5,1,5]];class a9 extends K{initState(){var t=ai(this.props.value)?this.props.value:this.generateValue(this.props.value||"");return{label:this.props.label||"",value:t,count:1}}template(){const{label:t}=this.state,r=!!t;return`
      <div class='elf--stroke-dasharray-editor'>
        <div class='tools ${r?"has-label":""}'>
          ${r?`<label class='label'>${t}</label>`:""}
          <div class="buttons">
            <label ref='$add'>${ae.add}</label>          
          </div>
        </div>      
        <div ref='$body' class='dash-list'></div>
        <div ref='$list' class='dash-sample-list'></div>
      </div>
    `}[F("$el .tools label")](){this.refs.$list.toggle()}getValue(){return this.state.value}generateValue(t){return t.split(" ").filter(Boolean).map(r=>+r)}setValue(t){Array.isArray(t)||(t=this.generateValue(t)),this.setState({value:t})}[U("$list")](){return bu.map((t,r)=>`
        <div class='dash-sample' data-index='${r}'>
          <div class='dash-sample-value'>
            <svg width="100" height="2">
              <line x1="5" y1="0" x2="95" y2="0" stroke-dasharray="${t.join(",")}" stroke-width="2" stroke="black" />
            </svg>
          </div>
        </div>
      `)}[U("$body")](){return this.state.count++,this.state.value.map((t,r)=>{var i=r+1;return`
        <div class='dasharray-item'>
          ${E("NumberInputEditor",{ref:`$dash-${this.state.count}-${i}`,compact:!0,key:r,value:t,min:0,max:100,step:1,onchange:"changeRangeEditor"})}  
          <button type="button" data-index="${r}" class='delete'>${O("close")}</button>
        </div>
      `})}[Q("changeRangeEditor")](t,r){var i=+t;this.state.value[i]=r,this.modifyStrokeDashArray()}[F("$list .dash-sample")](t){const r=bu[+t.$dt.data("index")];this.setState({value:r},!1),this.refresh(),this.modifyStrokeDashArray(),this.refs.$list.toggle()}[F("$add")](){this.setState({value:[...this.state.value,0]},!1),this.refresh(),this.modifyStrokeDashArray()}[F("$body .delete")](t){const r=+t.$dt.attr("data-index");this.state.value.splice(r,1),this.refresh(),this.modifyStrokeDashArray()}modifyStrokeDashArray(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}[xe("document")](t){be.create(t.target).closest("elf--stroke-dasharray-editor")||this.refs.$list.hide()}}var SO="";class n9 extends K{initState(){var t=this.props.value;return{label:this.props.label||"",height:100,value:t}}template(){var{label:t,height:r,value:i}=this.state,s=t?"has-label":"";return`
            <div class='elf--text-area-editor ${s}'>
                ${t?`<label>${t}</label>`:""}
                <textarea ref='$text' style='height:${r}'>${i}</textarea>
            </div>
        `}getValue(){return this.refs.$options.value}setValue(t,r){this.setState({value:t},!1),r&&this.setState({height:r},!1),this.refresh()}[se("$text")](){return{text:this.state.value||"",style:{height:this.state.height}}}[ot("$text")](){this.updateData({value:this.refs.$text.value})}updateData(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}var wO="";class o9 extends K{initState(){var t=this.props.value;return{label:this.props.label||"",value:t}}template(){var{label:t,value:r}=this.state,i=t?"has-label":"";return`
            <div class='elf--text-editor ${i}'>
                ${t?`<label>${t}</label>`:""}
                <div>
                    <input type='text' ref='$text' value="${r}" />
                </div>
            </div>
        `}getValue(){return this.refs.$text.value}setValue(t){this.refs.$text.val(t),this.setState({value:t},!1)}[se("$text")](){return{value:this.state.value}}[ot("$text")](){this.updateData({value:this.refs.$text.value})}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}var PO="";class l9 extends K{initState(){var t=this.props.value.split(";").filter(r=>r.trim()).map(r=>{let[i,s]=r.split(":");return i=i.replace("--",""),{key:i,value:s}});return{hideLabel:this.props.hideLabel=="true",params:this.props.params||"",values:t}}template(){var t=this.state.hideLabel?"hide":"";return`
        <div class='elf--var-editor var-list'>
            <div class='label ${t}' >
                <label>${this.props.title||""}</label>
                <div class='tools'>
                    <button type="button" ref="$add" title="add Var">${ae.add}</button>
                </div>
            </div>
            <div class='var-list' ref='$varList'></div>
        </div>`}[I("add")](){this.state.values.push({key:"",value:""}),this.refresh(),this.updateData()}[F("$add")](){this.trigger("add")}[U("$varList")](){return this.state.values.map((t,r)=>`
                <div class='var-item' >
                    <div>
                        <input type="text" data-type="key" value="${t.key}" data-index="${r}"  placeholder="variable" />
                    </div>
                    <div>
                        <input type="text" data-type="value" value="${t.value}" data-index="${r}"  placeholder="value" />
                    </div>
                    <div class="tools">
                        <button type="button" class="del" data-index="${r}">
                        ${ae.remove2}
                        </button>
                    </div>
                </div>
            `)}[F("$varList .del")](t){var r=+t.$dt.attr("data-index");this.state.values.splice(r,1),this.refresh(),this.updateData()}[ot("$varList input")](t){var r=+t.$dt.attr("data-index"),i=t.$dt.attr("data-type");this.state.values[r][i]=t.$dt.value,this.updateData()}updateData(t){var r=this.state.values.map(i=>`${i.key}:${i.value}`).join(";");this.parent.trigger(this.props.onchange,r,this.props.params)}}var CO="";class $u{constructor(t){this.viewport=t,this.segmentList=[]}get hasViewport(){return Boolean(this.viewport)}reset(){return this.segmentList=[],this}checkInViewport(t){if(!this.hasViewport)return!0;const r=this.viewport.applyVertexInverse([t.x,t.y,0]);return this.viewport.checkInViewport(r)}addLine(t,r){return this.hasViewport&&Yt(t.x,t.y,r.x,r.y)<1?this:((this.checkInViewport(t)||this.checkInViewport(r))&&this.segmentList.push({line:!0,x1:t.x,y1:t.y,x2:r.x,y2:r.y}),this)}addGuideLine(t,r){return this.hasViewport&&Yt(t.x,t.y,r.x,r.y)<1?this:((this.checkInViewport(t)||this.checkInViewport(r))&&this.segmentList.push({line:!0,guide:!0,x1:t.x,y1:t.y,x2:r.x,y2:r.y}),this)}addDistanceLine(t,r){return this.hasViewport&&Yt(t.x,t.y,r.x,r.y)<1?this:(this.segmentList.push({line:!0,distance:!0,x1:t.x,y1:t.y,x2:r.x,y2:r.y}),this)}addDistanceAngle(t,r,i,s,n,o){return this.segmentList.push({angle:!0,rx:r,ry:i,line:o,degree:s,center:t,last:n}),this}addPoint(t,r,i,s,n=!1){return this.checkInViewport(r)&&this.segmentList.push(le(v({},t),{cx:r.x,cy:r.y,selected:n,index:i,segment:s,isFirst:r.isFirst,isLast:r.isLast,isSecond:r.isSecond})),this}addStartPoint(t,r){return this.checkInViewport(r)&&this.segmentList.push(le(v({},t),{cx:r.x,cy:r.y,start:!0})),this}addCurvePoint(t,r,i,s=!1){return this.checkInViewport(t)&&this.segmentList.push({curve:!0,cx:t.x,cy:t.y,index:r,selected:s,segment:i,isFirst:t.isFirst,isLast:t.isLast,isSecond:t.isSecond}),this}addText(t,r){return this.segmentList.push({type:"text",cx:t.x,cy:t.y,text:r+""}),this}toString(){return this.segmentList.sort((t,r)=>t.line&&!r.line?-1:!t.line&&r.line?1:0),this.segmentList.map(t=>t.angle?`
                <path stroke-width='1' 
                    data-distance='true'
                    fill="rgba(0,0,0,0.5)"
                    d="M ${t.center.x},${t.center.y} A ${t.rx} ${t.ry},${t.degree},0,0,${t.last.x} ${t.last.y} L${t.line.x} ${t.line.y} Z"
                />`:t.line?`
                <line stroke-width='1' 
                    data-segment="true"
                    data-is-last="${t.isLast}"                
                    data-guide='${t.guide}'
                    data-distance='${t.distance}'
                    x1='${t.x1}' x2='${t.x2}' y1='${t.y1}' y2='${t.y2}' 
                />`:t.text?"":t.curve&&t.segment!=="startPoint"?`
                <path stroke-width='1'
                    class='curve' 
                    ${t.selected&&'data-selected="true"'}
                    ${t.isLast&&'data-is-last="true"'}
                    ${t.isFirst&&'data-is-first="true"'}
                    ${t.isSecond&&'data-is-second="true"'}
                    title="${t.segment} curve"  
                    data-index='${t.index}'
                    data-segment-point='${t.segment}'
                    data-segment="true" 
                    d="M ${t.cx} ${t.cy-4}L ${t.cx+4} ${t.cy} L ${t.cx} ${t.cy+4} L ${t.cx-4} ${t.cy} Z"
                />`:t.start?`
                <circle 
                    cx='${t.cx}' 
                    cy='${t.cy}' 
                    r='4'                    
                    class='segment'
                    data-selected='${t.selected}'
                    title="Center"
                    data-start="true" 
                    tabIndex="-1"
                />`:`
                <circle 
                    cx='${t.cx}' 
                    cy='${t.cy}' 
                    r='4'                    
                    class='segment'
                    data-selected='${t.selected}'
                    title="${t.segment}"
                    data-is-last="${t.isLast}"
                    data-is-first="${t.isFirst}"
                    data-is-second="${t.isSecond}"
                    data-index='${t.index}' 
                    data-segment-point='${t.segment}' 
                    data-segment="true" 
                    tabIndex="-1"                    
                />`).join("")}}const Bl=["startPoint","endPoint","reversePoint"];function xu(a,t,r,i,s){var n=a.filter(l=>l?Math.abs(l[t]-r)<=s:!1).map(l=>({dist:Math.abs(l[t]-r),point:l}));n.sort((l,c)=>l.dist<c.dist?-1:1);var o=null;return n.length&&(o=n[0].point,i+=o[t]-r),{point:o,distanceValue:i}}function c9(a,t,r=1){var i=_u(a,"x",t.x,r),s=_u(a,"y",t.y,r),n=v({},t);i&&(n.x=i.x),s&&(n.y=s.y);var o=[];return i&&o.push({startPoint:i,endPoint:n}),s&&o.push({startPoint:s,endPoint:n}),{snapPointList:o,moveXY:n}}function _u(a,t,r,i){var s=[],n=Bl;return a.filter(o=>o).forEach(o=>{n.filter(l=>o[l]).forEach(l=>{var c=o[l],h=Math.abs(c[t]-r);h<=i&&s.push({dist:h,point:c})})}),s.sort((o,l)=>o.dist>l.dist?1:-1),s.length?s[0].point:null}function Su(a,t,r,i=1){for(var s=[],n=0,o=a.length;n<o;n++){var l=n,c=a[l];if(!!c){if(c.command==="M")s.push({command:"M",values:[c.startPoint]});else{var h=Y.getPrevPoint(a,n);c.curve===!1?h.curve===!1?s.push({command:"L",values:[c.startPoint]}):s.push({command:"Q",values:[h.endPoint,c.startPoint]}):h.curve===!1?Y.isEqual(c.reversePoint,c.startPoint)?s.push({command:"L",values:[c.startPoint]}):s.push({command:"Q",values:[c.reversePoint,c.startPoint]}):s.push({command:"C",values:[h.endPoint,c.reversePoint,c.startPoint]})}c.close&&s.push({command:"Z"})}}var d=s.map(p=>h9(t,r,p,i)).join(" ");return{d}}function h9(a,t,r,i=1){var{command:s,values:n}=r;switch(s){case"Z":return"Z";default:var o=n.map(l=>{var c=l.x-a==0?0:(l.x-a)/i,h=l.y-t==0?0:(l.y-t)/i;return`${c} ${h}`}).join(" ");return`${s} ${o}`}}function d9(a,t){return!(a.x2.value<t.x||a.y2.value<t.y||a.x.value>t.x||a.y.value>t.y)}class u9{generatorPathString(t,r=0,i=0,s=1){return Su(t,r,i,s).d}constructor(t){this.pathEditor=t,this.pathStringManager=new Rt,this.guideLineManager=new Rt,this.segmentManager=new $u(null),this.points=[],this.cachedSegmentKeys={},this.initialize(),this.initializeSelect()}initialize(){this.splitLines=[],this.guideLineManager.reset(),this.segmentManager.reset(),this.pathStringManager.reset()}initializeSelect(t=[]){this.selectedPointKeys={},this.selectedPointList=[],t.length&&this.select(...t.map(r=>{const i=this.points[r.index][r.key];if(!!i)return{x:i.x,y:i.y,key:r.key,index:i.index}}).filter(Boolean))}get state(){return this.pathEditor.state}get clonePoints(){return[...this.points]}get length(){return this.points.length}setPoints(t=[]){this.points=t,this.snapPointList=[],this.points.length===0&&(this.select(),this.selectGroup(-1))}selectInBox(t,r=!1){var i=[];if(this.points.forEach((s,n)=>{Bl.forEach(o=>{const l=s[o];d9(t,l)&&i.push({x:l.x,y:l.y,key:o,index:n})})}),r){i=i.map(l=>{const c=this.makeSegmentKey(l);return le(v({},l),{included:Boolean(this.selectedPointKeys[c])})});const s=i.filter(l=>l.included),n=i.filter(l=>!l.included);let o=[...this.selectedPointList];s.length&&(o=this.selectedPointList.filter(l=>{const c=this.makeSegmentKey(l);return Boolean(s.find(h=>c===this.makeSegmentKey(h)))===!1})),this.select(...o,...n)}else this.select(...i)}makeSegmentKey(t){return`${t.key}_${t.index}`}select(...t){this.selectedPointKeys={},this.selectedPointList=t.map(({x:r,y:i,key:s,index:n})=>({x:r,y:i,key:s,index:+n})),t.forEach(r=>{var i=this.makeSegmentKey(r);this.selectedPointKeys[i]=!0})}convertPointsToSelectionList(t){var r=[];return t.forEach(i=>{Bl.forEach(s=>{const{x:n,y:o}=i[s];r.push({x:n,y:o,key:s,index:i.index})})}),r}selectGroup(t){const r=this.splitedGroupList[t];r?this.select(...this.convertPointsToSelectionList(r.points)):this.select()}getCacheSegmentKey(t,r){return this.cachedSegmentKeys[t]||(this.cachedSegmentKeys[t]={}),this.cachedSegmentKeys[t][r]||(this.cachedSegmentKeys[t][r]=this.makeSegmentKey({key:t,index:r})),this.cachedSegmentKeys[t][r]}toggleSelect(t,r){if(this.points[r]){var i=this.points[r][t];i&&!this.isSelectedSegment(t,r)?this.select(...this.selectedPointList,{x:i.x,y:i.y,key:t,index:r}):this.select(...this.selectedPointList.filter(s=>s.key!==t||s.index!==r))}}selectKeyIndex(t,r){if(this.points[r]){var i=this.points[r][t];i&&!this.isSelectedSegment(t,r)&&this.select({x:i.x,y:i.y,key:t,index:r})}}reselect(){this.selectedPointList.filter(Boolean).forEach(t=>{var i;var r=(i=this.points[t.index])==null?void 0:i[t.key];r&&(t.x=r.x,t.y=r.y)})}isSelectedSegment(t,r){var i=this.getCacheSegmentKey(t,r);return this.selectedPointKeys[i]}commitTransformMatrix(t,r){var i=Ye([],[t.x,t.y,0],r);return{x:i[0],y:i[1]}}transformMat4(t){this.transformPoints.forEach((r,i)=>{var s=this.points[i];Object.assign(s.startPoint,this.commitTransformMatrix(r.startPoint,t)),Object.assign(s.endPoint,this.commitTransformMatrix(r.endPoint,t)),Object.assign(s.reversePoint,this.commitTransformMatrix(r.reversePoint,t))})}transform(t,r=0,i=0){var{x:s,y:n,width:o,height:l}=this.transformRect,c=St();switch(mt(c,c,[s,n,0]),t){case"flipX":Br(c,c,[-1,1,1]),mt(c,c,[-o,0,0]);break;case"flipY":Br(c,c,[1,-1,1]),mt(c,c,[0,-l,0]);break;case"flip":Br(c,c,[-1,-1,1]),mt(c,c,[-o,-l,0]);break}mt(c,c,[-s,-n,0]),this.transformMat4(c)}initTransform(t){this.transformRect=ve(t),this.transformPoints=this.clonePoints.map(r=>({startPoint:ve(r.startPoint),endPoint:ve(r.endPoint),reversePoint:ve(r.reversePoint)}))}setConnectedPoint(t,r){var i=this.state,s=i.dragXY.x+t,n=i.dragXY.y+r,o={x:s,y:n},l={x:s,y:n};i.dragPoints&&(i.reversePoint=Y.getReversePoint(i.startPoint,o));var c={startPoint:i.startPoint,endPoint:o,curve:!!i.dragPoints,reversePoint:l,connected:!0,close:!0};this.points.push(c)}setLastPoint(t){var r=ve(t),i=ve(t),s={startPoint:t,endPoint:r,curve:!1,reversePoint:i,connected:!1,close:!1};this.points.push(s)}getPrevPoint(t){return Y.getPrevPoint(this.points,t)}getIndexPoint(t){return Y.getIndexPoint(this.points,t)}getNextPoint(t){return Y.getNextPoint(this.points,t)}getConnectedPointList(t){return Y.getConnectedPointList(this.points,t)}isFirst(t){return Y.isFirst(t)}getLastPoint(t){return Y.getLastPoint(this.points,t)}setCachePoint(t,r,i=[]){var s=this.state;this.snapPointList=[],this.selectedIndex=t,s.connectedPoint=this.getPrevPoint(t),s.connectedPointList=ve(Y.getConnectedPointList(this.points,this.selectedIndex)),s.connectedPoint&&!s.connectedPoint.connected&&(s.connectedPoint=null),s.segment=this.getIndexPoint(t),s.segment.connected&&(s.connectedPoint=this.getNextPoint(t));var n=this.isFirst(s.segment);if(n){var o=this.getLastPoint(t);o.connected&&(s.connectedPoint=o)}s.segmentKey=r,s.isCurveSegment=s.segment.curve&&s.segmentKey!="startPoint",s.originalSegment=ve(s.segment),s.connectedPoint&&(s.originalConnectedPoint=ve(s.connectedPoint)),s.cachedPoints=[],this.points.filter(l=>l&&l!=s.segment).forEach(l=>{s.cachedPoints.push(l.startPoint,l.reversePoint,l.endPoint)})}clamp(t,r,i){return xt(r)||xt(i)?t:Math.max(r,Math.min(i,t))}moveSegment(t,r,i,s=void 0,n=void 0,o=void 0){if(s){const d=this.points[s.index][t];d.x=this.clamp(s[t].x+r,0,n),d.y=this.clamp(s[t].y+i,0,o)}else{var l=this.state,c=l.originalSegment[t],h=l.segment[t];c&&(h.x=this.clamp(c.x+r,0,n),h.y=this.clamp(c.y+i,0,o))}}calculateToCurve(t,r,i){var s=(r.startPoint.x+i.startPoint.x)/2,n=(r.startPoint.y+i.startPoint.y)/2,o=(r.startPoint.x-s)/2,l=(r.startPoint.y-n)/2;return t.endPoint={x:t.startPoint.x+o,y:t.startPoint.y+l},t.reversePoint={x:t.startPoint.x-o,y:t.startPoint.y-l},{dx:o,dy:l}}convertToCurve(t){var r=this.points[t];if(r.curve)if(r.curve=!1,r.reversePoint=ve(r.startPoint),r.endPoint=ve(r.startPoint),r.command==="M"){var i=Y.getPrevPoint(points,r.index);i.connected&&(i.curve=!1,i.reversePoint=ve(i.startPoint),i.endPoint=ve(i.startPoint))}else{var s=this.getNextPoint(t);if(s&&s.command==="M"){var n=s;n.curve=!1,n.reversePoint=ve(n.startPoint),n.endPoint=ve(n.startPoint)}}else{r.curve=!0;var o=this.getPrevPoint(t),s=this.getNextPoint(t);if(s&&s.index<t&&s.command==="M"){var n=s;s=this.getNextPoint(n.index),this.calculateToCurve(r,s,o),n.curve=!0,n.endPoint=ve(r.endPoint),n.reversePoint=ve(r.reversePoint)}else if(s&&s.index>t&&s.command!=="M")this.calculateToCurve(r,s,o);else if(!s&&o){var l=(r.startPoint.x-o.startPoint.x)/3,c=(r.startPoint.y-o.startPoint.y)/3;r.endPoint={x:r.startPoint.x+l,y:r.startPoint.y+c},r.reversePoint=Y.getReversePoint(r.startPoint,r.endPoint)}else if(!o&&s){var l=(r.startPoint.x-s.startPoint.x)/3,c=(r.startPoint.y-s.startPoint.y)/3;r.endPoint={x:r.startPoint.x+l,y:r.startPoint.y+c},r.reverse=Y.getReversePoint(r.startPoint,r.endPoint)}}}moveCurveSegment(t,r,i){var s=this.state;this.moveSegment(t,r,i);var n=t==="endPoint"?"reversePoint":"endPoint";s.segment[n]=Y.getReversePoint(s.segment.startPoint,s.segment[t])}rotateSegmentTarget(t,r){var i=this.state;if(i.originalSegment&&i.segment){var{x:s,y:n}=i.originalSegment.startPoint,{x:o,y:l}=i.segment[t],{x:c,y:h}=i.originalSegment[r],{x:d,y:p}=is(nt(o-s,l-n),Yt(c,h,s,n),s,n);i.segment[r]={x:d,y:p}}}rotateSegment(t){this.rotateSegmentTarget(t,t==="endPoint"?"reversePoint":"endPoint")}calculateSnap(t,r,i,s=1){var n=this.state,o=n.cachedPoints,l=n.originalSegment[t];if(!t)return{dx:r,dy:i,snapPointList:[]};var c=l.x+r,h=l.y+i,{point:d,distanceValue:r}=xu(o,"x",c,r,s),{point:p,distanceValue:i}=xu(o,"y",h,i,s),u={x:l.x+r,y:l.y+i},m=[];return d&&m.push({startPoint:d,endPoint:u}),p&&m.push({startPoint:p,endPoint:u}),{dx:r,dy:i,snapPointList:m}}copySegment(t,r){r.startPoint=ve(t.startPoint),r.endPoint=ve(t.endPoint),r.reversePoint=ve(t.reversePoint)}get selectedLength(){return this.selectedPointList.length}moveSelectedSegment(t,r){this.selectedPointList.length>0?this.selectedPointList.forEach(i=>{var s=this.points[i.index][i.key];s.x=i.x+t,s.y=i.y+r}):this.selectedGroup&&this.moveSelectedGroup(t,r)}moveSelectedGroup(t,r,i,s){this.selectedGroup.points.forEach(n=>{const o=this.points[n.index];o.startPoint.x=this.clamp(n.startPoint.x+t,0,i),o.startPoint.y=this.clamp(n.startPoint.y+r,0,s),o.endPoint.x=n.endPoint.x+t,o.endPoint.y=n.endPoint.y+r,o.reversePoint.x=n.reversePoint.x+t,o.reversePoint.y=n.reversePoint.y+r})}get selectedGroup(){return this.splitedGroupList[this.state.selectedGroupIndex]}get splitedGroupList(){return Y.getSplitedGroupList(this.points)}get groupList(){return Y.getGroupList(this.points)}getGroup(t,r){return Y.getGroup(t,r)}get selectedGroupIndexList(){const t=new Set,r=this.groupList;return this.selectedPointList.length===0&&this.state.selectedGroupIndex<0?r.map(s=>s.groupIndex):(this.selectedPointList.forEach(s=>{const n=this.getGroup(r,s.index);n&&t.add(n.groupIndex)}),[...new Set([...t,this.state.selectedGroupIndex])])}removeSelectedSegment(){this.selectedPointList.forEach(i=>{var s=this.points[i.index][i.key];s.removed=!0});const t=Y.splitPoints(this.points),r=Y.recoverPoints(t.map(i=>i.filter(s=>!s.startPoint.removed).map(s=>(s.endPoint.removed&&(s.endPoint=ve(s.startPoint)),s.reversePoint.removed&&(s.reversePoint=ve(s.startPoint)),Y.isEqual(s.endPoint,s.startPoint,s.reversePoint)&&(s.command="L",s.curve=!1),s))));this.points=r,this.select()}move(t,r,i,s,n){var o=this.state,{isCurveSegment:l,segmentKey:c,connectedPoint:h}=o;if(this.selectedPointList.length>1)this.moveSelectedSegment(t,r,s,n);else if(this.selectedPointList.length===1){var{dx:t,dy:r,snapPointList:d}=this.calculateSnap(c,t,r,3);if(this.snapPointList=d||[],l)if(i.altKey)this.moveSegment(c,t,r),this.rotateSegment(c);else if(i.shiftKey)this.moveSegment(c,t,r);else{this.moveSegment(c,t,r);var p=c==="endPoint"?"reversePoint":"endPoint";o.segment[p]=Y.getReversePoint(o.segment.startPoint,o.segment[c])}else this.moveSegment("startPoint",t,r,null,s,n),this.moveSegment("endPoint",t,r),this.moveSegment("reversePoint",t,r),i.altKey||o.connectedPointList.forEach($=>{this.moveSegment("startPoint",t,r,$,s,n),this.moveSegment("endPoint",t,r,$),this.moveSegment("reversePoint",t,r,$)});h&&this.copySegment(o.segment,o.connectedPoint)}else this.state.selectedGroupIndex>-1&&this.moveSelectedGroup(t,r,s,n)}moveEnd(t,r){var i=this.state,s=this.points,n=i.dragXY.x+t,o=i.dragXY.y+r,l={x:n,y:o},c={x:n,y:o};i.dragPoints&&(c=Y.getReversePoint(i.startPoint,l)),s.push({command:i.clickCount===0?"M":"",startPoint:i.startPoint,endPoint:l,curve:!!i.dragPoints,reversePoint:c}),i.startPoint=null,i.dragPoints=!1,i.moveXY=null}setPoint(t){var r=t.first[0],i=t.second[t.second.length-1],s=this.clonePoints,n=Y.getPoint(s,r),o=Y.getPoint(s,i),l=[le(v({},n),{endPoint:t.first[1]}),{startPoint:t.first[3],reversePoint:t.first[2],curve:!0,endPoint:t.second[1]},le(v({},o),{reversePoint:t.second[2]})],c=Y.getIndex(s,r);return s.splice(c,2,...l),this.points=s,c+1}setPointQuard(t){var r=t.first[0],i=t.second[t.second.length-1],s=this.clonePoints,n=Y.getPoint(s,r),o=Y.getPoint(s,i);if(n.curve&&o.curve===!1){var l=[le(v({},n),{endPoint:n.startPoint}),{startPoint:t.first[2],reversePoint:t.first[1],curve:!0,endPoint:t.second[1]}],c=Y.getIndex(s,r);s.splice(c,1,...l)}else{var l=[v({},n),{startPoint:t.first[2],reversePoint:t.first[1],curve:!0,endPoint:t.second[1]},le(v({},o),{reversePoint:t.second[1],curve:!0})],c=Y.getIndex(s,r);s.splice(c,2,...l)}return this.points=s,c+1}setPointLine(t){var r=t.first[0],i=this.clonePoints,s=[{command:"L",startPoint:t.first[1],curve:!1,endPoint:t.first[1],reversePoint:t.first[1]}],n=Y.getIndex(i,r);return i.splice(n+1,0,...s),this.points=i,n+1}toPath(t=0,r=0,i=1){return Su(this.clonePoints,t,r,i)}makeSVGPath(){return this.initialize(),this.makePointGuide(this.points),this.makeMovePositionGuide(),this.toSVGString()}makeTriangleDistancePointGuide(t,r){var i=Math.min(t.startPoint.x,r.startPoint.x),s=Math.max(t.startPoint.x,r.startPoint.x),n=Math.min(t.startPoint.y,r.startPoint.y),o=Math.max(t.startPoint.y,r.startPoint.y);if(t.startPoint.x<r.startPoint.x&&t.startPoint.y<r.startPoint.y){this.segmentManager.addDistanceLine({x:i,y:n},{x:s,y:n}).addDistanceLine({x:s,y:n},{x:s,y:o});var l=i,c=n,h=nt(s-i,o-n)-180,d=20,{x:p,y:u}=is(0,d,l,c),m=is(h,d,l,c);this.segmentManager.addDistanceAngle(m,d,d,h,{x:p,y:u},{x:p-d,y:u})}else t.startPoint.x<r.startPoint.x&&t.startPoint.y>r.startPoint.y?this.segmentManager.addDistanceLine({x:i,y:o},{x:s,y:o}).addDistanceLine({x:s,y:n},{x:s,y:o}):t.startPoint.x>r.startPoint.x&&t.startPoint.y>r.startPoint.y?this.segmentManager.addDistanceLine({x:i,y:n},{x:i,y:o}).addDistanceLine({x:i,y:o},{x:s,y:o}):t.startPoint.x>r.startPoint.x&&t.startPoint.y<r.startPoint.y&&this.segmentManager.addDistanceLine({x:i,y:o},{x:s,y:o}).addDistanceLine({x:s,y:n},{x:s,y:o})}makeDistancePointGuide(t,r,i,s){r.selected&&(t&&this.makeTriangleDistancePointGuide(t,r),i&&this.makeTriangleDistancePointGuide(r,i))}makeStartPointGuide(t,r,i,s){r.startPoint.isFirst=!0,r.curve===!1?this.segmentManager.addPoint({},r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)):(this.segmentManager.addPoint({},r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)).addGuideLine(r.startPoint,r.endPoint),Y.isEqual(r.startPoint,r.endPoint)===!1&&this.segmentManager.addCurvePoint(r.endPoint,s,"endPoint",this.isSelectedSegment("endPoint",s)))}makeMiddlePointGuideSegment(t,r,i,s){var n=this.segmentManager;r.curve===!1?t.curve===!1?n.addPoint({},r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)):(n.addGuideLine(t.startPoint,t.endPoint).addCurvePoint(r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)),Y.isEqual(t.startPoint,t.endPoint)===!1&&n.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index))):t.curve===!1?Y.isEqual(r.reversePoint,r.startPoint)?n.addPoint({},r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)):(n.addGuideLine(r.startPoint,r.reversePoint).addCurvePoint(r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)),Y.isEqual(r.startPoint,r.reversePoint)===!1&&n.addCurvePoint(r.reversePoint,s,"reversePoint",this.isSelectedSegment("reversePoint",s))):r.connected?(n.addGuideLine(t.startPoint,t.endPoint).addGuideLine(r.startPoint,r.reversePoint),Y.isEqual(t.startPoint,t.endPoint)===!1&&n.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),Y.isEqual(r.startPoint,r.reversePoint)===!1&&n.addCurvePoint(r.reversePoint,s,"reversePoint",this.isSelectedSegment("reversePoint",s))):(n.addGuideLine(t.startPoint,t.endPoint).addGuideLine(r.startPoint,r.reversePoint).addCurvePoint(r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)),Y.isEqual(t.startPoint,t.endPoint)===!1&&n.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),Y.isEqual(r.startPoint,r.reversePoint)===!1&&n.addCurvePoint(r.reversePoint,s,"reversePoint",this.isSelectedSegment("reversePoint",s)))}makeMiddlePointGuideSplitLine(t,r,i,s){const n="selected";r.curve===!1?t.curve===!1?this.splitLines.push(new Rt().M(t.startPoint).L(r.startPoint).toString(`split-path ${n}`)):this.splitLines.push(new Rt().M(t.startPoint).Q(t.endPoint,r.startPoint).toString(`split-path ${n}`)):t.curve===!1?Y.isEqual(r.reversePoint,r.startPoint)?this.splitLines.push(new Rt().M(t.startPoint).L(r.startPoint).toString(`split-path ${n}`)):this.splitLines.push(new Rt().M(t.startPoint).Q(r.reversePoint,r.startPoint).toString(`split-path ${n}`)):this.splitLines.push(new Rt().M(t.startPoint).C(t.endPoint,r.reversePoint,r.startPoint).toString(`split-path ${n}`))}makePointGuide(t){for(var r=0,i=t.length;r<i;r++){var s=r,n=t[s];if(!!n){var o=Y.getNextPoint(t,r),l=Y.getPrevPoint(t,r);l&&l.command==="M"&&n.startPoint&&(n.startPoint.isSecond=!0),n.startPoint&&(o?n.startPoint.isLast=o.command==="M":n.startPoint.isLast=r===i-1),n.selected=this.selectedIndex===r,n.command==="M"?this.makeStartPointGuide(l,n,o,r):(this.makeMiddlePointGuideSplitLine(l,n,o,r),this.makeMiddlePointGuideSegment(l,n,o,r)),n.close&&this.pathStringManager.Z()}}}makeMovePositionGuide(){var t=this.state,{startPoint:r,moveXY:i,dragPoints:s,altKey:n,snapPointList:o,isGroupSegment:l}=t,c=this.points;if(i){o=o||[];var{snapPointList:h,moveXY:d}=c9(c,i,3);o.push.apply(o,h),t.moveXY=d,i=d,this.snapPointList=o;var p=c[c.length-1];if(s&&!l)if(p){if(p.curve){var{x:u,y:m}=Y.getReversePoint(r,i);this.guideLineManager.M(p.startPoint).C(p.endPoint,{x:u,y:m},r),this.segmentManager.addGuideLine(p.startPoint,p.endPoint).addGuideLine(r,{x:u,y:m}).addGuideLine(r,i).addCurvePoint(p.endPoint).addCurvePoint({x:u,y:m}).addCurvePoint(i).addPoint(!1,r)}else if(p.curve===!1){var{x:u,y:m}=Y.getReversePoint(r,i);this.guideLineManager.M(p.startPoint).Q({x:u,y:m},r),this.segmentManager.addGuideLine(i,{x:u,y:m}).addPoint(!1,r).addCurvePoint({x:u,y:m}).addCurvePoint(i)}}else{var{x:u,y:m}=Y.getReversePoint(r,i);this.guideLineManager.M(i).L(r).L({x:u,y:m}),this.segmentManager.addCurvePoint(r).addCurvePoint(i).addCurvePoint({x:u,y:m})}else p&&(p.curve?(this.guideLineManager.M(p.startPoint).Q(p.endPoint,i),this.segmentManager.addGuideLine(p.endPoint,p.startPoint).addCurvePoint(p.endPoint)):p.close||(this.guideLineManager.M(p.startPoint).L(i),this.segmentManager.addPoint(!1,p.startPoint)))}}makeSnapLines(){var t=[];if(this.snapPointList){var r=new Rt;t=this.snapPointList.map(i=>(r.reset(),r.M(i.startPoint).L(i.endPoint).X(i.startPoint).toString("snap-path")))}return t.join("")}makePathArea(){const t=this.splitedGroupList.map(({startPointIndex:i,points:s},n)=>{const o=this.generatorPathString(s),l=Tr(W.fromSVGString(o).getBBox());return{points:s,startPointIndex:i,groupIndex:n,center:l[4],d:o}}),r=t.length;return`
            <g>
               ${t.map(i=>{const{center:s}=i,[n,o]=s;return`
                        <path class="path-area ${this.state.selectedGroupIndex===i.groupIndex?"selected":""}" 
                            d="${i.d}" 
                            data-point-index="${i.startPointIndex}" 
                            data-group-index="${i.groupIndex}" 
                        />

                        ${r>1&&`
                            <text class="path-area-text" x="${n}" y="${o}" >${i.groupIndex+1}</text>
                        `}
                    `}).join("")}
            </g>
        `}toSVGString(){return`
        <svg width="100%" height="100%" class='svg-editor-canvas' tabIndex="-1">
            ${this.guideLineManager.toString("guide")}
            ${this.splitLines.join("")}
            ${this.makeSnapLines()}
            ${this.makePathArea()}
            ${this.segmentManager.toString()}
        </svg>
        `}}function gi([a,t]){return{x:a,y:t}}function Jn(a,t){function r(s){if(t[0]<t[1])return t[0]+s*(t[1]-t[0]);if(t[0]>t[1])return t[0]-s*(t[0]-t[1])}function i(s,n,o){const l=Math.min(s,n),c=Math.max(s,n);return(o-l)/(c-l)}return s=>{if(a[0]<a[1])return r(i(a[0],a[1],s));if(a[0]>a[1])return r(1-i(a[0],a[1],s))}}const p9=class extends K{convertToCurve(a){this.pathGenerator.convertToCurve(a),this.renderPath(),this.updatePathLayer()}isEditableSegment(){return this.state.disableCurve===!1}[ts("$view [data-segment]")+Se("isEditableSegment")+Pe](a){var t=+a.$dt.attr("data-index");this.convertToCurve(t)}[Po("$view [data-segment]")+Pe+_o(300)](a){var t=+a.$dt.attr("data-index");this.convertToCurve(t)}},g9=class extends p9{calculatePointOnLine(a,t){var r=new W(a);return r.getClosedPoint(t)}[xe("$view .split-path")+Ve()+ze()](a){this.initRect();var t=new W(a.$dt.attr("d")),r={x:a.xy.x-this.state.rect.x,y:a.xy.y-this.state.rect.y},i=-1;if(this.isMode("path")){this.state.dragXY=r,this.state.startPoint=this.state.dragXY,this.pathGenerator.setLastPoint(this.state.startPoint),this.state.isSplitPath=!0,this.renderPath(),this.state.current&&this.updatePathLayer();return}else{if(t.segments[1].command==="C"){var s=[gi(t.segments[0].values),gi(t.segments[1].values.slice(0,2)),gi(t.segments[1].values.slice(2,4)),gi(t.segments[1].values.slice(4,6))],n=Bo(...s,20),o=n(r.x,r.y);i=this.pathGenerator.setPoint(ba(s,o))}else if(t.segments[1].command==="Q"){var s=[gi(t.segments[0].values),gi(t.segments[1].values.slice(0,2)),gi(t.segments[1].values.slice(2,4))],n=No(...s,20),o=n(r.x,r.y);i=this.pathGenerator.setPointQuard($a(s,o))}else if(t.segments[1].command==="L"){var s=[gi(t.segments[0].values),gi(t.segments[1].values.slice(0,2))],n=Go(...s,20),o=n(r.x,r.y);i=this.pathGenerator.setPointLine(xa(s,o)),a.altKey&&this.pathGenerator.convertToCurve(i)}this.renderPath(),this.updatePathLayer(),this.changeMode("segment-move"),this.pathGenerator.setCachePoint(i,"startPoint"),this.pathGenerator.selectKeyIndex("startPoint",i)}}};class f9 extends g9{initialize(){super.initialize(),this.pathParser=new W,this.pathGenerator=new u9(this)}initState(){return{domain:this.props.domain||[0,1],range:this.props.range||[1,0],isControl:!1,disableCurve:!1,points:[],mode:"path",clickCount:0,isSegment:!1,isFirstSegment:!1,current:null}}template(){return`
        <div class='elf--path-editor' tabIndex="-1">
            <style type="text/css" ref="$styleView"></style>
            <svg id='patternId' width='100%' height='100%' xmlns='http://www.w3.org/2000/svg'>
                <defs>
                    <pattern id='stripe' patternUnits='userSpaceOnUse' width='20' height='33' patternTransform='scale(1) rotate(135)'>
                        <path d='M0 8h20z'   stroke-width='1' stroke='#07A3FB' fill='none'/>
                        <path d='M0 16h20z'   stroke-width='1' stroke='#07A3FB' fill='none'/>
                        <path d='M0 24h20z'   stroke-width='1' stroke='#07A3FB' fill='none'/>
                        <path d='M0 32h20z'   stroke-width='1' stroke='#07A3FB' fill='none'/>
                    </pattern>
                </defs>    
            </svg>
            <div class='path-container' ref='$view'></div>
            <div class='path-container split-panel'>
                <svg width="100%" height="100%">
                    <circle ref='$splitCircle' class='split-circle' />
                </svg>
            </div>
            <div class='segment-box' ref='$segmentBox'></div>
        </div>`}[se("$el")](){return{style:{height:g.px(this.props.height)||200}}}initRect(t=!1){(!this.state.rect||t||this.state.rect.width==0||this.state.rect.height==0)&&(this.state.rect=this.refs.$view.rect())}[I("PathEditorDone")](){this.updatePathLayer()}[Xt()+Si](){this.trigger("PathEditorDone")}[Xt()+Is](){this.state.current&&this.updatePathLayer()}[Xt()+Ic](){console.log("delete")}[Xt("$el .segment")](t){const r=+t.$dt.data("index");switch(console.log(r),t.code){case"Delete":case"Backspace":this.trigger("deleteSegment");break}}[Q("deleteSegment")](){this.pathGenerator.reselect(),this.pathGenerator.removeSelectedSegment(),this.renderPath(),this.updatePathLayer()}[Q("moveSegment")](t,r){this.pathGenerator.reselect(),this.pathGenerator.moveSelectedSegment(t,r),this.renderPath(),this.updatePathLayer()}recoverAreaToPath(t){this.initRect(!0);var r=new W(t);return r.scaleFunc(this.state.domainScaleInvert,this.state.rangeScaleInvert),r.d}updatePathLayer(){var{d:t}=this.pathGenerator.toPath();const r=this.recoverAreaToPath(t);this.parent.trigger(this.props.onchange,this.state.key,r)}changeMode(t,r){this.setState(v({mode:t,clickCount:0,moveXY:null},r),!1),(r==null?void 0:r.points)&&this.pathGenerator.setPoints(r.points||[])}isMode(t){return this.state.mode===t}convertPathToArea(t){this.initRect(!0);const r=this.state.rect.width,i=this.state.rect.height;this.state.domainScale=Jn([0,1],[0,r]),this.state.rangeScale=Jn([1,0],[0,i]),this.state.domainScaleInvert=Jn([0,r],[0,1]),this.state.rangeScaleInvert=Jn([0,i],[1,0]),this.pathParser.reset(t.d).scaleFunc(this.state.domainScale,this.state.rangeScale)}refreshEditorView(t,r=!1){this.convertPathToArea(t),r||this.pathGenerator.selectedPointList,this.pathGenerator.setPoints(this.pathParser.convertGenerator()),this.renderPath()}afterRender(){const{mode:t,value:r}=this.props,i={d:r};t==="move"&&(i.current=null,i.points=[]),this.changeMode(t,i),setTimeout(()=>{this.refreshEditorView(i,!0)},10)}[se("$view")](){var i;const t=this.pathGenerator.makeSVGPath(),r=g.parse((i=this.state.current)==null?void 0:i["stroke-width"]).value||0;return{class:{path:this.state.mode==="path",modify:this.state.mode==="modify",transform:this.state.mode==="transform","segment-move":this.state.mode==="segment-move","is-control":this.state.isControl,"has-one-stroke-width":r===1},htmlDiff:t}}[se("$splitCircle")](){return this.state.splitXY?{cx:this.state.splitXY.x,cy:this.state.splitXY.y,r:5}:{r:0}}renderPath(){this.bindData("$view")}get checkDistance(){return!1}getPathRect(){this.initRect(!0);const{d:t}=this.pathGenerator.toPath();return rr(W.fromSVGString(t).getBBox())}resetTransformZone(){var t=this.getPathRect();this.state.transformZoneRect=t}[rs("$view")+Pe](t){if(this.initRect(),this.isMode("path")&&this.state.rect)this.state.moveXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.altKey=t.altKey,this.renderPath();else{var r=be.create(t.target),i=r.hasClass("split-path");i?this.state.splitXY=this.calculatePointOnLine(r.attr("d"),{x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y}):this.state.splitXY=null,this.bindData("$splitCircle"),this.state.altKey=!1}}[xe("$view :not(.split-path)")+Pe+Jt+Ve()+ze()](t){this.initRect(),this.state.altKey=!1;var r=this.isMode("path");this.$config.set("set.move.control.point",!0),this.state.dragXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y};var i=be.create(t.target);if(this.$segmentTarget=i,i.hasClass("svg-editor-canvas")&&!r||(this.pathGenerator.reselect(),this.state.isSegment=i.attr("data-segment")==="true",this.state.isFirstSegment=this.state.isSegment&&i.attr("data-is-first")==="true",this.state.selectedGroupIndex=-1,this.state.selectedPointIndex=-1),r){if(this.state.isFirstSegment){var s=+i.attr("data-index");this.state.startPoint=this.pathGenerator.points[s].startPoint}else this.state.startPoint=this.state.dragXY;this.state.dragPoints=!1,this.state.endPoint=null}else if(this.state.isSegment){this.changeMode("segment-move");var[s,n]=i.attrs("data-index","data-segment-point");const l=+s;this.pathGenerator.setCachePoint(l,n),this.pathGenerator.selectKeyIndex(n,l),this.state.segmentKey=n,this.renderPath()}}move(t,r){const i=this.$config.get("bodyEvent");if(this.state.segmentKey==="startPoint"){const s={x:Math.max(0,Math.min(this.state.rect.width,i.xy.x-this.state.rect.x)),y:Math.max(0,Math.min(this.state.rect.height,i.xy.y-this.state.rect.y))};t=s.x-this.state.dragXY.x,r=s.y-this.state.dragXY.y}this.isMode("segment-move")?(this.pathGenerator.move(t,r,i,this.state.rect.width,this.state.rect.height),this.renderPath(),this.updatePathLayer()):this.isMode("path")&&Yt(t,r,0,0)>=2&&(this.state.dragPoints=!i.altKey)}renderSegment(t){this.pathGenerator.selectedLength&&(this.pathGenerator.reselect(),ye(t)&&t(),this.renderPath(),this.updatePathLayer())}end(t,r){this.$config.get("bodyEvent"),this.$config.set("set.move.control.point",!1),this.isMode("modify")?this.pathGenerator.reselect():this.isMode("segment-move")?(this.changeMode("modify"),this.pathGenerator.reselect(),this.renderPath(),this.updatePathLayer()):this.isMode("path")&&(this.state.isFirstSegment?(this.changeMode("modify"),this.pathGenerator.setConnectedPoint(t,r),this.renderPath(),this.state.current&&this.updatePathLayer()):this.state.isSplitPath||(this.pathGenerator.moveEnd(t,r),this.state.clickCount++,this.renderPath(),this.pathGenerator.reselect()),this.state.isSplitPath=!1)}}var kO="";class m9 extends K{initState(){return{boxShadows:Rr.parseStyle(this.props.value||"")}}template(){return`
      <div class="elf--box-shadow-editor" >
        <div class='box-shadow-list' ref='$shadowList'></div>
      </div>
    `}[U("$shadowList")](){var t=this.state.boxShadows.map((r,i)=>`
        <div class="shadow-item real" data-index="${i}">
            <label draggable="true" data-index="${i}">${O("drag_indicator")}</label>
            ${E("ColorViewEditor",{mini:!0,key:"color",value:r.color,params:i,onchange:"changeKeyValue"})}
            ${E("ToggleButton",{mini:!0,key:"inset",value:r.inset,params:i,onchange:"changeKeyValue",checkedValue:Gr.INSET,toggleLabels:["border_style","border_style"],toggleTitles:[Gr.INSET,Gr.INSET],toggleValues:[Gr.OUTSET,Gr.INSET]})}            
            ${E("NumberInputEditor",{mini:!0,key:"offsetX",label:"X",value:r.offsetX,params:i,onchange:"changeKeyValue"})}          
            ${E("NumberInputEditor",{mini:!0,key:"offsetY",label:"Y",value:r.offsetY,params:i,onchange:"changeKeyValue"})}                    
            ${E("NumberInputEditor",{mini:!0,label:"B",key:"blurRadius",value:r.blurRadius,params:i,onchange:"changeKeyValue"})} 
            ${E("NumberInputEditor",{mini:!0,label:"S",key:"spreadRadius",value:r.spreadRadius,params:i,onchange:"changeKeyValue"})}             
          <div class="tools">
            <button type="button" class="remove" data-index="${i}">
              ${O("remove2")}
            </button>
          </div>
        </div>
      `);return t.join("")}modifyBoxShadow(){var t=this.state.boxShadows.join(", ");this.parent.trigger(this.props.onchange,this.props.key,t)}[I("add")](t=""){if(t)this.state.boxShadows=Rr.parseStyle(t);else{const r=new Rr({color:"black",inset:Gr.OUTSET,offsetX:2,offsetY:2,blurRadius:3,spreadRadius:1});this.state.boxShadows.push(r)}this.refresh(),this.modifyBoxShadow()}[F("$add")](){this.trigger("add")}[yr("$shadowList .shadow-item > label")](t){this.startIndex=+t.$dt.attr("data-index")}[Pr("$shadowList .shadow-item")+Pe](t){}sortItem(t,r,i){t.splice(i+(r<i?-1:0),0,...t.splice(r,1))}sortBoxShadow(t,r){this.sortItem(this.state.boxShadows,t,r)}[wr("$shadowList .shadow-item")+Pe](t){var r=+t.$dt.attr("data-index");this.sortBoxShadow(this.startIndex,r),this.refresh(),this.modifyBoxShadow()}[F("$shadowList .remove")](t){var r=+t.$dt.attr("data-index");this.state.boxShadows.splice(r,1),this.refresh(),this.modifyBoxShadow()}[I("changeKeyValue")](t,r,i){var s=this.state.boxShadows[i];s.reset({[t]:r}),this.modifyBoxShadow()}}var TO="";class v9 extends K{initState(){return{textShadows:zr.parseStyle(this.props.value)}}template(){return`
      <div class="elf--text-shadow-editor" >
        <div class='text-shadow-list' ref='$shadowList'></div>
      </div>
    `}[U("$shadowList")](){var t=this.state.textShadows.map((r,i)=>`
        <div class="shadow-item real" data-index="${i}">
          <label draggable="true" data-index="${i}">${O("drag_indicator")}</label>
          ${E("ColorViewEditor",{mini:!0,key:"color",value:r.color,params:i,onchange:"changeKeyValue"})}
          ${E("NumberInputEditor",{mini:!0,key:"offsetX",label:"X",value:r.offsetX,params:i,onchange:"changeKeyValue"})}          
          ${E("NumberInputEditor",{mini:!0,key:"offsetY",label:"Y",value:r.offsetY,params:i,onchange:"changeKeyValue"})}                    
          ${E("NumberInputEditor",{mini:!0,label:"B",key:"blurRadius",value:r.blurRadius,params:i,onchange:"changeKeyValue"})}                    
          <div class="tools">
            <button type="button" class="remove" data-index="${i}">
              ${O("remove2")}
            </button>
          </div>
        </div>
      `);return t.join("")}modifyTextShadow(){var t=this.state.textShadows.join(", ");this.parent.trigger(this.props.onchange,this.props.key,t)}[I("add")](t=""){t?this.state.textShadows=zr.parseStyle(t):this.state.textShadows.push(new zr),this.refresh(),this.modifyTextShadow()}[F("$add")](){this.trigger("add")}[yr("$shadowList .shadow-item > label")](t){this.startIndex=+t.$dt.attr("data-index")}[Pr("$shadowList .shadow-item")+Pe](t){}sortItem(t,r,i){t.splice(i+(r<i?-1:0),0,...t.splice(r,1))}sortTextShadow(t,r){this.sortItem(this.state.textShadows,t,r)}[wr("$shadowList .shadow-item")+Pe](t){var r=+t.$dt.attr("data-index");this.sortTextShadow(this.startIndex,r),this.refresh(),this.modifyTextShadow()}[F("$shadowList .remove")](t){var r=+t.$dt.attr("data-index");this.state.textShadows.splice(r,1),this.refresh(),this.modifyTextShadow()}[I("changeKeyValue")](t,r,i){var s=this.state.textShadows[i];s.reset({[t]:r}),this.modifyTextShadow()}}var MO="";class y9 extends K{initState(){return{inspector:this.props.inspector}}template(){return`
      <div ref='$body' class="component-editor"></div>
    `}getPropertyEditor(t,r){return r.type==="folder"?`
        <div class='component-folder'>
          <label>${O("chevron_right")} ${r.label}</label>
          <ul>
            ${r.children.map((i,s)=>`<li>${this.getPropertyEditor(`${t}${s}`,i)}</li>`).join("")}
          </ul>
        </div>
      `:r.type==="column"?`
        <div class='column column-${(r.size||[2]).join("-")}' style="--column-gap: ${r.gap}px; --row-gap: ${r.rowGap||0}px" >
          ${r.columns.map((s,n)=>s==="-"?'<div class="column-item"></div>':s.type==="label"?`<div class="column-item">
                    <label>${s.label}</label>
                  </div>`:`
                  <div class='column-item'>
                    ${this.getPropertyEditor(`${t}${n}`,s)}
                  </div>
                `).join("")}  
        </div>
      `:E(r.editor,le(v({},r.editorOptions),{onchange:(i,s)=>{const n=ye(r.convert)?r.convert(i,s):s;this.trigger("changeComponentValue",i,n)},ref:`${r.key}${t}`,key:r.key,value:r.defaultValue}))}[U("$body")](){var r=this.state.inspector.map((i,s)=>ht(i)||i.type==="label"?`
          <div class='component-item'> 
            <label>${i.label||i}</label>
          </div>`:i.type==="folder"?`
          <div class='component-item'>
            ${this.getPropertyEditor(s,i)}
          </div>
        `:`
            <div class='component-item'> 
              ${this.getPropertyEditor(s,i)}
            </div>
          `);return r}setInspector(t){this.setState({inspector:t})}setValue(t={}){Object.keys(t).forEach(r=>{const i=t[r];this.eachChildren(s=>{s.setValue&&s.props.key===r&&s.setValue(i)})})}getValue(){const t={};return this.eachChildren(r=>{ye(r.getValue)&&r.props.key&&(t[r.props.key]=r.getValue())}),t}[Q("changeComponentValue")](t,r){this.parent.trigger(this.props.onchange,t,r)}[F("$el .component-folder > label")](t){t.$dt.closest("component-folder").toggleClass("close")}}function wu(a){a.registerElement({ComponentEditor:y9,TextShadowEditor:v9,BoxShadowEditor:m9,IconListViewEditor:K6,TextAreaEditor:n9,TextEditor:o9,ColorSingleEditor:D6,CubicBezierEditor:N6,PathEditor:f9,ColorViewEditor:F6,VarEditor:l9,PathDataEditor:r9,PolygonDataEditor:i9,InputArrayEditor:Z6,StrokeDashArrayEditor:a9,NumberInputEditor:e9,NumberRangeEditor:t9,MediaProgressEditor:J6,SelectIconEditor:s9,CSSPropertyEditor:B6,DirectionEditor:G6,IterationCountEditor:Q6,GradientEditor:W6,FilterEditor:U6,SelectEditor:Fl,BlendSelectEditor:T8,RangeEditor:yu,InputRangeEditor:q6,ColorAssetsEditor:O6,FontSelectEditor:Y6}),a.registerAlias({"icon-list-view":"IconListViewEditor","box-shadow":"BoxShadowEditor","text-shadow":"TextShadowEditor",component:"ComponentEditor","text-area":"TextAreaEditor",text:"TextEditor","color-single":"ColorSingleEditor","cubic-bezier":"CubicBezierEditor",path:"PathEditor","clip-path":"ClipPathEditor","color-view":"ColorViewEditor",var:"VarEditor","path-data":"PathDataEditor","polygon-data":"PolygonDataEditor","input-array":"InputArrayEditor","stroke-dash-array":"StrokeDashArrayEditor","number-input":"NumberInputEditor","number-range":"NumberRangeEditor","media-progress":"MediaProgressEditor","select-icon":"SelectIconEditor","css-property":"CSSPropertyEditor",direction:"DirectionEditor","iteration-count":"IterationCountEditor",gradient:"GradientEditor",filter:"FilterEditor",select:"SelectEditor","blend-select":"BlendSelectEditor",range:"RangeEditor","input-range":"InputRangeEditor","color-assets":"ColorAssetsEditor","font-select":"FontSelectEditor"})}const b9=[/\(/gi,/\)/gi],$9="grayscale,matrix,rotateZ,blur,sepia,linear-gradient,radial-gradient,conic-gradient,circle,inset,polygon,rgb".split(",").map(a=>new RegExp(a,"gi")),x9="butt,miter,start,at,black,repeat,lighten,multiply,solid,border-box,visible,absolute,relative,auto".split(",").map(a=>new RegExp(a,"gi"));function _9(a){return x9.forEach(t=>{a=a.replace(t,r=>`<span class="keyword">${r}</span>`)}),$9.forEach(t=>{a=a.replace(t,r=>`<span class="function">${r}</span>`)}),b9.forEach(t=>{a=a.replace(t,r=>`<span class="char">${r}</span>`)}),a}function Nl(a,t=""){return a.split(";").filter(r=>r.trim()).map(r=>{r=r.trim();var[i,s]=r.split(":").map(n=>n.trim());return s===""?"":`<div class="block"><strong>${i}</strong><span>:&nbsp;</span><span class="value">${_9(s)}</span><span>;</span></div>`}).join("").trim()}function S9(a){return a.replace(/;/gi,`;
`).trim()}class w9{constructor(t){this.editor=t}get id(){return this.editor.EDITOR_ID}getDefaultRendererInstance(){return this.editor.getRendererInstance("html","rect")}getRendererInstance(t){return this.editor.getRendererInstance("html",t.itemType)||this.getDefaultRendererInstance()||t}render(t,r){if(!t)return;const i=this.getRendererInstance(t);if(i)return i.render(t,r||this)}renderSVG(t,r){const i=this.getRendererInstance(t);return ye(i.renderSVG)?i.renderSVG(t,r||this):this.getDefaultRendererInstance().renderSVG(t,r||this)}to(t,r){const i=this.getRendererInstance(r);if(ye(i[t]))return i[t].call(i,r);const s=this.getDefaultRendererInstance();if(ye(s[t]))return s[t].call(s,r)}toCSS(t,r={}){const i=this.to("toCSS",t);return Object.keys(r).forEach(s=>{delete i[s]}),i}toNestedCSS(t){return this.to("toNestedCSS",t)}toTransformCSS(t){return this.to("toTransformCSS",t)}toGridLayoutCSS(t){return this.to("toGridLayoutCSS",t)}toLayoutItemCSS(t){return this.to("toLayoutItemCSS",t)}toLayoutBaseModelCSS(t){return this.to("toLayoutBaseModelCSS",t)}toStyle(t,r){const i=this.getRendererInstance(t);return ye(i.toStyle)?i.toStyle(t,r||this):this.getDefaultRendererInstance().toStyle(t,r||this)}toStyleData(t,r){const i=this.getRendererInstance(t);return ye(i.toStyleData)?i.toStyleData(t,r||this):this.getDefaultRendererInstance().toStyleData(t,r||this)}toExportStyle(t,r){const i=this.getRendererInstance(t);return ye(i.toExportStyle)?i.toExportStyle(t,r||this):this.getDefaultRendererInstance().toExportStyle(t,r||this)}update(t,r,i){const s=this.getRendererInstance(t);return ye(s.update)?s.update(t,r,i):this.getDefaultRendererInstance().update(t,r,i)}codeview(t){if(!t)return"";const r=t.top;let i=S9(Nl(r?r.toKeyframeString():"")),s=r?Ge(r.toRootVariableCSS()):"";const n=t,o=Nl(n?Uo(Ge(this.toCSS(n))):""),l=n?this.toNestedCSS(n).map(h=>{var d=h.cssText?h.cssText:Ge(h.css);return`${h.selector} { 
    ${Nl(Uo(d),"&nbsp;&nbsp;")}
    }`}):[],c=n?n.selectors:[];return`
<div >

${o&&`<div><pre title='CSS'>${o}</pre></div>`}

${l.map(h=>`<div><pre title='CSS'>${h}</pre></div>`).join("")}

${(c||[]).length?`<div>
    ${c.map(h=>`<pre title='${h.selector}'>${h.toPropertyString()}</pre>`).join("")}
    
    </div>`:""}

${i&&`<div><pre title='Keyframe'>${i}</pre></div>`}

${s?`<div>
    <label>:root</label>
    <pre>${s}</pre>
    </div>`:""}

</div>
        `}}class P9{getInnerId(t,r=""){return t.id+r}}const C9="SourceGraphic,SourceAlpha,BackgroundImage,BackgroundAlpha,FillPaint,StrokePaint".split(","),k9={xChannelSelector:!0,yChannelSelector:!0};class vt extends ir{static parse(t){var r=Pu[t.type];return new r(t)}hasLight(){return!1}isLight(){return!1}isSource(){return!1}getDefaultObject(t={}){var r=tr();return super.getDefaultObject(v({itemType:"svgfilter",id:r,in:[],bound:{x:100,y:100,targetX:0,targetY:0},connected:[]},t))}getInCount(){return 0}setIn(t,r){this.json.in[t]={id:r.id,type:r.type}}setConnected(t){var r=this.json.connected.filter(i=>i.id===t.id);r.length===0&&this.json.connected.push({id:t.id})}convert(t){return typeof t.in=="string"&&(t.in=JSON.parse(t.in)),typeof t.bound=="string"&&(t.bound=JSON.parse(t.bound)),typeof t.connected=="string"&&(t.connected=JSON.parse(t.connected)),t}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("id","in","bound","connected"))}getDefaultAttribute(){var t=[];return this.json.connected.length&&t.push(`result="${this.json.id}result"`),Object.keys(k9).filter(r=>!!this.json[r]).forEach(r=>{t.push(`${r}="${this.json[r]}"`)}),t.join(" ")+" "+this.getSourceInAttribute()}hasInIndex(){return!1}getSourceInAttribute(t){return(t||this.json.in).map((r,i)=>{if(!r)return"";var s=i===0?"":i+1+"";return this.hasInIndex()||(s=""),C9.includes(r.type)?`in${s}="${r.type}"`:`in${s}="${r.id}result"`}).join(" ")}toString(){var{type:t,value:r}=this.json;return`<fe${t} value="${r}" ${this.getDefaultAttribute()} />`}}class qa extends vt{getDefaultObject(){return super.getDefaultObject({type:"RotaMatrix",hueRotate:qa.spec.hueRotate.defaultValue})}convert(t){return t.hueRotate=g.parse(t.hueRotate),t}toString(){var{id:t,hueRotate:r}=this.json;return`
      <feColorMatrix type="hueRotate" result="romatrix-${t}"  values="${r}"/>
      <feColorMatrix type="matrix" in="romatrix-${t}" in2="SourceGraphic"  ${this.getDefaultAttribute()} values="-1 2 -3 0 -.5 2 1 0 0 0 0 3 1 0 0 0 0 1 1 0"/>
    `}}qa.spec={hueRotate:{title:"hue-rotate",inputType:"number-range",min:0,max:360,step:1,defaultValue:g.number(0)}};class Gl extends vt{getDefaultObject(){return super.getDefaultObject({type:"Merge"})}getInCount(){return 3}getDefaultAttribute(){var t=[];return this.json.connected.length&&t.push(`result="${this.json.id}result"`),t.join(" ")}toString(){var{in:t}=this.json;return`
    <feMerge  ${this.getDefaultAttribute()} >
      ${t.map(r=>`<feMergeNode ${this.getSourceInAttribute([r])} />`).join("")}
    </feMerge>`}}Gl.spec={};class fi extends vt{getDefaultObject(){return super.getDefaultObject({type:"Composite",operator:fi.spec.operator.defaultValue,k1:fi.spec.k1.defaultValue,k2:fi.spec.k2.defaultValue,k3:fi.spec.k3.defaultValue,k4:fi.spec.k4.defaultValue})}getInCount(){return 2}toString(){var{operator:t,k1:r,k2:i,k3:s,k4:n}=this.json,o="";return t==="arithmetic"&&(o=` k1="${r}" k2="${i}" k3="${s}" k4="${n}" `),`<feComposite operator="${t}" ${o}  ${this.getDefaultAttribute()} />`}hasInIndex(){return!0}}fi.spec={operator:{title:"operator",inputType:"select",options:"over,in,out,atop,xor,arithmetic",defaultValue:"over"},k1:{title:"k1",inputType:"number-range",min:0,max:1,step:.01,defaultValue:g.number(0)},k2:{title:"k2",inputType:"number-range",min:0,max:1,step:.01,defaultValue:g.number(0)},k3:{title:"k3",inputType:"number-range",min:0,max:1,step:.01,defaultValue:g.number(0)},k4:{title:"k4",inputType:"number-range",min:0,max:1,step:.01,defaultValue:g.number(0)}};class Us extends vt{getDefaultObject(){return super.getDefaultObject({type:"Morphology",operator:Us.spec.operator.defaultValue,radius:Us.spec.radius.defaultValue})}getInCount(){return 1}toString(){var{operator:t,radius:r}=this.json;return`<feMorphology operator="${t}" radius="${r}"  ${this.getDefaultAttribute()} />`}}Us.spec={operator:{title:"Operator",inputType:"select",options:"erode,dilate",defaultValue:"erode"},radius:{title:"Radius",inputType:"number-range",min:0,max:100,step:1,defaultValue:g.number(0)}};class Gi extends vt{getDefaultObject(){return super.getDefaultObject({type:"Turbulence",filterType:Gi.spec.filterType.defaultValue,baseFrequency:Gi.spec.baseFrequency.defaultValue,numOctaves:Gi.spec.numOctaves.defaultValue,seed:Gi.spec.seed.defaultValue})}convert(t){return t.baseFrequency=g.parse(t.baseFrequency),t.numOctaves=g.parse(t.numOctaves),t.seed=g.parse(t.seed),t}toString(){var{filterType:t,baseFrequency:r,numOctaves:i,seed:s}=this.json;return`<feTurbulence ${pt({type:t,baseFrequency:r,numOctaves:i,seed:s})}   ${this.getDefaultAttribute()} />`}}Gi.spec={filterType:{title:"Type",inputType:"select",options:"fractalNoise,turbulence",defaultValue:"turbulence"},baseFrequency:{title:"Frequency",inputType:"number-range",min:0,max:1,step:.01,defaultValue:g.number(0)},numOctaves:{title:"Octaves",inputType:"number-range",min:1,max:10,step:1,defaultValue:g.number(1)},seed:{title:"Seed",inputType:"number-range",min:0,max:1e4,step:1,defaultValue:g.number(0)}};class Qa extends vt{getDefaultObject(){return super.getDefaultObject({type:"DisplacementMap",scale:Qa.spec.scale.defaultValue})}getInCount(){return 2}convert(t){return t.scale=g.parse(t.scale),t}toString(){var{scale:t}=this.json,r=t.value?`scale="${t}"`:"";return`<feDisplacementMap ${r}  ${this.getDefaultAttribute()} />`}hasInIndex(){return!0}}Qa.spec={scale:{title:"scale",inputType:"number-range",min:0,max:5e3,step:1,defaultValue:g.number(0)}};class Ja extends vt{getDefaultObject(){return super.getDefaultObject({type:"ColorMatrix",values:Ja.spec.values.defaultValue})}getInCount(){return 1}toString(){var{values:t}=this.json,r=t.join(" ");return`<feColorMatrix type="matrix" values="${r}"  ${this.getDefaultAttribute()} />`}}Ja.spec={values:{title:"values",inputType:"color-matrix",column:5,defaultValue:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}};class en extends vt{getDefaultObject(){return super.getDefaultObject({type:"ConvolveMatrix",kernelMatrix:en.spec.kernelMatrix.defaultValue})}getInCount(){return 1}toString(){var{kernelMatrix:t}=this.json,r=t.join(" ");return`<feConvolveMatrix kernelMatrix="${r}"  ${this.getDefaultAttribute()} />`}}en.spec={kernelMatrix:{title:"kernelMatrix",inputType:"input-array",column:3,defaultValue:[1,0,0,0,1,0,0,0,1]}};class bs extends vt{getDefaultObject(){return super.getDefaultObject({type:"GaussianBlur",stdDeviationX:bs.spec.stdDeviationX.defaultValue,stdDeviationY:bs.spec.stdDeviationY.defaultValue,edgeMode:bs.spec.edgeMode.defaultValue})}getInCount(){return 1}convert(t){return t.stdDeviationX=g.parse(t.stdDeviationX),t.stdDeviationY=g.parse(t.stdDeviationY),t}toString(){var{stdDeviationX:t,stdDeviationY:r,edgeMode:i}=this.json,s=`${t} ${r}`;return t===r&&(s=t),`<feGaussianBlur  stdDeviation="${s}" edgeMode="${i}"  ${this.getDefaultAttribute()} />`}}bs.spec={stdDeviationX:{title:"X",inputType:"number-range",min:0,max:100,step:1,defaultValue:g.number(0)},stdDeviationY:{title:"Y",inputType:"number-range",min:0,max:100,step:1,defaultValue:g.number(0)},edgeMode:{title:"edge",inputType:"select",options:"none,duplicate,wrap",defaultValue:"none"}};class ti extends vt{getDefaultObject(){return super.getDefaultObject({type:"Flood",x:ti.spec.x.defaultValue,y:ti.spec.y.defaultValue,width:ti.spec.width.defaultValue,height:ti.spec.height.defaultValue,color:ti.spec.color.defaultValue,opacity:ti.spec.opacity.defaultValue})}convert(t){return t.x=g.parse(t.x),t.y=g.parse(t.y),t.width=g.parse(t.width),t.height=g.parse(t.height),t}toString(){const{opacity:t,color:r,x:i,y:s,width:n,height:o}=this.json;return`<feFlood ${pt({x:i,y:s,width:n,height:o})} flood-opacity="${t}" flood-color="${r}" ${this.getDefaultAttribute()} />`}}ti.spec={x:{title:"X",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},y:{title:"Y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},width:{title:"width",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},height:{title:"height",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},opacity:{title:"opacity",inputType:"number-range",min:0,max:1,step:.01,defaultValue:g.number(0)},color:{title:"color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};class Hi extends vt{getDefaultObject(){return super.getDefaultObject({type:"ComponentTransfer",r:Hi.spec.r.defaultValue,g:Hi.spec.g.defaultValue,b:Hi.spec.b.defaultValue,a:Hi.spec.a.defaultValue})}getInCount(){return 1}parse(t){var[r,...i]=t.split(" ");if(r==="table"||r==="discrete")return{type:r,tableValues:i.join(" ")};if(r==="linear"){var[s,n]=i;return{type:r,slop:s,intercept:n}}else if(r==="gamma"){var[o,l,c]=i;return{type:r,amplitude:o,exponent:l,offset:c}}return{type:r}}toString(){var{r:t,g:r,b:i,a:s}=this.json;return t=this.parse(t),r=this.parse(r),i=this.parse(i),s=this.parse(s),`<feComponentTransfer ${this.getDefaultAttribute()} >
      ${t&&`<feFuncR ${pt(t)} />`}
      ${r&&`<feFuncG ${pt(r)} />`}
      ${i&&`<feFuncB ${pt(i)} />`}
      ${s&&`<feFuncA ${pt(s)} />`}
    </feComponentTransfe>`}}Hi.spec={r:{title:"R",inputType:"FuncFilter",defaultValue:"identity"},g:{title:"G",inputType:"FuncFilter",defaultValue:"identity"},b:{title:"B",inputType:"FuncFilter",defaultValue:"identity"},a:{title:"A",inputType:"FuncFilter",defaultValue:"identity"}};class Xs extends vt{getDefaultObject(){return super.getDefaultObject({type:"DistantLight",azimuth:Xs.spec.azimuth.defaultValue,elevation:Xs.spec.elevation.defaultValue})}isLight(){return!0}toString(){return""}toLightString(){var{azimuth:t,elevation:r}=this.json;return`<feDistantLight ${pt({azimuth:t,elevation:r})} />`}}Xs.spec={azimuth:{title:"azimuth",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},elevation:{title:"elevation",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)}};class $s extends vt{getDefaultObject(){return super.getDefaultObject({type:"PointLight",x:$s.spec.x.defaultValue,y:$s.spec.y.defaultValue,z:$s.spec.z.defaultValue})}isLight(){return!0}toString(){return""}toLightString(){var{x:t,y:r,z:i}=this.json;return`<fePointLight ${pt({x:t,y:r,z:i})} />`}}$s.spec={x:{title:"x",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},y:{title:"y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},z:{title:"z",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)}};class Ar extends vt{getDefaultObject(){return super.getDefaultObject({type:"SpotLight",x:Ar.spec.x.defaultValue,y:Ar.spec.x.defaultValue,z:Ar.spec.x.defaultValue,pointsAtX:Ar.spec.pointsAtX.defaultValue,pointsAtY:Ar.spec.pointsAtY.defaultValue,pointsAtZ:Ar.spec.pointsAtZ.defaultValue,specularExponent:Ar.spec.specularExponent.defaultValue,limitingConeAngle:Ar.spec.limitingConeAngle.defaultValue})}isLight(){return!0}toString(){}toLightString(){var{x:t,y:r,z:i,pointsAtX:s,pointsAtY:n,pointsAtZ:o,specularExponent:l,limitingConeAngle:c}=this.json;return`<feSpotLight ${pt({x:t,y:r,z:i,pointsAtX:s,pointsAtY:n,pointsAtZ:o,specularExponent:l,limitingConeAngle:c})} />`}}Ar.spec={x:{title:"x",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},y:{title:"y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},z:{title:"z",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},pointsAtX:{title:"pointsAtX",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},pointsAtY:{title:"pointsAtY",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},pointsAtZ:{title:"pointsAtZ",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},specularExponent:{title:"specularExponent",inputType:"number-range",min:0,max:100,step:1,defaultValue:g.number(1)},limitingConeAngle:{title:"limitingConeAngle",inputType:"number-range",min:0,max:100,step:1,defaultValue:g.number(1)}};class xs extends vt{getDefaultObject(){return super.getDefaultObject({type:"DiffuseLighting",surfaceScale:xs.spec.surfaceScale.defaultValue,lightingColor:xs.spec.lightingColor.defaultValue,diffuseConstant:xs.spec.diffuseConstant.defaultValue,lightInfo:""})}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("surfaceScale","lightingColor","diffuseConstant","lightInfo"))}hasLight(){return!0}getInCount(){return 1}toString(){var{surfaceScale:t,diffuseConstant:r,lightingColor:i}=this.json;return`<feDiffuseLighting ${pt({surfaceScale:t,diffuseConstant:r,"lighting-color":i})}  ${this.getDefaultAttribute()} >
      ${this.json.lightInfo}
    </feDiffuseLighting>`}}xs.spec={surfaceScale:{title:"surfaceScale",inputType:"number-range",min:0,max:100,step:1,defaultValue:g.number(1)},diffuseConstant:{title:"diffuseConstant",inputType:"number-range",min:0,max:100,step:1,defaultValue:g.number(1)},lightingColor:{title:"Lighting Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};class Ui extends vt{getDefaultObject(){return super.getDefaultObject({type:"SpecularLighting",surfaceScale:Ui.spec.surfaceScale.defaultValue,lightingColor:Ui.spec.lightingColor.defaultValue,specularConstant:Ui.spec.specularConstant.defaultValue,specularExponent:Ui.spec.specularExponent.defaultValue,lightInfo:""})}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("surfaceScale","lightingColor","specularConstant","specularExponent","lightInfo"))}hasLight(){return!0}getInCount(){return 1}toString(){var{surfaceScale:t,specularConstant:r,specularExponent:i,lightingColor:s}=this.json;return`<feSpecularLighting ${pt({surfaceScale:t,specularConstant:r,specularExponent:i,"lighting-color":s})}  ${this.getDefaultAttribute()} >
      ${this.json.lightInfo}
    </feSpecularLighting>`}getSourceInAttribute(){return""}}Ui.spec={surfaceScale:{title:"surfaceScale",inputType:"number-range",min:0,max:100,step:1,defaultValue:g.number(1)},specularConstant:{title:"Constant",inputType:"number-range",min:0,max:100,step:1,defaultValue:g.number(1)},specularExponent:{title:"Exponent",inputType:"number-range",min:0,max:100,step:1,defaultValue:g.number(1)},lightingColor:{title:"Lighting Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};class Ys extends vt{getDefaultObject(){return super.getDefaultObject({type:"Offset",dx:Ys.spec.dx.defaultValue,dy:Ys.spec.dy.defaultValue})}getInCount(){return 1}toString(){var{dx:t,dy:r}=this.json;return`<feOffset 
      ${pt({dx:t,dy:r})}  ${this.getDefaultAttribute()} />`}}Ys.spec={dx:{title:"dx",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},dy:{title:"dy",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)}};class tn extends vt{getDefaultObject(){return super.getDefaultObject({type:"Blend",mode:tn.spec.mode.defaultValue})}getInCount(){return 2}toString(){var{mode:t}=this.json;return`<feBlend ${pt({mode:t})} ${this.getDefaultAttribute()} />`}hasInIndex(){return!0}}tn.spec={mode:{title:"mode",inputType:"blend",defaultValue:"normal"}};class Ws extends vt{getDefaultObject(t={}){return super.getDefaultObject(v({type:"Source"},t))}isSource(){return!0}toString(){return""}}class T9 extends Ws{getDefaultObject(){return super.getDefaultObject({type:"SourceGraphic"})}}class M9 extends Ws{getDefaultObject(){return super.getDefaultObject({type:"SourceAlpha"})}}class I9 extends Ws{getDefaultObject(){return super.getDefaultObject({type:"BackgroundImage"})}}class E9 extends Ws{getDefaultObject(){return super.getDefaultObject({type:"BackgroundAlpha"})}}class L9 extends Ws{getDefaultObject(){return super.getDefaultObject({type:"FillPaint"})}}class V9 extends Ws{getDefaultObject(){return super.getDefaultObject({type:"StrokePaint"})}}class mi extends vt{getDefaultObject(){return super.getDefaultObject({type:"DropShadow",dx:mi.spec.dx.defaultValue,dy:mi.spec.dy.defaultValue,stdDeviation:mi.spec.stdDeviation.defaultValue,color:mi.spec.color.defaultValue,opacity:mi.spec.opacity.defaultValue})}getInCount(){return 1}toString(){var{dx:t,dy:r,stdDeviation:i,color:s,opacity:n}=this.json;return`<feDropShadow ${pt({dx:t,dy:r,stdDeviation:i,"flood-color":s,"flood-opacity":n})}  ${this.getDefaultAttribute()} />`}}mi.spec={dx:{title:"dx",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},dy:{title:"dy",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},stdDeviation:{title:"stdDeviation",inputType:"number-range",min:0,max:1e3,step:.1,defaultValue:g.number(0)},opacity:{title:"opacity",inputType:"number-range",min:0,max:1,step:.01,defaultValue:g.number(1)},color:{title:"color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};class rn extends vt{getDefaultObject(){return super.getDefaultObject({type:"Saturate",values:rn.spec.values.defaultValue})}getInCount(){return 1}toString(){var{values:t}=this.json;return`<feColorMatrix type="saturate" values="${t}"  ${this.getDefaultAttribute()} />`}}rn.spec={values:{title:"values",inputType:"number-range",min:-1,max:1,step:.01,defaultValue:g.number(0)}};class sn extends vt{getDefaultObject(){return super.getDefaultObject({type:"HueRotate",values:sn.spec.values.defaultValue})}getInCount(){return 1}toString(){var{values:t}=this.json;return`<feColorMatrix type="hueRotate" values="${t}"  ${this.getDefaultAttribute()} />`}}sn.spec={values:{title:"values",inputType:"number-range",min:0,max:360,step:.1,defaultValue:g.number(0)}};class Hl extends vt{getDefaultObject(){return super.getDefaultObject({type:"LuminanceAlpha"})}getInCount(){return 1}toString(){return`<feColorMatrix type="luminanceToAlpha" ${this.getDefaultAttribute()} />`}}Hl.spec={};class Xi extends vt{getDefaultObject(){return super.getDefaultObject({type:"Tile",x:Xi.spec.x.defaultValue,y:Xi.spec.y.defaultValue,width:Xi.spec.width.defaultValue,height:Xi.spec.height.defaultValue})}getInCount(){return 1}convert(t){return t.x=g.parse(t.x),t.y=g.parse(t.y),t.width=g.parse(t.width),t.height=g.parse(t.height),t}toString(){const{x:t,y:r,width:i,height:s}=this.json;return`<feTile ${pt({x:t,y:r,width:i,height:s})} ${this.getDefaultAttribute()} />`}}Xi.spec={x:{title:"X",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},y:{title:"Y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},width:{title:"width",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},height:{title:"height",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)}};class Xr extends vt{getDefaultObject(){return super.getDefaultObject({type:"Image",x:Xr.spec.x.defaultValue,y:Xr.spec.y.defaultValue,width:Xr.spec.width.defaultValue,height:Xr.spec.height.defaultValue,src:Xr.spec.src.defaultValue,alignment:Xr.spec.alignment.defaultValue,scaleing:Xr.spec.scaleing.defaultValue})}convert(t){return t.x=g.parse(t.x),t.y=g.parse(t.y),t.width=g.parse(t.width),t.height=g.parse(t.height),t}toString(){const{src:t,x:r,y:i,width:s,height:n,alignment:o,scaleing:l}=this.json;return`<feImage ${pt({x:r,y:i,width:s,height:n,"xlink:href":t,preserveAspectRatio:`${o} ${l}`})} ${this.getDefaultAttribute()} />`}}Xr.spec={x:{title:"X",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},y:{title:"Y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},width:{title:"width",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},height:{title:"height",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:g.number(0)},alignment:{title:"alignment",inputType:"select",options:"xMinYMin,xMidYMin,xMaxYMin,xMinYMid,xMidYMid,xMaxYMid,xMinYMax,xMidYMax,xMaxYMax",defaultValue:"xMidYMid"},scaleing:{title:"scaleing",inputType:"select",options:"meet,slice",defaultValue:"meet"},src:{title:"Image",inputType:"ImageSelectEditor",defaultValue:""}};const R9=["result"];class an extends ir{static parse(t){var r=Pu[t.type];return new r(t)}getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"svgfilter",result:""},t))}getDefaultAttribute(){return R9.map(t=>`${t}="${this.json[t]}"`).join(" ")}toString(){var{type:t,value:r}=this.json;return`<fe${t} value="${r}" ${this.getDefaultAttribute()} />`}}const Pu={Image:Xr,Tile:Xi,Saturate:rn,HueRotate:sn,LuminanceAlpha:Hl,DropShadow:mi,SourceGraphic:T9,SourceAlpha:M9,BackgroundImage:I9,BackgroundAlpha:E9,FillPaint:L9,StrokePaint:V9,ComponentTransfer:Hi,DistantLight:Xs,PointLight:$s,SpotLight:Ar,DiffuseLighting:xs,SpecularLighting:Ui,Blend:tn,Offset:Ys,RotaMatrix:qa,GaussianBlur:bs,Flood:ti,Merge:Gl,Composite:fi,Morphology:Us,Turbulence:Gi,DisplacementMap:Qa,ColorMatrix:Ja,ConvolveMatrix:en},z9={Image:Xr.spec,Tile:Xi.spec,DropShadow:mi.spec,Saturate:rn.spec,HueRotate:sn.spec,LuminanceAlpha:Hl.spec,Offset:Ys.spec,ComponentTransfer:Hi.spec,SpecularLighting:Ui.spec,SpotLight:Ar.spec,PointLight:$s.spec,DistantLight:Xs.spec,DiffuseLighting:xs.spec,Blend:tn.spec,RotaMatrix:qa.spec,Merge:Gl.spec,GaussianBlur:bs.spec,Flood:ti.spec,Morphology:Us.spec,Composite:fi.spec,Turbulence:Gi.spec,DisplacementMap:Qa.spec,ColorMatrix:Ja.spec,ConvolveMatrix:en.spec},j9=["text-fill-color","text-stroke-color","text-stroke-width","background-clip"];class eo extends P9{toStringPropertyCSS(t,r){return Kt(t[r])}toBackgroundImageCSS(t){return t.cacheBackgroundImage||t.setBackgroundImageCache(),{"background-image":t.cacheBackgroundImage["background-image"],"background-position":t.cacheBackgroundImage["background-position"],"background-repeat":t.cacheBackgroundImage["background-repeat"],"background-size":t.cacheBackgroundImage["background-size"],"background-blend-mode":t.cacheBackgroundImage["background-blend-mode"]}}toLayoutCSS(t){if(t.layout,t.hasLayout()){if(t.isLayout(bt.FLEX))return this.toFlexLayoutCSS(t);if(t.isLayout(bt.GRID))return this.toGridLayoutCSS(t)}return{}}toLayoutItemCSS(t){var s,n;var r=(s=t.parent)==null?void 0:s.layout,i={};if(r===bt.FLEX?i={position:"static",left:"auto !important",top:"auto !important"}:r===bt.GRID?i={position:"static",left:"auto !important",top:"auto !important",width:"auto !important",height:"auto !important"}:r===bt.DEFAULT&&(i=this.toDefaultLayoutItemCSS(t)),r===bt.FLEX){i=v(v({},i),t.attrs("flex-basis","flex-shrink"));const o=(n=t==null?void 0:t.parent)==null?void 0:n["flex-direction"];o===Nt.ROW&&t.resizingHorizontal===Ae.FILL_CONTAINER?(i.width="auto",i["flex-grow"]=t["flex-grow"]||1):o===Nt.COLUMN&&t.resizingVertical===Ae.FILL_CONTAINER&&(i.height="auto",i["flex-grow"]=t["flex-grow"]||1)}else r===bt.GRID&&(i=v(v({},i),t.attrs("grid-column-start","grid-column-end","grid-row-start","grid-row-end")));return i}toDefaultLayoutItemCSS(t){var n;const r={};if((n=t.parent)==null?void 0:n.is("project"))return r;const i=t.parent.screenWidth;switch(t[Er.HORIZONTAL]){case ke.MIN:r.left=g.px(t.x),r.right="auto !important";break;case ke.MAX:r.right=g.px(i-t.offsetX-t.screenWidth),r.left="auto !important";break;case ke.STRETCH:r.left=g.px(t.x),r.right=g.px(i-t.offsetX-t.screenWidth);break;case ke.CENTER:r.left=g.px(t.x);break;case ke.SCALE:r.left=g.px(t.x).toPercent(i),r.right=g.px(i-t.offsetX-t.screenWidth).toPercent(i);break}const s=t.parent.screenHeight;switch(t[Er.VERTICAL]){case ke.MIN:r.top=g.px(t.y),r.bottom="auto !important";break;case ke.MAX:r.top="auto !important",r.bottom=g.px(s-t.offsetY-t.screenHeight);break;case ke.STRETCH:r.top=g.px(t.y),r.bottom=g.px(s-t.offsetY-t.screenHeight);break;case ke.CENTER:r.top=g.px(t.y);break;case ke.SCALE:r.top=g.px(t.y).toPercent(s),r.bottom=g.px(s-t.offsetY-t.screenHeight).toPercent(s);break}return r}toFlexLayoutCSS(t){return t.parent.isNot("project"),le(v({display:"flex"},t.attrs("flex-direction","flex-wrap","justify-content","align-items","align-content")),{gap:g.px(t.gap)})}toGridLayoutCSS(t){return le(v({display:"grid"},t.attrs("grid-template-columns","grid-template-rows","grid-template-areas","grid-auto-columns","grid-auto-rows","grid-auto-flow")),{gap:g.px(t.gap)})}toBorderCSS(t){return v({},Kt(t.border))}toKeyCSS(t){return item[t]?{[t]:item[t]}:{}}toBoxModelCSS(t){let r={};return t["margin-top"]&&(r["margin-top"]=g.px(t["margin-top"])),t["margin-bottom"]&&(r["margin-bottom"]=g.px(t["margin-bottom"])),t["margin-left"]&&(r["margin-left"]=g.px(t["margin-left"])),t["margin-right"]&&(r["margin-right"]=g.px(t["margin-right"])),t["padding-top"]&&(r["padding-top"]=g.px(t["padding-top"])),t["padding-bottom"]&&(r["padding-bottom"]=g.px(t["padding-bottom"])),t["padding-left"]&&(r["padding-left"]=g.px(t["padding-left"])),t["padding-right"]&&(r["padding-right"]=g.px(t["padding-right"])),r}toKeyListCSS(t,r=[]){let i={};for(var s=0;s<r.length;s++){const n=r[s];Re(t[n])&&(i[n]=t[n])}return i}toSizeCSS(t){var i,s;const r={};if(t.isLayout(bt.FLEX)){switch(t.resizingHorizontal){case Ae.FIXED:r.width=g.px(t.screenWidth);break}switch(t.resizingVertical){case Ae.FIXED:r.height=g.px(t.screenHeight);break}}else if(t.isInDefault())r.width=g.px(t.screenWidth),r.height=g.px(t.screenHeight);else if(t.isInFlex()){const n=t.parent["flex-direction"];n===Nt.ROW||n===Nt.ROW_REVERSE?(r.width=g.px(t.screenWidth),r.height=g.px(t.screenHeight),t.parent["align-items"]===Ei.STRETCH&&(r.height="auto"),t.resizingVertical===Ae.FILL_CONTAINER&&(r.height="auto",r["align-self"]=Ei.STRETCH)):(r.width=g.px(t.screenWidth),r.height=g.px(t.screenHeight),t.parent["align-items"]===Ei.STRETCH&&(r.width="auto"),t.resizingHorizontal===Ae.FILL_CONTAINER&&(r.width="auto",r["align-self"]=Ei.STRETCH))}else t.isInGrid()||(((i=t.right)==null?void 0:i.isNotAuto)&&t.x||(r.width=g.px(t.width)),((s=t.bottom)==null?void 0:s.isNotAuto)&&t.y||(r.height=g.px(t.height)));return v({},r)}toDefaultCSS(t){let r={};t.isAbsolute&&(r.left=g.px(t.x),r.top=g.px(t.y));let i={};return i=Object.assign(i,r),i=Object.assign(i,this.toKeyListCSS(t,["position","overflow","z-index","box-sizing","background-color","color","opacity","mix-blend-mode","transform-origin","perspective","perspective-origin","font-size","line-height","font-weight","font-family","font-style","text-align","text-transform","text-decoration","letter-spacing","word-spacing","text-indent","border-radius","filter","backdrop-filter","box-shadow","text-shadow","offset-path","animation","transition"])),i}toVariableCSS(t){return t.computed("variable",i=>{let s={};return i.split(";").filter(n=>n.trim()).forEach(n=>{const[o,l]=n.split(":");s[`--${o}`]=l}),s})}toRootVariableCSS(t){let r={};return t.rootVariable.split(";").filter(i=>i.trim()).forEach(i=>{const[s,n]=i.split(":");r[`--${s}`]=n}),r}toRootVariableString(t){return Ge(this.toRootVariableCSS(t))}toWebkitCSS(t){var r={};return j9.forEach(i=>{r[`-webkit-${i}`]=t[i]}),r}toTextClipCSS(t){let r={};return t["text-clip"]==="text"&&(r["-webkit-background-clip"]="text",r["-webkit-text-fill-color"]="transparent",r.color="transparent"),r}toTransformCSS(t){const r={transform:t.transform};return r.transform==="rotateZ(0deg)"&&delete r.transform,{transform:r.transform}}toDefInnerString(t){return`
      ${this.toClipPath(t)}
      ${this.toSVGFilter(t)}
    `.trim()}toClipPath(t){if(t["clip-path"]==="")return"";t.cacheClipPathObject||t.setClipPathCache();var r=t.cacheClipPathObject,i=r.value;switch(r.type){case"path":return`<clipPath id="${this.clipPathId(t)}"><path d="${t.clipPathString}" /></clipPath>`;case"svg":return`<clipPath id="${this.clipPathId(t)}">${i}</clipPath>`}return""}toClipPathCSS(t){let r=t["clip-path"];if(Boolean(r)===!1)return null;t.cacheClipPathObject||t.setClipPathCache();var i=t.cacheClipPathObject;switch(i.type){case"path":i.value&&(r=`url(#${this.clipPathId(t)})`);break;case"svg":r=`url(#${this.clipPathId(t)})`;break}return{"clip-path":r}}innerSVGId(t){return t.id+"inner-svg"}booleanId(t){return t.id+"boolean"}clipPathId(t){return t.id+"clip-path"}toDefString(t){var r=this.toDefInnerString(t).trim();return r?`
    <svg class='inner-svg-element' style="display:block" data-id="${this.innerSVGId(t)}" width="0" height="0">
      <defs>
        ${r}
      </defs>
    </svg>
    `:""}toSelectorString(t,r=""){return t.selectors.map(i=>i.toString(r)).join(`

`)}generateView(t,r="",i=""){var s=`
  ${r} {  /* ${t.itemType} */
      ${Ge(this.toCSS(t),`
    `)}; 
      ${i}
  }
  ${this.toNestedCSS(t).map(n=>`${r} ${n.selector} { 
        ${n.cssText?n.cssText:Ge(n.css||{},`
		`)}; 
    }`).join(`
`)}
  ${this.toSelectorString(t,r)}
    `;return s}toCSS(t){return Object.assign({},this.toVariableCSS(t),this.toDefaultCSS(t),this.toSizeCSS(t),this.toClipPathCSS(t),this.toWebkitCSS(t),this.toTextClipCSS(t),this.toBoxModelCSS(t),this.toBorderCSS(t),this.toBackgroundImageCSS(t),this.toLayoutCSS(t),this.toTransformCSS(t),this.toLayoutItemCSS(t))}toStyle(t,r){const i=this.generateView(t,`[data-renderer-id='${r.id}'] .element-item[data-id='${t.id}']`);return`
<style type='text/css' data-renderer-type="html" data-id='${t.id}'>
${i}
</style>
    `+t.layers.map(s=>r.toStyle(s,r)).join("")}toStyleData(t,r){const i=this.generateView(t,`[data-renderer-id='${r.id}'] .element-item[data-id='${t.id}']`);return{styleTag:`<style type='text/css' data-renderer-type="html" data-id='${t.id}'>${i}</style>`,cssString:i}}toExportStyle(t,r){const i=this.generateView(t,`.element-item[data-id='${t.id}']`);return`
<style type='text/css' data-renderer-type="html" data-id='${t.id}' data-timestamp='${t.timestamp}'>
${i}
</style>
    `+t.layers.map(s=>r.toExportStyle(s,r)).join("")}render(t,r){var{elementType:i,id:s,name:n,itemType:o,isBooleanItem:l}=t;const c=i||"div";return`<${c} class="element-item ${o}" data-is-boolean-item="${l}" data-id="${s}" data-title="${n}">${this.toDefString(t)}${t.layers.map(h=>r.render(h,r)).join("")}</${c}>`}toSVGFilter(t){if(t.svgfilters.length===0)return"";var r=t.computedValue("svgfilters");return(t.hasChangedField("svgfilters")||!r)&&(r=t.computed("svgfilters",i=>{var s=i.map(n=>`
              <filter id='${n.id}'>
                ${n.filters.map(o=>an.parse(o)).join(`
`)}
              </filter>`).join("");return s},!0)),r}renderSVG(t,r){}toNestedCSS(t){return[]}update(t,r){if(!r)return;let i=r.el.$svg;if(r.el.$booleanSvg,i||(r.el.$svg=r.$(`[data-id="${this.innerSVGId(t)}"]`),i=r.el.$svg,r.el.$booleanSvg=r.$(`[data-id="${this.booleanId(t)}"]`),r.el.$booleanSvg),r.data("is-boolean-item")!==`${t.isBooleanItem}`&&r.attr("data-is-boolean-item",t.isBooleanItem),i){const o=this.toDefInnerString(t);if(o){var s=i.$("defs");s.updateSVGDiff(`<defs>${o}</defs>`)}}else{const o=this.toDefString(t);if(o){var n=be.createByHTML(o);n&&r.prepend(n)}}}}class A9 extends eo{render(t,r){var{id:i}=t;return`    
      <div class="element-item artboard" data-id="${i}">
        ${this.toDefString(t)}
        ${t.layers.map(s=>r.render(s,r)).join(`
	`)}
      </div>
    `}toBorderCSS(t){return{}}}class ri extends eo{}class O9 extends ri{}const D9=["front","back","left","right","top","bottom"];class F9 extends ri{toDefaultCSS(t){let r={};return t.x&&(r.left=t.x),t.y&&(r.top=t.y),r.visibility=t.visible?"visible":"hidden",v(v({},r),this.toKeyListCSS(t,["position","right","bottom","width","height","transform-origin","transform","transform-style","perspective","perspective-origin","animation","transition"]))}toCSS(t){return v(v(v(v(v({},this.toVariableCSS(t)),this.toDefaultCSS(t)),this.toWebkitCSS(t)),this.toBoxModelCSS(t)),this.toLayoutItemCSS(t))}toNestedCSS(t){var r=t.rate.value,i=t.width,s=t.height,n=i/2,o=s/2,l=t["backface-visibility"],c=v(v(v(v({},this.toKeyListCSS(t,["filter","mix-blend-mode","border-radius","background-color","opacity","color"])),this.toClipPathCSS(t)),this.toBackgroundImageCSS(t)),this.toBorderCSS(t));return[{selector:"div",cssText:`
          position: absolute;
          left: 0px;
          top: 0px;
          bottom: 0px;
          right: 0px;
          opacity: 1;
          pointer-events: none;
          ${Ge(c)}
        `.trim()},{selector:".front",cssText:`
          transform:rotateY(0deg) translateZ(${n*r}px);
          width: ${i};
          height: ${s};     
          backface-visibility: ${l};          
          ${t["front.color"]?`background-color: ${t["front.color"]};`:""}
          ${t["front.background"]?`${t["front.background"]};`:""}

        `.trim()},{selector:".back",cssText:`
          transform: rotateY(180deg) translateZ(${n*r}px);
          width: ${i};
          height: ${s};        
          backface-visibility: ${l};              
          ${t["back.color"]?`background-color: ${t["back.color"]};`:""}                  
          ${t["back.background"]?`${t["back.background"]};`:""}
        `.trim()},{selector:".left",cssText:`
          transform: rotateY(-90deg) translateZ(${n*r}px);
          width: ${i};
          height: ${s};    
          backface-visibility: ${l};          
          ${t["left.color"]?`background-color: ${t["left.color"]};`:""}                          
          ${t["left.background"]?`${t["left.background"]};`:""}
        `.trim()},{selector:".right",cssText:`
          transform: rotateY(90deg) translateZ(${n*r}px);
          width: ${i};
          height: ${s};      
          backface-visibility: ${l};          
          ${t["right.color"]?`background-color: ${t["right.color"]};`:""}                        
          ${t["right.background"]?`${t["right.background"]};`:""}          
        `.trim()},{selector:".top",cssText:`
          transform: rotateX(90deg) translateZ(${o*r}px);
          top: ${o-n}px;
          width: ${i};
          height: ${i};
          backface-visibility: ${l};          
          ${t["top.color"]?`background-color: ${t["top.color"]};`:""}      
          ${t["top.background"]?`${t["top.background"]};`:""}              
        `.trim()},{selector:".bottom",cssText:`
          transform: rotateX(-90deg) translateZ(${o*r}px);
          top: ${o-n}px;          
          width: ${i};
          height: ${i};    
          backface-visibility: ${l};          
          ${t["bottom.color"]?`background-color: ${t["bottom.color"]};`:""}
          ${t["bottom.background"]?`${t["bottom.background"]};`:""}                          
        `.trim()}]}render(t){var{id:r}=t;return`
      <div class='element-item cube' data-id="${r}">
        ${this.toDefString(t)}
        ${D9.map(i=>`<div class='${i}'></div>`).join("")}
      </div>`}}class B9 extends ri{toNestedCSS(t){return[{selector:"img",cssText:`
                width: 100%;
                height: 100%;
                pointer-events: none;
                `.trim()}]}getUrl(t){var{src:r}=t,i=t.project;return i.getImageValueById(r)||r}render(t){var{id:r}=t;return`
          <div class='element-item image' data-id="${r}">
            ${this.toDefString(t)}
            <img src='${this.getUrl(t)}' />
          </div>`}update(t,r){const i=r.$("img");i&&i.attr("src",this.getUrl(t)),super.update(t,r)}}class N9 extends eo{toRootVariableCSS(t){let r={};return t.rootVariable.split(";").filter(i=>i.trim()).forEach(i=>{var[s,n]=i.split(":");r[`--${s}`]=n}),r}toCSS(t){return Object.assign({},...this.toRootVariableCSS(t))}toStyle(t){const r=t.toKeyframeString(),i=this.toRootVariableCSS(t);return`
<style type='text/css' data-renderer-type="html" data-id='${t.id}'>
    :root {
        ${Ge(i)}
    }
    /* keyframe */
    ${r}
</style>
        `}toExportStyle(t){const r=t.toKeyframeString(),i=this.toRootVariableCSS(t);return`
<style type='text/css' data-renderer-type="html" data-id='${t.id}'>
    :root {
        ${Ge(i)}
    }
    /* keyframe */
    ${r}
</style>
        `}render(t,r){return t.layers.map(i=>r.render(i)).join("")}renderSVG(t,r){return""}}class G9 extends ri{}class Ks extends ri{update(t,r){this.updateElementCache(t,r),super.update(t,r)}updateElementCache(t,r){if(t.getCache("element")!==r){t.addCache("element",r);const i=r.$("path");t.addCache("svgElement",i.parent().el),t.addCache("pathElement",i.el)}}updateDefString(t,r){var i=r.$("defs");if(i)i.updateSVGDiff(`<defs>${this.toDefInnerString(t)}</defs>`);else{var s=this.toDefString(t).trim();r.prepend(be.createByHTML(s))}}toDefInnerString(t){return`
            ${this.toFillSVG(t)}
            ${this.toStrokeSVG(t)}
        `}fillId(t){return this.getInnerId(t,"fill")}strokeId(t){return this.getInnerId(t,"stroke")}cachedStroke(t){return t.computed("stroke",r=>t.isBooleanItem?tt.parseImage("transparent"):tt.parseImage(r||"black"))}cachedFill(t){return t.computed("fill",r=>t.isBooleanItem?tt.parseImage("transparent"):tt.parseImage(r||"black"))}toFillSVG(t){var i;const r=this.cachedFill(t);return(i=r==null?void 0:r.toSVGString)==null?void 0:i.call(r,this.fillId(t),t.contentBox)}toStrokeSVG(t){var i;const r=this.cachedStroke(t);return(i=r==null?void 0:r.toSVGString)==null?void 0:i.call(r,this.strokeId(t),t.contentBox)}toFillValue(t){var i;const r=this.cachedFill(t);return(i=r==null?void 0:r.toFillValue)==null?void 0:i.call(r,this.fillId(t))}toFillOpacityValue(t){return Le.parse(t.fill||"transparent").a}toStrokeValue(t){var i;const r=this.cachedStroke(t);return(i=r==null?void 0:r.toFillValue)==null?void 0:i.call(r,this.strokeId(t))}toFilterValue(t){return t.svgfilter?`url(#${t.svgfilter})`:""}toLayoutCSS(t){return{}}toDefaultCSS(t){var r;return Object.assign({},super.toDefaultCSS(t),this.toKeyListCSS(t,["stroke-width","stroke-linecap","stroke-linejoin","stroke-dashoffset","fill-opacity","fill-rule","text-anchor"]),{"stroke-dasharray":(r=t["stroke-dasharray"])==null?void 0:r.join(" ")})}toSVGAttribute(t){return this.toDefaultCSS(t)}}class Cu extends Ks{update(t,r){if(!r)return;const i=r.$("path");i&&(t.hasChangedField("width","height","d")&&i.setAttrNS({d:t.d}),t.hasChangedField("fill")&&i.setAttrNS({fill:this.toFillValue(t)}),t.hasChangedField("stroke")&&i.setAttrNS({stroke:this.toStrokeValue(t)}),t.hasChangedField("filter")&&i.setAttrNS({filter:this.toFilterValue(t)}),t.hasChangedField("fill-rule")&&i.setAttrNS({"fill-rule":t["fill-rule"]||"nonezero"}),t.hasChangedField("stroke-linejoin")&&i.setAttrNS({"stroke-linejoin":t["stroke-linejoin"]}),t.hasChangedField("stroke-linecap")&&i.setAttrNS({"stroke-linecap":t["stroke-linecap"]})),super.update(t,r)}render(t){var{id:r,name:i,itemType:s}=t;return`    
<div class="element-item ${s}" data-id="${r}" data-title="${i}">
  ${this.toDefString(t)}
  <svg xmlns="http://www.w3.org/2000/svg" class="view-path-item" width="100%" height="100%" overflow="visible">
    <path 
      class="svg-path-item"
      d="${t.d}"
      fill-rule="${t["fill-rule"]}"
      filter="${this.toFilterValue(t)}"
      fill="${this.toFillValue(t)}"
      stroke="${this.toStrokeValue(t)}"
      stroke-linejoin="${t["stroke-linejoin"]}"
      stroke-linecap="${t["stroke-linecap"]}"
    />
  </svg>
</div>
    `}}class H9 extends Cu{update(t,r){if(!!r){var i=r.$("path");i&&t.hasChangedField("points","boundary")&&i.setAttrNS({d:t.d}),super.update(t,r)}}}class U9 extends Ks{update(t,r){if(!!r){var i=r.$("path");i&&(t.hasChangedField("width","height","count")&&i.setAttrNS({d:t.d}),t.hasChangedField("fill")&&i.setAttrNS({fill:this.toFillValue(t)}),t.hasChangedField("stroke")&&i.setAttrNS({stroke:this.toStrokeValue(t)}),t.hasChangedField("filter")&&i.setAttrNS({filter:this.toFilterValue(t)}),t.hasChangedField("fill-rule")&&i.setAttrNS({"fill-rule":t["fill-rule"]||"nonezero"}),t.hasChangedField("stroke-linejoin")&&i.setAttrNS({"stroke-linejoin":t["stroke-linejoin"]}),t.hasChangedField("stroke-linecap")&&i.setAttrNS({"stroke-linecap":t["stroke-linecap"]})),super.update(t,r)}}render(t){var{id:r,name:i,itemType:s}=t;return`    
<div class="element-item ${s}" data-id="${r}" data-title="${i}">
  ${this.toDefString(t)}
  <svg xmlns="http://www.w3.org/2000/svg" class="view-path-item" width="100%" height="100%" overflow="visible">
    <path 
      class="svg-path-item"
      d="${t.d}"
      fill-rule="${t["fill-rule"]}"
      filter="${this.toFilterValue(t)}"
      fill="${this.toFillValue(t)}"
      stroke="${this.toStrokeValue(t)}"
      stroke-linejoin="${t["stroke-linejoin"]}"
      stroke-linecap="${t["stroke-linecap"]}"
    />
  </svg>
</div>
    `}}class X9 extends Ks{update(t,r){if(!!r){var i=r.$("path");i&&(t.hasChangedField("width","height","count","radius","isCurve","tension")&&i.setAttrNS({d:t.d}),t.hasChangedField("fill")&&i.setAttrNS({fill:this.toFillValue(t)}),t.hasChangedField("stroke")&&i.setAttrNS({stroke:this.toStrokeValue(t)}),t.hasChangedField("filter")&&i.setAttrNS({filter:this.toFilterValue(t)}),t.hasChangedField("fill-rule")&&i.setAttrNS({"fill-rule":t["fill-rule"]||"nonezero"}),t.hasChangedField("stroke-linejoin")&&i.setAttrNS({"stroke-linejoin":t["stroke-linejoin"]}),t.hasChangedField("stroke-linecap")&&i.setAttrNS({"stroke-linecap":t["stroke-linecap"]})),super.update(t,r)}}render(t){var{id:r,name:i,itemType:s}=t;return`    
<div class="element-item ${s}" data-id="${r}" data-title="${i}">
  ${this.toDefString(t)}
  <svg xmlns="http://www.w3.org/2000/svg" class="view-path-item" width="100%" height="100%" overflow="visible">
    <path 
      class="svg-path-item"
      d="${t.d}"
      fill-rule="${t["fill-rule"]}"
      filter="${this.toFilterValue(t)}"
      fill="${this.toFillValue(t)}"
      stroke="${this.toStrokeValue(t)}"
      stroke-linejoin="${t["stroke-linejoin"]}"
      stroke-linecap="${t["stroke-linecap"]}"
    />
  </svg>
</div>
    `}}class Y9 extends Ks{update(t,r){var i=r.$("path.svg-path-item");i&&t.hasChangedField("width","height","d")&&i.attr("d",t.d);var s=r.$("path.guide");s&&t.hasChangedField("width","height","d")&&s.attr("d",t.d);var n=r.$("textPath");n&&(t.hasChangedField("text")&&n.text(t.text),t.hasChangedField("textLength","lengthAdjust","startOffset")&&n.setAttrNS({textLength:t.textLength,lengthAdjust:t.lengthAdjust,startOffset:t.startOffset}),t.hasChangedField("fill")&&n.setAttrNS({fill:this.toFillValue(t)}),t.hasChangedField("stroke")&&n.setAttrNS({stroke:this.toStrokeValue(t)}),t.hasChangedField("filter")&&n.setAttrNS({filter:this.toFilterValue(t)})),super.update(t,r),t.totalLength=i.totalLength}toDefInnerString(t){return`
        ${this.toPathSVG(t)}
        ${this.toFillSVG(t)}
        ${this.toStrokeSVG(t)}
    `}toPathId(t){return this.getInnerId(t,"path")}toPathSVG(t){return`
    <path class="svg-path-item" id="${this.toPathId(t)}" d="${t.d}" fill="none" />
    `}render(t){var{id:r,textLength:i,lengthAdjust:s,startOffset:n}=t;const o=`#${this.toPathId(t)}`;return`
      <svg class='element-item textpath' data-id="${r}">
        ${this.toDefString(t)}
        <text class="svg-textpath-item">
          <textPath 
            xlink:href="${o}"
            textLength="${i}"
            lengthAdjust="${s}"
            startOffset="${n}"
          >${t.text}</textPath>
          <use href="${o}" stroke-width="1" stroke="black" />
        </text>
        <path class="guide" d="${t.d}" stroke="rgba(0, 0, 0, 0.5)" fill="none"/>
      </svg>
    `}}class W9 extends Ks{update(t,r){var i=r.$("text");i&&(t.hasChangedField("text")&&$textPath.text(t.text),t.hasChangedField("textLength","lengthAdjust","startOffset")&&$textPath.setAttrNS({textLength:t.textLength,lengthAdjust:t.lengthAdjust,startOffset:t.startOffset}),t.hasChangedField("fill")&&$textPath.setAttrNS({fill:this.toFillValue(t)}),t.hasChangedField("stroke")&&$textPath.setAttrNS({stroke:this.toStrokeValue(t)}),t.hasChangedField("filter")&&$textPath.setAttrNS({filter:this.toFilterValue(t)})),super.update(t,r)}shapeInsideId(t){return this.getInnerId(t,"shape-inside")}render(t){var{id:r,textLength:i,lengthAdjust:s}=t;return`
  <svg class='element-item textpath' data-id="${r}">
    ${this.toDefString(t)}
      <text class="svg-text-item" textLength="${i}" lengthAdjust="${s}">${t.text}</text>
  </svg>`}}class K9{static compile(t,r=[]){return t}}const ku={dom:K9};class Tu{static compile(t,r,i=[]){return(ku[t]||ku.dom).compile(r,i)}}class Z9 extends ri{update(t,r){if(t.hasChangedField("x","y","width","height")===!1){const i=this.compile(t);let s=r.$(".inner-html");s&&s.updateDiff(i)}super.update(t,r)}compile(t){return Tu.compile("dom",t.template,t.params)}render(t){var{id:r}=t;const i=this.compile(t);return`
      <div class='element-item template' data-id="${r}">
        ${this.toDefString(t)}
        <style id="style-${r}">
          [data-id="${r}"] .inner-html {
            width: 100%; 
            height: 100%;
            position:relative;
            display:block;
            pointer-events: none; 
          }

          [data-id="${r}"] .inner-html > * {
            width: 100%; 
            height: 100%;
          }          
        </style>
        <div class="inner-html" data-domdiff-pass="true">
          ${i}
        </div>
      </div>`}}class q9 extends ri{toCSS(t){let r=super.toCSS(t);return r.margin=r.margin||"0px",t.parent.is("project")?r.height=g.px(t.screenHeight):t.overflow!==Ca.SCROLL&&(r.height="auto"),r}update(t,r){const i=r.$(".text-content");if(i){var{content:s}=t;i.updateDiff(s)}super.update(t,r)}render(t){var{id:r,content:i}=t;return`
            <div class='element-item text' data-id="${r}">
                ${this.toDefString(t)}
                <div class="text-content" tabIndex="-1" data-id="${r}">${i}</div>
            </div>
        `}}class Q9 extends ri{toNestedCSS(t){return[{selector:"video",cssText:`
                width: 100%;
                height: 100%;
                pointer-events: none;
                `.trim()}]}getUrl(t){var{src:r}=t,i=t.project;return i.getVideoValueById(r)}render(t){var{id:r,controls:i,muted:s,poster:n,loop:o,crossorigin:l,autoplay:c}=t;return`
        <div class='element-item video' data-id="${r}">
            ${this.toDefString(t)}
            <video 
                controls="${i}"
                src="${this.getUrl(t)}
                muted="${s}"
                poster="${n}"
                loop="${o}"
                crossorigin="${l}"
                autoplay="${c}"
            >
                Sorry, your browser doesn't support embedded videos.
            </video>
        </div>`}update(t,r){const{currentTime:i,playbackRate:s,volume:n}=t,o=r.$("video");o&&o.setProp({currentTime:i,playbackRate:s,volume:n}),super.update(t,r)}}class J9 extends Ks{toFillSVG(t){const r=t.layers;switch(t["boolean-operation"]){case qr.DIFFERENCE:return tt.parseImage(r[1].fill||"transparent").toSVGString(this.fillId(t))}return tt.parseImage(r[0].fill||"transparent").toSVGString(this.fillId(t))}toStrokeSVG(t){const r=t.layers;switch(t["boolean-operation"]){case qr.DIFFERENCE:return tt.parseImage(r[1].stroke||"transparent").toSVGString(this.strokeId(t))}return tt.parseImage(r[0].stroke||"black").toSVGString(this.strokeId(t))}toFillValue(t){var s,n;const r=t.layers;switch(t["boolean-operation"]){case qr.DIFFERENCE:return tt.parseImage(r[1].fill||"transparent").toSVGString(this.fillId(t))}return(n=(s=tt.parseImage(r[0].fill||"transparent")).toFillValue)==null?void 0:n.call(s,this.fillId(t))}toFillOpacityValue(t){return Le.parse(t.fill||"transparent").a}toStrokeValue(t){var s,n,o,l;const r=t.layers;switch(t["boolean-operation"]){case qr.DIFFERENCE:return(n=(s=tt.parseImage(r[1].stroke||"transparent")).toFillValue)==null?void 0:n.call(s,this.strokeId(t))}return(l=(o=tt.parseImage(r[0].stroke||"black")).toFillValue)==null?void 0:l.call(o,this.strokeId(t))}update(t,r){if(!r)return;const i=r.$(`[data-boolean-path-id="${t.id}"]`);i&&(t.hasChangedField("changedChildren","d","boolean-operation","width","height")&&i.setAttrNS({d:t.d}),t.hasChangedField("fill")&&i.setAttrNS({fill:this.toFillValue(t)}),t.hasChangedField("stroke")&&i.setAttrNS({stroke:this.toStrokeValue(t)}),t.hasChangedField("filter")&&i.setAttrNS({filter:this.toFilterValue(t)}),t.hasChangedField("fill-rule")&&i.setAttrNS({"fill-rule":t["fill-rule"]||"nonezero"}),t.hasChangedField("stroke-linejoin")&&i.setAttrNS({"stroke-linejoin":t["stroke-linejoin"]}),t.hasChangedField("stroke-linecap")&&i.setAttrNS({"stroke-linecap":t["stroke-linecap"]})),super.update(t,r)}updateElementCache(t,r){if(t.getCache("element")!==r){t.addCache("element",r);const i=r.$(`[data-boolean-path-id="${t.id}"]`);t.addCache("svgElement",i.parent().el),t.addCache("pathElement",i.el)}}render(t,r){var{id:i,name:s,itemType:n}=t;return`    
<div class="element-item ${n}" data-id="${i}" data-title="${s}">
  ${this.toDefString(t)}
  ${t.layers.map(o=>r.render(o,r)).join("")}
  <svg xmlns="http://www.w3.org/2000/svg" class="boolean-path-item" width="100%" height="100%" overflow="visible">
    <path 
      class="svg-path-item"
      d="${t.d}"
      data-boolean-path-id="${i}" 
      fill-rule="${t["fill-rule"]}"
      filter="${this.toFilterValue(t)}"
      fill="${this.toFillValue(t)}"
      stroke="${this.toStrokeValue(t)}"
      stroke-linejoin="${t["stroke-linejoin"]}"
      stroke-linecap="${t["stroke-linecap"]}"
    />
  </svg>
</div>
    `}}function eR(a){a.registerRendererType("html",new w9(a)),a.registerRenderer("html","project",new N9),a.registerRenderer("html","artboard",new A9),a.registerRenderer("html","rect",new G9),a.registerRenderer("html","circle",new O9),a.registerRenderer("html","image",new B9),a.registerRenderer("html","text",new q9),a.registerRenderer("html","video",new Q9),a.registerRenderer("html","boolean-path",new J9),a.registerRenderer("html","svg-path",new Cu),a.registerRenderer("html","polygon",new U9),a.registerRenderer("html","star",new X9),a.registerRenderer("html","spline",new H9),a.registerRenderer("html","svg-text",new W9),a.registerRenderer("html","svg-textpath",new Y9),a.registerRenderer("html","cube",new F9),a.registerRenderer("html","template",new Z9)}class tR{constructor(t){this.editor=t}getDefaultRendererInstance(){return this.editor.getRendererInstance("json","rect")}getRendererInstance(t){return this.editor.getRendererInstance("json",t.itemType)||this.getDefaultRendererInstance()||t}async render(t,r){if(!t)return;const i=this.getRendererInstance(t);if(i)return await i.render(t,r||this)}async renderAll(t,r){return await Promise.all(t.map(async i=>await this.render(i,r)))}async getResourceDataURI(t,r){}}class Mu{async render(t,r){return await this.toCloneObject(t,r)}async toCloneObject(t,r){var i=t.attrs("itemType","name","elementType","type","visible","lock","selected");t.parent&&t.parent.isNot("project")&&(i.parentId=t.parentId),i.referenceId=t.id,i.newTargetId=as();let s=[];for(var n=0,o=t.layers.length;n<o;n++)s.push(await r.render(t.layers[n],r));return i.layers=s,i}}class rR extends Mu{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("svgfilters","keyframes"))}}class iR extends rR{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("layout","constraints-horizontal","constraints-vertical","resizingMode","flex-direction","flex-wrap","flex-flow","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","gap","grid-template-rows","grid-template-columns","grid-template-areas","grid-auto-rows","grid-auto-columns","grid-auto-flow","animation","transition","padding-top","padding-right","padding-left","padding-bottom"))}}class sR extends iR{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("x","y","right","bottom","width","height","angle","transform-origin"))}}class Iu extends sR{async toCloneObject(t,r){return le(v(v({},await super.toCloneObject(t,r)),t.attrs("position","rootVariable","variable","filter","backdrop-filter","background-color","background-image","text-clip","border-radius","border","box-shadow","text-shadow","clip-path","color","font-size","line-height","text-align","text-transform","text-decoration","letter-spacing","word-spacing","text-indent","perspective-origin","transform-style","perspective","mix-blend-mode","overflow","opacity","animation","transition")),{selectors:t.selectors.map(i=>i.clone()),svg:t.svg.map(i=>i.clone())})}}class aR extends Iu{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("name"))}}class Yi extends Iu{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("tagName"))}}class nR extends Yi{}class oR extends Yi{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("src"))}}class lR extends Yi{async toCloneObject(t,r){const n=t.project.imageKeys[t.src].original;return le(v({},await super.toCloneObject(t,r)),{src:n})}}class cR extends Mu{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("colors","gradients","svgfilters","svgimages","images","keyframes"))}}class hR extends cR{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("timeline"))}}class dR extends hR{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("name","description","rootVariable"))}}class uR extends Yi{}class _s extends Yi{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("overflow","stroke","stroke-width","svgfilter","fill","fill-rule","fill-opacity","stroke-linecap","stroke-linejoin","stroke-dashoffset","stroke-dasharray","text-anchor"))}}class pR extends _s{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("d"))}}class gR extends _s{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("totalLength","d","text","textLength","lengthAdjust","startOffset"))}}class fR extends _s{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("totalLength","text","textLength","lengthAdjust","shape-inside"))}}class mR extends Yi{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("engine","template","params"))}}class vR extends Yi{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("content"))}}class yR extends Yi{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("src"))}}class bR extends _s{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("count"))}}class $R extends _s{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("count","radius"))}}class xR extends _s{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("points","boundary"))}}class _R extends _s{async toCloneObject(t,r){return v(v({},await super.toCloneObject(t,r)),t.attrs("d","boolean-operation"))}}function SR(a){a.registerRendererType("json",new tR(a)),a.registerRenderer("json","project",new dR),a.registerRenderer("json","artboard",new aR),a.registerRenderer("json","rect",new uR),a.registerRenderer("json","circle",new nR),a.registerRenderer("json","image",new lR),a.registerRenderer("json","template",new mR),a.registerRenderer("json","iframe",new oR),a.registerRenderer("json","text",new vR),a.registerRenderer("json","video",new yR),a.registerRenderer("json","svg-path",new pR),a.registerRenderer("json","boolean-path",new _R),a.registerRenderer("json","polygon",new bR),a.registerRenderer("json","star",new $R),a.registerRenderer("json","spline",new xR),a.registerRenderer("json","svg-text",new fR),a.registerRenderer("json","svg-textpath",new gR)}class wR{constructor(t){this.editor=t}getDefaultRendererInstance(){return this.editor.getRendererInstance("svg","rect")}getRendererInstance(t){return this.editor.getRendererInstance("svg",t.itemType)||this.getDefaultRendererInstance()||t}render(t,r){if(!t)return"";const i=this.getRendererInstance(t);if(i)return i.render(t,r||this)}toCSS(t){const r=this.getRendererInstance(t);if(r)return r.toCSS(t)}toTransformCSS(t){const r=this.getRendererInstance(t);if(r)return r.toTransformCSS(t)}toStyle(t,r){const i=this.getRendererInstance(t);if(i)return i.toStyle(t,r||this)}update(t,r){const i=this.getRendererInstance(t);if(i)return i.update(t,r)}codeview(t){if(!t)return"";let r=this.render(t);return r=r.replace(/\</g,"&lt;").replace(/\>/g,"&gt;"),`
<div class='svg-code'>
${r&&`<div><pre title='SVG'>${r}</pre></div>`}
</div>
        `}}class Ul extends eo{toDefaultCSS(t){return v({overflow:"visible"},this.toKeyListCSS(t,["font-size","line-height","font-weight","font-family","font-style","text-align","text-transform","text-decoration","letter-spacing","word-spacing","text-indent","background-color","border-radius","transform-style","filter","filter","backdrop-filter","box-shadow","text-shadow","animation","transition"]))}toCSS(t){const r=Object.assign({},this.toVariableCSS(t),this.toDefaultCSS(t),this.toClipPathCSS(t),this.toWebkitCSS(t),this.toTextClipCSS(t),this.toTransformCSS(t),this.toLayoutItemCSS(t),this.toBorderCSS(t),this.toBackgroundImageCSS(t),this.toLayoutCSS(t));return delete r.left,delete r.top,delete r.width,delete r.height,delete r.position,r}toSVGAttribute(t){var r;return le(v(v({},this.toDefaultCSS(t)),this.toKeyListCSS(t,["stroke-width","stroke-linecap","stroke-linejoin","stroke-dashoffset","fill-opacity","fill-rule","text-anchor"])),{"stroke-dasharray":(r=t["stroke-dasharray"])==null?void 0:r.join(" ")})}wrappedRender(t,r){const{id:i,x:s,y:n,width:o,height:l,itemType:c}=t;return`

<svg class='svg-element-item ${c}'
    xmlns="http://www.w3.org/2000/svg"
    data-id="${i}"
    x="${s}"
    y="${n}"
    width="${o}"
    height="${l}"
    viewBox="0 0 ${o} ${l}"
    overflow="visible"
>
    ${this.toDefString(t)}
    ${ye(r)&&r()}
</svg>
        `}render(t,r){const{width:i,height:s,elementType:n}=t,o=n||"div";let l=this.toCSS(t);return this.wrappedRender(t,()=>`
<foreignObject 
    width="${i}"
    height="${s}"
    overflow="visible"
>
    <${o} xmlns="http://www.w3.org/1999/xhtml" style="${Ge(l)};width:100%;height:100%;"></${o}>
</foreignObject>    
${t.layers.map(c=>r.render(c,r)).join("")}
            `)}}class PR extends Ul{toCSS(t){const r=Object.assign({},this.toDefaultCSS(t),this.toClipPathCSS(t),this.toWebkitCSS(t),this.toTextClipCSS(t),this.toBackgroundImageCSS(t));return delete r.left,delete r.top,delete r.width,delete r.height,delete r.position,r}render(t,r,i=!0){const{x:s,y:n,width:o,height:l}=t;let c=this.toCSS(t);return`
${i?'<?xml version="1.0"?>':""}
<svg 
    xmlns="http://www.w3.org/2000/svg"
    width="${o}"
    height="${l}"
    viewBox="0 0 ${o} ${l}"
    style="${Ge(c)}"
>
    ${this.toDefString(t)}
    ${t.layers.map(h=>r.render(h,r)).join("")}
</svg>      
        `}}class Wi extends Ul{}class CR extends Wi{}class kR extends Wi{update(t,r){let i=r.$("iframe");i&&i.attr("src",t.url||"about:blank"),super.update(t,r)}render(t){const{width:r,height:i,id:s,url:n="about:blank"}=t;let o=this.toCSS(t);return this.wrappedRender(t,()=>`
  <foreignObject
      width="${r}"
      height="${i}"
  >
      <iframe 
          xmlns="http://www.w3.org/1999/xhtml"
          width="100%" 
          height="100%" 
          style="border:0px;width:100%;height:100%;pointer-events:none; ${Ge(o)}" 
          src="${n}"
      ></iframe>
  </foreignObject>              
          `)}}class TR extends Wi{getUrl(t){var{src:r}=t,i=t.project;return i.getImageValueById(r)}render(t){const{width:r,height:i}=t;let s=this.toCSS(t);return this.wrappedRender(t,()=>`
            <foreignObject
                width="${r}"
                height="${i}"
            >
                <div xmlns="http://www.w3.org/1999/xhtml">
                    <img src='${this.getUrl(t)}' style="width:100%;height:100%; ${Ge(s)}"  />
                </div>
            </foreignObject>              
          `)}update(t,r){const i=r.$("img");i&&i.attr("src",this.getUrl(t)),super.update(t,r)}}class MR extends Ul{render(t,r){return t.artboards.map(i=>r.render(i,r))}}class IR extends Wi{}class Ss extends Wi{updateDefString(t,r){var i=r.$("defs");if(i)i.html(this.toDefInnerString(t));else{var s=this.toDefString(t).trim();r.prepend(be.createByHTML(s))}}toDefInnerString(t){return`
            ${this.toFillSVG(t)}
            ${this.toStrokeSVG(t)}
        `}toDefString(t){return`
            <defs>
            ${this.toDefInnerString(t).trim()}
            </defs>
        `}fillId(t){return this.getInnerId(t,"fill")}strokeId(t){return this.getInnerId(t,"stroke")}toFillSVG(t){return tt.parseImage(t.fill||"transparent").toSVGString(this.fillId(t))}toStrokeSVG(t){return tt.parseImage(t.stroke||"black").toSVGString(this.strokeId(t))}toFillValue(t){return tt.parseImage(t.fill||"transparent").toFillValue(this.fillId(t))}toFillOpacityValue(t){return Le.parse(t.fill||"transparent").a}toStrokeValue(t){return tt.parseImage(t.stroke||"black").toFillValue(this.strokeId(t))}toFilterValue(t){return t.svgfilter?`url(#${t.svgfilter})`:""}toLayoutCSS(t){return{}}}class ER extends Ss{update(t,r){if(!!r){var i=r.$("path");i&&i.setAttr({d:t.d,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)}),this.updateDefString(t,r)}}render(t){var{d:r}=t;return this.wrappedRender(t,()=>`
<path ${pt(le(v({class:"spline-item",d:r,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)},this.toSVGAttribute(t)),{style:Ge(this.toCSS(t))}))} />
    `)}}class LR extends Ss{update(t,r){if(!!r){var i=r.$("path");i&&(i.setAttr({d:t.d,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)}),t.totalLength=i.totalLength),this.updateDefString(t,r)}}render(t){var{d:r}=t;return this.wrappedRender(t,()=>`
<path ${pt(le(v({class:"svg-path-item",d:r,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)},this.toSVGAttribute(t)),{style:Ge(this.toCSS(t))}))} />
    `)}}class VR extends Ss{update(t,r){if(!!r){var i=r.$("path");i&&i.setAttr({d:t.d,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)}),this.updateDefString(t,r)}}render(t){var{d:r}=t;return this.wrappedRender(t,()=>`
<path ${pt(le(v({class:"polygon-item",d:r,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)},this.toSVGAttribute(t)),{style:Ge(this.toCSS(t))}))} />
    `)}}class RR extends Ss{update(t,r){if(!!r){var i=r.$("path");i&&i.setAttr({d:t.d,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)}),this.updateDefString(t,r)}}render(t){var{d:r}=t;return this.wrappedRender(t,()=>`
<path ${pt(le(v({class:"star-item",d:r,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)},this.toSVGAttribute(t)),{style:Ge(this.toCSS(t))}))} />
    `)}}class zR extends Ss{update(t,r){var i=r.$("path");i&&i.attr("d",t.d);var s=r.$("textPath");s&&(s.text(t.text),s.setAttr({filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t),textLength:t.textLength,lengthAdjust:t.lengthAdjust,startOffset:t.startOffset})),this.updateDefString(t,r),t.totalLength=i.totalLength}toDefInnerString(t){return`
      ${this.toPathSVG(t)}
      ${this.toFillSVG(t)}
      ${this.toStrokeSVG(t)}
    `}toPathId(t){return this.getInnerId(t,"path")}toPathSVG(t){return`
      <path 
        class="svg-path-item"
        id="${this.toPathId(t)}"
        d="${t.d}"
        fill="none"
      />
    `}render(t){return this.wrappedRender(t,()=>{const{textLength:r,lengthAdjust:i,startOffset:s}=t;return`
        <textPath ${pt(le(v({"xlink:href":`#${this.toPathId(t)}`,textLength:r,lengthAdjust:i,startOffset:s,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)},this.toSVGAttribute(t)),{style:Ge(this.toCSS(t))}))} >${t.text}</textPath>
      `})}}class jR extends Ss{update(t,r){var i=r.$("text");i&&(i.text(t.text),i.setAttr({filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t),textLength:t.textLength,lengthAdjust:t.lengthAdjust})),this.updateDefString(t,r)}shapeInsideId(t){return this.getInnerId(t,"shape-inside")}render(t){var{id:r,textLength:i,lengthAdjust:s}=t;return this.wrappedRender(t,()=>`
        <text ${pt(le(v({class:"svg-text-item",textLength:i,lengthAdjust:s,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)},this.toSVGAttribute(t)),{style:Ge(this.toCSS(t))}))} >${t.text}</text>
      `)}}class AR extends Wi{update(t,r){const i=this.compile(t);let s=r.$(".inner-html");s&&s.updateDiff(i),super.update(t,r)}compile(t){return Tu.compile("dom",t.template,t.params)}render(t){const{id:r,width:i,height:s}=t,n=this.compile(t);return this.wrappedRender(t,()=>`
            <foreignObject
                width="${i}"
                height="${s}"
            >
                <div  xmlns="http://www.w3.org/1999/xhtml" style="width: 100%;height:100%;">
                    <style id="style-${r}">
                    [data-id="${r}"] .inner-html {
                        width: 100%; 
                        height: 100%;
                        position:relative;
                        display:block;
                        pointer-events: none; 
                    }

                    [data-id="${r}"] .inner-html > * {
                        width: 100%; 
                        height: 100%;
                    }          
                    </style>
                    <div class="inner-html">
                    ${n}
                    </div>
                </div>
            </foreignObject>              
          `)}}class OR extends Wi{toCSS(t){let r=super.toCSS(t);return r.margin=r.margin||"0px",r}render(t){const{content:r,width:i,height:s}=t;let n=this.toCSS(t);return this.wrappedRender(t,()=>`
            <foreignObject width="${i}" height="${s}">
                <p xmlns="http://www.w3.org/1999/xhtml" style="${Ge(n)}">${r}</p>
            </foreignObject>              
          `)}update(t,r){var{content:i}=t;r.updateDiff(i)}}class DR extends Wi{getUrl(t){var{src:r}=t,i=t.project;return i.getVideoValueById(r)}render(t,r){var{width:i,height:s,controls:n,muted:o,poster:l,loop:c,crossorigin:h,autoplay:d}=t;let p=this.toCSS(t);return this.wrappedRender(t,()=>`
            <foreignObject 
                width="${i}"
                height="${s}"
                overflow="visible"
            >
                <video 
                    xmlns="http://www.w3.org/1999/xhtml"
                    controls="${n}"
                    src="${this.getUrl(t)}"
                    muted="${o}"
                    poster="${l}"
                    loop="${c}"
                    crossorigin="${h}"
                    autoplay="${d}"
                    style="${Ge(p)};width:100%;height:100%;"></video>
            </foreignObject>    
            `)}}class FR extends Ss{update(t,r){if(!r)return;const i=r.$(`[data-boolean-path-id="${t.id}"]`);i&&(i.setAttr({d:t.d,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)}),t.totalLength=i.totalLength),this.updateDefString(t,r)}render(t){var{d:r}=t;return this.wrappedRender(t,()=>`
<path ${pt(le(v({class:"boolean-path-item","data-boolean-path-id":t.id,d:r,filter:this.toFilterValue(t),fill:this.toFillValue(t),stroke:this.toStrokeValue(t)},this.toSVGAttribute(t)),{style:Ge(this.toCSS(t))}))} />
    `)}}function BR(a){a.registerRendererType("svg",new wR(a)),a.registerRenderer("svg","project",new MR),a.registerRenderer("svg","artboard",new PR),a.registerRenderer("svg","rect",new IR),a.registerRenderer("svg","circle",new CR),a.registerRenderer("svg","image",new TR),a.registerRenderer("svg","template",new AR),a.registerRenderer("svg","iframe",new kR),a.registerRenderer("svg","video",new DR),a.registerRenderer("svg","text",new OR),a.registerRenderer("svg","boolean-path",new FR),a.registerRenderer("svg","svg-path",new LR),a.registerRenderer("svg","polygon",new VR),a.registerRenderer("svg","star",new RR),a.registerRenderer("svg","spline",new ER),a.registerRenderer("svg","svg-text",new jR),a.registerRenderer("svg","svg-textpath",new zR)}var IO="";class NR extends jr{getTitle(){return this.$i18n("selector.popup.title")}initState(){return{selector:"",properties:[]}}updateData(t){this.setState(t,!1),this.emit("changeSelectorPopup",this.state)}getBody(){return`
    <div class='elf--selector-popup' ref='$popup'>
      <div class="box">
        ${this.templateForSelector()}
        ${this.templateForProperty()}        
      </div>
    </div>`}templateForProperty(){return E("CSSPropertyEditor",{ref:"$propertyEditor",onchange:"changePropertyEditor"})}templateForSelector(){return`
      <div class='name'>
        <label>${this.$i18n("selector.popup.selector")}</label>
        <div class='input grid-1'>
          <input type='text' value='${this.state.selector}' ref='$selector'/>
        </div>
      </div>
    `}[ot("$selector")](t){if(this.refs.$selector.value.match(/^[a-zA-Z0-9\:\_\-\.\b]+$/))this.updateData({selector:this.refs.$selector.value});else return t.preventDefault(),t.stopPropagation(),!1}refresh(){super.refresh(),this.refs.$selector.val(this.state.selector),this.children.$propertyEditor.trigger("showCSSPropertyEditor",this.state.properties)}[I("changePropertyEditor")](t){this.updateData({properties:t})}[I("showSelectorPopup")](t){this.setState(t),this.refresh(),this.show(250)}}var EO="";const GR=["",":hover",":active",":before",":after",":first-child",":last-child",":link",":active",":focus"].map(a=>({value:a}));class HR extends De{getTitle(){return this.$i18n("selector.property.title")}getBody(){return"<div class='elf--selector-list' ref='$selectorList'></div>"}getTools(){return`
      <div style='display:inline-block;'>
        ${E("SelectEditor",{ref:"$select",key:"selector","none-value":"selector",options:GR})}
      </div>
      <button type="button" ref="$add" title="add Selector">${ae.add}</button>
    `}makeSelectorTemplate(t,r){return r=r.toString(),`
      <div class='selector-item' draggable='true' ref='$selectorIndex${r}' data-index='${r}'>
        <div class='title'>
          <div class='name'>
            <span>${t.selector||`&lt;${this.$i18n("selector.property.none")}&gt;`}</span>
          </div>
          <div class='tools'>
              <button type="button" class="del" data-index="${r}">${ae.remove2}</button>
          </div>
        </div>
      </div>
    `}[F("$selectorList .selector-item .name")](t){var r=+t.$dt.closest("selector-item").attr("data-index"),i=this.$selection.current;!i||this.viewSelectorPicker(r)}[F("$selectorList .selector-item .del")+Pe+Jt](t){var r=t.$dt.attr("data-index"),i=this.$selection.current;!i||(i.removeSelector(r),this.emit("refreshElement",i),this.refresh())}[I("refreshSelection")+Xe(100)](){this.refreshShowIsNot(["project","svg-path","svg-brush","svg-textpath","svg-text"])}[U("$selectorList")](){var t=this.$selection.current;if(!t)return"";var r=t.selector?Xn.parseStyle(t):t.selectors;return t.selector="",t.selectors=r,(r||[]).map((i,s)=>this.makeSelectorTemplate(i,s))}[yr("$selectorList .selector-item .title")](t){this.startIndex=+t.$dt.attr("data-index")}[Pr("$selectorList .selector-item")+Pe](t){}[wr("$selectorList .selector-item")+Pe](t){var r=+t.$dt.attr("data-index"),i=this.$selection.current;!i||(i.sortSelector(this.startIndex,r),this.emit("refreshElement",i),this.refresh())}[F("$add")](){var t=this.$selection.current;t&&(t.createSelector({selector:this.children.$select.getValue()}),this.emit("refreshElement",t)),this.refresh()}viewSelectorPicker(t){typeof this.selectedIndex=="number"&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t,this.selectItem(this.selectedIndex,!0),this.current=this.$selection.current,!!this.current&&(this.currentSelector=this.current.selectors[this.selectedIndex],this.viewSelectorPropertyPopup())}selectItem(t,r=!0){r?this.getRef("$selectorIndex",t).addClass("selected"):this.getRef("$selectorIndex",t).removeClass("selected"),this.current&&this.current.selectors.forEach((i,s)=>{i.selected=s===t})}viewSelectorPropertyPopup(t){if(this.current=this.$selection.current,!this.current)return;this.currentSelector=this.current.selectors[this.selectedIndex];const r=this.currentSelector,i=r.selector,s=r.properties;this.emit("showSelectorPopup",{position:t,selector:i,properties:s})}[I("changeSelectorPopup")](t){this.current=this.$selection.current,!!this.current&&(this.currentselector=this.current.selectors[this.selectedIndex],this.currentSelector&&this.currentSelector.reset(t),this.refresh(),this.emit("refreshElement",this.current))}}function UR(a){a.registerUI("inspector.tab.transition",{SelectorProperty:HR}),a.registerUI("popup",{SelectorPopup:NR})}var LO="";class XR extends De{getTitle(){return this.$i18n("svgfilter.asset.property.title")}initState(){return{mode:"grid"}}getClassName(){return"elf--svgfilter-assets-property"}[I("refreshSelection")+Xe(100)](){this.show()}getBody(){return`
      <div class='property-item svgfilter-assets'>
        <div class='svgfilter-list' ref='$svgfilterList' data-view-mode='${this.state.mode}'></div>
      </div>
    `}[U("$svgfilterList")](){var t=this.$selection.currentProject||{svgfilters:[]},r=t.svgfilters,i=r.map((s,n)=>{var o=s.filters.map(l=>an.parse(l));return`
        <div class='svgfilter-item' data-index="${n}">
          <div class='preview' data-index="${n}">
            <svg width="0" height="0">
              <filter id="svgfilter-${n}">
                ${o.join("")} 
              </filter>
            </svg>
            <div class='svgfilter-view' style='filter: url(#svgfilter-${n});'></div>
          </div>
          <div class='title'>
            <div>
              <input type='text' class='id' data-key='id' value='${s.id}' placeholder="id" />
            </div>
          </div>
          <div class='tools'>
            <button type="button" class='copy'>${ae.copy}</button>          
            <button type="button" class='remove'>${ae.remove}</button>
          </div>
        </div>
      `});return i.push(`<div class='add-svgfilter-item'><button type="button">${ae.add}</button></div>`),i}executeSVGFilter(t,r=!0,i=!0){var s=this.$selection.currentProject;s?(t&&t(s),r&&this.refresh(),i&&this.emit("refreshSVGFilterAssets")):alert("Please select a project.")}[F("$svgfilterList .add-svgfilter-item")](){this.executeSVGFilter(t=>{t.createSVGFilter({id:tr(),filters:[]})})}[F("$svgfilterList .remove")](t){var r=t.$dt.closest("svgfilter-item"),i=+r.attr("data-index");this.executeSVGFilter(s=>{s.removeSVGFilter(i)})}[F("$svgfilterList .copy")](t){var r=t.$dt.closest("svgfilter-item"),i=+r.attr("data-index");this.executeSVGFilter(s=>{s.copySVGFilter(i)})}[ot("$svgfilterList input")](t){var r=t.$dt.closest("svgfilter-item"),i=+r.attr("data-index"),s=t.$dt.attrKeyValue("data-key");this.executeSVGFilter(n=>{n.setSVGFilterValue(i,s),this.emit("refreshSVGArea")},!1)}[F("$svgfilterList .preview")](t){var r=t.$dt.closest("svgfilter-item"),i=+r.attr("data-index");this.state.$item=r,this.state.$el=t.$dt.$(".svgfilter-view");var s=this.$selection.currentProject||{svgfilters:[]},n=s.svgfilters[i];this.emit("showSVGFilterPopup",{changeEvent:"changeSVGFilterAssets",id:this.id,index:i,filters:n.filters})}[I("updateSVGFilterAssets")](t){this.executeSVGFilter(r=>{r.setSVGFilterValue(t.index,{filters:t.filters}),this.state.$item.$("filter").html(t.filters.join(`
`)),this.emit("refreshSVGArea")},!1)}[I("changeSVGFilterAssets")](t){t.id===this.id&&this.trigger("updateSVGFilterAssets",t)}[I("refreshSVGFilterAssets")](){this.refresh()}}function YR(a){a.registerElement({SVGFilterAssetsProperty:XR})}var WR=`
1   0   0   0   0
0   0   0   0   0
0   0   0   0   0
0   0   0   1   0
`,KR=`
0   0   0   0   0
0   1   0   0   0
0   0   0   0   0
0   0   0   1   0 
`,ZR=`
0   0   0   0   0
0   0   0   0   0
0   0   1   0   0
0   0   0   1   0 
`,qR=`
1   0   0   0   0
0   1   0   0   0
0   0   0   0   0
0   0   0   1   0 
`,QR=`
1   0   0   0   0
0   0   0   0   0
0   0   1   0   0
0   0   0   1   0 
`,JR=`
0   0   0   0   0
0   1   0   0   0
0   0   1   0   0
0   0   0   1   0 
`,ez=`
1   0   0   0   0
0   1   0   0   0
0   0   1   0   0
0   0   0   .5  0 
`,tz=`
1   0   0   0   0
0   0   0   0   0
0   0   1  .5   0
0   0   0   1   0 
`,rz=`
1   0   0   0   0
0   0   0   0   0
0   0   1   1   0
0   0   0   1   0 
`,iz=`
.5   0   0   0   0
0  .5   0   0   0
0   0  .5   0   0
0   0   0   1   0 
`,sz=`
1   0   0   0   0
0   1   0   0   0
0   0   1   0   0
0   0   -2   1   0 
`,az=`
0   0   1   0   0
0   0   1   0   0
0   0   1   0   0
0   0   0   1   0  
`,nz=`
1   0   0   0   0
1   0   0   0   0
1   0   0   0   0
0   0   0   1   0 
`,oz=`
0   1   0   0   0
0   1   0   0   0
0   1   0   0   0
0   0   0   1   0 
`,lz=`
1   0   0   0   0
0   1   0   1   0
0   0   1   0   0
0   0   0   1   0 
`,cz=`
1   0   0   1   0
0   1   0   1   0
0   0   1   0   0
0   0   0   1   0 
`,hz=`
1   0   0   0   0
0   0   0   0   0
0   0   0   0   0
0   0   0   1   0 
`,dz=`
1.5   0   0   0   0
0   1.5   0   0   0
0   0   1.5   0   0
0   0   0   1   0 
`,uz=`
1   0   0   0   0
0   2   0   0   0
0   0   0  .5   0
0   0   0   1   0 
`,pz=`
1   1   0   0   0
0   0   0   0   0
0   1   1   0   0
0   0   0   1   0 
`,gz=`
1   1   0   0   0
0   0   0   0   0
0   0   1   0   0
0   0   0   1   0 
`,fz=`
1   0   0   0   0
0  .5   0   0   0
0   0   0  .5   0
0   0   0   1   0 
`,mz=`
1   0   0   0   0
0   0   0   0   0
0   0   1  -1   0
0   0   0   1   0 
`,vz=`
1   1   0   0   0
0   1   0   0   0
0   1   1   0   0
0   0   0   1   0 
`,Eu={red:WR,green:KR,blue:ZR,yellow:qR,magenta:QR,cyan:JR,alpha:ez,BlueMagenta2:tz,BlueShadowMagentHightlight:rz,darken:iz,ElimBlue:sz,GrayOnDark:az,GrayOnLight:nz,GrayOnMid:oz,HardGreen:lz,HardYellow:cz,IdenticalRedOverlay:hz,lighten:dz,lime:uz,NoGreenMagenta:pz,NoGreenRed:gz,peachy:fz,RedOverlay:mz,YesGreenColorizedMagenta:vz},VO="";const Xl=6,Lu=Object.keys(Eu).map(a=>({title:a,values:Eu[a]}));class yz extends K{initState(){return{values:zo(this.props.values)}}template(){return`
            <div class='elf--color-matrix-editor' >
                <div ref='$body'></div>
                <div class='title'> Mix Color Template </div>
                <div class='color-matrix-template' ref='$sample'></div>
            </div>
        `}[se("$body")](){return{cssText:`
                display: grid;
                grid-template-columns: repeat(${Xl}, 1fr);
                grid-column-gap: 2px;
                grid-row-gap: 2px;
                text-align: left; 
            `}}[U("$sample")](){return Lu.map((t,r)=>`<div class='sample-item' title='${t.title}' data-index="${r}">${t.title}</div>`)}[F("$sample .sample-item")](t){var r=+t.$dt.attr("data-index"),i=Lu[r];this.updateData({values:zo(i.values)}),this.load("$body")}[U("$body")](){var{values:t}=this.state,r=["R","G","B","A"],i=t.map((n,o)=>{var l="";o%(Xl-1)==0&&(l=`<div>${r[Math.floor(o/(Xl-1))]}</div>`);var c=`
                ${l}
                <div class='number-editor'>
                    <input type="number" value="${n}" step="0.01" data-index="${o}" />
                </div>
            `;return c}),s=`
            <div></div>
            <div>R</div>
            <div>G</div>
            <div>B</div>
            <div>A</div>
            <div>M</div>
        `;return s+i}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.values,this.props.params)}[ot("$body input")](t){var r=t.$dt,i=+r.attr("data-index"),s=+r.value;this.state.values[i]=s,this.updateData()}}var RO="";class bz extends K{initState(){return v({label:this.props.label||""},this.parse(this.props.value))}parse(t){var[r,...i]=t.split(" ");if(r==="linear")var[s,n]=i;else if(r==="gamma")var[o,l,c]=i;return{type:r,values:i,slop:s,intercept:n,amplitude:o,exponent:l,offset:c}}template(){return"<div class='small-editor func-filter' ref='$body'></div>"}[U("$body")](){var{type:t,label:r}=this.state,i=r?"has-label":"";return`
            ${E("SelectEditor",{label:r,ref:"$type",key:"type",value:this.state.type,options:["identity","table","discrete","linear","gamma"],onchange:"changeType"})}
        <div class='elf--func-filter-editor ${i}' ref='$container' data-selected-type='${t}'>
            ${r?"<label></label>":""}
            <div data-type='identity'>
            </div>
            <div data-type='table'>
                ${E("TextEditor",{label:"tableValues",ref:"$values",key:"values",value:this.state.values.join(" "),onchange:(s,n)=>{this.updateData({[s]:n.split(" ")})}})}
            </div>
            <div data-type='linear'>
                ${["slop","intercept"].map(s=>`
                        <div>
                            ${E("NumberRangeEditor",{label:s,ref:`$${s}`,key:s,value:this.state[s],onchange:(n,o)=>{this.updateData({[n]:o})}})}
                        </div>                    
                    `).join("")}
            </div>
            <div data-type='gamma'>
                ${["amplitude","exponent","offset"].map(s=>`
                        <div>
                            ${E("NumberRangeEditor",{label:s,ref:`$${s}`,key:s,value:this.state[s],onchange:(n,o)=>{this.updateData({[n]:o})}})}
                        </div>                    
                    `).join("")}            
            </div>                                                
        </div>
    `}[I("changeType")](t,r){this.updateData({type:r}),this.refresh()}getValue(){switch(this.state.type){case"table":case"discrete":return[this.state.type,...this.state.values].join(" ");case"linear":return[this.state.type,this.state.slop,this.state.intercept].join(" ");case"gamma":return[this.state.type,this.state.amplitude,this.state.exponent,this.state.offset].join(" ")}return"identity"}setValue(t){this.setState(v({},this.parse(t)))}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}var $z=[{type:"Saturate",values:"0"}],xz=[{type:"SourceAlpha",id:"shadowSource",bound:{x:100,y:100},connected:[{id:"offset"}]},{type:"Offset",id:"offset",bound:{x:200,y:100},dx:10,dy:10,in:[{id:"shadowSource"}],connected:[{id:"blur"}]},{type:"GaussianBlur",id:"blur",bound:{x:300,y:100},stdDeviationX:5,stdDeviationY:5,in:[{id:"offset"}],connected:[{id:"composite"}]},{type:"Flood",id:"flood",bound:{x:100,y:200},color:"black",opacity:.7,connected:[{id:"composite"}]},{type:"Composite",id:"composite",bound:{x:400,y:150},in:[{id:"flood"},{id:"blur"}],operator:"in",connected:[{id:"merge"}]},{type:"SourceAlpha",id:"shadowSource2",bound:{x:400,y:200},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:500,y:150},in:[{id:"composite"},{id:"shadowSource2"}]}],_z=[{type:"Flood",id:"flood",bound:{x:100,y:200},color:"black",opacity:1,connected:[{id:"composite1"}]},{type:"SourceAlpha",id:"shadowSource",bound:{x:100,y:100},connected:[{id:"composite1"}]},{type:"Composite",id:"composite1",bound:{x:200,y:150},in:[{id:"flood"},{id:"shadowSource"}],operator:"out",connected:[{id:"offset"}]},{type:"Offset",id:"offset",bound:{x:300,y:150},dx:4,dy:4,in:[{id:"composite1"}],connected:[{id:"blur"}]},{type:"GaussianBlur",id:"blur",bound:{x:400,y:150},stdDeviationX:4,stdDeviationY:4,edge:"none",in:[{id:"offset"}],connected:[{id:"composite2"}]},{type:"SourceAlpha",id:"shadowSource2",bound:{x:400,y:250},connected:[{id:"composite2"}]},{type:"Composite",id:"composite2",bound:{x:500,y:150},in:[{id:"blur"},{id:"shadowSource2"}],operator:"out",connected:[{id:"merge"}]},{type:"SourceGraphic",id:"shadowSource3",bound:{x:500,y:250},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:600,y:150},in:[{id:"composite2"},{id:"shadowSource3"}]}],Sz=[{type:"SourceAlpha",id:"strokeSource",bound:{x:100,y:100},connected:[{id:"morphology"}]},{type:"Morphology",id:"morphology",operator:"dilate",radius:"3 3",bound:{x:100,y:200},in:[{id:"strokeSource"}],connected:[{id:"composite"}]},{type:"Flood",id:"flood",bound:{x:100,y:200},color:"#30597E",opacity:1,connected:[{id:"composite"}]},{type:"Composite",id:"composite",bound:{x:400,y:150},in:[{id:"flood"},{id:"morphology"}],operator:"in",connected:[{id:"merge"}]},{type:"SourceGraphic",id:"strokeSourceGraphic",bound:{x:400,y:200},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:500,y:150},in:[{id:"composite"},{id:"strokeSourceGraphic"}]}],wz=[{type:"SourceAlpha",id:"strokeSource",bound:{x:100,y:100},connected:[{id:"morphology"}]},{type:"Morphology",id:"morphology",operator:"dilate",radius:"3 3",bound:{x:100,y:200},in:[{id:"strokeSource"}],connected:[{id:"composite"}]},{type:"Flood",id:"flood",bound:{x:100,y:200},color:"#30597E",opacity:1,connected:[{id:"composite"}]},{type:"Composite",id:"composite",bound:{x:400,y:150},in:[{id:"flood"},{id:"morphology"}],operator:"in",connected:[{id:"composite2"}]},{type:"SourceAlpha",id:"strokeSourceAlpha2",bound:{x:400,y:200},connected:[{id:"composite2"}]},{type:"Composite",id:"composite2",bound:{x:400,y:150},in:[{id:"composite"},{id:"strokeSourceAlpha2"}],operator:"out",connected:[{id:"displacementMap"}]},{type:"Turbulence",id:"turbulence",filterType:"fractalNoise",baseFrequency:"0.01 0.02",numOctaves:1,seed:0,stitchTiles:"stitch",bound:{x:400,y:200},connected:[{id:"displacementMap"}]},{type:"DisplacementMap",id:"displacementMap",scale:17,xChannelSelector:"A",yChannelSelector:"A",bound:{x:400,y:200},in:[{id:"composite2"},{id:"turbulence"}],connected:[{id:"merge"}]},{type:"SourceGraphic",id:"strokeSourceGraphic",bound:{x:400,y:200},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:500,y:150},in:[{id:"strokeSourceGraphic"},{id:"displacementMap"}]}],Pz={dancingStroke:wz,stroke:Sz,grayscale:$z,shadow:xz,innerShadow:_z},zO="";const Cz=[{label:"GRAPHIC REFERENCES",items:[{label:"Source Graphic",value:"SourceGraphic"},{label:"Source Alpha",value:"SourceAlpha"},{label:"Background Image",value:"BackgroundImage"},{label:"Background Alpha",value:"BackgroundAlpha"},{label:"Fill Paint",value:"FillPaint"},{label:"Stroke Paint",value:"StrokePaint"}]},{label:"SOURCES",items:[{label:"Flood",value:"Flood"},{label:"Turbulence",value:"Turbulence"},{label:"Image",value:"Image"}]},{label:"MODIFIER",items:[{label:"Color Matrix",value:"ColorMatrix"},{label:"Saturate",value:"Saturate"},{label:"HueRotate",value:"HueRotate"},{label:"LuminanceToAlpha",value:"LuminanceAlpha"},{label:"Drop Shadow",value:"DropShadow"},{label:"Morphology",value:"Morphology"},{label:"Convolve Matrix",value:"ConvolveMatrix"},{label:"Offset",value:"Offset"},{label:"Gaussian Blur",value:"GaussianBlur"},{label:"Tile",value:"Tile"}]},{label:"LIGHTING",items:[{label:"Specular Lighting",value:"SpecularLighting"},{label:"Diffuse Lighting",value:"DiffuseLighting"},{label:"Point Light",value:"PointLight"},{label:"Spot Light",value:"SpotLight"},{label:"Distant Light",value:"DistantLight"}]},{label:"COMBINERS",items:[{label:"Blend",value:"Blend"},{label:"Composite",value:"Composite"},{label:"Merge",value:"Merge"},{label:"DisplacementMap",value:"DisplacementMap"}]}],kz=[{label:"Template",items:[{label:"Grayscale",value:"grayscale"},{label:"Shadow",value:"shadow"},{label:"Inner Shadow",value:"innerShadow"},{label:"Stroke",value:"stroke"},{label:"Dancing Stroke",value:"dancingStroke"}]}];function Vu(a){switch(a){case"SpecularLighting":return O("specular");case"DiffuseLighting":return O("diffuse");case"SourceGraphic":case"SourceAlpha":return O("image");case"BackgroundImage":case"BackgroundAlpha":return O("outline_image");case"Flood":return O("palette");case"Image":return O("landscape");case"GaussianBlur":return O("blur");case"ColorMatrix":return O("blur_linear");case"Turbulence":return O("waves");case"Saturate":return O("vintage");case"HueRotate":return O("looks");case"LuminanceAlpha":return O("opacity");case"DropShadow":return O("shadow");case"Morphology":return O("broken_image");case"ConvolveMatrix":return O("camera_roll");case"Offset":return O("transform");case"Tile":return O("view_comfy");case"Blend":return O("gradient");case"Composite":return O("merge");case"Merge":return O("settings_input_component");case"DisplacementMap":return O("texture")}return""}function Ru(a){switch(a){case"SourceGraphic":case"SourceAlpha":case"BackgroundImage":case"BackgroundAlpha":case"FillPaint":case"StrokePaint":return"graphic";case"Flood":case"Turbulence":case"Image":return"source";case"GaussianBlur":case"ColorMatrix":case"Saturate":case"HueRotate":case"LuminanceAlpha":case"DropShadow":case"Morphology":case"ConvolveMatrix":case"Offset":case"Tile":return"modifier";case"SpecularLighting":case"DiffuseLighting":case"SpotLight":case"PointLight":case"DistantLight":return"lighting";case"Blend":case"Composite":case"Merge":case"DisplacementMap":return"combiner"}return""}const Tz=40,zu=20,Mz={"1":[Tz+5]},Iz={"1":[zu]},Ez={"1":[-7],"2":[-7],"3":[-7],"4":[-7],"5":[-7]};let to={"1":[0],"2":[-7,7],"3":[-14,0,14],"4":[-21,-7,7,21],"5":[-28,-14,0,14,28]};Object.keys(to).forEach(a=>{to[a]=to[a].map(t=>t+zu)});class Lz extends K{makeFilterSelect(){return`
  
    <div class='filter-item-list' ref="$filterSelect">
  
      ${_a(Cz,t=>`
          <div class='group' label="${this.$i18n(t.label)}">
            ${_a(t.items,r=>`
                <div class='item' draggable="true" value="${r.value}">
                  <span class='icon'>${Vu(r.value)}</span>
                  ${this.$i18n(r.label)}
                </div>
                `)}
          </div>
        `)}
    </div>
    `}makeFilterTemplateSelect(){return`
  
    <div class='filter-item-list' ref="$filterTemplateSelect">
  
      ${_a(kz,t=>`
          <div class='group' label="${this.$i18n(t.label)}">
            ${_a(t.items,r=>` <div class='item' draggable="true" value="${r.value}">${this.$i18n(r.label)}</div>`)}
          </div>
        `)}
    </div>
    `}initState(){var t=this.parseFilter(this.props.value||[]);return{filters:t,selectedTabIndex:1,selectedIndex:-1,selectedFilter:null}}template(){return`
      <div class='elf--svg-filter-editor filter-list'>
        <div class='left'>
          <div class="tab number-tab" ref="$tab">
            <div class="tab-header full" ref="$header">
              <div class="tab-item selected" data-value="1" title='Item'>
                <label class='icon'>${this.$i18n("svg.filter.editor.tab.filter")}</label>
              </div>
              <div class="tab-item" data-value="2" title="Preset">
                <label class='icon'>${this.$i18n("svg.filter.editor.tab.preset")}</label>
              </div>
              <div class="tab-item" data-value="3" title="Asset">
                <label class='icon'>${this.$i18n("svg.filter.editor.tab.asset")}</label>
              </div>
            </div>
            <div class="tab-body">
              <div class="tab-content scrollbar selected" data-value="1">
                ${this.makeFilterSelect()}
              </div>
              <div class="tab-content  scrollbar" data-value="2">
                ${this.makeFilterTemplateSelect()}
              </div>
                     
            </div>
          </div>
        </div>
        <div  class='center'>
          <div class='graph'>
            <div class='drag-line-panel' ref='$dragLinePanel'></div>          
            <div class='connected-line-panel' ref='$connectedLinePanel'></div>
            <div class='graph-panel' ref='$graphPanel' droppable="true"></div>
          </div>
        </div>
        <div class='right'>
          <div class='filter-list' ref='$filterList'></div>
        </div>
      </div>`}[F("$header .tab-item:not(.empty-item)")](t){var r=+t.$dt.attr("data-value");this.state.selectedTabIndex!==r&&(this.$el.$$(`[data-value="${this.state.selectedTabIndex}"]`).forEach(i=>i.removeClass("selected")),this.$el.$$(`[data-value="${r}"]`).forEach(i=>i.addClass("selected")),this.setState({selectedTabIndex:r},!1))}[yr("$filterSelect .item")](t){var r=t.$dt.attr("value");t.dataTransfer.setData("filter/type",r)}[Pr("$connectedLinePanel")+Pe](){}[wr("$connectedLinePanel")+Pe](t){var r={x:t.offsetX,y:t.offsetY},i=t.dataTransfer.getData("filter/type");this.makeFilterNode(i,{bound:r})}makeFilterNode(t,r={}){this.state.filters.push(this.makeFilter(t,r)),this.state.selectedIndex=this.state.filters.length-1,this.state.selectedFilter=this.state.filters[this.state.selectedIndex],this.refresh(),this.modifyFilter()}applyTemplate(t){var r=Pz[t];r&&(this.setState({selectedIndex:-1,selectedFilter:null,filters:this.parseFilter(r)},!1),this.refresh(),this.modifyFilter())}getSpec(t){return z9[t]}makeFilterEditorTemplate(t,r,i){var s=`${r.type}${i}${this.state.selectedIndex}${Date.now()}`;if(t.inputType==="color-matrix")return E("ColorMatrixEditor",{ref:`$colorMatrix${s}`,label:t.title,key:i,column:t.column,values:r[i].join(" "),onchange:"changeRangeEditor"});if(t.inputType==="input-array")return E("InputArrayEditor",{ref:`$inputArray${s}`,label:t.title,key:i,"column-label":"R,G,B,A,M","row-label":"R,G,B,A",column:t.column,values:r[i].join(" "),onchange:"changeRangeEditor"});if(t.inputType==="blend")return E("BlendSelectEditor",{ref:`$blend${s}`,label:t.title,key:i,value:r[i].toString(),onchange:"changeRangeEditor"});if(t.inputType==="select"){var n=t.options;return ye(t.options)&&(n=t.options(this.state.filters)),E("SelectEditor",{ref:`$select${s}`,label:t.title,options:n,key:i,value:r[i].toString(),onchange:"changeRangeEditor"})}else{if(t.inputType==="text")return E("TextEditor",{ref:`$text${s}`,label:t.title,key:i,value:r[i].toString(),onchange:"changeTextEditor"});if(t.inputType==="number-range")return E("NumberRangeEditor",{ref:`$numberrange${s}`,label:t.title,layout:"block",min:t.min,max:t.max,step:t.step,key:i,value:r[i].toString(),onchange:"changeRangeEditor"});if(t.inputType==="color")return E("ColorViewEditor",{ref:`$colorview${s}`,label:t.title,key:i,value:r[i].toString(),onchange:"changeRangeEditor"});if(t.inputType==="FuncFilter")return E("FuncFilterEditor",{ref:`$funcFilter${s}`,label:t.title,key:i,value:r[i].toString(),onchange:"changeFuncFilterEditor"});if(t.inputType==="ImageSelectEditor")return E("ImageSelectEditor",{ref:`$imageSelect${s}`,label:t.title,key:i,value:r[i].toString(),onchange:"changeRangeEditor"})}return E("RangeEditor",{ref:`$range${s}`,layout:"block",label:t.title,min:t.min,max:t.max,step:t.step,key:i,value:r[i].toString(),units:t.units,onchange:"changeRangeEditor"})}makeOneFilterTemplate(t,r){return`
    <div class="filter-item">
      <div class="title">
        <label>${r.type}</label>
        <div class="filter-menu">
          <button type="button" class="del">${O("remove")}</button>
        </div>
      </div>
      <div class="filter-ui">
        ${Pp(t,(i,s)=>this.makeFilterEditorTemplate(s,r,i))}

      </div>
    </div>
  `}makeFilterTemplate(t){return this.makeOneFilterTemplate(this.getSpec(t.type),t)}[U("$filterList")](){return this.state.selectedFilter&&this.state.selectedFilter.isSource()===!1?this.makeFilterTemplate(this.state.selectedFilter):""}modifyFilter(){this.state.filters.forEach(t=>{t.isLight()&&t.connected.length&&t.connected.forEach(r=>{this.state.filters.filter(i=>i.id===r.id).forEach(i=>{i.reset({lightInfo:t.toLightString()})})})}),this.parent.trigger(this.props.onchange,this.props.key,this.state.filters)}parseFilter(t=[]){return t.map(r=>an.parse(r))}makeFilter(t,r={}){return an.parse(le(v({},r),{type:t}))}[F("$filterSelect .item[value]")](t){var r=t.$dt.attr("value");this.makeFilterNode(r)}[F("$filterTemplateSelect .item[value]")](t){var r=t.$dt.attr("value");this.applyTemplate(r)}[F("$filterList .filter-menu .del")](t){this.removeFilter(this.state.selectedFilter.id)}[U("$graphPanel")](){return this.makeGraphPanel()}selectFilter(t){this.setState({selectedIndex:t,selectedFilter:this.state.filters[t]},!1),this.load("$filterList")}[xe("$graphPanel .filter-node")+Ve()+ze()](t){this.$target=t.$dt,this.$point=null,this.pointType="object",this.pointIndex=0;var r=this.refs.$graphPanel.rect();this.rect=r;var i=+this.$target.attr("data-index");this.selectFilter(i),this.$target.onlyOneClass("selected");var s=be.create(t.target);if(s.hasClass("out"))this.$point=s,this.pointType="out",this.pointIndex=0;else if(s.hasClass("in"))this.$point=s,this.pointType="in",this.pointIndex=+s.attr("data-index");else{var n=this.state.selectedFilter;this.startXY=ve(n.bound)}if(this.pointType==="in"||this.pointType==="out"){var o=s.rect(),l=o.x-r.x,c=o.y-r.y,h=l+o.width/2,d=c+o.height/2;this.startXY={x:h,y:d}}this.startXY.dx=0,this.startXY.dy=0,this.load("$dragLinePanel")}[U("$dragLinePanel")](){if(this.pointType==="in"||this.pointType==="out"){var{x:t,y:r,dx:i,dy:s}=this.startXY;return`
      <svg>
        <path 
          class="drag-line"
          fill="transparent"
          stroke-width="1"
          d="
            M${t},${r}
            L${t+i},${r+s} 
            Z
          "
        />
      </svg>
      `}else return""}makeConnectedPath(t){var r=new Rt,i=t[0],s=t[t.length-1];if(!i||!s)return"";var n=Math.abs(i.x-s.x)/2;return r.M(i).C({x:i.x+n,y:i.y},{x:s.x-n,y:s.y},s),r.d}createPath(t,r){if(r.path)return r.path;var i=t.bound.x+Mz["1"][0],s=t.bound.y+Iz["1"][0],n=this.state.filters.map((p,u)=>({it:p,index:u})).find(p=>!p||!p.it?!1:p&&p.it.id===r.id),o=`${n.it.getInCount()}`,l=n.it.in.map((p,u)=>({it:p,index:u})).find(p=>!p||!p.it?!1:p.it.id===t.id);if(!l)return[];var c=l.index,h=n.it.bound.x+Ez[o][0],d=n.it.bound.y+to[o][c];return[{x:i,y:s},{x:h,y:d}]}[U("$connectedLinePanel")](){return`
      <svg>
        ${this.state.filters.map(t=>t.connected.map(r=>{var i=this.createPath(t,r),s=Ru(t.type);return`
              <path 
                class="connected-line"
                data-source-type="${s}"
                d="${this.makeConnectedPath(i)}"
              />

              ${i.length&&`
                <circle 
                  data-source-type="${s}"
                  data-target-id="${r.id}"
                  data-source-id="${t.id}"
                  class="connected-remove-circle"
                  cx="${(i[0].x+i[1].x)/2}"
                  cy="${(i[0].y+i[1].y)/2}"
                />
              `}
              
            `}).join("")).join("")}
      </svg>
    `}[F("$connectedLinePanel .connected-remove-circle")](t){var[r,i]=t.$dt.attrs("data-target-id","data-source-id"),s=this.state.filters;s.filter(n=>n.id===i).forEach(n=>{n.connected=n.connected.filter(o=>o.id!=r)}),s.filter(n=>n.id===r).forEach(n=>{n.in=n.in.map(o=>o&&o.id==i?null:o)}),this.refresh(),this.modifyFilter()}getCenterXY(t){var r=t.rect(),i=r.x-this.rect.x,s=r.y-this.rect.y,n=i+r.width/2,o=s+r.height/2;return{x:n,y:o}}end(t,r){if(this.pointType==="in"||this.pointType==="out"){this.startXY.dx=t,this.startXY.dy=r;var i=this.state.selectedFilter,s=this.$config.get("bodyEvent"),n=be.create(s.target),o=n.closest("filter-node");if(this.pointType==="out"){if(n.hasClass("in")){var l=this.state.filters[+o.attr("data-index")];if(l&&!(!l.hasLight()&&i.isLight())){var c=+n.attr("data-index");l.in[c]||(l.setIn(c,i),i.setConnected(l))}}}else if(this.pointType==="in"&&n.hasClass("out")){var l=this.state.filters[+o.attr("data-index")];l&&(i.hasLight()&&!l.isLight()||i.in[this.pointIndex]||(i.setIn(this.pointIndex,l),l.setConnected(i)))}this.pointType=""}this.load("$dragLinePanel"),this.load("$connectedLinePanel"),this.modifyFilter()}move(t,r){var i=this.state.selectedFilter;i&&(this.startXY.dx=t,this.startXY.dy=r,this.pointType==="in"?this.load("$dragLinePanel"):this.pointType==="out"?this.load("$dragLinePanel"):(i.reset({bound:{x:this.startXY.x+t,y:this.startXY.y+r}}),this.$target.css({left:i.bound.x,top:i.bound.y}),this.load("$connectedLinePanel")))}makeGraphPanel(){return this.state.filters.map((t,r)=>`
        <div class='filter-node ${r===this.state.selectedIndex?"selected":""}' data-type="${t.type}" data-index="${r}" data-filter-id="${t.id}" style='left: ${t.bound.x}px;top: ${t.bound.y}px;'>
          <div class='label'>${this.$i18n(t.type)}</div>
          <div class='remove'>${O("close")}</div>
          <div class='preview' data-source-type="${Ru(t.type)}" data-filter-type='${t.type}'>${Vu(t.type)}</div>
          <div class='in-list'>
            ${br(t.getInCount()).map((s,n)=>`<div class='in' data-index='${n}'></div>`).join("")}
          </div>
          
          <div class='out' data-index="0">${O("chevron_right")}</div>
          ${t.hasLight()?`<div class='light'  data-index="0"></div>`:""}
        </div>
      `)}[Q("changeFuncFilterEditor")](t,r){var i=this.state.selectedFilter;i&&i.reset({[t]:r}),this.modifyFilter()}[Q("changeRangeEditor")](t,r){var i=this.state.selectedFilter;i&&i.reset({[t]:r}),this.modifyFilter()}[Q("changeTextEditor")](t,r){var i=this.state.selectedFilter;i&&i.reset({[t]:r}),this.modifyFilter()}removeFilter(t){var r=this.state.filters.filter(i=>i.id!=t);r.forEach(i=>{i.connected=i.connected.filter(s=>s.id!=t),i.in=i.in.filter(s=>s.id!=t)}),this.state.selectedFilter.id===t&&(this.state.selectedFilter=null,this.state.selectedIndex=-1),this.setState({filters:r}),this.modifyFilter()}[F("$graphPanel .filter-node .remove")](t){var r=t.$dt.closest("filter-node"),i=+r.attr("data-index"),s=this.state.filters[i];this.removeFilter(s.id)}}var jO="";class Vz extends jr{getTitle(){return this.$i18n("svgfilter.popup.title")}getClassName(){return"transparent"}initState(){return{changeEvent:"changeSVGFilterPopup",id:"",preview:!0,filters:[]}}updateData(t){this.setState(t,!1),this.emit(this.state.changeEvent,this.state)}getBody(){return`
    <div class='elf--svg-filter-popup' ref='$popup'>
      <div class="box">
        <div class='editor' ref='$editor'></div>
      </div>
    </div>`}[U("$editor")](){return E("SVGFilterEditor",{ref:"$filter",title:"Filter Type",key:"filter",value:this.state.filters,onchange:(t,r)=>{this.updateData({filters:r})}})}[I("showSVGFilterPopup")](t){t.filters=t.filters.map(r=>an.parse(r)),t.preview=Re(t.preview)?t.preview:!0,this.setState(t),this.show(1e3)}[I("hideSVGFilterPopup")](){this.$el.hide()}}var AO="";class Rz extends K{initState(){var t=this.props.value;return{options:[],label:this.props.label||"",value:t}}template(){var{label:t}=this.state,r=t?"has-label":"";return`
            <div class='elf--svg-filter-select-editor ${r}'>
                ${t?`<label>${t}</label>`:""}
                <select ref='$options'></select>
                <button type='button' class='open thin' ref='$open' title='Open SVG Filter Editor'>${ae.fullscreen}</button>
                <button type='button' class='remove thin' ref='$remove' title='Remove'>${ae.remove}</button>
            </div>
        `}[F("$remove")](t){this.updateData({value:""})}[F("$open")](t){var r=this.state.value;if(r.includes("id")){var i=this.$selection.currentProject,s=i.getSVGFilterIndex(r);s>-1&&this.trigger("openSVGFilterPopup",s)}}getValue(){return this.state.value}setValue(t){this.setState({value:t})}refresh(t=!1){this.load()}[se("$options")](){return{"data-count":this.state.options.length.toString()}}[U("$options")](){var t=this.$selection.currentProject,r="";t&&(r=t.svgfilters.map(s=>s.id),r=r.length?","+r.join(","):""),r+=",-,new",r=r.split(",");var i=r.map(s=>{var n=s,o=s;if(n.includes(":"))var[n,o]=n.split(":");o===""?o=this.props["none-value"]?this.props["none-value"]:"":o==="-"&&(o="----------",n="");var l=n===this.state.value?"selected":"";return`<option ${l} value="${n}">${o}</option>`});return i}setOptions(t=""){this.setState({options:t.split(this.state.splitChar).map(r=>r.trim())})}sendMessage(t){t==="new"?this.emit("addStatusBarMessage",this.$i18n("svgfilter.select.editor.message.create")):t==="-"?this.emit("addStatusBarMessage",this.$i18n("svgfilter.select.editor.message.select")):this.emit("addStatusBarMessage","")}[Cr("$options")](){var t=this.refs.$options.value;t=="new"?this.emit("addSVGFilterAssetItem",(r,i)=>{this.updateData({value:i}),this.refresh(),this.trigger("openSVGFilterPopup",r)}):t==="-"||this.updateData({value:t})}updateData(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}[I("refreshSVGArea")+Xe(1e3)](){this.load("$options")}[I("openSVGFilterPopup")](t){this.emit("refreshSVGFilterAssets"),this.emit("refreshSVGArea");var r=this.$selection.currentProject||{svgfilters:[]},i=r.svgfilters[t];this.emit("showSVGFilterPopup",{changeEvent:"changeSVGFilterEditorRealUpdate",preview:!1,index:t,filters:i.filters})}[I("changeSVGFilterEditorRealUpdate")](t){var r=this.$selection.currentProject;r&&(r.setSVGFilterValue(t.index,{filters:t.filters}),this.emit("refreshSVGFilterAssets"),this.emit("refreshSVGArea"))}}function zz(a){a.registerElement({ColorMatrixEditor:yz,FuncFilterEditor:bz,SVGFilterSelectEditor:Rz,SVGFilterEditor:Lz}),a.registerUI("inspector.tab.style",{SVGItemProperty:Ua.create({title:a.$i18n("svg.item.property.title"),editableProperty:"svg-item",preventUpdate:!0})}),a.registerUI("popup",{SVGFilterPopup:Vz}),a.registerInspector("svg-item",t=>[{key:"edit",editor:"Button",editorOptions:{text:"Edit",action:["open.editor",t]}},{type:"column",size:[2,1],columns:[{type:"label",label:a.$i18n("svg.item.property.fill")},{key:"fill-rule",editor:"ToggleCheckBox",editorOptions:{toggleLabels:["join_full","join_right"],toggleValues:["nonzero","evenodd"]},defaultValue:t["fill-rule"]||"nonzero"}]},{type:"column",size:[2,1],columns:[{key:"fill",editor:"FillSingleEditor",editorOptions:{wide:!0},defaultValue:t.fill},{key:"fill-opacity",editor:"number-input",editorOptions:{compact:!0,label:"opacity",min:0,max:1,step:.01},defaultValue:t["fill-opacity"]}]},{type:"column",size:[2,1],columns:[{type:"label",label:a.$i18n("svg.item.property.stroke")}]},{type:"column",size:[2,1],columns:[{key:"stroke",editor:"fill-single",editorOptions:{wide:!0},defaultValue:t.stroke},{key:"stroke-width",editor:"number-input",editorOptions:{compact:!0,label:"line_weight"},defaultValue:t["stroke-width"]}]},{type:"column",size:[2,1],columns:[{key:"stroke-dasharray",editor:"StrokeDashArrayEditor",editorOptions:{label:a.$i18n("svg.item.property.dashArray")},defaultValue:t["stroke-dasharray"]||""},{key:"stroke-dashoffset",editor:"number-input",editorOptions:{compact:!0,label:"power_input",min:-1e3,max:1e3,step:1},defaultValue:t["stroke-dashoffset"]}]},{key:"stroke-linecap",editor:"ToggleCheckBox",editorOptions:{label:a.$i18n("svg.item.property.lineCap"),toggleLabels:["line_cap_butt","line_cap_round","line_cap_square"],toggleValues:[el.BUTT,Pa.ROUND,el.SQUARE]},defaultValue:t["stroke-linecap"]||el.BUTT},{key:"stroke-linejoin",editor:"ToggleCheckBox",editorOptions:{label:a.$i18n("svg.item.property.lineJoin"),toggleLabels:["line_join_miter","line_join_round","line_join_bevel"],toggleValues:[Pa.MITER,Pa.ROUND,Pa.BEVEL]},defaultValue:t["stroke-linejoin"]||Pa.MITER},{key:"mix-blend-mode",editor:"BlendSelectEditor",editorOptions:{label:a.$i18n("svg.item.property.blend")},defaultValue:t["mix-blend-mode"]}]),a.registerInspector("polygon",t=>[{key:"count",editor:"NumberInputEditor",editorOptions:{label:"Count",min:3,max:100,step:1},defaultValue:t.count},{key:"button",editor:"Button",editorOptions:{label:"Copy ",text:"as path",action:"copy.path"}},{key:"button2",editor:"Button",editorOptions:{label:"Test Popup",action:["showComponentPopup",{title:"Sample Test Popup",width:400,inspector:[{key:"test",editor:"Button",editorOptions:{label:"Test",text:"text",onClick:()=>{alert("yellow")}}}]}]}}]),a.registerInspector("spline",t=>[{key:"boundary",editor:"SelectIconEditor",editorOptions:{label:"Boundary",options:["clamped","open","closed"]}},{key:"button",editor:"Button",editorOptions:{label:"Copy ",text:"as path",action:"copy.path"}}]),a.registerInspector("star",t=>[{key:"isCurve",editor:"ToggleCheckBox",editorOptions:{label:"Curve",defaultValue:t.isCurve}},{key:"count",editor:"NumberInputEditor",editorOptions:{label:"Count",min:1,max:100,step:1,wide:"true"}},{key:"radius",editor:"NumberInputEditor",editorOptions:{label:"Inner Radius",min:-1,max:1,step:.01,wide:"true"}},{key:"tension",editor:"NumberInputEditor",editorOptions:{label:"Tension",min:0,max:1,step:.01,wide:"true"}},{key:"button",editor:"Button",editorOptions:{label:"Copy ",text:"as path",action:"copy.path"}}])}class jz extends De{getTitle(){return this.$i18n("svg.text.property.title")}[I("refreshSelection")](){this.refreshShow(["svg-textpath","svg-text","svg-tspan"])}refresh(){var t=this.$selection.current;t&&this.setAllValue(["lengthAdjust","textLength","startOffset","text-anchor","text"])}setAllValue(t=[]){var r=this.$selection.current;!r||t.forEach(i=>{this.children[`$${i}`].setValue(r[i])})}getBody(){return`
      <div class='property-item '>
        ${E("TextAreaEditor",{ref:"$text",label:this.$i18n("svg.text.property.textarea"),key:"text",onchange:"changeTextValue"})}
      </div>        
      <div class='property-item'>
        ${E("SelectIconEditor",{ref:"$text-anchor",label:this.$i18n("svg.text.property.anchor"),key:"text-anchor",options:["start","middle","end"],onchange:"changeTextValue"})}
          
      </div>            
      <div class='property-item '>
        ${E("SelectEditor",{ref:"$lengthAdjust",label:this.$i18n("svg.text.property.length.adjust"),key:"lengthAdjust",value:"spacing",options:["spacing","spacingAndGlyphs"],onchange:"changeTextValue"})}
          
      </div>        
      <div class='property-item '>
        ${E("RangeEditor",{ref:"$textLength",label:this.$i18n("svg.text.property.text.length"),key:"textLength",min:0,max:1e3,step:.1,onchange:"changeTextValue"})}
          
      </div>        
      <div class='property-item '>
        ${E("RangeEditor",{ref:"$startOffset",label:this.$i18n("svg.text.property.start.offset"),key:"startOffset",min:0,max:1e3,step:.1,onchange:"changeTextValue"})}
          
      </div>                    
    `}[Q("changeTextValue")](t,r){this.command("setAttributeForMulti",`change svg text property: ${t}`,this.$selection.packByValue({[t]:r}))}}function Az(a){a.registerUI("inspector.tab.style",{SVGTextProperty:jz})}function Oz(a){a.registerUI("inspector.tab.style",{TextProperty:Ua.create({title:a.$i18n("text.property.title"),editableProperty:"text-style",preventUpdate:!0})}),a.registerInspector("text-style",t=>[{type:"column",size:[2,1,1],columns:[{key:"text-align",editor:"SelectIconEditor",editorOptions:{compact:!0,options:["left","center","right","justify"],icons:["align_left","align_center","align_right","align_justify"]},defaultValue:t["text-align"]||"left"},"-",{key:"text-transform",editor:"SelectIconEditor",editorOptions:{options:[{value:rl.CAPITALIZE,text:"Ag"},{value:rl.UPPERCASE,text:"AG"},{value:rl.LOWERCASE,text:"ag"}],compact:!0,icons:["horizontal_rule"]}}]},{type:"column",size:[3,2,1],gap:20,columns:[{key:"text-decoration",editor:"SelectIconEditor",editorOptions:{options:[{value:tl.NONE,text:"None"},{value:tl.UNDERLINE,text:"Underline"},{value:tl.LINE_THROUGH,text:"LineThrough"}],icons:["horizontal_rule","underline","strikethrough"],onchange:"changeTextValue"},defaultValue:t["text-tranform"]},{key:"font-style",editor:"SelectIconEditor",editorOptions:{compact:!0,options:["normal","italic"],icons:["title","italic"]},defaultValue:t["font-style"]},{key:"text-clip",editor:"ToggleButton",editorOptions:{checkedValue:An.TEXT,toggleLabels:["vignette","vignette"],toggleTitles:["","Text Clip"],toggleValues:[An.NONE,An.TEXT]},defaultValue:t["text-clip"]||An.NONE}]}])}var ju=[{name:"Mystic",shadow:"20px 0px 10px rgb(0, 0, 0)"},{name:"Monoton",shadow:"0px -78px rgb(255, 196, 0)"},{name:"Radioactive",shadow:"-18px -18px 20px rgb(87, 255, 9);"},{name:"Bungee",shadow:"-18px 18px 0 rgb(66, 45, 45)"},{name:"Sprint",shadow:"-20px -108px 0px rgba(255, 255, 255, 0.445)"},{name:"Prickly",shadow:"-18px -18px 2px #777"},{name:"Codystar",shadow:"1px 1px 10px rgb(16, 72, 255), 1px 1px 10px rgb(0, 195, 255)"},{name:"Elegant",shadow:"-18px 8px 18px #b4bbbb"},{name:"Playful",shadow:`
        -2px -2px 0px #888,
        4px 4px 0px #888,
        7px 7px 0px #888
    `}],OO="";class Dz extends De{getTitle(){return this.$i18n("text.shadow.property.title")}getBody(){return`
      <div class="full text-shadow-item" ref="$shadowList"></div>
    `}getTools(){return`
      <select class='text-shadow-samples' ref="$select">
      ${ju.map((t,r)=>`
          <option value="${r}">${t.name}</option>
        `).join("")}
      </select>
      <button type="button" ref='$add'>${ae.add}</button>
    `}[F("$add")](){const t=+this.refs.$select.value;this.children.$textshadow.trigger("add",ju[t].shadow)}[U("$shadowList")](){var t=this.$selection.current||{};return E("TextShadowEditor",{ref:"$textshadow",key:"text-shadow",value:t["text-shadow"],onchange:(r,i)=>{this.command("setAttributeForMulti","change text shadow",this.$selection.packByValue({[r]:i}))}})}get editableProperty(){return"text-shadow"}[I("refreshSelection")+Se("checkShow")+Xe(100)](){this.refresh()}}function Fz(a){a.registerUI("inspector.tab.style",{TextShadowProperty:Dz})}const Bz=/((cubic-bezier|steps)\(([^\)]*)\))/gi;class Ht extends ir{static parse(t){return new Ht(t)}getDefaultObject(){return{name:"all",duration:g.second(0),timingFunction:"linear",delay:g.second(0)}}toCloneObject(){return{name:this.json.name,duration:this.json.duration+"",timingFunction:this.json.timingFunction,delay:this.json.delay+""}}toCSS(){return{transition:this.toString()}}toString(){var t=this.json;return[t.name,t.duration,t.timingFunction,t.delay].join(" ")}static join(t){return t.map(r=>new Ht(r).toString()).join(",")}static add(t,r={}){const i=Ht.parseStyle(t);return i.push(Ht.parse(r)),Ht.join(i)}static remove(t,r){return Ht.filter(t,(i,s)=>r!=s)}static filter(t,r){return Ht.join(Ht.parseStyle(t).filter(i=>r(i)))}static replace(t,r,i){var s=Ht.parseStyle(t);return s[r]?s[r]=i:s.push(i),Ht.join(s)}static get(t,r){var i=Ht.parseStyle(t);return i[r]}static parseStyle(t){var r=[];if(!t)return r;const i=Ad(t,Bz);return r=i.str.split(",").map(s=>{const n=s.split(" ").filter(Boolean);return n.length>=4?{name:n[0],duration:g.parse(n[1]),timingFunction:$l(n[2],i.matches),delay:g.parse(n[3])}:n.length>=3?{name:n[0],duration:g.parse(n[1]),delay:g.parse(n[2])}:n.length>=1?{name:n[0],duration:g.parse(n[1])}:{}}),r.map(s=>Ht.parse(s))}}var DO="";class Nz extends De{getTitle(){return this.$i18n("transition.property.title")}getBody(){return"<div class='elf--transition-list' ref='$transitionList'></div>"}getTools(){return`
        <button type="button" ref="$add" title="add Transition">${O("add")}</button>
    `}isFirstShow(){return!0}[U("$transitionList")+st](){var t=this.$selection.current;return t?Ht.parseStyle(t.transition).map((r,i)=>{const s=this.state.selectedIndex===i?"selected":"",n=Mi(r.timingFunction,30,30);return`
      <div class='transition-group-item'>
        <div class='transition-item ${s}' data-index='${i}' ref="transitionIndex${i}">
            <div class='timing preview' data-index='${i}' ref='$preview${i}'>
              <svg class='item-canvas' width="30" height="30" viewBox="0 0 30 30">
                <path d="${n}" stroke="white" stroke-width="1" fill='none' />
              </svg>
            </div>
            <div class='name'>
              <div class='labels'>
                <span class='property-name' title='Property'>${r.name}</span>
                <span class='duration' title='Duration'><small>Duration: ${r.duration}</small></span>
                <span class='delay' title='Delay'><small>Delay: ${r.delay}</small></span>
              </div>
            </div>
            <div class='tools'>
                <button type="button" class="del" data-index="${i}">
                  ${O("remove2")}
                </button>
            </div>
        </div>
      </div>        
      `}):""}[I("refreshSelection")](){this.refreshShowIsNot([])}[F("$add")](t){var r=this.$selection.current;r?(this.command("setAttributeForMulti","add transition",this.$selection.packByValue({transition:i=>Ht.add(i.transition)})),this.nextTick(()=>{setTimeout(()=>{this.refresh()},100)})):alert("Select a layer")}getCurrentTransition(){return this.current.transitions[this.selectedIndex]}[F("$transitionList .tools .del")](t){var r=t.$dt.attr("data-index"),i=this.$selection.current;!i||(i.reset({transition:Ht.remove(i.transition,r)}),this.emit("refreshElement",i),this.refresh())}selectItem(t,r=!0){r?this.refs[`transitionIndex${t}`].addClass("selected"):this.refs[`transitionIndex${t}`].removeClass("selected")}viewTransitionPicker(t){typeof this.selectedIndex=="number"&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t.attr("data-index"),this.current=this.$selection.current,!!this.current&&(this.currentTransition=Ht.get(this.current.transition,this.selectedIndex),this.viewTransitionPropertyPopup())}viewTransitionPropertyPopup(){if(!this.currentTransition)return;const t=this.currentTransition;this.emit("showTransitionPropertyPopup",{changeEvent:"changeTransitionPropertyPopup",data:t.toCloneObject(),instance:this})}[F("$transitionList .preview")](t){this.viewTransitionPicker(t.$dt)}getRef(...t){return this.refs[t.join("")]}[I("changeTransitionPropertyPopup")](t){this.currentTransition&&(this.currentTransition.reset(v({},t)),this.current&&(this.current.reset({transition:Ht.replace(this.current.transition,this.selectedIndex,this.currentTransition)}),this.emit("refreshElement",this.current),this.refresh()))}}var FO="";const Gz=["none","all","background-color","background-position","background-size","border","border-color","border-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-width","border-left","border-left-color","border-left-width","border-radius","border-right","border-right-color","border-right-width","border-spacing","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-width","bottom","box-shadow","color","filter","font-size","font-size-adjust","font-weight","height","left","letter-spacing","line-height","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","perspective","perspective-origin","right","text-decoration","text-decoration-color","text-indent","text-shadow","top","transform","vertical-align","visibility","width","word-spacing","z-index"].map(a=>({value:a,text:a}));class Hz extends jr{getTitle(){return"Transition"}initState(){return{changeEvent:"",instance:{},data:{timingFunction:"linear",duration:"0s",delay:"0s",name:"all"}}}updateData(t){this.state.data=v(v({},this.state.data),t),this.state.instance&&this.state.instance.trigger(this.state.changeEvent,this.state.data)}getBody(){return"<div class='elf--transition-property-popup' ref='$popup'></div>"}[U("$popup")](){return`
      <div class="box">
        ${this.templateForProperty()}
        ${this.templateForTimingFunction()}
        ${this.templateForDelay()}
        ${this.templateForDuration()}
      </div>
    `}templateForTimingFunction(){return`
    <div class='timing-function'>
      <label>Timing function</label>
      ${E("CubicBezierEditor",{ref:"$cubicBezierEditor",key:"timingFunction",value:this.state.data.timingFunction||"linear",onChange:"changeCubicBezier"})}
    </div>
    `}[Q("changeTransition")](t,r){this.updateData({[t]:r})}templateForProperty(){return`
      <div class='name'>
        ${E("SelectEditor",{ref:"$property",icon:!0,label:"Property",key:"name",value:this.state.data.name,options:Gz,onChange:"changeTransition"})}
      </div>
    `}templateForDelay(){return`
    <div class='delay'>
      ${E("RangeEditor",{ref:"$delay",label:"Delay",key:"delay",value:this.state.data.delay,units:["s","ms"],onChange:"changeRangeEditor"})}
    </div>
    `}templateForDuration(){return`
    <div class='duration'>
      ${E("RangeEditor",{ref:"$duration",label:"Duration",key:"duration",value:this.state.data.duration,units:["s","ms"],onChange:"changeRangeEditor"})}
    </div>
    `}[Q("changeRangeEditor")](t,r){this.updateData({[t]:r})}[Q("changeCubicBezier")](t,r){this.updateData({[t]:r})}[I("showTransitionPropertyPopup")](t){this.setState(t),this.show(250),this.children.$cubicBezierEditor.trigger("showCubicBezierEditor",t.data.timingFunction)}[I("hideTransitionPropertyPopup")](){this.$el.hide()}}function Uz(a){a.registerUI("inspector.tab.transition",{TransitionProperty:Nz}),a.registerUI("popup",{TransitionPropertyPopup:Hz})}var BO="";class Xz extends De{getClassName(){return"item elf--video-property"}getTitle(){return this.$i18n("video.property.title")}initState(){return{$video:{el:{}},status:"play",volume:1}}getBody(){return"<div ref='$body' style='padding-top: 3px;'></div>"}get video(){return this.state.$video.el}get volumeStatus(){return this.state.volume===0?"muted":this.state.volume>.5?"up":"down"}play(){this.video&&this.video.play()}pause(){this.video&&this.video.pause()}[U("$body")](){var t=this.$selection.current||{playTime:"0:1:1"},r=t.currentTime||0,i=(t.playTime||"0:1:1").split(":").pop();return`
        <div ref='$tools' class='play-control' data-selected-value="${this.state.status}">
          <button type="button" data-value="play" >${ae.play} ${this.$i18n("video.property.play")}</button>
          <button type="button" data-value="pause">${ae.pause}  ${this.$i18n("video.property.pause")}</button>      
          <div>
            ${E("NumberRangeEditor",{ref:"$currentTime",min:0,max:i,value:r,step:.001,onchange:"changeCurrentTime"})}
          </div>
        </div>    
        <div class='property-item animation-property-item has-label'>        
          <div class='group'>
            <span class='add-timeline-property' data-property='volume'></span>
            ${this.$i18n("video.property.volume")}
          </div>
          <div ref='$volume_control' class='volume-control' data-selected-value='${this.volumeStatus}'>
            <span data-value='muted'>${ae.volume_off}</span>
            <span data-value='down'>${ae.volume_down}</span>
            <span data-value='up'>${ae.volume_up}</span>
            <input type="range" ref='$volume' min="0" max="1" step="0.001" value="${this.state.volume}" />
          </div>          
        </div>
        <div class='property-item animation-property-item has-label'>        
          <div class='group'>
            <span class='add-timeline-property' data-property='playbackRate'></span>
            ${this.$i18n("video.property.playbackRate")}
          </div>
          <div>
            ${E("NumberRangeEditor",{ref:"$playbackRate",min:.1,max:10,clamp:!0,value:this.state.playbackRate,step:.001,onchange:"changePlaybackRate"})}
          </div>
        </div>        
        <div class='property-item animation-property-item full'>
          <div class='group'>
            <span class='add-timeline-property' data-property='playTime'></span>
            ${this.$i18n("video.property.playTime")}
          </div>
          ${E("MediaProgressEditor",{ref:"$progress",key:"playTime",value:t.playTime,onchange:"changeSelect"})}
        </div>
      `}[I("changeCurrentTime")](t,r){this.setState({currentTime:r},!1),this.command("setAttributeForMulti","change video property",this.$selection.packByValue({currentTime:r}))}[I("changePlaybackRate")](t,r){this.setState({playbackRate:r},!1),this.command("setAttributeForMulti","change video property",this.$selection.packByValue({playbackRate:r}))}[Dc("$volume")](t){const r=Number(this.refs.$volume.value);this.setState({volume:r},!1),this.bindData("$volume_control"),this.command("setAttributeForMulti","change video property",this.$selection.packByValue({volume:r}))}[se("$volume_control")](){return{"data-selected-value":this.volumeStatus}}[se("$tools")](){return{"data-selected-value":this.state.status}}[F("$tools button")](t){var r=t.$dt.attr("data-value");switch(r){case"play":this.setState({status:"pause"},!1),this.play();break;case"pause":this.setState({status:"play"},!1),this.pause();break}this.bindData("$tools")}[Q("changeValue")+Xe(100)](t,r){!this.state.$video||this.command("setAttributeForMulti","change video property",this.$selection.packByValue({[t]:r}))}[Q("changeSelect")](t,r){this.command("setAttributeForMulti","change video property",this.$selection.packByValue({[t]:r}))}[Q("updateVideoEvent")](t){this.video.paused&&(this.setState({status:"play",currentTime:this.video.currentTime},!1),this.bindData("$tools")),this.children.$currentTime.setValue(this.video.currentTime)}[I("refreshSelection")+Xe(100)](){const t=this.$selection.current;this.refreshShow(["video"]),t&&t.is("video")&&this.emit("refElement",t.id,r=>{const i=r.$("video");this.state.$video=i,this.setState({volume:t.volume,currentTime:t.currentTime,playbackRate:t.playbackRate},!1),this.video.ontimeupdate=s=>{this.trigger("updateVideoEvent",s)},this.video.onprogress=s=>{this.trigger("updateVideoEvent",s)},this.load("$body")})}}function Yz(a){a.registerUI("inspector.tab.style",{VideoProperty:Xz})}const Yl=["startPoint","endPoint","reversePoint"];function Au(a,t,r,i,s){var n=a.filter(l=>l?Math.abs(l[t]-r)<=s:!1).map(l=>({dist:Math.abs(l[t]-r),point:l}));n.sort((l,c)=>l.dist<c.dist?-1:1);var o=null;return n.length&&(o=n[0].point,i+=o[t]-r),{point:o,distanceValue:i}}function Wz(a,t,r=1){var i=Ou(a,"x",t.x,r),s=Ou(a,"y",t.y,r),n=v({},t);i&&(n.x=i.x),s&&(n.y=s.y);var o=[];return i&&o.push({startPoint:i,endPoint:n}),s&&o.push({startPoint:s,endPoint:n}),{snapPointList:o,moveXY:n}}function Ou(a,t,r,i){var s=[],n=Yl;return a.filter(o=>o).forEach(o=>{n.filter(l=>o[l]).forEach(l=>{var c=o[l],h=Math.abs(c[t]-r);h<=i&&s.push({dist:h,point:c})})}),s.sort((o,l)=>o.dist>l.dist?1:-1),s.length?s[0].point:null}function Du(a,t,r,i=1){for(var s=[],n=0,o=a.length;n<o;n++){var l=n,c=a[l];if(!!c){if(c.command==="M")s.push({command:"M",values:[c.startPoint]});else{var h=Y.getPrevPoint(a,n);c.curve===!1?h.curve===!1?s.push({command:"L",values:[c.startPoint]}):s.push({command:"Q",values:[h.endPoint,c.startPoint]}):h.curve===!1?Y.isEqual(c.reversePoint,c.startPoint)?s.push({command:"L",values:[c.startPoint]}):s.push({command:"Q",values:[c.reversePoint,c.startPoint]}):s.push({command:"C",values:[h.endPoint,c.reversePoint,c.startPoint]})}c.close&&s.push({command:"Z"})}}var d=s.map(p=>Kz(t,r,p,i)).join(" ");return{d}}function Kz(a,t,r,i=1){var{command:s,values:n}=r;switch(s){case"Z":return"Z";default:var o=n.map(l=>{var c=l.x-a==0?0:(l.x-a)/i,h=l.y-t==0?0:(l.y-t)/i;return`${c} ${h}`}).join(" ");return`${s} ${o}`}}function Zz(a,t){return!(a.x2.value<t.x||a.y2.value<t.y||a.x.value>t.x||a.y.value>t.y)}class Wl{static generatorPathString(t,r=0,i=0,s=1){return Du(t,r,i,s).d}constructor(t){this.pathEditor=t,this.pathStringManager=new Rt,this.guideLineManager=new Rt,this.segmentManager=new $u(this.pathEditor.$viewport),this.points=[],this.cachedSegmentKeys={},this.initialize(),this.initializeSelect()}initialize(){this.splitLines=[],this.guideLineManager.reset(),this.segmentManager.reset(),this.pathStringManager.reset()}initializeSelect(t=[]){this.selectedPointKeys={},this.selectedPointList=[],t.length&&this.select(...t.map(r=>{const i=this.points[r.index][r.key];if(!!i)return{x:i.x,y:i.y,key:r.key,index:i.index}}).filter(Boolean))}get state(){return this.pathEditor.state}get clonePoints(){return[...this.points]}get length(){return this.points.length}setPoints(t=[]){this.points=t,this.snapPointList=[],this.points.length===0&&(this.select(),this.selectGroup(-1))}selectInBox(t,r=!1){var i=[];if(this.points.forEach((s,n)=>{Yl.forEach(o=>{const l=s[o];Zz(t,l)&&i.push({x:l.x,y:l.y,key:o,index:n})})}),r){i=i.map(l=>{const c=this.makeSegmentKey(l);return le(v({},l),{included:Boolean(this.selectedPointKeys[c])})});const s=i.filter(l=>l.included),n=i.filter(l=>!l.included);let o=[...this.selectedPointList];s.length&&(o=this.selectedPointList.filter(l=>{const c=this.makeSegmentKey(l);return Boolean(s.find(h=>c===this.makeSegmentKey(h)))===!1})),this.select(...o,...n)}else this.select(...i)}makeSegmentKey(t){return`${t.key}_${t.index}`}select(...t){this.selectedPointKeys={},this.selectedPointList=t.map(({x:r,y:i,key:s,index:n})=>({x:r,y:i,key:s,index:+n})),t.forEach(r=>{var i=this.makeSegmentKey(r);this.selectedPointKeys[i]=!0})}convertPointsToSelectionList(t){var r=[];return t.forEach(i=>{Yl.forEach(s=>{const{x:n,y:o}=i[s];r.push({x:n,y:o,key:s,index:i.index})})}),r}selectGroup(t){const r=this.splitedGroupList[t];r?this.select(...this.convertPointsToSelectionList(r.points)):this.select()}getCacheSegmentKey(t,r){return this.cachedSegmentKeys[t]||(this.cachedSegmentKeys[t]={}),this.cachedSegmentKeys[t][r]||(this.cachedSegmentKeys[t][r]=this.makeSegmentKey({key:t,index:r})),this.cachedSegmentKeys[t][r]}toggleSelect(t,r){if(this.points[r]){var i=this.points[r][t];i&&!this.isSelectedSegment(t,r)?this.select(...this.selectedPointList,{x:i.x,y:i.y,key:t,index:r}):this.select(...this.selectedPointList.filter(s=>s.key!==t||s.index!==r))}}selectKeyIndex(t,r){if(this.points[r]){var i=this.points[r][t];i&&!this.isSelectedSegment(t,r)&&this.select({x:i.x,y:i.y,key:t,index:r})}}reselect(){this.selectedPointList.filter(Boolean).forEach(t=>{var i;var r=(i=this.points[t.index])==null?void 0:i[t.key];r&&(t.x=r.x,t.y=r.y)})}isSelectedSegment(t,r){var i=this.getCacheSegmentKey(t,r);return this.selectedPointKeys[i]}commitTransformMatrix(t,r){var i=Ye([],[t.x,t.y,0],r);return{x:i[0],y:i[1]}}transformMat4(t){this.transformPoints.forEach((r,i)=>{var s=this.points[i];Object.assign(s.startPoint,this.commitTransformMatrix(r.startPoint,t)),Object.assign(s.endPoint,this.commitTransformMatrix(r.endPoint,t)),Object.assign(s.reversePoint,this.commitTransformMatrix(r.reversePoint,t))})}transform(t,r=0,i=0){var{x:s,y:n,width:o,height:l}=this.transformRect,c=St();switch(mt(c,c,[s,n,0]),t){case"flipX":Br(c,c,[-1,1,1]),mt(c,c,[-o,0,0]);break;case"flipY":Br(c,c,[1,-1,1]),mt(c,c,[0,-l,0]);break;case"flip":Br(c,c,[-1,-1,1]),mt(c,c,[-o,-l,0]);break}mt(c,c,[-s,-n,0]),this.transformMat4(c)}initTransform(t){this.transformRect=ve(t),this.transformPoints=this.clonePoints.map(r=>({startPoint:ve(r.startPoint),endPoint:ve(r.endPoint),reversePoint:ve(r.reversePoint)}))}setConnectedPoint(t,r){var i=this.state,s=i.dragXY.x+t,n=i.dragXY.y+r,o={x:s,y:n},l={x:s,y:n};i.dragPoints&&(i.reversePoint=Y.getReversePoint(i.startPoint,o));var c={startPoint:i.startPoint,endPoint:o,curve:!!i.dragPoints,reversePoint:l,connected:!0,close:!0};this.points.push(c)}setLastPoint(t){var r=ve(t),i=ve(t),s={startPoint:t,endPoint:r,curve:!1,reversePoint:i,connected:!1,close:!1};this.points.push(s)}getPrevPoint(t){return Y.getPrevPoint(this.points,t)}getIndexPoint(t){return Y.getIndexPoint(this.points,t)}getNextPoint(t){return Y.getNextPoint(this.points,t)}getConnectedPointList(t){return Y.getConnectedPointList(this.points,t)}isFirst(t){return Y.isFirst(t)}getLastPoint(t){return Y.getLastPoint(this.points,t)}setCachePoint(t,r,i=[]){var s=this.state;this.snapPointList=[],this.selectedIndex=t,s.connectedPoint=this.getPrevPoint(t),s.connectedPointList=ve(Y.getConnectedPointList(this.points,this.selectedIndex)),s.connectedPoint&&!s.connectedPoint.connected&&(s.connectedPoint=null),s.segment=this.getIndexPoint(t),s.segment.connected&&(s.connectedPoint=this.getNextPoint(t));var n=this.isFirst(s.segment);if(n){var o=this.getLastPoint(t);o.connected&&(s.connectedPoint=o)}s.segmentKey=r,s.isCurveSegment=s.segment.curve&&s.segmentKey!="startPoint",s.originalSegment=ve(s.segment),s.connectedPoint&&(s.originalConnectedPoint=ve(s.connectedPoint)),s.cachedPoints=[],this.points.filter(l=>l&&l!=s.segment).forEach(l=>{s.cachedPoints.push(l.startPoint,l.reversePoint,l.endPoint)})}moveSegment(t,r,i,s=void 0){if(s){const c=this.points[s.index][t];c.x=s[t].x+r,c.y=s[t].y+i}else{var n=this.state,o=n.originalSegment[t],l=n.segment[t];o&&(l.x=o.x+r,l.y=o.y+i)}}calculateToCurve(t,r,i){var s=(r.startPoint.x+i.startPoint.x)/2,n=(r.startPoint.y+i.startPoint.y)/2,o=(r.startPoint.x-s)/2,l=(r.startPoint.y-n)/2;return t.endPoint={x:t.startPoint.x+o,y:t.startPoint.y+l},t.reversePoint={x:t.startPoint.x-o,y:t.startPoint.y-l},{dx:o,dy:l}}convertToCurve(t){var r=this.points[t];if(r.curve)if(r.curve=!1,r.reversePoint=ve(r.startPoint),r.endPoint=ve(r.startPoint),r.command==="M"){var i=Y.getPrevPoint(points,r.index);i.connected&&(i.curve=!1,i.reversePoint=ve(i.startPoint),i.endPoint=ve(i.startPoint))}else{var s=this.getNextPoint(t);if(s&&s.command==="M"){var n=s;n.curve=!1,n.reversePoint=ve(n.startPoint),n.endPoint=ve(n.startPoint)}}else{r.curve=!0;var o=this.getPrevPoint(t),s=this.getNextPoint(t);if(s&&s.index<t&&s.command==="M"){var n=s;s=this.getNextPoint(n.index),this.calculateToCurve(r,s,o),n.curve=!0,n.endPoint=ve(r.endPoint),n.reversePoint=ve(r.reversePoint)}else if(s&&s.index>t&&s.command!=="M")this.calculateToCurve(r,s,o);else if(!s&&o){var l=(r.startPoint.x-o.startPoint.x)/3,c=(r.startPoint.y-o.startPoint.y)/3;r.endPoint={x:r.startPoint.x+l,y:r.startPoint.y+c},r.reversePoint=Y.getReversePoint(r.startPoint,r.endPoint)}else if(!o&&s){var l=(r.startPoint.x-s.startPoint.x)/3,c=(r.startPoint.y-s.startPoint.y)/3;r.endPoint={x:r.startPoint.x+l,y:r.startPoint.y+c},r.reverse=Y.getReversePoint(r.startPoint,r.endPoint)}}}moveCurveSegment(t,r,i){var s=this.state;this.moveSegment(t,r,i);var n=t==="endPoint"?"reversePoint":"endPoint";s.segment[n]=Y.getReversePoint(s.segment.startPoint,s.segment[t])}rotateSegmentTarget(t,r){var i=this.state;if(i.originalSegment&&i.segment){var{x:s,y:n}=i.originalSegment.startPoint,{x:o,y:l}=i.segment[t],{x:c,y:h}=i.originalSegment[r],{x:d,y:p}=is(nt(o-s,l-n),Yt(c,h,s,n),s,n);i.segment[r]={x:d,y:p}}}rotateSegment(t){this.rotateSegmentTarget(t,t==="endPoint"?"reversePoint":"endPoint")}calculateSnap(t,r,i,s=1){var n=this.state,o=n.cachedPoints,l=n.originalSegment[t];if(!t)return{dx:r,dy:i,snapPointList:[]};var c=l.x+r,h=l.y+i,{point:d,distanceValue:r}=Au(o,"x",c,r,s),{point:p,distanceValue:i}=Au(o,"y",h,i,s),u={x:l.x+r,y:l.y+i},m=[];return d&&m.push({startPoint:d,endPoint:u}),p&&m.push({startPoint:p,endPoint:u}),{dx:r,dy:i,snapPointList:m}}copySegment(t,r){r.startPoint=ve(t.startPoint),r.endPoint=ve(t.endPoint),r.reversePoint=ve(t.reversePoint)}get selectedLength(){return this.selectedPointList.length}moveSelectedSegment(t,r){this.selectedPointList.length>0?this.selectedPointList.forEach(i=>{var s=this.points[i.index][i.key];s.x=i.x+t,s.y=i.y+r}):this.selectedGroup&&this.moveSelectedGroup(t,r)}moveSelectedGroup(t,r){this.selectedGroup.points.forEach(i=>{const s=this.points[i.index];s.startPoint.x=i.startPoint.x+t,s.startPoint.y=i.startPoint.y+r,s.endPoint.x=i.endPoint.x+t,s.endPoint.y=i.endPoint.y+r,s.reversePoint.x=i.reversePoint.x+t,s.reversePoint.y=i.reversePoint.y+r})}get selectedGroup(){return this.splitedGroupList[this.state.selectedGroupIndex]}get splitedGroupList(){return Y.getSplitedGroupList(this.points)}get groupList(){return Y.getGroupList(this.points)}getGroup(t,r){return Y.getGroup(t,r)}get selectedGroupIndexList(){const t=new Set,r=this.groupList;return this.selectedPointList.length===0&&this.state.selectedGroupIndex<0?r.map(s=>s.groupIndex):(this.selectedPointList.forEach(s=>{const n=this.getGroup(r,s.index);n&&t.add(n.groupIndex)}),[...new Set([...t,this.state.selectedGroupIndex])])}removeSelectedSegment(){this.selectedPointList.forEach(i=>{var s=this.points[i.index][i.key];s.removed=!0});const t=Y.splitPoints(this.points),r=Y.recoverPoints(t.map(i=>i.filter(s=>!s.startPoint.removed).map(s=>(s.endPoint.removed&&(s.endPoint=ve(s.startPoint)),s.reversePoint.removed&&(s.reversePoint=ve(s.startPoint)),Y.isEqual(s.endPoint,s.startPoint,s.reversePoint)&&(s.command="L",s.curve=!1),s))));this.points=r,this.select()}move(t,r,i){var s=this.state,{isCurveSegment:n,segmentKey:o,connectedPoint:l}=s;if(this.selectedPointList.length>1)this.moveSelectedSegment(t,r);else if(this.selectedPointList.length===1){var{dx:t,dy:r,snapPointList:c}=this.calculateSnap(o,t,r,3);if(this.snapPointList=c||[],n)if(i.shiftKey){this.moveSegment(o,t,r);var h=o==="endPoint"?"reversePoint":"endPoint";s.segment[h]=Y.getReversePoint(s.segment.startPoint,s.segment[o])}else i.altKey?(this.moveSegment(o,t,r),this.rotateSegment(o)):this.moveSegment(o,t,r);else this.moveSegment("startPoint",t,r),this.moveSegment("endPoint",t,r),this.moveSegment("reversePoint",t,r),i.altKey||s.connectedPointList.forEach(u=>{this.moveSegment("startPoint",t,r,u),this.moveSegment("endPoint",t,r,u),this.moveSegment("reversePoint",t,r,u)});l&&this.copySegment(s.segment,s.connectedPoint)}else this.state.selectedGroupIndex>-1&&this.moveSelectedGroup(t,r)}moveEnd(t,r){var i=this.state,s=this.points,n=i.dragXY.x+t,o=i.dragXY.y+r,l={x:n,y:o},c={x:n,y:o};i.dragPoints&&(c=Y.getReversePoint(i.startPoint,l)),s.push({command:i.clickCount===0?"M":"",startPoint:i.startPoint,endPoint:l,curve:!!i.dragPoints,reversePoint:c}),i.startPoint=null,i.dragPoints=!1,i.moveXY=null}setPoint(t){var r=t.first[0],i=t.second[t.second.length-1],s=this.clonePoints,n=Y.getPoint(s,r),o=Y.getPoint(s,i),l=[le(v({},n),{endPoint:t.first[1]}),{startPoint:t.first[3],reversePoint:t.first[2],curve:!0,endPoint:t.second[1]},le(v({},o),{reversePoint:t.second[2]})],c=Y.getIndex(s,r);return s.splice(c,2,...l),this.points=s,c+1}setPointQuard(t){var r=t.first[0],i=t.second[t.second.length-1],s=this.clonePoints,n=Y.getPoint(s,r),o=Y.getPoint(s,i);if(n.curve&&o.curve===!1){var l=[le(v({},n),{endPoint:n.startPoint}),{startPoint:t.first[2],reversePoint:t.first[1],curve:!0,endPoint:t.second[1]}],c=Y.getIndex(s,r);s.splice(c,1,...l)}else{var l=[v({},n),{startPoint:t.first[2],reversePoint:t.first[1],curve:!0,endPoint:t.second[1]},le(v({},o),{reversePoint:t.second[1],curve:!0})],c=Y.getIndex(s,r);s.splice(c,2,...l)}return this.points=s,c+1}setPointLine(t){var r=t.first[0],i=this.clonePoints,s=[{command:"L",startPoint:t.first[1],curve:!1,endPoint:t.first[1],reversePoint:t.first[1]}],n=Y.getIndex(i,r);return i.splice(n+1,0,...s),this.points=i,n+1}toPath(t=0,r=0,i=1){return Du(this.clonePoints,t,r,i)}makeSVGPath(){return this.initialize(),this.makePointGuide(this.points),this.makeMovePositionGuide(),this.toSVGString()}makeTriangleDistancePointGuide(t,r){var i=Math.min(t.startPoint.x,r.startPoint.x),s=Math.max(t.startPoint.x,r.startPoint.x),n=Math.min(t.startPoint.y,r.startPoint.y),o=Math.max(t.startPoint.y,r.startPoint.y);if(t.startPoint.x<r.startPoint.x&&t.startPoint.y<r.startPoint.y){this.segmentManager.addDistanceLine({x:i,y:n},{x:s,y:n}).addDistanceLine({x:s,y:n},{x:s,y:o});var l=i,c=n,h=nt(s-i,o-n)-180,d=20,{x:p,y:u}=is(0,d,l,c),m=is(h,d,l,c);this.segmentManager.addDistanceAngle(m,d,d,h,{x:p,y:u},{x:p-d,y:u})}else t.startPoint.x<r.startPoint.x&&t.startPoint.y>r.startPoint.y?this.segmentManager.addDistanceLine({x:i,y:o},{x:s,y:o}).addDistanceLine({x:s,y:n},{x:s,y:o}):t.startPoint.x>r.startPoint.x&&t.startPoint.y>r.startPoint.y?this.segmentManager.addDistanceLine({x:i,y:n},{x:i,y:o}).addDistanceLine({x:i,y:o},{x:s,y:o}):t.startPoint.x>r.startPoint.x&&t.startPoint.y<r.startPoint.y&&this.segmentManager.addDistanceLine({x:i,y:o},{x:s,y:o}).addDistanceLine({x:s,y:n},{x:s,y:o})}makeDistancePointGuide(t,r,i,s){r.selected&&(t&&this.makeTriangleDistancePointGuide(t,r),i&&this.makeTriangleDistancePointGuide(r,i))}makeStartPointGuide(t,r,i,s){r.startPoint.isFirst=!0,r.curve===!1?this.segmentManager.addPoint({},r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)):(this.segmentManager.addPoint({},r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)).addGuideLine(r.startPoint,r.endPoint),Y.isEqual(r.startPoint,r.endPoint)===!1&&this.segmentManager.addCurvePoint(r.endPoint,s,"endPoint",this.isSelectedSegment("endPoint",s)))}makeMiddlePointGuideSegment(t,r,i,s,n){var o=this.segmentManager;r.curve===!1?t.curve===!1?o.addPoint({},r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)):n===!1?o.addCurvePoint(r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)):(o.addGuideLine(t.startPoint,t.endPoint).addCurvePoint(r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)),Y.isEqual(t.startPoint,t.endPoint)===!1&&o.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index))):t.curve===!1?n===!1?Y.isEqual(r.reversePoint,r.startPoint)?o.addPoint({},r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)):o.addCurvePoint(r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)):Y.isEqual(r.reversePoint,r.startPoint)?o.addPoint({},r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)):(o.addGuideLine(r.startPoint,r.reversePoint).addCurvePoint(r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)),Y.isEqual(r.startPoint,r.reversePoint)===!1&&o.addCurvePoint(r.reversePoint,s,"reversePoint",this.isSelectedSegment("reversePoint",s))):r.connected?n===!1||(o.addGuideLine(t.startPoint,t.endPoint).addGuideLine(r.startPoint,r.reversePoint),Y.isEqual(t.startPoint,t.endPoint)===!1&&o.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),Y.isEqual(r.startPoint,r.reversePoint)===!1&&o.addCurvePoint(r.reversePoint,s,"reversePoint",this.isSelectedSegment("reversePoint",s))):n===!1?o.addCurvePoint(r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)):(o.addGuideLine(t.startPoint,t.endPoint).addGuideLine(r.startPoint,r.reversePoint).addCurvePoint(r.startPoint,s,"startPoint",this.isSelectedSegment("startPoint",s)),Y.isEqual(t.startPoint,t.endPoint)===!1&&o.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),Y.isEqual(r.startPoint,r.reversePoint)===!1&&o.addCurvePoint(r.reversePoint,s,"reversePoint",this.isSelectedSegment("reversePoint",s)))}checkInViewport(t){const r=this.pathEditor.$viewport.applyVertexInverse([t.x,t.y,0]);return this.pathEditor.$viewport.checkInViewport(r)}makeMiddlePointGuideSplitLine(t,r,i,s,n){const o=n?"selected":"";if(r.curve===!1)if(t.curve===!1){if((this.checkInViewport(t.startPoint)||this.checkInViewport(r.startPoint))===!1)return;this.splitLines.push(new Rt().M(t.startPoint).L(r.startPoint).toString(`split-path ${o}`))}else{if((this.checkInViewport(t.startPoint)||this.checkInViewport(t.endPoint)||this.checkInViewport(r.startPoint))===!1)return;this.splitLines.push(new Rt().M(t.startPoint).Q(t.endPoint,r.startPoint).toString(`split-path ${o}`))}else if(t.curve===!1)if(Y.isEqual(r.reversePoint,r.startPoint)){if((this.checkInViewport(t.startPoint)||this.checkInViewport(r.startPoint))===!1)return;this.splitLines.push(new Rt().M(t.startPoint).L(r.startPoint).toString(`split-path ${o}`))}else{if((this.checkInViewport(t.startPoint)||this.checkInViewport(r.reversePoint)||this.checkInViewport(r.startPoint))===!1)return;this.splitLines.push(new Rt().M(t.startPoint).Q(r.reversePoint,r.startPoint).toString(`split-path ${o}`))}else{if((this.checkInViewport(t.startPoint)||this.checkInViewport(t.endPoint)||this.checkInViewport(r.reversePoint)||this.checkInViewport(r.startPoint))===!1)return;this.splitLines.push(new Rt().M(t.startPoint).C(t.endPoint,r.reversePoint,r.startPoint).toString(`split-path ${o}`))}}makePointGuide(t){for(var r=0,i=t.length;r<i;r++){var s=r,n=t[s];if(!!n){var o=Y.getNextPoint(t,r),l=Y.getPrevPoint(t,r);if(l&&l.command==="M"&&n.startPoint&&(n.startPoint.isSecond=!0),n.startPoint&&(o?n.startPoint.isLast=o.command==="M":n.startPoint.isLast=r===i-1),n.selected=this.selectedIndex===r,n.command==="M")this.makeStartPointGuide(l,n,o,r);else{var c=Boolean(this.isSelectedSegment("endPoint",l==null?void 0:l.index)||this.isSelectedSegment("startPoint",l==null?void 0:l.index)||this.isSelectedSegment("reversePoint",l==null?void 0:l.index)||this.isSelectedSegment("endPoint",o==null?void 0:o.index)||this.isSelectedSegment("startPoint",o==null?void 0:o.index)||this.isSelectedSegment("reversePoint",o==null?void 0:o.index)||this.isSelectedSegment("endPoint",n==null?void 0:n.index)||this.isSelectedSegment("startPoint",n==null?void 0:n.index)||this.isSelectedSegment("reversePoint",n==null?void 0:n.index));this.makeMiddlePointGuideSplitLine(l,n,o,r,c),this.makeMiddlePointGuideSegment(l,n,o,r,c)}n.close&&this.pathStringManager.Z()}}}makeMovePositionGuide(){var t=this.state,{startPoint:r,moveXY:i,dragPoints:s,altKey:n,snapPointList:o,isGroupSegment:l}=t,c=this.points;if(i){o=o||[];var{snapPointList:h,moveXY:d}=Wz(c,i,3);o.push.apply(o,h),t.moveXY=d,i=d,this.snapPointList=o;var p=c[c.length-1];if(s&&!l)if(p){if(p.curve){var{x:u,y:m}=Y.getReversePoint(r,i);this.guideLineManager.M(p.startPoint).C(p.endPoint,{x:u,y:m},r),this.segmentManager.addGuideLine(p.startPoint,p.endPoint).addGuideLine(r,{x:u,y:m}).addGuideLine(r,i).addCurvePoint(p.endPoint).addCurvePoint({x:u,y:m}).addCurvePoint(i).addPoint(!1,r)}else if(p.curve===!1){var{x:u,y:m}=Y.getReversePoint(r,i);this.guideLineManager.M(p.startPoint).Q({x:u,y:m},r),this.segmentManager.addGuideLine(i,{x:u,y:m}).addPoint(!1,r).addCurvePoint({x:u,y:m}).addCurvePoint(i)}}else{var{x:u,y:m}=Y.getReversePoint(r,i);this.guideLineManager.M(i).L(r).L({x:u,y:m}),this.segmentManager.addCurvePoint(r).addCurvePoint(i).addCurvePoint({x:u,y:m})}else p&&(p.curve?(this.guideLineManager.M(p.startPoint).Q(p.endPoint,i),this.segmentManager.addGuideLine(p.endPoint,p.startPoint).addCurvePoint(p.endPoint)):p.close||(this.guideLineManager.M(p.startPoint).L(i),this.segmentManager.addPoint(!1,p.startPoint)))}}makeSnapLines(){var t=[];if(this.snapPointList){var r=new Rt;t=this.snapPointList.map(i=>(r.reset(),r.M(i.startPoint).L(i.endPoint).X(i.startPoint).toString("snap-path")))}return t.join("")}makePathArea(){const t=this.splitedGroupList.map(({startPointIndex:i,points:s},n)=>{const o=Wl.generatorPathString(s),l=Tr(W.fromSVGString(o).getBBox());return{points:s,startPointIndex:i,groupIndex:n,center:l[4],d:o}}),r=t.length;return`
            <g>
               ${t.map(i=>{const{center:s}=i,[n,o]=s;return`
                        <path class="path-area ${this.state.selectedGroupIndex===i.groupIndex?"selected":""}" 
                            d="${i.d}" 
                            data-point-index="${i.startPointIndex}" 
                            data-group-index="${i.groupIndex}" 
                        />

                        ${r>1&&`
                            <text class="path-area-text" x="${n}" y="${o}" >${i.groupIndex+1}</text>
                        `}
                    `}).join("")}
            </g>
        `}toSVGString(){return`
        <svg width="100%" height="100%" class='svg-editor-canvas'>
            ${this.guideLineManager.toString("guide")}
            ${this.splitLines.join("")}
            ${this.makeSnapLines()}
            ${this.makePathArea()}
            ${this.segmentManager.toString()}
        </svg>
        `}}var NO="";const qz=["fill","fill-opacity","stroke","stroke-width","stroke-linecap","stroke-linejoin"];class Qz extends K{initialize(){super.initialize(),this.pathParser=new W}initState(){return{points:[],$target:null,fill:"transparent",stroke:"black","fill-opacity":null,"stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",tolerance:1}}[I("changeDrawManager")](t){this.setState(v({},t),!1)}get scale(){return this.$viewport.scale}template(){return`
        <div class='elf--path-draw-view' tabIndex="-1">
            <div class='path-draw-container' ref='$view'></div>
        </div>`}initRect(t=!1){(!this.state.rect||t)&&(this.state.rect=this.$el.rect())}[Xt("document")+Se("isShow")+Is+Si](){this.trigger("hidePathDrawEditor")}[I("DrawEditorDone")](){this.trigger("hidePathDrawEditor")}get totalPathLength(){if(!this.refs.$view)return 0;var t=this.refs.$view.$("path.object");return t?t.totalLength:0}makePathLayer(t){var r;const i=W.makePathByPoints(this.state.points).simplify(this.state.tolerance).smooth(30);i.transformMat4(this.$viewport.matrixInverse);const s=i.getBBox(),n=Bt(s[1],s[0]),o=Bt(s[3],s[0]);i.translate(-s[0][0],-s[0][1]);const l={itemType:"svg-path",x:s[0][0],y:s[0][1],width:n,height:o,d:i.d,totalLength:this.totalPathLength};return qz.forEach(h=>{this.state[h]&&Object.assign(l,{[h]:this.state[h]})}),r=this.$selection.currentProject.appendChild(this.$editor.createModel(l)),r}addPathLayer(){var t=this.getPathRect();if(t.width!==0&&t.height!==0){var r=this.makePathLayer(t);r&&this.emit("refreshAll")}}changeMode(t){this.setState(v(v({},this.initState()),t),!1)}getCurrentObject(){var t=this.state.current;return t?{current:t,d:t.d}:null}[I("showPathDrawEditor")](t={}){this.changeMode(t),this.$el.show(),this.$el.focus(),this.emit("showDrawManager",{instance:this,fill:this.state.fill,stroke:this.state.stroke,"fill-opacity":this.state["fill-opacity"],"stroke-width":this.state["stroke-width"],"stroke-linecap":this.state["stroke-linecap"],"stroke-linejoin":this.state["stroke-linejoin"]}),this.emit("hidePathEditor"),this.emit("push.mode.view","PathDrawView")}[I("initPathDrawEditor")](){this.pathParser.reset(""),this.refs.$view.empty()}[I("hidePathDrawEditor")](){this.$el.isShow()&&(this.trigger("initPathDrawEditor"),this.$el.hide(),this.emit("hideDrawManager"),this.emit("pop.mode.view","PathDrawView"))}[I("hideAddViewLayer")](){this.$el.hide(),this.emit("hideDrawManager")}getInnerId(t=""){return"draw-manager-"+t}get toFillSVG(){return tt.parseImage(this.state.fill||"transparent").toSVGString(this.fillId)}get toStrokeSVG(){return tt.parseImage(this.state.stroke||"black").toSVGString(this.strokeId)}get toDefInnerString(){return`
            ${this.toFillSVG}
            ${this.toStrokeSVG}
        `}get toDefString(){var t=this.toDefInnerString.trim();return`
            <defs>
            ${t}
            </defs>
        `}get fillId(){return this.getInnerId("fill")}get strokeId(){return this.getInnerId("stroke")}get toFillValue(){return tt.parseImage(this.state.fill||"transparent").toFillValue(this.fillId)}get toStrokeValue(){return tt.parseImage(this.state.stroke||"black").toFillValue(this.strokeId)}[se("$view")](){const t=W.makePathByPoints(this.state.points).simplify(this.state.tolerance);return{innerHTML:`
            <svg width="100%" height="100%" class='svg-editor-canvas'>
                ${this.toDefString}
                <path 
                    class='object' 
                    fill="${this.toFillValue}"
                    stroke="${this.toStrokeValue}"
                    fill-opacity="${this.state["fill-opacity"]}"
                    stroke-width="${this.state["stroke-width"]}"
                    stroke-linecap="${this.state["stroke-linecap"]}"
                    stroke-linejoin="${this.state["stroke-linejoin"]}"
                    d="${t.d}" 
                />
            </svg>
            `}}renderPath(){this.bindData("$view")}[I("resizeEditor")](){this.initRect(!0)}getPathRect(){this.initRect(!0);var t=this.refs.$view.$("path.object"),r={x:0,y:0,width:0,height:0};return t&&(r=t.rect(),r.x-=this.state.rect.x,r.y-=this.state.rect.y),r}[xe("$view")+Ve()+ze()](t){this.initRect(),this.state.altKey=!1,this.state.startXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.points=[this.state.startXY]}move(t,r,i,s){this.state.points.push({x:this.state.startXY.x+t,y:this.state.startXY.y+r,pressure:s}),this.renderPath()}end(t,r){this.addPathLayer(),this.trigger("initPathDrawEditor")}}var GO="";class Jz extends K{initState(){return{tolerance:1,stroke:"black","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",msg:this.$i18n("path.manager.msg")}}[I("refreshSelection")](){var r,i;var t=this.$selection.current;t&&((r=this.children.$stroke)==null||r.setValue(t.stroke||"rgba(0, 0, 0, 1)"),(i=this.children.$strokeWidth)==null||i.setValue(t["stroke-width"]||g.number(1)))}[I("setColorAsset")]({color:t}){this.$el.isShow()&&(this.setState({stroke:t},!1),this.children.$stroke.setValue(t),this.updateData({stroke:t}))}template(){return`
      <div class='elf--draw-manager'>
        <div class="tools left" ref="$left">
            <button type="button" class="primary" data-value='DrawEditorDone' title='${this.$i18n("draw.manager.mode.modify")}' >Done</button>
        </div>      
        <div class='tools'>   
          <div >        
            <label data-tooltip="${this.$i18n("draw.manager.tolerance")}">Tolerance</label>       
            ${E("NumberInputEditor",{ref:"$tolerance",key:"tolerance",value:1,min:0,max:100,step:.01,unit:"number",onchange:"changeValue"})}
          </div>              
          <div >
            <label>${this.$i18n("svg.item.property.stroke")}</label>          
            ${E("FillSingleEditor",{ref:"$stroke",simple:!0,value:this.state.stroke,key:"stroke",onchange:"changeValue"})}
          </div>

          <div >
            <label>${this.$i18n("svg.item.property.strokeWidth")}</label>          
            ${E("NumberInputEditor",{ref:"$strokeWidth",key:"stroke-width",value:this.state["stroke-width"],onchange:"changeValue"})}
          </div>      
          

          <div>
            <label data-tooltip="${this.$i18n("svg.item.property.lineCap")}">Cap</label>          
            ${E("SelectEditor",{ref:"$strokeLineCap",key:"stroke-linecap",value:this.state["stroke-linecap"],options:["butt","round","square"],onchange:"changeValue"})}
          </div> 
          <div>
            <label data-tooltip="${this.$i18n("svg.item.property.lineJoin")}">Join</label>          
            ${E("SelectEditor",{ref:"$strokeLineJoin",key:"stroke-linejoin",value:this.state["stroke-linejoin"],options:["miter","bevel","round"],onchange:"changeValue"})}
          </div>
        </div>
      </div>    
    `}[Q("changeValue")](t,r,i){this.updateData({[t]:r})}updateData(t={}){this.setState(t,!1),this.state.instance.trigger(this.state.changeEvent,t)}[I("changePathManager")](t){this.setState({mode:t})}[I("showDrawManager")](t={}){t.changeEvent=t.changeEvent||"changeDrawManager",this.setState(t),this.$el.show(),this.emit("addStatusBarMessage",this.state.msg),this.emit("hidePathManager")}[I("hideDrawManager")](){this.$el.hide()}[F("$left button")](t){var r=t.$dt.attr("data-value");this.emit(r)}}function ej(a){a.registerUI("canvas.view",{PathDrawView:Qz}),a.registerUI("page.subeditor.view",{DrawManager:Jz})}var HO="";function vi([a,t]){return{x:a,y:t}}const tj=class extends K{convertToCurve(a){this.pathGenerator.convertToCurve(a),this.renderPath(),this.refreshPathLayer()}isEditableSegment(){return this.state.disableCurve===!1}[ts("$view [data-segment]")+Se("isEditableSegment")+Pe](a){var t=+a.$dt.attr("data-index");this.convertToCurve(t)}[Po("$view [data-segment]")+Pe+_o(300)](a){var t=+a.$dt.attr("data-index");this.convertToCurve(t)}},rj=class extends tj{calculatePointOnLine(a,t){var r=new W(a);return r.getClosedPoint(t)}[xe("$view .split-path")+Ve()+ze()](a){this.initRect();var t=new W(a.$dt.attr("d")),r={x:a.xy.x-this.state.rect.x,y:a.xy.y-this.state.rect.y},i=-1;if(this.isMode("path")){this.state.dragXY=r,this.state.startPoint=this.state.dragXY,this.pathGenerator.setLastPoint(this.state.startPoint),this.state.isSplitPath=!0,this.renderPath(),this.state.current?this.refreshPathLayer():(this.addPathLayer(),this.trigger("initPathEditorView"));return}else{if(t.segments[1].command==="C"){var s=[vi(t.segments[0].values),vi(t.segments[1].values.slice(0,2)),vi(t.segments[1].values.slice(2,4)),vi(t.segments[1].values.slice(4,6))],n=Bo(...s,20),o=n(r.x,r.y);i=this.pathGenerator.setPoint(ba(s,o))}else if(t.segments[1].command==="Q"){var s=[vi(t.segments[0].values),vi(t.segments[1].values.slice(0,2)),vi(t.segments[1].values.slice(2,4))],n=No(...s,20),o=n(r.x,r.y);i=this.pathGenerator.setPointQuard($a(s,o))}else if(t.segments[1].command==="L"){var s=[vi(t.segments[0].values),vi(t.segments[1].values.slice(0,2))],n=Go(...s,20),o=n(r.x,r.y);i=this.pathGenerator.setPointLine(xa(s,o)),a.altKey&&this.pathGenerator.convertToCurve(i)}this.renderPath(),this.refreshPathLayer(),this.changeMode("segment-move"),this.pathGenerator.setCachePoint(i,"startPoint"),this.pathGenerator.selectKeyIndex("startPoint",i)}}},ij=class extends rj{[I("changePathTransform")](a){this.resetTransformZone();var{width:t,height:r}=this.state.transformZoneRect;switch(this.pathGenerator.initTransform(this.state.transformZoneRect),a){case"flipX":this.pathGenerator.transform("flipX",t,0);break;case"flipY":this.pathGenerator.transform("flipY",0,r);break;case"flip":this.pathGenerator.transform("flip",t,r)}this.renderPath(),this.refreshPathLayer()}[I("changePathUtil")](a){switch(a){case"reverse":const{d:t}=this.pathGenerator.toPath(),r=new W(t);r.reverse(...this.pathGenerator.selectedGroupIndexList),r.transformMat4(this.state.cachedMatrixInverse),this.refreshEditorView({d:r.d}),this.updatePathLayer();break}}[I("divideSegmentsByCount")](a){const{d:t}=this.pathGenerator.toPath(),i=new W(t).divideSegmentByCount(a);i.transformMat4(this.state.cachedMatrixInverse),this.refreshEditorView({d:i.d})}},sj=["fill","fill-opacity","stroke","stroke-width"];class aj extends ij{initialize(){super.initialize(),this.pathParser=new W,this.pathGenerator=new Wl(this)}initState(){return{changeEvent:"updatePathItem",isShow:!1,isControl:!1,disableCurve:!1,points:[],mode:"path",clickCount:0,isSegment:!1,isFirstSegment:!1,current:null}}get scale(){return this.$viewport.scale}template(){return`
        <div class='elf--path-editor-view' tabIndex="-1">
            <style type="text/css" ref="$styleView"></style>
            <svg id='patternId' width='100%' height='100%' xmlns='http://www.w3.org/2000/svg'>
                <defs>
                    <pattern id='stripe' patternUnits='userSpaceOnUse' width='20' height='33' patternTransform='scale(1) rotate(135)'>
                        <path d='M0 8h20z'   stroke-width='1' stroke='#07A3FB' fill='none'/>
                        <path d='M0 16h20z'   stroke-width='1' stroke='#07A3FB' fill='none'/>
                        <path d='M0 24h20z'   stroke-width='1' stroke='#07A3FB' fill='none'/>
                        <path d='M0 32h20z'   stroke-width='1' stroke='#07A3FB' fill='none'/>
                    </pattern>
                </defs>    
            </svg>
            <div class='path-container' ref='$view'></div>
            <div class='path-container split-panel'>
                <svg width="100%" height="100%">
                    <circle ref='$splitCircle' class='split-circle' />
                </svg>
            </div>
            <div class='segment-box' ref='$segmentBox'></div>
        </div>`}isShow(){return this.state.isShow}initRect(t=!1){(!this.state.rect||t)&&(this.state.rect=this.$el.rect())}[I("PathEditorDone")](){this.state.current?(this.refreshPathLayer(),this.trigger("hidePathEditor")):this.addPathLayer(),!this.state.current&&this.pathGenerator.length?this.trigger("initPathEditorView"):this.trigger("hidePathEditor")}[Xt("document")+Se("isShow")+Si](){this.trigger("PathEditorDone")}[Xt("document")+Se("isShow")+Is](){this.state.current?this.refreshPathLayer():this.addPathLayer(),this.trigger("hidePathEditor")}makePathLayer(){var t;const r=new W(this.pathGenerator.toPath().d);r.transformMat4(this.$viewport.matrixInverse);const i=r.getBBox(),s=Bt(i[1],i[0]),n=Bt(i[3],i[0]);r.translate(-i[0][0],-i[0][1]);const o={itemType:"svg-path",x:i[0][0],y:i[0][1],width:s,height:n,d:r.d,fill:r.closed?"#C4C4C4":"transparent"};return sj.forEach(c=>{this.state[c]&&(o[c]=this.state[c])}),t=(this.$selection.getArtboardByPoint(i[0])||this.$selection.currentProject).appendChild(this.$editor.createModel(o)),t}updatePathLayer(){var{d:t}=this.pathGenerator.toPath(),r=new W(t);r.transformMat4(this.$viewport.matrixInverse),this.emit(this.state.changeEvent,{d:r.d,matrix:this.state.matrix,box:this.state.box})}addPathLayer(){this.changeMode("modify");var t=this.makePathLayer();t&&(this.$selection.select(t),this.trigger("hidePathEditor"),this.emit("refreshAll"))}changeMode(t,r){this.setState(v({mode:t,clickCount:0,moveXY:null},r),!1),(r==null?void 0:r.points)&&this.pathGenerator.setPoints(r.points||[]),this.emit("changePathManager",this.state.mode)}[I("changePathManager")](t){this.setState(le(v({},t),{clickCount:0}),!1),this.renderPath()}isMode(t){return this.state.mode===t}afterRender(){this.$el.hide()}[I("updateViewport")](){if(this.$el.isShow()){const{d:t}=this.pathGenerator.toPath(),r=new W(t);r.transformMat4(this.state.cachedMatrixInverse),this.refreshEditorView({d:r.d})}}refreshEditorView(t,r=!1){t&&t.d&&(this.pathParser.reset(t.d),this.pathParser.transformMat4(this.$viewport.matrix),this.state.cachedMatrixInverse=this.$viewport.matrixInverse,r||this.pathGenerator.selectedPointList,this.pathGenerator.setPoints(this.pathParser.convertGenerator())),this.renderPath()}[I("showPathEditor")](t="path",r={}){this.state.isShow=!0,this.transformMode=t,t==="move"&&(r.current=null,r.points=[]),r.box=r.box||"canvas",this.changeMode(t,r),this.refreshEditorView(r,!0),this.$el.show(),this.$el.focus(),this.emit("showPathManager",{mode:this.state.mode}),this.emit("hidePathDrawEditor"),this.emit("push.mode.view","PathEditorView")}[I("hidePathEditor")](){this.$el.isShow()&&(this.pathParser.reset(""),this.pathGenerator.setPoints([]),this.setState(this.initState(),!1),this.refs.$view.empty(),this.$el.hide(),this.emit("hidePathManager"),this.emit("pop.mode.view","PathEditorView"),this.emit("refreshSelectionTool"))}[I("hideAddViewLayer")](){this.state.isShow=!1,this.state.isControl=!1,this.pathParser.reset(""),this.setState(this.initState(),!1),this.refs.$view.empty(),this.$el.hide(),this.emit("hidePathManager")}[se("$view")](){var i;const t=this.state.isShow?this.pathGenerator.makeSVGPath():"",r=g.parse((i=this.state.current)==null?void 0:i["stroke-width"]).value||0;return{class:{path:this.state.mode==="path",modify:this.state.mode==="modify",transform:this.state.mode==="transform",box:this.state.box==="box",canvas:this.state.box==="canvas","segment-move":this.state.mode==="segment-move","is-control":this.state.isControl,"has-one-stroke-width":r===1},htmlDiff:t}}[se("$splitCircle")](){return this.state.splitXY?{cx:this.state.splitXY.x,cy:this.state.splitXY.y,r:5}:{r:0}}refreshPathLayer(){this.updatePathLayer()}renderPath(){this.bindData("$view")}getPathRect(){this.initRect(!0);const{d:t}=this.pathGenerator.toPath();return rr(W.fromSVGString(t).getBBox())}resetTransformZone(){var t=this.getPathRect();this.state.transformZoneRect=t}[rs("$view")+Pe](t){if(this.initRect(),this.isMode("path")&&this.state.rect)this.state.moveXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.altKey=t.altKey,this.renderPath();else{var r=be.create(t.target),i=r.hasClass("split-path");i?this.state.splitXY=this.calculatePointOnLine(r.attr("d"),{x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y}):this.state.splitXY=null,this.bindData("$splitCircle"),this.state.altKey=!1}}[xe("$view :not(.split-path)")+Pe+Jt+Ve()+ze()](t){this.initRect(),this.state.altKey=!1;var r=this.isMode("path");this.$config.set("set.move.control.point",!0),this.state.dragXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.$config.set("set.drag.path.area",!1);var i=be.create(t.target);if(i.hasClass("svg-editor-canvas")&&!r?(this.$config.set("set.drag.path.area",!0),this.state.isGroupSegment=!1,this.state.selectedGroupIndex=-1,this.state.selectedPointIndex=-1):(this.pathGenerator.reselect(),this.state.isSegment=i.attr("data-segment")==="true",this.state.isFirstSegment=this.state.isSegment&&i.attr("data-is-first")==="true",this.state.isGroupSegment=i.hasClass("path-area"),this.state.isGroupSegment?(this.state.selectedGroupIndex=+i.data("group-index"),this.state.selectedPointIndex=+i.data("point-index")):(this.state.selectedGroupIndex=-1,this.state.selectedPointIndex=-1)),r){if(this.state.isFirstSegment){var s=+i.attr("data-index");this.state.startPoint=this.pathGenerator.points[s].startPoint}else this.state.startPoint=this.state.dragXY;this.state.dragPoints=!1,this.state.endPoint=null}else if(this.state.isSegment){this.changeMode("segment-move");var[s,n]=i.attrs("data-index","data-segment-point");const l=+s;t.shiftKey?this.pathGenerator.toggleSelect(n,l):(this.pathGenerator.setCachePoint(l,n),this.pathGenerator.selectKeyIndex(n,l)),this.renderPath()}else this.state.isGroupSegment&&(this.changeMode("segment-move"),this.pathGenerator.selectGroup(this.state.selectedGroupIndex),this.renderPath())}move(t,r){var i=this.$config.get("bodyEvent");this.$config.true("set.drag.path.area")?this.renderSelectBox(this.state.dragXY,t,r):this.isMode("segment-move")?(this.pathGenerator.move(t,r,i),this.renderPath(),this.updatePathLayer()):this.isMode("path")&&Yt(t,r,0,0)>=2&&(this.state.dragPoints=!i.altKey)}renderSegment(t){this.pathGenerator.selectedLength&&(this.pathGenerator.reselect(),ye(t)&&t(),this.renderPath(),this.updatePathLayer())}end(t,r){var i=this.$config.get("bodyEvent");this.$config.set("set.move.control.point",!1),this.state.isGroupSegment&&this.pathGenerator.select(),this.$config.true("set.drag.path.area")?t===0&&r===0?(this.changeMode("modify"),this.trigger("hidePathEditor")):(this.changeMode("segment-move"),this.pathGenerator.selectInBox(this.getSelectBox(),i.shiftKey),this.renderPath(),this.hideSelectBox()):this.isMode("modify")?this.pathGenerator.reselect():this.isMode("segment-move")?(this.changeMode("modify"),this.pathGenerator.reselect(),this.renderPath(),this.updatePathLayer()):this.isMode("path")&&(this.state.isFirstSegment?(this.changeMode("modify"),this.pathGenerator.setConnectedPoint(t,r),this.renderPath(),this.state.current?this.refreshPathLayer():(this.addPathLayer(),this.trigger("initPathEditorView"))):this.state.isSplitPath||(this.pathGenerator.moveEnd(t,r),this.state.clickCount++,this.renderPath(),this.pathGenerator.reselect()),this.state.isSplitPath=!1)}hideSelectBox(){this.refs.$segmentBox.css({left:-1e5})}renderSelectBox(t=null,r=0,i=0){var s={left:t.x+(r<0?r:0),top:t.y+(i<0?i:0),width:Math.abs(r),height:Math.abs(i)};this.refs.$segmentBox.css(s)}getSelectBox(){var[t,r,i,s]=this.refs.$segmentBox.styles("left","top","width","height").map(o=>g.parse(o)),n={x:t,y:r,width:i,height:s};return n.x2=n.x.value+n.width,n.y2=n.y.value+n.height,n}[I("deleteSegment")](){this.pathGenerator.reselect(),this.pathGenerator.removeSelectedSegment(),this.renderPath(),this.updatePathLayer()}[I("moveSegment")](t,r){this.pathGenerator.reselect(),this.pathGenerator.moveSelectedSegment(t,r),this.renderPath(),this.updatePathLayer()}[I("initPathEditorView")](){this.pathParser.reset(""),this.setState(this.initState(),!1),this.state.isShow=!0,this.refs.$view.empty(),this.$el.focus()}}var UO="";const nj={"segment-move":"modify",modify:"modify",path:"path",transform:"transform",warp:"warp"};class oj extends K{initState(){return{mode:"move",fill:null,stroke:null,"fill-opacity":null,"stroke-width":null,msg:this.$i18n("path.manager.msg")}}template(){return`
      <div class='elf--path-manager'>
        <div class="tools left" ref="$left">
            <button type="button" class="primary" data-value='PathEditorDone' title='${this.$i18n("path.manager.mode.modify")}' >Done</button>
        </div>
        <div class='tools' ref='$mode' data-selected-value='${this.state.mode}'>
            <button type="button" data-value='modify' data-tooltip='${this.$i18n("path.manager.mode.modify")}' > ${O("device_hub")}</button>
            <button type="button" data-value='path' data-tooltip='${this.$i18n("path.manager.mode.path")}' > ${O("control_point")}</button>
            <button type="button" data-value='transform' data-tooltip='${this.$i18n("path.manager.mode.transform")}' > ${O("transform")}</button>             
        </div>
        <div class="split"></div>        
        <div class='tools' ref='$util'>
            <button type="button" data-value='reverse' data-tooltip='${this.$i18n("path.manager.mode.reverse")}' >${O("sync")}</button>
        </div>                        
        <div class='tools' ref='$flip'>
            <button type="button" data-value='flipX' data-tooltip='${this.$i18n("path.manager.mode.flipX")}'>${O("flip")}</button>
            <button type="button" data-value='flipY' data-tooltip='${this.$i18n("path.manager.mode.flipY")}'>${O("flip","rotate(90 12 12)")}</button>
            <button type="button" data-value='flip' data-tooltip='${this.$i18n("path.manager.mode.flipOrigin")}'>${O("flip","rotate(45 12 12)")}</button>
            <div class="split"></div>            
            <button type="button" data-value='2x' data-tooltip="divide segment by 2 times">2x</button>
            <button type="button" data-value='3x' data-tooltip="divide segment by 3 times">3x</button>            
        </div>
        <div class="subpath" style="display:none">
          <button type="button" data-value="path" data-pathtype="rect">${O("rect","",{width:24,height:24})}</button>
        </div>
      </div>    
    `}[se("$mode")](){return{"data-selected-value":nj[this.state.mode]}}refresh(){this.bindData("$mode")}[F("$flip button")](t){var r=t.$dt.attr("data-value");r==="2x"?this.emit("divideSegmentsByCount",2):r==="3x"?this.emit("divideSegmentsByCount",3):this.emit("changePathTransform",r)}[F("$util button")](t){var r=t.$dt.attr("data-value");this.emit("changePathUtil",r)}[F("$mode button")](t){var r=t.$dt.attr("data-value");this.updateData({mode:r}),this.refresh()}[F("$left button")](t){var r=t.$dt.attr("data-value");this.emit(r)}updateData(t={}){this.setState(t,!1),this.emit(this.state.changeEvent,t)}[I("changePathManager")](t){this.setState({mode:t})}[I("showPathManager")](t={}){t.changeEvent=t.changeEvent||"changePathManager",this.setState(t),this.$el.show(),this.emit("addStatusBarMessage",this.state.msg)}[I("hidePathManager")](){this.$el.hide()}}function lj(a){a.registerUI("canvas.view",{PathEditorView:aj}),a.registerUI("page.subeditor.view",{PathManager:oj})}var XO="";class cj extends K{template(){return`
        <div class='elf--layer-append-view'>
            <div class='area' ref='$area'></div>
            <div class='area-rect' ref='$areaRect'></div>
            <div class='area-pointer' ref='$mousePointer'></div>
            <div class='area-pointer-view' ref='$mousePointerView'></div>            
            <input type='file' accept='image/*' multiple="true" ref='$file' class='embed-file-input'/>
            <input type='file' accept='video/*' multiple="true" ref='$video' class='embed-video-input'/>            
        </div>
        `}initState(){return{dragStart:!1,width:0,height:0,color:"black",fontSize:30,showRectInfo:!1,areaVerties:wt(0,0,0,0),content:"Insert a text",pathManager:new Rt,rect:{},options:{},containerItem:void 0,patternInfo:{}}}get scale(){return this.$viewport.scale}checkNotDragStart(){return Boolean(this.state.dragStart)===!1}[rs("$el")+Se("checkNotDragStart")](t){const r=this.$viewport.getWorldPosition(t),i=this.$snapManager.checkPoint(r);Mo(i,r)===!1?(this.state.target=i,this.state.targetVertex=this.$viewport.applyVertex(this.state.target),this.state.targetPositionVertex=Ft(this.state.target),this.state.targetGuides=this.$snapManager.findGuideOne([this.state.target])):(this.state.target=Zr([],r),this.state.targetVertex=Zr([],this.$viewport.applyVertex(this.state.target)),this.state.targetGuides=[],this.state.targetPositionVertex=null),this.bindData("$mousePointer"),this.bindData("$mousePointerView")}[xe("$el")+Ve()+ze()+Pe+Jt](t){this.initMousePoint=this.state.targetPositionVertex?this.state.targetPositionVertex:this.$viewport.getWorldPosition(t),this.state.dragStart=!0,this.state.color="#C4C4C4",this.state.text="";const r=this.initMousePoint[0],i=this.initMousePoint[1],s=wt(r,i,0,0);this.state.areaVerties=this.$viewport.applyVerties(s),this.bindData("$area"),this.bindData("$areaRect")}createLayerTemplate(t,r){const{type:i,text:s,color:n,inlineStyle:o}=this.state;switch(i){case"artboard":return`<div class='draw-item' style='background-color: white; ${o}'></div>`;case"rect":return`<div class='draw-item' style='background-color: ${n}; ${o}'></div>`;case"circle":return`<div class='draw-item' style='background-color: ${n}; border-radius: 100%; ${o}'></div>`;case"text":case"svg-text":return`
                <div 
                    class='draw-item' 
                    
                    style='font-size: 30px;outline: 1px solid blue;white-space:nowrap'
                >
                    <p contenteditable="true" style="margin:0px;display: inline-block;outline:none;" ></p>
                </div>`;case"svg-rect":return`
            <div class='draw-item'>
                <svg width="${t}" height="${r}" style="width:100%; height:100%;" overflow="visible">
                    <path d="${W.makeRect(0,0,t,r).d}" stroke-width="1" stroke="black" fill="transparent" />
                </svg>
            </div>
            `;case"svg-circle":return`
            <div class='draw-item'>
                <svg width="${t}" height="${r}" style="width:100%; height:100%;" overflow="visible">
                    <path d="${W.makeCircle(0,0,t,r).d}" stroke-width="1" stroke="black" fill="transparent" />
                </svg>
            </div>
            `;case"svg-path":const l=this.state.d.clone().scale(t/this.state.bboxRect.width,r/this.state.bboxRect.height).d,c=this.state.options;return`
            <div class='draw-item'>
                <svg width="${t}" height="${r}" style="width:100%; height:100%;" overflow="visible">
                    <path   d="${l}" 
                            stroke-width="${c["stroke-width"]||1}" 
                            stroke="${c.stroke||"black"}" 
                            fill="${c.fill||"transparent"}" 
                    />
                </svg>
            </div>
            `;case"polygon":const h=this.state.options;return`
                <div class='draw-item'>
                    <svg width="${t}" height="${r}" style="width:100%; height:100%;" overflow="visible">
                        <path   d="${W.makePolygon(t,r,h.count).d}" 
                                stroke-width="${h["stroke-width"]||1}" 
                                stroke="${h.stroke||"black"}" 
                                fill="${h.fill||"transparent"}" 
                        />
                    </svg>
                </div>
                `;case"star":const d=this.state.options;return`
                    <div class='draw-item'>
                        <svg width="${t}" height="${r}" style="width:100%; height:100%;" overflow="visible">
                            <path   d="${W.makeStar(t,r,d.count,d.radius,d.tension).d}" 
                                    stroke-width="${d["stroke-width"]||1}" 
                                    stroke="${d.stroke||"black"}" 
                                    fill="${d.fill||"transparent"}" 
                            />
                        </svg>
                    </div>
                    `;case"svg-textpath":return`
            <div class='draw-item' style='outline: 1px solid blue;'>
                <svg width="${t}" height="${r}" style="width:100%; height:100%;font-size: ${r}px;" overflow="visible">
                    <defs>
                        <path id='layer-add-path' d="${Rt.makeLine(0,r,t,r)}" />
                    </defs>
                    <text>
                        <textPath 
                          xlink:href="#layer-add-path"
                          textLength="100%"
                          lengthAdjust="spacingAndGlyphs"
                          startOffset="0em"
                        >${s}</textPath>
                    </text>
                </svg>
            </div>
            `;default:return`<div class='draw-item' style='outline: 1px solid blue; ${o}'></div>`}}[se("$area")](){const{areaVerties:t}=this.state,{left:r,top:i,width:s,height:n}=rr(t);return{style:{left:r,top:i,width:s,height:n},innerHTML:this.createLayerTemplate(s,n)}}[se("$areaRect")](){const{areaVerties:t,showRectInfo:r}=this.state,i=this.$viewport.applyVertiesInverse(t),{width:s,height:n}=rr(i);return{style:{display:r?"inline-block":"none",left:t[2][0],top:t[2][1]},innerHTML:`x: ${Math.round(i[0][0])}, y: ${Math.round(i[0][1])}, ${Math.round(s)} x ${Math.round(n)}`}}[se("$mousePointerView")](){const{areaVerties:t,showRectInfo:r}=this.state,{target:i=ci(),targetVertex:s=ci()}=this.state;return{style:{display:r?"none":"inline-block",left:s[0]||-1e4,top:s[1]||-1e4},innerHTML:`x: ${Math.round(i[0])}, y: ${Math.round(i[1])}`}}makeMousePointer(){if(this.state.dragStart)return"";const{target:t,targetVertex:r}=this.state;return t?`
        <svg width="100%" height="100%">
            ${(this.state.targetGuides||[]).filter(Boolean).map(s=>(this.state.pathManager.reset(),s=this.$viewport.applyVerties([s[0],s[1]]),this.state.pathManager.M({x:s[0][0],y:s[0][1]}).L({x:s[1][0],y:s[1][1]}).X({x:s[0][0],y:s[0][1]}).X({x:s[1][0],y:s[1][1]}).toString("layer-add-snap-pointer"))).join(`
`)}
        </svg>
    `:""}[se("$mousePointer")](){return{innerHTML:this.makeMousePointer()}}move(){const t=this.$config.get("bodyEvent"),r=this.$viewport.getWorldPosition(),i=this.$snapManager.checkPoint(r);Mo(i,r)===!1?(this.state.target=i,this.state.targetVertex=this.$viewport.applyVertex(i),this.state.targetGuides=this.$snapManager.findGuideOne([i]).filter(Boolean)):(this.state.target=void 0,this.state.targetGuides=[]);const s=t.shiftKey,n=Math.min(i[0],this.initMousePoint[0]),o=Math.min(i[1],this.initMousePoint[1]),l=Math.max(i[0],this.initMousePoint[0]),c=Math.max(i[1],this.initMousePoint[1]);let h=l-n,d=c-o;s&&(d=h);const p=wt(n,o,h,d);this.state.areaVerties=this.$viewport.applyVerties(p),this.state.showRectInfo=!0,this.bindData("$area"),this.bindData("$areaRect"),this.bindData("$mousePointer"),this.bindData("$mousePointerView")}end(t,r){const i=this.$config.get("bodyEvent").altKey;let{color:s,content:n,fontSize:o,areaVerties:l,patternInfo:c}=this.state;const h=this.$viewport.applyVertiesInverse(l),d=this.$selection.getArtboardByPoint(h[0]);let{x:p,y:u,width:m,height:$}=rr(h),S=!0;if(m===0&&$===0)switch(this.state.type){case"text":n="",$.set(this.state.fontSize),S=!1;break;default:m=100,$=100;break}var k=v(v({x:Math.floor(p),y:Math.floor(u),width:Math.floor(m),height:Math.floor($),"background-color":s,content:n,"font-size":o},c.attrs),this.state.options);switch(this.state.type){case"text":case"svg-text":case"svg-textpath":delete k["background-color"];break;case"svg-path":k.d=this.state.d.clone().scale(m/this.state.bboxRect.width,$/this.state.bboxRect.height).d;break;default:delete k.content;break}switch(this.state.type){case"image":this.trigger("openImage",k,d);break;case"video":this.trigger("openVideo",k,d);break;case"audio":this.trigger("openAudio",k,d);break;case"text":if(S)k["font-size"]=this.state.fontSize/this.$viewport.scale;else{const C=this.state.fontSize/this.$viewport.scale,z=this.refs.$area.$(".draw-item > p");z.parent().css("height",`${C}px`),z.parent().css("font-size",`${C}px`),z.select(),z.focus();return}default:this.emit("newComponent",this.state.type,k,!0,d);break}i||this.trigger("hideLayerAppendView"),this.state.dragStart=!1,this.state.showRectInfo=!1,this.state.target=void 0,this.bindData("$areaRect")}[I("showLayerAppendView")](t,r={}){this.state.type=t,this.state.options=r,this.state.isShow=!0,this.refs.$area.empty(),this.$el.show(),this.$el.focus(),this.$snapManager.clear();const i=this.$model.createModel(v({itemType:t},r),!1);this.state.inlineStyle=Ge(this.$editor.html.toCSS(i,{top:!0,left:!0,width:!0,height:!0,transform:!0,"transform-origin":!0})),r.d&&(this.state.d=new W(r.d),this.state.bboxRect=this.state.d.rect()),this.emit("push.mode.view","LayerAppendView")}[I("hideLayerAppendView")](){this.$el.isShow()&&(this.state.isShow=!1,this.$el.hide(),this.emit("pop.mode.view","LayerAppendView"),this.$config.set("editing.mode",hr.SELECT))}[I("hideAddViewLayer")](){this.state.isShow=!1,this.$el.hide()}isShow(){return this.state.isShow}[ia("document")+Se("isShow")+Is+Si](t){}[Xt("document")+Se("isShow")+Is+Si](t){switch(this.state.type){case"text":const r=be.create(t.target);let{fontSize:i,areaVerties:s}=this.state;const n=this.$viewport.applyVertiesInverse(s),{x:o,y:l}=rr(n),{width:c,height:h}=r.rect(),d=r.text();if(d.length===0)break;const[[p,u,m]]=this.$viewport.applyScaleVertiesInverse([[c,h,i]]),$={x:o,y:l,width:p,height:u,content:d.trim(),"font-size":m},S=this.$selection.getArtboardByPoint(n[0]);this.emit("newComponent",this.state.type,$,!0,S);break}this.state.dragStart=!1,this.state.showRectInfo=!1,this.state.target=null,this.bindData("$areaRect"),this.trigger("hideLayerAppendView")}[Cr("$file")](t){this.refs.$file.files.forEach(r=>{this.emit("updateImage",r,this.state.rect,this.state.containerItem)})}[Cr("$video")](t){this.refs.$video.files.forEach(r=>{this.emit("updateVideo",r,this.state.rect,this.state.containerItem)})}[I("openImage")](t,r){this.state.rect=t,this.state.containerItem=r,this.refs.$file.click()}[I("openVideo")](t,r){this.state.rect=t,this.state.containerItem=r,this.refs.$video.click()}[I("setPatternInfo")](t){this.state.patternInfo=t}[I("updateViewport")](){this.$snapManager.clear(),this.bindData("$mousePointer"),this.bindData("$mousePointerView")}}function hj(a){a.registerUI("canvas.view",{LayerAppendView:cj})}var YO="";class dj extends K{template(){return A("div",{class:"elf--hover-view sepia(0.2)"},A("div",{class:"elf--hover-rect",ref:"$hoverRect"}))}checkModeView(){const t=this.$config.get("bodyEvent");return!this.$viewport.checkInViewport(this.$viewport.getWorldPosition(t))||!be.create(t.target).closest("elf--page-container")?!1:this.$modeView.isCurrentMode("CanvasView")}[_t("bodyEvent")+Se("checkModeView")](){var o,l,c;if(this.$config.true("set.move.control.point")){this.$selection.setHoverId(""),this.renderHoverLayer();return}const t=this.$selection.filteredLayers,r=this.$viewport.getWorldPosition(this.$config.get("bodyEvent"));let s=t.filter(h=>h.hasPoint(r[0],r[1])).filter(h=>h.isNot("artboard")),n=(o=s[0])==null?void 0:o.id;if(this.$selection.isEmpty)n=(l=s[0])==null?void 0:l.id;else if(this.$selection.isOne){const h=this.$selection.current.pathIds;s=s.filter(d=>h.includes(d.id)===!1||d.id===this.$selection.current.id),n=(c=s[0])==null?void 0:c.id}n?this.$selection.setHoverId(n)&&this.renderHoverLayer():(this.$selection.setHoverId(""),this.renderHoverLayer())}[I("refreshHoverView")](t){this.$selection.setHoverId(t)&&this.renderHoverLayer()}[I("updateViewport","refreshSelectionStyleView")](){this.$selection.setHoverId(""),this.renderHoverLayer()}createVisiblePath(t){if(!t.is("boolean-path"))return"";const r=t.absolutePath();return r.transformMat4(this.$viewport.matrix),`
        <svg overflow="visible">
            <path
                d="${r.d}"
                stroke="red"
                stroke-width="2"
                fill="none"
                />
        </svg>
        `}renderHoverLayer(){const t=this.$selection.hoverItems;if(t.length===0)this.refs.$hoverRect.updateDiff(""),this.emit("removeGuideLine");else{const r=t[0].verties,i=this.createPointerLine(this.$viewport.applyVerties(r)),s=this.createOffsetLine();this.refs.$hoverRect.updateDiff(i+s),this.emit("refreshGuideLineByTarget",[t[0].verties])}}getOffsetVerties(t,r){const i=t.verties,s=r.verties,n={},o=this.$viewport.applyVerties([[i[0][0],ne([],i[0],i[3],.5)[1],0],[s[0][0],ne([],i[0],i[3],.5)[1],0]]);var l=he(...o);l>0&&(n.left=o);const c=this.$viewport.applyVerties([[ne([],i[0],i[1],.5)[0],i[1][1],0],[ne([],i[0],i[1],.5)[0],s[1][1],0]]);var l=he(...c);return l>0&&(n.top=c),n}createOffsetLine(){const t=this.$selection.hoverItems[0]||this.$selection.current;if(!t||!t.parent||t.parent&&t.parent.is("project"))return"";if(this.$selection.isEmpty){const r=this.getOffsetVerties(t,t.parent);return`
            <svg overflow="visible">
                <path
                    class="offset-line"
                    d="
                        ${os(r.left)}
                        ${os(r.right)}
                        ${os(r.top)}
                        ${os(r.bottom)}
                    "
                    />
            </svg>
            `}else{const r=this.getOffsetVerties(t,this.$selection.current);return`
            <svg overflow="visible">
                <path
                    d="
                        ${os(r.left)}
                        ${os(r.top)}
                    "
                    stroke="red"
                    stroke-width="1"
                    stroke-dasharray="5, 10"
                    fill="none"
                    />
            </svg>
            `}}createPointerLine(t,r=[]){return t.length===0?"":`
        <svg overflow="visible">
            <path 
                class='line' 
                d="
                    M ${t[0][0]}, ${t[0][1]} 
                    L ${t[1][0]}, ${t[1][1]} 
                    L ${t[2][0]}, ${t[2][1]} 
                    L ${t[3][0]}, ${t[3][1]} 
                    L ${t[0][0]}, ${t[0][1]}
                    Z
                " 
            />
        </svg>`}}function uj(a){a.registerUI("canvas.view",{HoverView:dj})}var WO="";const Zs=(a,t,r="base-line")=>`<line x1="${a[0]}" y1="${a[1]}" x2="${t[0]}" y2="${t[1]}" class='${r}' />`,Fu=(a,t,r="base-line")=>{const i=`${Math.floor(a)}`,s=13,n=16,o=i.length*s,l=n;return`
    
        <rect x="${t[0]-o/4}" y="${t[1]-n-2}" width="${o}" height="${l}" rx="2" ry="2" fill="#00a9f4" />
        <text x="${t[0]}" y="${t[1]}" dy="-5" font-size="16">${i}</text>
    `},pj=(a,t)=>Zs(a,t),gj=(a,t)=>Zs(a,t),Bu=a=>`
    <path 
        class="base-rect"
        fill="none"
        stroke-width="1"
        stroke="red"
        stroke-dasharray="2 2"
        d="${W.makeRect(a[0][0],a[0][1],he(a[0],a[1]),he(a[0],a[3])).d}
        " 
    />
`,Nu=(a,t=3,r="left")=>r==="left"?`
        <path 
            class="arrow"
            d="
                M ${a[0]+t} ${a[1]-t}
                L ${a[0]} ${a[1]}
                L ${a[0]+t} ${a[1]+t}
            " 
        />
    `:r==="right"?`
        <path 
            class="arrow"
            d="
                M ${a[0]-t} ${a[1]-t}
                L ${a[0]} ${a[1]}
                L ${a[0]-t} ${a[1]+t}
            " 
        />
    `:r==="up"?`
        <path 
            class="arrow"
            d="
                M ${a[0]-t} ${a[1]+t}
                L ${a[0]} ${a[1]}
                L ${a[0]+t} ${a[1]+t}
            " 
        />
    `:r==="down"?`
        <path 
            class="arrow"
            d="
                M ${a[0]-t} ${a[1]-t}
                L ${a[0]} ${a[1]}
                L ${a[0]+t} ${a[1]-t}
            " 
        />
    `:`
        <path 
            stroke-width="1"
            d="
                M ${a[0]-t} ${a[1]-t}
                L ${a[0]+t} ${a[1]+t}
                M ${a[0]-t} ${a[1]+t}
                L ${a[0]+t} ${a[1]-t}
            " 
        />
    `;class fj extends K{template(){return`
            <svg class='elf--guide-line-view' ref="$guide" width="100%" height="100%" ></svg>
            `}initState(){return{list:[]}}[se("$guide")](){return{svgDiff:`<g>${this.createGuideLine(this.state.list)}</g>`}}createGuideLine(t){var r=[],i=[];t=t.filter(Boolean);for(var s=0,n=t.length;s<n;s++){const[o,l,c,h,d,p,u,m]=t[s],$=Math.floor(h),S=this.$viewport.applyVertex(o),k=this.$viewport.applyVertex(l);let C;d&&(C=this.$viewport.applyVerties([d])[0]),c==="x"&&($>0&&r.push(Zs(S,k,"dash-line")),C&&r.push(Zs(k,C,"dash-line")),$>0&&i.push(Fu($,ne([],S,k,.5)))),c==="y"&&($>0&&r.push(Zs(S,k,"dash-line")),C&&r.push(Zs(k,C,"dash-line")),$>0&&i.push(Fu($,we([],ne([],S,k,.5),[20,0,0])))),c==="x"&&r.push(pj(k,S)),c==="y"&&r.push(gj(k,S)),this.state.hasVerties&&(r.push(Nu(S,3,"vertex")),r.push(Nu(k,3,"vertex"))),p&&(this.$selection.isOne&&this.$editor.isPointerDown||this.$selection.isMany&&!this.$editor.isPointerMove)&&r.push(Bu(this.$viewport.applyVerties(p))),u&&r.push(Bu(this.$viewport.applyVerties(u)))}return[...r,...i].join("")}removeGuideLine(){this.setState({list:[]})}setGuideLine(t,r=!1){this.setState({list:t,hasVerties:r})}[I("removeGuideLine","refreshSelection")](){this.removeGuideLine()}[I("refreshGuideLineByTarget")](t=[]){return this.refreshSmartGuides(t)}[I("updateViewport")](){this.refresh()}refreshSmartGuides(t){if(this.$selection.isEmpty)return;const r=Tr(this.$selection.verties);let i;if(t)i=t.map(o=>Tr(o));else{const o=this.$selection.snapTargetLayers.map(l=>{const c=Tr(l.verties);return{targetVerties:c,dist:he(c[4],r[4])}});o.sort((l,c)=>l.dist-c.dist),i=o.map(l=>l.targetVerties)}const s=i.map(o=>nh(r,o));s.sort((o,l)=>o[3]-l[3]);const n=[s[0],s[1]].filter(Boolean);this.setGuideLine(n)}refreshSmartGuidesForVerties(){const t=this.$snapManager.findGuide(this.$selection.verties);this.setGuideLine(t,!0)}[I("refreshSelectionStyleView")](){if(this.$selection.isMany)return;!this.$selection.hasChangedField("d","clip-path")&&this.$selection.hasChangedField("x","y","width","height","transform","transform-origin")&&this.refreshSmartGuidesForVerties()}}function mj(a){a.registerUI("canvas.view",{GuideLineView:fj})}var KO="";class vj extends K{template(){return A("div",{class:"elf--selection-info-view"})}[xe("$el [data-artboard-title-id]")+Ut+Ve("calculateMovedElement")+ze("calculateEndedElement")](t){this.startXY=t.xy,this.initMousePoint=this.$viewport.getWorldPosition(t);const r=t.$dt.attr("data-artboard-title-id");this.$selection.select(r),t.altKey&&(this.$selection.selectAfterCopy(),this.emit("refreshAllCanvas"),this.emit("refreshLayerTreeView")),this.initializeDragSelection(),this.emit("history.refreshSelection"),this.$config.set("set.move.control.point",!0)}initializeDragSelection(){this.$selection.reselect(),this.$snapManager.clear(),this.emit("refreshSelectionTool")}moveTo(t){const r=this.$snapManager.check(this.$selection.cachedRectVerties.map(n=>we([],n,t)),3),i=we([],r,t),s={};this.$selection.cachedItemMatrices.forEach(n=>{const o=n.verties.map(c=>we([],c,i)),l=Te([],Ye([],o[0],n.parentMatrixInverse),Ye([],n.verties[0],n.parentMatrixInverse));s[n.id]={x:Math.floor(n.x+l[0]),y:Math.floor(n.y+l[1])}}),this.$selection.reset(s)}calculateMovedElement(){const t=this.$viewport.getWorldPosition(),r=Zr([],Te([],t,this.initMousePoint));this.moveTo(r),this.emit("setAttributeForMulti",this.$selection.pack("x","y")),this.emit("refreshSelectionStyleView"),this.refresh()}[I("refreshItemName")](t,r){var i;this.emit("setAttributeForMulti",{[t]:{name:r}}),(i=this.$el.$(`[data-artboard-title-id='${t}']`))==null||i.text(r)}calculateEndedElement(t,r){this.command("setAttributeForMulti","move item",this.$selection.pack("x","y")),this.$config.set("set.move.control.point",!1)}[I("updateViewport")](){this.refresh()}[I("refreshSelectionStyleView")](){this.$selection.current&&this.$selection.current.is("artboard")&&this.$selection.hasChangedField("x","y","width","height","transform","transform-origin")&&this.refresh()}[U("$el")+st](){var t;return(t=this.$selection.currentProject)==null?void 0:t.artboards.map(r=>({item:r,title:r.name,id:r.id,layout:r.layout,pointers:this.$viewport.applyVerties(r.verties)})).map(r=>this.makeArtboardTitleArea(r))}getIcon(t){return t.hasLayout()||t.hasChildren()||t.is("artboard")?t.isLayout("flex")?O("layout_flex",t["flex-direction"]==="column"?"rotate(90 12 12)":""):t.isLayout("grid")?O("layout_grid"):"":this.$icon.get(t.itemType,t)}createSize(t,r){const i=t[0],s=Te([],t[0],t[3]),n=nt(s[0],s[1])-90;return A("div",{class:"artboard-title is-not-drag-area","data-artboard-title-id":r.id,"data-layout":r.layout,style:{"transform-origin":"0% 0%",transform:`translate3d( calc(${i[0]}px), calc(${i[1]}px), 0px) rotateZ(${n}deg)`}},A("div",{style:"transform: translateY(-100%);"},this.getIcon(r.item),r.title))}makeArtboardTitleArea(t){return this.createSize(t.pointers,t)}[I("refreshAll")](){this.refresh()}}function yj(a){a.registerUI("canvas.view",{SelectionInfoView:vj})}var ZO="",bj={1:"to top left",2:"to top right",3:"to bottom right",4:"to bottom left",11:"to top",12:"to right",13:"to bottom",14:"to left"};const $j=class extends K{[I("refreshSelectionTool")](a=!0){this.initSelectionTool(a)}[I("updateViewport")](){this.$selection.isOne&&this.initSelectionTool()}};class xj extends $j{template(){return`
            <div class='elf--selection-view one-selection-view' ref='$selectionView' style='display:none' >
                <div class='pointer-rect' ref='$pointerRect'></div>
            </div>
        `}toggleEditingPath(t){this.$el.toggleClass("editing-path",t)}[xe("$pointerRect .rotate-pointer")+Ve("rotateVertex")+ze("rotateEndVertex")](t){this.state.moveType="rotate",this.initMousePoint=this.$viewport.getWorldPosition(t),this.$selection.reselect(),this.verties=ve(this.$selection.verties),this.$snapManager.clear(),this.rotateTargetNumber=+t.$dt.attr("data-number"),this.refreshRotatePointerIcon(),this.state.dragging=!0,this.state.isRotate=!0,this.$config.set("set.move.control.point",!0),this.initAngle=this.$selection.current.angle}rotateVertex(){const t=this.$viewport.getWorldPosition(),r=Te([],t,this.initMousePoint),i=this.rotateTargetNumber===4?ma(this.verties,34):this.verties[this.rotateTargetNumber];var s=Math.floor(bn(i,this.verties[4],r));const n=this.$selection.current;let o=this.initAngle+s;n&&(this.$config.get("bodyEvent").shiftKey&&(o-=o%this.$config.get("fixed.angle")),n.angle=o%360),this.state.dragging=!0,this.emit("setAttributeForMulti",this.$selection.pack("angle"))}rotateEndVertex(){this.state.dragging=!1,this.state.isRotate=!1,this.emit("recoverCursor"),this.$config.set("set.move.control.point",!1),this.verties=null,this.nextTick(()=>{this.command("setAttributeForMulti","change rotate",this.$selection.pack("angle"))})}refreshRotatePointerIcon(t){this.emit("refreshCursor","rotate")}refreshPointerIcon(t){const r=t.$dt.data("pointer");if(r){const i=r.split(",").map(l=>Number(l)),s=Te([],i,this.state.renderPointerList[0][4]),n=nt(s[0],s[1]);let o=Math.floor(n);this.emit("refreshCursor","open_in_full",`rotate(${o} 8 8)`)}else this.emit("recoverCursor")}checkPointerIsNotMoved(t){return Boolean(this.state.dragging)===!1}[aa("$pointerRect .rotate-pointer")+Se("checkPointerIsNotMoved")](t){this.refreshRotatePointerIcon(t)}[aa("$pointerRect .pointer")+Se("checkPointerIsNotMoved")](t){this.refreshPointerIcon(t)}[na("$pointerRect .pointer,.rotate-pointer")+Se("checkPointerIsNotMoved")](t){this.emit("recoverCursor")}[xe("$pointerRect .pointer")+Ve("moveVertex")+ze("moveEndVertex")](t){this.refreshPointerIcon(t),this.state.dragging=!0;const r=+t.$dt.attr("data-number"),i=bj[`${r}`];this.initMousePoint=this.$viewport.getWorldPosition(t),this.state.moveType=i,this.state.moveTarget=r,this.$selection.reselect(),this.$snapManager.clear(),this.verties=this.$selection.verties,this.hasRotate=this.$selection.current.angle!==0,this.$config.set("set.move.control.point",!0),this.$selection.startToCacheChildren()}calculateDistance(t,r,i){const s=Ft(t),n=we([],s,r),o=this.$snapManager.check([n]),l=we([],n,o),[c,h]=ce([s,l],i);return Te([],h,c)}calculateRealDist(t,r,i){return this.calculateDistance(t.verties[r],i,t.absoluteMatrixInverse)}moveItem(t,r,i,s,n={}){if(t){let o={x:r[0]+(i<0?i:0),y:r[1]+(s<0?s:0),width:Math.abs(i),height:Math.abs(s)};t.isLayoutItem()&&(delete o.x,delete o.y),this.hasRotate||(o=wh(o)),t.reset(v(v({},o),n))}}moveDirectionVertex(t,r,i,s,n,o={}){const l=Te([],kr.scale(t.originalTransformOrigin,r,i),n),c=hi(ut([],n),ut([],l),t.itemMatrix,ut([],At([],l))),h=Wt(t.directionMatrix[s],c),d=Ci([],h);this.moveItem(this.$model.get(t.id),d,r,i,o)}moveBottomRightVertex(t){const{shiftKey:r,altKey:i,metaKey:s}=this.$config.get("bodyEvent"),n=this.$selection.cachedCurrentItemMatrix;if(n){let[o,l]=this.calculateRealDist(n,2,t),c=Ee(0,0,0);i&&(o=o*2,l=l*2),r&&(l=o*n.height/n.width);const h=n.width+o,d=s?h:n.height+l;i&&(c=Ee(o/2,l/2,0)),this.moveDirectionVertex(n,h,d,"to top left",c,{resizingVertical:Ae.FIXED,resizingHorizontal:Ae.FIXED})}}moveTopRightVertex(t){const{shiftKey:r,altKey:i,metaKey:s}=this.$config.get("bodyEvent"),n=this.$selection.cachedCurrentItemMatrix;if(n){let[o,l]=this.calculateRealDist(n,1,t);i&&(o=o*2,l=l*2),r&&(l=-(o*n.height/n.width));const c=n.width+o,h=s?c:n.height-l;let d=Ee(0,h,0);i&&(d=Ee(o/2,h+l/2,0)),this.moveDirectionVertex(n,c,h,"to bottom left",d,{resizingVertical:Ae.FIXED,resizingHorizontal:Ae.FIXED})}}moveTopLeftVertex(t){const{shiftKey:r,altKey:i,metaKey:s}=this.$config.get("bodyEvent"),n=this.$selection.cachedCurrentItemMatrix;if(n){let[o,l]=this.calculateRealDist(n,0,t);i&&(o=o*2,l=l*2),r&&(l=o*n.height/n.width);const c=n.width-o,h=s?c:n.height-l;let d=Ee(c,h,0);i&&(d=Ee(c+o/2,h+l/2,0)),this.moveDirectionVertex(n,c,h,"to bottom right",d,{resizingHorizontal:Ae.FIXED,resizingVertical:Ae.FIXED})}}moveTopVertex(t){const{altKey:r}=this.$config.get("bodyEvent"),i=this.$selection.cachedCurrentItemMatrix;if(i){let[s,n]=this.calculateRealDist(i,0,t);r&&(n=n*2);const o=i.width,l=i.height-n;let c=Ee(o/2,l,0);r&&(c=Ee(o/2,l+n/2,0)),this.moveDirectionVertex(i,o,l,"to bottom",c,{resizingVertical:Ae.FIXED})}}moveBottomVertex(t){const{altKey:r}=this.$config.get("bodyEvent"),i=this.$selection.cachedCurrentItemMatrix;if(i){let[s,n]=this.calculateRealDist(i,3,t);r&&(n=n*2);const o=i.width,l=i.height+n;let c=Ee(o/2,0,0);r&&(c=Ee(o/2,n/2,0)),this.moveDirectionVertex(i,o,l,"to top",c,{resizingVertical:Ae.FIXED})}}moveRightVertex(t){const{altKey:r}=this.$config.get("bodyEvent"),i=this.$selection.cachedCurrentItemMatrix;if(i){let[s,n]=this.calculateRealDist(i,1,t);r&&(s=s*2);const o=i.width+s,l=i.height;let c=Ee(0,l/2,0);r&&(c=Ee(s/2,l/2,0)),this.moveDirectionVertex(i,o,l,"to left",c,{resizingHorizontal:Ae.FIXED})}}moveLeftVertex(t){const{altKey:r}=this.$config.get("bodyEvent"),i=this.$selection.cachedCurrentItemMatrix;if(i){let[s,n]=this.calculateRealDist(i,0,t);r&&(s=s*2);const o=i.width-s,l=i.height;let c=Ee(o,l/2,0);r&&(c=Ee(o+s/2,l/2,0)),this.moveDirectionVertex(i,o,l,"to right",c,{resizingHorizontal:Ae.FIXED})}}moveBottomLeftVertex(t){const{shiftKey:r,altKey:i,metaKey:s}=this.$config.get("bodyEvent"),n=this.$selection.cachedCurrentItemMatrix;if(n){let[o,l]=this.calculateRealDist(n,3,t);i&&(o=o*2,l=l*2),r&&(l=-(o*n.height/n.width));const c=n.width-o,h=s?c:n.height+l;let d=Ee(c,0,0);i&&(d=Ee(c+o/2,l/2,0)),this.moveDirectionVertex(n,c,h,"to top right",d,{resizingVertical:Ae.FIXED,resizingHorizontal:Ae.FIXED})}}moveVertex(){const t=this.$viewport.getWorldPosition(),r=Te([],t,this.initMousePoint);this.state.moveType==="to top left"?this.moveTopLeftVertex(r):this.state.moveType==="to top"?this.moveTopVertex(r):this.state.moveType==="to right"?this.moveRightVertex(r):this.state.moveType==="to bottom"?this.moveBottomVertex(r):this.state.moveType==="to left"?this.moveLeftVertex(r):this.state.moveType==="to top right"?this.moveTopRightVertex(r):this.state.moveType==="to bottom right"?this.moveBottomRightVertex(r):this.state.moveType==="to bottom left"&&this.moveBottomLeftVertex(r),this.$selection.recoverChildren(),this.emit("setAttributeForMulti",this.$selection.pack("x","y","angle","width","height","resizingHorizontal","resizingVertical")),this.state.dragging=!0}moveEndVertex(){this.state.dragging=!1,this.emit("recoverCursor"),this.$selection.reselect(),this.$config.set("set.move.control.point",!1),this.nextTick(()=>{this.$selection.recoverChildren(),this.command("setAttributeForMulti","move selection pointer",this.$selection.pack("x","y","width","height")),this.emit("recoverBooleanPath")})}show(){this.$el.show(),this.state.show=!0}hide(){this.$el.hide(),this.state.show=!1}initSelectionTool(t=!0){this.$el.isShow()&&this.$selection.isOne===!1?this.hide():this.$el.isHide()&&this.$selection.isOne&&this.show(),this.makeSelectionTool()}makeSelectionTool(){this.renderPointers()}getRateDistance(t,r,i=0){return ne([],t,r,(he(t,r)+i)/he(t,r))}renderPointers(){if(!this.$selection.cachedCurrentItemMatrix||this.$selection.isEmpty)return;const t=this.$selection.verties;if(he(t[0],t[1])===0)return;const r=this.$viewport.applyVerties(t);this.state.renderPointerList=[r,[this.getRateDistance(r[4],r[0],20),this.getRateDistance(r[4],r[1],20),this.getRateDistance(r[4],r[2],20),this.getRateDistance(r[4],r[3],20)]];const i=this.createRenderPointers(...this.state.renderPointerList);if(i){const{line:s,parentRect:n,point:o,size:l,visiblePath:c}=i;this.refs.$pointerRect.updateDiff(s+n+o+l+c)}}createPointer(t,r,i){return`
        <div class='pointer' data-number="${r}" data-pointer="${t}" style="transform: translate3d( calc(${t[0]}px - 50%), calc(${t[1]}px - 50%), 0px) rotateZ(${i||"0deg"})" ></div>
        `}createPointerSide(t,r,i,s,n){return`
        <div class='pointer' data-number="${r}" data-pointer="${t}" style="width: ${s}px; height: ${n}px;transform: translate3d( calc(${t[0]}px - 50%), calc(${t[1]}px - 50%), 0px) rotateZ(${i||"0deg"})" ></div>
        `}createRotatePointer(t,r,i){return t.length===0?"":r<4?`
            <div class='rotate-pointer no-fill' data-number="${r}" style="transform: translate3d( calc(${t[0]}px - 50%), calc(${t[1]}px - 50%), 0px) scale(1.8);" ></div>
            `:`
        <div class='rotate-pointer' data-number="${r}" style="transform: translate3d( calc(${t[0]}px - 50%), calc(${t[1]}px - 50%), 0px)" ></div>
        `}createPointerRect(t,r=void 0){if(t.length===0)return"";const i=this.$selection.current,s=i&&i.is("artboard");let n="";if(!s&&r){const o=ne([],t[0],t[1],.5);n+=`
                M ${o[0]},${o[1]} 
                L ${r[0]},${r[1]} 
            `}return`
        <svg class='line' overflow="visible">
            <path 
                d="
                    M ${t[0][0]}, ${t[0][1]} 
                    L ${t[1][0]}, ${t[1][1]} 
                    L ${t[2][0]}, ${t[2][1]} 
                    L ${t[3][0]}, ${t[3][1]} 
                    L ${t[0][0]}, ${t[0][1]}
                    ${n}
                    Z
                " />
        </svg>`}createParentRect(t=[]){return t.length===0?"":`
        <svg class='line' overflow="visible">
            <path 
                d="
                    M ${t[0][0]}, ${t[0][1]} 
                    L ${t[1][0]}, ${t[1][1]} 
                    L ${t[2][0]}, ${t[2][1]} 
                    L ${t[3][0]}, ${t[3][1]} 
                    L ${t[0][0]}, ${t[0][1]}
                    Z
                " 
                stroke="red"
                />
        </svg>`}createSize(t){const r=ne([],t[0],t[1],.5),i=ne([],t[1],t[2],.5),s=ne([],t[2],t[3],.5),n=ne([],t[3],t[0],.5),o=[{start:r,end:s},{start:i,end:n},{start:s,end:r},{start:n,end:i}].map((k,C)=>({index:C,data:k}));o.sort((k,C)=>k.data.start[1]>C.data.start[1]?-1:1);const l=o[0],c=ne([],l.data.end,l.data.start,1+16/he(l.data.start,l.data.end)),h=this.$selection.current.width,d=this.$selection.current.height,p=Te([],l.data.start,l.data.end),u=nt(p[0],p[1])+90,m=We(h,100),$=We(d,100);let S=m===$?`WH: ${m}`:`${We(h,100)} x ${We(d,100)}`;if(this.state.isRotate){const k=Ke.get(this.$selection.current.transform,"rotateZ");k&&(S=`${We(k[0].value,1e3)}\xB0`)}return`
            <div 
                data-layout="${this.$selection.current.layout}"
                class='size-pointer' 
                style="transform: translate3d( calc(${c[0]}px - 50%), calc(${c[1]}px - 50%), 0px) rotateZ(${u}deg)" >
               ${S}
            </div>
        `}createVisiblePath(){const t=this.$selection.current;if(!t||!t.isBooleanItem)return"";const r=t.absolutePath();return r.transformMat4(this.$viewport.matrix),`
        <svg class='line' overflow="visible">
            <path
                d="${r.d}"
                stroke="red"
                stroke-width="2"
                fill="none"
                />
        </svg>
        `}removeNaN(t){return t.replace(/NaN/g,"0")}createRenderPointers(t,r){const i=this.$selection.current;if(i&&i.is("text")&&i.width===0&&i.height===0)return;i&&i.is("artboard");const s=g.deg(i.angle).round(1e3);ma(t,34);const n=he(t[0],t[2]),o=he(t[0],t[1]),l=he(t[0],t[3]);return{line:this.createPointerRect(t),size:this.createSize(t),parentRect:"",visiblePath:this.createVisiblePath(),point:[this.createRotatePointer(r[0],0),this.createRotatePointer(r[1],1),this.createRotatePointer(r[2],2),this.createRotatePointer(r[3],3),n<20?void 0:this.createPointerSide(ne([],t[0],t[1],.5),11,s,o,5),n<20?void 0:this.createPointerSide(ne([],t[1],t[2],.5),12,s,5,l),n<20?void 0:this.createPointerSide(ne([],t[2],t[3],.5),13,s,o,5),n<20?void 0:this.createPointerSide(ne([],t[3],t[0],.5),14,s,5,l),this.createPointer(t[0],1,s),this.createPointer(t[1],2,s),this.createPointer(t[2],3,s),this.createPointer(t[3],4,s),this.createPointer(t[4],5,s)].join("")}}checkShow(){return!!(this.state.show&&this.$selection.isOne&&this.$selection.hasChangedField("x","y","width","height","angle","constraints-horizontal","constraints-vertical","resizingHorizontal","resizingVertical","transform-origin","perspective","perspective-origin"))}[I("refreshSelectionStyleView")+Se("checkShow")](){this.renderPointers()}[I("hideSelectionToolView")](){this.hide()}}var _j={1:"to top left",2:"to top right",3:"to bottom right",4:"to bottom left",11:"to top",12:"to right",13:"to bottom",14:"to left"};const Sj=class extends K{[I("refreshSelectionTool")](a=!0){this.initSelectionTool(a)}[I("updateViewport")](a=!0){this.$selection.isMany&&this.initSelectionTool(a)}};class wj extends Sj{template(){return`
            <div class='elf--selection-view group-selection-view' ref='$selectionView'  style='display:none' >
                <div class='pointer-rect' ref='$pointerRect'></div>        
            </div>
        `}toggleEditingPath(t){this.refs.$selectionView.toggleClass("editing-path",t)}[xe("$pointerRect .rotate-pointer")+Ve("rotateVertex")+ze("rotateEndVertex")](t){this.state.moveType="rotate",this.initMousePoint=this.$viewport.getWorldPosition(t),this.verties=this.groupItem.verties,this.rotateTargetNumber=+t.$dt.attr("data-number"),this.refreshRotatePointerIcon(),this.state.dragging=!0,this.state.isRotate=!0,this.$config.set("set.move.control.point",!0)}rotateVertex(){const t=this.$viewport.getWorldPosition(),r=Te([],t,this.initMousePoint),i=this.rotateTargetNumber===4?ma(this.verties,34):this.verties[this.rotateTargetNumber];var s=Math.floor(bn(i,this.verties[4],r));this.$config.get("bodyEvent").shiftKey&&(s=s-s%this.$config.get("fixed.angle")),this.localAngle=this.angle+s,this.groupItem.reset({angle:this.localAngle});const n=Et(s,this.verties[4]);let o=this.$selection.cachedItemMatrices;this.$selection.length===1&&(o=o.filter(l=>l.id===this.$selection.current.id)),o.forEach(l=>{const c=ce(l.verties,Tt([],l.parentMatrixInverse,n)),h=ma(c,34);var d=ss(h[0]-c[4][0],h[1]-c[4][1])-270;const p=Ye([],c[0],Et(-d,c[4])),u=this.$model.get(l.id);u&&u.reset({x:p[0],y:p[1],angle:d})}),this.state.dragging=!0,this.emit("setAttributeForMulti",this.$selection.pack("x","y","width","height","angle"))}rotateEndVertex(){this.state.dragging=!1,this.state.isRotate=!1,this.emit("recoverCursor"),this.$config.set("set.move.control.point",!1),this.$selection.reselect(),this.initMatrix(!0),this.nextTick(()=>{this.command("setAttributeForMulti","rotate selection pointer",this.$selection.pack("x","y","width","height","angle"))})}refreshRotatePointerIcon(t){this.emit("refreshCursor","rotate")}refreshPointerIcon(t){const r=t.$dt.data("pointer");if(r){const i=r.split(",").map(l=>Number(l)),s=Te([],i,this.state.renderPointerList[0][4]),n=nt(s[0],s[1]);let o=Math.floor(n);this.emit("refreshCursor","open_in_full",`rotate(${o} 8 8)`)}else this.emit("recoverCursor")}checkPointerIsNotMoved(t){return Boolean(this.state.dragging)===!1}[aa("$pointerRect .rotate-pointer")+Se("checkPointerIsNotMoved")+Pe](t){this.refreshRotatePointerIcon(t)}[aa("$pointerRect .pointer")+Se("checkPointerIsNotMoved")+Pe](t){this.refreshPointerIcon(t)}[na("$pointerRect .pointer,.rotate-pointer")+Se("checkPointerIsNotMoved")+Pe](t){this.emit("recoverCursor")}[xe("$pointerRect .pointer")+Pe+Ve("moveVertex")+ze("moveEndVertex")](t){this.refreshPointerIcon(t),this.state.dragging=!0;const r=+t.$dt.attr("data-number");this.state.moveType=_j[`${r}`],this.initMousePoint=this.$viewport.getWorldPosition(t),this.$selection.reselect(),this.initMatrix(!0),this.cachedGroupItem=this.groupItem.matrix,this.$config.set("set.move.control.point",!0),this.$selection.startToCacheChildren()}calculateNewOffsetMatrixInverse(t,r,i,s,n){const o=we([],kr.scale(s,r,i),At([],t));return hi(ut([],t),ut([],o),n,ut([],At([],o)))}calculateDistance(t,r,i){const s=Ft(t),n=this.$snapManager.check([we([],s,r)]),o=we([],s,we([],r,n));var l=Ye([],s,i),c=Ye([],o,i);return Zr([],we([],c,At([],l)))}calculateRealDist(t,r,i){return this.calculateDistance(t.verties[r],i,t.absoluteMatrixInverse)}moveGroupItem(t,r,i){this.groupItem.reset({x:We(t[0]+(r<0?r:0),1e3),y:We(t[1]+(i<0?i:0),1e3),width:We(Math.abs(r),1e3),height:We(Math.abs(i),1e3)})}moveItemForGroup(t,r,i=0,s=0){const n=hi(ut([],r[4]),t.itemMatrix,ut([],At([],r[4]))),[o,l]=Ye([],r[0],n),c=Bt(r[0],r[1]),h=Bt(r[0],r[3]),d=this.$model.get(t.id);d&&d.reset({x:o+i,y:l+s,width:c,height:h})}recoverItemForGroup(t,r,i,s=0,n=0){const o=t.absoluteMatrix,l=t.absoluteMatrixInverse;this.$selection.cachedItemMatrices.forEach(c=>{const h=Wt(c.parentMatrixInverse,o,ut([],[s,n,0]),Nr([],[r,i,1]),l),d=ce(c.verties,h);this.moveItemForGroup(c,d)})}moveBottomRightVertex(t){const r=this.cachedGroupItem;let[i,s]=this.calculateRealDist(r,2,t);this.$config.get("bodyEvent").shiftKey&&(s=i*r.height/r.width);const n=r.width+i,o=r.height+s;this.moveDirectionVertex(r,0,0,n,o,"to top left",[0,0,0])}moveTopRightVertex(t){const r=this.cachedGroupItem;let[i,s]=this.calculateRealDist(r,1,t);this.$config.get("bodyEvent").shiftKey&&(s=-(i*r.height/r.width));const n=r.width+i,o=r.height-s;this.moveDirectionVertex(r,0,s,n,o,"to bottom left",[0,o,0])}moveDirectionVertex(t,r,i,s,n,o,l){const c=s/t.width,h=n/t.height;if(c>=0&&h>=0){const d=Wt(t.directionMatrix[o],this.calculateNewOffsetMatrixInverse(l,s,n,t.originalTransformOrigin,t.itemMatrix)),p=Ci([],d);this.moveGroupItem(p,s,n),this.recoverItemForGroup(t,c,h,r,i)}}moveTopVertex(t){const r=this.cachedGroupItem,[i,s]=this.calculateRealDist(r,0,t),n=r.width,o=r.height-s;this.moveDirectionVertex(r,0,s,n,o,"to bottom",[n/2,o,0])}moveBottomVertex(t){const r=this.cachedGroupItem,[i,s]=this.calculateRealDist(r,2,t),n=r.width,o=r.height+s;this.moveDirectionVertex(r,0,0,n,o,"to top",[n/2,0,0])}moveTopLeftVertex(t){const r=this.cachedGroupItem;let[i,s]=this.calculateRealDist(r,0,t);this.$config.get("bodyEvent").shiftKey&&(s=i*r.height/r.width);const n=r.width-i,o=r.height-s;this.moveDirectionVertex(r,i,s,n,o,"to bottom right",[n,o,0])}moveLeftVertex(t){const r=this.cachedGroupItem,[i,s]=this.calculateRealDist(r,0,t),n=r.width-i,o=r.height;this.moveDirectionVertex(r,i,0,n,o,"to right",[n,o/2,0])}moveRightVertex(t){const r=this.cachedGroupItem,[i,s]=this.calculateRealDist(r,2,t),n=r.width+i,o=r.height;this.moveDirectionVertex(r,0,0,n,o,"to left",[0,o/2,0])}moveBottomLeftVertex(t){const r=this.cachedGroupItem;let[i,s]=this.calculateRealDist(r,3,t);this.$config.get("bodyEvent").shiftKey&&(s=-(i*r.height/r.width));const n=r.width-i,o=r.height+s;this.moveDirectionVertex(r,i,0,n,o,"to top right",[n,0,0])}moveVertex(){const t=this.$viewport.getWorldPosition(),r=Te([],t,this.initMousePoint);this.state.moveType==="to bottom right"?this.moveBottomRightVertex(r):this.state.moveType==="to top right"?this.moveTopRightVertex(r):this.state.moveType==="to top left"?this.moveTopLeftVertex(r):this.state.moveType==="to bottom left"?this.moveBottomLeftVertex(r):this.state.moveType==="to top"?this.moveTopVertex(r):this.state.moveType==="to left"?this.moveLeftVertex(r):this.state.moveType==="to right"?this.moveRightVertex(r):this.state.moveType==="to bottom"&&this.moveBottomVertex(r),this.emit("setAttributeForMulti",this.$selection.pack("x","y","width","height")),this.state.dragging=!0}moveEndVertex(t,r){this.state.dragging=!1,this.emit("recoverCursor"),this.$config.set("set.move.control.point",!1),this.$selection.reselect(),this.state.dragging=!1,this.initMatrix(!0),this.nextTick(()=>{this.$selection.recoverChildren(),this.command("setAttributeForMulti","move selection pointer",this.$selection.pack("x","y","width","height")),this.emit("recoverBooleanPath")})}show(){this.$el.show(),this.state.show=!0}hide(){this.$el.hide(),this.state.show=!1}initSelectionTool(t=!1){this.$el.isHide()&&this.$selection.isMany?this.show():this.$el.isShow()&&this.$selection.isMany===!1&&this.hide(),this.initMatrix(t),this.makeSelectionTool()}get item(){const t=this.verties||wt(0,0,0,0);return this.state.newArtBoard||(this.state.newArtBoard=this.$editor.createModel({itemType:"artboard"},!1)),this.state.newArtBoard.reset({parentId:this.$selection.currentProject.id,x:t[0][0],y:t[0][1],width:he(t[0],t[1]),height:he(t[0],t[3])}),this.state.newArtBoard}initMatrix(t=!1){t&&this.$selection.isMany&&(this.verties=ve(this.$selection.verties),this.angle=0,this.localAngle=this.angle,this.groupItem=this.item,this.cachedGroupItem=this.item.matrix)}makeSelectionTool(){this.renderPointers()}renderPointers(){if(!this.groupItem)return;const t=this.state.dragging?this.groupItem.verties:this.$selection.verties;if(t.length===0)return;this.state.renderPointerList=[this.$viewport.applyVerties(t)];const{line:r,point:i,size:s,elementLine:n}=this.createRenderPointers(this.state.renderPointerList[0]);this.refs.$pointerRect.updateDiff(r+n+i+s)}createPointer(t,r,i){return`
        <div    
            class='pointer' 
            data-number="${r}" 
            data-pointer="${t}" 
            style="transform: translate3d( calc(${t[0]}px - 50%), calc(${t[1]}px - 50%), 0px) rotateZ(${i||"0deg"})" 
        ></div>
        `}createPointerSide(t,r,i,s,n){return`
        <div class='pointer' data-number="${r}" data-pointer="${t}" style="width: ${s}px; height: ${n}px;transform: translate3d( calc(${t[0]}px - 50%), calc(${t[1]}px - 50%), 0px) rotateZ(${i||"0deg"})" ></div>
        `}createRotatePointer(t,r,i="center center"){return t.length===0?"":r<4?`
            <div class='rotate-pointer no-fill' data-number="${r}" style="transform: translate3d( calc(${t[0]}px - 50%), calc(${t[1]}px - 50%), 0px) scale(1.8);" ></div>
            `:`
        <div class='rotate-pointer' data-number="${r}" style="transform: translate3d( calc(${t[0]}px - 50%), calc(${t[1]}px - 50%), 0px)" ></div>
        `}createPointerRect(t,r){if(t.length===0)return"";const i=ne([],t[0],t[1],.5),s=`
            M ${i[0]},${i[1]} 
            L ${r[0]}, ${r[1]} 
        `;return`
        <svg class='line' overflow="visible">
            <path 
                d="
                    M ${t[0][0]}, ${t[0][1]} 
                    L ${t[1][0]}, ${t[1][1]} 
                    L ${t[2][0]}, ${t[2][1]} 
                    L ${t[3][0]}, ${t[3][1]} 
                    L ${t[0][0]}, ${t[0][1]}
                    ${s}
                    Z
                " />
        </svg>`}createLine(t){return`
            M ${t[0][0]}, ${t[0][1]} 
            L ${t[1][0]}, ${t[1][1]} 
            L ${t[2][0]}, ${t[2][1]} 
            L ${t[3][0]}, ${t[3][1]} 
            L ${t[0][0]}, ${t[0][1]}
            Z
        `}createSize(t){const r=ne([],t[0],t[1],.5),i=ne([],t[1],t[2],.5),s=ne([],t[2],t[3],.5),n=ne([],t[3],t[0],.5),o=[{start:r,end:s},{start:i,end:n},{start:s,end:r},{start:n,end:i}].map(($,S)=>({index:S,data:$}));o.sort(($,S)=>$.data.start[1]>S.data.start[1]?-1:1);const l=o[0],c=ne([],l.data.end,l.data.start,1+16/he(l.data.start,l.data.end)),h=this.groupItem.width,d=this.groupItem.height,p=Te([],l.data.start,l.data.end),u=nt(p[0],p[1])+90;let m=`${We(h,100)} x ${We(d,100)}`;if(this.state.isRotate){const $=this.groupItem.angle;$&&(m=`${$}\xB0`)}return`
            <div 
                class='size-pointer' 
                style="transform: translate3d( calc(${c[0]}px - 50%), calc(${c[1]}px - 50%), 0px) rotateZ(${u}deg)" >
               ${m}
            </div>
        `}createRenderPointers(t){const r=Te([],ne([],t[0],t[1],.5),ne([],t[0],t[2],.5)),i=g.deg(nt(r[0],r[1])-90).round(1e3),s=ma(t,30),n=he(t[0],t[2]),o=he(t[0],t[1]),l=he(t[0],t[3]);return{line:this.createPointerRect(t,s),elementLine:`
                <svg class='line' overflow="visible">
                    <path 
                        d="${this.$selection.items.map((c,h)=>this.createLine(this.$viewport.applyVerties(c.originVerties))).join("")}
                        " />
                </svg>
            `,size:this.createSize(t),point:[this.createRotatePointer(s,4,"center center"),n<20?void 0:this.createPointerSide(ne([],t[0],t[1],.5),11,i,o,5),n<20?void 0:this.createPointerSide(ne([],t[1],t[2],.5),12,i,5,l),n<20?void 0:this.createPointerSide(ne([],t[2],t[3],.5),13,i,o,5),n<20?void 0:this.createPointerSide(ne([],t[3],t[0],.5),14,i,5,l),this.createPointer(t[0],1,i),this.createPointer(t[1],2,i),this.createPointer(t[2],3,i),this.createPointer(t[3],4,i)].join("")}}checkShow(){return!!(this.state.show&&this.$selection.isMany&&this.$selection.hasChangedField("x","y","width","height","transform","transform-origin","perspective","perspective-origin"))}[I("refreshSelectionStyleView")+Se("checkShow")](){this.renderPointers()}[I("hideSelectionToolView")](){this.hide()}}var qO="";const ro=.5;class Pj extends K{template(){return A("div",{class:"elf--ghost-tool-view"},A("div",{ref:"$containerView"}),A("div",{ref:"$view"}))}[I("startGhostToolView")](t){const r=this.$selection.verties;this.isLayoutItem=this.$selection.isLayoutItem,this.verties=ve(r),this.ghostVerties=ve(r),this.ghostScreenVerties=this.$viewport.applyVerties(this.ghostVerties),this.initMousePoint=this.$viewport.getWorldPosition(),this.filteredLayers=this.$selection.notSelectedLayers,this.containerList=this.filteredLayers.filter(i=>i.hasLayout()||i.is("artboard")).map(i=>i.originVerties)}collectInformation(){var s;const t=this.$viewport.getWorldPosition(),r=this.getDist();this.ghostVerties=this.verties.map(n=>we([],n,r)),this.ghostScreenVerties=this.$viewport.applyVerties(this.ghostVerties);const i=this.$selection.filteredLayers.filter(n=>this.$selection.check(n)===!1);this.targetItem=i[0],this.targetItem?(this.targetItem.hasLayout()&&((s=this.targetItem)==null?void 0:s.hasChildren())&&(this.targetItem=this.targetItem.layers.pop()),this.targetOriginPosition=this.$viewport.applyVerties(Tr(this.targetItem.contentVerties)),this.targetPoint=this.$viewport.applyVertex(t),this.targetRelativeMousePoint={x:(this.targetPoint[0]-this.targetOriginPosition[0][0])/(this.targetOriginPosition[1][0]-this.targetOriginPosition[0][0]),y:(this.targetPoint[1]-this.targetOriginPosition[0][1])/(this.targetOriginPosition[3][1]-this.targetOriginPosition[0][1])},this.targetItem.isLayoutItem()?(this.targetParent=this.targetItem.parent,this.targetParent&&(this.targetParentPosition=this.$viewport.applyVerties(this.targetParent.contentVerties))):(this.targetParent=null,this.targetParentPosition=null)):(this.targetPoint=null,this.targetRelativeMousePoint=null,this.targetParent=null,this.targetParentPosition=null)}[I("moveFirstGhostToolView")](){this.collectInformation(),this.load("$containerView"),this.load("$view")}[I("moveGhostToolView")](){this.collectInformation(),this.load("$view")}[U("$containerView")](){var t;return this.ghostVerties?A("svg",null,(t=this.containerList)==null?void 0:t.map(r=>(r=this.$viewport.applyVerties(r),A("path",{class:"container",d:`
                    M ${r[0][0]} ${r[0][1]}
                    L ${r[1][0]} ${r[1][1]}
                    L ${r[2][0]} ${r[2][1]}
                    L ${r[3][0]} ${r[3][1]}
                    Z
                `})))):A("svg",null)}renderPathForVerties(t,r){if(!t)return A("g",null);const i=os(t);return A("g",null,A("path",{class:r,d:i}))}renderPath(t,r,i=r){if(!t)return"";t=i==="ghost"?t:Tr(t);const s=t[0][0],n=r==="flex-item"?t[2][1]+10:t[0][1]-10;return A("g",null,A("text",{x:s,y:n,"font-size":8},i),this.renderPathForVerties(t,r))}renderLayoutFlexRowArea(){return rr(this.targetOriginPosition),this.targetRelativeMousePoint.x<ro?A(Qt,null,this.renderPathForVerties([[this.targetOriginPosition[0][0],this.targetOriginPosition[0][1]],[this.targetOriginPosition[3][0],this.targetOriginPosition[3][1]]],"flex-target")):A(Qt,null,this.renderPathForVerties([[this.targetOriginPosition[1][0],this.targetOriginPosition[1][1]],[this.targetOriginPosition[2][0],this.targetOriginPosition[2][1]]],"flex-target"))}renderLayoutFlexForFirstItem(t){const r=t===Nt.COLUMN?"align-items":"justify-content",i=t===Nt.COLUMN?Ei:Rs,s=t===Nt.COLUMN?"justify-content":"align-items",n=t===Nt.COLUMN?Rs:Ei,o=rr(this.targetOriginPosition),l=this.ghostScreenVerties[4],c=he(this.ghostScreenVerties[0],this.ghostScreenVerties[1]),h=he(this.ghostScreenVerties[0],this.ghostScreenVerties[3]);let d=c/2,p=h/2;switch(this.targetItem[r]){case i.FLEX_START:d=o.x+c/2;break;case i.CENTER:case i.SPACE_BETWEEN:case i.SPACE_AROUND:d=o.x+o.width/2;break;case i.FLEX_END:d=o.x+o.width-c/2;break}switch(this.targetItem[s]){case n.FLEX_START:p=o.y+h/2;break;case n.CENTER:case n.SPACE_BETWEEN:case n.SPACE_AROUND:p=o.y+o.height/2;break;case n.FLEX_END:p=o.y+o.height-h/2;break}const u=Te([],[d,p,0],l),m=this.ghostScreenVerties.map($=>we([],$,u)).filter(($,S)=>S<4);return this.renderPathForVerties(m,"flex-item","ghost")}renderLayoutFlexColumnArea(){const t=rr(this.targetOriginPosition);return this.targetRelativeMousePoint.y<ro?this.renderPathForVerties([[this.targetOriginPosition[0][0],this.targetOriginPosition[0][1]],[this.targetOriginPosition[1][0],this.targetOriginPosition[1][1]],[this.targetOriginPosition[2][0],this.targetOriginPosition[2][1]-t.height/2],[this.targetOriginPosition[3][0],this.targetOriginPosition[3][1]-t.height/2]],"flex-item","flex-top"):this.renderPathForVerties([[this.targetOriginPosition[0][0],this.targetOriginPosition[0][1]+t.height/2],[this.targetOriginPosition[1][0],this.targetOriginPosition[1][1]+t.height/2],[this.targetOriginPosition[2][0],this.targetOriginPosition[2][1]],[this.targetOriginPosition[3][0],this.targetOriginPosition[3][1]]],"flex-item","flex-bottom")}renderLayoutItemInsertArea(){if(!!this.targetParent){if(this.targetParent.hasLayout())if(this.targetParent.isLayout(bt.FLEX))switch(this.targetParent["flex-direction"]){case Nt.ROW:return this.renderLayoutFlexRowArea();case Nt.COLUMN:return this.renderLayoutFlexColumnArea()}else this.targetParent.isLayout(bt.GRID);return A("path",{class:"insert-area",d:`

        `})}}renderLayoutItemForFirst(){var t;if(((t=this.targetItem)==null?void 0:t.hasChildren())===!1){if(this.targetItem.isLayout(bt.FLEX))return this.renderLayoutFlexForFirstItem(this.targetItem["flex-direction"]);this.targetItem.isLayout(bt.GRID)}return A("path",{class:"insert-area",d:`

        `})}[U("$view")+st](){var i;const t=this.$selection.current;if(!this.ghostVerties||!t)return A("svg",null);const r=((i=this.targetItem)==null?void 0:i.id)!==t.id;return A("svg",null,this.targetParent&&this.renderPathForVerties(this.targetParentPosition,"target-parent"),r&&this.renderPathForVerties(this.targetOriginPosition,"target",""),r&&this.renderPathForVerties(this.targetOriginPosition,"target-rect",""),r&&this.renderLayoutItemInsertArea(),r&&this.renderLayoutItemForFirst(),this.isLayoutItem&&this.renderPathForVerties(this.ghostScreenVerties.filter((s,n)=>n<4),"ghost"))}initializeGhostView(){this.isLayoutItem=!1,this.ghostVerties=null,this.ghostScreenVerties=null,this.targetOriginPosition=null,this.targetOriginPosition=null,this.targetRelativeMousePoint=null,this.targetParent=null,this.targetParentPosition=null}getDist(){const t=this.$viewport.getWorldPosition();return Zr([],Te([],t,this.initMousePoint))}insertToBackground(){const t=this.$selection.current,r=this.getDist();t.isLayoutItem()!==!1&&this.command("moveLayerToTarget","change target with move",t,this.$selection.currentProject,r,"appendChild")}getTargetAction(){let t="";if(this.targetParent.hasLayout()&&this.targetParent.isLayout(bt.FLEX))switch(this.targetParent["flex-direction"]){case Nt.ROW:this.targetRelativeMousePoint.x<ro?t="appendBefore":t="appendAfter";break;case Nt.COLUMN:this.targetRelativeMousePoint.y<ro?t="appendBefore":t="appendAfter";break}return t}insertToLayoutItem(){const t=this.$selection.current,r=this.getDist();if(this.targetParent.hasLayout()){let i=this.getTargetAction();this.targetParent.isLayout(bt.FLEX)?i&&this.command("moveLayerToTarget","change target with move",t,this.targetItem,r,i):this.targetParent.isLayout(bt.GRID)}}updateLayer(){var i,s;const t=this.$selection.current;if(!t)return;const r=this.getDist();if(!(r[0]===0&&r[1]===0)&&this.targetItem.id!==((i=this.$selection.current)==null?void 0:i.id)){if(!this.targetItem){this.insertToBackground();return}if(this.targetParent){this.insertToLayoutItem();return}if(this.targetItem.hasLayout())((s=this.targetItem)==null?void 0:s.hasChildren())===!1&&this.command("moveLayerToTarget","change target with move",t,this.targetItem,r,"appendChild");else{if(this.targetItem.id===t.id)return;t.isLayoutItem()&&t.parent.id!==this.targetItem.id&&this.command("moveLayerToTarget","change target with move",t,this.targetItem,r,"appendChild")}}}[I("endGhostToolView")](){this.updateLayer(),this.trigger("clearGhostView")}[I("clearGhostView")](){this.initializeGhostView(),this.load()}}function Cj(a){a.registerUI("canvas.view",{GhostToolView:Pj,SelectionToolView:xj,GroupSelectionToolView:wj})}function Gu(a){a.registerIcon("artboard","artboard"),a.registerIcon("circle","lens"),a.registerIcon("image","image"),a.registerIcon("text","title"),a.registerIcon("svg-text","title"),a.registerIcon("boolean-path","pentool"),a.registerIcon("svg-path","pentool"),a.registerIcon("polygon","polygon"),a.registerIcon("star","star"),a.registerIcon("spline","smooth"),a.registerIcon("rect","rect")}var QO="",Kl=["circle","circle farthest-corner","circle closest-side","circle closest-corner","circle farthest-side","ellipse","ellipse farthest-corner","ellipse closest-side","ellipse closest-corner","ellipse farthest-side"],Zl=["no-repeat","repeat","repeat-x","repeat-y","space","round"];const nn=20;class kj extends K{initializeData(){const t=this.$selection.current["background-image"],r=Kt(t);this.state.backgroundImages=Fe.parseStyle(r),this.state.backImages=Fe.parseStyle(r);const i=this.$selection.current;this.state.gradient=this.state.backImages[this.state.index],this.state.contentBox=i.contentBox,this.state.backgroundImageMatrix=i.createBackgroundImageMatrix(this.state.index)}updateData(){var t=Ge(Fe.toProperty(this.state.backgroundImages));this.command("setAttributeForMulti","change background image",this.$selection.packByValue({"background-image":t}))}}class Tj extends kj{[xe("$el .step-point")+Ve("moveStepPoint")+ze("moveEndStepPoint")](t){this.$el.toggleClass("dragging",!0),this.initializeData();const r=+t.$dt.data("colorstep-index");this.localColorStep=this.state.backgroundImages[this.state.index].image.colorsteps[r],this.localColorStepTimingCount=this.localColorStep.timing.count,this.localColorCubicBezierTimingCount=this.localColorStep.timingCount}moveStepPoint(t,r){const i=(t<0?-1:1)*Math.ceil(he([0,0,0],[t,r,0])/10);switch(this.localColorStep.timing.name){case ge.LINEAR:break;case ge.STEPS:this.localColorStep.timing.count=Math.max(this.localColorStepTimingCount+i,1);break;default:this.localColorStep.timingCount=Math.max(this.localColorCubicBezierTimingCount+i,1);break}this.updateData()}makeTimingString(t){switch(t.name){case ge.LINEAR:return"";case ge.EASE:case ge.EASE_IN:case ge.EASE_OUT:case ge.EASE_IN_OUT:return`${t.name}`;default:return`cubic-bezier(${t.x1}, ${t.y1}, ${t.x2}, ${t.y2})`}}moveEndStepPoint(t,r){if(t===0&&r===0){const{timing:i,timingCount:s}=this.localColorStep;switch(i.name){case ge.STEPS:this.localColorStep.timing.direction=this.localColorStep.timing.direction==="start"?"end":"start";break;case ge.LINEAR:break;case ge.PATH:this.emit("showComponentPopup",{title:"Path Editor",width:400,inspector:[{key:"path",editor:"path",editorOptions:{height:160},defaultValue:i.d}],changeEvent:(n,o)=>{this.localColorStep.timing=Dt(`path(${o})`).parsed,this.updateData()}});break;default:this.emit("showComponentPopup",{title:"Cubic Bezier",width:220,inspector:[{key:"timing",editor:"cubic-bezier",editorOptions:{isAnimating:!1},defaultValue:this.makeTimingString(i)}],changeEvent:(n,o)=>{this.localColorStep.timing=Dt(o).parsed,this.updateData()}}),this.$el.toggleClass("dragging",!1);return}}this.updateData(),this.$el.toggleClass("dragging",!1)}}class Mj extends Tj{[xe("$el .resizer")+Ut+Ve("calculateMovedResizer")+ze("calculateMovedEndResizer")+Pe](t){this.state.$target=t.$dt,this.$el.toggleClass("dragging",!0),this.initializeData(),this.initMousePoint=this.$viewport.getWorldPosition(t),this.isShiftKey=t.shiftKey}calculateMovedResizer(t,r){const i=this.$viewport.getWorldPosition(),s=Ft(this.initMousePoint),n=i,o=this.$selection.current.absoluteMatrixInverse,[l,c]=ce([s,n],o),h=Te([],c,l),{backRect:d}=this.state.backgroundImageMatrix,u=this.state.gradient.recoverOffset(d.x,d.y,this.state.contentBox,h[0],h[1],{shiftKey:this.$config.get("bodyEvent").shiftKey});this.state.backgroundImages[this.state.index].reset({x:u.x,y:u.y,width:u.width,height:u.height}),this.updateData()}calculateMovedEndResizer(){this.updateData(),this.$el.toggleClass("dragging",!1)}[xe("$el .back-rect")+Ut+Ve("calculateMovedRect")+ze("calculateMovedEndRect")+Pe](t){this.state.$target=t.$dt,this.initializeData(),this.initMousePoint=this.$viewport.getWorldPosition(t)}calculateMovedRect(t,r){const i=this.$viewport.getWorldPosition(),s=Ft(this.initMousePoint),n=i,o=this.$selection.current.absoluteMatrixInverse,[l,c]=ce([s,n],o),h=Te([],c,l),{backRect:d}=this.state.backgroundImageMatrix,u=this.state.gradient.recoverOffset(d.x+h[0],d.y+h[1],this.state.contentBox);this.state.backgroundImages[this.state.index].reset({x:u.x,y:u.y}),this.updateData()}calculateMovedEndRect(t,r){if(t==0&&r===0){const i=Zl.indexOf(this.state.gradient.repeat);this.state.backgroundImages[this.state.index].repeat=Zl[(i+1)%Zl.length]}this.updateData()}}class Ij extends Mj{[xe("$el .gradient-angle .rotate")+Ut+Ve("calculateMovedAngle")+ze("calculatedMovedEndAngle")+Pe](t){this.state.$target=t.$dt,this.initializeData(),this.$el.toggleClass("dragging",!0),this.state.centerX=+this.state.$target.data("center-x"),this.state.centerY=+this.state.$target.data("center-y"),this.state.startX=+this.state.$target.attr("cx"),this.state.startY=+this.state.$target.attr("cy"),this.state.$target.toggleClass("moved")}calculateMovedAngle(t,r){const i=[this.state.centerX,this.state.centerY,0],s=[this.state.startX,this.state.startY,0],o=bn(s,i,[t,r,0]);let l=Math.floor(this.state.gradient.image.angle+o);this.$config.get("bodyEvent").shiftKey&&(l-=l%this.$config.get("fixed.gradient.angle")),this.state.backgroundImages[this.state.index].image.angle=l,this.updateData()}calculatedMovedEndAngle(){this.state.$target.toggleClass("moved"),this.$el.toggleClass("dragging",!1),this.updateData()}}class Ej extends Ij{[Xt("$el .colorstep")](t){const r=+t.$dt.data("index");switch(t.code){case"Delete":case"Backspace":this.removeStep(r);break;case"BracketRight":this.sortToRight(r);break;case"BracketLeft":this.sortToLeft(r);break;case"Equal":this.appendColorStep(r);break;case"Minus":this.prependColorStep(r);break}}removeStep(t){const r=this.state.lastBackgroundMatrix.backgroundImage.image;r.removeColorStepByIndex(t),this.updateColorStepStatus(r,-1)}sortToRight(){const t=this.state.lastBackgroundMatrix.backgroundImage.image;t.sortToRight(),this.updateColorStepStatus(t,-1)}sortToLeft(){const t=this.state.lastBackgroundMatrix.backgroundImage.image;t.sortToLeft(),this.updateColorStepStatus(t,-1)}appendColorStep(t){const r=t+1,i=this.state.lastBackgroundMatrix.backgroundImage.image,s=i.colorsteps[t],n=i.colorsteps[r];let o=-1;n?o=i.insertColorStep(s.percent+(n.percent-s.percent)/2):s.percent!==100&&(o=i.insertColorStep(s.percent+(100-s.percent)/2)),this.updateColorStepStatus(i,o)}prependColorStep(t){const r=t-1,i=this.state.lastBackgroundMatrix.backgroundImage.image,s=i.colorsteps[t],n=i.colorsteps[r];let o=-1;n?o=i.insertColorStep(n.percent+(s.percent-n.percent)/2):s.percent!==0&&(o=i.insertColorStep(s.percent)),this.updateColorStepStatus(i,o)}[xe("$el .colorstep")+Ve("moveColorStep")+ze("moveEndColorStep")](t){this.$el.toggleClass("dragging",!0),this.state.hoverColorStep=null,this.initializeData();const r=t.$dt;if(this.$targetIndex=+r.data("index"),t.altKey){this.removeStep(this.$targetIndex),this.state.altKey=!0;return}const i=this.state.backgroundImageMatrix;switch(i.backgroundImage.image.type){case N.LINEAR:case N.REPEATING_LINEAR:this.centerPosition=this.$viewport.applyVertex(i.centerPosition),this.startPoint=this.$viewport.applyVertex(i.startPoint),this.endPoint=this.$viewport.applyVertex(i.endPoint),this.screenXY=this.$viewport.applyVertex(i.colorsteps[this.$targetIndex].pos),this.rotateInverse=Et(-this.state.gradient.image.angle,this.centerPosition);break;case N.RADIAL:case N.REPEATING_RADIAL:this.centerPosition=this.$viewport.applyVertex(i.radialCenterPosition),this.startPoint=this.$viewport.applyVertex(i.startPoint),this.endPoint=this.$viewport.applyVertex(i.endPoint),this.screenXY=this.$viewport.applyVertex(i.colorsteps[this.$targetIndex].pos);const s=Te([],this.endPoint,this.startPoint),n=nt(s[0],s[1])-180;this.rotateInverse=Et(-n,this.centerPosition);break;case N.CONIC:case N.REPEATING_CONIC:this.centerPosition=this.$viewport.applyVertex(i.radialCenterPosition),this.startPoint=this.$viewport.applyVertex(i.shapePoint),this.newStartPoint=Te([],this.startPoint,this.centerPosition),this.newStartAngle=nt(this.newStartPoint[0],this.newStartPoint[1]);const o=+r.data("x"),l=+r.data("y");this.screenXY=[o,l,0],this.endPoint=this.$viewport.applyVertex(i.endPoint),this.rotateInverse=St();break}}moveColorStep(t,r){if(this.state.altKey)return;const i=we([],this.screenXY,[t,r,0]),[s,n,o]=ce([this.startPoint,this.endPoint,i],this.rotateInverse),l=this.state.backgroundImageMatrix;let c=0,h=0;switch(l.backgroundImage.image.type){case N.LINEAR:case N.REPEATING_LINEAR:var[d,p,u]=[s[1],n[1],o[1]],m=Math.abs(d-p);if(d<u)c=-1*Math.abs(u-d)/m*100;else if(p>u)c=Math.abs(u-d)/m*100;else{var $=Math.abs(d-u),S=Math.abs(p-u);c=$/(S+$)*100}c=Math.max(0,Math.min(100,c)),h=he(this.startPoint,this.endPoint);break;case N.RADIAL:case N.REPEATING_RADIAL:var[d,p,u]=[s[0],n[0],o[0]],m=Math.abs(d-p);u<d?c=-1*Math.abs(u-d)/m*100:u>p?c=Math.abs(u-d)/m*100:c=(u-d)/m*100,c=Math.max(0,Math.min(100,c)),h=he(this.startPoint,this.endPoint);break;case N.CONIC:case N.REPEATING_CONIC:const R=Te([],i,this.centerPosition);let j=nt(R[0],R[1]);this.$config.get("bodyEvent").shiftKey&&(j-=j%this.$config.get("fixed.gradient.angle")),c=(j-this.newStartAngle)/360*100,c=(c+100)%100,h=100;break}const k=this.state.gradient.image;k.colorsteps[this.$targetIndex].setValue(c,h);const C={color:k.colorsteps[this.$targetIndex].color,percent:k.colorsteps[this.$targetIndex].percent},z=this.state.backgroundImages[this.state.index].image;z.colorsteps=k.colorsteps.map(R=>R),z.sortColorStep(),this.emit("updateGradientEditor",z,C);var L=Ge(Fe.toProperty(this.state.backgroundImages));this.command("setAttributeForMulti","change background image",this.$selection.packByValue({"background-image":L}))}moveEndColorStep(t,r){if(this.state.altKey){this.state.altKey=!1;return}if(t===0&&r===0){const s=this.state.backgroundImages[this.state.index].image;s.colorsteps[this.$targetIndex].toggleTiming();const n={color:s.colorsteps[this.$targetIndex].color,percent:s.colorsteps[this.$targetIndex].percent};this.emit("updateGradientEditor",s,n);var i=Ge(Fe.toProperty(this.state.backgroundImages));this.command("setAttributeForMulti","change background image",this.$selection.packByValue({"background-image":i}))}this.$el.toggleClass("dragging",!1)}updateColorStepStatus(t,r){this.initializeData();const{color:i,percent:s}=t.colorsteps[r]||{};this.emit("updateGradientEditor",t,{color:i,percent:s}),this.state.backgroundImages[this.state.index].image=t;var n=Ge(Fe.toProperty(this.state.backgroundImages));this.command("setAttributeForMulti","change background image",this.$selection.packByValue({"background-image":n})),this.state.hoverColorStep=null}[xe("$el .area-line")](){const t=this.state.lastBackgroundMatrix.backgroundImage.image,r=t.insertColorStep(this.state.hoverColorStep.percent);this.updateColorStepStatus(t,r)}[na("$el .area-line")](t){this.state.hoverColorStep&&(this.state.hoverColorStep=null,this.refresh())}[rs("$el .area-line")](t){const r=this.$viewport.applyVertex(this.$viewport.getWorldPosition(t)),i=this.state.lastBackgroundMatrix.backgroundImage.image;let s,n,o;switch(i.type){case N.LINEAR:case N.REPEATING_LINEAR:[s,n,o]=ce([this.state.startPoint,this.state.endPoint,r],this.state.rotateInverse);var l=0,[c,h,d]=[s[1],n[1],o[1]],p=Math.abs(c-h);if(c<d)l=-1*Math.abs(d-c)/p*100;else if(h>d)l=Math.abs(d-c)/p*100;else{const k=Math.abs(c-d),C=Math.abs(h-d);l=k/(C+k)*100}this.state.hoverColorStep=this.state.lastBackgroundMatrix.backgroundImage.image.pickColorStep(l);break;case N.RADIAL:case N.REPEATING_RADIAL:[s,n,o]=[this.state.startPoint,this.state.endPoint,r];var l=0,[c,h,d]=[s[0],n[0],o[0]],p=Math.abs(c-h);d<c?l=-1*Math.abs(d-c)/p*100:l=Math.abs(d-c)/p*100,this.state.hoverColorStep=this.state.lastBackgroundMatrix.backgroundImage.image.pickColorStep(l);break;case N.CONIC:case N.REPEATING_CONIC:const u=Te([],this.state.startPoint,this.state.centerPosition),m=Te([],r,this.state.centerPosition),$=nt(u[0],u[1]);var l=(nt(m[0],m[1])-$)/360*100;this.state.hoverColorStep=this.state.lastBackgroundMatrix.backgroundImage.image.pickColorStep(l);break}this.refresh()}}class Lj extends Ej{template(){return A("div",{class:"elf--gradient-editor-view"})}[xe("$el .point")+Ut+Ve("calculateMovedElement")+ze("calculateMovedEndElement")+Pe](t){this.$el.toggleClass("dragging",!0),this.initializeData();const r=this.state.backgroundImageMatrix;this.pointTarget=t.$dt.data("type"),this.startPoint=this.$viewport.applyVertex(r.startPoint),this.endPoint=this.$viewport.applyVertex(r.endPoint),r.shapePoint&&(this.shapePoint=this.$viewport.applyVertex(r.shapePoint))}calculateMovedElement(t,r){const i=this.pointTarget==="start"?this.startPoint:this.endPoint;let s=we([],i,[t,r,0]);var[n]=ce([this.$viewport.applyVertexInverse(s)],this.$selection.current.absoluteMatrixInverse);const l=this.state.gradient.getOffset(this.state.contentBox);switch(this.state.gradient.image.type){case N.RADIAL:case N.REPEATING_RADIAL:if(this.pointTarget==="start"){const u=n[0]-l.x,m=n[1]-l.y;this.state.backgroundImages[this.state.index].image.radialPosition=[g.makePercent(u,l.width),g.makePercent(m,l.height)],this.updateData()}else if(this.pointTarget==="end"){var[h]=ce([this.$viewport.applyVertexInverse(this.startPoint)],this.$selection.current.absoluteMatrixInverse),[d]=ce([this.$viewport.applyVertexInverse(we([],this.endPoint,[t,0,0]))],this.$selection.current.absoluteMatrixInverse),[p]=ce([this.$viewport.applyVertexInverse(this.shapePoint)],this.$selection.current.absoluteMatrixInverse);const u=d[0]-l.x-h[0],m=p[1]-l.y-h[1];this.state.gradient.image.radialType===yt.CIRCLE?this.state.backgroundImages[this.state.index].image.radialSize=[g.px(Math.abs(u))]:this.state.gradient.image.radialType===yt.ELLIPSE&&(this.state.backgroundImages[this.state.index].image.radialSize=[g.makePercent(Math.abs(u),l.width),g.makePercent(Math.abs(m),l.height)]),this.updateData()}else if(this.pointTarget==="shape"){var[h]=ce([this.$viewport.applyVertexInverse(this.startPoint)],this.$selection.current.absoluteMatrixInverse),[p]=ce([this.$viewport.applyVertexInverse(we([],this.shapePoint,[0,r,0]))],this.$selection.current.absoluteMatrixInverse),[d]=ce([this.$viewport.applyVertexInverse(this.endPoint)],this.$selection.current.absoluteMatrixInverse);const S=d[0]-l.x-h[0],k=p[1]-l.y-h[1];this.state.gradient.image.radialType===yt.CIRCLE?this.state.backgroundImages[this.state.index].image.radialSize=[g.px(Math.abs(k))]:this.state.gradient.image.radialType===yt.ELLIPSE&&(this.state.backgroundImages[this.state.index].image.radialSize=[g.makePercent(Math.abs(S),l.width),g.makePercent(Math.abs(k),l.height)]),this.updateData()}break;case N.CONIC:case N.REPEATING_CONIC:if(this.pointTarget==="start"){const u=n[0]-l.x,m=n[1]-l.y;this.state.backgroundImages[this.state.index].image.radialPosition=[g.makePercent(u,l.width),g.makePercent(m,l.height)],this.updateData()}break}}calculateMovedEndElement(t,r){if(t==0&&r===0&&this.pointTarget==="start")switch(this.state.gradient.type){case N.RADIAL:case N.REPEATING_RADIAL:const i=`${this.state.gradient.image.radialType} ${this.state.gradient.image.radialSize}`.trim(),s=Kl.indexOf(i),[n,o]=Kl[(s+1)%Kl.length].split(" "),l=this.state.backgroundImages[this.state.index].image;l.radialType=n,l.radialSize=o;break}this.updateData(),this.$el.toggleClass("dragging",!1)}refresh(){this.state.isShow&&this.load()}[I("updateViewport")](){this.refresh()}[I("refreshSelectionStyleView")](){this.$selection.current&&this.$selection.hasChangedField("x","y","width","height","angle","background-image","border","padding")&&this.refresh()}[I("showGradientEditorView")]({index:t}){this.state.index=t,this.$el.show(),this.state.isShow=!0,this.refresh(),this.emit("recoverCursor"),this.emit("push.mode.view","GradientEditorView")}[I("hideGradientEditorView")](){this.$el.hide(),this.state.isShow=!1,this.emit("pop.mode.view","GradientEditorView")}makeTimingLine(t,r=10,i=0,s=0){switch(t.name){case ge.LINEAR:return"";case ge.STEPS:return A("path",{class:"timing",d:`
          M${i+0} ${s+r} 
          L${i+r*1/3} ${s+r} 
          L${i+r*1/3} ${s+r*2/3} 
          L${i+r*2/3} ${s+r*2/3} 
          L${i+r*2/3} ${s+r*1/3} 
          L${i+r} ${s+r*1/3} 
          L${i+r} ${s+0}           
        `});case ge.PATH:return A("path",{class:"timing",d:W.fromSVGString(t.d).scale(r,r).flipX().translate(0,r).d});default:return A("path",{class:"timing",d:`
          M${i+0} ${s+r} 
          C 
            ${i+t.x1*r} ${s+r-t.y1*r} 
            ${i+t.x2*r} ${s+r-t.y2*r}  
            ${i+r} ${s+0}
        `})}}makeConicTimingLine(t,r=10,i=0,s=0){const n=r/2;switch(t.name){case ge.LINEAR:return"";case ge.STEPS:return A("path",{class:"timing",d:`
          M${i+0-n} ${s+r-n} 
          L${i+r*1/3-n} ${s+r-n} 
          L${i+r*1/3-n} ${s+r*2/3-n} 
          L${i+r*2/3-n} ${s+r*2/3-n} 
          L${i+r*2/3-n} ${s+r*1/3-n} 
          L${i+r-n} ${s+r*1/3-n} 
          L${i+r-n} ${s+0-n}           
        `});case ge.PATH:return A("path",{class:"timing",d:W.fromSVGString(t.d).scale(r,r).flipX().translate(-hafl,r).d});default:return A("path",{class:"timing",d:`
          M${i+0-n} ${s+r-n} 
          C 
            ${i+t.x1*r-n} ${s+r-t.y1*r-n} 
            ${i+t.x2*r-n} ${s+r-t.y2*r-n}  
            ${i+r-n} ${s+0-n}
        `})}}makeTimingCircle(t,r,i,s){const n=i.stickScreenXYInEnd,o=r.stickScreenXYInStart,{timing:l,timingCount:c}=r;let h;switch(l.name){case ge.LINEAR:return"";case ge.STEPS:return h=ne([],n,o,.5),A(Qt,null,A("circle",{class:"step-point","data-colorstep-index":t,cx:h[0],cy:h[1],r:7}),A("text",{x:h[0],y:h[1],dy:4,"text-anchor":"middle"},l.count));default:return h=ne([],n,o,.5),A(Qt,null,A("circle",{class:"step-point","data-colorstep-index":t,cx:h[0],cy:h[1],r:7}),A("text",{x:h[0],y:h[1],dy:4,"text-anchor":"middle"},c))}}makeConicTimingCircle(t,r,i,s){const n=s.stickScreenXY,o=i.stickScreenXY,{timing:l,timingCount:c}=i,h=he(n,t),d=nt(...Te([],n,t)),p=nt(...Te([],o,t));let u=this.getRealAngle(d+(p-d)/2);(Math.abs(p-d)%360>=180?1:0)&&(u-=180);var[$]=ce([ne([],t,we([],t,[-1,0,0]),h)],Et(u,t));switch(l.name){case ge.LINEAR:return"";case ge.STEPS:return A(Qt,null,A("circle",{class:"step-point","data-colorstep-index":r,cx:$[0],cy:$[1],r:7}),A("text",{x:$[0],y:$[1],dy:4,"text-anchor":"middle"},l.count));default:return A(Qt,null,A("circle",{class:"step-point","data-colorstep-index":r,cx:$[0],cy:$[1],r:7}),A("text",{x:$[0],y:$[1],dy:4,"text-anchor":"middle"},c))}}makeTimingArea(t,r,i,s){const n=i.stickScreenXYInEnd,o=r.stickScreenXYInStart;return A("g",{class:"timing-area"},r.timing.name===ge.LINEAR?"":A("path",{class:"timing-path",d:`
              M ${n[0]} ${n[1]}
              L ${o[0]} ${o[1]}
            `}),this.makeTimingCircle(t,r,i,s))}getRealAngle(t){return t<0?360+t:t}makeConicTimingArea(t,r,i,s,n,o,l){const c=s.stickScreenXY,h=i.stickScreenXY,d=nt(...Te([],c,t))+l,p=nt(...Te([],h,t))+l,u=360-d,$=Math.abs(u+p)%360>=180?1:0;return A("g",{class:"timing-area"},i.timing.name===ge.LINEAR?"":A(Qt,null,A("path",{class:"timing-path",d:`
              M ${c[0]} ${c[1]}
              A ${o} ${o} 0 ${$} 1 ${h[0]} ${h[1]}
            `})),this.makeConicTimingCircle(t,r,i,s,o))}makeGradientPoint(t,r,i,s,n){const o=nn,l=Te([],i,r),c=nt(l[0],l[1])-180;return A(Qt,null,t.map((h,d)=>d===0?"":this.makeTimingArea(d,h,t[d-1],nn)),t.map((h,d)=>A("g",{transform:`rotate(${c} ${h.stickScreenXY[0]} ${h.stickScreenXY[1]})`},A("rect",{id:h.id,"data-index":d,class:"colorstep",x:h.stickScreenXY[0],y:h.stickScreenXY[1],width:o,height:o,fill:h.color,tabIndex:-1,"data-x":h.screenXY[0],"data-y":h.screenXY[1]}),this.makeTimingLine(h.timing,o,h.stickScreenXY[0],h.stickScreenXY[1]))),A("circle",{class:"point","data-type":"start",cx:r[0],cy:r[1]}),A("circle",{class:"point","data-type":"end",cx:i[0],cy:i[1]}),s&&A("circle",{class:"point","data-type":"shape",cx:s[0],cy:s[1]}),n&&A("circle",{class:"hover-colorstep",r:"5",cx:n[0],cy:n[1],fill:this.state.hoverColorStep.color}))}makeConicGradientPoint(t,r,i,s,n,o,l){const c=nn;return A(Qt,null,t.map((h,d)=>d===0?"":this.makeConicTimingArea(r,d,h,t[d-1],nn,o,l)),t.map((h,d)=>{const p=nt(...Te([],h.screenXY,r))-180;return A("g",{transform:`rotate(${p} ${h.screenXY[0]} ${h.screenXY[1]})`},A("rect",{id:h.id,"data-index":d,class:"colorstep",x:h.screenXY[0]-c/2,y:h.screenXY[1]-c/2,width:c,height:c,fill:h.color,tabIndex:-1,"data-x":h.screenXY[0],"data-y":h.screenXY[1]}),this.makeConicTimingLine(h.timing,c,h.screenXY[0],h.screenXY[1],l))}),A("circle",{class:"point","data-type":"start",cx:r[0],cy:r[1]}),A("circle",{class:"point","data-type":"end",cx:i[0],cy:i[1]}),s&&A("circle",{class:"point","data-type":"shape",cx:s[0],cy:s[1]}),n&&A("circle",{class:"hover-colorstep",r:"5",cx:n[0],cy:n[1],fill:this.state.hoverColorStep.color}))}makeGradientRect(t){const r=this.$viewport.applyVerties(t.backVerties);return A(Qt,null,A("div",{class:"gradient-rect"},A("svg",null,A("path",{class:"back-rect",d:`
                    M ${r[0][0]} ${r[0][1]}
                    L ${r[1][0]} ${r[1][1]}
                    L ${r[2][0]} ${r[2][1]}
                    L ${r[3][0]} ${r[3][1]}
                    Z
                `}))),A("div",{class:"resizer","data-direction":"bottom-right",style:{left:g.px(r[2][0]),top:g.px(r[2][1])}}))}makeCenterPoint(t){const{image:r}=t.backgroundImage;switch(r.type){case N.LINEAR:case N.REPEATING_LINEAR:return this.makeLinearCenterPoint(t);case N.RADIAL:case N.REPEATING_RADIAL:return this.makeRadialCenterPoint(t);case N.CONIC:case N.REPEATING_CONIC:return this.makeConicCenterPoint(t)}return""}makeConicCenterPoint(t){const{image:r}=t.backgroundImage;let i,s,n,o,l,c;this.$viewport.applyVerties(t.backVerties),i=this.$viewport.applyVertex(t.radialCenterPosition),n=this.$viewport.applyVertex(t.startPoint),o=this.$viewport.applyVertex(t.endPoint),l=this.$viewport.applyVertex(t.shapePoint);let h=he(n,o)/2;h<50&&(h=50),c=t.colorsteps.map(m=>{m.screenXY=this.$viewport.applyVertex(m.pos);const $=he(m.screenXY,n);$<h?m.screenXY=ne([],n,ne([],n,m.screenXY,1/$),h+20):$>h&&(m.screenXY=ne([],n,m.screenXY,(h+20)/$)),m.stickScreenXY=Ft(m.screenXY);const S=Te([],m.screenXY,n);return m.angle=nt(S[0],S[1]),m}),i=this.$viewport.applyVertex(t.radialCenterPosition);const d=this.$viewport.applyVertex(t.shapePoint);s=ne([],i,ne([],i,d,1/he(i,d)),h+50);const p=ne([],s,i,1);let u=null;if(this.state.hoverColorStep){const m=this.state.hoverColorStep.percent*3.6,$=he(i,l);[u]=ce([ne([],i,l,(h+20)/$)],Et(m,i))}return A(Qt,null,A("div",{class:"gradient-position center","data-radial-type":r.radialType,style:{left:g.px(i[0]),top:g.px(i[1])}}),A("svg",{class:"gradient-angle"},A("circle",{class:"size",cx:n[0],cy:n[1],r:h}),A("circle",{class:"area-line",cx:n[0],cy:n[1],r:h}),A("path",{class:"stick",d:`
                M ${p[0]} ${p[1]}
                L ${s[0]} ${s[1]}
            `}),A("circle",{class:"rotate",cx:s[0],cy:s[1],r:"7","data-center-x":i[0],"data-center-y":i[1]}),this.makeConicGradientPoint(c,n,o,l,u,h+20,r.angle)))}makeRadialCenterPoint(t){t.backgroundImage;let r,i,s,n;this.$viewport.applyVerties(t.backVerties),this.$viewport.applyVertex(t.radialCenterPosition),i=this.$viewport.applyVertex(t.startPoint),s=this.$viewport.applyVertex(t.endPoint),n=this.$viewport.applyVertex(t.shapePoint),r=this.makeStickPoint(t.colorsteps,i,s);let o=null;return this.state.hoverColorStep&&(o=ne([],i,s,this.state.hoverColorStep.percent/100)),A(Qt,null,A("svg",{class:"gradient-radial-line"},A("path",{d:`
              M ${i[0]} ${i[1]}
              L ${s[0]} ${s[1]}
          `,class:"area-line"}),A("path",{d:`
              M ${i[0]} ${i[1]}
              L ${s[0]} ${s[1]}
          `,class:"start-end-line"}),A("path",{d:`
              M ${i[0]} ${i[1]}
              L ${n[0]} ${n[1]}
          `,class:"shape-line"}),this.makeGradientPoint(r,i,s,n,o)))}makeStickPoint(t,r,i){const s=nn,n=Te([],i,r),o=nt(n[0],n[1])-180,l=Et(-o,r),c=It([],l);return t.map(h=>{h.screenXY=this.$viewport.applyVertex(h.pos);const[d]=ce([h.screenXY],l);return[h.stickScreenXY,h.stickScreenXYInStart,h.stickScreenXYInEnd]=ce([[d[0]-s/2,d[1]-s*1.5,0],[d[0]-s/2,d[1]-s*1.5+s/2,0],[d[0]+s/2,d[1]-s*1.5+s/2,0]],c),h})}makeLinearCenterPoint(t){let r,i,s,n,o,l,c;this.$viewport.applyVerties(t.backVerties),s=this.$viewport.applyVertex(t.startPoint),n=this.$viewport.applyVertex(t.endPoint),o=this.$viewport.applyVertex(t.areaStartPoint),l=this.$viewport.applyVertex(t.areaEndPoint),r=this.$viewport.applyVertex(t.centerPosition),c=this.makeStickPoint(t.colorsteps,s,n);const h=he(r,n),[d]=ce([n],Et(90,ne([],s,n,.5)));i=ne([],r,ne([],r,d,1/he(r,d)),h+20);const p=ne([],i,r,20/(h+20));let u=null;return this.state.hoverColorStep&&(u=ne([],s,n,this.state.hoverColorStep.percent/100)),A("svg",{class:"gradient-angle"},A("path",{class:"stick",d:`
              M ${p[0]} ${p[1]}
              L ${i[0]} ${i[1]}
          `}),A("circle",{class:"size",cx:r[0],cy:r[1],r:he(r,s)}),A("circle",{class:"rotate",cx:i[0],cy:i[1],r:"7","data-center-x":r[0],"data-center-y":r[1]}),A("path",{d:`
              M ${o[0]} ${o[1]}
              L ${l[0]} ${l[1]}
          `,class:"area-line"}),A("path",{d:`
              M ${s[0]} ${s[1]}
              L ${n[0]} ${n[1]}
          `,class:"start-end-line"}),this.makeGradientPoint(c,s,n,null,u))}[U("$el")+st](){const t=this.$selection.current;if(!t)return"";const r=t.createBackgroundImageMatrix(this.state.index);this.state.lastBackgroundMatrix=r;const i=r.backgroundImage.image;switch(i.type){case N.LINEAR:case N.REPEATING_LINEAR:this.state.centerPosition=this.$viewport.applyVertex(r.centerPosition),this.state.startPoint=this.$viewport.applyVertex(r.startPoint),this.state.endPoint=this.$viewport.applyVertex(r.endPoint),this.state.rotateInverse=Et(-1*r.backgroundImage.image.angle,this.state.centerPosition);break;case N.RADIAL:case N.REPEATING_RADIAL:this.state.centerPosition=this.$viewport.applyVertex(r.radialCenterPosition),this.state.startPoint=this.$viewport.applyVertex(r.startPoint),this.state.endPoint=this.$viewport.applyVertex(r.endPoint);break;case N.CONIC:case N.REPEATING_CONIC:this.state.centerPosition=this.$viewport.applyVertex(r.radialCenterPosition),this.state.startPoint=this.$viewport.applyVertex(r.shapePoint);break}return A("div",null,this.makeGradientRect(r),i.type===N.STATIC||i.type===N.IMAGE?null:this.makeCenterPoint(r))}}function Vj(a){a.registerUI("canvas.view",{GradientEditorView:Lj})}var JO="";class Rj extends K{initializePolygon(){const t=this.$selection.current;this.state.current,this.state.width=t.screenWidth,this.state.height=t.screenHeight,this.state.clippath=_e.parseStyle(t["clip-path"]),this.state.clippath.value=_e.parseStyleForPolygon(this.state.clippath.value),this.screenPoints=this.$viewport.applyVerties(ce(this.state.clippath.value.map(r=>{const{x:i,y:s}=r,n=i.toPx(this.state.width),o=s.toPx(this.state.height);return Ee(n,o,0)}),t.absoluteMatrix)),this.clonedScreenPoints=ve(this.screenPoints)}[xe("$el .polygon .polygon-pointer")+Ut+Ve("movePolygonPointer")+ze("moveEndPolygonPointer")](t){this.initializePolygon(),this.polygonTargetIndex=+t.$dt.data("index")}movePolygonPointer(t,r){this.clonedScreenPoints[this.polygonTargetIndex]=we([],this.screenPoints[this.polygonTargetIndex],[t,r,0]),this.updatePolygon(this.clonedScreenPoints)}moveEndPolygonPointer(){const t=_e.toCSS(this.state.clippath);this.command("setAttributeForMulti","change clippath",this.$selection.packByValue(t))}[xe("$el .polygon .polygon-line")+Ut](t){this.initializePolygon();const r=+t.$dt.data("index");this.polygonTargetIndex=r,console.log(r);const i=this.screenPoints[this.polygonTargetIndex],s=this.screenPoints[(this.polygonTargetIndex+1)%this.screenPoints.length],n=ne([],i,s,.5);this.screenPoints.splice(this.polygonTargetIndex+1,0,n),this.updatePolygon(this.screenPoints)}updatePolygon(t){const r=this.$viewport.applyVertiesInverse(t),i=this.$selection.current.absoluteMatrixInverse,s=ce(r,i);this.state.clippath.value=s.map(o=>[g.makePercent(o[0],this.state.width),g.makePercent(o[1],this.state.height)].join(" ")).join(",");const n=_e.toCSS(this.state.clippath);this.emit("setAttributeForMulti",this.$selection.packByValue(n))}[xe("$el .polygon .polygon-center")+Ut+Ve("movePolygonCenter")+ze("moveEndPolygonCenter")](t){this.initializePolygon()}movePolygonCenter(t,r){const i=this.screenPoints.map(s=>we([],s,[t,r,0]));this.updatePolygon(i)}moveEndPolygonCenter(t,r){if(t==0&&r==0){switch(this.state.clippath.type){case qt.POLYGON:const s=_e.toCSS({type:qt.CIRCLE,value:"50% at 50% 50%"});this.command("setAttributeForMulti","change clippath",this.$selection.packByValue(s));break}return}const i=_e.toCSS(this.state.clippath);this.command("setAttributeForMulti","change clippath",this.$selection.packByValue(i))}templatePolygon(t){const r=this.$selection.current,i=_e.parseStyleForPolygon(t.value).map(l=>[l.x.toPx(r.screenWidth).value,l.y.toPx(r.screenHeight).value,0]),s=Tr(i)[4],n=this.$viewport.applyVerties(ce(i,r.absoluteMatrix)),o=this.$viewport.applyVerties(ce([s],r.absoluteMatrix))[0];return A("div",{class:"polygon"},A("div",{class:"polygon-back"},A("svg",{style:"position:absolute;width:100%;height:100%;"},A("polygon",{points:`${n.map(l=>[l[0],l[1]].join(",")).join(" ")}`}),n.map((l,c)=>{const h=(c+1)%n.length,d=n[h];return A("line",{x1:l[0],y1:l[1],x2:d[0],y2:d[1],class:"polygon-line","data-index":c})}),n.map((l,c)=>A("circle",{cx:l[0],cy:l[1],r:3,class:"polygon-pointer","data-index":c})))),A("div",{class:"polygon-center",style:{left:g.px(o[0]),top:g.px(o[1])}}))}}class zj extends Rj{initializeInset(){const t=this.$selection.current;this.state.current,this.state.width=t.screenWidth,this.state.height=t.screenHeight,this.state.clippath=_e.parseStyle(t["clip-path"]),this.state.clippath.value=_e.parseStyleForInset(this.state.clippath.value),this.state.inset=this.state.clippath.value;const r=this.state.inset,i=r.top.toPx(t.screenHeight),s=r.left.toPx(t.screenWidth),n=g.px(t.screenWidth-r.right.toPx(t.screenWidth)),o=g.px(t.screenHeight-r.bottom.toPx(t.screenHeight)),l=this.$viewport.applyVerties(ce([[s,i,0],[n,i,0],[n,o,0],[s,o,0]],t.absoluteMatrix)),c=ne([],l[0],l[3],.5),h=ne([],l[0],l[1],.5),d=ne([],l[1],l[2],.5),p=ne([],l[2],l[3],.5),u=ne([],l[0],l[2],.5);this.screenPoints=[c,h,d,p,u]}[xe("$el .inset .inset-direction")+Ut+Ve("moveInsetRadius")+ze("moveEndInsetRadius")](t){this.initializeInset(),this.insetTarget=t.$dt.data("direction")}moveInsetRadius(t,r){const{left:i,top:s,right:n,bottom:o}=this.state.inset;let[l,c,h,d]=this.screenPoints;this.insetTarget=="left"?l=we([],l,[t,r,0]):this.insetTarget=="top"?c=we([],c,[t,r,0]):this.insetTarget=="right"?h=we([],h,[t,r,0]):this.insetTarget=="bottom"&&(d=we([],d,[t,r,0]));const p=this.$viewport.applyVertexInverse(l),u=this.$viewport.applyVertexInverse(c),m=this.$viewport.applyVertexInverse(h),$=this.$viewport.applyVertexInverse(d),S=this.$selection.current.absoluteMatrixInverse,[k,C,z,L]=ce([p,u,m,$],S);this.state.clippath.value=[s.isPercent()?g.makePercent(C[1],this.state.height):g.px(C[1]),n.isPercent()?g.makePercent(this.state.width-z[0],this.state.width):g.px(this.state.width-z[0]),o.isPercent()?g.makePercent(this.state.height-L[1],this.state.height):g.px(this.state.height-L[1]),i.isPercent()?g.makePercent(k[0],this.state.width):g.px(k[0])].join(" ");const R=_e.toCSS(this.state.clippath);this.emit("setAttributeForMulti",this.$selection.packByValue(R))}moveEndInsetRadius(){const t=_e.toCSS(this.state.clippath);this.command("setAttributeForMulti","change clippath",this.$selection.packByValue(t))}[xe("$el .inset .inset-center")+Ut+Ve("moveInsetCenter")+ze("moveEndInsetCenter")](t){this.initializeInset()}moveInsetCenter(t,r){const{left:i,top:s,right:n,bottom:o}=this.state.inset;let[l,c,h,d]=this.screenPoints;l=we([],l,[t,r,0]),c=we([],c,[t,r,0]),h=we([],h,[t,r,0]),d=we([],d,[t,r,0]);const p=this.$viewport.applyVertexInverse(l),u=this.$viewport.applyVertexInverse(c),m=this.$viewport.applyVertexInverse(h),$=this.$viewport.applyVertexInverse(d),S=this.$selection.current.absoluteMatrixInverse,[k,C,z,L]=ce([p,u,m,$],S);this.state.clippath.value=[s.isPercent()?g.makePercent(C[1],this.state.height):g.px(C[1]),n.isPercent()?g.makePercent(this.state.width-z[0],this.state.width):g.px(this.state.width-z[0]),o.isPercent()?g.makePercent(this.state.height-L[1],this.state.height):g.px(this.state.height-L[1]),i.isPercent()?g.makePercent(k[0],this.state.width):g.px(k[0])].join(" ");const R=_e.toCSS(this.state.clippath);this.emit("setAttributeForMulti",this.$selection.packByValue(R))}moveEndInsetCenter(t,r){if(t==0&&r==0){switch(this.state.clippath.type){case qt.INSET:const s=_e.toCSS({type:qt.POLYGON,value:"0% 0%, 100% 0%, 100% 100%, 0% 100%"});this.command("setAttributeForMulti","change clippath",this.$selection.packByValue(s));break}return}const i=_e.toCSS(this.state.clippath);this.command("setAttributeForMulti","change clippath",this.$selection.packByValue(i))}templateInset(t){const r=this.$selection.current;t.value=_e.parseStyleForInset(t.value);const i=t.value.top.toPx(r.screenHeight),s=t.value.left.toPx(r.screenWidth),n=g.px(r.screenWidth-t.value.right.toPx(r.screenWidth)),o=g.px(r.screenHeight-t.value.bottom.toPx(r.screenHeight)),l=this.$viewport.applyVerties(ce([[s,i,0],[n,i,0],[n,o,0],[s,o,0]],r.absoluteMatrix)),c=ne([],l[0],l[3],.5),h=ne([],l[0],l[1],.5),d=ne([],l[1],l[2],.5),p=ne([],l[2],l[3],.5),u=ne([],l[0],l[2],.5);return A("div",{class:"inset"},A("div",{class:"inset-back"},A("svg",{style:"position:absolute;width:100%;height:100%;"},A("path",{d:`
            M ${l[0][0]} ${l[0][1]}
            L ${l[1][0]} ${l[1][1]}
            L ${l[2][0]} ${l[2][1]}
            L ${l[3][0]} ${l[3][1]}
            Z
          `}))),A("div",{class:"inset-direction","data-direction":"left",style:{left:g.px(c[0]),top:g.px(c[1])}}),A("div",{class:"inset-direction","data-direction":"top",style:{left:g.px(h[0]),top:g.px(h[1])}}),A("div",{class:"inset-direction","data-direction":"right",style:{left:g.px(d[0]),top:g.px(d[1])}}),A("div",{class:"inset-direction","data-direction":"bottom",style:{left:g.px(p[0]),top:g.px(p[1])}}),A("div",{class:"inset-center",style:{left:g.px(u[0]),top:g.px(u[1])}}))}}class jj extends zj{[xe("$el .circle .circle-radius")+Ut+Ve("moveCircleRadius")+ze("moveEndCircleRadius")](t){const r=this.$selection.current;this.state.current,this.state.width=r.screenWidth,this.state.height=r.screenHeight,this.state.clippath=_e.parseStyle(r["clip-path"]),this.state.circle=_e.parseStyleForCircle(this.state.clippath.value)}moveCircleRadius(t,r){const i=this.$selection.current,{radius:s,x:n,y:o}=this.state.circle,l=n.toPx(i.screenWidth),c=o.toPx(i.screenHeight),h=Math.sqrt(Math.pow(i.screenWidth,2)+Math.pow(i.screenHeight,2))/Math.sqrt(2),d=s.toPx(i.screenWidth),u=this.$viewport.applyVerties(ce([[l.value+d.value,c,0]],i.absoluteMatrix))[0],m=u[0]+t,$=u[1]+r,S=this.$viewport.applyVertexInverse([m,$,0]),k=ce([S],this.$selection.current.absoluteMatrixInverse)[0],C=Math.abs(k[0]-l),z=[s.isPercent()?g.makePercent(C,h):g.px(C),n,o];this.state.clippath.value=`${z[0]} at ${z[1]} ${z[2]}`;const L=_e.toCSS(this.state.clippath);this.emit("setAttributeForMulti",this.$selection.packByValue(L))}moveEndCircleRadius(){const t=_e.toCSS(this.state.clippath);this.command("setAttributeForMulti","change clippath",this.$selection.packByValue(t))}[xe("$el .circle .circle-center")+Ut+Ve("moveCircleCenter")+ze("moveEndCircleCenter")](t){const r=this.$selection.current;this.state.current,this.state.width=r.screenWidth,this.state.height=r.screenHeight,this.state.clippath=_e.parseStyle(r["clip-path"]),this.state.circle=_e.parseStyleForCircle(this.state.clippath.value)}moveCircleCenter(t,r){const i=this.$selection.current,{radius:s,x:n,y:o}=this.state.circle,l=n.toPx(i.screenWidth),c=o.toPx(i.screenHeight),d=this.$viewport.applyVerties(ce([[l,c,0]],i.absoluteMatrix))[0],p=d[0]+t,u=d[1]+r,m=this.$viewport.applyVertexInverse([p,u,0]),$=ce([m],this.$selection.current.absoluteMatrixInverse)[0],S=[s,n.isPercent()?g.makePercent($[0],this.state.width):g.px($[0]),o.isPercent()?g.makePercent($[1],this.state.height):g.px($[1])];this.state.clippath.value=`${s} at ${S[1]} ${S[2]}`;const k=_e.toCSS(this.state.clippath);this.emit("setAttributeForMulti",this.$selection.packByValue(k))}moveEndCircleCenter(t,r){if(t==0&&r==0){switch(this.state.clippath.type){case qt.CIRCLE:const s=_e.toCSS({type:qt.ELLIPSE,value:`${this.state.circle.radius} ${this.state.circle.radius} at ${this.state.circle.x} ${this.state.circle.y}`});this.command("setAttributeForMulti","change clippath",this.$selection.packByValue(s));break}return}const i=_e.toCSS(this.state.clippath);this.command("setAttributeForMulti","change clippath",this.$selection.packByValue(i))}templateCircle(t){const r=this.$selection.current,i=Math.sqrt(Math.pow(r.screenWidth,2)+Math.pow(r.screenHeight,2))/Math.sqrt(2),s=t.value.radius.toPx(i),n=t.value.x.toPx(r.screenWidth),o=t.value.y.toPx(r.screenHeight),l=this.$viewport.applyVerties(ce([[n,o,0],[n.value+s.value,o,0]],r.absoluteMatrix)),c=l[0],h=l[1],d=he(c,h);return A("div",{class:"circle"},A("div",{class:"circle-back",style:{left:g.px(c[0]),top:g.px(c[1]),width:g.px(d*2),height:g.px(d*2)}}),A("div",{class:"circle-center",style:{left:c[0]+"px",top:c[1]+"px"}}),A("div",{class:"circle-radius",style:{left:h[0]+"px",top:h[1]+"px"}}))}}class Aj extends jj{[xe("$el .ellipse .ellipse-radius-x")+Ut+Ve("moveEllipseRadiusX")+ze("moveEndEllipseRadiusX")](t){const r=this.$selection.current;this.state.current,this.state.width=r.screenWidth,this.state.height=r.screenHeight,this.state.clippath=_e.parseStyle(r["clip-path"]),this.state.ellipse=_e.parseStyleForEllipse(this.state.clippath.value)}moveEllipseRadiusX(t,r){const i=this.$selection.current,{radiusX:s,radiusY:n,x:o,y:l}=this.state.ellipse,c=o.toPx(i.screenWidth),h=l.toPx(i.screenHeight),d=s.toPx(i.screenWidth),u=this.$viewport.applyVerties(ce([[c.value+d.value,h,0]],i.absoluteMatrix))[0],m=u[0]+t,$=u[1]+r,S=this.$viewport.applyVertexInverse([m,$,0]),k=ce([S],this.$selection.current.absoluteMatrixInverse)[0],C=Math.abs(k[0]-c),z=[s.isPercent()?g.makePercent(C,this.state.width):g.px(C),o,l];this.state.clippath.value=`${z[0]} ${n} at ${z[1]} ${z[2]}`;const L=_e.toCSS(this.state.clippath);this.emit("setAttributeForMulti",this.$selection.packByValue(L))}[xe("$el .ellipse .ellipse-radius-y")+Ut+Ve("moveEllipseRadiusY")+ze("moveEndEllipseRadiusX")](t){const r=this.$selection.current;this.state.current,this.state.width=r.screenWidth,this.state.height=r.screenHeight,this.state.clippath=_e.parseStyle(r["clip-path"]),this.state.ellipse=_e.parseStyleForEllipse(this.state.clippath.value)}moveEllipseRadiusY(t,r){const i=this.$selection.current,{radiusX:s,radiusY:n,x:o,y:l}=this.state.ellipse,c=o.toPx(i.screenWidth),h=l.toPx(i.screenHeight),d=n.toPx(i.screenHeight),u=this.$viewport.applyVerties(ce([[c.value,h.value+d.value,0]],i.absoluteMatrix))[0],m=u[0]+t,$=u[1]+r,S=this.$viewport.applyVertexInverse([m,$,0]),k=ce([S],this.$selection.current.absoluteMatrixInverse)[0],C=Math.abs(k[1]-h),z=[n.isPercent()?g.makePercent(C,this.state.height):g.px(C),o,l];this.state.clippath.value=`${s} ${z[0]} at ${o} ${l}`;const L=_e.toCSS(this.state.clippath);this.emit("setAttributeForMulti",this.$selection.packByValue(L))}moveEndEllipseRadiusX(){const t=_e.toCSS(this.state.clippath);this.command("setAttributeForMulti","change clippath",this.$selection.packByValue(t))}[xe("$el .ellipse .ellipse-center")+Ut+Ve("moveEllipseCenter")+ze("moveEndEllipseCenter")](t){const r=this.$selection.current;this.state.current,this.state.width=r.screenWidth,this.state.height=r.screenHeight,this.state.clippath=_e.parseStyle(r["clip-path"]),this.state.ellipse=_e.parseStyleForEllipse(this.state.clippath.value),this.state.left=g.parse(t.$dt.css("left")).value,this.state.top=g.parse(t.$dt.css("top")).value}moveEllipseCenter(t,r){const{radiusX:i,radiusY:s,x:n,y:o}=this.state.ellipse,l=this.state.left+t,c=this.state.top+r,h=this.$viewport.applyVertexInverse([l,c,0]),d=ce([h],this.$selection.current.absoluteMatrixInverse)[0],p=[i,s,n.isPercent()?g.makePercent(d[0],this.state.width):g.px(d[0]),o.isPercent()?g.makePercent(d[1],this.state.height):g.px(d[1])];this.state.clippath.value=`${i} ${s} at ${p[2]} ${p[3]}`;const u=_e.toCSS(this.state.clippath);this.emit("setAttributeForMulti",this.$selection.packByValue(u))}moveEndEllipseCenter(t,r){if(t==0&&r==0){switch(this.state.clippath.type){case qt.ELLIPSE:const s=_e.toCSS({type:qt.INSET,value:""});this.command("setAttributeForMulti","change clippath",this.$selection.packByValue(s));break}return}const i=_e.toCSS(this.state.clippath);this.command("setAttributeForMulti","change clippath",this.$selection.packByValue(i))}templateEllipse(t){const r=this.$selection.current,i=t.value.radiusX.toPx(r.screenWidth),s=t.value.radiusY.toPx(r.screenHeight),n=t.value.x.toPx(r.screenWidth),o=t.value.y.toPx(r.screenHeight),l=this.$viewport.applyVerties(ce([[n,o,0],[n.value+i.value,o,0],[n.value,o.value+s.value,0]],r.absoluteMatrix)),c=l[0],h=l[1],d=l[2],p=he(c,h),u=he(c,d),m=Te([],h,c),$=ss(m[0],m[1]);return A("div",{class:"ellipse"},A("div",{class:"ellipse-back"},A("svg",{style:"position:absolute;width:100%;height:100%;"},A("ellipse",{cx:c[0],cy:c[1],rx:p,ry:u,transform:`rotate(${$} ${c[0]} ${c[1]})`}))),A("div",{class:"ellipse-center",style:{left:c[0]+"px",top:c[1]+"px"}}),A("div",{class:"ellipse-radius ellipse-radius-x",style:{left:h[0]+"px",top:h[1]+"px"}}),A("div",{class:"ellipse-radius ellipse-radius-y",style:{left:d[0]+"px",top:d[1]+"px"}}))}}class Oj extends Aj{template(){return A("div",{class:"elf--clippath-editor-view "})}[U("$el")+st](){const t=this.$selection.current;if(!t)return"";const r=_e.parseStyle(t["clip-path"]);switch(r.type){case qt.CIRCLE:return r.value=_e.parseStyleForCircle(r.value),this.templateCircle(r);case qt.ELLIPSE:return r.value=_e.parseStyleForEllipse(r.value),this.templateEllipse(r);case qt.POLYGON:return this.templatePolygon(r);case qt.INSET:return this.templateInset(r)}return A("div",null)}[I("refreshSelection")+Xe(100)](){this.refresh()}[I("updateViewport")](){this.refresh()}checkClipPath(){return this.$el.isShow()===!1||!this.$selection.current?!1:this.$selection.current.hasChangedField("clip-path","angle","x","y","width","height")}[I("refreshSelectionStyleView")+Se("checkClipPath")](){this.refresh()}[F("$el")](t){(be.create(t.target).isTag("svg")||be.create(t.target).hasClass("elf--clippath-editor-view"))&&this.trigger("hideClippathEditorView")}[I("hideClippathEditorView")](){this.$el.hide()}[I("showClippathEditorView")](){this.$el.show(),this.refresh()}}function Dj(a){a.registerUI("canvas.view",{ClippathEditorView:Oj})}class Fj extends Oi{getDefaultObject(t={}){return super.getDefaultObject(v({itemType:"sample",name:"New Sample Layer",sampleText:"Sample Text 1",sampleNumber:1},t))}toCloneObject(){return v(v({},super.toCloneObject()),this.attrs("sampleText","sampleNumber"))}editable(t){switch(t){case"sample":return!0}return super.editable(t)}getDefaultTitle(){return"Sample Layer"}}class Bj extends ri{update(t,r){const i=r.$(".sample-text");i&&i.text(t.sampleText);const s=r.$(".sample-number");s&&s.text(t.sampleNumber);const n=r.$(".sample-items");if(n){const o=[...Array(t.sampleNumber)].map((l,c)=>`
            <div class="sample-item" style="background-color: yellow">${c}</div>
          `).join(`
`);n.html(o)}super.update(t,r)}render(t){var{id:r,sampleText:i,sampleNumber:s}=t;return`
      <div class='element-item sample' data-id="${r}">
        ${this.toDefString(t)}
        <div>
          <div class="sample-text">${i}</div>
          <div class="sample-number">${s}</div>
          <div class="sample-items" style="display: grid; grid-template-columns: 1fr 1fr 1fr; column-gap: 10px;"></div>
        </div>
      </div>`}}function Nj(a){a.registerComponent("sample",Fj),a.registerRenderer("html","sample",new Bj),a.registerInspector("sample",t=>["Sample Text \uD3B8\uC9D1",{key:"sampleText",editor:"TextEditor",defaultValue:t.sampleText},"Sample Number \uD3B8\uC9D1",{key:"sampleNumber",editor:"NumberInputEditor",editorOptions:{min:0,max:10,step:1,label:"SN"},defaultValue:t.sampleNumber},"\uC2A4\uD0C0\uC77C \uCE74\uD53C",{type:"column",size:[1,1],gap:10,columns:[{key:"copyCssJSON",editor:"Button",editorOptions:{text:"Copy CSS JSON",onClick:()=>{console.log(JSON.stringify(a.html.toCSS(t),null,4))}}},{key:"copyCssString",editor:"Button",editorOptions:{text:"Copy CSS String",onClick:()=>{console.log(Ge(a.html.toCSS(t)))}}},{key:"changeColor",editor:"Button",editorOptions:{text:"Change Text Random Color",onClick:()=>{const r=Le.random(),i=Le.random();a.emit("setAttributeForMulti",{[t.id]:{color:r,"background-color":i}})}}}]}])}class Gj extends K{initState(){return{mode:"grid"}}template(){return`
      <div class='image-asset-picker'>
        <div class='image-list' ref='$imageList' data-view-mode='${this.state.mode}'></div>
      </div>
    `}[U("$imageList")+st](){var t=this.$selection.currentProject||{images:[]},r=t.images,i=r.map(s=>`
        <div class='image-item'>
          <div class='preview'>
            <img src="${s.local}" />
          </div>
        </div>
      `);return i}[F("$imageList .image-item")](t){var r=t.$dt.$("img");this.updateData(r.attr("src"))}updateData(t){this.parent.trigger(this.props.onchange,t)}[I("addImageAsset")](){this.refresh()}}function Hj(a){URL.revokeObjectURL(a)}var eD="";class Uj extends De{getTitle(){return this.$i18n("image.asset.property.title")}initState(){return{mode:"grid"}}getClassNamef(){return"elf--image-assets-property"}afterRender(){this.show()}getBody(){return`
      <div class='property-item image-assets'>
        <div class='image-list' ref='$imageList' data-view-mode='${this.state.mode}'></div>
      </div>
    `}[U("$imageList")+st](){var t=this.$selection.currentProject||{images:[]},r=t.images,i=r.map((s,n)=>`
        <div class='image-item' data-index="${n}">
          <div class='preview' draggable="true">
            <img src="${s.local}" />
          </div>
          <div class='tools'>
            <button type="button" class='copy'>${ae.copy}</button>          
            <button type="button" class='remove'>${ae.remove}</button>
          </div>
        </div>
      `);return`
      <div class='loaded-list'>
        ${i.join("")}
        <div class='add-image-item'>
          <input type='file' accept='image/*' ref='$file' />
          <button type="button">${ae.add}</button>
        </div>        
      </div>

    `}executeImage(t,r=!0,i=!0){var s=this.$selection.currentProject;s?(t&&t(s),r&&this.refresh(),i&&this.emit("refreshImageAssets")):alert("Please select a project.")}[yr("$imageList .preview img")](t){var r=+t.$dt.closest("image-item").attr("data-index"),i=this.$selection.currentProject;if(i){var s=i.images[r];t.dataTransfer.setData("image/info",s.local)}}[Cr("$imageList .add-image-item input[type=file]")](t){this.executeImage(r=>{[...t.target.files].forEach(i=>{this.emit("updateImageAssetItem",i)})})}[F("$imageList .remove")](t){var r=t.$dt.closest("image-item"),i=+r.attr("data-index");this.executeImage(s=>{s.removeImage(i),Hj(r.$(".preview img").attr("src"))})}[F("$imageList .copy")](t){var r=t.$dt.closest("image-item"),i=+r.attr("data-index");this.executeImage(s=>{s.copyImage(i)})}[I("addImageAsset")](){this.refresh()}}function Xj(a){a.registerElement({ImageAssetPicker:Gj,ImageAssetsProperty:Uj})}var tD="";const ql=[$r.PAD,$r.REFLECT,$r.REPEAT],Ql=20;class Yj extends K{initializeData(){const t=this.$selection.current;this.state.currentMatrix=t.matrix,this.state.imageResult=t.createFragmentMatrix(this.state.key),this.state.originalResult=t.createFragmentMatrix(this.state.key)}}class Wj extends Yj{[xe("$el .step-point")+Ve("moveStepPoint")+ze("moveEndStepPoint")](t){this.$el.toggleClass("dragging",!0),this.initializeData();const r=+t.$dt.data("colorstep-index");this.localColorStep=this.state.imageResult.image.colorsteps[r],this.localColorStepTimingCount=this.localColorStep.timing.count,this.localColorCubicBezierTimingCount=this.localColorStep.timingCount}moveStepPoint(t,r){const i=(t<0?-1:1)*Math.ceil(he([0,0,0],[t,r,0])/10);switch(this.localColorStep.timing.name){case ge.LINEAR:break;case ge.STEPS:this.localColorStep.timing.count=Math.max(this.localColorStepTimingCount+i,1);break;default:this.localColorStep.timingCount=Math.max(this.localColorCubicBezierTimingCount+i,1);break}this.command("setAttributeForMulti",`change ${this.state.key} fragment`,this.$selection.packByValue({[this.state.key]:`${this.state.imageResult.image}`}))}makeTimingString(t){switch(t.name){case ge.LINEAR:return"";case ge.EASE:case ge.EASE_IN:case ge.EASE_OUT:case ge.EASE_IN_OUT:return`${t.name}`;default:return`cubic-bezier(${t.x1}, ${t.y1}, ${t.x2}, ${t.y2})`}}moveEndStepPoint(t,r){if(t===0&&r===0){const{timing:i,timingCount:s}=this.localColorStep;switch(i.name){case ge.STEPS:this.localColorStep.timing.direction=this.localColorStep.timing.direction==="start"?"end":"start",this.command("setAttributeForMulti",`change ${this.state.key} fragment`,this.$selection.packByValue({[this.state.key]:`${this.state.imageResult.image}`}));break;case ge.LINEAR:break;case ge.PATH:this.emit("showComponentPopup",{title:"Path Editor",width:400,inspector:[{key:"path",editor:"path",editorOptions:{height:160},defaultValue:i.d}],changeEvent:(n,o)=>{this.localColorStep.timing=Dt(`path(${o})`).parsed,this.command("setAttributeForMulti",`change ${this.state.key} fragment`,this.$selection.packByValue({[this.state.key]:`${this.state.imageResult.image}`}))}});break;default:this.emit("showComponentPopup",{title:"Cubic Bezier",width:220,inspector:[{key:"timing",editor:"cubic-bezier",editorOptions:{isAnimating:!1},defaultValue:this.makeTimingString(i)}],changeEvent:(n,o)=>{this.localColorStep.timing=Dt(o).parsed,this.command("setAttributeForMulti",`change ${this.state.key} fragment`,this.$selection.packByValue({[this.state.key]:`${this.state.imageResult.image}`}))}}),this.$el.toggleClass("dragging",!1);return}}this.command("setAttributeForMulti",`change ${this.state.key} fragment`,this.$selection.packByValue({[this.state.key]:`${this.state.imageResult.image}`})),this.$el.toggleClass("dragging",!1)}}class Kj extends Wj{[Xt("$el .colorstep")](t){const r=+t.$dt.data("index");switch(t.code){case"Delete":case"Backspace":this.removeStep(r);break;case"BracketRight":this.sortToRight(r);break;case"BracketLeft":this.sortToLeft(r);break;case"Equal":this.appendColorStep(r);break;case"Minus":this.prependColorStep(r);break}}removeStep(t){const r=this.state.imageResult.image;r.removeColorStepByIndex(t),this.updateColorStepStatus(r,-1)}sortToRight(){const t=this.state.imageResult.image;t.sortToRight(),this.updateColorStepStatus(t,-1)}sortToLeft(){const t=this.state.imageResult.image;t.sortToLeft(),this.updateColorStepStatus(t,-1)}appendColorStep(t){const r=t+1,i=this.state.imageResult.image,s=i.colorsteps[t],n=i.colorsteps[r];let o=-1;n?o=i.insertColorStep(s.percent+(n.percent-s.percent)/2):s.percent!==100&&(o=i.insertColorStep(s.percent+(100-s.percent)/2)),this.updateColorStepStatus(i,o)}prependColorStep(t){const r=t-1,i=this.state.imageResult.image,s=i.colorsteps[t],n=i.colorsteps[r];let o=-1;n?o=i.insertColorStep(n.percent+(s.percent-n.percent)/2):s.percent!==0&&(o=i.insertColorStep(s.percent)),this.updateColorStepStatus(i,o)}[xe("$el .point")+Ve("movePoint")+ze("moveEndPoint")](t){this.$el.toggleClass("dragging",!0),this.initializeData();const r=this.state.imageResult;this.pointTarget=t.$dt.data("type"),this.startPoint=this.$viewport.applyVertex(r.startPoint),this.endPoint=this.$viewport.applyVertex(r.endPoint),this.dist=he(this.startPoint,this.endPoint),r.shapePoint&&(this.shapePoint=this.$viewport.applyVertex(r.shapePoint),this.shapeDist=he(this.startPoint,this.shapePoint))}calculateNextPoint(t){if(this.$config.get("bodyEvent").shiftKey){let r,i;this.pointTarget==="start"?(r=this.endPoint,i=t):(r=this.startPoint,i=t);const s=Te([],i,r);let n=nt(s[0],s[1])-90;n=(n+360)%360,n-=n%this.$config.get("fixed.gradient.angle"),t=ce([we([],r,[0,-this.dist,0])],Et(n,r))[0]}return t}moveShapePoint(t,r){const i=this.shapePoint,s=this.calculateNextPoint(we([],i,[t,r,0])),n=this.state.currentMatrix.width,o=this.state.currentMatrix.height,l=this.state.imageResult.image;let c,h;switch(l.type){case N.RADIAL:const d=he(this.startPoint,s),p=ne([],this.startPoint,this.shapePoint,d/this.shapeDist),[u]=ce([this.$viewport.applyVertexInverse(p)],this.state.currentMatrix.absoluteMatrixInverse);c=g.makePercent(u[0],n),h=g.makePercent(u[1],o),l.reset({x3:c,y3:h});break}this.command("setAttributeForMulti",`change ${this.state.key} fragment`,this.$selection.packByValue({[this.state.key]:`${this.state.imageResult.image}`}))}movePoint(t,r){if(this.pointTarget==="shape")return this.moveShapePoint(t,r);const i=this.pointTarget==="start"?this.startPoint:this.endPoint;let s=this.calculateNextPoint(we([],i,[t,r,0]));var[n]=ce([this.$viewport.applyVertexInverse(s)],this.state.currentMatrix.absoluteMatrixInverse);const o=this.state.currentMatrix.width,l=this.state.currentMatrix.height,c=this.state.imageResult.image;switch(c.type){case N.RADIAL:var h,d,p,u,m,$;if(this.pointTarget==="start"){h=c.x1.isPercent()?g.makePercent(n[0],o):g.px(n[0]),d=c.y1.isPercent()?g.makePercent(n[1],l):g.px(n[1]);const S=this.calculateNextPoint(we([],this.endPoint,[t,r,0])),[k]=ce([this.$viewport.applyVertexInverse(S)],this.state.currentMatrix.absoluteMatrixInverse);p=c.x2.isPercent()?g.makePercent(k[0],o):g.px(k[0]),u=c.y2.isPercent()?g.makePercent(k[1],l):g.px(k[1]);const C=this.calculateNextPoint(we([],this.shapePoint,[t,r,0])),[z]=ce([this.$viewport.applyVertexInverse(C)],this.state.currentMatrix.absoluteMatrixInverse);m=c.x3.isPercent()?g.makePercent(z[0],o):g.px(z[0]),$=c.y3.isPercent()?g.makePercent(z[1],l):g.px(z[1]),c.reset({x1:h,y1:d,x2:p,y2:u,x3:m,y3:$})}else if(this.pointTarget==="end"){if(this.$config.get("bodyEvent").altKey){const L=he(this.startPoint,s);s=ne([],this.startPoint,this.endPoint,L/this.dist);var[n]=ce([this.$viewport.applyVertexInverse(s)],this.state.currentMatrix.absoluteMatrixInverse)}h=g.makePercent(n[0],o),d=g.makePercent(n[1],l),c.reset({x2:h,y2:d});const S=he(this.startPoint,s),k=ne([],this.startPoint,s,1/S),C=ne([],this.startPoint,ce([k],Et(90,this.startPoint))[0],c.radialType===yt.CIRCLE?S:this.shapeDist),[z]=ce([this.$viewport.applyVertexInverse(C)],this.state.currentMatrix.absoluteMatrixInverse);m=g.makePercent(z[0],o),$=g.makePercent(z[1],l),c.reset({x3:m,y3:$})}break;case N.LINEAR:var h,d;this.pointTarget==="start"?(h=c.x1.isPercent()?g.makePercent(n[0],o):g.px(n[0]),d=c.y1.isPercent()?g.makePercent(n[1],l):g.px(n[1]),c.reset({x1:h,y1:d})):this.pointTarget==="end"&&(h=c.x2.isPercent()?g.makePercent(n[0],o):g.px(n[0]),d=c.y2.isPercent()?g.makePercent(n[1],l):g.px(n[1]),c.reset({x2:h,y2:d}));break}this.command("setAttributeForMulti",`change ${this.state.key} fragment`,this.$selection.packByValue({[this.state.key]:`${this.state.imageResult.image}`}))}moveEndPoint(t,r){const i=this.state.imageResult.image,s=this.state.currentMatrix.width,n=this.state.currentMatrix.height;if(t===0&&r===0)switch(i.type){case N.RADIAL:if(this.pointTarget==="start"){switch(i.radialType){case yt.CIRCLE:i.reset({radialType:yt.ELLIPSE});break;case yt.ELLIPSE:const c=he(this.startPoint,this.endPoint),h=ne([],this.startPoint,this.endPoint,1/c),d=ne([],this.startPoint,ce([h],Et(90,this.startPoint))[0],c),[p]=ce([this.$viewport.applyVertexInverse(d)],this.state.currentMatrix.absoluteMatrixInverse),u=g.makePercent(p[0],s),m=g.makePercent(p[1],n);i.reset({radialType:yt.CIRCLE,x3:u,y3:m});break}break}default:const l=(ql.findIndex(c=>i.spreadMethod===c)+1)%ql.length;i.reset({spreadMethod:ql[l]});break}this.emit("updateFillEditor",i),this.command("setAttributeForMulti",`change ${this.state.key} fragment`,this.$selection.packByValue({[this.state.key]:`${i}`}))}[xe("$el .colorstep")+Ve("moveColorStep")+ze("moveEndColorStep")](t){this.$el.toggleClass("dragging",!0),this.state.hoverColorStep=null,this.initializeData();const r=t.$dt;if(this.$targetIndex=+r.data("index"),t.altKey){this.removeStep(this.$targetIndex),this.state.altKey=!0;return}const i=this.state.imageResult;switch(i.image.type){case N.RADIAL:case N.LINEAR:this.startPoint=this.$viewport.applyVertex(i.startPoint),this.endPoint=this.$viewport.applyVertex(i.endPoint);const s=+r.data("x"),n=+r.data("y");this.screenXY=[s,n,0];const o=Te([],this.endPoint,this.startPoint),l=nt(o[0],o[1])-180;this.rotateInverse=Et(-l,this.startPoint);break}}moveColorStep(t,r){if(this.state.altKey)return;const i=we([],this.screenXY,[t,r,0]),[s,n,o]=ce([this.startPoint,this.endPoint,i],this.rotateInverse),l=this.state.imageResult;let c=0,h=0;switch(l.image.type){case N.RADIAL:case N.LINEAR:var[d,p,u]=[s[0],n[0],o[0]],m=Math.abs(d-p);u<d?c=-1*Math.abs(u-d)/m*100:u>p?c=Math.abs(u-d)/m*100:c=(u-d)/m*100,c=Math.max(0,Math.min(100,c)),h=m;break}const $=this.state.imageResult.image;$.colorsteps[this.$targetIndex].setValue(c,h);const S={color:$.colorsteps[this.$targetIndex].color,percent:$.colorsteps[this.$targetIndex].percent},k=this.state.originalResult.image;k.colorsteps=$.colorsteps.map(C=>C),k.sortColorStep(),this.emit("updateFillEditor",k,S),this.command("setAttributeForMulti",`change ${this.state.key} fragment`,this.$selection.packByValue({[this.state.key]:`${k}`}))}moveEndColorStep(t,r){if(this.state.altKey){this.state.altKey=!1;return}if(t===0&&r===0){const i=this.state.imageResult.image;i.colorsteps[this.$targetIndex].toggleTiming();const s={color:i.colorsteps[this.$targetIndex].color,percent:i.colorsteps[this.$targetIndex].percent};this.emit("updateFillEditor",i,s),this.command("setAttributeForMulti","change background image",this.$selection.packByValue({[this.state.key]:`${i}`}))}this.$el.toggleClass("dragging",!1)}updateColorStepStatus(t,r){this.initializeData();const{color:i,percent:s}=t.colorsteps[r]||{};this.emit("updateFillEditor",t,{color:i,percent:s}),this.command("setAttributeForMulti","change background image",this.$selection.packByValue({[this.state.key]:`${t}`})),this.state.hoverColorStep=null}[xe("$el .area-line")](){const t=this.state.originalResult.image,r=t.insertColorStep(this.state.hoverColorStep.percent);this.updateColorStepStatus(t,r)}[na("$el .area-line")](t){this.state.hoverColorStep&&(this.state.hoverColorStep=null,this.refresh())}[rs("$el .area-line")](t){const r=this.$viewport.applyVertex(this.$viewport.getWorldPosition(t)),i=this.state.originalResult.image;let s,n,o;switch(i.type){case N.LINEAR:case N.RADIAL:[s,n,o]=ce([this.state.startPoint,this.state.endPoint,r],this.state.rotateInverse);var[l,c,h]=[s[0],n[0],o[0]],d=Math.abs(l-c),p;h<l?p=-1*Math.abs(h-l)/d*100:h>c?p=Math.abs(h-l)/d*100:p=(h-l)/d*100,this.state.hoverColorStep=i.pickColorStep(p);break}this.refresh()}}class Zj extends Kj{initState(){return{key:"",value:"",isShow:!1}}template(){return A("div",{class:"elf--fill-editor-view"})}updateData(){this.trigger(this.state.onchange,this.state.key,this.state.value)}refresh(){this.state.isShow&&this.load()}[I("updateViewport")](){this.refresh()}[I("refreshSelectionStyleView")](){this.$selection.current&&this.$selection.hasChangedField("x","y","width","height","angle","fill","stroke")&&this.refresh()}[I("showFillEditorView")](t={}){this.setState({key:t.key,isShow:!0,onchange:t.onchange}),this.$el.show(),this.emit("push.mode.view","FillEditorView")}[I("hideFillEditorView")](){this.setState({key:"",isShow:!1,onchange:null}),this.$el.hide(),this.emit("pop.mode.view","FillEditorView")}makeTimingLine(t,r=10,i=0,s=0){switch(t.name){case ge.LINEAR:return"";case ge.STEPS:return A("path",{class:"timing",d:`
          M${i+0} ${s+r} 
          L${i+r*1/3} ${s+r} 
          L${i+r*1/3} ${s+r*2/3} 
          L${i+r*2/3} ${s+r*2/3} 
          L${i+r*2/3} ${s+r*1/3} 
          L${i+r} ${s+r*1/3} 
          L${i+r} ${s+0}           
        `});case ge.PATH:return A("path",{class:"timing",d:W.fromSVGString(t.d).scale(r,r).flipX().translate(0,r).translate(i,s).d});default:return A("path",{class:"timing",d:`
          M${i+0} ${s+r} 
          C 
            ${i+t.x1*r} ${s+r-t.y1*r} 
            ${i+t.x2*r} ${s+r-t.y2*r}  
            ${i+r} ${s+0}
        `})}}makeTimingCircle(t,r,i,s){const n=i.stickScreenXYInEnd,o=r.stickScreenXYInStart,{timing:l,timingCount:c}=r;let h;switch(l.name){case ge.LINEAR:return"";case ge.STEPS:return h=ne([],n,o,.5),A(Qt,null,A("circle",{class:"step-point","data-colorstep-index":t,cx:h[0],cy:h[1],r:7}),A("text",{x:h[0],y:h[1],dy:4,"text-anchor":"middle"},l.count));default:return h=ne([],n,o,.5),A(Qt,null,A("circle",{class:"step-point","data-colorstep-index":t,cx:h[0],cy:h[1],r:7}),A("text",{x:h[0],y:h[1],dy:4,"text-anchor":"middle"},c))}}makeTimingArea(t,r,i,s){const n=i.stickScreenXYInEnd,o=r.stickScreenXYInStart;return A("g",{class:"timing-area"},r.timing.name===ge.LINEAR?"":A("path",{class:"timing-path",d:`
              M ${n[0]} ${n[1]}
              L ${o[0]} ${o[1]}
            `}),this.makeTimingCircle(t,r,i,s))}makeGradientPoint(t,r,i,s,n){const o=Ql,l=Te([],i,r),c=nt(l[0],l[1])-180;return A(Qt,null,t.map((h,d)=>d===0?"":this.makeTimingArea(d,h,t[d-1],Ql)),t.map((h,d)=>A("g",{transform:`rotate(${c} ${h.stickScreenXY[0]} ${h.stickScreenXY[1]})`},A("rect",{id:h.id,"data-index":d,class:"colorstep",x:h.stickScreenXY[0],y:h.stickScreenXY[1],width:o,height:o,fill:h.color,tabIndex:-1,"data-x":h.screenXY[0],"data-y":h.screenXY[1]}),this.makeTimingLine(h.timing,o,h.stickScreenXY[0],h.stickScreenXY[1]))),A("circle",{class:"point","data-type":"start",cx:r[0],cy:r[1]}),A("circle",{class:"point","data-type":"end",cx:i[0],cy:i[1]}),s&&A("circle",{class:"point","data-type":"shape",cx:s[0],cy:s[1]}),n&&A("circle",{class:"hover-colorstep",r:"5",cx:n[0],cy:n[1],fill:this.state.hoverColorStep.color}))}makeStickPoint(t,r,i){const s=Ql,n=Te([],i,r),o=nt(n[0],n[1])-180,l=Et(-o,r),c=It([],l);return t.map(h=>{h.screenXY=this.$viewport.applyVertex(h.pos);const[d]=ce([h.screenXY],l);return[h.stickScreenXY,h.stickScreenXYInStart,h.stickScreenXYInEnd]=ce([[d[0]-s/2,d[1]-s*1.5,0],[d[0]-s/2,d[1]-s*1.5+s/2,0],[d[0]+s/2,d[1]-s*1.5+s/2,0]],c),h})}makeRadialCenterPoint(t){let r,i,s,n;r=this.$viewport.applyVertex(t.startPoint),i=this.$viewport.applyVertex(t.endPoint),s=this.$viewport.applyVertex(t.shapePoint),n=this.makeStickPoint(t.colorsteps,r,i);let o=null;return this.state.hoverColorStep&&(o=ne([],r,i,this.state.hoverColorStep.percent/100)),A("svg",{class:"gradient-editor-area"},A("path",{d:`
              M ${r[0]} ${r[1]}
              L ${i[0]} ${i[1]}
          `,class:"area-line"}),A("path",{d:`
              M ${r[0]} ${r[1]}
              L ${i[0]} ${i[1]}
          `,class:"start-end-line"}),A("path",{d:`
              M ${r[0]} ${r[1]}
              L ${s[0]} ${s[1]}
          `,class:"normal-line"}),this.makeGradientPoint(n,r,i,s,o))}makeLinearCenterPoint(t){let r,i,s;r=this.$viewport.applyVertex(t.startPoint),i=this.$viewport.applyVertex(t.endPoint),s=this.makeStickPoint(t.colorsteps,r,i);let n=null;return this.state.hoverColorStep&&(n=ne([],r,i,this.state.hoverColorStep.percent/100)),A("svg",{class:"gradient-editor-area"},A("path",{d:`
            M ${r[0]} ${r[1]}
            L ${i[0]} ${i[1]}
          `,class:"area-line"}),A("path",{d:`
              M ${r[0]} ${r[1]}
              L ${i[0]} ${i[1]}
          `,class:"start-end-line"}),this.makeGradientPoint(s,r,i,null,n))}makeCenterPoint(t){const{image:r}=t;switch(r.type){case N.LINEAR:return this.makeLinearCenterPoint(t);case N.RADIAL:return this.makeRadialCenterPoint(t)}return""}[U("$el")+st](){if(!this.state.isShow)return"";const t=this.$selection.current;if(!t)return"";const r=t.createFragmentMatrix(this.state.key);this.state.result=r,this.state.originalResult=t.createFragmentMatrix(this.state.key);const i=r.image;let s,n;switch(i.type){case N.LINEAR:this.state.startPoint=this.$viewport.applyVertex(r.startPoint),this.state.endPoint=this.$viewport.applyVertex(r.endPoint),n=Te([],this.state.endPoint,this.state.startPoint),s=nt(n[0],n[1])-180,this.state.rotateInverse=Et(-s,this.state.startPoint);break;case N.RADIAL:this.state.startPoint=this.$viewport.applyVertex(r.startPoint),this.state.endPoint=this.$viewport.applyVertex(r.endPoint),this.state.shapePoint=this.$viewport.applyVertex(r.shapePoint),n=Te([],this.state.endPoint,this.state.startPoint),s=nt(n[0],n[1])-180,this.state.rotateInverse=Et(-s,this.state.startPoint);break}return A("div",null,this.makeCenterPoint(r))}}function qj(a){a.registerUI("canvas.view",{FillEditorView:Zj})}var Hu=[Ud,Gu,cu,JL,nV,eR,SR,BR,Dd,wu,Hd,pu,UM,w8,i8,LI,mI,JM,Az,uV,Oz,Fz,iE,qM,tE,cI,m8,wI,MI,Yz,DV,y8,_8,YR,zz,UV,sI,CI,dV,rI,RI,OI,LV,lV,Uz,GV,ZM,UR,FI,RV,C8,yj,Cj,mj,hj,uj,ej,lj,Vj,qj,Dj,Xj,Nj],rD="";class Qj extends K{template(){return`
        <div class="object-items">
          <div>
            ${E("ProjectProperty")}
          </div>
          <div>
            ${E("LayerTreeProperty")}
          </div>
        </div>
    `}}var iD="";class Uu extends K{template(){return`
      <div class='elf--custom-assets'>
        <div class='custom-assets-tools'>
          <div class='title'><label>Custom Assets</label></div>
          <div class='tools'>
            <button type="button" ref='$addCustomAsset'>${O("add")}</button>
          </div>
        </div>
        <div class='elf--asset-list' ref='$list'></div>
      </div>
    `}async[U("$list")](){return(await this.$storageManager.getCustomAssetList()).map(r=>`
        <div class='asset-preview' draggable="true" data-preview-id="${r.id}">
          <div class='thumbnail'><img src='${r.preview}' /></div>
          <div class='tools'>
            <div class='title'>${r.component.name}</div>
            <div class='buttons'>
              <button type="button" class='remove-asset-preview' title="remove asset" data-preview-id="${r.id}">${O("remove")}</button>
            </div>
          </div>
        </div>
      `)}async[F("$list .remove-asset-preview")](t){if(confirm(this.$i18n("app.confirm.message.artboard.items.removeCustomAsset"))){const r=t.$dt.data("preview-id");await this.$storageManager.removeCustomAsset(r),this.refresh()}}[yr("$list .asset-preview")](t){const r=t.$dt.data("preview-id");t.dataTransfer.effectAllowed="copy",t.dataTransfer.setData("text/asset",r)}[F("$addCustomAsset")](t){this.emit("savePNG",async r=>{await this.$storageManager.saveCustomAsset(r),this.refresh()})}}var sD="";class Xu extends K{template(){return`
      <div class='elf--library-items'>
        <div>
          ${E("TextEditor",{label:"Search",key:"search",onchange:this.subscribe((t,r)=>{this.broadcast("search",r)},300)})}
        </div>
        ${this.$injectManager.generate("library")}
      </div>
    `}}class Yu extends K{template(){return`
      <div class='asset-items'>
        ${this.$injectManager.generate("asset")}
      </div>
    `}}class Jj extends K{components(){return{AssetItems:Yu,LibraryItems:Xu,CustomAssets:Uu,ObjectItems:Qj}}initState(){return{selectedIndexValue:2}}afterRender(){this.$el.toggle(this.$config.get("editor.design.mode")==="design")}[se("$el")](){return{style:{display:this.$config.get("editor.design.mode")==="design"?"block":"none"}}}template(){return`
      <div class='layer-tab'>
        <div class="tab number-tab side-tab side-tab-left" data-selected-value="2" ref="$tab">
          <div class="tab-header" ref="$header">   
            <div class="tab-item selected" data-value="2" data-direction="right" data-tooltip="${this.$i18n("app.tab.title.layers")}">
              <label>${O("layers")}</label>
            </div>            
            <div class='tab-item' data-value='3' data-direction="right"  data-tooltip="${this.$i18n("app.tab.title.libraries")}">
              <label>${O("auto_awesome")}</label>
            </div>                     
            <div class='tab-item' data-value='5' data-direction="right"  data-tooltip="${this.$i18n("app.tab.title.assets")}">
              <label>${O("apps")}</label>
            </div>   
            <div class='tab-item' data-value='6' data-direction="right"  data-tooltip="${this.$i18n("app.tab.title.components")}">
              <label>${O("plugin")}</label>
            </div>            

            ${this.$injectManager.getTargetUI("leftbar.tab").map(t=>{const{value:r,title:i}=t.class;let s=t.class.icon;return ae[t.class.icon]&&(s=O(t.class.icon)),`
                <div class='tab-item' data-value='${r}' data-direction="right"  data-tooltip="${i}">
                  <label>${s||i}</label>
                </div>
              `})}

          </div>
          <div class="tab-body" ref="$body">
            <div class="tab-content selected" data-value="2">
              ${E("ObjectItems")}
            </div>
            <div class='tab-content' data-value='3'>
              ${E("LibraryItems")}
            </div>            
            <div class='tab-content' data-value='5'>
              ${E("AssetItems")}            
              <div class='assets'>
                ${E("GradientAssetsProperty")}
                ${E("PatternAssetsProperty")}
                ${E("ImageAssetsProperty")}
                ${E("VideoAssetsProperty")}
                
              </div>
            </div>
            <div class='tab-content' data-value='6'>
              ${E("CustomAssets")}
            </div>
            ${this.$injectManager.getTargetUI("leftbar.tab").map(t=>{const{value:r}=t.class;return`
                <div class='tab-content' data-value='${r}'>
                  ${this.$injectManager.generate(`leftbar.tab.${r}`)}
                </div>
              `})}
          </div>
        </div>
      </div>
    `}[F("$header .tab-item:not(.extra-item)")](t){var r=t.$dt.attr("data-value");this.state.selectedIndexValue!==r&&(this.$el.$$(`[data-value="${this.state.selectedIndexValue}"]`).forEach(i=>i.removeClass("selected")),this.$el.$$(`[data-value="${r}"]`).forEach(i=>i.addClass("selected")),this.setState({selectedIndexValue:r},!1))}}class Jl extends K{template(){return`
      <svg viewBox="0 0 30 10" xmlns="http://www.w3.org/2000/svg" ref="$list" style="display:none;">
      </svg>
    `}[U("$list")](){return Object.entries(ae).map(([t,r])=>ht(r)===!1?"":r.replace(/\<svg/g,`<svg id="icon-${t}"`))}}var Wu={exports:{}},eA={},tA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eA}),ec=mv(tA);(function(a,t){var r=function(){var i=typeof document!="undefined"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename!="undefined"&&(i=i||__filename),function(s){s=s||{};var n;n||(n=typeof s!="undefined"?s:{});var o;n.ready=new Promise(function(f){o=f}),function(f){var b={};f.loadCmdsTypedArray=function(G){for(var J=0,te=0;te<G.length;te++)J+=G[te].length;if(b[J])var ie=b[J];else ie=new Float32Array(J),b[J]=ie;var Ie=0;for(te=0;te<G.length;te++)for(var Je=0;Je<G[te].length;Je++){var Pt=G[te][Je];typeof Pt=="string"&&(Pt=f.SkBits2FloatUnsigned(parseInt(Pt))),ie[Ie]=Pt,Ie++}return G=f._malloc(ie.length*ie.BYTES_PER_ELEMENT),f.HEAPF32.set(ie,G/ie.BYTES_PER_ELEMENT),[G,J]},f.FromCmds=function(G){G=f.loadCmdsTypedArray(G);var J=f._FromCmds(G[0],G[1]);return f._free(G[0]),J};var w,M,D,B,re;f.cubicYFromX=function(G,J,te,ie,Ie){return w&&M===G&&D===J&&B===te&&re===ie||(w&&w.delete(),w=new f._SkCubicMap([G,J],[te,ie]),M=G,D=J,B=te,re=ie),w.computeYFromX(Ie)},f.cubicPtFromT=function(G,J,te,ie,Ie){return w&&M===G&&D===J&&B===te&&re===ie||(w&&w.delete(),w=new f._SkCubicMap([G,J],[te,ie]),M=G,D=J,B=te,re=ie),w.computePtFromT(Ie)}}(n),function(f){f.onRuntimeInitialized=function(){f.SkPath.prototype.addPath=function(){var b=arguments[0];if(arguments.length===1)this._addPath(b,1,0,0,0,1,0,0,0,1);else if(arguments.length===2){var w=arguments[1];this._addPath(b,w.a,w.c,w.e,w.b,w.d,w.f,0,0,1)}else if(arguments.length===7)w=arguments,this._addPath(b,w[1],w[3],w[5],w[2],w[4],w[6],0,0,1);else if(arguments.length===10)w=arguments,this._addPath(b,w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8],w[9]);else return console.Fb("addPath expected to take 1, 2, 7, or 10 args. Got "+arguments.length),null;return this},f.SkPath.prototype.arc=function(b,w,M,D,B,re){return this._arc(b,w,M,D,B,!!re),this},f.SkPath.prototype.arcTo=function(b,w,M,D,B){return this._arcTo(b,w,M,D,B),this},f.SkPath.prototype.bezierCurveTo=function(b,w,M,D,B,re){return this._cubicTo(b,w,M,D,B,re),this},f.SkPath.prototype.close=function(){return this._close(),this},f.SkPath.prototype.closePath=function(){return this._close(),this},f.SkPath.prototype.conicTo=function(b,w,M,D,B){return this._conicTo(b,w,M,D,B),this},f.SkPath.prototype.cubicTo=function(b,w,M,D,B,re){return this._cubicTo(b,w,M,D,B,re),this},f.SkPath.prototype.dash=function(b,w,M){return this._dash(b,w,M)?this:null},f.SkPath.prototype.ellipse=function(b,w,M,D,B,re,G,J){return this._ellipse(b,w,M,D,B,re,G,!!J),this},f.SkPath.prototype.lineTo=function(b,w){return this._lineTo(b,w),this},f.SkPath.prototype.moveTo=function(b,w){return this._moveTo(b,w),this},f.SkPath.prototype.op=function(b,w){return this._op(b,w)?this:null},f.SkPath.prototype.quadraticCurveTo=function(b,w,M,D){return this._quadTo(b,w,M,D),this},f.SkPath.prototype.quadTo=function(b,w,M,D){return this._quadTo(b,w,M,D),this},f.SkPath.prototype.rect=function(b,w,M,D){return this._rect(b,w,M,D),this},f.SkPath.prototype.simplify=function(){return this._simplify()?this:null},f.SkPath.prototype.stroke=function(b){return b=b||{},b.width=b.width||1,b.miter_limit=b.miter_limit||4,b.cap=b.cap||f.StrokeCap.BUTT,b.join=b.join||f.StrokeJoin.MITER,this._stroke(b)?this:null},f.SkPath.prototype.transform=function(){if(arguments.length===1)this._transform(arguments[0]);else if(arguments.length===9){var b=arguments;this._transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8])}else return console.Fb("transform expected to take 1 or 9 arguments. Got "+arguments.length),null;return this},f.SkPath.prototype.trim=function(b,w,M){return this._trim(b,w,!!M)?this:null}}}(n);var l={},c;for(c in n)n.hasOwnProperty(c)&&(l[c]=n[c]);var h=!1,d=!1,p=!1,u=!1;h=typeof window=="object",d=typeof importScripts=="function",p=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u=!h&&!p&&!d;var m="",$,S,k,C;p?(m=d?ec.dirname(m)+"/":__dirname+"/",$=function(f,b){return k||(k=ec),C||(C=ec),f=C.normalize(f),k.readFileSync(f,b?null:"utf8")},S=function(f){return f=$(f,!0),f.buffer||(f=new Uint8Array(f)),q(f.buffer),f},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(f){throw f}),process.on("unhandledRejection",ii),n.inspect=function(){return"[Emscripten Module object]"}):u?(typeof read!="undefined"&&($=function(f){return read(f)}),S=function(f){return typeof readbuffer=="function"?new Uint8Array(readbuffer(f)):(f=read(f,"binary"),q(typeof f=="object"),f)},typeof print!="undefined"&&(typeof console=="undefined"&&(console={}),console.log=print,console.warn=console.error=typeof printErr!="undefined"?printErr:print)):(h||d)&&(d?m=self.location.href:document.currentScript&&(m=document.currentScript.src),i&&(m=i),m.indexOf("blob:")!==0?m=m.substr(0,m.lastIndexOf("/")+1):m="",$=function(f){var b=new XMLHttpRequest;return b.open("GET",f,!1),b.send(null),b.responseText},d&&(S=function(f){var b=new XMLHttpRequest;return b.open("GET",f,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}));var z=n.print||console.log.bind(console),L=n.printErr||console.warn.bind(console);for(c in l)l.hasOwnProperty(c)&&(n[c]=l[c]);l=null;var R;n.wasmBinary&&(R=n.wasmBinary),n.noExitRuntime&&n.noExitRuntime,typeof WebAssembly!="object"&&L("no native wasm support detected");var j,X=new WebAssembly.Table({initial:309,maximum:309,element:"anyfunc"}),Z=!1;function q(f,b){f||ii("Assertion failed: "+b)}var ue=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function de(f,b,w){var M=b+w;for(w=b;f[w]&&!(w>=M);)++w;if(16<w-b&&f.subarray&&ue)return ue.decode(f.subarray(b,w));for(M="";b<w;){var D=f[b++];if(D&128){var B=f[b++]&63;if((D&224)==192)M+=String.fromCharCode((D&31)<<6|B);else{var re=f[b++]&63;D=(D&240)==224?(D&15)<<12|B<<6|re:(D&7)<<18|B<<12|re<<6|f[b++]&63,65536>D?M+=String.fromCharCode(D):(D-=65536,M+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else M+=String.fromCharCode(D)}return M}function me(f,b,w){var M=at;if(0<w){w=b+w-1;for(var D=0;D<f.length;++D){var B=f.charCodeAt(D);if(55296<=B&&57343>=B){var re=f.charCodeAt(++D);B=65536+((B&1023)<<10)|re&1023}if(127>=B){if(b>=w)break;M[b++]=B}else{if(2047>=B){if(b+1>=w)break;M[b++]=192|B>>6}else{if(65535>=B){if(b+2>=w)break;M[b++]=224|B>>12}else{if(b+3>=w)break;M[b++]=240|B>>18,M[b++]=128|B>>12&63}M[b++]=128|B>>6&63}M[b++]=128|B&63}}M[b]=0}}var fe=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):void 0;function je(f,b){for(var w=f>>1,M=w+b/2;!(w>=M)&&rt[w];)++w;if(w<<=1,32<w-f&&fe)return fe.decode(at.subarray(f,w));for(w=0,M="";;){var D=oe[f+2*w>>1];if(D==0||w==b/2)return M;++w,M+=String.fromCharCode(D)}}function ee(f,b,w){if(w===void 0&&(w=2147483647),2>w)return 0;w-=2;var M=b;w=w<2*f.length?w/2:f.length;for(var D=0;D<w;++D)oe[b>>1]=f.charCodeAt(D),b+=2;return oe[b>>1]=0,b-M}function Be(f){return 2*f.length}function dt(f,b){for(var w=0,M="";!(w>=b/4);){var D=ct[f+4*w>>2];if(D==0)break;++w,65536<=D?(D-=65536,M+=String.fromCharCode(55296|D>>10,56320|D&1023)):M+=String.fromCharCode(D)}return M}function He(f,b,w){if(w===void 0&&(w=2147483647),4>w)return 0;var M=b;w=M+w-4;for(var D=0;D<f.length;++D){var B=f.charCodeAt(D);if(55296<=B&&57343>=B){var re=f.charCodeAt(++D);B=65536+((B&1023)<<10)|re&1023}if(ct[b>>2]=B,b+=4,b+4>w)break}return ct[b>>2]=0,b-M}function Ze(f){for(var b=0,w=0;w<f.length;++w){var M=f.charCodeAt(w);55296<=M&&57343>=M&&++w,b+=4}return b}var Ce,Me,at,oe,rt,ct,nr,yi,bi,mr=n.INITIAL_MEMORY||16777216;n.wasmMemory?j=n.wasmMemory:j=new WebAssembly.Memory({initial:mr/65536,maximum:mr/65536}),j&&(Ce=j.buffer),mr=Ce.byteLength;var vr=Ce;Ce=vr,n.HEAP8=Me=new Int8Array(vr),n.HEAP16=oe=new Int16Array(vr),n.HEAP32=ct=new Int32Array(vr),n.HEAPU8=at=new Uint8Array(vr),n.HEAPU16=rt=new Uint16Array(vr),n.HEAPU32=nr=new Uint32Array(vr),n.HEAPF32=yi=new Float32Array(vr),n.HEAPF64=bi=new Float64Array(vr),ct[3e3]=5255040;function _(f){for(;0<f.length;){var b=f.shift();if(typeof b=="function")b(n);else{var w=b.Jb;typeof w=="number"?b.tb===void 0?n.dynCall_v(w):n.dynCall_vi(w,b.tb):w(b.tb===void 0?null:b.tb)}}}var P=[],V=[],H=[],pe=[];function Ue(){var f=n.preRun.shift();P.unshift(f)}var Mt=0,_r=null;n.preloadedImages={},n.preloadedAudios={};function ii(f){throw n.onAbort&&n.onAbort(f),z(f),L(f),Z=!0,new WebAssembly.RuntimeError("abort("+f+"). Build with -s ASSERTIONS=1 for more info.")}function qs(f){var b=ws;return String.prototype.startsWith?b.startsWith(f):b.indexOf(f)===0}function Zu(){return qs("data:application/octet-stream;base64,")}var ws="pathkit.wasm";if(!Zu()){var qu=ws;ws=n.locateFile?n.locateFile(qu,m):m+qu}function Qu(){try{if(R)return new Uint8Array(R);if(S)return S(ws);throw"both async and sync fetching of the wasm failed"}catch(f){ii(f)}}function uA(){return R||!h&&!d||typeof fetch!="function"||qs("file://")?new Promise(function(f){f(Qu())}):fetch(ws,{credentials:"same-origin"}).then(function(f){if(!f.ok)throw"failed to load wasm binary file at '"+ws+"'";return f.arrayBuffer()}).catch(function(){return Qu()})}V.push({Jb:function(){vp()}});var io={};function so(f){for(;f.length;){var b=f.pop();f.pop()(b)}}function Qs(f){return this.fromWireType(nr[f>>2])}var Js={},Ps={},ao={};function no(f){if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var b=f.charCodeAt(0);return 48<=b&&57>=b?"_"+f:f}function oo(f,b){return f=no(f),new Function("body","return function "+f+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(b)}function rc(f){var b=Error,w=oo(f,function(M){this.name=f,this.message=M,M=Error(M).stack,M!==void 0&&(this.stack=this.toString()+`
`+M.replace(/^Error(:[^\n]*)?\n/,""))});return w.prototype=Object.create(b.prototype),w.prototype.constructor=w,w.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},w}var Ju=void 0;function lo(f){throw new Ju(f)}function $i(f,b,w){function M(G){G=w(G),G.length!==f.length&&lo("Mismatched type converter count");for(var J=0;J<f.length;++J)si(f[J],G[J])}f.forEach(function(G){ao[G]=b});var D=Array(b.length),B=[],re=0;b.forEach(function(G,J){Ps.hasOwnProperty(G)?D[J]=Ps[G]:(B.push(G),Js.hasOwnProperty(G)||(Js[G]=[]),Js[G].push(function(){D[J]=Ps[G],++re,re===B.length&&M(D)}))}),B.length===0&&M(D)}var co={};function ho(f){switch(f){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+f)}}var ep=void 0;function jt(f){for(var b="";at[f];)b+=ep[at[f++]];return b}var ea=void 0;function it(f){throw new ea(f)}function si(f,b,w){if(w=w||{},!("argPackAdvance"in b))throw new TypeError("registerType registeredInstance requires argPackAdvance");var M=b.name;if(f||it('type "'+M+'" must have a positive integer typeid pointer'),Ps.hasOwnProperty(f)){if(w.Mb)return;it("Cannot register type '"+M+"' twice")}Ps[f]=b,delete ao[f],Js.hasOwnProperty(f)&&(b=Js[f],delete Js[f],b.forEach(function(D){D()}))}function pA(f){return{count:f.count,lb:f.lb,nb:f.nb,bb:f.bb,cb:f.cb,gb:f.gb,ib:f.ib}}function ic(f){it(f.$a.cb.ab.name+" instance already deleted")}var sc=!1;function tp(){}function rp(f){--f.count.value,f.count.value===0&&(f.gb?f.ib.hb(f.gb):f.cb.ab.hb(f.bb))}function on(f){return typeof FinalizationGroup=="undefined"?(on=function(b){return b},f):(sc=new FinalizationGroup(function(b){for(var w=b.next();!w.done;w=b.next())w=w.value,w.bb?rp(w):console.warn("object already deleted: "+w.bb)}),on=function(b){return sc.register(b,b.$a,b.$a),b},tp=function(b){sc.unregister(b.$a)},on(f))}var ln=void 0,cn=[];function ac(){for(;cn.length;){var f=cn.pop();f.$a.lb=!1,f.delete()}}function Ki(){}var ip={};function sp(f,b,w){if(f[b].eb===void 0){var M=f[b];f[b]=function(){return f[b].eb.hasOwnProperty(arguments.length)||it("Function '"+w+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+f[b].eb+")!"),f[b].eb[arguments.length].apply(this,arguments)},f[b].eb=[],f[b].eb[M.qb]=M}}function nc(f,b,w){n.hasOwnProperty(f)?((w===void 0||n[f].eb!==void 0&&n[f].eb[w]!==void 0)&&it("Cannot register public name '"+f+"' twice"),sp(n,f,f),n.hasOwnProperty(w)&&it("Cannot register multiple overloads of a function with the same number of arguments ("+w+")!"),n[f].eb[w]=b):(n[f]=b,w!==void 0&&(n[f].Sb=w))}function gA(f,b,w,M,D,B,re,G){this.name=f,this.constructor=b,this.mb=w,this.hb=M,this.jb=D,this.Kb=B,this.pb=re,this.Hb=G,this.Pb=[]}function oc(f,b,w){for(;b!==w;)b.pb||it("Expected null or instance of "+w.name+", got an instance of "+b.name),f=b.pb(f),b=b.jb;return f}function fA(f,b){return b===null?(this.xb&&it("null is not a valid "+this.name),0):(b.$a||it('Cannot pass "'+ta(b)+'" as a '+this.name),b.$a.bb||it("Cannot pass deleted object as a pointer of type "+this.name),oc(b.$a.bb,b.$a.cb.ab,this.ab))}function mA(f,b){if(b===null){if(this.xb&&it("null is not a valid "+this.name),this.sb){var w=this.ob();return f!==null&&f.push(this.hb,w),w}return 0}if(b.$a||it('Cannot pass "'+ta(b)+'" as a '+this.name),b.$a.bb||it("Cannot pass deleted object as a pointer of type "+this.name),!this.rb&&b.$a.cb.rb&&it("Cannot convert argument of type "+(b.$a.ib?b.$a.ib.name:b.$a.cb.name)+" to parameter type "+this.name),w=oc(b.$a.bb,b.$a.cb.ab,this.ab),this.sb)switch(b.$a.gb===void 0&&it("Passing raw pointer to smart pointer is illegal"),this.Rb){case 0:b.$a.ib===this?w=b.$a.gb:it("Cannot convert argument of type "+(b.$a.ib?b.$a.ib.name:b.$a.cb.name)+" to parameter type "+this.name);break;case 1:w=b.$a.gb;break;case 2:if(b.$a.ib===this)w=b.$a.gb;else{var M=b.clone();w=this.Qb(w,Zi(function(){M.delete()})),f!==null&&f.push(this.hb,w)}break;default:it("Unsupporting sharing policy")}return w}function vA(f,b){return b===null?(this.xb&&it("null is not a valid "+this.name),0):(b.$a||it('Cannot pass "'+ta(b)+'" as a '+this.name),b.$a.bb||it("Cannot pass deleted object as a pointer of type "+this.name),b.$a.cb.rb&&it("Cannot convert argument of type "+b.$a.cb.name+" to parameter type "+this.name),oc(b.$a.bb,b.$a.cb.ab,this.ab))}function ap(f,b,w){return b===w?f:w.jb===void 0?null:(f=ap(f,b,w.jb),f===null?null:w.Hb(f))}var hn={};function yA(f,b){for(b===void 0&&it("ptr should not be undefined");f.jb;)b=f.pb(b),f=f.jb;return hn[b]}function uo(f,b){return b.cb&&b.bb||lo("makeClassHandle requires ptr and ptrType"),!!b.ib!=!!b.gb&&lo("Both smartPtrType and smartPtr must be specified"),b.count={value:1},on(Object.create(f,{$a:{value:b}}))}function xi(f,b,w,M){this.name=f,this.ab=b,this.xb=w,this.rb=M,this.sb=!1,this.hb=this.Qb=this.ob=this.Eb=this.Rb=this.Ob=void 0,b.jb!==void 0?this.toWireType=mA:(this.toWireType=M?fA:vA,this.fb=null)}function np(f,b,w){n.hasOwnProperty(f)||lo("Replacing nonexistant public symbol"),n[f].eb!==void 0&&w!==void 0?n[f].eb[w]=b:(n[f]=b,n[f].qb=w)}function dr(f,b){f=jt(f);for(var w=n["dynCall_"+f],M=[],D=1;D<f.length;++D)M.push("a"+D);return D="return function dynCall_"+(f+"_"+b)+"("+M.join(", ")+`) {
`,D+="    return dynCall(rawFunction"+(M.length?", ":"")+M.join(", ")+`);
`,w=new Function("dynCall","rawFunction",D+`};
`)(w,b),typeof w!="function"&&it("unknown function pointer with signature "+f+": "+b),w}var op=void 0;function lp(f){f=yp(f);var b=jt(f);return _i(f),b}function po(f,b){function w(B){D[B]||Ps[B]||(ao[B]?ao[B].forEach(w):(M.push(B),D[B]=!0))}var M=[],D={};throw b.forEach(w),new op(f+": "+M.map(lp).join([", "]))}function lc(f,b){for(var w=[],M=0;M<f;M++)w.push(ct[(b>>2)+M]);return w}function cp(f){var b=Function;if(!(b instanceof Function))throw new TypeError("new_ called with constructor type "+typeof b+" which is not a function");var w=oo(b.name||"unknownFunctionName",function(){});return w.prototype=b.prototype,w=new w,f=b.apply(w,f),f instanceof Object?f:w}function hp(f,b,w,M,D){var B=b.length;2>B&&it("argTypes array size mismatch! Must at least get return value and 'this' types!");var re=b[1]!==null&&w!==null,G=!1;for(w=1;w<b.length;++w)if(b[w]!==null&&b[w].fb===void 0){G=!0;break}var J=b[0].name!=="void",te="",ie="";for(w=0;w<B-2;++w)te+=(w!==0?", ":"")+"arg"+w,ie+=(w!==0?", ":"")+"arg"+w+"Wired";f="return function "+no(f)+"("+te+`) {
if (arguments.length !== `+(B-2)+`) {
throwBindingError('function `+f+" called with ' + arguments.length + ' arguments, expected "+(B-2)+` args!');
}
`,G&&(f+=`var destructors = [];
`);var Ie=G?"destructors":"null";for(te="throwBindingError invoker fn runDestructors retType classParam".split(" "),M=[it,M,D,so,b[0],b[1]],re&&(f+="var thisWired = classParam.toWireType("+Ie+`, this);
`),w=0;w<B-2;++w)f+="var arg"+w+"Wired = argType"+w+".toWireType("+Ie+", arg"+w+"); // "+b[w+2].name+`
`,te.push("argType"+w),M.push(b[w+2]);if(re&&(ie="thisWired"+(0<ie.length?", ":"")+ie),f+=(J?"var rv = ":"")+"invoker(fn"+(0<ie.length?", ":"")+ie+`);
`,G)f+=`runDestructors(destructors);
`;else for(w=re?1:2;w<b.length;++w)B=w===1?"thisWired":"arg"+(w-2)+"Wired",b[w].fb!==null&&(f+=B+"_dtor("+B+"); // "+b[w].name+`
`,te.push(B+"_dtor"),M.push(b[w].fb));return J&&(f+=`var ret = retType.fromWireType(rv);
return ret;
`),te.push(f+`}
`),cp(te).apply(null,M)}var cc=[],Or=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function dp(f){4<f&&--Or[f].yb==0&&(Or[f]=void 0,cc.push(f))}function Zi(f){switch(f){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var b=cc.length?cc.pop():Or.length;return Or[b]={yb:1,value:f},b}}function bA(f,b,w){switch(b){case 0:return function(M){return this.fromWireType((w?Me:at)[M])};case 1:return function(M){return this.fromWireType((w?oe:rt)[M>>1])};case 2:return function(M){return this.fromWireType((w?ct:nr)[M>>2])};default:throw new TypeError("Unknown integer type: "+f)}}function go(f,b){var w=Ps[f];return w===void 0&&it(b+" has unknown type "+lp(f)),w}function ta(f){if(f===null)return"null";var b=typeof f;return b==="object"||b==="array"||b==="function"?f.toString():""+f}function $A(f,b){switch(b){case 2:return function(w){return this.fromWireType(yi[w>>2])};case 3:return function(w){return this.fromWireType(bi[w>>3])};default:throw new TypeError("Unknown float type: "+f)}}function xA(f,b,w){switch(b){case 0:return w?function(M){return Me[M]}:function(M){return at[M]};case 1:return w?function(M){return oe[M>>1]}:function(M){return rt[M>>1]};case 2:return w?function(M){return ct[M>>2]}:function(M){return nr[M>>2]};default:throw new TypeError("Unknown integer type: "+f)}}var _A={};function hc(f){var b=_A[f];return b===void 0?jt(f):b}var dc=[];function up(f){return f||it("Cannot use deleted val. handle = "+f),Or[f].value}function pp(){return typeof globalThis=="object"?globalThis:Function("return this")()}function SA(f){var b=dc.length;return dc.push(f),b}function wA(f,b){for(var w=Array(f),M=0;M<f;++M)w[M]=go(ct[(b>>2)+M],"parameter "+M);return w}var gp={},PA=[null,[],[]];Ju=n.InternalError=rc("InternalError");for(var fp=Array(256),fo=0;256>fo;++fo)fp[fo]=String.fromCharCode(fo);ep=fp,ea=n.BindingError=rc("BindingError"),Ki.prototype.isAliasOf=function(f){if(!(this instanceof Ki&&f instanceof Ki))return!1;var b=this.$a.cb.ab,w=this.$a.bb,M=f.$a.cb.ab;for(f=f.$a.bb;b.jb;)w=b.pb(w),b=b.jb;for(;M.jb;)f=M.pb(f),M=M.jb;return b===M&&w===f},Ki.prototype.clone=function(){if(this.$a.bb||ic(this),this.$a.nb)return this.$a.count.value+=1,this;var f=on(Object.create(Object.getPrototypeOf(this),{$a:{value:pA(this.$a)}}));return f.$a.count.value+=1,f.$a.lb=!1,f},Ki.prototype.delete=function(){this.$a.bb||ic(this),this.$a.lb&&!this.$a.nb&&it("Object already scheduled for deletion"),tp(this),rp(this.$a),this.$a.nb||(this.$a.gb=void 0,this.$a.bb=void 0)},Ki.prototype.isDeleted=function(){return!this.$a.bb},Ki.prototype.deleteLater=function(){return this.$a.bb||ic(this),this.$a.lb&&!this.$a.nb&&it("Object already scheduled for deletion"),cn.push(this),cn.length===1&&ln&&ln(ac),this.$a.lb=!0,this},xi.prototype.Lb=function(f){return this.Eb&&(f=this.Eb(f)),f},xi.prototype.Cb=function(f){this.hb&&this.hb(f)},xi.prototype.argPackAdvance=8,xi.prototype.readValueFromPointer=Qs,xi.prototype.deleteObject=function(f){f!==null&&f.delete()},xi.prototype.fromWireType=function(f){function b(){return this.sb?uo(this.ab.mb,{cb:this.Ob,bb:w,ib:this,gb:f}):uo(this.ab.mb,{cb:this,bb:f})}var w=this.Lb(f);if(!w)return this.Cb(f),null;var M=yA(this.ab,w);if(M!==void 0)return M.$a.count.value===0?(M.$a.bb=w,M.$a.gb=f,M.clone()):(M=M.clone(),this.Cb(f),M);if(M=this.ab.Kb(w),M=ip[M],!M)return b.call(this);M=this.rb?M.Gb:M.pointerType;var D=ap(w,this.ab,M.ab);return D===null?b.call(this):this.sb?uo(M.ab.mb,{cb:M,bb:D,ib:this,gb:f}):uo(M.ab.mb,{cb:M,bb:D})},n.getInheritedInstanceCount=function(){return Object.keys(hn).length},n.getLiveInheritedInstances=function(){var f=[],b;for(b in hn)hn.hasOwnProperty(b)&&f.push(hn[b]);return f},n.flushPendingDeletes=ac,n.setDelayFunction=function(f){ln=f,cn.length&&ln&&ln(ac)},op=n.UnboundTypeError=rc("UnboundTypeError"),n.count_emval_handles=function(){for(var f=0,b=5;b<Or.length;++b)Or[b]!==void 0&&++f;return f},n.get_first_emval=function(){for(var f=5;f<Or.length;++f)if(Or[f]!==void 0)return Or[f];return null};var CA={s:function(f){var b=io[f];delete io[f];var w=b.elements,M=w.length,D=w.map(function(G){return G.wb}).concat(w.map(function(G){return G.Ab})),B=b.ob,re=b.hb;$i([f],D,function(G){return w.forEach(function(J,te){var ie=G[te],Ie=J.ub,Je=J.vb,Pt=G[te+M],Ct=J.zb,qi=J.Bb;J.read=function(Sr){return ie.fromWireType(Ie(Je,Sr))},J.write=function(Sr,Cs){var Dr=[];Ct(qi,Sr,Pt.toWireType(Dr,Cs)),so(Dr)}}),[{name:b.name,fromWireType:function(J){for(var te=Array(M),ie=0;ie<M;++ie)te[ie]=w[ie].read(J);return re(J),te},toWireType:function(J,te){if(M!==te.length)throw new TypeError("Incorrect number of tuple elements for "+b.name+": expected="+M+", actual="+te.length);for(var ie=B(),Ie=0;Ie<M;++Ie)w[Ie].write(ie,te[Ie]);return J!==null&&J.push(re,ie),ie},argPackAdvance:8,readValueFromPointer:Qs,fb:re}]})},v:function(f){var b=co[f];delete co[f];var w=b.ob,M=b.hb,D=b.Db,B=D.map(function(re){return re.wb}).concat(D.map(function(re){return re.Ab}));$i([f],B,function(re){var G={};return D.forEach(function(J,te){var ie=re[te],Ie=J.ub,Je=J.vb,Pt=re[te+D.length],Ct=J.zb,qi=J.Bb;G[J.Ib]={read:function(Sr){return ie.fromWireType(Ie(Je,Sr))},write:function(Sr,Cs){var Dr=[];Ct(qi,Sr,Pt.toWireType(Dr,Cs)),so(Dr)}}}),[{name:b.name,fromWireType:function(J){var te={},ie;for(ie in G)te[ie]=G[ie].read(J);return M(J),te},toWireType:function(J,te){for(var ie in G)if(!(ie in te))throw new TypeError("Missing field");var Ie=w();for(ie in G)G[ie].write(Ie,te[ie]);return J!==null&&J.push(M,Ie),Ie},argPackAdvance:8,readValueFromPointer:Qs,fb:M}]})},G:function(f,b,w,M,D){var B=ho(w);b=jt(b),si(f,{name:b,fromWireType:function(re){return!!re},toWireType:function(re,G){return G?M:D},argPackAdvance:8,readValueFromPointer:function(re){if(w===1)var G=Me;else if(w===2)G=oe;else if(w===4)G=ct;else throw new TypeError("Unknown boolean type size: "+b);return this.fromWireType(G[re>>B])},fb:null})},k:function(f,b,w,M,D,B,re,G,J,te,ie,Ie,Je){ie=jt(ie),B=dr(D,B),G&&(G=dr(re,G)),te&&(te=dr(J,te)),Je=dr(Ie,Je);var Pt=no(ie);nc(Pt,function(){po("Cannot construct "+ie+" due to unbound types",[M])}),$i([f,b,w],M?[M]:[],function(Ct){if(Ct=Ct[0],M)var qi=Ct.ab,Sr=qi.mb;else Sr=Ki.prototype;Ct=oo(Pt,function(){if(Object.getPrototypeOf(this)!==Cs)throw new ea("Use 'new' to construct "+ie);if(Dr.kb===void 0)throw new ea(ie+" has no accessible constructor");var $p=Dr.kb[arguments.length];if($p===void 0)throw new ea("Tried to invoke ctor of "+ie+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Dr.kb).toString()+") parameters instead!");return $p.apply(this,arguments)});var Cs=Object.create(Sr,{constructor:{value:Ct}});Ct.prototype=Cs;var Dr=new gA(ie,Ct,Cs,Je,qi,B,G,te);qi=new xi(ie,Dr,!0,!1),Sr=new xi(ie+"*",Dr,!1,!1);var bp=new xi(ie+" const*",Dr,!1,!0);return ip[f]={pointerType:Sr,Gb:bp},np(Pt,Ct),[qi,Sr,bp]})},h:function(f,b,w,M,D,B){q(0<b);var re=lc(b,w);D=dr(M,D);var G=[B],J=[];$i([],[f],function(te){te=te[0];var ie="constructor "+te.name;if(te.ab.kb===void 0&&(te.ab.kb=[]),te.ab.kb[b-1]!==void 0)throw new ea("Cannot register multiple constructors with identical number of parameters ("+(b-1)+") for class '"+te.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return te.ab.kb[b-1]=function(){po("Cannot construct "+te.name+" due to unbound types",re)},$i([],re,function(Ie){return te.ab.kb[b-1]=function(){arguments.length!==b-1&&it(ie+" called with "+arguments.length+" arguments, expected "+(b-1)),J.length=0,G.length=b;for(var Je=1;Je<b;++Je)G[Je]=Ie[Je].toWireType(J,arguments[Je-1]);return Je=D.apply(null,G),so(J),Ie[0].fromWireType(Je)},[]}),[]})},a:function(f,b,w,M,D,B,re,G){var J=lc(w,M);b=jt(b),B=dr(D,B),$i([],[f],function(te){function ie(){po("Cannot call "+Ie+" due to unbound types",J)}te=te[0];var Ie=te.name+"."+b;G&&te.ab.Pb.push(b);var Je=te.ab.mb,Pt=Je[b];return Pt===void 0||Pt.eb===void 0&&Pt.className!==te.name&&Pt.qb===w-2?(ie.qb=w-2,ie.className=te.name,Je[b]=ie):(sp(Je,b,Ie),Je[b].eb[w-2]=ie),$i([],J,function(Ct){return Ct=hp(Ie,Ct,te,B,re),Je[b].eb===void 0?(Ct.qb=w-2,Je[b]=Ct):Je[b].eb[w-2]=Ct,[]}),[]})},M:function(f,b,w){f=jt(f),$i([],[b],function(M){return M=M[0],n[f]=M.fromWireType(w),[]})},E:function(f,b){b=jt(b),si(f,{name:b,fromWireType:function(w){var M=Or[w].value;return dp(w),M},toWireType:function(w,M){return Zi(M)},argPackAdvance:8,readValueFromPointer:Qs,fb:null})},g:function(f,b,w,M){function D(){}w=ho(w),b=jt(b),D.values={},si(f,{name:b,constructor:D,fromWireType:function(B){return this.constructor.values[B]},toWireType:function(B,re){return re.value},argPackAdvance:8,readValueFromPointer:bA(b,w,M),fb:null}),nc(b,D)},j:function(f,b,w){var M=go(f,"enum");b=jt(b),f=M.constructor,M=Object.create(M.constructor.prototype,{value:{value:w},constructor:{value:oo(M.name+"_"+b,function(){})}}),f.values[w]=M,f[b]=M},p:function(f,b,w){w=ho(w),b=jt(b),si(f,{name:b,fromWireType:function(M){return M},toWireType:function(M,D){if(typeof D!="number"&&typeof D!="boolean")throw new TypeError('Cannot convert "'+ta(D)+'" to '+this.name);return D},argPackAdvance:8,readValueFromPointer:$A(b,w),fb:null})},f:function(f,b,w,M,D,B){var re=lc(b,w);f=jt(f),D=dr(M,D),nc(f,function(){po("Cannot call "+f+" due to unbound types",re)},b-1),$i([],re,function(G){return G=[G[0],null].concat(G.slice(1)),np(f,hp(f,G,null,D,B),b-1),[]})},e:function(f,b,w,M,D){function B(te){return te}b=jt(b),D===-1&&(D=4294967295);var re=ho(w);if(M===0){var G=32-8*w;B=function(te){return te<<G>>>G}}var J=b.indexOf("unsigned")!=-1;si(f,{name:b,fromWireType:B,toWireType:function(te,ie){if(typeof ie!="number"&&typeof ie!="boolean")throw new TypeError('Cannot convert "'+ta(ie)+'" to '+this.name);if(ie<M||ie>D)throw new TypeError('Passing a number "'+ta(ie)+'" from JS side to C/C++ side to an argument of type "'+b+'", which is outside the valid range ['+M+", "+D+"]!");return J?ie>>>0:ie|0},argPackAdvance:8,readValueFromPointer:xA(b,re,M!==0),fb:null})},b:function(f,b,w){function M(B){return B>>=2,new D(Ce,nr[B+1],nr[B])}var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][b];w=jt(w),si(f,{name:w,fromWireType:M,argPackAdvance:8,readValueFromPointer:M},{Mb:!0})},q:function(f,b){b=jt(b);var w=b==="std::string";si(f,{name:b,fromWireType:function(M){var D=nr[M>>2];if(w)for(var B=M+4,re=0;re<=D;++re){var G=M+4+re;if(at[G]==0||re==D){if(B=B?de(at,B,G-B):"",J===void 0)var J=B;else J+=String.fromCharCode(0),J+=B;B=G+1}}else{for(J=Array(D),re=0;re<D;++re)J[re]=String.fromCharCode(at[M+4+re]);J=J.join("")}return _i(M),J},toWireType:function(M,D){D instanceof ArrayBuffer&&(D=new Uint8Array(D));var B=typeof D=="string";B||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int8Array||it("Cannot pass non-string to std::string");var re=(w&&B?function(){for(var te=0,ie=0;ie<D.length;++ie){var Ie=D.charCodeAt(ie);55296<=Ie&&57343>=Ie&&(Ie=65536+((Ie&1023)<<10)|D.charCodeAt(++ie)&1023),127>=Ie?++te:te=2047>=Ie?te+2:65535>=Ie?te+3:te+4}return te}:function(){return D.length})(),G=uc(4+re+1);if(nr[G>>2]=re,w&&B)me(D,G+4,re+1);else if(B)for(B=0;B<re;++B){var J=D.charCodeAt(B);255<J&&(_i(G),it("String has UTF-16 code units that do not fit in 8 bits")),at[G+4+B]=J}else for(B=0;B<re;++B)at[G+4+B]=D[B];return M!==null&&M.push(_i,G),G},argPackAdvance:8,readValueFromPointer:Qs,fb:function(M){_i(M)}})},l:function(f,b,w){if(w=jt(w),b===2)var M=je,D=ee,B=Be,re=function(){return rt},G=1;else b===4&&(M=dt,D=He,B=Ze,re=function(){return nr},G=2);si(f,{name:w,fromWireType:function(J){for(var te=nr[J>>2],ie=re(),Ie,Je=J+4,Pt=0;Pt<=te;++Pt){var Ct=J+4+Pt*b;(ie[Ct>>G]==0||Pt==te)&&(Je=M(Je,Ct-Je),Ie===void 0?Ie=Je:(Ie+=String.fromCharCode(0),Ie+=Je),Je=Ct+b)}return _i(J),Ie},toWireType:function(J,te){typeof te!="string"&&it("Cannot pass non-string to C++ string type "+w);var ie=B(te),Ie=uc(4+ie+b);return nr[Ie>>2]=ie>>G,D(te,Ie+4,ie+b),J!==null&&J.push(_i,Ie),Ie},argPackAdvance:8,readValueFromPointer:Qs,fb:function(J){_i(J)}})},u:function(f,b,w,M,D,B){io[f]={name:jt(b),ob:dr(w,M),hb:dr(D,B),elements:[]}},t:function(f,b,w,M,D,B,re,G,J){io[f].elements.push({wb:b,ub:dr(w,M),vb:D,Ab:B,zb:dr(re,G),Bb:J})},w:function(f,b,w,M,D,B){co[f]={name:jt(b),ob:dr(w,M),hb:dr(D,B),Db:[]}},i:function(f,b,w,M,D,B,re,G,J,te){co[f].Db.push({Ib:jt(b),wb:w,ub:dr(M,D),vb:B,Ab:re,zb:dr(G,J),Bb:te})},H:function(f,b){b=jt(b),si(f,{Nb:!0,name:b,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},d:function(f,b,w,M){f=dc[f],b=up(b),w=hc(w),f(b,w,null,M)},N:dp,z:function(f){return f===0?Zi(pp()):(f=hc(f),Zi(pp()[f]))},c:function(f,b){b=wA(f,b);for(var w=b[0],M=w.name+"_$"+b.slice(1).map(function(te){return te.name}).join("_")+"$",D=["retType"],B=[w],re="",G=0;G<f-1;++G)re+=(G!==0?", ":"")+"arg"+G,D.push("argType"+G),B.push(b[1+G]);M="return function "+no("methodCaller_"+M)+`(handle, name, destructors, args) {
`;var J=0;for(G=0;G<f-1;++G)M+="    var arg"+G+" = argType"+G+".readValueFromPointer(args"+(J?"+"+J:"")+`);
`,J+=b[G+1].argPackAdvance;for(M+="    var rv = handle[name]("+re+`);
`,G=0;G<f-1;++G)b[G+1].deleteObject&&(M+="    argType"+G+".deleteObject(arg"+G+`);
`);return w.Nb||(M+=`    return retType.toWireType(destructors, rv);
`),D.push(M+`};
`),f=cp(D).apply(null,B),SA(f)},n:function(f){4<f&&(Or[f].yb+=1)},x:function(f,b,w,M){f=up(f);var D=gp[b];if(!D){D="";for(var B=0;B<b;++B)D+=(B!==0?", ":"")+"arg"+B;var re="return function emval_allocator_"+b+`(constructor, argTypes, args) {
`;for(B=0;B<b;++B)re+="var argType"+B+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+B+'], "parameter '+B+`");
var arg`+B+" = argType"+B+`.readValueFromPointer(args);
args += argType`+B+`['argPackAdvance'];
`;D=new Function("requireRegisteredType","Module","__emval_register",re+("var obj = new constructor("+D+`);
return __emval_register(obj);
}
`))(go,n,Zi),gp[b]=D}return D(f,w,M)},O:function(){return Zi([])},F:function(f){return Zi(hc(f))},L:function(f,b){return f=go(f,"_emval_take_value"),f=f.readValueFromPointer(b),Zi(f)},m:function(){ii()},B:function(f,b,w){at.copyWithin(f,b,b+w)},C:function(){ii("OOM")},D:function(){return 0},y:function(){},o:function(f,b,w,M){for(var D=0,B=0;B<w;B++){for(var re=ct[b+8*B>>2],G=ct[b+(8*B+4)>>2],J=0;J<G;J++){var te=at[re+J],ie=PA[f];te===0||te===10?((f===1?z:L)(de(ie,0)),ie.length=0):ie.push(te)}D+=G}return ct[M>>2]=D,0},memory:j,K:function(){},r:function(){},J:function(){},I:function(){},A:function(){},table:X},mp=function(){function f(D){n.asm=D.exports,Mt--,n.monitorRunDependencies&&n.monitorRunDependencies(Mt),Mt==0&&_r&&(D=_r,_r=null,D())}function b(D){f(D.instance)}function w(D){return uA().then(function(B){return WebAssembly.instantiate(B,M)}).then(D,function(B){L("failed to asynchronously prepare wasm: "+B),ii(B)})}var M={a:CA};if(Mt++,n.monitorRunDependencies&&n.monitorRunDependencies(Mt),n.instantiateWasm)try{return n.instantiateWasm(M,f)}catch(D){return L("Module.instantiateWasm callback failed with error: "+D),!1}return function(){if(R||typeof WebAssembly.instantiateStreaming!="function"||Zu()||qs("file://")||typeof fetch!="function")return w(b);fetch(ws,{credentials:"same-origin"}).then(function(D){return WebAssembly.instantiateStreaming(D,M).then(b,function(B){L("wasm streaming compile failed: "+B),L("falling back to ArrayBuffer instantiation"),w(b)})})}(),{}}();n.asm=mp;var vp=n.___wasm_call_ctors=function(){return(vp=n.___wasm_call_ctors=n.asm.P).apply(null,arguments)};n.__Z6ToCmdsRK6SkPath=function(){return(n.__Z6ToCmdsRK6SkPath=n.asm.Q).apply(null,arguments)},n.__Z8FromCmdsmi=function(){return(n.__Z8FromCmdsmi=n.asm.R).apply(null,arguments)},n.__Z7NewPathv=function(){return(n.__Z7NewPathv=n.asm.S).apply(null,arguments)},n.__Z8CopyPathRK6SkPath=function(){return(n.__Z8CopyPathRK6SkPath=n.asm.T).apply(null,arguments)},n.__Z6EqualsRK6SkPathS1_=function(){return(n.__Z6EqualsRK6SkPathS1_=n.asm.U).apply(null,arguments)},n.__Z11ToSVGStringRK6SkPath=function(){return(n.__Z11ToSVGStringRK6SkPath=n.asm.V).apply(null,arguments)},n.__Z13FromSVGStringNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE=function(){return(n.__Z13FromSVGStringNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE=n.asm.W).apply(null,arguments)},n.__Z13ApplySimplifyR6SkPath=function(){return(n.__Z13ApplySimplifyR6SkPath=n.asm.X).apply(null,arguments)},n.__Z11ApplyPathOpR6SkPathRKS_8SkPathOp=function(){return(n.__Z11ApplyPathOpR6SkPathRKS_8SkPathOp=n.asm.Y).apply(null,arguments)},n.__Z10MakeFromOpRK6SkPathS1_8SkPathOp=function(){return(n.__Z10MakeFromOpRK6SkPathS1_8SkPathOp=n.asm.Z).apply(null,arguments)},n.__Z14ResolveBuilderR11SkOpBuilder=function(){return(n.__Z14ResolveBuilderR11SkOpBuilder=n.asm._).apply(null,arguments)},n.__Z8ToCanvasRK6SkPathN10emscripten3valE=function(){return(n.__Z8ToCanvasRK6SkPathN10emscripten3valE=n.asm.$).apply(null,arguments)},n.__Z8ToPath2DRK6SkPath=function(){return(n.__Z8ToPath2DRK6SkPath=n.asm.aa).apply(null,arguments)};var _i=n._free=function(){return(_i=n._free=n.asm.ba).apply(null,arguments)},uc=n._malloc=function(){return(uc=n._malloc=n.asm.ca).apply(null,arguments)},yp=n.___getTypeName=function(){return(yp=n.___getTypeName=n.asm.da).apply(null,arguments)};n.___embind_register_native_and_builtin_types=function(){return(n.___embind_register_native_and_builtin_types=n.asm.ea).apply(null,arguments)},n.dynCall_vi=function(){return(n.dynCall_vi=n.asm.fa).apply(null,arguments)},n.dynCall_iiiii=function(){return(n.dynCall_iiiii=n.asm.ga).apply(null,arguments)},n.dynCall_ii=function(){return(n.dynCall_ii=n.asm.ha).apply(null,arguments)},n.dynCall_i=function(){return(n.dynCall_i=n.asm.ia).apply(null,arguments)},n.dynCall_viifffffffff=function(){return(n.dynCall_viifffffffff=n.asm.ja).apply(null,arguments)},n.dynCall_vifffffi=function(){return(n.dynCall_vifffffi=n.asm.ka).apply(null,arguments)},n.dynCall_vifffff=function(){return(n.dynCall_vifffff=n.asm.la).apply(null,arguments)},n.dynCall_viffffff=function(){return(n.dynCall_viffffff=n.asm.ma).apply(null,arguments)},n.dynCall_vifffffffi=function(){return(n.dynCall_vifffffffi=n.asm.na).apply(null,arguments)},n.dynCall_viff=function(){return(n.dynCall_viff=n.asm.oa).apply(null,arguments)},n.dynCall_viffff=function(){return(n.dynCall_viffff=n.asm.pa).apply(null,arguments)},n.dynCall_vii=function(){return(n.dynCall_vii=n.asm.qa).apply(null,arguments)},n.dynCall_iii=function(){return(n.dynCall_iii=n.asm.ra).apply(null,arguments)},n.dynCall_iifff=function(){return(n.dynCall_iifff=n.asm.sa).apply(null,arguments)},n.dynCall_iiffi=function(){return(n.dynCall_iiffi=n.asm.ta).apply(null,arguments)},n.dynCall_vifffffffff=function(){return(n.dynCall_vifffffffff=n.asm.ua).apply(null,arguments)},n.dynCall_iiii=function(){return(n.dynCall_iiii=n.asm.va).apply(null,arguments)},n.dynCall_viii=function(){return(n.dynCall_viii=n.asm.wa).apply(null,arguments)},n.dynCall_viiii=function(){return(n.dynCall_viiii=n.asm.xa).apply(null,arguments)},n.dynCall_fif=function(){return(n.dynCall_fif=n.asm.ya).apply(null,arguments)},n.dynCall_viif=function(){return(n.dynCall_viif=n.asm.za).apply(null,arguments)},n.dynCall_fi=function(){return(n.dynCall_fi=n.asm.Aa).apply(null,arguments)},n.dynCall_viiifffffffff=function(){return(n.dynCall_viiifffffffff=n.asm.Ba).apply(null,arguments)},n.dynCall_viifffffi=function(){return(n.dynCall_viifffffi=n.asm.Ca).apply(null,arguments)},n.dynCall_viifffff=function(){return(n.dynCall_viifffff=n.asm.Da).apply(null,arguments)},n.dynCall_viiffffff=function(){return(n.dynCall_viiffffff=n.asm.Ea).apply(null,arguments)},n.dynCall_viifffffffi=function(){return(n.dynCall_viifffffffi=n.asm.Fa).apply(null,arguments)},n.dynCall_viiff=function(){return(n.dynCall_viiff=n.asm.Ga).apply(null,arguments)},n.dynCall_viiffff=function(){return(n.dynCall_viiffff=n.asm.Ha).apply(null,arguments)},n.dynCall_iiifff=function(){return(n.dynCall_iiifff=n.asm.Ia).apply(null,arguments)},n.dynCall_iiiffi=function(){return(n.dynCall_iiiffi=n.asm.Ja).apply(null,arguments)},n.dynCall_fii=function(){return(n.dynCall_fii=n.asm.Ka).apply(null,arguments)},n.dynCall_iiffff=function(){return(n.dynCall_iiffff=n.asm.La).apply(null,arguments)},n.dynCall_fiif=function(){return(n.dynCall_fiif=n.asm.Ma).apply(null,arguments)},n.dynCall_iiif=function(){return(n.dynCall_iiif=n.asm.Na).apply(null,arguments)},n.dynCall_vifii=function(){return(n.dynCall_vifii=n.asm.Oa).apply(null,arguments)},n.dynCall_viifd=function(){return(n.dynCall_viifd=n.asm.Pa).apply(null,arguments)},n.dynCall_viid=function(){return(n.dynCall_viid=n.asm.Qa).apply(null,arguments)},n.dynCall_viddi=function(){return(n.dynCall_viddi=n.asm.Ra).apply(null,arguments)},n.dynCall_iidi=function(){return(n.dynCall_iidi=n.asm.Sa).apply(null,arguments)},n.dynCall_viffi=function(){return(n.dynCall_viffi=n.asm.Ta).apply(null,arguments)},n.dynCall_fffff=function(){return(n.dynCall_fffff=n.asm.Ua).apply(null,arguments)},n.dynCall_viiiii=function(){return(n.dynCall_viiiii=n.asm.Va).apply(null,arguments)},n.dynCall_viiiiiffii=function(){return(n.dynCall_viiiiiffii=n.asm.Wa).apply(null,arguments)},n.dynCall_iiiiii=function(){return(n.dynCall_iiiiii=n.asm.Xa).apply(null,arguments)},n.dynCall_iiiiiii=function(){return(n.dynCall_iiiiiii=n.asm.Ya).apply(null,arguments)},n.dynCall_iidiiii=function(){return(n.dynCall_iidiiii=n.asm.Za).apply(null,arguments)},n.dynCall_jiji=function(){return(n.dynCall_jiji=n.asm._a).apply(null,arguments)},n.asm=mp;var mo;_r=function f(){mo||pc(),mo||(_r=f)};function pc(){function f(){if(!mo&&(mo=!0,n.calledRun=!0,!Z)){if(_(V),_(H),o(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var b=n.postRun.shift();pe.unshift(b)}_(pe)}}if(!(0<Mt)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Ue();_(P),0<Mt||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),f()},1)):f())}}if(n.run=pc,n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return pc(),s.ready}}();a.exports=r})(Wu);var tc=Wu.exports;class rA extends K{template(){return`
        <div class="object-items single">
          <div>
            ${E("LayerTreeProperty")}
          </div>
        </div>
    `}}class iA extends K{components(){return{AssetItems:Yu,LibraryItems:Xu,CustomAssets:Uu,SingleObjectItems:rA}}initState(){return{selectedIndexValue:2}}afterRender(){this.$el.toggle(this.$config.get("editor.design.mode")==="item")}[se("$el")](){return{style:{display:this.$config.get("editor.design.mode")==="item"?"block":"none"}}}template(){return`
      <div class='layer-tab'>
        <div class="tab number-tab side-tab side-tab-left" data-selected-value="2" ref="$tab">
          <div class="tab-header" ref="$header">   
            <div class="tab-item selected" data-value="2" data-direction="right" data-tooltip="${this.$i18n("app.tab.title.layers")}">
              <label>${O("layers")}</label>
            </div>            
            <div class='tab-item' data-value='6' data-direction="right"  data-tooltip="${this.$i18n("app.tab.title.components")}">
              <label>${O("plugin")}</label>
            </div>            

            ${this.$injectManager.getTargetUI("leftbar.tab").filter(t=>t.class.designMode&&t.class.designMode.includes("item")).map(t=>{const{value:r,title:i}=t.class;let s=t.class.icon;return ae[t.class.icon]&&(s=O(t.class.icon)),`
                <div class='tab-item' data-value='${r}' data-direction="right"  data-tooltip="${i}">
                  <label>${s||i}</label>
                </div>
              `})}

          </div>
          <div class="tab-body" ref="$body">
            <div class="tab-content selected" data-value="2">
              ${E("SingleObjectItems")}
            </div>
            <div class='tab-content' data-value='6'>
              ${E("CustomAssets")}
            </div>
            ${this.$injectManager.getTargetUI("leftbar.tab").filter(t=>t.class.designMode&&t.class.designMode.includes("item")).map(t=>{const{value:r}=t.class;return`
                <div class='tab-content' data-value='${r}'>
                  ${this.$injectManager.generate(`leftbar.tab.${r}`)}
                </div>
              `})}
          </div>
        </div>
      </div>
    `}[F("$header .tab-item:not(.extra-item)")](t){var r=t.$dt.attr("data-value");this.state.selectedIndexValue!==r&&(this.$el.$$(`[data-value="${this.state.selectedIndexValue}"]`).forEach(i=>i.removeClass("selected")),this.$el.$$(`[data-value="${r}"]`).forEach(i=>i.addClass("selected")),this.setState({selectedIndexValue:r},!1))}}class sA extends K{afterRender(){this.$el.toggle(this.$config.get("editor.design.mode")==="item")}[se("$el")](){return{style:{display:this.$config.get("editor.design.mode")==="item"?"block":"none"}}}template(){return`
      <div class="feature-control inspector">
        <div>
              ${E("AlignmentProperty")}
              ${E("DepthProperty")}
              ${E("PathToolProperty")}
              ${E("PositionProperty")}
              ${E("AppearanceProperty")}

              ${this.$injectManager.generate("inspector.tab.style")}                             
              <div class='empty'></div>
        </div>
      </div>
    `}}var aD="";class aA extends K{template(){return`
            <button class="elf--switch-left-panel" data-tooltip="Toggle left panel" data-direction="top left">${O("switch_left")}</button>
        `}[F()](){this.$config.toggle("show.left.panel")}}var nD="";class nA extends K{template(){return`
            <button class="elf--switch-right-panel" data-tooltip="Toggle right panel" data-direction="top right">${O("switch_right")}</button>
        `}[F()](){this.$config.toggle("show.right.panel")}}var oD="";class oA extends vl{initialize(){super.initialize(),(async()=>{this.$pathkit.registerPathKit(await tc())})()}afterRender(){super.afterRender(),this.$config.init("editor.layout.elements",this.refs),this.emit("load.json",this.opt.data)}components(){return{LayerTab:Jj,ItemLayerTab:iA,ToolBar:GM,StatusBar:CM,Inspector:wM,SingleInspector:sA,BodyPanel:yd,PopupManager:yl,KeyboardManager:bl,IconManager:Jl,SwitchLeftPanel:aA,SwitchRightPanel:nA}}getPlugins(){return Hu}initState(){return{leftSize:340,rightSize:280,bottomSize:0,lastBottomSize:150}}template(){const t=this.$config.is("editor.design.mode","item");return`
      <div class="easylogic-studio designeditor">
        <div class="layout-main">
          <div class='layout-top' ref='$top'>
            ${E("ToolBar")}
          </div>
          <div class="layout-middle" ref='$middle'>      
            <div class="layout-body" ref='$bodyPanel'>
              ${E("BodyPanel",{ref:"$bodyPanelView"})}
            </div>                           
            <div class='layout-left' ref='$leftPanel'>
              ${E(t?"ItemLayerTab":"LayerTab")}
            </div>
            <div class="layout-right" ref='$rightPanel'>
              ${E(t?"SingleInspector":"Inspector")}
            </div>
            <div class='splitter' ref='$splitter'></div>            
          </div>
          ${E("KeyboardManager")}
        </div>
        ${E("PopupManager")}
        ${E("IconManager")}
      </div>
    `}[se("$el")](){return{"data-design-mode":this.$config.get("editor.design.mode")}}[se("$splitter")](){let t=this.state.leftSize;return this.$config.false("show.left.panel")&&(t=0),{style:{left:t}}}[se("$leftArrow")](){let t=this.state.leftSize;return this.$config.false("show.left.panel")&&(t=0),{style:{left:t}}}[se("$leftPanel")](){let t="0px",r=this.state.leftSize,i=this.state.bottomSize;return this.$config.false("show.left.panel")&&(t=`-${this.state.leftSize}px`),{style:{left:t,width:r,bottom:i}}}[se("$rightPanel")](){let t=0,r=this.state.bottomSize;return this.$config.false("show.right.panel")&&(t=-this.state.rightSize),{style:{right:t,bottom:r}}}[se("$rightArrow")](){let t=6,r=this.state.bottomSize;return this.$config.true("show.right.panel")&&(t=this.state.rightSize+6),{style:{right:t,bottom:r}}}[se("$bodyPanel")](){let t=this.state.leftSize,r=this.state.rightSize,i=this.state.bottomSize;return this.$config.false("show.left.panel")&&(t=0),this.$config.false("show.right.panel")&&(r=0),{style:{left:t,right:r,bottom:i}}}[xe("$splitter")+Ve("moveSplitter")+ze("moveEndSplitter")](){this.minSize=this.$theme("left_size"),this.maxSize=this.$theme("left_max_size"),this.leftSize=g.parse(this.refs.$splitter.css("left")).value,this.refs.$splitter.addClass("selected")}moveSplitter(t){this.setState({leftSize:Math.max(Math.min(this.leftSize+t,this.maxSize),this.minSize)})}moveEndSplitter(){this.refs.$splitter.removeClass("selected")}refresh(){this.bindData("$el"),this.bindData("$splitter"),this.bindData("$headerPanel"),this.bindData("$leftPanel"),this.bindData("$rightPanel"),this.bindData("$toggleRightButton"),this.bindData("$toggleLeftButton"),this.bindData("$bodyPanel"),this.bindData("$footerPanel"),this.emit("resizeEditor")}[_t("show.left.panel")](){this.refresh(),this.nextTick(()=>{this.emit("resizeCanvas")})}[_t("show.right.panel")](){this.refresh(),this.nextTick(()=>{this.emit("resizeCanvas")})}[_t("editor.design.mode")](){this.bindData("$el")}[Pr("$middle")+Pe](t){}[wr("$middle")+Pe](t){}[I("toggle.fullscreen")](){this.$el.toggleFullscreen()}[I("getLayoutElement")](t){ye(t)&&t(this.refs)}}var lD="";class lA extends vl{initialize(){super.initialize(),(async()=>{this.$pathkit.registerPathKit(await tc())})(),this.emit("load.json",this.opt.data)}components(){return{BodyPanel:yd,PopupManager:yl,KeyboardManager:bl,IconManager:Jl}}getPlugins(){return Hu}template(){return`
      <div class="easylogic-studio whiteboard">
        <div class="layout-main">
          <div class="layout-middle" ref='$middle'>      
            <div class="layout-body" ref='$bodyPanel'>
              ${E("BodyPanel",{ref:"$bodyPanelView"})}
            </div>                           
          </div>
          ${E("KeyboardManager")}
        </div>
        ${E("PopupManager")}
        ${E("IconManager")}
      </div>
    `}afterRender(){super.afterRender(),this.$config.init("editor.layout.elements",this.refs)}[Pr("$middle")+Pe](t){}[wr("$middle")+Pe](t){}[I("toggle.fullscreen")](){this.$el.toggleFullscreen()}[I("getLayoutElement")](t){ye(t)&&t(this.refs)}}var cA=[Ud,Gu,cu,Dd,wu,Hd,pu],cD="";class hA extends vl{initialize(){super.initialize(),(async()=>{this.$pathkit.registerPathKit(await tc())})()}components(){return{PopupManager:yl,KeyboardManager:bl,IconManager:Jl}}getPlugins(){return cA}createEditorInstance(){return new ml({ignoreManagers:["ShortCutManager"]})}afterRender(){super.afterRender(),this.$config.init("editor.layout.elements",this.refs)}initState(){return{inspector:this.props.inspector||[],onChange:this.props.onChange||(()=>!0),open:!(Yr(this.props.open)&&this.props.open===!1),leftSize:340,rightSize:280,bottomSize:0,lastBottomSize:150}}template(){return`
      <div class="easylogic-studio dataeditor" ref="$bodyPanel">
        <div class="layout-main" ref="$main">
            <div class='control-view' ref="$body"></div>
            <div class='close' ref="$close">Close Controls</div>        
        </div>

        ${E("KeyboardManager")}        
        ${E("PopupManager")}
        ${E("IconManager")}
      </div>
    `}[F("$close")](){this.setState({open:!this.state.open},!1),this.bindData("$main"),this.bindData("$close")}[se("$main")](){return{"data-open-status":this.state.open}}[se("$close")](){return{text:this.state.open?"Close Controls":"Open Controls"}}[U("$body")](){const t=this.state.inspector;return E("ComponentEditor",{ref:"$comp",inspector:t,onchange:"changeComponent"})}getValue(){return this.children.$comp.getValue()}[Q("changeComponent")](t,r){ye(this.state.onChange)&&this.emit(this.state.onChange,this,t,r)}}var dA=v({EditorInstance:ml,Length:g,EditorElement:K,HTMLLayerRender:ri,Component:Yn,MenuItem:$t,BaseProperty:De,ObjectProperty:Ua,PathParser:W,Segment:$e,Point:Y,icon:ae},Zg),Ku=v({createDesignEditor(a={type:"white"}){return $n(oA,a)},createDataEditor(a={}){return $n(hA,a)},createPageBuilder(a={}){return $n(PageBuilder,a)},createWhiteBoard(a={}){return $n(lA,a)}},dA);return Ku});
